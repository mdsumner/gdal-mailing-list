From noreply at qgis.org  Fri Sep  1 00:30:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Sep 2017 07:30:22 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20170901073022.22502.64966@320558c5528b>


Plugin AequilibraE approval by pcav.
The plugin version "[1102] AequilibraE 0.3.5.5" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From SSchmidt at gfi-gis.de  Fri Sep  1 02:23:35 2017
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Fri, 1 Sep 2017 11:23:35 +0200
Subject: [QGIS-Developer] crash qgis 2.18.11 in vs2010 - HEAP CORRUPTION
	DETECTED
Message-ID: <OFFA6C7EC2.287CD9FB-ONC125818E.0031F9E2-C125818E.00342F09@gfi-gis.de>

since compiling my plugin for qgis 2.18.11 in vs2010 on win7 the plugin 
and qgis crashes in seemly any action because of memory leaks :-o

"sometimes" while loading a postgis layer i'll get a message from 
geos::util::IllegalArgumentException at memory...

but while loading a shape I get the error: HEAP CORRUPTION DETECTED: after 
Normal block(#553) at 0x0722F4B8. CRT detected that the application wrote 
to memory after end of heap buffer.

I also got the message QgsFillSymbol::scalar deleting destructor

I searched the web for a solution... one day it worked a bit better after 
having /MT in compiling 
I don't know why it helped, but now this doesn't work either...

What could it be? Could anyone help me?


Freundliche Grüße aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft für Informationstechnologie mbH
Philipp-Rosenthal-Straße 9
D-04103 Leipzig
Geschäftsführer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
ESRI Solution Partner      und       ER Mapper Reseller
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de  und  www.themenbrowser.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170901/89702c88/attachment.html>

From jef at norbit.de  Fri Sep  1 02:54:55 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri, 1 Sep 2017 11:54:55 +0200
Subject: [QGIS-Developer] crash qgis 2.18.11 in vs2010 - HEAP CORRUPTION
 DETECTED
In-Reply-To: <OFFA6C7EC2.287CD9FB-ONC125818E.0031F9E2-C125818E.00342F09@gfi-gis.de>
References: <OFFA6C7EC2.287CD9FB-ONC125818E.0031F9E2-C125818E.00342F09@gfi-gis.de>
Message-ID: <20170901095455.eu6x663tfjv2xoyy@norbit.de>

Hi Susann,

On Fri, 01. Sep 2017 at 11:23:35 +0200, SSchmidt at gfi-gis.de wrote:
> since compiling my plugin for qgis 2.18.11 in vs2010 on win7 the plugin 
> and qgis crashes in seemly any action because of memory leaks :-o
> 
> "sometimes" while loading a postgis layer i'll get a message from 
> geos::util::IllegalArgumentException at memory...

Are you using the GEOS C++ API directly or is this from calling QGIS 
methods?


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170901/eed37652/attachment.sig>

From noreply at qgis.org  Fri Sep  1 03:58:43 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Sep 2017 10:58:43 -0000
Subject: [QGIS-Developer] Plugin [1318] GPS Position Lag Correction QGIS
 Plugin approval notification.
Message-ID: <20170901105843.22502.15555@320558c5528b>


Plugin GPS Position Lag Correction QGIS Plugin approval by pcav.
The plugin version "[1318] GPS Position Lag Correction QGIS Plugin 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/qgis-position-lag-correction-plugin/

From noreply at qgis.org  Fri Sep  1 03:59:13 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Sep 2017 10:59:13 -0000
Subject: [QGIS-Developer] Plugin [1317] Safecast Plugin approval
	notification.
Message-ID: <20170901105913.17583.53677@320558c5528b>


Plugin Safecast Plugin approval by pcav.
The plugin version "[1317] Safecast Plugin 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/qgis-safecast-plugin/

From SSchmidt at gfi-gis.de  Fri Sep  1 04:02:31 2017
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Fri, 1 Sep 2017 13:02:31 +0200
Subject: [QGIS-Developer] crash qgis 2.18.11 in vs2010 - HEAP CORRUPTION
 DETECTED
Message-ID: <OFB4FD672C.7C61DC6C-ONC125818E.003C92BC-C125818E.003D3DC8@gfi-gis.de>

Hallo Jürgen,

I think not I use it directly, because I'm only including h-files from 
qgis and qt:

#include "QGISFunc.h"
#include <QtDebug>
#include <QtCore>
#include <QMessageBox>
#include <QFile>
#include <QFileInfo>
#include <QDomDocument>
#include <QDomElement>
#include <QDateTime>
#include <QXmlStreamAttributes>
#include <QToolBar>
#include <QAction>
#include <QHostInfo>
#include <qgsrasterlayer.h>
#include <qgsmapcanvas.h>
#include <qgsmaplayerregistry.h>
#include <qgslegendinterface.h>
#include <qgsrasterrenderer.h>
#include <qgsrendererv2.h>
#include "qgsdatasourceuri.h"
#include <qgsvectorlayer.h>
#include <qgscategorizedsymbolrendererv2.h>
#include <qgsgraduatedsymbolrendererv2.h>
#include <qgssinglesymbolrendererv2.h>
#include <qgsrulebasedrendererv2.h>
#include <qgscategorizedsymbolrendererv2.h>
#include "qgssymbollayerv2.h"
#include <qgsmarkersymbollayerv2.h>
#include <qgslinesymbollayerv2.h>
#include <qgsfillsymbollayerv2.h>
#include <qgsvectorcolorrampv2.h>
#include <qgsvectordataprovider.h>
#include <qgsattributeaction.h>
#include <qgsapplication.h>
#include <qgsfield.h>
#include <qgslabel.h>
#include <qgspallabeling.h>
#include <qgsrulebasedlabeling.h>
#include <QgsMapLayerActionRegistry.h>
#include <qgsproject.h>
#include <qgslayertreeview.h>
#include <qgslayertreegroup.h>
#include <qgslayertreelayer.h>
#include <qgslayertreenode.h>
#include <qgspainteffect.h>
#include <qgsgloweffect.h>
#include <qgseffectstack.h>
#include <qgsrastershader.h>
#include <qgscolorrampshader.h>
#include <qgssinglebandpseudocolorrenderer.h>
#include <qgspalettedrasterrenderer.h>
#include <qgsrastertransparency.h>

#include <windows.h>
#include <stdio.h>
#include <lmcons.h>



Susann




Von:    Jürgen E. Fischer <jef at norbit.de>
An:     qgis-developer at lists.osgeo.org
Datum:  01.09.2017 11:58
Betreff:        Re: [QGIS-Developer] crash qgis 2.18.11 in vs2010 - HEAP 
CORRUPTION DETECTED
Gesendet von:   "QGIS-Developer" <qgis-developer-bounces at lists.osgeo.org>



Hi Susann,

On Fri, 01. Sep 2017 at 11:23:35 +0200, SSchmidt at gfi-gis.de wrote:
> since compiling my plugin for qgis 2.18.11 in vs2010 on win7 the plugin 
> and qgis crashes in seemly any action because of memory leaks :-o
> 
> "sometimes" while loading a postgis layer i'll get a message from 
> geos::util::IllegalArgumentException at memory...

Are you using the GEOS C++ API directly or is this from calling QGIS 
methods?


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. 
+49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. 
+49-4931-918175-50
Software Engineer           D-26506 Norden             
http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on 
FreeNode
[Anhang "signature.asc" gelöscht von Susann Schmidt/gfimbh] 
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170901/c5fbb204/attachment-0001.html>

From noreply at qgis.org  Fri Sep  1 04:26:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Sep 2017 11:26:34 -0000
Subject: [QGIS-Developer] Plugin [1314] CZML Generator approval notification.
Message-ID: <20170901112634.21782.59123@320558c5528b>


Plugin CZML Generator approval by pcav.
The plugin version "[1314] CZML Generator 0.8 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/czml_generator/

From landa.martin at gmail.com  Fri Sep  1 04:45:44 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Fri, 1 Sep 2017 13:45:44 +0200
Subject: [QGIS-Developer] Plugin [1310] Safecast Plugin approval
	notification.
In-Reply-To: <5d8b86fa-849a-5bb1-ea43-83d024c7d76d@faunalia.it>
References: <20170824161105.28493.17781@320558c5528b>
 <CA+Ei1OceLFs26w7TE46nQ8bePLd4=UW=uOY9uhjnazdZdh4JBw@mail.gmail.com>
 <CA+Ei1Oe8CqXJW-V4MwmNOeOHx4HGKVmWxneYetEPYqC5TG_3gg@mail.gmail.com>
 <5d8b86fa-849a-5bb1-ea43-83d024c7d76d@faunalia.it>
Message-ID: <CA+Ei1Oe+Lz+j0Z1CdenD4Nbsj22p9KGT8d7Z_zWBMcfxk=E7+g@mail.gmail.com>

Hi,

2017-08-25 8:51 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:
> you can just ulpoad a new, fixed version.

done. Thanks. Ma

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From noreply at qgis.org  Fri Sep  1 06:49:36 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Sep 2017 13:49:36 -0000
Subject: [QGIS-Developer] Plugin [1305] CalidadCAR approval notification.
Message-ID: <20170901134936.17583.54575@320558c5528b>


Plugin CalidadCAR approval by pcav.
The plugin version "[1305] CalidadCAR 0.3" is now approved
Link: http://plugins.qgis.org/plugins/CalidadCAR/

From manisandro at gmail.com  Sat Sep  2 12:19:14 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Sat, 2 Sep 2017 21:19:14 +0200
Subject: [QGIS-Developer] OGR: sqlite with subset query,
 QgsOgrFeatureIterator::fetchFeature with SpatialFilterRect always
 returns feature with id 0
Message-ID: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>

Hi

I'm debugging an issue with a sqlite layer, loaded with a subset query, 
where the attribute values in the identify results table don't match the 
ones presented in the feature form (if auto show feature form is enabled).

Upon closer inspection, I noticed that the feature id of the feature 
picked by the feature info tool is always 0 (though it's remaining 
attributes are correct), this leads to the feature form displaying the 
attributes of feature fid=0, hence the mistmatch.

Stepping through the featureRequest performed by the identify tool shows 
that indeed OGR_F_GetFID( fet ) in QgsOgrFeatureIterator::readFeature 
always returns zero.

To isolate the problem, I created a small standalone program which 
replicates what the feature iterator does as a result of the identify 
query (see below), the odd thing is that there it works, and the fid is 
the expected one.

Is there some other global logic implemented in the ogr provider which 
could cause this behaviour?

Thanks
Sandro

-- 

   const char layerName[] = "S2Q_N_K_BW_F_HAUPT_F";
   const char filePath[] = "test.sqlite";
   const char subsetQuery[] = "SELECT * FROM \"s2q_n_k_bw_f_haupt_f\" 
WHERE \"OBJECTTYPE\"=6901";

   double xmin = 493070.74903165392;
   double xmax = 493071.83368281781;
   double ymin = 5763998.7917103767;
   double ymax = 5763997.707059212;

   // Specific to test.sqlite
   int fieldCount = 41;
   bool firstAttrIsFid = false;
   std::vector<int> fetchAttributes;
   for(int i = 0; i < fieldCount; ++i) {
     fetchAttributes.push_back(i);
   }

   OGRDataSourceH ds = OGROpen( filePath, FALSE, NULL );
   OGRLayerH ogrLayer = OGR_DS_GetLayerByName( ds, layerName );

   OGR_DS_ExecuteSQL( ds, subsetQuery, NULL, NULL );


   if ( OGR_L_TestCapability( ogrLayer, OLCIgnoreFields ) )
   {
     std::vector<const char *> ignoredFields;
     OGRFeatureDefnH featDefn = OGR_L_GetLayerDefn( ogrLayer );
     for ( int i = ( firstAttrIsFid ? 1 : 0 ); i < fieldCount; i++ )
     {
       if ( std::find(fetchAttributes.begin(), fetchAttributes.end(), i) 
== fetchAttributes.end() )
       {
         // add to ignored fields
         ignoredFields.push_back( OGR_Fld_GetNameRef( 
OGR_FD_GetFieldDefn( featDefn, firstAttrIsFid ? i - 1 : i ) ) );
       }
     }

     ignoredFields.push_back( "OGR_STYLE" ); // not used by QGIS
     ignoredFields.push_back( nullptr );

     OGR_L_SetIgnoredFields( ogrLayer, ignoredFields.data() );
   }

   OGR_L_SetSpatialFilterRect( ogrLayer, xmin, ymin, xmax, ymax );

   OGR_L_SetAttributeFilter( ogrLayer, nullptr );

   OGR_L_ResetReading( ogrLayer );

   OGRFeatureH fet;
   while ( ( fet = OGR_L_GetNextFeature( ogrLayer ) ) ) {
     fprintf(stdout, "FID: %lld\n", OGR_F_GetFID( fet ));
     OGR_F_Destroy( fet );
   }

   OGR_DS_Destroy( ds );


From even.rouault at spatialys.com  Sat Sep  2 12:49:00 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 02 Sep 2017 21:49:00 +0200
Subject: [QGIS-Developer] OGR: sqlite with subset query,
	QgsOgrFeatureIterator::fetchFeature with SpatialFilterRect always
	returns feature with id 0
In-Reply-To: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>
References: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>
Message-ID: <2310933.BSNKgXZh30@even-i700>

Hi Sandro,

> I'm debugging an issue with a sqlite layer, loaded with a subset query,
> where the attribute values in the identify results table don't match the
> ones presented in the feature form (if auto show feature form is enabled).
> 
> Upon closer inspection, I noticed that the feature id of the feature
> picked by the feature info tool is always 0 (though it's remaining
> attributes are correct), this leads to the feature form displaying the
> attributes of feature fid=0, hence the mistmatch.
> 
> Stepping through the featureRequest performed by the identify tool shows
> that indeed OGR_F_GetFID( fet ) in QgsOgrFeatureIterator::readFeature
> always returns zero.
> 
> To isolate the problem, I created a small standalone program which
> replicates what the feature iterator does as a result of the identify
> query (see below), the odd thing is that there it works, and the fid is
> the expected one.
> 
> Is there some other global logic implemented in the ogr provider which
> could cause this behaviour?

There's a flow in your reproducer. You run OGR_DS_ExecuteSQL( ds, subsetQuery, NULL, 
NULL ); but do not use the resulting result layer. So basically this has no effect on the rest of 
your code (except a memory leak).

But, besides that issue, I suspect the behaviour you describ is the one you get with just 
running

$ ogrinfo poly.sqlite  -sql "select * from poly where ogc_fid = 10"
INFO: Open of `poly.sqlite'
      using driver `SQLite' successful.

Layer name: SELECT
Geometry: Unknown (any)
Feature Count: 1
[...]
<=== no FID field identified
Geometry Column = GEOMETRY
area: Real (0.0)
eas_id: Integer64 (0.0)
prfedea: String (0.0)
OGRFeature(SELECT):0    <==== FID
  area (Real) = 5268.813
  eas_id (Integer64) = 170
  prfedea (String) = 35043413
  POLYGON ((479750.6875 4764702.0,479658.59375 4764670.0,479640.09375 
4764721.0,479735.90625 4764752.0,479750.6875 4764702.0))

compared to

$ ogrinfo poly.sqlite -fid 10 -al
INFO: Open of `poly.sqlite'
      using driver `SQLite' successful.

Layer name: poly
Geometry: Polygon
[...]
FID Column = ogc_fid   <== FID field identified
Geometry Column = GEOMETRY
area: Real (0.0)
eas_id: Integer64 (0.0)
prfedea: String (0.0)
OGRFeature(poly):10  <== FID
  area (Real) = 5268.813
  eas_id (Integer64) = 170
  prfedea (String) = 35043413
  POLYGON ((479750.6875 4764702.0,479658.59375 4764670.0,479640.09375 
4764721.0,479735.90625 4764752.0,479750.6875 4764702.0))


The reason is that when issuing a SQL request there's no guarantee that it will result in a set 
of rows with unique identifiers (think of a join that could make several rows appear twice), so 
the FID on the result set of ExecuteSQL() are just a sequence starting at 0.

If you know that your request will result in a result set with real FIDs you can use the 
following trick to get the FID column as a regular column (renaming the ogc_fid as something 
else, since there's special logic to ignre "ogc_fid as a regular field. If your FID field name is 
already something else than this default "ogc_fid", then you'll already get it as a regular 
field)

$ ogrinfo poly.sqlite  -sql "select ogc_fid as this_is_the_fid, * from poly where ogc_fid = 10"
INFO: Open of `poly.sqlite'
      using driver `SQLite' successful.

Layer name: SELECT
Geometry: Unknown (any)
[...]
Geometry Column = GEOMETRY
this_is_the_fid: Integer (0.0)
area: Real (0.0)
eas_id: Integer64 (0.0)
prfedea: String (0.0)
OGRFeature(SELECT):0
  this_is_the_fid (Integer) = 10
  area (Real) = 5268.813
  eas_id (Integer64) = 170
  prfedea (String) = 35043413
  POLYGON ((479750.6875 4764702.0,479658.59375 4764670.0,479640.09375 
4764721.0,479735.90625 4764752.0,479750.6875 4764702.0))


Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170902/a81259f6/attachment.html>

From manisandro at gmail.com  Sat Sep  2 14:27:32 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Sat, 2 Sep 2017 23:27:32 +0200
Subject: [QGIS-Developer] OGR: sqlite with subset query,
 QgsOgrFeatureIterator::fetchFeature with SpatialFilterRect always
 returns feature with id 0
In-Reply-To: <2310933.BSNKgXZh30@even-i700>
References: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>
 <2310933.BSNKgXZh30@even-i700>
Message-ID: <46eccdbf-8834-2152-f24a-08349a86ef73@gmail.com>

Hi Even


On 02.09.2017 21:49, Even Rouault wrote:
>
> There's a flow in your reproducer. You run OGR_DS_ExecuteSQL( ds, 
> subsetQuery, NULL, NULL ); but do not use the resulting result layer. 
> So basically this has no effect on the rest of your code (except a 
> memory leak).
>
Ah yes indeed!
>
> [...]
>
> The reason is that when issuing a SQL request there's no guarantee 
> that it will result in a set of rows with unique identifiers (think of 
> a join that could make several rows appear twice), so the FID on the 
> result set of ExecuteSQL() are just a sequence starting at 0.
>
Ok makes sense. Though as far as QGIS goes, is there a case where a 
subset query can result in duplicates?
>
> If you know that your request will result in a result set with real 
> FIDs you can use the following trick to get the FID column as a 
> regular column (renaming the ogc_fid as something else, since there's 
> special logic to ignre "ogc_fid as a regular field. If your FID field 
> name is already something else than this default "ogc_fid", then 
> you'll already get it as a regular field)
>
> $ ogrinfo poly.sqlite -sql "select ogc_fid as this_is_the_fid, * from 
> poly where ogc_fid = 10"
>
> INFO: Open of `poly.sqlite'
>
> using driver `SQLite' successful.
>
> Layer name: SELECT
>
> Geometry: Unknown (any)
>
> [...]
>
> Geometry Column = GEOMETRY
>
> this_is_the_fid: Integer (0.0)
>
> area: Real (0.0)
>
> eas_id: Integer64 (0.0)
>
> prfedea: String (0.0)
>
> OGRFeature(SELECT):0
>
> this_is_the_fid (Integer) = 10
>
> area (Real) = 5268.813
>
> eas_id (Integer64) = 170
>
> prfedea (String) = 35043413
>
> POLYGON ((479750.6875 4764702.0,479658.59375 4764670.0,479640.09375 
> 4764721.0,479735.90625 4764752.0,479750.6875 4764702.0))
>
Something like this [1] seems to fix the issue, don't know if it's the 
best way forward though?

Thanks
Sandro

[1] 
https://github.com/manisandro/QGIS/commit/e95eea6dfa3e7ce7d0c0796352fa39943be80031

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170902/5b46a302/attachment-0001.html>

From even.rouault at spatialys.com  Sat Sep  2 14:34:46 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 02 Sep 2017 23:34:46 +0200
Subject: [QGIS-Developer] OGR: sqlite with subset query,
	QgsOgrFeatureIterator::fetchFeature with SpatialFilterRect always
	returns feature with id 0
In-Reply-To: <46eccdbf-8834-2152-f24a-08349a86ef73@gmail.com>
References: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>
 <2310933.BSNKgXZh30@even-i700>
 <46eccdbf-8834-2152-f24a-08349a86ef73@gmail.com>
Message-ID: <2008461.PqfPNMJal8@even-i700>

> 
> Ok makes sense. Though as far as QGIS goes, is there a case where a
> subset query can result in duplicates?

Could happen. The code currently handles the possibility where subsetString() is 
called with a completely custom SELECT statement, so potentially doing crazy things.
> 
> Something like this [1] seems to fix the issue, don't know if it's the
> best way forward though?

I've left a few comments in the commit

Even


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170902/a6dd338b/attachment.html>

From tom.chadwin at nnpa.org.uk  Sun Sep  3 01:26:40 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Sun, 3 Sep 2017 01:26:40 -0700 (MST)
Subject: [QGIS-Developer] GeoJSON null fix in LTR?
In-Reply-To: <79c5d2fb-fe39-ba0f-1d91-cf9cdeb8f556@opengis.ch>
References: <1503744026461-5332616.post@n6.nabble.com>
 <79c5d2fb-fe39-ba0f-1d91-cf9cdeb8f556@opengis.ch>
Message-ID: <1504427200633-0.post@n6.nabble.com>

Ah, great. Thanks, Matthias (and Even, of course). Apologies that I don't
know how to find out the following myself: which point release has that
commit? 

Thanks again

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From manisandro at gmail.com  Sun Sep  3 14:39:19 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Sun, 3 Sep 2017 23:39:19 +0200
Subject: [QGIS-Developer] OGR: sqlite with subset query,
 QgsOgrFeatureIterator::fetchFeature with SpatialFilterRect always
 returns feature with id 0
In-Reply-To: <2008461.PqfPNMJal8@even-i700>
References: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>
 <2310933.BSNKgXZh30@even-i700>
 <46eccdbf-8834-2152-f24a-08349a86ef73@gmail.com>
 <2008461.PqfPNMJal8@even-i700>
Message-ID: <f489903a-c2a6-10a4-c4bf-93d080e3ad1f@gmail.com>


On 02.09.2017 23:34, Even Rouault wrote:
>
> >
>
> > Ok makes sense. Though as far as QGIS goes, is there a case where a
>
> > subset query can result in duplicates?
>
> Could happen. The code currently handles the possibility where 
> subsetString() is called with a completely custom SELECT statement, so 
> potentially doing crazy things.
>
Ok, so if we only do this for non-select queries, we should be safe?
>
> >
>
> > Something like this [1] seems to fix the issue, don't know if it's the
>
> > best way forward though?
>
> I've left a few comments in the commit
>
Many thanks. I've pushed a revised version at [1]. I'm in doubt whether 
it is really worth the hassle to hide the orig_ogr_fid column in the 
fields, together with the firstFieldIsFid it looks like it could make 
things very fragile... As far as I can tell, just the modifications in 
[1] without the extra logic should be pretty robust.

[1] 
https://github.com/manisandro/QGIS/commit/82a56eaa5a48a10a1a656657cefd84b619eae3f2

Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170903/66de71f3/attachment.html>

From even.rouault at spatialys.com  Sun Sep  3 14:50:19 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 03 Sep 2017 23:50:19 +0200
Subject: [QGIS-Developer] OGR: sqlite with subset query,
	QgsOgrFeatureIterator::fetchFeature with SpatialFilterRect always
	returns feature with id 0
In-Reply-To: <f489903a-c2a6-10a4-c4bf-93d080e3ad1f@gmail.com>
References: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>
 <2008461.PqfPNMJal8@even-i700>
 <f489903a-c2a6-10a4-c4bf-93d080e3ad1f@gmail.com>
Message-ID: <3000318.2dUFVtybLa@even-i700>

> Ok, so if we only do this for non-select queries, we should be safe?

Yes. I suspect the case where a full SELECT statement is used are rare, and people able to do 
that can tweak the request. It would be unreliable to try modifying it.

> 
> > > Something like this [1] seems to fix the issue, don't know if it's the
> > > 
> > > best way forward though?
> > 
> > I've left a few comments in the commit
> 
> Many thanks. I've pushed a revised version at [1].

I've added a couple suggestions for more robustness, but looks good to me.

> I'm in doubt whether
> it is really worth the hassle to hide the orig_ogr_fid column in the
> fields, together with the firstFieldIsFid it looks like it could make
> things very fragile...

Yes the current logic is rather fragile, so if you don't mind having the field both as FID and a 
regular field, this is indeed simpler.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170903/9692e057/attachment.html>

From nyall.dawson at gmail.com  Sun Sep  3 16:10:42 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 4 Sep 2017 09:10:42 +1000
Subject: [QGIS-Developer] What to do with QgsTransectSample for 3.0?
In-Reply-To: <CAJsc-7xGvMwtjB_mauDL6_2_O+=6e15O7d9HaPUNkSikAX2jTg@mail.gmail.com>
References: <CAB28AsgNPA+ujRj7+1OmVtQQjacpD8v-hucf-m32qv24W9yG4w@mail.gmail.com>
 <CAJsc-7xGvMwtjB_mauDL6_2_O+=6e15O7d9HaPUNkSikAX2jTg@mail.gmail.com>
Message-ID: <CAB28AshjWEcVg+_JxHCBC=fRUsD8sjXyNMu+G04nCBdyaX=p9Q@mail.gmail.com>

On 28 August 2017 at 21:32, Victor Olaya <volayaf at gmail.com> wrote:
> I would advice to go with 1
>
> It's not likely anyone will use this class, so it's the safest option, IMHO

PR here: https://github.com/qgis/QGIS/pull/5116

Nyall

>
> 2017-08-26 15:15 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:
>> Hi all,
>>
>> I've just been doing some cleanups on the analysis lib - see
>> https://github.com/qgis/QGIS/pull/5078, and I'm now wondering what we
>> should do with the QgsTransectSample class.
>>
>> Earlier in the cycle Alex and Victor did a bunch of work exposing a
>> lot of the analysis lib functionality via processing. But this class
>> is not used anywhere - it's not utilised by the master c++ code, and
>> is not exposed via processing either. So we're carrying it around only
>> for potential use by 3rd party plugins/scripts.
>>
>> BUT:
>> - it's unmaintained, and has had no work done (beside compilation
>> fixes) in the recent past
>> - it's outdated, and has a bunch of antique assumptions (like always
>> writing to shapefile outputs)
>> - there's 0 unit tests
>> - there's almost no documentation on exactly WHAT this class does, and
>> how it should be correctly used. And without use in the master
>> codebase to model from, I can't see how a 3rd party can be expected to
>> utilise this code correctly anyway.
>>
>> Options I see are:
>> 1. remove it and avoid the issues
>> 2. get someone who knows how transect sampling SHOULD work to look
>> over the current logic, take up maintenance, add unit tests, and
>> expose this functionality via processing
>> 3. leave it in it's current form with unknown quality and unexposed
>> functionality
>>
>> Thoughts? I personally see 3 as not an option, and while 2 would be
>> nice, I honestly can't see anyone picking this up.
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From SSchmidt at gfi-gis.de  Mon Sep  4 01:03:23 2017
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Mon, 4 Sep 2017 10:03:23 +0200
Subject: [QGIS-Developer] WG: Re: crash qgis 2.18.11 in vs2010 - HEAP
 CORRUPTION DETECTED
Message-ID: <OF201F7F83.4174209A-ONC1258191.002A1687-C1258191.002CD78F@gfi-gis.de>

If I compile my plugin with Option Runtime Library:
Multi-threaded Debug DLL (/MDd)
at first sight it works fine, but while closing QGIS, QGIS crashes with 
'HEAP CORRUPTION DETECTED'


Then if my plugin is 
Compiled with Option Runtime Library:
Multi-threaded DLL (/MD)


I get the error:

>       msvcr100.dll!free(void * pBlock)  Line 51       C

during deleting the symollayer from this code:

QgsSymbolV2 * p_Symbol(0);
bool oFirst=true;

...

if (oFirst)
{
        QgsFillSymbolV2* p_FSymbol = new 
QgsFillSymbolV2();//QgsSymbolLayerV2List()
        p_Symbol = dynamic_cast <QgsSymbolV2 *>(p_FSymbol);
        qDebug()<<QString::number((int)p_Symbol,16);
        qDebug()<<QString::number(p_Symbol->symbolLayerCount());
        if (p_Symbol->symbolLayerCount()==1)
                p_Symbol->deleteSymbolLayer(0);
        oFirst=false;
}
...

Output:

"1847bca0" 
"1" 
First-chance exception at 0x77e4e43e in qgis-bin.exe: 0xC0000005: Access 
violation reading location 0x4d46be13.
Unhandled exception at 0x77e4e43e in qgis-bin.exe: 0xC0000005: Access 
violation reading location 0x4d46be13.


Could this correspond with the message: "QgsFillSymbol::scalar deleting 
destructor"?
It's horrible for me with the pointers :-o
I create the FillSymbol with "new" in my DLL but something's going wrong 
by deleting.
Any hope for me?

Freundliche Grüße aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft für Informationstechnologie mbH
Philipp-Rosenthal-Straße 9
D-04103 Leipzig
Geschäftsführer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
ESRI Solution Partner      und       ER Mapper Reseller
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de  und  www.themenbrowser.de

----- Weitergeleitet von Susann Schmidt/gfimbh am 04.09.2017 09:46 -----

Von:    Susann Schmidt/gfimbh
An:     QGIS-Developer at lists.osgeo.org
Datum:  01.09.2017 13:02
Betreff:        Re: [QGIS-Developer] crash qgis 2.18.11 in vs2010 - HEAP 
CORRUPTION DETECTED


Hallo Jürgen,

I think not I use it directly, because I'm only including h-files from 
qgis and qt:

#include "QGISFunc.h"
#include <QtDebug>
#include <QtCore>
#include <QMessageBox>
#include <QFile>
#include <QFileInfo>
#include <QDomDocument>
#include <QDomElement>
#include <QDateTime>
#include <QXmlStreamAttributes>
#include <QToolBar>
#include <QAction>
#include <QHostInfo>
#include <qgsrasterlayer.h>
#include <qgsmapcanvas.h>
#include <qgsmaplayerregistry.h>
#include <qgslegendinterface.h>
#include <qgsrasterrenderer.h>
#include <qgsrendererv2.h>
#include "qgsdatasourceuri.h"
#include <qgsvectorlayer.h>
#include <qgscategorizedsymbolrendererv2.h>
#include <qgsgraduatedsymbolrendererv2.h>
#include <qgssinglesymbolrendererv2.h>
#include <qgsrulebasedrendererv2.h>
#include <qgscategorizedsymbolrendererv2.h>
#include "qgssymbollayerv2.h"
#include <qgsmarkersymbollayerv2.h>
#include <qgslinesymbollayerv2.h>
#include <qgsfillsymbollayerv2.h>
#include <qgsvectorcolorrampv2.h>
#include <qgsvectordataprovider.h>
#include <qgsattributeaction.h>
#include <qgsapplication.h>
#include <qgsfield.h>
#include <qgslabel.h>
#include <qgspallabeling.h>
#include <qgsrulebasedlabeling.h>
#include <QgsMapLayerActionRegistry.h>
#include <qgsproject.h>
#include <qgslayertreeview.h>
#include <qgslayertreegroup.h>
#include <qgslayertreelayer.h>
#include <qgslayertreenode.h>
#include <qgspainteffect.h>
#include <qgsgloweffect.h>
#include <qgseffectstack.h>
#include <qgsrastershader.h>
#include <qgscolorrampshader.h>
#include <qgssinglebandpseudocolorrenderer.h>
#include <qgspalettedrasterrenderer.h>
#include <qgsrastertransparency.h>

#include <windows.h>
#include <stdio.h>
#include <lmcons.h>



Susann




Von:    Jürgen E. Fischer <jef at norbit.de>
An:     qgis-developer at lists.osgeo.org
Datum:  01.09.2017 11:58
Betreff:        Re: [QGIS-Developer] crash qgis 2.18.11 in vs2010 - HEAP 
CORRUPTION DETECTED
Gesendet von:   "QGIS-Developer" <qgis-developer-bounces at lists.osgeo.org>



Hi Susann,

On Fri, 01. Sep 2017 at 11:23:35 +0200, SSchmidt at gfi-gis.de wrote:
> since compiling my plugin for qgis 2.18.11 in vs2010 on win7 the plugin 
> and qgis crashes in seemly any action because of memory leaks :-o
> 
> "sometimes" while loading a postgis layer i'll get a message from 
> geos::util::IllegalArgumentException at memory...

Are you using the GEOS C++ API directly or is this from calling QGIS 
methods?


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. 
+49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. 
+49-4931-918175-50
Software Engineer           D-26506 Norden             
http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on 
FreeNode
[Anhang "signature.asc" gelöscht von Susann Schmidt/gfimbh] 
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170904/88ec613c/attachment-0001.html>

From manisandro at gmail.com  Mon Sep  4 01:56:37 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Mon, 4 Sep 2017 10:56:37 +0200
Subject: [QGIS-Developer] OGR: sqlite with subset query,
 QgsOgrFeatureIterator::fetchFeature with SpatialFilterRect always
 returns feature with id 0
In-Reply-To: <3000318.2dUFVtybLa@even-i700>
References: <00f2ff13-1a1a-fa43-7a26-9c5a12e93512@gmail.com>
 <2008461.PqfPNMJal8@even-i700>
 <f489903a-c2a6-10a4-c4bf-93d080e3ad1f@gmail.com>
 <3000318.2dUFVtybLa@even-i700>
Message-ID: <a496212b-1309-1d75-ce10-dca3a1b15aca@gmail.com>


On 03.09.2017 23:50, Even Rouault wrote:
>
> > Ok, so if we only do this for non-select queries, we should be safe?
>
> Yes. I suspect the case where a full SELECT statement is used are 
> rare, and people able to do that can tweak the request. It would be 
> unreliable to try modifying it.
>
> >
>
> > > > Something like this [1] seems to fix the issue, don't know if 
> it's the
>
> > > >
>
> > > > best way forward though?
>
> > >
>
> > > I've left a few comments in the commit
>
> >
>
> > Many thanks. I've pushed a revised version at [1].
>
> I've added a couple suggestions for more robustness, but looks good to me.
>
Thanks, filed PR: https://github.com/qgis/QGIS/pull/5122

Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170904/bc147524/attachment.html>

From nyall.dawson at gmail.com  Mon Sep  4 18:42:30 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Sep 2017 11:42:30 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
	Singlepart to Multipart algorithm
In-Reply-To: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
Message-ID: <CAB28AsjQai57re03SKa=teFRyBA8S45QSv=nzwWSsvdA7pdyZA@mail.gmail.com>

On 27 June 2017 at 09:28, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> Hi all,
>
> As you may be aware, I've been working on rebuilding the backend of
> Processing in c++ and refining how it operates.
>
> As part of this I'd like to clear up the list of existing algorithms
> and also refine how they behave. This list of "QGIS" algorithms has
> grown organically during the 2.x cycle, and there's now numerous
> oddities in the selection of available algorithms and their options.
>
> This discussion relates to the "Singlepart to Multipart" algorithm. I'd like to:
>
> 1. drop the option for "unique ID field". This option is used to
> 'collect' the geometries from features with matching ID  together into
> a single output geometry. I'd like to remove this option and make the
> "Singlepart to Multipart" algorithm purely upgrade geometry types from
> single part to multipart, without adding any extra parts or collecting
> geometries. So basically the algorithm would upgrade single parts to
> collections containing just a single part - the equivalent of PostGIS'
> ST_Multi function.
>
> 2. Add a new algorithm "Collect parts" which does what the option in
> Singlepart to Multipart used to do. This would collect all features
> with matching fields (you could select more than one field - unlike
> the current Singlepart to Multipart option) and output collection
> features containing these geometries. Just like dissolve, but without
> the dissolving of overlapping parts.
>

This proposal is now implemented in https://github.com/qgis/QGIS/pull/5129

Nyall

From nyall.dawson at gmail.com  Mon Sep  4 18:56:56 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Sep 2017 11:56:56 +1000
Subject: [QGIS-Developer] Processing 3.0: Dropping the 'Select by attribute
	sum' alg?
Message-ID: <CAB28AshyScVrU+me5VJtbBXCEqtcVy4kQ73HfSVFCd_R3kPe=Q@mail.gmail.com>

Hi all,

I'd like to propose that in processing in QGIS 3.0 we drop the 'Select
by Attribute Sum' algorithm. As you're probably aware we've been
cleaning up and streamlining the preinstalled algorithms that are
provided with QGIS, and I think this algorithm is a good candidate for
removal.

(For clarification: this algorithm takes an input vector layer, field
selection and numeric value. It requires a single selected feature is
present in the input layer. It then loops through all neighbouring
features and 'dissolves' them into the selected feature. As soon as
the total attribute sum for all dissolved features exceeds the entered
value, the algorithm is complete)

My thoughts are:
- The use case for this algorithm is very unclear for users - the name
does not describe what the algorithm does, and there's no help
documentation available for the algorithm either. Given this I suspect
that the algorithm is not being put into use.
- The algorithm needs enhancement to be more useful. There's no logic
in place which dictates how neighbouring features are chosen to
dissolve into the selected feature (it's effectively random - you're
just as likely to get a huge narrow polygon stretching across a map as
you are a nice compact cluster). To be more useful the algorithm would
need logic to either minimise the area of the dissolved feature, or
minimise the total number of dissolved features, or ... ?

I think this algorithm should be moved to a processing plugin until
it's matured and had these shortcomings addressed.

Any thoughts?

Nyall

From nyall.dawson at gmail.com  Mon Sep  4 19:32:46 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Sep 2017 12:32:46 +1000
Subject: [QGIS-Developer] QEP 103: No more Q_FOREACH in master
Message-ID: <CAB28AshK+NEX1K+Zzr+fCBs51w9hhUd9mBNMZ8+8XsbSCSZ8Wg@mail.gmail.com>

Hi all,

Please see https://github.com/qgis/QGIS-Enhancement-Proposals/issues/103
for a newly submitted QEP regarding blocking use of Q_FOREACH for all
new code being introduced into QGIS master branch.

Thoughts and comments welcome!

Nyall

From rdmailings at duif.net  Tue Sep  5 00:05:34 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 5 Sep 2017 09:05:34 +0200
Subject: [QGIS-Developer] Processing 3.0: Dropping the 'Select by
 attribute sum' alg?
In-Reply-To: <CAB28AshyScVrU+me5VJtbBXCEqtcVy4kQ73HfSVFCd_R3kPe=Q@mail.gmail.com>
References: <CAB28AshyScVrU+me5VJtbBXCEqtcVy4kQ73HfSVFCd_R3kPe=Q@mail.gmail.com>
Message-ID: <dd29e267-7624-64e8-8004-792143993c22@duif.net>

On 05-09-17 03:56, Nyall Dawson wrote:

> I think this algorithm should be moved to a processing plugin until
> it's matured and had these shortcomings addressed.
> 
> Any thoughts?

To me it sounds like a typical 'user-solution'. So unless this is a
generic knows gis-algorithm (eg also available in esri stuff), I would
think to make it a (user)-algo/plugin too

Regards,

Richard Duivenvoorde

From alexander.bruy at gmail.com  Tue Sep  5 00:16:54 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue, 5 Sep 2017 10:16:54 +0300
Subject: [QGIS-Developer] Processing 3.0: Dropping the 'Select by
 attribute sum' alg?
In-Reply-To: <CAB28AshyScVrU+me5VJtbBXCEqtcVy4kQ73HfSVFCd_R3kPe=Q@mail.gmail.com>
References: <CAB28AshyScVrU+me5VJtbBXCEqtcVy4kQ73HfSVFCd_R3kPe=Q@mail.gmail.com>
Message-ID: <CALuHMPCuAPbE4pyOX8GUVL-k-a_Ro61qnnA_vzf_1NQWDJOUew@mail.gmail.com>

Let's remove it. It can be distributed as 3rd party plugin.

2017-09-05 4:56 GMT+03:00 Nyall Dawson <nyall.dawson at gmail.com>:
> Hi all,
>
> I'd like to propose that in processing in QGIS 3.0 we drop the 'Select
> by Attribute Sum' algorithm. As you're probably aware we've been
> cleaning up and streamlining the preinstalled algorithms that are
> provided with QGIS, and I think this algorithm is a good candidate for
> removal.
>
> (For clarification: this algorithm takes an input vector layer, field
> selection and numeric value. It requires a single selected feature is
> present in the input layer. It then loops through all neighbouring
> features and 'dissolves' them into the selected feature. As soon as
> the total attribute sum for all dissolved features exceeds the entered
> value, the algorithm is complete)
>
> My thoughts are:
> - The use case for this algorithm is very unclear for users - the name
> does not describe what the algorithm does, and there's no help
> documentation available for the algorithm either. Given this I suspect
> that the algorithm is not being put into use.
> - The algorithm needs enhancement to be more useful. There's no logic
> in place which dictates how neighbouring features are chosen to
> dissolve into the selected feature (it's effectively random - you're
> just as likely to get a huge narrow polygon stretching across a map as
> you are a nice compact cluster). To be more useful the algorithm would
> need logic to either minimise the area of the dissolved feature, or
> minimise the total number of dissolved features, or ... ?
>
> I think this algorithm should be moved to a processing plugin until
> it's matured and had these shortcomings addressed.
>
> Any thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From noreply at qgis.org  Tue Sep  5 05:52:51 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 05 Sep 2017 12:52:51 -0000
Subject: [QGIS-Developer] Plugin [183] InaSAFE approval notification.
Message-ID: <20170905125251.26173.37071@320558c5528b>


Plugin InaSAFE approval by timlinux.
The plugin version "[183] InaSAFE 4.2.0" is now approved
Link: http://plugins.qgis.org/plugins/inasafe/

From noreply at qgis.org  Tue Sep  5 22:31:51 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Sep 2017 05:31:51 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20170906053151.11371.69160@320558c5528b>


Plugin Lat Lon Tools approval by pcav.
The plugin version "[1035] Lat Lon Tools 0.9.5" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From noreply at qgis.org  Tue Sep  5 22:32:03 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Sep 2017 05:32:03 -0000
Subject: [QGIS-Developer] Plugin [1052] Projestions approval notification.
Message-ID: <20170906053203.16520.39453@320558c5528b>


Plugin Projestions approval by pcav.
The plugin version "[1052] Projestions 0.2.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Projestions/

From noreply at qgis.org  Tue Sep  5 23:05:26 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Sep 2017 06:05:26 -0000
Subject: [QGIS-Developer] Plugin [1322] Gisquick plugin approval
	notification.
Message-ID: <20170906060526.11371.39137@320558c5528b>


Plugin Gisquick plugin approval by pcav.
The plugin version "[1322] Gisquick plugin 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/gisquick-qgis-plugin/

From noreply at qgis.org  Tue Sep  5 23:06:05 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Sep 2017 06:06:05 -0000
Subject: [QGIS-Developer] Plugin [1321] ClosestPoint approval notification.
Message-ID: <20170906060605.11299.15948@320558c5528b>


Plugin ClosestPoint approval by pcav.
The plugin version "[1321] ClosestPoint 0.0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ClosestPoint/

From noreply at qgis.org  Wed Sep  6 01:19:50 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Sep 2017 08:19:50 -0000
Subject: [QGIS-Developer] Plugin [1153] VDL Tools approval notification.
Message-ID: <20170906081950.11299.53800@320558c5528b>


Plugin VDL Tools approval by pcav.
The plugin version "[1153] VDL Tools 0.6 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/VDLTools/

From landa.martin at gmail.com  Wed Sep  6 02:53:40 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Wed, 6 Sep 2017 11:53:40 +0200
Subject: [QGIS-Developer] which version is LTR
Message-ID: <CA+Ei1OcxxpCVJmu51GXuaeHh2WKtj=d__uT2Bn3TFzHOYnE3oQ@mail.gmail.com>

Hi,

sorry, but I am confused. The website (upper-left corner) [1] says
that (a new) LTR is 2.18.12. The roadmap [2] says that first 2.18 LTR
will be 2.18.15. Download page for Windows [3] also claims that 2.14
is LTR. So? Thanks for clarification, Ma

[1] https://www.qgis.org/en/site/index.html
[2] https://www.qgis.org/en/site/getinvolved/development/roadmap.html
[3] https://www.qgis.org/en/site/forusers/download.html

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From delazj at gmail.com  Wed Sep  6 03:10:38 2017
From: delazj at gmail.com (DelazJ)
Date: Wed, 6 Sep 2017 12:10:38 +0200
Subject: [QGIS-Developer] which version is LTR
In-Reply-To: <CA+Ei1OcxxpCVJmu51GXuaeHh2WKtj=d__uT2Bn3TFzHOYnE3oQ@mail.gmail.com>
References: <CA+Ei1OcxxpCVJmu51GXuaeHh2WKtj=d__uT2Bn3TFzHOYnE3oQ@mail.gmail.com>
Message-ID: <CAECJsSpMQ_MeuvUEEd42dFngQQ61uxoW+MbRaa=Y+tYG9x4oXw@mail.gmail.com>

Hi,

We currently have two LTRs: 2.14 (officially since 2.14.4) and 2.18
(since 2.18.8 actually - line LTR). We need an overlapping period for
these two releases and they both get updates currently. But once QGIS
3 is released, only 2.18 remains LTR and gets updates. Also please
read the short text above the schedule table; I hope it might explain
things.
About the download page, not always easy to remind all the places
information are put, I guess... should be read new and old LTR.

Hope that helps,
Harrissou

2017-09-06 11:53 GMT+02:00 Martin Landa <landa.martin at gmail.com>:
> Hi,
>
> sorry, but I am confused. The website (upper-left corner) [1] says
> that (a new) LTR is 2.18.12. The roadmap [2] says that first 2.18 LTR
> will be 2.18.15. Download page for Windows [3] also claims that 2.14
> is LTR. So? Thanks for clarification, Ma
>
> [1] https://www.qgis.org/en/site/index.html
> [2] https://www.qgis.org/en/site/getinvolved/development/roadmap.html
> [3] https://www.qgis.org/en/site/forusers/download.html
>
> --
> Martin Landa
> http://geo.fsv.cvut.cz/gwiki/Landa
> http://gismentors.cz/mentors/landa
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From jef at norbit.de  Wed Sep  6 03:22:28 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 6 Sep 2017 12:22:28 +0200
Subject: [QGIS-Developer] which version is LTR
In-Reply-To: <CA+Ei1OcxxpCVJmu51GXuaeHh2WKtj=d__uT2Bn3TFzHOYnE3oQ@mail.gmail.com>
References: <CA+Ei1OcxxpCVJmu51GXuaeHh2WKtj=d__uT2Bn3TFzHOYnE3oQ@mail.gmail.com>
Message-ID: <20170906102228.eycfo52umui32z7d@norbit.de>

Hi Martin,

On Wed, 06. Sep 2017 at 11:53:40 +0200, Martin Landa wrote:
> sorry, but I am confused. The website (upper-left corner) [1] says
> that (a new) LTR is 2.18.12. The roadmap [2] says that first 2.18 LTR
> will be 2.18.15. Download page for Windows [3] also claims that 2.14
> is LTR. So? Thanks for clarification, Ma

Well, it just says that 2.14 is in the long-term package repositories.  2.18
will replace it there as soon there is a new regular release.

Otherwise - while the new ltr is also the latest release - we'd have no updates
in the regular repository or the same version in both repositories (which would
be a waste and maybe even introduce initial problems of a new release into the
long-term repository).


Jürgen
-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170906/b05a8c3c/attachment.sig>

From landa.martin at gmail.com  Wed Sep  6 03:57:20 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Wed, 6 Sep 2017 12:57:20 +0200
Subject: [QGIS-Developer] which version is LTR
In-Reply-To: <CAECJsSpMQ_MeuvUEEd42dFngQQ61uxoW+MbRaa=Y+tYG9x4oXw@mail.gmail.com>
References: <CA+Ei1OcxxpCVJmu51GXuaeHh2WKtj=d__uT2Bn3TFzHOYnE3oQ@mail.gmail.com>
 <CAECJsSpMQ_MeuvUEEd42dFngQQ61uxoW+MbRaa=Y+tYG9x4oXw@mail.gmail.com>
Message-ID: <CA+Ei1OeTK-+A3gQ6-jToOC2MfXwGt2nN7gCwietj1nu-fjzabA@mail.gmail.com>

Hi,

2017-09-06 12:10 GMT+02:00 DelazJ <delazj at gmail.com>:
> We currently have two LTRs: 2.14 (officially since 2.14.4) and 2.18
> (since 2.18.8 actually - line LTR). We need an overlapping period for

thanks for explanation. Ma

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From noreply at qgis.org  Wed Sep  6 04:54:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Sep 2017 11:54:27 -0000
Subject: [QGIS-Developer] Plugin [1282] Spanish Inspire Catastral Downloader
 approval notification.
Message-ID: <20170906115427.11299.44026@320558c5528b>


Plugin Spanish Inspire Catastral Downloader approval by pcav.
The plugin version "[1282] Spanish Inspire Catastral Downloader 0.5" is now approved
Link: http://plugins.qgis.org/plugins/Spanish_Inspire_Catastral_Downloader/

From noreply at qgis.org  Wed Sep  6 10:34:13 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Sep 2017 17:34:13 -0000
Subject: [QGIS-Developer] Plugin [1066] Isogeo approval notification.
Message-ID: <20170906173413.11371.21850@320558c5528b>


Plugin Isogeo approval by pcav.
The plugin version "[1066] Isogeo 1.6.0-beta1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/isogeo_search_engine/

From noreply at qgis.org  Wed Sep  6 22:31:04 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Sep 2017 05:31:04 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20170907053104.16520.68191@320558c5528b>


Plugin AequilibraE approval by pcav.
The plugin version "[1102] AequilibraE 0.3.5.7" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From noreply at qgis.org  Wed Sep  6 23:45:02 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Sep 2017 06:45:02 -0000
Subject: [QGIS-Developer] Plugin [1312] CDAU Downloader approval
	notification.
Message-ID: <20170907064502.16520.9597@320558c5528b>


Plugin CDAU Downloader approval by pcav.
The plugin version "[1312] CDAU Downloader 0.3" is now approved
Link: http://plugins.qgis.org/plugins/CDAUDownloader/

From noreply at qgis.org  Thu Sep  7 02:17:30 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Sep 2017 09:17:30 -0000
Subject: [QGIS-Developer] Plugin [1145] ClusterPoints approval notification.
Message-ID: <20170907091730.11371.52487@320558c5528b>


Plugin ClusterPoints approval by pcav.
The plugin version "[1145] ClusterPoints 1.5" is now approved
Link: http://plugins.qgis.org/plugins/ClusterPoints/

From even.rouault at spatialys.com  Thu Sep  7 04:54:50 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 07 Sep 2017 13:54:50 +0200
Subject: [QGIS-Developer] Shapefile corruption issue affecting GDAL >= 2.1.3
	and GDAL >= 2.2.0
Message-ID: <2122814.rrV7QohKk9@even-i700>

Hi,

I want to notify those using OGR to do edition of shapefiles (modifications of 
existing shape / SetFeature() + creation of new shape / CreateFeature()) that a 
bug was found in a particular scenario: if you edit the last shape of the file to be 
larger than its previous version (addition of a new vertex of a line/polygon), and 
then add a new shape (in the same editing session), the previously last shape will 
be corruped (the new last shape will start in the middle of it), and likely new 
added shapes in the same editing session will corrupt their previous shape.

See https://trac.osgeo.org/gdal/ticket/7031 for details and patch

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170907/2444fbd0/attachment.html>

From noreply at qgis.org  Thu Sep  7 06:51:23 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Sep 2017 13:51:23 -0000
Subject: [QGIS-Developer] Plugin [1300] QEPANET approval notification.
Message-ID: <20170907135123.11371.56829@320558c5528b>


Plugin QEPANET approval by pcav.
The plugin version "[1300] QEPANET 0.92" is now approved
Link: http://plugins.qgis.org/plugins/qepanet/

From noreply at qgis.org  Thu Sep  7 07:06:06 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Sep 2017 14:06:06 -0000
Subject: [QGIS-Developer] Plugin [1316] Location Lab QGIS Plugin approval
	notification.
Message-ID: <20170907140606.11371.16411@320558c5528b>


Plugin Location Lab QGIS Plugin approval by pcav.
The plugin version "[1316] Location Lab QGIS Plugin 1.0.6" is now approved
Link: http://plugins.qgis.org/plugins/location_lab/

From delazj at gmail.com  Thu Sep  7 09:14:01 2017
From: delazj at gmail.com (DelazJ)
Date: Thu, 7 Sep 2017 18:14:01 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
Message-ID: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>

Hi,
I know there has been a lot of discussion about this subject and sorry
to revive it.
I'd like to propose to reword the "Trusted Plugin" text in the Plugin
Manager into "Trusted Author" or "Trusted Plugin Author".
>From what I've understood from the different discussions, it will
better reflect what it is and will avoid misunderstanding from users.
Reading "Trusted plugin" makes people think that this plugin is better
than other "featured duplicate" plugins and, worse, that the behavior
of the plugin is approved by QGIS Project. They could also think that
this is the recommended and bug free plugin from QGIS Project for what
they want to do, which IMHO is wrong: we do not certify the plugin, we
certify we know the author.

I know there have been literature on what trusted means, some blog
post (unfortunately now) hidden on the Internet and even Official doc
doesn't mention this tag (though I'm less and less convinced that
people do read manuals) so a new user may not know what it's about.
A case I have in mind is the Table Manager plugin. For years, it has
been the main tool to refactor a table, did well his job (Thanks
Borys) and its use was advised all over the web. A newcomer will jump
on it without clearly reading its low-level description stating that
it's now a deprecated plugin, because the plugin is green and there's
a green band at the top stating "This plugin is trusted".

My initial intention was to ask to remove that statement (because end
user doesn't care who has plugin approval right) but I think it's also
nice to highlight those people/company that do the communitarian "job"
(reason why they became trusted) and another wording will, I'm
convinced, better serve that.
Thanks.

Regards,
Harrissou

From anitagraser at gmx.at  Thu Sep  7 10:07:59 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 7 Sep 2017 19:07:59 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
Message-ID: <CAFFV8Fh2D6SP7WdVT7GxUfKqYEPiV0eukaPgkVULYmDS4KctAw@mail.gmail.com>

Hi Harrissou,

On Thu, Sep 7, 2017 at 6:14 PM, DelazJ <delazj at gmail.com> wrote:

> Hi,
> I know there has been a lot of discussion about this subject and sorry
> to revive it.
> I'd like to propose to reword the "Trusted Plugin" text in the Plugin
> Manager into "Trusted Author" or "Trusted Plugin Author".
>

​Yeah, I think that would make sense.​


> I know there have been literature on what trusted means, some blog
> post (unfortunately now) hidden on the Internet
>

​For reference:​
​http://blog.qgis.org/2016/08/26/what-are-trusted-plugins/
​

​Regards,
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170907/f0dfce3c/attachment.html>

From madmanwoo at gmail.com  Thu Sep  7 15:51:51 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 8 Sep 2017 08:51:51 +1000
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CAFFV8Fh2D6SP7WdVT7GxUfKqYEPiV0eukaPgkVULYmDS4KctAw@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <CAFFV8Fh2D6SP7WdVT7GxUfKqYEPiV0eukaPgkVULYmDS4KctAw@mail.gmail.com>
Message-ID: <CAAi8Yg8PKk-odwADE4SSx07PyZw-g9v32M98t0dBOt4AzDRkfg@mail.gmail.com>

+1 That makes sense to me.

On Fri, Sep 8, 2017 at 3:07 AM, Anita Graser <anitagraser at gmx.at> wrote:

> Hi Harrissou,
>
> On Thu, Sep 7, 2017 at 6:14 PM, DelazJ <delazj at gmail.com> wrote:
>
>> Hi,
>> I know there has been a lot of discussion about this subject and sorry
>> to revive it.
>> I'd like to propose to reword the "Trusted Plugin" text in the Plugin
>> Manager into "Trusted Author" or "Trusted Plugin Author".
>>
>
> ​Yeah, I think that would make sense.​
>
>
>> I know there have been literature on what trusted means, some blog
>> post (unfortunately now) hidden on the Internet
>>
>
> ​For reference:​
> ​http://blog.qgis.org/2016/08/26/what-are-trusted-plugins/
> ​
>
> ​Regards,
> Anita​
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170908/06b4ee41/attachment.html>

From matthias at opengis.ch  Thu Sep  7 23:54:22 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 8 Sep 2017 08:54:22 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
 Author"?
In-Reply-To: <CAAi8Yg8PKk-odwADE4SSx07PyZw-g9v32M98t0dBOt4AzDRkfg@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <CAFFV8Fh2D6SP7WdVT7GxUfKqYEPiV0eukaPgkVULYmDS4KctAw@mail.gmail.com>
 <CAAi8Yg8PKk-odwADE4SSx07PyZw-g9v32M98t0dBOt4AzDRkfg@mail.gmail.com>
Message-ID: <7049e846-b092-c4d0-96a7-edcf3de93d64@opengis.ch>

+1 (I prefer the short version "Trusted Author")

On 9/8/17 12:51 AM, Nathan Woodrow wrote:
> +1 That makes sense to me.
>
> On Fri, Sep 8, 2017 at 3:07 AM, Anita Graser <anitagraser at gmx.at
> <mailto:anitagraser at gmx.at>> wrote:
>
>     Hi Harrissou,
>
>     On Thu, Sep 7, 2017 at 6:14 PM, DelazJ <delazj at gmail.com
>     <mailto:delazj at gmail.com>> wrote:
>
>         Hi,
>         I know there has been a lot of discussion about this subject
>         and sorry
>         to revive it.
>         I'd like to propose to reword the "Trusted Plugin" text in the
>         Plugin
>         Manager into "Trusted Author" or "Trusted Plugin Author".
>
>
>     ​Yeah, I think that would make sense.​
>      
>
>         I know there have been literature on what trusted means, some blog
>         post (unfortunately now) hidden on the Internet
>
>
>     ​For reference:​
>     ​http://blog.qgis.org/2016/08/26/what-are-trusted-plugins/
>     <http://blog.qgis.org/2016/08/26/what-are-trusted-plugins/>
>     ​
>      
>     ​Regards,
>     Anita​
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170908/1ef8cd03/attachment.html>

From rdmailings at duif.net  Fri Sep  8 00:28:20 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 8 Sep 2017 09:28:20 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
 Author"?
In-Reply-To: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
Message-ID: <594218f0-9660-e172-6892-1e8f1622680f@duif.net>

On 07-09-17 18:14, DelazJ wrote:
> Hi,
> I know there has been a lot of discussion about this subject and sorry
> to revive it.
> I'd like to propose to reword the "Trusted Plugin" text in the Plugin
> Manager into "Trusted Author" or "Trusted Plugin Author".
> From what I've understood from the different discussions, it will
> better reflect what it is and will avoid misunderstanding from users.
> Reading "Trusted plugin" makes people think that this plugin is better
> than other "featured duplicate" plugins and, worse, that the behavior
> of the plugin is approved by QGIS Project. They could also think that
> this is the recommended and bug free plugin from QGIS Project for what
> they want to do, which IMHO is wrong: we do not certify the plugin, we
> certify we know the author.
> 
> I know there have been literature on what trusted means, some blog
> post (unfortunately now) hidden on the Internet and even Official doc
> doesn't mention this tag (though I'm less and less convinced that
> people do read manuals) so a new user may not know what it's about.
> A case I have in mind is the Table Manager plugin. For years, it has
> been the main tool to refactor a table, did well his job (Thanks
> Borys) and its use was advised all over the web. A newcomer will jump
> on it without clearly reading its low-level description stating that
> it's now a deprecated plugin, because the plugin is green and there's
> a green band at the top stating "This plugin is trusted".
> 
> My initial intention was to ask to remove that statement (because end
> user doesn't care who has plugin approval right) but I think it's also
> nice to highlight those people/company that do the communitarian "job"
> (reason why they became trusted) and another wording will, I'm
> convinced, better serve that.

Hi Harrissou:

+1, please do

Regards,

Richard

From noreply at qgis.org  Fri Sep  8 03:06:14 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 08 Sep 2017 10:06:14 -0000
Subject: [QGIS-Developer] Plugin [678] Multi-distance buffer approval
	notification.
Message-ID: <20170908100614.14211.97049@320558c5528b>


Plugin Multi-distance buffer approval by pcav.
The plugin version "[678] Multi-distance buffer 3.2.1" is now approved
Link: http://plugins.qgis.org/plugins/MultiDistanceBuffer/

From tom.chadwin at nnpa.org.uk  Fri Sep  8 04:29:30 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 8 Sep 2017 04:29:30 -0700 (MST)
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
Message-ID: <1504870170409-0.post@n6.nabble.com>

So it's not that you don't trust my work, it's that you don't trust me?

As an untrusted plugin author, I should say that this makes little
difference. While I 100% understand the rationale behind this process, it
still feels like a bit of a slap in the face. Perhaps the use of the word
"trust", be it applied to plugin or author, is too loaded for me. In fact,
transferring the usage to individuals makes it more galling - it's one thing
for the work I have done voluntarily over the past three or four years not
to be trusted by the core devs, but it's quite another for me, personally,
not to be trusted.

I of course understand that the inference is not that I and my work are not
trusted. I simply worded that last sentence deliberately to make the point
that this label, and its absence, seems arbitrary at best, possibly
reinforces the (otherwise seldom apparent) clique nature of devs in general
and the QGIS core devs in particular, and at worst is insulting.

Hope you understand - I feel the point had to be made.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matthias at opengis.ch  Fri Sep  8 04:45:45 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 8 Sep 2017 13:45:45 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
 Author"?
In-Reply-To: <1504870170409-0.post@n6.nabble.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
Message-ID: <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>

Hi Tom,

I understand this sentiment very well. Do you think formalizing the
process to become a "Trusted Author" and making it more transparent
would help here?

Your statement does not seems not to critizise the move of switching
trust from plugins to authors. But more the "in-or-out" in general.
Important here is, that the idea is to put more stress on the "in"
rather than the "out" (by saying "trusted author" rather than "untrusted
author"). If you have an idea how this can be made even more visible, I
think there's a good chance that we can mitigate unwanted side-effects
and potentially hard feelings of this better.

Sidnote:
I will immediately vote to make you a trusted author, we all very well
know the work you've put into qgis2web and close relations with the
community. While I think you should get the label anyway, I think
there's a different discussion you wanted to trigger here.

Matthias

On 09/08/2017 01:29 PM, Tom Chadwin wrote:
> So it's not that you don't trust my work, it's that you don't trust me?
> 
> As an untrusted plugin author, I should say that this makes little
> difference. While I 100% understand the rationale behind this process, it
> still feels like a bit of a slap in the face. Perhaps the use of the word
> "trust", be it applied to plugin or author, is too loaded for me. In fact,
> transferring the usage to individuals makes it more galling - it's one thing
> for the work I have done voluntarily over the past three or four years not
> to be trusted by the core devs, but it's quite another for me, personally,
> not to be trusted.
> 
> I of course understand that the inference is not that I and my work are not
> trusted. I simply worded that last sentence deliberately to make the point
> that this label, and its absence, seems arbitrary at best, possibly
> reinforces the (otherwise seldom apparent) clique nature of devs in general
> and the QGIS core devs in particular, and at worst is insulting.
> 
> Hope you understand - I feel the point had to be made.
> 
> Thanks
> 
> Tom
> 
> 
> 
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From tom.chadwin at nnpa.org.uk  Fri Sep  8 05:10:54 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 8 Sep 2017 05:10:54 -0700 (MST)
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
Message-ID: <1504872654611-0.post@n6.nabble.com>

Thanks, Matthias. Very much indeed.

I don't think it's the binary in or out that is the issue. I do think it's
the semantics. However, at the moment I am complaining without a solution -
I have not yet thought of a more appropriate word to use for this labelling
purpose.

100% make the criteria visible, yes, and not just in the blog. It needs to
be (at least in summary) in the plugin manager and on the plugins website.

I think one of the issues with this whole idea is how to achieve something
fair, meaningful, and transparent *without increasing the burden on Paolo*
or whoever else in the future curates the plugins. I wonder whether a
moderately easy criterion for inclusion in the "trusted" collection could be
either the presence of plugin tests, or, ideally, CI, so that some
indication of QA is visible not just to Paolo/whoever approves plugins in
the future, but also to users inclined to investigate for themselves.
Perhaps that's too high a barrier, but as everyone is saying, this does not
prevent other plugins' approval, just their being labelled as trusted.

I think that was a tad more than $0.02 from me. Thanks for you patience.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From luipir at gmail.com  Fri Sep  8 05:17:29 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 8 Sep 2017 14:17:29 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
Message-ID: <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>

+1 to thrusted author

side +1 to trust Tom... can we use the same OSGeo charters memeber
mechanism to nominate thrusted authors?
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 8 September 2017 at 13:45, Matthias Kuhn <matthias at opengis.ch> wrote:
> Hi Tom,
>
> I understand this sentiment very well. Do you think formalizing the
> process to become a "Trusted Author" and making it more transparent
> would help here?
>
> Your statement does not seems not to critizise the move of switching
> trust from plugins to authors. But more the "in-or-out" in general.
> Important here is, that the idea is to put more stress on the "in"
> rather than the "out" (by saying "trusted author" rather than "untrusted
> author"). If you have an idea how this can be made even more visible, I
> think there's a good chance that we can mitigate unwanted side-effects
> and potentially hard feelings of this better.
>
> Sidnote:
> I will immediately vote to make you a trusted author, we all very well
> know the work you've put into qgis2web and close relations with the
> community. While I think you should get the label anyway, I think
> there's a different discussion you wanted to trigger here.
>
> Matthias
>
> On 09/08/2017 01:29 PM, Tom Chadwin wrote:
>> So it's not that you don't trust my work, it's that you don't trust me?
>>
>> As an untrusted plugin author, I should say that this makes little
>> difference. While I 100% understand the rationale behind this process, it
>> still feels like a bit of a slap in the face. Perhaps the use of the word
>> "trust", be it applied to plugin or author, is too loaded for me. In fact,
>> transferring the usage to individuals makes it more galling - it's one thing
>> for the work I have done voluntarily over the past three or four years not
>> to be trusted by the core devs, but it's quite another for me, personally,
>> not to be trusted.
>>
>> I of course understand that the inference is not that I and my work are not
>> trusted. I simply worded that last sentence deliberately to make the point
>> that this label, and its absence, seems arbitrary at best, possibly
>> reinforces the (otherwise seldom apparent) clique nature of devs in general
>> and the QGIS core devs in particular, and at worst is insulting.
>>
>> Hope you understand - I feel the point had to be made.
>>
>> Thanks
>>
>> Tom
>>
>>
>>
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From saber.razmjooei at lutraconsulting.co.uk  Fri Sep  8 05:27:03 2017
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Fri, 8 Sep 2017 13:27:03 +0100
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
 <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>
Message-ID: <CAH=WbRCKVV90NzVB+n77h5AqJdxnFZ+zqT9aKDHvAOfNTzUCyg@mail.gmail.com>

+1 for Tom to become a trusted author. In addition to the qgis2web plugin,
Tom is a very active in QGIS UK usergroups.

Cheers
Saber


On 8 September 2017 at 13:17, Luigi Pirelli <luipir at gmail.com> wrote:

> +1 to thrusted author
>
> side +1 to trust Tom... can we use the same OSGeo charters memeber
> mechanism to nominate thrusted authors?
> Luigi Pirelli
>
> ************************************************************
> **************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-
> intelligence/mastering-qgis-second-edition
> ************************************************************
> **************************************
>
>
> On 8 September 2017 at 13:45, Matthias Kuhn <matthias at opengis.ch> wrote:
> > Hi Tom,
> >
> > I understand this sentiment very well. Do you think formalizing the
> > process to become a "Trusted Author" and making it more transparent
> > would help here?
> >
> > Your statement does not seems not to critizise the move of switching
> > trust from plugins to authors. But more the "in-or-out" in general.
> > Important here is, that the idea is to put more stress on the "in"
> > rather than the "out" (by saying "trusted author" rather than "untrusted
> > author"). If you have an idea how this can be made even more visible, I
> > think there's a good chance that we can mitigate unwanted side-effects
> > and potentially hard feelings of this better.
> >
> > Sidnote:
> > I will immediately vote to make you a trusted author, we all very well
> > know the work you've put into qgis2web and close relations with the
> > community. While I think you should get the label anyway, I think
> > there's a different discussion you wanted to trigger here.
> >
> > Matthias
> >
> > On 09/08/2017 01:29 PM, Tom Chadwin wrote:
> >> So it's not that you don't trust my work, it's that you don't trust me?
> >>
> >> As an untrusted plugin author, I should say that this makes little
> >> difference. While I 100% understand the rationale behind this process,
> it
> >> still feels like a bit of a slap in the face. Perhaps the use of the
> word
> >> "trust", be it applied to plugin or author, is too loaded for me. In
> fact,
> >> transferring the usage to individuals makes it more galling - it's one
> thing
> >> for the work I have done voluntarily over the past three or four years
> not
> >> to be trusted by the core devs, but it's quite another for me,
> personally,
> >> not to be trusted.
> >>
> >> I of course understand that the inference is not that I and my work are
> not
> >> trusted. I simply worded that last sentence deliberately to make the
> point
> >> that this label, and its absence, seems arbitrary at best, possibly
> >> reinforces the (otherwise seldom apparent) clique nature of devs in
> general
> >> and the QGIS core devs in particular, and at worst is insulting.
> >>
> >> Hope you understand - I feel the point had to be made.
> >>
> >> Thanks
> >>
> >> Tom
> >>
> >>
> >>
> >> -----
> >> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> >> --
> >> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Saber Razmjooei
www.lutraconsulting.co.uk
+44 (0)7568 129733
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170908/45439f3c/attachment.html>

From luipir at gmail.com  Fri Sep  8 05:31:44 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 8 Sep 2017 14:31:44 +0200
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion how
	to fix https://issues.qgis.org/issues/16927
Message-ID: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>

Hi

next week I'll work on some 2.18 regressions [1] [2] [3] all regarding
issues related if a provider can or not manage an automatic geometry
type conversion.

One of them [1] is the fact that snapping a 2d layer to a 3d one, the
new feature become 3D, but the original layer remain 2d => error
during commit because incompatibility.

IMHO a solution should leave the snapping to modify 2D to 3D. The
reason is to allow user to rise up a flat vector if this is the user
intention (do you agree?)
some considerations:
1) IMHO if there is a single-2-multi type conversion have to be
notified via messageBar (do you agree?)
2) We can add a snapping option like "maintain geometry type" (True by
default) that avoid to change geom from 2d to 3d => raise exception as
soon as it happen (do you agree?) and not only at commit time (e.g.
when save changes)
3) add a generic check in the editing buffer that check geom
compatibility as soon as a geom is changed.

3) can be solved as stated here:
https://qgis.org/api/2.18/qgsvectorlayereditbuffer_8cpp_source.html#l00197
"// TODO: check compatible geometry"
in this place can be added the same controls set in commitChanges() of
the same class... or moved these controls in a reusable methods.
Would be great to have this control outside EditBuffed or as static
method and with SIP binding to allow other application to do this
check for their business functions.

any opinion?

Luigi Pirelli

p.s. these fixes can be applied to 3.x too

[1] https://issues.qgis.org/issues/16927
[2] https://issues.qgis.org/issues/16948
[3] https://issues.qgis.org/issues/15741

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************

From delazj at gmail.com  Fri Sep  8 05:32:41 2017
From: delazj at gmail.com (DelazJ)
Date: Fri, 8 Sep 2017 14:32:41 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CAH=WbRCKVV90NzVB+n77h5AqJdxnFZ+zqT9aKDHvAOfNTzUCyg@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
 <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>
 <CAH=WbRCKVV90NzVB+n77h5AqJdxnFZ+zqT9aKDHvAOfNTzUCyg@mail.gmail.com>
Message-ID: <CAECJsSpJXwBTWySMbAqv+eT=4zMasyxGnDeFU73gzhKC+9_ruA@mail.gmail.com>

Hi,

Tom, thanks for your input and I'm surprised that you are not a
trusted author (thought that have been discussed a while back).
I was about to propose a pull request this morning with the new
wording but didn't because either "The author of this plugin is
trusted" or "Trusted Author" makes me feel comfortable. It looked to
me that those who do not have this tag are untrusted. And I'm afraid
this could harm their work and they do not deserve that.
So, if the main idea is to promote people that have a community
implication (and I guess we agree they deserve it), how about
"Community contributor"?

2017-09-08 14:27 GMT+02:00 Saber Razmjooei
<saber.razmjooei at lutraconsulting.co.uk>:
> +1 for Tom to become a trusted author. In addition to the qgis2web plugin,
> Tom is a very active in QGIS UK usergroups.
>
> Cheers
> Saber
>
>
> On 8 September 2017 at 13:17, Luigi Pirelli <luipir at gmail.com> wrote:
>>
>> +1 to thrusted author
>>
>> side +1 to trust Tom... can we use the same OSGeo charters memeber
>> mechanism to nominate thrusted authors?
>> Luigi Pirelli
>>
>>
>> **************************************************************************************************
>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * GitHub: https://github.com/luipir
>> * Mastering QGIS 2nd Edition:
>> *
>> https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>>
>> **************************************************************************************************
>>
>>
>> On 8 September 2017 at 13:45, Matthias Kuhn <matthias at opengis.ch> wrote:
>> > Hi Tom,
>> >
>> > I understand this sentiment very well. Do you think formalizing the
>> > process to become a "Trusted Author" and making it more transparent
>> > would help here?
>> >
>> > Your statement does not seems not to critizise the move of switching
>> > trust from plugins to authors. But more the "in-or-out" in general.
>> > Important here is, that the idea is to put more stress on the "in"
>> > rather than the "out" (by saying "trusted author" rather than "untrusted
>> > author"). If you have an idea how this can be made even more visible, I
>> > think there's a good chance that we can mitigate unwanted side-effects
>> > and potentially hard feelings of this better.
>> >
>> > Sidnote:
>> > I will immediately vote to make you a trusted author, we all very well
>> > know the work you've put into qgis2web and close relations with the
>> > community. While I think you should get the label anyway, I think
>> > there's a different discussion you wanted to trigger here.
>> >
>> > Matthias
>> >
>> > On 09/08/2017 01:29 PM, Tom Chadwin wrote:
>> >> So it's not that you don't trust my work, it's that you don't trust me?
>> >>
>> >> As an untrusted plugin author, I should say that this makes little
>> >> difference. While I 100% understand the rationale behind this process,
>> >> it
>> >> still feels like a bit of a slap in the face. Perhaps the use of the
>> >> word
>> >> "trust", be it applied to plugin or author, is too loaded for me. In
>> >> fact,
>> >> transferring the usage to individuals makes it more galling - it's one
>> >> thing
>> >> for the work I have done voluntarily over the past three or four years
>> >> not
>> >> to be trusted by the core devs, but it's quite another for me,
>> >> personally,
>> >> not to be trusted.
>> >>
>> >> I of course understand that the inference is not that I and my work are
>> >> not
>> >> trusted. I simply worded that last sentence deliberately to make the
>> >> point
>> >> that this label, and its absence, seems arbitrary at best, possibly
>> >> reinforces the (otherwise seldom apparent) clique nature of devs in
>> >> general
>> >> and the QGIS core devs in particular, and at worst is insulting.
>> >>
>> >> Hope you understand - I feel the point had to be made.
>> >>
>> >> Thanks
>> >>
>> >> Tom
>> >>
>> >>
>> >>
>> >> -----
>> >> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> >> --
>> >> Sent from:
>> >> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >>
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> --
> Saber Razmjooei
> www.lutraconsulting.co.uk
> +44 (0)7568 129733
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From werner.macho at gmail.com  Fri Sep  8 05:37:55 2017
From: werner.macho at gmail.com (Werner Macho)
Date: Fri, 8 Sep 2017 14:37:55 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CAECJsSpJXwBTWySMbAqv+eT=4zMasyxGnDeFU73gzhKC+9_ruA@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
 <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>
 <CAH=WbRCKVV90NzVB+n77h5AqJdxnFZ+zqT9aKDHvAOfNTzUCyg@mail.gmail.com>
 <CAECJsSpJXwBTWySMbAqv+eT=4zMasyxGnDeFU73gzhKC+9_ruA@mail.gmail.com>
Message-ID: <CA+3oMjvKVGx5Mhuh3uR8N6P7wY+0MAkvFdRqY1kEAxtye-0vSg@mail.gmail.com>

Hi!

I like Community contributor (more than trusted author)
but have another addition
Contributor known by the community ..
But I think that distracts us from the plugins "tag" that it is.

what about "checked" or "scanned" or something like that?

regards
Werner

On Fri, Sep 8, 2017 at 2:32 PM, DelazJ <delazj at gmail.com> wrote:

> Hi,
>
> Tom, thanks for your input and I'm surprised that you are not a
> trusted author (thought that have been discussed a while back).
> I was about to propose a pull request this morning with the new
> wording but didn't because either "The author of this plugin is
> trusted" or "Trusted Author" makes me feel comfortable. It looked to
> me that those who do not have this tag are untrusted. And I'm afraid
> this could harm their work and they do not deserve that.
> So, if the main idea is to promote people that have a community
> implication (and I guess we agree they deserve it), how about
> "Community contributor"?
>
> 2017-09-08 14:27 GMT+02:00 Saber Razmjooei
> <saber.razmjooei at lutraconsulting.co.uk>:
> > +1 for Tom to become a trusted author. In addition to the qgis2web
> plugin,
> > Tom is a very active in QGIS UK usergroups.
> >
> > Cheers
> > Saber
> >
> >
> > On 8 September 2017 at 13:17, Luigi Pirelli <luipir at gmail.com> wrote:
> >>
> >> +1 to thrusted author
> >>
> >> side +1 to trust Tom... can we use the same OSGeo charters memeber
> >> mechanism to nominate thrusted authors?
> >> Luigi Pirelli
> >>
> >>
> >> ************************************************************
> **************************************
> >> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> >> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> >> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> >> * GitHub: https://github.com/luipir
> >> * Mastering QGIS 2nd Edition:
> >> *
> >> https://www.packtpub.com/big-data-and-business-
> intelligence/mastering-qgis-second-edition
> >>
> >> ************************************************************
> **************************************
> >>
> >>
> >> On 8 September 2017 at 13:45, Matthias Kuhn <matthias at opengis.ch>
> wrote:
> >> > Hi Tom,
> >> >
> >> > I understand this sentiment very well. Do you think formalizing the
> >> > process to become a "Trusted Author" and making it more transparent
> >> > would help here?
> >> >
> >> > Your statement does not seems not to critizise the move of switching
> >> > trust from plugins to authors. But more the "in-or-out" in general.
> >> > Important here is, that the idea is to put more stress on the "in"
> >> > rather than the "out" (by saying "trusted author" rather than
> "untrusted
> >> > author"). If you have an idea how this can be made even more visible,
> I
> >> > think there's a good chance that we can mitigate unwanted side-effects
> >> > and potentially hard feelings of this better.
> >> >
> >> > Sidnote:
> >> > I will immediately vote to make you a trusted author, we all very well
> >> > know the work you've put into qgis2web and close relations with the
> >> > community. While I think you should get the label anyway, I think
> >> > there's a different discussion you wanted to trigger here.
> >> >
> >> > Matthias
> >> >
> >> > On 09/08/2017 01:29 PM, Tom Chadwin wrote:
> >> >> So it's not that you don't trust my work, it's that you don't trust
> me?
> >> >>
> >> >> As an untrusted plugin author, I should say that this makes little
> >> >> difference. While I 100% understand the rationale behind this
> process,
> >> >> it
> >> >> still feels like a bit of a slap in the face. Perhaps the use of the
> >> >> word
> >> >> "trust", be it applied to plugin or author, is too loaded for me. In
> >> >> fact,
> >> >> transferring the usage to individuals makes it more galling - it's
> one
> >> >> thing
> >> >> for the work I have done voluntarily over the past three or four
> years
> >> >> not
> >> >> to be trusted by the core devs, but it's quite another for me,
> >> >> personally,
> >> >> not to be trusted.
> >> >>
> >> >> I of course understand that the inference is not that I and my work
> are
> >> >> not
> >> >> trusted. I simply worded that last sentence deliberately to make the
> >> >> point
> >> >> that this label, and its absence, seems arbitrary at best, possibly
> >> >> reinforces the (otherwise seldom apparent) clique nature of devs in
> >> >> general
> >> >> and the QGIS core devs in particular, and at worst is insulting.
> >> >>
> >> >> Hope you understand - I feel the point had to be made.
> >> >>
> >> >> Thanks
> >> >>
> >> >> Tom
> >> >>
> >> >>
> >> >>
> >> >> -----
> >> >> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> >> >> --
> >> >> Sent from:
> >> >> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> >> >> _______________________________________________
> >> >> QGIS-Developer mailing list
> >> >> QGIS-Developer at lists.osgeo.org
> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >>
> >> > _______________________________________________
> >> > QGIS-Developer mailing list
> >> > QGIS-Developer at lists.osgeo.org
> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> >
> > --
> > Saber Razmjooei
> > www.lutraconsulting.co.uk
> > +44 (0)7568 129733
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170908/50e62609/attachment.html>

From anitagraser at gmx.at  Fri Sep  8 06:08:47 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Fri, 8 Sep 2017 15:08:47 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CA+3oMjvKVGx5Mhuh3uR8N6P7wY+0MAkvFdRqY1kEAxtye-0vSg@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
 <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>
 <CAH=WbRCKVV90NzVB+n77h5AqJdxnFZ+zqT9aKDHvAOfNTzUCyg@mail.gmail.com>
 <CAECJsSpJXwBTWySMbAqv+eT=4zMasyxGnDeFU73gzhKC+9_ruA@mail.gmail.com>
 <CA+3oMjvKVGx5Mhuh3uR8N6P7wY+0MAkvFdRqY1kEAxtye-0vSg@mail.gmail.com>
Message-ID: <CAFFV8Fj0eDykckZ-khafQK71NxRK43qf4jPpZbunqdCPzUFAgQ@mail.gmail.com>

On Fri, Sep 8, 2017 at 2:37 PM, Werner Macho <werner.macho at gmail.com> wrote:
>
>
> what about "checked" or "scanned" or something like that?
>

​Implying that we checked the plugin and everything is guaranteed to be
fine is exactly what we want to avoid imho.

Regards,
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170908/4efde891/attachment.html>

From apasotti at gmail.com  Fri Sep  8 06:16:53 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 8 Sep 2017 15:16:53 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CA+3oMjvKVGx5Mhuh3uR8N6P7wY+0MAkvFdRqY1kEAxtye-0vSg@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
 <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>
 <CAH=WbRCKVV90NzVB+n77h5AqJdxnFZ+zqT9aKDHvAOfNTzUCyg@mail.gmail.com>
 <CAECJsSpJXwBTWySMbAqv+eT=4zMasyxGnDeFU73gzhKC+9_ruA@mail.gmail.com>
 <CA+3oMjvKVGx5Mhuh3uR8N6P7wY+0MAkvFdRqY1kEAxtye-0vSg@mail.gmail.com>
Message-ID: <CAL5Q672BDL5qvK1e_UQ9UeOCjrFB_MbMH2prfXCi5m09qsMF3Q@mail.gmail.com>

On Fri, Sep 8, 2017 at 2:37 PM, Werner Macho <werner.macho at gmail.com> wrote:

> Hi!
>
> I like Community contributor (more than trusted author)
> but have another addition
> Contributor known by the community ..
> But I think that distracts us from the plugins "tag" that it is.
>
> what about "checked" or "scanned" or something like that?
>
> regards
> Werner
>
>

That would be untrue: AFAIK nobody really scans the plugins and the
"trusted" users are the only one that can approve the plugins by themselves.

Please bear in mind that what that flag really means at the application
level is that a "trusted" user can approve and publish his own plugins, in
that sense we "trust" him.

So, "trusted" is the correct word, but we could stress the reasons why that
user has been trusted instead of the condition itself, so, I suggest to add
a brief sentence/tooltip whatever it works to explain why a user (in
general: not that particular user) has been flagged as "trusted" (active
member in the community with a proven record of plugin or core
contributions etc. etc.).

Kind regards.




> On Fri, Sep 8, 2017 at 2:32 PM, DelazJ <delazj at gmail.com> wrote:
>
>> Hi,
>>
>> Tom, thanks for your input and I'm surprised that you are not a
>> trusted author (thought that have been discussed a while back).
>> I was about to propose a pull request this morning with the new
>> wording but didn't because either "The author of this plugin is
>> trusted" or "Trusted Author" makes me feel comfortable. It looked to
>> me that those who do not have this tag are untrusted. And I'm afraid
>> this could harm their work and they do not deserve that.
>> So, if the main idea is to promote people that have a community
>> implication (and I guess we agree they deserve it), how about
>> "Community contributor"?
>>
>> 2017-09-08 14:27 GMT+02:00 Saber Razmjooei
>> <saber.razmjooei at lutraconsulting.co.uk>:
>> > +1 for Tom to become a trusted author. In addition to the qgis2web
>> plugin,
>> > Tom is a very active in QGIS UK usergroups.
>> >
>> > Cheers
>> > Saber
>> >
>> >
>> > On 8 September 2017 at 13:17, Luigi Pirelli <luipir at gmail.com> wrote:
>> >>
>> >> +1 to thrusted author
>> >>
>> >> side +1 to trust Tom... can we use the same OSGeo charters memeber
>> >> mechanism to nominate thrusted authors?
>> >> Luigi Pirelli
>> >>
>> >>
>> >> ************************************************************
>> **************************************
>> >> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> >> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> >> * Stackexchange: http://gis.stackexchange.com/u
>> sers/19667/luigi-pirelli
>> >> * GitHub: https://github.com/luipir
>> >> * Mastering QGIS 2nd Edition:
>> >> *
>> >> https://www.packtpub.com/big-data-and-business-intelligence/
>> mastering-qgis-second-edition
>> >>
>> >> ************************************************************
>> **************************************
>> >>
>> >>
>> >> On 8 September 2017 at 13:45, Matthias Kuhn <matthias at opengis.ch>
>> wrote:
>> >> > Hi Tom,
>> >> >
>> >> > I understand this sentiment very well. Do you think formalizing the
>> >> > process to become a "Trusted Author" and making it more transparent
>> >> > would help here?
>> >> >
>> >> > Your statement does not seems not to critizise the move of switching
>> >> > trust from plugins to authors. But more the "in-or-out" in general.
>> >> > Important here is, that the idea is to put more stress on the "in"
>> >> > rather than the "out" (by saying "trusted author" rather than
>> "untrusted
>> >> > author"). If you have an idea how this can be made even more
>> visible, I
>> >> > think there's a good chance that we can mitigate unwanted
>> side-effects
>> >> > and potentially hard feelings of this better.
>> >> >
>> >> > Sidnote:
>> >> > I will immediately vote to make you a trusted author, we all very
>> well
>> >> > know the work you've put into qgis2web and close relations with the
>> >> > community. While I think you should get the label anyway, I think
>> >> > there's a different discussion you wanted to trigger here.
>> >> >
>> >> > Matthias
>> >> >
>> >> > On 09/08/2017 01:29 PM, Tom Chadwin wrote:
>> >> >> So it's not that you don't trust my work, it's that you don't trust
>> me?
>> >> >>
>> >> >> As an untrusted plugin author, I should say that this makes little
>> >> >> difference. While I 100% understand the rationale behind this
>> process,
>> >> >> it
>> >> >> still feels like a bit of a slap in the face. Perhaps the use of the
>> >> >> word
>> >> >> "trust", be it applied to plugin or author, is too loaded for me. In
>> >> >> fact,
>> >> >> transferring the usage to individuals makes it more galling - it's
>> one
>> >> >> thing
>> >> >> for the work I have done voluntarily over the past three or four
>> years
>> >> >> not
>> >> >> to be trusted by the core devs, but it's quite another for me,
>> >> >> personally,
>> >> >> not to be trusted.
>> >> >>
>> >> >> I of course understand that the inference is not that I and my work
>> are
>> >> >> not
>> >> >> trusted. I simply worded that last sentence deliberately to make the
>> >> >> point
>> >> >> that this label, and its absence, seems arbitrary at best, possibly
>> >> >> reinforces the (otherwise seldom apparent) clique nature of devs in
>> >> >> general
>> >> >> and the QGIS core devs in particular, and at worst is insulting.
>> >> >>
>> >> >> Hope you understand - I feel the point had to be made.
>> >> >>
>> >> >> Thanks
>> >> >>
>> >> >> Tom
>> >> >>
>> >> >>
>> >> >>
>> >> >> -----
>> >> >> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> >> >> --
>> >> >> Sent from:
>> >> >> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> >> >> _______________________________________________
>> >> >> QGIS-Developer mailing list
>> >> >> QGIS-Developer at lists.osgeo.org
>> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >> Unsubscribe: https://lists.osgeo.org/mailma
>> n/listinfo/qgis-developer
>> >> >>
>> >> > _______________________________________________
>> >> > QGIS-Developer mailing list
>> >> > QGIS-Developer at lists.osgeo.org
>> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>> >
>> >
>> >
>> > --
>> > Saber Razmjooei
>> > www.lutraconsulting.co.uk
>> > +44 (0)7568 129733
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170908/2c41b351/attachment-0001.html>

From werner.macho at gmail.com  Fri Sep  8 06:38:01 2017
From: werner.macho at gmail.com (Werner Macho)
Date: Fri, 08 Sep 2017 15:38:01 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CAL5Q672BDL5qvK1e_UQ9UeOCjrFB_MbMH2prfXCi5m09qsMF3Q@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <c522cc05-79cb-568a-5cea-0a51eae709bb@opengis.ch>
 <CAFO80_pzmi1XWdMSO-Du025L_EE0-nwx4N=Y7+X8KSwVqxG=uQ@mail.gmail.com>
 <CAH=WbRCKVV90NzVB+n77h5AqJdxnFZ+zqT9aKDHvAOfNTzUCyg@mail.gmail.com>
 <CAECJsSpJXwBTWySMbAqv+eT=4zMasyxGnDeFU73gzhKC+9_ruA@mail.gmail.com>
 <CA+3oMjvKVGx5Mhuh3uR8N6P7wY+0MAkvFdRqY1kEAxtye-0vSg@mail.gmail.com>
 <CAL5Q672BDL5qvK1e_UQ9UeOCjrFB_MbMH2prfXCi5m09qsMF3Q@mail.gmail.com>
Message-ID: <15e61b626a8.2777.5132a01d404b3f31fd8f67befe114452@gmail.com>

Very good idea...


On 8 September 2017 3:16:55 pm Alessandro Pasotti <apasotti at gmail.com> wrote:

> On Fri, Sep 8, 2017 at 2:37 PM, Werner Macho <werner.macho at gmail.com> wrote:
>
>> Hi!
>>
>> I like Community contributor (more than trusted author)
>> but have another addition
>> Contributor known by the community ..
>> But I think that distracts us from the plugins "tag" that it is.
>>
>> what about "checked" or "scanned" or something like that?
>>
>> regards
>> Werner
>>
>>
>
> That would be untrue: AFAIK nobody really scans the plugins and the
> "trusted" users are the only one that can approve the plugins by themselves.
>
> Please bear in mind that what that flag really means at the application
> level is that a "trusted" user can approve and publish his own plugins, in
> that sense we "trust" him.
>
> So, "trusted" is the correct word, but we could stress the reasons why that
> user has been trusted instead of the condition itself, so, I suggest to add
> a brief sentence/tooltip whatever it works to explain why a user (in
> general: not that particular user) has been flagged as "trusted" (active
> member in the community with a proven record of plugin or core
> contributions etc. etc.).
>
> Kind regards.
>
>
>
>
>> On Fri, Sep 8, 2017 at 2:32 PM, DelazJ <delazj at gmail.com> wrote:
>>
>>> Hi,
>>>
>>> Tom, thanks for your input and I'm surprised that you are not a
>>> trusted author (thought that have been discussed a while back).
>>> I was about to propose a pull request this morning with the new
>>> wording but didn't because either "The author of this plugin is
>>> trusted" or "Trusted Author" makes me feel comfortable. It looked to
>>> me that those who do not have this tag are untrusted. And I'm afraid
>>> this could harm their work and they do not deserve that.
>>> So, if the main idea is to promote people that have a community
>>> implication (and I guess we agree they deserve it), how about
>>> "Community contributor"?
>>>
>>> 2017-09-08 14:27 GMT+02:00 Saber Razmjooei
>>> <saber.razmjooei at lutraconsulting.co.uk>:
>>> > +1 for Tom to become a trusted author. In addition to the qgis2web
>>> plugin,
>>> > Tom is a very active in QGIS UK usergroups.
>>> >
>>> > Cheers
>>> > Saber
>>> >
>>> >
>>> > On 8 September 2017 at 13:17, Luigi Pirelli <luipir at gmail.com> wrote:
>>> >>
>>> >> +1 to thrusted author
>>> >>
>>> >> side +1 to trust Tom... can we use the same OSGeo charters memeber
>>> >> mechanism to nominate thrusted authors?
>>> >> Luigi Pirelli
>>> >>
>>> >>
>>> >> ************************************************************
>>> **************************************
>>> >> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>>> >> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>>> >> * Stackexchange: http://gis.stackexchange.com/u
>>> sers/19667/luigi-pirelli
>>> >> * GitHub: https://github.com/luipir
>>> >> * Mastering QGIS 2nd Edition:
>>> >> *
>>> >> https://www.packtpub.com/big-data-and-business-intelligence/
>>> mastering-qgis-second-edition
>>> >>
>>> >> ************************************************************
>>> **************************************
>>> >>
>>> >>
>>> >> On 8 September 2017 at 13:45, Matthias Kuhn <matthias at opengis.ch>
>>> wrote:
>>> >> > Hi Tom,
>>> >> >
>>> >> > I understand this sentiment very well. Do you think formalizing the
>>> >> > process to become a "Trusted Author" and making it more transparent
>>> >> > would help here?
>>> >> >
>>> >> > Your statement does not seems not to critizise the move of switching
>>> >> > trust from plugins to authors. But more the "in-or-out" in general.
>>> >> > Important here is, that the idea is to put more stress on the "in"
>>> >> > rather than the "out" (by saying "trusted author" rather than
>>> "untrusted
>>> >> > author"). If you have an idea how this can be made even more
>>> visible, I
>>> >> > think there's a good chance that we can mitigate unwanted
>>> side-effects
>>> >> > and potentially hard feelings of this better.
>>> >> >
>>> >> > Sidnote:
>>> >> > I will immediately vote to make you a trusted author, we all very
>>> well
>>> >> > know the work you've put into qgis2web and close relations with the
>>> >> > community. While I think you should get the label anyway, I think
>>> >> > there's a different discussion you wanted to trigger here.
>>> >> >
>>> >> > Matthias
>>> >> >
>>> >> > On 09/08/2017 01:29 PM, Tom Chadwin wrote:
>>> >> >> So it's not that you don't trust my work, it's that you don't trust
>>> me?
>>> >> >>
>>> >> >> As an untrusted plugin author, I should say that this makes little
>>> >> >> difference. While I 100% understand the rationale behind this
>>> process,
>>> >> >> it
>>> >> >> still feels like a bit of a slap in the face. Perhaps the use of the
>>> >> >> word
>>> >> >> "trust", be it applied to plugin or author, is too loaded for me. In
>>> >> >> fact,
>>> >> >> transferring the usage to individuals makes it more galling - it's
>>> one
>>> >> >> thing
>>> >> >> for the work I have done voluntarily over the past three or four
>>> years
>>> >> >> not
>>> >> >> to be trusted by the core devs, but it's quite another for me,
>>> >> >> personally,
>>> >> >> not to be trusted.
>>> >> >>
>>> >> >> I of course understand that the inference is not that I and my work
>>> are
>>> >> >> not
>>> >> >> trusted. I simply worded that last sentence deliberately to make the
>>> >> >> point
>>> >> >> that this label, and its absence, seems arbitrary at best, possibly
>>> >> >> reinforces the (otherwise seldom apparent) clique nature of devs in
>>> >> >> general
>>> >> >> and the QGIS core devs in particular, and at worst is insulting.
>>> >> >>
>>> >> >> Hope you understand - I feel the point had to be made.
>>> >> >>
>>> >> >> Thanks
>>> >> >>
>>> >> >> Tom
>>> >> >>
>>> >> >>
>>> >> >>
>>> >> >> -----
>>> >> >> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>>> >> >> --
>>> >> >> Sent from:
>>> >> >> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>>> >> >> _______________________________________________
>>> >> >> QGIS-Developer mailing list
>>> >> >> QGIS-Developer at lists.osgeo.org
>>> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >> >> Unsubscribe: https://lists.osgeo.org/mailma
>>> n/listinfo/qgis-developer
>>> >> >>
>>> >> > _______________________________________________
>>> >> > QGIS-Developer mailing list
>>> >> > QGIS-Developer at lists.osgeo.org
>>> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >> _______________________________________________
>>> >> QGIS-Developer mailing list
>>> >> QGIS-Developer at lists.osgeo.org
>>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >
>>> >
>>> >
>>> >
>>> > --
>>> > Saber Razmjooei
>>> > www.lutraconsulting.co.uk
>>> > +44 (0)7568 129733
>>> >
>>> > _______________________________________________
>>> > QGIS-Developer mailing list
>>> > QGIS-Developer at lists.osgeo.org
>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170908/db60ba60/attachment.html>

From tom.chadwin at nnpa.org.uk  Fri Sep  8 07:01:41 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 8 Sep 2017 07:01:41 -0700 (MST)
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
Message-ID: <1504879301147-0.post@n6.nabble.com>

If this is limited to 2D/3D conflicts, then the option probably needs not to
be "maintain geometry type" but "maintain 2D/transform feature to 3D" or
something similar. If there are other instances (single versus multi
geometries? not sure what else), then we probably need to think more
broadly.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From luipir at gmail.com  Fri Sep  8 07:28:04 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 8 Sep 2017 16:28:04 +0200
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <1504879301147-0.post@n6.nabble.com>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
 <1504879301147-0.post@n6.nabble.com>
Message-ID: <CAFO80_rLoi5O-ZVHmdNM6ZmTAwmByp1SkZczzYCr_rSgJ3VrEw@mail.gmail.com>

Tom your proposal is also to add notify/block in case of "single to
multi" conversion?
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 8 September 2017 at 16:01, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
> If this is limited to 2D/3D conflicts, then the option probably needs not to
> be "maintain geometry type" but "maintain 2D/transform feature to 3D" or
> something similar. If there are other instances (single versus multi
> geometries? not sure what else), then we probably need to think more
> broadly.
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tom.chadwin at nnpa.org.uk  Fri Sep  8 07:34:03 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 8 Sep 2017 07:34:03 -0700 (MST)
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <CAFO80_rLoi5O-ZVHmdNM6ZmTAwmByp1SkZczzYCr_rSgJ3VrEw@mail.gmail.com>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
 <1504879301147-0.post@n6.nabble.com>
 <CAFO80_rLoi5O-ZVHmdNM6ZmTAwmByp1SkZczzYCr_rSgJ3VrEw@mail.gmail.com>
Message-ID: <1504881243193-0.post@n6.nabble.com>

I'm not sure. What happens now? Are there circumstances in which either:

- single gets silently converted to multi or vice versa

- a user cannot do something they think should be possible, because the
geometry cannot convert from single to multi or vice versa

If either can happen, I think this is undesirable, and options/warnings
similar to your proposal for the existing issue should be implemented.

Apologies if this is too broad for this issue. I was just interested by the
"incompatible geometry" error, and wondered if there were possible causes
other than 2D/3D.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matthias at opengis.ch  Fri Sep  8 07:51:23 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 8 Sep 2017 16:51:23 +0200
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
Message-ID: <6c00ffde-2cb7-80c6-f327-9fd38e7b1638@opengis.ch>

On 09/08/2017 02:31 PM, Luigi Pirelli wrote:
> Hi
> 
> next week I'll work on some 2.18 regressions [1] [2] [3] all regarding
> issues related if a provider can or not manage an automatic geometry
> type conversion.
> 
> One of them [1] is the fact that snapping a 2d layer to a 3d one, the
> new feature become 3D, but the original layer remain 2d => error
> during commit because incompatibility.
> 
> IMHO a solution should leave the snapping to modify 2D to 3D. The
> reason is to allow user to rise up a flat vector if this is the user
> intention (do you agree?)
> some considerations:
> 1) IMHO if there is a single-2-multi type conversion have to be
> notified via messageBar (do you agree?)
> 2) We can add a snapping option like "maintain geometry type" (True by
> default) that avoid to change geom from 2d to 3d => raise exception as
> soon as it happen (do you agree?) and not only at commit time (e.g.
> when save changes)
> 3) add a generic check in the editing buffer that check geom
> compatibility as soon as a geom is changed.
> 
> 3) can be solved as stated here:
> https://qgis.org/api/2.18/qgsvectorlayereditbuffer_8cpp_source.html#l00197
> "// TODO: check compatible geometry"
> in this place can be added the same controls set in commitChanges() of
> the same class... or moved these controls in a reusable methods.
> Would be great to have this control outside EditBuffed or as static
> method and with SIP binding to allow other application to do this
> check for their business functions.

I think this should go to the layer logic, If I understand correctly
option 3.

If a feature is added onto a layer with a different geometry type and
there is only one conversion that makes sense, let's do it. Possibly
inform the user about what's up ("Dropping 3D information because layer
X only has 2 dimensions").

This applies IMO to

* dropping and adding Z/M dimensions
* Promoting single to multi geometries
* Demoting single-part multi geometries (carefully, only if there's a
consistent solution we don't want to have only 3 out of 20 pasted
features actually ending up on the layer).


I would try to avoid introducing the same logic in all tools like
snapping, pasting, GPS digitizing, processing, ...

Matthias

> 
> any opinion?
> 
> Luigi Pirelli
> 
> p.s. these fixes can be applied to 3.x too
> 
> [1] https://issues.qgis.org/issues/16927
> [2] https://issues.qgis.org/issues/16948
> [3] https://issues.qgis.org/issues/15741
> 
> **************************************************************************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> **************************************************************************************************
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From luipir at gmail.com  Fri Sep  8 08:03:22 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 8 Sep 2017 17:03:22 +0200
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <1504881243193-0.post@n6.nabble.com>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
 <1504879301147-0.post@n6.nabble.com>
 <CAFO80_rLoi5O-ZVHmdNM6ZmTAwmByp1SkZczzYCr_rSgJ3VrEw@mail.gmail.com>
 <1504881243193-0.post@n6.nabble.com>
Message-ID: <CAFO80_oXJPvY+j4TJvMsJ--SkeU4RAmD2YDd4V9MmqCLLKpTVA@mail.gmail.com>

see
https://issues.qgis.org/issues/16948
https://issues.qgis.org/issues/16927
https://issues.qgis.org/issues/15741
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 8 September 2017 at 16:34, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
> I'm not sure. What happens now? Are there circumstances in which either:
>
> - single gets silently converted to multi or vice versa
>
> - a user cannot do something they think should be possible, because the
> geometry cannot convert from single to multi or vice versa
>
> If either can happen, I think this is undesirable, and options/warnings
> similar to your proposal for the existing issue should be implemented.
>
> Apologies if this is too broad for this issue. I was just interested by the
> "incompatible geometry" error, and wondered if there were possible causes
> other than 2D/3D.
>
> Thanks
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From luipir at gmail.com  Fri Sep  8 08:05:20 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 8 Sep 2017 17:05:20 +0200
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <6c00ffde-2cb7-80c6-f327-9fd38e7b1638@opengis.ch>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
 <6c00ffde-2cb7-80c6-f327-9fd38e7b1638@opengis.ch>
Message-ID: <CAFO80_pATB1q27kW9hQszNVDceHYJPbYGYxc=B1YQqQyO1JLYQ@mail.gmail.com>

On 8 September 2017 at 16:51, Matthias Kuhn <matthias at opengis.ch> wrote:
> I would try to avoid introducing the same logic in all tools like
> snapping, pasting, GPS digitizing, processing, ...

I strongly agree

Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************

From nyall.dawson at gmail.com  Fri Sep  8 16:04:05 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 9 Sep 2017 09:04:05 +1000
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <1504870170409-0.post@n6.nabble.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
Message-ID: <CAB28AshTuUbk7K7ojwe-irN+EXvR0joWD3N3dW85z+k-BzVmzg@mail.gmail.com>

Hey Tom,

In my opinion you're a highly valued member of the QGIS community, so
I'm very keen to follow through on these points you've raised. Chances
are if YOU are feeling this way, there's likely many others who do too
but just wouldn't feel comfortable speaking up about it.

I'll leave aside the discussion about the plugin ecosystem, but I'd
like to discuss:

On 8 September 2017 at 21:29, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
...
> possibly
> reinforces the (otherwise seldom apparent) clique nature of devs in general
> and the QGIS core devs in particular...

To begin: there's obviously no secret agenda or deliberate 'inner
circle' here, so any closed nature of the community has been an
accidental organic process vs a deliberate decision. I'm not going to
defend anything here, because the mere fact that you've brought up
this point is a clear indication that there IS an issue here, and
something we should discuss openly and try to improve!

So, if you feel comfortable doing this, can you (or any others who
have also felt this way) give some pointers on how we can 'break' this
and becoming a more welcoming community?

Nyall

From tom.chadwin at nnpa.org.uk  Sat Sep  9 01:20:08 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Sat, 9 Sep 2017 01:20:08 -0700 (MST)
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <CAB28AshTuUbk7K7ojwe-irN+EXvR0joWD3N3dW85z+k-BzVmzg@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <CAB28AshTuUbk7K7ojwe-irN+EXvR0joWD3N3dW85z+k-BzVmzg@mail.gmail.com>
Message-ID: <1504945208243-0.post@n6.nabble.com>

Hello all

Sorry for opening this can of worms, and thanks to all of you for very kind
words. But obviously, let's move on from the personal to the general point,
not least to stop my looking as though I was fishing for compliments. I very
much was not.


Nyall Dawson wrote
>> possibly
>> reinforces the (otherwise seldom apparent) clique nature of devs in
>> general
>> and the QGIS core devs in particular...
> 
> To begin: there's obviously no secret agenda or deliberate 'inner
> circle' here, so any closed nature of the community has been an
> accidental organic process vs a deliberate decision.

100%. Compared to other projects to which I've contributed, this is an
incredibly welcoming, supportive, and friendly community. I said "otherwise
seldom apparent" deliberately. I could probably have said "otherwise never
apparent". I could even broaden this out to the whole geo community - both
Leaflet and, back in the day, MGOS devs have always welcomed tentative and
initially nervous contributions from hobbyists.


Nyall Dawson wrote
> So, if you feel comfortable doing this, can you (or any others who
> have also felt this way) give some pointers on how we can 'break' this
> and becoming a more welcoming community?

So in that light, my point just refers to this issue. Again, I knew that the
issue I've raised was unintentional, so simply tweaking this process and
language will do the job.

Matthias and I discussed some possibilities off-list:

- label "core QGIS developer"
- label plugins which have testing/CI

I'll check back to see if I missed anything else. 

Thanks for running with this discussion. It should have a moderately simple
solution - just haven't quite found it yet. 

Thanks again

Tom




-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From apasotti at gmail.com  Sat Sep  9 01:42:14 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 9 Sep 2017 10:42:14 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <1504945208243-0.post@n6.nabble.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <CAB28AshTuUbk7K7ojwe-irN+EXvR0joWD3N3dW85z+k-BzVmzg@mail.gmail.com>
 <1504945208243-0.post@n6.nabble.com>
Message-ID: <CAL5Q673pybqmYjuk63V=KP4++62AXCvTgPVPxXzV9b0qWFKaNA@mail.gmail.com>

Sorry if I repeat myself, this is just to clarify what the "trusted" flag
is, and why it was introduced.

The trusted flag has nothing to do with being a core dev or having
CI/tests: it's a permission flag in the DB, tied to the user who "owns" the
plugin (the maintainer).

When a new plugin is submitted, Paolo (please correct me if I'm wrong)
checks the plugin for mandatory metadata and he makes a quick/superficial
evaluation, if the plugin does not look particularly suspicious or misses
some mandatory metadata he approves it straight away.

But the a.m. procedure is pointless and can be totally avoided if the
plugin comes from a well known member of this community when there is
"trust" because of proven record of good plugins or code contributions or
personal knowledge, beers together in the greenhouses at night etc. etc..

So this is all what the "trusted" flag is about: skipping the boring and
time/consuming procedure of approving plugins for the well-known members of
this community (and the delay that it causes) .

Let me say it again:the only difference between a "trusted" user/author is
that he can approve and publish the plugins by himself.

The problem started when we decided to advertise the "trusted" flag on the
plugin manager, I see two options here:

1. go back to the pre-trusted times and hide that information from the
plugin manager
2. reword/rephrase
3. add some other flags at the DB level (feel free to make PRs)

I would go for 2. but please keep the new sentence in sync with the real
meaning of the "trusted" flag: I believe that all core developers should be
"trusted" (just ask Paolo or any other admin and it's just a click) but I
would not restrict the "trust" to core devs: there are many other members
of this community that I'd give trust even if they are not core devs.





On Sat, Sep 9, 2017 at 10:20 AM, Tom Chadwin <tom.chadwin at nnpa.org.uk>
wrote:

> Hello all
>
> Sorry for opening this can of worms, and thanks to all of you for very kind
> words. But obviously, let's move on from the personal to the general point,
> not least to stop my looking as though I was fishing for compliments. I
> very
> much was not.
>
>
> Nyall Dawson wrote
> >> possibly
> >> reinforces the (otherwise seldom apparent) clique nature of devs in
> >> general
> >> and the QGIS core devs in particular...
> >
> > To begin: there's obviously no secret agenda or deliberate 'inner
> > circle' here, so any closed nature of the community has been an
> > accidental organic process vs a deliberate decision.
>
> 100%. Compared to other projects to which I've contributed, this is an
> incredibly welcoming, supportive, and friendly community. I said "otherwise
> seldom apparent" deliberately. I could probably have said "otherwise never
> apparent". I could even broaden this out to the whole geo community - both
> Leaflet and, back in the day, MGOS devs have always welcomed tentative and
> initially nervous contributions from hobbyists.
>
>
> Nyall Dawson wrote
> > So, if you feel comfortable doing this, can you (or any others who
> > have also felt this way) give some pointers on how we can 'break' this
> > and becoming a more welcoming community?
>
> So in that light, my point just refers to this issue. Again, I knew that
> the
> issue I've raised was unintentional, so simply tweaking this process and
> language will do the job.
>
> Matthias and I discussed some possibilities off-list:
>
> - label "core QGIS developer"
> - label plugins which have testing/CI
>
> I'll check back to see if I missed anything else.
>
> Thanks for running with this discussion. It should have a moderately simple
> solution - just haven't quite found it yet.
>
> Thanks again
>
> Tom
>
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170909/9ea94b8b/attachment.html>

From rdmailings at duif.net  Sat Sep  9 04:23:07 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 9 Sep 2017 13:23:07 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
 Author"?
In-Reply-To: <CAL5Q673pybqmYjuk63V=KP4++62AXCvTgPVPxXzV9b0qWFKaNA@mail.gmail.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <CAB28AshTuUbk7K7ojwe-irN+EXvR0joWD3N3dW85z+k-BzVmzg@mail.gmail.com>
 <1504945208243-0.post@n6.nabble.com>
 <CAL5Q673pybqmYjuk63V=KP4++62AXCvTgPVPxXzV9b0qWFKaNA@mail.gmail.com>
Message-ID: <52dd0461-de1e-8959-7eab-e15e7d894004@duif.net>

On 09-09-17 10:42, Alessandro Pasotti wrote:
> 
> Sorry if I repeat myself, this is just to clarify what the "trusted"
> flag is, and why it was introduced.
> 
> The trusted flag has nothing to do with being a core dev or having
> CI/tests: it's a permission flag in the DB, tied to the user who "owns"
> the plugin (the maintainer).
> 
> When a new plugin is submitted, Paolo (please correct me if I'm wrong)
> checks the plugin for mandatory metadata and he makes a
> quick/superficial evaluation, if the plugin does not look particularly
> suspicious or misses some mandatory metadata he approves it straight away.
> 
> But the a.m. procedure is pointless and can be totally avoided if the
> plugin comes from a well known member of this community when there is
> "trust" because of proven record of good plugins or code contributions
> or personal knowledge, beers together in the greenhouses at night etc.
> etc.. 
> 
> So this is all what the "trusted" flag is about: skipping the boring and
> time/consuming procedure of approving plugins for the well-known members
> of this community (and the delay that it causes) .
> 
> Let me say it again:the only difference between a "trusted" user/author
> is that he can approve and publish the plugins by himself.
> 
> The problem started when we decided to advertise the "trusted" flag on
> the plugin manager, I see two options here:
> 
> 1. go back to the pre-trusted times and hide that information from the
> plugin manager
> 2. reword/rephrase
> 3. add some other flags at the DB level (feel free to make PRs)
> 
> I would go for 2. but please keep the new sentence in sync with the real
> meaning of the "trusted" flag: I believe that all core developers should
> be "trusted" (just ask Paolo or any other admin and it's just a click)
> but I would not restrict the "trust" to core devs: there are many other
> members of this community that I'd give trust even if they are not core
> devs.

Thanks Alessandro for this refreshment,

looks like we are two things mixing up here;
A) making approving of plugins easier by giving label to AUTHORS
B) promoting/giving preference to certain 'wellknown' PLUGINS

And actually we have mechanisms for both!

For A we have this 'trusted author' label to make Paolo's work easier
(and let's make it clear: trust IS often a personal thing, which is hard
to hand over to others).

For B we have the 'Starring' mechanism: at
http://plugins.qgis.org/plugins/ AND in the plugin manager
you can 'vote' for a plugin by clicking on one of the stars there.

Given that most users actually do not care too much about the personal
trust between authors and community/admins, I would go for Alessondro's
first option:

1) remove that coloring/sentence from the manager (as it does not prove
anything about the quality of the plugin too)

2) give the 'Starring' of plugins more weight in the applications:
- make the 'Stars' more visible in the plugin manager by moving them to
the top of the information in the plugin dialog
- make it more clear that you can VOTE stars for a plugin in the plugin
manager
- make the stars visible when you search for plugins (now only the names
are shown):
http://plugins.qgis.org/search/?q=pdok

IF somebody wants to dive into the plugin Django application, maybe we
should we could maybe refine these mechanisms (like make it only
possible to add stars when you are logged in or so?), but looking at
them now, we actually had everything pretty well laid out?

Regards,

Richard Duivenvoorde



From pierre.loicq at univ-tours.fr  Sat Sep  9 13:29:10 2017
From: pierre.loicq at univ-tours.fr (Pierre_Loicq)
Date: Sat, 9 Sep 2017 13:29:10 -0700 (MST)
Subject: [QGIS-Developer] Classification of values around zero
In-Reply-To: <1499629891347-5327167.post@n6.nabble.com>
References: <1499629891347-5327167.post@n6.nabble.com>
Message-ID: <1504988950533-0.post@n6.nabble.com>

Hello,

I added a new method of classification in the graduated methods (symbology).
It is aimed at plotting data that are centered on zero, with a class around
zero (like [-1,1] instead of [-1,0],[0,1] ), and with a colorbar that stay
symmetric around zero (for this I remove the extra classes). It uses the
prettyBreaks method. If data are all positive or negative, an alert box
appear.

https://github.com/qgis/QGIS/pull/5161

Hoping that you can include it in 3.0
Thank you
Pierre (Tours, France)



Pierre_Loicq wrote
> Hi,
> 
> At the office, I often need to create map of modeled biases (float
> values), where it make sense to have a first class centered on zero
> (symbology/graduated). I learned C++ some months ago and would like to add
> this functionality as a first application, on the  master branch. 
> 
> Pierre





--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Sat Sep  9 17:38:16 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 10 Sep 2017 00:38:16 -0000
Subject: [QGIS-Developer] Plugin [1305] Calidad-CAR approval notification.
Message-ID: <20170910003816.15186.95456@320558c5528b>


Plugin Calidad-CAR approval by pcav.
The plugin version "[1305] Calidad-CAR 0.4" is now approved
Link: http://plugins.qgis.org/plugins/CalidadCAR/

From noreply at qgis.org  Sat Sep  9 17:38:36 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 10 Sep 2017 00:38:36 -0000
Subject: [QGIS-Developer] Plugin [1052] Projestions approval notification.
Message-ID: <20170910003836.14211.41239@320558c5528b>


Plugin Projestions approval by pcav.
The plugin version "[1052] Projestions 0.3.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Projestions/

From noreply at qgis.org  Sun Sep 10 06:32:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 10 Sep 2017 13:32:01 -0000
Subject: [QGIS-Developer] Plugin [1305] Calidad-CAR approval notification.
Message-ID: <20170910133201.14211.8005@320558c5528b>


Plugin Calidad-CAR approval by pcav.
The plugin version "[1305] Calidad-CAR 0.5" is now approved
Link: http://plugins.qgis.org/plugins/CalidadCAR/

From cavallini at faunalia.it  Mon Sep 11 01:25:31 2017
From: cavallini at faunalia.it (pcav)
Date: Mon, 11 Sep 2017 01:25:31 -0700 (MST)
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
	Author"?
In-Reply-To: <1504945208243-0.post@n6.nabble.com>
References: <CAECJsSqfQ3+hASuY0H6+nJ30kE5=EnJCR-X9GYM1hooK=GEafg@mail.gmail.com>
 <594218f0-9660-e172-6892-1e8f1622680f@duif.net>
 <1504870170409-0.post@n6.nabble.com>
 <CAB28AshTuUbk7K7ojwe-irN+EXvR0joWD3N3dW85z+k-BzVmzg@mail.gmail.com>
 <1504945208243-0.post@n6.nabble.com>
Message-ID: <1505118331093-0.post@n6.nabble.com>

Hi,
Tom is trusted.
All the best.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From stefano.masera at arpa.piemonte.it  Mon Sep 11 07:42:31 2017
From: stefano.masera at arpa.piemonte.it (Stefano Masera)
Date: Mon, 11 Sep 2017 16:42:31 +0200 (CEST)
Subject: [QGIS-Developer] processing runalg in code (not in console) problem
In-Reply-To: <193583772.7124355.1505140528057.JavaMail.zimbra@arpa.piemonte.it>
Message-ID: <1245768485.7125957.1505140951378.JavaMail.zimbra@arpa.piemonte.it>

Hi list, 

I have a plugin that generate a shape in a temp directory using processing in the code (not in console). 
After using it, at the end of the plugin I try to delete the temp directory, but I get an error because the directory is used by another process. 
This is the step by step: 

- open plugin 
- create a temp directory 
- create a shape in the temp directory with processing, code: processing.runalg(...) 
- use the shape 
- try to delete the temp directory (with the shape inside) and I have an access error. 

I suppose the processing algorithm didn't close the file... 
I know I can try by using memory layer, but actually I didn't wan't to use this solution. 
What can I do? 

Thanks 
Stefano 






***************************** 
Stefano Masera 
Arpa Piemonte 
Via Pio VII, 9 - 10135 Torino 
www.arpa.piemonte.it 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170911/8c2ba5a1/attachment.html>

From noreply at qgis.org  Mon Sep 11 08:21:35 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 11 Sep 2017 15:21:35 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20170911152135.16520.49863@320558c5528b>


Plugin DSG Tools approval by pcav.
The plugin version "[715] DSG Tools 3.0.5" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From nyall.dawson at gmail.com  Mon Sep 11 16:59:29 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 12 Sep 2017 09:59:29 +1000
Subject: [QGIS-Developer] Dropping "spatial query" plugin
Message-ID: <CAB28Asj1BiiLKU5JLPhZV4rQ49b7Y+taXo=+vQkpPaM72=fVNg@mail.gmail.com>

Hi all,

I've just opened https://github.com/qgis/QGIS/pull/5170, which drops
the old core "Spatial Query" plugin.

Because the functionality of this plugin is now better handled by the
Processing c++ "Extract by Location" and "Select by Location"
algorithms, in my opinion this plugin can be safely dropped now.

The processing algorithms have the benefits of:

- a familiar, more modern interface
- ability to be included in multi-step models
- ability to be used in batch modes
- always available in all QGIS installs (as opposed to the always
installed, but disabled-by-default spatial query plugin)
- unit tests
- non-blocking execution
- more optimised code
- features can be extracted to a new layer regardless of input layer
type (spatial query only allows this for spatialite, postgres and some
other formats)

There's one feature which is available in the spatial query plugin
which isn't present in the processing algs - the interactive list of
affected feature ids (clicking features in the list will zoom to
them). However - I don't consider this list alone to be worth keeping
the plugin alive for, since most users won't find a list of raw
feature IDs particularly helpful.

Please speak up if you think there's still a requirement to keep this
plugin around, otherwise it will be dropped for 3.0!

Nyall

From alexander.bruy at gmail.com  Mon Sep 11 22:03:54 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue, 12 Sep 2017 08:03:54 +0300
Subject: [QGIS-Developer] Dropping "spatial query" plugin
In-Reply-To: <CAB28Asj1BiiLKU5JLPhZV4rQ49b7Y+taXo=+vQkpPaM72=fVNg@mail.gmail.com>
References: <CAB28Asj1BiiLKU5JLPhZV4rQ49b7Y+taXo=+vQkpPaM72=fVNg@mail.gmail.com>
Message-ID: <CALuHMPBSiu-bNxMMC+W8pO_8=Km3G6wUvF=ceHYD4wsvNVZCyw@mail.gmail.com>

+1 for removal.

2017-09-12 2:59 GMT+03:00 Nyall Dawson <nyall.dawson at gmail.com>:
> Hi all,
>
> I've just opened https://github.com/qgis/QGIS/pull/5170, which drops
> the old core "Spatial Query" plugin.
>
> Because the functionality of this plugin is now better handled by the
> Processing c++ "Extract by Location" and "Select by Location"
> algorithms, in my opinion this plugin can be safely dropped now.
>
> The processing algorithms have the benefits of:
>
> - a familiar, more modern interface
> - ability to be included in multi-step models
> - ability to be used in batch modes
> - always available in all QGIS installs (as opposed to the always
> installed, but disabled-by-default spatial query plugin)
> - unit tests
> - non-blocking execution
> - more optimised code
> - features can be extracted to a new layer regardless of input layer
> type (spatial query only allows this for spatialite, postgres and some
> other formats)
>
> There's one feature which is available in the spatial query plugin
> which isn't present in the processing algs - the interactive list of
> affected feature ids (clicking features in the list will zoom to
> them). However - I don't consider this list alone to be worth keeping
> the plugin alive for, since most users won't find a list of raw
> feature IDs particularly helpful.
>
> Please speak up if you think there's still a requirement to keep this
> plugin around, otherwise it will be dropped for 3.0!
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From anitagraser at gmx.at  Mon Sep 11 23:41:58 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 12 Sep 2017 08:41:58 +0200
Subject: [QGIS-Developer] Dropping "spatial query" plugin
In-Reply-To: <CALuHMPBSiu-bNxMMC+W8pO_8=Km3G6wUvF=ceHYD4wsvNVZCyw@mail.gmail.com>
References: <CAB28Asj1BiiLKU5JLPhZV4rQ49b7Y+taXo=+vQkpPaM72=fVNg@mail.gmail.com>
 <CALuHMPBSiu-bNxMMC+W8pO_8=Km3G6wUvF=ceHYD4wsvNVZCyw@mail.gmail.com>
Message-ID: <CAFFV8Fh9JeT_KT2GdacP=Y-furtV3OjcUUk3j3F4B0V4Wc+_GQ@mail.gmail.com>

+1 to remove since the "lost" functionality is pretty much covered by the
regular attribute table anyway.
Anita


On Tue, Sep 12, 2017 at 7:03 AM, Alexander Bruy <alexander.bruy at gmail.com>
wrote:

> +1 for removal.
>
> 2017-09-12 2:59 GMT+03:00 Nyall Dawson <nyall.dawson at gmail.com>:
> > Hi all,
> >
> > I've just opened https://github.com/qgis/QGIS/pull/5170, which drops
> > the old core "Spatial Query" plugin.
> >
> > Because the functionality of this plugin is now better handled by the
> > Processing c++ "Extract by Location" and "Select by Location"
> > algorithms, in my opinion this plugin can be safely dropped now.
> >
> > The processing algorithms have the benefits of:
> >
> > - a familiar, more modern interface
> > - ability to be included in multi-step models
> > - ability to be used in batch modes
> > - always available in all QGIS installs (as opposed to the always
> > installed, but disabled-by-default spatial query plugin)
> > - unit tests
> > - non-blocking execution
> > - more optimised code
> > - features can be extracted to a new layer regardless of input layer
> > type (spatial query only allows this for spatialite, postgres and some
> > other formats)
> >
> > There's one feature which is available in the spatial query plugin
> > which isn't present in the processing algs - the interactive list of
> > affected feature ids (clicking features in the list will zoom to
> > them). However - I don't consider this list alone to be worth keeping
> > the plugin alive for, since most users won't find a list of raw
> > feature IDs particularly helpful.
> >
> > Please speak up if you think there's still a requirement to keep this
> > plugin around, otherwise it will be dropped for 3.0!
> >
> > Nyall
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alexander Bruy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170912/a1c1a805/attachment.html>

From noreply at qgis.org  Tue Sep 12 00:18:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 12 Sep 2017 07:18:22 -0000
Subject: [QGIS-Developer] Plugin [1292] GeoTrace approval notification.
Message-ID: <20170912071822.15186.98603@320558c5528b>


Plugin GeoTrace approval by pcav.
The plugin version "[1292] GeoTrace 1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/GeoTrace/

From regis.haubourg at gmail.com  Tue Sep 12 01:41:21 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 12 Sep 2017 10:41:21 +0200
Subject: [QGIS-Developer] Dropping "spatial query" plugin
In-Reply-To: <CAFFV8Fh9JeT_KT2GdacP=Y-furtV3OjcUUk3j3F4B0V4Wc+_GQ@mail.gmail.com>
References: <CAB28Asj1BiiLKU5JLPhZV4rQ49b7Y+taXo=+vQkpPaM72=fVNg@mail.gmail.com>
 <CALuHMPBSiu-bNxMMC+W8pO_8=Km3G6wUvF=ceHYD4wsvNVZCyw@mail.gmail.com>
 <CAFFV8Fh9JeT_KT2GdacP=Y-furtV3OjcUUk3j3F4B0V4Wc+_GQ@mail.gmail.com>
Message-ID: <CABgOYCf91uKqtz09NuLtwf-4UZ09hqHGnyhLGRfPiereqQYxHA@mail.gmail.com>

+1 , let's get rid of it, it had many issues also.

2017-09-12 8:41 GMT+02:00 Anita Graser <anitagraser at gmx.at>:

> +1 to remove since the "lost" functionality is pretty much covered by the
> regular attribute table anyway.
> Anita
>
>
> On Tue, Sep 12, 2017 at 7:03 AM, Alexander Bruy <alexander.bruy at gmail.com>
> wrote:
>
>> +1 for removal.
>>
>> 2017-09-12 2:59 GMT+03:00 Nyall Dawson <nyall.dawson at gmail.com>:
>> > Hi all,
>> >
>> > I've just opened https://github.com/qgis/QGIS/pull/5170, which drops
>> > the old core "Spatial Query" plugin.
>> >
>> > Because the functionality of this plugin is now better handled by the
>> > Processing c++ "Extract by Location" and "Select by Location"
>> > algorithms, in my opinion this plugin can be safely dropped now.
>> >
>> > The processing algorithms have the benefits of:
>> >
>> > - a familiar, more modern interface
>> > - ability to be included in multi-step models
>> > - ability to be used in batch modes
>> > - always available in all QGIS installs (as opposed to the always
>> > installed, but disabled-by-default spatial query plugin)
>> > - unit tests
>> > - non-blocking execution
>> > - more optimised code
>> > - features can be extracted to a new layer regardless of input layer
>> > type (spatial query only allows this for spatialite, postgres and some
>> > other formats)
>> >
>> > There's one feature which is available in the spatial query plugin
>> > which isn't present in the processing algs - the interactive list of
>> > affected feature ids (clicking features in the list will zoom to
>> > them). However - I don't consider this list alone to be worth keeping
>> > the plugin alive for, since most users won't find a list of raw
>> > feature IDs particularly helpful.
>> >
>> > Please speak up if you think there's still a requirement to keep this
>> > plugin around, otherwise it will be dropped for 3.0!
>> >
>> > Nyall
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> --
>> Alexander Bruy
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170912/34f60feb/attachment-0001.html>

From noreply at qgis.org  Tue Sep 12 02:57:15 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 12 Sep 2017 09:57:15 -0000
Subject: [QGIS-Developer] Plugin [1316] Location Lab QGIS Plugin approval
	notification.
Message-ID: <20170912095715.15186.9236@320558c5528b>


Plugin Location Lab QGIS Plugin approval by pcav.
The plugin version "[1316] Location Lab QGIS Plugin 1.0.7" is now approved
Link: http://plugins.qgis.org/plugins/location_lab/

From tom.chadwin at nnpa.org.uk  Tue Sep 12 08:16:30 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 12 Sep 2017 08:16:30 -0700 (MST)
Subject: [QGIS-Developer] processing runalg in code (not in console)
 problem
In-Reply-To: <1245768485.7125957.1505140951378.JavaMail.zimbra@arpa.piemonte.it>
References: <1245768485.7125957.1505140951378.JavaMail.zimbra@arpa.piemonte.it>
Message-ID: <1505229390451-0.post@n6.nabble.com>

Hi Stefano

I've come across this issue myself. I don't have any real help myself, but
here are some links, including a possible workaround:

https://issues.qgis.org/issues/12502
http://osgeo-org.1560.x6.nabble.com/release-file-after-processing-runalg-tp5318609p5319597.html

Let us know if you make any progress

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From denis.rouzaud at gmail.com  Tue Sep 12 11:24:14 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 12 Sep 2017 18:24:14 +0000
Subject: [QGIS-Developer] Docker build timeout
Message-ID: <CAMtsY+b+3irKr6U+hOyUPn6y-quyq4G_CyVFQG6SYsOskUQfyw@mail.gmail.com>

Dear all,

For a few commits, docker is now timing out to build QGIS within 4 hours.
I would like to be able to save ccache data for the build in a remote
location.
Sadly docker does not support git LFS.
Do we have any storage available (any server or AWS)?

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170912/4356c9f6/attachment.html>

From noreply at qgis.org  Tue Sep 12 14:04:45 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 12 Sep 2017 21:04:45 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20170912210445.16520.85290@320558c5528b>


Plugin Lat Lon Tools approval by pcav.
The plugin version "[1035] Lat Lon Tools 0.9.6" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From tim at kartoza.com  Tue Sep 12 14:44:47 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 12 Sep 2017 23:44:47 +0200
Subject: [QGIS-Developer] Docker build timeout
In-Reply-To: <CAMtsY+b+3irKr6U+hOyUPn6y-quyq4G_CyVFQG6SYsOskUQfyw@mail.gmail.com>
References: <CAMtsY+b+3irKr6U+hOyUPn6y-quyq4G_CyVFQG6SYsOskUQfyw@mail.gmail.com>
Message-ID: <CAES-DZRqx7oxT61QUUiQuhnRPO8ei=Sr_mDxEhAih9ZgFCKc6A@mail.gmail.com>

Hi



On Tue, Sep 12, 2017 at 8:24 PM, Denis Rouzaud <denis.rouzaud at gmail.com>
wrote:

> Dear all,
>
> For a few commits, docker is now timing out to build QGIS within 4 hours.
> I would like to be able to save ccache data for the build in a remote
> location.
> Sadly docker does not support git LFS.
> Do we have any storage available (any server or AWS)?
>

​I gave up trying to build on docker hub because it is pretty unreliable
(even when it isn't timing out). If anyone can set up a git hook on one of
our servers (or we could add one) we can trigger the builds on our own
machine and then docker push them into hub....

Regards

Tim​



>
> Cheers,
> Denis
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
------------------------------------------------------------------------------------------
​

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
Kartoza is a merger between Linfiniti and Afrispatial
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170912/380a733a/attachment.html>

From noreply at qgis.org  Tue Sep 12 21:51:24 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Sep 2017 04:51:24 -0000
Subject: [QGIS-Developer] Plugin [1195] MPA Post-Hoc Accounting approval
	notification.
Message-ID: <20170913045124.16520.55226@320558c5528b>


Plugin MPA Post-Hoc Accounting approval by pcav.
The plugin version "[1195] MPA Post-Hoc Accounting 0.5 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MPAPostHocAccounting/

From apasotti at gmail.com  Tue Sep 12 22:50:37 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 13 Sep 2017 07:50:37 +0200
Subject: [QGIS-Developer] Docker build timeout
In-Reply-To: <CAES-DZRqx7oxT61QUUiQuhnRPO8ei=Sr_mDxEhAih9ZgFCKc6A@mail.gmail.com>
References: <CAMtsY+b+3irKr6U+hOyUPn6y-quyq4G_CyVFQG6SYsOskUQfyw@mail.gmail.com>
 <CAES-DZRqx7oxT61QUUiQuhnRPO8ei=Sr_mDxEhAih9ZgFCKc6A@mail.gmail.com>
Message-ID: <CAL5Q6728wQqouJTxCBfph9Fv3b_z=BHw=rgcyFMMG7hPOnuCUQ@mail.gmail.com>

On Tue, Sep 12, 2017 at 11:44 PM, Tim Sutton <tim at kartoza.com> wrote:

> Hi
>
>
>
> On Tue, Sep 12, 2017 at 8:24 PM, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
>
>> Dear all,
>>
>> For a few commits, docker is now timing out to build QGIS within 4 hours.
>> I would like to be able to save ccache data for the build in a remote
>> location.
>> Sadly docker does not support git LFS.
>> Do we have any storage available (any server or AWS)?
>>
>
> ​I gave up trying to build on docker hub because it is pretty unreliable
> (even when it isn't timing out). If anyone can set up a git hook on one of
> our servers (or we could add one) we can trigger the builds on our own
> machine and then docker push them into hub....
>
> Regards
>
> Tim​
>
>
We also gave up building on docker hub for the same reason. Our setup is
currently a Vagrant that runs on AWS and builds the docker, the final
docker is then pushed to docker hub.
Building on a large AMI takes 40 minutes and since the instance is just
running once a day for 40 minutes and switched off right after the build,
it's pretty cheap.

I believe that QGIS.org could sustain the price if that's a viable solution.

Cheers.





>
>>
>> Cheers,
>> Denis
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> ------------------------------------------------------------
> ------------------------------
> ​
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Skype: timlinux Irc: timlinux on #qgis at freenode.net
> Tim is a member of the QGIS Project Steering Committee
> ------------------------------------------------------------
> -------------------------------
> Kartoza is a merger between Linfiniti and Afrispatial
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170913/2c0777ab/attachment.html>

From rdmailings at duif.net  Wed Sep 13 02:28:30 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 13 Sep 2017 09:28:30 +0000
Subject: [QGIS-Developer] Should 'Topological coloring' not end with a
	colored map?
Message-ID: <e7005931b27cd4875dac999319559709@duif.net>


In the Processing Toolbox there is a 'Topological coloring' algorithm 
now.

My first run, ended up with an output layer 'Colored' styled in one 
color green.
Tried to fiddle some with the paramers, then tried other data, and 
then...
Read the help text and saw that it is generating a 'color_id'/index 
which is to be used then to create a Categorized style on it.

Question: should this not just be the end product of this algorithm?
Given it is named 'Coloring' and the output is 'Colored'?

Or is there an argument to NOT do it?

Else: what about just creating a Categorized style with random colors to 
see the result?

I can try to add it myself, I'm just wondering if there is a special 
reason to NOT add it (other then: takes time :-) )

Regards,

Richard Duivenvoorde

From strk at kbt.io  Wed Sep 13 02:40:37 2017
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 13 Sep 2017 11:40:37 +0200
Subject: [QGIS-Developer] Should 'Topological coloring' not end with a
 colored map?
In-Reply-To: <e7005931b27cd4875dac999319559709@duif.net>
References: <e7005931b27cd4875dac999319559709@duif.net>
Message-ID: <20170913094037.7mlmmjyq5x2jpa3l@liz>

On Wed, Sep 13, 2017 at 09:28:30AM +0000, Richard Duivenvoorde wrote:

> In the Processing Toolbox there is a 'Topological coloring' algorithm now.

[...]

> Question: should this not just be the end product of this algorithm?
> Given it is named 'Coloring' and the output is 'Colored'?

I'm all for it, having had the same experience.

--strk;

From nihcas.c76 at gmail.com  Wed Sep 13 04:40:27 2017
From: nihcas.c76 at gmail.com (nihcas)
Date: Wed, 13 Sep 2017 04:40:27 -0700 (MST)
Subject: [QGIS-Developer] Increase the size of validateCoordinates box
Message-ID: <1505302827573-0.post@n6.nabble.com>

Hi,

I want to increase the size of coordinate display box at status bar. However
setMaximumWidth set to 400 but its not increasing.

mLineEdit = new QLineEdit( this );
mLineEdit->setMinimumWidth( 10 );
*mLineEdit->setMaximumWidth( 300 );*
//mLineEdit->setMaximumHeight( 20 );
mLineEdit->setContentsMargins( 0, 0, 0, 0 );
mLineEdit->setAlignment( Qt::AlignCenter );
connect( mLineEdit, &QLineEdit::returnPressed, this,
&QgsStatusBarCoordinatesWidget::validateCoordinates );

Any one help me out?

Regards



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tom.chadwin at nnpa.org.uk  Wed Sep 13 07:14:14 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 13 Sep 2017 07:14:14 -0700 (MST)
Subject: [QGIS-Developer] Increase the size of validateCoordinates box
In-Reply-To: <1505302827573-0.post@n6.nabble.com>
References: <1505302827573-0.post@n6.nabble.com>
Message-ID: <1505312054473-0.post@n6.nabble.com>

Increase setMinimumWidth()?

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Wed Sep 13 09:42:45 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Sep 2017 16:42:45 -0000
Subject: [QGIS-Developer] Plugin [1329] FREEWAT approval notification.
Message-ID: <20170913164245.11371.85912@320558c5528b>


Plugin FREEWAT approval by pcav.
The plugin version "[1329] FREEWAT 1.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/freewat/

From noreply at qgis.org  Wed Sep 13 14:06:36 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Sep 2017 21:06:36 -0000
Subject: [QGIS-Developer] Plugin [1305] Calidad-CAR approval notification.
Message-ID: <20170913210636.16520.11026@320558c5528b>


Plugin Calidad-CAR approval by pcav.
The plugin version "[1305] Calidad-CAR 0.6" is now approved
Link: http://plugins.qgis.org/plugins/CalidadCAR/

From noreply at qgis.org  Wed Sep 13 14:49:07 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Sep 2017 21:49:07 -0000
Subject: [QGIS-Developer] Plugin [407] geopunt4Qgis approval notification.
Message-ID: <20170913214907.12939.86403@320558c5528b>


Plugin geopunt4Qgis approval by pcav.
The plugin version "[407] geopunt4Qgis 1.6.8 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/geopunt4Qgis/

From SSchmidt at gfi-gis.de  Thu Sep 14 02:53:22 2017
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Thu, 14 Sep 2017 11:53:22 +0200
Subject: [QGIS-Developer] understand qgsrulebasedlabeling
Message-ID: <OF87E2ADA9.8A11DC51-ONC125819B.0035DAD2-C125819B.0036E567@gfi-gis.de>

Hi, 

Please have a look at this question about programming with 
qgsrulebasedlabeling, think nobody else than you could illuminate me ;-)
https://gis.stackexchange.com/questions/254945/understand-qgsrulebasedlabeling

Freundliche Grüße aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft für Informationstechnologie mbH
Philipp-Rosenthal-Straße 9
D-04103 Leipzig
Geschäftsführer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
ESRI Solution Partner      und       ER Mapper Reseller
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de  und  www.themenbrowser.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170914/cedd73e5/attachment.html>

From senhor.neto at gmail.com  Thu Sep 14 02:56:05 2017
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Thu, 14 Sep 2017 09:56:05 +0000
Subject: [QGIS-Developer] Small UI changes in Field Calculator proposal
Message-ID: <CA+H0G_HjaxdH2HJqaNs9froMyFYSqdnVMcG1bo0bpkR9X2a-TA@mail.gmail.com>

While I was writing a tutorial about Field Calculator I thought about some
small changes. I can do it, but I would like to have the opinion of others.

1. Change "Create virtual field" to "Create as virtual field"

New users may think they will create a new field and a virtual field

2. Change "output" to "new"

If we are creating a "new field", why not call it so when we are talking
about its properties? Besides, it's shorter.

3. Make the "Create new field" and the "Update existing field" frames
expand together, and not only the "Update existing field"

https://imgur.com/a/EMwyn
-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170914/b76abe36/attachment.html>

From regis.haubourg at gmail.com  Thu Sep 14 06:11:56 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 14 Sep 2017 15:11:56 +0200
Subject: [QGIS-Developer] Small UI changes in Field Calculator proposal
In-Reply-To: <CA+H0G_HjaxdH2HJqaNs9froMyFYSqdnVMcG1bo0bpkR9X2a-TA@mail.gmail.com>
References: <CA+H0G_HjaxdH2HJqaNs9froMyFYSqdnVMcG1bo0bpkR9X2a-TA@mail.gmail.com>
Message-ID: <CABgOYCeKXX=u8Gq+LGN2PH9=xV3=ijO16H711zfzFJ=O-iT6eg@mail.gmail.com>

Hi

2017-09-14 11:56 GMT+02:00 Alexandre Neto <senhor.neto at gmail.com>:

> While I was writing a tutorial about Field Calculator I thought about some
> small changes. I can do it, but I would like to have the opinion of others.
>
> 1. Change "Create virtual field" to "Create as virtual field"
>
> New users may think they will create a new field and a virtual field
>

+1


>
> 2. Change "output" to "new"
>
> If we are creating a "new field", why not call it so when we are talking
> about its properties? Besides, it's shorter.
>

+1


>
> 3. Make the "Create new field" and the "Update existing field" frames
> expand together, and not only the "Update existing field"
>
> https://imgur.com/a/EMwyn
>

+1

>
> --
> Alexandre Neto
> ---------------------
> @AlexNetoGeo
> http://sigsemgrilhetas.wordpress.com
> http://gisunchained.wordpress.com
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170914/7bdf6b54/attachment.html>

From noreply at qgis.org  Thu Sep 14 08:17:17 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 14 Sep 2017 15:17:17 -0000
Subject: [QGIS-Developer] Plugin [1247] Data Plotly approval notification.
Message-ID: <20170914151717.1032.10914@320558c5528b>


Plugin Data Plotly approval by pcav.
The plugin version "[1247] Data Plotly 1.0" is now approved
Link: http://plugins.qgis.org/plugins/DataPlotly/

From noreply at qgis.org  Thu Sep 14 08:17:43 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 14 Sep 2017 15:17:43 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20170914151743.12394.26309@320558c5528b>


Plugin DSG Tools approval by pcav.
The plugin version "[715] DSG Tools 3.0.6" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From noreply at qgis.org  Thu Sep 14 08:18:08 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 14 Sep 2017 15:18:08 -0000
Subject: [QGIS-Developer] Plugin [1329] FREEWAT approval notification.
Message-ID: <20170914151808.25354.77491@320558c5528b>


Plugin FREEWAT approval by pcav.
The plugin version "[1329] FREEWAT 1.0.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/freewat/

From rldhont at gmail.com  Thu Sep 14 08:54:43 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 14 Sep 2017 17:54:43 +0200
Subject: [QGIS-Developer] geos_c.h not found on MacOS
Message-ID: <fd06cb30-d637-d626-6868-1919c5a0ad58@gmail.com>

Hi Devs,

Two PRs have been opened for the same issue:
https://github.com/qgis/QGIS/pull/5192 macOS needs path to GEOS framework
https://github.com/qgis/QGIS/pull/5196 Fix geos_c.h not found

Any reviewers ?

Regards,
René-Luc

From a.neumann at carto.net  Thu Sep 14 09:34:45 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 14 Sep 2017 18:34:45 +0200
Subject: [QGIS-Developer] Problem with atlas rule-based styling
Message-ID: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>

Hi,

I use a rule-based styling to distinguish the feature is currently 
active in Atlas from other features that aren't active.

This is my very simple rule:

$id =  @atlas_featureid

The problem is when I close the atlas data sheet (print composer) - then 
the symbology rule still remains active in the main map.

Is there a way around this problem? Can I detect if the print composer 
atlas sheet is open or closed?

Thanks for any ideas,

Andreas


From a.neumann at carto.net  Thu Sep 14 09:39:46 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 14 Sep 2017 18:39:46 +0200
Subject: [QGIS-Developer] Problem with atlas rule-based styling
In-Reply-To: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
References: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
Message-ID: <81b95407-7e25-ca4b-10f5-491abce7e830@carto.net>

On the same topic:

I wonder why the Atlas rule applies on main canvas at all? Shouldn't it 
only be applied in the print composer?

I always found it very, very, very odd that Atlas changes my main canvas 
at all. I think it should only change map symbology in print composer.

Or is this some old design or limitation?

Andreas


On 14.09.2017 18:34, Andreas Neumann wrote:
> Hi,
>
> I use a rule-based styling to distinguish the feature is currently 
> active in Atlas from other features that aren't active.
>
> This is my very simple rule:
>
> $id =  @atlas_featureid
>
> The problem is when I close the atlas data sheet (print composer) - 
> then the symbology rule still remains active in the main map.
>
> Is there a way around this problem? Can I detect if the print composer 
> atlas sheet is open or closed?
>
> Thanks for any ideas,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From noreply at qgis.org  Thu Sep 14 23:50:44 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 15 Sep 2017 06:50:44 -0000
Subject: [QGIS-Developer] Plugin [1327] AusMap approval notification.
Message-ID: <20170915065044.1032.92073@320558c5528b>


Plugin AusMap approval by pcav.
The plugin version "[1327] AusMap 0.1" is now approved
Link: http://plugins.qgis.org/plugins/AusMap-master/

From a.neumann at carto.net  Fri Sep 15 01:30:04 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 10:30:04 +0200
Subject: [QGIS-Developer] Problem with atlas rule-based styling
In-Reply-To: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
References: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
Message-ID: <3fb1c6d2-fd9d-9a36-e3a1-ac66bdf3b390@carto.net>

Answering myself:

by adding in the @map_id variable into the rule I can avoid that the 
main map canvas gets changed. My particular problem is thus solved.

But the question remains: why is the Atlas printing feature changing the 
main map canvas at all? Anything done in the print composer should have 
no influence on the rendering in the main canvas in my opinion. Other 
thoughts? Can this be fixed with QGIS 3 ?

Thanks,
Andreas

On 14.09.2017 18:34, Andreas Neumann wrote:
> Hi,
>
> I use a rule-based styling to distinguish the feature is currently 
> active in Atlas from other features that aren't active.
>
> This is my very simple rule:
>
> $id =  @atlas_featureid
>
> The problem is when I close the atlas data sheet (print composer) - 
> then the symbology rule still remains active in the main map.
>
> Is there a way around this problem? Can I detect if the print composer 
> atlas sheet is open or closed?
>
> Thanks for any ideas,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From nyall.dawson at gmail.com  Fri Sep 15 01:37:32 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 15 Sep 2017 18:37:32 +1000
Subject: [QGIS-Developer] Problem with atlas rule-based styling
In-Reply-To: <3fb1c6d2-fd9d-9a36-e3a1-ac66bdf3b390@carto.net>
References: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
 <3fb1c6d2-fd9d-9a36-e3a1-ac66bdf3b390@carto.net>
Message-ID: <CAB28Asg8bRB0JEVn_Jm_NnSP_9AQkvxq4tWF66ZO7ikixEEjtA@mail.gmail.com>

On 15 September 2017 at 18:30, Andreas Neumann <a.neumann at carto.net> wrote:
> Answering myself:
>
> by adding in the @map_id variable into the rule I can avoid that the main
> map canvas gets changed. My particular problem is thus solved.
>
> But the question remains: why is the Atlas printing feature changing the
> main map canvas at all? Anything done in the print composer should have no
> influence on the rendering in the main canvas in my opinion. Other thoughts?
> Can this be fixed with QGIS 3 ?

It was by design originally, allowing the symbology and labeling rules
to be tweaked in the canvas and see immediately the result this would
have.

Otherwise you'd need to keep changing settings -> flipping to composer
and refreshing -> then back to canvas to tweak again.

Nyall

>
> Thanks,
> Andreas
>
> On 14.09.2017 18:34, Andreas Neumann wrote:
>>
>> Hi,
>>
>> I use a rule-based styling to distinguish the feature is currently active
>> in Atlas from other features that aren't active.
>>
>> This is my very simple rule:
>>
>> $id =  @atlas_featureid
>>
>> The problem is when I close the atlas data sheet (print composer) - then
>> the symbology rule still remains active in the main map.
>>
>> Is there a way around this problem? Can I detect if the print composer
>> atlas sheet is open or closed?
>>
>> Thanks for any ideas,
>>
>> Andreas
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From a.neumann at carto.net  Fri Sep 15 02:46:02 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 11:46:02 +0200
Subject: [QGIS-Developer] Problem with atlas rule-based styling
In-Reply-To: <CAB28Asg8bRB0JEVn_Jm_NnSP_9AQkvxq4tWF66ZO7ikixEEjtA@mail.gmail.com>
References: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
 <3fb1c6d2-fd9d-9a36-e3a1-ac66bdf3b390@carto.net>
 <CAB28Asg8bRB0JEVn_Jm_NnSP_9AQkvxq4tWF66ZO7ikixEEjtA@mail.gmail.com>
Message-ID: <50555b4b-9b96-7e1f-0c16-56ec04f808cc@carto.net>

Hi Nyall,

Fair enough - for some use cases.

Still I don't like that there is no way of correctly exiting "Atlas 
printing mode" in the main canvas. If print composer is closed, the 
symbology is still influenced by Atlas. Not so nice. I think a user 
would expect that if Atlas is not active anymore (say if the Atlas 
preview is inactive) or at least when the print composer containing 
Atlas is closed, that the symbology would be back to normal.

Should I open an issue about this behaviour?

Andreas


On 15.09.2017 10:37, Nyall Dawson wrote:
> On 15 September 2017 at 18:30, Andreas Neumann <a.neumann at carto.net> wrote:
>> Answering myself:
>>
>> by adding in the @map_id variable into the rule I can avoid that the main
>> map canvas gets changed. My particular problem is thus solved.
>>
>> But the question remains: why is the Atlas printing feature changing the
>> main map canvas at all? Anything done in the print composer should have no
>> influence on the rendering in the main canvas in my opinion. Other thoughts?
>> Can this be fixed with QGIS 3 ?
> It was by design originally, allowing the symbology and labeling rules
> to be tweaked in the canvas and see immediately the result this would
> have.
>
> Otherwise you'd need to keep changing settings -> flipping to composer
> and refreshing -> then back to canvas to tweak again.
>
> Nyall
>
>> Thanks,
>> Andreas
>>
>> On 14.09.2017 18:34, Andreas Neumann wrote:
>>> Hi,
>>>
>>> I use a rule-based styling to distinguish the feature is currently active
>>> in Atlas from other features that aren't active.
>>>
>>> This is my very simple rule:
>>>
>>> $id =  @atlas_featureid
>>>
>>> The problem is when I close the atlas data sheet (print composer) - then
>>> the symbology rule still remains active in the main map.
>>>
>>> Is there a way around this problem? Can I detect if the print composer
>>> atlas sheet is open or closed?
>>>
>>> Thanks for any ideas,
>>>
>>> Andreas
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From tom.chadwin at nnpa.org.uk  Fri Sep 15 05:40:59 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 15 Sep 2017 05:40:59 -0700 (MST)
Subject: [QGIS-Developer] Problem with atlas rule-based styling
In-Reply-To: <50555b4b-9b96-7e1f-0c16-56ec04f808cc@carto.net>
References: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
 <3fb1c6d2-fd9d-9a36-e3a1-ac66bdf3b390@carto.net>
 <CAB28Asg8bRB0JEVn_Jm_NnSP_9AQkvxq4tWF66ZO7ikixEEjtA@mail.gmail.com>
 <50555b4b-9b96-7e1f-0c16-56ec04f808cc@carto.net>
Message-ID: <1505479259211-0.post@n6.nabble.com>

What value does @atlas_featureid have if the composer/atlas has never been
opened - in this session/in this project's lifetime? If null/none/similar,
is resetting @atlas_featureid to that value on composer/atlas close the best
proposal?

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From a.neumann at carto.net  Fri Sep 15 05:43:53 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 14:43:53 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
Message-ID: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>

Hi,

While porting a project from QGIS 2x to 3x I came across a Python issue:

In QGIS 2.x I had a code like below working:

feature = FeatureIterator.next()

In QGIS 3x it says that object has no attribut next.

How do I access the first result of a feature iterator in QGIS 3?

I don't want to loop, because I know that my FeatureIterator always has 
just one result. I just want to access this first feature.

Thanks for your help,

Andreas


From a.neumann at carto.net  Fri Sep 15 05:45:55 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 14:45:55 +0200
Subject: [QGIS-Developer] Problem with atlas rule-based styling
In-Reply-To: <1505479259211-0.post@n6.nabble.com>
References: <ed8be7a7-7526-2bbc-273a-d213199b3301@carto.net>
 <3fb1c6d2-fd9d-9a36-e3a1-ac66bdf3b390@carto.net>
 <CAB28Asg8bRB0JEVn_Jm_NnSP_9AQkvxq4tWF66ZO7ikixEEjtA@mail.gmail.com>
 <50555b4b-9b96-7e1f-0c16-56ec04f808cc@carto.net>
 <1505479259211-0.post@n6.nabble.com>
Message-ID: <7934b964-1dd5-c67d-3a29-163989195d1a@carto.net>

Sounds like a good proposal, Tom!

Thanks,

Andreas


On 15.09.2017 14:40, Tom Chadwin wrote:
> What value does @atlas_featureid have if the composer/atlas has never been
> opened - in this session/in this project's lifetime? If null/none/similar,
> is resetting @atlas_featureid to that value on composer/atlas close the best
> proposal?
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From a.neumann at carto.net  Fri Sep 15 06:40:44 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 15:40:44 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
Message-ID: <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>

Hi,

Found out that I can access my first feature like:

feature = list(FeatureIterator)[0]

but not sure if this is recommended and efficient.

Why was the next() method of the feature iterator removed in QGIS 3? Is 
there a particular reason for that?

Thanks,

Andreas


On 15.09.2017 14:43, Andreas Neumann wrote:
> Hi,
>
> While porting a project from QGIS 2x to 3x I came across a Python issue:
>
> In QGIS 2.x I had a code like below working:
>
> feature = FeatureIterator.next()
>
> In QGIS 3x it says that object has no attribut next.
>
> How do I access the first result of a feature iterator in QGIS 3?
>
> I don't want to loop, because I know that my FeatureIterator always 
> has just one result. I just want to access this first feature.
>
> Thanks for your help,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From matthias at opengis.ch  Fri Sep 15 06:43:46 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 15 Sep 2017 15:43:46 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
Message-ID: <b92f0faf-aa83-08dd-7be5-cd81598cc96e@opengis.ch>

Hi Andreas,

that hasn't been a QGIS decision but a python3 one.

next(featureIterator) is the way proposed for python3. I am not sure
about the reasons for this change though.

Matthias

On 09/15/2017 03:40 PM, Andreas Neumann wrote:
> Hi,
> 
> Found out that I can access my first feature like:
> 
> feature = list(FeatureIterator)[0]
> 
> but not sure if this is recommended and efficient.
> 
> Why was the next() method of the feature iterator removed in QGIS 3? Is
> there a particular reason for that?
> 
> Thanks,
> 
> Andreas
> 
> 
> On 15.09.2017 14:43, Andreas Neumann wrote:
>> Hi,
>>
>> While porting a project from QGIS 2x to 3x I came across a Python issue:
>>
>> In QGIS 2.x I had a code like below working:
>>
>> feature = FeatureIterator.next()
>>
>> In QGIS 3x it says that object has no attribut next.
>>
>> How do I access the first result of a feature iterator in QGIS 3?
>>
>> I don't want to loop, because I know that my FeatureIterator always
>> has just one result. I just want to access this first feature.
>>
>> Thanks for your help,
>>
>> Andreas
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From matteo.ghetta at gmail.com  Fri Sep 15 06:44:21 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 15 Sep 2017 15:44:21 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
Message-ID: <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>

Hi Andreas,

if I'm not wrong the next method is not been removed, it is a python 3 *fix*

https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0

so instead of:

it = layer.getFeatures()
it.next()

just type

it = layer.getFeatures()
next(it)

Matteo

From matthias at opengis.ch  Fri Sep 15 06:47:43 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 15 Sep 2017 15:47:43 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
 <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
Message-ID: <c8faf04b-9722-6aae-e63b-22139e789750@opengis.ch>

I quickly googled for the reason for this

PEP 3114 (https://www.python.org/dev/peps/pep-3114/)

So next() was renamed to __next__() for consistency, because it's a
builtin method.

iterator.__next__() or next(iterator) should yield the same item.

Matthias

On 09/15/2017 03:44 PM, matteo wrote:
> Hi Andreas,
> 
> if I'm not wrong the next method is not been removed, it is a python 3 *fix*
> 
> https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0
> 
> so instead of:
> 
> it = layer.getFeatures()
> it.next()
> 
> just type
> 
> it = layer.getFeatures()
> next(it)
> 
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From a.neumann at carto.net  Fri Sep 15 06:48:21 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 15:48:21 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
 <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
Message-ID: <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>

Hi Matteo and Matthias,

Thanks - that works fine. I did not know that this changed in Python 3.

All the poor QGIS book authors who need to rewrite their books ... about 
this Python changes.

Helps a lot!

Andreas



On 15.09.2017 15:44, matteo wrote:
> Hi Andreas,
>
> if I'm not wrong the next method is not been removed, it is a python 3 *fix*
>
> https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0
>
> so instead of:
>
> it = layer.getFeatures()
> it.next()
>
> just type
>
> it = layer.getFeatures()
> next(it)
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From madmanwoo at gmail.com  Fri Sep 15 06:53:43 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 15 Sep 2017 23:53:43 +1000
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
 <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
 <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>
Message-ID: <CAAi8Yg9K7EbcLqdsxUjbZMXT5pVnOJY98NQDHndXRibpu1=Aug@mail.gmail.com>

I think we could just implement out own next method to avoid that break
would be easy enough.

On Fri, Sep 15, 2017 at 11:48 PM, Andreas Neumann <a.neumann at carto.net>
wrote:

> Hi Matteo and Matthias,
>
> Thanks - that works fine. I did not know that this changed in Python 3.
>
> All the poor QGIS book authors who need to rewrite their books ... about
> this Python changes.
>
> Helps a lot!
>
> Andreas
>
>
>
>
> On 15.09.2017 15:44, matteo wrote:
>
>> Hi Andreas,
>>
>> if I'm not wrong the next method is not been removed, it is a python 3
>> *fix*
>>
>> https://stackoverflow.com/questions/1073396/is-generator-
>> next-visible-in-python-3-0
>>
>> so instead of:
>>
>> it = layer.getFeatures()
>> it.next()
>>
>> just type
>>
>> it = layer.getFeatures()
>> next(it)
>>
>> Matteo
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170915/6e40106c/attachment.html>

From a.neumann at carto.net  Fri Sep 15 07:04:25 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 16:04:25 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
 <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
 <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>
Message-ID: <1bb1cb15-409a-cc9c-54ea-4c9c7ce0de86@carto.net>

Just a quick followup question.

I see that the QgsFeatureIterator has a close method.

Should Python authors care about closing an existing feature iterator or 
would this be automatically done when the script stops executing?

Andreas


On 15.09.2017 15:48, Andreas Neumann wrote:
> Hi Matteo and Matthias,
>
> Thanks - that works fine. I did not know that this changed in Python 3.
>
> All the poor QGIS book authors who need to rewrite their books ... 
> about this Python changes.
>
> Helps a lot!
>
> Andreas
>
>
>
> On 15.09.2017 15:44, matteo wrote:
>> Hi Andreas,
>>
>> if I'm not wrong the next method is not been removed, it is a python 
>> 3 *fix*
>>
>> https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0 
>>
>>
>> so instead of:
>>
>> it = layer.getFeatures()
>> it.next()
>>
>> just type
>>
>> it = layer.getFeatures()
>> next(it)
>>
>> Matteo
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From matthias at opengis.ch  Fri Sep 15 07:21:37 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 15 Sep 2017 16:21:37 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <CAAi8Yg9K7EbcLqdsxUjbZMXT5pVnOJY98NQDHndXRibpu1=Aug@mail.gmail.com>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
 <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
 <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>
 <CAAi8Yg9K7EbcLqdsxUjbZMXT5pVnOJY98NQDHndXRibpu1=Aug@mail.gmail.com>
Message-ID: <55cd6413-95f8-740b-8452-4a3aa39c48c1@opengis.ch>

I was also thinking about that.
I would just miss this method because it's used so often and the
alternative approaches just require more typing.

+1 for this

On 09/15/2017 03:53 PM, Nathan Woodrow wrote:
> I think we could just implement out own next method to avoid that break
> would be easy enough.
> 
> On Fri, Sep 15, 2017 at 11:48 PM, Andreas Neumann <a.neumann at carto.net
> <mailto:a.neumann at carto.net>> wrote:
> 
>     Hi Matteo and Matthias,
> 
>     Thanks - that works fine. I did not know that this changed in Python 3.
> 
>     All the poor QGIS book authors who need to rewrite their books ...
>     about this Python changes.
> 
>     Helps a lot!
> 
>     Andreas
> 
> 
> 
> 
>     On 15.09.2017 15:44, matteo wrote:
> 
>         Hi Andreas,
> 
>         if I'm not wrong the next method is not been removed, it is a
>         python 3 *fix*
> 
>         https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0
>         <https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0>
> 
>         so instead of:
> 
>         it = layer.getFeatures()
>         it.next()
> 
>         just type
> 
>         it = layer.getFeatures()
>         next(it)
> 
>         Matteo
>         _______________________________________________
>         QGIS-Developer mailing list
>         QGIS-Developer at lists.osgeo.org
>         <mailto:QGIS-Developer at lists.osgeo.org>
>         List info:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>         Unsubscribe:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From matthias at opengis.ch  Fri Sep 15 07:22:26 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 15 Sep 2017 16:22:26 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <1bb1cb15-409a-cc9c-54ea-4c9c7ce0de86@carto.net>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
 <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
 <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>
 <1bb1cb15-409a-cc9c-54ea-4c9c7ce0de86@carto.net>
Message-ID: <ebf6092e-6d29-5676-9368-586921294c64@opengis.ch>

Hi Andreas,

that will be done automatically when the iterator scopes out or the last
feature is yielded.
There is normally no reason to care about this method.

Matthias

On 09/15/2017 04:04 PM, Andreas Neumann wrote:
> Just a quick followup question.
> 
> I see that the QgsFeatureIterator has a close method.
> 
> Should Python authors care about closing an existing feature iterator or
> would this be automatically done when the script stops executing?
> 
> Andreas
> 
> 
> On 15.09.2017 15:48, Andreas Neumann wrote:
>> Hi Matteo and Matthias,
>>
>> Thanks - that works fine. I did not know that this changed in Python 3.
>>
>> All the poor QGIS book authors who need to rewrite their books ...
>> about this Python changes.
>>
>> Helps a lot!
>>
>> Andreas
>>
>>
>>
>> On 15.09.2017 15:44, matteo wrote:
>>> Hi Andreas,
>>>
>>> if I'm not wrong the next method is not been removed, it is a python
>>> 3 *fix*
>>>
>>> https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0
>>>
>>>
>>> so instead of:
>>>
>>> it = layer.getFeatures()
>>> it.next()
>>>
>>> just type
>>>
>>> it = layer.getFeatures()
>>> next(it)
>>>
>>> Matteo
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From a.neumann at carto.net  Fri Sep 15 07:27:09 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 16:27:09 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <ebf6092e-6d29-5676-9368-586921294c64@opengis.ch>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <5ca1d6ba-818d-303e-c710-beff69a2bbde@carto.net>
 <3ad69e05-342c-6fbd-bf7a-a558645da743@gmail.com>
 <d21e8f2f-ecf9-3c20-3f19-fc813591e552@carto.net>
 <1bb1cb15-409a-cc9c-54ea-4c9c7ce0de86@carto.net>
 <ebf6092e-6d29-5676-9368-586921294c64@opengis.ch>
Message-ID: <82af770c-63a8-d146-3c96-26d9d04a344c@carto.net>

Thanks Matthias for explaining about that. Good to know.

Andreas


On 15.09.2017 16:22, Matthias Kuhn wrote:
> Hi Andreas,
>
> that will be done automatically when the iterator scopes out or the last
> feature is yielded.
> There is normally no reason to care about this method.
>
> Matthias
>
> On 09/15/2017 04:04 PM, Andreas Neumann wrote:
>> Just a quick followup question.
>>
>> I see that the QgsFeatureIterator has a close method.
>>
>> Should Python authors care about closing an existing feature iterator or
>> would this be automatically done when the script stops executing?
>>
>> Andreas
>>
>>
>> On 15.09.2017 15:48, Andreas Neumann wrote:
>>> Hi Matteo and Matthias,
>>>
>>> Thanks - that works fine. I did not know that this changed in Python 3.
>>>
>>> All the poor QGIS book authors who need to rewrite their books ...
>>> about this Python changes.
>>>
>>> Helps a lot!
>>>
>>> Andreas
>>>
>>>
>>>
>>> On 15.09.2017 15:44, matteo wrote:
>>>> Hi Andreas,
>>>>
>>>> if I'm not wrong the next method is not been removed, it is a python
>>>> 3 *fix*
>>>>
>>>> https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0
>>>>
>>>>
>>>> so instead of:
>>>>
>>>> it = layer.getFeatures()
>>>> it.next()
>>>>
>>>> just type
>>>>
>>>> it = layer.getFeatures()
>>>> next(it)
>>>>
>>>> Matteo
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From dmarteau at 3liz.com  Fri Sep 15 07:46:54 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Fri, 15 Sep 2017 16:46:54 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
Message-ID: <3877999E-29B7-4CE4-AAB2-5E53AB1CAFD8@3liz.com>

Hi

If  FeatureIterator is a true iterator then use:

feature = next(FeatureIterator)


> Le 15 sept. 2017 à 14:43, Andreas Neumann <a.neumann at carto.net> a écrit :
> 
> Hi,
> 
> While porting a project from QGIS 2x to 3x I came across a Python issue:
> 
> In QGIS 2.x I had a code like below working:
> 
> feature = FeatureIterator.next()
> 
> In QGIS 3x it says that object has no attribut next.
> 
> How do I access the first result of a feature iterator in QGIS 3?
> 
> I don't want to loop, because I know that my FeatureIterator always has just one result. I just want to access this first feature.
> 
> Thanks for your help,
> 
> Andreas
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170915/2445f2d0/attachment.html>

From dmarteau at 3liz.com  Fri Sep 15 07:48:28 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Fri, 15 Sep 2017 16:48:28 +0200
Subject: [QGIS-Developer] FeatureIterator Python question
In-Reply-To: <3877999E-29B7-4CE4-AAB2-5E53AB1CAFD8@3liz.com>
References: <3044db55-a9ba-f79d-bad2-ee1f3d692e8c@carto.net>
 <3877999E-29B7-4CE4-AAB2-5E53AB1CAFD8@3liz.com>
Message-ID: <9397134F-DB6B-4CE3-9D63-D6A1A4D6E436@3liz.com>

Sorry, it has already been aswered, did not see the threads.


> Le 15 sept. 2017 à 16:46, David Marteau <dmarteau at 3liz.com> a écrit :
> 
> Hi
> 
> If  FeatureIterator is a true iterator then use:
> 
> feature = next(FeatureIterator)
> 
> 
>> Le 15 sept. 2017 à 14:43, Andreas Neumann <a.neumann at carto.net <mailto:a.neumann at carto.net>> a écrit :
>> 
>> Hi,
>> 
>> While porting a project from QGIS 2x to 3x I came across a Python issue:
>> 
>> In QGIS 2.x I had a code like below working:
>> 
>> feature = FeatureIterator.next()
>> 
>> In QGIS 3x it says that object has no attribut next.
>> 
>> How do I access the first result of a feature iterator in QGIS 3?
>> 
>> I don't want to loop, because I know that my FeatureIterator always has just one result. I just want to access this first feature.
>> 
>> Thanks for your help,
>> 
>> Andreas
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170915/23e65487/attachment.html>

From matteo.ghetta at gmail.com  Fri Sep 15 08:02:43 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 15 Sep 2017 17:02:43 +0200
Subject: [QGIS-Developer] Problems with SpatiaLite and DB Manager
Message-ID: <b73dffdd-daa4-a83a-3317-d1009d78c7f8@gmail.com>

Hi guys,

I'm facing some issues with a SpatiaLite DB and the DB Manager. I create
as usual the connection with QGIS, open DB Manager, I can expand the
list of SpatiaLite databases but when click on the single database QGIS
crashes (not very explicative):

QGIS died on signal 11Could not attach to process.  If your uid matches
the uid of the target
process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try
again as the root user.  For more details, see /etc/sysctl.d/10-ptrace.conf
ptrace: Operation not permitted.
No thread selected
No stack.
gdb returned 0
Aborted

QGIS works perfectly with the Data Source Manager and loads all the SL
layers.

Am I missing some package? I don't know if this can help, but I have
compiled with PYSPATIALITE and without QSPATIALITE

//Determines whether PYSPATIALITE should be built
WITH_PYSPATIALITE:BOOL=ON

//Determines whether Python modules in staged or installed locations
// are byte-compiled
WITH_PY_COMPILE:BOOL=FALSE
//Determines whether QSPATIALITE sql driver should be built
WITH_QSPATIALITE:BOOL=FALSE


Thanks for any hint

Cheers

Matteo

From cavallini at faunalia.it  Fri Sep 15 09:03:11 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 15 Sep 2017 18:03:11 +0200
Subject: [QGIS-Developer] Inconsistency between Query builder and Select by
	query dialogs
Message-ID: <28336d54-ddeb-4a8c-d265-9fafc7b6a2d9@faunalia.it>

Hi all,
the two dialogs are quite different, whereas they do essentialy the same
thing. Questions:
* is there a specific reason why the Query builder has not been updated,
or is it just the usual lack of time?
* is anyone planning to work on this?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis3_selectbyexpression_gui.png
Type: image/png
Size: 15445 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170915/78f4952d/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis3_filter_gui.png
Type: image/png
Size: 19057 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170915/78f4952d/attachment-0003.png>

From a.neumann at carto.net  Fri Sep 15 09:26:26 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 15 Sep 2017 18:26:26 +0200
Subject: [QGIS-Developer] Inconsistency between Query builder and Select
 by query dialogs
In-Reply-To: <28336d54-ddeb-4a8c-d265-9fafc7b6a2d9@faunalia.it>
References: <28336d54-ddeb-4a8c-d265-9fafc7b6a2d9@faunalia.it>
Message-ID: <fe5b7fc5-f351-769c-86bf-b36a2cd57137@carto.net>

Hi Paolo,

I asked the same question, but apparently there are technical reasons.

The Query builder creates a query that a data source can understand 
(e.g. OGR) - data is filtered at its source.

Whereas the expression builder is much, much richer and can't be 
translated to filters of data providers. Thus, such data filtering can 
only be done in the client - means that all features are requested from 
the source and then filtered client side.

I don't know if it would be technically possible to restrict the 
expression builder to a subset that a data provider can understand - so 
that the user can have just one interface, both with a limited set of 
operators and functions.

Andreas


On 15.09.2017 18:03, Paolo Cavallini wrote:
> Hi all,
> the two dialogs are quite different, whereas they do essentialy the same
> thing. Questions:
> * is there a specific reason why the Query builder has not been updated,
> or is it just the usual lack of time?
> * is anyone planning to work on this?
> Thanks.
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170915/1bd4e7b3/attachment.html>

From noreply at qgis.org  Fri Sep 15 12:23:44 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 15 Sep 2017 19:23:44 -0000
Subject: [QGIS-Developer] Plugin [1193] Shape Tools approval notification.
Message-ID: <20170915192344.27180.2089@320558c5528b>


Plugin Shape Tools approval by pcav.
The plugin version "[1193] Shape Tools 0.5" is now approved
Link: http://plugins.qgis.org/plugins/shapetools/

From matthias at opengis.ch  Sat Sep 16 00:32:21 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sat, 16 Sep 2017 09:32:21 +0200
Subject: [QGIS-Developer] Inconsistency between Query builder and Select
 by query dialogs
In-Reply-To: <fe5b7fc5-f351-769c-86bf-b36a2cd57137@carto.net>
References: <28336d54-ddeb-4a8c-d265-9fafc7b6a2d9@faunalia.it>
 <fe5b7fc5-f351-769c-86bf-b36a2cd57137@carto.net>
Message-ID: <06ffe564-8b05-3544-9cfa-37c0c5396d12@opengis.ch>

Hi all,

For reference I wrote about this here:
https://gis.stackexchange.com/a/212398

A small addition to Andreas' statement "filtering can only be done on
the client", this is no longer entirely the case, a lot of standard SQL
can already be translated and sent to the backend.

It would be possible to adjust the "query builder" - also known as
subsetString - to also work with QgsExpressions.
Pro: increased portability between providers and better "QGIS standard"
compatibility with things like support for variables and python
expression functions
Con: less integration with what some providers (mostly databases) offer
natively (some advanced SQL)
I think there is a need for both, so I could also imagine a radio button
to switch between the two.

Matthias

On 9/15/17 6:26 PM, Andreas Neumann wrote:
>
> Hi Paolo,
>
> I asked the same question, but apparently there are technical reasons.
>
> The Query builder creates a query that a data source can understand
> (e.g. OGR) - data is filtered at its source.
>
> Whereas the expression builder is much, much richer and can't be
> translated to filters of data providers. Thus, such data filtering can
> only be done in the client - means that all features are requested
> from the source and then filtered client side.
>
> I don't know if it would be technically possible to restrict the
> expression builder to a subset that a data provider can understand -
> so that the user can have just one interface, both with a limited set
> of operators and functions.
>
> Andreas
>
>
> On 15.09.2017 18:03, Paolo Cavallini wrote:
>> Hi all,
>> the two dialogs are quite different, whereas they do essentialy the same
>> thing. Questions:
>> * is there a specific reason why the Query builder has not been updated,
>> or is it just the usual lack of time?
>> * is anyone planning to work on this?
>> Thanks.
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170916/eee0b777/attachment.html>

From mederic.ribreux at medspx.fr  Sat Sep 16 00:35:24 2017
From: mederic.ribreux at medspx.fr (=?UTF-8?Q?M=C3=A9d=C3=A9ric_Ribreux?=)
Date: Sat, 16 Sep 2017 09:35:24 +0200
Subject: [QGIS-Developer] [WIP] GRASS Processing port to new API
Message-ID: <6daead653a02a894ceca73f2a37b641d@medspx.fr>

Hello devs,

just a simple mail to tell you that I am currently working on QGIS3 
Processing port of GRASS plugin.
You can read the code in my forked QGIS git repository:
https://github.com/medspx/QGIS/tree/ProcessingPortGrass72

For the moment, about 50% of the job is done:
- I have used the new QgsProcessing framework for parameters (I have 
used modifications of processing/parameters.py made by Nyall in the SAGA 
port).
- I have modified description files according to this new framework.
- I can launch most of the algorithms for rasters and vectors (and some 
imagery).
- I have also worked on improving layers management (importing/exporting 
into/from temporary GRASS DB).

I still need to work on the following points:
- Adapt and factorize ext/ scripts to the new framework.
- Multiformat support for vector and rasters.
- A better support for OutputFiles (HTML and text files).
- Add new GRASS7.2 algorithms (less than a dozen).
- Verify all description files to support the new parameters introduced 
into GRASS7.2.
- Port and improve unit tests.
- Try to fix all bugs linked to unicode support under MS-Windows.

I am going offline for the next 3 weeks and I think I'll be able to make 
a (decent) PR at the end of this period of time.

I really hope that QGIS3 will have GRASS Processing in its first 
release...

Cheers!
-- 
Médéric RIBREUX
https://medspx.fr

From pedrongvenancio at gmail.com  Sat Sep 16 03:03:49 2017
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Sat, 16 Sep 2017 11:03:49 +0100
Subject: [QGIS-Developer] [WIP] GRASS Processing port to new API
In-Reply-To: <6daead653a02a894ceca73f2a37b641d@medspx.fr>
References: <6daead653a02a894ceca73f2a37b641d@medspx.fr>
Message-ID: <CAMCJChsxqmFe1xF+sfbXg8+q0_UK1fs5NhoxTQLi5_AC3afKRQ@mail.gmail.com>

Excellent work Médéric!

Thank you very much!

Best regards,
Pedro Venâncio



2017-09-16 8:35 GMT+01:00 Médéric Ribreux <mederic.ribreux at medspx.fr>:

> Hello devs,
>
> just a simple mail to tell you that I am currently working on QGIS3
> Processing port of GRASS plugin.
> You can read the code in my forked QGIS git repository:
> https://github.com/medspx/QGIS/tree/ProcessingPortGrass72
>
> For the moment, about 50% of the job is done:
> - I have used the new QgsProcessing framework for parameters (I have used
> modifications of processing/parameters.py made by Nyall in the SAGA port).
> - I have modified description files according to this new framework.
> - I can launch most of the algorithms for rasters and vectors (and some
> imagery).
> - I have also worked on improving layers management (importing/exporting
> into/from temporary GRASS DB).
>
> I still need to work on the following points:
> - Adapt and factorize ext/ scripts to the new framework.
> - Multiformat support for vector and rasters.
> - A better support for OutputFiles (HTML and text files).
> - Add new GRASS7.2 algorithms (less than a dozen).
> - Verify all description files to support the new parameters introduced
> into GRASS7.2.
> - Port and improve unit tests.
> - Try to fix all bugs linked to unicode support under MS-Windows.
>
> I am going offline for the next 3 weeks and I think I'll be able to make a
> (decent) PR at the end of this period of time.
>
> I really hope that QGIS3 will have GRASS Processing in its first release...
>
> Cheers!
> --
> Médéric RIBREUX
> https://medspx.fr
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170916/e74efd92/attachment.html>

From Stefan.Blumentrath at nina.no  Sat Sep 16 13:44:04 2017
From: Stefan.Blumentrath at nina.no (Stefan Blumentrath)
Date: Sat, 16 Sep 2017 20:44:04 +0000
Subject: [QGIS-Developer] [WIP] GRASS Processing port to new API
In-Reply-To: <CAMCJChsxqmFe1xF+sfbXg8+q0_UK1fs5NhoxTQLi5_AC3afKRQ@mail.gmail.com>
References: <6daead653a02a894ceca73f2a37b641d@medspx.fr>
 <CAMCJChsxqmFe1xF+sfbXg8+q0_UK1fs5NhoxTQLi5_AC3afKRQ@mail.gmail.com>
Message-ID: <367ba587487947b2b94ef09613f68b10@NINSRV23.nina.no>

Yes, thank you very much, Médéric!
Maybe you can have a look at / incorporate this one:
https://issues.qgis.org/issues/14856 ?

Using r.external.out could speed-up GRASS raster algorithms significantly…

Cheers
Stefan


From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of Pedro Venâncio
Sent: lørdag 16. september 2017 12.04
To: Médéric Ribreux <mederic.ribreux at medspx.fr>
Cc: qgis-developer <QGIS-Developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] [WIP] GRASS Processing port to new API

Excellent work Médéric!
Thank you very much!
Best regards,
Pedro Venâncio


2017-09-16 8:35 GMT+01:00 Médéric Ribreux <mederic.ribreux at medspx.fr<mailto:mederic.ribreux at medspx.fr>>:
Hello devs,

just a simple mail to tell you that I am currently working on QGIS3 Processing port of GRASS plugin.
You can read the code in my forked QGIS git repository:
https://github.com/medspx/QGIS/tree/ProcessingPortGrass72

For the moment, about 50% of the job is done:
- I have used the new QgsProcessing framework for parameters (I have used modifications of processing/parameters.py made by Nyall in the SAGA port).
- I have modified description files according to this new framework.
- I can launch most of the algorithms for rasters and vectors (and some imagery).
- I have also worked on improving layers management (importing/exporting into/from temporary GRASS DB).

I still need to work on the following points:
- Adapt and factorize ext/ scripts to the new framework.
- Multiformat support for vector and rasters.
- A better support for OutputFiles (HTML and text files).
- Add new GRASS7.2 algorithms (less than a dozen).
- Verify all description files to support the new parameters introduced into GRASS7.2.
- Port and improve unit tests.
- Try to fix all bugs linked to unicode support under MS-Windows.

I am going offline for the next 3 weeks and I think I'll be able to make a (decent) PR at the end of this period of time.

I really hope that QGIS3 will have GRASS Processing in its first release...

Cheers!
--
Médéric RIBREUX
https://medspx.fr
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170916/e5297534/attachment.html>

From tim at kartoza.com  Sun Sep 17 04:32:03 2017
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 17 Sep 2017 19:32:03 +0800
Subject: [QGIS-Developer] Dropping "spatial query" plugin
In-Reply-To: <CABgOYCf91uKqtz09NuLtwf-4UZ09hqHGnyhLGRfPiereqQYxHA@mail.gmail.com>
References: <CAB28Asj1BiiLKU5JLPhZV4rQ49b7Y+taXo=+vQkpPaM72=fVNg@mail.gmail.com>
 <CALuHMPBSiu-bNxMMC+W8pO_8=Km3G6wUvF=ceHYD4wsvNVZCyw@mail.gmail.com>
 <CAFFV8Fh9JeT_KT2GdacP=Y-furtV3OjcUUk3j3F4B0V4Wc+_GQ@mail.gmail.com>
 <CABgOYCf91uKqtz09NuLtwf-4UZ09hqHGnyhLGRfPiereqQYxHA@mail.gmail.com>
Message-ID: <4F3A0B8D-7AAD-4604-A6CF-E14498A9388C@qgis.org>

+1 from me to remove it too!

Regards

Tim

> On 12 Sep 2017, at 4:41 PM, Régis Haubourg <regis.haubourg at gmail.com> wrote:
> 
> +1 , let's get rid of it, it had many issues also.  
> 
> 2017-09-12 8:41 GMT+02:00 Anita Graser <anitagraser at gmx.at <mailto:anitagraser at gmx.at>>:
> +1 to remove since the "lost" functionality is pretty much covered by the regular attribute table anyway.
> Anita
> 
> 
> On Tue, Sep 12, 2017 at 7:03 AM, Alexander Bruy <alexander.bruy at gmail.com <mailto:alexander.bruy at gmail.com>> wrote:
> +1 for removal.
> 
> 2017-09-12 2:59 GMT+03:00 Nyall Dawson <nyall.dawson at gmail.com <mailto:nyall.dawson at gmail.com>>:
> > Hi all,
> >
> > I've just opened https://github.com/qgis/QGIS/pull/5170 <https://github.com/qgis/QGIS/pull/5170>, which drops
> > the old core "Spatial Query" plugin.
> >
> > Because the functionality of this plugin is now better handled by the
> > Processing c++ "Extract by Location" and "Select by Location"
> > algorithms, in my opinion this plugin can be safely dropped now.
> >
> > The processing algorithms have the benefits of:
> >
> > - a familiar, more modern interface
> > - ability to be included in multi-step models
> > - ability to be used in batch modes
> > - always available in all QGIS installs (as opposed to the always
> > installed, but disabled-by-default spatial query plugin)
> > - unit tests
> > - non-blocking execution
> > - more optimised code
> > - features can be extracted to a new layer regardless of input layer
> > type (spatial query only allows this for spatialite, postgres and some
> > other formats)
> >
> > There's one feature which is available in the spatial query plugin
> > which isn't present in the processing algs - the interactive list of
> > affected feature ids (clicking features in the list will zoom to
> > them). However - I don't consider this list alone to be worth keeping
> > the plugin alive for, since most users won't find a list of raw
> > feature IDs particularly helpful.
> >
> > Please speak up if you think there's still a requirement to keep this
> > plugin around, otherwise it will be dropped for 3.0!
> >
> > Nyall
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> --
> Alexander Bruy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170917/f50f34a1/attachment-0001.html>

From giovanni.manghi at gmail.com  Sun Sep 17 16:15:49 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Mon, 18 Sep 2017 00:15:49 +0100
Subject: [QGIS-Developer] [WIP] GRASS Processing port to new API
Message-ID: <CACfnYnQ0ejYO-aT+XO4E7G-xoCnpvT6t5=WV-qOOEvNm+B4S+Q@mail.gmail.com>

> Excellent work Médéric!
>
> Thank you very much!

Hi! I agree! much appreciated Médéric!
if I can add a personal request I think that making r.mapcalc work
(eventually without the need to write manually the name of the inputs)
it is pretty important since r.mapcalculator was not ported from
grass64 to grass7 (so we lost the most powerful raster calc we had).

see from https://issues.qgis.org/issues/6894#note-15 on.

cheers!

-- G --

From nyall.dawson at gmail.com  Sun Sep 17 17:15:24 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 18 Sep 2017 10:15:24 +1000
Subject: [QGIS-Developer] [WIP] GRASS Processing port to new API
In-Reply-To: <6daead653a02a894ceca73f2a37b641d@medspx.fr>
References: <6daead653a02a894ceca73f2a37b641d@medspx.fr>
Message-ID: <CAB28Asj_uUE_uCjK+4dfx8UERTgwu8e5Ad39fBzzSxFTwQSrVA@mail.gmail.com>

On 16 September 2017 at 17:35, Médéric Ribreux
<mederic.ribreux at medspx.fr> wrote:
> Hello devs,
>
> just a simple mail to tell you that I am currently working on QGIS3
> Processing port of GRASS plugin.
> You can read the code in my forked QGIS git repository:
> https://github.com/medspx/QGIS/tree/ProcessingPortGrass72
>
> For the moment, about 50% of the job is done:
> - I have used the new QgsProcessing framework for parameters (I have used
> modifications of processing/parameters.py made by Nyall in the SAGA port).
> - I have modified description files according to this new framework.
> - I can launch most of the algorithms for rasters and vectors (and some
> imagery).
> - I have also worked on improving layers management (importing/exporting
> into/from temporary GRASS DB).
>
> I still need to work on the following points:
> - Adapt and factorize ext/ scripts to the new framework.
> - Multiformat support for vector and rasters.
> - A better support for OutputFiles (HTML and text files).
> - Add new GRASS7.2 algorithms (less than a dozen).
> - Verify all description files to support the new parameters introduced into
> GRASS7.2.
> - Port and improve unit tests.
> - Try to fix all bugs linked to unicode support under MS-Windows.
>
> I am going offline for the next 3 weeks and I think I'll be able to make a
> (decent) PR at the end of this period of time.
>
> I really hope that QGIS3 will have GRASS Processing in its first release...

Wow - tremendous work!

Please please don't hesitate to contact me if you need assistance with
the porting or have any questions regarding the new API. There's also
a good chance we may need to make changes/additions to the c++ API to
handle your work - if so, let me know and we can address :)

Nyall

From tim at kartoza.com  Sun Sep 17 19:58:29 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 18 Sep 2017 09:58:29 +0700
Subject: [QGIS-Developer] [WIP] GRASS Processing port to new API
In-Reply-To: <CAB28Asj_uUE_uCjK+4dfx8UERTgwu8e5Ad39fBzzSxFTwQSrVA@mail.gmail.com>
References: <6daead653a02a894ceca73f2a37b641d@medspx.fr>
 <CAB28Asj_uUE_uCjK+4dfx8UERTgwu8e5Ad39fBzzSxFTwQSrVA@mail.gmail.com>
Message-ID: <77ACBB7A-F0D3-4934-B29A-DE5F5CFF91CF@kartoza.com>

Hi Médéric

I just wanted to echo the others in this thread in thanking you for doing this important work for QGIS 3!

Regards

Tim


> On 18 Sep 2017, at 7:15 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On 16 September 2017 at 17:35, Médéric Ribreux
> <mederic.ribreux at medspx.fr <mailto:mederic.ribreux at medspx.fr>> wrote:
>> Hello devs,
>> 
>> just a simple mail to tell you that I am currently working on QGIS3
>> Processing port of GRASS plugin.
>> You can read the code in my forked QGIS git repository:
>> https://github.com/medspx/QGIS/tree/ProcessingPortGrass72
>> 
>> For the moment, about 50% of the job is done:
>> - I have used the new QgsProcessing framework for parameters (I have used
>> modifications of processing/parameters.py made by Nyall in the SAGA port).
>> - I have modified description files according to this new framework.
>> - I can launch most of the algorithms for rasters and vectors (and some
>> imagery).
>> - I have also worked on improving layers management (importing/exporting
>> into/from temporary GRASS DB).
>> 
>> I still need to work on the following points:
>> - Adapt and factorize ext/ scripts to the new framework.
>> - Multiformat support for vector and rasters.
>> - A better support for OutputFiles (HTML and text files).
>> - Add new GRASS7.2 algorithms (less than a dozen).
>> - Verify all description files to support the new parameters introduced into
>> GRASS7.2.
>> - Port and improve unit tests.
>> - Try to fix all bugs linked to unicode support under MS-Windows.
>> 
>> I am going offline for the next 3 weeks and I think I'll be able to make a
>> (decent) PR at the end of this period of time.
>> 
>> I really hope that QGIS3 will have GRASS Processing in its first release...
> 
> Wow - tremendous work!
> 
> Please please don't hesitate to contact me if you need assistance with
> the porting or have any questions regarding the new API. There's also
> a good chance we may need to make changes/additions to the c++ API to
> handle your work - if so, let me know and we can address :)
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170918/989dc7e5/attachment.html>

From noreply at qgis.org  Mon Sep 18 10:32:49 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 18 Sep 2017 17:32:49 -0000
Subject: [QGIS-Developer] Plugin [407] geopunt4Qgis approval notification.
Message-ID: <20170918173249.25110.95660@320558c5528b>


Plugin geopunt4Qgis approval by pcav.
The plugin version "[407] geopunt4Qgis 1.6.9" is now approved
Link: http://plugins.qgis.org/plugins/geopunt4Qgis/

From cavallini at faunalia.it  Mon Sep 18 23:03:31 2017
From: cavallini at faunalia.it (pcav)
Date: Mon, 18 Sep 2017 23:03:31 -0700 (MST)
Subject: [QGIS-Developer] Inconsistency between Query builder and Select
	by query dialogs
In-Reply-To: <06ffe564-8b05-3544-9cfa-37c0c5396d12@opengis.ch>
References: <28336d54-ddeb-4a8c-d265-9fafc7b6a2d9@faunalia.it>
 <fe5b7fc5-f351-769c-86bf-b36a2cd57137@carto.net>
 <06ffe564-8b05-3544-9cfa-37c0c5396d12@opengis.ch>
Message-ID: <1505801011440-0.post@n6.nabble.com>

Thanks Andreas and Matthias for the explanation.
All the best.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Mon Sep 18 23:38:14 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Sep 2017 06:38:14 -0000
Subject: [QGIS-Developer] Plugin [1331] Sync map and attribute table
	approval notification.
Message-ID: <20170919063814.22944.95072@320558c5528b>


Plugin Sync map and attribute table approval by pcav.
The plugin version "[1331] Sync map and attribute table 0.20170918 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/table_canvas_sync/

From noreply at qgis.org  Mon Sep 18 23:39:05 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Sep 2017 06:39:05 -0000
Subject: [QGIS-Developer] Plugin [1330] Land Degradation Monitoring Toolbox
 approval notification.
Message-ID: <20170919063905.7096.50341@320558c5528b>


Plugin Land Degradation Monitoring Toolbox approval by pcav.
The plugin version "[1330] Land Degradation Monitoring Toolbox 0.1" is now approved
Link: http://plugins.qgis.org/plugins/LDMP/

From tom.chadwin at nnpa.org.uk  Tue Sep 19 03:33:47 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 19 Sep 2017 03:33:47 -0700 (MST)
Subject: [QGIS-Developer] QWebPage misbehaviour with 2.18.13?
Message-ID: <1505817227081-0.post@n6.nabble.com>

Hello all

I cannot be 100% sure that yesterday's upgrade to 2.18.13 has caused this
issue. However, the issue is not present in the new LTR 2.14.19.

The qgis2web dialog uses a QWebPage. If you fire up the plugin and press
F12, a developer toolbar is displayed. If you click on the "Console" tab in
that dev toolbar, it fails to display properly in 2.18.13, but displays fine
in 2.14.19.

Can anyone help figure this out? If you'd rather not discuss on this list,
I've opened an issue here: https://github.com/tomchadwin/qgis2web/issues/543

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tom.chadwin at nnpa.org.uk  Tue Sep 19 04:49:14 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 19 Sep 2017 04:49:14 -0700 (MST)
Subject: [QGIS-Developer] QWebPage misbehaviour with 2.18.13?
In-Reply-To: <1505817227081-0.post@n6.nabble.com>
References: <1505817227081-0.post@n6.nabble.com>
Message-ID: <1505821754084-0.post@n6.nabble.com>

No - apologies - a QGIS restart rectified it. Sorry for the noise.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From manisandro at gmail.com  Tue Sep 19 09:30:50 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Tue, 19 Sep 2017 18:30:50 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
References: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
Message-ID: <c2407589-0228-d1fb-5870-084f9000c706@gmail.com>

On 11.07.2017 14:31, Even Rouault wrote:

> We could potentially imagine to defer the repacking at 
> leaveUpdateMode() time, actually in the close() method which is called 
> when the reference counter of the update mode drops to zero (*), 
> instead of doing it at the end of each operation.

To come back to this, I was looking at moving replack() to close(), but 
noticed that syncToDisc() has the logic "for shapefiles, remove spatial 
index files and create a new index" which calls close. And syncToDisk is 
still called after every change. So should syncToDisk be also moved to 
close(), or at least blocked if an updateMode is active?

Thanks
Sandro

From even.rouault at spatialys.com  Tue Sep 19 10:15:58 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 19 Sep 2017 19:15:58 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <c2407589-0228-d1fb-5870-084f9000c706@gmail.com>
References: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <c2407589-0228-d1fb-5870-084f9000c706@gmail.com>
Message-ID: <2634070.b6zSAaebEJ@even-i700>

On mardi 19 septembre 2017 18:30:50 CEST Sandro Mani wrote:
> On 11.07.2017 14:31, Even Rouault wrote:
> > We could potentially imagine to defer the repacking at
> > leaveUpdateMode() time, actually in the close() method which is called
> > when the reference counter of the update mode drops to zero (*),
> > instead of doing it at the end of each operation.
> 
> To come back to this, I was looking at moving replack() to close(), but
> noticed that syncToDisc() has the logic "for shapefiles, remove spatial
> index files and create a new index" which calls close. And syncToDisk is
> still called after every change. So should syncToDisk be also moved to
> close(), or at least blocked if an updateMode is active?
> 

Yes that would probably make sense to block syncToDisk() while in updateMode (so when 
mUpdateModeStackDepth > 0), but probably only if enterUpdateMode() is called by 
QgsVectorLayer::startEditing(), and not when called implicitly by doInitialActionsForEdition(), 
which might be the case if someone directly works at the provider level

bool QgsOgrProvider::doInitialActionsForEdition()
{
  if ( !mValid )
    return false;

  if ( !mWriteAccess && mWriteAccessPossible && mDynamicWriteAccess )
  {
    QgsDebugMsg( "Enter update mode implictly" );
    if ( !enterUpdateMode() )
      return false;
  }

  return true;
}

So probably a mImplicitUpdateMode flag should be set above near the QgsDebugMsg(), and 
the check to decide whether we can defer syncToDisk() would be ( !mImplicitUpdateMode && 
mUpdateModeStackDepth > 0)


> Thanks
> Sandro
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170919/45711445/attachment.html>

From nyall.dawson at gmail.com  Tue Sep 19 17:18:36 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 20 Sep 2017 10:18:36 +1000
Subject: [QGIS-Developer] Warning - possible project corruption in 2.18.13
Message-ID: <CAB28AsjqdE_tPSQ0QWk1RQ7V_3aj=329azksUbE4OB2GTda2KA@mail.gmail.com>

Hi all,

I've just been trying to diagnose an issue with loading an existing
2.18 project in the new 2.18.13 release.

Seems like something may be broken here with regards to loading OGR
based layers which have a subset filter set.

These layers trigger the "missing layers" dialog when loading the
project and the layer link cannot be repaired without removing the
filter clause.

(specifically this is with .gdb layers on Windows - not sure yet if
it's restricted to this combination).

So just a heads up to test your existing projects before rolling out
the 2.18.13 update.

Nyall

From nyall.dawson at gmail.com  Tue Sep 19 23:45:47 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 20 Sep 2017 16:45:47 +1000
Subject: [QGIS-Developer] Warning - possible project corruption in
	2.18.13
In-Reply-To: <CAB28AsjqdE_tPSQ0QWk1RQ7V_3aj=329azksUbE4OB2GTda2KA@mail.gmail.com>
References: <CAB28AsjqdE_tPSQ0QWk1RQ7V_3aj=329azksUbE4OB2GTda2KA@mail.gmail.com>
Message-ID: <CAB28AsiZcSVYABebXkBJ3jR_8uD8CnJvhRPspDM2z4vENN0Z4Q@mail.gmail.com>

On 20 September 2017 at 10:18, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> Hi all,
>
> I've just been trying to diagnose an issue with loading an existing
> 2.18 project in the new 2.18.13 release.
>
> Seems like something may be broken here with regards to loading OGR
> based layers which have a subset filter set.
>
> These layers trigger the "missing layers" dialog when loading the
> project and the layer link cannot be repaired without removing the
> filter clause.
>
> (specifically this is with .gdb layers on Windows - not sure yet if
> it's restricted to this combination).
>
> So just a heads up to test your existing projects before rolling out
> the 2.18.13 update.

Failing unit test is here: https://github.com/qgis/QGIS/pull/5222,
regression bisected to https://github.com/qgis/QGIS/commit/8eaeaaa

Sandro can you take a look at this?

Nyall

From manisandro at gmail.com  Wed Sep 20 02:34:50 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 20 Sep 2017 11:34:50 +0200
Subject: [QGIS-Developer] OGR/GBD: Unrecognized field name OBJECTID (was:
 Re: Warning - possible project corruption in 2.18.13)
In-Reply-To: <CAB28AsiZcSVYABebXkBJ3jR_8uD8CnJvhRPspDM2z4vENN0Z4Q@mail.gmail.com>
References: <CAB28AsjqdE_tPSQ0QWk1RQ7V_3aj=329azksUbE4OB2GTda2KA@mail.gmail.com>
 <CAB28AsiZcSVYABebXkBJ3jR_8uD8CnJvhRPspDM2z4vENN0Z4Q@mail.gmail.com>
Message-ID: <b44609e5-e441-ae10-e6cd-224e4a824d4c@gmail.com>

On 20.09.2017 08:45, Nyall Dawson wrote:

> On 20 September 2017 at 10:18, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>> Hi all,
>>
>> I've just been trying to diagnose an issue with loading an existing
>> 2.18 project in the new 2.18.13 release.
>>
>> Seems like something may be broken here with regards to loading OGR
>> based layers which have a subset filter set.
>>
>> These layers trigger the "missing layers" dialog when loading the
>> project and the layer link cannot be repaired without removing the
>> filter clause.
>>
>> (specifically this is with .gdb layers on Windows - not sure yet if
>> it's restricted to this combination).
>>
>> So just a heads up to test your existing projects before rolling out
>> the 2.18.13 update.
> Failing unit test is here: https://github.com/qgis/QGIS/pull/5222,
> regression bisected to https://github.com/qgis/QGIS/commit/8eaeaaa
>
> Sandro can you take a look at this?
Argh.

So the result of the subset query

SELECT OBJECTID as orig_ogc_fid, * FROM "lines" WHERE "text" = 'shape 2'

now is

305: OGR(1): OGR[3] error 1: Unrecognized field name OBJECTID.
305: OGR(1): Data source is invalid (Unrecognized field name OBJECTID.)

but OBJECTID is what was returned by

OGR_L_GetFIDColumn( layer )

Even, any ideas?


Sandro

From a.neumann at carto.net  Wed Sep 20 02:57:31 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Sep 2017 11:57:31 +0200
Subject: [QGIS-Developer] Refactor fields processing algorithm
Message-ID: <8b8f4f53-6907-19a9-d5cc-9fbdb0371852@carto.net>

Hi,

This is about QGIS master.

The refactor fields processing algorithm, when opened manually in the 
toolbox, has an option to run the algorithm only on selected features.

However, when the same algorithm is included in a model, this option 
"only selected features" is not available anymore.

Is there a workaround? How would I run this algorithm in the model only 
with the selected features? In QGIS 2x there was a processing option to 
always run processing with selected features only - but this option is 
now gone in QGIS master.

Thanks for your help,

Andreas


From nyall.dawson at gmail.com  Wed Sep 20 03:08:59 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 20 Sep 2017 20:08:59 +1000
Subject: [QGIS-Developer] Refactor fields processing algorithm
In-Reply-To: <8b8f4f53-6907-19a9-d5cc-9fbdb0371852@carto.net>
References: <8b8f4f53-6907-19a9-d5cc-9fbdb0371852@carto.net>
Message-ID: <CAB28AsjhzrxGGOw3b_aPPhx8dydDz=znO16Fv0R1fjhcdxLukg@mail.gmail.com>

On 20 September 2017 at 19:57, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi,
>
> This is about QGIS master.
>
> The refactor fields processing algorithm, when opened manually in the
> toolbox, has an option to run the algorithm only on selected features.
>
> However, when the same algorithm is included in a model, this option "only
> selected features" is not available anymore.
>
> Is there a workaround? How would I run this algorithm in the model only with
> the selected features? In QGIS 2x there was a processing option to always
> run processing with selected features only - but this option is now gone in
> QGIS master.

Make sure your model uses "feature source" input, not a "vector layer"
input. "Vector layer" inputs should only be used in limited
circumstances now (specifically - when the model uses algorithms which
require a layer, such as those which modify a layer in place or those
which make a selection on a layer).

Nyall

From a.neumann at carto.net  Wed Sep 20 03:24:16 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Sep 2017 12:24:16 +0200
Subject: [QGIS-Developer] Refactor fields processing algorithm
In-Reply-To: <CAB28AsjhzrxGGOw3b_aPPhx8dydDz=znO16Fv0R1fjhcdxLukg@mail.gmail.com>
References: <8b8f4f53-6907-19a9-d5cc-9fbdb0371852@carto.net>
 <CAB28AsjhzrxGGOw3b_aPPhx8dydDz=znO16Fv0R1fjhcdxLukg@mail.gmail.com>
Message-ID: <a9620b5e-fc77-9f5f-fb37-ebcfa2926c3e@carto.net>

Hi Nyall,

Yes - changing to "feature source" brings back the "selected only" 
option for running the whole model.

Thanks!

Andreas


On 20.09.2017 12:08, Nyall Dawson wrote:
> On 20 September 2017 at 19:57, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi,
>>
>> This is about QGIS master.
>>
>> The refactor fields processing algorithm, when opened manually in the
>> toolbox, has an option to run the algorithm only on selected features.
>>
>> However, when the same algorithm is included in a model, this option "only
>> selected features" is not available anymore.
>>
>> Is there a workaround? How would I run this algorithm in the model only with
>> the selected features? In QGIS 2x there was a processing option to always
>> run processing with selected features only - but this option is now gone in
>> QGIS master.
> Make sure your model uses "feature source" input, not a "vector layer"
> input. "Vector layer" inputs should only be used in limited
> circumstances now (specifically - when the model uses algorithms which
> require a layer, such as those which modify a layer in place or those
> which make a selection on a layer).
>
> Nyall


From even.rouault at spatialys.com  Wed Sep 20 03:46:38 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 20 Sep 2017 12:46:38 +0200
Subject: [QGIS-Developer] OGR/GBD: Unrecognized field name OBJECTID
	(was: Re: Warning - possible project corruption in 2.18.13)
In-Reply-To: <b44609e5-e441-ae10-e6cd-224e4a824d4c@gmail.com>
References: <CAB28AsjqdE_tPSQ0QWk1RQ7V_3aj=329azksUbE4OB2GTda2KA@mail.gmail.com>
 <CAB28AsiZcSVYABebXkBJ3jR_8uD8CnJvhRPspDM2z4vENN0Z4Q@mail.gmail.com>
 <b44609e5-e441-ae10-e6cd-224e4a824d4c@gmail.com>
Message-ID: <3693915.gTuWRv2ya2@even-i700>

On mercredi 20 septembre 2017 11:34:50 CEST Sandro Mani wrote:
> On 20.09.2017 08:45, Nyall Dawson wrote:
> > On 20 September 2017 at 10:18, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >> Hi all,
> >> 
> >> I've just been trying to diagnose an issue with loading an existing
> >> 2.18 project in the new 2.18.13 release.
> >> 
> >> Seems like something may be broken here with regards to loading OGR
> >> based layers which have a subset filter set.
> >> 
> >> These layers trigger the "missing layers" dialog when loading the
> >> project and the layer link cannot be repaired without removing the
> >> filter clause.
> >> 
> >> (specifically this is with .gdb layers on Windows - not sure yet if
> >> it's restricted to this combination).
> >> 
> >> So just a heads up to test your existing projects before rolling out
> >> the 2.18.13 update.
> > 
> > Failing unit test is here: https://github.com/qgis/QGIS/pull/5222,
> > regression bisected to https://github.com/qgis/QGIS/commit/8eaeaaa
> > 
> > Sandro can you take a look at this?
> 
> Argh.
> 
> So the result of the subset query
> 
> SELECT OBJECTID as orig_ogc_fid, * FROM "lines" WHERE "text" = 'shape 2'
> 
> now is
> 
> 305: OGR(1): OGR[3] error 1: Unrecognized field name OBJECTID.
> 305: OGR(1): Data source is invalid (Unrecognized field name OBJECTID.)
> 
> but OBJECTID is what was returned by
> 
> OGR_L_GetFIDColumn( layer )

<long_story>

Ah, that one is tricky. Let me try to explain the situation

Normally when you do ExecuteSQL(sql_statement, NULL, dialect) with dialect==NULL, OGR 
will forward sql_statement to the underlying SQL engine for a SQL compatible DBMS 
(Postgres, MySQL, SQLite, OCI, etc....), and if there's no such engine, evaluate it with its own 
OGRSQL builtin engine.

For the FileGDB driver, the ESRI SDK has some SQL evaluation capability, but my testing 
showed that it was too limited to be reliable, so by default I fallback to OGRSQL.
You can force the use of the ESRI SQL engine by specifying a dialect == "FileGDB". If you do 
that with the above statement, you'll get

$ ogrinfo sampleFGDB_1.gdb -sql "select OBJECTID as foo, * FROM polygonArcsZM1" -
dialect FileGDB -q
ERROR 1: Failed at executing 'select OBJECTID as foo, * FROM polygonArcsZM1' (An invalid 
SQL statement was used.)

So no better. Apparently, the ESRI SDK doesn't like selecting a column and "*".

So to come back to the bug, the SQL statement is evaluated with the OGRSQL engine. So this 
is a bug in it in the situation where the FID column name is an actual non-empty string. 
OGRSQL only understands "FID" as the shortcut for whatever the FID column name, and 
doesn't try to look if a column name matches OGR_L_GetFIDColumn() (when it was 
developped, all drivers that defaulted to OGRSQL had an implementation of 
OGR_L_GetFIDColumn() that returned a "" string). So this is a current shortcoming of the 
OGRSQL engine, that should probably be fixed

In the meantime you have to workaround it on the QGIS side, both for the "FileGDB" and 
"OpenFileGDB" drivers (. In that situation instead of using the result of 
OGR_L_GetFIDColumn() to build your SQL statement, hardcode FID.

So your statement will become:

SELECT FID as orig_ogc_fid, * FROM "lines" WHERE "text" = 'shape 2'


Actually when digging a bit more this could affect also the GeoJSON driver, but not in all 
situations. Only if you have a "id" member at the same level of "type": "Feature"
So something like
{ "type": "Feature", "id": 168, "properties": {...}, "geometry": {...} "
then id will be used as the FID and returned by OGR_L_GetFIDColumn()

And you'll hit the FileGDB bug

If you have something like
{ "type": "Feature",  "properties": { "id": 168,...}, "geometry": {...} "

Then OGR_L_GetFIDColumn() will return "id" but you'll have also a regular id field, so 
"SELECT id as ogrig_ogc_fid, * FROM ..." will work then.

</long_story>


<short_answer>

My (final!) suggestion is thus to first try:

SELECT {OGR_L_GetFIDColumn() or FID if it is empty} as orig_ogc_fid, * FROM 

If that returns an error look for CPLGetLastErrorMsg() and if it contains 
OGR_L_GetFIDColumn() in it, retry with

SELECT FID as orig_ogc_fid, * FROM 

Not pretty, but should be relatively robust

</sort_answer>


Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/611738f7/attachment-0001.html>

From manisandro at gmail.com  Wed Sep 20 04:34:49 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 20 Sep 2017 13:34:49 +0200
Subject: [QGIS-Developer] OGR/GBD: Unrecognized field name OBJECTID
In-Reply-To: <3693915.gTuWRv2ya2@even-i700>
References: <CAB28AsjqdE_tPSQ0QWk1RQ7V_3aj=329azksUbE4OB2GTda2KA@mail.gmail.com>
 <CAB28AsiZcSVYABebXkBJ3jR_8uD8CnJvhRPspDM2z4vENN0Z4Q@mail.gmail.com>
 <b44609e5-e441-ae10-e6cd-224e4a824d4c@gmail.com>
 <3693915.gTuWRv2ya2@even-i700>
Message-ID: <12fdd9ee-b815-fe62-08fe-66657152478e@gmail.com>


On 20.09.2017 12:46, Even Rouault wrote:
>
> On mercredi 20 septembre 2017 11:34:50 CEST Sandro Mani wrote:
>
> > On 20.09.2017 08:45, Nyall Dawson wrote:
>
> > > On 20 September 2017 at 10:18, Nyall Dawson 
> <nyall.dawson at gmail.com> wrote:
>
> > >> Hi all,
>
> > >>
>
> > >> I've just been trying to diagnose an issue with loading an existing
>
> > >> 2.18 project in the new 2.18.13 release.
>
> > >>
>
> > >> Seems like something may be broken here with regards to loading OGR
>
> > >> based layers which have a subset filter set.
>
> > >>
>
> > >> These layers trigger the "missing layers" dialog when loading the
>
> > >> project and the layer link cannot be repaired without removing the
>
> > >> filter clause.
>
> > >>
>
> > >> (specifically this is with .gdb layers on Windows - not sure yet if
>
> > >> it's restricted to this combination).
>
> > >>
>
> > >> So just a heads up to test your existing projects before rolling out
>
> > >> the 2.18.13 update.
>
> > >
>
> > > Failing unit test is here: https://github.com/qgis/QGIS/pull/5222,
>
> > > regression bisected to https://github.com/qgis/QGIS/commit/8eaeaaa
>
> > >
>
> > > Sandro can you take a look at this?
>
> >
>
> > Argh.
>
> >
>
> > So the result of the subset query
>
> >
>
> > SELECT OBJECTID as orig_ogc_fid, * FROM "lines" WHERE "text" = 'shape 2'
>
> >
>
> > now is
>
> >
>
> > 305: OGR(1): OGR[3] error 1: Unrecognized field name OBJECTID.
>
> > 305: OGR(1): Data source is invalid (Unrecognized field name OBJECTID.)
>
> >
>
> > but OBJECTID is what was returned by
>
> >
>
> > OGR_L_GetFIDColumn( layer )
>
> <long_story>
>
> Ah, that one is tricky. Let me try to explain the situation
>
> Normally when you do ExecuteSQL(sql_statement, NULL, dialect) with 
> dialect==NULL, OGR will forward sql_statement to the underlying SQL 
> engine for a SQL compatible DBMS (Postgres, MySQL, SQLite, OCI, 
> etc....), and if there's no such engine, evaluate it with its own 
> OGRSQL builtin engine.
>
> For the FileGDB driver, the ESRI SDK has some SQL evaluation 
> capability, but my testing showed that it was too limited to be 
> reliable, so by default I fallback to OGRSQL.
>
> You can force the use of the ESRI SQL engine by specifying a dialect 
> == "FileGDB". If you do that with the above statement, you'll get
>
> $ ogrinfo sampleFGDB_1.gdb -sql "select OBJECTID as foo, * FROM 
> polygonArcsZM1" -dialect FileGDB -q
>
> ERROR 1: Failed at executing 'select OBJECTID as foo, * FROM 
> polygonArcsZM1' (An invalid SQL statement was used.)
>
> So no better. Apparently, the ESRI SDK doesn't like selecting a column 
> and "*".
>
> So to come back to the bug, the SQL statement is evaluated with the 
> OGRSQL engine. So this is a bug in it in the situation where the FID 
> column name is an actual non-empty string. OGRSQL only understands 
> "FID" as the shortcut for whatever the FID column name, and doesn't 
> try to look if a column name matches OGR_L_GetFIDColumn() (when it was 
> developped, all drivers that defaulted to OGRSQL had an implementation 
> of OGR_L_GetFIDColumn() that returned a "" string). So this is a 
> current shortcoming of the OGRSQL engine, that should probably be fixed
>
> In the meantime you have to workaround it on the QGIS side, both for 
> the "FileGDB" and "OpenFileGDB" drivers (. In that situation instead 
> of using the result of OGR_L_GetFIDColumn() to build your SQL 
> statement, hardcode FID.
>
> So your statement will become:
>
> SELECT FID as orig_ogc_fid, * FROM "lines" WHERE "text" = 'shape 2'
>
> Actually when digging a bit more this could affect also the GeoJSON 
> driver, but not in all situations. Only if you have a "id" member at 
> the same level of "type": "Feature"
>
> So something like
>
> { "type": "Feature", "id": 168, "properties": {...}, "geometry": {...} "
>
> then id will be used as the FID and returned by OGR_L_GetFIDColumn()
>
> And you'll hit the FileGDB bug
>
> If you have something like
>
> { "type": "Feature", "properties": { "id": 168,...}, "geometry": {...} "
>
> Then OGR_L_GetFIDColumn() will return "id" but you'll have also a 
> regular id field, so "SELECT id as ogrig_ogc_fid, * FROM ..." will 
> work then.
>
> </long_story>
>
> <short_answer>
>
> My (final!) suggestion is thus to first try:
>
> SELECT {OGR_L_GetFIDColumn() or FID if it is empty} as orig_ogc_fid, * 
> FROM
>
> If that returns an error look for CPLGetLastErrorMsg() and if it 
> contains OGR_L_GetFIDColumn() in it, retry with
>
> SELECT FID as orig_ogc_fid, * FROM
>
> Not pretty, but should be relatively robust
>
> </sort_answer>
>
Thanks for the detailed explanation.

Does it actually hurt to try with FID regardless of the contents of 
CPLGetLastErrorMsg if the previous attempt failed, instead of relying on 
the contents of an error message?

PR is here:
https://github.com/qgis/QGIS/pull/5224


Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/49a96463/attachment.html>

From even.rouault at spatialys.com  Wed Sep 20 04:47:34 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 20 Sep 2017 13:47:34 +0200
Subject: [QGIS-Developer] OGR/GBD: Unrecognized field name OBJECTID
In-Reply-To: <12fdd9ee-b815-fe62-08fe-66657152478e@gmail.com>
References: <CAB28AsjqdE_tPSQ0QWk1RQ7V_3aj=329azksUbE4OB2GTda2KA@mail.gmail.com>
 <3693915.gTuWRv2ya2@even-i700>
 <12fdd9ee-b815-fe62-08fe-66657152478e@gmail.com>
Message-ID: <1921759.XOg7hCCsNR@even-i700>

> 
> Thanks for the detailed explanation.
> 
> Does it actually hurt to try with FID regardless of the contents of
> CPLGetLastErrorMsg if the previous attempt failed, instead of relying on
> the contents of an error message?

No, that shouldn't hurt.

> 
> PR is here:
> https://github.com/qgis/QGIS/pull/5224

Looks good to me

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/dd03098e/attachment-0001.html>

From a.neumann at carto.net  Wed Sep 20 05:29:54 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Sep 2017 14:29:54 +0200
Subject: [QGIS-Developer] Refactor fields processing algorithm and
	expressions
Message-ID: <9d0332af-c81e-d1b5-9625-6085e690cb17@carto.net>

Hi,

I am running into troubles using expressions in the "Refactor fields" 
processing provider.

E.g. I have a date field and would like to reformat it in german format:

format_date("erfassungsdatum",'dd.MM.yyyy')

Although I am 100% certain that the above expression is syntactically 
correct, the expression builder insists that the expression is invalid 
and I can therefore not apply and save this expression.

Is this a known limitation because the model does not know which layer 
it is tied to?

Are there any workarounds?

Thanks,

Andreas


From cavallini at faunalia.it  Wed Sep 20 06:14:11 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 20 Sep 2017 15:14:11 +0200
Subject: [QGIS-Developer] Crash reading PostGIS raster
Message-ID: <07683d58-f361-454a-7f5e-d61011c47f31@faunalia.it>

Hi all,
a freshly compiled QGIS 2.18 loads pg rasters correctly, but when
zooming segfaults miserably with:
Warning: RasterIO error: IReadBlock failed at X offset 0, Y offset 0
This is not new, but makes it pretty unusable.
Available for testing.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Wed Sep 20 06:24:02 2017
From: cavallini at faunalia.it (pcav)
Date: Wed, 20 Sep 2017 06:24:02 -0700 (MST)
Subject: [QGIS-Developer] Crash reading PostGIS raster
In-Reply-To: <07683d58-f361-454a-7f5e-d61011c47f31@faunalia.it>
References: <07683d58-f361-454a-7f5e-d61011c47f31@faunalia.it>
Message-ID: <1505913842514-0.post@n6.nabble.com>

This is the stcktrace:

Thread 12 "Thread (pooled)" received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fff42e7d700 (LWP 3910)]
0x00007ffff55da6b7 in QgsColorRampShader::shade(double, int*, int*, int*,
int*)
    ()
   from
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
(gdb) bt
#0  0x00007ffff55da6b7 in QgsColorRampShader::shade(double, int*, int*,
int*, int*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#1  0x00007ffff56015ed in QgsRasterShader::shade(double, int*, int*, int*,
int*) () at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#2  0x00007ffff561e543 in QgsSingleBandPseudoColorRenderer::block2(int,
QgsRectangle const&, int, int, QgsRasterBlockFeedback*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#3  0x00007ffff5605fa7 in QgsBrightnessContrastFilter::block2(int,
QgsRectangle const&, int, int, QgsRasterBlockFeedback*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#4  0x00007ffff560a5b9 in QgsHueSaturationFilter::block2(int, QgsRectangle
const&, int, int, QgsRasterBlockFeedback*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#5  0x00007ffff561b777 in QgsRasterResampleFilter::block2(int, QgsRectangle
const&, int, int, QgsRasterBlockFeedback*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#6  0x00007ffff55fee4a in QgsRasterProjector::block2(int, QgsRectangle
const&, int, int, QgsRasterBlockFeedback*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#7  0x00007ffff55ec4cf in QgsRasterIterator::readNextRasterPart(int, int&,
int&, QgsRasterBlock**, int&, int&) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#8  0x00007ffff560fd7e in QgsRasterDrawer::draw(QPainter*,
QgsRasterViewPort*, QgsMapToPixel const*, QgsRenderContext const*,
QgsRasterBlockFeedback*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#9  0x00007ffff55f7d69 in QgsRasterLayerRenderer::render() ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#10 0x00007ffff538371e in
QgsMapRendererParallelJob::renderLayerStatic(LayerRenderJob&) () at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#11 0x00007ffff53844ce in QtConcurrent::FunctionWrapper1<void,
LayerRenderJob&amp;>::operator()(LayerRenderJob&) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#12 0x00007ffff538422b in
QtConcurrent::MapKernel<QList&lt;LayerRenderJob>::iterator,
QtConcurrent::FunctionWrapper1<void, LayerRenderJob&amp;>
>::runIteration(QList<LayerRenderJob>::iterator, int, void*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#13 0x00007ffff53842bb in
QtConcurrent::MapKernel<QList&lt;LayerRenderJob>::iterator,
QtConcurrent::FunctionWrapper1<void, LayerRenderJob&amp;>
>::runIterations(QList<LayerRenderJob>::iterator, int, int, void*) ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#14 0x00007ffff538470f in
QtConcurrent::IterateKernel<QList&lt;LayerRenderJob>::iterator,
void>::forThreadFunction() ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#15 0x00007ffff5384438 in
QtConcurrent::IterateKernel<QList&lt;LayerRenderJob>::iterator,
void>::threadFunction() ()
    at
/usr/local/src/qgis/QGIS/build_qgis2/output/lib/libqgis_core.so.2.18.13
#16 0x00007ffff4818d5d in QtConcurrent::ThreadEngineBase::run() ()
    at /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#17 0x00007ffff481adba in  () at /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#18 0x00007ffff4827daa in  () at /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#19 0x00007fffecafd494 in start_thread (arg=0x7fff42e7d700) at
pthread_create.c:333
#20 0x00007fffed993abf in clone () at
../sysdeps/unix/sysv/linux/x86_64/clone.S:97



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From donn at forestmetrix.com  Wed Sep 20 06:24:38 2017
From: donn at forestmetrix.com (Donn Downey)
Date: Wed, 20 Sep 2017 09:24:38 -0400
Subject: [QGIS-Developer] removing icons
Message-ID: <8e6a4724-85d9-459d-b985-c592a24a64dc@Spark>

Hello, I develop database solutions for a niche industry that also has significant GIS needs. I personally use QGIS and help others get going, but even QGIS can be tough to teach to non-savvy computer users. As such, I dream of a version of QGIS where we basically strip out 90% of the icons from the half dozen relevant toolbars, in order to further simplify the interface and make the necessary tasks more accessible.  I have no programming experience- we would hire someone to do this- I’m just trying to figure out options. Ultimately, we’d like to (freely) share a special stripped down version of QGIS.

First, is it technically possible to hide or remove icons from toolbars, or develop a toolbar that is specific to our industry-specific purpose? Along these lines, are there developers on this list that contract to do work like this?

I apologize if this isn’t an appropriate forum to post this topic- I’m new to this. Please let me know. Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/8dfbbac4/attachment.html>

From madmanwoo at gmail.com  Wed Sep 20 06:41:35 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 20 Sep 2017 23:41:35 +1000
Subject: [QGIS-Developer] removing icons
In-Reply-To: <8e6a4724-85d9-459d-b985-c592a24a64dc@Spark>
References: <8e6a4724-85d9-459d-b985-c592a24a64dc@Spark>
Message-ID: <CAAi8Yg9udycQaCwnP6C2CoisbaoHipmHViHtNsHF70NR8vDKNw@mail.gmail.com>

Hey Donn,

FIrst, your post is in the right place.  Maybe qgis-user is a better place
but doesn't really matter for this.

Second, you sure can do what you need.  The first thing you need is
Settings -> Customization. Tick enable and you can disable and enable
anything you need.  You can also Save To File to get an ini file which you
can load QGIS with the following argument to start the UI with that
interface: qgis -z yourfile.ini.  Pretty handy if you need different UIs
for different use cases.

Next thing to do after that is look for the "Customize ToolBars" plugin.
That will let you make custom toolbars with what ever actions you need for
your users.

Regards,
Nathan


On Wed, Sep 20, 2017 at 11:24 PM, Donn Downey <donn at forestmetrix.com> wrote:

> Hello, I develop database solutions for a niche industry that also has
> significant GIS needs. I personally use QGIS and help others get going, but
> even QGIS can be tough to teach to non-savvy computer users. As such, I
> dream of a version of QGIS where we basically strip out 90% of the icons
> from the half dozen relevant toolbars, in order to further simplify the
> interface and make the necessary tasks more accessible.  I have no
> programming experience- we would hire someone to do this- I’m just trying
> to figure out options. Ultimately, we’d like to (freely) share a special
> stripped down version of QGIS.
>
> First, is it technically possible to hide or remove icons from toolbars,
> or develop a toolbar that is specific to our industry-specific purpose?
> Along these lines, are there developers on this list that contract to do
> work like this?
>
> I apologize if this isn’t an appropriate forum to post this topic- I’m new
> to this. Please let me know. Thanks!
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/96aa6fc5/attachment.html>

From joao.f.r.gaspar at gmail.com  Wed Sep 20 06:45:22 2017
From: joao.f.r.gaspar at gmail.com (=?UTF-8?B?Sm/Do28gR2FzcGFy?=)
Date: Wed, 20 Sep 2017 14:45:22 +0100
Subject: [QGIS-Developer] removing icons
In-Reply-To: <CAAi8Yg9udycQaCwnP6C2CoisbaoHipmHViHtNsHF70NR8vDKNw@mail.gmail.com>
References: <8e6a4724-85d9-459d-b985-c592a24a64dc@Spark>
 <CAAi8Yg9udycQaCwnP6C2CoisbaoHipmHViHtNsHF70NR8vDKNw@mail.gmail.com>
Message-ID: <CAM+zXj38=10F=ZDsfqQGi0GFB0zYe+_woN6p5=wNALZgg4eWPQ@mail.gmail.com>

Hi Donn,
supporting the answer of Nathan of this subject you can see in
documentation:
http://docs.qgis.org/2.18/en/docs/user_manual/introduction/qgis_configuration.html#customization

Regards,
João


2017-09-20 14:41 GMT+01:00 Nathan Woodrow <madmanwoo at gmail.com>:

> Hey Donn,
>
> FIrst, your post is in the right place.  Maybe qgis-user is a better place
> but doesn't really matter for this.
>
> Second, you sure can do what you need.  The first thing you need is
> Settings -> Customization. Tick enable and you can disable and enable
> anything you need.  You can also Save To File to get an ini file which you
> can load QGIS with the following argument to start the UI with that
> interface: qgis -z yourfile.ini.  Pretty handy if you need different UIs
> for different use cases.
>
> Next thing to do after that is look for the "Customize ToolBars" plugin.
> That will let you make custom toolbars with what ever actions you need for
> your users.
>
> Regards,
> Nathan
>
>
> On Wed, Sep 20, 2017 at 11:24 PM, Donn Downey <donn at forestmetrix.com>
> wrote:
>
>> Hello, I develop database solutions for a niche industry that also has
>> significant GIS needs. I personally use QGIS and help others get going, but
>> even QGIS can be tough to teach to non-savvy computer users. As such, I
>> dream of a version of QGIS where we basically strip out 90% of the icons
>> from the half dozen relevant toolbars, in order to further simplify the
>> interface and make the necessary tasks more accessible.  I have no
>> programming experience- we would hire someone to do this- I’m just trying
>> to figure out options. Ultimately, we’d like to (freely) share a special
>> stripped down version of QGIS.
>>
>> First, is it technically possible to hide or remove icons from toolbars,
>> or develop a toolbar that is specific to our industry-specific purpose?
>> Along these lines, are there developers on this list that contract to do
>> work like this?
>>
>> I apologize if this isn’t an appropriate forum to post this topic- I’m
>> new to this. Please let me know. Thanks!
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/57cb612a/attachment-0001.html>

From cavallini at faunalia.it  Wed Sep 20 06:49:03 2017
From: cavallini at faunalia.it (pcav)
Date: Wed, 20 Sep 2017 06:49:03 -0700 (MST)
Subject: [QGIS-Developer] Crash reading PostGIS raster
In-Reply-To: <07683d58-f361-454a-7f5e-d61011c47f31@faunalia.it>
References: <07683d58-f361-454a-7f5e-d61011c47f31@faunalia.it>
Message-ID: <1505915343021-0.post@n6.nabble.com>

This is the ticket:
https://issues.qgis.org/issues/8073



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From luipir at gmail.com  Wed Sep 20 07:49:29 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 20 Sep 2017 16:49:29 +0200
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <CAFO80_pATB1q27kW9hQszNVDceHYJPbYGYxc=B1YQqQyO1JLYQ@mail.gmail.com>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
 <6c00ffde-2cb7-80c6-f327-9fd38e7b1638@opengis.ch>
 <CAFO80_pATB1q27kW9hQszNVDceHYJPbYGYxc=B1YQqQyO1JLYQ@mail.gmail.com>
Message-ID: <CAFO80_rAB-uAFDeQ8rbHkm0Y2e0C4PD3kzYFGmV1wcZhpNRHdQ@mail.gmail.com>

The following PR should approach the above described issues:

https://github.com/qgis/QGIS/pull/5223

please give a try.

respect the request to add a config option to force or not conversion
I implemented the following rule:
1) as proposed by mathias... if there is only a conversion, do it!
2) if not conversion is possibile => raise error as soon as possibile
during editing => it's up to the use to adapt the receiving layer to
be compatible.

regards

Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 8 September 2017 at 17:05, Luigi Pirelli <luipir at gmail.com> wrote:
> On 8 September 2017 at 16:51, Matthias Kuhn <matthias at opengis.ch> wrote:
>> I would try to avoid introducing the same logic in all tools like
>> snapping, pasting, GPS digitizing, processing, ...
>
> I strongly agree
>
> Luigi Pirelli
>
> **************************************************************************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> **************************************************************************************************

From manisandro at gmail.com  Wed Sep 20 08:32:27 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 20 Sep 2017 17:32:27 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <2634070.b6zSAaebEJ@even-i700>
References: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <c2407589-0228-d1fb-5870-084f9000c706@gmail.com>
 <2634070.b6zSAaebEJ@even-i700>
Message-ID: <43f82868-2cb3-5db7-6605-1bd5adad87f3@gmail.com>


On 19.09.2017 19:15, Even Rouault wrote:
>
> On mardi 19 septembre 2017 18:30:50 CEST Sandro Mani wrote:
>
> > On 11.07.2017 14:31, Even Rouault wrote:
>
> > > We could potentially imagine to defer the repacking at
>
> > > leaveUpdateMode() time, actually in the close() method which is called
>
> > > when the reference counter of the update mode drops to zero (*),
>
> > > instead of doing it at the end of each operation.
>
> >
>
> > To come back to this, I was looking at moving replack() to close(), but
>
> > noticed that syncToDisc() has the logic "for shapefiles, remove spatial
>
> > index files and create a new index" which calls close. And syncToDisk is
>
> > still called after every change. So should syncToDisk be also moved to
>
> > close(), or at least blocked if an updateMode is active?
>
> >
>
> Yes that would probably make sense to block syncToDisk() while in 
> updateMode (so when mUpdateModeStackDepth > 0), but probably only if 
> enterUpdateMode() is called by QgsVectorLayer::startEditing(), and not 
> when called implicitly by doInitialActionsForEdition(), which might be 
> the case if someone directly works at the provider level
>
> bool QgsOgrProvider::doInitialActionsForEdition()
>
> {
>
> if ( !mValid )
>
> return false;
>
> if ( !mWriteAccess && mWriteAccessPossible && mDynamicWriteAccess )
>
> {
>
> QgsDebugMsg( "Enter update mode implictly" );
>
> if ( !enterUpdateMode() )
>
> return false;
>
> }
>
> return true;
>
> }
>
> So probably a mImplicitUpdateMode flag should be set above near the 
> QgsDebugMsg(), and the check to decide whether we can defer 
> syncToDisk() would be ( !mImplicitUpdateMode && mUpdateModeStackDepth > 0)
>
Hm but will that flag never be cleared again once set? Since AFAICT a 
there is no leaveUpdateMode matching the enterUpdateMode called by 
doInitialActionsForEdition.

As I understand, the approach to do changes with stable ids would be to 
first enterUpdateMode, then perform the changes, then leaveUpdateMode, 
at which point the changes are synced and the dataset repacked. With the 
mImplicitUpdateMode flag, if anyone worked directly at provider level 
before you come along, deferring syncToDisk would never happen since the 
mImplicitUpdateMode was set and remains set.

Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/dc9edc29/attachment.html>

From even.rouault at spatialys.com  Wed Sep 20 08:39:47 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 20 Sep 2017 17:39:47 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <43f82868-2cb3-5db7-6605-1bd5adad87f3@gmail.com>
References: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <2634070.b6zSAaebEJ@even-i700>
 <43f82868-2cb3-5db7-6605-1bd5adad87f3@gmail.com>
Message-ID: <9872542.5uQfmTOE49@even-i700>

On mercredi 20 septembre 2017 17:32:27 CEST Sandro Mani wrote:
> On 19.09.2017 19:15, Even Rouault wrote:
> > On mardi 19 septembre 2017 18:30:50 CEST Sandro Mani wrote:
> > > On 11.07.2017 14:31, Even Rouault wrote:
> > > > We could potentially imagine to defer the repacking at
> > > > 
> > > > leaveUpdateMode() time, actually in the close() method which is called
> > > > 
> > > > when the reference counter of the update mode drops to zero (*),
> > > > 
> > > > instead of doing it at the end of each operation.
> > > 
> > > To come back to this, I was looking at moving replack() to close(), but
> > > 
> > > noticed that syncToDisc() has the logic "for shapefiles, remove spatial
> > > 
> > > index files and create a new index" which calls close. And syncToDisk is
> > > 
> > > still called after every change. So should syncToDisk be also moved to
> > > 
> > > close(), or at least blocked if an updateMode is active?
> > 
> > Yes that would probably make sense to block syncToDisk() while in
> > updateMode (so when mUpdateModeStackDepth > 0), but probably only if
> > enterUpdateMode() is called by QgsVectorLayer::startEditing(), and not
> > when called implicitly by doInitialActionsForEdition(), which might be
> > the case if someone directly works at the provider level
> > 
> > bool QgsOgrProvider::doInitialActionsForEdition()
> > 
> > {
> > 
> > if ( !mValid )
> > 
> > return false;
> > 
> > if ( !mWriteAccess && mWriteAccessPossible && mDynamicWriteAccess )
> > 
> > {
> > 
> > QgsDebugMsg( "Enter update mode implictly" );
> > 
> > if ( !enterUpdateMode() )
> > 
> > return false;
> > 
> > }
> > 
> > return true;
> > 
> > }
> > 
> > So probably a mImplicitUpdateMode flag should be set above near the
> > QgsDebugMsg(), and the check to decide whether we can defer
> > syncToDisk() would be ( !mImplicitUpdateMode && mUpdateModeStackDepth > 0)
> 
> Hm but will that flag never be cleared again once set? Since AFAICT a
> there is no leaveUpdateMode matching the enterUpdateMode called by
> doInitialActionsForEdition.
> 
> As I understand, the approach to do changes with stable ids would be to
> first enterUpdateMode, then perform the changes, then leaveUpdateMode,
> at which point the changes are synced and the dataset repacked.

Yes

> With the
> mImplicitUpdateMode flag, if anyone worked directly at provider level
> before you come along, deferring syncToDisk would never happen since the
> mImplicitUpdateMode was set and remains set.

Yes my idea was to keep the current behaviour where repack() is done frequently, as you 
cannot know when the dataset should be in a consistant state.
But we could also decide to defer syncToDisk() at provider deletion (would make the code 
simpler)
I have no idea of the existing use cases behind and if that would break some.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/472d8c0b/attachment-0001.html>

From manisandro at gmail.com  Wed Sep 20 09:11:19 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 20 Sep 2017 18:11:19 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <9872542.5uQfmTOE49@even-i700>
References: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <2634070.b6zSAaebEJ@even-i700>
 <43f82868-2cb3-5db7-6605-1bd5adad87f3@gmail.com>
 <9872542.5uQfmTOE49@even-i700>
Message-ID: <fa683d75-de54-d4cb-9c38-fee3b650e4e6@gmail.com>


On 20.09.2017 17:39, Even Rouault wrote:
>
> On mercredi 20 septembre 2017 17:32:27 CEST Sandro Mani wrote:
>
> > On 19.09.2017 19:15, Even Rouault wrote:
>
> > > On mardi 19 septembre 2017 18:30:50 CEST Sandro Mani wrote:
>
> > > > On 11.07.2017 14:31, Even Rouault wrote:
>
> > > > > We could potentially imagine to defer the repacking at
>
> > > > >
>
> > > > > leaveUpdateMode() time, actually in the close() method which 
> is called
>
> > > > >
>
> > > > > when the reference counter of the update mode drops to zero (*),
>
> > > > >
>
> > > > > instead of doing it at the end of each operation.
>
> > > >
>
> > > > To come back to this, I was looking at moving replack() to 
> close(), but
>
> > > >
>
> > > > noticed that syncToDisc() has the logic "for shapefiles, remove 
> spatial
>
> > > >
>
> > > > index files and create a new index" which calls close. And 
> syncToDisk is
>
> > > >
>
> > > > still called after every change. So should syncToDisk be also 
> moved to
>
> > > >
>
> > > > close(), or at least blocked if an updateMode is active?
>
> > >
>
> > > Yes that would probably make sense to block syncToDisk() while in
>
> > > updateMode (so when mUpdateModeStackDepth > 0), but probably only if
>
> > > enterUpdateMode() is called by QgsVectorLayer::startEditing(), and not
>
> > > when called implicitly by doInitialActionsForEdition(), which might be
>
> > > the case if someone directly works at the provider level
>
> > >
>
> > > bool QgsOgrProvider::doInitialActionsForEdition()
>
> > >
>
> > > {
>
> > >
>
> > > if ( !mValid )
>
> > >
>
> > > return false;
>
> > >
>
> > > if ( !mWriteAccess && mWriteAccessPossible && mDynamicWriteAccess )
>
> > >
>
> > > {
>
> > >
>
> > > QgsDebugMsg( "Enter update mode implictly" );
>
> > >
>
> > > if ( !enterUpdateMode() )
>
> > >
>
> > > return false;
>
> > >
>
> > > }
>
> > >
>
> > > return true;
>
> > >
>
> > > }
>
> > >
>
> > > So probably a mImplicitUpdateMode flag should be set above near the
>
> > > QgsDebugMsg(), and the check to decide whether we can defer
>
> > > syncToDisk() would be ( !mImplicitUpdateMode && 
> mUpdateModeStackDepth > 0)
>
> >
>
> > Hm but will that flag never be cleared again once set? Since AFAICT a
>
> > there is no leaveUpdateMode matching the enterUpdateMode called by
>
> > doInitialActionsForEdition.
>
> >
>
> > As I understand, the approach to do changes with stable ids would be to
>
> > first enterUpdateMode, then perform the changes, then leaveUpdateMode,
>
> > at which point the changes are synced and the dataset repacked.
>
> Yes
>
> > With the
>
> > mImplicitUpdateMode flag, if anyone worked directly at provider level
>
> > before you come along, deferring syncToDisk would never happen since the
>
> > mImplicitUpdateMode was set and remains set.
>
> Yes my idea was to keep the current behaviour where repack() is done 
> frequently, as you cannot know when the dataset should be in a 
> consistant state.
>
> But we could also decide to defer syncToDisk() at provider deletion 
> (would make the code simpler)
>
> I have no idea of the existing use cases behind and if that would 
> break some.
>
Suppose something like [1] should both allow reliably deferring 
syncToDisk when an updateMode was explicitly entered while keeping the 
current behaviour of immediate syncToDisk for implicit update mode.

Sandro

[1] 
https://github.com/manisandro/QGIS/commit/13f451bdcbb653e9d69e55c79a5ba520d3f1712e
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/0279c8d4/attachment.html>

From sciurusurbanus at hotmail.it  Wed Sep 20 16:13:41 2017
From: sciurusurbanus at hotmail.it (=?Windows-1252?Q?Niccol=F2_Marchi?=)
Date: Wed, 20 Sep 2017 23:13:41 +0000
Subject: [QGIS-Developer] [SAGA] Raster values to points
Message-ID: <HE1PR1001MB09062204271F754BE8901FF2A7610@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>

Hi all,
updating from 2.18.11 to .13 the ‘Raster values to points’ disappeared to be substituted by  ‘Raster values to points (randomly)’. The same operation can be done with ‘v.what.rast.points’ but, even if well explained in some blogs, it turns to be pretty less user-friendly than the previous.
Is there a particular reason to this change?

Thanks in advance,

Niccolò
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/f62f8681/attachment.html>

From noreply at qgis.org  Wed Sep 20 23:16:31 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 21 Sep 2017 06:16:31 -0000
Subject: [QGIS-Developer] Plugin [1330] Land Degradation Monitoring Toolbox
 approval notification.
Message-ID: <20170921061631.2614.91449@320558c5528b>


Plugin Land Degradation Monitoring Toolbox approval by pcav.
The plugin version "[1330] Land Degradation Monitoring Toolbox 0.2" is now approved
Link: http://plugins.qgis.org/plugins/LDMP/

From noreply at qgis.org  Wed Sep 20 23:18:03 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 21 Sep 2017 06:18:03 -0000
Subject: [QGIS-Developer] Plugin [1305] Calidad-CAR approval notification.
Message-ID: <20170921061803.7096.13660@320558c5528b>


Plugin Calidad-CAR approval by pcav.
The plugin version "[1305] Calidad-CAR 0.7" is now approved
Link: http://plugins.qgis.org/plugins/CalidadCAR/

From noreply at qgis.org  Wed Sep 20 23:16:15 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 21 Sep 2017 06:16:15 -0000
Subject: [QGIS-Developer] Plugin [407] geopunt4Qgis approval notification.
Message-ID: <20170921061615.2614.35978@320558c5528b>


Plugin geopunt4Qgis approval by pcav.
The plugin version "[407] geopunt4Qgis 1.7.0" is now approved
Link: http://plugins.qgis.org/plugins/geopunt4Qgis/

From sciurusurbanus at hotmail.it  Wed Sep 20 15:58:23 2017
From: sciurusurbanus at hotmail.it (=?Windows-1252?Q?Niccol=F2_Marchi?=)
Date: Wed, 20 Sep 2017 22:58:23 +0000
Subject: [QGIS-Developer] refactor fields doesn't accept expressions
Message-ID: <HE1PR1001MB09061864D47969949AA4D8E1A7610@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>

Hi all,
I’m using ‘refactor fields’ in the modeler.

Once I’ve loaded the fields from a shp and then added some new ones, I’m not able to add a formula (e.g. ‘to_int(substr("MM_GG", 1,2))’ ) to the latter ones because it’s recognised as wrong in the Expression dialog. Furthermore, the Expression dialog doesn’t recognise any field in the label ‘Fields and values’ and simply shows ‘NULL’.
BTW, if I write the formula directly in the box without using the expression dialog and then run the model, it works smoothly.
Are those intended behaviours?

i just updated from 2.18.11 to .13 .

all the best,

Niccolò
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170920/68f8463f/attachment.html>

From a.neumann at carto.net  Thu Sep 21 00:34:44 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 21 Sep 2017 09:34:44 +0200
Subject: [QGIS-Developer] refactor fields doesn't accept expressions
In-Reply-To: <HE1PR1001MB09061864D47969949AA4D8E1A7610@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>
References: <HE1PR1001MB09061864D47969949AA4D8E1A7610@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <d56d52d6b9fdac5c92f6d8179ba13444@carto.net>

Hi Niccolo, 

I ran into the exact same problem yesterday. I opened an issue: 

https://issues.qgis.org/issues/17170 

Are you sure that this worked in earlier QGIS versions? It would help to
know that. 

Andreas 

On 2017-09-21 00:58, Niccolò Marchi wrote:

> Hi all, 
> 
> I'm using 'refactor fields' in the modeler. 
> 
> Once I've loaded the fields from a shp and then added some new ones, I'm not able to add a formula (e.g. 'to_int(substr("MM_GG", 1,2))' ) to the latter ones because it's recognised as wrong in the Expression dialog. Furthermore, the Expression dialog doesn't recognise any field in the label 'Fields and values' and simply shows 'NULL'. 
> 
> BTW, if I write the formula directly in the box without using the expression dialog and then run the model, it works smoothly. 
> 
> Are those intended behaviours? 
> 
> i just updated from 2.18.11 to .13 . 
> 
> all the best, 
> 
> Niccolò 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170921/8bb9a5c6/attachment.html>

From apasotti at gmail.com  Thu Sep 21 02:57:04 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 21 Sep 2017 11:57:04 +0200
Subject: [QGIS-Developer] project properties menu item: move it?
Message-ID: <CAL5Q6720WQRu_=CufRXdOcXD9OHgo5jZ3VfxWZ_Tr6n8ATDSYQ@mail.gmail.com>

What do you think about moving the project properties menu item from the
settings menu to the project menu?



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170921/3a7034bd/attachment-0001.html>

From a.neumann at carto.net  Thu Sep 21 03:03:44 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 21 Sep 2017 12:03:44 +0200
Subject: [QGIS-Developer] project properties menu item: move it?
In-Reply-To: <CAL5Q6720WQRu_=CufRXdOcXD9OHgo5jZ3VfxWZ_Tr6n8ATDSYQ@mail.gmail.com>
References: <CAL5Q6720WQRu_=CufRXdOcXD9OHgo5jZ3VfxWZ_Tr6n8ATDSYQ@mail.gmail.com>
Message-ID: <c9b4a89614fae9adee3d5928a38f10d8@carto.net>

Hi Alessandro, 

It depends on the OS. 

As to my knowledge, Linux with KDE is the only platform where the
project properties are in the settings menu, whereas Windows, OSX and
Linux with Gnome all have it in the project menu. 

When I teach QGIS I always have to say people that on my machine
(Linux/KDE) the project properties are in the settings menu, while on
99% of the other machines it is in the project menu. 

It is indeeed VERY, VERY annoying, that KDE behaves different in this
respect. 

Andreas 

On 2017-09-21 11:57, Alessandro Pasotti wrote:

> What do you think about moving the project properties menu item from the settings menu to the project menu?
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it [1] 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 

Links:
------
[1] http://www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170921/44869b3c/attachment.html>

From madmanwoo at gmail.com  Thu Sep 21 03:35:20 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 21 Sep 2017 20:35:20 +1000
Subject: [QGIS-Developer] project properties menu item: move it?
In-Reply-To: <c9b4a89614fae9adee3d5928a38f10d8@carto.net>
References: <CAL5Q6720WQRu_=CufRXdOcXD9OHgo5jZ3VfxWZ_Tr6n8ATDSYQ@mail.gmail.com>
 <c9b4a89614fae9adee3d5928a38f10d8@carto.net>
Message-ID: <CAAi8Yg9LM1VRkdOjVrgykWTwkjxmaKPvjHg_HShQ-MOW2Mk0Lw@mail.gmail.com>

Please move it for every OS.  There is no reason this needs to be in the
settings menu for different systems.

On Thu, Sep 21, 2017 at 8:03 PM, Andreas Neumann <a.neumann at carto.net>
wrote:

> Hi Alessandro,
>
> It depends on the OS.
>
> As to my knowledge, Linux with KDE is the only platform where the project
> properties are in the settings menu, whereas Windows, OSX and Linux with
> Gnome all have it in the project menu.
>
> When I teach QGIS I always have to say people that on my machine
> (Linux/KDE) the project properties are in the settings menu, while on 99%
> of the other machines it is in the project menu.
>
> It is indeeed VERY, VERY annoying, that KDE behaves different in this
> respect.
>
> Andreas
>
>
> On 2017-09-21 11:57, Alessandro Pasotti wrote:
>
>
> What do you think about moving the project properties menu item from the
> settings menu to the project menu?
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170921/9443373a/attachment.html>

From a.neumann at carto.net  Thu Sep 21 03:52:13 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 21 Sep 2017 12:52:13 +0200
Subject: [QGIS-Developer] project properties menu item: move it?
In-Reply-To: <CAAi8Yg9LM1VRkdOjVrgykWTwkjxmaKPvjHg_HShQ-MOW2Mk0Lw@mail.gmail.com>
References: <CAL5Q6720WQRu_=CufRXdOcXD9OHgo5jZ3VfxWZ_Tr6n8ATDSYQ@mail.gmail.com>
 <c9b4a89614fae9adee3d5928a38f10d8@carto.net>
 <CAAi8Yg9LM1VRkdOjVrgykWTwkjxmaKPvjHg_HShQ-MOW2Mk0Lw@mail.gmail.com>
Message-ID: <f7b12b058613762f7bb0e3a83cc47e25@carto.net>

I would prefer it as well, if Linux/KDE would have it in the project
menu. 

I had a brief look at it with Nyall in Nodebo - somehow someone (some
years back) claimed, that KDE had it in the HIG (human interface
guideline) that everything settings related should be in the settings
menu. 

But I think it creates more harm than that it helps. 

Andreas 

On 2017-09-21 12:35, Nathan Woodrow wrote:

> Please move it for every OS.  There is no reason this needs to be in the settings menu for different systems. 
> 
> On Thu, Sep 21, 2017 at 8:03 PM, Andreas Neumann <a.neumann at carto.net> wrote:
> 
> Hi Alessandro, 
> 
> It depends on the OS. 
> 
> As to my knowledge, Linux with KDE is the only platform where the project properties are in the settings menu, whereas Windows, OSX and Linux with Gnome all have it in the project menu. 
> 
> When I teach QGIS I always have to say people that on my machine (Linux/KDE) the project properties are in the settings menu, while on 99% of the other machines it is in the project menu. 
> 
> It is indeeed VERY, VERY annoying, that KDE behaves different in this respect. 
> 
> Andreas
> 
> On 2017-09-21 11:57, Alessandro Pasotti wrote: 
> 
> What do you think about moving the project properties menu item from the settings menu to the project menu?
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it [1] 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2] 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]

 

Links:
------
[1] http://www.itopen.it
[2] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170921/7c07300e/attachment.html>

From apasotti at gmail.com  Thu Sep 21 03:55:01 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 21 Sep 2017 12:55:01 +0200
Subject: [QGIS-Developer] project properties menu item: move it?
In-Reply-To: <f7b12b058613762f7bb0e3a83cc47e25@carto.net>
References: <CAL5Q6720WQRu_=CufRXdOcXD9OHgo5jZ3VfxWZ_Tr6n8ATDSYQ@mail.gmail.com>
 <c9b4a89614fae9adee3d5928a38f10d8@carto.net>
 <CAAi8Yg9LM1VRkdOjVrgykWTwkjxmaKPvjHg_HShQ-MOW2Mk0Lw@mail.gmail.com>
 <f7b12b058613762f7bb0e3a83cc47e25@carto.net>
Message-ID: <CAL5Q671qfm0Y7F3nWvUkbKphHo4PHgX=S3aZkjk4RRDNGffV5w@mail.gmail.com>

On Thu, Sep 21, 2017 at 12:52 PM, Andreas Neumann <a.neumann at carto.net>
wrote:

> I would prefer it as well, if Linux/KDE would have it in the project menu.
>
> I had a brief look at it with Nyall in Nodebo - somehow someone (some
> years back) claimed, that KDE had it in the HIG (human interface guideline)
> that everything settings related should be in the settings menu.
>
> But I think it creates more harm than that it helps.
>

100% agreed: I think that was meant for "application" settings, not for
project settings.



Andreas
>
> On 2017-09-21 12:35, Nathan Woodrow wrote:
>
> Please move it for every OS.  There is no reason this needs to be in the
> settings menu for different systems.
>
> On Thu, Sep 21, 2017 at 8:03 PM, Andreas Neumann <a.neumann at carto.net>
> wrote:
>
>> Hi Alessandro,
>>
>> It depends on the OS.
>>
>> As to my knowledge, Linux with KDE is the only platform where the project
>> properties are in the settings menu, whereas Windows, OSX and Linux with
>> Gnome all have it in the project menu.
>>
>> When I teach QGIS I always have to say people that on my machine
>> (Linux/KDE) the project properties are in the settings menu, while on 99%
>> of the other machines it is in the project menu.
>>
>> It is indeeed VERY, VERY annoying, that KDE behaves different in this
>> respect.
>>
>> Andreas
>>
>>
>> On 2017-09-21 11:57, Alessandro Pasotti wrote:
>>
>>
>> What do you think about moving the project properties menu item from the
>> settings menu to the project menu?
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170921/9be51249/attachment-0001.html>

From noreply at qgis.org  Thu Sep 21 07:53:18 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 21 Sep 2017 14:53:18 -0000
Subject: [QGIS-Developer] Plugin [1048] Another DXF Importer / DXF2Shape
 Converter approval notification.
Message-ID: <20170921145318.7096.25608@320558c5528b>


Plugin Another DXF Importer / DXF2Shape Converter approval by pcav.
The plugin version "[1048] Another DXF Importer / DXF2Shape Converter 0.90" is now approved
Link: http://plugins.qgis.org/plugins/AnotherDXF2Shape/

From noreply at qgis.org  Thu Sep 21 07:53:43 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 21 Sep 2017 14:53:43 -0000
Subject: [QGIS-Developer] Plugin [609] Temporal/Spectral Profile Tool
	approval notification.
Message-ID: <20170921145343.31949.21817@320558c5528b>


Plugin Temporal/Spectral Profile Tool approval by pcav.
The plugin version "[609] Temporal/Spectral Profile Tool 1.2.2" is now approved
Link: http://plugins.qgis.org/plugins/temporalprofiletool/

From rdmailings at duif.net  Thu Sep 21 12:53:28 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 21 Sep 2017 21:53:28 +0200
Subject: [QGIS-Developer] Label Text Type case option 'Capitatlize first
 letter' ONLY capitalizes first letter
Message-ID: <67e9cca8-9871-70f0-c890-1a94a31904c8@duif.net>


Hi Devs,

In the Label properties/Text/Type case there is an option 'Capitalize
first letter'.

Having a set with text like
'WORD' and 'text'
I thought I would end up with
'Word' and 'Text'
... but it appears that it really ONLY capitalizes the first letter and
does not touch the rest of the string, so becomes
'WORD' and 'Text'

Looking at
https://github.com/qgis/QGIS/blob/master/src/core/qgsstringutils.cpp#L38

And
https://github.com/qgis/QGIS
/blob/master/src/core/qgsstringutils.h#L177
it gives the answer:
//!< Convert just the first letter of each word to uppercase, leave the
rest untouched

So Question:
- isn't a Type case function which first does all lowercase and THEN
convert the first letter more helpfull?

- can I add it (looks easy)?

- how would I call it: 'Camelcase' ?

- is current 'Capitalize first letter' actually helpfull or is
'CamelCase' actually what it should be?

Regards,

Richard Duivenvoorde



From a.neumann at carto.net  Thu Sep 21 21:30:54 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 22 Sep 2017 06:30:54 +0200
Subject: [QGIS-Developer] R: refactor fields doesn't accept expressions
In-Reply-To: <HE1PR1001MB090666CB86F00A037D4274D9A7670@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>
References: <HE1PR1001MB09061864D47969949AA4D8E1A7610@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>
 <d56d52d6b9fdac5c92f6d8179ba13444@carto.net>
 <HE1PR1001MB090666CB86F00A037D4274D9A7670@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <6b7a0588-ba1a-2cf4-caab-f8666deeba40@carto.net>

Hi Niccolo,

Perhaps you can open separate issues.

Thanks,

Andreas


On 22.09.2017 02:15, Niccolò Marchi wrote:
>
> Hi Andreas,
>
> unfortunately I never used it in this way (with formulae) before: all 
> the previous times I was simply adding empty fields or deleting 
> useless ones.
>
> A further minor issue related to the alg: when selecting the field 
> type, “double” and “data” are repeated twice.
>
> An improvement could be also adding the NULL value by default when a 
> field is created. Does it make sense?
>
> Should these notes be added to your issue or separated into other tickets?
>
> All the best,
>
> Niccolò
>
> *Da: *Andreas Neumann <mailto:a.neumann at carto.net>
> *Inviato: *giovedì 21 settembre 2017 00:34
> *A: *Niccolò Marchi <mailto:sciurusurbanus at hotmail.it>
> *Cc: *qgis-developer at lists.osgeo.org 
> <mailto:qgis-developer at lists.osgeo.org>
> *Oggetto: *Re: [QGIS-Developer] refactor fields doesn't accept expressions
>
> Hi Niccolo,
>
> I ran into the exact same problem yesterday. I opened an issue:
>
> https://issues.qgis.org/issues/17170
>
> Are you sure that this worked in earlier QGIS versions? It would help 
> to know that.
>
> Andreas
>
> On 2017-09-21 00:58, Niccolò Marchi wrote:
>
>     Hi all,
>
>     I'm using 'refactor fields' in the modeler.
>
>     Once I've loaded the fields from a shp and then added some new
>     ones, I'm not able to add a formula (e.g. 'to_int(substr("MM_GG",
>     1,2))' ) to the latter ones because it's recognised as wrong in
>     the Expression dialog. Furthermore, the Expression dialog doesn't
>     recognise any field in the label 'Fields and values' and simply
>     shows 'NULL'.
>
>     BTW, if I write the formula directly in the box without using the
>     expression dialog and then run the model, it works smoothly.
>
>     Are those intended behaviours?
>
>     i just updated from 2.18.11 to .13 .
>
>     all the best,
>
>     Niccolò
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170922/7338c903/attachment.html>

From tom.chadwin at nnpa.org.uk  Fri Sep 22 02:29:28 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 22 Sep 2017 02:29:28 -0700 (MST)
Subject: [QGIS-Developer] Label Text Type case option 'Capitatlize first
 letter' ONLY capitalizes first letter
In-Reply-To: <67e9cca8-9871-70f0-c890-1a94a31904c8@duif.net>
References: <67e9cca8-9871-70f0-c890-1a94a31904c8@duif.net>
Message-ID: <1506072568857-0.post@n6.nabble.com>

Hi Richard

If you are raising this for yourself, I'm sure you know this, but you can
achieve what you need with the expressions function "title()". I can also
see occasions when first-letter could be of use.

If your point is for other users, then there is certainly an argument for
including title case in that formatting dropdown.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Fri Sep 22 03:20:20 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 22 Sep 2017 12:20:20 +0200
Subject: [QGIS-Developer] Label Text Type case option 'Capitatlize first
 letter' ONLY capitalizes first letter
In-Reply-To: <1506072568857-0.post@n6.nabble.com>
References: <67e9cca8-9871-70f0-c890-1a94a31904c8@duif.net>
 <1506072568857-0.post@n6.nabble.com>
Message-ID: <9c96d891-68b8-ee9c-34bf-e67258f35e30@duif.net>

On 22-09-17 11:29, Tom Chadwin wrote:
> Hi Richard
> 
> If you are raising this for yourself, I'm sure you know this, but you can
> achieve what you need with the expressions function "title()". I can also
> see occasions when first-letter could be of use.
> 
> If your point is for other users, then there is certainly an argument for
> including title case in that formatting dropdown.

Hi Tom,

I did not know of this type (title-case?) of capitalization... googleing
for it, I found:

http://wiki.c2.com/?CapitalizationRules

ough.. a LOT of different rules/names... and Camelcase is actually NOT
what I think it was...

Which brings me to:
- should we not bring all these capitalization options to expressions
and then
- should we not either remove the 'Type case' drop down from the label
dialog? As the use of expression is (then) much stronger.

In that way you do not have to maintain this capitalisation stuff in 2
places.

OR do expressions and the labeling dropdown use different execution
path's so the dropdown is just faster (which is important for labeling!)?

Regards,

Richard



From tom.chadwin at nnpa.org.uk  Fri Sep 22 03:39:40 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 22 Sep 2017 03:39:40 -0700 (MST)
Subject: [QGIS-Developer] Label Text Type case option 'Capitatlize first
 letter' ONLY capitalizes first letter
In-Reply-To: <9c96d891-68b8-ee9c-34bf-e67258f35e30@duif.net>
References: <67e9cca8-9871-70f0-c890-1a94a31904c8@duif.net>
 <1506072568857-0.post@n6.nabble.com>
 <9c96d891-68b8-ee9c-34bf-e67258f35e30@duif.net>
Message-ID: <1506076780139-0.post@n6.nabble.com>

If the drop-down is to stay, (and I think there is an argument that it
should, as it's a lower barrier than delving into expressions), then
probably the only case options need to be:

- lower case
- upper case
- title case
- sentence case

However, I'm aware that I'm saying this as an English speaker, so do others
think anything else is appropriate?

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Fri Sep 22 08:13:36 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 22 Sep 2017 17:13:36 +0200
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
Message-ID: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>


Hi Devs,

I've been playing a little with the QgsLocatorWidget and friends (in
Python).

Hoping to be able to use this for a geocoder I have to reimplement.
And also hoping it could be used as a generic geocoder interface, see an
earlier QEP:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/64

I've not been able to get results yet, though I am able to create the
widget in a toolbar, and see that name and displayname of my Filter are
called....

So Question:
- is the QgsLocatorWidget re-usable, or is it a singleton
- is it a good idea to make it a reusable component for geocoder(s0?
- is it possible to make the results go down instead of up (as I think
these geocoders should be somewhere in the toolbars)

Any input appreciated,

Regards,

Richard Duivenvoorde

From sciurusurbanus at hotmail.it  Thu Sep 21 17:15:52 2017
From: sciurusurbanus at hotmail.it (=?Windows-1252?Q?Niccol=F2_Marchi?=)
Date: Fri, 22 Sep 2017 00:15:52 +0000
Subject: [QGIS-Developer] R:  refactor fields doesn't accept expressions
In-Reply-To: <d56d52d6b9fdac5c92f6d8179ba13444@carto.net>
References: <HE1PR1001MB09061864D47969949AA4D8E1A7610@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>,
 <d56d52d6b9fdac5c92f6d8179ba13444@carto.net>
Message-ID: <HE1PR1001MB090666CB86F00A037D4274D9A7670@HE1PR1001MB0906.EURPRD10.PROD.OUTLOOK.COM>

Hi Andreas,
unfortunately I never used it in this way (with formulae) before: all the previous times I was simply adding empty fields or deleting useless ones.

A further minor issue related to the alg: when selecting the field type, “double” and “data” are repeated twice.

An improvement could be also adding the NULL value by default when a field is created. Does it make sense?

Should these notes be added to your issue or separated into other tickets?

All the best,

Niccolò


Da: Andreas Neumann<mailto:a.neumann at carto.net>
Inviato: giovedì 21 settembre 2017 00:34
A: Niccolò Marchi<mailto:sciurusurbanus at hotmail.it>
Cc: qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>
Oggetto: Re: [QGIS-Developer] refactor fields doesn't accept expressions


Hi Niccolo,

I ran into the exact same problem yesterday. I opened an issue:

https://issues.qgis.org/issues/17170

Are you sure that this worked in earlier QGIS versions? It would help to know that.

Andreas

On 2017-09-21 00:58, Niccolò Marchi wrote:
Hi all,
I'm using 'refactor fields' in the modeler.

Once I've loaded the fields from a shp and then added some new ones, I'm not able to add a formula (e.g. 'to_int(substr("MM_GG", 1,2))' ) to the latter ones because it's recognised as wrong in the Expression dialog. Furthermore, the Expression dialog doesn't recognise any field in the label 'Fields and values' and simply shows 'NULL'.
BTW, if I write the formula directly in the box without using the expression dialog and then run the model, it works smoothly.
Are those intended behaviours?

i just updated from 2.18.11 to .13 .

all the best,

Niccolò

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170922/3ece50b5/attachment.html>

From noreply at qgis.org  Sun Sep 24 23:52:37 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 25 Sep 2017 06:52:37 -0000
Subject: [QGIS-Developer] Plugin [611] QgsWcsClient2 approval notification.
Message-ID: <20170925065237.19797.2180@320558c5528b>


Plugin QgsWcsClient2 approval by pcav.
The plugin version "[611] QgsWcsClient2 0.3.1" is now approved
Link: http://plugins.qgis.org/plugins/QgsWcsClient2/

From kimaidou at gmail.com  Mon Sep 25 00:10:54 2017
From: kimaidou at gmail.com (kimaidou)
Date: Mon, 25 Sep 2017 09:10:54 +0200
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS
	layers
Message-ID: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>

Hi all,

In the "Layer board" plugin, there is a button to save the default style
for each selected layers. To do so, I use the method

layer.saveDefaultStyle()

It seems this method does not work for Postgis layers. I tried manually in
the python console, and I confirm it does not achieve to create (or update)
the default style in the layer_styles table.

I also try to use the other methods, like
layer.saveNamedStyle(layer.styleURI())
with no more success.

Has anyone a clue about this issue ?

nb: I tested it only inside QGIS 2.18.13

Regards,
Michaël
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170925/3e97f694/attachment.html>

From jicrbuh1 at gmail.com  Mon Sep 25 01:29:08 2017
From: jicrbuh1 at gmail.com (Chen Barnoy)
Date: Mon, 25 Sep 2017 11:29:08 +0300
Subject: [QGIS-Developer] QGIS master crush upon running latest version on
	Win32
Message-ID: <CAKF-jtJs=iypE=uD732ybT=C8u5n79Nfx9_PzS9-WMgG2gekRw@mail.gmail.com>

Entry point not found:
itemToInfo at QwPlot@@UBE?AVQVariant@@PAVQwPlotItem@@@Z
of process in dll  qwt.dll

Best regards and thanks for the help,
Chen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170925/ec24a8ba/attachment.html>

From noreply at qgis.org  Mon Sep 25 02:43:58 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 25 Sep 2017 09:43:58 -0000
Subject: [QGIS-Developer] Plugin [1232] OSM Tools approval notification.
Message-ID: <20170925094358.21765.8099@320558c5528b>


Plugin OSM Tools approval by pcav.
The plugin version "[1232] OSM Tools 0.3.2" is now approved
Link: http://plugins.qgis.org/plugins/OSMtools/

From giovanni.manghi at gmail.com  Mon Sep 25 04:00:27 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Mon, 25 Sep 2017 12:00:27 +0100
Subject: [QGIS-Developer] [SAGA] Raster values to points
Message-ID: <CACfnYnSSnu2BR0Fx79EVpr_JggXzmLysS5cZQzPvVA7B+=v22g@mail.gmail.com>

> Hi all,
> updating from 2.18.11 to .13 the ‘Raster values to points’ disappeared to be substituted by  ‘Raster values to points (randomly)’. The same operation can be done with ‘v.what.rast.points’ but, even if well explained in some blogs, it turns to be pretty less user-friendly than the previous.
> Is there a particular reason to this change?

 ‘Raster values to points (randomly)’ should be new in saga ltr and we
still have a description file for ‘Raster values to points’ but the
tool does not show in the toolbox. I will try to see if I sport what
is wrong with that.

cheers!

-- G --

From tom.chadwin at nnpa.org.uk  Mon Sep 25 04:44:57 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 25 Sep 2017 04:44:57 -0700 (MST)
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS
 layers
In-Reply-To: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
References: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
Message-ID: <1506339897367-0.post@n6.nabble.com>

Perhaps you have to do it manually via a PostGIS query matching
f_table_catalog, f_table_schema, and f_table_name, and updating styleqml and
stylesld?

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Mon Sep 25 05:17:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 25 Sep 2017 12:17:01 -0000
Subject: [QGIS-Developer] Plugin [1232] OSM Tools approval notification.
Message-ID: <20170925121701.21765.79019@320558c5528b>


Plugin OSM Tools approval by pcav.
The plugin version "[1232] OSM Tools 0.3.3" is now approved
Link: http://plugins.qgis.org/plugins/OSMtools/

From luipir at gmail.com  Mon Sep 25 05:48:14 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Mon, 25 Sep 2017 14:48:14 +0200
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS
	layers
In-Reply-To: <1506339897367-0.post@n6.nabble.com>
References: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
 <1506339897367-0.post@n6.nabble.com>
Message-ID: <CAFO80_oA5uvzxnED20wZF+AYz3Q44+xJRXGm40RdQjyodkc0cQ@mail.gmail.com>

from the code:

mLayer->saveStyleToDatabase and mLayer->saveDefaultStyle

and in
QString QgsMapLayer::saveDefaultStyle( bool & theResultFlag )
{
  return saveNamedStyle( styleURI(), theResultFlag );
}

=> seems you are doing correct.

any log message?

******************************************


void QgsVectorLayerProperties::saveDefaultStyle_clicked()
{
  apply();
  QString errorMsg;
  if ( mLayer->dataProvider()->isSaveAndLoadStyleToDBSupported() )
  {
    QMessageBox askToUser;
    askToUser.setText( tr( "Save default style to: " ) );
    askToUser.setIcon( QMessageBox::Question );
    askToUser.addButton( tr( "Cancel" ), QMessageBox::RejectRole );
    askToUser.addButton( tr( "Local database" ), QMessageBox::NoRole );
    askToUser.addButton( tr( "Datasource database" ), QMessageBox::YesRole );

    switch ( askToUser.exec() )
    {
      case 0:
        return;
      case 2:
        mLayer->saveStyleToDatabase( "", "", true, "", errorMsg );
        if ( errorMsg.isNull() )
        {
          return;
        }
        break;
      default:
        break;
    }
  }

  bool defaultSavedFlag = false;
  errorMsg = mLayer->saveDefaultStyle( defaultSavedFlag );
  if ( !defaultSavedFlag )
  {
    QMessageBox::warning( this, tr( "Default Style" ), errorMsg );
  }
}
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 25 September 2017 at 13:44, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
> Perhaps you have to do it manually via a PostGIS query matching
> f_table_catalog, f_table_schema, and f_table_name, and updating styleqml and
> stylesld?
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From kimaidou at gmail.com  Mon Sep 25 06:23:08 2017
From: kimaidou at gmail.com (kimaidou)
Date: Mon, 25 Sep 2017 15:23:08 +0200
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS
	layers
In-Reply-To: <CAFO80_oA5uvzxnED20wZF+AYz3Q44+xJRXGm40RdQjyodkc0cQ@mail.gmail.com>
References: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
 <1506339897367-0.post@n6.nabble.com>
 <CAFO80_oA5uvzxnED20wZF+AYz3Q44+xJRXGm40RdQjyodkc0cQ@mail.gmail.com>
Message-ID: <CAMKXKO4m5FNtkm=Q7mCSA8COOgjijz1Pj3+HUJvLDq0Xo6ahiw@mail.gmail.com>

Hi,

@ Tom : I really would like to trust QGIS method instead of managing
manually different providers.

@ Luigi
No error message, even worse : i got a message telling everything went well
;)

layer.saveDefaultStyle()
(u'The style dbname=\'qgis\' host=localhost port=5432 user=\'mdouchin\'
sslmode=disable key=\'ogc_fid\' estimatedmetadata=true srid=2154
type=MultiPolygon table="sup"."geo_commune" (geom) sql= was updated in the
database.', True)

But the line is not created in the layer_styles table.

Michaël


2017-09-25 14:48 GMT+02:00 Luigi Pirelli <luipir at gmail.com>:

> from the code:
>
> mLayer->saveStyleToDatabase and mLayer->saveDefaultStyle
>
> and in
> QString QgsMapLayer::saveDefaultStyle( bool & theResultFlag )
> {
>   return saveNamedStyle( styleURI(), theResultFlag );
> }
>
> => seems you are doing correct.
>
> any log message?
>
> ******************************************
>
>
> void QgsVectorLayerProperties::saveDefaultStyle_clicked()
> {
>   apply();
>   QString errorMsg;
>   if ( mLayer->dataProvider()->isSaveAndLoadStyleToDBSupported() )
>   {
>     QMessageBox askToUser;
>     askToUser.setText( tr( "Save default style to: " ) );
>     askToUser.setIcon( QMessageBox::Question );
>     askToUser.addButton( tr( "Cancel" ), QMessageBox::RejectRole );
>     askToUser.addButton( tr( "Local database" ), QMessageBox::NoRole );
>     askToUser.addButton( tr( "Datasource database" ), QMessageBox::YesRole
> );
>
>     switch ( askToUser.exec() )
>     {
>       case 0:
>         return;
>       case 2:
>         mLayer->saveStyleToDatabase( "", "", true, "", errorMsg );
>         if ( errorMsg.isNull() )
>         {
>           return;
>         }
>         break;
>       default:
>         break;
>     }
>   }
>
>   bool defaultSavedFlag = false;
>   errorMsg = mLayer->saveDefaultStyle( defaultSavedFlag );
>   if ( !defaultSavedFlag )
>   {
>     QMessageBox::warning( this, tr( "Default Style" ), errorMsg );
>   }
> }
> Luigi Pirelli
>
> ************************************************************
> **************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-
> intelligence/mastering-qgis-second-edition
> ************************************************************
> **************************************
>
>
> On 25 September 2017 at 13:44, Tom Chadwin <tom.chadwin at nnpa.org.uk>
> wrote:
> > Perhaps you have to do it manually via a PostGIS query matching
> > f_table_catalog, f_table_schema, and f_table_name, and updating styleqml
> and
> > stylesld?
> >
> > Tom
> >
> >
> >
> > -----
> > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> > --
> > Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170925/87d28176/attachment-0001.html>

From tom.chadwin at nnpa.org.uk  Mon Sep 25 06:32:37 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 25 Sep 2017 06:32:37 -0700 (MST)
Subject: [QGIS-Developer] Standalone and OSGeo4W installers: icons and
	folder on desktop
Message-ID: <1506346357434-0.post@n6.nabble.com>

Hello all

A year ago, Martin Landa raised the issue of the icons and folder which
appear on the Windows desktop when installing QGIS
(https://lists.osgeo.org/pipermail/qgis-developer/2016-March/041810.html).
The issues were:

- installers should not add things to a user's desktop without permission
(at least, certainly no more than a single application icon, and ideally not
even that)

- it could be a bit intimidating for a new user to be confronted with eg
GRASS/SAGA icons and the oddly-named folder

I raised a ticket (https://issues.qgis.org/issues/14463), and Juergen made a
commit to change the folder location from the user's desktop to a temp
folder (https://trac.osgeo.org/osgeo4w/changeset/1296/trunk/setup).

However, I continue to use the OSGeo4W installer, and I still get the folder
on my desktop (its name is a URL-encoded form of
http://download.osgeo.org/osgeo4w). I delete it each time, and each time I
run Setup again, it is recreated.

Is this because the installer has saved some config for my setup? I can
check by trying to uninstall fully and start again, but I just thought I'd
check. Do both the standalone and OSGeo4W installers now leave the desktop
alone?

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jgr at di.uminho.pt  Mon Sep 25 06:50:40 2017
From: jgr at di.uminho.pt (Jorge Gustavo Pereira Bastos Rocha)
Date: Mon, 25 Sep 2017 13:50:40 +0000
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for
	PostGIS	layers
In-Reply-To: <CAMKXKO4m5FNtkm=Q7mCSA8COOgjijz1Pj3+HUJvLDq0Xo6ahiw@mail.gmail.com>
References: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
 <1506339897367-0.post@n6.nabble.com>
 <CAFO80_oA5uvzxnED20wZF+AYz3Q44+xJRXGm40RdQjyodkc0cQ@mail.gmail.com>,
 <CAMKXKO4m5FNtkm=Q7mCSA8COOgjijz1Pj3+HUJvLDq0Xo6ahiw@mail.gmail.com>
Message-ID: <B3874F330966F240B6BE9E50B80742FB9E1E595D@SRV-EXCH-DAG-01.uminho.pt>

Hi,

It already happened to me. The first user to save a style became the owner of the table. No other users were able to write on the layer_style table, because there were DEFAULT PRIVILEGES defined. 

Can you check the postgrsql log to see if there is any problem related with permissions?

Regards,

Jorge Gustavo

________________________________________
De: QGIS-Developer [qgis-developer-bounces at lists.osgeo.org] em nome de kimaidou [kimaidou at gmail.com]
Enviado: 25 de Setembro de 2017 14:23
Para: Luigi Pirelli
Cc: qgis-developer at lists.osgeo.org
Assunto: Re: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS     layers

Hi,

@ Tom : I really would like to trust QGIS method instead of managing manually different providers.

@ Luigi
No error message, even worse : i got a message telling everything went well ;)

layer.saveDefaultStyle()
(u'The style dbname=\'qgis\' host=localhost port=5432 user=\'mdouchin\' sslmode=disable key=\'ogc_fid\' estimatedmetadata=true srid=2154 type=MultiPolygon table="sup"."geo_commune" (geom) sql= was updated in the database.', True)

But the line is not created in the layer_styles table.

Michaël


2017-09-25 14:48 GMT+02:00 Luigi Pirelli <luipir at gmail.com<mailto:luipir at gmail.com>>:
from the code:

mLayer->saveStyleToDatabase and mLayer->saveDefaultStyle

and in
QString QgsMapLayer::saveDefaultStyle( bool & theResultFlag )
{
  return saveNamedStyle( styleURI(), theResultFlag );
}

=> seems you are doing correct.

any log message?

******************************************


void QgsVectorLayerProperties::saveDefaultStyle_clicked()
{
  apply();
  QString errorMsg;
  if ( mLayer->dataProvider()->isSaveAndLoadStyleToDBSupported() )
  {
    QMessageBox askToUser;
    askToUser.setText( tr( "Save default style to: " ) );
    askToUser.setIcon( QMessageBox::Question );
    askToUser.addButton( tr( "Cancel" ), QMessageBox::RejectRole );
    askToUser.addButton( tr( "Local database" ), QMessageBox::NoRole );
    askToUser.addButton( tr( "Datasource database" ), QMessageBox::YesRole );

    switch ( askToUser.exec() )
    {
      case 0:
        return;
      case 2:
        mLayer->saveStyleToDatabase( "", "", true, "", errorMsg );
        if ( errorMsg.isNull() )
        {
          return;
        }
        break;
      default:
        break;
    }
  }

  bool defaultSavedFlag = false;
  errorMsg = mLayer->saveDefaultStyle( defaultSavedFlag );
  if ( !defaultSavedFlag )
  {
    QMessageBox::warning( this, tr( "Default Style" ), errorMsg );
  }
}
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 25 September 2017 at 13:44, Tom Chadwin <tom.chadwin at nnpa.org.uk<mailto:tom.chadwin at nnpa.org.uk>> wrote:
> Perhaps you have to do it manually via a PostGIS query matching
> f_table_catalog, f_table_schema, and f_table_name, and updating styleqml and
> stylesld?
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From kimaidou at gmail.com  Mon Sep 25 07:21:58 2017
From: kimaidou at gmail.com (kimaidou)
Date: Mon, 25 Sep 2017 16:21:58 +0200
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS
	layers
In-Reply-To: <B3874F330966F240B6BE9E50B80742FB9E1E595D@SRV-EXCH-DAG-01.uminho.pt>
References: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
 <1506339897367-0.post@n6.nabble.com>
 <CAFO80_oA5uvzxnED20wZF+AYz3Q44+xJRXGm40RdQjyodkc0cQ@mail.gmail.com>
 <CAMKXKO4m5FNtkm=Q7mCSA8COOgjijz1Pj3+HUJvLDq0Xo6ahiw@mail.gmail.com>
 <B3874F330966F240B6BE9E50B80742FB9E1E595D@SRV-EXCH-DAG-01.uminho.pt>
Message-ID: <CAMKXKO471NdtqhJSYfRmbSpC_aSw5Ptqdp5b5vEK=ZoK6yayWg@mail.gmail.com>

I have tried another method

* first add default style into DB via UI -> it works

* the use console to create a new, not default, style
msg = ''
layer.saveStyleToDatabase( "a new style", "some description", False, None,
msg );

It does not work (not new line created, and msg remains empty. No log in
the database, which means NO query has been sent (I have change postgresql
config to log all requests).

But the following method works
layer.listStylesInDatabase()

And a new line appears in the postgresql log
2017-09-25 16:19:18.248 CEST [8984] mdouchin at qgis LOG:  00000: duration:
0.217 ms  statement: SELECT id,styleName,description FROM layer_styles
WHERE NOT (f_table_catalog='qgis' AND f_table_schema='sup' AND
f_table_name='geo_commune' AND f_geometry_column='geom') ORDER BY
update_time DESC

It seems the method saveStyleToDatabase returns with no error, which can be
caused by 2 reasons
https://qgis.org/api/2.18/qgsvectorlayer_8cpp_source.html#l04347

 4369   this->exportNamedStyle( qmlDocument, msgError );
 4370   if ( !msgError.isNull() )
 4371   {
 4372     return;
 4373   }
 4374   qmlStyle = qmlDocument.toString();
 4375
 4376   this->exportSldStyle( sldDocument, msgError );
 4377   if ( !msgError.isNull() )
 4378   {
 4379     return;
 4380   }

/me investigates

2017-09-25 15:50 GMT+02:00 Jorge Gustavo Pereira Bastos Rocha <
jgr at di.uminho.pt>:

> Hi,
>
> It already happened to me. The first user to save a style became the owner
> of the table. No other users were able to write on the layer_style table,
> because there were DEFAULT PRIVILEGES defined.
>
> Can you check the postgrsql log to see if there is any problem related
> with permissions?
>
> Regards,
>
> Jorge Gustavo
>
> ________________________________________
> De: QGIS-Developer [qgis-developer-bounces at lists.osgeo.org] em nome de
> kimaidou [kimaidou at gmail.com]
> Enviado: 25 de Setembro de 2017 14:23
> Para: Luigi Pirelli
> Cc: qgis-developer at lists.osgeo.org
> Assunto: Re: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for
> PostGIS     layers
>
> Hi,
>
> @ Tom : I really would like to trust QGIS method instead of managing
> manually different providers.
>
> @ Luigi
> No error message, even worse : i got a message telling everything went
> well ;)
>
> layer.saveDefaultStyle()
> (u'The style dbname=\'qgis\' host=localhost port=5432 user=\'mdouchin\'
> sslmode=disable key=\'ogc_fid\' estimatedmetadata=true srid=2154
> type=MultiPolygon table="sup"."geo_commune" (geom) sql= was updated in the
> database.', True)
>
> But the line is not created in the layer_styles table.
>
> Michaël
>
>
> 2017-09-25 14:48 GMT+02:00 Luigi Pirelli <luipir at gmail.com<mailto:luipi
> r at gmail.com>>:
> from the code:
>
> mLayer->saveStyleToDatabase and mLayer->saveDefaultStyle
>
> and in
> QString QgsMapLayer::saveDefaultStyle( bool & theResultFlag )
> {
>   return saveNamedStyle( styleURI(), theResultFlag );
> }
>
> => seems you are doing correct.
>
> any log message?
>
> ******************************************
>
>
> void QgsVectorLayerProperties::saveDefaultStyle_clicked()
> {
>   apply();
>   QString errorMsg;
>   if ( mLayer->dataProvider()->isSaveAndLoadStyleToDBSupported() )
>   {
>     QMessageBox askToUser;
>     askToUser.setText( tr( "Save default style to: " ) );
>     askToUser.setIcon( QMessageBox::Question );
>     askToUser.addButton( tr( "Cancel" ), QMessageBox::RejectRole );
>     askToUser.addButton( tr( "Local database" ), QMessageBox::NoRole );
>     askToUser.addButton( tr( "Datasource database" ), QMessageBox::YesRole
> );
>
>     switch ( askToUser.exec() )
>     {
>       case 0:
>         return;
>       case 2:
>         mLayer->saveStyleToDatabase( "", "", true, "", errorMsg );
>         if ( errorMsg.isNull() )
>         {
>           return;
>         }
>         break;
>       default:
>         break;
>     }
>   }
>
>   bool defaultSavedFlag = false;
>   errorMsg = mLayer->saveDefaultStyle( defaultSavedFlag );
>   if ( !defaultSavedFlag )
>   {
>     QMessageBox::warning( this, tr( "Default Style" ), errorMsg );
>   }
> }
> Luigi Pirelli
>
> ************************************************************
> **************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-
> intelligence/mastering-qgis-second-edition
> ************************************************************
> **************************************
>
>
> On 25 September 2017 at 13:44, Tom Chadwin <tom.chadwin at nnpa.org.uk<
> mailto:tom.chadwin at nnpa.org.uk>> wrote:
> > Perhaps you have to do it manually via a PostGIS query matching
> > f_table_catalog, f_table_schema, and f_table_name, and updating styleqml
> and
> > stylesld?
> >
> > Tom
> >
> >
> >
> > -----
> > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> > --
> > Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170925/3331a27e/attachment.html>

From anvit2a at gmail.com  Mon Sep 25 09:10:50 2017
From: anvit2a at gmail.com (Anders Vittrup)
Date: Mon, 25 Sep 2017 18:10:50 +0200
Subject: [QGIS-Developer] pyqgis - openfeatureform highlight?
Message-ID: <CAGLzSgsq9wA0u9C1dFVL-LDes-ZupEfMs3hMJxa71ymXpT801A@mail.gmail.com>

Hi,

I'm making a small plugin for a custom editorwidget and I'm using
QgisInterface openFeatureForm from within my widget to open other feature
forms on diffrent layers.

I just cannot seem to figure out how to make the feature being highlighted
on the map (red highlighing when using the identify feature tool).
I already have a tool that will "flash" a feature for like half a second
(Using QgsRubberBand) but that is not what i want for the new feature form.
How do i get the same effect when the feature form is opened (with pyqgis)
so it will also highlight the feature on the map. Eg. if i have two feature
form's open an active one the feature is highlighted (exactly like identify
feature). (when the feature form is closed or inactive the highlight should
disappear)

Best regards
Anders
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170925/771e4d3f/attachment-0001.html>

From noreply at qgis.org  Mon Sep 25 09:29:07 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 25 Sep 2017 16:29:07 -0000
Subject: [QGIS-Developer] Plugin [1333] WNT Open Source approval
	notification.
Message-ID: <20170925162907.19797.42704@320558c5528b>


Plugin WNT Open Source approval by pcav.
The plugin version "[1333] WNT Open Source 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/wntOS/

From giovanni.manghi at gmail.com  Mon Sep 25 13:22:45 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Mon, 25 Sep 2017 21:22:45 +0100
Subject: [QGIS-Developer] [SAGA] Raster values to points
In-Reply-To: <22450b8a-f0d3-c184-1af1-201bd5ea71c1@gwdg.de>
References: <CACfnYnSSnu2BR0Fx79EVpr_JggXzmLysS5cZQzPvVA7B+=v22g@mail.gmail.com>
 <22450b8a-f0d3-c184-1af1-201bd5ea71c1@gwdg.de>
Message-ID: <CACfnYnQ3mq3MZUnnhgoRFyaqfkzyJ6qYKq28DG_XaVs+dxvS=A@mail.gmail.com>

> Just as an additional info.
> In newer versions of SAGA GIS, e.g. 5.0.0, there are both tools, see No.
> 3 and 4:

there are both also on saga ltr that we support. I already submitted a
fix (thanks to Victor for the tip).

cheers!

-- G --

From rhurlin at gwdg.de  Mon Sep 25 13:21:11 2017
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Mon, 25 Sep 2017 22:21:11 +0200
Subject: [QGIS-Developer] [SAGA] Raster values to points
In-Reply-To: <CACfnYnSSnu2BR0Fx79EVpr_JggXzmLysS5cZQzPvVA7B+=v22g@mail.gmail.com>
References: <CACfnYnSSnu2BR0Fx79EVpr_JggXzmLysS5cZQzPvVA7B+=v22g@mail.gmail.com>
Message-ID: <22450b8a-f0d3-c184-1af1-201bd5ea71c1@gwdg.de>

Am 25.09.2017 um 13:00 schrieb Giovanni Manghi:
>> Hi all,
>> updating from 2.18.11 to .13 the ‘Raster values to points’ disappeared to be substituted by  ‘Raster values to points (randomly)’. The same operation can be done with ‘v.what.rast.points’ but, even if well explained in some blogs, it turns to be pretty less user-friendly than the previous.
>> Is there a particular reason to this change?
> 
>  ‘Raster values to points (randomly)’ should be new in saga ltr and we
> still have a description file for ‘Raster values to points’ but the
> tool does not show in the toolbox. I will try to see if I sport what
> is wrong with that.
> 
> cheers!
> 
> -- G --


Just as an additional info.
In newer versions of SAGA GIS, e.g. 5.0.0, there are both tools, see No.
3 and 4:


#saga_cmd shapes_grid
____________________________

   #####   ##   #####    ##
  ###     ###  ##       ###
   ###   # ## ##  #### # ##
    ### ##### ##    # #####
 ##### #   ##  ##### #   ##
____________________________

SAGA Version: 5.0.0

Library:	Grid Tools
Category:	Shapes
File:	/usr/local/lib/saga/libshapes_grid.so

Tools:
 0	Add Grid Values to Points
 1	Add Grid Values to Shapes
 2	Grid Statistics for Polygons
 3	Grid Values to Points
 4	Grid Values to Points (randomly)
 5	Contour Lines from Grid
 6	Vectorising Grid Classes
 7	Clip Grid with Polygon
 8	Grid Statistics for Points
 9	Local Minima and Maxima
 10	Grid System Extent
 11	Clip Grid with Rectangle
 15	Gradient Vectors from Surface
 16	Gradient Vectors from Direction and Length
 17	Gradient Vectors from Directional Components
 18	Grid Classes Area for Polygons

From nyall.dawson at gmail.com  Mon Sep 25 19:31:34 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 26 Sep 2017 12:31:34 +1000
Subject: [QGIS-Developer] QGIS Grant: Expand unit test coverage for geometry
	classes
Message-ID: <CAB28AsgYAcTeh1qQaT8staF8-mPkR9p=7KkO=gcfZYh36rM=+Q@mail.gmail.com>

Hi PSC,

Just reporting in that with PR #5254 [1], the grant work has now been
completed and we're sitting as close as possible to 100% unit test
coverage for the geometry primitive classes (i.e. the classes which
represent the raw geometry types, such as points/multipoints/circular
strings/ etc).

While the purpose of this work wasn't directly to fix bugs, writing
the tests has allowed me to identify and fix dozens of issues in these
geometry classes. The fixes range from pedantic (e.g. crashes when
requesting parts of the geometry with invalid indexes such as negative
numbers), through to severe (a geometry corruption caused after
converting a MultiLineString to GML which would definitely cause QGIS
server to crash on certain requests).

Just to ensure that there's no misconceptions here: having 100% test
coverage doesn't mean the geometry classes are now bug free - rather
it means that the current logic is protected so that future features,
fixes, or optimisations will not cause regressions from the current
behaviour.

I'd like the thank the PSC once again for accepting this funding
request (and the sponsors who made it possible!). In my opinion this
was a crucial piece of work required to help make future QGIS releases
much less likely to suffer serious regressions, so I'm very thankful
that you allowed it to happen!

Regards,
Nyall


[1] https://github.com/qgis/QGIS/pull/5254

From tim at kartoza.com  Mon Sep 25 21:39:29 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 26 Sep 2017 11:39:29 +0700
Subject: [QGIS-Developer] [Qgis-psc] QGIS Grant: Expand unit test
 coverage for geometry classes
In-Reply-To: <CAB28AsgYAcTeh1qQaT8staF8-mPkR9p=7KkO=gcfZYh36rM=+Q@mail.gmail.com>
References: <CAB28AsgYAcTeh1qQaT8staF8-mPkR9p=7KkO=gcfZYh36rM=+Q@mail.gmail.com>
Message-ID: <99199424-F52D-4191-B037-B7E833CF8287@qgis.org>

Hi Nyall


Thank you so much for doing this work and for your report back! I hope this is just one of many times that we will be able to fund our community members to make substantial improvements to the quality of QGIS!

Regards

Tim

> On 26 Sep 2017, at 9:31 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> Hi PSC,
> 
> Just reporting in that with PR #5254 [1], the grant work has now been
> completed and we're sitting as close as possible to 100% unit test
> coverage for the geometry primitive classes (i.e. the classes which
> represent the raw geometry types, such as points/multipoints/circular
> strings/ etc).
> 
> While the purpose of this work wasn't directly to fix bugs, writing
> the tests has allowed me to identify and fix dozens of issues in these
> geometry classes. The fixes range from pedantic (e.g. crashes when
> requesting parts of the geometry with invalid indexes such as negative
> numbers), through to severe (a geometry corruption caused after
> converting a MultiLineString to GML which would definitely cause QGIS
> server to crash on certain requests).
> 
> Just to ensure that there's no misconceptions here: having 100% test
> coverage doesn't mean the geometry classes are now bug free - rather
> it means that the current logic is protected so that future features,
> fixes, or optimisations will not cause regressions from the current
> behaviour.
> 
> I'd like the thank the PSC once again for accepting this funding
> request (and the sponsors who made it possible!). In my opinion this
> was a crucial piece of work required to help make future QGIS releases
> much less likely to suffer serious regressions, so I'm very thankful
> that you allowed it to happen!
> 
> Regards,
> Nyall
> 
> 
> [1] https://github.com/qgis/QGIS/pull/5254
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc


From nyall.dawson at gmail.com  Mon Sep 25 21:43:21 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 26 Sep 2017 14:43:21 +1000
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
Message-ID: <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>

On 23 September 2017 at 01:13, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
> Hi Devs,
>
> I've been playing a little with the QgsLocatorWidget and friends (in
> Python).
>
> Hoping to be able to use this for a geocoder I have to reimplement.
> And also hoping it could be used as a generic geocoder interface, see an
> earlier QEP:
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/64
>
> I've not been able to get results yet, though I am able to create the
> widget in a toolbar, and see that name and displayname of my Filter are
> called....

How are you adding your filter to the widget? If you're using the
iface methods, then that's were your problem lies... read on...

> - is the QgsLocatorWidget re-usable, or is it a singleton

Reusable. Each QgsLocatorWidget has it's own internal QgsLocator,
which does all the heavy lifting and manages the filter providers.
Qgis app has a single locator widget (the one located in the status
bar), which is where filters get registered to when calling the
iface.registerLocatorFilter() method. So it's 'kind of' a singleton in
this aspect, but there's absolutely nothing stopping plugins from
having their own QgsLocatorWidgets with their own set of registered
filters.

> - is it a good idea to make it a reusable component for geocoder(s0?

*maybe*. Is there any reason NOT to use the existing, all powerful,
integrated with everything locator widget? The intention with the
creation of the locator was specifically to avoid the need for
multiple different search widgets reimplemented by each plugin and
cluttering up the interface.  I personally can't see any reason not to
include geolocator results here too.

> - is it possible to make the results go down instead of up (as I think
> these geocoders should be somewhere in the toolbars)

Not in the current API - it's hardcoded at
https://github.com/qgis/QGIS/blob/master/src/gui/locator/qgslocatorwidget.cpp#L64
. But this could be exposed to the public API for the widget if
there's a strong use case.

Nyall

From enricofer at gmail.com  Mon Sep 25 23:33:42 2017
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Tue, 26 Sep 2017 08:33:42 +0200
Subject: [QGIS-Developer] [Qgis-psc] QGIS Grant: Expand unit test
 coverage for geometry classes
In-Reply-To: <99199424-F52D-4191-B037-B7E833CF8287@qgis.org>
References: <CAB28AsgYAcTeh1qQaT8staF8-mPkR9p=7KkO=gcfZYh36rM=+Q@mail.gmail.com>
 <99199424-F52D-4191-B037-B7E833CF8287@qgis.org>
Message-ID: <CAJy=Xtd_uot2AxYsMz6m42gAb1QVqi+xnqXVYsiUKF6prN4CXQ@mail.gmail.com>

Beyond the report on an accomplished task, I see the joy and the passion on
making something good. I can't explain how much your efforts on taking care
of QGIS make my everyday work better.

Thank you very much.

Il 26/set/2017 06:40, "Tim Sutton" <tim at kartoza.com> ha scritto:

> Hi Nyall
>
>
> Thank you so much for doing this work and for your report back! I hope
> this is just one of many times that we will be able to fund our community
> members to make substantial improvements to the quality of QGIS!
>
> Regards
>
> Tim
>
> > On 26 Sep 2017, at 9:31 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >
> > Hi PSC,
> >
> > Just reporting in that with PR #5254 [1], the grant work has now been
> > completed and we're sitting as close as possible to 100% unit test
> > coverage for the geometry primitive classes (i.e. the classes which
> > represent the raw geometry types, such as points/multipoints/circular
> > strings/ etc).
> >
> > While the purpose of this work wasn't directly to fix bugs, writing
> > the tests has allowed me to identify and fix dozens of issues in these
> > geometry classes. The fixes range from pedantic (e.g. crashes when
> > requesting parts of the geometry with invalid indexes such as negative
> > numbers), through to severe (a geometry corruption caused after
> > converting a MultiLineString to GML which would definitely cause QGIS
> > server to crash on certain requests).
> >
> > Just to ensure that there's no misconceptions here: having 100% test
> > coverage doesn't mean the geometry classes are now bug free - rather
> > it means that the current logic is protected so that future features,
> > fixes, or optimisations will not cause regressions from the current
> > behaviour.
> >
> > I'd like the thank the PSC once again for accepting this funding
> > request (and the sponsors who made it possible!). In my opinion this
> > was a crucial piece of work required to help make future QGIS releases
> > much less likely to suffer serious regressions, so I'm very thankful
> > that you allowed it to happen!
> >
> > Regards,
> > Nyall
> >
> >
> > [1] https://github.com/qgis/QGIS/pull/5254
> > _______________________________________________
> > Qgis-psc mailing list
> > Qgis-psc at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170926/31efdd2f/attachment-0001.html>

From jef at norbit.de  Mon Sep 25 23:56:12 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 26 Sep 2017 08:56:12 +0200
Subject: [QGIS-Developer] Standalone and OSGeo4W installers: icons and
 folder on desktop
In-Reply-To: <1506346357434-0.post@n6.nabble.com>
References: <1506346357434-0.post@n6.nabble.com>
Message-ID: <20170926065612.tizwx6hn5p4l7jig@norbit.de>

Hi Tom,

On Mon, 25. Sep 2017 at 06:32:37 -0700, Tom Chadwin wrote:
> - installers should not add things to a user's desktop without permission
> (at least, certainly no more than a single application icon, and ideally not
> even that)

In now creates a OSGeo4W folder and points postinstall batch files to it via
OSGEO4W_DESKTOP - but not all OSGeo4W packages respect that (eg. QGIS does &
SAGA do, GRASS doesn't).  There also OSGEO4W_DESKTOP_LINKS that tells
postinstall batches whether or not they should create desktop links at all.
 
> However, I continue to use the OSGeo4W installer, and I still get the folder
> on my desktop (its name is a URL-encoded form of
> http://download.osgeo.org/osgeo4w). I delete it each time, and each time I
> run Setup again, it is recreated.
> 
> Is this because the installer has saved some config for my setup? I can
> check by trying to uninstall fully and start again, but I just thought I'd
> check. Do both the standalone and OSGeo4W installers now leave the desktop
> alone?

Check last-cache in %OSGEO4W_ROOT%/etc/setup/setup.rc


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170926/7326e269/attachment.sig>

From rdmailings at duif.net  Tue Sep 26 00:03:55 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 26 Sep 2017 09:03:55 +0200
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
 <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
Message-ID: <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>

On 26-09-17 06:43, Nyall Dawson wrote:
>> - is it a good idea to make it a reusable component for geocoder(s0?
> *maybe*. Is there any reason NOT to use the existing, all powerful,
> integrated with everything locator widget? The intention with the
> creation of the locator was specifically to avoid the need for
> multiple different search widgets reimplemented by each plugin and
> cluttering up the interface.  I personally can't see any reason not to
> include geolocator results here too.
> 
>> - is it possible to make the results go down instead of up (as I think
>> these geocoders should be somewhere in the toolbars)
> Not in the current API - it's hardcoded at
> https://github.com/qgis/QGIS/blob/master/src/gui/locator/qgslocatorwidget.cpp#L64
> . But this could be exposed to the public API for the widget if
> there's a strong use case.

Hi Nyall,

Thanks for your answer (and the QgsLocator :-) ). I have the widget
working in a PluginToolbar after my posting.

I agree with your point that multiple search-like widgets would clutter
the interface, but I think a generic geocoder search widget could be a
good candidate for for a second search widget
Again plz see: https://github.com/qgis/QGIS-Enhancement-Proposals/issues/64

Some arguments:
- historically I would look for it somewhere in the toolbar :-)
- I hope/think that we will end up with a long list of geocoder
implementations (as plugins I already see a LOT of different national
versions...)
- the results of geocoders (like full address lines) can be pretty long.
So I think a (dockable) widget (like a toolbar) would be most usefull
for this
- I think geocoders can be a little different beast as other locators,
having different properties/functions too
- one result list(!) of a geocoding search could be enough to navigate
around (like searching for a street often results in different
addresses/houses, so you can find individual houses by clicking on the
individual addresses for some time).

Not sure what others think though.

But I could start with using current Locator Widget (thinking about
using the Nominatim as an example).
Some features I would be happy with then:
- make the search a dockable widget (so free to use it in whatever toolbar)
- make the number of results a setting (now a hardcoded 30)

Regards,

Richard




From noreply at qgis.org  Tue Sep 26 00:47:18 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Sep 2017 07:47:18 -0000
Subject: [QGIS-Developer] Plugin [1330] Land Degradation Monitoring Toolbox
 approval notification.
Message-ID: <20170926074718.21326.15831@320558c5528b>


Plugin Land Degradation Monitoring Toolbox approval by pcav.
The plugin version "[1330] Land Degradation Monitoring Toolbox 0.4" is now approved
Link: http://plugins.qgis.org/plugins/LDMP/

From tom.chadwin at nnpa.org.uk  Tue Sep 26 01:39:21 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 26 Sep 2017 01:39:21 -0700 (MST)
Subject: [QGIS-Developer] Standalone and OSGeo4W installers: icons and
	folder on desktop
In-Reply-To: <20170926065612.tizwx6hn5p4l7jig@norbit.de>
References: <1506346357434-0.post@n6.nabble.com>
 <20170926065612.tizwx6hn5p4l7jig@norbit.de>
Message-ID: <1506415161015-0.post@n6.nabble.com>

Jürgen E. Fischer wrote
>> However, I continue to use the OSGeo4W installer, and I still get the
>> folder
>> on my desktop (its name is a URL-encoded form of
>> http://download.osgeo.org/osgeo4w). I delete it each time, and each time
>> I
>> run Setup again, it is recreated.
>> 
>> Is this because the installer has saved some config for my setup?
> 
> Check last-cache in %OSGEO4W_ROOT%/etc/setup/setup.rc

Ah, that was it. No http... folder any more. Thanks so much. I do still get
a folder OSGeo4W on the desktop, containing a shortcut to the OSGeo4W shell,
though.

Noted re: GRASS. One extra icon is nothing like the problem we had before.
If I or others feel strongly enough, we can raise it with the GRASS devs.

Thanks for all the work. I'm really pleased that this, along with Nathan's
installer work (and much work by others) is lowering the barrier for Windows
users.

Thanks again

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Tue Sep 26 02:51:57 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Sep 2017 09:51:57 -0000
Subject: [QGIS-Developer] Plugin [970] TUFLOW approval notification.
Message-ID: <20170926095157.21765.33387@320558c5528b>


Plugin TUFLOW approval by pcav.
The plugin version "[970] TUFLOW 1.3.2" is now approved
Link: http://plugins.qgis.org/plugins/tuflow/

From luipir at gmail.com  Tue Sep 26 03:06:45 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 26 Sep 2017 12:06:45 +0200
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS
	layers
In-Reply-To: <CAMKXKO471NdtqhJSYfRmbSpC_aSw5Ptqdp5b5vEK=ZoK6yayWg@mail.gmail.com>
References: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
 <1506339897367-0.post@n6.nabble.com>
 <CAFO80_oA5uvzxnED20wZF+AYz3Q44+xJRXGm40RdQjyodkc0cQ@mail.gmail.com>
 <CAMKXKO4m5FNtkm=Q7mCSA8COOgjijz1Pj3+HUJvLDq0Xo6ahiw@mail.gmail.com>
 <B3874F330966F240B6BE9E50B80742FB9E1E595D@SRV-EXCH-DAG-01.uminho.pt>
 <CAMKXKO471NdtqhJSYfRmbSpC_aSw5Ptqdp5b5vEK=ZoK6yayWg@mail.gmail.com>
Message-ID: <CAFO80_qDoqQf6SDvunD0SH39kgkfUt1_D=OpYtWqZB7HPU6oRg@mail.gmail.com>

there is a SIP specification error
https://github.com/qgis/QGIS/blob/release-2_18/python/core/qgsvectorlayer.sip#L492
should be  QString &msgError /out/ );

that's the reason that error is not returned in the python side => I
suppose SIP would change C++ api in:
msg = saveStyleToDatabase( name, description, useAsDefault, uiFileContent)
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 25 September 2017 at 16:21, kimaidou <kimaidou at gmail.com> wrote:
> I have tried another method
>
> * first add default style into DB via UI -> it works
>
> * the use console to create a new, not default, style
> msg = ''
> layer.saveStyleToDatabase( "a new style", "some description", False, None,
> msg );
>
> It does not work (not new line created, and msg remains empty. No log in the
> database, which means NO query has been sent (I have change postgresql
> config to log all requests).
>
> But the following method works
> layer.listStylesInDatabase()
>
> And a new line appears in the postgresql log
> 2017-09-25 16:19:18.248 CEST [8984] mdouchin at qgis LOG:  00000: duration:
> 0.217 ms  statement: SELECT id,styleName,description FROM layer_styles WHERE
> NOT (f_table_catalog='qgis' AND f_table_schema='sup' AND
> f_table_name='geo_commune' AND f_geometry_column='geom') ORDER BY
> update_time DESC
>
> It seems the method saveStyleToDatabase returns with no error, which can be
> caused by 2 reasons
> https://qgis.org/api/2.18/qgsvectorlayer_8cpp_source.html#l04347
>
>  4369   this->exportNamedStyle( qmlDocument, msgError );
>  4370   if ( !msgError.isNull() )
>  4371   {
>  4372     return;
>  4373   }
>  4374   qmlStyle = qmlDocument.toString();
>  4375
>  4376   this->exportSldStyle( sldDocument, msgError );
>  4377   if ( !msgError.isNull() )
>  4378   {
>  4379     return;
>  4380   }
>
> /me investigates
>
> 2017-09-25 15:50 GMT+02:00 Jorge Gustavo Pereira Bastos Rocha
> <jgr at di.uminho.pt>:
>>
>> Hi,
>>
>> It already happened to me. The first user to save a style became the owner
>> of the table. No other users were able to write on the layer_style table,
>> because there were DEFAULT PRIVILEGES defined.
>>
>> Can you check the postgrsql log to see if there is any problem related
>> with permissions?
>>
>> Regards,
>>
>> Jorge Gustavo
>>
>> ________________________________________
>> De: QGIS-Developer [qgis-developer-bounces at lists.osgeo.org] em nome de
>> kimaidou [kimaidou at gmail.com]
>> Enviado: 25 de Setembro de 2017 14:23
>> Para: Luigi Pirelli
>> Cc: qgis-developer at lists.osgeo.org
>> Assunto: Re: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for
>> PostGIS     layers
>>
>> Hi,
>>
>> @ Tom : I really would like to trust QGIS method instead of managing
>> manually different providers.
>>
>> @ Luigi
>> No error message, even worse : i got a message telling everything went
>> well ;)
>>
>> layer.saveDefaultStyle()
>> (u'The style dbname=\'qgis\' host=localhost port=5432 user=\'mdouchin\'
>> sslmode=disable key=\'ogc_fid\' estimatedmetadata=true srid=2154
>> type=MultiPolygon table="sup"."geo_commune" (geom) sql= was updated in the
>> database.', True)
>>
>> But the line is not created in the layer_styles table.
>>
>> Michaël
>>
>>
>> 2017-09-25 14:48 GMT+02:00 Luigi Pirelli
>> <luipir at gmail.com<mailto:luipir at gmail.com>>:
>> from the code:
>>
>> mLayer->saveStyleToDatabase and mLayer->saveDefaultStyle
>>
>> and in
>> QString QgsMapLayer::saveDefaultStyle( bool & theResultFlag )
>> {
>>   return saveNamedStyle( styleURI(), theResultFlag );
>> }
>>
>> => seems you are doing correct.
>>
>> any log message?
>>
>> ******************************************
>>
>>
>> void QgsVectorLayerProperties::saveDefaultStyle_clicked()
>> {
>>   apply();
>>   QString errorMsg;
>>   if ( mLayer->dataProvider()->isSaveAndLoadStyleToDBSupported() )
>>   {
>>     QMessageBox askToUser;
>>     askToUser.setText( tr( "Save default style to: " ) );
>>     askToUser.setIcon( QMessageBox::Question );
>>     askToUser.addButton( tr( "Cancel" ), QMessageBox::RejectRole );
>>     askToUser.addButton( tr( "Local database" ), QMessageBox::NoRole );
>>     askToUser.addButton( tr( "Datasource database" ), QMessageBox::YesRole
>> );
>>
>>     switch ( askToUser.exec() )
>>     {
>>       case 0:
>>         return;
>>       case 2:
>>         mLayer->saveStyleToDatabase( "", "", true, "", errorMsg );
>>         if ( errorMsg.isNull() )
>>         {
>>           return;
>>         }
>>         break;
>>       default:
>>         break;
>>     }
>>   }
>>
>>   bool defaultSavedFlag = false;
>>   errorMsg = mLayer->saveDefaultStyle( defaultSavedFlag );
>>   if ( !defaultSavedFlag )
>>   {
>>     QMessageBox::warning( this, tr( "Default Style" ), errorMsg );
>>   }
>> }
>> Luigi Pirelli
>>
>>
>> **************************************************************************************************
>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * GitHub: https://github.com/luipir
>> * Mastering QGIS 2nd Edition:
>> *
>> https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>>
>> **************************************************************************************************
>>
>>
>> On 25 September 2017 at 13:44, Tom Chadwin
>> <tom.chadwin at nnpa.org.uk<mailto:tom.chadwin at nnpa.org.uk>> wrote:
>> > Perhaps you have to do it manually via a PostGIS query matching
>> > f_table_catalog, f_table_schema, and f_table_name, and updating styleqml
>> > and
>> > stylesld?
>> >
>> > Tom
>> >
>> >
>> >
>> > -----
>> > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> > --
>> > Sent from:
>> > http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>

From a.neumann at carto.net  Tue Sep 26 04:38:47 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 26 Sep 2017 13:38:47 +0200
Subject: [QGIS-Developer] [Qgis-psc] QGIS Grant: Expand unit test
 coverage for geometry classes
In-Reply-To: <CAB28AsgYAcTeh1qQaT8staF8-mPkR9p=7KkO=gcfZYh36rM=+Q@mail.gmail.com>
References: <CAB28AsgYAcTeh1qQaT8staF8-mPkR9p=7KkO=gcfZYh36rM=+Q@mail.gmail.com>
Message-ID: <80dee82e048c76d33d9fd2fba9fc271b@carto.net>

Hi Nyall, 

This is much appreciated. Thanks so much for your continuous work and
effort to increase the quality of QGIS! 

Andreas 

On 2017-09-26 04:31, Nyall Dawson wrote:

> Hi PSC,
> 
> Just reporting in that with PR #5254 [1 [1]], the grant work has now been
> completed and we're sitting as close as possible to 100% unit test
> coverage for the geometry primitive classes (i.e. the classes which
> represent the raw geometry types, such as points/multipoints/circular
> strings/ etc).
> 
> While the purpose of this work wasn't directly to fix bugs, writing
> the tests has allowed me to identify and fix dozens of issues in these
> geometry classes. The fixes range from pedantic (e.g. crashes when
> requesting parts of the geometry with invalid indexes such as negative
> numbers), through to severe (a geometry corruption caused after
> converting a MultiLineString to GML which would definitely cause QGIS
> server to crash on certain requests).
> 
> Just to ensure that there's no misconceptions here: having 100% test
> coverage doesn't mean the geometry classes are now bug free - rather
> it means that the current logic is protected so that future features,
> fixes, or optimisations will not cause regressions from the current
> behaviour.
> 
> I'd like the thank the PSC once again for accepting this funding
> request (and the sponsors who made it possible!). In my opinion this
> was a crucial piece of work required to help make future QGIS releases
> much less likely to suffer serious regressions, so I'm very thankful
> that you allowed it to happen!
> 
> Regards,
> Nyall
> 
> [1] https://github.com/qgis/QGIS/pull/5254
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc

 

Links:
------
[1] https://github.com/qgis/QGIS/pull/5254
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170926/9a6a38be/attachment-0001.html>

From matthias at opengis.ch  Tue Sep 26 06:07:54 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 26 Sep 2017 15:07:54 +0200
Subject: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for PostGIS
 layers
In-Reply-To: <CAFO80_qDoqQf6SDvunD0SH39kgkfUt1_D=OpYtWqZB7HPU6oRg@mail.gmail.com>
References: <CAMKXKO5H4XKZa=q8=+Co+dh6aGL7y5Rn-PP5QHjUo-6-RjgDTQ@mail.gmail.com>
 <1506339897367-0.post@n6.nabble.com>
 <CAFO80_oA5uvzxnED20wZF+AYz3Q44+xJRXGm40RdQjyodkc0cQ@mail.gmail.com>
 <CAMKXKO4m5FNtkm=Q7mCSA8COOgjijz1Pj3+HUJvLDq0Xo6ahiw@mail.gmail.com>
 <B3874F330966F240B6BE9E50B80742FB9E1E595D@SRV-EXCH-DAG-01.uminho.pt>
 <CAMKXKO471NdtqhJSYfRmbSpC_aSw5Ptqdp5b5vEK=ZoK6yayWg@mail.gmail.com>
 <CAFO80_qDoqQf6SDvunD0SH39kgkfUt1_D=OpYtWqZB7HPU6oRg@mail.gmail.com>
Message-ID: <d3de0005-ff2f-0aca-0852-91e81ef0d877@opengis.ch>

For 2.18 it should be ok to make it /InOut/ (there was no return value
before, so it shouldn't break anything).
For 3.0 this can be made /Out/ as proposed.

Matthias

On 09/26/2017 12:06 PM, Luigi Pirelli wrote:
> there is a SIP specification error
> https://github.com/qgis/QGIS/blob/release-2_18/python/core/qgsvectorlayer.sip#L492
> should be  QString &msgError /out/ );
> 
> that's the reason that error is not returned in the python side => I
> suppose SIP would change C++ api in:
> msg = saveStyleToDatabase( name, description, useAsDefault, uiFileContent)
> Luigi Pirelli
> 
> **************************************************************************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> **************************************************************************************************
> 
> 
> On 25 September 2017 at 16:21, kimaidou <kimaidou at gmail.com> wrote:
>> I have tried another method
>>
>> * first add default style into DB via UI -> it works
>>
>> * the use console to create a new, not default, style
>> msg = ''
>> layer.saveStyleToDatabase( "a new style", "some description", False, None,
>> msg );
>>
>> It does not work (not new line created, and msg remains empty. No log in the
>> database, which means NO query has been sent (I have change postgresql
>> config to log all requests).
>>
>> But the following method works
>> layer.listStylesInDatabase()
>>
>> And a new line appears in the postgresql log
>> 2017-09-25 16:19:18.248 CEST [8984] mdouchin at qgis LOG:  00000: duration:
>> 0.217 ms  statement: SELECT id,styleName,description FROM layer_styles WHERE
>> NOT (f_table_catalog='qgis' AND f_table_schema='sup' AND
>> f_table_name='geo_commune' AND f_geometry_column='geom') ORDER BY
>> update_time DESC
>>
>> It seems the method saveStyleToDatabase returns with no error, which can be
>> caused by 2 reasons
>> https://qgis.org/api/2.18/qgsvectorlayer_8cpp_source.html#l04347
>>
>>  4369   this->exportNamedStyle( qmlDocument, msgError );
>>  4370   if ( !msgError.isNull() )
>>  4371   {
>>  4372     return;
>>  4373   }
>>  4374   qmlStyle = qmlDocument.toString();
>>  4375
>>  4376   this->exportSldStyle( sldDocument, msgError );
>>  4377   if ( !msgError.isNull() )
>>  4378   {
>>  4379     return;
>>  4380   }
>>
>> /me investigates
>>
>> 2017-09-25 15:50 GMT+02:00 Jorge Gustavo Pereira Bastos Rocha
>> <jgr at di.uminho.pt>:
>>>
>>> Hi,
>>>
>>> It already happened to me. The first user to save a style became the owner
>>> of the table. No other users were able to write on the layer_style table,
>>> because there were DEFAULT PRIVILEGES defined.
>>>
>>> Can you check the postgrsql log to see if there is any problem related
>>> with permissions?
>>>
>>> Regards,
>>>
>>> Jorge Gustavo
>>>
>>> ________________________________________
>>> De: QGIS-Developer [qgis-developer-bounces at lists.osgeo.org] em nome de
>>> kimaidou [kimaidou at gmail.com]
>>> Enviado: 25 de Setembro de 2017 14:23
>>> Para: Luigi Pirelli
>>> Cc: qgis-developer at lists.osgeo.org
>>> Assunto: Re: [QGIS-Developer] pyqgis - layer.saveDefaultStyle() for
>>> PostGIS     layers
>>>
>>> Hi,
>>>
>>> @ Tom : I really would like to trust QGIS method instead of managing
>>> manually different providers.
>>>
>>> @ Luigi
>>> No error message, even worse : i got a message telling everything went
>>> well ;)
>>>
>>> layer.saveDefaultStyle()
>>> (u'The style dbname=\'qgis\' host=localhost port=5432 user=\'mdouchin\'
>>> sslmode=disable key=\'ogc_fid\' estimatedmetadata=true srid=2154
>>> type=MultiPolygon table="sup"."geo_commune" (geom) sql= was updated in the
>>> database.', True)
>>>
>>> But the line is not created in the layer_styles table.
>>>
>>> Michaël
>>>
>>>
>>> 2017-09-25 14:48 GMT+02:00 Luigi Pirelli
>>> <luipir at gmail.com<mailto:luipir at gmail.com>>:
>>> from the code:
>>>
>>> mLayer->saveStyleToDatabase and mLayer->saveDefaultStyle
>>>
>>> and in
>>> QString QgsMapLayer::saveDefaultStyle( bool & theResultFlag )
>>> {
>>>   return saveNamedStyle( styleURI(), theResultFlag );
>>> }
>>>
>>> => seems you are doing correct.
>>>
>>> any log message?
>>>
>>> ******************************************
>>>
>>>
>>> void QgsVectorLayerProperties::saveDefaultStyle_clicked()
>>> {
>>>   apply();
>>>   QString errorMsg;
>>>   if ( mLayer->dataProvider()->isSaveAndLoadStyleToDBSupported() )
>>>   {
>>>     QMessageBox askToUser;
>>>     askToUser.setText( tr( "Save default style to: " ) );
>>>     askToUser.setIcon( QMessageBox::Question );
>>>     askToUser.addButton( tr( "Cancel" ), QMessageBox::RejectRole );
>>>     askToUser.addButton( tr( "Local database" ), QMessageBox::NoRole );
>>>     askToUser.addButton( tr( "Datasource database" ), QMessageBox::YesRole
>>> );
>>>
>>>     switch ( askToUser.exec() )
>>>     {
>>>       case 0:
>>>         return;
>>>       case 2:
>>>         mLayer->saveStyleToDatabase( "", "", true, "", errorMsg );
>>>         if ( errorMsg.isNull() )
>>>         {
>>>           return;
>>>         }
>>>         break;
>>>       default:
>>>         break;
>>>     }
>>>   }
>>>
>>>   bool defaultSavedFlag = false;
>>>   errorMsg = mLayer->saveDefaultStyle( defaultSavedFlag );
>>>   if ( !defaultSavedFlag )
>>>   {
>>>     QMessageBox::warning( this, tr( "Default Style" ), errorMsg );
>>>   }
>>> }
>>> Luigi Pirelli
>>>
>>>
>>> **************************************************************************************************
>>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>>> * GitHub: https://github.com/luipir
>>> * Mastering QGIS 2nd Edition:
>>> *
>>> https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>>>
>>> **************************************************************************************************
>>>
>>>
>>> On 25 September 2017 at 13:44, Tom Chadwin
>>> <tom.chadwin at nnpa.org.uk<mailto:tom.chadwin at nnpa.org.uk>> wrote:
>>>> Perhaps you have to do it manually via a PostGIS query matching
>>>> f_table_catalog, f_table_schema, and f_table_name, and updating styleqml
>>>> and
>>>> stylesld?
>>>>
>>>> Tom
>>>>
>>>>
>>>>
>>>> -----
>>>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>>>> --
>>>> Sent from:
>>>> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From wonder.sk at gmail.com  Tue Sep 26 13:16:17 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue, 26 Sep 2017 22:16:17 +0200
Subject: [QGIS-Developer] QEP for QGIS 3D
Message-ID: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>

Hi all

I have just submitted a QEP that describes QGIS 3D implementation I
have been working on:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/105

Your input is very appreciated. Maybe there are some areas I have not
covered in enough detail...

You may have seen that I have already opened a pull request for
inclusion of 3D work:
https://github.com/qgis/QGIS/pull/5203

If there are no objections, I would like to finally merge the work to
master in the following days...

Regards
Martin

From lbartoletti at tuxfamily.org  Tue Sep 26 14:08:08 2017
From: lbartoletti at tuxfamily.org (L.Bartoletti)
Date: Tue, 26 Sep 2017 23:08:08 +0200
Subject: [QGIS-Developer] API break: snapSegment
Message-ID: <26a8143b-45da-3a0b-316c-73ff3ee2c654@tuxfamily.org>

Hi,

For a few days now QgsMapMouseEvent:: snapSegment is no longer usable 
(moved). I need these tools to create circles with tangents 
(https://github.com/qgis/QGIS/pull/4947).

Is there another way to get segments by snapping?

Greetings.

Loïc

From tom.chadwin at nnpa.org.uk  Tue Sep 26 15:42:05 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 26 Sep 2017 15:42:05 -0700 (MST)
Subject: [QGIS-Developer] QEP for QGIS 3D
In-Reply-To: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
References: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
Message-ID: <1506465725159-0.post@n6.nabble.com>

Probably a daft question, but will the 2.5D renderer remain? 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Tue Sep 26 18:57:15 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 27 Sep 2017 01:57:15 -0000
Subject: [QGIS-Developer] Plugin [1193] Shape Tools approval notification.
Message-ID: <20170927015715.10638.73748@320558c5528b>


Plugin Shape Tools approval by pcav.
The plugin version "[1193] Shape Tools 0.6" is now approved
Link: http://plugins.qgis.org/plugins/shapetools/

From tim at kartoza.com  Tue Sep 26 19:02:05 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 27 Sep 2017 09:02:05 +0700
Subject: [QGIS-Developer] QEP for QGIS 3D
In-Reply-To: <1506465725159-0.post@n6.nabble.com>
References: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
 <1506465725159-0.post@n6.nabble.com>
Message-ID: <59C31451-959D-407F-872B-C0C05C0C9F6E@kartoza.com>

Hi

> On 27 Sep 2017, at 5:42 AM, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
> 
> Probably a daft question, but will the 2.5D renderer remain? 

Yes I believe it will remain.

Regards

Tim


> 
> Tom
> 
> 
> 
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From tim at kartoza.com  Tue Sep 26 19:11:37 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 27 Sep 2017 09:11:37 +0700
Subject: [QGIS-Developer] QEP for QGIS 3D
In-Reply-To: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
References: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
Message-ID: <171F5D18-B5ED-49B5-9133-7472C772752F@kartoza.com>

Hi

> On 27 Sep 2017, at 3:16 AM, Martin Dobias <wonder.sk at gmail.com> wrote:
> 
> Hi all
> 
> I have just submitted a QEP that describes QGIS 3D implementation I
> have been working on:
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/105
> 
> Your input is very appreciated. Maybe there are some areas I have not
> covered in enough detail...
> 
> You may have seen that I have already opened a pull request for
> inclusion of 3D work:
> https://github.com/qgis/QGIS/pull/5203

+1 from me to see it merged for QGIS 3! 

I think it would be good to include in the QEP a list of things it **doesn’t** do yet to manage expectations. Showing it to other people here are some FAQ things that might be good to answer:

* can it replace the main canvas view when enabled?
* can it fetch DEM tiles like globe does?
* can it work with CityGML and similar 3D formats?
* can you print it in composer?
* can you put the 3D view into full screen?
* can we control it like the new multi canvas windows (follow main windows extents etc)?
* can we animate stuff?
* can we use custom textures for different faces?
* can we make triangular / pyramid roofs?
* can we drive the extrusion parameters from data in the vector attribute table?
* can we use a library of common symbols (tree, house etc)?
* will it replace globe?

You have probably been peppered by hundreds of other similar questions by overly enthusiastic 3D groupies so managing expectations that this is a first pass implementation would be good to manage expectations by including these in the changelogs and the docs.

Thanks so much for this great work Martin!

Regards

Tim




> 
> If there are no objections, I would like to finally merge the work to
> master in the following days...
> 
> Regards
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From noreply at qgis.org  Wed Sep 27 08:54:40 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 27 Sep 2017 15:54:40 -0000
Subject: [QGIS-Developer] Plugin [1274] Deactivate/Active Labels approval
	notification.
Message-ID: <20170927155440.329.2984@320558c5528b>


Plugin Deactivate/Active Labels approval by pcav.
The plugin version "[1274] Deactivate/Active Labels 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/DeactivateActiveLabels/

From luipir at gmail.com  Wed Sep 27 09:03:30 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 27 Sep 2017 18:03:30 +0200
Subject: [QGIS-Developer] Might snap change a 2D layer to 3D? discussion
 how to fix https://issues.qgis.org/issues/16927
In-Reply-To: <CAFO80_rAB-uAFDeQ8rbHkm0Y2e0C4PD3kzYFGmV1wcZhpNRHdQ@mail.gmail.com>
References: <CAFO80_qm-3b0W=Gs1Op9Y3ThZ+vKwbTsuJGwYXDhf0MqJWFoXw@mail.gmail.com>
 <6c00ffde-2cb7-80c6-f327-9fd38e7b1638@opengis.ch>
 <CAFO80_pATB1q27kW9hQszNVDceHYJPbYGYxc=B1YQqQyO1JLYQ@mail.gmail.com>
 <CAFO80_rAB-uAFDeQ8rbHkm0Y2e0C4PD3kzYFGmV1wcZhpNRHdQ@mail.gmail.com>
Message-ID: <CAFO80_r+u7q_b29BMtLYRb_DUGSpF3ai+nFA1kjj0dp-z5FVng@mail.gmail.com>

Hi,

https://github.com/qgis/QGIS/pull/5223 has been merged in 2.18 HEAD
tnx to Mathias for review and Larry for merge. This will fix
[1][2][3].
Now it's time for a more extensive test. Givanni Manghi did already
extensive tests, but some side effects can escape!
The reason is that part of modified code is not covered by unit tests.
Btw, regarding the new controls I added, they are covered by unit
tests.

The main side effect can derive by the fact that any addFeature or
changeGeometry (during an editing session) were not checked for
successful termination. Now this check has been added and can modify
the consolidated workflow rising error during editing.

but why this new errors?
Now, depending on provider type, a geometry compatibility check is
done during editing process (e.g. using EditBuffer). If the new or
modified geometry is not compatible or it can't be adapted, then an
error is raised and notified in messageBar/log.
The good news is that, any compatibility error should be raised during
editing as it was in 2.14 LTR (this is a regression fix)

any regression or anomaly please file a new issue as usual.

Luigi Pirelli

[1] https://issues.qgis.org/issues/16927
[2] https://issues.qgis.org/issues/16948
[3] https://issues.qgis.org/issues/15741

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 20 September 2017 at 16:49, Luigi Pirelli <luipir at gmail.com> wrote:
> The following PR should approach the above described issues:
>
> https://github.com/qgis/QGIS/pull/5223
>
> please give a try.
>
> respect the request to add a config option to force or not conversion
> I implemented the following rule:
> 1) as proposed by mathias... if there is only a conversion, do it!
> 2) if not conversion is possibile => raise error as soon as possibile
> during editing => it's up to the use to adapt the receiving layer to
> be compatible.
>
> regards
>
> Luigi Pirelli
>
> **************************************************************************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> **************************************************************************************************
>
>
> On 8 September 2017 at 17:05, Luigi Pirelli <luipir at gmail.com> wrote:
>> On 8 September 2017 at 16:51, Matthias Kuhn <matthias at opengis.ch> wrote:
>>> I would try to avoid introducing the same logic in all tools like
>>> snapping, pasting, GPS digitizing, processing, ...
>>
>> I strongly agree
>>
>> Luigi Pirelli
>>
>> **************************************************************************************************
>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * GitHub: https://github.com/luipir
>> * Mastering QGIS 2nd Edition:
>> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>> **************************************************************************************************

From a.neumann at carto.net  Wed Sep 27 09:36:56 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 27 Sep 2017 18:36:56 +0200
Subject: [QGIS-Developer] Two "close" buttons in expression editor
Message-ID: <4be6ac42-74f5-0493-1979-4506255eefed@carto.net>

Hi,

If I open the expression editor with the "Select by expression" button, 
I get two "close" buttons in the expression editor dialogue. One fails 
to work.

See issue report at https://issues.qgis.org/issues/17207

Can someone confirm?

Thanks,

Andreas


From tech_dev at wildintellect.com  Wed Sep 27 11:15:09 2017
From: tech_dev at wildintellect.com (Alex M)
Date: Wed, 27 Sep 2017 11:15:09 -0700
Subject: [QGIS-Developer] [Ubuntu] [Qgis-user] GRASS support lost
	(again) on Ubuntu/Mint
In-Reply-To: <b3f101db-0c70-2464-ea35-b465e52e1ceb@xs4all.nl>
References: <48762dba-8a85-2a34-a217-dd1c8d0f89b5@gmail.com>
 <623ae249-3dd0-bb45-889d-18dedc002605@wildintellect.com>
 <oqgm9e$l8a$1@blaine.gmane.org>
 <4cb26522-09f2-5398-050a-796e4d796d5b@wildintellect.com>
 <b3f101db-0c70-2464-ea35-b465e52e1ceb@xs4all.nl>
Message-ID: <214a6ca0-7504-42c3-d764-2314df921959@wildintellect.com>

On 09/27/2017 10:53 AM, Sebastiaan Couwenberg wrote:
> On 09/27/2017 07:21 PM, Alex M wrote:
>> Ah that makes sense, if qgis.org builds against ubuntugis, then GRASS
>> updates will always cause this, since a rebuild of qgis.org is not
>> triggered.
>>
>> Seems like some logistics could be worked out.
> 
> The qgis packages needs to depend on the virtual ABI package again so
> that the dependency will be unsatisfied when grass is updated and qgis
> hasn't been rebuilt yet.
> 
> I've pushed a change for the package in Debian for the above. The QGIS
> developers will need to do the same for their packaging.
> 
> Kind Regards,
> 
> Bas
> 

Bas,

Forwarding to the QGIS team in case they have questions. Do you have a
changeset that shows what you did?

Thanks,
Alex

From sebastic at xs4all.nl  Wed Sep 27 11:34:48 2017
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Wed, 27 Sep 2017 20:34:48 +0200
Subject: [QGIS-Developer] [Ubuntu] [Qgis-user] GRASS support lost
	(again) on Ubuntu/Mint
In-Reply-To: <214a6ca0-7504-42c3-d764-2314df921959@wildintellect.com>
References: <48762dba-8a85-2a34-a217-dd1c8d0f89b5@gmail.com>
 <623ae249-3dd0-bb45-889d-18dedc002605@wildintellect.com>
 <oqgm9e$l8a$1@blaine.gmane.org>
 <4cb26522-09f2-5398-050a-796e4d796d5b@wildintellect.com>
 <b3f101db-0c70-2464-ea35-b465e52e1ceb@xs4all.nl>
 <214a6ca0-7504-42c3-d764-2314df921959@wildintellect.com>
Message-ID: <e0efbee1-1047-74f0-de2e-bad5a99fbebc@xs4all.nl>

On 09/27/2017 08:15 PM, Alex M wrote:
> On 09/27/2017 10:53 AM, Sebastiaan Couwenberg wrote:
>> On 09/27/2017 07:21 PM, Alex M wrote:
>>> Ah that makes sense, if qgis.org builds against ubuntugis, then GRASS
>>> updates will always cause this, since a rebuild of qgis.org is not
>>> triggered.
>>>
>>> Seems like some logistics could be worked out.
>>
>> The qgis packages needs to depend on the virtual ABI package again so
>> that the dependency will be unsatisfied when grass is updated and qgis
>> hasn't been rebuilt yet.
>>
>> I've pushed a change for the package in Debian for the above. The QGIS
>> developers will need to do the same for their packaging.
> 
> Forwarding to the QGIS team in case they have questions. Do you have a
> changeset that shows what you did?

https://anonscm.debian.org/cgit/pkg-grass/qgis.git/commit/?id=e2ef4e54949e6f61e82f027ad264c578e04a7193

But qgis should determine the ABI package name like libgdal-grass:

 https://anonscm.debian.org/cgit/pkg-grass/gdal-grass.git/tree/debian/rules#n17

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

From noreply at qgis.org  Wed Sep 27 13:47:32 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 27 Sep 2017 20:47:32 -0000
Subject: [QGIS-Developer] Plugin [761] Clip Multiple Layers approval
	notification.
Message-ID: <20170927204732.329.71469@320558c5528b>


Plugin Clip Multiple Layers approval by pcav.
The plugin version "[761] Clip Multiple Layers 0.1.7" is now approved
Link: http://plugins.qgis.org/plugins/ClipMultipleLayers/

From noreply at qgis.org  Wed Sep 27 22:09:56 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 28 Sep 2017 05:09:56 -0000
Subject: [QGIS-Developer] Plugin [1335] Otoklim approval notification.
Message-ID: <20170928050956.329.86818@320558c5528b>


Plugin Otoklim approval by pcav.
The plugin version "[1335] Otoklim 0.1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Otoklim/

From noreply at qgis.org  Thu Sep 28 01:58:31 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 28 Sep 2017 08:58:31 -0000
Subject: [QGIS-Developer] Plugin [1163] Plugin Load Times approval
	notification.
Message-ID: <20170928085831.22228.91336@320558c5528b>


Plugin Plugin Load Times approval by pcav.
The plugin version "[1163] Plugin Load Times 2.0.1" is now approved
Link: http://plugins.qgis.org/plugins/PluginLoadTimes/

From wonder.sk at gmail.com  Thu Sep 28 02:27:11 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 28 Sep 2017 11:27:11 +0200
Subject: [QGIS-Developer] QEP for QGIS 3D
In-Reply-To: <1506465725159-0.post@n6.nabble.com>
References: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
 <1506465725159-0.post@n6.nabble.com>
Message-ID: <CAC2XbFf6X4BxWWaPHXSZvF9+jSCwnA_wQqxUH+7uc7cq+j_yuA@mail.gmail.com>

Hi Tom

On Wed, Sep 27, 2017 at 12:42 AM, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
> Probably a daft question, but will the 2.5D renderer remain?

Yes, 2.5D renderer will stay - it does good work for 2D rendering.

Cheers
Martin

From wonder.sk at gmail.com  Thu Sep 28 02:29:49 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 28 Sep 2017 11:29:49 +0200
Subject: [QGIS-Developer] QEP for QGIS 3D
In-Reply-To: <171F5D18-B5ED-49B5-9133-7472C772752F@kartoza.com>
References: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
 <171F5D18-B5ED-49B5-9133-7472C772752F@kartoza.com>
Message-ID: <CAC2XbFeDD2CxXYr7TjYyZwuWL3Jy93T_h1VpngfeCNAWFZbsfA@mail.gmail.com>

Hi Tim

On Wed, Sep 27, 2017 at 4:11 AM, Tim Sutton <tim at kartoza.com> wrote:
>
> I think it would be good to include in the QEP a list of things it **doesn’t** do yet to manage expectations. Showing it to other people here are some FAQ things that might be good to answer:
>
> * can it replace the main canvas view when enabled?
> * can it fetch DEM tiles like globe does?
> * can it work with CityGML and similar 3D formats?
> * can you print it in composer?
> * can you put the 3D view into full screen?
> * can we control it like the new multi canvas windows (follow main windows extents etc)?
> * can we animate stuff?
> * can we use custom textures for different faces?
> * can we make triangular / pyramid roofs?
> * can we drive the extrusion parameters from data in the vector attribute table?
> * can we use a library of common symbols (tree, house etc)?
> * will it replace globe?
>
> You have probably been peppered by hundreds of other similar questions by overly enthusiastic 3D groupies so managing expectations that this is a first pass implementation would be good to manage expectations by including these in the changelogs and the docs.

Thanks for the list of questions - I will include them with answers in the QEP.

Cheers
Martin

From tom.chadwin at nnpa.org.uk  Thu Sep 28 02:30:21 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 28 Sep 2017 02:30:21 -0700 (MST)
Subject: [QGIS-Developer] QEP for QGIS 3D
In-Reply-To: <CAC2XbFf6X4BxWWaPHXSZvF9+jSCwnA_wQqxUH+7uc7cq+j_yuA@mail.gmail.com>
References: <CAC2XbFcVrnrcaCjzJ6O0WYQug7cCszXp-dQfTeS1O4PQW9iPqw@mail.gmail.com>
 <1506465725159-0.post@n6.nabble.com>
 <CAC2XbFf6X4BxWWaPHXSZvF9+jSCwnA_wQqxUH+7uc7cq+j_yuA@mail.gmail.com>
Message-ID: <1506591021498-0.post@n6.nabble.com>

Thanks Martin (and Tim). Can't wait for all this to land...

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From enricofer at gmail.com  Thu Sep 28 07:54:56 2017
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Thu, 28 Sep 2017 16:54:56 +0200
Subject: [QGIS-Developer] can't load plugins with QGIS custom widgets in
	windows
Message-ID: <CAJy=XtcFF-gEwoMYvm6Ugqqub512BGA3AceLdNufBjzcXqEdbg@mail.gmail.com>

I'm getting the following exception:

AttributeError: unknown enum QgsMapLayerProxyModel::RasterLayer
>

loading a plugin with QGIS custom QT designer widget in windows standalone
QGIS 2.14 ltr and 2.18.

The exception doesn't affect linux and osgeo4win installations.

I found that this was a 2015 reported issue:
https://issues.qgis.org/issues/13428
and I solve it as suggested in
https://lists.osgeo.org/pipermail/qgis-developer/2015-September/039196.html
simply copying a file in the right place.

The fix is apparently easy and considering that Qt custom widgets are
widely used I can't figure why this old issue isn't yet solved.

Is it a qgis or an osgeo4win issue? Should I reopen a ticket?

Thanks. Enrico Ferreguti.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170928/439a9acd/attachment.html>

From stephanebek at gmail.com  Thu Sep 28 08:55:14 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Thu, 28 Sep 2017 21:55:14 +0600
Subject: [QGIS-Developer] Problem with "no Data value" with rasters when
 using the Layer Styling panel?
In-Reply-To: <CAK6pVBXFwBVJnWUmimrxw=_tTv4A53ce9MAH-ONQZWQESymQiQ@mail.gmail.com>
References: <CAK6pVBVcB0jEQN4rzMT8VUgWuAQA_DP4ZK1McCLanD_K8gz6Ew@mail.gmail.com>
 <CAK6pVBXC34jrv9XVH6xFdkOdCyc1AvXfKML4QM=K76svtojsmg@mail.gmail.com>
 <CAK6pVBUX7AE2xfQg=AZFg7oW-s5pF61Z9jht4xiA_gN-NX+5sA@mail.gmail.com>
 <CAK6pVBXFwBVJnWUmimrxw=_tTv4A53ce9MAH-ONQZWQESymQiQ@mail.gmail.com>
Message-ID: <CAK6pVBVLa_WahbqC1oukPoM-6qp0fYitDx7hEH6yY+09F-Ji+w@mail.gmail.com>

Hi all

just trying one last time to get attention on this bug :-)

The bug is still present on the last 2.99

As usual, I apologize for complaining while not being able to take care of
it myself...

Easiest way to understand what is currently wrong is this screencast:
https://vimeo.com/219467091

With my little understanding, I would assume that the correction of this
bug is not a "big thing"? But maybe I am overlooking something

Thanks!

Stéphane


Le mercredi 21 juin 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :

> Hi all
>
> Apparently, this has been confirmed as a bug. Is anyone willing / able to
> take care of it?
>
> Thanks a lot and cheers
>
> Stéphane (who really feels sorry to raise such questions, while not being
> able himself to actively contribute to the resolution of such bugs)
>
>
> Le jeudi 1 juin 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> a écrit :
>
>> Hi again
>>
>> in doubt, I have opened a ticket here: https://issues.qgis.org/
>> issues/16649
>>
>> Cheers
>> Stéphane
>>
>>
>> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
>>
>>> PS: screencast to better explain the issue: https://vimeo.com/219467091
>>>
>>> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
>>>
>>>> Hi
>>>>
>>>> I am testing the layer styling panel (shortcut F7) with the latest
>>>> Nightly build on the Ubuntu repositories.
>>>>
>>>> By default, the NoData value is -9999. If I add "10" as additional
>>>> NoData value, nothing happens.
>>>>
>>>> If I do the same in the layer properties, then the expected behavior
>>>> happens: all pixels with value "10" are not rendered.
>>>>
>>>> So it seems that the manually added NoData values in the Layer Styling
>>>> Panel are not considered.
>>>>
>>>> Can someone else replicate this problem? Should I open a ticket?
>>>>
>>>> Cheers
>>>> Stéphane
>>>>
>>>>
>>>> --
>>>>
>>>> “When you travel, remember that a foreign country is not designed to
>>>> make you comfortable. It is designed to make its own people comfortable."
>>>> -- Clifton Fadiman
>>>>
>>>>
>>>
>>> --
>>>
>>> “When you travel, remember that a foreign country is not designed to
>>> make you comfortable. It is designed to make its own people comfortable."
>>> -- Clifton Fadiman
>>>
>>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>

-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170928/3e45c089/attachment-0001.html>

From lbartoletti at tuxfamily.org  Thu Sep 28 13:12:28 2017
From: lbartoletti at tuxfamily.org (L.Bartoletti)
Date: Thu, 28 Sep 2017 22:12:28 +0200
Subject: [QGIS-Developer] can't load plugins with QGIS custom widgets in
 windows
In-Reply-To: <CAJy=XtcFF-gEwoMYvm6Ugqqub512BGA3AceLdNufBjzcXqEdbg@mail.gmail.com>
References: <CAJy=XtcFF-gEwoMYvm6Ugqqub512BGA3AceLdNufBjzcXqEdbg@mail.gmail.com>
Message-ID: <bff76fba-d239-82f6-0fae-36a4b13950f9@tuxfamily.org>

Hi,

I have found the same problem on FreeBSD if custom widgets are not 
installed.

My solution at least on FreeBSD and Windows (osgeo4w) use your .ui (it's 
only a XML), search this:

   <customwidget>
    <class>YOUR CUSTOM WIDGET</class>
    <extends>YOUR CUSTOM WIDGET</extends>
    <header>YOUR CUSTOM WIDGET.h</header>
   </customwidget>

and change the line containing a C++ header:

<header>YOUR CUSTOM WIDGET.h</header>

by :

<header>qgis.gui</header>


Regards.

Loïc


On 28.09.2017 16:54, Enrico Ferreguti wrote:
> I'm getting the following exception:
>
>     AttributeError: unknown enum QgsMapLayerProxyModel::RasterLayer
>
>
> loading a plugin with QGIS custom QT designer widget in windows 
> standalone QGIS 2.14 ltr and 2.18.
>
> The exception doesn't affect linux and osgeo4win installations.
>
> I found that this was a 2015 reported issue: 
> https://issues.qgis.org/issues/13428
> and I solve it as suggested in 
> https://lists.osgeo.org/pipermail/qgis-developer/2015-September/039196.html 
> simply copying a file in the right place.
>
> The fix is apparently easy and considering that Qt custom widgets are 
> widely used I can't figure why this old issue isn't yet solved.
>
> Is it a qgis or an osgeo4win issue? Should I reopen a ticket?
>
> Thanks. Enrico Ferreguti.
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170928/94da35c5/attachment.html>

From james at shaeffer.co  Thu Sep 28 14:43:55 2017
From: james at shaeffer.co (James Shaeffer)
Date: Thu, 28 Sep 2017 14:43:55 -0700
Subject: [QGIS-Developer] Problem with "no Data value" with rasters when
 using the Layer Styling panel?
In-Reply-To: <CAK6pVBVLa_WahbqC1oukPoM-6qp0fYitDx7hEH6yY+09F-Ji+w@mail.gmail.com>
References: <CAK6pVBVcB0jEQN4rzMT8VUgWuAQA_DP4ZK1McCLanD_K8gz6Ew@mail.gmail.com>
 <CAK6pVBXC34jrv9XVH6xFdkOdCyc1AvXfKML4QM=K76svtojsmg@mail.gmail.com>
 <CAK6pVBUX7AE2xfQg=AZFg7oW-s5pF61Z9jht4xiA_gN-NX+5sA@mail.gmail.com>
 <CAK6pVBXFwBVJnWUmimrxw=_tTv4A53ce9MAH-ONQZWQESymQiQ@mail.gmail.com>
 <CAK6pVBVLa_WahbqC1oukPoM-6qp0fYitDx7hEH6yY+09F-Ji+w@mail.gmail.com>
Message-ID: <20170928214355.GA2772@Amalthea>

I'll stab at fixing this.

James Shaeffer

On Thu, Sep 28, 2017 at 09:55:14PM +0600, Stéphane Henriod wrote:
> Hi all
> 
> just trying one last time to get attention on this bug :-)
> 
> The bug is still present on the last 2.99
> 
> As usual, I apologize for complaining while not being able to take care of
> it myself...
> 
> Easiest way to understand what is currently wrong is this screencast:
> https://vimeo.com/219467091
> 
> With my little understanding, I would assume that the correction of this
> bug is not a "big thing"? But maybe I am overlooking something
> 
> Thanks!
> 
> Stéphane
> 
> 
> Le mercredi 21 juin 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
> 
> > Hi all
> >
> > Apparently, this has been confirmed as a bug. Is anyone willing / able to
> > take care of it?
> >
> > Thanks a lot and cheers
> >
> > Stéphane (who really feels sorry to raise such questions, while not being
> > able himself to actively contribute to the resolution of such bugs)
> >
> >
> > Le jeudi 1 juin 2017, Stéphane Henriod <stephanebek at gmail.com
> > <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> a écrit :
> >
> >> Hi again
> >>
> >> in doubt, I have opened a ticket here: https://issues.qgis.org/
> >> issues/16649
> >>
> >> Cheers
> >> Stéphane
> >>
> >>
> >> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
> >>
> >>> PS: screencast to better explain the issue: https://vimeo.com/219467091
> >>>
> >>> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
> >>>
> >>>> Hi
> >>>>
> >>>> I am testing the layer styling panel (shortcut F7) with the latest
> >>>> Nightly build on the Ubuntu repositories.
> >>>>
> >>>> By default, the NoData value is -9999. If I add "10" as additional
> >>>> NoData value, nothing happens.
> >>>>
> >>>> If I do the same in the layer properties, then the expected behavior
> >>>> happens: all pixels with value "10" are not rendered.
> >>>>
> >>>> So it seems that the manually added NoData values in the Layer Styling
> >>>> Panel are not considered.
> >>>>
> >>>> Can someone else replicate this problem? Should I open a ticket?
> >>>>
> >>>> Cheers
> >>>> Stéphane
> >>>>
> >>>>
> >>>> --
> >>>>
> >>>> “When you travel, remember that a foreign country is not designed to
> >>>> make you comfortable. It is designed to make its own people comfortable."
> >>>> -- Clifton Fadiman
> >>>>
> >>>>
> >>>
> >>> --
> >>>
> >>> “When you travel, remember that a foreign country is not designed to
> >>> make you comfortable. It is designed to make its own people comfortable."
> >>> -- Clifton Fadiman
> >>>
> >>>
> >>
> >> --
> >>
> >> “When you travel, remember that a foreign country is not designed to make
> >> you comfortable. It is designed to make its own people comfortable." --
> >> Clifton Fadiman
> >>
> >>
> >
> > --
> >
> > “When you travel, remember that a foreign country is not designed to make
> > you comfortable. It is designed to make its own people comfortable." --
> > Clifton Fadiman
> >
> >
> 
> -- 
> 
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman

> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From lbartoletti at tuxfamily.org  Thu Sep 28 23:32:54 2017
From: lbartoletti at tuxfamily.org (lbartoletti at tuxfamily.org)
Date: Fri, 29 Sep 2017 08:32:54 +0200
Subject: [QGIS-Developer] API break: snapSegment
In-Reply-To: <26a8143b-45da-3a0b-316c-73ff3ee2c654@tuxfamily.org>
References: <26a8143b-45da-3a0b-316c-73ff3ee2c654@tuxfamily.org>
Message-ID: <dd6008718271278e0cb2ff7ac93b1cc5@tuxfamily.org>

Hi,

I am preparing a QEP for new editing tools like trim, extend, chamfers, 
bevel... (available in CADDigitize, QAD, etc.).
I realize that it will also be necessary to be able to snap to segments.

Regards.

Loïc

On 2017-09-26 23:08, L.Bartoletti wrote:
> Hi,
> 
> For a few days now QgsMapMouseEvent:: snapSegment is no longer usable
> (moved). I need these tools to create circles with tangents
> (https://github.com/qgis/QGIS/pull/4947).
> 
> Is there another way to get segments by snapping?
> 
> Greetings.
> 
> Loïc
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From regis.haubourg at gmail.com  Fri Sep 29 00:14:34 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 29 Sep 2017 09:14:34 +0200
Subject: [QGIS-Developer] API break: snapSegment
In-Reply-To: <dd6008718271278e0cb2ff7ac93b1cc5@tuxfamily.org>
References: <26a8143b-45da-3a0b-316c-73ff3ee2c654@tuxfamily.org>
 <dd6008718271278e0cb2ff7ac93b1cc5@tuxfamily.org>
Message-ID: <CABgOYCdXiR2TxB38mEzY4z4=T_8yzZ8RM3WNeFSX=R5t9E_xTg@mail.gmail.com>

Hi Loïc,
thanks for that work, much appreciated and needed.

In the same area, we need the ability to snap on the intersection point of
linear segments or curved geometries.

 Paul Blottiere will help in reviewing your current PR, and I'll be glad to
contribute to the QEP!

Regards
Régis


2017-09-29 8:32 GMT+02:00 <lbartoletti at tuxfamily.org>:

> Hi,
>
> I am preparing a QEP for new editing tools like trim, extend, chamfers,
> bevel... (available in CADDigitize, QAD, etc.).
> I realize that it will also be necessary to be able to snap to segments.
>
> Regards.
>
> Loïc
>
>
> On 2017-09-26 23:08, L.Bartoletti wrote:
>
>> Hi,
>>
>> For a few days now QgsMapMouseEvent:: snapSegment is no longer usable
>> (moved). I need these tools to create circles with tangents
>> (https://github.com/qgis/QGIS/pull/4947).
>>
>> Is there another way to get segments by snapping?
>>
>> Greetings.
>>
>> Loïc
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/ddb4f1fe/attachment.html>

From wonder.sk at gmail.com  Fri Sep 29 00:15:19 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri, 29 Sep 2017 09:15:19 +0200
Subject: [QGIS-Developer] API break: snapSegment
In-Reply-To: <26a8143b-45da-3a0b-316c-73ff3ee2c654@tuxfamily.org>
References: <26a8143b-45da-3a0b-316c-73ff3ee2c654@tuxfamily.org>
Message-ID: <CAC2XbFcJmPzUz+1moPtVzxxb012BHbmNvYwaWDVhUfycv+YMhA@mail.gmail.com>

Hi Loïc

On Tue, Sep 26, 2017 at 11:08 PM, L.Bartoletti
<lbartoletti at tuxfamily.org> wrote:
> Hi,
>
> For a few days now QgsMapMouseEvent:: snapSegment is no longer usable
> (moved). I need these tools to create circles with tangents
> (https://github.com/qgis/QGIS/pull/4947).
>
> Is there another way to get segments by snapping?

Yes - here's the code you need to snap to segments - equivalent to a
snapSegment() call:

struct EdgesOnlyFilter : public QgsPointLocator::MatchFilter
{
  bool acceptMatch( const QgsPointLocator::Match &m ) override {
return m.hasEdge(); }
};

EdgesOnlyFilter filter;
match = mapCanvas->snappingUtils()->snapToMap( mapPoint, &filter );

Regards
Martin

From enricofer at gmail.com  Fri Sep 29 00:43:54 2017
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Fri, 29 Sep 2017 09:43:54 +0200
Subject: [QGIS-Developer] can't load plugins with QGIS custom widgets in
	windows
In-Reply-To: <bff76fba-d239-82f6-0fae-36a4b13950f9@tuxfamily.org>
References: <CAJy=XtcFF-gEwoMYvm6Ugqqub512BGA3AceLdNufBjzcXqEdbg@mail.gmail.com>
 <bff76fba-d239-82f6-0fae-36a4b13950f9@tuxfamily.org>
Message-ID: <CAJy=Xte=2E6iAtUf-TSbkKT69SUELLnx26mWpUg85NW6kBQ5Yg@mail.gmail.com>

Hi Loïc,
I have no luck with your fix. I'm getting the same exception.
The uic module doesn't recognize the property
QgsMapLayerProxyModel::RasterLayer
of the custom widget as valid. I tried to remove the entire property
section from .ui file and set it programmatically during the dialog
__init__ with
self.RasterLayer.setFilters(QgsMapLayerProxyModel.RasterLayer)
after setupUi but the widget does not load available layers...

Thanks anyway.
Enrico Ferreguti

2017-09-28 22:12 GMT+02:00 L.Bartoletti <lbartoletti at tuxfamily.org>:

> Hi,
>
> I have found the same problem on FreeBSD if custom widgets are not
> installed.
>
> My solution at least on FreeBSD and Windows (osgeo4w) use your .ui (it's
> only a XML), search this:
>
>   <customwidget>
>    <class>YOUR CUSTOM WIDGET</class>
>    <extends>YOUR CUSTOM WIDGET</extends>
>    <header>YOUR CUSTOM WIDGET.h</header>
>   </customwidget>
>
> and change the line containing a C++ header:
>
> <header>YOUR CUSTOM WIDGET.h</header>
>
> by :
>
> <header>qgis.gui</header>
>
>
> Regards.
>
> Loïc
>
> On 28.09.2017 16:54, Enrico Ferreguti wrote:
>
> I'm getting the following exception:
>
> AttributeError: unknown enum QgsMapLayerProxyModel::RasterLayer
>>
>
> loading a plugin with QGIS custom QT designer widget in windows standalone
> QGIS 2.14 ltr and 2.18.
>
> The exception doesn't affect linux and osgeo4win installations.
>
> I found that this was a 2015 reported issue: https://issues.qgis.org/
> issues/13428
> and I solve it as suggested in https://lists.osgeo.org/
> pipermail/qgis-developer/2015-September/039196.html simply copying a file
> in the right place.
>
> The fix is apparently easy and considering that Qt custom widgets are
> widely used I can't figure why this old issue isn't yet solved.
>
> Is it a qgis or an osgeo4win issue? Should I reopen a ticket?
>
> Thanks. Enrico Ferreguti.
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/f26e5888/attachment-0001.html>

From Steiger at cor-management.ch  Fri Sep 29 07:56:04 2017
From: Steiger at cor-management.ch (Stefan Steiger)
Date: Fri, 29 Sep 2017 14:56:04 +0000
Subject: [QGIS-Developer] QGIS-Server on Windows with IIS - missing methods
	in dlls
Message-ID: <454591AE08FDD64E8B82954659BC1BEA5209FDED@COR-EXCHANGE.cor.local>

Hi,

I've got a question regarding QGIS 2.18.10
I need QGIS to display maps on a website.

I tried on Ubuntu, and got the fastcgi to work more or less, in the little time that I had - thus far missing the PHP front-end.
Now, our admin doesn't want a Linux-machine around, and I can't convince him otherwise.
So I need to get QGIS to work on Windows, completely, including with IIS and not Apache.


I tried the OSGeo4W installer, both 32&64 Bit, on my Windows-10 machine.
http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86.exe
http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86_64.exe

Running the installer, I got the following errors:

The procedure entry point jpeg_abort could not be located in the dynamic link library C:\OSGEO4~1\bin\gdal202.dll
The procedure entry point xmlSchemaNewDocParserCtxt could not be located in the dynamic link library C:\OSGEO4~1\bin\spatialite.dll
Package qgis-common exit code -1073741511
package qgis-ltr-common exit code -1073741515

In other words, I didn't even get to the point to where I could worry about integrating QGIS into IIS, because qgis-server doesn't work in the first-place.

Now the question:
Does qgis-server at present run under Windows (10) at all ?  (QGIS-Desktop works fine - but this is of no use to me).
If yes, I saw different options as mapserver.
What is actually the recommended way to run QGIS maps on the web on Windows ?
Because no matter what I tried to install on this so-called osgeo4w-installer, it ended in fatal error messages, always indicating that some methods in some dlls are missing...
Did the one uploading the installer actually ever run the Windows-binaries before putting them up there ?


Kind regards

Stefan


[cid:image001.png at 01D33941.D30ABC70]

[cid:image002.png at 01D33941.D30ABC70]

[cid:image003.png at 01D33941.D30ABC70]

[cid:image004.png at 01D33941.D30ABC70]



[cid:image005.png at 01D33941.D30ABC70]

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/4170213b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6721 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/4170213b/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 7204 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/4170213b/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 4731 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/4170213b/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 6405 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/4170213b/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 12931 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170929/4170213b/attachment-0009.png>

From noreply at qgis.org  Fri Sep 29 09:38:30 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 29 Sep 2017 16:38:30 -0000
Subject: [QGIS-Developer] Plugin [1287] qpals approval notification.
Message-ID: <20170929163830.17930.97130@320558c5528b>


Plugin qpals approval by pcav.
The plugin version "[1287] qpals 1.4.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/qpals/

From noreply at qgis.org  Fri Sep 29 11:11:41 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 29 Sep 2017 18:11:41 -0000
Subject: [QGIS-Developer] Plugin [1339] JapanElevation approval notification.
Message-ID: <20170929181141.31537.92760@320558c5528b>


Plugin JapanElevation approval by pcav.
The plugin version "[1339] JapanElevation 1.0" is now approved
Link: http://plugins.qgis.org/plugins/JapanElevation/

From rdmailings at duif.net  Sat Sep 30 01:18:15 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 30 Sep 2017 10:18:15 +0200
Subject: [QGIS-Developer] QGIS and QLocale handling not used?
Message-ID: <920e3554-237b-bcc5-a536-d1fd7ccaeae9@duif.net>

Hi,

was checking this locale issue:

https://issues.qgis.org/issues/17221

And think that the provider seems to work with a point as decimal
separator hardcoded:

https://github.com/qgis/QGIS/blob/release-2_18/src/providers/delimitedtext/qgsdelimitedtextprovider.cpp#L873

https://github.com/qgis/QGIS/blob/master/src/providers/delimitedtext/qgsdelimitedtextprovider.cpp#L848


Then I thought to check in the python console to see the current locale via:

iface.mainWindow().locale().name()

(en_US in my case) BUT after setting the QGIS locale to dutch it is
still en_US in my case

You can check by typing '1,0' in the console (or plugin), it will NOT
give you a double, but a tuple: (1,0)

So Question:
- is QGIS locale handling not used in Python world? (both plugins and
console will not see 1,0 as 'one')

- is QGIS locale not handled at all?

Given QGIS is used in so many different languages/locales, I think QGIS3
is the right time to handle this in a proper way?

Or is my testing just plain wrong :-)

Regards,

Richard Duivenvoorde

From delazj at gmail.com  Sat Sep 30 02:57:28 2017
From: delazj at gmail.com (delazj at gmail.com)
Date: Sat, 30 Sep 2017 11:57:28 +0200
Subject: [QGIS-Developer] Reword "Trusted Plugin" --> "Trusted Plugin
 Author"?
Message-ID: <59cf6a8b.41621c0a.52f48.2348@mx.google.com>

Hi,

My personal feeling after reading this thread is to hide to users this trusting condideration. I can't find short text that really expresses Ale's description above. 
I guess there might be other plugin authors that deserve this status, do not feel comfortable with the current presentation in the plugin manager but didn't express themselves. And considering that even among Core contributors this status wasn't clear, i'd not be surprised to have users or IT services misinterpret it and use it as a quality filter.
Let's it be an internal concern, hence pull request at https://github.com/qgis/QGIS/pull/5272

If we want to promote well-known/involved community members (and not all are plugin authors), we'll need to find another way.

Regards, 
Harrissou

Le 9 sept. 2017 13:23, Richard Duivenvoorde a écrit : > > On 09-09-17 10:42, Alessandro Pasotti wrote: > > > > Sorry if I repeat myself, this is just to clarify what the "trusted" > > flag is, and why it was introduced. > > > > The trusted flag has nothing to do with being a core dev or having > > CI/tests: it's a permission flag in the DB, tied to the user who "owns" > > the plugin (the maintainer). > > > > When a new plugin is submitted, Paolo (please correct me if I'm wrong) > > checks the plugin for mandatory metadata and he makes a > > quick/superficial evaluation, if the plugin does not look particularly > > suspicious or misses some mandatory metadata he approves it straight away. > > > > But the a.m. procedure is pointless and can be totally avoided if the > > plugin comes from a well known member of this community when there is > > "trust" because of proven record of good plugins or code contributions > > or personal knowledge, beers together in the greenhouses at night etc. > > etc..  > > > > So this is all what the "trusted" flag is about: skipping the boring and > > time/consuming procedure of approving plugins for the well-known members > > of this community (and the delay that it causes) . > > > > Let me say it again:the only difference between a "trusted" user/author > > is that he can approve and publish the plugins by himself. > > > > The problem started when we decided to advertise the "trusted" flag on > > the plugin manager, I see two options here: > > > > 1. go back to the pre-trusted times and hide that information from the > > plugin manager > > 2. reword/rephrase > > 3. add some other flags at the DB level (feel free to make PRs) > > > > I would go for 2. but please keep the new sentence in sync with the real > > meaning of the "trusted" flag: I believe that all core developers should > > be "trusted" (just ask Paolo or any other admin and it's just a click) > > but I would not restrict the "trust" to core devs: there are many other > > members of this community that I'd give trust even if they are not core > > devs. > > Thanks Alessandro for this refreshment, > > looks like we are two things mixing up here; > A) making approving of plugins easier by giving label to AUTHORS > B) promoting/giving preference to certain 'wellknown' PLUGINS > > And actually we have mechanisms for both! > > For A we have this 'trusted author' label to make Paolo's work easier > (and let's make it clear: trust IS often a personal thing, which is hard > to hand over to others). > > For B we have the 'Starring' mechanism: at > http://plugins.qgis.org/plugins/ AND in the plugin manager > you can 'vote' for a plugin by clicking on one of the stars there. > > Given that most users actually do not care too much about the personal > trust between authors and community/admins, I would go for Alessondro's > first option: > > 1) remove that coloring/sentence from the manager (as it does not prove > anything about the quality of the plugin too) > > 2) give the 'Starring' of plugins more weight in the applications: > - make the 'Stars' more visible in the plugin manager by moving them to > the top of the information in the plugin dialog > - make it more clear that you can VOTE stars for a plugin in the plugin > manager > - make the stars visible when you search for plugins (now only the names > are shown): > http://plugins.qgis.org/search/?q=pdok > > IF somebody wants to dive into the plugin Django application, maybe we > should we could maybe refine these mechanisms (like make it only > possible to add stars when you are logged in or so?), but looking at > them now, we actually had everything pretty well laid out? > > Regards, > > Richard Duivenvoorde > > _______________________________________________ > QGIS-Developer mailing list > QGIS-Developer at lists.osgeo.org > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Sat Sep 30 04:22:38 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 30 Sep 2017 13:22:38 +0200
Subject: [QGIS-Developer] QGIS and QLocale handling not used?
In-Reply-To: <920e3554-237b-bcc5-a536-d1fd7ccaeae9@duif.net>
References: <920e3554-237b-bcc5-a536-d1fd7ccaeae9@duif.net>
Message-ID: <592cf29d-1e16-bd1f-a946-7b901c09afff@duif.net>

On 30-09-17 10:18, Richard Duivenvoorde wrote:

> Given QGIS is used in so many different languages/locales, I think QGIS3
> is the right time to handle this in a proper way?
> 
> Or is my testing just plain wrong :-)

Ok, see comments at the issue [0], I think there is nothing wrong with
the separator handling of the delimitedtextprovider.
It would be cool though if the dialog would check the 'Decimal separator
is comma' when the locale is european (and maybe show the locale there...)

And my test was plain wrong: 1,0 will NEVER be a valid float in Python.
'1,0' is, if you have the right locale, see [1]
Note that this is about plain Python. In our case there is Qt in between...

I think though that changing the locale and then asking for the locale
in QGIS should show the locale used.

I hope somebody can tell something about this?

Regards,

Richard Duivenvoorde



[0] https://issues.qgis.org/issues/17221

[1]
https://stackoverflow.com/questions/6633523/how-can-i-convert-a-string-with-dot-and-comma-into-a-float-number-in-python

From delazj at gmail.com  Sat Sep 30 07:09:17 2017
From: delazj at gmail.com (DelazJ)
Date: Sat, 30 Sep 2017 16:09:17 +0200
Subject: [QGIS-Developer] Two "close" buttons in expression editor
In-Reply-To: <4be6ac42-74f5-0493-1979-4506255eefed@carto.net>
References: <4be6ac42-74f5-0493-1979-4506255eefed@carto.net>
Message-ID: <CAECJsSrWLbdFe+=AY8hRvSC=kJiuu8iWTCBQVNpXkf2oUABfvQ@mail.gmail.com>

Hi Andreas,
Pull-request published at https://github.com/qgis/QGIS/pull/5273

H.

2017-09-27 18:36 GMT+02:00 Andreas Neumann <a.neumann at carto.net>:

> Hi,
>
> If I open the expression editor with the "Select by expression" button, I
> get two "close" buttons in the expression editor dialogue. One fails to
> work.
>
> See issue report at https://issues.qgis.org/issues/17207
>
> Can someone confirm?
>
> Thanks,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170930/59fd3208/attachment.html>

From noreply at qgis.org  Sat Sep 30 09:24:15 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 30 Sep 2017 16:24:15 -0000
Subject: [QGIS-Developer] Plugin [796] Catalog Planet Labs approval
	notification.
Message-ID: <20170930162415.17930.10999@320558c5528b>


Plugin Catalog Planet Labs approval by pcav.
The plugin version "[796] Catalog Planet Labs 1.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/catalogpl_plugin/

From phi73 at gmx.de  Sat Sep 30 13:12:49 2017
From: phi73 at gmx.de (Pat Hin)
Date: Sat, 30 Sep 2017 22:12:49 +0200
Subject: [QGIS-Developer] Error message: Processing toolbox
References: <trinity-acba0ea9-a0c3-464f-b21b-318956c9380a-1506790076837@3c-app-gmx-bs37>
 <trinity-370abd10-7537-4440-ba56-3eda26046048-1506791285871@3c-app-gmx-bs64>
Message-ID: <trinity-b87de2f3-4a40-4ec2-ba29-544fb46017ea-1506802368971@msvc-mesg-gmx006>


> Von: "Pat Hin" <phi73 at gmx.de>
> Datum: 30. September 2017 um 19:08
> An: "qgis-userlists.osgeo.org" <qgis-user at lists.osgeo.org>
> Betreff: Error message: Processing toolbox
> 
> Hello,
>  
> i have crashed my QGIS :-))
>  
> What i did: Unter "Processing toolbox->option->menu" i enabled checkbox for adding my own script to the menu bar.
> after restart the processing toolbox is defect and cant be started.
>  
> The error message is below.
>  
> I tried to reinstall by plugin repo but there i get the same message that the "processing toolbox" is defect.
>  
> What can i do before fully reinstall what i would dont like due to lose all my projects etc.
>  
> thanks
> pat
>  
>  
>  
>  
>  
> Konnte Erweiterung processing nicht laden aufgrund eines Fehlers beim Aufruf der classFactory() Methode
> TypeError: coercing to Unicode: need string or buffer, NoneType found
> Traceback (most recent call last):
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/qgis/utils.py", line 333, in startPlugin
>     plugins[packageName] = package.classFactory(iface)
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/__init__.py", line 38, in classFactory
>     return ProcessingPlugin(iface)
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/ProcessingPlugin.py", line 58, in __init__
>     Processing.initialize()
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/core/Processing.py", line 148, in initialize
>     Processing.addProvider(c())
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/core/Processing.py", line 103, in addProvider
>     % (provider.getDescription(), traceback.format_exc()))
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/algs/saga/SagaAlgorithmProvider.py", line 123, in getDescription
>     version = SagaUtils.getSagaInstalledVersion()
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/algs/saga/SagaUtils.py", line 130, in getSagaInstalledVersion
>     commands = [os.path.join(sagaPath(), "saga_cmd -v")]
>   File "/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/algs/saga/SagaUtils.py", line 75, in sagaPath
>     if not os.path.isdir(folder):
>   File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/genericpath.py", line 49, in isdir
>     st = os.stat(s)
> TypeError: coercing to Unicode: need string or buffer, NoneType found
> 
> Python-Version: 2.7.10 (default, Feb  7 2017, 00:08:15) [GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)]
> QGIS-Version: 2.18.2 Las Palmas, exported
> Python-Pfad:
> 
> /Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/processing/Applications/QGIS.app/Contents/MacOS/../Resources/python/Users/hindenberger/.qgis2/python/Users/hindenberger/.qgis2/python/plugins/Applications/QGIS.app/Contents/MacOS/../Resources/python/plugins/Library/Frameworks/SQLite3.framework/Versions/C/Python/2.7/Library/Frameworks/GEOS.framework/Versions/3/Python/2.7/site-packages/Library/Python/2.7/site-packages/numpy-override/Library/Python/2.7/site-packages/matplotlib-override/Library/Frameworks/GDAL.framework/Versions/2.1/Python/2.7/site-packages/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python27.zip/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-darwin/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-old/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/Library/Python/2.7/site-packages/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/PyObjC/Users/hindenberger/.qgis2//python
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170930/7a16276d/attachment.html>

