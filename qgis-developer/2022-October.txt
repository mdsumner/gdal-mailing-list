From anitagraser at gmx.at  Sat Oct  1 08:55:50 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 1 Oct 2022 17:55:50 +0200
Subject: [QGIS-Developer] Model for Temporal Measurement (vector)
 Datasets ?
In-Reply-To: <CAES-DZS207FfDUwLzN_-wCqGgOrkTtkjYZMc+-PV+XGpsC6L1g@mail.gmail.com>
References: <830c8937-7ae4-49fb-fb34-612b6149a55d@duif.net>
 <f36c7d14-d573-e257-98df-36bf1a00280a@gmx.at>
 <CAES-DZS207FfDUwLzN_-wCqGgOrkTtkjYZMc+-PV+XGpsC6L1g@mail.gmail.com>
Message-ID: <c30c858f-e542-592b-cac8-11ec4ef82f00@gmx.at>

Hi Richard, Hi Tim,

Here's what I could come up with:
https://anitagraser.com/2022/10/01/visualizing-iot-time-series-with-qgis-mobilitydb/

I think it's promising but lacks GUI support.

Regards,

Anita


On 05.09.2022 01:34, Tim Sutton wrote:
> Hi Richard
>
> Thanks for clarifying?your ideas. Could we not implement something
> similar to how WMS-T works in that we have a PostgreSQL-T provider
> extension for example that passes a time filter to the underlying data
> base?request. In another system we are build for a client we have some
> logic to fetch min/max/mean/sum/etc from a time slice so we could have
> something similar such that each point has only one value for the
> current time slice.
>
> Not sure if I make myself clear or not...
>
>
> Regards
>
> Tim
>
> On Sun, Sep 4, 2022 at 4:22 PM Anita Graser via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
>
>     Hi Richard,
>
>     On 02.09.2022 13:07, Richard Duivenvoorde wrote:
>     > Anybody is aware of a model in which data owns a location, but THAT
>     > location has a (growing) set of [timestamp, value] observation
>     data to
>     > it....
>
>     MobilityDB has temporal temporal bools, ints, floats, texts, and
>     geometries: https://docs.mobilitydb.com/MobilityDB/develop/ch03.html
>
>     So that would cover the storage question but the visualization issue
>     remains until we implement support for these types in Temporal
>     Controller.
>
>     Regards,
>
>     Anita
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> ------------------------------------------------------------------------------------------
> ?
>
> Tim Sutton
> Visit http://kartoza.com?to find out about open source:
> ?* Desktop GIS programming services
> ?* Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
> -------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221001/f8048210/attachment.htm>

From r.nijssen at terglobo.nl  Sun Oct  2 23:57:42 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 3 Oct 2022 08:57:42 +0200
Subject: [QGIS-Developer] import 3d or _3d in python?
Message-ID: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>


While trying to import a 3D class in a python script, I found out that 
the code in the pyqgis docs is not working (for me):

from qgis.3d import QgsLayoutItem3DMap


Instead I need to add an underscore for the 3d module name:

from qgis._3d import QgsLayoutItem3DMap



Should this be fixed in the documentation? I'm not all sure, cause when 
trying to fix it, I found this related commit:

https://github.com/qgis/pyqgis/commit/1ac564790aa0b7abbd003c04d07358d8e4f14493



This is the page in the docs:
https://qgis.org/pyqgis/master/3d/QgsLayoutItem3DMap.html


Should I make an issue? It took me a while to figure out that _3d solution.

Cheers,
Raymond

From andreaerdna at libero.it  Mon Oct  3 00:02:39 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Mon, 3 Oct 2022 09:02:39 +0200
Subject: [QGIS-Developer] import 3d or _3d in python?
In-Reply-To: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>
References: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>
Message-ID: <3b50bcba-e8f0-e3d0-8c44-ce5828f4c924@libero.it>

Il 03/10/2022 08:57, Raymond Nijssen via QGIS-Developer ha scritto:
>
> Instead I need to add an underscore for the 3d module name:
>
> from qgis._3d import QgsLayoutItem3DMap

In the Python console, the 3d library is automatically imported (if QGIS 
is compiled with 3d support) with:

from qgis._3d import *

See: 
https://github.com/qgis/QGIS/blob/95e00c50d219b39b2571dd6bff59a1393deb9b6a/python/console/console_sci.py#L59

Best regards.

Andrea Giudiceandrea

From r.nijssen at terglobo.nl  Mon Oct  3 00:19:27 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 3 Oct 2022 09:19:27 +0200
Subject: [QGIS-Developer] import 3d or _3d in python?
In-Reply-To: <3b50bcba-e8f0-e3d0-8c44-ce5828f4c924@libero.it>
References: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>
 <3b50bcba-e8f0-e3d0-8c44-ce5828f4c924@libero.it>
Message-ID: <35d3276c-d364-27cb-74e9-46798b73d2b9@terglobo.nl>

Hi Andrea,

I know, but my script is not running in the console. It is part of a 
plugin, so I need to do the import. Would be handy if the documentation 
tells me how to do it.

Kind regards,
Raymond


On 03-10-2022 09:02, Andrea Giudiceandrea via QGIS-Developer wrote:
> Il 03/10/2022 08:57, Raymond Nijssen via QGIS-Developer ha scritto:
>>
>> Instead I need to add an underscore for the 3d module name:
>>
>> from qgis._3d import QgsLayoutItem3DMap
> 
> In the Python console, the 3d library is automatically imported (if QGIS 
> is compiled with 3d support) with:
> 
> from qgis._3d import *
> 
> See: 
> https://github.com/qgis/QGIS/blob/95e00c50d219b39b2571dd6bff59a1393deb9b6a/python/console/console_sci.py#L59 
> 
> 
> Best regards.
> 
> Andrea Giudiceandrea
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Mon Oct  3 01:24:32 2022
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon, 3 Oct 2022 10:24:32 +0200
Subject: [QGIS-Developer] import 3d or _3d in python?
In-Reply-To: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>
References: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>
Message-ID: <CAC2XbFeuyVX8Xz0dK8cKjzQBuFhD8OaJgRYMsUk9W2hxRjDmxA@mail.gmail.com>

Hi Raymond

The general idea is that for every PyQGIS module (e.g. "core") there is a
compiled python module (e.g. _core.so) and a directory acting as a module
("core") which imports the compiled module and adds some extra
functionality (docstrings and more). So normally one wants to use import
qgis.core instead of qgis._core.

Now with the 3d module things are not so great, because "3d" is not a valid
module name because of the leading digit, so import qgis.3d simply won't
work. There are some ways to work it around [1], but I wouldn't recommend
using them. But as stated earlier, importing qgis._3d should generally do
the job.

It is probably worth creating a ticket to address this, but I am not sure
how to best fix it - probably the whole module should be renamed so avoid
the leading digit - e.g. "threed"

[1]
https://stackoverflow.com/questions/9090079/in-python-how-to-import-filename-starts-with-a-number

Cheers
Martin


On Mon, Oct 3, 2022 at 8:58 AM Raymond Nijssen via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

>
> While trying to import a 3D class in a python script, I found out that
> the code in the pyqgis docs is not working (for me):
>
> from qgis.3d import QgsLayoutItem3DMap
>
>
> Instead I need to add an underscore for the 3d module name:
>
> from qgis._3d import QgsLayoutItem3DMap
>
>
>
> Should this be fixed in the documentation? I'm not all sure, cause when
> trying to fix it, I found this related commit:
>
>
> https://github.com/qgis/pyqgis/commit/1ac564790aa0b7abbd003c04d07358d8e4f14493
>
>
>
> This is the page in the docs:
> https://qgis.org/pyqgis/master/3d/QgsLayoutItem3DMap.html
>
>
> Should I make an issue? It took me a while to figure out that _3d solution.
>
> Cheers,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/17852878/attachment.htm>

From andreaerdna at libero.it  Mon Oct  3 01:41:07 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Mon, 3 Oct 2022 10:41:07 +0200
Subject: [QGIS-Developer] import 3d or _3d in python?
In-Reply-To: <35d3276c-d364-27cb-74e9-46798b73d2b9@terglobo.nl>
References: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>
 <3b50bcba-e8f0-e3d0-8c44-ce5828f4c924@libero.it>
 <35d3276c-d364-27cb-74e9-46798b73d2b9@terglobo.nl>
Message-ID: <b4566bea-f6ee-c9e7-133b-c250169f96fe@libero.it>

Il 03/10/2022 09:19, Raymond Nijssen via QGIS-Developer ha scritto:
> I know, but my script is not running in the console. It is part of a 
> plugin, so I need to do the import. Would be handy if the 
> documentation tells me how to do it.

Yes, I understood that. I just wanted to point out that QGIS itself 
imports the 3d library using qgis._3d, so it should be the correct 
module name to use.

Best regards.

Andrea

From sylvain.pierre at alsace.eu  Mon Oct  3 06:04:09 2022
From: sylvain.pierre at alsace.eu (PIERRE Sylvain)
Date: Mon, 3 Oct 2022 13:04:09 +0000
Subject: [QGIS-Developer] PyQgis Standalone app from 3.4 to 3.16
Message-ID: <PR1P264MB2046927EFAD7A8EEF988C9C39C5B9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>

Hi devs,

I'm porting a PyQgis standalone app from 3.4 to 3.16 api.
I get an error with the new 3.16 app
QSqlDatabase: QPSQL driver not loaded
QSqlDatabase: available drivers: <nothing>

The most visible change I noticed is python 3.7 to 3.9. Is there any impact on PyQt5 bindings ?  With python 3.7 there was a C:\Program Files\QGIS 3.4\apps\Python37\sip directory which is missing with python 3.9.

Here is my app env variables
os.environ['QT_QPA_PLATFORM_PLUGIN_PATH'] = r'C:\Program Files\QGIS 3.16.16\apps\Qt5\plugins'
os.environ['PATH'] += r';C:\Program Files\QGIS 3.16.16\apps\qgis-ltr;C:\Program Files\QGIS 3.16.16\apps\qgis\bin;C:\Program Files\QGIS 3.16.16\apps\Qt5\bin'
os.environ['QGIS_PREFIX_PATH'] = r'C:\Program Files\QGIS 3.16.16\apps\qgis-ltr'
os.environ['GDAL_DATA'] = r'C:\Program Files\QGIS 3.16.16\share\gdal'
os.environ['PROJ_LIB'] = r'C:\Program Files\QGIS 3.16.16\share\proj'

os.environ['GDAL_DRIVER_PATH'] = r'C:\Program Files\QGIS 3.16.16\bin\gdalplugins'
os.environ['QT_PLUGIN_PATH'] = r'C:\Program Files\QGIS 3.16.16\apps\qgis\qtplugins;C:\Program Files\QGIS 3.16.16\apps\qt5\plugins'

Did I miss something ?

Thanks

[cid:image002.jpg at 01D8D739.62F6AA70]
Sylvain PIERRE
Chef de projet syst?me d'information
Direction des Syst?mes d'Information et du D?veloppement Num?rique
Service Projets et Ing?nierie Num?rique
Collectivit? europ?enne d'Alsace
T?l : 03 88 76 68 88
sylvain.pierre at alsace.eu<mailto:sylvain.pierre at alsace.eu>
www.alsace.eu<http://www.alsace.eu>
[facebook]<http://www.facebook.com/toutelalsace> [twitter] <http://www.twitter.com/toutelalsace>  [insta] <http://www.instagram.com/toutelalsace>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/02a1bba5/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.jpg
Type: image/jpeg
Size: 8094 bytes
Desc: image002.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/02a1bba5/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 827 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/02a1bba5/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 851 bytes
Desc: image006.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/02a1bba5/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image008.png
Type: image/png
Size: 1030 bytes
Desc: image008.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/02a1bba5/attachment-0005.png>

From delazj at gmail.com  Mon Oct  3 22:54:09 2022
From: delazj at gmail.com (Harrissou s.)
Date: Tue, 04 Oct 2022 07:54:09 +0200
Subject: [QGIS-Developer] [Qgis-community-team] QGIS website commits
 failed (governance section updates)
In-Reply-To: <b4bf3632-d6fe-985f-dd0c-4fd13d9e05fa@duif.net>
References: <fdb56851742e9dd6a30d2d401061b5a8@carto.net>
 <b4bf3632-d6fe-985f-dd0c-4fd13d9e05fa@duif.net>
Message-ID: <05A282DA-E161-43D6-AF09-AEFF197589CA@gmail.com>

Hi,
Richard, the HTML build is also OK on github. It's the deploy to our server action that is failing due to a connection time out  https://github.com/qgis/QGIS-Website/actions/runs/3177356631/jobs/5181725502

Ccing devs as some of them have appropriate rights to handle this.

Regards,
Harrissou

Le 3 octobre 2022 20:02:52 GMT+02:00, Richard Duivenvoorde <rdmailings at duif.net> a ?crit?:
>Hi Andreas,
>
>At least locally with me all builds fine.
>
>Regards,
>
>Richard
>
>
>On 10/3/22 11:50, Andreas Neumann wrote:
>> Hi,
>> 
>> I added today a few PDF files (reports) in the "Governance" section, but the commits all failed the CI due to a "rsync" error in the "Deploy static content to Pages / update-feeds" section.
>> 
>> Anyone knows how to fix the "rsync" error?
>> 
>> Thanks a lot for your help,
>> Andreas
>> 
>> 
>> _______________________________________________
>> Qgis-community-team mailing list for organizing community resources such as documentation, translation etc..
>> Qgis-community-team at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
>
>_______________________________________________
>Qgis-community-team mailing list for organizing community resources such as documentation, translation etc..
>Qgis-community-team at lists.osgeo.org
>https://lists.osgeo.org/mailman/listinfo/qgis-community-team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221004/e13c5e2e/attachment.htm>

From a.neumann at carto.net  Mon Oct  3 23:50:59 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 04 Oct 2022 08:50:59 +0200
Subject: [QGIS-Developer] [Qgis-community-team] QGIS website commits
 failed (governance section updates)
In-Reply-To: <05A282DA-E161-43D6-AF09-AEFF197589CA@gmail.com>
References: <fdb56851742e9dd6a30d2d401061b5a8@carto.net>
 <b4bf3632-d6fe-985f-dd0c-4fd13d9e05fa@duif.net>
 <05A282DA-E161-43D6-AF09-AEFF197589CA@gmail.com>
Message-ID: <b900e6da6321ef83f15b5898684969b7@carto.net>

Hi,

Maybe it is an issue in the CI only?

Seems like all my changes got published ok from yesterday's updates. But 
the CI is apparently broken.

Andreas

On 2022-10-04 07:54, Harrissou s. wrote:

> Hi,
> Richard, the HTML build is also OK on github. It's the deploy to our 
> server action that is failing due to a connection time out 
> https://github.com/qgis/QGIS-Website/actions/runs/3177356631/jobs/5181725502
> 
> Ccing devs as some of them have appropriate rights to handle this.
> 
> Regards,
> Harrissou
> 
> Le 3 octobre 2022 20:02:52 GMT+02:00, Richard Duivenvoorde 
> <rdmailings at duif.net> a ?crit :
> 
> Hi Andreas,
> 
> At least locally with me all builds fine.
> 
> Regards,
> 
> Richard
> 
> On 10/3/22 11:50, Andreas Neumann wrote:
> Hi,
> 
> I added today a few PDF files (reports) in the "Governance" section, 
> but the commits all failed the CI due to a "rsync" error in the "Deploy 
> static content to Pages / update-feeds" section.
> 
> Anyone knows how to fix the "rsync" error?
> 
> Thanks a lot for your help,
> Andreas
> -------------------------
> Qgis-community-team mailing list for organizing community resources 
> such as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
> -------------------------
> 
> Qgis-community-team mailing list for organizing community resources 
> such as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221004/05e6b9b4/attachment.htm>

From r.nijssen at terglobo.nl  Tue Oct  4 00:50:42 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Tue, 4 Oct 2022 09:50:42 +0200
Subject: [QGIS-Developer] import 3d or _3d in python?
In-Reply-To: <CAC2XbFeuyVX8Xz0dK8cKjzQBuFhD8OaJgRYMsUk9W2hxRjDmxA@mail.gmail.com>
References: <fe55384e-07cc-60fe-27be-8cea27ff1a22@terglobo.nl>
 <CAC2XbFeuyVX8Xz0dK8cKjzQBuFhD8OaJgRYMsUk9W2hxRjDmxA@mail.gmail.com>
Message-ID: <666a0922-0e46-f4d1-4ae7-7e6dfa1bcbeb@terglobo.nl>

Done:
https://github.com/qgis/pyqgis/issues/97

Raymond



On 03-10-2022 10:24, Martin Dobias wrote:
> Hi Raymond
> 
> The general idea is that for every PyQGIS module (e.g. "core") there is 
> a compiled python module (e.g. _core.so) and a directory acting as a 
> module ("core") which imports the compiled module and adds some extra 
> functionality (docstrings and more). So normally one wants to use import 
> qgis.core instead of qgis._core.
> 
> Now with the 3d module things are not so great, because "3d" is not a 
> valid module name because of the leading digit, so import qgis.3d simply 
> won't work. There are some ways to work it around [1], but I wouldn't 
> recommend using them. But as stated earlier, importing qgis._3d should 
> generally do the job.
> 
> It is probably worth creating a ticket to address this, but I am not 
> sure how to best fix it - probably the whole module should be renamed so 
> avoid the leading digit - e.g. "threed"
> 
> [1] 
> https://stackoverflow.com/questions/9090079/in-python-how-to-import-filename-starts-with-a-number 
> <https://stackoverflow.com/questions/9090079/in-python-how-to-import-filename-starts-with-a-number>
> 
> Cheers
> Martin
> 
> 
> On Mon, Oct 3, 2022 at 8:58 AM Raymond Nijssen via QGIS-Developer 
> <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> 
> wrote:
> 
> 
>     While trying to import a 3D class in a python script, I found out that
>     the code in the pyqgis docs is not working (for me):
> 
>     from qgis.3d import QgsLayoutItem3DMap
> 
> 
>     Instead I need to add an underscore for the 3d module name:
> 
>     from qgis._3d import QgsLayoutItem3DMap
> 
> 
> 
>     Should this be fixed in the documentation? I'm not all sure, cause when
>     trying to fix it, I found this related commit:
> 
>     https://github.com/qgis/pyqgis/commit/1ac564790aa0b7abbd003c04d07358d8e4f14493
>     <https://github.com/qgis/pyqgis/commit/1ac564790aa0b7abbd003c04d07358d8e4f14493>
> 
> 
> 
>     This is the page in the docs:
>     https://qgis.org/pyqgis/master/3d/QgsLayoutItem3DMap.html
>     <https://qgis.org/pyqgis/master/3d/QgsLayoutItem3DMap.html>
> 
> 
>     Should I make an issue? It took me a while to figure out that _3d
>     solution.
> 
>     Cheers,
>     Raymond
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 

From rldhont at gmail.com  Tue Oct  4 04:37:54 2022
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Tue, 4 Oct 2022 13:37:54 +0200
Subject: [QGIS-Developer] QGIS Server WMS Advertised extent and layers /
 groups bounding box in GetCapabilities
Message-ID: <0a63ebf5-58be-8d9a-b7f1-466bd80cbbf6@gmail.com>

Hi QGIS Server devs,

We, David and I, are working on enhancing the way QGIS Server is 
building the WMS GetCapabilities document. [1]

And I have some questions about the QGIS Server WMS Advertised extent 
and the layers / groups bounding box in GetCapabilities.

For exemple in the tests/testdata/qgis_server/test_project.qgs [2], the 
WMS Advertised extent is set to
* CRS="EPSG:4326" minx="44.901236" miny="8.203154"? maxx="44.901599" 
maxy="8.204165" [3][4]

And in this project, the WGS84 extent of the landsat layer is
* CRS="EPSG:4326" minx="30.151856" miny="17.924273" maxx="30.257289" 
maxy="18.045658" [5]

As you can read, the layer landsat is out of the WMS Advertised extent.

So the WMS GetCapabilities document contains a layer landsat with a 
bounding box outside the root layer / group bounding box.

I was thinking that the root layer / group bounding box should include 
all the layers bounding box.

So I wonder what the role of the WMS Advertised extent is.
* Is it only the root layer / group extent ?
* Is it a restricted extent (no data available outside this extent) ?
* Is it the minimum extent of all WMS layers ?

1. https://github.com/dmarteau/QGIS/tree/wms-getcapabilities-refactoring-2
2. 
https://github.com/qgis/QGIS/blob/master/tests/testdata/qgis_server/test_project.qgs
3. 
https://github.com/qgis/QGIS/blob/master/tests/testdata/qgis_server/test_project.qgs#L1818 

4. 
https://github.com/qgis/QGIS/blob/master/tests/testdata/qgis_server/wms_getcapabilities_rewriting.txt#L114
5. 
https://github.com/qgis/QGIS/blob/master/tests/testdata/qgis_server/wms_getcapabilities_rewriting.txt#L160

Thanks
Ren?-Luc Dhont
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221004/00ffa435/attachment.htm>

From jef at norbit.de  Tue Oct  4 04:43:08 2022
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Tue, 4 Oct 2022 13:43:08 +0200
Subject: [QGIS-Developer] QGIS Server WMS Advertised extent and layers /
 groups bounding box in GetCapabilities
In-Reply-To: <0a63ebf5-58be-8d9a-b7f1-466bd80cbbf6@gmail.com>
References: <0a63ebf5-58be-8d9a-b7f1-466bd80cbbf6@gmail.com>
Message-ID: <20221004114308.376dgayvmgkjs7tf@norbit.de>

Hi Ren?-Luc,

On Tue, 04. Oct 2022 at 13:37:54 +0200, Ren?-Luc Dhont via QGIS-Developer wrote:
> So I wonder what the role of the WMS Advertised extent is.
> * Is it only the root layer / group extent ?
> * Is it a restricted extent (no data available outside this extent) ?
> * Is it the minimum extent of all WMS layers ?
  * an (suggested) area of interest for clients.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221004/b91c2018/attachment-0001.sig>

From adenaculture at gmail.com  Tue Oct  4 05:15:14 2022
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 4 Oct 2022 12:15:14 +0000
Subject: [QGIS-Developer] QgsProcessingLayerPostProcessorInterface and
 Layers Legend Icon
Message-ID: <CABPxTTrMsqL+osZ9b=0fQsFT4sYxv8SeQ5_sv0P20N+8pKYJCw@mail.gmail.com>

I have several plugin functions that are
using QgsProcessingLayerPostProcessorInterface to style the layer after it
is created in a processing algorithm. I have largely ignored the fact that
after I style it, the legend displayed in the layers panel is its old style
and not the new one. I have a solution, but don't know if I am violating
some thread safe rule. I know I cannot use iface in the algorithm, but is
it safe to use in QgsProcessingLayerPostProcessorInterface?

In the top of my algorithm I import the following:

from qgis.utils import iface

In the processAlgorithm function I have the following.

if context.willLoadLayerOnCompletion(dest_id):

context.layerToLoadOnCompletionDetails(dest_id).setPostProcessor(StylePostProcessor.create(settings.lineColor,
settings.fontColor))
return {self.PrmOutput: dest_id}

My QgsProcessingLayerPostProcessorInterface looks like this. Notice the
line iface.layerTreeView().refreshLayerSymbology(layer.id()) which
effectively does what I need it to do. It works, but is safe or is there a
better way to do this? The output layer is a polygon in which I only want
the outline displayed. I am passing some color parameters from
processAlgorithm.

class StylePostProcessor(QgsProcessingLayerPostProcessorInterface):
    instance = None
    line_color = None
    font_color = None

    def __init__(self, line_color, font_color):
        self.line_color = line_color
        self.font_color = font_color
        super().__init__()

    def postProcessLayer(self, layer, context, feedback):

        if not isinstance(layer, QgsVectorLayer):
            return
        sym = layer.renderer().symbol().symbolLayer(0)
        sym.setBrushStyle(Qt.NoBrush)
        sym.setStrokeColor(self.line_color)
       * iface.layerTreeView().refreshLayerSymbology(layer.id
<http://layer.id>())*

    # Hack to work around sip bug!
    @staticmethod
    def create(line_color, font_color) -> 'StylePostProcessor':
        """
        Returns a new instance of the post processor, keeping a reference
to the sip
        wrapper so that sip doesn't get confused with the Python subclass
and call
        the base wrapper implementation instead... ahhh sip, you wonderful
piece of sip
        """
        StylePostProcessor.instance = StylePostProcessor(line_color,
font_color)
        return StylePostProcessor.instance
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221004/e4556e5f/attachment.htm>

From dmarteau at 3liz.com  Tue Oct  4 05:48:22 2022
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 4 Oct 2022 14:48:22 +0200
Subject: [QGIS-Developer] QGIS Server WMS Advertised extent and layers /
 groups bounding box in GetCapabilities
In-Reply-To: <20221004114308.376dgayvmgkjs7tf@norbit.de>
References: <0a63ebf5-58be-8d9a-b7f1-466bd80cbbf6@gmail.com>
 <20221004114308.376dgayvmgkjs7tf@norbit.de>
Message-ID: <449cfd1f-aba7-2cac-490e-cd418ecb515d@3liz.com>

Hi,

Does that mean that is not playing any authoritative r?le? ?

David

Le 04/10/2022 ? 13:43, J?rgen E. Fischer via QGIS-Developer a ?crit?:
> Hi Ren?-Luc,
>
> On Tue, 04. Oct 2022 at 13:37:54 +0200, Ren?-Luc Dhont via QGIS-Developer wrote:
>> So I wonder what the role of the WMS Advertised extent is.
>> * Is it only the root layer / group extent ?
>> * Is it a restricted extent (no data available outside this extent) ?
>> * Is it the minimum extent of all WMS layers ?
>    * an (suggested) area of interest for clients.
>
>
> J?rgen
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221004/b59b3966/attachment.htm>

From tudorbarascu at yahoo.com  Sun Oct  2 23:54:56 2022
From: tudorbarascu at yahoo.com (=?utf-8?Q?Tudor_B=C4=83r=C4=83scu?=)
Date: Mon, 3 Oct 2022 09:54:56 +0300
Subject: [QGIS-Developer] Re-add Georeferencer action to raster menu?
In-Reply-To: <CAES-DZS=y6p=365QewvRHL=F4sGwVNL=aDOGtuDcWtGZe+dKLg@mail.gmail.com>
References: <CAES-DZS=y6p=365QewvRHL=F4sGwVNL=aDOGtuDcWtGZe+dKLg@mail.gmail.com>
Message-ID: <AE14E042-57ED-4701-85ED-FE39F588649B@yahoo.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/6efd00a4/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 131403 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221003/6efd00a4/attachment-0001.png>

From john.bingco at elevate.com.au  Tue Oct  4 21:08:03 2022
From: john.bingco at elevate.com.au (John Bingco)
Date: Wed, 5 Oct 2022 04:08:03 +0000
Subject: [QGIS-Developer] QGIS Upgrade/Update Inquiry
Message-ID: <SY4PR01MB693253E827EB3A1BB5EA78D8C65D9@SY4PR01MB6932.ausprd01.prod.outlook.com>

Hi Team,

I work for an IT service provider in Australia and we are working with a client that uses QGIS.

The client is requesting for their QGIS to be updated/upgraded to the latest version. Just wanted to check if there is anything we need to take note when doing the update/upgrade. User is worried about compatibility issues.

If there is none, are we good to just directly install the latest version on server for all users to have updated version of the software?

Appreciate your response on this. ?

Regards,
John

--
John Bingco TECHNICIAN
ELEVATE TECHNOLOGY
Mackay, Brisbane, & Newcastle
P: 1300 463 538
W: www.elevate.com.au
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221005/b63fc105/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image650414.gif
Type: image/gif
Size: 94662 bytes
Desc: image650414.gif
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221005/b63fc105/attachment-0001.gif>

From johannes.kroeger at wheregroup.com  Wed Oct  5 01:03:31 2022
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Wed, 5 Oct 2022 10:03:31 +0200
Subject: [QGIS-Developer] Unclear wording for QgsDistanceArea
In-Reply-To: <bcb112fe-a5d9-b3e3-accb-841ea922d6c8@wheregroup.com>
References: <bcb112fe-a5d9-b3e3-accb-841ea922d6c8@wheregroup.com>
Message-ID: <8f228f03-b12b-8156-8277-bb8485b4a116@wheregroup.com>

I would be able to improve the docs during the next two days if someone 
has some answers on these questions :)

Cheers, Hannes

Am 28.09.22 um 14:42 schrieb Johannes Kr?ger (WhereGroup) via 
QGIS-Developer:
> Hi!
>
> I am in QGIS 3.22 in an empty project set to EPSG:3035.
>
> Considering the following Python code run via the script editor:
>
> >>> point_a = QgsPointXY(7.824, 48)
> >>> point_b = QgsPointXY(7.829, 47.98)
> >>> da = QgsDistanceArea()
> >>> print(da.willUseEllipsoid())
> False
> >>> print(da.ellipsoid())
> NONE
> >>> measure = da.measureLine(point_a, point_b)
> >>> print(measure)
> 0.02061552812809131
> >>> meters = da.convertLengthMeasurement(measure, 
> QgsUnitTypes.DistanceMeters)
> >>> print(meters)
> 2294.910093653533
>
> I was wondering how it was able to turn the seemingly unit-less 
> 0.0206... into a distance in meters and checked the docs. The 
> documentation 
> https://qgis.org/pyqgis/master/core/QgsDistanceArea.html#qgis.core.QgsDistanceArea.lengthUnits 
> says:
>
> > Usually, the measurements returned by QgsDistanceArea are in meters. 
> If no valid ellipsoid is set, then the units may not be meters. The 
> units can be retrieved by calling lengthUnits() and areaUnits().
>
> As it said "usually" and I didn't do anything special on purpose, I 
> expected this to return a distance measurement in meters but instead I 
> apparently got a distance in degrees (well, some cartesian measure 
> between my points as a float) which I could *convert* to meters. I 
> have no valid ellipsoid set so as the docs say, this could have 
> happened ("may not be meters").
>
> Checking the .lengthUnits() as suggested confirms that my 
> QgsDistanceArea somehow decided to consider my coordinate values, and 
> thus the measurement, to be in degrees:
>
> >>> da.lengthUnits() == QgsUnitTypes.DistanceDegrees
> True
>
> But why? I find the language very unclear and confusing there.
> Do "usually" and "may" mean that this is undefined, random behaviour 
> unless one explicitly sets an ellipsoid?
> If so, should the docs strongly suggest to always use an ellipsoid so 
> that there is no "may"?
> Do those words express the doc writer's vision of how the class what 
> usually be used?
> If so, should the docs suggest a specific setup of the class?
> Why did it consider my point coordinates to be in degrees?
> How did it convert the degrees to meters if it supposedly does not use 
> an ellipsoid?
> 8)
>
> Cheers, Hannes
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Schon gewusst?
In unserem Blog geben wir Tipps & Tricks zu Open-Source-GIS-Software
und berichten aus unserem Experten-Alltag:
https://wheregroup.com/blog/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_0x840A4B843789797F.asc
Type: application/pgp-keys
Size: 2472 bytes
Desc: OpenPGP public key
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221005/3b47f733/attachment.key>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 665 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221005/3b47f733/attachment.sig>

From john.bingco at elevate.com.au  Wed Oct  5 17:14:36 2022
From: john.bingco at elevate.com.au (John Bingco)
Date: Thu, 6 Oct 2022 00:14:36 +0000
Subject: [QGIS-Developer] QGIS Upgrade/Update Inquiry
In-Reply-To: <CA+H0G_FiDbVpFSD-9jz2wtJPrSimALtK25MufaWpPg8Va_g4nw@mail.gmail.com>
References: <SY4PR01MB693253E827EB3A1BB5EA78D8C65D9@SY4PR01MB6932.ausprd01.prod.outlook.com>
 <CA+H0G_FiDbVpFSD-9jz2wtJPrSimALtK25MufaWpPg8Va_g4nw@mail.gmail.com>
Message-ID: <SY4PR01MB6932F8D473BD566530F2F8C4C65C9@SY4PR01MB6932.ausprd01.prod.outlook.com>

Thanks for your response Alexandre. ?

Regards,
John

From: Alexandre Neto <senhor.neto at gmail.com>
Sent: Wednesday, 5 October 2022 11:17 PM
To: John Bingco <john.bingco at elevate.com.au>
Cc: qgis-dev <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] QGIS Upgrade/Update Inquiry

Hi, It's important to know what is the current version you are using and what is the version you want to update to. I would suggest using 3.22 LTR. Nevertheless, both 3.22 LTR and 3.26 versions should
External (senhor.neto at gmail.com<mailto:senhor.neto at gmail.com>)
  Report This Email<https://protection.inkyphishfence.com/report?id=ZWxldmF0ZXRlY2hub2xvZ3kvam9obi5iaW5nY29AZWxldmF0ZS5jb20uYXUvNzZlNGIxYjQxODg4MmY2ZWUxNzQxYTIzZjJiNTIyOGQvMTY2NDk3NTg2Ny45MQ==#key=ef4f9841b681443d6e6a86963effe5c1>  FAQ<https://www.elevate.com.au/banner-faq/>  Protection by ELEVATE<https://www.elevate.com.au/>

Hi,

It's important to know what is the current version you are using and what is the version you want to update to. I would suggest using 3.22 LTR.

Nevertheless, both 3.22 LTR and 3.26 versions should be retro compatible with most 3.x versions.

Best regards

Alexandre Neto
User support
www.qcooperative.net<https://shared.outlook.inky.com/link?domain=www.qcooperative.net&t=h.eJxFjUEOgyAUBa9iWDcQKAK68iqAX7FFvqWoaZrevSFp0u2bl5k32XMkfUNCKVvP2Hme9OERN8i2LAfQBIVcGnKvH4hw2AIFfEgYcX6xG4ZE3ZJmj8OPUo8rtTvTCqTjTnJjjJgUANeSW3GdhGuFMCPjSslOt0Zp2vHagNp4QgqYaxaHebVLrL5Kx0r_y-cLUjQ6qQ.MEYCIQCILi6LZhpsrz7xvnrYqTRnJnjghYl8KA9kOlaKV6HvfQIhAPBvEeWhxmLXPjfPf-uLJ7xbv738D9pSThEWJyqnJyQl>

A quarta, 5/10/2022, 06:22, John Bingco via QGIS-Developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>> escreveu:
Hi Team,

I work for an IT service provider in Australia and we are working with a client that uses QGIS.

The client is requesting for their QGIS to be updated/upgraded to the latest version. Just wanted to check if there is anything we need to take note when doing the update/upgrade. User is worried about compatibility issues.

If there is none, are we good to just directly install the latest version on server for all users to have updated version of the software?

Appreciate your response on this. ?

Regards,
John
???
[cid:image650414.gif at 1C4D4FA4.7AD52164]
John Bingco
TECHNICIAN
ELEVATE TECHNOLOGY
Mackay, Brisbane, & Newcastle
P:
1300 463 538
W:
www.elevate.com.au<https://www.elevate.com.au/>
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://shared.outlook.inky.com/link?domain=lists.osgeo.org&t=h.eJxFjkEOwiAURK9iWCsEbIF21avQ9hdQyq9Amxjj3Q3GxO28zLx5kT0F0p-IK2XLPWPB55IpZgtIMVm2Gh9WE7-5jwuyh_X5MsMBATdI5Hwi99qHAIcpUGByEQPaJ7uhi3T00U44_CidcKVmZ0pCM_Kx4VprsUgArhpuxHURYyuEnhmXsulUq6WiHa8OqI4M0WGiEQoOth6re5XOlf6T9wei1UVt.MEQCIG6AOsXFgdsbShR6TeX69RfxTK4WNb2BnG8NKhtPCFwcAiAttFg4f2Rmp-OrAM0w-zh-lkR57lYtTfEO-PfDYh4eBw>
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://shared.outlook.inky.com/link?domain=lists.osgeo.org&t=h.eJxFjkEOwiAURK9iWCsEbIF21avQ9hdQyq9Amxjj3Q3GxO28zLx5kT0F0p-IK2XLPWPB55IpZgtIMVm2Gh9WE7-5jwuyh_X5MsMBATdI5Hwi99qHAIcpUGByEQPaJ7uhi3T00U44_CidcKVmZ0pCM_Kx4VprsUgArhpuxHURYyuEnhmXsulUq6WiHa8OqI4M0WGiEQoOth6re5XOlf6T9wei1UVt.MEQCIG6AOsXFgdsbShR6TeX69RfxTK4WNb2BnG8NKhtPCFwcAiAttFg4f2Rmp-OrAM0w-zh-lkR57lYtTfEO-PfDYh4eBw>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/b3a690de/attachment-0001.htm>

From john.bingco at elevate.com.au  Wed Oct  5 19:37:14 2022
From: john.bingco at elevate.com.au (John Bingco)
Date: Thu, 6 Oct 2022 02:37:14 +0000
Subject: [QGIS-Developer] QGIS Upgrade/Update Inquiry
In-Reply-To: <CA+H0G_FiDbVpFSD-9jz2wtJPrSimALtK25MufaWpPg8Va_g4nw@mail.gmail.com>
References: <SY4PR01MB693253E827EB3A1BB5EA78D8C65D9@SY4PR01MB6932.ausprd01.prod.outlook.com>
 <CA+H0G_FiDbVpFSD-9jz2wtJPrSimALtK25MufaWpPg8Va_g4nw@mail.gmail.com>
Message-ID: <SY4PR01MB6932F2C76AE09C52010EE518C65C9@SY4PR01MB6932.ausprd01.prod.outlook.com>

Hey Alex,

Sorry I forgot to respond to the first part of your email.

The client currently uses version 3.16, are we good to install 3.26 or should we go to 3.22 LTR?

Regards,
John

From: Alexandre Neto <senhor.neto at gmail.com>
Sent: Wednesday, 5 October 2022 11:17 PM
To: John Bingco <john.bingco at elevate.com.au>
Cc: qgis-dev <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] QGIS Upgrade/Update Inquiry

Hi, It's important to know what is the current version you are using and what is the version you want to update to. I would suggest using 3.22 LTR. Nevertheless, both 3.22 LTR and 3.26 versions should
External (senhor.neto at gmail.com<mailto:senhor.neto at gmail.com>)
  Report This Email<https://protection.inkyphishfence.com/report?id=ZWxldmF0ZXRlY2hub2xvZ3kvam9obi5iaW5nY29AZWxldmF0ZS5jb20uYXUvNzZlNGIxYjQxODg4MmY2ZWUxNzQxYTIzZjJiNTIyOGQvMTY2NDk3NTg2Ny45MQ==#key=ef4f9841b681443d6e6a86963effe5c1>  FAQ<https://www.elevate.com.au/banner-faq/>  Protection by ELEVATE<https://www.elevate.com.au/>

Hi,

It's important to know what is the current version you are using and what is the version you want to update to. I would suggest using 3.22 LTR.

Nevertheless, both 3.22 LTR and 3.26 versions should be retro compatible with most 3.x versions.

Best regards

Alexandre Neto
User support
www.qcooperative.net<https://shared.outlook.inky.com/link?domain=www.qcooperative.net&t=h.eJxFjUEOgyAUBa9iWDcQKAK68iqAX7FFvqWoaZrevSFp0u2bl5k32XMkfUNCKVvP2Hme9OERN8i2LAfQBIVcGnKvH4hw2AIFfEgYcX6xG4ZE3ZJmj8OPUo8rtTvTCqTjTnJjjJgUANeSW3GdhGuFMCPjSslOt0Zp2vHagNp4QgqYaxaHebVLrL5Kx0r_y-cLUjQ6qQ.MEYCIQCILi6LZhpsrz7xvnrYqTRnJnjghYl8KA9kOlaKV6HvfQIhAPBvEeWhxmLXPjfPf-uLJ7xbv738D9pSThEWJyqnJyQl>

A quarta, 5/10/2022, 06:22, John Bingco via QGIS-Developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>> escreveu:
Hi Team,

I work for an IT service provider in Australia and we are working with a client that uses QGIS.

The client is requesting for their QGIS to be updated/upgraded to the latest version. Just wanted to check if there is anything we need to take note when doing the update/upgrade. User is worried about compatibility issues.

If there is none, are we good to just directly install the latest version on server for all users to have updated version of the software?

Appreciate your response on this. ?

Regards,
John
???
[cid:image650414.gif at 1C4D4FA4.7AD52164]
John Bingco
TECHNICIAN
ELEVATE TECHNOLOGY
Mackay, Brisbane, & Newcastle
P:
1300 463 538
W:
www.elevate.com.au<https://www.elevate.com.au/>
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://shared.outlook.inky.com/link?domain=lists.osgeo.org&t=h.eJxFjkEOwiAURK9iWCsEbIF21avQ9hdQyq9Amxjj3Q3GxO28zLx5kT0F0p-IK2XLPWPB55IpZgtIMVm2Gh9WE7-5jwuyh_X5MsMBATdI5Hwi99qHAIcpUGByEQPaJ7uhi3T00U44_CidcKVmZ0pCM_Kx4VprsUgArhpuxHURYyuEnhmXsulUq6WiHa8OqI4M0WGiEQoOth6re5XOlf6T9wei1UVt.MEQCIG6AOsXFgdsbShR6TeX69RfxTK4WNb2BnG8NKhtPCFwcAiAttFg4f2Rmp-OrAM0w-zh-lkR57lYtTfEO-PfDYh4eBw>
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://shared.outlook.inky.com/link?domain=lists.osgeo.org&t=h.eJxFjkEOwiAURK9iWCsEbIF21avQ9hdQyq9Amxjj3Q3GxO28zLx5kT0F0p-IK2XLPWPB55IpZgtIMVm2Gh9WE7-5jwuyh_X5MsMBATdI5Hwi99qHAIcpUGByEQPaJ7uhi3T00U44_CidcKVmZ0pCM_Kx4VprsUgArhpuxHURYyuEnhmXsulUq6WiHa8OqI4M0WGiEQoOth6re5XOlf6T9wei1UVt.MEQCIG6AOsXFgdsbShR6TeX69RfxTK4WNb2BnG8NKhtPCFwcAiAttFg4f2Rmp-OrAM0w-zh-lkR57lYtTfEO-PfDYh4eBw>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/f35ea678/attachment-0001.htm>

From a.neumann at carto.net  Wed Oct  5 22:42:30 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 06 Oct 2022 07:42:30 +0200
Subject: [QGIS-Developer] QGIS Upgrade/Update Inquiry
In-Reply-To: <SY4PR01MB6932F2C76AE09C52010EE518C65C9@SY4PR01MB6932.ausprd01.prod.outlook.com>
References: <SY4PR01MB693253E827EB3A1BB5EA78D8C65D9@SY4PR01MB6932.ausprd01.prod.outlook.com>
 <CA+H0G_FiDbVpFSD-9jz2wtJPrSimALtK25MufaWpPg8Va_g4nw@mail.gmail.com>
 <SY4PR01MB6932F2C76AE09C52010EE518C65C9@SY4PR01MB6932.ausprd01.prod.outlook.com>
Message-ID: <950131fe8c7a184030655f7d4b592cdd@carto.net>

Hi John,

Hi John,

For professional use we normally recommend the LTR releases (once they 
become LTR after 4 months): 3.22 is now LTR, 3.28 will be LTR in 
february next year. Every third release (3.22, 3.28, 3.34) will become 
LTR 4 months after the initial release.

See also 
https://www.qgis.org/en/site/getinvolved/development/roadmap.html#release-schedule 
--> look for the "Long-Term Repo" column.

.0 and partially also .1 releases are not recommended for production use 
unless you are willing to take risks and/or want to help testing.

Helping testing is always appreciated. Ideally testing would be done 
already with nightly builds before the releases.

Greetings,

Andreas

On 2022-10-06 04:37, John Bingco via QGIS-Developer wrote:

> Hey Alex,
> 
> Sorry I forgot to respond to the first part of your email.
> 
> The client currently uses version 3.16, are we good to install 3.26 or 
> should we go to 3.22 LTR?
> 
> Regards,
> 
> John
> 
> From: Alexandre Neto <senhor.neto at gmail.com>
> Sent: Wednesday, 5 October 2022 11:17 PM
> To: John Bingco <john.bingco at elevate.com.au>
> Cc: qgis-dev <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] QGIS Upgrade/Update Inquiry
> 
> Hi,
> 
> It's important to know what is the current version you are using and 
> what is the version you want to update to. I would suggest using 3.22 
> LTR.
> 
> Nevertheless, both 3.22 LTR and 3.26 versions should be retro 
> compatible with most 3.x versions.
> 
> Best regards
> 
> Alexandre Neto
> 
> User support
> 
> www.qcooperative.net [3]
> 
> A quarta, 5/10/2022, 06:22, John Bingco via QGIS-Developer 
> <qgis-developer at lists.osgeo.org> escreveu:
> 
>> Hi Team,
>> 
>> I work for an IT service provider in Australia and we are working with 
>> a client that uses QGIS.
>> 
>> The client is requesting for their QGIS to be updated/upgraded to the 
>> latest version. Just wanted to check if there is anything we need to 
>> take note when doing the update/upgrade. User is worried about 
>> compatibility issues.
>> 
>> If there is none, are we good to just directly install the latest 
>> version on server for all users to have updated version of the 
>> software?
>> 
>> Appreciate your response on this. ?
>> 
>> Regards,
>> 
>> John
>> 
>> ???
>> 
>> John Bingco
>> 
>> TECHNICIAN
>> 
>> _ELEVATE TECHNOLOGY_
>> 
>> Mackay, Brisbane, & Newcastle
>> 
>> P:
>> 
>> 1300 463 538
>> 
>> W:
>> 
>> www.elevate.com.au [1]
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
>> [2]
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



Links:
------
[1] https://www.elevate.com.au/
[2] https://lists.osgeo.org/mailman/listinfo/qgis-developer
[3] http://www.qcooperative.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/16284028/attachment.htm>

From luca.manganelli at comune.trento.it  Thu Oct  6 02:09:57 2022
From: luca.manganelli at comune.trento.it (Luca Manganelli)
Date: Thu, 6 Oct 2022 11:09:57 +0200
Subject: [QGIS-Developer] PyQgis Standalone app from 3.4 to 3.16
In-Reply-To: <PR1P264MB2046927EFAD7A8EEF988C9C39C5B9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
References: <PR1P264MB2046927EFAD7A8EEF988C9C39C5B9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
Message-ID: <CAGKduJ0zGetTmj8ajt_1E3uk4n8M1WOhbCfNjbbiToqXk4+3iA@mail.gmail.com>

in the bin folder of the QGIS there is a python bat file. You could use it
to run your python app.

-- 





Comune di Trento?

via Belenzani, 19 - 38122 Trento | C.F e P. IVA: 
00355870221

tel. +39 0461.884111 | www.comune.trento.it 
<http://www.comune.trento.it>?


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/06b1e3df/attachment.htm>

From luca.manganelli at comune.trento.it  Thu Oct  6 02:10:44 2022
From: luca.manganelli at comune.trento.it (Luca Manganelli)
Date: Thu, 6 Oct 2022 11:10:44 +0200
Subject: [QGIS-Developer] PyQgis Standalone app from 3.4 to 3.16
In-Reply-To: <CAGKduJ0zGetTmj8ajt_1E3uk4n8M1WOhbCfNjbbiToqXk4+3iA@mail.gmail.com>
References: <PR1P264MB2046927EFAD7A8EEF988C9C39C5B9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
 <CAGKduJ0zGetTmj8ajt_1E3uk4n8M1WOhbCfNjbbiToqXk4+3iA@mail.gmail.com>
Message-ID: <CAGKduJ0Tcma-4J-LzuOQ_aoesTBDMrNbnA5Goz2ff57dGJeh5A@mail.gmail.com>

QGIS 3.16 is now unsupported. I suggest you to try the new QGIS 3.22 LTR.

-- 





Comune di Trento?

via Belenzani, 19 - 38122 Trento | C.F e P. IVA: 
00355870221

tel. +39 0461.884111 | www.comune.trento.it 
<http://www.comune.trento.it>?


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/a1656b80/attachment-0001.htm>

From fpuga at icarto.es  Thu Oct  6 02:13:03 2022
From: fpuga at icarto.es (Francisco Puga)
Date: Thu, 6 Oct 2022 11:13:03 +0200
Subject: [QGIS-Developer] Max connection PostgreSQL limit
Message-ID: <CAHU37Tti1n-HKZi37pyEdym_HTQ+zK+oe6UvYordOii9opwqJg@mail.gmail.com>

Hi,

I'm hitting the default (100) `max_connection` PostgreSQL limit with ~4
users using a QGIS project with ~25 layers/tables. I know that I can raise
the limit, but I'm trying to understand how QGIS handles database
connections.

I didn't find so much information about it:


   1.
   https://lists.osgeo.org/pipermail/qgis-developer/2008-March/003446.html.
   Old post against, something like, an internal connection pool in QGIS
   2. https://github.com/qgis/QGIS/issues/30373. Feature request to share a
   single connection between different layers
   3. https://stackoverflow.com/a/71557537/930271 an ?explanation? of how
   connection works in QGIS. I copy&paste here because this post may be hide
   for some users:

for what I know every single layer creates at least one, possibly two,
> connections (one is read only the other one is read-write ), these two
> connections have the same lifetime of the layer, the read-write connection
> is created on-demand if a read-write operation is requested
> (editing/adding/deleting features).

Multiple layers using the same DB connection will not share these two
> connections.

In addition to the two connections above, temporary connections are created
> from a connection pool when the features are fetched from the layer(s),
> these connections are pooled (shared) and released when the fetching is
> finished, there is also a timeout to close them after 60 seconds idle.

It would be useful to check PG logs and see in which state these
> connections are, from my tests, the read-only connection is kept in
> ClientRead | idle.


So,

   - Can someone confirm the previous quote, explain how QGIS handles
   connections, or point me to relevant code or doc?
   - An invisible/unchecked layer consumes a connection?
   - Does make sense a feature request about this topic. Maybe
      - Reuse connection
      - a kind of internal pooling
      - a configurable user limit, so next database access will wait for
      other connections to close to start operations
      - ...

Many thanks.

-- 
Francisco Puga
iCarto | Innovaci?n, Cooperaci?n, Cartograf?a y Territorio S.L.
https://icarto.es
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/7cfc0bed/attachment.htm>

From matthias at opengis.ch  Thu Oct  6 03:16:36 2022
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 6 Oct 2022 12:16:36 +0200
Subject: [QGIS-Developer] Max connection PostgreSQL limit
In-Reply-To: <CAHU37Tti1n-HKZi37pyEdym_HTQ+zK+oe6UvYordOii9opwqJg@mail.gmail.com>
References: <CAHU37Tti1n-HKZi37pyEdym_HTQ+zK+oe6UvYordOii9opwqJg@mail.gmail.com>
Message-ID: <CAC7zN97NsGF_kVMchF2TKRA5RDqCoztiMK5q30sqNtXw3rEKzw@mail.gmail.com>

Hi Francisco,

QGIS does internally have connection pooling and uses up to 8 connections
per database.
It detects common database connections based on the URI, where there may be
different parameters used for layers even if they come from the same
database (e.g. SSL parameters, authentication, ...). That could be an
explanation for multiplication of connections.
You can inspect those with:

for _, l in QgsProject.instance().mapLayers().items():
    print(l.dataProvider().uri())

Cheers
Matthias


On Thu, Oct 6, 2022 at 11:13 AM Francisco Puga via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi,
>
> I'm hitting the default (100) `max_connection` PostgreSQL limit with ~4
> users using a QGIS project with ~25 layers/tables. I know that I can raise
> the limit, but I'm trying to understand how QGIS handles database
> connections.
>
> I didn't find so much information about it:
>
>
>    1.
>    https://lists.osgeo.org/pipermail/qgis-developer/2008-March/003446.html.
>    Old post against, something like, an internal connection pool in QGIS
>    2. https://github.com/qgis/QGIS/issues/30373. Feature request to share
>    a single connection between different layers
>    3. https://stackoverflow.com/a/71557537/930271 an ?explanation? of how
>    connection works in QGIS. I copy&paste here because this post may be hide
>    for some users:
>
> for what I know every single layer creates at least one, possibly two,
>> connections (one is read only the other one is read-write ), these two
>> connections have the same lifetime of the layer, the read-write connection
>> is created on-demand if a read-write operation is requested
>> (editing/adding/deleting features).
>
> Multiple layers using the same DB connection will not share these two
>> connections.
>
> In addition to the two connections above, temporary connections are
>> created from a connection pool when the features are fetched from the
>> layer(s), these connections are pooled (shared) and released when the
>> fetching is finished, there is also a timeout to close them after 60
>> seconds idle.
>
> It would be useful to check PG logs and see in which state these
>> connections are, from my tests, the read-only connection is kept in
>> ClientRead | idle.
>
>
> So,
>
>    - Can someone confirm the previous quote, explain how QGIS handles
>    connections, or point me to relevant code or doc?
>    - An invisible/unchecked layer consumes a connection?
>    - Does make sense a feature request about this topic. Maybe
>       - Reuse connection
>       - a kind of internal pooling
>       - a configurable user limit, so next database access will wait for
>       other connections to close to start operations
>       - ...
>
> Many thanks.
>
> --
> Francisco Puga
> iCarto | Innovaci?n, Cooperaci?n, Cartograf?a y Territorio S.L.
> https://icarto.es
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
 <https://qfield.org/get/>

QFIELD 2.0 IS HERE! - Hold the power of QGIS in 
your hand - learn more 
<https://www.opengis.ch/2022/04/05/qfield-2-0-is-here/> - get it now 
<https://qfield.org/get>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/03d0ce83/attachment.htm>

From strk at kbt.io  Thu Oct  6 03:44:07 2022
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 6 Oct 2022 12:44:07 +0200
Subject: [QGIS-Developer] Tests & Merge Request
In-Reply-To: <CAES-DZTUdQd+AGJyFkDETi7AhkwyKg8HGLNi1JsM77Gzhhs3Dg@mail.gmail.com>
References: <0c7dc364-e066-acf9-c25a-a1288e7e9d33@nubo.coop>
 <PA4P190MB1166EFE3CA94CF71B725A9338F459@PA4P190MB1166.EURP190.PROD.OUTLOOK.COM>
 <CAES-DZTUdQd+AGJyFkDETi7AhkwyKg8HGLNi1JsM77Gzhhs3Dg@mail.gmail.com>
Message-ID: <20221006104407.a3y2cqm6zyv5ppff@c19>

On Sun, Sep 11, 2022 at 02:58:23PM +0100, Tim Sutton via QGIS-Developer wrote:
> I believe this is normal.

I believe this is NOT normal. It may be "expected" (ie: we all know
about this problem), but that doesn't make it normal.

Normal is for a testing framework to actually only fail if a bug is
introduced by a modification and succeed otherwise.

I would incourage people who get failures when running tests to file
tickets, as a very first step to reach that state.

> On Sun, Sep 11, 2022 at 11:17 AM Nicolas Godet via QGIS-Developer <
> qgis-developer at lists.osgeo.org> wrote:
> 
> > Same ? issue ? here where I have a lot of failed test locally.

--strk;

From anne.b.nilsen at nibio.no  Thu Oct  6 06:53:42 2022
From: anne.b.nilsen at nibio.no (Anne B. Nilsen)
Date: Thu, 6 Oct 2022 13:53:42 +0000
Subject: [QGIS-Developer] Can't choose all options in Value Relation widget?
Message-ID: <AM7P189MB0900433D877BC878B9706D6FC35C9@AM7P189MB0900.EURP189.PROD.OUTLOOK.COM>

Hi,

the Value Relation widget has 4 checkboxes.
Since it's checkboxes I assume I may check/uncheck none, some or all of them.
However, not all combinations seem to work?
E.g. you cannot choose both "Allow multiple selections" and "Use completer" - the completer never appears as it does when multiple selections is unchecked.
Is this a bug?

See https://github.com/qgis/QGIS/issues/50371 for more explanation/images.

Best regards
Anne Nilsen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221006/22e4cb29/attachment-0001.htm>

From paul.wittle at dorsetcouncil.gov.uk  Fri Oct  7 05:30:45 2022
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Fri, 7 Oct 2022 12:30:45 +0000
Subject: [QGIS-Developer] How to make custom toolbar actions work with
 Interface Customization dialog
Message-ID: <LO2P265MB323178079E4EF5E5DC497D2EC15F9@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>

Hi,

I?ve added a number of toolbars to QGIS in a custom python plugin using the basic templates and adding a QAction element. My buttons appear and they work but if I try to switch off a button using the Interface Customiszation options it doesn?t work because the toolbar can be toggled but not the actual buttons within it.

Can anyone point me towards the right setting to configure a button so it can be managed in the Interface Customization dialog?

The buttons do appear individually but there is not name in the column just the icon and unchecking them has no impact on the *.ini file saved. I will continue to search the documentation online for an answer but struggling to work out which property to investigate so thought I?d see if anyone else already knows the answer ?

Thank you,
Paul
This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221007/901a7fc8/attachment.htm>

From paul.wittle at dorsetcouncil.gov.uk  Fri Oct  7 06:04:42 2022
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Fri, 7 Oct 2022 13:04:42 +0000
Subject: [QGIS-Developer] How to make custom toolbar actions work with
 Interface Customization dialog
In-Reply-To: <LO2P265MB323178079E4EF5E5DC497D2EC15F9@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB323178079E4EF5E5DC497D2EC15F9@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <LO2P265MB3231710BF356BFC8F50CE79AC15F9@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>

Hi,

Answering my own question I think. I added .setObjectName() on my QAction object and now I get an actual name in the name column. It seems to be remembering my selections now in the Interface Customization so hopefully this reply will help others.

Thanks,
Paul

From: Paul Wittle
Sent: 07 October 2022 13:31
To: qgis-developer at lists.osgeo.org
Subject: How to make custom toolbar actions work with Interface Customization dialog

Hi,

I?ve added a number of toolbars to QGIS in a custom python plugin using the basic templates and adding a QAction element. My buttons appear and they work but if I try to switch off a button using the Interface Customiszation options it doesn?t work because the toolbar can be toggled but not the actual buttons within it.

Can anyone point me towards the right setting to configure a button so it can be managed in the Interface Customization dialog?

The buttons do appear individually but there is not name in the column just the icon and unchecking them has no impact on the *.ini file saved. I will continue to search the documentation online for an answer but struggling to work out which property to investigate so thought I?d see if anyone else already knows the answer ?

Thank you,
Paul
This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221007/0809ba54/attachment-0001.htm>

From fpuga at icarto.es  Fri Oct  7 09:11:31 2022
From: fpuga at icarto.es (Francisco Puga)
Date: Fri, 7 Oct 2022 18:11:31 +0200
Subject: [QGIS-Developer] Max connection PostgreSQL limit
In-Reply-To: <CAC7zN97NsGF_kVMchF2TKRA5RDqCoztiMK5q30sqNtXw3rEKzw@mail.gmail.com>
References: <CAHU37Tti1n-HKZi37pyEdym_HTQ+zK+oe6UvYordOii9opwqJg@mail.gmail.com>
 <CAC7zN97NsGF_kVMchF2TKRA5RDqCoztiMK5q30sqNtXw3rEKzw@mail.gmail.com>
Message-ID: <CAHU37TsnirDnsNRieOp-Skm22DPnfvWmBh2buS8y8kieAxYrYg@mail.gmail.com>

Thanks a lot Mathias,

It helps a lot. I didn't find anything weird about this, and it seems to
work correctly.

After a bit of research I think it is a database/networking issue. The
database is in a cloud provider and it seems that when the connection has
no activity for some time, it becomes unresponsive, but remains idle in
postgresql.

I'm playing with tcp_keepalives_* postgres settings, as the database is <14
and idle_session_timeout is not present. I'm monitoring it to see if it
works.

Again, thank you.



El jue, 6 oct 2022 a las 12:16, Matthias Kuhn (<matthias at opengis.ch>)
escribi?:

> Hi Francisco,
>
> QGIS does internally have connection pooling and uses up to 8 connections
> per database.
> It detects common database connections based on the URI, where there may
> be different parameters used for layers even if they come from the same
> database (e.g. SSL parameters, authentication, ...). That could be an
> explanation for multiplication of connections.
> You can inspect those with:
>
> for _, l in QgsProject.instance().mapLayers().items():
>     print(l.dataProvider().uri())
>
> Cheers
> Matthias
>
>
> On Thu, Oct 6, 2022 at 11:13 AM Francisco Puga via QGIS-Developer <
> qgis-developer at lists.osgeo.org> wrote:
>
>> Hi,
>>
>> I'm hitting the default (100) `max_connection` PostgreSQL limit with ~4
>> users using a QGIS project with ~25 layers/tables. I know that I can raise
>> the limit, but I'm trying to understand how QGIS handles database
>> connections.
>>
>> I didn't find so much information about it:
>>
>>
>>    1.
>>    https://lists.osgeo.org/pipermail/qgis-developer/2008-March/003446.html.
>>    Old post against, something like, an internal connection pool in QGIS
>>    2. https://github.com/qgis/QGIS/issues/30373. Feature request to
>>    share a single connection between different layers
>>    3. https://stackoverflow.com/a/71557537/930271 an ?explanation? of
>>    how connection works in QGIS. I copy&paste here because this post may be
>>    hide for some users:
>>
>> for what I know every single layer creates at least one, possibly two,
>>> connections (one is read only the other one is read-write ), these two
>>> connections have the same lifetime of the layer, the read-write connection
>>> is created on-demand if a read-write operation is requested
>>> (editing/adding/deleting features).
>>
>> Multiple layers using the same DB connection will not share these two
>>> connections.
>>
>> In addition to the two connections above, temporary connections are
>>> created from a connection pool when the features are fetched from the
>>> layer(s), these connections are pooled (shared) and released when the
>>> fetching is finished, there is also a timeout to close them after 60
>>> seconds idle.
>>
>> It would be useful to check PG logs and see in which state these
>>> connections are, from my tests, the read-only connection is kept in
>>> ClientRead | idle.
>>
>>
>> So,
>>
>>    - Can someone confirm the previous quote, explain how QGIS handles
>>    connections, or point me to relevant code or doc?
>>    - An invisible/unchecked layer consumes a connection?
>>    - Does make sense a feature request about this topic. Maybe
>>       - Reuse connection
>>       - a kind of internal pooling
>>       - a configurable user limit, so next database access will wait for
>>       other connections to close to start operations
>>       - ...
>>
>> Many thanks.
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221007/db539979/attachment.htm>

From asimrp at lavabit.com  Fri Oct  7 14:20:33 2022
From: asimrp at lavabit.com (Asim)
Date: Fri, 7 Oct 2022 23:20:33 +0200
Subject: [QGIS-Developer] Max connection PostgreSQL limit
In-Reply-To: <CAHU37TsnirDnsNRieOp-Skm22DPnfvWmBh2buS8y8kieAxYrYg@mail.gmail.com>
References: <CAHU37Tti1n-HKZi37pyEdym_HTQ+zK+oe6UvYordOii9opwqJg@mail.gmail.com>
 <CAC7zN97NsGF_kVMchF2TKRA5RDqCoztiMK5q30sqNtXw3rEKzw@mail.gmail.com>
 <CAHU37TsnirDnsNRieOp-Skm22DPnfvWmBh2buS8y8kieAxYrYg@mail.gmail.com>
Message-ID: <492c9ac0-0539-8458-e3eb-7d9d0aed614f@lavabit.com>


On 10/7/22 6:11 PM, Francisco Puga via QGIS-Developer wrote:
> After a bit of research I think it is a database/networking issue. The 
> database is in a cloud provider and it seems that when the connection 
> has no activity?for some time, it becomes unresponsive, but remains 
> idle in postgresql.

If the workload is such that the connections idle with an in-progress 
transaction, the GUC idle_in_transaction_session_timeout may be helpful.

Asim



From senhor.neto at gmail.com  Wed Oct  5 06:17:26 2022
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 5 Oct 2022 14:17:26 +0100
Subject: [QGIS-Developer] QGIS Upgrade/Update Inquiry
In-Reply-To: <SY4PR01MB693253E827EB3A1BB5EA78D8C65D9@SY4PR01MB6932.ausprd01.prod.outlook.com>
References: <SY4PR01MB693253E827EB3A1BB5EA78D8C65D9@SY4PR01MB6932.ausprd01.prod.outlook.com>
Message-ID: <CA+H0G_FiDbVpFSD-9jz2wtJPrSimALtK25MufaWpPg8Va_g4nw@mail.gmail.com>

Hi,

It's important to know what is the current version you are using and what
is the version you want to update to. I would suggest using 3.22 LTR.

Nevertheless, both 3.22 LTR and 3.26 versions should be retro compatible
with most 3.x versions.

Best regards

Alexandre Neto
User support
www.qcooperative.net

A quarta, 5/10/2022, 06:22, John Bingco via QGIS-Developer <
qgis-developer at lists.osgeo.org> escreveu:

> Hi Team,
>
>
>
> I work for an IT service provider in Australia and we are working with a
> client that uses QGIS.
>
>
>
> The client is requesting for their QGIS to be updated/upgraded to the
> latest version. Just wanted to check if there is anything we need to take
> note when doing the update/upgrade. User is worried about compatibility
> issues.
>
>
>
> If there is none, are we good to just directly install the latest version
> on server for all users to have updated version of the software?
>
>
>
> Appreciate your response on this. ?
>
>
> Regards,
>
> John
> ???
> John Bingco  TECHNICIAN
> ELEVATE TECHNOLOGY
> Mackay, Brisbane, & Newcastle
> P:  1300 463 538
> W:  *www.elevate.com.au* <https://www.elevate.com.au/>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221005/954f211e/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image650414.gif
Type: image/gif
Size: 94662 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221005/954f211e/attachment-0002.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image650414.gif
Type: image/gif
Size: 94662 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221005/954f211e/attachment-0003.gif>

From saber.razmjooei at lutraconsulting.co.uk  Mon Oct 10 02:07:34 2022
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Mon, 10 Oct 2022 11:07:34 +0200
Subject: [QGIS-Developer] Point cloud processing,
 elevation profile & 3D maps enhancements crowdfunding
Message-ID: <CAH=WbRD3TvBDSdMdXomfC2KwptTBgd4jke8feJNBtg--D-uwow@mail.gmail.com>

Dear QGIS community,

We have only 2 weeks left on our crowdfunding campaign to bring lots of
exciting new features to QGIS:
https://www.lutraconsulting.co.uk/crowdfunding/pointcloud-processing-qgis/

So far, we have only managed to raise 25% of the target funds. If you work
within a large organization who benefits from using free and open source
QGIS, it is time to ask them to contribute, because free software costs
money to develop and maintain. Without your support, it will not be
possible to add features like these.

Kind regards
Saber

-- 
Saber Razmjooei
www.lutraconsulting.co.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221010/8e498d4b/attachment.htm>

From senhor.neto at gmail.com  Mon Oct 10 08:11:02 2022
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 10 Oct 2022 16:11:02 +0100
Subject: [QGIS-Developer] Import DWG\DXF use curves option
Message-ID: <CA+H0G_GTkPRWSyB3YmAybAjZszp4LD_+Ef_41CKNr+OPKnuHTw@mail.gmail.com>

Hi,

Not sure of a feature or a bug, but shouldn't disabling the "use curves" in
the Import DWG\DXF tool output non-compound curve geometries?

I am getting curves even with the option turned of.

Should I open a ticket?

Thanks,

Alexandre Neto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221010/accd99d7/attachment.htm>

From rdmailings at duif.net  Mon Oct 10 08:29:03 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 10 Oct 2022 17:29:03 +0200
Subject: [QGIS-Developer] Import DWG\DXF use curves option
In-Reply-To: <CA+H0G_GTkPRWSyB3YmAybAjZszp4LD_+Ef_41CKNr+OPKnuHTw@mail.gmail.com>
References: <CA+H0G_GTkPRWSyB3YmAybAjZszp4LD_+Ef_41CKNr+OPKnuHTw@mail.gmail.com>
Message-ID: <9a67c136-1acb-7e47-f04d-e76186751dcc@duif.net>

On 10/10/22 17:11, Alexandre Neto via QGIS-Developer wrote:
> Hi,
> 
> Not sure of a feature or a bug, but shouldn't disabling the "use curves" in the Import DWG\DXF tool output non-compound curve geometries?
> 
> I am getting curves even with the option turned of.

Mmm, seeing this message... could the following be maybe related?

Recently I created a Polygon with a hole, and copied one feature (WKT output), and also was presented with a 'CompoundCurve' part in it (while all was square)...

MultiPolygon (((6.13102839454553816 52.75093214925507823, 6.130964672425808 52.74717640996099277, 6.14539911649133597 52.7466899769035038, 6.14536915982601872 52.75123707754761426, 6.13102839454553816 52.75093214925507823), CompoundCurve ((6.13427151349723498 52.75005518140639538, 6.13467440942566444 52.7482075319318966, 6.14346286447305268 52.7477566482503093, 6.14241109067726665 52.74974024139419271, 6.13427151349723498 52.75005518140639538))))

For reference: I created a quick MultiPolygon type Memory layer, as 2 rectangles(!)

This is above feature as GeoJson:

{"features":[{"bbox":[6.130965,52.74669,6.145399,52.751237],"geometry":{"coordinates":[[[[6.131028,52.750932],[6.130965,52.747176],[6.145399,52.74669],[6.145369,52.751237],[6.131028,52.750932]],[[6.134272,52.750055],[6.134674,52.748208],[6.143463,52.747757],[6.142411,52.74974],[6.134272,52.750055]]]],"type":"MultiPolygon"},"id":-9,"properties":null,"type":"Feature"}],"type":"FeatureCollection"}

Could this be related?

Regards,

Richard Duivenvoorde

From senhor.neto at gmail.com  Mon Oct 10 08:37:07 2022
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 10 Oct 2022 16:37:07 +0100
Subject: [QGIS-Developer] Import DWG\DXF use curves option
In-Reply-To: <9a67c136-1acb-7e47-f04d-e76186751dcc@duif.net>
References: <CA+H0G_GTkPRWSyB3YmAybAjZszp4LD_+Ef_41CKNr+OPKnuHTw@mail.gmail.com>
 <9a67c136-1acb-7e47-f04d-e76186751dcc@duif.net>
Message-ID: <CA+H0G_E6Nw+Mon+NeThU-6ZYjKLjBir8f0ZY1hro-XhmB6Magw@mail.gmail.com>

Yes, I believe so.

My linestrings are also simple, now rounded corners, but it still promotes
it to compoundcurves, which is them harder to import to PostGIS.

I have ended up using ogr2ogr with the option

-nlt CONVERT_TO_LINEAR

A segunda, 10/10/2022, 16:29, Richard Duivenvoorde <rdmailings at duif.net>
escreveu:

> On 10/10/22 17:11, Alexandre Neto via QGIS-Developer wrote:
> > Hi,
> >
> > Not sure of a feature or a bug, but shouldn't disabling the "use curves"
> in the Import DWG\DXF tool output non-compound curve geometries?
> >
> > I am getting curves even with the option turned of.
>
> Mmm, seeing this message... could the following be maybe related?
>
> Recently I created a Polygon with a hole, and copied one feature (WKT
> output), and also was presented with a 'CompoundCurve' part in it (while
> all was square)...
>
> MultiPolygon (((6.13102839454553816 52.75093214925507823,
> 6.130964672425808 52.74717640996099277, 6.14539911649133597
> 52.7466899769035038, 6.14536915982601872 52.75123707754761426,
> 6.13102839454553816 52.75093214925507823), CompoundCurve
> ((6.13427151349723498 52.75005518140639538, 6.13467440942566444
> 52.7482075319318966, 6.14346286447305268 52.7477566482503093,
> 6.14241109067726665 52.74974024139419271, 6.13427151349723498
> 52.75005518140639538))))
>
> For reference: I created a quick MultiPolygon type Memory layer, as 2
> rectangles(!)
>
> This is above feature as GeoJson:
>
>
> {"features":[{"bbox":[6.130965,52.74669,6.145399,52.751237],"geometry":{"coordinates":[[[[6.131028,52.750932],[6.130965,52.747176],[6.145399,52.74669],[6.145369,52.751237],[6.131028,52.750932]],[[6.134272,52.750055],[6.134674,52.748208],[6.143463,52.747757],[6.142411,52.74974],[6.134272,52.750055]]]],"type":"MultiPolygon"},"id":-9,"properties":null,"type":"Feature"}],"type":"FeatureCollection"}
>
> Could this be related?
>
> Regards,
>
> Richard Duivenvoorde
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221010/66f605a5/attachment.htm>

From julien.cabieces at oslandia.com  Wed Oct 12 03:28:51 2022
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Wed, 12 Oct 2022 12:28:51 +0200
Subject: [QGIS-Developer] Legend symbol and geometry generator
Message-ID: <877d152v4s.fsf@julien-laptop.home>

A non-text attachment was scrubbed...
Name: legend_symbol_browser.png
Type: image/png
Size: 20920 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221012/f9d2fb00/attachment-0001.png>
-------------- next part --------------

Hi devs,

I would like to fix the legend symbol rendering when a geometry generator is involved in the browser and in the layout. I would like to ask you what it is the expected behavior, because it doesn't look very consistent to me.

Every layer in my project as a geometry generator with a big buffer.

In browser, As you can see on attachmed file, only marker with categorized or rule renderer can be bigger than a 16x16 pixel icon. Is it wanted ?

Its size is limited by the parameter "Options > Canvas & legend > Maximum legend symbol size"
Note that the marker symbol is drawn "big" according to geometry generator definition, and QGIS keep a square subset in the center regarding the max size. This is different when you chose a very big symbol for your marker where it is scaled to fit the icon size. 

Is it wanted ? 

Same questions apply for layout.
Do we want the exact same behavior than browser ?
Do we want to scale the content to the legend symbol given size or do we
want to keep only what's in the center ?
Do we want a different way of dealing with marker on one side, and
line/polygon on other side ?
Do we want a different rendering whether there is a categorized/rule renderer or not ? 

Regards,
Julien

From andreaerdna at libero.it  Sun Oct 16 23:57:42 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Mon, 17 Oct 2022 08:57:42 +0200
Subject: [QGIS-Developer] OSGEO4W nightlies (and weeklies) broken?
In-Reply-To: <1419e546-8f88-9545-7d1d-55531ee62edf@libero.it>
References: <1419e546-8f88-9545-7d1d-55531ee62edf@libero.it>
Message-ID: <1f2d80a8-951c-0c5f-576a-4e7273267704@libero.it>

Hi all,
it seems the OSGeo4W QGIS dev builds are broken again.

The latest qgis dev nightly build [1] was released on October 10th and 
the latest weekly build [2] on September 26th.

Best regards.

Andrea Giudiceandrea

[1] 
https://download.osgeo.org/osgeo4w/v2/x86_64/release/qgis/qgis-dev/?C=M&O=D
[2] https://download.osgeo.org/qgis/windows/weekly/?C=M&O=D

From r.nijssen at terglobo.nl  Mon Oct 17 01:52:48 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 17 Oct 2022 10:52:48 +0200
Subject: [QGIS-Developer] Best way to import gdal, ogr, osr ?
Message-ID: <35e212d0-4939-4ff5-ec80-4969cbb3faaa@terglobo.nl>

Dear developers,

What is the best way to import ogr, gdal and osr in my pyqgis script?


This used to work in older QGIS versions:

import gdal
import ogr
import osr



Now I've changed that to:

try:
     import ogr
     import gdal
     import osr
except ModuleNotFoundError:
     from osgeo import ogr
     from osgeo import gdal
     from osgeo import osr


But it's still unclear to me what would be the way to make sure my 
script will run in anyone else's installation (Different OS and QGIS 
version).


Maybe there's something like this:

from qgis import ogr

???


Kind regards,
Raymond

From even.rouault at spatialys.com  Mon Oct 17 02:51:13 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 17 Oct 2022 11:51:13 +0200
Subject: [QGIS-Developer] Best way to import gdal, ogr, osr ?
In-Reply-To: <35e212d0-4939-4ff5-ec80-4969cbb3faaa@terglobo.nl>
References: <35e212d0-4939-4ff5-ec80-4969cbb3faaa@terglobo.nl>
Message-ID: <a9ea9bf1-e20a-7865-9814-e31cf24798c9@spatialys.com>

You can just use

from osgeo import ogr
from osgeo import gdal
from osgeo import osr

That will work with any GDAL version of the last 15 years or so.

Le 17/10/2022 ? 10:52, Raymond Nijssen via QGIS-Developer a ?crit?:
> Dear developers,
>
> What is the best way to import ogr, gdal and osr in my pyqgis script?
>
>
> This used to work in older QGIS versions:
>
> import gdal
> import ogr
> import osr
>
>
>
> Now I've changed that to:
>
> try:
> ??? import ogr
> ??? import gdal
> ??? import osr
> except ModuleNotFoundError:
> ??? from osgeo import ogr
> ??? from osgeo import gdal
> ??? from osgeo import osr
>
>
> But it's still unclear to me what would be the way to make sure my 
> script will run in anyone else's installation (Different OS and QGIS 
> version).
>
>
> Maybe there's something like this:
>
> from qgis import ogr
>
> ???
>
>
> Kind regards,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From r.nijssen at terglobo.nl  Mon Oct 17 03:36:32 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 17 Oct 2022 12:36:32 +0200
Subject: [QGIS-Developer] Best way to import gdal, ogr, osr ?
In-Reply-To: <a9ea9bf1-e20a-7865-9814-e31cf24798c9@spatialys.com>
References: <35e212d0-4939-4ff5-ec80-4969cbb3faaa@terglobo.nl>
 <a9ea9bf1-e20a-7865-9814-e31cf24798c9@spatialys.com>
Message-ID: <fa72ad3b-0bae-98f8-fe28-04c00f3e0d43@terglobo.nl>

Thank you Even. And that will always be available in QGIS? Without any 
extra (gdal) installations?

Let's say, I'm buying a brand new Windows laptop and install QGIS with 
the standalone installer, I can type

from osgeo import ogr

in the python console and it will just work?

Sorry, this is a bit hard to verify as I'm not wanting to buy a new 
Windows laptop :)


On 17-10-2022 11:51, Even Rouault wrote:
> You can just use
> 
> from osgeo import ogr
> from osgeo import gdal
> from osgeo import osr
> 
> That will work with any GDAL version of the last 15 years or so.
> 
> Le 17/10/2022 ? 10:52, Raymond Nijssen via QGIS-Developer a ?crit?:
>> Dear developers,
>>
>> What is the best way to import ogr, gdal and osr in my pyqgis script?
>>
>>
>> This used to work in older QGIS versions:
>>
>> import gdal
>> import ogr
>> import osr
>>
>>
>>
>> Now I've changed that to:
>>
>> try:
>> ??? import ogr
>> ??? import gdal
>> ??? import osr
>> except ModuleNotFoundError:
>> ??? from osgeo import ogr
>> ??? from osgeo import gdal
>> ??? from osgeo import osr
>>
>>
>> But it's still unclear to me what would be the way to make sure my 
>> script will run in anyone else's installation (Different OS and QGIS 
>> version).
>>
>>
>> Maybe there's something like this:
>>
>> from qgis import ogr
>>
>> ???
>>
>>
>> Kind regards,
>> Raymond
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From even.rouault at spatialys.com  Mon Oct 17 03:42:30 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 17 Oct 2022 12:42:30 +0200
Subject: [QGIS-Developer] Best way to import gdal, ogr, osr ?
In-Reply-To: <fa72ad3b-0bae-98f8-fe28-04c00f3e0d43@terglobo.nl>
References: <35e212d0-4939-4ff5-ec80-4969cbb3faaa@terglobo.nl>
 <a9ea9bf1-e20a-7865-9814-e31cf24798c9@spatialys.com>
 <fa72ad3b-0bae-98f8-fe28-04c00f3e0d43@terglobo.nl>
Message-ID: <39f435b7-48e2-b26b-ae90-1d3f959cabe5@spatialys.com>


Le 17/10/2022 ? 12:36, Raymond Nijssen a ?crit?:
> Thank you Even. And that will always be available in QGIS? Without any 
> extra (gdal) installations?

yes, I think so. This is needed by the GDAL processing tools, which 
AFAIK are availalable out-of-the box in the standalone Windows installer


-- 
http://www.spatialys.com
My software is free, but my time generally not.


From 46.i.s.o.64 at gmail.com  Mon Oct 17 05:32:17 2022
From: 46.i.s.o.64 at gmail.com (i-s-o)
Date: Mon, 17 Oct 2022 08:32:17 -0400
Subject: [QGIS-Developer] Best way to import gdal, ogr, osr ?
In-Reply-To: <39f435b7-48e2-b26b-ae90-1d3f959cabe5@spatialys.com>
References: <35e212d0-4939-4ff5-ec80-4969cbb3faaa@terglobo.nl>
 <a9ea9bf1-e20a-7865-9814-e31cf24798c9@spatialys.com>
 <fa72ad3b-0bae-98f8-fe28-04c00f3e0d43@terglobo.nl>
 <39f435b7-48e2-b26b-ae90-1d3f959cabe5@spatialys.com>
Message-ID: <CACjCNZSwPRUVRhV5ii7cY-C7+qTF6kYAGO2sqTz6JqZkahDJug@mail.gmail.com>

FYI you could use the Windows Sandbox feature to simulate how QGIS behaves
in a brand new Windows installation. It is a built-in feature in Windows
10/11:
https://learn.microsoft.com/en-us/windows/security/threat-protection/windows-sandbox/windows-sandbox-overview


On Mon, Oct 17, 2022 at 6:42 AM Even Rouault via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

>
> Le 17/10/2022 ? 12:36, Raymond Nijssen a ?crit :
> > Thank you Even. And that will always be available in QGIS? Without any
> > extra (gdal) installations?
>
> yes, I think so. This is needed by the GDAL processing tools, which
> AFAIK are availalable out-of-the box in the standalone Windows installer
>
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221017/17c00201/attachment.htm>

From strk at kbt.io  Mon Oct 17 07:37:17 2022
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 17 Oct 2022 16:37:17 +0200
Subject: [QGIS-Developer] how to backport ?
Message-ID: <20221017143717.riouezer3x4skrvn@c19>

Is there a guide about backports handling ?
Should I apply the "backport queued_ltr_backports" label and let
bots handle it ?

--strk;

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From anitagraser at gmx.at  Tue Oct 18 11:35:52 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 18 Oct 2022 18:35:52 +0000 (UTC)
Subject: [QGIS-Developer] Vector destination vs feature sink
Message-ID: <f1eb6b54-ac38-44c0-b6e4-c0523a10021b@gmx.at>

Hi.

Does any one of you know the real difference between QgsProcessingParameterVectorDestination versus QgsProcessingParameterFeatureSink? They seem to be used interchangably in the resources I can find.

Thank you.

Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221018/71dab72c/attachment.htm>

From rdmailings at duif.net  Wed Oct 19 00:01:23 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 19 Oct 2022 09:01:23 +0200
Subject: [QGIS-Developer] Fwd: Dear develop team GIS (plugin)
In-Reply-To: <CAL=JYJmrKwsnO957Fi+gNU9GemvL2M65F4PJVr1g9pnW9jN_CQ@mail.gmail.com>
References: <CAL=JYJmrKwsnO957Fi+gNU9GemvL2M65F4PJVr1g9pnW9jN_CQ@mail.gmail.com>
Message-ID: <f9492f04-5a42-61f5-1296-2a423d0d90ae@duif.net>

Hi Devs,

This mail was (accidently wrong) sent to the list owner of the dev list.

Sender tells us a plugin was sent in 2 weeks ago.

If I search for V5Pfes I only see 'None', if I search for Forest I see None again.

Is there something wrong with the metadata of the plugin?
I think I normally see the name of the plugin, even when it is not approved?

@Pham Quang Duong can you maybe sent the link of you repo?

Regards,

Richard Duivenvoorde


-------- Forwarded Message --------
Subject: 	Dear develop team GIS
Date: 	Tue, 18 Oct 2022 16:47:19 +0700
From: 	D??ng Ph?m Quang <phamquangduong at ifee.edu.vn>
To: 	qgis-developer-owner at lists.osgeo.org



We are trying to release a tool to support the construction of V5Pfes Forest Environmental Services Payment Map on the QGIS platform called V5Pfes. The account we use has an id of "ifeernd".
However, it has been more than 2 weeks since pushing the first version, but we still have not received a response to edit or approved version.
Please help me check it out and report back if there are any problems during our release


-- 
<https://htmlsig.com/t/000001DFX901>

/Yours Sincerely,/
Pham Quang Duong

<https://htmlsig.com/t/000001DFX901>Tell: +84 389799932

/phamquangduong at ifee.edu.vn/ <mailto:phamquangduong at ifee.edu.vn>
*Department of Research and Development**Institute For Forest Ecology and Environment*/http://ifee.edu.vn <http://ifee.edu.vn>/

<https://htmlsig.com/t/000001DFX901>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2022-10-19 08-54-41.png
Type: image/png
Size: 45609 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221019/faf4350a/attachment-0001.png>

From werner.macho at gmail.com  Wed Oct 19 00:13:09 2022
From: werner.macho at gmail.com (Werner Macho)
Date: Wed, 19 Oct 2022 09:13:09 +0200
Subject: [QGIS-Developer] Fwd: Dear develop team GIS (plugin)
In-Reply-To: <f9492f04-5a42-61f5-1296-2a423d0d90ae@duif.net>
References: <CAL=JYJmrKwsnO957Fi+gNU9GemvL2M65F4PJVr1g9pnW9jN_CQ@mail.gmail.com>
 <f9492f04-5a42-61f5-1296-2a423d0d90ae@duif.net>
Message-ID: <CA+3oMjs+2dxXygYJmQ1qiLWC=9az2o_Nwe+nj1bZ1P_-+_7EPw@mail.gmail.com>

Hi Richard,
I also searched for the user id "ifeernd" - and could not find it.
Maybe it is not a plugin and something completely different is meant?

regards
werner

On Wed, Oct 19, 2022 at 9:02 AM Richard Duivenvoorde via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi Devs,
>
> This mail was (accidently wrong) sent to the list owner of the dev list.
>
> Sender tells us a plugin was sent in 2 weeks ago.
>
> If I search for V5Pfes I only see 'None', if I search for Forest I see
> None again.
>
> Is there something wrong with the metadata of the plugin?
> I think I normally see the name of the plugin, even when it is not
> approved?
>
> @Pham Quang Duong can you maybe sent the link of you repo?
>
> Regards,
>
> Richard Duivenvoorde
>
>
> -------- Forwarded Message --------
> Subject:        Dear develop team GIS
> Date:   Tue, 18 Oct 2022 16:47:19 +0700
> From:   D??ng Ph?m Quang <phamquangduong at ifee.edu.vn>
> To:     qgis-developer-owner at lists.osgeo.org
>
>
>
> We are trying to release a tool to support the construction of V5Pfes
> Forest Environmental Services Payment Map on the QGIS platform called
> V5Pfes. The account we use has an id of "ifeernd".
> However, it has been more than 2 weeks since pushing the first version,
> but we still have not received a response to edit or approved version.
> Please help me check it out and report back if there are any problems
> during our release
>
>
> --
> <https://htmlsig.com/t/000001DFX901>
>
> /Yours Sincerely,/
> Pham Quang Duong
>
> <https://htmlsig.com/t/000001DFX901>Tell: +84 389799932
>
> /phamquangduong at ifee.edu.vn/ <mailto:phamquangduong at ifee.edu.vn>
> *Department of Research and Development**Institute For Forest Ecology and
> Environment*/http://ifee.edu.vn <http://ifee.edu.vn>/
>
> <https://htmlsig.com/t/000001DFX901
> >_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221019/e56372f4/attachment.htm>

From rdmailings at duif.net  Wed Oct 19 00:24:22 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 19 Oct 2022 09:24:22 +0200
Subject: [QGIS-Developer] Fwd: Dear develop team GIS (plugin)
In-Reply-To: <CA+3oMjs+2dxXygYJmQ1qiLWC=9az2o_Nwe+nj1bZ1P_-+_7EPw@mail.gmail.com>
References: <CAL=JYJmrKwsnO957Fi+gNU9GemvL2M65F4PJVr1g9pnW9jN_CQ@mail.gmail.com>
 <f9492f04-5a42-61f5-1296-2a423d0d90ae@duif.net>
 <CA+3oMjs+2dxXygYJmQ1qiLWC=9az2o_Nwe+nj1bZ1P_-+_7EPw@mail.gmail.com>
Message-ID: <d3730ad9-ec28-21f6-1a4a-d1f81c1c4d58@duif.net>

The author just sent me the github repo:
"Our link repo is: https://github.com/IFEERnD/v5Pfes"

@Pham Quang Duong am I right that this plugin is only in Vietnamees language?
Can you maybe provide some information (in english, in the README.txt (which is now empty)) about what the plugin is supposed to do, or maybe a little guide about how to test?
Most people approving the plugins are English speaking/reading ( or at least without knowledge of Vietnamees writing :-) ) , so without any guidance cannot tell what the plugin is doing, unless they deep dive into the code.

Regards,

Richard Duivenvoorde

On 10/19/22 09:13, Werner Macho wrote:
> Hi Richard,
> I also searched for the user id "ifeernd" - and could not?find it.
> Maybe it is not a plugin and something completely?different is meant?
> 
> regards
> werner
> 
> On Wed, Oct 19, 2022 at 9:02 AM Richard Duivenvoorde via QGIS-Developer <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> wrote:
> 
>     Hi Devs,
> 
>     This mail was (accidently wrong) sent to the list owner of the dev list.
> 
>     Sender tells us a plugin was sent in 2 weeks ago.
> 
>     If I search for V5Pfes I only see 'None', if I search for Forest I see None again.
> 
>     Is there something wrong with the metadata of the plugin?
>     I think I normally see the name of the plugin, even when it is not approved?
> 
>     @Pham Quang Duong can you maybe sent the link of you repo?
> 
>     Regards,
> 
>     Richard Duivenvoorde
> 
> 
>     -------- Forwarded Message --------
>     Subject:? ? ? ? Dear develop team GIS
>     Date:? ?Tue, 18 Oct 2022 16:47:19 +0700
>     From:? ?D??ng Ph?m Quang <phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>>
>     To: qgis-developer-owner at lists.osgeo.org <mailto:qgis-developer-owner at lists.osgeo.org>
> 
> 
> 
>     We are trying to release a tool to support the construction of V5Pfes Forest Environmental Services Payment Map on the QGIS platform called V5Pfes. The account we use has an id of "ifeernd".
>     However, it has been more than 2 weeks since pushing the first version, but we still have not received a response to edit or approved version.
>     Please help me check it out and report back if there are any problems during our release
> 
> 
>     -- 
>     <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>
> 
>     /Yours Sincerely,/
>     Pham Quang Duong
> 
>     <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>Tell: +84 389799932
> 
>     /phamquangduong at ifee.edu.vn/ <http://phamquangduong at ifee.edu.vn/> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>>
>     *Department of Research and Development**Institute For Forest Ecology and Environment*/http://ifee.edu.vn <http://ifee.edu.vn> <http://ifee.edu.vn <http://ifee.edu.vn>>/
> 
>     <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>_______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 


From strk at kbt.io  Wed Oct 19 02:04:47 2022
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 19 Oct 2022 11:04:47 +0200
Subject: [QGIS-Developer] QgsField::displayString vs.
 QgsTextEditWrapper::setWidgetValue
Message-ID: <20221019090447.fd4eypwekt53gryn@c19>

While working on a regression with how geometry attributes are handled
by the attributes editor widget I stumbled upon what looks like being
an unclear responsibility as to what should convert in/out of text
form various type of field values.

The QgsTextEditWrapper::setWidgetValue method contains different
special handling and passes non-special cases to
QgsField::displayString to produce the "widget value" (which is a text
representation of the value usable for editing it).

Now: QgsField::displayString is documented to a "string for display"
which is not a "string for editing". For the ReferencedGeometry case
such method returns a truncated WKT string, for example, which is
surely ok for "display" but not for "edit", which is what
QgsTextEditWrapper::setWidgetValue wants.

Similarly, QgsTextEditWrapper::value() invokes
QgsField::convertCompatible() but only in certain cases and not
in others, which makes me wonder who should be responsible for this
in/out conversion of QgsField values to text and back.

The question is: should QgsTextEditWrapper::setWidgetValue
keep relying on QgsField, with QgsField exposing specific
methods to convert to/from a "canonical text" form of values ?

--strk;

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From senhor.neto at gmail.com  Wed Oct 19 03:06:54 2022
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 19 Oct 2022 11:06:54 +0100
Subject: [QGIS-Developer] QGIS and Python 3.8
Message-ID: <CA+H0G_Hoh=2mUNjdt0w7Nd1eC73a-XF+OhDqVU+MYJvn6nvNyA@mail.gmail.com>

Hi,

In the download page there is a message saying that QGIS needs at least
windows 8 because it uses Python 3.9 or above.

At conda-forge we are building QGIS 3.22 and 3.26 with python 3.8, 3.9 and
3.10. Should we drop 3.8? What are the current implications?

Thanks,

Alexandre Neto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221019/6695edb5/attachment.htm>

From delazj at gmail.com  Thu Oct 20 02:07:36 2022
From: delazj at gmail.com (DelazJ)
Date: Thu, 20 Oct 2022 11:07:36 +0200
Subject: [QGIS-Developer] Documentation repository looking for developers
Message-ID: <CAECJsSoMKRVTSXO6h7=zd2s5fru7V8u4wqTUnYZh2ofFnSug0w@mail.gmail.com>

Hi dear devs,

With feature freeze/bug fixes period almost finished, and before you get
busy with pushing cool and nice features for the next 3.30 branch, I'd like
to share with you a few cool features the documentation repo will also be
really happy to get from your skills.

*Code/Setup*

1. Create a github action to automatically assign labels to issue reports
generated from merged pull requests in code repo, to help us quickly
triage. See #50562 <https://github.com/qgis/QGIS/issues/50562> and #7826
<https://github.com/qgis/QGIS-Documentation/issues/7826>

2. To the generated issue reports, we also have to assign the milestone,
that is the next LTR we will document it in... An automatic assignment
would also be great. See #7828
<https://github.com/qgis/QGIS-Documentation/issues/7828>

3. If the move away from Transifex is not yet on the radar, a github action
to regularly pull unfinished translation files would be welcome. See #7827
<https://github.com/qgis/QGIS-Documentation/issues/7827>

4. Help setup the release branches to allow automatic merge when tests
pass. See #7837 <https://github.com/qgis/QGIS-Documentation/issues/7837>

5. Fix text frame width in the pyQGIS API documentation. See #36
<https://github.com/qgis/pyqgis/issues/36>

*Writing*

If you instead feel like writing , there are some outdated, confusing
instructions in the docs for beginners in coding:

1. how to configure python path
<https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html>
from within QGIS or custom application: See #6179
<https://github.com/qgis/QGIS-Documentation/issues/6179> and attempts to
fix it at #6306 <https://github.com/qgis/QGIS-Documentation/pull/6306>,
#7139 <https://github.com/qgis/QGIS-Documentation/pull/7139> and #7140
<https://github.com/qgis/QGIS-Documentation/pull/7140>

2. methods and tools to debug code/plugins: see #7836
<https://github.com/qgis/QGIS-Documentation/issues/7836>

3. as usual, review of current pull requests
<https://github.com/qgis/QGIS-Documentation/pulls> is still welcome

*Triage*

If you don't feel like coding nor writing, you can just tell us whether you
think that any of these reports is worth documenting and how we could
address it: ToDocOrNotToDoc
<https://github.com/qgis/QGIS-Documentation/issues?q=is%3Aopen+is%3Aissue+label%3AToDocOrNotToDoc%3F>

As you can see, the needs are diverse; it is about coding, setup, triaging
and writing so you probably will find something for you (I hope) and do it
faster than in my unsuccessful attempts.
*The docs needs the devs*.

Kind regards and looking forward,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221020/e81feaba/attachment.htm>

From anitagraser at gmx.at  Fri Oct 21 09:06:53 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Fri, 21 Oct 2022 16:06:53 +0000
Subject: [QGIS-Developer] Vector destination vs feature sink
In-Reply-To: <e9cf89ee-4621-06b7-22b4-a09d5bd4425a@wheregroup.com>
References: <e9cf89ee-4621-06b7-22b4-a09d5bd4425a@wheregroup.com>
Message-ID: <1666368297553.4147852305.2360992092@gmx.at>

Thank you Stefan,


I saw that note but was hoping some developer could shed light on what they mean by "more flexible" and "wherever possible". I guess otherwise it's just trial and error. 


Regards,
Anita


On Wednesday, 19. October 2022 07:44:05 (+02:00), Stefan Giese (WhereGroup) wrote:



Hi Anita,

they are very similar, but the API Documentation says to QgsProcessingParameterVectorDestination: "Note: Consider using the more flexible QgsProcessingParameterFeatureSink wherever possible." (https://api.qgis.org/api/3.22/classQgsProcessingParameterVectorDestination.html#details)

Best regards

Stefan


Am 18.10.2022 um 20:35 schrieb Anita Graser via QGIS-Developer:

Hi.

Does any one of you know the real difference between QgsProcessingParameterVectorDestination versus QgsProcessingParameterFeatureSink? They seem to be used interchangably in the resources I can find.

Thank you.

Anita


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant
---------------------------------------------
Aufwind durch Wissen!
Jetzt neu: Web-Seminare und Online-Schulungen
bei der www.foss-academy.com
---------------------------------------------
WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Tel.: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885

-- 
--
Anita Graser
Home: http://anitagraser.com
Twitter: @underdarkgis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221021/5cee52a9/attachment.htm>

From hghklly at gmail.com  Fri Oct 21 09:17:44 2022
From: hghklly at gmail.com (Hugh Kelley)
Date: Fri, 21 Oct 2022 12:17:44 -0400
Subject: [QGIS-Developer] pyqgis labelling settings
Message-ID: <CAOrcXHGqYx9rn1EXnS1ZLYTZ3Sdw0e6aYz-kAhDFzE+pzXjhjw@mail.gmail.com>

Hi,

I'm hoping to make some scripts for labelling layers.

I've found the basic labelling settings in

    layer = iface.activeLayer()layer.labeling().settings().format().size()

for example, and it seems that I could be able to update that with an
object like

    newsize = QgsTextFormat()
    newsize.setSize(20)
but I haven't yet found the correct way to update the layer's value.

it seems like it needs to be passed an entire new `QgsPalLayerSettings`
object but I haven't found a way to build a complete object.

I've seen `readFromLayer()` but I'm guessing that was a version 2 method
that's no longer available in version 3.

any pointers or a simple piece of code for updating a layer labelling
property would be hugely appreciated.

it also occurs to me to ask whether there is anything like:

    print(layer.renderer().symbol().symbolLayers()[0].properties())

that returns a dict of the layer symbology properties for a label.

Another helpful thing would be code that imports a label definition from an
exported xml file.

thanks,

hugh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221021/c03b1fe3/attachment.htm>

From surveykshak at gmail.com  Sat Oct 22 07:25:51 2022
From: surveykshak at gmail.com (Paul N)
Date: Sat, 22 Oct 2022 19:55:51 +0530
Subject: [QGIS-Developer] Compile QGIS in docker
Message-ID: <CAGy7cYkSjeEm2a3epBMYX+YkvSCU5oWhwWNuoLmAxKMGF_uxhw@mail.gmail.com>

Is it possible to compile QGIS in docker on windows system.

Any clue.

Thanks
Paul N
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221022/178b72d4/attachment.htm>

From rdmailings at duif.net  Sat Oct 22 07:49:55 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 22 Oct 2022 16:49:55 +0200
Subject: [QGIS-Developer] Compile QGIS in docker
In-Reply-To: <CAGy7cYkSjeEm2a3epBMYX+YkvSCU5oWhwWNuoLmAxKMGF_uxhw@mail.gmail.com>
References: <CAGy7cYkSjeEm2a3epBMYX+YkvSCU5oWhwWNuoLmAxKMGF_uxhw@mail.gmail.com>
Message-ID: <84244766-ade4-4bd0-d6fd-18aeb8309a5c@duif.net>

On 10/22/22 16:25, Paul N via QGIS-Developer wrote:
> Is it possible to compile QGIS in docker on windows system.
> 
> Any clue.

What is your use-case?
- Desktop or Server?
- Host = Windows, but container = ?

There are ready to use QGIS-Server images, others know better which one is most up to date (@others..)

If you just want to compile in a Debian/Ubuntu/whatever, off course you can: a container is/can be a full fledged Linux machine.

We also experimented with Running QGIS-Desktop on a container on a Linux host running X.
Not sure if that is possible on a Windows host though, and you will probably have some container/permission issues... though I've been flabbergasted with the recent capabilities of the Linux sub system on Windows... ( but to be clear: just use Linux :-) ).

Anyway: what is it that you want to try?

Regards,

Richard Duivenvoorde

From dmarteau at 3liz.com  Sat Oct 22 08:54:19 2022
From: dmarteau at 3liz.com (David Marteau)
Date: Sat, 22 Oct 2022 17:54:19 +0200
Subject: [QGIS-Developer] Compile QGIS in docker
In-Reply-To: <84244766-ade4-4bd0-d6fd-18aeb8309a5c@duif.net>
References: <CAGy7cYkSjeEm2a3epBMYX+YkvSCU5oWhwWNuoLmAxKMGF_uxhw@mail.gmail.com>
 <84244766-ade4-4bd0-d6fd-18aeb8309a5c@duif.net>
Message-ID: <03001468-221c-64e9-3269-d3c8a100d377@3liz.com>

Hi,

I use and compile Qgis desktop and server on Docker on a daily basis.

Docker on Windows or Osx relies on linux vm, so basically, you should do 
- almost - anything that
you can do on Linux but? my exp?rience has taught me that the processe 
is much smoother on Linux.

However, as Richard said, WSL on Windows works rather well with Docker 
and should provide you wih real linux
experience

About qgis ready to use docker image you may find several up to date 
flavors:

- https://hub.docker.com/r/qgis/qgis
- https://hub.docker.com/r/3liz/qgis-platform (no desktop - server only)

If your goal is to compile Qgis, you should go with multi-stage building 
process
and I can tell more about this if you want.

You will find ready made images with build dependencies: 
https://hub.docker.com/r/qgis/qgis3-build-deps

Or some recipies for achieving this on latest Debian/Ubuntu: 
https://github.com/3liz/docker-qgis-build

Regards,
David


Le 22/10/2022 ? 16:49, Richard Duivenvoorde via QGIS-Developer a ?crit?:

> On 10/22/22 16:25, Paul N via QGIS-Developer wrote:
>> Is it possible to compile QGIS in docker on windows system.
>>
>> Any clue.
>
> What is your use-case?
> - Desktop or Server?
> - Host = Windows, but container = ?
>
> There are ready to use QGIS-Server images, others know better which 
> one is most up to date (@others..)
>
> If you just want to compile in a Debian/Ubuntu/whatever, off course 
> you can: a container is/can be a full fledged Linux machine.
>
> We also experimented with Running QGIS-Desktop on a container on a 
> Linux host running X.
> Not sure if that is possible on a Windows host though, and you will 
> probably have some container/permission issues... though I've been 
> flabbergasted with the recent capabilities of the Linux sub system on 
> Windows... ( but to be clear: just use Linux :-) ).
>
> Anyway: what is it that you want to try?
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From osgeo.mailinglist at gmail.com  Sat Oct 22 14:32:11 2022
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Sat, 22 Oct 2022 23:32:11 +0200
Subject: [QGIS-Developer] Vector destination vs feature sink
In-Reply-To: <1666368297553.4147852305.2360992092@gmx.at>
References: <e9cf89ee-4621-06b7-22b4-a09d5bd4425a@wheregroup.com>
 <1666368297553.4147852305.2360992092@gmx.at>
Message-ID: <CACPZzQ3WTnVdarZ3EEbSY0gMonPzN2FHqC7RJkBrKB4oj2UDtA@mail.gmail.com>

Hi,

Although, I do know the intend to recommend one against the other, doing
some code differences helps to sort out things.
They both inherits from same classes but the constructor for
QgsProcessingParameterFeatureSink accepts an additionnal arg bool
supportsAppend
<https://api.qgis.org/api/3.22/classQgsProcessingParameterFeatureSink.html#acae2863d5dab37aec4c5466d7d3a84d9>
=false

You also find the additional methods in QgsProcessingParameterFeatureSink
to manipulate the same supportsAppend.

```
a = QgsProcessingParameterVectorDestination(
  'OUTPUT',
  'Sortie'
)

b = QgsProcessingParameterFeatureSink(
  'OUTPUT',
  'Sortie'
)

methods_a = dir(a)
methods_b = dir(b)
common_methods = set(methods_a).intersection(methods_b)
print(common_methods)

only_in_a = set(methods_a).difference(methods_b)
print(only_in_a)

only_in_b = set(methods_b).difference(methods_a)
print(only_in_b)
```

Regards

Thomas Gratier

Le ven. 21 oct. 2022 ? 18:07, Anita Graser via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Thank you Stefan,
>
> I saw that note but was hoping some developer could shed light on what
> they mean by "more flexible" and "wherever possible". I guess otherwise
> it's just trial and error.
>
> Regards,
> Anita
>
>
> On Wednesday, 19. October 2022 07:44:05 (+02:00), Stefan Giese
> (WhereGroup) wrote:
>
> Hi Anita,
>
> they are very similar, but the API Documentation says to
> QgsProcessingParameterVectorDestination: "Note: Consider using the more
> flexible QgsProcessingParameterFeatureSink
> <https://api.qgis.org/api/3.22/classQgsProcessingParameterFeatureSink.html>
> wherever possible." (
> https://api.qgis.org/api/3.22/classQgsProcessingParameterVectorDestination.html#details
> )
>
> Best regards
>
> Stefan
> Am 18.10.2022 um 20:35 schrieb Anita Graser via QGIS-Developer:
>
> Hi.
>
> Does any one of you know the real difference between
> QgsProcessingParameterVectorDestination versus
> QgsProcessingParameterFeatureSink? They seem to be used interchangably in
> the resources I can find.
>
> Thank you.
>
> Anita
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> Mit freundlichen Gr??en
> Stefan Giese
> Projektleiter/Consultant
> ---------------------------------------------
> Aufwind durch Wissen!
> Jetzt neu: Web-Seminare und Online-Schulungen
> bei der www.foss-academy.com
> ---------------------------------------------
> WhereGroup GmbH
> Schwimmbadstr. 2
> 79100 Freiburg
> Germany
>
> Tel.: +49 (0)761 / 519 102 - 61
> Fax: +49 (0)761 / 519 102 - 11
> stefan.giese at wheregroup.comwww.wheregroup.com
> Gesch?ftsf?hrer:
> Olaf Knopp, Peter Stamm
> Amtsgericht Bonn, HRB 9885
>
>
> --
> --
> Anita Graser
> Home: http://anitagraser.com
> Twitter: @underdarkgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221022/68febc0b/attachment.htm>

From fpuga at icarto.es  Sun Oct 23 02:11:22 2022
From: fpuga at icarto.es (Francisco Puga)
Date: Sun, 23 Oct 2022 11:11:22 +0200
Subject: [QGIS-Developer] pyqgis labelling settings
In-Reply-To: <CAOrcXHGqYx9rn1EXnS1ZLYTZ3Sdw0e6aYz-kAhDFzE+pzXjhjw@mail.gmail.com>
References: <CAOrcXHGqYx9rn1EXnS1ZLYTZ3Sdw0e6aYz-kAhDFzE+pzXjhjw@mail.gmail.com>
Message-ID: <CAHU37TujEV=zn3KcJfOYGYcpndiS4nD4TGPD+rNiq4bJXNdzQA@mail.gmail.com>

This should work when working with SingleLabels

layer = iface.activeLayer()
settings = layer.labeling().settings()
textFormat = settings.format()
textFormat.setSize(20);
settings.setFormat(textFormat)
layer.labeling().setSettings(settings)

hope it helps

El vie, 21 oct 2022 a las 18:18, Hugh Kelley via QGIS-Developer
(<qgis-developer at lists.osgeo.org>) escribi?:
>
> Hi,
>
> I'm hoping to make some scripts for labelling layers.
>
> I've found the basic labelling settings in
>
>     layer = iface.activeLayer()layer.labeling().settings().format().size()
>
> for example, and it seems that I could be able to update that with an object like
>
>     newsize = QgsTextFormat()
>     newsize.setSize(20)
> but I haven't yet found the correct way to update the layer's value.
>
> it seems like it needs to be passed an entire new `QgsPalLayerSettings` object but I haven't found a way to build a complete object.
>
> I've seen `readFromLayer()` but I'm guessing that was a version 2 method that's no longer available in version 3.
>
> any pointers or a simple piece of code for updating a layer labelling property would be hugely appreciated.
>
> it also occurs to me to ask whether there is anything like:
>
>     print(layer.renderer().symbol().symbolLayers()[0].properties())
>
> that returns a dict of the layer symbology properties for a label.
>
> Another helpful thing would be code that imports a label definition from an exported xml file.
>
> thanks,
>
> hugh
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Francisco Puga
iCarto | Innovaci?n, Cooperaci?n, Cartograf?a y Territorio S.L.
https://icarto.es

c/ Rafael Alberti n? 13 ? 1? D
15008 A Coru?a
Galicia (Spain)
+34 881927808

Este correo electr?nico contiene informaci?n estrictamente
confidencial y es de uso exclusivo del destinatario, quedando
prohibida a cualquier otra persona su revelaci?n, copia, distribuci?n,
o el ejercicio de cualquier acci?n relativa a su contenido. Si ha
recibido este mensaje por error, por favor conteste a su remitente
mediante correo electr?nico y proceda a borrarlo de su sistema.

Sus datos personales ser?n tratados de forma confidencial y no ser?n
cedidos a terceros ajenos a ICARTO. En cualquier caso, podr? ejercer
los derecho de oposici?n, acceso, rectificaci?n y cancelaci?n de
acuerdo con lo establecido en la Ley Org?nica 15/99, de 13 de
diciembre, de Protecci?n de Datos de Car?cter Personal dirigi?ndose a
Innovaci?n, Cooperaci?n, Cartograf?a e Territorio, SL. (ICARTO) en la
direcci?n postal a C/ Rafael Alberti, n? 13, 1?D, 15.008 ? (A Coru?a).

From andreaerdna at libero.it  Sun Oct 23 04:42:44 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sun, 23 Oct 2022 13:42:44 +0200
Subject: [QGIS-Developer] Translation errors in some English (and most of
 other languages) strings on Transifex
Message-ID: <4fee4fdf-26c5-a58d-8010-7622f5a3f7f2@libero.it>

Hi all,
it seems something weird happened in the latest generation of the 
translation string qgis_*.ts files or in the sync process with Transifex 
for QGIS 3.28.0 and master.

Some "translation" string in English are different from the 
corresponding "source" string and contains some spurious characters 
(e.g. "?}" at the end and other strings at the beginning).

This means that presumably most of the other translations (based on the 
English one) are also incorrect.

The errors are in the \i18n\qgis_*.ts files, too.

if I remember correctly, this issue has already occurred another time in 
the past.

AFAIK, these strings are:


****
https://github.com/qgis/QGIS/blob/master/src/core/vector/qgsvectorlayerfeatureiterator.cpp#L437
<source>Stack overflow, too many nested feature iterators.
Iterated layers:
%1
...</source>
<translation>Stack overflow, too many nested feature iterators.
Iterated layers:
%3
... {1
?}</translation>
****

****
https://github.com/qgis/QGIS/blob/master/resources/function_help/json/BETWEEN#L20
<source>2 BETWEEN 2 AND 3</source>
<translation>2 BETWEEN 1 AND 3 {2 ?} {2 ?}</translation>
****

****
https://github.com/qgis/QGIS/blob/master/resources/function_help/json/NOT%20BETWEEN#L20
<source>2 NOT BETWEEN 2 AND 3</source>
<translation>1.0 NOT BETWEEN 1.1 AND 3 {2 ?} {2 ?}</translation>
****

****
https://github.com/qgis/QGIS/blob/master/resources/function_help/json/concave_hull#L20
<source>&apos;Polygon ((30 112, 36 150, 92 182, 132 186, 176 184, 190 
122, 190 100, 186 52, 178 34, 168 18, 132 10, 112 30, 66 28, 22 64, 30 
112))&apos;</source>
<translation>&apos;Polygon ((3 2, 3 4, 1 4, 1 2, 3 2))&apos; {30 112, 36 
150, 92 182, 132 186, 176 184, 190 122, 190 100, 186 52, 178 34, 168 18, 
132 10, 112 30, 66 28, 22 64, 30 112)?}</translation>
****

****
https://github.com/qgis/QGIS/blob/master/resources/function_help/json/geometries_to_array#L11
<source>&apos;Polygon ((5 8, 4 1, 3 2, 5 8))&apos;</source>
<translation>&apos;Polygon ((3 2, 3 4, 1 4, 1 2, 3 2))&apos; {5 8, 4 1, 
3 2, 5 8)?}</translation>
****

****
https://github.com/qgis/QGIS/blob/master/resources/function_help/json/line_interpolate_point#L18
<source>&apos;Point (1.48492424 0.51507576)&apos;</source>
<translation>&apos;Point (4 0)&apos; {1.48492424 0.51507576)?}</translation>
****

****
https://github.com/qgis/QGIS/blob/master/resources/function_help/json/make_valid#L25
<source>&apos;Polygon ((3 2, 5 8, 4 1, 3 2))&apos;</source>
<translation>&apos;Polygon ((3 2, 3 4, 1 4, 1 2, 3 2))&apos; {3 2, 5 8, 
4 1, 3 2)?}</translation>
****

****
https://github.com/qgis/QGIS/blob/master/resources/function_help/json/make_valid#L31
<source>&apos;Polygon ((3 2, 4 1, 5 8, 3 2))&apos;</source>
<translation>&apos;Polygon ((3 2, 3 4, 1 4, 1 2, 3 2))&apos; {3 2, 4 1, 
5 8, 3 2)?}</translation>
****


Best regards.

Andrea Giudiceandrea

From anitagraser at gmx.at  Sun Oct 23 04:42:56 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Sun, 23 Oct 2022 11:42:56 +0000
Subject: [QGIS-Developer] Vector destination vs feature sink
In-Reply-To: <CACPZzQ3WTnVdarZ3EEbSY0gMonPzN2FHqC7RJkBrKB4oj2UDtA@mail.gmail.com>
References: <CACPZzQ3WTnVdarZ3EEbSY0gMonPzN2FHqC7RJkBrKB4oj2UDtA@mail.gmail.com>
Message-ID: <1666525189874.3986820772.1522043583@gmx.at>

Thank you very much, Thomas. This code comparison approach is very useful indeed. 

If FeatureSink covers all functions of VectorDestination and more, that still leaves me wonder what is the downside of a FeatureSink


"Note: Consider using the more flexible QgsProcessingParameterFeatureSink wherever possible."


i.e. where is it not possible to use a Feature Sink? Only in older versions of QGIS? 


Regards,
Anita


On Saturday, 22. October 2022 23:32:11 (+02:00), Thomas Gratier wrote:


Hi,


Although, I do know the intend to recommend one against the other, doing some code differences helps to sort out things.
They both inherits from same classes but the constructor for QgsProcessingParameterFeatureSink accepts an additionnal arg bool supportsAppend=false


You also find the additional methods in QgsProcessingParameterFeatureSink to manipulate the same supportsAppend.


```
a = QgsProcessingParameterVectorDestination(
  'OUTPUT',
  'Sortie'
)

b = QgsProcessingParameterFeatureSink(
  'OUTPUT',
  'Sortie'
)

methods_a = dir(a)
methods_b = dir(b)
common_methods = set(methods_a).intersection(methods_b)
print(common_methods)

only_in_a = set(methods_a).difference(methods_b)

print(only_in_a)

only_in_b = set(methods_b).difference(methods_a)
print(only_in_b)
```


Regards


Thomas Gratier


Le ven. 21 oct. 2022 ? 18:07, Anita Graser via QGIS-Developer <qgis-developer at lists.osgeo.org> a ?crit :

Thank you Stefan,


I saw that note but was hoping some developer could shed light on what they mean by "more flexible" and "wherever possible". I guess otherwise it's just trial and error. 


Regards,
Anita


On Wednesday, 19. October 2022 07:44:05 (+02:00), Stefan Giese (WhereGroup) wrote:



Hi Anita,

they are very similar, but the API Documentation says to QgsProcessingParameterVectorDestination: "Note: Consider using the more flexible QgsProcessingParameterFeatureSink wherever possible." (https://api.qgis.org/api/3.22/classQgsProcessingParameterVectorDestination.html#details)

Best regards

Stefan


Am 18.10.2022 um 20:35 schrieb Anita Graser via QGIS-Developer:

Hi.

Does any one of you know the real difference between QgsProcessingParameterVectorDestination versus QgsProcessingParameterFeatureSink? They seem to be used interchangably in the resources I can find.

Thank you.

Anita


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant
---------------------------------------------
Aufwind durch Wissen!
Jetzt neu: Web-Seminare und Online-Schulungen
bei der www.foss-academy.com
---------------------------------------------
WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Tel.: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885

-- 
--
Anita Graser
Home: http://anitagraser.com
Twitter: @underdarkgis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221023/beb88a67/attachment-0001.htm>

From matthias at opengis.ch  Sun Oct 23 06:45:30 2022
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sun, 23 Oct 2022 15:45:30 +0200
Subject: [QGIS-Developer] Vector destination vs feature sink
In-Reply-To: <1666525189874.3986820772.1522043583@gmx.at>
References: <CACPZzQ3WTnVdarZ3EEbSY0gMonPzN2FHqC7RJkBrKB4oj2UDtA@mail.gmail.com>
 <1666525189874.3986820772.1522043583@gmx.at>
Message-ID: <CAC7zN96jrZ8H7uoLcgY_A3=zEqObTOPeoNn86q1JKm=6OzBoSg@mail.gmail.com>

Hi Anita,

A QgsFeatureSink is an interface for accepting features. This can be a
QgsVectorLayer but does not have to be one. It can also be a spatial index,
a vector file writer or others.
I.e. your algorithm specifies that it produces "features" which can be sent
to a vector layer, another algorithm or [you-name-it]. It doesn't care if
it's a vector layer, which also has other properties like style.
This even leaves room for future optimization of processing pipelines, for
example, features could be sent through various algorithms without waiting
for the first one to be finished.

I hope that sheds some light
Matthias


On Sun, Oct 23, 2022 at 1:48 PM Anita Graser via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Thank you very much, Thomas. This code comparison approach is very useful
> indeed.
>
> If FeatureSink covers all functions of VectorDestination and more, that
> still leaves me wonder what is the downside of a FeatureSink
>
> "Note: Consider using the more flexible QgsProcessingParameterFeatureSink
> <https://api.qgis.org/api/3.22/classQgsProcessingParameterFeatureSink.html> wherever
> possible."
>
> i.e. where is it not possible to use a Feature Sink? Only in older
> versions of QGIS?
>
> Regards,
> Anita
>
>
> On Saturday, 22. October 2022 23:32:11 (+02:00), Thomas Gratier wrote:
>
> Hi,
>
> Although, I do know the intend to recommend one against the other, doing
> some code differences helps to sort out things.
> They both inherits from same classes but the constructor for
> QgsProcessingParameterFeatureSink accepts an additionnal arg bool
> supportsAppend
> <https://api.qgis.org/api/3.22/classQgsProcessingParameterFeatureSink.html#acae2863d5dab37aec4c5466d7d3a84d9>
> =false
>
> You also find the additional methods in QgsProcessingParameterFeatureSink
> to manipulate the same supportsAppend.
>
> ```
> a = QgsProcessingParameterVectorDestination(
>   'OUTPUT',
>   'Sortie'
> )
>
> b = QgsProcessingParameterFeatureSink(
>   'OUTPUT',
>   'Sortie'
> )
>
> methods_a = dir(a)
> methods_b = dir(b)
> common_methods = set(methods_a).intersection(methods_b)
> print(common_methods)
>
> only_in_a = set(methods_a).difference(methods_b)
> print(only_in_a)
>
> only_in_b = set(methods_b).difference(methods_a)
> print(only_in_b)
> ```
>
> Regards
>
> Thomas Gratier
>
> Le ven. 21 oct. 2022 ? 18:07, Anita Graser via QGIS-Developer <
> qgis-developer at lists.osgeo.org> a ?crit :
>
>> Thank you Stefan,
>>
>> I saw that note but was hoping some developer could shed light on what
>> they mean by "more flexible" and "wherever possible". I guess otherwise
>> it's just trial and error.
>>
>> Regards,
>> Anita
>>
>>
>> On Wednesday, 19. October 2022 07:44:05 (+02:00), Stefan Giese
>> (WhereGroup) wrote:
>>
>> Hi Anita,
>>
>> they are very similar, but the API Documentation says to
>> QgsProcessingParameterVectorDestination: "Note: Consider using the more
>> flexible QgsProcessingParameterFeatureSink
>> <https://api.qgis.org/api/3.22/classQgsProcessingParameterFeatureSink.html>
>> wherever possible." (
>> https://api.qgis.org/api/3.22/classQgsProcessingParameterVectorDestination.html#details
>> )
>>
>> Best regards
>>
>> Stefan
>> Am 18.10.2022 um 20:35 schrieb Anita Graser via QGIS-Developer:
>>
>> Hi.
>>
>> Does any one of you know the real difference between
>> QgsProcessingParameterVectorDestination versus
>> QgsProcessingParameterFeatureSink? They seem to be used interchangably in
>> the resources I can find.
>>
>> Thank you.
>>
>> Anita
>>
>> _______________________________________________
>> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> --
>> Mit freundlichen Gr??en
>> Stefan Giese
>> Projektleiter/Consultant
>> ---------------------------------------------
>> Aufwind durch Wissen!
>> Jetzt neu: Web-Seminare und Online-Schulungen
>> bei der www.foss-academy.com
>> ---------------------------------------------
>> WhereGroup GmbH
>> Schwimmbadstr. 2
>> 79100 Freiburg
>> Germany
>>
>> Tel.: +49 (0)761 / 519 102 - 61
>> Fax: +49 (0)761 / 519 102 - 11
>> stefan.giese at wheregroup.comwww.wheregroup.com
>> Gesch?ftsf?hrer:
>> Olaf Knopp, Peter Stamm
>> Amtsgericht Bonn, HRB 9885
>>
>>
> --
> --
> Anita Graser
> Home: http://anitagraser.com
> Twitter: @underdarkgis
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
 <https://qfield.org/get/>

QFIELD 2.0 IS HERE! - Hold the power of QGIS in 
your hand - learn more 
<https://www.opengis.ch/2022/04/05/qfield-2-0-is-here/> - get it now 
<https://qfield.org/get>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221023/37aad128/attachment.htm>

From alan.a.mick at googlemail.com  Sun Oct 23 07:02:11 2022
From: alan.a.mick at googlemail.com (Alan Mick)
Date: Sun, 23 Oct 2022 10:02:11 -0400
Subject: [QGIS-Developer] Remove Alan.A.Mick@gmail.com from list
In-Reply-To: <CAC7zN96jrZ8H7uoLcgY_A3=zEqObTOPeoNn86q1JKm=6OzBoSg@mail.gmail.com>
References: <CACPZzQ3WTnVdarZ3EEbSY0gMonPzN2FHqC7RJkBrKB4oj2UDtA@mail.gmail.com>
 <1666525189874.3986820772.1522043583@gmx.at>
 <CAC7zN96jrZ8H7uoLcgY_A3=zEqObTOPeoNn86q1JKm=6OzBoSg@mail.gmail.com>
Message-ID: <68d4199a-aa2c-8b6c-e916-e72c5393bc8a@gmail.com>

I am sorry for spamming the list with this request, but I have tried 
multiple times to remove myself and have not been successful. Would 
someone please remove me from the list? Thank you!


From rdmailings at duif.net  Sun Oct 23 07:18:17 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 23 Oct 2022 16:18:17 +0200
Subject: [QGIS-Developer] Remove Alan.A.Mick@gmail.com from list
In-Reply-To: <68d4199a-aa2c-8b6c-e916-e72c5393bc8a@gmail.com>
References: <CACPZzQ3WTnVdarZ3EEbSY0gMonPzN2FHqC7RJkBrKB4oj2UDtA@mail.gmail.com>
 <1666525189874.3986820772.1522043583@gmx.at>
 <CAC7zN96jrZ8H7uoLcgY_A3=zEqObTOPeoNn86q1JKm=6OzBoSg@mail.gmail.com>
 <68d4199a-aa2c-8b6c-e916-e72c5393bc8a@gmail.com>
Message-ID: <5d4c9775-753f-841a-332d-0661496ef87c@duif.net>

On 10/23/22 16:02, Alan Mick via QGIS-Developer wrote:
> I am sorry for spamming the list with this request, but I have tried multiple times to remove myself and have not been successful. Would someone please remove me from the list? Thank you!

Done

Richard Duivenvoorde


From anitagraser at gmx.at  Sun Oct 23 11:30:01 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Sun, 23 Oct 2022 18:30:01 +0000
Subject: [QGIS-Developer] Vector destination vs feature sink
In-Reply-To: <CAC7zN96jrZ8H7uoLcgY_A3=zEqObTOPeoNn86q1JKm=6OzBoSg@mail.gmail.com>
References: <CAC7zN96jrZ8H7uoLcgY_A3=zEqObTOPeoNn86q1JKm=6OzBoSg@mail.gmail.com>
Message-ID: <1666549197460.1351207488.845740129@gmx.at>

Thank you Matthias, those future optimization possibilities sound really exciting.


Based on all your responses so far, I think I'd summarize that Processing script developers should always go for the feature sink parameter QgsProcessingParameterFeatureSink. 


Given the info Nyall shared with me, the vector destination parameter is only used in implementations of third party tools (such as Saga/grass/otb) which are limited to outputting "plain old vector files". That's why the QgsProcessingParameterVectorDestination class exists. 


This has been very helpful. I'll go update my materials accordingly. Thank you all.


Regards,
Anita




On Sunday, 23. October 2022 15:45:30 (+02:00), Matthias Kuhn wrote:


Hi Anita,


A QgsFeatureSink is an interface for accepting features. This can be a QgsVectorLayer but does not have to be one. It can also be a spatial index, a vector file writer or others.
I.e. your algorithm specifies that it produces "features" which can be sent to a vector layer, another algorithm or [you-name-it]. It doesn't care if it's a vector layer, which also has other properties like style.
This even leaves room for future optimization of processing pipelines, for example, features could be sent through various algorithms without waiting for the first one to be finished.


I hope that sheds some light
Matthias




On Sun, Oct 23, 2022 at 1:48 PM Anita Graser via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:

Thank you very much, Thomas. This code comparison approach is very useful indeed. 

If FeatureSink covers all functions of VectorDestination and more, that still leaves me wonder what is the downside of a FeatureSink


"Note: Consider using the more flexible QgsProcessingParameterFeatureSink wherever possible."


i.e. where is it not possible to use a Feature Sink? Only in older versions of QGIS? 


Regards,
Anita


On Saturday, 22. October 2022 23:32:11 (+02:00), Thomas Gratier wrote:


Hi,


Although, I do know the intend to recommend one against the other, doing some code differences helps to sort out things.
They both inherits from same classes but the constructor for QgsProcessingParameterFeatureSink accepts an additionnal arg bool supportsAppend=false


You also find the additional methods in QgsProcessingParameterFeatureSink to manipulate the same supportsAppend.


```
a = QgsProcessingParameterVectorDestination(
  'OUTPUT',
  'Sortie'
)

b = QgsProcessingParameterFeatureSink(
  'OUTPUT',
  'Sortie'
)

methods_a = dir(a)
methods_b = dir(b)
common_methods = set(methods_a).intersection(methods_b)
print(common_methods)

only_in_a = set(methods_a).difference(methods_b)

print(only_in_a)

only_in_b = set(methods_b).difference(methods_a)
print(only_in_b)
```


Regards


Thomas Gratier


Le ven. 21 oct. 2022 ? 18:07, Anita Graser via QGIS-Developer <qgis-developer at lists.osgeo.org> a ?crit :

Thank you Stefan,


I saw that note but was hoping some developer could shed light on what they mean by "more flexible" and "wherever possible". I guess otherwise it's just trial and error. 


Regards,
Anita


On Wednesday, 19. October 2022 07:44:05 (+02:00), Stefan Giese (WhereGroup) wrote:



Hi Anita,

they are very similar, but the API Documentation says to QgsProcessingParameterVectorDestination: "Note: Consider using the more flexible QgsProcessingParameterFeatureSink wherever possible." (https://api.qgis.org/api/3.22/classQgsProcessingParameterVectorDestination.html#details)

Best regards

Stefan


Am 18.10.2022 um 20:35 schrieb Anita Graser via QGIS-Developer:

Hi.

Does any one of you know the real difference between QgsProcessingParameterVectorDestination versus QgsProcessingParameterFeatureSink? They seem to be used interchangably in the resources I can find.

Thank you.

Anita


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant
---------------------------------------------
Aufwind durch Wissen!
Jetzt neu: Web-Seminare und Online-Schulungen
bei der www.foss-academy.com
---------------------------------------------
WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Tel.: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885

-- 
--
Anita Graser
Home: http://anitagraser.com
Twitter: @underdarkgis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221023/3fdab5e0/attachment-0001.htm>

From jvenegasperu at gmail.com  Mon Oct 24 06:58:53 2022
From: jvenegasperu at gmail.com (Jose Mercedes Venegas Acevedo)
Date: Mon, 24 Oct 2022 08:58:53 -0500
Subject: [QGIS-Developer] username and password as parameters to web page
Message-ID: <CA+KjtGdvnAjtOed=9Jx-VUwcQHGcvB=LeKTCsYXboZ6cZA53iw@mail.gmail.com>

I am using QGIS to access a Postgres database.

Can someone tell me how I could pass that same username and password as a
parameter to a web page?

for example to directly open a page in qgis according to the manual for
example in this line

from qgis.PyQt.QtCore import QUrl; from qgis.PyQt.QtWebKitWidgets import
QWebView; myWV = QWebView(None); myWV.load(QUrl('
https://wikipedia.org/wiki/[%name%]')); myWV.show()

replace the content between square brackets with the user who accessed

-- 
Jos? Mercedes Venegas Acevedo
cel 955725384
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221024/35cbdd61/attachment.htm>

From rdmailings at duif.net  Tue Oct 25 09:08:35 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 25 Oct 2022 18:08:35 +0200
Subject: [QGIS-Developer] Changelog 3.28 in website
Message-ID: <65c49ca5-f227-215d-0f75-5c47adcab5e2@duif.net>

Hi,

I pulled 3.28 changelog into the website, I took oct 22 as released date (it was requested to put that in the changelog), ok?

https://qgis.org/en/site/forusers/visualchangelog328/index.html

If you seen anything wrong or missing, please us know, or just fix it in a PR

https://github.com/qgis/QGIS-Website/edit/master/source/site/forusers/visualchangelog328/index.rst

Regards,

Richard Duivenvoorde

From andreas at qgis.org  Tue Oct 25 23:06:26 2022
From: andreas at qgis.org (Andreas Neumann)
Date: Wed, 26 Oct 2022 08:06:26 +0200
Subject: [QGIS-Developer] Changelog 3.28 in website
In-Reply-To: <65c49ca5-f227-215d-0f75-5c47adcab5e2@duif.net>
References: <65c49ca5-f227-215d-0f75-5c47adcab5e2@duif.net>
Message-ID: <CAB2Z92DcQEU=4hKdcNCdSunuz9E=3hGymYu1j6A32=dhb814mw@mail.gmail.com>

Hi,

Thank  you very much - to everyone who worked on the visual changelog! Your
work is appreciated!

Andreas

On Tue, 25 Oct 2022 at 18:08, Richard Duivenvoorde via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi,
>
> I pulled 3.28 changelog into the website, I took oct 22 as released date
> (it was requested to put that in the changelog), ok?
>
> https://qgis.org/en/site/forusers/visualchangelog328/index.html
>
> If you seen anything wrong or missing, please us know, or just fix it in a
> PR
>
>
> https://github.com/qgis/QGIS-Website/edit/master/source/site/forusers/visualchangelog328/index.rst
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221026/b8488eb8/attachment.htm>

From jef at norbit.de  Wed Oct 26 05:59:59 2022
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 26 Oct 2022 14:59:59 +0200
Subject: [QGIS-Developer] Changelog 3.28 in website
In-Reply-To: <65c49ca5-f227-215d-0f75-5c47adcab5e2@duif.net>
References: <65c49ca5-f227-215d-0f75-5c47adcab5e2@duif.net>
Message-ID: <20221026125959.s3p5ea6kewvmmve4@norbit.de>

Hi Richard,

On Tue, 25. Oct 2022 at 18:08:35 +0200, Richard Duivenvoorde via QGIS-Developer wrote:
> I took oct 22 as released date (it was requested to put that in the changelog), ok?

Why?  https://github.com/qgis/QGIS/tree/final-3_28_0


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221026/17125618/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221026/17125618/attachment.ksh>

From rdmailings at duif.net  Wed Oct 26 06:10:49 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 26 Oct 2022 15:10:49 +0200
Subject: [QGIS-Developer] Changelog 3.28 in website
In-Reply-To: <20221026125959.s3p5ea6kewvmmve4@norbit.de>
References: <65c49ca5-f227-215d-0f75-5c47adcab5e2@duif.net>
 <20221026125959.s3p5ea6kewvmmve4@norbit.de>
Message-ID: <537a38d6-44c5-c2d1-2241-633ff82c87dc@duif.net>

On 10/26/22 14:59, J?rgen E. Fischer wrote:
> Hi Richard,
> 
> On Tue, 25. Oct 2022 at 18:08:35 +0200, Richard Duivenvoorde via QGIS-Developer wrote:
>> I took oct 22 as released date (it was requested to put that in the changelog), ok?
> 
> Why?  https://github.com/qgis/QGIS/tree/final-3_28_0

I thought that it was 22, but feel free to change to 21 :-)

RIchard


From jef at norbit.de  Wed Oct 26 06:42:25 2022
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 26 Oct 2022 15:42:25 +0200
Subject: [QGIS-Developer] [Qgis-community-team] Changelog 3.28 in website
In-Reply-To: <537a38d6-44c5-c2d1-2241-633ff82c87dc@duif.net>
References: <65c49ca5-f227-215d-0f75-5c47adcab5e2@duif.net>
 <20221026125959.s3p5ea6kewvmmve4@norbit.de>
 <537a38d6-44c5-c2d1-2241-633ff82c87dc@duif.net>
Message-ID: <20221026134225.kt4kl432cylf5ibb@norbit.de>

Hi Richard,

On Wed, 26. Oct 2022 at 15:10:49 +0200, Richard Duivenvoorde wrote:
> On 10/26/22 14:59, J?rgen E. Fischer wrote:
> > On Tue, 25. Oct 2022 at 18:08:35 +0200, Richard Duivenvoorde via QGIS-Developer wrote:
> > > I took oct 22 as released date (it was requested to put that in the changelog), ok?

> > Why?  https://github.com/qgis/QGIS/tree/final-3_28_0

> I thought that it was 22, but feel free to change to 21 :-)

Ah.  I thought somebody requested that particular date, while you just meant
that a release date in the changelog was requested.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221026/99b081ad/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221026/99b081ad/attachment.ksh>

From rdmailings at duif.net  Thu Oct 27 02:03:05 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 27 Oct 2022 11:03:05 +0200
Subject: [QGIS-Developer] git action failing for website build
Message-ID: <445da833-4903-26fe-3c92-fd5c76b4a766@duif.net>

Hi,

Merging a PR for the website results in an email that the build github action is failing.

Looking into the job:
https://github.com/qgis/QGIS-Website/actions/runs/3335448522/jobs/5519433842
it says:

ar/_downloads/fec0bc7494ac1248c2aa2d46a9ee7687/qgis-icon128.png
ar/_downloads/ffdffe621f1ed4ee1d4d15c11f27cf6d/QGISBudget2019.pdf
rsync: write failed on "/mnt/HC_Volume_22264126/html/af/_images/0ee88178c41fb6f57e0cc9ebe92256c58cfd9f55.gif": No space left on device (28)
rsync error: error in file IO (code 11) at receiver.c(374) [receiver=3.1.3]
Error: Process completed with exit code 11.

Anybody knows, do we hit some max size? Or can we just 'resize' the container?

Thanks & Regards,

Richard Duivenvoorde

From rdmailings at duif.net  Thu Oct 27 03:39:19 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 27 Oct 2022 12:39:19 +0200
Subject: [QGIS-Developer] legendLayersAdded signal not fired anymore in
 master?
Message-ID: <615b2e2b-6073-40b0-0ff8-5f7fa6c0e8c3@duif.net>

See https://github.com/qgis/QGIS/issues/50718

Anybody can confirm or falsify?

Regards,

Richard Duivenvoorde

From delazj at gmail.com  Thu Oct 27 23:10:19 2022
From: delazj at gmail.com (Harrissou s.)
Date: Fri, 28 Oct 2022 08:10:19 +0200
Subject: [QGIS-Developer] Broken coordinate/distance/area calculation tests
Message-ID: <847A3B27-0285-4A54-9D13-A569085C6130@gmail.com>

Hi,
I am wondering if the method for area/distance calculation has changed again in master or if the issue is in some transformation accuracy changes.

In QGIS docs, we are getting failing tests for calculation we did not touch the underlying data for years.
See starting from https://github.com/qgis/QGIS-Documentation/actions/runs/3339628288/jobs/5530428647#step:6:703

Regards,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221028/5c987c2e/attachment.htm>

From Melanie.Dol at sat-ocean.com  Thu Oct 27 07:34:06 2022
From: Melanie.Dol at sat-ocean.com (=?UTF-8?Q?M=c3=a9lanie_Dol?=)
Date: Thu, 27 Oct 2022 16:34:06 +0200
Subject: [QGIS-Developer] segmentation fault in standalone script using
 PyQGIS
Message-ID: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>

Hi all,

I'm developing a standalone script in Python, using QGIS libraires. My 
goal is to apply a style to my geopackage and save it without opening QGIS.
Before to write a standalone script, I tested my script in the python 
console of QGIS and it works.

Now, I'm trying to run it in using PYQGIS in standalone script and 
obvioulsy it doesn't work.
When I'm trying to save my layers with processing.run, a segmentation 
fault appears. Do you have any idea what is going on ? Please find 
attached my script and the QGIS version .

**************************************
*python3.8 Create_Style_QGIS.py*
/usr/share/qgis/python/plugins/processing/algs/qgis/ImportIntoSpatialite.py:103: 
SyntaxWarning: "is" with a literal. Did you mean "=="?
 ? if uri.database() is '':
/usr/share/qgis/python/plugins/processing/algs/qgis/SpatialiteExecuteSQL.py:69: 
SyntaxWarning: "is" with a literal. Did you mean "=="?
 ? if uri.database() is '':
/usr/share/qgis/python/plugins/processing/algs/grass7/Grass7Utils.py:191: 
SyntaxWarning: "is" with a literal. Did you mean "=="?
 ? if path is '':
Segmentation fault (core dumped)
**************************************

Many thanks and regards,

M?lanie Dol
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221027/b2651db9/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: QGIS_Version.png
Type: image/png
Size: 125052 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221027/b2651db9/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Create_Style_QGIS.py
Type: text/x-python
Size: 7470 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221027/b2651db9/attachment-0001.py>

From rdmailings at duif.net  Fri Oct 28 00:57:32 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 28 Oct 2022 09:57:32 +0200
Subject: [QGIS-Developer] Planning with github build actions? Should I stop
 the cronjob?
Message-ID: <44a748f3-0214-0d09-a7c5-84ed091d7a25@duif.net>

Hi People,

Looking that the github actions running after a commit to QGIS-Website repo, part of the actions is also to rsync/scp(?) it to a server.

What is the idea here? Because I'm also running a build cron task on qgis5 (starting at 00:00 see bottom english qgis.org)...

Should I remove the job, so we can better see if the action is succesfull or not?

Or is the action only a trial, to be see IF it would work?
Or to work with the new site?

Regards,

Richard Duivenvoorde


From andreaerdna at libero.it  Fri Oct 28 02:47:15 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Fri, 28 Oct 2022 11:47:15 +0200
Subject: [QGIS-Developer] segmentation fault in standalone script using
 PyQGIS
In-Reply-To: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>
References: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>
Message-ID: <bec35ce9-a7eb-0757-3b15-1431307d5053@libero.it>

Il 27/10/2022 16:34, M?lanie Dol via QGIS-Developer ha scritto:
> /usr/share/qgis/python/plugins/processing/algs/grass7/Grass7Utils.py:191: 
> SyntaxWarning: "is" with a literal. Did you mean "=="?
> ? if path is '':

Hi M?lanie,
while I don't know why that script generates a segmentation fault, It 
seems you are using QGIS 3.10 which is a three years old version. The 
QGIS repository for Ubuntu 20.04 currently offers the latest available 
QGIS LTR 3.22.12.

Best regards.

Andrea Giudiceandrea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221028/0adb869b/attachment.htm>

From fredrikl at gvc.gu.se  Fri Oct 28 05:51:58 2022
From: fredrikl at gvc.gu.se (Fredrik Lindberg)
Date: Fri, 28 Oct 2022 12:51:58 +0000
Subject: [QGIS-Developer] Issue when using subprocess in the Processing
 toolbox
Message-ID: <GVYP280MB0238CFC1BD53A4B481F3C28785329@GVYP280MB0238.SWEP280.PROD.OUTLOOK.COM>

Hello,
I am one of the maintainers of the Plugin (FUSION for Processing) that makes is possible to use FUSION LVD LIDAR analysis and visualization software in QGIS on Windows computers. I am experiencing a very strange issue that I do not understand. It appears using PolyClipData64.exe via a the subprocess Python library.

With the test data I use I can run the tool via a command prompt using the command below:

"C:/FUSION\PolyClipData64.exe" /class:1 "D:\LidarQGISFUSION\FastighetskartanVektor_1501_3006\by_get.shp" "D:/LidarQGISFUSION/tempfromscript/test.las" "D:\LidarQGISFUSION\tempfromscript\clippedLidar.las"

Then I make use of the function Popen in subprocess in the Python console in QGIS without error:
fused_command = '"C:/FUSION\PolyClipData64.exe" "/class:1" "D:/LidarQGISFUSION/FastighetskartanVektor_1501_3006/by_get.shp" "D:/LidarQGISFUSION/tempfromscript/test11.las" "D:/LidarQGISFUSION/tempfromscript/clippedLidar.las"'

subprocess.Popen(fused_command,shell=True,stdout=subprocess.PIPE, stdin=subprocess.DEVNULL,stderr=subprocess.STDOUT,universal_newlines=True)

But when I use the same code snippet in my processing plugin it fails.

Does anyone have an idea what might be going on here?

Any suggestion highly appreciated!

/Fredrik
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221028/e2e2df6a/attachment.htm>

From Melanie.Dol at sat-ocean.com  Fri Oct 28 07:40:50 2022
From: Melanie.Dol at sat-ocean.com (=?UTF-8?Q?M=c3=a9lanie_Dol?=)
Date: Fri, 28 Oct 2022 16:40:50 +0200
Subject: [QGIS-Developer] segmentation fault in standalone script using
 PyQGIS
In-Reply-To: <bec35ce9-a7eb-0757-3b15-1431307d5053@libero.it>
References: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>
 <bec35ce9-a7eb-0757-3b15-1431307d5053@libero.it>
Message-ID: <742f80e5-e96e-245f-c1d4-93fe694b7c37@sat-ocean.com>

Hi Andrea,

Thank you. I've updated with QGIS 3.26 Buenos Aires. The warning message 
have disappeared. Unfortunately, the script still generates a 
segmentation fault.

Best regards,

M?lanie Dol

On 10/28/22 11:47 AM, Andrea Giudiceandrea via QGIS-Developer wrote:
> Il 27/10/2022 16:34, M?lanie Dol via QGIS-Developer ha scritto:
>> /usr/share/qgis/python/plugins/processing/algs/grass7/Grass7Utils.py:191: 
>> SyntaxWarning: "is" with a literal. Did you mean "=="?
>> ? if path is '':
>
> Hi M?lanie,
> while I don't know why that script generates a segmentation fault, It 
> seems you are using QGIS 3.10 which is a three years old version. The 
> QGIS repository for Ubuntu 20.04 currently offers the latest available 
> QGIS LTR 3.22.12.
>
> Best regards.
>
> Andrea Giudiceandrea
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221028/e139227f/attachment.htm>

From jacky.volpes at oslandia.com  Fri Oct 28 07:55:34 2022
From: jacky.volpes at oslandia.com (Jacky Volpes)
Date: Fri, 28 Oct 2022 16:55:34 +0200
Subject: [QGIS-Developer] segmentation fault in standalone script using
 PyQGIS
In-Reply-To: <742f80e5-e96e-245f-c1d4-93fe694b7c37@sat-ocean.com>
References: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>
 <bec35ce9-a7eb-0757-3b15-1431307d5053@libero.it>
 <742f80e5-e96e-245f-c1d4-93fe694b7c37@sat-ocean.com>
Message-ID: <a384c6a6-231f-818e-c372-9184d116fed2@oslandia.com>

Hi M?lanie,

Have you initialized your standalone script as shown in 
https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/intro.html#using-pyqgis-in-standalone-scripts 
?

Best regards,
Jacky


Le 28/10/2022 ? 16:40, M?lanie Dol via QGIS-Developer a ?crit?:
> Hi Andrea,
>
> Thank you. I've updated with QGIS 3.26 Buenos Aires. The warning 
> message have disappeared. Unfortunately, the script still generates a 
> segmentation fault.
>
> Best regards,
>
> M?lanie Dol
>
> On 10/28/22 11:47 AM, Andrea Giudiceandrea via QGIS-Developer wrote:
>> Il 27/10/2022 16:34, M?lanie Dol via QGIS-Developer ha scritto:
>>> /usr/share/qgis/python/plugins/processing/algs/grass7/Grass7Utils.py:191: 
>>> SyntaxWarning: "is" with a literal. Did you mean "=="?
>>> ? if path is '':
>>
>> Hi M?lanie,
>> while I don't know why that script generates a segmentation fault, It 
>> seems you are using QGIS 3.10 which is a three years old version. The 
>> QGIS repository for Ubuntu 20.04 currently offers the latest 
>> available QGIS LTR 3.22.12.
>>
>> Best regards.
>>
>> Andrea Giudiceandrea
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Jacky Volpes

Ing?nieur SIG - Oslandia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221028/d48f4ee8/attachment-0001.htm>

From Melanie.Dol at sat-ocean.com  Fri Oct 28 08:10:58 2022
From: Melanie.Dol at sat-ocean.com (=?UTF-8?Q?M=c3=a9lanie_Dol?=)
Date: Fri, 28 Oct 2022 17:10:58 +0200
Subject: [QGIS-Developer] segmentation fault in standalone script using
 PyQGIS
In-Reply-To: <a384c6a6-231f-818e-c372-9184d116fed2@oslandia.com>
References: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>
 <bec35ce9-a7eb-0757-3b15-1431307d5053@libero.it>
 <742f80e5-e96e-245f-c1d4-93fe694b7c37@sat-ocean.com>
 <a384c6a6-231f-818e-c372-9184d116fed2@oslandia.com>
Message-ID: <3e64046b-dddc-4c81-4eca-2274110ee959@sat-ocean.com>

Hi Jacky,

Yes of course. Please find attached my script.

Regards,

M?lanie

On 10/28/22 4:55 PM, Jacky Volpes via QGIS-Developer wrote:
> Hi M?lanie,
>
> Have you initialized your standalone script as shown in 
> https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/intro.html#using-pyqgis-in-standalone-scripts 
> ?
>
> Best regards,
> Jacky
>
>
> Le 28/10/2022 ? 16:40, M?lanie Dol via QGIS-Developer a ?crit?:
>> Hi Andrea,
>>
>> Thank you. I've updated with QGIS 3.26 Buenos Aires. The warning 
>> message have disappeared. Unfortunately, the script still generates a 
>> segmentation fault.
>>
>> Best regards,
>>
>> M?lanie Dol
>>
>> On 10/28/22 11:47 AM, Andrea Giudiceandrea via QGIS-Developer wrote:
>>> Il 27/10/2022 16:34, M?lanie Dol via QGIS-Developer ha scritto:
>>>> /usr/share/qgis/python/plugins/processing/algs/grass7/Grass7Utils.py:191: 
>>>> SyntaxWarning: "is" with a literal. Did you mean "=="?
>>>> ? if path is '':
>>>
>>> Hi M?lanie,
>>> while I don't know why that script generates a segmentation fault, 
>>> It seems you are using QGIS 3.10 which is a three years old version. 
>>> The QGIS repository for Ubuntu 20.04 currently offers the latest 
>>> available QGIS LTR 3.22.12.
>>>
>>> Best regards.
>>>
>>> Andrea Giudiceandrea
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -- 
> Jacky Volpes
>
> Ing?nieur SIG - Oslandia
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221028/9091011c/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Create_Style_QGIS.py
Type: text/x-python
Size: 7043 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221028/9091011c/attachment.py>

From tim at kartoza.com  Fri Oct 28 08:18:19 2022
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 28 Oct 2022 16:18:19 +0100
Subject: [QGIS-Developer] [Qgis-community-team] Planning with github
 build actions? Should I stop the cronjob?
In-Reply-To: <44a748f3-0214-0d09-a7c5-84ed091d7a25@duif.net>
References: <44a748f3-0214-0d09-a7c5-84ed091d7a25@duif.net>
Message-ID: <689C4EFD-F313-4CFE-93D5-BF17DB39E2A1@kartoza.com>

Hi Richard 


No please keep the cron going . I would like to run the two in parallel for a while to ensure everything works. At the moment we ran out of disk space on the new server so I would also like to mount some external storage.

Regards 

?
Tim Sutton
Kartoza co-founder
Open Source GIS Specialist
https://kartoza.com


> On 28 Oct 2022, at 08:57, Richard Duivenvoorde <rdmailings at duif.net> wrote:
> 
> ?Hi People,
> 
> Looking that the github actions running after a commit to QGIS-Website repo, part of the actions is also to rsync/scp(?) it to a server.
> 
> What is the idea here? Because I'm also running a build cron task on qgis5 (starting at 00:00 see bottom english qgis.org)...
> 
> Should I remove the job, so we can better see if the action is succesfull or not?
> 
> Or is the action only a trial, to be see IF it would work?
> Or to work with the new site?
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> _______________________________________________
> Qgis-community-team mailing list for organizing community resources such as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team

From Ethan.Snyder at rve.com  Fri Oct 28 14:10:32 2022
From: Ethan.Snyder at rve.com (Ethan Snyder)
Date: Fri, 28 Oct 2022 21:10:32 +0000
Subject: [QGIS-Developer] Revolt Chat Community Server
Message-ID: <BL0PR16MB2578113471682B625861582B9B329@BL0PR16MB2578.namprd16.prod.outlook.com>

Greetings Devs!

        For those who aren't aware, Tim Sutton and I created a new community site with Revolt.

        Revolt is a FOSS alternative to Discord that has many of the features of Discord (for those who know about Discord), but without the not-so-friendly TOS.
        Some features are missing, but are planned as Revolt is in very active development (such as the overhauled .

        I gave a presentation on a QGIS Open Day session regarding the new community site (https://www.youtube.com/watch?v=nrvTnkGNzSw)

        A big reason for creating this, was to help centralize and organize the community. A key feature is being able to have multiple rooms (channels) for various topics all under one single roof. Need a new room for some major thing without clogging up the main dev channel (such as Qt 6 work)? Need a room for discussing the new QGIS website aside from comments on Figma (already suggested to Anita)? Creating separate rooms for these discussions is very easy (takes a few seconds), and helps organize things, and increases community involvement and feedback.

        I have setup already, a couple of development rooms: core development, plugin development, translations, documentation, and a general chat for hackfests (Carlos, Amy, Raymond, and Tim already posted tons of photos from the hackfest in Firenze).

        Right now, the server isn't very active. But, I believe that with enough key/core members using it, it will gain traction as we use it. There are already numerous people signed up for this server.

        I recommend checking it out, there are desktop apps, mobile apps, and a Web App available (plus with being FOSS, custom apps are completely allowed, unlike Discord).
        Please feel free to provide feedback. A couple of people have already made suggestions; and things have been rearranged, and changed since it's initial setup and launch, so nothing is set in stone.

        To create an account: https://.revolt.chat
        To join the QGIS server: https://rvlt.gg/eRTmS1ZV

        Let me know if you have any questions. We made this for the QGIS community, as we believe this is a great platform for such a large and active community and would like to see it used.

Thanks,

Ethan Snyder
DISCLAIMER: This message and any documents attached may contain confidential information and are intended only for the individual(s) named. If you are not the intended recipient, or the employee or agent authorized to received for the intended recipient, you should not disseminate, distribute or copy this e-mail and any attached documents. If you have received this e-mail in error, please immediately notify the sender at Remington & Vernick Engineers by replying to this e-mail and delete the original e-mail and any reply e-mail messages from your system. E-mail transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or incomplete, or contain viruses. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of e-mail transmission. If verification is required please request a hard-copy version. Thank you.

From delazj at gmail.com  Sun Oct 30 14:11:10 2022
From: delazj at gmail.com (Harrissou s.)
Date: Sun, 30 Oct 2022 22:11:10 +0100
Subject: [QGIS-Developer] Broken coordinate/distance/area calculation
 tests
In-Reply-To: <847A3B27-0285-4A54-9D13-A569085C6130@gmail.com>
References: <847A3B27-0285-4A54-9D13-A569085C6130@gmail.com>
Message-ID: <A07A0F93-3BA9-4303-9267-04EB5865D893@gmail.com>

Hi,

So nobody knows why the tests that used to pass and succeeded on Thursday, suddenly failed on Friday? Or should I just adjust the tests outputs and stop bothering?!?

https://github.com/qgis/QGIS-Documentation/actions/workflows/doctest.yml

Greetings,
Harrissou S.


Le 28 octobre 2022 08:10:19 GMT+02:00, "Harrissou s." <delazj at gmail.com> a ?crit?:
>Hi,
>I am wondering if the method for area/distance calculation has changed again in master or if the issue is in some transformation accuracy changes.
>
>In QGIS docs, we are getting failing tests for calculation we did not touch the underlying data for years.
>See starting from https://github.com/qgis/QGIS-Documentation/actions/runs/3339628288/jobs/5530428647#step:6:703
>
>Regards,
>Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221030/691583b8/attachment.htm>

From nyall.dawson at gmail.com  Sun Oct 30 15:20:19 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 31 Oct 2022 08:20:19 +1000
Subject: [QGIS-Developer] Broken coordinate/distance/area calculation
 tests
In-Reply-To: <847A3B27-0285-4A54-9D13-A569085C6130@gmail.com>
References: <847A3B27-0285-4A54-9D13-A569085C6130@gmail.com>
Message-ID: <CAB28Ashr2iEK4hk8JaS=DCFVjc=X_7S1_n=6rtcrDfY-znY5Wg@mail.gmail.com>

On Fri, 28 Oct 2022 at 16:10, Harrissou s. via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi,
> I am wondering if the method for area/distance calculation has changed again in master or if the issue is in some transformation accuracy changes.
>
> In QGIS docs, we are getting failing tests for calculation we did not touch the underlying data for years.
> See starting from https://github.com/qgis/QGIS-Documentation/actions/runs/3339628288/jobs/5530428647#step:6:703

Was there any corresponding updates to the test infrastructure? This
looks to me like a proj library update has been installed.

Nyall

>
> Regards,
> Harrissou
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From delazj at gmail.com  Sun Oct 30 16:11:51 2022
From: delazj at gmail.com (Delaz J)
Date: Mon, 31 Oct 2022 00:11:51 +0100
Subject: [QGIS-Developer] Broken coordinate/distance/area calculation
 tests
In-Reply-To: <CAB28Ashr2iEK4hk8JaS=DCFVjc=X_7S1_n=6rtcrDfY-znY5Wg@mail.gmail.com>
References: <847A3B27-0285-4A54-9D13-A569085C6130@gmail.com>
 <CAB28Ashr2iEK4hk8JaS=DCFVjc=X_7S1_n=6rtcrDfY-znY5Wg@mail.gmail.com>
Message-ID: <c307ea06-9935-a5be-90cb-ce077e060012@gmail.com>

Hi,

Thanks Nyall. No, no changes I'm aware of: 
https://github.com/qgis/QGIS-Documentation/commits/master

master itself is(was?) green. It is the latest PR 
<https://github.com/qgis/QGIS-Documentation/pull/7849> that fails, and 
given that it touches nothing related to tests, I suspect the culprit is 
somewhere in the qgis docker image we pull.

Regards,

Harrissou

Le 30/10/2022 ? 23:20, Nyall Dawson a ?crit?:
> On Fri, 28 Oct 2022 at 16:10, Harrissou s. via QGIS-Developer
> <qgis-developer at lists.osgeo.org>  wrote:
>> Hi,
>> I am wondering if the method for area/distance calculation has changed again in master or if the issue is in some transformation accuracy changes.
>>
>> In QGIS docs, we are getting failing tests for calculation we did not touch the underlying data for years.
>> See starting fromhttps://github.com/qgis/QGIS-Documentation/actions/runs/3339628288/jobs/5530428647#step:6:703
> Was there any corresponding updates to the test infrastructure? This
> looks to me like a proj library update has been installed.
>
> Nyall
>
>> Regards,
>> Harrissou
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221031/64ff304d/attachment.htm>

From jacky.volpes at oslandia.com  Mon Oct 31 04:14:42 2022
From: jacky.volpes at oslandia.com (Jacky Volpes)
Date: Mon, 31 Oct 2022 12:14:42 +0100
Subject: [QGIS-Developer] segmentation fault in standalone script using
 PyQGIS
In-Reply-To: <3e64046b-dddc-4c81-4eca-2274110ee959@sat-ocean.com>
References: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>
 <bec35ce9-a7eb-0757-3b15-1431307d5053@libero.it>
 <742f80e5-e96e-245f-c1d4-93fe694b7c37@sat-ocean.com>
 <a384c6a6-231f-818e-c372-9184d116fed2@oslandia.com>
 <3e64046b-dddc-4c81-4eca-2274110ee959@sat-ocean.com>
Message-ID: <abc2b597-2892-6908-b7ef-875528cc36f6@oslandia.com>

Hi M?lanie,

Thanks for the script, I was able to reproduce the segmentation fault 
with a dummy gpkg I made.

After some investigations, it seems that the symbol named "style_layer" 
used in
 ??? 1. the addSymbol() method for the first layer
 ??? 2. & 3. the QgsRendererCategory() constructor for the second and 
third layer
is None (nullptr -> hence? the segfault).

If I add the following

 ??? if style_layer is None:
 ??? ??? style_layer = 
QgsSymbol.defaultSymbol(Layer_Pressure_Center.geometryType())

just before using style_layer as a safe check (for each layer of course) 
everything works fine.
Maybe it's simply because I don't have these symbols pre-configured, but 
it's worth the check on your side.

Also, I encapsulated the code like this, which prevents another segfault 
to occur due to local/global scope stuff I think:

---

all imports

def main():
 ??? the main code

if__name__ == '__main__':
 ??? set prefix path
 ??? create qgs application
 ??? append plugins path to sys.path and import processing stuff
 ??? main()
 ??? qgs.exitQgis()

---


Regards,
Jacky



Le 28/10/2022 ? 17:10, M?lanie Dol via QGIS-Developer a ?crit?:
> Hi Jacky,
>
> Yes of course. Please find attached my script.
>
> Regards,
>
> M?lanie
>
> On 10/28/22 4:55 PM, Jacky Volpes via QGIS-Developer wrote:
>> Hi M?lanie,
>>
>> Have you initialized your standalone script as shown in 
>> https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/intro.html#using-pyqgis-in-standalone-scripts 
>> ?
>>
>> Best regards,
>> Jacky
>>
>>
>> Le 28/10/2022 ? 16:40, M?lanie Dol via QGIS-Developer a ?crit?:
>>> Hi Andrea,
>>>
>>> Thank you. I've updated with QGIS 3.26 Buenos Aires. The warning 
>>> message have disappeared. Unfortunately, the script still generates 
>>> a segmentation fault.
>>>
>>> Best regards,
>>>
>>> M?lanie Dol
>>>
>>> On 10/28/22 11:47 AM, Andrea Giudiceandrea via QGIS-Developer wrote:
>>>> Il 27/10/2022 16:34, M?lanie Dol via QGIS-Developer ha scritto:
>>>>> /usr/share/qgis/python/plugins/processing/algs/grass7/Grass7Utils.py:191: 
>>>>> SyntaxWarning: "is" with a literal. Did you mean "=="?
>>>>> ? if path is '':
>>>>
>>>> Hi M?lanie,
>>>> while I don't know why that script generates a segmentation fault, 
>>>> It seems you are using QGIS 3.10 which is a three years old 
>>>> version. The QGIS repository for Ubuntu 20.04 currently offers the 
>>>> latest available QGIS LTR 3.22.12.
>>>>
>>>> Best regards.
>>>>
>>>> Andrea Giudiceandrea
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> -- 
>> Jacky Volpes
>>
>> Ing?nieur SIG - Oslandia
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Jacky Volpes

Ing?nieur SIG - Oslandia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221031/18a9c288/attachment-0001.htm>

From Melanie.Dol at sat-ocean.com  Mon Oct 31 09:26:49 2022
From: Melanie.Dol at sat-ocean.com (=?UTF-8?Q?M=c3=a9lanie_Dol?=)
Date: Mon, 31 Oct 2022 17:26:49 +0100
Subject: [QGIS-Developer] segmentation fault in standalone script using
 PyQGIS
In-Reply-To: <abc2b597-2892-6908-b7ef-875528cc36f6@oslandia.com>
References: <a7be7c28-51d0-d7e9-d55f-a8f2be904089@sat-ocean.com>
 <bec35ce9-a7eb-0757-3b15-1431307d5053@libero.it>
 <742f80e5-e96e-245f-c1d4-93fe694b7c37@sat-ocean.com>
 <a384c6a6-231f-818e-c372-9184d116fed2@oslandia.com>
 <3e64046b-dddc-4c81-4eca-2274110ee959@sat-ocean.com>
 <abc2b597-2892-6908-b7ef-875528cc36f6@oslandia.com>
Message-ID: <9e0b7e55-aea4-ac4f-9aa6-f0ae538aa65b@sat-ocean.com>

Hi Jacky,

Thank you so much, the segmentation fault has disappeared.

However, my styles don't work. I guess my script can't access to my 
symbols pre-configured. Is there a path to add or anything else ?

Another question, how to force a label placement mode to "horizontal" ?

Many thanks and regards,

M?lanie

On 10/31/22 12:14 PM, Jacky Volpes via QGIS-Developer wrote:
> Hi M?lanie,
>
> Thanks for the script, I was able to reproduce the segmentation fault 
> with a dummy gpkg I made.
>
> After some investigations, it seems that the symbol named 
> "style_layer" used in
> ??? 1. the addSymbol() method for the first layer
> ??? 2. & 3. the QgsRendererCategory() constructor for the second and 
> third layer
> is None (nullptr -> hence? the segfault).
>
> If I add the following
>
> ??? if style_layer is None:
> ??? ??? style_layer = 
> QgsSymbol.defaultSymbol(Layer_Pressure_Center.geometryType())
>
> just before using style_layer as a safe check (for each layer of 
> course) everything works fine.
> Maybe it's simply because I don't have these symbols pre-configured, 
> but it's worth the check on your side.
>
> Also, I encapsulated the code like this, which prevents another 
> segfault to occur due to local/global scope stuff I think:
>
> ---
>
> all imports
>
> def main():
> ??? the main code
>
> if__name__ == '__main__':
> ??? set prefix path
> ??? create qgs application
> ??? append plugins path to sys.path and import processing stuff
> ??? main()
> ??? qgs.exitQgis()
>
> ---
>
>
> Regards,
> Jacky
>
>
>
> Le 28/10/2022 ? 17:10, M?lanie Dol via QGIS-Developer a ?crit?:
>> Hi Jacky,
>>
>> Yes of course. Please find attached my script.
>>
>> Regards,
>>
>> M?lanie
>>
>> On 10/28/22 4:55 PM, Jacky Volpes via QGIS-Developer wrote:
>>> Hi M?lanie,
>>>
>>> Have you initialized your standalone script as shown in 
>>> https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/intro.html#using-pyqgis-in-standalone-scripts 
>>> ?
>>>
>>> Best regards,
>>> Jacky
>>>
>>>
>>> Le 28/10/2022 ? 16:40, M?lanie Dol via QGIS-Developer a ?crit?:
>>>> Hi Andrea,
>>>>
>>>> Thank you. I've updated with QGIS 3.26 Buenos Aires. The warning 
>>>> message have disappeared. Unfortunately, the script still generates 
>>>> a segmentation fault.
>>>>
>>>> Best regards,
>>>>
>>>> M?lanie Dol
>>>>
>>>> On 10/28/22 11:47 AM, Andrea Giudiceandrea via QGIS-Developer wrote:
>>>>> Il 27/10/2022 16:34, M?lanie Dol via QGIS-Developer ha scritto:
>>>>>> /usr/share/qgis/python/plugins/processing/algs/grass7/Grass7Utils.py:191: 
>>>>>> SyntaxWarning: "is" with a literal. Did you mean "=="?
>>>>>> ? if path is '':
>>>>>
>>>>> Hi M?lanie,
>>>>> while I don't know why that script generates a segmentation fault, 
>>>>> It seems you are using QGIS 3.10 which is a three years old 
>>>>> version. The QGIS repository for Ubuntu 20.04 currently offers the 
>>>>> latest available QGIS LTR 3.22.12.
>>>>>
>>>>> Best regards.
>>>>>
>>>>> Andrea Giudiceandrea
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> -- 
>>> Jacky Volpes
>>>
>>> Ing?nieur SIG - Oslandia
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -- 
> Jacky Volpes
>
> Ing?nieur SIG - Oslandia
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221031/0c25028c/attachment.htm>

