From cavallini at faunalia.it  Sat Nov  1 03:15:46 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat Nov  1 03:16:02 2008
Subject: [Qgis-developer] new C++ plugin
In-Reply-To: <1337323490.20081031222258@gis-lab.info>
References: <1337323490.20081031222258@gis-lab.info>
Message-ID: <490C0222.7010905@faunalia.it>

Maxim Dubinin ha scritto:
> Hi all,
> 
> Does someone want to test our brand new QGIS plugin? It is C++ based,
> so you need to copy it to plugins. This is part of the ongoing process
> to develop a bigger one and our first try, so judge accordingly ;)

Thanks a lot Maxim.
In general, I do not like very much the idea of having plugins scattered
across the net: if the community find this useful, why not joining the
team and incorporate the plugin in main qgis code? Of course, this will
require a longer term commitment from you.
The same applies to several other plugins we've seen around.
Otherwise, very few people will use them, and maintenance will be very
difficult.
All the best, and thanks!
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From b.rowlingson at lancaster.ac.uk  Sat Nov  1 05:41:40 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sat Nov  1 05:41:42 2008
Subject: [Qgis-developer] new C++ plugin
In-Reply-To: <1337323490.20081031222258@gis-lab.info>
References: <1337323490.20081031222258@gis-lab.info>
Message-ID: <d8ad40b50811010241t7eacec76ka805d14b2fa87aa5@mail.gmail.com>

2008/11/1 Maxim Dubinin <sim@gis-lab.info>:

> It adds two simple instruments, one tool is used to open the
> coordinates of the click in Google Maps and other tool gets and open a
> geometry from active layer in Google Earth. It is a handy tool for
> quickly sending stuff from QGIS to GE, we're using ourselves quite a
> bit.

 I would definitely look into developing plugins in Python and not
C++. The development cycle (edit/compile/test) is much quicker, and
cross-platform issues fewer. You don't have to distribute binaries for
different platforms either - Python code should run on all platforms.
Testing and debugging should be easier too. Also there's the existing
infrastructure for Python plugin distribution via the repository
system.

 You can do all the Qt4 stuff from Python and when you install the
ogr/gdal package for Python you can do OGR stuff as well.

 Anyway, just a thought! C++ has its place of course, and if you know
nothing about Python then there's an initial investment needed there.
But I think it's worth! :)

 If I get a spare couple of hours this weekend I might convert your
plugins to Python...

Barry
From cavallini at faunalia.it  Sat Nov  1 06:25:46 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat Nov  1 06:25:51 2008
Subject: [Qgis-developer] nextval not updated?
Message-ID: <490C2EAA.1060307@faunalia.it>

Hi all.
With a freshly compiled qgis I'm getting into trouble adding postgis
records: apparently the sequence is not updated, so the commit fails.
Is this a regression?
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From sim at gis-lab.info  Sat Nov  1 12:07:22 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Sat Nov  1 12:12:24 2008
Subject: [Qgis-developer] new C++ plugin
In-Reply-To: <490C0222.7010905@faunalia.it>
References: <1337323490.20081031222258@gis-lab.info>
	<490C0222.7010905@faunalia.it>
Message-ID: <1201139466.20081101110722@gis-lab.info>

Thanks for your comment!

Yes, we're ready to include our plugin in core QGIS, though
of course this will be time/resources question. Let me know what additional steps we should make.

-- 
Best regards,
 Maxim

?? ?????? 1 ?????? 2008 ?., 2:15:46:

PC> Maxim Dubinin ha scritto:
>> Hi all,
>> 
>> Does someone want to test our brand new QGIS plugin? It is C++ based,
>> so you need to copy it to plugins. This is part of the ongoing process
>> to develop a bigger one and our first try, so judge accordingly ;)

PC> Thanks a lot Maxim.
PC> In general, I do not like very much the idea of having plugins scattered
PC> across the net: if the community find this useful, why not joining the
PC> team and incorporate the plugin in main qgis code? Of course, this will
PC> require a longer term commitment from you.
PC> The same applies to several other plugins we've seen around.
PC> Otherwise, very few people will use them, and maintenance will be very
PC> difficult.
PC> All the best, and thanks!
PC> pc

From sim at gis-lab.info  Sat Nov  1 12:18:15 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Sat Nov  1 12:22:27 2008
Subject: [Qgis-developer] new C++ plugin
In-Reply-To: <d8ad40b50811010241t7eacec76ka805d14b2fa87aa5@mail.gmail.com>
References: <1337323490.20081031222258@gis-lab.info>
	<d8ad40b50811010241t7eacec76ka805d14b2fa87aa5@mail.gmail.com>
Message-ID: <682627614.20081101111815@gis-lab.info>

Thanks for your comment.

As for all other developers around, I guess, this is a question of
resources for us. We enjoy working with QGIS partly because of the
flexibility of what language to use for development. Realistically,
right now, we have resources for C++ developer and we want to
contribute our results back to the community.

I realize this is a pain to support different OSes when programming in
C++ and we're ready to contribute to the process of making our
plugin easier to work with under other OSes, but again, we have only
C++ developer at hand right now.

I'd think twice before porting our plugin to python, this will create
difficult situation for us, as we'd be pushed to keep two versions of
the plugin or start learning other language, which is not realistic at
the moment, I'm afraid.

Thanks for understanding.

-- 
Best regards,
 Maxim

?? ?????? 1 ?????? 2008 ?., 4:41:40:

BR> 2008/11/1 Maxim Dubinin <sim@gis-lab.info>:

>> It adds two simple instruments, one tool is used to open the
>> coordinates of the click in Google Maps and other tool gets and open a
>> geometry from active layer in Google Earth. It is a handy tool for
>> quickly sending stuff from QGIS to GE, we're using ourselves quite a
>> bit.

BR>  I would definitely look into developing plugins in Python and not
BR> C++. The development cycle (edit/compile/test) is much quicker, and
BR> cross-platform issues fewer. You don't have to distribute binaries for
BR> different platforms either - Python code should run on all platforms.
BR> Testing and debugging should be easier too. Also there's the existing
BR> infrastructure for Python plugin distribution via the repository
BR> system.

BR>  You can do all the Qt4 stuff from Python and when you install the
BR> ogr/gdal package for Python you can do OGR stuff as well.

BR>  Anyway, just a thought! C++ has its place of course, and if you know
BR> nothing about Python then there's an initial investment needed there.
BR> But I think it's worth! :)

BR>  If I get a spare couple of hours this weekend I might convert your
BR> plugins to Python...

BR> Barry

From jef at norbit.de  Sat Nov  1 12:40:24 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sat Nov  1 13:06:06 2008
Subject: [Qgis-developer] nextval not updated?
In-Reply-To: <490C2EAA.1060307@faunalia.it>
References: <490C2EAA.1060307@faunalia.it>
Message-ID: <20081101164024.GA20688@norbit.de>

Hi Paolo,

On Sat, 01. Nov 2008 at 11:25:46 +0100, Paolo Cavallini wrote:
> With a freshly compiled qgis I'm getting into trouble adding postgis
> records: apparently the sequence is not updated, so the commit fails.
> Is this a regression?

I'd say it's the other way round.  It wasn't updated before and is now.
So the ids retrieved from the not uptodate sequence clash with existing
rows.  So the sequences need to be updated first:

select setval('foo_id_seq', max(id)) from foo;


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From georger.silva at gmail.com  Sat Nov  1 15:09:39 2008
From: georger.silva at gmail.com (George Silva)
Date: Sat Nov  1 15:09:58 2008
Subject: [Qgis-developer] Azimuth problem
Message-ID: <490CA973.8070103@gmail.com>

Hello everyone,

I was testing some features in Qgis and i have a shapefile (SAD_69, UTM 
22S) with a field AZIMUTH. Its a polyline (street centerlines) shapefile.

I tried to add labels and configure them using the "Align by field" 
property. Oddly QGIS is labelling all my labels ~45d off.

What kind of units does QGIS use to rotate the labels? Can it be configured?
From sherman at mrcc.com  Sat Nov  1 18:50:32 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Nov  1 18:50:37 2008
Subject: [Qgis-developer] Data provider in Python
Message-ID: <331244FE-31D4-4EF2-800C-72D68CD9F86D@mrcc.com>

Has anyone attempted to write a data provider in Python? While the  
required qgis classes appear to be in the bindings, I believe the  
required plumbing within qgis does not exist.

Thoughts?

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From b.rowlingson at lancaster.ac.uk  Sat Nov  1 19:33:20 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sat Nov  1 19:33:22 2008
Subject: [Qgis-developer] Click-fu plugin
Message-ID: <d8ad40b50811011633x4b9db869u77355b349f2c07@mail.gmail.com>

I've just bashed out a new plugin, inspired by Maxim's google map
plugin and his use of QDesktopServices::openUrl. Mine of course is in
Python :)

Click-fu adds a new drop-down menu with a list of geo-based web
services. Currently there are three: Google maps, OpenStreetMap, and a
GeoNames XML search. The first two display a map on your web browser
when you click on a location after activating the tool, and the third
one brings up the Geonames extended search XML at the clicked
location. This lists country and subdivision and so on.

If anyone can think of any other web services that just take a single
lat-long pair then it's easy to add them, it takes about eight lines
of code (most of that is boilerplate). In fact so much is boilerplate
that it could be trivially easy to convert the plugin to just use a
config file with some kind of spec for each web service. Then the user
interface could include a config editor so you could add new web
services yourself.

Or I could add more configuration to the existing services - for
example at the moment the zoom scale of google maps and openstreetmap
is fixed.

Or I could add web service searches that rely on a bounding box -
geonames has a lot of these (www.geonames.org).

Code is on google code:

 svn checkout http://bsrplugins.googlecode.com/svn/trunk/clickfu clickfu

 No installer yet, just extract and put in your plugins folder.
Activate plugin from Manage Plugins, restart, click away.

 Notes:

  * It doesn't know if you've not got a lat-long coordinate system
going, so can request things for lat=122323,lon=373424. Your web
service might not like that.

  * Needs Qgis Preview 1.0 - I think its just because 0.11 has
getMainWindow and getMapCanvas whereas 1.0 has those without 'get'.

Have fun with it...

Barry
From sim at gis-lab.info  Sat Nov  1 22:57:52 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Sat Nov  1 22:59:23 2008
Subject: [Qgis-developer] Click-fu plugin
In-Reply-To: <d8ad40b50811011633x4b9db869u77355b349f2c07@mail.gmail.com>
References: <d8ad40b50811011633x4b9db869u77355b349f2c07@mail.gmail.com>
Message-ID: <1941304952.20081101215752@gis-lab.info>

nice development of the idea Barry, I like it very much. I've tried to
install it and it gives me on load:

***********************************************************************
Couldn't load plugin clickfu due an error when calling its initGui() method

Traceback (most recent call last):
  File "", line 1, in 
  File "C:/Gis/QGIS\./python/plugins\clickfu\clickfu.py", line 25, in initGui
    self.googleMaps = googleMap(self.iface)
  File "C:/Gis/QGIS\./python/plugins\clickfu\googlemaps.py", line 11, in __init__
    cfAction.__init__(self,self.name(),iface)
  File "C:/Gis/QGIS\./python/plugins\clickfu\clickFuUtils.py", line 9, in __init__
    QAction.__init__(self,self.name(),iface.mainWindow())
AttributeError: mainWindow

Python version:
2.5.2 (r252:60911, Feb 21 2008, 13:11:45) [MSC v.1310 32 bit (Intel)]

Python path:
['C:/Gis/QGIS\\./python', 'C:/Documents and Settings/mdubinin/.qgis//python/plugins', 'C:/Gis/QGIS\\./python/plugins', 'c:\\Gis\\QGIS\\Quantum GIS\\python', 'C:\\Gis\\QGIS\\python25.zip', 'C:\\Program Files\\Python\\Lib', 'C:\\Program Files\\Python\\DLLs', 'C:\\Program Files\\Python\\Lib\\lib-tk', 'C:\\Gis\\QGIS', 'C:\\Program Files\\Python', 'C:\\Program Files\\Python\\lib\\site-packages']
***********************************************************************

Maxim

?? ?????? 1 ?????? 2008 ?., 18:33:20:

BR> I've just bashed out a new plugin, inspired by Maxim's google map
BR> plugin and his use of QDesktopServices::openUrl. Mine of course is in
BR> Python :)

BR> Click-fu adds a new drop-down menu with a list of geo-based web
BR> services. Currently there are three: Google maps, OpenStreetMap, and a
BR> GeoNames XML search. The first two display a map on your web browser
BR> when you click on a location after activating the tool, and the third
BR> one brings up the Geonames extended search XML at the clicked
BR> location. This lists country and subdivision and so on.

BR> If anyone can think of any other web services that just take a single
BR> lat-long pair then it's easy to add them, it takes about eight lines
BR> of code (most of that is boilerplate). In fact so much is boilerplate
BR> that it could be trivially easy to convert the plugin to just use a
BR> config file with some kind of spec for each web service. Then the user
BR> interface could include a config editor so you could add new web
BR> services yourself.

BR> Or I could add more configuration to the existing services - for
BR> example at the moment the zoom scale of google maps and openstreetmap
BR> is fixed.

BR> Or I could add web service searches that rely on a bounding box -
BR> geonames has a lot of these (www.geonames.org).

BR> Code is on google code:

BR>  svn checkout http://bsrplugins.googlecode.com/svn/trunk/clickfu clickfu

BR>  No installer yet, just extract and put in your plugins folder.
BR> Activate plugin from Manage Plugins, restart, click away.

BR>  Notes:

BR>   * It doesn't know if you've not got a lat-long coordinate system
BR> going, so can request things for lat=122323,lon=373424. Your web
BR> service might not like that.

BR>   * Needs Qgis Preview 1.0 - I think its just because 0.11 has
BR> getMainWindow and getMapCanvas whereas 1.0 has those without 'get'.

BR> Have fun with it...

BR> Barry
BR> _______________________________________________
BR> Qgis-developer mailing list
BR> Qgis-developer@lists.osgeo.org
BR> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From sherman at mrcc.com  Sun Nov  2 00:42:12 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sun Nov  2 00:42:19 2008
Subject: [Qgis-developer] Click-fu plugin
In-Reply-To: <1941304952.20081101215752@gis-lab.info>
References: <d8ad40b50811011633x4b9db869u77355b349f2c07@mail.gmail.com>
	<1941304952.20081101215752@gis-lab.info>
Message-ID: <D183ADE7-2A00-49A2-A051-B4F79622D77C@mrcc.com>

On Nov 1, 2008, at 6:57 PM, Maxim Dubinin wrote:

>   cfAction.__init__(self,self.name(),iface)
>  File "C:/Gis/QGIS\./python/plugins\clickfu\clickFuUtils.py", line  
> 9, in __init__
>    QAction.__init__(self,self.name(),iface.mainWindow())
> AttributeError: mainWindo


The plugin requires QGIS Kore Preview or the latest development  
version from SVN.

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From b.rowlingson at lancaster.ac.uk  Sun Nov  2 04:52:26 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sun Nov  2 04:52:28 2008
Subject: [Qgis-developer] Click-fu plugin
In-Reply-To: <D183ADE7-2A00-49A2-A051-B4F79622D77C@mrcc.com>
References: <d8ad40b50811011633x4b9db869u77355b349f2c07@mail.gmail.com>
	<1941304952.20081101215752@gis-lab.info>
	<D183ADE7-2A00-49A2-A051-B4F79622D77C@mrcc.com>
Message-ID: <d8ad40b50811020152x6ae7e137od36894d4a9eed259@mail.gmail.com>

2008/11/2 Gary Sherman <sherman@mrcc.com>:

>
> The plugin requires QGIS Kore Preview or the latest development version from
> SVN.

 A v0.11 compatible version is now on my google code repo:

svn checkout http://bsrplugins.googlecode.com/svn/branches/v0.1/clickfu

Barry
From cavallini at faunalia.it  Sun Nov  2 05:42:50 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Nov  2 05:42:55 2008
Subject: [Qgis-developer] Click-fu plugin
In-Reply-To: <d8ad40b50811020152x6ae7e137od36894d4a9eed259@mail.gmail.com>
References: <d8ad40b50811011633x4b9db869u77355b349f2c07@mail.gmail.com>	<1941304952.20081101215752@gis-lab.info>	<D183ADE7-2A00-49A2-A051-B4F79622D77C@mrcc.com>
	<d8ad40b50811020152x6ae7e137od36894d4a9eed259@mail.gmail.com>
Message-ID: <490D842A.2080509@faunalia.it>

Barry Rowlingson ha scritto:
> 2008/11/2 Gary Sherman <sherman@mrcc.com>:
> 
>> The plugin requires QGIS Kore Preview or the latest development version from
>> SVN.
> 
>  A v0.11 compatible version is now on my google code repo:

Hi Barry.
Why not setting up a repo, and adding it to Borys 3rd party?
It's so nice and smooth to add and test plugins this way...
BTW: I think we should really have an "official" sandbox for all
"testing" plugins.
All the best and many thanks.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From b.rowlingson at lancaster.ac.uk  Sun Nov  2 06:06:20 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sun Nov  2 06:06:22 2008
Subject: [Qgis-developer] Click-fu plugin
In-Reply-To: <490D842A.2080509@faunalia.it>
References: <d8ad40b50811011633x4b9db869u77355b349f2c07@mail.gmail.com>
	<1941304952.20081101215752@gis-lab.info>
	<D183ADE7-2A00-49A2-A051-B4F79622D77C@mrcc.com>
	<d8ad40b50811020152x6ae7e137od36894d4a9eed259@mail.gmail.com>
	<490D842A.2080509@faunalia.it>
Message-ID: <d8ad40b50811020306q35346631l8006dcd467173f53@mail.gmail.com>

2008/11/2 Paolo Cavallini <cavallini@faunalia.it>:

> Why not setting up a repo, and adding it to Borys 3rd party?
> It's so nice and smooth to add and test plugins this way...
> BTW: I think we should really have an "official" sandbox for all
> "testing" plugins.

 Well, I only wrote this yesterday, I'm currently working out a good
way of automatically building my repo from the current SVN sources in
my bsrplugins google code store. It's just a case of doing an update
and then building the plugins.xml file. Has anyone else done this yet?

Barry
From b.rowlingson at lancaster.ac.uk  Sun Nov  2 06:09:24 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sun Nov  2 06:09:27 2008
Subject: [Qgis-developer] Version number in plugin path?
Message-ID: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>

Given the API changes between 0.11 and 1.0, wouldn't it be sensible to
put the version number in plugin paths? So that plugins for 0.11 would
be in ~user/.qgis/python/plugins/0.11/ and those for 1.0 would be in
~user/.qgis/python/plugins/1.0/?

The granularity of the version number in the path only needs to match
that of the api stability, so if the next api change is for 2.0, then
there's probably no need to have a /1.1/ plugin folder.

Just a thought. The R stats package does this and it works nicely.

Barry
From wonder.sk at gmail.com  Sun Nov  2 06:46:20 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Nov  2 06:46:22 2008
Subject: [Qgis-developer] Data provider in Python
In-Reply-To: <331244FE-31D4-4EF2-800C-72D68CD9F86D@mrcc.com>
References: <331244FE-31D4-4EF2-800C-72D68CD9F86D@mrcc.com>
Message-ID: <e8e7199c0811020346w20a0733ex6f17365f0409fd24@mail.gmail.com>

On Sat, Nov 1, 2008 at 11:50 PM, Gary Sherman <sherman@mrcc.com> wrote:
> Has anyone attempted to write a data provider in Python? While the required
> qgis classes appear to be in the bindings, I believe the required plumbing
> within qgis does not exist.
>
> Thoughts?

Gary,
you're right, so far there isn't any infrastructure in QGIS that would
enable data providers in Python.

Martin
From b.rowlingson at lancaster.ac.uk  Sun Nov  2 07:59:53 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sun Nov  2 07:59:56 2008
Subject: [Qgis-developer] Data provider in Python
In-Reply-To: <e8e7199c0811020346w20a0733ex6f17365f0409fd24@mail.gmail.com>
References: <331244FE-31D4-4EF2-800C-72D68CD9F86D@mrcc.com>
	<e8e7199c0811020346w20a0733ex6f17365f0409fd24@mail.gmail.com>
Message-ID: <d8ad40b50811020459v1865a04dvc0afb203d441c165@mail.gmail.com>

2008/11/2 Martin Dobias <wonder.sk@gmail.com>:

> you're right, so far there isn't any infrastructure in QGIS that would
> enable data providers in Python.

 I think last time we had this discussion the conclusion was that it
would be better to write and contribute new data source drivers for
OGR rather than specialised providers for QGIS. However, I don't think
you can write them in Python yet...

Barry
From tim at linfiniti.com  Sun Nov  2 10:36:38 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Nov  2 10:36:41 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
Message-ID: <d368056f0811020736s3e7e64cbrb1b9376ab0ccf259@mail.gmail.com>

Hi

This sounds like a good idea to me too - it will also let people use
multiple versions of QGIS on their machines...(ignoring other issues
like project file versioning etc).

Regards

Tim

2008/11/2 Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
> Given the API changes between 0.11 and 1.0, wouldn't it be sensible to
> put the version number in plugin paths? So that plugins for 0.11 would
> be in ~user/.qgis/python/plugins/0.11/ and those for 1.0 would be in
> ~user/.qgis/python/plugins/1.0/?
>
> The granularity of the version number in the path only needs to match
> that of the api stability, so if the next api change is for 2.0, then
> there's probably no need to have a /1.1/ plugin folder.
>
> Just a thought. The R stats package does this and it works nicely.
>
> Barry
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
From tech_dev at wildintellect.com  Sun Nov  2 12:55:56 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Sun Nov  2 12:56:01 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <490B737C.3000003@wildintellect.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>
	<490B737C.3000003@wildintellect.com>
Message-ID: <490DE9AC.90902@wildintellect.com>

Well, it appears to be an issue on only some machines possibly related
to video card drivers and X11 not necessarily qt.

Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in virtual
box) so kde libs are not the solution.

I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
drivers, haven't tried plain vga drivers yet.

Carson: what video card do you have?

Any ideas,
Alex

Backtrace is here:
   1.
      (gdb) bt
   2.
      #0  0xb6541803 in _XrmInternalStringToQuark () from
/usr/lib/libX11.so.6
   3.
      #1  0xb6541ca7 in XrmStringToQuark () from /usr/lib/libX11.so.6
   4.
      #2  0xb655dc95 in _XlcOpenConverter () from /usr/lib/libX11.so.6
   5.
      #3  0xb6565372 in _Xlcmbstowcs () from /usr/lib/libX11.so.6
   6.
      #4  0xb6565463 in _Xmbstowcs () from /usr/lib/libX11.so.6
   7.
      #5  0xb657b18f in _XimParseStringFile () from /usr/lib/libX11.so.6
   8.
      #6  0xb6579284 in _XimLocalOpenIM () from /usr/lib/libX11.so.6
   9.
      #7  0xb657792d in _XimOpenIM () from /usr/lib/libX11.so.6
  10.
      #8  0xb6577650 in _XimRegisterIMInstantiateCallback ()
  11.
         from /usr/lib/libX11.so.6
  12.
      #9  0xb655b8c8 in XRegisterIMInstantiateCallback () from
/usr/lib/libX11.so.6
  13.
      #10 0xb7a1b3a7 in ?? () from /usr/lib/libQtGui.so.4
  14.
      #11 0xb7a19ea1 in QInputContextFactory::create () from
/usr/lib/libQtGui.so.4
  15.
      #12 0xb3ff5c40 in ?? ()
  16.
         from /usr/lib/qt4/plugins/inputmethods/libqimsw-multi.so
  17.
      #13 0xb3ff63f6 in ?? ()
  18.
         from /usr/lib/qt4/plugins/inputmethods/libqimsw-multi.so
  19.
      #14 0xb7a19ee4 in QInputContextFactory::create () from
/usr/lib/libQtGui.so.4
  20.
      #15 0xb74a7605 in QApplication::inputContext () from
/usr/lib/libQtGui.so.4
  21.
      #16 0xb74f0de8 in QWidgetPrivate::inputContext () from
/usr/lib/libQtGui.so.4
  22.
      #17 0xb74f97db in QWidget::setAttribute () from /usr/lib/libQtGui.so.4
  23.
      #18 0xb78b398c in ?? () from /usr/lib/libQtGui.so.4
  24.
      #19 0xb78b3fd7 in QTextEdit::QTextEdit () from /usr/lib/libQtGui.so.4

Alex Mandel wrote:
> Word of caution, we've identified that somethings wrong with qt4 in
> intrepid. This appears to work on kde4 installs but not purely gnome.
> 
> I'll post again when we resolve the issue.
> 
> Alex
> 
> J?rgen E. Fischer wrote:
>> Hi Alex,
>>
>> On Fri, 31. Oct 2008 at 12:03:14 -0700, Alex Mandel wrote:
>>> Any chance someone could put up a build of 0.11 to the launchpad repo
>>> for the new version of Ubuntu? Since it is the stable release we
>>> probably should keep building it until 1 is done.
>>
>> Source uploaded - launchpad is building...
>>
>>
>> J?rgen
>>
>>
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From carson.farmer at gmail.com  Sun Nov  2 13:06:58 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Sun Nov  2 13:07:04 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <490DE9AC.90902@wildintellect.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com>
Message-ID: <490DEC42.6030707@gmail.com>

Alex,
> Well, it appears to be an issue on only some machines possibly related
> to video card drivers and X11 not necessarily qt.
>
> Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in virtual
> box) so kde libs are not the solution.
>
> I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
> drivers, haven't tried plain vga drivers yet.
>
> Carson: what video card do you have?
>   
I have an intel card: Intel Graphics Media Accelerator (GMA) 950

I have had quite a bit of graphics card trouble with Intrepid, so I 
actually ended up doing a complete reinstall of hardy... Until I hear 
some very promising news saying these issues are resolved, I think I'm 
going to stick with hardy... sorry I can't be of more help...

Carson
From carson.farmer at gmail.com  Sun Nov  2 13:08:51 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Sun Nov  2 13:08:57 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <d368056f0811020736s3e7e64cbrb1b9376ab0ccf259@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d368056f0811020736s3e7e64cbrb1b9376ab0ccf259@mail.gmail.com>
Message-ID: <490DECB3.3030909@gmail.com>

+1
This would be great for users and plugin developers alike...

Nice idea Barry!

Carson
> Hi
>
> This sounds like a good idea to me too - it will also let people use
> multiple versions of QGIS on their machines...(ignoring other issues
> like project file versioning etc).
>
> Regards
>
> Tim
>
> 2008/11/2 Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
>   
>> Given the API changes between 0.11 and 1.0, wouldn't it be sensible to
>> put the version number in plugin paths? So that plugins for 0.11 would
>> be in ~user/.qgis/python/plugins/0.11/ and those for 1.0 would be in
>> ~user/.qgis/python/plugins/1.0/?
>>
>> The granularity of the version number in the path only needs to match
>> that of the api stability, so if the next api change is for 2.0, then
>> there's probably no need to have a /1.1/ plugin folder.
>>
>> Just a thought. The R stats package does this and it works nicely.
>>
>> Barry
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>     
>
>
>
>   

From tech_dev at wildintellect.com  Sun Nov  2 13:42:45 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Sun Nov  2 13:42:51 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <490DEC42.6030707@gmail.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com> <490DEC42.6030707@gmail.com>
Message-ID: <490DF4A5.5070300@wildintellect.com>

Carson Farmer wrote:
> Alex,
>> Well, it appears to be an issue on only some machines possibly related
>> to video card drivers and X11 not necessarily qt.
>>
>> Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in virtual
>> box) so kde libs are not the solution.
>>
>> I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
>> drivers, haven't tried plain vga drivers yet.
>>
>> Carson: what video card do you have?
>>   
> I have an intel card: Intel Graphics Media Accelerator (GMA) 950
> 
> I have had quite a bit of graphics card trouble with Intrepid, so I
> actually ended up doing a complete reinstall of hardy... Until I hear
> some very promising news saying these issues are resolved, I think I'm
> going to stick with hardy... sorry I can't be of more help...
> 
> Carson

Carson,

Can you just confirm that you were not having the gdal issue that was
causing a segfault and that you were having an issue where the splash
screen stuck at "Setting up GUI"

Alex
From carson.farmer at gmail.com  Sun Nov  2 14:01:01 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Sun Nov  2 14:01:06 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <490DF4A5.5070300@wildintellect.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com> <490DEC42.6030707@gmail.com>
	<490DF4A5.5070300@wildintellect.com>
Message-ID: <490DF8ED.1070509@gmail.com>

Alex,
> Carson Farmer wrote:
>   
>> Alex,
>>     
>>> Well, it appears to be an issue on only some machines possibly related
>>> to video card drivers and X11 not necessarily qt.
>>>
>>> Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in virtual
>>> box) so kde libs are not the solution.
>>>
>>> I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
>>> drivers, haven't tried plain vga drivers yet.
>>>
>>> Carson: what video card do you have?
>>>   
>>>       
>> I have an intel card: Intel Graphics Media Accelerator (GMA) 950
>>
>> I have had quite a bit of graphics card trouble with Intrepid, so I
>> actually ended up doing a complete reinstall of hardy... Until I hear
>> some very promising news saying these issues are resolved, I think I'm
>> going to stick with hardy... sorry I can't be of more help...
>>
>> Carson
>>     
>
> Carson,
>
> Can you just confirm that you were not having the gdal issue that was
> causing a segfault and that you were having an issue where the splash
> screen stuck at "Setting up GUI"
>   
Yes, I can confirm that the issue was with the splash screen stuck at 
"Setting up GUI"

Carson
From tech_dev at wildintellect.com  Sun Nov  2 19:49:35 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Sun Nov  2 19:49:40 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <490DE9AC.90902@wildintellect.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com>
Message-ID: <490E4A9F.9000801@wildintellect.com>

Alex Mandel wrote:
> Well, it appears to be an issue on only some machines possibly related
> to video card drivers and X11 not necessarily qt.
> 
> Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in virtual
> box) so kde libs are not the solution.
> 
> I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
> drivers, haven't tried plain vga drivers yet.
> 
> Carson: what video card do you have?
> 
> Any ideas,
> Alex
> 

>       #10 0xb7a1b3a7 in ?? () from /usr/lib/libQtGui.so.4
>   14.
>       #11 0xb7a19ea1 in QInputContextFactory::create () from
> /usr/lib/libQtGui.so.4
>   15.
>       #12 0xb3ff5c40 in ?? ()
>   16.
>          from /usr/lib/qt4/plugins/inputmethods/libqimsw-multi.so
>   17.
>       #13 0xb3ff63f6 in ?? ()
>   18.
>          from /usr/lib/qt4/plugins/inputmethods/libqimsw-multi.so

I ran another backtrace on a custom compiled qgis. The last line was not
the same making me think X might not be entirely repsonsible but these
?? lines occurred with libqt stuff. When I hit q gdb actually says
quiting from /usr/lib/qt4/plugins/inputmethods

Which brings up 2 clues:
1. my custom build does not appear to be using my custom Qt compile, how
do I force that in the ccmake step. I changed the qt_make line to point
to the right one.
2. libqimsw-multi.so seems to have something to do with it, possibly
solved by fixing #1

If it is something in X11 what's the commonality between the 3 machines
where it doesn't work, I have nvidia, Carson Intel and Tim ?
How would I attempt to fix/solve where the problem is?

Thanks,
Alex

From ersts at amnh.org  Sun Nov  2 22:08:28 2008
From: ersts at amnh.org (Peter Ersts)
Date: Sun Nov  2 22:08:38 2008
Subject: [Qgis-developer] Raster API Updates
Message-ID: <490E6B2C.6080707@amnh.org>

Howdy everyone,

You probably noticed that the API updates have started on the raster 
classes. All of the raster related classes are done except 
QgsRasterLayer, which is going to take a couple of days as there are 
many changes needed to get the API consistent with the core

So if at all possible please to not make update to QgsRasterLayer.h/cpp. 
If you absolutely must, please just drop me a quick note.

Happy hacking...
-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From marco.hugentobler at karto.baug.ethz.ch  Mon Nov  3 03:44:53 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Nov  3 03:44:50 2008
Subject: [Qgis-developer] new C++ plugin
In-Reply-To: <1337323490.20081031222258@gis-lab.info>
References: <1337323490.20081031222258@gis-lab.info>
Message-ID: <200811030944.53485.marco.hugentobler@karto.baug.ethz.ch>

Hi Maxim

Wow, really great work. Otschen spassibo to Russia!

A connection to the google world via plugin is a very good thing. I'd like to 
include the plugin into the standard distribution if that is ok for you and if 
you intend to do further development and maintaining of the code.

@Tim: I suppose feature freeze also holds for plugins? In that case, inclusion 
could be done after version 1.0 is out.

To the question C++ vs. Python: There is no 'official' rule which language to 
use for plugins. It's really up to the programmer, both have their pros and 
cons. 

Some wishes for the future:
Is it also possible to convert qgis symbology to kml? I think that would be 
very usefull. 
And the automatic conversion of features from layer coordinate system to 
google coordinates (is it WGS84?) would be a real killer feature.


Regards,
Marco



On Saturday 01 November 2008 04:22:58 Maxim Dubinin wrote:
> Hi all,
>
> Does someone want to test our brand new QGIS plugin? It is C++ based,
> so you need to copy it to plugins. This is part of the ongoing process
> to develop a bigger one and our first try, so judge accordingly ;)
>
> It adds two simple instruments, one tool is used to open the
> coordinates of the click in Google Maps and other tool gets and open a
> geometry from active layer in Google Earth. It is a handy tool for
> quickly sending stuff from QGIS to GE, we're using ourselves quite a
> bit.
>
> If someone is interested, svn is here:
> http://svn.gis-lab.info/qgis2google
>
> Win version can be downloaded from here
> http://gis-lab.info/programs/qgis/libqgis2googleplugin.zip
>
> Still trying to figure out the best way to distribute stuff like this
> for other OSes too, not much experience here.
>
> Maxim
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Mon Nov  3 03:58:45 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Nov  3 03:58:59 2008
Subject: [Qgis-developer] new C++ plugin
In-Reply-To: <200811030944.53485.marco.hugentobler@karto.baug.ethz.ch>
References: <1337323490.20081031222258@gis-lab.info>
	<200811030944.53485.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <1225702725.15862.3.camel@timbuntu>

Hi

On Mon, 2008-11-03 at 09:44 +0100, Marco Hugentobler wrote:
> Hi Maxim
> 
> Wow, really great work. Otschen spassibo to Russia!
> 
> A connection to the google world via plugin is a very good thing. I'd like to 
> include the plugin into the standard distribution if that is ok for you and if 
> you intend to do further development and maintaining of the code.

+1

> 
> @Tim: I suppose feature freeze also holds for plugins? In that case, inclusion 
> could be done after version 1.0 is out.

Yes we should schedule this for 1.1

> 
> To the question C++ vs. Python: There is no 'official' rule which language to 
> use for plugins. It's really up to the programmer, both have their pros and 
> cons. 

Yes I would also prefer if we dont discourage C++ plugins - for me the
bug benifit of C++ plugins is that they can usually be incoporated into
3rd party libqgis based applications without needing to package all the
python etc stuff.

Great work Maxim!

Regards

Tim

> 
> Some wishes for the future:
> Is it also possible to convert qgis symbology to kml? I think that would be 
> very usefull. 
> And the automatic conversion of features from layer coordinate system to 
> google coordinates (is it WGS84?) would be a real killer feature.
> 
> 
> Regards,
> Marco
> 
> 
> 
> On Saturday 01 November 2008 04:22:58 Maxim Dubinin wrote:
> > Hi all,
> >
> > Does someone want to test our brand new QGIS plugin? It is C++ based,
> > so you need to copy it to plugins. This is part of the ongoing process
> > to develop a bigger one and our first try, so judge accordingly ;)
> >
> > It adds two simple instruments, one tool is used to open the
> > coordinates of the click in Google Maps and other tool gets and open a
> > geometry from active layer in Google Earth. It is a handy tool for
> > quickly sending stuff from QGIS to GE, we're using ourselves quite a
> > bit.
> >
> > If someone is interested, svn is here:
> > http://svn.gis-lab.info/qgis2google
> >
> > Win version can be downloaded from here
> > http://gis-lab.info/programs/qgis/libqgis2googleplugin.zip
> >
> > Still trying to figure out the best way to distribute stuff like this
> > for other OSes too, not much experience here.
> >
> > Maxim
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081103/26b50e9b/attachment-0001.bin
From wonder.sk at gmail.com  Mon Nov  3 07:13:10 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Nov  3 07:13:12 2008
Subject: [Qgis-developer] PostGIS manager
In-Reply-To: <490D8246.1010603@sieczka.org>
References: <e8e7199c0810261612x5b95000atf2f499d65f4445ea@mail.gmail.com>
	<490D8246.1010603@sieczka.org>
Message-ID: <e8e7199c0811030413n3313e892n5d05631e818a445d@mail.gmail.com>

On Sun, Nov 2, 2008 at 11:34 AM, Maciej Sieczka <msieczka@sieczka.org> wrote:
> Martin Dobias pisze:
>
>> recently I've been working on a simple PostGIS database manager
>> plugin for QGIS.
>
> Cool cool cool!
>
> FWIW, I wrote a minimal "Create PostGIS layer" Python plugin myself
> sometime ago [1]. Maybe you can reuse some of it.
>
> [1]http://www.sieczka.org/programy_en.html

Thanks for pointing it out... although creation of new layers is
implemented already in my plugin.
Btw. I've just uploaded an updated version (0.2) with some more functionality.

Additions to my TODO list are still welcome.

Martin
From sim at gis-lab.info  Mon Nov  3 10:01:31 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Mon Nov  3 10:06:49 2008
Subject: [Qgis-developer] new C++ plugin
In-Reply-To: <200811030944.53485.marco.hugentobler@karto.baug.ethz.ch>
References: <1337323490.20081031222258@gis-lab.info>
	<200811030944.53485.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <33315747.20081103090131@gis-lab.info>

Tim, Marco - thanks for comments. Glad you like it.

I've put requests for symbology/coordinate system into our small
bugtracker. We'll work on that.

No problem with including in standard distribution of course.

Maxim

?? ?????? 3 ?????? 2008 ?., 2:44:53:

MH> Hi Maxim

MH> Wow, really great work. Otschen spassibo to Russia!

MH> A connection to the google world via plugin is a very good thing. I'd like to
MH> include the plugin into the standard distribution if that is ok for you and if
MH> you intend to do further development and maintaining of the code.

MH> @Tim: I suppose feature freeze also holds for plugins? In that case, inclusion
MH> could be done after version 1.0 is out.

MH> To the question C++ vs. Python: There is no 'official' rule which language to
MH> use for plugins. It's really up to the programmer, both have their pros and
MH> cons. 

MH> Some wishes for the future:
MH> Is it also possible to convert qgis symbology to kml? I think that would be
MH> very usefull. 
MH> And the automatic conversion of features from layer coordinate system to
MH> google coordinates (is it WGS84?) would be a real killer feature.


MH> Regards,
MH> Marco



MH> On Saturday 01 November 2008 04:22:58 Maxim Dubinin wrote:
>> Hi all,
>>
>> Does someone want to test our brand new QGIS plugin? It is C++ based,
>> so you need to copy it to plugins. This is part of the ongoing process
>> to develop a bigger one and our first try, so judge accordingly ;)
>>
>> It adds two simple instruments, one tool is used to open the
>> coordinates of the click in Google Maps and other tool gets and open a
>> geometry from active layer in Google Earth. It is a handy tool for
>> quickly sending stuff from QGIS to GE, we're using ourselves quite a
>> bit.
>>
>> If someone is interested, svn is here:
>> http://svn.gis-lab.info/qgis2google
>>
>> Win version can be downloaded from here
>> http://gis-lab.info/programs/qgis/libqgis2googleplugin.zip
>>
>> Still trying to figure out the best way to distribute stuff like this
>> for other OSes too, not much experience here.
>>
>> Maxim
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From john.tull at wildnevada.org  Mon Nov  3 14:00:27 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Mon Nov  3 14:00:33 2008
Subject: [Qgis-developer] PostGIS manager
In-Reply-To: <e8e7199c0811030413n3313e892n5d05631e818a445d@mail.gmail.com>
References: <e8e7199c0810261612x5b95000atf2f499d65f4445ea@mail.gmail.com>
	<490D8246.1010603@sieczka.org>
	<e8e7199c0811030413n3313e892n5d05631e818a445d@mail.gmail.com>
Message-ID: <BD14512C-8A0B-413E-9BA4-2532EA3056A9@me.com>

On Nov 3, 2008, at 4:13 AM, Martin Dobias wrote:

> Btw. I've just uploaded an updated version (0.2) with some more  
> functionality.

On OS X, I am getting tables to load but still no preview.

Cheers,
John
From qgis at szczepanek.pl  Mon Nov  3 16:38:24 2008
From: qgis at szczepanek.pl (Robert Szczepanek)
Date: Mon Nov  3 16:38:26 2008
Subject: [Qgis-developer] brochure link
Message-ID: <490F6F50.4000803@szczepanek.pl>

English brochure link on page
http://qgis.org/content/view/106/79/

should be:
http://download.osgeo.org/qgis/doc/brochure/qgis-0.9.0_2-sided_brochure_en.pdf

sincerely,
-- 
Robert Szczepanek
From otto.dassau at gmx.de  Tue Nov  4 01:27:46 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Tue Nov  4 01:29:32 2008
Subject: [Qgis-developer] brochure link
In-Reply-To: <490F6F50.4000803@szczepanek.pl>
References: <490F6F50.4000803@szczepanek.pl>
Message-ID: <20081104072746.1c4de561@nature>

thanks Robert, 

I changed it.

kind regards,
 Otto

On Mon, 03 Nov 2008 22:38:24 +0100
Robert Szczepanek <qgis@szczepanek.pl> wrote:

> English brochure link on page
> http://qgis.org/content/view/106/79/
> 
> should be:
> http://download.osgeo.org/qgis/doc/brochure/qgis-0.9.0_2-sided_brochure_en.pdf
> 
> sincerely,
From wonder.sk at gmail.com  Tue Nov  4 07:37:16 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov  4 07:37:18 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
Message-ID: <e8e7199c0811040437w1e1f14d6pd188d4ca81672c58@mail.gmail.com>

Hi Barry,

On Sun, Nov 2, 2008 at 12:09 PM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> Given the API changes between 0.11 and 1.0, wouldn't it be sensible to
> put the version number in plugin paths? So that plugins for 0.11 would
> be in ~user/.qgis/python/plugins/0.11/ and those for 1.0 would be in
> ~user/.qgis/python/plugins/1.0/?

that's a good idea. But maybe there are some possible issues I have in my mind:
- we can't move 0.11 plugins to python/plugins/0.11/ because of
compatibility as 0.11 searches plugins directly in python/plugins/
dir.
- adding new directory 1.0 into plugins would probably raise python
exceptions in qgis 0.11 as it won't contain a correct plugin


> The granularity of the version number in the path only needs to match
> that of the api stability, so if the next api change is for 2.0, then
> there's probably no need to have a /1.1/ plugin folder.

Well... if we're going to add new functionality to API in 1.x versions
and there will be plugins using this new functionality, we would need
a directory for any version where some functions/classes are added.

So probably a better way would be add a function to plugin's
__init__.py called e.g. apiVersion() that would state what (minimal)
version of QGIS the plugin needs. Plugins with apiVersion 1.1 won't be
loaded in 1.0 but will load in 1.3. And if we break API in QGIS 2.0
plugin manager will know that any plugins with apiVersion 1.x are
unsupported.

What do you think, guys?

Martin
From b.rowlingson at lancaster.ac.uk  Tue Nov  4 07:51:32 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Tue Nov  4 07:51:34 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <e8e7199c0811040437w1e1f14d6pd188d4ca81672c58@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<e8e7199c0811040437w1e1f14d6pd188d4ca81672c58@mail.gmail.com>
Message-ID: <d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>

2008/11/4 Martin Dobias <wonder.sk@gmail.com>:

> So probably a better way would be add a function to plugin's
> __init__.py called e.g. apiVersion() that would state what (minimal)
> version of QGIS the plugin needs. Plugins with apiVersion 1.1 won't be
> loaded in 1.0 but will load in 1.3. And if we break API in QGIS 2.0
> plugin manager will know that any plugins with apiVersion 1.x are
> unsupported.
>
> What do you think, guys?

 How do I keep both a 0.11-compatible version and a 1.0-compatible
version of my fnord plugin in the same directory? The folder name has
to be 'fnord' (doesn't it?).

Barry
From wonder.sk at gmail.com  Tue Nov  4 08:02:37 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov  4 08:02:39 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<e8e7199c0811040437w1e1f14d6pd188d4ca81672c58@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
Message-ID: <e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>

On Tue, Nov 4, 2008 at 1:51 PM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> 2008/11/4 Martin Dobias <wonder.sk@gmail.com>:
>
>> So probably a better way would be add a function to plugin's
>> __init__.py called e.g. apiVersion() that would state what (minimal)
>> version of QGIS the plugin needs. Plugins with apiVersion 1.1 won't be
>> loaded in 1.0 but will load in 1.3. And if we break API in QGIS 2.0
>> plugin manager will know that any plugins with apiVersion 1.x are
>> unsupported.
>>
>> What do you think, guys?
>
>  How do I keep both a 0.11-compatible version and a 1.0-compatible
> version of my fnord plugin in the same directory? The folder name has
> to be 'fnord' (doesn't it?).

Well, I've forgotten to write that it won't be straightforward to use
plugin in different versions of QGIS. The question is - do we really
need/want it? If we really need that, there's a possibility to add
some logic to its __init__.py that would detect QGIS version and
configure itself appropriately. Or you can have the plugin in two
different directories, e.g. fnord and fnord_legacy (or fnord_0-11).

Or we could use a brute-force mechanism that for QGIS 1.0 we change
qgis user dir from ~/qgis/ to ~/qgis/1.0/
This would maybe solve also some more potential incompatibilities.

Martin
From borys at wolf.most.org.pl  Tue Nov  4 09:24:38 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov  4 09:24:41 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
Message-ID: <200811041524.38454.borys@wolf.most.org.pl>

> So probably a better way would be add a function to plugin's
> __init__.py called e.g. apiVersion() that would state what (minimal)
> version of QGIS the plugin needs. Plugins with apiVersion 1.1 won't be
> loaded in 1.0 but will load in 1.3. And if we break API in QGIS 2.0
> plugin manager will know that any plugins with apiVersion 1.x are
> unsupported.

Yes, we definitely need this feature anyway. I thought about it for 
distinguishing 0.x and 1.x plugins in Installer and I've decided to use the 
separate repos, but within 1.x series this is really important feature. As 
well for Installer to avoid installing uncompatible plugins as for plugin 
loading subsystem, to avoid... you know, loading them ;))

So +1 for introducing such filter to QGIS right now. Of course only plugins 
not supporting this feature will be always loaded. One small suggestion: 
maybe not 'apiVersion()' but rather 'minVersion()'. We can also 
implement 'maxVersion()' for possible future necessity.

> >  How do I keep both a 0.11-compatible version and a 1.0-compatible
> > version of my fnord plugin in the same directory? The folder name has
> > to be 'fnord' (doesn't it?).
>
> Well, I've forgotten to write that it won't be straightforward to use
> plugin in different versions of QGIS. The question is - do we really
> need/want it? If we really need that, there's a possibility to add
> some logic to its __init__.py that would detect QGIS version and
> configure itself appropriately. Or you can have the plugin in two
> different directories, e.g. fnord and fnord_legacy (or fnord_0-11).

Only one problem is that Installer uses the module name to associate installed 
and available instances of each plugin. We can introduce fnord_0-11, 
fnord_1-0 and fnord_1-1, but Installer won't associate them, so won't update 
them after QGIS upgrade. It could mask uncompatible plugins, but after 
upgrade from QGIS 1.0 to 1.1 your old installed plugin would disappear from 
Installer's list and the new uninstalled one would appear. I don't like this 
behaviour, because I believe Installer should show all installed plugins to 
allow uninstallation.

We can use something another as the plugin id, for example a method in the 
__init__.py. So every of fnord* plugins returns its id 'fnord'. But it would 
be a pretty favourable to make mistakes.

Finally, I have an idea. We can arrange that the first dot (or dash) in 
directory name delimits the plugin id and a suffix. So we can install 
fnord.1-2, fnord.0.x, fnord.anything_you-want and all of them will be 
recognizes just as 'fnord'. At least by Installer. What do you think?

B.
From carson.farmer at gmail.com  Tue Nov  4 11:11:59 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov  4 11:12:06 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <200811041524.38454.borys@wolf.most.org.pl>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
	<200811041524.38454.borys@wolf.most.org.pl>
Message-ID: <4910744F.5040506@gmail.com>

Hey gang,

The other possibility, if we are concerned about compatibility with 
older versions, is that the plugins are only fetched from 
~/.qgis/python/plugins, however, putting additional folders in 
~/.qgis/python, such as /1_x_plugins, would not cause any problems ( I 
have lots of 'extra' plugins here that backups, or no longer maintained 
etc). This then, would allow users to have two versions of QGIS 
installed, both with the same plugins at different versions (so I could 
have and older version of ftools in ~/.qgis/python/plugins, and then a 
newer version associated with trunk in ~/.qgis/python/1_x_plugins.

This eliminates the issue Martin described earlier regarding:

> - we can't move 0.11 plugins to python/plugins/0.11/ because of
> compatibility as 0.11 searches plugins directly in python/plugins/
> dir.
> - adding new directory 1.0 into plugins would probably raise python
> exceptions in qgis 0.11 as it won't contain a correct plugin
which relates to Barry's comment about plugin directory names:
>  How do I keep both a 0.11-compatible version and a 1.0-compatible
> version of my fnord plugin in the same directory? The folder name has
> to be 'fnord' (doesn't it?).
>   
and if implemented right, the installer could still list all installed 
plugins, indicating that some are old api and some are new api, as per 
Borys' comment, using the __init__.py  apiVersion() flag idea. Thus, old 
plugins would stay in the /plugins directory, and if an older plugin is 
downloaded from an older api repository, it would also be placed in the 
/plugins folder. However, new plugins (downloaded from a new api 
repository) would be installed in /1_x_plugins. Then, based on the 
apiVersion() flag, only load them if we are using the correct version.


Thoughts?

Carson

-- 
Carson J.Q. Farmer
PhD Fellow
National Centre for Geocomputation (NCG),
John Hume Building,
National University of Ireland, Maynooth,
Co. Kildare,
Ireland.
http://www.carsonfarmer.com
http://www.ftools.ca

From Cedric.Moeri at bd.so.ch  Tue Nov  4 11:35:39 2008
From: Cedric.Moeri at bd.so.ch (=?UTF-8?Q?M=C3=B6ri_Cedric?=)
Date: Tue Nov  4 11:35:44 2008
Subject: [Qgis-developer] question to possible enhancements
Message-ID: <H00002e403a84684.1225816539.srsofaioi6145.ktso.ch@MHS>

Hello everybody

I've got two little points for enhancement. I'd like to know, if these
are already considered or if I may open an enhancement ticket about
them.

First: I'd like to have a possibility to move a vertex numerical to a
coordinate. Something like a dialog showing the coordinates of the
vertex and let me change them.
2nd: It would be great to have something to add a new attribute column
(at least for shapefiles) inside qgis (I guess these is quite complex
for all possible formats).

What do you think? Or are these points already discussed?

regards
Cedric

mit freundlichen Gr?ssen

C?dric M?ri
GIS-Informatiker

-- 

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
R?tistrasse 4
4501 Solothurn
Telefon +41 (0)32 627 24 75
Telefax +41 (0)32 627 22 14
<mailto:cedric.moeri@bd.so.ch>
<http://www.agi.so.ch>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081104/a944cd63/attachment-0001.html
From Elizabeth.Chang at noblis.org  Tue Nov  4 12:24:50 2008
From: Elizabeth.Chang at noblis.org (Chang, Elizabeth)
Date: Tue Nov  4 12:24:55 2008
Subject: [Qgis-developer] Plug in problem- can't receive the signal
Message-ID: <07B7870CE4945841951B429C10A4C9297A7594@email1.mitretek.org>

Hi,

 

I'm trying to build a plug in that connects to a postgis database and
run queries. On the UI, there is an input box where you type your query
and an output box where the results are displayed. When you press the
"query" button, the query is executed.

 

At the point when you press "query", I verified a signal is emitted by
putting in print statements among the "emit" signal lines. But the print
messages I put in the functions that is supposed to be called when the
signal is emitted never run. More specifically, getManualQuery or
executeManualQuery below never runs. I can't seem to figure out what I'm
doing wrong. I compared to the imagemap plug-in and everything seems to
follow the same format.

 

Thanks so much.

 

***********************************************************

# Import the PyQt and QGIS libraries

from PyQt4.QtCore import *

from PyQt4.QtGui import *

from qgis.core import *

from mainwindow import Ui_MainWindow

from PostGISdialog import PostGISdialog

 

import psycopg

import resources

 

# Our main class for the plugin

class NoblisPostGISManager:

 

  def __init__(self, iface):

    # Save reference to the QGIS interface

    self.iface = iface

 

  def initGui(self):

    # Create action that will start plugin configuration

    self.action =
QAction(QIcon(":/plugins/NoblisPostGISManager/icon.png"), \

        "Start", self.iface.getMainWindow())

    QObject.connect(self.action, SIGNAL("activated()"), self.run)

 

    # Add toolbar button and menu item

    self.iface.addToolBarIcon(self.action)

    self.iface.addPluginMenu("&Noblis PostGIS Manager", self.action)

 

  def unload(self):

    # Remove the plugin menu item and icon

    self.iface.removePluginMenu("&Noblis PostGIS Manager",self.action)

    self.iface.removeToolBarIcon(self.action)

  def run(self): 

         con = psycopg.connect("dbname=gis user=echang
host=beren.tsf.noblis.org")

         curs = con.cursor()

         self.PostGISdialog= PostGISdialog()

         QObject.connect(self.PostGISdialog,
SIGNAL("getManualInputQuery(QString)"), self.getManualQuery)

         QObject.connect(self.PostGISdialog,
SIGNAL("onManualQueryButtonClick()"), self.executeManualQuery)

         QObject.connect(self.PostGISdialog,
SIGNAL("onManualOutputBoxPopulate(QString)"), self.writeManualOutput)

         self.dialogue=PostGISdialog()

         self.dialogue.show()

 

  def getManualQuery(self, query):

     QMessageBox.information(None, "Diagnostic Message", "here",0,0,0)

     self.manualquerystring=query

     QMessageBox.information(None, "Diagnostic Message", "in
getManualQuery",0,0,0)

 

  def executeManualQuery(self):

     QMessageBox.information(None, "Diagnostic Message",
self.manualquerystring,0,0,0)

     curs.execute(self.manualquerystring)

     con.commit()

 

  def writeManualOutput(self,QString):

     rows=curs.fetchall()

     self.PostGISdialog.printManualOutput(rows)

 

************************************************************************
**********

from PyQt4.QtCore import *

from PyQt4.QtGui import *

from qgis.core import *

from mainwindow import Ui_MainWindow

 

# create the dialog for PostGIS

class PostGISdialog(QDialog): 

  def __init__(self): 

     QDialog.__init__(self) 

     self.ui = Ui_MainWindow() 

     self.ui.setupUi(self) 

 

  def on_ExitpushButton_clicked(self):

     self.done(0)

 

 

  @pyqtSignature("on_QuerypushButton_clicked()")

  def on_QuerypushButton_clicked(self):

     #self.emit(SIGNAL("getManualInputQuery(QString)"),
self.InputTextEdit.toPlainText() )

     self.emit(SIGNAL("getManualInputQuery(QString)"),"DELETE FROM
Cities_all_test1 where name=\'Butte\'")

     self.emit(SIGNAL("onManualQueryButtonClick()"))

    

 

  def printManualOutput(self,rows):

     #self.OutputtextBrowser.insertPlainText(str(rows))

     self.OutputtextBrowser.append(str(rows))

 

 

 

 

 

- Elizabeth

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081104/2951bb1a/attachment.html
From Elizabeth.Chang at noblis.org  Tue Nov  4 14:36:22 2008
From: Elizabeth.Chang at noblis.org (Chang, Elizabeth)
Date: Tue Nov  4 14:36:27 2008
Subject: [Qgis-developer] Plug in problem- can't receive the signal
In-Reply-To: <07B7870CE4945841951B429C10A4C9297A7594@email1.mitretek.org>
References: <07B7870CE4945841951B429C10A4C9297A7594@email1.mitretek.org>
Message-ID: <07B7870CE4945841951B429C10A4C9297A762B@email1.mitretek.org>

I was able to resolve this. I looked at the code outside of the connect,
emit statements and I had some things set up wrong.

 

- Elizabeth

 

________________________________

From: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] On Behalf Of Chang,
Elizabeth
Sent: Tuesday, November 04, 2008 12:25 PM
To: qgis-developer@lists.osgeo.org
Subject: [Qgis-developer] Plug in problem- can't receive the signal

 

Hi,

 

I'm trying to build a plug in that connects to a postgis database and
run queries. On the UI, there is an input box where you type your query
and an output box where the results are displayed. When you press the
"query" button, the query is executed.

 

At the point when you press "query", I verified a signal is emitted by
putting in print statements among the "emit" signal lines. But the print
messages I put in the functions that is supposed to be called when the
signal is emitted never run. More specifically, getManualQuery or
executeManualQuery below never runs. I can't seem to figure out what I'm
doing wrong. I compared to the imagemap plug-in and everything seems to
follow the same format.

 

Thanks so much.

 

***********************************************************

# Import the PyQt and QGIS libraries

from PyQt4.QtCore import *

from PyQt4.QtGui import *

from qgis.core import *

from mainwindow import Ui_MainWindow

from PostGISdialog import PostGISdialog

 

import psycopg

import resources

 

# Our main class for the plugin

class NoblisPostGISManager:

 

  def __init__(self, iface):

    # Save reference to the QGIS interface

    self.iface = iface

 

  def initGui(self):

    # Create action that will start plugin configuration

    self.action =
QAction(QIcon(":/plugins/NoblisPostGISManager/icon.png"), \

        "Start", self.iface.getMainWindow())

    QObject.connect(self.action, SIGNAL("activated()"), self.run)

 

    # Add toolbar button and menu item

    self.iface.addToolBarIcon(self.action)

    self.iface.addPluginMenu("&Noblis PostGIS Manager", self.action)

 

  def unload(self):

    # Remove the plugin menu item and icon

    self.iface.removePluginMenu("&Noblis PostGIS Manager",self.action)

    self.iface.removeToolBarIcon(self.action)

  def run(self): 

         con = psycopg.connect("dbname=gis user=echang
host=beren.tsf.noblis.org")

         curs = con.cursor()

         self.PostGISdialog= PostGISdialog()

         QObject.connect(self.PostGISdialog,
SIGNAL("getManualInputQuery(QString)"), self.getManualQuery)

         QObject.connect(self.PostGISdialog,
SIGNAL("onManualQueryButtonClick()"), self.executeManualQuery)

         QObject.connect(self.PostGISdialog,
SIGNAL("onManualOutputBoxPopulate(QString)"), self.writeManualOutput)

         self.dialogue=PostGISdialog()

         self.dialogue.show()

 

  def getManualQuery(self, query):

     QMessageBox.information(None, "Diagnostic Message", "here",0,0,0)

     self.manualquerystring=query

     QMessageBox.information(None, "Diagnostic Message", "in
getManualQuery",0,0,0)

 

  def executeManualQuery(self):

     QMessageBox.information(None, "Diagnostic Message",
self.manualquerystring,0,0,0)

     curs.execute(self.manualquerystring)

     con.commit()

 

  def writeManualOutput(self,QString):

     rows=curs.fetchall()

     self.PostGISdialog.printManualOutput(rows)

 

************************************************************************
**********

from PyQt4.QtCore import *

from PyQt4.QtGui import *

from qgis.core import *

from mainwindow import Ui_MainWindow

 

# create the dialog for PostGIS

class PostGISdialog(QDialog): 

  def __init__(self): 

     QDialog.__init__(self) 

     self.ui = Ui_MainWindow() 

     self.ui.setupUi(self) 

 

  def on_ExitpushButton_clicked(self):

     self.done(0)

 

 

  @pyqtSignature("on_QuerypushButton_clicked()")

  def on_QuerypushButton_clicked(self):

     #self.emit(SIGNAL("getManualInputQuery(QString)"),
self.InputTextEdit.toPlainText() )

     self.emit(SIGNAL("getManualInputQuery(QString)"),"DELETE FROM
Cities_all_test1 where name=\'Butte\'")

     self.emit(SIGNAL("onManualQueryButtonClick()"))

    

 

  def printManualOutput(self,rows):

     #self.OutputtextBrowser.insertPlainText(str(rows))

     self.OutputtextBrowser.append(str(rows))

 

 

 

 

 

- Elizabeth

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081104/a6ac2be0/attachment-0001.html
From tech_dev at wildintellect.com  Tue Nov  4 17:27:04 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Tue Nov  4 17:27:08 2008
Subject: [Qgis-developer] question to possible enhancements
In-Reply-To: <H00002e403a84684.1225816539.srsofaioi6145.ktso.ch@MHS>
References: <H00002e403a84684.1225816539.srsofaioi6145.ktso.ch@MHS>
Message-ID: <4910CC38.7000201@wildintellect.com>

1. I agree - sounds like an easy tool, not sure if it's in the works as 
I don't see it in the Trac.

2. Yes it has been discussed quite in detail, the idea at this point is 
to implement it in GDAL which Frank plans to do soon, if I read the 
chatter right. Once in GDAL it will become available for QGIS to use.

In the future you can also check the Trac site for things like this.
http://trac.osgeo.org/qgis/
That way when you ask here and get a no, you will know to add it to the 
trac site.

Alex

M?ri Cedric wrote:
> Hello everybody
> 
> I've got two little points for enhancement. I'd like to know, if these
> are already considered or if I may open an enhancement ticket about
> them.
> 
> First: I'd like to have a possibility to move a vertex numerical to a
> coordinate. Something like a dialog showing the coordinates of the
> vertex and let me change them.
> 2nd: It would be great to have something to add a new attribute column
> (at least for shapefiles) inside qgis (I guess these is quite complex
> for all possible formats).
> 
> What do you think? Or are these points already discussed?
> 
> regards
> Cedric
> 
> mit freundlichen Gr?ssen
> 
> C?dric M?ri
> GIS-Informatiker
> 
> 
From carson.farmer at gmail.com  Tue Nov  4 19:24:07 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov  4 19:24:13 2008
Subject: [Qgis-developer] question to possible enhancements
In-Reply-To: <H00002e403a84684.1225816539.srsofaioi6145.ktso.ch@MHS>
References: <H00002e403a84684.1225816539.srsofaioi6145.ktso.ch@MHS>
Message-ID: <4910E7A7.2080602@gmail.com>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081105/ad1e3dea/attachment.html
From stefie10 at media.mit.edu  Wed Nov  5 11:38:32 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Wed Nov  5 11:40:49 2008
Subject: [Qgis-developer] QgsVectorLayer.addedFeatures
Message-ID: <4911CC08.1080102@media.mit.edu>

Hi,

I haven't synced my code with the trunk in a few months, so I was
updating, and I noticed that QgsVectorLayer.addedFeatures went away.  I
was using it to make placeholder layers that never got committed to the
database.

The attached patch (against r9563) adds it back.  I'd be happier if it
was applied, but I suppose there was a reason it got removed in the
first place?

Thanks,

Stefanie

-------------- next part --------------
Index: qgis/qgis_unstable/python/core/qgsvectorlayer.sip
===================================================================
--- qgis.orig/qgis_unstable/python/core/qgsvectorlayer.sip	2008-11-05 11:11:10.000000000 -0500
+++ qgis/qgis_unstable/python/core/qgsvectorlayer.sip	2008-11-05 11:12:30.000000000 -0500
@@ -72,6 +72,8 @@
 
   /** Get a copy of the user-selected features */  
   QList<QgsFeature> selectedFeatures();
+
+  QList<QgsFeature> addedFeatures();
   
   /** Return reference to identifiers of selected features */
   const QSet<int>& selectedFeaturesIds() const;
Index: qgis/qgis_unstable/src/core/qgsvectorlayer.cpp
===================================================================
--- qgis.orig/qgis_unstable/src/core/qgsvectorlayer.cpp	2008-11-05 11:11:05.000000000 -0500
+++ qgis/qgis_unstable/src/core/qgsvectorlayer.cpp	2008-11-05 11:12:14.000000000 -0500
@@ -3011,7 +3011,10 @@
   return mSelectedFeatureIds;
 }
 
-
+QgsFeatureList QgsVectorLayer::addedFeatures()
+{
+  return mAddedFeatures;
+}
 QgsFeatureList QgsVectorLayer::selectedFeatures()
 {
   if ( !mDataProvider )
Index: qgis/qgis_unstable/src/core/qgsvectorlayer.h
===================================================================
--- qgis.orig/qgis_unstable/src/core/qgsvectorlayer.h	2008-11-05 11:11:03.000000000 -0500
+++ qgis/qgis_unstable/src/core/qgsvectorlayer.h	2008-11-05 11:14:21.000000000 -0500
@@ -133,6 +133,8 @@
     /** Get a copy of the user-selected features */
     QgsFeatureList selectedFeatures();
 
+    QgsFeatureList addedFeatures();
+
     /** Return reference to identifiers of selected features */
     const QgsFeatureIds& selectedFeaturesIds() const;
 

From jef at norbit.de  Wed Nov  5 12:39:17 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Nov  5 12:39:24 2008
Subject: [Qgis-developer] QgsVectorLayer.addedFeatures
In-Reply-To: <4911CC08.1080102@media.mit.edu>
References: <4911CC08.1080102@media.mit.edu>
Message-ID: <20081105173917.GA15567@norbit.de>

Hi Stefanie,

On Wed, 05. Nov 2008 at 11:38:32 -0500, Stefanie Tellex wrote:
> I haven't synced my code with the trunk in a few months, so I was
> updating, and I noticed that QgsVectorLayer.addedFeatures went away.  I
> was using it to make placeholder layers that never got committed to the
> database.

> The attached patch (against r9563) adds it back.  I'd be happier if it
> was applied, but I suppose there was a reason it got removed in the
> first place?

See http://trac.osgeo.org/qgis/changeset/9092.  There were a bunch of
public methods removed to gather the handling of edits in the vector
layer and hide it from the rest.

May I ask why you need it for?



Mit freundlichen Gr??en,
  J?rgen Fischer
  norBIT GmbH

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From ersts at amnh.org  Wed Nov  5 17:53:44 2008
From: ersts at amnh.org (Peter Ersts)
Date: Wed Nov  5 17:53:55 2008
Subject: [Qgis-developer] Raster API updated
Message-ID: <491223F8.5050508@amnh.org>

Howdy everyone,

I just committed the changes to QgsRasterLayer. The API should now be in 
line with the rest of the core. All of the changes have been documented 
on the wiki, but I am sure I may have missed one or two

http://wiki.qgis.org/qgiswiki/VisualChangeLog1.0.0

I don't expect there to be many if any more updates to the API for the 
raster classes from here on.


Folks who are using the trunk and have project files, you will have to 
update them manually (we will add the changes to QgsProjectFileTransform 
so people who migrate from 0.11.0 to 1.0.0 will be fine). Take a look at 
the wiki, specifically at the Private Vars and Enums blocks. You can use 
the rpl statements that are there as a base to create a script to update 
your project files.


-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From tech_dev at wildintellect.com  Thu Nov  6 04:17:41 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Thu Nov  6 04:17:56 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <490DF8ED.1070509@gmail.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com> <490DEC42.6030707@gmail.com>
	<490DF4A5.5070300@wildintellect.com> <490DF8ED.1070509@gmail.com>
Message-ID: <4912B635.90003@wildintellect.com>

Carson Farmer wrote:
> Alex,
>> Carson Farmer wrote:
>>  
>>> Alex,
>>>    
>>>> Well, it appears to be an issue on only some machines possibly related
>>>> to video card drivers and X11 not necessarily qt.
>>>>
>>>> Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in
>>>> virtual
>>>> box) so kde libs are not the solution.
>>>>
>>>> I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
>>>> drivers, haven't tried plain vga drivers yet.
>>>>
>>>> Carson: what video card do you have?
>>>>         
>>> I have an intel card: Intel Graphics Media Accelerator (GMA) 950
>>>
>>> I have had quite a bit of graphics card trouble with Intrepid, so I
>>> actually ended up doing a complete reinstall of hardy... Until I hear
>>> some very promising news saying these issues are resolved, I think I'm
>>> going to stick with hardy... sorry I can't be of more help...
>>>
>>> Carson
>>>     
>>
>> Carson,
>>
>> Can you just confirm that you were not having the gdal issue that was
>> causing a segfault and that you were having an issue where the splash
>> screen stuck at "Setting up GUI"
>>   
> Yes, I can confirm that the issue was with the splash screen stuck at
> "Setting up GUI"
> 
> Carson

Well we're one step closer to solving the issue, ok 647 steps closer,
I've narrowed down the issue to 647 possible packages and am working
through them now.

Carson, Tim if you can diff this list against your installed packages
and tell me the matches it will speed up the process.
Here's the list:
http://trac.osgeo.org/qgis/ticket/1384

Fresh installs work fine, so if you have a fresh install of Intrepid go
ahead.

Alex
From carson.farmer at gmail.com  Thu Nov  6 05:37:59 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Thu Nov  6 05:38:05 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <4912B635.90003@wildintellect.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com> <490DEC42.6030707@gmail.com>
	<490DF4A5.5070300@wildintellect.com>
	<490DF8ED.1070509@gmail.com> <4912B635.90003@wildintellect.com>
Message-ID: <4912C907.50304@gmail.com>

Alex Mandel wrote:
> Carson Farmer wrote:
>   
>> Alex,
>>     
>>> Carson Farmer wrote:
>>>  
>>>       
>>>> Alex,
>>>>    
>>>>         
>>>>> Well, it appears to be an issue on only some machines possibly related
>>>>> to video card drivers and X11 not necessarily qt.
>>>>>
>>>>> Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in
>>>>> virtual
>>>>> box) so kde libs are not the solution.
>>>>>
>>>>> I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
>>>>> drivers, haven't tried plain vga drivers yet.
>>>>>
>>>>> Carson: what video card do you have?
>>>>>         
>>>>>           
>>>> I have an intel card: Intel Graphics Media Accelerator (GMA) 950
>>>>
>>>> I have had quite a bit of graphics card trouble with Intrepid, so I
>>>> actually ended up doing a complete reinstall of hardy... Until I hear
>>>> some very promising news saying these issues are resolved, I think I'm
>>>> going to stick with hardy... sorry I can't be of more help...
>>>>
>>>> Carson
>>>>     
>>>>         
>>> Carson,
>>>
>>> Can you just confirm that you were not having the gdal issue that was
>>> causing a segfault and that you were having an issue where the splash
>>> screen stuck at "Setting up GUI"
>>>   
>>>       
>> Yes, I can confirm that the issue was with the splash screen stuck at
>> "Setting up GUI"
>>
>> Carson
>>     
>
> Well we're one step closer to solving the issue, ok 647 steps closer,
> I've narrowed down the issue to 647 possible packages and am working
> through them now.
>
> Carson, Tim if you can diff this list against your installed packages
> and tell me the matches it will speed up the process.
> Here's the list:
> http://trac.osgeo.org/qgis/ticket/1384
>   
Hey Alex, attached is my list of packages that I have installed that are 
common to the ones on your list.
I did a fresh install of Hardy the day after I tried to upgrade to 
Intrepid however, so my hardy install and packages are all relatively 
new, don't know if this will make a difference or not?

Cheers,

Carson
-------------- next part --------------
A non-text attachment was scrubbed...
Name: common_packages.dif
Type: video/dv
Size: 1391 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081106/5a6683fd/common_packages.bin
From tech_dev at wildintellect.com  Thu Nov  6 06:11:45 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Thu Nov  6 06:11:49 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <4912C907.50304@gmail.com>
References: <490B5672.4070006@wildintellect.com>	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com> <490DEC42.6030707@gmail.com>
	<490DF4A5.5070300@wildintellect.com>
	<490DF8ED.1070509@gmail.com> <4912B635.90003@wildintellect.com>
	<4912C907.50304@gmail.com>
Message-ID: <4912D0F1.8060402@wildintellect.com>

Carson Farmer wrote:
> Alex Mandel wrote:
>> Carson Farmer wrote:
>>  
>>> Alex,
>>>    
>>>> Carson Farmer wrote:
>>>>  
>>>>      
>>>>> Alex,
>>>>>           
>>>>>> Well, it appears to be an issue on only some machines possibly
>>>>>> related
>>>>>> to video card drivers and X11 not necessarily qt.
>>>>>>
>>>>>> Both 0.11 and 1.0 kore work on a fresh Ubuntu install (tested in
>>>>>> virtual
>>>>>> box) so kde libs are not the solution.
>>>>>>
>>>>>> I have an nvidia gforce 8600gm, and tried both the nv and nvidia(177)
>>>>>> drivers, haven't tried plain vga drivers yet.
>>>>>>
>>>>>> Carson: what video card do you have?
>>>>>>                   
>>>>> I have an intel card: Intel Graphics Media Accelerator (GMA) 950
>>>>>
>>>>> I have had quite a bit of graphics card trouble with Intrepid, so I
>>>>> actually ended up doing a complete reinstall of hardy... Until I hear
>>>>> some very promising news saying these issues are resolved, I think I'm
>>>>> going to stick with hardy... sorry I can't be of more help...
>>>>>
>>>>> Carson
>>>>>             
>>>> Carson,
>>>>
>>>> Can you just confirm that you were not having the gdal issue that was
>>>> causing a segfault and that you were having an issue where the splash
>>>> screen stuck at "Setting up GUI"
>>>>         
>>> Yes, I can confirm that the issue was with the splash screen stuck at
>>> "Setting up GUI"
>>>
>>> Carson
>>>     
>>
>> Well we're one step closer to solving the issue, ok 647 steps closer,
>> I've narrowed down the issue to 647 possible packages and am working
>> through them now.
>>
>> Carson, Tim if you can diff this list against your installed packages
>> and tell me the matches it will speed up the process.
>> Here's the list:
>> http://trac.osgeo.org/qgis/ticket/1384
>>   
> Hey Alex, attached is my list of packages that I have installed that are
> common to the ones on your list.
> I did a fresh install of Hardy the day after I tried to upgrade to
> Intrepid however, so my hardy install and packages are all relatively
> new, don't know if this will make a difference or not?
> 
> Cheers,
> 
> Carson

Yes I guess I'll need Tim's set since I need to compare the packages on
2 broken machines, it also needs to be intrepid since obviously these
packages were fine in Hardy. I'll look at it, maybe there's a clue.

Thanks,
Alex
From ersts at amnh.org  Thu Nov  6 08:17:04 2008
From: ersts at amnh.org (Peter Ersts)
Date: Thu Nov  6 08:17:16 2008
Subject: [Qgis-developer] Raster API update - hold of on modifying your
	project files
Message-ID: <4912EE50.3040204@amnh.org>

Howdy everyone,

Tim has made some additional suggestions to the Raster API updates that 
I will try to get committed to the trunk in the next 24 hours. So you 
are best to wait another day or two before trying to update your project 
files.

-pete


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From stefie10 at media.mit.edu  Thu Nov  6 11:54:44 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Thu Nov  6 11:55:06 2008
Subject: [Qgis-developer] QgsVectorLayer.addedFeatures
In-Reply-To: <20081105173917.GA15567@norbit.de>
References: <4911CC08.1080102@media.mit.edu> <20081105173917.GA15567@norbit.de>
Message-ID: <49132154.2090707@media.mit.edu>

Hi J?rgen,

I need to make layers that contain a subset of features in the database. 
  The subset is not expressible as an SQL query.   I suppose I could do 
an "id in  " query to express it, or make a temporary layer that is 
backed by a file.

Anyway, the way I am doing it is by making a new layer that contained 
added features, and never committing those features to the database. 
Other code that I wrote needs to know what features are in that layer.

At a higher level, knowing added but uncommitted features in a layer 
seems like a reasonable thing to put in the public API.

Stefanie

J?rgen E. Fischer pisze:
> Hi Stefanie,
> 
> On Wed, 05. Nov 2008 at 11:38:32 -0500, Stefanie Tellex wrote:
>> I haven't synced my code with the trunk in a few months, so I was
>> updating, and I noticed that QgsVectorLayer.addedFeatures went away.  I
>> was using it to make placeholder layers that never got committed to the
>> database.
> 
>> The attached patch (against r9563) adds it back.  I'd be happier if it
>> was applied, but I suppose there was a reason it got removed in the
>> first place?
> 
> See http://trac.osgeo.org/qgis/changeset/9092.  There were a bunch of
> public methods removed to gather the handling of edits in the vector
> layer and hide it from the rest.
> 
> May I ask why you need it for?
> 
> 
> 
> Mit freundlichen Gr??en,
>   J?rgen Fischer
>   norBIT GmbH
> 

From jef at norbit.de  Thu Nov  6 12:34:23 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu Nov  6 12:34:30 2008
Subject: [Qgis-developer] QgsVectorLayer.addedFeatures
In-Reply-To: <49132154.2090707@media.mit.edu>
References: <4911CC08.1080102@media.mit.edu> <20081105173917.GA15567@norbit.de>
	<49132154.2090707@media.mit.edu>
Message-ID: <20081106173423.GA8385@norbit.de>

Hi Stefanie,

On Thu, 06. Nov 2008 at 11:54:44 -0500, Stefanie Tellex wrote:
> Anyway, the way I am doing it is by making a new layer that contained 
> added features, and never committing those features to the database. 
> Other code that I wrote needs to know what features are in that layer.

The QgsVectorLayer::select/::nextFeature combo now includes added
features, while the layer is editable.  And one could tell existing
and added features apart by looking at their featureId, which is
negative for added features.


> At a higher level, knowing added but uncommitted features in a layer 
> seems like a reasonable thing to put in the public API.

There might be changed attributes or changed geometries for the added
features, which might not be uptodate in the added feature list - so
that might be an issue.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tim at linfiniti.com  Thu Nov  6 13:16:42 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Nov  6 13:17:04 2008
Subject: [Qgis-developer] Ubuntu 8.10 and QGIS 0.11
In-Reply-To: <4912C907.50304@gmail.com>
References: <490B5672.4070006@wildintellect.com>
	<20081031200741.GA25435@norbit.de>	<490B737C.3000003@wildintellect.com>
	<490DE9AC.90902@wildintellect.com> <490DEC42.6030707@gmail.com>
	<490DF4A5.5070300@wildintellect.com> <490DF8ED.1070509@gmail.com>
	<4912B635.90003@wildintellect.com>  <4912C907.50304@gmail.com>
Message-ID: <1225995402.13130.6.camel@timbuntu>

Hi

On Thu, 2008-11-06 at 10:37 +0000, Carson Farmer wrote:

8<--------snip------------

> >
> > Carson, Tim if you can diff this list against your installed packages
> > and tell me the matches it will speed up the process.
> > Here's the list:
> > http://trac.osgeo.org/qgis/ticket/1384
> >   
> Hey Alex, attached is my list of packages that I have installed that are 
> common to the ones on your list.
> I did a fresh install of Hardy the day after I tried to upgrade to 
> Intrepid however, so my hardy install and packages are all relatively 
> new, don't know if this will make a difference or not?

I added my full package list to the ticket. I think we might need to
look at package version numbers too.

Regards

Tim

> 
> Cheers,
> 
> Carson

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081106/6281ab04/attachment.bin
From stefie10 at media.mit.edu  Thu Nov  6 14:06:25 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Thu Nov  6 14:33:08 2008
Subject: [Qgis-developer] qgspostgresprovider and cursors
Message-ID: <49134031.104@media.mit.edu>

Hi,

I had a strange bug where the transaction got aborted because of a bad 
SQL where clause, and after it was aborted, future queries were being 
ignored.

The attached patch makes it go away by ensuring that the current 
transaction is closed and all existing cursors are closed before setting 
a new subset query.  It also makes it possible to close a cursor more 
than once without a problem by preventing openCursors from falling below 
zero.

However the code for managing cursors and transactions in 
QgsPostgresProvider was pretty confusing, and I suspect there are 
similar bugs hiding out still.

It's against revision 9563.

Thanks,

Stefanie
-------------- next part --------------
Index: qgis/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp
===================================================================
--- qgis.orig/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp	2008-11-06 11:51:42.000000000 -0500
+++ qgis/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp	2008-11-06 11:51:44.000000000 -0500
@@ -2173,6 +2173,7 @@
 
 void QgsPostgresProvider::setSubsetString( QString theSQL )
 {
+  connectionRO->closeCursor( QString( "qgisf%1" ).arg( providerId ) );
   sqlWhereClause = theSQL;
   // Update datasource uri too
   mUri.setSql( theSQL );
@@ -2619,8 +2620,11 @@
 bool QgsPostgresProvider::Conn::closeCursor( QString cursorName )
 {
   bool res = PQexecNR( QString( "CLOSE %1" ).arg( cursorName ) );
-
-  if ( --openCursors == 0 )
+  --openCursors;
+  if (openCursors < 0) {
+    openCursors = 0;
+  }
+  if (openCursors == 0 )
   {
     QgsDebugMsg( "Commiting read-only transaction" );
     PQexecNR( "COMMIT" );
From stefie10 at media.mit.edu  Thu Nov  6 16:44:19 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Thu Nov  6 16:44:30 2008
Subject: [Qgis-developer] more than one geometry column
Message-ID: <49136533.5030303@media.mit.edu>

Hi,

I wanted to have more than one geometry column in a layer.  This patch
changes QgsPostgresProvider so that it handles geometry columns that
aren't the primary column by reading and writing them as WKT.  So it
looks like a string attributes to clients, but clients can convert it to
a geometry value by using fromWKT.

It's against revision 9563.

Stefanie

-------------- next part --------------
Index: qgis/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp
===================================================================
--- qgis.orig/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp	2008-11-06 14:30:29.000000000 -0500
+++ qgis/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp	2008-11-06 16:37:54.000000000 -0500
@@ -46,7 +46,6 @@
 #include "qgspostgisbox3d.h"
 #include "qgslogger.h"
 #include "qgslogger.h"
-
 const QString POSTGRES_KEY = "postgres";
 const QString POSTGRES_DESCRIPTION = "PostgreSQL/PostGIS data provider";
 
@@ -424,6 +423,10 @@
       {
         query += QString( ",boolout(%1)" ).arg( quotedIdentifier( fieldname ) );
       }
+      else if ( type == "geometry")
+      {
+	query += QString(",AsText(%1)").arg(quotedIdentifier(fieldname));
+      }
       else
       {
         query += "," + quotedIdentifier( fieldname ) + "::text";
@@ -826,6 +829,7 @@
                   fieldTypeName == "bpchar" ||
                   fieldTypeName == "varchar" ||
                   fieldTypeName == "bool" ||
+                  fieldTypeName == "geometry" ||
                   fieldTypeName == "money" ||
                   fieldTypeName.startsWith( "time" ) ||
                   fieldTypeName.startsWith( "date" ) )
@@ -1787,6 +1791,7 @@
 
       insert += "," + quotedIdentifier( fieldname );
 
+
       QString defVal = defaultValue( it.key() ).toString();
 
       if ( i == flist.size() )
@@ -1804,7 +1809,11 @@
         }
         else
         {
-          values += "," + quotedValue( it->toString() );
+	  if (fit->typeName() == "geometry") {
+	    values += ",GeomFromText(" + quotedValue(it->toString()) + ")";
+	  } else {
+	    values += "," + quotedValue( it->toString() );
+	  }
         }
       }
       else

From tech_dev at wildintellect.com  Thu Nov  6 22:49:55 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Thu Nov  6 22:50:00 2008
Subject: [Qgis-developer] more than one geometry column
In-Reply-To: <49136533.5030303@media.mit.edu>
References: <49136533.5030303@media.mit.edu>
Message-ID: <4913BAE3.6030809@wildintellect.com>

Stefanie Tellex wrote:
> Hi,
> 
> I wanted to have more than one geometry column in a layer.  This patch
> changes QgsPostgresProvider so that it handles geometry columns that
> aren't the primary column by reading and writing them as WKT.  So it
> looks like a string attributes to clients, but clients can convert it to
> a geometry value by using fromWKT.
> 
> It's against revision 9563.
> 
> Stefanie
> 
>
I'm curious about adapting this to read wkt columns in sqlite directly,
I guess I should look at implementing a QgsSQLiteProvider and take some
hints from yours.

Thanks,
Alex


From tim at linfiniti.com  Fri Nov  7 01:49:15 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov  7 01:49:34 2008
Subject: [Qgis-developer] more than one geometry column
In-Reply-To: <49136533.5030303@media.mit.edu>
References: <49136533.5030303@media.mit.edu>
Message-ID: <1226040555.6349.2.camel@timbuntu>

On Thu, 2008-11-06 at 16:44 -0500, Stefanie Tellex wrote:
> Hi,
> 
> I wanted to have more than one geometry column in a layer.  This patch
> changes QgsPostgresProvider so that it handles geometry columns that
> aren't the primary column by reading and writing them as WKT.  So it
> looks like a string attributes to clients, but clients can convert it to
> a geometry value by using fromWKT.
> 
> It's against revision 9563.
> 
> Stefanie

Hi Stefanie

This one will need to keep until after 1.0 is released since we are in
feature freeze at the moment. Could you attach it as a patch to trac so
that we dont forget it? Your previous email J?rgen will no doubt apply
as PG maintainer.

Many thanks, keep em coming!

Regards

8<--------------snip------------

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081107/98b2b600/attachment.bin
From tim at linfiniti.com  Fri Nov  7 02:01:32 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov  7 02:01:48 2008
Subject: [Qgis-developer] more than one geometry column
In-Reply-To: <4913BAE3.6030809@wildintellect.com>
References: <49136533.5030303@media.mit.edu>
	<4913BAE3.6030809@wildintellect.com>
Message-ID: <1226041292.6349.11.camel@timbuntu>

Hi

On Thu, 2008-11-06 at 19:49 -0800, Alex Mandel wrote:

8<--------------snip-----------

> I'm curious about adapting this to read wkt columns in sqlite directly,
> I guess I should look at implementing a QgsSQLiteProvider and take some
> hints from yours.


GDAL/OGR already has support for Sqlite (though I think it uses Wkb
rather than Wkt) so you may want to look at writing a front end to that
- the current add layer functionality does not work for cases like
sqlite where you need to select a sublayer after selecting a file. That
said Godofredo Contreras was working on generic access to OGR database
based datasets at one point and it may be good to hook up with him first
and look at collaborating....

Regards

Tim

> 
> Thanks,
> Alex
> 
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081107/3586041c/attachment.bin
From tech_dev at wildintellect.com  Fri Nov  7 02:06:51 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Fri Nov  7 02:06:58 2008
Subject: [Qgis-developer] more than one geometry column
In-Reply-To: <1226041292.6349.11.camel@timbuntu>
References: <49136533.5030303@media.mit.edu>	<4913BAE3.6030809@wildintellect.com>
	<1226041292.6349.11.camel@timbuntu>
Message-ID: <4913E90B.7070103@wildintellect.com>

It's wkt, and I've used it before to generate shapefiles with OGR2OGR.
Ah it makes sense that the multiple layers would trip it up.

Thanks,
Alex

Tim Sutton wrote:
> Hi
> 
> On Thu, 2008-11-06 at 19:49 -0800, Alex Mandel wrote:
> 
> 8<--------------snip-----------
> 
>> I'm curious about adapting this to read wkt columns in sqlite directly,
>> I guess I should look at implementing a QgsSQLiteProvider and take some
>> hints from yours.
> 
> 
> GDAL/OGR already has support for Sqlite (though I think it uses Wkb
> rather than Wkt) so you may want to look at writing a front end to that
> - the current add layer functionality does not work for cases like
> sqlite where you need to select a sublayer after selecting a file. That
> said Godofredo Contreras was working on generic access to OGR database
> based datasets at one point and it may be good to hook up with him first
> and look at collaborating....
> 
> Regards
> 
> Tim
> 
>> Thanks,
>> Alex
>>
>>


From cavallini at faunalia.it  Fri Nov  7 02:24:31 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Nov  7 02:24:50 2008
Subject: [Qgis-developer] more than one geometry column
In-Reply-To: <1226041292.6349.11.camel@timbuntu>
References: <49136533.5030303@media.mit.edu>	<4913BAE3.6030809@wildintellect.com>
	<1226041292.6349.11.camel@timbuntu>
Message-ID: <4913ED2F.9010607@faunalia.it>

Tim Sutton ha scritto:

> GDAL/OGR already has support for Sqlite (though I think it uses Wkb

Pls also have a look at:
http://www.gaia-gis.it/spatialite/
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From tim at linfiniti.com  Fri Nov  7 06:31:32 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov  7 06:31:34 2008
Subject: [Qgis-developer] QgsMapLayerRegistry (and QgsMapCanvas) problem
In-Reply-To: <e8e7199c0810200245g71a06b77qfce720ee9835214@mail.gmail.com>
References: <48F8A393.9080102@gmail.com>
	<d368056f0810171431q1c7335fbi6f809f703468bac3@mail.gmail.com>
	<e8e7199c0810180412v13cd1563j7e52666c2190845f@mail.gmail.com>
	<d368056f0810191233v298a7250hdb92fe2cc42b636@mail.gmail.com>
	<e8e7199c0810200245g71a06b77qfce720ee9835214@mail.gmail.com>
Message-ID: <d368056f0811070331p519bf1a3j6d0584daa321bca3@mail.gmail.com>

Hi Martin


>>>One thing I don't really like is that
>>> QgsVectorDataProvider::reset() was renamed to begin(). The real
>>> purpose of this function is to restart reading of the data, one
>>> doesn't have to call it when starting retrieval of features - but
>>> that's what the current name suggest. I would suggest using e.g.
>>> resetReading() as it better corresponds with the action it takes (and
>>> stays consistent with OGR).
>>
>> 1) The change to reset was done in consultation with Marco H. Calling
>> reset sounds like its doing something damaging rather than moving to
>> the start of the selection. Another option would be something like
>> toSelectionStart() if you feel it would make its purpose clearer.
>
> and what about seekToBegin() or resetReading() ?
> begin() itself really doesn't make things clear.
>

This is the last thing I need to resolve before we can freeze the core
API (assuming Peter is finished his raster cleanups now). I had a poke
around in the implementations of begin() in a couple of providers and
I'm not really convinced that begin() is a bad choice for a method
name or that seekToBegin() or resetReading() make things any clearer.
In the case of e.g. the posgres provider, we move to the first record
in the cursor, and reload the fields map. Ogr as you mentioned calls
resetReading.  Grass moves to the first index position and refreshes
the field index. I'd like to finalise this today so if you could give
some additional thought to this it would be great. If I had to pick
one of your options it would be seekToBegin() I guess. Not sure how
others feel....

Regards

Tim


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
From carson.farmer at gmail.com  Fri Nov  7 07:17:26 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Fri Nov  7 07:17:30 2008
Subject: [Qgis-developer] QgsMapLayerRegistry (and QgsMapCanvas) problem
In-Reply-To: <d368056f0811070331p519bf1a3j6d0584daa321bca3@mail.gmail.com>
References: <48F8A393.9080102@gmail.com>	
	<d368056f0810171431q1c7335fbi6f809f703468bac3@mail.gmail.com>	
	<e8e7199c0810180412v13cd1563j7e52666c2190845f@mail.gmail.com>	
	<d368056f0810191233v298a7250hdb92fe2cc42b636@mail.gmail.com>	
	<e8e7199c0810200245g71a06b77qfce720ee9835214@mail.gmail.com>
	<d368056f0811070331p519bf1a3j6d0584daa321bca3@mail.gmail.com>
Message-ID: <491431D6.8080607@gmail.com>

Tim Sutton wrote:
> Hi Martin
>
>
>   
>>>> One thing I don't really like is that
>>>> QgsVectorDataProvider::reset() was renamed to begin(). The real
>>>> purpose of this function is to restart reading of the data, one
>>>> doesn't have to call it when starting retrieval of features - but
>>>> that's what the current name suggest. I would suggest using e.g.
>>>> resetReading() as it better corresponds with the action it takes (and
>>>> stays consistent with OGR).
>>>>         
>>> 1) The change to reset was done in consultation with Marco H. Calling
>>> reset sounds like its doing something damaging rather than moving to
>>> the start of the selection. Another option would be something like
>>> toSelectionStart() if you feel it would make its purpose clearer.
>>>       
>> and what about seekToBegin() or resetReading() ?
>> begin() itself really doesn't make things clear.
>>
>>     
>
> This is the last thing I need to resolve before we can freeze the core
> API (assuming Peter is finished his raster cleanups now). I had a poke
> around in the implementations of begin() in a couple of providers and
> I'm not really convinced that begin() is a bad choice for a method
> name or that seekToBegin() or resetReading() make things any clearer.
> In the case of e.g. the posgres provider, we move to the first record
> in the cursor, and reload the fields map. Ogr as you mentioned calls
> resetReading.  Grass moves to the first index position and refreshes
> the field index. I'd like to finalise this today so if you could give
> some additional thought to this it would be great. If I had to pick
> one of your options it would be seekToBegin() I guess. Not sure how
> others feel....
>   
Despite the fact that I'm not actually a qgis developer, here is my two 
cents:

I know you're trying to avoid emulating the ogr api, but I think that 
something along the lines of resetReading() or restartReading() is 
better than begin(). You likely want something short, otherwise 
moveToSelectionStart() would be good. Since reset() has been rejected, 
what about restart()? This insinuates that we are moving to the 
beginning of the selection, but not that anything is being changed or reset.

Thoughts?

Carson

-- 
Carson J. Q. Farmer
Doctoral Fellow
National Centre for Geocomputation (NCG),
John Hume Building,
National University of Ireland, Maynooth,
Co. Kildare,
Ireland.
Phone: +353 (0) 1 708 6726
Fax:   +353 (0) 1 708 6456
Email: Carson.Farmer@gmail.com
Web:   http://www.carsonfarmer.com/
       http://www.ftools.ca/

From cavallini at faunalia.it  Fri Nov  7 13:59:46 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Nov  7 13:59:53 2008
Subject: [Qgis-developer] GRASS db modules
Message-ID: <49149022.2040801@faunalia.it>

Hi all.
I'm trying to address https://trac.osgeo.org/qgis/ticket/1173
The idea is having in the same window both connection parameters and
login credentials. The current situation is quite confusing.
The problem is that I do not know how/if it is possible to have two
different grass commands in the same module. Anyone knows?
Also, I do not understand why having both db.connect and
db.connect.schema (the second is == to the first, with just one extra
option).
All the best.
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From tim at linfiniti.com  Fri Nov  7 19:16:57 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov  7 19:17:20 2008
Subject: [Qgis-developer] QgsMapLayerRegistry (and QgsMapCanvas) problem
In-Reply-To: <491431D6.8080607@gmail.com>
References: <48F8A393.9080102@gmail.com>
	<d368056f0810171431q1c7335fbi6f809f703468bac3@mail.gmail.com>
	<e8e7199c0810180412v13cd1563j7e52666c2190845f@mail.gmail.com>
	<d368056f0810191233v298a7250hdb92fe2cc42b636@mail.gmail.com>
	<e8e7199c0810200245g71a06b77qfce720ee9835214@mail.gmail.com>
	<d368056f0811070331p519bf1a3j6d0584daa321bca3@mail.gmail.com>
	<491431D6.8080607@gmail.com>
Message-ID: <1226103417.7058.63.camel@timbuntu>

Hi

> Despite the fact that I'm not actually a qgis developer, here is my two 
> cents:

Well we dont have any laws restricting non-developers from making
comments...non that I consider you a non-developer anyway....so your
comments (and those of anyone else) are always welcome.

> 
> I know you're trying to avoid emulating the ogr api, but I think that 
> something along the lines of resetReading() or restartReading() is 
> better than begin(). You likely want something short, otherwise 
> moveToSelectionStart() would be good. Since reset() has been rejected, 
> what about restart()? This insinuates that we are moving to the 
> beginning of the selection, but not that anything is being changed or reset.
> 

Following the discussion on IRC, I have gone with J?rgen's suggestion to
use rewind(). I hope that keeps everyone happy...

Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081108/3146c198/attachment.bin
From tim at linfiniti.com  Fri Nov  7 20:42:40 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov  7 20:43:12 2008
Subject: [Qgis-developer] QGIS 1.0.0 Preview II tagged in svn
Message-ID: <1226108560.7058.113.camel@timbuntu>

Hi Folks (with apologies for cross posting and for the rather long
email)

Contents:

1) QGIS 1.0 Preview II Tagged
2) Preview II checkout notes
3) Packagers
4) Plugin Writers
5) Release Team
6) QGIS Users & Developers
7) OSGEO Africa
8) Special note for Ubuntu 8.10 Users

-----------------------------------------

1) QGIS 1.0 Preview II Tagged


We are inching closer to a QGIS 1.0 release. With the QGIS API revision
done, and heaps more bug fixes from our dedicated team of developers, I
have tagged QGIS 1.0.0 Preview II so we can put what we have out for
more testing. I expect that I will put out a Preview III early december
with the hope of having the final QGIS 1.0 release out for end of Dec
2008 (assuming everyone is happy to go ahead and release).

NOTE: This is a *preview* version, NOT the final release.


2) Preview II checkout notes:

NOTE: For developers and people used to building from source

To check out the tagged preview II do:

svn co https://svn.osgeo.org/qgis/tags/Release-1_0_0-preview2


3) Packagers:

If packagers could be so kind as to build new preview packages, we can
make those available from our web site and encourage testing with a more
up to date QGIS. If you notify me when your packages are available, I
will add them to http://download.qgis.org


4) Plugin Writers:

I'll let the API cleanups settle for a week or so at which point if
there has been no further no further need for tweaking, we should
declare QGIS 1.0 API frozen and encourage plugin writers to ready their
plugins for the final QGIS 1.0.0 release. I will send out an email
during the course of next week to keep you updated of the situation.


5) Release Team:

Although we are not ready to start formally down the release checklist,
it would be great if you take a look at items with your name and assess
if they can be done now already so at the point of rolling out 1.0.0
there is less work for us to do. In particular it would be great if you
could start to work on the visual changelog at:

http://wiki.qgis.org/qgiswiki/VisualChangeLog1.0.0

Please leave the API change notes in there too - we can leave them at
the end of the doc for devs to take note of. 


6) QGIS Users & Developers:

Once the Preview II package is available for your operating system (or
you have built it yourself), please check through your tickets in trac
if you have previously filed bugs. If your bugs are no longer valid,
please close them. If there are requests for information pending, please
help us by giving the needed details. 

If you are in a GIS User Group why not hold a bug verification fest
where you spend a morning going through the bug queue validating and
marking for closure all bugs that are no longer issues.

7) OSGEO Africa

Anyone interested in holding a QGIS bug cleanup session as described
above? We could hold it after the OSGEO demo session in Johannesburg,
South Africa on November 29th (pending confirmation that we could use
the facilities into the afternoon). It would be a fun way to get to know
QGIS a little better and embark on some community participation. Free
copy of QGIS to everyone who attends :-)

8) Special note for Ubuntu 8.10 Users

There have been reports about QGIS and other Qt based applications not
starting. There is a ticket filed for this here:

http://trac.osgeo.org/qgis/ticket/1384

You should be able to resolve the issue by doing:

sudo apt-get remove --purge uim-qt3

Please follow the above ticket if this does not work for you or you need
further info.


Once again my apologies for the cross posting...

Regards


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081108/4f1509ac/attachment.bin
From wonder.sk at gmail.com  Sat Nov  8 05:40:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Nov  8 05:41:00 2008
Subject: [Qgis-developer] QgsMapLayerRegistry (and QgsMapCanvas) problem
In-Reply-To: <1226103417.7058.63.camel@timbuntu>
References: <48F8A393.9080102@gmail.com>
	<d368056f0810171431q1c7335fbi6f809f703468bac3@mail.gmail.com>
	<e8e7199c0810180412v13cd1563j7e52666c2190845f@mail.gmail.com>
	<d368056f0810191233v298a7250hdb92fe2cc42b636@mail.gmail.com>
	<e8e7199c0810200245g71a06b77qfce720ee9835214@mail.gmail.com>
	<d368056f0811070331p519bf1a3j6d0584daa321bca3@mail.gmail.com>
	<491431D6.8080607@gmail.com> <1226103417.7058.63.camel@timbuntu>
Message-ID: <e8e7199c0811080240l271dca65p61147942abc244d6@mail.gmail.com>

On Sat, Nov 8, 2008 at 1:16 AM, Tim Sutton <tim@linfiniti.com> wrote:
>
> Following the discussion on IRC, I have gone with J?rgen's suggestion to
> use rewind(). I hope that keeps everyone happy...

rewind looks fine :-)

Martin
From marco.pasetti at alice.it  Sat Nov  8 05:55:27 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Sat Nov  8 05:56:34 2008
Subject: [Qgis-developer] QGIS 1.0.0 Preview II tagged in svn
In-Reply-To: <1226108560.7058.113.camel@timbuntu>
References: <1226108560.7058.113.camel@timbuntu>
Message-ID: <C75A264693B64A9099C927E13C8189F4@HPMarco>

Hi all,

I'll prepare the windows preview during the next week.
Regards,

Marco
From tim at linfiniti.com  Sat Nov  8 06:03:09 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov  8 06:03:35 2008
Subject: [Qgis-developer] QGIS 1.0.0 Preview II tagged in svn
In-Reply-To: <C75A264693B64A9099C927E13C8189F4@HPMarco>
References: <1226108560.7058.113.camel@timbuntu>
	<C75A264693B64A9099C927E13C8189F4@HPMarco>
Message-ID: <1226142189.6780.2.camel@timbuntu>

Thanks Marco!

Regards

Tim

On Sat, 2008-11-08 at 11:55 +0100, Marco Pasetti wrote:
> Hi all,
> 
> I'll prepare the windows preview during the next week.
> Regards,
> 
> Marco

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081108/f8c0b12a/attachment.bin
From john.tull at wildnevada.org  Sat Nov  8 15:36:37 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Sat Nov  8 15:36:44 2008
Subject: [Qgis-developer] PostGIS manager
In-Reply-To: <e8e7199c0811081119x3709fbe3t9d63ab88c6edf282@mail.gmail.com>
References: <e8e7199c0810261612x5b95000atf2f499d65f4445ea@mail.gmail.com>
	<490D8246.1010603@sieczka.org>
	<e8e7199c0811030413n3313e892n5d05631e818a445d@mail.gmail.com>
	<BD14512C-8A0B-413E-9BA4-2532EA3056A9@me.com>
	<e8e7199c0811040353hccf5b02yd41d94cf73f81bf5@mail.gmail.com>
	<16C88F02-B32C-4074-8BA6-1BF7CD61F3DB@wildnevada.org>
	<e8e7199c0811080536o92abd61x31f23920dd88491a@mail.gmail.com>
	<03BA7DC2-0256-4FF2-9272-09EEF375816E@wildnevada.org>
	<e8e7199c0811081112r58cdc378n99c79b10496e996d@mail.gmail.com>
	<9F7481F6-10D2-431F-9BDC-073C26BAA166@wildnevada.org>
	<e8e7199c0811081119x3709fbe3t9d63ab88c6edf282@mail.gmail.com>
Message-ID: <AEBA0E1E-B455-45CC-8BBD-4F0CE47F6EE5@wildnevada.org>

Martin,

It is working. On OS X, you have to properly link some libs for python  
stuff to behave properly. I had done this incorrectly. After correctly  
setting these with:

install_name_tool -change /Users/jctull/sources/qgis/trunk/build/src/ 
gui/libqgis_gui.1.0.dylib @executable_path/lib/libqgis_gui.1.0.dylib - 
change /Users/jctull/sources/qgis/trunk/build/src/core/libqgis_core. 
1.0.dylib @executable_path/lib/libqgis_core.1.0.dylib /Applications/ 
qgis1.0.0.app/Contents/MacOS/share/qgis/python/qgis/core.so

AND

install_name_tool -change /Users/jctull/sources/qgis/trunk/build/src/ 
gui/libqgis_gui.1.0.dylib @executable_path/lib/libqgis_gui.1.0.dylib - 
change /Users/jctull/sources/qgis/trunk/build/src/core/libqgis_core. 
1.0.dylib @executable_path/lib/libqgis_core.1.0.dylib /Applications/ 
qgis1.0.0.app/Contents/MacOS/share/qgis/python/qgis/gui.so

All is good. Sorry for the unnecessary grief.

Perhaps the debug crash does not occur with the proper linking above.  
That is something I will have to recheck as I am back to a release  
build right now.

John

>>
>> On Nov 8, 2008, at 11:12 AM, Martin Dobias wrote:
>>
>>> Hi John,
>>> it would be interesting for me to see what gets written to console
>>> when you click a spatial table in postgis manager. There should be
>>> quite some debug statements regarding the layer and map canvas.
>>>
>>> Btw. there's updated version online, featuring creation/deletion of
>>> indexes and constraints, nicer metadata display and better  
>>> handling of
>>> databases without postgis.
>>>
>>> Bye
>>> Martin
>>>
>>> On Sat, Nov 8, 2008 at 6:30 PM, John C. Tull <john.tull@wildnevada.org 
>>> >
>>> wrote:
>>>>
>>>> Martin,
>>>>
>>>> I can easily build debug support. Just let me know what to look  
>>>> for and I
>>>> will get the output back to you.
>>>>
>>>> I noticed some other strangeness yesterday. It seems that on  
>>>> first load,
>>>> the
>>>> plugin will only give the metadata for the first (or maybe first
>>>> clicked?)
>>>> table. Clicking on other tables still shows the metadata for my  
>>>> first
>>>> table.
>>>> I have to close the plugin and open it again to get the metadata to
>>>> refresh
>>>> when switching tables. I believe the table view does not work until
>>>> closing
>>>> and opening again as well.
>>>>
>>>> Regards,
>>>> John
>>
>>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081108/f748f7dc/attachment.html
From borys at wolf.most.org.pl  Sat Nov  8 18:50:57 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sat Nov  8 18:50:59 2008
Subject: [Qgis-developer] Agreement to Contributor Guidelines
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <200811090050.57547.borys@wolf.most.org.pl>

Hi List,

I've read and I agree to follow all the terms in the QGIS Contributor 
Guidelines:

http://wiki.qgis.org/qgiswiki/ContributorGuidelines (2008-11-08)

Regards,
Borys
From tim at linfiniti.com  Sat Nov  8 19:37:54 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov  8 19:38:22 2008
Subject: [Qgis-developer] No api freeze on Preview 2
Message-ID: <1226191074.6263.20.camel@timbuntu>

Hi Folks

In my previous email I mentioned waiting for a week or so before
declaring an API freeze so that we could ensure there were no
oversights. Well I already found some so we will need to either:

- announce the API freeze in a week or so independently of tagging SVN
as a preview (I was planning to put out a preview 3 early December)

- wait for the early december preview 3 tag and announce the API freeze
then.

I prefer the former option so that we can give plugin writers enough
time to get their plugins QGIS 1.0 compliant and we can select which
plugins go into the official repo etc.

Regards


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081109/3df15a61/attachment.bin
From borys at wolf.most.org.pl  Sat Nov  8 19:50:22 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sat Nov  8 19:50:26 2008
Subject: [Qgis-developer] No api freeze on Preview 2
In-Reply-To: <1226191074.6263.20.camel@timbuntu>
References: <1226191074.6263.20.camel@timbuntu>
Message-ID: <200811090150.22801.borys@wolf.most.org.pl>

> Well I already found some so we will need to either:
>
> - announce the API freeze in a week or so independently of tagging SVN 
> as a preview (I was planning to put out a preview 3 early December)
>
> - wait for the early december preview 3 tag and announce the API freeze
> then.

+1 for the former one. 

I understand the API is now really close to our wishes, so we can give 
ourselves more time for testing and polishing the updated plugins.
From telwertowski at comcast.net  Sat Nov  8 22:44:38 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Sat Nov  8 22:44:42 2008
Subject: [Qgis-developer] UIC Invalid Property Warnings
Message-ID: <49165CA6.10201@comcast.net>

Hello all,

When compiling QGIS, there are about twenty 'invalid property' UIC 
warnings which I would like to eliminate for QGIS 1.0. There are two 
reasons for these warnings.


1. After QGIS 0.11, icons for plugins were renamed and standardized. A 
side-effect of this cleanup was that the artwork formerly on the left 
side of many plugins were deleted. The UI files now generate warnings 
for these missing files.

I propose restoring these files using the name <plugin>_watermark.png. 
QWizard calls such artwork 'watermarks.' Although plugins aren't 
wizards, the plugins use these images in the same way as QWizard so 
using the same name makes sense.

Making this change may affect documentation. If plugin screenshots were 
made for 0.11 or earlier, the images were present and nothing needs to 
be done. If screenshots were made after 0.11, they need to be redone 
because the images are missing.


2. At some point in the past, a QGIS icon was placed in the title bar of 
   dialogs. I checked as far back as 0.7 and couldn't find a file with 
the specified filename so the Q-arrow icon was renamed many years ago.

Currently, the icon is often added automatically -- probably when the 
dialog is a child of the main window. The Mac currently has the icon in 
most dialogs but X11 has it in fewer places.

I propose we remove the icon specification from all UI dialogs. This 
eliminates the warning for 1.0 but doesn't change the UI since the 
property has been invalid and ignored since 0.7. After 1.0, we can fix 
the parent property of all dialogs so that the icon is automatically 
added more consistently.

Thoughts?

Tom
From cavallini at faunalia.it  Sun Nov  9 04:32:18 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Nov  9 04:32:24 2008
Subject: [Qgis-developer] fTools preview2
Message-ID: <4916AE22.3070405@faunalia.it>

Hi Carson.
Got an error (fresh install, deb 64 bit):

An error has occured while executing Python code:

Traceback (most recent call last):
  File
"/home/paolo/.qgis/python/plugins/fTools/tools/doGeoprocessing.py", line
65, in outFile
    ( self.shapefileName, self.encoding ) = ftools_utils.saveDialog( self )
  File "/home/paolo/.qgis/python/plugins/fTools/tools/ftools_utils.py",
line 268, in saveDialog
    shapefileName = unicode(fileDialog.selectedFiles().first())
MemoryError

Python version:
2.5.2 (r252:60911, Sep 29 2008, 21:26:45)
[GCC 4.3.2]

Python path:['/usr/share/qgis/python',
'/home/paolo/.qgis//python/plugins', '/usr/share/qgis/python/plugins',
'/usr/lib/python2.5', '/usr/lib/python2.5/plat-linux2',
'/usr/lib/python2.5/lib-tk', '/usr/lib/python2.5/lib-dynload',
'/usr/local/lib/python2.5/site-packages',
'/usr/lib/python2.5/site-packages',
'/usr/lib/python2.5/site-packages/Numeric',
'/usr/lib/python2.5/site-packages/PIL',
'/usr/lib/python2.5/site-packages/gst-0.10',
'/var/lib/python-support/python2.5',
'/usr/lib/python2.5/site-packages/gtk-2.0',
'/var/lib/python-support/python2.5/gtk-2.0',
'/home/paolo/.qgis/python/plugins/fTools/tools',
'/home/paolo/.qgis/python/plugins/fTools_preview2/tools']
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From tim at linfiniti.com  Sun Nov  9 14:08:15 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Nov  9 14:08:51 2008
Subject: [Qgis-developer] UIC Invalid Property Warnings
In-Reply-To: <49165CA6.10201@comcast.net>
References: <49165CA6.10201@comcast.net>
Message-ID: <1226257695.6319.1270.camel@timbuntu>

Hi Tom

On Sat, 2008-11-08 at 22:44 -0500, Tom Elwertowski wrote:
> Hello all,
> 
> When compiling QGIS, there are about twenty 'invalid property' UIC 
> warnings which I would like to eliminate for QGIS 1.0. There are two 
> reasons for these warnings.
> 
> 
> 1. After QGIS 0.11, icons for plugins were renamed and standardized. A 
> side-effect of this cleanup was that the artwork formerly on the left 
> side of many plugins were deleted. The UI files now generate warnings 
> for these missing files.
> 
> I propose restoring these files using the name <plugin>_watermark.png. 
> QWizard calls such artwork 'watermarks.' Although plugins aren't 
> wizards, the plugins use these images in the same way as QWizard so 
> using the same name makes sense.
> 
> Making this change may affect documentation. If plugin screenshots were 
> made for 0.11 or earlier, the images were present and nothing needs to 
> be done. If screenshots were made after 0.11, they need to be redone 
> because the images are missing.


I'm not in favour of reinstating the watermarks. Reason 1 being the
documentation impacts you mentioned. Reason 2 being that they didnt look
so good. Perhaps we can just prune out references to the removed images
from the ui files?


> 
> 
> 2. At some point in the past, a QGIS icon was placed in the title bar of 
>    dialogs. I checked as far back as 0.7 and couldn't find a file with 
> the specified filename so the Q-arrow icon was renamed many years ago.

> Currently, the icon is often added automatically -- probably when the 
> dialog is a child of the main window. The Mac currently has the icon in 
> most dialogs but X11 has it in fewer places.
> 
> I propose we remove the icon specification from all UI dialogs. This 
> eliminates the warning for 1.0 but doesn't change the UI since the 
> property has been invalid and ignored since 0.7. After 1.0, we can fix 
> the parent property of all dialogs so that the icon is automatically 
> added more consistently.
> 

Agreed - it would be good for all dialogs to automatically get the Q
icon which seems not to be the case at the moment.

Regards

Tim

> Thoughts?
> 
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081109/10de9990/attachment.bin
From marcopstt at gmail.com  Mon Nov 10 02:39:59 2008
From: marcopstt at gmail.com (Marco Pasetti)
Date: Mon Nov 10 02:40:07 2008
Subject: [Qgis-developer] Re: [Qgis-user] QGIS and ECW and MrSid formats
In-Reply-To: <e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
References: <490AC1BE.1010108@gmail.com> <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
Message-ID: <A37A172F3F3445EE925AB87B78B46603@HPMarco>

Hi Martin,

> In MrSID and ECW licenses they let
> developers to distribute software with MrSID/ECW libraries in binary
> form, so I don't see any legal problem here.

Well, good to hear. The binary redistribution is in fact the key for me. 
That because in MS-Windows we can't build applications with some 
dependencies/libraries enabled and then redistribute the application 
binaries without those libraries bundled (that is consider them as optional 
features, to be separately downloaded and installed by users): if built with 
that libraries enabled, the application binaries will never work if some DLL 
(the optional features) is missing.

If these are the facts, in my future development list I'll defitely add 
MrSID and ECW support compiling.
Just a question: do we need those supports also in GDAL necessarily?

Regards,

Marco 

From cavallini at faunalia.it  Mon Nov 10 03:21:32 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon Nov 10 03:21:39 2008
Subject: [Qgis-developer] Re: [Qgis-user] GRASS modules comments cleanup
In-Reply-To: <49153C89.50007@faunalia.it>
References: <49153C89.50007@faunalia.it>
Message-ID: <4917EF0C.5020105@faunalia.it>

Hi all.
I have finished the first run of cleanups. Only part of it went into
preview 2, so you'll need a fresh install from svn. Please test it and
let me know your suggestions.
All the best.

Paolo Cavallini ha scritto:
> I found a number of inconsistencies among the descriptions of GRASS
> modules. I am doing some cleanups, and I added the rules I'm following to:
> http://wiki.qgis.org/qgiswiki/Adding_New_Tools_to_the_GRASS_Toolbox
> [Specific rules for module descriptions]
> If you have additional suggestion, either general for all modules or for
> specific ones, just let me know.
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From marcopstt at gmail.com  Mon Nov 10 03:23:42 2008
From: marcopstt at gmail.com (Marco Pasetti)
Date: Mon Nov 10 03:23:46 2008
Subject: [Qgis-developer] Re: [Qgis-user] QGIS and ECW and MrSid formats
In-Reply-To: <4917EDD5.6020709@arava.co.il>
References: <490AC1BE.1010108@gmail.com>
	<4915169C.5040804@orange.fr>	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<4917EDD5.6020709@arava.co.il>
Message-ID: <7A499CDF78AF4CC88F278AA60BAC44F1@HPMarco>

Micha,

> As for GDAL, I'd expect you will want to add the support for ECW and 
> MrSID directly thru GDAL, not as some separate image support library. 

Yes, correct.

Marco
From marcopstt at gmail.com  Mon Nov 10 03:47:47 2008
From: marcopstt at gmail.com (Marco Pasetti)
Date: Mon Nov 10 03:47:54 2008
Subject: [Qgis-developer] Re: [Qgis-user] QGIS and ECW and MrSid formats
In-Reply-To: <AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
References: <490AC1BE.1010108@gmail.com>
	<4915169C.5040804@orange.fr>	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
Message-ID: <B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>

Sjur,

>Windows indeed allows plugin dlls, using the LoadLibrary() and 
>GetProcAddress() functions, the former taking a file name as input. 
>Combined with a FileOpen dialog, the user can direct >the program to her 
>separately downloaded (or built) dll.

>I don't know if these port to linux/Mac. Or if they are at all necessary 
>(or elegant) in Qgis. I've used them to load dlls implementing a subclass, 
>and with an object factory as the only dll >export. The application grabs 
>the object factory by GetProcAddress(), and must know the base class which 
>defines the interface. Then the dll subclass can perform any task as long 
>as >the base class interface suffice.

Many thanks for your technical suggestion. I'll surely consider it.

Regards,

Marco 

From Sjur.A.Kolberg at sintef.no  Mon Nov 10 03:33:38 2008
From: Sjur.A.Kolberg at sintef.no (Kolberg Sjur A)
Date: Mon Nov 10 03:51:28 2008
Subject: [Qgis-developer] RE: [Qgis-user] QGIS and ECW and MrSid formats
In-Reply-To: <A37A172F3F3445EE925AB87B78B46603@HPMarco>
References: <490AC1BE.1010108@gmail.com> <4915169C.5040804@orange.fr>	
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>	
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com> 
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
Message-ID: <AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>


Marco, or just in case someone really needs it;

Windows indeed allows plugin dlls, using the LoadLibrary() and GetProcAddress() functions, the former taking a file name as input. Combined with a FileOpen dialog, the user can direct the program to her separately downloaded (or built) dll. 

I don't know if these port to linux/Mac. Or if they are at all necessary (or elegant) in Qgis. I've used them to load dlls implementing a subclass, and with an object factory as the only dll export. The application grabs the object factory by GetProcAddress(), and must know the base class which defines the interface. Then the dll subclass can perform any task as long as the base class interface suffice.

Best regards,

Sjur Kolberg
SINTEF Energiforskning A/S
Sem S?lands vei 11
7465 Trondheim
tlf. 73 59 72 78
fax  73 59 72 50 

> -----Original Message-----
> From: qgis-user-bounces@lists.osgeo.org 
> [mailto:qgis-user-bounces@lists.osgeo.org] On Behalf Of Marco Pasetti
> Sent: 10 november 2008 08:40

> -----

> That because in MS-Windows we can't build applications with 
> some dependencies/libraries enabled and then redistribute the 
> application binaries without those libraries bundled (that is 
> consider them as optional features, to be separately 
> downloaded and installed by users): if built with that 
> libraries enabled, the application binaries will never work 
> if some DLL (the optional features) is missing.
> 
From mendbayar_b at mongol.net  Mon Nov 10 12:17:16 2008
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Mon Nov 10 12:38:06 2008
Subject: [Qgis-developer] grass plugin + python
In-Reply-To: <B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
References: <490AC1BE.1010108@gmail.com> <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
Message-ID: <1226337436.2769.8.camel@mobile-workstation.site>

Dear developers,

?I have compiled latest svn head and to run QGIS after that I have get
following from console which is load grass plugin.

------------------------------------------------
Debug: /home/bmendbayar/development/qgis/src/core/qgsproviderregistry.cpp: 195: (QgsProviderRegistry) Checking  /home/bmendbayar/development/qgis/apps/lib/qgis/libgrassprovider.so : ...invalid (lib not loadable)   
------------------------------------------------ 

How to load grass plugin in QGIS? (Of course my compilation and linking
was successful)

By the way I have also get one pop-up window which is titled "Python
error" context is following:

---------------------------------------------------
Couldn't load PyQGIS.
Python support will be disabled.

Traceback (most recent call last):
  File "", line 1, in 
ImportError: No module named qgis.core

Python version:
2.5.2 (r252:60911, Jun  7 2008, 00:38:48) 
[GCC 4.3.1 20080507 (prerelease) [gcc-4_3-branch revision 135036]]

Python path:
['/python', '/home/bmendbayar/.qgis//python/plugins', '/python/plugins',
'/usr/lib/python25.zip', '/usr/lib64/python2.5',
'/usr/lib64/python2.5/plat-linux2', '/usr/lib64/python2.5/lib-tk',
'/usr/lib64/python2.5/lib-dynload',
'/usr/lib64/python2.5/site-packages',
'/usr/lib64/python2.5/site-packages/Numeric',
'/usr/lib64/python2.5/site-packages/PIL',
'/usr/lib64/python2.5/site-packages/gtk-2.0',
'/usr/local/lib64/python2.5/site-packages',
'/usr/local/lib64/python2.5/site-packages/wx-2.8-gtk2-unicode']

---------------------------------------------------

How can I enable it?


Thanks and best regards,
B. Mendbayar


From tim at linfiniti.com  Mon Nov 10 15:11:12 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Nov 10 15:11:51 2008
Subject: [Qgis-developer] Re: grass plugin + python
In-Reply-To: <1226337436.2769.8.camel@mobile-workstation.site>
References: <490AC1BE.1010108@gmail.com> <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
	<1226337436.2769.8.camel@mobile-workstation.site>
Message-ID: <1226347872.7417.7.camel@timbuntu>

Hi Byambaa

I dont know if this will help but if you have older (<= 0.11) versions
of QGIS on your system, you could try removing them.

Regards

Tim

On Tue, 2008-11-11 at 01:17 +0800, Byambaa Mendbayar wrote:
> Dear developers,
> 
> ?I have compiled latest svn head and to run QGIS after that I have get
> following from console which is load grass plugin.
> 
> ------------------------------------------------
> Debug: /home/bmendbayar/development/qgis/src/core/qgsproviderregistry.cpp: 195: (QgsProviderRegistry) Checking  /home/bmendbayar/development/qgis/apps/lib/qgis/libgrassprovider.so : ...invalid (lib not loadable)   
> ------------------------------------------------ 
> 
> How to load grass plugin in QGIS? (Of course my compilation and linking
> was successful)
> 
> By the way I have also get one pop-up window which is titled "Python
> error" context is following:
> 
> ---------------------------------------------------
> Couldn't load PyQGIS.
> Python support will be disabled.
> 
> Traceback (most recent call last):
>   File "", line 1, in 
> ImportError: No module named qgis.core
> 
> Python version:
> 2.5.2 (r252:60911, Jun  7 2008, 00:38:48) 
> [GCC 4.3.1 20080507 (prerelease) [gcc-4_3-branch revision 135036]]
> 
> Python path:
> ['/python', '/home/bmendbayar/.qgis//python/plugins', '/python/plugins',
> '/usr/lib/python25.zip', '/usr/lib64/python2.5',
> '/usr/lib64/python2.5/plat-linux2', '/usr/lib64/python2.5/lib-tk',
> '/usr/lib64/python2.5/lib-dynload',
> '/usr/lib64/python2.5/site-packages',
> '/usr/lib64/python2.5/site-packages/Numeric',
> '/usr/lib64/python2.5/site-packages/PIL',
> '/usr/lib64/python2.5/site-packages/gtk-2.0',
> '/usr/local/lib64/python2.5/site-packages',
> '/usr/local/lib64/python2.5/site-packages/wx-2.8-gtk2-unicode']
> 
> ---------------------------------------------------
> 
> How can I enable it?
> 
> 
> Thanks and best regards,
> B. Mendbayar
> 
> 

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081110/2625456c/attachment.bin
From wonder.sk at gmail.com  Mon Nov 10 18:27:16 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Nov 10 18:27:18 2008
Subject: [Qgis-developer] grass plugin + python
In-Reply-To: <1226337436.2769.8.camel@mobile-workstation.site>
References: <490AC1BE.1010108@gmail.com> <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
	<1226337436.2769.8.camel@mobile-workstation.site>
Message-ID: <e8e7199c0811101527x7a744f42oecfa53d3225c85e9@mail.gmail.com>

Hi,

at least the PyQGIS error is caused by the presence of older version
of QGIS, supposedly in the same directory where have you installed
current trunk version. Usually deleting the whole installation
directory and doing 'make install' helps.

Martin


On Mon, Nov 10, 2008 at 6:17 PM, Byambaa Mendbayar
<mendbayar_b@mongol.net> wrote:
> Dear developers,
>
> ?I have compiled latest svn head and to run QGIS after that I have get
> following from console which is load grass plugin.
>
> ------------------------------------------------
> Debug: /home/bmendbayar/development/qgis/src/core/qgsproviderregistry.cpp: 195: (QgsProviderRegistry) Checking  /home/bmendbayar/development/qgis/apps/lib/qgis/libgrassprovider.so : ...invalid (lib not loadable)
> ------------------------------------------------
>
> How to load grass plugin in QGIS? (Of course my compilation and linking
> was successful)
>
> By the way I have also get one pop-up window which is titled "Python
> error" context is following:
>
> ---------------------------------------------------
> Couldn't load PyQGIS.
> Python support will be disabled.
>
> Traceback (most recent call last):
>  File "", line 1, in
> ImportError: No module named qgis.core
>
> Python version:
> 2.5.2 (r252:60911, Jun  7 2008, 00:38:48)
> [GCC 4.3.1 20080507 (prerelease) [gcc-4_3-branch revision 135036]]
>
> Python path:
> ['/python', '/home/bmendbayar/.qgis//python/plugins', '/python/plugins',
> '/usr/lib/python25.zip', '/usr/lib64/python2.5',
> '/usr/lib64/python2.5/plat-linux2', '/usr/lib64/python2.5/lib-tk',
> '/usr/lib64/python2.5/lib-dynload',
> '/usr/lib64/python2.5/site-packages',
> '/usr/lib64/python2.5/site-packages/Numeric',
> '/usr/lib64/python2.5/site-packages/PIL',
> '/usr/lib64/python2.5/site-packages/gtk-2.0',
> '/usr/local/lib64/python2.5/site-packages',
> '/usr/local/lib64/python2.5/site-packages/wx-2.8-gtk2-unicode']
>
> ---------------------------------------------------
>
> How can I enable it?
>
>
> Thanks and best regards,
> B. Mendbayar
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From mendbayar_b at mongol.net  Tue Nov 11 05:17:15 2008
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Tue Nov 11 05:17:31 2008
Subject: [Qgis-developer] Re: grass plugin + python
In-Reply-To: <1226347872.7417.7.camel@timbuntu>
References: <490AC1BE.1010108@gmail.com> <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
	<1226337436.2769.8.camel@mobile-workstation.site>
	<1226347872.7417.7.camel@timbuntu>
Message-ID: <1226398635.31096.4.camel@mobile-workstation.site>

Dear Tim and ?Martin,

Thank you very much, both of my problems are now working fine after I
have remove older versions of QGIS.

With best regards,
B. Mendbayar

P.S Tim my first name is Mendbayar, last name is Byambaa, therefore
please call me Mendbayar or shortly Mendee. Thanks again.

On Mon, 2008-11-10 at 22:11 +0200, Tim Sutton wrote:
> Hi Byambaa
> 
> I dont know if this will help but if you have older (<= 0.11) versions
> of QGIS on your system, you could try removing them.
> 
> Regards
> 
> Tim
> 
> On Tue, 2008-11-11 at 01:17 +0800, Byambaa Mendbayar wrote:
> > Dear developers,
> > 
> > ?I have compiled latest svn head and to run QGIS after that I have get
> > following from console which is load grass plugin.
> > 
> > ------------------------------------------------
> > Debug: /home/bmendbayar/development/qgis/src/core/qgsproviderregistry.cpp: 195: (QgsProviderRegistry) Checking  /home/bmendbayar/development/qgis/apps/lib/qgis/libgrassprovider.so : ...invalid (lib not loadable)   
> > ------------------------------------------------ 
> > 
> > How to load grass plugin in QGIS? (Of course my compilation and linking
> > was successful)
> > 
> > By the way I have also get one pop-up window which is titled "Python
> > error" context is following:
> > 
> > ---------------------------------------------------
> > Couldn't load PyQGIS.
> > Python support will be disabled.
> > 
> > Traceback (most recent call last):
> >   File "", line 1, in 
> > ImportError: No module named qgis.core
> > 
> > Python version:
> > 2.5.2 (r252:60911, Jun  7 2008, 00:38:48) 
> > [GCC 4.3.1 20080507 (prerelease) [gcc-4_3-branch revision 135036]]
> > 
> > Python path:
> > ['/python', '/home/bmendbayar/.qgis//python/plugins', '/python/plugins',
> > '/usr/lib/python25.zip', '/usr/lib64/python2.5',
> > '/usr/lib64/python2.5/plat-linux2', '/usr/lib64/python2.5/lib-tk',
> > '/usr/lib64/python2.5/lib-dynload',
> > '/usr/lib64/python2.5/site-packages',
> > '/usr/lib64/python2.5/site-packages/Numeric',
> > '/usr/lib64/python2.5/site-packages/PIL',
> > '/usr/lib64/python2.5/site-packages/gtk-2.0',
> > '/usr/local/lib64/python2.5/site-packages',
> > '/usr/local/lib64/python2.5/site-packages/wx-2.8-gtk2-unicode']
> > 
> > ---------------------------------------------------
> > 
> > How can I enable it?
> > 
> > 
> > Thanks and best regards,
> > B. Mendbayar
> > 
> > 
> 

From tim at linfiniti.com  Tue Nov 11 05:43:18 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 11 05:43:21 2008
Subject: [Qgis-developer] Re: grass plugin + python
In-Reply-To: <1226398635.31096.4.camel@mobile-workstation.site>
References: <490AC1BE.1010108@gmail.com> <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
	<1226337436.2769.8.camel@mobile-workstation.site>
	<1226347872.7417.7.camel@timbuntu>
	<1226398635.31096.4.camel@mobile-workstation.site>
Message-ID: <d368056f0811110243r8d72659gd4bf63a1babeb59f@mail.gmail.com>

Hi Mendee

2008/11/11 Byambaa Mendbayar <mendbayar_b@mongol.net>:
> Dear Tim and ?Martin,
>
> Thank you very much, both of my problems are now working fine after I
> have remove older versions of QGIS.

Glad its working now.

>
> With best regards,
> B. Mendbayar
>
> P.S Tim my first name is Mendbayar, last name is Byambaa, therefore
> please call me Mendbayar or shortly Mendee. Thanks again.

I think you mentioned this before - my apologies I will try to
remember. It will probably help if you set your email client to sign
your emails as Mendbayar Byambaa rather than Byambaa Mendbayar as it
currently does.

Regards

Tim


>
> On Mon, 2008-11-10 at 22:11 +0200, Tim Sutton wrote:
>> Hi Byambaa
>>
>> I dont know if this will help but if you have older (<= 0.11) versions
>> of QGIS on your system, you could try removing them.
>>
>> Regards
>>
>> Tim
>>
>> On Tue, 2008-11-11 at 01:17 +0800, Byambaa Mendbayar wrote:
>> > Dear developers,
>> >
>> > ?I have compiled latest svn head and to run QGIS after that I have get
>> > following from console which is load grass plugin.
>> >
>> > ------------------------------------------------
>> > Debug: /home/bmendbayar/development/qgis/src/core/qgsproviderregistry.cpp: 195: (QgsProviderRegistry) Checking  /home/bmendbayar/development/qgis/apps/lib/qgis/libgrassprovider.so : ...invalid (lib not loadable)
>> > ------------------------------------------------
>> >
>> > How to load grass plugin in QGIS? (Of course my compilation and linking
>> > was successful)
>> >
>> > By the way I have also get one pop-up window which is titled "Python
>> > error" context is following:
>> >
>> > ---------------------------------------------------
>> > Couldn't load PyQGIS.
>> > Python support will be disabled.
>> >
>> > Traceback (most recent call last):
>> >   File "", line 1, in
>> > ImportError: No module named qgis.core
>> >
>> > Python version:
>> > 2.5.2 (r252:60911, Jun  7 2008, 00:38:48)
>> > [GCC 4.3.1 20080507 (prerelease) [gcc-4_3-branch revision 135036]]
>> >
>> > Python path:
>> > ['/python', '/home/bmendbayar/.qgis//python/plugins', '/python/plugins',
>> > '/usr/lib/python25.zip', '/usr/lib64/python2.5',
>> > '/usr/lib64/python2.5/plat-linux2', '/usr/lib64/python2.5/lib-tk',
>> > '/usr/lib64/python2.5/lib-dynload',
>> > '/usr/lib64/python2.5/site-packages',
>> > '/usr/lib64/python2.5/site-packages/Numeric',
>> > '/usr/lib64/python2.5/site-packages/PIL',
>> > '/usr/lib64/python2.5/site-packages/gtk-2.0',
>> > '/usr/local/lib64/python2.5/site-packages',
>> > '/usr/local/lib64/python2.5/site-packages/wx-2.8-gtk2-unicode']
>> >
>> > ---------------------------------------------------
>> >
>> > How can I enable it?
>> >
>> >
>> > Thanks and best regards,
>> > B. Mendbayar
>> >
>> >
>>
>
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
From jef at norbit.de  Tue Nov 11 06:11:42 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Nov 11 06:11:52 2008
Subject: [Qgis-developer] Re: grass plugin + python
In-Reply-To: <d368056f0811110243r8d72659gd4bf63a1babeb59f@mail.gmail.com>
References: <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
	<1226337436.2769.8.camel@mobile-workstation.site>
	<1226347872.7417.7.camel@timbuntu>
	<1226398635.31096.4.camel@mobile-workstation.site>
	<d368056f0811110243r8d72659gd4bf63a1babeb59f@mail.gmail.com>
Message-ID: <20081111111142.GB18478@norbit.de>

Hi Tim,

On Tue, 11. Nov 2008 at 12:43:18 +0200, Tim Sutton wrote:
> It will probably help if you set your email client to sign your emails
> as Mendbayar Byambaa rather than Byambaa Mendbayar as it currently
> does.

We don't have a name order policy either ;)


scnr
J?rgen


PS: BTW I uploaded 1.0preview2 for gutsy, hardy and intrepid to
    https://launchpad.net/~jef-norbit/+archive yesterday

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From borys at wolf.most.org.pl  Tue Nov 11 06:19:07 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov 11 06:19:12 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
Message-ID: <200811111219.08001.borys@wolf.most.org.pl>

Hi list,

I see our discussion has died. But one thing is absolutely essential - 
introducing the qgisMinVersion() method (or apiVersion(), however I believe 
the former is just much clearer).

QgsPythonUtilsImpl::loadPlugin should reject the incompatible plugins. Martin 
what do you think? Would you like to implement it? I don't know if is there 
any _good_ function for version comparision? (for Python I haven't found any 
sufficient so I had to write my own).

Now I'm going to implement it in Installer. Uncompatible plugins in repository 
will be masked while installed uncompatible plugins will be marked red.

So if nobody object, I'm introducing the following metadata: 
qgisMinVersion
qgisMaxVersion

They are of course optional. If missing, the plugin will be loaded anyway.
From wonder.sk at gmail.com  Tue Nov 11 06:56:44 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 11 06:56:46 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <4910744F.5040506@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
	<200811041524.38454.borys@wolf.most.org.pl>
	<4910744F.5040506@gmail.com>
Message-ID: <e8e7199c0811110356y7f879115uab8e55e15aab4c78@mail.gmail.com>

Hey Carson,

sorry for the lag, it took me some time to think about the topic :-)

On Tue, Nov 4, 2008 at 5:11 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
> Hey gang,
>
> The other possibility, if we are concerned about compatibility with older
> versions, is that the plugins are only fetched from ~/.qgis/python/plugins,
> however, putting additional folders in ~/.qgis/python, such as /1_x_plugins,
> would not cause any problems ( I have lots of 'extra' plugins here that
> backups, or no longer maintained etc). This then, would allow users to have
> two versions of QGIS installed, both with the same plugins at different
> versions (so I could have and older version of ftools in
> ~/.qgis/python/plugins, and then a newer version associated with trunk in
> ~/.qgis/python/1_x_plugins.

Right, this should work.

But I'd like to start the discussion about compatibility with older
versions. So far I'm not really convinced that there's real benefit -
why would someone use both 1.x version and 0.x version at the same
time?


Martin
From carson.farmer at gmail.com  Tue Nov 11 07:11:45 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov 11 07:11:49 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <200811111219.08001.borys@wolf.most.org.pl>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
	<200811111219.08001.borys@wolf.most.org.pl>
Message-ID: <49197681.4040908@gmail.com>

Borys,
> Hi list,
>
> I see our discussion has died. But one thing is absolutely essential - 
> introducing the qgisMinVersion() method (or apiVersion(), however I believe 
> the former is just much clearer).
>   
I think you're right. Regardless of how all this is implemented, 
qgisMinVersion and qgisMaxVersion will be useful methods. I'll add these 
to my plugins.
One question though: What about in situations like we have now, where we 
have QGIS version 1.0.0_preview1 and preview2? Since the QGIS version is 
1.0.0, will your comparison method be able to handle these added 
'preview' designations?
> QgsPythonUtilsImpl::loadPlugin should reject the incompatible plugins. Martin 
> what do you think? Would you like to implement it? I don't know if is there 
> any _good_ function for version comparision? (for Python I haven't found any 
> sufficient so I had to write my own).
>
> Now I'm going to implement it in Installer. Uncompatible plugins in repository 
> will be masked while installed uncompatible plugins will be marked red.
>
> So if nobody object, I'm introducing the following metadata: 
> qgisMinVersion
> qgisMaxVersion
>   
Keep in mind that Tim has just done a bunch of API changes, converting 
min to minimum (etc.). Perhaps it would be better to call them:

qgisMinimumVersion and qgisMaximumVersion?

Cheers,

Carson
From wonder.sk at gmail.com  Tue Nov 11 07:15:27 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 11 07:15:29 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <200811111219.08001.borys@wolf.most.org.pl>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
	<200811111219.08001.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0811110415t278f4072w573a6d7ca4f34922@mail.gmail.com>

On Tue, Nov 11, 2008 at 12:19 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
> Hi list,
>
> I see our discussion has died. But one thing is absolutely essential -
> introducing the qgisMinVersion() method (or apiVersion(), however I believe
> the former is just much clearer).

Agreed. I'm going to implement support for qgisMinVersion method
(you're right, it's clearer) to distinguish which plugins can be
loaded safely.

> QgsPythonUtilsImpl::loadPlugin should reject the incompatible plugins. Martin
> what do you think? Would you like to implement it? I don't know if is there
> any _good_ function for version comparision? (for Python I haven't found any
> sufficient so I had to write my own).

QGIS versioning scheme is "x.y.z" where x,y,z are numbers, sometimes
'z' can be omitted and is considered as zero. So I think there
shouldn't be a problem comparing the versions.


> Now I'm going to implement it in Installer. Uncompatible plugins in repository
> will be masked while installed uncompatible plugins will be marked red.

This sounds like there's need to add minimal version tag also to
repository's XML.


> So if nobody object, I'm introducing the following metadata:
> qgisMinVersion
> qgisMaxVersion
>
> They are of course optional. If missing, the plugin will be loaded anyway.

I prefer to be strict and require qgisMinVersion in every plugin.
However I don't know whether we really need qgisMaxVersion as max.
version can't be usually predicted and I suppose that developers will
ignore it or put some arbitrary high version numbers.

Martin
From carson.farmer at gmail.com  Tue Nov 11 07:16:34 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov 11 07:16:37 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <e8e7199c0811110356y7f879115uab8e55e15aab4c78@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>	
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>	
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>	
	<200811041524.38454.borys@wolf.most.org.pl>	
	<4910744F.5040506@gmail.com>
	<e8e7199c0811110356y7f879115uab8e55e15aab4c78@mail.gmail.com>
Message-ID: <491977A2.5060409@gmail.com>

Martin,
>> The other possibility, if we are concerned about compatibility with older
>> versions, is that the plugins are only fetched from ~/.qgis/python/plugins,
>> however, putting additional folders in ~/.qgis/python, such as /1_x_plugins,
>> would not cause any problems ( I have lots of 'extra' plugins here that
>> backups, or no longer maintained etc). This then, would allow users to have
>> two versions of QGIS installed, both with the same plugins at different
>> versions (so I could have and older version of ftools in
>> ~/.qgis/python/plugins, and then a newer version associated with trunk in
>> ~/.qgis/python/1_x_plugins.
>>     
>
> Right, this should work.
>
> But I'd like to start the discussion about compatibility with older
> versions. So far I'm not really convinced that there's real benefit -
> why would someone use both 1.x version and 0.x version at the same
> time?
>   
I guess you're probably right, the majority of users would only have one 
or the other. If they are using an older version, they would likely also 
have the older version of the plugin installer.

The multiple versions probably only applies to developers. The only 
other issue then is if we do change how plugins are managed in the 
future, is now to handle plugins after a QGIS upgrade...

Others thoughts?

Carson
From wonder.sk at gmail.com  Tue Nov 11 07:19:57 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 11 07:19:58 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <49197681.4040908@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
	<200811111219.08001.borys@wolf.most.org.pl>
	<49197681.4040908@gmail.com>
Message-ID: <e8e7199c0811110419t7bbd79aeyb755e6eea753647f@mail.gmail.com>

On Tue, Nov 11, 2008 at 1:11 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
> One question though: What about in situations like we have now, where we
> have QGIS version 1.0.0_preview1 and preview2? Since the QGIS version is
> 1.0.0, will your comparison method be able to handle these added 'preview'
> designations?

Let's call this a pre-1.0 anomaly :-) Things like this normally can't
happen. Version must be increase with every API change (including
changes in semantics).


>> So if nobody object, I'm introducing the following metadata:
>> qgisMinVersion
>> qgisMaxVersion
>>
>
> Keep in mind that Tim has just done a bunch of API changes, converting min
> to minimum (etc.). Perhaps it would be better to call them:
>
> qgisMinimumVersion and qgisMaximumVersion?

I don't mind either of them, although the longer version is somewhat verbose :)

Martin
From wonder.sk at gmail.com  Tue Nov 11 07:23:13 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 11 07:23:15 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <491977A2.5060409@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
	<200811041524.38454.borys@wolf.most.org.pl>
	<4910744F.5040506@gmail.com>
	<e8e7199c0811110356y7f879115uab8e55e15aab4c78@mail.gmail.com>
	<491977A2.5060409@gmail.com>
Message-ID: <e8e7199c0811110423p46d462d4v36acc5cf4e50ba@mail.gmail.com>

On Tue, Nov 11, 2008 at 1:16 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
>> But I'd like to start the discussion about compatibility with older
>> versions. So far I'm not really convinced that there's real benefit -
>> why would someone use both 1.x version and 0.x version at the same
>> time?
>>
>
> I guess you're probably right, the majority of users would only have one or
> the other. If they are using an older version, they would likely also have
> the older version of the plugin installer.
>
> The multiple versions probably only applies to developers. The only other
> issue then is if we do change how plugins are managed in the future, is now
> to handle plugins after a QGIS upgrade...

I want to handle this situation with strictly required
qgisMinVersion() method in plugins for 1.x. It will be easily detected
which plugins doesn't include this method and will be considered as <
1.0 thus not loaded.

Martin
From carson.farmer at gmail.com  Tue Nov 11 07:46:56 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov 11 07:47:00 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <e8e7199c0811110415t278f4072w573a6d7ca4f34922@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>	<200811111219.08001.borys@wolf.most.org.pl>
	<e8e7199c0811110415t278f4072w573a6d7ca4f34922@mail.gmail.com>
Message-ID: <49197EC0.3030405@gmail.com>

All, (apologies to Martin, who has already received this email...)

 >> I see our discussion has died. But one thing is absolutely essential -
 >> introducing the qgisMinVersion() method (or apiVersion(), however I 
believe
 >> the former is just much clearer).
 >>     
 > Agreed. I'm going to implement support for qgisMinVersion method
 > (you're right, it's clearer) to distinguish which plugins can be
 > loaded safely.
 >> gsPythonUtilsImpl::loadPlugin should reject the incompatible 
plugins. Martin
 >> what do you think? Would you like to implement it? I don't know if 
is there
 >> any _good_ function for version comparision? (for Python I haven't 
found any
 >>
 >>     
 > sufficient so I had to write my own).QGIS versioning scheme is 
"x.y.z" where x,y,z are numbers, sometimes
 > 'z' can be omitted and is considered as zero. So I think there
 > shouldn't be a problem comparing the versions.
 >> ow I'm going to implement it in Installer. Uncompatible plugins in 
repository
 >> will be masked while installed uncompatible plugins will be marked red.
 >>     
 > This sounds like there's need to add minimal version tag also to
 > repository's XML.
Yup, something like:

<qgis_version>
 >= 1.0.0
</qgis_version>

or we could just assume this is the minimum and omit the >=
 >> o if nobody object, I'm introducing the following metadata:
 >> qgisMinVersion
 >> qgisMaxVersion
 >>
 >> They are of course optional. If missing, the plugin will be loaded 
anyway.
 >>     
 >
 > I prefer to be strict and require qgisMinVersion in every plugin.
 >   
This is how it has been in the past, if __init__ .py doesn't have
name(), description(), and version(), it won't be loaded... Also, since
current plugins won't be able to work with the new API without
significant changes anyway, asking plugin developers to add a new method
to their __init__.py files won't really be asking that much more ;-)
 > However I don't know whether we really need qgisMaxVersion as max.
 > version can't be usually predicted and I suppose that developers will
 > ignore it or put some arbitrary high version numbers.
I agree, max version will likely be unused/unnecessary...

C

From wonder.sk at gmail.com  Tue Nov 11 07:53:49 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 11 07:53:51 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <49197EC0.3030405@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>
	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>
	<200811111219.08001.borys@wolf.most.org.pl>
	<e8e7199c0811110415t278f4072w573a6d7ca4f34922@mail.gmail.com>
	<49197EC0.3030405@gmail.com>
Message-ID: <e8e7199c0811110453v447a0b4cra7b5af7c6fa6ae21@mail.gmail.com>

On Tue, Nov 11, 2008 at 1:46 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
>> This sounds like there's need to add minimal version tag also to
>> repository's XML.
> Yup, something like:
>
> <qgis_version>
>>= 1.0.0
> </qgis_version>
>
> or we could just assume this is the minimum and omit the >=

To avoid unneeded parsing stuf, I would prefer it without >=
(and call the element e.g. qgis_minimal_version)

Martin
From borys at wolf.most.org.pl  Tue Nov 11 08:04:01 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov 11 08:04:08 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <49197EC0.3030405@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<e8e7199c0811110415t278f4072w573a6d7ca4f34922@mail.gmail.com>
	<49197EC0.3030405@gmail.com>
Message-ID: <200811111404.02228.borys@wolf.most.org.pl>

>  > This sounds like there's need to add minimal version tag also to
>  > repository's XML.

Of course

> Yup, something like:
>
> <qgis_version>
>
>  >= 1.0.0
>
> </qgis_version>

> or we could just assume this is the minimum and omit the >=

I would like to see rather simple 'int.int.int' string (for easier parsing) 
and the tag to be named rather exactly as the module (qgisMinimumVersion)

>  > I prefer to be strict and require qgisMinVersion in every plugin.

Ok. Installer won't be so categorical anyway, because has to be compatible 
with older plugins too.

> This is how it has been in the past, if __init__ .py doesn't have
> name(), description(), and version(), it won't be loaded... Also, since
> current plugins won't be able to work with the new API without
> significant changes anyway, asking plugin developers to add a new method
> to their __init__.py files won't really be asking that much more ;-)

Definitely won't. I think we should feel free to set up clear metadata and 
related rules.

> I agree, max version will likely be unused/unnecessary...

It's of course not obligatory. However if you put it to the 0.x plugins, it 
would be an additional protection for users who will switch from qgis 0.11 to 
1.0 in the future.
From borys at wolf.most.org.pl  Tue Nov 11 08:04:41 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov 11 08:04:46 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <49197681.4040908@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<200811111219.08001.borys@wolf.most.org.pl>
	<49197681.4040908@gmail.com>
Message-ID: <200811111404.41754.borys@wolf.most.org.pl>

> One question though: What about in situations like we have now, where we
> have QGIS version 1.0.0_preview1 and preview2? Since the QGIS version is
> 1.0.0, will your comparison method be able to handle these added
> 'preview' designations?

The QGIS_VERSION retuns such string: 'int.int.int-string', so I believe we 
should provide the form 'int.int.int' and don't carry about the suffix. 

In this case the Preview is recognized just as the final 1.0.0. I think it's 
not worth to put any huge stuff only for compatibility with Preview1. And 
Preview2 seems to be going to be compatible with the final api.

> Keep in mind that Tim has just done a bunch of API changes, converting
> min to minimum (etc.). Perhaps it would be better to call them:
>
> qgisMinimumVersion and qgisMaximumVersion?

Right!
From borys at wolf.most.org.pl  Tue Nov 11 08:19:37 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov 11 08:19:41 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <491977A2.5060409@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<e8e7199c0811110356y7f879115uab8e55e15aab4c78@mail.gmail.com>
	<491977A2.5060409@gmail.com>
Message-ID: <200811111419.37589.borys@wolf.most.org.pl>

> I guess you're probably right, the majority of users would only have one
> or the other. If they are using an older version, they would likely also
> have the older version of the plugin installer.
>
> The multiple versions probably only applies to developers.

There are always simple workaround. If we assume the old plugins will be no 
longer updated, we can manually rename their directories. If I'm right, 0.x 
uses qgis.conf file, while 1.x usues QGIS.conf, so it's easy to enable 
different plugin sets. The old plugins won't be even visible in 1.x if we 
decide to implement qgisMaximumVersion().

> The only other issue then is if we do change how plugins are managed in the
> future, is now to handle plugins after a QGIS upgrade...

I think it's not a critical threat. In any time we can provide a plugin to 
automatic and painless move/upgrade the all/selected plugins. It can even 
adjust the __init__.py files and put to them required methods :)
From wonder.sk at gmail.com  Tue Nov 11 08:15:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 11 08:26:14 2008
Subject: [Qgis-developer] QgsVectorLayer::featureAtId change
Message-ID: <e8e7199c0811110515w27ba59bau8643a82e4df21824@mail.gmail.com>

Hi devs,

just a quick not about recent (r9620) change:
QgsVectorLayer::featureAtId() now returns true on success and not zero
as before. I've done this change to make it "compatible" with
QgsVectorDataProvider::featureAtId() which also returns true on
success and thus prevent confusion.

(this change is in trunk only, not in preview2)

Martin
From borys at wolf.most.org.pl  Tue Nov 11 08:26:37 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov 11 08:26:48 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <e8e7199c0811110419t7bbd79aeyb755e6eea753647f@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<49197681.4040908@gmail.com>
	<e8e7199c0811110419t7bbd79aeyb755e6eea753647f@mail.gmail.com>
Message-ID: <200811111426.37927.borys@wolf.most.org.pl>

Tuesday 11 of November 2008 13:19:57 Martin Dobias napisa?(a):
> On Tue, Nov 11, 2008 at 1:11 PM, Carson Farmer <carson.farmer@gmail.com> 
wrote:
> > One question though: What about in situations like we have now, where we
> > have QGIS version 1.0.0_preview1 and preview2? Since the QGIS version is
> > 1.0.0, will your comparison method be able to handle these added
> > 'preview' designations?
>
> Let's call this a pre-1.0 anomaly :-) Things like this normally can't
> happen. Version must be increase with every API change (including
> changes in semantics).

I vote for discarding the suffixes and using the simple form 'int.int(.int)'. 
It's MUCH easier to parse. Note that the problems with preview versions will 
come to end soon.

> > qgisMinimumVersion and qgisMaximumVersion?
>
> I don't mind either of them, although the longer version is somewhat
> verbose :)

+1 for the longer one
From cavallini at faunalia.it  Tue Nov 11 08:28:04 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Nov 11 08:28:09 2008
Subject: [Qgis-developer] Version number in plugin path?
In-Reply-To: <e8e7199c0811110356y7f879115uab8e55e15aab4c78@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>	<d8ad40b50811040451p70d335fcw1d1e549b2ca5db3f@mail.gmail.com>	<e8e7199c0811040502m5156d760q9cd7d027e9c660e2@mail.gmail.com>	<200811041524.38454.borys@wolf.most.org.pl>	<4910744F.5040506@gmail.com>
	<e8e7199c0811110356y7f879115uab8e55e15aab4c78@mail.gmail.com>
Message-ID: <49198864.4090803@faunalia.it>

Martin Dobias ha scritto:

> versions. So far I'm not really convinced that there's real benefit -
> why would someone use both 1.x version and 0.x version at the same
> time?

I think we should deprecate the use of previous versions as soon as 1.0
is released, and concentrate bugfixing etc on 1.0.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From borys at wolf.most.org.pl  Tue Nov 11 10:14:06 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov 11 10:14:10 2008
Subject: [Qgis-developer] Version number in plugin path - So where the
	matter was dropped?
In-Reply-To: <49197829.9010708@gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<200811111219.08001.borys@wolf.most.org.pl>
	<49197829.9010708@gmail.com>
Message-ID: <200811111614.07740.borys@wolf.most.org.pl>

What form do we fix? I suggest the following:

def qgisMinimumVersion():
 return '1.0.0'

Where returned string contains two or three (both cases are allowed) integer 
values separated by points. 

The important question is if we expect one of the values to be more than 9. If 
not, we can just compare them as strings. But '10' < '9', so if version 
1.0.10 or 1.10.0 is expected, we need to extract each level and compare 
separately as integer. In this case we should be prepared that the plugin 
author may put some suffix to this string, what might raise exception. In the 
former case such suffix will be confusing too, because 
'1.0preview2' > '1.0'.

And for repository metadata I suggest the following form:

<qgisMinimumVersion>
1.0.0
</qgisMinimumVersion>

Regards,

Borys
From wonder.sk at gmail.com  Tue Nov 11 10:31:34 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 11 10:31:37 2008
Subject: [Qgis-developer] Version number in plugin path - So where the
	matter was dropped?
In-Reply-To: <200811111614.07740.borys@wolf.most.org.pl>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<200811111219.08001.borys@wolf.most.org.pl>
	<49197829.9010708@gmail.com>
	<200811111614.07740.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0811110731u54311e7fgd92aebb06b296a6a@mail.gmail.com>

Borys,

On Tue, Nov 11, 2008 at 4:14 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
> What form do we fix? I suggest the following:
>
> def qgisMinimumVersion():
>  return '1.0.0'
>
> Where returned string contains two or three (both cases are allowed) integer
> values separated by points.
>
> The important question is if we expect one of the values to be more than 9. If
> not, we can just compare them as strings. But '10' < '9', so if version
> 1.0.10 or 1.10.0 is expected, we need to extract each level and compare
> separately as integer. In this case we should be prepared that the plugin
> author may put some suffix to this string, what might raise exception. In the
> former case such suffix will be confusing too, because
> '1.0preview2' > '1.0'.

you have to expect also partial version values > 9.
QGIS releases must be versioned correctly, i.e. always use scheme "x.y.z-txt".
Project file versioning already depends on this fact, so the same
should be expected in plugin installer.


> And for repository metadata I suggest the following form:
>
> <qgisMinimumVersion>
> 1.0.0
> </qgisMinimumVersion>

Agreed.

Martin
From silfreed at silfreed.net  Tue Nov 11 10:42:35 2008
From: silfreed at silfreed.net (Douglas E. Warner)
Date: Tue Nov 11 11:07:32 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] QGIS 1.0.0 Preview II
	tagged in svn
In-Reply-To: <1226108560.7058.113.camel@timbuntu>
References: <1226108560.7058.113.camel@timbuntu>
Message-ID: <4919A7EB.2090503@silfreed.net>

Tim Sutton wrote:
> 3) Packagers:
> 
> If packagers could be so kind as to build new preview packages, we can
> make those available from our web site and encourage testing with a more
> up to date QGIS. If you notify me when your packages are available, I
> will add them to http://download.qgis.org

I've built packages for Fedora 8, 9, 10 and will be are available here shortly 
(currently uploading):

http://www.silfreed.net/download/repo/packages/qgis/

-Doug

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081111/94d5b2b4/signature.bin
From borys at wolf.most.org.pl  Tue Nov 11 11:23:28 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Nov 11 11:23:30 2008
Subject: [Qgis-developer] Version number in plugin path - So where the
	matter was dropped?
In-Reply-To: <e8e7199c0811110731u54311e7fgd92aebb06b296a6a@mail.gmail.com>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>
	<200811111614.07740.borys@wolf.most.org.pl>
	<e8e7199c0811110731u54311e7fgd92aebb06b296a6a@mail.gmail.com>
Message-ID: <200811111723.28568.borys@wolf.most.org.pl>

Tuesday 11 of November 2008 16:31:34 Martin Dobias napisa?(a):
> Borys,
>
> On Tue, Nov 11, 2008 at 4:14 PM, Borys Jurgiel <borys@wolf.most.org.pl> 
wrote:
> > What form do we fix? I suggest the following:
> >
> > def qgisMinimumVersion():
> >  return '1.0.0'
> >
> > Where returned string contains two or three (both cases are allowed)
> > integer values separated by points.
> >
> > The important question is if we expect one of the values to be more than
> > 9. If not, we can just compare them as strings. But '10' < '9', so if
> > version 1.0.10 or 1.10.0 is expected, we need to extract each level and
> > compare separately as integer. In this case we should be prepared that
> > the plugin author may put some suffix to this string, what might raise
> > exception. In the former case such suffix will be confusing too, because
> > '1.0preview2' > '1.0'.
>
> you have to expect also partial version values > 9.
> QGIS releases must be versioned correctly, i.e. always use scheme
> "x.y.z-txt". Project file versioning already depends on this fact, so the
> same should be expected in plugin installer.

Ok. This way I've made an universal python module for version comparing. 
I'm only hesitating where to insert 'preview' to the existing order:
'alpha' < 'beta' < 'rc' < [no_suffix] = 'final' < [any other suffix]

I think after the alpha, beta and rc rather then before. I'll add it to 
Installer as a separate module soon, so everyone will can take it for his own 
purposes.

> > And for repository metadata I suggest the following form:
> >
> > <qgisMinimumVersion>
> > 1.0.0
> > </qgisMinimumVersion>
>
> Agreed.

Sorry, rather <qgis_minimum_version> to meet existing naming style.

Regards,
B.
From tim at linfiniti.com  Tue Nov 11 12:06:22 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 11 16:01:28 2008
Subject: [Qgis-developer] Re: grass plugin + python
In-Reply-To: <20081111111142.GB18478@norbit.de>
References: <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
	<1226337436.2769.8.camel@mobile-workstation.site>
	<1226347872.7417.7.camel@timbuntu>
	<1226398635.31096.4.camel@mobile-workstation.site>
	<d368056f0811110243r8d72659gd4bf63a1babeb59f@mail.gmail.com>
	<20081111111142.GB18478@norbit.de>
Message-ID: <1226423182.6343.42.camel@timbuntu>

Hi Fischer :-)

On Tue, 2008-11-11 at 12:11 +0100, J?rgen E. Fischer wrote:

> Hi Tim,
> 
> On Tue, 11. Nov 2008 at 12:43:18 +0200, Tim Sutton wrote:
> > It will probably help if you set your email client to sign your emails
> > as Mendbayar Byambaa rather than Byambaa Mendbayar as it currently
> > does.
> 
> We don't have a name order policy either ;)
> 

Yup I wasnt trying to enforce it as a matter of policy, just explaining
the origin of the source of confusion. :-) If its any consolation I
called Horst by his surname for the first few emails before realising
that Swiss people are also back to front :-)

> 
> scnr
> J?rgen
> 
> 
> PS: BTW I uploaded 1.0preview2 for gutsy, hardy and intrepid to
>     https://launchpad.net/~jef-norbit/+archive yesterday

Cool thanks! I will add it to the download page.

Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081111/16adc094/attachment.bin
From tim at linfiniti.com  Tue Nov 11 16:00:44 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 11 16:01:34 2008
Subject: [Qgis-developer] Re: grass plugin + python
In-Reply-To: <20081111111142.GB18478@norbit.de>
References: <4915169C.5040804@orange.fr>
	<536A3A2FB93647AAA37A04F93ABAB37F@HPMarco>
	<e8e7199c0811090343g22b0496fveb4a4ba00f275f6a@mail.gmail.com>
	<A37A172F3F3445EE925AB87B78B46603@HPMarco>
	<AC3559779B145744A3FA06C52D00BD0F04196DC9@SINTEFXCH01.sintef.no>
	<B943C21D415B4BD5B6B053C04F33F3F1@HPMarco>
	<1226337436.2769.8.camel@mobile-workstation.site>
	<1226347872.7417.7.camel@timbuntu>
	<1226398635.31096.4.camel@mobile-workstation.site>
	<d368056f0811110243r8d72659gd4bf63a1babeb59f@mail.gmail.com>
	<20081111111142.GB18478@norbit.de>
Message-ID: <1226437244.6343.43.camel@timbuntu>

Hi

The ubuntu packages are added to the download page. Thanks!

Regards

Tim

On Tue, 2008-11-11 at 12:11 +0100, J?rgen E. Fischer wrote:
> Hi Tim,
> 
> On Tue, 11. Nov 2008 at 12:43:18 +0200, Tim Sutton wrote:
> > It will probably help if you set your email client to sign your emails
> > as Mendbayar Byambaa rather than Byambaa Mendbayar as it currently
> > does.
> 
> We don't have a name order policy either ;)
> 
> 
> scnr
> J?rgen
> 
> 
> PS: BTW I uploaded 1.0preview2 for gutsy, hardy and intrepid to
>     https://launchpad.net/~jef-norbit/+archive yesterday
> 
> -- 
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
> 

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081111/2eb89972/attachment.bin
From tim at linfiniti.com  Tue Nov 11 16:19:05 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 11 16:20:24 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] QGIS 1.0.0 Preview II
	tagged in svn
In-Reply-To: <4919A7EB.2090503@silfreed.net>
References: <1226108560.7058.113.camel@timbuntu>
	<4919A7EB.2090503@silfreed.net>
Message-ID: <1226438345.6343.44.camel@timbuntu>

Hi Douglas


On Tue, 2008-11-11 at 10:42 -0500, Douglas E. Warner wrote:
> http://www.silfreed.net/download/repo/packages/qgis/


Excellent & many thanks - I have added an entry to download.qgis.org.

Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081111/46c62445/attachment.bin
From john.tull at wildnevada.org  Tue Nov 11 17:08:24 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Tue Nov 11 17:08:29 2008
Subject: [Qgis-developer] Project file changes for trunk
Message-ID: <744FEE31-7E73-4DE3-8E25-71CADE161CC4@wildnevada.org>

Did someone post the necessary changes to project files to get them  
working in trunk? I recall seeing an email last week, but may have  
missed the followup. I just built with the api finalizations and I am  
crashing when trying to open files that have been used in older svn  
builds.

Thanks,
John
From tim at linfiniti.com  Tue Nov 11 17:36:29 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 11 17:37:10 2008
Subject: [Qgis-developer] Project file changes for trunk
In-Reply-To: <744FEE31-7E73-4DE3-8E25-71CADE161CC4@wildnevada.org>
References: <744FEE31-7E73-4DE3-8E25-71CADE161CC4@wildnevada.org>
Message-ID: <1226442989.6343.144.camel@timbuntu>

Hi

Peter Ersts mentioned that this may be a problem with his raster API
changes (and possibly from other API changes). We need to write a rev-up
conversion to cope with that.

Might be useful to have a gander at your old files and the crash dump
(via trac marked as must fix for release).

Regards

Tim


On Tue, 2008-11-11 at 14:08 -0800, John C.Tull wrote:
> Did someone post the necessary changes to project files to get them  
> working in trunk? I recall seeing an email last week, but may have  
> missed the followup. I just built with the api finalizations and I am  
> crashing when trying to open files that have been used in older svn  
> builds.
> 
> Thanks,
> John
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081112/fdc30bb2/attachment.bin
From john.tull at wildnevada.org  Tue Nov 11 18:24:35 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Tue Nov 11 18:24:41 2008
Subject: [Qgis-developer] Project file changes for trunk
In-Reply-To: <1226442989.6343.144.camel@timbuntu>
References: <744FEE31-7E73-4DE3-8E25-71CADE161CC4@wildnevada.org>
	<1226442989.6343.144.camel@timbuntu>
Message-ID: <1FB066BD-9355-4DF0-A2FB-0ACEF3064A9A@wildnevada.org>

I will have to revisit this next week as I am swamped today, then out  
of town through the weekend. Thanks for the clarification.

John

On Nov 11, 2008, at 2:36 PM, Tim Sutton wrote:

> Hi
>
> Peter Ersts mentioned that this may be a problem with his raster API
> changes (and possibly from other API changes). We need to write a  
> rev-up
> conversion to cope with that.
>
> Might be useful to have a gander at your old files and the crash dump
> (via trac marked as must fix for release).
>
> Regards
>
> Tim
>
>
> On Tue, 2008-11-11 at 14:08 -0800, John C.Tull wrote:
>> Did someone post the necessary changes to project files to get them
>> working in trunk? I recall seeing an email last week, but may have
>> missed the followup. I just built with the api finalizations and I am
>> crashing when trying to open files that have been used in older svn
>> builds.
>>
>> Thanks,
>> John
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -- 
> Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
> ==============================================
> Visit http://linfiniti.com to find out about:
> * QGIS programming services
> * Mapserver and PostGIS based hosting plans
> * FOSS Consulting & Support Services
> Skype: timlinux Irc: timlinux on #qgis at freenode.net
> ==============================================

From magnus at homann.se  Wed Nov 12 03:57:17 2008
From: magnus at homann.se (Magnus Homann)
Date: Wed Nov 12 03:58:58 2008
Subject: [Qgis-developer] Version number in plugin path - So where the
	matter was dropped?
In-Reply-To: <200811111723.28568.borys@wolf.most.org.pl>
References: <d8ad40b50811020309q441d18aep78a20920c247b3d3@mail.gmail.com>	<200811111614.07740.borys@wolf.most.org.pl>	<e8e7199c0811110731u54311e7fgd92aebb06b296a6a@mail.gmail.com>
	<200811111723.28568.borys@wolf.most.org.pl>
Message-ID: <491A9A6D.6030109@homann.se>

Borys Jurgiel skrev:

> Ok. This way I've made an universal python module for version comparing. 
> I'm only hesitating where to insert 'preview' to the existing order:
> 'alpha' < 'beta' < 'rc' < [no_suffix] = 'final' < [any other suffix]

In believe the best thing is to ignore the text string and use the numbers only
as in project file version.
From tim at linfiniti.com  Wed Nov 12 05:23:09 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 12 05:23:12 2008
Subject: [Qgis-developer] Re: [QGIS Commit] r9625 -
	trunk/qgis/python/plugins/plugin_installer
In-Reply-To: <20081112002640.B4813E0036C@lists.osgeo.org>
References: <20081112002640.B4813E0036C@lists.osgeo.org>
Message-ID: <d368056f0811120223u604d4fbi224fd3d6f1e9ed77@mail.gmail.com>

Hi

With this commit I get the following error now when starting QGIS:

Any thoughts?

Couldn't load plugin plugin_installer due an error when calling its
classFactory() method

Traceback (most recent call last):
  File "", line 1, in
  File "/home/timlinux/app/share/qgis/python/plugins/plugin_installer/__init__.py",
line 26, in classFactory
    from installer_plugin import InstallerPlugin
  File "/home/timlinux/app/share/qgis/python/plugins/plugin_installer/installer_plugin.py",
line 20, in
    from installer_gui import *
  File "/home/timlinux/app/share/qgis/python/plugins/plugin_installer/installer_gui.py",
line 26, in
    from installer_data import *
  File "/home/timlinux/app/share/qgis/python/plugins/plugin_installer/installer_data.py",
line 22, in
    from version_compare import compareVersions, normalizeVersion
ImportError: No module named version_compare

Python version:
2.5.2 (r252:60911, Oct  5 2008, 19:42:18)
[GCC 4.3.2]

Python path:
['/home/timlinux/app/share/qgis/python',
'/home/timlinux/.qgis//python/plugins',
'/home/timlinux/app/share/qgis/python/plugins', '/usr/lib/python2.5',
'/usr/lib/python2.5/plat-linux2', '/usr/lib/python2.5/lib-tk',
'/usr/lib/python2.5/lib-dynload',
'/usr/local/lib/python2.5/site-packages',
'/usr/lib/python2.5/site-packages',
'/usr/lib/python2.5/site-packages/Numeric',
'/usr/lib/python2.5/site-packages/PIL',
'/usr/lib/python2.5/site-packages/gst-0.10',
'/var/lib/python-support/python2.5',
'/usr/lib/python2.5/site-packages/gtk-2.0',
'/var/lib/python-support/python2.5/gtk-2.0']



Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
From borys at wolf.most.org.pl  Wed Nov 12 05:49:19 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Wed Nov 12 05:49:28 2008
Subject: [Qgis-developer] Re: [QGIS Commit] r9625 -
	trunk/qgis/python/plugins/plugin_installer
In-Reply-To: <d368056f0811120223u604d4fbi224fd3d6f1e9ed77@mail.gmail.com>
References: <20081112002640.B4813E0036C@lists.osgeo.org>
	<d368056f0811120223u604d4fbi224fd3d6f1e9ed77@mail.gmail.com>
Message-ID: <200811121149.20691.borys@wolf.most.org.pl>

Wednesday 12 of November 2008 11:23:09 Tim Sutton napisa?(a):
> Hi
>
> With this commit I get the following error now when starting QGIS:

Fixed.
Sorry, my fault.
From woklist at kyngchaos.com  Wed Nov 12 09:27:00 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 12 09:27:05 2008
Subject: [Qgis-developer] PyQt compile problem
Message-ID: <75354D47-5C4C-404D-977D-9E763CB50E64@kyngchaos.com>

Has anyone tried using the latest SIP 4.7.8/PyQt 4.4.4?  I get an error:

[ 61%] Generating core/core.so
sipcoreQgsGeometry.cpp: In function ?PyObject*  
meth_QgsGeometry_fromWkb(PyObject*, PyObject*)?:
sipcoreQgsGeometry.cpp:328: error: ?size_t? is not a member of  
?QgsGeometry?
sipcoreQgsGeometry.cpp:328: error: expected `;' before ?a1?
sipcoreQgsGeometry.cpp:331: error: ?a1? was not declared in this scope
/Users/Shared/src/qgis/svn/qgis-1.0.0p2/python/core/qgsgeometry.sip: 
67: error: no matching function for call to  
?QgsGeometry::fromWkb(unsigned char*&, <type error>)?
/Users/Shared/src/qgis/svn/qgis-1.0.0p2/src/core/qgsgeometry.h:108:  
note: candidates are: void QgsGeometry::fromWkb(unsigned char*, size_t)
sipcoreQgsGeometry.cpp: In function ?PyObject*  
meth_QgsGeometry_wkbSize(PyObject*, PyObject*)?:
sipcoreQgsGeometry.cpp:389: error: ?size_t? is not a member of  
?QgsGeometry?
sipcoreQgsGeometry.cpp:389: error: expected `;' before ?sipRes?
sipcoreQgsGeometry.cpp:392: error: ?sipRes? was not declared in this  
scope
sipcoreQgsGeometry.cpp:395: error: ?sipRes? was not declared in this  
scope
sipcoreQgsGeometry.cpp: In function ?PyObject*  
meth_QgsGeometry_fromWkb(PyObject*, PyObject*)?:
sipcoreQgsGeometry.cpp:328: error: ?size_t? is not a member of  
?QgsGeometry?
sipcoreQgsGeometry.cpp:328: error: expected `;' before ?a1?
sipcoreQgsGeometry.cpp:331: error: ?a1? was not declared in this scope
/Users/Shared/src/qgis/svn/qgis-1.0.0p2/python/core/qgsgeometry.sip: 
67: error: no matching function for call to  
?QgsGeometry::fromWkb(unsigned char*&, <type error>)?

I compiles when I revert to the previous SIP 4.7.7/PyQt 4.4.3.

All using Qt 4.4.2.


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those  
least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From wonder.sk at gmail.com  Wed Nov 12 09:40:42 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Nov 12 09:48:55 2008
Subject: [Qgis-developer] PyQt compile problem
In-Reply-To: <75354D47-5C4C-404D-977D-9E763CB50E64@kyngchaos.com>
References: <75354D47-5C4C-404D-977D-9E763CB50E64@kyngchaos.com>
Message-ID: <e8e7199c0811120640w34eb67bere0deabce42f0a0b2@mail.gmail.com>

Hi William,

looking at SIP 4.7.8 there are some changes regarding typedefs that
probably cause different behaviour. Now in qgsgeometry.sip there's a
typedef for size_t inside QgsGeometry class. I guess that new SIP now
explicitly tries to use QgsGeometry::size_t and that's not correct.

Please try to edit python/core/qgsgeometry.sip file and move "typedef
unsigned int size_t;" before definition of the class QgsGeometry. If
that helps I'll commit the fix to SVN.

Regards
Martin


On Wed, Nov 12, 2008 at 3:27 PM, William Kyngesburye
<woklist@kyngchaos.com> wrote:
> Has anyone tried using the latest SIP 4.7.8/PyQt 4.4.4?  I get an error:
>
> [ 61%] Generating core/core.so
> sipcoreQgsGeometry.cpp: In function 'PyObject*
> meth_QgsGeometry_fromWkb(PyObject*, PyObject*)':
> sipcoreQgsGeometry.cpp:328: error: 'size_t' is not a member of 'QgsGeometry'
> sipcoreQgsGeometry.cpp:328: error: expected `;' before 'a1'
> sipcoreQgsGeometry.cpp:331: error: 'a1' was not declared in this scope
> /Users/Shared/src/qgis/svn/qgis-1.0.0p2/python/core/qgsgeometry.sip:67:
> error: no matching function for call to 'QgsGeometry::fromWkb(unsigned
> char*&, <type error>)'
> /Users/Shared/src/qgis/svn/qgis-1.0.0p2/src/core/qgsgeometry.h:108: note:
> candidates are: void QgsGeometry::fromWkb(unsigned char*, size_t)
> sipcoreQgsGeometry.cpp: In function 'PyObject*
> meth_QgsGeometry_wkbSize(PyObject*, PyObject*)':
> sipcoreQgsGeometry.cpp:389: error: 'size_t' is not a member of 'QgsGeometry'
> sipcoreQgsGeometry.cpp:389: error: expected `;' before 'sipRes'
> sipcoreQgsGeometry.cpp:392: error: 'sipRes' was not declared in this scope
> sipcoreQgsGeometry.cpp:395: error: 'sipRes' was not declared in this scope
> sipcoreQgsGeometry.cpp: In function 'PyObject*
> meth_QgsGeometry_fromWkb(PyObject*, PyObject*)':
> sipcoreQgsGeometry.cpp:328: error: 'size_t' is not a member of 'QgsGeometry'
> sipcoreQgsGeometry.cpp:328: error: expected `;' before 'a1'
> sipcoreQgsGeometry.cpp:331: error: 'a1' was not declared in this scope
> /Users/Shared/src/qgis/svn/qgis-1.0.0p2/python/core/qgsgeometry.sip:67:
> error: no matching function for call to 'QgsGeometry::fromWkb(unsigned
> char*&, <type error>)'
>
> I compiles when I revert to the previous SIP 4.7.7/PyQt 4.4.3.
>
> All using Qt 4.4.2.
>
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "Those people who most want to rule people are, ipso-facto, those least
> suited to do it."
>
> - A rule of the universe, from the HitchHiker's Guide to the Galaxy
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From woklist at kyngchaos.com  Wed Nov 12 09:57:58 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 12 09:58:00 2008
Subject: [Qgis-developer] PyQt compile problem
In-Reply-To: <e8e7199c0811120640w34eb67bere0deabce42f0a0b2@mail.gmail.com>
References: <75354D47-5C4C-404D-977D-9E763CB50E64@kyngchaos.com>
	<e8e7199c0811120640w34eb67bere0deabce42f0a0b2@mail.gmail.com>
Message-ID: <A70E9E28-74F5-4FCB-9323-3B5B680A22F4@kyngchaos.com>

On Nov 12, 2008, at 8:40 AM, Martin Dobias wrote:

> Hi William,
>
> looking at SIP 4.7.8 there are some changes regarding typedefs that
> probably cause different behaviour. Now in qgsgeometry.sip there's a
> typedef for size_t inside QgsGeometry class. I guess that new SIP now
> explicitly tries to use QgsGeometry::size_t and that's not correct.
>
> Please try to edit python/core/qgsgeometry.sip file and move "typedef
> unsigned int size_t;" before definition of the class QgsGeometry. If
> that helps I'll commit the fix to SVN.
>
> Regards
> Martin


Now I get:

[ 61%] Generating core/core.so
sipcoreQgsFeature.cpp: In function ?PyObject*  
meth_QgsFeature_setGeometryAndOwnership(PyObject*, PyObject*)?:
sipcoreQgsFeature.cpp:492: error: ?size_t? is not a member of  
?QgsFeature?
sipcoreQgsFeature.cpp:492: error: expected `;' before ?a1?
sipcoreQgsFeature.cpp:495: error: ?a1? was not declared in this scope
sipcoreQgsFeature.cpp:498: error: no matching function for call to  
?QgsFeature::setGeometryAndOwnership(unsigned char*&, <type error>)?
/Users/Shared/src/qgis/svn/qgis-1.0.0p2/src/core/qgsfeature.h:157:  
note: candidates are: void  
QgsFeature::setGeometryAndOwnership(unsigned char*, size_t)


If I try the same change in qgsfeature.sip, I get:

Parsing SIP files for 'core' library...
/usr/local/bin/sip -c core -b /Users/Shared/src/qgis/svn/qgis-1.0.0p2/ 
build-leoz/python/core/core.sbf -I /usr/local/share/sip/PyQt4 -x  
VendorID -t WS_MACX -x PyQt_NoPrintRangeBug -t Qt_4_4_1 -g /Users/ 
Shared/src/qgis/svn/qgis-1.0.0p2/python/core/core.sip
sip: size_t already defined

and the same compile error (and a lot quicker than with the original  
qgsfeature.sip).


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From woklist at kyngchaos.com  Wed Nov 12 10:13:45 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 12 10:13:49 2008
Subject: [Qgis-developer] PyQt compile problem
In-Reply-To: <A70E9E28-74F5-4FCB-9323-3B5B680A22F4@kyngchaos.com>
References: <75354D47-5C4C-404D-977D-9E763CB50E64@kyngchaos.com>
	<e8e7199c0811120640w34eb67bere0deabce42f0a0b2@mail.gmail.com>
	<A70E9E28-74F5-4FCB-9323-3B5B680A22F4@kyngchaos.com>
Message-ID: <2A5C022D-C1B8-423E-BC24-0D91FA3681DD@kyngchaos.com>

Looking closer at that typedef, isn't size_t defined in a system  
header?  And on 64bit systems, shouldn't it be a 64bit integer? (or am  
I thinking of another _t type?)  Not a problem yet for OSX, since a  
64bit python isn't available (or practical), but on other systems...


On Nov 12, 2008, at 8:57 AM, William Kyngesburye wrote:

> On Nov 12, 2008, at 8:40 AM, Martin Dobias wrote:
>
>> Hi William,
>>
>> looking at SIP 4.7.8 there are some changes regarding typedefs that
>> probably cause different behaviour. Now in qgsgeometry.sip there's a
>> typedef for size_t inside QgsGeometry class. I guess that new SIP now
>> explicitly tries to use QgsGeometry::size_t and that's not correct.
>>
>> Please try to edit python/core/qgsgeometry.sip file and move "typedef
>> unsigned int size_t;" before definition of the class QgsGeometry. If
>> that helps I'll commit the fix to SVN.
>>
>> Regards
>> Martin

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"This is a question about the past, is it? ... How can I tell that the  
past isn't a fiction designed to account for the discrepancy between  
my immediate physical sensations and my state of mind?"

- The Ruler of the Universe


From tim at linfiniti.com  Wed Nov 12 12:10:52 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 12 12:11:34 2008
Subject: [Qgis-developer] Project file changes for trunk
In-Reply-To: <1FB066BD-9355-4DF0-A2FB-0ACEF3064A9A@wildnevada.org>
References: <744FEE31-7E73-4DE3-8E25-71CADE161CC4@wildnevada.org>
	<1226442989.6343.144.camel@timbuntu>
	<1FB066BD-9355-4DF0-A2FB-0ACEF3064A9A@wildnevada.org>
Message-ID: <1226509852.6767.12.camel@timbuntu>

Hi John

On Tue, 2008-11-11 at 15:24 -0800, John C. Tull wrote:
> I will have to revisit this next week as I am swamped today, then out  
> of town through the weekend. Thanks for the clarification.
> 
> John

Ok no problem - thanks for your QA services as always!

8<--------snip----------------------

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081112/aba0a9fe/attachment.bin
From wonder.sk at gmail.com  Wed Nov 12 14:56:57 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Nov 12 14:56:58 2008
Subject: [Qgis-developer] PyQt compile problem
In-Reply-To: <A70E9E28-74F5-4FCB-9323-3B5B680A22F4@kyngchaos.com>
References: <75354D47-5C4C-404D-977D-9E763CB50E64@kyngchaos.com>
	<e8e7199c0811120640w34eb67bere0deabce42f0a0b2@mail.gmail.com>
	<A70E9E28-74F5-4FCB-9323-3B5B680A22F4@kyngchaos.com>
Message-ID: <e8e7199c0811121156l39cce598vd1cc4955c15fad13@mail.gmail.com>

On Wed, Nov 12, 2008 at 3:57 PM, William Kyngesburye
<woklist@kyngchaos.com> wrote:
>
> If I try the same change in qgsfeature.sip, I get:
>
> Parsing SIP files for 'core' library...
> /usr/local/bin/sip -c core -b
> /Users/Shared/src/qgis/svn/qgis-1.0.0p2/build-leoz/python/core/core.sbf -I
> /usr/local/share/sip/PyQt4 -x VendorID -t WS_MACX -x PyQt_NoPrintRangeBug -t
> Qt_4_4_1 -g /Users/Shared/src/qgis/svn/qgis-1.0.0p2/python/core/core.sip
> sip: size_t already defined
>
> and the same compile error (and a lot quicker than with the original
> qgsfeature.sip).

I've commited a fix for this problem to svn trunk in revision 9629.

(in qgsfeature.sip one has to just delete the typedef as it's already
defined in qgsgeometry.sip)

Martin
From wonder.sk at gmail.com  Wed Nov 12 15:00:14 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Nov 12 15:00:15 2008
Subject: [Qgis-developer] PyQt compile problem
In-Reply-To: <2A5C022D-C1B8-423E-BC24-0D91FA3681DD@kyngchaos.com>
References: <75354D47-5C4C-404D-977D-9E763CB50E64@kyngchaos.com>
	<e8e7199c0811120640w34eb67bere0deabce42f0a0b2@mail.gmail.com>
	<A70E9E28-74F5-4FCB-9323-3B5B680A22F4@kyngchaos.com>
	<2A5C022D-C1B8-423E-BC24-0D91FA3681DD@kyngchaos.com>
Message-ID: <e8e7199c0811121200r2c802c06qb7263480d26a1e81@mail.gmail.com>

On Wed, Nov 12, 2008 at 4:13 PM, William Kyngesburye
<woklist@kyngchaos.com> wrote:
> Looking closer at that typedef, isn't size_t defined in a system header?
>  And on 64bit systems, shouldn't it be a 64bit integer? (or am I thinking of
> another _t type?)  Not a problem yet for OSX, since a 64bit python isn't
> available (or practical), but on other systems...

You're right. However this is not a place where we would benefit from
64bit long integer. 32bit integer gives us a limit of 4GB per
geometry's wkb. I hope there isn't someone willing to load that big
geometries :-)

Martin
From emmanuel.poizot at cnam.fr  Thu Nov 13 11:51:15 2008
From: emmanuel.poizot at cnam.fr (Poizot Emmanuel)
Date: Thu Nov 13 11:52:20 2008
Subject: [Qgis-developer] libgdal1.5
Message-ID: <491C5B03.2070901@cnam.fr>

Hi all,

I just upgrade my os from Ubuntu 8.04 to 8.10. In this latter version, 
libgdal is in it's 1.5 version.
I made an update also from trunck of QGIS sources and recompile it. I 
had to make a symbolic link libgdal1.4.0.so to libgdal1.5.0.so.1.12.2 to 
get it compile.
But at run time QGIS crash, because of libgdal1.5. (I did a "gbd qgis" 
and "run" discovering it crashed on that library)
How can I resolved that ?

-- 
Cordialement

------------------------------------------------
Emmanuel Poizot
Cnam/Intechmer
B.P. 324
50103 Cherbourg Cedex

Phone (Direct) : (00 33)(0)233887342
Fax : (00 33)(0)233887339
------------------------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: emmanuel_poizot.vcf
Type: text/x-vcard
Size: 316 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081113/a5851e27/emmanuel_poizot.vcf
From tim at linfiniti.com  Thu Nov 13 12:26:34 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Nov 13 12:28:46 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <491C5B03.2070901@cnam.fr>
References: <491C5B03.2070901@cnam.fr>
Message-ID: <1226597194.6325.3.camel@timbuntu>

Hi

It seems every release of Ubuntu has broken gdal packages :-( So far the
only workaround I could come up with is to build gdal myself from
source.

Regards

Tim


On Thu, 2008-11-13 at 17:51 +0100, Poizot Emmanuel wrote:
> Hi all,
> 
> I just upgrade my os from Ubuntu 8.04 to 8.10. In this latter version, 
> libgdal is in it's 1.5 version.
> I made an update also from trunck of QGIS sources and recompile it. I 
> had to make a symbolic link libgdal1.4.0.so to libgdal1.5.0.so.1.12.2 to 
> get it compile.
> But at run time QGIS crash, because of libgdal1.5. (I did a "gbd qgis" 
> and "run" discovering it crashed on that library)
> How can I resolved that ?
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081113/54bcd8c4/attachment.bin
From jef at norbit.de  Thu Nov 13 13:04:11 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu Nov 13 13:04:18 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <491C5B03.2070901@cnam.fr>
References: <491C5B03.2070901@cnam.fr>
Message-ID: <20081113180411.GB12046@norbit.de>

Hi Emmanuel,

On Thu, 13. Nov 2008 at 17:51:15 +0100, Poizot Emmanuel wrote:
> I just upgrade my os from Ubuntu 8.04 to 8.10. In this latter version, 
> libgdal is in it's 1.5 version.
> I made an update also from trunck of QGIS sources and recompile it. I 
> had to make a symbolic link libgdal1.4.0.so to libgdal1.5.0.so.1.12.2 to 
> get it compile.

Check if your libgdal1-dev also was upgraded.   Even in that case you'll
probably run into a GDAL bug.  We have a gdal package ported from debian
to ubuntu intrepid that contains a fix for that.

> But at run time QGIS crash, because of libgdal1.5. (I did a "gbd qgis" 
> and "run" discovering it crashed on that library)
> How can I resolved that ?

You should also upgrade your libgdal1-dev package to 1.5. There
shouldn't be a need to symlink.

And finally there are yesterday's packages of trunk on
https://launchpad.net/~jef-norbit - so you could also get away without
compiling.


J?rgen


-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tech_dev at wildintellect.com  Thu Nov 13 16:14:41 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Thu Nov 13 16:14:46 2008
Subject: [Qgis-developer] [Fwd: Re: [R-sig-Geo] read GRASS6 from outside]
Message-ID: <491C98C1.3050302@wildintellect.com>

Down in the last repsonse from Roger Bivand he asked about a button to
set the path to R in QGIS to make it easier to call from within QGIS/GRASS.

I'll file it into the trac site.

Alex

-------- Original Message --------
Subject: Re: [R-sig-Geo] read GRASS6 from outside
Date: Thu, 13 Nov 2008 15:40:05 +0100 (CET)
From: Roger Bivand <Roger.Bivand@nhh.no>
Reply-To: Roger.Bivand@nhh.no
To: Patrick Giraudoux <patrick.giraudoux@univ-fcomte.fr>
CC: r-sig-geo@stat.math.ethz.ch
References: <491BD6ED.6080102@univ-fcomte.fr>
<alpine.LRH.2.00.0811130926520.7766@reclus.nhh.no>
<491C2A31.2060701@univ-fcomte.fr>

On Thu, 13 Nov 2008, Patrick Giraudoux wrote:

> Roger Bivand a ?crit :
>> On Thu, 13 Nov 2008, Patrick Giraudoux wrote:
>> 
>>> Dear listers,
>>> 
>>> I am using GRASS6 embedded within QGIS under Windows for teaching purpose. 
>>> This prevents reading GRASS objects from R within GRASS (R cannot be 
>>> launched within GRASS in this configuration).
>> 
>> Patrick,
>> 
>> Could you explain why not? I can launch it, and I know others can, at least 
>> by:
>> 
>> Plugins -> GRASS -> Open GRASS Tools -> shell
>> 
>> and typing the full path to Rgui.exe at the shell prompt, for me:
>> 
>> $ "C:/Program Files/R/R-2.8.0/bin/Rgui.exe"
>> 
>> You may need to set the path to R_LIBS in user environment variables, or to 
>> add it to the command line in the GRASS shell prompt, or use .libPaths() 
>> within R, but beyond that, things should work, including file transfer etc.
>> 
>> The startup message in the current release does say "GRASS not running" 
>> because QGIS does not set the GRASS_VERSION or LOCATION_NAME environment 
>> variables, but does set GISRC - I'll try to fix that.

This should be fixed in the version of the package just submitted to CRAN.
It is worth noting, however, that it hasn't been tested on GRASS < 6.3,
but works - giving the correct GRASS version and LOCATION - on Linux (of
course!), Windows Cygwin, Windows native GRASS, and QGIS 0.11 GRASS
plugin.

The Windows native GRASS also needs the full path to Rgui.exe entered into
the lower panel of the Output - GIS.m window, followed by -> Run. If there
are any GRASS or QGIS developers online - might it be possible to put R on
a button with the full path string somewhere in an editable option?

Roger

>> 
>> Doing getwd() in R will show that R is in the QGIS MSYS home directory for 
>> the user. This of course places R "on top" in standard spgrass6 fashion, 
>> but QGIS can be used at the same time. Work is progressing to embed R 
>> within QGIS, see:
>> 
>> http://www.ftools.ca/manageR.html
>> 
>> but until this is up and easily installable, going through the GRASS shell 
>> seems to work. Note that when you do system() from R, QGIS expects all 
>> executables to have the .exe extension added:
>> 
>> system("g.list rast") # fails
>> system("g.list.exe rast") # succeeds
>> 
>> Hope this helps,
>> 
>> Roger
>> 
>> PS. Note that the QGIS MSYS GRASS shell does history, so it logs the 
>> command to start R, which you retrieve with the up arrow in the usual way - 
>> the only editing needed is when you upgrade R.
>> 
>>> 
>>> I was wondering if it would be possible to read GRASS objects (vector, 
>>> raster layers, region values, etc.) in R (eg to sp objects) from outside 
>>> GRASS, with functions analogous to those  provided with spgrass6.
>> 
>> PPS. In desperation, use v.(in/out).ogr and r.(in/out).gdal matched with 
>> read(GDAL/OGR) and write(GDAL/OGR) in rgdal, but watch which directory they 
>> land in.
>> 
>>> 
>>> Any idea welcome.
>>> 
>>> _______________________________________________
>>> R-sig-Geo mailing list
>>> R-sig-Geo@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-geo
>>> 
>> 
> Roger,
>
> Ashes on my head ! I was convinced (means perfectly stuborn here)  that GRASS 
> within QGIS was closed to any call to external programmes. Which is obviously 
> wrong ! So I did not even try... Real apologize to have lost your time for 
> writing a response.
>
> Cheers,
>
> Patrick
>
>
>

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no

-------------- next part --------------
_______________________________________________
R-sig-Geo mailing list
R-sig-Geo@stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-geo

From RMcCulley at county24.com  Thu Nov 13 15:54:06 2008
From: RMcCulley at county24.com (Rob McCulley)
Date: Thu Nov 13 16:37:15 2008
Subject: [Qgis-developer] RE: [Qgis-user] WMS in python?
In-Reply-To: <e8e7199c0803031717x24ce64d5g226f8e934c371903@mail.gmail.com>
References: <8563B9D6767C904A912272A2D56548E422A551@vermilion.County24.local>
	<e8e7199c0803031717x24ce64d5g226f8e934c371903@mail.gmail.com>
Message-ID: <8563B9D6767C904A912272A2D56548E43451A4@vermilion.County24.local>



> -----Original Message-----
> From: Martin Dobias [mailto:wonder.sk@gmail.com]
> Sent: Monday, March 03, 2008 6:17 PM
> To: Rob McCulley
> Cc: Qgis-user@qgis.org
> Subject: Re: [Qgis-user] WMS in python?
> 
> On Mon, Mar 3, 2008 at 9:08 PM, Rob McCulley <RMcCulley@county24.com>
> wrote:
> >
> > Can a WMS Layer be added to an application built using the python
> bindings?
> >
> >
> >
> > I've tried to do it using a few variations of parameters with the
> > QgsDataSourceURI(), but my lyr.isValid() is always false.
> >
> >
> >
> > Can I add a WMS Layer using the python bindings, and if so, how?
> 
> It *should* be possible. There's a following constructor (available
> also from python) of raster layers which is used in case of WMS:
> 
>   QgsRasterLayer(int dummy,
>                  const QString & baseName = QString(),
>                  const QString & path = QString(),
>                  const QString & providerLib = QString(),
>                  const QStringList & layers = QStringList(),
>                  const QStringList & styles = QStringList(),
>                  const QString & format = QString(),
>                  const QString & crs = QString(),
>                  const QString & proxyHost = QString(),
>                  int proxyPort = 80,
>                  const QString & proxyUser = QString(),
>                  const QString & proxyPass = QString());
> 
> I have never done something with WMS so can't supply you with a
> working example, but to get an idea how to fill in the parameters, see
> QgisApp::addWmsLayer() and debug output from QgisApp::addRasterLayer()
> in src/app/qgisapp.cpp.
> 
> Regards
> Martin

I've revisited this again, and haven't managed to get it working yet.
Anyone have any experience with adding a WMS layer using the python
bindings?

I've tried a few different things, but nothing successful.  I'm not sure
what values I should be giving for format, styles or crs.  For the path,
I've been using the web address (http://localhost:35000).

Any Ideas?

Rob McCulley
From emmanuel.poizot at cnam.fr  Thu Nov 13 16:55:30 2008
From: emmanuel.poizot at cnam.fr (emmanuel.poizot@cnam.fr)
Date: Thu Nov 13 16:55:35 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <20081113180411.GB12046@norbit.de>
References: <491C5B03.2070901@cnam.fr> <20081113180411.GB12046@norbit.de>
Message-ID: <48496.80.119.151.202.1226613330.squirrel@webmail.cnam.fr>

> Hi Emmanuel,
>
> On Thu, 13. Nov 2008 at 17:51:15 +0100, Poizot Emmanuel wrote:
>> I just upgrade my os from Ubuntu 8.04 to 8.10. In this latter version,
>> libgdal is in it's 1.5 version.
>> I made an update also from trunck of QGIS sources and recompile it. I
>> had to make a symbolic link libgdal1.4.0.so to libgdal1.5.0.so.1.12.2 to
>> get it compile.
>
> Check if your libgdal1-dev also was upgraded.   Even in that case you'll
> probably run into a GDAL bug.  We have a gdal package ported from debian
> to ubuntu intrepid that contains a fix for that.
>
>> But at run time QGIS crash, because of libgdal1.5. (I did a "gbd qgis"
>> and "run" discovering it crashed on that library)
>> How can I resolved that ?
>
> You should also upgrade your libgdal1-dev package to 1.5. There
> shouldn't be a need to symlink.
>
> And finally there are yesterday's packages of trunk on
> https://launchpad.net/~jef-norbit - so you could also get away without
> compiling.
>
>
> J?rgen
>
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel.
> +49-4931-918175-20
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax.
> +49-4931-918175-50
> Software Engineer         D-26506 Norden
> http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

Thanks for your quit answer.

I did also updated libgdal-dev in it's last version in the same time and
did it from the (official) sources list.
Where can I found the gdal package you ported from debian to ubuntu
intrepid ?
I did saw the package for intrepid from trunk version, but as I develop my
own plugin, I need to compile from source.

Regards
From jef at norbit.de  Thu Nov 13 17:46:06 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu Nov 13 17:46:13 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <48496.80.119.151.202.1226613330.squirrel@webmail.cnam.fr>
References: <491C5B03.2070901@cnam.fr> <20081113180411.GB12046@norbit.de>
	<48496.80.119.151.202.1226613330.squirrel@webmail.cnam.fr>
Message-ID: <20081113224606.GA2495@norbit.de>

Hi Emmanuel,

On Thu, 13. Nov 2008 at 22:55:30 +0100, emmanuel.poizot@cnam.fr wrote:
> I did also updated libgdal-dev in it's last version in the same time and
> did it from the (official) sources list.
> Where can I found the gdal package you ported from debian to ubuntu
> intrepid ?

It's also in the qgis repository:

deb http://ppa.launchpad.net/qgis/ubuntu intrepid main


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From emmanuel.poizot at cnam.fr  Fri Nov 14 02:39:29 2008
From: emmanuel.poizot at cnam.fr (Poizot Emmanuel)
Date: Fri Nov 14 02:39:33 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <20081113224606.GA2495@norbit.de>
References: <491C5B03.2070901@cnam.fr>
	<20081113180411.GB12046@norbit.de>	<48496.80.119.151.202.1226613330.squirrel@webmail.cnam.fr>
	<20081113224606.GA2495@norbit.de>
Message-ID: <491D2B31.8000400@cnam.fr>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: emmanuel_poizot.vcf
Type: text/x-vcard
Size: 316 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081114/f3d37271/emmanuel_poizot-0001.vcf
From robert at szczepanek.pl  Fri Nov 14 12:07:49 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Fri Nov 14 12:07:50 2008
Subject: [Qgis-developer] icons
In-Reply-To: <47E8CB9E.8080000@faunalia.it>
References: <47E8A8CE.4080508@faunalia.it>
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>
	<47E8CB9E.8080000@faunalia.it>
Message-ID: <20504589.post@talk.nabble.com>



Paolo Cavallini wrote:
> 
> Tim Sutton ha scritto:
> 
>> On a more compromising note, QGIS has icon theme support and it would
>> would be great to include a GRASS style theme for those who prefer a
>> unified look.
> 
> Right, that would be the best way to go IMHO.
> pc
> -- 
> Paolo Cavallini, see: http://www.faunalia.it/pc
> Noi ci troviamo male con NGI http://www.ngi.it/
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 

Hi Paolo and Tim,

Starting with GRASS icons, I slowly finish first with QGIS ones :)
To complete a new theme I would however appreciate your comments.

QGIS has really nice icons in default theme. I was impressed! But different
toolbars look inconsistent. There are at least three styles.

Here you will find short [4 questions] survey on new theme:
http://www.szczepanek.pl/icons.grass/index.php#7
Other toolbars has troubles with full themes support and I didn't put them
in print screen, but icons for them are also almost ready.
There is no space to put comments, so please send them to mailing list.

regards,
Robert Szczepanek
-- 
View this message in context: http://www.nabble.com/icons-tp16269533p20504589.html
Sent from the qgis-developer mailing list archive at Nabble.com.

From tim at linfiniti.com  Sat Nov 15 01:27:50 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov 15 01:28:52 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <491D2B31.8000400@cnam.fr>
References: <491C5B03.2070901@cnam.fr> <20081113180411.GB12046@norbit.de>
	<48496.80.119.151.202.1226613330.squirrel@webmail.cnam.fr>
	<20081113224606.GA2495@norbit.de>  <491D2B31.8000400@cnam.fr>
Message-ID: <1226730470.7225.19.camel@timbuntu>

Hi

Any chance of adding the gdal-grass raster plugin to one of these repos
too?

Regards

Tim


On Fri, 2008-11-14 at 08:39 +0100, Poizot Emmanuel wrote:
> J?rgen E. Fischer a ?crit : 
> > Hi Emmanuel,
> > 
> > On Thu, 13. Nov 2008 at 22:55:30 +0100, emmanuel.poizot@cnam.fr wrote:
> >   
> > > I did also updated libgdal-dev in it's last version in the same time and
> > > did it from the (official) sources list.
> > > Where can I found the gdal package you ported from debian to ubuntu
> > > intrepid ?
> > >     
> > 
> > It's also in the qgis repository:
> > 
> > deb http://ppa.launchpad.net/qgis/ubuntu intrepid main
> > 
> > 
> > J?rgen
> > 
> >   
> ok, fixed now.
> Thanks J?rgen ;)
> 
> -- 
> Cordialement
> 
> ------------------------------------------------
> Emmanuel Poizot
> Cnam/Intechmer
> B.P. 324
> 50103 Cherbourg Cedex
> 
> Phone (Direct) : (00 33)(0)233887342
> Fax : (00 33)(0)233887339
> ------------------------------------------------
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081115/272f734d/attachment.bin
From qgis at rigacci.org  Sat Nov 15 02:29:16 2008
From: qgis at rigacci.org (Niccolo Rigacci)
Date: Sat Nov 15 03:20:01 2008
Subject: [Qgis-developer] QGIS 1.0.0 Preview II packaged for Debian Testing
	(Lenny)
In-Reply-To: <1226108560.7058.113.camel@timbuntu>
References: <1226108560.7058.113.camel@timbuntu>
Message-ID: <20081115072915.GA10472@rigacci.org>

On Sat, Nov 08, 2008 at 03:42:40AM +0200, Tim Sutton wrote:
> 
> 1) QGIS 1.0 Preview II Tagged

Binary i386 package for Debian Testing (Lenny) is available at:

deb http://debian.gfoss.it/ lenny main

The signing key was expired, install the new one with:

wget http://debian.gfoss.it/debian-gfoss.key -O - | apt-key add -

The new preview version is apt-gettable. The previous version 
(0.11.0) is still in the repository, but you have to donwload and 
install it manually.

-- 
Niccolo Rigacci
Firenze - Italy
From jef at norbit.de  Sat Nov 15 03:55:01 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sat Nov 15 03:55:07 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <1226730470.7225.19.camel@timbuntu>
References: <491C5B03.2070901@cnam.fr> <20081113180411.GB12046@norbit.de>
	<48496.80.119.151.202.1226613330.squirrel@webmail.cnam.fr>
	<20081113224606.GA2495@norbit.de> <491D2B31.8000400@cnam.fr>
	<1226730470.7225.19.camel@timbuntu>
Message-ID: <20081115085501.GB3831@norbit.de>

Hi Tim,

On Sat, 15. Nov 2008 at 08:27:50 +0200, Tim Sutton wrote:
> Any chance of adding the gdal-grass raster plugin to one of these repos
> too?

Done.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From scala at itc.cnr.it  Sat Nov 15 07:27:27 2008
From: scala at itc.cnr.it (Paolo L. Scala)
Date: Sat Nov 15 07:31:07 2008
Subject: [Qgis-developer] Problem packaging under Windows
Message-ID: <52034.81.208.31.214.1226752047.squirrel@mail.itc.cnr.it>

Hello everyone!
I'm trying to package with NSIS, under Windows, some of my custom builds
of QGIS (0.10, 1.0b), but when I try to install these packages on a
machine without Python, I cannot see my python plugins neither in the
plugins menu, nor in the plugin manager's plugins list. I bundled
python25.dll, sip and PyQT in the packages, but nothing happens.
I suspect I have to put something else in the pydep directory, but I don't
know what... or maybe a version conflict between my working envirnment's
python and the bundled libraries...
Can someone help me clarifying what do I have to do in order to produce a
package to be installed on a machine without python?

Thanks everyone!
Paolo

-- 
Paolo L. Scala
Software developer
Istituto per le Tecnologie della Costruzione - CNR
via Bassini 15 - 20133 MILANO
tel.+39 02 23699547
fax.+39 02 23699543
.:: http://www.paoloscala.net ::.

From tim at linfiniti.com  Sat Nov 15 08:31:46 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov 15 08:32:41 2008
Subject: [Qgis-developer] libgdal1.5
In-Reply-To: <20081115085501.GB3831@norbit.de>
References: <491C5B03.2070901@cnam.fr> <20081113180411.GB12046@norbit.de>
	<48496.80.119.151.202.1226613330.squirrel@webmail.cnam.fr>
	<20081113224606.GA2495@norbit.de> <491D2B31.8000400@cnam.fr>
	<1226730470.7225.19.camel@timbuntu> <20081115085501.GB3831@norbit.de>
Message-ID: <1226755906.6585.0.camel@timbuntu>

Hi


On Sat, 2008-11-15 at 09:55 +0100, J?rgen E. Fischer wrote:
> Hi Tim,
> 
> On Sat, 15. Nov 2008 at 08:27:50 +0200, Tim Sutton wrote:
> > Any chance of adding the gdal-grass raster plugin to one of these repos
> > too?
> 
> Done.

Wow thanks!

Regards

Tim


> 
> 
> J?rgen
> 
> -- 
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
> 

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081115/317506ce/attachment.bin
From robert at szczepanek.pl  Sat Nov 15 10:52:14 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Sat Nov 15 10:52:03 2008
Subject: [Qgis-developer] 'canvas' translation [PL]
Message-ID: <491EF02E.8030008@szczepanek.pl>

Witam,

Dotychczasowe t?umaczenia terminu 'canva(s)' w QGIS to:
okno, kompozycja, fragment mapy
Pocz?tkowo sk?ania?em si? do polskiego s?owa kanwa, kt?re jest 
znaczeniowo bardzo bliskie. Ale canvas wyst?puje w QGIS w takich 
kontekstach, ?e powsta?yby niezrozumia?e potworki j?zykowe.

Jak to t?umacz? inni w QGIS?
cz - p??tno, okno
es - widok
it - obszar
ru - mapa, obszar mapy
sk - p??tno

Najbardziej neutralne, pojemne znaczeniowo i intuicyjne wydaje si? by? 
s?owo 'obszar', czyli wersja rosyjsko-w?oska.
Czyli przyk?adowo
map canvas - obszar mapy

pozdrawiam,
-- 
Robert Szczepanek
From robert at szczepanek.pl  Sat Nov 15 12:24:29 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Sat Nov 15 12:24:18 2008
Subject: [Qgis-developer] coding problem for singular-paucal-plural terms
Message-ID: <491F05CD.1080706@szczepanek.pl>

Hi,

Translating QgsSearchQueryBuilder command
"Found %d matching features." I found some problem related probably to 
coding. This is only case of singular-paucal-plural term. To check it I 
added additional 'strange' polish letters in the same session to window 
title (screenshot). And it was OK. Anyone experienced similar problem 
with other languages?

Running QGIS 1.0.0-Kore-preview1 rev.9613 on Windows XP.

regards,
-- 
Robert Szczepanek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-trans.jpg
Type: image/jpeg
Size: 11210 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081115/7a7f98a4/qgis-trans.jpg
From woklist at kyngchaos.com  Sat Nov 15 12:32:01 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Nov 15 12:32:07 2008
Subject: [Qgis-developer] Preview 2 OS X python-agnostic build
Message-ID: <48763A41-F75E-4D2E-B7DA-0281ED60461F@kyngchaos.com>

I figured out how to do a Python-agnostic build of Qgis on Leopard.   
Please test.

What this means is that the Leopard build can use either the system  
Python 2.5 OR the python.org Python 2.5.  The python.org Python will  
override the system Python (standard system search path).

Note: it is still made for Python 2.5.  I don't know if/how Qgis tests  
or restricts for Python versions, so there may be problems if Python  
2.6 is installed.  But this is normal and expected anyways - only  
point versions should be expected to be compatible for compiled modules.


I didn't change the Tiger Qgis build because there is no point in  
using the system Python (2.3).

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those  
least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From wonder.sk at gmail.com  Sat Nov 15 13:53:09 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Nov 15 13:53:12 2008
Subject: [Qgis-developer] RE: [Qgis-user] WMS in python?
In-Reply-To: <8563B9D6767C904A912272A2D56548E43451A4@vermilion.County24.local>
References: <8563B9D6767C904A912272A2D56548E422A551@vermilion.County24.local>
	<e8e7199c0803031717x24ce64d5g226f8e934c371903@mail.gmail.com>
	<8563B9D6767C904A912272A2D56548E43451A4@vermilion.County24.local>
Message-ID: <e8e7199c0811151053p33461043v51d4d86948ab8a04@mail.gmail.com>

On Thu, Nov 13, 2008 at 9:54 PM, Rob McCulley <RMcCulley@county24.com> wrote:
>
> I've revisited this again, and haven't managed to get it working yet.
> Anyone have any experience with adding a WMS layer using the python
> bindings?

Here's a simple example that I've used to connect to NASA's WMS server:

url = 'http://wms.jpl.nasa.gov/wms.cgi'
layers = [ 'global_mosaic' ]
styles = [ 'pseudo' ]
format = 'image/jpeg'
crs = 'EPSG:4326' # WGS 84
rlayer = QgsRasterLayer(0, url, 'some layer name', 'wms', layers,
styles, format, crs)

or if you want to load it directly from python plugin or python console in QGIS:

iface.addRasterLayer(url, 'some layer name', 'wms', layers, styles, format, crs)

But, there's a problem that you can't really access information from
GetCapabilities response, so you must check first what layers / styles
/ format want from what the server provides.

Martin
From tim at linfiniti.com  Sat Nov 15 15:58:21 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov 15 15:59:11 2008
Subject: [Qgis-developer] QGIS 1.0.0 Preview II packaged for Debian
	Testing (Lenny)
In-Reply-To: <20081115072915.GA10472@rigacci.org>
References: <1226108560.7058.113.camel@timbuntu>
	<20081115072915.GA10472@rigacci.org>
Message-ID: <1226782701.6585.47.camel@timbuntu>

Hi

Many thanks Niccolo, I have added it to : http://download.qgis.org

Regards

Tim

On Sat, 2008-11-15 at 08:29 +0100, Niccolo Rigacci wrote:
> Binary i386 package for Debian Testing (Lenny) is available at:
> 
> deb http://debian.gfoss.it/ lenny main
> 
> The signing key was expired, install the new one with:
> 
> wget http://debian.gfoss.it/debian-gfoss.key -O - | apt-key add -
> 
> The new preview version is apt-gettable. The previous version 
> (0.11.0) is still in the repository, but you have to donwload and 
> install it manually.
> 
-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081115/c97eddf4/attachment.bin
From tim at linfiniti.com  Sat Nov 15 16:00:46 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov 15 16:01:31 2008
Subject: [Qgis-developer] coding problem for singular-paucal-plural terms
In-Reply-To: <491F05CD.1080706@szczepanek.pl>
References: <491F05CD.1080706@szczepanek.pl>
Message-ID: <1226782846.6585.48.camel@timbuntu>

Hi Robert

You may want to run this by the community team mailing list as they are
dealing more with translation issues there.

Regards

Tim

On Sat, 2008-11-15 at 18:24 +0100, Robert Szczepanek wrote:
> Hi,
> 
> Translating QgsSearchQueryBuilder command
> "Found %d matching features." I found some problem related probably to 
> coding. This is only case of singular-paucal-plural term. To check it I 
> added additional 'strange' polish letters in the same session to window 
> title (screenshot). And it was OK. Anyone experienced similar problem 
> with other languages?
> 
> Running QGIS 1.0.0-Kore-preview1 rev.9613 on Windows XP.
> 
> regards,
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081115/58d7dc7c/attachment-0001.bin
From robert at szczepanek.pl  Sat Nov 15 16:30:15 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Sat Nov 15 16:30:02 2008
Subject: [Qgis-developer] coding problem for singular-paucal-plural terms
In-Reply-To: <1226782846.6585.48.camel@timbuntu>
References: <491F05CD.1080706@szczepanek.pl>
	<1226782846.6585.48.camel@timbuntu>
Message-ID: <491F3F67.2000204@szczepanek.pl>

Tim Sutton pisze:
> Hi Robert
> 
> You may want to run this by the community team mailing list as they are
> dealing more with translation issues there.
> 
> Regards
> 
> Tim

Oops, sorry for two last translation related posts - my fault.
I saw only two lists at Nabbble - developer and user. That's the reason.

regards,
-- 
Robert Szczepanek
From tim at linfiniti.com  Sat Nov 15 16:30:59 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov 15 16:31:44 2008
Subject: [Qgis-developer] coding problem for singular-paucal-plural terms
In-Reply-To: <491F3F67.2000204@szczepanek.pl>
References: <491F05CD.1080706@szczepanek.pl>
	<1226782846.6585.48.camel@timbuntu>  <491F3F67.2000204@szczepanek.pl>
Message-ID: <1226784659.6585.51.camel@timbuntu>

Hi

> Oops, sorry for two last translation related posts - my fault.
> I saw only two lists at Nabbble - developer and user. That's the reason.

No problem,

Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081115/624dc618/attachment.bin
From tim at linfiniti.com  Sat Nov 15 16:49:42 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Nov 15 16:50:32 2008
Subject: [Qgis-developer] icons
In-Reply-To: <20504589.post@talk.nabble.com>
References: <47E8A8CE.4080508@faunalia.it>
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>
	<47E8CB9E.8080000@faunalia.it>  <20504589.post@talk.nabble.com>
Message-ID: <1226785782.6585.68.camel@timbuntu>

Hi

On Fri, 2008-11-14 at 09:07 -0800, Robert Szczepanek wrote:
> Hi Paolo and Tim,
> 
> Starting with GRASS icons, I slowly finish first with QGIS ones :)
> To complete a new theme I would however appreciate your comments.
> 
> QGIS has really nice icons in default theme. I was impressed! But different
> toolbars look inconsistent. There are at least three styles.

Agreed - I had to stop tweaking them at some point because the document
writers needed a frozen gui, but this is something I would like to
address in future. However looking at the work you are doing maybe I
dont need to worry :-)

> 
> Here you will find short [4 questions] survey on new theme:
> http://www.szczepanek.pl/icons.grass/index.php#7

I completed the survey, hope that helps!

> Other toolbars has troubles with full themes support and I didn't put them
> in print screen, but icons for them are also almost ready.
> There is no space to put comments, so please send them to mailing list.

I think your icons are really beautiful and it really helps using a set
colour pallette. I would really like to try them out in real world
useage - could you make a preview version available for us to try?

Are they created as svgs? I was hoping to globally replace png icons for
svg in a future version of QGIS as they (svg icons) offer various
benefits.

How far off are you from having complete replacements for all QGIS icons
(if you are even planning that)?

Best regards

Tim




> 
> regards,
> Robert Szczepanek

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081115/07d22701/attachment.bin
From robert at szczepanek.pl  Sat Nov 15 17:41:53 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Sat Nov 15 17:41:40 2008
Subject: [Qgis-developer] icons
In-Reply-To: <1226785782.6585.68.camel@timbuntu>
References: <47E8A8CE.4080508@faunalia.it>	
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>	
	<47E8CB9E.8080000@faunalia.it> <20504589.post@talk.nabble.com>
	<1226785782.6585.68.camel@timbuntu>
Message-ID: <491F5031.8090108@szczepanek.pl>

Hi Tim,

>> Here you will find short [4 questions] survey on new theme:
>> http://www.szczepanek.pl/icons.grass/index.php#7
> 
> I completed the survey, hope that helps!

Thanks, I really want to make it for users, not only for me :)
So some compromise in design is needed, at least at first approach.

>> Other toolbars has troubles with full themes support and I didn't put them
>> in print screen, but icons for them are also almost ready.
>> There is no space to put comments, so please send them to mailing list.
> 
> I think your icons are really beautiful and it really helps using a set
> colour pallette. I would really like to try them out in real world
> useage - could you make a preview version available for us to try?

Newest versions will be available at:
http://robert.szczepanek.pl/qgis.php
Just now ...

There is problem with digitizing icons and some others. They are not 
replaced. Edit icon is replaced in table edition but not in toolbar, end 
so on...
But I will try to prepare all of them, even for off-QGIS view ad 
discussion at the moment.

> Are they created as svgs? I was hoping to globally replace png icons for
> svg in a future version of QGIS as they (svg icons) offer various
> benefits.

Yes, I use Inkscape. All were designed for small sizes, but I would be 
careful with scaling.

> How far off are you from having complete replacements for all QGIS icons
> (if you are even planning that)?

All primitives (objects and acions) are in one svg file [120kB] :)
So work is going really fast and in one or two weeks I can complete all 
icons for toolbars, including some plugins. There are also other ones 
but it shouldn't take much time.

regards,
-- 
Robert Szczepanek
From tim at linfiniti.com  Sun Nov 16 09:00:32 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Nov 16 09:01:24 2008
Subject: [Qgis-developer] icons
In-Reply-To: <491F5031.8090108@szczepanek.pl>
References: <47E8A8CE.4080508@faunalia.it>
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>
	<47E8CB9E.8080000@faunalia.it>  <20504589.post@talk.nabble.com>
	<1226785782.6585.68.camel@timbuntu>  <491F5031.8090108@szczepanek.pl>
Message-ID: <1226844032.6357.3.camel@timbuntu>

Hi

8<--------------snip--------------

> Newest versions will be available at:
> http://robert.szczepanek.pl/qgis.php
> Just now ...

Cool I have them installed here and am trying them out for a few days.
One thing I notice is that the contrast in your icons is much lower than
the default icons and I find it requires more concentration to identify
the correct icon. Maybe its just because I have a built in search
pattern for the default ones and need a few days to acclimatise. It will
be nice to try when you have everything themed as perhaps then the
contrast difference wont be so noticeable when there is no mix of old
and new icons in the same window.

Regards

Tim


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081116/4a65bdbe/attachment.bin
From borys at wolf.most.org.pl  Sun Nov 16 10:21:24 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sun Nov 16 10:21:29 2008
Subject: [Qgis-developer] gui
Message-ID: <200811161621.24636.borys@wolf.most.org.pl>

Hi list,

I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
in order to recompile it. Is there any way to force recompiling? If not, 
please remember to make clean before building future packages :)

Regards,
B.
From tim at linfiniti.com  Sun Nov 16 10:49:05 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Nov 16 10:49:59 2008
Subject: [Qgis-developer] gui
In-Reply-To: <200811161621.24636.borys@wolf.most.org.pl>
References: <200811161621.24636.borys@wolf.most.org.pl>
Message-ID: <1226850545.6357.8.camel@timbuntu>

Hi

Usually cmake is good about determining when stuff needs a recompile.
However if it doesnt pick up something try just running cmake or ccmake
again and then compiling. As a last resort use make clean.

Remember that we are in GUI freeze so small tweaks like you have made we
can probably get away with, but do try to avoid changing any visual
parts of the application otherwise you will frustrate the document
writers.

Regards

Tim

On Sun, 2008-11-16 at 16:21 +0100, Borys Jurgiel wrote:
> Hi list,
> 
> I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
> in order to recompile it. Is there any way to force recompiling? If not, 
> please remember to make clean before building future packages :)
> 
> Regards,
> B.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081116/70e72498/attachment.bin
From sim at gis-lab.info  Sun Nov 16 12:29:39 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Sun Nov 16 12:29:46 2008
Subject: [Qgis-developer] Georeferencer-GDAL
In-Reply-To: <1226850545.6357.8.camel@timbuntu>
References: <200811161621.24636.borys@wolf.most.org.pl>
	<1226850545.6357.8.camel@timbuntu>
Message-ID: <333485605.20081116112939@gis-lab.info>

Hi all,

I'm happy to announce, that we modified Georeferencer
extension and want other developers to try it out sometime (I know
we're in freeze, but we needed this functionality). We did some testing on Preview2 and everything works really well (except annoying potentiall
GDAL bug with 6 points in 2nd order polynomial, which is being discussed in its
trac right now).

What we did: we've added the ability to use 1-2-3rd order polynomials
via GDAL functions to transform rasters.
Why: Helmert transform performance implemented before was
sub-suboptimal
How: Built ontop of existing Georeferencer extension (basically added
three new transforms to the list)
Next: We're doing some more modifications of Georeferener, but they're
minor.

Here is svn for this beauty: http://svn.gis-lab.info/qgis-gdal-georef/

Maxim
http://gis-lab.info

?? ?????? 16 ?????? 2008 ?., 9:49:05:

TS> Hi

TS> Usually cmake is good about determining when stuff needs a recompile.
TS> However if it doesnt pick up something try just running cmake or ccmake
TS> again and then compiling. As a last resort use make clean.

TS> Remember that we are in GUI freeze so small tweaks like you have made we
TS> can probably get away with, but do try to avoid changing any visual
TS> parts of the application otherwise you will frustrate the document
TS> writers.

TS> Regards

TS> Tim

TS> On Sun, 2008-11-16 at 16:21 +0100, Borys Jurgiel wrote:
>> Hi list,
>> 
>> I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
>> in order to recompile it. Is there any way to force recompiling? If not, 
>> please remember to make clean before building future packages :)
>> 
>> Regards,
>> B.
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From marco.hugentobler at karto.baug.ethz.ch  Sun Nov 16 15:13:31 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Sun Nov 16 15:15:24 2008
Subject: AW: [Qgis-developer] Georeferencer-GDAL
References: <200811161621.24636.borys@wolf.most.org.pl><1226850545.6357.8.camel@timbuntu>
	<333485605.20081116112939@gis-lab.info>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF918@EX6.d.ethz.ch>

Hi Maxim

Cool stuff, thanks a lot!
Since we are in feature freeze for 1.0, I added it as a ticket to track (#1404). I'm happy to apply it to svn trunk after 1.0 is out.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Maxim Dubinin
Gesendet: So 16.11.2008 18:29
An: qgis-developer@lists.osgeo.org
Betreff: [Qgis-developer] Georeferencer-GDAL
 
Hi all,

I'm happy to announce, that we modified Georeferencer
extension and want other developers to try it out sometime (I know
we're in freeze, but we needed this functionality). We did some testing on Preview2 and everything works really well (except annoying potentiall
GDAL bug with 6 points in 2nd order polynomial, which is being discussed in its
trac right now).

What we did: we've added the ability to use 1-2-3rd order polynomials
via GDAL functions to transform rasters.
Why: Helmert transform performance implemented before was
sub-suboptimal
How: Built ontop of existing Georeferencer extension (basically added
three new transforms to the list)
Next: We're doing some more modifications of Georeferener, but they're
minor.

Here is svn for this beauty: http://svn.gis-lab.info/qgis-gdal-georef/

Maxim
http://gis-lab.info

?? ?????? 16 ?????? 2008 ?., 9:49:05:

TS> Hi

TS> Usually cmake is good about determining when stuff needs a recompile.
TS> However if it doesnt pick up something try just running cmake or ccmake
TS> again and then compiling. As a last resort use make clean.

TS> Remember that we are in GUI freeze so small tweaks like you have made we
TS> can probably get away with, but do try to avoid changing any visual
TS> parts of the application otherwise you will frustrate the document
TS> writers.

TS> Regards

TS> Tim

TS> On Sun, 2008-11-16 at 16:21 +0100, Borys Jurgiel wrote:
>> Hi list,
>> 
>> I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
>> in order to recompile it. Is there any way to force recompiling? If not, 
>> please remember to make clean before building future packages :)
>> 
>> Regards,
>> B.
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer


_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From msieczka at sieczka.org  Sun Nov 16 16:54:12 2008
From: msieczka at sieczka.org (Maciej Sieczka)
Date: Sun Nov 16 16:54:16 2008
Subject: [Qgis-developer] MapSheetAutoGeoRef plugin error
Message-ID: <49209684.4040505@sieczka.org>

Hi

I'd like to get in touch with author, Janis Jatnieks from Latvia, to let
him know there's an error in his MapSheetAutoGeoRef plugin. Janis email
is not there in the plugin code or anywhere else, after a brief search,
so I'm writing here in case he might be reading it. If anybody knows his
email, please forward this message to him.

Using QGIS SVN trunk 9619.



Couldn't load plugin MapSheetAutoGeoRef due an error when calling its
classFactory() method

Traceback (most recent call last):
   File "", line 1, in
   File
"/home/shoofi/.qgis//python/plugins/MapSheetAutoGeoRef/__init__.py",
line 18, in classFactory
     return AutoRefPlugin(iface)
   File
"/home/shoofi/.qgis//python/plugins/MapSheetAutoGeoRef/mapsheetgeoref.py",
line 632, in __init__
     self.canvas = iface.getMapCanvas()
AttributeError: getMapCanvas

Python version:
2.5.2 (r252:60911, Sep 29 2008, 21:26:45)
[GCC 4.3.2]

Python path:
['/usr/local/qgis/share/qgis/python',
'/home/shoofi/.qgis//python/plugins',
'/usr/local/qgis/share/qgis/python/plugins',
'/usr/lib/python2.5/site-packages/GDAL-1.6.0beta1-py2.5-linux-x86_64.egg',
'/usr/lib/python2.5', '/usr/lib/python2.5/plat-linux2',
'/usr/lib/python2.5/lib-tk', '/usr/lib/python2.5/lib-dynload',
'/usr/local/lib/python2.5/site-packages',
'/usr/lib/python2.5/site-packages',
'/usr/lib/python2.5/site-packages/Numeric',
'/usr/lib/python2.5/site-packages/PIL',
'/usr/lib/python2.5/site-packages/gst-0.10',
'/var/lib/python-support/python2.5',
'/var/lib/python-support/python2.5/gtk-2.0',
'/usr/lib/python2.5/site-packages/wx-2.8-gtk2-unicode',
'/home/shoofi/.qgis/python/plugins/fTools/tools']


Maciek

-- 
Maciej Sieczka
www.sieczka.org

From tim at linfiniti.com  Sun Nov 16 17:22:56 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Nov 16 17:23:50 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
Message-ID: <1226874176.6357.15.camel@timbuntu>

Hi Folks

I'd like to go ahead and declare an API freeze for QGIS 1.0. Martin I
see you were making a couple of useful tweaks over last week. Do you or
anyone else have anything else to change on the API. Once the API is
frozen, cleanups to the API should be done in a manner similar to the
trolls e.g.


class Foo 
{
  public:
     /** This method will be deprecated, you are encouraged to use 
         doSomethingBetter() rather.
         @see doSomethingBetter()
     */
     bool doSomething();

     /** Does something a better way.
         @note This method was introduced in QGIS version 1.1
     */
     bool doSomethingBetter();

}


I will wait until wednesday before declaring the API freeze in case
there are any objections.

Regards
-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081117/0ff54349/attachment.bin
From tim at linfiniti.com  Sun Nov 16 18:32:39 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Nov 16 18:33:32 2008
Subject: [Qgis-developer] MapSheetAutoGeoRef plugin error
In-Reply-To: <49209684.4040505@sieczka.org>
References: <49209684.4040505@sieczka.org>
Message-ID: <1226878359.6357.17.camel@timbuntu>

Hi Maciej

Looks like you are using a plugin written for QGIS 0.11.

Try changing getMapCanvas() to mapCanvas().

There are numerous other API changes in QGIS 1.0 code base so likely
this wont be the only error you encounter. See 

http://wiki.qgis.org/qgiswiki/VisualChangeLog1.0.0

For more hints.

Regards

Tim

On Sun, 2008-11-16 at 22:54 +0100, Maciej Sieczka wrote:
> Hi
> 
> I'd like to get in touch with author, Janis Jatnieks from Latvia, to let
> him know there's an error in his MapSheetAutoGeoRef plugin. Janis email
> is not there in the plugin code or anywhere else, after a brief search,
> so I'm writing here in case he might be reading it. If anybody knows his
> email, please forward this message to him.
> 
> Using QGIS SVN trunk 9619.
> 
> 
> 
> Couldn't load plugin MapSheetAutoGeoRef due an error when calling its
> classFactory() method
> 
> Traceback (most recent call last):
>    File "", line 1, in
>    File
> "/home/shoofi/.qgis//python/plugins/MapSheetAutoGeoRef/__init__.py",
> line 18, in classFactory
>      return AutoRefPlugin(iface)
>    File
> "/home/shoofi/.qgis//python/plugins/MapSheetAutoGeoRef/mapsheetgeoref.py",
> line 632, in __init__
>      self.canvas = iface.getMapCanvas()
> AttributeError: getMapCanvas
> 
> Python version:
> 2.5.2 (r252:60911, Sep 29 2008, 21:26:45)
> [GCC 4.3.2]
> 
> Python path:
> ['/usr/local/qgis/share/qgis/python',
> '/home/shoofi/.qgis//python/plugins',
> '/usr/local/qgis/share/qgis/python/plugins',
> '/usr/lib/python2.5/site-packages/GDAL-1.6.0beta1-py2.5-linux-x86_64.egg',
> '/usr/lib/python2.5', '/usr/lib/python2.5/plat-linux2',
> '/usr/lib/python2.5/lib-tk', '/usr/lib/python2.5/lib-dynload',
> '/usr/local/lib/python2.5/site-packages',
> '/usr/lib/python2.5/site-packages',
> '/usr/lib/python2.5/site-packages/Numeric',
> '/usr/lib/python2.5/site-packages/PIL',
> '/usr/lib/python2.5/site-packages/gst-0.10',
> '/var/lib/python-support/python2.5',
> '/var/lib/python-support/python2.5/gtk-2.0',
> '/usr/lib/python2.5/site-packages/wx-2.8-gtk2-unicode',
> '/home/shoofi/.qgis/python/plugins/fTools/tools']
> 
> 
> Maciek
> 

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081117/14f91a24/attachment.bin
From borys at wolf.most.org.pl  Sun Nov 16 19:13:07 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sun Nov 16 19:13:13 2008
Subject: [Qgis-developer] gui
In-Reply-To: <1226850545.6357.8.camel@timbuntu>
References: <200811161621.24636.borys@wolf.most.org.pl>
	<1226850545.6357.8.camel@timbuntu>
Message-ID: <200811170113.07868.borys@wolf.most.org.pl>

> Usually cmake is good about determining when stuff needs a recompile.
> However if it doesnt pick up something try just running cmake or ccmake
> again and then compiling. As a last resort use make clean.

Thanks! So it seems it's necessary to run `make clean` this time.

> Remember that we are in GUI freeze so small tweaks like you have made we
> can probably get away with, but do try to avoid changing any visual
> parts of the application otherwise you will frustrate the document
> writers.

Sure! Note that I haven't change the layout but resizing policy (there was a 
bug there and widgets was begining to overlap when resizing).

Regards,
B.
From shotamur at gmail.com  Mon Nov 17 03:13:19 2008
From: shotamur at gmail.com (Shota Murtskhvaladze)
Date: Mon Nov 17 03:13:24 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <1226874176.6357.15.camel@timbuntu>
References: <1226874176.6357.15.camel@timbuntu>
Message-ID: <464823f40811170013n7a4002b6hd80f57287cf29b33@mail.gmail.com>

hello all
Georgian translation of gui and guide will be ready by december 8. Is
that good date to be included in new distribution
Shota Murtskhvaladze

On 11/17/08, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Folks
>
> I'd like to go ahead and declare an API freeze for QGIS 1.0. Martin I
> see you were making a couple of useful tweaks over last week. Do you or
> anyone else have anything else to change on the API. Once the API is
> frozen, cleanups to the API should be done in a manner similar to the
> trolls e.g.
>
>
> class Foo
> {
>   public:
>      /** This method will be deprecated, you are encouraged to use
>          doSomethingBetter() rather.
>          @see doSomethingBetter()
>      */
>      bool doSomething();
>
>      /** Does something a better way.
>          @note This method was introduced in QGIS version 1.1
>      */
>      bool doSomethingBetter();
>
> }
>
>
> I will wait until wednesday before declaring the API freeze in case
> there are any objections.
>
> Regards
> --
> Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
> ==============================================
> Visit http://linfiniti.com to find out about:
>  * QGIS programming services
>  * Mapserver and PostGIS based hosting plans
>  * FOSS Consulting & Support Services
> Skype: timlinux Irc: timlinux on #qgis at freenode.net
> ==============================================
>


-- 
???? ???????????
????? "????? ???????"
www.geosocial.blogspot.com
www.dlf.ge
From tim at linfiniti.com  Mon Nov 17 07:35:10 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Nov 17 07:36:11 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <464823f40811170013n7a4002b6hd80f57287cf29b33@mail.gmail.com>
References: <1226874176.6357.15.camel@timbuntu>
	<464823f40811170013n7a4002b6hd80f57287cf29b33@mail.gmail.com>
Message-ID: <1226925310.30760.0.camel@timbuntu>

Hi Shota


Yes I'm hoping to release late december so if your translations are
ready by 8 December that should be fine.

Thanks!

Regards

Tim

On Mon, 2008-11-17 at 12:13 +0400, Shota Murtskhvaladze wrote:
> hello all
> Georgian translation of gui and guide will be ready by december 8. Is
> that good date to be included in new distribution
> Shota Murtskhvaladze
> 
> On 11/17/08, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi Folks
> >
> > I'd like to go ahead and declare an API freeze for QGIS 1.0. Martin I
> > see you were making a couple of useful tweaks over last week. Do you or
> > anyone else have anything else to change on the API. Once the API is
> > frozen, cleanups to the API should be done in a manner similar to the
> > trolls e.g.
> >
> >
> > class Foo
> > {
> >   public:
> >      /** This method will be deprecated, you are encouraged to use
> >          doSomethingBetter() rather.
> >          @see doSomethingBetter()
> >      */
> >      bool doSomething();
> >
> >      /** Does something a better way.
> >          @note This method was introduced in QGIS version 1.1
> >      */
> >      bool doSomethingBetter();
> >
> > }
> >
> >
> > I will wait until wednesday before declaring the API freeze in case
> > there are any objections.
> >
> > Regards
> > --
> > Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
> > ==============================================
> > Visit http://linfiniti.com to find out about:
> >  * QGIS programming services
> >  * Mapserver and PostGIS based hosting plans
> >  * FOSS Consulting & Support Services
> > Skype: timlinux Irc: timlinux on #qgis at freenode.net
> > ==============================================
> >
> 
> 

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081117/72b63c7e/attachment-0001.bin
From wonder.sk at gmail.com  Mon Nov 17 09:51:43 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Nov 17 09:54:38 2008
Subject: [Qgis-developer] Announcing Qgis-mapper project
Message-ID: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>

Hi all,

I'd like to announce that we're starting a new QGIS-based project at
our university. We've formed a group of five students from our faculty
that will work on this project. It will introduce some improvements
int QGIS and create tools for simpler creation of roadmaps. There's
planned support for OpenStreetMap, topology handling, better rendering
and editing capabilities, better handling of large data and even more
stuff :-)

You'll find more in the specification:
http://mapserver.sk/~wonder/swproj/spec.html

The project will be run for nine months, at the end of this period we
should have all features from the specification ready.

Public access to source repository is not available, but we will try
to release some useful parts of the project during the development -
PostGIS manager plugin is an example. There's Trac running for our
project, those interested can take a look at the progress:
http://urtax.ms.mff.cuni.cz/qgis-mapper/

Regards
Martin
From wonder.sk at gmail.com  Mon Nov 17 10:03:51 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Nov 17 10:03:53 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <1226874176.6357.15.camel@timbuntu>
References: <1226874176.6357.15.camel@timbuntu>
Message-ID: <e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>

On Sun, Nov 16, 2008 at 11:22 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Folks
>
> I'd like to go ahead and declare an API freeze for QGIS 1.0. Martin I
> see you were making a couple of useful tweaks over last week. Do you or
> anyone else have anything else to change on the API.

Hi Tim,
I've been doing some tweaks only when I stumble across something, but
nothing really systematical. I think we can put a fixed date for API
freeze, let's say November 20th?


> Once the API is
> frozen, cleanups to the API should be done in a manner similar to the
> trolls e.g.
>
>
> class Foo
> {
>  public:
>     /** This method will be deprecated, you are encouraged to use
>         doSomethingBetter() rather.
>         @see doSomethingBetter()
>     */
>     bool doSomething();
>
>     /** Does something a better way.
>         @note This method was introduced in QGIS version 1.1
>     */
>     bool doSomethingBetter();
>
> }

I've been thinking also about more complex changes in QGIS v1.x
without breaking API. My idea is that if we do some BIG changes, the
resulting class can be named differently, e.g. with "Qgs2" prefix and
older class can be implemented using this new class. With this
approach we can do bigger enhancements in core/gui libraries without
breaking API.

What do others think about this policy?

Martin
From fpacheco.csag at gmail.com  Mon Nov 17 10:04:51 2008
From: fpacheco.csag at gmail.com (Fernando Pacheco)
Date: Mon Nov 17 10:04:54 2008
Subject: [Qgis-developer] QGIs + grass 6 SVN (grass API Vector.h change)
Message-ID: <671445450811170704s161983c8nd4de14fa4d042343@mail.gmail.com>

Hi,
QGis don't compile with svn version of GRASS 6 due vector API change
(eliminate non-standard logging mechanism) -->
http://trac.osgeo.org/grass/changeset?old_path=grass%2Fbranches%2Fdevelbranch_6%2Finclude%2FVect.h&old=34336&new_path=grass%2Fbranches%2Fdevelbranch_6%2Finclude%2FVect.h&new=34287

Regards, Fernando.
-- 
Ing. Fernando Pacheco M.S.L.

Ingesur srl
Direcci?n: Requena 1062 ap.302, Montevideo, Uruguay.
Tel?fonos: (+598 2) 408 90 48, (+598 9) 962 79 32
Web: http://www.ingesur.com.uy/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081117/15e2aa92/attachment.html
From wonder.sk at gmail.com  Mon Nov 17 10:39:32 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Nov 17 10:39:33 2008
Subject: [Qgis-developer] Python plugins for QGIS 1.0
Message-ID: <e8e7199c0811170739x4df55a8blca82be138375147f@mail.gmail.com>

Hi (python plugin developers),

I've just commited a change to SVN (r9652) requiring that all
1.0-compatible plugins must implement qgisMinimalVersion metadata,
returning lowest compatible QGIS version (e.g. "1.0.0").

Regards
Martin
From john.tull at wildnevada.org  Mon Nov 17 14:13:02 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Mon Nov 17 14:13:09 2008
Subject: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
In-Reply-To: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>
Message-ID: <38BA0130-9A50-4266-9661-AEC43470BD26@me.com>

On Nov 17, 2008, at 6:51 AM, Martin Dobias wrote:

> Hi all,
>
> I'd like to announce that we're starting a new QGIS-based project at
> our university. We've formed a group of five students from our faculty
> that will work on this project. It will introduce some improvements
> int QGIS and create tools for simpler creation of roadmaps. There's
> planned support for OpenStreetMap, topology handling, better rendering
> and editing capabilities, better handling of large data and even more
> stuff :-)
>
> You'll find more in the specification:
> http://mapserver.sk/~wonder/swproj/spec.html
>
> The project will be run for nine months, at the end of this period we
> should have all features from the specification ready.
>
> Public access to source repository is not available, but we will try
> to release some useful parts of the project during the development -
> PostGIS manager plugin is an example. There's Trac running for our
> project, those interested can take a look at the progress:
> http://urtax.ms.mff.cuni.cz/qgis-mapper/

This sounds quite useful and ambitious. I look forward to seeing the  
fruits of your efforts.

John
From tim at linfiniti.com  Mon Nov 17 14:30:10 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Nov 17 14:31:18 2008
Subject: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
In-Reply-To: <38BA0130-9A50-4266-9661-AEC43470BD26@me.com>
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>
	<38BA0130-9A50-4266-9661-AEC43470BD26@me.com>
Message-ID: <1226950210.6409.40.camel@timbuntu>

Hi

> >
> > Public access to source repository is not available, but we will try
> > to release some useful parts of the project during the development -
> > PostGIS manager plugin is an example. There's Trac running for our
> > project, those interested can take a look at the progress:
> > http://urtax.ms.mff.cuni.cz/qgis-mapper/
> 
> This sounds quite useful and ambitious. I look forward to seeing the  
> fruits of your efforts.
> 

Me too! If you are developing in your own, what are your plans in terms
of integration into QGIS trunk? I guess you need to modify core to some
degree and then plan to put the rest of functionality out into python
plugin space? I would welcome better renderer implementation (ideally
that supports SLD spec).

Regards

Tim

> John

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081117/5d645da6/attachment.bin
From wonder.sk at gmail.com  Mon Nov 17 16:24:38 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Nov 17 16:25:55 2008
Subject: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
In-Reply-To: <1226950210.6409.40.camel@timbuntu>
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>
	<38BA0130-9A50-4266-9661-AEC43470BD26@me.com>
	<1226950210.6409.40.camel@timbuntu>
Message-ID: <e8e7199c0811171324k469dbf3crfc222525fa397ab9@mail.gmail.com>

On Mon, Nov 17, 2008 at 8:30 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Me too! If you are developing in your own, what are your plans in terms
> of integration into QGIS trunk? I guess you need to modify core to some
> degree and then plan to put the rest of functionality out into python
> plugin space? I would welcome better renderer implementation (ideally
> that supports SLD spec).

We'd like to integrate as much as possible directly into QGIS trunk.
There will be quite some changes for core library. As there should be
stable API for 1.x releases, we will have to integrate new features
with care. Some things will be maybe shifted to 2.0 release if it
won't be possible to integrate them to 1.x branch.

Briefly what's planned for new renderer implementation:
- multi-layer symbols (the greatest change)
- more symbol layer types - e.g. simple line, marker line ...
- rendering with special order (to allow drawing good-looking roads
with outline)
- rendering is done directly in renderer, not in vector layer
- catalog of symbology

I don't know whether it will be "compatible" with SLD specification,
I'm not very familiar with it... How far from SLD is QGIS now?

Martin
From sim at gis-lab.info  Tue Nov 18 00:03:45 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Tue Nov 18 00:08:33 2008
Subject: [Qgis-developer] Georeferencer-GDAL
In-Reply-To: <333485605.20081116112939@gis-lab.info>
References: <200811161621.24636.borys@wolf.most.org.pl>
	<1226850545.6357.8.camel@timbuntu>
	<333485605.20081116112939@gis-lab.info>
Message-ID: <509034936.20081117230345@gis-lab.info>

Georeferencer plugin again.

We've added TPS transformation from GDAL, modified dialog windows
little bit and thinking about removing one of the windows (smaller one)
completely to reduce unneccesary clutter. Everything will fit nicely
on a single window.

Is there anyone who thinks this is a bad idea? May be original
Georeferencer author? Let me know.

Maxim


?? ?????? 16 ?????? 2008 ?., 11:29:39:

MD> Hi all,

MD> I'm happy to announce, that we modified Georeferencer
MD> extension and want other developers to try it out sometime (I know
MD> we're in freeze, but we needed this functionality). We did some
MD> testing on Preview2 and everything works really well (except annoying potentiall
MD> GDAL bug with 6 points in 2nd order polynomial, which is being discussed in its
MD> trac right now).

MD> What we did: we've added the ability to use 1-2-3rd order polynomials
MD> via GDAL functions to transform rasters.
MD> Why: Helmert transform performance implemented before was
MD> sub-suboptimal
MD> How: Built ontop of existing Georeferencer extension (basically added
MD> three new transforms to the list)
MD> Next: We're doing some more modifications of Georeferener, but they're
MD> minor.

MD> Here is svn for this beauty: http://svn.gis-lab.info/qgis-gdal-georef/

MD> Maxim
MD> http://gis-lab.info

MD> ?? ?????? 16 ?????? 2008 ?., 9:49:05:

TS>> Hi

TS>> Usually cmake is good about determining when stuff needs a recompile.
TS>> However if it doesnt pick up something try just running cmake or ccmake
TS>> again and then compiling. As a last resort use make clean.

TS>> Remember that we are in GUI freeze so small tweaks like you have made we
TS>> can probably get away with, but do try to avoid changing any visual
TS>> parts of the application otherwise you will frustrate the document
TS>> writers.

TS>> Regards

TS>> Tim

TS>> On Sun, 2008-11-16 at 16:21 +0100, Borys Jurgiel wrote:
>>> Hi list,
>>> 
>>> I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
>>> in order to recompile it. Is there any way to force recompiling? If not, 
>>> please remember to make clean before building future packages :)
>>> 
>>> Regards,
>>> B.
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer


MD> _______________________________________________
MD> Qgis-developer mailing list
MD> Qgis-developer@lists.osgeo.org
MD> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From mendbayar_b at mongol.net  Tue Nov 18 00:56:31 2008
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Tue Nov 18 00:56:48 2008
Subject: [Qgis-developer] Georeferencer-GDAL
In-Reply-To: <333485605.20081116112939@gis-lab.info>
References: <200811161621.24636.borys@wolf.most.org.pl>
	<1226850545.6357.8.camel@timbuntu>
	<333485605.20081116112939@gis-lab.info>
Message-ID: <1226987791.16440.13.camel@mobile-workstation.site>

Hello Maxim,

Thank you very much for you work. 

Yesterday I have compile and test your ?modified Georeferencer plugin in
my workstation (openSUSE 11.0 x86_64). It have been working for me to
geo-reference my plain rasters. 

Today I want to compile it on windows (actually on my Virtual Box)
combining latest QGIS svn head (qgis-gdal-georef revision 26, qgis
revision 9661). But I have get errors! Error message is following: 

-----------------------------------------------------------------
[ 96%] Built target ogrconverterplugin
Linking CXX shared module libgeorefplugin.dll
CMakeFiles/georefplugin.dir/moc_qgspointdialog.obj:moc_qgspointdialog.cxx:(.text
+0x163): undefined reference to
`QgsPointDialog::on_pbnSelectWorldFile_clicked()
'
CMakeFiles/georefplugin.dir/moc_qgspointdialog.obj:moc_qgspointdialog.cxx:(.text
+0x189): undefined reference to
`QgsPointDialog::on_pbnGenerateWorldFile_clicked
()'
collect2: ld returned 1 exit status
mingw32-make[2]: *** [src/plugins/qgis-gdal-georef/libgeorefplugin.dll]
Error 1
mingw32-make[1]: ***
[src/plugins/qgis-gdal-georef/CMakeFiles/georefplugin.dir/a
ll] Error 2
mingw32-make: *** [all] Error 2

C:\msys\local\src\qgisTrunk\build>
?-----------------------------------------------------------------

What's wrong there? Can you help to me?  


With best regards,

B.Mendbayar


On Sun, 2008-11-16 at 11:29 -0600, Maxim Dubinin wrote:
> Hi all,
> 
> I'm happy to announce, that we modified Georeferencer
> extension and want other developers to try it out sometime (I know
> we're in freeze, but we needed this functionality). We did some testing on Preview2 and everything works really well (except annoying potentiall
> GDAL bug with 6 points in 2nd order polynomial, which is being discussed in its
> trac right now).
> 
> What we did: we've added the ability to use 1-2-3rd order polynomials
> via GDAL functions to transform rasters.
> Why: Helmert transform performance implemented before was
> sub-suboptimal
> How: Built ontop of existing Georeferencer extension (basically added
> three new transforms to the list)
> Next: We're doing some more modifications of Georeferener, but they're
> minor.
> 
> Here is svn for this beauty: http://svn.gis-lab.info/qgis-gdal-georef/
> 
> Maxim
> http://gis-lab.info
> 
> ?? ?????? 16 ?????? 2008 ?., 9:49:05:
> 
> TS> Hi
> 
> TS> Usually cmake is good about determining when stuff needs a recompile.
> TS> However if it doesnt pick up something try just running cmake or ccmake
> TS> again and then compiling. As a last resort use make clean.
> 
> TS> Remember that we are in GUI freeze so small tweaks like you have made we
> TS> can probably get away with, but do try to avoid changing any visual
> TS> parts of the application otherwise you will frustrate the document
> TS> writers.
> 
> TS> Regards
> 
> TS> Tim
> 
> TS> On Sun, 2008-11-16 at 16:21 +0100, Borys Jurgiel wrote:
> >> Hi list,
> >> 
> >> I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
> >> in order to recompile it. Is there any way to force recompiling? If not, 
> >> please remember to make clean before building future packages :)
> >> 
> >> Regards,
> >> B.
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 

From marco.hugentobler at karto.baug.ethz.ch  Tue Nov 18 03:56:31 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Nov 18 03:56:34 2008
Subject: AW: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com><38BA0130-9A50-4266-9661-AEC43470BD26@me.com><1226950210.6409.40.camel@timbuntu>
	<e8e7199c0811171324k469dbf3crfc222525fa397ab9@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF91E@EX6.d.ethz.ch>

Hi Martin

I'm looking forward to all the enhancements too.

SLD: With the changes Martin described, it will be possible have support for all the elements that can be described with SLD (or at least for all that come to my mind now). Of course the xml reading/writing needs to be provided by QGIS, same as the trolls had to provide reading/writing svg and mapping to QPainter.

By the way, there is also a newer specification called Symbology Encoding (SE). Even if most of the elements are the same as in SLD, we should directly consider this spec for the XML parsing, especially for the  namespaces.

Regards,
Marco

-----Urspr?ngliche Nachricht-----
Von: qgis-user-bounces@lists.osgeo.org im Auftrag von Martin Dobias
Gesendet: Mo 17.11.2008 22:24
An: tim@linfiniti.com
Cc: qgis-user List; qgis-developer List
Betreff: Re: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
 
On Mon, Nov 17, 2008 at 8:30 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Me too! If you are developing in your own, what are your plans in terms
> of integration into QGIS trunk? I guess you need to modify core to some
> degree and then plan to put the rest of functionality out into python
> plugin space? I would welcome better renderer implementation (ideally
> that supports SLD spec).

We'd like to integrate as much as possible directly into QGIS trunk.
There will be quite some changes for core library. As there should be
stable API for 1.x releases, we will have to integrate new features
with care. Some things will be maybe shifted to 2.0 release if it
won't be possible to integrate them to 1.x branch.

Briefly what's planned for new renderer implementation:
- multi-layer symbols (the greatest change)
- more symbol layer types - e.g. simple line, marker line ...
- rendering with special order (to allow drawing good-looking roads
with outline)
- rendering is done directly in renderer, not in vector layer
- catalog of symbology

I don't know whether it will be "compatible" with SLD specification,
I'm not very familiar with it... How far from SLD is QGIS now?

Martin
_______________________________________________
Qgis-user mailing list
Qgis-user@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-user


From cavallini at faunalia.it  Tue Nov 18 07:02:13 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Nov 18 07:02:19 2008
Subject: [Qgis-developer] [Fwd: Re: [Quantum GIS] #1306: Attribute table
 display problem when features already selected]
Message-ID: <4922AEC5.2030504@faunalia.it>

Does feature freeze applies also to bug fixing?
pc

-------- Messaggio Originale  --------

#1306: Attribute table display problem when features already selected
-----------------------------------------------------+----------------------
        Reporter:  cfarmer                           |         Owner:
nobody
            Type:  patch                             |        Status:
reopened
        Priority:  major: does not work as expected  |     Milestone:
Version 1.0.0
       Component:  Vectors                           |       Version:
HEAD
      Resolution:                                    |      Keywords:
select, attribute table
Platform_version:                                    |      Platform:
All
        Must_fix:  Yes                               |   Status_info:  0

-----------------------------------------------------+----------------------
Comment (by jef):

 Replying to [comment:6 jef]:
 > Now the behaviour is configurable.  The attribute table either shows all
 featues (default), all selected features or all features in the current
 canvas.

 Replying to [comment:9 pcav]:
 > I still have problems with this: once the table with selected elements
 is shown, how can a user select all the rows? Apparently pressing the
 first button has no effect

 The patch is still pending due to feature freeze.  Once it's applied your
 your problem would be solved, wouldn't it?

-- 
Ticket URL: <https://trac.osgeo.org/qgis/ticket/1306#comment:10>
Quantum GIS <http://qgis.org>
Quantum GIS is an Open Source GIS viewer/editor supporting OGR, PostGIS,
and GRASS formats
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From marco.hugentobler at karto.baug.ethz.ch  Tue Nov 18 07:51:12 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Nov 18 07:51:14 2008
Subject: AW: [Qgis-developer] [Fwd: Re: [Quantum GIS] #1306: Attribute table
	display problem when features already selected]
References: <4922AEC5.2030504@faunalia.it>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF920@EX6.d.ethz.ch>

Hi Paolo

The first button works perfectly. It deselects all the rows in the table.
Still it is possible to have all rows back by closing the table, deselecting and reopening.

As you pointed out yesterday, the border between feature enhancements and bugfixing is sometimes small ;-)

The ability of the attribute table to dynamically change the featureset is in my view a feature enhancement. I know it sounds very uncool to have a strict feature freeze. But if we don't, we might end up with an even larger bug queue for the 'stable' 1.0 release.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Paolo Cavallini
Gesendet: Di 18.11.2008 13:02
An: qgis-developer
Betreff: [Qgis-developer] [Fwd: Re: [Quantum GIS] #1306: Attribute table display problem when features already selected]
 
Does feature freeze applies also to bug fixing?
pc

-------- Messaggio Originale  --------

#1306: Attribute table display problem when features already selected
-----------------------------------------------------+----------------------
        Reporter:  cfarmer                           |         Owner:
nobody
            Type:  patch                             |        Status:
reopened
        Priority:  major: does not work as expected  |     Milestone:
Version 1.0.0
       Component:  Vectors                           |       Version:
HEAD
      Resolution:                                    |      Keywords:
select, attribute table
Platform_version:                                    |      Platform:
All
        Must_fix:  Yes                               |   Status_info:  0

-----------------------------------------------------+----------------------
Comment (by jef):

 Replying to [comment:6 jef]:
 > Now the behaviour is configurable.  The attribute table either shows all
 featues (default), all selected features or all features in the current
 canvas.

 Replying to [comment:9 pcav]:
 > I still have problems with this: once the table with selected elements
 is shown, how can a user select all the rows? Apparently pressing the
 first button has no effect

 The patch is still pending due to feature freeze.  Once it's applied your
 your problem would be solved, wouldn't it?

-- 
Ticket URL: <https://trac.osgeo.org/qgis/ticket/1306#comment:10>
Quantum GIS <http://qgis.org>
Quantum GIS is an Open Source GIS viewer/editor supporting OGR, PostGIS,
and GRASS formats
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at linfiniti.com  Tue Nov 18 11:34:26 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 18 16:19:04 2008
Subject: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
In-Reply-To: <e8e7199c0811171324k469dbf3crfc222525fa397ab9@mail.gmail.com>
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>
	<38BA0130-9A50-4266-9661-AEC43470BD26@me.com>
	<1226950210.6409.40.camel@timbuntu>
	<e8e7199c0811171324k469dbf3crfc222525fa397ab9@mail.gmail.com>
Message-ID: <1227026066.6402.20.camel@timbuntu>

Skipped content of type multipart/mixed-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081118/255da712/attachment-0001.bin
From tim at linfiniti.com  Tue Nov 18 11:37:24 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 18 16:19:37 2008
Subject: AW: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper
	project
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF91E@EX6.d.ethz.ch>
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>
	<38BA0130-9A50-4266-9661-AEC43470BD26@me.com>
	<1226950210.6409.40.camel@timbuntu>
	<e8e7199c0811171324k469dbf3crfc222525fa397ab9@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF91E@EX6.d.ethz.ch>
Message-ID: <1227026244.6402.22.camel@timbuntu>

On Tue, 2008-11-18 at 09:56 +0100, Hugentobler Marco wrote:
> Hi Martin
> 
> I'm looking forward to all the enhancements too.
> 
> SLD: With the changes Martin described, it will be possible have support for all the elements that can be described with SLD (or at least for all that come to my mind now). Of course the xml reading/writing needs to be provided by QGIS, same as the trolls had to provide reading/writing svg and mapping to QPainter.
> 

Hi yes I think just setting cap style is missing (but there may be other
things I am unaware of).

> By the way, there is also a newer specification called Symbology Encoding (SE). Even if most of the elements are the same as in SLD, we should directly consider this spec for the XML parsing, especially for the  namespaces.
> 

Ah thats good to know. Is SE an OGC standard set to replace SLD?

Regards


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081118/84e548ae/attachment.bin
From tim at linfiniti.com  Tue Nov 18 11:45:02 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 18 16:20:32 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
References: <1226874176.6357.15.camel@timbuntu>
	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
Message-ID: <1227026702.6402.29.camel@timbuntu>

Hi

On Mon, 2008-11-17 at 16:03 +0100, Martin Dobias wrote:

> Hi Tim,
> I've been doing some tweaks only when I stumble across something, but
> nothing really systematical. I think we can put a fixed date for API
> freeze, let's say November 20th?

From the PSC meeting we will temporarily unfreeze trunk to allow
improved labelling to be added, so I will hold on for API freeze until
after that - feel free to tweak on if you spot inconistencies in the
mean time!


> I've been thinking also about more complex changes in QGIS v1.x
> without breaking API. My idea is that if we do some BIG changes, the
> resulting class can be named differently, e.g. with "Qgs2" prefix and
> older class can be implemented using this new class. With this
> approach we can do bigger enhancements in core/gui libraries without
> breaking API.

Yes this is one strategy we can follow.

> 
> What do others think about this policy?
> 

http://sourcemaking.com/refactoring has many other useful patterns for
dealing with API changes.

Regards


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081118/3fac4876/attachment.bin
From tim at linfiniti.com  Tue Nov 18 12:01:27 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Nov 18 16:28:32 2008
Subject: [Qgis-developer] Georeferencer-GDAL
In-Reply-To: <509034936.20081117230345@gis-lab.info>
References: <200811161621.24636.borys@wolf.most.org.pl>
	<1226850545.6357.8.camel@timbuntu>
	<333485605.20081116112939@gis-lab.info>
	<509034936.20081117230345@gis-lab.info>
Message-ID: <1227027687.6402.44.camel@timbuntu>

Hi Maxim

On Mon, 2008-11-17 at 23:03 -0600, Maxim Dubinin wrote:
> Georeferencer plugin again.
> 
> We've added TPS transformation from GDAL, modified dialog windows
> little bit and thinking about removing one of the windows (smaller one)
> completely to reduce unneccesary clutter. Everything will fit nicely
> on a single window.

Sounds great!

> 
> Is there anyone who thinks this is a bad idea? May be original
> Georeferencer author? Let me know.

Lars (the original author) is no longer active in the project. I was
going to suggest you volunteer to be its new maintainer since you are
interested in it!

Regards

Tim

> 
> Maxim
> 
> 
> ?? ?????? 16 ?????? 2008 ?., 11:29:39:
> 
> MD> Hi all,
> 
> MD> I'm happy to announce, that we modified Georeferencer
> MD> extension and want other developers to try it out sometime (I know
> MD> we're in freeze, but we needed this functionality). We did some
> MD> testing on Preview2 and everything works really well (except annoying potentiall
> MD> GDAL bug with 6 points in 2nd order polynomial, which is being discussed in its
> MD> trac right now).
> 
> MD> What we did: we've added the ability to use 1-2-3rd order polynomials
> MD> via GDAL functions to transform rasters.
> MD> Why: Helmert transform performance implemented before was
> MD> sub-suboptimal
> MD> How: Built ontop of existing Georeferencer extension (basically added
> MD> three new transforms to the list)
> MD> Next: We're doing some more modifications of Georeferener, but they're
> MD> minor.
> 
> MD> Here is svn for this beauty: http://svn.gis-lab.info/qgis-gdal-georef/
> 
> MD> Maxim
> MD> http://gis-lab.info
> 
> MD> ?? ?????? 16 ?????? 2008 ?., 9:49:05:
> 
> TS>> Hi
> 
> TS>> Usually cmake is good about determining when stuff needs a recompile.
> TS>> However if it doesnt pick up something try just running cmake or ccmake
> TS>> again and then compiling. As a last resort use make clean.
> 
> TS>> Remember that we are in GUI freeze so small tweaks like you have made we
> TS>> can probably get away with, but do try to avoid changing any visual
> TS>> parts of the application otherwise you will frustrate the document
> TS>> writers.
> 
> TS>> Regards
> 
> TS>> Tim
> 
> TS>> On Sun, 2008-11-16 at 16:21 +0100, Borys Jurgiel wrote:
> >>> Hi list,
> >>> 
> >>> I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
> >>> in order to recompile it. Is there any way to force recompiling? If not, 
> >>> please remember to make clean before building future packages :)
> >>> 
> >>> Regards,
> >>> B.
> >>> _______________________________________________
> >>> Qgis-developer mailing list
> >>> Qgis-developer@lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> MD> _______________________________________________
> MD> Qgis-developer mailing list
> MD> Qgis-developer@lists.osgeo.org
> MD> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081118/e6fe3514/attachment.bin
From sim at gis-lab.info  Tue Nov 18 23:36:48 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Tue Nov 18 23:36:55 2008
Subject: [Qgis-developer] Georeferencer-GDAL
In-Reply-To: <1226987791.16440.13.camel@mobile-workstation.site>
References: <200811161621.24636.borys@wolf.most.org.pl>
	<1226850545.6357.8.camel@timbuntu>
	<333485605.20081116112939@gis-lab.info>
	<1226987791.16440.13.camel@mobile-workstation.site>
Message-ID: <1852015493.20081118223648@gis-lab.info>

thanks for feedback.
we'll try to compile it under Win, I'll let you know.

-- 
Best regards,
 Maxim

BM> Hello Maxim,

BM> Thank you very much for you work. 

BM> Yesterday I have compile and test your ?modified Georeferencer plugin in
BM> my workstation (openSUSE 11.0 x86_64). It have been working for me to
BM> geo-reference my plain rasters. 

BM> Today I want to compile it on windows (actually on my Virtual Box)
BM> combining latest QGIS svn head (qgis-gdal-georef revision 26, qgis
BM> revision 9661). But I have get errors! Error message is following: 

BM> -----------------------------------------------------------------
BM> [ 96%] Built target ogrconverterplugin
BM> Linking CXX shared module libgeorefplugin.dll
BM> CMakeFiles/georefplugin.dir/moc_qgspointdialog.obj:moc_qgspointdialog.cxx:(.text
BM> +0x163): undefined reference to
BM> `QgsPointDialog::on_pbnSelectWorldFile_clicked()
BM> '
BM> CMakeFiles/georefplugin.dir/moc_qgspointdialog.obj:moc_qgspointdialog.cxx:(.text
BM> +0x189): undefined reference to
BM> `QgsPointDialog::on_pbnGenerateWorldFile_clicked
BM> ()'
BM> collect2: ld returned 1 exit status
BM> mingw32-make[2]: ***
BM> [src/plugins/qgis-gdal-georef/libgeorefplugin.dll]
BM> Error 1
BM> mingw32-make[1]: ***
BM> [src/plugins/qgis-gdal-georef/CMakeFiles/georefplugin.dir/a
BM> ll] Error 2
BM> mingw32-make: *** [all] Error 2

BM> C:\msys\local\src\qgisTrunk\build>
BM> ?-----------------------------------------------------------------

BM> What's wrong there? Can you help to me?  


BM> With best regards,

BM> B.Mendbayar


BM> On Sun, 2008-11-16 at 11:29 -0600, Maxim Dubinin wrote:
>> Hi all,
>> 
>> I'm happy to announce, that we modified Georeferencer
>> extension and want other developers to try it out sometime (I know
>> we're in freeze, but we needed this functionality). We did some testing on Preview2 and everything works really well (except annoying potentiall
>> GDAL bug with 6 points in 2nd order polynomial, which is being discussed in its
>> trac right now).
>> 
>> What we did: we've added the ability to use 1-2-3rd order polynomials
>> via GDAL functions to transform rasters.
>> Why: Helmert transform performance implemented before was
>> sub-suboptimal
>> How: Built ontop of existing Georeferencer extension (basically added
>> three new transforms to the list)
>> Next: We're doing some more modifications of Georeferener, but they're
>> minor.
>> 
>> Here is svn for this beauty: http://svn.gis-lab.info/qgis-gdal-georef/
>> 
>> Maxim
>> http://gis-lab.info
>> 
>> ?? ?????? 16 ?????? 2008 ?., 9:49:05:
>> 
>> TS> Hi
>> 
>> TS> Usually cmake is good about determining when stuff needs a recompile.
>> TS> However if it doesnt pick up something try just running cmake or ccmake
>> TS> again and then compiling. As a last resort use make clean.
>> 
>> TS> Remember that we are in GUI freeze so small tweaks like you have made we
>> TS> can probably get away with, but do try to avoid changing any visual
>> TS> parts of the application otherwise you will frustrate the document
>> TS> writers.
>> 
>> TS> Regards
>> 
>> TS> Tim
>> 
>> TS> On Sun, 2008-11-16 at 16:21 +0100, Borys Jurgiel wrote:
>> >> Hi list,
>> >> 
>> >> I've fixed the .ui file of dxf2shpconverter plugin but I need to `make clean` 
>> >> in order to recompile it. Is there any way to force recompiling? If not, 
>> >> please remember to make clean before building future packages  
>> >> 
>> >> Regards,
>> >> B.
>> >> _______________________________________________
>> >> Qgis-developer mailing list
>> >> Qgis-developer@lists.osgeo.org
>> >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>> 
>> 
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>> 
>> 


From cavallini at faunalia.it  Wed Nov 19 02:10:28 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Nov 19 02:10:37 2008
Subject: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
In-Reply-To: <1227026066.6402.20.camel@timbuntu>
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>	<38BA0130-9A50-4266-9661-AEC43470BD26@me.com>	<1226950210.6409.40.camel@timbuntu>	<e8e7199c0811171324k469dbf3crfc222525fa397ab9@mail.gmail.com>
	<1227026066.6402.20.camel@timbuntu>
Message-ID: <4923BBE4.8000102@faunalia.it>

Tim Sutton ha scritto:


> You can get something like the attached image. In an ideal world we
> should move our QGIS project files to use SLD representations instead of
> QGIS's on devised system. I see some issues with this though as we have
> things like actions that afaik cant be represented in SLD. As a
> compromise it would be nice to be able to use save as... to save out sld
> so that the sld can be used with mapserver / geoserver. Equally it would
> be nice to be able to load symbology for a vector from an sld xml file
> and have all the features therin supported.
> 
> Something to bear in mind anyway since it sounds like your goals might
> converge well with supporting SLD.


Would it be feasible to use SLD or SE as a native project format, and
add QGIS-specific tags (eg for actions) to be ignored by other apps like
MapServer?
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From strk at keybit.net  Wed Nov 19 04:00:12 2008
From: strk at keybit.net (strk)
Date: Wed Nov 19 04:05:38 2008
Subject: [Qgis-developer] PATCH: check gdal version at cmake time
Message-ID: <20081119090012.GB71963@keybit.net>

The attached macro checks that GDAL is at least 
version 1.4.0 or refuses to complete configuration
successfully.

Tests welcome.

Thanks jef for documenting the min requirement :)

--strk;

 ()   ASCII Ribbon Campaign
 /\   Keep it simple! 

-------------- next part --------------
Index: cmake/FindGDAL.cmake
===================================================================
--- cmake/FindGDAL.cmake	(revision 9670)
+++ cmake/FindGDAL.cmake	(working copy)
@@ -49,6 +49,25 @@
     # MESSAGE("DBG GDAL_CONFIG ${GDAL_CONFIG}")
     
     IF (GDAL_CONFIG) 
+
+      ## extract gdal version 
+      EXEC_PROGRAM(${GDAL_CONFIG}
+        ARGS --version
+        OUTPUT_VARIABLE GDAL_VERSION )
+      STRING(REGEX REPLACE "([0-9]+)\\.([0-9]+)\\.([0-9]+)" "\\1" GDAL_VERSION_MAJOR "${GDAL_VERSION}")
+      STRING(REGEX REPLACE "([0-9]+)\\.([0-9]+)\\.([0-9]+)" "\\2" GDAL_VERSION_MINOR "${GDAL_VERSION}")
+  
+      # MESSAGE("DBG GDAL_VERSION ${GDAL_VERSION}")
+      # MESSAGE("DBG GDAL_VERSION_MAJOR ${GDAL_VERSION_MAJOR}")
+      # MESSAGE("DBG GDAL_VERSION_MINOR ${GDAL_VERSION_MINOR}")
+  
+      # check for gdal version
+      # version 1.2.5 is known NOT to be supported (missing CPL_STDCALL macro)
+      # According to INSTALL, 1.4.0+ is required
+      IF (GDAL_VERSION_MAJOR LESS 1 OR GDAL_VERSION_MINOR LESS 4)
+          MESSAGE (FATAL_ERROR "GDAL version is too old (${GDAL_VERSION}). Use 1.4.0 or higher.")
+      ENDIF (GDAL_VERSION_MAJOR LESS 1 OR GDAL_VERSION_MINOR LESS 3)
+
       # set INCLUDE_DIR to prefix+include
       EXEC_PROGRAM(${GDAL_CONFIG}
         ARGS --prefix
From strk at keybit.net  Wed Nov 19 04:23:26 2008
From: strk at keybit.net (strk)
Date: Wed Nov 19 04:23:29 2008
Subject: [Qgis-developer] PATCH: check gdal version at cmake time
In-Reply-To: <20081119090012.GB71963@keybit.net>
References: <20081119090012.GB71963@keybit.net>
Message-ID: <20081119092326.GA72159@keybit.net>

On Wed, Nov 19, 2008 at 10:00:12AM +0100, strk wrote:
> The attached macro checks that GDAL is at least 
> version 1.4.0 or refuses to complete configuration
> successfully.

> +      IF (GDAL_VERSION_MAJOR LESS 1 OR GDAL_VERSION_MINOR LESS 4)
> +          MESSAGE (FATAL_ERROR "GDAL version is too old (${GDAL_VERSION}). Use 1.4.0 or higher.")
> +      ENDIF (GDAL_VERSION_MAJOR LESS 1 OR GDAL_VERSION_MINOR LESS 3)

Patch for the patch :)
the ENDIF should end with 'LESS 4' or cmake complains...

--strk;
From strk at keybit.net  Wed Nov 19 05:22:55 2008
From: strk at keybit.net (strk)
Date: Wed Nov 19 05:22:58 2008
Subject: [Qgis-developer] No error on missing DISPLAY (qgis_unstable 9670)
Message-ID: <20081119102255.GB72159@keybit.net>

I've finally succeeded in building qgis_unstable (rev 9670).

Now, when trying tor un it:

 $ src/apps/qgis
 $ echo $? # nothing shown...
 1

Then figured DISPLAY was missing, exporting DISPLAY
I had a nice popup window telling me what the problem
was, and still returned 1.

It's common for graphical apps to give a nice and friendly
message on console when failing to connect to the display,
where should it happen in qgis ?

Also, trying to debug the issue (before figuring it was
the missing DISPLAY) I tried using QgsDebugMsg right on
entering 'main', but nothing showed up. Is there a command-line
flag to enable debugging ?

--strk;

 ()   ASCII Ribbon Campaign
 /\   Keep it simple! 

From jef at norbit.de  Wed Nov 19 05:43:30 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Nov 19 05:43:38 2008
Subject: [Qgis-developer] No error on missing DISPLAY (qgis_unstable 9670)
In-Reply-To: <20081119102255.GB72159@keybit.net>
References: <20081119102255.GB72159@keybit.net>
Message-ID: <20081119104330.GA16100@norbit.de>

On Wed, 19. Nov 2008 at 11:22:55 +0100, strk wrote:
> It's common for graphical apps to give a nice and friendly
> message on console when failing to connect to the display,
> where should it happen in qgis ?
 
> Also, trying to debug the issue (before figuring it was
> the missing DISPLAY) I tried using QgsDebugMsg right on
> entering 'main', but nothing showed up. Is there a command-line
> flag to enable debugging ?

You need to define QGISDEBUG - setting CMAKE_BUILD_TYPE to Debug does
that.  Otherwise QgsDebugMsg is a nop.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tim at linfiniti.com  Wed Nov 19 14:53:08 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 19 14:54:13 2008
Subject: [Qgis-developer] Re: [Qgis-user] Announcing Qgis-mapper project
In-Reply-To: <4923BBE4.8000102@faunalia.it>
References: <e8e7199c0811170651j311b393aq6d20bdcf55cf2ce0@mail.gmail.com>
	<38BA0130-9A50-4266-9661-AEC43470BD26@me.com>
	<1226950210.6409.40.camel@timbuntu>
	<e8e7199c0811171324k469dbf3crfc222525fa397ab9@mail.gmail.com>
	<1227026066.6402.20.camel@timbuntu>  <4923BBE4.8000102@faunalia.it>
Message-ID: <1227124388.6549.7.camel@timbuntu>

Hi

8<-------------------snip-------------

> 
> Would it be feasible to use SLD or SE as a native project format, and
> add QGIS-specific tags (eg for actions) to be ignored by other apps like
> MapServer?

Probably it should be feasible to do this and will add another notch on
our standards compliance belt if we could do so.

Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081119/b1e22bb6/attachment.bin
From tim at linfiniti.com  Wed Nov 19 15:10:12 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 19 15:11:12 2008
Subject: [Qgis-developer] PATCH: check gdal version at cmake time
In-Reply-To: <20081119092326.GA72159@keybit.net>
References: <20081119090012.GB71963@keybit.net>
	<20081119092326.GA72159@keybit.net>
Message-ID: <1227125412.6549.8.camel@timbuntu>

Hi

Applied as r9672. 

Thanks

On Wed, 2008-11-19 at 10:23 +0100, strk wrote:
> On Wed, Nov 19, 2008 at 10:00:12AM +0100, strk wrote:
> > The attached macro checks that GDAL is at least 
> > version 1.4.0 or refuses to complete configuration
> > successfully.
> 
> > +      IF (GDAL_VERSION_MAJOR LESS 1 OR GDAL_VERSION_MINOR LESS 4)
> > +          MESSAGE (FATAL_ERROR "GDAL version is too old (${GDAL_VERSION}). Use 1.4.0 or higher.")
> > +      ENDIF (GDAL_VERSION_MAJOR LESS 1 OR GDAL_VERSION_MINOR LESS 3)
> 
> Patch for the patch :)
> the ENDIF should end with 'LESS 4' or cmake complains...
> 
> --strk;
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081119/639821d1/attachment.bin
From wonder.sk at gmail.com  Wed Nov 19 15:17:28 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Nov 19 15:19:25 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <1227026702.6402.29.camel@timbuntu>
References: <1226874176.6357.15.camel@timbuntu>
	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
	<1227026702.6402.29.camel@timbuntu>
Message-ID: <e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>

On Tue, Nov 18, 2008 at 5:45 PM, Tim Sutton <tim@linfiniti.com> wrote:
>> I've been doing some tweaks only when I stumble across something, but
>> nothing really systematical. I think we can put a fixed date for API
>> freeze, let's say November 20th?
>
> From the PSC meeting we will temporarily unfreeze trunk to allow
> improved labelling to be added, so I will hold on for API freeze until
> after that - feel free to tweak on if you spot inconistencies in the
> mean time!

When will this happen the inclusion happen? isn't improved labeling
scheduled for 1.1?

Martin
From tim at linfiniti.com  Wed Nov 19 16:28:53 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 19 17:02:17 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>
References: <1226874176.6357.15.camel@timbuntu>
	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
	<1227026702.6402.29.camel@timbuntu>
	<e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>
Message-ID: <1227130133.13540.3.camel@timbuntu>

Hi

On Wed, 2008-11-19 at 21:17 +0100, Martin Dobias wrote:
> On Tue, Nov 18, 2008 at 5:45 PM, Tim Sutton <tim@linfiniti.com> wrote:
> >> I've been doing some tweaks only when I stumble across something, but
> >> nothing really systematical. I think we can put a fixed date for API
> >> freeze, let's say November 20th?
> >
> > From the PSC meeting we will temporarily unfreeze trunk to allow
> > improved labelling to be added, so I will hold on for API freeze until
> > after that - feel free to tweak on if you spot inconistencies in the
> > mean time!
> 
> When will this happen the inclusion happen? isn't improved labeling
> scheduled for 1.1?

It was but the feeling at the PSC meeting was that we should unfreeze
trunk for labelling (not a general unfreeze) and get label collision
detection in before we API freeze and release QGIS 1.0. Still to be
decided who / how we will implement it. I was wondering if we could use
graphics scene collision detection. Do they still have that or was it
lost in move from canvas? We are still hoping for a december release
though not sure if that will be possible...

Regards

Tim


> 
> Martin

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081119/1239f8ba/attachment.bin
From wonder.sk at gmail.com  Wed Nov 19 17:02:56 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Nov 19 17:02:58 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <1227130133.13540.3.camel@timbuntu>
References: <1226874176.6357.15.camel@timbuntu>
	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
	<1227026702.6402.29.camel@timbuntu>
	<e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>
	<1227130133.13540.3.camel@timbuntu>
Message-ID: <e8e7199c0811191402p39693f5ao96c2c0c7682502ab@mail.gmail.com>

On Wed, Nov 19, 2008 at 10:28 PM, Tim Sutton <tim@linfiniti.com> wrote:
>> > From the PSC meeting we will temporarily unfreeze trunk to allow
>> > improved labelling to be added, so I will hold on for API freeze until
>> > after that - feel free to tweak on if you spot inconistencies in the
>> > mean time!
>>
>> When will this happen the inclusion happen? isn't improved labeling
>> scheduled for 1.1?
>
> It was but the feeling at the PSC meeting was that we should unfreeze
> trunk for labelling (not a general unfreeze) and get label collision
> detection in before we API freeze and release QGIS 1.0. Still to be
> decided who / how we will implement it. I was wondering if we could use
> graphics scene collision detection. Do they still have that or was it
> lost in move from canvas? We are still hoping for a december release
> though not sure if that will be possible...

Well... there's practical problem - who will implement it :-) It's not
something that one can develop in two days. There are more problems I
see:
- the release will be shifted again and again. Real release date can
be moved to March or so
- long feature freeze is not good
- we're parting the original idea of frequent releases
I understand that good labeling is quite important but if there isn't
any code, waiting for full (and bug-free) implementation can take
ages. Please re-think this!

And there are even more reasons to release soon - we're on halfway
between 0.11 and 1.0. There's evolving community around python
plugins, people are trying plugins or developing new ones. You can see
that without proper 1.0 release there will be quite some problems with
incompatibility - like nowadays, every few days someone posts a mail
about plugins that are not working because of API changes. 1.0 release
will have checks for incompatible plugins so this problem will go away
quickly.

Regarding your question about graphics scene - yes there is collision
detection. Qt uses BSP tree indexing. But I'm not convinced that it
has be used for labeling. We can use spatial indexing based on R-tree
included in qgis core library. I don't know which one is faster for
this kind of use.

Martin
From jef at norbit.de  Wed Nov 19 16:32:02 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Nov 19 17:06:20 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>
References: <1226874176.6357.15.camel@timbuntu>
	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
	<1227026702.6402.29.camel@timbuntu>
	<e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>
Message-ID: <20081119213202.GB8127@norbit.de>

Hi Martin,

On Wed, 19. Nov 2008 at 21:17:28 +0100, Martin Dobias wrote:
> When will this happen the inclusion happen? isn't improved labeling
> scheduled for 1.1?

FYI the PSC meeting transcript is in
http://logs.qgis.org/slogs/%23qgis.2008-11-17.log


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From wonder.sk at gmail.com  Wed Nov 19 17:48:44 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Nov 19 17:48:46 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <20081119213202.GB8127@norbit.de>
References: <1226874176.6357.15.camel@timbuntu>
	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
	<1227026702.6402.29.camel@timbuntu>
	<e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>
	<20081119213202.GB8127@norbit.de>
Message-ID: <e8e7199c0811191448t51b03756pc35c424b8123008@mail.gmail.com>

On Wed, Nov 19, 2008 at 10:32 PM, J?rgen E. Fischer <jef@norbit.de> wrote:
> Hi Martin,
>
> On Wed, 19. Nov 2008 at 21:17:28 +0100, Martin Dobias wrote:
>> When will this happen the inclusion happen? isn't improved labeling
>> scheduled for 1.1?
>
> FYI the PSC meeting transcript is in
> http://logs.qgis.org/slogs/%23qgis.2008-11-17.log

Thanks, Jef.

I wonder why there are no proceedings from the PSC meeting on qgis
mailing lists... :-/

Martin
From tim at linfiniti.com  Thu Nov 20 03:59:21 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Nov 20 03:59:23 2008
Subject: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <e8e7199c0811191402p39693f5ao96c2c0c7682502ab@mail.gmail.com>
References: <1226874176.6357.15.camel@timbuntu>
	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>
	<1227026702.6402.29.camel@timbuntu>
	<e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>
	<1227130133.13540.3.camel@timbuntu>
	<e8e7199c0811191402p39693f5ao96c2c0c7682502ab@mail.gmail.com>
Message-ID: <d368056f0811200059g681bdc6eqb3a00eef182cc749@mail.gmail.com>

Hi

2008/11/20 Martin Dobias <wonder.sk@gmail.com>:
> On Wed, Nov 19, 2008 at 10:28 PM, Tim Sutton <tim@linfiniti.com> wrote:
>>> > From the PSC meeting we will temporarily unfreeze trunk to allow
>>> > improved labelling to be added, so I will hold on for API freeze until
>>> > after that - feel free to tweak on if you spot inconistencies in the
>>> > mean time!
>>>
>>> When will this happen the inclusion happen? isn't improved labeling
>>> scheduled for 1.1?
>>
>> It was but the feeling at the PSC meeting was that we should unfreeze
>> trunk for labelling (not a general unfreeze) and get label collision
>> detection in before we API freeze and release QGIS 1.0. Still to be
>> decided who / how we will implement it. I was wondering if we could use
>> graphics scene collision detection. Do they still have that or was it
>> lost in move from canvas? We are still hoping for a december release
>> though not sure if that will be possible...
>
> Well... there's practical problem - who will implement it :-) It's not
> something that one can develop in two days. There are more problems I
> see:
> - the release will be shifted again and again. Real release date can
> be moved to March or so
> - long feature freeze is not good
> - we're parting the original idea of frequent releases
> I understand that good labeling is quite important but if there isn't
> any code, waiting for full (and bug-free) implementation can take
> ages. Please re-think this!
>

To make it clear this wasnt my sole personal decision, but a decision
of the PSC. Personally it think whatever we do we are going to make
people unhappy since there are at least the following trains for
thought:

- release now its been too long since 0.11
- release now but postpone API freeze
- dont release now there are too many bugs
etc. etc.

In reality I agree with your statements to some level and would be
more happy to release QGIS 1.0 with stable API in December. However I
also see some merit in the other points of view. You should take this
up on the PSC mailing list suggesting a concrete course of action.


> And there are even more reasons to release soon - we're on halfway
> between 0.11 and 1.0. There's evolving community around python
> plugins, people are trying plugins or developing new ones. You can see
> that without proper 1.0 release there will be quite some problems with
> incompatibility - like nowadays, every few days someone posts a mail
> about plugins that are not working because of API changes. 1.0 release
> will have checks for incompatible plugins so this problem will go away
> quickly.


Once again I agree these are good motivations for a December release.
The discussion on PSC was that the labelling freeze would be lifted
but no extension to release timeline was planned. As you say this
likely means even if labelling does make it into svn by Dec it will be
not well tested. We also need to get clarity on who will implement it
and by when otherwise as you say, we will be sitting in limbo. Lets
take this onto the PSC list and we can discuss further and get some
clarity as to how things will proceed...

>
> Regarding your question about graphics scene - yes there is collision
> detection. Qt uses BSP tree indexing. But I'm not convinced that it
> has be used for labeling. We can use spatial indexing based on R-tree
> included in qgis core library. I don't know which one is faster for
> this kind of use.

Ok thanks for the info.

>
> Martin
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
From b.rowlingson at lancaster.ac.uk  Thu Nov 20 06:04:44 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Thu Nov 20 06:04:47 2008
Subject: [Qgis-developer] Getting some newbie views
Message-ID: <d8ad40b50811200304heac87fbs4fd1c77564b4d0e2@mail.gmail.com>

This week we ran a two-day open-source geospatial course here at
Lancaster, with qgis regulars Jason and Carson helping along with
Virgilio Gomez-Rubio on spatial programming in R and Jo Cook on web
mapping (I just have to get the credits in).

 It was interesting to watch a bunch of Qgis newbies using the package
for the first time. I noticed a few things:

 * Toolbar icons were a bit difficult for them. Possibly because it's
easier during a workshop to say 'click on Layers... New Vector Layer'
than 'the new vector layer icon is that one there with the green
lines...'. With the Grass plugin icons it's a bit worse... Possible
solution would be to start qgis with no toolbars and have everything
from menus. Also, the toolbars can get so cluttered that common tools
aren't visible, and newbies don't know where to look. I ran around the
class a bit dragging the view/zoom toolbar to the right edge. Many
users had no experience configuring a flexible gui like this.

 * Why is the layer list called the 'legend'? Yes, I know it displays
the legend styles for the renderer, but it's more often used for
arranging layers and setting properties. The legend popup menu has a
lot of infrequently-used items - mainly related to the layer grouping
- that add to the clutter and make it hard for beginners to find the
one or two things that might want. Maybe the Save and Save Selection
items could move to the Layer menu. And what are 'File Groups' all
about?

 * "Symbology"? I think ologies put people off. Why not 'Appearance'?
I'm pretty sure that newbies would have trouble figuring this out if
it wasn't the first tab in the dialog!

On the plus side, very few crashes, and this was 28 people running
Qgis 1.0 preview 2 from 6 Windows 2003 Terminal Server machines. They
all got some maps loaded, and most managed Jason's GRASS overlay
exercise. It got a bit slow at one point, but that might have been
another class running in the other lab using the same servers, or
possibly just the size of the raster data - I'm making a new rule that
says demo raster data for workshops cant be more than 512x512! We did
cram a lot into half a day.

 Quite a few people ticked our feedback forms for more Qgis workshops,
and we plugged Gary's book as much as possible! 10% commission please
Gary!

Barry
From cavallini at faunalia.it  Thu Nov 20 13:31:03 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu Nov 20 13:31:08 2008
Subject: [Qgis-psc] Re: [Qgis-developer] Time for 1.0 API freeze
In-Reply-To: <d368056f0811200059g681bdc6eqb3a00eef182cc749@mail.gmail.com>
References: <1226874176.6357.15.camel@timbuntu>	<e8e7199c0811170703x569e496at2d3e11aac79181d5@mail.gmail.com>	<1227026702.6402.29.camel@timbuntu>	<e8e7199c0811191217r35de0c69r804a9999d6becc23@mail.gmail.com>	<1227130133.13540.3.camel@timbuntu>	<e8e7199c0811191402p39693f5ao96c2c0c7682502ab@mail.gmail.com>
	<d368056f0811200059g681bdc6eqb3a00eef182cc749@mail.gmail.com>
Message-ID: <4925ACE7.3070809@faunalia.it>

Tim Sutton ha scritto:

> Once again I agree these are good motivations for a December release.
> The discussion on PSC was that the labelling freeze would be lifted
> but no extension to release timeline was planned. As you say this
> likely means even if labelling does make it into svn by Dec it will be
> not well tested. We also need to get clarity on who will implement it
> and by when otherwise as you say, we will be sitting in limbo. Lets
> take this onto the PSC list and we can discuss further and get some
> clarity as to how things will proceed...

Hi all.
I also agree that delaying the release of 1.0 would not be good for the
project. I suggest if label collision can make it in, all the better,
otherwise do not stop and wait for this.
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From rdmailings at duif.net  Thu Nov 20 15:36:43 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu Nov 20 15:36:52 2008
Subject: [Qgis-developer] TileServer as layer for qgis
Message-ID: <4925CA5B.30306@duif.net>

Hi All,

having looked at Kai Winter's very nice QMapControl 
http://medieninf.de/qmapcontrol/, a QtWidget capable of showing maps 
from different Map Tile services (OpenStreetmap, Yahoo, GoogleMaps), I'm 
wondering what is the best way to have this kind of functionality in 
QGis also. Having the possibility to show an openstreetmap as 
background-map for data availabe in Sperical Mercator, would be a very 
nice feature of qgis (for people generating mapimages, not for hardcore 
gismen?).

I'm aware of Martin's OSM plans, but was not finding it in his plans in 
the short term (http://mapserver.sk/~wonder/swproj/spec.html ??)?

Questions:
- what would be the best way to implement this:
1) incorporating Kai's QMapControl
2) writing it as a Python plugin
3) writing it as a c++ layer/plugin

- is there already some notion in Qgis for 'fixed scales', needed for 
this kind of layers (I think...).

Because I'm not a cpp-dev I thought to start off with a python plugin, 
but get stuck in finding possibilities for painting a tile on a new 
(raster?) layer.

Can somebody give me a hint or some information about different 
possibilities? Or what their opinion if for the best strategy to achieve 
this kind of funcionality?

TIA, Regards,

Richard Duivenvoorde

ps my 2 cent's about releasing 1.0.0 or waiting for the labeling stuff, 
I would vote for a release in december
From wonder.sk at gmail.com  Thu Nov 20 17:42:40 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Nov 20 17:42:41 2008
Subject: [Qgis-developer] TileServer as layer for qgis
In-Reply-To: <4925CA5B.30306@duif.net>
References: <4925CA5B.30306@duif.net>
Message-ID: <e8e7199c0811201442r6a217b54m599a1487168eb7fa@mail.gmail.com>

On Thu, Nov 20, 2008 at 9:36 PM, Richard Duivenvoorde
<rdmailings@duif.net> wrote:
> [...]
>
> I'm aware of Martin's OSM plans, but was not finding it in his plans in the
> short term (http://mapserver.sk/~wonder/swproj/spec.html ??)?

Our plan is to implement support for reading and writing OSM data...
But we're not going to make use of tileservers in the implementation,
so there's nothing in overlap.

> Questions:
> - what would be the best way to implement this:
> 1) incorporating Kai's QMapControl
> 2) writing it as a Python plugin
> 3) writing it as a c++ layer/plugin

That's a tough question. I think that QMapControl does some of the
functionality of our map canvas, so incorporating it as a whole seems
to me like some duplication (but I haven't seen the code). So it looks
more like we could get just some inspiration from it.

So probably the right way would be to improve raster classes (or wms
provider) to support tile servers. But I'm not an expert in raster
stuff, maybe Tim or Peter will have better ideas.


> - is there already some notion in Qgis for 'fixed scales', needed for this
> kind of layers (I think...).

AFAIK there isn't.

Martin
From stefan.hansen at lisasoft.com  Thu Nov 20 22:13:16 2008
From: stefan.hansen at lisasoft.com (Stefan Hansen)
Date: Thu Nov 20 22:22:19 2008
Subject: [Qgis-developer] beta-realease of the os geospatial Live DVD
	"Arramagong"
Message-ID: <4926274C.3020507@lisasoft.com>

Hi all!

LISAsoft just released a new beta-version of the Arramagong Live DVD.
This disk provides the opportunity to try a variety of open source
geospatial applications without the need to install anything new on your
system. It contains for example GeoServer, Mapserver, GRASS, Qgis and
many more.

This Live DVD is based on the Ominiverdi LiveDVD/XUbuntu and includes 
such supporting applications as Apache Web Server, Apache Tomcat 
Application Server, Sun
Java, PostgreSQL and PGAdmin.

Besides the applications the Live DVD provides sample data and sample
configurations and projects for most of the installed applications. A
list of the DVD content can be found here:

http://wiki.osgeo.org/wiki/Arramagong_LiveDVD

The iso-image can be downloaded here:

http://download.osgeo.org/livedvd/Arramagong_v1.0Beta1.iso

The current release is only a beta-version and needs to be tested.
Therefore, it would be great if some of you could play a bit with the
DVD. If you discover any problems, please report them here (We don't
have an issue tracker yet):

http://wiki.osgeo.org/wiki/Arramagong_LiveDVD_issues

We are trying to provide for each geospatial application examples, so
the user can try them immediately. So far, most of our sample projects 
are not really very elaborate and it would be great if someone would 
create for any of the applications something much more impressive with 
the available sample data. Or maybe, you already have some in place for 
Qgis?

One of our goals for the future, is to have all applications, 
configuration and examples as debian packages. This would make creating 
the Live DVD much more easier. Maybe someone already has made a 
Qgis-deb-package or wants to help us creating one?

Anyway, we have set up a mailing list for the Live DVD:

http://lists.osgeo.org/mailman/listinfo/live-demo

So if you are interested, just join it!   :-)

regards,
stefan


--
Stefan Hansen
Software Engineer
LISAsoft

---------------------------------------------------
Ph: +61 3 8680 3200 Fax: +61 3 8680 3299 Mob: +61
Level 9, 601 Bourke St, Melbourne Vic 3000
---------------------------------------------------

LISAsoft is part of the A2end Group of Companies
http://www.ardec.com.au
http://www.lisasoft.com
http://www.terrapages.com


From tim at linfiniti.com  Fri Nov 21 02:15:25 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov 21 02:16:12 2008
Subject: [Qgis-developer] Getting some newbie views
In-Reply-To: <d8ad40b50811200304heac87fbs4fd1c77564b4d0e2@mail.gmail.com>
References: <d8ad40b50811200304heac87fbs4fd1c77564b4d0e2@mail.gmail.com>
Message-ID: <1227251725.18297.10.camel@timbuntu64>

Hi Barry & Crew

Well done on your workshop!


On Thu, 2008-11-20 at 11:04 +0000, Barry Rowlingson wrote:

>  * Toolbar icons were a bit difficult for them. Possibly because it's
> easier during a workshop to say 'click on Layers... New Vector Layer'
> than 'the new vector layer icon is that one there with the green
> lines...'. With the Grass plugin icons it's a bit worse... Possible
> solution would be to start qgis with no toolbars and have everything
> from menus. Also, the toolbars can get so cluttered that common tools
> aren't visible, and newbies don't know where to look. I ran around the
> class a bit dragging the view/zoom toolbar to the right edge. Many
> users had no experience configuring a flexible gui like this.


There are two issues here:

1) the toolbars arent laid out by default because they are defined
programmatically instead of designer. In a future version I will move
them into designer and it should fix that.

2) The icons: Robert Szczepanek is busy making a new great looking
cohesive set of icons that will hopefully give QGIS a more consistent
look and feel. That can only happen post 1.0 though since we are gui
frozen. However even the nicest set of icons in the world wont remove
the need for people to get familiar with them


> 
>  * Why is the layer list called the 'legend'? Yes, I know it displays
> the legend styles for the renderer, but it's more often used for
> arranging layers and setting properties. The legend popup menu has a
> lot of infrequently-used items - mainly related to the layer grouping
> - that add to the clutter and make it hard for beginners to find the
> one or two things that might want. Maybe the Save and Save Selection
> items could move to the Layer menu. And what are 'File Groups' all
> about?

All useful comments and things we can address post 1.0. File groups let
group a bunch of e.g. raster layers into a 'folder' in the legend so
they can be treated as one legend item - e.g. to switch many layers
visibility on/off in one click.



> 
>  * "Symbology"? I think ologies put people off. Why not 'Appearance'?
> I'm pretty sure that newbies would have trouble figuring this out if
> it wasn't the first tab in the dialog!

Sure we could could change this - it just reflects the internal
terminology of singlesymbolrenderer etc...


> 
> On the plus side, very few crashes, and this was 28 people running
> Qgis 1.0 preview 2 from 6 Windows 2003 Terminal Server machines. They
> all got some maps loaded, and most managed Jason's GRASS overlay
> exercise. It got a bit slow at one point, but that might have been
> another class running in the other lab using the same servers, or
> possibly just the size of the raster data - I'm making a new rule that
> says demo raster data for workshops cant be more than 512x512! We did
> cram a lot into half a day.


Sounds good!



> 
>  Quite a few people ticked our feedback forms for more Qgis workshops,
> and we plugged Gary's book as much as possible! 10% commission please
> Gary!
> 


Hopefully that will see Gary's work shoot up the best seller list next
to Dan Brown & co....


Regards

Tim

> Barry
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081121/45af4f5d/attachment.bin
From marco.hugentobler at karto.baug.ethz.ch  Fri Nov 21 03:08:24 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Nov 21 03:08:10 2008
Subject: [Qgis-developer] TileServer as layer for qgis
In-Reply-To: <4925CA5B.30306@duif.net>
References: <4925CA5B.30306@duif.net>
Message-ID: <200811210908.24384.marco.hugentobler@karto.baug.ethz.ch>

Hi Richard

One way to do it is to create a subclasse of QgsRasterDataProvider, similar to 
how it is done for WMS.

> - is there already some notion in Qgis for 'fixed scales', needed for
> this kind of layers (I think...).

I can see two possibilities here:

- don't fix the scale but do a bit of raster scaling to make the images fit to 
the scale. You'll need to try if the images still look nice with the scaling 
(and we have the possibility to 'zoom to best scale'). 

- Fix the scale. This needs some thinking about how to do it in a sound way. 
Because such maps can also be printed or used in 3rd party apps. It could 
probably be done at level QgsMapRenderer.

Regards,
Marco

On Thursday 20 November 2008 21:36:43 Richard Duivenvoorde wrote:
> Hi All,
>
> having looked at Kai Winter's very nice QMapControl
> http://medieninf.de/qmapcontrol/, a QtWidget capable of showing maps
> from different Map Tile services (OpenStreetmap, Yahoo, GoogleMaps), I'm
> wondering what is the best way to have this kind of functionality in
> QGis also. Having the possibility to show an openstreetmap as
> background-map for data availabe in Sperical Mercator, would be a very
> nice feature of qgis (for people generating mapimages, not for hardcore
> gismen?).
>
> I'm aware of Martin's OSM plans, but was not finding it in his plans in
> the short term (http://mapserver.sk/~wonder/swproj/spec.html ??)?
>
> Questions:
> - what would be the best way to implement this:
> 1) incorporating Kai's QMapControl
> 2) writing it as a Python plugin
> 3) writing it as a c++ layer/plugin
>
> - is there already some notion in Qgis for 'fixed scales', needed for
> this kind of layers (I think...).
>
> Because I'm not a cpp-dev I thought to start off with a python plugin,
> but get stuck in finding possibilities for painting a tile on a new
> (raster?) layer.
>
> Can somebody give me a hint or some information about different
> possibilities? Or what their opinion if for the best strategy to achieve
> this kind of funcionality?
>
> TIA, Regards,
>
> Richard Duivenvoorde
>
> ps my 2 cent's about releasing 1.0.0 or waiting for the labeling stuff,
> I would vote for a release in december
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From b.rowlingson at lancaster.ac.uk  Fri Nov 21 03:11:44 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Fri Nov 21 03:11:47 2008
Subject: [Qgis-developer] Getting some newbie views
In-Reply-To: <1227251725.18297.10.camel@timbuntu64>
References: <d8ad40b50811200304heac87fbs4fd1c77564b4d0e2@mail.gmail.com>
	<1227251725.18297.10.camel@timbuntu64>
Message-ID: <d8ad40b50811210011w717dad92p60ffc1214858115a@mail.gmail.com>

2008/11/21 Tim Sutton <tim@linfiniti.com>:
> Hi Barry & Crew
>
> Well done on your workshop!
>
>
> On Thu, 2008-11-20 at 11:04 +0000, Barry Rowlingson wrote:

> 2) The icons: Robert Szczepanek is busy making a new great looking
> cohesive set of icons that will hopefully give QGIS a more consistent
> look and feel. That can only happen post 1.0 though since we are gui
> frozen. However even the nicest set of icons in the world wont remove
> the need for people to get familiar with them

 All true, of course. But for a first-time user you don't want them to
have to get familiar with them. It was getting to the point where our
users were being told to hover over the icon to get the tooltip to see
what it did before clicking. I think it would be much quicker for them
to just find 'New Vector Layer' on the menu. Toolbars and buttons are
great for advanced users, but I think if I run a new user workshop
again I'll set them up initially with no toolbars and introduce them
to them later.

> All useful comments and things we can address post 1.0. File groups let
> group a bunch of e.g. raster layers into a 'folder' in the legend so
> they can be treated as one legend item - e.g. to switch many layers
> visibility on/off in one click.

 I think I wasn't quite clear. The creation of groups of layers is
fine. But when you right-click on a layer in the legend there's a
'show file groups' option, which adds a 'Files' entry to each layer
that expands to show the path to the data file (shapefile, geotiff).
Under what conditions would more than one file appear here?

And if the layer is a PostGIS layer - you see the PostGIS password. I
really don't like that!

> Hopefully that will see Gary's work shoot up the best seller list next
> to Dan Brown & co....

  :)

Barry
From marco.hugentobler at karto.baug.ethz.ch  Fri Nov 21 09:50:42 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Nov 21 09:50:28 2008
Subject: [Qgis-developer] Getting some newbie views
In-Reply-To: <d8ad40b50811210011w717dad92p60ffc1214858115a@mail.gmail.com>
References: <d8ad40b50811200304heac87fbs4fd1c77564b4d0e2@mail.gmail.com>
	<1227251725.18297.10.camel@timbuntu64>
	<d8ad40b50811210011w717dad92p60ffc1214858115a@mail.gmail.com>
Message-ID: <200811211550.42670.marco.hugentobler@karto.baug.ethz.ch>

Hi Barry

>  I think I wasn't quite clear. The creation of groups of layers is
> fine. But when you right-click on a layer in the legend there's a
> 'show file groups' option, which adds a 'Files' entry to each layer
> that expands to show the path to the data file (shapefile, geotiff).
> Under what conditions would more than one file appear here?

The original idea was that if you have two layers and you want them to get the 
same symbology (or appearance if you like), you just drag one file into the 
other layer. And if you then change the symbology of one layer, the symbology 
of the second layer changes too. 

Unfortunately, this only works at the moment if the two layers have the same 
attribute fields (because there could be a classification using an attribute 
field).

I think that it would be possible to apply this mechanism also to layers if 
they have not the same attributes. E.g. for single symbol layers it could be 
quite convenient. But let's wait until feature freeze is over...

> And if the layer is a PostGIS layer - you see the PostGIS password. I
> really don't like that!

Thanks for reporting. It is changed in r9680.

Regards,
Marco




On Friday 21 November 2008 09:11:44 Barry Rowlingson wrote:
> 2008/11/21 Tim Sutton <tim@linfiniti.com>:
> > Hi Barry & Crew
> >
> > Well done on your workshop!
> >
> >
> > On Thu, 2008-11-20 at 11:04 +0000, Barry Rowlingson wrote:
> >
> > 2) The icons: Robert Szczepanek is busy making a new great looking
> > cohesive set of icons that will hopefully give QGIS a more consistent
> > look and feel. That can only happen post 1.0 though since we are gui
> > frozen. However even the nicest set of icons in the world wont remove
> > the need for people to get familiar with them
>
>  All true, of course. But for a first-time user you don't want them to
> have to get familiar with them. It was getting to the point where our
> users were being told to hover over the icon to get the tooltip to see
> what it did before clicking. I think it would be much quicker for them
> to just find 'New Vector Layer' on the menu. Toolbars and buttons are
> great for advanced users, but I think if I run a new user workshop
> again I'll set them up initially with no toolbars and introduce them
> to them later.
>
> > All useful comments and things we can address post 1.0. File groups let
> > group a bunch of e.g. raster layers into a 'folder' in the legend so
> > they can be treated as one legend item - e.g. to switch many layers
> > visibility on/off in one click.
>
>  I think I wasn't quite clear. The creation of groups of layers is
> fine. But when you right-click on a layer in the legend there's a
> 'show file groups' option, which adds a 'Files' entry to each layer
> that expands to show the path to the data file (shapefile, geotiff).
> Under what conditions would more than one file appear here?
>
> And if the layer is a PostGIS layer - you see the PostGIS password. I
> really don't like that!
>
> > Hopefully that will see Gary's work shoot up the best seller list next
> > to Dan Brown & co....
> >
>   :)
>
> Barry
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From carson.farmer at gmail.com  Fri Nov 21 10:20:08 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Fri Nov 21 10:20:13 2008
Subject: [Qgis-developer] Getting some newbie views
In-Reply-To: <d8ad40b50811200304heac87fbs4fd1c77564b4d0e2@mail.gmail.com>
References: <d8ad40b50811200304heac87fbs4fd1c77564b4d0e2@mail.gmail.com>
Message-ID: <4926D1A8.9090604@gmail.com>

Developers,

I just wanted to add a comment to Barry's summary of the course:

1) Under layer properties > General, we have the option to "Chance CRS". 
I think this terminology is potentially misleading for one primary reason:
When a newbie sees this button, they immediately think, "Ah, what a 
handy way to (re) project my data!"
In reality, it doesn't 'change' the coordinates themselves al all, just 
the specification of the CRS. I propose ( for a 1.1 release of course 
;-) ) that this be changed to something like "Define CRS", "Specify 
CRS", or change the abreviation of CRS to the full 'Coordinate Reference 
System". As is, it insinuates more of a change than is actually going 
on. As I'm sure many lecturers and tutors will agree, one of the biggest 
problems when teaching GIS to beginners comes from problems properly 
defining a layers CRS.

I realise that this is a bit of a silly thing to worry about, but I just 
wanted to hear what other people though about this terminology.

Cheers,

Carson
From lami at faunalia.it  Fri Nov 21 12:00:52 2008
From: lami at faunalia.it (Leonardo Lami)
Date: Fri Nov 21 13:00:24 2008
Subject: [Qgis-developer] Bug about custom CRS
Message-ID: <4926E944.60607@faunalia.it>

Hi all,
I'm testing QGIS 0.10 on Debian and I see a bug about manage of the
custom CRS.

In the past version I had a custom projection like this:

+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl
+towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +units=m +no_defs

and I used this like default CRS for the geographical data without
projection file and to reproject on the fly data from an another
proiection system with good result.

In the test vers 1.0 I have this problem:
1) if I set this custom projection like default projection the data is
associated with WGS84 lat long projection
2) if I use this custom projection to make reprojection on the fly, QGIS
automatically use CRS 3003 (EPSG code) instead of my custom projection
with relative errors of projection.

Anyone have similar bugs or know why it happens?

Thank you very much

Leonardo



From b.rowlingson at lancaster.ac.uk  Fri Nov 21 15:18:49 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Fri Nov 21 15:18:52 2008
Subject: [Qgis-developer] repo builder tool
Message-ID: <d8ad40b50811211218y58b28f5dj71f4990fc9eaeed1@mail.gmail.com>

Hi All,
 had a good chat with Carson about building plugin repositories from
code the other day. Seems a common pattern could be:

 1. keep a tagged SVN copy of 'stable' plugins
 2. check out all plugins from that tag
 3. build zip files of plugins
 4. construct the repository xml description
 5. put the zips and xml in the right place.

This could be setup to run nightly or whenever.

 I had a quick go at writing some python utils to help with this. Step
3 is a bit tricky, I've written something to ignore .svn and .pyc
files and produce the .zip. It's done in python because I couldn't get
the zip binary to exclude what I wanted - it's probably easy enough
but I'm impatient and did it in python.

 Step 4 is easy as long as the plugin module __init.py__ doesn't
import anything it can't get in a standalone (non-qgis) environment.
Putting any other imports into the classFactory function is a neat
trick which fixes this. Then the script can get the info it needs out
of the module for the xml file.

 Step 5 could take many forms. I'm thinking of uploading to the same
google code account that I use for SVN. There's a python script for
this kicking around. Others might just need to copy to a
web-accessible directory. I suspect step 5 will be up to the user to
sort out, so I think I'll be developing more of a toolkit than a
complete solution for this.

 If anyone has any more thoughts on this, stick your oar in!

Barry
From wonder.sk at gmail.com  Fri Nov 21 15:37:03 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Nov 21 15:37:06 2008
Subject: [Qgis-developer] repo builder tool
In-Reply-To: <d8ad40b50811211218y58b28f5dj71f4990fc9eaeed1@mail.gmail.com>
References: <d8ad40b50811211218y58b28f5dj71f4990fc9eaeed1@mail.gmail.com>
Message-ID: <e8e7199c0811211237i58a95ed7vac7dce8097e856c6@mail.gmail.com>

Hi Barry,

On Fri, Nov 21, 2008 at 9:18 PM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> Hi All,
>  had a good chat with Carson about building plugin repositories from
> code the other day. Seems a common pattern could be:
>
>  1. keep a tagged SVN copy of 'stable' plugins
>  2. check out all plugins from that tag
>  3. build zip files of plugins
>  4. construct the repository xml description
>  5. put the zips and xml in the right place.

sounds good.

>  I had a quick go at writing some python utils to help with this. Step
> 3 is a bit tricky, I've written something to ignore .svn and .pyc
> files and produce the .zip. It's done in python because I couldn't get
> the zip binary to exclude what I wanted - it's probably easy enough
> but I'm impatient and did it in python.

You could use 'svn export' instead of 'svn checkout' - it will leave
out all SVN specific files.

>  Step 4 is easy as long as the plugin module __init.py__ doesn't
> import anything it can't get in a standalone (non-qgis) environment.
> Putting any other imports into the classFactory function is a neat
> trick which fixes this. Then the script can get the info it needs out
> of the module for the xml file.

Importing the rest of plugin code in classFactory method should be a
general good practise for python plugins. Not only because of this but
also it shouldn't slow down QGIS with unneeded imports on startup if
the plugin isn't enabled.

Anyway, it would be a better idea to keep metadata out of python code
- it's not something that couldn't be stored in a plain text format
with well-defined syntax. There is a potentional security risk if you
allow untrusted people upload plugins to a server and then
automatically read metadata in python - an attacker could run
arbitrary code on the host. But I was young and naive back then when
creating support for python plugins :-)

Martin
From tim at linfiniti.com  Fri Nov 21 11:43:07 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov 21 16:16:26 2008
Subject: [Qgis-developer] beta-realease of the os geospatial Live DVD
	"Arramagong"
In-Reply-To: <4926274C.3020507@lisasoft.com>
References: <4926274C.3020507@lisasoft.com>
Message-ID: <1227285787.27475.1.camel@timbuntu64>

Hi

On Fri, 2008-11-21 at 14:13 +1100, Stefan Hansen wrote:


> One of our goals for the future, is to have all applications, 
> configuration and examples as debian packages. This would make creating 
> the Live DVD much more easier. Maybe someone already has made a 
> Qgis-deb-package or wants to help us creating one?
> 

This was already mentioned offlist, I think, packages are available at
http://download.qgis.org

Great work on building the live dvd!

Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081121/3fd34d10/attachment.bin
From tim at linfiniti.com  Fri Nov 21 17:05:06 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Nov 21 17:05:44 2008
Subject: [Qgis-user] Re: [Qgis-developer] Getting some newbie views
In-Reply-To: <889653.22920.qm@web23104.mail.ird.yahoo.com>
References: <889653.22920.qm@web23104.mail.ird.yahoo.com>
Message-ID: <1227305106.3423.12.camel@timbuntu64>

Hi

On Fri, 2008-11-21 at 15:44 +0000, stefaan dondeyne wrote:
> Hi developers,
>  
> I have been teaching qGIS over the last six months for introducing GIS
> to government staff in Mozambique and I cannot agree more with Carson
> point !!!

>  
> So yes please take that suggestion into account.


As always file tickets in trac. These suggestions are great but we cant
implement them until after 1.0 release. Keeping them in trac will ensure
they dont get lost. Since they are trivial to implement and add a lot to
usability, it will be a pleasure to implement these changes in the next
iteration.



8<----------snip--------------------


Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081122/e6ab3964/attachment.bin
From msieczka at sieczka.org  Sun Nov 23 04:01:24 2008
From: msieczka at sieczka.org (Maciej Sieczka)
Date: Sun Nov 23 04:01:28 2008
Subject: [Qgis-developer] Re: [QGIS Commit] r9685 -
	trunk/qgis/src/core/renderer
In-Reply-To: <20081122213644.894B1E002B8@lists.osgeo.org>
References: <20081122213644.894B1E002B8@lists.osgeo.org>
Message-ID: <49291BE4.7000202@sieczka.org>

svn_qgis@osgeo.org pisze:
> Author: timlinux Date: 2008-11-22 16:36:44 -0500 (Sat, 22 Nov 2008) 
> New Revision: 9685
> 
> Modified: trunk/qgis/src/core/renderer/qgssinglesymbolrenderer.cpp 
> Log: Use 0.1 for default line width instead of 0.4

2 things regarding this change:

1. Currently "Continous color" uses a different outline width than the
other legend types. Shouldn't all use the same?

2. I suggest to default to 0.2 or so rather than 0.1. It's to small for
PDF output. At least on my 1280x800 LCD 0.1 looks bad. 0.2 on the main
map cnavas looks as good as 0.1 and in the PDF output it is much more
readable, while still not too thick.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From tim at linfiniti.com  Sun Nov 23 09:47:15 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Nov 23 09:47:34 2008
Subject: [Qgis-developer] Re: [QGIS Commit] r9685 -
	trunk/qgis/src/core/renderer
In-Reply-To: <49291BE4.7000202@sieczka.org>
References: <20081122213644.894B1E002B8@lists.osgeo.org>
	<49291BE4.7000202@sieczka.org>
Message-ID: <1227451635.19513.1.camel@timbuntu64>

Hi

On Sun, 2008-11-23 at 10:01 +0100, Maciej Sieczka wrote:
> svn_qgis@osgeo.org pisze:
> > Author: timlinux Date: 2008-11-22 16:36:44 -0500 (Sat, 22 Nov 2008) 
> > New Revision: 9685
> > 
> > Modified: trunk/qgis/src/core/renderer/qgssinglesymbolrenderer.cpp 
> > Log: Use 0.1 for default line width instead of 0.4
> 
> 2 things regarding this change:
> 
> 1. Currently "Continous color" uses a different outline width than the
> other legend types. Shouldn't all use the same?

Yes I agree they should....just need to find where this is happening and
I'll set it to 0.2 too. One day I'll make default line widths user
configurable I guess...

> 
> 2. I suggest to default to 0.2 or so rather than 0.1. It's to small for
> PDF output. At least on my 1280x800 LCD 0.1 looks bad. 0.2 on the main
> map cnavas looks as good as 0.1 and in the PDF output it is much more
> readable, while still not too thick.

Done with r9686

Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081123/f03fabb3/attachment.bin
From rdmailings at duif.net  Sun Nov 23 14:31:23 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun Nov 23 14:36:02 2008
Subject: [Qgis-developer] set mapunitsperpixel 
Message-ID: <4929AF8B.4090105@duif.net>

Hi Devs,
doing my first steps in cpp (starting off with a tmsrasterprovider), I 
thought to zoom to a certain scale first (so I do not need to scale the 
tiles).
But HOW is this done?
There is no 'zoomToScale' or 'zoomToMupp' or so.
And trying (using python console) to resize the mapcanvas first to 
512x512 and then zoom to a calculated bounding box of 512*XXX (where XXX 
is the wanted mupp) gives a zoomin/out action, but asking for the 
mapUnitsPerPixel after that does NOT give me XXX? Any thoughts about that?

Another question: in the python console if I do a scale(1), why is the 
map zooming in and out? Shouldn't the bbox stay the same with a 1?

Looking at the qgsrasterlayer and it seems pretty hard bound to the 
wmsrasterprovider. Am I right?

Regards,

Richard Duivenvoorde
From marco.hugentobler at karto.baug.ethz.ch  Sun Nov 23 15:51:02 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Sun Nov 23 15:51:05 2008
Subject: AW: [Qgis-developer] set mapunitsperpixel 
References: <4929AF8B.4090105@duif.net>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF923@EX6.d.ethz.ch>

Hi Richard

One possibility is to find out the scale for the current extent and then set the new extent such that it meets your target scale. You then may set the calculated extent with the method QgsMapRenderer::setExtent (or QgsMapCanvas::setExtent is also possible). You may look how it is done in the class QgsComposerMap::setNewScale.

>Another question: in the python console if I do a scale(1), why is the 
>map zooming in and out? Shouldn't the bbox stay the same with a 1?

In QgsMapCanvas, C++, there are two methods, one zoom(bool) and one zoom(double). In the python bindings, there is only zoom(bool), so zoom(1) means true (zoom in).

>Looking at the qgsrasterlayer and it seems pretty hard bound to the 
>wmsrasterprovider. Am I right?

Yes, there is no other raster provider so far. So it could be that you need to do some changes in the raster classes to implement tmsrasterprovider.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Richard Duivenvoorde
Gesendet: So 23.11.2008 20:31
An: qgis-developer
Betreff: [Qgis-developer] set mapunitsperpixel 
 
Hi Devs,
doing my first steps in cpp (starting off with a tmsrasterprovider), I 
thought to zoom to a certain scale first (so I do not need to scale the 
tiles).
But HOW is this done?
There is no 'zoomToScale' or 'zoomToMupp' or so.
And trying (using python console) to resize the mapcanvas first to 
512x512 and then zoom to a calculated bounding box of 512*XXX (where XXX 
is the wanted mupp) gives a zoomin/out action, but asking for the 
mapUnitsPerPixel after that does NOT give me XXX? Any thoughts about that?

Another question: in the python console if I do a scale(1), why is the 
map zooming in and out? Shouldn't the bbox stay the same with a 1?

Looking at the qgsrasterlayer and it seems pretty hard bound to the 
wmsrasterprovider. Am I right?

Regards,

Richard Duivenvoorde
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Sun Nov 23 17:10:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Nov 23 17:11:01 2008
Subject: [Qgis-developer] set mapunitsperpixel
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF923@EX6.d.ethz.ch>
References: <4929AF8B.4090105@duif.net>
	<04DA676AA276F045B32D0F95783D78440AF923@EX6.d.ethz.ch>
Message-ID: <e8e7199c0811231410q6b5d30b8gd40604d471be982c@mail.gmail.com>

On Sun, Nov 23, 2008 at 9:51 PM, Hugentobler  Marco
<marco.hugentobler@karto.baug.ethz.ch> wrote:
>>Another question: in the python console if I do a scale(1), why is the
>>map zooming in and out? Shouldn't the bbox stay the same with a 1?
>
> In QgsMapCanvas, C++, there are two methods, one zoom(bool) and one zoom(double). In the python bindings, there is only zoom(bool), so zoom(1) means true (zoom in).

Ouch! That's bad. If nobody ojbect, I'll change them to zoomIn(),
zoomOut() and zoomByFactor(double) to avoid this ambiguity.

Martin
From ersts at amnh.org  Sun Nov 23 17:52:26 2008
From: ersts at amnh.org (Peter Ersts)
Date: Sun Nov 23 17:52:37 2008
Subject: [Qgis-developer] TileServer as layer for qgis
In-Reply-To: <200811210908.24384.marco.hugentobler@karto.baug.ethz.ch>
References: <4925CA5B.30306@duif.net>
	<200811210908.24384.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4929DEAA.8040305@amnh.org>

Marco Hugentobler wrote:
> Hi Richard
>
> One way to do it is to create a subclasse of QgsRasterDataProvider, similar to 
> how it is done for WMS.

QgsRasterLayer is still so tightly bound to GDAL, that I agree with 
Marco's suggestion.  The easiest approach is to use the wms provider as 
a guide. The tile provider will basically be responsible for obtaining 
and merging all of the tiles together into one new QImage, which will be 
return by QImage* draw(QgsRectangle, int, int)

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From tim at linfiniti.com  Mon Nov 24 01:46:36 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Nov 24 01:47:13 2008
Subject: [Qgis-developer] set mapunitsperpixel
In-Reply-To: <e8e7199c0811231410q6b5d30b8gd40604d471be982c@mail.gmail.com>
References: <4929AF8B.4090105@duif.net>
	<04DA676AA276F045B32D0F95783D78440AF923@EX6.d.ethz.ch>
	<e8e7199c0811231410q6b5d30b8gd40604d471be982c@mail.gmail.com>
Message-ID: <1227509196.15010.6.camel@timbuntu64>

Hi

On Sun, 2008-11-23 at 23:10 +0100, Martin Dobias wrote:
> On Sun, Nov 23, 2008 at 9:51 PM, Hugentobler  Marco
> <marco.hugentobler@karto.baug.ethz.ch> wrote:
> >>Another question: in the python console if I do a scale(1), why is the
> >>map zooming in and out? Shouldn't the bbox stay the same with a 1?
> >
> > In QgsMapCanvas, C++, there are two methods, one zoom(bool) and one zoom(double). In the python bindings, there is only zoom(bool), so zoom(1) means true (zoom in).
> 
> Ouch! That's bad. If nobody ojbect, I'll change them to zoomIn(),
> zoomOut() and zoomByFactor(double) to avoid this ambiguity.

+1

Regards

Tim

> 
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081124/08fe1358/attachment.bin
From wonder.sk at gmail.com  Mon Nov 24 05:16:30 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Nov 24 05:16:31 2008
Subject: [Qgis-developer] set mapunitsperpixel
In-Reply-To: <1227509196.15010.6.camel@timbuntu64>
References: <4929AF8B.4090105@duif.net>
	<04DA676AA276F045B32D0F95783D78440AF923@EX6.d.ethz.ch>
	<e8e7199c0811231410q6b5d30b8gd40604d471be982c@mail.gmail.com>
	<1227509196.15010.6.camel@timbuntu64>
Message-ID: <e8e7199c0811240216i35177694w5683267798c3f066@mail.gmail.com>

On Mon, Nov 24, 2008 at 7:46 AM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
>> > In QgsMapCanvas, C++, there are two methods, one zoom(bool) and one zoom(double). In the python bindings, there is only zoom(bool), so zoom(1) means true (zoom in).
>>
>> Ouch! That's bad. If nobody ojbect, I'll change them to zoomIn(),
>> zoomOut() and zoomByFactor(double) to avoid this ambiguity.
>
> +1
>

Done in r9691.

Martin
From borys at wolf.most.org.pl  Mon Nov 24 10:52:17 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Mon Nov 24 10:52:21 2008
Subject: [Qgis-developer] QGIS_VERSION of trunk
Message-ID: <200811241652.18043.borys@wolf.most.org.pl>

Hello lists,

As I see, our policy regarding the QGIS_VERSION of trunk is to keep the number 
of the last released version. So now it's still '1.0.0-Kore-preview2'.

However it's bad for plugin devs and users because there is no simple way to 
distinguish plugins designed for last release and for trunk. For example 
there are two versions of fTools: for preview_2 api and for final api. But 
Installer can't choose the proper one (I don't want to introduce revision 
number because it might cause only a mess).

So can we make the trunk version number always a bit higher than the last 
official release:

'1.0.0-Kore-preview2+'
'1.0.0-Kore-dev'
'1.0.0-Kore-trunk'

or even equal to the future release?

'1.0.0-Kore' 

(but I think the last options may be the most controversial)

Regards,
B.
From tim at linfiniti.com  Mon Nov 24 12:33:48 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Nov 24 12:34:02 2008
Subject: [Qgis-developer] Re: [Qgis-community-team] QGIS_VERSION of trunk
In-Reply-To: <200811241652.18043.borys@wolf.most.org.pl>
References: <200811241652.18043.borys@wolf.most.org.pl>
Message-ID: <1227548028.12332.5.camel@timbuntu64>

Hi

Done with r9697. I will try to keep trunk with always a trunk prefix.

Regards

Tim

On Mon, 2008-11-24 at 16:52 +0100, Borys Jurgiel wrote:
> Hello lists,
> 
> As I see, our policy regarding the QGIS_VERSION of trunk is to keep the number 
> of the last released version. So now it's still '1.0.0-Kore-preview2'.
> 
> However it's bad for plugin devs and users because there is no simple way to 
> distinguish plugins designed for last release and for trunk. For example 
> there are two versions of fTools: for preview_2 api and for final api. But 
> Installer can't choose the proper one (I don't want to introduce revision 
> number because it might cause only a mess).
> 
> So can we make the trunk version number always a bit higher than the last 
> official release:
> 
> '1.0.0-Kore-preview2+'
> '1.0.0-Kore-dev'
> '1.0.0-Kore-trunk'
> 
> or even equal to the future release?
> 
> '1.0.0-Kore' 
> 
> (but I think the last options may be the most controversial)
> 
> Regards,
> B.
> _______________________________________________
> Qgis-community-team mailing list
> Qgis-community-team@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-community-team

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081124/52e4a409/attachment.bin
From rdmailings at duif.net  Mon Nov 24 14:47:02 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon Nov 24 14:51:41 2008
Subject: [Qgis-developer] set mapunitsperpixel
In-Reply-To: <e8e7199c0811240216i35177694w5683267798c3f066@mail.gmail.com>
References: <4929AF8B.4090105@duif.net>	<04DA676AA276F045B32D0F95783D78440AF923@EX6.d.ethz.ch>	<e8e7199c0811231410q6b5d30b8gd40604d471be982c@mail.gmail.com>	<1227509196.15010.6.camel@timbuntu64>
	<e8e7199c0811240216i35177694w5683267798c3f066@mail.gmail.com>
Message-ID: <492B04B6.4000101@duif.net>

Thanks Martin,
my strange testing results become clear :-)
NOW it's working as I thought it would...
Regards,
Richard Duivenvoorde

Martin Dobias wrote:
> On Mon, Nov 24, 2008 at 7:46 AM, Tim Sutton <tim@linfiniti.com> wrote:
>> Hi
>>
>>>> In QgsMapCanvas, C++, there are two methods, one zoom(bool) and one zoom(double). In the python bindings, there is only zoom(bool), so zoom(1) means true (zoom in).
>>> Ouch! That's bad. If nobody ojbect, I'll change them to zoomIn(),
>>> zoomOut() and zoomByFactor(double) to avoid this ambiguity.
>> +1
>>
> 
> Done in r9691.
> 
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From msieczka at sieczka.org  Mon Nov 24 17:05:03 2008
From: msieczka at sieczka.org (Maciej Sieczka)
Date: Mon Nov 24 17:05:07 2008
Subject: [Qgis-developer] Re: [QGIS Commit] r9685 -
	trunk/qgis/src/core/renderer
In-Reply-To: <1227451635.19513.1.camel@timbuntu64>
References: <20081122213644.894B1E002B8@lists.osgeo.org>	
	<49291BE4.7000202@sieczka.org>
	<1227451635.19513.1.camel@timbuntu64>
Message-ID: <492B250F.7090704@sieczka.org>

Tim Sutton pisze:
> On Sun, 2008-11-23 at 10:01 +0100, Maciej Sieczka wrote:

>> 1. Currently "Continous color" uses a different outline width than
>> the other legend types. Shouldn't all use the same?
> 
> Yes I agree they should....just need to find where this is happening
> and I'll set it to 0.2 too. One day I'll make default line widths
> user configurable I guess...
> 
>> 2. I suggest to default to 0.2 or so rather than 0.1. It's to small
>> for PDF output. At least on my 1280x800 LCD 0.1 looks bad. 0.2 on
>> the main map cnavas looks as good as 0.1 and in the PDF output it
>> is much more readable, while still not too thick.
> 
> Done with r9686

Thanks Tim for looking into this. Now there are 3 different default
width settings - "Unique Value" uses 0.1, "Continous color" 0.4 and the
other two 0.2 as I suggested. Please unify this id possible. Thanks again.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From carson.farmer at gmail.com  Tue Nov 25 09:49:48 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov 25 09:49:52 2008
Subject: [Qgis-developer] vectordataprovider.rewind() problem?
Message-ID: <492C108C.3020307@gmail.com>

Is anyone else have trouble with QgsVectorDataProvider.rewind() not 
actually rewinding properly?

I'm trying to run through one QgsVectorLayer using while 
providerA.nextFeature(feata): blah blah blah
Then loop through another (in the same function) using 
providerB,nextFeature(featb): blah blah blah... but for some reason it 
won't loop through the second layer at all?

If this sounds confusion I appologies... ideas? This is running on trunk...


Carson
From cavallini at faunalia.it  Tue Nov 25 13:27:04 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Nov 25 13:27:09 2008
Subject: [Qgis-developer] sponsoring
Message-ID: <492C4378.7070404@faunalia.it>

Hi all.
Suggestions for this page will be welcome:
http://qgis.osgeo.org/sponsoring.html
especially suggesting the list of possible use for funds.
Gary, can you find the list of donors?
All the best.
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From msieczka at sieczka.org  Tue Nov 25 14:15:55 2008
From: msieczka at sieczka.org (Maciej Sieczka)
Date: Tue Nov 25 14:15:58 2008
Subject: [Qgis-developer] missing SVN commit emails
Message-ID: <492C4EEB.1040201@sieczka.org>

Every now and then emails fail to arrive QGIS SVN commit ML. Recently
these were emails for commits 9690, 9695, 9701, 9704.

Please fix this if possible. Otherwise it's hard to keep the track of
changes in QGIS source code.

It used to happen couple of times in the past too.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From wonder.sk at gmail.com  Tue Nov 25 14:13:02 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 25 14:16:43 2008
Subject: [Qgis-developer] vectordataprovider.rewind() problem?
In-Reply-To: <492C108C.3020307@gmail.com>
References: <492C108C.3020307@gmail.com>
Message-ID: <e8e7199c0811251113naf98527hb13fcf0d732102c7@mail.gmail.com>

On Tue, Nov 25, 2008 at 3:49 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
> Is anyone else have trouble with QgsVectorDataProvider.rewind() not actually
> rewinding properly?
>
> I'm trying to run through one QgsVectorLayer using while
> providerA.nextFeature(feata): blah blah blah
> Then loop through another (in the same function) using
> providerB,nextFeature(featb): blah blah blah... but for some reason it won't
> loop through the second layer at all?

Hi Carson,

could you please provide a very simple snippet? I don't get the idea
how this all is connected and where .rewind() is being called.

Bye
Martin
From warmerdam at pobox.com  Tue Nov 25 14:27:40 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 25 14:28:11 2008
Subject: [Qgis-developer] missing SVN commit emails
In-Reply-To: <492C4EEB.1040201@sieczka.org>
References: <492C4EEB.1040201@sieczka.org>
Message-ID: <492C51AC.3070008@pobox.com>

Maciej Sieczka wrote:
> Every now and then emails fail to arrive QGIS SVN commit ML. Recently
> these were emails for commits 9690, 9695, 9701, 9704.
> 
> Please fix this if possible. Otherwise it's hard to keep the track of
> changes in QGIS source code.
> 
> It used to happen couple of times in the past too.

Maciek,

I believe these are being filtered out by mailman for exceeding the maximum
email size on the commits list.

I checked and noticed that 9695 was certainly a large commit.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From carson.farmer at gmail.com  Tue Nov 25 15:14:52 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov 25 15:14:59 2008
Subject: [Qgis-developer] vectordataprovider.rewind() problem?
In-Reply-To: <e8e7199c0811251113naf98527hb13fcf0d732102c7@mail.gmail.com>
References: <492C108C.3020307@gmail.com>
	<e8e7199c0811251113naf98527hb13fcf0d732102c7@mail.gmail.com>
Message-ID: <492C5CBC.1060205@gmail.com>

Martin Dobias wrote:
> On Tue, Nov 25, 2008 at 3:49 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
>   
>> Is anyone else have trouble with QgsVectorDataProvider.rewind() not actually
>> rewinding properly?
>>
>> I'm trying to run through one QgsVectorLayer using while
>> providerA.nextFeature(feata): blah blah blah
>> Then loop through another (in the same function) using
>> providerB,nextFeature(featb): blah blah blah... but for some reason it won't
>> loop through the second layer at all?
>>     
>
> Hi Carson,
>
> could you please provide a very simple snippet? I don't get the idea
> how this all is connected and where .rewind() is being called.
>   
Sure!:


        while vproviderA.nextFeature( inFeatA ):
            geom = QgsGeometry( inFeatA.geometry() )
            diffGeom = QgsGeometry( inFeatA.geometry() )
            atMapA = inFeatA.attributeMap()
            intersects = indexA.intersects( geom.boundingBox() )
            if len( intersects ) <= 0:
                outFeat.setGeometry( geom )
                outFeat.setAttributeMap( atMapA )
                tempProvider.addFeatures( [ outFeat ] )
            else:
                for _id in intersects:
                    vproviderB.featureAtId( int( _id ), inFeatB , True, 
allAttrsB )
                    atMapB = inFeatB.attributeMap()
                    if geom.intersects( inFeatB.geometry() ):
                        found = True
                        diffGeom = diffGeom.difference( inFeatB.geometry() )
                        result = geom.intersection( inFeatB.geometry() )
                        outFeat.setGeometry( result )
                        outFeat.setAttributeMap( 
ftools_utils.combineVectorAttributes( atMapA, atMapB ) )
                        tempProvider.addFeatures( [ outFeat ] )
                if found:
                    outFeat.setGeometry( diffGeom )
                    outFeat.setAttributeMap( atMapA )
                    tempProvider.addFeatures( [ outFeat ] )
        length = len( atMapA.values() )
        vproviderB.rewind()
        while vproviderB.nextFeature( inFeatA ):
            geom = QgsGeometry( inFeatA.geometry() )
            atMap = inFeatA.attributeMap().values()
            atMap = dict( zip( range( length, length + len( atMap ) ), 
atMap ) )
            intersects = indexB.intersects( geom.boundingBox() )
            if len(intersects) <= 0:
                outFeat.setGeometry( geom )
                outFeat.setAttributeMap( atMapA )
                tempProvider.addFeatures( [ outFeat ] )
            else:
                for _id in intersects:
                    vproviderA.featureAtId( int( _id ), inFeatB , True, 
allAttrsA )
                    atMapB = inFeatB.attributeMap()
                    if geom.intersects( inFeatB.geometry() ):
                        geom = geom.difference( inFeatB.geometry() )
                outFeat.setGeometry( geom )
                outFeat.setAttributeMap( atMap )
                tempProvider.addFeatures( [ outFeat ] )
        tempLayer.updateExtents()
        return tempLayer

Essentially what all this does, is loop through layerA, and calculates 
differences and intersections with layerB, then loops through layerB, 
and calculates difference with layerA. Technically, I don't even think 
rewind() needs to be called here at all, but then again... it's not 
working that way either?

But what I'm no longer getting, is the interaction through layerB... the 
first bit runs fine, but the second bit won't run... it used too? I'm 
not entirely sure what's going on (abviously) so I'm going to continue 
to look into this using smaller examples to pint point the problem... I 
was really just interested in hearing if others were getting similar 
problems...

Carson

Carson
From msieczka at sieczka.org  Tue Nov 25 15:21:59 2008
From: msieczka at sieczka.org (Maciej Sieczka)
Date: Tue Nov 25 15:22:04 2008
Subject: [Qgis-developer] missing SVN commit emails
In-Reply-To: <492C51AC.3070008@pobox.com>
References: <492C4EEB.1040201@sieczka.org> <492C51AC.3070008@pobox.com>
Message-ID: <492C5E67.3070508@sieczka.org>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> Every now and then emails fail to arrive QGIS SVN commit ML. Recently
>> these were emails for commits 9690, 9695, 9701, 9704.
>>
>> Please fix this if possible. Otherwise it's hard to keep the track of
>> changes in QGIS source code.
>>
>> It used to happen couple of times in the past too.

> I believe these are being filtered out by mailman for exceeding the maximum
> email size on the commits list.
> 
> I checked and noticed that 9695 was certainly a large commit.

Is it possible to trim them, so that at least the commit log and a list 
of changed files remains? To have an idea what and why has changed.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From wonder.sk at gmail.com  Tue Nov 25 15:33:56 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Nov 25 15:33:58 2008
Subject: [Qgis-developer] vectordataprovider.rewind() problem?
In-Reply-To: <492C5CBC.1060205@gmail.com>
References: <492C108C.3020307@gmail.com>
	<e8e7199c0811251113naf98527hb13fcf0d732102c7@mail.gmail.com>
	<492C5CBC.1060205@gmail.com>
Message-ID: <e8e7199c0811251233i1a48dcfdw9724ec651a19d434@mail.gmail.com>

On Tue, Nov 25, 2008 at 9:14 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
> [...]
>       vproviderB.rewind()
>       while vproviderB.nextFeature( inFeatA ):
>           geom = QgsGeometry( inFeatA.geometry() )
> [...]
>
> Essentially what all this does, is loop through layerA, and calculates
> differences and intersections with layerB, then loops through layerB, and
> calculates difference with layerA. Technically, I don't even think rewind()
> needs to be called here at all, but then again... it's not working that way
> either?

But actually have you called vproviderB.select() before calling
vproviderB.nextFeautre()? I don't see it in the code (neither for
vproviderA).

rewind() itself only resets internal counter for iterations with
nextFeature() and without a preceding select() it has no use. In
select() you define what stuff do you want to get from the provider,
by calling rewind() in fact you say you want the same stuff again.

> But what I'm no longer getting, is the interaction through layerB... the
> first bit runs fine, but the second bit won't run... it used too? I'm not
> entirely sure what's going on (abviously) so I'm going to continue to look
> into this using smaller examples to pint point the problem... I was really
> just interested in hearing if others were getting similar problems...

In first bit you use featureAtId() which is independent from the
select/nextFeature/(rewind) combination.

Martin
From warmerdam at pobox.com  Tue Nov 25 16:24:32 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 25 16:25:23 2008
Subject: [Qgis-developer] missing SVN commit emails
In-Reply-To: <492C5E67.3070508@sieczka.org>
References: <492C4EEB.1040201@sieczka.org> <492C51AC.3070008@pobox.com>
	<492C5E67.3070508@sieczka.org>
Message-ID: <492C6D10.3070305@pobox.com>

Maciej Sieczka wrote:
> Is it possible to trim them, so that at least the commit log and a list 
> of changed files remains? To have an idea what and why has changed.

Maciek,

It is possible, but I burned a couple hours on this task and failed and gave
up.  There is an open ticket on the issue at:

   http://trac.osgeo.org/osgeo/ticket/41

Feel free to construct a similar environment (I can provide the
commit-email.pl) and work out a solution.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From carson.farmer at gmail.com  Tue Nov 25 18:48:06 2008
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Nov 25 18:48:26 2008
Subject: [Qgis-developer] vectordataprovider.rewind() problem?
In-Reply-To: <e8e7199c0811251233i1a48dcfdw9724ec651a19d434@mail.gmail.com>
References: <492C108C.3020307@gmail.com>	
	<e8e7199c0811251113naf98527hb13fcf0d732102c7@mail.gmail.com>	
	<492C5CBC.1060205@gmail.com>
	<e8e7199c0811251233i1a48dcfdw9724ec651a19d434@mail.gmail.com>
Message-ID: <492C8EB6.2030301@gmail.com>

Martin Dobias wrote:
> On Tue, Nov 25, 2008 at 9:14 PM, Carson Farmer <carson.farmer@gmail.com> wrote:
>   
>> [...]
>>       vproviderB.rewind()
>>       while vproviderB.nextFeature( inFeatA ):
>>           geom = QgsGeometry( inFeatA.geometry() )
>> [...]
>>
>> Essentially what all this does, is loop through layerA, and calculates
>> differences and intersections with layerB, then loops through layerB, and
>> calculates difference with layerA. Technically, I don't even think rewind()
>> needs to be called here at all, but then again... it's not working that way
>> either?
>>     
>
> But actually have you called vproviderB.select() before calling
> vproviderB.nextFeautre()? I don't see it in the code (neither for
> vproviderA).
>   
Hi Martin,

Sorry I didn't include that in my last email:

        vproviderA = vlayerA.dataProvider()
        allAttrsA = vproviderA.attributeIndexes()
        vproviderA.select( allAttrsA )
and the same goes for vproviderB as well...

> rewind() itself only resets internal counter for iterations with
> nextFeature() and without a preceding select() it has no use. In
> select() you define what stuff do you want to get from the provider,
> by calling rewind() in fact you say you want the same stuff again.
>
>   
>> But what I'm no longer getting, is the interaction through layerB... the
>> first bit runs fine, but the second bit won't run... it used too? I'm not
>> entirely sure what's going on (abviously) so I'm going to continue to look
>> into this using smaller examples to pint point the problem... I was really
>> just interested in hearing if others were getting similar problems...
>>     
>
> In first bit you use featureAtId() which is independent from the
> select/nextFeature/(rewind) combination.
>   
Right, so I shouldn't really have to call rewind() in the first place 
should I?

Carson
From tim at linfiniti.com  Wed Nov 26 01:27:59 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 26 01:28:11 2008
Subject: [Qgis-developer] Re: [QGIS Commit] r9685 -
	trunk/qgis/src/core/renderer
In-Reply-To: <492B250F.7090704@sieczka.org>
References: <20081122213644.894B1E002B8@lists.osgeo.org>
	<49291BE4.7000202@sieczka.org> <1227451635.19513.1.camel@timbuntu64>
	<492B250F.7090704@sieczka.org>
Message-ID: <1227680879.7716.2.camel@timbuntu64>

Hi

On Mon, 2008-11-24 at 23:05 +0100, Maciej Sieczka wrote:

> Thanks Tim for looking into this. Now there are 3 different default
> width settings - "Unique Value" uses 0.1, "Continous color" 0.4 and the
> other two 0.2 as I suggested. Please unify this id possible. Thanks again.
> 

Will do.


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081126/f9d58112/attachment.bin
From tim at linfiniti.com  Wed Nov 26 02:55:26 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 26 02:55:46 2008
Subject: [Qgis-developer] Re: [QGIS Commit] r9685 -
	trunk/qgis/src/core/renderer
In-Reply-To: <492B250F.7090704@sieczka.org>
References: <20081122213644.894B1E002B8@lists.osgeo.org>
	<49291BE4.7000202@sieczka.org> <1227451635.19513.1.camel@timbuntu64>
	<492B250F.7090704@sieczka.org>
Message-ID: <1227686126.7716.4.camel@timbuntu64>

Hi


> Thanks Tim for looking into this. Now there are 3 different default
> width settings - "Unique Value" uses 0.1, "Continous color" 0.4 and the
> other two 0.2 as I suggested. Please unify this id possible. Thanks again.
> 
> Maciek
> 

Done in r9710

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081126/10fca410/attachment.bin
From shotamur at gmail.com  Wed Nov 26 03:32:30 2008
From: shotamur at gmail.com (Shota Murtskhvaladze)
Date: Wed Nov 26 03:32:35 2008
Subject: [Qgis-developer] Re: [Qgis-community-team] QGIS_VERSION of trunk
In-Reply-To: <1227548028.12332.5.camel@timbuntu64>
References: <200811241652.18043.borys@wolf.most.org.pl>
	<1227548028.12332.5.camel@timbuntu64>
Message-ID: <464823f40811260032v41308b88o983cf5e06f281cd7@mail.gmail.com>

Hello everyone

Translating QGIS documentation, one of my my translator found out that some
chapters are missing in QGIS preview 1 documentation package.
May be I made a mistake downloading package.
Can you help me to define the right version of documentation?

Shota


-- 
Shota Murtskhvaladze
Deer Leap Foundation
www.geosocial.blogspot.com
www.dlf.ge
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081126/eda6fcd2/attachment.html
From shotamur at gmail.com  Wed Nov 26 03:34:32 2008
From: shotamur at gmail.com (Shota Murtskhvaladze)
Date: Wed Nov 26 03:34:35 2008
Subject: [Qgis-developer] [Qgis-community-team] QGIS documentation
Message-ID: <464823f40811260034r666f3ce0p4631ecda18d19ca3@mail.gmail.com>

Hello everyone

Translating QGIS documentation, one of my my translator found out that some
chapters are missing in QGIS preview 1 documentation package.
May be I made a mistake downloading package.
Can you help me to define the right version of documentation?

Shota


-- 
???? ???????????
????? "????? ???????"
www.geosocial.blogspot.com
www.dlf.ge
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081126/0e60dcc3/attachment.html
From otto.dassau at gmx.de  Wed Nov 26 04:57:14 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Nov 26 04:59:42 2008
Subject: [Qgis-developer] Re: [Qgis-community-team] QGIS_VERSION of trunk
In-Reply-To: <464823f40811260032v41308b88o983cf5e06f281cd7@mail.gmail.com>
References: <200811241652.18043.borys@wolf.most.org.pl>
	<1227548028.12332.5.camel@timbuntu64>
	<464823f40811260032v41308b88o983cf5e06f281cd7@mail.gmail.com>
Message-ID: <20081126105714.7dd005ba@nature>

Hi, 

what do you mean with "QGIS preview 1 documentation package"? We are still
updating the documentation (manual) in trunk, there is no QGIS 1.0 manual
release available for translation yet. Or do you mean sth. else?

kind regards,
 Otto

On Wed, 26 Nov 2008 12:32:30 +0400
"Shota Murtskhvaladze" <shotamur@gmail.com> wrote:

> Hello everyone
> 
> Translating QGIS documentation, one of my my translator found out that some
> chapters are missing in QGIS preview 1 documentation package.
> May be I made a mistake downloading package.
> Can you help me to define the right version of documentation?
> 
> Shota
> 
> 
From wonder.sk at gmail.com  Wed Nov 26 05:50:55 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Nov 26 05:50:57 2008
Subject: [Qgis-developer] vectordataprovider.rewind() problem?
In-Reply-To: <492C8EB6.2030301@gmail.com>
References: <492C108C.3020307@gmail.com>
	<e8e7199c0811251113naf98527hb13fcf0d732102c7@mail.gmail.com>
	<492C5CBC.1060205@gmail.com>
	<e8e7199c0811251233i1a48dcfdw9724ec651a19d434@mail.gmail.com>
	<492C8EB6.2030301@gmail.com>
Message-ID: <e8e7199c0811260250k6d5acc64xf4b318d2d50c6e26@mail.gmail.com>

On Wed, Nov 26, 2008 at 12:48 AM, Carson Farmer <carson.farmer@gmail.com> wrote:
>
> Sorry I didn't include that in my last email:
>
>       vproviderA = vlayerA.dataProvider()
>       allAttrsA = vproviderA.attributeIndexes()
>       vproviderA.select( allAttrsA )
> and the same goes for vproviderB as well...

Ok...

>> In first bit you use featureAtId() which is independent from the
>> select/nextFeature/(rewind) combination.
>>
>
> Right, so I shouldn't really have to call rewind() in the first place should
> I?

Yup, it's not necessary to call rewind().

So, you say that for vproviderB, if you do:

vproviderB.select( ... )
while vproviderB.nextFeature(f):
  # do something

it exits the while block immediately without reading any features?

Martin
From tim at linfiniti.com  Wed Nov 26 06:23:34 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 26 06:23:53 2008
Subject: [Qgis-developer] sponsoring
In-Reply-To: <492C4378.7070404@faunalia.it>
References: <492C4378.7070404@faunalia.it>
Message-ID: <1227698614.7716.50.camel@timbuntu64>

Skipped content of type multipart/mixed-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081126/e516794d/attachment-0001.bin
From cavallini at faunalia.it  Wed Nov 26 11:58:31 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Nov 26 11:59:07 2008
Subject: [Qgis-developer] [Fwd: Re: [postgis-users] Integer (PostGIS) fields
 become real in QGIS!]
Message-ID: <492D8037.7090703@faunalia.it>

FYI
All the best.
pc

-------- Messaggio Originale  --------
Oggetto: Re: [postgis-users] Integer (PostGIS) fields become real in QGIS!
Data: Wed, 26 Nov 2008 08:47:09 -0800
Da: Paul Ramsey <pramsey@cleverelephant.ca>


Tell the QGIS developers to expand their notion of an int to 11
digits. The whole problem is the mismatch between formal typing in
C/C++ (integer, float, double) and the "typing" used in DBF headers
(number(n,m)). QGIS interprets anything over 10 digits as float so
that it doesn't accidentally bust an integer register trying to load
10B into an int. The reason PostGIS uses 11 digits is because valid
*negative* integers, like -1B require 11 digits.

Sorry,

P

On Wed, Nov 26, 2008 at 7:01 AM, Vito Meuli
<v.meuli@tecnologieavanzate.it> wrote:
> Hi!
> I'm using shapefile exported from PostGIS using pgsql2shp.
> But QGIS takes the integer fields as they were real!
>
> I've tryed different version of PostGIS, and something changed: integer=int4
> become a 16 digit precision in a shapefile exported using PostGIS 1.0.6, and
> a 11 digit precision using PostGIS 1.3.3...
> What a pity, it seems that an integer remains an integer if it is 10 digit
> precision!
>
> It's not better if I use smallint instead of int4: pgsql2shp acts the same
> way.
>
> If I export shapefiles from PostGIS using QGIS directly, all goes well and the
> int4 remain integer.
>
> Is there some other way to extract shapefile using a shell (Linux) script and
> letting them have integer fields of 10 digit precision?
___________________________________________
postgis-users mailing list
postgis-users@postgis.refractions.net
http://postgis.refractions.net/mailman/listinfo/postgis-users

-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From jef at norbit.de  Wed Nov 26 12:12:13 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Nov 26 12:12:20 2008
Subject: [Qgis-developer] [Fwd: Re: [postgis-users] Integer (PostGIS)
	fields become real in QGIS!]
In-Reply-To: <492D8037.7090703@faunalia.it>
References: <492D8037.7090703@faunalia.it>
Message-ID: <20081126171213.GD3328@norbit.de>

Hi Paolo,

On Wed, 26. Nov 2008 at 17:58:31 +0100, Paolo Cavallini wrote:
> Oggetto: Re: [postgis-users] Integer (PostGIS) fields become real in QGIS!
> Data: Wed, 26 Nov 2008 08:47:09 -0800
> Da: Paul Ramsey <pramsey@cleverelephant.ca>

> Tell the QGIS developers to expand their notion of an int to 11
> digits.

Looks like the guy was crossposting to qgis-user:  I replied there, that
this is an OGR issue: http://trac.osgeo.org/gdal/ticket/809 


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From warmerdam at pobox.com  Wed Nov 26 16:35:32 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 26 16:36:08 2008
Subject: [Qgis-developer] sponsoring
In-Reply-To: <1227698614.7716.50.camel@timbuntu64>
References: <492C4378.7070404@faunalia.it>
	<1227698614.7716.50.camel@timbuntu64>
Message-ID: <492DC124.30402@pobox.com>

Tim Sutton wrote:
> I think we should have:
...

 > In particular we would like to fund the following project activities:

Tim / Paolo,

I like the description of things to fund!  In addition to providing
examples of the sorts of things you hope to fund, I'd suggest making
it clear that the project PSC will use the funds as it sees appropriate.

> We accept two kinds of financial contributions:
> 
>  * sponsorships
>  * donations
> 
> A sponsorship is an annual commitment of funds to the project.
> Sponsorships can be cancelled at any time, but while a sponsorship is
> active, the sponsor will enjoy some marketing exposure via the QGIS
> project web and print medium properties. We regret no advertising will
> be placed within the QGIS application itself. We provide the following
> levels of sponsorship opportunity:
> 
>   Platinum sponsors: $1500 or more per annum
> 
>   <logo placed on rotating banner on front page of qgis.org>
> 
>   Gold sponsors: $1000 per annum
> 
>   <list of sponsors and logo displayed on sponsors page at e.g. 300x200>
> 
>   Silver sponsors: $500 per annum
> 
>   <list of sponsors and logo displayed on sponsors page e.g. 150x100>
> 
>   Bronze sponsors: $250 per annum
> 
>   <list of sponsors and logo displayed on sponsors page at e.g. 64x64>

I like the above, but I think the levels are too low.  I assume sponsorship
is aimed at organizations more so than individuals, right?  I think, in
light of the amounts of money you might hope to eventually collect, and
the amounts of money an organization is likely to commit that you should
raise the levels substantially.  Perhaps something more like
25000/10000/2500/500, or 27000/9000/3000 like the OSGeo defined Project
Sponsorship levels.

Which raises the issue that I'd like QGIS to consider whether it wants
to collect and administer money itself, or through OSGeo.  If through
OSGeo the defined mechanism is the Project Sponsorship program at:

   http://wiki.osgeo.org/wiki/Project_Sponsorship

A point to note is that 25% of money administered by OSGeo is treated
as a general contribution to the foundation while the other 75% is kept
as project specific reserved funds, only to be spent by direction of
the project PSC.   There may be concerns amount some contributors, or
in the project itself about this arrangement.

OSGeo is not interested in waiving this arrangement at this time,
partly because there are very concrete costs to OSGeo administering
funds (collecting and dispersing).   Also, keep in mind that OSGeo
in turn attempts to provide some cross project services out of
general revenues, such as hosted systems for svn, trac, etc.

I would stress that I'm not saying that the QGIS project cannot
collect and administer it's own funds.  I'm just saying if you would
like OSGeo to take care of the funds then it needs to be done within
the currently available mechanisms.

> Donors:
...
> Please use the PayPal link provided on this site if you are able to
> contribute. Even a small donation can make a big difference!

I assume donors are aimed at small payments from individuals.  I must confess
that OSGeo is not currently not able to practically accept small payments from
individuals through the project sponsorship program.  Mostly this boils down
to the accounting overhead involved.  Potentially an individual on the QGIS
team could administer a Paypal account to accept qgis contributions, and
then submit pass them on to OSGeo in bulk (perhaps quarterly).

As a general note, QGIS may find it helpful to consider the project
sponsorship approaches of a few other projects:

   http://openlayers.org/sponsorship/
   http://www.gdal.org/sponsorship.html

Best regards,
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pramsey at cleverelephant.ca  Wed Nov 26 17:43:21 2008
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Wed Nov 26 17:43:26 2008
Subject: [Qgis-developer] Toronto Code Sprint
Message-ID: <30fe546d0811261443y19128a7fg486fe84afa4969fb@mail.gmail.com>

A reminder, if you're interested in joining a winter code sprint in
Toronto, please sign up at the wiki page:

http://wiki.osgeo.org/wiki/Toronto_Code_Sprint_2009

Knowing tentative numbers will help us plan better.  We're also
looking for sponsors to keep the troops fed and watered.

P.
From robert at szczepanek.pl  Wed Nov 26 18:33:51 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Wed Nov 26 18:33:49 2008
Subject: [Qgis-developer] icons
In-Reply-To: <1226785782.6585.68.camel@timbuntu>
References: <47E8A8CE.4080508@faunalia.it>	
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>	
	<47E8CB9E.8080000@faunalia.it> <20504589.post@talk.nabble.com>
	<1226785782.6585.68.camel@timbuntu>
Message-ID: <492DDCDF.4000709@szczepanek.pl>

First, complete version of all standard toolbar icons is ready.
http://robert.szczepanek.pl/icons.php

regards,
-- 
Robert Szczepanek
From tim at linfiniti.com  Wed Nov 26 23:55:49 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 26 23:56:05 2008
Subject: [Qgis-developer] sponsoring
In-Reply-To: <492DC124.30402@pobox.com>
References: <492C4378.7070404@faunalia.it>
	<1227698614.7716.50.camel@timbuntu64>  <492DC124.30402@pobox.com>
Message-ID: <1227761749.6668.7.camel@timbuntu64>

Hi

On Wed, 2008-11-26 at 16:35 -0500, Frank Warmerdam wrote:
> Tim Sutton wrote:
> > I think we should have:
> ...
> 
>  > In particular we would like to fund the following project activities:
> 
> Tim / Paolo,
> 
> I like the description of things to fund!  In addition to providing
> examples of the sorts of things you hope to fund, I'd suggest making
> it clear that the project PSC will use the funds as it sees appropriate.
> 


Agreed this is very important otherwise we will paint ourselves into a
corner and have money that we can't use for things we want to use.

> > We accept two kinds of financial contributions:
> > 
> >  * sponsorships
> >  * donations
> > 
> > A sponsorship is an annual commitment of funds to the project.
> > Sponsorships can be cancelled at any time, but while a sponsorship is
> > active, the sponsor will enjoy some marketing exposure via the QGIS
> > project web and print medium properties. We regret no advertising will
> > be placed within the QGIS application itself. We provide the following
> > levels of sponsorship opportunity:
> > 
> >   Platinum sponsors: $1500 or more per annum
> > 
> >   <logo placed on rotating banner on front page of qgis.org>
> > 
> >   Gold sponsors: $1000 per annum
> > 
> >   <list of sponsors and logo displayed on sponsors page at e.g. 300x200>
> > 
> >   Silver sponsors: $500 per annum
> > 
> >   <list of sponsors and logo displayed on sponsors page e.g. 150x100>
> > 
> >   Bronze sponsors: $250 per annum
> > 
> >   <list of sponsors and logo displayed on sponsors page at e.g. 64x64>
> 
> I like the above, but I think the levels are too low.  I assume sponsorship
> is aimed at organizations more so than individuals, right?  I think, in
> light of the amounts of money you might hope to eventually collect, and
> the amounts of money an organization is likely to commit that you should
> raise the levels substantially.  Perhaps something more like
> 25000/10000/2500/500, or 27000/9000/3000 like the OSGeo defined Project
> Sponsorship levels.
> 

As discussed on IRC, I agree with you, my initial figures were just
thumbsucks.


> Which raises the issue that I'd like QGIS to consider whether it wants
> to collect and administer money itself, or through OSGeo.  If through
> OSGeo the defined mechanism is the Project Sponsorship program at:
> 
>    http://wiki.osgeo.org/wiki/Project_Sponsorship
> 
> A point to note is that 25% of money administered by OSGeo is treated
> as a general contribution to the foundation while the other 75% is kept
> as project specific reserved funds, only to be spent by direction of
> the project PSC.   There may be concerns amount some contributors, or
> in the project itself about this arrangement.
> 
> OSGeo is not interested in waiving this arrangement at this time,
> partly because there are very concrete costs to OSGeo administering
> funds (collecting and dispersing).   Also, keep in mind that OSGeo
> in turn attempts to provide some cross project services out of
> general revenues, such as hosted systems for svn, trac, etc.
> 
> I would stress that I'm not saying that the QGIS project cannot
> collect and administer it's own funds.  I'm just saying if you would
> like OSGeo to take care of the funds then it needs to be done within
> the currently available mechanisms.
> 
> > Donors:
> ...
> > Please use the PayPal link provided on this site if you are able to
> > contribute. Even a small donation can make a big difference!
> 
> I assume donors are aimed at small payments from individuals.  I must confess
> that OSGeo is not currently not able to practically accept small payments from
> individuals through the project sponsorship program.  Mostly this boils down
> to the accounting overhead involved.  Potentially an individual on the QGIS
> team could administer a Paypal account to accept qgis contributions, and
> then submit pass them on to OSGeo in bulk (perhaps quarterly).
> 

These latter issues I think its better for Paolo to think about and come
to the PSC with a plan of action of how to proceed.




> As a general note, QGIS may find it helpful to consider the project
> sponsorship approaches of a few other projects:
> 
>    http://openlayers.org/sponsorship/
>    http://www.gdal.org/sponsorship.html


Great thanks!


Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081127/cd28952d/attachment.bin
From tim at linfiniti.com  Thu Nov 27 15:26:39 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Nov 27 15:26:57 2008
Subject: [Qgis-developer] icons
In-Reply-To: <492DDCDF.4000709@szczepanek.pl>
References: <47E8A8CE.4080508@faunalia.it>
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>
	<47E8CB9E.8080000@faunalia.it>  <20504589.post@talk.nabble.com>
	<1226785782.6585.68.camel@timbuntu>  <492DDCDF.4000709@szczepanek.pl>
Message-ID: <1227817599.23708.37.camel@timbuntu64>

Hi Robert

I installed your icons. Generally they are improved over the previous
edition - especially the contrast is better so they 'pop' out more. A
couple more detailed comments.

- New project icon - great
- load / save / save as icons - getting more used to them now - I like
the design but not sure if it wonders too far away from the familiar
floppy disk icon.
- map composer icon - great
- add vector layer icon - the previous edition way of representing a
vector with little nodes on it was for me nicer than this version
- add raster icon - great - looks much better than previous version
- add db layer icon - looks great
- add wms layer icon - it looks good but I'm not sure if its intuitive
as users may mistake it for being something to do with pie charts
- add gps layer icon (from plugin) - not themed
- add sfw icon (from plugin) - not themed
- new vector layer icon - icon is nice but same comments apply as add
vector layer icon - I like your previous representation of a vector more
- remove layer icon - great
- add to overview icon - great
- hide show icons - great
- core plugin icons - not themed
- identify icon - great
- select icon - great
- attribute table - really nice
- measure icons - great
- maptips icon - great
- show and add bookmark icons - they look nice but I'm not sure if the
functionality they represent is easily recognisable
- pan / zoom icons - much better. The previous icon set's  navigation
icons you did I found quite innovative to represent zoom using distorted
vectors, but they require more work to recognise. This version is more
conservative in its representation but instantly recognisable. The
contrast is much better too. My only suggestion is to use for the
magnifying glass handles the more orangy colour from (around about
#c2a524 rather than the more dirty yellow colour a4a413)
- editing icons - all great. My only suggestion is for the move vertex
icon to use a 4-way arrow subicon rather.
- copy and paste icons - for me these icons were the weakest. They dont
seem in keeping with the rest of the icons for me and the cut icon I
think would be better with the (clich? I know) scissors overlaid on it
to make it clear what it is for. The yellow colour is for me too soft (I
think #fbe84f might work better) and for me the clipboard looks too
large compared to the other icons on the toolbar.


In summary though I must say wow! Its a great set of icons and with your
permission I will add them as a 4th theme in the shipping QGIS 1.0. I
will also look at resolving the issues of them not loading properly when
not used as the default theme.

If others agree, I will propose that we move completely to your icon
theme in QGIS 2.0 (or some 1.x version). I was planning to move to svg
icons only for 2.0 but if I recall correctly you already did them in svg
and just rendered out to png right? If we are planning ahead to get qgis
2.0 (or even some 1.x version) using your icons as default, it would be
great to have the core plugins and other miscellanious icons themed too.
Lastly it would be nice to have some kind of guide available to
developers so that their 3rd party plugins can appear in QGIS in a way
that is consistent with the existing icons.


Regards

Tim





On Thu, 2008-11-27 at 00:33 +0100, Robert Szczepanek wrote:
> First, complete version of all standard toolbar icons is ready.
> http://robert.szczepanek.pl/icons.php
> 
> regards,


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Visit http://linfiniti.com to find out about:
 * QGIS programming services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting & Support Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
==============================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081127/3808d2cc/attachment.bin
From robert at szczepanek.pl  Thu Nov 27 17:14:54 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Thu Nov 27 17:14:49 2008
Subject: [Qgis-developer] icons
In-Reply-To: <1227817599.23708.37.camel@timbuntu64>
References: <47E8A8CE.4080508@faunalia.it>	
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>	
	<47E8CB9E.8080000@faunalia.it> <20504589.post@talk.nabble.com>	
	<1226785782.6585.68.camel@timbuntu>
	<492DDCDF.4000709@szczepanek.pl>
	<1227817599.23708.37.camel@timbuntu64>
Message-ID: <492F1BDE.90906@szczepanek.pl>

Hi Tim,

> - add vector layer icon - the previous edition way of representing a
> vector with little nodes on it was for me nicer than this version

The goal was to shape 'vector' in 'v' letter, to make it recognizable at 
once. But you are right - with nodes it can look better.

> - add wms layer icon - it looks good but I'm not sure if its intuitive
> as users may mistake it for being something to do with pie charts
> - add sfw icon (from plugin) - not themed
There is problem with this group of icons. They are not standarized, or 
at least I couldn't find them. This set will increase in future, so 
symbols should be 'scalable'.
The most interesting framework I found here:
http://www.analygis.com/Services/index.htm
Earth as basic shape, and 1/4 of shape for details/services:
- paper (map) for WMS
- gear wheel(settings) for WFS 
(http://icons.iconarchive.com/icons/iconica/pastel/settings-icon.jpg)
This way we will have consistent WxS set with space in the center of 
layer for other details.

 > - add gps layer icon (from plugin) - not themed

Both WFS and GPS icons are ready, but I decided not to include at this 
stage any plugin icon.

> - core plugin icons - not themed
Could you please specify them.

> - show and add bookmark icons - they look nice but I'm not sure if the
> functionality they represent is easily recognisable
My first idea was to use sort of bookmark from Firefox - star sign
http://www.brothersoft.com/icon/turbo_favorites_checker-110499.png
But this is very similar to create/new action sign and has no spatial 
context. I left only yellow color and added bookmark to 'region'.

> - pan / zoom icons - much better. The previous icon set's  navigation
> icons you did I found quite innovative to represent zoom using distorted
> vectors, but they require more work to recognise. This version is more
> conservative in its representation but instantly recognisable. The
> contrast is much better too. My only suggestion is to use for the
> magnifying glass handles the more orangy colour from (around about
> #c2a524 rather than the more dirty yellow colour a4a413)
Will try it.

> - editing icons - all great. My only suggestion is for the move vertex
> icon to use a 4-way arrow subicon rather.
Don't agree.
1. There is no space in action part of icon.
2. It will look the same as pan.
But I will prepare also this version and we will decide. Who knows ...

> - copy and paste icons - for me these icons were the weakest. 

You are right. It was the last point done late night :)

> In summary though I must say wow! Its a great set of icons and with your
> permission I will add them as a 4th theme in the shipping QGIS 1.0. I
> will also look at resolving the issues of them not loading properly when
> not used as the default theme.

In next versions of QGIS I hope to help you with naming specification.
http://standards.freedesktop.org/icon-naming-spec/icon-naming-spec-latest.html
Both from icons side and coding part.

> If others agree, I will propose that we move completely to your icon
> theme in QGIS 2.0 (or some 1.x version). I was planning to move to svg
> icons only for 2.0 but if I recall correctly you already did them in svg
> and just rendered out to png right? 

This is one day to split it into separate files, as all icons I have in 
layers in one svg file.

> If we are planning ahead to get qgis
> 2.0 (or even some 1.x version) using your icons as default, it would be
> great to have the core plugins and other miscellanious icons themed too.
Sure, I'm ready for that.

> Lastly it would be nice to have some kind of guide available to
> developers so that their 3rd party plugins can appear in QGIS in a way
> that is consistent with the existing icons.
I will prepare icon design tutorial for Inkscape, but let me first 
complete similar icon set for GRASS. As GRASS was source of my idea, and 
QGIS his younger brother definitely easier to equipe with icons :].

Thank you Tim for time you spent on very detailed description of every icon.
I will prepare better(?) version within next few days, so if any of you 
have more comments please let us/me know.

best regards,
-- 
Robert Szczepanek
From rdmailings at duif.net  Fri Nov 28 03:20:08 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri Nov 28 03:20:14 2008
Subject: [Qgis-developer] icons
In-Reply-To: <492DDCDF.4000709@szczepanek.pl>
References: <47E8A8CE.4080508@faunalia.it>		<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>		<47E8CB9E.8080000@faunalia.it>
	<20504589.post@talk.nabble.com>	<1226785782.6585.68.camel@timbuntu>
	<492DDCDF.4000709@szczepanek.pl>
Message-ID: <492FA9B8.9000303@duif.net>

Hi Robert,
I installed you icons, and to be honest, often I'm pretty conservative 
about changes in icons... But this is different :-)
Really like your icons! Please keep up this good work!
Regards,
Richard Duivenvoorde

Robert Szczepanek wrote:
> First, complete version of all standard toolbar icons is ready.
> http://robert.szczepanek.pl/icons.php
> 
> regards,

From wonder.sk at gmail.com  Fri Nov 28 08:45:39 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Nov 28 08:45:41 2008
Subject: [Qgis-developer] icons
In-Reply-To: <492DDCDF.4000709@szczepanek.pl>
References: <47E8A8CE.4080508@faunalia.it>
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>
	<47E8CB9E.8080000@faunalia.it> <20504589.post@talk.nabble.com>
	<1226785782.6585.68.camel@timbuntu> <492DDCDF.4000709@szczepanek.pl>
Message-ID: <e8e7199c0811280545g1a19bf5bi4e6a2fdb78241d6@mail.gmail.com>

Hi Robert,

I also like your icons, good work. I'm currently working from time to
time on PostGIS manager plugin for QGIS and it's still lacking any
toolbar icons, so I've decided to use yours. I've done some simple
editing and created derived icons (create / edit / delete table,
import/export data). Looks much better now, results to be seen in next
release (soon).

Regards
Martin


On Thu, Nov 27, 2008 at 12:33 AM, Robert Szczepanek
<robert@szczepanek.pl> wrote:
> First, complete version of all standard toolbar icons is ready.
> http://robert.szczepanek.pl/icons.php
>
> regards,
> --
> Robert Szczepanek
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From robert at szczepanek.pl  Fri Nov 28 14:16:46 2008
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Fri Nov 28 14:16:39 2008
Subject: [Qgis-developer] icons
In-Reply-To: <e8e7199c0811280545g1a19bf5bi4e6a2fdb78241d6@mail.gmail.com>
References: <47E8A8CE.4080508@faunalia.it>	
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>	
	<47E8CB9E.8080000@faunalia.it> <20504589.post@talk.nabble.com>	
	<1226785782.6585.68.camel@timbuntu>
	<492DDCDF.4000709@szczepanek.pl>
	<e8e7199c0811280545g1a19bf5bi4e6a2fdb78241d6@mail.gmail.com>
Message-ID: <4930439E.4040702@szczepanek.pl>

Hi Martin,

> I also like your icons, good work. I'm currently working from time to
> time on PostGIS manager plugin for QGIS and it's still lacking any
> toolbar icons, so I've decided to use yours. I've done some simple
> editing and created derived icons (create / edit / delete table,
> import/export data). Looks much better now, results to be seen in next
> release (soon).
> 
> Regards
> Martin

I plan to make source svg available, but at the moment this is more my 
sketch-book. So not very useful.
If you want I can send you this file. It will be easier for you to work. 
Just let me know.

Richard and Martin - thanks for  support.

sincerely
-- 
Robert Szczepanek
From b.rowlingson at lancaster.ac.uk  Fri Nov 28 14:53:53 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Fri Nov 28 14:53:55 2008
Subject: [Qgis-developer] raster algebra plugin II - the return!
Message-ID: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>

Hi all,
 my old raster algebra plugin was a bit creaky and limited in its
functionality. I think it was the second plugin I wrote and it shows.

 So after someone emailed me to say they were actually using it, I
figured I should put some time into its successor.

 What I'm doing is writing a parser for a mini-language for raster
processing. So you can write something like:

 (max(R1)-min(R1)) * sqrt(R1*R1 + R2*R2)

 and get a new raster with the computed values in.

 R1 and R2 (and R3 up to Rn) will be raster bands (old rasteralgebra
only liked single-band rasters) and the range of available functions
and operators will be taken from things that python's numpy module
provides for array operations (and that make sense as geo-rasters).

 For the gui I think I'll have some way of defining raster bands as R1
to Rn, and then an input line for the expression and a file to save
the result. As before, all rasters will need to be the same size and
spatial location.

 Anyone got any suggestions/requests for this?

Barry
From Sjur.A.Kolberg at sintef.no  Fri Nov 28 16:45:41 2008
From: Sjur.A.Kolberg at sintef.no (Kolberg Sjur A)
Date: Fri Nov 28 16:45:46 2008
Subject: [Qgis-developer] raster algebra plugin II - the return!
In-Reply-To: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
References: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
Message-ID: <72251B925CE10A478606EEAC6AA683BE02D1A78C04@SINTEFEXMBX01.sintef.no>



If you're taking votes...

My suggestion would be a multi-line edit window for the expression, where raster bands could be written as variable names. Much quicker than loading files for each raster (if you remember the names), some insert-image button could allow browsing.

I haven't really got started using Qgis, but a couple of annoyances in my current GIS software is 1: The map calculator doesn't honour flag values, but pushes the 0, -9999 or whatever directly into the calculations. 2: The use of numerical constants is very restricted, many operators only accept either rasters or scalars on both sides. 3: After breaking the total expression down to elementary operations - each operation is handled by an overlay macro. Meaning, up to n-1 maps are stored to and re-read from disk before the calculation finishes.

A good map calculator is highly valuable, I really appreciate your work.

Best regards,

Sjur K :-)

SINTEF Energy Research
Trondheim, Norway.


-----Original Message-----
From: qgis-developer-bounces@lists.osgeo.org [mailto:qgis-developer-bounces@lists.osgeo.org] On Behalf Of Barry Rowlingson
Sent: Friday, November 28, 2008 8:54 PM
To: qgis-developer
Subject: [Qgis-developer] raster algebra plugin II - the return!

Hi all,
 my old raster algebra plugin was a bit creaky and limited in its functionality. I think it was the second plugin I wrote and it shows.

 So after someone emailed me to say they were actually using it, I figured I should put some time into its successor.

 What I'm doing is writing a parser for a mini-language for raster processing. So you can write something like:

 (max(R1)-min(R1)) * sqrt(R1*R1 + R2*R2)

 and get a new raster with the computed values in.

 R1 and R2 (and R3 up to Rn) will be raster bands (old rasteralgebra only liked single-band rasters) and the range of available functions and operators will be taken from things that python's numpy module provides for array operations (and that make sense as geo-rasters).

 For the gui I think I'll have some way of defining raster bands as R1 to Rn, and then an input line for the expression and a file to save the result. As before, all rasters will need to be the same size and spatial location.

 Anyone got any suggestions/requests for this?

Barry
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer
From b.rowlingson at lancaster.ac.uk  Fri Nov 28 19:28:13 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Fri Nov 28 19:28:16 2008
Subject: [Qgis-developer] raster algebra plugin II - the return!
In-Reply-To: <72251B925CE10A478606EEAC6AA683BE02D1A78C04@SINTEFEXMBX01.sintef.no>
References: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
	<72251B925CE10A478606EEAC6AA683BE02D1A78C04@SINTEFEXMBX01.sintef.no>
Message-ID: <d8ad40b50811281628x9e6948dja8ee20c47b1b3848@mail.gmail.com>

2008/11/28 Kolberg Sjur A <Sjur.A.Kolberg@sintef.no>:
>
>
> If you're taking votes...
>
> My suggestion would be a multi-line edit window for the expression, where raster bands could be written as variable names.

Something like:

 r1 = 120 - raster(layer=0,band=1)
 r2 = 200 - raster(layer=1,band=1)
 r3 = r1 + r2
 saveAndLoadLayer(r1,"r1.tiff")
 saveAndLoadLayer(r2,"r2.tiff")
 save(r3,"r3.tiff")

 hang on, that's starting to look familiar...

 If it gets this complex, you might just as well use Python from the
console and import your scripts... That's all my plugin will be doing
anyway, loading rasters into python objects via gdal, processing them
with numpy functions, and saving them to new Gtiffs...

 Of course there is an advantage to keeping it simple and restricting
the syntax. Plus it makes it easier to write a graphical interface
much like the grass raster algebra tool.

Barry
From mrc.ildp at gmail.com  Sat Nov 29 08:55:49 2008
From: mrc.ildp at gmail.com (Marco Cecchetti)
Date: Sat Nov 29 08:55:52 2008
Subject: [Qgis-developer] build error
Message-ID: <207ff4b00811290555w5ff5771bo15908481ad956156@mail.gmail.com>

Hello,
I hope this is the right place to submit this issue:

I'm trying to build qgis package for slackware and I get this error with new
versions for pyqt and sip (pyqt4-4.4.4, sip-4.7.9)

[ 71%] Generating core/core.so
sipcoreQgsGeometry.cpp: In function 'PyObject*
meth_QgsGeometry_setWkbAndOwnership(PyObject*, PyObject*)':
sipcoreQgsGeometry.cpp:328: error: 'size_t' is not a member of
'QgsGeometry' sipcoreQgsGeometry.cpp:328: error: expected `;' before
'a1' sipcoreQgsGeometry.cpp:331: error: 'a1' was not declared in this
scope sipcoreQgsGeometry.cpp: In function 'PyObject*
meth_QgsGeometry_wkbSize(PyObject*, PyObject*)':
sipcoreQgsGeometry.cpp:395: error: 'size_t' is not a member of
'QgsGeometry' sipcoreQgsGeometry.cpp:395: error: expected `;' before
'sipRes' sipcoreQgsGeometry.cpp:398: error: 'sipRes' was not declared
in this scope sipcoreQgsGeometry.cpp:401: error: 'sipRes' was not
declared in this scope gmake[3]: *** [sipcoreQgsGeometry.o] Error 1
make[2]: *** [python/core/core.so] Error 2 make[1]: ***
[python/CMakeFiles/python.dir/all] Error 2 make: *** [all] Error 2

Building qgis with old versions sip-4.7.7 and pyqt4-4.4.3 it looks to work
fine.

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20081129/5dcad13d/attachment.html
From wonder.sk at gmail.com  Sat Nov 29 12:01:58 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Nov 29 12:02:00 2008
Subject: [Qgis-developer] build error
In-Reply-To: <207ff4b00811290555w5ff5771bo15908481ad956156@mail.gmail.com>
References: <207ff4b00811290555w5ff5771bo15908481ad956156@mail.gmail.com>
Message-ID: <e8e7199c0811290901p789f050ckbec0b34de65a3137@mail.gmail.com>

Hi Marco,

On Sat, Nov 29, 2008 at 2:55 PM, Marco Cecchetti <mrc.ildp@gmail.com> wrote:
> Hello,
> I hope this is the right place to submit this issue:
>
> I'm trying to build qgis package for slackware and I get this error with new
> versions for pyqt and sip (pyqt4-4.4.4, sip-4.7.9)
>
> [ 71%] Generating core/core.so
> sipcoreQgsGeometry.cpp: In function 'PyObject*
> meth_QgsGeometry_setWkbAndOwnership(PyObject*, PyObject*)':
> sipcoreQgsGeometry.cpp:328: error: 'size_t' is not a member of
> 'QgsGeometry'

what sources do you use? This problem with new version of SIP has been
fixed some time ago in SVN trunk.

If you want just a quick fix without upgrading, edit
python/core/qgsgeometry.sip and move size_t typedef statement before
QgsGeometry class. And IIRC you'll need to delete size_t typedef
statement from python/core/qgsfeature.sip.

Bye
Martin
From wonder.sk at gmail.com  Sat Nov 29 12:17:07 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Nov 29 12:17:09 2008
Subject: [Qgis-developer] raster algebra plugin II - the return!
In-Reply-To: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
References: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
Message-ID: <e8e7199c0811290917l1a7c2c63m1e0942f0c19b2429@mail.gmail.com>

On Fri, Nov 28, 2008 at 8:53 PM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> Hi all,
>  my old raster algebra plugin was a bit creaky and limited in its
> functionality. I think it was the second plugin I wrote and it shows.
>
>  So after someone emailed me to say they were actually using it, I
> figured I should put some time into its successor.
>
>  What I'm doing is writing a parser for a mini-language for raster
> processing. So you can write something like:
>
>  (max(R1)-min(R1)) * sqrt(R1*R1 + R2*R2)
>
>  and get a new raster with the computed values in.

This sounds good. I hope there are tools like flex/bison avaiable also
for python...


>  R1 and R2 (and R3 up to Rn) will be raster bands (old rasteralgebra
> only liked single-band rasters) and the range of available functions
> and operators will be taken from things that python's numpy module
> provides for array operations (and that make sense as geo-rasters).

I guess these 'Rn' bands can be assigned from more raster layers, right?

Martin
From b.rowlingson at lancaster.ac.uk  Sat Nov 29 13:13:51 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sat Nov 29 13:13:56 2008
Subject: [Qgis-developer] raster algebra plugin II - the return!
In-Reply-To: <e8e7199c0811290917l1a7c2c63m1e0942f0c19b2429@mail.gmail.com>
References: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
	<e8e7199c0811290917l1a7c2c63m1e0942f0c19b2429@mail.gmail.com>
Message-ID: <d8ad40b50811291013u66a1f667pbb45b6b6815c256b@mail.gmail.com>

2008/11/29 Martin Dobias <wonder.sk@gmail.com>:

> This sounds good. I hope there are tools like flex/bison avaiable also
> for python...

 Yeah, I'm using 'pyparsing', which gives you a very easy way to
specify a grammar. It's not included with python so it'll be an
external requirement - along with numpy for doing the computations.
I'm still leaning how to write these grammar things though.

> I guess these 'Rn' bands can be assigned from more raster layers, right?

 Yeah, the idea is that you set Rn to be bands from raster layers,
then you write an expression with Rn in it, and you get back a new
raster.

 There's a few aspects of the GUI I'm not sure of though. I also think
the plugin will provide some useful python functions too for people to
use in the python console if they need more complex processing
requirements.

Barry
From wonder.sk at gmail.com  Sat Nov 29 14:29:09 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Nov 29 14:29:11 2008
Subject: [Qgis-developer] raster algebra plugin II - the return!
In-Reply-To: <d8ad40b50811291013u66a1f667pbb45b6b6815c256b@mail.gmail.com>
References: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
	<e8e7199c0811290917l1a7c2c63m1e0942f0c19b2429@mail.gmail.com>
	<d8ad40b50811291013u66a1f667pbb45b6b6815c256b@mail.gmail.com>
Message-ID: <e8e7199c0811291129p7f36c898j1475a342190d975d@mail.gmail.com>

On Sat, Nov 29, 2008 at 7:13 PM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> 2008/11/29 Martin Dobias <wonder.sk@gmail.com>:
>
>> This sounds good. I hope there are tools like flex/bison avaiable also
>> for python...
>
>  Yeah, I'm using 'pyparsing', which gives you a very easy way to
> specify a grammar. It's not included with python so it'll be an
> external requirement - along with numpy for doing the computations.
> I'm still leaning how to write these grammar things though.

When thinking about it once more, maybe not creating an own parser and
instead running the expression in a prepared python environment using
eval builtin or exec statement. You can modify the environment by
passing dictionaries of local and global variables.

You would define raster band class and override some operators like
__add__, __mul__ to emulate the arithmetics, see:
http://www.python.org/doc/2.5.2/ref/numeric-types.html

You would define some processing functions like:

def rasterMax(r1, r2):
  return (... something ...)

And then just evaluate the formula:

res = eval('R1+R2', [ 'R1' : RasterBand(...), 'R2' : RasterBand(...)
], [ 'max', rasterMax, ... ])


This way you could save the need of installing pyparsing module (which
supposedly only small amount of users will have before trying the
plugin).

>> I guess these 'Rn' bands can be assigned from more raster layers, right?
>
>  Yeah, the idea is that you set Rn to be bands from raster layers,
> then you write an expression with Rn in it, and you get back a new
> raster.
>
>  There's a few aspects of the GUI I'm not sure of though. I also think
> the plugin will provide some useful python functions too for people to
> use in the python console if they need more complex processing
> requirements.

Can you give me an example of more complex requirements? In fact
allowing some raster algebra stuff into python could be done quite
easily - a matter of adding some variables to globals dictionary, so
users could run directly from console: RasterBand(...) *
RasterBand(...)

Bye
Martin
From b.rowlingson at lancaster.ac.uk  Sat Nov 29 14:46:06 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sat Nov 29 14:46:09 2008
Subject: [Qgis-developer] raster algebra plugin II - the return!
In-Reply-To: <e8e7199c0811291129p7f36c898j1475a342190d975d@mail.gmail.com>
References: <d8ad40b50811281153k34511242t386ee8c680f2ed65@mail.gmail.com>
	<e8e7199c0811290917l1a7c2c63m1e0942f0c19b2429@mail.gmail.com>
	<d8ad40b50811291013u66a1f667pbb45b6b6815c256b@mail.gmail.com>
	<e8e7199c0811291129p7f36c898j1475a342190d975d@mail.gmail.com>
Message-ID: <d8ad40b50811291146t28b7ed69jaa9a8907e32371b@mail.gmail.com>

2008/11/29 Martin Dobias <wonder.sk@gmail.com>:

> You would define some processing functions like:
>
> def rasterMax(r1, r2):
>  return (... something ...)

 There's hardly any need to do that - numpy.max(r1,r2) does exactly
that, and can take more than two parameters.

> Can you give me an example of more complex requirements?

 In my original idea the plugin would have one line for entering an
expression, and some way of assigning raster layer bands to variables
in the expression (R1, R2 etc). The 'more complex requirements' would
be if you wanted to do more than one thing, or use an intermediate
calculation more than once. Like:

 x1 = sin(R1)
 x2 = x1 * x1
 x3 = sqrt(x1)
 saveRaster(x2)
 saveRaster(x3)

> In fact
> allowing some raster algebra stuff into python could be done quite
> easily - a matter of adding some variables to globals dictionary, so
> users could run directly from console: RasterBand(...) *
> RasterBand(...)

 Yeah, I'd add some helper functions to my plugin that you could just
import into the console (or any python code).

 The RasterBand class could just be a superclass of numpy array that
also stores the raster band coordinates... One thing I'd do in the
plugin would be to make sure all rasters have the same grid system.

Barry
