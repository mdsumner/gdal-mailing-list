From telwertowski at comcast.net  Thu May  1 03:26:02 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Thu May  1 03:26:12 2008
Subject: [Qgis-developer] rendercontext-branch
In-Reply-To: <200804131721.58820.marco.hugentobler@karto.baug.ethz.ch>
References: <04DA676AA276F045B32D0F95783D78440AF818@EX6.d.ethz.ch>	<e8e7199c0804071238m4c513634jd696459a5778b50@mail.gmail.com>
	<200804131721.58820.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4819708A.3000503@comcast.net>

Marco Hugentobler wrote:
> Note that the render context branch is now in a stage where it can be tested.

I found two Mac rendering problems:

When QGIS first starts up, the screen is scrambled: the map canvas is drawn twice, the window title is inside the window and the toolbar icons are rendered inside (not floating over) the map canvas. This is caused by calling processEvents() from inside a paint event. I did not track down the call. Opening a file will unscramble the window. Including a file on the command line will prevent the initial scramble.

The second problem is caused by a non-zero feature rendering count. The bug is also present in trunk but I first noticed it now. When a window is resized, it will snap back to its original size after an incremental update. The window content remains at the new size but the window frame reverts back to the old size. This is caused by calling processEvents() in QgsVectorLayer::draw(). (WMS layers also have this bug due to calling processEvents() from QgsHttpTransaction::getSynchronously() from QgsWmsProvider::draw().)

Mac paint events must be serialized. If another paint event is pending when processEvents() is called, the newer one will start. When the call stack later unwinds, the earlier paint event resumes with a context that is no longer valid.

Long drawing operations are usually done in a thread so that the main thread can call processEvents() to listen for keyboard events such as a cancel key without interfering with the drawing process. Until we can move to a threaded design, we should disable the Mac resize control when incremental drawing is enabled or else conditionalize the incremental drawing code for non-Macs.

Tom
From tutey at o2.pl  Thu May  1 04:25:32 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu May  1 04:25:35 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with incorectly
	filled polygons"issues
In-Reply-To: <e8e7199c0804301705u2805a045jb11333c1435f9327@mail.gmail.com>
References: <48024C20.1030203@o2.pl>	
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>	
	<48063690.20004@o2.pl>	
	<200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>	
	<e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>	
	<480778A3.2050806@o2.pl>
	<e8e7199c0804301705u2805a045jb11333c1435f9327@mail.gmail.com>
Message-ID: <48197E7C.40405@o2.pl>

Martin Dobias pisze:
> On Thu, Apr 17, 2008 at 6:19 PM, Maciej Sieczka <tutey@o2.pl> wrote:

> The only difference between normal mode and digitizing mode is that
> for every vertex in editing layer QGIS draws an ellipse with
> transparency. Since with FPWIFP the rendered map is stored on X
> server, when drawing a semi-transparent ellipse Qt has to ask X server
> for the background, apply transparency and again send the modified bit
> - one can imagine that this has a lot of overhead instead of just
> changing pixels directly.
> 
> Such long times for rendering make me think about those vertex markers
> - there should be an option to customize them for better performance -
> e.g. turn semi-transparency off, change to a simpler shape (cross?) or
> turn them completely.

>>  Seems that vertices transparency is a performance killer. Could this be
>> improved?

> Right, as I've proposed above, allowing some level of customization of
> the markers should do it.

I'd be extremely gratefull for at least allowing the user to fall back 
to the old-style cross markers instead of the current transparent 
circles. Would that be much work to provide such an option?

I and my clients use QGIS remotely via NX a lot. Transparent QGIS 
features require the FPWIFP set on in QGIS when using it via NX, 
otherwise they are rendered corrupted or invisible (including the 
measure tools, vertex markers and polygons during digitizing).

FPWIFP on has also the advantage of significantly better rendering times 
when browsing vector data, both in local or remote NX use.

Yet with FPWIFP on, the rendering performance in digitizing mode is over 
10 times worse, which pretty much ruins my party. Also, even with FPWIFP 
on, Windows NX clients still sometimes fail to render transparent vertex 
markers properly. Just getting rid of transparency where it's not 
necessary (eg. the markers) would be a blessed feature in usage scenario 
like mine.

Maciek

From marco.hugentobler at karto.baug.ethz.ch  Thu May  1 04:41:15 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu May  1 04:42:21 2008
Subject: AW: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with
	incorectly filled polygons"issues
References: <48024C20.1030203@o2.pl>	
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>	
	<48063690.20004@o2.pl>	
	<200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>	
	<e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>	
	<480778A3.2050806@o2.pl>
	<e8e7199c0804301705u2805a045jb11333c1435f9327@mail.gmail.com>
	<48197E7C.40405@o2.pl>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF82A@EX6.d.ethz.ch>

Hi all,

In r8392 there is the option to choose between semi-transparent circle and non-transparent cross marker.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: Maciej Sieczka [mailto:tutey@o2.pl]
Gesendet: Do 01.05.2008 10:25
An: Martin Dobias
Cc: Hugentobler  Marco; qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with incorectly filled polygons"issues
 
Martin Dobias pisze:
> On Thu, Apr 17, 2008 at 6:19 PM, Maciej Sieczka <tutey@o2.pl> wrote:

> The only difference between normal mode and digitizing mode is that
> for every vertex in editing layer QGIS draws an ellipse with
> transparency. Since with FPWIFP the rendered map is stored on X
> server, when drawing a semi-transparent ellipse Qt has to ask X server
> for the background, apply transparency and again send the modified bit
> - one can imagine that this has a lot of overhead instead of just
> changing pixels directly.
> 
> Such long times for rendering make me think about those vertex markers
> - there should be an option to customize them for better performance -
> e.g. turn semi-transparency off, change to a simpler shape (cross?) or
> turn them completely.

>>  Seems that vertices transparency is a performance killer. Could this be
>> improved?

> Right, as I've proposed above, allowing some level of customization of
> the markers should do it.

I'd be extremely gratefull for at least allowing the user to fall back 
to the old-style cross markers instead of the current transparent 
circles. Would that be much work to provide such an option?

I and my clients use QGIS remotely via NX a lot. Transparent QGIS 
features require the FPWIFP set on in QGIS when using it via NX, 
otherwise they are rendered corrupted or invisible (including the 
measure tools, vertex markers and polygons during digitizing).

FPWIFP on has also the advantage of significantly better rendering times 
when browsing vector data, both in local or remote NX use.

Yet with FPWIFP on, the rendering performance in digitizing mode is over 
10 times worse, which pretty much ruins my party. Also, even with FPWIFP 
on, Windows NX clients still sometimes fail to render transparent vertex 
markers properly. Just getting rid of transparency where it's not 
necessary (eg. the markers) would be a blessed feature in usage scenario 
like mine.

Maciek



From tutey at o2.pl  Thu May  1 07:47:22 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu May  1 07:47:25 2008
Subject: AW: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with
	incorectly filled polygons"issues
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF82A@EX6.d.ethz.ch>
References: <48024C20.1030203@o2.pl>	
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>	
	<48063690.20004@o2.pl>	
	<200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>	
	<e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>	
	<480778A3.2050806@o2.pl>
	<e8e7199c0804301705u2805a045jb11333c1435f9327@mail.gmail.com>
	<48197E7C.40405@o2.pl>
	<04DA676AA276F045B32D0F95783D78440AF82A@EX6.d.ethz.ch>
Message-ID: <4819ADCA.8010102@o2.pl>

Hugentobler Marco pisze:

> In r8392 there is the option to choose between semi-transparent
> circle and non-transparent cross marker.

Great! I will try it out in days. BTW - the commit ML seems down again
since 22.04.2008 23:50.

Maciek
From marco.hugentobler at karto.baug.ethz.ch  Thu May  1 09:55:42 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu May  1 09:55:46 2008
Subject: [Qgis-developer] windows build for rendercontext branch
Message-ID: <04DA676AA276F045B32D0F95783D78440AF82B@EX6.d.ethz.ch>

Hi all,

I created a windows build of the rendercontext branch. It does not have python and also no installer (it is only meant for branch testing). Just unzip it and start the qgis.exe

http://karlinapp.ethz.ch/qgis_rendercontext.zip


Regards,
Marco
From marco.hugentobler at karto.baug.ethz.ch  Thu May  1 10:02:01 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu May  1 10:02:04 2008
Subject: AW: [Qgis-developer] rendercontext-branch
References: <04DA676AA276F045B32D0F95783D78440AF818@EX6.d.ethz.ch>	<e8e7199c0804071238m4c513634jd696459a5778b50@mail.gmail.com>
	<200804131721.58820.marco.hugentobler@karto.baug.ethz.ch>
	<4819708A.3000503@comcast.net>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF82D@EX6.d.ethz.ch>

Hi Tom,

Thanks for reporting this issues. I agree that it would be better to have threaded rendering in the long term. Your suggestion of disabling the window resize for mac in the short term sounds reasonable. I'm going to start my old G4 to see how it looks like there.

I also realized that it is not possible to stop rendering progress if incremental screen refresh is disabled, as processEvents() will not be called. Maybe I'm trying to change that, but then it might also be a problem for mac.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tom Elwertowski
Gesendet: Do 01.05.2008 09:26
Cc: qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] rendercontext-branch
 
Marco Hugentobler wrote:
> Note that the render context branch is now in a stage where it can be tested.

I found two Mac rendering problems:

When QGIS first starts up, the screen is scrambled: the map canvas is drawn twice, the window title is inside the window and the toolbar icons are rendered inside (not floating over) the map canvas. This is caused by calling processEvents() from inside a paint event. I did not track down the call. Opening a file will unscramble the window. Including a file on the command line will prevent the initial scramble.

The second problem is caused by a non-zero feature rendering count. The bug is also present in trunk but I first noticed it now. When a window is resized, it will snap back to its original size after an incremental update. The window content remains at the new size but the window frame reverts back to the old size. This is caused by calling processEvents() in QgsVectorLayer::draw(). (WMS layers also have this bug due to calling processEvents() from QgsHttpTransaction::getSynchronously() from QgsWmsProvider::draw().)

Mac paint events must be serialized. If another paint event is pending when processEvents() is called, the newer one will start. When the call stack later unwinds, the earlier paint event resumes with a context that is no longer valid.

Long drawing operations are usually done in a thread so that the main thread can call processEvents() to listen for keyboard events such as a cancel key without interfering with the drawing process. Until we can move to a threaded design, we should disable the Mac resize control when incremental drawing is enabled or else conditionalize the incremental drawing code for non-Macs.

Tom
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From marco.hugentobler at karto.baug.ethz.ch  Thu May  1 11:40:22 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu May  1 11:43:24 2008
Subject: AW: [Qgis-developer] rendercontext-branch
References: <04DA676AA276F045B32D0F95783D78440AF818@EX6.d.ethz.ch>	<e8e7199c0804071238m4c513634jd696459a5778b50@mail.gmail.com>
	<200804131721.58820.marco.hugentobler@karto.baug.ethz.ch>
	<4819708A.3000503@comcast.net>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF82E@EX6.d.ethz.ch>

Ok, I now compiled the branch on the G4 (in debug mode). I don't have the two issues, it does not scramble and also the main window resizes properly (does not snap back). Should I try also release mode or maybe the problem is more likely to appear on newer (faster) hardware?

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tom Elwertowski
Gesendet: Do 01.05.2008 09:26
Cc: qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] rendercontext-branch
 
Marco Hugentobler wrote:
> Note that the render context branch is now in a stage where it can be tested.

I found two Mac rendering problems:

When QGIS first starts up, the screen is scrambled: the map canvas is drawn twice, the window title is inside the window and the toolbar icons are rendered inside (not floating over) the map canvas. This is caused by calling processEvents() from inside a paint event. I did not track down the call. Opening a file will unscramble the window. Including a file on the command line will prevent the initial scramble.

The second problem is caused by a non-zero feature rendering count. The bug is also present in trunk but I first noticed it now. When a window is resized, it will snap back to its original size after an incremental update. The window content remains at the new size but the window frame reverts back to the old size. This is caused by calling processEvents() in QgsVectorLayer::draw(). (WMS layers also have this bug due to calling processEvents() from QgsHttpTransaction::getSynchronously() from QgsWmsProvider::draw().)

Mac paint events must be serialized. If another paint event is pending when processEvents() is called, the newer one will start. When the call stack later unwinds, the earlier paint event resumes with a context that is no longer valid.

Long drawing operations are usually done in a thread so that the main thread can call processEvents() to listen for keyboard events such as a cancel key without interfering with the drawing process. Until we can move to a threaded design, we should disable the Mac resize control when incremental drawing is enabled or else conditionalize the incremental drawing code for non-Macs.

Tom
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From telwertowski at comcast.net  Fri May  2 03:34:03 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Fri May  2 03:34:08 2008
Subject: AW: [Qgis-developer] rendercontext-branch
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF82E@EX6.d.ethz.ch>
References: <04DA676AA276F045B32D0F95783D78440AF818@EX6.d.ethz.ch>	<e8e7199c0804071238m4c513634jd696459a5778b50@mail.gmail.com>
	<200804131721.58820.marco.hugentobler@karto.baug.ethz.ch>
	<4819708A.3000503@comcast.net>
	<04DA676AA276F045B32D0F95783D78440AF82E@EX6.d.ethz.ch>
Message-ID: <481AC3EB.1080504@comcast.net>

Hugentobler Marco wrote:
> Ok, I now compiled the branch on the G4 (in debug mode). I don't have the two issues, it does not scramble and also the main window resizes properly (does not snap back). Should I try also release mode or maybe the problem is more likely to appear on newer (faster) hardware?

The scramble bug is related to OS version or processor. Yesterday, I found it using an Intel Mac with OS X 10.5. Today I built the branch on a G4 Mac with OS X 10.4 and I do not see the problem. Both are using Qt 4.3.4.

I still see the resize bug on the G4. Prior to r8394, it happens only when the update threshold is greater the zero. With r8394, it always happens.

Tom

From marco.hugentobler at karto.baug.ethz.ch  Fri May  2 03:41:29 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri May  2 03:41:28 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <4811456A.4080601@comcast.net>
References: <4811456A.4080601@comcast.net>
Message-ID: <200805020941.29153.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

I did a bit of testing. In general, things work fine. One problem I 
encountered is that if multiple entries are selected in the attribute table 
with holding the ctrl key down, the corresponsing map features are not 
selected in map view. It works correctly with the shift key.

Regards,
Marco

Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
> Hello all,
>
> Here is a patch which removes use of Qt3 routines for all of QGIS except
> the GRASS plugin:
>
> http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>
> Please test it and send comments. After resolving any issues, I would like
> to submit it to svn trunk.
>
> The GRASS plugin, which probably contains about half of the Qt3
> dependencies, will be done later. The patch was done to build with the
> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
> Mac/64bit.
>
> Three categories of changes have be made:
>
> 1. Remove use of qt3support library (Q3 classes).
> 2. Remove use of qt3 compatibility routines in qt4 classes.
> 3. Remove automatic cast of QString to char*.
>
> Classes and places with non-trivial changes are:
>
> Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
> qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
> qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect) Q3Dict
> to QHash (qgsprojectproperty)
> Q3Process to QProcess (qgsgpsplugin)
>
> The most complex change involved handling selections in the item view
> classes (tables, trees and lists) so this should be tested the most.
>
> In spite of its name, QTreeWidget also handles multicolumn lists which are
> not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists
> with one column and no header.
>
> Qt4 has two classes for each item view: QTable/Tree/ListWidget and
> QTable/Tree/ListView. The Widget classes contain a backing store and the
> View classes don't. The Widget classes correspond more closely to the Q3
> classes.
>
> qgsattributetable, which can take a while to load large tables, should
> probably be rewritten as a QTableView with an QAbstractTableModel subclass
> to pull individual cells directly for the provider as needed. It has been
> ported as a QTableWidget to keep the port straightforward and not introduce
> additional refactoring into this edit.
>
> Removing automatic casts of QString to char* also uncovered some odd code.
> Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an
> implicit QString cast occurs. Based on these two examples, this macro
> serves as 'lint' for QStrings.
>
> QString str; delete str; // compiles due to cast of str.
> tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>
> In most cases, I have used toUtf8() to eliminate implicit casts. If a file
> already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep
> the file consistent. Implicit casts have also been removed from the GRASS
> plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.
>
> The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
> Qt4.4-Cocoa-alpha1.
>
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Sat May  3 13:31:17 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat May  3 13:31:21 2008
Subject: [Qgis-developer] Announcing the release of QGIS 0.10.0 'Io'
Message-ID: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>

Dear QGIS Users and Developers

It is our great pleasure to announce the immediate availability of
Quantum GIS (QGIS) Version 0.10.0 'Io'. This release includes over 140
bug fixes and stability improvements and introduces several new
features including Python support, see below for previews!

Quantum GIS (QGIS) is a user friendly Open Source Geographic
Information System (GIS), licensed under the GNU General Public
License, that runs on Linux, Unix, Mac OSX, and Windows. QGIS is Open
Source software and its free of cost (download here). It supports
vector, raster, and database formats (including the most common ESRI
ShapeFile and geotiff). QGIS supports a wide variety of plugins to do
things like display tracks from your GPS, and much more. They can be
easily managed through the Plugin Manager.

As an open source project, we provide support for using QGIS via our
mailing lists and bug tracker:

* For general enquiries subscribe to our users mailing list at
http://lists.osgeo.org/mailman/listinfo/qgis-user
* For developer related enquiries subscribe to our separate developers
list at http://lists.osgeo.org/mailman/listinfo/qgis-developer
* If you think you have found a bug, please report it using our bug
tracker. When reporting bugs, please include some contact information
in case we need help with replicating your issue at
https://trac.osgeo.org/qgis/

A detailed visual changelog is available here: http://blog.qgis.org/node/116

As always we would like to extend our heartfelt thanks to all the
developers, translators, community and release team helpers, bug
reporters and promoters that have contributed towards the QGIS
project!

Best regards
-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From woklist at kyngchaos.com  Sat May  3 14:04:05 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat May  3 14:04:08 2008
Subject: [Qgis-developer] Announcing the release of QGIS 0.10.0 'Io'
In-Reply-To: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>
References: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>
Message-ID: <829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>

I updated my download page for my framework build (I was just waiting  
for this announcement).  You can add the link to the Qgis downloads  
page:

http://www.kyngchaos.com/wiki/software:qgis

On May 3, 2008, at 12:31 PM, Tim Sutton wrote:

> Dear QGIS Users and Developers
>
> It is our great pleasure to announce the immediate availability of
> Quantum GIS (QGIS) Version 0.10.0 'Io'. This release includes over 140
> bug fixes and stability improvements and introduces several new
> features including Python support, see below for previews!

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From john.tull at wildnevada.org  Sat May  3 17:48:15 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Sat May  3 17:48:20 2008
Subject: [Qgis-developer] Announcing the release of QGIS 0.10.0 'Io'
In-Reply-To: <829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>
References: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>
	<829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>
Message-ID: <1F0C99F0-0255-49F7-97D3-6488AD997BFF@wildnevada.org>

William,

Your binary worked well for me. I am impressed to find that the python  
plugins, such as geoprocessing, work in your build but continually  
fail in my builds. This must be related to your discussion a month or  
so back about improperly linked libs. I would love to see a break-down  
of your steps to get a binary that functions in this respect. Perhaps  
this can be added to the wiki.

Regards,
John

On May 3, 2008, at 11:04 AM, William Kyngesburye wrote:

> I updated my download page for my framework build (I was just  
> waiting for this announcement).  You can add the link to the Qgis  
> downloads page:
>
> http://www.kyngchaos.com/wiki/software:qgis
>
> On May 3, 2008, at 12:31 PM, Tim Sutton wrote:
>
>> Dear QGIS Users and Developers
>>
>> It is our great pleasure to announce the immediate availability of
>> Quantum GIS (QGIS) Version 0.10.0 'Io'. This release includes over  
>> 140
>> bug fixes and stability improvements and introduces several new
>> features including Python support, see below for previews!
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> All generalizations are dangerous, even this one.
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From woklist at kyngchaos.com  Sun May  4 00:29:05 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sun May  4 00:29:09 2008
Subject: [Qgis-developer] Announcing the release of QGIS 0.10.0 'Io'
In-Reply-To: <1F0C99F0-0255-49F7-97D3-6488AD997BFF@wildnevada.org>
References: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>
	<829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>
	<1F0C99F0-0255-49F7-97D3-6488AD997BFF@wildnevada.org>
Message-ID: <E496CBA6-ADB3-4F32-82DD-F10F9920EFFA@kyngchaos.com>

On May 3, 2008, at 4:48 PM, John C. Tull wrote:

> William,
>
> Your binary worked well for me. I am impressed to find that the  
> python plugins, such as geoprocessing, work in your build but  
> continually fail in my builds. This must be related to your  
> discussion a month or so back about improperly linked libs.

Very possibly, it hasn't been fixed yet.

> I would love to see a break-down of your steps to get a binary that  
> functions in this respect. Perhaps this can be added to the wiki.
>
I have a script I use to change all the linking, including repairing  
the broken linking.  But it depends on bundling PyQt and SIP and the  
Qt frameworks to get all the relative linking working right.  I'd have  
to look it over to see how I could apply it to a build where these are  
left in their installed locations (what the Qgis build instructions  
give you).

That might be tricky - doing relative linking between separate  
executables (Qgis, qgis_help, and Python) can get messy (which one is  
each link relative to?), unless @loader_path is used (this was added  
in Tiger, so it wouldn't work on Panther).

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From tutey at o2.pl  Sun May  4 07:49:46 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun May  4 07:49:50 2008
Subject: [Qgis-developer] SVN commit ML is down
Message-ID: <481DA2DA.6070303@o2.pl>

Hi

The SVN commit ML seems down again since 22.04.2008 23:50.

Maciek
From marco.hugentobler at karto.baug.ethz.ch  Mon May  5 02:59:46 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon May  5 02:59:27 2008
Subject: Fwd: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
Message-ID: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

I think I found the reason for the problem with the ctrl - key. Considering 
all selection ranges in QgsAttributeTable::handleChangedSelections solves the 
problem:

void QgsAttributeTable::handleChangedSelections()
{
  if (lockKeyPressed == false)
  {
    //clear the list and evaluate the last selection
    emit selectionRemoved(false);
  }

  QList<QTableWidgetSelectionRange> selectedItemRanges = selectedRanges();
  QList<QTableWidgetSelectionRange>::const_iterator range_it = 
selectedItemRanges.constBegin();
  for(; range_it != selectedItemRanges.constEnd(); ++range_it)
    { 
      for (int index = range_it->topRow(); index <= range_it->bottomRow(); 
index++)
	{
	  emit selected(item(index, 0)->text().toInt(), false);
	}
    }

  emit repaintRequested();
}


Once you changed this, please commit the patch to svn.

Regards,
Marco


----------  Weitergeleitete Nachricht  ----------

Betreff: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
Datum: Freitag 02 Mai 2008
Von: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
An: qgis-developer@lists.osgeo.org

Hi Tom,

I did a bit of testing. In general, things work fine. One problem I 
encountered is that if multiple entries are selected in the attribute table 
with holding the ctrl key down, the corresponsing map features are not 
selected in map view. It works correctly with the shift key.

Regards,
Marco

Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
> Hello all,
>
> Here is a patch which removes use of Qt3 routines for all of QGIS except
> the GRASS plugin:
>
> http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>
> Please test it and send comments. After resolving any issues, I would like
> to submit it to svn trunk.
>
> The GRASS plugin, which probably contains about half of the Qt3
> dependencies, will be done later. The patch was done to build with the
> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
> Mac/64bit.
>
> Three categories of changes have be made:
>
> 1. Remove use of qt3support library (Q3 classes).
> 2. Remove use of qt3 compatibility routines in qt4 classes.
> 3. Remove automatic cast of QString to char*.
>
> Classes and places with non-trivial changes are:
>
> Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
> qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
> qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect) Q3Dict
> to QHash (qgsprojectproperty)
> Q3Process to QProcess (qgsgpsplugin)
>
> The most complex change involved handling selections in the item view
> classes (tables, trees and lists) so this should be tested the most.
>
> In spite of its name, QTreeWidget also handles multicolumn lists which are
> not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists
> with one column and no header.
>
> Qt4 has two classes for each item view: QTable/Tree/ListWidget and
> QTable/Tree/ListView. The Widget classes contain a backing store and the
> View classes don't. The Widget classes correspond more closely to the Q3
> classes.
>
> qgsattributetable, which can take a while to load large tables, should
> probably be rewritten as a QTableView with an QAbstractTableModel subclass
> to pull individual cells directly for the provider as needed. It has been
> ported as a QTableWidget to keep the port straightforward and not introduce
> additional refactoring into this edit.
>
> Removing automatic casts of QString to char* also uncovered some odd code.
> Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an
> implicit QString cast occurs. Based on these two examples, this macro
> serves as 'lint' for QStrings.
>
> QString str; delete str; // compiles due to cast of str.
> tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>
> In most cases, I have used toUtf8() to eliminate implicit casts. If a file
> already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep
> the file consistent. Implicit casts have also been removed from the GRASS
> plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.
>
> The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
> Qt4.4-Cocoa-alpha1.
>
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee

-------------------------------------------------------

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From anitagraser at gmx.at  Mon May  5 08:49:25 2008
From: anitagraser at gmx.at (Anita Graser)
Date: Mon May  5 08:49:27 2008
Subject: [Qgis-developer] Debugging Plug-Ins in Windows
Message-ID: <20080505124925.99810@gmx.net>

Hi all!

I've been developing a python plug-in on a Linux computer. Now it's ready and i want to try it on Windows.

Most functions work, but one causes the error:

IOError: [Errno 9] Bad file descriptor

Now, I'd like to see the bad file descriptor. I've tried to start QGis from Command window but I can't get any debug information. In Linux the Shell looked like this (when starting QGis):

--------------------------------------------------------------------------
Loaded /usr/local/lib/qgis/libwfsplugin.so
Loaded /usr/local/lib/qgis/libwfsprovider.so
Loaded /usr/local/lib/qgis/libwmsprovider.so
<module 'mapserver_export' from '/usr/local/share/qgis/python/plugins/mapserver_export/__init__.py'>
--------------------------------------------------------------------------

But in Windows nothing is displayed when i call qgis.exe ...

I'm outputting the debug-info using python "print" function.

Anyone got an idea, how i can access the information printed by "print"?

Thank you,
Anita
-- 
249 Spiele f?r nur 1 Preis. Die GMX Spieleflatrate schon ab 9,90 Euro.
Neu: Asterix bei den Olympischen Spielen: http://flat.games.gmx.de
From wonder.sk at gmail.com  Mon May  5 10:39:00 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon May  5 10:39:03 2008
Subject: [Qgis-developer] Debugging Plug-Ins in Windows
In-Reply-To: <20080505124925.99810@gmx.net>
References: <20080505124925.99810@gmx.net>
Message-ID: <e8e7199c0805050739y154331d6q5b8e28f3b621c85d@mail.gmail.com>

On Mon, May 5, 2008 at 2:49 PM, Anita Graser <anitagraser@gmx.at> wrote:
>
> [...]
>
>  But in Windows nothing is displayed when i call qgis.exe ...
>
>  I'm outputting the debug-info using python "print" function.
>
>  Anyone got an idea, how i can access the information printed by "print"?

Hi,

I'm not sure what's the reason of this behaviour, however you should
be able to redirect your information:

import sys
sys.stdout = open('log.txt', 'a')
print "hello log"

After changing sys.stdout all subsequent print calls should go to
log.txt file. You could also create your own class with write() method
which can implement any behaviour.

Martin
From anitagraser at gmx.at  Mon May  5 10:49:34 2008
From: anitagraser at gmx.at (Anita Graser)
Date: Mon May  5 10:49:37 2008
Subject: [Qgis-developer] Debugging Plug-Ins in Windows
In-Reply-To: <e8e7199c0805050739y154331d6q5b8e28f3b621c85d@mail.gmail.com>
References: <20080505124925.99810@gmx.net>
	<e8e7199c0805050739y154331d6q5b8e28f3b621c85d@mail.gmail.com>
Message-ID: <20080505144934.40820@gmx.net>

Thank you! You saved my day.



-------- Original-Nachricht --------
> Datum: Mon, 5 May 2008 16:39:00 +0200
> Von: "Martin Dobias" <wonder.sk@gmail.com>
> An: "Anita Graser" <anitagraser@gmx.at>
> CC: qgis-developer@lists.osgeo.org
> Betreff: Re: [Qgis-developer] Debugging Plug-Ins in Windows

> On Mon, May 5, 2008 at 2:49 PM, Anita Graser <anitagraser@gmx.at> wrote:
> >
> > [...]
> >
> >  But in Windows nothing is displayed when i call qgis.exe ...
> >
> >  I'm outputting the debug-info using python "print" function.
> >
> >  Anyone got an idea, how i can access the information printed by
> "print"?
> 
> Hi,
> 
> I'm not sure what's the reason of this behaviour, however you should
> be able to redirect your information:
> 
> import sys
> sys.stdout = open('log.txt', 'a')
> print "hello log"
> 
> After changing sys.stdout all subsequent print calls should go to
> log.txt file. You could also create your own class with write() method
> which can implement any behaviour.
> 
> Martin

-- 
249 Spiele f?r nur 1 Preis. Die GMX Spieleflatrate schon ab 9,90 Euro.
Neu: Asterix bei den Olympischen Spielen: http://flat.games.gmx.de
From michael.douchin at laposte.net  Mon May  5 12:22:46 2008
From: michael.douchin at laposte.net (=?ISO-8859-1?Q?Micha=EBl_Douchin?=)
Date: Mon May  5 12:23:29 2008
Subject: [Qgis-developer] Python binding : wrong srid/epsg/srsid for some
	files
Message-ID: <481F3456.1070207@laposte.net>

Hi list

I am trying to find the EPSG of vector layers within a python plugin 
with the following code ("layer" is a qgis vector layer):

#####
        #layer provider (ogr, postgres, etc.)
        myprovider = layer.getDataProvider()

        #layer EPSG projection
        mysrs = myprovider.getSRS() #layer spatial reference system
        myepsg = mysrs.epsg()
        mysrsid = mysrs.srsid()
        mysrid = mysrs.srid()
#####

this code returns right codes for some of my vector layer (postgresql or 
shapefiles), but wrong codes with others.
For example, if I try on the IGN river shapefile here:
http://www.ign.fr/telechargement/MPro/produit/BD_CARTHAGE/BDCARTHAGE_SHP_L2E/BDC91_AV3D_L2E.zip

I get these strange codes :
myepsg =43537312 instead of 27572
mysrsid =43535536
mysrid =43687072

Has anyone a clue for explaining this behaviour?

Thanks in advance
Michael


From tim at linfiniti.com  Mon May  5 15:06:57 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May  5 15:06:59 2008
Subject: [Qgis-developer] Announcing the release of QGIS 0.10.0 'Io'
In-Reply-To: <829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>
References: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>
	<829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>
Message-ID: <d368056f0805051206qb7a808eof2986c87c5c738dc@mail.gmail.com>

Hi William

Many thanks - I've updated http://download.qgis.org accordingly.

Regards

Tim

2008/5/3 William Kyngesburye <woklist@kyngchaos.com>:
> I updated my download page for my framework build (I was just waiting for
> this announcement).  You can add the link to the Qgis downloads page:
>
>  http://www.kyngchaos.com/wiki/software:qgis
>
>
>  On May 3, 2008, at 12:31 PM, Tim Sutton wrote:
>
>
> > Dear QGIS Users and Developers
> >
> > It is our great pleasure to announce the immediate availability of
> > Quantum GIS (QGIS) Version 0.10.0 'Io'. This release includes over 140
> > bug fixes and stability improvements and introduces several new
> > features including Python support, see below for previews!
> >
>
>  -----
>  William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>  http://www.kyngchaos.com/
>
>  All generalizations are dangerous, even this one.
>
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From wonder.sk at gmail.com  Mon May  5 15:20:03 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon May  5 15:20:08 2008
Subject: [Qgis-developer] Python binding : wrong srid/epsg/srsid for some
	files
In-Reply-To: <481F3456.1070207@laposte.net>
References: <481F3456.1070207@laposte.net>
Message-ID: <e8e7199c0805051220k58a81a57m94bc9097cb29da04@mail.gmail.com>

On Mon, May 5, 2008 at 6:22 PM, Micha?l Douchin
<michael.douchin@laposte.net> wrote:
>
>  #####
>        #layer provider (ogr, postgres, etc.)
>        myprovider = layer.getDataProvider()
>
>        #layer EPSG projection
>        mysrs = myprovider.getSRS() #layer spatial reference system
>        myepsg = mysrs.epsg()
>        mysrsid = mysrs.srsid()
>        mysrid = mysrs.srid()
>  #####
>
>  this code returns right codes for some of my vector layer (postgresql or
> shapefiles), but wrong codes with others.

Michael,

you should first check return value of mysrs.isValid(). I expect that
in case of invalid SRS the fields will be incorrect.
What does invalid spatial reference mean? In case of some custom SRS
which is not located in QGIS database it won't be recognized and thus
marked as invalid (although OGR was able to parse the projection
file). However you can add custom projections to QGIS to overcome this
problem...

Martin
From woklist at kyngchaos.com  Mon May  5 15:24:14 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon May  5 15:24:21 2008
Subject: [Qgis-developer] Announcing the release of QGIS 0.10.0 'Io'
In-Reply-To: <d368056f0805051206qb7a808eof2986c87c5c738dc@mail.gmail.com>
References: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>
	<829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>
	<d368056f0805051206qb7a808eof2986c87c5c738dc@mail.gmail.com>
Message-ID: <DF573C2C-A2F6-4AFD-933C-C91BE638D97E@kyngchaos.com>

Gary updated it already, now I'm listed twice.

On May 5, 2008, at 2:06 PM, Tim Sutton wrote:

> Hi William
>
> Many thanks - I've updated http://download.qgis.org accordingly.
>
> Regards
>
> Tim
>
> 2008/5/3 William Kyngesburye <woklist@kyngchaos.com>:
>> I updated my download page for my framework build (I was just  
>> waiting for
>> this announcement).  You can add the link to the Qgis downloads page:
>>
>> http://www.kyngchaos.com/wiki/software:qgis
>>
>>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Oh, look, I seem to have fallen down a deep, dark hole.  Now what  
does that remind me of?  Ah, yes - life."

- Marvin




-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Earth: "Mostly harmless"

- revised entry in the HitchHiker's Guide to the Galaxy


From tim at linfiniti.com  Mon May  5 15:32:22 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May  5 15:32:24 2008
Subject: [Qgis-developer] Announcing the release of QGIS 0.10.0 'Io'
In-Reply-To: <DF573C2C-A2F6-4AFD-933C-C91BE638D97E@kyngchaos.com>
References: <d368056f0805031031s50393ee8m20158c5effc6d79e@mail.gmail.com>
	<829C53BF-E52C-4757-B539-08D5AA1CC85C@kyngchaos.com>
	<d368056f0805051206qb7a808eof2986c87c5c738dc@mail.gmail.com>
	<DF573C2C-A2F6-4AFD-933C-C91BE638D97E@kyngchaos.com>
Message-ID: <d368056f0805051232m5e4f653bld7dfe0fd933da540@mail.gmail.com>

Hi

(while repeating to myself : "do not operate your computer while brain dead"...)

Oops ok removed the duplicate again thanks....

Regards

Tim

2008/5/5 William Kyngesburye <woklist@kyngchaos.com>:
> Gary updated it already, now I'm listed twice.
>
>
>  On May 5, 2008, at 2:06 PM, Tim Sutton wrote:
>
>
> > Hi William
> >
> > Many thanks - I've updated http://download.qgis.org accordingly.
> >
> > Regards
> >
> > Tim
> >
> > 2008/5/3 William Kyngesburye <woklist@kyngchaos.com>:
> >
> > > I updated my download page for my framework build (I was just waiting
> for
> > > this announcement).  You can add the link to the Qgis downloads page:
> > >
> > > http://www.kyngchaos.com/wiki/software:qgis
> > >
> > >
> > >
> >
>
>  -----
>  William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>  http://www.kyngchaos.com/
>
>  "Oh, look, I seem to have fallen down a deep, dark hole.  Now what does
> that remind me of?  Ah, yes - life."
>
>  - Marvin
>
>
>
>
>
>  -----
>  William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>  http://www.kyngchaos.com/
>
>  Earth: "Mostly harmless"
>
>  - revised entry in the HitchHiker's Guide to the Galaxy
>
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Tue May  6 02:12:58 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue May  6 02:13:04 2008
Subject: [Qgis-developer] how about registering?
Message-ID: <481FF6EA.5020009@faunalia.it>

http://hackontest.org/
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From vkepoglu at gmail.com  Tue May  6 04:11:37 2008
From: vkepoglu at gmail.com (volkan kepoglu)
Date: Tue May  6 04:11:40 2008
Subject: [Qgis-developer] comments about manageR plugin
Message-ID: <8b5938320805060111j785934aatcac55a13752d8a96@mail.gmail.com>

Dear carson,

I tried the manageR plugin 0.04 yesterday night and loved the way of
coupling with R.
I have two suggections/improvements for manageR. But not sure, it is the
general
situation or specific to my environment. R is 2.6.1. QGIS is
0.9.2-rc1-Ganymede.

1. Although rgdal is installed on Ubuntu Gutsy 7.1, manageR could not find
it.
Sometimes, external R packages like rgdal could not be installed on default
folder with
install.packages() commands. In my case, I could not installed it under
default
folder, because it has not got a write permission on default folder in
Ubuntu,
or the user can delibaretly install the packages under different folders.

So, I recommend you to search user specified folders.
This path can be return in R as below.

# it seems that rgdal is not installed.
# search() is not enough for user/custom package installation paths.
> search()
[1] ".GlobalEnv"        "package:stats"     "package:graphics"
[4] "package:grDevices" "package:utils"     "package:datasets"
[7] "package:methods"   "Autoloads"         "package:base"

# .libPaths() returns all paths that the packages are installed.
> .libPaths()
[1] "/home/vkepoglu/R/i486-pc-linux-gnu-library/2.5"
[2] "/usr/local/lib/R/library"

# rgdal can be loaded directly with library() inside R, but not inside of
python,
# due to different path installation.
> library(rgdal)
Loading required package: sp

Geospatial Data Abstraction Library extensions to R successfully loaded
>

# so please, also add "lib.loc" options in your plugin code. for example:
> library(maptools, lib.loc=.libPaths()[1])
Loading required package: foreign
>

2. About unicode
I have turkish characters. In general, we use utf-8 unicode. In QGIS, no
error occurs
due to turkish characters. I can add those files (has turkish characters in
file name or in path).
In the open file dialog of QGIS, at the bottom encoding is System, by
default. No need to change it.
It is working. I know that utf-8 has almost all characters in the world,
I suppose. I changed latin1 in your plugin to utf-8. In both cases
(tried latin1 or utf-8), the error is occured.  I do not know, why?

If the path of added vector layer has turkish character like
"??????i??????????????????", the error is:

An error has occured while executing Python code:

Traceback (most recent call last):
 File "/usr/local/share/qgis/python/plugins/manageR/domanageR.py", line 119,
in load
  self.convert(inName)
 File "/usr/local/share/qgis/python/plugins/manageR/domanageR.py", line 155,
in convert
  self.commands(str(inName) + " UnicodeEncodeError: 'ascii' codec can't
encode character
  u'\u015f' in position 51: ordinal not in range(128)

If the name of added vector layer has turkish character (and path has no
turkish character), the error is:

First says Unable to Load layer with message box, and then,

An error has occured while executing Python code:

Traceback (most recent call last):
 File "/usr/local/share/qgis/python/plugins/manageR/domanageR.py", line 119,
in load
  self.convert(inName)
 File "/usr/local/share/qgis/python/plugins/manageR/domanageR.py", line 144,
in convert
  dsn = mlayer.source()
AttributeError: 'NoneType' object has no attribute 'source'

I also tried the plugin on win in which installed R but not rgdal.
the plugin installs rgdal via the normal R procedure. The procedure is
working very well.

Unicode problem is very important for me. If you solve it, please, let me
know.
I am thinking to use your plugin.

Regards,
volkan kepoglu





Date: Sun, 4 May 2008 18:18:37 +0000
From: cfarmer@uvic.ca
Subject: [Qgis-user] Re: calculate statistics on an attribute table
To: qgis-user@lists.osgeo.org, amagine@telus.net
Message-ID:

 <143599603-1209925102-cardhu_decombobulator_blackberry.rim.net-129579947-@bxe117.bisx.prod.on.blackberry
>

Content-Type: text/plain; charset="Windows-1252"

Mars Sjoden pisze:

> Is there a way to quickly calculate statistics on an attribute table
> column?

I have created a plugin to do just this:

For those of
you who might be interested, the plugin is available via the plugin
installer if you add
http://www.geog.uvic.ca/spar/carson/cfarmerQgisRepo.xml to your list of
available QGIS plugin repositories:

Open plugin installer
Click add
Give 'cfarmer repository' for name (or whatever you want...)
Give http://www.geog.uvic.ca/spar/carson/cfarmerQgisRepo.xml for URL
Click 'get list'
And look for 'Calculate field statistics' (I think that's what I named it?)
There are plenty of other tools there for you to check out as well...

Cheers,

Carson
Sent from my BlackBerry(R) wireless device
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080506/2bf201bb/attachment-0001.html
From tutey at o2.pl  Tue May  6 13:33:39 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue May  6 13:33:45 2008
Subject: [Qgis-developer] rendering GRASS rasters broken in UTF-8 locale
Message-ID: <48209673.40903@o2.pl>

Hi

I'm currently using QGIS 0.10.0 + SVN r8401 on Debian tetsing x86, QT 
4.4.0 rc1 in pl_PL.utf8 locale.

Any GRASS raster (even as small as 50x50 cells) which has a colortable, 
freezes QGIS. QGIS last debug words, before pressing OK in the "Add 
GRASS raster" dialog, are attached in a txt file.

Also, when I load a GRASS raster *without* a colortable it renders OK 
(ie. all-grey, as one would expect since it has no coloratable 
assigned), but when I try reducing the window size QGIS crashes, saying:

Warning 1: GRASS fatal error: region for current mapset is invalid
line 16: <e-w resol3: 29.98442368>
run "g.region"

When I start QGIS in C locale (eg. from a terminal after "export 
LC_ALL=C") neither of these problems take place - GRASS rasters with 
colortable are rendered OK and I can stretch/reduce the window as I like 
without a crash. What's wrong?

Maciek

-------------- next part --------------
plugin URI: /home/grassdata/spearfish60/PERMANENT/cellhd/test
Add new raster layer
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsmaplayer.cpp: 52: (QgsMapLayer) QgsMapLayer::QgsMapLayer - lyrname is 'test'
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsmaplayer.cpp: 58: (QgsMapLayer) QgsMapLayer::QgsMapLayer - layerName is 'test'
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrastershader.cpp: 26: (QgsRasterShader) QgsRasterShader::QgsRasterShader called
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrastershaderfunction.cpp: 25: (QgsRasterShaderFunction) QgsRasterShaderFunction::QgsRasterShaderFunction called
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsmaplayer.cpp: 98: (setLayerName) QgsMapLayer::setLayerName: new name is 'test'
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 727: (lastModified) QgsRasterLayer::lastModified: /home/grassdata/spearfish60/PERMANENT/cellhd/test
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 789: (lastModified) last modified = wt. maj 6 18:00:28 2008
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3970: (buildRasterPyramidList) Building initial pyramid list
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 2
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 1073741824
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 1073741824
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 4
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 536870912
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 536870912
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 8
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 268435456
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 268435456
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 16
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 134217728
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 134217728
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 32
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 67108864
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 67108864
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 64
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 33554432
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 33554432
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 128
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 16777216
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 16777216
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 256
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 8388608
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 8388608
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 512
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 4194304
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 4194304
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 1024
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 2097152
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 2097152
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 2048
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 1048576
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 1048576
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 4096
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 524288
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 524288
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 8192
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 262144
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 262144
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 16384
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 131072
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 131072
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 32768
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 65536
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 65536
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 65536
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 32768
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 32768
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 131072
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 16384
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 16384
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 262144
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 8192
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 8192
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 524288
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 4096
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 4096
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 1048576
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 2048
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 2048
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 2097152
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 1024
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 1024
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 4194304
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 512
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 512
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 8388608
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 256
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 256
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 16777216
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 128
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 128
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3980: (buildRasterPyramidList), Pyramid: 33554432
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3981: (buildRasterPyramidList), xDim: 64
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3982: (buildRasterPyramidList), yDim: 64
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 506: (readFile) Raster initial SRS
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1102: (debugPrint) ***SpatialRefSystem***
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1103: (debugPrint) * Valid : false
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1104: (debugPrint) * SrsId : -1239064168
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1105: (debugPrint) * Proj4 : 
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1106: (debugPrint) * Desc. : 
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 252: (createFromWkt) QgsSpatialRefSys::createFromWkt(QString theWkt) using: PROJCS["UTM Zone 13, Northern Hemisphere",GEOGCS["clark66",DATUM["North_American_Datum_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-105],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["meter",1]]
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 362: (createFromProj4) QgsSpatialRefSys::createFromProj4 wholetext match on name failed, trying proj4string match
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 448: (getRecord) QgsSpatialRefSys::getRecord...running query: select * from tbl_srs where parameters='+proj=utm +zone=13 +ellps=clrk66 +datum=NAD27 +units=m +no_defs'
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1076: (openDb) QgsSpatialRefSys::openDb path = /usr/local/qgis/share/qgis/resources/srs.db
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 470: (getRecord) QgsSpatialRefSys::getRecord...trying system srs.db
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 525: (getRecord) QgsSpatialRefSys::getRecord retrieved:  select * from tbl_srs where parameters='+proj=utm +zone=13 +ellps=clrk66 +datum=NAD27 +units=m +no_defs'
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 367: (createFromProj4) QgsSpatialRefSys::createFromProj4 proj4string match search for srsid returned srsid: 1379
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 182: (loadFromDb) load SRS from /usr/local/qgis/share/qgis/resources/srs.db where srs_id is 1379
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1076: (openDb) QgsSpatialRefSys::openDb path = /usr/local/qgis/share/qgis/resources/srs.db
Warning: No valid projection. Unable to set map units.
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 511: (readFile) --------------------------------------------------------------------------------------
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 512: (readFile) QgsRasterLayer::readFile --- using wkt
PROJCS["UTM Zone 13, Northern Hemisphere",GEOGCS["clark66",DATUM["North_American_Datum_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-105],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["meter",1]]
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 513: (readFile) --------------------------------------------------------------------------------------
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 252: (createFromWkt) QgsSpatialRefSys::createFromWkt(QString theWkt) using: PROJCS["UTM Zone 13, Northern Hemisphere",GEOGCS["clark66",DATUM["North_American_Datum_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-105],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["meter",1]]
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 362: (createFromProj4) QgsSpatialRefSys::createFromProj4 wholetext match on name failed, trying proj4string match
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 448: (getRecord) QgsSpatialRefSys::getRecord...running query: select * from tbl_srs where parameters='+proj=utm +zone=13 +ellps=clrk66 +datum=NAD27 +units=m +no_defs'
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1076: (openDb) QgsSpatialRefSys::openDb path = /usr/local/qgis/share/qgis/resources/srs.db
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 470: (getRecord) QgsSpatialRefSys::getRecord...trying system srs.db
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 525: (getRecord) QgsSpatialRefSys::getRecord retrieved:  select * from tbl_srs where parameters='+proj=utm +zone=13 +ellps=clrk66 +datum=NAD27 +units=m +no_defs'
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 367: (createFromProj4) QgsSpatialRefSys::createFromProj4 proj4string match search for srsid returned srsid: 1379
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 182: (loadFromDb) load SRS from /usr/local/qgis/share/qgis/resources/srs.db where srs_id is 1379
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1076: (openDb) QgsSpatialRefSys::openDb path = /usr/local/qgis/share/qgis/resources/srs.db
Warning: No valid projection. Unable to set map units.
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 522: (readFile) Raster determined to have the following SRS
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1102: (debugPrint) ***SpatialRefSystem***
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1103: (debugPrint) * Valid : true
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1104: (debugPrint) * SrsId : 1379
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1105: (debugPrint) * Proj4 : +proj=utm +zone=13 +ellps=clrk66 +datum=NAD27 +units=m +no_defs 
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/qgsspatialrefsys.cpp: 1106: (debugPrint) * Desc. : NAD27 / UTM zone 13N
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 528: (readFile) Layer registry has 0layers
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3544: (getMetadata) dataset has no metadata
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 3571: (getMetadata) band 1 has no categories
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgscolortable.cpp: 40: (QgsColorTable) QgsColorTable::QgsColorTable()
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgsrasterlayer.cpp: 4051: (readColorTable) QgsRasterLayer::readColorTable()
Debug: /home/shoofi/src/straight/qgis-trunk/src/core/raster/qgscolortable.cpp: 74: (clear) QgsColorTable::clear() called
From bargi1981 at gmail.com  Wed May  7 01:55:04 2008
From: bargi1981 at gmail.com (bargi john)
Date: Wed May  7 01:55:07 2008
Subject: [Qgis-developer] Zoom In problem
Message-ID: <fd4ceb470805062255q4abe1decu1a41db40ec65c1fd@mail.gmail.com>

 Hi,

I am working on a project in which I have to draw a large number of lines
closed to each other.
But it look too much dense. I want that when I zoomIn on lines then only
other lines should be displayed.For ex. like in google map... Initially in
Google map we saw thick picture but as we starts zoomIn steadily we see
clear the other things like road,hotels etc.

I have to add this ZoomIn functionality to my project.

Is there any function in QGraphicsView or in QGraphicScence to achieve this
or is this functionality already implemented in QGIS, if yes then please let
me know where it is ? . I am using QPainter for drawing lines.

Any help would greatly appreciated.

Thanks
Bargi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080507/3fae0a6a/attachment.html
From telwertowski at comcast.net  Wed May  7 02:46:18 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed May  7 02:46:23 2008
Subject: Fwd: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>
References: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4821503A.8040103@comcast.net>

Hi Marco,

I merged your revision and submitted the patch. checkSelectionChanges also needed the revision for deselection. 

Tom

Marco Hugentobler wrote:
> Hi Tom,
> 
> I think I found the reason for the problem with the ctrl - key. Considering 
> all selection ranges in QgsAttributeTable::handleChangedSelections solves the 
> problem:
> 
> void QgsAttributeTable::handleChangedSelections()
> {
>   if (lockKeyPressed == false)
>   {
>     //clear the list and evaluate the last selection
>     emit selectionRemoved(false);
>   }
> 
>   QList<QTableWidgetSelectionRange> selectedItemRanges = selectedRanges();
>   QList<QTableWidgetSelectionRange>::const_iterator range_it = 
> selectedItemRanges.constBegin();
>   for(; range_it != selectedItemRanges.constEnd(); ++range_it)
>     { 
>       for (int index = range_it->topRow(); index <= range_it->bottomRow(); 
> index++)
> 	{
> 	  emit selected(item(index, 0)->text().toInt(), false);
> 	}
>     }
> 
>   emit repaintRequested();
> }
> 
> 
> Once you changed this, please commit the patch to svn.
> 
> Regards,
> Marco
> 
> 
> ----------  Weitergeleitete Nachricht  ----------
> 
> Betreff: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
> Datum: Freitag 02 Mai 2008
> Von: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
> An: qgis-developer@lists.osgeo.org
> 
> Hi Tom,
> 
> I did a bit of testing. In general, things work fine. One problem I 
> encountered is that if multiple entries are selected in the attribute table 
> with holding the ctrl key down, the corresponsing map features are not 
> selected in map view. It works correctly with the shift key.
> 
> Regards,
> Marco
> 
> Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
>> Hello all,
>>
>> Here is a patch which removes use of Qt3 routines for all of QGIS except
>> the GRASS plugin:
>>
>> http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>>
>> Please test it and send comments. After resolving any issues, I would like
>> to submit it to svn trunk.
>>
>> The GRASS plugin, which probably contains about half of the Qt3
>> dependencies, will be done later. The patch was done to build with the
>> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
>> Mac/64bit.
>>
>> Three categories of changes have be made:
>>
>> 1. Remove use of qt3support library (Q3 classes).
>> 2. Remove use of qt3 compatibility routines in qt4 classes.
>> 3. Remove automatic cast of QString to char*.
>>
>> Classes and places with non-trivial changes are:
>>
>> Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
>> qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
>> qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect) Q3Dict
>> to QHash (qgsprojectproperty)
>> Q3Process to QProcess (qgsgpsplugin)
>>
>> The most complex change involved handling selections in the item view
>> classes (tables, trees and lists) so this should be tested the most.
>>
>> In spite of its name, QTreeWidget also handles multicolumn lists which are
>> not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists
>> with one column and no header.
>>
>> Qt4 has two classes for each item view: QTable/Tree/ListWidget and
>> QTable/Tree/ListView. The Widget classes contain a backing store and the
>> View classes don't. The Widget classes correspond more closely to the Q3
>> classes.
>>
>> qgsattributetable, which can take a while to load large tables, should
>> probably be rewritten as a QTableView with an QAbstractTableModel subclass
>> to pull individual cells directly for the provider as needed. It has been
>> ported as a QTableWidget to keep the port straightforward and not introduce
>> additional refactoring into this edit.
>>
>> Removing automatic casts of QString to char* also uncovered some odd code.
>> Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an
>> implicit QString cast occurs. Based on these two examples, this macro
>> serves as 'lint' for QStrings.
>>
>> QString str; delete str; // compiles due to cast of str.
>> tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>>
>> In most cases, I have used toUtf8() to eliminate implicit casts. If a file
>> already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep
>> the file consistent. Implicit casts have also been removed from the GRASS
>> plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.
>>
>> The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
>> Qt4.4-Cocoa-alpha1.
>>
>> Tom
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 

From marco.hugentobler at karto.baug.ethz.ch  Wed May  7 03:46:07 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed May  7 03:46:00 2008
Subject: Fwd: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <4821503A.8040103@comcast.net>
References: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>
	<4821503A.8040103@comcast.net>
Message-ID: <200805070946.07982.marco.hugentobler@karto.baug.ethz.ch>

Thanks a lot!

Additionally I found (and commited) that clearing all existing selections in 
handleChangedSelections() is always necessary. Because in QTableWidget, it is 
now also possible to deselect rows while holding the ctrl key.

Regards,
Marco 

Am Mittwoch 07 Mai 2008 08:46:18 schrieb Tom Elwertowski:
> Hi Marco,
>
> I merged your revision and submitted the patch. checkSelectionChanges also
> needed the revision for deselection.
>
> Tom
>
> Marco Hugentobler wrote:
> > Hi Tom,
> >
> > I think I found the reason for the problem with the ctrl - key.
> > Considering all selection ranges in
> > QgsAttributeTable::handleChangedSelections solves the problem:
> >
> > void QgsAttributeTable::handleChangedSelections()
> > {
> >   if (lockKeyPressed == false)
> >   {
> >     //clear the list and evaluate the last selection
> >     emit selectionRemoved(false);
> >   }
> >
> >   QList<QTableWidgetSelectionRange> selectedItemRanges =
> > selectedRanges(); QList<QTableWidgetSelectionRange>::const_iterator
> > range_it =
> > selectedItemRanges.constBegin();
> >   for(; range_it != selectedItemRanges.constEnd(); ++range_it)
> >     {
> >       for (int index = range_it->topRow(); index <=
> > range_it->bottomRow(); index++)
> > 	{
> > 	  emit selected(item(index, 0)->text().toInt(), false);
> > 	}
> >     }
> >
> >   emit repaintRequested();
> > }
> >
> >
> > Once you changed this, please commit the patch to svn.
> >
> > Regards,
> > Marco
> >
> >
> > ----------  Weitergeleitete Nachricht  ----------
> >
> > Betreff: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
> > Datum: Freitag 02 Mai 2008
> > Von: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
> > An: qgis-developer@lists.osgeo.org
> >
> > Hi Tom,
> >
> > I did a bit of testing. In general, things work fine. One problem I
> > encountered is that if multiple entries are selected in the attribute
> > table with holding the ctrl key down, the corresponsing map features are
> > not selected in map view. It works correctly with the shift key.
> >
> > Regards,
> > Marco
> >
> > Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
> >> Hello all,
> >>
> >> Here is a patch which removes use of Qt3 routines for all of QGIS except
> >> the GRASS plugin:
> >>
> >> http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
> >>
> >> Please test it and send comments. After resolving any issues, I would
> >> like to submit it to svn trunk.
> >>
> >> The GRASS plugin, which probably contains about half of the Qt3
> >> dependencies, will be done later. The patch was done to build with the
> >> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
> >> Mac/64bit.
> >>
> >> Three categories of changes have be made:
> >>
> >> 1. Remove use of qt3support library (Q3 classes).
> >> 2. Remove use of qt3 compatibility routines in qt4 classes.
> >> 3. Remove automatic cast of QString to char*.
> >>
> >> Classes and places with non-trivial changes are:
> >>
> >> Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
> >> qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
> >> qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect)
> >> Q3Dict to QHash (qgsprojectproperty)
> >> Q3Process to QProcess (qgsgpsplugin)
> >>
> >> The most complex change involved handling selections in the item view
> >> classes (tables, trees and lists) so this should be tested the most.
> >>
> >> In spite of its name, QTreeWidget also handles multicolumn lists which
> >> are not trees; just set rootIsDecoated to false. Qt4 QListWidget is for
> >> lists with one column and no header.
> >>
> >> Qt4 has two classes for each item view: QTable/Tree/ListWidget and
> >> QTable/Tree/ListView. The Widget classes contain a backing store and the
> >> View classes don't. The Widget classes correspond more closely to the Q3
> >> classes.
> >>
> >> qgsattributetable, which can take a while to load large tables, should
> >> probably be rewritten as a QTableView with an QAbstractTableModel
> >> subclass to pull individual cells directly for the provider as needed.
> >> It has been ported as a QTableWidget to keep the port straightforward
> >> and not introduce additional refactoring into this edit.
> >>
> >> Removing automatic casts of QString to char* also uncovered some odd
> >> code. Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever
> >> an implicit QString cast occurs. Based on these two examples, this macro
> >> serves as 'lint' for QStrings.
> >>
> >> QString str; delete str; // compiles due to cast of str.
> >> tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
> >>
> >> In most cases, I have used toUtf8() to eliminate implicit casts. If a
> >> file already used toAscii(), toLatin1() or toLocal8Bit(), I also used it
> >> to keep the file consistent. Implicit casts have also been removed from
> >> the GRASS plugin so that QT_NO_CAST_TO_ASCII can be defined for all
> >> future builds.
> >>
> >> The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
> >> Qt4.4-Cocoa-alpha1.
> >>
> >> Tom
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From botsnlinux at gmail.com  Wed May  7 08:49:49 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed May  7 08:49:53 2008
Subject: [Qgis-developer] Re: Qgis-developer Digest, Vol 27, Issue 7
In-Reply-To: <20080507064624.8CDBBE0168A@lists.osgeo.org>
References: <20080507064624.8CDBBE0168A@lists.osgeo.org>
Message-ID: <255b57430805070549t4e613383u783f98017c415c99@mail.gmail.com>

This is already possible, if I understand correctly.
Open the properties dialog for the layer you want and select the "General"
tab.  At the top are options for scale-dependent rendering, which will hide
the layer below or above a certain zoom level.
Steven


> Date: Wed, 7 May 2008 11:25:04 +0530
> From: "bargi john" <bargi1981@gmail.com>
> Subject: [Qgis-developer] Zoom In problem
> To: qgis-developer@lists.osgeo.org
> Message-ID:
>        <fd4ceb470805062255q4abe1decu1a41db40ec65c1fd@mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
>  Hi,
>
> I am working on a project in which I have to draw a large number of lines
> closed to each other.
> But it look too much dense. I want that when I zoomIn on lines then only
> other lines should be displayed.For ex. like in google map... Initially in
> Google map we saw thick picture but as we starts zoomIn steadily we see
> clear the other things like road,hotels etc.
>
> I have to add this ZoomIn functionality to my project.
>
> Is there any function in QGraphicsView or in QGraphicScence to achieve
> this
> or is this functionality already implemented in QGIS, if yes then please
> let
> me know where it is ? . I am using QPainter for drawing lines.
>
> Any help would greatly appreciated.
>
> Thanks
> Bargi
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080507/cbc7c51c/attachment.html
From tim at linfiniti.com  Wed May  7 12:22:33 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May  7 12:22:35 2008
Subject: Fwd: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <200805070946.07982.marco.hugentobler@karto.baug.ethz.ch>
References: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>
	<4821503A.8040103@comcast.net>
	<200805070946.07982.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0805070922j62ff3595i40f0248ea341f5e@mail.gmail.com>

Hi Tom

Just a bit of feedback to say that I built under msvc with your patch.
Based on my limited basic testing, all seems ok on that platform, but
I didnt go much beyond opening a couple of files and panning & zooming
around etc.

Regards

Tim

2008/5/7 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Thanks a lot!
>
>  Additionally I found (and commited) that clearing all existing selections in
>  handleChangedSelections() is always necessary. Because in QTableWidget, it is
>  now also possible to deselect rows while holding the ctrl key.
>
>  Regards,
>  Marco
>
>  Am Mittwoch 07 Mai 2008 08:46:18 schrieb Tom Elwertowski:
>
>
> > Hi Marco,
>  >
>  > I merged your revision and submitted the patch. checkSelectionChanges also
>  > needed the revision for deselection.
>  >
>  > Tom
>  >
>  > Marco Hugentobler wrote:
>  > > Hi Tom,
>  > >
>  > > I think I found the reason for the problem with the ctrl - key.
>  > > Considering all selection ranges in
>  > > QgsAttributeTable::handleChangedSelections solves the problem:
>  > >
>  > > void QgsAttributeTable::handleChangedSelections()
>  > > {
>  > >   if (lockKeyPressed == false)
>  > >   {
>  > >     //clear the list and evaluate the last selection
>  > >     emit selectionRemoved(false);
>  > >   }
>  > >
>  > >   QList<QTableWidgetSelectionRange> selectedItemRanges =
>  > > selectedRanges(); QList<QTableWidgetSelectionRange>::const_iterator
>  > > range_it =
>  > > selectedItemRanges.constBegin();
>  > >   for(; range_it != selectedItemRanges.constEnd(); ++range_it)
>  > >     {
>  > >       for (int index = range_it->topRow(); index <=
>  > > range_it->bottomRow(); index++)
>  > >     {
>  > >       emit selected(item(index, 0)->text().toInt(), false);
>  > >     }
>  > >     }
>  > >
>  > >   emit repaintRequested();
>  > > }
>  > >
>  > >
>  > > Once you changed this, please commit the patch to svn.
>  > >
>  > > Regards,
>  > > Marco
>  > >
>  > >
>  > > ----------  Weitergeleitete Nachricht  ----------
>  > >
>  > > Betreff: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
>  > > Datum: Freitag 02 Mai 2008
>  > > Von: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>  > > An: qgis-developer@lists.osgeo.org
>  > >
>  > > Hi Tom,
>  > >
>  > > I did a bit of testing. In general, things work fine. One problem I
>  > > encountered is that if multiple entries are selected in the attribute
>  > > table with holding the ctrl key down, the corresponsing map features are
>  > > not selected in map view. It works correctly with the shift key.
>  > >
>  > > Regards,
>  > > Marco
>  > >
>  > > Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
>  > >> Hello all,
>  > >>
>  > >> Here is a patch which removes use of Qt3 routines for all of QGIS except
>  > >> the GRASS plugin:
>  > >>
>  > >> http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>  > >>
>  > >> Please test it and send comments. After resolving any issues, I would
>  > >> like to submit it to svn trunk.
>  > >>
>  > >> The GRASS plugin, which probably contains about half of the Qt3
>  > >> dependencies, will be done later. The patch was done to build with the
>  > >> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
>  > >> Mac/64bit.
>  > >>
>  > >> Three categories of changes have be made:
>  > >>
>  > >> 1. Remove use of qt3support library (Q3 classes).
>  > >> 2. Remove use of qt3 compatibility routines in qt4 classes.
>  > >> 3. Remove automatic cast of QString to char*.
>  > >>
>  > >> Classes and places with non-trivial changes are:
>  > >>
>  > >> Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
>  > >> qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
>  > >> qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect)
>  > >> Q3Dict to QHash (qgsprojectproperty)
>  > >> Q3Process to QProcess (qgsgpsplugin)
>  > >>
>  > >> The most complex change involved handling selections in the item view
>  > >> classes (tables, trees and lists) so this should be tested the most.
>  > >>
>  > >> In spite of its name, QTreeWidget also handles multicolumn lists which
>  > >> are not trees; just set rootIsDecoated to false. Qt4 QListWidget is for
>  > >> lists with one column and no header.
>  > >>
>  > >> Qt4 has two classes for each item view: QTable/Tree/ListWidget and
>  > >> QTable/Tree/ListView. The Widget classes contain a backing store and the
>  > >> View classes don't. The Widget classes correspond more closely to the Q3
>  > >> classes.
>  > >>
>  > >> qgsattributetable, which can take a while to load large tables, should
>  > >> probably be rewritten as a QTableView with an QAbstractTableModel
>  > >> subclass to pull individual cells directly for the provider as needed.
>  > >> It has been ported as a QTableWidget to keep the port straightforward
>  > >> and not introduce additional refactoring into this edit.
>  > >>
>  > >> Removing automatic casts of QString to char* also uncovered some odd
>  > >> code. Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever
>  > >> an implicit QString cast occurs. Based on these two examples, this macro
>  > >> serves as 'lint' for QStrings.
>  > >>
>  > >> QString str; delete str; // compiles due to cast of str.
>  > >> tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>  > >>
>  > >> In most cases, I have used toUtf8() to eliminate implicit casts. If a
>  > >> file already used toAscii(), toLatin1() or toLocal8Bit(), I also used it
>  > >> to keep the file consistent. Implicit casts have also been removed from
>  > >> the GRASS plugin so that QT_NO_CAST_TO_ASCII can be defined for all
>  > >> future builds.
>  > >>
>  > >> The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
>  > >> Qt4.4-Cocoa-alpha1.
>  > >>
>  > >> Tom
>  > >> _______________________________________________
>  > >> Qgis-developer mailing list
>  > >> Qgis-developer@lists.osgeo.org
>  > >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >
>  > _______________________________________________
>  > Qgis-developer mailing list
>  > Qgis-developer@lists.osgeo.org
>  > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> --
>  Dr. Marco Hugentobler
>  Institute of Cartography
>  ETH Zurich
>  Technical Advisor QGIS Project Steering Committee
>
>
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tutey at o2.pl  Wed May  7 12:24:07 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed May  7 12:24:24 2008
Subject: [Qgis-developer] SVN commit ML is down
In-Reply-To: <481DA2DA.6070303@o2.pl>
References: <481DA2DA.6070303@o2.pl>
Message-ID: <4821D7A7.7070609@o2.pl>

Maciej Sieczka pisze:

> The SVN commit ML seems down again since 22.04.2008 23:50.

As of commit r8401 the ML seems back for good. Is there a way to get the 
missing commit notifications (r8378 - r8397, r8400)?

Maciek
From wonder.sk at gmail.com  Wed May  7 16:55:35 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May  7 16:55:39 2008
Subject: [Qgis-developer] SVN commit ML is down
In-Reply-To: <4821D7A7.7070609@o2.pl>
References: <481DA2DA.6070303@o2.pl> <4821D7A7.7070609@o2.pl>
Message-ID: <e8e7199c0805071355o4895d84dh3090f1040d1c33fb@mail.gmail.com>

On Wed, May 7, 2008 at 6:24 PM, Maciej Sieczka <tutey@o2.pl> wrote:
>
>  As of commit r8401 the ML seems back for good. Is there a way to get the
> missing commit notifications (r8378 - r8397, r8400)?

Maciej,

you can see the commits in Trac:
http://trac.osgeo.org/qgis/timeline

Martin
From psaravanan81 at gmail.com  Fri May  9 00:52:32 2008
From: psaravanan81 at gmail.com (Saravanan Ponnuswamy)
Date: Fri May  9 00:52:36 2008
Subject: [Qgis-developer] Regarding building qgis with make
Message-ID: <94b8ae6d0805082152q3b6e4ec0ma89231549309f2ef@mail.gmail.com>

hi ,

can anyone me whether can i build QGIS using make ? in the google i searched
regarding that and found that all the packages can be built with only cmake
. if anyone has qgis source which can be built with make ,can you mail me or
can you say me where to download from  ?

with regards,
saravanan.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080509/21f27a86/attachment.html
From tutey at o2.pl  Fri May  9 03:17:42 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri May  9 03:17:53 2008
Subject: [Qgis-developer] rendering GRASS rasters broken in UTF-8 locale
In-Reply-To: <48209673.40903@o2.pl>
References: <48209673.40903@o2.pl>
Message-ID: <4823FA96.9080703@o2.pl>

Maciej Sieczka pisze:

> I'm currently using QGIS 0.10.0 + SVN r8401 on Debian tetsing x86, QT
>  4.4.0 rc1 in pl_PL.utf8 locale.
> 
> Any GRASS raster (even as small as 50x50 cells) which has a 
> colortable, freezes QGIS. QGIS last debug words, before pressing OK 
> in the "Add GRASS raster" dialog, are attached in a txt file.
> 
> Also, when I load a GRASS raster *without* a colortable it renders OK
>  (ie. all-grey, as one would expect since it has no coloratable 
> assigned), but when I try reducing the window size QGIS crashes, 
> saying:
> 
> Warning 1: GRASS fatal error: region for current mapset is invalid 
> line 16: <e-w resol3: 29.98442368> run "g.region"
> 
> When I start QGIS in C locale (eg. from a terminal after "export 
> LC_ALL=C") neither of these problems take place - GRASS rasters with 
> colortable are rendered OK and I can stretch/reduce the window as I 
> like without a crash. What's wrong?

Folks,

Does anybody else have this problem too? Maybe it is just me.

Maciek
From jef at norbit.de  Fri May  9 04:37:47 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri May  9 04:37:53 2008
Subject: [Qgis-developer] Regarding building qgis with make
In-Reply-To: <94b8ae6d0805082152q3b6e4ec0ma89231549309f2ef@mail.gmail.com>
References: <94b8ae6d0805082152q3b6e4ec0ma89231549309f2ef@mail.gmail.com>
Message-ID: <20080509083747.GA392@norbit.de>

Hi Saravanan,

On Fri, 09. May 2008 at 10:22:32 +0530, Saravanan Ponnuswamy wrote:
> can anyone me whether can i build QGIS using make?

What your problem with cmake?  cmake creates Makefiles.  The build is
then done with make.


Mit freundlichen Gr??en,
  J?rgen Fischer
  norBIT GmbH

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From otto.dassau at gmx.de  Fri May  9 05:27:19 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Fri May  9 05:27:56 2008
Subject: [Qgis-user] Re: [Qgis-developer] rendering GRASS rasters broken
	in UTF-8 locale
In-Reply-To: <f902f9840805090116i6c14daedvd341957ea91ccc0@mail.gmail.com>
References: <48209673.40903@o2.pl> <4823FA96.9080703@o2.pl>
	<f902f9840805090116i6c14daedvd341957ea91ccc0@mail.gmail.com>
Message-ID: <20080509112719.61d582fc@nature>

Hi, 

I work on QGIS 0.10.0 + SVN Revision 8416 (today) on Debian testing i586, QT
4.4.0 rc1 in DE.utf8 locale and have the same problem testing with spearfish
aspect map (and other).

Regards,
 Otto

On Fri, 9 May 2008 16:16:05 +0800
"maning sambale" <emmanuel.sambale@gmail.com> wrote:

> I'm just doing the same in windows (QGIS Io)
> 
> GRASS DEM with colortables from r.colors color=etopo2
> 
> I get no problems so far
> 
> cheers,
> 
> maning
> On Fri, May 9, 2008 at 3:17 PM, Maciej Sieczka <tutey@o2.pl> wrote:
> > Maciej Sieczka pisze:
> >
> >> I'm currently using QGIS 0.10.0 + SVN r8401 on Debian tetsing x86, QT
> >>  4.4.0 rc1 in pl_PL.utf8 locale.
> >>
> >> Any GRASS raster (even as small as 50x50 cells) which has a colortable,
> >> freezes QGIS. QGIS last debug words, before pressing OK in the "Add GRASS
> >> raster" dialog, are attached in a txt file.
> >>
> >> Also, when I load a GRASS raster *without* a colortable it renders OK
> >>  (ie. all-grey, as one would expect since it has no coloratable assigned),
> >> but when I try reducing the window size QGIS crashes, saying:
> >>
> >> Warning 1: GRASS fatal error: region for current mapset is invalid line
> >> 16: <e-w resol3: 29.98442368> run "g.region"
> >>
> >> When I start QGIS in C locale (eg. from a terminal after "export
> >> LC_ALL=C") neither of these problems take place - GRASS rasters with
> >> colortable are rendered OK and I can stretch/reduce the window as I like
> >> without a crash. What's wrong?
> >
> > Folks,
> >
> > Does anybody else have this problem too? Maybe it is just me.
> >
> > Maciek
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-user
> >
> 
> 
> 
From cavallini at faunalia.it  Fri May  9 06:10:12 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri May  9 06:10:20 2008
Subject: [Qgis-developer] [Fwd: Re: [Qgis-user] projection bug?]
Message-ID: <48242304.50903@faunalia.it>

anybody has a solution to this?
all the best.
pc

-------- Messaggio Originale  --------
Oggetto: Re: [Qgis-user] projection bug?
Data: Thu, 08 May 2008 22:55:52 +0200
Da: Maciej Sieczka <tutey@o2.pl>
A: cavallini@faunalia.it
CC: qgis-user <qgis-user@lists.osgeo.org>
Referenze: <4823262F.7000403@faunalia.it>

Paolo Cavallini pisze:

> Testing 0.10 from debian.gfoss.it we noticed that on the fly projection
> apparently is not working. Does anybody confirm this?

Hi Paolo

I have 0.10.0 + SVN 8401 installed and OTF works for me.

Check if your layer you want to re-project has a correct SRS assigned.

QGIS fails to recognize many SRSes at layer load time, due to a change
in GDAL [1].

[1]http://www.nabble.com/forum/ViewPost.jtp?post=16592790&framed=y

Maciek


-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From cavallini at faunalia.it  Fri May  9 08:54:19 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri May  9 08:54:33 2008
Subject: [Qgis-developer] trouble with grass plugin
Message-ID: <4824497B.2080709@faunalia.it>

I'm unable to load GRASS raster or vectors (0.10 from debian.gfoss.it).
This seems related to the proj k problem pointed out by Maciek.
Seems a major bug, as GRASS is unusable with all projections with a k
parameter (and more).
All the best.
pc
============================
VECTORS

error_routine (fatal = 0): Unable to initialise PROJ.4 with the
following parameter list: +proj=tmerc +lat_0=0 +lon_0=9 +k=0.999600
+x_0=1500000 +y_0=0 +no_defs +a=6378388 +b=6378388
error_routine (fatal = 0): The error message: k <= 0
error_routine (fatal = 0): Can't parse GRASS PROJ_INFO file
Critical: QgsSpatialRefSys::createFromWkt -- theWkt is uninitialised,
operation failed
Warning: No valid projection. Unable to set map units.
Raster Algebra: renderTest called!
QgsGrass::vectors()
QgsGrass::vectors()
QgsGrass::vectors()
error_routine (fatal = 1): default region is invalid
line 4: <south:      -28513.88928299>
Cannot open GRASS vector: default region is invalid
line 4: <south:      -28513.88928299>

then segfault
============================
RASTERS

Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs
where parameters='+proj=longlat +a=6378137 +b=6356733.855704698
+towgs84=0.000,0.000,0.000 +no_defs'
Warning: QgsSpatialRefSys::findMatchingProj will only work if prj acr
ellipsoid acr and proj4string are set!...
Warning: No valid projection. Unable to set map units.
Warning: QPainter::begin: Painter already active
Warning: QPainter::begin: Painter already active
Warning: QPainter::begin: Painter already active
Raster Algebra: renderTest called!
QgsGrassPlugin::addRaster
QgsGrass::rasters()
QgsGrass::rasters()
QgsGrass::rasters()
ERROR 4:
`/home/Documenti/datigrass//Mondo_LatLong/leo/cellhd/carta_tempo' not
recognised as a supported file format.

then segfault
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From marco.hugentobler at karto.baug.ethz.ch  Sat May 10 05:51:00 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Sat May 10 05:51:28 2008
Subject: [Qgis-developer] Problem building on Mac
References: <04DA676AA276F045B32D0F95783D78440AF834@EX6.d.ethz.ch>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF835@EX6.d.ethz.ch>

Hi Mac Gurus,

I'm trying to compile QGIS on a Mac (the rendercontext branch). The build stops close to the end with the following message:

make -f src/mac/Contents/CMakeFiles/Info.plist.dir/build.make src/mac/Contents/CMakeFiles/Info.plist.dir/build
cd /Users/marco/src/qgis_rendercontext/build/src/mac/Contents && "VERSION=\`grep" VERSION /Users/marco/src/qgis_rendercontext/build/qgsconfig.h | sed -e s/#define\ VERSION\ // -e s/\"//g ` && SVNVERSION=`grep QGSSVNVERSION /Users/marco/src/qgis_rendercontext/build/qgssvnversion.h | sed -e s/#define\ QGSSVNVERSION\ // -e s/\"//g ` && sed -e s/@VERSION/$VERSION/ -e s/@SHORTVERSION/$VERSION/ -e s/@SVNVERSION/$SVNVERSION/ < /Users/marco/src/qgis_rendercontext/src/mac/Contents/Info.plist.in > Info.plist
/bin/sh: -c: line 0: unexpected EOF while looking for matching ``'
/bin/sh: -c: line 1: syntax error: unexpected end of file
make[2]: *** [src/mac/Contents/CMakeFiles/Info.plist] Error 2
make[1]: *** [src/mac/Contents/CMakeFiles/Info.plist.dir/all] Error 2
make: *** [all] Error 2


What am I doing wrong?

Regards,
Marco

From tutey at o2.pl  Sat May 10 07:45:31 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat May 10 07:46:15 2008
Subject: [Qgis-developer] trouble with grass plugin
In-Reply-To: <4824497B.2080709@faunalia.it>
References: <4824497B.2080709@faunalia.it>
Message-ID: <48258ADB.9030801@o2.pl>

Paolo Cavallini pisze:
> I'm unable to load GRASS raster or vectors (0.10 from debian.gfoss.it).
> This seems related to the proj k problem pointed out by Maciek.
> Seems a major bug, as GRASS is unusable with all projections with a k
> parameter (and more).

> ============================
> VECTORS
> 
> error_routine (fatal = 0): Unable to initialise PROJ.4 with the
> following parameter list: +proj=tmerc +lat_0=0 +lon_0=9 +k=0.999600
> +x_0=1500000 +y_0=0 +no_defs +a=6378388 +b=6378388
> error_routine (fatal = 0): The error message: k <= 0
> error_routine (fatal = 0): Can't parse GRASS PROJ_INFO file
> Critical: QgsSpatialRefSys::createFromWkt -- theWkt is uninitialised,
> operation failed
> Warning: No valid projection. Unable to set map units.
> Raster Algebra: renderTest called!
> QgsGrass::vectors()
> QgsGrass::vectors()
> QgsGrass::vectors()
> error_routine (fatal = 1): default region is invalid
> line 4: <south:      -28513.88928299>
> Cannot open GRASS vector: default region is invalid
> line 4: <south:      -28513.88928299>
> 
> then segfault

> ============================
> RASTERS
> 
> Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs
> where parameters='+proj=longlat +a=6378137 +b=6356733.855704698
> +towgs84=0.000,0.000,0.000 +no_defs'
> Warning: QgsSpatialRefSys::findMatchingProj will only work if prj acr
> ellipsoid acr and proj4string are set!...
> Warning: No valid projection. Unable to set map units.
> Warning: QPainter::begin: Painter already active
> Warning: QPainter::begin: Painter already active
> Warning: QPainter::begin: Painter already active
> Raster Algebra: renderTest called!
> QgsGrassPlugin::addRaster
> QgsGrass::rasters()
> QgsGrass::rasters()
> QgsGrass::rasters()
> ERROR 4:
> `/home/Documenti/datigrass//Mondo_LatLong/leo/cellhd/carta_tempo' not
> recognised as a supported file format.
> 
> then segfault

I don't have a segfault in either case, but I confirm that SRS of GRASS 
data are not recognized.

Maciek

From tutey at o2.pl  Sat May 10 08:40:02 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat May 10 08:40:05 2008
Subject: [Qgis-developer] [Fwd: Re: [Qgis-user] projection bug?]
In-Reply-To: <48242304.50903@faunalia.it>
References: <48242304.50903@faunalia.it>
Message-ID: <482597A2.8080500@o2.pl>

Paolo Cavallini pisze:
> Maciej Sieczka pisze:
>> Paolo Cavallini pisze:

>>> Testing 0.10 from debian.gfoss.it we noticed that on the fly
>>> projection apparently is not working. Does anybody confirm this?

>> I have 0.10.0 + SVN 8401 installed and OTF works for me.
>> 
>> Check if your layer you want to re-project has a correct SRS
>> assigned.
>> 
>> QGIS fails to recognize many SRSes at layer load time, due to a
>> change in GDAL [1].
>> 
>> [1]http://www.nabble.com/forum/ViewPost.jtp?post=16592790&framed=y

> anybody has a solution to this?

The only "solution" I know of for now is to revert back to GDAL 1.4.2
(the last release not including the mentioned change).

Another would be to trim off the spurious zeros from k parameter in QGIS
srs.db. Although this would break compatibility between QGIS and GDAL <
1.4.4 it should not be an issue as GDAL 1.4.2 is pretty old now.

However, deleting these zeros might break QGIS interaction with POSTGIS,
as even the newest 1.3.3 release stores k paramaters with extra zeros in
spatial_ref_sys table, column 'proj4text column'. QGIS devs - is this
guess correct? I already asked about that on the ML but here was no
response. Any feedback will be very appreciated so it can be decided if
deleting these zeros is safe.

Ideally, QGIS should compare numerical values of SRS parameters, not
strings as it does now, so that eg. it considered 0.999300 equal 0.9993
and no problem. QGIS devs - could this be applied?

Note that there is another related bug in GDAL > 1.4.4 [1], which also
prevents SRS recognition is QGIS. Fixed in trunk, awaiting to be
backported to 1.5 stable branch. Once this is done and once we decide if
to delete the offending zeros in srs.db, I'll get back to updating
srs.sb to match the latest EPSG database used in PROJ and GDAL.

[1]http://trac.osgeo.org/gdal/ticket/2036

Maciek
From telwertowski at comcast.net  Sat May 10 14:14:16 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Sat May 10 14:14:27 2008
Subject: [Qgis-developer] Problem building on Mac
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF835@EX6.d.ethz.ch>
References: <04DA676AA276F045B32D0F95783D78440AF834@EX6.d.ethz.ch>
	<04DA676AA276F045B32D0F95783D78440AF835@EX6.d.ethz.ch>
Message-ID: <4825E5F8.8010005@comcast.net>

Hi Marco,

Perhaps the file src/mac/Contents/Info.plist.in has been corrupted. It should be an xml text file. The script is trying to replace @VERSION, @SVNVERSION and @SHORTVERSION with versions from qgsconfig.h and gsqsvnversion.h

It works for me ;-) using an unmodified rendercontext branch.

Tom


Hugentobler Marco wrote:
> Hi Mac Gurus,
> 
> I'm trying to compile QGIS on a Mac (the rendercontext branch). The build stops close to the end with the following message:
> 
> make -f src/mac/Contents/CMakeFiles/Info.plist.dir/build.make src/mac/Contents/CMakeFiles/Info.plist.dir/build
> cd /Users/marco/src/qgis_rendercontext/build/src/mac/Contents && "VERSION=\`grep" VERSION /Users/marco/src/qgis_rendercontext/build/qgsconfig.h | sed -e s/#define\ VERSION\ // -e s/\"//g ` && SVNVERSION=`grep QGSSVNVERSION /Users/marco/src/qgis_rendercontext/build/qgssvnversion.h | sed -e s/#define\ QGSSVNVERSION\ // -e s/\"//g ` && sed -e s/@VERSION/$VERSION/ -e s/@SHORTVERSION/$VERSION/ -e s/@SVNVERSION/$SVNVERSION/ < /Users/marco/src/qgis_rendercontext/src/mac/Contents/Info.plist.in > Info.plist
> /bin/sh: -c: line 0: unexpected EOF while looking for matching ``'
> /bin/sh: -c: line 1: syntax error: unexpected end of file
> make[2]: *** [src/mac/Contents/CMakeFiles/Info.plist] Error 2
> make[1]: *** [src/mac/Contents/CMakeFiles/Info.plist.dir/all] Error 2
> make: *** [all] Error 2
> 
> 
> What am I doing wrong?
> 
> Regards,
> Marco
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From rdmailings at duif.net  Sun May 11 05:53:49 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun May 11 05:53:52 2008
Subject: [Qgis-developer] [Fwd: Re: [Qgis-user] projection bug?]
In-Reply-To: <482597A2.8080500@o2.pl>
References: <48242304.50903@faunalia.it> <482597A2.8080500@o2.pl>
Message-ID: <4826C22D.6070109@duif.net>

Maciej Sieczka wrote:
>>> QGIS fails to recognize many SRSes at layer load time, due to a
>>> change in GDAL [1].
>>>
>>> [1]http://www.nabble.com/forum/ViewPost.jtp?post=16592790&framed=y
> 
>> anybody has a solution to this?
> 
> The only "solution" I know of for now is to revert back to GDAL 1.4.2
> (the last release not including the mentioned change).
> 
> Another would be to trim off the spurious zeros from k parameter in QGIS
> srs.db. Although this would break compatibility between QGIS and GDAL <
> 1.4.4 it should not be an issue as GDAL 1.4.2 is pretty old now.
> 
> However, deleting these zeros might break QGIS interaction with POSTGIS,
> as even the newest 1.3.3 release stores k paramaters with extra zeros in
> spatial_ref_sys table, column 'proj4text column'. QGIS devs - is this
> guess correct? I already asked about that on the ML but here was no
> response. Any feedback will be very appreciated so it can be decided if
> deleting these zeros is safe.
> 
> Ideally, QGIS should compare numerical values of SRS parameters, not
> strings as it does now, so that eg. it considered 0.999300 equal 0.9993
> and no problem. QGIS devs - could this be applied?
> 
> Note that there is another related bug in GDAL > 1.4.4 [1], which also
> prevents SRS recognition is QGIS. Fixed in trunk, awaiting to be
> backported to 1.5 stable branch. Once this is done and once we decide if
> to delete the offending zeros in srs.db, I'll get back to updating
> srs.sb to match the latest EPSG database used in PROJ and GDAL.

Hi Maciej and others,

just to be sure I still understand the discussion about these 
'srs'-problems:

1) comparing srs as numeric or string, OR revert back to older GDAL:
I'm not able to change the comparing part of the SRS parameters myself. 
But it seems reasonable to me to do so?
Who can, or who has arguments against it?
IF that is fixed, we get rid of the 'trailing-k-factor--bug isn't it?

2) GDAL-bug
We as qgis-team cannot do something on the GDAL problem, is it? Just 
wait till it's in the stable branch for us?
Maybe we should write a wiki-page for this stuff so people who build 
both GDAL and QGIS themselves can be aware of these problems, and can 
make a decision of what GDAL-version to use on that ...

3) generating the srs.db by epgs_tr.py
Who is trying to update the epsg_tr.py for the qgis srs.db now?:
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/scripts/epsg_tr.py
Is that you Maciej, or are you or Frank waiting on the GDAL-problem to 
be fixed?
If we are in line with the postgis and other srs definitions, that would 
fix some problems also isn't it?

4) the fact that certain srs's are deprecated, or not ok (anymore).
This kind of information is not only interesting for QGIS users, but 
also for other users of the srs-list.
Is somebody aware of a 'list' of deprecated of not to be used 
epsg-parameters (e.g. I know the dutch epgs is still wrong....).

If we can find (or build) a central source for this (it's not in the 
official epgs-mdb isn't it?), it can maybe included in the 
srs-lists/db's  (extra column, extra group?) so users can see this?

5) the fact that certain projections have more then ONE possible 
parameter-string, and the srs-list reveres back to a 
'default/general'-parameters.
If we could include this info into the srs.db also, we could point users 
to a information source (wiki page) where there is some info about the 
usable param-strings?


Regards,

Richard Duivenvoorde
From b.rowlingson at lancaster.ac.uk  Sun May 11 05:48:35 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sun May 11 06:05:58 2008
Subject: [Qgis-developer] Qwt widgets in Qgis
Message-ID: <4826C0F3.6000407@lancaster.ac.uk>


   I just noticed that Qgis (0.10.0-Io, Windows XP) seems to have the Qwt
widget stuff included, including Python bindings.  Thought this might be
useful, so I started playing with it in a Python command line.  Qwt lets
me do stuff like this to get a blank X-Y plot - this works fine from a
DOS command-line Python:

    from PyQt4.QtCore import *
    from PyQt4.QtGui import *
    app=QApplication([])
    import PyQt4.Qwt5
    myPlot = PyQt4.Qwt5.QwtPlot()
    myPlot.show()

   but if I try that from the QGis Python console (actually, just the
last three lines, don't do QApplication() from the console), Qgis
crashes out when I call QwtPlot() to instantiate a plot object.

   There's some differences: my command-line python is 2.5.1 and my qgis
python is 2.5.2. Versions of Qwt5 are the same (5.0.2) and my pythons
are getting Qwt5 from the right places - Qgis gets it from its python
folder, and command-line python gets it from C:\\Python25\\blahblabla.

   Does this happen to anyone else on this or other platforms?  And also,
is there a guarantee that Qwt will be available in Qgis releases?  It
does look handy for scientific applications - not just the plots, there
are some useful widgets in there too (floating point sliders ftw!).

Barry

#irc: spacedman
From tutey at o2.pl  Sun May 11 06:50:42 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun May 11 06:50:47 2008
Subject: [Qgis-developer] [Fwd: Re: [Qgis-user] projection bug?]
In-Reply-To: <4826C22D.6070109@duif.net>
References: <48242304.50903@faunalia.it> <482597A2.8080500@o2.pl>
	<4826C22D.6070109@duif.net>
Message-ID: <4826CF82.7090706@o2.pl>

Hi Richard,

I'll try to adress some of your questions.

Richard Duivenvoorde pisze:
> Maciej Sieczka wrote:

> just to be sure I still understand the discussion about these 
> 'srs'-problems:
> 
> 1) comparing srs as numeric or string, OR revert back to older GDAL:
>  I'm not able to change the comparing part of the SRS parameters 
> myself. But it seems reasonable to me to do so?

> Who can

QGIS developers I guess. And I'm asking if they can/want to do this.

> , or who has arguments against it?

I'm also curious.

> IF that is fixed, we get rid of the 'trailing-k-factor--bug isn't it?
> 
> 
This is what I *suspect*. A QGIS developer please correct me.

> 2) GDAL-bug We as qgis-team cannot do something on the GDAL problem, 
> is it? Just wait till it's in the stable branch for us?

Yes. Yesterday Mateusz has taken this task, but there is one thing
holding him off - see comment 9, 10 in [1].

> Maybe we should write a wiki-page for this stuff so people who build 
> both GDAL and QGIS themselves can be aware of these problems, and can
> make a decision of what GDAL-version to use on that ...

> 3) generating the srs.db by epgs_tr.py Who is trying to update the 
> epsg_tr.py for the qgis srs.db now?: 
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/scripts/epsg_tr.py
> 
> 
> 
> 
> 
> Is that you Maciej, or are you or Frank waiting on the GDAL-problem 
> to be fixed?

Like I wrote in my previous email I'll wait with updating the srs.db
until bug [1] in GDAL stable branch is solved.

QGIS depends on SRS matching in proj4 format. The bug [1] corrupts
numeric values of SRSs in proj4 format in GDAL. SRS matching against
GDAL>=1.5 in proj4 format, either string or numeric wise, is broken
currently.

Thus, updating the QGIS srs.db now would not improve anything much yet -
even though we get rid of the "extra zeros i k" issue by trimmimg them
of from srs.db, there would still be the problem that QGIS would have
eg. k=0.9993 for EPSG:2180, while GDAL would have k=0.9993000000000001
and SRS matching would not work anyway.

> If we are in line with the postgis and other srs definitions, that 
> would fix some problems also isn't it?

Definitely keeping the SRS definitions for PROJ.4, GDAL, QGIS and
PostGIS would prevent some headaches.

> 4) the fact that certain srs's are deprecated, or not ok (anymore). 
> This kind of information is not only interesting for QGIS users, but 
> also for other users of the srs-list. Is somebody aware of a 'list' 
> of deprecated of not to be used epsg-parameters

This can be obtained from the EPSG dataset.

> (e.g. I know the dutch epgs is still wrong....).

You mean it's wrong in the EPSG dataset or in QGIS? You can verify the
actual status on the EPSG Registry website [2] and if it's wrong there
ask them to fix it [3].

> If we can find (or build) a central source for this (it's not in the 
> official epgs-mdb isn't it?),

It is there. Table 'epsg_coordinatereferencesystem' column 'deprecated'.

> it can maybe included in the srs-lists/db's  (extra column, extra 
> group?) so users can see this?

If I'm able to do it I'll try to create a group of deprecated SRSs when
I'll be updating the srs.db.

> 5) the fact that certain projections have more then ONE possible 
> parameter-string, and the srs-list reveres back to a 
> 'default/general'-parameters.

I'm not sure I understand what you mean. Could you elaborate?

Maciek

[1]http://trac.osgeo.org/gdal/ticket/2036
[2]http://www.epsg-registry.org
[3]http://www.epsg.org/Comms/Comment.asp
From mschulz at webgis.de  Sun May 11 12:32:10 2008
From: mschulz at webgis.de (Michael Schulz)
Date: Sun May 11 12:32:12 2008
Subject: [Qgis-developer] mapserver export plugin
Message-ID: <e750b12e0805110932p37498f75r9cb950f88c232843@mail.gmail.com>

Hi,

i'd like to know what the status of the mapserver export plugin is? Is
it in active development? I am working at the moment with the plugin
shipped with qgis 0.10 and i would like to contribute to this plugin.
What would be the best way to do this?

Thanks, Michael

-- 
-----------------------------------------------------------
Michael Schulz
mschulz@webgis.de

in medias res
Gesellschaft f?r Informationstechnologie mbH

In den Weihermatten 66
79108 Freiburg

Tel +49 (0)761 556959-5
Fax +49 (0)761 556959-6

http://www.webgis.de / http://www.zopecms.de
-----------------------------------------------------------
From rdmailings at duif.net  Sun May 11 13:55:23 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun May 11 13:55:27 2008
Subject: [Qgis-developer] [Fwd: Release of EPSG Geodetic Parameter Dataset
 v6.15 and online, web-enabled EPSG Geodetic Parameter Registry]
Message-ID: <4827330B.10900@duif.net>

FYI,
an annoucement from "Geodesy Subcommittee of the OGP Surveying and 
Positioning Committee"/epsg.org for a new release of the epsg dataset:
- there's a 'webservice' now: http://www.epsg-registry.org/
- possibility to "export of the entire EPSG data set as GML 3.2 
dictionaries"
- asking for an opinion about which MsAccess version to use
- partial changelog
etc
-------------- next part --------------
An embedded message was scrubbed...
From: "Jim Cain" <jim.cain@cain-barnes.com>
Subject: Release of EPSG Geodetic Parameter Dataset v6.15 and online,
	web-enabled EPSG Geodetic Parameter Registry
Date: Sun, 11 May 2008 11:46:27 -0500
Size: 34604
Url: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080511/48220395/ReleaseofEPSGGeodeticParameterDatasetv6.15andonlineweb-enabledEPSGGeodeticParameterRegistry-0001.eml
From jef at norbit.de  Sun May 11 18:30:13 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun May 11 18:30:22 2008
Subject: [Qgis-developer] mapserver export plugin
In-Reply-To: <e750b12e0805110932p37498f75r9cb950f88c232843@mail.gmail.com>
References: <e750b12e0805110932p37498f75r9cb950f88c232843@mail.gmail.com>
Message-ID: <20080511223013.GA22985@norbit.de>

Hi Michael,

On Sun, 11. May 2008 at 18:32:10 +0200, Michael Schulz wrote:
> i'd like to know what the status of the mapserver export plugin is? Is
> it in active development?

Gary Sherman's python based mapserver export plugin is quite new.


> What would be the best way to do this?

You could file enhancement tickets to trac.osgeo.org/qgis and attach
patches.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From marco.hugentobler at karto.baug.ethz.ch  Mon May 12 02:53:09 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon May 12 02:52:33 2008
Subject: AW: [Qgis-developer] rendercontext-branch
In-Reply-To: <481AC3EB.1080504@comcast.net>
References: <04DA676AA276F045B32D0F95783D78440AF818@EX6.d.ethz.ch>
	<04DA676AA276F045B32D0F95783D78440AF82E@EX6.d.ethz.ch>
	<481AC3EB.1080504@comcast.net>
Message-ID: <200805120853.10037.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

I had the change to test on a intel mac with OS X and Qt 4.3.4. I don't see 
the scramble bug, but I see the resize bug. Seems that we have all possible 
combinations now :-)

I disabled incremental screeb update and the possibility to stop rendering for 
now on Mac until we have threaded rendering.

Btw. do you have a link that describes the problem with the resize events on 
Mac? I could not find anything about it in the Qt documentation.

Regards,
Marco


Am Freitag 02 Mai 2008 09:34:03 schrieb Tom Elwertowski:
> Hugentobler Marco wrote:
> > Ok, I now compiled the branch on the G4 (in debug mode). I don't have the
> > two issues, it does not scramble and also the main window resizes
> > properly (does not snap back). Should I try also release mode or maybe
> > the problem is more likely to appear on newer (faster) hardware?
>
> The scramble bug is related to OS version or processor. Yesterday, I found
> it using an Intel Mac with OS X 10.5. Today I built the branch on a G4 Mac
> with OS X 10.4 and I do not see the problem. Both are using Qt 4.3.4.
>
> I still see the resize bug on the G4. Prior to r8394, it happens only when
> the update threshold is greater the zero. With r8394, it always happens.
>
> Tom
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Mon May 12 08:35:05 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 12 08:35:07 2008
Subject: [Qgis-developer] Qwt widgets in Qgis
In-Reply-To: <4826C0F3.6000407@lancaster.ac.uk>
References: <4826C0F3.6000407@lancaster.ac.uk>
Message-ID: <d368056f0805120535u72acee93j321d9730f2a4dfd4@mail.gmail.com>

Hi

I think Qwt is in there by accident rather than by design. QGIS itself
doesnt have any dependency on Qwt and I dont think there are any plans
to add this as a requirement for 1.0.

Regards

Tim

2008/5/11 Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
>
>   I just noticed that Qgis (0.10.0-Io, Windows XP) seems to have the Qwt
>  widget stuff included, including Python bindings.  Thought this might be
>  useful, so I started playing with it in a Python command line.  Qwt lets
>  me do stuff like this to get a blank X-Y plot - this works fine from a
>  DOS command-line Python:
>
>    from PyQt4.QtCore import *
>    from PyQt4.QtGui import *
>    app=QApplication([])
>    import PyQt4.Qwt5
>    myPlot = PyQt4.Qwt5.QwtPlot()
>    myPlot.show()
>
>   but if I try that from the QGis Python console (actually, just the
>  last three lines, don't do QApplication() from the console), Qgis
>  crashes out when I call QwtPlot() to instantiate a plot object.
>
>   There's some differences: my command-line python is 2.5.1 and my qgis
>  python is 2.5.2. Versions of Qwt5 are the same (5.0.2) and my pythons
>  are getting Qwt5 from the right places - Qgis gets it from its python
>  folder, and command-line python gets it from C:\\Python25\\blahblabla.
>
>   Does this happen to anyone else on this or other platforms?  And also,
>  is there a guarantee that Qwt will be available in Qgis releases?  It
>  does look handy for scientific applications - not just the plots, there
>  are some useful widgets in there too (floating point sliders ftw!).
>
>  Barry
>
>  #irc: spacedman
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Mon May 12 08:41:54 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 12 08:41:57 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
Message-ID: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>

Hi Folks

I would like to change the minimum requirement from Qt4.2 to 4.3.
Version 4.2 is old now and I am busy revamping all the dialogs as part
of my ui revision for 1.0. release - and I would like to use Qt4.3 for
this (and make use of some of the new features it has). Could you
please cast your vote if you are in favour?

+1 - lets update the minimum requirement to Qt4.3.x

0  -  dont care

-1 - aaargh this is gonna hurt!

Assuming no major objections exist, I will start checking in qt4.3
only dialogs on Weds.

Thanks

Tim

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From ersts at amnh.org  Mon May 12 08:59:06 2008
From: ersts at amnh.org (Peter Ersts)
Date: Mon May 12 08:59:16 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
In-Reply-To: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
References: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
Message-ID: <48283F1A.6080407@amnh.org>

+1

Tim Sutton wrote:
> Hi Folks
>
> I would like to change the minimum requirement from Qt4.2 to 4.3.
> Version 4.2 is old now and I am busy revamping all the dialogs as part
> of my ui revision for 1.0. release - and I would like to use Qt4.3 for
> this (and make use of some of the new features it has). Could you
> please cast your vote if you are in favour?
>   
-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From wonder.sk at gmail.com  Mon May 12 11:10:21 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon May 12 11:10:25 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
In-Reply-To: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
References: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
Message-ID: <e8e7199c0805120810m766d05e4v1ecc84aa5e53372@mail.gmail.com>

On Mon, May 12, 2008 at 2:41 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Folks
>
>  I would like to change the minimum requirement from Qt4.2 to 4.3.
>  Version 4.2 is old now and I am busy revamping all the dialogs as part
>  of my ui revision for 1.0. release - and I would like to use Qt4.3 for
>  this (and make use of some of the new features it has). Could you
>  please cast your vote if you are in favour?

+1

I remember there was a svg rendering patch for composer flying around
which needed Qt4.3 to work... it should be applied to SVN too.

Martin
From tim at linfiniti.com  Mon May 12 11:26:33 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 12 11:26:36 2008
Subject: [Qgis-developer] Next release name - 'Metis'
Message-ID: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>

Hi all

I'd like to name the next relese 'Metis' (the next moon along from IO
on the way to Jupiter...

Any objections?....I want to start getting the version strings updated
for the next release.

http://burro.astr.cwru.edu/stu/jupiter_moons.html

Regards

Tim

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From botsnlinux at gmail.com  Mon May 12 12:05:23 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Mon May 12 12:05:29 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
Message-ID: <255b57430805120905u2a9e196ax10d3b87c7d4e40d@mail.gmail.com>

>
> Martin Dobias <wonder.sk@gmail.com> wrote:
> On Mon, May 12, 2008 at 2:41 PM, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi Folks
> >
> >  I would like to change the minimum requirement from Qt4.2 to 4.3.
> >  Version 4.2 is old now and I am busy revamping all the dialogs as part
> >  of my ui revision for 1.0. release - and I would like to use Qt4.3 for
> >  this (and make use of some of the new features it has). Could you
> >  please cast your vote if you are in favour?
>
> +1
>
> I remember there was a svg rendering patch for composer flying around
> which needed Qt4.3 to work... it should be applied to SVN too.
>
> Martin


+1 for me too.  The SVG patch has already been applied (with compiler
switches to not break Qt 4.2).
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080512/176faf93/attachment.html
From wonder.sk at gmail.com  Mon May 12 12:05:31 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon May 12 12:05:33 2008
Subject: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
Message-ID: <e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>

Hi Tim,

regarding the next release, can you specify the dates for feature
freeze and release? On wiki I see that the date for release was set to
10 June 2008, but since 0.10 release got shifted, I guess this one
should get longer window for new features.

Moreover I'd like to start some discussion about release of 1.0. I
know that the best would be to release it before FOSS4G, but do you
think it's still possible to get it ready on time? Because that would
leave just July and August for polishing and bugfixing before 1.0 -
and this is off season since people are on holidays. In my opinion it
would be good to release also 0.12 and get 1.0 out at the end of  the
year.

Martin

On Mon, May 12, 2008 at 5:26 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi all
>
>  I'd like to name the next relese 'Metis' (the next moon along from IO
>  on the way to Jupiter...
>
>  Any objections?....I want to start getting the version strings updated
>  for the next release.
>
>  http://burro.astr.cwru.edu/stu/jupiter_moons.html
>
>  Regards
>
>  Tim
>
>  --
>  Tim Sutton
>  QGIS Project Steering Committee Member - Release Manager
>  Visit http://qgis.org for a great open source GIS
>  openModeller Desktop Developer
>  Visit http://openModeller.sf.net for a great open source ecological
>  niche modelling tool
>  Home Page: http://tim.linfiniti.com
>  Skype: timlinux
>  Irc: timlinux on #qgis at freenode.net
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From wonder.sk at gmail.com  Mon May 12 12:16:39 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon May 12 12:16:41 2008
Subject: [Qgis-developer] Qwt widgets in Qgis
In-Reply-To: <4826C0F3.6000407@lancaster.ac.uk>
References: <4826C0F3.6000407@lancaster.ac.uk>
Message-ID: <e8e7199c0805120916p6e370a1biae42070aae47c2ef@mail.gmail.com>

On Sun, May 11, 2008 at 11:48 AM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> [...]
>
>   but if I try that from the QGis Python console (actually, just the
>  last three lines, don't do QApplication() from the console), Qgis
>  crashes out when I call QwtPlot() to instantiate a plot object.
>
>   There's some differences: my command-line python is 2.5.1 and my qgis
>  python is 2.5.2. Versions of Qwt5 are the same (5.0.2) and my pythons
>  are getting Qwt5 from the right places - Qgis gets it from its python
>  folder, and command-line python gets it from C:\\Python25\\blahblabla.

No idea what can cause the crash. The difference between python
versions shouldn't matter as they should maintain binary
compatibility. I don't fully track how QGIS currently gets packaged on
windows, but can't be the problem caused by the fact that PyQt4 gets
recompiled using MinGW (prior to packaging) while Qwt is still
compiled with MSVC ?

>   Does this happen to anyone else on this or other platforms?  And also,
>  is there a guarantee that Qwt will be available in Qgis releases?  It
>  does look handy for scientific applications - not just the plots, there
>  are some useful widgets in there too (floating point sliders ftw!).

Don't know why Qwt is included in that package, I don't think it will
be included on other platforms.

Martin
From b.rowlingson at lancaster.ac.uk  Mon May 12 12:23:51 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon May 12 12:44:33 2008
Subject: [Qgis-developer] Qwt widgets in Qgis
In-Reply-To: <e8e7199c0805120916p6e370a1biae42070aae47c2ef@mail.gmail.com>
References: <4826C0F3.6000407@lancaster.ac.uk>
	<e8e7199c0805120916p6e370a1biae42070aae47c2ef@mail.gmail.com>
Message-ID: <48286F17.5080705@lancaster.ac.uk>

Martin Dobias wrote:

> Don't know why Qwt is included in that package, I don't think it will
> be included on other platforms.

  It's not a dependency for the Ubuntu package certainly.

  This might be a problem if someone writes code that needs Qwt if the 
Qwt code that is in the Windows installer gets called (and crashes) 
instead of a properly installed Qwt and PyQwt.

Barry
From tim at linfiniti.com  Mon May 12 16:14:01 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 12 16:14:04 2008
Subject: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
Message-ID: <d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>

Hi Martin

Yes I will be updating the release schedule etc shortly (probably next
week, I want to have a release team meeting first). I agree things
look tight for sept based on current progress.

I also wanted to discuss with the developer community at large the
idea that was rased a month or two back about making QGIS 0.11.0 a
performance boosting focussed release. ie. that we target bugs
relating to performance and generally try to get things running more
zippily. What do others think? I am also planning to start a review of
the UI in this release (but it may continue into next release too. I
am writing up some human interface guidelines for QGIS and will be
working to get all dialogs compliant.

Perhaps we need to try to have a qgis town hall meeting next week to
discuss plans for the next release?

Also there is a code sprint session at FOSS4GEO in sept, that would be
worth having a bug sqaushing fest in if QGIS 1.0 is not already out.

Regards

Tim

2008/5/12 Martin Dobias <wonder.sk@gmail.com>:
> Hi Tim,
>
>  regarding the next release, can you specify the dates for feature
>  freeze and release? On wiki I see that the date for release was set to
>  10 June 2008, but since 0.10 release got shifted, I guess this one
>  should get longer window for new features.
>
>  Moreover I'd like to start some discussion about release of 1.0. I
>  know that the best would be to release it before FOSS4G, but do you
>  think it's still possible to get it ready on time? Because that would
>  leave just July and August for polishing and bugfixing before 1.0 -
>  and this is off season since people are on holidays. In my opinion it
>  would be good to release also 0.12 and get 1.0 out at the end of  the
>  year.
>
>  Martin
>
>
>
>  On Mon, May 12, 2008 at 5:26 PM, Tim Sutton <tim@linfiniti.com> wrote:
>  > Hi all
>  >
>  >  I'd like to name the next relese 'Metis' (the next moon along from IO
>  >  on the way to Jupiter...
>  >
>  >  Any objections?....I want to start getting the version strings updated
>  >  for the next release.
>  >
>  >  http://burro.astr.cwru.edu/stu/jupiter_moons.html
>  >
>  >  Regards
>  >
>  >  Tim
>  >
>  >  --
>  >  Tim Sutton
>  >  QGIS Project Steering Committee Member - Release Manager
>  >  Visit http://qgis.org for a great open source GIS
>  >  openModeller Desktop Developer
>  >  Visit http://openModeller.sf.net for a great open source ecological
>  >  niche modelling tool
>  >  Home Page: http://tim.linfiniti.com
>  >  Skype: timlinux
>  >  Irc: timlinux on #qgis at freenode.net
>  >  _______________________________________________
>  >  Qgis-developer mailing list
>  >  Qgis-developer@lists.osgeo.org
>  >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Mon May 12 16:17:10 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 12 16:17:13 2008
Subject: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
Message-ID: <d368056f0805121317o32a45b89of700ded1ee32f827@mail.gmail.com>

Hi All

By the way the best stock image I found so far is this:

http://www.solarviews.com/raw/jup/metis.gif :-) :-)

So making the splash is gonna be a bit of a challenge :-)

Regards

Tim

2008/5/12 Tim Sutton <tim@linfiniti.com>:
> Hi Martin
>
>  Yes I will be updating the release schedule etc shortly (probably next
>  week, I want to have a release team meeting first). I agree things
>  look tight for sept based on current progress.
>
>  I also wanted to discuss with the developer community at large the
>  idea that was rased a month or two back about making QGIS 0.11.0 a
>  performance boosting focussed release. ie. that we target bugs
>  relating to performance and generally try to get things running more
>  zippily. What do others think? I am also planning to start a review of
>  the UI in this release (but it may continue into next release too. I
>  am writing up some human interface guidelines for QGIS and will be
>  working to get all dialogs compliant.
>
>  Perhaps we need to try to have a qgis town hall meeting next week to
>  discuss plans for the next release?
>
>  Also there is a code sprint session at FOSS4GEO in sept, that would be
>  worth having a bug sqaushing fest in if QGIS 1.0 is not already out.
>
>  Regards
>
>  Tim
>
>  2008/5/12 Martin Dobias <wonder.sk@gmail.com>:
>
>
> > Hi Tim,
>  >
>  >  regarding the next release, can you specify the dates for feature
>  >  freeze and release? On wiki I see that the date for release was set to
>  >  10 June 2008, but since 0.10 release got shifted, I guess this one
>  >  should get longer window for new features.
>  >
>  >  Moreover I'd like to start some discussion about release of 1.0. I
>  >  know that the best would be to release it before FOSS4G, but do you
>  >  think it's still possible to get it ready on time? Because that would
>  >  leave just July and August for polishing and bugfixing before 1.0 -
>  >  and this is off season since people are on holidays. In my opinion it
>  >  would be good to release also 0.12 and get 1.0 out at the end of  the
>  >  year.
>  >
>  >  Martin
>  >
>  >
>  >
>  >  On Mon, May 12, 2008 at 5:26 PM, Tim Sutton <tim@linfiniti.com> wrote:
>  >  > Hi all
>  >  >
>  >  >  I'd like to name the next relese 'Metis' (the next moon along from IO
>  >  >  on the way to Jupiter...
>  >  >
>  >  >  Any objections?....I want to start getting the version strings updated
>  >  >  for the next release.
>  >  >
>  >  >  http://burro.astr.cwru.edu/stu/jupiter_moons.html
>  >  >
>  >  >  Regards
>  >  >
>  >  >  Tim
>  >  >
>  >  >  --
>  >  >  Tim Sutton
>  >  >  QGIS Project Steering Committee Member - Release Manager
>  >  >  Visit http://qgis.org for a great open source GIS
>  >  >  openModeller Desktop Developer
>  >  >  Visit http://openModeller.sf.net for a great open source ecological
>  >  >  niche modelling tool
>  >  >  Home Page: http://tim.linfiniti.com
>  >  >  Skype: timlinux
>  >  >  Irc: timlinux on #qgis at freenode.net
>  >  >  _______________________________________________
>  >  >  Qgis-developer mailing list
>  >  >  Qgis-developer@lists.osgeo.org
>  >  >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >  >
>  >
>
>
>
>  --
>
>
> Tim Sutton
>  QGIS Project Steering Committee Member - Release Manager
>  Visit http://qgis.org for a great open source GIS
>  openModeller Desktop Developer
>  Visit http://openModeller.sf.net for a great open source ecological
>  niche modelling tool
>  Home Page: http://tim.linfiniti.com
>  Skype: timlinux
>  Irc: timlinux on #qgis at freenode.net
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From b.rowlingson at lancaster.ac.uk  Mon May 12 16:34:19 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon May 12 16:34:36 2008
Subject: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <d368056f0805121317o32a45b89of700ded1ee32f827@mail.gmail.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<d368056f0805121317o32a45b89of700ded1ee32f827@mail.gmail.com>
Message-ID: <4828A9CB.9000502@lancaster.ac.uk>

Tim Sutton wrote:
> Hi All
> 
> By the way the best stock image I found so far is this:
> 
> http://www.solarviews.com/raw/jup/metis.gif :-) :-)
> 
> So making the splash is gonna be a bit of a challenge :-)
> 

The nasa web site here:

  http://nssdc.gsfc.nasa.gov/photo_gallery/photogallery-jupsmallsats.html

  has a slightly better image!

  Is there a better moon being saved up for 1.0?

Barry

From botsnlinux at gmail.com  Mon May 12 17:16:02 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Mon May 12 17:16:06 2008
Subject: [Qgis-developer] Changing the cursor in the composer
Message-ID: <255b57430805121416l7bd828f0o62376f72086bbd2b@mail.gmail.com>

I'm looking at implementing some cursor tips in the print composer, so the
user has some hint when to drag a box, etc.
However, I'm unable to get the cursor to change based on the item the mouse
is over.  I'm trying to do it by just calling setCursor for the various
items.  It seems to work fine in a similar program based on the Qt mouse
collision demo: botsnlinux.googlepages.com/cursorTest.zip
Does anyone have ideas on what I might be doing wrong, or where I should
look for the problem?
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080512/4759fec4/attachment-0001.html
From wonder.sk at gmail.com  Mon May 12 17:41:01 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon May 12 17:41:03 2008
Subject: [Qgis-developer] Qwt widgets in Qgis
In-Reply-To: <48286F17.5080705@lancaster.ac.uk>
References: <4826C0F3.6000407@lancaster.ac.uk>
	<e8e7199c0805120916p6e370a1biae42070aae47c2ef@mail.gmail.com>
	<48286F17.5080705@lancaster.ac.uk>
Message-ID: <e8e7199c0805121441q8c951f3j193a9faf7efa9e2f@mail.gmail.com>

On Mon, May 12, 2008 at 6:23 PM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> Martin Dobias wrote:
>
>
> > Don't know why Qwt is included in that package, I don't think it will
> > be included on other platforms.
> >
>
>   It's not a dependency for the Ubuntu package certainly.
>
>   This might be a problem if someone writes code that needs Qwt if the Qwt
> code that is in the Windows installer gets called (and crashes) instead of a
> properly installed Qwt and PyQwt.

So there are two possibilities - compile also Qwt+PyQwt with MinGW or
don't include it in QGIS package, I'm in favour of the latter. You can
file a bug regarding this so it won't get forgotten.

Martin
From marco.pasetti at alice.it  Mon May 12 19:30:21 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Mon May 12 19:30:27 2008
Subject: R: [Qgis-developer] Qwt widgets in Qgis
In-Reply-To: <e8e7199c0805121441q8c951f3j193a9faf7efa9e2f@mail.gmail.com>
References: <4826C0F3.6000407@lancaster.ac.uk><e8e7199c0805120916p6e370a1biae42070aae47c2ef@mail.gmail.com><48286F17.5080705@lancaster.ac.uk>
	<e8e7199c0805121441q8c951f3j193a9faf7efa9e2f@mail.gmail.com>
Message-ID: <001201c8b488$25ba08c0$0201a8c0@notebookmarco>

Hi all,

Qwt in windows package is only an accidental inclusion. It will be removed
in the next release.

Marco 

-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Martin Dobias
Inviato: luned? 12 maggio 2008 23.41
A: Barry Rowlingson
Cc: qgis-developer@lists.osgeo.org
Oggetto: Re: [Qgis-developer] Qwt widgets in Qgis

On Mon, May 12, 2008 at 6:23 PM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> Martin Dobias wrote:
>
>
> > Don't know why Qwt is included in that package, I don't think it 
> > will be included on other platforms.
> >
>
>   It's not a dependency for the Ubuntu package certainly.
>
>   This might be a problem if someone writes code that needs Qwt if the 
> Qwt code that is in the Windows installer gets called (and crashes) 
> instead of a properly installed Qwt and PyQwt.

So there are two possibilities - compile also Qwt+PyQwt with MinGW or don't
include it in QGIS package, I'm in favour of the latter. You can file a bug
regarding this so it won't get forgotten.

Martin
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From marco.hugentobler at karto.baug.ethz.ch  Tue May 13 02:24:22 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue May 13 02:24:25 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com><e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>

Hi

>I also wanted to discuss with the developer community at large the
>idea that was rased a month or two back about making QGIS 0.11.0 a
>performance boosting focussed release. ie. that we target bugs
>relating to performance and generally try to get things running more
>zippily. What do others think?

+1. Similar to the bug fixing festival, there could be a wiki page where developers can enter their performance boosting ideas and provide performance measurments (e.g. rendering time) before/after implementation. I can make this page if you like, but I'm a bit busy the next few days.

>I am also planning to start a review of
>the UI in this release 

It would also be good to make code cleaning sometime, e.g. cleaning out old comments and legacy code. I'm however not sure if developers have enough time to do that for the next release. I can imagine the 'code cleaning festival' one release after the 'performance boosting festival' (so probably before 1.0).

>Perhaps we need to try to have a qgis town hall meeting next week to
>discuss plans for the next release?

In my experience, there is usually not enough time to discuss things in the IRC meetings. Maybe people could state their plans for next release on the mailing list first so a potential IRC meeting can be more focused.

>Also there is a code sprint session at FOSS4GEO in sept, that would be
>worth having a bug sqaushing fest in if QGIS 1.0 is not already out.

Very good idea, I'm looking forward to it. I wonder who from the QGIS community will be there too.

Regards,
Marco


---
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical advisor QGIS Project Steering Committee



-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tim Sutton
Gesendet: Mo 12.05.2008 22:14
An: Martin Dobias
Cc: QGIS Developer Mailing List
Betreff: Re: [Qgis-developer] Next release name - 'Metis'
 
Hi Martin

Yes I will be updating the release schedule etc shortly (probably next
week, I want to have a release team meeting first). I agree things
look tight for sept based on current progress.

I also wanted to discuss with the developer community at large the
idea that was rased a month or two back about making QGIS 0.11.0 a
performance boosting focussed release. ie. that we target bugs
relating to performance and generally try to get things running more
zippily. What do others think? I am also planning to start a review of
the UI in this release (but it may continue into next release too. I
am writing up some human interface guidelines for QGIS and will be
working to get all dialogs compliant.

Perhaps we need to try to have a qgis town hall meeting next week to
discuss plans for the next release?

Also there is a code sprint session at FOSS4GEO in sept, that would be
worth having a bug sqaushing fest in if QGIS 1.0 is not already out.

Regards

Tim

2008/5/12 Martin Dobias <wonder.sk@gmail.com>:
> Hi Tim,
>
>  regarding the next release, can you specify the dates for feature
>  freeze and release? On wiki I see that the date for release was set to
>  10 June 2008, but since 0.10 release got shifted, I guess this one
>  should get longer window for new features.
>
>  Moreover I'd like to start some discussion about release of 1.0. I
>  know that the best would be to release it before FOSS4G, but do you
>  think it's still possible to get it ready on time? Because that would
>  leave just July and August for polishing and bugfixing before 1.0 -
>  and this is off season since people are on holidays. In my opinion it
>  would be good to release also 0.12 and get 1.0 out at the end of  the
>  year.
>
>  Martin
>
>
>
>  On Mon, May 12, 2008 at 5:26 PM, Tim Sutton <tim@linfiniti.com> wrote:
>  > Hi all
>  >
>  >  I'd like to name the next relese 'Metis' (the next moon along from IO
>  >  on the way to Jupiter...
>  >
>  >  Any objections?....I want to start getting the version strings updated
>  >  for the next release.
>  >
>  >  http://burro.astr.cwru.edu/stu/jupiter_moons.html
>  >
>  >  Regards
>  >
>  >  Tim
>  >
>  >  --
>  >  Tim Sutton
>  >  QGIS Project Steering Committee Member - Release Manager
>  >  Visit http://qgis.org for a great open source GIS
>  >  openModeller Desktop Developer
>  >  Visit http://openModeller.sf.net for a great open source ecological
>  >  niche modelling tool
>  >  Home Page: http://tim.linfiniti.com
>  >  Skype: timlinux
>  >  Irc: timlinux on #qgis at freenode.net
>  >  _______________________________________________
>  >  Qgis-developer mailing list
>  >  Qgis-developer@lists.osgeo.org
>  >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


From gavin at macaulay.co.nz  Tue May 13 02:42:09 2008
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Tue May 13 02:43:18 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2
 minimum in favour of Qt4.3
Message-ID: <20080513184209.AEF05965@msgsrv2.mail.isx.net.nz>

+1 

Gavin

---- Original message ----
>Date: Mon, 12 May 2008 09:41:54 -0300
>From: "Tim Sutton" <tim@linfiniti.com>  
>Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3  
>To: "QGIS Developer Mailing List" <qgis-developer@lists.osgeo.org>
>
>Hi Folks
>
>I would like to change the minimum requirement from Qt4.2 to 4.3.
>Version 4.2 is old now and I am busy revamping all the dialogs as part
>of my ui revision for 1.0. release - and I would like to use Qt4.3 for
>this (and make use of some of the new features it has). Could you
>please cast your vote if you are in favour?
>
>+1 - lets update the minimum requirement to Qt4.3.x
>
>0  -  dont care
>
>-1 - aaargh this is gonna hurt!
>
>Assuming no major objections exist, I will start checking in qt4.3
>only dialogs on Weds.
>
>Thanks
>
>Tim
>
>-- 
>Tim Sutton
>QGIS Project Steering Committee Member - Release Manager
>Visit http://qgis.org for a great open source GIS
>openModeller Desktop Developer
>Visit http://openModeller.sf.net for a great open source ecological
>niche modelling tool
>Home Page: http://tim.linfiniti.com
>Skype: timlinux
>Irc: timlinux on #qgis at freenode.net
>_______________________________________________
>Qgis-developer mailing list
>Qgis-developer@lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/qgis-developer
From Horst.Duester at bd.so.ch  Tue May 13 02:50:59 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Tue May 13 02:51:13 2008
Subject: AW: Re: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of
	Qt4.3
Message-ID: <H00002eb02b77960.1210661458.srsofaioi6145.ktso.ch@MHS>

+1

Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Gavin Macaulay [mailto:gavin@macaulay.co.nz]
Gesendet am: Dienstag, 13. Mai 2008 08:42
An: QGIS Developer Mailing List
Betreff: Re: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of
Qt4.3

+1 

Gavin

---- Original message ----
>Date: Mon, 12 May 2008 09:41:54 -0300
>From: "Tim Sutton" <tim@linfiniti.com>  
>Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of
Qt4.3  
>To: "QGIS Developer Mailing List" <qgis-developer@lists.osgeo.org>
>
>Hi Folks
>
>I would like to change the minimum requirement from Qt4.2 to 4.3.
>Version 4.2 is old now and I am busy revamping all the dialogs as part
>of my ui revision for 1.0. release - and I would like to use Qt4.3 for
>this (and make use of some of the new features it has). Could you
>please cast your vote if you are in favour?
>
>+1 - lets update the minimum requirement to Qt4.3.x
>
>0  -  dont care
>
>-1 - aaargh this is gonna hurt!
>
>Assuming no major objections exist, I will start checking in qt4.3
>only dialogs on Weds.
>
>Thanks
>
>Tim
>
>-- 
>Tim Sutton
>QGIS Project Steering Committee Member - Release Manager
>Visit http://qgis.org for a great open source GIS
>openModeller Desktop Developer
>Visit http://openModeller.sf.net for a great open source ecological
>niche modelling tool
>Home Page: http://tim.linfiniti.com
>Skype: timlinux
>Irc: timlinux on #qgis at freenode.net
>_______________________________________________
>Qgis-developer mailing list
>Qgis-developer@lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080513/f9527479/attachment.html
From cavallini at faunalia.it  Tue May 13 02:54:25 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue May 13 02:55:15 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com><e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
Message-ID: <48293B21.4050301@faunalia.it>

Hugentobler Marco ha scritto:
> Hi

> In my experience, there is usually not enough time to discuss things
> in the IRC meetings. Maybe people could state their plans for next
> release on the mailing list first so a potential IRC meeting can be
> more focused.

Hi all.
I think we should start laying down a list of items to be completed 
before a version could be called 1.0. In the meantime, we can release 
0.11, 0.12 etc.
In my view these are necessary:
- bugfixing (this is probably the heaviest and most boring task)
- advanced labelling
- speedup
- raster catalogues (this can be probably done with a simple plugin, as 
Martin suggested)
- printing improvements (with raster legend)
- API stabilization.
All the best.
pc
From marco.pasetti at alice.it  Tue May 13 04:15:11 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Tue May 13 04:15:17 2008
Subject: R: AW: [Qgis-developer] Next release name - 'Metis'
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com><e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB41E6@FBCMST06V02.fbc.local>

Hi all,
 
I agree with Paolo; in particular, I think that the *printing improvements* task is very important, moreover considering how QGIS is currently used by the community (that is, IMHO, as GRASS interface and high quality map editor).
This said, I announce you that is my thought to start (from september) to work on a quite/new GRASS toolbox, that is, IMHO, another very important task to do.
 
Regards
 
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di Paolo Cavallini
Inviato: mar 13/05/2008 8.54
A: QGIS Developer Mailing List
Oggetto: Re: AW: [Qgis-developer] Next release name - 'Metis'



Hugentobler Marco ha scritto:
> Hi

> In my experience, there is usually not enough time to discuss things
> in the IRC meetings. Maybe people could state their plans for next
> release on the mailing list first so a potential IRC meeting can be
> more focused.

Hi all.
I think we should start laying down a list of items to be completed
before a version could be called 1.0. In the meantime, we can release
0.11, 0.12 etc.
In my view these are necessary:
- bugfixing (this is probably the heaviest and most boring task)
- advanced labelling
- speedup
- raster catalogues (this can be probably done with a simple plugin, as
Martin suggested)
- printing improvements (with raster legend)
- API stabilization.
All the best.
pc
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080513/1ca1e8d7/attachment.html
From piklas at gmail.com  Tue May 13 05:10:13 2008
From: piklas at gmail.com (PikoBoZ)
Date: Tue May 13 05:10:14 2008
Subject: [Qgis-developer] problem with ogr2ogr
Message-ID: <17204278.post@talk.nabble.com>


Hi list !

Got a problem with an ogr2ogr call from a python plugin.
I developped this plugin on v 0.9.1 and then on v.0.9.1rc2. In those
versions, there was the gdal/ogr .exe at Quantum GIS root directory, and the
foolowing lin like this was working:

myogr2ogr = 'ogr2ogr -a_srs "' + str(myproj4) + '" -t_srs EPSG:4326
-overwrite -f "KML" "' + str(mydestpath) + '" "'+ str(mysource) +'" '
res=os.popen(myogr2ogr).readlines()

iN NEW RELEASE 0.10, the exe are no longer at QGIS root dir
so, i wonder how i can call ogr2ogr utility from my plugin.

The idea is to allow user to use ogr2ogr without having to install FWTools

Another question, is it possible that my plugin on older releases was
calling the fwtools ogr2ogr.exe that was in my windows path ? (and not the
QGIS one ?)

Has anybody got an idea on how i could call ogr2ogr the simpler way from
python, to make the plugin work on any QGIS install  ?

Thank by advance

PikO







-- 
View this message in context: http://www.nabble.com/problem-with-ogr2ogr-tp17204278p17204278.html
Sent from the qgis-developer mailing list archive at Nabble.com.

From marco.pasetti at alice.it  Tue May 13 05:24:23 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Tue May 13 05:24:29 2008
Subject: R: [Qgis-developer] problem with ogr2ogr
References: <17204278.post@talk.nabble.com>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB41E8@FBCMST06V02.fbc.local>

Hi PikO,
 
actually ogr2ogr (such as all the othe GDAL and proj utilities) are available in my build; however I didn't included them in the release: some weeeks I started a thread [1]about the *extra bins* to include in the qgis release, but I had no response. It was my first release, I tried to fix many issues about dependencies build, GRASS (that's my best knowledge in qgis) and python-plugins, but I don't know what is actually needed to let qgis be fully functional; I think the best thing should be to write down few lines (in the wiki) about the extra-binary needed in the windows binary release.
 
[1] http://lists.osgeo.org/pipermail/qgis-developer/2008-April/003652.html
 
Best regards,
 
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di PikoBoZ
Inviato: mar 13/05/2008 11.10
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] problem with ogr2ogr




Hi list !

Got a problem with an ogr2ogr call from a python plugin.
I developped this plugin on v 0.9.1 and then on v.0.9.1rc2. In those
versions, there was the gdal/ogr .exe at Quantum GIS root directory, and the
foolowing lin like this was working:

myogr2ogr = 'ogr2ogr -a_srs "' + str(myproj4) + '" -t_srs EPSG:4326
-overwrite -f "KML" "' + str(mydestpath) + '" "'+ str(mysource) +'" '
res=os.popen(myogr2ogr).readlines()

iN NEW RELEASE 0.10, the exe are no longer at QGIS root dir
so, i wonder how i can call ogr2ogr utility from my plugin.

The idea is to allow user to use ogr2ogr without having to install FWTools

Another question, is it possible that my plugin on older releases was
calling the fwtools ogr2ogr.exe that was in my windows path ? (and not the
QGIS one ?)

Has anybody got an idea on how i could call ogr2ogr the simpler way from
python, to make the plugin work on any QGIS install  ?

Thank by advance

PikO







--
View this message in context: http://www.nabble.com/problem-with-ogr2ogr-tp17204278p17204278.html
Sent from the qgis-developer mailing list archive at Nabble.com.

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080513/350a704e/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Tue May 13 06:00:54 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue May 13 06:00:57 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
In-Reply-To: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
References: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
Message-ID: <200805131200.54313.marco.hugentobler@karto.baug.ethz.ch>

+1

Marco

Am Montag 12 Mai 2008 14:41:54 schrieb Tim Sutton:
> Hi Folks
>
> I would like to change the minimum requirement from Qt4.2 to 4.3.
> Version 4.2 is old now and I am busy revamping all the dialogs as part
> of my ui revision for 1.0. release - and I would like to use Qt4.3 for
> this (and make use of some of the new features it has). Could you
> please cast your vote if you are in favour?
>
> +1 - lets update the minimum requirement to Qt4.3.x
>
> 0  -  dont care
>
> -1 - aaargh this is gonna hurt!
>
> Assuming no major objections exist, I will start checking in qt4.3
> only dialogs on Weds.
>
> Thanks
>
> Tim



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From jef at norbit.de  Tue May 13 07:22:03 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue May 13 07:22:09 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
In-Reply-To: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
References: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
Message-ID: <20080513112203.GA2465@norbit.de>

Hi Tim,

+1


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From marco.hugentobler at karto.baug.ethz.ch  Tue May 13 10:44:49 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue May 13 10:44:50 2008
Subject: [Qgis-developer] Merge rendercontext-branch
Message-ID: <200805131644.49221.marco.hugentobler@karto.baug.ethz.ch>

Hi qgis devs,

If there are no further issues or objections, I plan to merge the 
rendercontext-branch back to trunk on Thursday.

Regards,
Marco



Am Freitag 02 Mai 2008 09:34:03 schrieb Tom Elwertowski:
> Hugentobler Marco wrote:
> > Ok, I now compiled the branch on the G4 (in debug mode). I don't have the
> > two issues, it does not scramble and also the main window resizes
> > properly (does not snap back). Should I try also release mode or maybe
> > the problem is more likely to appear on newer (faster) hardware?
>
> The scramble bug is related to OS version or processor. Yesterday, I found
> it using an Intel Mac with OS X 10.5. Today I built the branch on a G4 Mac
> with OS X 10.4 and I do not see the problem. Both are using Qt 4.3.4.
>
> I still see the resize bug on the G4. Prior to r8394, it happens only when
> the update threshold is greater the zero. With r8394, it always happens.
>
> Tom
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From b.rowlingson at lancaster.ac.uk  Tue May 13 18:07:12 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Tue May 13 18:07:35 2008
Subject: [Qgis-developer] Re: plug-in requirements
In-Reply-To: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>
References: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>
Message-ID: <482A1110.1010300@lancaster.ac.uk>

volkan kepoglu wrote:

> It would be nice to have a
> standard method for
>> plugins to test and report requirements before they install themselves
> properly. Checking for > things like rpy and specific R packages would be
> one of those things.

Here's some more thinking:

plugins should define a "requirements" function in their __init__.py 
file which will look something like this:

def requirements():
   reqs = {
     'qgis': ['>=0.9.0','<0.11.0'] ,
     'qgis-plugins': [],
     'python': '>=2.3.0',
     'python-packages': ['rpy'],
     'rpy-r': '>=2.4.0',
     'r-packages': ['DCluster'],
     'other': otherRequirements,
     }
   return reqs

  - so basically it returns a dict of name:value pairs which the 
requirements testing system can get. Note that the system can display 
the requirements as text, and also test the requirements. Obviously the 
system needs a way of testing each dependency type.

  The 'other' type is special, and its value is a function in the plugin 
that is called with one argument, 'test' and returns a list of two 
items. The first item is the test description, and the second item is 
the test status. Test status is a list of two items, the first is True 
or False for the test and the second is a note string. If the function 
is called with 'test=False', the status should be (None,None) and the 
test isn't performed.

  For example, here's an otherRequirements function that tests if the 
os.name parameter is 'nt' or 'posix':

  def otherRequirements(test=False):
   status=(None,None)
   if test:
     import os
     status=(False,'OS not valid')
     if os.name=="nt" or os.name=="posix":
       status=(True,'OS is valid')
   return ('OS is nt or posix',status)

  I'm not sure that returning a dict() from requirements is correct, 
since it might be neessary to impose an ordering on the testing (no 
point testing for R packages if rpy isn't installed, for example).

  Any other ideas?

Barry
From jef at norbit.de  Tue May 13 18:38:28 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue May 13 18:38:44 2008
Subject: cleanups (was Re: [Qgis-developer] Next release name - 'Metis')
In-Reply-To: <200805131644.49221.marco.hugentobler@karto.baug.ethz.ch>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
References: <200805131644.49221.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
Message-ID: <20080513223828.GA4018@norbit.de>

Hi,

On Tue, 13. May 2008 at 08:24:22 +0200, Hugentobler  Marco wrote:
> It would also be good to make code cleaning sometime, e.g. cleaning
> out old comments and legacy code. I'm however not sure if developers
> have enough time to do that for the next release. I can imagine the
> 'code cleaning festival' one release after the 'performance boosting
> festival' (so probably before 1.0).

I also wanted to address some things:

1. move the remaining debug output using iostream to QgsDebugMsg:

  I created a perl script [1], that needs a little patch[2] to fix some
  cases the script doesn't handle. After running the script you end up
  with patch [3].

2. fix whitespace use (lineendings and identation)

  In the repository there are currently not all files using the same
  lineending causes problems when diffs are transfered.

  I think Tim already prepared an input file for astyle[4] that match
  our coding standards.  Which could use to get a homogenous look.


At least for me this would be really nice.  Most of the time I end up
reformatting code or inventing dumb scripts, instead of doing real work
:)
 

On Tue, 13. May 2008 at 16:44:49 +0200, Marco Hugentobler wrote:
> If there are no further issues or objections, I plan to merge the 
> rendercontext-branch back to trunk on Thursday.

Are there more branches about to be committed?  Implementation of the
points above would make it quite hard to merge them...


J?rgen

[1] http://buten.norbit.de/~jef/qgsloggermig.pl
[2] http://buten.norbit.de/~jef/qgslogger-before.diff
[3] http://buten.norbit.de/~jef/qgslogger-after.diff
[4] http://astyle.sourceforge.net/

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From sherman at mrcc.com  Wed May 14 00:05:45 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed May 14 00:05:55 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <48293B21.4050301@faunalia.it>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com><e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
Message-ID: <CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>

On May 12, 2008, at 10:54 PM, Paolo Cavallini wrote:

> Hugentobler Marco ha scritto:
>> Hi
>
>> In my experience, there is usually not enough time to discuss things
>> in the IRC meetings. Maybe people could state their plans for next
>> release on the mailing list first so a potential IRC meeting can be
>> more focused.
>
> Hi all.
> I think we should start laying down a list of items to be completed  
> before a version could be called 1.0. In the meantime, we can  
> release 0.11, 0.12 etc.
> In my view these are necessary:
> - bugfixing (this is probably the heaviest and most boring task)
> - advanced labelling
> - speedup
> - raster catalogues (this can be probably done with a simple plugin,  
> as Martin suggested)
> - printing improvements (with raster legend)
> - API stabilization.

I think it is imperative that we release 1.0 before FOSS4G2008. By mid- 
August the Google Summer of Code project for labeling will be  
complete. There is already work underway on the map composition  
feature and hopefully it will be complete before August. The only  
other thing (apart from bug fixes/stability) that I would like to see  
is the raster catalog.

I suggest we set a target date of August 15 for release of 1.0 and do  
not depart from it. This will require some discipline once we start to  
stabilize things. I would anticipate this requiring a longer feature  
freeze. I would also like to defer any refactoring and major code  
cleanups until after 1.0. We need to get a stable working base  
established and then polish it from there to get to 1.0.

It's a plain fact that adding new features introduces regressions. It  
has with every release. We need to avoid that as much as possible and  
get 1.0 out the door. Frank Warmerdam has commented on IRC about the  
benefit of getting to 1.0 -- to some our current version numbers imply  
something that is not really very mature.

Let's talk about it and see if we can't agree on a release date, a  
targeted set of features, and a plan to implement it all.

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From vkepoglu at gmail.com  Wed May 14 02:02:18 2008
From: vkepoglu at gmail.com (volkan kepoglu)
Date: Wed May 14 02:02:20 2008
Subject: [Qgis-developer] Re: plug-in requirements
In-Reply-To: <482A1110.1010300@lancaster.ac.uk>
References: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>
	<482A1110.1010300@lancaster.ac.uk>
Message-ID: <8b5938320805132302u44550ce8qc45df6a3ebdfaf0f@mail.gmail.com>

Whether rpy is installed or not, can simple be checked with try and except
commands. There maybe better way, but it is working in posix and nt. In nt,
pywin32 also requires in order to run rpy.

  # I have very weak info about mac os. I am assuming that in order to run
rpy in mac, pywin32 is also required, right?
  if os.name != "posix":
    try:
      import win32api
    except ImportError:
      return "Pywin32 2.1.0, python dependencies, is missing."

  #checking whether rpy is installed or not
  try:
    import rpy
  except ImportError:
    return "RPy 1.0.1, python dependencies, is missing."
  except:
    return "R 2.6.1 is missing."

On 5/14/08, Barry Rowlingson <b.rowlingson@lancaster.ac.uk> wrote:
>
> volkan kepoglu wrote:
>
> It would be nice to have a
> > standard method for
> >
> > > plugins to test and report requirements before they install themselves
> > >
> > properly. Checking for > things like rpy and specific R packages would
> > be
> > one of those things.
> >
>
> Here's some more thinking:
>
> plugins should define a "requirements" function in their __init__.py file
> which will look something like this:
>
> def requirements():
>  reqs = {
>    'qgis': ['>=0.9.0','<0.11.0'] ,
>    'qgis-plugins': [],
>    'python': '>=2.3.0',
>    'python-packages': ['rpy'],
>    'rpy-r': '>=2.4.0',
>    'r-packages': ['DCluster'],
>    'other': otherRequirements,
>    }
>  return reqs
>
>  - so basically it returns a dict of name:value pairs which the
> requirements testing system can get. Note that the system can display the
> requirements as text, and also test the requirements. Obviously the system
> needs a way of testing each dependency type.
>
>  The 'other' type is special, and its value is a function in the plugin
> that is called with one argument, 'test' and returns a list of two items.
> The first item is the test description, and the second item is the test
> status. Test status is a list of two items, the first is True or False for
> the test and the second is a note string. If the function is called with
> 'test=False', the status should be (None,None) and the test isn't performed.
>
>  For example, here's an otherRequirements function that tests if the
> os.name parameter is 'nt' or 'posix':
>
>  def otherRequirements(test=False):
>  status=(None,None)
>  if test:
>    import os
>    status=(False,'OS not valid')
>    if os.name=="nt" or os.name=="posix":
>      status=(True,'OS is valid')
>  return ('OS is nt or posix',status)
>
>  I'm not sure that returning a dict() from requirements is correct, since
> it might be neessary to impose an ordering on the testing (no point testing
> for R packages if rpy isn't installed, for example).
>
>  Any other ideas?
>
> Barry
>



-- 
Regards,
Volkan Kepoglu
PhD Candidate
GGIT Department in METU,
Ankara, Turkey.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080514/524330b1/attachment.html
From b.rowlingson at lancaster.ac.uk  Wed May 14 03:10:55 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed May 14 03:11:21 2008
Subject: [Qgis-developer] Re: plug-in requirements
In-Reply-To: <8b5938320805132302u44550ce8qc45df6a3ebdfaf0f@mail.gmail.com>
References: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>	
	<482A1110.1010300@lancaster.ac.uk>
	<8b5938320805132302u44550ce8qc45df6a3ebdfaf0f@mail.gmail.com>
Message-ID: <482A907F.2020007@lancaster.ac.uk>

volkan kepoglu wrote:
> Whether rpy is installed or not, can simple be checked with try and except
> commands. There maybe better way, but it is working in posix and nt. In nt,
> pywin32 also requires in order to run rpy.

  I think you've missed the point of my message - I was proposing a 
standard for plugins to specify their requirements, I wasn't talking 
about how you'd implement these tests.

  Eventually the python plugin system would work with this in order to 
test requirements for plugins before installing.

  The test for any specific python module is simply to do an import 
inside a try, the test for Qgis version requires looking at 
QGis.qgisVersion, the test for an R package is a couple of lines of rpy 
code, and so on. The 'other' test allows plugins to describe and test 
any other conditions - I only gave the nt/posix case as an example. It 
could check that the PC has 1Gb of spare disk space, or that the machine 
is on a network, or anything you can do in python.

  All this might not be a good idea since it might need the plugin on 
the python search path if the __init__.py file imports other parts from 
the plugin - that would make it hard for requirements to be tested by 
things like the plugin server...

Barry
From wonder.sk at gmail.com  Wed May 14 04:40:50 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 14 04:40:53 2008
Subject: [Qgis-developer] Re: plug-in requirements
In-Reply-To: <482A1110.1010300@lancaster.ac.uk>
References: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>
	<482A1110.1010300@lancaster.ac.uk>
Message-ID: <e8e7199c0805140140u52536973jbef92e037940627c@mail.gmail.com>

On Wed, May 14, 2008 at 12:07 AM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
>
>  Here's some more thinking:
>
>  plugins should define a "requirements" function in their __init__.py file
> which will look something like this:
>
>  def requirements():
>   reqs = {
>     'qgis': ['>=0.9.0','<0.11.0'] ,
>     'qgis-plugins': [],
>     'python': '>=2.3.0',
>     'python-packages': ['rpy'],
>     'rpy-r': '>=2.4.0',
>     'r-packages': ['DCluster'],
>     'other': otherRequirements,
>     }
>   return reqs

Hi Barry,

few days ago I've tried to do a design for the new plugins
architecture, the part regarding the plugin requirements looked like
this (how I would implement it):

__init__.py:

metadata = {
 'name' : 'my plugin',
 'description' : 'i like my plugin',
 'author' : 'super programmer',
 'version' : '1.0.3',
 'url' : 'http://www.example.com/myplugin',
 'interface' : QgsPlugin.SomePluginIface,
 'dep_qgis' : '0.10',
 'dep_plugins' : [ 'myotherplugin', 'mylastplugin' ],
 'dep_python' : [ 'module1', 'module2' ],
 'dep_custom' : my_check
}

def my_check():
  """ some custom tests, returning True means success """
  return True

def create_instance():
  """ import plugin class and run it """
  from myplugin import MyPlugin
  return MyPlugin()
---------

There are several things to note:
- __init__.py shouldn't have any imports in the top part of file (to
save loading time if the plugin is not going to be used anyway)
- the dictionary 'metadata' should contain everything that is related
to the loading, dependency checking etc. - in current version we use
name(), description() etc. as functions - actually this should be
avioded as the values are static, so there's no reason to have them
like functions
- some fields (like dep. on other plugins, custom check) can be optional
- in check of QGIS version I'm using only minimal version. After some
thinking I've come out that this is the most reasonable type of check.
If someone really depends on some special range of versions, then he
could extend the check in custom dependency checking phase.
- in comparison with Barry's scheme of requirements I haven't included
python version check - in fact it should be included too (someone may
use some newer python constructs not supported in previous versions).
The other two fields 'rpy-r' and 'r-packages' are really specific to
R, so checks for these must go to custom check function.
- custom check function in my design does its own checks and then
returns True or False depending on whether all checks went well. For
the error reporting it can use e.g. QgsMessageOutput class.
- there is a field 'interface' which defines what type of plugin do we
have here. As noted in some previous threads, currently we have just
one plugin type - GUI plugin, but it's necessary to support more
types, some of them should be available also for core library (e.g.
renderers).

This scheme of metadata passing and dependency checking should be the
same for C++ and Python plugins, except for the part with Python deps.
In my design I've made a draft of changes in qgis libs and app, but I
think this is not important now.

I wanted to implement this in near time and thus get it ready for 1.0
however it looks that Gary wants to release 1.0 ASAP so I'm not sure
whether such change is feasible and it will have to wait for post-1.0
with other things like geometry-refactor and provider-refactor.

Please comment!

Martin
From b.rowlingson at lancaster.ac.uk  Wed May 14 05:06:06 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed May 14 05:14:02 2008
Subject: [Qgis-developer] Re: plug-in requirements
In-Reply-To: <e8e7199c0805140140u52536973jbef92e037940627c@mail.gmail.com>
References: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>	
	<482A1110.1010300@lancaster.ac.uk>
	<e8e7199c0805140140u52536973jbef92e037940627c@mail.gmail.com>
Message-ID: <482AAB7E.1010508@lancaster.ac.uk>

Martin Dobias wrote:

> - some fields (like dep. on other plugins, custom check) can be optional
> - in check of QGIS version I'm using only minimal version. After some
> thinking I've come out that this is the most reasonable type of check.

  Right up until backward compatibility breaks, but that'll never 
happen, right? :) Of course when you write plugin Foo for Qgis 0.9.0 you 
don't know that it'll break at 0.10.0, but when 0.10.0 comes out and 
your plugin fails to work, it might be easier to set the requirement to 
 >=0.9.0 and <0.10.0 than fix it for 0.10.0. That was my thinking with 
more complex version checking anyway. It shouldn't be that hard to 
implement.

> - in comparison with Barry's scheme of requirements I haven't included
> python version check - in fact it should be included too (someone may
> use some newer python constructs not supported in previous versions).

  And it's a pretty trivial test anyway.

> - custom check function in my design does its own checks and then
> returns True or False depending on whether all checks went well. For
> the error reporting it can use e.g. QgsMessageOutput class.

  I made my custom check function return more than just True or False, 
since I think it's important for plugins to report back on what 
requirements they need, as well as whether those requirements are 
satisfied or not. That way, in a context where testing the requirements 
makes no sense (eg on the plugin server) it's still possible for the 
system to state what's needed. Then the user can get round to sorting 
out those requirements first. With your metadata dict the system can see 
what the dependencies are up to the custom one, at which point all it 
can say is 'Oh, there's some other dependencies'. With my custom 
function, it can call with 'test=False' and get back a descriptive 
string without having to test if the requirements are there or not.

> This scheme of metadata passing and dependency checking should be the
> same for C++ and Python plugins, except for the part with Python deps.
> In my design I've made a draft of changes in qgis libs and app, but I
> think this is not important now.

  I'm not sure calling the dependency fields dep_foo and dep_bar is a 
good idea - I'd have a field called 'dependencies' which would be a dict 
where the values were things like 'foo' and 'bar':

metadata = {
  'name' : 'my plugin',
  'description' : 'i like my plugin',
  'author' : 'super programmer',
  'version' : '1.0.3',
  'url' : 'http://www.example.com/myplugin',
  'interface' : QgsPlugin.SomePluginIface,
  'dependencies = {
     'gis' : '0.10',
     'plugins' : [ 'myotherplugin', 'mylastplugin' ],
     'python' : [ 'module1', 'module2' ],
     'custom' : my_check,
     }
}

Barry

From marco.hugentobler at karto.baug.ethz.ch  Wed May 14 06:26:38 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed May 14 06:26:41 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<48293B21.4050301@faunalia.it>
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
Message-ID: <200805141226.38927.marco.hugentobler@karto.baug.ethz.ch>

Hi Gary,

> I suggest we set a target date of August 15 for release of 1.0 and do
> not depart from it.

You mean that date would be the feature freeze or the release date? I hope 
feature freeze.

>There is already work underway on the map composition
> feature and hopefully it will be complete before August
...
> Let's talk about it and see if we can't agree on a release date, a
> targeted set of features, and a plan to implement it all.

For the new print composer features I planned with September. But I expect the 
majority of features implemented by mid August. So it is a possibility to 
merge to trunk what is available mid August.

In detail the print composer features I plan to implement are the following:

- separate gui from non-gui composer objects to make python bindings possible 
later
- possibility to change the size of composer objects
- change color and transparency of object frames and background
- organize order of overlapping objects
- alignment of objects to auxiliary grid
- group/ungroup objects
- more options for scale bars
- support for north arrows in composer (from svg files)
- options to customize the legend in composer (e.g. change order, add or 
remove entries)

> benefit of getting to 1.0 -- to some our current version numbers imply
> something that is not really very mature.

I don't have a strong preference about the version numbers. I wouldn't call 
QGIS a really very mature software, but this is why we are here ;-)

Regards,
Marco



Am Mittwoch 14 Mai 2008 06:05:45 schrieb Gary Sherman:
> On May 12, 2008, at 10:54 PM, Paolo Cavallini wrote:
> > Hugentobler Marco ha scritto:
> >> Hi
> >>
> >> In my experience, there is usually not enough time to discuss things
> >> in the IRC meetings. Maybe people could state their plans for next
> >> release on the mailing list first so a potential IRC meeting can be
> >> more focused.
> >
> > Hi all.
> > I think we should start laying down a list of items to be completed
> > before a version could be called 1.0. In the meantime, we can
> > release 0.11, 0.12 etc.
> > In my view these are necessary:
> > - bugfixing (this is probably the heaviest and most boring task)
> > - advanced labelling
> > - speedup
> > - raster catalogues (this can be probably done with a simple plugin,
> > as Martin suggested)
> > - printing improvements (with raster legend)
> > - API stabilization.
>
> I think it is imperative that we release 1.0 before FOSS4G2008. By mid-
> August the Google Summer of Code project for labeling will be
> complete. There is already work underway on the map composition
> feature and hopefully it will be complete before August. The only
> other thing (apart from bug fixes/stability) that I would like to see
> is the raster catalog.
>
> I suggest we set a target date of August 15 for release of 1.0 and do
> not depart from it. This will require some discipline once we start to
> stabilize things. I would anticipate this requiring a longer feature
> freeze. I would also like to defer any refactoring and major code
> cleanups until after 1.0. We need to get a stable working base
> established and then polish it from there to get to 1.0.
>
> It's a plain fact that adding new features introduces regressions. It
> has with every release. We need to avoid that as much as possible and
> get 1.0 out the door. Frank Warmerdam has commented on IRC about the
> benefit of getting to 1.0 -- to some our current version numbers imply
> something that is not really very mature.
>
> Let's talk about it and see if we can't agree on a release date, a
> targeted set of features, and a plan to implement it all.
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> -Desktop GIS Book:
>    *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Wed May 14 08:44:14 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 14 08:44:17 2008
Subject: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <4828A9CB.9000502@lancaster.ac.uk>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<d368056f0805121317o32a45b89of700ded1ee32f827@mail.gmail.com>
	<4828A9CB.9000502@lancaster.ac.uk>
Message-ID: <d368056f0805140544q7a2a241end61ab68616901ffe@mail.gmail.com>

Hi

>  The nasa web site here:
>
>   http://nssdc.gsfc.nasa.gov/photo_gallery/photogallery-jupsmallsats.html
>
>   has a slightly better image!
>
>   Is there a better moon being saved up for 1.0?
>
>  Barry
>
>
Cool  - I found a better (==gray turd looking blob :-) image soon
after writing that message,,,,watch SVN commits today for the new
splash I came up with....

Regards

Tim


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed May 14 08:47:41 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 14 08:47:44 2008
Subject: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <4828A9CB.9000502@lancaster.ac.uk>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<d368056f0805121317o32a45b89of700ded1ee32f827@mail.gmail.com>
	<4828A9CB.9000502@lancaster.ac.uk>
Message-ID: <d368056f0805140547r4dd50d9bk4701cb5de1a7d7b1@mail.gmail.com>

>
>   Is there a better moon being saved up for 1.0?
>
>  Barry
>

Oh I meant to reply to that too - probably we can put the name of our
first major release to the vote on the QGIS home page before naming
it. So if anybody wants to suggest potential charismatic moon names
that might be a good start.

Regards Tim



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed May 14 08:50:35 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 14 08:50:37 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
In-Reply-To: <20080513112203.GA2465@norbit.de>
References: <d368056f0805120541l6bbbf5ak7d1b3a043bdaafa3@mail.gmail.com>
	<20080513112203.GA2465@norbit.de>
Message-ID: <d368056f0805140550k3400d7b4ve49e06b8b82f7803@mail.gmail.com>

Hi All

Right I'm going to start committing in Qt4.3 reliant code now since
there are no vociferous objections....Martin Ill try to dig up that
SVG patch too...

Regards

Tim

2008/5/13 J?rgen E. Fischer <jef@norbit.de>:
> Hi Tim,
>
>  +1
>
>
>  J?rgen
>
>  --
>  J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  Software Engineer         D-26506 Norden               http://www.norbit.de
>
>  --
>  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  Rheinstrasse 13, 26506 Norden
>  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
>
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed May 14 08:51:53 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 14 08:51:55 2008
Subject: [Qgis-developer] [VOTE] Remove Qt4.2 minimum in favour of Qt4.3
In-Reply-To: <255b57430805120905u2a9e196ax10d3b87c7d4e40d@mail.gmail.com>
References: <255b57430805120905u2a9e196ax10d3b87c7d4e40d@mail.gmail.com>
Message-ID: <d368056f0805140551j572a862akd137564c1340bbe3@mail.gmail.com>

Hi

>
> +1 for me too.  The SVG patch has already been applied (with compiler
> switches to not break Qt 4.2).
> Steven


Ok great, ignore my last message about this then.

Regards


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed May 14 09:25:28 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 14 09:25:31 2008
Subject: cleanups (was Re: [Qgis-developer] Next release name - 'Metis')
In-Reply-To: <20080513223828.GA4018@norbit.de>
References: <d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<200805131644.49221.marco.hugentobler@karto.baug.ethz.ch>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<20080513223828.GA4018@norbit.de>
Message-ID: <d368056f0805140625g5d71b9f1od83545bd91f4a2c5@mail.gmail.com>

Hi

+1 for these changes from me. I think if you are going to be doing a
big batch change like this it would be good to do the following way:

1) Tag before-big-change
2) Call for all developers to put in any outstanding commits, patches
etc (many may get broken by such a batch change)
3) Apply debug and code formatting changes
4) Tag after-big-change
5) Announce devs can continue on with their work.

It may be good to fish out that svn commit hook we discussed once and
apply it after you changes such that any new code going in
automatically gets formatted on the way into SVN.

Regards

Tim

2008/5/13 J?rgen E. Fischer <jef@norbit.de>:
> Hi,
>
>  On Tue, 13. May 2008 at 08:24:22 +0200, Hugentobler  Marco wrote:
>  > It would also be good to make code cleaning sometime, e.g. cleaning
>  > out old comments and legacy code. I'm however not sure if developers
>  > have enough time to do that for the next release. I can imagine the
>  > 'code cleaning festival' one release after the 'performance boosting
>  > festival' (so probably before 1.0).
>
>  I also wanted to address some things:
>
>  1. move the remaining debug output using iostream to QgsDebugMsg:
>
>   I created a perl script [1], that needs a little patch[2] to fix some
>   cases the script doesn't handle. After running the script you end up
>   with patch [3].
>
>  2. fix whitespace use (lineendings and identation)
>
>   In the repository there are currently not all files using the same
>   lineending causes problems when diffs are transfered.
>
>   I think Tim already prepared an input file for astyle[4] that match
>   our coding standards.  Which could use to get a homogenous look.
>
>
>  At least for me this would be really nice.  Most of the time I end up
>  reformatting code or inventing dumb scripts, instead of doing real work
>  :)
>
>
>  On Tue, 13. May 2008 at 16:44:49 +0200, Marco Hugentobler wrote:
>  > If there are no further issues or objections, I plan to merge the
>  > rendercontext-branch back to trunk on Thursday.
>
>  Are there more branches about to be committed?  Implementation of the
>  points above would make it quite hard to merge them...
>
>
>  J?rgen
>
>  [1] http://buten.norbit.de/~jef/qgsloggermig.pl
>  [2] http://buten.norbit.de/~jef/qgslogger-before.diff
>  [3] http://buten.norbit.de/~jef/qgslogger-after.diff
>  [4] http://astyle.sourceforge.net/
>
>  --
>  J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  Software Engineer         D-26506 Norden               http://www.norbit.de
>
>  --
>  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  Rheinstrasse 13, 26506 Norden
>  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed May 14 09:27:41 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 14 09:27:43 2008
Subject: R: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D505BB41E6@FBCMST06V02.fbc.local>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
	<FA8A693893F4CE4283B4473C79FA47D505BB41E6@FBCMST06V02.fbc.local>
Message-ID: <d368056f0805140627y77ebcb55o815d87e8913b474e@mail.gmail.com>

Hi Marco

I will be revising the GRASS toolbox as part of my GUI revision that
will be happening in this release and maybe into next release.

Regards

Tim

2008/5/13  <marco.pasetti@alice.it>:
>
>
>
> Hi all,
>
> I agree with Paolo; in particular, I think that the *printing improvements*
> task is very important, moreover considering how QGIS is currently used by
> the community (that is, IMHO, as GRASS interface and high quality map
> editor).
> This said, I announce you that is my thought to start (from september) to
> work on a quite/new GRASS toolbox, that is, IMHO, another very important
> task to do.
>
> Regards
>
> Marco
>
>  ________________________________
>  Da: qgis-developer-bounces@lists.osgeo.org per conto di Paolo Cavallini
> Inviato: mar 13/05/2008 8.54
> A: QGIS Developer Mailing List
> Oggetto: Re: AW: [Qgis-developer] Next release name - 'Metis'
>
>
>
>
> Hugentobler Marco ha scritto:
> > Hi
>
> > In my experience, there is usually not enough time to discuss things
> > in the IRC meetings. Maybe people could state their plans for next
> > release on the mailing list first so a potential IRC meeting can be
> > more focused.
>
> Hi all.
> I think we should start laying down a list of items to be completed
> before a version could be called 1.0. In the meantime, we can release
> 0.11, 0.12 etc.
> In my view these are necessary:
> - bugfixing (this is probably the heaviest and most boring task)
> - advanced labelling
> - speedup
> - raster catalogues (this can be probably done with a simple plugin, as
> Martin suggested)
> - printing improvements (with raster legend)
> - API stabilization.
> All the best.
> pc
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.pasetti at alice.it  Wed May 14 11:43:01 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed May 14 11:43:07 2008
Subject: [Qgis-developer] GRASS toolbox enhancements
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>

Hi all,
 
Yesterday and today I played a bit with the GRASS toolbox, starting from some missing or not-working *pieces* that I usually use in my jobs and that would like very much to have in the GRASS toolbox, thus avoiding me to use the tollbox shell (or even GRASS itself) for such *common* tasks: that's what I did:
 
1) I removed the g.region module and replaced it with 8 different g.region modules.
 
why? Because g.region is very useful, as long as setting the correct for particular tasks
 
why 8? Because the GRASS toolbox currently doesn't permit to select exclusive options. We need to build a module for each exclusive option needed.
 
Here's the new modules:
1.1) g.region.raster - Set the region to match a raster map
1.2) g.region.multiple.raster - Set the region to match multiple raster maps *
1.3) g.region.region - Set the region from a named region
1.4) g.region.res - Change the 2D grid resolution (both N-S and E-W) of the current region
1.5) g.region.save - Save the current region as a named region
1.6) g.region.vector - Set the region to match a vector map
1.7) g.region.multiple.vector - Set the region to match multiple vector maps *
1.8) g.region.zoom - Shrink the current region until it meets non-NULL data from a given raster map
 
* this is actually a walk-around; I needed to set the option as file to let user type in multiple map names separated by a comma; the single version, though, is very comfortable because it automatically lists all the map available in the work space... even if you can't select more than one
 
2) I added the r.patch module; such as the g.region.multiple.* modules, this is a walk-around
 
3) I modified the r.proj module, that was useless since it was impossible to select the raster map to reproject; such as the r.patch modules, this is a walk-around
 
4) I added the r.proj.res module; it's the copy of the r.proj module, plus the feature to let redifine the resolution of the raster map while reprojecting
 
5) I modified the v.in.db module; now it's possible to pick up the db file via GUI, select the table name and db driver
 
6) I worked on the v.in.ogr module: the module was useless since it was impossible to select the input and parameters values; I fixed it, added some important options and flags, and re-designed the v.in.ogr modules as follows:
 
6.1) v.in.ogr.list - list all available layers in a given OGR data source
6.2) v.in.ogr - Import OGR/PostGIS vector layers
6.3) v.in.ogr.loc - Import OGR/PostGIS vector layers and create a fitted location
6.4) v.in.ogr.all - Import all the OGR/PostGIS vector layers in a given data source
6.5) v.in.ogr.all.loc - Import all the OGR/PostGIS vector layers in a given data source and create a fitted location
6.6) v.in.shape - Import ESRI Shapefile vector layers
6.7) v.in.shape.loc - Import ESRI Shapefile vector layers and create a fitted location
 
The last two modules are very comfortable since they use the *pick up* file GUI tool, with a filter set to *shp files
 
7) I added the v.patch module; such as the r.patch modules, this is a walk-around
 
I tested all the new and modified modules with qgis-0.10.0 on MS Windows (my build), and they all work very, very fine ;-)
 
Dowload the following files (I have problems with attaches today):
- default.qgc.diff -> to patch the /src/plugins/grass/config/default.qgc file
- modules_files.tar.gz -> unpack to  /src/plugins/grass/modules
 
http://www.webalice.it/marco.pasetti/qgis/default.qgc.diff <http://www.webalice.it/marco.pasetti/qgis/default.qgc.diff>  -> needed to patch the /src/plugins/grass/config/default.qgc file [ patch -p0 <default.qgc.diff ]
http://www.webalice.it/marco.pasetti/qgis/modules.tar.gz <http://www.webalice.it/marco.pasetti/qgis/modules.tar.gz>  -> unpack to /src/plugins/grass/modules

cmakesetup ..
make
make install
 
and test ;-)
 
Comments will be very appreciated
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080514/3d2ab3c8/attachment.html
From marco.pasetti at alice.it  Wed May 14 12:18:57 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed May 14 12:20:13 2008
Subject: R: [Qgis-developer] GRASS toolbox enhancements
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB41ED@FBCMST06V02.fbc.local>

Hi all,
 
I did a mistaje with the diff file;
here's the complete qgc file: http://www.webalice.it/marco.pasetti/qgis/default.qgc
 
Regards,
 
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di marco.pasetti@alice.it
Inviato: mer 14/05/2008 17.43
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] GRASS toolbox enhancements


Hi all,
 
Yesterday and today I played a bit with the GRASS toolbox, starting from some missing or not-working *pieces* that I usually use in my jobs and that would like very much to have in the GRASS toolbox, thus avoiding me to use the tollbox shell (or even GRASS itself) for such *common* tasks: that's what I did:
 
1) I removed the g.region module and replaced it with 8 different g.region modules.
 
why? Because g.region is very useful, as long as setting the correct for particular tasks
 
why 8? Because the GRASS toolbox currently doesn't permit to select exclusive options. We need to build a module for each exclusive option needed.
 
Here's the new modules:
1.1) g.region.raster - Set the region to match a raster map
1.2) g.region.multiple.raster - Set the region to match multiple raster maps *
1.3) g.region.region - Set the region from a named region
1.4) g.region.res - Change the 2D grid resolution (both N-S and E-W) of the current region
1.5) g.region.save - Save the current region as a named region
1.6) g.region.vector - Set the region to match a vector map
1.7) g.region.multiple.vector - Set the region to match multiple vector maps *
1.8) g.region.zoom - Shrink the current region until it meets non-NULL data from a given raster map
 
* this is actually a walk-around; I needed to set the option as file to let user type in multiple map names separated by a comma; the single version, though, is very comfortable because it automatically lists all the map available in the work space... even if you can't select more than one
 
2) I added the r.patch module; such as the g.region.multiple.* modules, this is a walk-around
 
3) I modified the r.proj module, that was useless since it was impossible to select the raster map to reproject; such as the r.patch modules, this is a walk-around
 
4) I added the r.proj.res module; it's the copy of the r.proj module, plus the feature to let redifine the resolution of the raster map while reprojecting
 
5) I modified the v.in.db module; now it's possible to pick up the db file via GUI, select the table name and db driver
 
6) I worked on the v.in.ogr module: the module was useless since it was impossible to select the input and parameters values; I fixed it, added some important options and flags, and re-designed the v.in.ogr modules as follows:
 
6.1) v.in.ogr.list - list all available layers in a given OGR data source
6.2) v.in.ogr - Import OGR/PostGIS vector layers
6.3) v.in.ogr.loc - Import OGR/PostGIS vector layers and create a fitted location
6.4) v.in.ogr.all - Import all the OGR/PostGIS vector layers in a given data source
6.5) v.in.ogr.all.loc - Import all the OGR/PostGIS vector layers in a given data source and create a fitted location
6.6) v.in.shape - Import ESRI Shapefile vector layers
6.7) v.in.shape.loc - Import ESRI Shapefile vector layers and create a fitted location
 
The last two modules are very comfortable since they use the *pick up* file GUI tool, with a filter set to *shp files
 
7) I added the v.patch module; such as the r.patch modules, this is a walk-around
 
I tested all the new and modified modules with qgis-0.10.0 on MS Windows (my build), and they all work very, very fine ;-)
 
Dowload the following files (I have problems with attaches today):
- default.qgc.diff -> to patch the /src/plugins/grass/config/default.qgc file
- modules_files.tar.gz -> unpack to  /src/plugins/grass/modules
 
http://www.webalice.it/marco.pasetti/qgis/default.qgc.diff <http://www.webalice.it/marco.pasetti/qgis/default.qgc.diff>  -> needed to patch the /src/plugins/grass/config/default.qgc file [ patch -p0 <default.qgc.diff ]
http://www.webalice.it/marco.pasetti/qgis/modules.tar.gz <http://www.webalice.it/marco.pasetti/qgis/modules.tar.gz>  -> unpack to /src/plugins/grass/modules

cmakesetup ..
make
make install
 
and test ;-)
 
Comments will be very appreciated
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080514/c24563e9/attachment.html
From tim at linfiniti.com  Wed May 14 13:56:23 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 14 13:56:25 2008
Subject: [Qgis-developer] GRASS toolbox enhancements
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>
Message-ID: <d368056f0805141056r73b7bf33tf5039e5155ae1525@mail.gmail.com>

Hi Marco

You updates sound great. Once others have tested them & voiced their
opinions, be sure to ask Marco Hugentobler to commit them to SVN.

Regards

Tim

2008/5/14  <marco.pasetti@alice.it>:
>
>
> Hi all,
>
> Yesterday and today I played a bit with the GRASS toolbox, starting from
> some missing or not-working *pieces* that I usually use in my jobs and that
> would like very much to have in the GRASS toolbox, thus avoiding me to use
> the tollbox shell (or even GRASS itself) for such *common* tasks: that's
> what I did:
>
> 1) I removed the g.region module and replaced it with 8 different g.region
> modules.
>
> why? Because g.region is very useful, as long as setting the correct for
> particular tasks
>
> why 8? Because the GRASS toolbox currently doesn't permit to select
> exclusive options. We need to build a module for each exclusive option
> needed.
>
> Here's the new modules:
> 1.1) g.region.raster - Set the region to match a raster map
> 1.2) g.region.multiple.raster - Set the region to match multiple raster maps
> *
> 1.3) g.region.region - Set the region from a named region
> 1.4) g.region.res - Change the 2D grid resolution (both N-S and E-W) of the
> current region
> 1.5) g.region.save - Save the current region as a named region
> 1.6) g.region.vector - Set the region to match a vector map
> 1.7) g.region.multiple.vector - Set the region to match multiple vector maps
> *
> 1.8) g.region.zoom - Shrink the current region until it meets non-NULL data
> from a given raster map
>
> * this is actually a walk-around; I needed to set the option as file to let
> user type in multiple map names separated by a comma; the single version,
> though, is very comfortable because it automatically lists all the map
> available in the work space... even if you can't select more than one
>
> 2) I added the r.patch module; such as the g.region.multiple.* modules, this
> is a walk-around
>
> 3) I modified the r.proj module, that was useless since it was impossible to
> select the raster map to reproject; such as the r.patch modules, this is a
> walk-around
>
> 4) I added the r.proj.res module; it's the copy of the r.proj module, plus
> the feature to let redifine the resolution of the raster map while
> reprojecting
>
> 5) I modified the v.in.db module; now it's possible to pick up the db file
> via GUI, select the table name and db driver
>
> 6) I worked on the v.in.ogr module: the module was useless since it was
> impossible to select the input and parameters values; I fixed it, added some
> important options and flags, and re-designed the v.in.ogr modules as
> follows:
>
> 6.1) v.in.ogr.list - list all available layers in a given OGR data source
> 6.2) v.in.ogr - Import OGR/PostGIS vector layers
> 6.3) v.in.ogr.loc - Import OGR/PostGIS vector layers and create a fitted
> location
> 6.4) v.in.ogr.all - Import all the OGR/PostGIS vector layers in a given data
> source
> 6.5) v.in.ogr.all.loc - Import all the OGR/PostGIS vector layers in a given
> data source and create a fitted location
> 6.6) v.in.shape - Import ESRI Shapefile vector layers
> 6.7) v.in.shape.loc - Import ESRI Shapefile vector layers and create a
> fitted location
>
> The last two modules are very comfortable since they use the *pick up* file
> GUI tool, with a filter set to *shp files
>
> 7) I added the v.patch module; such as the r.patch modules, this is a
> walk-around
>
> I tested all the new and modified modules with qgis-0.10.0 on MS Windows (my
> build), and they all work very, very fine ;-)
>
> Dowload the following files (I have problems with attaches today):
> - default.qgc.diff -> to patch the /src/plugins/grass/config/default.qgc
> file
> - modules_files.tar.gz -> unpack to  /src/plugins/grass/modules
>
> http://www.webalice.it/marco.pasetti/qgis/default.qgc.diff -> needed to
> patch the /src/plugins/grass/config/default.qgc file [ patch -p0
> <default.qgc.diff ]
> http://www.webalice.it/marco.pasetti/qgis/modules.tar.gz -> unpack to
> /src/plugins/grass/modules
>
> cmakesetup ..
> make
> make install
>
> and test ;-)
>
> Comments will be very appreciated
>
> Marco
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Wed May 14 14:22:37 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed May 14 14:22:45 2008
Subject: [Qgis-developer] GRASS toolbox enhancements
In-Reply-To: <d368056f0805141056r73b7bf33tf5039e5155ae1525@mail.gmail.com>
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>
	<d368056f0805141056r73b7bf33tf5039e5155ae1525@mail.gmail.com>
Message-ID: <482B2DED.80102@faunalia.it>

Tim Sutton ha scritto:
> Hi Marco
> 
> You updates sound great. Once others have tested them & voiced their
> opinions, be sure to ask Marco Hugentobler to commit them to SVN.

BTW: working more deeply with GRASS modules, I discovered quite a few
spelling mistakes, full stops etc. Also, several check boxes should be
radio buttons, "Show output" is not alway present (I do not know why).
Nothing serious, but better clean this up, as it should be easy and
quick, and makes QGIS llok tidier.
Furthermore, a number of modules work only with GRASS 6.3, so I suggest
to require this version. Alternatively, we could avoid copying them at
compile time if grass 6.2 is present.
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From jkretzmer at redzone.com  Wed May 14 15:10:08 2008
From: jkretzmer at redzone.com (Josh Kretzmer)
Date: Wed May 14 16:02:41 2008
Subject: [Qgis-developer] Real-time updates to shapefile in QGIS
Message-ID: <1210792208.22886.3.camel@hal>

Hello,

I am currently attempting to write a Python plugin for QGIS to handle
updates from a GPS receiver in real-time.  I have a thread that is
reading / parsing the lat long updates and adding these points to a
shapefile.  Is there anyway to force an update of the vector layer on
which these point are rendered each time a new point is added?

Thanks,
-Josh

From wonder.sk at gmail.com  Wed May 14 16:59:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 14 17:00:03 2008
Subject: [Qgis-developer] Real-time updates to shapefile in QGIS
In-Reply-To: <1210792208.22886.3.camel@hal>
References: <1210792208.22886.3.camel@hal>
Message-ID: <e8e7199c0805141359n46f9555p1581d631c58cd418@mail.gmail.com>

Hi Josh

On Wed, May 14, 2008 at 9:10 PM, Josh Kretzmer <jkretzmer@redzone.com> wrote:
> I am currently attempting to write a Python plugin for QGIS to handle
> updates from a GPS receiver in real-time.  I have a thread that is
> reading / parsing the lat long updates and adding these points to a
> shapefile.  Is there anyway to force an update of the vector layer on
> which these point are rendered each time a new point is added?

you would have to do QgsMapCanvas::refresh() everytime, which means
redrawing also all other layers. It would be better to use a map
canvas item to draw the GPS track so that you could avoid unnecessary
redraws. You can check my simple QGIS-based application to get the
idea:
http://mapserver.sk/~wonder/qnavigator/

Regards
Martin
From benjamin.ducke at oxfordarch.co.uk  Thu May 15 04:00:35 2008
From: benjamin.ducke at oxfordarch.co.uk (Benjamin Ducke)
Date: Thu May 15 04:01:14 2008
Subject: [Qgis-developer] GRASS toolbox enhancements
In-Reply-To: <482B2DED.80102@faunalia.it>
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>	<d368056f0805141056r73b7bf33tf5039e5155ae1525@mail.gmail.com>
	<482B2DED.80102@faunalia.it>
Message-ID: <482BEDA3.5060109@oxfordarch.co.uk>

Hi all,

I think the GRASS Toolbox is in need of a general overhaul.

One thing that might be easy to fix is to remove the spurious
newlines after each line on the "Output" canvas which seems
to waste a lot of space and make things look ugly in general.

Also, we urgently need a new option type for multiple raster/vector
input maps. Otherwise, useful things like *.patch will not work.

There certainly are many other things that need improvement, but I
think these two would be relatively easy to do and improve usability
a lot.

> BTW: working more deeply with GRASS modules, I discovered quite a few
> spelling mistakes, full stops etc. Also, several check boxes should be
> radio buttons, "Show output" is not alway present (I do not know why).

Did you observe this on Win32? There seem to be some problems with
progress and message text not being piped from stderr to stdout
correctly. I am trying to figure that out at the moment. I know that
r.mapcalc/r3.mapcalc consistently show this problem on Win32.

> Nothing serious, but better clean this up, as it should be easy and
> quick, and makes QGIS llok tidier.
> Furthermore, a number of modules work only with GRASS 6.3, so I suggest
> to require this version. Alternatively, we could avoid copying them at
> compile time if grass 6.2 is present.

Seeing that GRASS 6.3.0 is out officially now and so much better than
6.2 (which is also problematic on native Win), I do not see any
compelling reasons to support anything < 6.3.0 at this point.

> All the best.
> pc

Best,

Ben


-- 
Benjamin Ducke
Senior Applications Support and Development Officer

Oxford Archaeological Unit Limited
Janus House
Osney Mead
OX2 0ES
Oxford, U.K.

Tel: +44 (0)1865 263 800 (switchboard)
Tel: +44 (0)1865 980 758 (direct)
Fax :+44 (0)1865 793 496
benjamin.ducke@oxfordarch.co.uk




------
Files attached to this email may be in ISO 26300 format (OASIS Open Document Format). If you have difficulty opening them, please visit http://iso26300.info for more information.

From cavallini at faunalia.it  Thu May 15 04:06:59 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu May 15 04:07:31 2008
Subject: [Qgis-developer] GRASS toolbox enhancements
In-Reply-To: <482BEDA3.5060109@oxfordarch.co.uk>
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>	<d368056f0805141056r73b7bf33tf5039e5155ae1525@mail.gmail.com>	<482B2DED.80102@faunalia.it>
	<482BEDA3.5060109@oxfordarch.co.uk>
Message-ID: <482BEF23.2080104@faunalia.it>

Benjamin Ducke ha scritto:

> Did you observe this on Win32? There seem to be some problems with
> progress and message text not being piped from stderr to stdout
> correctly. I am trying to figure that out at the moment.

Exactly, I tried yesterday for the first time qgis on win, and that is
the result.

>> Nothing serious, but better clean this up, as it should be easy and
>> quick, and makes QGIS llok tidier.
>> Furthermore, a number of modules work only with GRASS 6.3, so I suggest
>> to require this version. Alternatively, we could avoid copying them at
>> compile time if grass 6.2 is present.
> 
> Seeing that GRASS 6.3.0 is out officially now and so much better than
> 6.2 (which is also problematic on native Win), I do not see any
> compelling reasons to support anything < 6.3.0 at this point.

This is easy to do for win, a bit more difficult for other OSs :(
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From benjamin.ducke at oxfordarch.co.uk  Thu May 15 04:11:07 2008
From: benjamin.ducke at oxfordarch.co.uk (Benjamin Ducke)
Date: Thu May 15 04:12:30 2008
Subject: [Qgis-developer] GRASS toolbox enhancements
In-Reply-To: <482BEF23.2080104@faunalia.it>
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>	<d368056f0805141056r73b7bf33tf5039e5155ae1525@mail.gmail.com>	<482B2DED.80102@faunalia.it>
	<482BEDA3.5060109@oxfordarch.co.uk> <482BEF23.2080104@faunalia.it>
Message-ID: <482BF01B.3000507@oxfordarch.co.uk>

Paolo Cavallini wrote:
> Benjamin Ducke ha scritto:
> 
>> Did you observe this on Win32? There seem to be some problems with
>> progress and message text not being piped from stderr to stdout
>> correctly. I am trying to figure that out at the moment.
> 
> Exactly, I tried yesterday for the first time qgis on win, and that is
> the result.

Could you try to narrow it down and check if only certain modules or
module combinations are affected?

>> Seeing that GRASS 6.3.0 is out officially now and so much better than
>> 6.2 (which is also problematic on native Win), I do not see any
>> compelling reasons to support anything < 6.3.0 at this point.
> 
> This is easy to do for win, a bit more difficult for other OSs :(
> pc

I guess it would suffice for the GRASS Tools to run g.version and grab
the GRASS version number on initialization, then refuse to run (or show
a warning) if that is < 6.3.0?

Ben

-- 
Benjamin Ducke
Senior Applications Support and Development Officer

Oxford Archaeological Unit Limited
Janus House
Osney Mead
OX2 0ES
Oxford, U.K.

Tel: +44 (0)1865 263 800 (switchboard)
Tel: +44 (0)1865 980 758 (direct)
Fax :+44 (0)1865 793 496
benjamin.ducke@oxfordarch.co.uk




------
Files attached to this email may be in ISO 26300 format (OASIS Open Document Format). If you have difficulty opening them, please visit http://iso26300.info for more information.

From marco.hugentobler at karto.baug.ethz.ch  Thu May 15 04:52:16 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu May 15 04:53:42 2008
Subject: AW: cleanups (was Re: [Qgis-developer] Next release name - 'Metis')
References: <d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com><200805131644.49221.marco.hugentobler@karto.baug.ethz.ch><04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch><20080513223828.GA4018@norbit.de>
	<d368056f0805140625g5d71b9f1od83545bd91f4a2c5@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF83C@EX6.d.ethz.ch>

Hi,

+1 also for me.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tim Sutton
Gesendet: Mi 14.05.2008 15:25
An: J?rgen E. Fischer
Cc: QGIS Developer Mailing List
Betreff: Re: cleanups (was Re: [Qgis-developer] Next release name - 'Metis')
 
Hi

+1 for these changes from me. I think if you are going to be doing a
big batch change like this it would be good to do the following way:

1) Tag before-big-change
2) Call for all developers to put in any outstanding commits, patches
etc (many may get broken by such a batch change)
3) Apply debug and code formatting changes
4) Tag after-big-change
5) Announce devs can continue on with their work.

It may be good to fish out that svn commit hook we discussed once and
apply it after you changes such that any new code going in
automatically gets formatted on the way into SVN.

Regards

Tim

2008/5/13 J?rgen E. Fischer <jef@norbit.de>:
> Hi,
>
>  On Tue, 13. May 2008 at 08:24:22 +0200, Hugentobler  Marco wrote:
>  > It would also be good to make code cleaning sometime, e.g. cleaning
>  > out old comments and legacy code. I'm however not sure if developers
>  > have enough time to do that for the next release. I can imagine the
>  > 'code cleaning festival' one release after the 'performance boosting
>  > festival' (so probably before 1.0).
>
>  I also wanted to address some things:
>
>  1. move the remaining debug output using iostream to QgsDebugMsg:
>
>   I created a perl script [1], that needs a little patch[2] to fix some
>   cases the script doesn't handle. After running the script you end up
>   with patch [3].
>
>  2. fix whitespace use (lineendings and identation)
>
>   In the repository there are currently not all files using the same
>   lineending causes problems when diffs are transfered.
>
>   I think Tim already prepared an input file for astyle[4] that match
>   our coding standards.  Which could use to get a homogenous look.
>
>
>  At least for me this would be really nice.  Most of the time I end up
>  reformatting code or inventing dumb scripts, instead of doing real work
>  :)
>
>
>  On Tue, 13. May 2008 at 16:44:49 +0200, Marco Hugentobler wrote:
>  > If there are no further issues or objections, I plan to merge the
>  > rendercontext-branch back to trunk on Thursday.
>
>  Are there more branches about to be committed?  Implementation of the
>  points above would make it quite hard to merge them...
>
>
>  J?rgen
>
>  [1] http://buten.norbit.de/~jef/qgsloggermig.pl
>  [2] http://buten.norbit.de/~jef/qgslogger-before.diff
>  [3] http://buten.norbit.de/~jef/qgslogger-after.diff
>  [4] http://astyle.sourceforge.net/
>
>  --
>  J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  Software Engineer         D-26506 Norden               http://www.norbit.de
>
>  --
>  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  Rheinstrasse 13, 26506 Norden
>  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From cavallini at faunalia.it  Thu May 15 05:18:02 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu May 15 05:18:08 2008
Subject: [Qgis-developer] qgis-grass crash
Message-ID: <482BFFCA.6050606@faunalia.it>

Hi all.
I confirm, also after recompiling all gdal+grass+qgis (see
debian.gfoss.it - thanks Niccolo), I still get the nasty crash when
opening a grass vector:

error_routine (fatal = 1): default region is invalid
line 4: <south:      -28513.88928299>
Cannot open GRASS vector: default region is invalid
line 4: <south:      -28513.88928299>

[1]+  Segmentation fault      qgis

On win, it works (grrr!).
Anyone has the same problem?
Any hint on how to solve the issue? What happens on Ubuntu?
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From lami at faunalia.it  Thu May 15 05:22:34 2008
From: lami at faunalia.it (lami@faunalia.it)
Date: Thu May 15 05:22:38 2008
Subject: [Qgis-developer] GRASS toolbox enhancements
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>
Message-ID: <53528.90.132.15.2.1210843354.squirrel@www.faunalia.it>


Hi Marco,
I'm happy that you'd like to work on GRASS tools.
I write some suggestion to you about your news:
>
> 1) I removed the g.region module and replaced it with 8 different g.region
> modules.

> Here's the new modules:
> 1.1) g.region.raster - Set the region to match a raster map
 You can make it from the browser, I think is not useful add repetitive
modules

> 1.2) g.region.multiple.raster - Set the region to match multiple raster
> maps *
Ok

> 1.3) g.region.region - Set the region from a named region
 You can make it from the browser

> 1.4) g.region.res - Change the 2D grid resolution (both N-S and E-W) of
> the current region
 You can make it from the manage GRASS region icon

> 1.5) g.region.save - Save the current region as a named region
 Already present

> 1.6) g.region.vector - Set the region to match a vector map
 You can make it from the browser

> 1.7) g.region.multiple.vector - Set the region to match multiple vector
> maps *
Ok

> 1.8) g.region.zoom - Shrink the current region until it meets non-NULL
> data from a given raster map
Ok

>
> * this is actually a walk-around; I needed to set the option as file to
> let user type in multiple map names separated by a comma; the single
> version, though, is very comfortable because it automatically lists all
> the map available in the work space... even if you can't select more than
> one
>
> 2) I added the r.patch module; such as the g.region.multiple.* modules,
> this is a walk-around
A old problem for this kind of modules
>
> 3) I modified the r.proj module, that was useless since it was impossible
> to select the raster map to reproject; such as the r.patch modules, this
> is a walk-around

idem
>
> 4) I added the r.proj.res module; it's the copy of the r.proj module, plus
> the feature to let redifine the resolution of the raster map while
> reprojecting
Ok

>
> 5) I modified the v.in.db module; now it's possible to pick up the db file
> via GUI, select the table name and db driver
Good

>
> 6) I worked on the v.in.ogr module: the module was useless since it was
> impossible to select the input and parameters values; I fixed it, added
> some important options and flags, and re-designed the v.in.ogr modules as
> follows:
>
> 6.1) v.in.ogr.list - list all available layers in a given OGR data source
I think that no necessary modules must not be inserted in qgis BECAUSE IT
CAN INCREASE THE COMPLEXITY OF THE grass TOOLS

> 6.2) v.in.ogr - Import OGR/PostGIS vector layers
Already present

> 6.3) v.in.ogr.loc - Import OGR/PostGIS vector layers and create a fitted
> location
Already present

> 6.4) v.in.ogr.all - Import all the OGR/PostGIS vector layers in a given
> data source
Ok

> 6.5) v.in.ogr.all.loc - Import all the OGR/PostGIS vector layers in a
> given data source and create a fitted location
Ok

> 6.6) v.in.shape - Import ESRI Shapefile vector layers
> 6.7) v.in.shape.loc - Import ESRI Shapefile vector layers and create a
> fitted location

Why this attention for shapefile?

>
> The last two modules are very comfortable since they use the *pick up*
> file GUI tool, with a filter set to *shp files
>
> 7) I added the v.patch module; such as the r.patch modules, this is a
> walk-around
>

Good WORK!!

Leonardo


From sebastien.vial at gmail.com  Thu May 15 15:09:05 2008
From: sebastien.vial at gmail.com (Sebastien Vial)
Date: Thu May 15 15:09:08 2008
Subject: [Qgis-developer] ideas for developpers
Message-ID: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>

Hi all

First many thanks to Carson for those amazing plugins... specially for the
manageR !!

(perhaps I should write those ideas on some page in the wiki... but where ?)

And now, some ideas :
* for plugin developpers with time : (I'm a gis teacher, but with no time
and no python capacities... I'm trying to discover this interesting
programming language)
- join by attribute : join all the objets with the same attributes (the
opposite of the split by attributes) ; used to merge some polygons with the
same value in a column attribute
- simplify vector layer according to the scale ; there exists a python
script - in the gdal package for python- whose name is simplify.py that does
it... and a postgis script http://www.bostongis.com/postgis_simplify.snippet

* Wouldn't it be interesting to organize (at least a little) the plugin menu
? mine begins to be very... large ! For exemple, we could organize like
- vector objects oriented plugins
- database oriented plugins
- raster oriented
- import/export
- selecting
- statistics...

* and about the plugin manager : adding a column to know the installed
version of the plugin (like some linux package manager), in order to compare
the version number, and to know if the plugin needs to be re-installed ---
and perhaps a warning when there is a new version of a plugin

Many thanks in advance !!

I'm writing docs on qgis use (and the plugins !!)  for my students, but
there will be in FRENCH !!!

Seb

-- 
S?bastien VIAL
Prof d'Info - Resp. TIC/Comm - Formateur SIG
Lyc?e Agricole du Balcon des Ardennes
http://www.lebalcon.fr
tel : 03-24-57-66-71
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080515/b260235d/attachment.html
From tim at linfiniti.com  Thu May 15 15:25:06 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu May 15 15:25:10 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
Message-ID: <d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>

Hi

2008/5/14 Gary Sherman <sherman@mrcc.com>:

>
> I think it is imperative that we release 1.0 before FOSS4G2008. By
> mid-August the Google Summer of Code project for labeling will be complete.
> There is already work underway on the map composition feature and hopefully
> it will be complete before August. The only other thing (apart from bug
> fixes/stability) that I would like to see is the raster catalog.

Chatting briefly with the new community team yesterday, I think its
going to be tight, but maybe doable. I think if we are going to
achieve this we need to start freezing off parts of the application,
disallowing any new features gui changes except in the composer dialog
and vector props dialogs so that we can get a fixed platform to write
docs and do tr() work against. I say this with the idea in mind that
when we release 1.0 it can be with complete documentation ready and
with as complete as possible translation work done.

>
> I suggest we set a target date of August 15 for release of 1.0 and do not
> depart from it. This will require some discipline once we start to stabilize
> things. I would anticipate this requiring a longer feature freeze. I would
> also like to defer any refactoring and major code cleanups until after 1.0.
> We need to get a stable working base established and then polish it from
> there to get to 1.0.

Based on this I'm thinking we probably need to start feature freeze as
of end of next month (June) or so. And string freeze 15 days after
that. Based on that timing we have maybe one more point release we can
squeeze out before 1.0 is announced.


>
> It's a plain fact that adding new features introduces regressions. It has
> with every release. We need to avoid that as much as possible and get 1.0
> out the door.

Yes agreed.

 Frank Warmerdam has commented on IRC about the benefit of
> getting to 1.0 -- to some our current version numbers imply something that
> is not really very mature.

I think even when we have 1.0 out we need to be careful not to
oversell QGIS as a ArcMap replacement in its 1.0 incarnation....but I
guess it will have more functionality than ArcView 1.0 had :-).

>
> Let's talk about it and see if we can't agree on a release date, a targeted
> set of features, and a plan to implement it all.

The  release team will be having a meeting next fri (though a little
early by alaska time), maybe we can hold a general dev meeting later
in the day...? I'm happy to work hard to achieve august 15 release
date, but it depends on other devs pitching in too. Hopefully our
hackfest can put us a lot further down the road to release too.

Regards

Tim

>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>  *Geospatial Hosting
>  *Web Site Hosting
> -Desktop GIS Book:
>  *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.pasetti at alice.it  Thu May 15 16:09:01 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Thu May 15 16:09:12 2008
Subject: R: [Qgis-developer] GRASS toolbox enhancements
In-Reply-To: <53528.90.132.15.2.1210843354.squirrel@www.faunalia.it>
References: <FA8A693893F4CE4283B4473C79FA47D505BB41EC@FBCMST06V02.fbc.local>
	<53528.90.132.15.2.1210843354.squirrel@www.faunalia.it>
Message-ID: <00a301c8b6c7$85f6a4a0$0401a8c0@Ulisse>

Hi Leo,

>> 1.1) g.region.raster - Set the region to match a raster map
> You can make it from the browser, I think is not useful add repetitive
modules

Right (I realized it later). I'll remove it.

>> 1.3) g.region.region - Set the region from a named region
> You can make it from the browser

Right. To be removed.

>> 1.4) g.region.res - Change the 2D grid resolution (both N-S and E-W) 
>> of the current region
> You can make it from the manage GRASS region icon

Right. To be removed.

>> 1.5) g.region.save - Save the current region as a named region
> Already present

Yes, the old g.region: if we introduce different g.region modules I think
that we should suffix the related command names to recognize them

>> 1.6) g.region.vector - Set the region to match a vector map
> You can make it from the browser

Right. To be removed.

>> 6.1) v.in.ogr.list - list all available layers in a given OGR data 
>> source
>I think that no necessary modules must not be inserted in qgis BECAUSE IT
CAN INCREASE THE COMPLEXITY OF THE grass TOOLS

I agree. To be removed.

>> 6.2) v.in.ogr - Import OGR/PostGIS vector layers
>Already present

Yes. But it was not working. I modified it.

>> 6.3) v.in.ogr.loc - Import OGR/PostGIS vector layers and create a 
>> fitted location
>Already present

Yes. But it was not working. I modified it.

>> 6.6) v.in.shape - Import ESRI Shapefile vector layers
>> 6.7) v.in.shape.loc - Import ESRI Shapefile vector layers and create a 
>> fitted location

>Why this attention for shapefile?

Mainly because of:
1) It's a very widespread data format; many data, publicly available on the
internet for free, are in shape file format
2) It's the most diffuse format of the main commercial competitor of the OS
GIS solution; it's important, IMHO, to underline that we (GRASS and QGIS)
are able to easily manage also this format, and so that an *OS migration*
with us could be very easy and painless
3) The v.in.shape command has a special syntax for the ESRI Shapefiles that
makes, only for that purpose, the module *filling* a lot easier
4) Many vector datasets, such as the DCW and VMAP datasets, need the OGDI
support and the AVCE00 and E00Compr Libraries to be imported. Since the OGDI
support has not been added to the GDAL in WinGRASS (task added), the AVCE00
and E00Compr still not compiled (task added, and already done... but there's
a *spaces* bug in v.in.e00, probably already fixed but still not backported
to GRASS 6.3.0), and because the VMAP0 dataset is freely available also in
Shapefile format, I guess that a straight way to import ESRI Shape files is
an important thing to have.

Riassuming:

NEW MODULES TO KILL:
---------------------------------------
- g.region.raster
- g.region.region
- g.region.res
- g.region.vector
- v.in.ogr.list

NEW/MODIFIED/RENAMED MODULES TO KEEP:
---------------------------------------
- g.save
- g.region.zoom
- g.region.multiple.raster
- g.region.multiple.vector
- r.patch
- v.patch
- r.proj
- r.proj.res
- v.in.db
- v.in.ogr
- v.in.ogr.loc
- v.in.ogr.all
- v.in.ogr.all.loc
- v.in.shape
- v.in.shape.loc

This said other 2 questions:

1) Why I cannot close a mapset? Error reported: Cannot remove mapset lock

2) It would be good to have also a module like:

g.proj.georef - Read projection information of/from a georeferenced file
(raster, vector or image)

We could put it in the File section

Marco



-----Messaggio originale-----
Da: lami@faunalia.it [mailto:lami@faunalia.it] 
Inviato: gioved? 15 maggio 2008 11.23
A: marco.pasetti@alice.it
Cc: qgis-developer@lists.osgeo.org
Oggetto: Re: [Qgis-developer] GRASS toolbox enhancements


Hi Marco,
I'm happy that you'd like to work on GRASS tools.
I write some suggestion to you about your news:
>
> 1) I removed the g.region module and replaced it with 8 different 
> g.region modules.

> Here's the new modules:
> 1.1) g.region.raster - Set the region to match a raster map
 You can make it from the browser, I think is not useful add repetitive
modules

> 1.2) g.region.multiple.raster - Set the region to match multiple 
> raster maps *
Ok

> 1.3) g.region.region - Set the region from a named region
 You can make it from the browser

> 1.4) g.region.res - Change the 2D grid resolution (both N-S and E-W) 
> of the current region
 You can make it from the manage GRASS region icon

> 1.5) g.region.save - Save the current region as a named region
 Already present

> 1.6) g.region.vector - Set the region to match a vector map
 You can make it from the browser

> 1.7) g.region.multiple.vector - Set the region to match multiple 
> vector maps *
Ok

> 1.8) g.region.zoom - Shrink the current region until it meets non-NULL 
> data from a given raster map
Ok

>
> * this is actually a walk-around; I needed to set the option as file 
> to let user type in multiple map names separated by a comma; the 
> single version, though, is very comfortable because it automatically 
> lists all the map available in the work space... even if you can't 
> select more than one
>
> 2) I added the r.patch module; such as the g.region.multiple.* 
> modules, this is a walk-around
A old problem for this kind of modules
>
> 3) I modified the r.proj module, that was useless since it was 
> impossible to select the raster map to reproject; such as the r.patch 
> modules, this is a walk-around

idem
>
> 4) I added the r.proj.res module; it's the copy of the r.proj module, 
> plus the feature to let redifine the resolution of the raster map 
> while reprojecting
Ok

>
> 5) I modified the v.in.db module; now it's possible to pick up the db 
> file via GUI, select the table name and db driver
Good

>
> 6) I worked on the v.in.ogr module: the module was useless since it 
> was impossible to select the input and parameters values; I fixed it, 
> added some important options and flags, and re-designed the v.in.ogr 
> modules as
> follows:
>
> 6.1) v.in.ogr.list - list all available layers in a given OGR data 
> source
I think that no necessary modules must not be inserted in qgis BECAUSE IT
CAN INCREASE THE COMPLEXITY OF THE grass TOOLS

> 6.2) v.in.ogr - Import OGR/PostGIS vector layers
Already present

> 6.3) v.in.ogr.loc - Import OGR/PostGIS vector layers and create a 
> fitted location
Already present

> 6.4) v.in.ogr.all - Import all the OGR/PostGIS vector layers in a 
> given data source
Ok

> 6.5) v.in.ogr.all.loc - Import all the OGR/PostGIS vector layers in a 
> given data source and create a fitted location
Ok

> 6.6) v.in.shape - Import ESRI Shapefile vector layers
> 6.7) v.in.shape.loc - Import ESRI Shapefile vector layers and create a 
> fitted location

Why this attention for shapefile?

>
> The last two modules are very comfortable since they use the *pick up* 
> file GUI tool, with a filter set to *shp files
>
> 7) I added the v.patch module; such as the r.patch modules, this is a 
> walk-around
>

Good WORK!!

Leonardo


From botsnlinux at gmail.com  Thu May 15 17:04:36 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Thu May 15 17:04:38 2008
Subject: [Qgis-developer] QgsProject properties problems
Message-ID: <255b57430805151404s154309adkcc7c53c24b46f9e2@mail.gmail.com>

I am attempting to fix bug #924 <http://trac.osgeo.org/qgis/ticket/924>.
>From what I understand, it appears QgsProject::removeEntry is not working
correctly.  The debugging statement in the code below prints out a non-null
address.

bool QgsProject::removeEntry(QString const &scope, const QString & key)
{
    removeKey_( scope, key, imp_->properties_ );
    dirty(true);

std::cout << "removed entry... find key: " << findKey_(scope, key,
imp_->properties_ ) << std::endl;

    return ! findKey_(scope, key, imp_->properties_ );
} // QgsProject::removeEntry

I attempted to compile the unit test, but didn't find any instructions other
than "run qmake, run make".  I got a zillion errors about not finding header
files.

What do I need to do to properly compile the unit test?
Thanks!
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080515/11d2c5db/attachment.html
From cfarmer at uvic.ca  Thu May 15 17:49:13 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Thu May 15 17:51:28 2008
Subject: [Qgis-developer] Re: ideas for developpers
In-Reply-To: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
Message-ID: <482CAFD9.60809@uvic.ca>



Sebastien Vial wrote:
>
> And now, some ideas :
> * for plugin developpers with time : (I'm a gis teacher, but with no 
> time and no python capacities... I'm trying to discover this 
> interesting programming language)
> - join by attribute : join all the objets with the same attributes 
> (the opposite of the split by attributes) ; used to merge some 
> polygons with the same value in a column attribute
I'll try to add this to fTools (see below)
> - simplify vector layer according to the scale ; there exists a python 
> script - in the gdal package for python- whose name is simplify.py 
> that does it... and a postgis script 
> http://www.bostongis.com/postgis_simplify.snippet
>
> * Wouldn't it be interesting to organize (at least a little) the 
> plugin menu ? mine begins to be very... large ! For exemple, we could 
> organize like
> - vector objects oriented plugins
> - database oriented plugins
> - raster oriented
> - import/export
> - selecting
> - statistics...
Most of my plugins (from the cfarmer repository) will soon be available 
as part of a single plugin menu (fTools) that gets added to the QGIS 
menu list (next to help). This should reduce the clutter on the plugins 
toolbar. Other than this, the above idea would certainly make it easier 
to find that plugins that you're looking for when you need them. This 
way users could (for example) opt to only have the 'vector based 
plugins' menu showing when working strictly with vector data.
>
> * and about the plugin manager : adding a column to know the installed 
> version of the plugin (like some linux package manager), in order to 
> compare the version number, and to know if the plugin needs to be 
> re-installed --- and perhaps a warning when there is a new version of 
> a plugin
This is also a good idea, and discussions regarding this and other 
aspects of plugin dependencies have been discussed on the qgis-developer 
list (See the comments from Barry Rowlingson and Volkan Kepoglu from 
around the 13th and 14th)

>
> Many thanks in advance !!
>
> I'm writing docs on qgis use (and the plugins !!)  for my students, 
> but there will be in FRENCH !!!
I would be interested in seeing these docs when you're done!

Cheers,

Carson
>
> Seb
>
> -- 
> S?bastien VIAL
> Prof d'Info - Resp. TIC/Comm - Formateur SIG
> Lyc?e Agricole du Balcon des Ardennes
> http://www.lebalcon.fr
> tel : 03-24-57-66-71 
From cfarmer at uvic.ca  Thu May 15 18:15:20 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Thu May 15 18:17:34 2008
Subject: [Qgis-developer] updating vector attribute tables
Message-ID: <482CB5F8.6000508@uvic.ca>

Hello list,

Does anyone know of a way to force a vector layer to reload it's 
attribute table? For example, say I used some outside application to 
update a field in the .dbf or a shapefile, can I get the associated 
vector layer in QGIS to reflect these changes programatically?

On a related note, is there any plans in the near future to make it 
possible to add fields to vector layer attribute tables (specifically 
shapefile attribute tables)? (I'm sure this has been asked before, but I 
haven't been able to find an answer...?)

Cheers,

Carson
From b.rowlingson at lancaster.ac.uk  Thu May 15 18:27:07 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Thu May 15 18:27:11 2008
Subject: [Qgis-developer] updating vector attribute tables
In-Reply-To: <482CB5F8.6000508@uvic.ca>
References: <482CB5F8.6000508@uvic.ca>
Message-ID: <482CB8BB.10408@lancaster.ac.uk>

Carson Farmer wrote:
> Hello list,
> 
> Does anyone know of a way to force a vector layer to reload it's 
> attribute table? For example, say I used some outside application to 
> update a field in the .dbf or a shapefile, can I get the associated 
> vector layer in QGIS to reflect these changes programatically?
> 

I just loaded a shapefile, then brought up the dbf in OpenOfficeCalc to 
change some values.

However, Windows won't let me modify the shapefile while it's opened by 
Qgis! So for Windows XP at least, the situation can't arise!

I might try it with a real operating system when I get to work later...

Barry
From jef at norbit.de  Thu May 15 19:50:56 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu May 15 19:51:02 2008
Subject: [Qgis-developer] updating vector attribute tables
In-Reply-To: <482CB5F8.6000508@uvic.ca>
References: <482CB5F8.6000508@uvic.ca>
Message-ID: <20080515235056.GA10023@norbit.de>

Hi Carson,

On Thu, 15. May 2008 at 15:15:20 -0700, Carson Farmer wrote:
> Does anyone know of a way to force a vector layer to reload it's 
> attribute table?

calling the vector data providers reset() might help.


> On a related note, is there any plans in the near future to make it 
> possible to add fields to vector layer attribute tables (specifically 
> shapefile attribute tables)?

The vector data provider also has an addAttributes method.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From cavallini at faunalia.it  Fri May 16 01:53:33 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri May 16 01:53:39 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>	
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>	
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>	
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>	
	<48293B21.4050301@faunalia.it>	
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
	<d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
Message-ID: <482D215D.3040402@faunalia.it>

Tim Sutton ha scritto:

> Based on this I'm thinking we probably need to start feature freeze as
> of end of next month (June) or so. And string freeze 15 days after
> that. Based on that timing we have maybe one more point release we can
> squeeze out before 1.0 is announced.

In this case, we'll be missing advanced labelling, right?
More generally, IMHO it is better first to list the feature we *want* in
1.0, then estimate the possible time for freezing.
I proposed a list, anyone agrees with that?
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *

From marco.hugentobler at karto.baug.ethz.ch  Fri May 16 03:15:33 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri May 16 03:15:28 2008
Subject: [Qgis-developer] Re: plug-in requirements
In-Reply-To: <e8e7199c0805140140u52536973jbef92e037940627c@mail.gmail.com>
References: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>
	<482A1110.1010300@lancaster.ac.uk>
	<e8e7199c0805140140u52536973jbef92e037940627c@mail.gmail.com>
Message-ID: <200805160915.33818.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

I'm looking forward to such a sophisticated plugin metadata system. And the 
possibility to let a plugin depend on other plugins will be a great thing. 

Though when implementing the wfs plugin and provider, I learned that plugins 
linking to other plugins can be a problem on Mac (at least for C++ plugins). 

> I wanted to implement this in near time and thus get it ready for 1.0
> however it looks that Gary wants to release 1.0 ASAP so I'm not sure
> whether such change is feasible and it will have to wait for post-1.0
> with other things like geometry-refactor and provider-refactor.

Right, probably after 1.0

Regards,
Marco 

Am Mittwoch 14 Mai 2008 10:40:50 schrieb Martin Dobias:
> On Wed, May 14, 2008 at 12:07 AM, Barry Rowlingson
>
> <b.rowlingson@lancaster.ac.uk> wrote:
> >  Here's some more thinking:
> >
> >  plugins should define a "requirements" function in their __init__.py
> > file which will look something like this:
> >
> >  def requirements():
> >   reqs = {
> >     'qgis': ['>=0.9.0','<0.11.0'] ,
> >     'qgis-plugins': [],
> >     'python': '>=2.3.0',
> >     'python-packages': ['rpy'],
> >     'rpy-r': '>=2.4.0',
> >     'r-packages': ['DCluster'],
> >     'other': otherRequirements,
> >     }
> >   return reqs
>
> Hi Barry,
>
> few days ago I've tried to do a design for the new plugins
> architecture, the part regarding the plugin requirements looked like
> this (how I would implement it):
>
> __init__.py:
>
> metadata = {
>  'name' : 'my plugin',
>  'description' : 'i like my plugin',
>  'author' : 'super programmer',
>  'version' : '1.0.3',
>  'url' : 'http://www.example.com/myplugin',
>  'interface' : QgsPlugin.SomePluginIface,
>  'dep_qgis' : '0.10',
>  'dep_plugins' : [ 'myotherplugin', 'mylastplugin' ],
>  'dep_python' : [ 'module1', 'module2' ],
>  'dep_custom' : my_check
> }
>
> def my_check():
>   """ some custom tests, returning True means success """
>   return True
>
> def create_instance():
>   """ import plugin class and run it """
>   from myplugin import MyPlugin
>   return MyPlugin()
> ---------
>
> There are several things to note:
> - __init__.py shouldn't have any imports in the top part of file (to
> save loading time if the plugin is not going to be used anyway)
> - the dictionary 'metadata' should contain everything that is related
> to the loading, dependency checking etc. - in current version we use
> name(), description() etc. as functions - actually this should be
> avioded as the values are static, so there's no reason to have them
> like functions
> - some fields (like dep. on other plugins, custom check) can be optional
> - in check of QGIS version I'm using only minimal version. After some
> thinking I've come out that this is the most reasonable type of check.
> If someone really depends on some special range of versions, then he
> could extend the check in custom dependency checking phase.
> - in comparison with Barry's scheme of requirements I haven't included
> python version check - in fact it should be included too (someone may
> use some newer python constructs not supported in previous versions).
> The other two fields 'rpy-r' and 'r-packages' are really specific to
> R, so checks for these must go to custom check function.
> - custom check function in my design does its own checks and then
> returns True or False depending on whether all checks went well. For
> the error reporting it can use e.g. QgsMessageOutput class.
> - there is a field 'interface' which defines what type of plugin do we
> have here. As noted in some previous threads, currently we have just
> one plugin type - GUI plugin, but it's necessary to support more
> types, some of them should be available also for core library (e.g.
> renderers).
>
> This scheme of metadata passing and dependency checking should be the
> same for C++ and Python plugins, except for the part with Python deps.
> In my design I've made a draft of changes in qgis libs and app, but I
> think this is not important now.
>
> I wanted to implement this in near time and thus get it ready for 1.0
> however it looks that Gary wants to release 1.0 ASAP so I'm not sure
> whether such change is feasible and it will have to wait for post-1.0
> with other things like geometry-refactor and provider-refactor.
>
> Please comment!
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From b.rowlingson at lancaster.ac.uk  Fri May 16 03:51:52 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Fri May 16 03:51:57 2008
Subject: [Qgis-developer] updating vector attribute tables
In-Reply-To: <20080515235056.GA10023@norbit.de>
References: <482CB5F8.6000508@uvic.ca> <20080515235056.GA10023@norbit.de>
Message-ID: <482D3D18.2000502@lancaster.ac.uk>


J?rgen E. Fischer wrote:
 > Hi Carson,
 >
 > On Thu, 15. May 2008 at 15:15:20 -0700, Carson Farmer wrote:
 >> Does anyone know of a way to force a vector layer to reload it's
 >> attribute table?
 >
 > calling the vector data providers reset() might help.
 >

  The reset() operation seems rather dependent on the underlying 
provider, and as such might not be specified too well.

  For Postgres, it claims:

void QgsPostgresProvider::reset  	(  	  	 )   	 [virtual]

Reset the layer - for a PostgreSQL layer, this means clearing the 
PQresult pointer, setting it to 0 and reloading the field list

  - which sounds like it will notice new attributes added to a layer,

And for delimited text layers it does:

Restart reading features from previous select operation

00481   // Reset feature id to 0
00482   mFid = 0;
00483   // Skip ahead one line since first record is always assumed to be
00484   // the header record
00485   mStream->seek(0);
00486   mStream->readLine();

  - which could end up getting confused if the file has changed, since 
the skipped over header record is now describing data with (say) extra 
attributes than the layer thinks are there.

   But for OGR layers reset() calls OGR_L_ResetReading(ogrLayer); which 
just resets the reading position without re-reading the attribute 
information.

   The only reliable way to reflect changes in a layer would seem to be 
to close it and open in again...

Barry
From sherman at mrcc.com  Fri May 16 09:30:00 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Fri May 16 09:30:09 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <482D215D.3040402@faunalia.it>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>	
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>	
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>	
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>	
	<48293B21.4050301@faunalia.it>	
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
	<d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
	<482D215D.3040402@faunalia.it>
Message-ID: <FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>

On May 15, 2008, at 9:53 PM, Paolo Cavallini wrote:

> Tim Sutton ha scritto:
>
>> Based on this I'm thinking we probably need to start feature freeze  
>> as
>> of end of next month (June) or so. And string freeze 15 days after
>> that. Based on that timing we have maybe one more point release we  
>> can
>> squeeze out before 1.0 is announced.
>
> In this case, we'll be missing advanced labelling, right?
> More generally, IMHO it is better first to list the feature we  
> *want* in
> 1.0, then estimate the possible time for freezing.
> I proposed a list, anyone agrees with that?

The features I mentioned were those that are key to 1.0 and have been  
on the feature list for at least a couple of years.

One approach is to limit new features now, with the exeception of  
those needed to complete the 1.0 feature set. This would allow  
stabilization of the code base in other areas while the features (map  
composer, labels, raster catalog) were being completed.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From cavallini at faunalia.it  Fri May 16 09:36:01 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri May 16 09:36:15 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>	
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>	
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>	
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>	
	<48293B21.4050301@faunalia.it>	
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
	<d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
	<482D215D.3040402@faunalia.it>
	<FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>
Message-ID: <482D8DC1.6050505@faunalia.it>

Gary Sherman ha scritto:

> One approach is to limit new features now, with the exeception of those
> needed to complete the 1.0 feature set. This would allow stabilization
> of the code base in other areas while the features (map composer,
> labels, raster catalog) were being completed.

So we all agree on:
- bugfixing
- advanced labelling (GSoC, mid-August)
- raster catalogues
- printing improvements
?

pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From a.ghisla at studenti.uninsubria.it  Fri May 16 09:47:21 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Fri May 16 09:48:26 2008
Subject: [Qgis-release-team] Re: AW: [Qgis-developer] Next release name
	- 'Metis'
In-Reply-To: <482D8DC1.6050505@faunalia.it>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<e8e7199c0805120905n7ec60a8bmb241ff88c27c9a0e@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
	<d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
	<482D215D.3040402@faunalia.it>
	<FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>
	<482D8DC1.6050505@faunalia.it>
Message-ID: <1210945641.7025.2.camel@galadriel>

On Fri, 2008-05-16 at 15:36 +0200, Paolo Cavallini wrote:
> Gary Sherman ha scritto:
> 
> > One approach is to limit new features now, with the exeception of those
> > needed to complete the 1.0 feature set. This would allow stabilization
> > of the code base in other areas while the features (map composer,
> > labels, raster catalog) were being completed.
> 
> So we all agree on:
> - bugfixing
> - advanced labelling (GSoC, mid-August)
> - raster catalogues
> - printing improvements
- hope to add also my homerange analysis module (GSoC too)
> ?

ok for the list.

anne
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080516/424345cc/attachment.bin
From tim at linfiniti.com  Fri May 16 15:14:26 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 16 15:14:29 2008
Subject: [Qgis-release-team] Re: AW: [Qgis-developer] Next release name -
	'Metis'
In-Reply-To: <1210945641.7025.2.camel@galadriel>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
	<d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
	<482D215D.3040402@faunalia.it>
	<FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>
	<482D8DC1.6050505@faunalia.it> <1210945641.7025.2.camel@galadriel>
Message-ID: <d368056f0805161214x3205523i38ade953d369c7dc@mail.gmail.com>

2008/5/16 Anne Ghisla <a.ghisla@studenti.uninsubria.it>:
> On Fri, 2008-05-16 at 15:36 +0200, Paolo Cavallini wrote:
>> Gary Sherman ha scritto:
>>
>> > One approach is to limit new features now, with the exeception of those
>> > needed to complete the 1.0 feature set. This would allow stabilization
>> > of the code base in other areas while the features (map composer,
>> > labels, raster catalog) were being completed.
>>
>> So we all agree on:
>> - bugfixing
>> - advanced labelling (GSoC, mid-August)
>> - raster catalogues
>> - printing improvements
> - hope to add also my homerange analysis module (GSoC too)
>> ?
>
> ok for the list.
>
> anne
>
> _______________________________________________
> Qgis-release-team mailing list
> Qgis-release-team@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-release-team
>
>

Hi

Paolo yes your list is about right - I would add to it the gui
revision I  am doing (though it probably falls under a bug fixing
exercise if you consider UI inconsistencies to be bugs).

Anne it is not clear to me if your work should be shipped in core or
as a plugin maintained independently on the qgis plugin archive. The
criteria for including in core are what dependencies your final
product will have.

Regards

Tim

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Fri May 16 15:19:56 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 16 15:19:57 2008
Subject: [Qgis-developer] Failing unit tests with recent commits
Message-ID: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>

Hi All

Recent commits in the last few days have introduced regressions (as
can be seen by running the unit tests). Please remember to run the
unit tests before committing changes to SVN. Currently we only have a
few tests but they test core stuff like rendering. If you committed
anything in the last few days please take a look and see if you have
introduced these issues.

The issues involve mainly symbol sizes for rendering as best I can
make out. BTW I have not yet tried the test suite under win,but it
works under mac & lin.

Many thanks

Tim

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Fri May 16 15:28:45 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 16 15:28:48 2008
Subject: [Qgis-developer] QgsProject properties problems
In-Reply-To: <255b57430805151404s154309adkcc7c53c24b46f9e2@mail.gmail.com>
References: <255b57430805151404s154309adkcc7c53c24b46f9e2@mail.gmail.com>
Message-ID: <d368056f0805161228w713af70au661d726ad748bc98@mail.gmail.com>

Hi Steven

No need to use qmake for the unit tests (where did you see that
documented so I can update that?). To build tests do:

ccmake ..
ENABLE_TESTS on

(save out of ccmake)

make install
make test

You can find the tutorial I wrote on writing unit tests for qgis
(which includes additional info on running the tests too) here:

http://wiki.qgis.org/qgiswiki/DevelopersManual

Note that any new features going into core are supposed to be
accompanied by tests too.

Regards

Tim

2008/5/15 Steven Bell <botsnlinux@gmail.com>:
>
> I am attempting to fix bug #924.  From what I understand, it appears
> QgsProject::removeEntry is not working correctly.  The debugging statement
> in the code below prints out a non-null address.
>
> bool QgsProject::removeEntry(QString const &scope, const QString & key)
> {
>     removeKey_( scope, key, imp_->properties_ );
>     dirty(true);
>
> std::cout << "removed entry... find key: " << findKey_(scope, key,
> imp_->properties_ ) << std::endl;
>
>     return ! findKey_(scope, key, imp_->properties_ );
> } // QgsProject::removeEntry
>
> I attempted to compile the unit test, but didn't find any instructions other
> than "run qmake, run make".  I got a zillion errors about not finding header
> files.
>
> What do I need to do to properly compile the unit test?
> Thanks!
> Steven
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From botsnlinux at gmail.com  Fri May 16 15:39:30 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Fri May 16 15:39:38 2008
Subject: [Qgis-developer] QgsProject properties problems
In-Reply-To: <d368056f0805161228w713af70au661d726ad748bc98@mail.gmail.com>
References: <255b57430805151404s154309adkcc7c53c24b46f9e2@mail.gmail.com>
	<d368056f0805161228w713af70au661d726ad748bc98@mail.gmail.com>
Message-ID: <255b57430805161239j58324a2bu5bfa5fc24d0fe63c@mail.gmail.com>

The test I found for QgsProject is here:
http://trac.osgeo.org/qgis/browser/trunk/qgis/tests/algorithms/qgsproject
I guess it's pretty old, and not integrated into the new system.

As another sidenote, running "make test" fails 5 of the 8 tests.
Steven

On Fri, May 16, 2008 at 3:28 PM, Tim Sutton <tim@linfiniti.com> wrote:

> Hi Steven
>
> No need to use qmake for the unit tests (where did you see that
> documented so I can update that?). To build tests do:
>
> ccmake ..
> ENABLE_TESTS on
>
> (save out of ccmake)
>
> make install
> make test
>
> You can find the tutorial I wrote on writing unit tests for qgis
> (which includes additional info on running the tests too) here:
>
> http://wiki.qgis.org/qgiswiki/DevelopersManual
>
> Note that any new features going into core are supposed to be
> accompanied by tests too.
>
> Regards
>
> Tim
>
> 2008/5/15 Steven Bell <botsnlinux@gmail.com>:
> >
> > I am attempting to fix bug #924.  From what I understand, it appears
> > QgsProject::removeEntry is not working correctly.  The debugging
> statement
> > in the code below prints out a non-null address.
> >
> > bool QgsProject::removeEntry(QString const &scope, const QString & key)
> > {
> >     removeKey_( scope, key, imp_->properties_ );
> >     dirty(true);
> >
> > std::cout << "removed entry... find key: " << findKey_(scope, key,
> > imp_->properties_ ) << std::endl;
> >
> >     return ! findKey_(scope, key, imp_->properties_ );
> > } // QgsProject::removeEntry
> >
> > I attempted to compile the unit test, but didn't find any instructions
> other
> > than "run qmake, run make".  I got a zillion errors about not finding
> header
> > files.
> >
> > What do I need to do to properly compile the unit test?
> > Thanks!
> > Steven
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
>
>
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080516/20fdcc63/attachment.html
From woklist at kyngchaos.com  Fri May 16 15:44:30 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri May 16 15:44:37 2008
Subject: [Qgis-release-team] Re: AW: [Qgis-developer] Next release name -
	'Metis'
In-Reply-To: <d368056f0805161214x3205523i38ade953d369c7dc@mail.gmail.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
	<d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
	<482D215D.3040402@faunalia.it>
	<FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>
	<482D8DC1.6050505@faunalia.it> <1210945641.7025.2.camel@galadriel>
	<d368056f0805161214x3205523i38ade953d369c7dc@mail.gmail.com>
Message-ID: <BD486F75-B31E-45FC-8FC4-FC68A8629C82@kyngchaos.com>

On May 16, 2008, at 2:14 PM, Tim Sutton wrote:

> Paolo yes your list is about right - I would add to it the gui
> revision I  am doing (though it probably falls under a bug fixing
> exercise if you consider UI inconsistencies to be bugs).
>
Tim, for your GUI revision, something I keep forgetting about (I  
encounter it occassionally, and it hasn't stuck in my brain long  
enough to file a bug or mention it, until now): the select dialog box  
for rasters, vectors and other file-based sources does not use the  
platform open dialog - this may be intentional, either by Qgis or Qt.

But on OSX the Qt open dialog does not show disk or network volumes,  
nor does it show invisible files or folders, *including* Mac invisible  
(like /Volumes), so it's impossible to navigate to external drives to  
load data, unless I make a symlink to them.

I don't know if this ever worked, or if something changed in Qgis or  
Qt at some point. It goes back to at least 0.9.0.

Do you need a bug report?

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

The equator is so long, it could encircle the earth completely once.

From telwertowski at comcast.net  Fri May 16 23:43:08 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Fri May 16 23:43:11 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
Message-ID: <482E544C.9090300@comcast.net>

I am starting a new thread for the Mac QFileDialog discussion. The original message is below.

There are two issues raised by this discussion:
1. Bugs and deficiencies in QFileDialog.
2. Should qgis be using QFileDialog or native Mac dialogs.

QFileDialog is not including /Volumes in its left sidebar. This appears to be a Qt bug which I will report. I will suggest that they approximate the sidebar of a native file dialog as much as possible but definitely show all volumes. Under /Computer I see /dev/fd. It doesn't show anything useful but perhaps is supposed to show volumes.

QFileDialog has a setSidebarUrls() method. A workaround for now is to use this to append the /Volumes list ourselves.

Regarding other invisible directories, there is no way to ask for them using QFileDialog. The Mac OS has a flag to include invisible files but Qt exposes very few platform options. Adding known items using setSidebarUrls() may be the only way to get to hidden places (assuming this doesn't do any filtering).

By design, Qt will show a native dialog only if no dialog customization is done. qgis implements the subclass QgsEncodingFileDialog which adds an encoding popup. This prevents a native dialog because Trolltech does not implement native dialog extensions.

To use a native dialog, we would need to provide a Mac-specific implementation of qgsencodingfiledialog.cpp with the same api but implemented with native Mac OS file routines rather than Qt routines.

This technique is quite common, especially among applications that try to preserve the look-and-feel of each platform. Personally, I believe that about 15 to 30 percent of gui code should be platform-specific in order to avoid the disorientation that occurs when using 'alien' gui components.

Implementing a Mac file dialog with the relatively minor additions that we add is not a big deal. I'm even willing to do this at some point. Right now, however, there are a few other Mac gui quirks that bother me more such the lack of a menu bar in Print Composer and the Attribute Table editor. An Edit menu should also be present and the overall menu organization could be improved but this is a topic for another message.

How do other Mac users feel about native vs Qt file dialogs? I prefer native but rate it a medium rather than high priority.

Tom


William Kyngesburye wrote:
> Tim, for your GUI revision, something I keep forgetting about (I 
> encounter it occassionally, and it hasn't stuck in my brain long enough 
> to file a bug or mention it, until now): the select dialog box for 
> rasters, vectors and other file-based sources does not use the platform 
> open dialog - this may be intentional, either by Qgis or Qt.
> 
> But on OSX the Qt open dialog does not show disk or network volumes, nor 
> does it show invisible files or folders, *including* Mac invisible (like 
> /Volumes), so it's impossible to navigate to external drives to load 
> data, unless I make a symlink to them.
> 
> I don't know if this ever worked, or if something changed in Qgis or Qt 
> at some point. It goes back to at least 0.9.0.
> 
> Do you need a bug report?
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> The equator is so long, it could encircle the earth completely once.

From woklist at kyngchaos.com  Sat May 17 00:07:44 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat May 17 00:07:48 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <482E544C.9090300@comcast.net>
References: <482E544C.9090300@comcast.net>
Message-ID: <262845B7-2E2D-46A7-A76E-0A93FC5D85F1@kyngchaos.com>

On May 16, 2008, at 10:43 PM, Tom Elwertowski wrote:

> I am starting a new thread for the Mac QFileDialog discussion. The  
> original message is below.
>
> There are two issues raised by this discussion:
> 1. Bugs and deficiencies in QFileDialog.
> 2. Should qgis be using QFileDialog or native Mac dialogs.
>
> QFileDialog is not including /Volumes in its left sidebar. This  
> appears to be a Qt bug which I will report. I will suggest that they  
> approximate the sidebar of a native file dialog as much as possible  
> but definitely show all volumes. Under /Computer I see /dev/fd. It  
> doesn't show anything useful but perhaps is supposed to show volumes.
> ...

Thanks for the explanation of this - I kinda figured it was a Qt  
deficiency.

> This technique is quite common, especially among applications that  
> try to preserve the look-and-feel of each platform. Personally, I  
> believe that about 15 to 30 percent of gui code should be platform- 
> specific in order to avoid the disorientation that occurs when using  
> 'alien' gui components.
>
> Implementing a Mac file dialog with the relatively minor additions  
> that we add is not a big deal. I'm even willing to do this at some  
> point. Right now, however, there are a few other Mac gui quirks that  
> bother me more such the lack of a menu bar in Print Composer and the  
> Attribute Table editor. An Edit menu should also be present and the  
> overall menu organization could be improved but this is a topic for  
> another message.
>
> How do other Mac users feel about native vs Qt file dialogs? I  
> prefer native but rate it a medium rather than high priority.
>
Native for me.  I usually stall a second or two to remember how to  
navigate.

If it isn't too much trouble, and you think it won't be difficult to  
maintain in the future, I'd say go for it.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

[Trillian]  What are you supposed to do WITH a maniacally depressed  
robot?

[Marvin]  You think you have problems?  What are you supposed to do if  
you ARE a maniacally depressed robot?  No, don't try and answer, I'm  
50,000 times more intelligent than you and even I don't know the  
answer...

- HitchHiker's Guide to the Galaxy


From marco.hugentobler at karto.baug.ethz.ch  Sat May 17 05:51:36 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sat May 17 05:51:31 2008
Subject: [Qgis-developer] Failing unit tests with recent commits
In-Reply-To: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
Message-ID: <200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

The failing renderer tests are caused by the fact that units are now mm 
instead of pixel.
I' going to change the width/size values of the test qmls and the test images 
to make it run again.

Regards,
Marco

Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
> Hi All
>
> Recent commits in the last few days have introduced regressions (as
> can be seen by running the unit tests). Please remember to run the
> unit tests before committing changes to SVN. Currently we only have a
> few tests but they test core stuff like rendering. If you committed
> anything in the last few days please take a look and see if you have
> introduced these issues.
>
> The issues involve mainly symbol sizes for rendering as best I can
> make out. BTW I have not yet tried the test suite under win,but it
> works under mac & lin.
>
> Many thanks
>
> Tim



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From a.ghisla at studenti.uninsubria.it  Sat May 17 06:52:47 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Sat May 17 06:52:58 2008
Subject: [Qgis-release-team] Re: AW: [Qgis-developer] Next release name
	-	'Metis'
In-Reply-To: <d368056f0805161214x3205523i38ade953d369c7dc@mail.gmail.com>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<d368056f0805121314v3598fdd1p2a1bab0f6fad495f@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF838@EX6.d.ethz.ch>
	<48293B21.4050301@faunalia.it>
	<CC3C2FF6-2815-4796-8F85-43DB68EB4B48@mrcc.com>
	<d368056f0805151225o72d3d48cm33c2eba02c0bdcd3@mail.gmail.com>
	<482D215D.3040402@faunalia.it>
	<FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>
	<482D8DC1.6050505@faunalia.it> <1210945641.7025.2.camel@galadriel>
	<d368056f0805161214x3205523i38ade953d369c7dc@mail.gmail.com>
Message-ID: <1211021567.482eb8ffc199b@mail.studenti.uninsubria.it>

Scrive Tim Sutton <tim@linfiniti.com>:
[...]

> Anne it is not clear to me if your work should be shipped in core or
> as a plugin maintained independently on the qgis plugin archive. The
> criteria for including in core are what dependencies your final
> product will have.
> 

Hi,

I think it will be better to keep it as an independent plugin.

Regards, 

Anne


From tim at linfiniti.com  Sat May 17 10:06:16 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat May 17 10:06:18 2008
Subject: [Qgis-developer] Re: Failing unit tests with recent commits
In-Reply-To: <200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
	<200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>

Hi Marco

I wonder if its not better to make the change in Magnus Homanns rev-up
code since this issue is going to affect everyone with old project and
QGS files.

regards Tim

On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Tim,
>
> The failing renderer tests are caused by the fact that units are now mm
> instead of pixel.
> I' going to change the width/size values of the test qmls and the test
> images
> to make it run again.
>
> Regards,
> Marco
>
> Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
>> Hi All
>>
>> Recent commits in the last few days have introduced regressions (as
>> can be seen by running the unit tests). Please remember to run the
>> unit tests before committing changes to SVN. Currently we only have a
>> few tests but they test core stuff like rendering. If you committed
>> anything in the last few days please take a look and see if you have
>> introduced these issues.
>>
>> The issues involve mainly symbol sizes for rendering as best I can
>> make out. BTW I have not yet tried the test suite under win,but it
>> works under mac & lin.
>>
>> Many thanks
>>
>> Tim
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.hugentobler at karto.baug.ethz.ch  Sat May 17 11:18:10 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sat May 17 11:18:13 2008
Subject: [Qgis-developer] Re: Failing unit tests with recent commits
In-Reply-To: <d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
	<200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>
Message-ID: <200805171718.10766.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

Yes, good idea to make an automatic project file transformation

The change in the test was still necessary because it is nearly impossible to 
find a conversion factor that makes every pixel look the same.

Regards,
Marco 

Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
> Hi Marco
>
> I wonder if its not better to make the change in Magnus Homanns rev-up
> code since this issue is going to affect everyone with old project and
> QGS files.
>
> regards Tim
>
> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi Tim,
> >
> > The failing renderer tests are caused by the fact that units are now mm
> > instead of pixel.
> > I' going to change the width/size values of the test qmls and the test
> > images
> > to make it run again.
> >
> > Regards,
> > Marco
> >
> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
> >> Hi All
> >>
> >> Recent commits in the last few days have introduced regressions (as
> >> can be seen by running the unit tests). Please remember to run the
> >> unit tests before committing changes to SVN. Currently we only have a
> >> few tests but they test core stuff like rendering. If you committed
> >> anything in the last few days please take a look and see if you have
> >> introduced these issues.
> >>
> >> The issues involve mainly symbol sizes for rendering as best I can
> >> make out. BTW I have not yet tried the test suite under win,but it
> >> works under mac & lin.
> >>
> >> Many thanks
> >>
> >> Tim
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Sun May 18 13:34:04 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun May 18 13:34:07 2008
Subject: [Qgis-developer] updating vector attribute tables
In-Reply-To: <482CB5F8.6000508@uvic.ca>
References: <482CB5F8.6000508@uvic.ca>
Message-ID: <e8e7199c0805181034x5d5480f1i75a12525bb91ae89@mail.gmail.com>

Hi Carson,

On Fri, May 16, 2008 at 12:15 AM, Carson Farmer <cfarmer@uvic.ca> wrote:
> Hello list,
>
> Does anyone know of a way to force a vector layer to reload it's attribute
> table? For example, say I used some outside application to update a field in
> the .dbf or a shapefile, can I get the associated vector layer in QGIS to
> reflect these changes programatically?

this has been already addressed in previous replies - for OGR sources
(including shapefiles) you would need to reopen the layer, using
PostGIS provider you'll get always fresh data.


> On a related note, is there any plans in the near future to make it possible
> to add fields to vector layer attribute tables (specifically shapefile
> attribute tables)? (I'm sure this has been asked before, but I haven't been
> able to find an answer...?)

This functionality is missing because it's missing in also in shapelib
(which is used in OGR for shapefiles). Some time ago I wanted to
implement it there, but never done it... if you have some C
programming experience, go ahead!

Martin
From cavallini at faunalia.it  Sun May 18 16:14:19 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun May 18 16:14:25 2008
Subject: [Qgis-developer] qgis-grass crash
Message-ID: <48308E1B.7070102@faunalia.it>

Hi all.
I'm researching on this nasty bug, crashing qgis when opening a grass
vector. I recompiled most of the toolchain from deb-src (from
lenny+debian.gfoss.it), and I still get:

error_routine (fatal = 1): default region is invalid
line 3: <north:      4927864.162>
Cannot open GRASS vector: default region is invalid
line 3: <north:      4927864.162>
*** glibc detected *** qgis: malloc(): memory corruption (fast):
0x00000000017ba4d0 ***

then strace strace says [1]. Does this give a hint of what's happening?
In case it would be useful, I can send a sample data location to
replicate it.
Thanks.
pc
=====

[1]
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
open("/home/paolo/.config/QuantumGIS/qgis.conf", O_RDWR) = 14
close(14)                               = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
open("/home/paolo/.config/QuantumGIS/qgis.conf", O_RDWR) = 14
fstatfs(14, {f_type="NFS_SUPER_MAGIC", f_bsize=32768, f_blocks=8444067,
f_bfree=2143720, f_bavail=2143720, f_files=34324480, f_ffree=33331544,
f_fsid={0, 0}, f_namelen=255, f_frsize=32768}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
fstat(14, {st_mode=S_IFREG|0660, st_size=15376, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_SET)                  = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
truncate("/home/paolo/.config/QuantumGIS/qgis.conf", 0) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=0, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=0, ...}) = 0
write(14, "[General]\nThemes=default\n\n[Bette"..., 15376) = 15376
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/paolo/.config/QuantumGIS.conf", 0x7fff6481f520) = -1 ENOENT
(No such file or directory)
stat("/home/paolo/.config/QuantumGIS.conf", 0x17522b8) = -1 ENOENT (No
such file or directory)
stat("/etc/xdg/QuantumGIS/qgis.conf", 0x7fff6481f520) = -1 ENOENT (No
such file or directory)
stat("/etc/xdg/QuantumGIS/qgis.conf", 0x174f558) = -1 ENOENT (No such
file or directory)
stat("/etc/xdg/QuantumGIS.conf", 0x7fff6481f520) = -1 ENOENT (No such
file or directory)
stat("/etc/xdg/QuantumGIS.conf", 0x17522b8) = -1 ENOENT (No such file or
directory)
write(7, "(\0\4\0l\0\0\0\312\5\0\4b\2\376\0", 16) = 16
read(7, "\22\5\241\200\312\5\0\4\312\5\0\4\0\0\0\0\5\0\0\0\0\0\0"...,
32) = 32
read(7, "\n\3\241\200\312\5\0\4\0\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0"..., 32)
= 32
read(7, "\v\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 32)
= 32
read(7, "\v\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 32)
= 32
read(7, "\t\5\241\200\32\0\0\4\0\n\205\0\0\0\0\0\220\207V\1\0\0"..., 32)
= 32
read(7, "\v\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 32)
= 32
read(7, "\n\5\242\200\32\0\0\4\0GP\0\0\0\0\0\352\254X\0\0\0\0\0"..., 32)
= 32
read(7, "\v\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 32)
= 32
read(7, "\t\3\242\200\32\0\0\4\0\0\0\0\0\0\0\0\10\0\0\0\0\0\0\0"..., 32)
= 32
read(7, "\v\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 32)
= 32
read(7, "\241 \242\200\32\0\0\0045\1\0\0)\1\0\0\0\0\0\0009\272@"..., 32)
= 32
read(7, "\34\0\242\200l\0\0\0u\1\0\0\250\214\10\1\0\265\241\0\0"..., 32)
= 32
read(7, "\34\0\242\200l\0\0\0\253\1\0\0\250\214\10\1\0\265\241\0"...,
32) = 32
read(7, "\34\0\242\200l\0\0\0t\1\0\0\250\214\10\1\0\v\242\0\0\0"..., 32)
= 32
read(7, "\f\0\242\200\32\0\0\4\373\0(\0l\1\1\0\3\0\0\0\0\0\0\0\240"...,
32) = 32
read(7, "\f\375\242\200\32\0\0\4\372\0)\0n\1\1\0\2\0\203\0\0\0\0"...,
32) = 32
read(7, "\f\0\242\200\32\0\0\4\371\0*\0p\1\276\0\1\0\204\0\0\0\0"...,
32) = 32
read(7, "\f\207\242\200\32\0\0\4\372\0\350\0n\1\1\0\0\0\202\0\0"..., 32)
= 32
read(7, "\25\0\242\200\312\5\0\4\312\5\0\4l\0\0\0\377\0c\0\0\0\0"...,
32) = 32
read(7, "\34\0\242\200\312\5\0\4n\0\0\0\250\214\10\1\0oM\2\0\0\0"...,
32) = 32
read(7, "\34\374\242\200\312\5\0\4\1\1\0\0\250\214\10\1\1\374\245"...,
32) = 32
read(7, "\34\374\242\200\312\5\0\4\260\1\0\0\250\214\10\1\1\374"..., 32)
= 32
read(7, "\34\374\242\200\312\5\0\4j\1\0\0\250\214\10\1\1\374\245"...,
32) = 32
read(7, "\34\374\242\200\312\5\0\4\262\1\0\0\250\214\10\1\1\374"..., 32)
= 32
read(7, "\34\374\242\200\312\5\0\4\234\1\0\0\250\214\10\1\1\374"..., 32)
= 32
read(7, 0x7fff64820130, 32)             = -1 EAGAIN (Resource
temporarily unavailable)
poll([{fd=7, events=POLLIN, revents=POLLIN}], 1, -1) = 1
read(7, "\1\1\243\200\0\0\0\0\0\0\0\0c\1\233\0\0\0\0\0\0\0\0\0\0"...,
32) = 32
write(7, "(\0\4\0l\0\0\0\32\0\0\0049\2\366\0", 16) = 16
read(7, 0x7fff6481ff90, 32)             = -1 EAGAIN (Resource
temporarily unavailable)
poll([{fd=7, events=POLLIN, revents=POLLIN}], 1, -1) = 1
read(7, "\1\1\244\200\0\0\0\0\0\0\0\0003\2\273\0\0\0\0\0\0\0\0\0"...,
32) = 32
write(7, "&\0\2\0l\0\0\0", 8)           = 8
read(7, 0x7fff6481ff40, 32)             = -1 EAGAIN (Resource
temporarily unavailable)
poll([{fd=7, events=POLLIN, revents=POLLIN}], 1, -1) = 1
read(7, "\1\1\245\200\0\0\0\0l\0\0\0\362\216\0\0018\3;\0018\3;\1"...,
32) = 32
write(7, "\2\0\4\0\312\5\0\4\0@\0\0\27\0\0\4(\0\4\0l\0\0\0\312\5"...,
32) = 32
read(7, 0x7fff6481fd30, 32)             = -1 EAGAIN (Resource
temporarily unavailable)
poll([{fd=7, events=POLLIN, revents=POLLIN}], 1, -1) = 1
read(7, "\1\1\247\200\0\0\0\0\0\0\0\0:\1\223\0$\372\t\0\0\0\0\0"..., 32)
= 32
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso",
O_RDONLY|O_NONBLOCK|O_DIRECTORY|0x80000) = 14
fstat(14, {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
getdents(14, /* 3 entries */, 32768)    = 80
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/./WIND",
0x7fff64820aa0) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/../WIND",
0x7fff64820aa0) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/WIND",
{st_mode=S_IFREG|0644, st_size=364, ...}) = 0
getdents(14, /* 0 entries */, 32768)    = 0
close(14)                               = 0
stat("/etc/localtime", {st_mode=S_IFREG|0644, st_size=2652, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box",
F_OK) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/frmt",
F_OK) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/head",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/head",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=172, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
read(14, "ORGANIZATION: \nDIGIT DATE:   \nDI"..., 32768) = 172
read(14, "", 32768)                     = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/topo",
{st_mode=S_IFREG|0644, st_size=364, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/topo",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/topo",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=364, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/coor",
{st_mode=S_IFREG|0644, st_size=128, ...}) = 0
lseek(14, 0, SEEK_SET)                  = 0
read(14, "\5\0\5\0\0\216\0\0\0\0\212[Cr\230qRA\255\346\20\35\311"...,
32768) = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/cidx",
{st_mode=S_IFREG|0644, st_size=113, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/cidx",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/cidx",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=113, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
lseek(14, 0, SEEK_SET)                  = 0
lseek(14, 0, SEEK_SET)                  = 0
read(14, "\5\0\5\0\0\t\0\0\0\2\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\1\0"...,
32768) = 113
lseek(14, 113, SEEK_SET)                = 113
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/dbln",
O_RDONLY) = 14
fstat(14, {st_mode=S_IFREG|0644, st_size=0, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
read(14, "", 32768)                     = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/hist",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/vector/box/hist",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=160, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
open("/home/paolo/.config/QuantumGIS/qgis.conf", O_RDONLY) = 14
close(14)                               = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
open("/home/paolo/.config/QuantumGIS/qgis.conf", O_RDONLY) = 14
fstatfs(14, {f_type="NFS_SUPER_MAGIC", f_bsize=32768, f_blocks=8444067,
f_bfree=2143720, f_bavail=2143720, f_files=34324480, f_ffree=33331544,
f_fsid={0, 0}, f_namelen=255, f_frsize=32768}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
fstat(14, {st_mode=S_IFREG|0660, st_size=15376, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
read(14, "[General]\nThemes=default\n\n[Bette"..., 32768) = 15376
read(14, "", 32768)                     = 0
stat("/home/paolo/.config/QuantumGIS/qgis.conf", {st_mode=S_IFREG|0660,
st_size=15376, ...}) = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/paolo/.config/QuantumGIS.conf", 0x7fff64820640) = -1 ENOENT
(No such file or directory)
stat("/home/paolo/.config/QuantumGIS.conf", 0x1753818) = -1 ENOENT (No
such file or directory)
stat("/etc/xdg/QuantumGIS/qgis.conf", 0x7fff64820640) = -1 ENOENT (No
such file or directory)
stat("/etc/xdg/QuantumGIS/qgis.conf", 0x1753818) = -1 ENOENT (No such
file or directory)
stat("/etc/xdg/QuantumGIS.conf", 0x7fff64820640) = -1 ENOENT (No such
file or directory)
stat("/etc/xdg/QuantumGIS.conf", 0x1753818) = -1 ENOENT (No such file or
directory)
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/box",
0x152b928) = -1 ENOENT (No such file or directory)
lstat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/box",
0x7fff648207c0) = -1 ENOENT (No such file or directory)
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT",
{st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT",
{st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
{st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
{st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass",
{st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
O_RDONLY|O_NONBLOCK|O_DIRECTORY|0x80000) = 14
fstat(14, {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
getdents(14, /* 3 entries */, 32768)    = 80
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/./WIND",
0x7fff64820110) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/../WIND",
0x7fff64820110) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/WIND",
{st_mode=S_IFREG|0644, st_size=364, ...}) = 0
getdents(14, /* 0 entries */, 32768)    = 0
close(14)                               = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box",
{st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/dbln",
{st_mode=S_IFREG|0644, st_size=0, ...}) = 0
stat("/etc/localtime", {st_mode=S_IFREG|0644, st_size=2652, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box",
F_OK) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/frmt",
F_OK) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/head",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/head",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=172, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
read(14, "ORGANIZATION: \nDIGIT DATE:   \nDI"..., 32768) = 172
read(14, "", 32768)                     = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/topo",
{st_mode=S_IFREG|0644, st_size=364, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/topo",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/topo",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=364, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/coor",
{st_mode=S_IFREG|0644, st_size=128, ...}) = 0
lseek(14, 0, SEEK_SET)                  = 0
read(14, "\5\0\5\0\0\216\0\0\0\0\212[Cr\230qRA\255\346\20\35\311"...,
32768) = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/cidx",
{st_mode=S_IFREG|0644, st_size=113, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/cidx",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/cidx",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=113, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
lseek(14, 0, SEEK_SET)                  = 0
lseek(14, 0, SEEK_SET)                  = 0
read(14, "\5\0\5\0\0\t\0\0\0\2\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\1\0"...,
32768) = 113
lseek(14, 113, SEEK_SET)                = 113
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/dbln",
O_RDONLY) = 14
fstat(14, {st_mode=S_IFREG|0644, st_size=0, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
read(14, "", 32768)                     = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/hist",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/hist",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=160, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/etc/localtime", {st_mode=S_IFREG|0644, st_size=2652, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box",
F_OK) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/frmt",
F_OK) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/head",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/head",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=172, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
read(14, "ORGANIZATION: \nDIGIT DATE:   \nDI"..., 32768) = 172
read(14, "", 32768)                     = 0
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/topo",
{st_mode=S_IFREG|0644, st_size=364, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/topo",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/topo",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=364, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/coor",
{st_mode=S_IFREG|0644, st_size=128, ...}) = 0
lseek(14, 0, SEEK_SET)                  = 0
read(14, "\5\0\5\0\0\216\0\0\0\0\212[Cr\230qRA\255\346\20\35\311"...,
32768) = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
lseek(14, 364, SEEK_SET)                = 364
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/cidx",
{st_mode=S_IFREG|0644, st_size=113, ...}) = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/cidx",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/cidx",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=113, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
lseek(14, 0, SEEK_SET)                  = 0
lseek(14, 0, SEEK_SET)                  = 0
read(14, "\5\0\5\0\0\t\0\0\0\2\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\1\0"...,
32768) = 113
lseek(14, 113, SEEK_SET)                = 113
lseek(14, 113, SEEK_SET)                = 113
lseek(14, 113, SEEK_SET)                = 113
close(14)                               = 0
munmap(0x2aaab420a000, 32768)           = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/coor",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/coor",
O_RDONLY) = 14
fcntl(14, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(14, {st_mode=S_IFREG|0644, st_size=128, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab420a000
lseek(14, 0, SEEK_CUR)                  = 0
lseek(14, 0, SEEK_SET)                  = 0
read(14, "\5\1\5\1\0\16\0\0\0\0\200\0\0\0\r\5\0\0\0)\16wx\302.9A"...,
32768) = 128
lseek(14, 128, SEEK_SET)                = 128
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/coor",
{st_mode=S_IFREG|0644, st_size=128, ...}) = 0
fstat(14, {st_mode=S_IFREG|0644, st_size=128, ...}) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/dbln",
O_RDONLY) = 15
fstat(15, {st_mode=S_IFREG|0644, st_size=0, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab4212000
read(15, "", 32768)                     = 0
close(15)                               = 0
munmap(0x2aaab4212000, 32768)           = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/hist",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/hist",
O_RDONLY) = 15
fcntl(15, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(15, {st_mode=S_IFREG|0644, st_size=160, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab4212000
lseek(15, 0, SEEK_CUR)                  = 0
lseek(14, 128, SEEK_SET)                = 128
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/vector/box/dbln",
{st_mode=S_IFREG|0644, st_size=0, ...}) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/box/1_polygon.qml",
0x1784f18) = -1 ENOENT (No such file or directory)
lstat("/home/Documenti/Didattica/2008_Portogallo/grass//Toscana_corso/PERMANENT/box/1_polygon.qml",
0x7fff648208d0) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
O_RDONLY|O_NONBLOCK|O_DIRECTORY|0x80000) = 16
fstat(16, {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
getdents(16, /* 3 entries */, 32768)    = 80
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/./WIND",
0x7fff64820750) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/../WIND",
0x7fff64820750) = -1 ENOENT (No such file or directory)
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso",
F_OK) = 0
stat("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/WIND",
{st_mode=S_IFREG|0644, st_size=364, ...}) = 0
getdents(16, /* 0 entries */, 32768)    = 0
close(16)                               = 0
access("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/DEFAULT_WIND",
F_OK) = 0
open("/home/Documenti/Didattica/2008_Portogallo/grass/Toscana_corso/PERMANENT/DEFAULT_WIND",
O_RDONLY) = 16
fcntl(16, F_GETFL)                      = 0x8000 (flags
O_RDONLY|O_LARGEFILE)
fstat(16, {st_mode=S_IFREG|0644, st_size=181, ...}) = 0
mmap(NULL, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2aaab421a000
lseek(16, 0, SEEK_CUR)                  = 0
lseek(16, 0, SEEK_SET)                  = 0
read(16, "proj:       99\nzone:       0\nnor"..., 32768) = 181
read(16, "", 32768)                     = 0
lseek(16, 0, SEEK_SET)                  = 0
read(16, "proj:       99\nzone:       0\nnor"..., 32768) = 181
read(16, "", 32768)                     = 0
open("/usr/lib/grass//locale/it_IT.UTF-8/LC_MESSAGES/grasslibs.mo",
O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib/grass//locale/it_IT.utf8/LC_MESSAGES/grasslibs.mo",
O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib/grass//locale/it_IT/LC_MESSAGES/grasslibs.mo", O_RDONLY)
= -1 ENOENT (No such file or directory)
open("/usr/lib/grass//locale/it.UTF-8/LC_MESSAGES/grasslibs.mo",
O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib/grass//locale/it.utf8/LC_MESSAGES/grasslibs.mo",
O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib/grass//locale/it/LC_MESSAGES/grasslibs.mo", O_RDONLY) =
-1 ENOENT (No such file or directory)
close(16)                               = 0
munmap(0x2aaab421a000, 32768)           = 0
write(2, "error_routine (fatal = ", 23error_routine (fatal = ) = 23
write(2, "1", 11)                        = 1
write(2, "): ", 3): )                      = 3
write(2, "default region is invalid\nline 3"..., 59default region is invalid
line 3: <north:      4927864.162>) = 59
write(2, "\n", 1
)                       = 1
write(2, "Cannot open GRASS vector: ", 26Cannot open GRASS vector: ) = 26
write(2, "default region is invalid\nline 3"..., 59default region is invalid
line 3: <north:      4927864.162>) = 59
write(2, "\n", 1
)                       = 1
--- SIGSEGV (Segmentation fault) @ 0 (0) ---
+++ killed by SIGSEGV +++
Process 25935 detached

-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From oleg at crista.uni-wuppertal.de  Sun May 18 16:42:21 2008
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Sun May 18 16:32:40 2008
Subject: [Qgis-developer] qgis-grass crash
In-Reply-To: <48308E1B.7070102@faunalia.it>
References: <48308E1B.7070102@faunalia.it>
Message-ID: <200805182242.21382.oleg@crista.uni-wuppertal.de>

Am Sonntag 18 Mai 2008 22:14:19 schrieb Paolo Cavallini:
> Hi all.
> *** glibc detected *** qgis: malloc(): memory corruption (fast):
>
You may try to link it with libelectricfence, and run in gdb.

 Oleg.
From telwertowski at comcast.net  Mon May 19 00:37:38 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Mon May 19 00:37:47 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <482E544C.9090300@comcast.net>
References: <482E544C.9090300@comcast.net>
Message-ID: <48310412.9060206@comcast.net>

Attached is a patch which uses setSidebarUrls to access multiple Mac drives and make QFileDialog look more like a Mac dialog. It has two deficiencies.

1. The volumes are listed alphabetically rather by mount order.

2. If you navigate into the root of the boot volume, for example /Applications or /Network, QFileDialog discovers that /Volumes should be invisible and no longer lets you browse /Volumes. The workaround is to cancel and open the dialog again. If the user goes directly to an external volume, this won't be noticed.


This demo patch only fixes file dialogs in qgisapp.cpp. These are probably the most noticeable. To fix them all, QFileDialog needs to subclassed. I'll do this if other Mac users think this is better than the current QFileDialog behavior.

Tom


Tom Elwertowski wrote:
> QFileDialog is not including /Volumes in its left sidebar. This appears 
> to be a Qt bug which I will report. I will suggest that they approximate 
> the sidebar of a native file dialog as much as possible but definitely 
> show all volumes. Under /Computer I see /dev/fd. It doesn't show 
> anything useful but perhaps is supposed to show volumes.
> 
> QFileDialog has a setSidebarUrls() method. A workaround for now is to 
> use this to append the /Volumes list ourselves.
-------------- next part --------------
Index: src/app/qgisapp.cpp
===================================================================
--- src/app/qgisapp.cpp	(revision 8455)
+++ src/app/qgisapp.cpp	(working copy)
@@ -1877,6 +1877,29 @@
 }                               // buildSupportedVectorFileFilter_()
 
 
+#ifdef Q_WS_MAC
+/**
+  Fill QFileDialog sidebar with items approximating a native Mac file dialog.
+*/
+static void setupSidebar_(QFileDialog* fileDialog)
+{
+  QList<QUrl> sidebarUrls;
+  QDir volDir("/Volumes");
+  QStringList volumes(volDir.entryList(volDir.filter() | QDir::NoDotAndDotDot));
+  QStringList::const_iterator vol;
+  for (vol = volumes.begin(); vol != volumes.end(); ++vol)
+  {
+    sidebarUrls.append(QUrl::fromLocalFile("/Volumes/" + *vol));
+  }
+  sidebarUrls.append(QUrl::fromLocalFile("/Network"));
+  QString home(QDir::homePath());
+  sidebarUrls.append(QUrl::fromLocalFile(home + "/Desktop"));
+  sidebarUrls.append(QUrl::fromLocalFile(home));
+  sidebarUrls.append(QUrl::fromLocalFile("/Applications"));
+  sidebarUrls.append(QUrl::fromLocalFile(home + "/Documents"));
+  fileDialog->setSidebarUrls(sidebarUrls);
+}
+#endif
 
 
 /**
@@ -1925,6 +1948,10 @@
   QgsEncodingFileDialog* openFileDialog = new QgsEncodingFileDialog(0,
       title, lastUsedDir, filters, lastUsedEncoding);
 
+#ifdef Q_WS_MAC
+  setupSidebar_(openFileDialog);
+#endif
+
   // allow for selection of more than one file
   openFileDialog->setMode(QFileDialog::ExistingFiles);
 
@@ -2599,6 +2626,10 @@
   QgsEncodingFileDialog* openFileDialog = new QgsEncodingFileDialog(this,
     tr("Save As"), lastUsedDir, "", lastUsedEncoding);
 
+#ifdef Q_WS_MAC
+  setupSidebar_(openFileDialog);
+#endif
+
   // allow for selection of more than one file
   openFileDialog->setMode(QFileDialog::AnyFile);
   openFileDialog->setAcceptMode(QFileDialog::AcceptSave); 
@@ -2701,6 +2732,9 @@
         lastUsedDir, QObject::tr("QGis files (*.qgs)"));
     openFileDialog->setMode(QFileDialog::ExistingFile);
 
+#ifdef Q_WS_MAC
+  setupSidebar_(openFileDialog);
+#endif
 
     QString fullPath;
     if (openFileDialog->exec() == QDialog::Accepted)
@@ -2872,6 +2906,10 @@
         tr("Choose a QGIS project file"),
         lastUsedDir, QObject::tr("QGis files (*.qgs)")) );
 
+#ifdef Q_WS_MAC
+    setupSidebar_(&*saveFileDialog);
+#endif
+
     saveFileDialog->setMode(QFileDialog::AnyFile);
     saveFileDialog->setAcceptMode(QFileDialog::AcceptSave); 
     saveFileDialog->setConfirmOverwrite( true ); 
@@ -2945,6 +2983,10 @@
       tr("Choose a filename to save the QGIS project file as"),
       lastUsedDir, QObject::tr("QGis files (*.qgs)")) );
 
+#ifdef Q_WS_MAC
+  setupSidebar_(&*saveFileDialog);
+#endif
+
   saveFileDialog->setMode(QFileDialog::AnyFile);
 
   saveFileDialog->setAcceptMode(QFileDialog::AcceptSave);
@@ -3185,6 +3227,10 @@
       tr("Choose a filename to save the map image as"),
       myLastUsedDir, myFilters) );
 
+#ifdef Q_WS_MAC
+  setupSidebar_(&*myQFileDialog);
+#endif
+
   // allow for selection of more than one file
   myQFileDialog->setMode(QFileDialog::AnyFile);
 
From marco.hugentobler at karto.baug.ethz.ch  Mon May 19 03:32:54 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon May 19 03:32:49 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <48310412.9060206@comcast.net>
References: <482E544C.9090300@comcast.net> <48310412.9060206@comcast.net>
Message-ID: <200805190932.54427.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

I wonder if the Trolls would be interested to integrate this directly into 
QFileDialog? It would then also apply in each plugin that uses QFileDialog. 

Until they (Trolltech) do, +1 for the qgisapp.cpp patch.

Regards,
Marco



Am Montag 19 Mai 2008 06:37:38 schrieb Tom Elwertowski:
> Attached is a patch which uses setSidebarUrls to access multiple Mac drives
> and make QFileDialog look more like a Mac dialog. It has two deficiencies.
>
> 1. The volumes are listed alphabetically rather by mount order.
>
> 2. If you navigate into the root of the boot volume, for example
> /Applications or /Network, QFileDialog discovers that /Volumes should be
> invisible and no longer lets you browse /Volumes. The workaround is to
> cancel and open the dialog again. If the user goes directly to an external
> volume, this won't be noticed.
>
>
> This demo patch only fixes file dialogs in qgisapp.cpp. These are probably
> the most noticeable. To fix them all, QFileDialog needs to subclassed. I'll
> do this if other Mac users think this is better than the current
> QFileDialog behavior.
>
> Tom
>
> Tom Elwertowski wrote:
> > QFileDialog is not including /Volumes in its left sidebar. This appears
> > to be a Qt bug which I will report. I will suggest that they approximate
> > the sidebar of a native file dialog as much as possible but definitely
> > show all volumes. Under /Computer I see /dev/fd. It doesn't show
> > anything useful but perhaps is supposed to show volumes.
> >
> > QFileDialog has a setSidebarUrls() method. A workaround for now is to
> > use this to append the /Volumes list ourselves.



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Mon May 19 03:38:02 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon May 19 03:37:54 2008
Subject: AW: [Qgis-developer] Next release name - 'Metis'
In-Reply-To: <482D8DC1.6050505@faunalia.it>
References: <d368056f0805120826u211d8424ycc7e465377000fcf@mail.gmail.com>
	<FDFAA460-1F2F-4DD7-BA17-F6BE1C6729FD@mrcc.com>
	<482D8DC1.6050505@faunalia.it>
Message-ID: <200805190938.02819.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

Yes, that makes sense. 

Other features should be developed in branches and not merged into trunk after 
1.0 is out. 

Regards,
Marco



Am Freitag 16 Mai 2008 15:36:01 schrieb Paolo Cavallini:
> Gary Sherman ha scritto:
> > One approach is to limit new features now, with the exeception of those
> > needed to complete the 1.0 feature set. This would allow stabilization
> > of the code base in other areas while the features (map composer,
> > labels, raster catalog) were being completed.
>
> So we all agree on:
> - bugfixing
> - advanced labelling (GSoC, mid-August)
> - raster catalogues
> - printing improvements
> ?
>
> pc



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Mon May 19 06:30:19 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon May 19 06:30:11 2008
Subject: [Qgis-developer] [Fwd: Re: [Qgis-user] projection bug?]
In-Reply-To: <4826CF82.7090706@o2.pl>
References: <48242304.50903@faunalia.it> <4826C22D.6070109@duif.net>
	<4826CF82.7090706@o2.pl>
Message-ID: <200805191230.19728.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

I think switching to numeric representations of proj parameters would require 
major changed both in the program code and in the srs.db. That's probably why 
nobody volunteered to do so. 
Also, there will be feature freeze for 1.0 end of June and the probability to 
introduce many bugs with a reorganistion of code in qgsspatialrefsys.cpp and 
srs.db is very high.

My suggestion is to change the entries in srs.db once the major distros have 
gdal >= 1.4.4 bundled and then no longer supports the old entry style.

Afaik, the qgis postgres provider is not affected by the zero ending problem 
because it uses QgsSpatialRefSys::createFromSrid(int), so only searches in 
the database according to postgis srs id.

Regards,
Marco

Am Sonntag 11 Mai 2008 12:50:42 schrieb Maciej Sieczka:
> Hi Richard,
>
> I'll try to adress some of your questions.
>
> Richard Duivenvoorde pisze:
> > Maciej Sieczka wrote:
> >
> > just to be sure I still understand the discussion about these
> > 'srs'-problems:
> >
> > 1) comparing srs as numeric or string, OR revert back to older GDAL:
> >  I'm not able to change the comparing part of the SRS parameters
> > myself. But it seems reasonable to me to do so?
> >
> > Who can
>
> QGIS developers I guess. And I'm asking if they can/want to do this.
>
> > , or who has arguments against it?
>
> I'm also curious.
>
> > IF that is fixed, we get rid of the 'trailing-k-factor--bug isn't it?
>
> This is what I *suspect*. A QGIS developer please correct me.
>
> > 2) GDAL-bug We as qgis-team cannot do something on the GDAL problem,
> > is it? Just wait till it's in the stable branch for us?
>
> Yes. Yesterday Mateusz has taken this task, but there is one thing
> holding him off - see comment 9, 10 in [1].
>
> > Maybe we should write a wiki-page for this stuff so people who build
> > both GDAL and QGIS themselves can be aware of these problems, and can
> > make a decision of what GDAL-version to use on that ...
> >
> > 3) generating the srs.db by epgs_tr.py Who is trying to update the
> > epsg_tr.py for the qgis srs.db now?:
> > http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/scripts/epsg_tr
> >.py
> >
> >
> >
> >
> >
> > Is that you Maciej, or are you or Frank waiting on the GDAL-problem
> > to be fixed?
>
> Like I wrote in my previous email I'll wait with updating the srs.db
> until bug [1] in GDAL stable branch is solved.
>
> QGIS depends on SRS matching in proj4 format. The bug [1] corrupts
> numeric values of SRSs in proj4 format in GDAL. SRS matching against
> GDAL>=1.5 in proj4 format, either string or numeric wise, is broken
> currently.
>
> Thus, updating the QGIS srs.db now would not improve anything much yet -
> even though we get rid of the "extra zeros i k" issue by trimmimg them
> of from srs.db, there would still be the problem that QGIS would have
> eg. k=0.9993 for EPSG:2180, while GDAL would have k=0.9993000000000001
> and SRS matching would not work anyway.
>
> > If we are in line with the postgis and other srs definitions, that
> > would fix some problems also isn't it?
>
> Definitely keeping the SRS definitions for PROJ.4, GDAL, QGIS and
> PostGIS would prevent some headaches.
>
> > 4) the fact that certain srs's are deprecated, or not ok (anymore).
> > This kind of information is not only interesting for QGIS users, but
> > also for other users of the srs-list. Is somebody aware of a 'list'
> > of deprecated of not to be used epsg-parameters
>
> This can be obtained from the EPSG dataset.
>
> > (e.g. I know the dutch epgs is still wrong....).
>
> You mean it's wrong in the EPSG dataset or in QGIS? You can verify the
> actual status on the EPSG Registry website [2] and if it's wrong there
> ask them to fix it [3].
>
> > If we can find (or build) a central source for this (it's not in the
> > official epgs-mdb isn't it?),
>
> It is there. Table 'epsg_coordinatereferencesystem' column 'deprecated'.
>
> > it can maybe included in the srs-lists/db's  (extra column, extra
> > group?) so users can see this?
>
> If I'm able to do it I'll try to create a group of deprecated SRSs when
> I'll be updating the srs.db.
>
> > 5) the fact that certain projections have more then ONE possible
> > parameter-string, and the srs-list reveres back to a
> > 'default/general'-parameters.
>
> I'm not sure I understand what you mean. Could you elaborate?
>
> Maciek
>
> [1]http://trac.osgeo.org/gdal/ticket/2036
> [2]http://www.epsg-registry.org
> [3]http://www.epsg.org/Comms/Comment.asp
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From cavallini at faunalia.it  Mon May 19 06:36:40 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon May 19 06:36:47 2008
Subject: [Qgis-developer] [Fwd: Re: [Qgis-user] projection bug?]
In-Reply-To: <200805191230.19728.marco.hugentobler@karto.baug.ethz.ch>
References: <48242304.50903@faunalia.it>
	<4826C22D.6070109@duif.net>	<4826CF82.7090706@o2.pl>
	<200805191230.19728.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <48315838.9030908@faunalia.it>

Marco Hugentobler ha scritto:

> My suggestion is to change the entries in srs.db once the major distros have 
> gdal >= 1.4.4 bundled and then no longer supports the old entry style.

I think it would be good to have this backported, for a 0.10.1 bugfix
release, to be released soon.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From woklist at kyngchaos.com  Mon May 19 09:51:23 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon May 19 09:51:26 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <48310412.9060206@comcast.net>
References: <482E544C.9090300@comcast.net> <48310412.9060206@comcast.net>
Message-ID: <1A933A49-B8CF-4A34-A5DA-F2ED8E4BD5D2@kyngchaos.com>

On May 18, 2008, at 11:37 PM, Tom Elwertowski wrote:

> Attached is a patch which uses setSidebarUrls to access multiple Mac  
> drives and make QFileDialog look more like a Mac dialog. It has two  
> deficiencies.
>
> 1. The volumes are listed alphabetically rather by mount order.
>
If drivers are listed in mount order in OSX, I never really noticed,  
but given a choice I'd prefer aplha.

> 2. If you navigate into the root of the boot volume, for example / 
> Applications or /Network, QFileDialog discovers that /Volumes should  
> be invisible and no longer lets you browse /Volumes. The workaround  
> is to cancel and open the dialog again. If the user goes directly to  
> an external volume, this won't be noticed.
>
>
> This demo patch only fixes file dialogs in qgisapp.cpp. These are  
> probably the most noticeable. To fix them all, QFileDialog needs to  
> subclassed. I'll do this if other Mac users think this is better  
> than the current QFileDialog behavior.
>
Anything is better than no access at all to Volumes.

>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan


From tim at linfiniti.com  Mon May 19 10:26:56 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 19 10:26:58 2008
Subject: [Qgis-developer] ideas for developpers
In-Reply-To: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
Message-ID: <d368056f0805190726i4991e131k2e9e2d9430c9ec72@mail.gmail.com>

Hi

> * Wouldn't it be interesting to organize (at least a little) the plugin menu
> ? mine begins to be very... large ! For exemple, we could organize like
> - vector objects oriented plugins
> - database oriented plugins
> - raster oriented
> - import/export
> - selecting
> - statistics...
>

I am addiing filtertering by plugin name as part of my gui revision
(will be available in head in a few hours). Grouping by category may
come later if I have time.

> * and about the plugin manager : adding a column to know the installed
> version of the plugin (like some linux package manager), in order to compare
> the version number, and to know if the plugin needs to be re-installed ---
> and perhaps a warning when there is a new version of a plugin
>

The plugin description layout is changing so there will be no more
columns. Im not sure if this check for updates feature will be
available for QGIS 1.0 but its certainly a good idea for the future.

Regards

Tim

> Many thanks in advance !!
>
> I'm writing docs on qgis use (and the plugins !!)  for my students, but
> there will be in FRENCH !!!
>
> Seb
>
> --
> S?bastien VIAL
> Prof d'Info - Resp. TIC/Comm - Formateur SIG
> Lyc?e Agricole du Balcon des Ardennes
> http://www.lebalcon.fr
> tel : 03-24-57-66-71
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From telwertowski at comcast.net  Mon May 19 13:02:19 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Mon May 19 13:02:28 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <200805190932.54427.marco.hugentobler@karto.baug.ethz.ch>
References: <482E544C.9090300@comcast.net> <48310412.9060206@comcast.net>
	<200805190932.54427.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4831B29B.8060606@comcast.net>

Marco Hugentobler wrote:
> I wonder if the Trolls would be interested to integrate this directly into 
> QFileDialog? It would then also apply in each plugin that uses QFileDialog. 

This has been added as Trolltech Task Tracker entry 212103.
http://trolltech.com/developer/task-tracker/index_html?method=entry&id=212103

> Until they (Trolltech) do, +1 for the qgisapp.cpp patch.
> 
> Regards,
> Marco
> 
> 
> 
> Am Montag 19 Mai 2008 06:37:38 schrieb Tom Elwertowski:
>> Attached is a patch which uses setSidebarUrls to access multiple Mac drives
>> and make QFileDialog look more like a Mac dialog. It has two deficiencies.
>>
>> 1. The volumes are listed alphabetically rather by mount order.
>>
>> 2. If you navigate into the root of the boot volume, for example
>> /Applications or /Network, QFileDialog discovers that /Volumes should be
>> invisible and no longer lets you browse /Volumes. The workaround is to
>> cancel and open the dialog again. If the user goes directly to an external
>> volume, this won't be noticed.
>>
>>
>> This demo patch only fixes file dialogs in qgisapp.cpp. These are probably
>> the most noticeable. To fix them all, QFileDialog needs to subclassed. I'll
>> do this if other Mac users think this is better than the current
>> QFileDialog behavior.
>>
>> Tom
>>
>> Tom Elwertowski wrote:
>>> QFileDialog is not including /Volumes in its left sidebar. This appears
>>> to be a Qt bug which I will report. I will suggest that they approximate
>>> the sidebar of a native file dialog as much as possible but definitely
>>> show all volumes. Under /Computer I see /dev/fd. It doesn't show
>>> anything useful but perhaps is supposed to show volumes.
>>>
>>> QFileDialog has a setSidebarUrls() method. A workaround for now is to
>>> use this to append the /Volumes list ourselves.
> 
> 
> 

From cavallini at faunalia.it  Mon May 19 13:18:06 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon May 19 13:18:19 2008
Subject: [Qgis-developer] qgis-grass crash
In-Reply-To: <48308E1B.7070102@faunalia.it>
References: <48308E1B.7070102@faunalia.it>
Message-ID: <4831B64E.6010308@faunalia.it>

Paolo Cavallini ha scritto:
> Hi all.
> I'm researching on this nasty bug, crashing qgis when opening a grass
> vector. I recompiled most of the toolchain from deb-src (from
> lenny+debian.gfoss.it), and I still get:

Some further info:
the crash happens with a custom projection (modified gauss-boaga, thanks
Markus):
QGIS SRSID: 100000
PostGIS SRID: 0
+proj=tmerc +lat_0=0 +lon_0=9 +k=0.999600 +x_0=1500000 +y_0=0
+ellps=intl +units=m +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68

qgis does not appear to recognize it, try to use the default projection
(wgs84 in most cases, the same gauss-boaga): if it finds wgs84 it opens
the vector (with a wrong projection), if it finds G-B modified it crashes.
Anyone has a clear view on what's happening? Remember, the same data &
projections do not cause qgis to crash on win.
Many thanks.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From marco.pasetti at alice.it  Mon May 19 13:41:24 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Mon May 19 13:41:30 2008
Subject: R: [Qgis-developer] qgis-grass crash
In-Reply-To: <4831B64E.6010308@faunalia.it>
References: <48308E1B.7070102@faunalia.it> <4831B64E.6010308@faunalia.it>
Message-ID: <017a01c8b9d7$8f4e26f0$0201a8c0@AcerMarco>


What about the PROJ.4 libs? WinQGIS uses 4.6.0 [1]

[1]
http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html#PROJ.4

Marco 

-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Paolo Cavallini
Inviato: luned? 19 maggio 2008 19.18
A: cavallini@faunalia.it
Cc: DebianGIS; qgis-developer
Oggetto: Re: [Qgis-developer] qgis-grass crash

Paolo Cavallini ha scritto:
> Hi all.
> I'm researching on this nasty bug, crashing qgis when opening a grass 
> vector. I recompiled most of the toolchain from deb-src (from
> lenny+debian.gfoss.it), and I still get:

Some further info:
the crash happens with a custom projection (modified gauss-boaga, thanks
Markus):
QGIS SRSID: 100000
PostGIS SRID: 0
+proj=tmerc +lat_0=0 +lon_0=9 +k=0.999600 +x_0=1500000 +y_0=0 ellps=intl 
++units=m +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68

qgis does not appear to recognize it, try to use the default projection
(wgs84 in most cases, the same gauss-boaga): if it finds wgs84 it opens the
vector (with a wrong projection), if it finds G-B modified it crashes.
Anyone has a clear view on what's happening? Remember, the same data &
projections do not cause qgis to crash on win.
Many thanks.
pc
--
Paolo Cavallini, see: * http://www.faunalia.it/pc *
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From cavallini at faunalia.it  Mon May 19 13:45:20 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon May 19 13:45:33 2008
Subject: R: [Qgis-developer] qgis-grass crash
In-Reply-To: <017a01c8b9d7$8f4e26f0$0201a8c0@AcerMarco>
References: <48308E1B.7070102@faunalia.it> <4831B64E.6010308@faunalia.it>
	<017a01c8b9d7$8f4e26f0$0201a8c0@AcerMarco>
Message-ID: <4831BCB0.80500@faunalia.it>

Marco Pasetti ha scritto:
> What about the PROJ.4 libs? WinQGIS uses 4.6.0 [1]

# aptitude show proj

Version: 4.6.0-1

Thanks.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From cfarmer at uvic.ca  Mon May 19 14:30:45 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Mon May 19 14:33:04 2008
Subject: [Qgis-developer] updating vector attribute tables
In-Reply-To: <e8e7199c0805181034x5d5480f1i75a12525bb91ae89@mail.gmail.com>
References: <482CB5F8.6000508@uvic.ca>
	<e8e7199c0805181034x5d5480f1i75a12525bb91ae89@mail.gmail.com>
Message-ID: <4831C755.8040002@uvic.ca>

Thanks Martin,

Martin Dobias wrote:
> Hi Carson,
>
> On Fri, May 16, 2008 at 12:15 AM, Carson Farmer <cfarmer@uvic.ca> wrote:
>   
>> Hello list,
>>
>> Does anyone know of a way to force a vector layer to reload it's attribute
>> table? For example, say I used some outside application to update a field in
>> the .dbf or a shapefile, can I get the associated vector layer in QGIS to
>> reflect these changes programatically?
>>     
>
> this has been already addressed in previous replies - for OGR sources
> (including shapefiles) you would need to reopen the layer, using
> PostGIS provider you'll get always fresh data.
>
>
>   
>> On a related note, is there any plans in the near future to make it possible
>> to add fields to vector layer attribute tables (specifically shapefile
>> attribute tables)? (I'm sure this has been asked before, but I haven't been
>> able to find an answer...?)
>>     
>
> This functionality is missing because it's missing in also in shapelib
> (which is used in OGR for shapefiles). Some time ago I wanted to
> implement it there, but never done it... if you have some C
> programming experience, go ahead!
>
>   
I guess it's time to learn C then!

Cheers,

Carson
From sherman at mrcc.com  Tue May 20 00:56:19 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Tue May 20 00:56:33 2008
Subject: [Qgis-developer] Developer/contributor requirements
Message-ID: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>

Developers and contributors:

As part of the incubation process for OSGeo we formalized our  
procedures for developers with commit access and for contributors who  
submit patches.

Please take a look at:

   http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Part of the process requires all contributors to send an email to the  
qgis-developer mailing list indicating concurrence. The email serves  
to document that you have read and understand the requirements,  
particularly with regard to the GPL and keeping QGIS free from  
trademark or patent infringement.

I'm asking all developers, regardless of how long you have been with  
the project to send an email to the list at your earliest convenience.  
There have been several requests from new team members (release and  
community) requesting subversion access so this is a good time to  
implement this policy.

If you have requested subversion access (regardless of the repository)  
you will need to post your agreement as stated above before access  
will be granted.

I appreciate you taking the time to do this and thanks for all your  
hard work on QGIS!

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From aaronr at z-pulley.com  Tue May 20 02:09:45 2008
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Tue May 20 02:09:54 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <20080520060948.9FE5B5B532@spunkymail-a18.g.dreamhost.com>

I agree to the terms set forth in the QGIS Contributor Guidelines:

http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Aaron Racicot

+----------------------------------------+
 Aaron Racicot - GIS Programmer   
 aaronr@z-pulley.com          
+----------------------------------------+
 z - p u l l e y                        
 pobox 1614
 langley wa 98260
 www.reprojected.com                       
+----------------------------------------+

> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org [mailto:qgis-developer-
> bounces@lists.osgeo.org] On Behalf Of Gary Sherman
> Sent: Monday, May 19, 2008 9:56 PM
> To: QGIS Developer Mailing List
> Cc: qgis-community Team; QGIS release team.
> Subject: [Qgis-developer] Developer/contributor requirements
> 
> Developers and contributors:
> 
> As part of the incubation process for OSGeo we formalized our
> procedures for developers with commit access and for contributors who
> submit patches.
> 
> Please take a look at:
> 
>    http://wiki.qgis.org/qgiswiki/ContributorGuidelines
> 
> Part of the process requires all contributors to send an email to the
> qgis-developer mailing list indicating concurrence. The email serves
> to document that you have read and understand the requirements,
> particularly with regard to the GPL and keeping QGIS free from
> trademark or patent infringement.
> 
> I'm asking all developers, regardless of how long you have been with
> the project to send an email to the list at your earliest convenience.
> There have been several requests from new team members (release and
> community) requesting subversion access so this is a good time to
> implement this policy.
> 
> If you have requested subversion access (regardless of the repository)
> you will need to post your agreement as stated above before access
> will be granted.
> 
> I appreciate you taking the time to do this and thanks for all your
> hard work on QGIS!
> 
> -gary
> 
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> -Desktop GIS Book:
>    *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From werner.macho at gmail.com  Tue May 20 03:10:17 2008
From: werner.macho at gmail.com (Werner Macho)
Date: Tue May 20 03:10:26 2008
Subject: [Qgis-developer] sorry
Message-ID: <48327959.3010200@gmail.com>

sorry for the test but it seems i cant get through to any of the qgis 
mailing lists .. and thats not good :(
so if this is readable for you pleasedrop me a note otherwise i have t 
assume that all my mails send to the list are going to /dev/null on 
their SMTP way..

regards werner
From marco.pasetti at alice.it  Tue May 20 03:57:57 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Tue May 20 03:58:00 2008
Subject: R: [Qgis-developer] Developer/contributor requirements
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4200@FBCMST06V02.fbc.local>

Hi all,
 
I read and acepted all the terms of the "Contributor Requirements and Responsibilities" document, as published here: http://wiki.qgis.org/qgiswiki/ContributorGuidelines
 
I take this opportunity to talk you about my "presence" in the QGIS community; there are few things that I never publicly declared and/or requested:
 
1) I built the last windows release of qgis (along with a new automated packager and installer) under msys; I'm available to continue this task, but it would be good to me to also have svn write access to let me maintain the windows folder in it (I alredy sent a copy of all the files, scripts and how-to documentation to Tim);
 
2) I'm the maintainer of the WinGRASS project, so I could be a "chain" within GRASS and QGIS, but unfortunately I haven't such spare time to work on the new GRASS toolbox (even if I would like to do that very much); this said, I'll be very happy to help/contribute in this way when possible;
 
3) as I did for the GRASS community, I wrote a document where I explained (step by step, dedicated specially for beginner) how to compile GRASS + QGIS in windows + msys/mingw [1]; at the moment I haven't such spare time to directly integrate this document in the official QGIS documentation, but, if you want, you can dynamically link that document somewhere in the QGIS wiki, as done in the GRASS wiki (here? http://wiki.qgis.org/qgiswiki/BuildingWindowsBinaryWithMingw);
 
[1] http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html
 
Best Regards
 
Marco Pasetti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080520/dd086505/attachment-0001.html
From otto.dassau at gmx.de  Tue May 20 04:16:55 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Tue May 20 04:17:37 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <20080520101655.2b9d1410@nature>

Hi, 

I read and agree to the terms in the QGIS Contributor Guidelines:
http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Regards,
 Otto

On Mon, 19 May 2008 20:56:19 -0800
Gary Sherman <sherman@mrcc.com> wrote:

> Developers and contributors:
> 
> As part of the incubation process for OSGeo we formalized our  
> procedures for developers with commit access and for contributors who  
> submit patches.
> 
> Please take a look at:
> 
>    http://wiki.qgis.org/qgiswiki/ContributorGuidelines
> 
> Part of the process requires all contributors to send an email to the  
> qgis-developer mailing list indicating concurrence. The email serves  
> to document that you have read and understand the requirements,  
> particularly with regard to the GPL and keeping QGIS free from  
> trademark or patent infringement.
> 
> I'm asking all developers, regardless of how long you have been with  
> the project to send an email to the list at your earliest convenience.  
> There have been several requests from new team members (release and  
> community) requesting subversion access so this is a good time to  
> implement this policy.
> 
> If you have requested subversion access (regardless of the repository)  
> you will need to post your agreement as stated above before access  
> will be granted.
> 
> I appreciate you taking the time to do this and thanks for all your  
> hard work on QGIS!
> 
> -gary
> 
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> -Desktop GIS Book:
>    *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
From jef at norbit.de  Tue May 20 05:27:28 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue May 20 05:27:32 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <20080520092728.GB5541@norbit.de>

Hi,

I've read and agree with the terms of the QGIS Contributor Guidelines:

http://wiki.qgis.org/qgiswiki/ContributorGuidelines


J?rgen

PS: I replaced the references to CodingStandards and CodingGuidelines
    with the DevelopersManual as the both have been replaced by it and
    both point there.  I also changed the one left reference to cvs in
    the Social_Contract.

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From werner.macho at gmail.com  Tue May 20 05:50:12 2008
From: werner.macho at gmail.com (Werner Macho)
Date: Tue May 20 05:50:17 2008
Subject: [Qgis-developer] thanks and answer to Developer/contributor
	requirements
Message-ID: <48329ED4.8060603@gmail.com>

hi list!

as i got enought replys that my mail is going through the list it seems 
that it's not sent back to me.. So i assume the list is working well and 
it is maybe ment to not get the own message back from the list.

I also want to take the opportunity to answer Garys mail here that i've 
read http://wiki.qgis.org/qgiswiki/ContributorGuidelines
and as the GUI Translation Community Team Leader (and probably reviewer 
and commiter of upcoming new translations) i'd like to ask again for SVN 
write access to the i18n and maybe the scripts folder in trunk/qgis

thanks again for your kind replys

greetings from a very rainy and cloudy vienna

Werner
From wonder.sk at gmail.com  Tue May 20 08:09:04 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 20 08:09:06 2008
Subject: [Qgis-developer] Re: plug-in requirements
In-Reply-To: <482AAB7E.1010508@lancaster.ac.uk>
References: <8b5938320805110938v22043abbtb8026bc8757f9fa3@mail.gmail.com>
	<482A1110.1010300@lancaster.ac.uk>
	<e8e7199c0805140140u52536973jbef92e037940627c@mail.gmail.com>
	<482AAB7E.1010508@lancaster.ac.uk>
Message-ID: <e8e7199c0805200509j3421e13k42752b49c238fc4f@mail.gmail.com>

Hi,

sorry for a bit late reply...

On Wed, May 14, 2008 at 11:06 AM, Barry Rowlingson
<b.rowlingson@lancaster.ac.uk> wrote:
> Martin Dobias wrote:
>
>> - some fields (like dep. on other plugins, custom check) can be optional
>> - in check of QGIS version I'm using only minimal version. After some
>> thinking I've come out that this is the most reasonable type of check.
>
>  Right up until backward compatibility breaks, but that'll never happen,
> right? :) Of course when you write plugin Foo for Qgis 0.9.0 you don't know
> that it'll break at 0.10.0, but when 0.10.0 comes out and your plugin fails
> to work, it might be easier to set the requirement to >=0.9.0 and <0.10.0
> than fix it for 0.10.0. That was my thinking with more complex version
> checking anyway. It shouldn't be that hard to implement.

What I was expecting is that developer, once found out that his plugin
is broken will fix it, not that he will just state it's incompatible
with higher versions and re-upload the plugin... But maybe there are
some cases in which max. version would be useful. Here are some syntax
ideas, which do you like most?
1.
  'qgis' = '0.10.0'   # in case of only min. version - or ('0.10.0',
None) but that looks weird
  # or
  'qgis' = ('0.10.0', '0.11.3')  # in case of max. version
2.
  'qgis_min_version' = '0.10.0'  # optional min. version parameter
  'qgis_max_version' = '0.11.3' # optional max. version parameter

I like the second approach more.


>> - custom check function in my design does its own checks and then
>> returns True or False depending on whether all checks went well. For
>> the error reporting it can use e.g. QgsMessageOutput class.
>
>  I made my custom check function return more than just True or False, since
> I think it's important for plugins to report back on what requirements they
> need, as well as whether those requirements are satisfied or not. That way,
> in a context where testing the requirements makes no sense (eg on the plugin
> server) it's still possible for the system to state what's needed. Then the
> user can get round to sorting out those requirements first. With your
> metadata dict the system can see what the dependencies are up to the custom
> one, at which point all it can say is 'Oh, there's some other dependencies'.
> With my custom function, it can call with 'test=False' and get back a
> descriptive string without having to test if the requirements are there or
> not.

In fact, I haven't understood what's the reason of your 'test=False' -
is there any scenario when you don't want to check the dependencies?
That return value True / False is meant just for plugin system, but
plugin itself can report errors in any way it likes, using
QgsMessageOutput the most appropriate way will be chosen - if GUI is
not available the errors are reported in console, otherwise a dialog
can be shown. Or do you think that plugins should have unified way to
return dependency errors?

>  I'm not sure calling the dependency fields dep_foo and dep_bar is a good
> idea - I'd have a field called 'dependencies' which would be a dict where
> the values were things like 'foo' and 'bar':
>
> metadata = {
>  'name' : 'my plugin',
>  'description' : 'i like my plugin',
>  'author' : 'super programmer',
>  'version' : '1.0.3',
>  'url' : 'http://www.example.com/myplugin',
>  'interface' : QgsPlugin.SomePluginIface,
>  'dependencies = {
>    'gis' : '0.10',
>    'plugins' : [ 'myotherplugin', 'mylastplugin' ],
>    'python' : [ 'module1', 'module2' ],
>    'custom' : my_check,
>    }
> }

You're right, this looks better.

Martin
From cavallini at faunalia.it  Tue May 20 09:00:25 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue May 20 09:00:58 2008
Subject: [Qgis-developer] qgis-grass crash
In-Reply-To: <4831B64E.6010308@faunalia.it>
References: <48308E1B.7070102@faunalia.it> <4831B64E.6010308@faunalia.it>
Message-ID: <4832CB69.4090301@faunalia.it>

Paolo Cavallini ha scritto:
> Paolo Cavallini ha scritto:
>> Hi all.
>> I'm researching on this nasty bug, crashing qgis when opening a grass
>> vector. I recompiled most of the toolchain from deb-src (from
>> lenny+debian.gfoss.it), and I still get:
> 
> Some further info:
> the crash happens with a custom projection (modified gauss-boaga, thanks
> Markus):
> QGIS SRSID: 100000
> PostGIS SRID: 0
> +proj=tmerc +lat_0=0 +lon_0=9 +k=0.999600 +x_0=1500000 +y_0=0
> +ellps=intl +units=m +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68
> 
> qgis does not appear to recognize it, try to use the default projection
> (wgs84 in most cases, the same gauss-boaga): if it finds wgs84 it opens
> the vector (with a wrong projection), if it finds G-B modified it crashes.

I think we caught the bug, thanks to frankie (Lovergine): in
LOCALE=it_IT, points are replaced with commas in the description of
projections, thus qgis does not understand the projections, and grass
plugin crashes.
exopting LANG=C solves the problem, but obviously this should be corrected.
I suggest releasing a 0.10.1 when done.
All the best, and tahnks to jef and niccolo for help.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From ersts at amnh.org  Tue May 20 09:09:28 2008
From: ersts at amnh.org (Peter Ersts)
Date: Tue May 20 09:09:50 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <4832CD88.1000504@amnh.org>

I have read and agree to the terms in the QGIS Contributor Guidelines:
http://wiki.qgis.org/qgiswiki/ContributorGuidelines

-pete

Gary Sherman wrote:
> Developers and contributors:
>
> As part of the incubation process for OSGeo we formalized our 
> procedures for developers with commit access and for contributors who 
> submit patches.
>
> Please take a look at:
>
> http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>
> Part of the process requires all contributors to send an email to the 
> qgis-developer mailing list indicating concurrence. The email serves 
> to document that you have read and understand the requirements, 
> particularly with regard to the GPL and keeping QGIS free from 
> trademark or patent infringement.
>
> I'm asking all developers, regardless of how long you have been with 
> the project to send an email to the list at your earliest convenience. 
> There have been several requests from new team members (release and 
> community) requesting subversion access so this is a good time to 
> implement this policy.
>
> If you have requested subversion access (regardless of the repository) 
> you will need to post your agreement as stated above before access 
> will be granted.
>
> I appreciate you taking the time to do this and thanks for all your 
> hard work on QGIS!
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
> *Geospatial Hosting
> *Web Site Hosting
> -Desktop GIS Book:
> *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From tim at linfiniti.com  Tue May 20 09:12:44 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue May 20 09:12:46 2008
Subject: [Qgis-developer] Python bindings clear qgsapplication vars
Message-ID: <d368056f0805200612k31586a6fidf65f9e93f8c7291@mail.gmail.com>

Hi all (and especially Martin & python gurus)

I've encountered an issue with qgspythonutils.cpp which for some
reason is clearing the state of all qgsapplication variables. The
offending bit of code is around line 73 where the python bindings are
imported:

 76   // import QGIS bindings
 77   if (!runString("from qgis.core import *") ??
 78       !runString("from qgis.gui import *"))
 79   ?
 80     QMessageBox::warning(0, QObject::tr("Python error"),
 81                          QObject::tr("Couldn't load QGIS
bindings.?nPython support will be disabled."));
 82     PyErr?Clear();
 83     exitPython();
 84     return;


note line no's may differ slightly as I addes some dbg statements. Im
getting this on heron with qt4.4. Can anyone offer a fix - I'm
stumped...

regards

Tim

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From lami at faunalia.it  Tue May 20 09:26:20 2008
From: lami at faunalia.it (lami@faunalia.it)
Date: Tue May 20 09:26:23 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <4832CD88.1000504@amnh.org>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
	<4832CD88.1000504@amnh.org>
Message-ID: <54916.90.131.248.31.1211289980.squirrel@www.faunalia.it>


Hi all

I have read and I agree with the terms in the QGIS Contributor Guidelines:
http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Gary or Tim, I had a svn access before the passage to OSGEO but now I
have'nt anymore. Can you give me a new one for the GRASS-Tools
enanchement?

Thank you
Leonardo


> Gary Sherman wrote:
>> Developers and contributors:
>>
>> As part of the incubation process for OSGeo we formalized our
>> procedures for developers with commit access and for contributors who
>> submit patches.
>>
>> Please take a look at:
>>
>> http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>>
>> Part of the process requires all contributors to send an email to the
>> qgis-developer mailing list indicating concurrence. The email serves
>> to document that you have read and understand the requirements,
>> particularly with regard to the GPL and keeping QGIS free from
>> trademark or patent infringement.
>>
>> I'm asking all developers, regardless of how long you have been with
>> the project to send an email to the list at your earliest convenience.
>> There have been several requests from new team members (release and
>> community) requesting subversion access so this is a good time to
>> implement this policy.
>>
>> If you have requested subversion access (regardless of the repository)
>> you will need to post your agreement as stated above before access
>> will be granted.
>>
>> I appreciate you taking the time to do this and thanks for all your
>> hard work on QGIS!
>>
>> -gary
>>
>> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>> Gary Sherman
>> Chair, QGIS Project Steering Committee
>> -Micro Resources: http://mrcc.com
>> *Geospatial Hosting
>> *Web Site Hosting
>> -Desktop GIS Book:
>> *http://desktopgisbook.com
>> "We work virtually everywhere"
>> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> --
> ====================================
> Peter J. Ersts, Project Specialist
> American Museum of Natural History
> Center for Biodiversity and Conservation
> Central Park West at 79th Street
> New York, New York 10024
> Tel: Home Office (518)-632-4745

From magnus at homann.se  Tue May 20 10:43:32 2008
From: magnus at homann.se (Magnus Homann)
Date: Tue May 20 10:45:44 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <4832E394.3070405@homann.se>

I have read and accepted the following rules:

********
# Abide by the Social Contract.
# Be familiar with the development process by reading all the materials 
in the DevelopersCorner, including the DevelopersManual
# Ensure that all code committed to the repository is unencumbered and 
compatible with the QGIS license, GPL version 2
# Not use or include any code that will cause a trademark or patent 
infringement. If you are unsure, ask on the developer mailing list or 
contact a Project Steering Committee member.
# Join the qgis-developer mailing list and contribute to discussions
# Agree to these requirements by sending an email to the qgis-developer 
mailing list stating agreement.
*********

From warmerdam at pobox.com  Tue May 20 10:57:31 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 20 10:57:50 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <4832E6DB.9090905@pobox.com>

Gary Sherman wrote:
> Developers and contributors:
> 
> As part of the incubation process for OSGeo we formalized our procedures 
> for developers with commit access and for contributors who submit patches.
> 
> Please take a look at:
> 
>   http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Gary,

I'm afraid I'm not willing to read all the materials referenced from the
DevelopersCorner, so I guess I'll have to certify I'm not complying with
the contributor guidelines.  There is a lot of material which is fantastic.
But requiring any contributor to have read it all (especially with it
presumably evolving constantly) is a high bar to set.

I also think that only points (3) and (4) ought to be all that is required
of folks providing patches.  It should then be up to a commiter to ensure
that other expectations are being satisfied.  Patches are basically the
"path to contribution" for those who are less fully emersed in the project
than full commiters (IMHO) and the bar should not be set too high in this
case.  Basically just ensure the contributed code is legitimately
contributed, and *encourage* patch submiters to read the general developer
material.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From lami at faunalia.it  Tue May 20 11:05:27 2008
From: lami at faunalia.it (lami@faunalia.it)
Date: Tue May 20 11:05:30 2008
Subject: R: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D505BB4201@FBCMST06V02.fbc.local>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com><4832CD88.1000504@amnh.org>
	<54916.90.131.248.31.1211289980.squirrel@www.faunalia.it>
	<FA8A693893F4CE4283B4473C79FA47D505BB4201@FBCMST06V02.fbc.local>
Message-ID: <49093.90.132.30.37.1211295927.squirrel@www.faunalia.it>


Hi Marco,
good work, I will test yor new modules.

With the new svn acccess we will can update the rigth modules for the
release of ver 1.0.

Regards
Leo


> Hi Leo,
>
> I worked again on the GRASS toolbox; a brief summary:
>
> New/modified/renamed modules introduced in the previous job:
> ---------------------------------------
> - g.region.save
> - g.region.zoom
> - g.region.multiple.raster
> - g.region.multiple.vector
> - r.patch
> - v.patch
> - r.proj
> - r.proj.res
> - v.in.db
> - v.in.ogr
> - v.in.ogr.loc
> - v.in.ogr.all
> - v.in.ogr.all.loc
> - v.in.shape
> - v.in.shape.loc
>
> see also:
> http://lists.osgeo.org/pipermail/qgis-developer/2008-May/003797.html
>
> News in the current job:
> ---------------------------------------
>
> I modified descriptions of some g.proj modules (IMHO not correctly
> reflecting the real job of the modules) and added the g.proj.ascii module
> for coherency:
>
> Module - New description
>
> g.proj.print - Print projection information of the current location
>
> g.proj.geo - Print projection information from a georeferenced file
> (raster, vector or image)
> g.proj.ascii - Print projection information from a georeferenced ASCII
> file containing a WKT projection description
> g.proj.proj - Print projection information from a PROJ.4 projection
> description file
>
> g.proj.geo.new - Print projection information from a georeferenced file
> (raster, vector or image) and create a new location based on it
> g.proj.ascii.new - Print projection information from a georeferenced ASCII
> file containing a WKT projection description and create a new location
> based on it
> g.proj.proj.new - Print projection information from a PROJ.4 projection
> description file and create a new location based on it
>
> Then I found that the g,proj.region is not included in the default.qgc
> configuration file, and that it is actually an useless module
>
> As usual, all the mods have been tested on the svn 0.10.0 release code.
>
> Summarizing, I suggest to test as follows:
>
> 1. remove g.proj.region (.qgm + .1.png) [not included in
> ./config/default.qgc and actually useless]
> 2. remove g.region (.qgm + .1.png) [replaced by g.proj.save]
> 3. remove g.proj.print.2.png [according to the new ./config/default.qgc
> layout, where I *normalized* the tree]
>
> 4. add the new modules (extract the zip to ../src/plugins/grass/modules
> and modify the ./config/default.qgc patching the svn qgis-trunk diff
> attached]
>
> Best regards,
>
> Marco
>


From borys at wolf.most.org.pl  Tue May 20 10:50:39 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue May 20 11:24:01 2008
Subject: [Qgis-developer] Re: ideas for developpers (The Plugins menu)
Message-ID: <200805201650.39786.borys@wolf.most.org.pl>

Hello Everybody,
I guess it's my first post on this group, but (unfortunately;) ) some of you 
know me from the QGis-users list. 

> Wouldn't it be interesting to organize (at least a little) the plugin menu?
> mine begins to be very... large !

I've started to write a simple plugin which helps to organize python plugins 
(by modyfying their codes) in menus and toolboxes. However, such 
personalization is not the way. I agree, we should elaborate the rules for 
plugin developers.

In these days I'm working on a few plugins for creating profiles, table 
management and various conversions (just a frontend for GDAL) and I have big 
troubles, where to locate them all. ;) So probably I'll decide to add three 
submenus: "Profiles", "Tables" and "Conversions". The mess will be bigger. 
Also the plugin toolbox should be disintegrated, but not without relation to 
the menu structure.

I suppose a few standard submenus with separate toolboxes are necessary.

> * and about the plugin manager : adding a column to know the installed
> version of the plugin (like some linux package manager), in order to
> compare the version number, and to know if the plugin needs to be
> re-installed --- and perhaps a warning when there is a new version of a
> plugin

I guess you mean the Plugin Installer, not Manager, however this would be a 
great improvement. Is somewhere here the Author (Matthew Perry)? ;) In the 
future, the Installer might be included to the Manager.

Cheers,
Borys
From frdcn at hotmail.com  Tue May 20 11:59:35 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Tue May 20 11:59:37 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <4832CD88.1000504@amnh.org>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
	<4832CD88.1000504@amnh.org>
Message-ID: <BAY110-W31C167CD70A03944A6BC24B2C40@phx.gbl>


I have read and agree to the terms in the QGIS Contributor Guidelines:
 http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Godofredo Contreras

	        
> Gary Sherman wrote:
> > Developers and contributors:
> >
> > As part of the incubation process for OSGeo we formalized our 
> > procedures for developers with commit access and for contributors who 
> > submit patches.
> >
> > Please take a look at:
> >
> > http://wiki.qgis.org/qgiswiki/ContributorGuidelines
> >
> > Part of the process requires all contributors to send an email to the 
> > qgis-developer mailing list indicating concurrence. The email serves 
> > to document that you have read and understand the requirements, 
> > particularly with regard to the GPL and keeping QGIS free from 
> > trademark or patent infringement.
> >
> > I'm asking all developers, regardless of how long you have been with 
> > the project to send an email to the list at your earliest convenience. 
> > There have been several requests from new team members (release and 
> > community) requesting subversion access so this is a good time to 
> > implement this policy.
> >
> > If you have requested subversion access (regardless of the repository) 
> > you will need to post your agreement as stated above before access 
> > will be granted.
> >
> > I appreciate you taking the time to do this and thanks for all your 
> > hard work on QGIS!
> >
> > -gary
> >
> > -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> > Gary Sherman
> > Chair, QGIS Project Steering Committee
> > -Micro Resources: http://mrcc.com
> > *Geospatial Hosting
> > *Web Site Hosting
> > -Desktop GIS Book:
> > *http://desktopgisbook.com
> > "We work virtually everywhere"
> > -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> 
> 
> -- 
> ====================================
> Peter J. Ersts, Project Specialist
> American Museum of Natural History
> Center for Biodiversity and Conservation
> Central Park West at 79th Street
> New York, New York 10024
> Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
> Web: http://biodiversityinformatics.amnh.org
> Web: http://cbc.amnh.org
> 
> Quantum GIS Raster Development Team. Visit http://www.qgis.org
> to learn more about QGIS, a free and open source desktop GIS
> 
> Open Source,
> ...evolving through community cooperation to change the world bit by bit
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

_________________________________________________________________
Change the world with e-mail. Join the i?m Initiative from Microsoft.
http://im.live.com/Messenger/IM/Join/Default.aspx?source=EML_WL_ChangeWorld
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080520/c710307c/attachment.html
From wonder.sk at gmail.com  Tue May 20 12:15:24 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 20 12:15:27 2008
Subject: [Qgis-developer] Python bindings clear qgsapplication vars
In-Reply-To: <d368056f0805200612k31586a6fidf65f9e93f8c7291@mail.gmail.com>
References: <d368056f0805200612k31586a6fidf65f9e93f8c7291@mail.gmail.com>
Message-ID: <e8e7199c0805200915s5a9b6181kba9d896564793956@mail.gmail.com>

Hi Tim,

could you please explain me better what do you mean by this clearing
the state of qgsapplication variables? I don't get idea what's wrong.
Isn't the problem related to your recent changes in QgsApplication?

Martin

On Tue, May 20, 2008 at 3:12 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi all (and especially Martin & python gurus)
>
> I've encountered an issue with qgspythonutils.cpp which for some
> reason is clearing the state of all qgsapplication variables. The
> offending bit of code is around line 73 where the python bindings are
> imported:
>
>  76   // import QGIS bindings
>  77   if (!runString("from qgis.core import *") ??
>  78       !runString("from qgis.gui import *"))
>  79   ?
>  80     QMessageBox::warning(0, QObject::tr("Python error"),
>  81                          QObject::tr("Couldn't load QGIS
> bindings.?nPython support will be disabled."));
>  82     PyErr?Clear();
>  83     exitPython();
>  84     return;
>
>
> note line no's may differ slightly as I addes some dbg statements. Im
> getting this on heron with qt4.4. Can anyone offer a fix - I'm
> stumped...
>
> regards
>
> Tim
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From wonder.sk at gmail.com  Tue May 20 12:32:08 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 20 12:32:10 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <e8e7199c0805200932p6701de89gc9ba80314ebe4b96@mail.gmail.com>

On Tue, May 20, 2008 at 6:56 AM, Gary Sherman <sherman@mrcc.com> wrote:
> Developers and contributors:
>
> As part of the incubation process for OSGeo we formalized our procedures for
> developers with commit access and for contributors who submit patches.
>
> Please take a look at:
>
>  http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Agreed with the guidelines.

Martin
From wonder.sk at gmail.com  Tue May 20 13:47:06 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 20 13:47:08 2008
Subject: [Qgis-developer] to qgis ubuntu / debian package maintainers
Message-ID: <e8e7199c0805201047t76c7a2fcrc6c313564c929359@mail.gmail.com>

Hi,

I've found out that ubuntu and debian packages are missing some
python-related dependencies:

- ubuntu package - should state that python-qt4 is needed (at least 4.1)
- debian package - already states that python-qt4 is needed, however
minimal version is 4.1, not 4.0

also, qgis package needs python-sip4 package which isn't included in
dependencies, however that probably isn't necessary since also
python-qt4 depends on python-sip4.

Martin
From cfarmer at uvic.ca  Tue May 20 14:10:47 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Tue May 20 14:13:07 2008
Subject: [Qgis-developer] Re: ideas for developpers (The Plugins menu)
In-Reply-To: <200805201650.39786.borys@wolf.most.org.pl>
References: <200805201650.39786.borys@wolf.most.org.pl>
Message-ID: <48331427.9020600@uvic.ca>



Borys Jurgiel wrote:
> Hello Everybody,
> I guess it's my first post on this group, but (unfortunately;) ) some of you 
> know me from the QGis-users list. 
>
>   
>> Wouldn't it be interesting to organize (at least a little) the plugin menu?
>> mine begins to be very... large !
>>     
>
> I've started to write a simple plugin which helps to organize python plugins 
> (by modyfying their codes) in menus and toolboxes. However, such 
> personalization is not the way. I agree, we should elaborate the rules for 
> plugin developers.
>
> In these days I'm working on a few plugins for creating profiles, table 
> management and various conversions (just a frontend for GDAL) and I have big 
> troubles, where to locate them all. ;) So probably I'll decide to add three 
> submenus: "Profiles", "Tables" and "Conversions". The mess will be bigger. 
> Also the plugin toolbox should be disintegrated, but not without relation to 
> the menu structure.
>
> I suppose a few standard submenus with separate toolboxes are necessary.
>
>   
>> * and about the plugin manager : adding a column to know the installed
>> version of the plugin (like some linux package manager), in order to
>> compare the version number, and to know if the plugin needs to be
>> re-installed --- and perhaps a warning when there is a new version of a
>> plugin
>>     
>
> I guess you mean the Plugin Installer, not Manager, however this would be a 
> great improvement. Is somewhere here the Author (Matthew Perry)? ;) In the 
> future, the Installer might be included to the Manager.
>   
This functionality would be relatively easy to add, especially to the 
plugin installer. I have something similar with manageR now, which 
checks if the user has the latest version installed.
When loading the list of plugins from the repository, all the installer 
would have to do is check which plugins are installed in the plugins 
directory, and if they match one of the plugins in the repository, check 
that they are the same version.

C
> Cheers,
> Borys
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>   
From botsnlinux at gmail.com  Tue May 20 21:58:32 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Tue May 20 21:58:53 2008
Subject: [Qgis-developer] Re: Qgis-developer Digest, Vol 27, Issue 29
In-Reply-To: <20080520075802.870FEE016AB@lists.osgeo.org>
References: <20080520075802.870FEE016AB@lists.osgeo.org>
Message-ID: <255b57430805201858v93f704eme909957ab22b4cdf@mail.gmail.com>

I've read and agree to the contributor guidelines.
Steven


> Developers and contributors:
>
> As part of the incubation process for OSGeo we formalized our
> procedures for developers with commit access and for contributors who
> submit patches.
>
> Please take a look at:
>
>   http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>
> Part of the process requires all contributors to send an email to the
> qgis-developer mailing list indicating concurrence. The email serves
> to document that you have read and understand the requirements,
> particularly with regard to the GPL and keeping QGIS free from
> trademark or patent infringement.
>
> I'm asking all developers, regardless of how long you have been with
> the project to send an email to the list at your earliest convenience.
> There have been several requests from new team members (release and
> community) requesting subversion access so this is a good time to
> implement this policy.
>
> If you have requested subversion access (regardless of the repository)
> you will need to post your agreement as stated above before access
> will be granted.
>
> I appreciate you taking the time to do this and thanks for all your
> hard work on QGIS!
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> -Desktop GIS Book:
>   *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
> ------------------------------
>
> Message: 7
> Date: Mon, 19 May 2008 23:09:45 -0700
> From: "Aaron Racicot" <aaronr@z-pulley.com>
> Subject: RE: [Qgis-developer] Developer/contributor requirements
> To: "'Gary Sherman'" <sherman@mrcc.com>,        "'QGIS Developer Mailing
>        List'" <qgis-developer@lists.osgeo.org>
> Message-ID: <20080520060948.9FE5B5B532@spunkymail-a18.g.dreamhost.com>
> Content-Type: text/plain;       charset="us-ascii"
>
> I agree to the terms set forth in the QGIS Contributor Guidelines:
>
> http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>
> Aaron Racicot
>
> +----------------------------------------+
>  Aaron Racicot - GIS Programmer
>  aaronr@z-pulley.com
> +----------------------------------------+
>  z - p u l l e y
>  pobox 1614
>  langley wa 98260
>  www.reprojected.com
> +----------------------------------------+
>
> > -----Original Message-----
> > From: qgis-developer-bounces@lists.osgeo.org [mailto:qgis-developer-
> > bounces@lists.osgeo.org] On Behalf Of Gary Sherman
> > Sent: Monday, May 19, 2008 9:56 PM
> > To: QGIS Developer Mailing List
> > Cc: qgis-community Team; QGIS release team.
> > Subject: [Qgis-developer] Developer/contributor requirements
> >
> > Developers and contributors:
> >
> > As part of the incubation process for OSGeo we formalized our
> > procedures for developers with commit access and for contributors who
> > submit patches.
> >
> > Please take a look at:
> >
> >    http://wiki.qgis.org/qgiswiki/ContributorGuidelines
> >
> > Part of the process requires all contributors to send an email to the
> > qgis-developer mailing list indicating concurrence. The email serves
> > to document that you have read and understand the requirements,
> > particularly with regard to the GPL and keeping QGIS free from
> > trademark or patent infringement.
> >
> > I'm asking all developers, regardless of how long you have been with
> > the project to send an email to the list at your earliest convenience.
> > There have been several requests from new team members (release and
> > community) requesting subversion access so this is a good time to
> > implement this policy.
> >
> > If you have requested subversion access (regardless of the repository)
> > you will need to post your agreement as stated above before access
> > will be granted.
> >
> > I appreciate you taking the time to do this and thanks for all your
> > hard work on QGIS!
> >
> > -gary
> >
> > -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> > Gary Sherman
> > Chair, QGIS Project Steering Committee
> > -Micro Resources: http://mrcc.com
> >    *Geospatial Hosting
> >    *Web Site Hosting
> > -Desktop GIS Book:
> >    *http://desktopgisbook.com
> > "We work virtually everywhere"
> > -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> ------------------------------
>
> Message: 8
> Date: Tue, 20 May 2008 09:10:17 +0200
> From: Werner Macho <werner.macho@gmail.com>
> Subject: [Qgis-developer] sorry
> To: qgis-community-team@lists.osgeo.org,
>        qgis-developer@lists.osgeo.org
> Message-ID: <48327959.3010200@gmail.com>
> Content-Type: text/plain; charset=ISO-8859-15; format=flowed
>
> sorry for the test but it seems i cant get through to any of the qgis
> mailing lists .. and thats not good :(
> so if this is readable for you pleasedrop me a note otherwise i have t
> assume that all my mails send to the list are going to /dev/null on
> their SMTP way..
>
> regards werner
>
>
> ------------------------------
>
> Message: 9
> Date: Tue, 20 May 2008 09:57:57 +0200
> From: <marco.pasetti@alice.it>
> Subject: R: [Qgis-developer] Developer/contributor requirements
> To: "Gary Sherman" <sherman@mrcc.com>,  "QGIS Developer Mailing List"
>        <qgis-developer@lists.osgeo.org>
> Cc: qgis-community Team <qgis-community-team@lists.osgeo.org>,  "QGIS
>        release team." <qgis-release-team@lists.osgeo.org>
> Message-ID:
>        <FA8A693893F4CE4283B4473C79FA47D505BB4200@FBCMST06V02.fbc.local>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi all,
>
> I read and acepted all the terms of the "Contributor Requirements and
> Responsibilities" document, as published here:
> http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>
> I take this opportunity to talk you about my "presence" in the QGIS
> community; there are few things that I never publicly declared and/or
> requested:
>
> 1) I built the last windows release of qgis (along with a new automated
> packager and installer) under msys; I'm available to continue this task, but
> it would be good to me to also have svn write access to let me maintain the
> windows folder in it (I alredy sent a copy of all the files, scripts and
> how-to documentation to Tim);
>
> 2) I'm the maintainer of the WinGRASS project, so I could be a "chain"
> within GRASS and QGIS, but unfortunately I haven't such spare time to work
> on the new GRASS toolbox (even if I would like to do that very much); this
> said, I'll be very happy to help/contribute in this way when possible;
>
> 3) as I did for the GRASS community, I wrote a document where I explained
> (step by step, dedicated specially for beginner) how to compile GRASS + QGIS
> in windows + msys/mingw [1]; at the moment I haven't such spare time to
> directly integrate this document in the official QGIS documentation, but, if
> you want, you can dynamically link that document somewhere in the QGIS wiki,
> as done in the GRASS wiki (here?
> http://wiki.qgis.org/qgiswiki/BuildingWindowsBinaryWithMingw);
>
> [1] http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html
>
> Best Regards
>
> Marco Pasetti
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080520/dd086505/attachment.html
>
> ------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> End of Qgis-developer Digest, Vol 27, Issue 29
> **********************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080520/c21cac8e/attachment-0001.html
From telwertowski at comcast.net  Wed May 21 01:13:27 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed May 21 01:13:30 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <4833AF77.5050504@comcast.net>

I have read and agree with the QGIS Contributor Guidelines:
http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Tom Elwertowski


Gary Sherman wrote:
> Developers and contributors:
> 
> As part of the incubation process for OSGeo we formalized our procedures 
> for developers with commit access and for contributors who submit patches.
> 
> Please take a look at:
> 
>   http://wiki.qgis.org/qgiswiki/ContributorGuidelines
> 
> Part of the process requires all contributors to send an email to the 
> qgis-developer mailing list indicating concurrence. The email serves to 
> document that you have read and understand the requirements, 
> particularly with regard to the GPL and keeping QGIS free from trademark 
> or patent infringement.
> 
> I'm asking all developers, regardless of how long you have been with the 
> project to send an email to the list at your earliest convenience. There 
> have been several requests from new team members (release and community) 
> requesting subversion access so this is a good time to implement this 
> policy.
> 
> If you have requested subversion access (regardless of the repository) 
> you will need to post your agreement as stated above before access will 
> be granted.
> 
> I appreciate you taking the time to do this and thanks for all your hard 
> work on QGIS!
> 
> -gary
> 
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> -Desktop GIS Book:
>   *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From marco.hugentobler at karto.baug.ethz.ch  Wed May 21 01:44:08 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed May 21 01:43:46 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] Developer/contributor
	requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <200805210744.08298.marco.hugentobler@karto.baug.ethz.ch>

Hi Gary,

I have read and agree with the contributor guidelines

Regards,
Marco

Am Dienstag 20 Mai 2008 06:56:19 schrieb Gary Sherman:
> Developers and contributors:
>
> As part of the incubation process for OSGeo we formalized our
> procedures for developers with commit access and for contributors who
> submit patches.
>
> Please take a look at:
>
>    http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>
> Part of the process requires all contributors to send an email to the
> qgis-developer mailing list indicating concurrence. The email serves
> to document that you have read and understand the requirements,
> particularly with regard to the GPL and keeping QGIS free from
> trademark or patent infringement.
>
> I'm asking all developers, regardless of how long you have been with
> the project to send an email to the list at your earliest convenience.
> There have been several requests from new team members (release and
> community) requesting subversion access so this is a good time to
> implement this policy.
>
> If you have requested subversion access (regardless of the repository)
> you will need to post your agreement as stated above before access
> will be granted.
>
> I appreciate you taking the time to do this and thanks for all your
> hard work on QGIS!
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> -Desktop GIS Book:
>    *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-release-team mailing list
> Qgis-release-team@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-release-team



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From scala at itc.cnr.it  Wed May 21 01:57:48 2008
From: scala at itc.cnr.it (Paolo L. Scala)
Date: Wed May 21 02:03:36 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] Developer/contributor 
	requirements
Message-ID: <18292.81.208.31.214.1211349468.squirrel@mail.itc.cnr.it>

I have read and agree with the QGIS Contributor Guidelines:
http://wiki.qgis.org/qgiswiki/ContributorGuidelines

Paolo L. Scala


Gary Sherman wrote:
> Developers and contributors:
>
> As part of the incubation process for OSGeo we formalized our procedures
> for developers with commit access and for contributors who submit patches.
>
> Please take a look at:
>
>   http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>
> Part of the process requires all contributors to send an email to the
> qgis-developer mailing list indicating concurrence. The email serves to
> document that you have read and understand the requirements,
> particularly with regard to the GPL and keeping QGIS free from trademark
> or patent infringement.
>
> I'm asking all developers, regardless of how long you have been with the
> project to send an email to the list at your earliest convenience. There
> have been several requests from new team members (release and community)
> requesting subversion access so this is a good time to implement this
> policy.
>
> If you have requested subversion access (regardless of the repository)
> you will need to post your agreement as stated above before access will
> be granted.
>
> I appreciate you taking the time to do this and thanks for all your hard
> work on QGIS!
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> -Desktop GIS Book:
>   *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Paolo L. Scala
Software developer
Istituto per le Tecnologie della Costruzione - CNR
via Bassini 15 - 20133 MILANO
tel.+39 02 23699547
fax.+39 02 23699543
.:: http://pico.itc.cnr.it/scala ::.

From david.a.riggs at gmail.com  Wed May 21 02:36:20 2008
From: david.a.riggs at gmail.com (David A. Riggs)
Date: Wed May 21 02:36:22 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <d8169c660805202336g1a03b14ame6624abfa18d72be@mail.gmail.com>

On Tue, May 20, 2008 at 12:56 AM, Gary Sherman <sherman@mrcc.com> wrote:
>
> As part of the incubation process for OSGeo we formalized our procedures for
> developers with commit access and for contributors who submit patches.
>
> Please take a look at:
>
>  http://wiki.qgis.org/qgiswiki/ContributorGuidelines
>
> Part of the process requires all contributors to send an email to the
> qgis-developer mailing list indicating concurrence. The email serves to
> document that you have read and understand the requirements, particularly
> with regard to the GPL and keeping QGIS free from trademark or patent
> infringement.
>

I have read, I understand, and I agree to the QGIS Contributor
Requirements and Responsibilities as of 2008-05-20.

- David A. Riggs

-- 
David A. Riggs <david.a.riggs@gmail.com>
From cdavilam at jemila.jazztel.es  Wed May 21 11:43:30 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Wed May 21 12:01:53 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
Message-ID: <48344322.30402@jemila.jazztel.es>

I have read and accept the terms of the Contributor Guidelines as
published here:
http://wiki.qgis.org/qgiswiki/ContributorGuidelines
Regards
Carlos

From tim at linfiniti.com  Wed May 21 12:56:24 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 21 12:56:26 2008
Subject: [Qgis-developer] Developer/contributor requirements
In-Reply-To: <48344322.30402@jemila.jazztel.es>
References: <F5DAAE7B-D2DE-454D-9FEA-FABCCD2905EA@mrcc.com>
	<48344322.30402@jemila.jazztel.es>
Message-ID: <d368056f0805210956q4c7967jc9285195cd7f3191@mail.gmail.com>

Hi,

I've read and agree with the terms of the QGIS Contributor Guidelines:

http://wiki.qgis.org/qgiswiki/ContributorGuidelines

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed May 21 13:04:15 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 21 13:04:19 2008
Subject: [Qgis-developer] Re: ideas for developpers (The Plugins menu)
In-Reply-To: <48331427.9020600@uvic.ca>
References: <200805201650.39786.borys@wolf.most.org.pl>
	<48331427.9020600@uvic.ca>
Message-ID: <d368056f0805211004k56be8fbse6c8dbec90ee3bef@mail.gmail.com>

Hi Borys

Are you running trunk? I recently added filtering option to make it
easier to find stuff in the plugin manager. I have some more changes
planned, so before you do too much work, it may be good to collaborate
a bit. I would like to add a 'category' combo above the plugins list,
and was thinking to make an update to the plugin interface to allow
this. I think I can do this without impacting existing C++ plugins (by
putting a default category of 'undefined' into the plugin abstract
base class. However I'm unsure of the impacts this will have on the
pythonistas out there.

Anyway with the filtering stuff in place you can start tying a few
letters of the plugin you want in the filter box and it will shrink
the list down. The filter box supports regular expressions too.

Regards

Tim

2008/5/20 Carson Farmer <cfarmer@uvic.ca>:
>
>
> Borys Jurgiel wrote:
>>
>> Hello Everybody,
>> I guess it's my first post on this group, but (unfortunately;) ) some of
>> you know me from the QGis-users list.
>>
>>>
>>> Wouldn't it be interesting to organize (at least a little) the plugin
>>> menu?
>>> mine begins to be very... large !
>>>
>>
>> I've started to write a simple plugin which helps to organize python
>> plugins (by modyfying their codes) in menus and toolboxes. However, such
>> personalization is not the way. I agree, we should elaborate the rules for
>> plugin developers.
>>
>> In these days I'm working on a few plugins for creating profiles, table
>> management and various conversions (just a frontend for GDAL) and I have big
>> troubles, where to locate them all. ;) So probably I'll decide to add three
>> submenus: "Profiles", "Tables" and "Conversions". The mess will be bigger.
>> Also the plugin toolbox should be disintegrated, but not without relation to
>> the menu structure.
>>
>> I suppose a few standard submenus with separate toolboxes are necessary.
>>
>>
>>>
>>> * and about the plugin manager : adding a column to know the installed
>>> version of the plugin (like some linux package manager), in order to
>>> compare the version number, and to know if the plugin needs to be
>>> re-installed --- and perhaps a warning when there is a new version of a
>>> plugin
>>>
>>
>> I guess you mean the Plugin Installer, not Manager, however this would be
>> a great improvement. Is somewhere here the Author (Matthew Perry)? ;) In the
>> future, the Installer might be included to the Manager.
>>
>
> This functionality would be relatively easy to add, especially to the plugin
> installer. I have something similar with manageR now, which checks if the
> user has the latest version installed.
> When loading the list of plugins from the repository, all the installer
> would have to do is check which plugins are installed in the plugins
> directory, and if they match one of the plugins in the repository, check
> that they are the same version.
>
> C
>>
>> Cheers,
>> Borys
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From wonder.sk at gmail.com  Wed May 21 15:28:21 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 21 15:28:22 2008
Subject: [Qgis-developer] Re: ideas for developpers (The Plugins menu)
In-Reply-To: <d368056f0805211004k56be8fbse6c8dbec90ee3bef@mail.gmail.com>
References: <200805201650.39786.borys@wolf.most.org.pl>
	<48331427.9020600@uvic.ca>
	<d368056f0805211004k56be8fbse6c8dbec90ee3bef@mail.gmail.com>
Message-ID: <e8e7199c0805211228h31918fe0u88746e1ed1057dc2@mail.gmail.com>

On Wed, May 21, 2008 at 7:04 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Borys
>
> Are you running trunk? I recently added filtering option to make it
> easier to find stuff in the plugin manager. I have some more changes
> planned, so before you do too much work, it may be good to collaborate
> a bit. I would like to add a 'category' combo above the plugins list,
> and was thinking to make an update to the plugin interface to allow
> this. I think I can do this without impacting existing C++ plugins (by
> putting a default category of 'undefined' into the plugin abstract
> base class. However I'm unsure of the impacts this will have on the
> pythonistas out there.

Other possibility would be to use tree view that would include the
categories instead of a combo box...

Tim: I looked at the improved plugin manager and it looks really good!
I have just two observations:
1. plugins shouldn't get checked/unchecked by just selecting the item
- only clicking the checkbox should do the change
2. the selection background is maybe too colorful :-)

It should be quite easy to add support of categories for python
plugins. As you could see recently on mailing list, there are some
plans on the way to improve reporting metadata information for python
plugins (e.g. dependencies) so support for categories can be added
too.

Martin
From cavallini at faunalia.it  Thu May 22 02:10:06 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu May 22 02:10:13 2008
Subject: [Qgis-developer] [Fwd: Re: [Quantum GIS] #1080: crash when loading
 GRASS vectors and rasters]
Message-ID: <48350E3E.6070808@faunalia.it>

Thanks a lot jef!
Could this be backported to 0.10 branch, so that we can release a
bugfixed 0.10.1?
All the best.
pc

-------- Messaggio Originale  --------
Oggetto: Re: [Quantum GIS] #1080: crash when loading GRASS vectors and
rasters


 This diagnosis isn't quite right.  The GRASS libraries QGIS uses are not
 locale
 aware.  GRASS uses standard C library functions to parse numbers in
 strings,
 although these functions expect to see commas for certain locales (like
 it_IT
 and de_DE).

 But the GRASS files contain dots (e.g. for the default window) and
 therefore
 the parsing fails.  This lead to a fatal GRASS error which was not catched
 by
 the setjmp/longjmp trick and therefore caused the "crash" (the GRASS
 routines
 terminated the process).

 I addressed this in r8476 by setting the locale to "C" before calling the
 GRASS
 function to retrieve the SRS.  This should fix this bug, but there are
 probably
 much more places where GRASS functions should be called with locale "C"
 because
 the outerwise break. Maybe we need to wrap each and every GRASS call that
 way.

-- 
Ticket URL: <https://trac.osgeo.org/qgis/ticket/1080#comment:3>
Quantum GIS <http://qgis.org>
Quantum GIS is an Open Source GIS viewer/editor supporting OGR, PostGIS,
and GRASS formats
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From piklas at gmail.com  Thu May 22 03:22:17 2008
From: piklas at gmail.com (Nicolas B.)
Date: Thu May 22 03:22:22 2008
Subject: [Qgis-developer] OGR2Layers python plugin
Message-ID: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>

Hi list !

I've just submitted a new python plugin to the GeoWeb 2008 student contest.
(see http://www.geoweb.org for details)
It is called OGR2Layers and enables QGIS user to export active OGR layers to
an html OpenLayers map with KML(s) overlay(s).
It's really cool for "small" layers as javascript can't load too big KML
yet. But big generated KML can be load in Google Earth !

It's still in early stage of development and the OGR to KML conversion is
done using a QgsCoordinateTransform and a "hard-coded" ogr2ogr commands
loop.I already had some bug tickets from friends about the KML generation
(only header written, so the OL map crashes), but that works on windows XP (
with latest FWTools installed and its path added in the user variables ). I
didn't try it on Linux yet.

I really had to speed for the contest deadline so the plugin won't work on
every plateform yet, i think. This is just "speed programming" around an
useful idea to generate web maps, but it could be really improved by the
community.
I'm really thinking about generating KML from python  (writting the features
geometries in it), instead of calling OGR (from qgis root dir or from
fwtools)
This way the plugin would be more robust and cross-plateform. If it turn out
to be usefull, i'm also thinking about improve the OpenLayers configuration
tab.

Go to http://www.ogr2layers.org to download
Any help and returns really appreciated !

Bye

PikO
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080522/69baf9fe/attachment.html
From mauricio.dev at gmail.com  Thu May 22 08:05:19 2008
From: mauricio.dev at gmail.com (Mauricio de Paulo)
Date: Thu May 22 08:05:40 2008
Subject: [Qgis-developer] ideas for developpers
In-Reply-To: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
Message-ID: <200805220905.19945.mauricio.dev@gmail.com>

Ok, since i had an argue with my postgis' join clause because of incorrectly 
uploaded columns' name (please take a look at it SPIT maintainer), i'm 
currently writing the join by attribute as a python plugin. It WON'T be as 
good as the postgis' join, but i'm trying to use python map to make it not 
too slow. When i finish i'm going to post the results.
Maur?cio de Paulo


On Thursday 15 May 2008 16:09:05 Sebastien Vial wrote:
> Hi all
>
> First many thanks to Carson for those amazing plugins... specially for the
> manageR !!
>
> (perhaps I should write those ideas on some page in the wiki... but where
> ?)
>
> And now, some ideas :
> * for plugin developpers with time : (I'm a gis teacher, but with no time
> and no python capacities... I'm trying to discover this interesting
> programming language)
> - join by attribute : join all the objets with the same attributes (the
> opposite of the split by attributes) ; used to merge some polygons with the
> same value in a column attribute
> - simplify vector layer according to the scale ; there exists a python
> script - in the gdal package for python- whose name is simplify.py that
> does it... and a postgis script
> http://www.bostongis.com/postgis_simplify.snippet
>
> * Wouldn't it be interesting to organize (at least a little) the plugin
> menu ? mine begins to be very... large ! For exemple, we could organize
> like - vector objects oriented plugins
> - database oriented plugins
> - raster oriented
> - import/export
> - selecting
> - statistics...
>
> * and about the plugin manager : adding a column to know the installed
> version of the plugin (like some linux package manager), in order to
> compare the version number, and to know if the plugin needs to be
> re-installed --- and perhaps a warning when there is a new version of a
> plugin
>
> Many thanks in advance !!
>
> I'm writing docs on qgis use (and the plugins !!)  for my students, but
> there will be in FRENCH !!!
>
> Seb


From b.rowlingson at lancaster.ac.uk  Thu May 22 10:11:04 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Thu May 22 10:11:07 2008
Subject: [Qgis-developer] 'Edit' menu
Message-ID: <48357EF8.9000804@lancaster.ac.uk>

Does Qgis need an 'Edit' menu?

  At least it should have 'Select All', 'Select None', and 'Invert 
Selection'. I often find myself selecting polygons or points in a vector 
layer and then having to draw out a tiny rectangle in the ocean to clear 
the selection. Or am I doing it wrong?

  Could probably do with a few more selection methods too - currently 
all we have is select by rectangle. Additionally useful would be select 
by polygon/select by freehand. The Control key (on Linux) allows 
additions to the selection by rectangle to select disjoint features, but 
I don't see a 'subtract from selection' modifier.

  Not sure if any of this has been requested yet - qgis web site is down 
at the moment - so maybe there's an RFC waiting to be implemented. I 
think this could all be done with Python plugins...

Barry
From cfarmer at uvic.ca  Thu May 22 12:28:56 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Thu May 22 12:31:19 2008
Subject: [Qgis-developer] ideas for developpers
In-Reply-To: <200805220905.19945.mauricio.dev@gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805220905.19945.mauricio.dev@gmail.com>
Message-ID: <48359F48.9000207@uvic.ca>

Nice work Mauricio,

I had started this plugin as well, but I think I'll scrap mine in favour 
of yours. When you are done, let me know if you'd like to put it up on 
my repository. I"ve set it up as a place for plugins not yet ready for 
the main repository, but are in full working order....

Cheers,

Carson

Mauricio de Paulo wrote:
> Ok, since i had an argue with my postgis' join clause because of incorrectly 
> uploaded columns' name (please take a look at it SPIT maintainer), i'm 
> currently writing the join by attribute as a python plugin. It WON'T be as 
> good as the postgis' join, but i'm trying to use python map to make it not 
> too slow. When i finish i'm going to post the results.
> Maur?cio de Paulo
>
>
> On Thursday 15 May 2008 16:09:05 Sebastien Vial wrote:
>   
>> Hi all
>>
>> First many thanks to Carson for those amazing plugins... specially for the
>> manageR !!
>>
>> (perhaps I should write those ideas on some page in the wiki... but where
>> ?)
>>
>> And now, some ideas :
>> * for plugin developpers with time : (I'm a gis teacher, but with no time
>> and no python capacities... I'm trying to discover this interesting
>> programming language)
>> - join by attribute : join all the objets with the same attributes (the
>> opposite of the split by attributes) ; used to merge some polygons with the
>> same value in a column attribute
>> - simplify vector layer according to the scale ; there exists a python
>> script - in the gdal package for python- whose name is simplify.py that
>> does it... and a postgis script
>> http://www.bostongis.com/postgis_simplify.snippet
>>
>> * Wouldn't it be interesting to organize (at least a little) the plugin
>> menu ? mine begins to be very... large ! For exemple, we could organize
>> like - vector objects oriented plugins
>> - database oriented plugins
>> - raster oriented
>> - import/export
>> - selecting
>> - statistics...
>>
>> * and about the plugin manager : adding a column to know the installed
>> version of the plugin (like some linux package manager), in order to
>> compare the version number, and to know if the plugin needs to be
>> re-installed --- and perhaps a warning when there is a new version of a
>> plugin
>>
>> Many thanks in advance !!
>>
>> I'm writing docs on qgis use (and the plugins !!)  for my students, but
>> there will be in FRENCH !!!
>>
>> Seb
>>     
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>   
From john.tull at wildnevada.org  Thu May 22 16:05:50 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu May 22 16:05:56 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <262845B7-2E2D-46A7-A76E-0A93FC5D85F1@kyngchaos.com>
References: <482E544C.9090300@comcast.net>
	<262845B7-2E2D-46A7-A76E-0A93FC5D85F1@kyngchaos.com>
Message-ID: <4C06387A-E5B5-456D-A3DC-6FA9D65DF58C@wildnevada.org>

On May 16, 2008, at 9:07 PM, William Kyngesburye wrote:

>> How do other Mac users feel about native vs Qt file dialogs? I  
>> prefer native but rate it a medium rather than high priority.
>>
> Native for me.  I usually stall a second or two to remember how to  
> navigate.
>
> If it isn't too much trouble, and you think it won't be difficult to  
> maintain in the future, I'd say go for it.

I also get frequent crashes in the file dialog when using project  
files with many layers (say, 40+). Maybe a native dialog will cure this.

John
From telwertowski at comcast.net  Fri May 23 00:58:30 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Fri May 23 00:58:33 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <4C06387A-E5B5-456D-A3DC-6FA9D65DF58C@wildnevada.org>
References: <482E544C.9090300@comcast.net>	<262845B7-2E2D-46A7-A76E-0A93FC5D85F1@kyngchaos.com>
	<4C06387A-E5B5-456D-A3DC-6FA9D65DF58C@wildnevada.org>
Message-ID: <48364EF6.5090306@comcast.net>

John C. Tull wrote:
> I also get frequent crashes in the file dialog when using project files 
> with many layers (say, 40+). Maybe a native dialog will cure this.

Once the file dialog passes a filename to qgis, its work is done. If you were doing a multiple selection of 40+ files directly in the open dialog, I might be suspicious of the dialog. In this case, I'd be interested in looking at a crash log to determine where the problem is occurring.

Tom
From cavallini at faunalia.it  Fri May 23 02:24:38 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri May 23 02:24:45 2008
Subject: [Qgis-developer] FOSS4G
Message-ID: <48366326.8010707@faunalia.it>

from:
http://wiki.osgeo.org/wiki/FOSS4G2008_CodeSprint#QGIS
QGIS
CANCELLED
are sure we want this? nope we can resurrect it?
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From marco.hugentobler at karto.baug.ethz.ch  Fri May 23 02:28:02 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Fri May 23 02:28:04 2008
Subject: [Qgis-developer] AW: [QGIS Commit] possible Bug in Edit tools?
References: <20080519133211.08FBCE00418@lists.osgeo.org>
	<48344068.4050308@terrestris.de>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF845@EX6.d.ethz.ch>

Hi Till,

Nice to see people using the digitizing tools.

The problem with the deleted dbf file is in fact hard to reproduce. QGIS uses the GDAL/OGR library to write to shapefiles/dbf. So I guess the problem might be in GDAL library or in your network configuration. 

The crash with the wrong symbology file is already in track (#1032).

Thanks for reporting these issues,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-commit-bounces@lists.osgeo.org im Auftrag von Till Adams
Gesendet: Mi 21.05.2008 17:31
An: qgis-commit@lists.osgeo.org
Cc: D?ster Horst
Betreff: [QGIS Commit] possible Bug in Edit tools?
 
Hi Qgiszzer!

I found a possible bug in the digitizing tools, have no access to Qgis 
trac and so I report it here (which is
better than doing nothing I guess)

Environment:
Ubuntu newest LKTS (from last week) and Qgis 0.10 release

What happened?
When digitizing into a shapefile and then saving edits, we had 
situations where
QGIS deleted the dbf file from the shapefile. So all edits were lost.

I know the next sentence is not really helpful, but **this happened 
sometimes but not always **
- and I can' say WHEN it happened and I was not able to reproduce this.

Some ideas:
1. One possible reason might be that we saved the digitized shapes on a 
network drive
(although every user had all rights on his/her file)

2 Another reason might have been, that the subfolder had a blank in the 
name (I know: ugly error and the person
who created that got the chop yesterday ;-) )

One question pointing into the solution might be: Does QGis always 
rewritew the whole file when saving edits?
So there might be networking problems as a reason...

We switched to editing directly into postgis, so the problem did not 
appear again.

Best regards from Germany and:
Thanks to everybody involved in Qgis development and especialy in these 
editing tools!

Ahh stop, I have another one....
When loading a style originally created from a shapefile onto a 
postgis-vector (which has the same structure)
Qgis crashes faster than I can look when clicking "apply" - always ;-)



Till

 
----------------------------------------------------------
terrestris GmbH & Co. KG
Irmintrudisstrasse 17
53111 Bonn
Germany

Till Adams
Gesch?ftsf?hrung

Tel: +49 (0)228 / 962 899-52
Fax: +49 (0)228 / 962 899-57
adams@terrestris.de http://www.terrestris.de
Amtsgericht Bonn, HRA 6835
---------------------------------------------------------

Komplement?rin:

terrestris Verwaltungs GmbH

vertreten durch:
Hinrich Paulsen, Till Adams

_______________________________________________
QGIS-commit mailing list
QGIS-commit@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-commit



From sherman at mrcc.com  Fri May 23 02:44:53 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Fri May 23 02:45:00 2008
Subject: [Qgis-developer] FOSS4G
In-Reply-To: <48366326.8010707@faunalia.it>
References: <48366326.8010707@faunalia.it>
Message-ID: <61A15FEB-60BE-4524-AD73-265C6349B4FB@mrcc.com>

On May 22, 2008, at 10:24 PM, Paolo Cavallini wrote:

> from:
> http://wiki.osgeo.org/wiki/FOSS4G2008_CodeSprint#QGIS
> QGIS
> CANCELLED
> are sure we want this? nope we can resurrect it?

I think that page was copied from FOSS4G2007 where the QGIS code  
sprint was cancelled due to lack of developer attendance.

Looking at http://wiki.osgeo.org/wiki/FOSS4G2007_CodeSprint#QGIS shows  
the same status. Someone needs to decide if there will be a code  
sprint and update the page.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From john.tull at wildnevada.org  Fri May 23 11:06:07 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Fri May 23 11:06:13 2008
Subject: [Qgis-developer] Mac Use of QFileDialog
In-Reply-To: <48364EF6.5090306@comcast.net>
References: <482E544C.9090300@comcast.net>	<262845B7-2E2D-46A7-A76E-0A93FC5D85F1@kyngchaos.com>
	<4C06387A-E5B5-456D-A3DC-6FA9D65DF58C@wildnevada.org>
	<48364EF6.5090306@comcast.net>
Message-ID: <D9B7D439-9705-4608-A270-8779B6AE5958@wildnevada.org>

I'll see if I can poke around on it today during a meeting. Not sure  
about internet access, so it might be this weekend before I get  
anything out to the list.

John

On May 22, 2008, at 9:58 PM, Tom Elwertowski wrote:

> John C. Tull wrote:
>> I also get frequent crashes in the file dialog when using project  
>> files with many layers (say, 40+). Maybe a native dialog will cure  
>> this.
>
> Once the file dialog passes a filename to qgis, its work is done. If  
> you were doing a multiple selection of 40+ files directly in the  
> open dialog, I might be suspicious of the dialog. In this case, I'd  
> be interested in looking at a crash log to determine where the  
> problem is occurring.
>
> Tom

From tim at linfiniti.com  Fri May 23 11:23:43 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 23 11:24:18 2008
Subject: [Qgis-developer] FOSS4G
In-Reply-To: <61A15FEB-60BE-4524-AD73-265C6349B4FB@mrcc.com>
References: <48366326.8010707@faunalia.it>
	<61A15FEB-60BE-4524-AD73-265C6349B4FB@mrcc.com>
Message-ID: <d368056f0805230823s4df59de6l52b274c28dc8181f@mail.gmail.com>

Hi

Since Im going to be in charge of code sprints I will make sure its
not cancelled :-) I will start organising things beginning June.

Regards

Tim

2008/5/23 Gary Sherman <sherman@mrcc.com>:
> On May 22, 2008, at 10:24 PM, Paolo Cavallini wrote:
>
>> from:
>> http://wiki.osgeo.org/wiki/FOSS4G2008_CodeSprint#QGIS
>> QGIS
>> CANCELLED
>> are sure we want this? nope we can resurrect it?
>
> I think that page was copied from FOSS4G2007 where the QGIS code sprint was
> cancelled due to lack of developer attendance.
>
> Looking at http://wiki.osgeo.org/wiki/FOSS4G2007_CodeSprint#QGIS shows the
> same status. Someone needs to decide if there will be a code sprint and
> update the page.
>
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>  *Geospatial Hosting
>  *Web Site Hosting
> -Desktop GIS Book:
>  *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Fri May 23 11:38:38 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 23 11:38:43 2008
Subject: Fwd: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <d368056f0805070922j62ff3595i40f0248ea341f5e@mail.gmail.com>
References: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>
	<4821503A.8040103@comcast.net>
	<200805070946.07982.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805070922j62ff3595i40f0248ea341f5e@mail.gmail.com>
Message-ID: <d368056f0805230838p70aed4d8tb2a1b35a0e0765bc@mail.gmail.com>

Hi

I'd like to put in a +1 for Tom to go ahead an apply this patch so we
can have it in QGIS 0.11.0 and then get rid of the final qt3 bits in
time for the next release (1.0).

Regards

Tim

2008/5/7 Tim Sutton <tim@linfiniti.com>:
> Hi Tom
>
> Just a bit of feedback to say that I built under msvc with your patch.
> Based on my limited basic testing, all seems ok on that platform, but
> I didnt go much beyond opening a couple of files and panning & zooming
> around etc.
>
> Regards
>
> Tim
>
> 2008/5/7 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
>> Thanks a lot!
>>
>>  Additionally I found (and commited) that clearing all existing selections in
>>  handleChangedSelections() is always necessary. Because in QTableWidget, it is
>>  now also possible to deselect rows while holding the ctrl key.
>>
>>  Regards,
>>  Marco
>>
>>  Am Mittwoch 07 Mai 2008 08:46:18 schrieb Tom Elwertowski:
>>
>>
>> > Hi Marco,
>>  >
>>  > I merged your revision and submitted the patch. checkSelectionChanges also
>>  > needed the revision for deselection.
>>  >
>>  > Tom
>>  >
>>  > Marco Hugentobler wrote:
>>  > > Hi Tom,
>>  > >
>>  > > I think I found the reason for the problem with the ctrl - key.
>>  > > Considering all selection ranges in
>>  > > QgsAttributeTable::handleChangedSelections solves the problem:
>>  > >
>>  > > void QgsAttributeTable::handleChangedSelections()
>>  > > {
>>  > >   if (lockKeyPressed == false)
>>  > >   {
>>  > >     //clear the list and evaluate the last selection
>>  > >     emit selectionRemoved(false);
>>  > >   }
>>  > >
>>  > >   QList<QTableWidgetSelectionRange> selectedItemRanges =
>>  > > selectedRanges(); QList<QTableWidgetSelectionRange>::const_iterator
>>  > > range_it =
>>  > > selectedItemRanges.constBegin();
>>  > >   for(; range_it != selectedItemRanges.constEnd(); ++range_it)
>>  > >     {
>>  > >       for (int index = range_it->topRow(); index <=
>>  > > range_it->bottomRow(); index++)
>>  > >     {
>>  > >       emit selected(item(index, 0)->text().toInt(), false);
>>  > >     }
>>  > >     }
>>  > >
>>  > >   emit repaintRequested();
>>  > > }
>>  > >
>>  > >
>>  > > Once you changed this, please commit the patch to svn.
>>  > >
>>  > > Regards,
>>  > > Marco
>>  > >
>>  > >
>>  > > ----------  Weitergeleitete Nachricht  ----------
>>  > >
>>  > > Betreff: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
>>  > > Datum: Freitag 02 Mai 2008
>>  > > Von: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>>  > > An: qgis-developer@lists.osgeo.org
>>  > >
>>  > > Hi Tom,
>>  > >
>>  > > I did a bit of testing. In general, things work fine. One problem I
>>  > > encountered is that if multiple entries are selected in the attribute
>>  > > table with holding the ctrl key down, the corresponsing map features are
>>  > > not selected in map view. It works correctly with the shift key.
>>  > >
>>  > > Regards,
>>  > > Marco
>>  > >
>>  > > Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
>>  > >> Hello all,
>>  > >>
>>  > >> Here is a patch which removes use of Qt3 routines for all of QGIS except
>>  > >> the GRASS plugin:
>>  > >>
>>  > >> http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>>  > >>
>>  > >> Please test it and send comments. After resolving any issues, I would
>>  > >> like to submit it to svn trunk.
>>  > >>
>>  > >> The GRASS plugin, which probably contains about half of the Qt3
>>  > >> dependencies, will be done later. The patch was done to build with the
>>  > >> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
>>  > >> Mac/64bit.
>>  > >>
>>  > >> Three categories of changes have be made:
>>  > >>
>>  > >> 1. Remove use of qt3support library (Q3 classes).
>>  > >> 2. Remove use of qt3 compatibility routines in qt4 classes.
>>  > >> 3. Remove automatic cast of QString to char*.
>>  > >>
>>  > >> Classes and places with non-trivial changes are:
>>  > >>
>>  > >> Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
>>  > >> qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
>>  > >> qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect)
>>  > >> Q3Dict to QHash (qgsprojectproperty)
>>  > >> Q3Process to QProcess (qgsgpsplugin)
>>  > >>
>>  > >> The most complex change involved handling selections in the item view
>>  > >> classes (tables, trees and lists) so this should be tested the most.
>>  > >>
>>  > >> In spite of its name, QTreeWidget also handles multicolumn lists which
>>  > >> are not trees; just set rootIsDecoated to false. Qt4 QListWidget is for
>>  > >> lists with one column and no header.
>>  > >>
>>  > >> Qt4 has two classes for each item view: QTable/Tree/ListWidget and
>>  > >> QTable/Tree/ListView. The Widget classes contain a backing store and the
>>  > >> View classes don't. The Widget classes correspond more closely to the Q3
>>  > >> classes.
>>  > >>
>>  > >> qgsattributetable, which can take a while to load large tables, should
>>  > >> probably be rewritten as a QTableView with an QAbstractTableModel
>>  > >> subclass to pull individual cells directly for the provider as needed.
>>  > >> It has been ported as a QTableWidget to keep the port straightforward
>>  > >> and not introduce additional refactoring into this edit.
>>  > >>
>>  > >> Removing automatic casts of QString to char* also uncovered some odd
>>  > >> code. Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever
>>  > >> an implicit QString cast occurs. Based on these two examples, this macro
>>  > >> serves as 'lint' for QStrings.
>>  > >>
>>  > >> QString str; delete str; // compiles due to cast of str.
>>  > >> tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>>  > >>
>>  > >> In most cases, I have used toUtf8() to eliminate implicit casts. If a
>>  > >> file already used toAscii(), toLatin1() or toLocal8Bit(), I also used it
>>  > >> to keep the file consistent. Implicit casts have also been removed from
>>  > >> the GRASS plugin so that QT_NO_CAST_TO_ASCII can be defined for all
>>  > >> future builds.
>>  > >>
>>  > >> The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
>>  > >> Qt4.4-Cocoa-alpha1.
>>  > >>
>>  > >> Tom
>>  > >> _______________________________________________
>>  > >> Qgis-developer mailing list
>>  > >> Qgis-developer@lists.osgeo.org
>>  > >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>  >
>>  > _______________________________________________
>>  > Qgis-developer mailing list
>>  > Qgis-developer@lists.osgeo.org
>>  > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>> --
>>  Dr. Marco Hugentobler
>>  Institute of Cartography
>>  ETH Zurich
>>  Technical Advisor QGIS Project Steering Committee
>>
>>
>> _______________________________________________
>>  Qgis-developer mailing list
>>  Qgis-developer@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu May 22 23:59:34 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 23 12:29:18 2008
Subject: [Qgis-developer] Re: ideas for developpers (The Plugins menu)
In-Reply-To: <e8e7199c0805211228h31918fe0u88746e1ed1057dc2@mail.gmail.com>
References: <200805201650.39786.borys@wolf.most.org.pl>
	<48331427.9020600@uvic.ca>
	<d368056f0805211004k56be8fbse6c8dbec90ee3bef@mail.gmail.com>
	<e8e7199c0805211228h31918fe0u88746e1ed1057dc2@mail.gmail.com>
Message-ID: <63C07B9A-D4DB-4E14-AD6C-69ADB265172E@linfiniti.com>

Hi Martin
Em May 21, 2008, ?s 4:28 PM, Martin Dobias escreveu:

> On Wed, May 21, 2008 at 7:04 PM, Tim Sutton <tim@linfiniti.com> wrote:
>> Hi Borys
>>
>> Are you running trunk? I recently added filtering option to make it
>> easier to find stuff in the plugin manager. I have some more changes
>> planned, so before you do too much work, it may be good to  
>> collaborate
>> a bit. I would like to add a 'category' combo above the plugins list,
>> and was thinking to make an update to the plugin interface to allow
>> this. I think I can do this without impacting existing C++ plugins  
>> (by
>> putting a default category of 'undefined' into the plugin abstract
>> base class. However I'm unsure of the impacts this will have on the
>> pythonistas out there.
>
> Other possibility would be to use tree view that would include the
> categories instead of a combo box...

Yes I thought of that too but I think a tree will look more cluttered  
and I was going for a google 'search dont sort' approach. I'm  
planning to revise the projection selector and grass toolbox to  
follow a similar paradigm.
>
> Tim: I looked at the improved plugin manager and it looks really good!
> I have just two observations:
> 1. plugins shouldn't get checked/unchecked by just selecting the item
> - only clicking the checkbox should do the change

Yes this is a side effect I'm working on getting rid of - just need  
to work out how to do mouse tracking in my custom list item delegate.

> 2. the selection background is maybe too colorful :-)

The colour comes from your desktop settings for window background.  
I'm going to commit a change to make the gradient less drastic...see  
if its any better for you then....

>
> It should be quite easy to add support of categories for python
> plugins. As you could see recently on mailing list, there are some
> plans on the way to improve reporting metadata information for python
> plugins (e.g. dependencies) so support for categories can be added
> too.
>

I saw the messages but when the talk got too pythony (is that a  
word?)  I started  getting cross eyed :-P I think whatever changes  
you guys plan we should

a) really think about if this is needed pre 1.0
b) try to keep the complexity as low as possible

Regards

Tim


> Martin

From tara_athan at alt2is.com  Fri May 23 12:38:34 2008
From: tara_athan at alt2is.com (Tara Athan)
Date: Fri May 23 12:38:29 2008
Subject: [Qgis-developer] agreement in order to get SVN access
Message-ID: <4836F30A.4040103@alt2is.com>

The agreement that I have been asked to submit in order to get SVN
access is written for developers, not documentation writers.
While I agree that code contributions are very valuable and need to live
up to certain standards, is the same not true for documentation?
I have rewritten the required agreement to fit my situation - I hope
this is acceptable so that I can be granted SVN access and get on with
the manual revision.

I agree to:

   1.

      Abide by the Social Contract
      <http://wiki.qgis.org/qgiswiki/Social_Contract>., with the
      understanding that some of the terms of the contract don't apply
      because I am not a code contributor.

   2.

      that any documentation I submit via a patch or commit is properly
      "documented", and compliant with QGIS Standards of Documentation,
      as stated on the DocumentationWritersCorner.

   3.

      If I change my mind and decide to contribute code at some future
      time, I will be familiar with the development process and the
      reference material available in the DevelopersCorner
      <http://wiki.qgis.org/qgiswiki/DevelopersCorner>, including the
      DevelopersManual. <http://wiki.qgis.org/qgiswiki/DevelopersManual>

   4. In addition, I will be familiar with the documentation process and
      the reference material available in the DocumentationWritersCorner.
   5. If I change my mind and decide to contribute code at some future
      time, I will ensure that all code committed to the repository is
      unencumbered and compatible with the QGIS license, GPL version 2.
   6. I will ensure that all documentation committed to the respository
      is unencumbered and  compatible with the QGIS  documentation
      copyright,  to be determined.
   7. If I change my mind and decide to contribute code at some future
      time, I will not use or include any code that will cause a
      trademark or patent infringement.
   8. I will not use or include any documentation that will cause a
      trademark or copyright infringement. If unsure, I will ask on the
      documentation mailing list or contact a Project Steering Committee
      member.
   9. If I change my mind and decide to contribute code at some future
      time, I will join the qgis-developer mailing list and contribute
      to discussions.
  10. I will join the qgis-community mailing list and contribute to
      discussions.
  11. I have temporarily subscribed to the qgis-developer mailing list
      in order to submit this agreement statement.
  12. I also am posting this message to the qgis-community mailing list,
      which is IMO the more relevant list for this statement.

Tara Athan

From tim at linfiniti.com  Fri May 23 13:12:09 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 23 13:12:15 2008
Subject: [Qgis-developer] Legend change
Message-ID: <7ADB3E53-2F36-463E-A07F-60C67D649FE0@linfiniti.com>

Hi

Somewhere along the line a change was made so that Legend layer items  
show a classification field list before showing the actual legend  
entries. It seems like visual clutter to me and I would like to  
remove it. Does anyone have a use case for it being there? If it is  
still desired, how about I make it switchable with an option in  
qgsoptions to dis/enable it?

Regards

Tim
From telwertowski at comcast.net  Fri May 23 13:54:32 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Fri May 23 13:54:33 2008
Subject: Fwd: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <d368056f0805230838p70aed4d8tb2a1b35a0e0765bc@mail.gmail.com>
References: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>	<4821503A.8040103@comcast.net>	<200805070946.07982.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0805070922j62ff3595i40f0248ea341f5e@mail.gmail.com>
	<d368056f0805230838p70aed4d8tb2a1b35a0e0765bc@mail.gmail.com>
Message-ID: <483704D8.9040409@comcast.net>

Tim Sutton wrote:
> I'd like to put in a +1 for Tom to go ahead an apply this patch so we
> can have it in QGIS 0.11.0 and then get rid of the final qt3 bits in
> time for the next release (1.0).

As the thread indicates, the patch was applied about two weeks ago. It's probably a good sign if you haven't noticed ;-) since the patch isn't supposed to change functionality.

However, I'll take advantage of this message to provide an update on the remaining Qt3 code removal.

I just got the GRASS provider/plugin to compile without Q3Support. There are still many runtime issues so a patch for others to try is perhaps two weeks away.

I also discovered that when QT_USE_QT3SUPPORT is removed from the top level CMakeLists.txt, the macro QT3_SUPPORT is no longer defined and we lose access to inline definitions which map old Qt3 method names to new Qt4 method names, for example QString::find is now QString::indexOf. Sometimes in the next few days, I will be submitting a patch updating method names throughout qgis.

A final note is that the GRASS plugin will not work using Qt-Mac-Cocoa simply by porting it to Qt4. There are symbol collisions between GRASS Vector and Mac libraries which do not happen in Qt-Mac-Carbon(4.4). The solution appears to be a partitioning of the GRASS plugin into Core and Gui layers so that GRASS Vector headers and QtGui headers do not appear in the same qgis files. This will be investigated after the complete port to Qt4. 

Tom

>>>  Am Mittwoch 07 Mai 2008 08:46:18 schrieb Tom Elwertowski:
>>>  > I merged your revision and submitted the patch.
>>>  >
>>>  > Marco Hugentobler wrote:
>>>  > > I think I found the reason for the problem with the ctrl - key.
>>>  > > Once you changed this, please commit the patch to svn.
From guy.roussin at teledetection.fr  Sat May 24 09:15:31 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sat May 24 09:44:14 2008
Subject: [Qgis-developer] Can't Enable on the fly projection
Message-ID: <483814F3.4000500@teledetection.fr>

Hi,

I get qgis 0.10.0 from debian.gfoss.it and i can't enable
on the fly projection even if i click on the checkbox.

I get this kind of messages when i run qgis from a terminal :

$ qgis
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Loaded /usr/lib/qgis/libcopyrightlabelplugin.so
Loaded /usr/lib/qgis/libdelimitedtextplugin.so
...
Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs where
parameters='+proj=lcc +lat_1=0 +lat_2=0 +lat_0=0 +lon_0=0 +x_0=600000 +y_0=2200000
+a=6378249.2 +b=6356515.000000472 +towgs84=-168,-60,320,-0,-0,-0,0 +pm=2.337229166667
+units=m +no_defs'
Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs where
parameters='+proj=lcc +lat_1=0 +lat_2=0 +lat_0=0 +lon_0=0 +x_0=600000 +y_0=2200000
+a=6378249.2 +b=6356515.000000472 +towgs84=-168,-60,320,-0,-0,-0,0 +pm=2.337229166667
+units=m +no_defs'
Warning: No valid projection. Unable to set map units.
Warning: QPainter::begin: Painter already active
Warning: No valid projection. Unable to set map units.
Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs where
parameters='+proj=lcc +lat_1=0 +lat_2=0 +lat_0=0 +lon_0=0 +x_0=150000.01256
+y_0=5400088.4378 +ellps=intl +towgs84=81,120,129,-0,-0,-0,0 +units=m +no_defs'
Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs where
parameters='+proj=lcc +lat_1=0 +lat_2=0 +lat_0=0 +lon_0=0 +x_0=150000.01256
+y_0=5400088.4378 +ellps=intl +towgs84=81,120,129,-0,-0,-0,0 +units=m +no_defs'
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
SpatialRefSys/ProjectSRSProj4String: +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs
Warning: No valid projection. Unable to set map units.
SpatialRefSys/ProjectSRSProj4String: +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
SpatialRefSys/ProjectSRSProj4String: +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0
+k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515
+towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs where
parameters='+proj=lcc +lat_1=0 +lat_2=0 +lat_0=0 +lon_0=0 +x_0=150000.01256
+y_0=5400088.4378 +ellps=intl +towgs84=81,120,129,-0,-0,-0,0 +units=m +no_defs'
Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs where
parameters='+proj=lcc +lat_1=0 +lat_2=0 +lat_0=0 +lon_0=0 +x_0=150000.01256
+y_0=5400088.4378 +ellps=intl +towgs84=81,120,129,-0,-0,-0,0 +units=m +no_defs'
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
Warning: QPainter::begin: Painter already active
Warning: QPainter::begin: Painter already active
Warning: No valid projection. Unable to set map units.
Warning: No valid projection. Unable to set map units.
SpatialRefSys/ProjectSRSProj4String: +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0
+k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515
+towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs
Warning: No valid projection. Unable to set map units.


When i choose a projection in the list i get "Warning: No valid
projection. Unable to set map units." in the terminal.

Thank you,

-- 
Guy Roussin
From marco.hugentobler at karto.baug.ethz.ch  Sun May 25 02:49:23 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun May 25 02:49:13 2008
Subject: [Qgis-developer] Legend change
In-Reply-To: <7ADB3E53-2F36-463E-A07F-60C67D649FE0@linfiniti.com>
References: <7ADB3E53-2F36-463E-A07F-60C67D649FE0@linfiniti.com>
Message-ID: <200805250849.24088.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

Do you mean the item under the layer name that shows the attribute name for 
the classification?
If yes, then I'm in favour of keeping it. Because otherwise it is hard to 
remember what the legend values mean, especially if the layer is loaded from 
a project file or a style file.
Making it a user option would be ok for me.

Regards,
Marco

Am Freitag 23 Mai 2008 19:12:09 schrieb Tim Sutton:
> Hi
>
> Somewhere along the line a change was made so that Legend layer items
> show a classification field list before showing the actual legend
> entries. It seems like visual clutter to me and I would like to
> remove it. Does anyone have a use case for it being there? If it is
> still desired, how about I make it switchable with an option in
> qgsoptions to dis/enable it?
>
> Regards
>
> Tim
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Sun May 25 11:17:44 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun May 25 11:17:46 2008
Subject: [Qgis-developer] Re: ideas for developpers (The Plugins menu)
In-Reply-To: <63C07B9A-D4DB-4E14-AD6C-69ADB265172E@linfiniti.com>
References: <200805201650.39786.borys@wolf.most.org.pl>
	<48331427.9020600@uvic.ca>
	<d368056f0805211004k56be8fbse6c8dbec90ee3bef@mail.gmail.com>
	<e8e7199c0805211228h31918fe0u88746e1ed1057dc2@mail.gmail.com>
	<63C07B9A-D4DB-4E14-AD6C-69ADB265172E@linfiniti.com>
Message-ID: <e8e7199c0805250817l3b261d87p2f860d840376893a@mail.gmail.com>

On Fri, May 23, 2008 at 5:59 AM, Tim Sutton <tim@linfiniti.com> wrote:
>>
>> Other possibility would be to use tree view that would include the
>> categories instead of a combo box...
>
> Yes I thought of that too but I think a tree will look more cluttered and I
> was going for a google 'search dont sort' approach. I'm planning to revise
> the projection selector and grass toolbox to follow a similar paradigm.

What I actually mean is that the approach "search, don't sort" is
useful in some cases, while at some places might be contraproductive.
I don't know how people usually use e.g. grass toolbox, but some tasks
like "i'd like to see all vector layer exporting tools" is hard to
achieve with plain search capabilities and categorizing in a tree
works better.


>> 2. the selection background is maybe too colorful :-)
>
> The colour comes from your desktop settings for window background. I'm going
> to commit a change to make the gradient less drastic...see if its any better
> for you then....

Looks great now ;-)
One more thing I note is that plugins are ordered in a rather random way...


>> It should be quite easy to add support of categories for python
>> plugins. As you could see recently on mailing list, there are some
>> plans on the way to improve reporting metadata information for python
>> plugins (e.g. dependencies) so support for categories can be added
>> too.
>>
>
> I saw the messages but when the talk got too pythony (is that a word?)  I

I think "pythoninc" is the correct word :)

> started  getting cross eyed :-P I think whatever changes you guys plan we
> should
>
> a) really think about if this is needed pre 1.0
> b) try to keep the complexity as low as possible

I do all the changes with respect to backward compatibility. I'm
trying to get the python support rock solid for 1.0 so that plugin
developers won't have any obstacles to create plugins. Second
objective is to improve the user experience with plugins. Developers
should be able to specify plugin dependencies, users should be able to
manage the plugins more easily (i.e. support uninstalling and
upgrading) - let's see where we manage to do.

Martin
From qgis at rigacci.org  Sun May 25 13:06:04 2008
From: qgis at rigacci.org (Niccolo Rigacci)
Date: Sun May 25 13:47:02 2008
Subject: [Qgis-developer] Can't Enable on the fly projection
In-Reply-To: <483814F3.4000500@teledetection.fr>
References: <483814F3.4000500@teledetection.fr>
Message-ID: <20080525170604.GA11829@rigacci.org>

> I get qgis 0.10.0 from debian.gfoss.it and i can't enable
> on the fly projection even if i click on the checkbox.
>
> I get this kind of messages when i run qgis from a terminal :
>
> $ qgis
> Warning: No valid projection. Unable to set map units.

There are some problem with the package made by me.
If you have installed libgdal1-1.5.0-grass make a symbolic link

  ln -s gdal15plugins /usr/lib/gdalplugins

Then there is a problem with projection and Qgis locales, try to 
start QGIS after setting the $LANG variable:

export LANG=en_US.UTF-8; qgis

The bug will be fixed in QGIS.

-- 
Niccolo Rigacci
Firenze - Italy
From cavallini at faunalia.it  Sun May 25 14:29:11 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun May 25 14:29:15 2008
Subject: [Qgis-developer] python geoprocessing trouble
Message-ID: <4839AFF7.6070608@faunalia.it>

Hi all.
I'm doing a short course on QGIS+GRASS in Portugal, and we're 
encountering some problems [1] on win (let alone the nightmare of 
installing additional py packages, and having py25 from qgis recognize it).
Additionally, when running manageR, loading layers into R results in [2].

Anyone has encountered these problems?
All the best.
pc

==============
[1]An error has occured while executing Python code:problem?

Traceback (most recent call last):
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 243, in
geoprocessing
  self.difference(myLayerA, myLayerB, myPath, myBool)
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 422, in
difference
  diffResult = self.makeDifference(vlayerA, vlayerB)
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 927, in
makeDifference
  if fet.geometry().wkbSize() > 0:
AttributeError: 'NoneType' object has no attribute 'wkbSize'

==============
[2]An error has occured while executing Python code:

Traceback (most recent call last):
  File "/home_slides/.qgis//python/plugins/manageR/domanageR.py", line 
347, in load
   self.commandList.append(expression)
TypeError: 'module' object is not callable
From cfarmer at uvic.ca  Sun May 25 16:13:52 2008
From: cfarmer at uvic.ca (cfarmer@uvic.ca)
Date: Sun May 25 16:13:17 2008
Subject: [Qgis-developer] Fw: [Qgis-user] python geoprocessing trouble
Message-ID: <1643685380-1211746388-cardhu_decombobulator_blackberry.rim.net-2108803413-@bxe117.bisx.prod.on.blackberry>


Sent from my BlackBerry? wireless device

-----Original Message-----
From: cfarmer@uvic.ca

Date: Sun, 25 May 2008 20:12:25 
To:cavallini@faunalia.it
Subject: Re: [Qgis-user] python geoprocessing trouble


Paolo,
 I will look into the manageR issue when I get home tonight. Will let you know as soon as I do what the problem is.

Cheers,

Carson
Sent from my BlackBerry? wireless device

-----Original Message-----
From: Paolo Cavallini <cavallini@faunalia.it>

Date: Sun, 25 May 2008 20:29:11 
To:qgis-user <qgis-user@lists.osgeo.org>,       qgis-developer <qgis-developer@lists.osgeo.org>
Subject: [Qgis-user] python geoprocessing trouble


Hi all.
I'm doing a short course on QGIS+GRASS in Portugal, and we're 
encountering some problems [1] on win (let alone the nightmare of 
installing additional py packages, and having py25 from qgis recognize it).
Additionally, when running manageR, loading layers into R results in [2].

Anyone has encountered these problems?
All the best.
pc

==============
[1]An error has occured while executing Python code:problem?

Traceback (most recent call last):
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 243, in
geoprocessing
  self.difference(myLayerA, myLayerB, myPath, myBool)
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 422, in
difference
  diffResult = self.makeDifference(vlayerA, vlayerB)
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 927, in
makeDifference
  if fet.geometry().wkbSize() > 0:
AttributeError: 'NoneType' object has no attribute 'wkbSize'

==============
[2]An error has occured while executing Python code:

Traceback (most recent call last):
  File "/home_slides/.qgis//python/plugins/manageR/domanageR.py", line 
347, in load
   self.commandList.append(expression)
TypeError: 'module' object is not callable
_______________________________________________
Qgis-user mailing list
Qgis-user@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-user
From Horst.Duester at bd.so.ch  Mon May 26 02:17:42 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Mon May 26 02:17:48 2008
Subject: AW: [Qgis-developer] python geoprocessing trouble
Message-ID: <H00002eb02c41d04.1211782662.srsofaioi6145.ktso.ch@MHS>

Paolo


>makeDifference
>  if fet.geometry().wkbSize() > 0:
>AttributeError: 'NoneType' object has no attribute 'wkbSize'

Please send the data you tried to process to me. Which type of data you
are work with? Shape, PostGIS, GML .... Does the error arises at all
geoporcessing methods?  

Sometimes the mentioned error occours when the input data are non valid
or GEOS produces non valid geometries during the geoprocessing process.
The best for me is to test with the origonal data.


Regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Paolo Cavallini [mailto:cavallini@faunalia.it]
Gesendet am: Sonntag, 25. Mai 2008 20:29
An: qgis-user; qgis-developer
Betreff: [Qgis-developer] python geoprocessing trouble

Hi all.
I'm doing a short course on QGIS+GRASS in Portugal, and we're 
encountering some problems [1] on win (let alone the nightmare of 
installing additional py packages, and having py25 from qgis recognize
it).
Additionally, when running manageR, loading layers into R results in
[2].

Anyone has encountered these problems?
All the best.
pc

==============
[1]An error has occured while executing Python code:problem?

Traceback (most recent call last):
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 243, in
geoprocessing
  self.difference(myLayerA, myLayerB, myPath, myBool)
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 422, in
difference
  diffResult = self.makeDifference(vlayerA, vlayerB)
File "C:/Documents and Settings/Ant?nio
Mira/.qgis//python/plugins\Geoprocessing\geoprocessing.py", line 927, in
makeDifference
  if fet.geometry().wkbSize() > 0:
AttributeError: 'NoneType' object has no attribute 'wkbSize'

==============
[2]An error has occured while executing Python code:

Traceback (most recent call last):
  File "/home_slides/.qgis//python/plugins/manageR/domanageR.py", line 
347, in load
   self.commandList.append(expression)
TypeError: 'module' object is not callable
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080526/5c0c0fc5/attachment.html
From rdmailings at duif.net  Mon May 26 03:30:22 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon May 26 03:31:01 2008
Subject: [Qgis-developer] Re: epsg 31254
In-Reply-To: <200805260838.24556.marco.hugentobler@karto.baug.ethz.ch>
References: <200805260838.24556.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <483A670E.5010907@duif.net>

Marco Hugentobler wrote:
> Hi Richard,
> 
> It seems that epsg 31254 is not included in the srs.db. Could you add it to 
> the database?
> 
> Thanks,
> Marco
>  
> http://spatialreference.org/ref/epsg/31254/

Hi marco,
I will add it to srs.db, and sent you the db for check in later this day.

Note that there is an ongoing thread about some 'proj/gdal/srs.db' 
problems in qgis:
eg:
http://trac.osgeo.org/qgis/ticket/1035#comment:5

quote:
"The k-factor bug is just a symptom I think, with the real cause being 
that QGIS is both out-of-sync with itself (srs.db and other internal 
code??) and expecting exact string matches. Both of which are rather 
brittle. see GRASS's libgis for code for removing trailing 0s from a 
numeric string."

I think Hamis gives a good summary there:
"summary: srs.db is broken as compared to proj's epsg text file. 
automate the generation of it ASAP or continue to feel the pain. 
eventually QGIS will need a datum picking GUI to resolve the ambigous 
cases. If doing exact string matching, make sure your sources are in sync."

See also this gdal bug:
http://trac.osgeo.org/gdal/ticket/2036
and our dev thread:
http://lists.osgeo.org/pipermail/qgis-developer/2008-May/003751.html

Who is able to pick this up? I think we should contact the gdal-people, 
but we will need somebody with some very good knowledge about the qgis 
projection internals...

Regards,
Richard Duivenvoorde


From guy.roussin at teledetection.fr  Mon May 26 08:37:38 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon May 26 08:37:50 2008
Subject: [Qgis-developer] Can't Enable on the fly projection
In-Reply-To: <20080525170604.GA11829@rigacci.org>
References: <483814F3.4000500@teledetection.fr>
	<20080525170604.GA11829@rigacci.org>
Message-ID: <483AAF12.1020603@teledetection.fr>

Niccolo Rigacci a ?crit :
>> I get qgis 0.10.0 from debian.gfoss.it and i can't enable
>> on the fly projection even if i click on the checkbox.
>>
>> I get this kind of messages when i run qgis from a terminal :
>>
>> $ qgis
>> Warning: No valid projection. Unable to set map units.
> 
> There are some problem with the package made by me.
> If you have installed libgdal1-1.5.0-grass make a symbolic link
> 
>   ln -s gdal15plugins /usr/lib/gdalplugins
> 
> Then there is a problem with projection and Qgis locales, try to 
> start QGIS after setting the $LANG variable:
> 
> export LANG=en_US.UTF-8; qgis
> 
> The bug will be fixed in QGIS.
> 
Thank you Niccolo, works fine now.

-- 
Guy Roussin

From tim at linfiniti.com  Mon May 26 10:20:14 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 26 10:20:21 2008
Subject: [Qgis-developer] Legend change
In-Reply-To: <200805250849.24088.marco.hugentobler@karto.baug.ethz.ch>
References: <7ADB3E53-2F36-463E-A07F-60C67D649FE0@linfiniti.com>
	<200805250849.24088.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0805260720k44843b2cje48063b674da659a@mail.gmail.com>

Hi

Ok Ill make it an optional setting in qgsoptions.

Regards

Tim

2008/5/25 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> Do you mean the item under the layer name that shows the attribute name for
> the classification?
> If yes, then I'm in favour of keeping it. Because otherwise it is hard to
> remember what the legend values mean, especially if the layer is loaded from
> a project file or a style file.
> Making it a user option would be ok for me.
>
> Regards,
> Marco
>
> Am Freitag 23 Mai 2008 19:12:09 schrieb Tim Sutton:
>> Hi
>>
>> Somewhere along the line a change was made so that Legend layer items
>> show a classification field list before showing the actual legend
>> entries. It seems like visual clutter to me and I would like to
>> remove it. Does anyone have a use case for it being there? If it is
>> still desired, how about I make it switchable with an option in
>> qgsoptions to dis/enable it?
>>
>> Regards
>>
>> Tim
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Mon May 26 11:23:44 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 26 11:23:55 2008
Subject: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
Message-ID: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>

Dear QGISsers


This friday past, we held a release team meeting to plan for the next  
release (0.11.0 'Metis'). We would like to shift the scheduled  
release data back to June 30. How does that work for devs out there?  
We had on our release roadmap that this release was going to be a map  
composer focused release, but as I understand it, it will need more  
time? Current stuff planned for 0.11.0 that I am aware of:

- performance improvement work (is anyone actively working on this?)
- revision of UI for consistency and to improve useability and  
general 'fit and finish' (TS)
- bug fixing (ALL)
- Qt3Support removal (Tom)
- Code formatting revision (Jef)
- qml support for rasters (done) (TS)
- list view & filtering for GRASS toolbox (TS)
- python maintenance (Martin)

It would be great to get a heads up on what others are working on so  
we can start planning for press releases etc. Going by June 30 as a  
target release date, I proposed the following dates for the release:

June  9 - Feature freeze - bug fixing only from here on forward
June 16 - String freeze and call for translations
June 23 - Branch for release & call for packaging
June 30 - Unleash Metis on the world...

Does that work ok for everyone?

I suggest Jef put his code formatting stuff through just before we do  
branch for release so that there is no active work going on in trunk  
- though this may impact people working out in branches so is it  
maybe better to wait for just before 1.0 before Jef puts the  
formatting updates in?

Following the above plan, we will have another 1.5 months until  
August 15 - the planned release date for QGIS 1.0. So ideally 0.11.0  
is the last chance to get those last minute features in, and with the  
exception of labelling, composer and raster catalogues, no new  
features should be going into trunk post 0.11.0 release. If we can  
stick to that, the community team folks will have a decent  
opportunity to update the docs (but ignoring the 3 areas mentioned  
above for now) so that we can have up to the minute docs to accompany  
the 1.0 release.

I'm anticipating a 1.0.1 release if possible in time for FOSS4G2008  
(late Sept) which will be purely bug fixing for anything we missed in  
1.0 release.

We also need to finalise our Hack fest - can we set a final date etc  
over the next week Paolo? Its looking like mid-late June is going to  
work best for me  since I will be starting a new job in July. I see  
on the hackfest page that June is good for some other folks too.  
Could we firm up a date for this?

Regards

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon May 26 11:37:13 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 26 11:37:25 2008
Subject: [Qgis-developer] GRASS Toolbox list view patch
Message-ID: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>

Hi Folks

Here is my first pass at a grass filtered list view for grass toolbox  
(attached patch). There are still a few issues:

  - checkboxes next to items need to be removed
  - filter box below list needs a label
  - some funny rendering happens on tab background on start up, just  
click to another tab and then back to the list view

I've been thinking that it might be better to implement this 'as-well- 
as' the existing tree view, so that if you want to browse the tools  
by heirachy you still can, or if you want to quickly get all the  
tools that e.g. work with ascii, you can just type 'ascii' in the  
filter box and be on your way.

Anyway, will be interesting to get feedback from heavy grass users is  
the list box approach makes life easier or not. To apply the patch,  
go to the qgis top level dir and do:

patch -p0 < grass_detailed_list_patch.diff

You need to be using a current svn checkout for it to work properly  
(r8522 or better).

Regards

-------------- next part --------------
A non-text attachment was scrubbed...
Name: grass_detailed_list_patch.diff
Type: application/octet-stream
Size: 9028 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080526/55134d8d/grass_detailed_list_patch.obj
-------------- next part --------------


Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Mon May 26 14:04:33 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon May 26 14:05:06 2008
Subject: [Qgis-developer] [Fwd: error in the program]
Message-ID: <483AFBB1.4050809@faunalia.it>

today we got similar errors on a couple of machines.
restarting the program solved it, so it may be something inessential; 
I'm postin it in case it would be of some interest.
all the best.
pc

-------- Messaggio Originale --------
Oggetto: 	error in the program
Data: 	Mon, 26 May 2008 15:33:49 +0100
Da: 	Alexandra Carreiras <acarreiras@gmail.com>
A: 	cavallini@faunalia.it



This is the error that is appearing to me:

Cannot start module v.db.addcol
C:/PROGRA~1/QUANTU~1/msys/bin/sh --login
C:/PROGRA~1/QUANTU~1/grass/scripts/v.db.addcol --interface-description

AllocationBase 0x0, BaseAddress 0x715B0000, RegionSize 0x150000, State
0x10000 C:\PROGRA~1\QUANTU~1\msys\bin\sh.exe: *** Couldn't reserve space
for cygwin's heap, Win32 error 487

Alexandra
From marco.pasetti at alice.it  Mon May 26 15:52:43 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Mon May 26 15:52:56 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
Message-ID: <009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>

Hi Tim,

I built the latest svn trunk with your patch on windows (xp for the moment,
on the next days also on Vista)

1. the idea for the grass toolbox is good (I mean the module list with the
run-time type filter/search), but I think that:

1.1. we should start the grass toolbox tree collapsed instead of fully
expanded
1.2. the font of the module tiltles should be a little bit smaller
1.3. the module list tab still has some render problems
1.4. I cannot select (that means start) the filtered modules

2. I have big rendering and selecting (check-boxes) problems with the plugin
manager

Sorry, I have no such spare time to make deeper analisys :-(

All the best

Marco

-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tim Sutton
Inviato: luned? 26 maggio 2008 17.37
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] GRASS Toolbox list view patch

Hi Folks

Here is my first pass at a grass filtered list view for grass toolbox
(attached patch). There are still a few issues:

  - checkboxes next to items need to be removed
  - filter box below list needs a label
  - some funny rendering happens on tab background on start up, just click
to another tab and then back to the list view

I've been thinking that it might be better to implement this 'as-well- as'
the existing tree view, so that if you want to browse the tools by heirachy
you still can, or if you want to quickly get all the tools that e.g. work
with ascii, you can just type 'ascii' in the filter box and be on your way.

Anyway, will be interesting to get feedback from heavy grass users is the
list box approach makes life easier or not. To apply the patch, go to the
qgis top level dir and do:

patch -p0 < grass_detailed_list_patch.diff

You need to be using a current svn checkout for it to work properly
(r8522 or better).

Regards


From tim at linfiniti.com  Mon May 26 17:08:11 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon May 26 17:08:14 2008
Subject: Fwd: Re: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <483704D8.9040409@comcast.net>
References: <200805050859.46363.marco.hugentobler@karto.baug.ethz.ch>
	<4821503A.8040103@comcast.net>
	<200805070946.07982.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805070922j62ff3595i40f0248ea341f5e@mail.gmail.com>
	<d368056f0805230838p70aed4d8tb2a1b35a0e0765bc@mail.gmail.com>
	<483704D8.9040409@comcast.net>
Message-ID: <d368056f0805261408v13389760j810838706978a7a@mail.gmail.com>

Hi Tom

2008/5/23 Tom Elwertowski <telwertowski@comcast.net>:
> Tim Sutton wrote:
>>
>> I'd like to put in a +1 for Tom to go ahead an apply this patch so we
>> can have it in QGIS 0.11.0 and then get rid of the final qt3 bits in
>> time for the next release (1.0).
>
> As the thread indicates, the patch was applied about two weeks ago. It's
> probably a good sign if you haven't noticed ;-) since the patch isn't

Oh we are always behind the times here in Brasil :-) Really I dont
know where my brain is these days :-( Thanks for the update...

Regards

Tim


> supposed to change functionality.
>
> However, I'll take advantage of this message to provide an update on the
> remaining Qt3 code removal.
>
> I just got the GRASS provider/plugin to compile without Q3Support. There are
> still many runtime issues so a patch for others to try is perhaps two weeks
> away.
>
> I also discovered that when QT_USE_QT3SUPPORT is removed from the top level
> CMakeLists.txt, the macro QT3_SUPPORT is no longer defined and we lose
> access to inline definitions which map old Qt3 method names to new Qt4
> method names, for example QString::find is now QString::indexOf. Sometimes
> in the next few days, I will be submitting a patch updating method names
> throughout qgis.
>
> A final note is that the GRASS plugin will not work using Qt-Mac-Cocoa
> simply by porting it to Qt4. There are symbol collisions between GRASS
> Vector and Mac libraries which do not happen in Qt-Mac-Carbon(4.4). The
> solution appears to be a partitioning of the GRASS plugin into Core and Gui
> layers so that GRASS Vector headers and QtGui headers do not appear in the
> same qgis files. This will be investigated after the complete port to Qt4.
> Tom
>
>>>>  Am Mittwoch 07 Mai 2008 08:46:18 schrieb Tom Elwertowski:
>>>>  > I merged your revision and submitted the patch.
>>>>  >
>>>>  > Marco Hugentobler wrote:
>>>>  > > I think I found the reason for the problem with the ctrl - key.
>>>>  > > Once you changed this, please commit the patch to svn.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From borys at wolf.most.org.pl  Mon May 26 17:38:39 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Mon May 26 17:38:54 2008
Subject: [Qgis-developer] New plugins: profiles and table management
In-Reply-To: <4829CF4E.8070507@uvic.ca>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
Message-ID: <200805262338.40473.borys@wolf.most.org.pl>

Ladies and Gentlemans, 

Sorry I was so quiet last days, but I was writting a few plugins. A first 
three of them are already usable, so I ask you to testing :) Since my English 
is rather poor, also any language fixes will be priceless...

Path to the repository:

http://www.bwj.aster.net.pl/qgis/plugins.xml

and to the little description:

http://www.bwj.aster.net.pl/qgis/

I hope you will like they. Also I have two questions:

1) "Point profile - The tool for collecting polygon attributes from multiple 
layers at specified sampling points". I'm not sure if is this name and 
description obvious? Mabye there is better word for describe this function 
already?

2) License problem. I used a few icons from QGIS main interface and two ones 
from a KDE theme, published under LGPL license. Do I have to mention about 
their origin? And can I use LGPL-licensed icons in the GPL-licensed program?
Maybe the easiest way is to paint similar ones myself?

Now I'm getting down to the Plugin Installer/updater. Sorry I didn't answer 
yet!

From borys at wolf.most.org.pl  Mon May 26 17:52:22 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Mon May 26 17:52:55 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
Message-ID: <200805262352.22698.borys@wolf.most.org.pl>

> 2. I have big rendering and selecting (check-boxes) problems with the
> plugin manager

I think I have the same problem under Ubuntu: neither the Plugin Manager list 
nor the Grass tools list doesn't work. The checkboxes are dead and painting 
of the list is unreliable. If I remember rightly, the yesterday's version 
worked fine. The Grass tools tree also works fine, of course.
From cfarmer at uvic.ca  Mon May 26 18:48:48 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Mon May 26 18:51:19 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <200805262338.40473.borys@wolf.most.org.pl>
References: <20080512160008.078D9E012A4@lists.osgeo.org>	<48294C95.7030502@gmail.com>
	<4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl>
Message-ID: <483B3E50.9040303@uvic.ca>

Hello QGIS Python Plugin Developers,

It has come to my attention that there are quite a few of us plugging 
away at various plugins (yes that was a bit of a pun ;) ). It has also 
occurred to me that many of us are probably working on very similar 
plugins, and that we are probably duplicating development efforts! So, I 
suggest we try to maintain some sort of list where we can keep each 
other up-to-date on what we are working on, what we are having trouble 
with, etc. This would also give people an opportunity to integrate 
plugin development efforts, and get help on specific problems etc. The 
PythonPluginsIdeas wiki page[1], is already setup to do this, so perhaps 
we should make a conscious effort to use it.

[1] http://wiki.qgis.org/qgiswiki/PythonPluginIdeas

Keep plugin' away,

Carson
From a.ghisla at studenti.uninsubria.it  Tue May 27 04:15:44 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Tue May 27 04:15:54 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <483B3E50.9040303@uvic.ca>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl> <483B3E50.9040303@uvic.ca>
Message-ID: <1211876144.6493.3.camel@galadriel>

On Mon, 2008-05-26 at 15:48 -0700, Carson Farmer wrote:
> Hello QGIS Python Plugin Developers,
> 
> It has come to my attention that there are quite a few of us plugging 
> away at various plugins (yes that was a bit of a pun ;) ). It has also 
> occurred to me that many of us are probably working on very similar 
> plugins, and that we are probably duplicating development efforts! So, I 
> suggest we try to maintain some sort of list where we can keep each 
> other up-to-date on what we are working on, what we are having trouble 
> with, etc. This would also give people an opportunity to integrate 
> plugin development efforts, and get help on specific problems etc. The 
> PythonPluginsIdeas wiki page[1], is already setup to do this, so perhaps 
> we should make a conscious effort to use it.
> 
> [1] http://wiki.qgis.org/qgiswiki/PythonPluginIdeas

Shall I create a wiki page to keep the community updated with the
progress of R plugin for QGIS? I guess it is a good place to put this
information.
Let me know, and happy coding to all of us!

regards,

Anne Ghisla

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080527/a3c94083/attachment.bin
From marco.hugentobler at karto.baug.ethz.ch  Tue May 27 04:16:53 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue May 27 04:16:54 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] Release plans for QGIS
	0.11.0 and on to 1.0
In-Reply-To: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
Message-ID: <200805271016.53816.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim, 

These release dates are fine for me.

> We had on our release roadmap that this release was going to be a map
> composer focused release, but as I understand it, it will need more
> time?

Yes, I suppose it will be one release later.

> I suggest Jef put his code formatting stuff through just before we do
> branch for release so that there is no active work going on in trunk
> - though this may impact people working out in branches so is it
> maybe better to wait for just before 1.0 before Jef puts the
> formatting updates in?

I also think it will be better to do this just before 1.0. Otherwise it will 
be hard to merge the composer branch in.

Regards,
Marco



Am Montag 26 Mai 2008 17:23:44 schrieb Tim Sutton:
> Dear QGISsers
>
>
> This friday past, we held a release team meeting to plan for the next
> release (0.11.0 'Metis'). We would like to shift the scheduled
> release data back to June 30. How does that work for devs out there?
> We had on our release roadmap that this release was going to be a map
> composer focused release, but as I understand it, it will need more
> time? Current stuff planned for 0.11.0 that I am aware of:
>
> - performance improvement work (is anyone actively working on this?)
> - revision of UI for consistency and to improve useability and
> general 'fit and finish' (TS)
> - bug fixing (ALL)
> - Qt3Support removal (Tom)
> - Code formatting revision (Jef)
> - qml support for rasters (done) (TS)
> - list view & filtering for GRASS toolbox (TS)
> - python maintenance (Martin)
>
> It would be great to get a heads up on what others are working on so
> we can start planning for press releases etc. Going by June 30 as a
> target release date, I proposed the following dates for the release:
>
> June  9 - Feature freeze - bug fixing only from here on forward
> June 16 - String freeze and call for translations
> June 23 - Branch for release & call for packaging
> June 30 - Unleash Metis on the world...
>
> Does that work ok for everyone?
>
> I suggest Jef put his code formatting stuff through just before we do
> branch for release so that there is no active work going on in trunk
> - though this may impact people working out in branches so is it
> maybe better to wait for just before 1.0 before Jef puts the
> formatting updates in?
>
> Following the above plan, we will have another 1.5 months until
> August 15 - the planned release date for QGIS 1.0. So ideally 0.11.0
> is the last chance to get those last minute features in, and with the
> exception of labelling, composer and raster catalogues, no new
> features should be going into trunk post 0.11.0 release. If we can
> stick to that, the community team folks will have a decent
> opportunity to update the docs (but ignoring the 3 areas mentioned
> above for now) so that we can have up to the minute docs to accompany
> the 1.0 release.
>
> I'm anticipating a 1.0.1 release if possible in time for FOSS4G2008
> (late Sept) which will be purely bug fixing for anything we missed in
> 1.0 release.
>
> We also need to finalise our Hack fest - can we set a final date etc
> over the next week Paolo? Its looking like mid-late June is going to
> work best for me  since I will be starting a new job in July. I see
> on the hackfest page that June is good for some other folks too.
> Could we firm up a date for this?
>
> Regards
>
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>
> _______________________________________________
> Qgis-release-team mailing list
> Qgis-release-team@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-release-team



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From b.rowlingson at lancaster.ac.uk  Tue May 27 04:39:40 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Tue May 27 04:39:44 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <1211876144.6493.3.camel@galadriel>
References: <20080512160008.078D9E012A4@lists.osgeo.org>	<48294C95.7030502@gmail.com>
	<4829CF4E.8070507@uvic.ca>	<200805262338.40473.borys@wolf.most.org.pl>
	<483B3E50.9040303@uvic.ca> <1211876144.6493.3.camel@galadriel>
Message-ID: <483BC8CC.5040709@lancaster.ac.uk>

Anne Ghisla wrote:
> So, I 
>> suggest we try to maintain some sort of list where we can keep each 
>> other up-to-date on what we are working on, what we are having trouble 
>> with, etc. This would also give people an opportunity to integrate 
>> plugin development efforts, and get help on specific problems etc. The 
>> PythonPluginsIdeas wiki page[1], is already setup to do this, so perhaps 
>> we should make a conscious effort to use it.

  I've added some notes to the wiki on my selection plugin. I've started 
a repository here:

http://www.maths.lancs.ac.uk/~rowlings/Qgis/Plugins/plugins.xml

It's very beta, doesn't check anything, and I have two weird problems 
that I don't understand:

  1. In Windows, when drawing a polygon selection, sometimes the 
selection polygon appears with a white bounding box, obscuring the map 
canvas. If I resize the window to cause a repaint, the white box 
disappears. Maybe I need to call some repaint method in my tool? Works 
find on Linux...

  2. ...however on Linux if I Ctrl-RightClick for the first point of a 
polygon selection, Qgis crashes right out. I haven't noticed this on 
Windows, will try it tonight.

  Feel free to have a play, comments and criticisms welcome.

Barry
From wonder.sk at gmail.com  Tue May 27 06:35:58 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 27 06:36:00 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <483B3E50.9040303@uvic.ca>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl> <483B3E50.9040303@uvic.ca>
Message-ID: <e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>

On Tue, May 27, 2008 at 12:48 AM, Carson Farmer <cfarmer@uvic.ca> wrote:
> Hello QGIS Python Plugin Developers,
>
> It has come to my attention that there are quite a few of us plugging away
> at various plugins (yes that was a bit of a pun ;) ). It has also occurred
> to me that many of us are probably working on very similar plugins, and that
> we are probably duplicating development efforts! So, I suggest we try to
> maintain some sort of list where we can keep each other up-to-date on what
> we are working on, what we are having trouble with, etc. This would also
> give people an opportunity to integrate plugin development efforts, and get
> help on specific problems etc. The PythonPluginsIdeas wiki page[1], is
> already setup to do this, so perhaps we should make a conscious effort to
> use it.
>
> [1] http://wiki.qgis.org/qgiswiki/PythonPluginIdeas

I've added a page summarizing known plugin repositories - useful for
both users seeking for plugins and developers seeking for code samples
or ideas:
http://wiki.qgis.org/qgiswiki/PluginRepositories

Martin
From borys at wolf.most.org.pl  Tue May 27 06:23:53 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue May 27 07:22:27 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <483BC8CC.5040709@lancaster.ac.uk>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<1211876144.6493.3.camel@galadriel>
	<483BC8CC.5040709@lancaster.ac.uk>
Message-ID: <200805271223.53846.borys@wolf.most.org.pl>

Hi Guys,

It's really great idea what Carson said. What about creating the new 
section "Ongoing works", "In the course" or something similar on the existing 
page? Maybe we should also move the "PythonPluginsIdeas" to an another name, 
related to the wider subject matter? On example just "Python Plugins". 

We might submit our repository pathes, mentions about ongoing and planned 
projects, TODO lists for each one and - as Carson proposed - troubles and 
doubts.

Anne wrote:
> Shall I create a wiki page to keep the community updated with the
> progress of R plugin for QGIS? I guess it is a good place to put this
> information. Let me know, and happy coding to all of us!

I think small projects might fit in the main page and bigger ones have its own 
pages, but necessarily with link from main one :)

Barry Rowlingson wrote:
>   Feel free to have a play, comments and criticisms welcome.

Great job! It lacks only a selection of single (pointed) feature and some tool 
buttons.

I think the "Selection" might become one of the plugin categories (see 
thread "ideas for developpers"), so your plugin, as well as FindByAttribure 
and RandomSelections will be placed together in one menu and toolbox.

One suggestion: the rubberband is updated only when clicked. I think it will 
be very handy to implement redrawing whenever mouse is moved.
From borys at wolf.most.org.pl  Tue May 27 07:26:42 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue May 27 07:26:52 2008
Subject: [Qgis-developer] Re: ideas for developpers)
In-Reply-To: <482CAFD9.60809@uvic.ca>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<482CAFD9.60809@uvic.ca>
Message-ID: <200805271326.42965.borys@wolf.most.org.pl>

Tim Sutton:
> Hi Borys
> Are you running trunk? I recently added filtering option to make it
> easier to find stuff in the plugin manager. I have some more changes
> planned, so before you do too much work, it may be good to collaborate
> a bit. I would like to add a 'category' combo above the plugins list,
> and was thinking to make an update to the plugin interface to allow
> this. I think I can do this without impacting existing C++ plugins (by
> putting a default category of 'undefined' into the plugin abstract
> base class. However I'm unsure of the impacts this will have on the
> pythonistas out there.

Yes, your work is really usefull, especially when I know the plugin which I 
want to enable/disable. But sometimes I want to have many plugins enabled, so 
keeping order in menus and toolboxes is important too ;) So I hope you mean 
the categorisation will take effect not only inside the manager, but also in 
the menu/toolbox structure. On example, existing plugins for selection can 
join the new Barry's "Select" menu. 

I was writing about makeshift free moving the plugin items inside the menus 
and toolboxes, but now it's not so important, since Carson has promised to 
put all his plugins in order :DD

Categorisation is not hard to implement technically, but it's much harder to 
elaborate good (clear and sufficient) categories :) I think we need the 
vision of future QGIS tools structure and fit all the plugins into it, but 
even ArcGIS doesn't bring me many good ideas. Maybe it's time for huge 
brainstorm. Then the category mechanism will be even unnecessary, if plugin 
developers swear to keep the rules ;)


Sebastien Vial wrote:
> - database oriented plugins
> - raster oriented
> - import/export
> - selecting
> - statistics...

These ideas are good for a start.

> * and about the plugin manager : adding a column to know the installed
> version of the plugin (like some linux package manager), in order to
> compare the version number, and to know if the plugin needs to be
> re-installed --- and perhaps a warning when there is a new version of a
> plugin

I don't know C++ yet, so now I can improve Plugin Installer and add the 
features:
 - the version column as you said
 - the column with status indicator: upgradable/new in repository
 - checking for updates and for news in repositories on demand and also
   when QGIS is starting.

Someday this code might be attached to the Plugin Manager (when I learn C++!), 
but before 0.11 release I can implement this only in the Plugin installer.
So what do you think about it? And what about removing the Plugin Installer 
item from the Plugins menu and launching it directly from the Manager? 
Tim, can you implement this and do you think it's suitable?

And one question. There are two branches in the QSettings:
      Plugins/$PLUGIN_NAME        = bool
      PythonPlugins/$PLUGIN_DIR   = bool

What they mean? They don't correspond with actually enabled plugins at mine!

Regards,
B.
From wonder.sk at gmail.com  Tue May 27 07:39:48 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 27 07:39:53 2008
Subject: [Qgis-developer] New plugins: profiles and table management
In-Reply-To: <200805262338.40473.borys@wolf.most.org.pl>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0805270439k364e0623xf8bbb204d78dc024@mail.gmail.com>

On Mon, May 26, 2008 at 11:38 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
> Ladies and Gentlemans,
>
> Sorry I was so quiet last days, but I was writting a few plugins. A first
> three of them are already usable, so I ask you to testing :) Since my English
> is rather poor, also any language fixes will be priceless...
>
> Path to the repository:
>
> http://www.bwj.aster.net.pl/qgis/plugins.xml
>
> and to the little description:
>
> http://www.bwj.aster.net.pl/qgis/

Great to see some more plugins! ;-)

> 2) License problem. I used a few icons from QGIS main interface and two ones
> from a KDE theme, published under LGPL license. Do I have to mention about
> their origin? And can I use LGPL-licensed icons in the GPL-licensed program?
> Maybe the easiest way is to paint similar ones myself?

AFAIK it's perfectly okay to use LGPL stuff in GPL software because
LGPL is less strict variant of GPL useful mainly for libraries.

Martin
From wonder.sk at gmail.com  Tue May 27 08:03:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 27 08:04:01 2008
Subject: [Qgis-developer] Re: ideas for developpers)
In-Reply-To: <200805271326.42965.borys@wolf.most.org.pl>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<482CAFD9.60809@uvic.ca> <200805271326.42965.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0805270503s4d0c2715s35307419d14819a5@mail.gmail.com>

Hi Borys,

On Tue, May 27, 2008 at 1:26 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
>> * and about the plugin manager : adding a column to know the installed
>> version of the plugin (like some linux package manager), in order to
>> compare the version number, and to know if the plugin needs to be
>> re-installed --- and perhaps a warning when there is a new version of a
>> plugin
>
> I don't know C++ yet, so now I can improve Plugin Installer and add the
> features:
>  - the version column as you said
>  - the column with status indicator: upgradable/new in repository
>  - checking for updates and for news in repositories on demand and also
>   when QGIS is starting.

it would be great if you add this functionality!

> Someday this code might be attached to the Plugin Manager (when I learn C++!),
> but before 0.11 release I can implement this only in the Plugin installer.
> So what do you think about it? And what about removing the Plugin Installer
> item from the Plugins menu and launching it directly from the Manager?
> Tim, can you implement this and do you think it's suitable?

In fact, this is something that I have in my head for some time
already: to connect plugin installer with plugin manager. In fact it's
not really hard and I'm willing to do that, so far I just don't have
the concept how this should be done. But e.g. extension manager in
firefox3 looks like a good inspiration: divided into two tabs: one for
management of installed plugins (enable/disable, uninstall), other for
searching and installing new plugins.

I have also thought about rewriting plugin installer in C++ to include
it directly in QGIS, but it would have some drawbacks (like absence of
zip decompression in Qt) and would add a lot of unneccessary work. So
binding the installer to plugin manager looks like a way to go - for
start we can just put a button "plugin installer" to the plugin
manager dialog.


> And one question. There are two branches in the QSettings:
>      Plugins/$PLUGIN_NAME        = bool
>      PythonPlugins/$PLUGIN_DIR   = bool
>
> What they mean? They don't correspond with actually enabled plugins at mine!

These values indicate whether a plugin is enabled or not. What doesn't
correspond in your case?

Bye
Martin
From borys at wolf.most.org.pl  Tue May 27 11:31:12 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue May 27 11:31:58 2008
Subject: [Qgis-developer] Re: ideas for developpers)
In-Reply-To: <e8e7199c0805270503s4d0c2715s35307419d14819a5@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805271326.42965.borys@wolf.most.org.pl>
	<e8e7199c0805270503s4d0c2715s35307419d14819a5@mail.gmail.com>
Message-ID: <200805271731.12378.borys@wolf.most.org.pl>

> it would be great if you add this functionality!

With pleasure, I hope to get down to this on Thursday.

> In fact, this is something that I have in my head for some time
> already: to connect plugin installer with plugin manager. In fact it's
> not really hard and I'm willing to do that, so far I just don't have
> the concept how this should be done. But e.g. extension manager in
> firefox3 looks like a good inspiration: divided into two tabs: one for
> management of installed plugins (enable/disable, uninstall), other for
> searching and installing new plugins.
>
> I have also thought about rewriting plugin installer in C++ to include
> it directly in QGIS, but it would have some drawbacks (like absence of
> zip decompression in Qt) and would add a lot of unneccessary work. So
> binding the installer to plugin manager looks like a way to go - for
> start we can just put a button "plugin installer" to the plugin
> manager dialog.

Ok, so I'll implement all the installing/uninstalling/upgrading and notifying 
stuff in the Installer. It should be easy and quick. 

I'm afraid the categorisation must wait, as we don't manage befre 0.11 
freeze - however we still can (and should) to elaborate some rules for plugin 
developers, as standard category names and one location for all plugins in 
QSettings.

> >      Plugins/$PLUGIN_NAME        = bool
> >      PythonPlugins/$PLUGIN_DIR   = bool
> >
> These values indicate whether a plugin is enabled or not. What doesn't
> correspond in your case?

Ok, everything works. I just have a number of out-of-date etries, which remain 
switched to True, though its directories was removed or renamed long time 
ago. Furthermore, I've noticed a confusing inconsistency in the "Plugins/" 
branch - it contains both C++ and Python plugins, but value is working only 
for C++ plugins (the python ones are always set to False). So I'll take look 
at the code of the Manager for better understanding the way it uses these two 
branches. Nevermind ;)

> AFAIK it's perfectly okay to use LGPL stuff in GPL software because
> LGPL is less strict variant of GPL useful mainly for libraries.

Thanks!

Cheers,
B.
From cfarmer at uvic.ca  Tue May 27 13:15:40 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Tue May 27 13:18:12 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <1211876144.6493.3.camel@galadriel>
References: <20080512160008.078D9E012A4@lists.osgeo.org>	
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>	
	<200805262338.40473.borys@wolf.most.org.pl>
	<483B3E50.9040303@uvic.ca> <1211876144.6493.3.camel@galadriel>
Message-ID: <483C41BC.1090706@uvic.ca>



Anne Ghisla wrote:
> On Mon, 2008-05-26 at 15:48 -0700, Carson Farmer wrote:
>   
>> Hello QGIS Python Plugin Developers,
>>
>> It has come to my attention that there are quite a few of us plugging 
>> away at various plugins (yes that was a bit of a pun ;) ). It has also 
>> occurred to me that many of us are probably working on very similar 
>> plugins, and that we are probably duplicating development efforts! So, I 
>> suggest we try to maintain some sort of list where we can keep each 
>> other up-to-date on what we are working on, what we are having trouble 
>> with, etc. This would also give people an opportunity to integrate 
>> plugin development efforts, and get help on specific problems etc. The 
>> PythonPluginsIdeas wiki page[1], is already setup to do this, so perhaps 
>> we should make a conscious effort to use it.
>>
>> [1] http://wiki.qgis.org/qgiswiki/PythonPluginIdeas
>>     
>
> Shall I create a wiki page to keep the community updated with the
> progress of R plugin for QGIS? I guess it is a good place to put this
> information.
> Let me know, and happy coding to all of us!
>
> regards,
>
> Anne Ghisla
>
>   
Sounds good Anne!

Carson
From cfarmer at uvic.ca  Tue May 27 13:26:16 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Tue May 27 13:28:48 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>
References: <20080512160008.078D9E012A4@lists.osgeo.org>	
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>	
	<200805262338.40473.borys@wolf.most.org.pl>
	<483B3E50.9040303@uvic.ca>
	<e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>
Message-ID: <483C4438.8030800@uvic.ca>

Martin,

This is an excellent idea, thanks for doing that!

Martin Dobias wrote:
> I've added a page summarizing known plugin repositories - useful for
> both users seeking for plugins and developers seeking for code samples
> or ideas:
> http://wiki.qgis.org/qgiswiki/PluginRepositories
>
> Martin
>
>   
From borys at wolf.most.org.pl  Tue May 27 13:41:59 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue May 27 13:42:14 2008
Subject: [Qgis-developer] New plugins: profiles and table management
In-Reply-To: <e8e7199c0805270439k364e0623xf8bbb204d78dc024@mail.gmail.com>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<200805262338.40473.borys@wolf.most.org.pl>
	<e8e7199c0805270439k364e0623xf8bbb204d78dc024@mail.gmail.com>
Message-ID: <200805271941.59558.borys@wolf.most.org.pl>

Sorry for the mess, but I've decided to rename my Point Profile Plugin to the 
Point Sampling Tool. I think the "old" name was too confusing.

Unfortunatelly, the plugin directory has changed, so if you want to upgrade, 
you have to manually remove the old .qgis/python/plugins/pointprofile 
directory.

Sorry once again, I believe this is worth the trouble.
From wonder.sk at gmail.com  Tue May 27 18:23:34 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue May 27 18:23:37 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <200805262352.22698.borys@wolf.most.org.pl>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
	<200805262352.22698.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0805271523k44fe3d84vb217c24e0748eac4@mail.gmail.com>

On Mon, May 26, 2008 at 11:52 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
>> 2. I have big rendering and selecting (check-boxes) problems with the
>> plugin manager
>
> I think I have the same problem under Ubuntu: neither the Plugin Manager list
> nor the Grass tools list doesn't work. The checkboxes are dead and painting
> of the list is unreliable. If I remember rightly, the yesterday's version
> worked fine. The Grass tools tree also works fine, of course.

I'm also experiencing completely unusable plugin manager from trunk :-(

Martin
From mauricio.dev at gmail.com  Tue May 27 18:42:40 2008
From: mauricio.dev at gmail.com (Mauricio de Paulo)
Date: Tue May 27 18:43:02 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
Message-ID: <200805271942.41028.mauricio.dev@gmail.com>

Hi everybody,
I was working with mapserver exporter and ran into a problem with the error 
message at the end of this mail. 
After a little debug i found out that the code was passing a QString instead 
of a python string when reading the filename from the dialog. This is a 
regular source of bug as some classes don't understand QStrings very well, 
even though they do work a lot like python strings.
After the change on mapserverexport.py on line 81:
exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()), 
str(self.dlg.ui.txtMapFilePath.text()))

I don't know exactly if only my python and pyqt versions require this but it 
fixed the problem for me. I think it's a good idea to NEVER work with 
QString, just with python strings for compatibility purposes.

versions:
Python 2.5.2
PyQt4.QtCore.qVersion() '4.3.4'
qgis 0.10.0 
Ubuntu 8.10

Thanks for the good work with Mapserver Export Plugin. I've been working with 
it for 2 years now and it fills a great gap in the mapfile production.

Maur?cio de Paulo

An error has occured while executing Python code:
Traceback (most recent call last):
 File "/home/vatto/.qgis//python/plugins/mapserver_export/mapserverexport.py", 
line 81, in run
  exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(), 
self.dlg.ui.txtMapFilePath.text())
 File "/home/vatto/.qgis//python/plugins/mapserver_export/ms_export.py", line 
37, in __init__
  self.qgs = minidom.parse(projectFile)
 File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
  return expatbuilder.parse(file)
 File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in parse
  result = builder.parseFile(file)
 File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in parseFile
  buffer = file.read(16*1024)
AttributeError: read

W
From wonder.sk at gmail.com  Wed May 28 08:35:40 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 28 08:35:43 2008
Subject: [Qgis-developer] QGIS Python support in a library
Message-ID: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>

Hi all,

as you probably know, until now embedding of Python to QGIS was done
directly in the QGIS application sources and the support was
implemented using conditional #ifdefs. So when building qgis binary,
you got it with or without python. This wasn't a very good solution
and was doing problems for packagers since there was no easy way to do
optional installation of python support.

In my recent commit to trunk (r8530) I've done the embedding in more
flexible way. All python support code has been moved to src/python
directory and now compiles as "qgispython" library. When QGIS
application is started, it checks for the presence of this library and
tries to load it and init python support. If something is wrong, the
python support (i.e. python plugins and console) is disabled.

I've tested this new approach on my ubuntu box with success, but other
platforms are untested (I could try it on win, but I don't have access
to OS X). So Mac and Win wizards please give it a try to see whether
it's working fine there or not. I know that Mac makes difference
between shared objects and libraries (MODULE / SHARED option in CMake)
but I have no idea which one to choose there so try changing this
first if you encounter some problems.

Generally I hope it won't produce any great havoc, but one never knows
:-) If that works fine, you shouldn't notice any change. If that
doesn't work fine, nothing python-related will work. Additionally,
this change has no impact on python bindings or plugins.

Regards,
Martin
From wonder.sk at gmail.com  Wed May 28 09:24:27 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 28 09:24:31 2008
Subject: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
In-Reply-To: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
Message-ID: <e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>

Hi Tim

On Mon, May 26, 2008 at 5:23 PM, Tim Sutton <tim@linfiniti.com> wrote:
>
> It would be great to get a heads up on what others are working on so we can
> start planning for press releases etc. Going by June 30 as a target release
> date, I proposed the following dates for the release:
>
> June  9 - Feature freeze - bug fixing only from here on forward
> June 16 - String freeze and call for translations
> June 23 - Branch for release & call for packaging
> June 30 - Unleash Metis on the world...
>
> Does that work ok for everyone?

Looks fine for me. My further plans are to add dependency checking for
python plugins (if I'll be able to get it ready on time)

> I suggest Jef put his code formatting stuff through just before we do branch
> for release so that there is no active work going on in trunk - though this
> may impact people working out in branches so is it maybe better to wait for
> just before 1.0 before Jef puts the formatting updates in?

Better to wait and apply it before 1.0.

> Following the above plan, we will have another 1.5 months until August 15 -
> the planned release date for QGIS 1.0. So ideally 0.11.0 is the last chance
> to get those last minute features in, and with the exception of labelling,
> composer and raster catalogues, no new features should be going into trunk
> post 0.11.0 release.

Btw. any news from the GSoC student regarding the map labeling implementation?

> I'm anticipating a 1.0.1 release if possible in time for FOSS4G2008 (late
> Sept) which will be purely bug fixing for anything we missed in 1.0 release.

What about further roadmap? Schedule of 1.x versions? Are we going to
maintain stable ABI? API? Some plans for 2.0?
The problem I see often is that we just know where we are but we're
missing some direction and vision... There are always just very
short-time release plans. I have in my mind some greater changes
(geometry refactor, plugins/providers enhancements, vector handling
enhancements) but I don't get idea when to do them.

> We also need to finalise our Hack fest - can we set a final date etc over
> the next week Paolo? Its looking like mid-late June is going to work best
> for me  since I will be starting a new job in July. I see on the hackfest
> page that June is good for some other folks too. Could we firm up a date for
> this?

I'm sorry but it looks like I won't be able to participate - June is
full of exams and visitors and then moving back to Slovakia, from
mid-July I'm on holidays in India until mid-September. I could
participate during the autumn...

Cheers
Martin
From wonder.sk at gmail.com  Wed May 28 09:32:42 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 28 09:32:50 2008
Subject: [Qgis-developer] Re: ideas for developpers)
In-Reply-To: <200805271731.12378.borys@wolf.most.org.pl>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805271326.42965.borys@wolf.most.org.pl>
	<e8e7199c0805270503s4d0c2715s35307419d14819a5@mail.gmail.com>
	<200805271731.12378.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0805280632w66013aedv1115f76e11afd14d@mail.gmail.com>

On Tue, May 27, 2008 at 5:31 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
>> In fact, this is something that I have in my head for some time
>> already: to connect plugin installer with plugin manager. In fact it's
>> not really hard and I'm willing to do that, so far I just don't have
>> the concept how this should be done. But e.g. extension manager in
>> firefox3 looks like a good inspiration: divided into two tabs: one for
>> management of installed plugins (enable/disable, uninstall), other for
>> searching and installing new plugins.
>>
>> I have also thought about rewriting plugin installer in C++ to include
>> it directly in QGIS, but it would have some drawbacks (like absence of
>> zip decompression in Qt) and would add a lot of unneccessary work. So
>> binding the installer to plugin manager looks like a way to go - for
>> start we can just put a button "plugin installer" to the plugin
>> manager dialog.
>
> Ok, so I'll implement all the installing/uninstalling/upgrading and notifying
> stuff in the Installer. It should be easy and quick.

Fine, looking forward to hear from you soon :-)

> I'm afraid the categorisation must wait, as we don't manage befre 0.11
> freeze - however we still can (and should) to elaborate some rules for plugin
> developers, as standard category names and one location for all plugins in
> QSettings.

Yes the categorization can wait. But those rules for plugin developers
can be created and define some standard categories. Then it's just a
matter of bugging the plugin devs to update the plugins to meet the
rules :)

Martin
From tim at linfiniti.com  Tue May 27 20:55:57 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 28 11:40:37 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
Message-ID: <5E20FBF8-4F13-4DCF-B205-76EDE3024360@linfiniti.com>

Hi Marco

Thanks for the feedback. I will try to build under msvc here and see  
if I can address the issues with the plugin manager. I think Radim  
specifically expanded the tree in the grass toolbox because you can  
access each tool with a single click. Perhaps we can add some  
collapse all / expand all buttons to the toolbox to support both  
people who prefer it expanded and those who prefer it collapsed. Ill  
look into this.

I tested the plugin manager with my msvc build and will commit a fix  
in a few minutes that should sort out the issue you were having.



Regards

Tim


Em May 26, 2008, ?s 4:52 PM, Marco Pasetti escreveu:

> Hi Tim,
>
> I built the latest svn trunk with your patch on windows (xp for the  
> moment,
> on the next days also on Vista)
>
> 1. the idea for the grass toolbox is good (I mean the module list  
> with the
> run-time type filter/search), but I think that:
>
> 1.1. we should start the grass toolbox tree collapsed instead of fully
> expanded
> 1.2. the font of the module tiltles should be a little bit smaller
> 1.3. the module list tab still has some render problems
> 1.4. I cannot select (that means start) the filtered modules
>
> 2. I have big rendering and selecting (check-boxes) problems with  
> the plugin
> manager
>
> Sorry, I have no such spare time to make deeper analisys :-(
>
> All the best
>
> Marco
>
> -----Messaggio originale-----
> Da: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tim  
> Sutton
> Inviato: luned? 26 maggio 2008 17.37
> A: qgis-developer@lists.osgeo.org
> Oggetto: [Qgis-developer] GRASS Toolbox list view patch
>
> Hi Folks
>
> Here is my first pass at a grass filtered list view for grass toolbox
> (attached patch). There are still a few issues:
>
>   - checkboxes next to items need to be removed
>   - filter box below list needs a label
>   - some funny rendering happens on tab background on start up,  
> just click
> to another tab and then back to the list view
>
> I've been thinking that it might be better to implement this 'as- 
> well- as'
> the existing tree view, so that if you want to browse the tools by  
> heirachy
> you still can, or if you want to quickly get all the tools that  
> e.g. work
> with ascii, you can just type 'ascii' in the filter box and be on  
> your way.
>
> Anyway, will be interesting to get feedback from heavy grass users  
> is the
> list box approach makes life easier or not. To apply the patch, go  
> to the
> qgis top level dir and do:
>
> patch -p0 < grass_detailed_list_patch.diff
>
> You need to be using a current svn checkout for it to work properly
> (r8522 or better).
>
> Regards
>
>

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed May 28 11:54:48 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 28 11:55:11 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
Message-ID: <d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>

Hi Martin

Thanks for doing this change - I think it will be a nice improvement.
For me I get this error when trying to build on OSX:

[ 72%] Built target python
Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
[ 74%] Built target qgis_help
Linking CXX shared library libqgispython.dylib
ld: Undefined symbols:
__ZN14QgsApplication11pkgDataPathEv
__ZN14QgsApplication19qgisSettingsDirPathEv
__ZN16QgsMessageOutput19createMessageOutputEv
__ZN9QgsLogger5debugERK7QStringiPKcS4_i
ld: Undefined symbols:
__ZN14QgsApplication11pkgDataPathEv
__ZN14QgsApplication19qgisSettingsDirPathEv
__ZN16QgsMessageOutput19createMessageOutputEv
__ZN9QgsLogger5debugERK7QStringiPKcS4_i
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/libtool: internal link edit
command failed
/usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/libtool: internal link
edit command failed
lipo: can't figure out the architecture type of: /var/tmp//cc9EZSsS.out
make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
make: *** [all] Error 2

Regards

Tim

2008/5/28 Martin Dobias <wonder.sk@gmail.com>:
> Hi all,
>
> as you probably know, until now embedding of Python to QGIS was done
> directly in the QGIS application sources and the support was
> implemented using conditional #ifdefs. So when building qgis binary,
> you got it with or without python. This wasn't a very good solution
> and was doing problems for packagers since there was no easy way to do
> optional installation of python support.
>
> In my recent commit to trunk (r8530) I've done the embedding in more
> flexible way. All python support code has been moved to src/python
> directory and now compiles as "qgispython" library. When QGIS
> application is started, it checks for the presence of this library and
> tries to load it and init python support. If something is wrong, the
> python support (i.e. python plugins and console) is disabled.
>
> I've tested this new approach on my ubuntu box with success, but other
> platforms are untested (I could try it on win, but I don't have access
> to OS X). So Mac and Win wizards please give it a try to see whether
> it's working fine there or not. I know that Mac makes difference
> between shared objects and libraries (MODULE / SHARED option in CMake)
> but I have no idea which one to choose there so try changing this
> first if you encounter some problems.
>
> Generally I hope it won't produce any great havoc, but one never knows
> :-) If that works fine, you shouldn't notice any change. If that
> doesn't work fine, nothing python-related will work. Additionally,
> this change has no impact on python bindings or plugins.
>
> Regards,
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed May 28 12:13:52 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 28 12:13:55 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <e8e7199c0805271523k44fe3d84vb217c24e0748eac4@mail.gmail.com>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
	<200805262352.22698.borys@wolf.most.org.pl>
	<e8e7199c0805271523k44fe3d84vb217c24e0748eac4@mail.gmail.com>
Message-ID: <d368056f0805280913m59b64d9dla44c43f8159b0422@mail.gmail.com>

Hi Martin

Is is broken still for you? I committed a win fix. Let me know if you
still have issues.

Thanks

Tim

2008/5/27 Martin Dobias <wonder.sk@gmail.com>:
> On Mon, May 26, 2008 at 11:52 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
>>> 2. I have big rendering and selecting (check-boxes) problems with the
>>> plugin manager
>>
>> I think I have the same problem under Ubuntu: neither the Plugin Manager list
>> nor the Grass tools list doesn't work. The checkboxes are dead and painting
>> of the list is unreliable. If I remember rightly, the yesterday's version
>> worked fine. The Grass tools tree also works fine, of course.
>
> I'm also experiencing completely unusable plugin manager from trunk :-(
>
> Martin
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From john.tull at wildnevada.org  Wed May 28 12:30:00 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed May 28 12:30:06 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
Message-ID: <2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>

I had a similar failure in most r8535:

[ 67%] Building CXX object src/python/CMakeFiles/qgispython.dir/ 
qgspythonutilsimpl.o
Linking CXX shared library libqgispython.dylib
Undefined symbols:
   "QgsApplication::pkgDataPath()", referenced from:
       QgsPythonUtilsImpl::pythonPath()       in qgspythonutilsimpl.o
   "QgsMessageOutput::createMessageOutput()", referenced from:
       QgsPythonUtilsImpl::runString(QString const&, QString)in  
qgspythonutilsimpl.o
   "QgsApplication::qgisSettingsDirPath()", referenced from:
       QgsPythonUtilsImpl::homePluginsPath()       in  
qgspythonutilsimpl.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
make: *** [all] Error 2

John

On May 28, 2008, at 8:54 AM, Tim Sutton wrote:

> Hi Martin
>
> Thanks for doing this change - I think it will be a nice improvement.
> For me I get this error when trying to build on OSX:
>
> [ 72%] Built target python
> Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
> [ 74%] Built target qgis_help
> Linking CXX shared library libqgispython.dylib
> ld: Undefined symbols:
> __ZN14QgsApplication11pkgDataPathEv
> __ZN14QgsApplication19qgisSettingsDirPathEv
> __ZN16QgsMessageOutput19createMessageOutputEv
> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
> ld: Undefined symbols:
> __ZN14QgsApplication11pkgDataPathEv
> __ZN14QgsApplication19qgisSettingsDirPathEv
> __ZN16QgsMessageOutput19createMessageOutputEv
> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/libtool: internal link edit
> command failed
> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/libtool: internal link
> edit command failed
> lipo: can't figure out the architecture type of: /var/tmp// 
> cc9EZSsS.out
> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
> make: *** [all] Error 2
>
> Regards
>
> Tim
>
> 2008/5/28 Martin Dobias <wonder.sk@gmail.com>:
>> Hi all,
>>
>> as you probably know, until now embedding of Python to QGIS was done
>> directly in the QGIS application sources and the support was
>> implemented using conditional #ifdefs. So when building qgis binary,
>> you got it with or without python. This wasn't a very good solution
>> and was doing problems for packagers since there was no easy way to  
>> do
>> optional installation of python support.
>>
>> In my recent commit to trunk (r8530) I've done the embedding in more
>> flexible way. All python support code has been moved to src/python
>> directory and now compiles as "qgispython" library. When QGIS
>> application is started, it checks for the presence of this library  
>> and
>> tries to load it and init python support. If something is wrong, the
>> python support (i.e. python plugins and console) is disabled.
>>
>> I've tested this new approach on my ubuntu box with success, but  
>> other
>> platforms are untested (I could try it on win, but I don't have  
>> access
>> to OS X). So Mac and Win wizards please give it a try to see whether
>> it's working fine there or not. I know that Mac makes difference
>> between shared objects and libraries (MODULE / SHARED option in  
>> CMake)
>> but I have no idea which one to choose there so try changing this
>> first if you encounter some problems.
>>
>> Generally I hope it won't produce any great havoc, but one never  
>> knows
>> :-) If that works fine, you shouldn't notice any change. If that
>> doesn't work fine, nothing python-related will work. Additionally,
>> this change has no impact on python bindings or plugins.
>>
>> Regards,
>> Martin
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From borys at wolf.most.org.pl  Wed May 28 12:30:13 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Wed May 28 12:32:03 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <d368056f0805280913m59b64d9dla44c43f8159b0422@mail.gmail.com>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<e8e7199c0805271523k44fe3d84vb217c24e0748eac4@mail.gmail.com>
	<d368056f0805280913m59b64d9dla44c43f8159b0422@mail.gmail.com>
Message-ID: <200805281830.14183.borys@wolf.most.org.pl>

Wednesday 28 of May 2008 18:13:52 Tim Sutton napisa?(a):
> Hi Martin
>
> Is is broken still for you? I committed a win fix. Let me know if you
> still have issues.

Bingo! Everything works (under Ubuntu). 

Btw there is one small issue in thecurrent svn version - it isn't 
compileable ;) Cmake searches the missing file: src/plugins/wfs/wfsplugin.qrc

After disabling the: 

SET (WFS_RCCS  wfsplugin.qrc)

line in the CMakeLists.txt, everything works (but without wfs icon of course)
From tim at linfiniti.com  Wed May 28 12:45:21 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed May 28 12:45:25 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>
Message-ID: <d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>

Hi

I tested under Ubuntu with r8535 and everything builds fine so it
seems mac specific.

Regards

Tim

2008/5/28 John C. Tull <john.tull@wildnevada.org>:
> I had a similar failure in most r8535:
>
> [ 67%] Building CXX object
> src/python/CMakeFiles/qgispython.dir/qgspythonutilsimpl.o
> Linking CXX shared library libqgispython.dylib
> Undefined symbols:
>  "QgsApplication::pkgDataPath()", referenced from:
>      QgsPythonUtilsImpl::pythonPath()       in qgspythonutilsimpl.o
>  "QgsMessageOutput::createMessageOutput()", referenced from:
>      QgsPythonUtilsImpl::runString(QString const&, QString)in
> qgspythonutilsimpl.o
>  "QgsApplication::qgisSettingsDirPath()", referenced from:
>      QgsPythonUtilsImpl::homePluginsPath()       in qgspythonutilsimpl.o
> ld: symbol(s) not found
> collect2: ld returned 1 exit status
> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
> make: *** [all] Error 2
>
> John
>
> On May 28, 2008, at 8:54 AM, Tim Sutton wrote:
>
>> Hi Martin
>>
>> Thanks for doing this change - I think it will be a nice improvement.
>> For me I get this error when trying to build on OSX:
>>
>> [ 72%] Built target python
>> Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
>> [ 74%] Built target qgis_help
>> Linking CXX shared library libqgispython.dylib
>> ld: Undefined symbols:
>> __ZN14QgsApplication11pkgDataPathEv
>> __ZN14QgsApplication19qgisSettingsDirPathEv
>> __ZN16QgsMessageOutput19createMessageOutputEv
>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>> ld: Undefined symbols:
>> __ZN14QgsApplication11pkgDataPathEv
>> __ZN14QgsApplication19qgisSettingsDirPathEv
>> __ZN16QgsMessageOutput19createMessageOutputEv
>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/libtool: internal link edit
>> command failed
>> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/libtool: internal link
>> edit command failed
>> lipo: can't figure out the architecture type of: /var/tmp//cc9EZSsS.out
>> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
>> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
>> make: *** [all] Error 2
>>
>> Regards
>>
>> Tim
>>
>> 2008/5/28 Martin Dobias <wonder.sk@gmail.com>:
>>>
>>> Hi all,
>>>
>>> as you probably know, until now embedding of Python to QGIS was done
>>> directly in the QGIS application sources and the support was
>>> implemented using conditional #ifdefs. So when building qgis binary,
>>> you got it with or without python. This wasn't a very good solution
>>> and was doing problems for packagers since there was no easy way to do
>>> optional installation of python support.
>>>
>>> In my recent commit to trunk (r8530) I've done the embedding in more
>>> flexible way. All python support code has been moved to src/python
>>> directory and now compiles as "qgispython" library. When QGIS
>>> application is started, it checks for the presence of this library and
>>> tries to load it and init python support. If something is wrong, the
>>> python support (i.e. python plugins and console) is disabled.
>>>
>>> I've tested this new approach on my ubuntu box with success, but other
>>> platforms are untested (I could try it on win, but I don't have access
>>> to OS X). So Mac and Win wizards please give it a try to see whether
>>> it's working fine there or not. I know that Mac makes difference
>>> between shared objects and libraries (MODULE / SHARED option in CMake)
>>> but I have no idea which one to choose there so try changing this
>>> first if you encounter some problems.
>>>
>>> Generally I hope it won't produce any great havoc, but one never knows
>>> :-) If that works fine, you shouldn't notice any change. If that
>>> doesn't work fine, nothing python-related will work. Additionally,
>>> this change has no impact on python bindings or plugins.
>>>
>>> Regards,
>>> Martin
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>>
>> --
>> Tim Sutton
>> QGIS Project Steering Committee Member - Release Manager
>> Visit http://qgis.org for a great open source GIS
>> openModeller Desktop Developer
>> Visit http://openModeller.sf.net for a great open source ecological
>> niche modelling tool
>> Home Page: http://tim.linfiniti.com
>> Skype: timlinux
>> Irc: timlinux on #qgis at freenode.net
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From john.tull at wildnevada.org  Wed May 28 13:02:47 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed May 28 13:02:54 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>
	<d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
Message-ID: <868A75A8-DF3A-428E-9F3A-4BC46E46A23C@wildnevada.org>

Ach! I'll keep an eye out for changes that I can test, otherwise I am  
of little help, I'm afraid.

John

On May 28, 2008, at 9:45 AM, Tim Sutton wrote:

> Hi
>
> I tested under Ubuntu with r8535 and everything builds fine so it
> seems mac specific.
>
> Regards
>
> Tim
>
> 2008/5/28 John C. Tull <john.tull@wildnevada.org>:
>> I had a similar failure in most r8535:
>>
>> [ 67%] Building CXX object
>> src/python/CMakeFiles/qgispython.dir/qgspythonutilsimpl.o
>> Linking CXX shared library libqgispython.dylib
>> Undefined symbols:
>> "QgsApplication::pkgDataPath()", referenced from:
>>     QgsPythonUtilsImpl::pythonPath()       in qgspythonutilsimpl.o
>> "QgsMessageOutput::createMessageOutput()", referenced from:
>>     QgsPythonUtilsImpl::runString(QString const&, QString)in
>> qgspythonutilsimpl.o
>> "QgsApplication::qgisSettingsDirPath()", referenced from:
>>     QgsPythonUtilsImpl::homePluginsPath()       in  
>> qgspythonutilsimpl.o
>> ld: symbol(s) not found
>> collect2: ld returned 1 exit status
>> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
>> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
>> make: *** [all] Error 2
>>
>> John
>>
>> On May 28, 2008, at 8:54 AM, Tim Sutton wrote:
>>
>>> Hi Martin
>>>
>>> Thanks for doing this change - I think it will be a nice  
>>> improvement.
>>> For me I get this error when trying to build on OSX:
>>>
>>> [ 72%] Built target python
>>> Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
>>> [ 74%] Built target qgis_help
>>> Linking CXX shared library libqgispython.dylib
>>> ld: Undefined symbols:
>>> __ZN14QgsApplication11pkgDataPathEv
>>> __ZN14QgsApplication19qgisSettingsDirPathEv
>>> __ZN16QgsMessageOutput19createMessageOutputEv
>>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>>> ld: Undefined symbols:
>>> __ZN14QgsApplication11pkgDataPathEv
>>> __ZN14QgsApplication19qgisSettingsDirPathEv
>>> __ZN16QgsMessageOutput19createMessageOutputEv
>>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>>> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/libtool: internal link  
>>> edit
>>> command failed
>>> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/libtool: internal link
>>> edit command failed
>>> lipo: can't figure out the architecture type of: /var/tmp// 
>>> cc9EZSsS.out
>>> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
>>> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
>>> make: *** [all] Error 2
>>>
>>> Regards
>>>
>>> Tim
>>>
>>> 2008/5/28 Martin Dobias <wonder.sk@gmail.com>:
>>>>
>>>> Hi all,
>>>>
>>>> as you probably know, until now embedding of Python to QGIS was  
>>>> done
>>>> directly in the QGIS application sources and the support was
>>>> implemented using conditional #ifdefs. So when building qgis  
>>>> binary,
>>>> you got it with or without python. This wasn't a very good solution
>>>> and was doing problems for packagers since there was no easy way  
>>>> to do
>>>> optional installation of python support.
>>>>
>>>> In my recent commit to trunk (r8530) I've done the embedding in  
>>>> more
>>>> flexible way. All python support code has been moved to src/python
>>>> directory and now compiles as "qgispython" library. When QGIS
>>>> application is started, it checks for the presence of this  
>>>> library and
>>>> tries to load it and init python support. If something is wrong,  
>>>> the
>>>> python support (i.e. python plugins and console) is disabled.
>>>>
>>>> I've tested this new approach on my ubuntu box with success, but  
>>>> other
>>>> platforms are untested (I could try it on win, but I don't have  
>>>> access
>>>> to OS X). So Mac and Win wizards please give it a try to see  
>>>> whether
>>>> it's working fine there or not. I know that Mac makes difference
>>>> between shared objects and libraries (MODULE / SHARED option in  
>>>> CMake)
>>>> but I have no idea which one to choose there so try changing this
>>>> first if you encounter some problems.
>>>>
>>>> Generally I hope it won't produce any great havoc, but one never  
>>>> knows
>>>> :-) If that works fine, you shouldn't notice any change. If that
>>>> doesn't work fine, nothing python-related will work. Additionally,
>>>> this change has no impact on python bindings or plugins.
>>>>
>>>> Regards,
>>>> Martin
>>>> _______________________________________________
>>>> Qgis-developer mailing list
>>>> Qgis-developer@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>>
>>> --
>>> Tim Sutton
>>> QGIS Project Steering Committee Member - Release Manager
>>> Visit http://qgis.org for a great open source GIS
>>> openModeller Desktop Developer
>>> Visit http://openModeller.sf.net for a great open source ecological
>>> niche modelling tool
>>> Home Page: http://tim.linfiniti.com
>>> Skype: timlinux
>>> Irc: timlinux on #qgis at freenode.net
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>
>
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net

From john.tull at wildnevada.org  Wed May 28 13:06:34 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed May 28 13:06:49 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>
	<d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
Message-ID: <BE55186F-8AB5-442C-8F73-83DF539484C6@wildnevada.org>

I don't know if this is related to linking issues that William has  
brought up in the past, but it's a possibility. William can provide  
the best input from the Mac dev side, as far as I know.

Regards,
John

On May 28, 2008, at 9:45 AM, Tim Sutton wrote:

> Hi
>
> I tested under Ubuntu with r8535 and everything builds fine so it
> seems mac specific.
>
> Regards
>
> Tim
>
> 2008/5/28 John C. Tull <john.tull@wildnevada.org>:
>> I had a similar failure in most r8535:
>>
>> [ 67%] Building CXX object
>> src/python/CMakeFiles/qgispython.dir/qgspythonutilsimpl.o
>> Linking CXX shared library libqgispython.dylib
>> Undefined symbols:
>> "QgsApplication::pkgDataPath()", referenced from:
>>     QgsPythonUtilsImpl::pythonPath()       in qgspythonutilsimpl.o
>> "QgsMessageOutput::createMessageOutput()", referenced from:
>>     QgsPythonUtilsImpl::runString(QString const&, QString)in
>> qgspythonutilsimpl.o
>> "QgsApplication::qgisSettingsDirPath()", referenced from:
>>     QgsPythonUtilsImpl::homePluginsPath()       in  
>> qgspythonutilsimpl.o
>> ld: symbol(s) not found
>> collect2: ld returned 1 exit status
>> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
>> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
>> make: *** [all] Error 2
>>
>> John
>>
>> On May 28, 2008, at 8:54 AM, Tim Sutton wrote:
>>
>>> Hi Martin
>>>
>>> Thanks for doing this change - I think it will be a nice  
>>> improvement.
>>> For me I get this error when trying to build on OSX:
>>>
>>> [ 72%] Built target python
>>> Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
>>> [ 74%] Built target qgis_help
>>> Linking CXX shared library libqgispython.dylib
>>> ld: Undefined symbols:
>>> __ZN14QgsApplication11pkgDataPathEv
>>> __ZN14QgsApplication19qgisSettingsDirPathEv
>>> __ZN16QgsMessageOutput19createMessageOutputEv
>>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>>> ld: Undefined symbols:
>>> __ZN14QgsApplication11pkgDataPathEv
>>> __ZN14QgsApplication19qgisSettingsDirPathEv
>>> __ZN16QgsMessageOutput19createMessageOutputEv
>>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>>> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/libtool: internal link  
>>> edit
>>> command failed
>>> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/libtool: internal link
>>> edit command failed
>>> lipo: can't figure out the architecture type of: /var/tmp// 
>>> cc9EZSsS.out
>>> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
>>> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
>>> make: *** [all] Error 2
>>>
>>> Regards
>>>
>>> Tim
>>>
>>> 2008/5/28 Martin Dobias <wonder.sk@gmail.com>:
>>>>
>>>> Hi all,
>>>>
>>>> as you probably know, until now embedding of Python to QGIS was  
>>>> done
>>>> directly in the QGIS application sources and the support was
>>>> implemented using conditional #ifdefs. So when building qgis  
>>>> binary,
>>>> you got it with or without python. This wasn't a very good solution
>>>> and was doing problems for packagers since there was no easy way  
>>>> to do
>>>> optional installation of python support.
>>>>
>>>> In my recent commit to trunk (r8530) I've done the embedding in  
>>>> more
>>>> flexible way. All python support code has been moved to src/python
>>>> directory and now compiles as "qgispython" library. When QGIS
>>>> application is started, it checks for the presence of this  
>>>> library and
>>>> tries to load it and init python support. If something is wrong,  
>>>> the
>>>> python support (i.e. python plugins and console) is disabled.
>>>>
>>>> I've tested this new approach on my ubuntu box with success, but  
>>>> other
>>>> platforms are untested (I could try it on win, but I don't have  
>>>> access
>>>> to OS X). So Mac and Win wizards please give it a try to see  
>>>> whether
>>>> it's working fine there or not. I know that Mac makes difference
>>>> between shared objects and libraries (MODULE / SHARED option in  
>>>> CMake)
>>>> but I have no idea which one to choose there so try changing this
>>>> first if you encounter some problems.
>>>>
>>>> Generally I hope it won't produce any great havoc, but one never  
>>>> knows
>>>> :-) If that works fine, you shouldn't notice any change. If that
>>>> doesn't work fine, nothing python-related will work. Additionally,
>>>> this change has no impact on python bindings or plugins.
>>>>
>>>> Regards,
>>>> Martin
>>>> _______________________________________________
>>>> Qgis-developer mailing list
>>>> Qgis-developer@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>>
>>> --
>>> Tim Sutton
>>> QGIS Project Steering Committee Member - Release Manager
>>> Visit http://qgis.org for a great open source GIS
>>> openModeller Desktop Developer
>>> Visit http://openModeller.sf.net for a great open source ecological
>>> niche modelling tool
>>> Home Page: http://tim.linfiniti.com
>>> Skype: timlinux
>>> Irc: timlinux on #qgis at freenode.net
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>
>
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net

From woklist at kyngchaos.com  Wed May 28 13:31:54 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed May 28 13:31:58 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <BE55186F-8AB5-442C-8F73-83DF539484C6@wildnevada.org>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>
	<d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
	<BE55186F-8AB5-442C-8F73-83DF539484C6@wildnevada.org>
Message-ID: <9D983B8C-963D-4FFD-AF12-65026A60620E@kyngchaos.com>

On May 28, 2008, at 12:06 PM, John C. Tull wrote:

> I don't know if this is related to linking issues that William has  
> brought up in the past, but it's a possibility. William can provide  
> the best input from the Mac dev side, as far as I know.
>
> Regards,
> John

I can look at it later this evening.  But I don't think it's that  
linking issue.

...

>>> On May 28, 2008, at 8:54 AM, Tim Sutton wrote:
>>>
>>>> Hi Martin
>>>>
>>>> Thanks for doing this change - I think it will be a nice  
>>>> improvement.
>>>> For me I get this error when trying to build on OSX:
>>>>
>>>> [ 72%] Built target python
>>>> Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
>>>> [ 74%] Built target qgis_help
>>>> Linking CXX shared library libqgispython.dylib
>>>> ld: Undefined symbols:
>>>> __ZN14QgsApplication11pkgDataPathEv
>>>> __ZN14QgsApplication19qgisSettingsDirPathEv
>>>> __ZN16QgsMessageOutput19createMessageOutputEv
>>>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>>>> ld: Undefined symbols:
>>>> __ZN14QgsApplication11pkgDataPathEv
>>>> __ZN14QgsApplication19qgisSettingsDirPathEv
>>>> __ZN16QgsMessageOutput19createMessageOutputEv
>>>> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
>>>> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/libtool: internal link  
>>>> edit
>>>> command failed
>>>> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/libtool: internal link
>>>> edit command failed
>>>> lipo: can't figure out the architecture type of: /var/tmp// 
>>>> cc9EZSsS.out
>>>> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
>>>> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
>>>> make: *** [all] Error 2
>>>>
>>>> Regards
>>>>
>>>> Tim

One thought is if libqgispython is not linked normally into the Qgis  
app, but loaded dynamically more like a plugin, it should then have an  
-undefined dynamic_lookup flag, for any functions it expects to get  
from the main Qgis libs.

The cmake config probably doesn't do this for a "normal" library, but  
does for a plugin library.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

The equator is so long, it could encircle the earth completely once.

From jef at norbit.de  Wed May 28 17:40:44 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed May 28 17:40:49 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>
	<d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
Message-ID: <20080528214044.GB9557@norbit.de>

Hi Tim,

On Wed, 28. May 2008 at 13:45:21 -0300, Tim Sutton wrote:
> I tested under Ubuntu with r8535 and everything builds fine so it
> seems mac specific.
> >
> > [ 67%] Building CXX object
> > src/python/CMakeFiles/qgispython.dir/qgspythonutilsimpl.o
> > Linking CXX shared library libqgispython.dylib
> > Undefined symbols:
> >  "QgsApplication::pkgDataPath()", referenced from:
> >      QgsPythonUtilsImpl::pythonPath()       in qgspythonutilsimpl.o
> >  "QgsMessageOutput::createMessageOutput()", referenced from:
> >      QgsPythonUtilsImpl::runString(QString const&, QString)in

Same happens on Windows.  Looks like python plugin needs qgis_core.
Should be fixed in r8236.

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From john.tull at wildnevada.org  Wed May 28 17:47:16 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed May 28 17:47:22 2008
Subject: [Qgis-developer] Mac build error
Message-ID: <9175B923-74DC-4C7E-A06F-B18953D9E1AF@wildnevada.org>

Tim,

I noticed I am getting errors on the wfs plugin on OS X. I did not  
notice this earlier today, but was not observing the make output  
either. Were you coding on this today?

John

Scanning dependencies of target wfsplugin
[ 59%] Building CXX object src/plugins/gps_importer/CMakeFiles/ 
gpsimporterplugin.dir/moc_qgsgpsplugingui.o
[ 59%] Building CXX object src/plugins/wfs/CMakeFiles/wfsplugin.dir/ 
qgswfsplugin.o
/Users/jctull/sources/qgis/trunk/src/app/../python/qgspythonutils.h: 
36: error: invalid function declaration
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: In constructor  
?QgisApp::QgisApp(QSplashScreen*, QWidget*, Qt::WFlags)?:
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:376: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:388: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: In destructor  
?virtual QgisApp::~QgisApp()?:
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:471: warning:  
possible problem detected in invocation of delete operator:
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:471: warning:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: warning:  
forward declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:471: note:  
neither the destructor nor the class-specific operator delete will be  
called, even if they are declared when the class is defined.
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: In member  
function ?void QgisApp::showPythonDialog()?:
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:894: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: In member  
function ?void QgisApp::restoreSessionPlugins(QString)?:
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:1733: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:1737: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:1744: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:1749: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:1752: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:1754: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: In member  
function ?void QgisApp::loadPythonPlugin(QString, QString)?:
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:3910: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:3923: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp:3924: error:  
invalid use of undefined type ?struct QgsPythonUtils?
/Users/jctull/sources/qgis/trunk/src/app/qgisapp.h:53: error: forward  
declaration of ?struct QgsPythonUtils?
make[2]: *** [src/app/CMakeFiles/qgis.dir/qgisapp.o] Error 1
make[1]: *** [src/app/CMakeFiles/qgis.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[ 59%] Generating gui/gui.so
make[3]: warning: jobserver unavailable: using -j1.  Add `+' to parent  
make rule.
[ 59%] Building CXX object src/plugins/gps_importer/CMakeFiles/ 
gpsimporterplugin.dir/moc_qgsgpsdevicedialog.o
[ 59%] Building CXX object src/plugins/gps_importer/CMakeFiles/ 
gpsimporterplugin.dir/qrc_qgsgps_plugin.o
[ 59%] Building CXX object src/plugins/wfs/CMakeFiles/wfsplugin.dir/ 
qgswfssourceselect.o
Linking CXX shared module libgpsimporterplugin.so
[ 59%] Built target gpsimporterplugin
[ 60%] Building CXX object src/plugins/wfs/CMakeFiles/wfsplugin.dir/__/ 
__/__/__/src/app/qgsnewhttpconnection.o
[ 60%] Building CXX object src/plugins/wfs/CMakeFiles/wfsplugin.dir/ 
moc_qgswfsplugin.o
[ 60%] Building CXX object src/plugins/wfs/CMakeFiles/wfsplugin.dir/ 
moc_qgswfssourceselect.o
[ 60%] Building CXX object src/plugins/wfs/CMakeFiles/wfsplugin.dir/ 
moc_qgsnewhttpconnection.o
[ 60%] Building CXX object src/plugins/wfs/CMakeFiles/wfsplugin.dir/ 
qrc_wfsplugin.o
Linking CXX shared module libwfsplugin.so
[ 60%] Built target wfsplugin
sipcoreQgsLabelAttributes.cpp: In function ?PyObject*  
meth_QgsLabelAttributes_bufferColor(PyObject*, PyObject*)?:
sipcoreQgsLabelAttributes.cpp:1274: warning: taking address of temporary
[ 61%] Built target python
make: *** [all] Error 2

From john.tull at wildnevada.org  Wed May 28 17:48:47 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed May 28 17:48:52 2008
Subject: [Qgis-developer] Mac build error
Message-ID: <F95D26BD-97B3-4F69-9689-6CDBAF54821A@wildnevada.org>

Sorry, this was with rev 8538.

John
From john.tull at wildnevada.org  Wed May 28 18:04:07 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed May 28 18:04:11 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
Message-ID: <812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>

With some patches from Jurgen, it is now building. Unfortunately,  
python is disabled in the running binary that I built.

John

On May 28, 2008, at 8:54 AM, Tim Sutton wrote:

> Hi Martin
>
> Thanks for doing this change - I think it will be a nice improvement.
> For me I get this error when trying to build on OSX:
>
> [ 72%] Built target python
> Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
> [ 74%] Built target qgis_help
> Linking CXX shared library libqgispython.dylib
> ld: Undefined symbols:
> __ZN14QgsApplication11pkgDataPathEv
> __ZN14QgsApplication19qgisSettingsDirPathEv
> __ZN16QgsMessageOutput19createMessageOutputEv
> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
> ld: Undefined symbols:
> __ZN14QgsApplication11pkgDataPathEv
> __ZN14QgsApplication19qgisSettingsDirPathEv
> __ZN16QgsMessageOutput19createMessageOutputEv
> __ZN9QgsLogger5debugERK7QStringiPKcS4_i
> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/libtool: internal link edit
> command failed
> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/libtool: internal link
> edit command failed
> lipo: can't figure out the architecture type of: /var/tmp// 
> cc9EZSsS.out
> make[2]: *** [src/python/libqgispython.0.11.dylib] Error 1
> make[1]: *** [src/python/CMakeFiles/qgispython.dir/all] Error 2
> make: *** [all] Error 2
>
> Regards
>
> Tim
>
> 2008/5/28 Martin Dobias <wonder.sk@gmail.com>:
>> Hi all,
>>
>> as you probably know, until now embedding of Python to QGIS was done
>> directly in the QGIS application sources and the support was
>> implemented using conditional #ifdefs. So when building qgis binary,
>> you got it with or without python. This wasn't a very good solution
>> and was doing problems for packagers since there was no easy way to  
>> do
>> optional installation of python support.
>>
>> In my recent commit to trunk (r8530) I've done the embedding in more
>> flexible way. All python support code has been moved to src/python
>> directory and now compiles as "qgispython" library. When QGIS
>> application is started, it checks for the presence of this library  
>> and
>> tries to load it and init python support. If something is wrong, the
>> python support (i.e. python plugins and console) is disabled.
>>
>> I've tested this new approach on my ubuntu box with success, but  
>> other
>> platforms are untested (I could try it on win, but I don't have  
>> access
>> to OS X). So Mac and Win wizards please give it a try to see whether
>> it's working fine there or not. I know that Mac makes difference
>> between shared objects and libraries (MODULE / SHARED option in  
>> CMake)
>> but I have no idea which one to choose there so try changing this
>> first if you encounter some problems.
>>
>> Generally I hope it won't produce any great havoc, but one never  
>> knows
>> :-) If that works fine, you shouldn't notice any change. If that
>> doesn't work fine, nothing python-related will work. Additionally,
>> this change has no impact on python bindings or plugins.
>>
>> Regards,
>> Martin
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Wed May 28 19:20:43 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 28 19:20:45 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <d368056f0805280913m59b64d9dla44c43f8159b0422@mail.gmail.com>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
	<200805262352.22698.borys@wolf.most.org.pl>
	<e8e7199c0805271523k44fe3d84vb217c24e0748eac4@mail.gmail.com>
	<d368056f0805280913m59b64d9dla44c43f8159b0422@mail.gmail.com>
Message-ID: <e8e7199c0805281620s75fe832qa520a27f7735ed20@mail.gmail.com>

On Wed, May 28, 2008 at 6:13 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Martin
>
> Is is broken still for you? I committed a win fix. Let me know if you
> still have issues.

Hi Tim,

thanks, the plugin manager works now.

Martin
From wonder.sk at gmail.com  Wed May 28 19:26:13 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 28 19:26:16 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <20080528214044.GB9557@norbit.de>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<2016606D-14C0-4BB0-AF2A-80E7DE68787A@wildnevada.org>
	<d368056f0805280945q1d22f528ocebb8ef9da86ad01@mail.gmail.com>
	<20080528214044.GB9557@norbit.de>
Message-ID: <e8e7199c0805281626n2ccb4e27u70142513a5a2b29b@mail.gmail.com>

On Wed, May 28, 2008 at 11:40 PM, J?rgen E. Fischer <jef@norbit.de> wrote:
> Hi Tim,
>
> On Wed, 28. May 2008 at 13:45:21 -0300, Tim Sutton wrote:
>> I tested under Ubuntu with r8535 and everything builds fine so it
>> seems mac specific.
>> >
>> > [ 67%] Building CXX object
>> > src/python/CMakeFiles/qgispython.dir/qgspythonutilsimpl.o
>> > Linking CXX shared library libqgispython.dylib
>> > Undefined symbols:
>> >  "QgsApplication::pkgDataPath()", referenced from:
>> >      QgsPythonUtilsImpl::pythonPath()       in qgspythonutilsimpl.o
>> >  "QgsMessageOutput::createMessageOutput()", referenced from:
>> >      QgsPythonUtilsImpl::runString(QString const&, QString)in
>
> Same happens on Windows.  Looks like python plugin needs qgis_core.
> Should be fixed in r8236.

Hi Jef,
thanks for fixing that!

Martin
From wonder.sk at gmail.com  Wed May 28 19:28:09 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed May 28 19:28:12 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
Message-ID: <e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>

On Thu, May 29, 2008 at 12:04 AM, John C. Tull <john.tull@wildnevada.org> wrote:
> With some patches from Jurgen, it is now building. Unfortunately, python is
> disabled in the running binary that I built.

If you build debug version, at some stage during initialization it
shows information about success / failure of loading the qgispython
library and initializing python. Could you check what does it say?

Martin
From borys at wolf.most.org.pl  Wed May 28 20:02:47 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Wed May 28 20:02:54 2008
Subject: [Qgis-developer] the new plugin installer
In-Reply-To: <e8e7199c0805280632w66013aedv1115f76e11afd14d@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805271731.12378.borys@wolf.most.org.pl>
	<e8e7199c0805280632w66013aedv1115f76e11afd14d@mail.gmail.com>
Message-ID: <200805290202.47249.borys@wolf.most.org.pl>

Hi,

The new Installer is working at pre-alpha stage: GUI is dirty, but basic 
duties should work properly. I ask for tests, but first we need some cleaning 
in the repositories!

We have there 43 plugins and in only 17 cases the name in the repository and 
the one inside plugin are the same. Until now it wasn't so important, but now 
we will have to pay more attention to the name and version number, because 
Installer identifies plugins by the name.

I've changed all wrong names and version in the xml files to match to the ones 
in the __init__.py files. However I don't have the keys to the repository ;) 
so I'm asking for applying my changes.

The main repository:

www.bwj.aster.net.pl/temp/pyqgis_plugin.rb

Carson, this one is for you:

www.bwj.aster.net.pl/temp/cfarmerQgisRepo.xml

And Barry, for you:))

www.bwj.aster.net.pl/temp/plugins.xml

Btw. Your update was noticed, so thanks for the first test ;)

I'm going to the field now, so to be continued on Friday. Since that day all 
names and versions will must match :) 

> Yes the categorization can wait. But those rules for plugin developers
> can be created and define some standard categories. Then it's just a
> matter of bugging the plugin devs to update the plugins to meet the
> rules :)

YESSSS... ;)
From john.tull at wildnevada.org  Wed May 28 20:40:57 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed May 28 20:41:01 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
Message-ID: <F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>

On May 28, 2008, at 4:28 PM, Martin Dobias wrote:

> On Thu, May 29, 2008 at 12:04 AM, John C. Tull <john.tull@wildnevada.org 
> > wrote:
>> With some patches from Jurgen, it is now building. Unfortunately,  
>> python is
>> disabled in the running binary that I built.
>
> If you build debug version, at some stage during initialization it
> shows information about success / failure of loading the qgispython
> library and initializing python. Could you check what does it say?
>
> Martin

This is reported:

5/28/08 5:38:10 PM [0x0-0x4d04d].org.qgis.qgis[7306] Debug: /Users/ 
jctull/sources/qgis/trunk/src/app/qgisapp.cpp: 385: (QgisApp) Couldn't  
load Python support library.

John
From tisham at apogee.com.au  Wed May 28 22:33:30 2008
From: tisham at apogee.com.au (Tisham Dhar)
Date: Wed May 28 22:41:44 2008
Subject: [Qgis-developer] Position at Apogee - Programmer with GIS experience
Message-ID: <7FE299E133F3104AA71E94D1850057891A4C0E@APOGEESRV.ApogeeImaging.local>

Job advertisement:

Software Engineer - Spatial Information Systems

Apogee Imaging International has served the Australian community since
1995 with the provision of satellite imagery from Earth Resources
Satellites and airborne SAR imagery. The company has a focus to provide
value-added information products derived from the satellite and airborne
data sources. We are seeking a capable and enthusiastic person to
creatively analyse requirements and specifications for the design of
software in relation to the extraction, visualisation and distribution
of spatial information products.

The applicant must be familiar with object oriented design methodology
and have experience with spatial information systems and concepts.

Apogee is situated at Lobethal in the Adelaide Hills, South Australia.

Please contact Apogee on +61 8 8389 5499 or email nextimage at
apogee.com.au to obtain the job and person specifications.

Applications close Monday 23rd June 2008 at 5.00pm

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road 

 Lobethal SA 5241 

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au> 

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially
privileged. It is intended solely for the addressee. Access to this
e-mail by anyone else is unauthorised. If you are not the
intendedrecipient, any disclosure, copying, distribution or action taken
or omitted to be taken in reliance on it, is prohibited and may be
unlawful."

From sherman at mrcc.com  Wed May 28 23:23:26 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed May 28 23:23:33 2008
Subject: [Qgis-developer] Google Summer of Code Label Enhancement project -
	status
Message-ID: <6DFE0568-CD05-4EE9-8F81-C38111729475@mrcc.com>

The student that was to perform this work has withdrawn. At present  
there are no plans for implementing enhanced labeling of features. If  
you are interested in working on this important issue, let's get a  
discussion going on the list.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From a.ghisla at studenti.uninsubria.it  Thu May 29 04:55:59 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Thu May 29 04:56:14 2008
Subject: [Qgis-developer] Progress page created on QGIS wiki
Message-ID: <1212051359.483e6f9f34f1c@mail.studenti.uninsubria.it>

Hello all, 

to let you follow the progress of my project I created this [1] page on QGIS wiki.
As I received both the gift and the first payment, it's time to speed up the
work on the code!

best regards,

Anne

[1] http://wiki.qgis.org/qgiswiki/GSoC2008Rbinding



From wonder.sk at gmail.com  Thu May 29 07:40:19 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu May 29 07:40:21 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
Message-ID: <e8e7199c0805290440m6769c0d2r2dbb58e043b0bd8c@mail.gmail.com>

On Thu, May 29, 2008 at 2:40 AM, John C. Tull <john.tull@wildnevada.org> wrote:
> On May 28, 2008, at 4:28 PM, Martin Dobias wrote:
>> If you build debug version, at some stage during initialization it
>> shows information about success / failure of loading the qgispython
>> library and initializing python. Could you check what does it say?
>>
>> Martin
>
> This is reported:
>
> 5/28/08 5:38:10 PM [0x0-0x4d04d].org.qgis.qgis[7306] Debug:
> /Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: 385: (QgisApp)
> Couldn't load Python support library.

Ah so when it's already about loading problems of the library I can't
be of much help here - hopefully William or Tom will find out what's
wrong. I suspect there might be problem with ADD_LIBRARY flags in
src/python/CMakeLists.txt. Another point where to take care is that
the qgispython library is loaded with additional flags specified for
QLibrary to force that all symbols from python lib are exported,
otherwise python's not working, see this thread (I had the same
issue):
http://lists.kde.org/?l=pykde&m=117190116820758&w=2

Martin
From wonder.sk at gmail.com  Thu May 29 07:52:55 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu May 29 07:52:57 2008
Subject: [Qgis-developer] Google Summer of Code Label Enhancement project
	- status
In-Reply-To: <6DFE0568-CD05-4EE9-8F81-C38111729475@mrcc.com>
References: <6DFE0568-CD05-4EE9-8F81-C38111729475@mrcc.com>
Message-ID: <e8e7199c0805290452v60238707jf47f3f0665be56@mail.gmail.com>

On Thu, May 29, 2008 at 5:23 AM, Gary Sherman <sherman@mrcc.com> wrote:
> The student that was to perform this work has withdrawn. At present there
> are no plans for implementing enhanced labeling of features. If you are
> interested in working on this important issue, let's get a discussion going
> on the list.

That's a pity.

In case that none is willing to implement this, I'll take this task,
but I can't start design and implementation before October and that's
quite late I guess.

Martin
From john.tull at wildnevada.org  Thu May 29 11:08:20 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu May 29 11:08:24 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <e8e7199c0805290440m6769c0d2r2dbb58e043b0bd8c@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<e8e7199c0805290440m6769c0d2r2dbb58e043b0bd8c@mail.gmail.com>
Message-ID: <06A4B865-475E-4E2F-B47A-EB99230991ED@wildnevada.org>

Thanks Martin. I'll look forward to the Mac dev gurus slogging through  
this one. I think your plan to move python support to a lib is a great  
idea, btw, so this will be worth the current hiccups.

Regards,
John

On May 29, 2008, at 4:40 AM, Martin Dobias wrote:

> On Thu, May 29, 2008 at 2:40 AM, John C. Tull <john.tull@wildnevada.org 
> > wrote:
>> On May 28, 2008, at 4:28 PM, Martin Dobias wrote:
>>> If you build debug version, at some stage during initialization it
>>> shows information about success / failure of loading the qgispython
>>> library and initializing python. Could you check what does it say?
>>>
>>> Martin
>>
>> This is reported:
>>
>> 5/28/08 5:38:10 PM [0x0-0x4d04d].org.qgis.qgis[7306] Debug:
>> /Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: 385: (QgisApp)
>> Couldn't load Python support library.
>
> Ah so when it's already about loading problems of the library I can't
> be of much help here - hopefully William or Tom will find out what's
> wrong. I suspect there might be problem with ADD_LIBRARY flags in
> src/python/CMakeLists.txt. Another point where to take care is that
> the qgispython library is loaded with additional flags specified for
> QLibrary to force that all symbols from python lib are exported,
> otherwise python's not working, see this thread (I had the same
> issue):
> http://lists.kde.org/?l=pykde&m=117190116820758&w=2
>
> Martin

From marco.pasetti at alice.it  Thu May 29 12:03:23 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Thu May 29 12:03:28 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
Message-ID: <B081025DE4F349D8A65A5FF8E422DACF@HPMarco>

Re: R: [Qgis-developer] GRASS Toolbox list view patchHi Tim,

sorry for the delay, I'm very busy here!

When I talked about expand/collapse GRASS Toolbox tree, I mainly meant that it would be better to start the toolbox tree collapsed, instead of expanded, because an expanded tree is too much confusing, IMHO. Actually, adding expand all/collapse all buttons would be a great thing, along with the capability of the toolbox to *remember* the last *tree configuration*: this because I guess that the most users commonly use only few modules, thus that they would prefer to keep some parts of the tree expanded, while other (rarely used) collapsed.

I'm finishing to configure my Vista machine (what a mess! 1 GB of RAM only for the OS, with all the feautures, processes and services reduced to the minimum necessary set!): on the next hours I'll start to build on Vista under the MSYS environment, updating some libraries and adding some other supports (such as OpenSSL, JPEG, OGDI, GML and others...).

This said, when do you think that QGIS will move from tha current MSYS build to the MSVC one?

Regards,

Marco

----- Original Message ----- 
  From: Tim Sutton 
  To: Marco Pasetti 
  Cc: qgis-developer@lists.osgeo.org 
  Sent: Wednesday, May 28, 2008 2:55 AM
  Subject: Re: R: [Qgis-developer] GRASS Toolbox list view patch


  Hi Marco

  Thanks for the feedback. I will try to build under msvc here and see 
  if I can address the issues with the plugin manager. I think Radim 
  specifically expanded the tree in the grass toolbox because you can 
  access each tool with a single click. Perhaps we can add some 
  collapse all / expand all buttons to the toolbox to support both 
  people who prefer it expanded and those who prefer it collapsed. Ill 
  look into this.

  I tested the plugin manager with my msvc build and will commit a fix 
  in a few minutes that should sort out the issue you were having.



  Regards

  Tim


  Em May 26, 2008, ?s 4:52 PM, Marco Pasetti escreveu:

  > Hi Tim,
  >
  > I built the latest svn trunk with your patch on windows (xp for the 
  > moment,
  > on the next days also on Vista)
  >
  > 1. the idea for the grass toolbox is good (I mean the module list 
  > with the
  > run-time type filter/search), but I think that:
  >
  > 1.1. we should start the grass toolbox tree collapsed instead of fully
  > expanded
  > 1.2. the font of the module tiltles should be a little bit smaller
  > 1.3. the module list tab still has some render problems
  > 1.4. I cannot select (that means start) the filtered modules
  >
  > 2. I have big rendering and selecting (check-boxes) problems with 
  > the plugin
  > manager
  >
  > Sorry, I have no such spare time to make deeper analisys :-(
  >
  > All the best
  >
  > Marco
  >
  > -----Messaggio originale-----
  > Da: qgis-developer-bounces@lists.osgeo.org
  > [mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tim 
  > Sutton
  > Inviato: luned? 26 maggio 2008 17.37
  > A: qgis-developer@lists.osgeo.org
  > Oggetto: [Qgis-developer] GRASS Toolbox list view patch
  >
  > Hi Folks
  >
  > Here is my first pass at a grass filtered list view for grass toolbox
  > (attached patch). There are still a few issues:
  >
  >   - checkboxes next to items need to be removed
  >   - filter box below list needs a label
  >   - some funny rendering happens on tab background on start up, 
  > just click
  > to another tab and then back to the list view
  >
  > I've been thinking that it might be better to implement this 'as-
  > well- as'
  > the existing tree view, so that if you want to browse the tools by 
  > heirachy
  > you still can, or if you want to quickly get all the tools that 
  > e.g. work
  > with ascii, you can just type 'ascii' in the filter box and be on 
  > your way.
  >
  > Anyway, will be interesting to get feedback from heavy grass users 
  > is the
  > list box approach makes life easier or not. To apply the patch, go 
  > to the
  > qgis top level dir and do:
  >
  > patch -p0 < grass_detailed_list_patch.diff
  >
  > You need to be using a current svn checkout for it to work properly
  > (r8522 or better).
  >
  > Regards
  >
  >

  Tim Sutton
  QGIS Project Steering Committee Member - Release Manager
  Visit http://qgis.org for a great open source GIS
  openModeller Desktop Developer
  Visit http://openModeller.sf.net for a great open source ecological 
  niche modelling tool
  Home Page: http://tim.linfiniti.com
  Skype: timlinux
  Irc: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080529/d03aea47/attachment.html
From telwertowski at comcast.net  Thu May 29 12:06:53 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Thu May 29 12:07:10 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
Message-ID: <483ED49D.90901@comcast.net>

A full path seems to be needed for QLibrary to find libqgispython on a Mac. I don't know if this is a Qt deficiency but did notice other QLibrary instances are using full paths.

After loading libqgispython, I get "Import error: No module named qgis.core" The Python path included with this message did not contain a path to the Mac qgis bundle. I assume it was looking for share/qgis/python/qgis/core.so

All paths for all components probably need to be checked for the Mac. I may not have time to get through everything for at least a day.

I also had problems building the Mac libqgispython. A quick look at CMakeLists.txt suggests this shouldn't be necessary but I needed to manually add the path to libgeos to the generated Makefiles.

Tom


John C. Tull wrote:
> On May 28, 2008, at 4:28 PM, Martin Dobias wrote:
> 
>> On Thu, May 29, 2008 at 12:04 AM, John C. Tull 
>> <john.tull@wildnevada.org> wrote:
>>> With some patches from Jurgen, it is now building. Unfortunately, 
>>> python is
>>> disabled in the running binary that I built.
>>
>> If you build debug version, at some stage during initialization it
>> shows information about success / failure of loading the qgispython
>> library and initializing python. Could you check what does it say?
>>
>> Martin
> 
> This is reported:
> 
> 5/28/08 5:38:10 PM [0x0-0x4d04d].org.qgis.qgis[7306] Debug: 
> /Users/jctull/sources/qgis/trunk/src/app/qgisapp.cpp: 385: (QgisApp) 
> Couldn't load Python support library.
> 
> John
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From cavallini at faunalia.it  Thu May 29 12:11:06 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu May 29 12:11:24 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
Message-ID: <483ED59A.2010206@faunalia.it>

Marco Pasetti ha scritto:
> Hi Tim,

> -----Messaggio originale-----
> Da: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tim Sutton

> Here is my first pass at a grass filtered list view for grass toolbox
> (attached patch). There are still a few issues:
> 
> I've been thinking that it might be better to implement this 'as-well- as'
> the existing tree view, so that if you want to browse the tools by heirachy
> you still can, or if you want to quickly get all the tools that e.g. work
> with ascii, you can just type 'ascii' in the filter box and be on your way.

I think having the list expanded, with a "Compress all/expand all" 
button would be the best option. Of course filtering is a great thing. 
In my last course, many people spent more time searching for buttons 
than actually doing analyses!
Thanks for working on this!
Also notice that the r.mapcalculator window is too large for many 
screens, so the windows becomes unusable. Better start with only two 
layers selected, and add a +- couple of buttons as it is now in r.buffer.
Perhaps Leonardo can take care of this?
All the best.
pc
From cavallini at faunalia.it  Thu May 29 12:20:52 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu May 29 12:21:08 2008
Subject: AW: [Qgis-developer] python geoprocessing trouble
In-Reply-To: <H00002eb02c41d04.1211782662.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb02c41d04.1211782662.srsofaioi6145.ktso.ch@MHS>
Message-ID: <483ED7E4.2050709@faunalia.it>

D?ster Horst ha scritto:
> Paolo
> 
>>makeDifference
>>  if fet.geometry().wkbSize() > 0:
>>AttributeError: 'NoneType' object has no attribute 'wkbSize'
> 
> Please send the data you tried to process to me. Which type of data you 
> are work with? Shape, PostGIS, GML .... Does the error arises at all 
> geoporcessing methods?
> 
> Sometimes the mentioned error occours when the input data are non valid 
> or GEOS produces non valid geometries during the geoprocessing process. 
> The best for me is to test with the origonal data.
> 
> Regards
> Horst

Sorry Horst for not having repied sooner: I was busy with the course 
full day.
The problem happened only to a few users on some files, so it may well 
be related to topological errors in specific files.
I have asked the students to send me the files, but I cannot guarantee 
they will do it.
If it is a serious error, it will appear again. In the meantime, perhaps 
better to trap it and send the user a more meaningful message like 
"Possibly your input file has topological errors - try to check and send 
a sample (small) failing file to xxx@xxx.xxx"?
All the best.
pc
From lami at faunalia.it  Thu May 29 12:30:21 2008
From: lami at faunalia.it (lami@faunalia.it)
Date: Thu May 29 12:30:23 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <483ED59A.2010206@faunalia.it>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
	<483ED59A.2010206@faunalia.it>
Message-ID: <42441.90.131.248.58.1212078621.squirrel@www.faunalia.it>

> Marco Pasetti ha scritto:
>> Hi Tim,
>
>> -----Messaggio originale-----
>> Da: qgis-developer-bounces@lists.osgeo.org
>> [mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tim Sutton
>
>> Here is my first pass at a grass filtered list view for grass toolbox
>> (attached patch). There are still a few issues:
>>
>> I've been thinking that it might be better to implement this 'as-well-
>> as'
>> the existing tree view, so that if you want to browse the tools by
>> heirachy
>> you still can, or if you want to quickly get all the tools that e.g.
>> work
>> with ascii, you can just type 'ascii' in the filter box and be on your
>> way.
>
> I think having the list expanded, with a "Compress all/expand all"
> button would be the best option. Of course filtering is a great thing.
> In my last course, many people spent more time searching for buttons
> than actually doing analyses!
> Thanks for working on this!
> Also notice that the r.mapcalculator window is too large for many
> screens, so the windows becomes unusable. Better start with only two
> layers selected, and add a +- couple of buttons as it is now in r.buffer.
> Perhaps Leonardo can take care of this?
> All the best.
> pc
>
>

My compliments to Tim flor the new setup of tge GRASS tools
I will look for the change in r.mapcalculator.

Regards
Leonardo



From john.tull at wildnevada.org  Thu May 29 16:18:24 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu May 29 16:18:30 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <200805271942.41028.mauricio.dev@gmail.com>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805271942.41028.mauricio.dev@gmail.com>
Message-ID: <6D275119-E83A-4A48-A12D-6CE15FCECEDE@wildnevada.org>

I get the same error on OS X, but the suggested change to line 81 did  
not fix this for me.

John

On May 27, 2008, at 3:42 PM, Mauricio de Paulo wrote:

> Hi everybody,
> I was working with mapserver exporter and ran into a problem with  
> the error
> message at the end of this mail.
> After a little debug i found out that the code was passing a QString  
> instead
> of a python string when reading the filename from the dialog. This  
> is a
> regular source of bug as some classes don't understand QStrings very  
> well,
> even though they do work a lot like python strings.
> After the change on mapserverexport.py on line 81:
> exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()),
> str(self.dlg.ui.txtMapFilePath.text()))
>
> I don't know exactly if only my python and pyqt versions require  
> this but it
> fixed the problem for me. I think it's a good idea to NEVER work with
> QString, just with python strings for compatibility purposes.
>
> versions:
> Python 2.5.2
> PyQt4.QtCore.qVersion() '4.3.4'
> qgis 0.10.0
> Ubuntu 8.10
>
> Thanks for the good work with Mapserver Export Plugin. I've been  
> working with
> it for 2 years now and it fills a great gap in the mapfile production.
>
> Maur?cio de Paulo
>
> An error has occured while executing Python code:
> Traceback (most recent call last):
> File "/home/vatto/.qgis//python/plugins/mapserver_export/ 
> mapserverexport.py",
> line 81, in run
>  exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(),
> self.dlg.ui.txtMapFilePath.text())
> File "/home/vatto/.qgis//python/plugins/mapserver_export/ 
> ms_export.py", line
> 37, in __init__
>  self.qgs = minidom.parse(projectFile)
> File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
>  return expatbuilder.parse(file)
> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in parse
>  result = builder.parseFile(file)
> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in  
> parseFile
>  buffer = file.read(16*1024)
> AttributeError: read
>
> W
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From mauricio.dev at gmail.com  Thu May 29 18:38:52 2008
From: mauricio.dev at gmail.com (Mauricio de Paulo)
Date: Thu May 29 18:39:14 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <6D275119-E83A-4A48-A12D-6CE15FCECEDE@wildnevada.org>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805271942.41028.mauricio.dev@gmail.com>
	<6D275119-E83A-4A48-A12D-6CE15FCECEDE@wildnevada.org>
Message-ID: <200805291938.52709.mauricio.dev@gmail.com>

Please, can you test this mapserverexport update? I've written the str() 
function on every qwidget that might need the type cast. And i did some other 
fix that i don't remember (hum... i think that it was the exporter wrong 
layers' ordering)
Hope it works.
See ya.
Maur?cio de Paulo

On Thursday 29 May 2008 17:18:24 John C. Tull wrote:
> I get the same error on OS X, but the suggested change to line 81 did
> not fix this for me.
>
> John
>
> On May 27, 2008, at 3:42 PM, Mauricio de Paulo wrote:
> > Hi everybody,
> > I was working with mapserver exporter and ran into a problem with
> > the error
> > message at the end of this mail.
> > After a little debug i found out that the code was passing a QString
> > instead
> > of a python string when reading the filename from the dialog. This
> > is a
> > regular source of bug as some classes don't understand QStrings very
> > well,
> > even though they do work a lot like python strings.
> > After the change on mapserverexport.py on line 81:
> > exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()),
> > str(self.dlg.ui.txtMapFilePath.text()))
> >
> > I don't know exactly if only my python and pyqt versions require
> > this but it
> > fixed the problem for me. I think it's a good idea to NEVER work with
> > QString, just with python strings for compatibility purposes.
> >
> > versions:
> > Python 2.5.2
> > PyQt4.QtCore.qVersion() '4.3.4'
> > qgis 0.10.0
> > Ubuntu 8.10
> >
> > Thanks for the good work with Mapserver Export Plugin. I've been
> > working with
> > it for 2 years now and it fills a great gap in the mapfile production.
> >
> > Maur?cio de Paulo
> >
> > An error has occured while executing Python code:
> > Traceback (most recent call last):
> > File "/home/vatto/.qgis//python/plugins/mapserver_export/
> > mapserverexport.py",
> > line 81, in run
> >  exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(),
> > self.dlg.ui.txtMapFilePath.text())
> > File "/home/vatto/.qgis//python/plugins/mapserver_export/
> > ms_export.py", line
> > 37, in __init__
> >  self.qgs = minidom.parse(projectFile)
> > File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
> >  return expatbuilder.parse(file)
> > File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in parse
> >  result = builder.parseFile(file)
> > File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in
> > parseFile
> >  buffer = file.read(16*1024)
> > AttributeError: read
> >
> > W
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
A non-text attachment was scrubbed...
Name: mapserverexport.py
Type: application/x-python
Size: 6695 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080529/4c685588/mapserverexport.bin
From john.tull at wildnevada.org  Thu May 29 19:06:27 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu May 29 19:06:32 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <200805291938.52709.mauricio.dev@gmail.com>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805271942.41028.mauricio.dev@gmail.com>
	<6D275119-E83A-4A48-A12D-6CE15FCECEDE@wildnevada.org>
	<200805291938.52709.mauricio.dev@gmail.com>
Message-ID: <FA09F4A3-247A-4A55-BDE1-E63C939D7B28@wildnevada.org>

Mauricio,

I get the following error now, but this may be related to some layers  
with no names because a partial file is being written. Let me play  
some more...

An error has occured while executing Python code:

Traceback (most recent call last):
  File "/Users/jctull/.qgis//python/plugins/mapserver_export/ 
mapserverexport.py", line 94, in run
   result = exporter.writeMapFile()
  File "/Users/jctull/.qgis//python/plugins/mapserver_export/ 
ms_export.py", line 101, in writeMapFile
   self.writeMapLayers()
  File "/Users/jctull/.qgis//python/plugins/mapserver_export/ 
ms_export.py", line 283, in writeMapLayers
   self.outFile.write("  NAME '" +  
lyr.getElementsByTagName("layername") 
[0].childNodes[0].nodeValue.encode('utf-8').replace("\"", "") + "'\n")
IndexError: list index out of range

Ok, this is because there were some layers (rasters) that had no name.  
When I drag and drop rasters, they come in with no name, but I place  
them in a group folder, so never change them. This led to the above  
problem.

John

On May 29, 2008, at 3:38 PM, Mauricio de Paulo wrote:

> Please, can you test this mapserverexport update? I've written the  
> str()
> function on every qwidget that might need the type cast. And i did  
> some other
> fix that i don't remember (hum... i think that it was the exporter  
> wrong
> layers' ordering)
> Hope it works.
> See ya.
> Maur?cio de Paulo
>
> On Thursday 29 May 2008 17:18:24 John C. Tull wrote:
>> I get the same error on OS X, but the suggested change to line 81 did
>> not fix this for me.
>>
>> John
>>
>> On May 27, 2008, at 3:42 PM, Mauricio de Paulo wrote:
>>> Hi everybody,
>>> I was working with mapserver exporter and ran into a problem with
>>> the error
>>> message at the end of this mail.
>>> After a little debug i found out that the code was passing a QString
>>> instead
>>> of a python string when reading the filename from the dialog. This
>>> is a
>>> regular source of bug as some classes don't understand QStrings very
>>> well,
>>> even though they do work a lot like python strings.
>>> After the change on mapserverexport.py on line 81:
>>> exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()),
>>> str(self.dlg.ui.txtMapFilePath.text()))
>>>
>>> I don't know exactly if only my python and pyqt versions require
>>> this but it
>>> fixed the problem for me. I think it's a good idea to NEVER work  
>>> with
>>> QString, just with python strings for compatibility purposes.
>>>
>>> versions:
>>> Python 2.5.2
>>> PyQt4.QtCore.qVersion() '4.3.4'
>>> qgis 0.10.0
>>> Ubuntu 8.10
>>>
>>> Thanks for the good work with Mapserver Export Plugin. I've been
>>> working with
>>> it for 2 years now and it fills a great gap in the mapfile  
>>> production.
>>>
>>> Maur?cio de Paulo
>>>
>>> An error has occured while executing Python code:
>>> Traceback (most recent call last):
>>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
>>> mapserverexport.py",
>>> line 81, in run
>>> exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(),
>>> self.dlg.ui.txtMapFilePath.text())
>>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
>>> ms_export.py", line
>>> 37, in __init__
>>> self.qgs = minidom.parse(projectFile)
>>> File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
>>> return expatbuilder.parse(file)
>>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in  
>>> parse
>>> result = builder.parseFile(file)
>>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in
>>> parseFile
>>> buffer = file.read(16*1024)
>>> AttributeError: read
>>>
>>> W
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> <mapserverexport.py>

From cfarmer at uvic.ca  Fri May 30 02:24:50 2008
From: cfarmer at uvic.ca (cfarmer)
Date: Fri May 30 02:24:53 2008
Subject: [Qgis-developer] addAttributes case sensitive?
In-Reply-To: <6D275119-E83A-4A48-A12D-6CE15FCECEDE@wildnevada.org>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805271942.41028.mauricio.dev@gmail.com>
	<6D275119-E83A-4A48-A12D-6CE15FCECEDE@wildnevada.org>
Message-ID: <54469.142.104.193.193.1212128690.squirrel@wm3.uvic.ca>

Hello list,

Does anyone know how addAttributes on a QgsFeature defines which field to
populate? As far as I can tell, I should have to specify an index, and the
attribute that I am trying to add, however, if I have two fields that have
the same name with different cases (i.e. one field says "Ycoor" and
another says 'YCOOR', even if I specify the index of 'YCOOR', values are
written to 'Ycoor'.

So in short, why does field name matter in this case? Or am I doing
something completely wrong:

fieldList #pre-existing field list obtained from QgsProvider.fields()
field = QgsField("YCOOR", QVariant.Double, "double", 24, 16, "Polygon area")
index1 = len(fieldList.keys())
fieldList[index1] = field

#then later on, when setting the attributes of an output feature...
#Set new attributes equal to attributes of currently existing feature...
outFeat.setAttributeMap(atMap)
#Now add on the new attribute...
outFeat.addAttribute(index1, QVariant(attr1))

Note: The currently existing attributes have a field named 'Ycoor'. The
new field being added is called 'YCOOR'. Using the above code, 'Ycoor' is
(re)populated, and 'YCOOR' is left blank?

Any suggestions welcomed!

C


From tutey at o2.pl  Fri May 30 07:51:43 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri May 30 07:51:40 2008
Subject: [Qgis-developer] qgis-grass crash
In-Reply-To: <4832CB69.4090301@faunalia.it>
References: <48308E1B.7070102@faunalia.it> <4831B64E.6010308@faunalia.it>
	<4832CB69.4090301@faunalia.it>
Message-ID: <483FEA4F.5050102@o2.pl>

Paolo Cavallini pisze:

> I think we caught the bug, thanks to frankie (Lovergine): in
> LOCALE=it_IT, points are replaced with commas in the description of
> projections, thus qgis does not understand the projections, and grass
> plugin crashes.

Another functionality affected - cannot open GRASS mapset in PL locale:

Cannot read current region: is invalid
line 16: <e-w resol3: 3.9998834>

(We use comma for dec. delimiter in Poland, too.)

Moreover QGIS locks this mapset even though it cannot open it.

> exopting LANG=C solves the problem, but obviously this should be corrected.
> I suggest releasing a 0.10.1 when done.
> All the best, and tahnks to jef and niccolo for help.

Maciek

-- 
Maciej Sieczka
www.sieczka.org

From Horst.Duester at bd.so.ch  Fri May 30 08:32:10 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Fri May 30 08:32:16 2008
Subject: [Qgis-developer] python geoprocessing
Message-ID: <H00002eb02cbdccd.1212150730.srsofaioi6145.ktso.ch@MHS>

I just published version 0.40 of my geoprocessing plugin at the PyQgis
plugin repository. With this plugin you will get the ability to check
your installed version vs the published repository version. I took some
code snippets from Carsons manageR plugin. The major change to Carsons
approach, I took QtXML to read the repsository XML due to segmentation
faults of minidom on my system. I don't know the reason!! 
 
Further I catch some more exceptions to avoid the horrible python error
messages ;-). Paolo thanks for the hints.
 
I'll hope you will enjoy the new release.
 
Regards
Horst

------------------------------------------------ 

Dr. Horst D?ster 
GIS-Koordinator, Stv. Amtschef 

Kanton Solothurn 
Bau- und Justizdepartement 
Amt f?r Geoinformation 
SO!GIS Koordination 
R?tistrasse 4 
CH-4501 Solothurn 

Telefon ++41(0)32 627 25 32 
Telefax ++41(0)32 627 22 14 

mailto:horst.duester@bd.so.ch 
http://www.agi.so.ch 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080530/a7c884b7/attachment-0001.html
From tim at linfiniti.com  Wed May 28 15:32:27 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 10:17:49 2008
Subject: [Qgis-developer] New plugins: profiles and table management
In-Reply-To: <200805262338.40473.borys@wolf.most.org.pl>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl>
Message-ID: <3777965C-FB61-48D3-BB73-8C7BC7B95A76@linfiniti.com>

Hi

Any icons that are in QGIS you are most welcome to use. SOme of the  
icons I also derived from kde / open clipart project / inkscape  
project so I really need to figure out how to give those proper  
attribution too.

Regards

Tim

Em May 26, 2008, ?s 6:38 PM, Borys Jurgiel escreveu:

> Ladies and Gentlemans,
>
> Sorry I was so quiet last days, but I was writting a few plugins. A  
> first
> three of them are already usable, so I ask you to testing :) Since  
> my English
> is rather poor, also any language fixes will be priceless...
>
> Path to the repository:
>
> http://www.bwj.aster.net.pl/qgis/plugins.xml
>
> and to the little description:
>
> http://www.bwj.aster.net.pl/qgis/
>
> I hope you will like they. Also I have two questions:
>
> 1) "Point profile - The tool for collecting polygon attributes from  
> multiple
> layers at specified sampling points". I'm not sure if is this name and
> description obvious? Mabye there is better word for describe this  
> function
> already?
>
> 2) License problem. I used a few icons from QGIS main interface and  
> two ones
> from a KDE theme, published under LGPL license. Do I have to  
> mention about
> their origin? And can I use LGPL-licensed icons in the GPL-licensed  
> program?
> Maybe the easiest way is to paint similar ones myself?
>
> Now I'm getting down to the Plugin Installer/updater. Sorry I  
> didn't answer
> yet!
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed May 28 15:51:40 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 10:18:19 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl>
	<483B3E50.9040303@uvic.ca>
	<e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>
Message-ID: <9024487C-4B55-4F75-BBE3-43BF062FAD84@linfiniti.com>

Hi

I wonder if it would be feasible to make another control that fetches  
a list of repos from a central page (even parsing out the wiki page  
could work) and then once you have selected  a repository, it will  
fetch a list of available plugins from that repo. I was trying to add  
Carsons famous manageR plugin to qgis today and didnt know where to  
find it (I didnt have time to do a search for it on wiki etc) and it  
sure would be nice to be able to serenipitously find plugins beyond  
the official qgis repo but from within the plugin manager. Of course  
there may be bad security implications to this and at some stage we  
should contemplate this a bit more deeply - installing a python  
plugin means you are essentially downloading and running arbitary  
code and running it with all your user credentials which could be a  
very bad thing indeed security wise...

Regards

Tim


Em May 27, 2008, ?s 7:35 AM, Martin Dobias escreveu:

> On Tue, May 27, 2008 at 12:48 AM, Carson Farmer <cfarmer@uvic.ca>  
> wrote:
>> Hello QGIS Python Plugin Developers,
>>
>> It has come to my attention that there are quite a few of us  
>> plugging away
>> at various plugins (yes that was a bit of a pun ;) ). It has also  
>> occurred
>> to me that many of us are probably working on very similar  
>> plugins, and that
>> we are probably duplicating development efforts! So, I suggest we  
>> try to
>> maintain some sort of list where we can keep each other up-to-date  
>> on what
>> we are working on, what we are having trouble with, etc. This  
>> would also
>> give people an opportunity to integrate plugin development  
>> efforts, and get
>> help on specific problems etc. The PythonPluginsIdeas wiki page 
>> [1], is
>> already setup to do this, so perhaps we should make a conscious  
>> effort to
>> use it.
>>
>> [1] http://wiki.qgis.org/qgiswiki/PythonPluginIdeas
>
> I've added a page summarizing known plugin repositories - useful for
> both users seeking for plugins and developers seeking for code samples
> or ideas:
> http://wiki.qgis.org/qgiswiki/PluginRepositories
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed May 28 16:01:19 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 10:18:56 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <200805271942.41028.mauricio.dev@gmail.com>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805271942.41028.mauricio.dev@gmail.com>
Message-ID: <A4E25DAC-5991-41E9-BD64-8D4EB80B7DD9@linfiniti.com>

Hi

I didnt see any other reply to this message so I had a look, but it  
kooks like your change is already in trunk now.

Regards

Tim
Em May 27, 2008, ?s 7:42 PM, Mauricio de Paulo escreveu:

> Hi everybody,
> I was working with mapserver exporter and ran into a problem with  
> the error
> message at the end of this mail.
> After a little debug i found out that the code was passing a  
> QString instead
> of a python string when reading the filename from the dialog. This  
> is a
> regular source of bug as some classes don't understand QStrings  
> very well,
> even though they do work a lot like python strings.
> After the change on mapserverexport.py on line 81:
> exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()),
> str(self.dlg.ui.txtMapFilePath.text()))
>
> I don't know exactly if only my python and pyqt versions require  
> this but it
> fixed the problem for me. I think it's a good idea to NEVER work with
> QString, just with python strings for compatibility purposes.
>
> versions:
> Python 2.5.2
> PyQt4.QtCore.qVersion() '4.3.4'
> qgis 0.10.0
> Ubuntu 8.10
>
> Thanks for the good work with Mapserver Export Plugin. I've been  
> working with
> it for 2 years now and it fills a great gap in the mapfile production.
>
> Maur?cio de Paulo
>
> An error has occured while executing Python code:
> Traceback (most recent call last):
>  File "/home/vatto/.qgis//python/plugins/mapserver_export/ 
> mapserverexport.py",
> line 81, in run
>   exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(),
> self.dlg.ui.txtMapFilePath.text())
>  File "/home/vatto/.qgis//python/plugins/mapserver_export/ 
> ms_export.py", line
> 37, in __init__
>   self.qgs = minidom.parse(projectFile)
>  File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
>   return expatbuilder.parse(file)
>  File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in parse
>   result = builder.parseFile(file)
>  File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in  
> parseFile
>   buffer = file.read(16*1024)
> AttributeError: read
>
> W
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed May 28 17:25:52 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 10:19:43 2008
Subject: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
In-Reply-To: <e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
	<e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>
Message-ID: <1E89D75A-A6CC-47F3-A06B-0ADF8A38A55B@linfiniti.com>

Hi


Em May 28, 2008, ?s 10:24 AM, Martin Dobias escreveu:

> Hi Tim
>
> On Mon, May 26, 2008 at 5:23 PM, Tim Sutton <tim@linfiniti.com> wrote:
>>
>> It would be great to get a heads up on what others are working on  
>> so we can
>> start planning for press releases etc. Going by June 30 as a  
>> target release
>> date, I proposed the following dates for the release:
>>
>> June  9 - Feature freeze - bug fixing only from here on forward
>> June 16 - String freeze and call for translations
>> June 23 - Branch for release & call for packaging
>> June 30 - Unleash Metis on the world...
>>
>> Does that work ok for everyone?
>
> Looks fine for me. My further plans are to add dependency checking for
> python plugins (if I'll be able to get it ready on time)
>
>> I suggest Jef put his code formatting stuff through just before we  
>> do branch
>> for release so that there is no active work going on in trunk -  
>> though this
>> may impact people working out in branches so is it maybe better to  
>> wait for
>> just before 1.0 before Jef puts the formatting updates in?
>
> Better to wait and apply it before 1.0.

Right I think this is about the general consensus. Jef will you hold  
on on this until just before 1.0 is released?

>
>> Following the above plan, we will have another 1.5 months until  
>> August 15 -
>> the planned release date for QGIS 1.0. So ideally 0.11.0 is the  
>> last chance
>> to get those last minute features in, and with the exception of  
>> labelling,
>> composer and raster catalogues, no new features should be going  
>> into trunk
>> post 0.11.0 release.
>
> Btw. any news from the GSoC student regarding the map labeling  
> implementation?

Gary is mentoring the student and so can probably give more info. It  
would be great to pass along any hints you have - I remember you had  
some interedsting papers describing efficient approaches to  
labelling. AFAIK the student is planning to have the labelling done  
at around the same time as 1.0 release.

>
>> I'm anticipating a 1.0.1 release if possible in time for  
>> FOSS4G2008 (late
>> Sept) which will be purely bug fixing for anything we missed in  
>> 1.0 release.
>
> What about further roadmap?

I think the last time we discussed this, the general concensus was  
that we would put all our focus into 1.0 for now and after 1.0 goes  
out, have a period of planning for 2.0. I would hope that we can  
limit the features to what we can achieve over the course of 1 year  
or so, with a couple of preview releases during that time.

> Schedule of 1.x versions?

During the same period as 2.0 development we should aim to keep our  
more or less 2 month cycle running with bug fix releases to QGIS 1.0.  
In my opinion we should try to identify an official maintainer for  
1.0 (like the Linux kernel folks do for each release).

> Are we going to
> maintain stable ABI?

I'm not experienced with the in's and outs of what is required to  
maintain ABI compatibility within a C++ / Qt project. Could you point  
to any good resource on this.

> API?

My feeling is that we should maintain API compatibility for the 1.x  
lifecycle so that poor plugin etc developers dont need to work  
against a moving target any more.

> Some plans for 2.0?

Well there are certain things I would like to see introduced in 2.0:

- decent line symbolisation
- google spatial search api integration
- compostion, prerender, render in threads and render caching
- start introducing analytical functions into core C++ code


I cant speak for others, who no doubt have their own ideas about what  
they would like to see.

> The problem I see often is that we just know where we are but we're
> missing some direction and vision... There are always just very
> short-time release plans. I have in my mind some greater changes
> (geometry refactor, plugins/providers enhancements, vector handling
> enhancements) but I don't get idea when to do them.

I dont agree with the first part of your statement so much. Gary had  
a clear set of features defined for version 1.0 for many years I  
think. I agree that version 2.0 is not well defined, but I think this  
was a conscious choice more than an oversight, since it became very  
apparent that version 1.0 would never get out unless we focus  
strongly on it and resist the temptation to spend time on 2.0 until  
1.0 is out the door. Once 1.0 is release I beleive the idea was that  
we would go through a planning period to map out what needs to be  
done for 2.0. That said Im certain there would be no harm in e.g.  
starting up a wiki page to brain dump ideas for things to go into  
2.0. My other feeling for 2.0 is that we should be free to break ABI/ 
API compatibility so that we can be free to make radical revisions if  
the need arises. As to your specific items above my feeling is that  
we should be avoiding as much as possible anything that isnt actively  
moving the 1.0 forward to a release ready state. I cant tell from the  
items you mention whether this is the case or not for your ideas  
above, and probably Marco is the guy to consult in this regard.

>
>> We also need to finalise our Hack fest - can we set a final date  
>> etc over
>> the next week Paolo? Its looking like mid-late June is going to  
>> work best
>> for me  since I will be starting a new job in July. I see on the  
>> hackfest
>> page that June is good for some other folks too. Could we firm up  
>> a date for
>> this?
>
> I'm sorry but it looks like I won't be able to participate - June is
> full of exams and visitors and then moving back to Slovakia, from
> mid-July I'm on holidays in India until mid-September. I could
> participate during the autumn...

:-( I was looking forward to getting some hand-standing tips :-P Well  
hopefully we can arrange the next one so that you can attend, or  
perhaps there is some way to get you out to SA for FOSS4GEO2008,  
where a number of other QGISsers will be attending too.

I must say it is really cool to see how much the python work you have  
done has spawned a developer community of its own. I was actually  
wondering if we shouldnt start a qgis-python mailing list since it  
seems to be an area of QGIS with a life of its own...

Regards

Tim



>
> Cheers
> Martin

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed May 28 21:06:46 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 10:19:56 2008
Subject: [Qgis-developer] Python build errors - MSVC
Message-ID: <749C9282-03C5-4C88-A026-4741C0E258AC@linfiniti.com>

Hi Martin / J?rgen

Any hints on whats causing these python errors on MSVC? I know some  
of the errors relate to some of my code, but I poked around and cant  
figure out why...

Thanks

Tim

------ Build started: Project: qgispython, Configuration:  
RelWithDebInfo Win32 ------
Linking...
    Creating library RelWithDebInfo\qgispython.lib and object  
RelWithDebInfo\qgispython.exp
qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol  
"__declspec(dllimport) public: static void __cdecl QgsLogger::debug 
(class QString const &,int,char const *,char const *,int)" (__imp_? 
debug@QgsLogger@@SAXABVQString@@HPBD1H@Z) referenced in function  
"public: class QString __thiscall QgsPythonUtilsImpl::getTypeAsString 
(struct _object *)" (?getTypeAsString@QgsPythonUtilsImpl@@QAE? 
AVQString@@PAU_object@@@Z)
qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol  
"__declspec(dllimport) public: static class QString const __cdecl  
QgsApplication::pkgDataPath(void)" (__imp_? 
pkgDataPath@QgsApplication@@SA?BVQString@@XZ) referenced in function  
"public: class QString __thiscall QgsPythonUtilsImpl::pythonPath 
(void)" (?pythonPath@QgsPythonUtilsImpl@@QAE?AVQString@@XZ)
qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol  
"__declspec(dllimport) public: static class QString const __cdecl  
QgsApplication::qgisSettingsDirPath(void)" (__imp_? 
qgisSettingsDirPath@QgsApplication@@SA?BVQString@@XZ) referenced in  
function "public: class QString __thiscall  
QgsPythonUtilsImpl::homePluginsPath(void)" (? 
homePluginsPath@QgsPythonUtilsImpl@@QAE?AVQString@@XZ)
qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol  
"__declspec(dllimport) public: static class QgsMessageOutput *  
__cdecl QgsMessageOutput::createMessageOutput(void)" (__imp_? 
createMessageOutput@QgsMessageOutput@@SAPAV1@XZ) referenced in  
function "public: bool __thiscall QgsPythonUtilsImpl::runString(class  
QString const &,class QString)" (? 
runString@QgsPythonUtilsImpl@@QAE_NABVQString@@V2@@Z)
RelWithDebInfo\qgispython.dll : fatal error LNK1120: 4 unresolved  
externals
Build log was saved at "file://c:\dev\cpp\qgis\build\src\python 
\qgispython.dir\RelWithDebInfo\BuildLog.htm"
qgispython - 5 error(s), 0 warning(s)
------ Build started: Project: python, Configuration: RelWithDebInfo  
Win32 ------
Generating gui/gui.pyd
Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
Copyright (C) Microsoft Corporation.  All rights reserved.
  link /NOLOGO /DLL /SUBSYSTEM:WINDOWS /INCREMENTAL:NO /OUT:gui.pyd  
@C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\nm50D.tmp
    Creating library gui.lib and object gui.exp
sipguiQgsMapCanvas.obj : error LNK2019: unresolved external symbol  
"__declspec(dllimport) public: class QgsMapToPixel const * __thiscall  
QgsMapCanvas::getCoordinateTransform(void)" (__imp_? 
getCoordinateTransform@QgsMapCanvas@@QAEPBVQgsMapToPixel@@XZ)  
referenced in function _meth_QgsMapCanvas_getCoordinateTransform
gui.pyd : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio  
8\VC\bin\link.EXE"' : return code '0x460'
Stop.
Project : error PRJ0019: A tool returned an error code from  
"Generating gui/gui.pyd"
Build log was saved at "file://c:\dev\cpp\qgis\build\python\python.dir 
\RelWithDebInfo\BuildLog.htm"
python - 4 error(s), 0 warning(s)
------ Build started: Project: ALL_BUILD, Configuration:  
RelWithDebInfo Win32 ------
"Build all projects"
Build log was saved at "file://c:\dev\cpp\qgis\build\ALL_BUILD.dir 
\RelWithDebInfo\BuildLog.htm"
ALL_BUILD - 0 error(s), 0 warning(s)
========== Build: 2 succeeded, 2 failed, 24 up-to-date, 0 skipped  
==========

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri May 30 11:34:31 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 11:35:50 2008
Subject: [Qgis-developer] [Mac OSX] Build error with CMake 2.6
Message-ID: <C0D205B6-3CE4-4A78-9502-D1B307888B21@linfiniti.com>

Hi Folks

I've been testing out CMake 2.6.0 which recently came out. On mac I  
get everything to build except it croaks at the end with this:

Linking CXX shared module libquickprintplugin.so
[100%] Built target quickprintplugin
/bin/sh: -c: line 1: unexpected EOF while looking for matching ``'
/bin/sh: -c: line 2: syntax error: unexpected end of file
make[2]: *** [src/mac/Contents/CMakeFiles/Info.plist] Error 2
make[1]: *** [src/mac/Contents/CMakeFiles/Info.plist.dir/all] Error 2
make: *** [all] Error 2

It seems it has  problem parsing the bash commands in the src/mac/ 
Contents/CMakeLists.txt. Is this something you are easily able to fix  
Tom? I had a poke at it but all I can figure out is that cmake seems  
to be wrapping the expression in "" or something, but I couldnt  
figure out how to resolve the issue.

Regards

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From borys at wolf.most.org.pl  Fri May 30 11:45:19 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Fri May 30 11:45:52 2008
Subject: [Qgis-developer] python geoprocessing
In-Reply-To: <H00002eb02cbdccd.1212150730.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb02cbdccd.1212150730.srsofaioi6145.ktso.ch@MHS>
Message-ID: <200805301745.19618.borys@wolf.most.org.pl>

Friday 30 of May 2008 14:32:10 D?ster Horst napisa?(a):
> The major change to Carsons approach, I took QtXML to read the repsository 
> XML due to segmentation faults of minidom on my system. I don't know the
> reason!!  

Do you have the same faults in the Plugin Installer? As far I remember, Carson 
has used its code.

From tim at linfiniti.com  Fri May 30 12:25:42 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 12:27:50 2008
Subject: [Qgis-developer] Hackfest 2008
Message-ID: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>

Hi All (and apologies for cross posting)

I send out an email a few days ago regarding release plans for 1.0  
which included some hackfest related info which probably got buried,  
so Im sending this again with a more specific topic.

Basically I would like to know if we can organise the hackfest within  
the month of June 2008. I am starting a new job in July and probably  
wont be available from 1 July on. I see on the hackfest page that  
Marco should be available. What about others? So far potential  
attendees that I know of are:

- Tim
- Marco
- Otto
- Anne Ghisla
- Paolo

I think even if we can just have a small meeting with those listed  
above we could make some good headway (but having more helpers would  
be great). I can be available for a week - even two weeks - and we  
could have it flexible that attendees just attend for the days they  
are available over that period. What do others think? Can we get the  
ball rolling? Who else can attend? Remember you don't need to be a  
programmer - those from the community-team and release-team are most  
welcome to attend as is anyone from the user community who is able to  
come along and spend a few days replicating, closing, updating bugs etc.

Looking forward to seeing this happen!

Regards



Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Fri May 30 12:35:06 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Fri May 30 12:39:11 2008
Subject: [Qgis-developer] AW: [Qgis-community-team] Hackfest 2008
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF84E@EX6.d.ethz.ch>

Hi Tim,

Your suggestion that people can attend the days they are available sounds very good.
Because for most people the agenda already started to fill and it would be hard to find a date that suits everyone.

Which week(s) of June do you plan to be at the hackfest?

Regards,
Marco

-----Urspr?ngliche Nachricht-----
Von: qgis-community-team-bounces@lists.osgeo.org im Auftrag von Tim Sutton
Gesendet: Fr 30.05.2008 18:25
An: qgis-developer@lists.osgeo.org; qgis-psc@lists.osgeo.org; qgis-user; QGIS release team.; qgis-community-team@lists.osgeo.org
Betreff: [Qgis-community-team] Hackfest 2008
 
Hi All (and apologies for cross posting)

I send out an email a few days ago regarding release plans for 1.0  
which included some hackfest related info which probably got buried,  
so Im sending this again with a more specific topic.

Basically I would like to know if we can organise the hackfest within  
the month of June 2008. I am starting a new job in July and probably  
wont be available from 1 July on. I see on the hackfest page that  
Marco should be available. What about others? So far potential  
attendees that I know of are:

- Tim
- Marco
- Otto
- Anne Ghisla
- Paolo

I think even if we can just have a small meeting with those listed  
above we could make some good headway (but having more helpers would  
be great). I can be available for a week - even two weeks - and we  
could have it flexible that attendees just attend for the days they  
are available over that period. What do others think? Can we get the  
ball rolling? Who else can attend? Remember you don't need to be a  
programmer - those from the community-team and release-team are most  
welcome to attend as is anyone from the user community who is able to  
come along and spend a few days replicating, closing, updating bugs etc.

Looking forward to seeing this happen!

Regards



Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

_______________________________________________
Qgis-community-team mailing list
Qgis-community-team@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-community-team

From mauricio.dev at gmail.com  Fri May 30 12:41:52 2008
From: mauricio.dev at gmail.com (Mauricio de Paulo)
Date: Fri May 30 12:42:01 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <FA09F4A3-247A-4A55-BDE1-E63C939D7B28@wildnevada.org>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805291938.52709.mauricio.dev@gmail.com>
	<FA09F4A3-247A-4A55-BDE1-E63C939D7B28@wildnevada.org>
Message-ID: <200805301341.52393.mauricio.dev@gmail.com>

Ok....
I think i know how to fix this. Hum... i'd like to hear from the mapserver 
exporter manteiner if i have permission to alter his code more.
Until now i've been changing my file and sending him the modifications. I wish 
these fixes were implemented on the version available in the repository.
As soon as I get this permission (or some other way of sending him the fixes 
I'll be back to mapserver exporter's bug busting. :D
Maur?cio de Paulo


On Thursday 29 May 2008 20:06:27 John C. Tull wrote:
> Mauricio,
>
> I get the following error now, but this may be related to some layers
> with no names because a partial file is being written. Let me play
> some more...
>
> An error has occured while executing Python code:
>
> Traceback (most recent call last):
>   File "/Users/jctull/.qgis//python/plugins/mapserver_export/
> mapserverexport.py", line 94, in run
>    result = exporter.writeMapFile()
>   File "/Users/jctull/.qgis//python/plugins/mapserver_export/
> ms_export.py", line 101, in writeMapFile
>    self.writeMapLayers()
>   File "/Users/jctull/.qgis//python/plugins/mapserver_export/
> ms_export.py", line 283, in writeMapLayers
>    self.outFile.write("  NAME '" +
> lyr.getElementsByTagName("layername")
> [0].childNodes[0].nodeValue.encode('utf-8').replace("\"", "") + "'\n")
> IndexError: list index out of range
>
> Ok, this is because there were some layers (rasters) that had no name.
> When I drag and drop rasters, they come in with no name, but I place
> them in a group folder, so never change them. This led to the above
> problem.
>
> John
>
> On May 29, 2008, at 3:38 PM, Mauricio de Paulo wrote:
> > Please, can you test this mapserverexport update? I've written the
> > str()
> > function on every qwidget that might need the type cast. And i did
> > some other
> > fix that i don't remember (hum... i think that it was the exporter
> > wrong
> > layers' ordering)
> > Hope it works.
> > See ya.
> > Maur?cio de Paulo
> >
> > On Thursday 29 May 2008 17:18:24 John C. Tull wrote:
> >> I get the same error on OS X, but the suggested change to line 81 did
> >> not fix this for me.
> >>
> >> John
> >>
> >> On May 27, 2008, at 3:42 PM, Mauricio de Paulo wrote:
> >>> Hi everybody,
> >>> I was working with mapserver exporter and ran into a problem with
> >>> the error
> >>> message at the end of this mail.
> >>> After a little debug i found out that the code was passing a QString
> >>> instead
> >>> of a python string when reading the filename from the dialog. This
> >>> is a
> >>> regular source of bug as some classes don't understand QStrings very
> >>> well,
> >>> even though they do work a lot like python strings.
> >>> After the change on mapserverexport.py on line 81:
> >>> exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()),
> >>> str(self.dlg.ui.txtMapFilePath.text()))
> >>>
> >>> I don't know exactly if only my python and pyqt versions require
> >>> this but it
> >>> fixed the problem for me. I think it's a good idea to NEVER work
> >>> with
> >>> QString, just with python strings for compatibility purposes.
> >>>
> >>> versions:
> >>> Python 2.5.2
> >>> PyQt4.QtCore.qVersion() '4.3.4'
> >>> qgis 0.10.0
> >>> Ubuntu 8.10
> >>>
> >>> Thanks for the good work with Mapserver Export Plugin. I've been
> >>> working with
> >>> it for 2 years now and it fills a great gap in the mapfile
> >>> production.
> >>>
> >>> Maur?cio de Paulo
> >>>
> >>> An error has occured while executing Python code:
> >>> Traceback (most recent call last):
> >>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
> >>> mapserverexport.py",
> >>> line 81, in run
> >>> exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(),
> >>> self.dlg.ui.txtMapFilePath.text())
> >>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
> >>> ms_export.py", line
> >>> 37, in __init__
> >>> self.qgs = minidom.parse(projectFile)
> >>> File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
> >>> return expatbuilder.parse(file)
> >>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in
> >>> parse
> >>> result = builder.parseFile(file)
> >>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in
> >>> parseFile
> >>> buffer = file.read(16*1024)
> >>> AttributeError: read
> >>>
> >>> W
> >>> _______________________________________________
> >>> Qgis-developer mailing list
> >>> Qgis-developer@lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > <mapserverexport.py>


From tim at linfiniti.com  Fri May 30 12:45:39 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri May 30 12:45:45 2008
Subject: [Qgis-developer] Re: [Qgis-community-team] Hackfest 2008
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF84E@EX6.d.ethz.ch>
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
	<04DA676AA276F045B32D0F95783D78440AF84E@EX6.d.ethz.ch>
Message-ID: <d368056f0805300945p4ff2bf08m7679116f9d28f416@mail.gmail.com>

Hi

Im pretty flexible, but I was thinking the last two weeks of June.

Regards

Tim

2008/5/30 Hugentobler  Marco <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> Your suggestion that people can attend the days they are available sounds very good.
> Because for most people the agenda already started to fill and it would be hard to find a date that suits everyone.
>
> Which week(s) of June do you plan to be at the hackfest?
>
> Regards,
> Marco
>
> -----Urspr?ngliche Nachricht-----
> Von: qgis-community-team-bounces@lists.osgeo.org im Auftrag von Tim Sutton
> Gesendet: Fr 30.05.2008 18:25
> An: qgis-developer@lists.osgeo.org; qgis-psc@lists.osgeo.org; qgis-user; QGIS release team.; qgis-community-team@lists.osgeo.org
> Betreff: [Qgis-community-team] Hackfest 2008
>
> Hi All (and apologies for cross posting)
>
> I send out an email a few days ago regarding release plans for 1.0
> which included some hackfest related info which probably got buried,
> so Im sending this again with a more specific topic.
>
> Basically I would like to know if we can organise the hackfest within
> the month of June 2008. I am starting a new job in July and probably
> wont be available from 1 July on. I see on the hackfest page that
> Marco should be available. What about others? So far potential
> attendees that I know of are:
>
> - Tim
> - Marco
> - Otto
> - Anne Ghisla
> - Paolo
>
> I think even if we can just have a small meeting with those listed
> above we could make some good headway (but having more helpers would
> be great). I can be available for a week - even two weeks - and we
> could have it flexible that attendees just attend for the days they
> are available over that period. What do others think? Can we get the
> ball rolling? Who else can attend? Remember you don't need to be a
> programmer - those from the community-team and release-team are most
> welcome to attend as is anyone from the user community who is able to
> come along and spend a few days replicating, closing, updating bugs etc.
>
> Looking forward to seeing this happen!
>
> Regards
>
>
>
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>
> _______________________________________________
> Qgis-community-team mailing list
> Qgis-community-team@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-community-team
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From sherman at mrcc.com  Fri May 30 13:08:58 2008
From: sherman at mrcc.com (sherman@mrcc.com)
Date: Fri May 30 13:10:33 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <200805301341.52393.mauricio.dev@gmail.com>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com><200805291938.52709.mauricio.dev@gmail.com><FA09F4A3-247A-4A55-BDE1-E63C939D7B28@wildnevada.org><200805301341.52393.mauricio.dev@gmail.com>
Message-ID: <2087789159-1212167365-cardhu_decombobulator_blackberry.rim.net-655623872-@bxe013.bisx.prod.on.blackberry>

I will be looking at your fixes in the next day or so.
Sent from my BlackBerry?

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
Micro Resources: http://mrcc.com
  *Geospatial Hosting
  *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

-----Original Message-----
From: Mauricio de Paulo <mauricio.dev@gmail.com>

Date: Fri, 30 May 2008 13:41:52 
To:"John C. Tull" <john.tull@wildnevada.org>
Cc:qgis-developer@lists.osgeo.org
Subject: Re: [Qgis-developer] Mapserver Exporter Bug?


Ok....
I think i know how to fix this. Hum... i'd like to hear from the mapserver 
exporter manteiner if i have permission to alter his code more.
Until now i've been changing my file and sending him the modifications. I wish 
these fixes were implemented on the version available in the repository.
As soon as I get this permission (or some other way of sending him the fixes 
I'll be back to mapserver exporter's bug busting. :D
Maur?cio de Paulo


On Thursday 29 May 2008 20:06:27 John C. Tull wrote:
> Mauricio,
>
> I get the following error now, but this may be related to some layers
> with no names because a partial file is being written. Let me play
> some more...
>
> An error has occured while executing Python code:
>
> Traceback (most recent call last):
>   File "/Users/jctull/.qgis//python/plugins/mapserver_export/
> mapserverexport.py", line 94, in run
>    result = exporter.writeMapFile()
>   File "/Users/jctull/.qgis//python/plugins/mapserver_export/
> ms_export.py", line 101, in writeMapFile
>    self.writeMapLayers()
>   File "/Users/jctull/.qgis//python/plugins/mapserver_export/
> ms_export.py", line 283, in writeMapLayers
>    self.outFile.write("  NAME '" +
> lyr.getElementsByTagName("layername")
> [0].childNodes[0].nodeValue.encode('utf-8').replace("\"", "") + "'\n")
> IndexError: list index out of range
>
> Ok, this is because there were some layers (rasters) that had no name.
> When I drag and drop rasters, they come in with no name, but I place
> them in a group folder, so never change them. This led to the above
> problem.
>
> John
>
> On May 29, 2008, at 3:38 PM, Mauricio de Paulo wrote:
> > Please, can you test this mapserverexport update? I've written the
> > str()
> > function on every qwidget that might need the type cast. And i did
> > some other
> > fix that i don't remember (hum... i think that it was the exporter
> > wrong
> > layers' ordering)
> > Hope it works.
> > See ya.
> > Maur?cio de Paulo
> >
> > On Thursday 29 May 2008 17:18:24 John C. Tull wrote:
> >> I get the same error on OS X, but the suggested change to line 81 did
> >> not fix this for me.
> >>
> >> John
> >>
> >> On May 27, 2008, at 3:42 PM, Mauricio de Paulo wrote:
> >>> Hi everybody,
> >>> I was working with mapserver exporter and ran into a problem with
> >>> the error
> >>> message at the end of this mail.
> >>> After a little debug i found out that the code was passing a QString
> >>> instead
> >>> of a python string when reading the filename from the dialog. This
> >>> is a
> >>> regular source of bug as some classes don't understand QStrings very
> >>> well,
> >>> even though they do work a lot like python strings.
> >>> After the change on mapserverexport.py on line 81:
> >>> exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()),
> >>> str(self.dlg.ui.txtMapFilePath.text()))
> >>>
> >>> I don't know exactly if only my python and pyqt versions require
> >>> this but it
> >>> fixed the problem for me. I think it's a good idea to NEVER work
> >>> with
> >>> QString, just with python strings for compatibility purposes.
> >>>
> >>> versions:
> >>> Python 2.5.2
> >>> PyQt4.QtCore.qVersion() '4.3.4'
> >>> qgis 0.10.0
> >>> Ubuntu 8.10
> >>>
> >>> Thanks for the good work with Mapserver Export Plugin. I've been
> >>> working with
> >>> it for 2 years now and it fills a great gap in the mapfile
> >>> production.
> >>>
> >>> Maur?cio de Paulo
> >>>
> >>> An error has occured while executing Python code:
> >>> Traceback (most recent call last):
> >>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
> >>> mapserverexport.py",
> >>> line 81, in run
> >>> exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(),
> >>> self.dlg.ui.txtMapFilePath.text())
> >>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
> >>> ms_export.py", line
> >>> 37, in__init__
> >>> self.qgs = minidom.parse(projectFile)
> >>> File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
> >>> return expatbuilder.parse(file)
> >>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in
> >>> parse
> >>> result = builder.parseFile(file)
> >>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in
> >>> parseFile
> >>> buffer = file.read(16*1024)
> >>> AttributeError: read
> >>>
> >>> W
> >>>_______________________________________________
> >>> Qgis-developer mailing list
> >>> Qgis-developer@lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > <mapserverexport.py>


_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer
From a.ghisla at studenti.uninsubria.it  Fri May 30 13:12:17 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Fri May 30 13:12:32 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] Re: [Qgis-community-team]
	Hackfest 2008
In-Reply-To: <d368056f0805300945p4ff2bf08m7679116f9d28f416@mail.gmail.com>
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
	<04DA676AA276F045B32D0F95783D78440AF84E@EX6.d.ethz.ch>
	<d368056f0805300945p4ff2bf08m7679116f9d28f416@mail.gmail.com>
Message-ID: <1212167537.484035713da0f@mail.studenti.uninsubria.it>

Hi, 

I'm afraid that in the end of June I'll have exams, as soon as I get the days
I'll update my availability.

cheers, 

Anne

Scrive Tim Sutton <tim@linfiniti.com>:

> Hi
> 
> Im pretty flexible, but I was thinking the last two weeks of June.
> 
> Regards
> 
> Tim
> 
> 2008/5/30 Hugentobler  Marco <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Tim,
> >
> > Your suggestion that people can attend the days they are available sounds
> very good.
> > Because for most people the agenda already started to fill and it would be
> hard to find a date that suits everyone.
> >
> > Which week(s) of June do you plan to be at the hackfest?
> >
> > Regards,
> > Marco
> >
> > -----Urspr?ngliche Nachricht-----
> > Von: qgis-community-team-bounces@lists.osgeo.org im Auftrag von Tim Sutton
> > Gesendet: Fr 30.05.2008 18:25
> > An: qgis-developer@lists.osgeo.org; qgis-psc@lists.osgeo.org; qgis-user;
> QGIS release team.; qgis-community-team@lists.osgeo.org
> > Betreff: [Qgis-community-team] Hackfest 2008
> >
> > Hi All (and apologies for cross posting)
> >
> > I send out an email a few days ago regarding release plans for 1.0
> > which included some hackfest related info which probably got buried,
> > so Im sending this again with a more specific topic.
> >
> > Basically I would like to know if we can organise the hackfest within
> > the month of June 2008. I am starting a new job in July and probably
> > wont be available from 1 July on. I see on the hackfest page that
> > Marco should be available. What about others? So far potential
> > attendees that I know of are:
> >
> > - Tim
> > - Marco
> > - Otto
> > - Anne Ghisla
> > - Paolo
> >
> > I think even if we can just have a small meeting with those listed
> > above we could make some good headway (but having more helpers would
> > be great). I can be available for a week - even two weeks - and we
> > could have it flexible that attendees just attend for the days they
> > are available over that period. What do others think? Can we get the
> > ball rolling? Who else can attend? Remember you don't need to be a
> > programmer - those from the community-team and release-team are most
> > welcome to attend as is anyone from the user community who is able to
> > come along and spend a few days replicating, closing, updating bugs etc.
> >
> > Looking forward to seeing this happen!
> >
> > Regards
> >
> >
> >
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
> > _______________________________________________
> > Qgis-community-team mailing list
> > Qgis-community-team@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-community-team
> >
> >
> 
> 
> 
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-release-team mailing list
> Qgis-release-team@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-release-team
> 
> 




From RMcCulley at county24.com  Fri May 30 13:50:40 2008
From: RMcCulley at county24.com (Rob McCulley)
Date: Fri May 30 14:38:03 2008
Subject: [Qgis-developer] Win32 Build Problem
Message-ID: <8563B9D6767C904A912272A2D56548E4280A48@vermilion.County24.local>

I'm trying to build qgis using MSVC 8 on windows xp, and I've run into a
bit of a problem.  My qgis source is from svn, and for dependencies, I'm
using the qgislibs-release package from the wiki. All of the components
build successfully except qgis itself.  These are the errors I get:

 

1>Linking...

1>qtmain.lib(qtmain_win.obj) : error LNK2005: "class
std::basic_ostream<char,struct std::char_traits<char> > & __cdecl
std::operator<<<char,struct std::char_traits<char>,class
std::allocator<char> >(class std::basic_ostream<char,struct
std::char_traits<char> > &,class std::basic_string<char,struct
std::char_traits<char>,class std::allocator<char> > const &)"
(??$?6DU?$char_traits@D@std@@V?$allocator@D@1@@std@@YAAAV?$basic_ostream
@DU?$char_traits@D@std@@@0@AAV10@ABV?$basic_string@DU?$char_traits@D@std
@@V?$allocator@D@2@@0@@Z) already defined in msvcprtd.lib(MSVCP80D.dll)

1>   Creating library E:\Build\Source\qgis\build\src\app\Debug\qgis.lib
and object E:\Build\Source\qgis\build\src\app\Debug\qgis.exp

1>LINK : warning LNK4098: defaultlib 'MSVCRT' conflicts with use of
other libs; use /NODEFAULTLIB:library

1>E:\Build\Source\qgis\build\src\app\Debug\qgis.exe : fatal error
LNK1169: one or more multiply defined symbols found

1>Build log was saved at
"file://e:\Build\Source\qgis\build\src\app\qgis.dir\Debug\BuildLog.htm"

1>qgis - 2 error(s), 1 warning(s)

========== Build: 0 succeeded, 1 failed, 5 up-to-date, 0 skipped
==========

 

Any ideas how to fix this?

 

Thanks,

Rob McCulley

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080530/44994c20/attachment.html
From jef at norbit.de  Fri May 30 18:28:59 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri May 30 18:29:06 2008
Subject: [Qgis-developer] Win32 Build Problem
In-Reply-To: <8563B9D6767C904A912272A2D56548E4280A48@vermilion.County24.local>
References: <8563B9D6767C904A912272A2D56548E4280A48@vermilion.County24.local>
Message-ID: <20080530222859.GA7045@norbit.de>

Hi Rob,

On Fri, 30. May 2008 at 11:50:40 -0600, Rob McCulley wrote:
> I'm trying to build qgis using MSVC 8 on windows xp, and I've run into a
> bit of a problem.  My qgis source is from svn, and for dependencies, I'm
> using the qgislibs-release package from the wiki. All of the components
> build successfully except qgis itself.  These are the errors I get:

I think the qgislibs package is build in release mode.  I that case you
should build qgis using the Release or RelWithDebInfo instead of Debug
configuration.
 

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From sherman at mrcc.com  Sat May 31 02:03:58 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat May 31 02:04:07 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <200805301341.52393.mauricio.dev@gmail.com>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805291938.52709.mauricio.dev@gmail.com>
	<FA09F4A3-247A-4A55-BDE1-E63C939D7B28@wildnevada.org>
	<200805301341.52393.mauricio.dev@gmail.com>
Message-ID: <63D1483E-AF03-4B6A-A5B5-3F91FA6130AC@mrcc.com>

You should be using the latest mapserver exporter that is included in  
QGIS, not the plugin from the repository. Most of the problems you  
have encountered have been fixed in the latest version. Delete the  
$HOME/.qgis/python/plugins/mapserver_export directory and test again.

To avoid further confusion, I have removed the mapserver_exporter  
plugin from the respository. I will soon be releasing a standalone  
version of the exporter, complete with map preview and other features.  
It contains a number of fixes and enhancements over the current version.

-gary

On May 30, 2008, at 8:41 AM, Mauricio de Paulo wrote:

> Ok....
> I think i know how to fix this. Hum... i'd like to hear from the  
> mapserver
> exporter manteiner if i have permission to alter his code more.
> Until now i've been changing my file and sending him the  
> modifications. I wish
> these fixes were implemented on the version available in the  
> repository.
> As soon as I get this permission (or some other way of sending him  
> the fixes
> I'll be back to mapserver exporter's bug busting. :D
> Maur?cio de Paulo
>
>
> On Thursday 29 May 2008 20:06:27 John C. Tull wrote:
>> Mauricio,
>>
>> I get the following error now, but this may be related to some layers
>> with no names because a partial file is being written. Let me play
>> some more...
>>
>> An error has occured while executing Python code:
>>
>> Traceback (most recent call last):
>> File "/Users/jctull/.qgis//python/plugins/mapserver_export/
>> mapserverexport.py", line 94, in run
>>   result = exporter.writeMapFile()
>> File "/Users/jctull/.qgis//python/plugins/mapserver_export/
>> ms_export.py", line 101, in writeMapFile
>>   self.writeMapLayers()
>> File "/Users/jctull/.qgis//python/plugins/mapserver_export/
>> ms_export.py", line 283, in writeMapLayers
>>   self.outFile.write("  NAME '" +
>> lyr.getElementsByTagName("layername")
>> [0].childNodes[0].nodeValue.encode('utf-8').replace("\"", "") +  
>> "'\n")
>> IndexError: list index out of range
>>
>> Ok, this is because there were some layers (rasters) that had no  
>> name.
>> When I drag and drop rasters, they come in with no name, but I place
>> them in a group folder, so never change them. This led to the above
>> problem.
>>
>> John
>>
>> On May 29, 2008, at 3:38 PM, Mauricio de Paulo wrote:
>>> Please, can you test this mapserverexport update? I've written the
>>> str()
>>> function on every qwidget that might need the type cast. And i did
>>> some other
>>> fix that i don't remember (hum... i think that it was the exporter
>>> wrong
>>> layers' ordering)
>>> Hope it works.
>>> See ya.
>>> Maur?cio de Paulo
>>>
>>> On Thursday 29 May 2008 17:18:24 John C. Tull wrote:
>>>> I get the same error on OS X, but the suggested change to line 81  
>>>> did
>>>> not fix this for me.
>>>>
>>>> John
>>>>
>>>> On May 27, 2008, at 3:42 PM, Mauricio de Paulo wrote:
>>>>> Hi everybody,
>>>>> I was working with mapserver exporter and ran into a problem with
>>>>> the error
>>>>> message at the end of this mail.
>>>>> After a little debug i found out that the code was passing a  
>>>>> QString
>>>>> instead
>>>>> of a python string when reading the filename from the dialog. This
>>>>> is a
>>>>> regular source of bug as some classes don't understand QStrings  
>>>>> very
>>>>> well,
>>>>> even though they do work a lot like python strings.
>>>>> After the change on mapserverexport.py on line 81:
>>>>> exporter = Qgis2Map(str(self.dlg.ui.txtQgisFilePath.text()),
>>>>> str(self.dlg.ui.txtMapFilePath.text()))
>>>>>
>>>>> I don't know exactly if only my python and pyqt versions require
>>>>> this but it
>>>>> fixed the problem for me. I think it's a good idea to NEVER work
>>>>> with
>>>>> QString, just with python strings for compatibility purposes.
>>>>>
>>>>> versions:
>>>>> Python 2.5.2
>>>>> PyQt4.QtCore.qVersion() '4.3.4'
>>>>> qgis 0.10.0
>>>>> Ubuntu 8.10
>>>>>
>>>>> Thanks for the good work with Mapserver Export Plugin. I've been
>>>>> working with
>>>>> it for 2 years now and it fills a great gap in the mapfile
>>>>> production.
>>>>>
>>>>> Maur?cio de Paulo
>>>>>
>>>>> An error has occured while executing Python code:
>>>>> Traceback (most recent call last):
>>>>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
>>>>> mapserverexport.py",
>>>>> line 81, in run
>>>>> exporter = Qgis2Map(self.dlg.ui.txtQgisFilePath.text(),
>>>>> self.dlg.ui.txtMapFilePath.text())
>>>>> File "/home/vatto/.qgis//python/plugins/mapserver_export/
>>>>> ms_export.py", line
>>>>> 37, in __init__
>>>>> self.qgs = minidom.parse(projectFile)
>>>>> File "/usr/lib/python2.5/xml/dom/minidom.py", line 1915, in parse
>>>>> return expatbuilder.parse(file)
>>>>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 928, in
>>>>> parse
>>>>> result = builder.parseFile(file)
>>>>> File "/usr/lib/python2.5/xml/dom/expatbuilder.py", line 204, in
>>>>> parseFile
>>>>> buffer = file.read(16*1024)
>>>>> AttributeError: read
>>>>>
>>>>> W
>>>>> _______________________________________________
>>>>> Qgis-developer mailing list
>>>>> Qgis-developer@lists.osgeo.org
>>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> <mapserverexport.py>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From tim at linfiniti.com  Fri May 30 23:02:58 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat May 31 10:00:05 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <B081025DE4F349D8A65A5FF8E422DACF@HPMarco>
References: <B081025DE4F349D8A65A5FF8E422DACF@HPMarco>
Message-ID: <88F1F1E7-5AA2-49DF-ABD1-47168305AEF2@linfiniti.com>

Hi Marco

My feeling is to try to clean up the list filter and maybe and expand  
all / collaps all to the tree view, and ship 0.11.0 with both  
available in the toolbox. In the future we can try the more  
sophisticated 'remember tree state' that you suggest.

Regarding MSVC, myself, J?rgen and maybe some others are building  
under MSVC on a regular basis. The main area that needs to be  
addressed is GRASS support. I believe J?rgen has it kinda working but  
I have not as yet figured out how to get the GRASS stuff built under  
MSVC. In terms of when we can release with MSVC rather than MINGW, we  
should continue to support both, but my feeling is if you can do MSVC  
release for 0.11.0 that would be great since it would give us a  
chance to resolve issues before the final 1.0 release. I prefer the  
idea of release MSVC built QGIS since the binary package is  
considerably smaller and, although I havent benchmarked it, my  
feeling is it performs better than the MSYS build (would be  
interesting to verify this though).

Regards

Tim

Em May 29, 2008, ?s 1:03 PM, Marco Pasetti escreveu:

> Hi Tim,
>
> sorry for the delay, I'm very busy here!
>
> When I talked about expand/collapse GRASS Toolbox tree, I mainly  
> meant that it would be better to start the toolbox tree collapsed,  
> instead of expanded, because an expanded tree is too much  
> confusing, IMHO. Actually, adding expand all/collapse all buttons  
> would be a great thing, along with the capability of the toolbox to  
> *remember* the last *tree configuration*: this because I guess that  
> the most users commonly use only few modules, thus that they would  
> prefer to keep some parts of the tree expanded, while other (rarely  
> used) collapsed.
>
> I'm finishing to configure my Vista machine (what a mess! 1 GB of  
> RAM only for the OS, with all the feautures, processes and services  
> reduced to the minimum necessary set!): on the next hours I'll  
> start to build on Vista under the MSYS environment, updating some  
> libraries and adding some other supports (such as OpenSSL, JPEG,  
> OGDI, GML and others...).
>
> This said, when do you think that QGIS will move from tha current  
> MSYS build to the MSVC one?
>
> Regards,
>
> Marco
>
> ----- Original Message -----
> From: Tim Sutton
> To: Marco Pasetti
> Cc: qgis-developer@lists.osgeo.org
> Sent: Wednesday, May 28, 2008 2:55 AM
> Subject: Re: R: [Qgis-developer] GRASS Toolbox list view patch
>
> Hi Marco
>
> Thanks for the feedback. I will try to build under msvc here and see
> if I can address the issues with the plugin manager. I think Radim
> specifically expanded the tree in the grass toolbox because you can
> access each tool with a single click. Perhaps we can add some
> collapse all / expand all buttons to the toolbox to support both
> people who prefer it expanded and those who prefer it collapsed. Ill
> look into this.
>
> I tested the plugin manager with my msvc build and will commit a fix
> in a few minutes that should sort out the issue you were having.
>
>
>
> Regards
>
> Tim
>
>
> Em May 26, 2008, ?s 4:52 PM, Marco Pasetti escreveu:
>
> > Hi Tim,
> >
> > I built the latest svn trunk with your patch on windows (xp for the
> > moment,
> > on the next days also on Vista)
> >
> > 1. the idea for the grass toolbox is good (I mean the module list
> > with the
> > run-time type filter/search), but I think that:
> >
> > 1.1. we should start the grass toolbox tree collapsed instead of  
> fully
> > expanded
> > 1.2. the font of the module tiltles should be a little bit smaller
> > 1.3. the module list tab still has some render problems
> > 1.4. I cannot select (that means start) the filtered modules
> >
> > 2. I have big rendering and selecting (check-boxes) problems with
> > the plugin
> > manager
> >
> > Sorry, I have no such spare time to make deeper analisys :-(
> >
> > All the best
> >
> > Marco
> >
> > -----Messaggio originale-----
> > Da: qgis-developer-bounces@lists.osgeo.org
> > [mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tim
> > Sutton
> > Inviato: luned? 26 maggio 2008 17.37
> > A: qgis-developer@lists.osgeo.org
> > Oggetto: [Qgis-developer] GRASS Toolbox list view patch
> >
> > Hi Folks
> >
> > Here is my first pass at a grass filtered list view for grass  
> toolbox
> > (attached patch). There are still a few issues:
> >
> >   - checkboxes next to items need to be removed
> >   - filter box below list needs a label
> >   - some funny rendering happens on tab background on start up,
> > just click
> > to another tab and then back to the list view
> >
> > I've been thinking that it might be better to implement this 'as-
> > well- as'
> > the existing tree view, so that if you want to browse the tools by
> > heirachy
> > you still can, or if you want to quickly get all the tools that
> > e.g. work
> > with ascii, you can just type 'ascii' in the filter box and be on
> > your way.
> >
> > Anyway, will be interesting to get feedback from heavy grass users
> > is the
> > list box approach makes life easier or not. To apply the patch, go
> > to the
> > qgis top level dir and do:
> >
> > patch -p0 < grass_detailed_list_patch.diff
> >
> > You need to be using a current svn checkout for it to work properly
> > (r8522 or better).
> >
> > Regards
> >
> >
>
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri May 30 23:15:31 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat May 31 10:00:17 2008
Subject: [Qgis-developer] Re: Mac build error
In-Reply-To: <F95D26BD-97B3-4F69-9689-6CDBAF54821A@wildnevada.org>
References: <F95D26BD-97B3-4F69-9689-6CDBAF54821A@wildnevada.org>
Message-ID: <3669EE6B-05AD-4582-981E-6995E3D8DD1F@linfiniti.com>

Hi

This should be fixed in trunk.

Regards

Tim
Em May 28, 2008, ?s 6:48 PM, John C. Tull escreveu:

> Sorry, this was with rev 8538.
>
> John

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri May 30 23:26:58 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat May 31 10:00:25 2008
Subject: [Qgis-developer] Re: ideas for developpers)
In-Reply-To: <200805271326.42965.borys@wolf.most.org.pl>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<482CAFD9.60809@uvic.ca>
	<200805271326.42965.borys@wolf.most.org.pl>
Message-ID: <85E05C4B-66D0-414E-859B-C14D12E46827@linfiniti.com>

Hi


>
> I was writing about makeshift free moving the plugin items inside  
> the menus
> and toolboxes, but now it's not so important, since Carson has  
> promised to
> put all his plugins in order :DD
>
> Categorisation is not hard to implement technically, but it's much  
> harder to
> elaborate good (clear and sufficient) categories :) I think we need  
> the
> vision of future QGIS tools structure and fit all the plugins into  
> it, but
> even ArcGIS doesn't bring me many good ideas. Maybe it's time for huge
> brainstorm. Then the category mechanism will be even unnecessary,  
> if plugin
> developers swear to keep the rules ;)

After 1.0 goes out we will hold such a brainstorm and plan the vision  
for generation 2.0 of QGIS and how we can adapt it to make it more  
than a GIS viewer but rather a GIS with analytical capabilities. The  
original idea for 1.0 was originally to buld a competent data browser.

>
>
> Sebastien Vial wrote:
>> - database oriented plugins
>> - raster oriented
>> - import/export
>> - selecting
>> - statistics...
>
> These ideas are good for a start.

Yes these seem like a good start.

>
>> * and about the plugin manager : adding a column to know the  
>> installed
>> version of the plugin (like some linux package manager), in order to
>> compare the version number, and to know if the plugin needs to be
>> re-installed --- and perhaps a warning when there is a new version  
>> of a
>> plugin
>
> I don't know C++ yet, so now I can improve Plugin Installer and add  
> the
> features:
>  - the version column as you said
>  - the column with status indicator: upgradable/new in repository
>  - checking for updates and for news in repositories on demand and  
> also
>    when QGIS is starting.

I prefer to move away from column style UI which I think is not so  
friendly. To me it would be better to expand the detailed item  
delegate I wrote for the C++ plugin manager to include a place next  
to each plugin title to indicate if new versions are available. When  
QGIS starts we should check background thread when qgis starts go off  
and see if new plugins are available and give the user a 'soft  
notification' (like an indicator on the status bar that when clicked  
will open the manager and download updates).

>
> Someday this code might be attached to the Plugin Manager (when I  
> learn C++!),
> but before 0.11 release I can implement this only in the Plugin  
> installer.
> So what do you think about it? And what about removing the Plugin  
> Installer
> item from the Plugins menu and launching it directly from the Manager?
> Tim, can you implement this and do you think it's suitable?

I would very much like to unite the C++ and python managers. As  
Martin says the main issue is .zip extraction support in Qt, but Im  
sure this can be resolved with a bit of googling.

Regards

Tim

>
> And one question. There are two branches in the QSettings:
>       Plugins/$PLUGIN_NAME        = bool
>       PythonPlugins/$PLUGIN_DIR   = bool
>
> What they mean? They don't correspond with actually enabled plugins  
> at mine!
>
> Regards,
> B.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri May 30 23:33:16 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat May 31 10:00:31 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <483ED59A.2010206@faunalia.it>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>
	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>
	<483ED59A.2010206@faunalia.it>
Message-ID: <0896F90C-27CB-4EAC-A367-01637FB4EA16@linfiniti.com>

Hi

8<-----snip------

> I think having the list expanded, with a "Compress all/expand all"  
> button would be the best option. Of course filtering is a great  
> thing. In my last course, many people spent more time searching for  
> buttons than actually doing analyses!
> Thanks for working on this!

Right I will add compress all and expand all buttons for 0.11.0, and  
leave both tree and list views available once. Ill enable the list  
view once Ive resolved the rendering issue (its in svn now just  
commented out so it doesnt display).

> Also notice that the r.mapcalculator window is too large for many  
> screens, so the windows becomes unusable. Better start with only  
> two layers selected, and add a +- couple of buttons as it is now in  
> r.buffer.

I was also thinking to make the tools open in their own windows. I  
hate millions of windows, but my original aim when planning the GRASS  
toolbox revision was to put the toolbox in the dock area with the  
legend and make the tools themselves independent entities. I might  
send out an experimental patch or make it a user option to have tools  
either windows or new tabs.

Regards

Tim

> Perhaps Leonardo can take care of this?
> All the best.
> pc
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sat May 31 00:27:20 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat May 31 10:00:37 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <483ED49D.90901@comcast.net>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
Message-ID: <42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>

Hi

I got the python stuff building and my mac post build scripts fix up  
all the lib paths (see below) in the libqgispython.dylib, core and  
gui python libs, but python stuff still wont load at runtime...not  
sure what to do next.

Debug: /Users/timlinux/dev/cpp/qgis/src/app/qgisapp.cpp: 385:  
(QgisApp) Couldn't load Python support library.

Regards

Tim

otool dumps for libqgispython.dylib, core and gui python libs:


Tim-Laptop:~/dev/cpp/qgis/build timlinux$ otool -L /Applications/ 
qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib
/Applications/qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib:
         @executable_path/lib/libqgispython.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         @executable_path/lib/libqgis_core.0.11.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         @executable_path/../Frameworks/QtCore.framework/Versions/4/ 
QtCore (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtGui.framework/Versions/4/ 
QtGui (compatibility version 4.3.0, current version 4.3.3)
         /System/Library/Frameworks/Python.framework/Versions/2.3/ 
Python (compatibility version 2.3.0, current version 2.3.5)
         @executable_path/../Frameworks/QtXml.framework/Versions/4/ 
QtXml (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtSvg.framework/Versions/4/ 
QtSvg (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtNetwork.framework/Versions/ 
4/QtNetwork (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/lib/libproj.dylib (compatibility version  
6.0.0, current version 6.4.0)
         @executable_path/lib/libgeos.dylib (compatibility version  
5.0.0, current version 5.3.0)
         @executable_path/lib/libgdal.1.dylib (compatibility version  
14.0.0, current version 14.0.0)
         /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0,  
current version 7.4.0)
         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
current version 1.0.0)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.3.9)


Tim-Laptop:~/dev/cpp/qgis/build timlinux$ otool -L /Applications/ 
qgis0.11.0.app/Contents/MacOS/share/qgis/python/qgis/core.so
/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python/qgis/ 
core.so:
         /System/Library/Frameworks/Python.framework/Versions/2.3/ 
Python (compatibility version 2.3.0, current version 2.3.5)
         @executable_path/lib/libqgis_core.0.11.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         @executable_path/lib/libgeos.dylib (compatibility version  
5.0.0, current version 5.3.0)
         @executable_path/lib/libgdal.1.dylib (compatibility version  
14.0.0, current version 14.0.0)
         @executable_path/../Frameworks/QtCore.framework/Versions/4/ 
QtCore (compatibility version 4.3.0, current version 4.3.3)
         /usr/lib/libz.1.dylib (compatibility version 1.0.0, current  
version 1.2.3)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.3.9)
         /System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/ApplicationServices (compatibility version 1.0.0, current  
version 22.0.0)
         @executable_path/../Frameworks/QtGui.framework/Versions/4/ 
QtGui (compatibility version 4.3.0, current version 4.3.3)
         /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Carbon (compatibility version 2.0.0, current version 128.0.0)
         /System/Library/Frameworks/AppKit.framework/Versions/C/ 
AppKit (compatibility version 45.0.0, current version 824.42.0)
         /usr/lib/libiconv.2.dylib (compatibility version 5.0.0,  
current version 5.0.0)
         @executable_path/../Frameworks/QtNetwork.framework/Versions/ 
4/QtNetwork (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtSvg.framework/Versions/4/ 
QtSvg (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtXml.framework/Versions/4/ 
QtXml (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtSql.framework/Versions/4/ 
QtSql (compatibility version 4.3.0, current version 4.3.3)
         /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0,  
current version 7.4.0)
         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
current version 1.0.0)


Tim-Laptop:~/dev/cpp/qgis/build timlinux$ otool -L /Applications/ 
qgis0.11.0.app/Contents/MacOS/share/qgis/python/qgis/gui.so
/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python/qgis/ 
gui.so:
         /System/Library/Frameworks/Python.framework/Versions/2.3/ 
Python (compatibility version 2.3.0, current version 2.3.5)
         @executable_path/lib/libqgis_core.0.11.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         @executable_path/lib/libgeos.dylib (compatibility version  
5.0.0, current version 5.3.0)
         @executable_path/lib/libgdal.1.dylib (compatibility version  
14.0.0, current version 14.0.0)
         @executable_path/lib/ (compatibility version 0.0.0, current  
version 0.0.0)
         @executable_path/../Frameworks/QtCore.framework/Versions/4/ 
QtCore (compatibility version 4.3.0, current version 4.3.3)
         /usr/lib/libz.1.dylib (compatibility version 1.0.0, current  
version 1.2.3)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.3.9)
         /System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/ApplicationServices (compatibility version 1.0.0, current  
version 22.0.0)
         @executable_path/../Frameworks/QtGui.framework/Versions/4/ 
QtGui (compatibility version 4.3.0, current version 4.3.3)
         /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Carbon (compatibility version 2.0.0, current version 128.0.0)
         /System/Library/Frameworks/AppKit.framework/Versions/C/ 
AppKit (compatibility version 45.0.0, current version 824.42.0)
         /usr/lib/libiconv.2.dylib (compatibility version 5.0.0,  
current version 5.0.0)
         @executable_path/../Frameworks/QtNetwork.framework/Versions/ 
4/QtNetwork (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtSvg.framework/Versions/4/ 
QtSvg (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtXml.framework/Versions/4/ 
QtXml (compatibility version 4.3.0, current version 4.3.3)
         @executable_path/../Frameworks/QtSql.framework/Versions/4/ 
QtSql (compatibility version 4.3.0, current version 4.3.3)
         /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0,  
current version 7.4.0)
         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
current version 1.0.0)



Em May 29, 2008, ?s 1:06 PM, Tom Elwertowski escreveu:

> A full path seems to be needed for QLibrary to find libqgispython  
> on a Mac. I don't know if this is a Qt deficiency but did notice  
> other QLibrary instances are using full paths.
>
> After loading libqgispython, I get "Import error: No module named  
> qgis.core" The Python path included with this message did not  
> contain a path to the Mac qgis bundle. I assume it was looking for  
> share/qgis/python/qgis/core.so
>
> All paths for all components probably need to be checked for the  
> Mac. I may not have time to get through everything for at least a day.
>
> I also had problems building the Mac libqgispython. A quick look at  
> CMakeLists.txt suggests this shouldn't be necessary but I needed to  
> manually add the path to libgeos to the generated Makefiles.
>
> Tom
>
>
> John C. Tull wrote:
>> On May 28, 2008, at 4:28 PM, Martin Dobias wrote:
>>> On Thu, May 29, 2008 at 12:04 AM, John C. Tull  
>>> <john.tull@wildnevada.org> wrote:
>>>> With some patches from Jurgen, it is now building.  
>>>> Unfortunately, python is
>>>> disabled in the running binary that I built.
>>>
>>> If you build debug version, at some stage during initialization it
>>> shows information about success / failure of loading the qgispython
>>> library and initializing python. Could you check what does it say?
>>>
>>> Martin
>> This is reported:
>> 5/28/08 5:38:10 PM [0x0-0x4d04d].org.qgis.qgis[7306] Debug: /Users/ 
>> jctull/sources/qgis/trunk/src/app/qgisapp.cpp: 385: (QgisApp)  
>> Couldn't load Python support library.
>> John
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological  
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From woklist at kyngchaos.com  Sat May 31 11:29:21 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat May 31 11:29:29 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
Message-ID: <F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>

I've been busy and tired all week, and just got a chance to try it.

So far I can confirm I'm also having the python non-start problem.   
 From your otool lists, I wonder if it's the @executable_path?  In my  
test I didn't do my whole packaging routine, where I change those to  
@loader_path.

The problem I'm guessing is with @executable_path, that there may be a  
confusion as to what is the "executable" when the python support is  
started - python or qgis?  If it's python, then it'll fail to find  
anything inside the Qgis app bundle.

But your all-in-one Qgis builds have worked in the past with  
@executable_path, and I don't realy know much about how python support  
is loaded in Qgis, so I'm probably just overanalyzing it ;)

I'm working on some build updates this weekend, so I should be able to  
do a more thorough build test soon.

On May 30, 2008, at 11:27 PM, Tim Sutton wrote:

> Hi
>
> I got the python stuff building and my mac post build scripts fix up  
> all the lib paths (see below) in the libqgispython.dylib, core and  
> gui python libs, but python stuff still wont load at runtime...not  
> sure what to do next.
>
> Debug: /Users/timlinux/dev/cpp/qgis/src/app/qgisapp.cpp: 385:  
> (QgisApp) Couldn't load Python support library.
>
> Regards
>
> Tim
>
> otool dumps for libqgispython.dylib, core and gui python libs:
>
>
> Tim-Laptop:~/dev/cpp/qgis/build timlinux$ otool -L /Applications/ 
> qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib
> /Applications/qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib:
>        @executable_path/lib/libqgispython.dylib (compatibility  
> version 0.0.0, current version 0.0.0)
>        @executable_path/lib/libqgis_core.0.11.dylib (compatibility  
> version 0.0.0, current version 0.0.0)
>        @executable_path/../Frameworks/QtCore.framework/Versions/4/ 
> QtCore (compatibility version 4.3.0, current version 4.3.3)
>        @executable_path/../Frameworks/QtGui.framework/Versions/4/ 
> QtGui (compatibility version 4.3.0, current version 4.3.3)
>        /System/Library/Frameworks/Python.framework/Versions/2.3/ 
> Python (compatibility version 2.3.0, current version 2.3.5)
>        @executable_path/../Frameworks/QtXml.framework/Versions/4/ 
> QtXml (compatibility version 4.3.0, current version 4.3.3)
>        @executable_path/../Frameworks/QtSvg.framework/Versions/4/ 
> QtSvg (compatibility version 4.3.0, current version 4.3.3)
>        @executable_path/../Frameworks/QtNetwork.framework/Versions/4/ 
> QtNetwork (compatibility version 4.3.0, current version 4.3.3)
>        @executable_path/lib/libproj.dylib (compatibility version  
> 6.0.0, current version 6.4.0)
>        @executable_path/lib/libgeos.dylib (compatibility version  
> 5.0.0, current version 5.3.0)
>        @executable_path/lib/libgdal.1.dylib (compatibility version  
> 14.0.0, current version 14.0.0)
>        /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0,  
> current version 7.4.0)
>        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
> current version 1.0.0)
>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
> current version 88.3.9)
>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Earth: "Mostly harmless"

- revised entry in the HitchHiker's Guide to the Galaxy


From telwertowski at comcast.net  Sat May 31 12:14:13 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Sat May 31 12:14:30 2008
Subject: [Qgis-developer] [Mac OSX] Build error with CMake 2.6
Message-ID: <48417955.4010400@comcast.net>

Hi Tim,

CMake 2.4 and 2.6 appear somewhat incompatible, at least for Macs. A recent upgrade of helpviewer/CMakeLists.txt to 2.6 results in failure for 2.4. Version conditionals are needed to support both versions. For example:

IF (APPLE AND NOT ${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION} STRLESS "2.6")
  INSTALL (TARGETS qgis_help BUNDLE DESTINATION ${QGIS_BIN_DIR})
ELSE (APPLE AND NOT ${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION} STRLESS "2.6")
  INSTALL (TARGETS qgis_help RUNTIME DESTINATION ${QGIS_BIN_DIR})
ENDIF (APPLE AND NOT ${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION} STRLESS "2.6")

Regarding Contents/CMakeLists.txt, I am baffled by the quote processing. For 2.4, not using the VERBATIM keyword produces something I would consider verbatim. When VERBATIM is added, the first backquote is not autoquoted by CMake but the second is. This causes the 2.6 error in 2.4.

For 2.6, not using VERBATIM adds some undesirable autoquoting similar to 2.4 with VERBATIM. Adding VERBATIM  for 2.6 produces even more unbalanced autoquoting than 2.4. Over an hour of probing 2.4 vs 2.6 and VERBATIM vs not VERBATIM indicates that 2.4 without VERBATIM is the only combination that doesn't mangle the expression.

The goal of this file is to extract the SVN version info from the generated header and insert it into Info.plist so that the Mac Finder will display the build number in a GetInfo dialog. Rather the parsing the header files with command-line tools, it would be better to put the SVN info into CMake variables which could be used in this CMakeLists file. I tried this when we first converted to CMake but it didn't work because the SVN header was being generated after CMake variable assignment. Therefore I would end up with the prior build number in Info.plist.

My preference is to declare that qgis/Mac does not support CMake 2.6 at this time. If someone else can get the SVN edit number into a variable that is valid when Contents/CMakeLists.txt is processed, I will rewrite this file to drop the old command-line code propagated from the prior build system.

Tom


Tim Sutton wrote:
> Hi Folks
> 
> I've been testing out CMake 2.6.0 which recently came out. On mac I  
> get everything to build except it croaks at the end with this:
> 
> Linking CXX shared module libquickprintplugin.so
> [100%] Built target quickprintplugin
> /bin/sh: -c: line 1: unexpected EOF while looking for matching ``'
> /bin/sh: -c: line 2: syntax error: unexpected end of file
> make[2]: *** [src/mac/Contents/CMakeFiles/Info.plist] Error 2
> make[1]: *** [src/mac/Contents/CMakeFiles/Info.plist.dir/all] Error 2
> make: *** [all] Error 2
> 
> It seems it has  problem parsing the bash commands in the src/mac/ 
> Contents/CMakeLists.txt. Is this something you are easily able to fix  
> Tom? I had a poke at it but all I can figure out is that cmake seems  
> to be wrapping the expression in "" or something, but I couldnt  
> figure out how to resolve the issue.
> 
> Regards
From telwertowski at comcast.net  Sat May 31 13:10:55 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Sat May 31 13:11:00 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
Message-ID: <4841869F.70300@comcast.net>

On May 30, 2008, at 11:27 PM, Tim Sutton wrote:
> I got the python stuff building and my mac post build scripts fix up 
> all the lib paths (see below) in the libqgispython.dylib, core and gui 
> python libs, but python stuff still wont load at runtime...not sure 
> what to do next.

The QLibrary statement at qgisapp.cpp:363 needs a full path (or at least something more than "qgispython"

QLibrary pythonlib("/Users/tce/developer/qgis/trunk/build/qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib");
works for me but SVN needs a somewhat more generic solution.

Tom
From tech_dev at wildintellect.com  Sat May 31 13:36:23 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Sat May 31 13:41:40 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <0896F90C-27CB-4EAC-A367-01637FB4EA16@linfiniti.com>
References: <73FD6ED5-C1AE-436C-B3DE-E43F388BBAE5@linfiniti.com>	<009e01c8bf6a$1129f4a0$0201a8c0@AcerMarco>	<483ED59A.2010206@faunalia.it>
	<0896F90C-27CB-4EAC-A367-01637FB4EA16@linfiniti.com>
Message-ID: <48418C97.3020707@wildintellect.com>

Tim Sutton wrote:
> Hi
> 
> 8<-----snip------
> 
>> I think having the list expanded, with a "Compress all/expand all" 
>> button would be the best option. Of course filtering is a great thing. 
>> In my last course, many people spent more time searching for buttons 
>> than actually doing analyses!
>> Thanks for working on this!
> 
> Right I will add compress all and expand all buttons for 0.11.0, and 
> leave both tree and list views available once. Ill enable the list view 
> once Ive resolved the rendering issue (its in svn now just commented out 
> so it doesnt display).
> 
>> Also notice that the r.mapcalculator window is too large for many 
>> screens, so the windows becomes unusable. Better start with only two 
>> layers selected, and add a +- couple of buttons as it is now in r.buffer.
> 
> I was also thinking to make the tools open in their own windows. I hate 
> millions of windows, but my original aim when planning the GRASS toolbox 
> revision was to put the toolbox in the dock area with the legend and 
> make the tools themselves independent entities. I might send out an 
> experimental patch or make it a user option to have tools either windows 
> or new tabs.
> 
> Regards
> 
> Tim
> 

One of the problems with the windows is the inability to dock or 
minimize them. It's kinda nice when you're doing a bunch of GRASS work 
to leave the toolbox open and switch back & forth to the map. XFCE lets 
me collapse the window but not Gnome or Windows. So I think giving the 
user the option for windows/tabs is good just make sure the windows can 
be minimized without minimizing QGIS.

+1 on all the other great things everyone's doing to improve the tool.

Thanks,
Alex
From borys at wolf.most.org.pl  Sat May 31 13:42:15 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sat May 31 13:42:29 2008
Subject: [Qgis-developer] Re: [Qgis-user] New plugins: profiles and table
	management
In-Reply-To: <484063AD.3000901@inwind.it>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<200805262338.40473.borys@wolf.most.org.pl>
	<484063AD.3000901@inwind.it>
Message-ID: <200805311942.16127.borys@wolf.most.org.pl>

Hi, thanks for your remarks! Check the newest version in my repository and let 
me know if it still occurs, please.

Friday 30 of May 2008 22:29:33 Alessandro Sarretta napisa?(a):
> Hi Borys, and thank you for your plugin for table management, surely it
> is a fundamental tool!
> I tried to use it inserting, deleting, cloning, renaming a vector
> polygon layer in my QGIS 0.10.0 in Windows XP.
> When I save it, it starts to work until 20-30 %, but then it stops and
[...]
