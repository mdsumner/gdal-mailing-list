From geraldo at servus.at  Fri Dec  2 01:07:35 2022
From: geraldo at servus.at (Gerald Kogler)
Date: Fri, 2 Dec 2022 10:07:35 +0100
Subject: [QGIS-Developer] QGIS Server ignores custom layer legend properties
Message-ID: <ea2dff88-a133-2d5e-1ebe-ad18d79646ca@servus.at>

Good morning everybody,

I managed to get rid of the Band name and invert the order in a raster 
layer legend in QGIS using a custom pyqgis [1]

The problem is that the changes don't show up on QGIS Server 
GetLegendGraphic request.

Is customproperties option "legend/node-order" something QGIS Server 
doesn't have in mind? How could I achieve that, do I have to create QGIS 
Server plugin?

Thanks
Gerald

[1] 
https://gis.stackexchange.com/questions/446269/custom-layer-legend-properties-dont-show-up-on-qgis-server

From r.nijssen at terglobo.nl  Fri Dec  2 03:30:23 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 2 Dec 2022 12:30:23 +0100
Subject: [QGIS-Developer] createvectorTable error: Could not retrieve
 driver for connection
In-Reply-To: <3d7f0c0a-9cd4-041f-1489-ac149f8e9f3e@terglobo.nl>
References: <3d7f0c0a-9cd4-041f-1489-ac149f8e9f3e@terglobo.nl>
Message-ID: <f9da0004-9417-5897-bc3d-6f26df2d5d2c@terglobo.nl>

No one having a clue? Should I create an issue?

Raymond


On 30-11-2022 18:08, Raymond Nijssen via QGIS-Developer wrote:
> Hi developers,
> 
> Recently some users of my plugin started getting errors in the code that 
> creates a .gpkg file with a table. I wrote a piece of test code:
> 
> gpkg_fn = '/home/raymond/tmp/test.gpkg'
> md = QgsProviderRegistry.instance().providerMetadata('ogr')
> conn = md.createConnection(gpkg_fn, {})
> fields = QgsFields()
> fields.append(QgsField('key', QVariant.String))
> fields.append(QgsField('value', QVariant.String))
> conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, 
> QgsCoordinateReferenceSystem(), True, {})
> 
> 
> That last line *sometimes* results in this error:
> 
> _core.QgsProviderConnectionException: Could not retrieve driver for 
> connection
> 
> 
> 
> I cannot reproduce the error on my laptop (Linux), but Richard tried a 
> few QGIS versions in both Windows and Linux and *sometimes* got the 
> error and sometimes not. Even in the same application, the error 
> disappeared after running another version of QGIS simultaneously... :/
> 
> No clue if this error is GDAL or Qt or whatever related, pretty puzzling 
> for me. Hope anyone can help!
> 
> Kind regards,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Fri Dec  2 04:53:46 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 2 Dec 2022 13:53:46 +0100
Subject: [QGIS-Developer] createvectorTable error: Could not retrieve
 driver for connection
In-Reply-To: <f9da0004-9417-5897-bc3d-6f26df2d5d2c@terglobo.nl>
References: <3d7f0c0a-9cd4-041f-1489-ac149f8e9f3e@terglobo.nl>
 <f9da0004-9417-5897-bc3d-6f26df2d5d2c@terglobo.nl>
Message-ID: <3478fff4-51c5-7185-4cd6-5f4de98cfe45@duif.net>

Hi Raymond,

I've updated your test script a little:

gpkg_fn = '/tmp/test.gpkg'
try:
     print(QgsProviderRegistry.instance().providerList())
     md = QgsProviderRegistry.instance().providerMetadata('ogr')
     print(f'md = {md}')
     conn = md.createConnection(gpkg_fn, {})
     print(f'conn = {conn}')
     fields = QgsFields()
     fields.append(QgsField('key', QVariant.String))
     fields.append(QgsField('value', QVariant.String))
     conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
except Exception as e:
     print(f'ERROR: {e}')

As said: in my freshly compiled master, this fails to run with 'Could not retrieve driver for connection'
It also fails on my 3.28.0 version I have in a Windows VM.

It DOES print the 'ogr' driver in the providerList() though.

Strange behaviour: after starting (the older compiled) Qgis 3.26 on the same Linux system (in 3.26 the script always seems to work...) QGIS master ALSO works!!!

So I thought it had something todo with loading different provider registries or so?
Maybe master not having something but after starting 3.26 it was there?
Or is it loading (different) gdal/ogr libs order?
Did something change there?

Looking that the createConnection docs:
https://qgis.org/pyqgis/master/core/QgsConnectionRegistry.html#qgis.core.QgsConnectionRegistry.createConnection
I thought to see that your 'id' was only the filename, but adding ogr:// in front of it does not even work...
So not sure if that createConnection doc is old, or if I'm looking in the wrong createConnection...

Anybody can


>>
On 12/2/22 12:30, Raymond Nijssen via QGIS-Developer wrote:
> No one having a clue? Should I create an issue?
> 
> Raymond
> 
> 
> On 30-11-2022 18:08, Raymond Nijssen via QGIS-Developer wrote:
>> Hi developers,
>>
>> Recently some users of my plugin started getting errors in the code that creates a .gpkg file with a table. I wrote a piece of test code:
>>
>> gpkg_fn = '/home/raymond/tmp/test.gpkg'
>> md = QgsProviderRegistry.instance().providerMetadata('ogr')
>> conn = md.createConnection(gpkg_fn, {})
>> fields = QgsFields()
>> fields.append(QgsField('key', QVariant.String))
>> fields.append(QgsField('value', QVariant.String))
>> conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
>>
>>
>> That last line *sometimes* results in this error:
>>
>> _core.QgsProviderConnectionException: Could not retrieve driver for connection
>>
>>
>>
>> I cannot reproduce the error on my laptop (Linux), but Richard tried a few QGIS versions in both Windows and Linux and *sometimes* got the error and sometimes not. Even in the same application, the error disappeared after running another version of QGIS simultaneously... :/
>>
>> No clue if this error is GDAL or Qt or whatever related, pretty puzzling for me. Hope anyone can help!
>>
>> Kind regards,
>> Raymond
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From rdmailings at duif.net  Fri Dec  2 05:03:36 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 2 Dec 2022 14:03:36 +0100
Subject: [QGIS-Developer] createvectorTable error: Could not retrieve
 driver for connection
In-Reply-To: <3478fff4-51c5-7185-4cd6-5f4de98cfe45@duif.net>
References: <3d7f0c0a-9cd4-041f-1489-ac149f8e9f3e@terglobo.nl>
 <f9da0004-9417-5897-bc3d-6f26df2d5d2c@terglobo.nl>
 <3478fff4-51c5-7185-4cd6-5f4de98cfe45@duif.net>
Message-ID: <80f59459-231d-af48-85d1-2e18ebbf210a@duif.net>

Ok, I think I found the crux!

With your code QGIS 3.26 will CREATE a new geopackage... (if it is not there yet)
After which QGIS master is fine

BUT QGIS master apparently does NOT create a new geopackage with your code...
So IF there is an excisting test.gpkg, all is fine
IF there is not one, it depends on you QGIS version if it creates a fresh one or not?

Maybe some core dev can say something about this?

Regards,

Richard Duivenvoorde

On 12/2/22 13:53, Richard Duivenvoorde via QGIS-Developer wrote:
> Hi Raymond,
> 
> I've updated your test script a little:
> 
> gpkg_fn = '/tmp/test.gpkg'
> try:
>  ??? print(QgsProviderRegistry.instance().providerList())
>  ??? md = QgsProviderRegistry.instance().providerMetadata('ogr')
>  ??? print(f'md = {md}')
>  ??? conn = md.createConnection(gpkg_fn, {})
>  ??? print(f'conn = {conn}')
>  ??? fields = QgsFields()
>  ??? fields.append(QgsField('key', QVariant.String))
>  ??? fields.append(QgsField('value', QVariant.String))
>  ??? conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
> except Exception as e:
>  ??? print(f'ERROR: {e}')
> 
> As said: in my freshly compiled master, this fails to run with 'Could not retrieve driver for connection'
> It also fails on my 3.28.0 version I have in a Windows VM.
> 
> It DOES print the 'ogr' driver in the providerList() though.
> 
> Strange behaviour: after starting (the older compiled) Qgis 3.26 on the same Linux system (in 3.26 the script always seems to work...) QGIS master ALSO works!!!
> 
> So I thought it had something todo with loading different provider registries or so?
> Maybe master not having something but after starting 3.26 it was there?
> Or is it loading (different) gdal/ogr libs order?
> Did something change there?
> 
> Looking that the createConnection docs:
> https://qgis.org/pyqgis/master/core/QgsConnectionRegistry.html#qgis.core.QgsConnectionRegistry.createConnection
> I thought to see that your 'id' was only the filename, but adding ogr:// in front of it does not even work...
> So not sure if that createConnection doc is old, or if I'm looking in the wrong createConnection...
> 
> Anybody can
> 
> 
>>>
> On 12/2/22 12:30, Raymond Nijssen via QGIS-Developer wrote:
>> No one having a clue? Should I create an issue?
>>
>> Raymond
>>
>>
>> On 30-11-2022 18:08, Raymond Nijssen via QGIS-Developer wrote:
>>> Hi developers,
>>>
>>> Recently some users of my plugin started getting errors in the code that creates a .gpkg file with a table. I wrote a piece of test code:
>>>
>>> gpkg_fn = '/home/raymond/tmp/test.gpkg'
>>> md = QgsProviderRegistry.instance().providerMetadata('ogr')
>>> conn = md.createConnection(gpkg_fn, {})
>>> fields = QgsFields()
>>> fields.append(QgsField('key', QVariant.String))
>>> fields.append(QgsField('value', QVariant.String))
>>> conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
>>>
>>>
>>> That last line *sometimes* results in this error:
>>>
>>> _core.QgsProviderConnectionException: Could not retrieve driver for connection
>>>
>>>
>>>
>>> I cannot reproduce the error on my laptop (Linux), but Richard tried a few QGIS versions in both Windows and Linux and *sometimes* got the error and sometimes not. Even in the same application, the error disappeared after running another version of QGIS simultaneously... :/
>>>
>>> No clue if this error is GDAL or Qt or whatever related, pretty puzzling for me. Hope anyone can help!
>>>
>>> Kind regards,
>>> Raymond
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From surveykshak at gmail.com  Sat Dec  3 22:22:26 2022
From: surveykshak at gmail.com (Paul N)
Date: Sun, 4 Dec 2022 11:52:26 +0530
Subject: [QGIS-Developer] msi package error
In-Reply-To: <20221110161841.3bl63jx23q2chccs@norbit.de>
References: <CAGy7cY=4aoqNYZL-ABfaFLsxkufR3GqycdtQ9XctK1KhGj-diw@mail.gmail.com>
 <20221110161841.3bl63jx23q2chccs@norbit.de>
Message-ID: <CAGy7cYkVfSWBp-s610+uv_f_+hwS5hR-9qnNAVuEff2HgjD7eg@mail.gmail.com>

Hi Jurgen,

First of all, I would like to thank you for your reply and it works fine.
While downloading packages by createmsi.pl,  it's not downloading GRASS and
SAGA. Where I have to change the script or something else to get the GRASS
and SAGA.

Regard
Paul N

On Thu, 10 Nov 2022 at 21:49, J?rgen E. Fischer via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi Paul,
>
> On Thu, 10. Nov 2022 at 21:25:53 +0530, Paul N via QGIS-Developer wrote:
> > After running createmsi.pl following folders created
> > C:\OSGeo4W\QGIS_3_22\ms-windows\scripts\tmp
> > C:\OSGeo4W\QGIS_3_22\ms-windows\scripts\tmp\packages
> > C:\OSGeo4W\QGIS_3_22\ms-windows\scripts\tmp\unpacked
> > then I have moved Installer-Files folder to tmp
> > C:\OSGeo4W\QGIS_3_22\ms-windows\scripts\tmp\Installer-Files
>
> > Now after running createmsi.pl
> > It give output as
> >
> > PS C:\OSGeo4W\QGIS_3_22\ms-windows\scripts> perl .\createmsi.pl
>
> This is supposed to run from cygwin and not powershell.
>
>
> > Where "FIND: Parameter format not correct" ?
>
> That's Windows' find, the scripts expects a "regular" (GNU) find, which
> will be
> available when run from cygwin.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> https://www.norbit.de
> QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221204/3c436d1a/attachment.htm>

From ccrook at linz.govt.nz  Sun Dec  4 13:29:29 2022
From: ccrook at linz.govt.nz (Chris Crook)
Date: Sun, 4 Dec 2022 21:29:29 +0000
Subject: [QGIS-Developer] Fw: [ccrook/QGIS-Contour-Plugin] RuntimeError :
 wrapped C/C++ object of type ContourGeneratorAlgorithm has been deleted
 (Issue #46)
In-Reply-To: <ccrook/QGIS-Contour-Plugin/issues/46@github.com>
References: <ccrook/QGIS-Contour-Plugin/issues/46@github.com>
Message-ID: <SY4PR01MB6553D81C2EBFD99C8151CDF2EC199@SY4PR01MB6553.ausprd01.prod.outlook.com>

Hi Developers

The contour plugin I have been maintaining seems to occasionally lose the C++ object that its processing algorithm is using.
In particular this happens when changing settings.

Before I get lost trying to track this through the Python/SWIG bindings and comparing with other processing algorithms I am wondering if this is familiar or you can offer ideas about how to track it down.  It seems either my python object is persisting too long or or the underlying C++ object not long enough, but I'm very unfamiliar with SWIG so any suggestions would be very welcome ?

Thanks
Chris
________________________________
From: Taras Dubrava <notifications at github.com>
Sent: 04 December 2022 01:11
To: ccrook/QGIS-Contour-Plugin <QGIS-Contour-Plugin at noreply.github.com>
Cc: Subscribed <subscribed at noreply.github.com>
Subject: [ccrook/QGIS-Contour-Plugin] RuntimeError : wrapped C/C++ object of type ContourGeneratorAlgorithm has been deleted (Issue #46)


Every time when I change the background colour in QGIS the following error appears

[image]<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fuser-images.githubusercontent.com%2F17712182%2F205440281-59f0e4e0-0cec-4227-9701-5a61ef0395c2.png&data=05%7C01%7Cccrook%40linz.govt.nz%7C096acb62729c4ce0e83b08dad5277906%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C638056662780766122%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=xo9sukyqQCIbJwoHKSc4eyQ%2FDCDzX7%2BOfqO3KXdcx7I%3D&reserved=0>

QGIS 3.28 Firenze

?
Reply to this email directly, view it on GitHub<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fccrook%2FQGIS-Contour-Plugin%2Fissues%2F46&data=05%7C01%7Cccrook%40linz.govt.nz%7C096acb62729c4ce0e83b08dad5277906%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C638056662780766122%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=QxDFuE87Xpbf%2F2e7vAuPPua5BSiyjW%2BxKrL1KaKK4WU%3D&reserved=0>, or unsubscribe<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FAAE2CESBOUFHWGZBV5OK7XDWLM2FRANCNFSM6AAAAAASSW5ZAU&data=05%7C01%7Cccrook%40linz.govt.nz%7C096acb62729c4ce0e83b08dad5277906%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C638056662780922181%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=zR%2BR5PfFM7NlJQBaP0EoaqX9xavj3no4%2B6xJAgdQTB0%3D&reserved=0>.
You are receiving this because you are subscribed to this thread.Message ID: <ccrook/QGIS-Contour-Plugin/issues/46 at github.com>

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221204/fff304d5/attachment.htm>

From nyall.dawson at gmail.com  Sun Dec  4 15:51:21 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 5 Dec 2022 09:51:21 +1000
Subject: [QGIS-Developer] Fw: [ccrook/QGIS-Contour-Plugin] RuntimeError
 : wrapped C/C++ object of type ContourGeneratorAlgorithm has been deleted
 (Issue #46)
In-Reply-To: <SY4PR01MB6553D81C2EBFD99C8151CDF2EC199@SY4PR01MB6553.ausprd01.prod.outlook.com>
References: <ccrook/QGIS-Contour-Plugin/issues/46@github.com>
 <SY4PR01MB6553D81C2EBFD99C8151CDF2EC199@SY4PR01MB6553.ausprd01.prod.outlook.com>
Message-ID: <CAB28AshB6MQEwjK6m=kEdK6oqAAjmPyLYuc4aBbxZKrrQsBfEA@mail.gmail.com>

On Mon, 5 Dec 2022 at 07:35, Chris Crook via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi Developers
>
> The contour plugin I have been maintaining seems to occasionally lose the C++ object that its processing algorithm is using.
> In particular this happens when changing settings.
>
> Before I get lost trying to track this through the Python/SWIG bindings and comparing with other processing algorithms I am wondering if this is familiar or you can offer ideas about how to track it down.  It seems either my python object is persisting too long or or the underlying C++ object not long enough, but I'm very unfamiliar with SWIG so any suggestions would be very welcome ?

There's a bug in your loadAlgorithms() implementation. In this you
need to create a NEW instance of each algorithm, rather then adding an
instance which has previously been add in an earlier call to
loadAlgorithms().

Ie DON'T do this:

def __init__(self):

    self.algs = [MyAlgorithm()]

def loadAlgorithms(self):
    for alg in self.algs:
        self.addAlgorithm(alg)

Rather do something like this:

def loadAlgorithms(self):
    for alg in [MyAlgorithm()]:
        self.addAlgorithm(alg)

(or alternatively:


def __init__(self):

    self.alg_classes = [MyAlgorithm]

def loadAlgorithms(self):
    for alg_class in self.alg_classes:
        self.addAlgorithm(alg_class())


)

Hope that helps!

Nyall



>
> Thanks
> Chris
> ________________________________
> From: Taras Dubrava <notifications at github.com>
> Sent: 04 December 2022 01:11
> To: ccrook/QGIS-Contour-Plugin <QGIS-Contour-Plugin at noreply.github.com>
> Cc: Subscribed <subscribed at noreply.github.com>
> Subject: [ccrook/QGIS-Contour-Plugin] RuntimeError : wrapped C/C++ object of type ContourGeneratorAlgorithm has been deleted (Issue #46)
>
>
> Every time when I change the background colour in QGIS the following error appears
>
> QGIS 3.28 Firenze
>
> ?
> Reply to this email directly, view it on GitHub, or unsubscribe.
> You are receiving this because you are subscribed to this thread.Message ID: <ccrook/QGIS-Contour-Plugin/issues/46 at github.com>
>
>
> ________________________________
>
> This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Sun Dec  4 15:53:42 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 5 Dec 2022 09:53:42 +1000
Subject: [QGIS-Developer] createvectorTable error: Could not retrieve
 driver for connection
In-Reply-To: <80f59459-231d-af48-85d1-2e18ebbf210a@duif.net>
References: <3d7f0c0a-9cd4-041f-1489-ac149f8e9f3e@terglobo.nl>
 <f9da0004-9417-5897-bc3d-6f26df2d5d2c@terglobo.nl>
 <3478fff4-51c5-7185-4cd6-5f4de98cfe45@duif.net>
 <80f59459-231d-af48-85d1-2e18ebbf210a@duif.net>
Message-ID: <CAB28Asj1+9nE8FkXYgTdUSqV5x_as3pCXxJc0q_3JOsX7cfzQw@mail.gmail.com>

On Fri, 2 Dec 2022 at 23:05, Richard Duivenvoorde via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Ok, I think I found the crux!
>
> With your code QGIS 3.26 will CREATE a new geopackage... (if it is not there yet)
> After which QGIS master is fine
>
> BUT QGIS master apparently does NOT create a new geopackage with your code...
> So IF there is an excisting test.gpkg, all is fine
> IF there is not one, it depends on you QGIS version if it creates a fresh one or not?
>
> Maybe some core dev can say something about this?

I'd say the old behaviour was an unintentional bug, and that
createConnection should only be used with a path that already exists.

For 3.28 and later you can create empty databases using
QgsProviderMetadata.createDatabase(uri), eg:

QgsProviderRegistry.instance().providerMetadata('ogr').createDatabase('/path/to/data.gpkg')

After that you can create a connection to the db using createConnection safely.

Nyall



>
> Regards,
>
> Richard Duivenvoorde
>
> On 12/2/22 13:53, Richard Duivenvoorde via QGIS-Developer wrote:
> > Hi Raymond,
> >
> > I've updated your test script a little:
> >
> > gpkg_fn = '/tmp/test.gpkg'
> > try:
> >      print(QgsProviderRegistry.instance().providerList())
> >      md = QgsProviderRegistry.instance().providerMetadata('ogr')
> >      print(f'md = {md}')
> >      conn = md.createConnection(gpkg_fn, {})
> >      print(f'conn = {conn}')
> >      fields = QgsFields()
> >      fields.append(QgsField('key', QVariant.String))
> >      fields.append(QgsField('value', QVariant.String))
> >      conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
> > except Exception as e:
> >      print(f'ERROR: {e}')
> >
> > As said: in my freshly compiled master, this fails to run with 'Could not retrieve driver for connection'
> > It also fails on my 3.28.0 version I have in a Windows VM.
> >
> > It DOES print the 'ogr' driver in the providerList() though.
> >
> > Strange behaviour: after starting (the older compiled) Qgis 3.26 on the same Linux system (in 3.26 the script always seems to work...) QGIS master ALSO works!!!
> >
> > So I thought it had something todo with loading different provider registries or so?
> > Maybe master not having something but after starting 3.26 it was there?
> > Or is it loading (different) gdal/ogr libs order?
> > Did something change there?
> >
> > Looking that the createConnection docs:
> > https://qgis.org/pyqgis/master/core/QgsConnectionRegistry.html#qgis.core.QgsConnectionRegistry.createConnection
> > I thought to see that your 'id' was only the filename, but adding ogr:// in front of it does not even work...
> > So not sure if that createConnection doc is old, or if I'm looking in the wrong createConnection...
> >
> > Anybody can
> >
> >
> >>>
> > On 12/2/22 12:30, Raymond Nijssen via QGIS-Developer wrote:
> >> No one having a clue? Should I create an issue?
> >>
> >> Raymond
> >>
> >>
> >> On 30-11-2022 18:08, Raymond Nijssen via QGIS-Developer wrote:
> >>> Hi developers,
> >>>
> >>> Recently some users of my plugin started getting errors in the code that creates a .gpkg file with a table. I wrote a piece of test code:
> >>>
> >>> gpkg_fn = '/home/raymond/tmp/test.gpkg'
> >>> md = QgsProviderRegistry.instance().providerMetadata('ogr')
> >>> conn = md.createConnection(gpkg_fn, {})
> >>> fields = QgsFields()
> >>> fields.append(QgsField('key', QVariant.String))
> >>> fields.append(QgsField('value', QVariant.String))
> >>> conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
> >>>
> >>>
> >>> That last line *sometimes* results in this error:
> >>>
> >>> _core.QgsProviderConnectionException: Could not retrieve driver for connection
> >>>
> >>>
> >>>
> >>> I cannot reproduce the error on my laptop (Linux), but Richard tried a few QGIS versions in both Windows and Linux and *sometimes* got the error and sometimes not. Even in the same application, the error disappeared after running another version of QGIS simultaneously... :/
> >>>
> >>> No clue if this error is GDAL or Qt or whatever related, pretty puzzling for me. Hope anyone can help!
> >>>
> >>> Kind regards,
> >>> Raymond
> >>> _______________________________________________
> >>> QGIS-Developer mailing list
> >>> QGIS-Developer at lists.osgeo.org
> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Sun Dec  4 15:54:33 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 5 Dec 2022 09:54:33 +1000
Subject: [QGIS-Developer] QGIS expression to get internal ID of a
 feature in a related layer
In-Reply-To: <fc3e9bf5223e4b66cb5eb6eb4c8aa990@carto.net>
References: <fc3e9bf5223e4b66cb5eb6eb4c8aa990@carto.net>
Message-ID: <CAB28AsiS_JLG1RbYWM5jwLUu1OBAj5g50z6AFArBCfcbWC823w@mail.gmail.com>

On Wed, 30 Nov 2022 at 00:06, Andreas Neumann via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi,
>
> I am looking for a way to find out the internal id of a related layer with a QGIS expression.
>
> @id and $id only work directly on the feature of the source layer, but not on related layers.
>
> attributes(
>    get_feature(
>       'Other Related Layer',
>       't_id',
>       fkey_value
>    )
> )
>
> doesn't contain the internal id of the other layer ...
>
> Any ideas how to get access to internal ids of other layers?

This is indeed a silly limitation -- we need a "feature_id(...)"
expression function!

Can you file a feature request for this?

Nyall


>
> Thank you and greetings,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From r.nijssen at terglobo.nl  Sun Dec  4 23:55:17 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 5 Dec 2022 08:55:17 +0100
Subject: [QGIS-Developer] createvectorTable error: Could not retrieve
 driver for connection
In-Reply-To: <CAB28Asj1+9nE8FkXYgTdUSqV5x_as3pCXxJc0q_3JOsX7cfzQw@mail.gmail.com>
References: <3d7f0c0a-9cd4-041f-1489-ac149f8e9f3e@terglobo.nl>
 <f9da0004-9417-5897-bc3d-6f26df2d5d2c@terglobo.nl>
 <3478fff4-51c5-7185-4cd6-5f4de98cfe45@duif.net>
 <80f59459-231d-af48-85d1-2e18ebbf210a@duif.net>
 <CAB28Asj1+9nE8FkXYgTdUSqV5x_as3pCXxJc0q_3JOsX7cfzQw@mail.gmail.com>
Message-ID: <b75992e4-6aab-9265-70a7-6d94d54f8b4c@terglobo.nl>

Thanks Nyall, will try this today!

Raymond



On 05-12-2022 00:53, Nyall Dawson wrote:
> On Fri, 2 Dec 2022 at 23:05, Richard Duivenvoorde via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
>>
>> Ok, I think I found the crux!
>>
>> With your code QGIS 3.26 will CREATE a new geopackage... (if it is not there yet)
>> After which QGIS master is fine
>>
>> BUT QGIS master apparently does NOT create a new geopackage with your code...
>> So IF there is an excisting test.gpkg, all is fine
>> IF there is not one, it depends on you QGIS version if it creates a fresh one or not?
>>
>> Maybe some core dev can say something about this?
> 
> I'd say the old behaviour was an unintentional bug, and that
> createConnection should only be used with a path that already exists.
> 
> For 3.28 and later you can create empty databases using
> QgsProviderMetadata.createDatabase(uri), eg:
> 
> QgsProviderRegistry.instance().providerMetadata('ogr').createDatabase('/path/to/data.gpkg')
> 
> After that you can create a connection to the db using createConnection safely.
> 
> Nyall
> 
> 
> 
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>> On 12/2/22 13:53, Richard Duivenvoorde via QGIS-Developer wrote:
>>> Hi Raymond,
>>>
>>> I've updated your test script a little:
>>>
>>> gpkg_fn = '/tmp/test.gpkg'
>>> try:
>>>       print(QgsProviderRegistry.instance().providerList())
>>>       md = QgsProviderRegistry.instance().providerMetadata('ogr')
>>>       print(f'md = {md}')
>>>       conn = md.createConnection(gpkg_fn, {})
>>>       print(f'conn = {conn}')
>>>       fields = QgsFields()
>>>       fields.append(QgsField('key', QVariant.String))
>>>       fields.append(QgsField('value', QVariant.String))
>>>       conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
>>> except Exception as e:
>>>       print(f'ERROR: {e}')
>>>
>>> As said: in my freshly compiled master, this fails to run with 'Could not retrieve driver for connection'
>>> It also fails on my 3.28.0 version I have in a Windows VM.
>>>
>>> It DOES print the 'ogr' driver in the providerList() though.
>>>
>>> Strange behaviour: after starting (the older compiled) Qgis 3.26 on the same Linux system (in 3.26 the script always seems to work...) QGIS master ALSO works!!!
>>>
>>> So I thought it had something todo with loading different provider registries or so?
>>> Maybe master not having something but after starting 3.26 it was there?
>>> Or is it loading (different) gdal/ogr libs order?
>>> Did something change there?
>>>
>>> Looking that the createConnection docs:
>>> https://qgis.org/pyqgis/master/core/QgsConnectionRegistry.html#qgis.core.QgsConnectionRegistry.createConnection
>>> I thought to see that your 'id' was only the filename, but adding ogr:// in front of it does not even work...
>>> So not sure if that createConnection doc is old, or if I'm looking in the wrong createConnection...
>>>
>>> Anybody can
>>>
>>>
>>>>>
>>> On 12/2/22 12:30, Raymond Nijssen via QGIS-Developer wrote:
>>>> No one having a clue? Should I create an issue?
>>>>
>>>> Raymond
>>>>
>>>>
>>>> On 30-11-2022 18:08, Raymond Nijssen via QGIS-Developer wrote:
>>>>> Hi developers,
>>>>>
>>>>> Recently some users of my plugin started getting errors in the code that creates a .gpkg file with a table. I wrote a piece of test code:
>>>>>
>>>>> gpkg_fn = '/home/raymond/tmp/test.gpkg'
>>>>> md = QgsProviderRegistry.instance().providerMetadata('ogr')
>>>>> conn = md.createConnection(gpkg_fn, {})
>>>>> fields = QgsFields()
>>>>> fields.append(QgsField('key', QVariant.String))
>>>>> fields.append(QgsField('value', QVariant.String))
>>>>> conn.createVectorTable('', 'test', fields, QgsWkbTypes.NoGeometry, QgsCoordinateReferenceSystem(), True, {})
>>>>>
>>>>>
>>>>> That last line *sometimes* results in this error:
>>>>>
>>>>> _core.QgsProviderConnectionException: Could not retrieve driver for connection
>>>>>
>>>>>
>>>>>
>>>>> I cannot reproduce the error on my laptop (Linux), but Richard tried a few QGIS versions in both Windows and Linux and *sometimes* got the error and sometimes not. Even in the same application, the error disappeared after running another version of QGIS simultaneously... :/
>>>>>
>>>>> No clue if this error is GDAL or Qt or whatever related, pretty puzzling for me. Hope anyone can help!
>>>>>
>>>>> Kind regards,
>>>>> Raymond
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From a.neumann at carto.net  Mon Dec  5 02:15:18 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 05 Dec 2022 11:15:18 +0100
Subject: [QGIS-Developer] QGIS expression to get internal ID of a
 feature in a related layer
In-Reply-To: <CAB28AsiS_JLG1RbYWM5jwLUu1OBAj5g50z6AFArBCfcbWC823w@mail.gmail.com>
References: <fc3e9bf5223e4b66cb5eb6eb4c8aa990@carto.net>
 <CAB28AsiS_JLG1RbYWM5jwLUu1OBAj5g50z6AFArBCfcbWC823w@mail.gmail.com>
Message-ID: <64bcecb009eb4407c2e64c8062f1d5e9@carto.net>

Hi,

I created a feature request at https://github.com/qgis/QGIS/issues/51116

The parameters need to be discussed ...

Andreas

On 2022-12-05 00:54, Nyall Dawson wrote:

> On Wed, 30 Nov 2022 at 00:06, Andreas Neumann via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
> 
>> Hi,
>> 
>> I am looking for a way to find out the internal id of a related layer 
>> with a QGIS expression.
>> 
>> @id and $id only work directly on the feature of the source layer, but 
>> not on related layers.
>> 
>> attributes(
>> get_feature(
>> 'Other Related Layer',
>> 't_id',
>> fkey_value
>> )
>> )
>> 
>> doesn't contain the internal id of the other layer ...
>> 
>> Any ideas how to get access to internal ids of other layers?
> 
> This is indeed a silly limitation -- we need a "feature_id(...)"
> expression function!
> 
> Can you file a feature request for this?
> 
> Nyall
> 
>> Thank you and greetings,
>> 
>> Andreas
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221205/6e7a1cc7/attachment.htm>

From vincent.ml at oslandia.com  Mon Dec  5 02:27:39 2022
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Mon, 5 Dec 2022 11:27:39 +0100
Subject: [QGIS-Developer] [Qgis-psc] QGIS budget 2023 RFC
In-Reply-To: <CAB2Z92CnEfesFQv9ZgRRzG3uTb0oLeeFydN9mArY4WarrPJ08w@mail.gmail.com>
References: <CAB2ZMRCzVPcs9YpZTBEX4c00=kBZvY-i0Af3ZKr7GN7n9gCyRw@mail.gmail.com>
 <f839d42f-0acd-b0ed-8133-dc1dd0eb2425@oslandia.com>
 <CAB2Z92CnEfesFQv9ZgRRzG3uTb0oLeeFydN9mArY4WarrPJ08w@mail.gmail.com>
Message-ID: <b3523970-807f-7c97-d805-113320f5b20f@oslandia.com>

Hi Andreas, all,

On 24/11/2022 16:09, Andreas Neumann wrote:
[..]
> We did not really discuss the hourly rates at the budget meeting.
> From 2021 to 2022 we raised the hourly dev rates from 100 to 110 -
> and the hourly documentation rates from 40 to 44. I know that both
> rates are low. We can discuss raising them again.

My question was general, and actually includes all prices. I have no definite opinion on this topic, as it can be complicated given the disparity of inflation according to what price we are talking about, and also geographically speaking.

> The plan for the two positions was not to have direct employees of
> QGIS.ORG <http://QGIS.ORG>, but to use a proxy company, in our case
> Kartoza, to act as the employer. Also - our budget does not allow
> regular European or North-American salaries. With these limitations
> at hand, we can use Kartoza as a proxy to hire employees in certain
> parts of the world where the salaries we can offer can be attractive
> - and where they have talented people to work on some of our issues
> (sysadmin, documentation, etc.)

I have very mixed feelings about this, and it raises lots of questions we definitely have to clear out before establishing any process.

- Using a proxy company is very similar to me than having direct employees, if these positions have no clear limits of time and perimeter
- Using a proxy company instead of direct employees can be considered illegal according to local legislation. I do not know for Swiss law.
- How was Kartoza selected ? Was there an open process for other companies to apply ? Who decided and on what criteria ? The fact that the company owned by a member of QGIS PSC is selected is a big red flag for me, if the process is not fully transparent and fair for others.
- "our budget does not allow European or North-American salaries" : see below for the budget volume comments. But I have very mixed feelings about this statement : it sounds exactly like social dumping. I do not know what would be fair to select employees, and I recognize it to be a complex issue, but in some ways it does not feel right.
  
> For the documentation part: Tim and Harrissou are involved in the
> selection process of the candidates.

Is the process and selection committee documented somewhere ?

> I agree that the grant budget with 10k is not very attractive. We
> also discussed skipping it for one year. Not sure what is better ...
> 
> BTW: you can all help to find new sustaining members ... that would
> increase our budget and would allow us to pay better hourly rates
> ...
> 
> I wish we had a larger budget at hand than the +/- 200k ? we seem to
> be able to attract each year. From certain countries where we know we
> have a lot of QGIS users (France, Italy - just to name two of them)
> there are not a lot of sustaining members or donations other than
> from a few private persons and very small companies. Maybe companies
> like yours could help us to get in touch with the larger companies
> with a lot of QGIS users that could become new sustaining members ...
> Do you think that would be possible?

First of all, complaining that our budget is too low is definitely not the way to consider the problem : QGIS.org budget will, by definition, **always** be too low compared to what we could need. Developing a software and managing a community is a boundless task and you can always find tasks and work packages to spend all the money you can imagine of.

I agree that QGIS.org could attract more sustaining members. I just hope you are not accusing Oslandia of not doing our job of proselitysm, QGIS community support, communication and globally QGIS.org and QGIS software contributions. We do our part for sure.

... And this is not the point, as I said the question I raise is not how to increase our budget, since the exact same issues will araise with a larger budget.

The questions are :
- A/ how do we use our existing budget for most important things to support
- B/ what our decisions processes are, where are they documented, and are they clear, transparent and fair

As for A, one of my take is that seeing the grant budget disappear this year is a pity, especially seeing other amounts dedicated to documentation for example.

As for B, I consider that there is a lot of progress to do to make recent decisions and actions clean and trustworthy.

Should we want to attract new sustaining members giving money to QGIS.org, we must have an exemplary behaviour in how we decide how to use this money.

Vincent


> 
> Andreas
> 
> On Thu, 24 Nov 2022 at 15:05, Vincent Picavet (ml) via QGIS-Developer
> <qgis-developer at lists.osgeo.org
> <mailto:qgis-developer at lists.osgeo.org>> wrote:
> 
> Hello,
> 
> Thanks for sharing the budget with the community.
> 
> A few questions / remarks : - in most countries, we can see a general
> inflation, having consequences on every kind of costs ( hosting,
> salaries?). Did you take this context into account when preparing the
> budget, especially when basing planned 2023 costs on actual 2022
> costs ? - the cut on Grant budget is really hard. With a "reasonable"
> mean budget of 5K per grant, this would mean 2 grants only this year.
> It sounds more or less like the end of the grant program. Who would
> candidate if chances to be selected are really low ? Wouldn't there
> be a way to mitigate it a bit, through various smaller budget
> reductions to other budget lines ? The increase in documentation
> contribution is huge compared to the grant decrease. I fear that we
> loose grants as a mean to attract new core developers.
> 
> My most important remark is about "allow for a regular small salary
> .. for one person on each item". Disclaimer : I am quite strongly
> against QGIS.org having employees. If we are in the process of having
> "regular workers" for qgis.org <http://qgis.org>, then we really have
> to work hard on : - having a clear, written and transparent process
> for how to select these people - .. process including a fair way for
> anyone to candidate I may have missed some communications, but I have
> not seen this in place up to now. This is definitely something we
> have to put in place before having some internal troubles.
> 
> Best regards, Vincent
> 
> On 24/11/2022 12:07, Marco Bernasocchi wrote:
>> Hi all, we prepared the QGIS budget for 2023 and would like to
>> have feedback before submitting it to the voting members for
>> approval. You can directly leave comments in the file [1].
>> 
>> Please let us have any Feedback until December 4th. On december
>> 7th we'll send the budget for vote.
>> 
>> Cheers Marco
>> 
>> [1] 
>> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>> <https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing>
>
>> 
> <https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
> <https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing>>
>
> 
> 
>> -- Marco Bernasocchi
>> 
>> QGIS.org Chair OPENGIS.ch CEO http://berna.io <http://berna.io>
>> <http://berna.io <http://berna.io>>
>> 
>> _______________________________________________ Qgis-psc mailing 
>> list Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org> 
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>> <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
> 
> _______________________________________________ QGIS-Developer
> mailing list QGIS-Developer at lists.osgeo.org
> <mailto:QGIS-Developer at lists.osgeo.org> List info:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> <https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> --
> 
> -- Andreas Neumann QGIS.ORG <http://QGIS.ORG> board member
> (treasurer)


From delazj at gmail.com  Mon Dec  5 05:47:00 2022
From: delazj at gmail.com (DelazJ)
Date: Mon, 5 Dec 2022 14:47:00 +0100
Subject: [QGIS-Developer] Expression to sort by multiple fields
Message-ID: <CAECJsSq2qv1-xUWDX0ApP4MR8YBYZWZmQR+XFBf0MOow_Js-gw@mail.gmail.com>

Hi QGISers,

I struggled and failed to find a way to use QGIS expressions functions in
order to select features based on sorting on different fields. I played
with aggregates, arrays, maps but couldn't find how to control sort order
(and imbricate it). I finally generated virtual layers to do the work but
would really love to select and not extract.
The need in SQL is something like:

select somefields, afield, st_length(geometry) as longueur, geometry
from mylayer
where longueur < 10*order by afield desc, longueur asc*
limit 5

Any help would be more than welcome.
Thanks in advance

Kind regards,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221205/f2393f60/attachment.htm>

From simon at sgroe.at  Mon Dec  5 08:22:30 2022
From: simon at sgroe.at (simon at sgroe.at)
Date: Mon, 05 Dec 2022 17:22:30 +0100
Subject: [QGIS-Developer] Using QgsProfilePlotRenderer in processing
 algorithm
Message-ID: <d261d566b17e0cfbcf53b6dc1b401537@sgroe.at>



Hi all,

I have created a simple python script that generates and renders a 
series of profile plots. It works fine. Now I would like to transform 
the script into a processing algorithm in order to create a better UX 
and to allow users to set some parameters (e.g. plot distance in 
exported image).

Unfortunately, the generation process (in the background thread) never 
finishes within the processing algorithm. It works fine in the simple 
python script (without processing algorithm).

You can find the code here: 
https://mega.nz/folder/Kn51yY7K#5HYICPUaqOIQf-oQykSx7w

Is there an issue with the background threads (algorithm thread vs. plot 
generation thread)?

Best regards
Simon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221205/06e92865/attachment.htm>

From enricofer at gmail.com  Mon Dec  5 09:17:54 2022
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Mon, 5 Dec 2022 18:17:54 +0100
Subject: [QGIS-Developer] [Qgis-psc] QGIS budget 2023 RFC
In-Reply-To: <b3523970-807f-7c97-d805-113320f5b20f@oslandia.com>
References: <CAB2ZMRCzVPcs9YpZTBEX4c00=kBZvY-i0Af3ZKr7GN7n9gCyRw@mail.gmail.com>
 <f839d42f-0acd-b0ed-8133-dc1dd0eb2425@oslandia.com>
 <CAB2Z92CnEfesFQv9ZgRRzG3uTb0oLeeFydN9mArY4WarrPJ08w@mail.gmail.com>
 <b3523970-807f-7c97-d805-113320f5b20f@oslandia.com>
Message-ID: <CAJy=Xtd2ssRNvGwmPLPS+_N=VxkX798A1__bdKEPQqtfsub4EQ@mail.gmail.com>

> As for A, one of my take is that seeing the grant budget disappear this
year is a pity, especially seeing other amounts dedicated to documentation
for example.

I agree with Vincent and Matteo and even if I understand the need of fund
bugfixing and qt6 migration I would strongly recommend to improve grants
budget as a consistent way to interact with community, furthermore I would
enlarge core developers audience in any way with targeted training and
social involvement and lowering the needed technical contribution skills. I
thank you all for sharing this interesting discussion.

Il giorno lun 5 dic 2022 alle ore 11:27 Vincent Picavet (ml) via
QGIS-Developer <qgis-developer at lists.osgeo.org> ha scritto:

> Hi Andreas, all,
>
> On 24/11/2022 16:09, Andreas Neumann wrote:
> [..]
> > We did not really discuss the hourly rates at the budget meeting.
> > From 2021 to 2022 we raised the hourly dev rates from 100 to 110 -
> > and the hourly documentation rates from 40 to 44. I know that both
> > rates are low. We can discuss raising them again.
>
> My question was general, and actually includes all prices. I have no
> definite opinion on this topic, as it can be complicated given the
> disparity of inflation according to what price we are talking about, and
> also geographically speaking.
>
> > The plan for the two positions was not to have direct employees of
> > QGIS.ORG <http://QGIS.ORG>, but to use a proxy company, in our case
> > Kartoza, to act as the employer. Also - our budget does not allow
> > regular European or North-American salaries. With these limitations
> > at hand, we can use Kartoza as a proxy to hire employees in certain
> > parts of the world where the salaries we can offer can be attractive
> > - and where they have talented people to work on some of our issues
> > (sysadmin, documentation, etc.)
>
> I have very mixed feelings about this, and it raises lots of questions we
> definitely have to clear out before establishing any process.
>
> - Using a proxy company is very similar to me than having direct
> employees, if these positions have no clear limits of time and perimeter
> - Using a proxy company instead of direct employees can be considered
> illegal according to local legislation. I do not know for Swiss law.
> - How was Kartoza selected ? Was there an open process for other companies
> to apply ? Who decided and on what criteria ? The fact that the company
> owned by a member of QGIS PSC is selected is a big red flag for me, if the
> process is not fully transparent and fair for others.
> - "our budget does not allow European or North-American salaries" : see
> below for the budget volume comments. But I have very mixed feelings about
> this statement : it sounds exactly like social dumping. I do not know what
> would be fair to select employees, and I recognize it to be a complex
> issue, but in some ways it does not feel right.
>
> > For the documentation part: Tim and Harrissou are involved in the
> > selection process of the candidates.
>
> Is the process and selection committee documented somewhere ?
>
> > I agree that the grant budget with 10k is not very attractive. We
> > also discussed skipping it for one year. Not sure what is better ...
> >
> > BTW: you can all help to find new sustaining members ... that would
> > increase our budget and would allow us to pay better hourly rates
> > ...
> >
> > I wish we had a larger budget at hand than the +/- 200k ? we seem to
> > be able to attract each year. From certain countries where we know we
> > have a lot of QGIS users (France, Italy - just to name two of them)
> > there are not a lot of sustaining members or donations other than
> > from a few private persons and very small companies. Maybe companies
> > like yours could help us to get in touch with the larger companies
> > with a lot of QGIS users that could become new sustaining members ...
> > Do you think that would be possible?
>
> First of all, complaining that our budget is too low is definitely not the
> way to consider the problem : QGIS.org budget will, by definition,
> **always** be too low compared to what we could need. Developing a software
> and managing a community is a boundless task and you can always find tasks
> and work packages to spend all the money you can imagine of.
>
> I agree that QGIS.org could attract more sustaining members. I just hope
> you are not accusing Oslandia of not doing our job of proselitysm, QGIS
> community support, communication and globally QGIS.org and QGIS software
> contributions. We do our part for sure.
>
> ... And this is not the point, as I said the question I raise is not how
> to increase our budget, since the exact same issues will araise with a
> larger budget.
>
> The questions are :
> - A/ how do we use our existing budget for most important things to support
> - B/ what our decisions processes are, where are they documented, and are
> they clear, transparent and fair
>
> As for A, one of my take is that seeing the grant budget disappear this
> year is a pity, especially seeing other amounts dedicated to documentation
> for example.
>
> As for B, I consider that there is a lot of progress to do to make recent
> decisions and actions clean and trustworthy.
>
> Should we want to attract new sustaining members giving money to QGIS.org,
> we must have an exemplary behaviour in how we decide how to use this money.
>
> Vincent
>
>
> >
> > Andreas
> >
> > On Thu, 24 Nov 2022 at 15:05, Vincent Picavet (ml) via QGIS-Developer
> > <qgis-developer at lists.osgeo.org
> > <mailto:qgis-developer at lists.osgeo.org>> wrote:
> >
> > Hello,
> >
> > Thanks for sharing the budget with the community.
> >
> > A few questions / remarks : - in most countries, we can see a general
> > inflation, having consequences on every kind of costs ( hosting,
> > salaries?). Did you take this context into account when preparing the
> > budget, especially when basing planned 2023 costs on actual 2022
> > costs ? - the cut on Grant budget is really hard. With a "reasonable"
> > mean budget of 5K per grant, this would mean 2 grants only this year.
> > It sounds more or less like the end of the grant program. Who would
> > candidate if chances to be selected are really low ? Wouldn't there
> > be a way to mitigate it a bit, through various smaller budget
> > reductions to other budget lines ? The increase in documentation
> > contribution is huge compared to the grant decrease. I fear that we
> > loose grants as a mean to attract new core developers.
> >
> > My most important remark is about "allow for a regular small salary
> > .. for one person on each item". Disclaimer : I am quite strongly
> > against QGIS.org having employees. If we are in the process of having
> > "regular workers" for qgis.org <http://qgis.org>, then we really have
> > to work hard on : - having a clear, written and transparent process
> > for how to select these people - .. process including a fair way for
> > anyone to candidate I may have missed some communications, but I have
> > not seen this in place up to now. This is definitely something we
> > have to put in place before having some internal troubles.
> >
> > Best regards, Vincent
> >
> > On 24/11/2022 12:07, Marco Bernasocchi wrote:
> >> Hi all, we prepared the QGIS budget for 2023 and would like to
> >> have feedback before submitting it to the voting members for
> >> approval. You can directly leave comments in the file [1].
> >>
> >> Please let us have any Feedback until December 4th. On december
> >> 7th we'll send the budget for vote.
> >>
> >> Cheers Marco
> >>
> >> [1]
> >>
> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
> >> <
> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
> >
> >
> >>
> > <
> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
> > <
> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
> >>
> >
> >
> >
> >> -- Marco Bernasocchi
> >>
> >> QGIS.org Chair OPENGIS.ch CEO http://berna.io <http://berna.io>
> >> <http://berna.io <http://berna.io>>
> >>
> >> _______________________________________________ Qgis-psc mailing
> >> list Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
> >> https://lists.osgeo.org/mailman/listinfo/qgis-psc
> >> <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
> >
> > _______________________________________________ QGIS-Developer
> > mailing list QGIS-Developer at lists.osgeo.org
> > <mailto:QGIS-Developer at lists.osgeo.org> List info:
> > https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
> >
> >
> > --
> >
> > -- Andreas Neumann QGIS.ORG <http://QGIS.ORG> board member
> > (treasurer)
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221205/307140ec/attachment-0001.htm>

From nyall.dawson at gmail.com  Mon Dec  5 12:48:41 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 6 Dec 2022 06:48:41 +1000
Subject: [QGIS-Developer] [Qgis-voting-members] [Qgis-psc] QGIS budget
 2023 RFC
In-Reply-To: <CAJy=Xtd2ssRNvGwmPLPS+_N=VxkX798A1__bdKEPQqtfsub4EQ@mail.gmail.com>
References: <CAB2ZMRCzVPcs9YpZTBEX4c00=kBZvY-i0Af3ZKr7GN7n9gCyRw@mail.gmail.com>
 <f839d42f-0acd-b0ed-8133-dc1dd0eb2425@oslandia.com>
 <CAB2Z92CnEfesFQv9ZgRRzG3uTb0oLeeFydN9mArY4WarrPJ08w@mail.gmail.com>
 <b3523970-807f-7c97-d805-113320f5b20f@oslandia.com>
 <CAJy=Xtd2ssRNvGwmPLPS+_N=VxkX798A1__bdKEPQqtfsub4EQ@mail.gmail.com>
Message-ID: <CAB28Asidz9arC+A5SytY1Bv2kbG+B+dXSekdzOVN4BAqHhuOrg@mail.gmail.com>

On Tue, 6 Dec 2022 at 03:18, Enrico Ferreguti <enricofer at gmail.com> wrote:

>  I would enlarge core developers audience in any way with... lowering the needed technical contribution skills.

While this sounds great in theory the reality is that this will never
happen, regardless of how much resources we throw at things. If
anything the required technical skills will only grow even *more*
complex moving forward. There's nothing implicitly wrong with that,
it's a sign of a mature project with a strong emphasis on performance
and stability.

Nyall



>
> Il giorno lun 5 dic 2022 alle ore 11:27 Vincent Picavet (ml) via QGIS-Developer <qgis-developer at lists.osgeo.org> ha scritto:
>>
>> Hi Andreas, all,
>>
>> On 24/11/2022 16:09, Andreas Neumann wrote:
>> [..]
>> > We did not really discuss the hourly rates at the budget meeting.
>> > From 2021 to 2022 we raised the hourly dev rates from 100 to 110 -
>> > and the hourly documentation rates from 40 to 44. I know that both
>> > rates are low. We can discuss raising them again.
>>
>> My question was general, and actually includes all prices. I have no definite opinion on this topic, as it can be complicated given the disparity of inflation according to what price we are talking about, and also geographically speaking.
>>
>> > The plan for the two positions was not to have direct employees of
>> > QGIS.ORG <http://QGIS.ORG>, but to use a proxy company, in our case
>> > Kartoza, to act as the employer. Also - our budget does not allow
>> > regular European or North-American salaries. With these limitations
>> > at hand, we can use Kartoza as a proxy to hire employees in certain
>> > parts of the world where the salaries we can offer can be attractive
>> > - and where they have talented people to work on some of our issues
>> > (sysadmin, documentation, etc.)
>>
>> I have very mixed feelings about this, and it raises lots of questions we definitely have to clear out before establishing any process.
>>
>> - Using a proxy company is very similar to me than having direct employees, if these positions have no clear limits of time and perimeter
>> - Using a proxy company instead of direct employees can be considered illegal according to local legislation. I do not know for Swiss law.
>> - How was Kartoza selected ? Was there an open process for other companies to apply ? Who decided and on what criteria ? The fact that the company owned by a member of QGIS PSC is selected is a big red flag for me, if the process is not fully transparent and fair for others.
>> - "our budget does not allow European or North-American salaries" : see below for the budget volume comments. But I have very mixed feelings about this statement : it sounds exactly like social dumping. I do not know what would be fair to select employees, and I recognize it to be a complex issue, but in some ways it does not feel right.
>>
>> > For the documentation part: Tim and Harrissou are involved in the
>> > selection process of the candidates.
>>
>> Is the process and selection committee documented somewhere ?
>>
>> > I agree that the grant budget with 10k is not very attractive. We
>> > also discussed skipping it for one year. Not sure what is better ...
>> >
>> > BTW: you can all help to find new sustaining members ... that would
>> > increase our budget and would allow us to pay better hourly rates
>> > ...
>> >
>> > I wish we had a larger budget at hand than the +/- 200k ? we seem to
>> > be able to attract each year. From certain countries where we know we
>> > have a lot of QGIS users (France, Italy - just to name two of them)
>> > there are not a lot of sustaining members or donations other than
>> > from a few private persons and very small companies. Maybe companies
>> > like yours could help us to get in touch with the larger companies
>> > with a lot of QGIS users that could become new sustaining members ...
>> > Do you think that would be possible?
>>
>> First of all, complaining that our budget is too low is definitely not the way to consider the problem : QGIS.org budget will, by definition, **always** be too low compared to what we could need. Developing a software and managing a community is a boundless task and you can always find tasks and work packages to spend all the money you can imagine of.
>>
>> I agree that QGIS.org could attract more sustaining members. I just hope you are not accusing Oslandia of not doing our job of proselitysm, QGIS community support, communication and globally QGIS.org and QGIS software contributions. We do our part for sure.
>>
>> ... And this is not the point, as I said the question I raise is not how to increase our budget, since the exact same issues will araise with a larger budget.
>>
>> The questions are :
>> - A/ how do we use our existing budget for most important things to support
>> - B/ what our decisions processes are, where are they documented, and are they clear, transparent and fair
>>
>> As for A, one of my take is that seeing the grant budget disappear this year is a pity, especially seeing other amounts dedicated to documentation for example.
>>
>> As for B, I consider that there is a lot of progress to do to make recent decisions and actions clean and trustworthy.
>>
>> Should we want to attract new sustaining members giving money to QGIS.org, we must have an exemplary behaviour in how we decide how to use this money.
>>
>> Vincent
>>
>>
>> >
>> > Andreas
>> >
>> > On Thu, 24 Nov 2022 at 15:05, Vincent Picavet (ml) via QGIS-Developer
>> > <qgis-developer at lists.osgeo.org
>> > <mailto:qgis-developer at lists.osgeo.org>> wrote:
>> >
>> > Hello,
>> >
>> > Thanks for sharing the budget with the community.
>> >
>> > A few questions / remarks : - in most countries, we can see a general
>> > inflation, having consequences on every kind of costs ( hosting,
>> > salaries?). Did you take this context into account when preparing the
>> > budget, especially when basing planned 2023 costs on actual 2022
>> > costs ? - the cut on Grant budget is really hard. With a "reasonable"
>> > mean budget of 5K per grant, this would mean 2 grants only this year.
>> > It sounds more or less like the end of the grant program. Who would
>> > candidate if chances to be selected are really low ? Wouldn't there
>> > be a way to mitigate it a bit, through various smaller budget
>> > reductions to other budget lines ? The increase in documentation
>> > contribution is huge compared to the grant decrease. I fear that we
>> > loose grants as a mean to attract new core developers.
>> >
>> > My most important remark is about "allow for a regular small salary
>> > .. for one person on each item". Disclaimer : I am quite strongly
>> > against QGIS.org having employees. If we are in the process of having
>> > "regular workers" for qgis.org <http://qgis.org>, then we really have
>> > to work hard on : - having a clear, written and transparent process
>> > for how to select these people - .. process including a fair way for
>> > anyone to candidate I may have missed some communications, but I have
>> > not seen this in place up to now. This is definitely something we
>> > have to put in place before having some internal troubles.
>> >
>> > Best regards, Vincent
>> >
>> > On 24/11/2022 12:07, Marco Bernasocchi wrote:
>> >> Hi all, we prepared the QGIS budget for 2023 and would like to
>> >> have feedback before submitting it to the voting members for
>> >> approval. You can directly leave comments in the file [1].
>> >>
>> >> Please let us have any Feedback until December 4th. On december
>> >> 7th we'll send the budget for vote.
>> >>
>> >> Cheers Marco
>> >>
>> >> [1]
>> >> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>> >> <https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing>
>> >
>> >>
>> > <https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>> > <https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing>>
>> >
>> >
>> >
>> >> -- Marco Bernasocchi
>> >>
>> >> QGIS.org Chair OPENGIS.ch CEO http://berna.io <http://berna.io>
>> >> <http://berna.io <http://berna.io>>
>> >>
>> >> _______________________________________________ Qgis-psc mailing
>> >> list Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>> >> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>> >> <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
>> >
>> > _______________________________________________ QGIS-Developer
>> > mailing list QGIS-Developer at lists.osgeo.org
>> > <mailto:QGIS-Developer at lists.osgeo.org> List info:
>> > https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> >
>> >
>> >
>> > --
>> >
>> > -- Andreas Neumann QGIS.ORG <http://QGIS.ORG> board member
>> > (treasurer)
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-voting-members mailing list
> Qgis-voting-members at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-voting-members

From a.neumann at carto.net  Tue Dec  6 06:59:47 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 06 Dec 2022 15:59:47 +0100
Subject: [QGIS-Developer] Question on current_value() expression in the
 context of filtering relation reference combo boxes
Message-ID: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>

Hi,

In one of my form setups,  I would like to filter one relation reference 
widget combo box with a filter expression based on the selected entry of 
another relation reference value.

A static filter like:

szenario_art = 'Brand'

works as expected and it returns the filtered values - but as soon as I 
try to base it on the value of another relation reference widget, it 
fails ...

I tried

szenario_art = current_value('szenario_art')

but no records get selected.

Questions:

  	* Does the current_value() return the "internal value" or the "human 
readable" value?
  	* Do I have to eval() something in the filter expression?
  	* Is there a way to test "current_value" somehow? I tried to write the 
changed value into another text widget (with default values on update), 
but it will always return "NULL". In the expression editor, I also 
always get "NULL" in the preview.

Thank you for your help,

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221206/32a21611/attachment.htm>

From apasotti at gmail.com  Tue Dec  6 07:29:51 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 6 Dec 2022 16:29:51 +0100
Subject: [QGIS-Developer] Question on current_value() expression in the
 context of filtering relation reference combo boxes
In-Reply-To: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>
References: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>
Message-ID: <CAL5Q672rkoF4ZqmEKycs2mFBdnCihCdZgvPStQtN8Vqc77ezow@mail.gmail.com>

On Tue, Dec 6, 2022 at 3:59 PM Andreas Neumann via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi,
>
> In one of my form setups,  I would like to filter one relation reference widget combo box with a filter expression based on the selected entry of another relation reference value.
>
> A static filter like:
>
> szenario_art = 'Brand'
>
> works as expected and it returns the filtered values - but as soon as I try to base it on the value of another relation reference widget, it fails ...
>
> I tried
>
> szenario_art = current_value('szenario_art')
>
> but no records get selected.
>
>
> Questions:
>
> Does the current_value() return the "internal value" or the "human readable" value?

The internal value.

> Do I have to eval() something in the filter expression?

No.

> Is there a way to test "current_value" somehow? I tried to write the changed value into another text widget (with default values on update), but it will always return "NULL". In the expression editor, I also always get "NULL" in the preview.

That should work, the current_value returns the current value of the
feature being edited in the context of the form, this includes any
change that took place in the form.

You might get null values in the editor and the preview because there
is no form context in that case.




-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From a.neumann at carto.net  Tue Dec  6 07:34:43 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 06 Dec 2022 16:34:43 +0100
Subject: [QGIS-Developer] Question on current_value() expression in the
 context of filtering relation reference combo boxes
In-Reply-To: <CAL5Q672rkoF4ZqmEKycs2mFBdnCihCdZgvPStQtN8Vqc77ezow@mail.gmail.com>
References: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>
 <CAL5Q672rkoF4ZqmEKycs2mFBdnCihCdZgvPStQtN8Vqc77ezow@mail.gmail.com>
Message-ID: <2c5adeb0b46afae55965dac432357003@carto.net>

Hi Ale,

Thanks for your information.

What if both tables have the same column names? Would that also work?

In my case the related table contains a field called "szenario_art" and 
the parent table also has the same field name.

Can one assume that a field left of the operator will be in the related 
table while fields right of the operator are in the parent table? Or how 
would the expression distinguish the fields if they appear in both 
tables?

Thanks,
Andreas

On 2022-12-06 16:29, Alessandro Pasotti wrote:

> On Tue, Dec 6, 2022 at 3:59 PM Andreas Neumann via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
> 
>> Hi,
>> 
>> In one of my form setups,  I would like to filter one relation 
>> reference widget combo box with a filter expression based on the 
>> selected entry of another relation reference value.
>> 
>> A static filter like:
>> 
>> szenario_art = 'Brand'
>> 
>> works as expected and it returns the filtered values - but as soon as 
>> I try to base it on the value of another relation reference widget, it 
>> fails ...
>> 
>> I tried
>> 
>> szenario_art = current_value('szenario_art')
>> 
>> but no records get selected.
>> 
>> Questions:
>> 
>> Does the current_value() return the "internal value" or the "human 
>> readable" value?
> 
> The internal value.
> 
>> Do I have to eval() something in the filter expression?
> 
> No.
> 
>> Is there a way to test "current_value" somehow? I tried to write the 
>> changed value into another text widget (with default values on 
>> update), but it will always return "NULL". In the expression editor, I 
>> also always get "NULL" in the preview.
> 
> That should work, the current_value returns the current value of the
> feature being edited in the context of the form, this includes any
> change that took place in the form.
> 
> You might get null values in the editor and the preview because there
> is no form context in that case.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221206/613c49df/attachment.htm>

From apasotti at gmail.com  Tue Dec  6 07:40:01 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 6 Dec 2022 16:40:01 +0100
Subject: [QGIS-Developer] Question on current_value() expression in the
 context of filtering relation reference combo boxes
In-Reply-To: <2c5adeb0b46afae55965dac432357003@carto.net>
References: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>
 <CAL5Q672rkoF4ZqmEKycs2mFBdnCihCdZgvPStQtN8Vqc77ezow@mail.gmail.com>
 <2c5adeb0b46afae55965dac432357003@carto.net>
Message-ID: <CAL5Q670j54x8RDyZQcdnry4KMzXmCuY3O_qS+nBJG24U=6+ZhA@mail.gmail.com>

You probably need to use current_parent_value() to get the value of
the "parent" form in case of embedded sub-forms.

On Tue, Dec 6, 2022 at 4:34 PM Andreas Neumann <a.neumann at carto.net> wrote:
>
> Hi Ale,
>
> Thanks for your information.
>
> What if both tables have the same column names? Would that also work?
>
> In my case the related table contains a field called "szenario_art" and the parent table also has the same field name.
>
> Can one assume that a field left of the operator will be in the related table while fields right of the operator are in the parent table? Or how would the expression distinguish the fields if they appear in both tables?
>
> Thanks,
> Andreas
>
> On 2022-12-06 16:29, Alessandro Pasotti wrote:
>
> On Tue, Dec 6, 2022 at 3:59 PM Andreas Neumann via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
>
>
> Hi,
>
> In one of my form setups,  I would like to filter one relation reference widget combo box with a filter expression based on the selected entry of another relation reference value.
>
> A static filter like:
>
> szenario_art = 'Brand'
>
> works as expected and it returns the filtered values - but as soon as I try to base it on the value of another relation reference widget, it fails ...
>
> I tried
>
> szenario_art = current_value('szenario_art')
>
> but no records get selected.
>
>
> Questions:
>
> Does the current_value() return the "internal value" or the "human readable" value?
>
>
> The internal value.
>
> Do I have to eval() something in the filter expression?
>
>
> No.
>
> Is there a way to test "current_value" somehow? I tried to write the changed value into another text widget (with default values on update), but it will always return "NULL". In the expression editor, I also always get "NULL" in the preview.
>
>
> That should work, the current_value returns the current value of the
> feature being edited in the context of the form, this includes any
> change that took place in the form.
>
> You might get null values in the editor and the preview because there
> is no form context in that case.
>
>
>
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From apasotti at gmail.com  Tue Dec  6 07:52:28 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 6 Dec 2022 16:52:28 +0100
Subject: [QGIS-Developer] Question on current_value() expression in the
 context of filtering relation reference combo boxes
In-Reply-To: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>
References: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>
Message-ID: <CAL5Q671rG9vXrShzPj__uh0-o+oz0qcmQK8cE4hGyV92w1LWjg@mail.gmail.com>

Sorry, I just realized that you are using relation-reference widgets
and not value-relation widgets.

I don't think that the current_(parent)_value will work in that case,
it wasn't implemented.

Cheers

On Tue, Dec 6, 2022 at 3:59 PM Andreas Neumann via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi,
>
> In one of my form setups,  I would like to filter one relation reference widget combo box with a filter expression based on the selected entry of another relation reference value.
>
> A static filter like:
>
> szenario_art = 'Brand'
>
> works as expected and it returns the filtered values - but as soon as I try to base it on the value of another relation reference widget, it fails ...
>
> I tried
>
> szenario_art = current_value('szenario_art')
>
> but no records get selected.
>
>
> Questions:
>
> Does the current_value() return the "internal value" or the "human readable" value?
> Do I have to eval() something in the filter expression?
> Is there a way to test "current_value" somehow? I tried to write the changed value into another text widget (with default values on update), but it will always return "NULL". In the expression editor, I also always get "NULL" in the preview.
>
> Thank you for your help,
>
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From marco at qgis.org  Tue Dec  6 07:57:54 2022
From: marco at qgis.org (Marco Bernasocchi)
Date: Tue, 6 Dec 2022 16:57:54 +0100
Subject: [QGIS-Developer] [Qgis-psc] QGIS budget 2023 RFC
In-Reply-To: <CAJy=Xtd2ssRNvGwmPLPS+_N=VxkX798A1__bdKEPQqtfsub4EQ@mail.gmail.com>
References: <CAB2ZMRCzVPcs9YpZTBEX4c00=kBZvY-i0Af3ZKr7GN7n9gCyRw@mail.gmail.com>
 <f839d42f-0acd-b0ed-8133-dc1dd0eb2425@oslandia.com>
 <CAB2Z92CnEfesFQv9ZgRRzG3uTb0oLeeFydN9mArY4WarrPJ08w@mail.gmail.com>
 <b3523970-807f-7c97-d805-113320f5b20f@oslandia.com>
 <CAJy=Xtd2ssRNvGwmPLPS+_N=VxkX798A1__bdKEPQqtfsub4EQ@mail.gmail.com>
Message-ID: <CAB2ZMRDcMnNiUsBG9AtMpVJZ8KQh34Tk15XPTr=vHF-iiLvd7Q@mail.gmail.com>

Dear all, thanks a lot for all the feedback,

As you might remember, the aim of the thread was indeed to discuss the
proposed budget, so I'll to try to address most of the mentioned points in
all emails without a specific order, trying to convey how things came to
this proposal and why the PSC believes it is the best way forward for
QGIS.org.

As a first reminder, all the discussions happened in public, and you can
read the minutes at https://github.com/qgis/QGIS/wiki#psc-meetings.

The proposal came out of a need to solve a pressing issue we've been
dragging along for some time now and "escalated" when Harrisou sent once
again an appeal for help, and nobody from the developer ml responded [1]:

I'll quote it as a reminder of the stark message showing how alone he felt
in his efforts:

>It's reassuring to discover that there are other channels; at

>least I can say to myself that the total silence to my call is not due to

>some disinterest.     - Harrisou

Even to this, the only answers were from Tim suggesting to Harrisou to join
the next PSC to find solutions. The result of the PSC discussions was the
proposal to add a full-time paid documentation person to effectively help
Harrisou do what he has been trying to do for years alone. He is doing a
tremendous job in a part of the project where it is challenging to get
resources committed to it, and even when there were funds available, funded
documentation efforts thus far have barely scratched the surface of the
work that needs to be done. Even to the appeal above, the only answers were
from Tim suggesting to Harrisou to join the next PSC to find solutions.

Harrisou and Tim (Harrissou looking after docs, Tim looking after various
web servers & sites) stand, as volunteers, to amplify their efforts through
the paid helpers rather than have their efforts replaced by paid people.

Regarding the QGIS infrastructure, the fact is that despite trying to
onboard other people as volunteers, nobody is that interested in working on
these things. Tim mentioned personally having walked various people through
'onboarding' as a sysadmin, and nothing came of it. Richard and J?rgen (who
also help manage the infrastructure) may have different feelings, but Tim
feels he is (allow me a direct quote here with his permission) "getting
older and dumber," and we should have a plan in place to make sure the
infrastructure that keeps the project running is professionally managed
even when he will be too busy running his ever-growing farm :)

J?rgen also mentioned the same issue regarding the infrastructure behind
windows packaging in the past.

Regarding transparency of the decision proposed, I'd like to separate the
issue into three parts; 1) transparency regarding using Kartoza as a proxy,
2) transparency in hiring and finally and 3) transparency in the process of
deciding to try hiring ?outside? people to support our project.

Starting with the last point, I'd like to remind you all that we are indeed
discussing if we want to accept this proposal right here in this thread,
and finally, it will go to the voting members for decision-making. I really
need help seeing how the PSC is not being transparent here. I'm saddened to
see a perception of us trying to hide things when all is openly
discussed/logged in reality.

Regarding using Kartoza as a proxy company, it was indeed not selected
based on being an open call - much like we appoint trusted developers to do
bug fixing or other key efforts for the project. We are thankful to Kartoza
for taking over the burden of doing it. Quoting Tim again: "It is only a
hassle for us, and I only offered to do it through Kartoza to ?make it
happen? rather than some desire to do it through Kartoza".  Obviously, if
the community wishes to use another company/individuals here, it is
absolutely no problem to open the proxy up to another company. If anyone is
interested, please contact the PSC mailing list with a concrete proposal on
how to go forward.

Finally, on the transparency in hiring: this doesn't make any sense to me.
Hiring is a private process. People send their private CVs, often in
secret, from their current employers, to whom they are being "disloyal".
People applying should not have visibility of their competitors for the
job. In the case of Kartoza, they have a POPIA [2] (something like GDPR),
which governs what personal information they can share.

Tim has shared all of the documentation writer's CVs with Harrissou, and he
can pick whoever he thinks is best for the job. Tim also gave some
recommendations based on basic screening of GIS skills, technical writing
skills, whether they submitted a writing sample etc. For the infrastructure
developer position, they sent all the applicants a standard assignment as
they do as part of their normal recruitment process and had their
developers review and shortlist. I don't know how we could sensibly
(stressing that part since QGIS.org is not Google and the like...) do
anything differently. Here also, we are more than happy if others have
better know-how to come up with constructive proposals on handling things
if the budget items are approved.

Please note that Kartoza would absorb the candidates they found or
discontinue the hiring process if the budget was not approved.

Another raised issue was that paid support people would demotivate
volunteers: When we started with the paid bug fixing programme and other
funded development, there was the same fear expressed; I think the success
of those programs and the incredible amount of volunteer-driven
contributions we are getting speak for themselves. We need to catch up on
non-coders, as Jeff McKenna said (although out of a misread); we have been
a bit stuck in the 2000s, where developers are the superstars. Currently,
developers creating new shiny features are often getting much more
[visibility|kudos|salary|...] in return, even though people "behind the
scenes" writing documentation, translating stuff, triaging bugs, reviewing
PRs, managing servers, keeping CI happy, ... are the actual superstars and
should be treated as such.

It is indicative to me that we, unfortunately, are still partly back in
2000 when I read comments like: "one of my takes is that seeing the grant
budget disappear this year is a pity, especially seeing other amounts
dedicated to documentation, for example.".  The grant programme is indeed a
fantastic program, and it is a shame to see it downsized, but our
documentation and web infrastructure are also important. The work that
happens in these areas is less visible and garners less attention. And yes,
for once, we propose to downscale coding in favour of documentation. Hurra
to that!


Regarding the note on social dumping, I do not agree at all with that. We
are offering a highly competitive salary in the market where the applicants
live; this is a widely respected practice done by projects like Google
Summer of code as well. A nice side effect is that we are starting to use
funds in economies other than the usual "Rich" countries where probably
90-95% of our funds usually go.

As for the budget always needing to be bigger, we run a world-leading
software project for millions of people on a budget [apparently] equivalent
to the price of 50 licenses of our main competitor. We (the whole QGIS
community, not the PSC) are doing a pretty darn good job, thanks to the
countless hours of passionate work put into it by volunteers and companies
alike. We are far from perfect, we have a "get things done while respecting
others" attitude, and we have to make compromises for efficiency. I'd never
want to see any one of the members of our community having to stop working
on the project due to feeling burnout from it.

I hope I could address and answer most questions, and I encourage you to
look at the open-source landscape around us and see how successful projects
like KDE and Blender are doing the same thing as we propose doing here.

So for those responding to this thread in a quick fly-by reply, I appeal to
you to put some thought into why you object to this, who your objection
affects, what advantage objecting brings to the project versus what benefit
agreeing brings to the project, who's time and enthusiasm you value and
whose you don't."


As mentioned above, please join the PSC call starting soon if you wish to
discuss this more.

Cheers Marco

[1]
https://lists.osgeo.org/pipermail/qgis-developer/2022-November/065211.html

[2] https://popia.co.za/



--

Marco Bernasocchi

QGIS.org Chair

OPENGIS.ch CEO

http://berna.io



[1]
https://lists.osgeo.org/pipermail/qgis-developer/2022-November/065211.html
[2] https://popia.co.za/

On Mon, 5 Dec 2022 at 18:18, Enrico Ferreguti <enricofer at gmail.com> wrote:

> > As for A, one of my take is that seeing the grant budget disappear this
> year is a pity, especially seeing other amounts dedicated to documentation
> for example.
>
> I agree with Vincent and Matteo and even if I understand the need of fund
> bugfixing and qt6 migration I would strongly recommend to improve grants
> budget as a consistent way to interact with community, furthermore I would
> enlarge core developers audience in any way with targeted training and
> social involvement and lowering the needed technical contribution skills. I
> thank you all for sharing this interesting discussion.
>
> Il giorno lun 5 dic 2022 alle ore 11:27 Vincent Picavet (ml) via
> QGIS-Developer <qgis-developer at lists.osgeo.org> ha scritto:
>
>> Hi Andreas, all,
>>
>> On 24/11/2022 16:09, Andreas Neumann wrote:
>> [..]
>> > We did not really discuss the hourly rates at the budget meeting.
>> > From 2021 to 2022 we raised the hourly dev rates from 100 to 110 -
>> > and the hourly documentation rates from 40 to 44. I know that both
>> > rates are low. We can discuss raising them again.
>>
>> My question was general, and actually includes all prices. I have no
>> definite opinion on this topic, as it can be complicated given the
>> disparity of inflation according to what price we are talking about, and
>> also geographically speaking.
>>
>> > The plan for the two positions was not to have direct employees of
>> > QGIS.ORG <http://QGIS.ORG>, but to use a proxy company, in our case
>> > Kartoza, to act as the employer. Also - our budget does not allow
>> > regular European or North-American salaries. With these limitations
>> > at hand, we can use Kartoza as a proxy to hire employees in certain
>> > parts of the world where the salaries we can offer can be attractive
>> > - and where they have talented people to work on some of our issues
>> > (sysadmin, documentation, etc.)
>>
>> I have very mixed feelings about this, and it raises lots of questions we
>> definitely have to clear out before establishing any process.
>>
>> - Using a proxy company is very similar to me than having direct
>> employees, if these positions have no clear limits of time and perimeter
>> - Using a proxy company instead of direct employees can be considered
>> illegal according to local legislation. I do not know for Swiss law.
>> - How was Kartoza selected ? Was there an open process for other
>> companies to apply ? Who decided and on what criteria ? The fact that the
>> company owned by a member of QGIS PSC is selected is a big red flag for me,
>> if the process is not fully transparent and fair for others.
>> - "our budget does not allow European or North-American salaries" : see
>> below for the budget volume comments. But I have very mixed feelings about
>> this statement : it sounds exactly like social dumping. I do not know what
>> would be fair to select employees, and I recognize it to be a complex
>> issue, but in some ways it does not feel right.
>>
>> > For the documentation part: Tim and Harrissou are involved in the
>> > selection process of the candidates.
>>
>> Is the process and selection committee documented somewhere ?
>>
>> > I agree that the grant budget with 10k is not very attractive. We
>> > also discussed skipping it for one year. Not sure what is better ...
>> >
>> > BTW: you can all help to find new sustaining members ... that would
>> > increase our budget and would allow us to pay better hourly rates
>> > ...
>> >
>> > I wish we had a larger budget at hand than the +/- 200k ? we seem to
>> > be able to attract each year. From certain countries where we know we
>> > have a lot of QGIS users (France, Italy - just to name two of them)
>> > there are not a lot of sustaining members or donations other than
>> > from a few private persons and very small companies. Maybe companies
>> > like yours could help us to get in touch with the larger companies
>> > with a lot of QGIS users that could become new sustaining members ...
>> > Do you think that would be possible?
>>
>> First of all, complaining that our budget is too low is definitely not
>> the way to consider the problem : QGIS.org budget will, by definition,
>> **always** be too low compared to what we could need. Developing a software
>> and managing a community is a boundless task and you can always find tasks
>> and work packages to spend all the money you can imagine of.
>>
>> I agree that QGIS.org could attract more sustaining members. I just hope
>> you are not accusing Oslandia of not doing our job of proselitysm, QGIS
>> community support, communication and globally QGIS.org and QGIS software
>> contributions. We do our part for sure.
>>
>> ... And this is not the point, as I said the question I raise is not how
>> to increase our budget, since the exact same issues will araise with a
>> larger budget.
>>
>> The questions are :
>> - A/ how do we use our existing budget for most important things to
>> support
>> - B/ what our decisions processes are, where are they documented, and are
>> they clear, transparent and fair
>>
>> As for A, one of my take is that seeing the grant budget disappear this
>> year is a pity, especially seeing other amounts dedicated to documentation
>> for example.
>>
>> As for B, I consider that there is a lot of progress to do to make recent
>> decisions and actions clean and trustworthy.
>>
>> Should we want to attract new sustaining members giving money to
>> QGIS.org, we must have an exemplary behaviour in how we decide how to use
>> this money.
>>
>> Vincent
>>
>>
>> >
>> > Andreas
>> >
>> > On Thu, 24 Nov 2022 at 15:05, Vincent Picavet (ml) via QGIS-Developer
>> > <qgis-developer at lists.osgeo.org
>> > <mailto:qgis-developer at lists.osgeo.org>> wrote:
>> >
>> > Hello,
>> >
>> > Thanks for sharing the budget with the community.
>> >
>> > A few questions / remarks : - in most countries, we can see a general
>> > inflation, having consequences on every kind of costs ( hosting,
>> > salaries?). Did you take this context into account when preparing the
>> > budget, especially when basing planned 2023 costs on actual 2022
>> > costs ? - the cut on Grant budget is really hard. With a "reasonable"
>> > mean budget of 5K per grant, this would mean 2 grants only this year.
>> > It sounds more or less like the end of the grant program. Who would
>> > candidate if chances to be selected are really low ? Wouldn't there
>> > be a way to mitigate it a bit, through various smaller budget
>> > reductions to other budget lines ? The increase in documentation
>> > contribution is huge compared to the grant decrease. I fear that we
>> > loose grants as a mean to attract new core developers.
>> >
>> > My most important remark is about "allow for a regular small salary
>> > .. for one person on each item". Disclaimer : I am quite strongly
>> > against QGIS.org having employees. If we are in the process of having
>> > "regular workers" for qgis.org <http://qgis.org>, then we really have
>> > to work hard on : - having a clear, written and transparent process
>> > for how to select these people - .. process including a fair way for
>> > anyone to candidate I may have missed some communications, but I have
>> > not seen this in place up to now. This is definitely something we
>> > have to put in place before having some internal troubles.
>> >
>> > Best regards, Vincent
>> >
>> > On 24/11/2022 12:07, Marco Bernasocchi wrote:
>> >> Hi all, we prepared the QGIS budget for 2023 and would like to
>> >> have feedback before submitting it to the voting members for
>> >> approval. You can directly leave comments in the file [1].
>> >>
>> >> Please let us have any Feedback until December 4th. On december
>> >> 7th we'll send the budget for vote.
>> >>
>> >> Cheers Marco
>> >>
>> >> [1]
>> >>
>> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>> >> <
>> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>> >
>> >
>> >>
>> > <
>> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>> > <
>> https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>> >>
>> >
>> >
>> >
>> >> -- Marco Bernasocchi
>> >>
>> >> QGIS.org Chair OPENGIS.ch CEO http://berna.io <http://berna.io>
>> >> <http://berna.io <http://berna.io>>
>> >>
>> >> _______________________________________________ Qgis-psc mailing
>> >> list Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>> >> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>> >> <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
>> >
>> > _______________________________________________ QGIS-Developer
>> > mailing list QGIS-Developer at lists.osgeo.org
>> > <mailto:QGIS-Developer at lists.osgeo.org> List info:
>> > https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> >
>> >
>> >
>> > --
>> >
>> > -- Andreas Neumann QGIS.ORG <http://QGIS.ORG> board member
>> > (treasurer)
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>

-- 
Marco Bernasocchi

QGIS.org Chair
OPENGIS.ch CEO
http://berna.io
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221206/25f478e7/attachment-0001.htm>

From a.neumann at carto.net  Tue Dec  6 08:01:28 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 06 Dec 2022 17:01:28 +0100
Subject: [QGIS-Developer] Question on current_value() expression in the
 context of filtering relation reference combo boxes
In-Reply-To: <CAL5Q671rG9vXrShzPj__uh0-o+oz0qcmQK8cE4hGyV92w1LWjg@mail.gmail.com>
References: <16d19a96336cd0bf52f64a5652e83d5f@carto.net>
 <CAL5Q671rG9vXrShzPj__uh0-o+oz0qcmQK8cE4hGyV92w1LWjg@mail.gmail.com>
Message-ID: <54c73653494d31c3a1dc18a12202c83d@carto.net>

Hi Ale,

That would explain it ;-)

I also tried various other combinations, like

with @current_parent_feature, @feature, etc. - but haven't found a 
working version ...

I might try with a variable ;-) I got the variable filter version 
working in another project. But that involved Python ...

Andreas

On 2022-12-06 16:52, Alessandro Pasotti wrote:

> Sorry, I just realized that you are using relation-reference widgets
> and not value-relation widgets.
> 
> I don't think that the current_(parent)_value will work in that case,
> it wasn't implemented.
> 
> Cheers
> 
> On Tue, Dec 6, 2022 at 3:59 PM Andreas Neumann via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
> 
>> Hi,
>> 
>> In one of my form setups,  I would like to filter one relation 
>> reference widget combo box with a filter expression based on the 
>> selected entry of another relation reference value.
>> 
>> A static filter like:
>> 
>> szenario_art = 'Brand'
>> 
>> works as expected and it returns the filtered values - but as soon as 
>> I try to base it on the value of another relation reference widget, it 
>> fails ...
>> 
>> I tried
>> 
>> szenario_art = current_value('szenario_art')
>> 
>> but no records get selected.
>> 
>> Questions:
>> 
>> Does the current_value() return the "internal value" or the "human 
>> readable" value?
>> Do I have to eval() something in the filter expression?
>> Is there a way to test "current_value" somehow? I tried to write the 
>> changed value into another text widget (with default values on 
>> update), but it will always return "NULL". In the expression editor, I 
>> also always get "NULL" in the preview.
>> 
>> Thank you for your help,
>> 
>> Andreas
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221206/c614d117/attachment.htm>

From huyminh.nguyen at here.com  Wed Dec  7 07:01:15 2022
From: huyminh.nguyen at here.com (Nguyen, Huy Minh)
Date: Wed, 7 Dec 2022 15:01:15 +0000
Subject: [QGIS-Developer] QGIS plugin approval - XYZHubConnector 1.9.6
Message-ID: <PAXPR04MB8702A7FAF8B938562118CC49E91A9@PAXPR04MB8702.eurprd04.prod.outlook.com>



Hi,

The plugin XYZHubConnector version 1.9.6 has been released and uploaded to QGIS Python Plugins Repository. Could you kindly approve it ?

https://plugins.qgis.org/plugins/XYZHubConnector/

Thank you,
Minh

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221207/f6fc5f52/attachment.htm>

From rdmailings at duif.net  Wed Dec  7 07:26:35 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 7 Dec 2022 16:26:35 +0100
Subject: [QGIS-Developer] Fwd: Dear develop team GIS (plugin)
In-Reply-To: <CAL=JYJn04Bfyr+gn0utoXTRqOwyXrJaez0DTJKcok6X55UmTuA@mail.gmail.com>
References: <CAL=JYJmrKwsnO957Fi+gNU9GemvL2M65F4PJVr1g9pnW9jN_CQ@mail.gmail.com>
 <f9492f04-5a42-61f5-1296-2a423d0d90ae@duif.net>
 <CA+3oMjs+2dxXygYJmQ1qiLWC=9az2o_Nwe+nj1bZ1P_-+_7EPw@mail.gmail.com>
 <d3730ad9-ec28-21f6-1a4a-d1f81c1c4d58@duif.net>
 <CAL=JYJmANzYNEKzN=QV7hndx-xzH6hFoDJ5p+gRRh+MANWDkmQ@mail.gmail.com>
 <69df5810-d5ae-fa8d-4f99-95819340f804@duif.net>
 <CAL=JYJn04Bfyr+gn0utoXTRqOwyXrJaez0DTJKcok6X55UmTuA@mail.gmail.com>
Message-ID: <10ab8752-5bad-2b84-fa1f-dedfbfd872e3@duif.net>

Hi,

I do not have an email address of NyakudayaE, but I asked the perion if it is OK like it is now:

https://github.com/IFEERnD/Q5Pfes/issues/1

(https://plugins.qgis.org/plugins/q5pfes/ has no public version yet)

Regards,

Richard Duivenvoorde

On 12/7/22 03:33, D??ng Ph?m Quang wrote:
> Dear Richard,
> Thanks for your guidance, I tried deleting the old plugin and pushing the version with the new name but it's been more than 3 weeks now but I still haven't received a response or approval.
> Can you please check in your account's upload plugin list "ifeernd".
> Or you can give me the email channels?email address so I can contact them
> Thank you!*
> *
> 
> 
> 
> V?o Th 6, 28 thg 10, 2022 va?o lu?c 14:35 Richard Duivenvoorde <rdmailings at duif.net <mailto:rdmailings at duif.net>> ?? vi?t:
> 
>     Hi,
> 
>     I think you just have to remove the earlier version (or let me do the removal).
> 
>     And then upload the new version with the new name, which will then start with 1.2 as first version.
> 
>     Let me know if you want me to delete that version.
> 
>     (note: it is better to communicate via the email channels, then others also can help)
> 
>     Regards,
> 
>     Richard Duivenvoorde
> 
>     On 10/28/22 06:43, D??ng Ph?m Quang wrote:
>      > thank for you support, our first version have been successful upload to QGIS Plugin. But we have a new decision to change our plugin name. Can you help us in this case?
>      >
>      > V?o Th 4, 19 thg 10, 2022 va?o lu?c 14:24 Richard Duivenvoorde <rdmailings at duif.net <mailto:rdmailings at duif.net> <mailto:rdmailings at duif.net <mailto:rdmailings at duif.net>>> ?? vi?t:
>      >
>      >? ? ?The author just sent me the github repo:
>      >? ? ?"Our link repo is: https://github.com/IFEERnD/v5Pfes <https://github.com/IFEERnD/v5Pfes> <https://github.com/IFEERnD/v5Pfes <https://github.com/IFEERnD/v5Pfes>>"
>      >
>      >? ? ?@Pham Quang Duong am I right that this plugin is only in Vietnamees language?
>      >? ? ?Can you maybe provide some information (in english, in the README.txt (which is now empty)) about what the plugin is supposed to do, or maybe a little guide about how to test?
>      >? ? ?Most people approving the plugins are English speaking/reading ( or at least without knowledge of Vietnamees writing :-) ) , so without any guidance cannot tell what the plugin is doing, unless they deep dive into the code.
>      >
>      >? ? ?Regards,
>      >
>      >? ? ?Richard Duivenvoorde
>      >
>      >? ? ?On 10/19/22 09:13, Werner Macho wrote:
>      >? ? ? > Hi Richard,
>      >? ? ? > I also searched for the user id "ifeernd" - and could not?find it.
>      >? ? ? > Maybe it is not a plugin and something completely?different is meant?
>      >? ? ? >
>      >? ? ? > regards
>      >? ? ? > werner
>      >? ? ? >
>      >? ? ? > On Wed, Oct 19, 2022 at 9:02 AM Richard Duivenvoorde via QGIS-Developer <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> <mailto:qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> <mailto:qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> <mailto:qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>>> wrote:
>      >? ? ? >
>      >? ? ? >? ? ?Hi Devs,
>      >? ? ? >
>      >? ? ? >? ? ?This mail was (accidently wrong) sent to the list owner of the dev list.
>      >? ? ? >
>      >? ? ? >? ? ?Sender tells us a plugin was sent in 2 weeks ago.
>      >? ? ? >
>      >? ? ? >? ? ?If I search for V5Pfes I only see 'None', if I search for Forest I see None again.
>      >? ? ? >
>      >? ? ? >? ? ?Is there something wrong with the metadata of the plugin?
>      >? ? ? >? ? ?I think I normally see the name of the plugin, even when it is not approved?
>      >? ? ? >
>      >? ? ? >? ? ?@Pham Quang Duong can you maybe sent the link of you repo?
>      >? ? ? >
>      >? ? ? >? ? ?Regards,
>      >? ? ? >
>      >? ? ? >? ? ?Richard Duivenvoorde
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >? ? ?-------- Forwarded Message --------
>      >? ? ? >? ? ?Subject:? ? ? ? Dear develop team GIS
>      >? ? ? >? ? ?Date:? ?Tue, 18 Oct 2022 16:47:19 +0700
>      >? ? ? >? ? ?From:? ?D??ng Ph?m Quang <phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>>>>
>      >? ? ? >? ? ?To: qgis-developer-owner at lists.osgeo.org <mailto:qgis-developer-owner at lists.osgeo.org> <mailto:qgis-developer-owner at lists.osgeo.org <mailto:qgis-developer-owner at lists.osgeo.org>> <mailto:qgis-developer-owner at lists.osgeo.org <mailto:qgis-developer-owner at lists.osgeo.org> <mailto:qgis-developer-owner at lists.osgeo.org <mailto:qgis-developer-owner at lists.osgeo.org>>>
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >? ? ?We are trying to release a tool to support the construction of V5Pfes Forest Environmental Services Payment Map on the QGIS platform called V5Pfes. The account we use has an id of "ifeernd".
>      >? ? ? >? ? ?However, it has been more than 2 weeks since pushing the first version, but we still have not received a response to edit or approved version.
>      >? ? ? >? ? ?Please help me check it out and report back if there are any problems during our release
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >? ? ?--
>      >? ? ? >? ? ?<https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>>>
>      >? ? ? >
>      >? ? ? >? ? ?/Yours Sincerely,/
>      >? ? ? >? ? ?Pham Quang Duong
>      >? ? ? >
>      >? ? ? >? ? ?<https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>>>Tell: +84 389799932
>      >? ? ? >
>      >? ? ? >? ? ?/phamquangduong at ifee.edu.vn/ <http://phamquangduong at ifee.edu.vn/> <http://phamquangduong at ifee.edu.vn/ <http://phamquangduong at ifee.edu.vn/>> <http://phamquangduong at ifee.edu.vn/ <http://phamquangduong at ifee.edu.vn/> <http://phamquangduong at ifee.edu.vn/ <http://phamquangduong at ifee.edu.vn/>>> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>>>>
>      >? ? ? >? ? ?*Department of Research and Development**Institute For Forest Ecology and Environment*/http://ifee.edu.vn <http://ifee.edu.vn> <http://ifee.edu.vn <http://ifee.edu.vn>> <http://ifee.edu.vn <http://ifee.edu.vn> <http://ifee.edu.vn <http://ifee.edu.vn>>> <http://ifee.edu.vn <http://ifee.edu.vn> <http://ifee.edu.vn <http://ifee.edu.vn>> <http://ifee.edu.vn <http://ifee.edu.vn> <http://ifee.edu.vn <http://ifee.edu.vn>>>>/
>      >? ? ? >
>      >? ? ? >? ? ?<https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>>>_______________________________________________
>      >? ? ? >? ? ?QGIS-Developer mailing list
>      >? ? ? > QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> <mailto:QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>> <mailto:QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> <mailto:QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>>>
>      >? ? ? >? ? ?List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer> <https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer> <https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>>
>      >? ? ? >? ? ?Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer> <https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer> <https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>>
>      >? ? ? >
>      >
>      >
>      >
>      > --
>      > <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>
>      >
>      > /Yours Sincerely,/
>      > Pham Quang Duong
>      >
>      > <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>Tell: +84 389799932
>      >
>      > /phamquangduong at ifee.edu.vn/ <http://phamquangduong at ifee.edu.vn/> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>>
>      > *Department of Research and Development**Institute For Forest Ecology and Environment*/http://ifee.edu.vn <http://ifee.edu.vn> <http://ifee.edu.vn <http://ifee.edu.vn>>/
>      >
>      > <https://htmlsig.com/t/000001DFX901 <https://htmlsig.com/t/000001DFX901>>
> 
> 
> 
> -- 
> <https://htmlsig.com/t/000001DFX901>
> 
> /Yours Sincerely,/
> Pham Quang Duong
> 
> <https://htmlsig.com/t/000001DFX901>Tell: +84 389799932
> 
> /phamquangduong at ifee.edu.vn/ <mailto:phamquangduong at ifee.edu.vn>
> *Department of Research and Development**Institute For Forest Ecology and Environment*/http://ifee.edu.vn <http://ifee.edu.vn>/
> 
> <https://htmlsig.com/t/000001DFX901>


From pgathogo at gmail.com  Wed Dec  7 08:57:53 2022
From: pgathogo at gmail.com (Paul Gathogo)
Date: Wed, 7 Dec 2022 19:57:53 +0300
Subject: [QGIS-Developer] Mismatch detected with RuntimeLibrary when
 building QGIS in MSVS 2022
Message-ID: <CAFFfZ9+nSoVaz1SxGrdT8jHJH0CCwXVjAyTxz2aX0kL1Xw0WEA@mail.gmail.com>

Hello Devs,

Am getting the following linker errors (many) when building QGIS in MSVC
2022, it seems the conflict is related to libprotobuf-lite.lib library.
However, on my CMakeList file, I have specified the entry *Protobuf_LIBRARIES
= libprotobuf.lib* (which I suspect is the debug version of the library)





*Error LNK2038 mismatch detected for '_ITERATOR_DEBUG_LEVEL': value '0'
doesn't match value '2'in mocs_compilation_Debug.obj qgis_core
\build\src\core\libprotobuf-lite.lib(zero_copy_stream_impl.cc.obj)
1ibprotobuf-lite.lib(implicit_weak_message.cc.obj) : error LNK2038:
mismatch detected for '_ITERATOR_DEBUG_LEVEL': value '0' doesn't match
value '2' in mocs_compilation_Debug.obj*

What am I missing?

Many thanks,
Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221207/cf302a50/attachment.htm>

From johannes.kroeger at wheregroup.com  Thu Dec  8 03:24:51 2022
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Thu, 8 Dec 2022 12:24:51 +0100
Subject: [QGIS-Developer] QGIS budget 2023 RFC
In-Reply-To: <CAB2Z92CpUTznuKi-3vH5upVcPgdWETkpxNhPpmNZt9B7wdeu6Q@mail.gmail.com>
References: <CAB2ZMRCzVPcs9YpZTBEX4c00=kBZvY-i0Af3ZKr7GN7n9gCyRw@mail.gmail.com>
 <CAB2Z92CpUTznuKi-3vH5upVcPgdWETkpxNhPpmNZt9B7wdeu6Q@mail.gmail.com>
Message-ID: <21793b67-6e7a-881d-a4f0-3a12c7ef8c4e@wheregroup.com>

Hi everyone,

just a quick note, next to the super interesting and important 
discussion that happened already.

I think it is fantastic that there will be a dedicated person doing 
documentation work. Documentation created by many hands and minds is 
often very varying in tone, detail, quality, up-to-dateness etc, plus it 
is a lot of work to even just contribute small things, so this is a 
great opportunity to "collect the threads".

Thank you for investing in this!

Cheers, Hannes

PS: I recently read into https://diataxis.fr/ and this looks like a 
great framework IF docs are meant to be significantly cleaned up and 
restructed.

Am 24.11.22 um 13:31 schrieb Andreas Neumann via QGIS-Developer:
> Hi all,
>
> Maybe we should a few explanations to the budget draft - since there 
> are some substantial changes compared to the last year budget.
>
> We increased two budget items:
>
>   * Maintenance / Sysadmin QGIS.ORG <http://QGIS.ORG> server
>     infrastructure
>   * QGIS documentation contribution
>
> The intention is to allow for a regular small salary on these two 
> items for one person on each item. It is an experiment next year - and 
> if it works out well, we may continue in 2024.
>
> In exchange for these two increases we had to decrease other items. We 
> slightly decreased the "bug fixing" positions, and unfortunately also 
> the "QGIS grant" section had to be reduced to 10k.
>
> If there is additional income, we can again increase the bug fixing 
> items. We'll also monitor the 2022 income and if it increases 
> substantially until the end of the year, we will probably increase the 
> bug fixing items.
>
> Do you have any questions or remarks on the budget draft for 2023?
>
> Thank you for your feedback,
> Andreas
>
> On Thu, 24 Nov 2022 at 12:07, Marco Bernasocchi via QGIS-Developer 
> <qgis-developer at lists.osgeo.org> wrote:
>
>     Hi all,
>     we prepared the QGIS budget?for 2023 and would like to have
>     feedback before submitting?it to the voting members for approval.
>     You can directly leave comments in the file [1].
>
>     Please let us have any Feedback until December 4th. On december
>     7th we'll send the budget for vote.
>
>     Cheers
>     Marco
>
>     [1]
>     https://docs.google.com/spreadsheets/d/1WyoZCKOehNhU5YB4pFPOuiJbie1mUmMPiq8YW7qyez0/edit?usp=sharing
>
>     -- 
>     Marco Bernasocchi
>
>     QGIS.org Chair
>     OPENGIS.ch CEO
>     http://berna.io
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> -- 
>
> --
> Andreas Neumann
> QGIS.ORG <http://QGIS.ORG> board member (treasurer)
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Where2B Konferenz 2022
15. Dezember 2022 in Bonn und Online
https://where2b-conference.com/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221208/6b82f24d/attachment.htm>

From r.nijssen at terglobo.nl  Wed Dec  7 07:39:50 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Wed, 7 Dec 2022 16:39:50 +0100
Subject: [QGIS-Developer] setDataSourceUri() not working
Message-ID: <511c945b-1d37-0636-5a8e-3fa5cbb8d442@terglobo.nl>

Hi Devs,

I'm trying to change the dataSourceUri of an existing layer, but can't 
get it working. The reason is that my layer should be connected to 
another view in the same database, because the db should do some 
calculations for my plugin.

I created a test script for a simple polygon layer in a gpkg, which I 
attached to this email. The layer "polygons" and both views are all 
working correctly if you just drag and drop the gpkg in QGIS.

Open the polygons layer and select it. Then run:


layer = iface.activeLayer()
provider = layer.dataProvider()

ds = provider.dataSourceUri()
print(ds)

fn = ds.split('|layername=')[0]
new_ds = fn + '|layername=highest_3_view'
print(new_ds)

provider.setDataSourceUri(new_ds)




The first run displays 2 different dataSourceUris:
path/to/test_views.gpkg|layername=polygons
path/to/test_views.gpkg|layername=highest_3_view

The second run displays 2x the same dataSourceUris:
path/to/test_views.gpkg|layername=polygons
path/to/test_views.gpkg|layername=highest_3_view

So the string has been changed. But my layer properties still point to 
path/to/test_views.gpkg|layername=polygons

and the features displayed are all 5 from the polygons layer. (The views 
have only 3 features)



Should i do something after setting the new provider? I've been trying 
many things, including:
* provider.reloadData()
* layer.setDataProvider(dataprovider)
* refreshing/redrawing the layer


Hope anyone can help!
Raymond
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test_views.gpkg
Type: application/geopackage+sqlite3
Size: 98304 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221207/9281402b/attachment-0001.bin>

From julien.cabieces at oslandia.com  Thu Dec  8 10:12:24 2022
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Thu, 08 Dec 2022 19:12:24 +0100
Subject: [QGIS-Developer] setDataSourceUri() not working
In-Reply-To: <511c945b-1d37-0636-5a8e-3fa5cbb8d442@terglobo.nl>
References: <511c945b-1d37-0636-5a8e-3fa5cbb8d442@terglobo.nl>
Message-ID: <87359pydbr.fsf@julien-laptop.home>


Hi,

dataSourceUri is used when creating the dataProvider/vectorlayer and 
there is no way to refresh the provider according to a new uri.

I don't see any other way than recreate a new QgsVectorLayer with the
new dataSource uri, add it to your project instance with addMapLayer and
remove the old one.

Maybe there is a trick to simplify things but I fail to see how.

Regards,
Julien


> Hi Devs,
>
> I'm trying to change the dataSourceUri of an existing layer, but can't 
> get it working. The reason is that my layer should be connected to 
> another view in the same database, because the db should do some 
> calculations for my plugin.
>
> I created a test script for a simple polygon layer in a gpkg, which I 
> attached to this email. The layer "polygons" and both views are all 
> working correctly if you just drag and drop the gpkg in QGIS.
>
> Open the polygons layer and select it. Then run:
>
>
> layer = iface.activeLayer()
> provider = layer.dataProvider()
>
> ds = provider.dataSourceUri()
> print(ds)
>
> fn = ds.split('|layername=')[0]
> new_ds = fn + '|layername=highest_3_view'
> print(new_ds)
>
> provider.setDataSourceUri(new_ds)
>
>
>
>
> The first run displays 2 different dataSourceUris:
> path/to/test_views.gpkg|layername=polygons
> path/to/test_views.gpkg|layername=highest_3_view
>
> The second run displays 2x the same dataSourceUris:
> path/to/test_views.gpkg|layername=polygons
> path/to/test_views.gpkg|layername=highest_3_view
>
> So the string has been changed. But my layer properties still point to 
> path/to/test_views.gpkg|layername=polygons
>
> and the features displayed are all 5 from the polygons layer. (The views 
> have only 3 features)
>
>
>
> Should i do something after setting the new provider? I've been trying 
> many things, including:
> * provider.reloadData()
> * layer.setDataProvider(dataprovider)
> * refreshing/redrawing the layer
>
>
> Hope anyone can help!
> Raymond_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From tim at kartoza.com  Thu Dec  8 10:13:12 2022
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 8 Dec 2022 18:13:12 +0000
Subject: [QGIS-Developer] Fwd: Dear develop team GIS (plugin)
In-Reply-To: <10ab8752-5bad-2b84-fa1f-dedfbfd872e3@duif.net>
References: <CAL=JYJmrKwsnO957Fi+gNU9GemvL2M65F4PJVr1g9pnW9jN_CQ@mail.gmail.com>
 <f9492f04-5a42-61f5-1296-2a423d0d90ae@duif.net>
 <CA+3oMjs+2dxXygYJmQ1qiLWC=9az2o_Nwe+nj1bZ1P_-+_7EPw@mail.gmail.com>
 <d3730ad9-ec28-21f6-1a4a-d1f81c1c4d58@duif.net>
 <CAL=JYJmANzYNEKzN=QV7hndx-xzH6hFoDJ5p+gRRh+MANWDkmQ@mail.gmail.com>
 <69df5810-d5ae-fa8d-4f99-95819340f804@duif.net>
 <CAL=JYJn04Bfyr+gn0utoXTRqOwyXrJaez0DTJKcok6X55UmTuA@mail.gmail.com>
 <10ab8752-5bad-2b84-fa1f-dedfbfd872e3@duif.net>
Message-ID: <CAES-DZRbmqLNfCg1FfgxFwKtaL4Ck0hZMs9fo5q74Q1NfQZ=Eg@mail.gmail.com>

Hi Richard


I Cc'd in Admire. You can always ping me if there is anything in plugin
land that needs his attention.

Regards

Tim

On Wed, Dec 7, 2022 at 3:26 PM Richard Duivenvoorde via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi,
>
> I do not have an email address of NyakudayaE, but I asked the perion if it
> is OK like it is now:
>
> https://github.com/IFEERnD/Q5Pfes/issues/1
>
> (https://plugins.qgis.org/plugins/q5pfes/ has no public version yet)
>
> Regards,
>
> Richard Duivenvoorde
>
> On 12/7/22 03:33, D??ng Ph?m Quang wrote:
> > Dear Richard,
> > Thanks for your guidance, I tried deleting the old plugin and pushing
> the version with the new name but it's been more than 3 weeks now but I
> still haven't received a response or approval.
> > Can you please check in your account's upload plugin list "ifeernd".
> > Or you can give me the email channels email address so I can contact them
> > Thank you!*
> > *
> >
> >
> >
> > V?o Th 6, 28 thg 10, 2022 va?o lu?c 14:35 Richard Duivenvoorde <
> rdmailings at duif.net <mailto:rdmailings at duif.net>> ?? vi?t:
> >
> >     Hi,
> >
> >     I think you just have to remove the earlier version (or let me do
> the removal).
> >
> >     And then upload the new version with the new name, which will then
> start with 1.2 as first version.
> >
> >     Let me know if you want me to delete that version.
> >
> >     (note: it is better to communicate via the email channels, then
> others also can help)
> >
> >     Regards,
> >
> >     Richard Duivenvoorde
> >
> >     On 10/28/22 06:43, D??ng Ph?m Quang wrote:
> >      > thank for you support, our first version have been successful
> upload to QGIS Plugin. But we have a new decision to change our plugin
> name. Can you help us in this case?
> >      >
> >      > V?o Th 4, 19 thg 10, 2022 va?o lu?c 14:24 Richard Duivenvoorde <
> rdmailings at duif.net <mailto:rdmailings at duif.net> <mailto:
> rdmailings at duif.net <mailto:rdmailings at duif.net>>> ?? vi?t:
> >      >
> >      >     The author just sent me the github repo:
> >      >     "Our link repo is: https://github.com/IFEERnD/v5Pfes <
> https://github.com/IFEERnD/v5Pfes> <https://github.com/IFEERnD/v5Pfes <
> https://github.com/IFEERnD/v5Pfes>>"
> >      >
> >      >     @Pham Quang Duong am I right that this plugin is only in
> Vietnamees language?
> >      >     Can you maybe provide some information (in english, in the
> README.txt (which is now empty)) about what the plugin is supposed to do,
> or maybe a little guide about how to test?
> >      >     Most people approving the plugins are English
> speaking/reading ( or at least without knowledge of Vietnamees writing :-)
> ) , so without any guidance cannot tell what the plugin is doing, unless
> they deep dive into the code.
> >      >
> >      >     Regards,
> >      >
> >      >     Richard Duivenvoorde
> >      >
> >      >     On 10/19/22 09:13, Werner Macho wrote:
> >      >      > Hi Richard,
> >      >      > I also searched for the user id "ifeernd" - and could
> not find it.
> >      >      > Maybe it is not a plugin and something
> completely different is meant?
> >      >      >
> >      >      > regards
> >      >      > werner
> >      >      >
> >      >      > On Wed, Oct 19, 2022 at 9:02 AM Richard Duivenvoorde via
> QGIS-Developer <qgis-developer at lists.osgeo.org <mailto:
> qgis-developer at lists.osgeo.org> <mailto:qgis-developer at lists.osgeo.org
> <mailto:qgis-developer at lists.osgeo.org>> <mailto:
> qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>
> <mailto:qgis-developer at lists.osgeo.org <mailto:
> qgis-developer at lists.osgeo.org>>>> wrote:
> >      >      >
> >      >      >     Hi Devs,
> >      >      >
> >      >      >     This mail was (accidently wrong) sent to the list
> owner of the dev list.
> >      >      >
> >      >      >     Sender tells us a plugin was sent in 2 weeks ago.
> >      >      >
> >      >      >     If I search for V5Pfes I only see 'None', if I search
> for Forest I see None again.
> >      >      >
> >      >      >     Is there something wrong with the metadata of the
> plugin?
> >      >      >     I think I normally see the name of the plugin, even
> when it is not approved?
> >      >      >
> >      >      >     @Pham Quang Duong can you maybe sent the link of you
> repo?
> >      >      >
> >      >      >     Regards,
> >      >      >
> >      >      >     Richard Duivenvoorde
> >      >      >
> >      >      >
> >      >      >     -------- Forwarded Message --------
> >      >      >     Subject:        Dear develop team GIS
> >      >      >     Date:   Tue, 18 Oct 2022 16:47:19 +0700
> >      >      >     From:   D??ng Ph?m Quang <phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn>> <mailto:phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn>>>>
> >      >      >     To: qgis-developer-owner at lists.osgeo.org <mailto:
> qgis-developer-owner at lists.osgeo.org> <mailto:
> qgis-developer-owner at lists.osgeo.org <mailto:
> qgis-developer-owner at lists.osgeo.org>> <mailto:
> qgis-developer-owner at lists.osgeo.org <mailto:
> qgis-developer-owner at lists.osgeo.org> <mailto:
> qgis-developer-owner at lists.osgeo.org <mailto:
> qgis-developer-owner at lists.osgeo.org>>>
> >      >      >
> >      >      >
> >      >      >
> >      >      >     We are trying to release a tool to support the
> construction of V5Pfes Forest Environmental Services Payment Map on the
> QGIS platform called V5Pfes. The account we use has an id of "ifeernd".
> >      >      >     However, it has been more than 2 weeks since pushing
> the first version, but we still have not received a response to edit or
> approved version.
> >      >      >     Please help me check it out and report back if there
> are any problems during our release
> >      >      >
> >      >      >
> >      >      >     --
> >      >      >     <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>>>>
> >      >      >
> >      >      >     /Yours Sincerely,/
> >      >      >     Pham Quang Duong
> >      >      >
> >      >      >     <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>>>>Tell: +84 389799932
> >      >      >
> >      >      >     /phamquangduong at ifee.edu.vn/ <
> http://phamquangduong at ifee.edu.vn/> <http://phamquangduong at ifee.edu.vn/ <
> http://phamquangduong at ifee.edu.vn/>> <http://phamquangduong at ifee.edu.vn/ <
> http://phamquangduong at ifee.edu.vn/> <http://phamquangduong at ifee.edu.vn/ <
> http://phamquangduong at ifee.edu.vn/>>> <mailto:phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn>> <mailto:phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn> <mailto:phamquangduong at ifee.edu.vn
> <mailto:phamquangduong at ifee.edu.vn>>>>
> >      >      >     *Department of Research and Development**Institute For
> Forest Ecology and Environment*/http://ifee.edu.vn <http://ifee.edu.vn> <
> http://ifee.edu.vn <http://ifee.edu.vn>> <http://ifee.edu.vn <
> http://ifee.edu.vn> <http://ifee.edu.vn <http://ifee.edu.vn>>> <
> http://ifee.edu.vn <http://ifee.edu.vn> <http://ifee.edu.vn <
> http://ifee.edu.vn>> <http://ifee.edu.vn <http://ifee.edu.vn> <
> http://ifee.edu.vn <http://ifee.edu.vn>>>>/
> >      >      >
> >      >      >     <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901> <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901
> >>>>_______________________________________________
> >      >      >     QGIS-Developer mailing list
> >      >      > QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org> <mailto:QGIS-Developer at lists.osgeo.org
> <mailto:QGIS-Developer at lists.osgeo.org>> <mailto:
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> <mailto:QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>>>
> >      >      >     List info:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer> <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer>> <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer> <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer>>>
> >      >      >     Unsubscribe:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer> <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer>> <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer> <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer <
> https://lists.osgeo.org/mailman/listinfo/qgis-developer>>>
> >      >      >
> >      >
> >      >
> >      >
> >      > --
> >      > <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>>
> >      >
> >      > /Yours Sincerely,/
> >      > Pham Quang Duong
> >      >
> >      > <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>>Tell: +84 389799932
> >      >
> >      > /phamquangduong at ifee.edu.vn/ <http://phamquangduong at ifee.edu.vn/>
> <mailto:phamquangduong at ifee.edu.vn <mailto:phamquangduong at ifee.edu.vn>>
> >      > *Department of Research and Development**Institute For Forest
> Ecology and Environment*/http://ifee.edu.vn <http://ifee.edu.vn> <
> http://ifee.edu.vn <http://ifee.edu.vn>>/
> >      >
> >      > <https://htmlsig.com/t/000001DFX901 <
> https://htmlsig.com/t/000001DFX901>>
> >
> >
> >
> > --
> > <https://htmlsig.com/t/000001DFX901>
> >
> > /Yours Sincerely,/
> > Pham Quang Duong
> >
> > <https://htmlsig.com/t/000001DFX901>Tell: +84 389799932
> >
> > /phamquangduong at ifee.edu.vn/ <mailto:phamquangduong at ifee.edu.vn>
> > *Department of Research and Development**Institute For Forest Ecology
> and Environment*/http://ifee.edu.vn <http://ifee.edu.vn>/
> >
> > <https://htmlsig.com/t/000001DFX901>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221208/226e7e8e/attachment-0001.htm>

From andreaerdna at libero.it  Thu Dec  8 10:42:12 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Thu, 8 Dec 2022 19:42:12 +0100
Subject: [QGIS-Developer] setDataSourceUri() not working
Message-ID: <e7837bd2-3fff-29cf-d592-19e75845f091@libero.it>

> *Raymond Nijssen*
> /Wed Dec 7 07:39:50 PST 2022/
> ------------------------------------------------------------------------
> I'm trying to change the dataSourceUri of an existing layer

Hi Raymond,
AFAIK you need to use setDataSource [1] directly on the layer an not 
setDataSourceUri on the data provider.

E.g.:

layer.setDataSource(new_ds, layer_name, 'ogr')


Best regards.

Andrea

[1] 
https://qgis.org/pyqgis/master/core/QgsMapLayer.html#qgis.core.QgsMapLayer.setDataSource
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221208/b708add6/attachment.htm>

From r.nijssen at terglobo.nl  Thu Dec  8 23:19:01 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 9 Dec 2022 08:19:01 +0100
Subject: [QGIS-Developer] setDataSourceUri() not working
In-Reply-To: <e7837bd2-3fff-29cf-d592-19e75845f091@libero.it>
References: <e7837bd2-3fff-29cf-d592-19e75845f091@libero.it>
Message-ID: <1ba72fbc-07c6-88bf-7817-4a53a4e56109@terglobo.nl>

Thanks Andrea, but that doesn't seem to exist:

AttributeError: 'QgsVectorLayer' object has no attribute 'setDataSourceUri'

Raymond


On 08-12-2022 19:42, Andrea Giudiceandrea via QGIS-Developer wrote:
>> *Raymond Nijssen*
>> /Wed Dec 7 07:39:50 PST 2022/
>> ------------------------------------------------------------------------
>> I'm trying to change the dataSourceUri of an existing layer
> 
> Hi Raymond,
> AFAIK you need to use setDataSource [1] directly on the layer an not 
> setDataSourceUri on the data provider.
> 
> E.g.:
> 
> layer.setDataSource(new_ds, layer_name, 'ogr')
> 
> 
> Best regards.
> 
> Andrea
> 
> [1] 
> https://qgis.org/pyqgis/master/core/QgsMapLayer.html#qgis.core.QgsMapLayer.setDataSource
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From andreaerdna at libero.it  Thu Dec  8 23:20:59 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Fri, 9 Dec 2022 08:20:59 +0100
Subject: [QGIS-Developer] setDataSourceUri() not working
Message-ID: <0f1dcb79-4630-5d93-9785-f2fe61f0ddf8@libero.it>

Hi Raymond,
I wrote setDataSource, not setDataSourceUri.

Regards.

Andrea


Il 09/12/2022 08:19, Raymond Nijssen via QGIS-Developer ha scritto:
> Thanks Andrea, but that doesn't seem to exist:
>
> AttributeError: 'QgsVectorLayer' object has no attribute 
> 'setDataSourceUri'
>
> Raymond
>
>
> On 08-12-2022 19:42, Andrea Giudiceandrea via QGIS-Developer wrote:
>>> *Raymond Nijssen*
>>> /Wed Dec 7 07:39:50 PST 2022/
>>> ------------------------------------------------------------------------ 
>>>
>>> I'm trying to change the dataSourceUri of an existing layer
>>
>> Hi Raymond,
>> AFAIK you need to use setDataSource [1] directly on the layer an not 
>> setDataSourceUri on the data provider.
>>
>> E.g.:
>>
>> layer.setDataSource(new_ds, layer_name, 'ogr')
>>
>>
>> Best regards.
>>
>> Andrea
>>
>> [1] 
>> https://qgis.org/pyqgis/master/core/QgsMapLayer.html#qgis.core.QgsMapLayer.setDataSource


From r.nijssen at terglobo.nl  Thu Dec  8 23:23:18 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 9 Dec 2022 08:23:18 +0100
Subject: [QGIS-Developer] setDataSourceUri() not working
In-Reply-To: <0f1dcb79-4630-5d93-9785-f2fe61f0ddf8@libero.it>
References: <0f1dcb79-4630-5d93-9785-f2fe61f0ddf8@libero.it>
Message-ID: <d445d3f1-4850-89dc-9223-aedc29d696dd@terglobo.nl>

That works!! :O

Thank you so much!!!

Raymond

On 09-12-2022 08:20, Andrea Giudiceandrea via QGIS-Developer wrote:
> Hi Raymond,
> I wrote setDataSource, not setDataSourceUri.
> 
> Regards.
> 
> Andrea
> 
> 
> Il 09/12/2022 08:19, Raymond Nijssen via QGIS-Developer ha scritto:
>> Thanks Andrea, but that doesn't seem to exist:
>>
>> AttributeError: 'QgsVectorLayer' object has no attribute 
>> 'setDataSourceUri'
>>
>> Raymond
>>
>>
>> On 08-12-2022 19:42, Andrea Giudiceandrea via QGIS-Developer wrote:
>>>> *Raymond Nijssen*
>>>> /Wed Dec 7 07:39:50 PST 2022/
>>>> ------------------------------------------------------------------------
>>>> I'm trying to change the dataSourceUri of an existing layer
>>>
>>> Hi Raymond,
>>> AFAIK you need to use setDataSource [1] directly on the layer an not 
>>> setDataSourceUri on the data provider.
>>>
>>> E.g.:
>>>
>>> layer.setDataSource(new_ds, layer_name, 'ogr')
>>>
>>>
>>> Best regards.
>>>
>>> Andrea
>>>
>>> [1] 
>>> https://qgis.org/pyqgis/master/core/QgsMapLayer.html#qgis.core.QgsMapLayer.setDataSource
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From denis.rouzaud at gmail.com  Fri Dec  9 05:48:10 2022
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 9 Dec 2022 14:48:10 +0100
Subject: [QGIS-Developer] QgsSettings
Message-ID: <CAMtsY+Z69L94yHea4t=qHtHsUZVd_OTu==0ObF0=tR=3Dq-Kpw@mail.gmail.com>

Hi all,

While working on the refactoring of settings (see
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/245), I am
thinking about deprecating the QgsSettings class and directly integrate its
functionality within QgsSettingsRegistry.

I would need a bit of help to understand the rationale behind QgsSettings.

The use of global settings is pretty clear to me and migrating this is ok.

I am wondering about the different constructors (
https://api.qgis.org/api/3.28/classQgsSettings.html) which correspond to
the different constructors of QSettings.
While it makes sense to have these constructors, I don't see them used
anywhere in the code. So, it means that they are never used within QGIS
application.
I am wondering why QgsSettings isn't used with a static instance.

So, are these constructors really used and meaningful?
Would it make sense to have 2 static instances of QSettings (1 user, 1
global)?

Many thanks for any input.
Best wishes,

Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221209/d861fbef/attachment.htm>

From adenaculture at gmail.com  Fri Dec  9 07:47:49 2022
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 9 Dec 2022 10:47:49 -0500
Subject: [QGIS-Developer] QgsSettings
In-Reply-To: <CAMtsY+Z69L94yHea4t=qHtHsUZVd_OTu==0ObF0=tR=3Dq-Kpw@mail.gmail.com>
References: <CAMtsY+Z69L94yHea4t=qHtHsUZVd_OTu==0ObF0=tR=3Dq-Kpw@mail.gmail.com>
Message-ID: <CABPxTTqUMr+OzdBDn5OYcZ-+5htUs6Gd0tg-6G=-B1V9tkucJg@mail.gmail.com>

Just to let you know I use QgsSettings in most of my plugins. If you change
it, that would cause all kinds of problems with compatibility to the 10
plugins that I support. Be very careful in changing class names. It can be
done, but it could have major impacts.

Best wishes,

Calvin

On Fri, Dec 9, 2022 at 8:48 AM Denis Rouzaud via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi all,
>
> While working on the refactoring of settings (see
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/245), I am
> thinking about deprecating the QgsSettings class and directly integrate its
> functionality within QgsSettingsRegistry.
>
> I would need a bit of help to understand the rationale behind QgsSettings.
>
> The use of global settings is pretty clear to me and migrating this is ok.
>
> I am wondering about the different constructors (
> https://api.qgis.org/api/3.28/classQgsSettings.html) which correspond to
> the different constructors of QSettings.
> While it makes sense to have these constructors, I don't see them used
> anywhere in the code. So, it means that they are never used within QGIS
> application.
> I am wondering why QgsSettings isn't used with a static instance.
>
> So, are these constructors really used and meaningful?
> Would it make sense to have 2 static instances of QSettings (1 user, 1
> global)?
>
> Many thanks for any input.
> Best wishes,
>
> Denis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221209/652bbedf/attachment.htm>

From paul.wittle at dorsetcouncil.gov.uk  Fri Dec  9 08:04:36 2022
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Fri, 9 Dec 2022 16:04:36 +0000
Subject: [QGIS-Developer] OpenID Connect authentication
Message-ID: <LO2P265MB32319DD9EDC5823A2C7E07B0C11C9@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>

Hi,

I have a web service that I've configured to use OpenID Connect for authentication. I'm aware that QGIS supports Oauth2 authentication and I believe that could work for the authentication but can you confirm whether it is possible to overwrite the redirect URL?

The reason I ask is that the provider I'm using only permits redirect URLs starting with https or http://localhost. Unfortunately QGIS is forcing me to start it with http://127.0.0.1 but I need to configure it to be localhost or the request is rejected.

Thanks,
Paul
This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221209/715acc09/attachment-0001.htm>

From apasotti at gmail.com  Fri Dec  9 22:06:06 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 10 Dec 2022 07:06:06 +0100
Subject: [QGIS-Developer] QgsSettings
In-Reply-To: <CAMtsY+Z69L94yHea4t=qHtHsUZVd_OTu==0ObF0=tR=3Dq-Kpw@mail.gmail.com>
References: <CAMtsY+Z69L94yHea4t=qHtHsUZVd_OTu==0ObF0=tR=3Dq-Kpw@mail.gmail.com>
Message-ID: <CAL5Q670cdwKtvvstyd=5AVb0c=jPx_h0E0zx5JBkjp62RS3ekA@mail.gmail.com>

Hi Denis,

it's been a while but IIRC the goal was to have a drop-in replacement
of QSettings, that's probably why I recreated the same ctors.




On Fri, Dec 9, 2022 at 2:48 PM Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>
> Hi all,
>
> While working on the refactoring of settings (see https://github.com/qgis/QGIS-Enhancement-Proposals/issues/245), I am thinking about deprecating the QgsSettings class and directly integrate its functionality within QgsSettingsRegistry.
>
> I would need a bit of help to understand the rationale behind QgsSettings.
>
> The use of global settings is pretty clear to me and migrating this is ok.
>
> I am wondering about the different constructors (https://api.qgis.org/api/3.28/classQgsSettings.html) which correspond to the different constructors of QSettings.
> While it makes sense to have these constructors, I don't see them used anywhere in the code. So, it means that they are never used within QGIS application.
> I am wondering why QgsSettings isn't used with a static instance.
>
> So, are these constructors really used and meaningful?
> Would it make sense to have 2 static instances of QSettings (1 user, 1 global)?
>
> Many thanks for any input.
> Best wishes,
>
> Denis



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From bo.victor.thomsen at gmail.com  Sat Dec 10 01:49:52 2022
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sat, 10 Dec 2022 10:49:52 +0100
Subject: [QGIS-Developer] Strange behaviour of geometryChanged event on
 object QgsVectorLayer
Message-ID: <d4941737-b917-88d8-46cb-2113a28d57e7@gmail.com>

Hi list ..

If I define an event listener for event? geometryChanged event on object 
QgsVectorLayer in the Python console like this:

*=====================
*

*# event listener...
def feedback(fid, geom):
 ??? # print id and geometry wkt in the console
 ??? print ('id: {}, geometry: {}'.format(fid, geom.asWkt()))

# find layer
layer = iface.activeLayer()
*

*#? connect listener to event on layer
layer.geometryChanged.connect(feedback)*

*======================
*


It works nicely, printing the id and? the WKT of the object changed. 
However, the event fires *3* times, thus printing the same message 3 times.

Why does it do that ? (And no, I haven't connected it 3 times to the 
same event. If I connect it twice, I'll get *6* lines in the the 
console. And I did the experiment with a new user profile).

Windows 10, QGIS 3.26.3


-- 
Med venlig hilsen / Best regards

Bo Victor Thomsen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221210/b626b17f/attachment.htm>

From andreaerdna at libero.it  Sat Dec 10 04:39:03 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sat, 10 Dec 2022 13:39:03 +0100
Subject: [QGIS-Developer] Strange behaviour of geometryChanged event on
 object QgsVectorLayer
Message-ID: <4ed6eba3-0eb0-98e5-b71a-5088375a1d4c@libero.it>

Il 10/12/2022 10:49, Bo Victor Thomsen via QGIS-Developer ha scritto:
> It works nicely, printing the id and? the WKT of the object changed. 
> However, the event fires *3* times, thus printing the same message 3 
> times.

Hi Bo Victor Thomsen,
I think the behaviour you are experiencing has been already reported 
some months ago in a issue report at 
https://github.com/qgis/QGIS/issues/47595 .

Best regards.

Andrea Giudiceandrea

From afernandez at odyhpc.com  Sat Dec 10 09:06:40 2022
From: afernandez at odyhpc.com (afernandez)
Date: Sat, 10 Dec 2022 17:06:40 +0000
Subject: [QGIS-Developer] Problems configuring the statusBar
Message-ID: <cb191df490651.5f3a4b148d869@odyhpc.com>

Hello,
I'm facing some problems while trying to modify some of the properties of 
the statusBar. For example, trying to use the styleSheet method with the 
following snippet:
stilus = "background-color: black;"
self.iface.mainWindow().statusBar().styleSheet(stilus)
produces the error:
TypeError: styleSheet(self): too many arguments
It's like if styleSheet didn't take any parameter and I've been unable to 
find similar uses online. [Note: Also tried modifying the syntax defining 
the style (just in case) but it's always the same error] 
Another problem is that I can add a string to the statusBar as in the 
following example:
text = "CPU: "+cpu_nomen
self.iface.mainWindow().statusBar().showMessage(text)
This will output the string. However, doing anything of substance (e.g. 
opening a plugin) erases the new text and I'm unsure how to make it 
permanent.
Thanks,
AF
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221210/4dd1cc47/attachment.htm>

From szymonsleczka7 at gmail.com  Sat Dec 10 12:22:38 2022
From: szymonsleczka7 at gmail.com (=?UTF-8?B?U3p5bW9uIMWabMSZY3prYQ==?=)
Date: Sat, 10 Dec 2022 21:22:38 +0100
Subject: [QGIS-Developer] Problem with building QGIS on Windows
Message-ID: <CAEvoHPevRunE0N3O7uS_LoMzEY=AQ_tQqUdLcguA=_GefcfOHQ@mail.gmail.com>

Hello,

I want to build QGIS on Windows. I was trying to do everything which was
described here
https://github.com/qgis/QGIS/blob/master/INSTALL.md#4-building-on-windows
but when I did this section
*4.1.4.1 Using configonly.bat to create the MSVC solution file *I get the
error.

I don't understand the problem. So I have attached three files.

One file is a report from configonly.bat
Two files came from CMake: output and error

Maybe someone knows what is going on here.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221210/cdd06880/attachment-0001.htm>
-------------- next part --------------
'"C:\OSGeo4W\bin\py3_env.bat"' is not recognized as an internal or external command,
operable program or batch file.
'"C:\OSGeo4W\bin\qt5_env.bat"' is not recognized as an internal or external command,
operable program or batch file.
BEGIN: 10.12.2022 19:48:27,17
CMAKE: 10.12.2022 19:48:27,25
CMake Error at CMakeLists.txt:12 (cmake_policy):
  Policy "CMP0094" is not known to this version of CMake.


-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.19044.
-- The C compiler identification is MSVC 19.0.24215.1
-- The CXX compiler identification is MSVC 19.0.24215.1
-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe
-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe
-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- QGIS version: 3.29.0 Master (32900)
-- Looking for CL_VERSION_2_2
-- Looking for CL_VERSION_2_2 - found
-- Found OpenCL: C:/OSGeo4W/lib/opencl.lib (found version "2.2")
-- Found OpenCL C++ headers: C:/OSGeo4W/include
-- Found GRASS 8: c:/OSGeo4W/apps/grass/grass82 (8.2.0, off_t size = 8)
-- Found ODBC: odbc32.lib
-- Found FLEX: C:/cygwin64/bin/flex.exe (found suitable version "2.6.4", minimum required is "2.6")
-- Found BISON: C:/cygwin64/bin/bison.exe (found version "3.8.2")
CMake Error at cmake/FindProj.cmake:70 (FILE):
  FILE failed to open for reading (No such file or directory):

    C:/OSGeo4W/apps/proj-dev/include/proj_api.h
Call Stack (most recent call first):
  CMakeLists.txt:354 (find_package)


-- Found Proj: C:/OSGeo4W/apps/proj-dev/lib/proj.lib version  (..)
-- Found GEOS: C:/OSGeo4W/lib/geos_c.lib ()
-- Found GDAL: C:/OSGeo4W/apps/gdal-dev/lib/gdal_i.lib (3.7.0dev-494dfb0a4c)
-- Found Expat: C:/OSGeo4W/lib/libexpat.lib
-- Found Spatialindex: C:/OSGeo4W/lib/spatialindex-64.lib
-- Found LibZip: C:/OSGeo4W/lib/zip.lib
-- Found libzip: C:/OSGeo4W/lib/zip.lib
-- Found Sqlite3: C:/OSGeo4W/lib/sqlite3_i.lib
-- Found Protobuf: C:/OSGeo4W/lib/libprotobuf.lib (found version "3.13.0")
-- Found Protobuf: C:/OSGeo4W/lib/libprotobuf.lib
-- Found ZLIB: C:/OSGeo4W/lib/zlib.lib (found version "1.2.12")
-- Found zlib: C:/OSGeo4W/lib/zlib.lib
-- Found exiv2: C:/OSGeo4W/lib/exiv2.lib
-- Could NOT find PostgreSQL (missing: PostgreSQL_TYPE_INCLUDE_DIR) (found version "14.3")
-- Found PostgreSQL: C:/OSGeo4W/lib/libpq.lib
-- Found SpatiaLite: C:/OSGeo4W/lib/spatialite_i.lib
-- Qt WebKit support enabled
-- Using embedded laz-perf
-- Found ZSTD: C:/OSGeo4W/lib/zstd.lib
-- Found ZSTD: C:/OSGeo4W/lib/zstd.lib
-- Found Qt version: 5.15.3
-- Found QScintilla2: C:/OSGeo4W/apps/Qt5/lib/qscintilla2.lib (2.13.1)
-- Found Qwt: C:/OSGeo4W/apps/Qt5/lib/qwt.lib (6.1.6)
-- Found QtKeychain: C:/OSGeo4W/apps/Qt5/lib/qt5keychain.lib
-- Found QCA: C:\OSGeo4W\apps\Qt5\lib\qca-qt5.lib (2.3.1)
-- Pedantic compiler settings enabled
-- Debug output enabled
-- Found GSL: C:/OSGeo4W/lib/gsl.lib;C:/OSGeo4W/lib/cblas.lib
-- Found Python: C:/OSGeo4W/bin/python3.exe (found suitable version "3.9.5", minimum required is "3.7") found components:  Interpreter Development
-- Found Python executable: C:/OSGeo4W/bin/python3.exe (version 3.9.5)
-- Python library: C:/OSGeo4W/apps/Python39/libs/python39.lib
-- Python site-packages: C:\OSGeo4W\apps\Python39\Lib\site-packages
-- Found SIP version: 6.1.1
-- Found PyQt5 version: 5.15.4
-- Found QScintilla2 PyQt module: 2.13.1

-- git marker, but no git found - version will be unknown
-- Performing Test COMPILER_HAS_DEPRECATED_ATTR
-- Performing Test COMPILER_HAS_DEPRECATED_ATTR - Failed
-- Performing Test COMPILER_HAS_DEPRECATED
-- Performing Test COMPILER_HAS_DEPRECATED - Success
-- Looking for pthread.h
-- Looking for pthread.h - not found
-- Found Threads: TRUE
-- Found HDF5: hdf5-shared (found version "1.10.7")
-- Found PkgConfig: C:/cygwin64/bin/pkg-config (found version "")
-- Found NetCDF: C:/OSGeo4W/lib/netcdf.lib
-- Found LibXml2: C:/OSGeo4W/lib/libxml2.lib (found version "2.9.10")
-- Found OCI: C:/OSGeo4W/lib/oci.lib
-- Found FCGI: C:/OSGeo4W/lib/libfcgi.lib
-- Using PROJ >= 6 srs database.
-- Ctest Binary Directory set to: C:/OSGeo4W/QGIS/ms-windows/osgeo4w/build-qgis-test-x86_64/output/bin
-- Configuring incomplete, errors occurred!
See also "C:/OSGeo4W/QGIS/ms-windows/osgeo4w/build-qgis-test-x86_64/CMakeFiles/CMakeOutput.log".
See also "C:/OSGeo4W/QGIS/ms-windows/osgeo4w/build-qgis-test-x86_64/CMakeFiles/CMakeError.log".
cmake failed
BUILD ERROR 1: 10.12.2022 19:48:49,95
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CMakeOutput.log
Type: application/octet-stream
Size: 36961 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221210/cdd06880/attachment-0002.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CMakeError.log
Type: application/octet-stream
Size: 8801 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221210/cdd06880/attachment-0003.obj>

From andreaerdna at libero.it  Sat Dec 10 17:09:58 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sun, 11 Dec 2022 02:09:58 +0100
Subject: [QGIS-Developer] Problems configuring the statusBar
Message-ID: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>

Il 10/12/2022 18:06, afernandez via QGIS-Developer ha scritto:
> self.iface.mainWindow().statusBar().styleSheet(stilus)
> produces the error:
> TypeError: styleSheet(self): too many arguments
>

Hi AF,
maybe you need to use setStyleSheet(const QString &styleSheet) to set a 
style sheet.

Best regards.

Andrea Giudiceandrea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221211/c1409c55/attachment.htm>

From jef at norbit.de  Sun Dec 11 07:37:32 2022
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sun, 11 Dec 2022 16:37:32 +0100
Subject: [QGIS-Developer] Problem with building QGIS on Windows
In-Reply-To: <CAEvoHPevRunE0N3O7uS_LoMzEY=AQ_tQqUdLcguA=_GefcfOHQ@mail.gmail.com>
References: <CAEvoHPevRunE0N3O7uS_LoMzEY=AQ_tQqUdLcguA=_GefcfOHQ@mail.gmail.com>
Message-ID: <20221211153732.xwtqa7esqrdxnvip@norbit.de>

Hi Szymon,

On Sat, 10. Dec 2022 at 21:22:38 +0100, Szymon ?l?czka via QGIS-Developer wrote:
> I want to build QGIS on Windows.

The package recipes are on
https://github.com/jef-n/OSGeo4W/tree/master/src/qgis/osgeo4w


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221211/ac73f58e/attachment.sig>

From afernandez at odyhpc.com  Sun Dec 11 12:48:24 2022
From: afernandez at odyhpc.com (afernandez)
Date: Sun, 11 Dec 2022 20:48:24 +0000
Subject: [QGIS-Developer] Problems configuring the statusBar
References: <cb191df490651.5f3a4b148d869@odyhpc.com>
Message-ID: <2501b924c9b4d.821742f46b25a@odyhpc.com>

Get BlueMail <https://bluemail.me> for Desktop
afernandez via QGIS-Developer wrote:
Hello,
I'm facing some problems while trying to modify some of the properties of 
the statusBar. For example, trying to use the styleSheet method with the 
following snippet:
stilus = "background-color: black;"
self.iface.mainWindow().statusBar().styleSheet(stilus)
produces the error:
TypeError: styleSheet(self): too many arguments
It's like if styleSheet didn't take any parameter and I've been unable to 
find similar uses online. [Note: Also tried modifying the syntax defining 
the style (just in case) but it's always the same error] 
Another problem is that I can add a string to the statusBar as in the 
following example:
text = "CPU: "+cpu_nomen
self.iface.mainWindow().statusBar().showMessage(text)
This will output the string. However, doing anything of substance (e.g. 
opening a plugin) erases the new text and I'm unsure how to make it 
permanent.
Thanks,
AF
Hello,
I'm facing some problems while trying to modify some of the properties of 
the statusBar. For example, trying to use the styleSheet method with the 
following snippet:
stilus = "background-color: black;"
self.iface.mainWindow().statusBar().styleSheet(stilus)
produces the error:
TypeError: styleSheet(self): too many arguments
It's like if styleSheet didn't take any parameter and I've been unable to 
find similar uses online. [Note: Also tried modifying the syntax defining 
the style (just in case) but it's always the same error] 
Another problem is that I can add a string to the statusBar as in the 
following example:
text = "CPU: "+cpu_nomen
self.iface.mainWindow().statusBar().showMessage(text)
This will output the string. However, doing anything of substance (e.g. 
opening a plugin) erases the new text and I'm unsure how to make it 
permanent.
Thanks,
AF
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221211/66db97f5/attachment.htm>

From afernandez at odyhpc.com  Sun Dec 11 13:05:04 2022
From: afernandez at odyhpc.com (afernandez)
Date: Sun, 11 Dec 2022 21:05:04 +0000
Subject: [QGIS-Developer] Problems configuring the statusBar
References: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>
Message-ID: <e266f91c0c2bd.05a4973fe823f@odyhpc.com>

Hello Andrea,
Sorry for the delay as it has been a busy Sunday with several commitments. 
I've been trying to implement your proposed solution using different 
approaches but still unsucessfully (even after trying different 
combinations). From several posts, a potential syntax would be something 
like:
variable1 = self.iface.mainWindow().statusBar().styleSheet() 
variable1.setstyleSheet("background-color: black;")
However, this is not effective and 'variable' is returning 
QStatusBar::item{border: none;}, which I'm unsure how to intepret or how to 
define the variable so that setstyleSheet can be applied.
I also tried a more simplified version (following the suggestion at 
https://stackoverflow.com/questions/23490017/how-to-add-style-via-setstylesheet-without-losing-orignal-style-in-qt):

setstyleSheet("background-color: black;")
self.iface.mainWindow().statusBar().styleSheet()
However, it returns 'setstyleSheet' is not defined so it doesn't seem to 
take setstyleSheet w/o an assignment. Do you have any suggestion on how you 
would proceed?
Thanks,
AF
P.S. My apologies for the previous reply (it didn't go as anticipated)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221211/5c6d5d9d/attachment.htm>

From nyall.dawson at gmail.com  Sun Dec 11 13:21:49 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 12 Dec 2022 07:21:49 +1000
Subject: [QGIS-Developer] Problems configuring the statusBar
In-Reply-To: <e266f91c0c2bd.05a4973fe823f@odyhpc.com>
References: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>
 <e266f91c0c2bd.05a4973fe823f@odyhpc.com>
Message-ID: <CAB28AshYrtEJNjX1OkwZiD5hGQfcF_mB4+1mJuFHZzXpe0YCBQ@mail.gmail.com>

On Mon, 12 Dec 2022, 7:06 am afernandez via QGIS-Developer, <
qgis-developer at lists.osgeo.org> wrote:

> Hello Andrea,
> Sorry for the delay as it has been a busy Sunday with several commitments.
> I've been trying to implement your proposed solution using different
> approaches but still unsucessfully (even after trying different
> combinations). From several posts, a potential syntax would be something
> like:
>         variable1 = self.iface.mainWindow().statusBar().styleSheet()
>         variable1.setstyleSheet("background-color: black;")
> However, this is not effective and 'variable' is returning
> QStatusBar::item{border: none;}, which I'm unsure how to intepret or how to
> define the variable so that setstyleSheet can be applied.
> I also tried a more simplified version (following the suggestion at
> https://stackoverflow.com/questions/23490017/how-to-add-style-via-setstylesheet-without-losing-orignal-style-in-qt
> ):
>         setstyleSheet("background-color: black;")
>         self.iface.mainWindow().statusBar().styleSheet()
> However, it returns 'setstyleSheet' is not defined so it doesn't seem to
> take setstyleSheet w/o an assignment. Do you have any suggestion on how you
> would proceed?
>

Respectfully, your code has many fundamental issues. I would suggest
reading the qt documentation and getting a better grasp on qt and the qt
API before attempting to write this script.

Nyall

Thanks,
> AF
> P.S. My apologies for the previous reply (it didn't go as anticipated)
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221212/98a4c64f/attachment-0001.htm>

From coder at odyhpc.com  Sun Dec 11 13:00:26 2022
From: coder at odyhpc.com (coder)
Date: Sun, 11 Dec 2022 21:00:26 +0000
Subject: [QGIS-Developer] Problems configuring the statusBar
References: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>
Message-ID: <2676013c583cb.fd73500d5aff9@odyhpc.com>

Hello Andrea,
Sorry for the delay as it has been a busy Sunday with several commitments. 
I've been trying to implement your proposed solution using different 
approaches but still unsucessfully (even after trying different 
combinations). From several posts, a potential syntax would be something 
like:
variable1 = self.iface.mainWindow().statusBar().styleSheet() 
variable1.setstyleSheet("background-color: black;")
However, this is not effective and 'variable' is returning 
QStatusBar::item{border: none;}, which I'm unsure how to intepret or how to 
define the variable so that setstyleSheet can be applied.
I also tried a more simplified version (following the suggestion at 
https://stackoverflow.com/questions/23490017/how-to-add-style-via-setstylesheet-without-losing-orignal-style-in-qt):

setstyleSheet("background-color: black;")
self.iface.mainWindow().statusBar().styleSheet()
However, it returns 'setstyleSheet' is not defined so it doesn't seem to 
take setstyleSheet w/o an assignment. Do you have any suggestion on how you 
would proceed?
Thanks,
AF
P.S. My apologies for the previous reply (it didn't go as anticipated)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221211/6d632b66/attachment.htm>

From afernandez at odyhpc.com  Sun Dec 11 16:42:12 2022
From: afernandez at odyhpc.com (afernandez)
Date: Mon, 12 Dec 2022 00:42:12 +0000
Subject: [QGIS-Developer] Problems configuring the statusBar
References: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>
 <e266f91c0c2bd.05a4973fe823f@odyhpc.com>
 <CAB28AshYrtEJNjX1OkwZiD5hGQfcF_mB4+1mJuFHZzXpe0YCBQ@mail.gmail.com>
Message-ID: <896c95e38dcf3.98b97f256a4@odyhpc.com>

Hi Nyall,
Obviously I'm not an expert in Qt/QGIS (only been using it for a few weeks) 
and still have many things to learn. Most of the code works fine (by 
staying away from very complex structures) and styling widgets has been no 
problem until now when trying to do anything with the statusBar. From your 
comment, I went back to the PyQGISDeveloperCookbook(v3.22) and snippets 
like 
myicon = 
QIcon("/home/ubuntu/.local/share/QGIS/QGIS3/profiles/default/python/plugins/app/appicon.png")

iface.mainWindow().setWindowIcon(myicon)
iface.mainWindow().setWindowTitle("Tailoring QGIS")
had worked in the past. One problem has been to find specific documentation 
about iface.mainWindow().statusBar(), let alone examples and those online 
(e.g. 
https://gis.stackexchange.com/questions/210327/how-to-display-qgis-processing-bar-from-a-plugin) 
kind of suggests that my initial snippet could work. I'll continue reading 
the cookbook tomorrow but, in the meantime, is there any other 
documentation discussing iface in general or iface.mainWindow().statusBar() 
that I should also be reading? (Note: I also checked 
https://doc.qt.io/qt-5/qstatusbar.html)
Thanks,
AF
P.S. Again sorry about the extra messages that shouldn't have been sent to 
the thread (hopefully it won't happen again) 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221212/dcf5d124/attachment.htm>

From johannes.kroeger at wheregroup.com  Mon Dec 12 00:19:36 2022
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Mon, 12 Dec 2022 09:19:36 +0100
Subject: [QGIS-Developer] Problems configuring the statusBar
In-Reply-To: <896c95e38dcf3.98b97f256a4@odyhpc.com>
References: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>
 <e266f91c0c2bd.05a4973fe823f@odyhpc.com>
 <CAB28AshYrtEJNjX1OkwZiD5hGQfcF_mB4+1mJuFHZzXpe0YCBQ@mail.gmail.com>
 <896c95e38dcf3.98b97f256a4@odyhpc.com>
Message-ID: <96b41dd6-e7b5-8914-462e-8a40ce857b8c@wheregroup.com>

Hi? AF,

you can always query objects for their type with type(objectname) or 
even access their documentation in an interactive interpreter session 
with help(objectname). Then you know what methods and attributes they 
expose or which Qt documentation page is matching whatever object you 
are handling.

Be aware that pages like https://doc.qt.io/qt-5/qstatusbar.html only 
list the "direct" members and that the objects might have already 
inherited others. For that you can click the "List of all members, 
including inherited members" link.

CaSe matters! Best use an IDE that helps you with autocompletion and 
inspection, this helps a lot when learning. For PyCharm all you need to 
do is select the python-qgis.bat file as interpreter and let it scan the 
Python modules for a while.

When googling for QGIS Python classes, make sure you are reading 
up-to-date documentation matching your QGIS version, e. g. 
https://qgis.org/pyqgis/3.28/gui/QgisInterface.html

Cheers, Hannes

Am 12.12.22 um 01:42 schrieb afernandez via QGIS-Developer:
> Hi Nyall,
> Obviously I'm not an expert in Qt/QGIS (only been using it for a few 
> weeks) and still have many things to learn. Most of the code works 
> fine (by staying away from very complex structures) and styling 
> widgets has been no problem until now when trying to do anything with 
> the statusBar. From your comment, I went back to the 
> PyQGISDeveloperCookbook(v3.22) and snippets like
> ? ? myicon = 
> QIcon("/home/ubuntu/.local/share/QGIS/QGIS3/profiles/default/python/plugins/app/appicon.png")
> iface.mainWindow().setWindowIcon(myicon)
> iface.mainWindow().setWindowTitle("Tailoring QGIS")
> had worked in the past. One problem has been to find specific 
> documentation about iface.mainWindow().statusBar(), let alone examples 
> and those online (e.g. 
> https://gis.stackexchange.com/questions/210327/how-to-display-qgis-processing-bar-from-a-plugin) 
> kind of suggests that my initial snippet could work. I'll continue 
> reading the cookbook tomorrow but, in the meantime, is there any other 
> documentation discussing iface in general or 
> iface.mainWindow().statusBar() that I should also be reading? (Note: I 
> also checked https://doc.qt.io/qt-5/qstatusbar.html)
> Thanks,
> AF
> P.S. Again sorry about the extra messages that shouldn't have been 
> sent to the thread (hopefully it won't happen again)
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Where2B Konferenz 2022
15. Dezember 2022 in Bonn und Online
https://where2b-conference.com/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221212/db5b7080/attachment.htm>

From r.nijssen at terglobo.nl  Mon Dec 12 00:45:15 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 12 Dec 2022 09:45:15 +0100
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
Message-ID: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>

Dear devs and contrbs,

The next QGIS Contributor Meeting will take place:

20-23 April 2023

in 's-Hertogenbosch, The Netherlands. And it's very very likely that 
there will be an International User Conference the 2 days prior to the 
meeting (18+19 April). Details will follow. Please save these dates.

https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch

Kind regards,
Raymond

From szymonsleczka7 at gmail.com  Mon Dec 12 04:42:00 2022
From: szymonsleczka7 at gmail.com (=?UTF-8?B?U3p5bW9uIMWabMSZY3prYQ==?=)
Date: Mon, 12 Dec 2022 13:42:00 +0100
Subject: [QGIS-Developer] Problem with building QGIS on Windows
In-Reply-To: <20221211153732.xwtqa7esqrdxnvip@norbit.de>
References: <CAEvoHPevRunE0N3O7uS_LoMzEY=AQ_tQqUdLcguA=_GefcfOHQ@mail.gmail.com>
 <20221211153732.xwtqa7esqrdxnvip@norbit.de>
Message-ID: <CAEvoHPdOnaFSgcpMrbuE1V4_D3=sJwtW8=szTf0rFpOLxf9yiw@mail.gmail.com>

I'm still getting error like

C:\OSGeo4W\qgis\ms-windows\osgeo4w>configonly.bat
**********************************************************************
** Visual Studio 2019 Developer Command Prompt v16.11.20
** Copyright (c) 2021 Microsoft Corporation
**********************************************************************
[vcvarsall.bat] Environment initialized for: 'x64'
BEGIN: 12.12.2022 13:39:35,40
CMAKE: 12.12.2022 13:39:35,49
CMake Error at CMakeLists.txt:12 (cmake_policy):
  Policy "CMP0094" is not known to this version of CMake.


-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.19044.
-- The C compiler identification is MSVC 19.0.24215.1
-- The CXX compiler identification is MSVC 19.0.24215.1
-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual
Studio 14.0/VC/bin/x86_amd64/cl.exe
-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual
Studio 14.0/VC/bin/x86_amd64/cl.exe -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual
Studio 14.0/VC/bin/x86_amd64/cl.exe
-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual
Studio 14.0/VC/bin/x86_amd64/cl.exe -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- QGIS version: 3.29.0 Master (32900)
-- Looking for CL_VERSION_2_2
-- Looking for CL_VERSION_2_2 - found
-- Found OpenCL: C:/OSGeo4W/lib/opencl.lib (found version "2.2")
-- Found OpenCL C++ headers: C:/OSGeo4W/include
-- Could not find GRASS 7
-- Could not find GRASS 8
-- Found ODBC: odbc32.lib
-- Found FLEX: C:/cygwin64/bin/flex.exe (found suitable version "2.6.4",
minimum required is "2.6")
-- Found BISON: C:/cygwin64/bin/bison.exe (found version "3.8.2")
CMake Error at cmake/FindProj.cmake:70 (FILE):
  FILE failed to open for reading (No such file or directory):

    C:/OSGeo4W/apps/proj-dev/include/proj_api.h
Call Stack (most recent call first):
  CMakeLists.txt:354 (find_package)


-- Found Proj: C:/OSGeo4W/apps/proj-dev/lib/proj.lib version  (..)
-- Found GEOS: C:/OSGeo4W/lib/geos_c.lib ()
-- Found GDAL: C:/OSGeo4W/apps/gdal-dev/lib/gdal_i.lib (3.7.0dev-c57259edd5)
-- Found Expat: C:/OSGeo4W/lib/libexpat.lib
-- Found Spatialindex: C:/OSGeo4W/lib/spatialindex-64.lib
-- Found LibZip: C:/OSGeo4W/lib/zip.lib
-- Found libzip: C:/OSGeo4W/lib/zip.lib
-- Found Sqlite3: C:/OSGeo4W/lib/sqlite3_i.lib
-- Found Protobuf: C:/OSGeo4W/lib/libprotobuf.lib (found version "3.13.0")
-- Found Protobuf: C:/OSGeo4W/lib/libprotobuf.lib
-- Found ZLIB: C:/OSGeo4W/lib/zlib.lib (found version "1.2.12")
-- Found zlib: C:/OSGeo4W/lib/zlib.lib
-- Found exiv2: C:/OSGeo4W/lib/exiv2.lib
-- Could NOT find PostgreSQL (missing: PostgreSQL_TYPE_INCLUDE_DIR) (found
version "14.3")
-- Found PostgreSQL: C:/OSGeo4W/lib/libpq.lib
-- Found SpatiaLite: C:/OSGeo4W/lib/spatialite_i.lib
-- Qt WebKit support enabled
-- Using embedded laz-perf
-- Found ZSTD: C:/OSGeo4W/lib/zstd.lib
-- Found ZSTD: C:/OSGeo4W/lib/zstd.lib
-- Found Qt version: 5.15.3
-- Found QScintilla2: C:/OSGeo4W/apps/Qt5/lib/qscintilla2.lib (2.13.1)
-- Found QtKeychain: C:/OSGeo4W/apps/Qt5/lib/qt5keychain.lib
-- Found QCA: C:\OSGeo4W\apps\Qt5\lib\qca-qt5.lib (2.3.1)
-- Pedantic compiler settings enabled
-- Debug output enabled
-- Found GSL: C:/OSGeo4W/lib/gsl.lib;C:/OSGeo4W/lib/cblas.lib
-- Found Python: C:/OSGeo4W/bin/python3.exe (found suitable version
"3.9.5", minimum required is "3.7") found components:  Interpreter
Development
-- Found Python executable: C:/OSGeo4W/bin/python3.exe (version 3.9.5)
-- Python library: C:/OSGeo4W/apps/Python39/libs/python39.lib
-- Python site-packages: C:\OSGeo4W\apps\Python39\Lib\site-packages
-- Found SIP version: 6.1.1
-- Found PyQt5 version: 5.15.4
-- Found QScintilla2 PyQt module: 2.13.1

-- git marker, but no git found - version will be unknown
-- Performing Test COMPILER_HAS_DEPRECATED_ATTR
-- Performing Test COMPILER_HAS_DEPRECATED_ATTR - Failed
-- Performing Test COMPILER_HAS_DEPRECATED
-- Performing Test COMPILER_HAS_DEPRECATED - Success
-- Looking for pthread.h
-- Looking for pthread.h - not found
-- Found Threads: TRUE
-- Found HDF5: hdf5-shared (found version "1.10.7")
-- Found PkgConfig: C:/cygwin64/bin/pkg-config (found version "")
-- Found NetCDF: C:/OSGeo4W/lib/netcdf.lib
-- Found LibXml2: C:/OSGeo4W/lib/libxml2.lib (found version "2.9.10")
-- Found OCI: C:/OSGeo4W/lib/oci.lib
-- Found FCGI: C:/OSGeo4W/lib/libfcgi.lib
-- Using PROJ >= 6 srs database.
-- Ctest Binary Directory set to:
C:/OSGeo4W/qgis/ms-windows/osgeo4w/build-qgis-test-x86_64/output/bin
CMake Error: The following variables are used in this project, but they are
set to NOTFOUND.
Please set them or make sure they are set and tested correctly in the CMake
files:
C:/OSGeo4W/qgis/src/gui/QWT_INCLUDE_DIR
   used as include directory in directory C:/OSGeo4W/qgis/src/gui
QWT_INCLUDE_DIR
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory C:/OSGeo4W/qgis/python
   used as include directory in directory
C:/OSGeo4W/qgis/tests/src/3d/sandbox
   used as include directory in directory
C:/OSGeo4W/qgis/tests/src/3d/sandbox
   used as include directory in directory
C:/OSGeo4W/qgis/tests/src/3d/sandbox
   used as include directory in directory
C:/OSGeo4W/qgis/tests/src/3d/sandbox

-- Configuring incomplete, errors occurred!
See also
"C:/OSGeo4W/qgis/ms-windows/osgeo4w/build-qgis-test-x86_64/CMakeFiles/CMakeOutput.log".
See also
"C:/OSGeo4W/qgis/ms-windows/osgeo4w/build-qgis-test-x86_64/CMakeFiles/CMakeError.log".
cmake failed
BUILD ERROR 1: 12.12.2022 13:39:58,16

On Sun, Dec 11, 2022 at 4:37 PM J?rgen E. Fischer via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi Szymon,
>
> On Sat, 10. Dec 2022 at 21:22:38 +0100, Szymon ?l?czka via QGIS-Developer
> wrote:
> > I want to build QGIS on Windows.
>
> The package recipes are on
> https://github.com/jef-n/OSGeo4W/tree/master/src/qgis/osgeo4w
>
>
> J?rgen
>
> --
> J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> https://www.norbit.de
> QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221212/c6e780d4/attachment-0001.htm>

From anitagraser at gmx.at  Mon Dec 12 11:19:37 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 12 Dec 2022 19:19:37 +0000
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
In-Reply-To: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>
References: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>
Message-ID: <1670872704079.4215135361.2148315779@gmx.at>

Thank you for the update, Raymond.

I've added the event to the news feed for the website:
https://github.com/qgis/QGIS-Website/blob/master/source/feeds/qugsnews.atom

For anyone else planning events: please feel invited to add your events to
this news feed as well.

Regards,
Anita


On Monday, 12. December 2022 09:45:15 (+01:00), Raymond Nijssen via
QGIS-Developer wrote:


 > Dear devs and contrbs,

 >

 > The next QGIS Contributor Meeting will take place:

 >

 > 20-23 April 2023

 >

 > in 's-Hertogenbosch, The Netherlands. And it's very very likely that
there will be an International User Conference the 2 days prior to the
meeting (18+19 April). Details will follow. Please save these dates.

 >

 >
https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch


>

 > Kind regards,

 > Raymond

 > _______________________________________________

 > QGIS-Developer mailing list

 > QGIS-Developer at lists.osgeo.org

 > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 >

--
Anita Graser
Home: http://anitagraser.com
Twitter: @underdarkgis
Mastodon: @underdarkgis at fosstodon.org

From afernandez at odyhpc.com  Mon Dec 12 18:40:04 2022
From: afernandez at odyhpc.com (afernandez)
Date: Tue, 13 Dec 2022 02:40:04 +0000
Subject: [QGIS-Developer] Problems configuring the statusBar
References: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>
 <e266f91c0c2bd.05a4973fe823f@odyhpc.com>
 <CAB28AshYrtEJNjX1OkwZiD5hGQfcF_mB4+1mJuFHZzXpe0YCBQ@mail.gmail.com>
 <896c95e38dcf3.98b97f256a4@odyhpc.com>
 <96b41dd6-e7b5-8914-462e-8a40ce857b8c@wheregroup.com>
Message-ID: <19889cf64e8c2.78811b9895ee3@odyhpc.com>

Hello Johannes,
Querying was how I found the method 
self.iface.mainWindow().statusBar().styleSheet() along with many others. I 
circled back and tried to use 'help' to figure out what I was missing. 
However, help for self.iface.mainWindow().statusBar().styleSheet() only 
tells me that styleSheet is a method of the self.iface.mainWindow.statusBar 
instance that returns a string. I also explored another method 
self.iface.mainWindow().statusBar().setFont(), which is supposed to take a 
QFont, but I still haven't been able to make it work properly either. 
The bottom line is that I can add widgets to the statusBar and style them, 
but even changing the font type for the whole statusBar remains elusive. At 
least this route allows me to move on with the project while I figure out 
all the other details. 
Thanks,
AF
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221213/1db1da6a/attachment.htm>

From r.nijssen at terglobo.nl  Mon Dec 12 22:36:21 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Tue, 13 Dec 2022 07:36:21 +0100
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
In-Reply-To: <1670872704079.4215135361.2148315779@gmx.at>
References: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>
 <1670872704079.4215135361.2148315779@gmx.at>
Message-ID: <04ae2ec0-3fc7-aa1a-51d1-1e1a8c3af760@terglobo.nl>

Thank you Anita. When the conference details are clear and the 
conference website is online, could there also be an item in the news 
feed in QGIS?


On 12-12-2022 20:19, Anita Graser wrote:
> Thank you for the update, Raymond.
> 
> I've added the event to the news feed for the website:
> https://github.com/qgis/QGIS-Website/blob/master/source/feeds/qugsnews.atom
> 
> For anyone else planning events: please feel invited to add your events to
> this news feed as well.
> 
> Regards,
> Anita
> 
> 
> On Monday, 12. December 2022 09:45:15 (+01:00), Raymond Nijssen via
> QGIS-Developer wrote:
> 
> 
>  > Dear devs and contrbs,
> 
>  >
> 
>  > The next QGIS Contributor Meeting will take place:
> 
>  >
> 
>  > 20-23 April 2023
> 
>  >
> 
>  > in 's-Hertogenbosch, The Netherlands. And it's very very likely that
> there will be an International User Conference the 2 days prior to the
> meeting (18+19 April). Details will follow. Please save these dates.
> 
>  >
> 
>  >
> https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch
> 
> 
>>
> 
>  > Kind regards,
> 
>  > Raymond
> 
>  > _______________________________________________
> 
>  > QGIS-Developer mailing list
> 
>  > QGIS-Developer at lists.osgeo.org
> 
>  > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
>  > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
>  >
> 
> -- 
> Anita Graser
> Home: http://anitagraser.com
> Twitter: @underdarkgis
> Mastodon: @underdarkgis at fosstodon.org

From matteo.ghetta at gmail.com  Mon Dec 12 23:14:10 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 13 Dec 2022 08:14:10 +0100
Subject: [QGIS-Developer] Building pyqgis doc locally
Message-ID: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>

Hi devs,

I've some small ideas to enhance the readthedocs theme of the pyqgis 
documentation and I want make some local test before making a pull request.

I've cloned this repository (around 7GB?!):

https://github.com/qgis/pyqgis

and then I followed the instruction of the Readme file. It seems 
building but it is literally taking ages (./build-docs.sh 
-qgis-build-dir /home/matteo/dev/qgis-master/).

Am I doing something wrong or can I use some shortcut to build it? I'm 
just playing with some css and eventually the config.py.in file.

Cheers and thanks for any advice

Matteo


From denis.rouzaud at gmail.com  Mon Dec 12 23:25:15 2022
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 13 Dec 2022 08:25:15 +0100
Subject: [QGIS-Developer] Building pyqgis doc locally
In-Reply-To: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>
References: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>
Message-ID: <CAMtsY+ZQMmO1pwXMxWX2CPs9KS69LHv1BC5c=KSjzwQuWpUjNw@mail.gmail.com>

Hi Matteo,

The main issue is that the website is added to a branch (gh-pages) and is
versioned.
>From time to time, I squash the commits and force push to avoid such a
large size (obviously, it's been a while since I didn't do it).
I am a bit reluctant at squashing / force pushing directly from the
workflow as any error would mean losing the pages (potentially losing the
older versions).

By fetching only the master branch you should be better.
Then, building docs shouldn't take too long. What duration are you
experiencing?

Another approach is to do a PR on the repo, you will have a built example
at https://qgis.org/pyqgis/master_PRXX (replace XX) when it's finished.

I believe it would require a bit of love to improve this workflow and drop
the gh-pages branch.

I hope this helps a bit.

Cheers,
Denis



Le mar. 13 d?c. 2022 ? 08:14, matteo via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hi devs,
>
> I've some small ideas to enhance the readthedocs theme of the pyqgis
> documentation and I want make some local test before making a pull request.
>
> I've cloned this repository (around 7GB?!):
>
> https://github.com/qgis/pyqgis
>
> and then I followed the instruction of the Readme file. It seems
> building but it is literally taking ages (./build-docs.sh
> -qgis-build-dir /home/matteo/dev/qgis-master/).
>
> Am I doing something wrong or can I use some shortcut to build it? I'm
> just playing with some css and eventually the config.py.in file.
>
> Cheers and thanks for any advice
>
> Matteo
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221213/2e779ab2/attachment.htm>

From matteo.ghetta at gmail.com  Mon Dec 12 23:35:23 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 13 Dec 2022 08:35:23 +0100
Subject: [QGIS-Developer] Building pyqgis doc locally
In-Reply-To: <CAMtsY+ZQMmO1pwXMxWX2CPs9KS69LHv1BC5c=KSjzwQuWpUjNw@mail.gmail.com>
References: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>
 <CAMtsY+ZQMmO1pwXMxWX2CPs9KS69LHv1BC5c=KSjzwQuWpUjNw@mail.gmail.com>
Message-ID: <ae5ebf46-cb67-c3c8-fa95-f9555753ca40@gmail.com>

Hi Denis,

> The main issue is that the website is added to a branch (gh-pages) and 
> is versioned.
>  From time?to time, I squash the commits and force push to avoid such a 
> large size (obviously, it's been a while since I didn't do it).
> I am a bit reluctant?at squashing / force pushing directly from the 
> workflow as any error would mean losing the pages (potentially losing 
> the older versions).
> 
> By fetching only the master branch you should be better.

got it, thanks

> Then, building docs shouldn't take too long. What duration are you 
> experiencing?

just reading sources it's more than 10 minutes while building the 
documentation is still running (so more or less 30 minutes). I don't 
understand if/where I can skip sources and compile just a small small 
part of the documentation since what I want to to is only theme related.

> Another approach is to do a PR on the repo, you will have a built 
> example at https://qgis.org/pyqgis/master_PRXX 
> <https://qgis.org/pyqgis/master_PRXX> (replace XX) when it's finished.

and this can be done also to the forked repository right?

> I believe it would require a bit of love to improve this workflow and 
> drop the gh-pages branch.
> 
> I hope this?helps a bit.

Thanks Denis

Matteo


> Cheers,
> Denis
> 
> 
> 
> Le?mar. 13 d?c. 2022 ??08:14, matteo via QGIS-Developer 
> <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> 
> a ?crit?:
> 
>     Hi devs,
> 
>     I've some small ideas to enhance the readthedocs theme of the pyqgis
>     documentation and I want make some local test before making a pull
>     request.
> 
>     I've cloned this repository (around 7GB?!):
> 
>     https://github.com/qgis/pyqgis <https://github.com/qgis/pyqgis>
> 
>     and then I followed the instruction of the Readme file. It seems
>     building but it is literally taking ages (./build-docs.sh
>     -qgis-build-dir /home/matteo/dev/qgis-master/).
> 
>     Am I doing something wrong or can I use some shortcut to build it? I'm
>     just playing with some css and eventually the config.py.in
>     <http://config.py.in> file.
> 
>     Cheers and thanks for any advice
> 
>     Matteo
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 

From denis.rouzaud at gmail.com  Mon Dec 12 23:40:40 2022
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 13 Dec 2022 08:40:40 +0100
Subject: [QGIS-Developer] Building pyqgis doc locally
In-Reply-To: <ae5ebf46-cb67-c3c8-fa95-f9555753ca40@gmail.com>
References: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>
 <CAMtsY+ZQMmO1pwXMxWX2CPs9KS69LHv1BC5c=KSjzwQuWpUjNw@mail.gmail.com>
 <ae5ebf46-cb67-c3c8-fa95-f9555753ca40@gmail.com>
Message-ID: <CAMtsY+aHDyxi3r50pnbt9XDqKrr2KG6pu3BahynB9Mo9KXS93w@mail.gmail.com>

Le mar. 13 d?c. 2022 ? 08:35, matteo <matteo.ghetta at gmail.com> a ?crit :

> Hi Denis,
>
> > The main issue is that the website is added to a branch (gh-pages) and
> > is versioned.
> >  From time to time, I squash the commits and force push to avoid such a
> > large size (obviously, it's been a while since I didn't do it).
> > I am a bit reluctant at squashing / force pushing directly from the
> > workflow as any error would mean losing the pages (potentially losing
> > the older versions).
> >
> > By fetching only the master branch you should be better.
>
> got it, thanks
>
> > Then, building docs shouldn't take too long. What duration are you
> > experiencing?
>
> just reading sources it's more than 10 minutes while building the
> documentation is still running (so more or less 30 minutes). I don't
> understand if/where I can skip sources and compile just a small small
> part of the documentation since what I want to to is only theme related.
>

yes you can limit what you build
see https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh

either use --package core/gui/? or --class QgsVector (which will work as
QgsVector*)



> > Another approach is to do a PR on the repo, you will have a built
> > example at https://qgis.org/pyqgis/master_PRXX
> > <https://qgis.org/pyqgis/master_PRXX> (replace XX) when it's finished.
>
> and this can be done also to the forked repository right?
>

you would need to enable the pages on your repo, I am not sure this will
work out-of-the-box.

>
> > I believe it would require a bit of love to improve this workflow and
> > drop the gh-pages branch.
> >
> > I hope this helps a bit.
>
> Thanks Denis
>
> Matteo
>
>
> > Cheers,
> > Denis
> >
> >
> >
> > Le mar. 13 d?c. 2022 ? 08:14, matteo via QGIS-Developer
> > <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>
>
> > a ?crit :
> >
> >     Hi devs,
> >
> >     I've some small ideas to enhance the readthedocs theme of the pyqgis
> >     documentation and I want make some local test before making a pull
> >     request.
> >
> >     I've cloned this repository (around 7GB?!):
> >
> >     https://github.com/qgis/pyqgis <https://github.com/qgis/pyqgis>
> >
> >     and then I followed the instruction of the Readme file. It seems
> >     building but it is literally taking ages (./build-docs.sh
> >     -qgis-build-dir /home/matteo/dev/qgis-master/).
> >
> >     Am I doing something wrong or can I use some shortcut to build it?
> I'm
> >     just playing with some css and eventually the config.py.in
> >     <http://config.py.in> file.
> >
> >     Cheers and thanks for any advice
> >
> >     Matteo
> >
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221213/a5eb88f3/attachment-0001.htm>

From matteo.ghetta at gmail.com  Tue Dec 13 00:11:58 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 13 Dec 2022 09:11:58 +0100
Subject: [QGIS-Developer] Building pyqgis doc locally
In-Reply-To: <CAMtsY+aHDyxi3r50pnbt9XDqKrr2KG6pu3BahynB9Mo9KXS93w@mail.gmail.com>
References: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>
 <CAMtsY+ZQMmO1pwXMxWX2CPs9KS69LHv1BC5c=KSjzwQuWpUjNw@mail.gmail.com>
 <ae5ebf46-cb67-c3c8-fa95-f9555753ca40@gmail.com>
 <CAMtsY+aHDyxi3r50pnbt9XDqKrr2KG6pu3BahynB9Mo9KXS93w@mail.gmail.com>
Message-ID: <9d4748b8-84a3-c8d1-7627-97f4c8871812@gmail.com>

Hi Denis,

> yes you can limit what you build
> see https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh 
> <https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh>
> 
> either use --package core/gui/? or --class QgsVector (which will work as 
> QgsVector*)

thanks, it works as expected!

Last (hopefully :) ) question: I'm adding some custom css in the 
_static/css/custom.css file. I've also added:

html_static_path = ['_static']
html_css_files = [
     'css/custom.css',
]

in the conf.py.in file, but when compiling sphinx is complaining:

WARNING: html_static_path entry '_static' does not exist

Do you have any idea why this is happening?

Cheers and thanks again

Matteo
> 
> 
> 
>      > Another approach is to do a PR on the repo, you will have a built
>      > example at https://qgis.org/pyqgis/master_PRXX
>     <https://qgis.org/pyqgis/master_PRXX>
>      > <https://qgis.org/pyqgis/master_PRXX
>     <https://qgis.org/pyqgis/master_PRXX>> (replace XX) when it's finished.
> 
>     and this can be done also to the forked repository right?
> 
> 
> you would need to enable the pages on your repo, I am not sure this will 
> work out-of-the-box.
> 
> 
>      > I believe it would require a bit of love to improve this workflow
>     and
>      > drop the gh-pages branch.
>      >
>      > I hope this?helps a bit.
> 
>     Thanks Denis
> 
>     Matteo
> 
> 
>      > Cheers,
>      > Denis
>      >
>      >
>      >
>      > Le?mar. 13 d?c. 2022 ??08:14, matteo via QGIS-Developer
>      > <qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>
>     <mailto:qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>>>
>      > a ?crit?:
>      >
>      >? ? ?Hi devs,
>      >
>      >? ? ?I've some small ideas to enhance the readthedocs theme of the
>     pyqgis
>      >? ? ?documentation and I want make some local test before making a
>     pull
>      >? ? ?request.
>      >
>      >? ? ?I've cloned this repository (around 7GB?!):
>      >
>      > https://github.com/qgis/pyqgis <https://github.com/qgis/pyqgis>
>     <https://github.com/qgis/pyqgis <https://github.com/qgis/pyqgis>>
>      >
>      >? ? ?and then I followed the instruction of the Readme file. It seems
>      >? ? ?building but it is literally taking ages (./build-docs.sh
>      >? ? ?-qgis-build-dir /home/matteo/dev/qgis-master/).
>      >
>      >? ? ?Am I doing something wrong or can I use some shortcut to
>     build it? I'm
>      >? ? ?just playing with some css and eventually the config.py.in
>     <http://config.py.in>
>      >? ? ?<http://config.py.in <http://config.py.in>> file.
>      >
>      >? ? ?Cheers and thanks for any advice
>      >
>      >? ? ?Matteo
>      >
>      >? ? ?_______________________________________________
>      >? ? ?QGIS-Developer mailing list
>      > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     <mailto:QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>>
>      >? ? ?List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
>      >? ? ?Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
>      >
> 

From denis.rouzaud at gmail.com  Tue Dec 13 00:34:58 2022
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 13 Dec 2022 09:34:58 +0100
Subject: [QGIS-Developer] Building pyqgis doc locally
In-Reply-To: <9d4748b8-84a3-c8d1-7627-97f4c8871812@gmail.com>
References: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>
 <CAMtsY+ZQMmO1pwXMxWX2CPs9KS69LHv1BC5c=KSjzwQuWpUjNw@mail.gmail.com>
 <ae5ebf46-cb67-c3c8-fa95-f9555753ca40@gmail.com>
 <CAMtsY+aHDyxi3r50pnbt9XDqKrr2KG6pu3BahynB9Mo9KXS93w@mail.gmail.com>
 <9d4748b8-84a3-c8d1-7627-97f4c8871812@gmail.com>
Message-ID: <CAMtsY+Y18hdBKLS8kHZXX-UP9UPSb7RW3m2iKVHzJxZEZVbdHg@mail.gmail.com>

you might need to copy the folder, same than for _templates:
see https://github.com/qgis/pyqgis/search?q=_templates

otherwise, look at https://github.com/qgis/pyqgis/pull/89/files?w=1

Le mar. 13 d?c. 2022 ? 09:12, matteo <matteo.ghetta at gmail.com> a ?crit :

> Hi Denis,
>
> > yes you can limit what you build
> > see https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh
> > <https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh>
> >
> > either use --package core/gui/? or --class QgsVector (which will work as
> > QgsVector*)
>
> thanks, it works as expected!
>
> Last (hopefully :) ) question: I'm adding some custom css in the
> _static/css/custom.css file. I've also added:
>
> html_static_path = ['_static']
> html_css_files = [
>      'css/custom.css',
> ]
>
> in the conf.py.in file, but when compiling sphinx is complaining:
>
> WARNING: html_static_path entry '_static' does not exist
>
> Do you have any idea why this is happening?
>
> Cheers and thanks again
>
> Matteo
> >
> >
> >
> >      > Another approach is to do a PR on the repo, you will have a built
> >      > example at https://qgis.org/pyqgis/master_PRXX
> >     <https://qgis.org/pyqgis/master_PRXX>
> >      > <https://qgis.org/pyqgis/master_PRXX
> >     <https://qgis.org/pyqgis/master_PRXX>> (replace XX) when it's
> finished.
> >
> >     and this can be done also to the forked repository right?
> >
> >
> > you would need to enable the pages on your repo, I am not sure this will
> > work out-of-the-box.
> >
> >
> >      > I believe it would require a bit of love to improve this workflow
> >     and
> >      > drop the gh-pages branch.
> >      >
> >      > I hope this helps a bit.
> >
> >     Thanks Denis
> >
> >     Matteo
> >
> >
> >      > Cheers,
> >      > Denis
> >      >
> >      >
> >      >
> >      > Le mar. 13 d?c. 2022 ? 08:14, matteo via QGIS-Developer
> >      > <qgis-developer at lists.osgeo.org
> >     <mailto:qgis-developer at lists.osgeo.org>
> >     <mailto:qgis-developer at lists.osgeo.org
> >     <mailto:qgis-developer at lists.osgeo.org>>>
> >      > a ?crit :
> >      >
> >      >     Hi devs,
> >      >
> >      >     I've some small ideas to enhance the readthedocs theme of the
> >     pyqgis
> >      >     documentation and I want make some local test before making a
> >     pull
> >      >     request.
> >      >
> >      >     I've cloned this repository (around 7GB?!):
> >      >
> >      > https://github.com/qgis/pyqgis <https://github.com/qgis/pyqgis>
> >     <https://github.com/qgis/pyqgis <https://github.com/qgis/pyqgis>>
> >      >
> >      >     and then I followed the instruction of the Readme file. It
> seems
> >      >     building but it is literally taking ages (./build-docs.sh
> >      >     -qgis-build-dir /home/matteo/dev/qgis-master/).
> >      >
> >      >     Am I doing something wrong or can I use some shortcut to
> >     build it? I'm
> >      >     just playing with some css and eventually the config.py.in
> >     <http://config.py.in>
> >      >     <http://config.py.in <http://config.py.in>> file.
> >      >
> >      >     Cheers and thanks for any advice
> >      >
> >      >     Matteo
> >      >
> >      >     _______________________________________________
> >      >     QGIS-Developer mailing list
> >      > QGIS-Developer at lists.osgeo.org
> >     <mailto:QGIS-Developer at lists.osgeo.org>
> >     <mailto:QGIS-Developer at lists.osgeo.org
> >     <mailto:QGIS-Developer at lists.osgeo.org>>
> >      >     List info:
> >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >      >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
> >      >     Unsubscribe:
> >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >      >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
> >      >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221213/52a22038/attachment.htm>

From johannes.kroeger at wheregroup.com  Tue Dec 13 00:44:53 2022
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Tue, 13 Dec 2022 09:44:53 +0100
Subject: [QGIS-Developer] Problems configuring the statusBar
In-Reply-To: <19889cf64e8c2.78811b9895ee3@odyhpc.com>
References: <ca2c8448-a2a0-8af5-50b0-e2508cd706d8@libero.it>
 <e266f91c0c2bd.05a4973fe823f@odyhpc.com>
 <CAB28AshYrtEJNjX1OkwZiD5hGQfcF_mB4+1mJuFHZzXpe0YCBQ@mail.gmail.com>
 <896c95e38dcf3.98b97f256a4@odyhpc.com>
 <96b41dd6-e7b5-8914-462e-8a40ce857b8c@wheregroup.com>
 <19889cf64e8c2.78811b9895ee3@odyhpc.com>
Message-ID: <c1870170-8d2a-afea-2a52-8e654cfd27da@wheregroup.com>

Hey AF,

oh, looks like the help() for those Qt objects is not as comprehensive 
as I hoped.

 >>> type(iface.mainWindow().statusBar())
<class 'PyQt5.QtWidgets.QStatusBar'>

https://doc.qt.io/qt-5/qstatusbar.html ->
https://doc.qt.io/qt-5/qstatusbar-members.html ->
https://doc.qt.io/qt-5/qwidget.html#styleSheet-prop

 >>> iface.mainWindow().statusBar().setStyleSheet("background-color:red;")

Now my status bar is red.

No idea about fonts...

Have fun!
Hannes

Am 13.12.22 um 03:40 schrieb afernandez:
> Hello Johannes,
> Querying was how I found the method 
> self.iface.mainWindow().statusBar().styleSheet() along with many 
> others. I circled back and tried to use 'help' to figure out what I 
> was missing. However, help for 
> self.iface.mainWindow().statusBar().styleSheet() only tells me that 
> styleSheet is a method of the self.iface.mainWindow.statusBar instance 
> that returns a string. I also explored another method 
> self.iface.mainWindow().statusBar().setFont(), which is supposed to 
> take a QFont, but I still haven't been able to make it work properly 
> either.
> The bottom line is that I can add widgets to the statusBar and style 
> them, but even changing the font type for the whole statusBar remains 
> elusive. At least this route allows me to move on with the project 
> while I figure out all the other details.
> Thanks,
> AF
>
-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Where2B Konferenz 2022
15. Dezember 2022 in Bonn und Online
https://where2b-conference.com/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221213/fe54ab12/attachment-0001.htm>

From matteo.ghetta at gmail.com  Tue Dec 13 00:58:48 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 13 Dec 2022 09:58:48 +0100
Subject: [QGIS-Developer] Building pyqgis doc locally
In-Reply-To: <CAMtsY+Y18hdBKLS8kHZXX-UP9UPSb7RW3m2iKVHzJxZEZVbdHg@mail.gmail.com>
References: <d72920a4-9463-8a33-268b-8c5081016b8b@gmail.com>
 <CAMtsY+ZQMmO1pwXMxWX2CPs9KS69LHv1BC5c=KSjzwQuWpUjNw@mail.gmail.com>
 <ae5ebf46-cb67-c3c8-fa95-f9555753ca40@gmail.com>
 <CAMtsY+aHDyxi3r50pnbt9XDqKrr2KG6pu3BahynB9Mo9KXS93w@mail.gmail.com>
 <9d4748b8-84a3-c8d1-7627-97f4c8871812@gmail.com>
 <CAMtsY+Y18hdBKLS8kHZXX-UP9UPSb7RW3m2iKVHzJxZEZVbdHg@mail.gmail.com>
Message-ID: <3950e768-2ab1-bccb-1733-2d0c9de4629e@gmail.com>

> you might need to copy the folder, same than for _templates:
> see https://github.com/qgis/pyqgis/search?q=_templates 
> <https://github.com/qgis/pyqgis/search?q=_templates>

this approach seems working (at least locally). I've made a PR:

https://github.com/qgis/pyqgis/pull/101

Cheers and thanks for the help

Matteo>
> otherwise, look at https://github.com/qgis/pyqgis/pull/89/files?w=1 
> <https://github.com/qgis/pyqgis/pull/89/files?w=1>
> 
> Le?mar. 13 d?c. 2022 ??09:12, matteo <matteo.ghetta at gmail.com 
> <mailto:matteo.ghetta at gmail.com>> a ?crit?:
> 
>     Hi Denis,
> 
>      > yes you can limit what you build
>      > see
>     https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh
>     <https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh>
>      > <https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh
>     <https://github.com/qgis/pyqgis/blob/master/scripts/build-docs.sh>>
>      >
>      > either use --package core/gui/? or --class QgsVector (which will
>     work as
>      > QgsVector*)
> 
>     thanks, it works as expected!
> 
>     Last (hopefully :) ) question: I'm adding some custom css in the
>     _static/css/custom.css file. I've also added:
> 
>     html_static_path = ['_static']
>     html_css_files = [
>      ? ? ?'css/custom.css',
>     ]
> 
>     in the conf.py.in <http://conf.py.in> file, but when compiling
>     sphinx is complaining:
> 
>     WARNING: html_static_path entry '_static' does not exist
> 
>     Do you have any idea why this is happening?
> 
>     Cheers and thanks again
> 
>     Matteo
>      >
>      >
>      >
>      >? ? ? > Another approach is to do a PR on the repo, you will have
>     a built
>      >? ? ? > example at https://qgis.org/pyqgis/master_PRXX
>     <https://qgis.org/pyqgis/master_PRXX>
>      >? ? ?<https://qgis.org/pyqgis/master_PRXX
>     <https://qgis.org/pyqgis/master_PRXX>>
>      >? ? ? > <https://qgis.org/pyqgis/master_PRXX
>     <https://qgis.org/pyqgis/master_PRXX>
>      >? ? ?<https://qgis.org/pyqgis/master_PRXX
>     <https://qgis.org/pyqgis/master_PRXX>>> (replace XX) when it's finished.
>      >
>      >? ? ?and this can be done also to the forked repository right?
>      >
>      >
>      > you would need to enable the pages on your repo, I am not sure
>     this will
>      > work out-of-the-box.
>      >
>      >
>      >? ? ? > I believe it would require a bit of love to improve this
>     workflow
>      >? ? ?and
>      >? ? ? > drop the gh-pages branch.
>      >? ? ? >
>      >? ? ? > I hope this?helps a bit.
>      >
>      >? ? ?Thanks Denis
>      >
>      >? ? ?Matteo
>      >
>      >
>      >? ? ? > Cheers,
>      >? ? ? > Denis
>      >? ? ? >
>      >? ? ? >
>      >? ? ? >
>      >? ? ? > Le?mar. 13 d?c. 2022 ??08:14, matteo via QGIS-Developer
>      >? ? ? > <qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>
>      >? ? ?<mailto:qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>>
>      >? ? ?<mailto:qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>
>      >? ? ?<mailto:qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>>>>
>      >? ? ? > a ?crit?:
>      >? ? ? >
>      >? ? ? >? ? ?Hi devs,
>      >? ? ? >
>      >? ? ? >? ? ?I've some small ideas to enhance the readthedocs theme
>     of the
>      >? ? ?pyqgis
>      >? ? ? >? ? ?documentation and I want make some local test before
>     making a
>      >? ? ?pull
>      >? ? ? >? ? ?request.
>      >? ? ? >
>      >? ? ? >? ? ?I've cloned this repository (around 7GB?!):
>      >? ? ? >
>      >? ? ? > https://github.com/qgis/pyqgis
>     <https://github.com/qgis/pyqgis> <https://github.com/qgis/pyqgis
>     <https://github.com/qgis/pyqgis>>
>      >? ? ?<https://github.com/qgis/pyqgis
>     <https://github.com/qgis/pyqgis> <https://github.com/qgis/pyqgis
>     <https://github.com/qgis/pyqgis>>>
>      >? ? ? >
>      >? ? ? >? ? ?and then I followed the instruction of the Readme
>     file. It seems
>      >? ? ? >? ? ?building but it is literally taking ages (./build-docs.sh
>      >? ? ? >? ? ?-qgis-build-dir /home/matteo/dev/qgis-master/).
>      >? ? ? >
>      >? ? ? >? ? ?Am I doing something wrong or can I use some shortcut to
>      >? ? ?build it? I'm
>      >? ? ? >? ? ?just playing with some css and eventually the
>     config.py.in <http://config.py.in>
>      >? ? ?<http://config.py.in <http://config.py.in>>
>      >? ? ? >? ? ?<http://config.py.in <http://config.py.in>
>     <http://config.py.in <http://config.py.in>>> file.
>      >? ? ? >
>      >? ? ? >? ? ?Cheers and thanks for any advice
>      >? ? ? >
>      >? ? ? >? ? ?Matteo
>      >? ? ? >
>      >? ? ? >? ? ?_______________________________________________
>      >? ? ? >? ? ?QGIS-Developer mailing list
>      >? ? ? > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>      >? ? ?<mailto:QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>>
>      >? ? ?<mailto:QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>      >? ? ?<mailto:QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>>>
>      >? ? ? >? ? ?List info:
>      > https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
>      >? ? ? >   
>      ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>>
>      >? ? ? >? ? ?Unsubscribe:
>      > https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
>      >? ? ? >   
>      ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>>
>      >? ? ? >
>      >
> 

From anne.b.nilsen at nibio.no  Wed Dec 14 07:26:59 2022
From: anne.b.nilsen at nibio.no (Anne B. Nilsen)
Date: Wed, 14 Dec 2022 15:26:59 +0000
Subject: [QGIS-Developer] pyQGIS: how/where to set masked symbol layers and
 mask sources
Message-ID: <AM7P189MB09008D890D4716B06A300120C3E09@AM7P189MB0900.EURP189.PROD.OUTLOOK.COM>

Hi,
I'm trying the set label masks for heights on a contour line layer.
It works like a charm manually set with Label mask and Masks. I saved the style in a qml-file.
However, when I open/add this style-file in python script, the mask settings (masked symbol layer and mask source) are missing?!? (Labels are checked when saving the qml-file)

Therefore, I would like to add the mask with pyQGIS, but how do I get the name (id) of the "Masked symbol layers" and the "Mask sources"?
Must Masks be set in Layer properties to appear? Ref. https://gis.stackexchange.com/questions/447362/pyqgis-to-set-masked-symbol-layer-and-mask-source
Some of the code I've tried so far:

# Add geopackage
fileName = "karplantehoyder.gpkg"
layer = QgsVectorLayer(fileName, "hoyder", "ogr")
# Load style
layer.loadNamedStyle('./qml/n5hoyder.qml')  # color, line width, label font/size set, but not mask
label = QgsPalLayerSettings()
label.MaskEnabled = True
# masklayer = QgsMaskMarkerSymbolLayer()  # How do i set the mask symbol layer and mask source
# masklayer.setMasks("hoyder")            # This is not working, have tried id and layer - not working
QgsProject.instance().addMapLayer(layer, True)
layer.saveStyleToDatabase(layer.name(),'style n5hoyder',True,'')
mask_settings = QgsTextMaskSettings()
mask_settings.maskedSymbolLayers()      # How do I set the contour line layer to be the Masked symbol layer?
mask_settings.setMaskedSymbolLayers()   # and how do I set the contour layer to be the label mask?


Best regards
Anne Nilsen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221214/3d042ea7/attachment.htm>

From anitagraser at gmx.at  Wed Dec 14 13:02:32 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 14 Dec 2022 21:02:32 +0000 (UTC)
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
In-Reply-To: <04ae2ec0-3fc7-aa1a-51d1-1e1a8c3af760@terglobo.nl>
References: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>
 <1670872704079.4215135361.2148315779@gmx.at>
 <04ae2ec0-3fc7-aa1a-51d1-1e1a8c3af760@terglobo.nl>
Message-ID: <e905cd66-d475-4624-93de-21b0cd55b1fd@gmx.at>

Yes, we can add a news item there as well when you're ready.
Anita

13 Dec 2022 07:36:30 Raymond Nijssen <r.nijssen at terglobo.nl>:

> Thank you Anita. When the conference details are clear and the conference website is online, could there also be an item in the news feed in QGIS?
>
>
> On 12-12-2022 20:19, Anita Graser wrote:
>> Thank you for the update, Raymond.
>> I've added the event to the news feed for the website:
>> https://github.com/qgis/QGIS-Website/blob/master/source/feeds/qugsnews.atom
>> For anyone else planning events: please feel invited to add your events to
>> this news feed as well.
>> Regards,
>> Anita
>>
>> On Monday, 12. December 2022 09:45:15 (+01:00), Raymond Nijssen via
>> QGIS-Developer wrote:
>>
>>> Dear devs and contrbs,
>>>
>>> The next QGIS Contributor Meeting will take place:
>>>
>>> 20-23 April 2023
>>>
>>> in 's-Hertogenbosch, The Netherlands. And it's very very likely that
>> there will be an International User Conference the 2 days prior to the
>> meeting (18+19 April). Details will follow. Please save these dates.
>>>
>>>
>> https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch
>>
>>>
>>> Kind regards,
>>> Raymond
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> --
>> Anita Graser
>> Home: http://anitagraser.com
>> Twitter: @underdarkgis
>> Mastodon: @underdarkgis at fosstodon.org

From anne.b.nilsen at nibio.no  Thu Dec 15 03:20:30 2022
From: anne.b.nilsen at nibio.no (Anne B. Nilsen)
Date: Thu, 15 Dec 2022 11:20:30 +0000
Subject: [QGIS-Developer] pyQGIS: how/where to set masked symbol layers
 and mask sources
In-Reply-To: <AM7P189MB09008D890D4716B06A300120C3E09@AM7P189MB0900.EURP189.PROD.OUTLOOK.COM>
References: <AM7P189MB09008D890D4716B06A300120C3E09@AM7P189MB0900.EURP189.PROD.OUTLOOK.COM>
Message-ID: <AM7P189MB09007ACADF175E732F45A89FC3E19@AM7P189MB0900.EURP189.PROD.OUTLOOK.COM>

I got an answer in https://gis.stackexchange.com/questions/447362/pyqgis-to-set-masked-symbol-layer-and-mask-source - works perfectly.
Many thanks to Mr. Kadir ?ahbaz.
Kind regards
Anne Nilsen
Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> P? vegne av Anne B. Nilsen via QGIS-Developer
Sendt: onsdag 14. desember 2022 16:27
Til: qgis-developer at lists.osgeo.org
Emne: [QGIS-Developer] pyQGIS: how/where to set masked symbol layers and mask sources

Hi,
I'm trying the set label masks for heights on a contour line layer.
It works like a charm manually set with Label mask and Masks. I saved the style in a qml-file.
However, when I open/add this style-file in python script, the mask settings (masked symbol layer and mask source) are missing?!? (Labels are checked when saving the qml-file)

Therefore, I would like to add the mask with pyQGIS, but how do I get the name (id) of the "Masked symbol layers" and the "Mask sources"?
Must Masks be set in Layer properties to appear? Ref. https://gis.stackexchange.com/questions/447362/pyqgis-to-set-masked-symbol-layer-and-mask-source
Some of the code I've tried so far:

# Add geopackage
fileName = "karplantehoyder.gpkg"
layer = QgsVectorLayer(fileName, "hoyder", "ogr")
# Load style
layer.loadNamedStyle('./qml/n5hoyder.qml')  # color, line width, label font/size set, but not mask
label = QgsPalLayerSettings()
label.MaskEnabled = True
# masklayer = QgsMaskMarkerSymbolLayer()  # How do i set the mask symbol layer and mask source
# masklayer.setMasks("hoyder")            # This is not working, have tried id and layer - not working
QgsProject.instance().addMapLayer(layer, True)
layer.saveStyleToDatabase(layer.name(),'style n5hoyder',True,'')
mask_settings = QgsTextMaskSettings()
mask_settings.maskedSymbolLayers()      # How do I set the contour line layer to be the Masked symbol layer?
mask_settings.setMaskedSymbolLayers()   # and how do I set the contour layer to be the label mask?


Best regards
Anne Nilsen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221215/08591494/attachment.htm>

From delazj at gmail.com  Thu Dec 15 21:18:19 2022
From: delazj at gmail.com (Delaz J)
Date: Fri, 16 Dec 2022 06:18:19 +0100
Subject: [QGIS-Developer] prepare_commit.sh freezes console
Message-ID: <8fdaeaaa-6599-d8bf-b459-6b602340343f@gmail.com>

Hi,

Whenever I run prepare_commit.sh and there are changes, I fail to find 
how to get back to the command prompt. Whatever I do (and I can be quite 
inventive on keyboard shortcuts), nothing more will happen in the tab of 
the terminal I ran the command. The only option I have is to kill that 
tab and continue in a new tab.

So my question is: How do you take control of your terminal after you 
run prepare_commit.sh?

I'm on Ubuntu 22.04 if it makes any difference.

Thanks,

Harrissou


From even.rouault at spatialys.com  Thu Dec 15 23:37:39 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 16 Dec 2022 08:37:39 +0100
Subject: [QGIS-Developer] prepare_commit.sh freezes console
In-Reply-To: <8fdaeaaa-6599-d8bf-b459-6b602340343f@gmail.com>
References: <8fdaeaaa-6599-d8bf-b459-6b602340343f@gmail.com>
Message-ID: <bc67b1f4-8cdf-b74c-3fae-40268ba2627d@spatialys.com>

Hi Harrissou,

"q" should do it, as the diff is displayed with the "less" utility, and 
it's the shortcut to exit from it

Even

Le 16/12/2022 ? 06:18, Delaz J via QGIS-Developer a ?crit?:
> Hi,
>
> Whenever I run prepare_commit.sh and there are changes, I fail to find 
> how to get back to the command prompt. Whatever I do (and I can be 
> quite inventive on keyboard shortcuts), nothing more will happen in 
> the tab of the terminal I ran the command. The only option I have is 
> to kill that tab and continue in a new tab.
>
> So my question is: How do you take control of your terminal after you 
> run prepare_commit.sh?
>
> I'm on Ubuntu 22.04 if it makes any difference.
>
> Thanks,
>
> Harrissou
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From denis.rouzaud at gmail.com  Thu Dec 15 23:59:55 2022
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 16 Dec 2022 08:59:55 +0100
Subject: [QGIS-Developer] Docker images built on Github Workflows and
 published as official
Message-ID: <CAMtsY+Z1M1Z5b0p0KMfpRb+eVB_xB7akW2vWrJvkPby2X8u0SQ@mail.gmail.com>

Hi all,

I would like to raise once more the question of the Docker images we are
pushing on Docker hub, and considered by many users as official.

They are built here:
https://github.com/qgis/QGIS/blob/master/.github/workflows/build-docker.yml

There are a few issues regarding this, here is a NON exhaustive list:
* the images are not optimized, a lot of build env artifacts remain
* they are a pain to maintain (update the job at each new version,
synchronize any new cmake option change, ?)
* if it fails, PyQGIS docs are not built
* it uses cache (which we miss a lot in GH workflows at the moment)
* and for a bit of green-washing, it will avoid compiling something already
compiled and ready to used (as debian packages)

At OPENGIS.ch, we have set a very simple automated build of QGIS Docker
images simply based on the debian packages:
see:
https://github.com/opengisch/qgis-docker/blob/master/desktop.Dockerfile#L16

We would like to propose to move this work to the official QGIS repo and
rely on this to publish docker images on Dockerhub.

+ Less work to maintain (also, the deps image will not be anymore a
requirement for this)
+ Better images
+/- Separate images for server, desktop
- We'll rely on nightlies to publish master image (meaning potentially a
few days delay, potentially for PyQGIS)
- We won't maintain anymore a Dockerfile used to build QGIS

Please let me know your thoughts.
Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221216/6eacf889/attachment.htm>

From julien.moura at oslandia.com  Fri Dec 16 07:59:52 2022
From: julien.moura at oslandia.com (Julien Moura)
Date: Fri, 16 Dec 2022 16:59:52 +0100
Subject: [QGIS-Developer] Offering QGIS installers through Windows store
In-Reply-To: <eb90c944-a2b9-d764-3951-f99fe4206fc8@spatialys.com>
References: <1669148217387.3400481725.2379542994@gmx.at>
 <CAC7zN97D==qZA3booAedGp_0Z4tup2jDbMFpOVXOoXU-zEpiow@mail.gmail.com>
 <eb90c944-a2b9-d764-3951-f99fe4206fc8@spatialys.com>
Message-ID: <dfe7fcde-9008-7b8e-f2fc-1b450fc318d3@oslandia.com>

Hello,

I'm working on the packaging purpose at Oslandia.

Because we are committed to pushing QGIS in the most industrial 
information systems, at Oslandia we have been very interested in QGIS 
deployment for a few years now.

We have reused and actively contributed to many projects: OSGeo4W v1 
mirror, NSIS and PowerShell recipes, presentations at FOSS4Gs (or at 
QGIS conferences), etc.

Since this year, we are making efforts to de-correlate software 
deployment and end-user configurations (profiles): the QGIS Deployment 
Toolbelt (https://guts.github.io/qgis-deployment-cli/) has been created 
with this goal. It is still a young project and also it is one project 
among many others.

We are obviously very interested in this project of packaging QGIS on 
Windows Store, a topic that we already discussed internally last year 
and that I discussed namely with R?gis Haubourg in Florence. We 
obviously have some question marks and discussion points to make sure 
that all the process is in line with community and open-source 
governance. Still, it will be quite a challenge and we think it is a 
good direction to follow.

As noted by others, this seems a huge undertaking though, and 
uncertainty paves the road and make this goal a distant future.

We could start with gathering and referencing all resources dedicated to 
packaging, which would sum up as a website ( packaging.qgis.org ?) with 
all documentation regarding OSGeo4W recipes ( beyond the aging OSGeo 
trac ), and other packaging methods, like customized .deb packaging.

The goal is to structure and promote knowledge on this topic to attract 
packager in addition to developers.

And then we would also create packaging process documentation for 
Windows Store.

Regards,
Julien M

Le 23/11/2022 ? 10:41, Even Rouault via QGIS-Developer a ?crit?:
>>
>> - There is a requirement for every library in the package to be "UWP 
>> compatible".
>> ? At that time, libpq (postgresql) didn't have that, so I stopped. 
>> It's hard to say how many other packages will also need special 
>> attention. [1]
>
> Interesting. I know that people have contributed in the past fixes to 
> make PROJ *compilable* with UWP, but as we don't have a CI target for 
> that, it is unknown how it behaves at runtime.
>
> GDAL likely fails to build with UWP according to 
> https://github.com/OSGeo/gdal/issues/1201
>
> Without a CI target that can be hooked into github action (maybe that 
> exists. didn't check), UWP compatibility on the long term is going to 
> be hard to achieve.
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: julien_moura.vcf
Type: text/vcard
Size: 351 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221216/f25964fa/attachment.vcf>

From even.rouault at spatialys.com  Sat Dec 17 14:23:01 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 17 Dec 2022 23:23:01 +0100
Subject: [QGIS-Developer] Offering QGIS installers through Windows store
In-Reply-To: <dfe7fcde-9008-7b8e-f2fc-1b450fc318d3@oslandia.com>
References: <1669148217387.3400481725.2379542994@gmx.at>
 <CAC7zN97D==qZA3booAedGp_0Z4tup2jDbMFpOVXOoXU-zEpiow@mail.gmail.com>
 <eb90c944-a2b9-d764-3951-f99fe4206fc8@spatialys.com>
 <dfe7fcde-9008-7b8e-f2fc-1b450fc318d3@oslandia.com>
Message-ID: <77351b5f-8042-179d-fbd9-be30e5fb2c20@spatialys.com>

Hi,

I've said it a few times, but I'll repeat myself one more time as it 
can't hurt :-) I'd strongly advise for QGIS Windows installer to rely on 
the massive Conda-Forge packaging effort. OSGeo4W is a bit of a 
masochist effort when one sees that it packages everything from scratch, 
a bit like if QGIS would take the responsibility of creating a Linux 
distro from scratch, whereas leveraging Conda-Forge would enable QGIS to 
benefit from > 90% of its dependencies already packages by a much bigger 
community. The QGIS community could then concentrate on the QGIS build 
recipee, and probably a few other packages specific to QGIS. Then the 
QGIS installer itself would mostly bundle a subset of Conda-Forge 
dependencies pinned at the wished versions.

Even

Le 16/12/2022 ? 16:59, Julien Moura via QGIS-Developer a ?crit?:
> Hello,
>
> I'm working on the packaging purpose at Oslandia.
>
> Because we are committed to pushing QGIS in the most industrial 
> information systems, at Oslandia we have been very interested in QGIS 
> deployment for a few years now.
>
> We have reused and actively contributed to many projects: OSGeo4W v1 
> mirror, NSIS and PowerShell recipes, presentations at FOSS4Gs (or at 
> QGIS conferences), etc.
>
> Since this year, we are making efforts to de-correlate software 
> deployment and end-user configurations (profiles): the QGIS Deployment 
> Toolbelt (https://guts.github.io/qgis-deployment-cli/) has been 
> created with this goal. It is still a young project and also it is one 
> project among many others.
>
> We are obviously very interested in this project of packaging QGIS on 
> Windows Store, a topic that we already discussed internally last year 
> and that I discussed namely with R?gis Haubourg in Florence. We 
> obviously have some question marks and discussion points to make sure 
> that all the process is in line with community and open-source 
> governance. Still, it will be quite a challenge and we think it is a 
> good direction to follow.
>
> As noted by others, this seems a huge undertaking though, and 
> uncertainty paves the road and make this goal a distant future.
>
> We could start with gathering and referencing all resources dedicated 
> to packaging, which would sum up as a website ( packaging.qgis.org ?) 
> with all documentation regarding OSGeo4W recipes ( beyond the aging 
> OSGeo trac ), and other packaging methods, like customized .deb 
> packaging.
>
> The goal is to structure and promote knowledge on this topic to 
> attract packager in addition to developers.
>
> And then we would also create packaging process documentation for 
> Windows Store.
>
> Regards,
> Julien M
>
> Le 23/11/2022 ? 10:41, Even Rouault via QGIS-Developer a ?crit?:
>>>
>>> - There is a requirement for every library in the package to be "UWP 
>>> compatible".
>>> ? At that time, libpq (postgresql) didn't have that, so I stopped. 
>>> It's hard to say how many other packages will also need special 
>>> attention. [1]
>>
>> Interesting. I know that people have contributed in the past fixes to 
>> make PROJ *compilable* with UWP, but as we don't have a CI target for 
>> that, it is unknown how it behaves at runtime.
>>
>> GDAL likely fails to build with UWP according to 
>> https://github.com/OSGeo/gdal/issues/1201
>>
>> Without a CI target that can be hooked into github action (maybe that 
>> exists. didn't check), UWP compatibility on the long term is going to 
>> be hard to achieve.
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From surveykshak at gmail.com  Sat Dec 17 18:18:41 2022
From: surveykshak at gmail.com (Paul N)
Date: Sun, 18 Dec 2022 07:48:41 +0530
Subject: [QGIS-Developer] Symbology of vector layer change while opening in
 lower version.
Message-ID: <CAGy7cY=jSz1gr14A32GVzej2s8a9==eNEYAMmfvOJ9v-8ZvWRQ@mail.gmail.com>

I had created a project in 3.28 version with symbology of line and area. I
havnt check with point layer.
While opening the same project in lower version 3.16, 3.22, 3.26 the
symbology of line become black and polygon fill become blue.

Is any problem or change in newer version.

Regards
Paul N
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221218/7bc8876b/attachment.htm>

From surveykshak at gmail.com  Sat Dec 17 18:21:55 2022
From: surveykshak at gmail.com (Paul N)
Date: Sun, 18 Dec 2022 07:51:55 +0530
Subject: [QGIS-Developer] Cursor jump to drive location in browser.
Message-ID: <CAGy7cYkohdQjESorWkn=jx3VL=aE3yW0Z5aDWb+PjA-h_NU6Sw@mail.gmail.com>

Hi, While trying to create new xyz connection,  after creating new
connection and click Ok button, the cursor jump to drive location in
browser panel in 3.28.

Regards

Paul N
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221218/a2dfccb1/attachment.htm>

From kotishiva at gmail.com  Sun Dec 18 00:27:06 2022
From: kotishiva at gmail.com (shiva reddy)
Date: Sun, 18 Dec 2022 13:57:06 +0530
Subject: [QGIS-Developer] Setting python path of QGIS in MacOS
Message-ID: <CADsfgKOt_Am=DOC3thRY5CF4XTFnTcENGYawDJTgBDWWr88hdw@mail.gmail.com>

Dear Developers,
Often we are required to change our path from system python to the QGIS
python including QT and all other dependencies.
is there any utilities/batch file/shell script etc. with QGIS installation
for MacOS. So that easily it can be set and then reset to default.

I can recall a few years back for windows I could use default batch files
to set  env to  python 3 and Qt of QGIS.


Thanks & Regards
Shiva Reddy K.
Scientist/Engineer 'SE?
Indian Institute of Remote Sensing,
Indian Space Research Organisation
Department of Space
4-Kalidas Road
Dehradun
GitHub: https://github.com/shivareddyiirs/
ORCiD: https://orcid.org/my-orcid?orcid=0000-0001-8980-3288
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221218/ca1faa07/attachment.htm>

From jef at norbit.de  Mon Dec 19 00:54:45 2022
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Mon, 19 Dec 2022 09:54:45 +0100
Subject: [QGIS-Developer] Offering QGIS installers through Windows store
In-Reply-To: <77351b5f-8042-179d-fbd9-be30e5fb2c20@spatialys.com>
References: <1669148217387.3400481725.2379542994@gmx.at>
 <CAC7zN97D==qZA3booAedGp_0Z4tup2jDbMFpOVXOoXU-zEpiow@mail.gmail.com>
 <eb90c944-a2b9-d764-3951-f99fe4206fc8@spatialys.com>
 <dfe7fcde-9008-7b8e-f2fc-1b450fc318d3@oslandia.com>
 <77351b5f-8042-179d-fbd9-be30e5fb2c20@spatialys.com>
Message-ID: <20221219085445.y4lumpuivhv6tsz3@norbit.de>

Hi Even,

On Sat, 17. Dec 2022 at 23:23:01 +0100, Even Rouault via QGIS-Developer wrote:
> The QGIS community could then concentrate on the QGIS build recipee, and
> probably a few other packages specific to QGIS.

Sounds like what Frank said pitching packaging QGIS in OSGeo4W to me ;)


J?rgen


-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221219/934993bb/attachment.sig>

From r.nijssen at terglobo.nl  Mon Dec 19 02:04:29 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 19 Dec 2022 11:04:29 +0100
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
In-Reply-To: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>
References: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>
Message-ID: <bd165e8b-e9e9-fbe6-28a7-6280b50184e3@terglobo.nl>

Save even more dates!!

Prior to the contributor meeting there will be an International User 
Conference on 18 and 19 April. Thursday the 20th is going to be an 
onboarding day for newcomers to the hackfest.

Details will follow soon. All six days are going to take place in the 
same venue.

Hope many developers and other QGIS badasses will be around for giving 
presentations and workshops.

Kind regards,
Raymond



On 12-12-2022 09:45, Raymond Nijssen via QGIS-Developer wrote:
> Dear devs and contrbs,
> 
> The next QGIS Contributor Meeting will take place:
> 
> 20-23 April 2023
> 
> in 's-Hertogenbosch, The Netherlands. And it's very very likely that 
> there will be an International User Conference the 2 days prior to the 
> meeting (18+19 April). Details will follow. Please save these dates.
> 
> https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch
> 
> Kind regards,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From a.neumann at carto.net  Mon Dec 19 02:15:14 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 19 Dec 2022 11:15:14 +0100
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
In-Reply-To: <bd165e8b-e9e9-fbe6-28a7-6280b50184e3@terglobo.nl>
References: <44825d42-cd51-89d8-40b1-44c1d4e0dfcd@terglobo.nl>
 <bd165e8b-e9e9-fbe6-28a7-6280b50184e3@terglobo.nl>
Message-ID: <d5338bc2e044121639bc7239062265d1@carto.net>

Hi Raymond,

This is great news! Looking foward to a great week of QGIS 
presentations, meetings, discussions, etc.

Happy to see the continuation of the QGIS user conference after the 
COVID break!

Thank you for accepting this challenge with your local team!

Andreas

On 2022-12-19 11:04, Raymond Nijssen via QGIS-Developer wrote:

> Save even more dates!!
> 
> Prior to the contributor meeting there will be an International User 
> Conference on 18 and 19 April. Thursday the 20th is going to be an 
> onboarding day for newcomers to the hackfest.
> 
> Details will follow soon. All six days are going to take place in the 
> same venue.
> 
> Hope many developers and other QGIS badasses will be around for giving 
> presentations and workshops.
> 
> Kind regards,
> Raymond
> 
> On 12-12-2022 09:45, Raymond Nijssen via QGIS-Developer wrote:
> 
>> Dear devs and contrbs,
>> 
>> The next QGIS Contributor Meeting will take place:
>> 
>> 20-23 April 2023
>> 
>> in 's-Hertogenbosch, The Netherlands. And it's very very likely that 
>> there will be an International User Conference the 2 days prior to the 
>> meeting (18+19 April). Details will follow. Please save these dates.
>> 
>> https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch
>> 
>> Kind regards,
>> Raymond
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221219/ae7bfd16/attachment.htm>

From phidrho at gmail.com  Mon Dec 19 03:28:29 2022
From: phidrho at gmail.com (=?UTF-8?Q?Vedran_Stojnovi=C4=87?=)
Date: Mon, 19 Dec 2022 12:28:29 +0100
Subject: [QGIS-Developer] How to see queries sent to GPKG layer for debugging
Message-ID: <CAL9iSMFHp=m0u3BNTfP4miTp4NgoRiT=WDbT8sQHtbP+y-MRuA@mail.gmail.com>

Hi,

I am trying to find source of some bug related to data input via form.
I have set up some triggers in DB which are not executed if data is edited
through QGIS, but if I change manually in SQLite than it works as expected.

How can I see what queries are sent to GPKG database?
I tried to open Debugging/Development Tools Panel and enabled "Record Log"
but nothing is shown there.

-- 
Kind regards,
Vedran Stojnovi?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221219/62ee8a07/attachment.htm>

From apasotti at gmail.com  Mon Dec 19 03:33:23 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 19 Dec 2022 12:33:23 +0100
Subject: [QGIS-Developer] How to see queries sent to GPKG layer for
 debugging
In-Reply-To: <CAL9iSMFHp=m0u3BNTfP4miTp4NgoRiT=WDbT8sQHtbP+y-MRuA@mail.gmail.com>
References: <CAL9iSMFHp=m0u3BNTfP4miTp4NgoRiT=WDbT8sQHtbP+y-MRuA@mail.gmail.com>
Message-ID: <CAL5Q671wgm8xmJ6iMXe8QX7mrzTYEXPeWNhB95nwxew-owA8vA@mail.gmail.com>

It's coming: see https://github.com/OSGeo/gdal/pull/6837

On Mon, Dec 19, 2022 at 12:28 PM Vedran Stojnovi? via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi,
>
> I am trying to find source of some bug related to data input via form.
> I have set up some triggers in DB which are not executed if data is edited through QGIS, but if I change manually in SQLite than it works as expected.
>
> How can I see what queries are sent to GPKG database?
> I tried to open Debugging/Development Tools Panel and enabled "Record Log" but nothing is shown there.
>
> --
> Kind regards,
> Vedran Stojnovi?.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From phidrho at gmail.com  Mon Dec 19 04:06:57 2022
From: phidrho at gmail.com (=?UTF-8?Q?Vedran_Stojnovi=C4=87?=)
Date: Mon, 19 Dec 2022 13:06:57 +0100
Subject: [QGIS-Developer] How to see queries sent to GPKG layer for
 debugging
In-Reply-To: <CAL5Q671wgm8xmJ6iMXe8QX7mrzTYEXPeWNhB95nwxew-owA8vA@mail.gmail.com>
References: <CAL9iSMFHp=m0u3BNTfP4miTp4NgoRiT=WDbT8sQHtbP+y-MRuA@mail.gmail.com>
 <CAL5Q671wgm8xmJ6iMXe8QX7mrzTYEXPeWNhB95nwxew-owA8vA@mail.gmail.com>
Message-ID: <CAL9iSMF7cgLR_zg9E--rKQwxcPGGKgGT8KyGMOe=Y6nU9TPeZQ@mail.gmail.com>

Hi Alessandro,

thank you very much for info.
Do you maybe know any workaround for this in the meanwhile?
One of my coworkers is currently on hold because of this.

pon, 19. pro 2022. u 12:33 Alessandro Pasotti <apasotti at gmail.com> napisao
je:

> It's coming: see https://github.com/OSGeo/gdal/pull/6837
>
> On Mon, Dec 19, 2022 at 12:28 PM Vedran Stojnovi? via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
> >
> > Hi,
> >
> > I am trying to find source of some bug related to data input via form.
> > I have set up some triggers in DB which are not executed if data is
> edited through QGIS, but if I change manually in SQLite than it works as
> expected.
> >
> > How can I see what queries are sent to GPKG database?
> > I tried to open Debugging/Development Tools Panel and enabled "Record
> Log" but nothing is shown there.
> >
> > --
> > Kind regards,
> > Vedran Stojnovi?.
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
>


-- 
Srda?an pozdrav,
Vedran Stojnovi?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221219/7be61785/attachment-0001.htm>

From apasotti at gmail.com  Mon Dec 19 04:37:04 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 19 Dec 2022 13:37:04 +0100
Subject: [QGIS-Developer] How to see queries sent to GPKG layer for
 debugging
In-Reply-To: <CAL9iSMF7cgLR_zg9E--rKQwxcPGGKgGT8KyGMOe=Y6nU9TPeZQ@mail.gmail.com>
References: <CAL9iSMFHp=m0u3BNTfP4miTp4NgoRiT=WDbT8sQHtbP+y-MRuA@mail.gmail.com>
 <CAL5Q671wgm8xmJ6iMXe8QX7mrzTYEXPeWNhB95nwxew-owA8vA@mail.gmail.com>
 <CAL9iSMF7cgLR_zg9E--rKQwxcPGGKgGT8KyGMOe=Y6nU9TPeZQ@mail.gmail.com>
Message-ID: <CAL5Q673cYxghwCUgY0UnN=w3O9bKWjELrec8s2OwTWYcAQ2vrQ@mail.gmail.com>

I don't, sorry.

On Mon, Dec 19, 2022 at 1:07 PM Vedran Stojnovi? <phidrho at gmail.com> wrote:
>
> Hi Alessandro,
>
> thank you very much for info.
> Do you maybe know any workaround for this in the meanwhile?
> One of my coworkers is currently on hold because of this.
>
> pon, 19. pro 2022. u 12:33 Alessandro Pasotti <apasotti at gmail.com> napisao je:
>>
>> It's coming: see https://github.com/OSGeo/gdal/pull/6837
>>
>> On Mon, Dec 19, 2022 at 12:28 PM Vedran Stojnovi? via QGIS-Developer
>> <qgis-developer at lists.osgeo.org> wrote:
>> >
>> > Hi,
>> >
>> > I am trying to find source of some bug related to data input via form.
>> > I have set up some triggers in DB which are not executed if data is edited through QGIS, but if I change manually in SQLite than it works as expected.
>> >
>> > How can I see what queries are sent to GPKG database?
>> > I tried to open Debugging/Development Tools Panel and enabled "Record Log" but nothing is shown there.
>> >
>> > --
>> > Kind regards,
>> > Vedran Stojnovi?.
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> --
>> Alessandro Pasotti
>> QCooperative:  www.qcooperative.net
>> ItOpen:   www.itopen.it
>
>
>
> --
> Srda?an pozdrav,
> Vedran Stojnovi?.



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From julien.cabieces at oslandia.com  Mon Dec 19 05:31:42 2022
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Mon, 19 Dec 2022 14:31:42 +0100
Subject: [QGIS-Developer] Docker images built on Github Workflows and
 published as official
In-Reply-To: <CAMtsY+Z1M1Z5b0p0KMfpRb+eVB_xB7akW2vWrJvkPby2X8u0SQ@mail.gmail.com>
References: <CAMtsY+Z1M1Z5b0p0KMfpRb+eVB_xB7akW2vWrJvkPby2X8u0SQ@mail.gmail.com>
Message-ID: <87edsvwmdd.fsf@julien-laptop.home>


Hi,

+1

It looks like the appropriate way to propose offical QGIS Docker
images.

Regards,
Julien


> Hi all,
>
> I would like to raise once more the question of the Docker images we are
> pushing on Docker hub, and considered by many users as official.
>
> They are built here:
> https://github.com/qgis/QGIS/blob/master/.github/workflows/build-docker.yml
>
> There are a few issues regarding this, here is a NON exhaustive list:
> * the images are not optimized, a lot of build env artifacts remain
> * they are a pain to maintain (update the job at each new version,
> synchronize any new cmake option change, ?)
> * if it fails, PyQGIS docs are not built
> * it uses cache (which we miss a lot in GH workflows at the moment)
> * and for a bit of green-washing, it will avoid compiling something already
> compiled and ready to used (as debian packages)
>
> At OPENGIS.ch, we have set a very simple automated build of QGIS Docker
> images simply based on the debian packages:
> see:
> https://github.com/opengisch/qgis-docker/blob/master/desktop.Dockerfile#L16
>
> We would like to propose to move this work to the official QGIS repo and
> rely on this to publish docker images on Dockerhub.
>
> + Less work to maintain (also, the deps image will not be anymore a
> requirement for this)
> + Better images
> +/- Separate images for server, desktop
> - We'll rely on nightlies to publish master image (meaning potentially a
> few days delay, potentially for PyQGIS)
> - We won't maintain anymore a Dockerfile used to build QGIS
>
> Please let me know your thoughts.
> Cheers,
> Denis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From nyall.dawson at gmail.com  Mon Dec 19 16:17:29 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 20 Dec 2022 10:17:29 +1000
Subject: [QGIS-Developer] Symbology of vector layer change while opening
 in lower version.
In-Reply-To: <CAGy7cY=jSz1gr14A32GVzej2s8a9==eNEYAMmfvOJ9v-8ZvWRQ@mail.gmail.com>
References: <CAGy7cY=jSz1gr14A32GVzej2s8a9==eNEYAMmfvOJ9v-8ZvWRQ@mail.gmail.com>
Message-ID: <CAB28AshdfK8iXhQCkPu6Pjnkt_YHOrJhzxpR85QVzet91ynfwA@mail.gmail.com>

On Sun, 18 Dec 2022 at 12:19, Paul N via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> I had created a project in 3.28 version with symbology of line and area. I havnt check with point layer.
> While opening the same project in lower version 3.16, 3.22, 3.26 the symbology of line become black and polygon fill become blue.

QGIS officially doesn't support opening newer documents in older QGIS
versions -- that's why you get warnings when you attempt to do this.
Suffice to say that this isn't considered a bug and was actually a
change made intentionally.

Nyall


>
> Is any problem or change in newer version.
>
> Regards
> Paul N
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From surveykshak at gmail.com  Mon Dec 19 16:40:20 2022
From: surveykshak at gmail.com (Paul N)
Date: Tue, 20 Dec 2022 06:10:20 +0530
Subject: [QGIS-Developer] Symbology of vector layer change while opening
 in lower version.
In-Reply-To: <CAB28AshdfK8iXhQCkPu6Pjnkt_YHOrJhzxpR85QVzet91ynfwA@mail.gmail.com>
References: <CAGy7cY=jSz1gr14A32GVzej2s8a9==eNEYAMmfvOJ9v-8ZvWRQ@mail.gmail.com>
 <CAB28AshdfK8iXhQCkPu6Pjnkt_YHOrJhzxpR85QVzet91ynfwA@mail.gmail.com>
Message-ID: <CAGy7cYmJNHACFQ=bbB70BRim3gfjE=80YkDT4uSH3S_1Z25a3g@mail.gmail.com>

Thanks for the clarification.

On Tue, 20 Dec, 2022, 5:47 am Nyall Dawson, <nyall.dawson at gmail.com> wrote:

> On Sun, 18 Dec 2022 at 12:19, Paul N via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
> >
> > I had created a project in 3.28 version with symbology of line and area.
> I havnt check with point layer.
> > While opening the same project in lower version 3.16, 3.22, 3.26 the
> symbology of line become black and polygon fill become blue.
>
> QGIS officially doesn't support opening newer documents in older QGIS
> versions -- that's why you get warnings when you attempt to do this.
> Suffice to say that this isn't considered a bug and was actually a
> change made intentionally.
>
> Nyall
>
>
> >
> > Is any problem or change in newer version.
> >
> > Regards
> > Paul N
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221220/411bc707/attachment.htm>

From sylvain.pierre at alsace.eu  Tue Dec 20 00:24:24 2022
From: sylvain.pierre at alsace.eu (PIERRE Sylvain)
Date: Tue, 20 Dec 2022 08:24:24 +0000
Subject: [QGIS-Developer] Pyqgis Close init form
Message-ID: <PR1P264MB204674A12E7C47B2E320BA909CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>

Hi all,

I can not achieve closing a form in init pyqgis fonction. I try :
                dialog.close()
But form stay without any widgets
I try
                dialog.parent().close()
Does nothing
                dialog.parent().reject()
Qgis crash

Any hints ?

Thanks

[cid:image001.jpg at 01D91454.D88F5220]
Sylvain PIERRE
Chef de projet syst?me d'information
Direction des Syst?mes d'Information et du D?veloppement Num?rique
Service Projets et Ing?nierie Num?rique
Collectivit? europ?enne d'Alsace
T?l : 03 88 76 68 88
sylvain.pierre at alsace.eu<mailto:sylvain.pierre at alsace.eu>
www.alsace.eu<http://www.alsace.eu>
[facebook]<http://www.facebook.com/toutelalsace> [twitter] <http://www.twitter.com/toutelalsace>  [insta] <http://www.instagram.com/toutelalsace>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221220/48418abb/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 8099 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221220/48418abb/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 827 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221220/48418abb/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 853 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221220/48418abb/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 1038 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221220/48418abb/attachment-0005.png>

From rdmailings at duif.net  Tue Dec 20 00:43:44 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 20 Dec 2022 09:43:44 +0100
Subject: [QGIS-Developer] Pyqgis Close init form
In-Reply-To: <PR1P264MB204674A12E7C47B2E320BA909CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
References: <PR1P264MB204674A12E7C47B2E320BA909CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
Message-ID: <e970b20a-b411-f55b-842a-3969fe1cdfce@duif.net>

Can you provide a little more code?

And more info where exactly it is called (in the startup.py or in some form init code?

Is 'dialog' available in the code part in which you try to close it?

Regards,

Richard Duivenvoorde

On 12/20/22 09:24, PIERRE Sylvain via QGIS-Developer wrote:
> Hi all,
> 
> I can not achieve closing a form in init pyqgis fonction. I try?:
> 
>  ? ? ? ? ? ? ? ? dialog.close()
> 
> But form stay without any widgets
> 
> I try
> 
>  ? ? ? ? ? ? ? ? dialog.parent().close()
> 
> Does nothing
> 
>  ? ? ? ? ? ? ? ? dialog.parent().reject()
> 
> Qgis crash
> 
> Any hints??
> 
> Thanks
> 
> **
> 
> 	
> 
> Sylvain PIERRE**
> 
> Chef de projet syst?me d?information
> 
> Direction des Syst?mes d?Information et du D?veloppement Num?rique
> 
> Service Projets et Ing?nierie Num?rique
> 
> *Collectivit? europ?enne d?Alsace*
> 
> T?l :?03 88 76 68 88
> 
> sylvain.pierre at alsace.eu <mailto:sylvain.pierre at alsace.eu>
> 
> www.alsace.eu <http://www.alsace.eu>
> 
> facebook <http://www.facebook.com/toutelalsace>twitter <http://www.twitter.com/toutelalsace>insta <http://www.instagram.com/toutelalsace>
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From sylvain.pierre at alsace.eu  Tue Dec 20 01:04:55 2022
From: sylvain.pierre at alsace.eu (PIERRE Sylvain)
Date: Tue, 20 Dec 2022 09:04:55 +0000
Subject: [QGIS-Developer] Pyqgis Close init form
In-Reply-To: <e970b20a-b411-f55b-842a-3969fe1cdfce@duif.net>
References: <PR1P264MB204674A12E7C47B2E320BA909CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
 <e970b20a-b411-f55b-842a-3969fe1cdfce@duif.net>
Message-ID: <PR1P264MB2046692EC259641FBC22F9319CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>

When adding a new feature (polygon) I would like to close form when centroid does not intersect a polygon from an other layer
Here is my full python init form dialog function:

# -*- coding: utf8 -*-
from qgis.core import QgsVectorLayer, QgsFeatureRequest, QgsRectangle, QgsGeometry, QgsProject, QgsPointXY
import qgis.utils
from PyQt5.QtWidgets  import QDialogButtonBox, QLineEdit, QComboBox
from PyQt5.QtCore import QObject
import os.path
import getpass

def dealWithPoly(dialog, layerid, featureid):

    global editMode
    global iface

    iface = qgis.utils.iface

    geom = featureid.geometry()
    if geom:
        editMode = 'insert'    
        
        layers = QgsProject.instance().mapLayers().values()
        canvas = iface.mapCanvas()

        geo_point = geom.centroid()

        canvas_crs_txt = canvas.mapSettings().destinationCrs().authid()
        canvas_crs = canvas_crs_txt.split(':')[1]

        layerNameRPG = 'MAEC2023 parcelles'
        testlayerRPG = QgsProject().instance().mapLayersByName(layerNameRPG)
        
        if testlayerRPG: 
            bv = testlayerRPG[0]

            layer_crs_txt = bv.crs().authid()
            layer_crs = layer_crs_txt.split(':')[1]

            if canvas_crs != layer_crs:
                xform = QgsCoordinateTransform(QgsCoordinateReferenceSystem('EPSG:'+canvas_crs), QgsCoordinateReferenceSystem('EPSG:'+layer_crs), QgsProject.instance())
                geo_point.transform(xform)
                
            find_parcelle = False
            
            polygon = [feature for feature in bv.getFeatures()]
            for pol in polygon:
                geo_pol = pol.geometry()
                if geo_pol.contains(geo_point):
                    pacageVal = pol['Pacage']
                    numIlot = str(pol['Num_ilot'])
                    find_parcelle = True
                    break
                    
            if not find_parcelle:
                txt = u"Saisie en dehors des limites du RPG"
                iface.messageBar().pushMessage(txt, level=Qgis.Warning)
                #dialog.parent().reject()
                dialog.close()

                #print(dialog.parent())
            else:
                linedit_pacage = dialog.findChild(QLineEdit,"PACAGE")
                linedit_pacage.setText(pacageVal)
                        
                linedit_numilot = dialog.findChild(QLineEdit,"NUM_ILOT")
                linedit_numilot.setText(numIlot)


                    

                



  

-----Message d'origine-----
De?: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de Richard Duivenvoorde via QGIS-Developer
Envoy??: mardi 20 d?cembre 2022 09:44
??: qgis-developer at lists.osgeo.org
Objet?: Re: [QGIS-Developer] Pyqgis Close init form

Soyez vigilant : ce courriel provient d'une organisation externe ? la CeA.
? Assurez-vous d?abord qu?il ne s?agit pas d?un email malveillant avant de cliquer sur tout lien ou pi?ce jointe.
Apprendre ? reconna?tre un email de phishing.<https://intranet.alsace.eu/actualites/apprenez-a-reconnaitre-un-email-phishing/>


Can you provide a little more code?

And more info where exactly it is called (in the startup.py or in some form init code?

Is 'dialog' available in the code part in which you try to close it?

Regards,

Richard Duivenvoorde

On 12/20/22 09:24, PIERRE Sylvain via QGIS-Developer wrote:
> Hi all,
>
> I can not achieve closing a form in init pyqgis fonction. I try :
>
>                  dialog.close()
>
> But form stay without any widgets
>
> I try
>
>                  dialog.parent().close()
>
> Does nothing
>
>                  dialog.parent().reject()
>
> Qgis crash
>
> Any hints ?
>
> Thanks
>
> **
>
>
>
> Sylvain PIERRE**
>
> Chef de projet syst?me d?information
>
> Direction des Syst?mes d?Information et du D?veloppement Num?rique
>
> Service Projets et Ing?nierie Num?rique
>
> *Collectivit? europ?enne d?Alsace*
>
> T?l : 03 88 76 68 88
>
> sylvain.pierre at alsace.eu <mailto:sylvain.pierre at alsace.eu>
>
> www.alsace.eu <http://www.alsace.eu>
>
> facebook <http://www.facebook.com/toutelalsace>twitter <http://www.twitter.com/toutelalsace>insta <http://www.instagram.com/toutelalsace>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matthias at opengis.ch  Tue Dec 20 02:02:12 2022
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 20 Dec 2022 11:02:12 +0100
Subject: [QGIS-Developer] Offering QGIS installers through Windows store
In-Reply-To: <77351b5f-8042-179d-fbd9-be30e5fb2c20@spatialys.com>
References: <1669148217387.3400481725.2379542994@gmx.at>
 <CAC7zN97D==qZA3booAedGp_0Z4tup2jDbMFpOVXOoXU-zEpiow@mail.gmail.com>
 <eb90c944-a2b9-d764-3951-f99fe4206fc8@spatialys.com>
 <dfe7fcde-9008-7b8e-f2fc-1b450fc318d3@oslandia.com>
 <77351b5f-8042-179d-fbd9-be30e5fb2c20@spatialys.com>
Message-ID: <CAC7zN96b1v0as-0PfxBSyxcgtbtVaWR-tAM1B4LRvw7U1rW+FQ@mail.gmail.com>

Hi all,

I have had quite good experience with vcpkg for packaging qfield [1] (and
remember waiting for months for qt updates on conda), we are also
considering this for building mac packages.
Furthermore, there are many dependencies already prepared for UWP as first
class citizen.

If a change of the build system is something to be discussed, I think a
review of available systems would be good.

Matthias

[1]
https://www.opengis.ch/2022/09/20/how-we-build-qfield-for-many-platforms-a-look-behind-the-curtain/

On Sat, Dec 17, 2022 at 11:23 PM Even Rouault via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi,
>
> I've said it a few times, but I'll repeat myself one more time as it
> can't hurt :-) I'd strongly advise for QGIS Windows installer to rely on
> the massive Conda-Forge packaging effort. OSGeo4W is a bit of a
> masochist effort when one sees that it packages everything from scratch,
> a bit like if QGIS would take the responsibility of creating a Linux
> distro from scratch, whereas leveraging Conda-Forge would enable QGIS to
> benefit from > 90% of its dependencies already packages by a much bigger
> community. The QGIS community could then concentrate on the QGIS build
> recipee, and probably a few other packages specific to QGIS. Then the
> QGIS installer itself would mostly bundle a subset of Conda-Forge
> dependencies pinned at the wished versions.
>
> Even
>
> Le 16/12/2022 ? 16:59, Julien Moura via QGIS-Developer a ?crit :
> > Hello,
> >
> > I'm working on the packaging purpose at Oslandia.
> >
> > Because we are committed to pushing QGIS in the most industrial
> > information systems, at Oslandia we have been very interested in QGIS
> > deployment for a few years now.
> >
> > We have reused and actively contributed to many projects: OSGeo4W v1
> > mirror, NSIS and PowerShell recipes, presentations at FOSS4Gs (or at
> > QGIS conferences), etc.
> >
> > Since this year, we are making efforts to de-correlate software
> > deployment and end-user configurations (profiles): the QGIS Deployment
> > Toolbelt (https://guts.github.io/qgis-deployment-cli/) has been
> > created with this goal. It is still a young project and also it is one
> > project among many others.
> >
> > We are obviously very interested in this project of packaging QGIS on
> > Windows Store, a topic that we already discussed internally last year
> > and that I discussed namely with R?gis Haubourg in Florence. We
> > obviously have some question marks and discussion points to make sure
> > that all the process is in line with community and open-source
> > governance. Still, it will be quite a challenge and we think it is a
> > good direction to follow.
> >
> > As noted by others, this seems a huge undertaking though, and
> > uncertainty paves the road and make this goal a distant future.
> >
> > We could start with gathering and referencing all resources dedicated
> > to packaging, which would sum up as a website ( packaging.qgis.org ?)
> > with all documentation regarding OSGeo4W recipes ( beyond the aging
> > OSGeo trac ), and other packaging methods, like customized .deb
> > packaging.
> >
> > The goal is to structure and promote knowledge on this topic to
> > attract packager in addition to developers.
> >
> > And then we would also create packaging process documentation for
> > Windows Store.
> >
> > Regards,
> > Julien M
> >
> > Le 23/11/2022 ? 10:41, Even Rouault via QGIS-Developer a ?crit :
> >>>
> >>> - There is a requirement for every library in the package to be "UWP
> >>> compatible".
> >>>   At that time, libpq (postgresql) didn't have that, so I stopped.
> >>> It's hard to say how many other packages will also need special
> >>> attention. [1]
> >>
> >> Interesting. I know that people have contributed in the past fixes to
> >> make PROJ *compilable* with UWP, but as we don't have a CI target for
> >> that, it is unknown how it behaves at runtime.
> >>
> >> GDAL likely fails to build with UWP according to
> >> https://github.com/OSGeo/gdal/issues/1201
> >>
> >> Without a CI target that can be hooked into github action (maybe that
> >> exists. didn't check), UWP compatibility on the long term is going to
> >> be hard to achieve.
> >>
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
 
<https://www.opengis.ch/2022/11/03/best-of-swiss-enterprise-app-award-for-qfield/>

Best of Swiss Enterprise App-Award for QField 
<https://www.opengis.ch/2022/11/03/best-of-swiss-enterprise-app-award-for-qfield/> 
- Hold the power of QGIS in your hand - get it now <https://qfield.org/get>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221220/905e5528/attachment-0001.htm>

From rdmailings at duif.net  Tue Dec 20 02:33:30 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 20 Dec 2022 11:33:30 +0100
Subject: [QGIS-Developer] Pyqgis Close init form
In-Reply-To: <PR1P264MB2046692EC259641FBC22F9319CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
References: <PR1P264MB204674A12E7C47B2E320BA909CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
 <e970b20a-b411-f55b-842a-3969fe1cdfce@duif.net>
 <PR1P264MB2046692EC259641FBC22F9319CEA9@PR1P264MB2046.FRAP264.PROD.OUTLOOK.COM>
Message-ID: <f3a56e76-2bf9-bfd4-d7eb-ce54efd772d5@duif.net>

Ok, did some testing...

Mmm something fishy is going on..
First time I used: dialog.close()  I got an python exception telling me that QgsAttributeForm didn't have a close() ..
So the 'dailog' is actually not a QDialog but the QgsAttributeForm (which is a QWidget) ON a QDialog..
But... I could never replicate that anymore after that first time ???

Then I was able to replicate your crash by calling
dialog.parent().reject()
But tried
dialog.parent().close()
dialog.parent().hide()
but those were OK (but not working the way you want)

BUT: I think the reason close/hide are not working is because this is called BEFORE showing the dialog.
So the close/hide are actually called before your dialog is even shown.
And THEN QGIS will show the dialog (and you are too late)?

So I think what you want is not possible?
You could maybe create a new ui/dialog in which tells the user something (besides showing the other ui)?
But closing the dialog (before it is even shown) doesn't seem possible.

I'm not 100% sure of all this, so if others want to try or know better, please let me know

Regards,

Richard Duivenvoorde

PS tip to debug: when you use print-statements in your python init script, AND open the python console, the output will show up there!

On 12/20/22 10:04, PIERRE Sylvain wrote:
> When adding a new feature (polygon) I would like to close form when centroid does not intersect a polygon from an other layer
> Here is my full python init form dialog function:
> 
> # -*- coding: utf8 -*-
> from qgis.core import QgsVectorLayer, QgsFeatureRequest, QgsRectangle, QgsGeometry, QgsProject, QgsPointXY
> import qgis.utils
> from PyQt5.QtWidgets  import QDialogButtonBox, QLineEdit, QComboBox
> from PyQt5.QtCore import QObject
> import os.path
> import getpass
> 
> def dealWithPoly(dialog, layerid, featureid):
> 
>      global editMode
>      global iface
> 
>      iface = qgis.utils.iface
> 
>      geom = featureid.geometry()
>      if geom:
>          editMode = 'insert'
>          
>          layers = QgsProject.instance().mapLayers().values()
>          canvas = iface.mapCanvas()
> 
>          geo_point = geom.centroid()
> 
>          canvas_crs_txt = canvas.mapSettings().destinationCrs().authid()
>          canvas_crs = canvas_crs_txt.split(':')[1]
> 
>          layerNameRPG = 'MAEC2023 parcelles'
>          testlayerRPG = QgsProject().instance().mapLayersByName(layerNameRPG)
>          
>          if testlayerRPG:
>              bv = testlayerRPG[0]
> 
>              layer_crs_txt = bv.crs().authid()
>              layer_crs = layer_crs_txt.split(':')[1]
> 
>              if canvas_crs != layer_crs:
>                  xform = QgsCoordinateTransform(QgsCoordinateReferenceSystem('EPSG:'+canvas_crs), QgsCoordinateReferenceSystem('EPSG:'+layer_crs), QgsProject.instance())
>                  geo_point.transform(xform)
>                  
>              find_parcelle = False
>              
>              polygon = [feature for feature in bv.getFeatures()]
>              for pol in polygon:
>                  geo_pol = pol.geometry()
>                  if geo_pol.contains(geo_point):
>                      pacageVal = pol['Pacage']
>                      numIlot = str(pol['Num_ilot'])
>                      find_parcelle = True
>                      break
>                      
>              if not find_parcelle:
>                  txt = u"Saisie en dehors des limites du RPG"
>                  iface.messageBar().pushMessage(txt, level=Qgis.Warning)
>                  #dialog.parent().reject()
>                  dialog.close()
> 
>                  #print(dialog.parent())
>              else:
>                  linedit_pacage = dialog.findChild(QLineEdit,"PACAGE")
>                  linedit_pacage.setText(pacageVal)
>                          
>                  linedit_numilot = dialog.findChild(QLineEdit,"NUM_ILOT")
>                  linedit_numilot.setText(numIlot)
> 
> 
>                      
> 
>                  
> 
> 
> 
>    
> 
> -----Message d'origine-----
> De?: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de Richard Duivenvoorde via QGIS-Developer
> Envoy??: mardi 20 d?cembre 2022 09:44
> ??: qgis-developer at lists.osgeo.org
> Objet?: Re: [QGIS-Developer] Pyqgis Close init form
> 
> Soyez vigilant : ce courriel provient d'une organisation externe ? la CeA.
> ? Assurez-vous d?abord qu?il ne s?agit pas d?un email malveillant avant de cliquer sur tout lien ou pi?ce jointe.
> Apprendre ? reconna?tre un email de phishing.<https://intranet.alsace.eu/actualites/apprenez-a-reconnaitre-un-email-phishing/>
> 
> 
> Can you provide a little more code?
> 
> And more info where exactly it is called (in the startup.py or in some form init code?
> 
> Is 'dialog' available in the code part in which you try to close it?
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> On 12/20/22 09:24, PIERRE Sylvain via QGIS-Developer wrote:
>> Hi all,
>>
>> I can not achieve closing a form in init pyqgis fonction. I try :
>>
>>                   dialog.close()
>>
>> But form stay without any widgets
>>
>> I try
>>
>>                   dialog.parent().close()
>>
>> Does nothing
>>
>>                   dialog.parent().reject()
>>
>> Qgis crash
>>
>> Any hints ?
>>
>> Thanks
>>
>> **
>>
>>
>>
>> Sylvain PIERRE**
>>
>> Chef de projet syst?me d?information
>>
>> Direction des Syst?mes d?Information et du D?veloppement Num?rique
>>
>> Service Projets et Ing?nierie Num?rique
>>
>> *Collectivit? europ?enne d?Alsace*
>>
>> T?l : 03 88 76 68 88
>>
>> sylvain.pierre at alsace.eu <mailto:sylvain.pierre at alsace.eu>
>>
>> www.alsace.eu <http://www.alsace.eu>
>>
>> facebook <http://www.facebook.com/toutelalsace>twitter <http://www.twitter.com/toutelalsace>insta <http://www.instagram.com/toutelalsace>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From rdmailings at duif.net  Wed Dec 21 00:22:55 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 21 Dec 2022 09:22:55 +0100
Subject: [QGIS-Developer] Message "The operation would change the geometry
 type." ?
Message-ID: <1f3386e3-6772-4ae2-c5fa-dadb59cfdafb@duif.net>

Hi Devs,

A friend, while editing a vector layer, got the message: "The operation would change the geometry type." while editing a 'standalone' layer, and asked me what it was...

Today somebody in the Telegram channel asked the same.

I grepped:
https://github.com/qgis/QGIS/blob/master/src/app/vertextool/qgsvertextool.cpp#L2410

which points to:
https://github.com/qgis/QGIS/blob/master/src/core/geometry/qgsgeometry.h#L2401-L2414

but what I'm trying to find out is what kind of test QGIS is doing in the vertextool, if you do not have any relations in your project (or at least are not aware of it...)

cpp docs tell me: "Modifies geometry to avoid intersections with the layers specified in project properties"
But I cannot find something with 'avoid' or 'intersection' in my Project properties.

So question: is this a message which should not be there (because it pops up at people which are not aware of anything).
Or is there a property on True by default which make QGIS do tests, even on 1 layer?

Thanks for any input,

Richard Duivenvoorde


From julien.cabieces at oslandia.com  Wed Dec 21 01:01:18 2022
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Wed, 21 Dec 2022 10:01:18 +0100
Subject: [QGIS-Developer] Message "The operation would change the
 geometry type." ?
In-Reply-To: <1f3386e3-6772-4ae2-c5fa-dadb59cfdafb@duif.net>
References: <1f3386e3-6772-4ae2-c5fa-dadb59cfdafb@duif.net>
Message-ID: <87y1r1ruzl.fsf@julien-laptop.home>


Hi,

The avoid intersection option can be configured from the Snapping
Toolbar. There is a menu where you can choose between Allow overlap
(nothing happen, no message) and other options which can eventually
trigger this message.

It seems that "Allow overlap" is the default, so the user may have changed
it.

Regards,
Julien


> Hi Devs,
>
> A friend, while editing a vector layer, got the message: "The operation would change the geometry type." while editing a 'standalone' layer, and asked me what it was...
>
> Today somebody in the Telegram channel asked the same.
>
> I grepped:
> https://github.com/qgis/QGIS/blob/master/src/app/vertextool/qgsvertextool.cpp#L2410
>
> which points to:
> https://github.com/qgis/QGIS/blob/master/src/core/geometry/qgsgeometry.h#L2401-L2414
>
> but what I'm trying to find out is what kind of test QGIS is doing in the vertextool, if you do not have any relations in your project (or at least are not aware of it...)
>
> cpp docs tell me: "Modifies geometry to avoid intersections with the layers specified in project properties"
> But I cannot find something with 'avoid' or 'intersection' in my Project properties.
>
> So question: is this a message which should not be there (because it pops up at people which are not aware of anything).
> Or is there a property on True by default which make QGIS do tests, even on 1 layer?
>
> Thanks for any input,
>
> Richard Duivenvoorde
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From tebling at masuch.de  Wed Dec 21 02:31:43 2022
From: tebling at masuch.de (Karsten Tebling)
Date: Wed, 21 Dec 2022 11:31:43 +0100
Subject: [QGIS-Developer] Release date for 3.22.14 for ubuntu (jammy) with
 ubuntugis-unstable dependencies?
Message-ID: <006a9930-1983-8569-842d-598ebc158267@masuch.de>

Hello,

I just wanted to ask when 3.22.14 will arrive for ubuntu (jammy) with 
ubuntugis-unstable dependencies. For focal it's already available 
according to https://ubuntugis.qgis.org/ubuntugis-ltr/dists/

Greetz


From a.neumann at carto.net  Wed Dec 21 05:19:10 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 21 Dec 2022 14:19:10 +0100
Subject: [QGIS-Developer] Maximize buttons are available on attribute form
 dialogs in Linux, but not on Windows
Message-ID: <f24bcb80c9d6d1104c1ee6b1344f6afa@carto.net>

Hi,

I noticed that attribute form dialogs show "maximize" buttons on Linux 
(KDE), but not on Windows. Is there any idea why that could be? Is this 
a setting, a Qt on Windows limitation, or could something be done in the 
code or in packaging?

Thank you if you have any idea on that issue.

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/08985c89/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0ef9e540.png
Type: image/png
Size: 40329 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/08985c89/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 26a25ca1.png
Type: image/png
Size: 57642 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/08985c89/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 141b707e.png
Type: image/png
Size: 83450 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/08985c89/attachment-0005.png>

From deimer.caldera at blacksquare.com.co  Wed Dec 21 07:04:43 2022
From: deimer.caldera at blacksquare.com.co (Deimer Caldera)
Date: Wed, 21 Dec 2022 10:04:43 -0500
Subject: [QGIS-Developer] How to build qgis on Windows 10
Message-ID: <18535372175.d2bbc2141597152.328886512066256567@blacksquare.com.co>

I have tried to build qgis from source with this document?https://github.com/qgis/QGIS/blob/ltr-3_22/INSTALL.md?but I got many errors. Recently I found this guide

https://www.mail-archive.com/qgis-developer at lists.osgeo.org/msg52306.html?but the build gives me some errors (error LNK2019: unresolved external symbol).



..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z) referenced in function "public: void __cdecl QgsRasterHistogramWidget::refreshHistogram(void)" (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)



..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\qgsgradientcolorrampdialog.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample> const &)" (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z) referenced in function "public: void __cdecl QgsRasterHistogramWidget::refreshHistogram(void)" (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)



..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample> const &)" (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\qgshistogramwidget.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample> const &)" (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\output\bin\qgis_gui.dll : fatal error LNK1120: 2 unresolved externals



Am I missing a package to install?

Is there any updated documentation to make the build successful?



Thank you so much for your attention.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/3c32ba4a/attachment.htm>

From johannes.kroeger at wheregroup.com  Wed Dec 21 07:23:04 2022
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Wed, 21 Dec 2022 16:23:04 +0100
Subject: [QGIS-Developer] How to build qgis on Windows 10
In-Reply-To: <18535372175.d2bbc2141597152.328886512066256567@blacksquare.com.co>
References: <18535372175.d2bbc2141597152.328886512066256567@blacksquare.com.co>
Message-ID: <7dd9e7f3-1886-cf01-d722-30bfedcf58ac@wheregroup.com>

QwtPlotCurve sounds like you are missing QWT? This is documented in the 
up-to-date documentation at 
https://github.com/qgis/QGIS/blob/master/INSTALL.md#2-overview and has 
been written in that document for at least two years.

Am 21.12.22 um 16:04 schrieb Deimer Caldera via QGIS-Developer:
> I have tried to build qgis from source with this document 
> https://github.com/qgis/QGIS/blob/ltr-3_22/INSTALL.md?but I got many 
> errors. Recently I found this guide
> https://www.mail-archive.com/qgis-developer at lists.osgeo.org/msg52306.html?but 
> the build gives me some errors (error LNK2019: unresolved external 
> symbol).
>
> ..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj 
> : error LNK2019: unresolved external symbol "__declspec(dllimport) 
> public: void __cdecl QwtPlotCurve::setSamples(class QVector<class 
> QPointF> const &)" 
> (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z) 
> referenced in function "public: void __cdecl 
> QgsRasterHistogramWidget::refreshHistogram(void)" 
> (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)
>
> ..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : 
> error LNK2001: unresolved external symbol "__declspec(dllimport) 
> public: void __cdecl QwtPlotCurve::setSamples(class QVector<class 
> QPointF> const &)" 
> (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)
>
> ..\qgis-3.22.13\out\build\x64-Release\qgsgradientcolorrampdialog.cpp.obj 
> : error LNK2001: unresolved external symbol "__declspec(dllimport) 
> public: void __cdecl QwtPlotCurve::setSamples(class QVector<class 
> QPointF> const &)" 
> (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)
>
> ..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj 
> : error LNK2019: unresolved external symbol "__declspec(dllimport) 
> public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class 
> QwtIntervalSample> const &)" 
> (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z) 
> referenced in function "public: void __cdecl 
> QgsRasterHistogramWidget::refreshHistogram(void)" 
> (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)
>
> ..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : 
> error LNK2001: unresolved external symbol "__declspec(dllimport) 
> public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class 
> QwtIntervalSample> const &)" 
> (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)
>
> ..\qgis-3.22.13\out\build\x64-Release\qgshistogramwidget.cpp.obj : 
> error LNK2001: unresolved external symbol "__declspec(dllimport) 
> public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class 
> QwtIntervalSample> const &)" 
> (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)
>
> ..\qgis-3.22.13\out\build\x64-Release\output\bin\qgis_gui.dll : fatal 
> error LNK1120: 2 unresolved externals
>
> Am I missing a package to install?
> Is there any updated documentation to make the build successful?
>
> Thank you so much for your attention.
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Schon gewusst?


In unserem Blog geben wir Tipps & Tricks zu
Open-Source-GIS-Software?und berichten aus
unserem Experten-Alltag:
https://wheregroup.com/blog/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/da290191/attachment.htm>

From deimer.caldera at blacksquare.com.co  Wed Dec 21 11:39:52 2022
From: deimer.caldera at blacksquare.com.co (Deimer Caldera)
Date: Wed, 21 Dec 2022 14:39:52 -0500
Subject: [QGIS-Developer] How to build qgis on Windows 10
In-Reply-To: <7dd9e7f3-1886-cf01-d722-30bfedcf58ac@wheregroup.com>
References: <18535372175.d2bbc2141597152.328886512066256567@blacksquare.com.co>
 <7dd9e7f3-1886-cf01-d722-30bfedcf58ac@wheregroup.com>
Message-ID: <1853633089a.df07162d1636976.1445271617458222279@blacksquare.com.co>

Hi, thank you for your quick answer.



I have checked and the package Qwt is installed, so do you have any other idea?






---- On Wed, 21 Dec 2022 10:23:04 -0500 Johannes Kr?ger (WhereGroup) via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote ---



QwtPlotCurve sounds like you are missing QWT? This is documented
      in the up-to-date documentation at https://github.com/qgis/QGIS/blob/master/INSTALL.md#2-overview and
      has been written in that document for at least two years.

Am 21.12.22 um 16:04 schrieb Deimer
      Caldera via QGIS-Developer:



-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Schon gewusst? 

In unserem Blog geben wir Tipps & Tricks zu
Open-Source-GIS-Software?und berichten aus?
unserem Experten-Alltag:
https://wheregroup.com/blog/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

mailto:johannes.kroeger at wheregroup.com
http://www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm 
Amtsgericht Bonn, HRB 9885
-------------------------------



_______________________________________________
QGIS-Developer mailing list 
QGIS-Developer at lists.osgeo.org 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
I have tried to build qgis from source with this document?https://github.com/qgis/QGIS/blob/ltr-3_22/INSTALL.md?but
          I got many errors. Recently I found this guide

https://www.mail-archive.com/qgis-developer at lists.osgeo.org/msg52306.html?but
          the build gives me some errors (error LNK2019: unresolved
          external symbol).



..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj
            : error LNK2019: unresolved external symbol
            "__declspec(dllimport) public: void __cdecl
            QwtPlotCurve::setSamples(class QVector<class QPointF>
            const &)"
            (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)
            referenced in function "public: void __cdecl
            QgsRasterHistogramWidget::refreshHistogram(void)"
            (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)



..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj
            : error LNK2001: unresolved external symbol
            "__declspec(dllimport) public: void __cdecl
            QwtPlotCurve::setSamples(class QVector<class QPointF>
            const &)"
            (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\qgsgradientcolorrampdialog.cpp.obj
            : error LNK2001: unresolved external symbol
            "__declspec(dllimport) public: void __cdecl
            QwtPlotCurve::setSamples(class QVector<class QPointF>
            const &)"
            (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj
            : error LNK2019: unresolved external symbol
            "__declspec(dllimport) public: void __cdecl
            QwtPlotHistogram::setSamples(class QVector<class
            QwtIntervalSample> const &)"
(__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)
            referenced in function "public: void __cdecl
            QgsRasterHistogramWidget::refreshHistogram(void)"
            (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)



..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj
            : error LNK2001: unresolved external symbol
            "__declspec(dllimport) public: void __cdecl
            QwtPlotHistogram::setSamples(class QVector<class
            QwtIntervalSample> const &)"
(__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\qgshistogramwidget.cpp.obj
            : error LNK2001: unresolved external symbol
            "__declspec(dllimport) public: void __cdecl
            QwtPlotHistogram::setSamples(class QVector<class
            QwtIntervalSample> const &)"
(__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)



..\qgis-3.22.13\out\build\x64-Release\output\bin\qgis_gui.dll
            : fatal error LNK1120: 2 unresolved externals



Am I missing a package to install?


Is there any updated documentation to make the build
              successful?



Thank you so much for your attention.










_______________________________________________
QGIS-Developer mailing list
mailto:QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/19e64ff9/attachment-0001.htm>

From a.neumann at carto.net  Wed Dec 21 05:20:54 2022
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 21 Dec 2022 14:20:54 +0100
Subject: [QGIS-Developer] Maximize buttons are available on attribute form
 dialogs in Linux, but not on Windows
Message-ID: <f2d8aa8fd468f9ee93be18e81d4dd98d@carto.net>

Hi,

I noticed that attribute form dialogs show "maximize" buttons on Linux 
(KDE), but not on Windows. Is there any idea why that could be? Is this 
a setting, a Qt on Windows limitation, or could something be done in the 
code or in packaging?

Thank you if you have any idea on that issue.

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/b4f8ccf4/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 05d24ee7.png
Type: image/png
Size: 28851 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/b4f8ccf4/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0ef9e540.png
Type: image/png
Size: 40329 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/b4f8ccf4/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 26a25ca1.png
Type: image/png
Size: 57642 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/b4f8ccf4/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 141b707e.png
Type: image/png
Size: 83450 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221221/b4f8ccf4/attachment-0007.png>

From stefan.uhrig at sap.com  Sun Dec 25 10:49:09 2022
From: stefan.uhrig at sap.com (Uhrig, Stefan)
Date: Sun, 25 Dec 2022 18:49:09 +0000
Subject: [QGIS-Developer] How to build qgis on Windows 10
In-Reply-To: <1853633089a.df07162d1636976.1445271617458222279@blacksquare.com.co>
References: <18535372175.d2bbc2141597152.328886512066256567@blacksquare.com.co>
 <7dd9e7f3-1886-cf01-d722-30bfedcf58ac@wheregroup.com>
 <1853633089a.df07162d1636976.1445271617458222279@blacksquare.com.co>
Message-ID: <AM0PR02MB577724A74E6F6C55DAC6D25D93EF9@AM0PR02MB5777.eurprd02.prod.outlook.com>

You are seeing this error because vcpkg already builds qwt against Qt6 where QList und QVector were unified (https://www.qt.io/blog/qlist-changes-in-qt-6).

The easiest solution is resetting the vcpkg repository to an older state: git reset --hard 3776224fd28bd7e0c78617d73696753219e8d272~1

I recommend to clean the vcpkg directory then via: git clean -xfd

I'd also delete the %LOCALAPPDATA%\vcpkg folder.

Rebuild the dependencies then. Clean your QGIS build folder and rebuild.

Cheers,
Stefan

From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of Deimer Caldera via QGIS-Developer
Sent: Wednesday, December 21, 2022 8:40 PM
To: "Johannes Kr?ger (WhereGroup)" <johannes.kroeger at wheregroup.com>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] How to build qgis on Windows 10

Hi, thank you for your quick answer.

I have checked and the package Qwt is installed, so do you have any other idea?



---- On Wed, 21 Dec 2022 10:23:04 -0500 Johannes Kr?ger (WhereGroup) via QGIS-Developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>> wrote ---


QwtPlotCurve sounds like you are missing QWT? This is documented in the up-to-date documentation at https://github.com/qgis/QGIS/blob/master/INSTALL.md#2-overview<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fqgis%2FQGIS%2Fblob%2Fmaster%2FINSTALL.md%232-overview&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082672343%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=2U2pF8%2FZ26TO2DO5QUSIODnMnPLL8ev9iA%2BbvicxtGc%3D&reserved=0> and has been written in that document for at least two years.
Am 21.12.22 um 16:04 schrieb Deimer Caldera via QGIS-Developer:


--

Johannes Kr?ger / GIS-Entwickler/-Berater



---------------------------------------------

Schon gewusst?



In unserem Blog geben wir Tipps & Tricks zu

Open-Source-GIS-Software und berichten aus

unserem Experten-Alltag:

https://wheregroup.com/blog/<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwheregroup.com%2Fblog%2F&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082672343%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Wv1NbTZKvbZAcmY5PVeu7QtRq3PFsFHEz1Y5TsEPX7w%3D&reserved=0>

---------------------------------------------



WhereGroup GmbH

Grevenweg 89

20537 Hamburg

Germany



Tel: +49 (0)228 / 90 90 38 - 36

Fax: +49 (0)228 / 90 90 38 - 11



johannes.kroeger at wheregroup.com<mailto:johannes.kroeger at wheregroup.com>

www.wheregroup.com<https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.wheregroup.com%2F&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082672343%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=yhZKXHqf3TUhjBaxrB0lYRWK6DptcP02grj3RRKMyr0%3D&reserved=0>

Gesch?ftsf?hrer:

Olaf Knopp, Peter Stamm

Amtsgericht Bonn, HRB 9885

-------------------------------


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
I have tried to build qgis from source with this document https://github.com/qgis/QGIS/blob/ltr-3_22/INSTALL.md<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fqgis%2FQGIS%2Fblob%2Fltr-3_22%2FINSTALL.md&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=T72qLrWDqs8tfAcXM9NEfOLJu5l6aTX4mwc3SGU85iU%3D&reserved=0> but I got many errors. Recently I found this guide
https://www.mail-archive.com/qgis-developer at lists.osgeo.org/msg52306.html<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.mail-archive.com%2Fqgis-developer%40lists.osgeo.org%2Fmsg52306.html&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=ePzwulq%2F4gdClMvek9S%2BwVJdrSfpNFyVCp%2Bq9tH3k6A%3D&reserved=0> but the build gives me some errors (error LNK2019: unresolved external symbol).

..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z) referenced in function "public: void __cdecl QgsRasterHistogramWidget::refreshHistogram(void)" (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)

..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)

..\qgis-3.22.13\out\build\x64-Release\qgsgradientcolorrampdialog.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)

..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample> const &)" (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z) referenced in function "public: void __cdecl QgsRasterHistogramWidget::refreshHistogram(void)" (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)

..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample> const &)" (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)

..\qgis-3.22.13\out\build\x64-Release\qgshistogramwidget.cpp.obj : error LNK2001: unresolved external symbol "__declspec(dllimport) public: void __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample> const &)" (__imp_?setSamples at QwtPlotHistogram@@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)

..\qgis-3.22.13\out\build\x64-Release\output\bin\qgis_gui.dll : fatal error LNK1120: 2 unresolved externals


Am I missing a package to install?


Is there any updated documentation to make the build successful?

Thank you so much for your attention.




_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>

List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-developer&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Z5ZCGK%2FLgNDshRRN237RUPKSKEQm4g46Y8NN0iqiyRQ%3D&reserved=0>

Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-developer&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Z5ZCGK%2FLgNDshRRN237RUPKSKEQm4g46Y8NN0iqiyRQ%3D&reserved=0>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221225/a6e42a55/attachment-0001.htm>

From matthias at opengis.ch  Tue Dec 27 00:23:59 2022
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 27 Dec 2022 09:23:59 +0100
Subject: [QGIS-Developer] How to build qgis on Windows 10
In-Reply-To: <AM0PR02MB577724A74E6F6C55DAC6D25D93EF9@AM0PR02MB5777.eurprd02.prod.outlook.com>
References: <18535372175.d2bbc2141597152.328886512066256567@blacksquare.com.co>
 <7dd9e7f3-1886-cf01-d722-30bfedcf58ac@wheregroup.com>
 <1853633089a.df07162d1636976.1445271617458222279@blacksquare.com.co>
 <AM0PR02MB577724A74E6F6C55DAC6D25D93EF9@AM0PR02MB5777.eurprd02.prod.outlook.com>
Message-ID: <CAC7zN94W4wx0m3U0Ea77Qihs7jocFADLemEqN6351EoLt2rrwg@mail.gmail.com>

Hi,

If you are building with vcpkg, it's worth having a look at QField which
also builds against vcpkg libraries with a quite recent vcpkg version and a
set of overlay ports.
https://github.com/opengisch/QField/tree/master/vcpkg/overlay

Best regards
Matthias

On Sun, Dec 25, 2022 at 7:49 PM Uhrig, Stefan via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> You are seeing this error because vcpkg already builds qwt against Qt6
> where QList und QVector were unified (
> https://www.qt.io/blog/qlist-changes-in-qt-6).
>
>
>
> The easiest solution is resetting the vcpkg repository to an older state:
> git reset --hard 3776224fd28bd7e0c78617d73696753219e8d272~1
>
>
>
> I recommend to clean the vcpkg directory then via: git clean -xfd
>
>
>
> I?d also delete the %LOCALAPPDATA%\vcpkg folder.
>
>
>
> Rebuild the dependencies then. Clean your QGIS build folder and rebuild.
>
>
>
> Cheers,
>
> Stefan
>
>
>
> *From:* QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> *On
> Behalf Of *Deimer Caldera via QGIS-Developer
> *Sent:* Wednesday, December 21, 2022 8:40 PM
> *To:* "Johannes Kr?ger (WhereGroup)" <johannes.kroeger at wheregroup.com>
> *Cc:* qgis-developer <qgis-developer at lists.osgeo.org>
> *Subject:* Re: [QGIS-Developer] How to build qgis on Windows 10
>
>
>
> Hi, thank you for your quick answer.
>
>
>
> I have checked and the package Qwt is installed, so do you have any other
> idea?
>
>
>
>
>
>
>
> ---- On Wed, 21 Dec 2022 10:23:04 -0500 *Johannes Kr?ger (WhereGroup) via
> QGIS-Developer <qgis-developer at lists.osgeo.org
> <qgis-developer at lists.osgeo.org>>* wrote ---
>
>
>
> QwtPlotCurve sounds like you are missing QWT? This is documented in the
> up-to-date documentation at
> https://github.com/qgis/QGIS/blob/master/INSTALL.md#2-overview
> <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fqgis%2FQGIS%2Fblob%2Fmaster%2FINSTALL.md%232-overview&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082672343%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=2U2pF8%2FZ26TO2DO5QUSIODnMnPLL8ev9iA%2BbvicxtGc%3D&reserved=0>
> and has been written in that document for at least two years.
>
> Am 21.12.22 um 16:04 schrieb Deimer Caldera via QGIS-Developer:
>
>
>
> --
>
> Johannes Kr?ger / GIS-Entwickler/-Berater
>
>
>
> ---------------------------------------------
>
> Schon gewusst?
>
>
>
> In unserem Blog geben wir Tipps & Tricks zu
>
> Open-Source-GIS-Software und berichten aus
>
> unserem Experten-Alltag:
>
> https://wheregroup.com/blog/ <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwheregroup.com%2Fblog%2F&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082672343%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Wv1NbTZKvbZAcmY5PVeu7QtRq3PFsFHEz1Y5TsEPX7w%3D&reserved=0>
>
> ---------------------------------------------
>
>
>
> WhereGroup GmbH
>
> Grevenweg 89
>
> 20537 Hamburg
>
> Germany
>
>
>
> Tel: +49 (0)228 / 90 90 38 - 36
>
> Fax: +49 (0)228 / 90 90 38 - 11
>
>
>
> johannes.kroeger at wheregroup.com
>
> www.wheregroup.com <https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.wheregroup.com%2F&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082672343%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=yhZKXHqf3TUhjBaxrB0lYRWK6DptcP02grj3RRKMyr0%3D&reserved=0>
>
> Gesch?ftsf?hrer:
>
> Olaf Knopp, Peter Stamm
>
> Amtsgericht Bonn, HRB 9885
>
> -------------------------------
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> I have tried to build qgis from source with this document
> https://github.com/qgis/QGIS/blob/ltr-3_22/INSTALL.md
> <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fqgis%2FQGIS%2Fblob%2Fltr-3_22%2FINSTALL.md&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=T72qLrWDqs8tfAcXM9NEfOLJu5l6aTX4mwc3SGU85iU%3D&reserved=0> but
> I got many errors. Recently I found this guide
>
> https://www.mail-archive.com/qgis-developer at lists.osgeo.org/msg52306.html
> <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.mail-archive.com%2Fqgis-developer%40lists.osgeo.org%2Fmsg52306.html&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=ePzwulq%2F4gdClMvek9S%2BwVJdrSfpNFyVCp%2Bq9tH3k6A%3D&reserved=0> but
> the build gives me some errors (error LNK2019: unresolved external symbol).
>
>
>
> ..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj :
> error LNK2019: unresolved external symbol "__declspec(dllimport) public:
> void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const
> &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)
> referenced in function "public: void __cdecl
> QgsRasterHistogramWidget::refreshHistogram(void)"
> (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)
>
>
>
> ..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : error
> LNK2001: unresolved external symbol "__declspec(dllimport) public: void
> __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const &)"
> (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)
>
>
>
> ..\qgis-3.22.13\out\build\x64-Release\qgsgradientcolorrampdialog.cpp.obj :
> error LNK2001: unresolved external symbol "__declspec(dllimport) public:
> void __cdecl QwtPlotCurve::setSamples(class QVector<class QPointF> const
> &)" (__imp_?setSamples at QwtPlotCurve@@QEAAXAEBV?$QVector at VQPointF@@@@@Z)
>
>
>
> ..\qgis-3.22.13\out\build\x64-Release\qgsrasterhistogramwidget.cpp.obj :
> error LNK2019: unresolved external symbol "__declspec(dllimport) public:
> void __cdecl QwtPlotHistogram::setSamples(class QVector<class
> QwtIntervalSample> const &)" (__imp_?setSamples at QwtPlotHistogram
> @@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z) referenced in function
> "public: void __cdecl QgsRasterHistogramWidget::refreshHistogram(void)"
> (?refreshHistogram at QgsRasterHistogramWidget@@QEAAXXZ)
>
>
>
> ..\qgis-3.22.13\out\build\x64-Release\qgscurveeditorwidget.cpp.obj : error
> LNK2001: unresolved external symbol "__declspec(dllimport) public: void
> __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample>
> const &)" (__imp_?setSamples at QwtPlotHistogram
> @@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)
>
>
>
> ..\qgis-3.22.13\out\build\x64-Release\qgshistogramwidget.cpp.obj : error
> LNK2001: unresolved external symbol "__declspec(dllimport) public: void
> __cdecl QwtPlotHistogram::setSamples(class QVector<class QwtIntervalSample>
> const &)" (__imp_?setSamples at QwtPlotHistogram
> @@QEAAXAEBV?$QVector at VQwtIntervalSample@@@@@Z)
>
>
>
> ..\qgis-3.22.13\out\build\x64-Release\output\bin\qgis_gui.dll : fatal
> error LNK1120: 2 unresolved externals
>
>
>
> Am I missing a package to install?
>
>
>
> Is there any updated documentation to make the build successful?
>
>
>
> Thank you so much for your attention.
>
>
>
>
>
>
>
> _______________________________________________
>
> QGIS-Developer mailing list
>
> QGIS-Developer at lists.osgeo.org
>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-developer&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Z5ZCGK%2FLgNDshRRN237RUPKSKEQm4g46Y8NN0iqiyRQ%3D&reserved=0>
>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-developer&data=05%7C01%7Cstefan.uhrig%40sap.com%7Cdeb1e6e5938b480855b708dae38b282d%7C42f7676cf455423c82f6dc2d99791af7%7C0%7C0%7C638072484082828549%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=Z5ZCGK%2FLgNDshRRN237RUPKSKEQm4g46Y8NN0iqiyRQ%3D&reserved=0>
>
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
 
<https://www.opengis.ch/2022/11/03/best-of-swiss-enterprise-app-award-for-qfield/>

Best of Swiss Enterprise App-Award for QField 
<https://www.opengis.ch/2022/11/03/best-of-swiss-enterprise-app-award-for-qfield/> 
- Hold the power of QGIS in your hand - get it now <https://qfield.org/get>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221227/7f319169/attachment-0001.htm>

From senhor.neto at gmail.com  Tue Dec 27 02:39:58 2022
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Tue, 27 Dec 2022 10:39:58 +0000
Subject: [QGIS-Developer] Offering QGIS installers through Windows store
In-Reply-To: <CAC7zN96b1v0as-0PfxBSyxcgtbtVaWR-tAM1B4LRvw7U1rW+FQ@mail.gmail.com>
References: <1669148217387.3400481725.2379542994@gmx.at>
 <CAC7zN97D==qZA3booAedGp_0Z4tup2jDbMFpOVXOoXU-zEpiow@mail.gmail.com>
 <eb90c944-a2b9-d764-3951-f99fe4206fc8@spatialys.com>
 <dfe7fcde-9008-7b8e-f2fc-1b450fc318d3@oslandia.com>
 <77351b5f-8042-179d-fbd9-be30e5fb2c20@spatialys.com>
 <CAC7zN96b1v0as-0PfxBSyxcgtbtVaWR-tAM1B4LRvw7U1rW+FQ@mail.gmail.com>
Message-ID: <CA+H0G_F1SVMhB3i3gN67SXB_iAwLK88q2pRovbWBG0dFcWFg8w@mail.gmail.com>

Regarding conda-forge,

Qt update wait was quite unfortunate, but other than that the community is
generally quite responsive.

Currently QGIS stable and LTR versions are being built for Windows, Mac OS
and Linux with Python 3.8, 3.9, 3.10 and 3.11.

Alexandre Neto

A ter?a, 20/12/2022, 10:02, Matthias Kuhn via QGIS-Developer <
qgis-developer at lists.osgeo.org> escreveu:

> Hi all,
>
> I have had quite good experience with vcpkg for packaging qfield [1] (and
> remember waiting for months for qt updates on conda), we are also
> considering this for building mac packages.
> Furthermore, there are many dependencies already prepared for UWP as first
> class citizen.
>
> If a change of the build system is something to be discussed, I think a
> review of available systems would be good.
>
> Matthias
>
> [1]
> https://www.opengis.ch/2022/09/20/how-we-build-qfield-for-many-platforms-a-look-behind-the-curtain/
>
> On Sat, Dec 17, 2022 at 11:23 PM Even Rouault via QGIS-Developer <
> qgis-developer at lists.osgeo.org> wrote:
>
>> Hi,
>>
>> I've said it a few times, but I'll repeat myself one more time as it
>> can't hurt :-) I'd strongly advise for QGIS Windows installer to rely on
>> the massive Conda-Forge packaging effort. OSGeo4W is a bit of a
>> masochist effort when one sees that it packages everything from scratch,
>> a bit like if QGIS would take the responsibility of creating a Linux
>> distro from scratch, whereas leveraging Conda-Forge would enable QGIS to
>> benefit from > 90% of its dependencies already packages by a much bigger
>> community. The QGIS community could then concentrate on the QGIS build
>> recipee, and probably a few other packages specific to QGIS. Then the
>> QGIS installer itself would mostly bundle a subset of Conda-Forge
>> dependencies pinned at the wished versions.
>>
>> Even
>>
>> Le 16/12/2022 ? 16:59, Julien Moura via QGIS-Developer a ?crit :
>> > Hello,
>> >
>> > I'm working on the packaging purpose at Oslandia.
>> >
>> > Because we are committed to pushing QGIS in the most industrial
>> > information systems, at Oslandia we have been very interested in QGIS
>> > deployment for a few years now.
>> >
>> > We have reused and actively contributed to many projects: OSGeo4W v1
>> > mirror, NSIS and PowerShell recipes, presentations at FOSS4Gs (or at
>> > QGIS conferences), etc.
>> >
>> > Since this year, we are making efforts to de-correlate software
>> > deployment and end-user configurations (profiles): the QGIS Deployment
>> > Toolbelt (https://guts.github.io/qgis-deployment-cli/) has been
>> > created with this goal. It is still a young project and also it is one
>> > project among many others.
>> >
>> > We are obviously very interested in this project of packaging QGIS on
>> > Windows Store, a topic that we already discussed internally last year
>> > and that I discussed namely with R?gis Haubourg in Florence. We
>> > obviously have some question marks and discussion points to make sure
>> > that all the process is in line with community and open-source
>> > governance. Still, it will be quite a challenge and we think it is a
>> > good direction to follow.
>> >
>> > As noted by others, this seems a huge undertaking though, and
>> > uncertainty paves the road and make this goal a distant future.
>> >
>> > We could start with gathering and referencing all resources dedicated
>> > to packaging, which would sum up as a website ( packaging.qgis.org ?)
>> > with all documentation regarding OSGeo4W recipes ( beyond the aging
>> > OSGeo trac ), and other packaging methods, like customized .deb
>> > packaging.
>> >
>> > The goal is to structure and promote knowledge on this topic to
>> > attract packager in addition to developers.
>> >
>> > And then we would also create packaging process documentation for
>> > Windows Store.
>> >
>> > Regards,
>> > Julien M
>> >
>> > Le 23/11/2022 ? 10:41, Even Rouault via QGIS-Developer a ?crit :
>> >>>
>> >>> - There is a requirement for every library in the package to be "UWP
>> >>> compatible".
>> >>>   At that time, libpq (postgresql) didn't have that, so I stopped.
>> >>> It's hard to say how many other packages will also need special
>> >>> attention. [1]
>> >>
>> >> Interesting. I know that people have contributed in the past fixes to
>> >> make PROJ *compilable* with UWP, but as we don't have a CI target for
>> >> that, it is unknown how it behaves at runtime.
>> >>
>> >> GDAL likely fails to build with UWP according to
>> >> https://github.com/OSGeo/gdal/issues/1201
>> >>
>> >> Without a CI target that can be hooked into github action (maybe that
>> >> exists. didn't check), UWP compatibility on the long term is going to
>> >> be hard to achieve.
>> >>
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> --
>> http://www.spatialys.com
>> My software is free, but my time generally not.
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> [image:
> https://www.opengis.ch/2022/11/03/best-of-swiss-enterprise-app-award-for-qfield/]
> <https://www.opengis.ch/2022/11/03/best-of-swiss-enterprise-app-award-for-qfield/>
> Best of Swiss Enterprise App-Award for QField
> <https://www.opengis.ch/2022/11/03/best-of-swiss-enterprise-app-award-for-qfield/> -
> Hold the power of QGIS in your hand - get it now <https://qfield.org/get>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221227/661de0fc/attachment.htm>

From matteo.ghetta at gmail.com  Wed Dec 28 00:58:40 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 28 Dec 2022 09:58:40 +0100
Subject: [QGIS-Developer] Skip loading plugin if errors
Message-ID: <217af51b-0822-ea1f-c626-a4c8de9440fd@gmail.com>

Hi devs,

I'm developing a Processing provider plugin that needs some external 
python packages. If these are not installed on the system, when starting 
QGIS and loading the plugin the error message pops up (of course).

Is there a way to have a "more friendly" message without opening the 
Stacktrace? For example creating a messagebox/bar with the message 
"Install the package...... else you cannot use the plugin"

I've added a simple try/except in the plugin classFactory method but I'm 
still stuck in the loop somewhere.

Thanks for any suggestion

Cheers

Matteo


From carrillo.german at gmail.com  Wed Dec 28 01:40:12 2022
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Wed, 28 Dec 2022 10:40:12 +0100
Subject: [QGIS-Developer] Skip loading plugin if errors
In-Reply-To: <217af51b-0822-ea1f-c626-a4c8de9440fd@gmail.com>
References: <217af51b-0822-ea1f-c626-a4c8de9440fd@gmail.com>
Message-ID: <CANaz7mysEHy5t7CsjmJFELVrZ0y_-Qsi8HofsK4jZ8OK+U18sQ@mail.gmail.com>

Hi Matteo,

I've added a few validations for this plugin to gently inform users of
missing dependencies:

https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/__init__.py

Hope that helps.

Regards,

Germ?n


El mi?, 28 dic 2022 a las 9:58, matteo via QGIS-Developer (<
qgis-developer at lists.osgeo.org>) escribi?:

> Hi devs,
>
> I'm developing a Processing provider plugin that needs some external
> python packages. If these are not installed on the system, when starting
> QGIS and loading the plugin the error message pops up (of course).
>
> Is there a way to have a "more friendly" message without opening the
> Stacktrace? For example creating a messagebox/bar with the message
> "Install the package...... else you cannot use the plugin"
>
> I've added a simple try/except in the plugin classFactory method but I'm
> still stuck in the loop somewhere.
>
> Thanks for any suggestion
>
> Cheers
>
> Matteo
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinform?ticas Libres
http://geotux.tuxfamily.org/
https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221228/ea9dda89/attachment.htm>

From matteo.ghetta at gmail.com  Wed Dec 28 05:15:03 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 28 Dec 2022 14:15:03 +0100
Subject: [QGIS-Developer] Skip loading plugin if errors
In-Reply-To: <CANaz7mysEHy5t7CsjmJFELVrZ0y_-Qsi8HofsK4jZ8OK+U18sQ@mail.gmail.com>
References: <217af51b-0822-ea1f-c626-a4c8de9440fd@gmail.com>
 <CANaz7mysEHy5t7CsjmJFELVrZ0y_-Qsi8HofsK4jZ8OK+U18sQ@mail.gmail.com>
Message-ID: <41f40262-16f8-fc6d-c7a7-8556b1bbe9b8@gmail.com>

Hola Germ?n,

thanks for the suggestion! I'll try and let you know

Cheers

Matteo

On 12/28/22 10:40, Germ?n Carrillo wrote:
> Hi Matteo,
> 
> I've added a few validations for this plugin to gently inform users of 
> missing dependencies:
> 
> https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/__init__.py <https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/__init__.py>
> 
> Hope that helps.
> 
> Regards,
> 
> Germ?n
> 
> 
> El mi?, 28 dic 2022 a las 9:58, matteo via QGIS-Developer 
> (<qgis-developer at lists.osgeo.org 
> <mailto:qgis-developer at lists.osgeo.org>>) escribi?:
> 
>     Hi devs,
> 
>     I'm developing a Processing provider plugin that needs some external
>     python packages. If these are not installed on the system, when
>     starting
>     QGIS and loading the plugin the error message pops up (of course).
> 
>     Is there a way to have a "more friendly" message without opening the
>     Stacktrace? For example creating a messagebox/bar with the message
>     "Install the package...... else you cannot use the plugin"
> 
>     I've added a simple try/except in the plugin classFactory method but
>     I'm
>     still stuck in the loop somewhere.
> 
>     Thanks for any suggestion
> 
>     Cheers
> 
>     Matteo
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> -- 
> -----------
>  ?? |\__
> (:>__)(
>  ?? |/
> Soluciones Geoinform?ticas Libres
> http://geotux.tuxfamily.org/ <http://geotux.tuxfamily.org/>
> https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>
> 
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>

From matteo.ghetta at gmail.com  Wed Dec 28 05:58:13 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 28 Dec 2022 14:58:13 +0100
Subject: [QGIS-Developer] Skip loading plugin if errors
In-Reply-To: <CANaz7mysEHy5t7CsjmJFELVrZ0y_-Qsi8HofsK4jZ8OK+U18sQ@mail.gmail.com>
References: <217af51b-0822-ea1f-c626-a4c8de9440fd@gmail.com>
 <CANaz7mysEHy5t7CsjmJFELVrZ0y_-Qsi8HofsK4jZ8OK+U18sQ@mail.gmail.com>
Message-ID: <0f85b221-ffee-dcf3-73e0-ae0ac77bc87c@gmail.com>

Another solution, not the best one and working just because the plugin 
is a Processing provider would be to put

try:
     import external_library
except ImportError:
     raise QgsProcessingException(self.tr('This algorithm requires the 
Python ...... library. Please install this library and try again.'))

within the processAlgorithm method. I know that if there are many 
algorithms you have to repeat the code for each one, and that if the 
algorithm has many parameters, the user fills all of them and it's not 
nice to inform after, but.... :)

Cheers

Matteo



On 12/28/22 10:40, Germ?n Carrillo wrote:
> Hi Matteo,
> 
> I've added a few validations for this plugin to gently inform users of 
> missing dependencies:
> 
> https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/__init__.py <https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/__init__.py>
> 
> Hope that helps.
> 
> Regards,
> 
> Germ?n
> 
> 
> El mi?, 28 dic 2022 a las 9:58, matteo via QGIS-Developer 
> (<qgis-developer at lists.osgeo.org 
> <mailto:qgis-developer at lists.osgeo.org>>) escribi?:
> 
>     Hi devs,
> 
>     I'm developing a Processing provider plugin that needs some external
>     python packages. If these are not installed on the system, when
>     starting
>     QGIS and loading the plugin the error message pops up (of course).
> 
>     Is there a way to have a "more friendly" message without opening the
>     Stacktrace? For example creating a messagebox/bar with the message
>     "Install the package...... else you cannot use the plugin"
> 
>     I've added a simple try/except in the plugin classFactory method but
>     I'm
>     still stuck in the loop somewhere.
> 
>     Thanks for any suggestion
> 
>     Cheers
> 
>     Matteo
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> -- 
> -----------
>  ?? |\__
> (:>__)(
>  ?? |/
> Soluciones Geoinform?ticas Libres
> http://geotux.tuxfamily.org/ <http://geotux.tuxfamily.org/>
> https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>
> 
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>

From alroyliz0 at gmail.com  Wed Dec 28 10:32:30 2022
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Wed, 28 Dec 2022 13:32:30 -0500
Subject: [QGIS-Developer] AFS feature iterator logic
Message-ID: <CAOM0XWDGy1G7KT=x-dbupve-OpLcwoBFurWkOw-CKfs+zbgLPg@mail.gmail.com>

Greetings,

I'm looking into the web service data fetching and I noticed that there are
some things that seemed strange at first glance and wanted to know if
someone had insight into things.

>From what I understand data is fetched and cached and on the initial fetch
it seems that all the data is fetched? This may be to fill up the data
cache.

In the instances where an extent is present in the feature request, the
extent is used to perform check during the iteration, at each step it seems
that all the feature ids within the extent are requested, (see
https://github.com/qgis/QGIS/blob/693422bdc010713d4d15a1af6d0c04cc6a2e913d/src/providers/arcgisrest/qgsafsfeatureiterator.cpp#L131
) instead of being consolidated once with the requested Ids at the start?

In some cases during the test I am zoomed on two feature but there is a
request for an extent that return nearly 50 ids, I'm not sure what is
firing this as I didn't change the extent nor did any manipulation.

I'm not sure if things are similar for WFS but that stood out to me and I
don't understand too much why so much data may be requested, this is mostly
since I'm looking into ways to generate smaller index based only on the
extent of the canvas, as I think that it may be possible to avoid indexing
entire web layers if only a fraction of them are needed for snapping during
data manipulation.

Cheers,

Alex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221228/998498e6/attachment.htm>

From matteo.ghetta at gmail.com  Thu Dec 29 00:26:27 2022
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 29 Dec 2022 09:26:27 +0100
Subject: [QGIS-Developer] Skip loading plugin if errors
In-Reply-To: <CANaz7mysEHy5t7CsjmJFELVrZ0y_-Qsi8HofsK4jZ8OK+U18sQ@mail.gmail.com>
References: <217af51b-0822-ea1f-c626-a4c8de9440fd@gmail.com>
 <CANaz7mysEHy5t7CsjmJFELVrZ0y_-Qsi8HofsK4jZ8OK+U18sQ@mail.gmail.com>
Message-ID: <158404e5-0f76-effa-40bf-e90419b61820@gmail.com>

Hi Germ?n,

I successfully used also your code and it really works perfectly.

Thanks for sharing it!

Cheers

Matteo

On 12/28/22 10:40, Germ?n Carrillo wrote:
> Hi Matteo,
> 
> I've added a few validations for this plugin to gently inform users of 
> missing dependencies:
> 
> https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/__init__.py <https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/__init__.py>
> 
> Hope that helps.
> 
> Regards,
> 
> Germ?n
> 
> 
> El mi?, 28 dic 2022 a las 9:58, matteo via QGIS-Developer 
> (<qgis-developer at lists.osgeo.org 
> <mailto:qgis-developer at lists.osgeo.org>>) escribi?:
> 
>     Hi devs,
> 
>     I'm developing a Processing provider plugin that needs some external
>     python packages. If these are not installed on the system, when
>     starting
>     QGIS and loading the plugin the error message pops up (of course).
> 
>     Is there a way to have a "more friendly" message without opening the
>     Stacktrace? For example creating a messagebox/bar with the message
>     "Install the package...... else you cannot use the plugin"
> 
>     I've added a simple try/except in the plugin classFactory method but
>     I'm
>     still stuck in the loop somewhere.
> 
>     Thanks for any suggestion
> 
>     Cheers
> 
>     Matteo
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> -- 
> -----------
>  ?? |\__
> (:>__)(
>  ?? |/
> Soluciones Geoinform?ticas Libres
> http://geotux.tuxfamily.org/ <http://geotux.tuxfamily.org/>
> https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>
> 
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>

From pathmapper at posteo.de  Thu Dec 29 01:40:52 2022
From: pathmapper at posteo.de (pathmapper)
Date: Thu, 29 Dec 2022 09:40:52 +0000
Subject: [QGIS-Developer] AFS feature iterator logic
In-Reply-To: <CAOM0XWDGy1G7KT=x-dbupve-OpLcwoBFurWkOw-CKfs+zbgLPg@mail.gmail.com>
References: <CAOM0XWDGy1G7KT=x-dbupve-OpLcwoBFurWkOw-CKfs+zbgLPg@mail.gmail.com>
Message-ID: <75cbb6dd020abfd865cad70a032d5a67@posteo.de>

Hi Alex,

with WFS, if the option "Only request features overlapping the view 
extent" is checked,
there will be GetFeature emitted constantly on pan/zoom of the map.

This behaviour doesn't even stop when all features of the service are 
already loaded:
https://github.com/qgis/QGIS/issues/51168

So it looks like currently caching is based only on the request URL 
which doesn't help here much
because the URL changes all the time when zooming/panning because the 
extent parameter
is most of the time a bit different.

You could try the "extractbyextent" processing alg with the arcgisrest 
as input (browse for layer)
and the current map canvas extent as extent.

This works for WFS to avoid producing so much traffic.

Cheers,
Bj?rn



On 28.12.2022 19:32, Alexis R.L. via QGIS-Developer wrote:
> Greetings,
> 
> I'm looking into the web service data fetching and I noticed that
> there are some things that seemed strange at first glance and wanted
> to know if someone had insight into things.
> 
> From what I understand data is fetched and cached and on the initial
> fetch it seems that all the data is fetched? This may be to fill up
> the data cache.
> 
> In the instances where an extent is present in the feature request,
> the extent is used to perform check during the iteration, at each step
> it seems that all the feature ids within the extent are requested,
> (see
> https://github.com/qgis/QGIS/blob/693422bdc010713d4d15a1af6d0c04cc6a2e913d/src/providers/arcgisrest/qgsafsfeatureiterator.cpp#L131
> [1] ) instead of being consolidated once with the requested Ids at the
> start?
> 
> In some cases during the test I am zoomed on two feature but there is
> a request for an extent that return nearly 50 ids, I'm not sure what
> is firing this as I didn't change the extent nor did any manipulation.
> 
> I'm not sure if things are similar for WFS but that stood out to me
> and I don't understand too much why so much data may be requested,
> this is mostly since I'm looking into ways to generate smaller index
> based only on the extent of the canvas, as I think that it may be
> possible to avoid indexing entire web layers if only a fraction of
> them are needed for snapping during data manipulation.
> 
> Cheers,
> 
> Alex
> 
> Links:
> ------
> [1]
> https://github.com/qgis/QGIS/blob/693422bdc010713d4d15a1af6d0c04cc6a2e913d/src/providers/arcgisrest/qgsafsfeatureiterator.cpp#L131
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From davidarqueo at hotmail.com  Thu Dec 29 01:52:39 2022
From: davidarqueo at hotmail.com (david cebrian)
Date: Thu, 29 Dec 2022 09:52:39 +0000
Subject: [QGIS-Developer] How to update folder with R packages in QGIS
Message-ID: <VE1P194MB0766C8878586C6069F3D6122ACF39@VE1P194MB0766.EURP194.PROD.OUTLOOK.COM>

Good morning everyone.

I cannot run various R scripts in QGIS because I need to update various packages. These packages are in: C:\Users\david\AppData\Roaming\QGIS\QGIS3\profiles\default\processing\rlibs

I have been told that I could update the packages by updating the folder rlibs in which are the  default QGIS R packages by running the following code in R console:

update.packages (lib.loc="/home/david/. local/share/QGIS/QGIS3/profiles/default/processing/rlibs")

Does anyone know if with this code is possible to update the R packages located within the folder rlibs? It seems right to me, but I would like to be 100% sure before running the code.

Many thanks.

Best wishes,

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221229/a8e92447/attachment.htm>

From delazj at gmail.com  Fri Dec 30 00:47:25 2022
From: delazj at gmail.com (DelazJ)
Date: Fri, 30 Dec 2022 09:47:25 +0100
Subject: [QGIS-Developer] prepare_commit.sh freezes console
In-Reply-To: <bc67b1f4-8cdf-b74c-3fae-40268ba2627d@spatialys.com>
References: <8fdaeaaa-6599-d8bf-b459-6b602340343f@gmail.com>
 <bc67b1f4-8cdf-b74c-3fae-40268ba2627d@spatialys.com>
Message-ID: <CAECJsSrrwxOZdgkXZmuPFQKVwg7CLdLES34V23-yugA+MuHerg@mail.gmail.com>

Hi Even,
Obviously, I didn't try that one. So simple and clear once explained.
Merci beaucoup,

Harrissou

Le ven. 16 d?c. 2022 ? 08:37, Even Rouault <even.rouault at spatialys.com> a
?crit :

> Hi Harrissou,
>
> "q" should do it, as the diff is displayed with the "less" utility, and
> it's the shortcut to exit from it
>
> Even
>
> Le 16/12/2022 ? 06:18, Delaz J via QGIS-Developer a ?crit :
> > Hi,
> >
> > Whenever I run prepare_commit.sh and there are changes, I fail to find
> > how to get back to the command prompt. Whatever I do (and I can be
> > quite inventive on keyboard shortcuts), nothing more will happen in
> > the tab of the terminal I ran the command. The only option I have is
> > to kill that tab and continue in a new tab.
> >
> > So my question is: How do you take control of your terminal after you
> > run prepare_commit.sh?
> >
> > I'm on Ubuntu 22.04 if it makes any difference.
> >
> > Thanks,
> >
> > Harrissou
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221230/ceed3f48/attachment.htm>

From inspiritcartographics at mail.com  Fri Dec 30 02:34:49 2022
From: inspiritcartographics at mail.com (Jennifer Johnston)
Date: Fri, 30 Dec 2022 11:34:49 +0100
Subject: [QGIS-Developer] Adding a custom projection to QGIS
Message-ID: <trinity-d8bff74f-cd4a-4156-86f5-2c5259fe82b1-1672396489092@3c-app-mailcom-lxa09>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221230/d53b3172/attachment.htm>

From gdt at lexort.com  Fri Dec 30 05:03:50 2022
From: gdt at lexort.com (Greg Troxel)
Date: Fri, 30 Dec 2022 08:03:50 -0500
Subject: [QGIS-Developer] Adding a custom projection to QGIS
In-Reply-To: <trinity-d8bff74f-cd4a-4156-86f5-2c5259fe82b1-1672396489092@3c-app-mailcom-lxa09>
 (Jennifer Johnston via's message of "Fri, 30 Dec 2022 11:34:49 +0100")
References: <trinity-d8bff74f-cd4a-4156-86f5-2c5259fe82b1-1672396489092@3c-app-mailcom-lxa09>
Message-ID: <rmifscxrqkp.fsf@s1.lexort.com>

Jennifer Johnston via QGIS-Developer <qgis-developer at lists.osgeo.org>
writes:

> I&#39;ve been working on a custom projection with Duncan Cameron and
> I&#39;m wanting to add it to QGIS.  Is this something that I could do
> myself?  If so what specifications would I need and is there any
> documentation that I could read to help?  I have been told that
> creating a prj file with the parameters would not work.

I would lean to trying to add it to proj, rather than qgis, as you
probably want to use it with gdal too.  But, if it's a new projection,
vs paramaters to an existing projection, that's not trivial.

> Here is a link to an article about the projection https://www.tandfonline.com/doi/full/10.1080/00087041.2022.2097758

That link doesn't work to read the paper, at least without US$58.   Is
there really no preprint or author website copy?

From anitagraser at gmx.at  Sat Dec 31 02:51:25 2022
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 31 Dec 2022 10:51:25 +0000
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
In-Reply-To: <d5338bc2e044121639bc7239062265d1@carto.net>
References: <d5338bc2e044121639bc7239062265d1@carto.net>
Message-ID: <1672483760381.3330462945.169297958@gmx.at>

Hi Raymond,


I'm planning to publish a "Save the date" post (similar to
https://blog.qgis.org/2022/05/03/save-the-date-qgis-contributor-meeting-in-firenze/
on Jan 2nd. Please let me know if you want to add some particular piece of
information.


Regards,
Anita


On Monday, 19. December 2022 11:15:14 (+01:00), Andreas Neumann via
QGIS-Developer wrote:



Hi Raymond,

This is great news! Looking foward to a great week of QGIS presentations,
meetings, discussions, etc.

Happy to see the continuation of the QGIS user conference after the COVID
break!

Thank you for accepting this challenge with your local team!

Andreas

On 2022-12-19 11:04, Raymond Nijssen via QGIS-Developer wrote:

Save even more dates!!

Prior to the contributor meeting there will be an International User
Conference on 18 and 19 April. Thursday the 20th is going to be an
onboarding day for newcomers to the hackfest.

Details will follow soon. All six days are going to take place in the same
venue.

Hope many developers and other QGIS badasses will be around for giving
presentations and workshops.

Kind regards,
Raymond



On 12-12-2022 09:45, Raymond Nijssen via QGIS-Developer wrote:
Dear devs and contrbs,

The next QGIS Contributor Meeting will take place:

20-23 April 2023

in 's-Hertogenbosch, The Netherlands. And it's very very likely that there
will be an International User Conference the 2 days prior to the meeting
(18+19 April). Details will follow. Please save these dates.

https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch


Kind regards,
Raymond
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer





--
Anita Graser
Home: http://anitagraser.com
Twitter: @underdarkgis
Mastodon: @underdarkgis at fosstodon.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20221231/989bfa61/attachment.htm>

From r.nijssen at terglobo.nl  Sat Dec 31 04:59:34 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Sat, 31 Dec 2022 13:59:34 +0100
Subject: [QGIS-Developer] Save the dates - Contributor Meeting 2023
In-Reply-To: <1672483760381.3330462945.169297958@gmx.at>
References: <d5338bc2e044121639bc7239062265d1@carto.net>
 <1672483760381.3330462945.169297958@gmx.at>
Message-ID: <403146d1-6c7f-3a07-1dd4-bd38861b5dcb@terglobo.nl>

Hi Anita,

Thank you. No major changes, the program is still like I posted in my 
last "save more dates" post:

April 2023
----------
Tue 18 | User Conference + Workshops
Wed 19 | User Conference + Workshops
Thu 20 | Contributor Meeting + Onboarding Day
Fri 21 | Contributor Meeting
Sat 22 | Contributor Meeting
Sun 23 | Contributor Meeting

Still working on the conference website. The "hackfest" page is this one:

https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-'s-Hertogenbosch

Kind regards,
Raymond


On 31-12-2022 11:51, Anita Graser wrote:
> Hi Raymond,
> 
> I'm planning to publish a "Save the date" post (similar to 
> https://blog.qgis.org/2022/05/03/save-the-date-qgis-contributor-meeting-in-firenze/ on Jan 2nd. Please let me know if you want to add some particular piece of information.
> 
> Regards,
> Anita
> 
> 
> On Monday, 19. December 2022 11:15:14 (+01:00), Andreas Neumann via 
> QGIS-Developer wrote:
> 
>     Hi Raymond,
> 
>     This is great news! Looking foward to a great week of QGIS
>     presentations, meetings, discussions, etc.
> 
>     Happy to see the continuation of the QGIS user conference after the
>     COVID break!
> 
>     Thank you for accepting this challenge with your local team!
> 
>     Andreas
> 
>     On 2022-12-19 11:04, Raymond Nijssen via QGIS-Developer wrote:
> 
>>     Save?even?more?dates!!
>>
>>     Prior to the contributor meeting there will be an International
>>     User Conference on 18 and 19 April. Thursday the 20th is going to
>>     be an onboarding day for newcomers to the hackfest.
>>
>>     Details will follow soon. All six days are going to take place in
>>     the same venue.
>>
>>     Hope many developers and other QGIS badasses will be around for
>>     giving presentations and workshops.
>>
>>     Kind?regards,
>>     Raymond
>>
>>
>>
>>     On?12-12-2022?09:45,?Raymond?Nijssen?via?QGIS-Developer?wrote:
>>>     Dear?devs?and?contrbs,
>>>
>>>     The?next?QGIS?Contributor?Meeting?will?take?place:
>>>
>>>     20-23?April?2023
>>>
>>>     in 's-Hertogenbosch, The Netherlands. And it's very very likely
>>>     that there will be an International User Conference the 2 days
>>>     prior to the meeting (18+19 April). Details will follow. Please
>>>     save these dates.
>>>
>>>     https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in-
>>>     <https://github.com/qgis/QGIS/wiki/25th-Contributor-Meeting-in->'s-Hertogenbosch
>>>
>>>     Kind?regards,
>>>     Raymond
>>>     _______________________________________________
>>>     QGIS-Developer?mailing?list
>>>     QGIS-Developer at lists.osgeo.org
>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>     List?info:
>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>     Unsubscribe:
>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     _______________________________________________
>>     QGIS-Developer?mailing?list
>>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>     List?info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> -- 
> Anita Graser
> Home: http://anitagraser.com
> Twitter: @underdarkgis
> Mastodon: @underdarkgis at fosstodon.org

