From fhuettmann at alaska.edu  Fri Nov  1 03:42:08 2019
From: fhuettmann at alaska.edu (Falk Huettmann)
Date: Fri, 1 Nov 2019 02:42:08 -0800
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
Message-ID: <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>

Dear Colleagues,
thanks, if I may weigh in here re. metadata:

Metadata remain key to whatever you do in computing and in the public eye.
Lack of standardized, and good and accepted, visionary metadata, are the
wide failure
of most (software) projects, and if they want to remain and be of wider,
global relevance.
While additional internal notes might be good, or useful, metadata must all
be public, as a scheme.

Now, people have thought about it for decades already,
and there are FGDC geospatial metadata to work from and to use.
Those are the high detail ISO standards, and beyond.
Without following those logics, and also the libraries, governments,
science funders etc
and their online repositories to link to, the metadata will go nowhere.

Metadata cannot, and must not, be done as a home brew and as a quick fix.
We see wide failures there in R and its analysis tools, or in GRASS GIS etc.
(=hand drawn manuals or internal reviews are not cutting it).

I refer people to the Metadata Wizard by USGS as one of several 'rocks'
and main pillars to consider here. Using Metadata Light instead are not
cutting it.

Arguably, innovation in metadata is good, but I assume technically it is
XML as the platform with the stylesheets etc in ISO.

Just my few 2 cents on the issue.
Very best
  Falk

PS There is an earlier plugin in QGIS that does FGDC metadata but it does
not work. Any pointers
on how to fix it ? That would be VAST progress and benefit QGIS indeed.







On Thu, Oct 31, 2019 at 9:52 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Fri, 1 Nov 2019 at 02:42, Alessandro Pasotti <apasotti at gmail.com>
> wrote:
>
> > IMO what is missing here is a bridge between the new metadata API in
> QGIS core and the "old" QGIS server metadata API.
>
> It was always a deliberate choice to keep these two separate. The
> thinking was that the metadata you use for your local projects and
> layers isn't necessarily going to match what you want to publish and
> advertise to external users. You might have sensitive information in
> there, or just "internal only" details which you don't want/need to
> publish.
>
> I think all that's missing here is a button to auto-populate server
> metadata by copying it from the project or layer metadata. It'd give a
> quick way to initial populate the published metadata, which you could
> then tweak as needed...
>
> Nyall
>
>
> >
> >
> >>
> >> On Thu, Oct 31, 2019 at 11:47 AM Paolo Cavallini <cavallini at faunalia.it>
> wrote:
> >> >
> >> > Thanks Ale for the explanation. Indeed, a suboptimal situation.
> >> > Perhaps worth an ad hoc crowdfunding.
> >> > Cheers.
> >> >
> >> > Il 31/10/19 16:40, Alessandro Pasotti ha scritto:
> >> > >
> >> > > On Thu, Oct 31, 2019 at 4:28 PM Paolo Cavallini <
> cavallini at faunalia.it
> >> > > <mailto:cavallini at faunalia.it>> wrote:
> >> > >
> >> > >     Hi all,
> >> > >     apparently our server does not expose the metadata stored in
> the project
> >> > >     and layer properties:
> >> > >     * is this true?
> >> > >
> >> > >
> >> > > There is a metadata section in the server configuration (Service
> >> > > Capabilities) of the project properties, modeled on WMS/WFS
> metadata,
> >> > > they are exposed. The sad thing is that when the new metadata
> framework
> >> > > was developed it was not connected with the existing server
> metadata, so
> >> > > we currently have two separate APIs for metadata, the old very
> limited
> >> > > one for the server and the new one. On the other hand, the old
> existing
> >> > > API is exactly what was required by WMS/WFS.
> >> > >
> >> > >
> >> > >     * is there any reason for this, besides the usual lack of
> resources to
> >> > >     implement it?
> >> > >
> >> > >
> >> > > Not that I'm aware of.
> >> > >
> >> > >
> >> > >     * anyone has estimates or plans to implement it?
> >> > >
> >> > >
> >> > > Not that I'm aware of.
> >> > >
> >> > > I though about it for WFS3 but I couldn't find the time/resources
> to do
> >> > > anything (mainly because of missing API in the server), for now I've
> >> > > just implemented what was available in the server's WFS code.
> >> > >
> >> > >
> >> > >
> >> > >     Moreover, I wonder how users are managing their metadata from
> QGIS, now
> >> > >     that several plugins that helped compiling them are not
> available for
> >> > >     current versions. Any feedback will be appreciated.
> >> > >     Cheers.
> >> > >     --
> >> > >     Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu>
> >> > >     QGIS.ORG <http://QGIS.ORG> Chair:
> >> > >     http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> >> > >     _______________________________________________
> >> > >     QGIS-Developer mailing list
> >> > >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >> > >     List info:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > >     Unsubscribe:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > >
> >> > >
> >> > >
> >> > > --
> >> > > Alessandro Pasotti
> >> > > w3:   www.itopen.it <http://www.itopen.it>
> >> > >
> >> > > _______________________________________________
> >> > > QGIS-Developer mailing list
> >> > > QGIS-Developer at lists.osgeo.org
> >> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > > Unsubscribe:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > >
> >> >
> >> > --
> >> > Paolo Cavallini - www.faunalia.eu
> >> > QGIS.ORG Chair:
> >> > http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> >> > _______________________________________________
> >> > QGIS-Developer mailing list
> >> > QGIS-Developer at lists.osgeo.org
> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3:   www.itopen.it
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/2c501dd6/attachment-0001.html>

From matthias at opengis.ch  Fri Nov  1 04:17:52 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 1 Nov 2019 12:17:52 +0100
Subject: [QGIS-Developer] Tests failing
Message-ID: <82621273-7c70-f088-5989-b51f78235037@opengis.ch>

/Public service announcement/

All tests are currently failing.

The root cause of it is that an external service has changed the 
download location for a tool that we run tests against.

We are working on this and the infrastructure if all goes well, the 
infrastructure is back up and running soon.

Kind regards

-- 
Matthias Kuhn
matthias at opengis.ch <mailto:matthias at opengis.ch>
+41 (0)76 435 67 63 <tel:+41764356763>
OPENGIS.ch Logo <http://www.opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/4c38723d/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/4c38723d/attachment.png>

From matthias at opengis.ch  Fri Nov  1 04:38:16 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 1 Nov 2019 12:38:16 +0100
Subject: [QGIS-Developer] Tests failing
In-Reply-To: <82621273-7c70-f088-5989-b51f78235037@opengis.ch>
References: <82621273-7c70-f088-5989-b51f78235037@opengis.ch>
Message-ID: <882bbb23-fd40-161d-0ebd-9a44f1795daa@opengis.ch>

Hi again,

It's fixed and the backport to 3.10 is in the pipeline.

If you have some failed tests from the last 12 hours, please close and 
reopen your pull request which will trigger a new test run with this fix 
included.

Enjoy the Friday

Matthias

On 11/1/19 12:17 PM, Matthias Kuhn wrote:
>
> /Public service announcement/
>
> All tests are currently failing.
>
> The root cause of it is that an external service has changed the 
> download location for a tool that we run tests against.
>
> We are working on this and the infrastructure if all goes well, the 
> infrastructure is back up and running soon.
>
> Kind regards
>
> -- 
> Matthias Kuhn
> matthias at opengis.ch <mailto:matthias at opengis.ch>
> +41 (0)76 435 67 63 <tel:+41764356763>
> OPENGIS.ch Logo <http://www.opengis.ch>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/b4b9bd39/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/b4b9bd39/attachment.png>

From jukka.rahkonen at maanmittauslaitos.fi  Fri Nov  1 04:49:11 2019
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Fri, 1 Nov 2019 11:49:11 +0000
Subject: [QGIS-Developer] Can't edot OGC API Features connection
Message-ID: <40b15d4da1a04406846c1d688900da8c@C119S212VM042.msvyvi.vaha.local>

Hi,

It seems to me that if I edit the settings of the OGC API Features connection the changes do not have any effect but I must delete and re-create the connection instead.

Also, I see a message "The download limit has been reached. You may want to check the 'Only request features overlapping the view extent' option to be able to zoom in to fetch all data" but I can't see such option in the user interface.

-Jukka Rahkonen-
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/803b2390/attachment-0001.html>

From apasotti at gmail.com  Fri Nov  1 04:55:59 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 1 Nov 2019 12:55:59 +0100
Subject: [QGIS-Developer] Tests failing
In-Reply-To: <882bbb23-fd40-161d-0ebd-9a44f1795daa@opengis.ch>
References: <82621273-7c70-f088-5989-b51f78235037@opengis.ch>
 <882bbb23-fd40-161d-0ebd-9a44f1795daa@opengis.ch>
Message-ID: <CAL5Q670QZzNS2Zgc46auYJ7cfMweyPvGCQCXxs6kVv4jJQmyPg@mail.gmail.com>

Thank you for the update!
And for fixing it ;)

On Fri, Nov 1, 2019, 12:38 Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi again,
>
> It's fixed and the backport to 3.10 is in the pipeline.
>
> If you have some failed tests from the last 12 hours, please close and
> reopen your pull request which will trigger a new test run with this fix
> included.
>
> Enjoy the Friday
>
> Matthias
> On 11/1/19 12:17 PM, Matthias Kuhn wrote:
>
> *Public service announcement*
>
> All tests are currently failing.
>
> The root cause of it is that an external service has changed the download
> location for a tool that we run tests against.
>
> We are working on this and the infrastructure if all goes well, the
> infrastructure is back up and running soon.
>
> Kind regards
> --
> Matthias Kuhn
> matthias at opengis.ch
> +41 (0)76 435 67 63 <+41764356763>
> [image: OPENGIS.ch Logo] <http://www.opengis.ch>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/688408c1/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/688408c1/attachment.png>

From tim at kartoza.com  Fri Nov  1 05:30:04 2019
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 1 Nov 2019 12:30:04 +0000
Subject: [QGIS-Developer] Tests failing
In-Reply-To: <CAL5Q670QZzNS2Zgc46auYJ7cfMweyPvGCQCXxs6kVv4jJQmyPg@mail.gmail.com>
References: <82621273-7c70-f088-5989-b51f78235037@opengis.ch>
 <882bbb23-fd40-161d-0ebd-9a44f1795daa@opengis.ch>
 <CAL5Q670QZzNS2Zgc46auYJ7cfMweyPvGCQCXxs6kVv4jJQmyPg@mail.gmail.com>
Message-ID: <02B0B081-140D-4FE3-AA9D-1D33E59E775D@kartoza.com>

Hi

Nice to know you are keeping all this stuff together @Matthias! Thanks!

> On 1 Nov 2019, at 11:55, Alessandro Pasotti <apasotti at gmail.com> wrote:
> 
> Thank you for the update!
> And for fixing it ;)
> 
> On Fri, Nov 1, 2019, 12:38 Matthias Kuhn <matthias at opengis.ch <mailto:matthias at opengis.ch>> wrote:
> Hi again,
> 
> It's fixed and the backport to 3.10 is in the pipeline.
> 
> If you have some failed tests from the last 12 hours, please close and reopen your pull request which will trigger a new test run with this fix included.
> 
> Enjoy the Friday
> 
> Matthias
> 
> On 11/1/19 12:17 PM, Matthias Kuhn wrote:
>> Public service announcement
>> 
>> All tests are currently failing.
>> 
>> The root cause of it is that an external service has changed the download location for a tool that we run tests against.
>> 
>> We are working on this and the infrastructure if all goes well, the infrastructure is back up and running soon.
>> 
>> Kind regards
>> 
>> -- 
>> Matthias Kuhn
>> matthias at opengis.ch  <mailto:matthias at opengis.ch>
>> +41 (0)76 435 67 63 <tel:+41764356763>
>>  <http://www.opengis.ch/>
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer><image.png>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/e7076d9c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/e7076d9c/attachment-0001.jpg>

From cavallini at faunalia.it  Fri Nov  1 06:28:30 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 01 Nov 2019 14:28:30 +0100
Subject: [QGIS-Developer] Tests failing
In-Reply-To: <82621273-7c70-f088-5989-b51f78235037@opengis.ch>
References: <82621273-7c70-f088-5989-b51f78235037@opengis.ch>
Message-ID: <73C28457-B075-4791-8B0B-B98EEDC58F76@faunalia.it>

Thanks Matthias for the update.
Cheers.

On 1 November 2019 12:17:52 CET, Matthias Kuhn <matthias at opengis.ch> wrote:
>/Public service announcement/
>
>All tests are currently failing.
>
>The root cause of it is that an external service has changed the 
>download location for a tool that we run tests against.
>
>We are working on this and the infrastructure if all goes well, the 
>infrastructure is back up and running soon.
>
>Kind regards
>
>-- 
>Matthias Kuhn
>matthias at opengis.ch <mailto:matthias at opengis.ch>
>+41 (0)76 435 67 63 <tel:+41764356763>
>OPENGIS.ch Logo <http://www.opengis.ch>

-- 
Please excuse my brevity.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191101/5117f72c/attachment.html>

From noreply at qgis.org  Fri Nov  1 06:29:37 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Nov 2019 13:29:37 -0000
Subject: [QGIS-Developer] =?utf-8?q?Plugin_=5B1871=5D_Oblicz_wysoko=C5=9B?=
 =?utf-8?q?=C4=87_=28GUGiK_NMT=29_approval_notification=2E?=
Message-ID: <20191101132937.24289.63574@2c6504964296>


Plugin Oblicz wysokość (GUGiK NMT) approval by pcav.
The plugin version "[1871] Oblicz wysokość (GUGiK NMT) 0.2" is now approved
Link: http://plugins.qgis.org/plugins/ObliczWysokosc/

From even.rouault at spatialys.com  Fri Nov  1 08:03:56 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 01 Nov 2019 16:03:56 +0100
Subject: [QGIS-Developer] Can't edot OGC API Features connection
In-Reply-To: <40b15d4da1a04406846c1d688900da8c@C119S212VM042.msvyvi.vaha.local>
References: <40b15d4da1a04406846c1d688900da8c@C119S212VM042.msvyvi.vaha.local>
Message-ID: <9051714.iErmAdtXZc@even-i700>

On vendredi 1 novembre 2019 11:49:11 CET Rahkonen Jukka (MML) wrote:
> Hi,
> 
> It seems to me that if I edit the settings of the OGC API Features
> connection the changes do not have any effect but I must delete and
> re-create the connection instead.

If you modify it from the Browser right ? I can also reproduce that too, with 
it WFS, or other datasources like WMS. Probably worth filing a bug about that 
if there isn't already one.
If you use the Data Source Manager, changes are properly taken into account.
> 
> Also, I see a message "The download limit has been reached. You may want to
> check the 'Only request features overlapping the view extent' option to be
> able to zoom in to fetch all data" but I can't see such option in the user
> interface.

It is available from the Data Source Manager. At the bottom of the right part 
of the window when you select the WFS/OAPIF category. 
I'm surprised you see this message:
- normally it should appear only if you define a maximum number of features to 
download
- and the "Only request features overlapping the view extent" is supposed to 
be the default, but maybe you unchecked it in a previous session.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From noreply at qgis.org  Fri Nov  1 13:58:52 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Nov 2019 20:58:52 -0000
Subject: [QGIS-Developer] Plugin [923] Azimuth Measurement approval
	notification.
Message-ID: <20191101205852.23908.39331@2c6504964296>


Plugin Azimuth Measurement approval by pcav.
The plugin version "[923] Azimuth Measurement 0.2.2" is now approved
Link: http://plugins.qgis.org/plugins/AzimuthMeasurement/

From noreply at qgis.org  Fri Nov  1 14:01:24 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Nov 2019 21:01:24 -0000
Subject: [QGIS-Developer] Plugin [1669] EnMAP-Box 3 approval notification.
Message-ID: <20191101210124.23859.45456@2c6504964296>


Plugin EnMAP-Box 3 approval by pcav.
The plugin version "[1669] EnMAP-Box 3 3.5.20191101T1710.master" is now approved
Link: http://plugins.qgis.org/plugins/enmapboxplugin/

From noreply at qgis.org  Sat Nov  2 01:41:50 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 02 Nov 2019 08:41:50 -0000
Subject: [QGIS-Developer] Plugin [500] Vgi2Shp approval notification.
Message-ID: <20191102084150.24289.37381@2c6504964296>


Plugin Vgi2Shp approval by pcav.
The plugin version "[500] Vgi2Shp 3.0.2" is now approved
Link: http://plugins.qgis.org/plugins/Vgi2ShpConverter/

From cavallini at faunalia.it  Sat Nov  2 01:47:45 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 02 Nov 2019 09:47:45 +0100
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
 <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
Message-ID: <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>

Hi Falk,

Il 2019-11-01 11:42 Falk Huettmann ha scritto:

> PS There is an earlier plugin in QGIS that does FGDC metadata but it
> does not work. Any pointers
> on how to fix it ? That would be VAST progress and benefit QGIS
> indeed.

Porting the plugin to QGIS 3 should be reasonably easy. You are 
encouraged to do it yourself, if you have some programming skills, or 
support the necessary work by one of the developers. I'm sure this will 
be appreciated, possibly other could help.
Please let us know if you need some more info.
Cheers.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From cavallini at faunalia.it  Sat Nov  2 02:34:56 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 02 Nov 2019 10:34:56 +0100
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
Message-ID: <29ab1a2956dbc284e7afd0898843abc8@faunalia.it>

Hi Nyall,

Il 2019-11-01 06:52 Nyall Dawson ha scritto:
> On Fri, 1 Nov 2019 at 02:42, Alessandro Pasotti <apasotti at gmail.com> 
> wrote:
> 
>> IMO what is missing here is a bridge between the new metadata API in 
>> QGIS core and the "old" QGIS server metadata API.
> 
> It was always a deliberate choice to keep these two separate. The
> thinking was that the metadata you use for your local projects and
> layers isn't necessarily going to match what you want to publish and
> advertise to external users. You might have sensitive information in
> there, or just "internal only" details which you don't want/need to
> publish.
> 
> I think all that's missing here is a button to auto-populate server
> metadata by copying it from the project or layer metadata. It'd give a
> quick way to initial populate the published metadata, which you could
> then tweak as needed...

I see your point, thanks for the explanation. I'm not sure users need 
different info on the desktop and on the server (we solved the issue for 
services just adding an option to hide WMS, WFS services, as well as 
individual fields), but of course more flexibility is not bad to have.
Not clear to me also how to add the metadata directly to the server.

Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From fhuettmann at alaska.edu  Sat Nov  2 10:46:39 2019
From: fhuettmann at alaska.edu (Falk Huettmann)
Date: Sat, 2 Nov 2019 09:46:39 -0800
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
 <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
 <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>
Message-ID: <CA+BKNPCYK+roPtrPANm7gsC-fuTvg+S71te8S+=ME1Jb6xXpPg@mail.gmail.com>

Dear Paolo.
thanks, I see the plugin,
but the owners of the site do not reply and
I do not know more details, and how to do and approach it.
Open for suggestions.
Thanks; very best
   Falk

On Sat, Nov 2, 2019 at 12:47 AM Paolo Cavallini <cavallini at faunalia.it>
wrote:

> Hi Falk,
>
> Il 2019-11-01 11:42 Falk Huettmann ha scritto:
>
> > PS There is an earlier plugin in QGIS that does FGDC metadata but it
> > does not work. Any pointers
> > on how to fix it ? That would be VAST progress and benefit QGIS
> > indeed.
>
> Porting the plugin to QGIS 3 should be reasonably easy. You are
> encouraged to do it yourself, if you have some programming skills, or
> support the necessary work by one of the developers. I'm sure this will
> be appreciated, possibly other could help.
> Please let us know if you need some more info.
> Cheers.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191102/8bf8ac0a/attachment.html>

From cavallini at faunalia.it  Sat Nov  2 10:52:20 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 02 Nov 2019 18:52:20 +0100
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <CA+BKNPCYK+roPtrPANm7gsC-fuTvg+S71te8S+=ME1Jb6xXpPg@mail.gmail.com>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
 <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
 <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>
 <CA+BKNPCYK+roPtrPANm7gsC-fuTvg+S71te8S+=ME1Jb6xXpPg@mail.gmail.com>
Message-ID: <82C81DCF-379F-4669-81F2-052EB20F1138@faunalia.it>

Hi Falk,
this is free software. If the original author does not respond, anyone can go ahead and do the potting.
Do not hesitate asking for help.
All the best.

On 2 November 2019 18:46:39 CET, Falk Huettmann <fhuettmann at alaska.edu> wrote:
>Dear Paolo.
>thanks, I see the plugin,
>but the owners of the site do not reply and
>I do not know more details, and how to do and approach it.
>Open for suggestions.
>Thanks; very best
>   Falk
>
>On Sat, Nov 2, 2019 at 12:47 AM Paolo Cavallini <cavallini at faunalia.it>
>wrote:
>
>> Hi Falk,
>>
>> Il 2019-11-01 11:42 Falk Huettmann ha scritto:
>>
>> > PS There is an earlier plugin in QGIS that does FGDC metadata but
>it
>> > does not work. Any pointers
>> > on how to fix it ? That would be VAST progress and benefit QGIS
>> > indeed.
>>
>> Porting the plugin to QGIS 3 should be reasonably easy. You are
>> encouraged to do it yourself, if you have some programming skills, or
>> support the necessary work by one of the developers. I'm sure this
>will
>> be appreciated, possibly other could help.
>> Please let us know if you need some more info.
>> Cheers.
>>
>> --
>> Paolo Cavallini - www.faunalia.eu
>> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>>

-- 
Please excuse my brevity.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191102/e78e218d/attachment.html>

From fhuettmann at alaska.edu  Sat Nov  2 11:01:37 2019
From: fhuettmann at alaska.edu (Falk Huettmann)
Date: Sat, 2 Nov 2019 10:01:37 -0800
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <82C81DCF-379F-4669-81F2-052EB20F1138@faunalia.it>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
 <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
 <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>
 <CA+BKNPCYK+roPtrPANm7gsC-fuTvg+S71te8S+=ME1Jb6xXpPg@mail.gmail.com>
 <82C81DCF-379F-4669-81F2-052EB20F1138@faunalia.it>
Message-ID: <CA+BKNPAcxfA_skQ2+ODMDNehM-_UixxMadQVqaPxOiadC1AjSw@mail.gmail.com>

...it's this one that features FGDC metadata for QGIS and which is not
loading/dead
http://wiki.gis-lab.info/w/Working_with_metadata_using_Metatools_for_QGIS
but without seeing their (plugin) details my expertise ends there.

Ideally, it needs to be updated to and include Metavist Wizard (latest
version of the US gov)
https://www.fgdc.gov/metadata/geospatial-metadata-tools
listed in here:
https://www.fgdc.gov/metadata/geospatial-metadata-tools

Open for ideas and to discuss options (in oerson best).
Very best
  Falk Huettmann PhD, Professor
    Uni of Alaska Fairbanks



On Sat, Nov 2, 2019 at 9:52 AM Paolo Cavallini <cavallini at faunalia.it>
wrote:

> Hi Falk,
> this is free software. If the original author does not respond, anyone can
> go ahead and do the potting.
> Do not hesitate asking for help.
> All the best.
>
> On 2 November 2019 18:46:39 CET, Falk Huettmann <fhuettmann at alaska.edu>
> wrote:
>>
>> Dear Paolo.
>> thanks, I see the plugin,
>> but the owners of the site do not reply and
>> I do not know more details, and how to do and approach it.
>> Open for suggestions.
>> Thanks; very best
>>    Falk
>>
>> On Sat, Nov 2, 2019 at 12:47 AM Paolo Cavallini <cavallini at faunalia.it>
>> wrote:
>>
>>> Hi Falk,
>>>
>>> Il 2019-11-01 11:42 Falk Huettmann ha scritto:
>>>
>>> > PS There is an earlier plugin in QGIS that does FGDC metadata but it
>>> > does not work. Any pointers
>>> > on how to fix it ? That would be VAST progress and benefit QGIS
>>> > indeed.
>>>
>>> Porting the plugin to QGIS 3 should be reasonably easy. You are
>>> encouraged to do it yourself, if you have some programming skills, or
>>> support the necessary work by one of the developers. I'm sure this will
>>> be appreciated, possibly other could help.
>>> Please let us know if you need some more info.
>>> Cheers.
>>>
>>> --
>>> Paolo Cavallini - www.faunalia.eu
>>> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>>>
>>
> --
> Please excuse my brevity.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191102/021557e1/attachment-0001.html>

From noreply at qgis.org  Sun Nov  3 12:38:55 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 03 Nov 2019 20:38:55 -0000
Subject: [QGIS-Developer] Plugin [1865] Spectre Viewer approval notification.
Message-ID: <20191103203855.24289.41328@2c6504964296>


Plugin Spectre Viewer approval by pcav.
The plugin version "[1865] Spectre Viewer 0.9" is now approved
Link: http://plugins.qgis.org/plugins/qgisSpectre/

From noreply at qgis.org  Mon Nov  4 01:00:14 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 04 Nov 2019 09:00:14 -0000
Subject: [QGIS-Developer] Plugin [1430] HCMGIS approval notification.
Message-ID: <20191104090014.23889.69681@2c6504964296>


Plugin HCMGIS approval by pcav.
The plugin version "[1430] HCMGIS 19.11.4" is now approved
Link: http://plugins.qgis.org/plugins/HCMGIS/

From paul.vangenuchten at geocat.net  Mon Nov  4 01:06:31 2019
From: paul.vangenuchten at geocat.net (Paul van Genuchten)
Date: Mon, 4 Nov 2019 10:06:31 +0100
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <mailman.62640.1572540099.17185.qgis-developer@lists.osgeo.org>
References: <mailman.62640.1572540099.17185.qgis-developer@lists.osgeo.org>
Message-ID: <5DA34AF9-BEAB-4C76-8019-2106EF17514C@geocat.net>

Hi, thank you for interesting QGIS server and metadata discussion, I have a couple of thoughts to add:
- Related to FGDC support, since QGIS manages metadata in a local model, the capability is requested to import from and export to FGDC metadata, and potentially extend the local model to support important fields of FGDC. In our bridge product we foresee capabilities to import/export to iso19139 metadata, but would be interesting to also see FGDC support (see https://github.com/GeoCat/qgis-bridge-plugin/issues/6 <https://github.com/GeoCat/qgis-bridge-plugin/issues/6>)
- A getcapabilities typically exposes metadata in 2 ways, a limited set of properties embedded in service and layer metadata in getcapabilities (contact, title, abstract, keywords) and for each layer a link to an external document having detailed metadata. For the first set it makes sense to use metadata stored in the QGIS project directly. For the second set this will be a bit harder, since the metadata stored in the project is not necessarily exposed externally as a document. QGIS server would need a catalogue capability to facilitate this use case. An alternative could be to ‘publish’ records in an external catalogue instance (pycsw/geonetwork), and store locally a reference to where the metadata for a layer is published.  The bridge plugin already supports this use case as it publishes local records to an external catalog. A thing to consider is that metadata records exposed to the web typically require a common metadata model such as iso19115/FGDC, so the catalog component needs to have a capability to expose records in those models (or a transformation should be done while publishing the record).
I would love to hear how people envision these workflows and how they see the bridge plugin would be able to contribute.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/d9131c7b/attachment.html>

From noreply at qgis.org  Mon Nov  4 01:37:47 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 04 Nov 2019 09:37:47 -0000
Subject: [QGIS-Developer] Plugin [1430] HCMGIS approval notification.
Message-ID: <20191104093747.23908.87320@2c6504964296>


Plugin HCMGIS approval by pcav.
The plugin version "[1430] HCMGIS 19.11.5" is now approved
Link: http://plugins.qgis.org/plugins/HCMGIS/

From cavallini at faunalia.it  Mon Nov  4 01:43:20 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 4 Nov 2019 10:43:20 +0100
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <5DA34AF9-BEAB-4C76-8019-2106EF17514C@geocat.net>
References: <mailman.62640.1572540099.17185.qgis-developer@lists.osgeo.org>
 <5DA34AF9-BEAB-4C76-8019-2106EF17514C@geocat.net>
Message-ID: <29a84975-66b6-eba4-6578-5f1923b691fa@faunalia.it>

Thanks a lot Paul.
I believe closing the gap, and have a complete workflow, is important to
QGIS, so comments will be greatly appreciated.
All the best.

Il 04/11/19 10:06, Paul van Genuchten ha scritto:
> Hi, thank you for interesting QGIS server and metadata discussion, I
> have a couple of thoughts to add:
> - Related to FGDC support, since QGIS manages metadata in a local model,
> the capability is requested to import from and export to FGDC metadata,
> and potentially extend the local model to support important fields of
> FGDC. In our bridge product we foresee capabilities to import/export to
> iso19139 metadata, but would be interesting to also see FGDC support
> (see https://github.com/GeoCat/qgis-bridge-plugin/issues/6)
> - A getcapabilities typically exposes metadata in 2 ways, a limited set
> of properties embedded in service and layer metadata in getcapabilities
> (contact, title, abstract, keywords) and for each layer a link to an
> external document having detailed metadata. For the first set it makes
> sense to use metadata stored in the QGIS project directly. For the
> second set this will be a bit harder, since the metadata stored in the
> project is not necessarily exposed externally as a document. QGIS server
> would need a catalogue capability to facilitate this use case. An
> alternative could be to ‘publish’ records in an external catalogue
> instance (pycsw/geonetwork), and store locally a reference to where the
> metadata for a layer is published.  The bridge plugin already supports
> this use case as it publishes local records to an external catalog. A
> thing to consider is that metadata records exposed to the web typically
> require a common metadata model such as iso19115/FGDC, so the catalog
> component needs to have a capability to expose records in those models
> (or a transformation should be done while publishing the record).
> I would love to hear how people envision these workflows and how they
> see the bridge plugin would be able to contribute.
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Mon Nov  4 01:46:11 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 4 Nov 2019 10:46:11 +0100
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <CA+BKNPAcxfA_skQ2+ODMDNehM-_UixxMadQVqaPxOiadC1AjSw@mail.gmail.com>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
 <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
 <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>
 <CA+BKNPCYK+roPtrPANm7gsC-fuTvg+S71te8S+=ME1Jb6xXpPg@mail.gmail.com>
 <82C81DCF-379F-4669-81F2-052EB20F1138@faunalia.it>
 <CA+BKNPAcxfA_skQ2+ODMDNehM-_UixxMadQVqaPxOiadC1AjSw@mail.gmail.com>
Message-ID: <2f14494e-2ffb-4793-6e32-c5c46b29271f@faunalia.it>

Hi Falk,

Il 02/11/19 19:01, Falk Huettmann ha scritto:
> ...it's this one that features FGDC metadata for QGIS and which is not
> loading/dead
> http://wiki.gis-lab.info/w/Working_with_metadata_using_Metatools_for_QGIS 
> but without seeing their (plugin) details my expertise ends there.

I think you should be able to install and test the plugin on a previous
QGIS version (2.18 should be suitable, and available through our
archives). If this fits your needs, porting would be reasonably easy, as
mentioned.

> Ideally, it needs to be updated to and include Metavist Wizard (latest
> version of the US gov)
> https://www.fgdc.gov/metadata/geospatial-metadata-tools 
> listed in here:
> https://www.fgdc.gov/metadata/geospatial-metadata-tools 

let's first see if porting makes sense, then further improvements can be
explored.
Cheers.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From tim at kartoza.com  Mon Nov  4 04:36:04 2019
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 4 Nov 2019 12:36:04 +0000
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <2f14494e-2ffb-4793-6e32-c5c46b29271f@faunalia.it>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
 <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
 <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>
 <CA+BKNPCYK+roPtrPANm7gsC-fuTvg+S71te8S+=ME1Jb6xXpPg@mail.gmail.com>
 <82C81DCF-379F-4669-81F2-052EB20F1138@faunalia.it>
 <CA+BKNPAcxfA_skQ2+ODMDNehM-_UixxMadQVqaPxOiadC1AjSw@mail.gmail.com>
 <2f14494e-2ffb-4793-6e32-c5c46b29271f@faunalia.it>
Message-ID: <14E979BB-BF69-4A75-8FE8-10ED56754DD2@kartoza.com>

Hi Falk

That plugin you mention is for QGIS 1.x. As far as I know it is not ported to ver 2 or ver 3 of QGIS. In the current version of QGIS a better approach would be to implement a convertor tool that exports QGIS’s internal format to FDGC. If you are interested in funding this work please chat to me, we have some plans to provide a generic metadata exchange library that can integrate with QGIS but it needs funders.

Regards

Tim

> On 4 Nov 2019, at 09:46, Paolo Cavallini <cavallini at faunalia.it> wrote:
> 
> Hi Falk,
> 
> Il 02/11/19 19:01, Falk Huettmann ha scritto:
>> ...it's this one that features FGDC metadata for QGIS and which is not
>> loading/dead
>> http://wiki.gis-lab.info/w/Working_with_metadata_using_Metatools_for_QGIS 
>> but without seeing their (plugin) details my expertise ends there.
> 
> I think you should be able to install and test the plugin on a previous
> QGIS version (2.18 should be suitable, and available through our
> archives). If this fits your needs, porting would be reasonably easy, as
> mentioned.
> 
>> Ideally, it needs to be updated to and include Metavist Wizard (latest
>> version of the US gov)
>> https://www.fgdc.gov/metadata/geospatial-metadata-tools 
>> listed in here:
>> https://www.fgdc.gov/metadata/geospatial-metadata-tools 
> 
> let's first see if porting makes sense, then further improvements can be
> explored.
> Cheers.
> 
> -- 
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/8897bbee/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/8897bbee/attachment-0001.jpg>

From regis.haubourg at gmail.com  Mon Nov  4 05:09:42 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 4 Nov 2019 14:09:42 +0100
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <14E979BB-BF69-4A75-8FE8-10ED56754DD2@kartoza.com>
References: <1695ff63-aea0-da93-af14-a1d66cd2b96f@faunalia.it>
 <CAL5Q670mNQVLwDzToYTYmwfxDUYQACOmiVK-z49SWrD6DJF_8w@mail.gmail.com>
 <f8e463ad-2f37-6b07-1f31-daca263a7625@faunalia.it>
 <CAFWXLWU9WVnnXZ3wXrUPv5k9cO2cSHYhN1GYCMWxcyN-SND6bQ@mail.gmail.com>
 <CAL5Q672j=fXP-FKKiwFnJK6a=ksvSX=PC5-0Rt9-eFDWL_w=6A@mail.gmail.com>
 <CAB28AsizSphGcnw0ndc50KOyFvZ1XxsnreZinYtNPENQMVu=GQ@mail.gmail.com>
 <CA+BKNPA_zxxiBgJtaVBSuN_3o4Hi8XHhZf5NC=ezOC6JpmfGiA@mail.gmail.com>
 <b81e32c3636db00f961dd1a2e7f17bee@faunalia.it>
 <CA+BKNPCYK+roPtrPANm7gsC-fuTvg+S71te8S+=ME1Jb6xXpPg@mail.gmail.com>
 <82C81DCF-379F-4669-81F2-052EB20F1138@faunalia.it>
 <CA+BKNPAcxfA_skQ2+ODMDNehM-_UixxMadQVqaPxOiadC1AjSw@mail.gmail.com>
 <2f14494e-2ffb-4793-6e32-c5c46b29271f@faunalia.it>
 <14E979BB-BF69-4A75-8FE8-10ED56754DD2@kartoza.com>
Message-ID: <CABgOYCcLB8vp49S85-V7=U7DTtnonNrKAOjXQBELk-fTxEVMkg@mail.gmail.com>

Hi,
usually I use an external tool to harvest QGIS projects and create ISO / DC
metadata and push them through CWST to the catalog that is available.

Talend metadatacrawler allows this easily.  Having this embedded into QGIS
could help indeed. I would very much like the ability to handle metadata
templates so that administrator can configure most fields and let users
deal with the essential ones.  Having the ability to convert from
Dublin-core to FDGC / ISO / INSPIRE is also necessary to me. Users tend to
use Dublin core, but legal infrastructure require more advanced formats
like ISO. Moreover, creating a UI to edit the hierarchical XML structure of
ISO is quite a nightmare, and I would avoid trying to reproduce in QGIS
what took years to achieve in Geonetwork.

long story short :
+1 for editing in Dublin core, add ISO / FDGC templates and features to
export / commit via CSW-T more advanced formats. -1 to try to reimplement
one edit form per metadata format.

Cheers
Régis


Le lun. 4 nov. 2019 à 13:36, Tim Sutton <tim at kartoza.com> a écrit :

> Hi Falk
>
> That plugin you mention is for QGIS 1.x. As far as I know it is not ported
> to ver 2 or ver 3 of QGIS. In the current version of QGIS a better approach
> would be to implement a convertor tool that exports QGIS’s internal format
> to FDGC. If you are interested in funding this work please chat to me, we
> have some plans to provide a generic metadata exchange library that can
> integrate with QGIS but it needs funders.
>
> Regards
>
> Tim
>
> On 4 Nov 2019, at 09:46, Paolo Cavallini <cavallini at faunalia.it> wrote:
>
> Hi Falk,
>
> Il 02/11/19 19:01, Falk Huettmann ha scritto:
>
> ...it's this one that features FGDC metadata for QGIS and which is not
> loading/dead
> http://wiki.gis-lab.info/w/Working_with_metadata_using_Metatools_for_QGIS
> but without seeing their (plugin) details my expertise ends there.
>
>
> I think you should be able to install and test the plugin on a previous
> QGIS version (2.18 should be suitable, and available through our
> archives). If this fits your needs, porting would be reasonably easy, as
> mentioned.
>
> Ideally, it needs to be updated to and include Metavist Wizard (latest
> version of the US gov)
> https://www.fgdc.gov/metadata/geospatial-metadata-tools
> listed in here:
> https://www.fgdc.gov/metadata/geospatial-metadata-tools
>
>
> let's first see if porting makes sense, then further improvements can be
> explored.
> Cheers.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> —
>
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> I'd love to connect. Here's my calendar link
> <https://calendly.com/timlinux> to make finding time easy.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/1e08e263/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/1e08e263/attachment-0001.jpg>

From tim at kartoza.com  Mon Nov  4 05:56:19 2019
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 4 Nov 2019 13:56:19 +0000
Subject: [QGIS-Developer] QGIS server and metadata
In-Reply-To: <5DA34AF9-BEAB-4C76-8019-2106EF17514C@geocat.net>
References: <mailman.62640.1572540099.17185.qgis-developer@lists.osgeo.org>
 <5DA34AF9-BEAB-4C76-8019-2106EF17514C@geocat.net>
Message-ID: <06F19933-8009-4087-A7DC-46A77A3850D5@kartoza.com>

Hi

> On 4 Nov 2019, at 09:06, Paul van Genuchten <paul.vangenuchten at geocat.net> wrote:
> 
> Hi, thank you for interesting QGIS server and metadata discussion, I have a couple of thoughts to add:


> - Related to FGDC support, since QGIS manages metadata in a local model, the capability is requested to import from and export to FGDC metadata, and potentially extend the local model to support important fields of FGDC. In our bridge product we foresee capabilities to import/export to iso19139 metadata, but would be interesting to also see FGDC support (see https://github.com/GeoCat/qgis-bridge-plugin/issues/6 <https://github.com/GeoCat/qgis-bridge-plugin/issues/6>)
> - A getcapabilities typically exposes metadata in 2 ways, a limited set of properties embedded in service and layer metadata in getcapabilities (contact, title, abstract, keywords) and for each layer a link to an external document having detailed metadata. For the first set it makes sense to use metadata stored in the QGIS project directly. For the second set this will be a bit harder, since the metadata stored in the project is not necessarily exposed externally as a document. QGIS server would need a catalogue capability to facilitate this use case. An alternative could be to ‘publish’ records in an external catalogue instance (pycsw/geonetwork), and store locally a reference to where the metadata for a layer is published.  The bridge plugin already supports this use case as it publishes local records to an external catalog. A thing to consider is that metadata records exposed to the web typically require a common metadata model such as iso19115/FGDC, so the catalog component needs to have a capability to expose records in those models (or a transformation should be done while publishing the record).
> I would love to hear how people envision these workflows and how they see the bridge plugin would be able to contribute.

Yes me too! I would also love to hear from people who manage metadata on a daily basis in a production environment and have specific ideas about what needs to be in place in order for QGIS to be considered a ’top notch’ environment for working with metadata and GIS datasets.

Regards

Tim


> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/a220dc8e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/a220dc8e/attachment-0001.jpg>

From v.nikulishyn at gmail.com  Mon Nov  4 06:43:48 2019
From: v.nikulishyn at gmail.com (Geo_Nik)
Date: Mon, 4 Nov 2019 07:43:48 -0700 (MST)
Subject: [QGIS-Developer] Method selectedFeatures() works too slow in
 QGIS 3 Python console
In-Reply-To: <CAB28AsjF5zw+sbz-+STTEkwAQjKuqddfA7NRV5vvR1JYOrbobg@mail.gmail.com>
References: <1571904201613-0.post@n6.nabble.com>
 <CAB28AsjF5zw+sbz-+STTEkwAQjKuqddfA7NRV5vvR1JYOrbobg@mail.gmail.com>
Message-ID: <1572878628065-0.post@n6.nabble.com>

Thanks a lot. I haven't got access to the database logs.  But method works
correct in QGIS 2. I found some differences between  pyqgis2 API:
https://qgis.org/api/2.18/qgsvectorlayer_8cpp_source.html  (QGIS2 :line
2732)

and  pyqgis3 API:

https://qgis.org/api/2.18/qgsvectorlayer_8cpp_source.html  (QGIS2 :line
2732)

And one more interesting fact: Working time increase proportionally to the
number of user-selected features (Working_time ≈ n*5 min, where n - number
of user-selected features). 

And I still did not find solution this problem. If someone have some idea
please share with me. 



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jef at norbit.de  Mon Nov  4 09:39:19 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Mon, 4 Nov 2019 18:39:19 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
Message-ID: <20191104173919.kcunplf27hny7owb@norbit.de>

Hi Martin,

I added "experimental" packages to OSGeo4W (ie. only available if you tick Exp
in the OSGeo4W installer):

- PROJ 6.2.1
- GDAL 3.0.2
- liblwgeom 3.0.0
- OGDI 4.1.0
- Rebuilds of QGIS 3.10.0, QGIS 3.4.13 and spatialite 4.3.0a against the above
  packages
- Backward compatibility packages gdal204dll and proj5dll that carry the original
  DLLs from PROJ 5.2.0 and GDAL 2.4.1

The only missing bit is GRASS built against new GDAL and PROJ.  Once that's is
available I can remove the "experimental" tag.


Jürgen

-- 
Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden              https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/0b242359/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191104/0b242359/attachment.ksh>

From hellik at web.de  Mon Nov  4 09:54:00 2019
From: hellik at web.de (Helmut Kudrnovsky)
Date: Mon, 4 Nov 2019 18:54:00 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <20191104173919.kcunplf27hny7owb@norbit.de>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
Message-ID: <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>

Hi Jürgen,

just updated my OSGeo4W in normal mode (not tick Exp), QGIS, GRASS 7.8.0, I'm getting an error that gdal300.dll and proj6.2.x.dlll is missing.


regards
Helmut
 
 

Gesendet: Montag, 04. November 2019 um 18:39 Uhr
Von: "Jürgen E. Fischer" <jef at norbit.de>
An: "Martin Landa" <landa.martin at gmail.com>
Cc: grass-user at lists.osgeo.org, qgis-developer at lists.osgeo.org, osgeo4w-dev at lists.osgeo.org, "Helmut Kudrnovsky" <hellik at web.de>
Betreff: Re: WinGRASS build up (WIP)
Hi Martin,

I added "experimental" packages to OSGeo4W (ie. only available if you tick Exp
in the OSGeo4W installer):

- PROJ 6.2.1
- GDAL 3.0.2
- liblwgeom 3.0.0
- OGDI 4.1.0
- Rebuilds of QGIS 3.10.0, QGIS 3.4.13 and spatialite 4.3.0a against the above
packages
- Backward compatibility packages gdal204dll and proj5dll that carry the original
DLLs from PROJ 5.2.0 and GDAL 2.4.1

The only missing bit is GRASS built against new GDAL and PROJ. Once that's is
available I can remove the "experimental" tag.


Jürgen

--
Jürgen E. Fischer norBIT GmbH Tel. +49-4931-918175-31
Dipl.-Inf. (FH) Rheinstraße 13 Fax. +49-4931-918175-50
Software Engineer D-26506 Norden https://www.norbit.de
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Juergen Fischer, Nils Kutscher HR: Amtsgericht Aurich HRB 100827
Datenschutzerklaerung: https://www.norbit.de/83/[https://www.norbit.de/83/]

From nyall.dawson at gmail.com  Mon Nov  4 18:49:59 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Nov 2019 12:49:59 +1000
Subject: [QGIS-Developer] Method selectedFeatures() works too slow in
 QGIS 3 Python console
In-Reply-To: <1572878628065-0.post@n6.nabble.com>
References: <1571904201613-0.post@n6.nabble.com>
 <CAB28AsjF5zw+sbz-+STTEkwAQjKuqddfA7NRV5vvR1JYOrbobg@mail.gmail.com>
 <1572878628065-0.post@n6.nabble.com>
Message-ID: <CAB28AsitKETGbaAdG-mD=H2zyWdteE6pyrmVqKO4_RHbR7BCxg@mail.gmail.com>

On Tue, 5 Nov 2019 at 00:44, Geo_Nik <v.nikulishyn at gmail.com> wrote:
>
> Thanks a lot. I haven't got access to the database logs.

Unfortunately without these it's almost impossible to diagnose. The
alternative would be to setup your own debug build environment and log
the requests locally..

Nyall

  But method works
> correct in QGIS 2. I found some differences between  pyqgis2 API:
> https://qgis.org/api/2.18/qgsvectorlayer_8cpp_source.html  (QGIS2 :line
> 2732)
>
> and  pyqgis3 API:
>
> https://qgis.org/api/2.18/qgsvectorlayer_8cpp_source.html  (QGIS2 :line
> 2732)
>
> And one more interesting fact: Working time increase proportionally to the
> number of user-selected features (Working_time ≈ n*5 min, where n - number
> of user-selected features).
>
> And I still did not find solution this problem. If someone have some idea
> please share with me.
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon Nov  4 22:16:52 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Nov 2019 16:16:52 +1000
Subject: [QGIS-Developer] =?utf-8?q?QGIS_Print_Layouts_Graphs_and_Charts_C?=
	=?utf-8?q?ampaign_=E2=80=93_Complete!?=
Message-ID: <CAB28AsjUESdpQGrT=d0JAFH3_v1UFgmRDPQgrKnb9wHmTiwmOA@mail.gmail.com>

Hi all,

Just a quick heads up that our recent QGIS Print Layouts Graphs and
Charts Campaign is now complete, and you can download the results
today via the DataPlotly plugin version 3 from your QGIS plugin
install dialog!

This work was possible thanks to our partners at Faunalia GIS and
thanks to all the backers of the crowd-funding campaign.

You can read more about the new functionality here:
https://north-road.com/2019/11/05/qgis-print-layouts-graphs-and-charts-campaign-complete/

Regards,
Nyall

From matthias at opengis.ch  Tue Nov  5 01:11:38 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 5 Nov 2019 10:11:38 +0100
Subject: [QGIS-Developer] Increasing QGIS stability (clazy)
Message-ID: <0cb858ec-db70-748e-f242-cd5bf71143a0@opengis.ch>

Hi,

As you all know, Qt is heavily used by QGIS. Qt has some non-standard 
C++ concepts like signals and slots. These are very powerful but also 
bear some risks when not used properly. And it's not always easy to see 
what "properly" means.

Thanks to the folks at KDE, there is a tool named clazy 
<https://github.com/KDE/clazy#clazy-v17>, that can detect many of these 
risks at compile time. We have recently corrected a number of issues 
reported by clazy, which will result in an increased stability of QGIS.

We have also integrated clazy on our CI infrastructure (travis) which 
will help the stability of QGIS in the long run by disallowing risky 
code to enter the QGIS codebase.

Best regards


This work has been sponsored by the OPENGIS.ch Sustainability Initiative 
<https://www.opengis.ch/qgis-sustainability-initiative/>.

-- 
Matthias Kuhn
matthias at opengis.ch <mailto:matthias at opengis.ch>
+41 (0)76 435 67 63 <tel:+41764356763>
OPENGIS.ch Logo <http://www.opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/0b1650f5/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/0b1650f5/attachment.png>

From cavallini at faunalia.it  Tue Nov  5 01:18:35 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 05 Nov 2019 10:18:35 +0100
Subject: [QGIS-Developer] Increasing QGIS stability (clazy)
In-Reply-To: <0cb858ec-db70-748e-f242-cd5bf71143a0@opengis.ch>
References: <0cb858ec-db70-748e-f242-cd5bf71143a0@opengis.ch>
Message-ID: <6469A71A-DAAE-4BE2-A0FD-FC83972EE8C8@faunalia.it>

Great news, thanks Matthias, and thanks to all the donors.
Is there more documentation to help others developers not falling in these traps?
Cheers.

On 5 November 2019 10:11:38 CET, Matthias Kuhn <matthias at opengis.ch> wrote:
>Hi,
>
>As you all know, Qt is heavily used by QGIS. Qt has some non-standard 
>C++ concepts like signals and slots. These are very powerful but also 
>bear some risks when not used properly. And it's not always easy to see
>
>what "properly" means.
>
>Thanks to the folks at KDE, there is a tool named clazy 
><https://github.com/KDE/clazy#clazy-v17>, that can detect many of these
>
>risks at compile time. We have recently corrected a number of issues 
>reported by clazy, which will result in an increased stability of QGIS.
>
>We have also integrated clazy on our CI infrastructure (travis) which 
>will help the stability of QGIS in the long run by disallowing risky 
>code to enter the QGIS codebase.
>
>Best regards
>
>
>This work has been sponsored by the OPENGIS.ch Sustainability
>Initiative 
><https://www.opengis.ch/qgis-sustainability-initiative/>.
>
>-- 
>Matthias Kuhn
>matthias at opengis.ch <mailto:matthias at opengis.ch>
>+41 (0)76 435 67 63 <tel:+41764356763>
>OPENGIS.ch Logo <http://www.opengis.ch>

-- 
Please excuse my brevity.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/72c54903/attachment.html>

From matthias at opengis.ch  Tue Nov  5 01:55:47 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 5 Nov 2019 10:55:47 +0100
Subject: [QGIS-Developer] Increasing QGIS stability (clazy)
In-Reply-To: <6469A71A-DAAE-4BE2-A0FD-FC83972EE8C8@faunalia.it>
References: <0cb858ec-db70-748e-f242-cd5bf71143a0@opengis.ch>
 <6469A71A-DAAE-4BE2-A0FD-FC83972EE8C8@faunalia.it>
Message-ID: <efe0294d-a130-89be-6ee8-d4d4d45c7a45@opengis.ch>

Hi Paolo

The reference is available under the link in my first mail, 
https://github.com/KDE/clazy/blob/master/README.md

In general, developers will notice if travis tells them that it cannot 
be merged.

Matthias

On 11/5/19 10:18 AM, Paolo Cavallini wrote:
> Great news, thanks Matthias, and thanks to all the donors.
> Is there more documentation to help others developers not falling in 
> these traps?
> Cheers.
>
> On 5 November 2019 10:11:38 CET, Matthias Kuhn <matthias at opengis.ch> 
> wrote:
>
>     Hi,
>
>     As you all know, Qt is heavily used by QGIS. Qt has some
>     non-standard C++ concepts like signals and slots. These are very
>     powerful but also bear some risks when not used properly. And it's
>     not always easy to see what "properly" means.
>
>     Thanks to the folks at KDE, there is a tool named clazy
>     <https://github.com/KDE/clazy#clazy-v17>, that can detect many of
>     these risks at compile time. We have recently corrected a number
>     of issues reported by clazy, which will result in an increased
>     stability of QGIS.
>
>     We have also integrated clazy on our CI infrastructure (travis)
>     which will help the stability of QGIS in the long run by
>     disallowing risky code to enter the QGIS codebase.
>
>     Best regards
>
>
>     This work has been sponsored by the OPENGIS.ch Sustainability
>     Initiative <https://www.opengis.ch/qgis-sustainability-initiative/>.
>
>     -- 
>     Matthias Kuhn
>     matthias at opengis.ch <mailto:matthias at opengis.ch>
>     +41 (0)76 435 67 63 <tel:+41764356763>
>     OPENGIS.ch Logo <http://www.opengis.ch>
>
>
> -- 
> Please excuse my brevity. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/6737feec/attachment-0001.html>

From jef at norbit.de  Tue Nov  5 02:29:46 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Tue, 5 Nov 2019 11:29:46 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
Message-ID: <20191105102946.neukzlad4yyih3fm@norbit.de>

Hi Helmut,

On Mon, 04. Nov 2019 at 18:54:00 +0100, Helmut Kudrnovsky wrote:
> just updated my OSGeo4W in normal mode (not tick Exp), QGIS, GRASS 7.8.0, I'm
> getting an error that gdal300.dll and proj6.2.x.dlll is missing.
 
Was probably fixed, while you were hitting it.

Any idea when GRASS will be updated with the new dependencies?


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/013dbb35/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/013dbb35/attachment.ksh>

From apasotti at gmail.com  Tue Nov  5 02:40:45 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 5 Nov 2019 11:40:45 +0100
Subject: [QGIS-Developer] Increasing QGIS stability (clazy)
In-Reply-To: <efe0294d-a130-89be-6ee8-d4d4d45c7a45@opengis.ch>
References: <0cb858ec-db70-748e-f242-cd5bf71143a0@opengis.ch>
 <6469A71A-DAAE-4BE2-A0FD-FC83972EE8C8@faunalia.it>
 <efe0294d-a130-89be-6ee8-d4d4d45c7a45@opengis.ch>
Message-ID: <CAL5Q671UKa0CBJ_ziTgkCXaWc=hV0G=uuQnEQDnPW0G_4v3AfQ@mail.gmail.com>

On Tue, Nov 5, 2019 at 10:55 AM Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi Paolo
>
> The reference is available under the link in my first mail,
> https://github.com/KDE/clazy/blob/master/README.md
>
> In general, developers will notice if travis tells them that it cannot be
> merged.
>

Is that the same tool that is available in Qt creator in debug view under
"Clang-Tidy and Clazy"?

I wonder if it can be easily integrated in my normal development build
workflow.



> Matthias
> On 11/5/19 10:18 AM, Paolo Cavallini wrote:
>
> Great news, thanks Matthias, and thanks to all the donors.
> Is there more documentation to help others developers not falling in these
> traps?
> Cheers.
>
> On 5 November 2019 10:11:38 CET, Matthias Kuhn <matthias at opengis.ch>
> <matthias at opengis.ch> wrote:
>>
>> Hi,
>>
>> As you all know, Qt is heavily used by QGIS. Qt has some non-standard C++
>> concepts like signals and slots. These are very powerful but also bear some
>> risks when not used properly. And it's not always easy to see what
>> "properly" means.
>>
>> Thanks to the folks at KDE, there is a tool named clazy
>> <https://github.com/KDE/clazy#clazy-v17>, that can detect many of these
>> risks at compile time. We have recently corrected a number of issues
>> reported by clazy, which will result in an increased stability of QGIS.
>>
>> We have also integrated clazy on our CI infrastructure (travis) which
>> will help the stability of QGIS in the long run by disallowing risky code
>> to enter the QGIS codebase.
>>
>> Best regards
>>
>>
>> This work has been sponsored by the OPENGIS.ch Sustainability Initiative
>> <https://www.opengis.ch/qgis-sustainability-initiative/>.
>> --
>> Matthias Kuhn
>> matthias at opengis.ch
>> +41 (0)76 435 67 63 <+41764356763>
>> [image: OPENGIS.ch Logo] <http://www.opengis.ch>
>>
>
> --
> Please excuse my brevity.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/45a144e6/attachment.html>

From matthias at opengis.ch  Tue Nov  5 03:20:43 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 5 Nov 2019 12:20:43 +0100
Subject: [QGIS-Developer] Increasing QGIS stability (clazy)
In-Reply-To: <CAL5Q671UKa0CBJ_ziTgkCXaWc=hV0G=uuQnEQDnPW0G_4v3AfQ@mail.gmail.com>
References: <0cb858ec-db70-748e-f242-cd5bf71143a0@opengis.ch>
 <6469A71A-DAAE-4BE2-A0FD-FC83972EE8C8@faunalia.it>
 <efe0294d-a130-89be-6ee8-d4d4d45c7a45@opengis.ch>
 <CAL5Q671UKa0CBJ_ziTgkCXaWc=hV0G=uuQnEQDnPW0G_4v3AfQ@mail.gmail.com>
Message-ID: <f224b85a-121c-a0a5-9ea4-688de0f419cc@opengis.ch>

On 11/5/19 11:40 AM, Alessandro Pasotti wrote:
>
>
> On Tue, Nov 5, 2019 at 10:55 AM Matthias Kuhn <matthias at opengis.ch 
> <mailto:matthias at opengis.ch>> wrote:
>
>     Hi Paolo
>
>     The reference is available under the link in my first mail,
>     https://github.com/KDE/clazy/blob/master/README.md
>
>     In general, developers will notice if travis tells them that it
>     cannot be merged.
>
>
> Is that the same tool that is available in Qt creator in debug view 
> under "Clang-Tidy and Clazy"?
>
> I wonder if it can be easily integrated in my normal development build 
> workflow.


Clazy is a clang plugin. Some distributions have packages available for 
it, otherwise it's available for build or as AppImage. You can specify 
the AppImage as CXX Compiler or change the compiler flags according to 
the readme to run your system clang with clazy.

I haven't checked the QtCreator integration, I assume it will use the 
usual QtCreator warning highlight system.

You can manually fine tune the checks as documented in the Clazy README 
or specify the `-DADD_CLAZY_CHECKS=ON` cmake flag to enable those checks 
that are enforced on travis.

Hope this helps

Matthias

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/6227ebdb/attachment.html>

From noreply at qgis.org  Tue Nov  5 06:41:56 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 05 Nov 2019 14:41:56 -0000
Subject: [QGIS-Developer] =?utf-8?q?Plugin_=5B1871=5D_Oblicz_wysoko=C5=9B?=
 =?utf-8?q?=C4=87_=28GUGiK_NMT=29_approval_notification=2E?=
Message-ID: <20191105144156.23889.45405@2c6504964296>


Plugin Oblicz wysokość (GUGiK NMT) approval by pcav.
The plugin version "[1871] Oblicz wysokość (GUGiK NMT) 0.3" is now approved
Link: http://plugins.qgis.org/plugins/ObliczWysokosc/

From tim at kartoza.com  Tue Nov  5 07:06:06 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 5 Nov 2019 15:06:06 +0000
Subject: [QGIS-Developer]
 =?utf-8?q?QGIS_Print_Layouts_Graphs_and_Charts_C?=
 =?utf-8?q?ampaign_=E2=80=93_Complete!?=
In-Reply-To: <CAB28AsjUESdpQGrT=d0JAFH3_v1UFgmRDPQgrKnb9wHmTiwmOA@mail.gmail.com>
References: <CAB28AsjUESdpQGrT=d0JAFH3_v1UFgmRDPQgrKnb9wHmTiwmOA@mail.gmail.com>
Message-ID: <2EFE3FCE-5471-43AF-A270-80B3D3BCFC89@kartoza.com>

Hi Nyall

Awesome stuff! Will those work in reports too (sorry if I asked before and forgot the answer :-P)? 

Regards

Tim

> On 5 Nov 2019, at 06:16, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> Hi all,
> 
> Just a quick heads up that our recent QGIS Print Layouts Graphs and
> Charts Campaign is now complete, and you can download the results
> today via the DataPlotly plugin version 3 from your QGIS plugin
> install dialog!
> 
> This work was possible thanks to our partners at Faunalia GIS and
> thanks to all the backers of the crowd-funding campaign.
> 
> You can read more about the new functionality here:
> https://north-road.com/2019/11/05/qgis-print-layouts-graphs-and-charts-campaign-complete/
> 
> Regards,
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/341421b0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/341421b0/attachment-0001.jpg>

From tim at kartoza.com  Tue Nov  5 07:10:09 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 5 Nov 2019 15:10:09 +0000
Subject: [QGIS-Developer]
 =?utf-8?q?QGIS_Print_Layouts_Graphs_and_Charts_C?=
 =?utf-8?q?ampaign_=E2=80=93_Complete!?=
In-Reply-To: <2EFE3FCE-5471-43AF-A270-80B3D3BCFC89@kartoza.com>
References: <CAB28AsjUESdpQGrT=d0JAFH3_v1UFgmRDPQgrKnb9wHmTiwmOA@mail.gmail.com>
 <2EFE3FCE-5471-43AF-A270-80B3D3BCFC89@kartoza.com>
Message-ID: <B8D387D8-680C-4677-A0F7-55A6005DF1E6@kartoza.com>

Whooo - quick experimentation says ‘yes, it works in reports’.

Great!

Regards

Tim

> On 5 Nov 2019, at 15:06, Tim Sutton <tim at kartoza.com> wrote:
> 
> Hi Nyall
> 
> Awesome stuff! Will those work in reports too (sorry if I asked before and forgot the answer :-P)? 
> 
> Regards
> 
> Tim
> 
>> On 5 Nov 2019, at 06:16, Nyall Dawson <nyall.dawson at gmail.com <mailto:nyall.dawson at gmail.com>> wrote:
>> 
>> Hi all,
>> 
>> Just a quick heads up that our recent QGIS Print Layouts Graphs and
>> Charts Campaign is now complete, and you can download the results
>> today via the DataPlotly plugin version 3 from your QGIS plugin
>> install dialog!
>> 
>> This work was possible thanks to our partners at Faunalia GIS and
>> thanks to all the backers of the crowd-funding campaign.
>> 
>> You can read more about the new functionality here:
>> https://north-road.com/2019/11/05/qgis-print-layouts-graphs-and-charts-campaign-complete/ <https://north-road.com/2019/11/05/qgis-print-layouts-graphs-and-charts-campaign-complete/>
>> 
>> Regards,
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> —
> 
> 
> <KartozaNewLogoThumbnail.jpg>
> 
> 
> 
> 
> 
> 
> Tim Sutton
> 
> Co-founder: Kartoza
> Ex Project chair: QGIS.org <http://qgis.org/>
> 
> Visit http://kartoza.com <http://kartoza.com/> to find out about open source:
> 
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
> 
> Skype: timlinux 
> IRC: timlinux on #qgis at freenode.net <http://freenode.net/>
> 
> I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.
> 

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/3db8c6f7/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/3db8c6f7/attachment-0001.jpg>

From regis.haubourg at gmail.com  Tue Nov  5 07:11:20 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 5 Nov 2019 16:11:20 +0100
Subject: [QGIS-Developer]
	=?utf-8?q?QGIS_Print_Layouts_Graphs_and_Charts_C?=
	=?utf-8?q?ampaign_=E2=80=93_Complete!?=
In-Reply-To: <B8D387D8-680C-4677-A0F7-55A6005DF1E6@kartoza.com>
References: <CAB28AsjUESdpQGrT=d0JAFH3_v1UFgmRDPQgrKnb9wHmTiwmOA@mail.gmail.com>
 <2EFE3FCE-5471-43AF-A270-80B3D3BCFC89@kartoza.com>
 <B8D387D8-680C-4677-A0F7-55A6005DF1E6@kartoza.com>
Message-ID: <CABgOYCdyOgHbseuK+c5DefFz7SevK8Y1Pf9SVBx1oLwgJNrDcA@mail.gmail.com>

This is great news! Congratulations all, this will be a game changer !


Le mar. 5 nov. 2019 à 16:10, Tim Sutton <tim at kartoza.com> a écrit :

> Whooo - quick experimentation says ‘yes, it works in reports’.
>
> Great!
>
> Regards
>
> Tim
>
> On 5 Nov 2019, at 15:06, Tim Sutton <tim at kartoza.com> wrote:
>
> Hi Nyall
>
> Awesome stuff! Will those work in reports too (sorry if I asked before and
> forgot the answer :-P)?
>
> Regards
>
> Tim
>
> On 5 Nov 2019, at 06:16, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> Hi all,
>
> Just a quick heads up that our recent QGIS Print Layouts Graphs and
> Charts Campaign is now complete, and you can download the results
> today via the DataPlotly plugin version 3 from your QGIS plugin
> install dialog!
>
> This work was possible thanks to our partners at Faunalia GIS and
> thanks to all the backers of the crowd-funding campaign.
>
> You can read more about the new functionality here:
>
> https://north-road.com/2019/11/05/qgis-print-layouts-graphs-and-charts-campaign-complete/
>
> Regards,
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> —
>
>
> <KartozaNewLogoThumbnail.jpg>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org <http://qgis.org/>
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> I'd love to connect. Here's my calendar link
> <https://calendly.com/timlinux> to make finding time easy.
>
>
> —
>
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> I'd love to connect. Here's my calendar link
> <https://calendly.com/timlinux> to make finding time easy.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/fab9bcc9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/fab9bcc9/attachment-0001.jpg>

From noreply at qgis.org  Tue Nov  5 07:31:37 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 05 Nov 2019 15:31:37 -0000
Subject: [QGIS-Developer] Plugin [1841] VetSamp approval notification.
Message-ID: <20191105153137.23908.51672@2c6504964296>


Plugin VetSamp approval by pcav.
The plugin version "[1841] VetSamp 1.0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/VetSamp/

From eduardo.rojas at soltig.net  Tue Nov  5 07:39:13 2019
From: eduardo.rojas at soltig.net (=?UTF-8?Q?Eduardo_Rojas_Rodr=C3=ADguez?=)
Date: Tue, 5 Nov 2019 08:39:13 -0700 (MST)
Subject: [QGIS-Developer] Question QGIS and PROJ
Message-ID: <1572968353455-0.post@n6.nabble.com>

Hi devs!

Sorry Im a little out of the loop, (I was in vacations) I was under the
impression that for QGIS 3.10 the Windows packages will be ship with PROJ 6.

I understand that you can build QGIS with PROJ 6 now, but I was expecting to
see PROJ 6 in QGIS 3.10 as default.

Maybe Im completely lost but. When should we see PROJ 6 as default in QGIS?

Thanks for the help!



-----
Eduardo Rojas Rodríguez
Analista en SIG
SOLTIG
Tel: (506) 2435-8868 / (506) 4001-5214 
eduardo.rojas at soltig.net
http://soltig.net


--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From a.neumann at carto.net  Tue Nov  5 07:52:23 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 05 Nov 2019 16:52:23 +0100
Subject: [QGIS-Developer] Question QGIS and PROJ
In-Reply-To: <1572968353455-0.post@n6.nabble.com>
References: <1572968353455-0.post@n6.nabble.com>
Message-ID: <7e2f7502da20b1dcb75d60b4d12472fb@carto.net>

Hi Eduardo, 

Jürgen is waiting for GRASS being able to properly build against GDAL 3x
and proj6. 

See
https://lists.osgeo.org/pipermail/qgis-developer/2019-November/059143.html


You just have to be patient a bit. 

Greetings, 

Andreas 

On 2019-11-05 16:39, Eduardo Rojas Rodríguez wrote:

> Hi devs!
> 
> Sorry Im a little out of the loop, (I was in vacations) I was under the
> impression that for QGIS 3.10 the Windows packages will be ship with PROJ 6.
> 
> I understand that you can build QGIS with PROJ 6 now, but I was expecting to
> see PROJ 6 in QGIS 3.10 as default.
> 
> Maybe Im completely lost but. When should we see PROJ 6 as default in QGIS?
> 
> Thanks for the help!
> 
> -----
> Eduardo Rojas Rodríguez
> Analista en SIG
> SOLTIG
> Tel: (506) 2435-8868 / (506) 4001-5214 
> eduardo.rojas at soltig.net
> http://soltig.net
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/46b0b24e/attachment.html>

From eduardo.rojas at soltig.net  Tue Nov  5 08:08:48 2019
From: eduardo.rojas at soltig.net (=?UTF-8?Q?Eduardo_Rojas_Rodr=C3=ADguez?=)
Date: Tue, 5 Nov 2019 09:08:48 -0700 (MST)
Subject: [QGIS-Developer] Question QGIS and PROJ
In-Reply-To: <7e2f7502da20b1dcb75d60b4d12472fb@carto.net>
References: <1572968353455-0.post@n6.nabble.com>
 <7e2f7502da20b1dcb75d60b4d12472fb@carto.net>
Message-ID: <1572970128709-0.post@n6.nabble.com>

Oh! I see thank you Andreas

Thanks for all the work, as you say I will be patient!



-----
Eduardo Rojas Rodríguez
Analista en SIG
SOLTIG
Tel: (506) 2435-8868 / (506) 4001-5214 
eduardo.rojas at soltig.net
http://soltig.net


--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From cavallini at faunalia.it  Tue Nov  5 09:32:06 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 5 Nov 2019 18:32:06 +0100
Subject: [QGIS-Developer] PostgreSQL 12 not supported?
Message-ID: <308b0256-a48a-6985-9630-c7ea8ff33326@faunalia.it>

Hi all,
apparently PostgreSQL 12 is not supported in current QGIS:
https://github.com/qgis/QGIS/issues/32321
Has anyone had a look to this? Does it imply a deep intervention in the
provider, or it can be fixed with minor adjustments?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From hellik at web.de  Tue Nov  5 09:30:18 2019
From: hellik at web.de (Helmut Kudrnovsky)
Date: Tue, 5 Nov 2019 18:30:18 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <20191105102946.neukzlad4yyih3fm@norbit.de>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
Message-ID: <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>

>Any idea when GRASS will be updated with the new dependencies?

see https://github.com/OSGeo/grass/pull/136#issuecomment-547497328

"Sure it is still GDAL2"

is OSGeo4W still default in gdal2/proj5? is gdal3/proj6 still in OSGeo4W experimental/testing?

in #136, environment is pointing to gdal-dev proj-dev, which I assume is gdal3/proj6, right?

GRASS is in a RC cycle for GRASS 7.8.1: RC1

a possible workflow may be (?):

(1) update/adapt #136 to reflect a default gdal3/proj6 in OSGeo4W
(2) apply updated PR to issue a GRASS 7.8.1 RC2
(3) switch OSGeo4W to a default gdal3/proj6
(4) binary release GRASS 7.8.1 RC2 in OSGeo4W

@Martin: any opinion?

Kind regards
Helmut



From jef at norbit.de  Tue Nov  5 09:56:37 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Tue, 5 Nov 2019 18:56:37 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
Message-ID: <20191105175637.nerd6vrh5mxmdeb7@norbit.de>

Hi Helmut,

On Tue, 05. Nov 2019 at 18:30:18 +0100, Helmut Kudrnovsky wrote:
> >Any idea when GRASS will be updated with the new dependencies?
> 
> see https://github.com/OSGeo/grass/pull/136#issuecomment-547497328
 
> "Sure it is still GDAL2"
 
> is OSGeo4W still default in gdal2/proj5? is gdal3/proj6 still in OSGeo4W experimental/testing?

I went ahead an did all what is proposed there and now you can build GRASS with
GDAL3 and PROJ6 using the "experimental" packages.  Once that's done we can
flip the switch and take all the "experimental" packages live - they are only
waiting for GRASS.


> in #136, environment is pointing to gdal-dev proj-dev, which I assume is gdal3/proj6, right?

No, GDAL master (3.1 2b) and PROJ master (7.0 2b).   And #136 is for master
(ie. grass-daily)

#137 was for the release branch and was merged.

 
> GRASS is in a RC cycle for GRASS 7.8.1: RC1

With #118 merged - so it should already work with GDAL3 and PROJ6.


> a possible workflow may be (?):
 
> (1) update/adapt #136 to reflect a default gdal3/proj6 in OSGeo4W
> (2) apply updated PR to issue a GRASS 7.8.1 RC2
> (3) switch OSGeo4W to a default gdal3/proj6
> (4) binary release GRASS 7.8.1 RC2 in OSGeo4W

Or just build GRASS with the "test" packages, upload it and then we can remove
all the "experimental" tags.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/627b1c78/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/627b1c78/attachment.ksh>

From hellik at web.de  Tue Nov  5 11:31:36 2019
From: hellik at web.de (Helmut Kudrnovsky)
Date: Tue, 5 Nov 2019 20:31:36 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
Message-ID: <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>

Hi Jürgen,

>Or just build GRASS with the "test" packages, upload it and then we can remove
>all the "experimental" tags.

just checked OSGeo4W, to be sure:

OSGeo4W normal mode

GDAL 2.4.1-1
PROJ 5.2.0-1
GEOS 3.8.0-1

OSGeo4W testing/experimental mode, update would be

GDAL 2.4.1-1 => GDAL 3.0.2-1
PROJ 5.2.0-1 => PROJ 6.2.1-1
GEOS 3.8.0-1

I could do a test compilation with OSGeo4W testing/experimental mode and issue a

grass-7.8.1RC1-2.tar.bz2

with test in setup.hint.

not sure how ready Martin's build environment is to switch also to build addons ?!

regards
Helmut
 
 

Gesendet: Dienstag, 05. November 2019 um 18:56 Uhr
Von: "Jürgen E. Fischer"

Betreff: Re: Re: WinGRASS build up (WIP)
Hi Helmut,

On Tue, 05. Nov 2019 at 18:30:18 +0100, Helmut Kudrnovsky wrote:
> >Any idea when GRASS will be updated with the new dependencies?
>
> see https://github.com/OSGeo/grass/pull/136#issuecomment-547497328

> "Sure it is still GDAL2"

> is OSGeo4W still default in gdal2/proj5? is gdal3/proj6 still in OSGeo4W experimental/testing?

I went ahead an did all what is proposed there and now you can build GRASS with
GDAL3 and PROJ6 using the "experimental" packages. Once that's done we can
flip the switch and take all the "experimental" packages live - they are only
waiting for GRASS.


> in #136, environment is pointing to gdal-dev proj-dev, which I assume is gdal3/proj6, right?

No, GDAL master (3.1 2b) and PROJ master (7.0 2b). And #136 is for master
(ie. grass-daily)

#137 was for the release branch and was merged.


> GRASS is in a RC cycle for GRASS 7.8.1: RC1

With #118 merged - so it should already work with GDAL3 and PROJ6.


> a possible workflow may be (?):

> (1) update/adapt #136 to reflect a default gdal3/proj6 in OSGeo4W
> (2) apply updated PR to issue a GRASS 7.8.1 RC2
> (3) switch OSGeo4W to a default gdal3/proj6
> (4) binary release GRASS 7.8.1 RC2 in OSGeo4W

Or just build GRASS with the "test" packages, upload it and then we can remove
all the "experimental" tags.


Jürgen

--
Jürgen E. Fischer norBIT GmbH Tel. +49-4931-918175-31
Dipl.-Inf. (FH) Rheinstraße 13 Fax. +49-4931-918175-50
Software Engineer D-26506 Norden https://www.norbit.de[https://www.norbit.de]
QGIS release manager (PSC) Germany IRC: jef on FreeNode
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Juergen Fischer, Nils Kutscher HR: Amtsgericht Aurich HRB 100827
Datenschutzerklaerung: https://www.norbit.de/83/[https://www.norbit.de/83/]

From jef at norbit.de  Tue Nov  5 11:46:36 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Tue, 5 Nov 2019 20:46:36 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
Message-ID: <20191105194636.2ztv237cgegyqjux@norbit.de>

Hi Helmut,

On Tue, 05. Nov 2019 at 20:31:36 +0100, Helmut Kudrnovsky wrote:
> I could do a test compilation with OSGeo4W testing/experimental mode and issue a
> 
> grass-7.8.1RC1-2.tar.bz2
> 
> with test in setup.hint.

Thanks.

> not sure how ready Martin's build environment is to switch also to build addons ?!

No clue about that.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/3fe6ba5f/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/3fe6ba5f/attachment.ksh>

From cavallini at faunalia.it  Tue Nov  5 12:24:32 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 5 Nov 2019 21:24:32 +0100
Subject: [QGIS-Developer] Reading out-of-db PostgreSQL Raster
Message-ID: <597f443f-8c0c-f087-631e-ab7da017000c@faunalia.it>

Hi all,
loading PostGIS rasters from the browser works very well, thanks Ale!
However, those loaded with the -R option (out of db rasters) throw an error:

Warning: Logged warning: RasterIO error:
PostGISRasterRasterBand::IRasterIO(): ERROR:  rt_band_load_offline_data:
Cannot open offline raster:
/home/paolo/Documents/Didattica/Corsi_Formazione_Faunalia/PostGIS/data/dtm_nord.tif

I have enabled out-of-db rasters:

 POSTGIS_ENABLE_OUTDB_RASTERS=1
 POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL

The same data are readable from psql
select * from dtm_ext ;
┌─────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│ rid │

├─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
│   1 │ 01000001...

Is this a known limitation, or do I need some additional config?

Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From landa.martin at gmail.com  Tue Nov  5 12:24:48 2019
From: landa.martin at gmail.com (Martin Landa)
Date: Tue, 5 Nov 2019 21:24:48 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
Message-ID: <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>

Hi,

út 5. 11. 2019 v 20:31 odesílatel Helmut Kudrnovsky <hellik at web.de> napsal:
> I could do a test compilation with OSGeo4W testing/experimental mode and issue a
>
> grass-7.8.1RC1-2.tar.bz2
>
> with test in setup.hint.
>
> not sure how ready Martin's build environment is to switch also to build addons ?!

next daily builds (32/64bit) should be built against GDAL3/PROJ6.

We are close 7.8.RC2, BTW.

Ma

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From jgr at di.uminho.pt  Tue Nov  5 12:34:44 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 5 Nov 2019 20:34:44 +0000
Subject: [QGIS-Developer] Reading out-of-db PostgreSQL Raster
In-Reply-To: <597f443f-8c0c-f087-631e-ab7da017000c@faunalia.it>
References: <597f443f-8c0c-f087-631e-ab7da017000c@faunalia.it>
Message-ID: <b2e101c4-e9c0-b0bd-b4bf-65e0bcb09c02@di.uminho.pt>

Hi Paolo,

If you have GDAL >= 2.4, it should work. Can you check your GDAL version?

Do you also have overviews/pyramids? The overviews should work, because
they are in db. Only the original raster is out-of-db.

Regards,

Jorge

Às 20:24 de 05/11/19, Paolo Cavallini escreveu:
> Hi all,
> loading PostGIS rasters from the browser works very well, thanks Ale!
> However, those loaded with the -R option (out of db rasters) throw an error:
> 
> Warning: Logged warning: RasterIO error:
> PostGISRasterRasterBand::IRasterIO(): ERROR:  rt_band_load_offline_data:
> Cannot open offline raster:
> /home/paolo/Documents/Didattica/Corsi_Formazione_Faunalia/PostGIS/data/dtm_nord.tif
> 
> I have enabled out-of-db rasters:
> 
>  POSTGIS_ENABLE_OUTDB_RASTERS=1
>  POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL
> 
> The same data are readable from psql
> select * from dtm_ext ;
> ┌─────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
> │ rid │
> 
> ├─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
> │   1 │ 01000001...
> 
> Is this a known limitation, or do I need some additional config?
> 
> Thanks.
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From hellik at web.de  Tue Nov  5 14:13:25 2019
From: hellik at web.de (Helmut Kudrnovsky)
Date: Tue, 5 Nov 2019 23:13:25 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <20191105194636.2ztv237cgegyqjux@norbit.de>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <20191105194636.2ztv237cgegyqjux@norbit.de>
Message-ID: <trinity-67480c96-1d20-4213-919a-66a2919fd516-1572992005831@3c-app-webde-bap47>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/0ca1c257/attachment.html>

From sydv at sjgeophysics.com  Tue Nov  5 15:16:06 2019
From: sydv at sjgeophysics.com (Syd Visser)
Date: Tue, 5 Nov 2019 15:16:06 -0800
Subject: [QGIS-Developer] rotate feature issue
Message-ID: <0d27cfa1-1efb-dc03-39ec-495037011254@sjgeophysics.com>

When using the edit function Rotate Feature. QGIS 8.10 on ubuntu 8.04  
appears to go into infinite loop taking up 100% of one CPU.

the only way out appears to be to crash QGIS

thanks

Syd


-- 

*Syd (Sipke) Visser, P.Geo.*
President, Snr. Geophysicist/Geologist

Tel: 1 (604) 582-1100
Cell: 1 (604) 813-1440
sydv at sjgeophysics.com
www.sjgeophysics.com <http://www.sjgeophysics.com>

<http://www.sjgeophysics.com>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191105/057c8ae8/attachment-0001.html>

From nyall.dawson at gmail.com  Tue Nov  5 15:45:26 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 6 Nov 2019 09:45:26 +1000
Subject: [QGIS-Developer] rotate feature issue
In-Reply-To: <0d27cfa1-1efb-dc03-39ec-495037011254@sjgeophysics.com>
References: <0d27cfa1-1efb-dc03-39ec-495037011254@sjgeophysics.com>
Message-ID: <CAB28AsiPcwxEXUqbqrD9RyYt2SAeU+4xvo=M4C2Tyd4CfV01yA@mail.gmail.com>

On Wed, 6 Nov 2019 at 09:23, Syd Visser <sydv at sjgeophysics.com> wrote:
>
> When using the edit function Rotate Feature. QGIS 8.10 on ubuntu 8.04  appears to go into infinite loop taking up 100% of one CPU.
>
> the only way out appears to be to crash QGIS

Unfortunately this is a known issue, already fixed for 3.10.1

Nyall

From cavallini at faunalia.it  Tue Nov  5 23:18:29 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 6 Nov 2019 08:18:29 +0100
Subject: [QGIS-Developer] Reading out-of-db PostgreSQL Raster
In-Reply-To: <b2e101c4-e9c0-b0bd-b4bf-65e0bcb09c02@di.uminho.pt>
References: <597f443f-8c0c-f087-631e-ab7da017000c@faunalia.it>
 <b2e101c4-e9c0-b0bd-b4bf-65e0bcb09c02@di.uminho.pt>
Message-ID: <612194c9-95d3-f07f-1f3f-4e65e9c18ad7@faunalia.it>

Hi Jorge,

Il 05/11/19 21:34, Jorge Gustavo Rocha ha scritto:

> If you have GDAL >= 2.4, it should work. Can you check your GDAL version?

2.4.2+dfsg-2

> Do you also have overviews/pyramids? The overviews should work, because
> they are in db. Only the original raster is out-of-db.

sure, all "normal" rasters, incluging the pyramids, are correctly shown.

thanks for the feedback.

> Às 20:24 de 05/11/19, Paolo Cavallini escreveu:
>> Hi all,
>> loading PostGIS rasters from the browser works very well, thanks Ale!
>> However, those loaded with the -R option (out of db rasters) throw an error:
>>
>> Warning: Logged warning: RasterIO error:
>> PostGISRasterRasterBand::IRasterIO(): ERROR:  rt_band_load_offline_data:
>> Cannot open offline raster:
>> /home/paolo/Documents/Didattica/Corsi_Formazione_Faunalia/PostGIS/data/dtm_nord.tif
>>
>> I have enabled out-of-db rasters:
>>
>>  POSTGIS_ENABLE_OUTDB_RASTERS=1
>>  POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL
>>
>> The same data are readable from psql
>> select * from dtm_ext ;
>> ┌─────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>> │ rid │
>>
>> ├─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>> │   1 │ 01000001...
>>
>> Is this a known limitation, or do I need some additional config?
>>
>> Thanks.
>>
> 
> J. Gustavo
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Tue Nov  5 23:37:21 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 6 Nov 2019 08:37:21 +0100
Subject: [QGIS-Developer] Reading out-of-db PostgreSQL Raster
In-Reply-To: <612194c9-95d3-f07f-1f3f-4e65e9c18ad7@faunalia.it>
References: <597f443f-8c0c-f087-631e-ab7da017000c@faunalia.it>
 <b2e101c4-e9c0-b0bd-b4bf-65e0bcb09c02@di.uminho.pt>
 <612194c9-95d3-f07f-1f3f-4e65e9c18ad7@faunalia.it>
Message-ID: <e2a7b834-b0b7-24f8-aa74-8b41c06af5a9@faunalia.it>

/me stupid: postgresql did not have read access to the file.
sorry for the noise

Il 06/11/19 08:18, Paolo Cavallini ha scritto:
> Hi Jorge,
> 
> Il 05/11/19 21:34, Jorge Gustavo Rocha ha scritto:
> 
>> If you have GDAL >= 2.4, it should work. Can you check your GDAL version?
> 
> 2.4.2+dfsg-2
> 
>> Do you also have overviews/pyramids? The overviews should work, because
>> they are in db. Only the original raster is out-of-db.
> 
> sure, all "normal" rasters, incluging the pyramids, are correctly shown.
> 
> thanks for the feedback.
> 
>> Às 20:24 de 05/11/19, Paolo Cavallini escreveu:
>>> Hi all,
>>> loading PostGIS rasters from the browser works very well, thanks Ale!
>>> However, those loaded with the -R option (out of db rasters) throw an error:
>>>
>>> Warning: Logged warning: RasterIO error:
>>> PostGISRasterRasterBand::IRasterIO(): ERROR:  rt_band_load_offline_data:
>>> Cannot open offline raster:
>>> /home/paolo/Documents/Didattica/Corsi_Formazione_Faunalia/PostGIS/data/dtm_nord.tif
>>>
>>> I have enabled out-of-db rasters:
>>>
>>>  POSTGIS_ENABLE_OUTDB_RASTERS=1
>>>  POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL
>>>
>>> The same data are readable from psql
>>> select * from dtm_ext ;
>>> ┌─────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>>> │ rid │
>>>
>>> ├─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>>> │   1 │ 01000001...
>>>
>>> Is this a known limitation, or do I need some additional config?
>>>
>>> Thanks.
>>>
>>
>> J. Gustavo
>>
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Wed Nov  6 00:16:15 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 6 Nov 2019 09:16:15 +0100
Subject: [QGIS-Developer] PostgreSQL 12 not supported?
In-Reply-To: <308b0256-a48a-6985-9630-c7ea8ff33326@faunalia.it>
References: <308b0256-a48a-6985-9630-c7ea8ff33326@faunalia.it>
Message-ID: <1b04d720-1336-f6e0-6bf2-e403295b8de8@faunalia.it>

Hi all,
I had a look, fixed one issue, but replacing another dropped column is
more intricate; several projects (PostGIS, SQLAlchemy, etc.) have dealt
with it differently. Help or suggestions welcome.
Cheers.

Il 05/11/19 18:32, Paolo Cavallini ha scritto:
> Hi all,
> apparently PostgreSQL 12 is not supported in current QGIS:
> https://github.com/qgis/QGIS/issues/32321
> Has anyone had a look to this? Does it imply a deep intervention in the
> provider, or it can be fixed with minor adjustments?
> Thanks.
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From hellik at web.de  Wed Nov  6 00:42:40 2019
From: hellik at web.de (Helmut Kudrnovsky)
Date: Wed, 6 Nov 2019 09:42:40 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
Message-ID: <trinity-0e8ee7ba-025a-4e33-8357-fd7bed590fd7-1573029760655@3c-app-webde-bs03>

>next daily builds (32/64bit) should be built against GDAL3/PROJ6.

daily build 78:
 
https://wingrass.fsv.cvut.cz/grass78/x86_64/logs/log-r9c8923eb9-9/package.log

######################

[...]
checking for location of External PROJ includes... /c/OSGeo4W64/include
checking for proj.h... yes
checking External PROJ major version... 6
checking External PROJ minor version... 2
checking External PROJ patch version... 1
found PROJ version 6.2.1
using new PROJ version 5+ API
checking for location of External PROJ library... /usr/src/grass78/mswindows/osgeo4w/lib
checking for proj_pj_info in -lproj... yes
checking for location of External PROJ data files... /c/OSGeo4W64/share/proj
checking for /c/OSGeo4W64/share/proj/epsg... no
configure: warning: *** Unable to locate PROJ data files.
[...]
GDAL support:               yes

######################

daily build 79:

https://wingrass.fsv.cvut.cz/grass79/x86_64/logs/log-r39af5f541-9/package.log

######################

[...]
checking for location of External PROJ includes... /c/OSGeo4W64/include
checking for proj.h... yes
checking External PROJ major version... 6
checking External PROJ minor version... 2
checking External PROJ patch version... 1
found PROJ version 6.2.1
using new PROJ version 5+ API
checking for location of External PROJ library... /usr/src/grass79/mswindows/osgeo4w/lib
checking for proj_pj_info in -lproj... yes
checking for location of External PROJ data files... /c/OSGeo4W64/share/proj
checking for /c/OSGeo4W64/share/proj/epsg... no
configure: warning: *** Unable to locate PROJ data files.
[...]
GDAL support:               yes

######################

daily builds with proj6/gdal3 in OSGeo4W looks good so far.

regards
Helmut
 



From rdmailings at duif.net  Wed Nov  6 00:55:21 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 06 Nov 2019 09:55:21 +0100
Subject: [QGIS-Developer] Geopackage as QGIS mapserver datasource failing?
Message-ID: <653c26de6921d02478c9add42a36001c@duif.net>

Hi,

I'm trying to get QGIS mapserver (master) here. All fine, untill I add a 
Geopackage to the project.
Both with a simple gpkg (as in: create a polygon gpkg without any 
attributes in QGIS) as in a more complex gpkg (the one I started with: 2 
tables and a view).

GetCapabilities show:

<ServerException>Layer(s) not valid</ServerException>

Both gpkg's load/show fine in QGIS itself

Relevant log part (I think):

../src/core/qgsproject.cpp:1225 : (readProjectFile) [2ms] 43 properties 
read
../src/core/qgsvectorlayer.cpp:1455 : (readXml) [3ms] Datasource in 
QgsVectorLayer::readXml: /tmp/blaat.gpkg|layername=blaat
../src/core/providers/ogr/qgsogrprovider.cpp:475 : (QgsOgrProvider) 
[1ms] Data source uri is [/tmp/blaat.gpkg|layername=blaat]
../src/core/providers/ogr/qgsogrprovider.cpp:273 : (AnalyzeURI) [0ms] 
Data source uri is [/tmp/blaat.gpkg|layername=blaat]
../src/core/providers/ogr/qgsogrprovider.cpp:4369 : (open) [0ms] 
mFilePath: /tmp/blaat.gpkg
../src/core/providers/ogr/qgsogrprovider.cpp:4370 : (open) [0ms] 
mLayerIndex: 0
../src/core/providers/ogr/qgsogrprovider.cpp:4371 : (open) [0ms] 
mLayerName: blaat
../src/core/providers/ogr/qgsogrprovider.cpp:4372 : (open) [0ms] 
mSubsetString:
../src/core/providers/ogr/qgsogrprovider.cpp:4425 : (open) [0ms] OGR 
failed to opened in update mode, trying in read-only mode
../src/core/qgsmessagelog.cpp:29 : (logMessage) [0ms] 
2019-11-06T09:46:34 OGR[1] Cannot open /tmp/blaat.gpkg.()
../src/core/qgsvectorlayer.cpp:1684 : (setDataProvider) [0ms] 
Instantiated the data provider plugin
../src/core/qgsvectorlayer.cpp:1689 : (setDataProvider) [0ms] Invalid 
provider plugin /tmp/blaat.gpkg|layername=blaat
../src/core/qgsvectorlayer.cpp:1490 : (readXml) [0ms] Could not set data 
provider for layer /tmp/blaat.gpkg|layername=blaat
../src/core/qgsvectorlayer.cpp:2091 : (readSymbology) [0ms] 
contextproject:layers:blaat_7cda99cd_6a97_4738_8e95_c0368d244004:fieldaliases 
source fid
../src/core/qgsvectorlayer.cpp:2097 : (readSymbology) [0ms] field fid 
origalias  trans
../src/core/qgsproject.cpp:1061 : (addLayer) [1ms] Unable to load vector 
layer

Should I create an issue?

Regards,

Richard Duivenvoorde


From apasotti at gmail.com  Wed Nov  6 01:00:18 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 6 Nov 2019 10:00:18 +0100
Subject: [QGIS-Developer] Geopackage as QGIS mapserver datasource
	failing?
In-Reply-To: <653c26de6921d02478c9add42a36001c@duif.net>
References: <653c26de6921d02478c9add42a36001c@duif.net>
Message-ID: <CAL5Q673xS72U2y_MQxtPvt3JKzifMww6dgbgj3SA0A1vf8B-8A@mail.gmail.com>

On Wed, Nov 6, 2019 at 9:55 AM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Hi,
>
> I'm trying to get QGIS mapserver (master) here. All fine, untill I add a
> Geopackage to the project.
> Both with a simple gpkg (as in: create a polygon gpkg without any
> attributes in QGIS) as in a more complex gpkg (the one I started with: 2
> tables and a view).
>
> GetCapabilities show:
>
> <ServerException>Layer(s) not valid</ServerException>
>
> Both gpkg's load/show fine in QGIS itself
>
> Relevant log part (I think):
>
> ../src/core/qgsproject.cpp:1225 : (readProjectFile) [2ms] 43 properties
> read
> ../src/core/qgsvectorlayer.cpp:1455 : (readXml) [3ms] Datasource in
> QgsVectorLayer::readXml: /tmp/blaat.gpkg|layername=blaat
> ../src/core/providers/ogr/qgsogrprovider.cpp:475 : (QgsOgrProvider)
> [1ms] Data source uri is [/tmp/blaat.gpkg|layername=blaat]
> ../src/core/providers/ogr/qgsogrprovider.cpp:273 : (AnalyzeURI) [0ms]
> Data source uri is [/tmp/blaat.gpkg|layername=blaat]
> ../src/core/providers/ogr/qgsogrprovider.cpp:4369 : (open) [0ms]
> mFilePath: /tmp/blaat.gpkg
> ../src/core/providers/ogr/qgsogrprovider.cpp:4370 : (open) [0ms]
> mLayerIndex: 0
> ../src/core/providers/ogr/qgsogrprovider.cpp:4371 : (open) [0ms]
> mLayerName: blaat
> ../src/core/providers/ogr/qgsogrprovider.cpp:4372 : (open) [0ms]
> mSubsetString:
> ../src/core/providers/ogr/qgsogrprovider.cpp:4425 : (open) [0ms] OGR
> failed to opened in update mode, trying in read-only mode
> ../src/core/qgsmessagelog.cpp:29 : (logMessage) [0ms]
> 2019-11-06T09:46:34 OGR[1] Cannot open /tmp/blaat.gpkg.()
> ../src/core/qgsvectorlayer.cpp:1684 : (setDataProvider) [0ms]
> Instantiated the data provider plugin
> ../src/core/qgsvectorlayer.cpp:1689 : (setDataProvider) [0ms] Invalid
> provider plugin /tmp/blaat.gpkg|layername=blaat
> ../src/core/qgsvectorlayer.cpp:1490 : (readXml) [0ms] Could not set data
> provider for layer /tmp/blaat.gpkg|layername=blaat
> ../src/core/qgsvectorlayer.cpp:2091 : (readSymbology) [0ms]
> contextproject:layers:blaat_7cda99cd_6a97_4738_8e95_c0368d244004:fieldaliases
>
> source fid
> ../src/core/qgsvectorlayer.cpp:2097 : (readSymbology) [0ms] field fid
> origalias  trans
> ../src/core/qgsproject.cpp:1061 : (addLayer) [1ms] Unable to load vector
> layer
>
> Should I create an issue?
>
>
Hi Richard,

I suspect something local is going on there, we have many server tests in
Travis that use GPKG as a data source and there are no issues.

But yes, you can definitely file an issue and attach the failing GPKG +
project.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/9d1b6ccc/attachment-0001.html>

From jgr at di.uminho.pt  Wed Nov  6 01:27:19 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Wed, 6 Nov 2019 09:27:19 +0000
Subject: [QGIS-Developer] Geopackage as QGIS mapserver datasource
	failing?
In-Reply-To: <653c26de6921d02478c9add42a36001c@duif.net>
References: <653c26de6921d02478c9add42a36001c@duif.net>
Message-ID: <56db2c04-4b25-a685-a751-1fd999395879@di.uminho.pt>

Hi Richard,

> failed to opened in update mode, trying in read-only mode

The file is on /tmp. Why can't QGIS open it in write mode? Can you check
the permissions?

Best regards,

Jorge


Às 08:55 de 06/11/19, Richard Duivenvoorde escreveu:
> Hi,
> 
> I'm trying to get QGIS mapserver (master) here. All fine, untill I add a
> Geopackage to the project.
> Both with a simple gpkg (as in: create a polygon gpkg without any
> attributes in QGIS) as in a more complex gpkg (the one I started with: 2
> tables and a view).
> 
> GetCapabilities show:
> 
> <ServerException>Layer(s) not valid</ServerException>
> 
> Both gpkg's load/show fine in QGIS itself
> 
> Relevant log part (I think):
> 
> ../src/core/qgsproject.cpp:1225 : (readProjectFile) [2ms] 43 properties
> read
> ../src/core/qgsvectorlayer.cpp:1455 : (readXml) [3ms] Datasource in
> QgsVectorLayer::readXml: /tmp/blaat.gpkg|layername=blaat
> ../src/core/providers/ogr/qgsogrprovider.cpp:475 : (QgsOgrProvider)
> [1ms] Data source uri is [/tmp/blaat.gpkg|layername=blaat]
> ../src/core/providers/ogr/qgsogrprovider.cpp:273 : (AnalyzeURI) [0ms]
> Data source uri is [/tmp/blaat.gpkg|layername=blaat]
> ../src/core/providers/ogr/qgsogrprovider.cpp:4369 : (open) [0ms]
> mFilePath: /tmp/blaat.gpkg
> ../src/core/providers/ogr/qgsogrprovider.cpp:4370 : (open) [0ms]
> mLayerIndex: 0
> ../src/core/providers/ogr/qgsogrprovider.cpp:4371 : (open) [0ms]
> mLayerName: blaat
> ../src/core/providers/ogr/qgsogrprovider.cpp:4372 : (open) [0ms]
> mSubsetString:
> ../src/core/providers/ogr/qgsogrprovider.cpp:4425 : (open) [0ms] OGR
> failed to opened in update mode, trying in read-only mode
> ../src/core/qgsmessagelog.cpp:29 : (logMessage) [0ms]
> 2019-11-06T09:46:34 OGR[1] Cannot open /tmp/blaat.gpkg.()
> ../src/core/qgsvectorlayer.cpp:1684 : (setDataProvider) [0ms]
> Instantiated the data provider plugin
> ../src/core/qgsvectorlayer.cpp:1689 : (setDataProvider) [0ms] Invalid
> provider plugin /tmp/blaat.gpkg|layername=blaat
> ../src/core/qgsvectorlayer.cpp:1490 : (readXml) [0ms] Could not set data
> provider for layer /tmp/blaat.gpkg|layername=blaat
> ../src/core/qgsvectorlayer.cpp:2091 : (readSymbology) [0ms]
> contextproject:layers:blaat_7cda99cd_6a97_4738_8e95_c0368d244004:fieldaliases
> source fid
> ../src/core/qgsvectorlayer.cpp:2097 : (readSymbology) [0ms] field fid
> origalias  trans
> ../src/core/qgsproject.cpp:1061 : (addLayer) [1ms] Unable to load vector
> layer
> 
> Should I create an issue?
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From jgr at di.uminho.pt  Wed Nov  6 01:32:24 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Wed, 6 Nov 2019 09:32:24 +0000
Subject: [QGIS-Developer] Reading out-of-db PostgreSQL Raster
In-Reply-To: <e2a7b834-b0b7-24f8-aa74-8b41c06af5a9@faunalia.it>
References: <597f443f-8c0c-f087-631e-ab7da017000c@faunalia.it>
 <b2e101c4-e9c0-b0bd-b4bf-65e0bcb09c02@di.uminho.pt>
 <612194c9-95d3-f07f-1f3f-4e65e9c18ad7@faunalia.it>
 <e2a7b834-b0b7-24f8-aa74-8b41c06af5a9@faunalia.it>
Message-ID: <6a31e989-3e20-a375-4c37-e47d40c5dacc@di.uminho.pt>

Hi Paolo,

Nice to know you found out the problem. The easiest option to store
out-of-db rasters can be under Postgresql's data_directory. All users
should be able to read files from there.

# show data_directory;
       data_directory
-----------------------------
 /var/lib/postgresql/11/main

Regards,

Jorge


Às 07:37 de 06/11/19, Paolo Cavallini escreveu:
> /me stupid: postgresql did not have read access to the file.
> sorry for the noise
> 
> Il 06/11/19 08:18, Paolo Cavallini ha scritto:
>> Hi Jorge,
>>
>> Il 05/11/19 21:34, Jorge Gustavo Rocha ha scritto:
>>
>>> If you have GDAL >= 2.4, it should work. Can you check your GDAL version?
>>
>> 2.4.2+dfsg-2
>>
>>> Do you also have overviews/pyramids? The overviews should work, because
>>> they are in db. Only the original raster is out-of-db.
>>
>> sure, all "normal" rasters, incluging the pyramids, are correctly shown.
>>
>> thanks for the feedback.
>>
>>> Às 20:24 de 05/11/19, Paolo Cavallini escreveu:
>>>> Hi all,
>>>> loading PostGIS rasters from the browser works very well, thanks Ale!
>>>> However, those loaded with the -R option (out of db rasters) throw an error:
>>>>
>>>> Warning: Logged warning: RasterIO error:
>>>> PostGISRasterRasterBand::IRasterIO(): ERROR:  rt_band_load_offline_data:
>>>> Cannot open offline raster:
>>>> /home/paolo/Documents/Didattica/Corsi_Formazione_Faunalia/PostGIS/data/dtm_nord.tif
>>>>
>>>> I have enabled out-of-db rasters:
>>>>
>>>>  POSTGIS_ENABLE_OUTDB_RASTERS=1
>>>>  POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL
>>>>
>>>> The same data are readable from psql
>>>> select * from dtm_ext ;
>>>> ┌─────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>>>> │ rid │
>>>>
>>>> ├─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>>>> │   1 │ 01000001...
>>>>
>>>> Is this a known limitation, or do I need some additional config?
>>>>
>>>> Thanks.
>>>>
>>>
>>> J. Gustavo
>>>
>>
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From cavallini at faunalia.it  Wed Nov  6 01:37:56 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 6 Nov 2019 10:37:56 +0100
Subject: [QGIS-Developer] Reading out-of-db PostgreSQL Raster
In-Reply-To: <6a31e989-3e20-a375-4c37-e47d40c5dacc@di.uminho.pt>
References: <597f443f-8c0c-f087-631e-ab7da017000c@faunalia.it>
 <b2e101c4-e9c0-b0bd-b4bf-65e0bcb09c02@di.uminho.pt>
 <612194c9-95d3-f07f-1f3f-4e65e9c18ad7@faunalia.it>
 <e2a7b834-b0b7-24f8-aa74-8b41c06af5a9@faunalia.it>
 <6a31e989-3e20-a375-4c37-e47d40c5dacc@di.uminho.pt>
Message-ID: <292d1963-93c6-5f40-5c87-afb918a610e1@faunalia.it>

yes; I tend not to pollute system dirs with user data, so I usually put
(or link) everything pg-related in a dedicated dir accessible by
postgres. I just forgot to do it in this new machine.
Thanks.

Il 06/11/19 10:32, Jorge Gustavo Rocha ha scritto:
> Hi Paolo,
> 
> Nice to know you found out the problem. The easiest option to store
> out-of-db rasters can be under Postgresql's data_directory. All users
> should be able to read files from there.
> 
> # show data_directory;
>        data_directory
> -----------------------------
>  /var/lib/postgresql/11/main
> 
> Regards,
> 
> Jorge
> 
> 
> Às 07:37 de 06/11/19, Paolo Cavallini escreveu:
>> /me stupid: postgresql did not have read access to the file.
>> sorry for the noise
>>
>> Il 06/11/19 08:18, Paolo Cavallini ha scritto:
>>> Hi Jorge,
>>>
>>> Il 05/11/19 21:34, Jorge Gustavo Rocha ha scritto:
>>>
>>>> If you have GDAL >= 2.4, it should work. Can you check your GDAL version?
>>>
>>> 2.4.2+dfsg-2
>>>
>>>> Do you also have overviews/pyramids? The overviews should work, because
>>>> they are in db. Only the original raster is out-of-db.
>>>
>>> sure, all "normal" rasters, incluging the pyramids, are correctly shown.
>>>
>>> thanks for the feedback.
>>>
>>>> Às 20:24 de 05/11/19, Paolo Cavallini escreveu:
>>>>> Hi all,
>>>>> loading PostGIS rasters from the browser works very well, thanks Ale!
>>>>> However, those loaded with the -R option (out of db rasters) throw an error:
>>>>>
>>>>> Warning: Logged warning: RasterIO error:
>>>>> PostGISRasterRasterBand::IRasterIO(): ERROR:  rt_band_load_offline_data:
>>>>> Cannot open offline raster:
>>>>> /home/paolo/Documents/Didattica/Corsi_Formazione_Faunalia/PostGIS/data/dtm_nord.tif
>>>>>
>>>>> I have enabled out-of-db rasters:
>>>>>
>>>>>  POSTGIS_ENABLE_OUTDB_RASTERS=1
>>>>>  POSTGIS_GDAL_ENABLED_DRIVERS=ENABLE_ALL
>>>>>
>>>>> The same data are readable from psql
>>>>> select * from dtm_ext ;
>>>>> ┌─────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>>>>> │ rid │
>>>>>
>>>>> ├─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
>>>>> │   1 │ 01000001...
>>>>>
>>>>> Is this a known limitation, or do I need some additional config?
>>>>>
>>>>> Thanks.
>>>>>
>>>>
>>>> J. Gustavo
>>>>
>>>
>>
> 
> J. Gustavo
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From rdmailings at duif.net  Wed Nov  6 02:34:49 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 06 Nov 2019 11:34:49 +0100
Subject: [QGIS-Developer] Geopackage as QGIS mapserver datasource
	failing?
In-Reply-To: <56db2c04-4b25-a685-a751-1fd999395879@di.uminho.pt>
References: <653c26de6921d02478c9add42a36001c@duif.net>
 <56db2c04-4b25-a685-a751-1fd999395879@di.uminho.pt>
Message-ID: <a730b25507364a0c17c5081e7395f395@duif.net>

On 2019-11-06 10:27, Jorge Gustavo Rocha wrote:
> Hi Richard,
> 
>> failed to opened in update mode, trying in read-only mode
> 
> The file is on /tmp. Why can't QGIS open it in write mode? Can you 
> check
> the permissions?

Thanks Jorge,

This was indeed my problem.. Both files were in /tmp and (not sure why) 
but apparently the apache user www-data:www-data (or fcgi proces?) is 
not allowed to open the geopackage there...

Copied same file/permissions it to my /usr/lib/cgi-bin and it worked!

Sorry for the fuzzz...

Regards,

Richard

PS experimenting with wms-t in qgisserver 3.10/master:   works!!!  :-)

From Bauer.Josef at swm.de  Wed Nov  6 02:30:52 2019
From: Bauer.Josef at swm.de (Bauer.Josef at swm.de)
Date: Wed, 6 Nov 2019 10:30:52 +0000
Subject: [QGIS-Developer] Automatically install and update plugins
Message-ID: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>

Dear QGIS Developer,

we have written some plugins that we would like to be installed and updated automatically (without any user interaction). We have also setup an internal plugins server. We can install the plugins from our plugin server manually, but is there also the possibility to install and update them without any user interactions (we have pre-configured the plugins in the QGIS3.ini)?

Kind regards,
Josef
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/90f2b951/attachment-0001.html>

From apasotti at gmail.com  Wed Nov  6 02:50:19 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 6 Nov 2019 11:50:19 +0100
Subject: [QGIS-Developer] Automatically install and update plugins
In-Reply-To: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>
References: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>
Message-ID: <CAL5Q673RTzv-6XfQcbLx3WnOObX55vU5Hd4j6PEE+gb9f8NGLg@mail.gmail.com>

On Wed, Nov 6, 2019 at 11:38 AM <Bauer.Josef at swm.de> wrote:

> Dear QGIS Developer,
>
>
>
> we have written some plugins that we would like to be installed and
> updated automatically (without any user interaction). We have also setup an
> internal plugins server. We can install the plugins from our plugin server
> manually, but is there also the possibility to install and update them
> without any user interactions (we have pre-configured the plugins in the
> QGIS3.ini)?
>


basically, you need to create a custom startup py file and deploy it (it
can also live on a network share), the startup script will contain the
instructions (using the QGIS python API)
to upgrade the plugins you need automatically.

See the links for some more information:

https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html#the-startup-py-file
https://docs.qgis.org/testing/en/docs/user_manual/introduction/qgis_configuration.html#deploying-qgis-within-an-organization


Hope this helps.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/93914b47/attachment.html>

From Bauer.Josef at swm.de  Wed Nov  6 03:10:21 2019
From: Bauer.Josef at swm.de (Bauer.Josef at swm.de)
Date: Wed, 6 Nov 2019 11:10:21 +0000
Subject: [QGIS-Developer] Automatically install and update plugins
In-Reply-To: <CAL5Q673RTzv-6XfQcbLx3WnOObX55vU5Hd4j6PEE+gb9f8NGLg@mail.gmail.com>
References: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>
 <CAL5Q673RTzv-6XfQcbLx3WnOObX55vU5Hd4j6PEE+gb9f8NGLg@mail.gmail.com>
Message-ID: <A0BCE16A46420F41A50029DC948A3AE42C15CA7B@SVEXMB01.intra.swm.de>

Hi Allesandro,

thank you for the answer. That sounds very promising. I think that is what we need.

But can you tell me what exact Python API we have to use? I can’t find anything related to that topic in the API documentation [0] (we are using the LTR version QGIS 3.4).

[0] https://qgis.org/pyqgis/3.4/index.html

Tanks und kind regards,
Josef

Von: Alessandro Pasotti <apasotti at gmail.com>
Gesendet: Mittwoch, 6. November 2019 11:50
An: Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de>
Cc: QGIS Developer Mailing List <qgis-developer at lists.osgeo.org>
Betreff: Re: [QGIS-Developer] Automatically install and update plugins



On Wed, Nov 6, 2019 at 11:38 AM <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>> wrote:
Dear QGIS Developer,

we have written some plugins that we would like to be installed and updated automatically (without any user interaction). We have also setup an internal plugins server. We can install the plugins from our plugin server manually, but is there also the possibility to install and update them without any user interactions (we have pre-configured the plugins in the QGIS3.ini)?


basically, you need to create a custom startup py file and deploy it (it can also live on a network share), the startup script will contain the instructions (using the QGIS python API)
to upgrade the plugins you need automatically.

See the links for some more information:

https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html#the-startup-py-file
https://docs.qgis.org/testing/en/docs/user_manual/introduction/qgis_configuration.html#deploying-qgis-within-an-organization


Hope this helps.

--
Alessandro Pasotti
w3:   www.itopen.it<http://www.itopen.it>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/279ccd7e/attachment-0001.html>

From apasotti at gmail.com  Wed Nov  6 03:20:57 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 6 Nov 2019 12:20:57 +0100
Subject: [QGIS-Developer] Automatically install and update plugins
In-Reply-To: <A0BCE16A46420F41A50029DC948A3AE42C15CA7B@SVEXMB01.intra.swm.de>
References: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>
 <CAL5Q673RTzv-6XfQcbLx3WnOObX55vU5Hd4j6PEE+gb9f8NGLg@mail.gmail.com>
 <A0BCE16A46420F41A50029DC948A3AE42C15CA7B@SVEXMB01.intra.swm.de>
Message-ID: <CAL5Q671NXiDdHM=FiteLVKCch1eeecGiPZdzkZmFom2qvW28sg@mail.gmail.com>

On Wed, Nov 6, 2019 at 12:10 PM <Bauer.Josef at swm.de> wrote:

> Hi Allesandro,
>
>
>
> thank you for the answer. That sounds very promising. I think that is what
> we need.
>
>
>
> But can you tell me what exact Python API we have to use? I can’t find
> anything related to that topic in the API documentation [0] (we are using
> the LTR version QGIS 3.4).
>
>
>

Yeah, there is not much QGIS core API for plugins management, it's mainly
done in the Python side:
https://github.com/qgis/QGIS/blob/master/python/pyplugin_installer/installer.py




> [0] https://qgis.org/pyqgis/3.4/index.html
>
>
>
> Tanks und kind regards,
>
> Josef
>
>
>
> *Von:* Alessandro Pasotti <apasotti at gmail.com>
> *Gesendet:* Mittwoch, 6. November 2019 11:50
> *An:* Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de>
> *Cc:* QGIS Developer Mailing List <qgis-developer at lists.osgeo.org>
> *Betreff:* Re: [QGIS-Developer] Automatically install and update plugins
>
>
>
>
>
>
>
> On Wed, Nov 6, 2019 at 11:38 AM <Bauer.Josef at swm.de> wrote:
>
> Dear QGIS Developer,
>
>
>
> we have written some plugins that we would like to be installed and
> updated automatically (without any user interaction). We have also setup an
> internal plugins server. We can install the plugins from our plugin server
> manually, but is there also the possibility to install and update them
> without any user interactions (we have pre-configured the plugins in the
> QGIS3.ini)?
>
>
>
>
>
> basically, you need to create a custom startup py file and deploy it (it
> can also live on a network share), the startup script will contain the
> instructions (using the QGIS python API)
>
> to upgrade the plugins you need automatically.
>
>
>
> See the links for some more information:
>
>
>
>
> https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html#the-startup-py-file
>
>
> https://docs.qgis.org/testing/en/docs/user_manual/introduction/qgis_configuration.html#deploying-qgis-within-an-organization
>
>
>
>
>
> Hope this helps.
>
>
>
> --
>
> Alessandro Pasotti
> w3:   www.itopen.it
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/426824bb/attachment.html>

From senhor.neto at gmail.com  Wed Nov  6 03:48:59 2019
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 6 Nov 2019 11:48:59 +0000
Subject: [QGIS-Developer] Use PyQGIS to change a group of selected vertices
	(vertex tool)
Message-ID: <CA+H0G_FBWLw_i2yWwzT0VJwpcC_C7COB_5gtsMvihvXeCe9h0g@mail.gmail.com>

Hi,

Having selected a couple of vertices using the Vertex Tool, how can I have
access to the selected Vertex using PyQGIS, and eventually change them?

I see that there is a vertex iterator, but I can't seem to understand how
to get to it.

Use case: I have 3D lines with some problems in the Z values. I wanted to
retrieve the nodes, change the z values and update them in the feature
geometry.

Thanks,

Alexandre Neto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/83b58905/attachment.html>

From noreply at qgis.org  Wed Nov  6 03:57:58 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Nov 2019 11:57:58 -0000
Subject: [QGIS-Developer] Plugin [1815] OpenEO approval notification.
Message-ID: <20191106115758.24289.82324@2c6504964296>


Plugin OpenEO approval by pcav.
The plugin version "[1815] OpenEO 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/openeo-qgis-plugin-master/

From Bauer.Josef at swm.de  Wed Nov  6 04:27:14 2019
From: Bauer.Josef at swm.de (Bauer.Josef at swm.de)
Date: Wed, 6 Nov 2019 12:27:14 +0000
Subject: [QGIS-Developer] Automatically install and update plugins
In-Reply-To: <CAL5Q671NXiDdHM=FiteLVKCch1eeecGiPZdzkZmFom2qvW28sg@mail.gmail.com>
References: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>
 <CAL5Q673RTzv-6XfQcbLx3WnOObX55vU5Hd4j6PEE+gb9f8NGLg@mail.gmail.com>
 <A0BCE16A46420F41A50029DC948A3AE42C15CA7B@SVEXMB01.intra.swm.de>
 <CAL5Q671NXiDdHM=FiteLVKCch1eeecGiPZdzkZmFom2qvW28sg@mail.gmail.com>
Message-ID: <A0BCE16A46420F41A50029DC948A3AE42C15CB0A@SVEXMB01.intra.swm.de>

Hi Alessandro,

thank you very much, that was exactly what we were looking for!

Maybe it would be nice to put the QgsPluginInstaller also into the official API documentation (or in the “Deploying QGIS within an organization” documentation)? I could imagine that others also try to establish an “autoinstall/autoupdate” scenario.

Best regards,
Josef

Von: Alessandro Pasotti <apasotti at gmail.com>
Gesendet: Mittwoch, 6. November 2019 12:21
An: Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de>
Cc: QGIS Developer Mailing List <qgis-developer at lists.osgeo.org>
Betreff: Re: [QGIS-Developer] Automatically install and update plugins


On Wed, Nov 6, 2019 at 12:10 PM <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>> wrote:
Hi Allesandro,

thank you for the answer. That sounds very promising. I think that is what we need.

But can you tell me what exact Python API we have to use? I can’t find anything related to that topic in the API documentation [0] (we are using the LTR version QGIS 3.4).


Yeah, there is not much QGIS core API for plugins management, it's mainly done in the Python side: https://github.com/qgis/QGIS/blob/master/python/pyplugin_installer/installer.py



[0] https://qgis.org/pyqgis/3.4/index.html

Tanks und kind regards,
Josef

Von: Alessandro Pasotti <apasotti at gmail.com<mailto:apasotti at gmail.com>>
Gesendet: Mittwoch, 6. November 2019 11:50
An: Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>>
Cc: QGIS Developer Mailing List <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Betreff: Re: [QGIS-Developer] Automatically install and update plugins



On Wed, Nov 6, 2019 at 11:38 AM <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>> wrote:
Dear QGIS Developer,

we have written some plugins that we would like to be installed and updated automatically (without any user interaction). We have also setup an internal plugins server. We can install the plugins from our plugin server manually, but is there also the possibility to install and update them without any user interactions (we have pre-configured the plugins in the QGIS3.ini)?


basically, you need to create a custom startup py file and deploy it (it can also live on a network share), the startup script will contain the instructions (using the QGIS python API)
to upgrade the plugins you need automatically.

See the links for some more information:

https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html#the-startup-py-file
https://docs.qgis.org/testing/en/docs/user_manual/introduction/qgis_configuration.html#deploying-qgis-within-an-organization


Hope this helps.

--
Alessandro Pasotti
w3:   www.itopen.it<http://www.itopen.it>


--
Alessandro Pasotti
w3:   www.itopen.it<http://www.itopen.it>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/0634ecda/attachment-0001.html>

From apasotti at gmail.com  Wed Nov  6 04:37:48 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 6 Nov 2019 13:37:48 +0100
Subject: [QGIS-Developer] Automatically install and update plugins
In-Reply-To: <A0BCE16A46420F41A50029DC948A3AE42C15CB0A@SVEXMB01.intra.swm.de>
References: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>
 <CAL5Q673RTzv-6XfQcbLx3WnOObX55vU5Hd4j6PEE+gb9f8NGLg@mail.gmail.com>
 <A0BCE16A46420F41A50029DC948A3AE42C15CA7B@SVEXMB01.intra.swm.de>
 <CAL5Q671NXiDdHM=FiteLVKCch1eeecGiPZdzkZmFom2qvW28sg@mail.gmail.com>
 <A0BCE16A46420F41A50029DC948A3AE42C15CB0A@SVEXMB01.intra.swm.de>
Message-ID: <CAL5Q672jPKR6u8dgjF6C9nvgvz=NQnzhBvqx-1wve9vDGON2HQ@mail.gmail.com>

On Wed, Nov 6, 2019 at 1:27 PM <Bauer.Josef at swm.de> wrote:

> Hi Alessandro,
>
>
>
> thank you very much, that was exactly what we were looking for!
>
>
>
> Maybe it would be nice to put the QgsPluginInstaller also into the
> official API documentation (or in the “Deploying QGIS within an
> organization” documentation)? I could imagine that others also try to
> establish an “autoinstall/autoupdate” scenario.
>

I'm not sure we can add that information to the API docs, because that code
is not part of the stable API but it's something to consider for sure.

Btw, I've just found buried in the internet a work I've done a few years
ago when I was working for Boundless:

https://boundless-desktop.readthedocs.io/en/latest/system_admins/init_scripts.html#scripts-examples

It may be helpful for your use case (I think it's for QGIS 2.x but it
should be easily portable to QGI 3).




>
> Best regards,
>
> Josef
>
>
>
> *Von:* Alessandro Pasotti <apasotti at gmail.com>
> *Gesendet:* Mittwoch, 6. November 2019 12:21
> *An:* Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de>
> *Cc:* QGIS Developer Mailing List <qgis-developer at lists.osgeo.org>
> *Betreff:* Re: [QGIS-Developer] Automatically install and update plugins
>
>
>
>
>
> On Wed, Nov 6, 2019 at 12:10 PM <Bauer.Josef at swm.de> wrote:
>
> Hi Allesandro,
>
>
>
> thank you for the answer. That sounds very promising. I think that is what
> we need.
>
>
>
> But can you tell me what exact Python API we have to use? I can’t find
> anything related to that topic in the API documentation [0] (we are using
> the LTR version QGIS 3.4).
>
>
>
>
>
> Yeah, there is not much QGIS core API for plugins management, it's mainly
> done in the Python side:
> https://github.com/qgis/QGIS/blob/master/python/pyplugin_installer/installer.py
>
>
>
>
>
>
>
> [0] https://qgis.org/pyqgis/3.4/index.html
>
>
>
> Tanks und kind regards,
>
> Josef
>
>
>
> *Von:* Alessandro Pasotti <apasotti at gmail.com>
> *Gesendet:* Mittwoch, 6. November 2019 11:50
> *An:* Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de>
> *Cc:* QGIS Developer Mailing List <qgis-developer at lists.osgeo.org>
> *Betreff:* Re: [QGIS-Developer] Automatically install and update plugins
>
>
>
>
>
>
>
> On Wed, Nov 6, 2019 at 11:38 AM <Bauer.Josef at swm.de> wrote:
>
> Dear QGIS Developer,
>
>
>
> we have written some plugins that we would like to be installed and
> updated automatically (without any user interaction). We have also setup an
> internal plugins server. We can install the plugins from our plugin server
> manually, but is there also the possibility to install and update them
> without any user interactions (we have pre-configured the plugins in the
> QGIS3.ini)?
>
>
>
>
>
> basically, you need to create a custom startup py file and deploy it (it
> can also live on a network share), the startup script will contain the
> instructions (using the QGIS python API)
>
> to upgrade the plugins you need automatically.
>
>
>
> See the links for some more information:
>
>
>
>
> https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html#the-startup-py-file
>
>
> https://docs.qgis.org/testing/en/docs/user_manual/introduction/qgis_configuration.html#deploying-qgis-within-an-organization
>
>
>
>
>
> Hope this helps.
>
>
>
> --
>
> Alessandro Pasotti
> w3:   www.itopen.it
>
>
>
> --
>
> Alessandro Pasotti
> w3:   www.itopen.it
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/2e24fb3b/attachment.html>

From Bauer.Josef at swm.de  Wed Nov  6 05:16:11 2019
From: Bauer.Josef at swm.de (Bauer.Josef at swm.de)
Date: Wed, 6 Nov 2019 13:16:11 +0000
Subject: [QGIS-Developer] Automatically install and update plugins
In-Reply-To: <CAL5Q672jPKR6u8dgjF6C9nvgvz=NQnzhBvqx-1wve9vDGON2HQ@mail.gmail.com>
References: <A0BCE16A46420F41A50029DC948A3AE42C15CA1D@SVEXMB01.intra.swm.de>
 <CAL5Q673RTzv-6XfQcbLx3WnOObX55vU5Hd4j6PEE+gb9f8NGLg@mail.gmail.com>
 <A0BCE16A46420F41A50029DC948A3AE42C15CA7B@SVEXMB01.intra.swm.de>
 <CAL5Q671NXiDdHM=FiteLVKCch1eeecGiPZdzkZmFom2qvW28sg@mail.gmail.com>
 <A0BCE16A46420F41A50029DC948A3AE42C15CB0A@SVEXMB01.intra.swm.de>
 <CAL5Q672jPKR6u8dgjF6C9nvgvz=NQnzhBvqx-1wve9vDGON2HQ@mail.gmail.com>
Message-ID: <A0BCE16A46420F41A50029DC948A3AE42C15CB3D@SVEXMB01.intra.swm.de>

Hi Alessandro,

thanks again. That is a very good collection of useful topics. I am sure that will help us.

Best regards,
Josef


Von: Alessandro Pasotti <apasotti at gmail.com>
Gesendet: Mittwoch, 6. November 2019 13:38
An: Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de>
Cc: QGIS Developer Mailing List <qgis-developer at lists.osgeo.org>
Betreff: Re: [QGIS-Developer] Automatically install and update plugins


On Wed, Nov 6, 2019 at 1:27 PM <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>> wrote:
Hi Alessandro,

thank you very much, that was exactly what we were looking for!

Maybe it would be nice to put the QgsPluginInstaller also into the official API documentation (or in the “Deploying QGIS within an organization” documentation)? I could imagine that others also try to establish an “autoinstall/autoupdate” scenario.

I'm not sure we can add that information to the API docs, because that code is not part of the stable API but it's something to consider for sure.

Btw, I've just found buried in the internet a work I've done a few years ago when I was working for Boundless:

https://boundless-desktop.readthedocs.io/en/latest/system_admins/init_scripts.html#scripts-examples

It may be helpful for your use case (I think it's for QGIS 2.x but it should be easily portable to QGI 3).




Best regards,
Josef

Von: Alessandro Pasotti <apasotti at gmail.com<mailto:apasotti at gmail.com>>
Gesendet: Mittwoch, 6. November 2019 12:21
An: Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>>
Cc: QGIS Developer Mailing List <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Betreff: Re: [QGIS-Developer] Automatically install and update plugins


On Wed, Nov 6, 2019 at 12:10 PM <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>> wrote:
Hi Allesandro,

thank you for the answer. That sounds very promising. I think that is what we need.

But can you tell me what exact Python API we have to use? I can’t find anything related to that topic in the API documentation [0] (we are using the LTR version QGIS 3.4).


Yeah, there is not much QGIS core API for plugins management, it's mainly done in the Python side: https://github.com/qgis/QGIS/blob/master/python/pyplugin_installer/installer.py



[0] https://qgis.org/pyqgis/3.4/index.html

Tanks und kind regards,
Josef

Von: Alessandro Pasotti <apasotti at gmail.com<mailto:apasotti at gmail.com>>
Gesendet: Mittwoch, 6. November 2019 11:50
An: Bauer.Josef extern IT-DS-TS <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>>
Cc: QGIS Developer Mailing List <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Betreff: Re: [QGIS-Developer] Automatically install and update plugins



On Wed, Nov 6, 2019 at 11:38 AM <Bauer.Josef at swm.de<mailto:Bauer.Josef at swm.de>> wrote:
Dear QGIS Developer,

we have written some plugins that we would like to be installed and updated automatically (without any user interaction). We have also setup an internal plugins server. We can install the plugins from our plugin server manually, but is there also the possibility to install and update them without any user interactions (we have pre-configured the plugins in the QGIS3.ini)?


basically, you need to create a custom startup py file and deploy it (it can also live on a network share), the startup script will contain the instructions (using the QGIS python API)
to upgrade the plugins you need automatically.

See the links for some more information:

https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html#the-startup-py-file
https://docs.qgis.org/testing/en/docs/user_manual/introduction/qgis_configuration.html#deploying-qgis-within-an-organization


Hope this helps.

--
Alessandro Pasotti
w3:   www.itopen.it<http://www.itopen.it>


--
Alessandro Pasotti
w3:   www.itopen.it<http://www.itopen.it>


--
Alessandro Pasotti
w3:   www.itopen.it<http://www.itopen.it>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/e762920d/attachment-0001.html>

From winfixit at gmail.com  Wed Nov  6 05:29:59 2019
From: winfixit at gmail.com (Jo)
Date: Wed, 6 Nov 2019 14:29:59 +0100
Subject: [QGIS-Developer] Use PyQGIS to change a group of selected
 vertices (vertex tool)
In-Reply-To: <CA+H0G_FBWLw_i2yWwzT0VJwpcC_C7COB_5gtsMvihvXeCe9h0g@mail.gmail.com>
References: <CA+H0G_FBWLw_i2yWwzT0VJwpcC_C7COB_5gtsMvihvXeCe9h0g@mail.gmail.com>
Message-ID: <CAJ6DwMCcr+ACskn0Jn3Dt14y3XXrmSeuTX73VqzmKyz7weUguA@mail.gmail.com>

I'm also interested in the answer to this question. I was under the
impression that the vertex tool (and thus  what you select in it) is not
accessible from Python.

This is very unfortunate, as I would also like to do something with the
selection of some of those vertices.

Jo

On Wed, Nov 6, 2019 at 12:49 PM Alexandre Neto <senhor.neto at gmail.com>
wrote:

> Hi,
>
> Having selected a couple of vertices using the Vertex Tool, how can I have
> access to the selected Vertex using PyQGIS, and eventually change them?
>
> I see that there is a vertex iterator, but I can't seem to understand how
> to get to it.
>
> Use case: I have 3D lines with some problems in the Z values. I wanted to
> retrieve the nodes, change the z values and update them in the feature
> geometry.
>
> Thanks,
>
> Alexandre Neto
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/d39f3ee4/attachment.html>

From noreply at qgis.org  Wed Nov  6 06:06:17 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Nov 2019 14:06:17 -0000
Subject: [QGIS-Developer] Plugin [1669] EnMAP-Box 3 approval notification.
Message-ID: <20191106140617.23908.95220@2c6504964296>


Plugin EnMAP-Box 3 approval by pcav.
The plugin version "[1669] EnMAP-Box 3 3.5.20191106T1501.master" is now approved
Link: http://plugins.qgis.org/plugins/enmapboxplugin/

From noreply at qgis.org  Wed Nov  6 07:58:14 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 06 Nov 2019 15:58:14 -0000
Subject: [QGIS-Developer] Plugin [1873] KoALA approval notification.
Message-ID: <20191106155814.23889.17875@2c6504964296>


Plugin KoALA approval by pcav.
The plugin version "[1873] KoALA 0.5.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/KoALA/

From sydv at sjgeophysics.com  Wed Nov  6 09:24:46 2019
From: sydv at sjgeophysics.com (Syd Visser)
Date: Wed, 6 Nov 2019 09:24:46 -0800
Subject: [QGIS-Developer] rotate feature issue
In-Reply-To: <CAB28AsiPcwxEXUqbqrD9RyYt2SAeU+4xvo=M4C2Tyd4CfV01yA@mail.gmail.com>
References: <0d27cfa1-1efb-dc03-39ec-495037011254@sjgeophysics.com>
 <CAB28AsiPcwxEXUqbqrD9RyYt2SAeU+4xvo=M4C2Tyd4CfV01yA@mail.gmail.com>
Message-ID: <96822d01-e3db-3cdd-b678-069de0ee21ce@sjgeophysics.com>

thanks for the quick reply

*Syd (Sipke) Visser, P.Geo.*
President, Snr. Geophysicist/Geologist

Tel: 1 (604) 582-1100
Cell: 1 (604) 813-1440
sydv at sjgeophysics.com
www.sjgeophysics.com <http://www.sjgeophysics.com>

<http://www.sjgeophysics.com>

On 2019-11-05 3:45 p.m., Nyall Dawson wrote:
> On Wed, 6 Nov 2019 at 09:23, Syd Visser <sydv at sjgeophysics.com> wrote:
>> When using the edit function Rotate Feature. QGIS 8.10 on ubuntu 8.04  appears to go into infinite loop taking up 100% of one CPU.
>>
>> the only way out appears to be to crash QGIS
> Unfortunately this is a known issue, already fixed for 3.10.1
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191106/273f2b2d/attachment.html>

From noreply at qgis.org  Thu Nov  7 01:16:39 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Nov 2019 09:16:39 -0000
Subject: [QGIS-Developer] =?utf-8?q?Plugin_=5B1861=5D_Przechwy=C4=87_Wysok?=
 =?utf-8?q?o=C5=9B=C4=87_GUGiK_NMT_API_approval_notification=2E?=
Message-ID: <20191107091639.9595.66142@2c6504964296>


Plugin Przechwyć Wysokość GUGiK NMT API approval by pcav.
The plugin version "[1861] Przechwyć Wysokość GUGiK NMT API 1.1" is now approved
Link: http://plugins.qgis.org/plugins/nmt_gugik/

From luca.manganelli at comune.trento.it  Thu Nov  7 03:31:09 2019
From: luca.manganelli at comune.trento.it (Luca Manganelli)
Date: Thu, 7 Nov 2019 12:31:09 +0100
Subject: [QGIS-Developer] PostgreSQL 12 not supported?
In-Reply-To: <308b0256-a48a-6985-9630-c7ea8ff33326@faunalia.it>
References: <308b0256-a48a-6985-9630-c7ea8ff33326@faunalia.it>
Message-ID: <CAGKduJ0Q1Khke6sO-=TaPAu22OrW0phzPO+pdLyVz2gcyuULaw@mail.gmail.com>

Il giorno mar 5 nov 2019 alle ore 18:32 Paolo Cavallini <
cavallini at faunalia.it> ha scritto:
> Hi all,
> apparently PostgreSQL 12 is not supported in current QGIS:
> https://github.com/qgis/QGIS/issues/32321
> Has anyone had a look to this? Does it imply a deep intervention in the
> provider, or it can be fixed with minor adjustments?
> Thanks.

I know that's a bit late... is Postgresql 12 compatible with QGIS 2.18?

-- 





Comune di Trento 

via Belenzani, 19 - 38122 Trento | C.F e P. IVA: 
00355870221

tel. +39 0461.884111 | www.comune.trento.it 
<http://www.comune.trento.it> 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191107/211dbbea/attachment.html>

From cavallini at faunalia.it  Thu Nov  7 04:59:18 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 07 Nov 2019 14:59:18 +0200
Subject: [QGIS-Developer] PostgreSQL 12 not supported?
In-Reply-To: <CAGKduJ0Q1Khke6sO-=TaPAu22OrW0phzPO+pdLyVz2gcyuULaw@mail.gmail.com>
References: <308b0256-a48a-6985-9630-c7ea8ff33326@faunalia.it>
 <CAGKduJ0Q1Khke6sO-=TaPAu22OrW0phzPO+pdLyVz2gcyuULaw@mail.gmail.com>
Message-ID: <CFA2C1C7-B739-44AF-9AE2-6FF0620B8A21@faunalia.it>

Not fully for sure.
All the best.

On 7 November 2019 13:31:09 EET, Luca Manganelli <luca.manganelli at comune.trento.it> wrote:
>Il giorno mar 5 nov 2019 alle ore 18:32 Paolo Cavallini <
>cavallini at faunalia.it> ha scritto:
>> Hi all,
>> apparently PostgreSQL 12 is not supported in current QGIS:
>> https://github.com/qgis/QGIS/issues/32321
>> Has anyone had a look to this? Does it imply a deep intervention in
>the
>> provider, or it can be fixed with minor adjustments?
>> Thanks.
>
>I know that's a bit late... is Postgresql 12 compatible with QGIS 2.18?
>
>-- 
>
>
>
>
>
>Comune di Trento 
>
>via Belenzani, 19 - 38122 Trento | C.F e P. IVA: 
>00355870221
>
>tel. +39 0461.884111 | www.comune.trento.it 
><http://www.comune.trento.it> 

-- 
Please excuse my brevity.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191107/37f58f51/attachment.html>

From noreply at qgis.org  Thu Nov  7 05:50:16 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Nov 2019 13:50:16 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20191107135016.9663.5193@2c6504964296>


Plugin UMEP approval by pcav.
The plugin version "[1364] UMEP 3.10.6" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From apasotti at gmail.com  Thu Nov  7 08:40:08 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 7 Nov 2019 17:40:08 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
Message-ID: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>

Hi,

I'm running into an issue with OAPIF and blob/binary fields, the
QgsJsonExporter does not currently handle that kind of field and just
convert them to string (whatever that means).

This is clearly wrong in case the blob does not contain ascii or UTF-8, I
think the way to go might be to base64 the blob but I'd like to know if
anyone has a better idea.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191107/f3753f54/attachment.html>

From noreply at qgis.org  Thu Nov  7 09:10:04 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 07 Nov 2019 17:10:04 -0000
Subject: [QGIS-Developer] Plugin [1214] Open eQuarter approval notification.
Message-ID: <20191107171004.8884.52001@2c6504964296>


Plugin Open eQuarter approval by pcav.
The plugin version "[1214] Open eQuarter 0.999a" is now approved
Link: http://plugins.qgis.org/plugins/mole/

From rldhont at gmail.com  Thu Nov  7 09:26:04 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 7 Nov 2019 18:26:04 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
Message-ID: <7c05094c-9870-9d83-3cb8-84c0c3cc7cdd@gmail.com>

Hi Alessandro,

I think the same as you,base64 the blob.

Regards,
René-Luc

Le 07/11/2019 à 17:40, Alessandro Pasotti a écrit :
> Hi,
>
> I'm running into an issue with OAPIF and blob/binary fields, the 
> QgsJsonExporter does not currently handle that kind of field and just 
> convert them to string (whatever that means).
>
> This is clearly wrong in case the blob does not contain ascii or 
> UTF-8, I think the way to go might be to base64 the blob but I'd like 
> to know if anyone has a better idea.
>
>
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191107/b0539da7/attachment.html>

From even.rouault at spatialys.com  Thu Nov  7 09:36:00 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 07 Nov 2019 18:36:00 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
Message-ID: <1919397.Bkay2Vyrp5@even-i700>

On jeudi 7 novembre 2019 17:40:08 CET Alessandro Pasotti wrote:
> Hi,
> 
> I'm running into an issue with OAPIF and blob/binary fields, the
> QgsJsonExporter does not currently handle that kind of field and just
> convert them to string (whatever that means).
> 
> This is clearly wrong in case the blob does not contain ascii or UTF-8, I
> think the way to go might be to base64 the blob but I'd like to know if
> anyone has a better idea.

Initially, I was going to suggest perhaps to wrap it inside an object with an 
explicit base64 member

like:

"my_binary_property": {
	"base64": "...."
}

But after looking at
https://json-schema.org/latest/json-schema-validation.html#rfc.section.8.3
https://json-schema.org/latest/json-schema-validation.html#rfc.section.8.6

perhaps just putting it at top level ( "my_binary_property": 
"base64contenthere" } is fine as you can tag this string property with 
"contentEncoding": "base64"

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From apasotti at gmail.com  Thu Nov  7 09:44:48 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 7 Nov 2019 18:44:48 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <1919397.Bkay2Vyrp5@even-i700>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
 <1919397.Bkay2Vyrp5@even-i700>
Message-ID: <CAL5Q670DuhMqQf5L4s5SxZC53ELiKALDh31GQ-yZ6fJnFZVOVQ@mail.gmail.com>

On Thu, Nov 7, 2019 at 6:36 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> On jeudi 7 novembre 2019 17:40:08 CET Alessandro Pasotti wrote:
> > Hi,
> >
> > I'm running into an issue with OAPIF and blob/binary fields, the
> > QgsJsonExporter does not currently handle that kind of field and just
> > convert them to string (whatever that means).
> >
> > This is clearly wrong in case the blob does not contain ascii or UTF-8, I
> > think the way to go might be to base64 the blob but I'd like to know if
> > anyone has a better idea.
>
> Initially, I was going to suggest perhaps to wrap it inside an object with
> an
> explicit base64 member
>
> like:
>
> "my_binary_property": {
>         "base64": "...."
> }
>
> But after looking at
> https://json-schema.org/latest/json-schema-validation.html#rfc.section.8.3
> https://json-schema.org/latest/json-schema-validation.html#rfc.section.8.6
>
> perhaps just putting it at top level ( "my_binary_property":
> "base64contenthere" } is fine as you can tag this string property with
> "contentEncoding": "base64"
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>

Thank you and Renè for the feedback!

Are you talking about the schema ?

this is the geojson payload I'm testing with:

{
        "geometry": {
            "coordinates": [[
            7.247,
            44.814
            ]],
            "type": "MultiPoint"
        },
        "properties": {
            "blob_1": "dGVzdA=="
        },
        "type": "Feature"
        }
}

Full tests are here:
https://github.com/qgis/QGIS/pull/32694/files#diff-2ea9f4a74bb6c60e8e586fbc9ad808a2R522

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191107/6349f303/attachment.html>

From even.rouault at spatialys.com  Thu Nov  7 10:23:29 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 07 Nov 2019 19:23:29 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <CAL5Q670DuhMqQf5L4s5SxZC53ELiKALDh31GQ-yZ6fJnFZVOVQ@mail.gmail.com>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
 <1919397.Bkay2Vyrp5@even-i700>
 <CAL5Q670DuhMqQf5L4s5SxZC53ELiKALDh31GQ-yZ6fJnFZVOVQ@mail.gmail.com>
Message-ID: <1585702.2MTRPJI6yj@even-i700>

> Are you talking about the schema ?

yes,"contentEncoding": "base64" would be for the JSON Schema

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From noreply at qgis.org  Thu Nov  7 20:41:13 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 08 Nov 2019 04:41:13 -0000
Subject: [QGIS-Developer] Plugin [1860] Stripchartdrawer approval
	notification.
Message-ID: <20191108044113.9663.61070@2c6504964296>


Plugin Stripchartdrawer approval by pcav.
The plugin version "[1860] Stripchartdrawer 0.6" is now approved
Link: http://plugins.qgis.org/plugins/stripchart/

From denis.rouzaud at gmail.com  Thu Nov  7 23:56:35 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 8 Nov 2019 08:56:35 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
Message-ID: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>

Dear all,

We have had the direct push forbidden to master for a bit of time and it
proved to be useful.
It apparently had been disabled and a direct push was made which broke
master.

I believe it's useless to list the advantages of enforcing the use of pull
requests, and I would probably fail to be exhaustive.
But I would like that we take a decision (taken by the dev community) and
stick to it.

I understand it is frustrating, but I currently don't see any valid reasons
not to respect this:
* releases are made from the release branches (so the recent event on
master doesn't seem to apply)
* if we have issues with Windows build, let's investigate if we can have a
CI linked to Github for this matter
* if we think the queue is too long, let's talk about subscribing to a
paying account on Travis (I am not trolling)

What is the path to take a decision on this i.e. enforcing to go through PR
on master?

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/5d76adae/attachment.html>

From jef at norbit.de  Fri Nov  8 00:02:06 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 8 Nov 2019 09:02:06 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
In-Reply-To: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
Message-ID: <20191108080206.gnmcmtyznwohxs6n@norbit.de>

Hi Denis,

On Fri, 08. Nov 2019 at 08:56:35 +0100, Denis Rouzaud wrote:
> We have had the direct push forbidden to master for a bit of time and it
> proved to be useful.

When did we vote on this?


> It apparently had been disabled and a direct push was made which broke
> master.

You mean it didn't fully fix it.  Because it was already broken - just travis
didn't notice.


> I believe it's useless to list the advantages of enforcing the use of pull
> requests, and I would probably fail to be exhaustive.

-1


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/d067dfaf/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/d067dfaf/attachment.ksh>

From denis.rouzaud at gmail.com  Fri Nov  8 00:19:11 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 8 Nov 2019 09:19:11 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
In-Reply-To: <20191108080206.gnmcmtyznwohxs6n@norbit.de>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
Message-ID: <CAMtsY+brf3rwRTUiW=WKiZ3BRWV3oggGryLhMGi0kgCCzNxNzw@mail.gmail.com>

Le ven. 8 nov. 2019 à 09:03, Jürgen E. Fischer <jef at norbit.de> a écrit :

> Hi Denis,
>
> On Fri, 08. Nov 2019 at 08:56:35 +0100, Denis Rouzaud wrote:
> > We have had the direct push forbidden to master for a bit of time and it
> > proved to be useful.
>
> When did we vote on this?
>

That is basically the goal of my initial mail, to know if and how we can
take a decision on this.


>
> > It apparently had been disabled and a direct push was made which broke
> > master.
>
> You mean it didn't fully fix it.  Because it was already broken - just
> travis
> didn't notice.
>

sorry, broke the CI.

>
>
> > I believe it's useless to list the advantages of enforcing the use of
> pull
> > requests, and I would probably fail to be exhaustive.
>
> -1
>

Are we voting ? ;)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/c25e0b1b/attachment.html>

From apasotti at gmail.com  Fri Nov  8 00:40:06 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 8 Nov 2019 09:40:06 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <1585702.2MTRPJI6yj@even-i700>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
 <1919397.Bkay2Vyrp5@even-i700>
 <CAL5Q670DuhMqQf5L4s5SxZC53ELiKALDh31GQ-yZ6fJnFZVOVQ@mail.gmail.com>
 <1585702.2MTRPJI6yj@even-i700>
Message-ID: <CAL5Q671xPxnnjvcMWNiSn3pxwxbZVQ8rGPtc+V4+QsPoz-r7sQ@mail.gmail.com>

On Thu, Nov 7, 2019 at 7:23 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> > Are you talking about the schema ?
>
> yes,"contentEncoding": "base64" would be for the JSON Schema
>
>
Yes, that makes perfectly sense.

If I'm not mistaken, we are still in the design phase for the schema and I
didn't implement anything yet in QGIS server but I'll keep that in mind
when I'll come to that.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/241a1468/attachment.html>

From denis.rouzaud at gmail.com  Fri Nov  8 01:03:52 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 8 Nov 2019 10:03:52 +0100
Subject: [QGIS-Developer] [Qgis-psc]  Direct push forbidden to master
In-Reply-To: <90062b0a-3999-0141-7885-6c3a2d3804ce@itopen.it>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
 <90062b0a-3999-0141-7885-6c3a2d3804ce@itopen.it>
Message-ID: <CAMtsY+as7vACfLYJqiuJvdy7docTUjcAk7aFqhRpT0dH+1pWog@mail.gmail.com>

Le ven. 8 nov. 2019 à 09:33, ElPaso <elpaso at itopen.it> a écrit :

>
> I'm with Jürgen on this, I think we all are responsible developers
> acting for the good of QGIS and I didn't see any abuse on direct commits
> in the past few years.
>

While not strictly talking about abuse, there has been quite a few direct
push commits which broke the CI.
That generally meant looking at someone else work to fix things, sometimes
by several persons at the same time.
It also means all last PRs jobs that have to be restarted.
It gives a bad image/impression.
It's frustrating.

One saves himself about one hour time to see his work integrated in the
final branch.
All the good soldiers in the Travis queue are good for a restart.

In the history of breaking commits, it's always "small and insignificant
changes which won't affect the build or the CI". I made a few of these in
the past too.
Just because we don't have docker and clang installed in our brains ;)

What are the valid arguments to allow direct pushes?
I can see only one: the release process might requires this since it relies
on the branches themselves.
But this was clearly not the case in the last event.


> On the contrary, I think I should have committed to master directly to
> correct a PR of mines that I merged by mistake the day before 3.10
> release (https://github.com/qgis/QGIS/pull/32369) instead of waiting for
> an approval that didn't arrive in time (in this case it wasn't really a
> big problem though).


OK, this might be a valid reason: to fix merge errors.
But this really sounds like an edge case to me.
Anyway, this directly fit in the release process window I was mentioning
above, which might require a special treatment.

So this could be a proposition.
Enforce PRs in standard time but allow direct push by a list of safe
core-devs during the release process window.

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/c6ca3e11/attachment-0001.html>

From nyall.dawson at gmail.com  Fri Nov  8 01:39:28 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 8 Nov 2019 19:39:28 +1000
Subject: [QGIS-Developer] [Qgis-psc]  Direct push forbidden to master
In-Reply-To: <CAMtsY+as7vACfLYJqiuJvdy7docTUjcAk7aFqhRpT0dH+1pWog@mail.gmail.com>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
 <90062b0a-3999-0141-7885-6c3a2d3804ce@itopen.it>
 <CAMtsY+as7vACfLYJqiuJvdy7docTUjcAk7aFqhRpT0dH+1pWog@mail.gmail.com>
Message-ID: <CAB28AshC8Mih_W1t3oUwcbz4TtpURZMo0zrEpN8m4GpH-52F+A@mail.gmail.com>

On Fri, 8 Nov 2019 at 19:04, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:

>>
>> I'm with Jürgen on this, I think we all are responsible developers
>> acting for the good of QGIS and I didn't see any abuse on direct commits
>> in the past few years.
>
>
> While not strictly talking about abuse, there has been quite a few direct push commits which broke the CI.
> That generally meant looking at someone else work to fix things, sometimes by several persons at the same time.
> It also means all last PRs jobs that have to be restarted.
> It gives a bad image/impression.
> It's frustrating.
>
> One saves himself about one hour time to see his work integrated in the final branch.
> All the good soldiers in the Travis queue are good for a restart

I'm +1 to forced use of pull requests and no direct pushes to master.
The reality is that breakage of CI today cost me quite a lot of wasted
time, when I had a very narrow window to make some bug fixes and see
that they would pass the CI tests before leaving for FOSS4G Oceania
next week.

My view is that it's just not a fair practice for other community
members -- while it avoids the submitter having to wait for the CI
checks to pass, the cost is the risk of causing large disruption to
many other developer's work.

If we all play nice and follow this practice then everyone is
following the same rules. If we relax it and allow force pushes from
some developers then we have inequality. And if we relax it for
everyone, we go back to the anarchy which development was in the early
2.x days (just thinking back on this gives me nightmares. I honestly
can't believe now looking back that we all (myself included) used to
push 1k+ line feature changes direct to master with zero code review
or CI tests. Eeeeeeeeeeeeeeeeee)

Nyall

>
> In the history of breaking commits, it's always "small and insignificant changes which won't affect the build or the CI". I made a few of these in the past too.
> Just because we don't have docker and clang installed in our brains ;)
>
> What are the valid arguments to allow direct pushes?
> I can see only one: the release process might requires this since it relies on the branches themselves.
> But this was clearly not the case in the last event.
>
>>
>> On the contrary, I think I should have committed to master directly to
>> correct a PR of mines that I merged by mistake the day before 3.10
>> release (https://github.com/qgis/QGIS/pull/32369) instead of waiting for
>> an approval that didn't arrive in time (in this case it wasn't really a
>> big problem though).
>
>
> OK, this might be a valid reason: to fix merge errors.
> But this really sounds like an edge case to me.
> Anyway, this directly fit in the release process window I was mentioning above, which might require a special treatment.
>
> So this could be a proposition.
> Enforce PRs in standard time but allow direct push by a list of safe core-devs during the release process window.
>
> Cheers,
> Denis
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc

From jef at norbit.de  Fri Nov  8 03:14:18 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 8 Nov 2019 12:14:18 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
In-Reply-To: <CAMtsY+brf3rwRTUiW=WKiZ3BRWV3oggGryLhMGi0kgCCzNxNzw@mail.gmail.com>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
 <CAMtsY+brf3rwRTUiW=WKiZ3BRWV3oggGryLhMGi0kgCCzNxNzw@mail.gmail.com>
Message-ID: <20191108111417.nfzfk2z247ztjwkb@norbit.de>

Hi Denis,

On Fri, 08. Nov 2019 at 09:19:11 +0100, Denis Rouzaud wrote:
> > > We have had the direct push forbidden to master for a bit of time and it
> > > proved to be useful.

> > When did we vote on this?

> That is basically the goal of my initial mail, to know if and how we can
> take a decision on this.

If I have a veto, then I already put it out.

Including windows in the CI and making it required to complete before merging
will make it even more painful than waiting for what we currently have for each
small commit - and it already gets more lengthy the more tests are added.

And it will also require to fix all the tests that never have worked on windows
(see cdash for the last 10 years or something - the nightlies run the tests -
kind of the reason I started with them - packages used to be a side effect -
the tests also don't work completely on at least some non-travis platforms -
but as it's non-travis nobody seem to care - but it doesn't seem to actually
point to actual problems in the application - just to things in the tests
themselves.

I don't see a big problem with having the CI broken for a short time.  It's
master.  And I think all the merge commits make a worse impression - esp. if
they are not squashed, than a temporary failing CI - and the former sticks in
the repository (as does a follow up commit for a breaking commit now an then).

I believe we are spend more time with the CI to prevent bugs than it ever could
take to fix them.

Anyway, odd that there were still includes missing - my local windows build
finally finished with the change (including building server, tests - also
including the oracle provider - which also was broken a number of times by
commits that went through the CI), but I didn't do clean a rebuild - because
then I would have missed the nightly build window (the builds are still
underway BTW).

But fortunately this time the nightly doesn't have to replace a working build
that is crashing on start.  Although that was quickly fixes, it was followed up
other build breaking changes so that that crashing package wasn't quickly
replaces (all that by commits that actually went through the CI).

So I'm split - theoretically CI and tests are fine - practically they take up a
lot of time to make, maintain and run - maybe more then they are worse - the
sometimes (often?) breaks (unrelated to the actual commits) and breaking direct
commits are also an edge case and not the rule.  But save a lot of time - and
also prevent people from making parallel PRs on the same issue.

If I a build fails, I pull and if the problem is still there I fix it.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/16942245/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/16942245/attachment.ksh>

From strk at kbt.io  Fri Nov  8 03:36:12 2019
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 8 Nov 2019 12:36:12 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
In-Reply-To: <20191108111417.nfzfk2z247ztjwkb@norbit.de>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
 <CAMtsY+brf3rwRTUiW=WKiZ3BRWV3oggGryLhMGi0kgCCzNxNzw@mail.gmail.com>
 <20191108111417.nfzfk2z247ztjwkb@norbit.de>
Message-ID: <20191108113612.GC9582@liz>

On Fri, Nov 08, 2019 at 12:14:18PM +0100, Jürgen E. Fischer wrote:

> So I'm split - theoretically CI and tests are fine - practically they take up a
> lot of time to make, maintain and run - maybe more then they are worse - the
> sometimes (often?) breaks (unrelated to the actual commits) and breaking direct
> commits are also an edge case and not the rule.  But save a lot of time - and
> also prevent people from making parallel PRs on the same issue.

I have the same experience: struggling with CI bots wasting lot
of time, having to re-base queued PRs on each merge to re-trigger
CI build and cross fingers they won't fail etc...

It's useful to have bots look after code but beware of them
taking over !

--strk;

From even.rouault at spatialys.com  Fri Nov  8 03:49:57 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 08 Nov 2019 12:49:57 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <CAL5Q671xPxnnjvcMWNiSn3pxwxbZVQ8rGPtc+V4+QsPoz-r7sQ@mail.gmail.com>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
 <1585702.2MTRPJI6yj@even-i700>
 <CAL5Q671xPxnnjvcMWNiSn3pxwxbZVQ8rGPtc+V4+QsPoz-r7sQ@mail.gmail.com>
Message-ID: <1629420.AgdHCJpj9P@even-i700>

> If I'm not mistaken, we are still in the design phase for the schema 

In OAPIF ? Well, not really. rel=describedBy is a possibility already offered by the core.
Used by a few implementations:
- JSON schema for:
	http://databio.spacebel.be/eo-features/collections/datasets
- XML schema for:
   http://ows.geo-solutions.it/geoserver/ne/ogc/features/collections/countries50m
   http://www.pvretano.com/cubewerx/cubeserv/default/wfs/3.0.0/framework/collections/UNINCORPORATED_PL

What is in discussion is a summary endpoint to present queryable, sortable, etc.. properties:
https://github.com/opengeospatial/ogcapi-features/pull/287

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From denis.rouzaud at gmail.com  Fri Nov  8 03:53:53 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 8 Nov 2019 12:53:53 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
In-Reply-To: <20191108111417.nfzfk2z247ztjwkb@norbit.de>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
 <CAMtsY+brf3rwRTUiW=WKiZ3BRWV3oggGryLhMGi0kgCCzNxNzw@mail.gmail.com>
 <20191108111417.nfzfk2z247ztjwkb@norbit.de>
Message-ID: <CAMtsY+Z9HQ-zdfALiya1X5J7z_ccbktWTwFxytvK3-8TkD0rXQ@mail.gmail.com>

Le ven. 8 nov. 2019 à 12:15, Jürgen E. Fischer <jef at norbit.de> a écrit :

> Hi Denis,
>
> On Fri, 08. Nov 2019 at 09:19:11 +0100, Denis Rouzaud wrote:
> > > > We have had the direct push forbidden to master for a bit of time
> and it
> > > > proved to be useful.
>
> > > When did we vote on this?
>
> > That is basically the goal of my initial mail, to know if and how we can
> > take a decision on this.
>
> If I have a veto, then I already put it out.
>

You do have specific concerns due to maintenance of windows builds and
releases, but I am quite confident that we can find a way which works for
all.

>
> Including windows in the CI and making it required to complete before
> merging
> will make it even more painful than waiting for what we currently have for
> each
> small commit - and it already gets more lengthy the more tests are added.


> And it will also require to fix all the tests that never have worked on
> windows
> (see cdash for the last 10 years or something - the nightlies run the
> tests -
> kind of the reason I started with them - packages used to be a side effect
> -
> the tests also don't work completely on at least some non-travis platforms
> -
> but as it's non-travis nobody seem to care - but it doesn't seem to
> actually
> point to actual problems in the application - just to things in the tests
> themselves.
>

We could run the build and not the tests.
Even asynchronously for windows if builds are too long.
That would be just a tad better than today, people would be aware of the
broken build and the original author could fix it instead of you.
I believe this is also a key factor here: you want direct push because you
are fixing other's work because....it's not tested!


> I don't see a big problem with having the CI broken for a short time.  It's
> master.


I do. It's a waste of time for several people.


> And I think all the merge commits make a worse impression - esp. if
> they are not squashed, than a temporary failing CI - and the former sticks
> in
> the repository (as does a follow up commit for a breaking commit now an
> then).
>

Totally agreed. But let's maybe keep this for a followup discussion if we
enforce PRs (way of merging).

I believe we are spend more time with the CI to prevent bugs than it ever
> could
> take to fix them.
>

Yeah I do have the same feeling sometime. But at least we can identify some
of the bugs before the release and can be reported independently.

>
> Anyway, odd that there were still includes missing - my local windows build
> finally finished with the change (including building server, tests - also
> including the oracle provider - which also was broken a number of times by
> commits that went through the CI), but I didn't do clean a rebuild -
> because
> then I would have missed the nightly build window (the builds are still
> underway BTW).
>
> But fortunately this time the nightly doesn't have to replace a working
> build
> that is crashing on start.  Although that was quickly fixes, it was
> followed up
> other build breaking changes so that that crashing package wasn't quickly
> replaces (all that by commits that actually went through the CI).
>
> So I'm split - theoretically CI and tests are fine - practically they take
> up a
> lot of time to make, maintain and run - maybe more then they are worse -
> the
> sometimes (often?) breaks (unrelated to the actual commits) and breaking
> direct
> commits are also an edge case and not the rule.  But save a lot of time -
> and
> also prevent people from making parallel PRs on the same issue.
>

That's what we're trying to avoid here. If we lower breaking commits, we
lower the chance than 2 devs are trying to fix master at the same time.

>
> If I a build fails, I pull and if the problem is still there I fix it.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/5df3bf45/attachment-0001.html>

From apasotti at gmail.com  Fri Nov  8 04:10:11 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 8 Nov 2019 13:10:11 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <1629420.AgdHCJpj9P@even-i700>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
 <1585702.2MTRPJI6yj@even-i700>
 <CAL5Q671xPxnnjvcMWNiSn3pxwxbZVQ8rGPtc+V4+QsPoz-r7sQ@mail.gmail.com>
 <1629420.AgdHCJpj9P@even-i700>
Message-ID: <CAL5Q672qKr9HL-Vkyw9URLTjx95s=d0VrMeaz_1zva3F5RedSA@mail.gmail.com>

On Fri, Nov 8, 2019 at 12:49 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> > If I'm not mistaken, we are still in the design phase for the schema
>
> In OAPIF ? Well, not really. rel=describedBy is a possibility already
> offered by the core.
> Used by a few implementations:
> - JSON schema for:
>         http://databio.spacebel.be/eo-features/collections/datasets
> - XML schema for:
>
> http://ows.geo-solutions.it/geoserver/ne/ogc/features/collections/countries50m
>
> http://www.pvretano.com/cubewerx/cubeserv/default/wfs/3.0.0/framework/collections/UNINCORPORATED_PL
>
> What is in discussion is a summary endpoint to present queryable,
> sortable, etc.. properties:
> https://github.com/opengeospatial/ogcapi-features/pull/287
>
> Even
>
>
Thanks for the links,  I suppose that the quickest way for QGIS Server will
be to forward to WFS XML schema like geoserver does.

JSON schema is waaay harder to implement from scratches.

Will GDAL be able to use describedBy in the future?


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/567a55ac/attachment.html>

From even.rouault at spatialys.com  Fri Nov  8 04:16:01 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 08 Nov 2019 13:16:01 +0100
Subject: [QGIS-Developer] How to encode blobs in (Geo)JSON?
In-Reply-To: <CAL5Q672qKr9HL-Vkyw9URLTjx95s=d0VrMeaz_1zva3F5RedSA@mail.gmail.com>
References: <CAL5Q6703zrANieWTzNC=0HVEecWVJkqPkC9XNkm8uuWG-h9BGA@mail.gmail.com>
 <1629420.AgdHCJpj9P@even-i700>
 <CAL5Q672qKr9HL-Vkyw9URLTjx95s=d0VrMeaz_1zva3F5RedSA@mail.gmail.com>
Message-ID: <1689752.YFXQSNiLcA@even-i700>

> Thanks for the links,  I suppose that the quickest way for QGIS Server will
> be to forward to WFS XML schema like geoserver does.
> 
> JSON schema is waaay harder to implement from scratches.

Yes, it is non trivial. That said for a flat structure, you probably might 
have most of it more or less predefined, and then insert the field definition 
at the right place.

> 
> Will GDAL be able to use describedBy in the future?

pretty much the outcome of the hackaton for me :
https://github.com/OSGeo/gdal/pull/1997


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jef at norbit.de  Fri Nov  8 04:18:30 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 8 Nov 2019 13:18:30 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
In-Reply-To: <20191108111417.nfzfk2z247ztjwkb@norbit.de>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
 <CAMtsY+brf3rwRTUiW=WKiZ3BRWV3oggGryLhMGi0kgCCzNxNzw@mail.gmail.com>
 <20191108111417.nfzfk2z247ztjwkb@norbit.de>
Message-ID: <20191108121830.tbvu426zwhl3qryb@norbit.de>

Hi,

On Fri, 08. Nov 2019 at 12:14:17 +0100, Jürgen E. Fischer wrote:
> - maybe more then they are worse -

oh, freudian slip - should have been "worth" ;)



Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/2dda8fbf/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/2dda8fbf/attachment.ksh>

From noreply at qgis.org  Fri Nov  8 05:08:01 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 08 Nov 2019 13:08:01 -0000
Subject: [QGIS-Developer] Plugin [1670] XYZ Hub Connector approval
	notification.
Message-ID: <20191108130801.8915.76690@2c6504964296>


Plugin XYZ Hub Connector approval by pcav.
The plugin version "[1670] XYZ Hub Connector 1.7.5" is now approved
Link: http://plugins.qgis.org/plugins/XYZHubConnector/

From jef at norbit.de  Fri Nov  8 06:01:38 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 8 Nov 2019 15:01:38 +0100
Subject: [QGIS-Developer] Direct push forbidden to master
In-Reply-To: <CAMtsY+Z9HQ-zdfALiya1X5J7z_ccbktWTwFxytvK3-8TkD0rXQ@mail.gmail.com>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <20191108080206.gnmcmtyznwohxs6n@norbit.de>
 <CAMtsY+brf3rwRTUiW=WKiZ3BRWV3oggGryLhMGi0kgCCzNxNzw@mail.gmail.com>
 <20191108111417.nfzfk2z247ztjwkb@norbit.de>
 <CAMtsY+Z9HQ-zdfALiya1X5J7z_ccbktWTwFxytvK3-8TkD0rXQ@mail.gmail.com>
Message-ID: <20191108140138.cfaucxtn77xn5soq@norbit.de>

Hi Denis,

On Fri, 08. Nov 2019 at 12:53:53 +0100, Denis Rouzaud wrote:
> > tests - kind of the reason I started with them - packages used to be a side effect
> > the tests also don't work completely on at least some non-travis platforms
> > - but as it's non-travis nobody seem to care - but it doesn't seem to
> > actually point to actual problems in the application - just to things in
> > the tests themselves.
 
> We could run the build and not the tests.

I tried appveyor already - ages ago - the build window wasn't even enough to
compile QGIS.  But we didn't buy extra cpu cycles back then.   Later Nyall also
tried, we even bought cycles, but that apparently still wasn't enough.

> Even asynchronously for windows if builds are too long.

We have that - nightly builds.

> That would be just a tad better than today, people would be aware of the
> broken build and the original author could fix it instead of you.
> I believe this is also a key factor here: you want direct push because you
> are fixing other's work because....it's not tested!

That's also in dash - but of course something that doesn't jump into your face
(but that's the same for travis - I think there used to be email notifications,
but not anymore).


> > I don't see a big problem with having the CI broken for a short time.  It's
> > master.
 
> I do. It's a waste of time for several people.

Doesn't any commit (including the merges of PRs) have the same effect on the
PRs?  So one direct successful commit just avoids the CI run it's skipped PR
would have caused?


> > And I think all the merge commits make a worse impression - esp. if
> > they are not squashed, than a temporary failing CI - and the former sticks
> > in the repository (as does a follow up commit for a breaking commit now an
> > then).
 
> Totally agreed. But let's maybe keep this for a followup discussion if we
> enforce PRs (way of merging).

 
> > I believe we are spend more time with the CI to prevent bugs than it ever
> > could take to fix them.
> 
> Yeah I do have the same feeling sometime. But at least we can identify some
> of the bugs before the release and can be reported independently.

And it helps with refactoring.


> > So I'm split - theoretically CI and tests are fine - practically they take
> > up a lot of time to make, maintain and run - maybe more then they are worth
> > - the sometimes (often?) breaks (unrelated to the actual commits) and
> > breaking direct commits are also an edge case and not the rule.  But save a
> > lot of time - and also prevent people from making parallel PRs on the same
> > issue.
 
> That's what we're trying to avoid here. If we lower breaking commits, we
> lower the chance than 2 devs are trying to fix master at the same time.

Pulling master to see if the issue is fixed is easier than going through a ton
of open PRs - esp. when they the issue is not covered by the CI to start with
(eg. I added a comment to a breaking commit, a fix was made, but it didn't
help).

I don't mind fixing QGIS and it doesn't matter who broke it - I just don't want
more hoops to jump through.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/ab806fbc/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191108/ab806fbc/attachment.ksh>

From noreply at qgis.org  Fri Nov  8 06:43:25 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 08 Nov 2019 14:43:25 -0000
Subject: [QGIS-Developer] Plugin [1669] EnMAP-Box 3 approval notification.
Message-ID: <20191108144325.8884.67803@2c6504964296>


Plugin EnMAP-Box 3 approval by pcav.
The plugin version "[1669] EnMAP-Box 3 3.5.20191108T1414.master" is now approved
Link: http://plugins.qgis.org/plugins/enmapboxplugin/

From noreply at qgis.org  Fri Nov  8 19:54:01 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 09 Nov 2019 03:54:01 -0000
Subject: [QGIS-Developer] =?utf-8?q?Plugin_=5B1871=5D_Oblicz_wysoko=C5=9B?=
 =?utf-8?q?=C4=87_=28GUGiK_NMT=29_approval_notification=2E?=
Message-ID: <20191109035401.8915.71197@2c6504964296>


Plugin Oblicz wysokość (GUGiK NMT) approval by pcav.
The plugin version "[1871] Oblicz wysokość (GUGiK NMT) 0.4" is now approved
Link: http://plugins.qgis.org/plugins/ObliczWysokosc/

From MAP at ramboll.dk  Sat Nov  9 00:21:04 2019
From: MAP at ramboll.dk (magerlin)
Date: Sat, 9 Nov 2019 01:21:04 -0700 (MST)
Subject: [QGIS-Developer] OSGEO4W messing up Grass versions
Message-ID: <1573287664137-0.post@n6.nabble.com>

Having installed QGIS on a new windows PC using OSGEO4W installs a QGIS
pointing to a wrong Grass version.

QGIS expects Grass 7.6.1 but Grass 7.8.0 is being installed:

<http://osgeo-org.1560.x6.nabble.com/file/t202356/Anm%C3%A6rkning_2019-11-09_090741.png> 

Trying to run Grass from Processing gives this error:
<http://osgeo-org.1560.x6.nabble.com/file/t202356/Anm%C3%A6rkning_2019-11-09_091119.png> 

The option to set the GRASS path does not exist anymore in the Processing
Provider settings.
Where do I change it?






-----
Regards Morten

Currently using Qgis 3.10.0
Windows 10, 64bit
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jef at norbit.de  Sat Nov  9 01:59:01 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 9 Nov 2019 10:59:01 +0100
Subject: [QGIS-Developer] OSGEO4W messing up Grass versions
In-Reply-To: <1573287664137-0.post@n6.nabble.com>
References: <1573287664137-0.post@n6.nabble.com>
Message-ID: <20191109095901.66njz5ywyb5cnjmx@norbit.de>

Hi Morten,

On Sat, 09. Nov 2019 at 01:21:04 -0700, magerlin wrote:
> The option to set the GRASS path does not exist anymore in the Processing
> Provider settings.
> Where do I change it?

You can either downgrade to GRASS to 7.6.1 - or wait for the GRASS 7.8.1
release - which is what currently blocks the switch to GDAL3 in OSGeo4W.

See https://lists.osgeo.org/pipermail/grass-user/2019-November/080973.html ff


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191109/b37f0b26/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191109/b37f0b26/attachment.ksh>

From MAP at ramboll.dk  Sun Nov 10 03:56:26 2019
From: MAP at ramboll.dk (magerlin)
Date: Sun, 10 Nov 2019 04:56:26 -0700 (MST)
Subject: [QGIS-Developer] OSGEO4W messing up Grass versions
In-Reply-To: <20191109095901.66njz5ywyb5cnjmx@norbit.de>
References: <1573287664137-0.post@n6.nabble.com>
 <20191109095901.66njz5ywyb5cnjmx@norbit.de>
Message-ID: <1573386986148-0.post@n6.nabble.com>

I downgraded to Grass 7.6.1 but Qgis is still missing the right path - I
still get the error message

"The specified GRASS 7 folder "C:\OSGeo4W64\bin\bin" does not contain a
valid set of GRASS 7 modules. Please, go to the Processing settings dialog,
and check that the GRASS 7 folder is correctly configured"

There is no such folder as "C:\OSGeo4W64\bin\bin".  There are Grass bat
files in the folder "C:\OSGeo4W64\bin"

But the Processing setting dialog does not any more include the path to
Grass - I can only tell where Grass docs are:

<http://osgeo-org.1560.x6.nabble.com/file/t202356/Anm%C3%A6rkning_2019-11-10_124950.png> 

Where do I set the path to Grass in QGIS 3.10?



-----
Regards Morten

Currently using Qgis 3.10.0
Windows 10, 64bit
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From strk at kbt.io  Sun Nov 10 05:35:03 2019
From: strk at kbt.io (Sandro Santilli)
Date: Sun, 10 Nov 2019 14:35:03 +0100
Subject: [QGIS-Developer] Testsuite improvements (was: Direct push forbidden
	to master)
In-Reply-To: <36e5b106-a9b9-e63a-3c82-7056760ee87c@opengis.ch>
References: <CAMtsY+YmXQFMt=gkJEfPV+2mr5NmoWK7Y2UWUepQjTbtZ0X_Rw@mail.gmail.com>
 <90062b0a-3999-0141-7885-6c3a2d3804ce@itopen.it>
 <CAB28AshPz4WDzrWAE_ks4s_z6KZRBp+5XNwsQKPtRSY-2atDBw@mail.gmail.com>
 <2069040.Ljoi1RdPsS@even-i700>
 <CAAi8Yg8jQ1n4O3m+O3knHqCpRMpwio1_6zud_=WBi01NCEzYZA@mail.gmail.com>
 <523a1a0a-75d4-7bdc-9cc6-9a1f7de89952@opengis.ch>
 <CAL5Q6715Run1PX7Ana1EFjQBcLDwkUG7=Z74wnoG3BWsK+J=xQ@mail.gmail.com>
 <20191110104241.GA5492@liz>
 <36e5b106-a9b9-e63a-3c82-7056760ee87c@opengis.ch>
Message-ID: <20191110111203.GB5492@liz>

On Sun, Nov 10, 2019 at 11:54:48AM +0100, Matthias Kuhn wrote:
> On 11/10/19 11:42 AM, Sandro Santilli wrote:

> >    - Make it easy for devs to run single, specific tests, to help
> >      when changing a single specific spot of the codebase
> 
> See https://docs.qgis.org/testing/en/docs/developers_guide/unittesting.html#run-your-tests

I've also written some of that in tests/README.md (review welcome)

> > If a test fails, you can use the ctest command to examine more closely why
> it failed. Use the |-R| option to specify a regex for which tests you want
> to run and |-V| to get verbose output:
> 
> > $ ctest -R appl -V
> 
> Is there more required?

- More intuitive mapping between filenames and testnames
- Ability to run single functions in a test (the README above
  has some hints, but maybe there's a ctest way?)
- A Makefile target to run the testsuite setup (ie:
  create/populate the test databases)

But yes, the support is all there, it's just about makeing
things "easier". I often find myself commenting out most of
a test script, to focus on the single test I'm running, that
part is probably fixable by splitting long tests in multiple
functions and allowing to run single functions.

--strk;

From jef at norbit.de  Sun Nov 10 06:05:44 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sun, 10 Nov 2019 15:05:44 +0100
Subject: [QGIS-Developer] OSGEO4W messing up Grass versions
In-Reply-To: <1573386986148-0.post@n6.nabble.com>
References: <1573287664137-0.post@n6.nabble.com>
 <20191109095901.66njz5ywyb5cnjmx@norbit.de>
 <1573386986148-0.post@n6.nabble.com>
Message-ID: <20191110140544.gitv4xs5t2e33ho7@norbit.de>

Hi,

On Sun, 10. Nov 2019 at 04:56:26 -0700, magerlin wrote:
> There is no such folder as "C:\OSGeo4W64\bin\bin".  There are Grass bat
> files in the folder "C:\OSGeo4W64\bin"
> 
> But the Processing setting dialog does not any more include the path to
> Grass - I can only tell where Grass docs are:
> 
> <http://osgeo-org.1560.x6.nabble.com/file/t202356/Anm%C3%A6rkning_2019-11-10_124950.png> 
> 
> Where do I set the path to Grass in QGIS 3.10?

Did you start with the "QGIS with GRASS" shortcut?  That should set GISBASE.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191110/eb47a568/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191110/eb47a568/attachment.ksh>

From landa.martin at gmail.com  Sun Nov 10 15:49:49 2019
From: landa.martin at gmail.com (Martin Landa)
Date: Mon, 11 Nov 2019 00:49:49 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <CA+Ei1Od4URvj=AQaNLJBRbe1xWGGk3_NEt0eivxU2C5J=bMTSg@mail.gmail.com>
References: <CA+Ei1OdL535QVZa-qY34Kg+_KjONdhBkD=Zp=J4EtYaZJjGwmg@mail.gmail.com>
 <CA+Ei1Of9aw13GvuXKYCMkkVyC0zT1KXL1iA0Hi+NnWSbneDBhA@mail.gmail.com>
 <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
 <trinity-0e8ee7ba-025a-4e33-8357-fd7bed590fd7-1573029760655@3c-app-webde-bs03>
 <CA+Ei1Od4URvj=AQaNLJBRbe1xWGGk3_NEt0eivxU2C5J=bMTSg@mail.gmail.com>
Message-ID: <CA+Ei1OeWb-QPMTrFh2R55SQeX-w28D-aEiBW-zGyRt1RiLBfWg@mail.gmail.com>

Hi Jurgen,

st 6. 11. 2019 v 10:03 odesílatel Martin Landa <landa.martin at gmail.com> napsal:

GRASS 7.8.1 has been uploaded to OSGeo4W (testing area). Feel free to
switch to GDAL3 and PROJ6. Just let me know when I can set 7.8.1
builds as current.

Thanks, Ma

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From luis.miguel.royo at gmail.com  Mon Nov 11 00:03:41 2019
From: luis.miguel.royo at gmail.com (=?UTF-8?B?THXDrXMgTWlndWVsIFJveW8gUMOpcmV6?=)
Date: Mon, 11 Nov 2019 09:03:41 +0100
Subject: [QGIS-Developer] Labelling misplaced
Message-ID: <CAPqby8n=VOL9KJm+i7=GB6eQpLTA-o_FgcLNSDqaGLNY6zjXqw@mail.gmail.com>

Hello everyone,

I'm developing a QGIS plugin along with PostGIS and I'm facing some
problems with labeling. This plugin creates several layers and tables. Some
of these layers are views  (labeling layers), so if I edit the one fo the
source layer the view changes and then the label. I explain more detailed:

I have the following:

   - One layer. Let's call it *layer1*.
   - One none spatial table. Let's call it *table1*.
   - One spatial view from these other two layers *layer1* and *table1*
   meant for labeling. Let's call it *labelView1*.

The point is this, when I edit *table1* adding a new element linked by a
foreign key with *layer1*. The label position in *labelView1* changes into
a messy thing. The Style of *labelView1 *is the following:

   - Symbol is a *geometry generator*. Since I want to create callouts from
   label to the geometry, wich is a point.
   - The position of the label is saved on project. In the qgd file.

I have seen this behaviour in Windows10 and in Ubuntu. The QGIS version is
3.4, but I tried to move to the new 3.10 version of QGIS, with the callouts
new feature, but is the same result.

As well I tried to reproduce it in a much simple way, but without succed,
that's why I want to share a link with a GIF file showing this issue:

https://gifyu.com/image/vMY7

I've done the same but without fixed position,and the labels don't move,
but the geometry_generator does.

Is this a bug? Is there any way to prevent it?

Thanks.
-- 
Luís Miguel Royo Pérez.
Analista-Programador GIS
C/ Antic Regne de Valencia nº 4. Manises (Valencia)
Teléfono:+34  679846103
webs:
inisig.com
geofibra.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191111/c862bc22/attachment.html>

From jef at norbit.de  Mon Nov 11 02:38:33 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Mon, 11 Nov 2019 11:38:33 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <CA+Ei1OeWb-QPMTrFh2R55SQeX-w28D-aEiBW-zGyRt1RiLBfWg@mail.gmail.com>
References: <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
 <trinity-0e8ee7ba-025a-4e33-8357-fd7bed590fd7-1573029760655@3c-app-webde-bs03>
 <CA+Ei1Od4URvj=AQaNLJBRbe1xWGGk3_NEt0eivxU2C5J=bMTSg@mail.gmail.com>
 <CA+Ei1OeWb-QPMTrFh2R55SQeX-w28D-aEiBW-zGyRt1RiLBfWg@mail.gmail.com>
Message-ID: <20191111103833.gclm4xifbalifd5m@norbit.de>

Hi Martin,

On Mon, 11. Nov 2019 at 00:49:49 +0100, Martin Landa wrote:
> st 6. 11. 2019 v 10:03 odesílatel Martin Landa <landa.martin at gmail.com> napsal:
> 
> GRASS 7.8.1 has been uploaded to OSGeo4W (testing area). Feel free to
> switch to GDAL3 and PROJ6. Just let me know when I can set 7.8.1
> builds as current.

Done - including GRASS.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191111/e4552c1f/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191111/e4552c1f/attachment.ksh>

From noreply at qgis.org  Mon Nov 11 03:21:39 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 11 Nov 2019 11:21:39 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20191111112139.9663.88647@2c6504964296>


Plugin UMEP approval by pcav.
The plugin version "[1364] UMEP 3.10.7" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From landa.martin at gmail.com  Mon Nov 11 05:12:55 2019
From: landa.martin at gmail.com (Martin Landa)
Date: Mon, 11 Nov 2019 14:12:55 +0100
Subject: [QGIS-Developer] WinGRASS build up (WIP)
In-Reply-To: <20191111103833.gclm4xifbalifd5m@norbit.de>
References: <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
 <trinity-0e8ee7ba-025a-4e33-8357-fd7bed590fd7-1573029760655@3c-app-webde-bs03>
 <CA+Ei1Od4URvj=AQaNLJBRbe1xWGGk3_NEt0eivxU2C5J=bMTSg@mail.gmail.com>
 <CA+Ei1OeWb-QPMTrFh2R55SQeX-w28D-aEiBW-zGyRt1RiLBfWg@mail.gmail.com>
 <20191111103833.gclm4xifbalifd5m@norbit.de>
Message-ID: <CA+Ei1Oct4e=Mg8ck12V5etKvw2R33s-qo860bhWjf7Ya_ttbqw@mail.gmail.com>

Hi Juergen,

po 11. 11. 2019 v 11:39 odesílatel Jürgen E. Fischer <jef at norbit.de> napsal:
> Done - including GRASS.

thanks, Ma

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From tim at kartoza.com  Mon Nov 11 06:17:14 2019
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 11 Nov 2019 14:17:14 +0000
Subject: [QGIS-Developer] Getting the values of other algorithms and
 parameters in processing's modeller
Message-ID: <2096BA89-CD7C-4B68-A4D3-D48058409014@kartoza.com>

Hi All

I am trying to automate some tedious tasks of remapping fkey references for tables in a GeoPackage database from the related table’s id column to the related table’s uuid column.

I can do the process manually by opening the table, using field calculator and creating a new column ‘water_source_uuid’ with an expression like this:

attribute(
   get_feature( 'water_source_lookup', 'id', water_source_id), 'uuid’)


Now being a lazy bugger, I thought I would try to automate the process for the other columns and tables that need such treatment.





NowI thought I could write a little expression that pulls out the name of the layer defined by the user in “Data Table” and the name of the column defined by the user in  "Foreign Key Column” and then interpolate those values into my add column expression….

So my question is: is there any way to reference other inputs in a model from an expression?

Regards

Tim








—











Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191111/681aa9a7/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot 2019-11-11 at 10.19.38.jpg
Type: image/jpeg
Size: 49959 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191111/681aa9a7/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191111/681aa9a7/attachment-0003.jpg>

From noreply at qgis.org  Mon Nov 11 06:31:42 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 11 Nov 2019 14:31:42 -0000
Subject: [QGIS-Developer] Plugin [1792] WaterNetAnalyzer approval
	notification.
Message-ID: <20191111143142.8915.52311@2c6504964296>


Plugin WaterNetAnalyzer approval by pcav.
The plugin version "[1792] WaterNetAnalyzer 1.2" is now approved
Link: http://plugins.qgis.org/plugins/WaterNetAnalyzer-master/

From noreply at qgis.org  Mon Nov 11 07:08:26 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 11 Nov 2019 15:08:26 -0000
Subject: [QGIS-Developer] Plugin [1874] Buienradar Plugin approval
	notification.
Message-ID: <20191111150826.9663.22400@2c6504964296>


Plugin Buienradar Plugin approval by pcav.
The plugin version "[1874] Buienradar Plugin 1.0" is now approved
Link: http://plugins.qgis.org/plugins/buienradar_plugin/

From regis.haubourg at gmail.com  Mon Nov 11 08:14:35 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 11 Nov 2019 17:14:35 +0100
Subject: [QGIS-Developer] Labelling misplaced
In-Reply-To: <CAPqby8n=VOL9KJm+i7=GB6eQpLTA-o_FgcLNSDqaGLNY6zjXqw@mail.gmail.com>
References: <CAPqby8n=VOL9KJm+i7=GB6eQpLTA-o_FgcLNSDqaGLNY6zjXqw@mail.gmail.com>
Message-ID: <CABgOYCeUMbH3QrJnRxtTG+cezwBBqnV8ROc6Gidk=jO2+fvTRg@mail.gmail.com>

Hi Luis, can you share your geometry generator expression please?
regards
Régis

Le lun. 11 nov. 2019 à 09:04, Luís Miguel Royo Pérez
<luis.miguel.royo at gmail.com> a écrit :
>
> Hello everyone,
>
> I'm developing a QGIS plugin along with PostGIS and I'm facing some problems with labeling. This plugin creates several layers and tables. Some of these layers are views  (labeling layers), so if I edit the one fo the source layer the view changes and then the label. I explain more detailed:
>
> I have the following:
>
> One layer. Let's call it layer1.
> One none spatial table. Let's call it table1.
> One spatial view from these other two layers layer1 and table1 meant for labeling. Let's call it labelView1.
>
> The point is this, when I edit table1 adding a new element linked by a foreign key with layer1. The label position in labelView1 changes into a messy thing. The Style of labelView1 is the following:
>
> Symbol is a geometry generator. Since I want to create callouts from label to the geometry, wich is a point.
> The position of the label is saved on project. In the qgd file.
>
> I have seen this behaviour in Windows10 and in Ubuntu. The QGIS version is 3.4, but I tried to move to the new 3.10 version of QGIS, with the callouts new feature, but is the same result.
>
> As well I tried to reproduce it in a much simple way, but without succed, that's why I want to share a link with a GIF file showing this issue:
>
> https://gifyu.com/image/vMY7
>
> I've done the same but without fixed position,and the labels don't move, but the geometry_generator does.
>
> Is this a bug? Is there any way to prevent it?
>
> Thanks.
> --
> Luís Miguel Royo Pérez.
> Analista-Programador GIS
> C/ Antic Regne de Valencia nº 4. Manises (Valencia)
> Teléfono:+34  679846103
> webs:
> inisig.com
> geofibra.com
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From luis.miguel.royo at gmail.com  Mon Nov 11 08:33:37 2019
From: luis.miguel.royo at gmail.com (=?UTF-8?B?THXDrXMgTWlndWVsIFJveW8gUMOpcmV6?=)
Date: Mon, 11 Nov 2019 17:33:37 +0100
Subject: [QGIS-Developer] Labelling misplaced
In-Reply-To: <CABgOYCeUMbH3QrJnRxtTG+cezwBBqnV8ROc6Gidk=jO2+fvTRg@mail.gmail.com>
References: <CAPqby8n=VOL9KJm+i7=GB6eQpLTA-o_FgcLNSDqaGLNY6zjXqw@mail.gmail.com>
 <CABgOYCeUMbH3QrJnRxtTG+cezwBBqnV8ROc6Gidk=jO2+fvTRg@mail.gmail.com>
Message-ID: <CAPqby8n33+tZR+OmFZhZ3Y6ckixQOMBee_5uhYL=7h4hNw9s4w@mail.gmail.com>

Of course, here is:

















*case when "auxiliary_storage_labeling_positionx" < $x and
"auxiliary_storage_labeling_positiony" > $y and
abs("auxiliary_storage_labeling_positiony"-$y) <
abs("auxiliary_storage_labeling_positionx"-$x) THEN  make_line($geometry,
make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony"))when
 "auxiliary_storage_labeling_positionx" < $x and
"auxiliary_storage_labeling_positiony" > $y and
abs("auxiliary_storage_labeling_positiony"-$y) >=
abs("auxiliary_storage_labeling_positionx"-$x) then   make_line($geometry,
make_point($x,abs("auxiliary_storage_labeling_positionx"-$x)+$y),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony"))when
"auxiliary_storage_labeling_positionx" < $x and
"auxiliary_storage_labeling_positiony" < $y and
abs("auxiliary_storage_labeling_positiony"-$y) <
abs("auxiliary_storage_labeling_positionx"-$x) THEN   make_line($geometry,
make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony"))  when
 "auxiliary_storage_labeling_positionx" < $x and
"auxiliary_storage_labeling_positiony" < $y and
abs("auxiliary_storage_labeling_positiony"-$y) >=
abs("auxiliary_storage_labeling_positionx"-$x) then   make_line($geometry,
make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony"))when
"auxiliary_storage_labeling_positionx" >= $x and
"auxiliary_storage_labeling_positiony" > $y and
abs("auxiliary_storage_labeling_positiony"-$y) >
abs("auxiliary_storage_labeling_positionx"-$x) then --quadrant ur
alternatif  make_line($geometry,
make_point($x,"auxiliary_storage_labeling_positiony"-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony")) when
"auxiliary_storage_labeling_positionx" >= $x and
"auxiliary_storage_labeling_positiony" > $y and
abs("auxiliary_storage_labeling_positiony"-$y) <
abs("auxiliary_storage_labeling_positionx"-$x) then    make_line($geometry,
make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony"))  when
"auxiliary_storage_labeling_positionx" >= $x and
"auxiliary_storage_labeling_positiony" <= $y and
abs("auxiliary_storage_labeling_positiony"-$y) >
abs("auxiliary_storage_labeling_positionx"-$x) THEN   make_line($geometry,
make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony"))  when
"auxiliary_storage_labeling_positionx" >= $x and
"auxiliary_storage_labeling_positiony" <= $y and
abs("auxiliary_storage_labeling_positiony"-$y) <
abs("auxiliary_storage_labeling_positionx"-$x) THEN  make_line($geometry,
make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
"auxiliary_storage_labeling_positiony"))     END*




El lun., 11 nov. 2019 17:15, Régis Haubourg <regis.haubourg at gmail.com>
escribió:

> Hi Luis, can you share your geometry generator expression please?
> regards
> Régis
>
> Le lun. 11 nov. 2019 à 09:04, Luís Miguel Royo Pérez
> <luis.miguel.royo at gmail.com> a écrit :
> >
> > Hello everyone,
> >
> > I'm developing a QGIS plugin along with PostGIS and I'm facing some
> problems with labeling. This plugin creates several layers and tables. Some
> of these layers are views  (labeling layers), so if I edit the one fo the
> source layer the view changes and then the label. I explain more detailed:
> >
> > I have the following:
> >
> > One layer. Let's call it layer1.
> > One none spatial table. Let's call it table1.
> > One spatial view from these other two layers layer1 and table1 meant for
> labeling. Let's call it labelView1.
> >
> > The point is this, when I edit table1 adding a new element linked by a
> foreign key with layer1. The label position in labelView1 changes into a
> messy thing. The Style of labelView1 is the following:
> >
> > Symbol is a geometry generator. Since I want to create callouts from
> label to the geometry, wich is a point.
> > The position of the label is saved on project. In the qgd file.
> >
> > I have seen this behaviour in Windows10 and in Ubuntu. The QGIS version
> is 3.4, but I tried to move to the new 3.10 version of QGIS, with the
> callouts new feature, but is the same result.
> >
> > As well I tried to reproduce it in a much simple way, but without
> succed, that's why I want to share a link with a GIF file showing this
> issue:
> >
> > https://gifyu.com/image/vMY7
> >
> > I've done the same but without fixed position,and the labels don't move,
> but the geometry_generator does.
> >
> > Is this a bug? Is there any way to prevent it?
> >
> > Thanks.
> > --
> > Luís Miguel Royo Pérez.
> > Analista-Programador GIS
> > C/ Antic Regne de Valencia nº 4. Manises (Valencia)
> > Teléfono:+34  679846103
> > webs:
> > inisig.com
> > geofibra.com
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191111/abed5330/attachment.html>

From regis.haubourg at gmail.com  Mon Nov 11 09:42:28 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 11 Nov 2019 18:42:28 +0100
Subject: [QGIS-Developer] Labelling misplaced
In-Reply-To: <CAPqby8n33+tZR+OmFZhZ3Y6ckixQOMBee_5uhYL=7h4hNw9s4w@mail.gmail.com>
References: <CAPqby8n=VOL9KJm+i7=GB6eQpLTA-o_FgcLNSDqaGLNY6zjXqw@mail.gmail.com>
 <CABgOYCeUMbH3QrJnRxtTG+cezwBBqnV8ROc6Gidk=jO2+fvTRg@mail.gmail.com>
 <CAPqby8n33+tZR+OmFZhZ3Y6ckixQOMBee_5uhYL=7h4hNw9s4w@mail.gmail.com>
Message-ID: <CABgOYCcc+7dNUJbbo_4etLWfdSZvmiSZv1gkZz_UrLQ-0rxcCw@mail.gmail.com>

Oh ok, expression taken from label connector plugin :)

Be aware that it can be slow with big geometries and that it is a
temporary approach before having a native one in core (which I'd be
pleased to have implemented if anyone supports it).

So it seems you have something messing the unique id's that auxiliary
storage database uses to link your data and qgis projected data when
you add a new feature. Are you sure your ID's and foreign keys beahve
like expected on the database side? For the auxiliary storage, a new
feature shouldn't have any x-y value and thus the label should fall
back to the automatic labeling options. In your case, it seems the
newly created feature inherits from the id of another feature. This is
a common case in labeling, and I remember the famous Mapinfo label
callout mix ups that occured when compressing datasets, just because
it didn't use real id's, but line number to identify features.


Régis

Le lun. 11 nov. 2019 à 17:33, Luís Miguel Royo Pérez
<luis.miguel.royo at gmail.com> a écrit :
>
> Of course, here is:
>
> case when "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) THEN
>  make_line($geometry, make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
> when  "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) >= abs("auxiliary_storage_labeling_positionx"-$x) then
>   make_line($geometry, make_point($x,abs("auxiliary_storage_labeling_positionx"-$x)+$y),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
> when "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" < $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) THEN
>   make_line($geometry, make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
> when  "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" < $y and abs("auxiliary_storage_labeling_positiony"-$y) >= abs("auxiliary_storage_labeling_positionx"-$x) then
>   make_line($geometry, make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
> when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) > abs("auxiliary_storage_labeling_positionx"-$x) then --quadrant ur alternatif
>   make_line($geometry, make_point($x,"auxiliary_storage_labeling_positiony"-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
> when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) then
>    make_line($geometry, make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
> when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" <= $y and abs("auxiliary_storage_labeling_positiony"-$y) > abs("auxiliary_storage_labeling_positionx"-$x) THEN
>   make_line($geometry, make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
> when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" <= $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) THEN
>  make_line($geometry, make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>    END
>
>
>
>
> El lun., 11 nov. 2019 17:15, Régis Haubourg <regis.haubourg at gmail.com> escribió:
>>
>> Hi Luis, can you share your geometry generator expression please?
>> regards
>> Régis
>>
>> Le lun. 11 nov. 2019 à 09:04, Luís Miguel Royo Pérez
>> <luis.miguel.royo at gmail.com> a écrit :
>> >
>> > Hello everyone,
>> >
>> > I'm developing a QGIS plugin along with PostGIS and I'm facing some problems with labeling. This plugin creates several layers and tables. Some of these layers are views  (labeling layers), so if I edit the one fo the source layer the view changes and then the label. I explain more detailed:
>> >
>> > I have the following:
>> >
>> > One layer. Let's call it layer1.
>> > One none spatial table. Let's call it table1.
>> > One spatial view from these other two layers layer1 and table1 meant for labeling. Let's call it labelView1.
>> >
>> > The point is this, when I edit table1 adding a new element linked by a foreign key with layer1. The label position in labelView1 changes into a messy thing. The Style of labelView1 is the following:
>> >
>> > Symbol is a geometry generator. Since I want to create callouts from label to the geometry, wich is a point.
>> > The position of the label is saved on project. In the qgd file.
>> >
>> > I have seen this behaviour in Windows10 and in Ubuntu. The QGIS version is 3.4, but I tried to move to the new 3.10 version of QGIS, with the callouts new feature, but is the same result.
>> >
>> > As well I tried to reproduce it in a much simple way, but without succed, that's why I want to share a link with a GIF file showing this issue:
>> >
>> > https://gifyu.com/image/vMY7
>> >
>> > I've done the same but without fixed position,and the labels don't move, but the geometry_generator does.
>> >
>> > Is this a bug? Is there any way to prevent it?
>> >
>> > Thanks.
>> > --
>> > Luís Miguel Royo Pérez.
>> > Analista-Programador GIS
>> > C/ Antic Regne de Valencia nº 4. Manises (Valencia)
>> > Teléfono:+34  679846103
>> > webs:
>> > inisig.com
>> > geofibra.com
>> >
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From alexander.bruy at gmail.com  Mon Nov 11 22:52:47 2019
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue, 12 Nov 2019 08:52:47 +0200
Subject: [QGIS-Developer] Getting the values of other algorithms and
 parameters in processing's modeller
In-Reply-To: <2096BA89-CD7C-4B68-A4D3-D48058409014@kartoza.com>
References: <2096BA89-CD7C-4B68-A4D3-D48058409014@kartoza.com>
Message-ID: <CALuHMPA38FVjxaoNnoSyeCKepTTLk_8oUQDrZVCKa8XFXx6+zA@mail.gmail.com>

Hi Tim,

if I understand you correctly, this already implemented. When you edit an
expression
in the modeler algorithm all model inputs are available as variables in the
expression
editor.

пн, 11 лист. 2019 о 16:17 Tim Sutton <tim at kartoza.com> пише:

> Hi All
>
> I am trying to automate some tedious tasks of remapping fkey references
> for tables in a GeoPackage database from the related table’s id column to
> the related table’s uuid column.
>
> I can do the process manually by opening the table, using field calculator
> and creating a new column ‘water_source_uuid’ with an expression like this:
>
> attribute(
>    get_feature( 'water_source_lookup', 'id', water_source_id), 'uuid’)
>
>
> Now being a lazy bugger, I thought I would try to automate the process for
> the other columns and tables that need such treatment.
>
>
>
>
>
> NowI thought I could write a little expression that pulls out the name of
> the layer defined by the user in “Data Table” and the name of the column
> defined by the user in  "Foreign Key Column” and then interpolate those
> values into my add column expression….
>
> So my question is: is there any way to reference other inputs in a model
> from an expression?
>
> Regards
>
> Tim
>
>
>
>
>
>
>
>
> —
>
>
>
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> I'd love to connect. Here's my calendar link
> <https://calendly.com/timlinux> to make finding time easy.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/9f6345af/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot 2019-11-11 at 10.19.38.jpg
Type: image/jpeg
Size: 49959 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/9f6345af/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/9f6345af/attachment-0003.jpg>

From tim at kartoza.com  Mon Nov 11 22:58:57 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 12 Nov 2019 07:58:57 +0100
Subject: [QGIS-Developer] Getting the values of other algorithms and
 parameters in processing's modeller
In-Reply-To: <CALuHMPA38FVjxaoNnoSyeCKepTTLk_8oUQDrZVCKa8XFXx6+zA@mail.gmail.com>
References: <2096BA89-CD7C-4B68-A4D3-D48058409014@kartoza.com>
 <CALuHMPA38FVjxaoNnoSyeCKepTTLk_8oUQDrZVCKa8XFXx6+zA@mail.gmail.com>
Message-ID: <4BE496B1-D710-4E6E-BF23-EEAF74CD2A3A@kartoza.com>

Hi

> On 12 Nov 2019, at 07:52, Alexander Bruy <alexander.bruy at gmail.com> wrote:
> 
> Hi Tim,
> 
> if I understand you correctly, this already implemented. When you edit an expression
> in the modeler algorithm all model inputs are available as variables in the expression
> editor.

Thanks for your reply Alexander. I should have clarified that I already tried to find the inputs in the expression editor and couldn’t. Could you clarify which expression group it should be listed in? This is what I get at the moment:



I thought I would find it in ‘Fields and Values’ but that group has only one entry:  NULL

I also tried searching on one of the input value’s names but the result was empty.

Thanks!

Regards

Tim

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/86d36879/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot 2019-11-12 at 07.55.37.jpg
Type: image/jpeg
Size: 50400 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/86d36879/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/86d36879/attachment-0003.jpg>

From alexander.bruy at gmail.com  Mon Nov 11 23:10:42 2019
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue, 12 Nov 2019 09:10:42 +0200
Subject: [QGIS-Developer] Getting the values of other algorithms and
 parameters in processing's modeller
In-Reply-To: <4BE496B1-D710-4E6E-BF23-EEAF74CD2A3A@kartoza.com>
References: <2096BA89-CD7C-4B68-A4D3-D48058409014@kartoza.com>
 <CALuHMPA38FVjxaoNnoSyeCKepTTLk_8oUQDrZVCKa8XFXx6+zA@mail.gmail.com>
 <4BE496B1-D710-4E6E-BF23-EEAF74CD2A3A@kartoza.com>
Message-ID: <CALuHMPAWvQhC_YDy2K7kObYA0eadRZbmo4Z_qRynXbVa7t9=Vw@mail.gmail.com>

Hi Tim,

if I'm not mistaken, these inputs only available inside expression editor
when
it opened from a modeler algorithm. And they are added as top-level items,
and don't belong to any group.

вт, 12 лист. 2019 о 08:59 Tim Sutton <tim at kartoza.com> пише:

> Hi
>
> On 12 Nov 2019, at 07:52, Alexander Bruy <alexander.bruy at gmail.com> wrote:
>
> Hi Tim,
>
> if I understand you correctly, this already implemented. When you edit an
> expression
> in the modeler algorithm all model inputs are available as variables in
> the expression
> editor.
>
>
> Thanks for your reply Alexander. I should have clarified that I already
> tried to find the inputs in the expression editor and couldn’t. Could you
> clarify which expression group it should be listed in? This is what I get
> at the moment:
>
>
> I thought I would find it in ‘Fields and Values’ but that group has only
> one entry:  NULL
>
> I also tried searching on one of the input value’s names but the result
> was empty.
>
> Thanks!
>
> Regards
>
> Tim
>
> —
>
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> I'd love to connect. Here's my calendar link
> <https://calendly.com/timlinux> to make finding time easy.
>
>

-- 
Alexander Bruy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/1f6bb7bc/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot 2019-11-12 at 07.55.37.jpg
Type: image/jpeg
Size: 50400 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/1f6bb7bc/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/1f6bb7bc/attachment-0003.jpg>

From tim at kartoza.com  Mon Nov 11 23:35:53 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 12 Nov 2019 08:35:53 +0100
Subject: [QGIS-Developer] Getting the values of other algorithms and
 parameters in processing's modeller
In-Reply-To: <CALuHMPAWvQhC_YDy2K7kObYA0eadRZbmo4Z_qRynXbVa7t9=Vw@mail.gmail.com>
References: <2096BA89-CD7C-4B68-A4D3-D48058409014@kartoza.com>
 <CALuHMPA38FVjxaoNnoSyeCKepTTLk_8oUQDrZVCKa8XFXx6+zA@mail.gmail.com>
 <4BE496B1-D710-4E6E-BF23-EEAF74CD2A3A@kartoza.com>
 <CALuHMPAWvQhC_YDy2K7kObYA0eadRZbmo4Z_qRynXbVa7t9=Vw@mail.gmail.com>
Message-ID: <E64601A3-9103-4441-8A84-A1BB56A33644@kartoza.com>

Hi



> On 12 Nov 2019, at 08:10, Alexander Bruy <alexander.bruy at gmail.com> wrote:
> 
> Hi Tim,
> 
> if I'm not mistaken, these inputs only available inside expression editor when
> it opened from a modeler algorithm. And they are added as top-level items,
> and don't belong to any group.


Ah thanks you are right! Adding the Field Calculator algorithm for example lets me see it:





But I got other issues now:


I can’t get my expression to validate:


attribute(
get_feature(  @datatable , 'id',  @foreignkeycolumn), 'uuid’)


It validates when I substitute @datatable instead of a hard coded string, but not when I substitute @foreignkeycolumn instead of a hard coded string.


Trying to run it anyway (unsurprisingly) gives:

QGIS version: 3.10.0-A Coruña
QGIS code revision: 6c816b4204
Qt version: 5.12.3
GDAL version: 2.4.1
GEOS version: 3.7.2-CAPI-1.11.2 b55d2125
PROJ version: Rel. 5.2.0, September 15th, 2018
Processing algorithm…
Algorithm 'Convert Lookup To UUID' starting…
Input parameters:
{ 'datatable' : '/Users/timlinux/gisdata/MaceiraMergin/Maceira/smallholding.gpkg|layername=structures', 'foreignkeycolumn' : 'wall_type_id', 'lookuptable' : '/Users/timlinux/gisdata/MaceiraMergin/Maceira/smallholding.gpkg|layername=wall_type' }

Prepare algorithm: qgis:fieldcalculator_1
Running Field calculator [1/1]
Input Parameters:
{ FIELD_LENGTH: 99, FIELD_NAME: '_uuid', FIELD_PRECISION: 3, FIELD_TYPE: 2, FORMULA: 'attribute(\nget_feature( @datatable , \'id\', @foreignkeycolumn), \'uuid’)', INPUT: '/Users/timlinux/gisdata/MaceiraMergin/Maceira/smallholding.gpkg|layername=structures', NEW_FIELD: True, OUTPUT: 'memory:Calculated' }
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
No root node! Parsing failed?
OK. Execution took 0.413 s (1 outputs).
Model processed OK. Executed 1 algorithms total in 0.514 s.
Execution completed in 0.58 seconds
Results:
{}

Loading resulting layers
Algorithm 'Convert Lookup To UUID’ finished


Regards

Tim
—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/fd79f7e6/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot 2019-11-12 at 08.21.35.jpg
Type: image/jpeg
Size: 41444 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/fd79f7e6/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/fd79f7e6/attachment-0003.jpg>

From frippe12573 at hotmail.com  Tue Nov 12 05:52:00 2019
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Tue, 12 Nov 2019 13:52:00 +0000
Subject: [QGIS-Developer] QGIS crash on adding data
Message-ID: <DB7PR05MB57866936AD3379A7A76B14F8E5770@DB7PR05MB5786.eurprd05.prod.outlook.com>

Hi all,

I have a critical issue with QGIS since I updated ubuntu to the 19.10 version.
I have already written in the other mailing list without any answer.

After to have launched QGIS if I click on the manager of source data and choose vector or raster
when I click on the 3 points button to browse the file system and choose the datasets QGIS crashes
together with all the ubuntu open windows.

I experienced this problem with 3 different version of QGIS:

  *   the 3.4 LTS from ubuntu repo
  *   the 3.10 from https://qgis.org/ubuntu repo
  *   the master version compiled from source

Has this happened to anyone else?
Any hint? or suggestion?

regards

Eugenio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/e9f56d1e/attachment.html>

From pedrongvenancio at gmail.com  Tue Nov 12 06:14:13 2019
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Tue, 12 Nov 2019 14:14:13 +0000
Subject: [QGIS-Developer] [GRASS-user] WinGRASS build up (WIP)
In-Reply-To: <CA+Ei1Oct4e=Mg8ck12V5etKvw2R33s-qo860bhWjf7Ya_ttbqw@mail.gmail.com>
References: <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
 <trinity-0e8ee7ba-025a-4e33-8357-fd7bed590fd7-1573029760655@3c-app-webde-bs03>
 <CA+Ei1Od4URvj=AQaNLJBRbe1xWGGk3_NEt0eivxU2C5J=bMTSg@mail.gmail.com>
 <CA+Ei1OeWb-QPMTrFh2R55SQeX-w28D-aEiBW-zGyRt1RiLBfWg@mail.gmail.com>
 <20191111103833.gclm4xifbalifd5m@norbit.de>
 <CA+Ei1Oct4e=Mg8ck12V5etKvw2R33s-qo860bhWjf7Ya_ttbqw@mail.gmail.com>
Message-ID: <CAMCJCht5fedWTmZpLEJiJX2PKmsPsMxU6J8G=oriXM46ryaFOg@mail.gmail.com>

Hi all,

Thank you very much for this release!

I'm trying to use it, installed from OSGeo4W 64bits, but I get this error:

Starting GRASS GIS...
ATENÇÃO: Concurrent mapset locking is not supported on Windows
Cleaning up temporary files...

          __________  ___   __________    _______________
         / ____/ __ \/   | / ___/ ___/   / ____/  _/ ___/
        / / __/ /_/ / /| | \__ \\_  \   / / __ / / \__ \
       / /_/ / _, _/ ___ |___/ /__/ /  / /_/ // / ___/ /
       \____/_/ |_/_/  |_/____/____/   \____/___//____/

Welcome to GRASS GIS 7.8.1
GRASS GIS homepage:                      https://grass.osgeo.org
This version running through:            Command Prompt
(C:\WINDOWS\system32\cmd.exe)
Help is available with the command:      g.manual -i
See the licence terms with:              g.version -c
See citation options with:               g.version -x
If required, restart the GUI with:       g.gui wxpython
When ready to quit enter:                exit

Launching <wxpython> GUI in the background, please wait...
Microsoft Windows [Version 10.0.17763.805]
(c) 2018 Microsoft Corporation. Todos os direitos reservados.

C:\>Traceback (most recent call last):
  File "C:\OSGEO4~1\apps\grass\grass78\gui\wxpython\wxgui.py", line 107, in
OnInit
    workspace=self.workspaceFile)
  File "C:\OSGEO4~1\apps\grass\grass78\gui\wxpython\lmgr\frame.py", line
143, in __init__
    self.notebook = self._createNoteBook()
  File "C:\OSGEO4~1\apps\grass\grass78\gui\wxpython\lmgr\frame.py", line
338, in _createNoteBook
    gcstyle=GC_PROMPT)
  File "C:\OSGEO4~1\apps\grass\grass78\gui\wxpython\gui_core\goutput.py",
line 118, in __init__
    self.cmdPrompt = GPromptSTC(parent=self, menuModel=self._menuModel)
  File "C:\OSGEO4~1\apps\grass\grass78\gui\wxpython\gui_core\prompt.py",
line 138, in __init__
    GPrompt.__init__(self, parent=parent, menuModel=menuModel)
  File "C:\OSGEO4~1\apps\grass\grass78\gui\wxpython\gui_core\prompt.py",
line 56, in __init__
    self.mapList = self._getListOfMaps()
  File "C:\OSGEO4~1\apps\grass\grass78\gui\wxpython\gui_core\prompt.py",
line 100, in _getListOfMaps
    result['raster'] = grass.list_strings('raster')
  File "C:\OSGEO4~1\apps\grass\grass78\etc\python\grass\script\core.py",
line 1288, in list_strings
    mapset=mapset).splitlines():
  File "C:\OSGEO4~1\apps\grass\grass78\etc\python\grass\script\core.py",
line 503, in read_command
    return handle_errors(returncode, stdout, args, kwargs)
  File "C:\OSGEO4~1\apps\grass\grass78\etc\python\grass\script\core.py",
line 343, in handle_errors
    returncode=returncode)
grass.exceptions.CalledModuleError: Module run None g.list --q -m
type=raster ended with error
Process ended with non-zero return code 3221225785. See errors in the
(error) output.
OnInit returned false, exiting...
Error in atexit._run_exitfuncs:
wx._core.wxAssertionError: C++ assertion "GetEventHandler() == this" failed
at ..\..\src\common\wincmn.cpp(478) in wxWindowBase::~wxWindowBase(): any
pushed event handlers must have been removed

Also trying to use GRASS from QGIS (3.10 and master) Processing, I always
get an error, and no output.

QGIS version: 3.10.0-A Coruña
QGIS code revision: c48ee4df4b
Qt version: 5.11.2
GDAL version: 3.1.0dev
GEOS version: 3.8.0-CAPI-1.13.1
PROJ version: Rel. 7.0.0, March 1st, 2020
Processing algorithm…
Algorithm 'v.net.salesman' starting…
Input parameters:
{ '-g' : False, 'GRASS_MIN_AREA_PARAMETER' : 0.0001,
'GRASS_OUTPUT_TYPE_PARAMETER' : 0, 'GRASS_REGION_PARAMETER' : None,
'GRASS_SNAP_TOLERANCE_PARAMETER' : -1, 'GRASS_VECTOR_DSCO' : '',
'GRASS_VECTOR_EXPORT_NOCAT' : False, 'GRASS_VECTOR_LCO' : '',
'arc_backward_column' : 'tmpo_unico', 'arc_column' : 'tmpo_duplo',
'arc_type' : [0,1], 'center_cats' : '1-100000', 'input' :
'D:/SIG/dados_exercicio_analise_redes/dados_exercicio/rede_viaria_distrito_porto_break.shp',
'output' : 'TEMPORARY_OUTPUT', 'points' :
'D:/SIG/dados_exercicio_analise_redes/dados_exercicio/campanha_museus_distrito_porto.shp',
'sequence' : 'TEMPORARY_OUTPUT', 'threshold' : 250 }

g.proj -c proj4="+proj=tmerc +lat_0=39.6682583333333
+lon_0=-8.13310833333333 +k=1 +x_0=0 +y_0=0 +ellps=GRS80
+towgs84=0,0,0,0,0,0,0 +units=m +no_defs"
v.in.ogr min_area=0.0001 snap=-1.0
input="D:\SIG\dados_exercicio_analise_redes\dados_exercicio\rede_viaria_distrito_porto_break.shp"
output="vector_5dcab9fef40e92" --overwrite -o
v.in.ogr min_area=0.0001 snap=-1.0
input="D:\SIG\dados_exercicio_analise_redes\dados_exercicio\campanha_museus_distrito_porto.shp"
output="vector_5dcab9fef40e93" --overwrite -o
g.region n=200265.16624542486 s=149098.80678702804 e=21170.13407058691
w=-54560.42845699884
v.net -s input=vector_5dcab9fef40e92 points=vector_5dcab9fef40e93
output=net5dcab9ff00a5a4 operation=connect threshold=250.0
v.db.connect -o map=net5dcab9ff00a5a4 table=vector_5dcab9fef40e93 layer=2
v.net.salesman input=net5dcab9ff00a5a4 arc_type="line,boundary"
center_cats="1-100000" arc_column=tmpo_duplo arc_backward_column=tmpo_unico
output=outputb432a8bfe5ce42bc838e036e5c5491eb
sequence="C:/Users/PedroVenancio/AppData/Local/Temp/processing_1eae9fc4026a4f3181ee65faa9f1f761/1503cfa928774257b16b1d44f1b7a74b/sequence.csv"
--overwrite
v.out.ogr type="line" input="outputb432a8bfe5ce42bc838e036e5c5491eb"
output="C:/Users/PedroVenancio/AppData/Local/Temp/processing_1eae9fc4026a4f3181ee65faa9f1f761/ea8aeb223ec54536a686d57bfdd93109/output.gpkg"
format="GPKG" layer=1 -c --overwrite
Starting GRASS GIS...
ATENÇÃO: Concurrent mapset locking is not supported on Windows
Cleaning up temporary files...
Executing
<C:\Users\PedroVenancio\AppData\Local\Temp\processing_1eae9fc4026a4f3181ee65faa9f1f761\grassdata\grass_batch_job.cmd>
...
C:\Users\PedroVenancio\Documents>chcp 1252 1>NUL
C:\Users\PedroVenancio\Documents>g.proj -c proj4="+proj=tmerc
+lat_0=39.6682583333333 +lon_0=-8.13310833333333 +k=1 +x_0=0 +y_0=0
+ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"
C:\Users\PedroVenancio\Documents>v.in.ogr min_area=0.0001 snap=-1.0
input="D:\SIG\dados_exercicio_analise_redes\dados_exercicio\rede_viaria_distrito_porto_break.shp"
output="vector_5dcab9fef40e92" --overwrite -o
C:\Users\PedroVenancio\Documents>v.in.ogr min_area=0.0001 snap=-1.0
input="D:\SIG\dados_exercicio_analise_redes\dados_exercicio\campanha_museus_distrito_porto.shp"
output="vector_5dcab9fef40e93" --overwrite -o
C:\Users\PedroVenancio\Documents>g.region n=200265.16624542486
s=149098.80678702804 e=21170.13407058691 w=-54560.42845699884
C:\Users\PedroVenancio\Documents>v.net -s input=vector_5dcab9fef40e92
points=vector_5dcab9fef40e93 output=net5dcab9ff00a5a4 operation=connect
threshold=250.0
C:\Users\PedroVenancio\Documents>v.db.connect -o map=net5dcab9ff00a5a4
table=vector_5dcab9fef40e93 layer=2
C:\Users\PedroVenancio\Documents>v.net.salesman input=net5dcab9ff00a5a4
arc_type="line,boundary" center_cats="1-100000" arc_column=tmpo_duplo
arc_backward_column=tmpo_unico
output=outputb432a8bfe5ce42bc838e036e5c5491eb
sequence="C:/Users/PedroVenancio/AppData/Local/Temp/processing_1eae9fc4026a4f3181ee65faa9f1f761/1503cfa928774257b16b1d44f1b7a74b/sequence.csv"
--overwrite
C:\Users\PedroVenancio\Documents>v.out.ogr type="line"
input="outputb432a8bfe5ce42bc838e036e5c5491eb"
output="C:/Users/PedroVenancio/AppData/Local/Temp/processing_1eae9fc4026a4f3181ee65faa9f1f761/ea8aeb223ec54536a686d57bfdd93109/output.gpkg"
format="GPKG" layer=1 -c --overwrite
C:\Users\PedroVenancio\Documents>exit
Execution of
<C:\Users\PedroVenancio\AppData\Local\Temp\processing_1eae9fc4026a4f3181ee65faa9f1f761\grassdata\grass_batch_job.cmd>
finished.
Cleaning up temporary files...
Execution completed in 1.74 seconds
Results:
{'output': <QgsProcessingOutputLayerDefinition {'sink':TEMPORARY_OUTPUT,
'createOptions': {'fileEncoding': 'System'}}>,
'sequence': 'TEMPORARY_OUTPUT'}

Loading resulting layers
The following layers were not correctly
generated.<ul><li>C:/Users/PedroVenancio/AppData/Local/Temp/processing_1eae9fc4026a4f3181ee65faa9f1f761/ea8aeb223ec54536a686d57bfdd93109/output.gpkg</li></ul>You
can check the 'Log Messages Panel' in QGIS main window to find more
information about the execution of the algorithm.

Anyone with same behaviour?

Thanks!

Best regards,
Pedro Venâncio


Martin Landa <landa.martin at gmail.com> escreveu no dia segunda, 11/11/2019
à(s) 13:13:

> Hi Juergen,
>
> po 11. 11. 2019 v 11:39 odesílatel Jürgen E. Fischer <jef at norbit.de>
> napsal:
> > Done - including GRASS.
>
> thanks, Ma
>
> --
> Martin Landa
> http://geo.fsv.cvut.cz/gwiki/Landa
> http://gismentors.cz/mentors/landa
> _______________________________________________
> grass-user mailing list
> grass-user at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/grass-user
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/dc8b9d2c/attachment-0001.html>

From landa.martin at gmail.com  Tue Nov 12 06:25:43 2019
From: landa.martin at gmail.com (Martin Landa)
Date: Tue, 12 Nov 2019 15:25:43 +0100
Subject: [QGIS-Developer] [GRASS-user] WinGRASS build up (WIP)
In-Reply-To: <CAMCJCht5fedWTmZpLEJiJX2PKmsPsMxU6J8G=oriXM46ryaFOg@mail.gmail.com>
References: <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
 <trinity-0e8ee7ba-025a-4e33-8357-fd7bed590fd7-1573029760655@3c-app-webde-bs03>
 <CA+Ei1Od4URvj=AQaNLJBRbe1xWGGk3_NEt0eivxU2C5J=bMTSg@mail.gmail.com>
 <CA+Ei1OeWb-QPMTrFh2R55SQeX-w28D-aEiBW-zGyRt1RiLBfWg@mail.gmail.com>
 <20191111103833.gclm4xifbalifd5m@norbit.de>
 <CA+Ei1Oct4e=Mg8ck12V5etKvw2R33s-qo860bhWjf7Ya_ttbqw@mail.gmail.com>
 <CAMCJCht5fedWTmZpLEJiJX2PKmsPsMxU6J8G=oriXM46ryaFOg@mail.gmail.com>
Message-ID: <CA+Ei1OeXPRXNcLMEcWiGGmnGjjtqomSxcr5x=mctxoubGFrTyQ@mail.gmail.com>

Hi,

út 12. 11. 2019 v 15:14 odesílatel Pedro Venâncio
<pedrongvenancio at gmail.com> napsal:
> GDAL version: 3.1.0dev
> GEOS version: 3.8.0-CAPI-1.13.1
> PROJ version: Rel. 7.0.0, March 1st, 2020

it's probably unrelated, but GRASS 7.8.1 is compiled with GDAL 3.0 and PROJ 6.0.

Ma

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From luis.miguel.royo at gmail.com  Tue Nov 12 06:36:49 2019
From: luis.miguel.royo at gmail.com (=?UTF-8?B?THXDrXMgTWlndWVsIFJveW8gUMOpcmV6?=)
Date: Tue, 12 Nov 2019 15:36:49 +0100
Subject: [QGIS-Developer] Labelling misplaced
In-Reply-To: <CABgOYCcc+7dNUJbbo_4etLWfdSZvmiSZv1gkZz_UrLQ-0rxcCw@mail.gmail.com>
References: <CAPqby8n=VOL9KJm+i7=GB6eQpLTA-o_FgcLNSDqaGLNY6zjXqw@mail.gmail.com>
 <CABgOYCeUMbH3QrJnRxtTG+cezwBBqnV8ROc6Gidk=jO2+fvTRg@mail.gmail.com>
 <CAPqby8n33+tZR+OmFZhZ3Y6ckixQOMBee_5uhYL=7h4hNw9s4w@mail.gmail.com>
 <CABgOYCcc+7dNUJbbo_4etLWfdSZvmiSZv1gkZz_UrLQ-0rxcCw@mail.gmail.com>
Message-ID: <CAPqby8kMz+PWhkakmhG6=m+Mh372TLhr7kKPCvv8h5_qzBaVzg@mail.gmail.com>

Hi Régis,

thanks a lot for your insights. Finally I caught the issue. It's easy,
since the labelling layer is a view, everytime this view was updated, the
id, changed, and then the messy thing happened. I fixed already.
Again, thanks ^^

El lun., 11 nov. 2019 a las 18:43, Régis Haubourg (<regis.haubourg at gmail.com>)
escribió:

> Oh ok, expression taken from label connector plugin :)
>
> Be aware that it can be slow with big geometries and that it is a
> temporary approach before having a native one in core (which I'd be
> pleased to have implemented if anyone supports it).
>
> So it seems you have something messing the unique id's that auxiliary
> storage database uses to link your data and qgis projected data when
> you add a new feature. Are you sure your ID's and foreign keys beahve
> like expected on the database side? For the auxiliary storage, a new
> feature shouldn't have any x-y value and thus the label should fall
> back to the automatic labeling options. In your case, it seems the
> newly created feature inherits from the id of another feature. This is
> a common case in labeling, and I remember the famous Mapinfo label
> callout mix ups that occured when compressing datasets, just because
> it didn't use real id's, but line number to identify features.
>
>
> Régis
>
> Le lun. 11 nov. 2019 à 17:33, Luís Miguel Royo Pérez
> <luis.miguel.royo at gmail.com> a écrit :
> >
> > Of course, here is:
> >
> > case when "auxiliary_storage_labeling_positionx" < $x and
> "auxiliary_storage_labeling_positiony" > $y and
> abs("auxiliary_storage_labeling_positiony"-$y) <
> abs("auxiliary_storage_labeling_positionx"-$x) THEN
> >  make_line($geometry,
> make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> > when  "auxiliary_storage_labeling_positionx" < $x and
> "auxiliary_storage_labeling_positiony" > $y and
> abs("auxiliary_storage_labeling_positiony"-$y) >=
> abs("auxiliary_storage_labeling_positionx"-$x) then
> >   make_line($geometry,
> make_point($x,abs("auxiliary_storage_labeling_positionx"-$x)+$y),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> > when "auxiliary_storage_labeling_positionx" < $x and
> "auxiliary_storage_labeling_positiony" < $y and
> abs("auxiliary_storage_labeling_positiony"-$y) <
> abs("auxiliary_storage_labeling_positionx"-$x) THEN
> >   make_line($geometry,
> make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> > when  "auxiliary_storage_labeling_positionx" < $x and
> "auxiliary_storage_labeling_positiony" < $y and
> abs("auxiliary_storage_labeling_positiony"-$y) >=
> abs("auxiliary_storage_labeling_positionx"-$x) then
> >   make_line($geometry,
> make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> > when "auxiliary_storage_labeling_positionx" >= $x and
> "auxiliary_storage_labeling_positiony" > $y and
> abs("auxiliary_storage_labeling_positiony"-$y) >
> abs("auxiliary_storage_labeling_positionx"-$x) then --quadrant ur alternatif
> >   make_line($geometry,
> make_point($x,"auxiliary_storage_labeling_positiony"-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> > when "auxiliary_storage_labeling_positionx" >= $x and
> "auxiliary_storage_labeling_positiony" > $y and
> abs("auxiliary_storage_labeling_positiony"-$y) <
> abs("auxiliary_storage_labeling_positionx"-$x) then
> >    make_line($geometry,
> make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> > when "auxiliary_storage_labeling_positionx" >= $x and
> "auxiliary_storage_labeling_positiony" <= $y and
> abs("auxiliary_storage_labeling_positiony"-$y) >
> abs("auxiliary_storage_labeling_positionx"-$x) THEN
> >   make_line($geometry,
> make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> > when "auxiliary_storage_labeling_positionx" >= $x and
> "auxiliary_storage_labeling_positiony" <= $y and
> abs("auxiliary_storage_labeling_positiony"-$y) <
> abs("auxiliary_storage_labeling_positionx"-$x) THEN
> >  make_line($geometry,
> make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx",
> "auxiliary_storage_labeling_positiony"))
> >    END
> >
> >
> >
> >
> > El lun., 11 nov. 2019 17:15, Régis Haubourg <regis.haubourg at gmail.com>
> escribió:
> >>
> >> Hi Luis, can you share your geometry generator expression please?
> >> regards
> >> Régis
> >>
> >> Le lun. 11 nov. 2019 à 09:04, Luís Miguel Royo Pérez
> >> <luis.miguel.royo at gmail.com> a écrit :
> >> >
> >> > Hello everyone,
> >> >
> >> > I'm developing a QGIS plugin along with PostGIS and I'm facing some
> problems with labeling. This plugin creates several layers and tables. Some
> of these layers are views  (labeling layers), so if I edit the one fo the
> source layer the view changes and then the label. I explain more detailed:
> >> >
> >> > I have the following:
> >> >
> >> > One layer. Let's call it layer1.
> >> > One none spatial table. Let's call it table1.
> >> > One spatial view from these other two layers layer1 and table1 meant
> for labeling. Let's call it labelView1.
> >> >
> >> > The point is this, when I edit table1 adding a new element linked by
> a foreign key with layer1. The label position in labelView1 changes into a
> messy thing. The Style of labelView1 is the following:
> >> >
> >> > Symbol is a geometry generator. Since I want to create callouts from
> label to the geometry, wich is a point.
> >> > The position of the label is saved on project. In the qgd file.
> >> >
> >> > I have seen this behaviour in Windows10 and in Ubuntu. The QGIS
> version is 3.4, but I tried to move to the new 3.10 version of QGIS, with
> the callouts new feature, but is the same result.
> >> >
> >> > As well I tried to reproduce it in a much simple way, but without
> succed, that's why I want to share a link with a GIF file showing this
> issue:
> >> >
> >> > https://gifyu.com/image/vMY7
> >> >
> >> > I've done the same but without fixed position,and the labels don't
> move, but the geometry_generator does.
> >> >
> >> > Is this a bug? Is there any way to prevent it?
> >> >
> >> > Thanks.
> >> > --
> >> > Luís Miguel Royo Pérez.
> >> > Analista-Programador GIS
> >> > C/ Antic Regne de Valencia nº 4. Manises (Valencia)
> >> > Teléfono:+34  679846103
> >> > webs:
> >> > inisig.com
> >> > geofibra.com
> >> >
> >> >
> >> > _______________________________________________
> >> > QGIS-Developer mailing list
> >> > QGIS-Developer at lists.osgeo.org
> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Luís Miguel Royo Pérez.
Analista-Programador GIS
C/ Antic Regne de Valencia nº 4. Manises (Valencia)
Teléfono:+34  679846103
webs:
inisig.com
geofibra.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/e0a06c7e/attachment.html>

From pedrongvenancio at gmail.com  Tue Nov 12 07:02:27 2019
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Tue, 12 Nov 2019 15:02:27 +0000
Subject: [QGIS-Developer] [GRASS-user] WinGRASS build up (WIP)
In-Reply-To: <CA+Ei1OeXPRXNcLMEcWiGGmnGjjtqomSxcr5x=mctxoubGFrTyQ@mail.gmail.com>
References: <20191104173919.kcunplf27hny7owb@norbit.de>
 <trinity-06e9e615-aa6e-445e-ba89-ccd4487f97d9-1572890039961@3c-app-webde-bap65>
 <20191105102946.neukzlad4yyih3fm@norbit.de>
 <trinity-b6092b89-14fe-44df-95ea-c3db8050187e-1572975018003@3c-app-webde-bs19>
 <20191105175637.nerd6vrh5mxmdeb7@norbit.de>
 <trinity-caf8e50a-7d9f-4b56-b649-86517bf5bcbc-1572982296493@3c-app-webde-bs04>
 <CA+Ei1OcgEAZ8LnkXwbvgwMt5b0QWGdLjsPS9qTUGo+fZTGDw=Q@mail.gmail.com>
 <trinity-0e8ee7ba-025a-4e33-8357-fd7bed590fd7-1573029760655@3c-app-webde-bs03>
 <CA+Ei1Od4URvj=AQaNLJBRbe1xWGGk3_NEt0eivxU2C5J=bMTSg@mail.gmail.com>
 <CA+Ei1OeWb-QPMTrFh2R55SQeX-w28D-aEiBW-zGyRt1RiLBfWg@mail.gmail.com>
 <20191111103833.gclm4xifbalifd5m@norbit.de>
 <CA+Ei1Oct4e=Mg8ck12V5etKvw2R33s-qo860bhWjf7Ya_ttbqw@mail.gmail.com>
 <CAMCJCht5fedWTmZpLEJiJX2PKmsPsMxU6J8G=oriXM46ryaFOg@mail.gmail.com>
 <CA+Ei1OeXPRXNcLMEcWiGGmnGjjtqomSxcr5x=mctxoubGFrTyQ@mail.gmail.com>
Message-ID: <CAMCJChvbZjWkDSDHadrm-0v7YrcT3kZbXb_8nhsHSwSOVt_WAg@mail.gmail.com>

Hi Martin,

Hum, it can be related, because starting GRASS with

grass --text

and then

v.buffer

I get a windows message saying that the gdal300.dll is missing. However, I
have a gdal300.dll file in OSGeoW folder: C:\OSGeo4W64\bin.

GRASS config gives:

C:\>grass78 --config
x86_64-w64-mingw32
./configure  --host=x86_64-w64-mingw32 '--with-libs=C:\\OS3944~1/lib'
--with-includes=/c/OSGeo4W64/include --libexecdir=/c/OSGeo4W64/bin
--prefix=/c/OSGeo4W64/apps/grass --bindir=/c/OSGeo4W64/bin
--includedir=/c/OSGeo4W64/include --without-x --with-cxx --enable-shared
--enable-largefile --with-fftw --with-freetype
--with-freetype-includes=/mingw64/include/freetype2
--with-proj-share=/c/OSGeo4W64/share/proj
--with-proj-includes=/c/OSGeo4W64/include
--with-proj-libs=/usr/src/grass781/mswindows/osgeo4w/lib --with-postgres
--with-postgres-includes=/c/OSGeo4W64/include
--with-postgres-libs=/usr/src/grass781/mswindows/osgeo4w/lib
--with-gdal=/usr/src/grass781/mswindows/osgeo4w/gdal-config
--with-geos=/usr/src/grass781/mswindows/osgeo4w/geos-config --with-sqlite
--with-sqlite-includes=/c/OSGeo4W64/include
--with-sqlite-libs=/usr/src/grass781/mswindows/osgeo4w/lib --with-regex
--with-nls --with-zstd --with-odbc --with-cairo --with-opengl=windows
--with-bzlib --with-liblas=/usr/src/grass781/mswindows/osgeo4w/liblas-config
gcc
C:\OSGEO4~1\apps\grass\grass78
Traceback (most recent call last):
  File "C:\OSGEO4~1\apps\grass\grass78\etc\grass78.py", line 2025, in main
    index = sys.argv.index(batch_exec_param)
ValueError: '--exec' is not in list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\OSGEO4~1\apps\grass\grass78\etc\grass78.py", line 2216, in
<module>
    main()
  File "C:\OSGEO4~1\apps\grass\grass78\etc\grass78.py", line 2030, in main
    params = parse_cmdline(sys.argv[1:], default_gui=default_gui)
  File "C:\OSGEO4~1\apps\grass\grass78\etc\grass78.py", line 1951, in
parse_cmdline
    print_params()
  File "C:\OSGEO4~1\apps\grass\grass78\etc\grass78.py", line 1862, in
print_params
    "%s\n" % val[0].split(':')[1].rstrip('$"\n').strip())
IndexError: list index out of range
Press any key to continue . . .



Martin Landa <landa.martin at gmail.com> escreveu no dia terça, 12/11/2019
à(s) 14:26:

> Hi,
>
> út 12. 11. 2019 v 15:14 odesílatel Pedro Venâncio
> <pedrongvenancio at gmail.com> napsal:
> > GDAL version: 3.1.0dev
> > GEOS version: 3.8.0-CAPI-1.13.1
> > PROJ version: Rel. 7.0.0, March 1st, 2020
>
> it's probably unrelated, but GRASS 7.8.1 is compiled with GDAL 3.0 and
> PROJ 6.0.
>
> Ma
>
> --
> Martin Landa
> http://geo.fsv.cvut.cz/gwiki/Landa
> http://gismentors.cz/mentors/landa
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191112/d3701a2d/attachment-0001.html>

From noreply at qgis.org  Tue Nov 12 07:06:21 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 12 Nov 2019 15:06:21 -0000
Subject: [QGIS-Developer] Plugin [1810] openPapers approval notification.
Message-ID: <20191112150621.9595.24086@2c6504964296>


Plugin openPapers approval by pcav.
The plugin version "[1810] openPapers 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/open_papers/

From noreply at qgis.org  Tue Nov 12 07:07:09 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 12 Nov 2019 15:07:09 -0000
Subject: [QGIS-Developer] Plugin [1669] EnMAP-Box 3 approval notification.
Message-ID: <20191112150709.9595.61122@2c6504964296>


Plugin EnMAP-Box 3 approval by pcav.
The plugin version "[1669] EnMAP-Box 3 3.5.20191112T1029.master" is now approved
Link: http://plugins.qgis.org/plugins/enmapboxplugin/

From regis.haubourg at gmail.com  Tue Nov 12 07:52:02 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 12 Nov 2019 16:52:02 +0100
Subject: [QGIS-Developer] Labelling misplaced
In-Reply-To: <CAPqby8kMz+PWhkakmhG6=m+Mh372TLhr7kKPCvv8h5_qzBaVzg@mail.gmail.com>
References: <CAPqby8n=VOL9KJm+i7=GB6eQpLTA-o_FgcLNSDqaGLNY6zjXqw@mail.gmail.com>
 <CABgOYCeUMbH3QrJnRxtTG+cezwBBqnV8ROc6Gidk=jO2+fvTRg@mail.gmail.com>
 <CAPqby8n33+tZR+OmFZhZ3Y6ckixQOMBee_5uhYL=7h4hNw9s4w@mail.gmail.com>
 <CABgOYCcc+7dNUJbbo_4etLWfdSZvmiSZv1gkZz_UrLQ-0rxcCw@mail.gmail.com>
 <CAPqby8kMz+PWhkakmhG6=m+Mh372TLhr7kKPCvv8h5_qzBaVzg@mail.gmail.com>
Message-ID: <CABgOYCd72M1+fZqJ1FXaH__ZhmjbOR9xub0fpO9X2_3Wc4oUgQ@mail.gmail.com>

Cool!

Le mar. 12 nov. 2019 à 15:37, Luís Miguel Royo Pérez
<luis.miguel.royo at gmail.com> a écrit :
>
> Hi Régis,
>
> thanks a lot for your insights. Finally I caught the issue. It's easy, since the labelling layer is a view, everytime this view was updated, the id, changed, and then the messy thing happened. I fixed already.
> Again, thanks ^^
>
> El lun., 11 nov. 2019 a las 18:43, Régis Haubourg (<regis.haubourg at gmail.com>) escribió:
>>
>> Oh ok, expression taken from label connector plugin :)
>>
>> Be aware that it can be slow with big geometries and that it is a
>> temporary approach before having a native one in core (which I'd be
>> pleased to have implemented if anyone supports it).
>>
>> So it seems you have something messing the unique id's that auxiliary
>> storage database uses to link your data and qgis projected data when
>> you add a new feature. Are you sure your ID's and foreign keys beahve
>> like expected on the database side? For the auxiliary storage, a new
>> feature shouldn't have any x-y value and thus the label should fall
>> back to the automatic labeling options. In your case, it seems the
>> newly created feature inherits from the id of another feature. This is
>> a common case in labeling, and I remember the famous Mapinfo label
>> callout mix ups that occured when compressing datasets, just because
>> it didn't use real id's, but line number to identify features.
>>
>>
>> Régis
>>
>> Le lun. 11 nov. 2019 à 17:33, Luís Miguel Royo Pérez
>> <luis.miguel.royo at gmail.com> a écrit :
>> >
>> > Of course, here is:
>> >
>> > case when "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) THEN
>> >  make_line($geometry, make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> > when  "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) >= abs("auxiliary_storage_labeling_positionx"-$x) then
>> >   make_line($geometry, make_point($x,abs("auxiliary_storage_labeling_positionx"-$x)+$y),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> > when "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" < $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) THEN
>> >   make_line($geometry, make_point($x-abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> > when  "auxiliary_storage_labeling_positionx" < $x and "auxiliary_storage_labeling_positiony" < $y and abs("auxiliary_storage_labeling_positiony"-$y) >= abs("auxiliary_storage_labeling_positionx"-$x) then
>> >   make_line($geometry, make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> > when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) > abs("auxiliary_storage_labeling_positionx"-$x) then --quadrant ur alternatif
>> >   make_line($geometry, make_point($x,"auxiliary_storage_labeling_positiony"-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> > when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" > $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) then
>> >    make_line($geometry, make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> > when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" <= $y and abs("auxiliary_storage_labeling_positiony"-$y) > abs("auxiliary_storage_labeling_positionx"-$x) THEN
>> >   make_line($geometry, make_point($x,$y-abs("auxiliary_storage_labeling_positionx"-$x)),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> > when "auxiliary_storage_labeling_positionx" >= $x and "auxiliary_storage_labeling_positiony" <= $y and abs("auxiliary_storage_labeling_positiony"-$y) < abs("auxiliary_storage_labeling_positionx"-$x) THEN
>> >  make_line($geometry, make_point($x+abs("auxiliary_storage_labeling_positiony"-$y),"auxiliary_storage_labeling_positiony"),make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony"))
>> >    END
>> >
>> >
>> >
>> >
>> > El lun., 11 nov. 2019 17:15, Régis Haubourg <regis.haubourg at gmail.com> escribió:
>> >>
>> >> Hi Luis, can you share your geometry generator expression please?
>> >> regards
>> >> Régis
>> >>
>> >> Le lun. 11 nov. 2019 à 09:04, Luís Miguel Royo Pérez
>> >> <luis.miguel.royo at gmail.com> a écrit :
>> >> >
>> >> > Hello everyone,
>> >> >
>> >> > I'm developing a QGIS plugin along with PostGIS and I'm facing some problems with labeling. This plugin creates several layers and tables. Some of these layers are views  (labeling layers), so if I edit the one fo the source layer the view changes and then the label. I explain more detailed:
>> >> >
>> >> > I have the following:
>> >> >
>> >> > One layer. Let's call it layer1.
>> >> > One none spatial table. Let's call it table1.
>> >> > One spatial view from these other two layers layer1 and table1 meant for labeling. Let's call it labelView1.
>> >> >
>> >> > The point is this, when I edit table1 adding a new element linked by a foreign key with layer1. The label position in labelView1 changes into a messy thing. The Style of labelView1 is the following:
>> >> >
>> >> > Symbol is a geometry generator. Since I want to create callouts from label to the geometry, wich is a point.
>> >> > The position of the label is saved on project. In the qgd file.
>> >> >
>> >> > I have seen this behaviour in Windows10 and in Ubuntu. The QGIS version is 3.4, but I tried to move to the new 3.10 version of QGIS, with the callouts new feature, but is the same result.
>> >> >
>> >> > As well I tried to reproduce it in a much simple way, but without succed, that's why I want to share a link with a GIF file showing this issue:
>> >> >
>> >> > https://gifyu.com/image/vMY7
>> >> >
>> >> > I've done the same but without fixed position,and the labels don't move, but the geometry_generator does.
>> >> >
>> >> > Is this a bug? Is there any way to prevent it?
>> >> >
>> >> > Thanks.
>> >> > --
>> >> > Luís Miguel Royo Pérez.
>> >> > Analista-Programador GIS
>> >> > C/ Antic Regne de Valencia nº 4. Manises (Valencia)
>> >> > Teléfono:+34  679846103
>> >> > webs:
>> >> > inisig.com
>> >> > geofibra.com
>> >> >
>> >> >
>> >> > _______________________________________________
>> >> > QGIS-Developer mailing list
>> >> > QGIS-Developer at lists.osgeo.org
>> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Luís Miguel Royo Pérez.
> Analista-Programador GIS
> C/ Antic Regne de Valencia nº 4. Manises (Valencia)
> Teléfono:+34  679846103
> webs:
> inisig.com
> geofibra.com
>
>

From jgr at di.uminho.pt  Tue Nov 12 16:02:16 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Wed, 13 Nov 2019 00:02:16 +0000
Subject: [QGIS-Developer] QGIS crash on adding data
In-Reply-To: <DB7PR05MB57866936AD3379A7A76B14F8E5770@DB7PR05MB5786.eurprd05.prod.outlook.com>
References: <DB7PR05MB57866936AD3379A7A76B14F8E5770@DB7PR05MB5786.eurprd05.prod.outlook.com>
Message-ID: <0b89b6a3-dfd8-369f-52e1-239cec5cd6e4@di.uminho.pt>

Hi Eugenio,

If you were able to compile QGIS, that is fantastic. Not everybody is
able to do so.

Can you run it from the command line and see why it crashes?

You can rebuild it again with -D CMAKE_BUILD_TYPE=Debug to make sure all
the debug information is printed on the command line. If it is nor
enough, install valgrind and use it to run QGIS. Sometimes is really
necessary to use valgrind.

Meanwhile, can you open QGIS and report back your settings? You can use
QGIS Python console, and write down on the console:
QgsApplication.showSettings()

I just want to make sure you are not running QGIS with strange PATH
settings. It should return something like:

QgsApplication.showSettings()
'Application state:\nQGIS_PREFIX_PATH env
var:\t\t\nPrefix:\t\t/usr\nPlugin
Path:\t\t/usr/lib/qgis/plugins\nPackage Data
Path:\t/usr/share/qgis\nActive Theme Name:\tdefault\nActive Theme
Path:\t/usr/share/qgis/resources/themes/default/icons/\nDefault Theme
Path:\t:/images/themes/default/\nSVG Search
Paths:\t/home/jgr/dev/cpp/build-QGIS/output/data/svg/\n\t\t/home/jgr/.local/share/QGIS/QGIS3/profiles/espinho/svg/\n\t\t/svg/\n\t\t/usr/share/qgis/svg/\nUser
DB Path:\t/usr/share/qgis/resources/qgis.db\nAuth DB
Path:\t/home/jgr/.local/share/QGIS/QGIS3/profiles/espinho/qgis-auth.db\n'

Regards,

Jorge

Às 13:52 de 12/11/19, Eugenio Trumpy escreveu:
> Hi all,
> 
> I have a critical issue with QGIS since I updated ubuntu to the 19.10
> version.
> I have already written in the other mailing list without any answer.
> 
> After to have launched QGIS if I click on the manager of source data and
> choose vector or raster
> when I click on the 3 points button to browse the file system and choose
> the datasets QGIS crashes
> together with all the ubuntu open windows.
> 
> I experienced this problem with 3 different version of QGIS:
> 
>   * the 3.4 LTS from ubuntu repo
>   * the 3.10 from https://qgis.org/ubuntu repo
>   * the master version compiled from source
> 
> Has this happened to anyone else?
> Any hint? or suggestion?
> 
> regards
> 
> Eugenio
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From noreply at qgis.org  Tue Nov 12 20:38:02 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 04:38:02 -0000
Subject: [QGIS-Developer] Plugin [1765] Water Network Tools approval
	notification.
Message-ID: <20191113043802.9595.88677@2c6504964296>


Plugin Water Network Tools approval by pcav.
The plugin version "[1765] Water Network Tools 0.3.2 Experimental" is now unapproved
Link: http://plugins.qgis.org/plugins/wnt/

From noreply at qgis.org  Tue Nov 12 20:38:11 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 04:38:11 -0000
Subject: [QGIS-Developer] Plugin [1765] Water Network Tools approval
	notification.
Message-ID: <20191113043811.8915.60021@2c6504964296>


Plugin Water Network Tools approval by pcav.
The plugin version "[1765] Water Network Tools 0.2 Experimental" is now unapproved
Link: http://plugins.qgis.org/plugins/wnt/

From noreply at qgis.org  Tue Nov 12 20:38:12 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 04:38:12 -0000
Subject: [QGIS-Developer] Plugin [1765] Water Network Tools unapproval
	notification.
Message-ID: <20191113043812.9595.76573@2c6504964296>


Plugin Water Network Tools unapproval by pcav.
The plugin version "[1765] Water Network Tools 0.1 Experimental" is now unapproved
Link: http://plugins.qgis.org/plugins/wnt/

From noreply at qgis.org  Tue Nov 12 20:45:12 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 04:45:12 -0000
Subject: [QGIS-Developer] Plugin [1197] Geometry Wrapper approval
	notification.
Message-ID: <20191113044512.9595.91553@2c6504964296>


Plugin Geometry Wrapper approval by pcav.
The plugin version "[1197] Geometry Wrapper 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/GeoWrap/

From denis.rouzaud at gmail.com  Tue Nov 12 21:04:44 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 13 Nov 2019 06:04:44 +0100
Subject: [QGIS-Developer] QGIS crash on adding data
In-Reply-To: <DB7PR05MB57866936AD3379A7A76B14F8E5770@DB7PR05MB5786.eurprd05.prod.outlook.com>
References: <DB7PR05MB57866936AD3379A7A76B14F8E5770@DB7PR05MB5786.eurprd05.prod.outlook.com>
Message-ID: <CAMtsY+Y-vTmTU1ULwJaVJpAFgsi=yVn6J27CBuYgdRpXm+XFZg@mail.gmail.com>

Hi Eugenio,

As a first try, it might also be worth trying with a clean profile (i.e. no
plugin). In settings menu, profile, create a new one.
And see if the crash still occurs.

Cheers
Denis

Le mar. 12 nov. 2019 à 14:52, Eugenio Trumpy <frippe12573 at hotmail.com> a
écrit :

> Hi all,
>
> I have a critical issue with QGIS since I updated ubuntu to the 19.10
> version.
> I have already written in the other mailing list without any answer.
>
> After to have launched QGIS if I click on the manager of source data and
> choose vector or raster
> when I click on the 3 points button to browse the file system and choose
> the datasets QGIS crashes
> together with all the ubuntu open windows.
>
> I experienced this problem with 3 different version of QGIS:
>
>    - the 3.4 LTS from ubuntu repo
>    - the 3.10 from https://qgis.org/ubuntu repo
>    - the master version compiled from source
>
> Has this happened to anyone else?
> Any hint? or suggestion?
>
> regards
>
> Eugenio
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/976f1666/attachment.html>

From senhor.neto at gmail.com  Wed Nov 13 02:17:04 2019
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 13 Nov 2019 10:17:04 +0000
Subject: [QGIS-Developer] Problems loading and using GDALinfo on hdf5 files
	(only on Windows)
Message-ID: <CA+H0G_FMu7mr1q4b9S3ejYpE_oGk82w1DKPz0miN_it_QAHvtA@mail.gmail.com>

Hi,

I am getting problems in reading a HDF5 file on windows. I have tried with
3.4 and 3.10. Also tested with the most recent version of GDAL 3.0.2 and
the previous version.
All the HDF drivers are active.
 When I grad and drop the file it gives me the following error:

2019-11-13T10:04:03     CRITICAL    Invalid Data Source :
C:/Users/boundless/Desktop/NEON_D02_BLAN_DP3_755000_4329000_reflectance.h5
is not a valid or recognized data source.

If I try to use gdalinfo on the same file I get the following:

C:\Users\boundless\Desktop>gdalinfo
NEON_D02_BLAN_DP3_755000_4329000_reflectance.h5
HDF5-DIAG: Error detected in HDF5 (1.10.4) thread 0:
  #000: C:\src\osgeo4w\hdf5\src\H5P.c line 253 in H5Pcreate(): not a
property list class
    major: Invalid arguments to routine
    minor: Inappropriate type
HDF5-DIAG: Error detected in HDF5 (1.10.4) thread 0:
  #000: C:\src\osgeo4w\hdf5\src\H5Pfapl.c line 829 in H5Pset_driver(): not
a property list
    major: Invalid arguments to routine
    minor: Inappropriate type
HDF5-DIAG: Error detected in HDF5 (1.10.4) thread 0:
  #000: C:\src\osgeo4w\hdf5\src\H5F.c line 509 in H5Fopen(): unable to open
file
    major: File accessibilty
    minor: Unable to open file
  #001: C:\src\osgeo4w\hdf5\src\H5Fint.c line 1400 in H5F__open(): unable
to open file
    major: File accessibilty
    minor: Unable to open file
  #002: C:\src\osgeo4w\hdf5\src\H5Fint.c line 1513 in H5F_open(): unable to
retrieve VFL class
    major: File accessibilty
    minor: Can't get value
  #003: C:\src\osgeo4w\hdf5\src\H5FD.c line 378 in H5FD_get_class(): can't
find object for ID
    major: Object atom
    minor: Unable to find atom information (already closed?)
HDF5-DIAG: Error detected in HDF5 (1.10.4) thread 0:
  #000: C:\src\osgeo4w\hdf5\src\H5P.c line 1518 in H5Pclose(): not a
property list
    major: Invalid arguments to routine
    minor: Inappropriate type
ERROR 4: `NEON_D02_BLAN_DP3_755000_4329000_reflectance.h5' not recognized
as a supported file format.
gdalinfo failed - unable to open
'NEON_D02_BLAN_DP3_755000_4329000_reflectance.h5'.


On Linux it works fine, both loading the file on QGIS, and using gdalinfo.
I thought it could be something to do with GDAL version since linux version
normally lags behind, so I have tried the conda installation (which has
gdal 3.0.2), but it worked just fine. So this means it must be a windows \
OSGeo4W thing, no?

Bug? Should I open a ticket?

Thanks,

Alexandre Neto


, both with gdal 3.0.2), but not on Linux. I though iot as
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/d271d309/attachment.html>

From noreply at qgis.org  Wed Nov 13 02:48:32 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 10:48:32 -0000
Subject: [QGIS-Developer] Plugin [1765] Water Network Tools approval
	notification.
Message-ID: <20191113104832.9595.14103@2c6504964296>


Plugin Water Network Tools approval by pcav.
The plugin version "[1765] Water Network Tools 0.3.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/wnt/

From bo.victor.thomsen at gmail.com  Wed Nov 13 03:55:03 2019
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Wed, 13 Nov 2019 12:55:03 +0100
Subject: [QGIS-Developer] Enumerating QGIS data sources using python
Message-ID: <aabe181f-f9dc-0d9d-d6f2-14a46f63365f@gmail.com>

Hi list members --

Is it possible to enumerate the data sources shown in the QGIS "Data 
Source Manager" dialog, tab"Browser" using python ?  I can't find any 
documentation for it.

My intension was to enumerate file-based datasources in a particular 
directory and maybe further enumerate through a specific file in the 
chosen directory (ex. a geopackage) containing several data layers.

-- 
Med venlig hilsen / Kind regards

Bo Victor Thomsen


From even.rouault at spatialys.com  Wed Nov 13 04:00:08 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 13 Nov 2019 13:00:08 +0100
Subject: [QGIS-Developer] Problems loading and using GDALinfo on hdf5
	files (only on Windows)
In-Reply-To: <CA+H0G_FMu7mr1q4b9S3ejYpE_oGk82w1DKPz0miN_it_QAHvtA@mail.gmail.com>
References: <CA+H0G_FMu7mr1q4b9S3ejYpE_oGk82w1DKPz0miN_it_QAHvtA@mail.gmail.com>
Message-ID: <23513805.DIJbbqalfr@even-i700>

> So this means it must be a windows \
> OSGeo4W thing, no?

Yes, Windows thing. Already reported at
https://github.com/OSGeo/gdal/issues/1428

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From frippe12573 at hotmail.com  Wed Nov 13 04:19:35 2019
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Wed, 13 Nov 2019 12:19:35 +0000
Subject: [QGIS-Developer] R: QGIS-Developer Digest, Vol 169, Issue 39
In-Reply-To: <mailman.64894.1573646102.17185.qgis-developer@lists.osgeo.org>
References: <mailman.64894.1573646102.17185.qgis-developer@lists.osgeo.org>
Message-ID: <DB7PR05MB5786464E030FA8AA14081731E5760@DB7PR05MB5786.eurprd05.prod.outlook.com>

Hi Jorge,

firstly let me thank you because you are the first you trying to help me so far,
after to have write and ask in different QGIS mailing list.

Yes, I'm amble to compile QGIS with no errors. As described I got the same crash either with the compiled version or the downloaded packages from qgis.org/ubuntu repo.
Well, I usually run QGIS from command line, but I'm not able to see what's happen in the terminal because the terminal window crashes as well.

Then I follow your suggestion to run in the python console:
QgsApplication.showSettings()

and here below the output:

'Stato applicazione:\nQGIS_PREFIX_PATH
var amb:\t\t\n
Prefisso:\t\t/usr\n
Percorso del plugin:\t\t/usr/lib/qgis/plugins\n
Percorso pacchetto dati:\t/usr/share/qgis\n
Nome tema attivo:\tdefault\n
Percorso tema attivo:\t/usr/share/qgis/resources/themes/default/icons/\n
Percorso tema di default:\t:/images/themes/default/\n
Percorso di ricerca SVG:\t/usr/share/qgis/svg/\n\t\t/home/eugenio/.local/share/QGIS/QGIS3/profiles/default/svg/\n
Percorso DB utente:\t/usr/share/qgis/resources/qgis.db\n
Percorso DB Auth: /home/eugenio/.local/share/QGIS/QGIS3/profiles/default/qgis-auth.db\n'

which seems to be correct, isn't it?

I could even rebuild QGIS with the option you suggested but if the result is to have
debug in the command line after having launched QGIS I guess it shouldn't work
as the terminal crashes, am I right?

An option could be use valgrind, but I never use it...

Eugenio
----------------------------------------------------------------------

Message: 1
Date: Wed, 13 Nov 2019 00:02:16 +0000
From: Jorge Gustavo Rocha <jgr at di.uminho.pt>
To: <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] QGIS crash on adding data
Message-ID: <0b89b6a3-dfd8-369f-52e1-239cec5cd6e4 at di.uminho.pt>
Content-Type: text/plain; charset="windows-1252"

Hi Eugenio,

If you were able to compile QGIS, that is fantastic. Not everybody is
able to do so.

Can you run it from the command line and see why it crashes?

You can rebuild it again with -D CMAKE_BUILD_TYPE=Debug to make sure all
the debug information is printed on the command line. If it is nor
enough, install valgrind and use it to run QGIS. Sometimes is really
necessary to use valgrind.

Meanwhile, can you open QGIS and report back your settings? You can use
QGIS Python console, and write down on the console:
QgsApplication.showSettings()

I just want to make sure you are not running QGIS with strange PATH
settings. It should return something like:

QgsApplication.showSettings()
'Application state:\nQGIS_PREFIX_PATH env
var:\t\t\nPrefix:\t\t/usr\nPlugin
Path:\t\t/usr/lib/qgis/plugins\nPackage Data
Path:\t/usr/share/qgis\nActive Theme Name:\tdefault\nActive Theme
Path:\t/usr/share/qgis/resources/themes/default/icons/\nDefault Theme
Path:\t:/images/themes/default/\nSVG Search
Paths:\t/home/jgr/dev/cpp/build-QGIS/output/data/svg/\n\t\t/home/jgr/.local/share/QGIS/QGIS3/profiles/espinho/svg/\n\t\t/svg/\n\t\t/usr/share/qgis/svg/\nUser
DB Path:\t/usr/share/qgis/resources/qgis.db\nAuth DB
Path:\t/home/jgr/.local/share/QGIS/QGIS3/profiles/espinho/qgis-auth.db\n'

Regards,

Jorge

Às 13:52 de 12/11/19, Eugenio Trumpy escreveu:
> Hi all,
>
> I have a critical issue with QGIS since I updated ubuntu to the 19.10
> version.
> I have already written in the other mailing list without any answer.
>
> After to have launched QGIS if I click on the manager of source data and
> choose vector or raster
> when I click on the 3 points button to browse the file system and choose
> the datasets QGIS crashes
> together with all the ubuntu open windows.
>
> I experienced this problem with 3 different version of QGIS:
>
>   * the 3.4 LTS from ubuntu repo
>   * the 3.10 from https://qgis.org/ubuntu repo
>   * the master version compiled from source
>
> Has this happened to anyone else?
> Any hint? or suggestion?
>
> regards
>
> Eugenio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/f6e3e160/attachment.html>

From noreply at qgis.org  Wed Nov 13 04:20:52 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 12:20:52 -0000
Subject: [QGIS-Developer] Plugin [1765] Water Network Tools approval
	notification.
Message-ID: <20191113122052.9663.16368@2c6504964296>


Plugin Water Network Tools approval by pcav.
The plugin version "[1765] Water Network Tools 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/wnt/

From noreply at qgis.org  Wed Nov 13 04:22:31 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 12:22:31 -0000
Subject: [QGIS-Developer] Plugin [1765] Water Network Tools approval
	notification.
Message-ID: <20191113122231.9663.9782@2c6504964296>


Plugin Water Network Tools approval by pcav.
The plugin version "[1765] Water Network Tools 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/wnt/

From frippe12573 at hotmail.com  Wed Nov 13 04:31:31 2019
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Wed, 13 Nov 2019 12:31:31 +0000
Subject: [QGIS-Developer] R: QGIS-Developer Digest, Vol 169, Issue 39
In-Reply-To: <mailman.64894.1573646102.17185.qgis-developer@lists.osgeo.org>
References: <mailman.64894.1573646102.17185.qgis-developer@lists.osgeo.org>
Message-ID: <DB7PR05MB5786F332D2DBCA7CA1197721E5760@DB7PR05MB5786.eurprd05.prod.outlook.com>

Hi,

thank you to have answered me!
I followed your suggestion, I created a new profile,
and for raster and vector I have no issues!!!

What was the problem?
How can remove the previous default user profile?

Thanks in advance,

Eugenio

------------------------------

Hi Eugenio,

As a first try, it might also be worth trying with a clean profile (i.e. no
plugin). In settings menu, profile, create a new one.
And see if the crash still occurs.

Cheers
Denis

Le mar. 12 nov. 2019 à 14:52, Eugenio Trumpy <frippe12573 at hotmail.com> a
écrit :

> Hi all,
>
> I have a critical issue with QGIS since I updated ubuntu to the 19.10
> version.
> I have already written in the other mailing list without any answer.
>
> After to have launched QGIS if I click on the manager of source data and
> choose vector or raster
> when I click on the 3 points button to browse the file system and choose
> the datasets QGIS crashes
> together with all the ubuntu open windows.
>
> I experienced this problem with 3 different version of QGIS:
>
>    - the 3.4 LTS from ubuntu repo
>    - the 3.10 from https://qgis.org/ubuntu repo
>    - the master version compiled from source
>
> Has this happened to anyone else?
> Any hint? or suggestion?
>
> regards
>
> Eugenio

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/ded28e2e/attachment-0001.html>

From senhor.neto at gmail.com  Wed Nov 13 05:11:44 2019
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 13 Nov 2019 13:11:44 +0000
Subject: [QGIS-Developer] Problems loading and using GDALinfo on hdf5
 files (only on Windows)
In-Reply-To: <23513805.DIJbbqalfr@even-i700>
References: <CA+H0G_FMu7mr1q4b9S3ejYpE_oGk82w1DKPz0miN_it_QAHvtA@mail.gmail.com>
 <23513805.DIJbbqalfr@even-i700>
Message-ID: <CA+H0G_E6gAGXam-a46tE+=t3DC0HEMNTxCgNMFJF0=RhUaC2Fg@mail.gmail.com>

Thanks!

On Wed, Nov 13, 2019 at 12:00 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> > So this means it must be a windows \
> > OSGeo4W thing, no?
>
> Yes, Windows thing. Already reported at
> https://github.com/OSGeo/gdal/issues/1428
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/c1206fe6/attachment.html>

From noreply at qgis.org  Wed Nov 13 05:59:12 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 13:59:12 -0000
Subject: [QGIS-Developer] Plugin [1544] CityJSON Loader approval
	notification.
Message-ID: <20191113135912.9663.54511@2c6504964296>


Plugin CityJSON Loader approval by pcav.
The plugin version "[1544] CityJSON Loader 0.4.2" is now approved
Link: http://plugins.qgis.org/plugins/CityJSON-loader/

From Jacky.VOLPES-EXT at canal-de-provence.com  Wed Nov 13 06:04:58 2019
From: Jacky.VOLPES-EXT at canal-de-provence.com (VOLPES-EXT, Jacky)
Date: Wed, 13 Nov 2019 14:04:58 +0000
Subject: [QGIS-Developer]  etc/ini/python-core.bat
Message-ID: <d31c2cefd0ac45b188e86441de101d63@SCPEX2K13-1.scp.fr>

Hi everyone !

I am on Windows, and I guess that the file etc/ini/python-core.bat in the installation directory has an invalid content :

SET PYTHONHOME=%OSGEO4W_ROOT%\apps\Python27
PATH %OSGEO4W_ROOT%\apps\Python27\Scripts;%PATH%

Since QGIS 3 I have to hand-modify it from Python27 to Python37 on both lines, in order to have my Eclipse environment working after the running the following batch file : bin\o4w_env.bat

Obviously, the same for using OSGeo4W Shell which is not correctly configured for python3 unless modifying the above file, as it calls bin\o4w_env.bat for initialization.

What are your thoughts about this ?
Thanks,
BR

PS : can someone check on other OS ?

Jacky Volpes
HR Team pour la Société du Canal de Provence | 2SI - QGIS
Le Tholonet, CS70064
jacky.volpes-ext at canal-de-provence.com<mailto:jacky.volpes-ext at canal-de-provence.com>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/b73860fd/attachment.html>

From jef at norbit.de  Wed Nov 13 06:48:49 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 13 Nov 2019 15:48:49 +0100
Subject: [QGIS-Developer] etc/ini/python-core.bat
In-Reply-To: <d31c2cefd0ac45b188e86441de101d63@SCPEX2K13-1.scp.fr>
References: <d31c2cefd0ac45b188e86441de101d63@SCPEX2K13-1.scp.fr>
Message-ID: <20191113144849.aepzojqprrooinjk@norbit.de>

Hi Jacky,

On Wed, 13. Nov 2019 at 14:04:58 +0000, VOLPES-EXT, Jacky wrote:
> I am on Windows, and I guess that the file etc/ini/python-core.bat in the
> installation directory has an invalid content :
 
> SET PYTHONHOME=%OSGEO4W_ROOT%\apps\Python27
> PATH %OSGEO4W_ROOT%\apps\Python27\Scripts;%PATH%

> Since QGIS 3 I have to hand-modify it from Python27 to Python37 on both
> lines, in order to have my Eclipse environment working after the running the
> following batch file : bin\o4w_env.bat

> Obviously, the same for using OSGeo4W Shell which is not correctly configured
> for python3 unless modifying the above file, as it calls bin\o4w_env.bat for
> initialization.

You need to call py3_env.bat - like everything else in OSGeo4W that uses
python3.

python2 is still the default python, although the last bit that was using
python2 - read GRASS - was upgraded to python3 a few days ago.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/af5f2608/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/af5f2608/attachment.ksh>

From Jacky.VOLPES-EXT at canal-de-provence.com  Wed Nov 13 07:04:31 2019
From: Jacky.VOLPES-EXT at canal-de-provence.com (VOLPES-EXT, Jacky)
Date: Wed, 13 Nov 2019 15:04:31 +0000
Subject: [QGIS-Developer] etc/ini/python-core.bat
In-Reply-To: <20191113144849.aepzojqprrooinjk@norbit.de>
References: <d31c2cefd0ac45b188e86441de101d63@SCPEX2K13-1.scp.fr>
 <20191113144849.aepzojqprrooinjk@norbit.de>
Message-ID: <db643accfdf64da393860eb6132a2865@SCPEX2K13-1.scp.fr>

Hi Jürgen,

OK I understand.
But as a result it could be considered to update the documentation just before this section here :
https://github.com/qgis/QGIS-Documentation/blob/master/source/docs/pyqgis_developer_cookbook/plugins/ide_debugging.rst#debugging-using-eclipse-and-pydev
which gives the following as an example of script to prepare Eclipse development environment for plugins (now in Python 3):

	call "C:\OSGeo4W\bin\o4w_env.bat"
	set PATH=%PATH%;C:\path\to\your\qgis_core.dll\parent\folder
	C:\path\to\your\eclipse.exe

This does not call py3_env.bat
I guess it would be sufficient to add just this line to the example after the call to o4w_env.bat :

	call "C:\OSGeo4W\bin\ py3_env.bat"

Thanks for you quick answer,
What do you think ?

Jacky Volpes
HR Team pour la Société du Canal de Provence | 2SI - QGIS
Le Tholonet, CS70064
jacky.volpes-ext at canal-de-provence.com 


-----Message d'origine-----
De : Jürgen E. Fischer [mailto:jef at norbit.de] 
Envoyé : mercredi 13 novembre 2019 15:49
À : VOLPES-EXT, Jacky <Jacky.VOLPES-EXT at canal-de-provence.com>
Cc : qgis-developer at lists.osgeo.org
Objet : Re: [QGIS-Developer] etc/ini/python-core.bat

Hi Jacky,

On Wed, 13. Nov 2019 at 14:04:58 +0000, VOLPES-EXT, Jacky wrote:
> I am on Windows, and I guess that the file etc/ini/python-core.bat in 
> the installation directory has an invalid content :
 
> SET PYTHONHOME=%OSGEO4W_ROOT%\apps\Python27
> PATH %OSGEO4W_ROOT%\apps\Python27\Scripts;%PATH%

> Since QGIS 3 I have to hand-modify it from Python27 to Python37 on 
> both lines, in order to have my Eclipse environment working after the 
> running the following batch file : bin\o4w_env.bat

> Obviously, the same for using OSGeo4W Shell which is not correctly 
> configured for python3 unless modifying the above file, as it calls 
> bin\o4w_env.bat for initialization.

You need to call py3_env.bat - like everything else in OSGeo4W that uses python3.

python2 is still the default python, although the last bit that was using
python2 - read GRASS - was upgraded to python3 a few days ago.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode

From tim at kartoza.com  Wed Nov 13 07:39:12 2019
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 13 Nov 2019 16:39:12 +0100
Subject: [QGIS-Developer] QGIS-Developer Digest, Vol 169, Issue 39
In-Reply-To: <DB7PR05MB5786F332D2DBCA7CA1197721E5760@DB7PR05MB5786.eurprd05.prod.outlook.com>
References: <mailman.64894.1573646102.17185.qgis-developer@lists.osgeo.org>
 <DB7PR05MB5786F332D2DBCA7CA1197721E5760@DB7PR05MB5786.eurprd05.prod.outlook.com>
Message-ID: <8C6B874E-4CA1-445A-8123-9175CBF1F7B2@kartoza.com>

Hi

Try enabling the plugins you had in your other profile one by one, and see if one of them is causing the crash.

Regards

Tim

> On 13 Nov 2019, at 13:31, Eugenio Trumpy <frippe12573 at hotmail.com> wrote:
> 
> Hi,
> 
> thank you to have answered me!
> I followed your suggestion, I created a new profile,
> and for raster and vector I have no issues!!!
> 
> What was the problem?
> How can remove the previous default user profile?
> 
> Thanks in advance,
> 
> Eugenio
> 
> ------------------------------
> 
> Hi Eugenio,
> 
> As a first try, it might also be worth trying with a clean profile (i.e. no
> plugin). In settings menu, profile, create a new one.
> And see if the crash still occurs.
> 
> Cheers
> Denis
> 
> Le mar. 12 nov. 2019 à 14:52, Eugenio Trumpy <frippe12573 at hotmail.com <mailto:frippe12573 at hotmail.com>> a
> écrit :
> 
> > Hi all,
> >
> > I have a critical issue with QGIS since I updated ubuntu to the 19.10
> > version.
> > I have already written in the other mailing list without any answer.
> >
> > After to have launched QGIS if I click on the manager of source data and
> > choose vector or raster
> > when I click on the 3 points button to browse the file system and choose
> > the datasets QGIS crashes
> > together with all the ubuntu open windows.
> >
> > I experienced this problem with 3 different version of QGIS:
> >
> >    - the 3.4 LTS from ubuntu repo
> >    - the 3.10 from https://qgis.org/ubuntu <https://qgis.org/ubuntu> repo
> >    - the master version compiled from source
> >
> > Has this happened to anyone else?
> > Any hint? or suggestion?
> >
> > regards
> >
> > Eugenio
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/f2879f30/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/f2879f30/attachment-0001.jpg>

From frippe12573 at hotmail.com  Wed Nov 13 07:47:16 2019
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Wed, 13 Nov 2019 15:47:16 +0000
Subject: [QGIS-Developer] R: QGIS crash on adding data
In-Reply-To: <mailman.64943.1573659563.17185.qgis-developer@lists.osgeo.org>
References: <mailman.64943.1573659563.17185.qgis-developer@lists.osgeo.org>
Message-ID: <DB7PR05MB578629EB2BEEC0FB9194D534E5760@DB7PR05MB5786.eurprd05.prod.outlook.com>

Hi Tim,

following the suggestion from Denis, I created a new user profile and now
I'm able to load data with both the new profile but even with the old one.
The latter seems to be very strange.
Any explanation? I'm curious now...

Eugenio



Hi

Try enabling the plugins you had in your other profile one by one, and see if one of them is causing the crash.

Regards

Tim

> On 13 Nov 2019, at 13:31, Eugenio Trumpy <frippe12573 at hotmail.com> wrote:
>
> Hi,
>
> thank you to have answered me!
> I followed your suggestion, I created a new profile,
> and for raster and vector I have no issues!!!
>
> What was the problem?
> How can remove the previous default user profile?
>
> Thanks in advance,
>
> Eugenio
>
> ------------------------------
>
> Hi Eugenio,
>
> As a first try, it might also be worth trying with a clean profile (i.e. no
> plugin). In settings menu, profile, create a new one.
> And see if the crash still occurs.
>
> Cheers
> Denis
>
> Le mar. 12 nov. 2019 à 14:52, Eugenio Trumpy <frippe12573 at hotmail.com <mailto:frippe12573 at hotmail.com>> a
> écrit :
>
> > Hi all,
> >
> > I have a critical issue with QGIS since I updated ubuntu to the 19.10
> > version.
> > I have already written in the other mailing list without any answer.
> >
> > After to have launched QGIS if I click on the manager of source data and
> > choose vector or raster
> > when I click on the 3 points button to browse the file system and choose
> > the datasets QGIS crashes
> > together with all the ubuntu open windows.
> >
> > I experienced this problem with 3 different version of QGIS:
> >
> >    - the 3.4 LTS from ubuntu repo
> >    - the 3.10 from https://qgis.org/ubuntu <https://qgis.org/ubuntu> repo
> >    - the master version compiled from source
> >
> > Has this happened to anyone else?
> > Any hint? or suggestion?
> >
> > regards
> >
> > Eugenio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/b8e5254a/attachment.html>

From jef at norbit.de  Wed Nov 13 07:47:47 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 13 Nov 2019 16:47:47 +0100
Subject: [QGIS-Developer] etc/ini/python-core.bat
In-Reply-To: <db643accfdf64da393860eb6132a2865@SCPEX2K13-1.scp.fr>
References: <d31c2cefd0ac45b188e86441de101d63@SCPEX2K13-1.scp.fr>
 <20191113144849.aepzojqprrooinjk@norbit.de>
 <db643accfdf64da393860eb6132a2865@SCPEX2K13-1.scp.fr>
Message-ID: <20191113154747.uveadijjdsbxyokr@norbit.de>

Hi,

On Wed, 13. Nov 2019 at 15:04:31 +0000, VOLPES-EXT, Jacky wrote:
> OK I understand.
> But as a result it could be considered to update the documentation just before this section here :
> https://github.com/qgis/QGIS-Documentation/blob/master/source/docs/pyqgis_developer_cookbook/plugins/ide_debugging.rst#debugging-using-eclipse-and-pydev
> which gives the following as an example of script to prepare Eclipse development environment for plugins (now in Python 3):
> 
> 	call "C:\OSGeo4W\bin\o4w_env.bat"
> 	set PATH=%PATH%;C:\path\to\your\qgis_core.dll\parent\folder
> 	C:\path\to\your\eclipse.exe
> 
> This does not call py3_env.bat
> I guess it would be sufficient to add just this line to the example after the call to o4w_env.bat :
> 
> 	call "C:\OSGeo4W\bin\ py3_env.bat"
> 
> Thanks for you quick answer,
> What do you think ?

Or trim it - the problem is that it quotes the old batch file.  Not sure since
when there is no qgis-unstable.bat anymore, but long - maybe there never was.

The instruction to copy the qgis batch file of the desired version and then
replacing the QGIS call on the last line with your favorite IDE would still
work.  As the current versions have py3_env.bat (and qt5_env.bat) and add
qgis_core's directory to PATH.  AFAICS just the example batch file quotes are
outdated - but they probably only there to illustrate how the replaced last
line is supposed to look.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191113/5e6a3b22/attachment.sig>

From noreply at qgis.org  Wed Nov 13 10:14:21 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 13 Nov 2019 18:14:21 -0000
Subject: [QGIS-Developer] Plugin [246] Flow Trace approval notification.
Message-ID: <20191113181421.9595.96951@2c6504964296>


Plugin Flow Trace approval by pcav.
The plugin version "[246] Flow Trace 1.0.4" is now approved
Link: http://plugins.qgis.org/plugins/flowTrace/

From cavallini at faunalia.it  Wed Nov 13 20:50:54 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 14 Nov 2019 05:50:54 +0100
Subject: [QGIS-Developer] Popular plugins
Message-ID: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>

Hi all,
I noticed that the Popular plugins sections on our plugin web app is
somewhat misleading, listing mostly plugin with a high number of
downloads and good ratings in the past, not necessarily still very
useful, often replaced by better alternatives in core.
I'd suggest either finding a better query (not easy to design, I
remember Alessandro and me spending some time on this years ago) or drop
it altogether.
Opinions?
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From SSchmidt at gfi-gis.de  Thu Nov 14 02:27:18 2019
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Thu, 14 Nov 2019 11:27:18 +0100
Subject: [QGIS-Developer] Error with raster renderer in QGIS 3.10
Message-ID: <OFEB5F9F94.828B7470-ONC12584B2.0037A226-C12584B2.003998D9@gfi-gis.de>

Hello,

in my plugin I set up a rasterlayer like this:

QgsRasterLayer* lyr = new QgsRasterLayer(src->Dir + "/" + src->File, 
firstTBLayer->Title, QStringLiteral("gdal"));
if (lyr->isValid())
        QgsProject::instance()->addMapLayers(QList<QgsMapLayer *>() << 
lyr, false);

The layer is valid and in a next step I ask for the renderer ... qgis 
crashes because of heap corruption.

So I create a new renderer like this:

QgsRasterRenderer* rend = new QgsMultiBandColorRenderer
(rLyr->dataProvider(), redBand, greenBand, blueBand);
rLyr->setRenderer(rend);

In QGIS all seems to be OK but while closing QGIS it crashes again.
If I ask for the renderer
qDebug() << rLyr->renderer();

QGIS crashes with following messages:

Ausnahme ausgelöst bei 0x00007ffd5369c3f0 in qgis-bin.exe: 0xC0000005: 
Zugriffsverletzung beim Lesen an Position 0x0000000000000030.

Stack Trace:

QgsRasterPipe::interface qgsrasterpipe.cpp:225
QgsRasterPipe::renderer qgsrasterpipe.cpp:239
QGISFunc::ReadRasterRuleSLD qgisfunc.cpp:1779


What is changing in my plugin while updating from qgis 2.18 to 3.10 ? The 
layer is added to legend after manipulating the renderer. In old plugin I 
manipulate renderer after adding it to legend. But this seems to be not 
the problem.

Anyone who can help, please?

Freundliche Grüße aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft für Informationstechnologie mbH
Philipp-Rosenthal-Straße 9
D-04103 Leipzig
Geschäftsführer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
ESRI Solution Partner      und       ER Mapper Reseller
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de  und  www.themenbrowser.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191114/75cef32c/attachment.html>

From noreply at qgis.org  Thu Nov 14 03:18:03 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 14 Nov 2019 11:18:03 -0000
Subject: [QGIS-Developer] Plugin [354] OSM place search approval
	notification.
Message-ID: <20191114111803.9663.92038@2c6504964296>


Plugin OSM place search approval by pcav.
The plugin version "[354] OSM place search 1.2.7 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/nominatim/

From noreply at qgis.org  Thu Nov 14 03:18:22 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 14 Nov 2019 11:18:22 -0000
Subject: [QGIS-Developer] Plugin [1329] FREEWAT approval notification.
Message-ID: <20191114111822.9663.93938@2c6504964296>


Plugin FREEWAT approval by pcav.
The plugin version "[1329] FREEWAT 1.2.0" is now approved
Link: http://plugins.qgis.org/plugins/freewat/

From landa.martin at gmail.com  Thu Nov 14 03:55:32 2019
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 14 Nov 2019 12:55:32 +0100
Subject: [QGIS-Developer] wps client plugin
Message-ID: <CA+Ei1Ofa1enxOF2xZWejnA3o89zfhHEibspXhs+nbfTfCJHtBg@mail.gmail.com>

Dear all,

to my knowledge there is currently no WPS client plugin for QGIS3. I
just found [1] which is written for QGIS2, no updates seem to be
published.

I am thinking to start implementing a new WPS client for QGIS3 from
scratch. To avoid duplication, are you aware of any initiative?

Thanks, Martin

[1] https://plugins.qgis.org/plugins/wps/

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From cavallini at faunalia.it  Thu Nov 14 03:57:12 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 14 Nov 2019 12:57:12 +0100
Subject: [QGIS-Developer] wps client plugin
In-Reply-To: <CA+Ei1Ofa1enxOF2xZWejnA3o89zfhHEibspXhs+nbfTfCJHtBg@mail.gmail.com>
References: <CA+Ei1Ofa1enxOF2xZWejnA3o89zfhHEibspXhs+nbfTfCJHtBg@mail.gmail.com>
Message-ID: <ae78c6ea-c0cd-29ca-c31d-42b4374bead4@faunalia.it>

Thank would be much appreciated.
Thanks Martin!

Il 14/11/19 12:55, Martin Landa ha scritto:
> Dear all,
> 
> to my knowledge there is currently no WPS client plugin for QGIS3. I
> just found [1] which is written for QGIS2, no updates seem to be
> published.
> 
> I am thinking to start implementing a new WPS client for QGIS3 from
> scratch. To avoid duplication, are you aware of any initiative?
> 
> Thanks, Martin
> 
> [1] https://plugins.qgis.org/plugins/wps/
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From adenaculture at gmail.com  Thu Nov 14 05:57:58 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 14 Nov 2019 08:57:58 -0500
Subject: [QGIS-Developer] Popular plugins
In-Reply-To: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>
References: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>
Message-ID: <CABPxTTq0RTs4XrDWdh4f7ELp-zBo8hHy2F=93Bt8L7gv85W-hA@mail.gmail.com>

What kind of stats are kept for the plugins? Popular plugins could be those
with the most downloads during the past year, but I don't know if you keep
track of when the downloads occurred.

Calvin

On Wed, Nov 13, 2019 at 11:50 PM Paolo Cavallini <cavallini at faunalia.it>
wrote:

> Hi all,
> I noticed that the Popular plugins sections on our plugin web app is
> somewhat misleading, listing mostly plugin with a high number of
> downloads and good ratings in the past, not necessarily still very
> useful, often replaced by better alternatives in core.
> I'd suggest either finding a better query (not easy to design, I
> remember Alessandro and me spending some time on this years ago) or drop
> it altogether.
> Opinions?
> Cheers.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191114/a21e5974/attachment-0001.html>

From apasotti at gmail.com  Thu Nov 14 06:01:25 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 14 Nov 2019 15:01:25 +0100
Subject: [QGIS-Developer] Popular plugins
In-Reply-To: <CABPxTTq0RTs4XrDWdh4f7ELp-zBo8hHy2F=93Bt8L7gv85W-hA@mail.gmail.com>
References: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>
 <CABPxTTq0RTs4XrDWdh4f7ELp-zBo8hHy2F=93Bt8L7gv85W-hA@mail.gmail.com>
Message-ID: <CAL5Q672UL+K5eukx3HXeSVvLTU=JGgVMjE6X-Fh24WgBxGVmUA@mail.gmail.com>

Can't remember exactly why that formula, but it was carefully discussed at
the time (7 years ago):

https://github.com/qgis/QGIS-Django/blob/master/qgis-app/plugins/models.py#L113




On Thu, Nov 14, 2019 at 2:58 PM C Hamilton <adenaculture at gmail.com> wrote:

> What kind of stats are kept for the plugins? Popular plugins could be
> those with the most downloads during the past year, but I don't know if you
> keep track of when the downloads occurred.
>
> Calvin
>
> On Wed, Nov 13, 2019 at 11:50 PM Paolo Cavallini <cavallini at faunalia.it>
> wrote:
>
>> Hi all,
>> I noticed that the Popular plugins sections on our plugin web app is
>> somewhat misleading, listing mostly plugin with a high number of
>> downloads and good ratings in the past, not necessarily still very
>> useful, often replaced by better alternatives in core.
>> I'd suggest either finding a better query (not easy to design, I
>> remember Alessandro and me spending some time on this years ago) or drop
>> it altogether.
>> Opinions?
>> Cheers.
>> --
>> Paolo Cavallini - www.faunalia.eu
>> QGIS.ORG Chair:
>> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191114/96fb2768/attachment.html>

From adenaculture at gmail.com  Thu Nov 14 06:36:23 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 14 Nov 2019 09:36:23 -0500
Subject: [QGIS-Developer] Popular plugins
In-Reply-To: <CAL5Q672UL+K5eukx3HXeSVvLTU=JGgVMjE6X-Fh24WgBxGVmUA@mail.gmail.com>
References: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>
 <CABPxTTq0RTs4XrDWdh4f7ELp-zBo8hHy2F=93Bt8L7gv85W-hA@mail.gmail.com>
 <CAL5Q672UL+K5eukx3HXeSVvLTU=JGgVMjE6X-Fh24WgBxGVmUA@mail.gmail.com>
Message-ID: <CABPxTTqi8rWGv3twyN95GzomV_mfwg6ikHRMFXBLd6Npdo14Eg@mail.gmail.com>

It appears to me that popularity should be what is currently popular. If
you are only keeping track of the total downloads and not when they are
downloaded, then I am not sure that category has that much meaning. Adding
in the ratings probably adds a little, but as I have looked at some of the
star rankings of some plugins, tested their usefulness, how well they
perform, and how may downloads they have vs stars, I wonder whether some of
the rankings have been artificially inflated. The net result is that I
don't believe some of them. I'm not sure there is a good solution to the
popularity question. My suggestion is to make it dependent on only the past
year's downloads and not the total if you have those stats and then somehow
add in the star rankings from the past year as well.

On Thu, Nov 14, 2019 at 9:01 AM Alessandro Pasotti <apasotti at gmail.com>
wrote:

>
>
> Can't remember exactly why that formula, but it was carefully discussed at
> the time (7 years ago):
>
>
> https://github.com/qgis/QGIS-Django/blob/master/qgis-app/plugins/models.py#L113
>
>
>
>
> On Thu, Nov 14, 2019 at 2:58 PM C Hamilton <adenaculture at gmail.com> wrote:
>
>> What kind of stats are kept for the plugins? Popular plugins could be
>> those with the most downloads during the past year, but I don't know if you
>> keep track of when the downloads occurred.
>>
>> Calvin
>>
>> On Wed, Nov 13, 2019 at 11:50 PM Paolo Cavallini <cavallini at faunalia.it>
>> wrote:
>>
>>> Hi all,
>>> I noticed that the Popular plugins sections on our plugin web app is
>>> somewhat misleading, listing mostly plugin with a high number of
>>> downloads and good ratings in the past, not necessarily still very
>>> useful, often replaced by better alternatives in core.
>>> I'd suggest either finding a better query (not easy to design, I
>>> remember Alessandro and me spending some time on this years ago) or drop
>>> it altogether.
>>> Opinions?
>>> Cheers.
>>> --
>>> Paolo Cavallini - www.faunalia.eu
>>> QGIS.ORG Chair:
>>> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191114/d6183672/attachment.html>

From carlo.bertelli at gmail.com  Thu Nov 14 06:46:29 2019
From: carlo.bertelli at gmail.com (Carlo A. Bertelli (Charta s.r.l.))
Date: Thu, 14 Nov 2019 15:46:29 +0100
Subject: [QGIS-Developer] Popular plugins
In-Reply-To: <CABPxTTqi8rWGv3twyN95GzomV_mfwg6ikHRMFXBLd6Npdo14Eg@mail.gmail.com>
References: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>
 <CABPxTTq0RTs4XrDWdh4f7ELp-zBo8hHy2F=93Bt8L7gv85W-hA@mail.gmail.com>
 <CAL5Q672UL+K5eukx3HXeSVvLTU=JGgVMjE6X-Fh24WgBxGVmUA@mail.gmail.com>
 <CABPxTTqi8rWGv3twyN95GzomV_mfwg6ikHRMFXBLd6Npdo14Eg@mail.gmail.com>
Message-ID: <CALc8-VLVedFc7rsy00-RSayKhxOB8eSm_LVcuMWtvyURYWhumg@mail.gmail.com>

What Paolo said seems a suggestion to modify the existing query. Beside
popularity (downloads), the query should filter out the plugins that
provide functionality already in core (by version). This means having a
stronger control of the plugins and features to decide what is in and what
is out for any version. The funny thing is that the new features for any
version are (loosely) tied to the most requested plugin features.

On Thu, Nov 14, 2019 at 3:36 PM C Hamilton <adenaculture at gmail.com> wrote:

> It appears to me that popularity should be what is currently popular. If
> you are only keeping track of the total downloads and not when they are
> downloaded, then I am not sure that category has that much meaning. Adding
> in the ratings probably adds a little, but as I have looked at some of the
> star rankings of some plugins, tested their usefulness, how well they
> perform, and how may downloads they have vs stars, I wonder whether some of
> the rankings have been artificially inflated. The net result is that I
> don't believe some of them. I'm not sure there is a good solution to the
> popularity question. My suggestion is to make it dependent on only the past
> year's downloads and not the total if you have those stats and then somehow
> add in the star rankings from the past year as well.
>
> On Thu, Nov 14, 2019 at 9:01 AM Alessandro Pasotti <apasotti at gmail.com>
> wrote:
>
>>
>>
>> Can't remember exactly why that formula, but it was carefully discussed
>> at the time (7 years ago):
>>
>>
>> https://github.com/qgis/QGIS-Django/blob/master/qgis-app/plugins/models.py#L113
>>
>>
>>
>>
>> On Thu, Nov 14, 2019 at 2:58 PM C Hamilton <adenaculture at gmail.com>
>> wrote:
>>
>>> What kind of stats are kept for the plugins? Popular plugins could be
>>> those with the most downloads during the past year, but I don't know if you
>>> keep track of when the downloads occurred.
>>>
>>> Calvin
>>>
>>> On Wed, Nov 13, 2019 at 11:50 PM Paolo Cavallini <cavallini at faunalia.it>
>>> wrote:
>>>
>>>> Hi all,
>>>> I noticed that the Popular plugins sections on our plugin web app is
>>>> somewhat misleading, listing mostly plugin with a high number of
>>>> downloads and good ratings in the past, not necessarily still very
>>>> useful, often replaced by better alternatives in core.
>>>> I'd suggest either finding a better query (not easy to design, I
>>>> remember Alessandro and me spending some time on this years ago) or drop
>>>> it altogether.
>>>> Opinions?
>>>> Cheers.
>>>> --
>>>> Paolo Cavallini - www.faunalia.eu
>>>> QGIS.ORG Chair:
>>>> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>>>> _______________________________________________
>>>>
>>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
--------------------------------------------------------------------------
Carlo A. Bertelli
   Charta servizi e sistemi per il territorio e la storia ambientale srl
          Dipendenze del palazzo Doria,
          vc. alla Chiesa della Maddalena 9/2 16124      Genova (Italy)
          tel./fax +39(0)10 2475439  +39 0108566195  mobile:+39 393 1590711
   e-mail: bertelli at chartasrl.eu      http://www.chartasrl.eu
--------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191114/31b4dff5/attachment-0001.html>

From nirvn.asia at gmail.com  Thu Nov 14 06:47:52 2019
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 14 Nov 2019 21:47:52 +0700
Subject: [QGIS-Developer] Popular plugins
In-Reply-To: <CABPxTTqi8rWGv3twyN95GzomV_mfwg6ikHRMFXBLd6Npdo14Eg@mail.gmail.com>
References: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>
 <CABPxTTq0RTs4XrDWdh4f7ELp-zBo8hHy2F=93Bt8L7gv85W-hA@mail.gmail.com>
 <CAL5Q672UL+K5eukx3HXeSVvLTU=JGgVMjE6X-Fh24WgBxGVmUA@mail.gmail.com>
 <CABPxTTqi8rWGv3twyN95GzomV_mfwg6ikHRMFXBLd6Npdo14Eg@mail.gmail.com>
Message-ID: <CAC_qv=rOQnvCa-q0rk-gzsA9eRctPiQfJtkw6gMXRWqGSi4sVQ@mail.gmail.com>

Question regarding download count: if I merely upgrade a plugin, does the
download to upgrade the plugin counts as an overall download?

We could have a refined popularity count if we'd find a way to come up with
an active users count (which shouldn't be that difficult to implement, info
could be passed on as a GET parameter when users routinely fetch an updated
reposity XML.

Beyond that, it could be interesting to come up with a new "Trending"
plugin, which would rely on a fixed time range (say latest tree months)
metrics. That'd help making new plugins create more momentum.

On Thu, Nov 14, 2019, 21:37 C Hamilton <adenaculture at gmail.com> wrote:

> It appears to me that popularity should be what is currently popular. If
> you are only keeping track of the total downloads and not when they are
> downloaded, then I am not sure that category has that much meaning. Adding
> in the ratings probably adds a little, but as I have looked at some of the
> star rankings of some plugins, tested their usefulness, how well they
> perform, and how may downloads they have vs stars, I wonder whether some of
> the rankings have been artificially inflated. The net result is that I
> don't believe some of them. I'm not sure there is a good solution to the
> popularity question. My suggestion is to make it dependent on only the past
> year's downloads and not the total if you have those stats and then somehow
> add in the star rankings from the past year as well.
>
> On Thu, Nov 14, 2019 at 9:01 AM Alessandro Pasotti <apasotti at gmail.com>
> wrote:
>
>>
>>
>> Can't remember exactly why that formula, but it was carefully discussed
>> at the time (7 years ago):
>>
>>
>> https://github.com/qgis/QGIS-Django/blob/master/qgis-app/plugins/models.py#L113
>>
>>
>>
>>
>> On Thu, Nov 14, 2019 at 2:58 PM C Hamilton <adenaculture at gmail.com>
>> wrote:
>>
>>> What kind of stats are kept for the plugins? Popular plugins could be
>>> those with the most downloads during the past year, but I don't know if you
>>> keep track of when the downloads occurred.
>>>
>>> Calvin
>>>
>>> On Wed, Nov 13, 2019 at 11:50 PM Paolo Cavallini <cavallini at faunalia.it>
>>> wrote:
>>>
>>>> Hi all,
>>>> I noticed that the Popular plugins sections on our plugin web app is
>>>> somewhat misleading, listing mostly plugin with a high number of
>>>> downloads and good ratings in the past, not necessarily still very
>>>> useful, often replaced by better alternatives in core.
>>>> I'd suggest either finding a better query (not easy to design, I
>>>> remember Alessandro and me spending some time on this years ago) or drop
>>>> it altogether.
>>>> Opinions?
>>>> Cheers.
>>>> --
>>>> Paolo Cavallini - www.faunalia.eu
>>>> QGIS.ORG Chair:
>>>> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191114/aaa90f94/attachment.html>

From cavallini at faunalia.it  Thu Nov 14 06:59:58 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 14 Nov 2019 15:59:58 +0100
Subject: [QGIS-Developer] Popular plugins
In-Reply-To: <CAC_qv=rOQnvCa-q0rk-gzsA9eRctPiQfJtkw6gMXRWqGSi4sVQ@mail.gmail.com>
References: <bdcc9a27-6288-8c0d-4521-c9d74e87598a@faunalia.it>
 <CABPxTTq0RTs4XrDWdh4f7ELp-zBo8hHy2F=93Bt8L7gv85W-hA@mail.gmail.com>
 <CAL5Q672UL+K5eukx3HXeSVvLTU=JGgVMjE6X-Fh24WgBxGVmUA@mail.gmail.com>
 <CABPxTTqi8rWGv3twyN95GzomV_mfwg6ikHRMFXBLd6Npdo14Eg@mail.gmail.com>
 <CAC_qv=rOQnvCa-q0rk-gzsA9eRctPiQfJtkw6gMXRWqGSi4sVQ@mail.gmail.com>
Message-ID: <850d7443-a21d-d99a-5130-ad1aef5dc353@faunalia.it>

Thanks for all the suggestion. The sad news is that this costs time and
energy, and I'm not sure there is actually people looking at these
stats, thus my suggestion to possibly remove the panel altogether.
is there someone willing to implement these more complex rules?
cheers.

Il 14/11/19 15:47, Mathieu Pellerin ha scritto:
> Question regarding download count: if I merely upgrade a plugin, does
> the download to upgrade the plugin counts as an overall download?
> 
> We could have a refined popularity count if we'd find a way to come up
> with an active users count (which shouldn't be that difficult to
> implement, info could be passed on as a GET parameter when users
> routinely fetch an updated reposity XML.
> 
> Beyond that, it could be interesting to come up with a new "Trending"
> plugin, which would rely on a fixed time range (say latest tree months)
> metrics. That'd help making new plugins create more momentum.
> 
> On Thu, Nov 14, 2019, 21:37 C Hamilton <adenaculture at gmail.com
> <mailto:adenaculture at gmail.com>> wrote:
> 
>     It appears to me that popularity should be what is currently
>     popular. If you are only keeping track of the total downloads and
>     not when they are downloaded, then I am not sure that category has
>     that much meaning. Adding in the ratings probably adds a little, but
>     as I have looked at some of the star rankings of some plugins,
>     tested their usefulness, how well they perform, and how may
>     downloads they have vs stars, I wonder whether some of the rankings
>     have been artificially inflated. The net result is that I don't
>     believe some of them. I'm not sure there is a good solution to the
>     popularity question. My suggestion is to make it dependent on only
>     the past year's downloads and not the total if you have those stats
>     and then somehow add in the star rankings from the past year as well.
> 
>     On Thu, Nov 14, 2019 at 9:01 AM Alessandro Pasotti
>     <apasotti at gmail.com <mailto:apasotti at gmail.com>> wrote:
> 
> 
> 
>         Can't remember exactly why that formula, but it was carefully
>         discussed at the time (7 years ago):
> 
>         https://github.com/qgis/QGIS-Django/blob/master/qgis-app/plugins/models.py#L113
> 
> 
> 
> 
>         On Thu, Nov 14, 2019 at 2:58 PM C Hamilton
>         <adenaculture at gmail.com <mailto:adenaculture at gmail.com>> wrote:
> 
>             What kind of stats are kept for the plugins? Popular plugins
>             could be those with the most downloads during the past year,
>             but I don't know if you keep track of when the downloads
>             occurred.
> 
>             Calvin
> 
>             On Wed, Nov 13, 2019 at 11:50 PM Paolo Cavallini
>             <cavallini at faunalia.it <mailto:cavallini at faunalia.it>> wrote:
> 
>                 Hi all,
>                 I noticed that the Popular plugins sections on our
>                 plugin web app is
>                 somewhat misleading, listing mostly plugin with a high
>                 number of
>                 downloads and good ratings in the past, not necessarily
>                 still very
>                 useful, often replaced by better alternatives in core.
>                 I'd suggest either finding a better query (not easy to
>                 design, I
>                 remember Alessandro and me spending some time on this
>                 years ago) or drop
>                 it altogether.
>                 Opinions?
>                 Cheers.
>                 -- 
>                 Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu>
>                 QGIS.ORG <http://QGIS.ORG> Chair:
>                 http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>                 _______________________________________________
>                 QGIS-Developer mailing list
>                 QGIS-Developer at lists.osgeo.org
>                 <mailto:QGIS-Developer at lists.osgeo.org>
>                 List info:
>                 https://lists.osgeo.org/mailman/listinfo/qgis-developer
>                 Unsubscribe:
>                 https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
>             _______________________________________________
>             QGIS-Developer mailing list
>             QGIS-Developer at lists.osgeo.org
>             <mailto:QGIS-Developer at lists.osgeo.org>
>             List info:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>             Unsubscribe:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
>         -- 
>         Alessandro Pasotti
>         w3:   www.itopen.it <http://www.itopen.it>
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From anitagraser at gmx.at  Thu Nov 14 11:34:01 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 14 Nov 2019 20:34:01 +0100
Subject: [QGIS-Developer] Geometry generator expression for line segment
	length
Message-ID: <CAFFV8FikOXhfHrt8F=sx4NawYRRYivEpP9kN3qwZpo7Rwo2-Vw@mail.gmail.com>

Hi,

I recently noticed that the expression I used in
https://anitagraser.com/2016/10/09/movement-data-in-gis-2-visualization/
does not work in current QGIS versions anymore. Specifically, I computed
the metric length of a line segment by transforming from WGS84 'EPSG:4326'
to 'EPSG:54027':

length(
      transform(
        geometry_n($geometry, at geometry_part_num),
        'EPSG:4326','EPSG:54027'
        )
    )

While debugging, I found that the transformation is not applied anymore.
(Some other EPSG codes do work though.) However, I couldn't figure out how
to get this transformation to work again.

Thanks!

Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191114/5ef96b44/attachment-0001.html>

From pi_ml at sourcepole.com  Thu Nov 14 23:46:07 2019
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Fri, 15 Nov 2019 08:46:07 +0100
Subject: [QGIS-Developer] wps client plugin
In-Reply-To: <CA+Ei1Ofa1enxOF2xZWejnA3o89zfhHEibspXhs+nbfTfCJHtBg@mail.gmail.com>
References: <CA+Ei1Ofa1enxOF2xZWejnA3o89zfhHEibspXhs+nbfTfCJHtBg@mail.gmail.com>
Message-ID: <0c314202-729e-7e88-b9f9-305d75084a70@sourcepole.com>

Hi Martin,

Our colleague Hussein has ported the plugin to QGIS 3 some time ago:
https://github.com/HusseinKabbout/qgis-wps-client
AFAIK the Processing integration hasn't been ported yet, which might be 
the reason, that it wasn't published on plugins.qgis.org.

Regards
Pirmin

On 14.11.19 12:55, Martin Landa wrote:
> Dear all,
> 
> to my knowledge there is currently no WPS client plugin for QGIS3. I
> just found [1] which is written for QGIS2, no updates seem to be
> published.
> 
> I am thinking to start implementing a new WPS client for QGIS3 from
> scratch. To avoid duplication, are you aware of any initiative?
> 
> Thanks, Martin
> 
> [1] https://plugins.qgis.org/plugins/wps/
> 


-- 
Pirmin Kalberer - @implgeo
Sourcepole - http://www.sourcepole.com

From noreply at qgis.org  Fri Nov 15 00:56:52 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 15 Nov 2019 08:56:52 -0000
Subject: [QGIS-Developer] Plugin [1237] BoundaryDelineation approval
	notification.
Message-ID: <20191115085652.9663.19292@2c6504964296>


Plugin BoundaryDelineation approval by pcav.
The plugin version "[1237] BoundaryDelineation 10.0" is now approved
Link: http://plugins.qgis.org/plugins/BoundaryDelineation/

From denis.rouzaud at gmail.com  Fri Nov 15 01:42:55 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 15 Nov 2019 10:42:55 +0100
Subject: [QGIS-Developer] Building hangs at
	qgscoordinatereferencesystem.cpp.o
Message-ID: <CAMtsY+bZEB27yWXSKWdqsXzFvy-UnNhjgucqj+Y6z91SDfjZHA@mail.gmail.com>

Hi all,

While compiling, buildings hands here:

[ 38%] Building CXX object
src/core/CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o


I am building with proj 6.2.1.


Any hint on what I could do?


Cheers,

Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191115/5668a068/attachment.html>

From lbartoletti at tuxfamily.org  Fri Nov 15 02:08:40 2019
From: lbartoletti at tuxfamily.org (=?UTF-8?Q?Lo=c3=afc_Bartoletti?=)
Date: Fri, 15 Nov 2019 11:08:40 +0100
Subject: [QGIS-Developer] Building hangs at
 qgscoordinatereferencesystem.cpp.o
In-Reply-To: <CAMtsY+bZEB27yWXSKWdqsXzFvy-UnNhjgucqj+Y6z91SDfjZHA@mail.gmail.com>
References: <CAMtsY+bZEB27yWXSKWdqsXzFvy-UnNhjgucqj+Y6z91SDfjZHA@mail.gmail.com>
Message-ID: <b2655580-1d45-7c2e-2c80-c3c88a8a2e9a@tuxfamily.org>

Hi Denis,

Seems to be related to 
https://www.mail-archive.com/qgis-developer at lists.osgeo.org/msg47062.html

If that's the case, We are working on several workarounds for LLVM: 
https://github.com/qgis/QGIS/pull/32807

Regards.

Loïc

Le 15/11/2019 à 10:42, Denis Rouzaud a écrit :
> Hi all,
>
> While compiling, buildings hands here:
>
> [ 38%] Building CXX object 
> src/core/CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o
>
> I am building with proj 6.2.1.
>
> Any hint on what I could do?
>
> Cheers,
>
> Denis
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191115/65698487/attachment.html>

From denis.rouzaud at gmail.com  Fri Nov 15 03:37:02 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 15 Nov 2019 12:37:02 +0100
Subject: [QGIS-Developer] Building hangs at
	qgscoordinatereferencesystem.cpp.o
In-Reply-To: <b2655580-1d45-7c2e-2c80-c3c88a8a2e9a@tuxfamily.org>
References: <CAMtsY+bZEB27yWXSKWdqsXzFvy-UnNhjgucqj+Y6z91SDfjZHA@mail.gmail.com>
 <b2655580-1d45-7c2e-2c80-c3c88a8a2e9a@tuxfamily.org>
Message-ID: <CAMtsY+b-EufLZzhavP77MsGBJAmn2N+bt6503MnjzXQX1f+RsA@mail.gmail.com>

Thanks a lot!!!

Le ven. 15 nov. 2019 à 11:08, Loïc Bartoletti <lbartoletti at tuxfamily.org> a
écrit :

> Hi Denis,
>
> Seems to be related to
> https://www.mail-archive.com/qgis-developer at lists.osgeo.org/msg47062.html
>
> If that's the case, We are working on several workarounds for LLVM:
> https://github.com/qgis/QGIS/pull/32807
>
> Regards.
>
> Loïc
> Le 15/11/2019 à 10:42, Denis Rouzaud a écrit :
>
> Hi all,
>
> While compiling, buildings hands here:
>
> [ 38%] Building CXX object
> src/core/CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o
>
> I am building with proj 6.2.1.
>
> Any hint on what I could do?
>
> Cheers,
>
> Denis
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191115/862ea94e/attachment.html>

From noreply at qgis.org  Fri Nov 15 03:45:31 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 15 Nov 2019 11:45:31 -0000
Subject: [QGIS-Developer] Plugin [1880] Guided Offline Editing approval
	notification.
Message-ID: <20191115114531.8884.62987@2c6504964296>


Plugin Guided Offline Editing approval by pcav.
The plugin version "[1880] Guided Offline Editing 0.3.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/guided_offline_editing/

From noreply at qgis.org  Fri Nov 15 07:48:04 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 15 Nov 2019 15:48:04 -0000
Subject: [QGIS-Developer] Plugin [65] Mask approval notification.
Message-ID: <20191115154804.8915.96837@2c6504964296>


Plugin Mask approval by pcav.
The plugin version "[65] Mask 1.9.2" is now approved
Link: http://plugins.qgis.org/plugins/mask/

From tim at kartoza.com  Sat Nov 16 10:06:30 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 16 Nov 2019 18:06:30 +0000
Subject: [QGIS-Developer] Issues installing on ubuntu 19.10
Message-ID: <CAES-DZSvQxdo9OSGKVSVbrn13A_BAvSn2Geui=D=Ouo1Y=k1zA@mail.gmail.com>

Hi All

Trying to follow the instructions to install QGIS 3.10 from package and I
am getting the error below. Probably I am doing something wrong, can
someone enlighten me?

Thanks!

Regards

Tim

timlinux at timbuntu:~$ sudo add-apt-repository
ppa:ubuntugis/ubuntugis-unstable
 Unstable releases of Ubuntu GIS packages. These releases are more bleeding
edge and while generally they should work well, they dont receive the same
amount of quality assurance as our stable releases do.
 More info:
https://launchpad.net/~ubuntugis/+archive/ubuntu/ubuntugis-unstable
Press [ENTER] to continue or Ctrl-c to cancel adding it.

Get:1 http://security.ubuntu.com/ubuntu eoan-security InRelease [97,5 kB]
Ign:2 http://dl.google.com/linux/chrome/deb stable InRelease
Hit:3 http://pt.archive.ubuntu.com/ubuntu eoan InRelease

Hit:4 http://pt.archive.ubuntu.com/ubuntu eoan-updates InRelease

Hit:5 http://pt.archive.ubuntu.com/ubuntu eoan-backports InRelease

Hit:6 http://dl.google.com/linux/chrome/deb stable Release

Hit:7 http://ppa.launchpad.net/openrazer/stable/ubuntu eoan InRelease

Hit:9 http://ppa.launchpad.net/polychromatic/stable/ubuntu eoan InRelease
Ign:10 http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu eoan
InRelease

Err:11 http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu eoan
Release

  404  Not Found [IP: 2001:67c:1560:8008::15 80]
Reading package lists... Done


E: The repository '
http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu eoan Release'
does not have a Release file.
N: Updating from such a repository can't be done securely, and is therefore
disabled by default.
N: See apt-secure(8) manpage for repository creation and user configuration
details.




-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
Kartoza is a merger between Linfiniti and Afrispatial
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191116/83911f83/attachment.html>

From jef at norbit.de  Sat Nov 16 11:54:15 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 16 Nov 2019 20:54:15 +0100
Subject: [QGIS-Developer] Issues installing on ubuntu 19.10
In-Reply-To: <CAES-DZSvQxdo9OSGKVSVbrn13A_BAvSn2Geui=D=Ouo1Y=k1zA@mail.gmail.com>
References: <CAES-DZSvQxdo9OSGKVSVbrn13A_BAvSn2Geui=D=Ouo1Y=k1zA@mail.gmail.com>
Message-ID: <20191116195415.dks3mjamsfumdpca@norbit.de>

Hi Tim,

On Sat, 16. Nov 2019 at 18:06:30 +0000, Tim Sutton wrote:
> Trying to follow the instructions to install QGIS 3.10 from package and I
> am getting the error below. Probably I am doing something wrong, can
> someone enlighten me?

I think ubuntugis only has packages for LTS releases - so not eoan.  Why don't
you use our repo?


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191116/65e74db8/attachment.sig>

From tim at kartoza.com  Sat Nov 16 12:07:24 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 16 Nov 2019 20:07:24 +0000
Subject: [QGIS-Developer] Issues installing on ubuntu 19.10
In-Reply-To: <20191116195415.dks3mjamsfumdpca@norbit.de>
References: <20191116195415.dks3mjamsfumdpca@norbit.de>
Message-ID: <E9051285-E0EF-4E61-B41B-3AE7D2A7F039@getmailspring.com>

Hi Juergen

On Nov 16 2019, at 7:54 pm, Jürgen E. Fischer <jef at norbit.de> wrote:
> Hi Tim,
>
> On Sat, 16. Nov 2019 at 18:06:30 +0000, Tim Sutton wrote:
> > Trying to follow the instructions to install QGIS 3.10 from package and I
> > am getting the error below. Probably I am doing something wrong, can
> > someone enlighten me?
>
>
> I think ubuntugis only has packages for LTS releases - so not eoan. Why don't
> you use our repo?
>

Ah thanks - I was following the notes on the ubuntu section of http://download.qgis.org (https://link.getmailspring.com/link/E9051285-E0EF-4E61-B41B-3AE7D2A7F039 at getmailspring.com/0?redirect=http%3A%2F%2Fdownload.qgis.org&recipient=cWdpcy1kZXZlbG9wZXJAbGlzdHMub3NnZW8ub3Jn)
"For Ubuntu we also have extra packages in a separate repository that are based on ubuntugis (https://link.getmailspring.com/link/E9051285-E0EF-4E61-B41B-3AE7D2A7F039 at getmailspring.com/1?redirect=https%3A%2F%2Flaunchpad.net%2F~ubuntugis&recipient=cWdpcy1kZXZlbG9wZXJAbGlzdHMub3NnZW8ub3Jn), which holds more uptodate versions of other GIS packages than Ubuntu itself. If you want those you also need to include ubuntugis-unstable ppa in your /etc/apt/sources.list file (see ubuntugis documentation (https://link.getmailspring.com/link/E9051285-E0EF-4E61-B41B-3AE7D2A7F039 at getmailspring.com/2?redirect=https%3A%2F%2Ftrac.osgeo.org%2Fubuntugis%2Fwiki%2FUbuntuGISRepository&recipient=cWdpcy1kZXZlbG9wZXJAbGlzdHMub3NnZW8ub3Jn))."
.... so if I understand that correctly I needed to add ubuntugis-unstable?
Regards
Tim

Jürgen
--
Jürgen E. Fischer norBIT GmbH Tel. +49-4931-918175-31
Dipl.-Inf. (FH) Rheinstraße 13 Fax. +49-4931-918175-50
Software Engineer D-26506 Norden https://www.norbit.de
QGIS release manager (PSC) Germany IRC: jef on FreeNode
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191116/815aaee8/attachment.html>

From jef at norbit.de  Sat Nov 16 12:37:27 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 16 Nov 2019 21:37:27 +0100
Subject: [QGIS-Developer] Issues installing on ubuntu 19.10
In-Reply-To: <E9051285-E0EF-4E61-B41B-3AE7D2A7F039@getmailspring.com>
References: <20191116195415.dks3mjamsfumdpca@norbit.de>
 <E9051285-E0EF-4E61-B41B-3AE7D2A7F039@getmailspring.com>
Message-ID: <20191116203727.noxhim7bun5ttscf@norbit.de>

Hi Tim,

On Sat, 16. Nov 2019 at 20:07:24 +0000, Tim Sutton wrote:
> Ah thanks - I was following the notes on the ubuntu section of http://download.qgis.org 

Ok, eoan should be listed, but wasn't.  If it had been, it would not have had a
"yes" in the "Also available based on ubuntugis-unstable dependencies?"
column.


> "For Ubuntu we also have extra packages in a separate repository that are
> based on ubuntugis, which holds more uptodate versions of other GIS packages
> than Ubuntu itself. If you want those you also need to include
> ubuntugis-unstable ppa in your /etc/apt/sources.list file (see ubuntugis
> documentation)."

> .... so if I understand that correctly I needed to add ubuntugis-unstable?

The linked documentation says 'The Ubuntu GIS packages are only available for
the Ubuntu LTS releases which haven't gone end-of-life yet.'.  So only for
xenial and bionic.

For all others you can install from qgis.org/ubuntu (or /debian which is the
same repo.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191116/04ba56a9/attachment.sig>

From tim at kartoza.com  Sat Nov 16 12:54:23 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 16 Nov 2019 20:54:23 +0000
Subject: [QGIS-Developer] Issues installing on ubuntu 19.10
In-Reply-To: <20191116203727.noxhim7bun5ttscf@norbit.de>
References: <20191116203727.noxhim7bun5ttscf@norbit.de>
Message-ID: <8782727E-0A75-495D-AFFB-00A4ACD55110@getmailspring.com>

Thanks Juergen - all working now - though it is running against GDAL 2.4.2. I was nerdily hoping to get GDAL 3.x in the process :-p

Regards
Tim

QGIS version

3.10.0-A Coruña

QGIS code revision

6c816b4204 (https://link.getmailspring.com/link/8782727E-0A75-495D-AFFB-00A4ACD55110 at getmailspring.com/0?redirect=https%3A%2F%2Fgithub.com%2Fqgis%2FQGIS%2Fcommit%2F6c816b4204&recipient=cWdpcy1kZXZlbG9wZXJAbGlzdHMub3NnZW8ub3Jn)

Compiled against Qt

5.12.4

Running against Qt

5.12.4

Compiled against GDAL/OGR

2.4.2

Running against GDAL/OGR

2.4.2

Compiled against GEOS

3.7.2-CAPI-1.11.2

Running against GEOS

3.7.2-CAPI-1.11.2 b55d2125

Compiled against SQLite

3.29.0

Running against SQLite

3.29.0

PostgreSQL Client Version

11.5 (Ubuntu 11.5-1)

SpatiaLite Version

4.3.0a

QWT Version

6.1.4

QScintilla2 Version

2.10.4

Compiled against PROJ

5.2.0

Running against PROJ

Rel. 5.2.0, September 15th, 2018

OS Version

Ubuntu 19.10

Active python plugins

Mergin;
db_manager;
MetaSearch;
processing

On Nov 16 2019, at 8:37 pm, Jürgen E. Fischer <jef at norbit.de> wrote:
> Hi Tim,
>
> On Sat, 16. Nov 2019 at 20:07:24 +0000, Tim Sutton wrote:
> > Ah thanks - I was following the notes on the ubuntu section of http://download.qgis.org
>
>
> Ok, eoan should be listed, but wasn't. If it had been, it would not have had a
> "yes" in the "Also available based on ubuntugis-unstable dependencies?"
> column.
>
>
> > "For Ubuntu we also have extra packages in a separate repository that are
> > based on ubuntugis, which holds more uptodate versions of other GIS packages
> > than Ubuntu itself. If you want those you also need to include
> > ubuntugis-unstable ppa in your /etc/apt/sources.list file (see ubuntugis
> > documentation)."
>
>
> > .... so if I understand that correctly I needed to add ubuntugis-unstable?
> The linked documentation says 'The Ubuntu GIS packages are only available for
> the Ubuntu LTS releases which haven't gone end-of-life yet.'. So only for
> xenial and bionic.
>
> For all others you can install from qgis.org/ubuntu (or /debian which is the
> same repo.
>
>
> Jürgen
> --
> Jürgen E. Fischer norBIT GmbH Tel. +49-4931-918175-31
> Dipl.-Inf. (FH) Rheinstraße 13 Fax. +49-4931-918175-50
> Software Engineer D-26506 Norden https://www.norbit.de
> QGIS release manager (PSC) Germany IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191116/78afe0ac/attachment-0001.html>

From jef at norbit.de  Sat Nov 16 13:06:21 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 16 Nov 2019 22:06:21 +0100
Subject: [QGIS-Developer] Issues installing on ubuntu 19.10
In-Reply-To: <8782727E-0A75-495D-AFFB-00A4ACD55110@getmailspring.com>
References: <20191116203727.noxhim7bun5ttscf@norbit.de>
 <8782727E-0A75-495D-AFFB-00A4ACD55110@getmailspring.com>
Message-ID: <20191116210621.tyto633jkqp3hb2f@norbit.de>

Hi Tim,

On Sat, 16. Nov 2019 at 20:54:23 +0000, Tim Sutton wrote:
> Thanks Juergen - all working now - though it is running against GDAL 2.4.2. I
> was nerdily hoping to get GDAL 3.x in the process :-p

Ubuntu (but also ubuntugis) usually depends on Debian (IOW on Bas Couwenberg's
work), when it comes to FOSSGIS:

On Sun, 10. Nov 2019 at 20:26:02 +0100, Sebastiaan Couwenberg wrote:
> The transition to GDAL 3 was blocked by the removal of the Python 2
> support as discussed in the transition bugreport (#939989). This took
> quite a bit of time to resolve due to an uncooperative maintainer, but
> there are no rdeps of python-gdal in unstable any more.
>
> In the meantime the GDAL 3 support in fiona was fixed upstream. vtk7 was
> also updated to use the embedded copy of PROJ.4 to fix the FTBFS with
> PROJ 6. OSSIM upstream even ported it to use the GEOS C API to fix the
> build failure with GEOS 3.8.0. Unfortunately OTB still FTBFS due to
> recent changes in ITK4. It's still not in testing, so not a big issue.
>
> Hopefully we'll be able to start the transition soon, but I fear that
> the python3.8 transition is going to cause more delays (as it will cause
> many autopkgtest failure until everything is rebuilt for python3.8 as well).


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191116/95e0b134/attachment.sig>

From tim at kartoza.com  Sat Nov 16 13:21:35 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 16 Nov 2019 21:21:35 +0000
Subject: [QGIS-Developer] Issues installing on ubuntu 19.10
In-Reply-To: <20191116210621.tyto633jkqp3hb2f@norbit.de>
References: <20191116210621.tyto633jkqp3hb2f@norbit.de>
Message-ID: <719FCF68-9BAC-4975-B7D8-730A5877F651@getmailspring.com>

Hi

Thanks for the info Jürgen ...no worries I will wait for now.

Regards
Tim
Sent from Mailspring (https://link.getmailspring.com/link/719FCF68-9BAC-4975-B7D8-730A5877F651 at getmailspring.com/0?redirect=https%3A%2F%2Fgetmailspring.com%2F&recipient=cWdpcy1kZXZlbG9wZXJAbGlzdHMub3NnZW8ub3Jn), the best free email app for work
On Nov 16 2019, at 9:06 pm, Jürgen E. Fischer <jef at norbit.de> wrote:
> Hi Tim,
>
> On Sat, 16. Nov 2019 at 20:54:23 +0000, Tim Sutton wrote:
> > Thanks Juergen - all working now - though it is running against GDAL 2.4.2. I
> > was nerdily hoping to get GDAL 3.x in the process :-p
>
>
> Ubuntu (but also ubuntugis) usually depends on Debian (IOW on Bas Couwenberg's
> work), when it comes to FOSSGIS:
>
> On Sun, 10. Nov 2019 at 20:26:02 +0100, Sebastiaan Couwenberg wrote:
> > The transition to GDAL 3 was blocked by the removal of the Python 2
> > support as discussed in the transition bugreport (#939989). This took
> > quite a bit of time to resolve due to an uncooperative maintainer, but
> > there are no rdeps of python-gdal in unstable any more.
> >
> > In the meantime the GDAL 3 support in fiona was fixed upstream. vtk7 was
> > also updated to use the embedded copy of PROJ.4 to fix the FTBFS with
> > PROJ 6. OSSIM upstream even ported it to use the GEOS C API to fix the
> > build failure with GEOS 3.8.0. Unfortunately OTB still FTBFS due to
> > recent changes in ITK4. It's still not in testing, so not a big issue.
> >
> > Hopefully we'll be able to start the transition soon, but I fear that
> > the python3.8 transition is going to cause more delays (as it will cause
> > many autopkgtest failure until everything is rebuilt for python3.8 as well).
>
>
>
> Jürgen
> --
> Jürgen E. Fischer norBIT GmbH Tel. +49-4931-918175-31
> Dipl.-Inf. (FH) Rheinstraße 13 Fax. +49-4931-918175-50
> Software Engineer D-26506 Norden https://www.norbit.de
> QGIS release manager (PSC) Germany IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191116/c2604f19/attachment.html>

From noreply at qgis.org  Sun Nov 17 15:49:25 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 17 Nov 2019 23:49:25 -0000
Subject: [QGIS-Developer] Plugin [1860] Stripchartdrawer approval
	notification.
Message-ID: <20191117234925.8915.84929@2c6504964296>


Plugin Stripchartdrawer approval by pcav.
The plugin version "[1860] Stripchartdrawer 0.61" is now approved
Link: http://plugins.qgis.org/plugins/stripchart/

From nyall.dawson at gmail.com  Sun Nov 17 19:40:20 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 18 Nov 2019 13:40:20 +1000
Subject: [QGIS-Developer] Geometry generator expression for line segment
	length
In-Reply-To: <CAFFV8FikOXhfHrt8F=sx4NawYRRYivEpP9kN3qwZpo7Rwo2-Vw@mail.gmail.com>
References: <CAFFV8FikOXhfHrt8F=sx4NawYRRYivEpP9kN3qwZpo7Rwo2-Vw@mail.gmail.com>
Message-ID: <CAB28AsjXYAgQkZGTXHNPwMh3itisEjnoKq7bNuqR83CEOH2Z1Q@mail.gmail.com>

On Fri, 15 Nov 2019 at 05:34, Anita Graser <anitagraser at gmx.at> wrote:
>
> Hi,
>
> I recently noticed that the expression I used in https://anitagraser.com/2016/10/09/movement-data-in-gis-2-visualization/ does not work in current QGIS versions anymore. Specifically, I computed the metric length of a line segment by transforming from WGS84 'EPSG:4326' to 'EPSG:54027':
>
> length(
>       transform(
>         geometry_n($geometry, at geometry_part_num),
>         'EPSG:4326','EPSG:54027'
>         )
>     )
>
> While debugging, I found that the transformation is not applied anymore. (Some other EPSG codes do work though.) However, I couldn't figure out how to get this transformation to work again.

Is this a proj 6 based build? In any case, EPSG:54027 doesn't exist.
The correct code is "ESRI:54027" (see https://epsg.io/54027). It's
possible that < proj 6 builds had some exception in place for this
particular CRS, but with a proj 6 based build we rely on proj to
interpret CRS auth/id pairs so any exceptions in place for earlier
QGIS versions won't apply anymore.

Nyall

From nyall.dawson at gmail.com  Sun Nov 17 19:41:27 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 18 Nov 2019 13:41:27 +1000
Subject: [QGIS-Developer] Error with raster renderer in QGIS 3.10
In-Reply-To: <OFEB5F9F94.828B7470-ONC12584B2.0037A226-C12584B2.003998D9@gfi-gis.de>
References: <OFEB5F9F94.828B7470-ONC12584B2.0037A226-C12584B2.003998D9@gfi-gis.de>
Message-ID: <CAB28Asi5MjO1SGdio+552Xv5xBCg=bbSus3dwXBs58ypp3LZvQ@mail.gmail.com>

On Thu, 14 Nov 2019 at 20:32, <SSchmidt at gfi-gis.de> wrote:
>
> Hello,
>
> in my plugin I set up a rasterlayer like this:
>
> QgsRasterLayer* lyr = new QgsRasterLayer(src->Dir + "/" + src->File, firstTBLayer->Title, QStringLiteral("gdal"));
> if (lyr->isValid())
>         QgsProject::instance()->addMapLayers(QList<QgsMapLayer *>() << lyr, false);
> QgsRasterRenderer* rend = new QgsMultiBandColorRenderer(rLyr->dataProvider(), redBand, greenBand, blueBand);
> rLyr->setRenderer(rend);

This looks fine. It's likely there's something else at play, possibly
a local build issue.

Nyall

From nyall.dawson at gmail.com  Sun Nov 17 19:42:37 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 18 Nov 2019 13:42:37 +1000
Subject: [QGIS-Developer] Enumerating QGIS data sources using python
In-Reply-To: <aabe181f-f9dc-0d9d-d6f2-14a46f63365f@gmail.com>
References: <aabe181f-f9dc-0d9d-d6f2-14a46f63365f@gmail.com>
Message-ID: <CAB28AshCinBdVA8iiQFLs4Bsx6Ob0gE6GWr4gjc7GadoTD5eSA@mail.gmail.com>

On Wed, 13 Nov 2019 at 21:55, Bo Victor Thomsen
<bo.victor.thomsen at gmail.com> wrote:
>
> Hi list members --
>
> Is it possible to enumerate the data sources shown in the QGIS "Data
> Source Manager" dialog, tab"Browser" using python ?  I can't find any
> documentation for it.
>
> My intension was to enumerate file-based datasources in a particular
> directory and maybe further enumerate through a specific file in the
> chosen directory (ex. a geopackage) containing several data layers.

You could access this through the browser model -- it's exposed to
python via iface.browserModel().

Nyall


>
> --
> Med venlig hilsen / Kind regards
>
> Bo Victor Thomsen
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From olimpiysky at gmail.com  Sun Nov 17 21:37:38 2019
From: olimpiysky at gmail.com (5Nap)
Date: Sun, 17 Nov 2019 22:37:38 -0700 (MST)
Subject: [QGIS-Developer] Accessing existing QgsRubberBand created by
 actionAddFeature from Python
Message-ID: <1574055458399-0.post@n6.nabble.com>

Hello!
I'm trying to find a way to modify rubber band, created by AddFeature
action.
The idea is to continue editing by another mapping tool with option to
switch between built-in tools (add new feature, construct arc from "shape
digitizing toolbar" and so on) and my own custom tool.

Is there such possibility?

The only way I've found so far creates new rubber band without accesing the
existing one. 

I'm using python,  QGIS3.10 



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From denis.rouzaud at gmail.com  Sun Nov 17 21:47:33 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 18 Nov 2019 06:47:33 +0100
Subject: [QGIS-Developer] Accessing existing QgsRubberBand created by
 actionAddFeature from Python
In-Reply-To: <1574055458399-0.post@n6.nabble.com>
References: <1574055458399-0.post@n6.nabble.com>
Message-ID: <CAMtsY+btPys6EeiKeDgLrC8Q6xeQzv91K6qTA-ed3B7kmMVX=w@mail.gmail.com>

Hi,

One way is to create your own map tool. The add feature tool
inherits QgsMapToolDigitizeFeature, which will contains already a lot. You
can have a look at the cpp code of QgsMapToolAddFeature and replicate in
Python. But I guess you might find some good examples by searching a bit on
the web.

Otherwise, you can still access the rubber band by accessing the rubberband
(which is a QGraphicsItem) by listing items of the map canvas (which is a
QGraphicsView). Without knowing much more, that wouldn't be my preferred
approach. It sounds a bit clumsy both in terms of code and UX.

Denis

Le lun. 18 nov. 2019 à 06:37, 5Nap <olimpiysky at gmail.com> a écrit :

> Hello!
> I'm trying to find a way to modify rubber band, created by AddFeature
> action.
> The idea is to continue editing by another mapping tool with option to
> switch between built-in tools (add new feature, construct arc from "shape
> digitizing toolbar" and so on) and my own custom tool.
>
> Is there such possibility?
>
> The only way I've found so far creates new rubber band without accesing the
> existing one.
>
> I'm using python,  QGIS3.10
>
>
>
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191118/968f4c3f/attachment.html>

From anitagraser at gmx.at  Mon Nov 18 00:36:57 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 18 Nov 2019 09:36:57 +0100
Subject: [QGIS-Developer] Geometry generator expression for line segment
	length
In-Reply-To: <CAB28AsjXYAgQkZGTXHNPwMh3itisEjnoKq7bNuqR83CEOH2Z1Q@mail.gmail.com>
References: <CAFFV8FikOXhfHrt8F=sx4NawYRRYivEpP9kN3qwZpo7Rwo2-Vw@mail.gmail.com>
 <CAB28AsjXYAgQkZGTXHNPwMh3itisEjnoKq7bNuqR83CEOH2Z1Q@mail.gmail.com>
Message-ID: <CAFFV8FjFdzMv=V460mTZbG6tVOufOaBCOHz=Ut=Srad763jyww@mail.gmail.com>

On Mon, Nov 18, 2019 at 4:40 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Fri, 15 Nov 2019 at 05:34, Anita Graser <anitagraser at gmx.at> wrote:
> >
> > Hi,
> >
> > I recently noticed that the expression I used in
> https://anitagraser.com/2016/10/09/movement-data-in-gis-2-visualization/
> does not work in current QGIS versions anymore. Specifically, I computed
> the metric length of a line segment by transforming from WGS84 'EPSG:4326'
> to 'EPSG:54027':
> >
> > length(
> >       transform(
> >         geometry_n($geometry, at geometry_part_num),
> >         'EPSG:4326','EPSG:54027'
> >         )
> >     )
> >
> > While debugging, I found that the transformation is not applied anymore.
> (Some other EPSG codes do work though.) However, I couldn't figure out how
> to get this transformation to work again.
>
> Is this a proj 6 based build? In any case, EPSG:54027 doesn't exist.
> The correct code is "ESRI:54027" (see https://epsg.io/54027).


Good catch, different four letters starting with E! The issue appeared on
OSGeo4W so I'll have to check if that means proj6 already. Anyway, I'll
give the other code a try!

Thanks
Anita




> It's
> possible that < proj 6 builds had some exception in place for this
> particular CRS, but with a proj 6 based build we rely on proj to
> interpret CRS auth/id pairs so any exceptions in place for earlier
> QGIS versions won't apply anymore.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191118/2e30e720/attachment.html>

From enzedrailmaps at gmail.com  Mon Nov 18 01:11:41 2019
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Mon, 18 Nov 2019 22:11:41 +1300
Subject: [QGIS-Developer] Handling a large number of raster layers with Qgis
 architectural limitations
Message-ID: <021e411c-0cb7-df34-7a15-5ea4fde7f129@gmail.com>

Good day to all

One of the user experiences I have had from using the Qgis software has 
been with projects using large numbers of raster tile layers. These 
layers are generally tiles that have a size of 4800x7200 pixels in 
GeoJPEG format and have either been downloaded directly from tile 
servers to these locally stored files, or created from downloaded tiles 
with other layers overlaid in Gimp projects.

There appears to be some architectural limit in Qgis desktop software 
relating to either the total number of raster layer [files] in a project 
or to the total number of pixels in raster layer [files] in a project. 
This is unrelated to the number of layers or pixels currently enabled 
for display in the map canvas. In practice, the appearance of this limit 
is that it is kicking in long before the host computer's own physical 
resources are anywhere near fully engaged. Map digitising and editing is 
done on systems with 32 GB of physical memory (RAM) and 200 GB of 
SSD-based virtual memory (swap) and these systems are able to edit very 
large Gimp projects for user tile creation that often engage all of the 
system's physical memory and around 100 GB of the virtual memory without 
problems. But these types of numbers are in practice never seen with 
Qgis projects when the raster layer limit is being seen.

The appearance of a raster layer limit is generally experienced in older 
versions of the software by layers being displayed on the canvas as 
garbage, and in newer versions by the software crashing. It will only 
start working again if raster layers are removed from the project. 
However, when layers are loaded from WMTS servers, no appearance of 
limitation is seen.

The question to be answered, then, is which of any possible range of 
resolutions would be appropriate or useful to this predicament. With 
only limited understanding of the architectural design of the software, 
it would seem the following options exist:

 1. File a bug report for the software concerning a possible issue with
    the design of the product
 2. Amalgamate smaller tiles into larger ones (e.g. 48 tiles at
    4800x7200 can be put into one tile at 57600x28800). This only works
    if the software issue is related to the number of file based tile
    layers and not to the total number of pixels in those layers.
 3. Post a feature request for sub-project capabilities. This would
    allow a project that combines vector and raster layers, to be split
    into one project containing the vector layers and a number of
    projects each of which contains the vector project as a subproject
    and a certain subset of all the raster layers that is smaller than
    the observable limit.
 4. Set up my own local WMTS server to serve all the raster layers to my
    map editing projects.
 5. Explore the possibilities of preconfigured limits in the operating
    system that may need to be increased to overcome file based layer
    limits in projects (such as the NOFILES limit in Linux, currently
    set at 10,000 hard and soft on map editing computers)

Is anyone who is knowledgeable about the architecture of the Qgis 
desktop software able to comment with some detail about possible 
resolutions.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191118/b88e732a/attachment-0001.html>

From senhor.neto at gmail.com  Mon Nov 18 01:50:08 2019
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 18 Nov 2019 09:50:08 +0000
Subject: [QGIS-Developer] [Qgis-user] Handling a large number of raster
 layers with Qgis architectural limitations
In-Reply-To: <021e411c-0cb7-df34-7a15-5ea4fde7f129@gmail.com>
References: <021e411c-0cb7-df34-7a15-5ea4fde7f129@gmail.com>
Message-ID: <CA+H0G_GAKOEnYvMJYzr0R_Qz1N_UuEZSqht7CSNnZoct=91Z3g@mail.gmail.com>

Hi Patrick,

Sorry for asking, did you create pyramids (overlays) for your raster
"tiles"?

See more information about pyramids on QGIS official documentation:

https://docs.qgis.org/3.4/en/docs/user_manual/working_with_raster/raster_properties.html#pyramids-properties

To create pyramids on many files, it's probably better to use GDAL directly
to process all files in a folder:

https://gdal.org/programs/gdaladdo.html

My feeling is that the WMS service is doing that for you, and that's the
reason why it works well with a service.

Alexandre Neto
QGIS Support
www.qcooperative.net

A segunda, 18/11/2019, 09:11, Patrick Dunford <enzedrailmaps at gmail.com>
escreveu:

> Good day to all
>
> One of the user experiences I have had from using the Qgis software has
> been with projects using large numbers of raster tile layers. These layers
> are generally tiles that have a size of 4800x7200 pixels in GeoJPEG format
> and have either been downloaded directly from tile servers to these locally
> stored files, or created from downloaded tiles with other layers overlaid
> in Gimp projects.
>
> There appears to be some architectural limit in Qgis desktop software
> relating to either the total number of raster layer [files] in a project or
> to the total number of pixels in raster layer [files] in a project. This is
> unrelated to the number of layers or pixels currently enabled for display
> in the map canvas. In practice, the appearance of this limit is that it is
> kicking in long before the host computer's own physical resources are
> anywhere near fully engaged. Map digitising and editing is done on systems
> with 32 GB of physical memory (RAM) and 200 GB of SSD-based virtual memory
> (swap) and these systems are able to edit very large Gimp projects for user
> tile creation that often engage all of the system's physical memory and
> around 100 GB of the virtual memory without problems. But these types of
> numbers are in practice never seen with Qgis projects when the raster layer
> limit is being seen.
>
> The appearance of a raster layer limit is generally experienced in older
> versions of the software by layers being displayed on the canvas as
> garbage, and in newer versions by the software crashing. It will only start
> working again if raster layers are removed from the project. However, when
> layers are loaded from WMTS servers, no appearance of limitation is seen.
>
> The question to be answered, then, is which of any possible range of
> resolutions would be appropriate or useful to this predicament. With only
> limited understanding of the architectural design of the software, it would
> seem the following options exist:
>
>    1. File a bug report for the software concerning a possible issue with
>    the design of the product
>    2. Amalgamate smaller tiles into larger ones (e.g. 48 tiles at
>    4800x7200 can be put into one tile at 57600x28800). This only works if the
>    software issue is related to the number of file based tile layers and not
>    to the total number of pixels in those layers.
>    3. Post a feature request for sub-project capabilities. This would
>    allow a project that combines vector and raster layers, to be split into
>    one project containing the vector layers and a number of projects each of
>    which contains the vector project as a subproject and a certain subset of
>    all the raster layers that is smaller than the observable limit.
>    4. Set up my own local WMTS server to serve all the raster layers to
>    my map editing projects.
>    5. Explore the possibilities of preconfigured limits in the operating
>    system that may need to be increased to overcome file based layer limits in
>    projects (such as the NOFILES limit in Linux, currently set at 10,000 hard
>    and soft on map editing computers)
>
> Is anyone who is knowledgeable about the architecture of the Qgis desktop
> software able to comment with some detail about possible resolutions.
>
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191118/523519d5/attachment.html>

From noreply at qgis.org  Mon Nov 18 05:19:34 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 18 Nov 2019 13:19:34 -0000
Subject: [QGIS-Developer] Plugin [1270] BGT Import approval notification.
Message-ID: <20191118131934.16223.45644@2c6504964296>


Plugin BGT Import approval by pcav.
The plugin version "[1270] BGT Import 3.15" is now approved
Link: http://plugins.qgis.org/plugins/BGTImport/

From noreply at qgis.org  Mon Nov 18 21:32:40 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 05:32:40 -0000
Subject: [QGIS-Developer] Plugin [1197] Geometry Wrapper approval
	notification.
Message-ID: <20191119053240.22286.52542@2c6504964296>


Plugin Geometry Wrapper approval by pcav.
The plugin version "[1197] Geometry Wrapper 0.45 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/GeoWrap/

From nyall.dawson at gmail.com  Mon Nov 18 23:15:32 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 19 Nov 2019 17:15:32 +1000
Subject: [QGIS-Developer] heads up: backport bot broken
Message-ID: <CAB28AsjyJA=TSOFrFYb_xpxiTswQQbjYkOcUt+7iyfzWh_tcVQ@mail.gmail.com>

Hi all,

Just a heads-up -- the backport bot seems to be down at the moment, so
if you're trying to get backported fixes into 3.10.1 later this week
I'd suggest taking care to manually backport!

Nyall

From dmarteau at 3liz.com  Mon Nov 18 23:38:37 2019
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 19 Nov 2019 08:38:37 +0100
Subject: [QGIS-Developer] Why packaging python-gdal with Qgis3 ?
Message-ID: <2123A5CD-75CC-4F40-BDB3-7825C87868DA@3liz.com>

Hi,

Just a question: why python-gdal is still required for installing Qgis3 debian packages ? It adds a lot of unnecessary packages.

From 'apt show python3-qgis-common':
===
Package: python3-qgis-common
Version: 1:3.4.13+14stretch
Priority: optional
Section: python
Source: qgis
Maintainer: QGIS developers <qgis-developer at lists.osgeo.org>
Installed-Size: 14.8 MB
Depends: gdal-bin, python-gdal, python3-gdal, python3-matplotlib, libqgis-customwidgets (>= 1:3.4.13+14stretch), python3:any (>= 3.3.2-2~)
…
===

Thx,

David

From sebastic at xs4all.nl  Mon Nov 18 23:50:35 2019
From: sebastic at xs4all.nl (Bas Couwenberg)
Date: Tue, 19 Nov 2019 08:50:35 +0100
Subject: [QGIS-Developer] Why packaging python-gdal with Qgis3 ?
In-Reply-To: <2123A5CD-75CC-4F40-BDB3-7825C87868DA@3liz.com>
References: <2123A5CD-75CC-4F40-BDB3-7825C87868DA@3liz.com>
Message-ID: <ae2b7065199061c71a5edb7a1283d6c3@xs4all.nl>

On 2019-11-19 08:38, David Marteau wrote:
> Just a question: why python-gdal is still required for installing
> Qgis3 debian packages ?

Because it provided the Python scripts until 2.4.3+dfsg-1, they've since 
moved to gdal-bin.

Kind Regards,

Bas

From noreply at qgis.org  Tue Nov 19 00:11:14 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 08:11:14 -0000
Subject: [QGIS-Developer] Plugin [1839] AutoGridComp approval notification.
Message-ID: <20191119081114.22435.50156@2c6504964296>


Plugin AutoGridComp approval by pcav.
The plugin version "[1839] AutoGridComp 0.1" is now approved
Link: http://plugins.qgis.org/plugins/AutoGridComp/

From noreply at qgis.org  Tue Nov 19 00:12:13 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 08:12:13 -0000
Subject: [QGIS-Developer] Plugin [1736] ParCatGML approval notification.
Message-ID: <20191119081213.22435.80855@2c6504964296>


Plugin ParCatGML approval by pcav.
The plugin version "[1736] ParCatGML 1.2" is now approved
Link: http://plugins.qgis.org/plugins/ParCatGML/

From noreply at qgis.org  Tue Nov 19 00:12:17 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 08:12:17 -0000
Subject: [QGIS-Developer] Plugin [1736] ParCatGML approval notification.
Message-ID: <20191119081217.16223.78211@2c6504964296>


Plugin ParCatGML approval by pcav.
The plugin version "[1736] ParCatGML 1.0" is now approved
Link: http://plugins.qgis.org/plugins/ParCatGML/

From noreply at qgis.org  Tue Nov 19 00:13:27 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 08:13:27 -0000
Subject: [QGIS-Developer] Plugin [1849] KML Style Importer approval
	notification.
Message-ID: <20191119081327.22435.83757@2c6504964296>


Plugin KML Style Importer approval by pcav.
The plugin version "[1849] KML Style Importer 0.9.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/kml_style_importer/

From noreply at qgis.org  Tue Nov 19 00:13:59 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 08:13:59 -0000
Subject: [QGIS-Developer] Plugin [1873] KoALA approval notification.
Message-ID: <20191119081359.15558.40056@2c6504964296>


Plugin KoALA approval by pcav.
The plugin version "[1873] KoALA 0.5.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/KoALA/

From noreply at qgis.org  Tue Nov 19 00:37:48 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 08:37:48 -0000
Subject: [QGIS-Developer] Plugin [1882] GPI_Import approval notification.
Message-ID: <20191119083748.4419.68381@2c6504964296>


Plugin GPI_Import approval by pcav.
The plugin version "[1882] GPI_Import 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/gpi_import/

From kotishiva at gmail.com  Tue Nov 19 00:59:19 2019
From: kotishiva at gmail.com (shiva reddy)
Date: Tue, 19 Nov 2019 14:29:19 +0530
Subject: [QGIS-Developer] Geospatial Pdf
Message-ID: <CADsfgKOWqNOxQJbNNJ_shAgdJbvf0qUmxuq1sYpNbzB7sORg5A@mail.gmail.com>

Hi,
I am using QGIS 3.10 in ubuntu when I try to export as pdf , I find
geospatial pdf disabled with a message that it require GDAL 3.0.

Screenshot from 2019-11-19 14-27-35.png
(56K)
<https://mail.google.com/mail/u/0?ui=2&ik=97a6f0e27a&attid=0.1&permmsgid=msg-a:r-3520331892677430883&view=att&disp=safe&realattid=f_k35mm3p00>


Thanks & Regards
Shiva Reddy K.
Scientist/Engineer 'SD'
Indian Institute of Remote Sensing,
Indian Space Research Organisation
Department of Space
4-Kalidas Road
Dehradun
mobile: 0135-2524126
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191119/b450a01e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2019-11-19 14-27-35.png
Type: image/png
Size: 57310 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191119/b450a01e/attachment-0001.png>

From rldhont at gmail.com  Tue Nov 19 03:53:04 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Tue, 19 Nov 2019 12:53:04 +0100
Subject: [QGIS-Developer] Reviewing Pull-Request for bugfixing
 QgsVectorLayer's method Read SLD Labeling
Message-ID: <2a485850-cdd2-e5cf-eb5a-0582cfcec478@gmail.com>

Hi devs,

I have proposed a fix of the QgsVectorLayer's method Read SLD Labeling.
I would like to request a review before merging, especially because 
Iwould like to backport the fix.

I have seen that the QgsVectorLayer's method Read Sld is a 4 years old 
code and I don't know whom can I request for review or if a review is 
necessary.

Reagdrs,
René-Luc

From lior at kaplanopensource.co.il  Tue Nov 19 04:56:31 2019
From: lior at kaplanopensource.co.il (Lior Kaplan)
Date: Tue, 19 Nov 2019 14:56:31 +0200
Subject: [QGIS-Developer] 3.10 packages for Debian testing/unstable are
	temporarily uninstallable
Message-ID: <CAF288x4yzozgtCNXcw2ccREHx5OqXMFtYzr4XWXcp2MCeXjxsg@mail.gmail.com>

Hi,

When do we expect to have a rebuild of the Debian testing/unstable builds?

The current packages at don't have this fix:
https://github.com/qgis/QGIS/commit/f67369cc2639f513c77ef3e3c606f96294d9fa47

I would be happy to make sure this change goes into the upcoming 3.10.1
builds.

Thanks,

+972-52-2235911
T: @opensource_il <https://twitter.com/opensource_il>
F: @liorkaplanopensource <https://www.facebook.com/liorkaplanopensource>
https://kaplanopensource.co.il/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191119/d95cedf1/attachment.html>

From sebastic at xs4all.nl  Tue Nov 19 05:06:33 2019
From: sebastic at xs4all.nl (Bas Couwenberg)
Date: Tue, 19 Nov 2019 14:06:33 +0100
Subject: [QGIS-Developer] 3.10 packages for Debian testing/unstable are
 temporarily uninstallable
In-Reply-To: <CAF288x4yzozgtCNXcw2ccREHx5OqXMFtYzr4XWXcp2MCeXjxsg@mail.gmail.com>
References: <CAF288x4yzozgtCNXcw2ccREHx5OqXMFtYzr4XWXcp2MCeXjxsg@mail.gmail.com>
Message-ID: <dbd6fd13066c5f57d392705351f4ac8c@xs4all.nl>

On 2019-11-19 13:56, Lior Kaplan wrote:
> When do we expect to have a rebuild of the Debian testing/unstable 
> builds?

Should be fixed with the next release schedule for coming Friday.

This is a known issue with dependencies from testing/unstable as clearly 
noted on the download page:

"
  The release packages are only produced once shortly after a new version 
has
  been released. As unstable, not yet released debian versions (testing) 
and
  ubuntugis-unstable can have library changes the packages might sooner 
or
  later be broken for these targets, when the development in debian, 
ubuntu or
  ubuntugis-unstable moves on and their packages used as dependencies in 
qgis
  change. In that event you can either

   * move to a stable debian version and use the released packages for 
it,
   * wait for the next point release (due 2019-11-22 12:00:00 UTC), which 
happens every month and will include the updated dependencies,
   * switch to a nightly repository (available for the two release 
branches and master) whose packages are rebuild on regular basis and 
will also pickup the updated dependencies automatically or
   * build your own set of packages (see INSTALL).
"

https://qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu

> The current packages at don't have this fix:
> https://github.com/qgis/QGIS/commit/f67369cc2639f513c77ef3e3c606f96294d9fa47

Note the followup:

  
https://github.com/qgis/QGIS/commit/8fedf7c72a3c1001783923f5c85e3c47fe72a011

Kind Regards,

Bas

From noreply at qgis.org  Tue Nov 19 05:37:16 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 13:37:16 -0000
Subject: [QGIS-Developer] Plugin [1098] JoinSplit approval notification.
Message-ID: <20191119133716.31206.55624@2c6504964296>


Plugin JoinSplit approval by pcav.
The plugin version "[1098] JoinSplit 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/JoinSplit-master/

From jef at norbit.de  Tue Nov 19 05:59:26 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Tue, 19 Nov 2019 14:59:26 +0100
Subject: [QGIS-Developer] 3.10 packages for Debian testing/unstable are
 temporarily uninstallable
In-Reply-To: <dbd6fd13066c5f57d392705351f4ac8c@xs4all.nl>
References: <CAF288x4yzozgtCNXcw2ccREHx5OqXMFtYzr4XWXcp2MCeXjxsg@mail.gmail.com>
 <dbd6fd13066c5f57d392705351f4ac8c@xs4all.nl>
Message-ID: <20191119135926.2xujsawh7sm6mcpb@norbit.de>

Hi Bas,

On Tue, 19. Nov 2019 at 14:06:33 +0100, Bas Couwenberg wrote:
> Note the followup:
> 
> https://github.com/qgis/QGIS/commit/8fedf7c72a3c1001783923f5c85e3c47fe72a011

BTW thanks for the tip. :)


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191119/b0705b5e/attachment.sig>

From noreply at qgis.org  Tue Nov 19 06:54:10 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 14:54:10 -0000
Subject: [QGIS-Developer] Plugin [1099] Table to Style approval notification.
Message-ID: <20191119145410.15558.1197@2c6504964296>


Plugin Table to Style approval by pcav.
The plugin version "[1099] Table to Style 2.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/table2style/

From noreply at qgis.org  Tue Nov 19 10:35:00 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 18:35:00 -0000
Subject: [QGIS-Developer] Plugin [1361] Virtual Raster Builder approval
	notification.
Message-ID: <20191119183500.11758.39445@2c6504964296>


Plugin Virtual Raster Builder approval by pcav.
The plugin version "[1361] Virtual Raster Builder 0.7.20191119T1716.master" is now approved
Link: http://plugins.qgis.org/plugins/vrtbuilderplugin/

From noreply at qgis.org  Tue Nov 19 10:35:36 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 18:35:36 -0000
Subject: [QGIS-Developer] Plugin [1884] NDOP Downloader approval
	notification.
Message-ID: <20191119183536.15558.21572@2c6504964296>


Plugin NDOP Downloader approval by pcav.
The plugin version "[1884] NDOP Downloader 0.1.1-beta Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ndop_downloader/

From noreply at qgis.org  Tue Nov 19 12:29:35 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 19 Nov 2019 20:29:35 -0000
Subject: [QGIS-Developer] =?utf-8?q?Plugin_=5B1871=5D_Oblicz_wysoko=C5=9B?=
 =?utf-8?q?=C4=87_=28GUGiK_NMT=29_approval_notification=2E?=
Message-ID: <20191119202935.20027.85411@2c6504964296>


Plugin Oblicz wysokość (GUGiK NMT) approval by pcav.
The plugin version "[1871] Oblicz wysokość (GUGiK NMT) 0.5" is now approved
Link: http://plugins.qgis.org/plugins/ObliczWysokosc/

From noreply at qgis.org  Tue Nov 19 23:11:22 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 20 Nov 2019 07:11:22 -0000
Subject: [QGIS-Developer] Plugin [849] AmigoCloud approval notification.
Message-ID: <20191120071122.4103.64763@2c6504964296>


Plugin AmigoCloud approval by pcav.
The plugin version "[849] AmigoCloud 0.14" is now approved
Link: http://plugins.qgis.org/plugins/qgis-amigocloud-plugin/

From a.neumann at carto.net  Tue Nov 19 23:59:29 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Nov 2019 08:59:29 +0100
Subject: [QGIS-Developer] QGIS install after compile: 120 CRS could not be
	updated
Message-ID: <abf0f56ffc1861d76b2ea08e8334f499@carto.net>

Hi, 

When installing QGIS current master after compile from source I receive
during ninja install the following error messages about unique
constraint problems: 

I have proj62 installed in /usr/local 

Am I the only one receiving these install error message regarding CRS? 

-------------------- 

-- Installing: /usr/local/bin/qgis_bench 
-- Set runtime path of "/usr/local/bin/qgis_bench" to "" 
Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60000, 'Camacupa 2015','longlat','','+proj=longlat
+a=6378249.145 +rf=293.465 +towgs84=-93.799,-132.737,-219.073,-
1.844,0.648,-6.37,-0.169 +no_defs',520000000,'EPSG','8694',1,0) [UNIQUE
constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60001, 'RSAO13','geocent','GRS80','+proj=geocent +ellps=GRS80
+units=m +no_defs',520000001,'EPSG','8697',0,0) [UNI
QUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60002, 'RSAO13','longlat','GRS80','+proj=longlat +ellps=GRS80
+towgs84=0,0,0,0,0,0,0 +no_defs',520000002,'EPSG','8
698',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60003, 'RSAO13','longlat','GRS80','+proj=longlat +ellps=GRS80
+towgs84=0,0,0,0,0,0,0 +no_defs',520000003,'EPSG','8
699',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60004, 'WGS 84 (Transit)','longlat','WGS84','+proj=longlat
+ellps=WGS84 +no_defs',520000004,'EPSG','8888',1,0) [UN
IQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60005, 'SIRGAS-CON DGF00P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000005,'EPSG','89
15',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60006, 'SIRGAS-CON DGF00P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000006,'EPSG','8916',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60007, 'SIRGAS-CON DGF01P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000007,'EPSG','89
17',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60008, 'SIRGAS-CON DGF01P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000008,'EPSG','8918',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60009, 'SIRGAS-CON DGF01P02','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000009,'EPSG','89
19',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60010, 'SIRGAS-CON DGF01P02','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000010,'EPSG','8920',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60011, 'SIRGAS-CON DGF02P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000011,'EPSG','89
21',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60012, 'SIRGAS-CON DGF02P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000012,'EPSG','8922',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60013, 'SIRGAS-CON DGF04P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000013,'EPSG','89
23',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60014, 'SIRGAS-CON DGF04P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000014,'EPSG','8924',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60015, 'SIRGAS-CON DGF05P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000015,'EPSG','89
25',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60016, 'SIRGAS-CON DGF05P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000016,'EPSG','8926',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60017, 'SIRGAS-CON DGF06P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000017,'EPSG','89
27',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60018, 'SIRGAS-CON DGF06P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000018,'EPSG','8928',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60019, 'SIRGAS-CON DGF07P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000019,'EPSG','89
29',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60020, 'SIRGAS-CON DGF07P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000020,'EPSG','8930',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60021, 'SIRGAS-CON DGF08P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000021,'EPSG','89
31',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60022, 'SIRGAS-CON DGF08P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000022,'EPSG','8932',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60023, 'SIRGAS-CON SIR09P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000023,'EPSG','89
33',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60024, 'SIRGAS-CON SIR09P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000024,'EPSG','8934',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60025, 'SIRGAS-CON SIR10P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000025,'EPSG','89
35',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60026, 'SIRGAS-CON SIR10P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000026,'EPSG','8936',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60027, 'SIRGAS-CON SIR11P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000027,'EPSG','89
37',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60028, 'SIRGAS-CON SIR11P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000028,'EPSG','8938',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60029, 'SIRGAS-CON SIR13P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000029,'EPSG','89
39',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60030, 'SIRGAS-CON SIR13P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000030,'EPSG','8940',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60031, 'SIRGAS-CON SIR14P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000031,'EPSG','89
41',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60032, 'SIRGAS-CON SIR14P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000032,'EPSG','8942',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60033, 'SIRGAS-CON SIR15P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000033,'EPSG','89
43',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60034, 'SIRGAS-CON SIR15P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000034,'EPSG','8944',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60035, 'SIRGAS-CON SIR17P01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000035,'EPSG','89
45',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60036, 'SIRGAS-CON SIR17P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000036,'EPSG','8946',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60037, 'SIRGAS-Chile 2010','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000037,'EPSG','8947
',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60038, 'SIRGAS-Chile 2010','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000038,'EPSG','8948',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60039, 'SIRGAS-Chile 2010','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000039,'EPSG','8949',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60040, 'SIRGAS-Chile 2010 / UTM zone
18S','utm','GRS80','+proj=utm +zone=18 +south +ellps=GRS80 +units=m
+no_defs'
,520000040,'EPSG','8950',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60041, 'SIRGAS-Chile 2010 / UTM zone
19S','utm','GRS80','+proj=utm +zone=19 +south +ellps=GRS80 +units=m
+no_defs'
,520000041,'EPSG','8951',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60042, 'SIRGAS-CON DGF00P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000042,'EPSG','8972',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60043, 'SIRGAS-CON DGF01P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000043,'EPSG','8973',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60044, 'SIRGAS-CON DGF01P02','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000044,'EPSG','8974',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60045, 'SIRGAS-CON DGF02P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000045,'EPSG','8975',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60046, 'SIRGAS-CON DGF04P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000046,'EPSG','8976',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60047, 'SIRGAS-CON DGF05P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000047,'EPSG','8977',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60048, 'SIRGAS-CON DGF06P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000048,'EPSG','8978',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60049, 'SIRGAS-CON DGF07P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000049,'EPSG','8979',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60050, 'SIRGAS-CON DGF08P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000050,'EPSG','8980',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60051, 'SIRGAS-CON SIR09P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000051,'EPSG','8981',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60052, 'SIRGAS-CON SIR10P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000052,'EPSG','8982',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60053, 'SIRGAS-CON SIR11P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000053,'EPSG','8983',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60054, 'SIRGAS-CON SIR13P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000054,'EPSG','8984',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60055, 'SIRGAS-CON SIR14P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000055,'EPSG','8985',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60056, 'SIRGAS-CON SIR15P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000056,'EPSG','8986',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60057, 'SIRGAS-CON SIR17P01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000057,'EPSG','8987',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60058, 'ISN2016 / LAEA Europe','laea','GRS80','+proj=laea
+lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS
80 +units=m +no_defs',520000058,'EPSG','9039',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60059, 'ISN2016 / LCC Europe','lcc','GRS80','+proj=lcc +lat_0=52
+lon_0=10 +lat_1=35 +lat_2=65 +x_0=4000000 +y_0=2
800000 +ellps=GRS80 +units=m +no_defs',520000059,'EPSG','9040',0,0)
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60060, 'WGS 84 (G730)','longlat','WGS84','+proj=longlat
+ellps=WGS84 +no_defs',520000060,'EPSG','9053',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60061, 'WGS 84 (G873)','longlat','WGS84','+proj=longlat
+ellps=WGS84 +no_defs',520000061,'EPSG','9054',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60062, 'WGS 84 (G1150)','longlat','WGS84','+proj=longlat
+ellps=WGS84 +no_defs',520000062,'EPSG','9055',1,0) [UNIQ
UE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60063, 'WGS 84 (G1674)','longlat','WGS84','+proj=longlat
+ellps=WGS84 +no_defs',520000063,'EPSG','9056',1,0) [UNIQ
UE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60064, 'WGS 84 (G1762)','longlat','WGS84','+proj=longlat
+ellps=WGS84 +no_defs',520000064,'EPSG','9057',1,0) [UNIQ
UE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60065, 'ETRF89','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000065,'EPSG','9059',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60066, 'ETRF90','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000066,'EPSG','9060',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60067, 'ETRF91','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000067,'EPSG','9061',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60068, 'ETRF92','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000068,'EPSG','9062',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60069, 'ETRF93','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000069,'EPSG','9063',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60070, 'ETRF94','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000070,'EPSG','9064',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60071, 'ETRF96','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000071,'EPSG','9065',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60072, 'ETRF97','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000072,'EPSG','9066',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60073, 'ETRF2000','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000073,'EPSG','9067',1,0) [UNIQUE con
straint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id]


Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60074, 'ETRF2005','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000074,'EPSG','9068',1,0) [UNIQUE con
straint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id]


Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60075, 'ETRF2014','longlat','GRS80','+proj=longlat +ellps=GRS80
+no_defs',520000075,'EPSG','9069',1,0) [UNIQUE con
straint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id]


Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60076, 'NAD83(MARP00)','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000076,'EPSG','9070',0,
0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60077, 'NAD83(MARP00)','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000077,'EPSG','9071',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60078, 'NAD83(MARP00)','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000078,'EPSG','9072',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60079, 'NAD83(PACP00)','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000079,'EPSG','9073',0,
0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60080, 'NAD83(PACP00)','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000080,'EPSG','9074',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60081, 'NAD83(PACP00)','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000081,'EPSG','9075',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60082, 'KOSOVAREF01','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000082,'EPSG','9138',0,0)
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60083, 'KOSOVAREF01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000083,'EPS
G','9139',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE
constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60084, 'KOSOVAREF01','longlat','GRS80','+proj=longlat
+ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000084,'EPS
G','9140',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE
constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60085, 'KOSOVAREF01 / Balkans zone
7','tmerc','GRS80','+proj=tmerc +lat_0=0 +lon_0=21 +k=0.9999
+x_0=7500000 +y_0=
0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m
+no_defs',520000085,'EPSG','9141',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60086, 'SIRGAS-Chile 2013','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000086,'EPSG','9146
',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60087, 'SIRGAS-Chile 2013','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000087,'EPSG','9147',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60088, 'SIRGAS-Chile 2013','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000088,'EPSG','9148',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60089, 'SIRGAS-Chile 2013 / UTM zone
18S','utm','GRS80','+proj=utm +zone=18 +south +ellps=GRS80 +units=m
+no_defs'
,520000089,'EPSG','9149',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60090, 'SIRGAS-Chile 2013 / UTM zone
19S','utm','GRS80','+proj=utm +zone=19 +south +ellps=GRS80 +units=m
+no_defs'
,520000090,'EPSG','9150',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60091, 'SIRGAS-Chile 2016','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000091,'EPSG','9151
',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint
failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60092, 'SIRGAS-Chile 2016','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000092,'EPSG','9152',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60093, 'SIRGAS-Chile 2016','longlat','GRS80','+proj=longlat
+ellps=GRS80 +no_defs',520000093,'EPSG','9153',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60094, 'SIRGAS-Chile 2016 / UTM zone
18S','utm','GRS80','+proj=utm +zone=18 +south +ellps=GRS80 +units=m
+no_defs'
,520000094,'EPSG','9154',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60095, 'SIRGAS-Chile 2016 / UTM zone
19S','utm','GRS80','+proj=utm +zone=19 +south +ellps=GRS80 +units=m
+no_defs'
,520000095,'EPSG','9155',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60096, 'RSAO13 / UTM zone 32S','utm','GRS80','+proj=utm +zone=32
+south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units
=m +no_defs',520000096,'EPSG','9156',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60097, 'RSAO13 / UTM zone 33S','utm','GRS80','+proj=utm +zone=33
+south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units
=m +no_defs',520000097,'EPSG','9157',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60098, 'RSAO13 / UTM zone 34S','utm','GRS80','+proj=utm +zone=34
+south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units
=m +no_defs',520000098,'EPSG','9158',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60099, 'RSAO13 / TM 12 SE','tmerc','GRS80','+proj=tmerc +lat_0=0
+lon_0=12 +k=0.9996 +x_0=500000 +y_0=10000000 +el
lps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m
+no_defs',520000099,'EPSG','9159',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60100, 'SIRGAS-Chile','geocent','GRS80','+proj=geocent
+ellps=GRS80 +units=m +no_defs',520000100,'EPSG','9182',0,0
) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60101, 'SIRGAS-Chile','longlat','GRS80','+proj=longlat
+ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000101,'EP
SG','9183',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE
constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60102, 'SIRGAS-Chile','longlat','GRS80','+proj=longlat
+ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000102,'EP
SG','9184',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE
constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60103, 'WGS 84 / NIWA Albers','aea','WGS84','+proj=aea
+lat_0=-40 +lon_0=175 +lat_1=-30 +lat_2=-50 +x_0=0 +y_0=0 +
datum=WGS84 +units=m +no_defs',520000103,'EPSG','9191',0,0) [UNIQUE
constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60104, 'VN-2000 / TM-3 103-00','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=103 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000104,'EPSG','9205',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60105, 'VN-2000 / TM-3 104-00','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=104 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000105,'EPSG','9206',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60106, 'VN-2000 / TM-3 104-30','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=104.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84 +units=m +no_defs',520000106,'EPSG','9207',0,0) [UNIQUE
constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60107, 'VN-2000 / TM-3 104-45','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=104.75 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000107,'EPSG','9208',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60108, 'VN-2000 / TM-3 105-30','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=105.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84 +units=m +no_defs',520000108,'EPSG','9209',0,0) [UNIQUE
constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60109, 'VN-2000 / TM-3 105-45','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=105.75 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000109,'EPSG','9210',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60110, 'VN-2000 / TM-3 106-00','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=106 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000110,'EPSG','9211',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60111, 'VN-2000 / TM-3 106-15','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=106.25 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000111,'EPSG','9212',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60112, 'VN-2000 / TM-3 106-30','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=106.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000112,'EPSG','9213',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60113, 'VN-2000 / TM-3 107-00','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=107 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000113,'EPSG','9214',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60114, 'VN-2000 / TM-3 107-15','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=107.25 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000114,'EPSG','9215',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60115, 'VN-2000 / TM-3 107-30','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=107.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000115,'EPSG','9216',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60116, 'VN-2000 / TM-3 108-15','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=108.25 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84 +units=m +no_defs',520000116,'EPSG','9217',0,0) [UNIQUE
constraint failed: tbl_srs.srs_id/UNIQUE constraint failed:
tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60117, 'VN-2000 / TM-3 108-30','tmerc','WGS84','+proj=tmerc
+lat_0=0 +lon_0=108.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84
+towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278
+units=m +no_defs',520000117,'EPSG','9218',0,0) [UNIQUE constraint
failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60118, 'Hartebeesthoek94 / ZAF BSU Albers
25E','aea','WGS84','+proj=aea +lat_0=-30 +lon_0=25 +lat_1=-22 +lat_2=-38
+x_0=1400000 +y_0=1300000 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m
+no_defs',520000118,'EPSG','9221',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id,
description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated)
VALUES (60119, 'Hartebeesthoek94 / ZAF BSU Albers
44E','aea','WGS84','+proj=aea +lat_0=-42 +lon_0=44 +lat_1=-34 +lat_2=-50
+x_0=1200000 +y_0=1300000 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m
+no_defs',520000119,'EPSG','9222',0,0) [UNIQUE constraint failed:
tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

120 CRSs could not be updated. 
-- Up-to-date: /usr/local/share/icons/hicolor/scalable/apps/qgis.svg

------------- 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/de37daa9/attachment-0001.html>

From noreply at qgis.org  Wed Nov 20 00:29:39 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 20 Nov 2019 08:29:39 -0000
Subject: [QGIS-Developer] Plugin [1879] Indian WAtershed Management support
 System approval notification.
Message-ID: <20191120082939.31849.44878@2c6504964296>


Plugin Indian WAtershed Management support System approval by pcav.
The plugin version "[1879] Indian WAtershed Management support System 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/iwams/

From noreply at qgis.org  Wed Nov 20 00:29:39 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 20 Nov 2019 08:29:39 -0000
Subject: [QGIS-Developer] Plugin [1879] Indian WAtershed Management support
 System approval notification.
Message-ID: <20191120082939.4103.28049@2c6504964296>


Plugin Indian WAtershed Management support System approval by pcav.
The plugin version "[1879] Indian WAtershed Management support System 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/iwams/

From tudorbarascu at yahoo.com  Wed Nov 20 01:06:20 2019
From: tudorbarascu at yahoo.com (Tudor barascu)
Date: Wed, 20 Nov 2019 09:06:20 +0000 (UTC)
Subject: [QGIS-Developer] QGIS install after compile: 120 CRS could not
 be	updated
In-Reply-To: <abf0f56ffc1861d76b2ea08e8334f499@carto.net>
References: <abf0f56ffc1861d76b2ea08e8334f499@carto.net>
Message-ID: <868DD51CE944AE14.FE4FE07B-4EEC-4A65-B1BA-D206D7AEC415@mail.outlook.com>

Hi,
I also exhibit the behavior.
Regards,Tudor



On Wed, Nov 20, 2019 at 9:59 AM +0200, "Andreas Neumann" <a.neumann at carto.net> wrote:













Hi,


When installing QGIS current master after compile from source I receive during ninja install the following error messages about unique constraint problems:


I have proj62 installed in /usr/local


Am I the only one receiving these install error message regarding CRS?


--------------------


-- Installing: /usr/local/bin/qgis_bench 
-- Set runtime path of "/usr/local/bin/qgis_bench" to "" 
Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60000, 'Camacupa 2015','longlat','','+proj=longlat +a=6378249.145 +rf=293.465 +towgs84=-93.799,-132.737,-219.073,-
1.844,0.648,-6.37,-0.169 +no_defs',520000000,'EPSG','8694',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60001, 'RSAO13','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000001,'EPSG','8697',0,0) [UNI
QUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60002, 'RSAO13','longlat','GRS80','+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000002,'EPSG','8
698',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60003, 'RSAO13','longlat','GRS80','+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000003,'EPSG','8
699',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60004, 'WGS 84 (Transit)','longlat','WGS84','+proj=longlat +ellps=WGS84 +no_defs',520000004,'EPSG','8888',1,0) [UN
IQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60005, 'SIRGAS-CON DGF00P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000005,'EPSG','89
15',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60006, 'SIRGAS-CON DGF00P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000006,'EPSG','8916',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60007, 'SIRGAS-CON DGF01P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000007,'EPSG','89
17',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60008, 'SIRGAS-CON DGF01P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000008,'EPSG','8918',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60009, 'SIRGAS-CON DGF01P02','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000009,'EPSG','89
19',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60010, 'SIRGAS-CON DGF01P02','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000010,'EPSG','8920',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60011, 'SIRGAS-CON DGF02P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000011,'EPSG','89
21',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60012, 'SIRGAS-CON DGF02P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000012,'EPSG','8922',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60013, 'SIRGAS-CON DGF04P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000013,'EPSG','89
23',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60014, 'SIRGAS-CON DGF04P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000014,'EPSG','8924',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60015, 'SIRGAS-CON DGF05P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000015,'EPSG','89
25',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60016, 'SIRGAS-CON DGF05P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000016,'EPSG','8926',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60017, 'SIRGAS-CON DGF06P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000017,'EPSG','89
27',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60018, 'SIRGAS-CON DGF06P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000018,'EPSG','8928',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60019, 'SIRGAS-CON DGF07P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000019,'EPSG','89
29',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60020, 'SIRGAS-CON DGF07P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000020,'EPSG','8930',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60021, 'SIRGAS-CON DGF08P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000021,'EPSG','89
31',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60022, 'SIRGAS-CON DGF08P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000022,'EPSG','8932',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60023, 'SIRGAS-CON SIR09P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000023,'EPSG','89
33',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60024, 'SIRGAS-CON SIR09P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000024,'EPSG','8934',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60025, 'SIRGAS-CON SIR10P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000025,'EPSG','89
35',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60026, 'SIRGAS-CON SIR10P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000026,'EPSG','8936',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60027, 'SIRGAS-CON SIR11P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000027,'EPSG','89
37',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60028, 'SIRGAS-CON SIR11P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000028,'EPSG','8938',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60029, 'SIRGAS-CON SIR13P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000029,'EPSG','89
39',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60030, 'SIRGAS-CON SIR13P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000030,'EPSG','8940',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60031, 'SIRGAS-CON SIR14P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000031,'EPSG','89
41',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60032, 'SIRGAS-CON SIR14P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000032,'EPSG','8942',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60033, 'SIRGAS-CON SIR15P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000033,'EPSG','89
43',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60034, 'SIRGAS-CON SIR15P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000034,'EPSG','8944',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60035, 'SIRGAS-CON SIR17P01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000035,'EPSG','89
45',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60036, 'SIRGAS-CON SIR17P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000036,'EPSG','8946',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60037, 'SIRGAS-Chile 2010','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000037,'EPSG','8947
',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60038, 'SIRGAS-Chile 2010','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000038,'EPSG','8948',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60039, 'SIRGAS-Chile 2010','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000039,'EPSG','8949',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60040, 'SIRGAS-Chile 2010 / UTM zone 18S','utm','GRS80','+proj=utm +zone=18 +south +ellps=GRS80 +units=m +no_defs'
,520000040,'EPSG','8950',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60041, 'SIRGAS-Chile 2010 / UTM zone 19S','utm','GRS80','+proj=utm +zone=19 +south +ellps=GRS80 +units=m +no_defs'
,520000041,'EPSG','8951',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60042, 'SIRGAS-CON DGF00P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000042,'EPSG','8972',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60043, 'SIRGAS-CON DGF01P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000043,'EPSG','8973',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60044, 'SIRGAS-CON DGF01P02','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000044,'EPSG','8974',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60045, 'SIRGAS-CON DGF02P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000045,'EPSG','8975',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60046, 'SIRGAS-CON DGF04P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000046,'EPSG','8976',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60047, 'SIRGAS-CON DGF05P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000047,'EPSG','8977',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60048, 'SIRGAS-CON DGF06P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000048,'EPSG','8978',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60049, 'SIRGAS-CON DGF07P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000049,'EPSG','8979',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60050, 'SIRGAS-CON DGF08P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000050,'EPSG','8980',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60051, 'SIRGAS-CON SIR09P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000051,'EPSG','8981',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60052, 'SIRGAS-CON SIR10P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000052,'EPSG','8982',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60053, 'SIRGAS-CON SIR11P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000053,'EPSG','8983',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60054, 'SIRGAS-CON SIR13P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000054,'EPSG','8984',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60055, 'SIRGAS-CON SIR14P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000055,'EPSG','8985',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60056, 'SIRGAS-CON SIR15P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000056,'EPSG','8986',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60057, 'SIRGAS-CON SIR17P01','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000057,'EPSG','8987',1,0) 
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60058, 'ISN2016 / LAEA Europe','laea','GRS80','+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS
80 +units=m +no_defs',520000058,'EPSG','9039',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60059, 'ISN2016 / LCC Europe','lcc','GRS80','+proj=lcc +lat_0=52 +lon_0=10 +lat_1=35 +lat_2=65 +x_0=4000000 +y_0=2
800000 +ellps=GRS80 +units=m +no_defs',520000059,'EPSG','9040',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60060, 'WGS 84 (G730)','longlat','WGS84','+proj=longlat +ellps=WGS84 +no_defs',520000060,'EPSG','9053',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60061, 'WGS 84 (G873)','longlat','WGS84','+proj=longlat +ellps=WGS84 +no_defs',520000061,'EPSG','9054',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60062, 'WGS 84 (G1150)','longlat','WGS84','+proj=longlat +ellps=WGS84 +no_defs',520000062,'EPSG','9055',1,0) [UNIQ
UE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60063, 'WGS 84 (G1674)','longlat','WGS84','+proj=longlat +ellps=WGS84 +no_defs',520000063,'EPSG','9056',1,0) [UNIQ
UE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60064, 'WGS 84 (G1762)','longlat','WGS84','+proj=longlat +ellps=WGS84 +no_defs',520000064,'EPSG','9057',1,0) [UNIQ
UE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60065, 'ETRF89','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000065,'EPSG','9059',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60066, 'ETRF90','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000066,'EPSG','9060',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60067, 'ETRF91','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000067,'EPSG','9061',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60068, 'ETRF92','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000068,'EPSG','9062',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60069, 'ETRF93','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000069,'EPSG','9063',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60070, 'ETRF94','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000070,'EPSG','9064',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60071, 'ETRF96','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000071,'EPSG','9065',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60072, 'ETRF97','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000072,'EPSG','9066',1,0) [UNIQUE const
raint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60073, 'ETRF2000','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000073,'EPSG','9067',1,0) [UNIQUE con
straint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60074, 'ETRF2005','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000074,'EPSG','9068',1,0) [UNIQUE con
straint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60075, 'ETRF2014','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000075,'EPSG','9069',1,0) [UNIQUE con
straint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60076, 'NAD83(MARP00)','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000076,'EPSG','9070',0,
0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60077, 'NAD83(MARP00)','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000077,'EPSG','9071',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60078, 'NAD83(MARP00)','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000078,'EPSG','9072',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60079, 'NAD83(PACP00)','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000079,'EPSG','9073',0,
0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60080, 'NAD83(PACP00)','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000080,'EPSG','9074',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60081, 'NAD83(PACP00)','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000081,'EPSG','9075',1,0) [UNIQU
E constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60082, 'KOSOVAREF01','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000082,'EPSG','9138',0,0)
[UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60083, 'KOSOVAREF01','longlat','GRS80','+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000083,'EPS
G','9139',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60084, 'KOSOVAREF01','longlat','GRS80','+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000084,'EPS
G','9140',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60085, 'KOSOVAREF01 / Balkans zone 7','tmerc','GRS80','+proj=tmerc +lat_0=0 +lon_0=21 +k=0.9999 +x_0=7500000 +y_0=
0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',520000085,'EPSG','9141',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60086, 'SIRGAS-Chile 2013','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000086,'EPSG','9146
',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60087, 'SIRGAS-Chile 2013','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000087,'EPSG','9147',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60088, 'SIRGAS-Chile 2013','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000088,'EPSG','9148',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60089, 'SIRGAS-Chile 2013 / UTM zone 18S','utm','GRS80','+proj=utm +zone=18 +south +ellps=GRS80 +units=m +no_defs'
,520000089,'EPSG','9149',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60090, 'SIRGAS-Chile 2013 / UTM zone 19S','utm','GRS80','+proj=utm +zone=19 +south +ellps=GRS80 +units=m +no_defs'
,520000090,'EPSG','9150',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60091, 'SIRGAS-Chile 2016','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000091,'EPSG','9151
',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60092, 'SIRGAS-Chile 2016','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000092,'EPSG','9152',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60093, 'SIRGAS-Chile 2016','longlat','GRS80','+proj=longlat +ellps=GRS80 +no_defs',520000093,'EPSG','9153',1,0) [U
NIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60094, 'SIRGAS-Chile 2016 / UTM zone 18S','utm','GRS80','+proj=utm +zone=18 +south +ellps=GRS80 +units=m +no_defs'
,520000094,'EPSG','9154',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60095, 'SIRGAS-Chile 2016 / UTM zone 19S','utm','GRS80','+proj=utm +zone=19 +south +ellps=GRS80 +units=m +no_defs'
,520000095,'EPSG','9155',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60096, 'RSAO13 / UTM zone 32S','utm','GRS80','+proj=utm +zone=32 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units
=m +no_defs',520000096,'EPSG','9156',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60097, 'RSAO13 / UTM zone 33S','utm','GRS80','+proj=utm +zone=33 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units
=m +no_defs',520000097,'EPSG','9157',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60098, 'RSAO13 / UTM zone 34S','utm','GRS80','+proj=utm +zone=34 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units
=m +no_defs',520000098,'EPSG','9158',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60099, 'RSAO13 / TM 12 SE','tmerc','GRS80','+proj=tmerc +lat_0=0 +lon_0=12 +k=0.9996 +x_0=500000 +y_0=10000000 +el
lps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',520000099,'EPSG','9159',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60100, 'SIRGAS-Chile','geocent','GRS80','+proj=geocent +ellps=GRS80 +units=m +no_defs',520000100,'EPSG','9182',0,0
) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60101, 'SIRGAS-Chile','longlat','GRS80','+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000101,'EP
SG','9183',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60102, 'SIRGAS-Chile','longlat','GRS80','+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs',520000102,'EP
SG','9184',1,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60103, 'WGS 84 / NIWA Albers','aea','WGS84','+proj=aea +lat_0=-40 +lon_0=175 +lat_1=-30 +lat_2=-50 +x_0=0 +y_0=0 +
datum=WGS84 +units=m +no_defs',520000103,'EPSG','9191',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60104, 'VN-2000 / TM-3 103-00','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=103 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000104,'EPSG','9205',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60105, 'VN-2000 / TM-3 104-00','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=104 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000105,'EPSG','9206',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60106, 'VN-2000 / TM-3 104-30','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=104.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84 +units=m +no_defs',520000106,'EPSG','9207',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60107, 'VN-2000 / TM-3 104-45','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=104.75 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000107,'EPSG','9208',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60108, 'VN-2000 / TM-3 105-30','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=105.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84 +units=m +no_defs',520000108,'EPSG','9209',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60109, 'VN-2000 / TM-3 105-45','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=105.75 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000109,'EPSG','9210',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60110, 'VN-2000 / TM-3 106-00','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=106 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000110,'EPSG','9211',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60111, 'VN-2000 / TM-3 106-15','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=106.25 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000111,'EPSG','9212',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60112, 'VN-2000 / TM-3 106-30','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=106.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000112,'EPSG','9213',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60113, 'VN-2000 / TM-3 107-00','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=107 +k=0.9999 +x_0=500000 +y_0=0 +ellp
s=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000113,'EPSG','9214',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60114, 'VN-2000 / TM-3 107-15','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=107.25 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000114,'EPSG','9215',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60115, 'VN-2000 / TM-3 107-30','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=107.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000115,'EPSG','9216',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60116, 'VN-2000 / TM-3 108-15','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=108.25 +k=0.9999 +x_0=500000 +y_0=0 +e
llps=WGS84 +units=m +no_defs',520000116,'EPSG','9217',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60117, 'VN-2000 / TM-3 108-30','tmerc','WGS84','+proj=tmerc +lat_0=0 +lon_0=108.5 +k=0.9999 +x_0=500000 +y_0=0 +el
lps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,0.00928836,-0.01975479,0.00427372,0.252906278 +units=m +no_defs',520000117,'EPSG','9218',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60118, 'Hartebeesthoek94 / ZAF BSU Albers 25E','aea','WGS84','+proj=aea +lat_0=-30 +lon_0=25 +lat_1=-22 +lat_2=-38
+x_0=1400000 +y_0=1300000 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',520000118,'EPSG','9221',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

Could not execute: INSERT INTO tbl_srs(srs_id, description,projection_acronym,ellipsoid_acronym,parameters,srid,auth_name,auth_id,is_geo,deprecated) VALUES (60119, 'Hartebeesthoek94 / ZAF BSU Albers 44E','aea','WGS84','+proj=aea +lat_0=-42 +lon_0=44 +lat_1=-34 +lat_2=-50
+x_0=1200000 +y_0=1300000 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',520000119,'EPSG','9222',0,0) [UNIQUE constraint failed: tbl_srs.srs_id/UNIQUE constraint failed: tbl_srs.srs_id] 

120 CRSs could not be updated. 
-- Up-to-date: /usr/local/share/icons/hicolor/scalable/apps/qgis.svg



-------------


Thanks,


Andreas







-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/6ac35695/attachment-0001.html>

From johnrobot at gmail.com  Wed Nov 20 01:54:38 2019
From: johnrobot at gmail.com (johnrobot)
Date: Wed, 20 Nov 2019 02:54:38 -0700 (MST)
Subject: [QGIS-Developer] Processing model improvement suggestions
Message-ID: <1574243678303-0.post@n6.nabble.com>

Hi
I have been using processing models in QGIS 3.10.0 a bit lately and I have
some additional improvement suggestions (on top of my previous collection,
http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Thoughts-on-using-processing-models-for-ETL-tasks-td5365767.html#a5368491).
In no particual order:

- Support for drag and drop of model files (.model3) in a QGIS window, that
should open the model.

- Improved documentation for algorithms: All algorithms should include
examples and images that show the data before and after the algorithm. That
would help understanding what it does to the data.

- The help/documentation is always visible to the right when I open an
algorithm separately (not in a model), it doesn´t remember its state from
the last time I used it. That could be added, or even move the help to a
separate window. The "Help" button always seems to give me an 404 error.
Also, I don´t see how to access the algorithm documentation from a model.
The pane to the right is missing and the "Help" button gives me the same 404
error.

- Improved error messages when an algorithm fails. Perhaps even add
suggestions on how to fix the issue?

- I would like a model to be able to read multiple files stored in
compressed files, such as .zip and .rar. I have a use case where multiple
GeoTIFF files with elevation data are stored in rar archives and I would
like to read all of them, without having to unpack the rar files manually
before running a model.

- The number of features read and written (for each data set and the total
amount) should be specified in the log file. That would help me detect
potential data loss.

- Expose incoming attributes in the data used in the model, much like FME
does. At current, it is unnecessarily hard to view how attributes are
processed/changed throughout the model.

- I would be great with an option for dynamically separating output into
separate files/tables/layers (depending on the type of output) based on an
attribute value, for example one file for the features containing "Canada"
and a separate one with "Mexico".

- Support for reading and processing non-geo JSON data, as described here,
http://osgeo-org.1560.x6.nabble.com/Read-non-geo-JSON-data-in-QGIS-td5420262.html.

- Support for writing model result as TopoJSON, the format used by Power BI.

- In the algorithm for calculating the shortest path (point to point), it
seems that I have to define start and end points manually. In my case, I
have about 2 million sets of start and end points. Perhaps add support for
reading these coordinates from attributes instead of picking manually in the
map? Also, support for routing using more than one processor core, and even
a GPU (using OpenCL?) would probably speed up these calculations
considerably.

Any thoughts on these suggestions?

Regards,

Magnus



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From a.neumann at carto.net  Wed Nov 20 02:27:10 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Nov 2019 11:27:10 +0100
Subject: [QGIS-Developer] QGIS field calculator: issue with updating
 selected only features in combination with virtual field
Message-ID: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>

Hi, 

We came across an inconsistency in the field calculator: 

One can select the checkbox "Only update xx selected features" in
combination with creating a new virtual field. This is quite misleading
for the user, as the result is that all features (not only the selected
ones) are updated. 

I see the following solutions: 

- disable the checkbox "only update xx selected features" as soon as a
the field is created as virtual (the easy fix) 

- change the behavior of virtual fields in order to really allow update
of selected features only. This would probably imply that we have to
store the primary keys of the selected features somewhere and can lead
to follow-up problems later on. 

Any opinions on this? 

Personally I would say that virtual fields cannot update "selected only
features" and disable that checkbox as soon as virtual fields are
created. 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/84b34de4/attachment.html>

From matthias at opengis.ch  Wed Nov 20 04:11:57 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 20 Nov 2019 13:11:57 +0100
Subject: [QGIS-Developer] QGIS field calculator: issue with updating
 selected only features in combination with virtual field
In-Reply-To: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>
References: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>
Message-ID: <ef2959f2-b59e-6145-ced3-6a64a9972678@opengis.ch>

Hi Andreas,

On first sight I'd also say that disabling the checkbox is the right 
thing to do.

For the other proposed behavior the requirements seem unclear (i.e. 
should the selection be preserved or the values changed when the 
selection changes), so we need a specific use case where this is 
required to take a decision.

Best regards

Matthias

On 11/20/19 11:27 AM, Andreas Neumann wrote:
>
> Hi,
>
> We came across an inconsistency in the field calculator:
>
> One can select the checkbox "Only update xx selected features" in 
> combination with creating a new virtual field. This is quite 
> misleading for the user, as the result is that all features (not only 
> the selected ones) are updated.
>
> I see the following solutions:
>
> - disable the checkbox "only update xx selected features" as soon as a 
> the field is created as virtual (the easy fix)
>
> - change the behavior of virtual fields in order to really allow 
> update of selected features only. This would probably imply that we 
> have to store the primary keys of the selected features somewhere and 
> can lead to follow-up problems later on.
>
> Any opinions on this?
>
> Personally I would say that virtual fields cannot update "selected 
> only features" and disable that checkbox as soon as virtual fields are 
> created.
>
> Andreas
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/cb108a8a/attachment.html>

From a.neumann at carto.net  Wed Nov 20 05:38:49 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Nov 2019 14:38:49 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows login
Message-ID: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>

Hi, 

Is it possible to use the Windows-Login as a login for PostgreSQL/WMS in
the auth-cfg manager? 

We have our PG-Server configured in a way that it integrates with the
Windows AD. Could we use that login directly in the QGIS auth manager,
rather than creating a separate auth-cfg where we need to also change
the password in the QGIS auth-manager when the Windows login password
changes? 

Is this already possible somehow or if not, would it be feasible to
implement this? 

Thanks,
Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/31b33b8a/attachment.html>

From delazj at gmail.com  Wed Nov 20 06:04:58 2019
From: delazj at gmail.com (DelazJ)
Date: Wed, 20 Nov 2019 15:04:58 +0100
Subject: [QGIS-Developer] Processing model improvement suggestions
In-Reply-To: <1574243678303-0.post@n6.nabble.com>
References: <1574243678303-0.post@n6.nabble.com>
Message-ID: <CAECJsSr--7f3mF104NP-WVODKCxW0SiaHPeXt17A8n6FjF_v-A@mail.gmail.com>

Hi Magnus,

Le mer. 20 nov. 2019 à 10:54, johnrobot <johnrobot at gmail.com> a écrit :

> Hi
> I have been using processing models in QGIS 3.10.0 a bit lately and I have
> some additional improvement suggestions (on top of my previous collection,
>
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Thoughts-on-using-processing-models-for-ETL-tasks-td5365767.html#a5368491
> ).
> In no particual order:
>
> - Support for drag and drop of model files (.model3) in a QGIS window, that
> should open the model.
>
> - Improved documentation for algorithms: All algorithms should include
> examples and images that show the data before and after the algorithm. That
> would help understanding what it does to the data.
>
> Would be good; we already have some algs providing such details but I
don't think this is compatible with all the algorithms. Also, issue with
doing it everywhere is that this is a huge amount of work for (currently)
few contributors in this area and some algs (may) require particular data
not available for writers or some prerequisite knowledge neither available.
Our target currently is to provide a minimal literal description for
parameters and outputs for all the algorithms, and a lot has been done
since your previous thread.
But of course if you find items you'd like to improve with the details you
suggest, you are more than welcome to provide the fix or the necessary
materials to get someone else fill the gap.

- The help/documentation is always visible to the right when I open an
> algorithm separately (not in a model), it doesn´t remember its state from
> the last time I used it. That could be added, or even move the help to a
> separate window. The "Help" button always seems to give me an 404 error.
> Also, I don´t see how to access the algorithm documentation from a model.
> The pane to the right is missing and the "Help" button gives me the same
> 404
> error.
>

I think the issue with the help panel visibility should be reported in the
issue repository. So should some of the points you raised in this mail (as
bug or feature), while a global discussion can be held here.
The issue with the help button is that 3.10 urls were not yet redirected.
They should be fixed now. Thanks Richard.


> [...]
> - I would be great with an option for dynamically separating output into
> separate files/tables/layers (depending on the type of output) based on an
> attribute value, for example one file for the features containing "Canada"
> and a separate one with "Mexico".
>
> Isn't there an alg that splits vector layers you can use to extend your
model with? I wonder how this request complies with the dev logic which  is
to build minimal chunks of algs that address a specific case.

Greetings,
Harrissou

- Support for reading and processing non-geo JSON data, as described here,
>
> http://osgeo-org.1560.x6.nabble.com/Read-non-geo-JSON-data-in-QGIS-td5420262.html
> .
>
> - Support for writing model result as TopoJSON, the format used by Power
> BI.
>
> - In the algorithm for calculating the shortest path (point to point), it
> seems that I have to define start and end points manually. In my case, I
> have about 2 million sets of start and end points. Perhaps add support for
> reading these coordinates from attributes instead of picking manually in
> the
> map? Also, support for routing using more than one processor core, and even
> a GPU (using OpenCL?) would probably speed up these calculations
> considerably.
>
> Any thoughts on these suggestions?
>
> Regards,
>
> Magnus
>
>
>
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/bd4146f0/attachment-0001.html>

From jef at norbit.de  Wed Nov 20 06:41:22 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 20 Nov 2019 15:41:22 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
 login
In-Reply-To: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
Message-ID: <20191120144122.wgaohvsmcsvkgbyb@norbit.de>

Hi Andreas,

On Wed, 20. Nov 2019 at 14:38:49 +0100, Andreas Neumann wrote:
> Is it possible to use the Windows-Login as a login for PostgreSQL/WMS in the
> auth-cfg manager?

Are you sure support is even required?  I'd expect it to be handled
transparently.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/fbf24a9c/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/fbf24a9c/attachment.ksh>

From a.neumann at carto.net  Wed Nov 20 08:10:46 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Nov 2019 17:10:46 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
 login
In-Reply-To: <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
Message-ID: <b8dcc09900625edd399c62378d2aed95@carto.net>

Hi Jürgen, 

I wouldn't know how this works. When I create a new PG connection, it
forces me to add a username and password. I can't create a new
connection without specifying one. Even if the Windows password manager
already knows my windows credentials, which are the same as the PG
credentials. As a "stupid user" I would either expect: 

- not being asked for credentials (means that QGIS would automagically
forward the Windows credentials) 

- or when creating a new auth-conf, having a choice like "use windows
credentials" and then not being asked for username/password, because
QGIS already knows it from Windows. 

But maybe I am just not correctly handling it. 

The one thing I noticed is that the Windows password manager
automatically loads the master password of the QGIS password manager. So
that one seems to work. 

Andreas 

On 2019-11-20 15:41, Jürgen E. Fischer wrote:

> Hi Andreas,
> 
> On Wed, 20. Nov 2019 at 14:38:49 +0100, Andreas Neumann wrote: 
> 
>> Is it possible to use the Windows-Login as a login for PostgreSQL/WMS in the
>> auth-cfg manager?
> 
> Are you sure support is even required?  I'd expect it to be handled
> transparently.
> 
> Jürgen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/83a25500/attachment.html>

From apasotti at gmail.com  Wed Nov 20 08:24:22 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 20 Nov 2019 17:24:22 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
	login
In-Reply-To: <b8dcc09900625edd399c62378d2aed95@carto.net>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
 <b8dcc09900625edd399c62378d2aed95@carto.net>
Message-ID: <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>

On Wed, Nov 20, 2019 at 5:10 PM Andreas Neumann <a.neumann at carto.net> wrote:

> Hi Jürgen,
>
> I wouldn't know how this works. When I create a new PG connection, it
> forces me to add a username and password. I can't create a new connection
> without specifying one. Even if the Windows password manager already knows
> my windows credentials, which are the same as the PG credentials. As a
> "stupid user" I would either expect:
>
> - not being asked for credentials (means that QGIS would automagically
> forward the Windows credentials)
>

What if your DNS has been poisoned to hit evil.hacker.com instead? Would
you still want your credentials to be automatically sent?

- or when creating a new auth-conf, having a choice like "use windows
> credentials" and then not being asked for username/password, because QGIS
> already knows it from Windows.
>

I don't get this point: when you enter you credentials in the OS wallet
(password manager) it does not leak them to QGIS, or that would be another
huge security hole.

But maybe I am just not correctly handling it.
>
> The one thing I noticed is that the Windows password manager automatically
> loads the master password of the QGIS password manager. So that one seems
> to work.
>
>
That's the currently supported way to manage credentials: you store them
into the encrypted QGIS auth DB and (optionally) store the master password
in your OS wallet.

In any event, the QGIS auth system is plugin based (C++ plugins) and
other/custom auth methods could be developed if needed.

Cheers

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/42822c5c/attachment.html>

From a.neumann at carto.net  Wed Nov 20 13:59:00 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 20 Nov 2019 22:59:00 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
 login
In-Reply-To: <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
 <b8dcc09900625edd399c62378d2aed95@carto.net>
 <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>
Message-ID: <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>

Hi Alessandro,

To be honest - I don't know much about this single sign-on on Windows. I 
just noticed that with some software, one doesn't have to login a second 
time. One Login into the Windows system is enough and the other software 
can - somehow (I don't know how) - authenticate the user from the 
Windwos-Login, without a second log-in. But I don't know how that works.

It is not super important, but would be somehow convenient, if it 
doesn't sacrifice security. Maybe it isn't possible at all.

Andreas

Am 20.11.19 um 17:24 schrieb Alessandro Pasotti:
>
>
> On Wed, Nov 20, 2019 at 5:10 PM Andreas Neumann <a.neumann at carto.net 
> <mailto:a.neumann at carto.net>> wrote:
>
>     Hi Jürgen,
>
>     I wouldn't know how this works. When I create a new PG connection,
>     it forces me to add a username and password. I can't create a new
>     connection without specifying one. Even if the Windows password
>     manager already knows my windows credentials, which are the same
>     as the PG credentials. As a "stupid user" I would either expect:
>
>     - not being asked for credentials (means that QGIS would
>     automagically forward the Windows credentials)
>
>
> What if your DNS has been poisoned to hit evil.hacker.com 
> <http://evil.hacker.com> instead? Would you still want your 
> credentials to be automatically sent?
>
>     - or when creating a new auth-conf, having a choice like "use
>     windows credentials" and then not being asked for
>     username/password, because QGIS already knows it from Windows.
>
>
> I don't get this point: when you enter you credentials in the OS 
> wallet (password manager) it does not leak them to QGIS, or that would 
> be another huge security hole.
>
>     But maybe I am just not correctly handling it.
>
>     The one thing I noticed is that the Windows password manager
>     automatically loads the master password of the QGIS password
>     manager. So that one seems to work.
>
>
> That's the currently supported way to manage credentials: you store 
> them into the encrypted QGIS auth DB and (optionally) store the master 
> password in your OS wallet.
>
> In any event, the QGIS auth system is plugin based (C++ plugins) and 
> other/custom auth methods could be developed if needed.
>
> Cheers
>
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191120/ebf8879d/attachment.html>

From denis.rouzaud at gmail.com  Wed Nov 20 21:29:57 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 21 Nov 2019 06:29:57 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
	login
In-Reply-To: <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
 <b8dcc09900625edd399c62378d2aed95@carto.net>
 <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>
 <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>
Message-ID: <CAMtsY+ZBjCLfOBekLq9WeC1_wbseAuqCa1VpDZ0pTvutiaz6Tg@mail.gmail.com>

Hi,

I believe the situation is different for PG and WMS authentication.

For PG, if you have LDAP connection or so, you basically don't need to have
any credentials in QGIS. You will always connect through the same "user".
See https://wiki.postgresql.org/wiki/LDAP_Authentication_against_AD

For WMS, I don't see this possible if I understand correctly how works the
auth, otherwise that would mean, as Alessandro pointed, that your
user/password would leak.
The safe way would be that the authentication on the WMS server actually
checks the AD. I have no idea if that's possible and it's totally
independent from QGIS.

Don't hesitate to correct me if I missed something.

Denis



Le mer. 20 nov. 2019 à 22:59, Andreas Neumann <a.neumann at carto.net> a
écrit :

> Hi Alessandro,
>
> To be honest - I don't know much about this single sign-on on Windows. I
> just noticed that with some software, one doesn't have to login a second
> time. One Login into the Windows system is enough and the other software
> can - somehow (I don't know how) - authenticate the user from the
> Windwos-Login, without a second log-in. But I don't know how that works.
>
> It is not super important, but would be somehow convenient, if it doesn't
> sacrifice security. Maybe it isn't possible at all.
>
> Andreas
> Am 20.11.19 um 17:24 schrieb Alessandro Pasotti:
>
>
>
> On Wed, Nov 20, 2019 at 5:10 PM Andreas Neumann <a.neumann at carto.net>
> wrote:
>
>> Hi Jürgen,
>>
>> I wouldn't know how this works. When I create a new PG connection, it
>> forces me to add a username and password. I can't create a new connection
>> without specifying one. Even if the Windows password manager already knows
>> my windows credentials, which are the same as the PG credentials. As a
>> "stupid user" I would either expect:
>>
>> - not being asked for credentials (means that QGIS would automagically
>> forward the Windows credentials)
>>
>
> What if your DNS has been poisoned to hit evil.hacker.com instead? Would
> you still want your credentials to be automatically sent?
>
> - or when creating a new auth-conf, having a choice like "use windows
>> credentials" and then not being asked for username/password, because QGIS
>> already knows it from Windows.
>>
>
> I don't get this point: when you enter you credentials in the OS wallet
> (password manager) it does not leak them to QGIS, or that would be another
> huge security hole.
>
> But maybe I am just not correctly handling it.
>>
>> The one thing I noticed is that the Windows password manager
>> automatically loads the master password of the QGIS password manager. So
>> that one seems to work.
>>
>
> That's the currently supported way to manage credentials: you store them
> into the encrypted QGIS auth DB and (optionally) store the master password
> in your OS wallet.
>
> In any event, the QGIS auth system is plugin based (C++ plugins) and
> other/custom auth methods could be developed if needed.
>
> Cheers
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191121/0c32fcee/attachment.html>

From bo.victor.thomsen at gmail.com  Thu Nov 21 01:01:16 2019
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Thu, 21 Nov 2019 10:01:16 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
 login
In-Reply-To: <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
 <b8dcc09900625edd399c62378d2aed95@carto.net>
 <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>
 <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>
Message-ID: <9d7cdbbb-e1cb-616e-c028-72af7e7f82a8@gmail.com>

If you have a "clean" windows setup (i.e. both the client and server is 
Windows based) you can use the SSPI single sign setup on the server - 
equivalent to "Integrated security" for MS-SQLServer.

In simple terms it means that your windows logon identity automatically 
is reused as a postgres user identity without any further setup.

Very popular with my "Always Windows-only !!" customers and a forceful 
argument for switching them from MS-SQLServer to Postgres/PostGIS for 
spatial data.

https://wiki.postgresql.org/wiki/Configuring_for_single_sign-on_using_SSPI_on_Windows

-- 
Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 20-11-2019 kl. 22:59 skrev Andreas Neumann:
>
> Hi Alessandro,
>
> To be honest - I don't know much about this single sign-on on Windows. 
> I just noticed that with some software, one doesn't have to login a 
> second time. One Login into the Windows system is enough and the other 
> software can - somehow (I don't know how) - authenticate the user from 
> the Windwos-Login, without a second log-in. But I don't know how that 
> works.
>
> It is not super important, but would be somehow convenient, if it 
> doesn't sacrifice security. Maybe it isn't possible at all.
>
> Andreas
>
> Am 20.11.19 um 17:24 schrieb Alessandro Pasotti:
>>
>>
>> On Wed, Nov 20, 2019 at 5:10 PM Andreas Neumann <a.neumann at carto.net 
>> <mailto:a.neumann at carto.net>> wrote:
>>
>>     Hi Jürgen,
>>
>>     I wouldn't know how this works. When I create a new PG
>>     connection, it forces me to add a username and password. I can't
>>     create a new connection without specifying one. Even if the
>>     Windows password manager already knows my windows credentials,
>>     which are the same as the PG credentials. As a "stupid user" I
>>     would either expect:
>>
>>     - not being asked for credentials (means that QGIS would
>>     automagically forward the Windows credentials)
>>
>>
>> What if your DNS has been poisoned to hit evil.hacker.com 
>> <http://evil.hacker.com> instead? Would you still want your 
>> credentials to be automatically sent?
>>
>>     - or when creating a new auth-conf, having a choice like "use
>>     windows credentials" and then not being asked for
>>     username/password, because QGIS already knows it from Windows.
>>
>>
>> I don't get this point: when you enter you credentials in the OS 
>> wallet (password manager) it does not leak them to QGIS, or that 
>> would be another huge security hole.
>>
>>     But maybe I am just not correctly handling it.
>>
>>     The one thing I noticed is that the Windows password manager
>>     automatically loads the master password of the QGIS password
>>     manager. So that one seems to work.
>>
>>
>> That's the currently supported way to manage credentials: you store 
>> them into the encrypted QGIS auth DB and (optionally) store the 
>> master password in your OS wallet.
>>
>> In any event, the QGIS auth system is plugin based (C++ plugins) and 
>> other/custom auth methods could be developed if needed.
>>
>> Cheers
>>
>> -- 
>> Alessandro Pasotti
>> w3: www.itopen.it <http://www.itopen.it>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191121/67be1d36/attachment-0001.html>

From jef at norbit.de  Thu Nov 21 02:30:36 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 21 Nov 2019 11:30:36 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
 login
In-Reply-To: <9d7cdbbb-e1cb-616e-c028-72af7e7f82a8@gmail.com>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
 <b8dcc09900625edd399c62378d2aed95@carto.net>
 <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>
 <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>
 <9d7cdbbb-e1cb-616e-c028-72af7e7f82a8@gmail.com>
Message-ID: <20191121103036.4k4xfhdyklm2tbq2@norbit.de>

Hi,

On Thu, 21. Nov 2019 at 10:01:16 +0100, Bo Victor Thomsen wrote:
> Very popular with my "Always Windows-only !!" customers and a forceful
> argument for switching them from MS-SQLServer to Postgres/PostGIS for
> spatial data.
> 
> https://wiki.postgresql.org/wiki/Configuring_for_single_sign-on_using_SSPI_on_Windows

"Windows-to-unix a bit more work"

https://www.hagander.net/talks/Deploying%20PostgreSQL%20in%20a%20Windows%20Enterprise.pdf



Jürgen
-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191121/fafdd683/attachment.sig>

From noreply at qgis.org  Thu Nov 21 03:08:01 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 21 Nov 2019 11:08:01 -0000
Subject: [QGIS-Developer] Plugin [1887] GeoAtlasQGIS approval notification.
Message-ID: <20191121110801.27928.13803@2c6504964296>


Plugin GeoAtlasQGIS approval by pcav.
The plugin version "[1887] GeoAtlasQGIS 1.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/GeoAtlasQGIS/

From bo.victor.thomsen at gmail.com  Thu Nov 21 03:10:17 2019
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Thu, 21 Nov 2019 12:10:17 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
 login
In-Reply-To: <20191121103036.4k4xfhdyklm2tbq2@norbit.de>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
 <b8dcc09900625edd399c62378d2aed95@carto.net>
 <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>
 <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>
 <9d7cdbbb-e1cb-616e-c028-72af7e7f82a8@gmail.com>
 <20191121103036.4k4xfhdyklm2tbq2@norbit.de>
Message-ID: <b2da9025-4a4d-0eac-46e1-3edb995a105e@gmail.com>

You're right Jürgen; the problem using integrated security in a mixed 
environment is not impossible, just some more work.

However, trying to convince the segment of my customers - who pray to 
the "one-and-only Windows" god or whatever - to

  * switch to Postgres from MS-SQLServer or Oracle (very hard but possible)
  * and switch to Linux from MS-Windows on the server
    (Iiiiiimmmmmpossible !!)

overwhelms my limited "salesman" skills. I leave this option to people 
who is adept in selling sand in Sahara.

Getting them to switch to Postgres is a big "win" from my point of view. 
And, by the way, Postgres is not "awful" on Windows any more. Just 
ordinary "Windows bad" compared to the Linux version :-).

-- 
Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 21-11-2019 kl. 11:30 skrev Jürgen E. Fischer:
> Hi,
>
> On Thu, 21. Nov 2019 at 10:01:16 +0100, Bo Victor Thomsen wrote:
>> Very popular with my "Always Windows-only !!" customers and a forceful
>> argument for switching them from MS-SQLServer to Postgres/PostGIS for
>> spatial data.
>>
>> https://wiki.postgresql.org/wiki/Configuring_for_single_sign-on_using_SSPI_on_Windows
> "Windows-to-unix a bit more work"
>
> https://www.hagander.net/talks/Deploying%20PostgreSQL%20in%20a%20Windows%20Enterprise.pdf
>
>
>
> Jürgen
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191121/c6445c1a/attachment.html>

From enzedrailmaps at gmail.com  Thu Nov 21 06:05:20 2019
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Fri, 22 Nov 2019 03:05:20 +1300
Subject: [QGIS-Developer] [Qgis-user] Handling a large number of raster
 layers with Qgis architectural limitations
In-Reply-To: <CA+H0G_GAKOEnYvMJYzr0R_Qz1N_UuEZSqht7CSNnZoct=91Z3g@mail.gmail.com>
References: <021e411c-0cb7-df34-7a15-5ea4fde7f129@gmail.com>
 <CA+H0G_GAKOEnYvMJYzr0R_Qz1N_UuEZSqht7CSNnZoct=91Z3g@mail.gmail.com>
Message-ID: <d25dcb87-3bce-a773-5c14-08f9f76269bd@gmail.com>

Building pyramids gobbles up heaps of disk space. I tried pyramids on 
157 MB layer, which created an extra file 1.6 GiB.

I can't see the WMTS building lots of temporary file pyramids using up disk

On 18/11/19 10:50 PM, Alexandre Neto wrote:
> Hi Patrick,
>
> Sorry for asking, did you create pyramids (overlays) for your raster 
> "tiles"?
>
> See more information about pyramids on QGIS official documentation:
>
> https://docs.qgis.org/3.4/en/docs/user_manual/working_with_raster/raster_properties.html#pyramids-properties
>
> To create pyramids on many files, it's probably better to use GDAL 
> directly to process all files in a folder:
>
> https://gdal.org/programs/gdaladdo.html
>
> My feeling is that the WMS service is doing that for you, and that's 
> the reason why it works well with a service.
>
> Alexandre Neto
> QGIS Support
> www.qcooperative.net <http://www.qcooperative.net>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/12c59b88/attachment.html>

From a.neumann at carto.net  Thu Nov 21 06:31:48 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 21 Nov 2019 15:31:48 +0100
Subject: [QGIS-Developer] Auth-config and single sign-on with Windows
 login
In-Reply-To: <20191121103036.4k4xfhdyklm2tbq2@norbit.de>
References: <e3b8f54a38a0d85bd27eb10d40c45894@carto.net>
 <20191120144122.wgaohvsmcsvkgbyb@norbit.de>
 <b8dcc09900625edd399c62378d2aed95@carto.net>
 <CAL5Q673MrtCVC_dP-ssB2MdZxM0HHTx=qj45tHwXCvCqAbMESw@mail.gmail.com>
 <1b5d0c9d-0736-d451-a9b3-26ceef12ce1a@carto.net>
 <9d7cdbbb-e1cb-616e-c028-72af7e7f82a8@gmail.com>
 <20191121103036.4k4xfhdyklm2tbq2@norbit.de>
Message-ID: <1e93c01bca40109c7743771dffedf9a9@carto.net>

Hi Jürgen and Bo, 

Thanks for sharing that information about the single sign on. I'll have
a look at it. 

So on the QGIS side this would require a Kerberos configuration for the
auth-config - in the mixed Win-Client Lin-PG-Server scenario - right? 

Andreas 

On 2019-11-21 11:30, Jürgen E. Fischer wrote:

> Hi,
> 
> On Thu, 21. Nov 2019 at 10:01:16 +0100, Bo Victor Thomsen wrote: 
> 
>> Very popular with my "Always Windows-only !!" customers and a forceful
>> argument for switching them from MS-SQLServer to Postgres/PostGIS for
>> spatial data.
>> 
>> https://wiki.postgresql.org/wiki/Configuring_for_single_sign-on_using_SSPI_on_Windows
> 
> "Windows-to-unix a bit more work"
> 
> https://www.hagander.net/talks/Deploying%20PostgreSQL%20in%20a%20Windows%20Enterprise.pdf
> 
> Jürgen 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191121/1a7af9ef/attachment.html>

From noreply at qgis.org  Thu Nov 21 08:37:00 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 21 Nov 2019 16:37:00 -0000
Subject: [QGIS-Developer] Plugin [1515] DSGTools Op approval notification.
Message-ID: <20191121163700.12601.95563@2c6504964296>


Plugin DSGTools Op approval by pcav.
The plugin version "[1515] DSGTools Op 1.2.2" is now approved
Link: http://plugins.qgis.org/plugins/DSGTools_Op/

From senhor.neto at gmail.com  Thu Nov 21 14:08:58 2019
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Thu, 21 Nov 2019 22:08:58 +0000
Subject: [QGIS-Developer] [Qgis-user] Handling a large number of raster
 layers with Qgis architectural limitations
In-Reply-To: <d25dcb87-3bce-a773-5c14-08f9f76269bd@gmail.com>
References: <021e411c-0cb7-df34-7a15-5ea4fde7f129@gmail.com>
 <CA+H0G_GAKOEnYvMJYzr0R_Qz1N_UuEZSqht7CSNnZoct=91Z3g@mail.gmail.com>
 <d25dcb87-3bce-a773-5c14-08f9f76269bd@gmail.com>
Message-ID: <CA+H0G_F4PD0jKvJ5EZPzBv-NtmBMtMusZ53yQ4xJKHPMZziQmw@mail.gmail.com>

AFAIK,

WMST creates pyramids in cache as needed, hence it may do a better balance
between disk usage and performance. You can control the number of pyramid
layers you create and the compression format of it to save some space. But
having raster files with 4000x4000 pixels with no pyramids will make a full
read of the raster file to show even only a bit of it... That will make
QGIS performance really poor.

Thereºs this blog post from 2010 that does some comparison between several
formats and their sizes and performances. It's in portuguese, but I think
you can find ways of translating it.


https://blog.viasig.com/2010/01/mosaicos-de-imagens-em-mapserver-com-gdal/

Hope it helps

Alexandre Neto

On Thu, Nov 21, 2019 at 2:05 PM Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> Building pyramids gobbles up heaps of disk space. I tried pyramids on 157
> MB layer, which created an extra file 1.6 GiB.
>
> I can't see the WMTS building lots of temporary file pyramids using up disk
> On 18/11/19 10:50 PM, Alexandre Neto wrote:
>
> Hi Patrick,
>
> Sorry for asking, did you create pyramids (overlays) for your raster
> "tiles"?
>
> See more information about pyramids on QGIS official documentation:
>
>
> https://docs.qgis.org/3.4/en/docs/user_manual/working_with_raster/raster_properties.html#pyramids-properties
>
> To create pyramids on many files, it's probably better to use GDAL
> directly to process all files in a folder:
>
> https://gdal.org/programs/gdaladdo.html
>
> My feeling is that the WMS service is doing that for you, and that's the
> reason why it works well with a service.
>
> Alexandre Neto
> QGIS Support
> www.qcooperative.net
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191121/b13df8e8/attachment.html>

From nyall.dawson at gmail.com  Thu Nov 21 23:17:07 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 22 Nov 2019 17:17:07 +1000
Subject: [QGIS-Developer] Delaying 3.10.1?
Message-ID: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>

Hi list,

Just wondering if there's any chance of a small delay in tagging 3.10.1?

I'm trying to get to the bottom of this (serious) issue in the Proj 6
based builds (which will be 3.10.1 for Windows users):
https://github.com/qgis/QGIS/issues/30569

It's very serious, and in my view should be a release blocker.

It's possibly an underlying issue in proj, or in how QGIS is
(mis?)using the proj api:

https://github.com/OSGeo/PROJ/issues/1736

But I'd love a couple of days to keep digging, if that's at all possible....

Nyall

From a.neumann at carto.net  Thu Nov 21 23:23:03 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 22 Nov 2019 08:23:03 +0100
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
Message-ID: <e2183d16275b1c9fbc3ee310618a7020@carto.net>

Hi Nyall, 

This sounds to me like a good reason to delay the dot release. But
ultimately, Jürgen should decide this. 

Thanks for working on it! 

Andreas 

On 2019-11-22 08:17, Nyall Dawson wrote:

> Hi list,
> 
> Just wondering if there's any chance of a small delay in tagging 3.10.1?
> 
> I'm trying to get to the bottom of this (serious) issue in the Proj 6
> based builds (which will be 3.10.1 for Windows users):
> https://github.com/qgis/QGIS/issues/30569
> 
> It's very serious, and in my view should be a release blocker.
> 
> It's possibly an underlying issue in proj, or in how QGIS is
> (mis?)using the proj api:
> 
> https://github.com/OSGeo/PROJ/issues/1736
> 
> But I'd love a couple of days to keep digging, if that's at all possible....
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/c2aee38a/attachment.html>

From jef at norbit.de  Thu Nov 21 23:43:23 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 22 Nov 2019 08:43:23 +0100
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
Message-ID: <20191122074323.zes5o3lqfqmkoygk@norbit.de>

Hi Nyall,

On Fri, 22. Nov 2019 at 17:17:07 +1000, Nyall Dawson wrote:
> But I'd love a couple of days to keep digging, if that's at all possible....

Black friday?  Ok.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/5e672e25/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/5e672e25/attachment.ksh>

From even.rouault at spatialys.com  Fri Nov 22 01:49:04 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 22 Nov 2019 10:49:04 +0100
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <20191122074323.zes5o3lqfqmkoygk@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191122074323.zes5o3lqfqmkoygk@norbit.de>
Message-ID: <1874750.6lquYK31gX@even-i700>

On vendredi 22 novembre 2019 08:43:23 CET Jürgen E. Fischer wrote:
> Hi Nyall,
> 
> On Fri, 22. Nov 2019 at 17:17:07 +1000, Nyall Dawson wrote:
> > But I'd love a couple of days to keep digging, if that's at all
> > possible....
> Black friday?  Ok.

Trying to reproduce on my side in isolated way with use of only PROJ-only API

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From Jacky.VOLPES-EXT at canal-de-provence.com  Fri Nov 22 01:59:08 2019
From: Jacky.VOLPES-EXT at canal-de-provence.com (VOLPES-EXT, Jacky)
Date: Fri, 22 Nov 2019 09:59:08 +0000
Subject: [QGIS-Developer]  Qt resources from standalone app
Message-ID: <80f0dbeaac34433892dc0faf9966a8ab@SCPEX2K13-1.scp.fr>

Hi,

I instantiate a QgsAdvancedDigitizingDockWidget in my Python QGIS standalone app, which is then looking for resources in ":/images/themes/default/cadtools/etc.".
According to https://doc.qt.io/qt-5/resources.html, "Qt always stores the data directly in the executable, even on Windows".
So I have no .qrc file I could have compiled with pyrcc5.

As a result, I have these error messages in my python console :

qt.svg: Cannot open file ':/images/themes/default/cadtools/cad.svg', because: No such file or directory
qt.svg: Cannot open file ':/images/themes/default/cadtools/construction.svg', because: No such file or directory
qt.svg: Cannot open file ':/images/themes/default/cadtools/parallel.svg', because: No such file or directory
[...]

Maybe there is a way to initialize/register these resources from the python API ?

Thanks,
BR

Jacky Volpes
HR Team pour la Société du Canal de Provence | 2SI - QGIS
Le Tholonet, CS70064
jacky.volpes-ext at canal-de-provence.com<mailto:jacky.volpes-ext at canal-de-provence.com>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/69ec57b9/attachment-0001.html>

From jtorlistas at gmail.com  Fri Nov 22 04:33:42 2019
From: jtorlistas at gmail.com (Jorge Tornero)
Date: Fri, 22 Nov 2019 13:33:42 +0100
Subject: [QGIS-Developer] PyQgis: Composer and legends scripting
Message-ID: <CAEHjKAtVEW4-b=6d8GoZ95p_7f7wu_GA95xAtwLh-Brb9C3SNQ@mail.gmail.com>

Hello all,
I'm trying to make a script with python (standalone, not in qgis console or
whatever) for exporting composer maps to an image.

The idea is to have a template of a map and just change some layers, the
title, etc., depending on the data I want to show. For instance, I can
have a base map with a bathymetry layer, a geography (land) layer and then
produce several maps with, say the abundance of a particular species of
fish.
So far I'm able to:

1) Import qgis and create a QgsApplication

from qgis.core import *
QgsApplication.setPrefixPath("",
True)qgs=QgsApplication([],False)qgs.initQgis()

2) Create and load a project from a file

pro=QgsProject()pro.read('./miproject.qgs')

3) Access to its layout manager and thus to one particular layout
pro=QgsProject()pro.read('./miproyecto.qgs')layoutManager=pro.layoutManager()
layout=layoutManager.layoutByName('MYLAYOUT')

4) And then export that layout to a file:

exporter=QgsLayoutExporter(layout)
exporter.exportToImage('mymap.png',exporter.ImageExportSettings())


But I'm having big trouble trying to manipulate the legend itself.
I can get the legend with (I omit the listing of layout items to get the
index of the legend):

legend=layout.items()[2]

But how could I access to the legend items and be able to modify them?

So far I know that I can access to the legend model through legend.model(),
and then with say tree=lengend.model().rootGroup() I guess I get the legend
tree. In fact I can begin to hear some music with dump() and I have had
success up to some extent and even changing some text in the legend items,
but it looks like the way I made it is far from being fair. For instance,
for changin one particular name inside the legend I've made:

tree.children()[0].children()[0].setName('New Name')


But I can't figure out how to manipulate that tree for changing the legend
matching the information layer corresponding to each particular map. It
looks like it has something to do with accessing to the XML of the tree and
manipulating, but my efforts with writeXML() and trying to get something
from it led to nonsense.

So I will appreciate so much some clues about how to access and modify the
legend of a print layout.

The last intention of this is to use thise scrips to include output from
QGIS maps directly into RMarkdown documents. I consider that producinq maps
with QGIS is by far more versatile than with R and I've made some test and
it would work like a charm.

Thank you very much for your help, all the best

Jorge Tornero
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/12514cda/attachment.html>

From noreply at qgis.org  Fri Nov 22 04:39:38 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 22 Nov 2019 12:39:38 -0000
Subject: [QGIS-Developer] Plugin [1430] HCMGIS approval notification.
Message-ID: <20191122123938.15973.79921@2c6504964296>


Plugin HCMGIS approval by pcav.
The plugin version "[1430] HCMGIS 19.11.22" is now approved
Link: http://plugins.qgis.org/plugins/HCMGIS/

From andreaerdna at libero.it  Fri Nov 22 04:41:41 2019
From: andreaerdna at libero.it (andreaerdna)
Date: Fri, 22 Nov 2019 05:41:41 -0700 (MST)
Subject: [QGIS-Developer] QGIS install after compile: 120 CRS could not
 be updated
In-Reply-To: <abf0f56ffc1861d76b2ea08e8334f499@carto.net>
References: <abf0f56ffc1861d76b2ea08e8334f499@carto.net>
Message-ID: <1574426501803-0.post@n6.nabble.com>

Andreas Neumann-4 wrote
> When installing QGIS current master after compile from source I receive
> during ninja install the following error messages about unique
> constraint problems: 

The same problem was also reported on the qgis-it mailing list:

https://lists.osgeo.org/pipermail/qgis-it-user/2019-November/007376.html

Best regards.

Andrea Giudiceandrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From andreaerdna at libero.it  Fri Nov 22 04:47:19 2019
From: andreaerdna at libero.it (andreaerdna)
Date: Fri, 22 Nov 2019 05:47:19 -0700 (MST)
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
Message-ID: <1574426839485-0.post@n6.nabble.com>

Nyall Dawson wrote
> I'm trying to get to the bottom of this (serious) issue in the Proj 6
> based builds (which will be 3.10.1 for Windows users):
> https://github.com/qgis/QGIS/issues/30569

It seems there are other related bug reports:
https://github.com/qgis/QGIS/issues/32795
https://github.com/qgis/QGIS/issues/32919
https://github.com/qgis/QGIS/issues/32973

Best regards.

Andrea Giudiceandrea




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Fri Nov 22 04:52:38 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 22 Nov 2019 13:52:38 +0100
Subject: [QGIS-Developer] Function help Field Calculator missing?
Message-ID: <d47cd921-5f36-fbf9-757f-2efdfc9fb752@duif.net>

Hi,

is it just me or do others with a fresh compiled QGIS also have a msg
"function help for *** missing" in the Field Calculator.

/me is a little afraid that my recent pull (  datetime_from_epoch in
Field Calculator ) killed the function help :-(

Another observation during compiling:

AutoGen warning
---------------
  ..qgis/src/analysis/vector/geometry_checker/qgsgeometrycheckfactory.cpp

The source file is empty

Is this by accident or needed? Else we could add some comment there?

Regards,

Richard Duivenvoorde

From a.neumann at carto.net  Fri Nov 22 04:59:23 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 22 Nov 2019 13:59:23 +0100
Subject: [QGIS-Developer] Function help Field Calculator missing?
In-Reply-To: <d47cd921-5f36-fbf9-757f-2efdfc9fb752@duif.net>
References: <d47cd921-5f36-fbf9-757f-2efdfc9fb752@duif.net>
Message-ID: <0c8c0ca0c2288f7724a3e0f272e0ec4b@carto.net>

Hi Richard, 

In my self-compiled version
https://github.com/qgis/QGIS/commit/f1e6745fe7 I am also missing the
function help. 

Andreas 

On 2019-11-22 13:52, Richard Duivenvoorde wrote:

> Hi,
> 
> is it just me or do others with a fresh compiled QGIS also have a msg
> "function help for *** missing" in the Field Calculator.
> 
> /me is a little afraid that my recent pull (  datetime_from_epoch in
> Field Calculator ) killed the function help :-(
> 
> Another observation during compiling:
> 
> AutoGen warning
> ---------------
> ..qgis/src/analysis/vector/geometry_checker/qgsgeometrycheckfactory.cpp
> 
> The source file is empty
> 
> Is this by accident or needed? Else we could add some comment there?
> 
> Regards,
> 
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/c228971d/attachment.html>

From rdmailings at duif.net  Fri Nov 22 05:46:18 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 22 Nov 2019 14:46:18 +0100
Subject: [QGIS-Developer] Function help Field Calculator missing?
In-Reply-To: <0c8c0ca0c2288f7724a3e0f272e0ec4b@carto.net>
References: <d47cd921-5f36-fbf9-757f-2efdfc9fb752@duif.net>
 <0c8c0ca0c2288f7724a3e0f272e0ec4b@carto.net>
Message-ID: <6b518804-66dc-db6d-c651-867a69d9c989@duif.net>

On 22/11/2019 13.59, Andreas Neumann wrote:
> Hi Richard,
> 
> In my self-compiled
> version https://github.com/qgis/QGIS/commit/f1e6745fe7 I am also missing
> the function help.

Ah, that is even older....

Let me create an issue:

https://github.com/qgis/QGIS/issues/33016

Regards,

Richard Duivenvoorde



From lists at borysjurgiel.pl  Fri Nov 22 08:33:22 2019
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Fri, 22 Nov 2019 17:33:22 +0100
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <1574426839485-0.post@n6.nabble.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <1574426839485-0.post@n6.nabble.com>
Message-ID: <2157871.UBRh2tR6Wd@debian>

Excuse me...

Do I see correctly there was a switch from Proj5 to Proj6 between 3.10.0-1 and 
3.10.0-2 ?

Two weeks before 3.10.0 we entered that painful hard freeze so we couldn't 
revert known regressions (except those introduced after the feature freeze) 
and had to release a buggy 3.10.0. Later a few other regressions were found 
(including at least one severe: the broken PostGIS in the Browser), so I 
assumed 3.10.1 would be the first "stable" 3.10.x (at least free from known 
regressions). And now I see a very risky change was introduced between two 
builds of the same release?

Please correct me if I'm wrong, as I'd like to avoid a wrongful 
overinterpretation.

Borys


Dnia piątek, 22 listopada 2019 13:47:19 CET andreaerdna pisze:
> Nyall Dawson wrote
> 
> > I'm trying to get to the bottom of this (serious) issue in the Proj 6
> > based builds (which will be 3.10.1 for Windows users):
> > https://github.com/qgis/QGIS/issues/30569
> 
> It seems there are other related bug reports:
> https://github.com/qgis/QGIS/issues/32795
> https://github.com/qgis/QGIS/issues/32919
> https://github.com/qgis/QGIS/issues/32973
> 
> Best regards.
> 
> Andrea Giudiceandrea
> 
> 
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer





From saber.razmjooei at lutraconsulting.co.uk  Fri Nov 22 09:24:48 2019
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Fri, 22 Nov 2019 17:24:48 +0000
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <2157871.UBRh2tR6Wd@debian>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <1574426839485-0.post@n6.nabble.com> <2157871.UBRh2tR6Wd@debian>
Message-ID: <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>

Borys,

It is even scarier than this :D

QGIS LTR in Windows has also switched from proj 5.x and gdal 2.x to
proj 6.x and gdal 3.x which has resulted in some new bugs.

It will be additional work for package managers and more resources, but it
will be good to have some guidelines on LTR and PRs dependencies for
packaging.

Regards
Saber


On Fri, 22 Nov 2019 at 17:05, Borys Jurgiel <lists at borysjurgiel.pl> wrote:

> Excuse me...
>
> Do I see correctly there was a switch from Proj5 to Proj6 between 3.10.0-1
> and
> 3.10.0-2 ?
>
> Two weeks before 3.10.0 we entered that painful hard freeze so we couldn't
> revert known regressions (except those introduced after the feature
> freeze)
> and had to release a buggy 3.10.0. Later a few other regressions were
> found
> (including at least one severe: the broken PostGIS in the Browser), so I
> assumed 3.10.1 would be the first "stable" 3.10.x (at least free from
> known
> regressions). And now I see a very risky change was introduced between two
> builds of the same release?
>
> Please correct me if I'm wrong, as I'd like to avoid a wrongful
> overinterpretation.
>
> Borys
>
>
> Dnia piątek, 22 listopada 2019 13:47:19 CET andreaerdna pisze:
> > Nyall Dawson wrote
> >
> > > I'm trying to get to the bottom of this (serious) issue in the Proj 6
> > > based builds (which will be 3.10.1 for Windows users):
> > > https://github.com/qgis/QGIS/issues/30569
> >
> > It seems there are other related bug reports:
> > https://github.com/qgis/QGIS/issues/32795
> > https://github.com/qgis/QGIS/issues/32919
> > https://github.com/qgis/QGIS/issues/32973
> >
> > Best regards.
> >
> > Andrea Giudiceandrea
> >
> >
> >
> >
> > --
> > Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Saber Razmjooei
www.lutraconsulting.co.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191122/658f3457/attachment.html>

From nyall.dawson at gmail.com  Fri Nov 22 14:16:10 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 23 Nov 2019 08:16:10 +1000
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <20191122074323.zes5o3lqfqmkoygk@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191122074323.zes5o3lqfqmkoygk@norbit.de>
Message-ID: <CAB28AsgxZ12==b6iB4mEn5GedeHc9=uPHFhiZswDMnQyPBVZ3Q@mail.gmail.com>

On Fri, 22 Nov 2019 at 17:43, Jürgen E. Fischer <jef at norbit.de> wrote:
>
> Hi Nyall,
>
> On Fri, 22. Nov 2019 at 17:17:07 +1000, Nyall Dawson wrote:
> > But I'd love a couple of days to keep digging, if that's at all possible....
>
> Black friday?  Ok.
>

Thanks for the understanding and flexibility! I'll dig back into this
first thing Monday morning, when I'm back in the office.

(<rant>I briefly tried to setup a proj 6 build on my laptop to test
some things today, but then trying to get a working build in this
setup just made me want to punch something as hard as I could. Can we
delete spatialite yet and move on?</rant>)



>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden            https://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode

From even.rouault at spatialys.com  Fri Nov 22 14:20:49 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 22 Nov 2019 23:20:49 +0100
Subject: [QGIS-Developer] LTR management [was Re:  Delaying 3.10.1?]
In-Reply-To: <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
Message-ID: <7371034.ZqLjZfdWYd@even-i700>

> QGIS LTR in Windows has also switched from proj 5.x and gdal 2.x to
> proj 6.x and gdal 3.x which has resulted in some new bugs.

I see 2 different situations:

- 3.10 was intended to work with GDAL 3 & PROJ 6 (work started with 3.8 if I 
remember). OSGeo4W received a late upgrade to them because GRASS 7.8 wasn't 
ready yet for them (no offense to the GRASS team !), but devs have been able 
to work against GDAL 3 & PROJ 6, so that wasn't unknown territory. Probably 
that 3.10.0 could have been delayed while OSGeo4W hadn't switched to GDAL 3/
PROJ 6, but it wasn't clear when GRASS would be out. So overall how the 
situation was handled doesn't seem that bad for a release exercising new major 
dependencies.

- I do agree that the switch to GDAL 3 & PROJ 6 for a near end-of-life 3.4 LTR 
was unfortunate (but more than the timing, that does not seem appropriate for 
a release which was not designed originally to work with them) and I felt -0 
on that.

> It will be additional work for package managers and more resources, but it
> will be good to have some guidelines on LTR and PRs dependencies for
> packaging.

Each LTR should ideally have its own set of dependencies, allowing controlled 
changes of them when needed (adopting a new bugfix version might be OK), and 
allowing the current version to use more aggressively new versions of the 
dependencies. That said, I'm not a packager, and don't know the effort & cost 
associated, but that's clearly an area where the project could/should invest. 
Similar situation is likely to happen again in the future.

I'm also wondering if there shouldn't be a vote, from developers, PSC, bug 
triagers, testers or probably a mix of them forming a representative body, to 
adjudicate:
- dependency upgrades
- decision of releasing a new version (most other OSGeo projects I'm familiar 
with rely on a PSC formal vote to issue releases (*)).

Or one might consider a mixed approach to have a good compromise of agility vs 
tighter control:
- use time-based approach, as done currently, for non-LTR versions.
- formally approve the release of LTR versions, and important engineering 
decisions that affect them, as there are the ones with the most user exposure. 
Sometime ago I also suggested to possibly consider 2 phases in a LTR life-
cycle: first half where quite "aggressive" backporting is accepted (if it 
doesn't break API, etc..), second half where a much more conservative approach 
is taken. It is rather obvious that a .0, .1 needs more stabilization than a .
12 or a .13

Just food for thought :-)

Even

(*) even bugfix ones, which is admidetly sometimes a bit overkill

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From noreply at qgis.org  Fri Nov 22 23:56:15 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 23 Nov 2019 07:56:15 -0000
Subject: [QGIS-Developer] Plugin [1412] GeoDataFarm approval notification.
Message-ID: <20191123075615.24277.93186@2c6504964296>


Plugin GeoDataFarm approval by pcav.
The plugin version "[1412] GeoDataFarm 2.7.0" is now approved
Link: http://plugins.qgis.org/plugins/geodatafarm/

From cavallini at faunalia.it  Sat Nov 23 00:05:33 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 23 Nov 2019 09:05:33 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <7371034.ZqLjZfdWYd@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
Message-ID: <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>

Hi all,

Il 22/11/19 23:20, Even Rouault ha scritto:

> Or one might consider a mixed approach to have a good compromise of agility vs 
> tighter control:
> - use time-based approach, as done currently, for non-LTR versions.
> - formally approve the release of LTR versions, and important engineering 
> decisions that affect them, as there are the ones with the most user exposure. 
> Sometime ago I also suggested to possibly consider 2 phases in a LTR life-
> cycle: first half where quite "aggressive" backporting is accepted (if it 
> doesn't break API, etc..), second half where a much more conservative approach 
> is taken. It is rather obvious that a .0, .1 needs more stabilization than a .
> 12 or a .13
> 
> Just food for thought :-)
> 
> Even
> 
> (*) even bugfix ones, which is admidetly sometimes a bit overkill
> 

Thanks everybody for the analysis and the proposals.
IMHO the LTR should be as stable as possible, so I agree that changing
things now it's unfortunate.
An alternative is to freeze it, and don't release further updates. Are
there important bugfixes preventing us to do so?
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From tim at kartoza.com  Sat Nov 23 02:22:53 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 23 Nov 2019 10:22:53 +0000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
Message-ID: <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>

Hi Paolo



> On 23 Nov 2019, at 08:05, Paolo Cavallini <cavallini at faunalia.it> wrote:
> 
> Hi all,
> 
> Il 22/11/19 23:20, Even Rouault ha scritto:
> 
>> Or one might consider a mixed approach to have a good compromise of agility vs 
>> tighter control:
>> - use time-based approach, as done currently, for non-LTR versions.
>> - formally approve the release of LTR versions, and important engineering 
>> decisions that affect them, as there are the ones with the most user exposure. 
>> Sometime ago I also suggested to possibly consider 2 phases in a LTR life-
>> cycle: first half where quite "aggressive" backporting is accepted (if it 
>> doesn't break API, etc..), second half where a much more conservative approach 
>> is taken. It is rather obvious that a .0, .1 needs more stabilization than a .
>> 12 or a .13
>> 
>> Just food for thought :-)
>> 
>> Even
>> 
>> (*) even bugfix ones, which is admidetly sometimes a bit overkill
>> 
> 
> Thanks everybody for the analysis and the proposals.
> IMHO the LTR should be as stable as possible, so I agree that changing
> things now it's unfortunate.
> An alternative is to freeze it, and don't release further updates. Are
> there important bugfixes preventing us to do so?

If I understand the situation properly, it is not possible to do this in the OSGEO4W framework (and maybe similar issue in Debian etc) since in OSGEO4W online installer there is only one proj, GDAL etc published and you cannot have e.g. QGIS  3.4.x depending on project 5 and QGIS 3.10.x depending on Proj 6 both both within the same OSGEO4W package tree. I think similar issue arises in Debian. I may be totally misreading the situation (I am sure Jürgen will correct me if I am :-) ).In the OSGEO4W side we would basically need to ask / fund Jürgen to support different packages for different versions of QGIS which I suspect may be a major pain in the butt.

For windows at least we could ‘freeze’ 3.4.x by pointing them to use the standalone installers but then we have an LTR that is not getting bug fixes. As I read Jürgen’s roadmap [1] we still have 4 more bug fix releases of 3.4 before 3.10 becomes LTR, which is quite a long time to have our ’stable’ version out there with no bug fixes.

PR	3.10.1	3.4.14	 	2019-11-29	48	3
PR	3.10.2	3.4.15	 	2019-12-20	51	4
PR/FF	3.10.3	3.4.16	3.11	2020-01-17	3	5
LR/PR	3.12.0	3.10.4	 	2020-02-21	8	4
Regards

Tim



[1] https://www.qgis.org/en/site/getinvolved/development/roadmap.html <https://www.qgis.org/en/site/getinvolved/development/roadmap.html>
> Cheers.
> -- 
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/331dadd5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/331dadd5/attachment-0001.jpg>

From anitagraser at gmx.at  Sat Nov 23 02:29:32 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 23 Nov 2019 11:29:32 +0100
Subject: [QGIS-Developer] Geometry generator expression for line segment
	length
In-Reply-To: <CAFFV8FjFdzMv=V460mTZbG6tVOufOaBCOHz=Ut=Srad763jyww@mail.gmail.com>
References: <CAFFV8FikOXhfHrt8F=sx4NawYRRYivEpP9kN3qwZpo7Rwo2-Vw@mail.gmail.com>
 <CAB28AsjXYAgQkZGTXHNPwMh3itisEjnoKq7bNuqR83CEOH2Z1Q@mail.gmail.com>
 <CAFFV8FjFdzMv=V460mTZbG6tVOufOaBCOHz=Ut=Srad763jyww@mail.gmail.com>
Message-ID: <CAFFV8Fic_KUwftzQLsNQh9SzAyPgsNo6ZXXR6ZJppyWyT8cuLA@mail.gmail.com>

Fixing the code prefix fixed the issue. Thanks Nyall!

Ad proj build: funnily enough, QGIS aboug says "Running against PROJ Rel.
7.0.0, March 1st, 2020"  ... Welcome to the future!

Anita

On Mon, Nov 18, 2019 at 9:36 AM Anita Graser <anitagraser at gmx.at> wrote:

>
>
> On Mon, Nov 18, 2019 at 4:40 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> On Fri, 15 Nov 2019 at 05:34, Anita Graser <anitagraser at gmx.at> wrote:
>> >
>> > Hi,
>> >
>> > I recently noticed that the expression I used in
>> https://anitagraser.com/2016/10/09/movement-data-in-gis-2-visualization/
>> does not work in current QGIS versions anymore. Specifically, I computed
>> the metric length of a line segment by transforming from WGS84 'EPSG:4326'
>> to 'EPSG:54027':
>> >
>> > length(
>> >       transform(
>> >         geometry_n($geometry, at geometry_part_num),
>> >         'EPSG:4326','EPSG:54027'
>> >         )
>> >     )
>> >
>> > While debugging, I found that the transformation is not applied
>> anymore. (Some other EPSG codes do work though.) However, I couldn't figure
>> out how to get this transformation to work again.
>>
>> Is this a proj 6 based build? In any case, EPSG:54027 doesn't exist.
>> The correct code is "ESRI:54027" (see https://epsg.io/54027).
>
>
> Good catch, different four letters starting with E! The issue appeared on
> OSGeo4W so I'll have to check if that means proj6 already. Anyway, I'll
> give the other code a try!
>
> Thanks
> Anita
>
>
>
>
>> It's
>> possible that < proj 6 builds had some exception in place for this
>> particular CRS, but with a proj 6 based build we rely on proj to
>> interpret CRS auth/id pairs so any exceptions in place for earlier
>> QGIS versions won't apply anymore.
>>
>> Nyall
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/33d84637/attachment.html>

From sebastic at xs4all.nl  Sat Nov 23 02:37:55 2019
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Sat, 23 Nov 2019 11:37:55 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
Message-ID: <68548672-8d4d-725f-5b71-582b84971814@xs4all.nl>

On 11/23/19 9:05 AM, Paolo Cavallini wrote:
> IMHO the LTR should be as stable as possible, so I agree that changing
> things now it's unfortunate.

Changing dependencies are pretty much inevitable, LTR needs to adapt to
those or become unusable which defeats the purpose of LTR.

PROJ 6 & GDAL 3 are major changes and updating distributions when QGIS
3.10 supports them well is good time do migrate to them.

We're in the process to migrate to PROJ 6 and GDAL 3 in Debian as well,
we've had PROJ 6 in testing/unstable for a while now and GDAL 3
hopefully follows after the ongoing python3.8 transition. We'll have
QGIS 3.4 LTR built with that for now, until we switch the package to
3.10 once that becomes the new LTR and have the qgis package make full
use of PROJ 6 & GDAL 3.

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

From lists at borysjurgiel.pl  Sat Nov 23 02:52:20 2019
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Sat, 23 Nov 2019 11:52:20 +0100
Subject: [QGIS-Developer] LTR management [was Re:  Delaying 3.10.1?]
In-Reply-To: <7371034.ZqLjZfdWYd@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
Message-ID: <2642884.7hEELmoPP1@debian>

Thanks Even! I was mislead by the hard freeze and had an impression 3.10 is 
going to be more stable than it actually was meant to be. I'm often not sure 
what level of predictability we can expect from the official builds and your 
response shreds more light on it.

And, first of all, big thanks to Nyall for working on fixing it!

Regards,
Borys

Dnia piątek, 22 listopada 2019 23:20:49 CET Even Rouault pisze:
> > QGIS LTR in Windows has also switched from proj 5.x and gdal 2.x to
> > proj 6.x and gdal 3.x which has resulted in some new bugs.
> 
> I see 2 different situations:
> 
> - 3.10 was intended to work with GDAL 3 & PROJ 6 (work started with 3.8 if I
> remember). OSGeo4W received a late upgrade to them because GRASS 7.8 wasn't
> ready yet for them (no offense to the GRASS team !), but devs have been
> able to work against GDAL 3 & PROJ 6, so that wasn't unknown territory.
> Probably that 3.10.0 could have been delayed while OSGeo4W hadn't switched
> to GDAL 3/ PROJ 6, but it wasn't clear when GRASS would be out. So overall
> how the situation was handled doesn't seem that bad for a release
> exercising new major dependencies.
> 
> - I do agree that the switch to GDAL 3 & PROJ 6 for a near end-of-life 3.4
> LTR was unfortunate (but more than the timing, that does not seem
> appropriate for a release which was not designed originally to work with
> them) and I felt -0 on that.
> 
> > It will be additional work for package managers and more resources, but it
> > will be good to have some guidelines on LTR and PRs dependencies for
> > packaging.
> 
> Each LTR should ideally have its own set of dependencies, allowing
> controlled changes of them when needed (adopting a new bugfix version might
> be OK), and allowing the current version to use more aggressively new
> versions of the dependencies. That said, I'm not a packager, and don't know
> the effort & cost associated, but that's clearly an area where the project
> could/should invest. Similar situation is likely to happen again in the
> future.
> 
> I'm also wondering if there shouldn't be a vote, from developers, PSC, bug
> triagers, testers or probably a mix of them forming a representative body,
> to adjudicate:
> - dependency upgrades
> - decision of releasing a new version (most other OSGeo projects I'm
> familiar with rely on a PSC formal vote to issue releases (*)).
> 
> Or one might consider a mixed approach to have a good compromise of agility
> vs tighter control:
> - use time-based approach, as done currently, for non-LTR versions.
> - formally approve the release of LTR versions, and important engineering
> decisions that affect them, as there are the ones with the most user
> exposure. Sometime ago I also suggested to possibly consider 2 phases in a
> LTR life- cycle: first half where quite "aggressive" backporting is
> accepted (if it doesn't break API, etc..), second half where a much more
> conservative approach is taken. It is rather obvious that a .0, .1 needs
> more stabilization than a . 12 or a .13
> 
> Just food for thought :-)
> 
> Even
> 
> (*) even bugfix ones, which is admidetly sometimes a bit overkill





From cavallini at faunalia.it  Sat Nov 23 03:23:12 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 23 Nov 2019 12:23:12 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
 <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
Message-ID: <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>

Hi Tim,

Il 23/11/19 11:22, Tim Sutton ha scritto:


> For windows at least we could ‘freeze’ 3.4.x by pointing them to use the
> standalone installers but then we have an LTR that is not getting bug
> fixes. As I read Jürgen’s roadmap [1] we still have 4 more bug fix
> releases of 3.4 before 3.10 becomes LTR, which is quite a long time to
> have our ’stable’ version out there with no bug fixes.

yes, that's what I meant. It's a kind of bad hack, so as Bas also
pointed out the proper solution is just to go ahead and fix the bugs.
I feel bad about people wasting their time to fix this compatibility bug
that will be useful just for a relatively short period, however.
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From tim at kartoza.com  Sat Nov 23 04:26:04 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 23 Nov 2019 12:26:04 +0000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
 <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
 <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
Message-ID: <9CA965B0-A633-4FCD-A1A7-FF4FA38C654C@kartoza.com>

Hi

We also have situations like this [1] where we are breaking the LTR with. Big bumps in GDAL/PROJ version.

Could we either a) invest QGIS bug fixing money into resolving these or b) adopt a more conservative approach to adopting new versions of libraries?

[1]https://github.com/qgis/QGIS/issues/32953 <https://github.com/qgis/QGIS/issues/32953>

Regards

Tim

> On 23 Nov 2019, at 11:23, Paolo Cavallini <cavallini at faunalia.it> wrote:
> 
> Hi Tim,
> 
> Il 23/11/19 11:22, Tim Sutton ha scritto:
> 
> 
>> For windows at least we could ‘freeze’ 3.4.x by pointing them to use the
>> standalone installers but then we have an LTR that is not getting bug
>> fixes. As I read Jürgen’s roadmap [1] we still have 4 more bug fix
>> releases of 3.4 before 3.10 becomes LTR, which is quite a long time to
>> have our ’stable’ version out there with no bug fixes.
> 
> yes, that's what I meant. It's a kind of bad hack, so as Bas also
> pointed out the proper solution is just to go ahead and fix the bugs.
> I feel bad about people wasting their time to fix this compatibility bug
> that will be useful just for a relatively short period, however.
> Cheers.
> -- 
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/b17cca0a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/b17cca0a/attachment-0001.jpg>

From madmanwoo at gmail.com  Sat Nov 23 04:36:48 2019
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Sat, 23 Nov 2019 22:36:48 +1000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <9CA965B0-A633-4FCD-A1A7-FF4FA38C654C@kartoza.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
 <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
 <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
 <9CA965B0-A633-4FCD-A1A7-FF4FA38C654C@kartoza.com>
Message-ID: <CAAi8Yg-0fvKMda3Y9Cz=gzMamhT+UTTrJ=yrZ=RMEF_35Qk48w@mail.gmail.com>

Hey,

I know it has been said before, but changing the GDAL/Proj version of the
LTR versions is really a no go. It's a breaking change in terms of possible
breakages and just increases risks on a version we need to stay stable.

We are communicating to users they should use the LTR because it's stable
but changing the major dependencies under the hood with new versions breaks
this trust and message.  It would be like changing the Qt version inside an
LTR point release, we just can't do it because it's a full major change
with massive impacts.   The risk of the LTR running on older stacks is seen
as a net positive not a negative when it comes to stability for users.
 The moment we break this trust we lose all the work past work we have put
in to communicate this message, trust is hard to gain and easy to lose.

I'm not sure what the solution here is because I know OSGeo4w doesn't
really support that kind of separation yet but if we have a way to fund
this kind of work I would really like us to consider it (unsure the state
of the budget but this one is critical IMO).  It's going to be an ongoing
issue and something that will always have to be resolved with each LTR as
it moves away from the nightlies with the  dependencies  changing.   I wish
I had the skills and time to help fix this but at the moment all I can
offer is my concern.

Regards,
Nathan

On Sat, Nov 23, 2019 at 10:26 PM Tim Sutton <tim at kartoza.com> wrote:

> Hi
>
> We also have situations like this [1] where we are breaking the LTR with.
> Big bumps in GDAL/PROJ version.
>
> Could we either a) invest QGIS bug fixing money into resolving these or b)
> adopt a more conservative approach to adopting new versions of libraries?
>
> [1]https://github.com/qgis/QGIS/issues/32953
>
> Regards
>
> Tim
>
> On 23 Nov 2019, at 11:23, Paolo Cavallini <cavallini at faunalia.it> wrote:
>
> Hi Tim,
>
> Il 23/11/19 11:22, Tim Sutton ha scritto:
>
>
> For windows at least we could ‘freeze’ 3.4.x by pointing them to use the
> standalone installers but then we have an LTR that is not getting bug
> fixes. As I read Jürgen’s roadmap [1] we still have 4 more bug fix
> releases of 3.4 before 3.10 becomes LTR, which is quite a long time to
> have our ’stable’ version out there with no bug fixes.
>
>
> yes, that's what I meant. It's a kind of bad hack, so as Bas also
> pointed out the proper solution is just to go ahead and fix the bugs.
> I feel bad about people wasting their time to fix this compatibility bug
> that will be useful just for a relatively short period, however.
> Cheers.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> —
>
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> I'd love to connect. Here's my calendar link
> <https://calendly.com/timlinux> to make finding time easy.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/ff56b219/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/ff56b219/attachment.jpg>

From pedrongvenancio at gmail.com  Sat Nov 23 05:47:26 2019
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Sat, 23 Nov 2019 13:47:26 +0000
Subject: [QGIS-Developer] Drill-down forms with multiple selections option
Message-ID: <CAMCJChuwE7FWx+4_szCNTcVkWBpUR+ST9QeSaJp70EcWQ7TcMw@mail.gmail.com>

Hi all,

I'm building a form with two fields of "Value Relation Widgets", one
depending on the other.

This works really well as explained here https://youtu.be/ipezh4KXrgo by
Alessandro, but I would like that both fields have the multiple selections
option.

Here is a sample project:
https://cld.pt/dl/download/db1a1787-0adc-4633-a0c9-356c41f269eb/drilldown_multiple.zip

In that project, I have two shapefiles (one configured without and another
configured with 'Allow multiple selections') and two csv files (Value
Relation sources).

So, without multiple selections option, I simply use
"di" = current_value( 'DISTRITOS')
as filter expression.

This does not work with multiple selections, because this option saves the
multiple values between braces: {Value1,Value2,...}.

So, how could I use the filter here, to have the second field filtered by
the options selected in the first field?

Thank you very much!

Best regards,
Pedro Venâncio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/a79fe7cc/attachment-0001.html>

From kimaidou at gmail.com  Sat Nov 23 06:35:11 2019
From: kimaidou at gmail.com (kimaidou)
Date: Sat, 23 Nov 2019 15:35:11 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAAi8Yg-0fvKMda3Y9Cz=gzMamhT+UTTrJ=yrZ=RMEF_35Qk48w@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
 <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
 <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
 <9CA965B0-A633-4FCD-A1A7-FF4FA38C654C@kartoza.com>
 <CAAi8Yg-0fvKMda3Y9Cz=gzMamhT+UTTrJ=yrZ=RMEF_35Qk48w@mail.gmail.com>
Message-ID: <CAMKXKO6tmct45=BTtU_JKEbfNnrq6ccVbEXwXBYkdWR3D5w0dw@mail.gmail.com>

HI,
I totally agree with Nathan on this topic.
Regards,
Michaël

Le sam. 23 nov. 2019 à 13:37, Nathan Woodrow <madmanwoo at gmail.com> a écrit :

> Hey,
>
> I know it has been said before, but changing the GDAL/Proj version of the
> LTR versions is really a no go. It's a breaking change in terms of possible
> breakages and just increases risks on a version we need to stay stable.
>
> We are communicating to users they should use the LTR because it's stable
> but changing the major dependencies under the hood with new versions breaks
> this trust and message.  It would be like changing the Qt version inside an
> LTR point release, we just can't do it because it's a full major change
> with massive impacts.   The risk of the LTR running on older stacks is seen
> as a net positive not a negative when it comes to stability for users.
>  The moment we break this trust we lose all the work past work we have put
> in to communicate this message, trust is hard to gain and easy to lose.
>
> I'm not sure what the solution here is because I know OSGeo4w doesn't
> really support that kind of separation yet but if we have a way to fund
> this kind of work I would really like us to consider it (unsure the state
> of the budget but this one is critical IMO).  It's going to be an ongoing
> issue and something that will always have to be resolved with each LTR as
> it moves away from the nightlies with the  dependencies  changing.   I wish
> I had the skills and time to help fix this but at the moment all I can
> offer is my concern.
>
> Regards,
> Nathan
>
> On Sat, Nov 23, 2019 at 10:26 PM Tim Sutton <tim at kartoza.com> wrote:
>
>> Hi
>>
>> We also have situations like this [1] where we are breaking the LTR with.
>> Big bumps in GDAL/PROJ version.
>>
>> Could we either a) invest QGIS bug fixing money into resolving these or
>> b) adopt a more conservative approach to adopting new versions of libraries?
>>
>> [1]https://github.com/qgis/QGIS/issues/32953
>>
>> Regards
>>
>> Tim
>>
>> On 23 Nov 2019, at 11:23, Paolo Cavallini <cavallini at faunalia.it> wrote:
>>
>> Hi Tim,
>>
>> Il 23/11/19 11:22, Tim Sutton ha scritto:
>>
>>
>> For windows at least we could ‘freeze’ 3.4.x by pointing them to use the
>> standalone installers but then we have an LTR that is not getting bug
>> fixes. As I read Jürgen’s roadmap [1] we still have 4 more bug fix
>> releases of 3.4 before 3.10 becomes LTR, which is quite a long time to
>> have our ’stable’ version out there with no bug fixes.
>>
>>
>> yes, that's what I meant. It's a kind of bad hack, so as Bas also
>> pointed out the proper solution is just to go ahead and fix the bugs.
>> I feel bad about people wasting their time to fix this compatibility bug
>> that will be useful just for a relatively short period, however.
>> Cheers.
>> --
>> Paolo Cavallini - www.faunalia.eu
>> QGIS.ORG Chair:
>> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> —
>>
>>
>>
>>
>>
>>
>>
>>
>> *Tim Sutton*
>>
>> *Co-founder:* Kartoza
>> *Ex Project chair:* QGIS.org
>>
>> Visit http://kartoza.com to find out about open source:
>>
>> Desktop GIS programming services
>> Geospatial web development
>> GIS Training
>> Consulting Services
>>
>> *Skype*: timlinux
>> *IRC:* timlinux on #qgis at freenode.net
>>
>> I'd love to connect. Here's my calendar link
>> <https://calendly.com/timlinux> to make finding time easy.
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/503c3ebb/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/503c3ebb/attachment-0001.jpg>

From nirvn.asia at gmail.com  Sat Nov 23 08:21:54 2019
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Sat, 23 Nov 2019 23:21:54 +0700
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAMKXKO6tmct45=BTtU_JKEbfNnrq6ccVbEXwXBYkdWR3D5w0dw@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <b143e43a-af0e-8faa-8d08-f3b8922ef8a6@faunalia.it>
 <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
 <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
 <9CA965B0-A633-4FCD-A1A7-FF4FA38C654C@kartoza.com>
 <CAAi8Yg-0fvKMda3Y9Cz=gzMamhT+UTTrJ=yrZ=RMEF_35Qk48w@mail.gmail.com>
 <CAMKXKO6tmct45=BTtU_JKEbfNnrq6ccVbEXwXBYkdWR3D5w0dw@mail.gmail.com>
Message-ID: <CAC_qv=rVmG=A4xyR-PskygjHVuqzV0=CXqq=B66X3phkT3MNfw@mail.gmail.com>

Add to what was said (which I don't disagree with per say). I think it's
important to note that this GDAL3/PROJ6 transition was always going to be
rocky (whether we applied it to 3.4 LTR or delayed it of 4 months when 3.10
LTR will replace 3.4.

One reason being most core developers are on linux distributions, where a
gdal3/proj6 environment isn't available out of the box. Coupled with the
fact that our bank of daily / weekly testers is very small, we're left with
mostly devs (on linux) testing builds (which we've established are vastly
running gdal2).



On Sat, Nov 23, 2019, 21:35 kimaidou <kimaidou at gmail.com> wrote:

> HI,
> I totally agree with Nathan on this topic.
> Regards,
> Michaël
>
> Le sam. 23 nov. 2019 à 13:37, Nathan Woodrow <madmanwoo at gmail.com> a
> écrit :
>
>> Hey,
>>
>> I know it has been said before, but changing the GDAL/Proj version of the
>> LTR versions is really a no go. It's a breaking change in terms of possible
>> breakages and just increases risks on a version we need to stay stable.
>>
>> We are communicating to users they should use the LTR because it's stable
>> but changing the major dependencies under the hood with new versions breaks
>> this trust and message.  It would be like changing the Qt version inside an
>> LTR point release, we just can't do it because it's a full major change
>> with massive impacts.   The risk of the LTR running on older stacks is seen
>> as a net positive not a negative when it comes to stability for users.
>>  The moment we break this trust we lose all the work past work we have put
>> in to communicate this message, trust is hard to gain and easy to lose.
>>
>> I'm not sure what the solution here is because I know OSGeo4w doesn't
>> really support that kind of separation yet but if we have a way to fund
>> this kind of work I would really like us to consider it (unsure the state
>> of the budget but this one is critical IMO).  It's going to be an ongoing
>> issue and something that will always have to be resolved with each LTR as
>> it moves away from the nightlies with the  dependencies  changing.   I wish
>> I had the skills and time to help fix this but at the moment all I can
>> offer is my concern.
>>
>> Regards,
>> Nathan
>>
>> On Sat, Nov 23, 2019 at 10:26 PM Tim Sutton <tim at kartoza.com> wrote:
>>
>>> Hi
>>>
>>> We also have situations like this [1] where we are breaking the LTR
>>> with. Big bumps in GDAL/PROJ version.
>>>
>>> Could we either a) invest QGIS bug fixing money into resolving these or
>>> b) adopt a more conservative approach to adopting new versions of libraries?
>>>
>>> [1]https://github.com/qgis/QGIS/issues/32953
>>>
>>> Regards
>>>
>>> Tim
>>>
>>> On 23 Nov 2019, at 11:23, Paolo Cavallini <cavallini at faunalia.it> wrote:
>>>
>>> Hi Tim,
>>>
>>> Il 23/11/19 11:22, Tim Sutton ha scritto:
>>>
>>>
>>> For windows at least we could ‘freeze’ 3.4.x by pointing them to use the
>>> standalone installers but then we have an LTR that is not getting bug
>>> fixes. As I read Jürgen’s roadmap [1] we still have 4 more bug fix
>>> releases of 3.4 before 3.10 becomes LTR, which is quite a long time to
>>> have our ’stable’ version out there with no bug fixes.
>>>
>>>
>>> yes, that's what I meant. It's a kind of bad hack, so as Bas also
>>> pointed out the proper solution is just to go ahead and fix the bugs.
>>> I feel bad about people wasting their time to fix this compatibility bug
>>> that will be useful just for a relatively short period, however.
>>> Cheers.
>>> --
>>> Paolo Cavallini - www.faunalia.eu
>>> QGIS.ORG Chair:
>>> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>> —
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Tim Sutton*
>>>
>>> *Co-founder:* Kartoza
>>> *Ex Project chair:* QGIS.org
>>>
>>> Visit http://kartoza.com to find out about open source:
>>>
>>> Desktop GIS programming services
>>> Geospatial web development
>>> GIS Training
>>> Consulting Services
>>>
>>> *Skype*: timlinux
>>> *IRC:* timlinux on #qgis at freenode.net
>>>
>>> I'd love to connect. Here's my calendar link
>>> <https://calendly.com/timlinux> to make finding time easy.
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/8f029f07/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/8f029f07/attachment-0001.jpg>

From even.rouault at spatialys.com  Sat Nov 23 08:36:52 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 23 Nov 2019 17:36:52 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
 <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
Message-ID: <2927115.Mx6CgR6IcM@even-i700>

On samedi 23 novembre 2019 12:23:12 CET Paolo Cavallini wrote:
> Hi Tim,
> 
> Il 23/11/19 11:22, Tim Sutton ha scritto:
> > For windows at least we could ‘freeze’ 3.4.x by pointing them to use the
> > standalone installers but then we have an LTR that is not getting bug
> > fixes. As I read Jürgen’s roadmap [1] we still have 4 more bug fix
> > releases of 3.4 before 3.10 becomes LTR, which is quite a long time to
> > have our ’stable’ version out there with no bug fixes.
> 
> yes, that's what I meant. It's a kind of bad hack, so as Bas also
> pointed out the proper solution is just to go ahead and fix the bugs.
> I feel bad about people wasting their time to fix this compatibility bug
> that will be useful just for a relatively short period, however.

I'm pretty sure there will be problems with CRS handling with QGIS 3.4 + 
GDAL3/PROJ6 that will *not* be fixable, due to intended changes of behaviour 
in GDAL3/PROJ6, particularly the export of CRS definition to PROJ strings, 
that QGIS 3.4 still uses it, that is deprecated now and works only in a 
degraded mode regarding export datum information (retrospectively, I should 
probably have completely remove exportToProj4() to make that obvious). QGIS 
3.4 to work properly with GDAL3/PROJ6 would require backporting all the PROJ6 
specific work started with 3.8, which is another big no no.

For example just seing that srs.db in 3.4.13 package has for OSGB36:
parameters (String) = +proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 
+x_0=400000 +y_0=-100000 +ellps=airy +units=m +no_defs
where GDAL 2 based versions have an extra 
+towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 which is 
essential to make things work properly in a PROJ4 string oriented workflow as 
used by 3.4. I'v just tried with a GPKG in WGS84 with a single point in 
England, and a conversion of it to OSGB36 (with ogr2ogr of GDAL 3 or GDAL 2): 
when loaded in 3.4.13 based on GDAL 3, the points are distant of 130 m (which 
is the missing datum shift). Whereas when loaded with 3.4.13 based on GDAL 2 
(or 3.10 with GDAL 3), they overlay properly.

So people dealing with datums != WGS84 should better stick with 3.4.12 on 
Windows currently, if wanting to stay in the 3.4 series.

QGIS 3.4 combined with GDAL3/PROJ6 is a *design* bug, not a regular bug that 
can be fixed.

I don't see why QGIS 3.4 on OSGeo4W using a GDAL 2.4.3 + PROJ 5.2 
wouldn't be technically achievable. Isn't there a gdal and gdal-dev package in 
it, several QGIS variants already ? So why not a gdal2_4 ? Well, I guess that 
doing that now would require creating a grass package that depends on gdal2_4 
etc. So yes, that might be painful to do at that stage. Dunno...

But for the future, I can imagine we could have:
qgis3_10 depending on gdal3 (or possibly even gdal3_0 ?) and proj6 and 
qt_whatever_we_use_currently
And qgis3_12 could decide to upgrade one of its dependencies without impacting 
qgis3_10.

Whatever a hot fix, or a long term solution (pun intended :-)) along the above 
lines or better is chosen, it would seem to me as a very appropriate use of 
funds of the project to investigate what is possible.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com


From jef at norbit.de  Sat Nov 23 08:38:19 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 23 Nov 2019 17:38:19 +0100
Subject: [QGIS-Developer] LTR management [was Re:  Delaying 3.10.1?]
In-Reply-To: <7371034.ZqLjZfdWYd@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
Message-ID: <20191123163819.d37presriwv67q52@norbit.de>

Hi Even,

On Fri, 22. Nov 2019 at 23:20:49 +0100, Even Rouault wrote:
> > QGIS LTR in Windows has also switched from proj 5.x and gdal 2.x to
> > proj 6.x and gdal 3.x which has resulted in some new bugs.
 
> I see 2 different situations:
 
> - 3.10 was intended to work with GDAL 3 & PROJ 6 (work started with 3.8 if I 
> remember). OSGeo4W received a late upgrade to them because GRASS 7.8 wasn't 
> ready yet for them (no offense to the GRASS team !), but devs have been able 
> to work against GDAL 3 & PROJ 6, so that wasn't unknown territory. Probably 
> that 3.10.0 could have been delayed while OSGeo4W hadn't switched to GDAL 3/
> PROJ 6, but it wasn't clear when GRASS would be out.

More background:

* GDAL 3 requires PROJ 6
* QGIS 3.10 has optional features that require GDAL 3,
* GRASS uses OSGeo4W for dependencies on Windows,
* GRASS also contributes the GRASS packages to OSGeo4W,
* GRASS didn't support PROJ 6 & GDAL 3 until quite recently,
* GRASS was therefore blocking the PROJ 6 and GRAL 3 updates in OSGeo4W,
* GRASS' windows builds were not working for quite a while,
* I introduced nightly builds of GDAL 3 and PROJ 6 next to the regular GDAL and
  PROJ packages to OSGeo4W to be able to build the QGIS nightlies against GDAL
  3 - because the main GDAL was blocked and QGIS 3.10 with the optional features
  The release packages were still against GDAL 2.
* The GRASS' builds were only revived after I tried to build myself and
  contributed pull requests to fix their builds (and that still looked quite
  familiar, because it still resembled much what I contributed years ago).
* Those pull requests were also targeting on building GRASS with GDAL 3 and
  PROJ 6 in OSGeo4W and gave an other already pending GRASS pull request (not
  mine) that added GDAL 3 and PROJ 6 support a nudge and it was also merged
  into GRASS 7.8.1.
* When QGIS was released, GRASS was not yet released and there was no clear
  time frame on that.  So in OSGeo4W GDAL was not updated yet and hence QGIS
  was still built GDAL 2 and PROJ 6.
* QGIS 3.4 supports PROJ6 - apparently not many people tried it. The LTR
  nightlies in OSGeo4W were using it and Debian unstable also already provides
  PROJ6.  Not many to test - but also not none.
* People "asked" about the missing GDAL 3 features in QGIS 3.10.
* I prepared testing packages of the upgrades (GDAL 3, PROJ 6, QGIS 3.4 and
  3.10 and more) so that they could be used in the GRASS build, without meanwhile
  breaking the rest.
* Those were taken live along with the GRASS packages once those arrived.

> So overall how the situation was handled doesn't seem that bad for a release
> exercising new major dependencies.

Thank you.

> …

If i had to run this through a committee first, probably nothing of the above
had happend yet and I wouldn't have time left to actually do it.


Jürgen


PS: Windows CI status:
 * appveyor: still times out (after 4 years the limit of 1h still isn't enough)
 * azure pipelines: runs out of disk space (limit 10GB)

PPS: I also need something to punch ;)

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/d8397459/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/d8397459/attachment.ksh>

From jef at norbit.de  Sat Nov 23 08:44:15 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 23 Nov 2019 17:44:15 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <2927115.Mx6CgR6IcM@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <B632F700-2E0D-4389-B1F1-80B9C9F30DEC@kartoza.com>
 <37ee16eb-78ea-6f87-79cd-7321a1052b88@faunalia.it>
 <2927115.Mx6CgR6IcM@even-i700>
Message-ID: <20191123164415.i64tysmt4rzzuedr@norbit.de>

Hi Even,

On Sat, 23. Nov 2019 at 17:36:52 +0100, Even Rouault wrote:
> But for the future, I can imagine we could have:
> qgis3_10 depending on gdal3 (or possibly even gdal3_0 ?) and proj6 and 
> qt_whatever_we_use_currently
> And qgis3_12 could decide to upgrade one of its dependencies without impacting 
> qgis3_10.

Yes, that's the route I might have followed if 3.4 didn't (claim to) support
PROJ 6.

Although I would have sticked with qgis-ltr and qgis and just added proj5 and
gdal2.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/47ccccd9/attachment.sig>

From even.rouault at spatialys.com  Sat Nov 23 08:54:33 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 23 Nov 2019 17:54:33 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191123164415.i64tysmt4rzzuedr@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2927115.Mx6CgR6IcM@even-i700> <20191123164415.i64tysmt4rzzuedr@norbit.de>
Message-ID: <3352606.dIjaHQxyBL@even-i700>

On samedi 23 novembre 2019 17:44:15 CET Jürgen E. Fischer wrote:
> Hi Even,
> 
> On Sat, 23. Nov 2019 at 17:36:52 +0100, Even Rouault wrote:
> > But for the future, I can imagine we could have:
> > qgis3_10 depending on gdal3 (or possibly even gdal3_0 ?) and proj6 and
> > qt_whatever_we_use_currently
> > And qgis3_12 could decide to upgrade one of its dependencies without
> > impacting qgis3_10.
> 
> Yes, that's the route I might have followed if 3.4 didn't (claim to) support
> PROJ 6.

Actually, I *think* that QGIS 3.4 + GDAL 2.4 + PROJ 6 would probably work OK, 
because QGIS 3.4 would still use the legacy proj_api.h. The issue was more 
related to the upgrade to GDAL 3 changing how PROJ.4 strings are exported, and 
thus in practice requiring QGIS to be updated to use the new proj.h 6 API.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From senhor.neto at gmail.com  Sat Nov 23 08:58:27 2019
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Sat, 23 Nov 2019 16:58:27 +0000
Subject: [QGIS-Developer] Drill-down forms with multiple selections
	option
In-Reply-To: <CAMCJChuwE7FWx+4_szCNTcVkWBpUR+ST9QeSaJp70EcWQ7TcMw@mail.gmail.com>
References: <CAMCJChuwE7FWx+4_szCNTcVkWBpUR+ST9QeSaJp70EcWQ7TcMw@mail.gmail.com>
Message-ID: <CA+H0G_HwDQNp84h3tvpxxRyUaxHiGuK3b_jBmPRMpFhzkaH+Vg@mail.gmail.com>

Hi Pedro,

Can't you check if  "di" is present in the {Value1,Value2,...} set?

If needed, you can replace the curly brackets by curved ones and run the
all expression by eval()

Alexandre Neto

A sábado, 23/11/2019, 13:48, Pedro Venâncio <pedrongvenancio at gmail.com>
escreveu:

> Hi all,
>
> I'm building a form with two fields of "Value Relation Widgets", one
> depending on the other.
>
> This works really well as explained here https://youtu.be/ipezh4KXrgo by
> Alessandro, but I would like that both fields have the multiple selections
> option.
>
> Here is a sample project:
> https://cld.pt/dl/download/db1a1787-0adc-4633-a0c9-356c41f269eb/drilldown_multiple.zip
>
> In that project, I have two shapefiles (one configured without and another
> configured with 'Allow multiple selections') and two csv files (Value
> Relation sources).
>
> So, without multiple selections option, I simply use
> "di" = current_value( 'DISTRITOS')
> as filter expression.
>
> This does not work with multiple selections, because this option saves the
> multiple values between braces: {Value1,Value2,...}.
>
> So, how could I use the filter here, to have the second field filtered by
> the options selected in the first field?
>
> Thank you very much!
>
> Best regards,
> Pedro Venâncio
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/f2e00d07/attachment.html>

From tim at kartoza.com  Sat Nov 23 13:25:06 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 23 Nov 2019 21:25:06 +0000
Subject: [QGIS-Developer] LTR management [was Re:  Delaying 3.10.1?]
In-Reply-To: <20191123163819.d37presriwv67q52@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
Message-ID: <7949ED99-5C2A-49A3-AC41-1E9A313A484E@kartoza.com>

Hi

> On 23 Nov 2019, at 16:38, Jürgen E. Fischer <jef at norbit.de> wrote:
> 
Snip 8<--------------
> More background:
> 
> * GDAL 3 requires PROJ 6
> * QGIS 3.10 has optional features that require GDAL 3,
> * GRASS uses OSGeo4W for dependencies on Windows,
> * GRASS also contributes the GRASS packages to OSGeo4W,
> * GRASS didn't support PROJ 6 & GDAL 3 until quite recently,
> * GRASS was therefore blocking the PROJ 6 and GRAL 3 updates in OSGeo4W,
> * GRASS' windows builds were not working for quite a while,
> * I introduced nightly builds of GDAL 3 and PROJ 6 next to the regular GDAL and
>  PROJ packages to OSGeo4W to be able to build the QGIS nightlies against GDAL
>  3 - because the main GDAL was blocked and QGIS 3.10 with the optional features
>  The release packages were still against GDAL 2.
> * The GRASS' builds were only revived after I tried to build myself and
>  contributed pull requests to fix their builds (and that still looked quite
>  familiar, because it still resembled much what I contributed years ago).
> * Those pull requests were also targeting on building GRASS with GDAL 3 and
>  PROJ 6 in OSGeo4W and gave an other already pending GRASS pull request (not
>  mine) that added GDAL 3 and PROJ 6 support a nudge and it was also merged
>  into GRASS 7.8.1.
> * When QGIS was released, GRASS was not yet released and there was no clear
>  time frame on that.  So in OSGeo4W GDAL was not updated yet and hence QGIS
>  was still built GDAL 2 and PROJ 6.
> * QGIS 3.4 supports PROJ6 - apparently not many people tried it. The LTR
>  nightlies in OSGeo4W were using it and Debian unstable also already provides
>  PROJ6.  Not many to test - but also not none.
> * People "asked" about the missing GDAL 3 features in QGIS 3.10.
> * I prepared testing packages of the upgrades (GDAL 3, PROJ 6, QGIS 3.4 and
>  3.10 and more) so that they could be used in the GRASS build, without meanwhile
>  breaking the rest.
> * Those were taken live along with the GRASS packages once those arrived.
> 

8<————snip 

> 
> PPS: I also need something to punch ;)

I know we tend to complain freely and thank frugally so let me also say a big ’thank you’ for the work you put in trying to make your way through this technical stuff, juggling all these competing issues and trying to keep all the different personalities in the project happy. It’s an unenviable task and I really appreciate the level headed and thoughtful way you work through this stuff, thanks!

Thanks likewise to Nyall, just use a punch bag with the flat earth society logo on it so can remember why you are doing all this painful stuff :-P

Regards

Tim

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/99f98ccc/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191123/99f98ccc/attachment-0001.jpg>

From pedrongvenancio at gmail.com  Sat Nov 23 16:58:31 2019
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Sun, 24 Nov 2019 00:58:31 +0000
Subject: [QGIS-Developer] Drill-down forms with multiple selections
	option
In-Reply-To: <CA+H0G_HwDQNp84h3tvpxxRyUaxHiGuK3b_jBmPRMpFhzkaH+Vg@mail.gmail.com>
References: <CAMCJChuwE7FWx+4_szCNTcVkWBpUR+ST9QeSaJp70EcWQ7TcMw@mail.gmail.com>
 <CA+H0G_HwDQNp84h3tvpxxRyUaxHiGuK3b_jBmPRMpFhzkaH+Vg@mail.gmail.com>
Message-ID: <CAMCJCht=nUQA_LP6m_-Ov9rwo_YJg-Rtytctdf9uM3Juic_B2A@mail.gmail.com>

Hi Alexandre,

You are the man!

For the record, I leave the filter expression from Alexandre Neto, that
work like a charm:

eval(' "di" in' + replace(current_value(
'DISTRITOS'),array('{','}','"'),array('(',')','\'')))

Thank you very much Alex!

Best regards,
Pedro


Alexandre Neto <senhor.neto at gmail.com> escreveu no dia sábado, 23/11/2019
à(s) 16:58:

> Hi Pedro,
>
> Can't you check if  "di" is present in the {Value1,Value2,...} set?
>
> If needed, you can replace the curly brackets by curved ones and run the
> all expression by eval()
>
> Alexandre Neto
>
> A sábado, 23/11/2019, 13:48, Pedro Venâncio <pedrongvenancio at gmail.com>
> escreveu:
>
>> Hi all,
>>
>> I'm building a form with two fields of "Value Relation Widgets", one
>> depending on the other.
>>
>> This works really well as explained here https://youtu.be/ipezh4KXrgo by
>> Alessandro, but I would like that both fields have the multiple selections
>> option.
>>
>> Here is a sample project:
>> https://cld.pt/dl/download/db1a1787-0adc-4633-a0c9-356c41f269eb/drilldown_multiple.zip
>>
>> In that project, I have two shapefiles (one configured without and
>> another configured with 'Allow multiple selections') and two csv files
>> (Value Relation sources).
>>
>> So, without multiple selections option, I simply use
>> "di" = current_value( 'DISTRITOS')
>> as filter expression.
>>
>> This does not work with multiple selections, because this option saves
>> the multiple values between braces: {Value1,Value2,...}.
>>
>> So, how could I use the filter here, to have the second field filtered by
>> the options selected in the first field?
>>
>> Thank you very much!
>>
>> Best regards,
>> Pedro Venâncio
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191124/d5d61d87/attachment.html>

From nyall.dawson at gmail.com  Sat Nov 23 20:13:50 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 24 Nov 2019 14:13:50 +1000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191123163819.d37presriwv67q52@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
Message-ID: <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>

On Sun, 24 Nov 2019 at 02:38, Jürgen E. Fischer <jef at norbit.de> wrote:


> > So overall how the situation was handled doesn't seem that bad for a release
> > exercising new major dependencies.

Agreed.

I'd also like to extend Tim's thanks here and publicly state my
appreciation to Jürgen for an extremely difficult, thankless job which
you've done SO well, SO consistently and for SO long.

(And also +1 to whoever said that this was **always** going to be a
very tricky transition for the opensource geo world.It's a good thing,
but thanks to proj6 the entire software stack has been *forced* to
mature and adapt to modern, accurate projection handling and it's
causing/caused pain all round. At least we're mostly through the worst
now and it's now the users and geospatial analysts who are being
forced to mature and skill up as a consequence! And all those "data
scientists" who blundered around thinking spatial was just numeric x/y
coordinates have an even worse learning curve inbound...!)

Moving forward, I'm thinking/wondering:

Regarding 3.10.1: there's been some work in GDAL and PROJ which may
help resolve the issue which triggered this discussion. I'll test
tomorrow. I also think there's potential hacky workaround we could
implement if we avoid re-using existing PROJ context objects in
certain places (albeit with a performance hit as a result), which I'm
going to explore tomorrow as a band-aid so that we can unblock the
release.

Regarding 3.4: One option we should explore is just freezing the
Windows releases at 3.4.13, and leaving 3.4.13 as the final supported
3.4 release for Windows. (For reference, 3.4.16 is the planned final
3.4.x release, so we'd "lose" 3 months of supported new releases). I'd
personally be +1 to this, given that the existing infrastructure
cannot be easily modified to allow a proj4 based build, and adding
this support is far from trivial. While it's not ideal, I think
finalizing the Windows releases at 3.4.13 is much less risk and better
for our users then risking projection handling issues. (For full
disclosure of information I've included a list of fixes as [1] which
are included in 3.4.14 at the time of writing which would NOT be
available for Windows users as a result)


Nyall

[1]
QgsVectorFileWriter: fix axis order issue with GDAL 3 (fixes #33014)
Merge pull request #33003 from rldhont/backport-32800-to-release-3_4
Fix broken QMap<QVariantList,...> finding, which causes
case-insensitive comparisons to be made when resolving primary keys in
the Oracle and Postgres providers
[Server] Update WMS GetProjectSettings tests for round extent in GetCapabilities
[Server] Test WCS Access Control: update comment
[Server] Update WCS tests for round extent in GetCapabilities
[Server] Update WMS tests for round extent in GetCapabilities
[Server] Update WFS tests for round extent in GetCapabilities
[Server] Update WMTS tests for round extent in GetCapabilities
[Server] tests: Add masks
[Bugfix][Server] Use floor and ceil for round extent coordinates in
services capabilities
[Bugfix][Server] Correctly round extent coordinates in services capabilities
Wrong label in UI for "Create point for each part" on "Centroids"
processing algorithm #32940 - Backport to 3.4
debian packaging: python-gdal still needed for gdal python scripts
Merge pull request #32749 from qgis/backport-32743-to-release-3_4
database style manager: translatable & title case
custom widgets: fix designer crash (fixes #32860)
debian packaging: drop python-gdal dependency (closes #32835) [ci skip]
qgsfunction: replace deprecated inspect.getargspec() to inspect.getfullargspec()
oracle provider: log when ROWID is used for a missing primary key
(closes #32648)
also track newer CIFS
translation string fix
Merge pull request #32460 from alexbruy/backport-32455-to-release-3_4
osgeo4w: fix nightlies (followup 766149b1b6)
In case it is needed: Update Rasterize.py for 3.4 (backport of master commit)
Update CreateConstantRaster.py
Merge pull request #32793 from
rldhont/fix-server-wfs-add-primary-keys-to-request-for-fid-34
osgeo4w: build with proj 6 and gdal 3
Fix const
[Bugfix][Server] WFS: Add primary keys to request to build Server Feature Id
Fix PG 12 constraints check (provider side)
Fix crash when deactivating vertex editor (fixes #32685)
Fix postgis 12 adscr -> adbin consrc -> conbin
"fix" gdal_calc creation options
Merge pull request #32572 from qgis/backport-32527-to-release-3_4
osgeo4w: detect grass78
[RPM] Update sip references in spec file
Fix copy items from value map configuration
[processing] allow to select files without suffix in the Processing
options dialog
fix wronng paste
fix SAGA Slope, Aspect, Curvature
dwg/dxf import: * fix orientation of TEXT entities * also clean TEXT
strings * support non-origin-based blocks * support extrusion








>
> Thank you.
>
> > …
>
> If i had to run this through a committee first, probably nothing of the above
> had happend yet and I wouldn't have time left to actually do it.
>
>
> Jürgen
>
>
> PS: Windows CI status:
>  * appveyor: still times out (after 4 years the limit of 1h still isn't enough)
>  * azure pipelines: runs out of disk space (limit 10GB)
>
> PPS: I also need something to punch ;)
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden            https://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Sun Nov 24 00:09:50 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 24 Nov 2019 18:09:50 +1000
Subject: [QGIS-Developer] heads up: backport bot broken
In-Reply-To: <CAB28AsjyJA=TSOFrFYb_xpxiTswQQbjYkOcUt+7iyfzWh_tcVQ@mail.gmail.com>
References: <CAB28AsjyJA=TSOFrFYb_xpxiTswQQbjYkOcUt+7iyfzWh_tcVQ@mail.gmail.com>
Message-ID: <CAB28AsitBDcDqmodK7UJU5dD-Dos5B++ufqTiGPAmXs6mbmSzQ@mail.gmail.com>

On Tue, 19 Nov 2019 at 17:15, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> Hi all,
>
> Just a heads-up -- the backport bot seems to be down at the moment, so
> if you're trying to get backported fixes into 3.10.1 later this week
> I'd suggest taking care to manually backport!
>

And the sad news -- this bot is now no longer fit for our purposes due
to recent upstream changes.

Backporting via labels is now officially dead*.

Nyall

*unless someone magically finds time to fork the earlier version and
adapt for our requirements...

From tim at kartoza.com  Sun Nov 24 00:46:40 2019
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 24 Nov 2019 08:46:40 +0000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
Message-ID: <03FCB55A-0433-4C35-BC13-95CBE6D2AE20@kartoza.com>

Hi

Also Jürgen and Nyall: is there anything the PSC could be funding to help you allocate the time needed to help get things to a good conclusion? PSC this is IMHO be a better use of overflow funds right now than e.g. windows CI infrastructure.

Regards

Tim

> On 24 Nov 2019, at 04:13, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On Sun, 24 Nov 2019 at 02:38, Jürgen E. Fischer <jef at norbit.de> wrote:
> 
> 
>>> So overall how the situation was handled doesn't seem that bad for a release
>>> exercising new major dependencies.
> 
> Agreed.
> 
> I'd also like to extend Tim's thanks here and publicly state my
> appreciation to Jürgen for an extremely difficult, thankless job which
> you've done SO well, SO consistently and for SO long.
> 
> (And also +1 to whoever said that this was **always** going to be a
> very tricky transition for the opensource geo world.It's a good thing,
> but thanks to proj6 the entire software stack has been *forced* to
> mature and adapt to modern, accurate projection handling and it's
> causing/caused pain all round. At least we're mostly through the worst
> now and it's now the users and geospatial analysts who are being
> forced to mature and skill up as a consequence! And all those "data
> scientists" who blundered around thinking spatial was just numeric x/y
> coordinates have an even worse learning curve inbound...!)
> 
> Moving forward, I'm thinking/wondering:
> 
> Regarding 3.10.1: there's been some work in GDAL and PROJ which may
> help resolve the issue which triggered this discussion. I'll test
> tomorrow. I also think there's potential hacky workaround we could
> implement if we avoid re-using existing PROJ context objects in
> certain places (albeit with a performance hit as a result), which I'm
> going to explore tomorrow as a band-aid so that we can unblock the
> release.
> 
> Regarding 3.4: One option we should explore is just freezing the
> Windows releases at 3.4.13, and leaving 3.4.13 as the final supported
> 3.4 release for Windows. (For reference, 3.4.16 is the planned final
> 3.4.x release, so we'd "lose" 3 months of supported new releases). I'd
> personally be +1 to this, given that the existing infrastructure
> cannot be easily modified to allow a proj4 based build, and adding
> this support is far from trivial. While it's not ideal, I think
> finalizing the Windows releases at 3.4.13 is much less risk and better
> for our users then risking projection handling issues. (For full
> disclosure of information I've included a list of fixes as [1] which
> are included in 3.4.14 at the time of writing which would NOT be
> available for Windows users as a result)
> 
> 
> Nyall
> 
> [1]
> QgsVectorFileWriter: fix axis order issue with GDAL 3 (fixes #33014)
> Merge pull request #33003 from rldhont/backport-32800-to-release-3_4
> Fix broken QMap<QVariantList,...> finding, which causes
> case-insensitive comparisons to be made when resolving primary keys in
> the Oracle and Postgres providers
> [Server] Update WMS GetProjectSettings tests for round extent in GetCapabilities
> [Server] Test WCS Access Control: update comment
> [Server] Update WCS tests for round extent in GetCapabilities
> [Server] Update WMS tests for round extent in GetCapabilities
> [Server] Update WFS tests for round extent in GetCapabilities
> [Server] Update WMTS tests for round extent in GetCapabilities
> [Server] tests: Add masks
> [Bugfix][Server] Use floor and ceil for round extent coordinates in
> services capabilities
> [Bugfix][Server] Correctly round extent coordinates in services capabilities
> Wrong label in UI for "Create point for each part" on "Centroids"
> processing algorithm #32940 - Backport to 3.4
> debian packaging: python-gdal still needed for gdal python scripts
> Merge pull request #32749 from qgis/backport-32743-to-release-3_4
> database style manager: translatable & title case
> custom widgets: fix designer crash (fixes #32860)
> debian packaging: drop python-gdal dependency (closes #32835) [ci skip]
> qgsfunction: replace deprecated inspect.getargspec() to inspect.getfullargspec()
> oracle provider: log when ROWID is used for a missing primary key
> (closes #32648)
> also track newer CIFS
> translation string fix
> Merge pull request #32460 from alexbruy/backport-32455-to-release-3_4
> osgeo4w: fix nightlies (followup 766149b1b6)
> In case it is needed: Update Rasterize.py for 3.4 (backport of master commit)
> Update CreateConstantRaster.py
> Merge pull request #32793 from
> rldhont/fix-server-wfs-add-primary-keys-to-request-for-fid-34
> osgeo4w: build with proj 6 and gdal 3
> Fix const
> [Bugfix][Server] WFS: Add primary keys to request to build Server Feature Id
> Fix PG 12 constraints check (provider side)
> Fix crash when deactivating vertex editor (fixes #32685)
> Fix postgis 12 adscr -> adbin consrc -> conbin
> "fix" gdal_calc creation options
> Merge pull request #32572 from qgis/backport-32527-to-release-3_4
> osgeo4w: detect grass78
> [RPM] Update sip references in spec file
> Fix copy items from value map configuration
> [processing] allow to select files without suffix in the Processing
> options dialog
> fix wronng paste
> fix SAGA Slope, Aspect, Curvature
> dwg/dxf import: * fix orientation of TEXT entities * also clean TEXT
> strings * support non-origin-based blocks * support extrusion
> 
> 
> 
> 
> 
> 
> 
> 
>> 
>> Thank you.
>> 
>>> …
>> 
>> If i had to run this through a committee first, probably nothing of the above
>> had happend yet and I wouldn't have time left to actually do it.
>> 
>> 
>> Jürgen
>> 
>> 
>> PS: Windows CI status:
>> * appveyor: still times out (after 4 years the limit of 1h still isn't enough)
>> * azure pipelines: runs out of disk space (limit 10GB)
>> 
>> PPS: I also need something to punch ;)
>> 
>> --
>> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
>> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
>> Software Engineer           D-26506 Norden            https://www.norbit.de
>> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191124/1ce89d27/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191124/1ce89d27/attachment-0001.jpg>

From cavallini at faunalia.it  Sun Nov 24 01:44:49 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun, 24 Nov 2019 10:44:49 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
Message-ID: <551bf3acd7fca951a52e234c2baf9483@faunalia.it>

Hi Nyall, all

Il 2019-11-24 05:13 Nyall Dawson ha scritto:
> Regarding 3.4: One option we should explore is just freezing the
> Windows releases at 3.4.13, and leaving 3.4.13 as the final supported
> 3.4 release for Windows. (For reference, 3.4.16 is the planned final
> 3.4.x release, so we'd "lose" 3 months of supported new releases). I'd
> personally be +1 to this, given that the existing infrastructure
> cannot be easily modified to allow a proj4 based build, and adding
> this support is far from trivial. While it's not ideal, I think
> finalizing the Windows releases at 3.4.13 is much less risk and better
> for our users then risking projection handling issues. (For full
> disclosure of information I've included a list of fixes as [1] which
> are included in 3.4.14 at the time of writing which would NOT be
> available for Windows users as a result)

This is what I suggested, that's why I asked whether there are very 
important bugfixes until now. An alternative would be to keep on 
releasing new versions, issuing a big warning about the risks and 
complications involved, so as to leave the responsibility in the hands 
of users.
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From even.rouault at spatialys.com  Sun Nov 24 04:37:35 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 24 Nov 2019 13:37:35 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
Message-ID: <2965226.5Injajcxgd@even-i700>

> I'd also like to extend Tim's thanks here and publicly state my
> appreciation to Jürgen for an extremely difficult, thankless job which
> you've done SO well, SO consistently and for SO long.

I "third" this appreciation !

> Regarding 3.4: One option we should explore is just freezing the
> Windows releases at 3.4.13

That would rather be 3.4.12 to have the last built based on GDAL 2.4 + PROJ 5, 
no ? At least for the standalone installer

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From andreaerdna at libero.it  Sun Nov 24 08:24:36 2019
From: andreaerdna at libero.it (andreaerdna)
Date: Sun, 24 Nov 2019 09:24:36 -0700 (MST)
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <2965226.5Injajcxgd@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <1574426839485-0.post@n6.nabble.com> <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
 <2965226.5Injajcxgd@even-i700>
Message-ID: <1574612676074-0.post@n6.nabble.com>

Even Rouault-2 wrote
> That would rather be 3.4.12 to have the last built based on GDAL 2.4 +
> PROJ 5, 
> no ? At least for the standalone installer

If I'm not wrong, there are:

- QGIS-OSGeo4W-3.4.12-1
- QGIS-OSGeo4W-3.4.13-1
both with GDAL 2.4.1 + PROJ 5.2.0 (+ proj4dll 4.9.3)

and
- QGIS-OSGeo4W-3.4.13-2
with GDAL 3.0.2 + PROJ 6.2.1

Best regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jef at norbit.de  Sun Nov 24 12:16:49 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sun, 24 Nov 2019 21:16:49 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <1574612676074-0.post@n6.nabble.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <1574426839485-0.post@n6.nabble.com> <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
 <2965226.5Injajcxgd@even-i700> <1574612676074-0.post@n6.nabble.com>
Message-ID: <20191124201649.aspus3xrrgiqtyku@norbit.de>

Hi Andrea,

On Sun, 24. Nov 2019 at 09:24:36 -0700, andreaerdna wrote:
> Even Rouault-2 wrote
> > That would rather be 3.4.12 to have the last built based on GDAL 2.4 +
> > PROJ 5, 
> > no ? At least for the standalone installer

> If I'm not wrong, there are:
 
> - QGIS-OSGeo4W-3.4.12-1
> - QGIS-OSGeo4W-3.4.13-1
> both with GDAL 2.4.1 + PROJ 5.2.0 (+ proj4dll 4.9.3)
> 
> and
> - QGIS-OSGeo4W-3.4.13-2
> with GDAL 3.0.2 + PROJ 6.2.1

You are right.



Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191124/4fb58044/attachment.sig>

From nyall.dawson at gmail.com  Sun Nov 24 20:24:56 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 25 Nov 2019 14:24:56 +1000
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <CAB28AsgxZ12==b6iB4mEn5GedeHc9=uPHFhiZswDMnQyPBVZ3Q@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191122074323.zes5o3lqfqmkoygk@norbit.de>
 <CAB28AsgxZ12==b6iB4mEn5GedeHc9=uPHFhiZswDMnQyPBVZ3Q@mail.gmail.com>
Message-ID: <CAB28Asjr7E5OTvJY9w8oaBrucYbmL4Wuz54D8ot=rW8pEqcyhw@mail.gmail.com>

On Sat, 23 Nov 2019 at 08:16, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> On Fri, 22 Nov 2019 at 17:43, Jürgen E. Fischer <jef at norbit.de> wrote:
> >
> > Hi Nyall,
> >
> > On Fri, 22. Nov 2019 at 17:17:07 +1000, Nyall Dawson wrote:
> > > But I'd love a couple of days to keep digging, if that's at all possible....
> >
> > Black friday?  Ok.
> >
>
> Thanks for the understanding and flexibility! I'll dig back into this
> first thing Monday morning, when I'm back in the office.

Ok, thanks to a **marathon** debugging effort from Even, we have a fix
inbound -- https://github.com/OSGeo/PROJ/pull/1746 (and a minor
related one on the QGIS side at
https://github.com/qgis/QGIS/pull/33049).

Looks like we'll need to cherry-pick the PROJ fix into the osgeo4w
build in order to resolve the blocking issue in QGIS.

Nyall











>
>
>
> >
> > Jürgen
> >
> > --
> > Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> > Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> > Software Engineer           D-26506 Norden            https://www.norbit.de
> > QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode

From nyall.dawson at gmail.com  Sun Nov 24 20:27:17 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 25 Nov 2019 14:27:17 +1000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <551bf3acd7fca951a52e234c2baf9483@faunalia.it>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
 <551bf3acd7fca951a52e234c2baf9483@faunalia.it>
Message-ID: <CAB28AsiB-0VsfVPPtLWxXL6oKb1dJawBWdMbdgQsutsVsSRjog@mail.gmail.com>

> An alternative would be to keep on
> releasing new versions, issuing a big warning about the risks and
> complications involved, so as to leave the responsibility in the hands
> of users.

I may be skeptical and underestimate our users, but I honestly
wouldn't feel comfortable placing this choice into users hands. I just
don't think an end-user would be able to grasp the full complexities
of the situation here and the possible repercussions.

> - QGIS-OSGeo4W-3.4.13-1
> both with GDAL 2.4.1 + PROJ 5.2.0 (+ proj4dll 4.9.3)
>
> and
> - QGIS-OSGeo4W-3.4.13-2
> with GDAL 3.0.2 + PROJ 6.2.1

> You are right.

So we could revert to 3.4.13-1 and leave that as the final 3.4 windows release?

Nyall

From noreply at qgis.org  Sun Nov 24 23:27:01 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 25 Nov 2019 07:27:01 -0000
Subject: [QGIS-Developer] Plugin [1865] Spectre Viewer approval notification.
Message-ID: <20191125072701.32533.68478@2c6504964296>


Plugin Spectre Viewer approval by pcav.
The plugin version "[1865] Spectre Viewer 0.92" is now approved
Link: http://plugins.qgis.org/plugins/qgisSpectre/

From rdbath.regiodata at gmail.com  Mon Nov 25 00:50:37 2019
From: rdbath.regiodata at gmail.com (Thomas Baumann)
Date: Mon, 25 Nov 2019 09:50:37 +0100
Subject: [QGIS-Developer] crssync.exe crash during QGIS build
Message-ID: <CAD3koGmYJaZP88UXyqWtJz2J3N3jSS3O8XCPHUhvt4XWbTJX8Q@mail.gmail.com>

Hi Devs,
I managed to build QGIS under linux and windows with QTCreator.
What still doesn't work is building QGIS with visual developer.

I followed instructions like
https://github.com/qgis/QGIS/blob/master/INSTALL#L423
https://www.shaeffer.co/compiling-qgis-with-visual-studio/
https://www.cursosgis.com/compilar-y-debuggear-qgis-en-windows/

but everytime I try to build QGIS within Visual Developer crssync.exe
crashes and when I try to start the debugger I get the error message that
qgis_app.dll is missing even if the file is in the folder where qgis.exe is
also located:
C:\Projects\QGIS\ms-windows\osgeo4w\build-qgis-test-x86_64\output\bin\RelWithDebInfo


Does someone know how to find out what is causing the problem?

I rebuilt qgis_app, qgis_core and crssync separately within visual
developer. All of them succeeded but the ALL_Build/Debugging still doesn't
work.

---
Problemsignatur:
  Problemereignisname: APPCRASH
  Anwendungsname: crssync.exe
  Anwendungsversion: 0.0.0.0
  Anwendungszeitstempel: 5ddb8f23
  Fehlermodulname: qgis_core.dll
  Fehlermodulversion: 6.3.9600.19464
  Fehlermodulzeitstempel: 5d6727f2
  Ausnahmecode: c0000135
  Ausnahmeoffset: 00000000000ecf30
  Betriebsystemversion: 6.3.9600.2.0.0.272.7

regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/0c7c3f59/attachment.html>

From a.neumann at carto.net  Mon Nov 25 01:52:51 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 25 Nov 2019 10:52:51 +0100
Subject: [QGIS-Developer] Temporary folders for processing
Message-ID: <5e0c8de334c8f7519de4227367e411e0@carto.net>

Hi, 

I would like to know where the temporary files of QGIS processing are
stored? I know that there is a setting for default output files
(defaults on Windows to
C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs
- but is this really the same location where also temporary files that
are needed during the processing are stored? 

Our issues is that several users share Windows servers and the C
partition is only 80GB in size. If 5-10 users are sharing one Windows
server, we fear that our C drive is filled really quickly. 

Can we set another temporary drive/folder than
"C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs"
? If yes, where do I find this setting? 

Thank you for your help, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/6f03e4d4/attachment.html>

From madmanwoo at gmail.com  Mon Nov 25 01:57:40 2019
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Mon, 25 Nov 2019 19:57:40 +1000
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <5e0c8de334c8f7519de4227367e411e0@carto.net>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
Message-ID: <CAAi8Yg-anhXuQyW3nSCGbpOzA=yR=fy=00CJH20XCnFOB_wRXw@mail.gmail.com>

Hey,

They should be going into whatever %TEMP% is set as: In my case that
is C:/Users/Nathan/AppData/Local/Temp/
and running one of the GDAL commands outputs this:

C:/Users/Nathan/AppData/Local/Temp/processing_95803a9cdde54b1f8e28633e7fc16ccb/2834f0fd8fc4455485a212fb405c38c8/OUTPUT.gpkg


Regards,

Nathan

On Mon, Nov 25, 2019 at 7:53 PM Andreas Neumann <a.neumann at carto.net> wrote:

> Hi,
>
> I would like to know where the temporary files of QGIS processing are
> stored? I know that there is a setting for default output files (defaults
> on Windows
> to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs
> - but is this really the same location where also temporary files that are
> needed during the processing are stored?
>
> Our issues is that several users share Windows servers and the C partition
> is only 80GB in size. If 5-10 users are sharing one Windows server, we fear
> that our C drive is filled really quickly.
>
> Can we set another temporary drive/folder than
> "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs"
> ? If yes, where do I find this setting?
>
> Thank you for your help,
>
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/daa85e8d/attachment-0001.html>

From a.neumann at carto.net  Mon Nov 25 02:00:07 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 25 Nov 2019 11:00:07 +0100
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <CAAi8Yg-anhXuQyW3nSCGbpOzA=yR=fy=00CJH20XCnFOB_wRXw@mail.gmail.com>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
 <CAAi8Yg-anhXuQyW3nSCGbpOzA=yR=fy=00CJH20XCnFOB_wRXw@mail.gmail.com>
Message-ID: <54e3054e871a5d05af000282e3f44f70@carto.net>

Hi Nathan, 

So it is using the %TEMP% environment variable of the Windows system? 

Ok - that helps. Thanks for the hint! 

Andreas 

On 2019-11-25 10:57, Nathan Woodrow wrote:

> Hey, 
> 
> They should be going into whatever %TEMP% is set as: In my case that is C:/Users/Nathan/AppData/Local/Temp/ and running one of the GDAL commands outputs this: 
> 
> C:/Users/Nathan/AppData/Local/Temp/processing_95803a9cdde54b1f8e28633e7fc16ccb/2834f0fd8fc4455485a212fb405c38c8/OUTPUT.gpkg 
> 
> Regards, 
> 
> Nathan 
> 
> On Mon, Nov 25, 2019 at 7:53 PM Andreas Neumann <a.neumann at carto.net> wrote: 
> 
>> Hi, 
>> 
>> I would like to know where the temporary files of QGIS processing are stored? I know that there is a setting for default output files (defaults on Windows to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs - but is this really the same location where also temporary files that are needed during the processing are stored? 
>> 
>> Our issues is that several users share Windows servers and the C partition is only 80GB in size. If 5-10 users are sharing one Windows server, we fear that our C drive is filled really quickly. 
>> 
>> Can we set another temporary drive/folder than "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs" ? If yes, where do I find this setting? 
>> 
>> Thank you for your help, 
>> 
>> Andreas 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/c27dba3c/attachment.html>

From alexander.bruy at gmail.com  Mon Nov 25 02:06:47 2019
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Mon, 25 Nov 2019 12:06:47 +0200
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <5e0c8de334c8f7519de4227367e411e0@carto.net>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
Message-ID: <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>

Hi Andreas,

Processing keeps al temporary files and outputs in the user temporary folder,
e.g. C:\Usres\user\AppData\Local\Temp\ on WIndows by default and /tmp on Linux.



пн, 25 лист. 2019 о 11:53 Andreas Neumann <a.neumann at carto.net> пише:
>
> Hi,
>
> I would like to know where the temporary files of QGIS processing are stored? I know that there is a setting for default output files (defaults on Windows to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs - but is this really the same location where also temporary files that are needed during the processing are stored?
>
> Our issues is that several users share Windows servers and the C partition is only 80GB in size. If 5-10 users are sharing one Windows server, we fear that our C drive is filled really quickly.
>
> Can we set another temporary drive/folder than "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs" ? If yes, where do I find this setting?
>
> Thank you for your help,
>
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From a.neumann at carto.net  Mon Nov 25 02:08:58 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 25 Nov 2019 11:08:58 +0100
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
 <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>
Message-ID: <6b8fa47bba2504ed7b143d385fc09a3f@carto.net>

Thanks Nathan and Alex.  

My follow-up question is: when are these temporary files
cleaned/removed? I assume after the process finished - but what happens
if QGIS crashes wile processing is running? Will QGIS clean up the old
temporary files when it is started the next time? 

Thanks, 

Andreas 

On 2019-11-25 11:06, Alexander Bruy wrote:

> Hi Andreas,
> 
> Processing keeps al temporary files and outputs in the user temporary folder,
> e.g. C:\Usres\user\AppData\Local\Temp\ on WIndows by default and /tmp on Linux.
> 
> пн, 25 лист. 2019 о 11:53 Andreas Neumann <a.neumann at carto.net> пише: 
> 
>> Hi,
>> 
>> I would like to know where the temporary files of QGIS processing are stored? I know that there is a setting for default output files (defaults on Windows to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs - but is this really the same location where also temporary files that are needed during the processing are stored?
>> 
>> Our issues is that several users share Windows servers and the C partition is only 80GB in size. If 5-10 users are sharing one Windows server, we fear that our C drive is filled really quickly.
>> 
>> Can we set another temporary drive/folder than "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs" ? If yes, where do I find this setting?
>> 
>> Thank you for your help,
>> 
>> Andreas
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/72ef59a7/attachment.html>

From noreply at qgis.org  Mon Nov 25 03:18:31 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 25 Nov 2019 11:18:31 -0000
Subject: [QGIS-Developer] Plugin [1803] Get Them Filtered approval
	notification.
Message-ID: <20191125111831.32600.59313@2c6504964296>


Plugin Get Them Filtered approval by pcav.
The plugin version "[1803] Get Them Filtered 0.1.1" is now approved
Link: http://plugins.qgis.org/plugins/getthemfiltered/

From alexander.bruy at gmail.com  Mon Nov 25 03:23:47 2019
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Mon, 25 Nov 2019 13:23:47 +0200
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <6b8fa47bba2504ed7b143d385fc09a3f@carto.net>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
 <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>
 <6b8fa47bba2504ed7b143d385fc09a3f@carto.net>
Message-ID: <CALuHMPD44E119rKBaUFH3bxnfnLT=1zH4OKDCbz3n5Y0wJ-8CA@mail.gmail.com>

Temporary files are removed on QGIS exit, so if it crashes these files
will be left
untouched. AFAIK on the next run it won't be removed, as folder name is unique
between runs.

пн, 25 лист. 2019 о 12:09 Andreas Neumann <a.neumann at carto.net> пише:
>
> Thanks Nathan and Alex.
>
> My follow-up question is: when are these temporary files cleaned/removed? I assume after the process finished - but what happens if QGIS crashes wile processing is running? Will QGIS clean up the old temporary files when it is started the next time?
>
> Thanks,
>
> Andreas
>
> On 2019-11-25 11:06, Alexander Bruy wrote:
>
> Hi Andreas,
>
> Processing keeps al temporary files and outputs in the user temporary folder,
> e.g. C:\Usres\user\AppData\Local\Temp\ on WIndows by default and /tmp on Linux.
>
>
>
> пн, 25 лист. 2019 о 11:53 Andreas Neumann <a.neumann at carto.net> пише:
>
>
> Hi,
>
> I would like to know where the temporary files of QGIS processing are stored? I know that there is a setting for default output files (defaults on Windows to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs - but is this really the same location where also temporary files that are needed during the processing are stored?
>
> Our issues is that several users share Windows servers and the C partition is only 80GB in size. If 5-10 users are sharing one Windows server, we fear that our C drive is filled really quickly.
>
> Can we set another temporary drive/folder than "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs" ? If yes, where do I find this setting?
>
> Thank you for your help,
>
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>


-- 
Alexander Bruy

From even.rouault at spatialys.com  Mon Nov 25 04:19:35 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 25 Nov 2019 13:19:35 +0100
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <CAB28Asjr7E5OTvJY9w8oaBrucYbmL4Wuz54D8ot=rW8pEqcyhw@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <CAB28AsgxZ12==b6iB4mEn5GedeHc9=uPHFhiZswDMnQyPBVZ3Q@mail.gmail.com>
 <CAB28Asjr7E5OTvJY9w8oaBrucYbmL4Wuz54D8ot=rW8pEqcyhw@mail.gmail.com>
Message-ID: <17910679.zQ0DGr2T8D@even-i700>

> Ok, thanks to a **marathon** debugging effort from Even, we have a fix
> inbound -- https://github.com/OSGeo/PROJ/pull/1746

Now merged in PROJ master.
Cherry-picked in PROJ 6.2 branch per
https://github.com/OSGeo/PROJ/commit/bce4b158ab5f7d146de8e8fc98df4612dc8c2c9e

> 
> Looks like we'll need to cherry-pick the PROJ fix into the osgeo4w
> build in order to resolve the blocking issue in QGIS.

I would also suggest applying commit
https://github.com/OSGeo/gdal/commit/bec5fbd4fbf5d69a8386b920f0dd6d951eceb117
(which applies to GDAL 3.0 branch)
on top of the 3.0.2 release
This fixes a subtle multi-threading bug that causes memory corruption and
could likely be the source of crashes at random times

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From noreply at qgis.org  Mon Nov 25 04:58:25 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 25 Nov 2019 12:58:25 -0000
Subject: [QGIS-Developer] Plugin [1890] Freehand Editing 3 approval
	notification.
Message-ID: <20191125125825.32533.30717@2c6504964296>


Plugin Freehand Editing 3 approval by pcav.
The plugin version "[1890] Freehand Editing 3 1.1.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/freehandEditing3/

From even.rouault at spatialys.com  Mon Nov 25 05:14:51 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 25 Nov 2019 14:14:51 +0100
Subject: [QGIS-Developer] Fwd: Call for review on RFC 4 text: Remote access
	to grids and GeoTIFF grids
Message-ID: <2476988.7fhkjSkLIE@even-i700>

Hi,

the below can be of interest for QGIS in the future.

Particularly the part that describes a capability to access grids stored remotely:
https://github.com/rouault/PROJ/blob/rfc4_remote_and_geotiff_grid/docs/source/community/rfc/rfc-4.rst#network-access-to-grids

and more specifically I'd be interested in hearing if the proposed callback mechanism
intended to make QGIS able to plug its networking mechanisms into PROJ looks reasonable.

Even

----------  Forwarded Message  ----------

Subject: Call for review on RFC 4 text: Remote access to grids and GeoTIFF grids
Date: lundi 25 novembre 2019, 13:46:37 CET
From: Even Rouault <even.rouault at spatialys.com>
To: proj at lists.osgeo.org

Hi,

As announced last week, you'll find a RFC describing two new capabilities,
remote access to grids and a GeoTIFF-based format for grids, in
https://github.com/OSGeo/PROJ/pull/1747

You can get an (almost correct) preview of it by going through
https://github.com/rouault/PROJ/blob/rfc4_remote_and_geotiff_grid/docs/source/community/rfc/rfc-4.rst
(some links will not work in this preview: expected given that this rendering doesn't go through Sphinx)

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-----------------------------------------
-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From adenaculture at gmail.com  Mon Nov 25 06:02:31 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 25 Nov 2019 09:02:31 -0500
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <17910679.zQ0DGr2T8D@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <CAB28AsgxZ12==b6iB4mEn5GedeHc9=uPHFhiZswDMnQyPBVZ3Q@mail.gmail.com>
 <CAB28Asjr7E5OTvJY9w8oaBrucYbmL4Wuz54D8ot=rW8pEqcyhw@mail.gmail.com>
 <17910679.zQ0DGr2T8D@even-i700>
Message-ID: <CABPxTTptMi=d2T46+kcnop6DiU5_ZWh3JThy6KcMStxMXJamnA@mail.gmail.com>

I have been watching with interest this thread because this latest release
broke the MGRS capability in Lat Lon Tools and can cause QGIS to completely
hang. This happens with both 3.4 and 3.10. I think it must be something
with one of the modules being imported which are: re, math, itertools,
builtins, os, logging, and osgeo. I have put in a trouble ticket with
Planet Inc. to take a look at it, but I don't thing the problem is with the
MGRS module.

>From a user's perspective I agree that the LTR should never have major
updates made and perhaps it should be reverted back to the prior version.

Despite these issues I just want to thank all of you for your tireless
dedication towards QGIS. There are always issues that have to be worked
through when libraries are updated. Thanks for all that you do.

Calvin

On Mon, Nov 25, 2019 at 7:19 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> > Ok, thanks to a **marathon** debugging effort from Even, we have a fix
> > inbound -- https://github.com/OSGeo/PROJ/pull/1746
>
> Now merged in PROJ master.
> Cherry-picked in PROJ 6.2 branch per
>
> https://github.com/OSGeo/PROJ/commit/bce4b158ab5f7d146de8e8fc98df4612dc8c2c9e
>
> >
> > Looks like we'll need to cherry-pick the PROJ fix into the osgeo4w
> > build in order to resolve the blocking issue in QGIS.
>
> I would also suggest applying commit
>
> https://github.com/OSGeo/gdal/commit/bec5fbd4fbf5d69a8386b920f0dd6d951eceb117
> (which applies to GDAL 3.0 branch)
> on top of the 3.0.2 release
> This fixes a subtle multi-threading bug that causes memory corruption and
> could likely be the source of crashes at random times
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/8ef032fc/attachment.html>

From jef at norbit.de  Mon Nov 25 07:26:46 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Mon, 25 Nov 2019 16:26:46 +0100
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <17910679.zQ0DGr2T8D@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <CAB28AsgxZ12==b6iB4mEn5GedeHc9=uPHFhiZswDMnQyPBVZ3Q@mail.gmail.com>
 <CAB28Asjr7E5OTvJY9w8oaBrucYbmL4Wuz54D8ot=rW8pEqcyhw@mail.gmail.com>
 <17910679.zQ0DGr2T8D@even-i700>
Message-ID: <20191125152646.36jkx5hkqx5efqbg@norbit.de>

Hi Even,

On Mon, 25. Nov 2019 at 13:19:35 +0100, Even Rouault wrote:
> Now merged in PROJ master.
> Cherry-picked in PROJ 6.2 branch per
> https://github.com/OSGeo/PROJ/commit/bce4b158ab5f7d146de8e8fc98df4612dc8c2c9e

Applied, built, not yet published.


> > Looks like we'll need to cherry-pick the PROJ fix into the osgeo4w
> > build in order to resolve the blocking issue in QGIS.
 
> I would also suggest applying commit
> https://github.com/OSGeo/gdal/commit/bec5fbd4fbf5d69a8386b920f0dd6d951eceb117
> (which applies to GDAL 3.0 branch)
> on top of the 3.0.2 release
> This fixes a subtle multi-threading bug that causes memory corruption and
> could likely be the source of crashes at random times

Applied and still building…


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/a6e3354a/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/a6e3354a/attachment.ksh>

From adenaculture at gmail.com  Mon Nov 25 13:52:00 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 25 Nov 2019 16:52:00 -0500
Subject: [QGIS-Developer] Python Implementation of QgsNetworkContentFetcher
Message-ID: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>

Is there a python implementation of QgsNetworkContentFetcher? I need
authcfg to be a part of it and it looks like that was added in QGIS 3.10.
In one of my plugins I would like to use it, but I need to support earlier
versions of QGIS 3.

Thanks,

Calvin Hamilton
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191125/a5ba59f3/attachment.html>

From nyall.dawson at gmail.com  Mon Nov 25 15:06:13 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 26 Nov 2019 09:06:13 +1000
Subject: [QGIS-Developer] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
Message-ID: <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>

On Tue, 26 Nov 2019 at 07:52, C Hamilton <adenaculture at gmail.com> wrote:
>
> Is there a python implementation of QgsNetworkContentFetcher? I need authcfg to be a part of it and it looks like that was added in QGIS 3.10. In one of my plugins I would like to use it, but I need to support earlier versions of QGIS 3.

There's not. But there's the ex-boundless "networkaccessmanager"
implementation that supports authcfg, which you can find at
https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
(and other projects -- as far as I'm aware there's no real upstream
for this... Alessandro?).

Note that for QGIS 3.10 you could also use QgsBlockingNetworkRequest
if you're looking for a thread safe, blocking network connection. This
one is designed to be a nearly-drop-in replacement for the python
requests library, but which handles authcfg, QGIS proxies, SSL
exception lists, etc...

Nyall




>
> Thanks,
>
> Calvin Hamilton
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon Nov 25 15:07:16 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 26 Nov 2019 09:07:16 +1000
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <CALuHMPD44E119rKBaUFH3bxnfnLT=1zH4OKDCbz3n5Y0wJ-8CA@mail.gmail.com>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
 <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>
 <6b8fa47bba2504ed7b143d385fc09a3f@carto.net>
 <CALuHMPD44E119rKBaUFH3bxnfnLT=1zH4OKDCbz3n5Y0wJ-8CA@mail.gmail.com>
Message-ID: <CAB28AsgkqJxmSLhSuxfonDA3XOtS_tOCJjw-GzhWrjXHv9guSw@mail.gmail.com>

On Mon, 25 Nov 2019 at 21:24, Alexander Bruy <alexander.bruy at gmail.com> wrote:
>
> Temporary files are removed on QGIS exit, so if it crashes these files
> will be left
> untouched. AFAIK on the next run it won't be removed, as folder name is unique
> between runs.

Just to round out this discussion - if QGIS does crash, then these
files are still likely to be cleaned up by the operating system
itself. E.g. on linux they'll be cleaned out at next reboot.

Nyall


>
> пн, 25 лист. 2019 о 12:09 Andreas Neumann <a.neumann at carto.net> пише:
> >
> > Thanks Nathan and Alex.
> >
> > My follow-up question is: when are these temporary files cleaned/removed? I assume after the process finished - but what happens if QGIS crashes wile processing is running? Will QGIS clean up the old temporary files when it is started the next time?
> >
> > Thanks,
> >
> > Andreas
> >
> > On 2019-11-25 11:06, Alexander Bruy wrote:
> >
> > Hi Andreas,
> >
> > Processing keeps al temporary files and outputs in the user temporary folder,
> > e.g. C:\Usres\user\AppData\Local\Temp\ on WIndows by default and /tmp on Linux.
> >
> >
> >
> > пн, 25 лист. 2019 о 11:53 Andreas Neumann <a.neumann at carto.net> пише:
> >
> >
> > Hi,
> >
> > I would like to know where the temporary files of QGIS processing are stored? I know that there is a setting for default output files (defaults on Windows to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs - but is this really the same location where also temporary files that are needed during the processing are stored?
> >
> > Our issues is that several users share Windows servers and the C partition is only 80GB in size. If 5-10 users are sharing one Windows server, we fear that our C drive is filled really quickly.
> >
> > Can we set another temporary drive/folder than "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs" ? If yes, where do I find this setting?
> >
> > Thank you for your help,
> >
> > Andreas
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> >
>
>
> --
> Alexander Bruy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From noreply at qgis.org  Mon Nov 25 21:30:24 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Nov 2019 05:30:24 -0000
Subject: [QGIS-Developer] =?utf-8?q?Plugin_=5B1871=5D_Oblicz_wysoko=C5=9B?=
 =?utf-8?q?=C4=87_=28GUGiK_NMT=29_approval_notification=2E?=
Message-ID: <20191126053024.3869.51206@2c6504964296>


Plugin Oblicz wysokość (GUGiK NMT) approval by pcav.
The plugin version "[1871] Oblicz wysokość (GUGiK NMT) 0.6" is now approved
Link: http://plugins.qgis.org/plugins/ObliczWysokosc/

From noreply at qgis.org  Mon Nov 25 23:07:16 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Nov 2019 07:07:16 -0000
Subject: [QGIS-Developer] Plugin [1515] DSGTools Op approval notification.
Message-ID: <20191126070716.6887.74037@2c6504964296>


Plugin DSGTools Op approval by pcav.
The plugin version "[1515] DSGTools Op 1.2.3" is now approved
Link: http://plugins.qgis.org/plugins/DSGTools_Op/

From rdmailings at duif.net  Mon Nov 25 23:22:37 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 26 Nov 2019 08:22:37 +0100
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
 QgsNetworkContentFetcher
In-Reply-To: <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
Message-ID: <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>

On 26/11/2019 00.06, Nyall Dawson wrote:

> There's not. But there's the ex-boundless "networkaccessmanager"
> implementation that supports authcfg, which you can find at
> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
> (and other projects -- as far as I'm aware there's no real upstream
> for this... Alessandro?).

I used this Boundless thingie for several plugins now (original source
is now pointing/redirecting to planetlabs [0]).

I think we already discussed several times that it would be good to
incorporate this into a commons lib for QGIS. But if I'm correct the
actual interface was not exactly what some wanted, and if I recall
correct Nyall tried to pull this into c++ but hit some multithreading
issues.

But as Nyall says: I think this is a great lib to use in a plugin (also
because it used the QgisNetwork-stuff, so you can receive the signals
from it or log the precise urls, like we do in the QGISnetworklogger
plugin [1]

Regards,

Richard Duivenvoorde

[0]
https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
[1] https://github.com/rduivenvoorde/qgisnetworklogger

From apasotti at gmail.com  Mon Nov 25 23:28:58 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 26 Nov 2019 08:28:58 +0100
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
Message-ID: <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>

On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 26/11/2019 00.06, Nyall Dawson wrote:
>
> > There's not. But there's the ex-boundless "networkaccessmanager"
> > implementation that supports authcfg, which you can find at
> >
> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
> > (and other projects -- as far as I'm aware there's no real upstream
> > for this... Alessandro?).
>
> I used this Boundless thingie for several plugins now (original source
> is now pointing/redirecting to planetlabs [0]).
>

Yes, that's the "upstream" but I don't know if that one is maintained
anymore.

Btw, there is also a specialized class for sync/async downloads that
supports authcfg: https://qgis.org/api/classQgsFileDownloader.html#details



>
> I think we already discussed several times that it would be good to
> incorporate this into a commons lib for QGIS. But if I'm correct the
> actual interface was not exactly what some wanted, and if I recall
> correct Nyall tried to pull this into c++ but hit some multithreading
> issues.
>
> But as Nyall says: I think this is a great lib to use in a plugin (also
> because it used the QgisNetwork-stuff, so you can receive the signals
> from it or log the precise urls, like we do in the QGISnetworklogger
> plugin [1]
>
> Regards,
>
> Richard Duivenvoorde
>
> [0]
>
> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
> [1] https://github.com/rduivenvoorde/qgisnetworklogger
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191126/97f239d9/attachment-0001.html>

From a.neumann at carto.net  Mon Nov 25 23:47:35 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 26 Nov 2019 08:47:35 +0100
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <CAB28AsgkqJxmSLhSuxfonDA3XOtS_tOCJjw-GzhWrjXHv9guSw@mail.gmail.com>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
 <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>
 <6b8fa47bba2504ed7b143d385fc09a3f@carto.net>
 <CALuHMPD44E119rKBaUFH3bxnfnLT=1zH4OKDCbz3n5Y0wJ-8CA@mail.gmail.com>
 <CAB28AsgkqJxmSLhSuxfonDA3XOtS_tOCJjw-GzhWrjXHv9guSw@mail.gmail.com>
Message-ID: <1898ee8b6975c1927a38d5e53016516b@carto.net>

Hi all, 

Thanks all for the discussion. 

In our specific situation we need to put all Processing related files
outside of the C: drive. One of our users made a large analysis on a
shared Windows application server and put the whole server to sleep
because the C:\ drive went full - I have to admit that the available
storage on the C:\ drive was rather limited (only 80GB) for ten
simultaneous users. But users were never supposed to store anything in
the C:\ drive ... I hope that we convince our IT services to offer more
storage on such servers - nonetheless. Maybe there are also policies our
IT servers could set on the C: drive to prevent it from running out of
storage (maybe some quota). 

So for the time being we have to overwrite the "TMP" variable
specifically only for QGIS and also set the setting for "default output
files" to a folder outside of the C:\ drive. 

Thanks and greetings, 

Andreas 

On 2019-11-26 00:07, Nyall Dawson wrote:

> On Mon, 25 Nov 2019 at 21:24, Alexander Bruy <alexander.bruy at gmail.com> wrote: 
> 
>> Temporary files are removed on QGIS exit, so if it crashes these files
>> will be left
>> untouched. AFAIK on the next run it won't be removed, as folder name is unique
>> between runs.
> 
> Just to round out this discussion - if QGIS does crash, then these
> files are still likely to be cleaned up by the operating system
> itself. E.g. on linux they'll be cleaned out at next reboot.
> 
> Nyall
> 
> пн, 25 лист. 2019 о 12:09 Andreas Neumann <a.neumann at carto.net> пише: 
> Thanks Nathan and Alex.
> 
> My follow-up question is: when are these temporary files cleaned/removed? I assume after the process finished - but what happens if QGIS crashes wile processing is running? Will QGIS clean up the old temporary files when it is started the next time?
> 
> Thanks,
> 
> Andreas
> 
> On 2019-11-25 11:06, Alexander Bruy wrote:
> 
> Hi Andreas,
> 
> Processing keeps al temporary files and outputs in the user temporary folder,
> e.g. C:\Usres\user\AppData\Local\Temp\ on WIndows by default and /tmp on Linux.
> 
> пн, 25 лист. 2019 о 11:53 Andreas Neumann <a.neumann at carto.net> пише:
> 
> Hi,
> 
> I would like to know where the temporary files of QGIS processing are stored? I know that there is a setting for default output files (defaults on Windows to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs - but is this really the same location where also temporary files that are needed during the processing are stored?
> 
> Our issues is that several users share Windows servers and the C partition is only 80GB in size. If 5-10 users are sharing one Windows server, we fear that our C drive is filled really quickly.
> 
> Can we set another temporary drive/folder than "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs" ? If yes, where do I find this setting?
> 
> Thank you for your help,
> 
> Andreas
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> --
> Alexander Bruy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191126/9528e849/attachment.html>

From noreply at qgis.org  Tue Nov 26 03:51:42 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Nov 2019 11:51:42 -0000
Subject: [QGIS-Developer] Plugin [1892] QuerySelection approval notification.
Message-ID: <20191126115142.3251.56459@2c6504964296>


Plugin QuerySelection approval by pcav.
The plugin version "[1892] QuerySelection 0.1" is now approved
Link: http://plugins.qgis.org/plugins/QuerySelection/

From noreply at qgis.org  Tue Nov 26 04:52:46 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Nov 2019 12:52:46 -0000
Subject: [QGIS-Developer] Plugin [1892] QuerySelection approval notification.
Message-ID: <20191126125246.12402.57758@2c6504964296>


Plugin QuerySelection approval by pcav.
The plugin version "[1892] QuerySelection 0.2" is now approved
Link: http://plugins.qgis.org/plugins/QuerySelection/

From careyshan at gmail.com  Tue Nov 26 05:48:14 2019
From: careyshan at gmail.com (Shane Carey)
Date: Tue, 26 Nov 2019 13:48:14 +0000
Subject: [QGIS-Developer] what does geos geoprocessing error difference
	failed mean?
Message-ID: <CA+jRDxAWNTUtOYZn000N3yQPBwUJt0wKF1Eni05ZoCFeoorZkw@mail.gmail.com>

Hi,

I'm running a union process in qgis 3.4 and I keep getting the following
error:
*geos geoprocessing error difference failed*
What does this error mean?
Thanks
Le gach dea ghui,
*Shane Carey*
*GIS and Data Solutions Consultant*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191126/a178bf72/attachment.html>

From jmckenna at gatewaygeomatics.com  Tue Nov 26 06:18:58 2019
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Tue, 26 Nov 2019 10:18:58 -0400
Subject: [QGIS-Developer] what does geos geoprocessing error difference
 failed mean?
In-Reply-To: <CA+jRDxAWNTUtOYZn000N3yQPBwUJt0wKF1Eni05ZoCFeoorZkw@mail.gmail.com>
References: <CA+jRDxAWNTUtOYZn000N3yQPBwUJt0wKF1Eni05ZoCFeoorZkw@mail.gmail.com>
Message-ID: <3db74d36-a7a9-3e51-56dd-a8250cb3fbc5@gatewaygeomatics.com>

Hi Shane,

Likely it means that there is a problem with your geometry/topology.  I 
don't have your version locally, but look for a QGIS menu item of "Check 
Validity" or "Fix Geometries".

-jeff



-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/


On 2019-11-26 9:48 AM, Shane Carey wrote:
> Hi,
> 
> I'm running a union process in qgis 3.4 and I keep getting the following 
> error:
> *geos geoprocessing error difference failed*
> What does this error mean?
> Thanks
> Le gach dea ghui,
> */Shane Carey/*
> */GIS and Data Solutions Consultant/*
> 

From careyshan at gmail.com  Tue Nov 26 06:20:54 2019
From: careyshan at gmail.com (Shane Carey)
Date: Tue, 26 Nov 2019 14:20:54 +0000
Subject: [QGIS-Developer] what does geos geoprocessing error difference
 failed mean?
In-Reply-To: <3db74d36-a7a9-3e51-56dd-a8250cb3fbc5@gatewaygeomatics.com>
References: <CA+jRDxAWNTUtOYZn000N3yQPBwUJt0wKF1Eni05ZoCFeoorZkw@mail.gmail.com>
 <3db74d36-a7a9-3e51-56dd-a8250cb3fbc5@gatewaygeomatics.com>
Message-ID: <CA+jRDxBJnnWuVeSnGiP54L_0m+QXNvu6uR2K79tSYP6TQS5r7A@mail.gmail.com>

Thanks Jeff,

Yep, I've tried running this and still makes no difference I'm afraid. I
thought it may have been a memory issue but its not that either.
So I'm lost as to what is causing it.
Cheers
Le gach dea ghui,
*Shane Carey*
*GIS and Data Solutions Consultant*


On Tue, Nov 26, 2019 at 2:19 PM Jeff McKenna <jmckenna at gatewaygeomatics.com>
wrote:

> Hi Shane,
>
> Likely it means that there is a problem with your geometry/topology.  I
> don't have your version locally, but look for a QGIS menu item of "Check
> Validity" or "Fix Geometries".
>
> -jeff
>
>
>
> --
> Jeff McKenna
> MapServer Consulting and Training Services
> https://gatewaygeomatics.com/
>
>
> On 2019-11-26 9:48 AM, Shane Carey wrote:
> > Hi,
> >
> > I'm running a union process in qgis 3.4 and I keep getting the following
> > error:
> > *geos geoprocessing error difference failed*
> > What does this error mean?
> > Thanks
> > Le gach dea ghui,
> > */Shane Carey/*
> > */GIS and Data Solutions Consultant/*
> >
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191126/c0961e0f/attachment.html>

From jmckenna at gatewaygeomatics.com  Tue Nov 26 06:33:02 2019
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Tue, 26 Nov 2019 10:33:02 -0400
Subject: [QGIS-Developer] what does geos geoprocessing error difference
 failed mean?
In-Reply-To: <CA+jRDxBJnnWuVeSnGiP54L_0m+QXNvu6uR2K79tSYP6TQS5r7A@mail.gmail.com>
References: <CA+jRDxAWNTUtOYZn000N3yQPBwUJt0wKF1Eni05ZoCFeoorZkw@mail.gmail.com>
 <3db74d36-a7a9-3e51-56dd-a8250cb3fbc5@gatewaygeomatics.com>
 <CA+jRDxBJnnWuVeSnGiP54L_0m+QXNvu6uR2K79tSYP6TQS5r7A@mail.gmail.com>
Message-ID: <fd5817b3-a5d1-3e62-316a-a0b82a654d8f@gatewaygeomatics.com>

Not sure.  My next step would be to upgrade to QGIS 3.10.0 and retry.

-jeff



On 2019-11-26 10:20 AM, Shane Carey wrote:
> Thanks Jeff,
> 
> Yep, I've tried running this and still makes no difference I'm afraid. I 
> thought it may have been a memory issue but its not that either.
> So I'm lost as to what is causing it.
> Cheers
> Le gach dea ghui,
> */Shane Carey/*
> */GIS and Data Solutions Consultant/*
> 
> 
> On Tue, Nov 26, 2019 at 2:19 PM Jeff McKenna 
> <jmckenna at gatewaygeomatics.com <mailto:jmckenna at gatewaygeomatics.com>> 
> wrote:
> 
>     Hi Shane,
> 
>     Likely it means that there is a problem with your geometry/topology.  I
>     don't have your version locally, but look for a QGIS menu item of
>     "Check
>     Validity" or "Fix Geometries".
> 
>     -jeff
> 
> 
> 
>     -- 
>     Jeff McKenna
>     MapServer Consulting and Training Services
>     https://gatewaygeomatics.com/
> 
> 
>     On 2019-11-26 9:48 AM, Shane Carey wrote:
>      > Hi,
>      >
>      > I'm running a union process in qgis 3.4 and I keep getting the
>     following
>      > error:
>      > *geos geoprocessing error difference failed*
>      > What does this error mean?
>      > Thanks
>      > Le gach dea ghui,
>      > */Shane Carey/*
>      > */GIS and Data Solutions Consultant/*
>      >
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

From adenaculture at gmail.com  Tue Nov 26 06:35:14 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 26 Nov 2019 09:35:14 -0500
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
Message-ID: <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>

Thanks everyone. This gives me some good ideas. These are the possible
solutions:

1. Write a python implementation of QgsNetworkContentFetcher or
QgsBlockingNetworkRequest. With this I could look at the QGIS version and
if it is 3.10 or greater import the core method; otherwise, import the
python implementation.
2. Use the old Boundless implementation if it still works in QGIS 3.
3. Use QgsFileDownloader and save it as a temporary file before processing.

Calvin

On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <apasotti at gmail.com>
wrote:

>
>
> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <rdmailings at duif.net>
> wrote:
>
>> On 26/11/2019 00.06, Nyall Dawson wrote:
>>
>> > There's not. But there's the ex-boundless "networkaccessmanager"
>> > implementation that supports authcfg, which you can find at
>> >
>> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
>> > (and other projects -- as far as I'm aware there's no real upstream
>> > for this... Alessandro?).
>>
>> I used this Boundless thingie for several plugins now (original source
>> is now pointing/redirecting to planetlabs [0]).
>>
>
> Yes, that's the "upstream" but I don't know if that one is maintained
> anymore.
>
> Btw, there is also a specialized class for sync/async downloads that
> supports authcfg: https://qgis.org/api/classQgsFileDownloader.html#details
>
>
>
>>
>> I think we already discussed several times that it would be good to
>> incorporate this into a commons lib for QGIS. But if I'm correct the
>> actual interface was not exactly what some wanted, and if I recall
>> correct Nyall tried to pull this into c++ but hit some multithreading
>> issues.
>>
>> But as Nyall says: I think this is a great lib to use in a plugin (also
>> because it used the QgisNetwork-stuff, so you can receive the signals
>> from it or log the precise urls, like we do in the QGISnetworklogger
>> plugin [1]
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>> [0]
>>
>> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191126/c91052a6/attachment.html>

From denis.rouzaud at gmail.com  Tue Nov 26 06:43:44 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 26 Nov 2019 15:43:44 +0100
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
Message-ID: <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>

Hi,

Jumping late but we use the work from NAM Alessandro did in a couple of
locator filters.
https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py

I believe I have done very very few adaptations/fixes to the original work
and it works like a charm.

I had in mind to bring this as is within QGIS core for some time. The main
point being for us the blocking request rather than authcfg.

Denis

Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a écrit :

> Thanks everyone. This gives me some good ideas. These are the possible
> solutions:
>
> 1. Write a python implementation of QgsNetworkContentFetcher or
> QgsBlockingNetworkRequest. With this I could look at the QGIS version and
> if it is 3.10 or greater import the core method; otherwise, import the
> python implementation.
> 2. Use the old Boundless implementation if it still works in QGIS 3.
> 3. Use QgsFileDownloader and save it as a temporary file before processing.
>
> Calvin
>
> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <apasotti at gmail.com>
> wrote:
>
>>
>>
>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <rdmailings at duif.net>
>> wrote:
>>
>>> On 26/11/2019 00.06, Nyall Dawson wrote:
>>>
>>> > There's not. But there's the ex-boundless "networkaccessmanager"
>>> > implementation that supports authcfg, which you can find at
>>> >
>>> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
>>> > (and other projects -- as far as I'm aware there's no real upstream
>>> > for this... Alessandro?).
>>>
>>> I used this Boundless thingie for several plugins now (original source
>>> is now pointing/redirecting to planetlabs [0]).
>>>
>>
>> Yes, that's the "upstream" but I don't know if that one is maintained
>> anymore.
>>
>> Btw, there is also a specialized class for sync/async downloads that
>> supports authcfg:
>> https://qgis.org/api/classQgsFileDownloader.html#details
>>
>>
>>
>>>
>>> I think we already discussed several times that it would be good to
>>> incorporate this into a commons lib for QGIS. But if I'm correct the
>>> actual interface was not exactly what some wanted, and if I recall
>>> correct Nyall tried to pull this into c++ but hit some multithreading
>>> issues.
>>>
>>> But as Nyall says: I think this is a great lib to use in a plugin (also
>>> because it used the QgisNetwork-stuff, so you can receive the signals
>>> from it or log the precise urls, like we do in the QGISnetworklogger
>>> plugin [1]
>>>
>>> Regards,
>>>
>>> Richard Duivenvoorde
>>>
>>> [0]
>>>
>>> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
>>> _______________________________________________
>>> Qgis-user mailing list
>>> Qgis-user at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191126/54afb791/attachment.html>

From noreply at qgis.org  Tue Nov 26 07:11:06 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Nov 2019 15:11:06 -0000
Subject: [QGIS-Developer] Plugin [354] OSM place search approval
	notification.
Message-ID: <20191126151106.31239.42848@2c6504964296>


Plugin OSM place search approval by pcav.
The plugin version "[354] OSM place search 1.2.8 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/nominatim/

From MAP at ramboll.dk  Tue Nov 26 07:34:12 2019
From: MAP at ramboll.dk (magerlin)
Date: Tue, 26 Nov 2019 08:34:12 -0700 (MST)
Subject: [QGIS-Developer] Log file? - QGIS not starting
Message-ID: <1574782452009-0.post@n6.nabble.com>

Having problems installing QGIS on a colleagues brand new Win 10 PC.
I have recently installed without problems on my own identical PC.

We have tried 3.4 and 3.10 both as Standalone and from OSGeo4W.

But situation is the same: 

QGIS 3.4:
<http://osgeo-org.1560.x6.nabble.com/file/t202356/3%2C4.png> 
C:\Program Files\QGIS 3.4\apps\qgis-ltr\bin\Qgis_app.dll          
does exist on PC but the .env file does not



QGIS 3.10:
<http://osgeo-org.1560.x6.nabble.com/file/t202356/3.png> 

Here the .env file exists and contains this:

PATH=C:\OSGEO4~1\apps\qgis\bin;C:\OSGEO4~1\apps\grass\grass78\lib;C:\OSGEO4~1\apps\grass\grass78\bin;C:\OSGEO4~1\apps\Python37;C:\OSGEO4~1\apps\Python37\Scripts;C:\OSGEO4~1\apps\qt5\bin;C:\OSGEO4~1\apps\Python37;C:\OSGEO4~1\apps\Python37\Scripts;C:\OSGEO4~1\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32\WBem
GDAL_DATA=C:\OSGEO4~1\share\gdal
GDAL_DRIVER_PATH=C:\OSGEO4~1\bin\gdalplugins
GDAL_FILENAME_IS_UTF8=YES
GEOTIFF_CSV=C:\OSGEO4~1\share\epsg_csv
GISBASE=C:\OSGEO4~1\apps\grass\grass78
GRASS_PROJSHARE=C:\OSGEO4~1\share\proj
GRASS_PYTHON=C:\OSGEO4~1\bin\python3.exe
JPEGMEM=1000000
OSGEO4W_ROOT=C:\OSGEO4~1
PROJ_LIB=C:\OSGEO4~1\share\proj
PYTHONHOME=C:\OSGEO4~1\apps\Python37
QGIS_PREFIX_PATH=C:/OSGEO4~1/apps/qgis
QT_PLUGIN_PATH=C:\OSGEO4~1\apps\qgis\qtplugins;C:\OSGEO4~1\apps\qt5\plugins
VSI_CACHE=TRUE
VSI_CACHE_SIZE=1000000
O4W_QT_PREFIX=C:/OSGEO4~1/apps/Qt5
O4W_QT_BINARIES=C:/OSGEO4~1/apps/Qt5/bin
O4W_QT_PLUGINS=C:/OSGEO4~1/apps/Qt5/plugins
O4W_QT_LIBRARIES=C:/OSGEO4~1/apps/Qt5/lib
O4W_QT_TRANSLATIONS=C:/OSGEO4~1/apps/Qt5/translations
O4W_QT_HEADERS=C:/OSGEO4~1/apps/Qt5/include






-----
Regards Morten

Currently using Qgis 3.10.0
Windows 10, 64bit
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Tue Nov 26 08:06:17 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Nov 2019 16:06:17 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20191126160617.32438.53576@2c6504964296>


Plugin UMEP approval by pcav.
The plugin version "[1364] UMEP 3.10.8" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From noreply at qgis.org  Tue Nov 26 08:47:21 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 26 Nov 2019 16:47:21 -0000
Subject: [QGIS-Developer] Plugin [1892] QuerySelection approval notification.
Message-ID: <20191126164721.30948.28484@2c6504964296>


Plugin QuerySelection approval by pcav.
The plugin version "[1892] QuerySelection 0.2.1" is now approved
Link: http://plugins.qgis.org/plugins/QuerySelection/

From ffabianjimenez at gmail.com  Tue Nov 26 13:06:12 2019
From: ffabianjimenez at gmail.com (Fabian Jimenez)
Date: Tue, 26 Nov 2019 15:06:12 -0600
Subject: [QGIS-Developer] Instalacion de Qgis en Rhel 7 u 8
Message-ID: <CABAfovPD0HtjAZj_4h-RsYwuz2ah8hT2u67VyYk25CVuG033mw@mail.gmail.com>

Actualmente cuento con Qgis 2.14.1 en un servidor Linux RedHat 7.3, sin
embargo, no he podido hacer el upgrade a 3.x por medio de rpm o hacer la
instalacion inicial por este mismo medio, ya que marca dependencias
infinitas que aun teniendolos en un repositorio local, me sigue marcando el
error.

Tendra algun repositorio para la version Qgis 3.x o alguna documentacion
donde me pueda basar para hacer dicha instalacion.?

Por otro lado, es posible instalar la version 3.10 en un servidor RedHat
7.??

He visto docker con Qgis, sin embargo, estos estan basados en Ubuntu,
existe un Docker de qgis 3.x para RedHat .?

De antemano muchas gracias.

*Ing. Federico Fabián Jiménez Esparza*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191126/16393105/attachment.html>

From nyall.dawson at gmail.com  Tue Nov 26 15:22:21 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 27 Nov 2019 09:22:21 +1000
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <1898ee8b6975c1927a38d5e53016516b@carto.net>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
 <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>
 <6b8fa47bba2504ed7b143d385fc09a3f@carto.net>
 <CALuHMPD44E119rKBaUFH3bxnfnLT=1zH4OKDCbz3n5Y0wJ-8CA@mail.gmail.com>
 <CAB28AsgkqJxmSLhSuxfonDA3XOtS_tOCJjw-GzhWrjXHv9guSw@mail.gmail.com>
 <1898ee8b6975c1927a38d5e53016516b@carto.net>
Message-ID: <CAB28AsjjEaSkzHK0mJB-vV_0rN8X+iiQrRWoshYF-Yma3afWGw@mail.gmail.com>

On Tue, 26 Nov 2019 at 17:47, Andreas Neumann <a.neumann at carto.net> wrote:
>
> Hi all,
>
> Thanks all for the discussion.
>
> In our specific situation we need to put all Processing related files outside of the C: drive. One of our users made a large analysis on a shared Windows application server and put the whole server to sleep because the C:\ drive went full - I have to admit that the available storage on the C:\ drive was rather limited (only 80GB) for ten simultaneous users. But users were never supposed to store anything in the C:\ drive ... I hope that we convince our IT services to offer more storage on such servers - nonetheless. Maybe there are also policies our IT servers could set on the C: drive to prevent it from running out of storage (maybe some quota).
>
> So for the time being we have to overwrite the "TMP" variable specifically only for QGIS and also set the setting for "default output files" to a folder outside of the C:\ drive.

Why not just set the temp folder environment variable for the whole
user account? QGIS isn't the only application which uses the temp
folder for storing files. You'll likely run into issues elsewhere if
we just work around this on the QGIS side alone...

Nyall


>
> Thanks and greetings,
>
> Andreas
>
> On 2019-11-26 00:07, Nyall Dawson wrote:
>
> On Mon, 25 Nov 2019 at 21:24, Alexander Bruy <alexander.bruy at gmail.com> wrote:
>
>
> Temporary files are removed on QGIS exit, so if it crashes these files
> will be left
> untouched. AFAIK on the next run it won't be removed, as folder name is unique
> between runs.
>
>
> Just to round out this discussion - if QGIS does crash, then these
> files are still likely to be cleaned up by the operating system
> itself. E.g. on linux they'll be cleaned out at next reboot.
>
> Nyall
>
>
>
> пн, 25 лист. 2019 о 12:09 Andreas Neumann <a.neumann at carto.net> пише:
>
>
> Thanks Nathan and Alex.
>
> My follow-up question is: when are these temporary files cleaned/removed? I assume after the process finished - but what happens if QGIS crashes wile processing is running? Will QGIS clean up the old temporary files when it is started the next time?
>
> Thanks,
>
> Andreas
>
> On 2019-11-25 11:06, Alexander Bruy wrote:
>
> Hi Andreas,
>
> Processing keeps al temporary files and outputs in the user temporary folder,
> e.g. C:\Usres\user\AppData\Local\Temp\ on WIndows by default and /tmp on Linux.
>
>
>
> пн, 25 лист. 2019 о 11:53 Andreas Neumann <a.neumann at carto.net> пише:
>
>
> Hi,
>
> I would like to know where the temporary files of QGIS processing are stored? I know that there is a setting for default output files (defaults on Windows to C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs - but is this really the same location where also temporary files that are needed during the processing are stored?
>
> Our issues is that several users share Windows servers and the C partition is only 80GB in size. If 5-10 users are sharing one Windows server, we fear that our C drive is filled really quickly.
>
> Can we set another temporary drive/folder than "C:\Users\username\AppData\Roaming\QGIS\QGIS3\profiles\profilename\processing\outputs" ? If yes, where do I find this setting?
>
> Thank you for your help,
>
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
>
>
> --
> Alexander Bruy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

From nyall.dawson at gmail.com  Tue Nov 26 15:24:53 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 27 Nov 2019 09:24:53 +1000
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
Message-ID: <CAB28Asgyyh4uDPBc8MG57c1Eeu3asO3EJ7L7w-wGZcMzp-vF5w@mail.gmail.com>

On Wed, 27 Nov 2019 at 00:35, C Hamilton <adenaculture at gmail.com> wrote:
>
> Thanks everyone. This gives me some good ideas. These are the possible solutions:
>
> 1. Write a python implementation of QgsNetworkContentFetcher or QgsBlockingNetworkRequest. With this I could look at the QGIS version and if it is 3.10 or greater import the core method; otherwise, import the python implementation.

Trust me -- don't do this. When I wrote the c++ version it nearly
killed me, it's insanely complex with many many components at play.

> 2. Use the old Boundless implementation if it still works in QGIS 3.

I'd do this, but only for QGIS < 3.6. For 3.6 and above use
QgsBlockingNetworkRequest, and when 3.4 is EOLed in a couple of months
you can rely on QgsBlockingNetworkRequest everywhere.

> 3. Use QgsFileDownloader and save it as a temporary file before processing.

Also a good idea, but be aware that it's not blocking, which can mean
it can't be used in certain places. Warning: DO NOT USE
QApplication.processEvents() or a QEventLoop to try to emulate
blocking behavior with this class!

Nyall

>
> Calvin
>
> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <apasotti at gmail.com> wrote:
>>
>>
>>
>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <rdmailings at duif.net> wrote:
>>>
>>> On 26/11/2019 00.06, Nyall Dawson wrote:
>>>
>>> > There's not. But there's the ex-boundless "networkaccessmanager"
>>> > implementation that supports authcfg, which you can find at
>>> > https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
>>> > (and other projects -- as far as I'm aware there's no real upstream
>>> > for this... Alessandro?).
>>>
>>> I used this Boundless thingie for several plugins now (original source
>>> is now pointing/redirecting to planetlabs [0]).
>>
>>
>> Yes, that's the "upstream" but I don't know if that one is maintained anymore.
>>
>> Btw, there is also a specialized class for sync/async downloads that supports authcfg: https://qgis.org/api/classQgsFileDownloader.html#details
>>
>>
>>>
>>>
>>> I think we already discussed several times that it would be good to
>>> incorporate this into a commons lib for QGIS. But if I'm correct the
>>> actual interface was not exactly what some wanted, and if I recall
>>> correct Nyall tried to pull this into c++ but hit some multithreading
>>> issues.
>>>
>>> But as Nyall says: I think this is a great lib to use in a plugin (also
>>> because it used the QgisNetwork-stuff, so you can receive the signals
>>> from it or log the precise urls, like we do in the QGISnetworklogger
>>> plugin [1]
>>>
>>> Regards,
>>>
>>> Richard Duivenvoorde
>>>
>>> [0]
>>> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
>>> _______________________________________________
>>> Qgis-user mailing list
>>> Qgis-user at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it

From nyall.dawson at gmail.com  Tue Nov 26 15:26:53 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 27 Nov 2019 09:26:53 +1000
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
Message-ID: <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>

On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>
> Hi,
>
> Jumping late but we use the work from NAM Alessandro did in a couple of locator filters.
> https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
>
> I believe I have done very very few adaptations/fixes to the original work and it works like a charm.

Not quite. It works in some circumstances, but it uses an event loop.
So if you run it on the main thread, you're potentially doing an
effective call to QApplication.processEvents, which can lead to all
sorts of crashes. That said, it's generally a safe approach to use for
QGIS <= 3.4... just don't use it in any code which relates to
rendering!

>
> I had in mind to bring this as is within QGIS core for some time. The main point being for us the blocking request rather than authcfg.

That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
re-re-implement this!

Nyall


>
> Denis
>
> Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a écrit :
>>
>> Thanks everyone. This gives me some good ideas. These are the possible solutions:
>>
>> 1. Write a python implementation of QgsNetworkContentFetcher or QgsBlockingNetworkRequest. With this I could look at the QGIS version and if it is 3.10 or greater import the core method; otherwise, import the python implementation.
>> 2. Use the old Boundless implementation if it still works in QGIS 3.
>> 3. Use QgsFileDownloader and save it as a temporary file before processing.
>>
>> Calvin
>>
>> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <apasotti at gmail.com> wrote:
>>>
>>>
>>>
>>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <rdmailings at duif.net> wrote:
>>>>
>>>> On 26/11/2019 00.06, Nyall Dawson wrote:
>>>>
>>>> > There's not. But there's the ex-boundless "networkaccessmanager"
>>>> > implementation that supports authcfg, which you can find at
>>>> > https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
>>>> > (and other projects -- as far as I'm aware there's no real upstream
>>>> > for this... Alessandro?).
>>>>
>>>> I used this Boundless thingie for several plugins now (original source
>>>> is now pointing/redirecting to planetlabs [0]).
>>>
>>>
>>> Yes, that's the "upstream" but I don't know if that one is maintained anymore.
>>>
>>> Btw, there is also a specialized class for sync/async downloads that supports authcfg: https://qgis.org/api/classQgsFileDownloader.html#details
>>>
>>>
>>>>
>>>>
>>>> I think we already discussed several times that it would be good to
>>>> incorporate this into a commons lib for QGIS. But if I'm correct the
>>>> actual interface was not exactly what some wanted, and if I recall
>>>> correct Nyall tried to pull this into c++ but hit some multithreading
>>>> issues.
>>>>
>>>> But as Nyall says: I think this is a great lib to use in a plugin (also
>>>> because it used the QgisNetwork-stuff, so you can receive the signals
>>>> from it or log the precise urls, like we do in the QGISnetworklogger
>>>> plugin [1]
>>>>
>>>> Regards,
>>>>
>>>> Richard Duivenvoorde
>>>>
>>>> [0]
>>>> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
>>>> _______________________________________________
>>>> Qgis-user mailing list
>>>> Qgis-user at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From denis.rouzaud at gmail.com  Tue Nov 26 21:26:26 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 27 Nov 2019 06:26:26 +0100
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
 <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
Message-ID: <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>

Thanks Nyall for the precisions.
I wasn't aware of QgsBlockingNetworkRequest.

So basically, if I don't require authcf, then starting from 3.6 there is no
reason to use my python nam, I should use both
QgsNetworkContentFetcher and QgsBlockingNetworkRequest.
And from 3.10 if require authcfg in QgsNetworkContentFetcher.
Is this correct?

Cheers,
Denis

Le mer. 27 nov. 2019 à 00:27, Nyall Dawson <nyall.dawson at gmail.com> a
écrit :

> On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >
> > Hi,
> >
> > Jumping late but we use the work from NAM Alessandro did in a couple of
> locator filters.
> >
> https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
> >
> > I believe I have done very very few adaptations/fixes to the original
> work and it works like a charm.
>
> Not quite. It works in some circumstances, but it uses an event loop.
> So if you run it on the main thread, you're potentially doing an
> effective call to QApplication.processEvents, which can lead to all
> sorts of crashes. That said, it's generally a safe approach to use for
> QGIS <= 3.4... just don't use it in any code which relates to
> rendering!
>
> >
> > I had in mind to bring this as is within QGIS core for some time. The
> main point being for us the blocking request rather than authcfg.
>
> That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
> re-re-implement this!
>
> Nyall
>
>
> >
> > Denis
> >
> > Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a
> écrit :
> >>
> >> Thanks everyone. This gives me some good ideas. These are the possible
> solutions:
> >>
> >> 1. Write a python implementation of QgsNetworkContentFetcher or
> QgsBlockingNetworkRequest. With this I could look at the QGIS version and
> if it is 3.10 or greater import the core method; otherwise, import the
> python implementation.
> >> 2. Use the old Boundless implementation if it still works in QGIS 3.
> >> 3. Use QgsFileDownloader and save it as a temporary file before
> processing.
> >>
> >> Calvin
> >>
> >> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <apasotti at gmail.com>
> wrote:
> >>>
> >>>
> >>>
> >>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <
> rdmailings at duif.net> wrote:
> >>>>
> >>>> On 26/11/2019 00.06, Nyall Dawson wrote:
> >>>>
> >>>> > There's not. But there's the ex-boundless "networkaccessmanager"
> >>>> > implementation that supports authcfg, which you can find at
> >>>> >
> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
> >>>> > (and other projects -- as far as I'm aware there's no real upstream
> >>>> > for this... Alessandro?).
> >>>>
> >>>> I used this Boundless thingie for several plugins now (original source
> >>>> is now pointing/redirecting to planetlabs [0]).
> >>>
> >>>
> >>> Yes, that's the "upstream" but I don't know if that one is maintained
> anymore.
> >>>
> >>> Btw, there is also a specialized class for sync/async downloads that
> supports authcfg: https://qgis.org/api/classQgsFileDownloader.html#details
> >>>
> >>>
> >>>>
> >>>>
> >>>> I think we already discussed several times that it would be good to
> >>>> incorporate this into a commons lib for QGIS. But if I'm correct the
> >>>> actual interface was not exactly what some wanted, and if I recall
> >>>> correct Nyall tried to pull this into c++ but hit some multithreading
> >>>> issues.
> >>>>
> >>>> But as Nyall says: I think this is a great lib to use in a plugin
> (also
> >>>> because it used the QgisNetwork-stuff, so you can receive the signals
> >>>> from it or log the precise urls, like we do in the QGISnetworklogger
> >>>> plugin [1]
> >>>>
> >>>> Regards,
> >>>>
> >>>> Richard Duivenvoorde
> >>>>
> >>>> [0]
> >>>>
> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
> >>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
> >>>> _______________________________________________
> >>>> Qgis-user mailing list
> >>>> Qgis-user at lists.osgeo.org
> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >>>
> >>>
> >>>
> >>> --
> >>> Alessandro Pasotti
> >>> w3:   www.itopen.it
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/c80b8d0c/attachment-0001.html>

From nyall.dawson at gmail.com  Tue Nov 26 21:35:13 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 27 Nov 2019 15:35:13 +1000
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
 <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
 <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>
Message-ID: <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>

On Wed, 27 Nov 2019 at 15:26, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>
> Thanks Nyall for the precisions.
> I wasn't aware of QgsBlockingNetworkRequest.
>
> So basically, if I don't require authcf, then starting from 3.6 there is no reason to use my python nam, I should use both QgsNetworkContentFetcher and QgsBlockingNetworkRequest. And from 3.10 if require authcfg in QgsNetworkContentFetcher.
> Is this correct?

QgsBlockingNetworkRequest has always supported auth, so you should use
that in 3.6 and above in all situations WHEN you need a blocking
request.

QgsNetworkContentFetcher is async, so definitely prefer to use that
whenever you don't need a blocking request.

I'd say the matrix is something like

QGIS 3.4:

 Blocking:
   With auth: python nam (but be aware that it CAN and DOES crash
crashes if used on the main thread)
   Without auth: python nam (but be aware that it CAN and DOES crash
crashes if used on the main thread)

 Non-blocking:
   With auth:      nothing available off-the-shelf -- roll your own
using raw the qt and QGIS auth api?
   Without auth: QgsNetworkContentFetcher

QGIS 3.6 - 3.8:

 Blocking:
   With auth: QgsBlockingNetworkRequest
   Without auth: QgsBlockingNetworkRequest

 Non-blocking:
   With auth:      nothing available off-the-shelf -- roll your own
using raw the qt and QGIS auth api?
   Without auth: QgsNetworkContentFetcher

QGIS 3.10:

 Blocking:
   With auth: QgsBlockingNetworkRequest
   Without auth: QgsBlockingNetworkRequest

 Non-blocking:
   With auth:      QgsNetworkContentFetcher
   Without auth: QgsNetworkContentFetcher


Nyall



>
> Cheers,
> Denis
>
> Le mer. 27 nov. 2019 à 00:27, Nyall Dawson <nyall.dawson at gmail.com> a écrit :
>>
>> On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>> >
>> > Hi,
>> >
>> > Jumping late but we use the work from NAM Alessandro did in a couple of locator filters.
>> > https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
>> >
>> > I believe I have done very very few adaptations/fixes to the original work and it works like a charm.
>>
>> Not quite. It works in some circumstances, but it uses an event loop.
>> So if you run it on the main thread, you're potentially doing an
>> effective call to QApplication.processEvents, which can lead to all
>> sorts of crashes. That said, it's generally a safe approach to use for
>> QGIS <= 3.4... just don't use it in any code which relates to
>> rendering!
>>
>> >
>> > I had in mind to bring this as is within QGIS core for some time. The main point being for us the blocking request rather than authcfg.
>>
>> That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
>> re-re-implement this!
>>
>> Nyall
>>
>>
>> >
>> > Denis
>> >
>> > Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a écrit :
>> >>
>> >> Thanks everyone. This gives me some good ideas. These are the possible solutions:
>> >>
>> >> 1. Write a python implementation of QgsNetworkContentFetcher or QgsBlockingNetworkRequest. With this I could look at the QGIS version and if it is 3.10 or greater import the core method; otherwise, import the python implementation.
>> >> 2. Use the old Boundless implementation if it still works in QGIS 3.
>> >> 3. Use QgsFileDownloader and save it as a temporary file before processing.
>> >>
>> >> Calvin
>> >>
>> >> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <apasotti at gmail.com> wrote:
>> >>>
>> >>>
>> >>>
>> >>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <rdmailings at duif.net> wrote:
>> >>>>
>> >>>> On 26/11/2019 00.06, Nyall Dawson wrote:
>> >>>>
>> >>>> > There's not. But there's the ex-boundless "networkaccessmanager"
>> >>>> > implementation that supports authcfg, which you can find at
>> >>>> > https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
>> >>>> > (and other projects -- as far as I'm aware there's no real upstream
>> >>>> > for this... Alessandro?).
>> >>>>
>> >>>> I used this Boundless thingie for several plugins now (original source
>> >>>> is now pointing/redirecting to planetlabs [0]).
>> >>>
>> >>>
>> >>> Yes, that's the "upstream" but I don't know if that one is maintained anymore.
>> >>>
>> >>> Btw, there is also a specialized class for sync/async downloads that supports authcfg: https://qgis.org/api/classQgsFileDownloader.html#details
>> >>>
>> >>>
>> >>>>
>> >>>>
>> >>>> I think we already discussed several times that it would be good to
>> >>>> incorporate this into a commons lib for QGIS. But if I'm correct the
>> >>>> actual interface was not exactly what some wanted, and if I recall
>> >>>> correct Nyall tried to pull this into c++ but hit some multithreading
>> >>>> issues.
>> >>>>
>> >>>> But as Nyall says: I think this is a great lib to use in a plugin (also
>> >>>> because it used the QgisNetwork-stuff, so you can receive the signals
>> >>>> from it or log the precise urls, like we do in the QGISnetworklogger
>> >>>> plugin [1]
>> >>>>
>> >>>> Regards,
>> >>>>
>> >>>> Richard Duivenvoorde
>> >>>>
>> >>>> [0]
>> >>>> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>> >>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
>> >>>> _______________________________________________
>> >>>> Qgis-user mailing list
>> >>>> Qgis-user at lists.osgeo.org
>> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> >>>
>> >>>
>> >>>
>> >>> --
>> >>> Alessandro Pasotti
>> >>> w3:   www.itopen.it
>> >>
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From denis.rouzaud at gmail.com  Tue Nov 26 23:35:02 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 27 Nov 2019 08:35:02 +0100
Subject: [QGIS-Developer] QGIS field calculator: issue with updating
 selected only features in combination with virtual field
In-Reply-To: <ef2959f2-b59e-6145-ced3-6a64a9972678@opengis.ch>
References: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>
 <ef2959f2-b59e-6145-ced3-6a64a9972678@opengis.ch>
Message-ID: <CAMtsY+b6BiTFdVNnFb94odcW3EFSbR_xJ5Eq4bU+MeVNxmnuEg@mail.gmail.com>

Hi Andreas,

It does sound like this is the current status today: the "update only..."
checkbox is disabled if you create a virtual field.
It seems Matthias ;) coded it in 2014:
https://github.com/qgis/QGIS/commit/68de043ecbcf0203b6a3667b488be71f479e5d91#diff-ff2f9c5bc35d79bfe1f0b7690bc60819R344

Cheers

Le mer. 20 nov. 2019 à 13:12, Matthias Kuhn <matthias at opengis.ch> a écrit :

> Hi Andreas,
>
> On first sight I'd also say that disabling the checkbox is the right thing
> to do.
>
> For the other proposed behavior the requirements seem unclear (i.e. should
> the selection be preserved or the values changed when the selection
> changes), so we need a specific use case where this is required to take a
> decision.
>
> Best regards
>
> Matthias
> On 11/20/19 11:27 AM, Andreas Neumann wrote:
>
> Hi,
>
> We came across an inconsistency in the field calculator:
>
> One can select the checkbox "Only update xx selected features" in
> combination with creating a new virtual field. This is quite misleading for
> the user, as the result is that all features (not only the selected ones)
> are updated.
>
> I see the following solutions:
>
> - disable the checkbox "only update xx selected features" as soon as a the
> field is created as virtual (the easy fix)
>
> - change the behavior of virtual fields in order to really allow update of
> selected features only. This would probably imply that we have to store the
> primary keys of the selected features somewhere and can lead to follow-up
> problems later on.
>
> Any opinions on this?
>
> Personally I would say that virtual fields cannot update "selected only
> features" and disable that checkbox as soon as virtual fields are created.
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/272e297f/attachment.html>

From a.neumann at carto.net  Tue Nov 26 23:39:47 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 27 Nov 2019 08:39:47 +0100
Subject: [QGIS-Developer] Temporary folders for processing
In-Reply-To: <CAB28AsjjEaSkzHK0mJB-vV_0rN8X+iiQrRWoshYF-Yma3afWGw@mail.gmail.com>
References: <5e0c8de334c8f7519de4227367e411e0@carto.net>
 <CALuHMPCqGqSQFJzptb5f8x1nhuJP0MnBpC=mtUJ1otyJtQkSfw@mail.gmail.com>
 <6b8fa47bba2504ed7b143d385fc09a3f@carto.net>
 <CALuHMPD44E119rKBaUFH3bxnfnLT=1zH4OKDCbz3n5Y0wJ-8CA@mail.gmail.com>
 <CAB28AsgkqJxmSLhSuxfonDA3XOtS_tOCJjw-GzhWrjXHv9guSw@mail.gmail.com>
 <1898ee8b6975c1927a38d5e53016516b@carto.net>
 <CAB28AsjjEaSkzHK0mJB-vV_0rN8X+iiQrRWoshYF-Yma3afWGw@mail.gmail.com>
Message-ID: <541eb1e9d1dc6f711387de95a50310e5@carto.net>

Hi Nyall, 

On 2019-11-27 00:22, Nyall Dawson wrote:

> Why not just set the temp folder environment variable for the whole
> user account? QGIS isn't the only application which uses the temp
> folder for storing files. You'll likely run into issues elsewhere if
> we just work around this on the QGIS side alone...

Absolutely. If I were in charge of the system, I would do that. I would
put/connect additional disks in the application servers and point the
temp folder variable to something separate of the C: drive. But I/we are
not in charge of the system. We have to rely on our central IT services
on whom we have very limited influence. I think that many GIS
administrators, unfortunately, are in a similar situation: they have to
operate in very limited and restricted environments defined by their
central IT services. I will suggest to them to change the "temp"
variable anyway - but if they react on that request, it will take some
time ... 

When we ran into this issue, I was also wondering - is QGIS really the
only application that creates larger files in our administration? And it
seems like it is. Hardly anyone in the organization works with graphics
files - and if they do, they have their own private PCs, and the typical
office files don't grow much. 

Anyway - Matthias is looking into finding a solution with us. 

Thanks, 
Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/aafb3342/attachment.html>

From andreaerdna at libero.it  Tue Nov 26 23:59:08 2019
From: andreaerdna at libero.it (andreaerdna)
Date: Wed, 27 Nov 2019 00:59:08 -0700 (MST)
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAB28AsiB-0VsfVPPtLWxXL6oKb1dJawBWdMbdgQsutsVsSRjog@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <1574426839485-0.post@n6.nabble.com> <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
 <551bf3acd7fca951a52e234c2baf9483@faunalia.it>
 <CAB28AsiB-0VsfVPPtLWxXL6oKb1dJawBWdMbdgQsutsVsSRjog@mail.gmail.com>
Message-ID: <1574841548520-0.post@n6.nabble.com>

Nyall Dawson wrote
> So we could revert to 3.4.13-1

It seems the standalone installer 3.4.13-2 for MS Windows is still available
for download on qgis.org.

Would it be possible to undo the commit
https://github.com/qgis/QGIS-Website/commit/6a9c3a01b98a291be21994dd61d8c0299b9a7ead
?

Undoing the commit will also revert the latest release standalone installer
downloadable to 3.10.0-1 (based on GDAL 2.4.1 and PROJ 5.2.0) instead of the
current 3.10.0-2 (GDAL 3.0.2 + PROJ 6.2.1), waiting for the new 3.10.1 that
will fix the crs problems.

What about the OSGeo4W installer? Now, installing qgis-ltr from OSGeo4W
installer will also install gdal-3.0.2-3 and proj-6.2.1-2.

Best regards.

Andrea Giudiceandrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From denis.rouzaud at gmail.com  Wed Nov 27 00:20:44 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 27 Nov 2019 09:20:44 +0100
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
 <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
 <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>
 <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
Message-ID: <CAMtsY+bQUusmzwAemkFWXqbC-ictXHr0nTS8D9jR6Kfemd3ZAw@mail.gmail.com>

Hi Nyall,

Many thanks!
I posted your answer on stackexchange to make the info more easily
accessible.
https://gis.stackexchange.com/questions/343126/how-to-perform-sync-or-async-network-request-in-pyqgis/343127#343127

The nam does offer support for authcfg and blocking request apparently (not
tested yet though).

Cheers,
Denis

Le mer. 27 nov. 2019 à 06:35, Nyall Dawson <nyall.dawson at gmail.com> a
écrit :

> On Wed, 27 Nov 2019 at 15:26, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >
> > Thanks Nyall for the precisions.
> > I wasn't aware of QgsBlockingNetworkRequest.
> >
> > So basically, if I don't require authcf, then starting from 3.6 there is
> no reason to use my python nam, I should use both QgsNetworkContentFetcher
> and QgsBlockingNetworkRequest. And from 3.10 if require authcfg in
> QgsNetworkContentFetcher.
> > Is this correct?
>
> QgsBlockingNetworkRequest has always supported auth, so you should use
> that in 3.6 and above in all situations WHEN you need a blocking
> request.
>
> QgsNetworkContentFetcher is async, so definitely prefer to use that
> whenever you don't need a blocking request.
>
> I'd say the matrix is something like
>
> QGIS 3.4:
>
>  Blocking:
>    With auth: python nam (but be aware that it CAN and DOES crash
> crashes if used on the main thread)
>    Without auth: python nam (but be aware that it CAN and DOES crash
> crashes if used on the main thread)
>
>  Non-blocking:
>    With auth:      nothing available off-the-shelf -- roll your own
> using raw the qt and QGIS auth api?
>    Without auth: QgsNetworkContentFetcher
>
> QGIS 3.6 - 3.8:
>
>  Blocking:
>    With auth: QgsBlockingNetworkRequest
>    Without auth: QgsBlockingNetworkRequest
>
>  Non-blocking:
>    With auth:      nothing available off-the-shelf -- roll your own
> using raw the qt and QGIS auth api?
>    Without auth: QgsNetworkContentFetcher
>
> QGIS 3.10:
>
>  Blocking:
>    With auth: QgsBlockingNetworkRequest
>    Without auth: QgsBlockingNetworkRequest
>
>  Non-blocking:
>    With auth:      QgsNetworkContentFetcher
>    Without auth: QgsNetworkContentFetcher
>
>
> Nyall
>
>
>
> >
> > Cheers,
> > Denis
> >
> > Le mer. 27 nov. 2019 à 00:27, Nyall Dawson <nyall.dawson at gmail.com> a
> écrit :
> >>
> >> On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >> >
> >> > Hi,
> >> >
> >> > Jumping late but we use the work from NAM Alessandro did in a couple
> of locator filters.
> >> >
> https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
> >> >
> >> > I believe I have done very very few adaptations/fixes to the original
> work and it works like a charm.
> >>
> >> Not quite. It works in some circumstances, but it uses an event loop.
> >> So if you run it on the main thread, you're potentially doing an
> >> effective call to QApplication.processEvents, which can lead to all
> >> sorts of crashes. That said, it's generally a safe approach to use for
> >> QGIS <= 3.4... just don't use it in any code which relates to
> >> rendering!
> >>
> >> >
> >> > I had in mind to bring this as is within QGIS core for some time. The
> main point being for us the blocking request rather than authcfg.
> >>
> >> That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
> >> re-re-implement this!
> >>
> >> Nyall
> >>
> >>
> >> >
> >> > Denis
> >> >
> >> > Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a
> écrit :
> >> >>
> >> >> Thanks everyone. This gives me some good ideas. These are the
> possible solutions:
> >> >>
> >> >> 1. Write a python implementation of QgsNetworkContentFetcher or
> QgsBlockingNetworkRequest. With this I could look at the QGIS version and
> if it is 3.10 or greater import the core method; otherwise, import the
> python implementation.
> >> >> 2. Use the old Boundless implementation if it still works in QGIS 3.
> >> >> 3. Use QgsFileDownloader and save it as a temporary file before
> processing.
> >> >>
> >> >> Calvin
> >> >>
> >> >> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <
> apasotti at gmail.com> wrote:
> >> >>>
> >> >>>
> >> >>>
> >> >>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <
> rdmailings at duif.net> wrote:
> >> >>>>
> >> >>>> On 26/11/2019 00.06, Nyall Dawson wrote:
> >> >>>>
> >> >>>> > There's not. But there's the ex-boundless "networkaccessmanager"
> >> >>>> > implementation that supports authcfg, which you can find at
> >> >>>> >
> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
> >> >>>> > (and other projects -- as far as I'm aware there's no real
> upstream
> >> >>>> > for this... Alessandro?).
> >> >>>>
> >> >>>> I used this Boundless thingie for several plugins now (original
> source
> >> >>>> is now pointing/redirecting to planetlabs [0]).
> >> >>>
> >> >>>
> >> >>> Yes, that's the "upstream" but I don't know if that one is
> maintained anymore.
> >> >>>
> >> >>> Btw, there is also a specialized class for sync/async downloads
> that supports authcfg:
> https://qgis.org/api/classQgsFileDownloader.html#details
> >> >>>
> >> >>>
> >> >>>>
> >> >>>>
> >> >>>> I think we already discussed several times that it would be good to
> >> >>>> incorporate this into a commons lib for QGIS. But if I'm correct
> the
> >> >>>> actual interface was not exactly what some wanted, and if I recall
> >> >>>> correct Nyall tried to pull this into c++ but hit some
> multithreading
> >> >>>> issues.
> >> >>>>
> >> >>>> But as Nyall says: I think this is a great lib to use in a plugin
> (also
> >> >>>> because it used the QgisNetwork-stuff, so you can receive the
> signals
> >> >>>> from it or log the precise urls, like we do in the
> QGISnetworklogger
> >> >>>> plugin [1]
> >> >>>>
> >> >>>> Regards,
> >> >>>>
> >> >>>> Richard Duivenvoorde
> >> >>>>
> >> >>>> [0]
> >> >>>>
> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
> >> >>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
> >> >>>> _______________________________________________
> >> >>>> Qgis-user mailing list
> >> >>>> Qgis-user at lists.osgeo.org
> >> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >> >>>
> >> >>>
> >> >>>
> >> >>> --
> >> >>> Alessandro Pasotti
> >> >>> w3:   www.itopen.it
> >> >>
> >> >> _______________________________________________
> >> >> QGIS-Developer mailing list
> >> >> QGIS-Developer at lists.osgeo.org
> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >
> >> > _______________________________________________
> >> > QGIS-Developer mailing list
> >> > QGIS-Developer at lists.osgeo.org
> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/5aa720cc/attachment-0001.html>

From luipir at gmail.com  Wed Nov 27 00:24:18 2019
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 27 Nov 2019 09:24:18 +0100
Subject: [QGIS-Developer] Instalacion de Qgis en Rhel 7 u 8
In-Reply-To: <CABAfovPD0HtjAZj_4h-RsYwuz2ah8hT2u67VyYk25CVuG033mw@mail.gmail.com>
References: <CABAfovPD0HtjAZj_4h-RsYwuz2ah8hT2u67VyYk25CVuG033mw@mail.gmail.com>
Message-ID: <CAFO80_ooRLw1+tCJ9kqUjQ5Nc3ppWOaEPyke8OQh3cfEeqQb-A@mail.gmail.com>

Hi Fabian

this is a english speaking mailing list!

btw if you need latest stuffs you shouldn't use redhat that is a
conservative (certified oriented) distribution. BUT you can override the
problem running qgis ina docker container. RedHat should have docker...
then just do:
docker pull qgis:qgis:latest (or whatever version).
Tha fact that qgis on docker is based on ubuntu does not means that it does
not work on redhat... ubuntu is only the container context in which qgis is
running.

If you need more spanish speaking support you can check mailing list of
telegram group... look for info here: http://qgis.es/ or the mexican group
and so on...

regards

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Book: Mastering QGIS3 - 3rd Edition
<https://www.packtpub.com/eu/application-development/mastering-geospatial-development-qgis-3x-third-edition>
* Hire a team: http://www.qcooperative.net
**************************************************************************************************


On Tue, 26 Nov 2019 at 22:06, Fabian Jimenez <ffabianjimenez at gmail.com>
wrote:

> Actualmente cuento con Qgis 2.14.1 en un servidor Linux RedHat 7.3, sin
> embargo, no he podido hacer el upgrade a 3.x por medio de rpm o hacer la
> instalacion inicial por este mismo medio, ya que marca dependencias
> infinitas que aun teniendolos en un repositorio local, me sigue marcando el
> error.
>
> Tendra algun repositorio para la version Qgis 3.x o alguna documentacion
> donde me pueda basar para hacer dicha instalacion.?
>
> Por otro lado, es posible instalar la version 3.10 en un servidor RedHat
> 7.??
>
> He visto docker con Qgis, sin embargo, estos estan basados en Ubuntu,
> existe un Docker de qgis 3.x para RedHat .?
>
> De antemano muchas gracias.
>
> *Ing. Federico Fabián Jiménez Esparza*
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/bfc76021/attachment.html>

From jef at norbit.de  Wed Nov 27 00:37:17 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 27 Nov 2019 09:37:17 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <1574841548520-0.post@n6.nabble.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <1574426839485-0.post@n6.nabble.com> <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700>
 <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
 <551bf3acd7fca951a52e234c2baf9483@faunalia.it>
 <CAB28AsiB-0VsfVPPtLWxXL6oKb1dJawBWdMbdgQsutsVsSRjog@mail.gmail.com>
 <1574841548520-0.post@n6.nabble.com>
Message-ID: <20191127083717.szw6bmezxecnvlsq@norbit.de>

Hi Andrea,

On Wed, 27. Nov 2019 at 00:59:08 -0700, andreaerdna wrote:
> What about the OSGeo4W installer? Now, installing qgis-ltr from OSGeo4W
> installer will also install gdal-3.0.2-3 and proj-6.2.1-2.

And those don't fix the issue for you?

Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/27943427/attachment.sig>

From madmanwoo at gmail.com  Wed Nov 27 02:15:33 2019
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 27 Nov 2019 20:15:33 +1000
Subject: [QGIS-Developer] Log file? - QGIS not starting
In-Reply-To: <1574782452009-0.post@n6.nabble.com>
References: <1574782452009-0.post@n6.nabble.com>
Message-ID: <CAAi8Yg_U1Ui4W=+oKPFs71Nf2G5C_mtjtJ6ENdhHBczU_YiLeg@mail.gmail.com>

Hi,

Are the dlls inside C:\OSGeo4W\apps\qgis\bin?  Main issue with this error
is generally means "we tried to load qgis_app.dll, or another dll that it
needs and we couldn't find it so here is a poor error dialog"  It's a
tricky one to debug at times. Check that folder first for the dlls and we
can go from there if they are.

There are some other tools you can use to track down what file it might be
missing.

Also, do you have a virus scanner that might be taking one of the files
that QGIS needs to load and moving it away.  We have seen that happen
before with some dlls getting moved or blocked from installing due to a
virus scanner.

Regards,
Nathan

On Wed, Nov 27, 2019 at 1:34 AM magerlin <MAP at ramboll.dk> wrote:

> Having problems installing QGIS on a colleagues brand new Win 10 PC.
> I have recently installed without problems on my own identical PC.
>
> We have tried 3.4 and 3.10 both as Standalone and from OSGeo4W.
>
> But situation is the same:
>
> QGIS 3.4:
> <http://osgeo-org.1560.x6.nabble.com/file/t202356/3%2C4.png>
> C:\Program Files\QGIS 3.4\apps\qgis-ltr\bin\Qgis_app.dll
> does exist on PC but the .env file does not
>
>
>
> QGIS 3.10:
> <http://osgeo-org.1560.x6.nabble.com/file/t202356/3.png>
>
> Here the .env file exists and contains this:
>
>
> PATH=C:\OSGEO4~1\apps\qgis\bin;C:\OSGEO4~1\apps\grass\grass78\lib;C:\OSGEO4~1\apps\grass\grass78\bin;C:\OSGEO4~1\apps\Python37;C:\OSGEO4~1\apps\Python37\Scripts;C:\OSGEO4~1\apps\qt5\bin;C:\OSGEO4~1\apps\Python37;C:\OSGEO4~1\apps\Python37\Scripts;C:\OSGEO4~1\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32\WBem
> GDAL_DATA=C:\OSGEO4~1\share\gdal
> GDAL_DRIVER_PATH=C:\OSGEO4~1\bin\gdalplugins
> GDAL_FILENAME_IS_UTF8=YES
> GEOTIFF_CSV=C:\OSGEO4~1\share\epsg_csv
> GISBASE=C:\OSGEO4~1\apps\grass\grass78
> GRASS_PROJSHARE=C:\OSGEO4~1\share\proj
> GRASS_PYTHON=C:\OSGEO4~1\bin\python3.exe
> JPEGMEM=1000000
> OSGEO4W_ROOT=C:\OSGEO4~1
> PROJ_LIB=C:\OSGEO4~1\share\proj
> PYTHONHOME=C:\OSGEO4~1\apps\Python37
> QGIS_PREFIX_PATH=C:/OSGEO4~1/apps/qgis
> QT_PLUGIN_PATH=C:\OSGEO4~1\apps\qgis\qtplugins;C:\OSGEO4~1\apps\qt5\plugins
> VSI_CACHE=TRUE
> VSI_CACHE_SIZE=1000000
> O4W_QT_PREFIX=C:/OSGEO4~1/apps/Qt5
> O4W_QT_BINARIES=C:/OSGEO4~1/apps/Qt5/bin
> O4W_QT_PLUGINS=C:/OSGEO4~1/apps/Qt5/plugins
> O4W_QT_LIBRARIES=C:/OSGEO4~1/apps/Qt5/lib
> O4W_QT_TRANSLATIONS=C:/OSGEO4~1/apps/Qt5/translations
> O4W_QT_HEADERS=C:/OSGEO4~1/apps/Qt5/include
>
>
>
>
>
>
> -----
> Regards Morten
>
> Currently using Qgis 3.10.0
> Windows 10, 64bit
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/f1d4fc33/attachment.html>

From a.neumann at carto.net  Wed Nov 27 02:34:56 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 27 Nov 2019 11:34:56 +0100
Subject: [QGIS-Developer] QGIS field calculator: issue with updating
 selected only features in combination with virtual field
In-Reply-To: <CAMtsY+b6BiTFdVNnFb94odcW3EFSbR_xJ5Eq4bU+MeVNxmnuEg@mail.gmail.com>
References: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>
 <ef2959f2-b59e-6145-ced3-6a64a9972678@opengis.ch>
 <CAMtsY+b6BiTFdVNnFb94odcW3EFSbR_xJ5Eq4bU+MeVNxmnuEg@mail.gmail.com>
Message-ID: <989bc1211a74ff8f786a88e795cb9ef2@carto.net>

Hi Denis, 

But it is currently broken - right? 

If I go to field calculator on a read only PG layer, I can only create
"Virtual fields" no "Physical fields", because my layer is read only
(this is expected). However, the checkbox to only update the "xx
selected" features is activated by default and not greyed out. And I can
toggle the Checkbox, although it has no effect and is misleading. 

I just tested it in 3.4.x and 3.10. 

I can open an issue on it. 

Andreas 

On 2019-11-27 08:35, Denis Rouzaud wrote:

> Hi Andreas, 
> 
> It does sound like this is the current status today: the "update only..." checkbox is disabled if you create a virtual field. 
> It seems Matthias ;) coded it in 2014: https://github.com/qgis/QGIS/commit/68de043ecbcf0203b6a3667b488be71f479e5d91#diff-ff2f9c5bc35d79bfe1f0b7690bc60819R344 
> 
> Cheers 
> 
> Le mer. 20 nov. 2019 à 13:12, Matthias Kuhn <matthias at opengis.ch> a écrit : 
> 
> Hi Andreas, 
> 
> On first sight I'd also say that disabling the checkbox is the right thing to do. 
> 
> For the other proposed behavior the requirements seem unclear (i.e. should the selection be preserved or the values changed when the selection changes), so we need a specific use case where this is required to take a decision. 
> 
> Best regards 
> 
> Matthias
> 
> On 11/20/19 11:27 AM, Andreas Neumann wrote: 
> 
> Hi, 
> 
> We came across an inconsistency in the field calculator: 
> 
> One can select the checkbox "Only update xx selected features" in combination with creating a new virtual field. This is quite misleading for the user, as the result is that all features (not only the selected ones) are updated. 
> 
> I see the following solutions: 
> 
> - disable the checkbox "only update xx selected features" as soon as a the field is created as virtual (the easy fix) 
> 
> - change the behavior of virtual fields in order to really allow update of selected features only. This would probably imply that we have to store the primary keys of the selected features somewhere and can lead to follow-up problems later on. 
> 
> Any opinions on this? 
> 
> Personally I would say that virtual fields cannot update "selected only features" and disable that checkbox as soon as virtual fields are created. 
> 
> Andreas 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/b66b1d54/attachment-0001.html>

From denis.rouzaud at gmail.com  Wed Nov 27 04:41:31 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 27 Nov 2019 13:41:31 +0100
Subject: [QGIS-Developer] QGIS field calculator: issue with updating
 selected only features in combination with virtual field
In-Reply-To: <989bc1211a74ff8f786a88e795cb9ef2@carto.net>
References: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>
 <ef2959f2-b59e-6145-ced3-6a64a9972678@opengis.ch>
 <CAMtsY+b6BiTFdVNnFb94odcW3EFSbR_xJ5Eq4bU+MeVNxmnuEg@mail.gmail.com>
 <989bc1211a74ff8f786a88e795cb9ef2@carto.net>
Message-ID: <CAMtsY+Y3gQmf0+a9yGPC-6DMWbFy_C_A1f-7ixT_uSfHLDtu_g@mail.gmail.com>

Hi Andreas,

Here is a PR for a fix https://github.com/qgis/QGIS/pull/33101

Denis

Le mer. 27 nov. 2019 à 11:34, Andreas Neumann <a.neumann at carto.net> a
écrit :

> Hi Denis,
>
> But it is currently broken - right?
>
> If I go to field calculator on a read only PG layer, I can only create
> "Virtual fields" no "Physical fields", because my layer is read only (this
> is expected). However, the checkbox to only update the "xx selected"
> features is activated by default and not greyed out. And I can toggle the
> Checkbox, although it has no effect and is misleading.
>
> I just tested it in 3.4.x and 3.10.
>
> I can open an issue on it.
>
> Andreas
>
>
> On 2019-11-27 08:35, Denis Rouzaud wrote:
>
> Hi Andreas,
>
> It does sound like this is the current status today: the "update only..."
> checkbox is disabled if you create a virtual field.
> It seems Matthias ;) coded it in 2014:
> https://github.com/qgis/QGIS/commit/68de043ecbcf0203b6a3667b488be71f479e5d91#diff-ff2f9c5bc35d79bfe1f0b7690bc60819R344
>
> Cheers
>
> Le mer. 20 nov. 2019 à 13:12, Matthias Kuhn <matthias at opengis.ch> a
> écrit :
>
> Hi Andreas,
>
> On first sight I'd also say that disabling the checkbox is the right thing
> to do.
>
> For the other proposed behavior the requirements seem unclear (i.e. should
> the selection be preserved or the values changed when the selection
> changes), so we need a specific use case where this is required to take a
> decision.
>
> Best regards
>
> Matthias
> On 11/20/19 11:27 AM, Andreas Neumann wrote:
>
> Hi,
>
> We came across an inconsistency in the field calculator:
>
> One can select the checkbox "Only update xx selected features" in
> combination with creating a new virtual field. This is quite misleading for
> the user, as the result is that all features (not only the selected ones)
> are updated.
>
> I see the following solutions:
>
> - disable the checkbox "only update xx selected features" as soon as a the
> field is created as virtual (the easy fix)
>
> - change the behavior of virtual fields in order to really allow update of
> selected features only. This would probably imply that we have to store the
> primary keys of the selected features somewhere and can lead to follow-up
> problems later on.
>
> Any opinions on this?
>
> Personally I would say that virtual fields cannot update "selected only
> features" and disable that checkbox as soon as virtual fields are created.
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/193e76dd/attachment.html>

From a.neumann at carto.net  Wed Nov 27 04:45:51 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 27 Nov 2019 13:45:51 +0100
Subject: [QGIS-Developer] QGIS field calculator: issue with updating
 selected only features in combination with virtual field
In-Reply-To: <CAMtsY+Y3gQmf0+a9yGPC-6DMWbFy_C_A1f-7ixT_uSfHLDtu_g@mail.gmail.com>
References: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>
 <ef2959f2-b59e-6145-ced3-6a64a9972678@opengis.ch>
 <CAMtsY+b6BiTFdVNnFb94odcW3EFSbR_xJ5Eq4bU+MeVNxmnuEg@mail.gmail.com>
 <989bc1211a74ff8f786a88e795cb9ef2@carto.net>
 <CAMtsY+Y3gQmf0+a9yGPC-6DMWbFy_C_A1f-7ixT_uSfHLDtu_g@mail.gmail.com>
Message-ID: <13f09aace5f1ffa993d90913371a8509@carto.net>

Hi Denis, 

Very good. Do you want me to test it? Is it backportable to 3.4 / 3.10? 

Thanks, 

Andreas 

On 2019-11-27 13:41, Denis Rouzaud wrote:

> Hi Andreas, 
> 
> Here is a PR for a fix https://github.com/qgis/QGIS/pull/33101 
> 
> Denis 
> 
> Le mer. 27 nov. 2019 à 11:34, Andreas Neumann <a.neumann at carto.net> a écrit : 
> 
> Hi Denis, 
> 
> But it is currently broken - right? 
> 
> If I go to field calculator on a read only PG layer, I can only create "Virtual fields" no "Physical fields", because my layer is read only (this is expected). However, the checkbox to only update the "xx selected" features is activated by default and not greyed out. And I can toggle the Checkbox, although it has no effect and is misleading. 
> 
> I just tested it in 3.4.x and 3.10. 
> 
> I can open an issue on it. 
> 
> Andreas 
> 
> On 2019-11-27 08:35, Denis Rouzaud wrote: 
> 
> Hi Andreas, 
> 
> It does sound like this is the current status today: the "update only..." checkbox is disabled if you create a virtual field. 
> It seems Matthias ;) coded it in 2014: https://github.com/qgis/QGIS/commit/68de043ecbcf0203b6a3667b488be71f479e5d91#diff-ff2f9c5bc35d79bfe1f0b7690bc60819R344 
> 
> Cheers 
> 
> Le mer. 20 nov. 2019 à 13:12, Matthias Kuhn <matthias at opengis.ch> a écrit : 
> 
> Hi Andreas, 
> 
> On first sight I'd also say that disabling the checkbox is the right thing to do. 
> 
> For the other proposed behavior the requirements seem unclear (i.e. should the selection be preserved or the values changed when the selection changes), so we need a specific use case where this is required to take a decision. 
> 
> Best regards 
> 
> Matthias
> 
> On 11/20/19 11:27 AM, Andreas Neumann wrote: 
> 
> Hi, 
> 
> We came across an inconsistency in the field calculator: 
> 
> One can select the checkbox "Only update xx selected features" in combination with creating a new virtual field. This is quite misleading for the user, as the result is that all features (not only the selected ones) are updated. 
> 
> I see the following solutions: 
> 
> - disable the checkbox "only update xx selected features" as soon as a the field is created as virtual (the easy fix) 
> 
> - change the behavior of virtual fields in order to really allow update of selected features only. This would probably imply that we have to store the primary keys of the selected features somewhere and can lead to follow-up problems later on. 
> 
> Any opinions on this? 
> 
> Personally I would say that virtual fields cannot update "selected only features" and disable that checkbox as soon as virtual fields are created. 
> 
> Andreas 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/e6ff6049/attachment.html>

From jef at norbit.de  Wed Nov 27 04:46:03 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 27 Nov 2019 13:46:03 +0100
Subject: [QGIS-Developer] Log file? - QGIS not starting
In-Reply-To: <1574782452009-0.post@n6.nabble.com>
References: <1574782452009-0.post@n6.nabble.com>
Message-ID: <20191127124603.zmkehqhjzfrjvhtg@norbit.de>

Hi Morten,

On Tue, 26. Nov 2019 at 08:34:12 -0700, magerlin wrote:
> Having problems installing QGIS on a colleagues brand new Win 10 PC.
> I have recently installed without problems on my own identical PC.
> 
> We have tried 3.4 and 3.10 both as Standalone and from OSGeo4W.
> 
> But situation is the same: 
> 
> QGIS 3.4:
> <http://osgeo-org.1560.x6.nabble.com/file/t202356/3%2C4.png> 
> C:\Program Files\QGIS 3.4\apps\qgis-ltr\bin\Qgis_app.dll          
> does exist on PC but the .env file does not

You could try https://github.com/qgis/QGIS/issues/26891#issuecomment-495889169
to diagnose this.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/ea442d8c/attachment-0001.sig>

From Jacky.VOLPES-EXT at canal-de-provence.com  Wed Nov 27 06:12:02 2019
From: Jacky.VOLPES-EXT at canal-de-provence.com (VOLPES-EXT, Jacky)
Date: Wed, 27 Nov 2019 14:12:02 +0000
Subject: [QGIS-Developer]  Qt resources from standalone app
Message-ID: <e3902ef4e9964323b7e77b605443359d@SCPEX2K13-1.scp.fr>

Hi !

I'm working on Windows, with QGIS 3.4.
I instantiate a QgsAdvancedDigitizingDockWidget in my Python QGIS standalone app, which is then looking for resources in ":/images/themes/default/cadtools/etc.".
According to Qt5 resources documentation, "Qt always stores the data directly in the executable, even on Windows".
So I have no .qrc file I could have compiled with pyrcc5.

As a result, I have these error messages in my python console :

qt.svg: Cannot open file ':/images/themes/default/cadtools/cad.svg', because: No such file or directory
qt.svg: Cannot open file ':/images/themes/default/cadtools/construction.svg', because: No such file or directory
qt.svg: Cannot open file ':/images/themes/default/cadtools/parallel.svg', because: No such file or directory
[...]

Maybe there is a way to initialize/register these resources from the python API ?

Thanks,
BR

Jacky Volpes
HR Team pour la Société du Canal de Provence | 2SI - QGIS
Le Tholonet, CS70064
jacky.volpes-ext at canal-de-provence.com<mailto:jacky.volpes-ext at canal-de-provence.com>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/74a18e77/attachment.html>

From adenaculture at gmail.com  Wed Nov 27 06:51:06 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 27 Nov 2019 09:51:06 -0500
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
 <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
 <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>
 <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
Message-ID: <CABPxTTpKmGOVdZqfXa99R+uK0yEZkL8FpS2QUmk3Qa6CxKouXQ@mail.gmail.com>

Nyall,

Thanks so much for this detailed explanation. Without it I probably would
have taken the wrong direction and wasted a lot of time.
QgsBlockingNetworkRequest is probably what I need so my development with
this will assume user's have 3.6 or later.

Calvin


On Wed, Nov 27, 2019 at 12:35 AM Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On Wed, 27 Nov 2019 at 15:26, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >
> > Thanks Nyall for the precisions.
> > I wasn't aware of QgsBlockingNetworkRequest.
> >
> > So basically, if I don't require authcf, then starting from 3.6 there is
> no reason to use my python nam, I should use both QgsNetworkContentFetcher
> and QgsBlockingNetworkRequest. And from 3.10 if require authcfg in
> QgsNetworkContentFetcher.
> > Is this correct?
>
> QgsBlockingNetworkRequest has always supported auth, so you should use
> that in 3.6 and above in all situations WHEN you need a blocking
> request.
>
> QgsNetworkContentFetcher is async, so definitely prefer to use that
> whenever you don't need a blocking request.
>
> I'd say the matrix is something like
>
> QGIS 3.4:
>
>  Blocking:
>    With auth: python nam (but be aware that it CAN and DOES crash
> crashes if used on the main thread)
>    Without auth: python nam (but be aware that it CAN and DOES crash
> crashes if used on the main thread)
>
>  Non-blocking:
>    With auth:      nothing available off-the-shelf -- roll your own
> using raw the qt and QGIS auth api?
>    Without auth: QgsNetworkContentFetcher
>
> QGIS 3.6 - 3.8:
>
>  Blocking:
>    With auth: QgsBlockingNetworkRequest
>    Without auth: QgsBlockingNetworkRequest
>
>  Non-blocking:
>    With auth:      nothing available off-the-shelf -- roll your own
> using raw the qt and QGIS auth api?
>    Without auth: QgsNetworkContentFetcher
>
> QGIS 3.10:
>
>  Blocking:
>    With auth: QgsBlockingNetworkRequest
>    Without auth: QgsBlockingNetworkRequest
>
>  Non-blocking:
>    With auth:      QgsNetworkContentFetcher
>    Without auth: QgsNetworkContentFetcher
>
>
> Nyall
>
>
>
> >
> > Cheers,
> > Denis
> >
> > Le mer. 27 nov. 2019 à 00:27, Nyall Dawson <nyall.dawson at gmail.com> a
> écrit :
> >>
> >> On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >> >
> >> > Hi,
> >> >
> >> > Jumping late but we use the work from NAM Alessandro did in a couple
> of locator filters.
> >> >
> https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
> >> >
> >> > I believe I have done very very few adaptations/fixes to the original
> work and it works like a charm.
> >>
> >> Not quite. It works in some circumstances, but it uses an event loop.
> >> So if you run it on the main thread, you're potentially doing an
> >> effective call to QApplication.processEvents, which can lead to all
> >> sorts of crashes. That said, it's generally a safe approach to use for
> >> QGIS <= 3.4... just don't use it in any code which relates to
> >> rendering!
> >>
> >> >
> >> > I had in mind to bring this as is within QGIS core for some time. The
> main point being for us the blocking request rather than authcfg.
> >>
> >> That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
> >> re-re-implement this!
> >>
> >> Nyall
> >>
> >>
> >> >
> >> > Denis
> >> >
> >> > Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a
> écrit :
> >> >>
> >> >> Thanks everyone. This gives me some good ideas. These are the
> possible solutions:
> >> >>
> >> >> 1. Write a python implementation of QgsNetworkContentFetcher or
> QgsBlockingNetworkRequest. With this I could look at the QGIS version and
> if it is 3.10 or greater import the core method; otherwise, import the
> python implementation.
> >> >> 2. Use the old Boundless implementation if it still works in QGIS 3.
> >> >> 3. Use QgsFileDownloader and save it as a temporary file before
> processing.
> >> >>
> >> >> Calvin
> >> >>
> >> >> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <
> apasotti at gmail.com> wrote:
> >> >>>
> >> >>>
> >> >>>
> >> >>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <
> rdmailings at duif.net> wrote:
> >> >>>>
> >> >>>> On 26/11/2019 00.06, Nyall Dawson wrote:
> >> >>>>
> >> >>>> > There's not. But there's the ex-boundless "networkaccessmanager"
> >> >>>> > implementation that supports authcfg, which you can find at
> >> >>>> >
> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
> >> >>>> > (and other projects -- as far as I'm aware there's no real
> upstream
> >> >>>> > for this... Alessandro?).
> >> >>>>
> >> >>>> I used this Boundless thingie for several plugins now (original
> source
> >> >>>> is now pointing/redirecting to planetlabs [0]).
> >> >>>
> >> >>>
> >> >>> Yes, that's the "upstream" but I don't know if that one is
> maintained anymore.
> >> >>>
> >> >>> Btw, there is also a specialized class for sync/async downloads
> that supports authcfg:
> https://qgis.org/api/classQgsFileDownloader.html#details
> >> >>>
> >> >>>
> >> >>>>
> >> >>>>
> >> >>>> I think we already discussed several times that it would be good to
> >> >>>> incorporate this into a commons lib for QGIS. But if I'm correct
> the
> >> >>>> actual interface was not exactly what some wanted, and if I recall
> >> >>>> correct Nyall tried to pull this into c++ but hit some
> multithreading
> >> >>>> issues.
> >> >>>>
> >> >>>> But as Nyall says: I think this is a great lib to use in a plugin
> (also
> >> >>>> because it used the QgisNetwork-stuff, so you can receive the
> signals
> >> >>>> from it or log the precise urls, like we do in the
> QGISnetworklogger
> >> >>>> plugin [1]
> >> >>>>
> >> >>>> Regards,
> >> >>>>
> >> >>>> Richard Duivenvoorde
> >> >>>>
> >> >>>> [0]
> >> >>>>
> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
> >> >>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
> >> >>>> _______________________________________________
> >> >>>> Qgis-user mailing list
> >> >>>> Qgis-user at lists.osgeo.org
> >> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >> >>>
> >> >>>
> >> >>>
> >> >>> --
> >> >>> Alessandro Pasotti
> >> >>> w3:   www.itopen.it
> >> >>
> >> >> _______________________________________________
> >> >> QGIS-Developer mailing list
> >> >> QGIS-Developer at lists.osgeo.org
> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >
> >> > _______________________________________________
> >> > QGIS-Developer mailing list
> >> > QGIS-Developer at lists.osgeo.org
> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/177f7e45/attachment-0001.html>

From noreply at qgis.org  Wed Nov 27 07:07:31 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 27 Nov 2019 15:07:31 -0000
Subject: [QGIS-Developer] Plugin [1893] atlasprint approval notification.
Message-ID: <20191127150731.19728.63670@2c6504964296>


Plugin atlasprint approval by kimaidou.
The plugin version "[1893] atlasprint 2.0.0" is now approved
Link: http://plugins.qgis.org/plugins/atlasprint/

From adenaculture at gmail.com  Wed Nov 27 08:07:21 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 27 Nov 2019 11:07:21 -0500
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
 <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
 <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>
 <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
Message-ID: <CABPxTTr22aSmTBh7ghd7erXp-rcLD5eDoFCgtOAOT7HgDWytog@mail.gmail.com>

For some reason I cannot seem to get QgsBlockingNetworkRequest to work.
Also I think there is an error in the documentation where it says, "After
completion of a request, the reply content should be retrieved by calling
getReplyContent()." It appears to me to be reply().

This is basically my code. Am I doing something wrong?
request = QgsBlockingNetworkRequest()
request.setAuthCfg(authcfg)
error_code = request.get(QNetworkRequest(QUrl(url)), forceRefresh=True)

The error that is returned is a ServerExceptionError. Is
QgsBlockingNetworkRequest really handling redirects?

I've had luck with QgsFileDownloader, but using a method you say I
shouldn't. This works.

tempfile = QgsProcessingUtils.generateTempFilename('data.json')
loop = QEventLoop()
dl = QgsFileDownloader(QUrl(url), tempfile, authcfg, delayStart=True)
dl.downloadExited.connect(loop.quit)
dl.startDownload()
loop.exec_()

In this case the data was correctly written into the tempfile.



On Wed, Nov 27, 2019 at 12:35 AM Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On Wed, 27 Nov 2019 at 15:26, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >
> > Thanks Nyall for the precisions.
> > I wasn't aware of QgsBlockingNetworkRequest.
> >
> > So basically, if I don't require authcf, then starting from 3.6 there is
> no reason to use my python nam, I should use both QgsNetworkContentFetcher
> and QgsBlockingNetworkRequest. And from 3.10 if require authcfg in
> QgsNetworkContentFetcher.
> > Is this correct?
>
> QgsBlockingNetworkRequest has always supported auth, so you should use
> that in 3.6 and above in all situations WHEN you need a blocking
> request.
>
> QgsNetworkContentFetcher is async, so definitely prefer to use that
> whenever you don't need a blocking request.
>
> I'd say the matrix is something like
>
> QGIS 3.4:
>
>  Blocking:
>    With auth: python nam (but be aware that it CAN and DOES crash
> crashes if used on the main thread)
>    Without auth: python nam (but be aware that it CAN and DOES crash
> crashes if used on the main thread)
>
>  Non-blocking:
>    With auth:      nothing available off-the-shelf -- roll your own
> using raw the qt and QGIS auth api?
>    Without auth: QgsNetworkContentFetcher
>
> QGIS 3.6 - 3.8:
>
>  Blocking:
>    With auth: QgsBlockingNetworkRequest
>    Without auth: QgsBlockingNetworkRequest
>
>  Non-blocking:
>    With auth:      nothing available off-the-shelf -- roll your own
> using raw the qt and QGIS auth api?
>    Without auth: QgsNetworkContentFetcher
>
> QGIS 3.10:
>
>  Blocking:
>    With auth: QgsBlockingNetworkRequest
>    Without auth: QgsBlockingNetworkRequest
>
>  Non-blocking:
>    With auth:      QgsNetworkContentFetcher
>    Without auth: QgsNetworkContentFetcher
>
>
> Nyall
>
>
>
> >
> > Cheers,
> > Denis
> >
> > Le mer. 27 nov. 2019 à 00:27, Nyall Dawson <nyall.dawson at gmail.com> a
> écrit :
> >>
> >> On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >> >
> >> > Hi,
> >> >
> >> > Jumping late but we use the work from NAM Alessandro did in a couple
> of locator filters.
> >> >
> https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
> >> >
> >> > I believe I have done very very few adaptations/fixes to the original
> work and it works like a charm.
> >>
> >> Not quite. It works in some circumstances, but it uses an event loop.
> >> So if you run it on the main thread, you're potentially doing an
> >> effective call to QApplication.processEvents, which can lead to all
> >> sorts of crashes. That said, it's generally a safe approach to use for
> >> QGIS <= 3.4... just don't use it in any code which relates to
> >> rendering!
> >>
> >> >
> >> > I had in mind to bring this as is within QGIS core for some time. The
> main point being for us the blocking request rather than authcfg.
> >>
> >> That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
> >> re-re-implement this!
> >>
> >> Nyall
> >>
> >>
> >> >
> >> > Denis
> >> >
> >> > Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a
> écrit :
> >> >>
> >> >> Thanks everyone. This gives me some good ideas. These are the
> possible solutions:
> >> >>
> >> >> 1. Write a python implementation of QgsNetworkContentFetcher or
> QgsBlockingNetworkRequest. With this I could look at the QGIS version and
> if it is 3.10 or greater import the core method; otherwise, import the
> python implementation.
> >> >> 2. Use the old Boundless implementation if it still works in QGIS 3.
> >> >> 3. Use QgsFileDownloader and save it as a temporary file before
> processing.
> >> >>
> >> >> Calvin
> >> >>
> >> >> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <
> apasotti at gmail.com> wrote:
> >> >>>
> >> >>>
> >> >>>
> >> >>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <
> rdmailings at duif.net> wrote:
> >> >>>>
> >> >>>> On 26/11/2019 00.06, Nyall Dawson wrote:
> >> >>>>
> >> >>>> > There's not. But there's the ex-boundless "networkaccessmanager"
> >> >>>> > implementation that supports authcfg, which you can find at
> >> >>>> >
> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
> >> >>>> > (and other projects -- as far as I'm aware there's no real
> upstream
> >> >>>> > for this... Alessandro?).
> >> >>>>
> >> >>>> I used this Boundless thingie for several plugins now (original
> source
> >> >>>> is now pointing/redirecting to planetlabs [0]).
> >> >>>
> >> >>>
> >> >>> Yes, that's the "upstream" but I don't know if that one is
> maintained anymore.
> >> >>>
> >> >>> Btw, there is also a specialized class for sync/async downloads
> that supports authcfg:
> https://qgis.org/api/classQgsFileDownloader.html#details
> >> >>>
> >> >>>
> >> >>>>
> >> >>>>
> >> >>>> I think we already discussed several times that it would be good to
> >> >>>> incorporate this into a commons lib for QGIS. But if I'm correct
> the
> >> >>>> actual interface was not exactly what some wanted, and if I recall
> >> >>>> correct Nyall tried to pull this into c++ but hit some
> multithreading
> >> >>>> issues.
> >> >>>>
> >> >>>> But as Nyall says: I think this is a great lib to use in a plugin
> (also
> >> >>>> because it used the QgisNetwork-stuff, so you can receive the
> signals
> >> >>>> from it or log the precise urls, like we do in the
> QGISnetworklogger
> >> >>>> plugin [1]
> >> >>>>
> >> >>>> Regards,
> >> >>>>
> >> >>>> Richard Duivenvoorde
> >> >>>>
> >> >>>> [0]
> >> >>>>
> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
> >> >>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
> >> >>>> _______________________________________________
> >> >>>> Qgis-user mailing list
> >> >>>> Qgis-user at lists.osgeo.org
> >> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >> >>>
> >> >>>
> >> >>>
> >> >>> --
> >> >>> Alessandro Pasotti
> >> >>> w3:   www.itopen.it
> >> >>
> >> >> _______________________________________________
> >> >> QGIS-Developer mailing list
> >> >> QGIS-Developer at lists.osgeo.org
> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >
> >> > _______________________________________________
> >> > QGIS-Developer mailing list
> >> > QGIS-Developer at lists.osgeo.org
> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/60083043/attachment.html>

From denis.rouzaud at gmail.com  Wed Nov 27 08:21:15 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 27 Nov 2019 17:21:15 +0100
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CABPxTTr22aSmTBh7ghd7erXp-rcLD5eDoFCgtOAOT7HgDWytog@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
 <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
 <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>
 <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
 <CABPxTTr22aSmTBh7ghd7erXp-rcLD5eDoFCgtOAOT7HgDWytog@mail.gmail.com>
Message-ID: <CAMtsY+YA1WGibyyi8HVBYtvyrBLcd06ZgOweWWf+GZQTtP2n-g@mail.gmail.com>

There is a redirect policy
https://doc.qt.io/qt-5/qnetworkrequest.html#RedirectPolicy-enum

Le mer. 27 nov. 2019 à 17:07, C Hamilton <adenaculture at gmail.com> a écrit :

> For some reason I cannot seem to get QgsBlockingNetworkRequest to work.
> Also I think there is an error in the documentation where it says, "After
> completion of a request, the reply content should be retrieved by calling
> getReplyContent()." It appears to me to be reply().
>
> This is basically my code. Am I doing something wrong?
> request = QgsBlockingNetworkRequest()
> request.setAuthCfg(authcfg)
> error_code = request.get(QNetworkRequest(QUrl(url)), forceRefresh=True)
>
> The error that is returned is a ServerExceptionError. Is
> QgsBlockingNetworkRequest really handling redirects?
>
> I've had luck with QgsFileDownloader, but using a method you say I
> shouldn't. This works.
>
> tempfile = QgsProcessingUtils.generateTempFilename('data.json')
> loop = QEventLoop()
> dl = QgsFileDownloader(QUrl(url), tempfile, authcfg, delayStart=True)
> dl.downloadExited.connect(loop.quit)
> dl.startDownload()
> loop.exec_()
>
> In this case the data was correctly written into the tempfile.
>
>
>
> On Wed, Nov 27, 2019 at 12:35 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> On Wed, 27 Nov 2019 at 15:26, Denis Rouzaud <denis.rouzaud at gmail.com>
>> wrote:
>> >
>> > Thanks Nyall for the precisions.
>> > I wasn't aware of QgsBlockingNetworkRequest.
>> >
>> > So basically, if I don't require authcf, then starting from 3.6 there
>> is no reason to use my python nam, I should use both
>> QgsNetworkContentFetcher and QgsBlockingNetworkRequest. And from 3.10 if
>> require authcfg in QgsNetworkContentFetcher.
>> > Is this correct?
>>
>> QgsBlockingNetworkRequest has always supported auth, so you should use
>> that in 3.6 and above in all situations WHEN you need a blocking
>> request.
>>
>> QgsNetworkContentFetcher is async, so definitely prefer to use that
>> whenever you don't need a blocking request.
>>
>> I'd say the matrix is something like
>>
>> QGIS 3.4:
>>
>>  Blocking:
>>    With auth: python nam (but be aware that it CAN and DOES crash
>> crashes if used on the main thread)
>>    Without auth: python nam (but be aware that it CAN and DOES crash
>> crashes if used on the main thread)
>>
>>  Non-blocking:
>>    With auth:      nothing available off-the-shelf -- roll your own
>> using raw the qt and QGIS auth api?
>>    Without auth: QgsNetworkContentFetcher
>>
>> QGIS 3.6 - 3.8:
>>
>>  Blocking:
>>    With auth: QgsBlockingNetworkRequest
>>    Without auth: QgsBlockingNetworkRequest
>>
>>  Non-blocking:
>>    With auth:      nothing available off-the-shelf -- roll your own
>> using raw the qt and QGIS auth api?
>>    Without auth: QgsNetworkContentFetcher
>>
>> QGIS 3.10:
>>
>>  Blocking:
>>    With auth: QgsBlockingNetworkRequest
>>    Without auth: QgsBlockingNetworkRequest
>>
>>  Non-blocking:
>>    With auth:      QgsNetworkContentFetcher
>>    Without auth: QgsNetworkContentFetcher
>>
>>
>> Nyall
>>
>>
>>
>> >
>> > Cheers,
>> > Denis
>> >
>> > Le mer. 27 nov. 2019 à 00:27, Nyall Dawson <nyall.dawson at gmail.com> a
>> écrit :
>> >>
>> >> On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com>
>> wrote:
>> >> >
>> >> > Hi,
>> >> >
>> >> > Jumping late but we use the work from NAM Alessandro did in a couple
>> of locator filters.
>> >> >
>> https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
>> >> >
>> >> > I believe I have done very very few adaptations/fixes to the
>> original work and it works like a charm.
>> >>
>> >> Not quite. It works in some circumstances, but it uses an event loop.
>> >> So if you run it on the main thread, you're potentially doing an
>> >> effective call to QApplication.processEvents, which can lead to all
>> >> sorts of crashes. That said, it's generally a safe approach to use for
>> >> QGIS <= 3.4... just don't use it in any code which relates to
>> >> rendering!
>> >>
>> >> >
>> >> > I had in mind to bring this as is within QGIS core for some time.
>> The main point being for us the blocking request rather than authcfg.
>> >>
>> >> That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
>> >> re-re-implement this!
>> >>
>> >> Nyall
>> >>
>> >>
>> >> >
>> >> > Denis
>> >> >
>> >> > Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a
>> écrit :
>> >> >>
>> >> >> Thanks everyone. This gives me some good ideas. These are the
>> possible solutions:
>> >> >>
>> >> >> 1. Write a python implementation of QgsNetworkContentFetcher or
>> QgsBlockingNetworkRequest. With this I could look at the QGIS version and
>> if it is 3.10 or greater import the core method; otherwise, import the
>> python implementation.
>> >> >> 2. Use the old Boundless implementation if it still works in QGIS 3.
>> >> >> 3. Use QgsFileDownloader and save it as a temporary file before
>> processing.
>> >> >>
>> >> >> Calvin
>> >> >>
>> >> >> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <
>> apasotti at gmail.com> wrote:
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <
>> rdmailings at duif.net> wrote:
>> >> >>>>
>> >> >>>> On 26/11/2019 00.06, Nyall Dawson wrote:
>> >> >>>>
>> >> >>>> > There's not. But there's the ex-boundless "networkaccessmanager"
>> >> >>>> > implementation that supports authcfg, which you can find at
>> >> >>>> >
>> https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
>> >> >>>> > (and other projects -- as far as I'm aware there's no real
>> upstream
>> >> >>>> > for this... Alessandro?).
>> >> >>>>
>> >> >>>> I used this Boundless thingie for several plugins now (original
>> source
>> >> >>>> is now pointing/redirecting to planetlabs [0]).
>> >> >>>
>> >> >>>
>> >> >>> Yes, that's the "upstream" but I don't know if that one is
>> maintained anymore.
>> >> >>>
>> >> >>> Btw, there is also a specialized class for sync/async downloads
>> that supports authcfg:
>> https://qgis.org/api/classQgsFileDownloader.html#details
>> >> >>>
>> >> >>>
>> >> >>>>
>> >> >>>>
>> >> >>>> I think we already discussed several times that it would be good
>> to
>> >> >>>> incorporate this into a commons lib for QGIS. But if I'm correct
>> the
>> >> >>>> actual interface was not exactly what some wanted, and if I recall
>> >> >>>> correct Nyall tried to pull this into c++ but hit some
>> multithreading
>> >> >>>> issues.
>> >> >>>>
>> >> >>>> But as Nyall says: I think this is a great lib to use in a plugin
>> (also
>> >> >>>> because it used the QgisNetwork-stuff, so you can receive the
>> signals
>> >> >>>> from it or log the precise urls, like we do in the
>> QGISnetworklogger
>> >> >>>> plugin [1]
>> >> >>>>
>> >> >>>> Regards,
>> >> >>>>
>> >> >>>> Richard Duivenvoorde
>> >> >>>>
>> >> >>>> [0]
>> >> >>>>
>> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>> >> >>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
>> >> >>>> _______________________________________________
>> >> >>>> Qgis-user mailing list
>> >> >>>> Qgis-user at lists.osgeo.org
>> >> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> >> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> --
>> >> >>> Alessandro Pasotti
>> >> >>> w3:   www.itopen.it
>> >> >>
>> >> >> _______________________________________________
>> >> >> QGIS-Developer mailing list
>> >> >> QGIS-Developer at lists.osgeo.org
>> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >> Unsubscribe:
>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >
>> >> > _______________________________________________
>> >> > QGIS-Developer mailing list
>> >> > QGIS-Developer at lists.osgeo.org
>> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/b43a411f/attachment-0001.html>

From nyall.dawson at gmail.com  Wed Nov 27 14:29:47 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 28 Nov 2019 08:29:47 +1000
Subject: [QGIS-Developer] [Qgis-user] Python Implementation of
	QgsNetworkContentFetcher
In-Reply-To: <CABPxTTr22aSmTBh7ghd7erXp-rcLD5eDoFCgtOAOT7HgDWytog@mail.gmail.com>
References: <CABPxTTpWh8dZsguW0jpzLjCi7C0CYGCyL8VSMw8F3sPhv22Gow@mail.gmail.com>
 <CAB28AsgWAetYeThc1xTtLs0g67JYq6Enzv-_yOMycVXzEum9Mw@mail.gmail.com>
 <553a0d1e-361b-059c-9cb6-6da753ebb4a2@duif.net>
 <CAL5Q673DphUzh8XEwnKr2yCVS4YW2dROcwk=zavQC9tYBcgTaQ@mail.gmail.com>
 <CABPxTTobFD2Bskj_=5onXrhWXM-Z4LDHBM5Q6d21tJEcmF0S8Q@mail.gmail.com>
 <CAMtsY+aD=KAEJNVg4SE_OUW82nm9otgTRr5efeNMMQGQp+JLWA@mail.gmail.com>
 <CAB28Ash0QObh0PzxHJhm3xtipUCvtPZr9nr6w5=n_pDZDVju3Q@mail.gmail.com>
 <CAMtsY+ZUT+9gY0-L3YgzOGfPBuk4ZVA4So+aO-m7JW_=f+b_PA@mail.gmail.com>
 <CAB28AsjwfVRQB318wO=wF2pGke4GcWWTRaeAHut8+HBEjYa2xQ@mail.gmail.com>
 <CABPxTTr22aSmTBh7ghd7erXp-rcLD5eDoFCgtOAOT7HgDWytog@mail.gmail.com>
Message-ID: <CAB28AsgFGH+9rmOxOd59f1w7zwv6cQScmmmfOGToAQ8ucVRwhQ@mail.gmail.com>

On Thu, 28 Nov 2019 at 02:07, C Hamilton <adenaculture at gmail.com> wrote:
>
> For some reason I cannot seem to get QgsBlockingNetworkRequest to work. Also I think there is an error in the documentation where it says, "After completion of a request, the reply content should be retrieved by calling getReplyContent()." It appears to me to be reply().
>
> This is basically my code. Am I doing something wrong?
> request = QgsBlockingNetworkRequest()
> request.setAuthCfg(authcfg)
> error_code = request.get(QNetworkRequest(QUrl(url)), forceRefresh=True)
>
> The error that is returned is a ServerExceptionError. Is QgsBlockingNetworkRequest really handling redirects?

Got a public test case and I experiment with?

Nyall

>
> I've had luck with QgsFileDownloader, but using a method you say I shouldn't. This works.
>
> tempfile = QgsProcessingUtils.generateTempFilename('data.json')
> loop = QEventLoop()
> dl = QgsFileDownloader(QUrl(url), tempfile, authcfg, delayStart=True)
> dl.downloadExited.connect(loop.quit)
> dl.startDownload()
> loop.exec_()
>
> In this case the data was correctly written into the tempfile.
>
>
>
> On Wed, Nov 27, 2019 at 12:35 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> On Wed, 27 Nov 2019 at 15:26, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>> >
>> > Thanks Nyall for the precisions.
>> > I wasn't aware of QgsBlockingNetworkRequest.
>> >
>> > So basically, if I don't require authcf, then starting from 3.6 there is no reason to use my python nam, I should use both QgsNetworkContentFetcher and QgsBlockingNetworkRequest. And from 3.10 if require authcfg in QgsNetworkContentFetcher.
>> > Is this correct?
>>
>> QgsBlockingNetworkRequest has always supported auth, so you should use
>> that in 3.6 and above in all situations WHEN you need a blocking
>> request.
>>
>> QgsNetworkContentFetcher is async, so definitely prefer to use that
>> whenever you don't need a blocking request.
>>
>> I'd say the matrix is something like
>>
>> QGIS 3.4:
>>
>>  Blocking:
>>    With auth: python nam (but be aware that it CAN and DOES crash
>> crashes if used on the main thread)
>>    Without auth: python nam (but be aware that it CAN and DOES crash
>> crashes if used on the main thread)
>>
>>  Non-blocking:
>>    With auth:      nothing available off-the-shelf -- roll your own
>> using raw the qt and QGIS auth api?
>>    Without auth: QgsNetworkContentFetcher
>>
>> QGIS 3.6 - 3.8:
>>
>>  Blocking:
>>    With auth: QgsBlockingNetworkRequest
>>    Without auth: QgsBlockingNetworkRequest
>>
>>  Non-blocking:
>>    With auth:      nothing available off-the-shelf -- roll your own
>> using raw the qt and QGIS auth api?
>>    Without auth: QgsNetworkContentFetcher
>>
>> QGIS 3.10:
>>
>>  Blocking:
>>    With auth: QgsBlockingNetworkRequest
>>    Without auth: QgsBlockingNetworkRequest
>>
>>  Non-blocking:
>>    With auth:      QgsNetworkContentFetcher
>>    Without auth: QgsNetworkContentFetcher
>>
>>
>> Nyall
>>
>>
>>
>> >
>> > Cheers,
>> > Denis
>> >
>> > Le mer. 27 nov. 2019 à 00:27, Nyall Dawson <nyall.dawson at gmail.com> a écrit :
>> >>
>> >> On Wed, 27 Nov 2019 at 00:44, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>> >> >
>> >> > Hi,
>> >> >
>> >> > Jumping late but we use the work from NAM Alessandro did in a couple of locator filters.
>> >> > https://github.com/opengisch/qgis-swiss-locator/blob/master/swiss_locator/core/network_access_manager.py
>> >> >
>> >> > I believe I have done very very few adaptations/fixes to the original work and it works like a charm.
>> >>
>> >> Not quite. It works in some circumstances, but it uses an event loop.
>> >> So if you run it on the main thread, you're potentially doing an
>> >> effective call to QApplication.processEvents, which can lead to all
>> >> sorts of crashes. That said, it's generally a safe approach to use for
>> >> QGIS <= 3.4... just don't use it in any code which relates to
>> >> rendering!
>> >>
>> >> >
>> >> > I had in mind to bring this as is within QGIS core for some time. The main point being for us the blocking request rather than authcfg.
>> >>
>> >> That's EXACTLY what QgsBlockingNetworkRequest is -- please don't
>> >> re-re-implement this!
>> >>
>> >> Nyall
>> >>
>> >>
>> >> >
>> >> > Denis
>> >> >
>> >> > Le mar. 26 nov. 2019 à 15:36, C Hamilton <adenaculture at gmail.com> a écrit :
>> >> >>
>> >> >> Thanks everyone. This gives me some good ideas. These are the possible solutions:
>> >> >>
>> >> >> 1. Write a python implementation of QgsNetworkContentFetcher or QgsBlockingNetworkRequest. With this I could look at the QGIS version and if it is 3.10 or greater import the core method; otherwise, import the python implementation.
>> >> >> 2. Use the old Boundless implementation if it still works in QGIS 3.
>> >> >> 3. Use QgsFileDownloader and save it as a temporary file before processing.
>> >> >>
>> >> >> Calvin
>> >> >>
>> >> >> On Tue, Nov 26, 2019 at 2:29 AM Alessandro Pasotti <apasotti at gmail.com> wrote:
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> On Tue, Nov 26, 2019 at 8:22 AM Richard Duivenvoorde <rdmailings at duif.net> wrote:
>> >> >>>>
>> >> >>>> On 26/11/2019 00.06, Nyall Dawson wrote:
>> >> >>>>
>> >> >>>> > There's not. But there's the ex-boundless "networkaccessmanager"
>> >> >>>> > implementation that supports authcfg, which you can find at
>> >> >>>> > https://github.com/north-road/qgis-redistricting-plugin/blob/master/redistrict/linz/networkaccessmanager.py
>> >> >>>> > (and other projects -- as far as I'm aware there's no real upstream
>> >> >>>> > for this... Alessandro?).
>> >> >>>>
>> >> >>>> I used this Boundless thingie for several plugins now (original source
>> >> >>>> is now pointing/redirecting to planetlabs [0]).
>> >> >>>
>> >> >>>
>> >> >>> Yes, that's the "upstream" but I don't know if that one is maintained anymore.
>> >> >>>
>> >> >>> Btw, there is also a specialized class for sync/async downloads that supports authcfg: https://qgis.org/api/classQgsFileDownloader.html#details
>> >> >>>
>> >> >>>
>> >> >>>>
>> >> >>>>
>> >> >>>> I think we already discussed several times that it would be good to
>> >> >>>> incorporate this into a commons lib for QGIS. But if I'm correct the
>> >> >>>> actual interface was not exactly what some wanted, and if I recall
>> >> >>>> correct Nyall tried to pull this into c++ but hit some multithreading
>> >> >>>> issues.
>> >> >>>>
>> >> >>>> But as Nyall says: I think this is a great lib to use in a plugin (also
>> >> >>>> because it used the QgisNetwork-stuff, so you can receive the signals
>> >> >>>> from it or log the precise urls, like we do in the QGISnetworklogger
>> >> >>>> plugin [1]
>> >> >>>>
>> >> >>>> Regards,
>> >> >>>>
>> >> >>>> Richard Duivenvoorde
>> >> >>>>
>> >> >>>> [0]
>> >> >>>> https://github.com/planetfederal/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>> >> >>>> [1] https://github.com/rduivenvoorde/qgisnetworklogger
>> >> >>>> _______________________________________________
>> >> >>>> Qgis-user mailing list
>> >> >>>> Qgis-user at lists.osgeo.org
>> >> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> >> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> --
>> >> >>> Alessandro Pasotti
>> >> >>> w3:   www.itopen.it
>> >> >>
>> >> >> _______________________________________________
>> >> >> QGIS-Developer mailing list
>> >> >> QGIS-Developer at lists.osgeo.org
>> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >
>> >> > _______________________________________________
>> >> > QGIS-Developer mailing list
>> >> > QGIS-Developer at lists.osgeo.org
>> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Wed Nov 27 14:35:42 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 28 Nov 2019 08:35:42 +1000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191127083717.szw6bmezxecnvlsq@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <1574426839485-0.post@n6.nabble.com> <2157871.UBRh2tR6Wd@debian>
 <CAH=WbRCCTqisovy-k+M7LvQU-ftR1d71PkRm7_=LZCZSirWdcw@mail.gmail.com>
 <7371034.ZqLjZfdWYd@even-i700> <20191123163819.d37presriwv67q52@norbit.de>
 <CAB28Asj1djyb9DfgQx3tTceEkq6hoWi8ke5R3GJd9pJU-Rg7Qw@mail.gmail.com>
 <551bf3acd7fca951a52e234c2baf9483@faunalia.it>
 <CAB28AsiB-0VsfVPPtLWxXL6oKb1dJawBWdMbdgQsutsVsSRjog@mail.gmail.com>
 <1574841548520-0.post@n6.nabble.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
Message-ID: <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>

On Wed, 27 Nov 2019 at 18:37, Jürgen E. Fischer <jef at norbit.de> wrote:
>
> Hi Andrea,
>
> On Wed, 27. Nov 2019 at 00:59:08 -0700, andreaerdna wrote:
> > What about the OSGeo4W installer? Now, installing qgis-ltr from OSGeo4W
> > installer will also install gdal-3.0.2-3 and proj-6.2.1-2.
>
> And those don't fix the issue for you?

I think the issues are deeper then the crashes/projection failures
fixed by the GDAL/proj cherry-picked commits.

The work I did a couple of months back allowing QGIS 3.4 to be built
with gdal 3 (https://github.com/qgis/QGIS/pull/30072) was really just
a very thin band-aid, designed as a worst case scenario to permit
mostly working build to proceed in the case that a distro ONLY has
gdal 3 available.

>From that pr conversation -- a retrospectively (very) naive comment I
made relating to this:

"The reality is that we won't always be able to dictate the library
versions for 3.4. We can for osgeo4w, because we (well, @jef-n)
controls that infrastructure, but there's many other platforms where
we have no say in this. Including a bunch of wild-west ecosystems
where people upgrade stuff just to see what other stuff they can
break.... (*cough* homebrew *cough*). We've still got at least 6
months left to support 3.4, so sooner or later we'll need to make it
usable on the newer libraries, even if that means a bunch of
short-term hacks and workarounds to make it work with this. The only
other option is dropping the LTR support early, but I don't think
that's possible/a good idea."

I've changed my mind since this comment, and now think we SHOULD drop
Windows LTR support early rather than releasing a 3.4 build based on
proj6/gdal3.

Nyall


>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden            https://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From even.rouault at spatialys.com  Wed Nov 27 14:51:41 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 27 Nov 2019 23:51:41 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
Message-ID: <5893013.zPXq78ISAx@even-i700>

> I think the issues are deeper then the crashes/projection failures
> fixed by the GDAL/proj cherry-picked commits.

Yes, actually QGIS 3.4 should not be affected by the PROJ fix, because it  
uses the old pj_transform() API with doesn't trigger that code path at all. 
But it *is* affected by exportToProj4() no longer returning +datum or +towgs84 
in cases where it used to be, which basically makes working with anything != 
WGS 84 fundamentaly broken. The only "fix" would be to backport the fully 
fledged PROJ 6 support of 3.10 which is obviously unreasonable to do in 3.4

> think we SHOULD drop
> Windows LTR support early rather than releasing a 3.4 build based on
> proj6/gdal3.

+1

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From madmanwoo at gmail.com  Wed Nov 27 14:57:08 2019
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 28 Nov 2019 08:57:08 +1000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <5893013.zPXq78ISAx@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
Message-ID: <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>

+1 on dropping support early as the risk is large on breaking the users
experience with a LTR

On Thu., 28 Nov. 2019, 8:55 am Even Rouault, <even.rouault at spatialys.com>
wrote:

> > I think the issues are deeper then the crashes/projection failures
> > fixed by the GDAL/proj cherry-picked commits.
>
> Yes, actually QGIS 3.4 should not be affected by the PROJ fix, because it
> uses the old pj_transform() API with doesn't trigger that code path at
> all.
> But it *is* affected by exportToProj4() no longer returning +datum or
> +towgs84
> in cases where it used to be, which basically makes working with anything
> !=
> WGS 84 fundamentaly broken. The only "fix" would be to backport the fully
> fledged PROJ 6 support of 3.10 which is obviously unreasonable to do in 3.4
>
> > think we SHOULD drop
> > Windows LTR support early rather than releasing a 3.4 build based on
> > proj6/gdal3.
>
> +1
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/30c3a5d3/attachment.html>

From careyshan at gmail.com  Wed Nov 27 15:02:53 2019
From: careyshan at gmail.com (Shane Carey)
Date: Wed, 27 Nov 2019 23:02:53 +0000
Subject: [QGIS-Developer] what does geos geoprocessing error difference
 failed mean?
In-Reply-To: <fd5817b3-a5d1-3e62-316a-a0b82a654d8f@gatewaygeomatics.com>
References: <CA+jRDxAWNTUtOYZn000N3yQPBwUJt0wKF1Eni05ZoCFeoorZkw@mail.gmail.com>
 <3db74d36-a7a9-3e51-56dd-a8250cb3fbc5@gatewaygeomatics.com>
 <CA+jRDxBJnnWuVeSnGiP54L_0m+QXNvu6uR2K79tSYP6TQS5r7A@mail.gmail.com>
 <fd5817b3-a5d1-3e62-316a-a0b82a654d8f@gatewaygeomatics.com>
Message-ID: <CA+jRDxBoNaBbC2Bc06saPV6rSEA-p7YUEGCZW3peBiFEDbB7Dg@mail.gmail.com>

Hi Jeff,

It turns out it is a memory issue. I'm running a loop with pyqgis and after
doing the union, it doesn't release the shm or wal gpkg files on the
original union inputs. Anyway of releasing these after running each union?

Thanks
Le gach dea ghui,
*Shane Carey*
*GIS and Data Solutions Consultant*


On Tue, Nov 26, 2019 at 2:33 PM Jeff McKenna <jmckenna at gatewaygeomatics.com>
wrote:

> Not sure.  My next step would be to upgrade to QGIS 3.10.0 and retry.
>
> -jeff
>
>
>
> On 2019-11-26 10:20 AM, Shane Carey wrote:
> > Thanks Jeff,
> >
> > Yep, I've tried running this and still makes no difference I'm afraid. I
> > thought it may have been a memory issue but its not that either.
> > So I'm lost as to what is causing it.
> > Cheers
> > Le gach dea ghui,
> > */Shane Carey/*
> > */GIS and Data Solutions Consultant/*
> >
> >
> > On Tue, Nov 26, 2019 at 2:19 PM Jeff McKenna
> > <jmckenna at gatewaygeomatics.com <mailto:jmckenna at gatewaygeomatics.com>>
> > wrote:
> >
> >     Hi Shane,
> >
> >     Likely it means that there is a problem with your
> geometry/topology.  I
> >     don't have your version locally, but look for a QGIS menu item of
> >     "Check
> >     Validity" or "Fix Geometries".
> >
> >     -jeff
> >
> >
> >
> >     --
> >     Jeff McKenna
> >     MapServer Consulting and Training Services
> >     https://gatewaygeomatics.com/
> >
> >
> >     On 2019-11-26 9:48 AM, Shane Carey wrote:
> >      > Hi,
> >      >
> >      > I'm running a union process in qgis 3.4 and I keep getting the
> >     following
> >      > error:
> >      > *geos geoprocessing error difference failed*
> >      > What does this error mean?
> >      > Thanks
> >      > Le gach dea ghui,
> >      > */Shane Carey/*
> >      > */GIS and Data Solutions Consultant/*
> >      >
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
>
> --
> Jeff McKenna
> MapServer Consulting and Training Services
> https://gatewaygeomatics.com/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/193a08fd/attachment-0001.html>

From nirvn.asia at gmail.com  Wed Nov 27 16:38:37 2019
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 28 Nov 2019 07:38:37 +0700
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
Message-ID: <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>

+1 to end 3.4 cycle a few months early too.

On Thu, Nov 28, 2019, 05:57 Nathan Woodrow <madmanwoo at gmail.com> wrote:

> +1 on dropping support early as the risk is large on breaking the users
> experience with a LTR
>
> On Thu., 28 Nov. 2019, 8:55 am Even Rouault, <even.rouault at spatialys.com>
> wrote:
>
>> > I think the issues are deeper then the crashes/projection failures
>> > fixed by the GDAL/proj cherry-picked commits.
>>
>> Yes, actually QGIS 3.4 should not be affected by the PROJ fix, because
>> it
>> uses the old pj_transform() API with doesn't trigger that code path at
>> all.
>> But it *is* affected by exportToProj4() no longer returning +datum or
>> +towgs84
>> in cases where it used to be, which basically makes working with anything
>> !=
>> WGS 84 fundamentaly broken. The only "fix" would be to backport the fully
>> fledged PROJ 6 support of 3.10 which is obviously unreasonable to do in
>> 3.4
>>
>> > think we SHOULD drop
>> > Windows LTR support early rather than releasing a 3.4 build based on
>> > proj6/gdal3.
>>
>> +1
>>
>> --
>> Spatialys - Geospatial professional services
>> http://www.spatialys.com
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/708b2aee/attachment.html>

From madmanwoo at gmail.com  Wed Nov 27 16:47:35 2019
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 28 Nov 2019 10:47:35 +1000
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
Message-ID: <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>

Just have to make sure we communicate this via the blog and why.

On Thu, Nov 28, 2019 at 10:38 AM Mathieu Pellerin <nirvn.asia at gmail.com>
wrote:

> +1 to end 3.4 cycle a few months early too.
>
> On Thu, Nov 28, 2019, 05:57 Nathan Woodrow <madmanwoo at gmail.com> wrote:
>
>> +1 on dropping support early as the risk is large on breaking the users
>> experience with a LTR
>>
>> On Thu., 28 Nov. 2019, 8:55 am Even Rouault, <even.rouault at spatialys.com>
>> wrote:
>>
>>> > I think the issues are deeper then the crashes/projection failures
>>> > fixed by the GDAL/proj cherry-picked commits.
>>>
>>> Yes, actually QGIS 3.4 should not be affected by the PROJ fix, because
>>> it
>>> uses the old pj_transform() API with doesn't trigger that code path at
>>> all.
>>> But it *is* affected by exportToProj4() no longer returning +datum or
>>> +towgs84
>>> in cases where it used to be, which basically makes working with
>>> anything !=
>>> WGS 84 fundamentaly broken. The only "fix" would be to backport the
>>> fully
>>> fledged PROJ 6 support of 3.10 which is obviously unreasonable to do in
>>> 3.4
>>>
>>> > think we SHOULD drop
>>> > Windows LTR support early rather than releasing a 3.4 build based on
>>> > proj6/gdal3.
>>>
>>> +1
>>>
>>> --
>>> Spatialys - Geospatial professional services
>>> http://www.spatialys.com
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/6deace74/attachment.html>

From enzedrailmaps at gmail.com  Wed Nov 27 19:35:16 2019
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Thu, 28 Nov 2019 16:35:16 +1300
Subject: [QGIS-Developer] [Qgis-user] Handling a large number of raster
 layers with Qgis architectural limitations
In-Reply-To: <CA+H0G_F4PD0jKvJ5EZPzBv-NtmBMtMusZ53yQ4xJKHPMZziQmw@mail.gmail.com>
References: <021e411c-0cb7-df34-7a15-5ea4fde7f129@gmail.com>
 <CA+H0G_GAKOEnYvMJYzr0R_Qz1N_UuEZSqht7CSNnZoct=91Z3g@mail.gmail.com>
 <d25dcb87-3bce-a773-5c14-08f9f76269bd@gmail.com>
 <CA+H0G_F4PD0jKvJ5EZPzBv-NtmBMtMusZ53yQ4xJKHPMZziQmw@mail.gmail.com>
Message-ID: <277c0bc2-0fbe-3f87-9871-f974f670b89e@gmail.com>

Hello,

the issue is not with the performance drawing the raster, it is with the 
system only being able to have a certain number of file based rasters 
loaded in a project before it will crash.

On 22/11/19 11:08 AM, Alexandre Neto wrote:
> AFAIK,
>
> WMST creates pyramids in cache as needed, hence it may do a better 
> balance between disk usage and performance. You can control the number 
> of pyramid layers you create and the compression format of it to save 
> some space. But having raster files with 4000x4000 pixels with no 
> pyramids will make a full read of the raster file to show even only a 
> bit of it... That will make QGIS performance really poor.
>
> Thereºs this blog post from 2010 that does some comparison 
> between several formats and their sizes and performances. It's in 
> portuguese, but I think you can find ways of translating it.
>
>
> https://blog.viasig.com/2010/01/mosaicos-de-imagens-em-mapserver-com-gdal/
>
> Hope it helps
>
> Alexandre Neto
>
> On Thu, Nov 21, 2019 at 2:05 PM Patrick Dunford 
> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>
>     Building pyramids gobbles up heaps of disk space. I tried pyramids
>     on 157 MB layer, which created an extra file 1.6 GiB.
>
>     I can't see the WMTS building lots of temporary file pyramids
>     using up disk
>
>     On 18/11/19 10:50 PM, Alexandre Neto wrote:
>>     Hi Patrick,
>>
>>     Sorry for asking, did you create pyramids (overlays) for your
>>     raster "tiles"?
>>
>>     See more information about pyramids on QGIS official documentation:
>>
>>     https://docs.qgis.org/3.4/en/docs/user_manual/working_with_raster/raster_properties.html#pyramids-properties
>>
>>     To create pyramids on many files, it's probably better to use
>>     GDAL directly to process all files in a folder:
>>
>>     https://gdal.org/programs/gdaladdo.html
>>
>>     My feeling is that the WMS service is doing that for you, and
>>     that's the reason why it works well with a service.
>>
>>     Alexandre Neto
>>     QGIS Support
>>     www.qcooperative.net <http://www.qcooperative.net>
>>
>     _______________________________________________
>     Qgis-user mailing list
>     Qgis-user at lists.osgeo.org <mailto:Qgis-user at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/ac83e6b0/attachment.html>

From fhuettmann at alaska.edu  Wed Nov 27 19:45:28 2019
From: fhuettmann at alaska.edu (Falk Huettmann)
Date: Wed, 27 Nov 2019 18:45:28 -0900
Subject: [QGIS-Developer] [Qgis-user] Handling a large number of raster
 layers with Qgis architectural limitations
In-Reply-To: <277c0bc2-0fbe-3f87-9871-f974f670b89e@gmail.com>
References: <021e411c-0cb7-df34-7a15-5ea4fde7f129@gmail.com>
 <CA+H0G_GAKOEnYvMJYzr0R_Qz1N_UuEZSqht7CSNnZoct=91Z3g@mail.gmail.com>
 <d25dcb87-3bce-a773-5c14-08f9f76269bd@gmail.com>
 <CA+H0G_F4PD0jKvJ5EZPzBv-NtmBMtMusZ53yQ4xJKHPMZziQmw@mail.gmail.com>
 <277c0bc2-0fbe-3f87-9871-f974f670b89e@gmail.com>
Message-ID: <CA+BKNPDCF-Tz9yKzCqBsHw7x1szjRgz+7WoSzLtTmDpTd74KYA@mail.gmail.com>

Dear Colleagues, Patrick,

thanks, this is a VERY relevant issue, and might be the future concept for
GIS, of sorts (=more data volumes).
While I have no direct answer to your architecture question (sorry),
I have a sample dataset and application on the topic and can share it with
people as they see fit.
Here the manuscript and data, unpublished
https://www.earth-syst-sci-data-discuss.net/essd-2016-65/

The 104 GIS data layers (rasters) I can share via a google drive etc with
people on request and for more
progress and completion of the topic.

Arguably,
people are shopping around in the GIS world for a solution and platform
for such type of (massive multi) layer questions/analysis, and classic R
has usually a memory issue,
and supercomputing and 'the cloud' lacks the 'usual' GIS platform etc etc.
So here comes QGIS to the rescue, more or less
(consider Metadata creation in such projects also).
I am happy to learn.

Please keep me posted on this topic, offline as needed.

Thanks so much, very best
    Falk Huettmann

On Wed, Nov 27, 2019 at 6:35 PM Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> Hello,
>
> the issue is not with the performance drawing the raster, it is with the
> system only being able to have a certain number of file based rasters
> loaded in a project before it will crash.
> On 22/11/19 11:08 AM, Alexandre Neto wrote:
>
> AFAIK,
>
> WMST creates pyramids in cache as needed, hence it may do a better balance
> between disk usage and performance. You can control the number of pyramid
> layers you create and the compression format of it to save some space. But
> having raster files with 4000x4000 pixels with no pyramids will make a full
> read of the raster file to show even only a bit of it... That will make
> QGIS performance really poor.
>
> Thereºs this blog post from 2010 that does some comparison between several
> formats and their sizes and performances. It's in portuguese, but I think
> you can find ways of translating it.
>
>
> https://blog.viasig.com/2010/01/mosaicos-de-imagens-em-mapserver-com-gdal/
>
> Hope it helps
>
> Alexandre Neto
>
> On Thu, Nov 21, 2019 at 2:05 PM Patrick Dunford <enzedrailmaps at gmail.com>
> wrote:
>
>> Building pyramids gobbles up heaps of disk space. I tried pyramids on 157
>> MB layer, which created an extra file 1.6 GiB.
>>
>> I can't see the WMTS building lots of temporary file pyramids using up
>> disk
>> On 18/11/19 10:50 PM, Alexandre Neto wrote:
>>
>> Hi Patrick,
>>
>> Sorry for asking, did you create pyramids (overlays) for your raster
>> "tiles"?
>>
>> See more information about pyramids on QGIS official documentation:
>>
>>
>> https://docs.qgis.org/3.4/en/docs/user_manual/working_with_raster/raster_properties.html#pyramids-properties
>>
>> To create pyramids on many files, it's probably better to use GDAL
>> directly to process all files in a folder:
>>
>> https://gdal.org/programs/gdaladdo.html
>>
>> My feeling is that the WMS service is doing that for you, and that's the
>> reason why it works well with a service.
>>
>> Alexandre Neto
>> QGIS Support
>> www.qcooperative.net
>>
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191127/a25b8236/attachment-0001.html>

From matthias at opengis.ch  Thu Nov 28 00:02:03 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 28 Nov 2019 09:02:03 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
Message-ID: <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>

Hi all,

I enjoy reading the discussion on this tricky topic. Thank you for 
looking into this!

What would be the precise plan of action?

The situation is, a new QGIS 3.4.13 release based on gdal3/proj6 is out 
already. We cannot make that undone unless we get out the message to 
forget that 3.4.13 ever existed and ask everyone to reinstall 3.4.12.

I wonder if it wouldn't be easier to setup a system somewhere to build 
with the old gdal and proj libraries to create the remaining standalone 
installers to push out the remaining three 3.4 releases (manually). With 
LTR we have built a brand with a very good reputation and I think we 
should protect this label and avoid any controversial communication if 
reasonably possible.

It's possible that I am underestimating the work which would be required 
to do this, but in my opinion this would be a good opportunity to do an 
ad-hoc investment into Jürgen (given that he has some of his precious 
time left to actually work on this and that he does not completely 
disagree with me).

Best regards

Matthias

On 11/28/19 1:47 AM, Nathan Woodrow wrote:
> Just have to make sure we communicate this via the blog and why.
>
> On Thu, Nov 28, 2019 at 10:38 AM Mathieu Pellerin 
> <nirvn.asia at gmail.com <mailto:nirvn.asia at gmail.com>> wrote:
>
>     +1 to end 3.4 cycle a few months early too.
>
>     On Thu, Nov 28, 2019, 05:57 Nathan Woodrow <madmanwoo at gmail.com
>     <mailto:madmanwoo at gmail.com>> wrote:
>
>         +1 on dropping support early as the risk is large on breaking
>         the users experience with a LTR
>
>         On Thu., 28 Nov. 2019, 8:55 am Even Rouault,
>         <even.rouault at spatialys.com
>         <mailto:even.rouault at spatialys.com>> wrote:
>
>             > I think the issues are deeper then the
>             crashes/projection failures
>             > fixed by the GDAL/proj cherry-picked commits.
>
>             Yes, actually QGIS 3.4 should not be affected by the PROJ
>             fix, because it
>             uses the old pj_transform() API with doesn't trigger that
>             code path at all.
>             But it *is* affected by exportToProj4() no longer
>             returning +datum or +towgs84
>             in cases where it used to be, which basically makes
>             working with anything !=
>             WGS 84 fundamentaly broken. The only "fix" would be to
>             backport the fully
>             fledged PROJ 6 support of 3.10 which is obviously
>             unreasonable to do in 3.4
>
>             > think we SHOULD drop
>             > Windows LTR support early rather than releasing a 3.4
>             build based on
>             > proj6/gdal3.
>
>             +1
>
>             -- 
>             Spatialys - Geospatial professional services
>             http://www.spatialys.com
>             _______________________________________________
>             QGIS-Developer mailing list
>             QGIS-Developer at lists.osgeo.org
>             <mailto:QGIS-Developer at lists.osgeo.org>
>             List info:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>             Unsubscribe:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>         _______________________________________________
>         QGIS-Developer mailing list
>         QGIS-Developer at lists.osgeo.org
>         <mailto:QGIS-Developer at lists.osgeo.org>
>         List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         Unsubscribe:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/41ed9e1d/attachment.html>

From a.neumann at carto.net  Thu Nov 28 00:11:07 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 28 Nov 2019 09:11:07 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
Message-ID: <ed5838ae5ccf136863e2f540563d22fc@carto.net>

Hi all, 

Thanks all for the discussion. 

I would like to hear Jürgen's opinion on it was well. If possible, I
would also prefer Matthias approach. Our organization just recently
introduced 3.4 LTR (I know we are late ;-), we will probably move to
3.10 in mid 2020). It would be nice if the support of the 3.4 release
could be a bit longer, until 3.10 takes over as LTR version. 

QGIS.ORG can fund Jürgen for this extra work for supporting two library
versions in parallel, if Jürgen thinks this can be done with a
reasonable amount of work (whatever this means ;-) ) 

Thanks, 

Andreas 

On 2019-11-28 09:02, Matthias Kuhn wrote:

> Hi all, 
> 
> I enjoy reading the discussion on this tricky topic. Thank you for looking into this! 
> 
> What would be the precise plan of action? 
> 
> The situation is, a new QGIS 3.4.13 release based on gdal3/proj6 is out already. We cannot make that undone unless we get out the message to forget that 3.4.13 ever existed and ask everyone to reinstall 3.4.12. 
> 
> I wonder if it wouldn't be easier to setup a system somewhere to build with the old gdal and proj libraries to create the remaining standalone installers to push out the remaining three 3.4 releases (manually). With LTR we have built a brand with a very good reputation and I think we should protect this label and avoid any controversial communication if reasonably possible. 
> 
> It's possible that I am underestimating the work which would be required to do this, but in my opinion this would be a good opportunity to do an ad-hoc investment into Jürgen (given that he has some of his precious time left to actually work on this and that he does not completely disagree with me). 
> 
> Best regards 
> 
> Matthias
> 
> On 11/28/19 1:47 AM, Nathan Woodrow wrote: 
> Just have to make sure we communicate this via the blog and why. 
> 
> On Thu, Nov 28, 2019 at 10:38 AM Mathieu Pellerin <nirvn.asia at gmail.com> wrote: 
> 
> +1 to end 3.4 cycle a few months early too. 
> 
> On Thu, Nov 28, 2019, 05:57 Nathan Woodrow <madmanwoo at gmail.com> wrote: 
> +1 on dropping support early as the risk is large on breaking the users experience with a LTR 
> 
> On Thu., 28 Nov. 2019, 8:55 am Even Rouault, <even.rouault at spatialys.com> wrote: > I think the issues are deeper then the crashes/projection failures
>> fixed by the GDAL/proj cherry-picked commits.
> 
> Yes, actually QGIS 3.4 should not be affected by the PROJ fix, because it  
> uses the old pj_transform() API with doesn't trigger that code path at all. 
> But it *is* affected by exportToProj4() no longer returning +datum or +towgs84 
> in cases where it used to be, which basically makes working with anything != 
> WGS 84 fundamentaly broken. The only "fix" would be to backport the fully 
> fledged PROJ 6 support of 3.10 which is obviously unreasonable to do in 3.4
> 
>> think we SHOULD drop
>> Windows LTR support early rather than releasing a 3.4 build based on
>> proj6/gdal3.
> 
> +1
> 
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/a62371a0/attachment.html>

From cavallini at faunalia.it  Thu Nov 28 00:19:16 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 28 Nov 2019 09:19:16 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <ed5838ae5ccf136863e2f540563d22fc@carto.net>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
Message-ID: <9ad165c5-1b03-d170-32b8-47a9a6316fc9@faunalia.it>

Hi all,
I agree, very fruitful discussion. Also agree: it is the release manager
who has the last word on this.
AFAICT we have two options:
* reverting to .12, and stop releasing new versions
* replacing .13 to gdal2+proj4, and keep on releasing with the standard
schedule.
I believe the main factor is how much we want to push towards 3.10: if
we feel it has really important new features, and is generally very
stable, this would make the first option more attractive. If not, then
investing on 3.4, and possibly support it for a longer period to justify
the extra investment, would make sense.
All best wishes.

Il 28/11/19 09:11, Andreas Neumann ha scritto:
> Hi all,
> 
> Thanks all for the discussion.
> 
> I would like to hear Jürgen's opinion on it was well. If possible, I
> would also prefer Matthias approach. Our organization just recently
> introduced 3.4 LTR (I know we are late ;-), we will probably move to
> 3.10 in mid 2020). It would be nice if the support of the 3.4 release
> could be a bit longer, until 3.10 takes over as LTR version.
> 
> QGIS.ORG can fund Jürgen for this extra work for supporting two library
> versions in parallel, if Jürgen thinks this can be done with a
> reasonable amount of work (whatever this means ;-) )
> 
> Thanks,
> 
> Andreas
> 
> On 2019-11-28 09:02, Matthias Kuhn wrote:
> 
>> Hi all,
>>
>> I enjoy reading the discussion on this tricky topic. Thank you for
>> looking into this!
>>
>> What would be the precise plan of action?
>>
>> The situation is, a new QGIS 3.4.13 release based on gdal3/proj6 is
>> out already. We cannot make that undone unless we get out the message
>> to forget that 3.4.13 ever existed and ask everyone to reinstall 3.4.12.
>>
>> I wonder if it wouldn't be easier to setup a system somewhere to build
>> with the old gdal and proj libraries to create the remaining
>> standalone installers to push out the remaining three 3.4 releases
>> (manually). With LTR we have built a brand with a very good reputation
>> and I think we should protect this label and avoid any controversial
>> communication if reasonably possible.
>>
>> It's possible that I am underestimating the work which would be
>> required to do this, but in my opinion this would be a good
>> opportunity to do an ad-hoc investment into Jürgen (given that he has
>> some of his precious time left to actually work on this and that he
>> does not completely disagree with me).
>>
>> Best regards
>>
>> Matthias
>>
>> On 11/28/19 1:47 AM, Nathan Woodrow wrote:
>>> Just have to make sure we communicate this via the blog and why.
>>>
>>> On Thu, Nov 28, 2019 at 10:38 AM Mathieu Pellerin
>>> <nirvn.asia at gmail.com <mailto:nirvn.asia at gmail.com>> wrote:
>>>
>>>     +1 to end 3.4 cycle a few months early too. 
>>>
>>>     On Thu, Nov 28, 2019, 05:57 Nathan Woodrow <madmanwoo at gmail.com
>>>     <mailto:madmanwoo at gmail.com>> wrote:
>>>
>>>         +1 on dropping support early as the risk is large on breaking
>>>         the users experience with a LTR
>>>
>>>         On Thu., 28 Nov. 2019, 8:55 am Even Rouault,
>>>         <even.rouault at spatialys.com
>>>         <mailto:even.rouault at spatialys.com>> wrote:
>>>
>>>             > I think the issues are deeper then the
>>>             crashes/projection failures
>>>             > fixed by the GDAL/proj cherry-picked commits.
>>>
>>>             Yes, actually QGIS 3.4 should not be affected by the PROJ
>>>             fix, because it 
>>>             uses the old pj_transform() API with doesn't trigger that
>>>             code path at all.
>>>             But it *is* affected by exportToProj4() no longer
>>>             returning +datum or +towgs84
>>>             in cases where it used to be, which basically makes
>>>             working with anything !=
>>>             WGS 84 fundamentaly broken. The only "fix" would be to
>>>             backport the fully
>>>             fledged PROJ 6 support of 3.10 which is obviously
>>>             unreasonable to do in 3.4
>>>
>>>             > think we SHOULD drop
>>>             > Windows LTR support early rather than releasing a 3.4
>>>             build based on
>>>             > proj6/gdal3.
>>>
>>>             +1
>>>
>>>             -- 
>>>             Spatialys - Geospatial professional services
>>>             http://www.spatialys.com
>>>             _______________________________________________
>>>             QGIS-Developer mailing list
>>>             QGIS-Developer at lists.osgeo.org
>>>             <mailto:QGIS-Developer at lists.osgeo.org>
>>>             List info:
>>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>             Unsubscribe:
>>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>         _______________________________________________
>>>         QGIS-Developer mailing list
>>>         QGIS-Developer at lists.osgeo.org
>>>         <mailto:QGIS-Developer at lists.osgeo.org>
>>>         List info:
>>>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>         Unsubscribe:
>>>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From denis.rouzaud at gmail.com  Thu Nov 28 00:30:27 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 28 Nov 2019 09:30:27 +0100
Subject: [QGIS-Developer] QGIS field calculator: issue with updating
 selected only features in combination with virtual field
In-Reply-To: <13f09aace5f1ffa993d90913371a8509@carto.net>
References: <fc7a44a0c88a0ab18ce58c9ac0435610@carto.net>
 <ef2959f2-b59e-6145-ced3-6a64a9972678@opengis.ch>
 <CAMtsY+b6BiTFdVNnFb94odcW3EFSbR_xJ5Eq4bU+MeVNxmnuEg@mail.gmail.com>
 <989bc1211a74ff8f786a88e795cb9ef2@carto.net>
 <CAMtsY+Y3gQmf0+a9yGPC-6DMWbFy_C_A1f-7ixT_uSfHLDtu_g@mail.gmail.com>
 <13f09aace5f1ffa993d90913371a8509@carto.net>
Message-ID: <CAMtsY+Y589BYkS0fUmT=2EYKbkmZ0ebvuGfP_iBdJrPha0XPQw@mail.gmail.com>

Hi Andreas,

This has been backported and merged into 3.4 and 3.10.
Let me know if something doesn't work as expected.

Cheers,
Denis

Le mer. 27 nov. 2019 à 13:45, Andreas Neumann <a.neumann at carto.net> a
écrit :

> Hi Denis,
>
> Very good. Do you want me to test it? Is it backportable to 3.4 / 3.10?
>
> Thanks,
>
> Andreas
>
> On 2019-11-27 13:41, Denis Rouzaud wrote:
>
> Hi Andreas,
>
> Here is a PR for a fix https://github.com/qgis/QGIS/pull/33101
>
> Denis
>
> Le mer. 27 nov. 2019 à 11:34, Andreas Neumann <a.neumann at carto.net> a
> écrit :
>
> Hi Denis,
>
> But it is currently broken - right?
>
> If I go to field calculator on a read only PG layer, I can only create
> "Virtual fields" no "Physical fields", because my layer is read only (this
> is expected). However, the checkbox to only update the "xx selected"
> features is activated by default and not greyed out. And I can toggle the
> Checkbox, although it has no effect and is misleading.
>
> I just tested it in 3.4.x and 3.10.
>
> I can open an issue on it.
>
> Andreas
>
>
> On 2019-11-27 08:35, Denis Rouzaud wrote:
>
> Hi Andreas,
>
> It does sound like this is the current status today: the "update only..."
> checkbox is disabled if you create a virtual field.
> It seems Matthias ;) coded it in 2014:
> https://github.com/qgis/QGIS/commit/68de043ecbcf0203b6a3667b488be71f479e5d91#diff-ff2f9c5bc35d79bfe1f0b7690bc60819R344
>
> Cheers
>
> Le mer. 20 nov. 2019 à 13:12, Matthias Kuhn <matthias at opengis.ch> a
> écrit :
>
> Hi Andreas,
>
> On first sight I'd also say that disabling the checkbox is the right thing
> to do.
>
> For the other proposed behavior the requirements seem unclear (i.e. should
> the selection be preserved or the values changed when the selection
> changes), so we need a specific use case where this is required to take a
> decision.
>
> Best regards
>
> Matthias
> On 11/20/19 11:27 AM, Andreas Neumann wrote:
>
> Hi,
>
> We came across an inconsistency in the field calculator:
>
> One can select the checkbox "Only update xx selected features" in
> combination with creating a new virtual field. This is quite misleading for
> the user, as the result is that all features (not only the selected ones)
> are updated.
>
> I see the following solutions:
>
> - disable the checkbox "only update xx selected features" as soon as a the
> field is created as virtual (the easy fix)
>
> - change the behavior of virtual fields in order to really allow update of
> selected features only. This would probably imply that we have to store the
> primary keys of the selected features somewhere and can lead to follow-up
> problems later on.
>
> Any opinions on this?
>
> Personally I would say that virtual fields cannot update "selected only
> features" and disable that checkbox as soon as virtual fields are created.
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/2d5a4bf0/attachment.html>

From nirvn.asia at gmail.com  Thu Nov 28 00:36:39 2019
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 28 Nov 2019 15:36:39 +0700
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <ed5838ae5ccf136863e2f540563d22fc@carto.net>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
Message-ID: <CAC_qv=rDui9pvaUzwFoj8chJjyCAV3SUGKHE0j5jHJ6OqWiKmA@mail.gmail.com>

For the record, according to schedule, 3.4 reaches its end of life on
February 21st, 2010.



On Thu, Nov 28, 2019, 15:11 Andreas Neumann <a.neumann at carto.net> wrote:

> Hi all,
>
> Thanks all for the discussion.
>
> I would like to hear Jürgen's opinion on it was well. If possible, I would
> also prefer Matthias approach. Our organization just recently introduced
> 3.4 LTR (I know we are late ;-), we will probably move to 3.10 in mid
> 2020). It would be nice if the support of the 3.4 release could be a bit
> longer, until 3.10 takes over as LTR version.
>
> QGIS.ORG can fund Jürgen for this extra work for supporting two library
> versions in parallel, if Jürgen thinks this can be done with a reasonable
> amount of work (whatever this means ;-) )
>
> Thanks,
>
> Andreas
>
> On 2019-11-28 09:02, Matthias Kuhn wrote:
>
> Hi all,
>
> I enjoy reading the discussion on this tricky topic. Thank you for looking
> into this!
>
> What would be the precise plan of action?
>
> The situation is, a new QGIS 3.4.13 release based on gdal3/proj6 is out
> already. We cannot make that undone unless we get out the message to forget
> that 3.4.13 ever existed and ask everyone to reinstall 3.4.12.
>
> I wonder if it wouldn't be easier to setup a system somewhere to build
> with the old gdal and proj libraries to create the remaining standalone
> installers to push out the remaining three 3.4 releases (manually). With
> LTR we have built a brand with a very good reputation and I think we should
> protect this label and avoid any controversial communication if reasonably
> possible.
>
> It's possible that I am underestimating the work which would be required
> to do this, but in my opinion this would be a good opportunity to do an
> ad-hoc investment into Jürgen (given that he has some of his precious time
> left to actually work on this and that he does not completely disagree with
> me).
>
> Best regards
>
> Matthias
> On 11/28/19 1:47 AM, Nathan Woodrow wrote:
>
> Just have to make sure we communicate this via the blog and why.
>
> On Thu, Nov 28, 2019 at 10:38 AM Mathieu Pellerin <nirvn.asia at gmail.com>
> wrote:
>
> +1 to end 3.4 cycle a few months early too.
>
> On Thu, Nov 28, 2019, 05:57 Nathan Woodrow <madmanwoo at gmail.com> wrote:
>
> +1 on dropping support early as the risk is large on breaking the users
> experience with a LTR
>
> On Thu., 28 Nov. 2019, 8:55 am Even Rouault, <even.rouault at spatialys.com>
> wrote:
>
> > I think the issues are deeper then the crashes/projection failures
> > fixed by the GDAL/proj cherry-picked commits.
>
> Yes, actually QGIS 3.4 should not be affected by the PROJ fix, because it
> uses the old pj_transform() API with doesn't trigger that code path at
> all.
> But it *is* affected by exportToProj4() no longer returning +datum or
> +towgs84
> in cases where it used to be, which basically makes working with anything
> !=
> WGS 84 fundamentaly broken. The only "fix" would be to backport the fully
> fledged PROJ 6 support of 3.10 which is obviously unreasonable to do in 3.4
>
> > think we SHOULD drop
> > Windows LTR support early rather than releasing a 3.4 build based on
> > proj6/gdal3.
>
> +1
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/8876548b/attachment-0001.html>

From matthias at opengis.ch  Thu Nov 28 01:05:53 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 28 Nov 2019 10:05:53 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <9ad165c5-1b03-d170-32b8-47a9a6316fc9@faunalia.it>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <9ad165c5-1b03-d170-32b8-47a9a6316fc9@faunalia.it>
Message-ID: <acf9226d-c6dd-29a9-226c-e48375dea3b9@opengis.ch>

Thanks for all the comments on this

On 11/28/19 9:50 AM, Régis Haubourg wrote:
>
> Hi all,
> Le jeu. 28 nov. 2019 à 09:02, Matthias Kuhn <matthias at opengis.ch 
> <mailto:matthias at opengis.ch>> a écrit :
>
>     [..]
>
>     With LTR we have built a brand with a very good reputation and I
>     think we should protect this label and avoid any controversial
>     communication if reasonably possible.
>
>     [..]
>
>     Matthias
>
>
> Well, I really second Matthias's point of view here.
> This may weaken our message about LTR long term support. Many 
> corporations are *just* migrating to it now and we have hard time 
> convincing them to stick with LTR versions so that they can fund and 
> benefit of fixes during the LTR lifespan. I'm afraid that freezing it 
> now will upset some of them.
>
> If the options of building a dedicated OSGEO4W installer with old GDAL 
> and proj is feasable, I am really really +1 on this.

Originally I wasn't even thinking about an OSGeo4W installer, I was 
simply hoping for standalone installers. But if OSGeo4W double-packaging 
is feasible, that would be the cherry on top.

>
> Anyway, it is a major change and I totally understand the situation. 
> Many thanks again for digging into constructive solutions.
> If we explain largely the benefits of PROJ6, I am confident most users 
> will understand the move, and a 3 months wait is not a long wait for 
> fixes.
>
> As soon as we have a clear view on the strategy, I think we MUST 
> communicate widely. We can also ask for support for this, though it 
> will not be an easy message.

I agree, this would be perfectly served in a post including all the 
advantages of proj6 which have been widely distributed on tech channels, 
but went by unnoticed by a large audience. Spreading the word about this 
bundled with the effects on the gis ecosystem would make a very good news.

Regards

Matthias

>
> Cheers
> Régis
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/7368064d/attachment.html>

From jef at norbit.de  Thu Nov 28 01:56:01 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 28 Nov 2019 10:56:01 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <ed5838ae5ccf136863e2f540563d22fc@carto.net>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
Message-ID: <20191128095601.lv5dfh6hk4gkp56u@norbit.de>

Hi Andreas,

On Thu, 28. Nov 2019 at 09:11:07 +0100, Andreas Neumann wrote:
> Thanks all for the discussion.
 
> I would like to hear Jürgen's opinion on it was well. If possible, I would
> also prefer Matthias approach. Our organization just recently introduced 3.4
> LTR (I know we are late ;-), we will probably move to 3.10 in mid 2020). It
> would be nice if the support of the 3.4 release could be a bit longer, until
> 3.10 takes over as LTR version.
 
> QGIS.ORG can fund Jürgen for this extra work for supporting two library
> versions in parallel, if Jürgen thinks this can be done with a reasonable
> amount of work (whatever this means ;-) )

I've been "playing" with appveyor (doesn't work - hits the 1h timeout),
azure-pipelines (which kind of works) and github workflows (which does not yet
work) to implement the Windows CI many people are keen on.  Progress is very
slow - every single step takes ages…   A successful run takes more than 2-3h on
azure-pipelines…   Caching would help, but hits disk space limits.  github
workflows currently needs 0.5h to hit the first obstacle (ie. first compiler
invocation).

I could probably have done "fix windows build" commits of a life time with less
effort ;)

Anyway, introducing proj5 and gdal2 packages could work - but not without
shifting the point release date again.

And that's only considering QGIS.  GRASS and spatialite are now using PROJ 6
too.  Not sure if that can be made to work together as is or whether we'd need
separate packages for those too.

Duplicating the osgeo4w repositories for this and rolling the fork back to the
previous state could be an option too - the old packages are still there - but
that would break the packaging routines.   People using the osgeo4w installer
would also need to change the URL to get it.   So that's not very appealing
either.



Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/14d984c9/attachment.sig>

From jef at norbit.de  Thu Nov 28 01:57:00 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 28 Nov 2019 10:57:00 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <CAC_qv=rDui9pvaUzwFoj8chJjyCAV3SUGKHE0j5jHJ6OqWiKmA@mail.gmail.com>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <CAC_qv=rDui9pvaUzwFoj8chJjyCAV3SUGKHE0j5jHJ6OqWiKmA@mail.gmail.com>
Message-ID: <20191128095700.jzgyuqs7rqh7w5px@norbit.de>

Hi Mathieu,

On Thu, 28. Nov 2019 at 15:36:39 +0700, Mathieu Pellerin wrote:
> For the record, according to schedule, 3.4 reaches its end of life on
> February 21st, 2010.

2020?

Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/94054d73/attachment.sig>

From jef at norbit.de  Thu Nov 28 01:59:03 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 28 Nov 2019 10:59:03 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <acf9226d-c6dd-29a9-226c-e48375dea3b9@opengis.ch>
References: <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <9ad165c5-1b03-d170-32b8-47a9a6316fc9@faunalia.it>
 <acf9226d-c6dd-29a9-226c-e48375dea3b9@opengis.ch>
Message-ID: <20191128095903.u5hg67wt5k7q5git@norbit.de>

Hi Matthias,

On Thu, 28. Nov 2019 at 10:05:53 +0100, Matthias Kuhn wrote:
> Originally I wasn't even thinking about an OSGeo4W installer, I was simply
> hoping for standalone installers. But if OSGeo4W double-packaging is
> feasible, that would be the cherry on top.

The standalone is always just a snapshot of osgeo4w.
 

Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/287a708a/attachment.sig>

From matthias at opengis.ch  Thu Nov 28 02:02:08 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 28 Nov 2019 11:02:08 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191128095903.u5hg67wt5k7q5git@norbit.de>
References: <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <9ad165c5-1b03-d170-32b8-47a9a6316fc9@faunalia.it>
 <acf9226d-c6dd-29a9-226c-e48375dea3b9@opengis.ch>
 <20191128095903.u5hg67wt5k7q5git@norbit.de>
Message-ID: <e370d103-6843-8847-3718-7fdf758ba501@opengis.ch>

Hi Jürgen

On 11/28/19 10:59 AM, Jürgen E. Fischer wrote:
> Hi Matthias,
>
> On Thu, 28. Nov 2019 at 10:05:53 +0100, Matthias Kuhn wrote:
>> Originally I wasn't even thinking about an OSGeo4W installer, I was simply
>> hoping for standalone installers. But if OSGeo4W double-packaging is
>> feasible, that would be the cherry on top.
> The standalone is always just a snapshot of osgeo4w.

I was hoping that building a standalone from a local snapshot would be 
easier than having to make sure this is actually available in the main 
or a duplicate repo.

Matthias

>   
>
> Jürgen
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/2a857c5d/attachment-0001.html>

From nirvn.asia at gmail.com  Thu Nov 28 02:12:03 2019
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 28 Nov 2019 17:12:03 +0700
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191128095700.jzgyuqs7rqh7w5px@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <CAC_qv=rDui9pvaUzwFoj8chJjyCAV3SUGKHE0j5jHJ6OqWiKmA@mail.gmail.com>
 <20191128095700.jzgyuqs7rqh7w5px@norbit.de>
Message-ID: <CAC_qv=rkHzd3B12UA07MmqJ6FYeAEbdE7P0S38XX3e_pWhwNPg@mail.gmail.com>

Ouch! ;) yes, 2020.

On Thu, Nov 28, 2019, 16:57 Jürgen E. Fischer <jef at norbit.de> wrote:

> Hi Mathieu,
>
> On Thu, 28. Nov 2019 at 15:36:39 +0700, Mathieu Pellerin wrote:
> > For the record, according to schedule, 3.4 reaches its end of life on
> > February 21st, 2010.
>
> 2020?
>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> https://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/2c3abf9c/attachment.html>

From strk at kbt.io  Thu Nov 28 02:22:23 2019
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 28 Nov 2019 11:22:23 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
Message-ID: <20191128102223.GA15465@liz>

On Thu, Nov 28, 2019 at 10:56:01AM +0100, Jürgen E. Fischer wrote:

> I've been "playing" with appveyor (doesn't work - hits the 1h timeout),
> azure-pipelines (which kind of works) and github workflows (which does not yet
> work) to implement the Windows CI many people are keen on. 

If you want to try yet another one:
https://blog.drone.io/drone-cloud-native-ci-cd-windows-containers/

I didn't go trough all the description (as I'm kind of allergic to
Windows) but "Drone" itself is OpenSource so anything you learn in
the excercise would be reusable.

Also OSGeo infra has a running Drone server so QGIS might be plugging
in a windows "agent" with arbitrary resources to deal with the timeout.

--strk;

From noreply at qgis.org  Thu Nov 28 04:18:43 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 28 Nov 2019 12:18:43 -0000
Subject: [QGIS-Developer] Plugin [1769] QGISRed approval notification.
Message-ID: <20191128121843.32548.29245@2c6504964296>


Plugin QGISRed approval by pcav.
The plugin version "[1769] QGISRed 0.8" is now approved
Link: http://plugins.qgis.org/plugins/QGISRed/

From strk at kbt.io  Thu Nov 28 04:54:58 2019
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 28 Nov 2019 13:54:58 +0100
Subject: [QGIS-Developer] Pointcloud install for Travis ?
Message-ID: <20191128125458.GA12638@liz>

I'm working on fixing PostgreSQL table retrival in presence
of "pointcloud" extension, but I've the impression there's
no "pointcloud" extension installed in the Travis build
environment, if this is confirmed, where do I start to
add that support ?

--strk; 

From strk at kbt.io  Thu Nov 28 05:23:07 2019
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 28 Nov 2019 14:23:07 +0100
Subject: [QGIS-Developer] Pointcloud install for Travis ?
In-Reply-To: <20191128125458.GA12638@liz>
References: <20191128125458.GA12638@liz>
Message-ID: <20191128132307.GA15107@liz>

On Thu, Nov 28, 2019 at 01:54:58PM +0100, Sandro Santilli wrote:
> I'm working on fixing PostgreSQL table retrival in presence
> of "pointcloud" extension, but I've the impression there's
> no "pointcloud" extension installed in the Travis build
> environment, if this is confirmed, where do I start to
> add that support ?

I figured this out, Travis is using, for the PostgreSQL server,
the one built as Docker image from tests/testdata/Dockerfile-postgis
which is based on kartoza/postgis:11.0-2.5 from docker hub
(sourced at https://github.com/kartoza/docker-postgis)

The docker image from kartoza does not include pointcloud.

A docker image with pointcloud would be oslandia/pggis which
is sourced in Vincent's github space:
https://github.com/vpicavet/docker-pggis
That one is more generally aimed at being a "gis" oriented
database, but was not touched for 4 years, so not sure it is
a good candidate.

Vincent (in Cc): are you still interested in maintaining
that project ? I see a pr from you is pending since June,
and is adding PostgreSQL 11 and PostGIS 2.5, as the ones
QGIS currently uses from the kartoza image...

I've given Vincent's image a try as part of my PR
https://github.com/qgis/QGIS/pull/33118

--strk;

From rdmailings at duif.net  Thu Nov 28 05:40:03 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 28 Nov 2019 14:40:03 +0100
Subject: [QGIS-Developer] masks tooltip in Layer Properties
Message-ID: <c56aeff3-19e0-ce43-a6d7-ce7eda11291f@duif.net>

Using the Layer properties dialog (in master), I spotted an item
'Masks'. Could not find any description or clue in the stuff shown.

But I saw that the tooltip of it shows (see screenie):

"If the remove duplicate nodes options is activated, duplicate vertices
will automatically be removed from geometries which are edited on this
layer".

Found a documentation item:

https://github.com/qgis/QGIS-Documentation/issues/4368

first question would be: what is it, but second question: is the tooltip
the right one? Is it a copy/paste thingie? Or is it just not (yet)
telling what this tab is for :-)

Regards,

Richard Duivenvoorde



-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-20191128143002-604x278.png
Type: image/png
Size: 29918 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/be99afe8/attachment-0001.png>

From regis.haubourg at gmail.com  Thu Nov 28 05:47:42 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 28 Nov 2019 14:47:42 +0100
Subject: [QGIS-Developer] masks tooltip in Layer Properties
In-Reply-To: <c56aeff3-19e0-ce43-a6d7-ce7eda11291f@duif.net>
References: <c56aeff3-19e0-ce43-a6d7-ce7eda11291f@duif.net>
Message-ID: <CABgOYCeG=41NNW+9SYfe2kothdi3qXNAcrYU9R2_X1==Rt41gA@mail.gmail.com>

Hi Richard
I think this one is for Hugo. This new tab is designed for the selective
masking described here: https://github.com/qgis/QGIS/pull/30747

The tooltip is obviously wrong and the feature misses some explanation in
the layer property tab. Can you raise an issue ?

Regards,
Régis

Le jeu. 28 nov. 2019 à 14:40, Richard Duivenvoorde <rdmailings at duif.net> a
écrit :

> Using the Layer properties dialog (in master), I spotted an item
> 'Masks'. Could not find any description or clue in the stuff shown.
>
> But I saw that the tooltip of it shows (see screenie):
>
> "If the remove duplicate nodes options is activated, duplicate vertices
> will automatically be removed from geometries which are edited on this
> layer".
>
> Found a documentation item:
>
> https://github.com/qgis/QGIS-Documentation/issues/4368
>
> first question would be: what is it, but second question: is the tooltip
> the right one? Is it a copy/paste thingie? Or is it just not (yet)
> telling what this tab is for :-)
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/7c813f1f/attachment.html>

From delazj at gmail.com  Thu Nov 28 05:50:21 2019
From: delazj at gmail.com (DelazJ)
Date: Thu, 28 Nov 2019 14:50:21 +0100
Subject: [QGIS-Developer] masks tooltip in Layer Properties
In-Reply-To: <c56aeff3-19e0-ce43-a6d7-ce7eda11291f@duif.net>
References: <c56aeff3-19e0-ce43-a6d7-ce7eda11291f@duif.net>
Message-ID: <CAECJsSr-CWYadG+LUggc4WX6vsh-A8vy2Ujmk=AY9koL_T1NOA@mail.gmail.com>

Hi Richard,

this is the implementation of
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/63

About the tooltip, I did not check the ui file but i recall a similar bug
recently in this dialog with tabs showing wrong tooltip (possibly, when
they had no tooltip?)

Harrissou

Le jeu. 28 nov. 2019 à 14:40, Richard Duivenvoorde <rdmailings at duif.net> a
écrit :

> Using the Layer properties dialog (in master), I spotted an item
> 'Masks'. Could not find any description or clue in the stuff shown.
>
> But I saw that the tooltip of it shows (see screenie):
>
> "If the remove duplicate nodes options is activated, duplicate vertices
> will automatically be removed from geometries which are edited on this
> layer".
>
> Found a documentation item:
>
> https://github.com/qgis/QGIS-Documentation/issues/4368
>
> first question would be: what is it, but second question: is the tooltip
> the right one? Is it a copy/paste thingie? Or is it just not (yet)
> telling what this tab is for :-)
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/dea623af/attachment.html>

From a.neumann at carto.net  Thu Nov 28 06:02:00 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 28 Nov 2019 15:02:00 +0100
Subject: [QGIS-Developer] masks tooltip in Layer Properties
In-Reply-To: <c56aeff3-19e0-ce43-a6d7-ce7eda11291f@duif.net>
References: <c56aeff3-19e0-ce43-a6d7-ce7eda11291f@duif.net>
Message-ID: <c159ee0eabd3bd55c0e6962cd8fea999@carto.net>

Hi Richard, 

I can answer your first question: 

It is about selective masking of symbol levels behind labels and point
symbols, in order to create nicer map labels and symbols. You can mask
darker symbol levels behind a label or symbol, but retain lighther
symbol levels (like a lake, forest, etc.) without getting these ugly
white halos behind the labels. 

See also https://oslandia.com/en/offre-qgis/selective-masking/ 

and https://github.com/qgis/QGIS/pull/30747 

There seems to be a bug with the tooltips - yes. 

Greetings, 

Andreas 

On 2019-11-28 14:40, Richard Duivenvoorde wrote:

> Using the Layer properties dialog (in master), I spotted an item
> 'Masks'. Could not find any description or clue in the stuff shown.
> 
> But I saw that the tooltip of it shows (see screenie):
> 
> "If the remove duplicate nodes options is activated, duplicate vertices
> will automatically be removed from geometries which are edited on this
> layer".
> 
> Found a documentation item:
> 
> https://github.com/qgis/QGIS-Documentation/issues/4368
> 
> first question would be: what is it, but second question: is the tooltip
> the right one? Is it a copy/paste thingie? Or is it just not (yet)
> telling what this tab is for :-)
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/876d8bb4/attachment.html>

From even.rouault at spatialys.com  Thu Nov 28 06:48:42 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 28 Nov 2019 15:48:42 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
Message-ID: <5000565.WvavFejKT3@even-i700>

Jürgen,

> I've been "playing" with appveyor (doesn't work - hits the 1h timeout),
> azure-pipelines (which kind of works) and github workflows (which does not
> yet work) to implement the Windows CI many people are keen on.  Progress is
> very slow - every single step takes ages…   A successful run takes more
> than 2-3h on azure-pipelines…

Did you try to contact azure-pipeline support ? They might be receptive to a 
request to increase both the CPU count and disk space. Especially if you say 
that QGIS is a cool open source project where people can display... Bing Maps 
!

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From strk at kbt.io  Thu Nov 28 07:12:01 2019
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 28 Nov 2019 16:12:01 +0100
Subject: [QGIS-Developer] Pointcloud install for Travis ?
In-Reply-To: <20191128132307.GA15107@liz>
References: <20191128125458.GA12638@liz>
 <20191128132307.GA15107@liz>
Message-ID: <20191128151201.GA20263@liz>

On Thu, Nov 28, 2019 at 02:23:07PM +0100, Sandro Santilli wrote:
> 
> I've given Vincent's image a try as part of my PR
> https://github.com/qgis/QGIS/pull/33118

It didn't work (Travis hang on "Wait a moment while loading the database" [1])

So I tried getting back to kartoza/docker-postgis and installing
pointcloud manually, but that image doesn't have the necessary tools
to do the building.

Then now I'm wondering... should qgis publish its own docker images
for the running the testsuite ? 

[1] https://travis-ci.org/qgis/QGIS/jobs/618193394#L502-L505

--strk;

From jef at norbit.de  Thu Nov 28 07:25:06 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 28 Nov 2019 16:25:06 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <5000565.WvavFejKT3@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
 <5000565.WvavFejKT3@even-i700>
Message-ID: <20191128152506.pvh5r5hymymtmz3t@norbit.de>

Hi Even,

On Thu, 28. Nov 2019 at 15:48:42 +0100, Even Rouault wrote:
> > I've been "playing" with appveyor (doesn't work - hits the 1h timeout),
> > azure-pipelines (which kind of works) and github workflows (which does not
> > yet work) to implement the Windows CI many people are keen on.  Progress is
> > very slow - every single step takes ages…   A successful run takes more
> > than 2-3h on azure-pipelines…
 
> Did you try to contact azure-pipeline support ? They might be receptive to a
> request to increase both the CPU count and disk space. Especially if you say
> that QGIS is a cool open source project where people can display... Bing Maps
> !

You think?  I didn't try that yet - but I apparently didn't yet fully grasp the
cache concept - I only perchance had a few hits - but the misses might well be,
because I meanwhile changed either the key or they weren't written in the first
place because the available space was already exceeded.  A list of caches to
check would be nice…


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/25ad5ab9/attachment-0001.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/25ad5ab9/attachment-0001.ksh>

From cavallini at faunalia.it  Thu Nov 28 07:25:47 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 28 Nov 2019 16:25:47 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <5000565.WvavFejKT3@even-i700>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <20191128095601.lv5dfh6hk4gkp56u@norbit.de> <5000565.WvavFejKT3@even-i700>
Message-ID: <95218d97-8eaf-e709-1f2f-c7de235c91ec@faunalia.it>

Hi Even

Il 28/11/19 15:48, Even Rouault ha scritto:
> Jürgen,
> 
>> I've been "playing" with appveyor (doesn't work - hits the 1h timeout),
>> azure-pipelines (which kind of works) and github workflows (which does not
>> yet work) to implement the Windows CI many people are keen on.  Progress is
>> very slow - every single step takes ages…   A successful run takes more
>> than 2-3h on azure-pipelines…
> 
> Did you try to contact azure-pipeline support ? They might be receptive to a 
> request to increase both the CPU count and disk space. Especially if you say 
> that QGIS is a cool open source project where people can display... Bing Maps 
> !

I did, I''l update the list in case of a positive reply.
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From jef at norbit.de  Thu Nov 28 08:16:26 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 28 Nov 2019 17:16:26 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
Message-ID: <20191128161626.iu5ykw2bxycpdfv7@norbit.de>

Hi,

On Thu, 28. Nov 2019 at 10:56:01 +0100, Jürgen E. Fischer wrote:
> Anyway, introducing proj5 and gdal2 packages could work - but not without
> shifting the point release date again.

As nobody objected (or read that far ;)) I have taken the liberty of moving the
point releases for another week - which is hopefully enough to sort this out.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/b2c7cd02/attachment.sig>

From noreply at qgis.org  Thu Nov 28 08:33:03 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 28 Nov 2019 16:33:03 -0000
Subject: [QGIS-Developer] Plugin [1670] XYZ Hub Connector approval
	notification.
Message-ID: <20191128163303.32699.201@2c6504964296>


Plugin XYZ Hub Connector approval by pcav.
The plugin version "[1670] XYZ Hub Connector 1.7.6" is now approved
Link: http://plugins.qgis.org/plugins/XYZHubConnector/

From tim at kartoza.com  Thu Nov 28 09:59:27 2019
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 28 Nov 2019 18:59:27 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <acf9226d-c6dd-29a9-226c-e48375dea3b9@opengis.ch>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <9ad165c5-1b03-d170-32b8-47a9a6316fc9@faunalia.it>
 <acf9226d-c6dd-29a9-226c-e48375dea3b9@opengis.ch>
Message-ID: <EF612626-D712-4172-AFC1-1085A96FB9CC@kartoza.com>

Hi

> On 28 Nov 2019, at 10:05, Matthias Kuhn <matthias at opengis.ch> wrote:
>> 
>> 
>> As soon as we have a clear view on the strategy, I think we MUST communicate widely. We can also ask for support for this, though it will not be an easy message.  
> I agree, this would be perfectly served in a post including all the advantages of proj6 which have been widely distributed on tech channels, but went by unnoticed by a large audience. Spreading the word about this bundled with the effects on the gis ecosystem would make a very good news.
> 

Perfect use case for our feed!

For my part I would like to release 3.4.14 with the same binary footprint as 3.4.12 had, but bump the version number in the app so it appears as 3.4.14. Then stop any more releases for 3.4. If Jürgen is willing and QGIS.org <http://qgis.org/> can fund this I think it would be a very good way forward.

Regards

Tim

> Regards
> 
> Matthias
> 
>> 
>> Cheers
>> Régis
>> 
>>  
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/69547345/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/69547345/attachment-0001.jpg>

From apasotti at gmail.com  Thu Nov 28 10:09:13 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 28 Nov 2019 19:09:13 +0100
Subject: [QGIS-Developer] LTR management [was Re: Delaying 3.10.1?]
In-Reply-To: <20191128161626.iu5ykw2bxycpdfv7@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <20191127083717.szw6bmezxecnvlsq@norbit.de>
 <CAB28Asjkyf1SHYMF1ObXH-VyDyTk7w9gmHKjA8CEj-TAwtO7nA@mail.gmail.com>
 <5893013.zPXq78ISAx@even-i700>
 <CAAi8Yg-CnNsALQnBpGB8LTNdtQfKkdO37u+igk2n8t1xK714LQ@mail.gmail.com>
 <CAC_qv=rNFfaWFZLLbjK0A4vw5D5A_XDTdV7BjgL53672LS_tYQ@mail.gmail.com>
 <CAAi8Yg-rppG0DCP1CqztcwWfcgtSbjrRY2P4PJncOvCqpjOPEQ@mail.gmail.com>
 <1972af49-c2f2-d25a-f349-9462b94844d8@opengis.ch>
 <ed5838ae5ccf136863e2f540563d22fc@carto.net>
 <20191128095601.lv5dfh6hk4gkp56u@norbit.de>
 <20191128161626.iu5ykw2bxycpdfv7@norbit.de>
Message-ID: <CAL5Q673vSyU5Biw=fWJ-zCh9h3CHoEmgky3eRsBcfZ30jmAqPg@mail.gmail.com>

On Thu, Nov 28, 2019 at 5:16 PM Jürgen E. Fischer <jef at norbit.de> wrote:

> Hi,
>
> On Thu, 28. Nov 2019 at 10:56:01 +0100, Jürgen E. Fischer wrote:
> > Anyway, introducing proj5 and gdal2 packages could work - but not without
> > shifting the point release date again.
>
> As nobody objected (or read that far ;)) I have taken the liberty of
> moving the
> point releases for another week - which is hopefully enough to sort this
> out.
>
>
Sounds a wise decision given the amount of issues that continue to drop
into the bug tracker.

Cheers

just to prove that someone reads your messages when they are short enough ;)

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/fcf848b2/attachment.html>

From careyshan at gmail.com  Thu Nov 28 12:19:10 2019
From: careyshan at gmail.com (Shane Carey)
Date: Thu, 28 Nov 2019 20:19:10 +0000
Subject: [QGIS-Developer] ERROR: Too many connections: max 64
Message-ID: <CA+jRDxCHAdsruUfH+Wy63qg6Gu9tiZR5yDM6FY6-OWzWpdUSOg@mail.gmail.com>

Hi,

I'm doing some processing with Pyqgis and after processing, the file
remains locked and eventually I get:
ERROR: Too many connections: max 64

How do I handle this?

Thanks
Le gach dea ghui,
*Shane Carey*
*GIS and Data Solutions Consultant*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/1f4ca9cc/attachment.html>

From even.rouault at spatialys.com  Thu Nov 28 12:37:44 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 28 Nov 2019 21:37:44 +0100
Subject: [QGIS-Developer] [gdal-dev] ERROR: Too many connections: max 64
In-Reply-To: <CA+jRDxCHAdsruUfH+Wy63qg6Gu9tiZR5yDM6FY6-OWzWpdUSOg@mail.gmail.com>
References: <CA+jRDxCHAdsruUfH+Wy63qg6Gu9tiZR5yDM6FY6-OWzWpdUSOg@mail.gmail.com>
Message-ID: <2030571.gWZYnZqJ9Z@even-i700>

On jeudi 28 novembre 2019 20:19:10 CET Shane Carey wrote:
> Hi,
> 
> I'm doing some processing with Pyqgis and after processing, the file
> remains locked and eventually I get:
> ERROR: Too many connections: max 64

All I can say is that this error messages comes from Spatialite that can only 
handle 64 connections in a process at most. I did a fix (don't remember when, 
but must be included in QGIS 3.4) in the QGIS OGR provider to be able to open 
GeoPackage datasets (since the OGR GeoPackage driver enables Spatialite on 
them) that has many layers (so that they share the same connection). Not sure 
about the specificities of your use case.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From careyshan at gmail.com  Thu Nov 28 12:40:26 2019
From: careyshan at gmail.com (Shane Carey)
Date: Thu, 28 Nov 2019 20:40:26 +0000
Subject: [QGIS-Developer] [gdal-dev] ERROR: Too many connections: max 64
In-Reply-To: <2030571.gWZYnZqJ9Z@even-i700>
References: <CA+jRDxCHAdsruUfH+Wy63qg6Gu9tiZR5yDM6FY6-OWzWpdUSOg@mail.gmail.com>
 <2030571.gWZYnZqJ9Z@even-i700>
Message-ID: <CA+jRDxCcNXZ=X=fpkjK_QEAOBMDkVQQ3jiNxhZiRBiFaOmHgQg@mail.gmail.com>

After processing, is there a way to release the wal and shm files? I'm on
qgis3.4.
Thanks Even
Le gach dea ghui,
*Shane Carey*
*GIS and Data Solutions Consultant*


On Thu, Nov 28, 2019 at 8:37 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> On jeudi 28 novembre 2019 20:19:10 CET Shane Carey wrote:
> > Hi,
> >
> > I'm doing some processing with Pyqgis and after processing, the file
> > remains locked and eventually I get:
> > ERROR: Too many connections: max 64
>
> All I can say is that this error messages comes from Spatialite that can
> only
> handle 64 connections in a process at most. I did a fix (don't remember
> when,
> but must be included in QGIS 3.4) in the QGIS OGR provider to be able to
> open
> GeoPackage datasets (since the OGR GeoPackage driver enables Spatialite on
> them) that has many layers (so that they share the same connection). Not
> sure
> about the specificities of your use case.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/753f9016/attachment.html>

From careyshan at gmail.com  Thu Nov 28 12:44:39 2019
From: careyshan at gmail.com (Shane Carey)
Date: Thu, 28 Nov 2019 20:44:39 +0000
Subject: [QGIS-Developer] [gdal-dev] ERROR: Too many connections: max 64
In-Reply-To: <CA+jRDxCcNXZ=X=fpkjK_QEAOBMDkVQQ3jiNxhZiRBiFaOmHgQg@mail.gmail.com>
References: <CA+jRDxCHAdsruUfH+Wy63qg6Gu9tiZR5yDM6FY6-OWzWpdUSOg@mail.gmail.com>
 <2030571.gWZYnZqJ9Z@even-i700>
 <CA+jRDxCcNXZ=X=fpkjK_QEAOBMDkVQQ3jiNxhZiRBiFaOmHgQg@mail.gmail.com>
Message-ID: <CA+jRDxBwg7X6FPN+U+pOF_hSWJjjb3eTSjEkp=TZY-83DgfRGA@mail.gmail.com>

Or is it better to do the processing on shapefiles?
Le gach dea ghui,
*Shane Carey*
*GIS and Data Solutions Consultant*


On Thu, Nov 28, 2019 at 8:40 PM Shane Carey <careyshan at gmail.com> wrote:

> After processing, is there a way to release the wal and shm files? I'm on
> qgis3.4.
> Thanks Even
> Le gach dea ghui,
> *Shane Carey*
> *GIS and Data Solutions Consultant*
>
>
> On Thu, Nov 28, 2019 at 8:37 PM Even Rouault <even.rouault at spatialys.com>
> wrote:
>
>> On jeudi 28 novembre 2019 20:19:10 CET Shane Carey wrote:
>> > Hi,
>> >
>> > I'm doing some processing with Pyqgis and after processing, the file
>> > remains locked and eventually I get:
>> > ERROR: Too many connections: max 64
>>
>> All I can say is that this error messages comes from Spatialite that can
>> only
>> handle 64 connections in a process at most. I did a fix (don't remember
>> when,
>> but must be included in QGIS 3.4) in the QGIS OGR provider to be able to
>> open
>> GeoPackage datasets (since the OGR GeoPackage driver enables Spatialite
>> on
>> them) that has many layers (so that they share the same connection). Not
>> sure
>> about the specificities of your use case.
>>
>> Even
>>
>> --
>> Spatialys - Geospatial professional services
>> http://www.spatialys.com
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191128/6375a8e7/attachment.html>

From SSchmidt at gfi-gis.de  Fri Nov 29 00:36:13 2019
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Fri, 29 Nov 2019 09:36:13 +0100
Subject: [QGIS-Developer] delayed PR of 3.10.1
Message-ID: <OFD53CB836.BD6DC874-ONC12584C1.002EAB24-C12584C1.002F7726@gfi-gis.de>

Hello ,

to compile my plugin I waited for the PR of 3.10.1 but now I have red its 
been delayed for a week :-)

So I decided to compile it with last version for downloading (
QGIS-Codeversion 6ffa89eb3e)
But how can I get the source code from github? I can't find a branch for 
this version.

Can anyone help, please?




Freundliche Grüße aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft für Informationstechnologie mbH
Philipp-Rosenthal-Straße 9
D-04103 Leipzig
Geschäftsführer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
ESRI Solution Partner      und       ER Mapper Reseller
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de  und  www.themenbrowser.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191129/3c24e6a4/attachment.html>

From vincent.ml at oslandia.com  Fri Nov 29 01:11:12 2019
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Fri, 29 Nov 2019 10:11:12 +0100
Subject: [QGIS-Developer] Pointcloud install for Travis ?
In-Reply-To: <20191128132307.GA15107@liz>
References: <20191128125458.GA12638@liz> <20191128132307.GA15107@liz>
Message-ID: <13e1b99a-e472-e83a-36b5-672edd308f8e@oslandia.com>

Hello,

On 28/11/2019 14:23, Sandro Santilli wrote:
> On Thu, Nov 28, 2019 at 01:54:58PM +0100, Sandro Santilli wrote:
[..]
> 
> A docker image with pointcloud would be oslandia/pggis which
> is sourced in Vincent's github space:
> https://github.com/vpicavet/docker-pggis
> That one is more generally aimed at being a "gis" oriented
> database, but was not touched for 4 years, so not sure it is
> a good candidate.>
> Vincent (in Cc): are you still interested in maintaining
> that project ? I see a pr from you is pending since June,
> and is adding PostgreSQL 11 and PostGIS 2.5, as the ones
> QGIS currently uses from the kartoza image...

Sorry I missed the thread.. There is a version18 branch, with up-to-date
components. Not merged into master yet, but tested and ready to use.

No problem to use it, and the maintenance burden on this docker image is
light, so I can try to keep it updated with latest versions, or custom
ones on a qgis branch if necessary.

> I've given Vincent's image a try as part of my PR
> https://github.com/qgis/QGIS/pull/33118

Keep me posted if you need help, and if your tests are ok, I can merge
version18 into master.

Best regards,
Vincent


From etienne.trimaille at gmail.com  Fri Nov 29 01:11:18 2019
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Fri, 29 Nov 2019 10:11:18 +0100
Subject: [QGIS-Developer] delayed PR of 3.10.1
In-Reply-To: <OFD53CB836.BD6DC874-ONC12584C1.002EAB24-C12584C1.002F7726@gfi-gis.de>
References: <OFD53CB836.BD6DC874-ONC12584C1.002EAB24-C12584C1.002F7726@gfi-gis.de>
Message-ID: <CAMtDFLJ9Rmb6MAy2YaMOT2wB6EsCCO87PdTOwScTCjdoFL=aBQ@mail.gmail.com>

Do you mean the 3.10 branch?
https://github.com/qgis/QGIS/tree/release-3_10

Le ven. 29 nov. 2019 à 09:49, <SSchmidt at gfi-gis.de> a écrit :

> Hello ,
>
> to compile my plugin I waited for the PR of 3.10.1 but now I have red its
> been delayed for a week :-)
>
> So I decided to compile it with last version for downloading (
> QGIS-Codeversion* 6ffa89eb3e)*
> But how can I get the source code from github? I can't find a branch for
> this version.
>
> Can anyone help, please?
> <https://github.com/qgis/QGIS/commit/6ffa89eb3e>
>
>
> Freundliche Grüße aus Leipzig
> Susann Schmidt
> Softwareentwicklung
>
> **************************************************************
>
> GFI - Gesellschaft für Informationstechnologie mbH
> Philipp-Rosenthal-Straße 9
> D-04103 Leipzig
> Geschäftsführer: Andreas Richter
> Amtsgericht Leipzig HRB 12054
> USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
> ESRI Solution Partner      und       ER Mapper Reseller
> Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
> Web  www.gfi-gis.de  und  www.themenbrowser.de
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191129/7a6f9f1a/attachment-0001.html>

From jef at norbit.de  Fri Nov 29 01:12:52 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 29 Nov 2019 10:12:52 +0100
Subject: [QGIS-Developer] delayed PR of 3.10.1
In-Reply-To: <OFD53CB836.BD6DC874-ONC12584C1.002EAB24-C12584C1.002F7726@gfi-gis.de>
References: <OFD53CB836.BD6DC874-ONC12584C1.002EAB24-C12584C1.002F7726@gfi-gis.de>
Message-ID: <20191129091252.4axtv7ulhdyystho@norbit.de>

Hi Susann,

On Fri, 29. Nov 2019 at 09:36:13 +0100, SSchmidt at gfi-gis.de wrote:
> So I decided to compile it with last version for downloading (
> QGIS-Codeversion 6ffa89eb3e)

> But how can I get the source code from github? I can't find a branch for 
> this version.

$ git branch --contains 6ffa89eb3e
release-3_10

or visit

https://github.com/qgis/QGIS/commit/6ffa89eb3e

which also shows (among a ton of backport branches) release-3_10.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191129/e59c751c/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191129/e59c751c/attachment.ksh>

From SSchmidt at gfi-gis.de  Fri Nov 29 01:51:07 2019
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Fri, 29 Nov 2019 10:51:07 +0100
Subject: [QGIS-Developer] Antwort: Re:  delayed PR of 3.10.1
In-Reply-To: <20191129091252.4axtv7ulhdyystho@norbit.de>
References: <OFD53CB836.BD6DC874-ONC12584C1.002EAB24-C12584C1.002F7726@gfi-gis.de>
 <20191129091252.4axtv7ulhdyystho@norbit.de>
Message-ID: <OF575501BF.C85F4AC4-ONC12584C1.00350064-C12584C1.00365292@gfi-gis.de>

Hi Jürgen,
thank you a lot,





        Hi Susann,

        On Fri, 29. Nov 2019 at 09:36:13 +0100, SSchmidt at gfi-gis.de wrote:
        > So I decided to compile it with last version for downloading (
        > QGIS-Codeversion 6ffa89eb3e)

        > But how can I get the source code from github? I can't find a 
branch for 
        > this version.

        $ git branch --contains 6ffa89eb3e
        release-3_10

        or visit

--> this does the trick: https://github.com/qgis/QGIS/commit/6ffa89eb3e

I doesn't knew to git checkout 6ffa89eb3e

Before I tried release-3_10 and final-3_10 but then I get errors with heap 
corruption :-o
see the mail from Nyall Dawson:
 
                On Thu, 14 Nov 2019 at 20:32, <SSchmidt at gfi-gis.de> wrote:
                >
                > Hello,
                >
                > in my plugin I set up a rasterlayer like this:
                >
                > QgsRasterLayer* lyr = new QgsRasterLayer(src->Dir + "/" 
+ src->File, firstTBLayer->Title, QStringLiteral("gdal"));
                > if (lyr->isValid())
                > QgsProject::instance()->addMapLayers(QList<QgsMapLayer 
*>() << lyr, false);
                > QgsRasterRenderer* rend = new 
QgsMultiBandColorRenderer(rLyr->dataProvider(), redBand, greenBand, 
blueBand);
                > rLyr->setRenderer(rend);

                This looks fine. It's likely there's something else at 
play, possibly
                a local build issue.

                Nyall


        which also shows (among a ton of backport branches) release-3_10.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. 
+49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. 
+49-4931-918175-50
Software Engineer           D-26506 Norden            
https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on 
FreeNode
[Anhang "signature.asc" gelöscht von Susann Schmidt/gfimbh] norBIT 
Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Juergen Fischer, Nils Kutscher HR: Amtsgericht Aurich HRB 100827
Datenschutzerklaerung: https://www.norbit.de/83/



So I think my local build issue now is solved with code version 6ffa89eb3e
:-)
All looks fine.

Freundliche Grüße aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft für Informationstechnologie mbH
Philipp-Rosenthal-Straße 9
D-04103 Leipzig
Geschäftsführer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
ESRI Solution Partner      und       ER Mapper Reseller
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de  und  www.themenbrowser.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191129/4f895db0/attachment.html>

From r.nijssen at terglobo.nl  Fri Nov 29 05:31:01 2019
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 29 Nov 2019 14:31:01 +0100
Subject: [QGIS-Developer] geom_from_text() and GeomFromWKT()
Message-ID: <90bc4970-81b9-a975-0489-f16b83a9ef58@terglobo.nl>

In a qgis expression both

   geom_from_wkt('point(0 0)')

and

   GeomFromWKT('point(0 0)')

work!


The first is listed in the expression functions but the second is not. 
It is not a problem but it surprises me and I'm wondering if there are 
more secret functions in expressions. Does anyone know?

Kind regards,
Raymond

From matthias at opengis.ch  Fri Nov 29 06:22:33 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 29 Nov 2019 15:22:33 +0100
Subject: [QGIS-Developer] geom_from_text() and GeomFromWKT()
In-Reply-To: <90bc4970-81b9-a975-0489-f16b83a9ef58@terglobo.nl>
References: <90bc4970-81b9-a975-0489-f16b83a9ef58@terglobo.nl>
Message-ID: <03bd481a-a794-9f96-263c-1c19ddccb948@opengis.ch>

Yes, there are several aliases for existing functions defined.

[print(f.name() + ' -> ' + str(f.aliases())) for f in 
QgsExpression.Functions() if f.aliases()]

pi -> ['$pi']
to_int -> ['toint']
to_real -> ['toreal']
to_string -> ['tostring']
to_datetime -> ['todatetime']
to_date -> ['todate']
to_time -> ['totime']
to_interval -> ['tointerval']
to_dm -> ['todm']
to_dms -> ['todms']
now -> ['$now']
$x_at -> ['xat', 'x_at']
$y_at -> ['yat', 'y_at']
x_min -> ['xmin']
x_max -> ['xmax']
y_min -> ['ymin']
y_max -> ['ymax']
geom_from_wkt -> ['geomFromWKT']
geom_from_gml -> ['geomFromGML']
intersects_bbox -> ['bbox']
convex_hull -> ['convexHull']
sym_difference -> ['symDifference']
geom_to_wkt -> ['geomToWKT']
uuid -> ['$uuid']
get_feature -> ['QgsExpressionUtils::getFeature']


Regards
Matthias

On 11/29/19 2:31 PM, Raymond Nijssen wrote:
> In a qgis expression both
>
>   geom_from_wkt('point(0 0)')
>
> and
>
>   GeomFromWKT('point(0 0)')
>
> work!
>
>
> The first is listed in the expression functions but the second is not. 
> It is not a problem but it surprises me and I'm wondering if there are 
> more secret functions in expressions. Does anyone know?
>
> Kind regards,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From eduardo.rojas at soltig.net  Fri Nov 29 08:36:02 2019
From: eduardo.rojas at soltig.net (=?UTF-8?Q?Eduardo_Rojas_Rodr=C3=ADguez?=)
Date: Fri, 29 Nov 2019 09:36:02 -0700 (MST)
Subject: [QGIS-Developer] Unable to create the bookmark
Message-ID: <1575045362638-0.post@n6.nabble.com>

Hi Devs!

I see you are really busy this days, sorry to bother :(, but I have
encounter some problems with QGIS 3.4.13 in Windows 10 using the Standalone
Installer.

In some laptops running Windows 10 when I try to use the Spatial Bookmarks I
get the error: *"Unable to create the bookmark. Driver: Database" *

I have tried fresh install but does not fix the error, the weird thing is
that I cannot replicate this in my work Laptop where I install QGIS using
the Osgeo4W neither in my personal Desktop where I install QGIS with the
Standalone Installer I don't have this problem.

It seems Like its something specific of some PC maybe? I have see this
problem 2 years ago but a Fresh install fix the problem, this time does not
work. 

So I don't know what is causing that in some PCs the spatial bookmarks
doesn't work.



-----
Eduardo Rojas Rodríguez
Analista en SIG
SOLTIG
Tel: (506) 2435-8868 / (506) 4001-5214 
eduardo.rojas at soltig.net
http://soltig.net


--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From r.nijssen at terglobo.nl  Fri Nov 29 09:51:53 2019
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 29 Nov 2019 18:51:53 +0100
Subject: [QGIS-Developer] geom_from_text() and GeomFromWKT()
In-Reply-To: <03bd481a-a794-9f96-263c-1c19ddccb948@opengis.ch>
References: <90bc4970-81b9-a975-0489-f16b83a9ef58@terglobo.nl>
 <03bd481a-a794-9f96-263c-1c19ddccb948@opengis.ch>
Message-ID: <0961a505-9a83-a71f-19bd-c19fe7f88d5e@terglobo.nl>

Aha, thank you!



On 29-11-19 15:22, Matthias Kuhn wrote:
> Yes, there are several aliases for existing functions defined.
> 
> [print(f.name() + ' -> ' + str(f.aliases())) for f in 
> QgsExpression.Functions() if f.aliases()]
> 
> pi -> ['$pi']
> to_int -> ['toint']
> to_real -> ['toreal']
> to_string -> ['tostring']
> to_datetime -> ['todatetime']
> to_date -> ['todate']
> to_time -> ['totime']
> to_interval -> ['tointerval']
> to_dm -> ['todm']
> to_dms -> ['todms']
> now -> ['$now']
> $x_at -> ['xat', 'x_at']
> $y_at -> ['yat', 'y_at']
> x_min -> ['xmin']
> x_max -> ['xmax']
> y_min -> ['ymin']
> y_max -> ['ymax']
> geom_from_wkt -> ['geomFromWKT']
> geom_from_gml -> ['geomFromGML']
> intersects_bbox -> ['bbox']
> convex_hull -> ['convexHull']
> sym_difference -> ['symDifference']
> geom_to_wkt -> ['geomToWKT']
> uuid -> ['$uuid']
> get_feature -> ['QgsExpressionUtils::getFeature']
> 
> 
> Regards
> Matthias
> 
> On 11/29/19 2:31 PM, Raymond Nijssen wrote:
>> In a qgis expression both
>>
>>   geom_from_wkt('point(0 0)')
>>
>> and
>>
>>   GeomFromWKT('point(0 0)')
>>
>> work!
>>
>>
>> The first is listed in the expression functions but the second is not. 
>> It is not a problem but it surprises me and I'm wondering if there are 
>> more secret functions in expressions. Does anyone know?
>>
>> Kind regards,
>> Raymond
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From eduardo.rojas at soltig.net  Fri Nov 29 13:28:27 2019
From: eduardo.rojas at soltig.net (=?UTF-8?Q?Eduardo_Rojas_Rodr=C3=ADguez?=)
Date: Fri, 29 Nov 2019 14:28:27 -0700 (MST)
Subject: [QGIS-Developer] Unable to create the bookmark
In-Reply-To: <1575045362638-0.post@n6.nabble.com>
References: <1575045362638-0.post@n6.nabble.com>
Message-ID: <1575062907854-0.post@n6.nabble.com>

Hi Devs!

Just ignore this threat I fix the problem with a real fresh install,
manually deleted all the QGIS folders and reinstall and that work!






-----
Eduardo Rojas Rodríguez
Analista en SIG
SOLTIG
Tel: (506) 2435-8868 / (506) 4001-5214 
eduardo.rojas at soltig.net
http://soltig.net


--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Sat Nov 30 02:50:28 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 30 Nov 2019 10:50:28 -0000
Subject: [QGIS-Developer] Plugin [1892] QuerySelection approval notification.
Message-ID: <20191130105028.4098.13269@2c6504964296>


Plugin QuerySelection approval by pcav.
The plugin version "[1892] QuerySelection 0.3" is now approved
Link: http://plugins.qgis.org/plugins/QuerySelection/

From noreply at qgis.org  Sat Nov 30 07:15:23 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 30 Nov 2019 15:15:23 -0000
Subject: [QGIS-Developer] Plugin [1892] QuerySelection approval notification.
Message-ID: <20191130151523.4098.79907@2c6504964296>


Plugin QuerySelection approval by pcav.
The plugin version "[1892] QuerySelection 0.3.1" is now approved
Link: http://plugins.qgis.org/plugins/QuerySelection/

From alroyliz0 at gmail.com  Sat Nov 30 09:21:26 2019
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Sat, 30 Nov 2019 12:21:26 -0500
Subject: [QGIS-Developer] PyQgis: Composer and legends scripting
In-Reply-To: <CAEHjKAtVEW4-b=6d8GoZ95p_7f7wu_GA95xAtwLh-Brb9C3SNQ@mail.gmail.com>
References: <CAEHjKAtVEW4-b=6d8GoZ95p_7f7wu_GA95xAtwLh-Brb9C3SNQ@mail.gmail.com>
Message-ID: <CAOM0XWDPg9SKTo3Fz-qjWQi5WD+knruFGsPPftkXzHe-7f1R-g@mail.gmail.com>

Hi Jorge,

Have a look at this
https://github.com/qgis/QGIS/blob/9cb272969945a2b6d63e224b81ab2cfafa595a9b/tests/src/python/test_qgslayoutlegend.py#L426

Though some things tested in the code are from one of my PRs stuck in
limbo, this should be enough to get you started.

Alex


Le ven. 22 nov. 2019 à 07:34, Jorge Tornero <jtorlistas at gmail.com> a écrit :

> Hello all,
> I'm trying to make a script with python (standalone, not in qgis console
> or whatever) for exporting composer maps to an image.
>
> The idea is to have a template of a map and just change some layers, the
> title, etc., depending on the data I want to show. For instance, I can
> have a base map with a bathymetry layer, a geography (land) layer and then
> produce several maps with, say the abundance of a particular species of
> fish.
> So far I'm able to:
>
> 1) Import qgis and create a QgsApplication
>
> from qgis.core import *
> QgsApplication.setPrefixPath("",
> True)qgs=QgsApplication([],False)qgs.initQgis()
>
> 2) Create and load a project from a file
>
> pro=QgsProject()pro.read('./miproject.qgs')
>
> 3) Access to its layout manager and thus to one particular layout
>
> pro=QgsProject()pro.read('./miproyecto.qgs')layoutManager=pro.layoutManager()
> layout=layoutManager.layoutByName('MYLAYOUT')
>
> 4) And then export that layout to a file:
>
> exporter=QgsLayoutExporter(layout)
> exporter.exportToImage('mymap.png',exporter.ImageExportSettings())
>
>
> But I'm having big trouble trying to manipulate the legend itself.
> I can get the legend with (I omit the listing of layout items to get the
> index of the legend):
>
> legend=layout.items()[2]
>
> But how could I access to the legend items and be able to modify them?
>
> So far I know that I can access to the legend model through
> legend.model(), and then with say tree=lengend.model().rootGroup() I guess
> I get the legend tree. In fact I can begin to hear some music with dump()
> and I have had success up to some extent and even changing some text in the
> legend items, but it looks like the way I made it is far from being fair.
> For instance, for changin one particular name inside the legend I've made:
>
> tree.children()[0].children()[0].setName('New Name')
>
>
> But I can't figure out how to manipulate that tree for changing the legend
> matching the information layer corresponding to each particular map. It
> looks like it has something to do with accessing to the XML of the tree and
> manipulating, but my efforts with writeXML() and trying to get something
> from it led to nonsense.
>
> So I will appreciate so much some clues about how to access and modify the
> legend of a print layout.
>
> The last intention of this is to use thise scrips to include output from
> QGIS maps directly into RMarkdown documents. I consider that producinq maps
> with QGIS is by far more versatile than with R and I've made some test and
> it would work like a charm.
>
> Thank you very much for your help, all the best
>
> Jorge Tornero
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191130/08f53ba7/attachment.html>

From tomasstraupis at gmail.com  Sat Nov 30 10:16:40 2019
From: tomasstraupis at gmail.com (Tomas Straupis)
Date: Sat, 30 Nov 2019 20:16:40 +0200
Subject: [QGIS-Developer] QGIS Oracle performance
Message-ID: <CA+f=8=ourSop0xruxq378BsOLV-ufH5RH=uD7_e2hX_-R840Yg@mail.gmail.com>

Hello

  I've made some performance test of QGIS Server + Oracle provider and
do not know how to proceed further. As I'm not sure if my thoughts are
correct, should I first discuss them here or should I open an issue on
GitHub?

  Question is about QgsOracleProvider::getGeometryDetails() which is
called when opening a project. This function does a number of queries
determining information of layers in a project. These queries can
sometimes be quite slow when working with large views joining tables
with millions of rows (in my test case they take 2-3 minutes).

  This procedure is called even when opening a project where this
information is already saved in project file. So the only purpose
could be to check if nothing has changed. But when project file is
used in QGIS Server, this adds 2-3 minutes of start time for each
server process. And the same 2-3 minutes are spent when during high
load apache adds a new QGIS server process to help with high load.
(The WMS/WFS related queries themselves are executed and response is
sent out in <1 second).

  Do I understand correctly, that skipping this re-testing should be
OK at least in server?

  I've tried skipping all recalculations and returning values from
project with a code like this in the start of getGeometryDetails()

  if ( mRequestedGeomType != QgsWkbTypes::Unknown && mSrid > 0 ) {
    mHasSpatialIndex = true; // default value is false
    mDetectedGeomType = mRequestedGeomType;
    mValid = true;
    return mValid;
  }

  And server processes are started in seconds instead of minutes. It
is also possible to open project file in QGIS Desktop, add new layers
etc.

-- 
Tomas

From apasotti at gmail.com  Sat Nov 30 10:23:36 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 30 Nov 2019 19:23:36 +0100
Subject: [QGIS-Developer] QGIS Oracle performance
In-Reply-To: <CA+f=8=ourSop0xruxq378BsOLV-ufH5RH=uD7_e2hX_-R840Yg@mail.gmail.com>
References: <CA+f=8=ourSop0xruxq378BsOLV-ufH5RH=uD7_e2hX_-R840Yg@mail.gmail.com>
Message-ID: <CAL5Q673yQ03RwRFUgHRAy8QZeiq25aT8JJmGw_yeuxVqaHmRXg@mail.gmail.com>

On Sat, Nov 30, 2019 at 7:16 PM Tomas Straupis <tomasstraupis at gmail.com>
wrote:

> Hello
>
>   I've made some performance test of QGIS Server + Oracle provider and
> do not know how to proceed further. As I'm not sure if my thoughts are
> correct, should I first discuss them here or should I open an issue on
> GitHub?
>
>   Question is about QgsOracleProvider::getGeometryDetails() which is
> called when opening a project. This function does a number of queries
> determining information of layers in a project. These queries can
> sometimes be quite slow when working with large views joining tables
> with millions of rows (in my test case they take 2-3 minutes).
>
>   This procedure is called even when opening a project where this
> information is already saved in project file. So the only purpose
> could be to check if nothing has changed. But when project file is
> used in QGIS Server, this adds 2-3 minutes of start time for each
> server process. And the same 2-3 minutes are spent when during high
> load apache adds a new QGIS server process to help with high load.
> (The WMS/WFS related queries themselves are executed and response is
> sent out in <1 second).
>
>   Do I understand correctly, that skipping this re-testing should be
> OK at least in server?
>
>
Hi Tomas,

I don't know much about Oracle provider but I would say yes, there is also
a setting named useEstimatedMetadata that should be used to tell the
provider
if we want to skip the deep and costly analysis and scans, at least in
postgres
this works well, not sure about Oracle.


  I've tried skipping all recalculations and returning values from
> project with a code like this in the start of getGeometryDetails()
>
>   if ( mRequestedGeomType != QgsWkbTypes::Unknown && mSrid > 0 ) {
>     mHasSpatialIndex = true; // default value is false
>     mDetectedGeomType = mRequestedGeomType;
>     mValid = true;
>     return mValid;
>   }
>
>   And server processes are started in seconds instead of minutes. It
> is also possible to open project file in QGIS Desktop, add new layers
> etc.
>
> --
> Tomas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191130/ce9d7bb4/attachment-0001.html>

From tomasstraupis at gmail.com  Sat Nov 30 10:42:14 2019
From: tomasstraupis at gmail.com (Tomas Straupis)
Date: Sat, 30 Nov 2019 20:42:14 +0200
Subject: [QGIS-Developer] QGIS Oracle performance
In-Reply-To: <CAL5Q673yQ03RwRFUgHRAy8QZeiq25aT8JJmGw_yeuxVqaHmRXg@mail.gmail.com>
References: <CA+f=8=ourSop0xruxq378BsOLV-ufH5RH=uD7_e2hX_-R840Yg@mail.gmail.com>
 <CAL5Q673yQ03RwRFUgHRAy8QZeiq25aT8JJmGw_yeuxVqaHmRXg@mail.gmail.com>
Message-ID: <CA+f=8=qoOPhVuKzoQuotu60wGXtDFD8QcGkAM3h9Xg96=-OYjA@mail.gmail.com>

2019-11-30, št, 20:23 Alessandro Pasotti rašė:
> I don't know much about Oracle provider but I would say yes, there is also
> a setting named useEstimatedMetadata that should be used to tell the provider
> if we want to skip the deep and costly analysis and scans, at least in postgres
> this works well, not sure about Oracle.

  Use estimated metadata option was switched ON in my tests.
  In Oracle provider this means that say extent is queried in meta
information views rather than being calculated from actual data.
  This option does not skip re-checking of layer metadata (at least in
Oracle provider).
  In Oracle there is no way (known to me) to save geometry type in
meta information views and querying geometry type using actual large
query (via view) without any filter is in my test very slow and not
actually required as geometry type is selected when selecting
table/view in "Add vector source" dialog.

-- 
Tomas

From nirvn.asia at gmail.com  Sat Nov 30 22:24:29 2019
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Sun, 1 Dec 2019 13:24:29 +0700
Subject: [QGIS-Developer] Delaying 3.10.1?
In-Reply-To: <20191125152646.36jkx5hkqx5efqbg@norbit.de>
References: <CAB28AshRK_hWsWxyvfsK3XmOOZrZ1K3=ngfTPiE2zxwypMHgBQ@mail.gmail.com>
 <CAB28AsgxZ12==b6iB4mEn5GedeHc9=uPHFhiZswDMnQyPBVZ3Q@mail.gmail.com>
 <CAB28Asjr7E5OTvJY9w8oaBrucYbmL4Wuz54D8ot=rW8pEqcyhw@mail.gmail.com>
 <17910679.zQ0DGr2T8D@even-i700> <20191125152646.36jkx5hkqx5efqbg@norbit.de>
Message-ID: <CAC_qv=pRz_9D-uemoOQs3bLf8a6hKtLFFxqjWn1-yi3hzSY5zQ@mail.gmail.com>

The consorted efforts this past week across three open source projects (!)
to fix serious regressions following one of the first "mainstream" exposure
of next gen gdal3/proj6 codebase through QGIS has been heartening to
witness. Congrats to all involved!

Do we have a new release date set for 3.10.1? I understood it might have
been  this black Friday.

Math


On Mon, Nov 25, 2019, 22:27 Jürgen E. Fischer <jef at norbit.de> wrote:

> Hi Even,
>
> On Mon, 25. Nov 2019 at 13:19:35 +0100, Even Rouault wrote:
> > Now merged in PROJ master.
> > Cherry-picked in PROJ 6.2 branch per
> >
> https://github.com/OSGeo/PROJ/commit/bce4b158ab5f7d146de8e8fc98df4612dc8c2c9e
>
> Applied, built, not yet published.
>
>
> > > Looks like we'll need to cherry-pick the PROJ fix into the osgeo4w
> > > build in order to resolve the blocking issue in QGIS.
>
> > I would also suggest applying commit
> >
> https://github.com/OSGeo/gdal/commit/bec5fbd4fbf5d69a8386b920f0dd6d951eceb117
> > (which applies to GDAL 3.0 branch)
> > on top of the 3.0.2 release
> > This fixes a subtle multi-threading bug that causes memory corruption and
> > could likely be the source of crashes at random times
>
> Applied and still building…
>
>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> https://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20191201/e6518c17/attachment.html>

