From oleg at crista.uni-wuppertal.de  Tue Apr  1 04:46:42 2008
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Tue Apr  1 05:07:00 2008
Subject: [Qgis-developer] qgis api port to Windows Mobile
In-Reply-To: <BAY110-W5214406BDB69FC255AD674B2F50@phx.gbl>
References: <BAY110-W5214406BDB69FC255AD674B2F50@phx.gbl>
Message-ID: <200804011046.42599.oleg@crista.uni-wuppertal.de>

Am Dienstag 01 April 2008 02:47:11 schrieb godofredo contreras:
>
> Are there any plans to port qgis api to Windows Mobile?
>
qt4.4 will support wince
http://trolltech.com/developer/downloads/qt/qt44-preview-download

 Oleg.
From tutey at o2.pl  Tue Apr  1 15:19:58 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Apr  1 15:57:05 2008
Subject: [Qgis-developer] QGIS+NX [was: X11 crash and clipping code]
In-Reply-To: <8EEFB70D-E0F3-41DB-81BE-11688326FC14@mrcc.com>
References: <8EEFB70D-E0F3-41DB-81BE-11688326FC14@mrcc.com>
Message-ID: <47F28ADE.5040007@o2.pl>

Gary Sherman pisze:
> Has anybody made changes to the clipping code found in 
> src/core/qgsclipper.* ?
> 
> This issue (URL below) has a remarkable resemblance to the X11 bug that 
> we were plagued with until clipping was instituted:
> 
> https://bugs.launchpad.net/ubuntu/+source/xorg-server/+bug/208899

Hi Gary

As nobody replies I thought it won't hurt if I add my 0.02 USD, though 
maybe not strictly related.

Using QGIS via NX (FreeNX) I have reproducible session shutdowns. They 
happen only with QGIS and only with particular vector data, that consist 
of many polygons with numerous vertices (eg. like raster to vector output).

I asked about the possible culprit on FreeNX ML [1] to not much avail, 
but by the way I learned that a similar issue has already been reported 
to NoMachine co. few months ago [2]. They have recently fixed the issue 
[3], though the fix has not yet been released by NoMachine nor FreeNX AFAIK.

My problem with QGIS & FreeNX in detail:

1. Establish an NX connection in *MODEM/ISDN/ADSL or WAN* mode (LAN mode 
will not expose the problem).
2. Start QGIS on the server.
3. Settings > Options > Rendering > Fix problems with incorectly filled
polygons
4. Load a specific shapefile into QGIS, like this one [4] (1.6MB).
5. The NX session shuts down when rendering in QGIS starts.

I can reconnect soon after, but redrawing the particular shapefile makes 
the session shut down again.

I'm using the "Fix problems with incorectly filled
polygons" becuase otherwise various display artifacts happen when using 
QGIS via NX: invisible polygon of the measure area tool, invisible line 
of the measure length tool, the backdrop map gets erased in the vicinity 
of vertex being currently dragged when digitizing etc. However with "Fix 
problems with incorectly filled polygons" I don't have crashes with any 
vector data, in any NX connection mode. It seems NX and QGIS don't like 
each other.

I wonder if my NX problems and the X server crash you mention might have 
something in common.

I will soon check how the sample dataset mentioned on the Launchpad 
interacts with NX+QGIS.

[1]http://www.nabble.com/forum/ViewPost.jtp?post=15863273&framed=y
[2]http://www.nomachine.com/tr/view.php?id=TR12E01973
[3]http://www.nomachine.com/tr/view_notes.php?commid=145&id=TR12E01973
[4]http://www.biol.uni.wroc.pl/sieczka/udostepnione/vmap0.tar.bz2 (1.6MB)

Maciek
From tim at linfiniti.com  Tue Apr  1 20:57:42 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Apr  1 20:57:44 2008
Subject: [Qgis-developer] Link issues on mac
Message-ID: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>

Hi Tom & William (and anyone else who may know)

I resinstalled my macbook yesterday and am compiling qgis against hand
built libs now. The same procedure worked fine on my imac at work but
here I get lots of errors like this when linking libqgis_core:

ld: warning can't open dynamic library:
/Developer/SDKs/MacOSX10.4u.sdk/usr/local/qgis_universal_deps/lib/libproj.dylib
referenced from: /usr/local/qgis_universal_deps/lib/libgdal.dylib
(checking for undefined symbols may be affected) (No such file or
directory, errno = 2)

Do you know why its concatenating that /Developer/SDKs/MacOSX10.4u.sdk
onto the front of my lib paths? As always any hints will be most
appreciated.

Many thanks

Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From woklist at kyngchaos.com  Tue Apr  1 21:41:49 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue Apr  1 21:42:23 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>
Message-ID: <E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>

That happens automatically, behind the scenes, when you use an SDK.   
The problem with the SDKs in Tiger (it's fixed in Xcode 3 for Leopard)  
is that they don't have either /Library/Frameworks or /usr/local  
symlinks to find user libraries and frameworks.

Add those symlinks, and linking (and includes) should start working.

/Developer/SDKs/MacOSX10.4u.sdk/Library/Frameworks -> /Library/ 
Frameworks

/Developer/SDKs/MacOSX10.4u.sdk/usr/local -> /usr/local

On Apr 1, 2008, at 7:57 PM, Tim Sutton wrote:

> Hi Tom & William (and anyone else who may know)
>
> I resinstalled my macbook yesterday and am compiling qgis against hand
> built libs now. The same procedure worked fine on my imac at work but
> here I get lots of errors like this when linking libqgis_core:
>
> ld: warning can't open dynamic library:
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/qgis_universal_deps/lib/ 
> libproj.dylib
> referenced from: /usr/local/qgis_universal_deps/lib/libgdal.dylib
> (checking for undefined symbols may be affected) (No such file or
> directory, errno = 2)
>
> Do you know why its concatenating that /Developer/SDKs/MacOSX10.4u.sdk
> onto the front of my lib paths? As always any hints will be most
> appreciated.
>
> Many thanks
>
> Regards
>
> -- 
> Tim Sutton

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

[Trillian]  What are you supposed to do WITH a maniacally depressed  
robot?

[Marvin]  You think you have problems?  What are you supposed to do if  
you ARE a maniacally depressed robot?  No, don't try and answer, I'm  
50,000 times more intelligent than you and even I don't know the  
answer...

- HitchHiker's Guide to the Galaxy


From telwertowski at comcast.net  Wed Apr  2 02:16:35 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Apr  2 02:17:45 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>
	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
Message-ID: <47F324C3.8060004@comcast.net>

With Xcode 2.5 (Tiger), I get the link to /Library/Frameworks but not to /usr/local; I had to add it myself. With Xcode 3.0 (Leopard), I get links to /Library/Frameworks and /usr/local/lib (but not the rest of local).

I recently acquired a new Mac and also had build difficulties. I edited CMakeCache.txt to get around the problems so I could work on porting code to Qt4.4-Cocoa.

To build qgis quickly on my new Mac, I installed William's frameworks and compiled expat, gsl and postgres myself with installation to /usr/local.

When I run cmake, I get the following message:

CMake Error: This project requires some variables to be set,
and cmake can not find them.
Please set the following variables:
GEOS_INCLUDE_DIR
GEOS_LIBRARY
PROJ_INCLUDE_DIR
PROJ_LIBRARY

I manually set these in CmakeCache.txt to get past the problem.

If I configure without GRASS, I get georeferencer compile errors because gsl headers cannot be found. If I configure with GRASS, the build completes successfully.

georeferencer/CmakeLists.txt contains GSL_INCLUDE_DIR but the definition (-I/usr/local/include) doesn't appear in flags.make. When I manually add it to flags.make, the build succeeds. When configuring with GRASS, the definition still doesn't appear in flags.make but the headers get found anyway. I'm using William's GRASS which isn't in /usr/local.

Tom


William Kyngesburye wrote:
> That happens automatically, behind the scenes, when you use an SDK.  The 
> problem with the SDKs in Tiger (it's fixed in Xcode 3 for Leopard) is 
> that they don't have either /Library/Frameworks or /usr/local symlinks 
> to find user libraries and frameworks.
> 
> Add those symlinks, and linking (and includes) should start working.
> 
> /Developer/SDKs/MacOSX10.4u.sdk/Library/Frameworks -> /Library/Frameworks
> 
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local -> /usr/local
> 
> On Apr 1, 2008, at 7:57 PM, Tim Sutton wrote:
> 
>> Hi Tom & William (and anyone else who may know)
>>
>> I resinstalled my macbook yesterday and am compiling qgis against hand
>> built libs now. The same procedure worked fine on my imac at work but
>> here I get lots of errors like this when linking libqgis_core:
>>
>> ld: warning can't open dynamic library:
>> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/qgis_universal_deps/lib/libproj.dylib 
>>
>> referenced from: /usr/local/qgis_universal_deps/lib/libgdal.dylib
>> (checking for undefined symbols may be affected) (No such file or
>> directory, errno = 2)
>>
>> Do you know why its concatenating that /Developer/SDKs/MacOSX10.4u.sdk
>> onto the front of my lib paths? As always any hints will be most
>> appreciated.
>>
>> Many thanks
>>
>> Regards
>>
>> -- 
>> Tim Sutton
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> [Trillian]  What are you supposed to do WITH a maniacally depressed robot?
> 
> [Marvin]  You think you have problems?  What are you supposed to do if 
> you ARE a maniacally depressed robot?  No, don't try and answer, I'm 
> 50,000 times more intelligent than you and even I don't know the answer...
> 
> - HitchHiker's Guide to the Galaxy
> 
> 
> 

From tim at linfiniti.com  Wed Apr  2 14:07:16 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Apr  2 14:07:20 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F324C3.8060004@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>
	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net>
Message-ID: <d368056f0804021107s7922a512ne03d60d3e7acb766@mail.gmail.com>

Hi William and Tom

Ah brilliant thanks for the sage advice! Strangely I upgraded both my
iMac at work (which doesnt exhibit this issue) and my newly
reinstalled macbook (which does exhibit this issue) at home to xcode
2.5. Ill try your tips and add an appropriate note to the INSTALL
document when I have it working.

On the subject of cocoa, i finally (I think!) wrapped my brain around
what the difference between cocoa and carbon is after reading a good
article on the history of os x on wikipedia. I even wrote a silly
little app in objective-c. Objective-c + carbon looks interesting but
Qt4 still seems to be the most intuitive development framework I've
ever come across....but maybe I'm biased :-) One nice thing about the
cocoa app was that the resulting app bundle was miniscule because it
didnt need all those hulking great Qt libs stuck inside it.

Regards

Tim

2008/4/2, Tom Elwertowski <telwertowski@comcast.net>:
> With Xcode 2.5 (Tiger), I get the link to /Library/Frameworks but not to
> /usr/local; I had to add it myself. With Xcode 3.0 (Leopard), I get links to
> /Library/Frameworks and /usr/local/lib (but not the rest of local).
>
>  I recently acquired a new Mac and also had build difficulties. I edited
> CMakeCache.txt to get around the problems so I could work on porting code to
> Qt4.4-Cocoa.
>
>  To build qgis quickly on my new Mac, I installed William's frameworks and
> compiled expat, gsl and postgres myself with installation to /usr/local.
>
>  When I run cmake, I get the following message:
>
>  CMake Error: This project requires some variables to be set,
>  and cmake can not find them.
>  Please set the following variables:
>  GEOS_INCLUDE_DIR
>  GEOS_LIBRARY
>  PROJ_INCLUDE_DIR
>  PROJ_LIBRARY
>
>  I manually set these in CmakeCache.txt to get past the problem.
>
>  If I configure without GRASS, I get georeferencer compile errors because
> gsl headers cannot be found. If I configure with GRASS, the build completes
> successfully.
>
>  georeferencer/CmakeLists.txt contains GSL_INCLUDE_DIR but the definition
> (-I/usr/local/include) doesn't appear in flags.make. When I manually add it
> to flags.make, the build succeeds. When configuring with GRASS, the
> definition still doesn't appear in flags.make but the headers get found
> anyway. I'm using William's GRASS which isn't in /usr/local.
>
>  Tom
>
>
>
>  William Kyngesburye wrote:
>
> > That happens automatically, behind the scenes, when you use an SDK.  The
> problem with the SDKs in Tiger (it's fixed in Xcode 3 for Leopard) is that
> they don't have either /Library/Frameworks or /usr/local symlinks to find
> user libraries and frameworks.
> >
> > Add those symlinks, and linking (and includes) should start working.
> >
> > /Developer/SDKs/MacOSX10.4u.sdk/Library/Frameworks ->
> /Library/Frameworks
> >
> > /Developer/SDKs/MacOSX10.4u.sdk/usr/local -> /usr/local
> >
> > On Apr 1, 2008, at 7:57 PM, Tim Sutton wrote:
> >
> >
> > > Hi Tom & William (and anyone else who may know)
> > >
> > > I resinstalled my macbook yesterday and am compiling qgis against hand
> > > built libs now. The same procedure worked fine on my imac at work but
> > > here I get lots of errors like this when linking libqgis_core:
> > >
> > > ld: warning can't open dynamic library:
> > >
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/qgis_universal_deps/lib/libproj.dylib
> > > referenced from:
> /usr/local/qgis_universal_deps/lib/libgdal.dylib
> > > (checking for undefined symbols may be affected) (No such file or
> > > directory, errno = 2)
> > >
> > > Do you know why its concatenating that /Developer/SDKs/MacOSX10.4u.sdk
> > > onto the front of my lib paths? As always any hints will be most
> > > appreciated.
> > >
> > > Many thanks
> > >
> > > Regards
> > >
> > > --
> > > Tim Sutton
> > >
> >
> > -----
> > William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> > http://www.kyngchaos.com/
> >
> > [Trillian]  What are you supposed to do WITH a maniacally depressed robot?
> >
> > [Marvin]  You think you have problems?  What are you supposed to do if you
> ARE a maniacally depressed robot?  No, don't try and answer, I'm 50,000
> times more intelligent than you and even I don't know the answer...
> >
> > - HitchHiker's Guide to the Galaxy
> >
> >
> >
> >
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From john.tull at wildnevada.org  Wed Apr  2 15:06:15 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Apr  2 15:06:23 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F324C3.8060004@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>
	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net>
Message-ID: <BB4D0082-9BDE-49A0-AF27-C7855E01F68D@wildnevada.org>

Tom,

I started picking up those errors in my cmake step as well. I have  
added it to my cmake alias for qgis. Currently, this is what I do for  
cmake:

cmake -D CMAKE_INSTALL_PREFIX=/Applications -D GRASS_INCLUDE_DIR=/ 
Applications/GRASS-6.3.app/Contents/MacOS/include -D GRASS_PREFIX=/ 
Applications/GRASS-6.3.app/Contents/MacOS -D CMAKE_BUILD_TYPE=Release - 
D GEOS_INCLUDE_DIR=/Library/Frameworks/GEOS.framework/unix/include -D  
GEOS_LIBRARY=/Library/Frameworks/GEOS.framework/unix/lib/libgeos.dylib  
-D PROJ_INCLUDE_DIR=/Library/Frameworks/PROJ.framework/unix/include -D  
PROJ_LIBRARY=/Library/Frameworks/PROJ.framework/unix/lib/libproj.dylib  
-D SQLITE3_INCLUDE_DIR=/Library/Frameworks/SQLite3.framework/unix/ 
inlcude -D SQLITE3_LIBRARY=/Library/Frameworks/SQLite3.framework/unix/ 
lib/libsqlite3.dylib -D CMAKE_OSX_SYSROOT=/Developer/SDKs/ 
MacOSX10.5.sdk ..

I've not tried building without grass, so have not run into the grass  
issue you mentioned. I use William's frameworks on my Leopard system.

Cheers,
John

On Apr 1, 2008, at 11:16 PM, Tom Elwertowski wrote:
> With Xcode 2.5 (Tiger), I get the link to /Library/Frameworks but  
> not to /usr/local; I had to add it myself. With Xcode 3.0 (Leopard),  
> I get links to /Library/Frameworks and /usr/local/lib (but not the  
> rest of local).
>
> I recently acquired a new Mac and also had build difficulties. I  
> edited CMakeCache.txt to get around the problems so I could work on  
> porting code to Qt4.4-Cocoa.
>
> To build qgis quickly on my new Mac, I installed William's  
> frameworks and compiled expat, gsl and postgres myself with  
> installation to /usr/local.
>
> When I run cmake, I get the following message:
>
> CMake Error: This project requires some variables to be set,
> and cmake can not find them.
> Please set the following variables:
> GEOS_INCLUDE_DIR
> GEOS_LIBRARY
> PROJ_INCLUDE_DIR
> PROJ_LIBRARY
>
> I manually set these in CmakeCache.txt to get past the problem.
>
> If I configure without GRASS, I get georeferencer compile errors  
> because gsl headers cannot be found. If I configure with GRASS, the  
> build completes successfully.
>
> georeferencer/CmakeLists.txt contains GSL_INCLUDE_DIR but the  
> definition (-I/usr/local/include) doesn't appear in flags.make. When  
> I manually add it to flags.make, the build succeeds. When  
> configuring with GRASS, the definition still doesn't appear in  
> flags.make but the headers get found anyway. I'm using William's  
> GRASS which isn't in /usr/local.
>
> Tom
>
>
> William Kyngesburye wrote:
>> That happens automatically, behind the scenes, when you use an  
>> SDK.  The problem with the SDKs in Tiger (it's fixed in Xcode 3 for  
>> Leopard) is that they don't have either /Library/Frameworks or /usr/ 
>> local symlinks to find user libraries and frameworks.
>> Add those symlinks, and linking (and includes) should start working.
>> /Developer/SDKs/MacOSX10.4u.sdk/Library/Frameworks -> /Library/ 
>> Frameworks
>> /Developer/SDKs/MacOSX10.4u.sdk/usr/local -> /usr/local
>> On Apr 1, 2008, at 7:57 PM, Tim Sutton wrote:
>>> Hi Tom & William (and anyone else who may know)
>>>
>>> I resinstalled my macbook yesterday and am compiling qgis against  
>>> hand
>>> built libs now. The same procedure worked fine on my imac at work  
>>> but
>>> here I get lots of errors like this when linking libqgis_core:
>>>
>>> ld: warning can't open dynamic library:
>>> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/qgis_universal_deps/lib/ 
>>> libproj.dylib
>>> referenced from: /usr/local/qgis_universal_deps/lib/libgdal.dylib
>>> (checking for undefined symbols may be affected) (No such file or
>>> directory, errno = 2)
>>>
>>> Do you know why its concatenating that /Developer/SDKs/ 
>>> MacOSX10.4u.sdk
>>> onto the front of my lib paths? As always any hints will be most
>>> appreciated.
>>>
>>> Many thanks
>>>
>>> Regards
>>>
>>> -- 
>>> Tim Sutton
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>> [Trillian]  What are you supposed to do WITH a maniacally depressed  
>> robot?
>> [Marvin]  You think you have problems?  What are you supposed to do  
>> if you ARE a maniacally depressed robot?  No, don't try and answer,  
>> I'm 50,000 times more intelligent than you and even I don't know  
>> the answer...
>> - HitchHiker's Guide to the Galaxy
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From telwertowski at comcast.net  Wed Apr  2 15:17:35 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Apr  2 15:20:12 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <d368056f0804021107s7922a512ne03d60d3e7acb766@mail.gmail.com>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	
	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>	
	<47F324C3.8060004@comcast.net>
	<d368056f0804021107s7922a512ne03d60d3e7acb766@mail.gmail.com>
Message-ID: <47F3DBCF.1050300@comcast.net>

Using Qt will hide the objective-c from qgis. We will continue to use the same cross-platform c++ interface.

Trolltech is rewriting their low level Mac c++ code in objective-c so that we don't have to use objective-c at our level. Calls from c++ to objective-c will occur in the lower levels of Qt. This needs to be done because Apple has decided not to port Carbon (gui c api) to 64 bits. New gui features starting with OS X 10.5 will appear only in the Cocoa (objective-C) api.

A side note: Apple is promoting objective-c as the standard development language while Microsoft is promoting c#. Both companies appear to prefer that software not be easily portable. 

Since rewriting the whole Mac-specific layer of Qt is a big project, Trolltech is not porting the Qt3Support layer. Therefore, we need to remove 1) Qt3Support library, 2) use of Qt3 compatibility routines defined in Qt4 classes and 3) implicit casts from QString to char*.

I have mostly done this (a few things here and there still commented out rather than ported) for all except the GRASS plugin and built qgis as a 64bit Qt4.4-Cocoa application. Qt4.4-Cocoa is an alpha release and is still unstable. Bitmaps with an alpha channel have problems and popup menus don't popdown. Viewing vector layers is about all qgis/mac64 is good for right now. I am also testing my qgis mods with Qt4.2 and 4.3 where they work as expected.

Thanks to William for all the 64 bit libraries! I can build 32/64 bit for OS X 10.5 only or 32 bit for OS X 10.4 but haven't looked at how to build 32(10.4)/64(10.5) libraries.

Tom

Tim Sutton wrote:
> On the subject of cocoa, i finally (I think!) wrapped my brain around
> what the difference between cocoa and carbon is after reading a good
> article on the history of os x on wikipedia. I even wrote a silly
> little app in objective-c. Objective-c + carbon looks interesting but
> Qt4 still seems to be the most intuitive development framework I've
> ever come across....but maybe I'm biased :-) One nice thing about the
> cocoa app was that the resulting app bundle was miniscule because it
> didnt need all those hulking great Qt libs stuck inside it.
> 
> 2008/4/2, Tom Elwertowski <telwertowski@comcast.net>:
>> work on porting code to Qt4.4-Cocoa.

From woklist at kyngchaos.com  Wed Apr  2 16:12:34 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Apr  2 16:12:38 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F3DBCF.1050300@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	
	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>	
	<47F324C3.8060004@comcast.net>
	<d368056f0804021107s7922a512ne03d60d3e7acb766@mail.gmail.com>
	<47F3DBCF.1050300@comcast.net>
Message-ID: <BAAFBC0F-D13B-493E-9BF0-88CEFF65FB77@kyngchaos.com>

On Apr 2, 2008, at 2:17 PM, Tom Elwertowski wrote:

> Thanks to William for all the 64 bit libraries! I can build 32/64  
> bit for OS X 10.5 only or 32 bit for OS X 10.4 but haven't looked at  
> how to build 32(10.4)/64(10.5) libraries.
>
> Tom
>
Looking forward to a 64bit Mac Qgis!

Anyways, for library build notes, I'm *slowly* updating my notes on my  
site, which include 64bit/Leopard builds.

Right now I prefer keeping Tiger Universal 32bit and Leopard Universal  
32+64bit separate.  I started doing 32bit Tiger/Leopard + 64bit  
Leopard, but that was much more work (a lot of lipo-ing), and I later  
found other reasons:

- The 32bit side must stay Tiger-compatible.  You lose out on the  
Leopard side then for many updated libraries.  Similarly, there is a  
feature/compatibility disparity between 32bits and 64bits for Leopard.

- They would be difficult to use in other software that may expect the  
32bit and 64bit parts to be built from the same SDK - ie compiling all  
4 archs together at once instead of lipoing together.

- Tiger is partially 64bit capable - libsystem and libz, for basic CLI  
programs.  So it could mistakenly try to run an application in 64bit  
mode if it's available on Tiger.  You would have to strip the 64bit  
when installed on Tiger.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

First Pogril: Why is life like sticking your head in a bucket filled  
with hyena offal?
Second Pogril: I don't know.  Why IS life like sticking your head in a  
bucket filled with hyena offal?
First Pogril: I don't know either.  Wretched, isn't it?

-HitchHiker's Guide to the Galaxy


From RMcCulley at county24.com  Wed Apr  2 17:31:17 2008
From: RMcCulley at county24.com (Rob McCulley)
Date: Wed Apr  2 17:38:14 2008
Subject: [Qgis-developer] Build Problems on win32
Message-ID: <8563B9D6767C904A912272A2D56548E4255B4B@vermilion.County24.local>

Hi All,

 

I'm trying to build qgis and the python bindings on Windows XP using
MSVC 7.1 (2003 .NET) using the instructions found here:

 

http://wiki.qgis.org/qgiswiki/BuildingFromSource#head-696307823157d4af8d
dd12c81acdbea284576a5f

 

CMake doesn't report any errors at all.  This is the output from running
cmake ..:

 

E:\Build\Source\qgis-svn\Build>"C:\Program Files\CMake
2.4\bin\cmake.exe" ..

-- Found Proj: E:/Build/Source/proj-4.6.0/src/proj_i.lib

-- Found GEOS: E:/Build/Source/geos-svn/source/geos_i.lib

-- Found GDAL: C:/Program Files/GDAL/lib/gdal_i.lib

-- Found PostgreSQL:
E:/Build/Source/postgresql-8.2.3/src/interfaces/libpq/Release/libpq.lib

-- Found Expat: E:/Build/Source/Expat 2.0.1/Bin/libexpat.lib

-- Using GSL from

-- Python libraries found

-- Python bindings enabled

-- Found Qt-Version 4.3.4

-- Configuring done

-- Generating done

-- Build files have been written to: E:/Build/Source/qgis-svn/Build

 

When I open the resulting .sln file, and build ALL_BUILD, I get a whole
bunch of warnings like:

 

E:\Build\Source\geos-svn\source\headers\geos\platform.h(34): warning
C4005: '_USE_MATH_DEFINES' : macro redefinition

E:\Build\Source\geos-svn\source\headers\geos\io\WKBWriter.h(110):
warning C4800: 'int' : forcing value to bool 'true' or 'false'
(performance warning)

 

I also get numerous errors during the core build:

 

E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorag
eManager.cc(125): error C3861: 'access': identifier not found, even with
argument-dependent lookup

E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorag
eManager.cc(147): error C3861: 'open': identifier not found, even with
argument-dependent lookup

E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorag
eManager.cc(189): error C3861: 'read': identifier not found, even with
argument-dependent lookup

E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorag
eManager.cc(250): error C3861: 'close': identifier not found, even with
argument-dependent lookup

E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorag
eManager.cc(283): error C3861: 'write': identifier not found, even with
argument-dependent lookup

E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorag
eManager.cc(317): error C3861: '_commit': identifier not found, even
with argument-dependent lookup

E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorag
eManager.cc(340): error C3861: 'lseek': identifier not found, even with
argument-dependent lookup

 

Later in the build process, I get a bunch of errors about failing to
find qgis_core.lib, but I assume that it is because qgis_core.lib failed
to build due to the errors above.  I'm obviously missing something here,
any ideas what?

 

Thanks,

Rob McCulley

GIS Coordinator 

County of Vermilion River

(780) 846-2244

www.vermilion-river.ab.ca <http://www.vermilion-river.ab.ca/> 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080402/e9d61ee1/attachment-0001.html
From tim at linfiniti.com  Wed Apr  2 19:44:02 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Apr  2 19:44:04 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <BAAFBC0F-D13B-493E-9BF0-88CEFF65FB77@kyngchaos.com>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>
	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net>
	<d368056f0804021107s7922a512ne03d60d3e7acb766@mail.gmail.com>
	<47F3DBCF.1050300@comcast.net>
	<BAAFBC0F-D13B-493E-9BF0-88CEFF65FB77@kyngchaos.com>
Message-ID: <d368056f0804021644m21e72d75o88ecce87213ceafa@mail.gmail.com>

Hi

Ok Im back at home on my macbook and the symlink trick fixed the
problem! Thanks again!

Regards

Tim

2008/4/2, William Kyngesburye <woklist@kyngchaos.com>:
> On Apr 2, 2008, at 2:17 PM, Tom Elwertowski wrote:
>
>
> > Thanks to William for all the 64 bit libraries! I can build 32/64 bit for
> OS X 10.5 only or 32 bit for OS X 10.4 but haven't looked at how to build
> 32(10.4)/64(10.5) libraries.
> >
> > Tom
> >
> >
>  Looking forward to a 64bit Mac Qgis!
>
>  Anyways, for library build notes, I'm *slowly* updating my notes on my
> site, which include 64bit/Leopard builds.
>
>  Right now I prefer keeping Tiger Universal 32bit and Leopard Universal
> 32+64bit separate.  I started doing 32bit Tiger/Leopard + 64bit Leopard, but
> that was much more work (a lot of lipo-ing), and I later found other
> reasons:
>
>  - The 32bit side must stay Tiger-compatible.  You lose out on the Leopard
> side then for many updated libraries.  Similarly, there is a
> feature/compatibility disparity between 32bits and 64bits for Leopard.
>
>  - They would be difficult to use in other software that may expect the
> 32bit and 64bit parts to be built from the same SDK - ie compiling all 4
> archs together at once instead of lipoing together.
>
>  - Tiger is partially 64bit capable - libsystem and libz, for basic CLI
> programs.  So it could mistakenly try to run an application in 64bit mode if
> it's available on Tiger.  You would have to strip the 64bit when installed
> on Tiger.
>
>  -----
>  William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>  http://www.kyngchaos.com/
>
>  First Pogril: Why is life like sticking your head in a bucket filled with
> hyena offal?
>  Second Pogril: I don't know.  Why IS life like sticking your head in a
> bucket filled with hyena offal?
>  First Pogril: I don't know either.  Wretched, isn't it?
>
>  -HitchHiker's Guide to the Galaxy
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed Apr  2 20:08:53 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Apr  2 20:08:56 2008
Subject: [Qgis-developer] String freeze for 0.9.2
Message-ID: <d368056f0804021708o7f3c4dfbnb1e7224f096df676@mail.gmail.com>

Hi All (and especially translators)

As of yesterday please note that we have entered string freeze for the
run up to the next release. If you are committing bug fixes please
avoid changing any strings. Translation .ts files have been updated in
SVN so please update your local svn checkouts. The period for
translations will close 08/04/2008 (i.e. about one week from now) and
then we will be branching for release. Any translations submitted to
us after that time will only be included in the next release, so
please submit what you have by then even if it is not complete.

As always you can track the release plans via the checklist at:
http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.9.2

If you have any questions about the translation process, please see
the following page which includes instructions on how to generate a
.ts file for a new locale.
http://wiki.qgis.org/qgiswiki/TranslatorsCorner

Many thanks to all the translators out there for the great work you do!


Best regards,

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu Apr  3 06:22:40 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr  3 06:22:44 2008
Subject: [Qgis-developer] Build Problems on win32
In-Reply-To: <8563B9D6767C904A912272A2D56548E4255B4B@vermilion.County24.local>
References: <8563B9D6767C904A912272A2D56548E4255B4B@vermilion.County24.local>
Message-ID: <d368056f0804030322p26b12928le1e70563847d306b@mail.gmail.com>

Hi Rob

Could you check if the Flex/Bison sources got generated in
build/src/core you should have


qgssearchstringparser.cpp
qgssearchstringparser.hpp

If not try putting the attached files there and see if it builds.

Regards

Tim

2008/4/2, Rob McCulley <RMcCulley@county24.com>:
>
>
>
>
> Hi All,
>
>
>
> I'm trying to build qgis and the python bindings on Windows XP using MSVC
> 7.1 (2003 .NET) using the instructions found here:
>
>
>
> http://wiki.qgis.org/qgiswiki/BuildingFromSource#head-696307823157d4af8ddd12c81acdbea284576a5f
>
>
>
> CMake doesn't report any errors at all.  This is the output from running
> cmake ..:
>
>
>
> E:\Build\Source\qgis-svn\Build>"C:\Program Files\CMake
> 2.4\bin\cmake.exe" ..
>
> -- Found Proj: E:/Build/Source/proj-4.6.0/src/proj_i.lib
>
> -- Found GEOS: E:/Build/Source/geos-svn/source/geos_i.lib
>
> -- Found GDAL: C:/Program Files/GDAL/lib/gdal_i.lib
>
> -- Found PostgreSQL:
> E:/Build/Source/postgresql-8.2.3/src/interfaces/libpq/Release/libpq.lib
>
> -- Found Expat: E:/Build/Source/Expat 2.0.1/Bin/libexpat.lib
>
> -- Using GSL from
>
> -- Python libraries found
>
> -- Python bindings enabled
>
> -- Found Qt-Version 4.3.4
>
> -- Configuring done
>
> -- Generating done
>
> -- Build files have been written to: E:/Build/Source/qgis-svn/Build
>
>
>
> When I open the resulting .sln file, and build ALL_BUILD, I get a whole
> bunch of warnings like:
>
>
>
> E:\Build\Source\geos-svn\source\headers\geos\platform.h(34):
> warning C4005: '_USE_MATH_DEFINES' : macro redefinition
>
> E:\Build\Source\geos-svn\source\headers\geos\io\WKBWriter.h(110):
> warning C4800: 'int' : forcing value to bool 'true' or 'false' (performance
> warning)
>
>
>
> I also get numerous errors during the core build:
>
>
>
> E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorageManager.cc(125):
> error C3861: 'access': identifier not found, even with argument-dependent
> lookup
>
> E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorageManager.cc(147):
> error C3861: 'open': identifier not found, even with argument-dependent
> lookup
>
> E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorageManager.cc(189):
> error C3861: 'read': identifier not found, even with argument-dependent
> lookup
>
> E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorageManager.cc(250):
> error C3861: 'close': identifier not found, even with argument-dependent
> lookup
>
> E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorageManager.cc(283):
> error C3861: 'write': identifier not found, even with argument-dependent
> lookup
>
> E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorageManager.cc(317):
> error C3861: '_commit': identifier not found, even with argument-dependent
> lookup
>
> E:\Build\Source\qgis-svn\src\core\spatialindex\storagemanager\DiskStorageManager.cc(340):
> error C3861: 'lseek': identifier not found, even with argument-dependent
> lookup
>
>
>
> Later in the build process, I get a bunch of errors about failing to find
> qgis_core.lib, but I assume that it is because qgis_core.lib failed to build
> due to the errors above.  I'm obviously missing something here, any ideas
> what?
>
>
>
> Thanks,
>
> Rob McCulley
>
> GIS Coordinator
>
> County of Vermilion River
>
> (780) 846-2244
>
> www.vermilion-river.ab.ca
>
>
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgssearchstringparser.cpp
Type: text/x-c++src
Size: 48808 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080403/166ae91e/qgssearchstringparser-0002.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgssearchstringparser.hpp
Type: text/x-c++hdr
Size: 2688 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080403/166ae91e/qgssearchstringparser-0003.bin
From telwertowski at comcast.net  Thu Apr  3 15:39:47 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Thu Apr  3 15:39:51 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F324C3.8060004@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net>
Message-ID: <47F53283.7050707@comcast.net>

Hi Tim and William,

I found the source of the FindGEOS.cmake and FindProj.cmake Mac problem. The addition of the NO_DEFAULT_PATH flag to FIND_* made the files framework-unfriendly.

The geos.h header is also missing from the GEOS framework. The file is not used by qgis but FindGEOS.cmake references it to locate GEOS. I have changed the cmake search reference to geos_c.h which is present (and also not used by qgis).

NO_DEFAULT_PATH was added to force searching of specified paths before default paths. /usr/lib paths but not /Library/Frameworks were then explicitly added.

The Cmake documentation recommends calling FIND twice to achieve the same effect. First with only nonstandard paths and the NO_DEFAULT_PATH flag. Then again with no specified paths to search the default locations. When an earlier FIND succeeds, later FINDs for the same item do nothing.

The multiple FIND method avoids the need to list standard paths (and perhaps forget about frameworks). It is also compatible with the CMAKE_FIND_FRAMEWORK setting which might be LAST, ONLY or NEVER rather then the default FIRST. (Hardcoding the all path permutations would look awful.)

Since the default paths were inserted into the middle of the nonstandard paths, apparently for mingw and perhaps msvc too, I have attached the Mac fix as a patch to be verified and perhaps adjusted for those systems before being submitted to svn. Perhaps a third FIND is needed if the defaults really need to be in the middle of the list.

Tom


Tom Elwertowski wrote:
> When I run cmake, I get the following message:
> 
> CMake Error: This project requires some variables to be set,
> and cmake can not find them.
> Please set the following variables:
> GEOS_INCLUDE_DIR
> GEOS_LIBRARY
> PROJ_INCLUDE_DIR
> PROJ_LIBRARY
-------------- next part --------------
Index: cmake/FindExpat.cmake
===================================================================
--- cmake/FindExpat.cmake	(revision 8315)
+++ cmake/FindExpat.cmake	(working copy)
@@ -7,29 +7,26 @@
 #    EXPAT_INCLUDE_DIR
 #    EXPAT_LIBRARY
 
-# Normally there is no need to specify /usr/... paths because 
-# cmake will look there automatically. However the NO_DEFAULT_PATH
-# prevents this behaviour allowing you to use no standard file
-# locations in preference over standard ones. Note in this case
-# you then need to explicitly add /usr and /usr/local prefixes
-# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
-FIND_PATH(EXPAT_INCLUDE_DIR expat.h 
+# FIND_PATH and FIND_LIBRARY normally search standard locations
+# before the specified paths. To search non-standard paths first,
+# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
+# and then again with no specified paths to search the default
+# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
+# searching for the same item do nothing. 
+FIND_PATH(EXPAT_INCLUDE_DIR expat.h
   "$ENV{LIB_DIR}/include/"
   "$ENV{LIB_DIR}/include/expat"
-  /Users/tim/dev/universal_libs/include
-  /usr/local/include 
-  /usr/include 
   c:/msys/local/include
   NO_DEFAULT_PATH
   )
+FIND_PATH(EXPAT_INCLUDE_DIR expat.h)
 #libexpat needed for msvc version
 FIND_LIBRARY(EXPAT_LIBRARY NAMES expat libexpat PATHS 
   "$ENV{LIB_DIR}/lib"
-  /usr/local/lib 
-  /usr/lib 
   c:/msys/local/lib
   NO_DEFAULT_PATH
   )
+FIND_LIBRARY(EXPAT_LIBRARY NAMES expat libexpat)
 
 IF (EXPAT_INCLUDE_DIR AND EXPAT_LIBRARY)
    SET(EXPAT_FOUND TRUE)
Index: cmake/FindSqlite3.cmake
===================================================================
--- cmake/FindSqlite3.cmake	(revision 8315)
+++ cmake/FindSqlite3.cmake	(working copy)
@@ -7,29 +7,28 @@
 #    SQLITE3_LIBRARY
 
 
-# Normally there is no need to specify /usr/... paths because 
-# cmake will look there automatically. However the NO_DEFAULT_PATH
-# prevents this behaviour allowing you to use no standard file
-# locations in preference over standard ones. Note in this case
-# you then need to explicitly add /usr and /usr/local prefixes
-# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
-FIND_PATH(SQLITE3_INCLUDE_DIR sqlite3.h 
+# FIND_PATH and FIND_LIBRARY normally search standard locations
+# before the specified paths. To search non-standard paths first,
+# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
+# and then again with no specified paths to search the default
+# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
+# searching for the same item do nothing. 
+FIND_PATH(SQLITE3_INCLUDE_DIR sqlite3.h
   "$ENV{LIB_DIR}/include"
   "$ENV{LIB_DIR}/include/sqlite"
-  /usr/local/include 
-  /usr/include 
   #mingw
   c:/msys/local/include
   NO_DEFAULT_PATH
   )
+FIND_PATH(SQLITE3_INCLUDE_DIR sqlite3.h)
 
-FIND_LIBRARY(SQLITE3_LIBRARY NAMES sqlite3 PATHS 
+FIND_LIBRARY(SQLITE3_LIBRARY NAMES sqlite3 PATHS
   "$ENV{LIB_DIR}/lib"
-  /usr/local/lib 
-  /usr/lib 
+  #mingw
   c:/msys/local/lib
   NO_DEFAULT_PATH
   )
+FIND_LIBRARY(SQLITE3_LIBRARY NAMES sqlite3)
 
 IF (SQLITE3_INCLUDE_DIR AND SQLITE3_LIBRARY)
    SET(SQLITE3_FOUND TRUE)
Index: cmake/FindProj.cmake
===================================================================
--- cmake/FindProj.cmake	(revision 8315)
+++ cmake/FindProj.cmake	(working copy)
@@ -7,29 +7,28 @@
 #    PROJ_LIBRARY
 
 
-# Normally there is no need to specify /usr/... paths because 
-# cmake will look there automatically. However the NO_DEFAULT_PATH
-# prevents this behaviour allowing you to use no standard file
-# locations in preference over standard ones. Note in this case
-# you then need to explicitly add /usr and /usr/local prefixes
-# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
-FIND_PATH(PROJ_INCLUDE_DIR proj_api.h 
+# FIND_PATH and FIND_LIBRARY normally search standard locations
+# before the specified paths. To search non-standard paths first,
+# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
+# and then again with no specified paths to search the default
+# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
+# searching for the same item do nothing. 
+FIND_PATH(PROJ_INCLUDE_DIR proj_api.h
   "$ENV{LIB_DIR}/include/proj"
   "$ENV{LIB_DIR}/include"
-  /usr/local/include 
-  /usr/include 
   #mingw
   c:/msys/local/include
   NO_DEFAULT_PATH
   )
+FIND_PATH(PROJ_INCLUDE_DIR proj_api.h)
 
-FIND_LIBRARY(PROJ_LIBRARY NAMES proj PATHS 
+FIND_LIBRARY(PROJ_LIBRARY NAMES proj PATHS
   "$ENV{LIB_DIR}/lib"
-  /usr/local/lib 
-  /usr/lib 
+  #mingw
   c:/msys/local/lib
   NO_DEFAULT_PATH
   )
+FIND_LIBRARY(PROJ_LIBRARY NAMES proj)
 
 IF (PROJ_INCLUDE_DIR AND PROJ_LIBRARY)
    SET(PROJ_FOUND TRUE)
Index: cmake/FindGEOS.cmake
===================================================================
--- cmake/FindGEOS.cmake	(revision 8315)
+++ cmake/FindGEOS.cmake	(working copy)
@@ -7,29 +7,27 @@
 #    GEOS_LIBRARY
 
 
-# Normally there is no need to specify /usr/... paths because 
-# cmake will look there automatically. However the NO_DEFAULT_PATH
-# prevents this behaviour allowing you to use no standard file
-# locations in preference over standard ones. Note in this case
-# you then need to explicitly add /usr and /usr/local prefixes
-# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
-FIND_PATH(GEOS_INCLUDE_DIR geos.h 
+# FIND_PATH and FIND_LIBRARY normally search standard locations
+# before the specified paths. To search non-standard paths first,
+# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
+# and then again with no specified paths to search the default
+# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
+# searching for the same item do nothing. 
+FIND_PATH(GEOS_INCLUDE_DIR geos_c.h
   "$ENV{LIB_DIR}/include"
-  /usr/local/include 
-  /usr/include 
   #mingw
   c:/msys/local/include
   NO_DEFAULT_PATH
   )
+FIND_PATH(GEOS_INCLUDE_DIR geos_c.h)
 
 FIND_LIBRARY(GEOS_LIBRARY NAMES geos PATHS 
   "$ENV{LIB_DIR}/lib"
-  /usr/local/lib 
-  /usr/lib 
   #mingw
   c:/msys/local/lib
   NO_DEFAULT_PATH
   )
+FIND_LIBRARY(GEOS_LIBRARY NAMES geos)
 
 IF (GEOS_INCLUDE_DIR AND GEOS_LIBRARY)
    SET(GEOS_FOUND TRUE)
From woklist at kyngchaos.com  Thu Apr  3 16:10:30 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Apr  3 16:10:35 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F53283.7050707@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net> <47F53283.7050707@comcast.net>
Message-ID: <130467FE-7222-4677-9EC6-005D9EE0DB20@kyngchaos.com>

On Apr 3, 2008, at 2:39 PM, Tom Elwertowski wrote:

> The geos.h header is also missing from the GEOS framework. The file  
> is not used by qgis but FindGEOS.cmake references it to locate GEOS.  
> I have changed the cmake search reference to geos_c.h which is  
> present (and also not used by qgis).
>
geos.h should be there, but it appears I messed up my Xcode project  
somehow for 3.0.0-1 (previous RC was OK).  I'll have an updated GEOS  
framework ready later today.


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no  
particular pleasure I shall kill every ___ I can until the war is  
over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of  
the allied nations devoted an entire year exclusively to hating the  
____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From john.tull at wildnevada.org  Thu Apr  3 16:24:30 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu Apr  3 16:24:37 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F53283.7050707@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net> <47F53283.7050707@comcast.net>
Message-ID: <348C8154-AD79-4F70-99E8-C91ED510A705@wildnevada.org>

Tom,

I tried your patch and got an error. I am on rev 8315 also, so this  
might be a problem with how I tried to patch. I put your patch text in  
a file 'mac.diff' in the root of my svn directory.

patch -p0 < mac.diff
patching file cmake/FindExpat.cmake
patch: **** malformed patch at line 31: FIND_LIBRARY(EXPAT_LIBRARY  
NAMES expat libexpat PATHS

John

On Apr 3, 2008, at 12:39 PM, Tom Elwertowski wrote:
> Hi Tim and William,
>
> I found the source of the FindGEOS.cmake and FindProj.cmake Mac  
> problem. The addition of the NO_DEFAULT_PATH flag to FIND_* made the  
> files framework-unfriendly.
>
> The geos.h header is also missing from the GEOS framework. The file  
> is not used by qgis but FindGEOS.cmake references it to locate GEOS.  
> I have changed the cmake search reference to geos_c.h which is  
> present (and also not used by qgis).
>
> NO_DEFAULT_PATH was added to force searching of specified paths  
> before default paths. /usr/lib paths but not /Library/Frameworks  
> were then explicitly added.
>
> The Cmake documentation recommends calling FIND twice to achieve the  
> same effect. First with only nonstandard paths and the  
> NO_DEFAULT_PATH flag. Then again with no specified paths to search  
> the default locations. When an earlier FIND succeeds, later FINDs  
> for the same item do nothing.
>
> The multiple FIND method avoids the need to list standard paths (and  
> perhaps forget about frameworks). It is also compatible with the  
> CMAKE_FIND_FRAMEWORK setting which might be LAST, ONLY or NEVER  
> rather then the default FIRST. (Hardcoding the all path permutations  
> would look awful.)
>
> Since the default paths were inserted into the middle of the  
> nonstandard paths, apparently for mingw and perhaps msvc too, I have  
> attached the Mac fix as a patch to be verified and perhaps adjusted  
> for those systems before being submitted to svn. Perhaps a third  
> FIND is needed if the defaults really need to be in the middle of  
> the list.
>
> Tom
>
>
> Tom Elwertowski wrote:
>> When I run cmake, I get the following message:
>> CMake Error: This project requires some variables to be set,
>> and cmake can not find them.
>> Please set the following variables:
>> GEOS_INCLUDE_DIR
>> GEOS_LIBRARY
>> PROJ_INCLUDE_DIR
>> PROJ_LIBRARY
> Index: cmake/FindExpat.cmake
> ===================================================================
> --- cmake/FindExpat.cmake	(revision 8315)
> +++ cmake/FindExpat.cmake	(working copy)
> @@ -7,29 +7,26 @@
> #    EXPAT_INCLUDE_DIR
> #    EXPAT_LIBRARY
>
> -# Normally there is no need to specify /usr/... paths because
> -# cmake will look there automatically. However the NO_DEFAULT_PATH
> -# prevents this behaviour allowing you to use no standard file
> -# locations in preference over standard ones. Note in this case
> -# you then need to explicitly add /usr and /usr/local prefixes
> -# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
> -FIND_PATH(EXPAT_INCLUDE_DIR expat.h
> +# FIND_PATH and FIND_LIBRARY normally search standard locations
> +# before the specified paths. To search non-standard paths first,
> +# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
> +# and then again with no specified paths to search the default
> +# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
> +# searching for the same item do nothing.
> +FIND_PATH(EXPAT_INCLUDE_DIR expat.h
>   "$ENV{LIB_DIR}/include/"
>   "$ENV{LIB_DIR}/include/expat"
> -  /Users/tim/dev/universal_libs/include
> -  /usr/local/include
> -  /usr/include
>   c:/msys/local/include
>   NO_DEFAULT_PATH
>   )
> +FIND_PATH(EXPAT_INCLUDE_DIR expat.h)
> #libexpat needed for msvc version
> FIND_LIBRARY(EXPAT_LIBRARY NAMES expat libexpat PATHS
>   "$ENV{LIB_DIR}/lib"
> -  /usr/local/lib
> -  /usr/lib
>   c:/msys/local/lib
>   NO_DEFAULT_PATH
>   )
> +FIND_LIBRARY(EXPAT_LIBRARY NAMES expat libexpat)
>
> IF (EXPAT_INCLUDE_DIR AND EXPAT_LIBRARY)
>    SET(EXPAT_FOUND TRUE)
> Index: cmake/FindSqlite3.cmake
> ===================================================================
> --- cmake/FindSqlite3.cmake	(revision 8315)
> +++ cmake/FindSqlite3.cmake	(working copy)
> @@ -7,29 +7,28 @@
> #    SQLITE3_LIBRARY
>
>
> -# Normally there is no need to specify /usr/... paths because
> -# cmake will look there automatically. However the NO_DEFAULT_PATH
> -# prevents this behaviour allowing you to use no standard file
> -# locations in preference over standard ones. Note in this case
> -# you then need to explicitly add /usr and /usr/local prefixes
> -# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
> -FIND_PATH(SQLITE3_INCLUDE_DIR sqlite3.h
> +# FIND_PATH and FIND_LIBRARY normally search standard locations
> +# before the specified paths. To search non-standard paths first,
> +# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
> +# and then again with no specified paths to search the default
> +# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
> +# searching for the same item do nothing.
> +FIND_PATH(SQLITE3_INCLUDE_DIR sqlite3.h
>   "$ENV{LIB_DIR}/include"
>   "$ENV{LIB_DIR}/include/sqlite"
> -  /usr/local/include
> -  /usr/include
>   #mingw
>   c:/msys/local/include
>   NO_DEFAULT_PATH
>   )
> +FIND_PATH(SQLITE3_INCLUDE_DIR sqlite3.h)
>
> -FIND_LIBRARY(SQLITE3_LIBRARY NAMES sqlite3 PATHS
> +FIND_LIBRARY(SQLITE3_LIBRARY NAMES sqlite3 PATHS
>   "$ENV{LIB_DIR}/lib"
> -  /usr/local/lib
> -  /usr/lib
> +  #mingw
>   c:/msys/local/lib
>   NO_DEFAULT_PATH
>   )
> +FIND_LIBRARY(SQLITE3_LIBRARY NAMES sqlite3)
>
> IF (SQLITE3_INCLUDE_DIR AND SQLITE3_LIBRARY)
>    SET(SQLITE3_FOUND TRUE)
> Index: cmake/FindProj.cmake
> ===================================================================
> --- cmake/FindProj.cmake	(revision 8315)
> +++ cmake/FindProj.cmake	(working copy)
> @@ -7,29 +7,28 @@
> #    PROJ_LIBRARY
>
>
> -# Normally there is no need to specify /usr/... paths because
> -# cmake will look there automatically. However the NO_DEFAULT_PATH
> -# prevents this behaviour allowing you to use no standard file
> -# locations in preference over standard ones. Note in this case
> -# you then need to explicitly add /usr and /usr/local prefixes
> -# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
> -FIND_PATH(PROJ_INCLUDE_DIR proj_api.h
> +# FIND_PATH and FIND_LIBRARY normally search standard locations
> +# before the specified paths. To search non-standard paths first,
> +# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
> +# and then again with no specified paths to search the default
> +# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
> +# searching for the same item do nothing.
> +FIND_PATH(PROJ_INCLUDE_DIR proj_api.h
>   "$ENV{LIB_DIR}/include/proj"
>   "$ENV{LIB_DIR}/include"
> -  /usr/local/include
> -  /usr/include
>   #mingw
>   c:/msys/local/include
>   NO_DEFAULT_PATH
>   )
> +FIND_PATH(PROJ_INCLUDE_DIR proj_api.h)
>
> -FIND_LIBRARY(PROJ_LIBRARY NAMES proj PATHS
> +FIND_LIBRARY(PROJ_LIBRARY NAMES proj PATHS
>   "$ENV{LIB_DIR}/lib"
> -  /usr/local/lib
> -  /usr/lib
> +  #mingw
>   c:/msys/local/lib
>   NO_DEFAULT_PATH
>   )
> +FIND_LIBRARY(PROJ_LIBRARY NAMES proj)
>
> IF (PROJ_INCLUDE_DIR AND PROJ_LIBRARY)
>    SET(PROJ_FOUND TRUE)
> Index: cmake/FindGEOS.cmake
> ===================================================================
> --- cmake/FindGEOS.cmake	(revision 8315)
> +++ cmake/FindGEOS.cmake	(working copy)
> @@ -7,29 +7,27 @@
> #    GEOS_LIBRARY
>
>
> -# Normally there is no need to specify /usr/... paths because
> -# cmake will look there automatically. However the NO_DEFAULT_PATH
> -# prevents this behaviour allowing you to use no standard file
> -# locations in preference over standard ones. Note in this case
> -# you then need to explicitly add /usr and /usr/local prefixes
> -# to the search list. This applies both to FIND_PATH and FIND_LIBRARY
> -FIND_PATH(GEOS_INCLUDE_DIR geos.h
> +# FIND_PATH and FIND_LIBRARY normally search standard locations
> +# before the specified paths. To search non-standard paths first,
> +# FIND_* is invoked first with specified paths and NO_DEFAULT_PATH
> +# and then again with no specified paths to search the default
> +# locations. When an earlier FIND_* succeeds, subsequent FIND_*s
> +# searching for the same item do nothing.
> +FIND_PATH(GEOS_INCLUDE_DIR geos_c.h
>   "$ENV{LIB_DIR}/include"
> -  /usr/local/include
> -  /usr/include
>   #mingw
>   c:/msys/local/include
>   NO_DEFAULT_PATH
>   )
> +FIND_PATH(GEOS_INCLUDE_DIR geos_c.h)
>
> FIND_LIBRARY(GEOS_LIBRARY NAMES geos PATHS
>   "$ENV{LIB_DIR}/lib"
> -  /usr/local/lib
> -  /usr/lib
>   #mingw
>   c:/msys/local/lib
>   NO_DEFAULT_PATH
>   )
> +FIND_LIBRARY(GEOS_LIBRARY NAMES geos)
>
> IF (GEOS_INCLUDE_DIR AND GEOS_LIBRARY)
>    SET(GEOS_FOUND TRUE)
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From woklist at kyngchaos.com  Thu Apr  3 20:25:20 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Apr  3 20:25:26 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <130467FE-7222-4677-9EC6-005D9EE0DB20@kyngchaos.com>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net> <47F53283.7050707@comcast.net>
	<130467FE-7222-4677-9EC6-005D9EE0DB20@kyngchaos.com>
Message-ID: <45AC120C-F868-4C0E-8A81-D9A101FE13FE@kyngchaos.com>

New GEOS framework online with the missing header restored.

On Apr 3, 2008, at 3:10 PM, William Kyngesburye wrote:

> On Apr 3, 2008, at 2:39 PM, Tom Elwertowski wrote:
>
>> The geos.h header is also missing from the GEOS framework. The file  
>> is not used by qgis but FindGEOS.cmake references it to locate  
>> GEOS. I have changed the cmake search reference to geos_c.h which  
>> is present (and also not used by qgis).
>>
> geos.h should be there, but it appears I messed up my Xcode project  
> somehow for 3.0.0-1 (previous RC was OK).  I'll have an updated GEOS  
> framework ready later today.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From telwertowski at comcast.net  Thu Apr  3 22:05:38 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Thu Apr  3 22:06:11 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <348C8154-AD79-4F70-99E8-C91ED510A705@wildnevada.org>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net> <47F53283.7050707@comcast.net>
	<348C8154-AD79-4F70-99E8-C91ED510A705@wildnevada.org>
Message-ID: <47F58CF2.8000109@comcast.net>

If I am in my build directory and extract the patch file to my desktop, the following works:

patch -p0 -d .. < ~/Desktop/find.diff

I did notice that the patch files has an extra eol for each line. Files in the cmake directory do not have the svn:eol-style property set to native and are extracted on my Mac with DOS line terminators. Perhaps this is affecting you; the patch works for me when extracted from my own message after reverting the files.

Tom


John C. Tull wrote:
> I tried your patch and got an error. I am on rev 8315 also, so this 
> might be a problem with how I tried to patch. I put your patch text in a 
> file 'mac.diff' in the root of my svn directory.
> 
> patch -p0 < mac.diff
> patching file cmake/FindExpat.cmake
> patch: **** malformed patch at line 31: FIND_LIBRARY(EXPAT_LIBRARY NAMES 
> expat libexpat PATHS
From marco.hugentobler at karto.baug.ethz.ch  Fri Apr  4 03:59:18 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Apr  4 03:58:27 2008
Subject: Fwd: Re: [Qgis-developer] bug when drawing a linestring with two
	consecutive, identical points
Message-ID: <200804040959.18318.marco.hugentobler@karto.baug.ethz.ch>

Hi Stefanie,

This may depend on the platform and also the Qt paint device you are using. 
Could you try to change the rendering options (options -> Rendering -> Make 
lines appear less jagged.../Fix problems with incorrectly ....)? For the 
first option, QGIS draws to a QImage and for the second option to a QPixmap.

With the configuration I have (Linux, Qt 4.3.4), drawing a line with two 
consecutive points seems to work fine with both options. Also the coordinates 
in the example drawed correctly.

The workaround you provide is a good short-term fix. 
I think it is best not to commit it to svn as the problem seems to be a Qt bug 
on a specific platform/paint device.

Regards,
Marco

Am Freitag 04 April 2008 04:14:23 schrieb Stefanie Tellex:
> Hi,
>
> When I have a line string with two identical points in a row, and
> they're not the first or the last point, qgis draws an extra line to the
> upper left hand corner of the drawing space.  (This line string, for
> example, causes that to happen: 'LINESTRING(0 0, 0 1, 0 1, 1 1)')
> In my domain, it makes perfect sense for two consecutive points to be
> identical, and it seems like QGIS should draw it correctly.
>
> It looks like the draw code in qgsvectorlayer loads the line string into
> a QPolygonF before it gets drawn, so I think the bug might be there, but
> I didn't track it down exactly. However, the attached patch does make it
> go away.  It works by modifying a point by an epsilon, if the previous
> point was identical.   I'm not sure if this is the best fix, but
> deleting the point seemed bug-prone.
>
> Stefanie



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee


-------------------------------------------------------

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From john.tull at wildnevada.org  Fri Apr  4 11:58:35 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Fri Apr  4 11:58:40 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F58CF2.8000109@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net> <47F53283.7050707@comcast.net>
	<348C8154-AD79-4F70-99E8-C91ED510A705@wildnevada.org>
	<47F58CF2.8000109@comcast.net>
Message-ID: <809CECBE-8DAB-49EC-8B23-831FC018C093@wildnevada.org>

Still could not get the patch to successfully apply, so I just went in  
and made the changes by hand. I cleaned my build directory and ran a  
basic 'cmake ..' without all of my usual flags. Everything was found  
except grass, which was not a surprise. Great work! I think the code  
changes should be applied.

Cheers,
John

On Apr 3, 2008, at 7:05 PM, Tom Elwertowski wrote:
> If I am in my build directory and extract the patch file to my  
> desktop, the following works:
>
> patch -p0 -d .. < ~/Desktop/find.diff
>
> I did notice that the patch files has an extra eol for each line.  
> Files in the cmake directory do not have the svn:eol-style property  
> set to native and are extracted on my Mac with DOS line terminators.  
> Perhaps this is affecting you; the patch works for me when extracted  
> from my own message after reverting the files.
>
> Tom
>
>
> John C. Tull wrote:
>> I tried your patch and got an error. I am on rev 8315 also, so this  
>> might be a problem with how I tried to patch. I put your patch text  
>> in a file 'mac.diff' in the root of my svn directory.
>> patch -p0 < mac.diff
>> patching file cmake/FindExpat.cmake
>> patch: **** malformed patch at line 31: FIND_LIBRARY(EXPAT_LIBRARY  
>> NAMES expat libexpat PATHS
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From stefie10 at media.mit.edu  Fri Apr  4 13:43:09 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Fri Apr  4 13:45:30 2008
Subject: Fwd: Re: [Qgis-developer] bug when drawing a linestring with
	two consecutive, identical points
In-Reply-To: <200804040959.18318.marco.hugentobler@karto.baug.ethz.ch>
References: <200804040959.18318.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47F668AD.3080101@media.mit.edu>

Hi Marco,

I see the bug when:
  * Only "Fix problems with unfilled polygons is checked"

It goes away when:
  * "Make lines appear less jagged" is checked.
  * None of the three rendering checkbxes are selected.  (But rendering 
takes forever.)

I run Debian GNU/Linux with libqt 4.3.3-2.  When I upgraded to  4.3.4-2, 
   it still had the problem.

I submitted a bug report to Qt.

Stefanie


Marco Hugentobler wrote:
> Hi Stefanie,
> 
> This may depend on the platform and also the Qt paint device you are using. 
> Could you try to change the rendering options (options -> Rendering -> Make 
> lines appear less jagged.../Fix problems with incorrectly ....)? For the 
> first option, QGIS draws to a QImage and for the second option to a QPixmap.
> 
> With the configuration I have (Linux, Qt 4.3.4), drawing a line with two 
> consecutive points seems to work fine with both options. Also the coordinates 
> in the example drawed correctly.
> 
> The workaround you provide is a good short-term fix. 
> I think it is best not to commit it to svn as the problem seems to be a Qt bug 
> on a specific platform/paint device.
> 
> Regards,
> Marco
> 
> Am Freitag 04 April 2008 04:14:23 schrieb Stefanie Tellex:
>> Hi,
>>
>> When I have a line string with two identical points in a row, and
>> they're not the first or the last point, qgis draws an extra line to the
>> upper left hand corner of the drawing space.  (This line string, for
>> example, causes that to happen: 'LINESTRING(0 0, 0 1, 0 1, 1 1)')
>> In my domain, it makes perfect sense for two consecutive points to be
>> identical, and it seems like QGIS should draw it correctly.
>>
>> It looks like the draw code in qgsvectorlayer loads the line string into
>> a QPolygonF before it gets drawn, so I think the bug might be there, but
>> I didn't track it down exactly. However, the attached patch does make it
>> go away.  It works by modifying a point by an epsilon, if the previous
>> point was identical.   I'm not sure if this is the best fix, but
>> deleting the point seemed bug-prone.
>>
>> Stefanie
> 
> 
> 

From telwertowski at comcast.net  Fri Apr  4 14:22:27 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Fri Apr  4 14:23:51 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <809CECBE-8DAB-49EC-8B23-831FC018C093@wildnevada.org>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net> <47F53283.7050707@comcast.net>
	<348C8154-AD79-4F70-99E8-C91ED510A705@wildnevada.org>
	<47F58CF2.8000109@comcast.net>
	<809CECBE-8DAB-49EC-8B23-831FC018C093@wildnevada.org>
Message-ID: <47F671E3.8060507@comcast.net>

I'm waiting to hear about msvc and mingw before submitting the patch.

To find GRASS, change the path on line 49 of FindGRASS.cmake to /Applications/GRASS-6.3.app/Contents/MacOS

If William can provide a list of paths for 6.2 and 6.3, I will update that file too. Whenever the path changes in the future, a request should be made to update FindGRASS.

Tom

John C. Tull wrote:
> Still could not get the patch to successfully apply, so I just went in 
> and made the changes by hand. I cleaned my build directory and ran a 
> basic 'cmake ..' without all of my usual flags. Everything was found 
> except grass, which was not a surprise. Great work! I think the code 
> changes should be applied.
From woklist at kyngchaos.com  Fri Apr  4 14:42:31 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri Apr  4 14:42:35 2008
Subject: [Qgis-developer] Link issues on mac
In-Reply-To: <47F671E3.8060507@comcast.net>
References: <d368056f0804011757i32828ab7u4331137c410eb8a3@mail.gmail.com>	<E16AF203-0D9F-4252-9749-118AEF89226C@kyngchaos.com>
	<47F324C3.8060004@comcast.net> <47F53283.7050707@comcast.net>
	<348C8154-AD79-4F70-99E8-C91ED510A705@wildnevada.org>
	<47F58CF2.8000109@comcast.net>
	<809CECBE-8DAB-49EC-8B23-831FC018C093@wildnevada.org>
	<47F671E3.8060507@comcast.net>
Message-ID: <AD2A65D0-A753-4F8B-B6B0-C1687A9A42CE@kyngchaos.com>

On Apr 4, 2008, at 1:22 PM, Tom Elwertowski wrote:

> I'm waiting to hear about msvc and mingw before submitting the patch.
>
> To find GRASS, change the path on line 49 of FindGRASS.cmake to / 
> Applications/GRASS-6.3.app/Contents/MacOS
>
> If William can provide a list of paths for 6.2 and 6.3, I will  
> update that file too. Whenever the path changes in the future, a  
> request should be made to update FindGRASS.
>

The only thing I expect to change in the GRASS.app path is the  
periodic version number advance.  6.2 I'm leaving at the Resources/  
subfolder, mostly because I'm lazy, and 6.3 and beyond will remain in  
the MacOS/ subfolder.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no  
particular pleasure I shall kill every ___ I can until the war is  
over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of  
the allied nations devoted an entire year exclusively to hating the  
____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From cavallini at faunalia.it  Mon Apr  7 09:26:52 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon Apr  7 09:27:01 2008
Subject: [Qgis-developer] bugs & Debian removal
Message-ID: <47FA211C.7050109@faunalia.it>

Hi all.
Bad news: QGIS has been removed from Debian, because of several bugs[1],
raised by gcc 4.3 compilation.
Perhaps these could be taken into account before the release of 0.9.2?
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

[1]
E: libqgis1: arch-dependent-file-in-usr-share
./usr/share/qgis/python/qgis/core.so
E: libqgis1: arch-dependent-file-in-usr-share
./usr/share/qgis/python/qgis/gui.so
E: libqgis1: no-shlibs-control-file usr/lib/libqgis_core.so
E: libqgis1: no-shlibs-control-file usr/lib/libqgis_gui.so
E: libqgis1: postinst-must-call-ldconfig usr/lib/libqgis_core.so
E: qgis-plugin-grass: missing-dependency-on-libc needed by
./usr/lib/libqgisgrass.so and 2 others
E: qgis-plugin-grass: no-shlibs-control-file usr/lib/libqgisgrass.so
E: qgis-plugin-grass: postinst-must-call-ldconfig usr/lib/libqgisgrass.so
W: libqgis1-dev: copyright-without-copyright-notice
W: libqgis1-dev: dev-package-should-be-section-libdevel libqgis1-dev
W: libqgis1: copyright-without-copyright-notice
W: libqgis1: package-name-doesnt-match-sonames libqgis-core libqgis-gui
W: qgis-plugin-grass: copyright-without-copyright-notice
W: qgis-plugin-grass: package-name-doesnt-match-sonames libqgisgrass
W: qgis: binary-or-shlib-defines-rpath ./usr/bin/qgis
/usr/lib:/usr/lib/python2.4/config
W: qgis: binary-without-manpage usr/bin/msexport
W: qgis: binary-without-manpage usr/bin/qgis
W: qgis: binary-without-manpage usr/bin/qgis_help
W: qgis: copyright-without-copyright-notice
W: qgis: package-contains-upstream-install-documentation
usr/share/doc/qgis/INSTALL.gz
...
 * it fails to cleanly rebuild, leaving crap all over the place after
   a first build
 * the shared libraries it installs into /usr/lib don't have sonames
   (it just installs .so files directly)
From jef at norbit.de  Mon Apr  7 09:34:55 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon Apr  7 09:35:01 2008
Subject: [Qgis-developer] bugs & Debian removal
In-Reply-To: <47FA211C.7050109@faunalia.it>
References: <47FA211C.7050109@faunalia.it>
Message-ID: <20080407133455.GA31429@norbit.de>

Hi Paolo,

On Mon, 07. Apr 2008 at 15:26:52 +0200, Paolo Cavallini wrote:
> Bad news: QGIS has been removed from Debian, because of several bugs[1],
> raised by gcc 4.3 compilation.

Doesn't look like gcc 4.3 problems.  QGIS should compile fine with gcc
4.3 (and did fine when I last checked; ie. r8257)


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tim at linfiniti.com  Mon Apr  7 11:02:58 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Apr  7 11:03:07 2008
Subject: [Qgis-developer] bugs & Debian removal
In-Reply-To: <20080407133455.GA31429@norbit.de>
References: <47FA211C.7050109@faunalia.it> <20080407133455.GA31429@norbit.de>
Message-ID: <d368056f0804070802n718e08d7p22171d7df4177982@mail.gmail.com>

Hi

Ill try to address the packaging related issues (as best as my limited
knowledge of debian packaging will allow) before the release. If any
packaging experts care to lend a hand your help will be most welcome.

Regards

Tim

2008/4/7, J?rgen E. Fischer <jef@norbit.de>:
> Hi Paolo,
>
>
>  On Mon, 07. Apr 2008 at 15:26:52 +0200, Paolo Cavallini wrote:
>  > Bad news: QGIS has been removed from Debian, because of several bugs[1],
>  > raised by gcc 4.3 compilation.
>
>
> Doesn't look like gcc 4.3 problems.  QGIS should compile fine with gcc
>  4.3 (and did fine when I last checked; ie. r8257)
>
>
>  J?rgen
>
>  --
>  J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  Software Engineer         D-26506 Norden               http://www.norbit.de
>
>
>  --
>  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  Rheinstrasse 13, 26506 Norden
>  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.hugentobler at karto.baug.ethz.ch  Mon Apr  7 12:11:42 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Mon Apr  7 12:11:45 2008
Subject: [Qgis-developer] rendercontext-branch
Message-ID: <04DA676AA276F045B32D0F95783D78440AF818@EX6.d.ethz.ch>

Hi devs,

I started a wiki page about the changes in the rendercontext branch:
http://wiki.qgis.org/qgiswiki/RenderContextBranch

Although the work in the branch is not completely finished, it would be good for me to have some feedback. The most important changes in the branch are:

- QgsRenderContext object encapsulates rendering parameters and is passed to all map layers 
- QgsRenderContext::mRenderingStopped is set to true to notify the layers that rendering was canceled (with esc key or check box) 
- QgsRenderContext::mScaleFactor allows to scale outline widths and image sizes. This is important to allow QGIS main canvas and print composer output to look the same. QgsMapRender now sets this scaling factor such that units are always mm 
- Similarly, QgsRenderContext::mRasterScaleFactor allows for different raster resolutions. The problem is that some devices work with pixels as units (e.g. QImage, QPixmap, widgets), but others work with logical units (e.g. QGraphicsView). To allow for a correct resolution, raster layers and point marker images are oversampled by mRasterScaleFactor and scaled down afterwards.

Regards,
Marco

From sherman at mrcc.com  Mon Apr  7 22:24:27 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Mon Apr  7 22:24:35 2008
Subject: [Qgis-developer] bugs & Debian removal
In-Reply-To: <47FA211C.7050109@faunalia.it>
References: <47FA211C.7050109@faunalia.it>
Message-ID: <2C52574C-EA89-41C0-96D3-A08DAE4BF844@mrcc.com>


On Apr 7, 2008, at 5:26 AM, Paolo Cavallini wrote:
> Hi all.
> Bad news: QGIS has been removed from Debian, because of several  
> bugs[1],
> raised by gcc 4.3 compilation.
> Perhaps these could be taken into account before the release of 0.9.2?
> All the best.
> pc
> -- 
> Paolo Cavallini, see: http://www.faunalia.it/pc
>
> [1]
> E: libqgis1: arch-dependent-file-in-usr-share
> ./usr/share/qgis/python/qgis/core.so
> E: libqgis1: arch-dependent-file-in-usr-share
> ./usr/share/qgis/python/qgis/gui.so
> E: libqgis1: no-shlibs-control-file usr/lib/libqgis_core.so
> E: libqgis1: no-shlibs-control-file usr/lib/libqgis_gui.so
> E: libqgis1: postinst-must-call-ldconfig usr/lib/libqgis_core.so
> E: qgis-plugin-grass: missing-dependency-on-libc needed by
> ./usr/lib/libqgisgrass.so and 2 others
> E: qgis-plugin-grass: no-shlibs-control-file usr/lib/libqgisgrass.so
> E: qgis-plugin-grass: postinst-must-call-ldconfig usr/lib/ 
> libqgisgrass.so
> W: libqgis1-dev: copyright-without-copyright-notice
> W: libqgis1-dev: dev-package-should-be-section-libdevel libqgis1-dev
> W: libqgis1: copyright-without-copyright-notice
> W: libqgis1: package-name-doesnt-match-sonames libqgis-core libqgis- 
> gui
> W: qgis-plugin-grass: copyright-without-copyright-notice
> W: qgis-plugin-grass: package-name-doesnt-match-sonames libqgisgrass
> W: qgis: binary-or-shlib-defines-rpath ./usr/bin/qgis
> /usr/lib:/usr/lib/python2.4/config
> W: qgis: binary-without-manpage usr/bin/msexport
> W: qgis: binary-without-manpage usr/bin/qgis
> W: qgis: binary-without-manpage usr/bin/qgis_help
> W: qgis: copyright-without-copyright-notice
> W: qgis: package-contains-upstream-install-documentation
> usr/share/doc/qgis/INSTALL.gz
> ...
> * it fails to cleanly rebuild, leaving crap all over the place after
>   a first build
> * the shared libraries it installs into /usr/lib don't have sonames
>   (it just installs .so files directly)
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From sherman at mrcc.com  Mon Apr  7 22:26:40 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Mon Apr  7 22:26:47 2008
Subject: [Qgis-developer] bugs & Debian removal
In-Reply-To: <47FA211C.7050109@faunalia.it>
References: <47FA211C.7050109@faunalia.it>
Message-ID: <AA84917E-F31F-4CC2-8889-DD98690E41F8@mrcc.com>

Let me try this again...
On Apr 7, 2008, at 5:26 AM, Paolo Cavallini wrote:
> Hi all.
> Bad news: QGIS has been removed from Debian, because of several  
> bugs[1],
> raised by gcc 4.3 compilation.

What is the source of this information?

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From david.a.riggs at gmail.com  Mon Apr  7 23:49:25 2008
From: david.a.riggs at gmail.com (David A. Riggs)
Date: Mon Apr  7 23:49:29 2008
Subject: [Qgis-developer] bugs & Debian removal
In-Reply-To: <AA84917E-F31F-4CC2-8889-DD98690E41F8@mrcc.com>
References: <47FA211C.7050109@faunalia.it>
	<AA84917E-F31F-4CC2-8889-DD98690E41F8@mrcc.com>
Message-ID: <d8169c660804072049k31a5362dj9e4706cab2289d53@mail.gmail.com>

On Mon, Apr 7, 2008 at 10:26 PM, Gary Sherman <sherman@mrcc.com> wrote:
>
>  On Apr 7, 2008, at 5:26 AM, Paolo Cavallini wrote:
>
> > Bad news: QGIS has been removed from Debian, because of several bugs[1],
> > raised by gcc 4.3 compilation.
> >
>
>  What is the source of this information?
>

Removal requested by QA team, packages "(very) RC-buggy", according to:

  http://packages.qa.debian.org/q/qgis.html

  http://ftp-master.debian.org/removals.txt

Appears to have been triggered by the changing of status for RC bug
45064 to "serious".

  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=456064

Is this bug even valid for recent versions of QGIS?

- DR

-- 
David A. Riggs <david.a.riggs@gmail.com>
From cavallini at faunalia.it  Tue Apr  8 02:30:53 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Apr  8 02:31:06 2008
Subject: [Qgis-developer] bugs & Debian removal
In-Reply-To: <d8169c660804072049k31a5362dj9e4706cab2289d53@mail.gmail.com>
References: <47FA211C.7050109@faunalia.it>	<AA84917E-F31F-4CC2-8889-DD98690E41F8@mrcc.com>
	<d8169c660804072049k31a5362dj9e4706cab2289d53@mail.gmail.com>
Message-ID: <47FB111D.5010802@faunalia.it>

David A. Riggs ha scritto:

>   http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=456064
> 
> Is this bug even valid for recent versions of QGIS?

apparently yes, mostly (but this will require some check of the code).
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo con parecchie difficolt? con NGI http://www.ngi.it/
From tutey at o2.pl  Tue Apr  8 06:46:14 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Apr  8 06:46:23 2008
Subject: [Qgis-developer] EPSG:2180 not recognised,
	although present in srs.db
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>
References: <47F69506.3010207@o2.pl> <47F9D6C5.2040607@mxm.eu>
	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>
Message-ID: <47FB4CF6.5060608@o2.pl>

Hugentobler Marco pisze:

> It is of course also possible that you update the other entries in
> the sqlite database of qgis.

The outdated srs.db is only one thing, mentioned BTW the main issue. It 
should be discussd separately. Sorry for mixing it in.

The main point of my email was that although QGIS *has* EPSG 2180 in 
it's CS database, it fails to recognize this georeference in a GeoTIFF. 
Looks like a bug, doesn't it?

Try the attached GeotTIFF:

It's in EPSG:2180. QGIS has EPSG:2180 in it's database. The georefernce 
in the GeoTIFF's header is 100% OK. It was created with "gdalwarp -t_srs 
EPSG:2180". Yet QGIS insists it can't recognize the georeference.

However, QGIS does recognize "more generic" georeference in GeoTIFFs, 
like EPSG:4326 (ll/WGS84), EPSG:32633-32635 (UTM 33N-35N), EPSG:4179 
(ll/Krassovsky). Why does it fail on 2180 though?

Maciek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: etm_epsg2180_mini.tif
Type: image/tiff
Size: 49262 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080408/0f989a8b/etm_epsg2180_mini-0001.tif
From tutey at o2.pl  Tue Apr  8 08:50:34 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Apr  8 08:50:40 2008
Subject: [Qgis-developer] Re: [Qgis-user] EPSG:2180 not recognised,
	although present in srs.db
In-Reply-To: <47FB633D.8030902@pid.co.za>
References: <20080408104624.6A720E01729@lists.osgeo.org>
	<47FB633D.8030902@pid.co.za>
Message-ID: <47FB6A1A.8090000@o2.pl>

Craig Leat pisze:
> Maciej Sieczka wrote:

>> The main point of my email was that although QGIS *has* EPSG 2180 in 
>> it's CS database, it fails to recognize this georeference in a 
>> GeoTIFF. Looks like a bug, doesn't it?
>>
>> Try the attached GeotTIFF:

> I tested your sample GeoTiff with EPSG:2180 and 0.9.1 branch of QGIS and 
> find no errors.

Hi Craig

What do you mean by "no errors"?

In Settings > Options > Projection set "Prompt for projection". Load the 
GeoTIFF. Does QGIS recognize it's CS at load? For me it doesn't (trunk 
r8319 on Debian testing).

Maciek
From marco.hugentobler at karto.baug.ethz.ch  Tue Apr  8 09:55:39 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Apr  8 09:55:41 2008
Subject: [Qgis-developer] AW: AW: [Qgis-user] why is EPSG:2180 not
	recognised?
References: <47F69506.3010207@o2.pl> <47F9D6C5.2040607@mxm.eu>
	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>
	<47FA6CB7.2080806@duif.net>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF81B@EX6.d.ethz.ch>

Hi Richard,

Thanks for offering your help. Afaik (projection gurus, please correct me where I'm wrong) your understanding is right and it's all about updating the srs.db with sqliteadmin. I think updating is not necessary before a release, it can be done whenever you hear about epsg updates or people tell you about a bug.

So I'm going to add you as maintainer of srs.db to the wiki and will direct people with projection updates to you. I'm not an expert concerning projection specific questions (only one common coordinate system in Switzerland :-) ). If you have any questions, just send a mail to the user and developer list. I think there are a lot of people in the QGIS community with profound knowledge of projections and spatial reference systems.

cheers,
Marco 



-----Urspr?ngliche Nachricht-----
Von: Richard Duivenvoorde [mailto:rdmailings@duif.net]
Gesendet: Mo 07.04.2008 20:49
An: Hugentobler  Marco
Cc: Jean-Claude Repetto; qgis-user@lists.osgeo.org; tutey@o2.pl; tim@linfiniti.com
Betreff: Re: AW: [Qgis-user] why is EPSG:2180 not recognised?
 
Hi,
I've got sqliteadmin (http://sqliteadmin.orbmu2k.de/) here, and it seems 
pretty trivial to update the database srs.db with that tool...

Though it might not be that trivial?
Looking at a freshly downloaded epsg file of the proj lib, I see
	# WGS 72
	<4322> +proj=longlat +ellps=WGS72 +no_defs  <>
The same holds true for 4322, 4622 and 4625

Can somebody explain to me then why it should be jean-claude's version? 
Or in other words, if the latest proj doesn't have it, what/who should 
be the authorative source in this case then?
The srs.db. is nothing more then the parameters used by proj isn't it? 
Or am I missing something here?

3328 - 3335 are indeed available in latest proj (and not in srs.db), so 
it should be easy to add them.
same for 3120
same for 3066

If I can count on some help with projection-specific questions, I can 
make it a part of my 'release-team' work? I will add it to the 
release-checklist in wiki then.

Is it ok to update it for every release, or for every 'bug' people find 
in it?

Regards,

Richard Duivenvoorde






Hugentobler Marco wrote:
> Hi Maciej, Jean-Claude
> 
>> Please don't tell me that I can send a patch with updates for the CS 
>> database. That would fix only my problem, while EPSG database has lots 
>> of fixes and additions in each new version, which get included in new 
>> releases of PROJ, GDAL, GRASS but not in QGIS.
> 
> It is of course also possible that you update the other entries in the sqlite database of qgis.
> 
> Ideal would be a volunteer that acts as a maintainer of srs.db and updates it in regular periods.
> 
> Regards,
> Marco 
> 
> 
> -----Urspr?ngliche Nachricht-----
> Von: qgis-user-bounces@lists.osgeo.org im Auftrag von Jean-Claude Repetto
> Gesendet: Mo 07.04.2008 10:09
> An: qgis-user@lists.osgeo.org
> Betreff: Re: [Qgis-user] why is EPSG:2180 not recognised?
>  
> Maciej Sieczka wrote :
> 
>> QGIS CS database is severly outdated.
> 
> Hello,
> 
> I agree.
> Other examples :
> 
> WGS72 (EPSG 4322)
> ----------------
> The QGIS database contains :
> +proj=longlat +ellps=WGS72 +no_defs
> 
> It should be :
> +proj=longlat +ellps=WGS72 +towgs84=0,0,4.5,0,0,0.554,0.219 +no_defs
> (look at <http://proj.maptools.org/gen_parms.html#towgs84>)
> 
> 
> Guadeloupe 1948 (EPSG 4622)
> ---------------------------
> The QGIS database contains :
> +proj=longlat +ellps=intl +no_defs
> It should be :
> +proj=longlat +ellps=intl 
> +towgs84=-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984 +no_defs
> 
> 
> 
> Martinique 1938 (EPSG 4625)
> ---------------------------
> The QGIS database contains :
> +proj=longlat +ellps=intl +no_defs  <>
> It should be :
> +proj=longlat +ellps=intl 
> +towgs84=126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227 +no_defs
> 
> 
> Conclusion : Don't trust the EPSG database, allways check the parameters.
> 
> Jean-Claude
> 
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user
> 
> 
> 
> 
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user
> 
> 
> 




From jef at norbit.de  Tue Apr  8 10:22:53 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Apr  8 10:23:00 2008
Subject: [Qgis-developer] Re: [Qgis-user] why is EPSG:2180 not recognised?
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF81B@EX6.d.ethz.ch>
References: <47F69506.3010207@o2.pl> <47F9D6C5.2040607@mxm.eu>
	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>
	<47FA6CB7.2080806@duif.net>
	<04DA676AA276F045B32D0F95783D78440AF81B@EX6.d.ethz.ch>
Message-ID: <20080408142253.GB30534@norbit.de>

Hi Marco,

On Tue, 08. Apr 2008 at 15:55:39 +0200, Hugentobler  Marco wrote:
> Thanks for offering your help. Afaik (projection gurus, please correct
> me where I'm wrong) your understanding is right and it's all about
> updating the srs.db with sqliteadmin. I think updating is not
> necessary before a release, it can be done whenever you hear about
> epsg updates or people tell you about a bug.

Um, sqliteadmin would be used for a manual update, isn't it?

Shouldn't it be possible to do a automatic update?  Anyone know how do
other projects like PostGIS, GDAL or PROJ handle this?

J?rgne

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tutey at o2.pl  Tue Apr  8 11:00:49 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Apr  8 11:00:54 2008
Subject: AW: [Qgis-developer] Re: [Qgis-user] EPSG:2180 not recognised,
	although present in srs.db
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF81A@EX6.d.ethz.ch>
References: <20080408104624.6A720E01729@lists.osgeo.org><47FB633D.8030902@pid.co.za>
	<47FB6A1A.8090000@o2.pl>
	<04DA676AA276F045B32D0F95783D78440AF81A@EX6.d.ethz.ch>
Message-ID: <47FB88A1.8030001@o2.pl>

Hugentobler Marco pisze:
> I also tried the example tif with the latest svn trunk (r8327) and
> QGIS seems to detect epsg 2180 correctly. Maybe it depends on
> versions of gdal/proj4? The versions I use are proj 4.5 .0 and gdal
> 1.4.0

Thanks for feedback Marco.

I'm using gdal 1.5.1 (the latest stable) + svn r14224 and proj 4.6.0 on 
Debian testing.

I could also reproduce the bug on a WinXP Home machine running Tisham's
0.9.2rc1 from 16.02.2008 [1]. Dunno what GDAL and PROJ he is using in 
his build, but I assume newer than yours.

Could the problem be really down to GDAL or PROJ version?

[1]http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.2rc1_16_02_2008.exe

Maciek
From marco.pasetti at alice.it  Tue Apr  8 16:12:13 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Tue Apr  8 16:13:27 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 rev8324 Windows Installer [Test]
Message-ID: <000a01c899b4$d62dfc00$0201a8c0@notebookmarco>

Hi all,
 
I prepared a pre-release of QGIS 0.9.2 for Windows (build+installer); could
someone test it, please?
The installer may need some work, while the package is complete (I did not
already had such time to do all the work about the installer; BTW all is
included, Python bindings too; I'm working on .nsi and .nsh files in
win_build directory to check out missing features).
The package contains:
 
- QGIS build, based on SVN 8324 revision
- Qt 4.3.4 dynamic libraries (from Qt-OpenSource prebuilt release)
- SIP (4.7.4) and PyQt (4.3.3) [built using python 2.5.2]
- GRASS-6.3.0RC6 (I'm the official packager and releaser of WinGRASS project
- see http://grass.osgeo.org/grass63/binary/mswindows/ for details)

I tested on my XPsp2 and all seem to work fine (except for Help menu item;
it doesn't work at all!!)
 
I also prepared the related MSYS Environment + its README file
 
Since I'm talking about: I wrote a QGIS + GRASS Native Binary Building
Guide, that is the consequence of the same work made for WinGRASS Project;
if someone is interested about it, the guide is available here:
http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html
 
The installer is available here:
http://gigamaildownload.rossoalice.alice.it/download/download.aspx?Attachmen
tID=11dad1a3-2219-462f-98ef-3a582e37eb98&MessageID=9d42eab2-0160-4a90-bfc0-5
1d6a0fe832d
 
Regards
 
Marco Pasetti

From jef at norbit.de  Tue Apr  8 17:21:48 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Apr  8 17:21:54 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 rev8324 Windows Installer
	[Test]
In-Reply-To: <000a01c899b4$d62dfc00$0201a8c0@notebookmarco>
References: <000a01c899b4$d62dfc00$0201a8c0@notebookmarco>
Message-ID: <20080408212148.GA19035@norbit.de>

Hi Marco,

On Tue, 08. Apr 2008 at 22:12:13 +0200, Marco Pasetti wrote:
> The installer is available here:
> http://gigamaildownload.rossoalice.alice.it/download/download.aspx?AttachmentID=11dad1a3-2219-462f-98ef-3a582e37eb98&MessageID=9d42eab2-0160-4a90-bfc0-51d6a0fe832d

That link doesn't work here.  Does it work for someone else?


J?rgen


-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tutey at o2.pl  Tue Apr  8 17:02:01 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Apr  8 18:56:41 2008
Subject: [Qgis-developer] Re: [Qgis-user] EPSG:2180 not recognised,
	although present in	srs.db
In-Reply-To: <1207681886.6087.25.camel@goyo-laptop>
References: <47F69506.3010207@o2.pl> <47F9D6C5.2040607@mxm.eu>	
	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	
	<47FB4CF6.5060608@o2.pl> <1207681886.6087.25.camel@goyo-laptop>
Message-ID: <47FBDD49.1050302@o2.pl>

Goyo pisze:

> I loaded your file in a new project and the detected projection is:
> 
> ETRS89 / Poland CS92
> QGIS SRID: 181
> PosGIS SRID: 2180

That would be correct. Why it does not work for me I still don't know.

> Using 0.9.2x1 from Tim's Launchpad repository and gdal 1.4.2-3 from
> UbuntuGIS in Ubuntu Gutsy.

As I originaly had the problem with GDAL 1.5.1 I tried with the latest 
1.4 (1.4.4) release this time. I built it from source on Debian testing 
i686 machine, built the latest QGIS trunk against it, and still QGIS 
does not recognize EPSG 2180.

Maybe PROJ could be the culprit then? What PROJ version do you use, 
Goyo? Anybody knows what GDAL and PROJ versions are used in latest 
Tisham's build?

Maciek
From marco.pasetti at alice.it  Tue Apr  8 19:06:07 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Tue Apr  8 19:07:18 2008
Subject: R: [Qgis-developer] Re: [Qgis-user] EPSG:2180 not recognised,
	although present in srs.db
In-Reply-To: <47FBDD49.1050302@o2.pl>
References: <47F69506.3010207@o2.pl>
	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>
	<1207681886.6087.25.camel@goyo-laptop> <47FBDD49.1050302@o2.pl>
Message-ID: <000d01c899cd$20e3e210$0201a8c0@notebookmarco>

AFAIK Tisham used PROJ 4.5.0 (from Paul Kelly's tarball) and GDAL 1.4.1;
You could try with my test build of 0.9.2 (recently posted in the list);
it has been built with latest releases for all libraries (that is PROJ 4.6.0
and GDAL 1.5.1)

Marco

-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Maciej Sieczka
Inviato: marted? 8 aprile 2008 23.02
A: Goyo
Cc: qgis-user@lists.osgeo.org; qgis-developer@lists.osgeo.org;
tisham@apogee.com.au
Oggetto: [Qgis-developer] Re: [Qgis-user] EPSG:2180 not recognised,although
present in srs.db

Goyo pisze:

> I loaded your file in a new project and the detected projection is:
> 
> ETRS89 / Poland CS92
> QGIS SRID: 181
> PosGIS SRID: 2180

That would be correct. Why it does not work for me I still don't know.

> Using 0.9.2x1 from Tim's Launchpad repository and gdal 1.4.2-3 from 
> UbuntuGIS in Ubuntu Gutsy.

As I originaly had the problem with GDAL 1.5.1 I tried with the latest
1.4 (1.4.4) release this time. I built it from source on Debian testing
i686 machine, built the latest QGIS trunk against it, and still QGIS does
not recognize EPSG 2180.

Maybe PROJ could be the culprit then? What PROJ version do you use, Goyo?
Anybody knows what GDAL and PROJ versions are used in latest Tisham's build?

Maciek
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tutey at o2.pl  Wed Apr  9 03:34:16 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr  9 03:34:19 2008
Subject: R: [Qgis-developer] Re: [Qgis-user] EPSG:2180 not recognised,
	although present in srs.db
In-Reply-To: <000d01c899cd$20e3e210$0201a8c0@notebookmarco>
References: <47F69506.3010207@o2.pl>
	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>
	<1207681886.6087.25.camel@goyo-laptop> <47FBDD49.1050302@o2.pl>
	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>
Message-ID: <47FC7178.6030601@o2.pl>

I built QGIS (latest SVN trunk) against an older PROJ 4.5.0 this time, 
and GDAL 1.4.4. Still no good. Below is the relevant debug output when 
loading the GeoTIFF. Looks like QGIS recognises the CS properly, but 
then fails to find a matching one in srs.sb. Any ideas what is the reason?

Nodoby's yet reproduced my problem. Two users even report the sample 
GeoTIFF works OK for them. While it doesn't for me, and I can reproduce 
the issue on Debian with QGIS built against PROJ 4.5.0 or 4.6.0 and GDAL 
1.4.4 or 1.5.1, as well as in Tisham's lastest build for Windows.

Debug: 
/home/shoofi/src/straight/qgis09/src/core/raster/qgsrasterlayer.cpp: 
506: (readFile) Raster initial SRS
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
1104: (debugPrint) ***SpatialRefSystem***
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
1105: (debugPrint) * Valid : false
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
1106: (debugPrint) * SrsId : -1234357864
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
1107: (debugPrint) * Proj4 :
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
1108: (debugPrint) * Desc. :
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
254: (createFromWkt) QgsSpatialRefSys::createFromWkt(QString theWkt) 
using: PROJCS["ETRS89 / Poland 
CS92",GEOGCS["ETRS89",DATUM["European_Terrestrial_Reference_System_1989",SPHEROID["GRS 
1980",6378137,298.2572221010042,AUTHORITY["EPSG","7019"]],AUTHORITY["EPSG","6258"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4258"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",19],PARAMETER["scale_factor",0.9993],PARAMETER["false_easting",500000],PARAMETER["false_northing",-5300000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AUTHORITY["EPSG","2180"]]
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
364: (createFromProj4) QgsSpatialRefSys::createFromProj4 wholetext match 
on name failed, trying proj4string match
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
450: (getRecord) QgsSpatialRefSys::getRecord...running query: select * 
from tbl_srs where parameters='+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 
+x_0=500000 +y_0=-5300000 +ellps=GRS80 +units=m +no_defs'
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
1078: (openDb) QgsSpatialRefSys::openDb path = 
/usr/local/qgis09/share/qgis/resources/srs.db
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
484: (getRecord) QgsSpatialRefSys::getRecord...trying system qgis.db
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
1078: (openDb) QgsSpatialRefSys::openDb path = /home/shoofi/.qgis/qgis.db
Warning: QgsSpatialRefSys::getRecord failed :  select * from tbl_srs 
where parameters='+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 +x_0=500000 
+y_0=-5300000 +ellps=GRS80 +units=m +no_defs'
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
527: (getRecord) QgsSpatialRefSys::getRecord retrieved:  select * from 
tbl_srs where parameters='+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 
+x_0=500000 +y_0=-5300000 +ellps=GRS80 +units=m +no_defs'
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
425: (createFromProj4) QgsSpatialRefSys::createFromProj4 globbing search 
for srsid from this proj string
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
753: (findMatchingProj) QgsSpatialRefSys::findMatchingProj...
Warning: QgsSpatialRefSys::findMatchingProj will only work if prj acr 
ellipsoid acr and proj4string are set!...
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
427: (createFromProj4) QgsSpatialRefSys::createFromProj4 globbing search 
for srsid returned srsid: 0
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
293: (isValid) It's an invalid SRS without valid proj4 string
Debug: 
/home/shoofi/src/straight/qgis09/src/core/raster/qgsrasterlayer.cpp: 
511: (readFile) 
--------------------------------------------------------------------------------------
Debug: 
/home/shoofi/src/straight/qgis09/src/core/raster/qgsrasterlayer.cpp: 
512: (readFile) QgsRasterLayer::readFile --- using wkt

Debug: 
/home/shoofi/src/straight/qgis09/src/core/raster/qgsrasterlayer.cpp: 
513: (readFile) 
--------------------------------------------------------------------------------------
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
250: (createFromWkt) QgsSpatialRefSys::createFromWkt -- theWkt is 
uninitialised, operation failed
Critical: QgsSpatialRefSys::createFromWkt -- theWkt is uninitialised, 
operation failed
Debug: /home/shoofi/src/straight/qgis09/src/core/qgsspatialrefsys.cpp: 
293: (isValid) It's an invalid SRS without valid proj4 string
Debug: 
/home/shoofi/src/straight/qgis09/src/gui/qgsprojectionselector.cpp: 151: 
(ogcWmsCrsFilterAsSqlExpression) exiting with '1'.
Projection entries found in srs.db: 2680
SQL for projection list:
select description, srs_id, is_geo, name, parameters from vw_srs where 1 
order by name, description
SQL for projection list executed ok...
Size of projection list widget : 20
Fetching user projection list...
Debug: 
/home/shoofi/src/straight/qgis09/src/gui/qgsprojectionselector.cpp: 151: 
(ogcWmsCrsFilterAsSqlExpression) exiting with '1'.
User projection list sqlselect description, srs_id, is_geo, name, 
parameters from vw_srs where 1
Finding selected attribute using : select srid from tbl_srs where srs_id 
= 2585
Debug: 
/home/shoofi/src/straight/qgis09/src/gui/qgsprojectionselector.cpp: 276: 
(getCurrentProj4String) mySrsId = 2585
Debug: 
/home/shoofi/src/straight/qgis09/src/gui/qgsprojectionselector.cpp: 277: 
(getCurrentProj4String) USER_PROJECTION_START_ID = 100000
Debug: 
/home/shoofi/src/straight/qgis09/src/gui/qgsprojectionselector.cpp: 301: 
(getCurrentProj4String) db = /usr/local/qgis09/share/qgis/resources/srs.db
Debug: 
/home/shoofi/src/straight/qgis09/src/gui/qgsprojectionselector.cpp: 320: 
(getCurrentProj4String) Selection sql: select parameters from tbl_srs 
where srs_id = 2585
Item selected : WGS 84
Item selected full string : +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs

Maciek

From marco.pasetti at alice.it  Wed Apr  9 11:49:06 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Apr  9 11:49:16 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 rev8324 Windows Installer [Test
	2]
Message-ID: <FBCMMO01whFaQtpgS5n0004f360@FBCMMO01.fbc.local>

Hi all,
 
here's an update of Quantum GIS 0.9.2 rev8324 Windows Installer.
 
First of all some few notes about changes:
 
1. completed Install registry key entries, as done in previous installers (+ the voice "InstallPath")
2. completed UnInstall registry key entries, as done in previous installers
3. added Windows Geometry key entries
4. added the install option for download and *install* also the Alaska Sample Database
5. renamed the directory where the sample databases are saved: from "GIS Database" to "Sample Data"
6. added the "Uninstall" shortcut, with its own icon
7. added the "Website" shortcut (URL), with its own icon
8. fixed Python bindings install bugs
 
here you can download the new installer: http://gigamaildownload.rossoalice.alice.it/download/download.aspx?AttachmentID=dc5ef874-487a-40cf-9161-c2fbc31f4715&MessageID=bf824e99-2807-42a1-ae4e-2feb92c30d5d <http://mailstore.rossoalice.alice.it/exchweb/bin/redir.asp?URL=http://gigamaildownload.rossoalice.alice.it/download/download.aspx?AttachmentID=dc5ef874-487a-40cf-9161-c2fbc31f4715%26MessageID=bf824e99-2807-42a1-ae4e-2feb92c30d5d> 
 
this said, I would add some basic instructions for testings, *proposals* and notes about my first tests:
 
INSTRUCTIONS for testing
------------------------------------------------------
 
1. first of all, uninstall the previous release
2. if you have Python and Qt already installed on your system, try to remove their paths from PATH system variable and then test QGIS [it would be better to uninstall them]
3. test QGIS also with the above paths put in PATH system variable [or reinstall Python and Qt]
4. in this release I added a new GRASS Tool Box (GTB) module, r.category: it repalces r.cats, that has been renamed (to r.category) in GRASS 6.3.0RC*; please, make *massive* testings on it, in order to approve its porting to SVN
 
TEST results and PROPOSALS
------------------------------------------------------
1. many descriptions in GTB modules are badly aligned; actually it's not a bug, but just a minor thing; by the way, it would be good to have all of them correctly aligned; I could make the job in few minutes and then port the XML changes to SVN
2. GTB: v.out.dxf icon is missing
3. GTB: r.patch is missing; actually, since r.patch needs multiple rasters as input, and XML modules cannot handle multiple values in input, it doesn't matter if r.patch is missing; by the way, I think that it would be very important to have it in the GTB; if someone could give me some information about GTB XML programming, I could try to solve the problem
4. help doesn't work at all!
 
That's all.
Thank you for your collaboration,
 
Marco Pasetti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080409/2aff07d2/attachment-0001.html
From tutey at o2.pl  Wed Apr  9 13:53:31 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr  9 13:54:03 2008
Subject: [Qgis-developer] Re: EPSG:2180 not recognised,
	although present in srs.db
In-Reply-To: <47FC7178.6030601@o2.pl>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>
	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>
	<47FC7178.6030601@o2.pl>
Message-ID: <47FD029B.6010501@o2.pl>

Maciej Sieczka pisze:
> I built QGIS (latest SVN trunk) against an older PROJ 4.5.0 this time, 
> and GDAL 1.4.4. Still no good. Below is the relevant debug output when 
> loading the GeoTIFF. Looks like QGIS recognises the CS properly, but 
> then fails to find a matching one in srs.sb. Any ideas what is the reason?

I think I know what is going on. Since GDAL 1.4.4 there is a change 
[1],[2] that the scale factor k is treated as numeric instead of string 
variable. This results in a following proj4 string for EPSG 2180 in GDAL 
 > 1.4.2:

+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 +x_0=500000 +y_0=-5300000 
+ellps=GRS80 +units=m +no_defs

Whereas in QGIS srs.db, and GDAL =< 1.4.2 the same EPSG code is 
represented with a slightly different proj4 string:

+proj=tmerc +lat_0=0 +lon_0=19 +k=0.999300 +x_0=500000 +y_0=-5300000 
+ellps=GRS80 +units=m +no_defs

The difference in the number of zeros in k factor is enough for QGIS to 
fail to recognize the SRS, if QGIS runs against GDAL 1.4.4 or later. I 
verified that with the latest QGIS SVN trunk and GDAL 1.4.2, 1.4.4, 1.5.1.

Note that the problem is not limited to EPSG 2180. As can be seen in [1] 
any SRS that uses k is affected. According to the epsg file shipped with 
PROJ 4.5.0, this gives 1328 out of 6442 SRS definitions incompatible 
between QGIS and GDAL > 1.4.2 [3].

Quite an issue. Can anything be done about it? Just trim ending zeros of 
all k's in the srs.db? That would break comptibility between QGIS and 
GDAL < 1.4.4. Considering that 1.4.4 was released over 4 months ago 
maybe that would not be a big deal though?

[1]http://trac.osgeo.org/gdal/changeset/12625
[2]http://trac.osgeo.org/gdal/ticket/1970
[3]grep "\+k\=.*0" /usr/local/share/proj/epsg

Maciek
From tutey at o2.pl  Wed Apr  9 14:47:27 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr  9 14:47:33 2008
Subject: [Qgis-developer] Re: EPSG:2180 not recognised,	although present
	in srs.db
In-Reply-To: <47FD029B.6010501@o2.pl>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>
	<47FD029B.6010501@o2.pl>
Message-ID: <47FD0F3F.3040800@o2.pl>

Maciej Sieczka pisze:
> this gives 1328 out of 6442 SRS definitions incompatible 
> between QGIS and GDAL > 1.4.2 [3].

Correction - 1157 SRSs.

> [3]grep "\+k\=.*0" /usr/local/share/proj/epsg

This should be:

grep '\+k=[[:digit:]]\.[[:digit:]]*0' /usr/local/share/proj/epsg

Maciek
From rdmailings at duif.net  Wed Apr  9 15:48:40 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed Apr  9 15:55:38 2008
Subject: [Qgis-developer] Re: EPSG:2180 not recognised,	although present
	in srs.db
In-Reply-To: <47FD0F3F.3040800@o2.pl>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>	<47FD029B.6010501@o2.pl>
	<47FD0F3F.3040800@o2.pl>
Message-ID: <47FD1D98.9050805@duif.net>


Hi Maciej and others

if you are right, and there is concensus about removing the trailings 
zero's from the k/scalefactor, what would be the easiest way to do this?

Some possibilities I see:

- either write a small python procedure (just because I know there is 
some sqllite lib for python) which does some string-stuff with the 
parameter values in the tbl_srs table.
seems doable for me...

- (re)use the script that initially was used to build srs.db
If it excists, anybody has knowledge of this script?

- do some editing by hand
uhm, volunteers ;-)?

So my question:
1) SHOULD we remove the trailing zero's from the k-factors?

2) I think the python way is the easiest way to go, but if somebody has 
the initial script laying around, please sent it to me...

Thanks,

Richard Duivenvoorde



Maciej Sieczka wrote:
> Maciej Sieczka pisze:
>> this gives 1328 out of 6442 SRS definitions incompatible between QGIS 
>> and GDAL > 1.4.2 [3].
> 
> Correction - 1157 SRSs.
> 
>> [3]grep "\+k\=.*0" /usr/local/share/proj/epsg
> 
> This should be:
> 
> grep '\+k=[[:digit:]]\.[[:digit:]]*0' /usr/local/share/proj/epsg
> 
> Maciek
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 

From marco.pasetti at alice.it  Wed Apr  9 16:06:53 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Wed Apr  9 16:07:03 2008
Subject: R: [Qgis-developer] Quantum GIS 0.9.2 rev8324 Windows Installer
	[Test2]
In-Reply-To: <FBCMMO01whFaQtpgS5n0004f360@FBCMMO01.fbc.local>
References: <FBCMMO01whFaQtpgS5n0004f360@FBCMMO01.fbc.local>
Message-ID: <000b01c89a7d$41323ca0$0201a8c0@notebookmarco>

Hi all,
 
about Windows Geometry key entries: it seems to me that they are no more
needed; QGIS automatically write new key entries about geometry in
HKCU\Software\Quantum GIS\qgis\UI
I'll remove them from next installer release
 
Marco

  _____  

Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di
marco.pasetti@alice.it
Inviato: mercoled? 9 aprile 2008 17.49
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] Quantum GIS 0.9.2 rev8324 Windows Installer
[Test2]


Hi all,
 
here's an update of Quantum GIS 0.9.2 rev8324 Windows Installer.
 
First of all some few notes about changes:
 
1. completed Install registry key entries, as done in previous installers (+
the voice "InstallPath")
2. completed UnInstall registry key entries, as done in previous installers
3. added Windows Geometry key entries
4. added the install option for download and *install* also the Alaska
Sample Database
5. renamed the directory where the sample databases are saved: from "GIS
Database" to "Sample Data"
6. added the "Uninstall" shortcut, with its own icon
7. added the "Website" shortcut (URL), with its own icon
8. fixed Python bindings install bugs
 
here you can download the new installer:
http://gigamaildownload.rossoalice.alice.it/download/download.aspx?Attachmen
tID=dc5ef874-487a-40cf-9161-c2fbc31f4715
<http://mailstore.rossoalice.alice.it/exchweb/bin/redir.asp?URL=http://gigam
aildownload.rossoalice.alice.it/download/download.aspx?AttachmentID=dc5ef874
-487a-40cf-9161-c2fbc31f4715%26MessageID=bf824e99-2807-42a1-ae4e-2feb92c30d5
d> &MessageID=bf824e99-2807-42a1-ae4e-2feb92c30d5d
 
this said, I would add some basic instructions for testings, *proposals* and
notes about my first tests:
 
INSTRUCTIONS for testing
------------------------------------------------------
 
1. first of all, uninstall the previous release
2. if you have Python and Qt already installed on your system, try to remove
their paths from PATH system variable and then test QGIS [it would be better
to uninstall them]
3. test QGIS also with the above paths put in PATH system variable [or
reinstall Python and Qt]
4. in this release I added a new GRASS Tool Box (GTB) module, r.category: it
repalces r.cats, that has been renamed (to r.category) in GRASS 6.3.0RC*;
please, make *massive* testings on it, in order to approve its porting to
SVN
 
TEST results and PROPOSALS
------------------------------------------------------
1. many descriptions in GTB modules are badly aligned; actually it's not a
bug, but just a minor thing; by the way, it would be good to have all of
them correctly aligned; I could make the job in few minutes and then port
the XML changes to SVN
2. GTB: v.out.dxf icon is missing
3. GTB: r.patch is missing; actually, since r.patch needs multiple rasters
as input, and XML modules cannot handle multiple values in input, it doesn't
matter if r.patch is missing; by the way, I think that it would be very
important to have it in the GTB; if someone could give me some information
about GTB XML programming, I could try to solve the problem
4. help doesn't work at all!
 
That's all.
Thank you for your collaboration,
 
Marco Pasetti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080409/4526e6cf/attachment.html
From tutey at o2.pl  Wed Apr  9 16:50:50 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr  9 16:50:52 2008
Subject: [Qgis-developer] Re: EPSG:2180 not recognised,	although present
	in srs.db
In-Reply-To: <47FD1D98.9050805@duif.net>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>	<47FD029B.6010501@o2.pl>
	<47FD0F3F.3040800@o2.pl> <47FD1D98.9050805@duif.net>
Message-ID: <47FD2C2A.5050308@o2.pl>

Richard Duivenvoorde pisze:

> Some possibilities I see:

Thanks Richard for looking into this.

>>> this gives 1328 out of 6442 SRS definitions incompatible between QGIS 
>>> and GDAL > 1.4.2 [3].

>> Correction - 1157 SRSs.

For the record - yet another typo in regexp. Should be:

grep '\+k=[[:digit:]]*\.[[:digit:]]*0 '

Gives 1142 SRSs.

(Sorry. It's late, and I'm doing to many things at the same time.)

Maciek
From tisham at apogee.com.au  Wed Apr  9 21:38:54 2008
From: tisham at apogee.com.au (Tisham Dhar)
Date: Wed Apr  9 21:44:06 2008
Subject: [Qgis-developer] RE: Qgis-developer Digest, Vol 26,
	Issue 11[Scanned]
References: <F9EB1409988C40A99ACC1A59EF5AD7A1@ApogeeImaging.local>
Message-ID: <7FE299E133F3104AA71E94D1850057891A4BD2@APOGEESRV.ApogeeImaging.local>

Hi Marco,

I am about to test. Did you commit the nsi and nsh changes to SVN ? I
guess I will check the logs, what exactly was wrong ?

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road 

 Lobethal SA 5241 

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au> 

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially
privileged. It is intended solely for the addressee. Access to this
e-mail by anyone else is unauthorised. If you are not the
intendedrecipient, any disclosure, copying, distribution or action taken
or omitted to be taken in reliance on it, is prohibited and may be
unlawful."



From tisham at apogee.com.au  Wed Apr  9 22:13:44 2008
From: tisham at apogee.com.au (Tisham Dhar)
Date: Wed Apr  9 22:13:52 2008
Subject: [Qgis-developer] Windows installer
References: <F9EB1409988C40A99ACC1A59EF5AD7A1@ApogeeImaging.local>
Message-ID: <7FE299E133F3104AA71E94D1850057891A4BD4@APOGEESRV.ApogeeImaging.local>

Hi Marco,

Python is conflicting with my pre-installed python, can you check what I
have in the release branch, I use pre-built PyQt and put that within the
Qgis folder instead of using system PyQt. How exactly are you solvin the
python issues. Can you drop by in IRC sometime to discuss

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road 

 Lobethal SA 5241 

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au> 

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially
privileged. It is intended solely for the addressee. Access to this
e-mail by anyone else is unauthorised. If you are not the
intendedrecipient, any disclosure, copying, distribution or action taken
or omitted to be taken in reliance on it, is prohibited and may be
unlawful."


From marco.pasetti at alice.it  Thu Apr 10 04:11:33 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Thu Apr 10 04:17:30 2008
Subject: R: [Qgis-developer] Windows installer
References: <F9EB1409988C40A99ACC1A59EF5AD7A1@ApogeeImaging.local>
	<7FE299E133F3104AA71E94D1850057891A4BD4@APOGEESRV.ApogeeImaging.local>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4156@FBCMST06V02.fbc.local>

Hi Tisham,
 
thank you for your support. Unfortunately this morning some other problems need my *urgent* attention (not qgis problems, I mean).
I guess to solve them within 10,00 GMT. I don't have a IRC account, I need to create it. I usually use skype, though...
What kind of application do you suggest me to use for manage multiple accounts? Trillian? is it free?
 
Thanks
 
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di Tisham Dhar
Inviato: gio 10/04/2008 4.13
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] Windows installer



Hi Marco,

Python is conflicting with my pre-installed python, can you check what I
have in the release branch, I use pre-built PyQt and put that within the
Qgis folder instead of using system PyQt. How exactly are you solvin the
python issues. Can you drop by in IRC sometime to discuss

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road

 Lobethal SA 5241

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au <http://www.apogee.com.au/> >

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially
privileged. It is intended solely for the addressee. Access to this
e-mail by anyone else is unauthorised. If you are not the
intendedrecipient, any disclosure, copying, distribution or action taken
or omitted to be taken in reliance on it, is prohibited and may be
unlawful."


_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080410/0004b0fd/attachment-0001.html
From tim at linfiniti.com  Thu Apr 10 12:50:54 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr 10 12:50:56 2008
Subject: [Qgis-developer] 0.9.2 release roadblocks
Message-ID: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>

Hi Folks

There will be a delay of a few days for the final release while we
sort out some outstanding issues. Paolo again raised the issue of the
version number for this release being inconsistent with a typical bug
fix focussed point release - and I'm inclined to agree.

Thus if there are no strong objections I would like to update the
version number for this release to 0.10.0 rather to keep the release
numbering purists happy.

I will adjust the timings on the checklist at to reflect the above,
unless there are any objections.

Many thanks for your patience....wont be long now for 0.9.2 / 0.10.0
to go out the door.

Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu Apr 10 15:30:40 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr 10 15:30:41 2008
Subject: [Qgis-developer] QGIS Annual hackfest 2008 - invitation to all
Message-ID: <d368056f0804101230o20e41ac3i7cdb436180fb65c@mail.gmail.com>

Hi All

We are planning to hold our first (hopefully annual) QGIS hackfest
this year around July or August. We would like to invite anyone
interested to join us. You don't need to be a programmer since we need
people to verify and close bugs, update documentation and generally
help to add polish to QGIS. There are some funds to help cover
transport costs and we would welcome any further donations to further
the aims of the hackfest. If you are interested, please register your
interest on the hackfest wiki page:

http://wiki.qgis.org/qgiswiki/HackFest2008

We look forward to meeting many of you in person for the first time!

Best regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From lami at faunalia.it  Fri Apr 11 03:43:26 2008
From: lami at faunalia.it (Leonardo Lami)
Date: Fri Apr 11 04:09:35 2008
Subject: [Qgis-developer] reprojection on the fly bug on last svn
Message-ID: <47FF169E.3050104@faunalia.it>

Hi all

I find a bug about the reprojection on the fly tool.
Really the bug is on the management of the projection associate to the 
vector that you can change from label 'General' in the vector property 
windows.
If you click on 'Change' button, you choose a new projection an then 
press 'Ok' you can see that the new associated projection seems a mix of 
the old and the new projection...very strange thingh...

So when you try to reproject on the fly the result is wrong.

I see the bug on Debian and Ubuntu distribution on svn 0.9.2~rc20080401-1.

I think this is an important function and  it is necessary to fix the 
bug before the next release.


Thanks of all

Regards
Leonardo




From rdmailings at duif.net  Fri Apr 11 11:14:17 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri Apr 11 11:14:43 2008
Subject: [Qgis-developer] Re: EPSG:2180 not recognised,	although present
	in srs.db
In-Reply-To: <47FD029B.6010501@o2.pl>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>
	<47FD029B.6010501@o2.pl>
Message-ID: <47FF8049.3050201@duif.net>

FYI: after a short chat with FrankW I added to trac the following 
request: https://trac.osgeo.org/qgis/ticket/1035
If that works, we hopefully keep in sync with proj and family.

Maciej, did you file your zero-ending scalefactor bug/comment in trac? 
Because it would be nice if this could be tackled/discussed at the same 
time.... Feel free to add it to the srs.db ticket.

Regards,

Richard Duivenvoorde

Maciej Sieczka wrote:
> Maciej Sieczka pisze:
>> I built QGIS (latest SVN trunk) against an older PROJ 4.5.0 this time, 
>> and GDAL 1.4.4. Still no good. Below is the relevant debug output when 
>> loading the GeoTIFF. Looks like QGIS recognises the CS properly, but 
>> then fails to find a matching one in srs.sb. Any ideas what is the 
>> reason?
> 
> I think I know what is going on. Since GDAL 1.4.4 there is a change 
> [1],[2] that the scale factor k is treated as numeric instead of string 
> variable. This results in a following proj4 string for EPSG 2180 in GDAL 
>  > 1.4.2:
> 
> +proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 +x_0=500000 +y_0=-5300000 
> +ellps=GRS80 +units=m +no_defs
> 
> Whereas in QGIS srs.db, and GDAL =< 1.4.2 the same EPSG code is 
> represented with a slightly different proj4 string:
> 
> +proj=tmerc +lat_0=0 +lon_0=19 +k=0.999300 +x_0=500000 +y_0=-5300000 
> +ellps=GRS80 +units=m +no_defs
> 
> The difference in the number of zeros in k factor is enough for QGIS to 
> fail to recognize the SRS, if QGIS runs against GDAL 1.4.4 or later. I 
> verified that with the latest QGIS SVN trunk and GDAL 1.4.2, 1.4.4, 1.5.1.
> 
> Note that the problem is not limited to EPSG 2180. As can be seen in [1] 
> any SRS that uses k is affected. According to the epsg file shipped with 
> PROJ 4.5.0, this gives 1328 out of 6442 SRS definitions incompatible 
> between QGIS and GDAL > 1.4.2 [3].
> 
> Quite an issue. Can anything be done about it? Just trim ending zeros of 
> all k's in the srs.db? That would break comptibility between QGIS and 
> GDAL < 1.4.4. Considering that 1.4.4 was released over 4 months ago 
> maybe that would not be a big deal though?
> 
> [1]http://trac.osgeo.org/gdal/changeset/12625
> [2]http://trac.osgeo.org/gdal/ticket/1970
> [3]grep "\+k\=.*0" /usr/local/share/proj/epsg
> 
> Maciek
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 

From cdavilam at jemila.jazztel.es  Fri Apr 11 13:57:24 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Fri Apr 11 14:12:59 2008
Subject: [Qgis-developer] Geoprocessing error
In-Reply-To: <4F36A50D-647C-4C88-A5F8-D236EF59C832@wildnevada.org>
References: <4F36A50D-647C-4C88-A5F8-D236EF59C832@wildnevada.org>
Message-ID: <47FFA684.9040208@jemila.jazztel.es>

John C. Tull escribi?:
> Horst,
>
> I tried performing a union of two vector files with multiple polygons,
> and received the error below. This was using the 0.35 version of the
> plugin with William Kyngesburye's RC1 binary of qgis (I still cannot
> get the plugin to work for me in my development builds). The union
> worked in ubuntu with version 0.35 of the plugin and latest svn.
>
>
> An error has occured while executing Python code:
>
> Traceback (most recent call last):
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 242, in geoprocessing
>  self.union(myLayerA, myLayerB, myPath, myBool)
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 266, in union
>  resultList = self.makeUnion(vlayerA, vlayerB)
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 832, in makeUnion
>  unionResult = self.makeIntersection(vlayerA, vlayerB)
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 998, in makeIntersection
>  fet.setAttributeMap(mAttributes)
> AttributeError: setAttributeMap 
I'm getting a similar error with buffer or difference tools:
An error has occured while executing Python code:

Traceback (most recent call last):
 File "/C/Mis
documentos/.qgis//python/plugins/geoprocessing/geoprocessing.py", line
233, in geoprocessing
  self.buffering(myLayerA, myParam, myPath, myBool, mergeBool)
 File "/C/Mis
documentos/.qgis//python/plugins/geoprocessing/geoprocessing.py", line
448, in buffering
  vlayer = self.getVectorLayerByName(myLayer)
 File "/C/Mis
documentos/.qgis//python/plugins/geoprocessing/geoprocessing.py", line
516, in getVectorLayerByName
  vlayer = QgsVectorLayer(unicode(layer.source(),'latin1'),
unicode(myName,'latin1'), providerName)
UnboundLocalError: local variable 'providerName' referenced before
assignment

System is debian testing, qgis r8328, Qt 4.3.3 and plugin v0.35. I think
error can be related with the layers being in edition mode, but I can't
reproduce error in another computer (the only difference is Qt 4.3.4).
Before the error a dialog entitled "Meldung" appears with the message
"Kein Provider gefundel!" (Shouldn't it be translated?).

Apart from this issue, I would like to suggest a couple of things:
1) The plugin has a "Save as:" box where you select a directory to save
the new layer. As you don't select a name but a directory, wouldn't it
be better to say "Save to:"?
2) Could output layer name for buffers be input_layer_bufferX.shp
instead of bufferX?

Regards and thanks for so useful plugin.
Carlos
From marco.pasetti at alice.it  Fri Apr 11 17:13:52 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Fri Apr 11 17:15:01 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test Installer
Message-ID: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>

Hi all,
 
I made another windows pre-release build for testings:
 
1. the help section still doesn't work. I'm quite sure that it's not a
*package* or *build* problem, but only a source code error. Also J?rgen had
this problem on his MSVC build. It's strange, because on 0.92rc1 help
section worked fine!
 
2. while in the last 0.92rc1 windows package the python plugins didn't work,
now I figured out how to let them work in a self-contained package. Only the
mapserver plugin seems to report errors, but I'm quite sure that they don't
depend on missing python files in the package, but that they are generated
by errors in python source code.
 
3. I made a big work on packaging. Instead of *following* the previous
release *architecture*, I preferred to package the files tracing all the
system calls, thus including the really needed files only. That resulted in
a package with approx the same *weight* of the previous ones, even if I
added more that 13 MB of python files (not previously included, but needed
to let python plugins work).
 
4. this release is based on rev8336; but changes is still on the way (for
example, J?rgen Fischer an I are working on some improvements on GRASS
toolbox).
 
5. the installer still needs some improvements, maybe, but it already does
its work, and install all the files correctly, registry keys and (optional)
sample dataset inlcuded. Feel free to report suggestions on it.
 
That's all. And, now, the installer:
http://gigamaildownload.rossoalice.alice.it/download/download.aspx?Attachmen
tID=29170f44-9626-49aa-849a-f90b3f28496d
<http://gigamaildownload.rossoalice.alice.it/download/download.aspx?Attachme
ntID=29170f44-9626-49aa-849a-f90b3f28496d&MessageID=bafc3210-053e-4a1c-b4d9-
e6403396e749> &MessageID=bafc3210-053e-4a1c-b4d9-e6403396e749
 
Please, test it, and report bugs and/or suggestions.
 
Thank you for your attention,
 
Marco Pasetti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080411/8adc6fa3/attachment.html
From rdmailings at duif.net  Sat Apr 12 09:23:16 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat Apr 12 09:23:48 2008
Subject: [Qgis-developer] srs.db epsg's added, shrinking?
In-Reply-To: <47FF8049.3050201@duif.net>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>	<47FD029B.6010501@o2.pl>
	<47FF8049.3050201@duif.net>
Message-ID: <4800B7C4.3010501@duif.net>

Hi Marco,
here a new srs.db for commiting/testing:
http://www.duif.net/srs.db

I added the following EPSG's:
3328-3335
3120
3066
in the db using http://sqliteadmin.orbmu2k.de/
this tool also has the possibility to do a 'database cleanup'. But after
doing that the srs.db shrunk from 3.3 Mb to 526 kb ??? Do people think
that's ok?
It's still working for me, but can other people please test (especially
the new additions?

There is a plan to use FrankW scripts for generating the
parameters/epsg-list in the same way as is done for proj, postgis etc
(https://trac.osgeo.org/qgis/ticket/1035).
I think it would be fine to line up with those tools, but only if we do
not offend somebody/maintainer who is normally building srs.db (or was
it generated once by hand)?

Richard Duivenvoorde

From rdmailings at duif.net  Sat Apr 12 09:23:37 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat Apr 12 09:24:33 2008
Subject: [Qgis-developer] srs.db epsg's added, shrinking?
In-Reply-To: <47FF8049.3050201@duif.net>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>	<47FD029B.6010501@o2.pl>
	<47FF8049.3050201@duif.net>
Message-ID: <4800B7D9.6030307@duif.net>

Hi Marco,
here a new srs.db for commiting/testing:
http://www.duif.net/srs.db

I added the following EPSG's:
3328-3335
3120
3066
in the db using http://sqliteadmin.orbmu2k.de/
this tool also has the possibility to do a 'database cleanup'. But after
doing that the srs.db shrunk from 3.3 Mb to 526 kb ??? Do people think
that's ok?
It's still working for me, but can other people please test (especially
the new additions?

There is a plan to use FrankW scripts for generating the
parameters/epsg-list in the same way as is done for proj, postgis etc
(https://trac.osgeo.org/qgis/ticket/1035).
I think it would be fine to line up with those tools, but only if we do
not offend somebody/maintainer who is normally building srs.db (or was
it generated once by hand)?

Richard Duivenvoorde

From rdmailings at duif.net  Sat Apr 12 10:21:44 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat Apr 12 10:22:17 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test Installer
In-Reply-To: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>
References: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>
Message-ID: <4800C578.2070805@duif.net>

Hi Marco,
looks good, thanks for your 'shrinking'-work! My python plugin is 
working :-)

1)
Some plugins are not working because they are missing essential plugin 
modules:
- qgisrest needs GeoJSON
- newlayer needs psycopg
- qgis_rgb needs gdal
etc.
Maybe if we include python in the installation, we should also include 
these also in the windows package?

2)
There is one 'bug' which I do not know if it is a windows-bug...
I filed it in trac.

But if you have deleted your .qgis (documents and settings) the first 
python plugin is successfully downloaded, unzipped etc etc.
But after the message "Python plugin installed. Go to Plugins > Plugin 
Manager to enable xxx." you get an error message:

Traceback (most recent call last):
  File "", line 2, in
ImportError: No module named xxx

Apparently the Plugin Manager doesn't have the .qgis/python/plugins in 
it's (python_)path? Because after a restart of qgis the plugin is shown 
in the Plugin Manager and can load ok.
And after ONE python plugin is succesfully installed, ALL other python 
plugins are also being installed ok in one time without restart!

I think this should be fixed before releasing 9.2 This because the new 
users will not have a .qgis/python/plugin directory so all will fail to 
load their first plugin :-(

Added it in trac as a bug: https://trac.osgeo.org/qgis/ticket/1038

3) https://trac.osgeo.org/qgis/ticket/327 (not able to save map as jpg) 
is still there :-(

Regards,

Richard Duivenvoorde


Marco Pasetti wrote:
> Hi all,
>  
> I made another windows pre-release build for testings:
>  
> 1. the help section still doesn't work. I'm quite sure that it's not a 
> *package* or *build* problem, but only a source code error. Also J?rgen 
> had this problem on his MSVC build. It's strange, because on 0.92rc1 
> help section worked fine!
>  
> 2. while in the last 0.92rc1 windows package the python plugins didn't 
> work, now I figured out how to let them work in a self-contained 
> package. Only the mapserver plugin seems to report errors, but I'm quite 
> sure that they don't depend on missing python files in the package, but 
> that they are generated by errors in python source code.
>  
> 3. I made a big work on packaging. Instead of *following* the previous 
> release *architecture*, I preferred to package the files tracing all the 
> system calls, thus including the really needed files only. That resulted 
> in a package with approx the same *weight* of the previous ones, even if 
> I added more that 13 MB of python files (not previously included, but 
> needed to let python plugins work).
>  
> 4. this release is based on rev8336; but changes is still on the way 
> (for example, J?rgen Fischer an I are working on some improvements on 
> GRASS toolbox).
>  
> 5. the installer still needs some improvements, maybe, but it already 
> does its work, and install all the files correctly, registry keys and 
> (optional) sample dataset inlcuded. Feel free to report suggestions on it.
>  
> That's all. And, now, the installer: 
> http://gigamaildownload.rossoalice.alice.it/download/download.aspx?AttachmentID=29170f44-9626-49aa-849a-f90b3f28496d&MessageID=bafc3210-053e-4a1c-b4d9-e6403396e749 
> <http://gigamaildownload.rossoalice.alice.it/download/download.aspx?AttachmentID=29170f44-9626-49aa-849a-f90b3f28496d&MessageID=bafc3210-053e-4a1c-b4d9-e6403396e749>
>  
> Please, test it, and report bugs and/or suggestions.
>  
> Thank you for your attention,
>  
> Marco Pasetti
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From sherman at mrcc.com  Sat Apr 12 10:59:32 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Apr 12 11:01:52 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test Installer
In-Reply-To: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>
References: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>
Message-ID: <38566ABE-F05F-4668-92EC-DD5C79CBE332@mrcc.com>

On Apr 11, 2008, at 1:13 PM, Marco Pasetti wrote:
> Hi all,
>
> I made another windows pre-release build for testings:
> Please, test it, and report bugs and/or suggestions.

It doesn't start on my clean XP test install:
"MSVCR71.dll is missing"

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From tutey at o2.pl  Sat Apr 12 11:32:06 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat Apr 12 11:32:39 2008
Subject: [Qgis-developer] Re: EPSG:2180 not recognised,	although present
	in srs.db
In-Reply-To: <47FF8049.3050201@duif.net>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>
	<47FD029B.6010501@o2.pl> <47FF8049.3050201@duif.net>
Message-ID: <4800D5F6.3050909@o2.pl>

Richard Duivenvoorde pisze:

> Maciej, did you file your zero-ending scalefactor bug/comment in trac? 
> Because it would be nice if this could be tackled/discussed at the same 
> time.... Feel free to add it to the srs.db ticket.

Added now:
https://trac.osgeo.org/qgis/ticket/103

Best
Maciek
From marco.pasetti at alice.it  Sat Apr 12 13:01:10 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Sat Apr 12 13:01:45 2008
Subject: R: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test Installer
In-Reply-To: <38566ABE-F05F-4668-92EC-DD5C79CBE332@mrcc.com>
References: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>
	<38566ABE-F05F-4668-92EC-DD5C79CBE332@mrcc.com>
Message-ID: <009b01c89cbe$ceabe430$0201a8c0@notebookmarco>

Hi Gary,

AFAIK, MSVCR71.dll should be installed on every XP SP2. Did you enabled
updates?

Marco

-----Messaggio originale-----
Da: Gary Sherman [mailto:shermange@gmail.com] Per conto di Gary Sherman
Inviato: sabato 12 aprile 2008 17.00
A: Marco Pasetti
Cc: QGIS Developer Mailing List
Oggetto: Re: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test
Installer

On Apr 11, 2008, at 1:13 PM, Marco Pasetti wrote:
> Hi all,
>
> I made another windows pre-release build for testings:
> Please, test it, and report bugs and/or suggestions.

It doesn't start on my clean XP test install:
"MSVCR71.dll is missing"

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From shotamur at gmail.com  Sat Apr 12 13:42:20 2008
From: shotamur at gmail.com (Shota)
Date: Sat Apr 12 13:42:33 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 SHP to KML
Message-ID: <464823f40804121042j336bd21cid75d774ad1a6cf2c@mail.gmail.com>

Does anyone works on plug in converting Shapefile to KML for QGIS?

I need this kind of application for linux. I know Shape2Earth for MapWindow,
but I need it for linux based program.

Is there any?

Shota


On Sat, Apr 12, 2008 at 10:01 PM, Marco Pasetti <marco.pasetti@alice.it>
wrote:

> Hi Gary,
>
> AFAIK, MSVCR71.dll should be installed on every XP SP2. Did you enabled
> updates?
>
> Marco
>
> -----Messaggio originale-----
> Da: Gary Sherman [mailto:shermange@gmail.com] Per conto di Gary Sherman
> Inviato: sabato 12 aprile 2008 17.00
> A: Marco Pasetti
> Cc: QGIS Developer Mailing List
> Oggetto: Re: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test
> Installer
>
> On Apr 11, 2008, at 1:13 PM, Marco Pasetti wrote:
> > Hi all,
> >
> > I made another windows pre-release build for testings:
> > Please, test it, and report bugs and/or suggestions.
>
> It doesn't start on my clean XP test install:
> "MSVCR71.dll is missing"
>
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> -Desktop GIS Book:
>   *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
???? ???????????
????? "????? ???????"
www.geosocial.blogspot.com
www.dlf.ge
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080412/859f74e8/attachment.html
From sherman at mrcc.com  Sat Apr 12 14:04:55 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Apr 12 14:05:11 2008
Subject: R: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test
	Installer
In-Reply-To: <009b01c89cbe$ceabe430$0201a8c0@notebookmarco>
References: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>
	<38566ABE-F05F-4668-92EC-DD5C79CBE332@mrcc.com>
	<009b01c89cbe$ceabe430$0201a8c0@notebookmarco>
Message-ID: <C3CA02A5-D14F-4395-8137-3514EB6F5364@mrcc.com>

On Apr 12, 2008, at 9:01 AM, Marco Pasetti wrote:
> Hi Gary,
>
> AFAIK, MSVCR71.dll should be installed on every XP SP2. Did you  
> enabled
> updates?
>
It's SP2, fully updated
> Marco
>
> -----Messaggio originale-----
> Da: Gary Sherman [mailto:shermange@gmail.com] Per conto di Gary  
> Sherman
> Inviato: sabato 12 aprile 2008 17.00
> A: Marco Pasetti
> Cc: QGIS Developer Mailing List
> Oggetto: Re: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test
> Installer
>
> On Apr 11, 2008, at 1:13 PM, Marco Pasetti wrote:
>> Hi all,
>>
>> I made another windows pre-release build for testings:
>> Please, test it, and report bugs and/or suggestions.
>
> It doesn't start on my clean XP test install:
> "MSVCR71.dll is missing"
>
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> -Desktop GIS Book:
>   *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From sherman at mrcc.com  Sat Apr 12 14:16:46 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Apr 12 14:17:04 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2 SHP to KML
In-Reply-To: <464823f40804121042j336bd21cid75d774ad1a6cf2c@mail.gmail.com>
References: <464823f40804121042j336bd21cid75d774ad1a6cf2c@mail.gmail.com>
Message-ID: <0EE3DE09-F333-406A-9EAE-BB4E1F74990C@mrcc.com>

On Apr 12, 2008, at 9:42 AM, Shota wrote:
> Does anyone works on plug in converting Shapefile to KML for QGIS?
>
> I need this kind of application for linux. I know Shape2Earth for  
> MapWindow, but I need it for linux based program.
>
> Is there any?
>
Try ogr2ogr: http://www.gdal.org/ogr/drv_kml.html
>
> Shota
>
>
> On Sat, Apr 12, 2008 at 10:01 PM, Marco Pasetti <marco.pasetti@alice.it 
> > wrote:
> Hi Gary,
>
> AFAIK, MSVCR71.dll should be installed on every XP SP2. Did you  
> enabled
> updates?
>
> Marco
>
> -----Messaggio originale-----
> Da: Gary Sherman [mailto:shermange@gmail.com] Per conto di Gary  
> Sherman
> Inviato: sabato 12 aprile 2008 17.00
> A: Marco Pasetti
> Cc: QGIS Developer Mailing List
> Oggetto: Re: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test
> Installer
>
> On Apr 11, 2008, at 1:13 PM, Marco Pasetti wrote:
> > Hi all,
> >
> > I made another windows pre-release build for testings:
> > Please, test it, and report bugs and/or suggestions.
>
> It doesn't start on my clean XP test install:
> "MSVCR71.dll is missing"
>
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> -Desktop GIS Book:
>   *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> -- 
> ???? ???????????
> ????? "????? ???????"
> www.geosocial.blogspot.com
> www.dlf.ge

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From tisham at apogee.com.au  Sat Apr 12 23:23:57 2008
From: tisham at apogee.com.au (tisham@apogee.com.au)
Date: Sat Apr 12 23:30:56 2008
Subject: [Qgis-developer] Windows Installer
In-Reply-To: <20080412153247.287DDE01386@lists.osgeo.org>
References: <20080412153247.287DDE01386@lists.osgeo.org>
Message-ID: <20080413132357.3eank2dy3o4kks4g@webmail.apogee.com.au>

Hi Marco,

Thanks for revamping the installer. Please run a depends check using  
Dependency Walker to avoid problems like Gary is having.
http://www.dependencywalker.com/
Which Python modules did you include ? I was including PyQt4, SIP etc  
in a rather round about way.

May be we could include the Python bindings for some other popular  
packages like Gdal as well. I think FrankW wanted it at one point.

If you find a cleaner way that's great. Could you please paste the nsi  
scripts somewhere, or are they in SVN already. I only have the rc1  
branch checked out, is there going to be a RC2 branch.

Regards,

Tisham.

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.



From jef at norbit.de  Sun Apr 13 00:31:49 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Apr 13 00:32:20 2008
Subject: [Qgis-developer] Re: [DebianGIS] qgis removal
In-Reply-To: <674858.59808.qm@web45814.mail.sp1.yahoo.com>
References: <20080410094319.GD3872@mithrandir>
	<674858.59808.qm@web45814.mail.sp1.yahoo.com>
Message-ID: <20080413043149.GA24003@norbit.de>

Hi Hamish,

On Fri, 11. Apr 2008 at 22:28:07 -0700, Hamish wrote:
> I had always thought that experimental was a place to refine a package
> under development which was not yet ready for the main archive, and so
> requirements there were not as strict. But if not, ok then, it just seems
> to me a bit counter-to-purpose to keep exp at that same high standard.

I worked on the debian files in the qgis repository.  After applying
the patch from

https://trac.osgeo.org/qgis/attachment/ticket/1028/patch_for_bug_1028.txt

lintian only complains about
W: qgis-plugin-grass: package-name-doesnt-match-sonames libqgisgrass0.9
W: libqgis1: package-name-doesnt-match-sonames libqgis-core0.9 libqgis-gui0.9

hth
J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From cdavilam at jemila.jazztel.es  Sun Apr 13 06:13:34 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Sun Apr 13 06:13:37 2008
Subject: [Qgis-developer] Windows Installer
In-Reply-To: <20080413132357.3eank2dy3o4kks4g@webmail.apogee.com.au>
References: <20080412153247.287DDE01386@lists.osgeo.org>
	<20080413132357.3eank2dy3o4kks4g@webmail.apogee.com.au>
Message-ID: <4801DCCE.70800@jemila.jazztel.es>

tisham@apogee.com.au escribi?:
> Hi Marco,
>
> Thanks for revamping the installer. Please run a depends check using
> Dependency Walker to avoid problems like Gary is having.
> http://www.dependencywalker.com/
> Which Python modules did you include ? I was including PyQt4, SIP etc
> in a rather round about way.
>
> May be we could include the Python bindings for some other popular
> packages like Gdal as well. I think FrankW wanted it at one point.
In case gdal is included in installer, could it include ecw support? It
would really help me spread the use of qgis to some of my windows-user
colleagues.
Greetings
Carlos
>
> If you find a cleaner way that's great. Could you please paste the nsi
> scripts somewhere, or are they in SVN already. I only have the rc1
> branch checked out, is there going to be a RC2 branch.
>
> Regards,
>
> Tisham.
>
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From marco.hugentobler at karto.baug.ethz.ch  Sun Apr 13 07:23:57 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun Apr 13 07:23:07 2008
Subject: [Qgis-developer] reprojection on the fly bug on last svn
In-Reply-To: <47FF169E.3050104@faunalia.it>
References: <47FF169E.3050104@faunalia.it>
Message-ID: <200804131323.57525.marco.hugentobler@karto.baug.ethz.ch>

Hi Leonardo,

You are right, this is an important bug.
Tracing it down with the debugger, I think it has something to do with the 
functions OSRExportToProj4  and OSRImportFromProj4. It seems as if a part of 
the last string is still stored somewhere.

The workaround I commited to svn is to delete and recreate the reference 
system in QgsSpatialRefSys::operator=

Regards,
Marco

Am Freitag 11 April 2008 09:43:26 schrieb Leonardo Lami:
> Hi all
>
> I find a bug about the reprojection on the fly tool.
> Really the bug is on the management of the projection associate to the
> vector that you can change from label 'General' in the vector property
> windows.
> If you click on 'Change' button, you choose a new projection an then
> press 'Ok' you can see that the new associated projection seems a mix of
> the old and the new projection...very strange thingh...
>
> So when you try to reproject on the fly the result is wrong.
>
> I see the bug on Debian and Ubuntu distribution on svn 0.9.2~rc20080401-1.
>
> I think this is an important function and  it is necessary to fix the
> bug before the next release.
>
>
> Thanks of all
>
> Regards
> Leonardo
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Sun Apr 13 07:43:01 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun Apr 13 07:42:10 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <4800B7D9.6030307@duif.net>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
Message-ID: <200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>

Hi Richard,

Thanks for providing a new version of srs.db . It is already commited to svn.

I think the shrinking filesize is because the database reorganises storage 
after 'database cleanup'.

> There is a plan to use FrankW scripts for generating the
> parameters/epsg-list in the same way as is done for proj, postgis etc
> (https://trac.osgeo.org/qgis/ticket/1035).
> I think it would be fine to line up with those tools, but only if we do
> not offend somebody/maintainer who is normally building srs.db (or was
> it generated once by hand)?

Yes, it would be good to automate the generation. Maybe Gary or Tim know how 
the db was originally generated?

cheers,
Marco

Am Samstag 12 April 2008 15:23:37 schrieb Richard Duivenvoorde:
> Hi Marco,
> here a new srs.db for commiting/testing:
> http://www.duif.net/srs.db
>
> I added the following EPSG's:
> 3328-3335
> 3120
> 3066
> in the db using http://sqliteadmin.orbmu2k.de/
> this tool also has the possibility to do a 'database cleanup'. But after
> doing that the srs.db shrunk from 3.3 Mb to 526 kb ??? Do people think
> that's ok?
> It's still working for me, but can other people please test (especially
> the new additions?
>
> There is a plan to use FrankW scripts for generating the
> parameters/epsg-list in the same way as is done for proj, postgis etc
> (https://trac.osgeo.org/qgis/ticket/1035).
> I think it would be fine to line up with those tools, but only if we do
> not offend somebody/maintainer who is normally building srs.db (or was
> it generated once by hand)?
>
> Richard Duivenvoorde



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tutey at o2.pl  Sun Apr 13 10:46:16 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Apr 13 08:46:34 2008
Subject: [Qgis-developer] Re: srs.db epsg's added
In-Reply-To: <4800B7D9.6030307@duif.net>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>	<47FD029B.6010501@o2.pl>
	<47FF8049.3050201@duif.net> <4800B7D9.6030307@duif.net>
Message-ID: <48021CB8.5080306@o2.pl>

Richard Duivenvoorde pisze:

> here a new srs.db for commiting/testing:
> http://www.duif.net/srs.db
> 
> I added the following EPSG's:
> 3328-3335
> 3120
> 3066
> in the db using http://sqliteadmin.orbmu2k.de/
> this tool also has the possibility to do a 'database cleanup'. But after
> doing that the srs.db shrunk from 3.3 Mb to 526 kb ??? Do people think
> that's ok?
> It's still working for me, but can other people please test (especially
> the new additions?

They look allright. Thanks a lot for doing this!

Another issue: how is QGIS going to deal with deprecated EPSG SRSs?

Eg. EPSG 2171 is deprecated (it has a huge error) and 3120 is it's 
correct version. I think deprecated SRSs should be at least called 
different in the database. And put them into a separate group maybe so 
they don't get in the way?

According to PROJ 4.6 [1] there 201 deprecated SRSs in the EPSG database 
currently.

[1] grep -c deprecated /usr/share/proj/epsg

Maciek
From marco.hugentobler at karto.baug.ethz.ch  Sun Apr 13 09:13:05 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun Apr 13 09:12:14 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <e8e7199c0803031706r56d7cdbwbc9f957e411a986d@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<200803031745.36049.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0803031706r56d7cdbwbc9f957e411a986d@mail.gmail.com>
Message-ID: <200804131513.05394.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

A very late follow up on this subject:
Looking at the composer items, those classes are multiple inherited from 
QWidget (they are items and configuration dialogs at the same time). So my 
original plan is not possible. Instead I first have to separate dialog parts 
from items to put items in core.

Regards,
Marco

> I haven't got so far with the planning... I was more thinking of
> making the composer items independent of any GUI parts, also the
> graphics view related parts and wanted to create their counterparts in
> GUI library for graphics view. I haven't realized that we could use
> just graphics scene and graphics items in core library and having the
> graphics view in gui library. Your idea sounds better.

Am Dienstag 04 M?rz 2008 02:06:49 schrieb Martin Dobias:
> On Mon, Mar 3, 2008 at 5:45 PM, Marco Hugentobler
>
> <marco.hugentobler@karto.baug.ethz.ch> wrote:
> >  So my suggestion is to have the rendering context somehow like this:
> >
> >  class QgsMapRenderContext
> >  {
> >         QgsMapToPixel mMapToPixel;
> >         QgsCoordinateTransform mCoordTransform;
> >         QgsRect mExtent;
> >         bool drawEditingInformation;
> >         bool mRenderingStopped;
> >         double mResolutionRatio;
> >  };
>
> Yes, something like that should do it...
> We should also include a member like "force vector output" which will
> tell to renderer whether it can use just a rendered pixmap of a symbol
> or whether it should render the symbol directly - this is where map
> composer is failing.
>
> >  The resolution ratio is usually 1, except when drawing to a different
> > paint device (like QPrinter). I hope it will allow to consider for
> > different line width / symbol sizes on these output devices.
>
> When looking at QgsVectorLayer::draw(), there's symbolScale and
> widthScale... are both of them covered by mResolutionRatio?
>
> >  Maybe QgsComposerView (derived from QGraphicsView) could go to gui and
> > the composer items to core? Then client applications (or some interface
> > component in core) could arrange the items and call
> > QGraphicsScene::render.
>
> I haven't got so far with the planning... I was more thinking of
> making the composer items independent of any GUI parts, also the
> graphics view related parts and wanted to create their counterparts in
> GUI library for graphics view. I haven't realized that we could use
> just graphics scene and graphics items in core library and having the
> graphics view in gui library. Your idea sounds better.
>
> Bye
> Martin



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tutey at o2.pl  Sun Apr 13 10:25:25 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Apr 13 10:25:43 2008
Subject: [Qgis-developer] Re: [Qgis-user] Building image pyramids -> qgis
	crashing
In-Reply-To: <200804121811.01987.oleg@crista.uni-wuppertal.de>
References: <47B5D288.1A1A.0026.0@twdb.state.tx.us>
	<47FF656A.5040106@faunalia.it> <4800D651.30902@o2.pl>
	<200804121811.01987.oleg@crista.uni-wuppertal.de>
Message-ID: <480217D5.4070905@o2.pl>

Oleg Gusev pisze:
> Am Samstag 12 April 2008 17:33:37 schrieb Maciej Sieczka:
>> Paolo Cavallini pisze:
>>> I confirm the crash.
>> Paolo
>>
>> What GDAL version are you using?

>   i have understood  Frank's answer on the grass mailing list
>   as 'this libtiff bug is well known and will not be fixed'. 

I could not find the phrase in GRASS ML archives. Can you post a link? 
Can you provide an example TIFF that crashes QGIS while building pyramids?

>   Maybe it's time to disable building tiff overviews in qgis.

FWIW I would certainly vote for building external overviews instead of 
internal. This would prevent eventual problems related to in-place 
modification of TIFF file, improve data compatibility and prevent data 
redundancy. External overviews in *.ovr files are no worse as to 
performance or whatever, while they have advantages.

Maciek
From marco.hugentobler at karto.baug.ethz.ch  Sun Apr 13 11:21:58 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun Apr 13 11:21:28 2008
Subject: [Qgis-developer] rendercontext-branch
In-Reply-To: <e8e7199c0804071238m4c513634jd696459a5778b50@mail.gmail.com>
References: <04DA676AA276F045B32D0F95783D78440AF818@EX6.d.ethz.ch>
	<e8e7199c0804071238m4c513634jd696459a5778b50@mail.gmail.com>
Message-ID: <200804131721.58820.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

Note that the render context branch is now in a stage where it can be tested.
You may check out the branch with: 
'svn co https://svn.osgeo.org/qgis/branches/rendercontext-branch 
qgis_rendercontext'

Regards,
Marco


>
> On Mon, Apr 7, 2008 at 6:11 PM, Hugentobler  Marco
>
> <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi devs,
> >
> >  I started a wiki page about the changes in the rendercontext branch:
> >  http://wiki.qgis.org/qgiswiki/RenderContextBranch
> >
> >  Although the work in the branch is not completely finished, it would be
> > good for me to have some feedback. The most important changes in the
> > branch are:
> >
> >  - QgsRenderContext object encapsulates rendering parameters and is
> > passed to all map layers - QgsRenderContext::mRenderingStopped is set to
> > true to notify the layers that rendering was canceled (with esc key or
> > check box) - QgsRenderContext::mScaleFactor allows to scale outline
> > widths and image sizes. This is important to allow QGIS main canvas and
> > print composer output to look the same. QgsMapRender now sets this
> > scaling factor such that units are always mm - Similarly,
> > QgsRenderContext::mRasterScaleFactor allows for different raster
> > resolutions. The problem is that some devices work with pixels as units
> > (e.g. QImage, QPixmap, widgets), but others work with logical units (e.g.
> > QGraphicsView). To allow for a correct resolution, raster layers and
> > point marker images are oversampled by mRasterScaleFactor and scaled down
> > afterwards.
> >
> >  Regards,
> >  Marco
> >
> >  _______________________________________________
> >  Qgis-developer mailing list
> >  Qgis-developer@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> Marco



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tutey at o2.pl  Sun Apr 13 14:08:32 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Apr 13 14:08:48 2008
Subject: [Qgis-developer] "Fix problems with incorectly filled polygons"
	issues
Message-ID: <48024C20.1030203@o2.pl>

Hi,

I have a couple of questions and comments regarding "Fix problems with
incorectly filled polygons" (let's shorten it to FPWIFP to save key
strokes).

1. If FPWIFP is set, rendering is very slow *during digitizing*. Same
shapefile or PostGIS layer with FPWIFP set on, renders in 20 seconds,
whereas with FPWIFP unset about 0.3 s - over 66 times (!) less.

However, after quiting the digitizer, it is opposite. Same vector layer
renders 2 times longer, when FPWIFP is unset.

Are these features or defects?

2. I use QGIS through NX a lot. If I want to use measure area or length
tools, or to digitize PostGIS/OGR vectors, I have to set FPWIFP on, as
otherwise the geometries I draw on the screen are not visible or
garbled hwile drawing them. The attached FPWIFP_off_digitise1.png shows
how garbled is a polygon during digitising, and FPWIFP_off_digitise2.png
shows the same polygon when finished.

Ineterestingly, in GRASS Edit such artifacts never crop out, no matter
if FPWIFP is set or not. Why the difference? Could PostGIS/OGR editor
use the same method for rendering as GRASS Edit, so that display
artifacts in NX sessions would be avoided?

3. Using QGIS through NX I often experience sudden session shutdowns, if
FPWIFP is set, with specific vector layers, that have many polygons with
numerous vertices (eg. like raster to vector output). Same layers
display just fine when FPWIFP is off. More details in my other post [1].
I know this is not a QGIS issue but rather X or NX one, but I'm
wondering if described NX shutdowns could be prevented by changing
something in QGIS rendering code?

The analysis on [2] suggests that the problem might crop out when QGIS
tries to render polygons which are smaller than one pixel at the current
scale. Maybe QGIS could skip rendering them at all? Would skipping
features invisible at the given scale improve the rendering performance
in general too?

[1]http://www.nabble.com/forum/ViewPost.jtp?post=16433182&framed=y
[2]https://bugs.freedesktop.org/show_bug.cgi?id=15307#c2

Maciek

-------------- next part --------------
A non-text attachment was scrubbed...
Name: FPWIFP_off_digitise1.png
Type: image/png
Size: 1858 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080413/4dde8ca1/FPWIFP_off_digitise1.png
-------------- next part --------------
A non-text attachment was scrubbed...
Name: FPWIFP_off_digitise2.png
Type: image/png
Size: 2629 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080413/4dde8ca1/FPWIFP_off_digitise2.png
From oleg at crista.uni-wuppertal.de  Sun Apr 13 14:41:23 2008
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Sun Apr 13 14:33:47 2008
Subject: [Qgis-developer] Re: [Qgis-user] Building image pyramids -> qgis
	crashing
In-Reply-To: <480217D5.4070905@o2.pl>
References: <47B5D288.1A1A.0026.0@twdb.state.tx.us>
	<200804121811.01987.oleg@crista.uni-wuppertal.de>
	<480217D5.4070905@o2.pl>
Message-ID: <200804132041.23810.oleg@crista.uni-wuppertal.de>

Am Sonntag 13 April 2008 16:25:25 schrieb Maciej Sieczka:
> >
> >   i have understood  Frank's answer on the grass mailing list
> >   as 'this libtiff bug is well known and will not be fixed'.
>
> I could not find the phrase in GRASS ML archives. Can you post a link?
>
"There isn't much I can do about this without spending a
huge effort to have libtiff keep track of all unused space in the file
and manage it on the fly.
So I'm basically not planning to spend any more time on it, and will
likely ignore questions about the topic."

http://lists.osgeo.org/pipermail/grass-dev/2008-March/036524.html

>
> Can you provide an example TIFF that crashes QGIS while building pyramids?
>
I'd look for some free or autogenerated image.

 Oleg.
From tutey at o2.pl  Sun Apr 13 14:53:11 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Apr 13 14:53:19 2008
Subject: [Qgis-developer] Re: [Qgis-user] Building image pyramids -> qgis
	crashing
In-Reply-To: <200804132041.23810.oleg@crista.uni-wuppertal.de>
References: <47B5D288.1A1A.0026.0@twdb.state.tx.us>
	<200804121811.01987.oleg@crista.uni-wuppertal.de>
	<480217D5.4070905@o2.pl>
	<200804132041.23810.oleg@crista.uni-wuppertal.de>
Message-ID: <48025697.3060603@o2.pl>

Oleg Gusev pisze:

> "There isn't much I can do about this without spending a
> huge effort to have libtiff keep track of all unused space in the file
> and manage it on the fly.
> So I'm basically not planning to spend any more time on it, and will
> likely ignore questions about the topic."
> 
> http://lists.osgeo.org/pipermail/grass-dev/2008-March/036524.html

Here Frank talks about gdalwarp and "-co COMPRESS" interaction issues, 
leading to compression under-performance. How does it relate to QGIS 
crashing when GDAL function for creating overviews is called, as 
described in Trac [1]?

>> Can you provide an example TIFF that crashes QGIS while building pyramids?

> I'd look for some free or autogenerated image.

Great. Please post or link it in Trac [1].

[1]https://trac.osgeo.org/qgis/ticket/605
From oleg at crista.uni-wuppertal.de  Sun Apr 13 15:12:58 2008
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Sun Apr 13 15:05:26 2008
Subject: [Qgis-developer] Re: [Qgis-user] Building image pyramids -> qgis
	crashing
In-Reply-To: <48025697.3060603@o2.pl>
References: <47B5D288.1A1A.0026.0@twdb.state.tx.us>
	<200804132041.23810.oleg@crista.uni-wuppertal.de>
	<48025697.3060603@o2.pl>
Message-ID: <200804132112.59333.oleg@crista.uni-wuppertal.de>

Am Sonntag 13 April 2008 20:53:11 schrieb Maciej Sieczka:
>
> Here Frank talks about gdalwarp and "-co COMPRESS" interaction issues,
> leading to compression under-performance. How does it relate to QGIS
> crashing when GDAL function for creating overviews is called, as
> described in Trac [1]?
>
"under-performance" is a real under-statement here. gdalwarp (and 
gdaladdo) often segfault when used with "-co COMPRESS" option.
Both programs use libtiff to write compressed data into an existing
tiff file, so they fail at the same place.

 Oleg.
From warmerdam at pobox.com  Sun Apr 13 15:16:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Apr 13 15:17:15 2008
Subject: [Qgis-developer] Re: [Qgis-user] Building image pyramids -> qgis
	crashing
In-Reply-To: <200804132112.59333.oleg@crista.uni-wuppertal.de>
References: <47B5D288.1A1A.0026.0@twdb.state.tx.us>
	<200804132041.23810.oleg@crista.uni-wuppertal.de>
	<48025697.3060603@o2.pl>
	<200804132112.59333.oleg@crista.uni-wuppertal.de>
Message-ID: <48025C23.2090904@pobox.com>

Oleg Gusev wrote:
> Am Sonntag 13 April 2008 20:53:11 schrieb Maciej Sieczka:
>> Here Frank talks about gdalwarp and "-co COMPRESS" interaction issues,
>> leading to compression under-performance. How does it relate to QGIS
>> crashing when GDAL function for creating overviews is called, as
>> described in Trac [1]?
>>
> "under-performance" is a real under-statement here. gdalwarp (and 
> gdaladdo) often segfault when used with "-co COMPRESS" option.
> Both programs use libtiff to write compressed data into an existing
> tiff file, so they fail at the same place.

Oleg,

I am interested in bug reports on GDAL 1.5.1 with libtiff 3.9 CVS head
or libtiff 4 CVS head crashing when creating compressed overviews.

There are known to be problems with older versions, but I believe the current
release GDAL using the internal libtiff (or the cvs head of the 3.9 or 4
branches) run error free.

If you can't assure that a sufficiently recent libtiff will be used, I
would strongly advise against building compressed overviews.  In fact,
I'm generally not super keen on them.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From marco.hugentobler at karto.baug.ethz.ch  Sun Apr 13 15:52:58 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Sun Apr 13 15:53:03 2008
Subject: AW: [Qgis-developer] "Fix problems with incorectly filled
	polygons"issues
References: <48024C20.1030203@o2.pl>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF820@EX6.d.ethz.ch>

I think the thing that brings your performance down is transparency. Editing markers and measuring rubber bands both use transparency (and GRASS edits don't). 
FPWIPF uses QPixmap to render (and is rendered on the X-server). If FPWIPF is disabled, QImage is used which afaik is pure software rendering.


Regards,
Marco





-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Maciej Sieczka
Gesendet: So 13.04.2008 20:08
An: qgis-developer@lists.osgeo.org
Cc: qgis-user@lists.osgeo.org
Betreff: [Qgis-developer] "Fix problems with incorectly filled polygons"issues
 
Hi,

I have a couple of questions and comments regarding "Fix problems with
incorectly filled polygons" (let's shorten it to FPWIFP to save key
strokes).

1. If FPWIFP is set, rendering is very slow *during digitizing*. Same
shapefile or PostGIS layer with FPWIFP set on, renders in 20 seconds,
whereas with FPWIFP unset about 0.3 s - over 66 times (!) less.

However, after quiting the digitizer, it is opposite. Same vector layer
renders 2 times longer, when FPWIFP is unset.

Are these features or defects?

2. I use QGIS through NX a lot. If I want to use measure area or length
tools, or to digitize PostGIS/OGR vectors, I have to set FPWIFP on, as
otherwise the geometries I draw on the screen are not visible or
garbled hwile drawing them. The attached FPWIFP_off_digitise1.png shows
how garbled is a polygon during digitising, and FPWIFP_off_digitise2.png
shows the same polygon when finished.

Ineterestingly, in GRASS Edit such artifacts never crop out, no matter
if FPWIFP is set or not. Why the difference? Could PostGIS/OGR editor
use the same method for rendering as GRASS Edit, so that display
artifacts in NX sessions would be avoided?

3. Using QGIS through NX I often experience sudden session shutdowns, if
FPWIFP is set, with specific vector layers, that have many polygons with
numerous vertices (eg. like raster to vector output). Same layers
display just fine when FPWIFP is off. More details in my other post [1].
I know this is not a QGIS issue but rather X or NX one, but I'm
wondering if described NX shutdowns could be prevented by changing
something in QGIS rendering code?

The analysis on [2] suggests that the problem might crop out when QGIS
tries to render polygons which are smaller than one pixel at the current
scale. Maybe QGIS could skip rendering them at all? Would skipping
features invisible at the given scale improve the rendering performance
in general too?

[1]http://www.nabble.com/forum/ViewPost.jtp?post=16433182&framed=y
[2]https://bugs.freedesktop.org/show_bug.cgi?id=15307#c2

Maciek


From tisham at apogee.com.au  Sun Apr 13 20:12:30 2008
From: tisham at apogee.com.au (Tisham Dhar)
Date: Sun Apr 13 20:12:46 2008
Subject: [Qgis-developer] Windows installer[Scanned]
References: <F9EB1409988C40A99ACC1A59EF5AD7A1@ApogeeImaging.local>
	<7FE299E133F3104AA71E94D1850057891A4BD4@APOGEESRV.ApogeeImaging.local>
	<0ED4ACD6C37E4CB1A6ED19B61E3ABFDF@ApogeeImaging.local>
Message-ID: <7FE299E133F3104AA71E94D1850057891A4BD5@APOGEESRV.ApogeeImaging.local>

Hi Marco,

Problems 1 at a time:

1: Including needed Python modules - Only PyQt4 and Sip are absolutely necessary and need to be exactly the same as the ones qgis is built against otherwise qgis will crash on startup, even if there are already installed versions Qgis will still crash. What I do is copy them to the %PACKAGE_DIR%\pydep folder (which I made in the CMake install location for this purpose) and include using 

testsip:
  IfFileExists $9\Lib\site-packages\sip.pyd sipok sipng
sipok:
  goto testpyqt4

sipng:
  #copy over included sip
  SetOutPath "$INSTDIR\python"
  File "C:\Program Files\qgis${PRODUCT_VERSION_NUMBER}\pydep\sipconfig.py"
  File "C:\Program Files\qgis${PRODUCT_VERSION_NUMBER}\pydep\sip.pyd"
  goto pyqtng

testpyqt4:
  IfFileExists $9\Lib\site-packages\PyQt4 pyqtok pyqtng

pyqtng:
  MessageBox MB_OK "PyQt4 is not installed.$\nInstalling Bundled PyQt4"
#copy over bundled pyqt4 instead of skipping
  goto installpyqt4
pyqtok:
  MessageBox MB_OK "PyQt4 located.$\nNote: Overwriting with included copy."

installpyqt4:
  SetOutPath "$INSTDIR\python"
  File /r    "C:\Program Files\qgis${PRODUCT_VERSION_NUMBER}\pydep\PyQt4"
pymacroend:

Details here: http://svn.qgis.org/WebSVN/filedetails.php?repname=Quantum%20GIS&path=%2Fbranches%2FRelease-0.9.2rc1%2Fwin_build%2Fpython.nsh&rev=0&sc=0

Not everything in python is needed. Only python25.dll and the 2bindings mentioned.

2: Mapserver export plugin as I remember had a Cmake error which was not copying it to python\plugins in windows but to "share", the Cmake bug needs to be fixed or you can manually copy as I have done in the past.

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road 

 Lobethal SA 5241 

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au> 

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially privileged. It is intended solely for the addressee. Access to this e-mail by anyone else is unauthorised. If you are not the  intendedrecipient, any disclosure, copying, distribution or action taken or omitted to be taken in reliance on it, is prohibited and may be  unlawful."

-----Original Message-----
From: Marco Pasetti [mailto:marco.pasetti@alice.it] 
Sent: Friday, 11 April 2008 8:01 AM
To: Tisham Dhar
Subject: R: [Qgis-developer] Windows installer[Scanned]

Hi Tisham,

I still have some problem with python plugins.
The problem is not about the installer, but about the package.
If I laucnch QGIS on my PC all work fine, python plugins included.... but
there's the python path key registry value set to
C:\DevTools\Python\Lib;C:\DevTools\Python\DLLs;C:\DevTools\Python\Lib\lib-tk
that help qgis to find the needed files.

But if I want to prepare a self-contained package I need to know what files
I need to include from python folder, and where to put them.

Since now I made as follows:

mkdir %PACKAGE_DIR%\python\PyQt4

copy C:\DevTools\Python\Lib\site-packages\sip.pyd %PACKAGE_DIR%\python
copy C:\DevTools\Python\Lib\site-packages\sipconfig.py %PACKAGE_DIR%\python

xcopy C:\DevTools\Python\sip\PyQt4 %PACKAGE_DIR%\python\PyQt4 /S/V/F
xcopy C:\DevTools\Python\Lib\site-packages\PyQt4 %PACKAGE_DIR%\python\PyQt4
/S/V/F

But I don't have mapserver export and plugin installer

If I also add:
copy C:\DevTools\Python\Lib\* %PACKAGE_DIR%\python

It happens as follow: when I launch qgis the following error appears on
loading:

[...] ImportError: No module named xml.dom

then (after pressing "close" on the error message), qgis opens correctly and
I have the plugin installer item in the plugin menu (but not mapserver
export). The plugin installer opens, but when I press "Get List" I have the
following error: [...] ImportError: No module named _socket

Could you help me, please?

Thank you,

Marco



-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tisham Dhar
Inviato: gioved? 10 aprile 2008 4.14
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] Windows installer

Hi Marco,

Python is conflicting with my pre-installed python, can you check what I
have in the release branch, I use pre-built PyQt and put that within the
Qgis folder instead of using system PyQt. How exactly are you solvin the
python issues. Can you drop by in IRC sometime to discuss

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road 

 Lobethal SA 5241 

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au> 

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially
privileged. It is intended solely for the addressee. Access to this e-mail
by anyone else is unauthorised. If you are not the intendedrecipient, any
disclosure, copying, distribution or action taken or omitted to be taken in
reliance on it, is prohibited and may be unlawful."


_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer




From tutey at o2.pl  Mon Apr 14 01:56:05 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Apr 14 01:56:09 2008
Subject: AW: [Qgis-developer] "Fix problems with incorectly filled
	polygons"issues
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF820@EX6.d.ethz.ch>
References: <48024C20.1030203@o2.pl>
	<04DA676AA276F045B32D0F95783D78440AF820@EX6.d.ethz.ch>
Message-ID: <4802F1F5.20706@o2.pl>

Hugentobler Marco pisze:
> I think the thing that brings your performance down is transparency.
> Editing markers and measuring rubber bands both use transparency (and
> GRASS edits don't).

> FPWIPF uses QPixmap to render (and is rendered on
> the X-server). If FPWIPF is disabled, QImage is used which afaik is
> pure software rendering.

So should it be faster or slower with with FPWIPF enabled?

Currently, with FPWIPF *enabled*, during digitizing rendering is 66 
times worse, whereas outside digitising it is 2-3 times better. This 
seems inconsistent.

I have the same behaviour on two machines - x86 Debian testing with ATI 
X700 PCIE, using the open source radeon driver, and amd64 Ubuntu Gutsy 
with GeForce 6200 LE PCIE, using proprietary nvidia driver. Hardware 
acceleration and direct rendering work OK on both machines.

Maciek
From rdmailings at duif.net  Mon Apr 14 02:13:38 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon Apr 14 02:13:46 2008
Subject: [Qgis-developer] Re: EPSG:2180 not recognised,	although present
	in srs.db
In-Reply-To: <4800D5F6.3050909@o2.pl>
References: <47F69506.3010207@o2.pl>	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FB4CF6.5060608@o2.pl>	<1207681886.6087.25.camel@goyo-laptop>	<47FBDD49.1050302@o2.pl>	<000d01c899cd$20e3e210$0201a8c0@notebookmarco>	<47FC7178.6030601@o2.pl>
	<47FD029B.6010501@o2.pl> <47FF8049.3050201@duif.net>
	<4800D5F6.3050909@o2.pl>
Message-ID: <4802F612.6000509@duif.net>

Maciej Sieczka wrote:
> Richard Duivenvoorde pisze:
> 
>> Maciej, did you file your zero-ending scalefactor bug/comment in trac? 
>> Because it would be nice if this could be tackled/discussed at the 
>> same time.... Feel free to add it to the srs.db ticket.
> 
> Added now:
> https://trac.osgeo.org/qgis/ticket/103
> 
> Best
> Maciek


Hi Maciej, I think you mean this one :-)

https://trac.osgeo.org/qgis/ticket/1037

Regards,
Richard

From Horst.Duester at bd.so.ch  Mon Apr 14 03:03:26 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Mon Apr 14 03:03:32 2008
Subject: AW: Re: [Qgis-developer] Geoprocessing error
Message-ID: <H00002eb0294d8f1.1208156605.srsofaioi6145.ktso.ch@MHS>

Carlos

Thank you for your suggestions. 

The error message you send to me leeds to an encoding problem I believe.
Please send the layer name you used to me perhaps you use some special
characters?

Regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Carlos D?vila [mailto:cdavilam@jemila.jazztel.es]
Gesendet am: Freitag, 11. April 2008 19:57
An: qgis-developer
Betreff: Re: [Qgis-developer] Geoprocessing error

John C. Tull escribi?:
> Horst,
>
> I tried performing a union of two vector files with multiple polygons,
> and received the error below. This was using the 0.35 version of the
> plugin with William Kyngesburye's RC1 binary of qgis (I still cannot
> get the plugin to work for me in my development builds). The union
> worked in ubuntu with version 0.35 of the plugin and latest svn.
>
>
> An error has occured while executing Python code:
>
> Traceback (most recent call last):
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 242, in geoprocessing
>  self.union(myLayerA, myLayerB, myPath, myBool)
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 266, in union
>  resultList = self.makeUnion(vlayerA, vlayerB)
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 832, in makeUnion
>  unionResult = self.makeIntersection(vlayerA, vlayerB)
> File
> "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
> line 998, in makeIntersection
>  fet.setAttributeMap(mAttributes)
> AttributeError: setAttributeMap 
I'm getting a similar error with buffer or difference tools:
An error has occured while executing Python code:

Traceback (most recent call last):
 File "/C/Mis
documentos/.qgis//python/plugins/geoprocessing/geoprocessing.py", line
233, in geoprocessing
  self.buffering(myLayerA, myParam, myPath, myBool, mergeBool)
 File "/C/Mis
documentos/.qgis//python/plugins/geoprocessing/geoprocessing.py", line
448, in buffering
  vlayer = self.getVectorLayerByName(myLayer)
 File "/C/Mis
documentos/.qgis//python/plugins/geoprocessing/geoprocessing.py", line
516, in getVectorLayerByName
  vlayer = QgsVectorLayer(unicode(layer.source(),'latin1'),
unicode(myName,'latin1'), providerName)
UnboundLocalError: local variable 'providerName' referenced before
assignment

System is debian testing, qgis r8328, Qt 4.3.3 and plugin v0.35. I think
error can be related with the layers being in edition mode, but I can't
reproduce error in another computer (the only difference is Qt 4.3.4).
Before the error a dialog entitled "Meldung" appears with the message
"Kein Provider gefundel!" (Shouldn't it be translated?).

Apart from this issue, I would like to suggest a couple of things:
1) The plugin has a "Save as:" box where you select a directory to save
the new layer. As you don't select a name but a directory, wouldn't it
be better to say "Save to:"?
2) Could output layer name for buffers be input_layer_bufferX.shp
instead of bufferX?

Regards and thanks for so useful plugin.
Carlos
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080414/1376b0e1/attachment.html
From marco.pasetti at alice.it  Mon Apr 14 04:53:09 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Mon Apr 14 04:53:14 2008
Subject: [Qgis-developer] Sorry: mail replies delay...
Message-ID: <FBCMMO02ibJTV2WFIud00061be3@FBCMMO02.fbc.local>

Hi all,
 
I'm afraid for the delay, but I have tons of mails in my inbox, for both work and qgis. I'll reply to all, but I need some time... so, please, be patient.
Sorry again. Thanks,
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080414/d12688f4/attachment.html
From marco.pasetti at alice.it  Mon Apr 14 05:06:12 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Mon Apr 14 05:06:58 2008
Subject: R: [Qgis-developer] Windows installer
References: <F9EB1409988C40A99ACC1A59EF5AD7A1@ApogeeImaging.local>
	<7FE299E133F3104AA71E94D1850057891A4BD4@APOGEESRV.ApogeeImaging.local>
	<0ED4ACD6C37E4CB1A6ED19B61E3ABFDF@ApogeeImaging.local>
	<7FE299E133F3104AA71E94D1850057891A4BD5@APOGEESRV.ApogeeImaging.local>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4165@FBCMST06V02.fbc.local>

Hi Tisham,
 
>1: Including needed Python modules - Only PyQt4 and Sip are absolutely necessary and need to be exactly[...]
 
yes, this has been already solved, thanks. But there's another *issue*. Leo asked me to also make some plugins available, even if user has not python installed, and to do that I need to inlcude all the needed python files. At the moment I solved this reauest, but, probably, reading the last mail I received, the *issue* could be: "Do we really want to let users *without python* to use python plugins without the need of installing python itself?"
 
>2: Mapserver export plugin as I remember had a Cmake error which was not copying it to python\plugins in windows but to "share", the Cmake bug needs to be fixed or you can manually copy as I have done in the past.
 
I'll try. Thanks.
 
Marco

________________________________

Da: Tisham Dhar [mailto:tisham@apogee.com.au]
Inviato: lun 14/04/2008 2.12
A: marco.pasetti@alice.it
Cc: qgis-developer@lists.osgeo.org
Oggetto: RE: [Qgis-developer] Windows installer[Scanned]



Hi Marco,

Problems 1 at a time:

1: Including needed Python modules - Only PyQt4 and Sip are absolutely necessary and need to be exactly the same as the ones qgis is built against otherwise qgis will crash on startup, even if there are already installed versions Qgis will still crash. What I do is copy them to the %PACKAGE_DIR%\pydep folder (which I made in the CMake install location for this purpose) and include using

testsip:
  IfFileExists $9\Lib\site-packages\sip.pyd sipok sipng
sipok:
  goto testpyqt4

sipng:
  #copy over included sip
  SetOutPath "$INSTDIR\python"
  File "C:\Program Files\qgis${PRODUCT_VERSION_NUMBER}\pydep\sipconfig.py"
  File "C:\Program Files\qgis${PRODUCT_VERSION_NUMBER}\pydep\sip.pyd"
  goto pyqtng

testpyqt4:
  IfFileExists $9\Lib\site-packages\PyQt4 pyqtok pyqtng

pyqtng:
  MessageBox MB_OK "PyQt4 is not installed.$\nInstalling Bundled PyQt4"
#copy over bundled pyqt4 instead of skipping
  goto installpyqt4
pyqtok:
  MessageBox MB_OK "PyQt4 located.$\nNote: Overwriting with included copy."

installpyqt4:
  SetOutPath "$INSTDIR\python"
  File /r    "C:\Program Files\qgis${PRODUCT_VERSION_NUMBER}\pydep\PyQt4"
pymacroend:

Details here: http://svn.qgis.org/WebSVN/filedetails.php?repname=Quantum%20GIS&path=%2Fbranches%2FRelease-0.9.2rc1%2Fwin_build%2Fpython.nsh&rev=0&sc=0

Not everything in python is needed. Only python25.dll and the 2bindings mentioned.

2: Mapserver export plugin as I remember had a Cmake error which was not copying it to python\plugins in windows but to "share", the Cmake bug needs to be fixed or you can manually copy as I have done in the past.

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road

 Lobethal SA 5241

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au <http://www.apogee.com.au/> >

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially privileged. It is intended solely for the addressee. Access to this e-mail by anyone else is unauthorised. If you are not the  intendedrecipient, any disclosure, copying, distribution or action taken or omitted to be taken in reliance on it, is prohibited and may be  unlawful."

-----Original Message-----
From: Marco Pasetti [mailto:marco.pasetti@alice.it]
Sent: Friday, 11 April 2008 8:01 AM
To: Tisham Dhar
Subject: R: [Qgis-developer] Windows installer[Scanned]

Hi Tisham,

I still have some problem with python plugins.
The problem is not about the installer, but about the package.
If I laucnch QGIS on my PC all work fine, python plugins included.... but
there's the python path key registry value set to
C:\DevTools\Python\Lib;C:\DevTools\Python\DLLs;C:\DevTools\Python\Lib\lib-tk
that help qgis to find the needed files.

But if I want to prepare a self-contained package I need to know what files
I need to include from python folder, and where to put them.

Since now I made as follows:

mkdir %PACKAGE_DIR%\python\PyQt4

copy C:\DevTools\Python\Lib\site-packages\sip.pyd %PACKAGE_DIR%\python
copy C:\DevTools\Python\Lib\site-packages\sipconfig.py %PACKAGE_DIR%\python

xcopy C:\DevTools\Python\sip\PyQt4 %PACKAGE_DIR%\python\PyQt4 /S/V/F
xcopy C:\DevTools\Python\Lib\site-packages\PyQt4 %PACKAGE_DIR%\python\PyQt4
/S/V/F

But I don't have mapserver export and plugin installer

If I also add:
copy C:\DevTools\Python\Lib\* %PACKAGE_DIR%\python

It happens as follow: when I launch qgis the following error appears on
loading:

[...] ImportError: No module named xml.dom

then (after pressing "close" on the error message), qgis opens correctly and
I have the plugin installer item in the plugin menu (but not mapserver
export). The plugin installer opens, but when I press "Get List" I have the
following error: [...] ImportError: No module named _socket

Could you help me, please?

Thank you,

Marco



-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tisham Dhar
Inviato: gioved? 10 aprile 2008 4.14
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] Windows installer

Hi Marco,

Python is conflicting with my pre-installed python, can you check what I
have in the release branch, I use pre-built PyQt and put that within the
Qgis folder instead of using system PyQt. How exactly are you solvin the
python issues. Can you drop by in IRC sometime to discuss

Regards,

Tishampati Dhar

 Remote Sensing Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road

 Lobethal SA 5241

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au <http://www.apogee.com.au/> >

 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

"The information in this e-mail may be confidential and/or commercially
privileged. It is intended solely for the addressee. Access to this e-mail
by anyone else is unauthorised. If you are not the intendedrecipient, any
disclosure, copying, distribution or action taken or omitted to be taken in
reliance on it, is prohibited and may be unlawful."


_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer






-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080414/d57d5268/attachment-0001.html
From marco.pasetti at alice.it  Mon Apr 14 05:14:35 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Mon Apr 14 05:18:44 2008
Subject: R: [Qgis-developer] Windows Installer
References: <20080412153247.287DDE01386@lists.osgeo.org>
	<20080413132357.3eank2dy3o4kks4g@webmail.apogee.com.au>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4167@FBCMST06V02.fbc.local>

Hi Tisham,
 
>Thanks for revamping the installer.
 
You're welcome
 
>Which Python modules did you include ?
 
I think I already replied that in the last mail.
 
>Could you please paste the nsi 
scripts somewhere, or are they in SVN already
 
When I'll reach a *definitive* NSIS version I'll send someone who has a write SVN access to do the job
 
Regards,
 
Marco
 
 

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di tisham@apogee.com.au
Inviato: dom 13/04/2008 5.23
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] Windows Installer



Hi Marco,

Thanks for revamping the installer. Please run a depends check using 
Dependency Walker to avoid problems like Gary is having.
http://www.dependencywalker.com/
Which Python modules did you include ? I was including PyQt4, SIP etc 
in a rather round about way.

May be we could include the Python bindings for some other popular 
packages like Gdal as well. I think FrankW wanted it at one point.

If you find a cleaner way that's great. Could you please paste the nsi 
scripts somewhere, or are they in SVN already. I only have the rc1 
branch checked out, is there going to be a RC2 branch.

Regards,

Tisham.

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.



_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080414/cc86c663/attachment.html
From marco.pasetti at alice.it  Mon Apr 14 05:20:24 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Mon Apr 14 05:23:31 2008
Subject: R: [Qgis-developer] Windows Installer
References: <20080412153247.287DDE01386@lists.osgeo.org><20080413132357.3eank2dy3o4kks4g@webmail.apogee.com.au>
	<4801DCCE.70800@jemila.jazztel.es>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4168@FBCMST06V02.fbc.local>

Hi Carlos,
 
yes, GDAL (1.5.1) is obvioulsy installed; at the moment it is configured as follows:
GDAL is now configured for i686-pc-mingw32

  Installation directory:    	/usr/local
  C compiler:                	gcc -g -O2
  C++ compiler:              	g++ -g -O2

  LIBTOOL support:           	yes

  LIBZ support:              	internal
  GRASS support:             	grass57+
  CFITSIO support:           	no
  PCRaster support:          	internal
  NetCDF support:            	no
  LIBPNG support:            	internal
  LIBTIFF support:           	internal (BigTIFF=yes)
  LIBGEOTIFF support:        	internal
  LIBJPEG support:           	internal
  LIBGIF support:            	internal
  OGDI support:              	no
  HDF4 support:              	no
  HDF5 support:              	no
  Kakadu support:            	no
  JasPer support:            	no
  ECW support:               	no
  MrSID support:             	no
  GRIB support:              	no
  cURL support (wms/wcs/...):	no
  PostgreSQL support:        	yes
  MySQL support:             	no
  Xerces-C support:          	no
  Expat support:             	yes
  ODBC support:              	no
  PGeo support:              	no
  OCI support:               	no
  SDE support:               	no
  DODS support:              	no
  SQLite support:            	yes
  DWGdirect support          	no
  PANORAMA GIS support:      	no
  INFORMIX DataBlade support:	no
  GEOS support:              	yes


  Old-gen python          	no
  SWIG Bindings:          	no

  Statically link PROJ.4:    	no
  enable OGR building:       	yes
  enable pthread support:    	no
  hide internal symbols:     	no
BTW, I think that ECW support could be included only in next releases, along with other requestes supports I'm still *collecting*.
Regards,
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di Carlos D?vila
Inviato: dom 13/04/2008 12.13
A: tisham@apogee.com.au
Cc: qgis-developer@lists.osgeo.org
Oggetto: Re: [Qgis-developer] Windows Installer



tisham@apogee.com.au escribi?:
> Hi Marco,
>
> Thanks for revamping the installer. Please run a depends check using
> Dependency Walker to avoid problems like Gary is having.
> http://www.dependencywalker.com/
> Which Python modules did you include ? I was including PyQt4, SIP etc
> in a rather round about way.
>
> May be we could include the Python bindings for some other popular
> packages like Gdal as well. I think FrankW wanted it at one point.
In case gdal is included in installer, could it include ecw support? It
would really help me spread the use of qgis to some of my windows-user
colleagues.
Greetings
Carlos
>
> If you find a cleaner way that's great. Could you please paste the nsi
> scripts somewhere, or are they in SVN already. I only have the rc1
> branch checked out, is there going to be a RC2 branch.
>
> Regards,
>
> Tisham.
>
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080414/63dcf9ec/attachment.html
From marco.pasetti at alice.it  Mon Apr 14 05:34:01 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Mon Apr 14 05:35:07 2008
Subject: R: R: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test
	Installer
References: <001201c89c18$f1baabb0$0201a8c0@notebookmarco>
	<38566ABE-F05F-4668-92EC-DD5C79CBE332@mrcc.com>
	<009b01c89cbe$ceabe430$0201a8c0@notebookmarco>
	<C3CA02A5-D14F-4395-8137-3514EB6F5364@mrcc.com>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB416A@FBCMST06V02.fbc.local>

Hi Gary,
 
I made a more exhaustive check: MSVCR71.dll belongs to Microsoft .NET Framework 1.1, but I really don't know why it is *requested* by QGIS!
BTW, do you think that we could make a *check* during install procedure and eventually copy it in %systemroot%\System32 or in qgis install root?
Can we redistribute it?
 
Marco

________________________________

Da: Gary Sherman per conto di Gary Sherman
Inviato: sab 12/04/2008 20.04
A: marco.pasetti@alice.it
Cc: 'QGIS Developer Mailing List'
Oggetto: Re: R: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test Installer



On Apr 12, 2008, at 9:01 AM, Marco Pasetti wrote:
> Hi Gary,
>
> AFAIK, MSVCR71.dll should be installed on every XP SP2. Did you 
> enabled
> updates?
>
It's SP2, fully updated
> Marco
>
> -----Messaggio originale-----
> Da: Gary Sherman [mailto:shermange@gmail.com] Per conto di Gary 
> Sherman
> Inviato: sabato 12 aprile 2008 17.00
> A: Marco Pasetti
> Cc: QGIS Developer Mailing List
> Oggetto: Re: [Qgis-developer] Quantum GIS 0.9.2 rev8336 Windows Test
> Installer
>
> On Apr 11, 2008, at 1:13 PM, Marco Pasetti wrote:
>> Hi all,
>>
>> I made another windows pre-release build for testings:
>> Please, test it, and report bugs and/or suggestions.
>
> It doesn't start on my clean XP test install:
> "MSVCR71.dll is missing"
>
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com <http://mrcc.com/> 
>   *Geospatial Hosting
>   *Web Site Hosting
> -Desktop GIS Book:
>   *http://desktopgisbook.com <http://desktopgisbook.com/> 
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com <http://mrcc.com/> 
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com <http://desktopgisbook.com/> 
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-








-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080414/469606f2/attachment.html
From tim at linfiniti.com  Mon Apr 14 08:38:23 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Apr 14 08:38:26 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>

Hi Richard / All

Gary and I originally loaded the srs.db using the postgis srs table.
The idea was to try to synchronise regularly against postgis srs table
(hence the fact that we have a number of different identifiers - srid
(pg), epsg id, srs_id (qgis)). Since you are now the maintainer of the
srs.db I welcome any initiatives you take (including vacuuming the db
as mentioned above) and assure you you wont be treading on anyones
toes :-)

One thing to note, srs_id's >  100000 are reserved for user defined
projections - as specified in qgis/src/core/qgis.h:

131   /** Magick number that determins whether a projection srsid is a
system (srs.db)
132    *  or user (~/.qgis.qgis.db) defined projection. */
133   const int USER_PROJECTION_START_ID=100000;

Regards

Tim


2008/4/13, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Richard,
>
>  Thanks for providing a new version of srs.db . It is already commited to svn.
>
>  I think the shrinking filesize is because the database reorganises storage
>  after 'database cleanup'.
>
>
>  > There is a plan to use FrankW scripts for generating the
>  > parameters/epsg-list in the same way as is done for proj, postgis etc
>  > (https://trac.osgeo.org/qgis/ticket/1035).
>  > I think it would be fine to line up with those tools, but only if we do
>  > not offend somebody/maintainer who is normally building srs.db (or was
>  > it generated once by hand)?
>
>
> Yes, it would be good to automate the generation. Maybe Gary or Tim know how
>  the db was originally generated?
>
>  cheers,
>  Marco
>
>  Am Samstag 12 April 2008 15:23:37 schrieb Richard Duivenvoorde:
>
> > Hi Marco,
>  > here a new srs.db for commiting/testing:
>  > http://www.duif.net/srs.db
>  >
>  > I added the following EPSG's:
>  > 3328-3335
>  > 3120
>  > 3066
>  > in the db using http://sqliteadmin.orbmu2k.de/
>  > this tool also has the possibility to do a 'database cleanup'. But after
>  > doing that the srs.db shrunk from 3.3 Mb to 526 kb ??? Do people think
>  > that's ok?
>  > It's still working for me, but can other people please test (especially
>  > the new additions?
>  >
>  > There is a plan to use FrankW scripts for generating the
>  > parameters/epsg-list in the same way as is done for proj, postgis etc
>  > (https://trac.osgeo.org/qgis/ticket/1035).
>  > I think it would be fine to line up with those tools, but only if we do
>  > not offend somebody/maintainer who is normally building srs.db (or was
>  > it generated once by hand)?
>  >
>  > Richard Duivenvoorde
>
>
>
>
> --
>  Dr. Marco Hugentobler
>  Institute of Cartography
>  ETH Zurich
>  Technical Advisor QGIS Project Steering Committee
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cdavilam at jemila.jazztel.es  Mon Apr 14 10:36:42 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Mon Apr 14 10:36:27 2008
Subject: R: [Qgis-developer] Windows Installer
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D505BB4168@FBCMST06V02.fbc.local>
References: <20080412153247.287DDE01386@lists.osgeo.org><20080413132357.3eank2dy3o4kks4g@webmail.apogee.com.au>
	<4801DCCE.70800@jemila.jazztel.es>
	<FA8A693893F4CE4283B4473C79FA47D505BB4168@FBCMST06V02.fbc.local>
Message-ID: <48036BFA.5020204@jemila.jazztel.es>

marco.pasetti@alice.it escribi?:
> Hi Carlos,
>  
> yes, GDAL (1.5.1) is obvioulsy installed; at the moment it is
> configured as follows:
> |GDAL is now configured for i686-pc-mingw32
>
>   Installation directory:    	/usr/local
>   C compiler:                	gcc -g -O2
>   C++ compiler:              	g++ -g -O2
>
>   LIBTOOL support:           	yes
>
>   LIBZ support:              	internal
>   GRASS support:             	grass57+
>   CFITSIO support:           	no
>   PCRaster support:          	internal
>   NetCDF support:            	no
>   LIBPNG support:            	internal
>   LIBTIFF support:           	internal (BigTIFF=yes)
>   LIBGEOTIFF support:        	internal
>   LIBJPEG support:           	internal
>   LIBGIF support:            	internal
>   OGDI support:              	no
>   HDF4 support:              	no
>   HDF5 support:              	no
>   Kakadu support:            	no
>   JasPer support:            	no
>   ECW support:               	no
>   MrSID support:             	no
>   GRIB support:              	no
>   cURL support (wms/wcs/...):	no
>   PostgreSQL support:        	yes
>   MySQL support:             	no
>   Xerces-C support:          	no
>   Expat support:             	yes
>   ODBC support:              	no
>   PGeo support:              	no
>   OCI support:               	no
>   SDE support:               	no
>   DODS support:              	no
>   SQLite support:            	yes
>   DWGdirect support          	no
>   PANORAMA GIS support:      	no
>   INFORMIX DataBlade support:	no
>   GEOS support:              	yes
>
>
>   Old-gen python          	no
>   SWIG Bindings:          	no
>
>   Statically link PROJ.4:    	no
>   enable OGR building:       	yes
>   enable pthread support:    	no
>   hide internal symbols:     	no|
> |BTW, I think that ECW support could be included only in next releases, along with other requestes supports I'm still *collecting*.|
It will be welcome whenever you can.
> |Regards,|
> |Marco|
>
> ------------------------------------------------------------------------
> *Da:* qgis-developer-bounces@lists.osgeo.org per conto di Carlos D?vila
> *Inviato:* dom 13/04/2008 12.13
> *A:* tisham@apogee.com.au
> *Cc:* qgis-developer@lists.osgeo.org
> *Oggetto:* Re: [Qgis-developer] Windows Installer
>
> tisham@apogee.com.au escribi?:
> > Hi Marco,
> >
> > Thanks for revamping the installer. Please run a depends check using
> > Dependency Walker to avoid problems like Gary is having.
> > http://www.dependencywalker.com/
> > Which Python modules did you include ? I was including PyQt4, SIP etc
> > in a rather round about way.
> >
> > May be we could include the Python bindings for some other popular
> > packages like Gdal as well. I think FrankW wanted it at one point.
> In case gdal is included in installer, could it include ecw support? It
> would really help me spread the use of qgis to some of my windows-user
> colleagues.
> Greetings
> Carlos
> >
> > If you find a cleaner way that's great. Could you please paste the nsi
> > scripts somewhere, or are they in SVN already. I only have the rc1
> > branch checked out, is there going to be a RC2 branch.
> >
> > Regards,
> >
> > Tisham.
> >
> > ----------------------------------------------------------------
> > This message was sent using IMP, the Internet Messaging Program.
> >
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From palmerj at xtra.co.nz  Mon Apr 14 15:57:36 2008
From: palmerj at xtra.co.nz (palmerj)
Date: Mon Apr 14 16:12:33 2008
Subject: R: [Qgis-developer] Windows Installer
In-Reply-To: <20080414123828.CA8EFE0169B@lists.osgeo.org>
References: <20080414123828.CA8EFE0169B@lists.osgeo.org>
Message-ID: <000601c89e69$c9a55730$0a01a8c0@creeping>


Hi Marco,

Now that QGIS has been moved over to the GDAL/OGR C-API why not just use the
standard win32 binaries from the OSGeo website: 

http://download.osgeo.org/gdal/win32/1.5/

Those binaries also have plug-ins built for ECW, MRSID, PG, OCI and SDE.

Cheers,
Jeremy

-----Original Message-----

BTW, I think that ECW support could be included only in next releases, along
with other requestes supports I'm still *collecting*.
Regards,
Marco

From marco.pasetti at alice.it  Mon Apr 14 16:26:16 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Mon Apr 14 16:26:28 2008
Subject: R: [Qgis-developer] Windows Installer
In-Reply-To: <000601c89e69$c9a55730$0a01a8c0@creeping>
References: <20080414123828.CA8EFE0169B@lists.osgeo.org>
	<000601c89e69$c9a55730$0a01a8c0@creeping>
Message-ID: <01d401c89e6d$caee0700$0201a8c0@notebookmarco>

Hi Jeremy,

Do you have a list of all supports for those binaries?
Adding supports is not so hard, using prebuilt binaries is so easy... But
having a complete control over binaries building all by youself (and so
controlling all the related parts, and update each library whenever you
want) is, IMHO, much powerful!
BTW, if we could use *prebuilt* bins that fit our *wishes*... Yes, it would
be fine to use them!
QGIS needs GDAL with latest GRASS support... and, sincerely, I really don't
know if it actually available.

Marco 

-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di palmerj
Inviato: luned? 14 aprile 2008 21.58
A: qgis-developer@lists.osgeo.org
Oggetto: R: [Qgis-developer] Windows Installer


Hi Marco,

Now that QGIS has been moved over to the GDAL/OGR C-API why not just use the
standard win32 binaries from the OSGeo website: 

http://download.osgeo.org/gdal/win32/1.5/

Those binaries also have plug-ins built for ECW, MRSID, PG, OCI and SDE.

Cheers,
Jeremy

-----Original Message-----

BTW, I think that ECW support could be included only in next releases, along
with other requestes supports I'm still *collecting*.
Regards,
Marco

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From palmerj at xtra.co.nz  Tue Apr 15 03:18:34 2008
From: palmerj at xtra.co.nz (palmerj)
Date: Tue Apr 15 03:16:55 2008
Subject: [Qgis-developer] Windows Installer
In-Reply-To: <01d401c89e6d$caee0700$0201a8c0@notebookmarco>
References: <20080414123828.CA8EFE0169B@lists.osgeo.org>
	<000601c89e69$c9a55730$0a01a8c0@creeping>
	<01d401c89e6d$caee0700$0201a8c0@notebookmarco>
Message-ID: <000001c89ec8$ead19270$0a01a8c0@creeping>

Hi Marco,

Good point. I don't think anyone has built a Grass plug-in for those OSGeo
win32 binaries.

Still it would still be nice idea to leverage off the OGSGeo software stack,
so libraries are fully featured and consistent.

Maybe QGIS could be made part of the http://wiki.osgeo.org/wiki/OSGeo4W
software distribution. OSGeo4W could be the reason why FrankW pushed for the
GDAL/OGR C-API move in the first place.

Just for the record here are the supported formats for the gdal and ogr
win32 binaries - no grass :-(

D:\Downloads\gdal\gdalwin32-1.5\bin>gdalinfo --formats
Supported Formats:
  ECW (rw): ERMapper Compressed Wavelets
  VRT (rw+): Virtual Raster
  GTiff (rw+): GeoTIFF
  NITF (rw+): National Imagery Transmission Format
  RPFTOC (ro): Raster Product Format TOC format
  HFA (rw+): Erdas Imagine Images (.img)
  SAR_CEOS (ro): CEOS SAR Image
  CEOS (ro): CEOS Image
  JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
  GFF (ro): Ground-based SAR Applications Testbed File Format (.gff)
  ELAS (rw+): ELAS
  AIG (ro): Arc/Info Binary Grid
  AAIGrid (rw): Arc/Info ASCII Grid
  SDTS (ro): SDTS Raster
  DTED (rw): DTED Elevation Raster
  PNG (rw): Portable Network Graphics
  JPEG (rw): JPEG JFIF
  MEM (rw+): In Memory Raster
  JDEM (ro): Japanese DEM (.mem)
  GIF (rw): Graphics Interchange Format (.gif)
  ESAT (ro): Envisat Image Format
  BSB (ro): Maptech BSB Nautical Charts
  XPM (rw): X11 PixMap Format
  BMP (rw+): MS Windows Device Independent Bitmap
  DIMAP (ro): SPOT DIMAP
  AirSAR (ro): AirSAR Polarimetric Image
  RS2 (ro): RadarSat 2 XML Product
  PCIDSK (rw+): PCIDSK Database File
  PCRaster (rw): PCRaster Raster File
  ILWIS (rw+): ILWIS Raster Map
  SGI (ro): SGI Image File Format 1.0
  SRTMHGT (rw): SRTMHGT File Format
  Leveller (rw+): Leveller heightfield
  Terragen (rw+): Terragen heightfield
  PNM (rw+): Portable Pixmap Format (netpbm)
  DOQ1 (ro): USGS DOQ (Old Style)
  DOQ2 (ro): USGS DOQ (New Style)
  ENVI (rw+): ENVI .hdr Labelled
  EHdr (rw+): ESRI .hdr Labelled
  GenBin (ro): Generic Binary (.hdr Labelled)
  PAux (rw+): PCI .aux Labelled
  MFF (rw+): Vexcel MFF Raster
  MFF2 (rw+): Vexcel MFF2 (HKV) Raster
  FujiBAS (ro): Fuji BAS Scanner Image
  GSC (ro): GSC Geogrid
  FAST (ro): EOSAT FAST Format
  BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
  LAN (ro): Erdas .LAN/.GIS
  CPG (ro): Convair PolGASP
  IDA (rw+): Image Data and Analysis
  NDF (ro): NLAPS Data Format
  DIPEx (ro): DIPEx
  ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
  ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
  PDS (ro): NASA Planetary Data System
  ERS (rw+): ERMapper .ers Labelled
  L1B (ro): NOAA Polar Orbiter Level 1b Data Set
  FIT (rw): FIT Image
  RMF (rw+): Raster Matrix Format
  WCS (ro): OGC Web Coverage Service
  WMS (ro): OGC Web Map Service
  MSGN (ro): EUMETSAT Archive native (.nat)
  RST (rw+): Idrisi Raster A.1
  INGR (rw+): Intergraph Raster
  GSAG (rw+): Golden Software ASCII Grid (.grd)
  GSBG (rw+): Golden Software Binary Grid (.grd)
  GS7BG (ro): Golden Software 7 Binary Grid (.grd)
  COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
  TSX (ro): TerraSAR-X Product
  COASP (ro): DRDC COASP SAR Processor Raster
  RIK (ro): Swedish Grid RIK (.rik)
  USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
  GXF (ro): GeoSoft Grid Exchange Format
  HTTP (ro): HTTP Fetching Wrapper
  ADRG (rw+): ARC Digitized Raster Graphics

D:\Downloads\gdal\gdalwin32-1.5\bin>ogr2ogr --formats
Supported Formats:
  -> "PostgreSQL" (read/write)
  -> "ESRI Shapefile" (read/write)
  -> "MapInfo File" (read/write)
  -> "UK .NTF" (readonly)
  -> "SDTS" (readonly)
  -> "TIGER" (read/write)
  -> "S57" (read/write)
  -> "DGN" (read/write)
  -> "VRT" (readonly)
  -> "REC" (readonly)
  -> "Memory" (read/write)
  -> "BNA" (read/write)
  -> "CSV" (read/write)
  -> "GML" (read/write)
  -> "GPX" (read/write)
  -> "KML" (read/write)
  -> "GeoJSON" (read/write)
  -> "GMT" (read/write)
  -> "ODBC" (read/write)
  -> "PGeo" (readonly)
  -> "AVCBin" (readonly)

Cheers,
Jeremy

-----Original Message-----
From: Marco Pasetti [mailto:marco.pasetti@alice.it] 
Sent: Tuesday, 15 April 2008 8:26 a.m.
To: 'palmerj'; qgis-developer@lists.osgeo.org
Subject: R: [Qgis-developer] Windows Installer

Hi Jeremy,

Do you have a list of all supports for those binaries?
Adding supports is not so hard, using prebuilt binaries is so easy... But
having a complete control over binaries building all by youself (and so
controlling all the related parts, and update each library whenever you
want) is, IMHO, much powerful!
BTW, if we could use *prebuilt* bins that fit our *wishes*... Yes, it would
be fine to use them!
QGIS needs GDAL with latest GRASS support... and, sincerely, I really don't
know if it actually available.

Marco 

-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di palmerj
Inviato: luned? 14 aprile 2008 21.58
A: qgis-developer@lists.osgeo.org
Oggetto: R: [Qgis-developer] Windows Installer


Hi Marco,

Now that QGIS has been moved over to the GDAL/OGR C-API why not just use the
standard win32 binaries from the OSGeo website: 

http://download.osgeo.org/gdal/win32/1.5/

Those binaries also have plug-ins built for ECW, MRSID, PG, OCI and SDE.

Cheers,
Jeremy

-----Original Message-----

BTW, I think that ECW support could be included only in next releases, along
with other requestes supports I'm still *collecting*.
Regards,
Marco

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From cavallini at faunalia.it  Tue Apr 15 03:24:55 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Apr 15 03:25:02 2008
Subject: [Qgis-developer] Windows Installer
In-Reply-To: <000001c89ec8$ead19270$0a01a8c0@creeping>
References: <20080414123828.CA8EFE0169B@lists.osgeo.org>	<000601c89e69$c9a55730$0a01a8c0@creeping>	<01d401c89e6d$caee0700$0201a8c0@notebookmarco>
	<000001c89ec8$ead19270$0a01a8c0@creeping>
Message-ID: <48045847.2040900@faunalia.it>

palmerj ha scritto:
> Hi Marco,
> 
> Good point. I don't think anyone has built a Grass plug-in for those OSGeo
> win32 binaries.
> 
> Still it would still be nice idea to leverage off the OGSGeo software stack,
> so libraries are fully featured and consistent.

Agreed - this would be the main achievement in this regard.
Of course grass support cannot be dropped, however.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo con parecchie difficolt? con NGI http://www.ngi.it/
From marco.pasetti at alice.it  Tue Apr 15 04:05:40 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Tue Apr 15 04:05:46 2008
Subject: R: [Qgis-developer] Windows Installer
References: <20080414123828.CA8EFE0169B@lists.osgeo.org>
	<000601c89e69$c9a55730$0a01a8c0@creeping>
	<01d401c89e6d$caee0700$0201a8c0@notebookmarco>
	<000001c89ec8$ead19270$0a01a8c0@creeping>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4176@FBCMST06V02.fbc.local>

Hi Jeremy,
 
>Maybe QGIS could be made part of the http://wiki.osgeo.org/wiki/OSGeo4W
>software distribution. OSGeo4W could be the reason why FrankW pushed for the
>GDAL/OGR C-API move in the first place.
 
yes, I agree; I already discussed the point with FrankW some times ago, and he knows my point of view. I agree, but at the moment I'm too engaged with single projects (first of all the WinGRASS project) to start to think on bigger ones. Then, another *issue* is that I'm new in *this world*, and I still need to learn a lot of things, about programming, GIS in general, software projects management, users requirements, and so on... I'm not (absolutely) at a *stage* in which I can tell to have a good panorama view of the whole situation, so my actual *policy* is: work on small parts (respecting SMART policy: Simple Measurable Achievable Relevant and Time phased), reach important targets for final users on windows, and follow *instructions* from the *high levels*: in that, for me, Paolo Cavallini + Tim Sutton and Markus Neteler, for QGIS and GRASS respectively, are the biggest references at the moment.
 
>Just for the record here are the supported formats for the gdal and ogr win32 binaries
 
really impressive!!! It would be really good to adopt them at least for GRASS.... but I still have the problem that I need to build GDAL with GRASS support for QGIS... and build GRASS with the same GDAL used in QGIS, since winGRASS goes *straight* into QGIS!
BTW: thanks for your very useful informations.
 
Best regards,
 
Marco


________________________________

Da: palmerj [mailto:palmerj@xtra.co.nz]
Inviato: mar 15/04/2008 9.18
A: marco.pasetti@alice.it
Cc: qgis-developer@lists.osgeo.org
Oggetto: RE: [Qgis-developer] Windows Installer



Hi Marco,

Good point. I don't think anyone has built a Grass plug-in for those OSGeo
win32 binaries.

Still it would still be nice idea to leverage off the OGSGeo software stack,
so libraries are fully featured and consistent.

Maybe QGIS could be made part of the http://wiki.osgeo.org/wiki/OSGeo4W
software distribution. OSGeo4W could be the reason why FrankW pushed for the
GDAL/OGR C-API move in the first place.

Just for the record here are the supported formats for the gdal and ogr
win32 binaries - no grass :-(

D:\Downloads\gdal\gdalwin32-1.5\bin>gdalinfo --formats
Supported Formats:
  ECW (rw): ERMapper Compressed Wavelets
  VRT (rw+): Virtual Raster
  GTiff (rw+): GeoTIFF
  NITF (rw+): National Imagery Transmission Format
  RPFTOC (ro): Raster Product Format TOC format
  HFA (rw+): Erdas Imagine Images (.img)
  SAR_CEOS (ro): CEOS SAR Image
  CEOS (ro): CEOS Image
  JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
  GFF (ro): Ground-based SAR Applications Testbed File Format (.gff)
  ELAS (rw+): ELAS
  AIG (ro): Arc/Info Binary Grid
  AAIGrid (rw): Arc/Info ASCII Grid
  SDTS (ro): SDTS Raster
  DTED (rw): DTED Elevation Raster
  PNG (rw): Portable Network Graphics
  JPEG (rw): JPEG JFIF
  MEM (rw+): In Memory Raster
  JDEM (ro): Japanese DEM (.mem)
  GIF (rw): Graphics Interchange Format (.gif)
  ESAT (ro): Envisat Image Format
  BSB (ro): Maptech BSB Nautical Charts
  XPM (rw): X11 PixMap Format
  BMP (rw+): MS Windows Device Independent Bitmap
  DIMAP (ro): SPOT DIMAP
  AirSAR (ro): AirSAR Polarimetric Image
  RS2 (ro): RadarSat 2 XML Product
  PCIDSK (rw+): PCIDSK Database File
  PCRaster (rw): PCRaster Raster File
  ILWIS (rw+): ILWIS Raster Map
  SGI (ro): SGI Image File Format 1.0
  SRTMHGT (rw): SRTMHGT File Format
  Leveller (rw+): Leveller heightfield
  Terragen (rw+): Terragen heightfield
  PNM (rw+): Portable Pixmap Format (netpbm)
  DOQ1 (ro): USGS DOQ (Old Style)
  DOQ2 (ro): USGS DOQ (New Style)
  ENVI (rw+): ENVI .hdr Labelled
  EHdr (rw+): ESRI .hdr Labelled
  GenBin (ro): Generic Binary (.hdr Labelled)
  PAux (rw+): PCI .aux Labelled
  MFF (rw+): Vexcel MFF Raster
  MFF2 (rw+): Vexcel MFF2 (HKV) Raster
  FujiBAS (ro): Fuji BAS Scanner Image
  GSC (ro): GSC Geogrid
  FAST (ro): EOSAT FAST Format
  BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
  LAN (ro): Erdas .LAN/.GIS
  CPG (ro): Convair PolGASP
  IDA (rw+): Image Data and Analysis
  NDF (ro): NLAPS Data Format
  DIPEx (ro): DIPEx
  ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
  ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
  PDS (ro): NASA Planetary Data System
  ERS (rw+): ERMapper .ers Labelled
  L1B (ro): NOAA Polar Orbiter Level 1b Data Set
  FIT (rw): FIT Image
  RMF (rw+): Raster Matrix Format
  WCS (ro): OGC Web Coverage Service
  WMS (ro): OGC Web Map Service
  MSGN (ro): EUMETSAT Archive native (.nat)
  RST (rw+): Idrisi Raster A.1
  INGR (rw+): Intergraph Raster
  GSAG (rw+): Golden Software ASCII Grid (.grd)
  GSBG (rw+): Golden Software Binary Grid (.grd)
  GS7BG (ro): Golden Software 7 Binary Grid (.grd)
  COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
  TSX (ro): TerraSAR-X Product
  COASP (ro): DRDC COASP SAR Processor Raster
  RIK (ro): Swedish Grid RIK (.rik)
  USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
  GXF (ro): GeoSoft Grid Exchange Format
  HTTP (ro): HTTP Fetching Wrapper
  ADRG (rw+): ARC Digitized Raster Graphics

D:\Downloads\gdal\gdalwin32-1.5\bin>ogr2ogr --formats
Supported Formats:
  -> "PostgreSQL" (read/write)
  -> "ESRI Shapefile" (read/write)
  -> "MapInfo File" (read/write)
  -> "UK .NTF" (readonly)
  -> "SDTS" (readonly)
  -> "TIGER" (read/write)
  -> "S57" (read/write)
  -> "DGN" (read/write)
  -> "VRT" (readonly)
  -> "REC" (readonly)
  -> "Memory" (read/write)
  -> "BNA" (read/write)
  -> "CSV" (read/write)
  -> "GML" (read/write)
  -> "GPX" (read/write)
  -> "KML" (read/write)
  -> "GeoJSON" (read/write)
  -> "GMT" (read/write)
  -> "ODBC" (read/write)
  -> "PGeo" (readonly)
  -> "AVCBin" (readonly)

Cheers,
Jeremy

-----Original Message-----
From: Marco Pasetti [mailto:marco.pasetti@alice.it]
Sent: Tuesday, 15 April 2008 8:26 a.m.
To: 'palmerj'; qgis-developer@lists.osgeo.org
Subject: R: [Qgis-developer] Windows Installer

Hi Jeremy,

Do you have a list of all supports for those binaries?
Adding supports is not so hard, using prebuilt binaries is so easy... But
having a complete control over binaries building all by youself (and so
controlling all the related parts, and update each library whenever you
want) is, IMHO, much powerful!
BTW, if we could use *prebuilt* bins that fit our *wishes*... Yes, it would
be fine to use them!
QGIS needs GDAL with latest GRASS support... and, sincerely, I really don't
know if it actually available.

Marco

-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di palmerj
Inviato: luned? 14 aprile 2008 21.58
A: qgis-developer@lists.osgeo.org
Oggetto: R: [Qgis-developer] Windows Installer


Hi Marco,

Now that QGIS has been moved over to the GDAL/OGR C-API why not just use the
standard win32 binaries from the OSGeo website:

http://download.osgeo.org/gdal/win32/1.5/

Those binaries also have plug-ins built for ECW, MRSID, PG, OCI and SDE.

Cheers,
Jeremy

-----Original Message-----

BTW, I think that ECW support could be included only in next releases, along
with other requestes supports I'm still *collecting*.
Regards,
Marco

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080415/6ec08cc6/attachment-0001.html
From a.ghisla at studenti.uninsubria.it  Tue Apr 15 12:33:11 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Tue Apr 15 13:43:21 2008
Subject: [Qgis-developer] Re: QGIS-R Binding Team - IRC meeting,
	proposed timestamp
In-Reply-To: <1970.142.104.193.193.1208267039.squirrel@wm3.uvic.ca>
References: <1207569921.6641.16.camel@galadriel>
	<d368056f0804070602rbc92129g61454d1b79335339@mail.gmail.com>
	<1207575084.6641.32.camel@galadriel> <47FBF860.4010407@uvic.ca>
	<1207742220.47fcaf0cd166d@mail.studenti.uninsubria.it>
	<1970.142.104.193.193.1208267039.squirrel@wm3.uvic.ca>
Message-ID: <1208277191.4804d8c7506e7@mail.studenti.uninsubria.it>

Scrive cfarmer <cfarmer@uvic.ca>:

> Hello all,
> 
> 17:00 GMT sounds good to me, are we all on board? I'll have limited access
> to email etc. before this time, but will try to check periodically for any
> changes.

OK for 17:00 GMT.

I just set up the channel: #bridge2R
(easier than I believed! :P)

Anyone interested in the argument can join the meeting.
More informations at

http://wiki.qgis.org/qgiswiki/BridgeToR

regards,

Anne Ghisla



From jef at norbit.de  Tue Apr 15 14:11:43 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Apr 15 14:11:48 2008
Subject: [Qgis-developer] python as plugin
Message-ID: <20080415181143.GA29029@norbit.de>

Hi there,

I've been thinking about turning the python support into a plugin.  If
we compile with Python support, we have a static python dependency in
the qgis binary.

I think that's an issue for packaging.  With python support as plugin,
we could split the python plugin into a separate shared library.  If
python isn't there, the load of the plugin simply fails (similar to the
GRASS plugin).

On Debian for instance that would open the possiblity to split off the
python depencency to a separate package (currently the qgis executable
itself depends on python) and make providing individual packages for
different python version easier.

On Windows we wouldn't need to package python with qgis. We'd just
notify the user that python is available and will appear when python is
installed.

Maybe we should do the same for GRASS.  Instead of packaging GRASS with
QGIS on windows, we'd dynamically depend on the WinGRASS package.

This could be done by implementing plugin providers implemented in C++
that allow to load, unload and list available and loaded plugins.  The
plugin provider would be registered with the plugin registry on load.

Initially there would be a builtin plugin provider for C++ plugins and a
provider plugin for python plugins.  That plugin would depends on the
python library and also provide the python bindings.

That way we could also generalize the handling of plugins in QgisApp and
the plugin manager and eliminate HAVE_PYTHON there.

Comments?


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tim at linfiniti.com  Tue Apr 15 15:56:20 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Apr 15 15:56:28 2008
Subject: [Qgis-developer] Re: 0.9.2 release roadblocks
In-Reply-To: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>
Message-ID: <d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>

Hi Folks

In the absence of any response to this email, I'm going to go ahead
and rename QGIS in trunk to 0.10.0 'Io' (named after jupiters moon Io
and an ironic pun given the version number). I will make all changes
needed and commit them on thursday, at which point we will be ready to
branch for final release.

If you have any objections please let me know by tomorrow (wed at the latest).

http://www.solarviews.com/cap/jup/PIA00583.htm

Many thanks

Tim

2008/4/10, Tim Sutton <tim@linfiniti.com>:
> Hi Folks
>
>  There will be a delay of a few days for the final release while we
>  sort out some outstanding issues. Paolo again raised the issue of the
>  version number for this release being inconsistent with a typical bug
>  fix focussed point release - and I'm inclined to agree.
>
>  Thus if there are no strong objections I would like to update the
>  version number for this release to 0.10.0 rather to keep the release
>  numbering purists happy.
>
>  I will adjust the timings on the checklist at to reflect the above,
>  unless there are any objections.
>
>  Many thanks for your patience....wont be long now for 0.9.2 / 0.10.0
>  to go out the door.
>
>  Regards
>
>  --
>  Tim Sutton
>  QGIS Project Steering Committee Member - Release  Manager
>  Visit http://qgis.org for a great open source GIS
>  openModeller Desktop Developer
>  Visit http://openModeller.sf.net for a great open source ecological
>  niche modelling tool
>  Home Page: http://tim.linfiniti.com
>  Skype: timlinux
>  Irc: timlinux on #qgis at freenode.net
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.pasetti at alice.it  Tue Apr 15 16:26:21 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Tue Apr 15 16:26:35 2008
Subject: R: [Qgis-developer] python as plugin
In-Reply-To: <20080415181143.GA29029@norbit.de>
References: <20080415181143.GA29029@norbit.de>
Message-ID: <005101c89f36$f85c2d60$0201a8c0@notebookmarco>

Hi J?rgen,

You touched a *hot* point, in my opinion.

>I think that's an issue for packaging.  With python support as plugin, we
could split the python plugin into a separate shared library.
>If python isn't there, the load of the plugin simply fails (similar to the
GRASS plugin).

Actually, it would be, and in fact it is, a good idea, that let things
(packaging, morevover) very simple and tidy... but this is (I mean: good),
IMHO, specially for unix-like unsers; I try to explain: I'm both windows and
linux (just a bit) user, so I'm used to the habits of windows users, and I
can understand some other habits of linux ones. If on linux is usual and
very simple to download and install the required *optional* packages to
enable some special *features* (such as qgis plugins) into specific
applications, on the other side, this is not definetely the same for windows
users. It's a consolidated *windows* habit to install and use *complete*
software packages only, without the need to install further *pieces* of
softwares to let the formers work as their well. For this reason, I guess
that, for windows, it would be a *strategic* decision to release a
self-contained, *full-featured* version of the installer; even if a lot less
tidy and efficient, it would guarantee us the best diffusion among windows
users.

>Maybe we should do the same for GRASS.  Instead of packaging GRASS with
QGIS on windows, we'd dynamically depend on the WinGRASS package.

The same lines I wrote above could reply the dynamic GRASS plugin proposal.
I confirm, it's a good idea, why not? (please, remember that I'm also a
GRASS dev-team member, so to not support your proposal could be in contrast
with my GRASS position...). But there's still many reasons, for windows
packaging, to say no. IMHO, again, who uses GRASS toolbox in QGIS, instead
of using GRASS itself, does it because the QGIS GRASS toolbox is more easy
and intuitive (even if less powerful) than the full GRASS. For the same
reasons that I explained above, I believe that users (specially from windows
world) who prefer QGIS GRASS toolbox (instead of GRASS itself), and/or
rarely use GRASS but still have the need to use it sometimes, would be very
unhappy to must install GRASS as separate package instead of having it
pre-packaged in QGIS.

Thank you for reading my opinions ;-)

Marco


-----Messaggio originale-----
Da: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di J?rgen E.
Fischer
Inviato: marted? 15 aprile 2008 20.12
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] python as plugin

Hi there,

I've been thinking about turning the python support into a plugin.  If we
compile with Python support, we have a static python dependency in the qgis
binary.

I think that's an issue for packaging.  With python support as plugin, we
could split the python plugin into a separate shared library.  If python
isn't there, the load of the plugin simply fails (similar to the GRASS
plugin).

On Debian for instance that would open the possiblity to split off the
python depencency to a separate package (currently the qgis executable
itself depends on python) and make providing individual packages for
different python version easier.

On Windows we wouldn't need to package python with qgis. We'd just notify
the user that python is available and will appear when python is installed.

Maybe we should do the same for GRASS.  Instead of packaging GRASS with QGIS
on windows, we'd dynamically depend on the WinGRASS package.

This could be done by implementing plugin providers implemented in C++ that
allow to load, unload and list available and loaded plugins.  The plugin
provider would be registered with the plugin registry on load.

Initially there would be a builtin plugin provider for C++ plugins and a
provider plugin for python plugins.  That plugin would depends on the python
library and also provide the python bindings.

That way we could also generalize the handling of plugins in QgisApp and the
plugin manager and eliminate HAVE_PYTHON there.

Comments?


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

--
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tutey at o2.pl  Wed Apr 16 02:48:54 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr 16 02:48:59 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with incorectly
	filled polygons"issues
In-Reply-To: <4802F1F5.20706@o2.pl>
References: <48024C20.1030203@o2.pl>	<04DA676AA276F045B32D0F95783D78440AF820@EX6.d.ethz.ch>
	<4802F1F5.20706@o2.pl>
Message-ID: <4805A156.3000705@o2.pl>

Maciej Sieczka pisze:
> Hugentobler Marco pisze:

>> I think the thing that brings your performance down is transparency.
>> Editing markers and measuring rubber bands both use transparency (and
>> GRASS edits don't).
>>
>> FPWIPF uses QPixmap to render (and is rendered on
>> the X-server). If FPWIPF is disabled, QImage is used which afaik is
>> pure software rendering.

> So should it be faster or slower with with FPWIPF enabled?
> 
> Currently, with FPWIPF *enabled*, during digitizing rendering is 66 
> times worse, whereas outside digitising it is 2-3 times better. This 
> seems inconsistent.

Doesn't anybody really know why FPWIPF enabled slows down performance in 
digitizing mode but improves it once diigitizing is quit?

If QT version matters, I'm using 4.3.4.

Maciek
From cavallini at faunalia.it  Wed Apr 16 09:48:13 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Apr 16 09:48:18 2008
Subject: R: [Qgis-developer] python as plugin
In-Reply-To: <005101c89f36$f85c2d60$0201a8c0@notebookmarco>
References: <20080415181143.GA29029@norbit.de>
	<005101c89f36$f85c2d60$0201a8c0@notebookmarco>
Message-ID: <9256.212.123.91.78.1208353693.squirrel@www.faunalia.it>

For what I understand of win users, Marco has interpreted correctly the
situation, and I would support his view.
All the best.
pc

> Hi J?rgen,
>
> You touched a *hot* point, in my opinion.
-- 
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953


From cavallini at faunalia.it  Wed Apr 16 09:50:56 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Apr 16 09:50:58 2008
Subject: [Qgis-developer] Re: 0.9.2 release roadblocks
In-Reply-To: <d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>
	<d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>
Message-ID: <10670.212.123.91.78.1208353856.squirrel@www.faunalia.it>


> Hi Folks
>
> In the absence of any response to this email, I'm going to go ahead
> and rename QGIS in trunk to 0.10.0 'Io' (named after jupiters moon Io
> and an ironic pun given the version number). I will make all changes
> needed and commit them on thursday, at which point we will be ready to
> branch for final release.
>
> If you have any objections please let me know by tomorrow (wed at the
> latest).
>
> http://www.solarviews.com/cap/jup/PIA00583.htm

Great thing. Thanks Tim.
I would urge everybody who can, however, to try and close (either because
they're invalid, or actually fixing them) as many bugs as possible, in
order to have a reasonably clean release.
All the best.
pc
-- 
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953


From jef at norbit.de  Wed Apr 16 10:09:15 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Apr 16 10:09:20 2008
Subject: R: [Qgis-developer] python as plugin
In-Reply-To: <005101c89f36$f85c2d60$0201a8c0@notebookmarco>
References: <20080415181143.GA29029@norbit.de>
	<005101c89f36$f85c2d60$0201a8c0@notebookmarco>
Message-ID: <20080416140915.GA18030@norbit.de>

Hi Marco,

On Tue, 15. Apr 2008 at 22:26:21 +0200, Marco Pasetti wrote:
> For this reason, I guess that, for windows, it would be a *strategic*
> decision to release a self-contained, *full-featured* version of the
> installer; even if a lot less tidy and efficient, it would guarantee
> us the best diffusion among windows users.

Well, splitting python off into a plugin doesn't require a change in packaging,
it just opens the option to do so.

There's also be the option to produce lean (w/o dependant packages) and fat
installers (including all dependencies) or anything inbetween - but that
wouldn't make packaging any easier anymore ;)


J?rgen

--
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From ersts at amnh.org  Wed Apr 16 10:31:53 2008
From: ersts at amnh.org (Peter Ersts)
Date: Wed Apr 16 11:06:51 2008
Subject: [Qgis-developer] Ticket 778 and slow loading rasters
Message-ID: <48060DD9.5080001@amnh.org>

Howdy all,

Carlos D?vila has been good enough to keep reminding me of Ticket 778 
(http://trac.osgeo.org/qgis/ticket/778) and supplied me with one of his 
ecw images. The image that Carlos sent me is 53k pixels by 14k pixels 
and it took about 106 seconds to load on my older desktop.

The slowness on initial load has to do with determining the min and max 
values for contrast enhancement, the default is a linear min-max 
stretch. On initial load of a raster, we have it set so that GDAL 
provides an approximation of the min and max for each band, later the 
user can elect to load the actual min max -- very slooooow right now. 
Even with only asking for an approximation, with an image that size 
there is going to be a bit of a delay. If you set the default contrast 
enhancement to "no stretch" these same data load in only 2 seconds.

Originally, we had the default contrast enhancement set to "no stretch" 
but that was met with some pretty strong opposition, so simply changing 
the default behavior is not an option. So I propose a slight compromise 
and would like to know how everyone feels about it.

--> Keep the default contrast enhancement as linear min-max on initial
--> If the total number of pixels in the image is greater than some 
threshold revert back to "no stretch" as the default on initial load
--> Add an "approximation" and "actual" option to the raster properties 
window for the "Load min max from band" button

Rational: very large images are probably a mosaic of some type and 
already have been preprocessed to some extent and therefore probably 
don't actually need to be stretched. This way, smaller images will still 
always be stretch and users will see what they expect and larger data 
will load considerably faster. The threshold will have to be though 
about, but I was thinking something around 75 million pixels. Something 
larger than a Landsat ETM.

Let me know your thoughts or if you have any reservations.

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From marco.pasetti at alice.it  Wed Apr 16 11:34:30 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Apr 16 11:34:33 2008
Subject: [Qgis-developer] Quantum GIS 0.9.2-rev8351 Windows Test Installer
Message-ID: <FBCMMO01TdnnJz4opdU0005ebf5@FBCMMO01.fbc.local>

Hi all,
 
I made a new windows test installer based on rev8351 (+ some GRASS toolbox minor fixes, subsequently patched in the next rev).
The installer is available at http://gigamaildownload.rossoalice.alice.it/download/download.aspx?AttachmentID=d468b765-447e-4997-9417-9f879d6f23a8&MessageID=f3d2edc1-e193-45d5-93db-310cfe616916
 
please, test it disabling your python installation, if you have one (just rename the python main folder)
 
Thanks
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080416/ed9260ff/attachment.html
From warmerdam at pobox.com  Wed Apr 16 11:52:07 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr 16 11:52:39 2008
Subject: [Qgis-developer] Ticket 778 and slow loading rasters
In-Reply-To: <48060DD9.5080001@amnh.org>
References: <48060DD9.5080001@amnh.org>
Message-ID: <480620A7.2000307@pobox.com>

Peter Ersts wrote:
> Howdy all,
> 
> Carlos D?vila has been good enough to keep reminding me of Ticket 778 
> (http://trac.osgeo.org/qgis/ticket/778) and supplied me with one of his 
> ecw images. The image that Carlos sent me is 53k pixels by 14k pixels 
> and it took about 106 seconds to load on my older desktop.
> 
> The slowness on initial load has to do with determining the min and max 
> values for contrast enhancement, the default is a linear min-max 
> stretch. On initial load of a raster, we have it set so that GDAL 
> provides an approximation of the min and max for each band, later the 
> user can elect to load the actual min max -- very slooooow right now. 
> Even with only asking for an approximation, with an image that size 
> there is going to be a bit of a delay. If you set the default contrast 
> enhancement to "no stretch" these same data load in only 2 seconds.

Peter,

I would be interested to investigate why getting approximate statistics
for this file is so slow.  I does not seem like it ought to be.

In fact the ECW driver in GDAL is somewhat special in that it does not
have fixed overview levels, which means that approximate statistics are
computed by fetching a sampling of full resolution blocks.  I think it
would be better to fix this by modifying GDAL to select an appropriate
resolution and read the whole image highly decimated to get statistics
for formats like ECW with "arbitrary" overviews.

I'll work on this now and see if it helps alot.

The other thing is that I see GDAL isn't saving it's approximate
stats to an .aux.xml file as I would have expected.  If this gets
enabled it will help performance on subsequent openings of the file.

> --> Keep the default contrast enhancement as linear min-max on initial
> --> If the total number of pixels in the image is greater than some 
> threshold revert back to "no stretch" as the default on initial load

I would like to think this isn't necessary.  I am however confused
about why 8bit images are stretched by default.  The default rule in
OpenEV for instance is to do no stretching for 8bit images, but to
use linear stretch for non-8bit images.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Wed Apr 16 11:53:12 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr 16 11:53:16 2008
Subject: [Qgis-developer] Re: 0.9.2 release roadblocks
In-Reply-To: <10670.212.123.91.78.1208353856.squirrel@www.faunalia.it>
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>	<d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>
	<10670.212.123.91.78.1208353856.squirrel@www.faunalia.it>
Message-ID: <480620E8.3020103@o2.pl>

Paolo Cavallini pisze:

> I would urge everybody who can, however, to try and close (either because
> they're invalid, or actually fixing them) as many bugs as possible, in
> order to have a reasonably clean release.

There is a set of digitising-related bugs that cause crash or data 
corruption:

https://trac.osgeo.org/qgis/ticket/1041
https://trac.osgeo.org/qgis/ticket/1025
https://trac.osgeo.org/qgis/ticket/978
https://trac.osgeo.org/qgis/ticket/968
https://trac.osgeo.org/qgis/ticket/933

and 2 other major ones:

https://trac.osgeo.org/qgis/ticket/958
https://trac.osgeo.org/qgis/ticket/979

Are they going to be fixed for the release?

Maciek

From lami at faunalia.it  Wed Apr 16 12:01:40 2008
From: lami at faunalia.it (Leonardo Lami)
Date: Wed Apr 16 12:01:42 2008
Subject: [Qgis-developer] Re: 0.9.2 release roadblocks
In-Reply-To: <480620E8.3020103@o2.pl>
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>	<d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>	<10670.212.123.91.78.1208353856.squirrel@www.faunalia.it>
	<480620E8.3020103@o2.pl>
Message-ID: <480622E4.6090602@faunalia.it>


Hi all
I think also this bug must be fixed before the release
https://trac.osgeo.org/qgis/ticket/1043

It's about the reprojection on the fly that fails in the last versions.

Regards
leonardo


Maciej Sieczka ha scritto:
> Paolo Cavallini pisze:
>
>> I would urge everybody who can, however, to try and close (either 
>> because
>> they're invalid, or actually fixing them) as many bugs as possible, in
>> order to have a reasonably clean release.
>
> There is a set of digitising-related bugs that cause crash or data 
> corruption:
>
> https://trac.osgeo.org/qgis/ticket/1041
> https://trac.osgeo.org/qgis/ticket/1025
> https://trac.osgeo.org/qgis/ticket/978
> https://trac.osgeo.org/qgis/ticket/968
> https://trac.osgeo.org/qgis/ticket/933
>
> and 2 other major ones:
>
> https://trac.osgeo.org/qgis/ticket/958
> https://trac.osgeo.org/qgis/ticket/979
>
> Are they going to be fixed for the release?
>
> Maciek
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From marco.hugentobler at karto.baug.ethz.ch  Wed Apr 16 12:08:56 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Wed Apr 16 12:10:29 2008
Subject: AW: [Qgis-developer] Re: 0.9.2 release roadblocks
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>	<d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>	<10670.212.123.91.78.1208353856.squirrel@www.faunalia.it>
	<480620E8.3020103@o2.pl> <480622E4.6090602@faunalia.it>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF823@EX6.d.ethz.ch>

Hi Leonardo,

This bug was fixed some days ago. Please update from svn and test if it works now for you.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Leonardo Lami
Gesendet: Mi 16.04.2008 18:01
An: qgis-developer
Cc: QGIS release team.
Betreff: Re: [Qgis-developer] Re: 0.9.2 release roadblocks
 

Hi all
I think also this bug must be fixed before the release
https://trac.osgeo.org/qgis/ticket/1043

It's about the reprojection on the fly that fails in the last versions.

Regards
leonardo


Maciej Sieczka ha scritto:
> Paolo Cavallini pisze:
>
>> I would urge everybody who can, however, to try and close (either 
>> because
>> they're invalid, or actually fixing them) as many bugs as possible, in
>> order to have a reasonably clean release.
>
> There is a set of digitising-related bugs that cause crash or data 
> corruption:
>
> https://trac.osgeo.org/qgis/ticket/1041
> https://trac.osgeo.org/qgis/ticket/1025
> https://trac.osgeo.org/qgis/ticket/978
> https://trac.osgeo.org/qgis/ticket/968
> https://trac.osgeo.org/qgis/ticket/933
>
> and 2 other major ones:
>
> https://trac.osgeo.org/qgis/ticket/958
> https://trac.osgeo.org/qgis/ticket/979
>
> Are they going to be fixed for the release?
>
> Maciek
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From marco.hugentobler at karto.baug.ethz.ch  Wed Apr 16 12:37:18 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Wed Apr 16 12:42:01 2008
Subject: AW: [Qgis-developer] Re: 0.9.2 release roadblocks
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>	<d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>
	<10670.212.123.91.78.1208353856.squirrel@www.faunalia.it>
	<480620E8.3020103@o2.pl>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF824@EX6.d.ethz.ch>

As the branch for release is tomorrow, it is close to impossible that these 7 bugs will be fixed for the release. 

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Maciej Sieczka
Gesendet: Mi 16.04.2008 17:53
An: cavallini@faunalia.it
Cc: qgis-developer; QGIS release team.
Betreff: Re: [Qgis-developer] Re: 0.9.2 release roadblocks
 
Paolo Cavallini pisze:

> I would urge everybody who can, however, to try and close (either because
> they're invalid, or actually fixing them) as many bugs as possible, in
> order to have a reasonably clean release.

There is a set of digitising-related bugs that cause crash or data 
corruption:

https://trac.osgeo.org/qgis/ticket/1041
https://trac.osgeo.org/qgis/ticket/1025
https://trac.osgeo.org/qgis/ticket/978
https://trac.osgeo.org/qgis/ticket/968
https://trac.osgeo.org/qgis/ticket/933

and 2 other major ones:

https://trac.osgeo.org/qgis/ticket/958
https://trac.osgeo.org/qgis/ticket/979

Are they going to be fixed for the release?

Maciek

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From jef at norbit.de  Wed Apr 16 13:03:03 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Apr 16 13:03:06 2008
Subject: [Qgis-developer] Re: 0.9.2 release roadblocks
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF824@EX6.d.ethz.ch>
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com>
	<d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com>
	<10670.212.123.91.78.1208353856.squirrel@www.faunalia.it>
	<480620E8.3020103@o2.pl>
	<04DA676AA276F045B32D0F95783D78440AF824@EX6.d.ethz.ch>
Message-ID: <20080416170303.GA30068@norbit.de>

Hi Marco,

On Wed, 16. Apr 2008 at 18:37:18 +0200, Hugentobler  Marco wrote:
> As the branch for release is tomorrow, it is close to impossible that
> these 7 bugs will be fixed for the release. 

I've almost fixed #933.  But there are strings for the error messages
involved...


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tutey at o2.pl  Wed Apr 16 13:25:36 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr 16 13:25:40 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with incorectly
	filled polygons"issues
In-Reply-To: <200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>
References: <48024C20.1030203@o2.pl> <4802F1F5.20706@o2.pl>
	<4805A156.3000705@o2.pl>
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <48063690.20004@o2.pl>

Marco Hugentobler pisze:
> Am Mittwoch 16 April 2008 08:48:54 schrieb Maciej Sieczka:

>>> So should it be faster or slower with with FPWIPF enabled?

> It is not faster or slower for everything, it depends on what you do.
 >
> If your X-server configuration is very slow in drawing transparency,
> then it is logical consequence that the transparent round vertex
> markers in digitising mode are rendered slowly.

(Another shortcut for clarity - "Make line appeer less jagged" = MLALJ)

I've been doing some QGIS rendering benchmarks. Before I go on, can you 
please verify if I got it correctly:

FPWIFP on = QPixmap = hardware rendering
MLALJ on = QImage + transparency = software rendering, more CPU use
both off = QImage = software rendering, less CPU use

Does that look correct?

Maciek
From ersts at amnh.org  Wed Apr 16 13:33:34 2008
From: ersts at amnh.org (Peter Ersts)
Date: Wed Apr 16 13:33:41 2008
Subject: [Qgis-developer] Ticket 778 and slow loading rasters
In-Reply-To: <480620A7.2000307@pobox.com>
References: <48060DD9.5080001@amnh.org> <480620A7.2000307@pobox.com>
Message-ID: <4806386E.7080308@amnh.org>

Frank Warmerdam wrote:
> I would be interested to investigate why getting approximate statistics
> for this file is so slow.  I does not seem like it ought to be.
>
> In fact the ECW driver in GDAL is somewhat special in that it does not
> have fixed overview levels, which means that approximate statistics are
> computed by fetching a sampling of full resolution blocks.  I think it
> would be better to fix this by modifying GDAL to select an appropriate
> resolution and read the whole image highly decimated to get statistics
> for formats like ECW with "arbitrary" overviews.
>
> I'll work on this now and see if it helps alot.
>

Thanks Frank, that sounds great but we may still want to consider a QGIS 
work around for the time being as well. The threshold idea I am 
proposing would only take about 3 or 4 lines of code.

FYI, I used the GDAL 1.5 stable branch and version 3.3 (2006-08-29) of 
ECW JPEG 2000 SDK.


>
>> --> Keep the default contrast enhancement as linear min-max on initial
>> --> If the total number of pixels in the image is greater than some 
>> threshold revert back to "no stretch" as the default on initial load
>
> I would like to think this isn't necessary.  I am however confused
> about why 8bit images are stretched by default.  The default rule in
> OpenEV for instance is to do no stretching for 8bit images, but to
> use linear stretch for non-8bit images. 

There never really was a concerted design decision about stretching 
8-bit data. I can see an argument for or not doing it, but with 
everything equal and the speed at which GDAL can give an approximate min 
max, I say why not.


-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From marco.hugentobler at karto.baug.ethz.ch  Wed Apr 16 13:56:41 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Wed Apr 16 13:56:45 2008
Subject: AW: [Qgis-developer] Re: 0.9.2 release roadblocks
References: <d368056f0804100950v2c32014el36cd0dc520726c16@mail.gmail.com><d368056f0804151256s1430aa15x19dae0263fa5eb67@mail.gmail.com><10670.212.123.91.78.1208353856.squirrel@www.faunalia.it><480620E8.3020103@o2.pl><04DA676AA276F045B32D0F95783D78440AF824@EX6.d.ethz.ch>
	<20080416170303.GA30068@norbit.de>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF826@EX6.d.ethz.ch>

Great!
I think I can do 968.
Difficult thing with the strings after string freeze.
@Tim: what is the release managers opinion on this?

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von J?rgen E. Fischer
Gesendet: Mi 16.04.2008 19:03
An: qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] Re: 0.9.2 release roadblocks
 
Hi Marco,

On Wed, 16. Apr 2008 at 18:37:18 +0200, Hugentobler  Marco wrote:
> As the branch for release is tomorrow, it is close to impossible that
> these 7 bugs will be fixed for the release. 

I've almost fixed #933.  But there are strings for the error messages
involved...


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From jef at norbit.de  Wed Apr 16 16:07:01 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Apr 16 16:07:14 2008
Subject: [Qgis-developer] Re: 0.9.2 release roadblocks
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF826@EX6.d.ethz.ch>
References: <20080416170303.GA30068@norbit.de>
	<04DA676AA276F045B32D0F95783D78440AF826@EX6.d.ethz.ch>
Message-ID: <20080416200701.GA7946@norbit.de>

Hi Marco,

On Wed, 16. Apr 2008 at 19:56:41 +0200, Hugentobler  Marco wrote:
> Great!
> I think I can do 968.
> Difficult thing with the strings after string freeze.
> @Tim: what is the release managers opinion on this?

Sorry, I was a bit quick as I thought the change would be as easy as
with the postgres provider - but I implied transactions and OGR only
supports transactions with postgis.  So no similar - quick - fix there.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From marco.hugentobler at karto.baug.ethz.ch  Thu Apr 17 01:43:41 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Thu Apr 17 01:42:21 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with
	incorectly filled polygons"issues
In-Reply-To: <48063690.20004@o2.pl>
References: <48024C20.1030203@o2.pl>
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>
	<48063690.20004@o2.pl>
Message-ID: <200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>

Hi Maciek,

> I've been doing some QGIS rendering benchmarks. Before I go on, can you
> please verify if I got it correctly:

I would say it is like this (afaik at least on X11):

FPWIFP on = QPixmap = rendering on graphics card
MLALJ on = QImage + antialiasing = software rendering
both off = QImage without antialiasing = software rendering

Regards,
Marco

Am Mittwoch 16 April 2008 19:25:36 schrieb Maciej Sieczka:
> Marco Hugentobler pisze:
> > Am Mittwoch 16 April 2008 08:48:54 schrieb Maciej Sieczka:
> >>> So should it be faster or slower with with FPWIPF enabled?
> >
> > It is not faster or slower for everything, it depends on what you do.
> >
> > If your X-server configuration is very slow in drawing transparency,
> > then it is logical consequence that the transparent round vertex
> > markers in digitising mode are rendered slowly.
>
> (Another shortcut for clarity - "Make line appeer less jagged" = MLALJ)
>
> I've been doing some QGIS rendering benchmarks. Before I go on, can you
> please verify if I got it correctly:
>
> FPWIFP on = QPixmap = hardware rendering
> MLALJ on = QImage + transparency = software rendering, more CPU use
> both off = QImage = software rendering, less CPU use
>
> Does that look correct?
>
> Maciek



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Thu Apr 17 08:13:06 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr 17 08:13:08 2008
Subject: [Qgis-developer] Re: QGIS-R Binding Team - IRC meeting,
	proposed timestamp
In-Reply-To: <6CF851CD-8F86-453F-B1D9-17C4DBDA7755@mrcc.com>
References: <1207569921.6641.16.camel@galadriel>
	<d368056f0804070602rbc92129g61454d1b79335339@mail.gmail.com>
	<1207575084.6641.32.camel@galadriel> <47FBF860.4010407@uvic.ca>
	<1207742220.47fcaf0cd166d@mail.studenti.uninsubria.it>
	<1970.142.104.193.193.1208267039.squirrel@wm3.uvic.ca>
	<1208277191.4804d8c7506e7@mail.studenti.uninsubria.it>
	<6CF851CD-8F86-453F-B1D9-17C4DBDA7755@mrcc.com>
Message-ID: <d368056f0804170513q4c60aed8j767e8ce4a516c3d4@mail.gmail.com>

Hi Folks

I also wont be able to make it as I am without internet at home for
the next 1.5 months. I'll look forward to reading the minutes.

Regards

Tim

2008/4/16, Gary Sherman <gsherman@mrcc.com>:
> On Apr 15, 2008, at 8:33 AM, Anne Ghisla wrote:
>
> > Scrive cfarmer <cfarmer@uvic.ca>:
> >
> >
> > > Hello all,
> > >
> > > 17:00 GMT sounds good to me, are we all on board? I'll have limited
> access
> > > to email etc. before this time, but will try to check periodically for
> any
> > > changes.
> > >
> >
> > OK for 17:00 GMT.
> >
> > I just set up the channel: #bridge2R
> > (easier than I believed! :P)
> >
> > Anyone interested in the argument can join the meeting.
> > More informations at
> >
> > http://wiki.qgis.org/qgiswiki/BridgeToR
> >
> > regards,
> >
> > Anne Ghisla
> >
> >
>
>  I'm unable to make the meeting and really am booked through the weekend. Go
> ahead---I'll set the logging bot up in the channel so I can keep up with the
> progress.
>
>  -gary
>
>
>
> >
> >
>
>
>  -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>  Gary Sherman
>  Chair, QGIS Project Steering Committee
>  -Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
>  -Desktop GIS Book:
>   *http://desktopgisbook.com
>  "We work virtually everywhere"
>  -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu Apr 17 08:23:23 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr 17 08:23:25 2008
Subject: [Qgis-developer] Re: 0.9.2 release roadblocks
In-Reply-To: <20080416200701.GA7946@norbit.de>
References: <20080416170303.GA30068@norbit.de>
	<04DA676AA276F045B32D0F95783D78440AF826@EX6.d.ethz.ch>
	<20080416200701.GA7946@norbit.de>
Message-ID: <d368056f0804170523h254296b7n32103e23c94d1d8e@mail.gmail.com>

Hi
 > I think I can do 968.
>  > Difficult thing with the strings after string freeze.
>  > @Tim: what is the release managers opinion on this?

Any bug fixes should continue on after we branch. There will be no
time for string changes in this release series so if you do get a bug
fix in before the branch that involves a string change those strings
will go untranslated in 0.10.0.

When I branch today, the only allowed changes to the branch will be
packaging related fixes / improvements.

Regards



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu Apr 17 08:38:31 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr 17 08:38:34 2008
Subject: [Qgis-developer] python as plugin
In-Reply-To: <20080415181143.GA29029@norbit.de>
References: <20080415181143.GA29029@norbit.de>
Message-ID: <d368056f0804170538t67a65a0chbc99492b2f97363d@mail.gmail.com>

Hi

I like this idea. If I understand it correctly then the 'master'
python plugin would check at run time if python is present and qgis
python bindings are available and then load itself and any available
python plugins?

Regards

Tim

2008/4/15, J?rgen E. Fischer <jef@norbit.de>:
> Hi there,
>
>  I've been thinking about turning the python support into a plugin.  If
>  we compile with Python support, we have a static python dependency in
>  the qgis binary.
>
>  I think that's an issue for packaging.  With python support as plugin,
>  we could split the python plugin into a separate shared library.  If
>  python isn't there, the load of the plugin simply fails (similar to the
>  GRASS plugin).
>
>  On Debian for instance that would open the possiblity to split off the
>  python depencency to a separate package (currently the qgis executable
>  itself depends on python) and make providing individual packages for
>  different python version easier.
>
>  On Windows we wouldn't need to package python with qgis. We'd just
>  notify the user that python is available and will appear when python is
>  installed.
>
>  Maybe we should do the same for GRASS.  Instead of packaging GRASS with
>  QGIS on windows, we'd dynamically depend on the WinGRASS package.
>
>  This could be done by implementing plugin providers implemented in C++
>  that allow to load, unload and list available and loaded plugins.  The
>  plugin provider would be registered with the plugin registry on load.
>
>  Initially there would be a builtin plugin provider for C++ plugins and a
>  provider plugin for python plugins.  That plugin would depends on the
>  python library and also provide the python bindings.
>
>  That way we could also generalize the handling of plugins in QgisApp and
>  the plugin manager and eliminate HAVE_PYTHON there.
>
>  Comments?
>
>
>  J?rgen
>
>  --
>  J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  Software Engineer         D-26506 Norden               http://www.norbit.de
>
>  --
>  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  Rheinstrasse 13, 26506 Norden
>  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From wonder.sk at gmail.com  Thu Apr 17 10:09:17 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Apr 17 10:09:19 2008
Subject: [Qgis-developer] python as plugin
In-Reply-To: <20080415181143.GA29029@norbit.de>
References: <20080415181143.GA29029@norbit.de>
Message-ID: <e8e7199c0804170709j3069fe82g4640a0065081319@mail.gmail.com>

Hi,

thanks for starting this discussion. I've been thinking about possible
solutions for python support and moving all python support to a plugin
was one of them. But I've realized that this won't be a good idea. The
reason is that we won't be able to continue the integration with
Python.

>From my longer-term vision, we're just in the first phase of
integration of Python with QGIS. Now python support is implemented in
QGIS application, thus it has nothing to do with core or gui library.
My target is to support python also in the libraries - this will bring
even better possibilities for Python programmers since they would be
able to create own data providers, renderers and more plugin types in
python. (So far, only data provider plugins and gui plugins are
currently supported, but in future we'll have to enable more types of
plugins such as renderers and more).

This leads me to 2 possibilities:
- make python support a required part of QGIS and integrate the
support directly in the core library
- create a dynamic library with python support - QGIS application or
libraries will try to load the library at run-time. If found, python
support will be done by calls to this library, if not found, support
would be disabled

I think with time and with the amount of nice plugins made in python
it will be inevitable to make python support a required part.

Regards
Martin


On Tue, Apr 15, 2008 at 8:11 PM, J?rgen E. Fischer <jef@norbit.de> wrote:
> Hi there,
>
>  I've been thinking about turning the python support into a plugin.  If
>  we compile with Python support, we have a static python dependency in
>  the qgis binary.
>
>  I think that's an issue for packaging.  With python support as plugin,
>  we could split the python plugin into a separate shared library.  If
>  python isn't there, the load of the plugin simply fails (similar to the
>  GRASS plugin).
>
>  On Debian for instance that would open the possiblity to split off the
>  python depencency to a separate package (currently the qgis executable
>  itself depends on python) and make providing individual packages for
>  different python version easier.
>
>  On Windows we wouldn't need to package python with qgis. We'd just
>  notify the user that python is available and will appear when python is
>  installed.
>
>  Maybe we should do the same for GRASS.  Instead of packaging GRASS with
>  QGIS on windows, we'd dynamically depend on the WinGRASS package.
>
>  This could be done by implementing plugin providers implemented in C++
>  that allow to load, unload and list available and loaded plugins.  The
>  plugin provider would be registered with the plugin registry on load.
>
>  Initially there would be a builtin plugin provider for C++ plugins and a
>  provider plugin for python plugins.  That plugin would depends on the
>  python library and also provide the python bindings.
>
>  That way we could also generalize the handling of plugins in QgisApp and
>  the plugin manager and eliminate HAVE_PYTHON there.
>
>  Comments?
>
>
>  J?rgen
>
>  --
>  J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  Software Engineer         D-26506 Norden               http://www.norbit.de
>
>  --
>  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  Rheinstrasse 13, 26506 Norden
>  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From wonder.sk at gmail.com  Thu Apr 17 10:24:07 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Apr 17 10:24:09 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with
	incorectly filled polygons"issues
In-Reply-To: <200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>
References: <48024C20.1030203@o2.pl>
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>
	<48063690.20004@o2.pl>
	<200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>

On Thu, Apr 17, 2008 at 7:43 AM, Marco Hugentobler
<marco.hugentobler@karto.baug.ethz.ch> wrote:
>
>  I would say it is like this (afaik at least on X11):
>
>  FPWIFP on = QPixmap = rendering on graphics card
>  MLALJ on = QImage + antialiasing = software rendering
>  both off = QImage without antialiasing = software rendering

AFAIK - with FPWIFP on and thus drawing with QPixmap, this means
rendering using X server (resp. Windows or Mac backend) - so this
doesn't necesarily means rendering directly on graphics card,
especially on X server it would depend on extensions that are running
and the graphics driver.

Martin
From jef at norbit.de  Thu Apr 17 10:55:00 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu Apr 17 10:55:09 2008
Subject: [Qgis-developer] python as plugin
In-Reply-To: <d368056f0804170538t67a65a0chbc99492b2f97363d@mail.gmail.com>
References: <20080415181143.GA29029@norbit.de>
	<d368056f0804170538t67a65a0chbc99492b2f97363d@mail.gmail.com>
Message-ID: <20080417145500.GA28620@norbit.de>

Hi Tim,

On Thu, 17. Apr 2008 at 09:38:31 -0300, Tim Sutton wrote:
> I like this idea. If I understand it correctly then the 'master'
> python plugin would check at run time if python is present and qgis
> python bindings are available and then load itself and any available
> python plugins?

Yes.  As it is loading a plugin that is missing a dependency silently
fails.  That would be the "runtime check" for the python plugin as it
would not load if the python runtime is missing.


J?rgen

PS: BTW why is everybody top posting here?

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tim at linfiniti.com  Thu Apr 17 11:22:51 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr 17 11:22:55 2008
Subject: [Qgis-developer] python as plugin
In-Reply-To: <e8e7199c0804170709j3069fe82g4640a0065081319@mail.gmail.com>
References: <20080415181143.GA29029@norbit.de>
	<e8e7199c0804170709j3069fe82g4640a0065081319@mail.gmail.com>
Message-ID: <d368056f0804170822r1937c428k9cfa6ad2fb5277d6@mail.gmail.com>

Hi

8<------snip-----------

>  This leads me to 2 possibilities:
>  - make python support a required part of QGIS and integrate the
>  support directly in the core library
>  - create a dynamic library with python support - QGIS application or
>  libraries will try to load the library at run-time. If found, python
>  support will be done by calls to this library, if not found, support
>  would be disabled

I prefer option 2. For people creating apps against the c++ libs then
they wont need to include python in their packaging considerations.

Regards

Tim

>
>  I think with time and with the amount of nice plugins made in python
>  it will be inevitable to make python support a required part.
>
>  Regards
>
> Martin
>
>
>
>  On Tue, Apr 15, 2008 at 8:11 PM, J?rgen E. Fischer <jef@norbit.de> wrote:
>  > Hi there,
>  >
>  >  I've been thinking about turning the python support into a plugin.  If
>  >  we compile with Python support, we have a static python dependency in
>  >  the qgis binary.
>  >
>  >  I think that's an issue for packaging.  With python support as plugin,
>  >  we could split the python plugin into a separate shared library.  If
>  >  python isn't there, the load of the plugin simply fails (similar to the
>  >  GRASS plugin).
>  >
>  >  On Debian for instance that would open the possiblity to split off the
>  >  python depencency to a separate package (currently the qgis executable
>  >  itself depends on python) and make providing individual packages for
>  >  different python version easier.
>  >
>  >  On Windows we wouldn't need to package python with qgis. We'd just
>  >  notify the user that python is available and will appear when python is
>  >  installed.
>  >
>  >  Maybe we should do the same for GRASS.  Instead of packaging GRASS with
>  >  QGIS on windows, we'd dynamically depend on the WinGRASS package.
>  >
>  >  This could be done by implementing plugin providers implemented in C++
>  >  that allow to load, unload and list available and loaded plugins.  The
>  >  plugin provider would be registered with the plugin registry on load.
>  >
>  >  Initially there would be a builtin plugin provider for C++ plugins and a
>  >  provider plugin for python plugins.  That plugin would depends on the
>  >  python library and also provide the python bindings.
>  >
>  >  That way we could also generalize the handling of plugins in QgisApp and
>  >  the plugin manager and eliminate HAVE_PYTHON there.
>  >
>  >  Comments?
>  >
>  >
>  >  J?rgen
>  >
>  >  --
>  >  J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  >  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  >  Software Engineer         D-26506 Norden               http://www.norbit.de
>  >
>  >  --
>  >  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  >  Rheinstrasse 13, 26506 Norden
>  >  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>  >
>  >  _______________________________________________
>  >  Qgis-developer mailing list
>  >  Qgis-developer@lists.osgeo.org
>  >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu Apr 17 11:24:51 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Apr 17 11:24:53 2008
Subject: [Qgis-developer] python as plugin
In-Reply-To: <20080417145500.GA28620@norbit.de>
References: <20080415181143.GA29029@norbit.de>
	<d368056f0804170538t67a65a0chbc99492b2f97363d@mail.gmail.com>
	<20080417145500.GA28620@norbit.de>
Message-ID: <d368056f0804170824w4e308b19t6e53eaa6974f0ef7@mail.gmail.com>

Hi

See reply below
>
>  PS: BTW why is everybody top posting here?
>
See reply above :-)


We don't have any rules about top / bottom posting on this list (and I
hope it stays that way :-) ).

Regards

Tim


>  --
>
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
>  Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>  Software Engineer         D-26506 Norden               http://www.norbit.de
>
>  --
>  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>  Rheinstrasse 13, 26506 Norden
>  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tutey at o2.pl  Thu Apr 17 12:19:47 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Apr 17 12:19:53 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with incorectly
	filled polygons"issues
In-Reply-To: <e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>
References: <48024C20.1030203@o2.pl>	
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>	
	<48063690.20004@o2.pl>	
	<200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>
Message-ID: <480778A3.2050806@o2.pl>

Martin Dobias pisze:
> <marco.hugentobler@karto.baug.ethz.ch> wrote:

>>  I would say it is like this (afaik at least on X11):
>>
>>  FPWIFP on = QPixmap = rendering on graphics card
>>  MLALJ on = QImage + antialiasing = software rendering
>>  both off = QImage without antialiasing = software rendering

> AFAIK - with FPWIFP on and thus drawing with QPixmap, this means
> rendering using X server (resp. Windows or Mac backend) - so this
> doesn't necesarily means rendering directly on graphics card,
> especially on X server it would depend on extensions that are running
> and the graphics driver.

FWIW here are some of my benchmarking results:

I have one polygon vector layer added [1] (10 MB, a subset of the public 
domain VMAP0 data), redraw the canvas and look at the timing printed in 
terminal debug output. Outside digitizing "FPWIFP on" is always fastest. 
Yet during digitizing it is the slowest (*extremely* slow). The pattern 
can be reproduced with any vector layer AFAICT.


x86 Debian testing, Pentium M 1.86GHz, ATI X700 PCIe + open source
radeon driver, QGIS SVN trunk r8352, QT 4.3.4:

not-digitizing:
FPWIFP on: 22.441
MLALJ on: 23.585
both off: 27.189

digitizing:
FPWIFP on: 433.308 (ouch!)
MLALJ on: 140.221
both off: 38.178


amd64 Ubuntu Gutsy, Core2 E6600 2.40GHz, GeForce 6200 LE PCIe +
proprietary nvidia driver, QGIS SVN trunk r8346, QT 4.3.2:

not-digitizing:
FPWIFP on: 6.257
MLALJ on: 8.661
both off: 14.65

digitizing:
FPWIFP on: 492.04 (ouch!)
MLALJ on: 190.413
both off: 31.917

Interesting - the mode that is fastest in digitizing is the slowest 
outside it. This means you can't have one best-performance QGIS 
rendering mode. When digitizing "both off" is best (and the only 
acceptable, given how much slower the 2 other modes are), while for 
browsing vector data you'll prefer "FPWIFP on" as it gives you 20% - 
100% better performance.

"MLALJ on" is always in the middle - I thought would be most demanding 
in any case, ?

Seems that vertices transparency is a performance killer. Could this be 
improved?

Hardware video acceleration and direct rendering work OK on both machines.

Maciek

P.S.

It seems that the name "Fix problems with incorectly filled polygons" 
does not reflect the option's function anymore. I have never noticed any 
incorectly filled polygon for a very long time, in either rendering 
mode. Those of my data which once ("many months ago") rendered strange 
don't do these days. Maybe that's due to some fix in QT or QGIS itself? 
Does anybody still experience corrupted polygon fill in QGIS? If not, 
maybe it's time to rename the option (don't what to call it though)?

[1]http://www.biol.uni.wroc.pl/sieczka/udostepnione/cropa.tar.bz2
From tutey at o2.pl  Thu Apr 17 12:38:14 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Apr 17 12:38:18 2008
Subject: [Qgis-developer] "Fix problems with incorectly filled polygons"
	issues
In-Reply-To: <48024C20.1030203@o2.pl>
References: <48024C20.1030203@o2.pl>
Message-ID: <48077CF6.7030000@o2.pl>

Maciej Sieczka pisze:

> 3. Using QGIS through NX I often experience sudden session shutdowns,
>  if FPWIFP is set, with specific vector layers, that have many 
> polygons with numerous vertices (eg. like raster to vector output). 
> Same layers display just fine when FPWIFP is off. More details in my 
> other post [1]. I know this is not a QGIS issue but rather X or NX 
> one, but I'm wondering if described NX shutdowns could be prevented 
> by changing something in QGIS rendering code?
> 
> [1]http://www.nabble.com/forum/ViewPost.jtp?post=16433182&framed=y

For thread completeness - this issue is fixed in !M NX 3.2.0 release. I
verified that, as described on
http://mail.kde.org/pipermail/freenx-knx/2008-April/006948.html

Maciek
From tutey at o2.pl  Thu Apr 17 14:25:04 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Apr 17 14:25:14 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with incorectly
	filled polygons"issues
In-Reply-To: <480778A3.2050806@o2.pl>
References: <48024C20.1030203@o2.pl>		<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>		<48063690.20004@o2.pl>		<200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>	<e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>
	<480778A3.2050806@o2.pl>
Message-ID: <48079600.8060105@o2.pl>

Maciej Sieczka pisze:

> x86 Debian testing, Pentium M 1.86GHz, ATI X700 PCIe + open source
> radeon driver, QGIS SVN trunk r8352, QT 4.3.4:
> 
> not-digitizing:
> FPWIFP on: 22.441
> MLALJ on: 23.585
> both off: 27.189
> 
> digitizing:
> FPWIFP on: 433.308 (ouch!)
> MLALJ on: 140.221
> both off: 38.178

One more test on the same machine with QGIS 0.8.1 this time, which does 
not have the neat-looking transparent vertex markers in digitizing mode:

not-digitising
FPWIFP on: 22.33
MLALJ on: 24.868
both off: 27.683

digitising
FPWIFP on: 32.324
MLALJ on: 49.036
both off: 31.248

Outside digitizing both results are comparable. In digitizing though it 
is ways faster in all modes. Please consider.

Maciek
From tutey at o2.pl  Thu Apr 17 14:52:30 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Apr 17 14:52:34 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
References: <47F69506.3010207@o2.pl>
	<47FF8049.3050201@duif.net>	<4800B7D9.6030307@duif.net>	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
Message-ID: <48079C6E.1060508@o2.pl>

Tim Sutton pisze:

> Gary and I originally loaded the srs.db using the postgis srs table.
> The idea was to try to synchronise regularly against postgis srs table

Tim,

You mean the "tbl_srs", right? How were the "tbl_projection" and 
"tbl_ellipsoid" created?

I'm trying to get srs.db/tbl_srs in sync with the spatial_ref_sys 
shipped with PostGIS 1.3.3 (should not be too hard) but I don't know 
what to do with the 2 other tables in srs.db.

Maciek

From warmerdam at pobox.com  Thu Apr 17 15:16:53 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Apr 17 15:17:12 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <48079C6E.1060508@o2.pl>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl>
Message-ID: <4807A225.1000404@pobox.com>

Maciej Sieczka wrote:
> Tim Sutton pisze:
> 
>> Gary and I originally loaded the srs.db using the postgis srs table.
>> The idea was to try to synchronise regularly against postgis srs table
> 
> Tim,
> 
> You mean the "tbl_srs", right? How were the "tbl_projection" and 
> "tbl_ellipsoid" created?
> 
> I'm trying to get srs.db/tbl_srs in sync with the spatial_ref_sys 
> shipped with PostGIS 1.3.3 (should not be too hard) but I don't know 
> what to do with the 2 other tables in srs.db.

Maciek,

Well, if you are doing that, should I belay efforts to have the
epsg_tr.py script generate stuff for the srs.db?  epsg_tr.py is
used to generate the postgis spatial_ref_sys table.

I'm not so keen that I want to duplicate efforts.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Thu Apr 17 16:04:43 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Apr 17 16:04:48 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <4807A225.1000404@pobox.com>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl> <4807A225.1000404@pobox.com>
Message-ID: <4807AD5B.1080409@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:
>> Tim Sutton pisze:
>>
>>> Gary and I originally loaded the srs.db using the postgis srs table.
>>> The idea was to try to synchronise regularly against postgis srs table

>> You mean the "tbl_srs", right? How were the "tbl_projection" and 
>> "tbl_ellipsoid" created?
>>
>> I'm trying to get srs.db/tbl_srs in sync with the spatial_ref_sys 
>> shipped with PostGIS 1.3.3 (should not be too hard) but I don't know 
>> what to do with the 2 other tables in srs.db.

> Well, if you are doing that, should I belay efforts to have the
> epsg_tr.py script generate stuff for the srs.db?  epsg_tr.py is
> used to generate the postgis spatial_ref_sys table.
> 
> I'm not so keen that I want to duplicate efforts.

Frank, All,

Before going on - I'm getting puzzled. Based on EPSG:2180:

PostGIS 1.3.3 (just released few days ago), their spatial_ref_sys table:
column 'proj4text column' : k = 0.999300
column 'srtext' : k = 0.9993

GDAL 1.5.0 + svn:
files pcs.csv, projop_wparm.csv, ecw_cs.wkt: k = 0.9993

PROJ 4.6.0, epsg file:
k = 0.9993000000000001

Shouldn't the number of zeros in '+k' be identical in all those software 
in all places for them to interact smoothly? And why does the PROJ have 
a bogus value? In 4.5.0 it was 0.999300.

I was going to trimm the spurios zeros from scale factor definitions in 
QGIS srs.db (so that we get rid of the incompatibility as described in 
this therad before [1]), but I'm now wondering whether fixing QGIS-GDAL 
interaction this way would eg. brake QGIS-PostGIS or something else instead?

Maciek

[1]http://www.nabble.com/forum/ViewPost.jtp?post=16592795&framed=y
From tutey at o2.pl  Thu Apr 17 18:21:44 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Apr 17 18:21:48 2008
Subject: [Qgis-developer] Postgres SSL connection on Windows fails
Message-ID: <4807CD78.9070408@o2.pl>

Hi

Is there a reason why QGIS on Windows (the latest Tisham's build as well 
as the latest Marco's one) fails to connect to Postgres database with 
SSL? I never had the problem with QGIS on GNU/Linux.

Here's the error:

Connection to dbase on xxx.xx.xx.xx failed. Either the database is down 
or your settings are incorrect.

Check your username and password and try again.

The database said:
FATAL:  no pg_hba.conf entry for host "xx.xx.xx.xx", user "user", 
database "dbase", SSL off


The "FATAL" message is not correct. There is an appropriate entry in the 
pg_hba.conf on the server. And I can connect from the same IP when I use 
a Debian machine.

Maciek
From marco.pasetti at alice.it  Thu Apr 17 19:18:18 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Thu Apr 17 19:18:23 2008
Subject: [Qgis-developer] R: Postgres SSL connection on Windows fails
In-Reply-To: <4807CD78.9070408@o2.pl>
References: <4807CD78.9070408@o2.pl>
Message-ID: <000f01c8a0e1$529436f0$0201a8c0@notebookmarco>

Hi Maciej,

If I remember well, I built PGSQL without OpenSSL support, because of build
problems with windows under MinGW. I should work on this to let the OpenSSL
compile under MinGW. Since I'm really too busy now, I guess I'll probably do
the job only for the next releases of both GRASS and QGIS.

Regards,

Marco

-----Messaggio originale-----
Da: Maciej Sieczka [mailto:tutey@o2.pl] 
Inviato: venerd? 18 aprile 2008 0.22
A: qgis-developer
Cc: tisham@apogee.com.au; marco.pasetti@alice.it
Oggetto: Postgres SSL connection on Windows fails

Hi

Is there a reason why QGIS on Windows (the latest Tisham's build as well as
the latest Marco's one) fails to connect to Postgres database with SSL? I
never had the problem with QGIS on GNU/Linux.

Here's the error:

Connection to dbase on xxx.xx.xx.xx failed. Either the database is down or
your settings are incorrect.

Check your username and password and try again.

The database said:
FATAL:  no pg_hba.conf entry for host "xx.xx.xx.xx", user "user", database
"dbase", SSL off


The "FATAL" message is not correct. There is an appropriate entry in the 
pg_hba.conf on the server. And I can connect from the same IP when I use 
a Debian machine.

Maciek

From marco.hugentobler at karto.baug.ethz.ch  Fri Apr 18 01:50:33 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Apr 18 01:49:06 2008
Subject: [Qgis-developer] python as plugin
In-Reply-To: <d368056f0804170822r1937c428k9cfa6ad2fb5277d6@mail.gmail.com>
References: <20080415181143.GA29029@norbit.de>
	<e8e7199c0804170709j3069fe82g4640a0065081319@mail.gmail.com>
	<d368056f0804170822r1937c428k9cfa6ad2fb5277d6@mail.gmail.com>
Message-ID: <200804180750.33830.marco.hugentobler@karto.baug.ethz.ch>

I'm also very much in favor of possibility 2 in order to keep QGIS as modular 
as possible.  

The QGIS mapserver that we use at our institut is an example of an app built 
against the c++ libs. It doesn't use python, but would be harder to compile 
and distribute (fat packages for win that includes all dependencies) with 
option 1.

Regards,
Marco

Am Donnerstag 17 April 2008 17:22:51 schrieb Tim Sutton:
> Hi
>
> 8<------snip-----------
>
> >  This leads me to 2 possibilities:
> >  - make python support a required part of QGIS and integrate the
> >  support directly in the core library
> >  - create a dynamic library with python support - QGIS application or
> >  libraries will try to load the library at run-time. If found, python
> >  support will be done by calls to this library, if not found, support
> >  would be disabled
>
> I prefer option 2. For people creating apps against the c++ libs then
> they wont need to include python in their packaging considerations.
>
> Regards
>
> Tim
>
> >  I think with time and with the amount of nice plugins made in python
> >  it will be inevitable to make python support a required part.
> >
> >  Regards
> >
> > Martin
> >
> >  On Tue, Apr 15, 2008 at 8:11 PM, J?rgen E. Fischer <jef@norbit.de> wrote:
> >  > Hi there,
> >  >
> >  >  I've been thinking about turning the python support into a plugin. 
> >  > If we compile with Python support, we have a static python dependency
> >  > in the qgis binary.
> >  >
> >  >  I think that's an issue for packaging.  With python support as
> >  > plugin, we could split the python plugin into a separate shared
> >  > library.  If python isn't there, the load of the plugin simply fails
> >  > (similar to the GRASS plugin).
> >  >
> >  >  On Debian for instance that would open the possiblity to split off
> >  > the python depencency to a separate package (currently the qgis
> >  > executable itself depends on python) and make providing individual
> >  > packages for different python version easier.
> >  >
> >  >  On Windows we wouldn't need to package python with qgis. We'd just
> >  >  notify the user that python is available and will appear when python
> >  > is installed.
> >  >
> >  >  Maybe we should do the same for GRASS.  Instead of packaging GRASS
> >  > with QGIS on windows, we'd dynamically depend on the WinGRASS package.
> >  >
> >  >  This could be done by implementing plugin providers implemented in
> >  > C++ that allow to load, unload and list available and loaded plugins. 
> >  > The plugin provider would be registered with the plugin registry on
> >  > load.
> >  >
> >  >  Initially there would be a builtin plugin provider for C++ plugins
> >  > and a provider plugin for python plugins.  That plugin would depends
> >  > on the python library and also provide the python bindings.
> >  >
> >  >  That way we could also generalize the handling of plugins in QgisApp
> >  > and the plugin manager and eliminate HAVE_PYTHON there.
> >  >
> >  >  Comments?
> >  >
> >  >
> >  >  J?rgen
> >  >
> >  >  --
> >  >  J?rgen E. Fischer         norBIT GmbH               Tel.
> >  > +49-4931-918175-0 Dipl.-Inf. (FH)           Rheinstra?e 13           
> >  > Fax. +49-4931-918175-50 Software Engineer         D-26506 Norden      
> >  >         http://www.norbit.de
> >  >
> >  >  --
> >  >  norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme
> >  > mbH Rheinstrasse 13, 26506 Norden
> >  >  GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
> >  >
> >  >  _______________________________________________
> >  >  Qgis-developer mailing list
> >  >  Qgis-developer@lists.osgeo.org
> >  >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >  _______________________________________________
> >  Qgis-developer mailing list
> >  Qgis-developer@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Fri Apr 18 12:58:49 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Apr 18 12:58:53 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <4807A225.1000404@pobox.com>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl> <4807A225.1000404@pobox.com>
Message-ID: <d368056f0804180958n290c74c5y138b027f9fd0f29b@mail.gmail.com>

Hi

Yeah if you already have some wizardry in place it would be good to
pass it Richard's way so that he doesnt need to reinvent the wheel.
Since Richard is now the keeper of the SRS crypt we can defer to him
on this.

Regards


Tim


2008/4/17, Frank Warmerdam <warmerdam@pobox.com>:
> Maciej Sieczka wrote:
>
> > Tim Sutton pisze:
> >
> >
> > > Gary and I originally loaded the srs.db using the postgis srs table.
> > > The idea was to try to synchronise regularly against postgis srs table
> > >
> >
> > Tim,
> >
> > You mean the "tbl_srs", right? How were the "tbl_projection" and
> "tbl_ellipsoid" created?
> >
> > I'm trying to get srs.db/tbl_srs in sync with the spatial_ref_sys shipped
> with PostGIS 1.3.3 (should not be too hard) but I don't know what to do with
> the 2 other tables in srs.db.
> >
>
>  Maciek,
>
>  Well, if you are doing that, should I belay efforts to have the
>  epsg_tr.py script generate stuff for the srs.db?  epsg_tr.py is
>  used to generate the postgis spatial_ref_sys table.
>
>  I'm not so keen that I want to duplicate efforts.
>
>  Best regards,
>  --
> ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Fri Apr 18 13:11:14 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Apr 18 13:11:16 2008
Subject: [Qgis-developer] 0.10.0 Release branch created - call for packages
Message-ID: <d368056f0804181011u57093bd8u8ee01a1aa4cee69a@mail.gmail.com>

Hi Folks (and especially package makers and release team)

Yesterday I created the release branch:

svn co https://svn.osgeo.org/qgis/branches/Release-0.10.0

Only packaging related changes should be made against this branch. If
the kind folks who usually create packages for various platforms and
distros could set about making 0.10.0 packages we would be most
grateful. The list of normal packagers is listed at the top of:

http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.10.0

If you are not able to package this release and are listed on the page
above please let me know, If you are able to package for a new
platform / distro please let me know and I will add your name to the
list.

Release team please note that I moved the date of final announcement
of release to April 25 2008. It will be great to have all press
announcements ready for then!

Many thanks once again to all those helping to prepare this release!

Best regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From otto.dassau at gmx.de  Fri Apr 18 14:40:56 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Fri Apr 18 14:41:15 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] 0.10.0 Release branch
 created - call for packages
In-Reply-To: <d368056f0804181011u57093bd8u8ee01a1aa4cee69a@mail.gmail.com>
References: <d368056f0804181011u57093bd8u8ee01a1aa4cee69a@mail.gmail.com>
Message-ID: <20080418204056.334c36f3@nature>

Hi, 

Opensuse packages are building and will be available tomorrow morning:
http://download.opensuse.org/repositories/Application:/Geo/

regards,
 Otto

On Fri, 18 Apr 2008 14:11:14 -0300
"Tim Sutton" <tim@linfiniti.com> wrote:

> Hi Folks (and especially package makers and release team)
> 
> Yesterday I created the release branch:
> 
> svn co https://svn.osgeo.org/qgis/branches/Release-0.10.0
> 
> Only packaging related changes should be made against this branch. If
> the kind folks who usually create packages for various platforms and
> distros could set about making 0.10.0 packages we would be most
> grateful. The list of normal packagers is listed at the top of:
> 
> http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.10.0
> 
> If you are not able to package this release and are listed on the page
> above please let me know, If you are able to package for a new
> platform / distro please let me know and I will add your name to the
> list.
> 
> Release team please note that I moved the date of final announcement
> of release to April 25 2008. It will be great to have all press
> announcements ready for then!
> 
> Many thanks once again to all those helping to prepare this release!
> 
> Best regards
> 
From rdmailings at duif.net  Sat Apr 19 08:15:46 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat Apr 19 08:15:54 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <d368056f0804180958n290c74c5y138b027f9fd0f29b@mail.gmail.com>
References: <47F69506.3010207@o2.pl>
	<47FF8049.3050201@duif.net>	<4800B7D9.6030307@duif.net>	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>	<48079C6E.1060508@o2.pl>
	<4807A225.1000404@pobox.com>
	<d368056f0804180958n290c74c5y138b027f9fd0f29b@mail.gmail.com>
Message-ID: <4809E272.7050606@duif.net>

Hi,
last week I had a small irc-chat with Frank in which he offered (uh, at 
least that was what I understood :-)  ), to add a -qgis option to the 
epsg_tr.py script he uses to generate epgs/paramater lists (when he 
finds some time):
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/scripts/epsg_tr.py

I had a look myself in the original epgs.mdb, but fail to understand 
that interface..

I think it will be usefull to have one source for all osgeo-related 
epgs/projection-stuff. So really like the idea of using the epsg_tr.py 
script for qgis also!

see https://trac.osgeo.org/qgis/ticket/1035 if you want to pick this 
taks up

Regards,
Richard Duivenvoorde




Tim Sutton wrote:
> Hi
> 
> Yeah if you already have some wizardry in place it would be good to
> pass it Richard's way so that he doesnt need to reinvent the wheel.
> Since Richard is now the keeper of the SRS crypt we can defer to him
> on this.
> 
> Regards
> 
> 
> Tim
> 
> 
> 2008/4/17, Frank Warmerdam <warmerdam@pobox.com>:
>> Maciej Sieczka wrote:
>>
>>> Tim Sutton pisze:
>>>
>>>
>>>> Gary and I originally loaded the srs.db using the postgis srs table.
>>>> The idea was to try to synchronise regularly against postgis srs table
>>>>
>>> Tim,
>>>
>>> You mean the "tbl_srs", right? How were the "tbl_projection" and
>> "tbl_ellipsoid" created?
>>> I'm trying to get srs.db/tbl_srs in sync with the spatial_ref_sys shipped
>> with PostGIS 1.3.3 (should not be too hard) but I don't know what to do with
>> the 2 other tables in srs.db.
>>  Maciek,
>>
>>  Well, if you are doing that, should I belay efforts to have the
>>  epsg_tr.py script generate stuff for the srs.db?  epsg_tr.py is
>>  used to generate the postgis spatial_ref_sys table.
>>
>>  I'm not so keen that I want to duplicate efforts.
>>
>>  Best regards,
>>  --
>> ---------------------------------------+--------------------------------------
>>  I set the clouds in motion - turn up   | Frank Warmerdam,
>> warmerdam@pobox.com
>>  light and sound - activate the windows | http://pobox.com/~warmerdam
>>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>>
>>
>>  _______________________________________________
>>  Qgis-developer mailing list
>>  Qgis-developer@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> 
> 

From woklist at kyngchaos.com  Sun Apr 20 12:25:21 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sun Apr 20 12:25:30 2008
Subject: [Qgis-developer] 0.10.0 Release branch created - call for packages
In-Reply-To: <d368056f0804181011u57093bd8u8ee01a1aa4cee69a@mail.gmail.com>
References: <d368056f0804181011u57093bd8u8ee01a1aa4cee69a@mail.gmail.com>
Message-ID: <C01F4DBA-56AD-4A76-8D93-D9A3F11968B5@kyngchaos.com>

My OSX framework-based builds are ready.  I'll wait for the  
announcement to update my download page.

As with my builds since switching to Leopard, separate Tiger and  
Leopard binaries.  You might want to add a note about this on the Qgis  
downloads page. (including the 0.9.1 and 0.9.2rc1 entries)

On Apr 18, 2008, at 12:11 PM, Tim Sutton wrote:

> Hi Folks (and especially package makers and release team)
>
> Yesterday I created the release branch:
>
> svn co https://svn.osgeo.org/qgis/branches/Release-0.10.0
>
> Only packaging related changes should be made against this branch. If
> the kind folks who usually create packages for various platforms and
> distros could set about making 0.10.0 packages we would be most
> grateful. The list of normal packagers is listed at the top of:
>
> http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.10.0
>
> If you are not able to package this release and are listed on the page
> above please let me know, If you are able to package for a new
> platform / distro please let me know and I will add your name to the
> list.
>
> Release team please note that I moved the date of final announcement
> of release to April 25 2008. It will be great to have all press
> announcements ready for then!
>
> Many thanks once again to all those helping to prepare this release!
>
> Best regards
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Oh, look, I seem to have fallen down a deep, dark hole.  Now what  
does that remind me of?  Ah, yes - life."

- Marvin


From jef at norbit.de  Sun Apr 20 18:07:42 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Apr 20 18:07:47 2008
Subject: [Qgis-developer] RFC vector data providers handling
Message-ID: <20080420220742.GA11103@norbit.de>

Hi there,

I've looked at Godofredo's ogr-plugin-branch and ported it to trunk (see the
patch [1]) with some modifications.  I skipped the QgsConnectionRegistry and
QgsConnectionParameters and also removed QgsDataSourceURI at all.  As I think
both spread information where it doesn't belong.

I think we should do that a bit different. First of all the notation of a
datasources should be private to the provider.  So I think it's not good to mix
connection parameters of different providers.

It's probably best to keep that information in a QDomNode instead of a string
That could also be used in the project file: datasource and provider there
should be replaced with something like dataprovider that aggregates provider
name and the private datasource.

In the process QgsDbSourceSelect should be renamed to QgsSourceSelect.
The gui should list should list the registered vector data providers (classes).

Each data provider should have a private list of connections (ie. database
connection in PostgreSQL, datasources in OGR) and offer class methods to

- list connections by name,
- remove a connection by name,
- add and edit new connections (this would include a provider specific gui),
- return a list of datasource with the available vector layers through a named
  connection (ie. layers in OGR, geometry columns in PostgreSQL).  To support
  provider specific grouping (eg. for schemas in the PostgreSQL provider) that
  could be aggregated in a QDomNode.

The OGR provider gui should also include filebased sources, so that "add vector
layers" can be completely replaced with QgsSourceSelect (btw I believe there's
also an enhancement request in trac for something like that).

QgsSourceSelect would query a selected provider for a list of connections,
offer to add, edit and remove connections and list vector layers available
through the selected connection.  The available layers can then selected to be
added to the map.

This way we'd move provider specific code and information to the provider and
keep app/ clean.

Any comments or objections?


J?rgen

[1] http://buten.norbit.de/~jef/ogrmymerge.diff

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tutey at o2.pl  Sun Apr 20 18:21:32 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Apr 20 18:21:36 2008
Subject: [Qgis-developer] RFC vector data providers handling
In-Reply-To: <20080420220742.GA11103@norbit.de>
References: <20080420220742.GA11103@norbit.de>
Message-ID: <480BC1EC.8020308@o2.pl>

J?rgen E. Fischer pisze:

> QgsSourceSelect would query a selected provider for a list of 
> connections, offer to add, edit and remove connections and list 
> vector layers available through the selected connection.  The 
> available layers can then selected to be added to the map.

Could it also let creating new / deleting existing layers?

Maciek
From jef at norbit.de  Sun Apr 20 19:43:28 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Apr 20 19:43:32 2008
Subject: [Qgis-developer] RFC vector data providers handling
In-Reply-To: <480BC1EC.8020308@o2.pl>
References: <20080420220742.GA11103@norbit.de> <480BC1EC.8020308@o2.pl>
Message-ID: <20080420234328.GA20985@norbit.de>

Hi Maciej,

On Mon, 21. Apr 2008 at 00:21:32 +0200, Maciej Sieczka wrote:
> >QgsSourceSelect would query a selected provider for a list of 
> >connections, offer to add, edit and remove connections and list 
> >vector layers available through the selected connection.  The 
> >available layers can then selected to be added to the map.
 
> Could it also let creating new / deleting existing layers?

Yes.  That could also be done.  The provider specific gui to create/edit
datasource could also offer option to create new layers - transparently
to everything else.

So the current option to create new shapefiles (via OGR) could also be
integrated into the provider.  IMHO another thing that's moved to right
place then.

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From Horst.Duester at bd.so.ch  Mon Apr 21 06:57:29 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Mon Apr 21 06:57:33 2008
Subject: [Qgis-developer] PostGIS connector produces high DB traffic
Message-ID: <H00002eb029ee02b.1208775448.srsofaioi6145.ktso.ch@MHS>

In some cases the PostGIS connector can produce high DB traffic. The
reason for this behaviour is the uncecked GUI option "Only look in
geometry_columns". In my case I do have a Postgres DB with tousands of
tables. The unchecked option leeds to high DB traffic due to the scan
through all DB tables to detect tables with geometry which are not
registered in geometry_columns. When the PostGIS connection GUI is
opened twice, twice DB traffic will be generated and so on. I a
multiuser environment with high DB usage the DB will be down in a short
time.

A solution could be to turn the meaning of the option from "Only look in
geometry_columns" into "Scan for all tables with geometry column"
combined with a message that this option can create high DB traffic, be
careful. "Scan for all tables .. " should be set off as default.

What do you think about this idea?

Regards 
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080421/22719627/attachment.html
From geronik444 at gmail.com  Mon Apr 21 10:23:01 2008
From: geronik444 at gmail.com (Nikos Geronitidis)
Date: Mon Apr 21 10:23:04 2008
Subject: [Qgis-developer] Linking Problem QGsApplication
Message-ID: <2b0dc300804210723m3e792de9m5ae7a1602bb25d83@mail.gmail.com>

Hi

I am trying to create a simple application on Windows, based on the
QGsApplication class. While compiling ends with success, there are some
linking errors.
How can an application be built with success when no libs are given from the
installation?, namely there are no .lib files found on the QGis installation
directory.
Any ideas? Thanks in advance.

-- 
Best Regards
Nikos Gerontidis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080421/c518af2d/attachment.html
From marco.pasetti at alice.it  Mon Apr 21 10:53:48 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Mon Apr 21 10:53:55 2008
Subject: [Qgis-developer] Quantum GIS Windows *extra* binaries
Message-ID: <FBCMMO03cuZcGwM0OOJ000bbc99@FBCMMO03.fbc.local>

Hi all,
 
I decided to slightly delay my QGIS windows package, since I'm releasing GRASS 6.3.0, and there is enough time to put it into quantum QGIS 0.10.0
About QGIS windows package: I saw that in the previous releases made by Tisham, the QGIS root contained some *extra* binaries, such as gdal*.exe... could someone tell me exactly what files do we need? in the following lines I list all the binaries in my /usr/local/bin MSYS folder. Please, tell me what to add to QGIS package:
 
XMLTester.exe    gdal_contour.exe    gdaltransform.exe  nad2bin.exe    ras2tiff.exe   tiffcp.exe
bison.exe        gdal_grid.exe       gdalwarp.exe       nad2nad.exe    raw2tiff.exe   tiffdither.exe
bmp2tiff.exe     gdal_rasterize.exe  geod.exe           nearblack.exe  rgb2ycbcr.exe  tiffdump.exe
cs2cs.exe        gdal_translate.exe  gif2tiff.exe       ogr2ogr.exe    thumbnail.exe  tiffinfo.exe
fax2ps.exe       gdaladdo.exe        gsl-histogram.exe  ogrinfo.exe    tiff2bw.exe    tiffmedian.exe
fax2tiff.exe     gdalenhance.exe     gsl-randist.exe    ogrtindex.exe  tiff2pdf.exe   tiffset.exe
fftw-wisdom.exe  gdalinfo.exe        invgeod.exe        pal2rgb.exe    tiff2ps.exe    tiffsplit.exe
flex++.exe       gdalmanage.exe      invproj.exe        ppm2tiff.exe   tiff2rgba.exe
flex.exe         gdaltindex.exe      m4.exe             proj.exe       tiffcmp.exe
 
Thanks
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080421/fbaab774/attachment-0001.html
From rene.estrellam at hotmail.com  Mon Apr 21 13:37:19 2008
From: rene.estrellam at hotmail.com (=?UTF-8?Q?Ren=C3=A9_Estrella?=)
Date: Mon Apr 21 13:37:21 2008
Subject: [Qgis-developer] Developing QGIS plugins on Windows
Message-ID: <16808294.post@talk.nabble.com>


Greetings.

I am interested in developing a QGIS plugin using C++ and for the Windows
platform.  I read some documentation in the QGIS website (including the blog
and wiki) and found information that seems applicable only in Unix-like OSs. 
Is there any documentation in the web where I can learn from how to develop
a plugin for the Windows version of QGIS?  Or can you give me an advice to
start learning about plugin development on Windows?

Thanks in advance.
-- 
View this message in context: http://www.nabble.com/Developing-QGIS-plugins-on-Windows-tp16808294p16808294.html
Sent from the qgis-developer mailing list archive at Nabble.com.

From jef at norbit.de  Mon Apr 21 23:01:57 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon Apr 21 23:02:04 2008
Subject: [Qgis-developer] Re: OGR "merge"
In-Reply-To: <BAY110-W25921A0207C2E43AB96D94B2E10@phx.gbl>
References: <20080420023851.GA28130@norbit.de>
	<BAY110-W25921A0207C2E43AB96D94B2E10@phx.gbl>
Message-ID: <20080422030157.GA18906@norbit.de>

[Cc'ing the developer list as I posted a link to the patch there too]

Hi Godofredo,

On Mon, 21. Apr 2008 at 23:54:20 +0000, godofredo contreras wrote:
> The problem is that there are missing three files:
 
> in ui: qgsnewogrgenericconnectionbase.ui
> in app: qgsnewogrgenericconnection.cpp and qgsnewogrgenericconnection.h

Ah, right. I forgot to add them...

> also there are needed some changes in qgsdbsourceselect.cpp

I also missed to re-enable the pgquerybuilder. SPIT isn't working too
and I disabled the pggeoprocessing plugin (that's probably going to be
replaced with Horst's python plugin at some point anyway).


> I made the changes and I managed to compile but also is needed to
> addecuate the qgsogrgenericdialog, I will work on it tomorrow and I
> will send you the files.

Don't get me wrong, I just added the patch to get feedback and as basis
for discussion.  I didn't want to apply it to trunk as it is.  To say
the least, it needs more testing. But my current working copy actually
compiles so that I can supply you with an updated patch, if you like.

After giving it some more thought, I also posted my ideas to the
qgis-developer list.  Did you see that?

If we want to go down that road, there's work to be done on all vector
data providers - so that's probably not a good idea to do that directly
in trunk.

We could "reverse" the patch and apply it to the ogr-plugin-branch and
work there or start a brand new one as that branch won't just touch OGR,
but that would effectivly mean to kill the ogr-plugin-branch...

I'm not sure how to proceed. I'd prefer the latter.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From kwakueli at hotmail.com  Tue Apr 22 05:35:24 2008
From: kwakueli at hotmail.com (adase akude)
Date: Tue Apr 22 05:36:26 2008
Subject: [Qgis-developer] qgis python qtdesigner
Message-ID: <BAY109-W16C1A50587EF437BF158CBCCE00@phx.gbl>

Hi,
 
I would like to develop custom applications  using qgis 0.9.2. Do I have to install Python 2.5, qt, pyqt separately, or all these packages come with the latest qgis version. Please how can i access the development environment.
 
Thanks
_________________________________________________________________
Discover the new Windows Vista
http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080422/491ef498/attachment.html
From cavallini at faunalia.it  Tue Apr 22 10:43:58 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Apr 22 10:44:01 2008
Subject: [Qgis-developer] GSoC project accepted - home range analyses
	in	QGIS using R	through Python
In-Reply-To: <1208865693.6968.26.camel@galadriel>
References: <1208865693.6968.26.camel@galadriel>
Message-ID: <480DF9AE.3010904@faunalia.it>

Anne Ghisla ha scritto:

> it's a great pleasure to announce that my application has been accepted.
> The aim is to build a Python plugin for QGIS containing the most common
> home range estimators, calling R via RPy.

Great thing!
Please keep us updated on the progresses.
Good luck.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo con parecchie difficolt? con NGI http://www.ngi.it/
From benjamin.ducke at oxfordarch.co.uk  Tue Apr 22 11:36:45 2008
From: benjamin.ducke at oxfordarch.co.uk (Benjamin Ducke)
Date: Tue Apr 22 11:36:46 2008
Subject: [Qgis-developer] Compiling QGIS 0.10.0 using MingW and GEOS 3.0.0
In-Reply-To: <480DF9AE.3010904@faunalia.it>
References: <1208865693.6968.26.camel@galadriel> <480DF9AE.3010904@faunalia.it>
Message-ID: <480E060D.3050102@oxfordarch.co.uk>

Dear all,

I really wanted to figure this one out myself, but am I hopelessly
stranded. I am trying to compile Compiling QGIS 0.10.0 using MingW and
GEOS 3.0.0 on Windows.

At the first linking step, all I get is this:

CMakeFiles/qgis_core.dir/qgsgeometry.obj:qgsgeometry.cpp:(.text+0xbf5): 
undefined reference to 
`geos::io::WKTReader::WKTReader(geos::geom::GeometryFactory const*)'

... and a bunch more just like it.

The same issue seems to have been reported in the
past, but all patches I could find are already applied in GEOS 3.0.0.

I have tried downgrading to GEOS 2.2.3, but no luck (got similar
error messages).

I know that GEOS 3.0.0 should work fine with my setup, because I have
linked it against GDAL 1.5.1 without problems.

Did anyone here run into the same trouble?

I would be most grateful for any hints.

Cheers,

Ben

-- 
Benjamin Ducke
Senior Applications Support and Development Officer

Oxford Archaeological Unit Limited
Janus House
Osney Mead
OX2 0ES
Oxford, U.K.

Tel: +44 (0)1865 263 800 (switchboard)
Tel: +44 (0)1865 980 758 (direct)
Fax :+44 (0)1865 793 496
benjamin.ducke@oxfordarch.co.uk




------
Files attached to this email may be in ISO 26300 format (OASIS Open Document Format). If you have difficulty opening them, please visit http://iso26300.info for more information.

From marco.pasetti at alice.it  Tue Apr 22 11:38:17 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Tue Apr 22 11:39:57 2008
Subject: R: [Qgis-developer] Compiling QGIS 0.10.0 using MingW and GEOS 3.0.0
References: <1208865693.6968.26.camel@galadriel> <480DF9AE.3010904@faunalia.it>
	<480E060D.3050102@oxfordarch.co.uk>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB419D@FBCMST06V02.fbc.local>

Hi Ben,
 
yes, it's a know issue.
 
see here for more details: http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html
 
when final 0.10.0 installer for windows will be released I'll publish the guide update.
 
Hope this helps,
 
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di Benjamin Ducke
Inviato: mar 22/04/2008 17.36
Cc: qgis-developer
Oggetto: [Qgis-developer] Compiling QGIS 0.10.0 using MingW and GEOS 3.0.0



Dear all,

I really wanted to figure this one out myself, but am I hopelessly
stranded. I am trying to compile Compiling QGIS 0.10.0 using MingW and
GEOS 3.0.0 on Windows.

At the first linking step, all I get is this:

CMakeFiles/qgis_core.dir/qgsgeometry.obj:qgsgeometry.cpp:(.text+0xbf5):
undefined reference to
`geos::io::WKTReader::WKTReader(geos::geom::GeometryFactory const*)'

... and a bunch more just like it.

The same issue seems to have been reported in the
past, but all patches I could find are already applied in GEOS 3.0.0.

I have tried downgrading to GEOS 2.2.3, but no luck (got similar
error messages).

I know that GEOS 3.0.0 should work fine with my setup, because I have
linked it against GDAL 1.5.1 without problems.

Did anyone here run into the same trouble?

I would be most grateful for any hints.

Cheers,

Ben

--
Benjamin Ducke
Senior Applications Support and Development Officer

Oxford Archaeological Unit Limited
Janus House
Osney Mead
OX2 0ES
Oxford, U.K.

Tel: +44 (0)1865 263 800 (switchboard)
Tel: +44 (0)1865 980 758 (direct)
Fax :+44 (0)1865 793 496
benjamin.ducke@oxfordarch.co.uk




------
Files attached to this email may be in ISO 26300 format (OASIS Open Document Format). If you have difficulty opening them, please visit http://iso26300.info <http://iso26300.info/>  for more information.

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080422/50a736b5/attachment.html
From frdcn at hotmail.com  Tue Apr 22 11:57:10 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Tue Apr 22 11:57:13 2008
Subject: [Qgis-developer] RFC vector data providers handling
In-Reply-To: <20080420220742.GA11103@norbit.de>
References: <20080420220742.GA11103@norbit.de>
Message-ID: <BAY110-W353965FA17928048A089B3B2E00@phx.gbl>

Hi:

> Date: Mon, 21 Apr 2008 00:07:42 +0200
> From: jef@norbit.de
> To: qgis-developer@lists.osgeo.org
> Subject: [Qgis-developer] RFC vector data providers handling
> 
> Hi there,
> 
> I've looked at Godofredo's ogr-plugin-branch and ported it to trunk (see the
> patch [1]) with some modifications.  I skipped the QgsConnectionRegistry and
> QgsConnectionParameters and also removed QgsDataSourceURI at all.  As I think
> both spread information where it doesn't belong.
> 
> I think we should do that a bit different. First of all the notation of a
> datasources should be private to the provider.  So I think it's not good to mix
> connection parameters of different providers.

Yes, I also think that  notation should be private to the provider. This way we can
add new types easier without touching any other code(OGR case).
  
> It's probably best to keep that information in a QDomNode instead of a string
> That could also be used in the project file: datasource and provider there
> should be replaced with something like dataprovider that aggregates provider
> name and the private datasource.

 
> In the process QgsDbSourceSelect should be renamed to QgsSourceSelect.
> The gui should list should list the registered vector data providers (classes).

I was thinking a little about this and I think we can unify raster, vector (file based)
and vector(database based) and even wfs and wms in a dialog. This way we can simplify a lot
the gui.
 
> Each data provider should have a private list of connections (ie. database
> connection in PostgreSQL, datasources in OGR) and offer class methods to
> 
> - list connections by name,
> - remove a connection by name,
> - add and edit new connections (this would include a provider specific gui),
> - return a list of datasource with the available vector layers through a named
>   connection (ie. layers in OGR, geometry columns in PostgreSQL).  To support
>   provider specific grouping (eg. for schemas in the PostgreSQL provider) that
>   could be aggregated in a QDomNod.
> 
> The OGR provider gui should also include filebased sources, so that "add vector
> layers" can be completely replaced with QgsSourceSelect (btw I believe there's
> also an enhancement request in trac for something like that).
> 
> QgsSourceSelect would query a selected provider for a list of connections,
> offer to add, edit and remove connections and list vector layers available
> through the selected connection.  The available layers can then selected to be
> added to the map.

I have few questions:

Have you thought about the layer creation? should it be included in  provider? 
How will we access the new functionality in the provider? do the interface needs to be extended?

Regards
Godofredo Contreras



_________________________________________________________________
Spell a grand slam in this game where word skill meets World Series. Get in the game.
http://club.live.com/word_slugger.aspx?icid=word_slugger_wlhm_admod_april08
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080422/f18b49b0/attachment-0001.html
From frdcn at hotmail.com  Tue Apr 22 12:02:49 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Tue Apr 22 12:02:51 2008
Subject: [Qgis-developer] RE: OGR "merge"
In-Reply-To: <20080422030157.GA18906@norbit.de>
References: <20080420023851.GA28130@norbit.de>
	<BAY110-W25921A0207C2E43AB96D94B2E10@phx.gbl>
	<20080422030157.GA18906@norbit.de>
Message-ID: <BAY110-W4DD463AB1C035AB9D8525B2E00@phx.gbl>

Hi J?rgen:

I think the best option is create a new branch.

Regards
Godofredo Contreras



> Date: Tue, 22 Apr 2008 05:01:57 +0200
> From: jef@norbit.de
> To: frdcn@hotmail.com
> CC: qgis-developer@lists.osgeo.org
> Subject: Re: OGR "merge"
> 
> [Cc'ing the developer list as I posted a link to the patch there too]
> 
> Hi Godofredo,
> 
> On Mon, 21. Apr 2008 at 23:54:20 +0000, godofredo contreras wrote:
> > The problem is that there are missing three files:
>  
> > in ui: qgsnewogrgenericconnectionbase.ui
> > in app: qgsnewogrgenericconnection.cpp and qgsnewogrgenericconnection.h
> 
> Ah, right. I forgot to add them...
> 
> > also there are needed some changes in qgsdbsourceselect.cpp
> 
> I also missed to re-enable the pgquerybuilder. SPIT isn't working too
> and I disabled the pggeoprocessing plugin (that's probably going to be
> replaced with Horst's python plugin at some point anyway).
> 
> 
> > I made the changes and I managed to compile but also is needed to
> > addecuate the qgsogrgenericdialog, I will work on it tomorrow and I
> > will send you the files.
> 
> Don't get me wrong, I just added the patch to get feedback and as basis
> for discussion.  I didn't want to apply it to trunk as it is.  To say
> the least, it needs more testing. But my current working copy actually
> compiles so that I can supply you with an updated patch, if you like.
> 
> After giving it some more thought, I also posted my ideas to the
> qgis-developer list.  Did you see that?
> 
> If we want to go down that road, there's work to be done on all vector
> data providers - so that's probably not a good idea to do that directly
> in trunk.
> 
> We could "reverse" the patch and apply it to the ogr-plugin-branch and
> work there or start a brand new one as that branch won't just touch OGR,
> but that would effectivly mean to kill the ogr-plugin-branch...
> 
> I'm not sure how to proceed. I'd prefer the latter.
> 
> 
> J?rgen
> 
> -- 
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
> 
> -- 
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
> 

_________________________________________________________________
Spell a grand slam in this game where word skill meets World Series. Get in the game.
http://club.live.com/word_slugger.aspx?icid=word_slugger_wlhm_admod_april08
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080422/0196498a/attachment.html
From jef at norbit.de  Tue Apr 22 13:37:09 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Apr 22 13:37:16 2008
Subject: [Qgis-developer] RFC vector data providers handling
In-Reply-To: <BAY110-W353965FA17928048A089B3B2E00@phx.gbl>
References: <20080420220742.GA11103@norbit.de>
	<BAY110-W353965FA17928048A089B3B2E00@phx.gbl>
Message-ID: <20080422173709.GA9231@norbit.de>

Hi Godofredo,

On Tue, 22. Apr 2008 at 15:57:10 +0000, godofredo contreras wrote:
> Yes, I also think that  notation should be private to the provider.
> This way we can add new types easier without touching any other
> code(OGR case).

Or every other provider.


> > In the process QgsDbSourceSelect should be renamed to QgsSourceSelect.
> > The gui should list should list the registered vector data providers (classes).
 
> I was thinking a little about this and I think we can unify raster,
> vector (file based) and vector(database based) and even wfs and wms in
> a dialog. This way we can simplify a lot the gui.

I just thought (and cared) about vector layers yet, but your right.
QgsProviderRegistery doesn't make a difference there.  We can take it to
the QgsMapLayer level.


> > Each data provider should have a private list of connections (ie. database
> > connection in PostgreSQL, datasources in OGR) and offer class methods to

> > - list connections by name,
> > - remove a connection by name,
> > - add and edit new connections (this would include a provider specific gui),
> > - return a list of datasource with the available vector layers through a named
> >   connection (ie. layers in OGR, geometry columns in PostgreSQL).  To support
> >   provider specific grouping (eg. for schemas in the PostgreSQL provider) that
> >   could be aggregated in a QDomNod.

> Have you thought about the layer creation? should it be included in
> provider? 
> How will we access the new functionality in the provider? do the
> interface needs to be extended?

Above is as good as a list of methods I'd like to add to the providers.
I intended to add class methods.  But we could also add and export
functions (or wrappers for the class methods;  similar to
fileVectorFilters()).

QGISEXTERN QStringList getConnections();
// would return a of registered connection names in the driver
// QgsSourceSelect would call it to fill the connection combobox after
// the provider is selected. This should also get an "New..." entry.

QGISEXTERN bool editConnection(QString connection);
// would be tied to the add/edit button and add/edit a selected
// connection in the combobox and open a provider specific dialog box.
// That gui could optionally include and "Add Layer..." button to create
// a new layer (ie. QgsGeomTypeDialog for OGR, but not tied to just
// shapes).

QGISEXTERN bool removeConnection(QString connection);
// would be tied to the remove button to remove the connection

QGISEXTERN QDomNode *getLayerList(QString connection);
// would be tied to the list layers button (to replace "Connect")
// and return a list of layers that is used to fill QgsSourceSelect
// lists layer list.

QGISEXTERN QgsMapLayer *getLayer(const QDomNode *);
// would instantiate a QgsMapLayer with a selected layer

And the vector data providers might need and additional method to fire
up a gui to set a filter (ie. QgsPgQueryBuilder for the postgres
provider and something similar for OGR layers that support it).


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From rdmailings at duif.net  Tue Apr 22 15:28:42 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue Apr 22 15:28:49 2008
Subject: [Qgis-developer] qgis python qtdesigner
In-Reply-To: <BAY109-W16C1A50587EF437BF158CBCCE00@phx.gbl>
References: <BAY109-W16C1A50587EF437BF158CBCCE00@phx.gbl>
Message-ID: <480E3C6A.4060400@duif.net>

Hi Adase,
Looking at your signature, you are developing on windows?

Marco is making a beautiful installer for windows which will have python 
build in with the upcoming version 0.10.
After installing that one you can do a search for python en plugin in 
either blog or wiki at qgis.org:
http://wiki.qgis.org/qgiswiki
http://blog.qgis.org/?q=taxonomy/term/2
Here you will find some simple examples:
eg. http://blog.qgis.org/?q=node/104

You can also install some python plugins, and look in the source code of 
them.

To answer your question a little further: it really depends on the kind 
of plugin you are willing to build. The Rasterinfoplugin for example 
does not have a real 'gui' component (so: you will not need to install 
qt for this). You can use the 'framework'/codebase of that plugin to get 
your feed wet.
But if you want to build something with a dialog, or more sophisticated 
plugins (like html-image-plugin) you have to install qt and qt python 
tools. These tools give you the ability to 'design' dialogs etc. 
'Compile' images etc for resources etc.
I wrote something about my first plugin here:
http://www.duif.net/qgis/

Good luck and have fun,

Richard Duivenvoorde

ps and if you build a nice one, add it to the plugin repository :-)



adase akude wrote:
> Hi,
>  
> I would like to develop custom applications  using qgis 0.9.2. Do I have 
> to install Python 2.5, qt, pyqt separately, or all these packages come 
> with the latest qgis version. Please how can i access the development 
> environment.
>  
> Thanks
> 
> ------------------------------------------------------------------------
> Discover the new Windows Vista Learn more! 
> <http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE>
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
From anitagraser at gmx.at  Wed Apr 23 07:07:22 2008
From: anitagraser at gmx.at (Anita Graser)
Date: Wed Apr 23 07:07:25 2008
Subject: [Qgis-developer] FindByAttribute Plug-In v0.2
Message-ID: <20080423110722.263850@gmx.net>

Hi,

Since Maur?cio published his FindByAttribute Plug-In in February, I found that working without it is pretty annoying. Especially searching layers with a lot of features can be really time consuming if you have to wait for the AttributeTable to load. 
... But I guess you know that.

Version 0.2 has the following features:
* 5 relational operators: =,<,>,<=,>=
* = operator works like "=" not "LIKE"
* Messagebox telling how many features were found

Bugfixes:
* Icon is diplayed in toolbar
* Attribute list without duplicate entries 

The Plug-In is available via the Official QGIS repository. 

If you find any bugs (sure you will), let me know of them.

Ciao,
Anita
-- 
Der GMX SmartSurfer hilft bis zu 70% Ihrer Onlinekosten zu sparen! 
Ideal f?r Modem und ISDN: http://www.gmx.net/de/go/smartsurfer
From rdmailings at duif.net  Wed Apr 23 10:18:24 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed Apr 23 10:18:27 2008
Subject: [Qgis-developer] [Fwd: Re: [Geowanking] ArcView 3.1 replacement]
Message-ID: <480F4530.6010006@duif.net>

People still in need of a 'summer project' ;-)

Forwarded from GeoWanking list below.

Seems a nice (and challenging) 'feature' for qgis...
see:
http://mapperz.blogspot.com/2007/01/spatial-join-analysis-returns-to-arcgis.html
and
http://webhelp.esri.com/arcgisdesktop/9.2/index.cfm?ID=1029&TopicName=Spatial%20Join%20(Analysis)&rand=47&pid=1025


Richard Duivenvoorde

 >> forwarded message:

-------- Original Message --------
Subject: Re: [Geowanking] ArcView 3.1 replacement
Date: Mon, 21 Apr 2008 10:55:21 +0200
From: Rapha?l Jacquot <sxpert@sxpert.org>

On Fri, 2008-04-18 at 15:15 -0700, percy wrote:

> This year, after I gave out the first assignment, I decided to try to do 
> it myself using only FOSS software.
> Fired up QGIS, no spatial join. The only way to move forward was to fire 
> up PostGIS, command line.
> That was the end of the experiment in terms of trying to rewrite the 
> assignment using opensource desktop gis.
> :-(
> Percy

did you contact the people that do qgis and post a feature request ?

_______________________________________________
Geowanking mailing list
Geowanking@lists.burri.to
http://lists.burri.to/mailman/listinfo/geowanking


From jef at norbit.de  Wed Apr 23 12:58:00 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Apr 23 12:58:09 2008
Subject: [Qgis-developer] [Fwd: Re: [Geowanking] ArcView 3.1 replacement]
In-Reply-To: <480F4530.6010006@duif.net>
References: <480F4530.6010006@duif.net>
Message-ID: <20080423165800.GA31381@norbit.de>

Hi Richard,

On Wed, 23. Apr 2008 at 16:18:24 +0200, Richard Duivenvoorde wrote:
> Seems a nice (and challenging) 'feature' for qgis...
> see:
> http://mapperz.blogspot.com/2007/01/spatial-join-analysis-returns-to-arcgis.html

Am I missing something or didn't they know Horst's geoprocessing plugin?


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From rdmailings at duif.net  Wed Apr 23 14:34:30 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed Apr 23 14:34:34 2008
Subject: [Qgis-developer] [Fwd: Re: [Geowanking] ArcView 3.1 replacement]
In-Reply-To: <20080423165800.GA31381@norbit.de>
References: <480F4530.6010006@duif.net> <20080423165800.GA31381@norbit.de>
Message-ID: <480F8136.9030707@duif.net>

J?rgen E. Fischer wrote:
> Hi Richard,
> 
> On Wed, 23. Apr 2008 at 16:18:24 +0200, Richard Duivenvoorde wrote:
>> Seems a nice (and challenging) 'feature' for qgis...
>> see:
>> http://mapperz.blogspot.com/2007/01/spatial-join-analysis-returns-to-arcgis.html
> 
> Am I missing something or didn't they know Horst's geoprocessing plugin?

mmm, not sure, but reading the other url (and 
http://webhelp.esri.com/arcgisdesktop/9.2/index.cfm?TopicName=About_joining_and_relating_tables), 
it seems to me that he is looking for an even more sophisticated 
function. A function which joins attributes/records based on (indeed) 
something like a spatial relationship (intersects, contains, is_within 
etc). And/or options to choose between a 1to1 or 1tomany relationship, 
define models how to handle attributes in case there are more records 
involved etc.

Don't know Horst's planning, but  maybe you are right, and Horst's next 
version will 'grow' to something like that? That would be nice to 
communicate to the Geowanking-community...

Richard

From tutey at o2.pl  Wed Apr 23 14:35:19 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Apr 23 14:35:22 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <4807AD5B.1080409@o2.pl>
References: <47F69506.3010207@o2.pl>
	<47FF8049.3050201@duif.net>	<4800B7D9.6030307@duif.net>	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>	<48079C6E.1060508@o2.pl>
	<4807A225.1000404@pobox.com> <4807AD5B.1080409@o2.pl>
Message-ID: <480F8167.7080908@o2.pl>

Maciej Sieczka pisze:
> Before going on - I'm getting puzzled. Based on EPSG:2180:
> 
> PostGIS 1.3.3 (just released few days ago), their spatial_ref_sys table:
> column 'proj4text column' : k = 0.999300
> column 'srtext' : k = 0.9993
> 
> GDAL 1.5.0 + svn:
> files pcs.csv, projop_wparm.csv, ecw_cs.wkt: k = 0.9993
> 
> PROJ 4.6.0, epsg file:
> k = 0.9993000000000001
> 
> Shouldn't the number of zeros in '+k' be identical in all those software 
> in all places for them to interact smoothly? And why does the PROJ have 
> a bogus value? In 4.5.0 it was 0.999300.
> 
> I was going to trimm the spurios zeros from scale factor definitions in 
> QGIS srs.db (so that we get rid of the incompatibility as described in 
> this therad before [1]), but I'm now wondering whether fixing QGIS-GDAL 
> interaction this way would eg. brake QGIS-PostGIS or something else 
> instead?

Hi

Sorry if I'm a pain, but as nobody replies I don't know what to think 
about the issue and how to proceed with srs.db update. Could someone 
(this probly means Frank who has best insight into SRS stuff of his 
software and software he contributes to) please take a closer look and 
tell me if there are problems to expect due to differences in 'k' 
parameter formatting in PROJ, GDAL, PostGIS and QGIS

Can I just trimm of the spurious zeros in all k parameters in srs.db or 
would that bring side effects in interaction of the mentioned software 
(propably add MapServer to the list, as QGIS can create MapServer map 
files)?

Moreover I'm affraid PROJ.4 4.6.0 uses wrong (AFAICT) values for many 
coordinate systems. Compare the PROJ.4's epsg file in version 4.5.0 and 
4.6.0, and see how parameters differ (in terms of real numbers, not only 
number of extra zeros) in many SRS definitions, eg. EPSG 26794-26798, 
2180, 2255-2262, 2057, 2000-2007 and more. Looks like some rounding 
errors (?). Eg.:

4.5.0:
<4009> +proj=longlat +a=6378450.047548896 +b=6356826.621488444 +no_defs <>

4.6.0:
<4009> +proj=longlat +a=6378450.047548897 +b=6356826.621488445 +no_defs  <>

4.5.0:
<2965> +proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999967 
+x_0=99999.99989839978 +y_0=249999.9998983998 +ellps=GRS80 +datum=NAD83 
+to_meter=0.3048006096012192 +no_defs  <>

4.6.0:
<2965> +proj=tmerc +lat_0=37.5 +lon_0=-85.66666666666667 +k=0.999966667 
+x_0=99999.99989839978 +y_0=249999.9998983998 +ellps=GRS80 +datum=NAD83 
+to_meter=0.3048006096012192 +no_defs  <>

4.5.0:
<2180> +proj=tmerc +lat_0=0 +lon_0=19 +k=0.999300 +x_0=500000 
+y_0=-5300000 +ellps=GRS80 +units=m +no_defs  <>

4.6.0:
<2180> +proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993000000000001 +x_0=500000 
+y_0=-5300000 +ellps=GRS80 +units=m +no_defs  <>

Maciek
From warmerdam at pobox.com  Wed Apr 23 14:50:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr 23 14:50:55 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <480F8167.7080908@o2.pl>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl> <4807A225.1000404@pobox.com>
	<4807AD5B.1080409@o2.pl> <480F8167.7080908@o2.pl>
Message-ID: <480F84F0.2030108@pobox.com>

Maciej Sieczka wrote:
> Hi
> 
> Sorry if I'm a pain, but as nobody replies I don't know what to think 
> about the issue and how to proceed with srs.db update. Could someone 
> (this probly means Frank who has best insight into SRS stuff of his 
> software and software he contributes to) please take a closer look and 
> tell me if there are problems to expect due to differences in 'k' 
> parameter formatting in PROJ, GDAL, PostGIS and QGIS
> 
> Can I just trimm of the spurious zeros in all k parameters in srs.db or 
> would that bring side effects in interaction of the mentioned software 
> (propably add MapServer to the list, as QGIS can create MapServer map 
> files)?
> 
> Moreover I'm affraid PROJ.4 4.6.0 uses wrong (AFAICT) values for many 
> coordinate systems. Compare the PROJ.4's epsg file in version 4.5.0 and 
> 4.6.0, and see how parameters differ (in terms of real numbers, not only 
> number of extra zeros) in many SRS definitions, eg. EPSG 26794-26798, 
> 2180, 2255-2262, 2057, 2000-2007 and more. Looks like some rounding 
> errors (?). Eg.:
> 
> 4.5.0:
> <4009> +proj=longlat +a=6378450.047548896 +b=6356826.621488444 +no_defs <>
> 
> 4.6.0:
> <4009> +proj=longlat +a=6378450.047548897 +b=6356826.621488445 +no_defs  <>

Maciej,

I believe these problems are due to a change in GDAL/OGR to use CPLAtof()
which gives slightly different results than atof() in some cases.

   http://trac.osgeo.org/gdal/ticket/2036

Perhaps you could work with Andrey on this problem and then I could
regenerate things.

BTW, we use a custom CPLAtof() so that coordinate systems with non "C"
locale numbers can be parsed, and so that "C" locale numbers can be
parsed in non "C" locales.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tim at linfiniti.com  Wed Apr 23 14:52:52 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Apr 23 14:52:55 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] 0.10.0 Release branch
	created - call for packages
In-Reply-To: <20080418204056.334c36f3@nature>
References: <d368056f0804181011u57093bd8u8ee01a1aa4cee69a@mail.gmail.com>
	<20080418204056.334c36f3@nature>
Message-ID: <d368056f0804231152y3e45723auaf2f8a9506b3c2e@mail.gmail.com>

Hi

Thanks Otto! I've updated the checklist page accordningly.

Regards

Tim

2008/4/18, Otto Dassau <otto.dassau@gmx.de>:
> Hi,
>
>  Opensuse packages are building and will be available tomorrow morning:
>  http://download.opensuse.org/repositories/Application:/Geo/
>
>  regards,
>
>  Otto
>
>
>  On Fri, 18 Apr 2008 14:11:14 -0300
>  "Tim Sutton" <tim@linfiniti.com> wrote:
>
>  > Hi Folks (and especially package makers and release team)
>  >
>  > Yesterday I created the release branch:
>  >
>  > svn co https://svn.osgeo.org/qgis/branches/Release-0.10.0
>  >
>  > Only packaging related changes should be made against this branch. If
>  > the kind folks who usually create packages for various platforms and
>  > distros could set about making 0.10.0 packages we would be most
>  > grateful. The list of normal packagers is listed at the top of:
>  >
>  > http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.10.0
>  >
>  > If you are not able to package this release and are listed on the page
>  > above please let me know, If you are able to package for a new
>  > platform / distro please let me know and I will add your name to the
>  > list.
>  >
>  > Release team please note that I moved the date of final announcement
>  > of release to April 25 2008. It will be great to have all press
>  > announcements ready for then!
>  >
>  > Many thanks once again to all those helping to prepare this release!
>  >
>  > Best regards
>  >
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From mauricio.dev at gmail.com  Wed Apr 23 17:03:48 2008
From: mauricio.dev at gmail.com (Mauricio)
Date: Wed Apr 23 17:04:13 2008
Subject: [Qgis-developer] FindByAttribute Plug-In v0.2
In-Reply-To: <20080423110722.263850@gmx.net>
References: <20080423110722.263850@gmx.net>
Message-ID: <200804231803.48687.mauricio.dev@gmail.com>

As already discussed, thanks, Anita, for upgrading it. :D
Hum... as my version is no longer necessary, i removed it from the repository.
:D
Good luck with any new plugins.
Hum... is there any place where i can read desired features to implement in 
plugins (as far as my knowledge and avaiable time allow it).
Cheers.
Maur?cio

Em Wednesday 23 April 2008 08:07:22 Anita Graser escreveu:
> Hi,
>
> Since Maur?cio published his FindByAttribute Plug-In in February, I found
> that working without it is pretty annoying. Especially searching layers
> with a lot of features can be really time consuming if you have to wait for
> the AttributeTable to load. ... But I guess you know that.
>
> Version 0.2 has the following features:
> * 5 relational operators: =,<,>,<=,>=
> * = operator works like "=" not "LIKE"
> * Messagebox telling how many features were found
>
> Bugfixes:
> * Icon is diplayed in toolbar
> * Attribute list without duplicate entries
>
> The Plug-In is available via the Official QGIS repository.
>
> If you find any bugs (sure you will), let me know of them.
>
> Ciao,
> Anita


From sherman at mrcc.com  Wed Apr 23 23:29:41 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Apr 23 23:29:49 2008
Subject: [Qgis-developer] Google Summer of Code Projects
Message-ID: <822C3BF6-9B94-4D94-A33C-9085F124042D@mrcc.com>

Greetings,
In case you haven't been following along, QGIS has been allocated two  
projects
for Google Summer of Code (GSoC) under the OSGeo umbrella. The  
projects are:

* Home-range analyses in QGIS using R through Python by Anne Ghisla
* Enhance Labeling of Features by Galen Mecham

More information on these and the other OSGeo projects for GSoC 2008  
can be
found at:

http://code.google.com/soc/2008/osgeo/about.html

Please welcome our two students into the QGIS community. I know we can  
all learn
from this experience and I look forward to great new things in QGIS as  
a result.

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From Horst.Duester at bd.so.ch  Thu Apr 24 02:01:13 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Thu Apr 24 02:01:18 2008
Subject: AW: Re: [Qgis-developer] [Fwd: Re: [Geowanking] ArcView 3.1
	replacement]
Message-ID: <H00002eb02a3fc64.1209016873.srsofaioi6145.ktso.ch@MHS>

Hi J?rgen and Richard

Doesn't QGIS-Geoprocessing plugin method UNION p.e. point with polygon,
produce a spatial join, or what's the difference to the mentioned
method?

Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Richard Duivenvoorde [mailto:rdmailings@duif.net]
Gesendet am: Mittwoch, 23. April 2008 20:35
An: J?rgen E. Fischer
Cc: qgis-developer@lists.osgeo.org; D?ster Horst
Betreff: Re: [Qgis-developer] [Fwd: Re: [Geowanking] ArcView 3.1
replacement]

J?rgen E. Fischer wrote:
> Hi Richard,
> 
> On Wed, 23. Apr 2008 at 16:18:24 +0200, Richard Duivenvoorde wrote:
>> Seems a nice (and challenging) 'feature' for qgis...
>> see:
>>
http://mapperz.blogspot.com/2007/01/spatial-join-analysis-returns-to-arc
gis.html
> 
> Am I missing something or didn't they know Horst's geoprocessing
plugin?

mmm, not sure, but reading the other url (and 
http://webhelp.esri.com/arcgisdesktop/9.2/index.cfm?TopicName=About_join
ing_and_relating_tables), 
it seems to me that he is looking for an even more sophisticated 
function. A function which joins attributes/records based on (indeed) 
something like a spatial relationship (intersects, contains, is_within 
etc). And/or options to choose between a 1to1 or 1tomany relationship, 
define models how to handle attributes in case there are more records 
involved etc.

Don't know Horst's planning, but  maybe you are right, and Horst's next 
version will 'grow' to something like that? That would be nice to 
communicate to the Geowanking-community...

Richard


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080424/7a5235d9/attachment-0001.html
From jef at norbit.de  Thu Apr 24 03:51:46 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu Apr 24 03:51:55 2008
Subject: [Qgis-developer] [Fwd: Re: [Geowanking] ArcView 3.1 replacement]
In-Reply-To: <H00002eb02a3fc64.1209016873.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb02a3fc64.1209016873.srsofaioi6145.ktso.ch@MHS>
Message-ID: <20080424075146.GA8708@norbit.de>

Hi Horst,

On Thu, 24. Apr 2008 at 08:01:13 +0200, D?ster Horst wrote:
> Doesn't QGIS-Geoprocessing plugin method UNION p.e. point with polygon,
> produce a spatial join, or what's the difference to the mentioned
> method?

I thought it was intersection instead of union.  But yes, AFAICS the
plugin has the basic features in question.  Just that you cannot select
the attributes the resulting layer should have.
 

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tutey at o2.pl  Thu Apr 24 03:53:42 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Apr 24 03:53:46 2008
Subject: [Qgis-developer] Re: srs.db epsg's added, shrinking?
In-Reply-To: <480F84F0.2030108@pobox.com>
References: <47F69506.3010207@o2.pl> <47FF8049.3050201@duif.net>
	<4800B7D9.6030307@duif.net>
	<200804131343.01414.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804140538k1298c472m57ddcc08c7a8a6ce@mail.gmail.com>
	<48079C6E.1060508@o2.pl> <4807A225.1000404@pobox.com>
	<4807AD5B.1080409@o2.pl> <480F8167.7080908@o2.pl>
	<480F84F0.2030108@pobox.com>
Message-ID: <48103C86.5070204@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> Moreover I'm affraid PROJ.4 4.6.0 uses wrong (AFAICT) values for many 
>> coordinate systems. Compare the PROJ.4's epsg file in version 4.5.0 
>> and 4.6.0, and see how parameters differ (in terms of real numbers, 
>> not only number of extra zeros) in many SRS definitions, eg. EPSG 
>> 26794-26798, 2180, 2255-2262, 2057, 2000-2007 and more. Looks like 
>> some rounding errors (?). Eg.:
>>
>> 4.5.0:
>> <4009> +proj=longlat +a=6378450.047548896 +b=6356826.621488444 
>> +no_defs <>
>>
>> 4.6.0:
>> <4009> +proj=longlat +a=6378450.047548897 +b=6356826.621488445 
>> +no_defs  <>

> I believe these problems are due to a change in GDAL/OGR to use CPLAtof()
> which gives slightly different results than atof() in some cases.
> 
>   http://trac.osgeo.org/gdal/ticket/2036
> 
> Perhaps you could work with Andrey on this problem and then I could
> regenerate things.

Until this issue is resolved I'll suspend any srs.db manipulations. The 
discussion is moved to GDAL dev ML [1].

[1]http://lists.osgeo.org/pipermail/gdal-dev/2008-April/016891.html

Maciek
From rdmailings at duif.net  Thu Apr 24 04:55:31 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu Apr 24 04:55:43 2008
Subject: [Qgis-developer] FindByAttribute Plug-In v0.2
In-Reply-To: <200804231803.48687.mauricio.dev@gmail.com>
References: <20080423110722.263850@gmx.net>
	<200804231803.48687.mauricio.dev@gmail.com>
Message-ID: <48104B03.2050407@duif.net>

Mauricio wrote:
> Hum... is there any place where i can read desired features to implement in 
> plugins (as far as my knowledge and avaiable time allow it).

Hi Mauricio,

Have a look in trac: https://trac.osgeo.org/qgis/report/11 people do 
feature requests there.

I've started a wiki page for python plugin idea's,
http://wiki.qgis.org/qgiswiki/PythonPluginIdeas
but am not sure if that's the way to go given we double feature-requests 
maybe...

Richard Duivenvoorde
From john.tull at wildnevada.org  Thu Apr 24 11:45:17 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu Apr 24 11:45:23 2008
Subject: [Qgis-developer] Google Summer of Code Projects
In-Reply-To: <822C3BF6-9B94-4D94-A33C-9085F124042D@mrcc.com>
References: <822C3BF6-9B94-4D94-A33C-9085F124042D@mrcc.com>
Message-ID: <90FD2376-1E89-44AC-AA3B-2CDFE794D2B6@wildnevada.org>

Great news! Both enhancements will be excellent additions to QGIS. I  
look forward to seeing them in trunk later this year. Congratulations  
to the students and the developers involved.

Regards,
John

On Apr 23, 2008, at 8:29 PM, Gary Sherman wrote:

> Greetings,
> In case you haven't been following along, QGIS has been allocated  
> two projects
> for Google Summer of Code (GSoC) under the OSGeo umbrella. The  
> projects are:
>
> * Home-range analyses in QGIS using R through Python by Anne Ghisla
> * Enhance Labeling of Features by Galen Mecham
>
> More information on these and the other OSGeo projects for GSoC 2008  
> can be
> found at:
>
> http://code.google.com/soc/2008/osgeo/about.html
>
> Please welcome our two students into the QGIS community. I know we  
> can all learn
> from this experience and I look forward to great new things in QGIS  
> as a result.
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>  *Geospatial Hosting
>  *Web Site Hosting
> -Desktop GIS Book:
>  *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From telwertowski at comcast.net  Thu Apr 24 22:43:54 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Thu Apr 24 22:43:57 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
Message-ID: <4811456A.4080601@comcast.net>

Hello all,

Here is a patch which removes use of Qt3 routines for all of QGIS except the GRASS plugin:

http://telwertowski.home.comcast.net/qgisqt4_r8378.diff

Please test it and send comments. After resolving any issues, I would like to submit it to svn trunk.

The GRASS plugin, which probably contains about half of the Qt3 dependencies, will be done later. The patch was done to build with the Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to Mac/64bit.

Three categories of changes have be made:

1. Remove use of qt3support library (Q3 classes).
2. Remove use of qt3 compatibility routines in qt4 classes.
3. Remove automatic cast of QString to char*.

Classes and places with non-trivial changes are:

Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable, qgsmeasure)
Q3ListView to QTreeWidget (qgsbookmarks, qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect)
Q3Dict to QHash (qgsprojectproperty)
Q3Process to QProcess (qgsgpsplugin)

The most complex change involved handling selections in the item view classes (tables, trees and lists) so this should be tested the most.

In spite of its name, QTreeWidget also handles multicolumn lists which are not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists with one column and no header.

Qt4 has two classes for each item view: QTable/Tree/ListWidget and QTable/Tree/ListView. The Widget classes contain a backing store and the View classes don't. The Widget classes correspond more closely to the Q3 classes.

qgsattributetable, which can take a while to load large tables, should probably be rewritten as a QTableView with an QAbstractTableModel subclass to pull individual cells directly for the provider as needed. It has been ported as a QTableWidget to keep the port straightforward and not introduce additional refactoring into this edit.

Removing automatic casts of QString to char* also uncovered some odd code. Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an implicit QString cast occurs. Based on these two examples, this macro serves as 'lint' for QStrings.

QString str; delete str; // compiles due to cast of str.
tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")

In most cases, I have used toUtf8() to eliminate implicit casts. If a file already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep the file consistent. Implicit casts have also been removed from the GRASS plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.

The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as Qt4.4-Cocoa-alpha1.

Tom
From tim at linfiniti.com  Sat Apr 26 08:00:17 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Apr 26 08:00:21 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <4811456A.4080601@comcast.net>
References: <4811456A.4080601@comcast.net>
Message-ID: <d368056f0804260500s607d5eb8o2f793fe20342c943@mail.gmail.com>

Hi Tom

Great stuff - Im going to test here on mac and later on ubuntu gutsy &
heron. Ill give you feedback on monday if I ran into any issues. I'm
*really* looking forward to showing qt3compatibility stuff out the
door!

Regards

Tim

2008/4/24 Tom Elwertowski <telwertowski@comcast.net>:
> Hello all,
>
>  Here is a patch which removes use of Qt3 routines for all of QGIS except
> the GRASS plugin:
>
>  http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>
>  Please test it and send comments. After resolving any issues, I would like
> to submit it to svn trunk.
>
>  The GRASS plugin, which probably contains about half of the Qt3
> dependencies, will be done later. The patch was done to build with the
> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to Mac/64bit.
>
>  Three categories of changes have be made:
>
>  1. Remove use of qt3support library (Q3 classes).
>  2. Remove use of qt3 compatibility routines in qt4 classes.
>  3. Remove automatic cast of QString to char*.
>
>  Classes and places with non-trivial changes are:
>
>  Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
> qgsmeasure)
>  Q3ListView to QTreeWidget (qgsbookmarks, qgsrasterlayerproperties,
> qgsgeomtypedialog, qgsserversourceselect)
>  Q3Dict to QHash (qgsprojectproperty)
>  Q3Process to QProcess (qgsgpsplugin)
>
>  The most complex change involved handling selections in the item view
> classes (tables, trees and lists) so this should be tested the most.
>
>  In spite of its name, QTreeWidget also handles multicolumn lists which are
> not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists
> with one column and no header.
>
>  Qt4 has two classes for each item view: QTable/Tree/ListWidget and
> QTable/Tree/ListView. The Widget classes contain a backing store and the
> View classes don't. The Widget classes correspond more closely to the Q3
> classes.
>
>  qgsattributetable, which can take a while to load large tables, should
> probably be rewritten as a QTableView with an QAbstractTableModel subclass
> to pull individual cells directly for the provider as needed. It has been
> ported as a QTableWidget to keep the port straightforward and not introduce
> additional refactoring into this edit.
>
>  Removing automatic casts of QString to char* also uncovered some odd code.
> Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an
> implicit QString cast occurs. Based on these two examples, this macro serves
> as 'lint' for QStrings.
>
>  QString str; delete str; // compiles due to cast of str.
>  tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>
>  In most cases, I have used toUtf8() to eliminate implicit casts. If a file
> already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep
> the file consistent. Implicit casts have also been removed from the GRASS
> plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.
>
>  The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
> Qt4.4-Cocoa-alpha1.
>
>  Tom
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From sherman at mrcc.com  Sat Apr 26 17:44:34 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Apr 26 17:44:45 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
Message-ID: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>

Mac gurus,
I'm trying to build a universal binary for QGIS that will run on both  
Leopard and Tiger. If I build using the 10.5 SDK it doesn't run on  
Tiger. If I attempt to build using the 10.4 SDK, the build fails with:

/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
declared in this scope
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:87: error: ?io_user_reference_t? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:92: error: ?OSAsyncReference64? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
name a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
declared in this scope
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:87: error: ?io_user_reference_t? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:92: error: ?OSAsyncReference64? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
name a type
lipo: can't figure out the architecture type of: /var/folders/v-/ 
v-30qCWIFX0akWgqelP9lk+++TI/-Tmp-//ccKA5jqP.out


I've passed -mmacosx-version-min=10.4  as a CXX flag during the  
configuration process.

Ideas?

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From woklist at kyngchaos.com  Sat Apr 26 18:12:03 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Apr 26 18:12:08 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
Message-ID: <29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>

I've found that the -mmacosx-version-min can miss in configuration (at  
least in libtool-based configures), so I always set  
MACOSX_DEPLOYMENT_TARGET to make sure.

How did you specify the SDK option?

Big warning when compiling Qgis *for* Tiger *on* Leopard - you need to  
install the python.org Python framework and compile SIP and PyQt  
against that.  But installing Python on Leopard will mess up your PATH  
for using Leopard's Python when you need it.  Make usre to do a custom  
install and uncheck the "UNIX CLI tools" and "Shell profile updater"  
packages.  And double-check your .bash_profile after to make sure it  
didn't add itself to the PATH.  Then you temporarily add the framework  
to your PATH when needed for SIP, PyQt and Qgis (see below).  Disable  
the Python framework when done (create a /Library/Frameworks  
(disabled) folder and move it there).

Here is my configuration I use on Leopard to make my Tiger build  
(adjust lib deps for your system) -

export MACOSX_DEPLOYMENT_TARGET=10.4
export PATH="/Library/Frameworks/Python.framework/Versions/2.5/bin: 
$PATH"
cmake -D CMAKE_INSTALL_PREFIX=/Applications -D  
CMAKE_BUILD_TYPE=Release -D CMAKE_OSX_ARCHITECTURES="ppc;i386" -D  
CMAKE_OSX_SYSROOT="/Developer/SDKs/MacOSX10.4u.sdk" -D  
SQLITE3_INCLUDE_DIR=/Library/Frameworks/SQLite3.framework/Headers -D  
SQLITE3_LIBRARY=/Library/Frameworks/SQLite3.framework/unix/lib/ 
libsqlite3.dylib -D EXPAT_INCLUDE_DIR=/Users/Shared/unix/expat-tig/ 
include -D EXPAT_LIBRARY=/Users/Shared/unix/expat-tig/lib/libexpat.a - 
D GSL_CONFIG=/Users/Shared/unix/gsl-tig/bin/gsl-config -D  
GEOS_INCLUDE_DIR=/Library/Frameworks/geos.framework/unix/include -D  
GEOS_LIBRARY=/Library/Frameworks/GEOS.framework/unix/lib/libgeos.dylib  
-D PROJ_INCLUDE_DIR=/Library/Frameworks/PROJ.framework/Headers -D  
PROJ_LIBRARY=/Library/Frameworks/PROJ.framework/unix/lib/libproj.dylib  
-D GRASS_INCLUDE_DIR=/Applications/GRASS-6.3.app/Contents/MacOS/ 
include -D GRASS_PREFIX=/Applications/GRASS-6.3.app/Contents/MacOS ..

On Apr 26, 2008, at 4:44 PM, Gary Sherman wrote:

> Mac gurus,
> I'm trying to build a universal binary for QGIS that will run on  
> both Leopard and Tiger. If I build using the 10.5 SDK it doesn't run  
> on Tiger. If I attempt to build using the 10.4 SDK, the build fails  
> with:
>
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
> declared in this scope
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:87: error: ?io_user_reference_t? does not  
> name a type
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:92: error: ?OSAsyncReference64? does not  
> name a type
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
> name a type
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
> declared in this scope
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:87: error: ?io_user_reference_t? does not  
> name a type
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:92: error: ?OSAsyncReference64? does not  
> name a type
> /System/Library/Frameworks/IOKit.framework/Headers/ 
> OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
> name a type
> lipo: can't figure out the architecture type of: /var/folders/v-/ 
> v-30qCWIFX0akWgqelP9lk+++TI/-Tmp-//ccKA5jqP.out
>
>
> I've passed -mmacosx-version-min=10.4  as a CXX flag during the  
> configuration process.
>
> Ideas?

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those  
least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From sherman at mrcc.com  Sat Apr 26 18:40:19 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Apr 26 18:40:26 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>
Message-ID: <1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>

On Apr 26, 2008, at 2:12 PM, William Kyngesburye wrote:
> I've found that the -mmacosx-version-min can miss in configuration  
> (at least in libtool-based configures), so I always set  
> MACOSX_DEPLOYMENT_TARGET to make sure.
>
> How did you specify the SDK option?
>
It detected it automatically -- in ccmake it is displayed as / 
Developer/SDKs/MacOSX10.4u.sdk under CMAKE_OSX_SYSROOT.

If I don't specify -mmacosx-version-min=10.4, it tries to link with  
the 10.5 sdk when linking libqgis_core.

Using your method of specifying MACOSX_DEPLOYMENT_TARGET=10.4 didn't  
seem to help, although the build does seem to get farther before the  
IOKit related errors:

Scanning dependencies of target qgis
[ 46%] Building CXX object src/app/CMakeFiles/qgis.dir/main.o
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
declared in this scope
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:87: error: ?io_user_reference_t? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:92: error: ?OSAsyncReference64? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
name a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
declared in this scope
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:87: error: ?io_user_reference_t? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:92: error: ?OSAsyncReference64? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
name a type
lipo: can't figure out the architecture type of: /var/folders/v-/ 
v-30qCWIFX0akWgqelP9lk+++TI/-Tmp-//ccaL5BYd.out

I'm not building with Python if that makes a difference.

-gary

> Big warning when compiling Qgis *for* Tiger *on* Leopard - you need  
> to install the python.org Python framework and compile SIP and PyQt  
> against that.  But installing Python on Leopard will mess up your  
> PATH for using Leopard's Python when you need it.  Make usre to do a  
> custom install and uncheck the "UNIX CLI tools" and "Shell profile  
> updater" packages.  And double-check your .bash_profile after to  
> make sure it didn't add itself to the PATH.  Then you temporarily  
> add the framework to your PATH when needed for SIP, PyQt and Qgis  
> (see below).  Disable the Python framework when done (create a / 
> Library/Frameworks (disabled) folder and move it there).
>
> Here is my configuration I use on Leopard to make my Tiger build  
> (adjust lib deps for your system) -
>
> export MACOSX_DEPLOYMENT_TARGET=10.4
> export PATH="/Library/Frameworks/Python.framework/Versions/2.5/bin: 
> $PATH"
> cmake -D CMAKE_INSTALL_PREFIX=/Applications -D  
> CMAKE_BUILD_TYPE=Release -D CMAKE_OSX_ARCHITECTURES="ppc;i386" -D  
> CMAKE_OSX_SYSROOT="/Developer/SDKs/MacOSX10.4u.sdk" -D  
> SQLITE3_INCLUDE_DIR=/Library/Frameworks/SQLite3.framework/Headers -D  
> SQLITE3_LIBRARY=/Library/Frameworks/SQLite3.framework/unix/lib/ 
> libsqlite3.dylib -D EXPAT_INCLUDE_DIR=/Users/Shared/unix/expat-tig/ 
> include -D EXPAT_LIBRARY=/Users/Shared/unix/expat-tig/lib/libexpat.a  
> -D GSL_CONFIG=/Users/Shared/unix/gsl-tig/bin/gsl-config -D  
> GEOS_INCLUDE_DIR=/Library/Frameworks/geos.framework/unix/include -D  
> GEOS_LIBRARY=/Library/Frameworks/GEOS.framework/unix/lib/ 
> libgeos.dylib -D PROJ_INCLUDE_DIR=/Library/Frameworks/PROJ.framework/ 
> Headers -D PROJ_LIBRARY=/Library/Frameworks/PROJ.framework/unix/lib/ 
> libproj.dylib -D GRASS_INCLUDE_DIR=/Applications/GRASS-6.3.app/ 
> Contents/MacOS/include -D GRASS_PREFIX=/Applications/GRASS-6.3.app/ 
> Contents/MacOS ..
>
> On Apr 26, 2008, at 4:44 PM, Gary Sherman wrote:
>
>> Mac gurus,
>> I'm trying to build a universal binary for QGIS that will run on  
>> both Leopard and Tiger. If I build using the 10.5 SDK it doesn't  
>> run on Tiger. If I attempt to build using the 10.4 SDK, the build  
>> fails with:
>>
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
>> declared in this scope
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:87: error: ?io_user_reference_t? does not  
>> name a type
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:92: error: ?OSAsyncReference64? does not  
>> name a type
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
>> name a type
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
>> declared in this scope
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:87: error: ?io_user_reference_t? does not  
>> name a type
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:92: error: ?OSAsyncReference64? does not  
>> name a type
>> /System/Library/Frameworks/IOKit.framework/Headers/ 
>> OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
>> name a type
>> lipo: can't figure out the architecture type of: /var/folders/v-/ 
>> v-30qCWIFX0akWgqelP9lk+++TI/-Tmp-//ccKA5jqP.out
>>
>>
>> I've passed -mmacosx-version-min=10.4  as a CXX flag during the  
>> configuration process.
>>
>> Ideas?
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "Those people who most want to rule people are, ipso-facto, those  
> least suited to do it."
>
> - A rule of the universe, from the HitchHiker's Guide to the Galaxy
>

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From woklist at kyngchaos.com  Sat Apr 26 20:01:32 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Apr 26 20:01:35 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>
	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>
Message-ID: <3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>

On Apr 26, 2008, at 5:40 PM, Gary Sherman wrote:

> On Apr 26, 2008, at 2:12 PM, William Kyngesburye wrote:
>> I've found that the -mmacosx-version-min can miss in configuration  
>> (at least in libtool-based configures), so I always set  
>> MACOSX_DEPLOYMENT_TARGET to make sure.
>>
>> How did you specify the SDK option?
>>
> It detected it automatically -- in ccmake it is displayed as / 
> Developer/SDKs/MacOSX10.4u.sdk under CMAKE_OSX_SYSROOT.
>
Did you try manually setting the SDK as in my config?  I have noticed  
that automatic detection isn't explicit sometimes - it says it detects  
the SDK but it doesn't actually add it to the compile flags.

>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From sherman at mrcc.com  Sat Apr 26 20:33:19 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Apr 26 20:33:28 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>
	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>
	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>
Message-ID: <5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>

On Apr 26, 2008, at 4:01 PM, William Kyngesburye wrote:
> Did you try manually setting the SDK as in my config?  I have  
> noticed that automatic detection isn't explicit sometimes - it says  
> it detects the SDK but it doesn't actually add it to the compile  
> flags.


I did set it the same as you, even though it appeared to be detected.  
I compiled with "make VERBOSE=1".  Here is the failure -- doesn't  
happen until it tries to compile main:

[ 46%] Building CXX object src/app/CMakeFiles/qgis.dir/main.o
/usr/bin/c++   -arch i386 -arch ppc -isysroot /Developer/SDKs/ 
MacOSX10.4u.sdk   -I/usr/local/qgis_universal_deps/include -I/usr/ 
local/qgis_universal_deps/include/Qt3Support -I/usr/local/ 
qgis_universal_deps/include/QtSvg -I/usr/local/qgis_universal_deps/ 
include/QtGui -I/usr/local/qgis_universal_deps/include/QtXml -I/usr/ 
local/qgis_universal_deps/include/QtSql -I/usr/local/ 
qgis_universal_deps/include/QtNetwork -I/usr/local/qgis_universal_deps/ 
include/QtCore -I/Users/gsherman/development/qgis_09/build_universal - 
I/Users/gsherman/development/qgis_09/src/app -I/Users/gsherman/ 
development/qgis_09/src/app/composer -I/Users/gsherman/development/ 
qgis_09/src/app/legend -I/Users/gsherman/development/qgis_09/ 
build_universal/src/app -I/Users/gsherman/development/qgis_09/ 
build_universal/src/app/../ui -I/Users/gsherman/development/qgis_09/ 
src/app/../core -I/Users/gsherman/development/qgis_09/src/app/../core/ 
raster -I/Users/gsherman/development/qgis_09/src/app/../core/renderer - 
I/Users/gsherman/development/qgis_09/src/app/../core/symbology -I/ 
Users/gsherman/development/qgis_09/src/app/../gui -I/Users/gsherman/ 
development/qgis_09/src/app/../plugins   -F/usr/local/ 
qgis_universal_deps/lib -L/usr/local/qgis_universal_deps/lib - 
DQT_SHARED -DQT_3SUPPORT_LIB -DQT3_SUPPORT -DQT_SVG_LIB -DQT_GUI_LIB - 
DQT_XML_LIB -DQT_SQL_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DCORE_EXPORT=  
-DGUI_EXPORT= -F/usr/local/qgis_universal_deps/lib -F/System/Library/ 
Frameworks  -o src/app/CMakeFiles/qgis.dir/main.o -c /Users/gsherman/ 
development/qgis_09/src/app/main.cpp
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
declared in this scope
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:87: error: ?io_user_reference_t? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:92: error: ?OSAsyncReference64? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
name a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:85: error: ?io_user_reference_t? was not  
declared in this scope
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:87: error: ?io_user_reference_t? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:92: error: ?OSAsyncReference64? does not name  
a type
/System/Library/Frameworks/IOKit.framework/Headers/ 
OSMessageNotification.h:103: error: ?io_user_reference_t? does not  
name a type
lipo: can't figure out the architecture type of: /var/folders/v-/ 
v-30qCWIFX0akWgqelP9lk+++TI/-Tmp-//cctkBcmL.out
make[2]: *** [src/app/CMakeFiles/qgis.dir/main.o] Error 1

I assume there must be something in the main method that pull in the  
IOKit headers, but I don't know why it fails.
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From woklist at kyngchaos.com  Sat Apr 26 21:06:57 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Apr 26 21:07:17 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>
	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>
	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>
	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
Message-ID: <C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>

On Apr 26, 2008, at 7:33 PM, Gary Sherman wrote:

> I assume there must be something in the main method that pull in the  
> IOKit headers, but I don't know why it fails.

More likely some from Qt.  Which version are you using?

Also, I assume you are using Xcode 3.0?  Probably not hte problem in  
this case, but there a couple issues with Xcode 3.0.  You could try  
Xcode 3.1 beta - it's in the iPhone SDK.

And, one odd bit in the universal SDK is that even though it adds a  
symlink to /usr/local/lib, it doesn't add one to /usr/local/include.   
And certainly not /usr/local/qgis_universal_deps/*, and that may cause  
other include processing anomalies.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From sherman at mrcc.com  Sat Apr 26 22:25:13 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Apr 26 22:25:22 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>
	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>
	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>
	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
Message-ID: <748A5593-E499-4C2D-9D54-C9CD423A500C@mrcc.com>


On Apr 26, 2008, at 5:06 PM, William Kyngesburye wrote:
> More likely some from Qt.  Which version are you using?

4.3.3
>
>
> Also, I assume you are using Xcode 3.0?  Probably not hte problem in  
> this case, but there a couple issues with Xcode 3.0.  You could try  
> Xcode 3.1 beta - it's in the iPhone SDK.
>
Yes, using 3.0
> And, one odd bit in the universal SDK is that even though it adds a  
> symlink to /usr/local/lib, it doesn't add one to /usr/local/ 
> include.  And certainly not /usr/local/qgis_universal_deps/*, and  
> that may cause other include processing anomalies.
Odd that it doesn't complain about a missing header. I'm at a loss as  
how to symlink my way out of this...
-gary


-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From woklist at kyngchaos.com  Sat Apr 26 22:45:15 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Apr 26 22:45:35 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <748A5593-E499-4C2D-9D54-C9CD423A500C@mrcc.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>
	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>
	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>
	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>
	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
	<748A5593-E499-4C2D-9D54-C9CD423A500C@mrcc.com>
Message-ID: <3C29D21E-650A-4586-8EC9-4D1C12FB35A9@kyngchaos.com>

On Apr 26, 2008, at 9:25 PM, Gary Sherman wrote:

>> And, one odd bit in the universal SDK is that even though it adds a  
>> symlink to /usr/local/lib, it doesn't add one to /usr/local/ 
>> include.  And certainly not /usr/local/qgis_universal_deps/*, and  
>> that may cause other include processing anomalies.
> Odd that it doesn't complain about a missing header. I'm at a loss  
> as how to symlink my way out of this...
> -gary


ln -s /usr/local/qgis_universal_deps /Developer/SDKs/MacOSX10.4u.sdk/ 
usr/local/qgis_universal_deps

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin


From marco.hugentobler at karto.baug.ethz.ch  Mon Apr 28 02:50:57 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Apr 28 02:51:00 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <4811456A.4080601@comcast.net>
References: <4811456A.4080601@comcast.net>
Message-ID: <200804280850.57547.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

Many thanks for this patch.
I tried to apply it and ran into the following problem with r8383 from trunk. 
Then the compile fails (probably because of the patching problem?).

Regards,
Marco

marco@ikapc2:~/src/qgis$ patch -p0 < /home/marco/tmp/qgisqt4_r8378.diff
patching file python/core/qgsmaplayerregistry.sip
patching file src/app/qgsdelattrdialog.h
patching file src/app/qgsbookmarks.cpp
patching file src/app/qgsserversourceselect.h
patching file src/app/legend/qgslegendlayerfile.cpp
patching file src/app/legend/qgslegend.cpp
patching file src/app/qgsattributetable.cpp
Hunk #1 FAILED at 16.
1 out of 27 hunks FAILED -- saving rejects to file 
src/app/qgsattributetable.cpp.rej
patching file src/app/qgsoptions.cpp
patching file src/app/qgssearchquerybuilder.cpp
patching file src/app/qgsrasterlayerproperties.cpp
patching file src/app/qgsattributetable.h
patching file src/app/qgsattributeactiondialog.cpp
patching file src/app/qgsmeasuredialog.cpp
patching file src/app/qgspastetransformations.cpp
patching file src/app/composer/qgscomposermap.cpp
patching file src/app/composer/qgscomposerlabel.cpp
patching file src/app/composer/qgscomposer.cpp
patching file src/app/composer/qgscomposervectorlegend.cpp
patching file src/app/composer/qgscomposerscalebar.h
patching file src/app/composer/qgscomposervectorlegend.h
patching file src/app/composer/qgscomposeritem.h
patching file src/app/qgsattributetabledisplay.cpp
patching file src/app/qgspgquerybuilder.cpp
Hunk #1 FAILED at 13.
1 out of 5 hunks FAILED -- saving rejects to file 
src/app/qgspgquerybuilder.cpp.rej
patching file src/app/qgsabout.cpp
patching file src/app/qgisapp.h
patching file src/app/qgspythondialog.cpp
patching file src/app/qgspythonutils.cpp
patching file src/app/qgsgeomtypedialog.cpp
patching file src/app/qgsvectorlayerproperties.cpp
patching file src/app/qgsnumericsortlistviewitem.h
patching file src/app/qgsgraduatedsymboldialog.cpp
patching file src/app/qgsdbsourceselect.cpp
patching file src/app/main.cpp
patching file src/app/qgsdelattrdialog.cpp
patching file src/app/qgsnumericsortlistviewitem.cpp
patching file src/app/CMakeLists.txt
patch: **** malformed patch at line 2869:

Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
> Hello all,
>
> Here is a patch which removes use of Qt3 routines for all of QGIS except
> the GRASS plugin:
>
> http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>
> Please test it and send comments. After resolving any issues, I would like
> to submit it to svn trunk.
>
> The GRASS plugin, which probably contains about half of the Qt3
> dependencies, will be done later. The patch was done to build with the
> Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
> Mac/64bit.
>
> Three categories of changes have be made:
>
> 1. Remove use of qt3support library (Q3 classes).
> 2. Remove use of qt3 compatibility routines in qt4 classes.
> 3. Remove automatic cast of QString to char*.
>
> Classes and places with non-trivial changes are:
>
> Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
> qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
> qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect) Q3Dict
> to QHash (qgsprojectproperty)
> Q3Process to QProcess (qgsgpsplugin)
>
> The most complex change involved handling selections in the item view
> classes (tables, trees and lists) so this should be tested the most.
>
> In spite of its name, QTreeWidget also handles multicolumn lists which are
> not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists
> with one column and no header.
>
> Qt4 has two classes for each item view: QTable/Tree/ListWidget and
> QTable/Tree/ListView. The Widget classes contain a backing store and the
> View classes don't. The Widget classes correspond more closely to the Q3
> classes.
>
> qgsattributetable, which can take a while to load large tables, should
> probably be rewritten as a QTableView with an QAbstractTableModel subclass
> to pull individual cells directly for the provider as needed. It has been
> ported as a QTableWidget to keep the port straightforward and not introduce
> additional refactoring into this edit.
>
> Removing automatic casts of QString to char* also uncovered some odd code.
> Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an
> implicit QString cast occurs. Based on these two examples, this macro
> serves as 'lint' for QStrings.
>
> QString str; delete str; // compiles due to cast of str.
> tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>
> In most cases, I have used toUtf8() to eliminate implicit casts. If a file
> already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep
> the file consistent. Implicit casts have also been removed from the GRASS
> plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.
>
> The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
> Qt4.4-Cocoa-alpha1.
>
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Mon Apr 28 09:00:47 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Apr 28 09:00:51 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <200804280850.57547.marco.hugentobler@karto.baug.ethz.ch>
References: <4811456A.4080601@comcast.net>
	<200804280850.57547.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0804280600i19edbd1bq5a73f5b69a668bde@mail.gmail.com>

Hi

I also had problems with applying the patch - seems to be diffs of
various of the CMakeLists.txt files.  I did a bit of hacky workarounds
and was able to mostly compile under windows and mac with the
exception of some qt3isms remaining in:

src/plugins/grass/qgsgrassregion.cpp

Though I'm unsure if this is simply a symptom of me not tweaking the
patch properly.

Regards

Tim

2008/4/28 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tom,
>
>  Many thanks for this patch.
>  I tried to apply it and ran into the following problem with r8383 from trunk.
>  Then the compile fails (probably because of the patching problem?).
>
>  Regards,
>  Marco
>
>  marco@ikapc2:~/src/qgis$ patch -p0 < /home/marco/tmp/qgisqt4_r8378.diff
>  patching file python/core/qgsmaplayerregistry.sip
>  patching file src/app/qgsdelattrdialog.h
>  patching file src/app/qgsbookmarks.cpp
>  patching file src/app/qgsserversourceselect.h
>  patching file src/app/legend/qgslegendlayerfile.cpp
>  patching file src/app/legend/qgslegend.cpp
>  patching file src/app/qgsattributetable.cpp
>  Hunk #1 FAILED at 16.
>  1 out of 27 hunks FAILED -- saving rejects to file
>  src/app/qgsattributetable.cpp.rej
>  patching file src/app/qgsoptions.cpp
>  patching file src/app/qgssearchquerybuilder.cpp
>  patching file src/app/qgsrasterlayerproperties.cpp
>  patching file src/app/qgsattributetable.h
>  patching file src/app/qgsattributeactiondialog.cpp
>  patching file src/app/qgsmeasuredialog.cpp
>  patching file src/app/qgspastetransformations.cpp
>  patching file src/app/composer/qgscomposermap.cpp
>  patching file src/app/composer/qgscomposerlabel.cpp
>  patching file src/app/composer/qgscomposer.cpp
>  patching file src/app/composer/qgscomposervectorlegend.cpp
>  patching file src/app/composer/qgscomposerscalebar.h
>  patching file src/app/composer/qgscomposervectorlegend.h
>  patching file src/app/composer/qgscomposeritem.h
>  patching file src/app/qgsattributetabledisplay.cpp
>  patching file src/app/qgspgquerybuilder.cpp
>  Hunk #1 FAILED at 13.
>  1 out of 5 hunks FAILED -- saving rejects to file
>  src/app/qgspgquerybuilder.cpp.rej
>  patching file src/app/qgsabout.cpp
>  patching file src/app/qgisapp.h
>  patching file src/app/qgspythondialog.cpp
>  patching file src/app/qgspythonutils.cpp
>  patching file src/app/qgsgeomtypedialog.cpp
>  patching file src/app/qgsvectorlayerproperties.cpp
>  patching file src/app/qgsnumericsortlistviewitem.h
>  patching file src/app/qgsgraduatedsymboldialog.cpp
>  patching file src/app/qgsdbsourceselect.cpp
>  patching file src/app/main.cpp
>  patching file src/app/qgsdelattrdialog.cpp
>  patching file src/app/qgsnumericsortlistviewitem.cpp
>  patching file src/app/CMakeLists.txt
>  patch: **** malformed patch at line 2869:
>
>  Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
>
>
> > Hello all,
>  >
>  > Here is a patch which removes use of Qt3 routines for all of QGIS except
>  > the GRASS plugin:
>  >
>  > http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>  >
>  > Please test it and send comments. After resolving any issues, I would like
>  > to submit it to svn trunk.
>  >
>  > The GRASS plugin, which probably contains about half of the Qt3
>  > dependencies, will be done later. The patch was done to build with the
>  > Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
>  > Mac/64bit.
>  >
>  > Three categories of changes have be made:
>  >
>  > 1. Remove use of qt3support library (Q3 classes).
>  > 2. Remove use of qt3 compatibility routines in qt4 classes.
>  > 3. Remove automatic cast of QString to char*.
>  >
>  > Classes and places with non-trivial changes are:
>  >
>  > Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
>  > qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
>  > qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect) Q3Dict
>  > to QHash (qgsprojectproperty)
>  > Q3Process to QProcess (qgsgpsplugin)
>  >
>  > The most complex change involved handling selections in the item view
>  > classes (tables, trees and lists) so this should be tested the most.
>  >
>  > In spite of its name, QTreeWidget also handles multicolumn lists which are
>  > not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists
>  > with one column and no header.
>  >
>  > Qt4 has two classes for each item view: QTable/Tree/ListWidget and
>  > QTable/Tree/ListView. The Widget classes contain a backing store and the
>  > View classes don't. The Widget classes correspond more closely to the Q3
>  > classes.
>  >
>  > qgsattributetable, which can take a while to load large tables, should
>  > probably be rewritten as a QTableView with an QAbstractTableModel subclass
>  > to pull individual cells directly for the provider as needed. It has been
>  > ported as a QTableWidget to keep the port straightforward and not introduce
>  > additional refactoring into this edit.
>  >
>  > Removing automatic casts of QString to char* also uncovered some odd code.
>  > Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an
>  > implicit QString cast occurs. Based on these two examples, this macro
>  > serves as 'lint' for QStrings.
>  >
>  > QString str; delete str; // compiles due to cast of str.
>  > tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>  >
>  > In most cases, I have used toUtf8() to eliminate implicit casts. If a file
>  > already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep
>  > the file consistent. Implicit casts have also been removed from the GRASS
>  > plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.
>  >
>  > The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
>  > Qt4.4-Cocoa-alpha1.
>  >
>  > Tom
>  > _______________________________________________
>  > Qgis-developer mailing list
>  > Qgis-developer@lists.osgeo.org
>  > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>  --
>  Dr. Marco Hugentobler
>  Institute of Cartography
>  ETH Zurich
>  Technical Advisor QGIS Project Steering Committee
>
>
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From jef at norbit.de  Mon Apr 28 11:58:54 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon Apr 28 11:58:59 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <d368056f0804280600i19edbd1bq5a73f5b69a668bde@mail.gmail.com>
References: <4811456A.4080601@comcast.net>
	<200804280850.57547.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804280600i19edbd1bq5a73f5b69a668bde@mail.gmail.com>
Message-ID: <20080428155854.GA20020@norbit.de>

Hi Tim

On Mon, 28. Apr 2008 at 10:00:47 -0300, Tim Sutton wrote:
> I also had problems with applying the patch - seems to be diffs of
> various of the CMakeLists.txt files.  I did a bit of hacky workarounds
> and was able to mostly compile under windows and mac with the
> exception of some qt3isms remaining in:

> src/plugins/grass/qgsgrassregion.cpp
> 
> Though I'm unsure if this is simply a symptom of me not tweaking the
> patch properly.

I think this is due to different line endings.

subversion seems to checkout files with the local line ending and so the
patch sometime fails when you try to apply diffs made on an other
platform (windows vs.  unix vs. macos).  patch -l might help.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From telwertowski at comcast.net  Mon Apr 28 12:01:44 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Mon Apr 28 12:01:50 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <d368056f0804280600i19edbd1bq5a73f5b69a668bde@mail.gmail.com>
References: <4811456A.4080601@comcast.net>	<200804280850.57547.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0804280600i19edbd1bq5a73f5b69a668bde@mail.gmail.com>
Message-ID: <4815F4E8.30307@comcast.net>

Hi Marco and Tim,

To get around the .diff problems, I have added a tarball of modified files:

http://telwertowski.home.comcast.net/qgisqt4_r8378.tar.gz

Some of the files in svn are not tagged svn:eol-style=native and they result in double-spacing in the .diff file. Sometimes 'patch' will ignore this and sometimes it will fail.

The error "malformed patch at line 2869" is in one of the pc eol cmake files.

The "Hunk #1 FAILED at 16" may have something to do with reordering lines to alphabetize #include statements. 'Patch' seems to be trying to match file content and getting confused when it should just swap the old and new content.

Qt3 dependencies are still present in the GRASS plugin. The modified cmake files should remove qt3support references from everywhere else but keep it for GRASS alone. The GRASS plugin is about half the work. Since I don't use GRASS, I wanted to make changes in code where I would be more likely to notice the effects of changes myself. Perhaps a few weeks after this set of changes is in general use, the GRASS plugin can be upgrading with more confidence because the types of modifications are known to work.

Are there settings to make more reliable patch files (I am using 'svn diff > file') or do all of the files in svn need to be consistently tagged?

Tom


Tim Sutton wrote:
> Hi
> 
> I also had problems with applying the patch - seems to be diffs of
> various of the CMakeLists.txt files.  I did a bit of hacky workarounds
> and was able to mostly compile under windows and mac with the
> exception of some qt3isms remaining in:
> 
> src/plugins/grass/qgsgrassregion.cpp
> 
> Though I'm unsure if this is simply a symptom of me not tweaking the
> patch properly.
> 
> Regards
> 
> Tim
> 
> 2008/4/28 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
>> Hi Tom,
>>
>>  Many thanks for this patch.
>>  I tried to apply it and ran into the following problem with r8383 from trunk.
>>  Then the compile fails (probably because of the patching problem?).
>>
>>  Regards,
>>  Marco
>>
>>  marco@ikapc2:~/src/qgis$ patch -p0 < /home/marco/tmp/qgisqt4_r8378.diff
>>  patching file python/core/qgsmaplayerregistry.sip
>>  patching file src/app/qgsdelattrdialog.h
>>  patching file src/app/qgsbookmarks.cpp
>>  patching file src/app/qgsserversourceselect.h
>>  patching file src/app/legend/qgslegendlayerfile.cpp
>>  patching file src/app/legend/qgslegend.cpp
>>  patching file src/app/qgsattributetable.cpp
>>  Hunk #1 FAILED at 16.
>>  1 out of 27 hunks FAILED -- saving rejects to file
>>  src/app/qgsattributetable.cpp.rej
>>  patching file src/app/qgsoptions.cpp
>>  patching file src/app/qgssearchquerybuilder.cpp
>>  patching file src/app/qgsrasterlayerproperties.cpp
>>  patching file src/app/qgsattributetable.h
>>  patching file src/app/qgsattributeactiondialog.cpp
>>  patching file src/app/qgsmeasuredialog.cpp
>>  patching file src/app/qgspastetransformations.cpp
>>  patching file src/app/composer/qgscomposermap.cpp
>>  patching file src/app/composer/qgscomposerlabel.cpp
>>  patching file src/app/composer/qgscomposer.cpp
>>  patching file src/app/composer/qgscomposervectorlegend.cpp
>>  patching file src/app/composer/qgscomposerscalebar.h
>>  patching file src/app/composer/qgscomposervectorlegend.h
>>  patching file src/app/composer/qgscomposeritem.h
>>  patching file src/app/qgsattributetabledisplay.cpp
>>  patching file src/app/qgspgquerybuilder.cpp
>>  Hunk #1 FAILED at 13.
>>  1 out of 5 hunks FAILED -- saving rejects to file
>>  src/app/qgspgquerybuilder.cpp.rej
>>  patching file src/app/qgsabout.cpp
>>  patching file src/app/qgisapp.h
>>  patching file src/app/qgspythondialog.cpp
>>  patching file src/app/qgspythonutils.cpp
>>  patching file src/app/qgsgeomtypedialog.cpp
>>  patching file src/app/qgsvectorlayerproperties.cpp
>>  patching file src/app/qgsnumericsortlistviewitem.h
>>  patching file src/app/qgsgraduatedsymboldialog.cpp
>>  patching file src/app/qgsdbsourceselect.cpp
>>  patching file src/app/main.cpp
>>  patching file src/app/qgsdelattrdialog.cpp
>>  patching file src/app/qgsnumericsortlistviewitem.cpp
>>  patching file src/app/CMakeLists.txt
>>  patch: **** malformed patch at line 2869:
>>
>>  Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
>>
>>
>>> Hello all,
>>  >
>>  > Here is a patch which removes use of Qt3 routines for all of QGIS except
>>  > the GRASS plugin:
>>  >
>>  > http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
>>  >
>>  > Please test it and send comments. After resolving any issues, I would like
>>  > to submit it to svn trunk.
>>  >
>>  > The GRASS plugin, which probably contains about half of the Qt3
>>  > dependencies, will be done later. The patch was done to build with the
>>  > Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
>>  > Mac/64bit.
>>  >
>>  > Three categories of changes have be made:
>>  >
>>  > 1. Remove use of qt3support library (Q3 classes).
>>  > 2. Remove use of qt3 compatibility routines in qt4 classes.
>>  > 3. Remove automatic cast of QString to char*.
>>  >
>>  > Classes and places with non-trivial changes are:
>>  >
>>  > Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
>>  > qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
>>  > qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect) Q3Dict
>>  > to QHash (qgsprojectproperty)
>>  > Q3Process to QProcess (qgsgpsplugin)
>>  >
>>  > The most complex change involved handling selections in the item view
>>  > classes (tables, trees and lists) so this should be tested the most.
>>  >
>>  > In spite of its name, QTreeWidget also handles multicolumn lists which are
>>  > not trees; just set rootIsDecoated to false. Qt4 QListWidget is for lists
>>  > with one column and no header.
>>  >
>>  > Qt4 has two classes for each item view: QTable/Tree/ListWidget and
>>  > QTable/Tree/ListView. The Widget classes contain a backing store and the
>>  > View classes don't. The Widget classes correspond more closely to the Q3
>>  > classes.
>>  >
>>  > qgsattributetable, which can take a while to load large tables, should
>>  > probably be rewritten as a QTableView with an QAbstractTableModel subclass
>>  > to pull individual cells directly for the provider as needed. It has been
>>  > ported as a QTableWidget to keep the port straightforward and not introduce
>>  > additional refactoring into this edit.
>>  >
>>  > Removing automatic casts of QString to char* also uncovered some odd code.
>>  > Defining QT_NO_CAST_TO_ASCII will produce a compile error whenever an
>>  > implicit QString cast occurs. Based on these two examples, this macro
>>  > serves as 'lint' for QStrings.
>>  >
>>  > QString str; delete str; // compiles due to cast of str.
>>  > tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def + tr("ghi")
>>  >
>>  > In most cases, I have used toUtf8() to eliminate implicit casts. If a file
>>  > already used toAscii(), toLatin1() or toLocal8Bit(), I also used it to keep
>>  > the file consistent. Implicit casts have also been removed from the GRASS
>>  > plugin so that QT_NO_CAST_TO_ASCII can be defined for all future builds.
>>  >
>>  > The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
>>  > Qt4.4-Cocoa-alpha1.
>>  >
>>  > Tom
>>  > _______________________________________________
>>  > Qgis-developer mailing list
>>  > Qgis-developer@lists.osgeo.org
>>  > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>  --
>>  Dr. Marco Hugentobler
>>  Institute of Cartography
>>  ETH Zurich
>>  Technical Advisor QGIS Project Steering Committee
>>
>>
>> _______________________________________________
>>  Qgis-developer mailing list
>>  Qgis-developer@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> 
> 
> 

From marco.hugentobler at karto.baug.ethz.ch  Mon Apr 28 12:40:12 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Apr 28 12:40:12 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <4815F4E8.30307@comcast.net>
References: <4811456A.4080601@comcast.net>
	<d368056f0804280600i19edbd1bq5a73f5b69a668bde@mail.gmail.com>
	<4815F4E8.30307@comcast.net>
Message-ID: <200804281840.12326.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

Thanks for the files, it compiles and runs now fine for me.
I'm going to work the next few days with the patched version.

Regards,
Marco

Am Montag 28 April 2008 18:01:44 schrieb Tom Elwertowski:
> Hi Marco and Tim,
>
> To get around the .diff problems, I have added a tarball of modified files:
>
> http://telwertowski.home.comcast.net/qgisqt4_r8378.tar.gz
>
> Some of the files in svn are not tagged svn:eol-style=native and they
> result in double-spacing in the .diff file. Sometimes 'patch' will ignore
> this and sometimes it will fail.
>
> The error "malformed patch at line 2869" is in one of the pc eol cmake
> files.
>
> The "Hunk #1 FAILED at 16" may have something to do with reordering lines
> to alphabetize #include statements. 'Patch' seems to be trying to match
> file content and getting confused when it should just swap the old and new
> content.
>
> Qt3 dependencies are still present in the GRASS plugin. The modified cmake
> files should remove qt3support references from everywhere else but keep it
> for GRASS alone. The GRASS plugin is about half the work. Since I don't use
> GRASS, I wanted to make changes in code where I would be more likely to
> notice the effects of changes myself. Perhaps a few weeks after this set of
> changes is in general use, the GRASS plugin can be upgrading with more
> confidence because the types of modifications are known to work.
>
> Are there settings to make more reliable patch files (I am using 'svn diff
> > file') or do all of the files in svn need to be consistently tagged?
>
> Tom
>
> Tim Sutton wrote:
> > Hi
> >
> > I also had problems with applying the patch - seems to be diffs of
> > various of the CMakeLists.txt files.  I did a bit of hacky workarounds
> > and was able to mostly compile under windows and mac with the
> > exception of some qt3isms remaining in:
> >
> > src/plugins/grass/qgsgrassregion.cpp
> >
> > Though I'm unsure if this is simply a symptom of me not tweaking the
> > patch properly.
> >
> > Regards
> >
> > Tim
> >
> > 2008/4/28 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> >> Hi Tom,
> >>
> >>  Many thanks for this patch.
> >>  I tried to apply it and ran into the following problem with r8383 from
> >> trunk. Then the compile fails (probably because of the patching
> >> problem?).
> >>
> >>  Regards,
> >>  Marco
> >>
> >>  marco@ikapc2:~/src/qgis$ patch -p0 < /home/marco/tmp/qgisqt4_r8378.diff
> >>  patching file python/core/qgsmaplayerregistry.sip
> >>  patching file src/app/qgsdelattrdialog.h
> >>  patching file src/app/qgsbookmarks.cpp
> >>  patching file src/app/qgsserversourceselect.h
> >>  patching file src/app/legend/qgslegendlayerfile.cpp
> >>  patching file src/app/legend/qgslegend.cpp
> >>  patching file src/app/qgsattributetable.cpp
> >>  Hunk #1 FAILED at 16.
> >>  1 out of 27 hunks FAILED -- saving rejects to file
> >>  src/app/qgsattributetable.cpp.rej
> >>  patching file src/app/qgsoptions.cpp
> >>  patching file src/app/qgssearchquerybuilder.cpp
> >>  patching file src/app/qgsrasterlayerproperties.cpp
> >>  patching file src/app/qgsattributetable.h
> >>  patching file src/app/qgsattributeactiondialog.cpp
> >>  patching file src/app/qgsmeasuredialog.cpp
> >>  patching file src/app/qgspastetransformations.cpp
> >>  patching file src/app/composer/qgscomposermap.cpp
> >>  patching file src/app/composer/qgscomposerlabel.cpp
> >>  patching file src/app/composer/qgscomposer.cpp
> >>  patching file src/app/composer/qgscomposervectorlegend.cpp
> >>  patching file src/app/composer/qgscomposerscalebar.h
> >>  patching file src/app/composer/qgscomposervectorlegend.h
> >>  patching file src/app/composer/qgscomposeritem.h
> >>  patching file src/app/qgsattributetabledisplay.cpp
> >>  patching file src/app/qgspgquerybuilder.cpp
> >>  Hunk #1 FAILED at 13.
> >>  1 out of 5 hunks FAILED -- saving rejects to file
> >>  src/app/qgspgquerybuilder.cpp.rej
> >>  patching file src/app/qgsabout.cpp
> >>  patching file src/app/qgisapp.h
> >>  patching file src/app/qgspythondialog.cpp
> >>  patching file src/app/qgspythonutils.cpp
> >>  patching file src/app/qgsgeomtypedialog.cpp
> >>  patching file src/app/qgsvectorlayerproperties.cpp
> >>  patching file src/app/qgsnumericsortlistviewitem.h
> >>  patching file src/app/qgsgraduatedsymboldialog.cpp
> >>  patching file src/app/qgsdbsourceselect.cpp
> >>  patching file src/app/main.cpp
> >>  patching file src/app/qgsdelattrdialog.cpp
> >>  patching file src/app/qgsnumericsortlistviewitem.cpp
> >>  patching file src/app/CMakeLists.txt
> >>  patch: **** malformed patch at line 2869:
> >>
> >>  Am Freitag 25 April 2008 04:43:54 schrieb Tom Elwertowski:
> >>> Hello all,
> >>>
> >>  > Here is a patch which removes use of Qt3 routines for all of QGIS
> >>  > except the GRASS plugin:
> >>  >
> >>  > http://telwertowski.home.comcast.net/qgisqt4_r8378.diff
> >>  >
> >>  > Please test it and send comments. After resolving any issues, I would
> >>  > like to submit it to svn trunk.
> >>  >
> >>  > The GRASS plugin, which probably contains about half of the Qt3
> >>  > dependencies, will be done later. The patch was done to build with
> >>  > the Qt/Mac/64bit alpha1 release; Qt3 features are not being ported to
> >>  > Mac/64bit.
> >>  >
> >>  > Three categories of changes have be made:
> >>  >
> >>  > 1. Remove use of qt3support library (Q3 classes).
> >>  > 2. Remove use of qt3 compatibility routines in qt4 classes.
> >>  > 3. Remove automatic cast of QString to char*.
> >>  >
> >>  > Classes and places with non-trivial changes are:
> >>  >
> >>  > Q3Table to QtableWidget (qgsattributeactiondialog, qgsattributetable,
> >>  > qgsmeasure) Q3ListView to QTreeWidget (qgsbookmarks,
> >>  > qgsrasterlayerproperties, qgsgeomtypedialog, qgsserversourceselect)
> >>  > Q3Dict to QHash (qgsprojectproperty)
> >>  > Q3Process to QProcess (qgsgpsplugin)
> >>  >
> >>  > The most complex change involved handling selections in the item view
> >>  > classes (tables, trees and lists) so this should be tested the most.
> >>  >
> >>  > In spite of its name, QTreeWidget also handles multicolumn lists
> >>  > which are not trees; just set rootIsDecoated to false. Qt4
> >>  > QListWidget is for lists with one column and no header.
> >>  >
> >>  > Qt4 has two classes for each item view: QTable/Tree/ListWidget and
> >>  > QTable/Tree/ListView. The Widget classes contain a backing store and
> >>  > the View classes don't. The Widget classes correspond more closely to
> >>  > the Q3 classes.
> >>  >
> >>  > qgsattributetable, which can take a while to load large tables,
> >>  > should probably be rewritten as a QTableView with an
> >>  > QAbstractTableModel subclass to pull individual cells directly for
> >>  > the provider as needed. It has been ported as a QTableWidget to keep
> >>  > the port straightforward and not introduce additional refactoring
> >>  > into this edit.
> >>  >
> >>  > Removing automatic casts of QString to char* also uncovered some odd
> >>  > code. Defining QT_NO_CAST_TO_ASCII will produce a compile error
> >>  > whenever an implicit QString cast occurs. Based on these two
> >>  > examples, this macro serves as 'lint' for QStrings.
> >>  >
> >>  > QString str; delete str; // compiles due to cast of str.
> >>  > tr("abc" + def + tr("ghi")) // ought to be tr("abc") + def +
> >>  > tr("ghi")
> >>  >
> >>  > In most cases, I have used toUtf8() to eliminate implicit casts. If a
> >>  > file already used toAscii(), toLatin1() or toLocal8Bit(), I also used
> >>  > it to keep the file consistent. Implicit casts have also been removed
> >>  > from the GRASS plugin so that QT_NO_CAST_TO_ASCII can be defined for
> >>  > all future builds.
> >>  >
> >>  > The patch has been tested using Qt4.2, 4.3 and 4.4RC1 as well as
> >>  > Qt4.4-Cocoa-alpha1.
> >>  >
> >>  > Tom
> >>  > _______________________________________________
> >>  > Qgis-developer mailing list
> >>  > Qgis-developer@lists.osgeo.org
> >>  > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >>  --
> >>  Dr. Marco Hugentobler
> >>  Institute of Cartography
> >>  ETH Zurich
> >>  Technical Advisor QGIS Project Steering Committee
> >>
> >>
> >> _______________________________________________
> >>  Qgis-developer mailing list
> >>  Qgis-developer@lists.osgeo.org
> >>  http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From psaravanan81 at gmail.com  Tue Apr 29 05:55:31 2008
From: psaravanan81 at gmail.com (Saravanan Ponnuswamy)
Date: Tue Apr 29 05:55:35 2008
Subject: [Qgis-developer] compiling QGIS application from tutorials
Message-ID: <94b8ae6d0804290255h2b3d3294r979e6a5be496c0ec@mail.gmail.com>

Hi,

i had compiled qgis for my LInux PC and its working fine.now i need to
develop a standalone qgis application. i followed teh steps in the website:

http://blog.qgis.org/?q=node/10.


but i could not compile it successfully. the following are the errore:
saravanan@spa:~/workspace/QGIS_programming/mapDisplay> make
g++ -c -pipe -O2 -Wall -W -D_REENTRANT -DQT_NO_DEBUG -DQT_GUI_LIB
-DQT_CORE_LIB -DQT_SHARED -I../../../userQtopia/install_path/mkspecs/default
-I. -I../../../userQtopia/install_path/include/QtCore
-I../../../userQtopia/install_path/include/QtCore
-I../../../userQtopia/install_path/include/QtGui
-I../../../userQtopia/install_path/include/QtGui
-I../../../userQtopia/install_path/include
-I/home/saravanan/QGIS/qgis_0.9.1/src/app
-I/home/saravanan/QGIS/qgis_0.9.1/src/core
-I/home/saravanan/QGIS/qgis_0.9.1/src/gui -I. -I. -o main.o main.cpp
main.cpp:6:37: error: qgssinglesymbolrenderer.h: No such file or directory
In file included from main.cpp:9:
/home/saravanan/QGIS/qgis_0.9.1/src/gui/qgsmapcanvas.h:30:24: error:
QDomDocument: No such file or directory
In file included from /usr/include/c++/4.1.0/backward/deque.h:59,
                 from main.cpp:19:
/usr/include/c++/4.1.0/backward/backward_warning.h:32:2: warning: #warning
This file includes at least one deprecated or antiquated header. Please
consider using one of the 32 headers found in section 17.4.1.2 of the C++
standard. Examples include substituting the <X> header for the <X.h> header
for C++ includes, or <iostream> instead of the deprecated header
<iostream.h>. To disable this warning use -Wno-deprecated.
main.cpp:65:2: warning: no newline at end of file
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsapplication.h:21: error: invalid
function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsproviderregistry.h:38: error:
invalid function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsmaplayerregistry.h:36: error:
invalid function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgis.h:34: error: invalid function
declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:26: error: invalid
function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: expected ','
or '...' before '&' token
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: ISO C++
forbids declaration of 'QgsPoint' with no type
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: 'bool
operator==(int)' must have an argument of class or enumerated type
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: 'bool
operator==(int)' must take exactly two arguments
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: In function 'bool
operator==(int)':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:129: error: 'p1' was not
declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:129: error: 'p2' was not
declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: warning: unused
parameter 'QgsPoint'
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: error: expected ','
or '...' before '&' token
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: error: ISO C++
forbids declaration of 'QgsPoint' with no type
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: In function
'std::ostream& operator<<(std::ostream&, int)':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:138: error: 'p' was not
declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: warning: unused
parameter 'QgsPoint'
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:35: error: invalid
function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:132: error: expected
initializer before '::' token
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:136: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
setXmin(double)':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:138: error: 'xmin' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:141: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
setXmax(double)':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:143: error: 'xmax' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:146: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
setYmin(double)':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:148: error: 'ymin' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:151: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
setYmax(double)':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:153: error: 'ymax' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:156: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:156: error: non-member
function 'double xMax()' cannot have cv-qualifier
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
xMax()':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:158: error: 'xmax' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:161: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:161: error: non-member
function 'double xMin()' cannot have cv-qualifier
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
xMin()':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:163: error: 'xmin' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:166: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:166: error: non-member
function 'double yMax()' cannot have cv-qualifier
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
yMax()':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:168: error: 'ymax' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:171: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:171: error: non-member
function 'double yMin()' cannot have cv-qualifier
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
yMin()':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:173: error: 'ymin' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:176: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:176: error: non-member
function 'double width()' cannot have cv-qualifier
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
width()':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:178: error: 'xmax' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:178: error: 'xmin' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:181: error: 'QgsRect' has
not been declared
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:181: error: non-member
function 'double height()' cannot have cv-qualifier
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
height()':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:183: error: 'ymax' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:183: error: 'ymin' was
not declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:186: error: 'QgsPoint'
does not name a type
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: error: expected ','
or '...' before '&' token
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: error: ISO C++
forbids declaration of 'QgsRect' with no type
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function
'std::ostream& operator<<(std::ostream&, int)':
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: error: redefinition
of 'std::ostream& operator<<(std::ostream&, int)'
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: error:
'std::ostream& operator<<(std::ostream&, int)' previously defined here
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:192: error: 'r' was not
declared in this scope
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: warning: unused
parameter 'QgsRect'
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsmaplayer.h:42: error: invalid
function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsfeature.h:47: error: invalid
function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/core/qgsvectorlayer.h:67: error: invalid
function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/gui/qgsmapcanvas.h:61: error: invalid
function declaration
/home/saravanan/QGIS/qgis_0.9.1/src/gui/qgsmapcanvas.h:92: error: invalid
function declaration
main.cpp: In function 'int main(int, char**)':
main.cpp:25: error: 'QgsApplication' was not declared in this scope
main.cpp:25: error: expected `;' before 'app'
main.cpp:32: error: 'QgsProviderRegistry' has not been declared
main.cpp:32: error: invalid type in declaration before '(' token
main.cpp:32: error: cannot convert 'QString' to 'int' in initialization
main.cpp:33: error: 'QgsVectorLayer' was not declared in this scope
main.cpp:33: error: 'mypLayer' was not declared in this scope
main.cpp:34: error: expected type-specifier before 'QgsVectorLayer'
main.cpp:34: error: expected `;' before 'QgsVectorLayer'
main.cpp:35: error: 'QgsSingleSymbolRenderer' was not declared in this scope
main.cpp:35: error: 'mypRenderer' was not declared in this scope
main.cpp:35: error: expected type-specifier before 'QgsSingleSymbolRenderer'
main.cpp:35: error: expected `;' before 'QgsSingleSymbolRenderer'
main.cpp:48: error: 'QgsMapLayerRegistry' has not been declared
main.cpp:48: error: expected initializer before '->' token
main.cpp:53: error: 'QgsMapCanvas' was not declared in this scope
main.cpp:53: error: 'mypMapCanvas' was not declared in this scope
main.cpp:53: error: expected type-specifier before 'QgsMapCanvas'
main.cpp:53: error: expected `;' before 'QgsMapCanvas'
main.cpp:64: error: 'app' was not declared in this scope
main.cpp:32: warning: unused variable 'instance'
main.cpp: At global scope:
main.cpp:22: warning: unused parameter 'argc'
main.cpp:22: warning: unused parameter 'argv'
make: *** [main.o] Error 1
saravanan@spa:~/workspace/QGIS_programming/mapDisplay>


can anyone provide me any suggestions or solutions for this ?


thanks in advance,

saravanan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080429/e5eeb757/attachment-0001.html
From marco.hugentobler at karto.baug.ethz.ch  Tue Apr 29 08:00:45 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue Apr 29 08:00:41 2008
Subject: [Qgis-developer] Patch to Remove Qt3 Dependencies
In-Reply-To: <20080428155854.GA20020@norbit.de>
References: <4811456A.4080601@comcast.net>
	<d368056f0804280600i19edbd1bq5a73f5b69a668bde@mail.gmail.com>
	<20080428155854.GA20020@norbit.de>
Message-ID: <200804291400.46126.marco.hugentobler@karto.baug.ethz.ch>

Hi J?rgen,

I have similar problems applying your ogrmymerge.diff patch (also with -l 
option). Is there an easy workaround or could you provide a tar.gz with the 
changed/added files?

Regards,
Marco

Am Montag 28 April 2008 17:58:54 schrieb J?rgen E. Fischer:
> Hi Tim
>
> On Mon, 28. Apr 2008 at 10:00:47 -0300, Tim Sutton wrote:
> > I also had problems with applying the patch - seems to be diffs of
> > various of the CMakeLists.txt files.  I did a bit of hacky workarounds
> > and was able to mostly compile under windows and mac with the
> > exception of some qt3isms remaining in:
> >
> > src/plugins/grass/qgsgrassregion.cpp
> >
> > Though I'm unsure if this is simply a symptom of me not tweaking the
> > patch properly.
>
> I think this is due to different line endings.
>
> subversion seems to checkout files with the local line ending and so the
> patch sometime fails when you try to apply diffs made on an other
> platform (windows vs.  unix vs. macos).  patch -l might help.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Tue Apr 29 10:15:50 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Apr 29 10:15:53 2008
Subject: [Qgis-developer] compiling QGIS application from tutorials
In-Reply-To: <94b8ae6d0804290255h2b3d3294r979e6a5be496c0ec@mail.gmail.com>
References: <94b8ae6d0804290255h2b3d3294r979e6a5be496c0ec@mail.gmail.com>
Message-ID: <d368056f0804290715x5656254byccbb81acb1b4edec@mail.gmail.com>

Hi

Can you post the .pro or CMakeLists.txt file(s) you used?

Regards

Tim

2008/4/29 Saravanan Ponnuswamy <psaravanan81@gmail.com>:
> Hi,
>
> i had compiled qgis for my LInux PC and its working fine.now i need to
> develop a standalone qgis application. i followed teh steps in the website:
>
> http://blog.qgis.org/?q=node/10.
>
>
> but i could not compile it successfully. the following are the errore:
> saravanan@spa:~/workspace/QGIS_programming/mapDisplay> make
> g++ -c -pipe -O2 -Wall -W -D_REENTRANT -DQT_NO_DEBUG -DQT_GUI_LIB
> -DQT_CORE_LIB -DQT_SHARED -I../../../userQtopia/install_path/mkspecs/default
> -I. -I../../../userQtopia/install_path/include/QtCore
> -I../../../userQtopia/install_path/include/QtCore
> -I../../../userQtopia/install_path/include/QtGui
> -I../../../userQtopia/install_path/include/QtGui
> -I../../../userQtopia/install_path/include
> -I/home/saravanan/QGIS/qgis_0.9.1/src/app
> -I/home/saravanan/QGIS/qgis_0.9.1/src/core
> -I/home/saravanan/QGIS/qgis_0.9.1/src/gui -I. -I. -o main.o main.cpp
> main.cpp:6:37: error: qgssinglesymbolrenderer.h: No such file or directory
> In file included from main.cpp:9:
> /home/saravanan/QGIS/qgis_0.9.1/src/gui/qgsmapcanvas.h:30:24: error:
> QDomDocument: No such file or directory
> In file included from /usr/include/c++/4.1.0/backward/deque.h:59,
>                  from main.cpp:19:
> /usr/include/c++/4.1.0/backward/backward_warning.h:32:2: warning: #warning
> This file includes at least one deprecated or antiquated header. Please
> consider using one of the 32 headers found in section 17.4.1.2 of the C++
> standard. Examples include substituting the <X> header for the <X.h> header
> for C++ includes, or <iostream> instead of the deprecated header
> <iostream.h>. To disable this warning use -Wno-deprecated.
> main.cpp:65:2: warning: no newline at end of file
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsapplication.h:21: error: invalid
> function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsproviderregistry.h:38: error:
> invalid function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsmaplayerregistry.h:36: error:
> invalid function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgis.h:34: error: invalid function
> declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:26: error: invalid
> function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: expected ','
> or '...' before '&' token
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: ISO C++
> forbids declaration of 'QgsPoint' with no type
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: 'bool
> operator==(int)' must have an argument of class or enumerated type
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: error: 'bool
> operator==(int)' must take exactly two arguments
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: In function 'bool
> operator==(int)':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:129: error: 'p1' was not
> declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:129: error: 'p2' was not
> declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:127: warning: unused
> parameter 'QgsPoint'
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: error: expected ','
> or '...' before '&' token
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: error: ISO C++
> forbids declaration of 'QgsPoint' with no type
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: In function
> 'std::ostream& operator<<(std::ostream&, int)':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:138: error: 'p' was not
> declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: warning: unused
> parameter 'QgsPoint'
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:35: error: invalid
> function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:132: error: expected
> initializer before '::' token
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:136: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
> setXmin(double)':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:138: error: 'xmin' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:141: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
> setXmax(double)':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:143: error: 'xmax' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:146: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
> setYmin(double)':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:148: error: 'ymin' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:151: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'void
> setYmax(double)':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:153: error: 'ymax' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:156: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:156: error: non-member
> function 'double xMax()' cannot have cv-qualifier
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
> xMax()':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:158: error: 'xmax' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:161: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:161: error: non-member
> function 'double xMin()' cannot have cv-qualifier
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
> xMin()':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:163: error: 'xmin' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:166: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:166: error: non-member
> function 'double yMax()' cannot have cv-qualifier
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
> yMax()':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:168: error: 'ymax' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:171: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:171: error: non-member
> function 'double yMin()' cannot have cv-qualifier
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
> yMin()':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:173: error: 'ymin' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:176: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:176: error: non-member
> function 'double width()' cannot have cv-qualifier
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
> width()':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:178: error: 'xmax' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:178: error: 'xmin' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:181: error: 'QgsRect' has
> not been declared
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:181: error: non-member
> function 'double height()' cannot have cv-qualifier
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function 'double
> height()':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:183: error: 'ymax' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:183: error: 'ymin' was
> not declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:186: error: 'QgsPoint'
> does not name a type
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: error: expected ','
> or '...' before '&' token
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: error: ISO C++
> forbids declaration of 'QgsRect' with no type
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: In function
> 'std::ostream& operator<<(std::ostream&, int)':
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: error: redefinition
> of 'std::ostream& operator<<(std::ostream&, int)'
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgspoint.h:135: error:
> 'std::ostream& operator<<(std::ostream&, int)' previously defined here
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:192: error: 'r' was not
> declared in this scope
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h: At global scope:
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsrect.h:190: warning: unused
> parameter 'QgsRect'
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsmaplayer.h:42: error: invalid
> function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsfeature.h:47: error: invalid
> function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/core/qgsvectorlayer.h:67: error: invalid
> function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/gui/qgsmapcanvas.h:61: error: invalid
> function declaration
> /home/saravanan/QGIS/qgis_0.9.1/src/gui/qgsmapcanvas.h:92: error: invalid
> function declaration
> main.cpp: In function 'int main(int, char**)':
> main.cpp:25: error: 'QgsApplication' was not declared in this scope
> main.cpp:25: error: expected `;' before 'app'
> main.cpp:32: error: 'QgsProviderRegistry' has not been declared
> main.cpp:32: error: invalid type in declaration before '(' token
> main.cpp:32: error: cannot convert 'QString' to 'int' in initialization
> main.cpp:33: error: 'QgsVectorLayer' was not declared in this scope
> main.cpp:33: error: 'mypLayer' was not declared in this scope
> main.cpp:34: error: expected type-specifier before 'QgsVectorLayer'
> main.cpp:34: error: expected `;' before 'QgsVectorLayer'
> main.cpp:35: error: 'QgsSingleSymbolRenderer' was not declared in this scope
> main.cpp:35: error: 'mypRenderer' was not declared in this scope
> main.cpp:35: error: expected type-specifier before 'QgsSingleSymbolRenderer'
> main.cpp:35: error: expected `;' before 'QgsSingleSymbolRenderer'
> main.cpp:48: error: 'QgsMapLayerRegistry' has not been declared
> main.cpp:48: error: expected initializer before '->' token
> main.cpp:53: error: 'QgsMapCanvas' was not declared in this scope
> main.cpp:53: error: 'mypMapCanvas' was not declared in this scope
> main.cpp:53: error: expected type-specifier before 'QgsMapCanvas'
> main.cpp:53: error: expected `;' before 'QgsMapCanvas'
> main.cpp:64: error: 'app' was not declared in this scope
> main.cpp:32: warning: unused variable 'instance'
> main.cpp: At global scope:
> main.cpp:22: warning: unused parameter 'argc'
> main.cpp:22: warning: unused parameter 'argv'
> make: *** [main.o] Error 1
> saravanan@spa:~/workspace/QGIS_programming/mapDisplay>
>
>
> can anyone provide me any suggestions or solutions for this ?
>
>
> thanks in advance,
>
> saravanan
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From telwertowski at comcast.net  Tue Apr 29 23:37:11 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Tue Apr 29 23:37:14 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
Message-ID: <4817E967.7030405@comcast.net>

William Kyngesburye wrote:
> On Apr 26, 2008, at 7:33 PM, Gary Sherman wrote:
> 
>> I assume there must be something in the main method that pull in the 
>> IOKit headers, but I don't know why it fails.
> 
> More likely some from Qt.  Which version are you using?

This appears to be a CMake bug in the root CMakeLists.txt caused by FIND_LIBRARY(APP_SERVICES_LIBRARY ApplicationServices).

If you add the prefix /Developer/SDKs/MacOSX10.4u.sdk to the path
APP_SERVICES_LIBRARY:FILEPATH=/System/Library/Frameworks/ApplicationServices.framework
in CMakeCache.txt, the IOKit header errors go away. CMake adds the path to CXX_FLAGS using -F; this seems to turn the boot /System/Library into another directory to search before the -sysroot paths.

Tom
From sherman at mrcc.com  Tue Apr 29 23:57:01 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Tue Apr 29 23:57:11 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <4817E967.7030405@comcast.net>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
	<4817E967.7030405@comcast.net>
Message-ID: <23905563-5926-4D66-A6E8-2A586181F861@mrcc.com>

On Apr 29, 2008, at 7:37 PM, Tom Elwertowski wrote:
> This appears to be a CMake bug in the root CMakeLists.txt caused by  
> FIND_LIBRARY(APP_SERVICES_LIBRARY ApplicationServices).
>
> If you add the prefix /Developer/SDKs/MacOSX10.4u.sdk to the path
> APP_SERVICES_LIBRARY:FILEPATH=/System/Library/Frameworks/ 
> ApplicationServices.framework
> in CMakeCache.txt, the IOKit header errors go away. CMake adds the  
> path to CXX_FLAGS using -F; this seems to turn the boot /System/ 
> Library into another directory to search before the -sysroot paths.

By adding the prefix do you mean the line should look like:
APP_SERVICES_LIBRARY:FILEPATH=/Developer/SDKs/MacOSX10.4u.sdk/System/ 
Library/Frameworks/ApplicationServices.framework
or ??

-gary



-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From woklist at kyngchaos.com  Wed Apr 30 00:06:54 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Apr 30 00:06:58 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <23905563-5926-4D66-A6E8-2A586181F861@mrcc.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
	<4817E967.7030405@comcast.net>
	<23905563-5926-4D66-A6E8-2A586181F861@mrcc.com>
Message-ID: <BEDCD27C-D465-4403-AFF0-C8E18FF82251@kyngchaos.com>

On Apr 29, 2008, at 10:57 PM, Gary Sherman wrote:

> On Apr 29, 2008, at 7:37 PM, Tom Elwertowski wrote:
>> This appears to be a CMake bug in the root CMakeLists.txt caused by  
>> FIND_LIBRARY(APP_SERVICES_LIBRARY ApplicationServices).
>>
>> If you add the prefix /Developer/SDKs/MacOSX10.4u.sdk to the path
>> APP_SERVICES_LIBRARY:FILEPATH=/System/Library/Frameworks/ 
>> ApplicationServices.framework
>> in CMakeCache.txt, the IOKit header errors go away. CMake adds the  
>> path to CXX_FLAGS using -F; this seems to turn the boot /System/ 
>> Library into another directory to search before the -sysroot paths.
>
> By adding the prefix do you mean the line should look like:
> APP_SERVICES_LIBRARY:FILEPATH=/Developer/SDKs/MacOSX10.4u.sdk/System/ 
> Library/Frameworks/ApplicationServices.framework
> or ??
>
Ack!  This may seem logical, but that's what the -isysroot flag  
(CMAKE_OSX_SYSROOT) takes care of behind the scenes.  You may just end  
up with GCC looking for headers in /Developer/SDKs/MacOSX10.4u.sdk/ 
Developer/SDKs/MacOSX10.4u.sdk/System/Library/Frameworks/ 
ApplicationServices.framework/Headers, and still fail.

> -gary
>

So, did the symlink for /usr/local/qgis_universal_deps in the SDK not  
help?

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From sherman at mrcc.com  Wed Apr 30 00:07:01 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Apr 30 00:07:09 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <23905563-5926-4D66-A6E8-2A586181F861@mrcc.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
	<4817E967.7030405@comcast.net>
	<23905563-5926-4D66-A6E8-2A586181F861@mrcc.com>
Message-ID: <65276BEA-77DC-4857-B22B-54B24A0FA08B@mrcc.com>


On Apr 29, 2008, at 7:57 PM, Gary Sherman wrote:
> On Apr 29, 2008, at 7:37 PM, Tom Elwertowski wrote:
>> This appears to be a CMake bug in the root CMakeLists.txt caused by  
>> FIND_LIBRARY(APP_SERVICES_LIBRARY ApplicationServices).
>>
>> If you add the prefix /Developer/SDKs/MacOSX10.4u.sdk to the path
>> APP_SERVICES_LIBRARY:FILEPATH=/System/Library/Frameworks/ 
>> ApplicationServices.framework
>> in CMakeCache.txt, the IOKit header errors go away. CMake adds the  
>> path to CXX_FLAGS using -F; this seems to turn the boot /System/ 
>> Library into another directory to search before the -sysroot paths.
>
> By adding the prefix do you mean the line should look like:
> APP_SERVICES_LIBRARY:FILEPATH=/Developer/SDKs/MacOSX10.4u.sdk/System/ 
> Library/Frameworks/ApplicationServices.framework
> or ??
>
> -gary


Ok, that works.

Thanks!!!  -- How do you Mac guys figure this stuff out???

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From sherman at mrcc.com  Wed Apr 30 00:11:20 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Apr 30 00:11:31 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <BEDCD27C-D465-4403-AFF0-C8E18FF82251@kyngchaos.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
	<4817E967.7030405@comcast.net>
	<23905563-5926-4D66-A6E8-2A586181F861@mrcc.com>
	<BEDCD27C-D465-4403-AFF0-C8E18FF82251@kyngchaos.com>
Message-ID: <FD63E3CB-C115-4DA5-AEBB-4A95A09A193D@mrcc.com>

On Apr 29, 2008, at 8:06 PM, William Kyngesburye wrote:
> Ack!  This may seem logical, but that's what the -isysroot flag  
> (CMAKE_OSX_SYSROOT) takes care of behind the scenes.  You may just  
> end up with GCC looking for headers in /Developer/SDKs/ 
> MacOSX10.4u.sdk/Developer/SDKs/MacOSX10.4u.sdk/System/Library/ 
> Frameworks/ApplicationServices.framework/Headers, and still fail.
>
>> -gary
>>
>
> So, did the symlink for /usr/local/qgis_universal_deps in the SDK  
> not help?
No it didn't. But Tom's suggestion seems to have solve my problem. Now  
to test the universal binary on a PPC...

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From woklist at kyngchaos.com  Wed Apr 30 00:32:26 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Apr 30 00:32:30 2008
Subject: [Qgis-developer] Building universal binary on Leopard for Tiger
In-Reply-To: <FD63E3CB-C115-4DA5-AEBB-4A95A09A193D@mrcc.com>
References: <20ABD0AD-0EBC-4FF2-9D19-A514B3899256@mrcc.com>	<29A68440-EAEE-43CA-ADE3-3CE87E21AAD8@kyngchaos.com>	<1F557DB6-B2C8-4278-AA59-758435F7B28B@mrcc.com>	<3C8C6501-B2CF-406F-A861-5CC3B2430BC5@kyngchaos.com>	<5EBEFE1F-1D7B-49A5-B6DE-08E64911C2E5@mrcc.com>
	<C5347932-BF5A-474E-9184-074C2E47C3BB@kyngchaos.com>
	<4817E967.7030405@comcast.net>
	<23905563-5926-4D66-A6E8-2A586181F861@mrcc.com>
	<BEDCD27C-D465-4403-AFF0-C8E18FF82251@kyngchaos.com>
	<FD63E3CB-C115-4DA5-AEBB-4A95A09A193D@mrcc.com>
Message-ID: <AF10D0B8-75C8-4B6C-9064-3961BF82956E@kyngchaos.com>

On Apr 29, 2008, at 11:11 PM, Gary Sherman wrote:

> On Apr 29, 2008, at 8:06 PM, William Kyngesburye wrote:
>> Ack!  This may seem logical, but that's what the -isysroot flag  
>> (CMAKE_OSX_SYSROOT) takes care of behind the scenes.  You may just  
>> end up with GCC looking for headers in /Developer/SDKs/ 
>> MacOSX10.4u.sdk/Developer/SDKs/MacOSX10.4u.sdk/System/Library/ 
>> Frameworks/ApplicationServices.framework/Headers, and still fail.
>>
>>> -gary
>>>
>>
>> So, did the symlink for /usr/local/qgis_universal_deps in the SDK  
>> not help?
> No it didn't. But Tom's suggestion seems to have solve my problem.  
> Now to test the universal binary on a PPC...
>
Good to hear it's working, though you shouldn't have to do such an odd  
hack.  Maybe something's buggered in your Xcode installation, or  
something else is causing trouble, but tracking it down might be more  
trouble than it's worth.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From marco.hugentobler at karto.baug.ethz.ch  Wed Apr 30 03:02:20 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Apr 30 03:02:13 2008
Subject: [Qgis-developer] RFC vector data providers handling
In-Reply-To: <20080422173709.GA9231@norbit.de>
References: <20080420220742.GA11103@norbit.de>
	<BAY110-W353965FA17928048A089B3B2E00@phx.gbl>
	<20080422173709.GA9231@norbit.de>
Message-ID: <200804300902.20726.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

I also think it is good to unify provider properties at the GUI level and, as 
you mention, it is certainly a good idea that all providers benefit from 
concepts like subqueries and creation of new data sources.

> > > Each data provider should have a private list of connections (ie.
> > > database connection in PostgreSQL, datasources in OGR) and offer class
> > > methods to
...
> > > - add and edit new connections (this would include a provider specific
> > > gui), - return a list of datasource with the available vector layers

> And the vector data providers might need and additional method to fire
> up a gui to set a filter (ie. QgsPgQueryBuilder for the postgres
> provider and something similar for OGR layers that support it).

One thing that in my opinion is important to consider is to keep GUI and 
references to dialogs out of the provider classes.
A possibility might be to have a specific dialog class for each provider that 
is able to create a provider from GUI input. Like this the dialog knows about 
the provider, but not the other way round.

I'm trying to have a closer look at Juergens patch in the next days and 
possibly will then have a more complete understanding of the proposed 
changes.

Regards,
Marco 

Am Dienstag 22 April 2008 19:37:09 schrieb J?rgen E. Fischer:
> Hi Godofredo,
>
> On Tue, 22. Apr 2008 at 15:57:10 +0000, godofredo contreras wrote:
> > Yes, I also think that  notation should be private to the provider.
> > This way we can add new types easier without touching any other
> > code(OGR case).
>
> Or every other provider.
>
> > > In the process QgsDbSourceSelect should be renamed to QgsSourceSelect.
> > > The gui should list should list the registered vector data providers
> > > (classes).
> >
> > I was thinking a little about this and I think we can unify raster,
> > vector (file based) and vector(database based) and even wfs and wms in
> > a dialog. This way we can simplify a lot the gui.
>
> I just thought (and cared) about vector layers yet, but your right.
> QgsProviderRegistery doesn't make a difference there.  We can take it to
> the QgsMapLayer level.
>
> > > Each data provider should have a private list of connections (ie.
> > > database connection in PostgreSQL, datasources in OGR) and offer class
> > > methods to
> > >
> > > - list connections by name,
> > > - remove a connection by name,
> > > - add and edit new connections (this would include a provider specific
> > > gui), - return a list of datasource with the available vector layers
> > > through a named connection (ie. layers in OGR, geometry columns in
> > > PostgreSQL).  To support provider specific grouping (eg. for schemas in
> > > the PostgreSQL provider) that could be aggregated in a QDomNod.
> >
> > Have you thought about the layer creation? should it be included in
> > provider?
> > How will we access the new functionality in the provider? do the
> > interface needs to be extended?
>
> Above is as good as a list of methods I'd like to add to the providers.
> I intended to add class methods.  But we could also add and export
> functions (or wrappers for the class methods;  similar to
> fileVectorFilters()).
>
> QGISEXTERN QStringList getConnections();
> // would return a of registered connection names in the driver
> // QgsSourceSelect would call it to fill the connection combobox after
> // the provider is selected. This should also get an "New..." entry.
>
> QGISEXTERN bool editConnection(QString connection);
> // would be tied to the add/edit button and add/edit a selected
> // connection in the combobox and open a provider specific dialog box.
> // That gui could optionally include and "Add Layer..." button to create
> // a new layer (ie. QgsGeomTypeDialog for OGR, but not tied to just
> // shapes).
>
> QGISEXTERN bool removeConnection(QString connection);
> // would be tied to the remove button to remove the connection
>
> QGISEXTERN QDomNode *getLayerList(QString connection);
> // would be tied to the list layers button (to replace "Connect")
> // and return a list of layers that is used to fill QgsSourceSelect
> // lists layer list.
>
> QGISEXTERN QgsMapLayer *getLayer(const QDomNode *);
> // would instantiate a QgsMapLayer with a selected layer
>
> And the vector data providers might need and additional method to fire
> up a gui to set a filter (ie. QgsPgQueryBuilder for the postgres
> provider and something similar for OGR layers that support it).
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From jef at norbit.de  Wed Apr 30 04:09:13 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Apr 30 04:09:22 2008
Subject: [Qgis-developer] RFC vector data providers handling
In-Reply-To: <200804300902.20726.marco.hugentobler@karto.baug.ethz.ch>
References: <20080420220742.GA11103@norbit.de>
	<BAY110-W353965FA17928048A089B3B2E00@phx.gbl>
	<20080422173709.GA9231@norbit.de>
	<200804300902.20726.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <20080430080913.GA18089@norbit.de>

Hi Marco,

On Wed, 30. Apr 2008 at 09:02:20 +0200, Marco Hugentobler wrote:
> One thing that in my opinion is important to consider is to keep GUI and 
> references to dialogs out of the provider classes.
> A possibility might be to have a specific dialog class for each provider that 
> is able to create a provider from GUI input. Like this the dialog knows about 
> the provider, but not the other way round.

> Am Dienstag 22 April 2008 19:37:09 schrieb J?rgen E. Fischer:
> > QGISEXTERN bool editConnection(QString connection);
> > // would be tied to the add/edit button and add/edit a selected
> > // connection in the combobox and open a provider specific dialog box.
> > // That gui could optionally include and "Add Layer..." button to create
> > // a new layer (ie. QgsGeomTypeDialog for OGR, but not tied to just
> > // shapes).

editConnection() would be in the provider plugin, but not necessarily in
the provider class.

The app/ classes wouldn't need to know about individual providers, just
about the provider registry.  That way we could also add new providers
including the necessary gui to create them without even touching app/ at
all.

> I'm trying to have a closer look at Juergens patch in the next days and 
> possibly will then have a more complete understanding of the proposed 
> changes.

That patch isn't what I proposed.  It's just what made me think.
 

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From otto.dassau at gmx.de  Wed Apr 30 04:45:04 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Apr 30 04:45:30 2008
Subject: [Qgis-developer] Re: [Qgis-user] New QGIS "Community Team"
In-Reply-To: <20080418115337.705a37ab@nature>
References: <20080418115337.705a37ab@nature>
Message-ID: <20080430104504.08ef0d8a@nature>

Folks,

after forming a "Release Team" we are now pleased to announce the new QGIS
"Community Team" and would like to thank Tara Athan, Werner Macho, Lars 
St?wesand, Stephan Reber and Sascha Wernicke in advance for their willingness
to take over responsibility as community assistants. You can have a closer look
and get in contact with the just formed new QGIS teams here:

(Overview)		http://wiki.qgis.org/
(Community Team)	http://wiki.qgis.org/qgiswiki/CommunityTeam
(Release Team)		http://wiki.qgis.org/qgiswiki/ReleaseTeam

The aim of the Community Team is to provide and improve community services
within the qgis project. As you already know from the last mailing (see below)
this means a lot of work and we are now starting to organize the tasks and
recruit more people who are willing to invest a little time. 

The Release Team manages and coordinates the release process, provided binary
packages and announces new releases to the world at large. Any assistance to
improve the release process is welcome.

If you want to help or just want to be informed, please subscribe to the
"qgis-community-team" and/or "qgis-release-team" list(s) and follow further
announcements. We will all benefit the more people take part. 

http://qgis.org/content/view/115/96/

thanks a lot for your help!

kind regards,
 Otto 

On Fri, 18 Apr 2008 11:53:37 +0200
Otto Dassau <otto.dassau@gmx.de> wrote:

> Dear QGIS users, 
> 
> additional to the "Release Team" [1] we are looking for volunteers to build
> a new QGIS "Community Team" [2] to update, extend, and improve the services
> for our community. 
> 
> Tasks we want to establish/improve and need help for are:
> 
> - manage, extend, update, and review documentation (manual, broshure, ...). 
> - manage and translate documentation (manual, broshure, ...) into foreign
>   languages (see documentation writers corner [3]). Here we already have many
>   contributers,  but we would like to have more people getting involved 
> - manage the translations of the graphical user interface (see translators
>   corner [4]) and find more people for more languages.  
> - take care of the wiki "user corner" [5] and make it a drop-in center for
>   users
>   (add interesting links, tipps etc.)  
> - manage the conference corner [6]. Find and add interesting conferences for
>   QGIS (maybe a conference calender), organize lectures and workshops together
>   with the community   
> - Manage the QGIS website [7] and blog [8]. Adding and updating content,
>   reviewing, ...
> - ...
> 
> We are looking for people who are willing to invest some time so we can spread
> the work between small groups of people who each would have a specific area of
> resposibility. You don't need to be a programmer at all to be part of the
> team. 
> 
> Some of you already sent me emails within the last weeks/months that you are
> interested to help and contribute, thank a lot! This makes me confident that
> we can get started soon! 
> 
> For the beginning, if you are interested to help, I would like to ask you to
> write a short mail to me (otto dassau) and in copy to the doc ML [9] (after
> subscribtion) with some background information and what task you can imagine
> to do in the team. The QGIS doc mailing list will be used for all "community
> team" related discussions.
> 
> I started to update the Community part at the QGIS wiki [10], and will add
> more information soon and keep you uptodate via the mailing list.
> 
> thanks a lot in advance for any assistance you can give!
> 
> Kind regards,
>  Otto
> 
> [1] http://wiki.qgis.org/qgiswiki/ReleaseTeam
> [2] http://wiki.qgis.org/qgiswiki/CommunityTeam
> [3] http://wiki.qgis.org/qgiswiki/DocumentationWritersCorner
> [4] http://wiki.qgis.org/qgiswiki/TranslatorsCorner
> [5] http://wiki.qgis.org/qgiswiki/UsersCorner
> [6] http://wiki.qgis.org/qgiswiki/ConferenceCorner
> [7] http://qgis.org/
> [8] http://blog.qgis.org/
> [9] http://lists.osgeo.org/mailman/listinfo/qgis-doc
> [10] http://wiki.qgis.org/
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user
From marco.hugentobler at karto.baug.ethz.ch  Wed Apr 30 14:42:47 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Wed Apr 30 14:47:11 2008
Subject: AW: [Qgis-developer] RFC vector data providers handling
References: <20080420220742.GA11103@norbit.de>
	<BAY110-W353965FA17928048A089B3B2E00@phx.gbl>
	<20080422173709.GA9231@norbit.de>
	<200804300902.20726.marco.hugentobler@karto.baug.ethz.ch>
	<20080430080913.GA18089@norbit.de>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF829@EX6.d.ethz.ch>

Hi J?rgen,

>editConnection() would be in the provider plugin, but not necessarily in
>the provider class.
>
>The app/ classes wouldn't need to know about individual providers, just
>about the provider registry.  That way we could also add new providers
>including the necessary gui to create them without even touching app/ at
>all.

This sounds good. If the dialog is not included into the provider itself then I think it would be ok. And yes, valid point that app does not need to be touched to add a new provider.

>That patch isn't what I proposed.  It's just what made me think.

Ok, I see. 

Regards,
Marco

-----Urspr?ngliche Nachricht-----
Von: J?rgen E. Fischer [mailto:jef@norbit.de]
Gesendet: Mi 30.04.2008 10:09
An: Hugentobler  Marco
Cc: qgis-developer@lists.osgeo.org; godofredo contreras
Betreff: Re: [Qgis-developer] RFC vector data providers handling
 
Hi Marco,

On Wed, 30. Apr 2008 at 09:02:20 +0200, Marco Hugentobler wrote:
> One thing that in my opinion is important to consider is to keep GUI and 
> references to dialogs out of the provider classes.
> A possibility might be to have a specific dialog class for each provider that 
> is able to create a provider from GUI input. Like this the dialog knows about 
> the provider, but not the other way round.

> Am Dienstag 22 April 2008 19:37:09 schrieb J?rgen E. Fischer:
> > QGISEXTERN bool editConnection(QString connection);
> > // would be tied to the add/edit button and add/edit a selected
> > // connection in the combobox and open a provider specific dialog box.
> > // That gui could optionally include and "Add Layer..." button to create
> > // a new layer (ie. QgsGeomTypeDialog for OGR, but not tied to just
> > // shapes).

editConnection() would be in the provider plugin, but not necessarily in
the provider class.

The app/ classes wouldn't need to know about individual providers, just
about the provider registry.  That way we could also add new providers
including the necessary gui to create them without even touching app/ at
all.

> I'm trying to have a closer look at Juergens patch in the next days and 
> possibly will then have a more complete understanding of the proposed 
> changes.

That patch isn't what I proposed.  It's just what made me think.
 

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502



From marco.hugentobler at karto.baug.ethz.ch  Wed Apr 30 14:54:04 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Apr 30 14:53:49 2008
Subject: Fwd: Re: [Qgis-developer] rendercontext-branch
Message-ID: <200804302054.04529.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

I'd like to merge the rendercontext branch soon. Therefore I'm repeating my 
call to test the branch and report comments and bugs.

Regards,
Marco



----------  Weitergeleitete Nachricht  ----------

Betreff: Re: [Qgis-developer] rendercontext-branch
Datum: Sonntag 13 April 2008
Von: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
An: qgis-developer@lists.osgeo.org

Hi all,

Note that the render context branch is now in a stage where it can be tested.
You may check out the branch with: 
'svn co https://svn.osgeo.org/qgis/branches/rendercontext-branch 
qgis_rendercontext'

Regards,
Marco


>
> On Mon, Apr 7, 2008 at 6:11 PM, Hugentobler  Marco
>
> <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi devs,
> >
> >  I started a wiki page about the changes in the rendercontext branch:
> >  http://wiki.qgis.org/qgiswiki/RenderContextBranch
> >
> >  Although the work in the branch is not completely finished, it would be
> > good for me to have some feedback. The most important changes in the
> > branch are:
> >
> >  - QgsRenderContext object encapsulates rendering parameters and is
> > passed to all map layers - QgsRenderContext::mRenderingStopped is set to
> > true to notify the layers that rendering was canceled (with esc key or
> > check box) - QgsRenderContext::mScaleFactor allows to scale outline
> > widths and image sizes. This is important to allow QGIS main canvas and
> > print composer output to look the same. QgsMapRender now sets this
> > scaling factor such that units are always mm - Similarly,
> > QgsRenderContext::mRasterScaleFactor allows for different raster
> > resolutions. The problem is that some devices work with pixels as units
> > (e.g. QImage, QPixmap, widgets), but others work with logical units (e.g.
> > QGraphicsView). To allow for a correct resolution, raster layers and
> > point marker images are oversampled by mRasterScaleFactor and scaled down
> > afterwards.
> >
> >  Regards,
> >  Marco
> >
> >  _______________________________________________
> >  Qgis-developer mailing list
> >  Qgis-developer@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> Marco



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------------------------------------------------

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Wed Apr 30 20:05:08 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Apr 30 20:05:10 2008
Subject: [Qgis-user] Re: AW: [Qgis-developer] "Fix problems with
	incorectly filled polygons"issues
In-Reply-To: <480778A3.2050806@o2.pl>
References: <48024C20.1030203@o2.pl>
	<200804160905.16256.marco.hugentobler@karto.baug.ethz.ch>
	<48063690.20004@o2.pl>
	<200804170743.42047.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0804170724j20be190fq5c24de6b37c97f1a@mail.gmail.com>
	<480778A3.2050806@o2.pl>
Message-ID: <e8e7199c0804301705u2805a045jb11333c1435f9327@mail.gmail.com>

Hi Maciej,

my reply is quite late, however I hope it can be still useful...

On Thu, Apr 17, 2008 at 6:19 PM, Maciej Sieczka <tutey@o2.pl> wrote:
>
> [...]
>
>  digitizing:
>  FPWIFP on: 433.308 (ouch!)
>  MLALJ on: 140.221
>  both off: 38.178
>
> [...]
>
>  digitizing:
>  FPWIFP on: 492.04 (ouch!)
>  MLALJ on: 190.413
>  both off: 31.917
>
>  Interesting - the mode that is fastest in digitizing is the slowest outside
> it. This means you can't have one best-performance QGIS rendering mode. When
> digitizing "both off" is best (and the only acceptable, given how much
> slower the 2 other modes are), while for browsing vector data you'll prefer
> "FPWIFP on" as it gives you 20% - 100% better performance.

The only difference between normal mode and digitizing mode is that
for every vertex in editing layer QGIS draws an ellipse with
transparency. Since with FPWIFP the rendered map is stored on X
server, when drawing a semi-transparent ellipse Qt has to ask X server
for the background, apply transparency and again send the modified bit
- one can imagine that this has a lot of overhead instead of just
changing pixels directly.

Such long times for rendering make me think about those vertex markers
- there should be an option to customize them for better performance -
e.g. turn semi-transparency off, change to a simpler shape (cross?) or
turn them completely.


>  "MLALJ on" is always in the middle - I thought would be most demanding in
> any case, ?

Hmm, the fact that with antialiasing on you'll get sometimes faster
results than without antialiasing looks like there are still things
that could be improved in Qt because drawing without AA should be
generally faster (less calculations and memory access).


>  Seems that vertices transparency is a performance killer. Could this be
> improved?

Right, as I've proposed above, allowing some level of customization of
the markers should do it.

>  P.S.
>
>  It seems that the name "Fix problems with incorectly filled polygons" does
> not reflect the option's function anymore. I have never noticed any
> incorectly filled polygon for a very long time, in either rendering mode.
> Those of my data which once ("many months ago") rendered strange don't do
> these days. Maybe that's due to some fix in QT or QGIS itself? Does anybody
> still experience corrupted polygon fill in QGIS? If not, maybe it's time to
> rename the option (don't what to call it though)?

Yes it's possible that the problem with filling of complex polygons
has gone, but I would still let this option available, although with
some different description (e.g. stating that it's using QPixmap
instead of QImage for rendering and that for usual user it's better to
leave it off, and that transparency and antialiasing is slower with it
turned on)

Martin
From wonder.sk at gmail.com  Wed Apr 30 20:21:00 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Apr 30 20:21:02 2008
Subject: [Qgis-developer] RFC vector data providers handling
In-Reply-To: <20080422173709.GA9231@norbit.de>
References: <20080420220742.GA11103@norbit.de>
	<BAY110-W353965FA17928048A089B3B2E00@phx.gbl>
	<20080422173709.GA9231@norbit.de>
Message-ID: <e8e7199c0804301721p16e4b946s59ab09d2d297fade@mail.gmail.com>

On Tue, Apr 22, 2008 at 7:37 PM, J?rgen E. Fischer <jef@norbit.de> wrote:
>
>  Above is as good as a list of methods I'd like to add to the providers.
>  I intended to add class methods.  But we could also add and export
>  functions (or wrappers for the class methods;  similar to
>  fileVectorFilters()).
>
>  QGISEXTERN QStringList getConnections();
>  // would return a of registered connection names in the driver
>  // QgsSourceSelect would call it to fill the connection combobox after
>  // the provider is selected. This should also get an "New..." entry.
>
>  QGISEXTERN bool editConnection(QString connection);
>  // would be tied to the add/edit button and add/edit a selected
>  // connection in the combobox and open a provider specific dialog box.
>  // That gui could optionally include and "Add Layer..." button to create
>  // a new layer (ie. QgsGeomTypeDialog for OGR, but not tied to just
>  // shapes).
>
>  QGISEXTERN bool removeConnection(QString connection);
>  // would be tied to the remove button to remove the connection
>
>  QGISEXTERN QDomNode *getLayerList(QString connection);
>  // would be tied to the list layers button (to replace "Connect")
>  // and return a list of layers that is used to fill QgsSourceSelect
>  // lists layer list.
>
>  QGISEXTERN QgsMapLayer *getLayer(const QDomNode *);
>  // would instantiate a QgsMapLayer with a selected layer

Hi Jurgen,

with such set of functions we get close to the model used in OGR
(which I think we should start using too) which has:
- layer - same as QGIS layer
- data source - can consist of many layers - in QGIS there's no equivalent
- driver - more or less what's provider in QGIS

Adding notion of data sources we'll be able to solve several
long-standing thinks like creating new layers, managing connections to
databases and finally creating an unified vector/data loading dialog.

Just throwing some ideas ;-)

Martin
