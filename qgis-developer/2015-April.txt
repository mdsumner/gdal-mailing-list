From sitansu at gmail.com  Wed Apr  1 04:04:01 2015
From: sitansu at gmail.com (SBP)
Date: Wed, 1 Apr 2015 04:04:01 -0700 (PDT)
Subject: [Qgis-developer] Bug in rendering Rasters in QGIS 2.4 2.6 and 2.8
	in Windows
Message-ID: <1427886241096-5196427.post@n6.nabble.com>

Dear All,
I had posted this in QGIS users list but I did not get any feedback. While
using the latest QGIS 2.8 ( 64 bit ) in Windows XP/7/8/8.1 in 6 laptops, I
found that large ( 300+ mb Landsat with 6 band image )raster images failed
to redraw while I zoomed in/out or while panning. This behaviour was so
random that I was forced to recommend 2.2 to all the users who are supported
by my team. 

It is not possible to use raster images for interpretation as the images do
not appear when we zooming or panning. I have placed a video where I have
compared the behaviour in 2.8 vs 2.2. A raster and a vector are shown. You
will be able to see that the raster disappears randomly and does not redraw
even if we pan or zoom. It reappears randomly. 

Video Link : https://www.youtube.com/watch?v=Wjly6C445uE&feature=youtu.be

I tested this in Macbook Pro with Qgis2.6 and I did not see this problem so
it might be only seen in windows systems.

I hope this will be looked into at the earliest.

Thank you for your time.
Regards,
Sitansu Pattnaik
kCube Consultancy Services



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Bug-in-rendering-Rasters-in-QGIS-2-4-2-6-and-2-8-in-Windows-tp5196427.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From sokolic at worldonline.co.za  Wed Apr  1 05:21:56 2015
From: sokolic at worldonline.co.za (Frank Sokolic)
Date: Wed, 01 Apr 2015 14:21:56 +0200
Subject: [Qgis-developer] Bug in rendering Rasters in QGIS 2.4 2.6 and
 2.8 in Windows
In-Reply-To: <1427886241096-5196427.post@n6.nabble.com>
References: <1427886241096-5196427.post@n6.nabble.com>
Message-ID: <551BE2E4.5060200@worldonline.co.za>

I can confirm this behaviour. I am getting it when displaying a 
georeferenced jpg using QGIS 2.8.1 64 bit (standalone installer) running 
on Windows 8.1.

When zooming in or out the raster image sometimes doesn't display. I've 
tried it with OTF both on and off and the bug still occurs.

I've also tried changing the rendering behaviour in the Options > 
Rendering dialogue. The bug occurs irrespective of whether "User render 
caching" and "Render layers in parallel" are on or off.

Regards, Frank.



On 01/04/2015 13:04, SBP wrote:
> Dear All,
> I had posted this in QGIS users list but I did not get any feedback. While
> using the latest QGIS 2.8 ( 64 bit ) in Windows XP/7/8/8.1 in 6 laptops, I
> found that large ( 300+ mb Landsat with 6 band image )raster images failed
> to redraw while I zoomed in/out or while panning. This behaviour was so
> random that I was forced to recommend 2.2 to all the users who are supported
> by my team.
>
> It is not possible to use raster images for interpretation as the images do
> not appear when we zooming or panning. I have placed a video where I have
> compared the behaviour in 2.8 vs 2.2. A raster and a vector are shown. You
> will be able to see that the raster disappears randomly and does not redraw
> even if we pan or zoom. It reappears randomly.
>
> Video Link : https://www.youtube.com/watch?v=Wjly6C445uE&feature=youtu.be
>
> I tested this in Macbook Pro with Qgis2.6 and I did not see this problem so
> it might be only seen in windows systems.
>
> I hope this will be looked into at the earliest.
>
> Thank you for your time.
> Regards,
> Sitansu Pattnaik
> kCube Consultancy Services
>
>
>
> --
> View this message in context: http://osgeo-org.1560.x6.nabble.com/Bug-in-rendering-Rasters-in-QGIS-2-4-2-6-and-2-8-in-Windows-tp5196427.html
> Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From kimaidou at gmail.com  Wed Apr  1 05:44:36 2015
From: kimaidou at gmail.com (kimaidou)
Date: Wed, 1 Apr 2015 14:44:36 +0200
Subject: [Qgis-developer] Bug in rendering Rasters in QGIS 2.4 2.6 and
 2.8 in Windows
In-Reply-To: <551BE2E4.5060200@worldonline.co.za>
References: <1427886241096-5196427.post@n6.nabble.com>
	<551BE2E4.5060200@worldonline.co.za>
Message-ID: <CAMKXKO4X76LhJLc87_J89Y5w9yodGb+h4dbetNsx04y=+v3v0Q@mail.gmail.com>

Hi,

This seems to be a bug.. As a workaround, waiting for the bug fix, have you
tried to build pyramids for this raster ? QGIS would then read the raster
from the pyramids when zooming out of raster native resolution. You can do
it in the raster properties dialog.

Michael

2015-04-01 14:21 GMT+02:00 Frank Sokolic <sokolic at worldonline.co.za>:

> I can confirm this behaviour. I am getting it when displaying a
> georeferenced jpg using QGIS 2.8.1 64 bit (standalone installer) running on
> Windows 8.1.
>
> When zooming in or out the raster image sometimes doesn't display. I've
> tried it with OTF both on and off and the bug still occurs.
>
> I've also tried changing the rendering behaviour in the Options >
> Rendering dialogue. The bug occurs irrespective of whether "User render
> caching" and "Render layers in parallel" are on or off.
>
> Regards, Frank.
>
>
>
>
> On 01/04/2015 13:04, SBP wrote:
>
>> Dear All,
>> I had posted this in QGIS users list but I did not get any feedback. While
>> using the latest QGIS 2.8 ( 64 bit ) in Windows XP/7/8/8.1 in 6 laptops, I
>> found that large ( 300+ mb Landsat with 6 band image )raster images failed
>> to redraw while I zoomed in/out or while panning. This behaviour was so
>> random that I was forced to recommend 2.2 to all the users who are
>> supported
>> by my team.
>>
>> It is not possible to use raster images for interpretation as the images
>> do
>> not appear when we zooming or panning. I have placed a video where I have
>> compared the behaviour in 2.8 vs 2.2. A raster and a vector are shown. You
>> will be able to see that the raster disappears randomly and does not
>> redraw
>> even if we pan or zoom. It reappears randomly.
>>
>> Video Link : https://www.youtube.com/watch?v=Wjly6C445uE&feature=youtu.be
>>
>> I tested this in Macbook Pro with Qgis2.6 and I did not see this problem
>> so
>> it might be only seen in windows systems.
>>
>> I hope this will be looked into at the earliest.
>>
>> Thank you for your time.
>> Regards,
>> Sitansu Pattnaik
>> kCube Consultancy Services
>>
>>
>>
>> --
>> View this message in context: http://osgeo-org.1560.x6.
>> nabble.com/Bug-in-rendering-Rasters-in-QGIS-2-4-2-6-and-2-
>> 8-in-Windows-tp5196427.html
>> Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150401/12ad7755/attachment.html>

From beiling at gbd-consult.de  Wed Apr  1 06:31:32 2015
From: beiling at gbd-consult.de (Marc Beiling)
Date: Wed, 1 Apr 2015 15:31:32 +0200
Subject: [Qgis-developer] QGIS Web-Client Cant display HelloWorld example
Message-ID: <20150401153132.4fcd60b8@linux-597c.site>

Hello List,

I've installed QGIS-Server and the Web-Client
(as described here: https://github.com/elpaso/QGIS-Web-Client).
The Server is working fine. But I cant manage to set up a working
client-example. When i browse to
http://mypage/qgis-web-client/site/qgiswebclient.html?map=/var/www/web/qgis-web-client/projects/helloworld.qgs
the basemaps are shown, but not the helloworld-layer. Chrome-Debugger
says nothing. Nothing that push me in the right direction in the logs
either. Is the helloworld-example supposed to work without further
configuration? Any hints what i am missing here?

Thanks
Marc


From olivier.dalang at gmail.com  Wed Apr  1 07:26:47 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 1 Apr 2015 16:26:47 +0200
Subject: [Qgis-developer] Adding grass commands to the processing toolbox
In-Reply-To: <CAExk7p2sAux8B1Vfg49t8ia5Q2G1w44NHd2NW+bOZGhCzT82qQ@mail.gmail.com>
References: <CAExk7p2sAux8B1Vfg49t8ia5Q2G1w44NHd2NW+bOZGhCzT82qQ@mail.gmail.com>
Message-ID: <CAExk7p3tkrmkpCB8cwnO838FGcSHUpc9PLrFTn+GyBa018SoOg@mail.gmail.com>

Hi again !

I'm crossposting to qgis-dev since it's becoming more of a dev question...

I found a way to make it work on QGIS 2.8 64 bits (windows).

I've added this file  OSGeo4W64\apps\qgis\python\
plugins\processing\algs\grass\description\v.net.centrality.txt  with this
content :
v.net.centrality
v.net.centrality - Toolset for computing centralities
Vector (v.*)
ParameterVector|input|Neworklayer|-1|False
ParameterString|betweenness|Betweenness field name|betweenness
ParameterBoolean|-a|-a|True
OutputVector|output|Output

And now I've the function right in QGIS's toolbox, and it works perfectly !

However, this doesn't seem to work on Mac (I put the file in the
corresponding folder of QGIS.app, but the tool doesn't appear in the
processing toolbox), any idea why ?
Or is it globally not the way to go (it seems a bit dirty to extend the
toolbox by creating new files in the application folder) ?

Best,

Olivier

2015-04-01 13:05 GMT+02:00 Olivier Dalang <olivier.dalang at gmail.com>:

> Dear list,
>
> How can I use a GRASS function from within QGIS if it's not in the toolbox
> ?
>
> Ideally, I'd like a GUI solution. But actually I wasn't even able to find
> how to use it in command line (I don't know anything of grass, only used it
> through the processing toolbox for now).
>
> I'm trying to use this function:
> v.net.centrality -a input=streets at anita_000 output=centrality
> degree=degree closeness=closeness betweenness=betweenness
> eigenvector=eigenvector
> (found here: http://planet.qgis.org/planet/tag/gis%20analysis/ , thanks
> Anita)
>
> This is how far I got:
>
> .qgis2\processing\scripts\betweennessCentrality.py
>
>
>> ##network=vector
>> ##output=output vector
>> import grass.script as grass
>> grass.run_command("v.net.centrality", flags='a', input=network,
>> output=output, degree='degree', closeness='closeness',
>> betweenness='betweenness', eigenvector='eigenvector')
>
>
> But I get an error when I run the algorithm (the gui loads nicely):
> No module named grass.script See log for more details
>
>
> Any help would be greatly appreciated !
>
> Best,
>
> Olivier
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150401/1f080670/attachment.html>

From apasotti at gmail.com  Wed Apr  1 07:39:43 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 1 Apr 2015 16:39:43 +0200
Subject: [Qgis-developer] QGIS Web-Client Cant display HelloWorld example
In-Reply-To: <20150401153132.4fcd60b8@linux-597c.site>
References: <20150401153132.4fcd60b8@linux-597c.site>
Message-ID: <CAL5Q672uECKogM22G_RcZK6ndRivQZw2Wg8kq_d19zsJbMSwoQ@mail.gmail.com>

2015-04-01 15:31 GMT+02:00 Marc Beiling <beiling at gbd-consult.de>:
> Hello List,
>
> I've installed QGIS-Server and the Web-Client
> (as described here: https://github.com/elpaso/QGIS-Web-Client).
> The Server is working fine. But I cant manage to set up a working
> client-example. When i browse to
> http://mypage/qgis-web-client/site/qgiswebclient.html?map=/var/www/web/qgis-web-client/projects/helloworld.qgs
> the basemaps are shown, but not the helloworld-layer. Chrome-Debugger
> says nothing. Nothing that push me in the right direction in the logs
> either. Is the helloworld-example supposed to work without further
> configuration? Any hints what i am missing here?
>

Hi Marc,

I suggest you to use the official branch
https://github.com/qgis/QGIS-Web-Client instead of my personal fork
which is not up-to-date with the latest changes on the official
branch.

Regards.
-- 
Alessandro Pasotti
w3:   www.itopen.it

From a.neumann at carto.net  Wed Apr  1 09:09:16 2015
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 01 Apr 2015 18:09:16 +0200
Subject: [Qgis-developer] QGIS Web-Client Cant display HelloWorld example
In-Reply-To: <20150401153132.4fcd60b8@linux-597c.site>
References: <20150401153132.4fcd60b8@linux-597c.site>
Message-ID: <551C182C.10306@carto.net>

Hi Marc,

I just had a quick test with the latest master version of both QGIS Web 
Client and QGIS Server. The "Hello World" example seems to run fine, but 
the second example (Natural Earth) seems to have an issue. Javascript 
complains about an opacity value. I am investigating the problem with 
the second example.

Did you adapt the path to the project file in site/index.html?

What QGIS Server version do you have?

Do you see any network requests made from the QWC to QGIS server?

Can you see the GetProjectSettings request?

Andreas

On 01.04.2015 15:31, Marc Beiling wrote:
> Hello List,
>
> I've installed QGIS-Server and the Web-Client
> (as described here: https://github.com/elpaso/QGIS-Web-Client).
> The Server is working fine. But I cant manage to set up a working
> client-example. When i browse to
> http://mypage/qgis-web-client/site/qgiswebclient.html?map=/var/www/web/qgis-web-client/projects/helloworld.qgs
> the basemaps are shown, but not the helloworld-layer. Chrome-Debugger
> says nothing. Nothing that push me in the right direction in the logs
> either. Is the helloworld-example supposed to work without further
> configuration? Any hints what i am missing here?
>
> Thanks
> Marc
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From a.neumann at carto.net  Wed Apr  1 09:17:12 2015
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 01 Apr 2015 18:17:12 +0200
Subject: [Qgis-developer] QGIS Web-Client Cant display HelloWorld example
In-Reply-To: <551C182C.10306@carto.net>
References: <20150401153132.4fcd60b8@linux-597c.site>
	<551C182C.10306@carto.net>
Message-ID: <551C1A08.5070600@carto.net>

Actually the second example should also work.

On my machine(s) I have troubles getting SpatiaLite to work with QGIS 
server. As a follow-up error QGIS Server cannot see the SpatiaLite 
layers and QWC issues the error.

Have to figure out how to compile QGIS server so it can use SpatiaLite 
layers ...

Andreas

On 01.04.2015 18:09, Andreas Neumann wrote:
> Hi Marc,
>
> I just had a quick test with the latest master version of both QGIS 
> Web Client and QGIS Server. The "Hello World" example seems to run 
> fine, but the second example (Natural Earth) seems to have an issue. 
> Javascript complains about an opacity value. I am investigating the 
> problem with the second example.
>
> Did you adapt the path to the project file in site/index.html?
>
> What QGIS Server version do you have?
>
> Do you see any network requests made from the QWC to QGIS server?
>
> Can you see the GetProjectSettings request?
>
> Andreas
>
> On 01.04.2015 15:31, Marc Beiling wrote:
>> Hello List,
>>
>> I've installed QGIS-Server and the Web-Client
>> (as described here: https://github.com/elpaso/QGIS-Web-Client).
>> The Server is working fine. But I cant manage to set up a working
>> client-example. When i browse to
>> http://mypage/qgis-web-client/site/qgiswebclient.html?map=/var/www/web/qgis-web-client/projects/helloworld.qgs 
>>
>> the basemaps are shown, but not the helloworld-layer. Chrome-Debugger
>> says nothing. Nothing that push me in the right direction in the logs
>> either. Is the helloworld-example supposed to work without further
>> configuration? Any hints what i am missing here?
>>
>> Thanks
>> Marc
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From matteo.ghetta at gmail.com  Wed Apr  1 12:04:53 2015
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 01 Apr 2015 21:04:53 +0200
Subject: [Qgis-developer] error in compiling qgis
Message-ID: <551C4155.2070806@gmail.com>

Hi all,
sorry again for the noise, but I cannot compile qgis. I get this error:

CMakeFiles/qgis_gui.dir/editorwidgets/qgsphotoconfigdlg.cpp.o: file not 
recognized: File truncated
collect2: error: ld returned 1 exit status
src/gui/CMakeFiles/qgis_gui.dir/build.make:11097: recipe for target 
'output/lib/libqgis_gui.so.2.9.0' failed
make[2]: *** [output/lib/libqgis_gui.so.2.9.0] Error 1
CMakeFiles/Makefile2:1319: recipe for target 
'src/gui/CMakeFiles/qgis_gui.dir/all' failed
make[1]: *** [src/gui/CMakeFiles/qgis_gui.dir/all] Error 2
Makefile:147: recipe for target 'all' failed
make: *** [all] Error 2


BTW: debian testing..

If anyone can help me, it would be great!

Thanks

Matteo

From digitalmaps at cox.net  Wed Apr  1 12:04:03 2015
From: digitalmaps at cox.net (G. Garibaldi)
Date: Wed, 01 Apr 2015 14:04:03 -0500
Subject: [Qgis-developer] Canvas rotation.
In-Reply-To: <AgHE1q0092tYtNL01gHFU1>
References: <20150401153132.4fcd60b8@linux-597c.site>	<551C182C.10306@carto.net>
	<AgHE1q0092tYtNL01gHFU1>
Message-ID: <551C4123.6070502@cox.net>

Thanks. Very nice. GIS operators the world over are in your debt.

G.

From nikhilmurarka14 at gmail.com  Wed Apr  1 18:50:15 2015
From: nikhilmurarka14 at gmail.com (Nikhil Murarka)
Date: Wed, 1 Apr 2015 21:50:15 -0400
Subject: [Qgis-developer] Delete feature Signal in QGIS
Message-ID: <CAFy5e2tLd3Kw=-yTpoK30ZbLmWbfGRyfePLrPsHTd6m+Gum4jQ@mail.gmail.com>

Hello,

I am using QGIS 2.6 and I am creating a plugin where i need to perform some
validation check before a feature is deleted from the vector layer. I
currently connect the feature delete signal and edit command edit signal to
a call backs and then in edit command end signal I do validation and then
using the reference to undostack undo the feature deleted if validation
fails. If i try to do same validation check in delete feature call back and
undo than it break undoredo stack probably because the edit command was not
ended for the delete feature.

Is there any way I can catch the signal before the feature is delete
instead of undo the stuff ?

Thanks,
Nikhi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150401/e5592b61/attachment.html>

From darth.naihil at gmail.com  Wed Apr  1 23:24:42 2015
From: darth.naihil at gmail.com (Anatoliy Golubev)
Date: Thu, 2 Apr 2015 09:24:42 +0300
Subject: [Qgis-developer] Map canvas zoom resets visibility of QgsRubberBand
Message-ID: <CAL1Jat9TwibOcKaYS+w4F41dz3Dk4pJp3nvn8gLsffxWmCQgmA@mail.gmail.com>

Hi devs!

I found another issue with QgsRubberBand which appear after fixing
#12392. See #12486 for details.

Im trying to fix this issue and have a questions about expected
behavior of QgsRubberBand.
When we create QgsRubberBand:
    QgsRubberBand *rb = new QgsRubberBand(mCanvas, 0);
constructor calls reset() and as a result visibility sets to false.

When we add valid geometry (not empty) calling addGeometry(geom,
layer) to empty rb - visibility should be set to true.

When we add point to empty rb without updating ( rb->addPoint(point,
false) ) visibility should not change and stay false.

When we add point to empty rb with updating ( rb->addPoint(point,
true) ) visibility should be set to true.

Is this correct behavior or we must manually call setVisible( true )
to show rubberband on map?

From sylvain.pierre at bas-rhin.fr  Thu Apr  2 00:23:51 2015
From: sylvain.pierre at bas-rhin.fr (PIERRE Sylvain)
Date: Thu, 2 Apr 2015 09:23:51 +0200
Subject: [Qgis-developer] programmatically load a plugin
Message-ID: <374F2A33A0F46242B3A1F52EB8A1E8B4010E6997A016@EXCHMBX-V.cg67.fr>

Hello,

I would like to programmatically load a plugin from QGIS official repository (eg in startup python script)
I?ve found QgsPluginManagerInterface class but I?m not sure addPluginMetadata<http://qgis.org/api/classQgsPluginManagerInterface.html#aeec85580f92725f55047069be6273c97> can do the trick?
I?ve explored QWebPluginFactory class which can be access by qgis.utils.plugins, but it?s a little bit confusing for me?


Sylvain



?  Sylvain PIERRE
         Ing?nieur G?ographe et adjoint au chef du service de l?administr
         Direction de l?Agriculture, de l?Espace Rural et de l?Environnement
         Service Administration G?n?rale
       Conseil D?partemental du Bas-Rhin

[cid:image001.jpg at 01D06D26.BB468450]<http://www.bas-rhin.fr/>

         H?tel du D?partement
         1 place du Quartier Blanc / 67964 Strasbourg Cedex 9
         T?l : 03 88 76 68 88 ? mobile :
         Email : sylvain.pierre at bas-rhin.fr<mailto:sylvain.pierre at bas-rhin.fr>
         www.bas-rhin.fr<http://www.bas-rhin.fr>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/7d2ddd88/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3504 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/7d2ddd88/attachment-0001.jpg>

From beiling at gbd-consult.de  Thu Apr  2 00:23:55 2015
From: beiling at gbd-consult.de (Marc Beiling)
Date: Thu, 2 Apr 2015 09:23:55 +0200
Subject: [Qgis-developer] QGIS Web-Client Cant display HelloWorld example
In-Reply-To: <551C1A08.5070600@carto.net>
References: <20150401153132.4fcd60b8@linux-597c.site>
	<551C182C.10306@carto.net> <551C1A08.5070600@carto.net>
Message-ID: <20150402092355.2e030594@linux-597c.site>

Hi Andreas,

thanks for your immediate reply! It was my fault and a permissions
problem. The web folder had to be owned by www-data, but was owned by
my personal user after i cloned the project from git. 
Now everything (both examples) works fine. I dont get the
opacity-complaint from javascript when using the natural earth example.

Marc


Am Wed, 01 Apr 2015 18:17:12 +0200
schrieb Andreas Neumann <a.neumann at carto.net>:

> Actually the second example should also work.
> 
> On my machine(s) I have troubles getting SpatiaLite to work with QGIS 
> server. As a follow-up error QGIS Server cannot see the SpatiaLite 
> layers and QWC issues the error.
> 
> Have to figure out how to compile QGIS server so it can use
> SpatiaLite layers ...
> 
> Andreas
> 
> On 01.04.2015 18:09, Andreas Neumann wrote:
> > Hi Marc,
> >
> > I just had a quick test with the latest master version of both QGIS 
> > Web Client and QGIS Server. The "Hello World" example seems to run 
> > fine, but the second example (Natural Earth) seems to have an
> > issue. Javascript complains about an opacity value. I am
> > investigating the problem with the second example.
> >
> > Did you adapt the path to the project file in site/index.html?
> >
> > What QGIS Server version do you have?
> >
> > Do you see any network requests made from the QWC to QGIS server?
> >
> > Can you see the GetProjectSettings request?
> >
> > Andreas
> >
> > On 01.04.2015 15:31, Marc Beiling wrote:
> >> Hello List,
> >>
> >> I've installed QGIS-Server and the Web-Client
> >> (as described here: https://github.com/elpaso/QGIS-Web-Client).
> >> The Server is working fine. But I cant manage to set up a working
> >> client-example. When i browse to
> >> http://mypage/qgis-web-client/site/qgiswebclient.html?map=/var/www/web/qgis-web-client/projects/helloworld.qgs 
> >>
> >> the basemaps are shown, but not the helloworld-layer.
> >> Chrome-Debugger says nothing. Nothing that push me in the right
> >> direction in the logs either. Is the helloworld-example supposed
> >> to work without further configuration? Any hints what i am missing
> >> here?
> >>
> >> Thanks
> >> Marc
> >>
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer at lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Geoinformatikb?ro Dassau GmbH 
Rethelstrasse 153
D - 40237 D?sseldorf
Tel: +49-211-69937750
Fax: +49-211-69937751
Mobile: +49-171-4687540
http://www.gbd-consult.de

Registergericht: Amtsgericht D?sseldorf, HR B 74022
Gesch?ftsf?hrer: Otto Dassau

From sitansu at gmail.com  Thu Apr  2 02:17:59 2015
From: sitansu at gmail.com (SBP)
Date: Thu, 2 Apr 2015 02:17:59 -0700 (PDT)
Subject: [Qgis-developer] Bug in rendering Rasters in QGIS 2.4 2.6 and
	2.8 in Windows
In-Reply-To: <CAMKXKO4X76LhJLc87_J89Y5w9yodGb+h4dbetNsx04y=+v3v0Q@mail.gmail.com>
References: <1427886241096-5196427.post@n6.nabble.com>
	<551BE2E4.5060200@worldonline.co.za>
	<CAMKXKO4X76LhJLc87_J89Y5w9yodGb+h4dbetNsx04y=+v3v0Q@mail.gmail.com>
Message-ID: <1427966279403-5196587.post@n6.nabble.com>

Hi Micheal,
I tried this with pyramids too. But that did not help. I created external
pyramids but the same behaviour continued.
Regards,
Sitansu



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Bug-in-rendering-Rasters-in-QGIS-2-4-2-6-and-2-8-in-Windows-tp5196427p5196587.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From strk at keybit.net  Thu Apr  2 02:20:00 2015
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 2 Apr 2015 11:20:00 +0200
Subject: [Qgis-developer] Map canvas zoom resets visibility of
 QgsRubberBand
In-Reply-To: <CAL1Jat9TwibOcKaYS+w4F41dz3Dk4pJp3nvn8gLsffxWmCQgmA@mail.gmail.com>
References: <CAL1Jat9TwibOcKaYS+w4F41dz3Dk4pJp3nvn8gLsffxWmCQgmA@mail.gmail.com>
Message-ID: <20150402092000.GA6375@localhost>

On Thu, Apr 02, 2015 at 09:24:42AM +0300, Anatoliy Golubev wrote:
> Hi devs!
> 
> I found another issue with QgsRubberBand which appear after fixing
> #12392. See #12486 for details.
> 
> Im trying to fix this issue and have a questions about expected
> behavior of QgsRubberBand.
> When we create QgsRubberBand:
>     QgsRubberBand *rb = new QgsRubberBand(mCanvas, 0);
> constructor calls reset() and as a result visibility sets to false.
> 
> When we add valid geometry (not empty) calling addGeometry(geom,
> layer) to empty rb - visibility should be set to true.
> 
> When we add point to empty rb without updating ( rb->addPoint(point,
> false) ) visibility should not change and stay false.
> 
> When we add point to empty rb with updating ( rb->addPoint(point,
> true) ) visibility should be set to true.
> 
> Is this correct behavior or we must manually call setVisible( true )
> to show rubberband on map?

My personal preference (for ease and intuitiveness) would be:

 - On construction - visibility=true (follows QWidget policy?)
 - Adding geometries - no visibility change

What I'm unable to evaluate is how much would changing behavior
affect existing user code.

--strk; 

From strk at keybit.net  Thu Apr  2 02:26:12 2015
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 2 Apr 2015 11:26:12 +0200
Subject: [Qgis-developer] Canvas rotation.
In-Reply-To: <551C4123.6070502@cox.net>
References: <20150401153132.4fcd60b8@linux-597c.site>
	<551C182C.10306@carto.net> <AgHE1q0092tYtNL01gHFU1>
	<551C4123.6070502@cox.net>
Message-ID: <20150402092612.GB6375@localhost>

On Wed, Apr 01, 2015 at 02:04:03PM -0500, G. Garibaldi wrote:
> Thanks. Very nice. GIS operators the world over are in your debt.

Thank you !

It would be great if some of them could payback the debt by providing
improvements to it, under form of automated tests, bugfixes and
GUI enhancements :)

--strk;

From cavallini at faunalia.it  Thu Apr  2 03:33:06 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 02 Apr 2015 12:33:06 +0200
Subject: [Qgis-developer] Adding grass commands to the processing toolbox
In-Reply-To: <CAExk7p3tkrmkpCB8cwnO838FGcSHUpc9PLrFTn+GyBa018SoOg@mail.gmail.com>
References: <CAExk7p2sAux8B1Vfg49t8ia5Q2G1w44NHd2NW+bOZGhCzT82qQ@mail.gmail.com>
	<CAExk7p3tkrmkpCB8cwnO838FGcSHUpc9PLrFTn+GyBa018SoOg@mail.gmail.com>
Message-ID: <551D1AE2.3020106@faunalia.it>

Hi Olivier,

Il 01/04/2015 16:26, Olivier Dalang ha scritto:

> And now I've the function right in QGIS's toolbox, and it works perfectly !

Could you please submit it as a Pull Request?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From darth.naihil at gmail.com  Thu Apr  2 03:35:57 2015
From: darth.naihil at gmail.com (Anatoliy Golubev)
Date: Thu, 2 Apr 2015 13:35:57 +0300
Subject: [Qgis-developer] Map canvas zoom resets visibility of
	QgsRubberBand
In-Reply-To: <20150402092000.GA6375@localhost>
References: <CAL1Jat9TwibOcKaYS+w4F41dz3Dk4pJp3nvn8gLsffxWmCQgmA@mail.gmail.com>
	<20150402092000.GA6375@localhost>
Message-ID: <CAL1Jat9W+6eBF56jqa-62R3vOnf1ti8A0sBZEz+XeKR82FFetA@mail.gmail.com>

This changes can be made in next major version with another API
changes and for now I think it is better to save compatibility with
existing user stuff.

2015-04-02 12:20 GMT+03:00 Sandro Santilli <strk at keybit.net>:
>
> My personal preference (for ease and intuitiveness) would be:
>
>  - On construction - visibility=true (follows QWidget policy?)
>  - Adding geometries - no visibility change
>
> What I'm unable to evaluate is how much would changing behavior
> affect existing user code.
>
> --strk;

From olivier.dalang at gmail.com  Thu Apr  2 03:40:32 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 2 Apr 2015 12:40:32 +0200
Subject: [Qgis-developer] Adding grass commands to the processing toolbox
In-Reply-To: <551D1AE2.3020106@faunalia.it>
References: <CAExk7p2sAux8B1Vfg49t8ia5Q2G1w44NHd2NW+bOZGhCzT82qQ@mail.gmail.com>
	<CAExk7p3tkrmkpCB8cwnO838FGcSHUpc9PLrFTn+GyBa018SoOg@mail.gmail.com>
	<551D1AE2.3020106@faunalia.it>
Message-ID: <CAExk7p2yo2_jU6tM0VjmUCptDFR-7yyF7Qirrd3dC=d2RtJH=A@mail.gmail.com>

Hi,

Could you please submit it as a Pull Request?


Yes but for now I only looked at the binding for v.net.centrality,
shouldn't we be a bit more general and bind the all the v.net.* functions
before making a pull request ?

In the meantime, I found how to make it work on mac too. The
plugins\processing\algs\grass\description folder where to put the file is
the one in the home directory, and not the one in the qgis.app package. I
guess that folder is cloned on first launch or something ?

Best,

Olivier



2015-04-02 12:33 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:

> Hi Olivier,
>
> Il 01/04/2015 16:26, Olivier Dalang ha scritto:
>
> > And now I've the function right in QGIS's toolbox, and it works
> perfectly !
>
> Could you please submit it as a Pull Request?
> Thanks.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/f409e709/attachment.html>

From cavallini at faunalia.it  Thu Apr  2 03:53:00 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 02 Apr 2015 12:53:00 +0200
Subject: [Qgis-developer] Adding grass commands to the processing toolbox
In-Reply-To: <CAExk7p2yo2_jU6tM0VjmUCptDFR-7yyF7Qirrd3dC=d2RtJH=A@mail.gmail.com>
References: <CAExk7p2sAux8B1Vfg49t8ia5Q2G1w44NHd2NW+bOZGhCzT82qQ@mail.gmail.com>
	<CAExk7p3tkrmkpCB8cwnO838FGcSHUpc9PLrFTn+GyBa018SoOg@mail.gmail.com>
	<551D1AE2.3020106@faunalia.it>
	<CAExk7p2yo2_jU6tM0VjmUCptDFR-7yyF7Qirrd3dC=d2RtJH=A@mail.gmail.com>
Message-ID: <551D1F8C.20809@faunalia.it>

Il 02/04/2015 12:40, Olivier Dalang ha scritto:

> Yes but for now I only looked at the binding for v.net.centrality,
> shouldn't we be a bit more general and bind the all the v.net.*
> functions before making a pull request ?

This could be even better, but one is better than nothing.
All the best, and thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From olivier.dalang at gmail.com  Thu Apr  2 04:52:13 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 2 Apr 2015 13:52:13 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
Message-ID: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>

Hi,

In some projects of mine, I work with multiple geometry types in one
postgis table, using a column of type geometry(Geometry,4326).
This is very well supported by postgis.

It is possible to load such a table in QGIS by manually selecting the
geometry type you want to load. This means that to display all the
features, you need to add the table three times, one for each feature type.

This works more or less. There are a few bugs though :
- http://hub.qgis.org/issues/12499 (you can edit other type's node with the
node tool)
- http://hub.qgis.org/issues/12500 (other type's records are shown in the
attribute table)

This also has some limitations. When having such a setup, it's pretty sure
you'll want to have the same edit forms for all the layers. You'll also
probably want the same filter, the same labels, the same actions, etc...
The only thing you'd want to be able to define on a geometry type basis are
the symbol (well, even the classification/colors/etc could be shared) and
the label placement.
For now, you must do all settings three times, because of this bug/feature
request :
- http://hub.qgis.org/issues/12303 (copy/paste style from one geometry type
to another)


As you see, support multiple geometry types in QGIS is not perfect.

Of course it's possible to fix the bugs/pr, and there are some workarounds
(postgis view instead of tables) but maybe it's also worth thinking a bit
more in depth about this.

We could consider point/line/polygons as subcategories/sublayers of a
layer. A shapefile or a mono-typed table would have only one of those
sublayer, but a postgis table could perfectly have the three. Most of the
settings would be defined at the layer level, while only some settings
would be defined at the subcategory level.

This is probably especially relevant when thinking long term (the day we
support 3D, curves, etc...).


What do you think ?
Do you think the relation 1 layer = 1 geometry type will hold ?

I think we inherited this from the old shapefile format, but most data
sources QGIS handles don't have this limitation. I also think it does not
hold with quite a lot of modern GIS uses (especially web related, think of
openstreetmaps for instance).

There's this feature request (6th oldest open issue on the tracker) about
postgis geometry collections  : http://hub.qgis.org/issues/167


Best,

Olivier
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/3737ed55/attachment-0001.html>

From denis.rouzaud at gmail.com  Thu Apr  2 05:10:59 2015
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 02 Apr 2015 14:10:59 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
Message-ID: <551D31D3.5010203@gmail.com>

Hi Olivier,

I think you can easily extend your reasoning to the support of multiple 
geometry columns in QGIS.
I believe that this would come in QGIS at some point.

If QGIS 3 is getting closer, our company will support this feature.

As you suggest, the layer could have different geometry types and/or 
columns. This could be seen as sub-layer level for rendering:
layer > geometry types/columns > symbology rules

I suppose this is quite a big change. Many things depends on the 
geometry type in QGIS (like map map tools), and that would represent a 
large API break.

But, on my side, I believe it's a logic evolution for QGIS.

Best wishes,

Denis





On 04/02/2015 01:52 PM, Olivier Dalang wrote:
> Hi,
>
> In some projects of mine, I work with multiple geometry types in one 
> postgis table, using a column of type geometry(Geometry,4326).
> This is very well supported by postgis.
>
> It is possible to load such a table in QGIS by manually selecting the 
> geometry type you want to load. This means that to display all the 
> features, you need to add the table three times, one for each feature 
> type.
>
> This works more or less. There are a few bugs though :
> - http://hub.qgis.org/issues/12499 (you can edit other type's node 
> with the node tool)
> - http://hub.qgis.org/issues/12500 (other type's records are shown in 
> the attribute table)
>
> This also has some limitations. When having such a setup, it's pretty 
> sure you'll want to have the same edit forms for all the layers. 
> You'll also probably want the same filter, the same labels, the same 
> actions, etc...
> The only thing you'd want to be able to define on a geometry type 
> basis are the symbol (well, even the classification/colors/etc could 
> be shared) and the label placement.
> For now, you must do all settings three times, because of this 
> bug/feature request :
> - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry 
> type to another)
>
>
> As you see, support multiple geometry types in QGIS is not perfect.
>
> Of course it's possible to fix the bugs/pr, and there are some 
> workarounds (postgis view instead of tables) but maybe it's also worth 
> thinking a bit more in depth about this.
>
> We could consider point/line/polygons as subcategories/sublayers of a 
> layer. A shapefile or a mono-typed table would have only one of those 
> sublayer, but a postgis table could perfectly have the three. Most of 
> the settings would be defined at the layer level, while only some 
> settings would be defined at the subcategory level.
>
> This is probably especially relevant when thinking long term (the day 
> we support 3D, curves, etc...).
>
>
> What do you think ?
> Do you think the relation 1 layer = 1 geometry type will hold ?
>
> I think we inherited this from the old shapefile format, but most data 
> sources QGIS handles don't have this limitation. I also think it does 
> not hold with quite a lot of modern GIS uses (especially web related, 
> think of openstreetmaps for instance).
>
> There's this feature request (6th oldest open issue on the tracker) 
> about postgis geometry collections  : http://hub.qgis.org/issues/167
>
>
> Best,
>
> Olivier
>
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/ab3fbf39/attachment.html>

From c.boehnke at fugro.de  Thu Apr  2 05:01:43 2015
From: c.boehnke at fugro.de (Boehnke, Christian)
Date: Thu, 2 Apr 2015 12:01:43 +0000
Subject: [Qgis-developer] Drag & Drop into MapCanvas
Message-ID: <57d25b94223d4089974501780fa52e04@Exchange1.fugro.de>

Hello,

I wrote a QGIS Plugin to load MS Access Databases into a QTreeWidget. At a first step, I'm able to display the tables as a temporary shape file by clicking a button and executing a proper function. Now I want to drag the tables into the QGIS Map Canvas (and to be shown as temporary shapes) without pushing a button but only by using Drag & Drop. I enabled dragging items on my Tree Widget, but I'm not aware how to drop the items on my canvas. How to handle the data?

Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/e6db053e/attachment.html>

From madmanwoo at gmail.com  Thu Apr  2 05:30:38 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 02 Apr 2015 12:30:38 +0000
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <551D31D3.5010203@gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D31D3.5010203@gmail.com>
Message-ID: <CAAi8Yg_2wrxaUo650U4Pvg9KceYw=4EQ9d6XL=BT46mPG-YPsw@mail.gmail.com>

I would not be in favour of supporting a many geometry type per layer type
setup, it just makes things a heap more complicated IMO for little gain.

Also makes your code a lot more complicated, you now have to check each
geometry for type because you are never sure what you will get.

MapInfo did this and it was more a pain then a   feature.

On Thu, 2 Apr 2015 10:11 pm Denis Rouzaud <denis.rouzaud at gmail.com> wrote:

>  Hi Olivier,
>
> I think you can easily extend your reasoning to the support of multiple
> geometry columns in QGIS.
> I believe that this would come in QGIS at some point.
>
> If QGIS 3 is getting closer, our company will support this feature.
>
> As you suggest, the layer could have different geometry types and/or
> columns. This could be seen as sub-layer level for rendering:
> layer > geometry types/columns > symbology rules
>
> I suppose this is quite a big change. Many things depends on the geometry
> type in QGIS (like map map tools), and that would represent a large API
> break.
>
> But, on my side, I believe it's a logic evolution for QGIS.
>
> Best wishes,
>
> Denis
>
>
>
>
>
>
> On 04/02/2015 01:52 PM, Olivier Dalang wrote:
>
>  Hi,
>
>  In some projects of mine, I work with multiple geometry types in one
> postgis table, using a column of type geometry(Geometry,4326).
> This is very well supported by postgis.
>
>  It is possible to load such a table in QGIS by manually selecting the
> geometry type you want to load. This means that to display all the
> features, you need to add the table three times, one for each feature type.
>
>  This works more or less. There are a few bugs though :
> - http://hub.qgis.org/issues/12499 (you can edit other type's node with
> the node tool)
> - http://hub.qgis.org/issues/12500 (other type's records are shown in the
> attribute table)
>
>  This also has some limitations. When having such a setup, it's pretty
> sure you'll want to have the same edit forms for all the layers. You'll
> also probably want the same filter, the same labels, the same actions,
> etc...
> The only thing you'd want to be able to define on a geometry type basis
> are the symbol (well, even the classification/colors/etc could be shared)
> and the label placement.
> For now, you must do all settings three times, because of this bug/feature
> request :
> - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry
> type to another)
>
>
>  As you see, support multiple geometry types in QGIS is not perfect.
>
>  Of course it's possible to fix the bugs/pr, and there are some
> workarounds (postgis view instead of tables) but maybe it's also worth
> thinking a bit more in depth about this.
>
>  We could consider point/line/polygons as subcategories/sublayers of a
> layer. A shapefile or a mono-typed table would have only one of those
> sublayer, but a postgis table could perfectly have the three. Most of the
> settings would be defined at the layer level, while only some settings
> would be defined at the subcategory level.
>
>  This is probably especially relevant when thinking long term (the day we
> support 3D, curves, etc...).
>
>
>  What do you think ?
> Do you think the relation 1 layer = 1 geometry type will hold ?
>
>  I think we inherited this from the old shapefile format, but most data
> sources QGIS handles don't have this limitation. I also think it does not
> hold with quite a lot of modern GIS uses (especially web related, think of
> openstreetmaps for instance).
>
>  There's this feature request (6th oldest open issue on the tracker)
> about postgis geometry collections  : http://hub.qgis.org/issues/167
>
>
>  Best,
>
>  Olivier
>
>
>
>
>
> _______________________________________________
> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
>
>  _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/1e02fc68/attachment-0001.html>

From matthias at opengis.ch  Thu Apr  2 05:59:12 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 02 Apr 2015 14:59:12 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAAi8Yg_2wrxaUo650U4Pvg9KceYw=4EQ9d6XL=BT46mPG-YPsw@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>	<551D31D3.5010203@gmail.com>
	<CAAi8Yg_2wrxaUo650U4Pvg9KceYw=4EQ9d6XL=BT46mPG-YPsw@mail.gmail.com>
Message-ID: <551D3D20.3020404@opengis.ch>

I agree with Nathan, for algorithms, symbology and a lot of small things
it will become very complicated.

As an alternative approach, we could think about having some layer
settings defined on group level (and maybe even a merged attribute table
for the whole group). That would already make a lot of things easier to
configure for multiple layers at once. We could even mark such a group
as a "union layer group" or similar, so for algorithms that support this
kind of thing it would be possible to offer such a "union layer group"
as choice while all other things just continue to work.

Matthias

On 04/02/2015 02:30 PM, Nathan Woodrow wrote:
>
> I would not be in favour of supporting a many geometry type per layer
> type setup, it just makes things a heap more complicated IMO for
> little gain.
>
> Also makes your code a lot more complicated, you now have to check
> each geometry for type because you are never sure what you will get.
>
> MapInfo did this and it was more a pain then a   feature.
>
>
> On Thu, 2 Apr 2015 10:11 pm Denis Rouzaud <denis.rouzaud at gmail.com
> <mailto:denis.rouzaud at gmail.com>> wrote:
>
>     Hi Olivier,
>
>     I think you can easily extend your reasoning to the support of
>     multiple geometry columns in QGIS.
>     I believe that this would come in QGIS at some point.
>
>     If QGIS 3 is getting closer, our company will support this feature.
>
>     As you suggest, the layer could have different geometry types
>     and/or columns. This could be seen as sub-layer level for rendering:
>     layer > geometry types/columns > symbology rules
>
>     I suppose this is quite a big change. Many things depends on the
>     geometry type in QGIS (like map map tools), and that would
>     represent a large API break.
>
>     But, on my side, I believe it's a logic evolution for QGIS.
>
>     Best wishes,
>
>     Denis
>
>
>
>
>
>
>     On 04/02/2015 01:52 PM, Olivier Dalang wrote:
>>     Hi,
>>
>>     In some projects of mine, I work with multiple geometry types in
>>     one postgis table, using a column of type geometry(Geometry,4326).
>>     This is very well supported by postgis.
>>
>>     It is possible to load such a table in QGIS by manually selecting
>>     the geometry type you want to load. This means that to display
>>     all the features, you need to add the table three times, one for
>>     each feature type.
>>
>>     This works more or less. There are a few bugs though :
>>     - http://hub.qgis.org/issues/12499 (you can edit other type's
>>     node with the node tool)
>>     - http://hub.qgis.org/issues/12500 (other type's records are
>>     shown in the attribute table)
>>
>>     This also has some limitations. When having such a setup, it's
>>     pretty sure you'll want to have the same edit forms for all the
>>     layers. You'll also probably want the same filter, the same
>>     labels, the same actions, etc...
>>     The only thing you'd want to be able to define on a geometry type
>>     basis are the symbol (well, even the classification/colors/etc
>>     could be shared) and the label placement.
>>     For now, you must do all settings three times, because of this
>>     bug/feature request :
>>     - http://hub.qgis.org/issues/12303 (copy/paste style from one
>>     geometry type to another)
>>
>>
>>     As you see, support multiple geometry types in QGIS is not perfect.
>>
>>     Of course it's possible to fix the bugs/pr, and there are some
>>     workarounds (postgis view instead of tables) but maybe it's also
>>     worth thinking a bit more in depth about this.
>>
>>     We could consider point/line/polygons as subcategories/sublayers
>>     of a layer. A shapefile or a mono-typed table would have only one
>>     of those sublayer, but a postgis table could perfectly have the
>>     three. Most of the settings would be defined at the layer level,
>>     while only some settings would be defined at the subcategory level.
>>
>>     This is probably especially relevant when thinking long term (the
>>     day we support 3D, curves, etc...).
>>
>>
>>     What do you think ?
>>     Do you think the relation 1 layer = 1 geometry type will hold ?
>>
>>     I think we inherited this from the old shapefile format, but most
>>     data sources QGIS handles don't have this limitation. I also
>>     think it does not hold with quite a lot of modern GIS uses
>>     (especially web related, think of openstreetmaps for instance).
>>
>>     There's this feature request (6th oldest open issue on the
>>     tracker) about postgis geometry collections  :
>>     http://hub.qgis.org/issues/167
>>
>>
>>     Best,
>>
>>     Olivier
>>
>>
>>
>>
>>
>>     _______________________________________________
>>     Qgis-developer mailing list
>>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>
>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/fb00ce95/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/fb00ce95/attachment.pgp>

From bo.victor.thomsen at gmail.com  Thu Apr  2 07:41:56 2015
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Thu, 02 Apr 2015 16:41:56 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
Message-ID: <551D5534.6060904@gmail.com>

As an old MapInfo user/developer my opion is: Don't do it. It has always 
been a problem in MapInfo and it will be a problem in QGIS - if 
implemented.

A better approach is to have the possibility to let different QGIS 
layers share some common characteristics (for example labelling). And - 
of course - clean up the current errors in QGIS when splitting contents 
of data sources by object types.

Regards
Bo Victor Thomsen
AestasGIS
Denmark

Den 02-04-2015 kl. 13:52 skrev Olivier Dalang:
> Hi,
>
> In some projects of mine, I work with multiple geometry types in one 
> postgis table, using a column of type geometry(Geometry,4326).
> This is very well supported by postgis.
>
> It is possible to load such a table in QGIS by manually selecting the 
> geometry type you want to load. This means that to display all the 
> features, you need to add the table three times, one for each feature 
> type.
>
> This works more or less. There are a few bugs though :
> - http://hub.qgis.org/issues/12499 (you can edit other type's node 
> with the node tool)
> - http://hub.qgis.org/issues/12500 (other type's records are shown in 
> the attribute table)
>
> This also has some limitations. When having such a setup, it's pretty 
> sure you'll want to have the same edit forms for all the layers. 
> You'll also probably want the same filter, the same labels, the same 
> actions, etc...
> The only thing you'd want to be able to define on a geometry type 
> basis are the symbol (well, even the classification/colors/etc could 
> be shared) and the label placement.
> For now, you must do all settings three times, because of this 
> bug/feature request :
> - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry 
> type to another)
>
>
> As you see, support multiple geometry types in QGIS is not perfect.
>
> Of course it's possible to fix the bugs/pr, and there are some 
> workarounds (postgis view instead of tables) but maybe it's also worth 
> thinking a bit more in depth about this.
>
> We could consider point/line/polygons as subcategories/sublayers of a 
> layer. A shapefile or a mono-typed table would have only one of those 
> sublayer, but a postgis table could perfectly have the three. Most of 
> the settings would be defined at the layer level, while only some 
> settings would be defined at the subcategory level.
>
> This is probably especially relevant when thinking long term (the day 
> we support 3D, curves, etc...).
>
>
> What do you think ?
> Do you think the relation 1 layer = 1 geometry type will hold ?
>
> I think we inherited this from the old shapefile format, but most data 
> sources QGIS handles don't have this limitation. I also think it does 
> not hold with quite a lot of modern GIS uses (especially web related, 
> think of openstreetmaps for instance).
>
> There's this feature request (6th oldest open issue on the tracker) 
> about postgis geometry collections  : http://hub.qgis.org/issues/167
>
>
> Best,
>
> Olivier
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/b59a2f9b/attachment-0001.html>

From olivier.dalang at gmail.com  Thu Apr  2 08:07:18 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 2 Apr 2015 17:07:18 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <551D5534.6060904@gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
Message-ID: <CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>

Hi,

Would it really be more complicated ?

I mean, for now, an algorithm that works only with line layers already has
to check whether the layer is of type line. That's done before iterating
the features.

Exactly in the same way, there would be functions to determine whether a
layer supports a geometry type or not.

Then, there would be functions to iterate a particular geometry type for a
layer.
This could be done by adding a geometry type argument to getFeatures,
and/or by adding specific
getLineFeatures/getPointFeatures/getPolygonFeatures functions, probably
throwing exceptions if the layer does not support this particular type
(shapefile or specific geometry column in postgis).

To me it seems not much different from how it works currently, at least
from a programmer's point of view. Of course it's quite a change in the
API, that's why it's only thoughts for a future QGIS 3 or 4...


I don't know Mapinfo at all, but it's good to know there's already some
experience somewhere (even if bad). But do you really think the problem is
in the principle itself, and not in Mapinfo's implementation ?


The things at stake are maybe worth the thought still...
The heavy distinction between geometry types is very artificial. There's a
lot of very valid representation of real world phenomenons of a certain
kind that require different geometry types. Having to distribute those
across different layers because of a 25 years old file format is somewhat
sad...


Olivier


2015-04-02 16:41 GMT+02:00 Bo Victor Thomsen <bo.victor.thomsen at gmail.com>:

>  As an old MapInfo user/developer my opion is: Don't do it. It has always
> been a problem in MapInfo and it will be a problem in QGIS - if
> implemented.
>
> A better approach is to have the possibility to let different QGIS layers
> share some common characteristics (for example labelling). And - of course
> - clean up the current errors in QGIS when splitting contents of data
> sources by object types.
>
> Regards
> Bo Victor Thomsen
> AestasGIS
> Denmark
>
> Den 02-04-2015 kl. 13:52 skrev Olivier Dalang:
>
>  Hi,
>
>  In some projects of mine, I work with multiple geometry types in one
> postgis table, using a column of type geometry(Geometry,4326).
> This is very well supported by postgis.
>
>  It is possible to load such a table in QGIS by manually selecting the
> geometry type you want to load. This means that to display all the
> features, you need to add the table three times, one for each feature type.
>
>  This works more or less. There are a few bugs though :
> - http://hub.qgis.org/issues/12499 (you can edit other type's node with
> the node tool)
> - http://hub.qgis.org/issues/12500 (other type's records are shown in the
> attribute table)
>
>  This also has some limitations. When having such a setup, it's pretty
> sure you'll want to have the same edit forms for all the layers. You'll
> also probably want the same filter, the same labels, the same actions,
> etc...
> The only thing you'd want to be able to define on a geometry type basis
> are the symbol (well, even the classification/colors/etc could be shared)
> and the label placement.
> For now, you must do all settings three times, because of this bug/feature
> request :
> - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry
> type to another)
>
>
>  As you see, support multiple geometry types in QGIS is not perfect.
>
>  Of course it's possible to fix the bugs/pr, and there are some
> workarounds (postgis view instead of tables) but maybe it's also worth
> thinking a bit more in depth about this.
>
>  We could consider point/line/polygons as subcategories/sublayers of a
> layer. A shapefile or a mono-typed table would have only one of those
> sublayer, but a postgis table could perfectly have the three. Most of the
> settings would be defined at the layer level, while only some settings
> would be defined at the subcategory level.
>
>  This is probably especially relevant when thinking long term (the day we
> support 3D, curves, etc...).
>
>
>  What do you think ?
> Do you think the relation 1 layer = 1 geometry type will hold ?
>
>  I think we inherited this from the old shapefile format, but most data
> sources QGIS handles don't have this limitation. I also think it does not
> hold with quite a lot of modern GIS uses (especially web related, think of
> openstreetmaps for instance).
>
>  There's this feature request (6th oldest open issue on the tracker)
> about postgis geometry collections  : http://hub.qgis.org/issues/167
>
>
>  Best,
>
>  Olivier
>
>
>
> _______________________________________________
> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/250be145/attachment.html>

From nikhilmurarka14 at gmail.com  Thu Apr  2 09:42:09 2015
From: nikhilmurarka14 at gmail.com (Nikhil Murarka)
Date: Thu, 2 Apr 2015 12:42:09 -0400
Subject: [Qgis-developer] Background to Lable
Message-ID: <CAFy5e2sEh_RSnzk_SUtGaFPQq_o7OJSi_xCLT9nKdsmSPiNG8A@mail.gmail.com>

Thank you Andreas Neumann. My placement settings were wrong it was curved.

On Thu, Apr 2, 2015 at 10:42 AM, <qgis-developer-request at lists.osgeo.org>
wrote:

> Send Qgis-developer mailing list submissions to
>         qgis-developer at lists.osgeo.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
> or, via email, send a message with subject or body 'help' to
>         qgis-developer-request at lists.osgeo.org
>
> You can reach the person managing the list at
>         qgis-developer-owner at lists.osgeo.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Qgis-developer digest..."
>
>
> Today's Topics:
>
>    1. Re: Thoughts about multi-type tables in QGIS (Matthias Kuhn)
>    2. Re: Thoughts about multi-type tables in QGIS (Bo Victor Thomsen)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 02 Apr 2015 14:59:12 +0200
> From: Matthias Kuhn <matthias at opengis.ch>
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [Qgis-developer] Thoughts about multi-type tables in QGIS
> Message-ID: <551D3D20.3020404 at opengis.ch>
> Content-Type: text/plain; charset="windows-1252"
>
> I agree with Nathan, for algorithms, symbology and a lot of small things
> it will become very complicated.
>
> As an alternative approach, we could think about having some layer
> settings defined on group level (and maybe even a merged attribute table
> for the whole group). That would already make a lot of things easier to
> configure for multiple layers at once. We could even mark such a group
> as a "union layer group" or similar, so for algorithms that support this
> kind of thing it would be possible to offer such a "union layer group"
> as choice while all other things just continue to work.
>
> Matthias
>
> On 04/02/2015 02:30 PM, Nathan Woodrow wrote:
> >
> > I would not be in favour of supporting a many geometry type per layer
> > type setup, it just makes things a heap more complicated IMO for
> > little gain.
> >
> > Also makes your code a lot more complicated, you now have to check
> > each geometry for type because you are never sure what you will get.
> >
> > MapInfo did this and it was more a pain then a   feature.
> >
> >
> > On Thu, 2 Apr 2015 10:11 pm Denis Rouzaud <denis.rouzaud at gmail.com
> > <mailto:denis.rouzaud at gmail.com>> wrote:
> >
> >     Hi Olivier,
> >
> >     I think you can easily extend your reasoning to the support of
> >     multiple geometry columns in QGIS.
> >     I believe that this would come in QGIS at some point.
> >
> >     If QGIS 3 is getting closer, our company will support this feature.
> >
> >     As you suggest, the layer could have different geometry types
> >     and/or columns. This could be seen as sub-layer level for rendering:
> >     layer > geometry types/columns > symbology rules
> >
> >     I suppose this is quite a big change. Many things depends on the
> >     geometry type in QGIS (like map map tools), and that would
> >     represent a large API break.
> >
> >     But, on my side, I believe it's a logic evolution for QGIS.
> >
> >     Best wishes,
> >
> >     Denis
> >
> >
> >
> >
> >
> >
> >     On 04/02/2015 01:52 PM, Olivier Dalang wrote:
> >>     Hi,
> >>
> >>     In some projects of mine, I work with multiple geometry types in
> >>     one postgis table, using a column of type geometry(Geometry,4326).
> >>     This is very well supported by postgis.
> >>
> >>     It is possible to load such a table in QGIS by manually selecting
> >>     the geometry type you want to load. This means that to display
> >>     all the features, you need to add the table three times, one for
> >>     each feature type.
> >>
> >>     This works more or less. There are a few bugs though :
> >>     - http://hub.qgis.org/issues/12499 (you can edit other type's
> >>     node with the node tool)
> >>     - http://hub.qgis.org/issues/12500 (other type's records are
> >>     shown in the attribute table)
> >>
> >>     This also has some limitations. When having such a setup, it's
> >>     pretty sure you'll want to have the same edit forms for all the
> >>     layers. You'll also probably want the same filter, the same
> >>     labels, the same actions, etc...
> >>     The only thing you'd want to be able to define on a geometry type
> >>     basis are the symbol (well, even the classification/colors/etc
> >>     could be shared) and the label placement.
> >>     For now, you must do all settings three times, because of this
> >>     bug/feature request :
> >>     - http://hub.qgis.org/issues/12303 (copy/paste style from one
> >>     geometry type to another)
> >>
> >>
> >>     As you see, support multiple geometry types in QGIS is not perfect.
> >>
> >>     Of course it's possible to fix the bugs/pr, and there are some
> >>     workarounds (postgis view instead of tables) but maybe it's also
> >>     worth thinking a bit more in depth about this.
> >>
> >>     We could consider point/line/polygons as subcategories/sublayers
> >>     of a layer. A shapefile or a mono-typed table would have only one
> >>     of those sublayer, but a postgis table could perfectly have the
> >>     three. Most of the settings would be defined at the layer level,
> >>     while only some settings would be defined at the subcategory level.
> >>
> >>     This is probably especially relevant when thinking long term (the
> >>     day we support 3D, curves, etc...).
> >>
> >>
> >>     What do you think ?
> >>     Do you think the relation 1 layer = 1 geometry type will hold ?
> >>
> >>     I think we inherited this from the old shapefile format, but most
> >>     data sources QGIS handles don't have this limitation. I also
> >>     think it does not hold with quite a lot of modern GIS uses
> >>     (especially web related, think of openstreetmaps for instance).
> >>
> >>     There's this feature request (6th oldest open issue on the
> >>     tracker) about postgis geometry collections  :
> >>     http://hub.qgis.org/issues/167
> >>
> >>
> >>     Best,
> >>
> >>     Olivier
> >>
> >>
> >>
> >>
> >>
> >>     _______________________________________________
> >>     Qgis-developer mailing list
> >>     Qgis-developer at lists.osgeo.org <mailto:
> Qgis-developer at lists.osgeo.org>
> >>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >>
> >
> >
> >     _______________________________________________
> >     Qgis-developer mailing list
> >     Qgis-developer at lists.osgeo.org <mailto:
> Qgis-developer at lists.osgeo.org>
> >     http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/fb00ce95/attachment-0001.html
> >
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: signature.asc
> Type: application/pgp-signature
> Size: 819 bytes
> Desc: OpenPGP digital signature
> URL: <
> http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/fb00ce95/attachment-0001.pgp
> >
>
> ------------------------------
>
> Message: 2
> Date: Thu, 02 Apr 2015 16:41:56 +0200
> From: Bo Victor Thomsen <bo.victor.thomsen at gmail.com>
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [Qgis-developer] Thoughts about multi-type tables in QGIS
> Message-ID: <551D5534.6060904 at gmail.com>
> Content-Type: text/plain; charset="windows-1252"; Format="flowed"
>
> As an old MapInfo user/developer my opion is: Don't do it. It has always
> been a problem in MapInfo and it will be a problem in QGIS - if
> implemented.
>
> A better approach is to have the possibility to let different QGIS
> layers share some common characteristics (for example labelling). And -
> of course - clean up the current errors in QGIS when splitting contents
> of data sources by object types.
>
> Regards
> Bo Victor Thomsen
> AestasGIS
> Denmark
>
> Den 02-04-2015 kl. 13:52 skrev Olivier Dalang:
> > Hi,
> >
> > In some projects of mine, I work with multiple geometry types in one
> > postgis table, using a column of type geometry(Geometry,4326).
> > This is very well supported by postgis.
> >
> > It is possible to load such a table in QGIS by manually selecting the
> > geometry type you want to load. This means that to display all the
> > features, you need to add the table three times, one for each feature
> > type.
> >
> > This works more or less. There are a few bugs though :
> > - http://hub.qgis.org/issues/12499 (you can edit other type's node
> > with the node tool)
> > - http://hub.qgis.org/issues/12500 (other type's records are shown in
> > the attribute table)
> >
> > This also has some limitations. When having such a setup, it's pretty
> > sure you'll want to have the same edit forms for all the layers.
> > You'll also probably want the same filter, the same labels, the same
> > actions, etc...
> > The only thing you'd want to be able to define on a geometry type
> > basis are the symbol (well, even the classification/colors/etc could
> > be shared) and the label placement.
> > For now, you must do all settings three times, because of this
> > bug/feature request :
> > - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry
> > type to another)
> >
> >
> > As you see, support multiple geometry types in QGIS is not perfect.
> >
> > Of course it's possible to fix the bugs/pr, and there are some
> > workarounds (postgis view instead of tables) but maybe it's also worth
> > thinking a bit more in depth about this.
> >
> > We could consider point/line/polygons as subcategories/sublayers of a
> > layer. A shapefile or a mono-typed table would have only one of those
> > sublayer, but a postgis table could perfectly have the three. Most of
> > the settings would be defined at the layer level, while only some
> > settings would be defined at the subcategory level.
> >
> > This is probably especially relevant when thinking long term (the day
> > we support 3D, curves, etc...).
> >
> >
> > What do you think ?
> > Do you think the relation 1 layer = 1 geometry type will hold ?
> >
> > I think we inherited this from the old shapefile format, but most data
> > sources QGIS handles don't have this limitation. I also think it does
> > not hold with quite a lot of modern GIS uses (especially web related,
> > think of openstreetmaps for instance).
> >
> > There's this feature request (6th oldest open issue on the tracker)
> > about postgis geometry collections  : http://hub.qgis.org/issues/167
> >
> >
> > Best,
> >
> > Olivier
> >
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/b59a2f9b/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> End of Qgis-developer Digest, Vol 114, Issue 6
> **********************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/0ca024ea/attachment-0001.html>

From yannick at darkspider.de  Thu Apr  2 09:57:10 2015
From: yannick at darkspider.de (Yannick Tylle)
Date: Thu, 2 Apr 2015 18:57:10 +0200
Subject: [Qgis-developer] QGIS WPS plugin misses one parameter
Message-ID: <004901d06d66$128c22d0$37a46870$@darkspider.de>

Hello everybody,

I set up a Web Processing Service with 52?North and GRASS (using the
wps-grass-bridge). All went smooth and I get a proper DescribeProcess for
i.cluster similar to the demo here:
http://geoprocessing.demo.52north.org:8080/wps/WebProcessingService?REQUEST=
DescribeProcess
<http://geoprocessing.demo.52north.org:8080/wps/WebProcessingService?REQUEST
=DescribeProcess&SERVICE=WPS&VERSION=1.0.0&identifier=i.cluster>
&SERVICE=WPS&VERSION=1.0.0&identifier=i.cluster 

I installed Horst Duester's WPS plugin for QGIS and wanted to test my WPS
now. Surprisingly I get all paramters as fields to fill beside of the
obligatory "classes". It is just missing. Does anybody have an idea what is
wrong here?

It could have something to do with the ?Allowed Values? which are only
defined there. Maybe the Plugin cannot deal with that and ignores the entire
input field. Any ideas for a solution?

Best, Yannick

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/a8517fbe/attachment.html>

From georger.silva at gmail.com  Thu Apr  2 10:24:16 2015
From: georger.silva at gmail.com (George Silva)
Date: Thu, 2 Apr 2015 14:24:16 -0300
Subject: [Qgis-developer] Setting up environment for developing with QGIS in
	c++
Message-ID: <CAGyPVTtR3ek7AOXwimALpHYXU_7D=f_D27jLxsMDptDB7FJoDQ@mail.gmail.com>

Hello everyone,

Is there a place where I can find documentation on what sort of environment
I need to develop/debug QGIS itself?

What's the motivation behind this is a blocker bug in Raster Calculator,
that I reported.

THanks

-- 
George R. C. Silva
SIGMA Consultoria
----------------------------
http://www.consultoriasigma.com.br/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/f73773d0/attachment.html>

From rdmailings at duif.net  Thu Apr  2 10:48:50 2015
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 02 Apr 2015 19:48:50 +0200
Subject: [Qgis-developer] Setting up environment for developing with
 QGIS in c++
In-Reply-To: <CAGyPVTtR3ek7AOXwimALpHYXU_7D=f_D27jLxsMDptDB7FJoDQ@mail.gmail.com>
References: <CAGyPVTtR3ek7AOXwimALpHYXU_7D=f_D27jLxsMDptDB7FJoDQ@mail.gmail.com>
Message-ID: <551D8102.70605@duif.net>

On 02-04-15 19:24, George Silva wrote:
> Hello everyone,
> 
> Is there a place where I can find documentation on what sort of
> environment I need to develop/debug QGIS itself?
> 
> What's the motivation behind this is a blocker bug in Raster Calculator,
> that I reported.

Hi George,

depending on your OS/environment/experience, you can either develop
using an editor + gdb (hardcore, only for jurgen I think :-) )
see install file how to compile:

https://github.com/qgis/QGIS/blob/master/INSTALL

or using QtCreator if you prefer an IDE, Tim Sutton wrote about that
recently:

http://kartoza.com/how-to-build-and-debug-qgis-with-qtcreator/

For what I know most devs are on linux, maybe somebody with development
experience on Windows can chime in for that.

Feel free to ask questions on IRC

Regards,

Richard Duivenvoorde


From georger.silva at gmail.com  Thu Apr  2 10:53:47 2015
From: georger.silva at gmail.com (George Silva)
Date: Thu, 2 Apr 2015 14:53:47 -0300
Subject: [Qgis-developer] Setting up environment for developing with
 QGIS in c++
In-Reply-To: <551D8102.70605@duif.net>
References: <CAGyPVTtR3ek7AOXwimALpHYXU_7D=f_D27jLxsMDptDB7FJoDQ@mail.gmail.com>
	<551D8102.70605@duif.net>
Message-ID: <CAGyPVTsS3dn7v9J7Rm7i-bbeK8BWagDhbHP=fAmjsTAj=DBa=A@mail.gmail.com>

Thanks Richard,

I'm on Linux :D.

I'll take a look at the resources. Thanks!

On Thu, Apr 2, 2015 at 2:48 PM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 02-04-15 19:24, George Silva wrote:
> > Hello everyone,
> >
> > Is there a place where I can find documentation on what sort of
> > environment I need to develop/debug QGIS itself?
> >
> > What's the motivation behind this is a blocker bug in Raster Calculator,
> > that I reported.
>
> Hi George,
>
> depending on your OS/environment/experience, you can either develop
> using an editor + gdb (hardcore, only for jurgen I think :-) )
> see install file how to compile:
>
> https://github.com/qgis/QGIS/blob/master/INSTALL
>
> or using QtCreator if you prefer an IDE, Tim Sutton wrote about that
> recently:
>
> http://kartoza.com/how-to-build-and-debug-qgis-with-qtcreator/
>
> For what I know most devs are on linux, maybe somebody with development
> experience on Windows can chime in for that.
>
> Feel free to ask questions on IRC
>
> Regards,
>
> Richard Duivenvoorde
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
George R. C. Silva
SIGMA Consultoria
----------------------------
http://www.consultoriasigma.com.br/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150402/4a8bbe1c/attachment.html>

From mandoluca at gmail.com  Thu Apr  2 15:36:44 2015
From: mandoluca at gmail.com (Luca Mandolesi)
Date: Fri, 3 Apr 2015 00:36:44 +0200
Subject: [Qgis-developer] Difference of "import" inside qgis python console
	and inside a python plugin
Message-ID: <CAHmdnV6dCn19KbaXNUktpSFCM0SxoOArh7tgEX1OwJGFO6a6EA@mail.gmail.com>

Hi to all,

I'm trying to use vispy module inside my python plugin, but a strange thing
happens:

If I call import vispy inside the Qgis python console the script runs
properly, but, if I put the "import vispy", at the beginning of my plugin,
I receive this error [0]

Why inside the Qgis python console a module can be imported, but not inside
a plugin?

Really, really, strange.

Ideas?

Thanks a lot,
Luca



[0]
Traceback (most recent call last):
  File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 219, in
startPlugin
    plugins[packageName] = package.classFactory(iface)
  File
"C:\Users\Windows\Github\pyarchinit_beta_test_dev\pyarchinit\__init__.py",
line 49, in classFactory
    from pyarchinit_plugin import PyArchInitPlugin
  File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 478, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File
"C:\Users\Windows\Github\pyarchinit_beta_test_dev\pyarchinit\pyarchinit_plugin.py",
line 23, in
    import vispy as visp
  File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 478, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File
"C:\OSGeo4W\apps\Python27\lib\site-packages\vispy-0.3.0-py2.7.egg\vispy\__init__.py",
line 34, in
    _parse_command_line_arguments()
  File
"C:\OSGeo4W\apps\Python27\lib\site-packages\vispy-0.3.0-py2.7.egg\vispy\util\config.py",
line 275, in _parse_command_line_arguments
    opts, args = getopt.getopt(sys.argv[1:], '', argnames)

AttributeError: 'module' object has no attribute 'argv'
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/ebf0c666/attachment.html>

From sfkeller at gmail.com  Fri Apr  3 08:11:19 2015
From: sfkeller at gmail.com (Stefan Keller)
Date: Fri, 3 Apr 2015 17:11:19 +0200
Subject: [Qgis-developer] A plea for plugin authors
In-Reply-To: <5514100D.3090506@faunalia.it>
References: <55127152.2000407@faunalia.it> <55140F68.1050107@spatialfocus.com>
	<5514100D.3090506@faunalia.it>
Message-ID: <CAFcOn2-BHjOH0f2w1Vym=sgNh8s_fD3rdQa=riW3gsukNuCmFg@mail.gmail.com>

Hi Paolo, hi all

Paolo mentioned icons in his plea, section Metadata:
> * add a proper icon, do not leave the default one; see QGIS interface
> for a suggestion of the style to be used

There are several places where icons are shown:
AFAIK there's at least
1. QGIS Toolbar: 64x64 pixels?
2. Plugins home: http://plugins.qgis.org/plugins/ => 32x32 pixels
3. In the QGIS Extensions Dialog: 16x16 pixels

In the QGIS Extensions Dialog actually very few individual icons show
up like TileLayer, QGIS Cloud or QSpatialite.

My questions:
A. Are there more places where icons show up?
B. Are thre recommendations which is the recommended size? 32x32? several sizes?
C. Does anybody know how to make the icon show up in the "QGIS
Extensions Dialog"?

Yours, Stefan


2015-03-26 14:56 GMT+01:00 Paolo Cavallini <cavallini at faunalia.it>:
> Il 26/03/2015 14:53, Charles Shapiro ha scritto:
>
>> Has anyone else had this difficulty?
>
> I remember others had the same problem, but cannot recall how they
> solved it: anyone?
> All the best, and thanks for your reply.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From enricofiore at libero.it  Fri Apr  3 09:03:05 2015
From: enricofiore at libero.it (Enrico Fiore)
Date: Fri, 3 Apr 2015 18:03:05 +0200 (CEST)
Subject: [Qgis-developer] Null Value in QLineEdit
Message-ID: <2062915558.1665451428076985353.JavaMail.httpd@webmail-16.iol.local>

Hi,
I am newbie in python e pyqgis.
I tried to perform some validation related to a open form action. The validation affects when the user click on ok.
I have to check if a value in a edit text slot is null and in that case edit a default value in the form slot. I made different test:

EX1.

if myDialog.findChild(QLineEdit,"cod_direzione").text() == "":
        myDialog.findChild(QLineEdit,"cod_direzione").setText("A")

Results: QGIS doesn't return any error but doesn't set the value "A"

EX2.

if not myDialog.findChild(QLineEdit,"cod_direzione").text().length() > 0:
        myDialog.findChild(QLineEdit,"cod_direzione").setText("A")

Results: return this error
AttributeError: 'unicode' object has no attribute 'length'
How i can test if the value in the text edit field i null? and then put the default value in the attribute field?


Thanks for your attention

Enrico Fiore



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/94adf3e4/attachment.html>

From matthias at opengis.ch  Fri Apr  3 11:12:15 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 03 Apr 2015 20:12:15 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
Message-ID: <551ED7FF.50301@opengis.ch>

I think there's a lot of hidden caveats - in QGIS itself as well as in
plugins - and it would be very hard to find them all and treat them
appropriately.

Therefore I would prefer not to go for a change in layer semantics in
terms of that a layer iterator suddenly may return different geometry types.
I'd prefer to re-raise the idea of having a special layer-group type
that allows to define certain settings on all sub-layers. Adding a
multi-geometry layer can by default add such a layer.

The difference is an opt-in vs. an opt-out approach.
Changing the layer geometry type semantic would require to update
everything that does not want to use multi-geometry behavior (hence
opt-out). A possibly painful story with lots of side-effects that we
possibly can't even think of right now.
The group approach would allow any component capable of handling
multi-geometry types to add possibilities on group-level. With a good
API it can be easy to determine if a layer is part of a multitype group.
And from the group an iterator can be requested and a hierarchical
setting can be introduced (define defaults at group level, override at
layer level).

I would strongly prefer the second approach. It should allow to do all
the cool things and introduce them incrementally without having to deal
with all the unintended side-effects of a sudden break in semantics.

Do you think there are downsides of this approach?

Best regards,
Matthias

On 04/02/2015 05:07 PM, Olivier Dalang wrote:
> Hi,
>
> Would it really be more complicated ?
>
> I mean, for now, an algorithm that works only with line layers already
> has to check whether the layer is of type line. That's done before
> iterating the features.
>
> Exactly in the same way, there would be functions to determine whether
> a layer supports a geometry type or not.
>
> Then, there would be functions to iterate a particular geometry type
> for a layer.
> This could be done by adding a geometry type argument to getFeatures,
> and/or by adding specific
> getLineFeatures/getPointFeatures/getPolygonFeatures functions,
> probably throwing exceptions if the layer does not support this
> particular type (shapefile or specific geometry column in postgis).
>
> To me it seems not much different from how it works currently, at
> least from a programmer's point of view. Of course it's quite a change
> in the API, that's why it's only thoughts for a future QGIS 3 or 4...
>
>
> I don't know Mapinfo at all, but it's good to know there's already
> some experience somewhere (even if bad). But do you really think the
> problem is in the principle itself, and not in Mapinfo's implementation ?
>
>
> The things at stake are maybe worth the thought still...
> The heavy distinction between geometry types is very artificial.
> There's a lot of very valid representation of real world phenomenons
> of a certain kind that require different geometry types. Having to
> distribute those across different layers because of a 25 years old
> file format is somewhat sad...
>
>
> Olivier
>
>
> 2015-04-02 16:41 GMT+02:00 Bo Victor Thomsen
> <bo.victor.thomsen at gmail.com <mailto:bo.victor.thomsen at gmail.com>>:
>
>     As an old MapInfo user/developer my opion is: Don't do it. It has
>     always been a problem in MapInfo and it will be a problem in QGIS
>     - if implemented.
>
>     A better approach is to have the possibility to let different QGIS
>     layers share some common characteristics (for example labelling).
>     And - of course - clean up the current errors in QGIS when
>     splitting contents of data sources by object types.
>
>     Regards
>     Bo Victor Thomsen
>     AestasGIS
>     Denmark    
>
>     Den 02-04-2015 kl. 13:52 skrev Olivier Dalang:
>>     Hi,
>>
>>     In some projects of mine, I work with multiple geometry types in
>>     one postgis table, using a column of type geometry(Geometry,4326).
>>     This is very well supported by postgis.
>>
>>     It is possible to load such a table in QGIS by manually selecting
>>     the geometry type you want to load. This means that to display
>>     all the features, you need to add the table three times, one for
>>     each feature type.
>>
>>     This works more or less. There are a few bugs though :
>>     - http://hub.qgis.org/issues/12499 (you can edit other type's
>>     node with the node tool)
>>     - http://hub.qgis.org/issues/12500 (other type's records are
>>     shown in the attribute table)
>>
>>     This also has some limitations. When having such a setup, it's
>>     pretty sure you'll want to have the same edit forms for all the
>>     layers. You'll also probably want the same filter, the same
>>     labels, the same actions, etc...
>>     The only thing you'd want to be able to define on a geometry type
>>     basis are the symbol (well, even the classification/colors/etc
>>     could be shared) and the label placement.
>>     For now, you must do all settings three times, because of this
>>     bug/feature request :
>>     - http://hub.qgis.org/issues/12303 (copy/paste style from one
>>     geometry type to another)
>>
>>
>>     As you see, support multiple geometry types in QGIS is not perfect.
>>
>>     Of course it's possible to fix the bugs/pr, and there are some
>>     workarounds (postgis view instead of tables) but maybe it's also
>>     worth thinking a bit more in depth about this.
>>
>>     We could consider point/line/polygons as subcategories/sublayers
>>     of a layer. A shapefile or a mono-typed table would have only one
>>     of those sublayer, but a postgis table could perfectly have the
>>     three. Most of the settings would be defined at the layer level,
>>     while only some settings would be defined at the subcategory level.
>>
>>     This is probably especially relevant when thinking long term (the
>>     day we support 3D, curves, etc...).
>>
>>
>>     What do you think ?
>>     Do you think the relation 1 layer = 1 geometry type will hold ?
>>
>>     I think we inherited this from the old shapefile format, but most
>>     data sources QGIS handles don't have this limitation. I also
>>     think it does not hold with quite a lot of modern GIS uses
>>     (especially web related, think of openstreetmaps for instance).
>>
>>     There's this feature request (6th oldest open issue on the
>>     tracker) about postgis geometry collections  :
>>     http://hub.qgis.org/issues/167
>>
>>
>>     Best,
>>
>>     Olivier
>>
>>
>>
>>     _______________________________________________
>>     Qgis-developer mailing list
>>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/8d4122a6/attachment-0001.html>

From olivier.dalang at gmail.com  Fri Apr  3 13:02:01 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Fri, 3 Apr 2015 22:02:01 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <551ED7FF.50301@opengis.ch>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
Message-ID: <CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>

To me, the solution of grouping layers sounds more like a hack. I think it
will result in some quite complex code and probably UI.

It involves as you say something like inheritance or synchronization of
settings. It raises some difficult questions about the link with the
underlying db (does each sublayer have it's own dataprovider, or is it
somehow shared by the layers ?). It's not clear how the UI would treat
linked layers (how is the edit mode synced between the grouped layers, is
the selection model shared across the layers ? ...). What about features
like joins ? And so on...

If find all of this quite an overkill and a bunch of potential hard to
debug problems.


I know the approach I suggest induces some changes in the API, but I think
the changes would not even be that huge. I'm not even sure they would be
breaking changes ?

If I'm not mistaken, currently, the (only?) way to know what feature type
will be returned by QgsVectorLayer->getFeatures(...) is
QgsVectorLayer->geometryType()

Multi-typed layer could simply return a new QGis::GeometryType
('MixedGeometry' or something).

This way, current code would still work. Of course, you would not be able
to choose a mixed geometry layer for an algorithm that only allows to work
with Line layers, but that's actually quite normal, since a mixed layer is
not a line layer.

Then, we would add the
getLineFeatures/getPointFeatures/getPolygonFeatures functions (or add an
argument to getFeatures), that would allow to iterate only specific types,
for algorithms that are designed to work on MixedGeometry layers.

Am I missing something (would this break the API) ?
Or do you have in mind some things that it could break ?
Probably as Denis said map tools would require most work. They'd be
disabled on mixed layers until we fix them, and we may need some more
helper functions to fix those easily (for instance a feature-type filter
for snapping).


And then, the most tricky part, we would need to find a clever way for the
UI. We'd have to find a clever way to display geometry-type specific
settings that don't clutter the UI when we work on a mono-typed layer.


Actually, the more I think about, the more I think we shouldn't even
consider point/line/polygons as subcategories of a layer.
They should be able to sit next to each other in one normal layer.
This would need some work, on the legend for instance (there can be up to 3
symbols per legend item), some work on toolbars and editing tools, but I
don't see anything unsolvable here.


Best,

Olivier





2015-04-03 20:12 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

>  I think there's a lot of hidden caveats - in QGIS itself as well as in
> plugins - and it would be very hard to find them all and treat them
> appropriately.
>
> Therefore I would prefer not to go for a change in layer semantics in
> terms of that a layer iterator suddenly may return different geometry types.
> I'd prefer to re-raise the idea of having a special layer-group type that
> allows to define certain settings on all sub-layers. Adding a
> multi-geometry layer can by default add such a layer.
>
> The difference is an opt-in vs. an opt-out approach.
> Changing the layer geometry type semantic would require to update
> everything that does not want to use multi-geometry behavior (hence
> opt-out). A possibly painful story with lots of side-effects that we
> possibly can't even think of right now.
> The group approach would allow any component capable of handling
> multi-geometry types to add possibilities on group-level. With a good API
> it can be easy to determine if a layer is part of a multitype group. And
> from the group an iterator can be requested and a hierarchical setting can
> be introduced (define defaults at group level, override at layer level).
>
> I would strongly prefer the second approach. It should allow to do all the
> cool things and introduce them incrementally without having to deal with
> all the unintended side-effects of a sudden break in semantics.
>
> Do you think there are downsides of this approach?
>
> Best regards,
> Matthias
>
>
> On 04/02/2015 05:07 PM, Olivier Dalang wrote:
>
> Hi,
>
>  Would it really be more complicated ?
>
>  I mean, for now, an algorithm that works only with line layers already
> has to check whether the layer is of type line. That's done before
> iterating the features.
>
>  Exactly in the same way, there would be functions to determine whether a
> layer supports a geometry type or not.
>
>  Then, there would be functions to iterate a particular geometry type for
> a layer.
> This could be done by adding a geometry type argument to getFeatures,
> and/or by adding specific
> getLineFeatures/getPointFeatures/getPolygonFeatures functions, probably
> throwing exceptions if the layer does not support this particular type
> (shapefile or specific geometry column in postgis).
>
>  To me it seems not much different from how it works currently, at least
> from a programmer's point of view. Of course it's quite a change in the
> API, that's why it's only thoughts for a future QGIS 3 or 4...
>
>
>  I don't know Mapinfo at all, but it's good to know there's already some
> experience somewhere (even if bad). But do you really think the problem is
> in the principle itself, and not in Mapinfo's implementation ?
>
>
>  The things at stake are maybe worth the thought still...
> The heavy distinction between geometry types is very artificial. There's a
> lot of very valid representation of real world phenomenons of a certain
> kind that require different geometry types. Having to distribute those
> across different layers because of a 25 years old file format is somewhat
> sad...
>
>
>  Olivier
>
>
> 2015-04-02 16:41 GMT+02:00 Bo Victor Thomsen <bo.victor.thomsen at gmail.com>
> :
>
>>  As an old MapInfo user/developer my opion is: Don't do it. It has always
>> been a problem in MapInfo and it will be a problem in QGIS - if
>> implemented.
>>
>> A better approach is to have the possibility to let different QGIS layers
>> share some common characteristics (for example labelling). And - of course
>> - clean up the current errors in QGIS when splitting contents of data
>> sources by object types.
>>
>> Regards
>>  Bo Victor Thomsen
>> AestasGIS
>> Denmark
>>
>> Den 02-04-2015 kl. 13:52 skrev Olivier Dalang:
>>
>>   Hi,
>>
>>  In some projects of mine, I work with multiple geometry types in one
>> postgis table, using a column of type geometry(Geometry,4326).
>> This is very well supported by postgis.
>>
>>  It is possible to load such a table in QGIS by manually selecting the
>> geometry type you want to load. This means that to display all the
>> features, you need to add the table three times, one for each feature type.
>>
>>  This works more or less. There are a few bugs though :
>> - http://hub.qgis.org/issues/12499 (you can edit other type's node with
>> the node tool)
>> - http://hub.qgis.org/issues/12500 (other type's records are shown in
>> the attribute table)
>>
>>  This also has some limitations. When having such a setup, it's pretty
>> sure you'll want to have the same edit forms for all the layers. You'll
>> also probably want the same filter, the same labels, the same actions,
>> etc...
>> The only thing you'd want to be able to define on a geometry type basis
>> are the symbol (well, even the classification/colors/etc could be shared)
>> and the label placement.
>> For now, you must do all settings three times, because of this
>> bug/feature request :
>> - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry
>> type to another)
>>
>>
>>  As you see, support multiple geometry types in QGIS is not perfect.
>>
>>  Of course it's possible to fix the bugs/pr, and there are some
>> workarounds (postgis view instead of tables) but maybe it's also worth
>> thinking a bit more in depth about this.
>>
>>  We could consider point/line/polygons as subcategories/sublayers of a
>> layer. A shapefile or a mono-typed table would have only one of those
>> sublayer, but a postgis table could perfectly have the three. Most of the
>> settings would be defined at the layer level, while only some settings
>> would be defined at the subcategory level.
>>
>>  This is probably especially relevant when thinking long term (the day
>> we support 3D, curves, etc...).
>>
>>
>>  What do you think ?
>> Do you think the relation 1 layer = 1 geometry type will hold ?
>>
>>  I think we inherited this from the old shapefile format, but most data
>> sources QGIS handles don't have this limitation. I also think it does not
>> hold with quite a lot of modern GIS uses (especially web related, think of
>> openstreetmaps for instance).
>>
>>  There's this feature request (6th oldest open issue on the tracker)
>> about postgis geometry collections  : http://hub.qgis.org/issues/167
>>
>>
>>  Best,
>>
>>  Olivier
>>
>>
>>
>>   _______________________________________________
>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> _______________________________________________
> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/6de9c3cb/attachment.html>

From regis.haubourg at eau-adour-garonne.fr  Fri Apr  3 13:59:14 2015
From: regis.haubourg at eau-adour-garonne.fr (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 3 Apr 2015 13:59:14 -0700 (PDT)
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
Message-ID: <1428094754796-5199942.post@n6.nabble.com>

Hi, 
I very often use multi geometries postgis tables or views, and I really
don't get what improvements pushing that into QGIS interface could add to
user experience. QGIS is the most simple viewer we have currently. Multi
geom database tables are really really uncommon, and if present, this is
because a DBA - SQL aware user is around, experienced enough to handle
single geometry views if needed. Maybe Geopackage could expand such things,
but by now, it is not true.

Can you explain more clearly what are the benefits of pushing a new
abstraction model here?
If we go in that way, just an example:  We have in France such a GIS tool
(Geoconcept) that has a very UML model with classes and abstractions, with
as many properties/classes as needed - perfect for a object model approach -
and I must say it is dying of not being simple enough for common users. They
have "layers" in mind when doing mapping, and are extremly disturbed with a
Object Oriented logic.  QGIS offers to advanced DBA to work that in upstream
DB, that's fine to me. I never felt limited with that. 

The only thing annoying me currently is that QGIS "sees" all geometry
columns when this slow down attribute view a lot. In 1.8 or before (can't
remember), QGIS did not see them and that was fine to me, and avoided to
type SQL in DBmanager to add correctly the data in QGIS. 

Cheers
R?gis

 



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Thoughts-about-multi-type-tables-in-QGIS-tp5196607p5199942.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From nikhilmurarka14 at gmail.com  Fri Apr  3 16:21:26 2015
From: nikhilmurarka14 at gmail.com (Nikhil Murarka)
Date: Fri, 3 Apr 2015 19:21:26 -0400
Subject: [Qgis-developer] Null Value in QLineEdit
Message-ID: <CAFy5e2uf5eHmD8bUrTsDqLrGwjG=sD8ex47oBTEsLR-MR8Y2Fw@mail.gmail.com>

try:

if myDialog.findChild(QLineEdit,"cod_direzione").text() == "":
        myDialog.findChild(QLineEdit,"cod_direzione").setText("A")
else:
         myDialog.findChild(QLineEdit,"cod_direzione").setText("NOT NULL")

use len(str) instead of str.length()

I think the text is not empty string intially because it work for me.

Also where are you defining this statement ? -some callback function or
 __init__


Can you post the complete function ?

On Fri, Apr 3, 2015 at 2:12 PM, <qgis-developer-request at lists.osgeo.org>
wrote:

> Send Qgis-developer mailing list submissions to
>         qgis-developer at lists.osgeo.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
> or, via email, send a message with subject or body 'help' to
>         qgis-developer-request at lists.osgeo.org
>
> You can reach the person managing the list at
>         qgis-developer-owner at lists.osgeo.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Qgis-developer digest..."
>
>
> Today's Topics:
>
>    1. Difference of "import" inside qgis python console and inside
>       a python plugin (Luca Mandolesi)
>    2. Re: A plea for plugin authors (Stefan Keller)
>    3. Null Value in QLineEdit (Enrico Fiore)
>    4. Re: Thoughts about multi-type tables in QGIS (Matthias Kuhn)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 3 Apr 2015 00:36:44 +0200
> From: Luca Mandolesi <mandoluca at gmail.com>
> To: qgis-developer List <qgis-developer at lists.osgeo.org>
> Subject: [Qgis-developer] Difference of "import" inside qgis python
>         console and inside a python plugin
> Message-ID:
>         <
> CAHmdnV6dCn19KbaXNUktpSFCM0SxoOArh7tgEX1OwJGFO6a6EA at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
>
> Hi to all,
>
> I'm trying to use vispy module inside my python plugin, but a strange thing
> happens:
>
> If I call import vispy inside the Qgis python console the script runs
> properly, but, if I put the "import vispy", at the beginning of my plugin,
> I receive this error [0]
>
> Why inside the Qgis python console a module can be imported, but not inside
> a plugin?
>
> Really, really, strange.
>
> Ideas?
>
> Thanks a lot,
> Luca
>
>
>
> [0]
> Traceback (most recent call last):
>   File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 219, in
> startPlugin
>     plugins[packageName] = package.classFactory(iface)
>   File
> "C:\Users\Windows\Github\pyarchinit_beta_test_dev\pyarchinit\__init__.py",
> line 49, in classFactory
>     from pyarchinit_plugin import PyArchInitPlugin
>   File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 478, in _import
>     mod = _builtin_import(name, globals, locals, fromlist, level)
>   File
>
> "C:\Users\Windows\Github\pyarchinit_beta_test_dev\pyarchinit\pyarchinit_plugin.py",
> line 23, in
>     import vispy as visp
>   File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 478, in _import
>     mod = _builtin_import(name, globals, locals, fromlist, level)
>   File
>
> "C:\OSGeo4W\apps\Python27\lib\site-packages\vispy-0.3.0-py2.7.egg\vispy\__init__.py",
> line 34, in
>     _parse_command_line_arguments()
>   File
>
> "C:\OSGeo4W\apps\Python27\lib\site-packages\vispy-0.3.0-py2.7.egg\vispy\util\config.py",
> line 275, in _parse_command_line_arguments
>     opts, args = getopt.getopt(sys.argv[1:], '', argnames)
>
> AttributeError: 'module' object has no attribute 'argv'
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/ebf0c666/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 2
> Date: Fri, 3 Apr 2015 17:11:19 +0200
> From: Stefan Keller <sfkeller at gmail.com>
> To: "qgis-developer at lists.osgeo.org" <qgis-developer at lists.osgeo.org>
> Subject: Re: [Qgis-developer] A plea for plugin authors
> Message-ID:
>         <CAFcOn2-BHjOH0f2w1Vym=sgNh8s_fD3rdQa=
> riW3gsukNuCmFg at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> Hi Paolo, hi all
>
> Paolo mentioned icons in his plea, section Metadata:
> > * add a proper icon, do not leave the default one; see QGIS interface
> > for a suggestion of the style to be used
>
> There are several places where icons are shown:
> AFAIK there's at least
> 1. QGIS Toolbar: 64x64 pixels?
> 2. Plugins home: http://plugins.qgis.org/plugins/ => 32x32 pixels
> 3. In the QGIS Extensions Dialog: 16x16 pixels
>
> In the QGIS Extensions Dialog actually very few individual icons show
> up like TileLayer, QGIS Cloud or QSpatialite.
>
> My questions:
> A. Are there more places where icons show up?
> B. Are thre recommendations which is the recommended size? 32x32? several
> sizes?
> C. Does anybody know how to make the icon show up in the "QGIS
> Extensions Dialog"?
>
> Yours, Stefan
>
>
> 2015-03-26 14:56 GMT+01:00 Paolo Cavallini <cavallini at faunalia.it>:
> > Il 26/03/2015 14:53, Charles Shapiro ha scritto:
> >
> >> Has anyone else had this difficulty?
> >
> > I remember others had the same problem, but cannot recall how they
> > solved it: anyone?
> > All the best, and thanks for your reply.
> >
> > --
> > Paolo Cavallini - www.faunalia.eu
> > QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> ------------------------------
>
> Message: 3
> Date: Fri, 3 Apr 2015 18:03:05 +0200 (CEST)
> From: Enrico Fiore <enricofiore at libero.it>
> To: <qgis-developer at lists.osgeo.org>
> Subject: [Qgis-developer] Null Value in QLineEdit
> Message-ID:
>         <2062915558
> .1665451428076985353.JavaMail.httpd at webmail-16.iol.local>
> Content-Type: text/plain; charset="utf-8"
>
> Hi,
> I am newbie in python e pyqgis.
> I tried to perform some validation related to a open form action. The
> validation affects when the user click on ok.
> I have to check if a value in a edit text slot is null and in that case
> edit a default value in the form slot. I made different test:
>
> EX1.
>
> if myDialog.findChild(QLineEdit,"cod_direzione").text() == "":
>         myDialog.findChild(QLineEdit,"cod_direzione").setText("A")
>
> Results: QGIS doesn't return any error but doesn't set the value "A"
>
> EX2.
>
> if not myDialog.findChild(QLineEdit,"cod_direzione").text().length() > 0:
>         myDialog.findChild(QLineEdit,"cod_direzione").setText("A")
>
> Results: return this error
> AttributeError: 'unicode' object has no attribute 'length'
> How i can test if the value in the text edit field i null? and then put
> the default value in the attribute field?
>
>
> Thanks for your attention
>
> Enrico Fiore
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/94adf3e4/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 4
> Date: Fri, 03 Apr 2015 20:12:15 +0200
> From: Matthias Kuhn <matthias at opengis.ch>
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [Qgis-developer] Thoughts about multi-type tables in QGIS
> Message-ID: <551ED7FF.50301 at opengis.ch>
> Content-Type: text/plain; charset="windows-1252"
>
> I think there's a lot of hidden caveats - in QGIS itself as well as in
> plugins - and it would be very hard to find them all and treat them
> appropriately.
>
> Therefore I would prefer not to go for a change in layer semantics in
> terms of that a layer iterator suddenly may return different geometry
> types.
> I'd prefer to re-raise the idea of having a special layer-group type
> that allows to define certain settings on all sub-layers. Adding a
> multi-geometry layer can by default add such a layer.
>
> The difference is an opt-in vs. an opt-out approach.
> Changing the layer geometry type semantic would require to update
> everything that does not want to use multi-geometry behavior (hence
> opt-out). A possibly painful story with lots of side-effects that we
> possibly can't even think of right now.
> The group approach would allow any component capable of handling
> multi-geometry types to add possibilities on group-level. With a good
> API it can be easy to determine if a layer is part of a multitype group.
> And from the group an iterator can be requested and a hierarchical
> setting can be introduced (define defaults at group level, override at
> layer level).
>
> I would strongly prefer the second approach. It should allow to do all
> the cool things and introduce them incrementally without having to deal
> with all the unintended side-effects of a sudden break in semantics.
>
> Do you think there are downsides of this approach?
>
> Best regards,
> Matthias
>
> On 04/02/2015 05:07 PM, Olivier Dalang wrote:
> > Hi,
> >
> > Would it really be more complicated ?
> >
> > I mean, for now, an algorithm that works only with line layers already
> > has to check whether the layer is of type line. That's done before
> > iterating the features.
> >
> > Exactly in the same way, there would be functions to determine whether
> > a layer supports a geometry type or not.
> >
> > Then, there would be functions to iterate a particular geometry type
> > for a layer.
> > This could be done by adding a geometry type argument to getFeatures,
> > and/or by adding specific
> > getLineFeatures/getPointFeatures/getPolygonFeatures functions,
> > probably throwing exceptions if the layer does not support this
> > particular type (shapefile or specific geometry column in postgis).
> >
> > To me it seems not much different from how it works currently, at
> > least from a programmer's point of view. Of course it's quite a change
> > in the API, that's why it's only thoughts for a future QGIS 3 or 4...
> >
> >
> > I don't know Mapinfo at all, but it's good to know there's already
> > some experience somewhere (even if bad). But do you really think the
> > problem is in the principle itself, and not in Mapinfo's implementation ?
> >
> >
> > The things at stake are maybe worth the thought still...
> > The heavy distinction between geometry types is very artificial.
> > There's a lot of very valid representation of real world phenomenons
> > of a certain kind that require different geometry types. Having to
> > distribute those across different layers because of a 25 years old
> > file format is somewhat sad...
> >
> >
> > Olivier
> >
> >
> > 2015-04-02 16:41 GMT+02:00 Bo Victor Thomsen
> > <bo.victor.thomsen at gmail.com <mailto:bo.victor.thomsen at gmail.com>>:
> >
> >     As an old MapInfo user/developer my opion is: Don't do it. It has
> >     always been a problem in MapInfo and it will be a problem in QGIS
> >     - if implemented.
> >
> >     A better approach is to have the possibility to let different QGIS
> >     layers share some common characteristics (for example labelling).
> >     And - of course - clean up the current errors in QGIS when
> >     splitting contents of data sources by object types.
> >
> >     Regards
> >     Bo Victor Thomsen
> >     AestasGIS
> >     Denmark
> >
> >     Den 02-04-2015 kl. 13:52 skrev Olivier Dalang:
> >>     Hi,
> >>
> >>     In some projects of mine, I work with multiple geometry types in
> >>     one postgis table, using a column of type geometry(Geometry,4326).
> >>     This is very well supported by postgis.
> >>
> >>     It is possible to load such a table in QGIS by manually selecting
> >>     the geometry type you want to load. This means that to display
> >>     all the features, you need to add the table three times, one for
> >>     each feature type.
> >>
> >>     This works more or less. There are a few bugs though :
> >>     - http://hub.qgis.org/issues/12499 (you can edit other type's
> >>     node with the node tool)
> >>     - http://hub.qgis.org/issues/12500 (other type's records are
> >>     shown in the attribute table)
> >>
> >>     This also has some limitations. When having such a setup, it's
> >>     pretty sure you'll want to have the same edit forms for all the
> >>     layers. You'll also probably want the same filter, the same
> >>     labels, the same actions, etc...
> >>     The only thing you'd want to be able to define on a geometry type
> >>     basis are the symbol (well, even the classification/colors/etc
> >>     could be shared) and the label placement.
> >>     For now, you must do all settings three times, because of this
> >>     bug/feature request :
> >>     - http://hub.qgis.org/issues/12303 (copy/paste style from one
> >>     geometry type to another)
> >>
> >>
> >>     As you see, support multiple geometry types in QGIS is not perfect.
> >>
> >>     Of course it's possible to fix the bugs/pr, and there are some
> >>     workarounds (postgis view instead of tables) but maybe it's also
> >>     worth thinking a bit more in depth about this.
> >>
> >>     We could consider point/line/polygons as subcategories/sublayers
> >>     of a layer. A shapefile or a mono-typed table would have only one
> >>     of those sublayer, but a postgis table could perfectly have the
> >>     three. Most of the settings would be defined at the layer level,
> >>     while only some settings would be defined at the subcategory level.
> >>
> >>     This is probably especially relevant when thinking long term (the
> >>     day we support 3D, curves, etc...).
> >>
> >>
> >>     What do you think ?
> >>     Do you think the relation 1 layer = 1 geometry type will hold ?
> >>
> >>     I think we inherited this from the old shapefile format, but most
> >>     data sources QGIS handles don't have this limitation. I also
> >>     think it does not hold with quite a lot of modern GIS uses
> >>     (especially web related, think of openstreetmaps for instance).
> >>
> >>     There's this feature request (6th oldest open issue on the
> >>     tracker) about postgis geometry collections  :
> >>     http://hub.qgis.org/issues/167
> >>
> >>
> >>     Best,
> >>
> >>     Olivier
> >>
> >>
> >>
> >>     _______________________________________________
> >>     Qgis-developer mailing list
> >>     Qgis-developer at lists.osgeo.org <mailto:
> Qgis-developer at lists.osgeo.org>
> >>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >     _______________________________________________
> >     Qgis-developer mailing list
> >     Qgis-developer at lists.osgeo.org <mailto:
> Qgis-developer at lists.osgeo.org>
> >     http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/8d4122a6/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> End of Qgis-developer Digest, Vol 114, Issue 9
> **********************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150403/4da74789/attachment-0001.html>

From marco.hugentobler at sourcepole.ch  Sat Apr  4 01:28:03 2015
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Sat, 04 Apr 2015 10:28:03 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
Message-ID: <551FA093.3090404@sourcepole.ch>

Hi

Yes, the implicit assumption that each layer has one geometry type 
probably goes back to the shapefile. I agree it is a wrong design from 
QGIS to assume that and it is not in line with the logic of many 
important datasources (Postgres, Oracle, MS SQL, WFS and also some OGR 
formats like dxf), therefore causing workarounds on the dataprovider 
level to seperate db tables into several layers. I think it is best (at 
least in the long term) to have a logic compatible to the datasources 
instead of doing workarounds at provider and gui level.

There are many places where this has an impact (e.g. symbology system, 
editing). Therefore it will be good to break the 'one geometry type' 
assumption not before version 3. A first step could be to identify the 
places in core/gui/app where changes would be needed.

@Nathan and Victor: I don't have experience with MapInfo. What is the 
exact reason why multi-geometries have been user-unfriendly there?

Regards,
Marco



On 02.04.2015 13:52, Olivier Dalang wrote:
> Hi,
>
> In some projects of mine, I work with multiple geometry types in one 
> postgis table, using a column of type geometry(Geometry,4326).
> This is very well supported by postgis.
>
> It is possible to load such a table in QGIS by manually selecting the 
> geometry type you want to load. This means that to display all the 
> features, you need to add the table three times, one for each feature 
> type.
>
> This works more or less. There are a few bugs though :
> - http://hub.qgis.org/issues/12499 (you can edit other type's node 
> with the node tool)
> - http://hub.qgis.org/issues/12500 (other type's records are shown in 
> the attribute table)
>
> This also has some limitations. When having such a setup, it's pretty 
> sure you'll want to have the same edit forms for all the layers. 
> You'll also probably want the same filter, the same labels, the same 
> actions, etc...
> The only thing you'd want to be able to define on a geometry type 
> basis are the symbol (well, even the classification/colors/etc could 
> be shared) and the label placement.
> For now, you must do all settings three times, because of this 
> bug/feature request :
> - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry 
> type to another)
>
>
> As you see, support multiple geometry types in QGIS is not perfect.
>
> Of course it's possible to fix the bugs/pr, and there are some 
> workarounds (postgis view instead of tables) but maybe it's also worth 
> thinking a bit more in depth about this.
>
> We could consider point/line/polygons as subcategories/sublayers of a 
> layer. A shapefile or a mono-typed table would have only one of those 
> sublayer, but a postgis table could perfectly have the three. Most of 
> the settings would be defined at the layer level, while only some 
> settings would be defined at the subcategory level.
>
> This is probably especially relevant when thinking long term (the day 
> we support 3D, curves, etc...).
>
>
> What do you think ?
> Do you think the relation 1 layer = 1 geometry type will hold ?
>
> I think we inherited this from the old shapefile format, but most data 
> sources QGIS handles don't have this limitation. I also think it does 
> not hold with quite a lot of modern GIS uses (especially web related, 
> think of openstreetmaps for instance).
>
> There's this feature request (6th oldest open issue on the tracker) 
> about postgis geometry collections  : http://hub.qgis.org/issues/167
>
>
> Best,
>
> Olivier
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Weberstrasse 5, CH-8004 Z?rich, Switzerland
marco.hugentobler at sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150404/7eea863e/attachment.html>

From bo.victor.thomsen at gmail.com  Sat Apr  4 02:40:06 2015
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sat, 04 Apr 2015 11:40:06 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <551FA093.3090404@sourcepole.ch>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551FA093.3090404@sourcepole.ch>
Message-ID: <551FB176.4050509@gmail.com>

Regarding MapInfo as a user:

  * You can't be sure abut the drawing order for different object types
    in a single layer. With multiple types you risk having a small
    object (ie point) being hidden by a larger object (ie a polygon)
    becuase the polygon is drawn "above" the point.
  * Import tab files to different GIS systems that can't handle multi
    type layers. When you try to import 1 million object layer there is
    always 999999 objects of one type and 1 object of a different type -
    and the import will fail. This is confusing for a lot of users and
    irritating for the rest.
  * Thematics in MapInfo does not work properly when used on a multi
    object type layer


Regarding MapInfo as a developer:

It's a royal pain having to deal with all the possible situations in a 
MapBasic script when you have to deal with a layer with multiple object 
types. Suddenly a script will fail because it's trying make an otherwise 
legal operation on a type of object  its not supposed to deal with. You 
can of course remedy the situation with a lot of "if-then-else" type 
checking or "onerror" goto's but your scripts readability will be horrible.


Regards
Bo Victor Thomsen
AestasGIS
Denmark

Den 04-04-2015 kl. 10:28 skrev Marco Hugentobler:
> Hi
>
> Yes, the implicit assumption that each layer has one geometry type 
> probably goes back to the shapefile. I agree it is a wrong design from 
> QGIS to assume that and it is not in line with the logic of many 
> important datasources (Postgres, Oracle, MS SQL, WFS and also some OGR 
> formats like dxf), therefore causing workarounds on the dataprovider 
> level to seperate db tables into several layers. I think it is best 
> (at least in the long term) to have a logic compatible to the 
> datasources instead of doing workarounds at provider and gui level.
>
> There are many places where this has an impact (e.g. symbology system, 
> editing). Therefore it will be good to break the 'one geometry type' 
> assumption not before version 3. A first step could be to identify the 
> places in core/gui/app where changes would be needed.
>
> @Nathan and Victor: I don't have experience with MapInfo. What is the 
> exact reason why multi-geometries have been user-unfriendly there?
>
> Regards,
> Marco
>
>
>
> On 02.04.2015 13:52, Olivier Dalang wrote:
>> Hi,
>>
>> In some projects of mine, I work with multiple geometry types in one 
>> postgis table, using a column of type geometry(Geometry,4326).
>> This is very well supported by postgis.
>>
>> It is possible to load such a table in QGIS by manually selecting the 
>> geometry type you want to load. This means that to display all the 
>> features, you need to add the table three times, one for each feature 
>> type.
>>
>> This works more or less. There are a few bugs though :
>> - http://hub.qgis.org/issues/12499 (you can edit other type's node 
>> with the node tool)
>> - http://hub.qgis.org/issues/12500 (other type's records are shown in 
>> the attribute table)
>>
>> This also has some limitations. When having such a setup, it's pretty 
>> sure you'll want to have the same edit forms for all the layers. 
>> You'll also probably want the same filter, the same labels, the same 
>> actions, etc...
>> The only thing you'd want to be able to define on a geometry type 
>> basis are the symbol (well, even the classification/colors/etc could 
>> be shared) and the label placement.
>> For now, you must do all settings three times, because of this 
>> bug/feature request :
>> - http://hub.qgis.org/issues/12303 (copy/paste style from one 
>> geometry type to another)
>>
>>
>> As you see, support multiple geometry types in QGIS is not perfect.
>>
>> Of course it's possible to fix the bugs/pr, and there are some 
>> workarounds (postgis view instead of tables) but maybe it's also 
>> worth thinking a bit more in depth about this.
>>
>> We could consider point/line/polygons as subcategories/sublayers of a 
>> layer. A shapefile or a mono-typed table would have only one of those 
>> sublayer, but a postgis table could perfectly have the three. Most of 
>> the settings would be defined at the layer level, while only some 
>> settings would be defined at the subcategory level.
>>
>> This is probably especially relevant when thinking long term (the day 
>> we support 3D, curves, etc...).
>>
>>
>> What do you think ?
>> Do you think the relation 1 layer = 1 geometry type will hold ?
>>
>> I think we inherited this from the old shapefile format, but most 
>> data sources QGIS handles don't have this limitation. I also think it 
>> does not hold with quite a lot of modern GIS uses (especially web 
>> related, think of openstreetmaps for instance).
>>
>> There's this feature request (6th oldest open issue on the tracker) 
>> about postgis geometry collections  : http://hub.qgis.org/issues/167
>>
>>
>> Best,
>>
>> Olivier
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> -- 
> Dr. Marco Hugentobler
> Sourcepole -  Linux & Open Source Solutions
> Weberstrasse 5, CH-8004 Z?rich, Switzerland
> marco.hugentobler at sourcepole.ch  http://www.sourcepole.ch
> Technical Advisor QGIS Project Steering Committee
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150404/2c195d74/attachment.html>

From cavallini at faunalia.it  Sat Apr  4 02:52:51 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 04 Apr 2015 11:52:51 +0200
Subject: [Qgis-developer] A plea for plugin authors
In-Reply-To: <CAFcOn2-BHjOH0f2w1Vym=sgNh8s_fD3rdQa=riW3gsukNuCmFg@mail.gmail.com>
References: <55127152.2000407@faunalia.it>	<55140F68.1050107@spatialfocus.com>	<5514100D.3090506@faunalia.it>
	<CAFcOn2-BHjOH0f2w1Vym=sgNh8s_fD3rdQa=riW3gsukNuCmFg@mail.gmail.com>
Message-ID: <551FB473.5010003@faunalia.it>

Il 03/04/2015 17:11, Stefan Keller ha scritto:

> A. Are there more places where icons show up?
> B. Are thre recommendations which is the recommended size? 32x32? several sizes?
> C. Does anybody know how to make the icon show up in the "QGIS
> Extensions Dialog"?

Hi Stefan,
could you please check that these info are available on the pycookbook?
If not, could you please add it once clarified?
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From enricofiore at libero.it  Sat Apr  4 03:01:06 2015
From: enricofiore at libero.it (Enrico Fiore)
Date: Sat, 04 Apr 2015 12:01:06 +0200
Subject: [Qgis-developer] Null Value in QLineEdit
In-Reply-To: <CAFy5e2uf5eHmD8bUrTsDqLrGwjG=sD8ex47oBTEsLR-MR8Y2Fw@mail.gmail.com>
References: <CAFy5e2uf5eHmD8bUrTsDqLrGwjG=sD8ex47oBTEsLR-MR8Y2Fw@mail.gmail.com>
Message-ID: <551FB662.2010708@libero.it>

Hi,
thanks for your answer.

I have done others tests, whit your suggestions

Il 04/04/2015 01:21, Nikhil Murarka ha scritto:
> try:
>
> if myDialog.findChild(QLineEdit,"cod_direzione").text() == "":
> myDialog.findChild(QLineEdit,"cod_direzione").setText("A")
> else:
>  myDialog.findChild(QLineEdit,"cod_direzione").setText("NOT NULL")
>
> I think the text is not empty string intially because it work for me.
I tried with the else clause, and you are right  it is like if the field 
is not empty.
But it is strange because the form appear when I edit a new point, whit 
all the form slots empty.

The layer is a Multipoint in a Postgresql database, the field is a 
varchar(1) .

the field is recognised empty if I write this code:

   if myDialog.findChild(QLineEdit,"des").text() == u"NULL":
     myDialog.findChild(QLineEdit,"des").setText("A")

>
> Also where are you defining this statement ? -some callback function 
> or  __init__
I call the .py file inside the layer properties
>
>
> Can you post the complete function ?

from PyQt4.QtCore import *
from PyQt4.QtGui import *
from qgis.core import *
from qgis.gui import *

def formOpen(dialog, layerid, featureid):
     myDialog = dialog
     global myDialog
     # Riferimento ai bottoni
     buttonBox = dialog.findChild(QDialogButtonBox, "buttonBox")

     # Disconnessione del segnale che QGIS ha automaticamente associato 
alla zona dei pulsanti
     buttonBox.accepted.disconnect(myDialog.accept)
     # Connessione del nostro segnale
     buttonBox.accepted.connect(validate)
     buttonBox.rejected.connect(myDialog.reject)


def validate():
     # cod_direzione default = A
     if myDialog.findChild(QLineEdit,"des").text() == "":
         myDialog.findChild(QLineEdit,"des").setText("A")
     else:
          myDialog.findChild(QLineEdit,"des").setText("N")

From royroge at outlook.com  Sat Apr  4 03:05:00 2015
From: royroge at outlook.com (Roy)
Date: Sat, 4 Apr 2015 12:05:00 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <551FA093.3090404@sourcepole.ch>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551FA093.3090404@sourcepole.ch>
Message-ID: <BLU436-SMTP3177A5E56A89B8D42FD95CA7F00@phx.gbl>

Hi,

i wonder if it is more likely that the same geometry type have the same 
attributes,
what happens when i need an area column and also have points in the very 
same table?
can i deal with that in a "normalized" structure? i find this a bit 
confusing to undersand;
it seems an interesting feature but i would like to see a real case 
scenario, can someone
make an example or point me to an example?

Thanks, Roy.

Il 04/04/2015 10.28, Marco Hugentobler ha scritto:
> Hi
>
> Yes, the implicit assumption that each layer has one geometry type 
> probably goes back to the shapefile. I agree it is a wrong design from 
> QGIS to assume that and it is not in line with the logic of many 
> important datasources (Postgres, Oracle, MS SQL, WFS and also some OGR 
> formats like dxf), therefore causing workarounds on the dataprovider 
> level to seperate db tables into several layers. I think it is best 
> (at least in the long term) to have a logic compatible to the 
> datasources instead of doing workarounds at provider and gui level.
>
> There are many places where this has an impact (e.g. symbology system, 
> editing). Therefore it will be good to break the 'one geometry type' 
> assumption not before version 3. A first step could be to identify the 
> places in core/gui/app where changes would be needed.
>
> @Nathan and Victor: I don't have experience with MapInfo. What is the 
> exact reason why multi-geometries have been user-unfriendly there?
>
> Regards,
> Marco
>
>
>
> On 02.04.2015 13:52, Olivier Dalang wrote:
>> Hi,
>>
>> In some projects of mine, I work with multiple geometry types in one 
>> postgis table, using a column of type geometry(Geometry,4326).
>> This is very well supported by postgis.
>>
>> It is possible to load such a table in QGIS by manually selecting the 
>> geometry type you want to load. This means that to display all the 
>> features, you need to add the table three times, one for each feature 
>> type.
>>
>> This works more or less. There are a few bugs though :
>> - http://hub.qgis.org/issues/12499 (you can edit other type's node 
>> with the node tool)
>> - http://hub.qgis.org/issues/12500 (other type's records are shown in 
>> the attribute table)
>>
>> This also has some limitations. When having such a setup, it's pretty 
>> sure you'll want to have the same edit forms for all the layers. 
>> You'll also probably want the same filter, the same labels, the same 
>> actions, etc...
>> The only thing you'd want to be able to define on a geometry type 
>> basis are the symbol (well, even the classification/colors/etc could 
>> be shared) and the label placement.
>> For now, you must do all settings three times, because of this 
>> bug/feature request :
>> - http://hub.qgis.org/issues/12303 (copy/paste style from one 
>> geometry type to another)
>>
>>
>> As you see, support multiple geometry types in QGIS is not perfect.
>>
>> Of course it's possible to fix the bugs/pr, and there are some 
>> workarounds (postgis view instead of tables) but maybe it's also 
>> worth thinking a bit more in depth about this.
>>
>> We could consider point/line/polygons as subcategories/sublayers of a 
>> layer. A shapefile or a mono-typed table would have only one of those 
>> sublayer, but a postgis table could perfectly have the three. Most of 
>> the settings would be defined at the layer level, while only some 
>> settings would be defined at the subcategory level.
>>
>> This is probably especially relevant when thinking long term (the day 
>> we support 3D, curves, etc...).
>>
>>
>> What do you think ?
>> Do you think the relation 1 layer = 1 geometry type will hold ?
>>
>> I think we inherited this from the old shapefile format, but most 
>> data sources QGIS handles don't have this limitation. I also think it 
>> does not hold with quite a lot of modern GIS uses (especially web 
>> related, think of openstreetmaps for instance).
>>
>> There's this feature request (6th oldest open issue on the tracker) 
>> about postgis geometry collections  : http://hub.qgis.org/issues/167
>>
>>
>> Best,
>>
>> Olivier
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> -- 
> Dr. Marco Hugentobler
> Sourcepole -  Linux & Open Source Solutions
> Weberstrasse 5, CH-8004 Z?rich, Switzerland
> marco.hugentobler at sourcepole.ch  http://www.sourcepole.ch
> Technical Advisor QGIS Project Steering Committee
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150404/90fda9e0/attachment.html>

From sfkeller at gmail.com  Sat Apr  4 05:17:12 2015
From: sfkeller at gmail.com (Stefan Keller)
Date: Sat, 4 Apr 2015 14:17:12 +0200
Subject: [Qgis-developer] Icon sizes and howto... (Was: A plea for plugin
	authors)
Message-ID: <CAFcOn29aBpJCpwNevAxAPtO=+cqHifU8TR_SfA5q-+8yp2-NxA@mail.gmail.com>

2015-04-04 11:52 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:
> Il 03/04/2015 17:11, Stefan Keller ha scritto:
>> A. Are there more places where icons show up?
>> B. Are there recommendations which is the recommended size? 32x32? several sizes?
>> C. Does anybody know how to make the icon show up in the "QGIS
>> Extensions Dialog"?
>
> Hi Stefan,
> could you please check that these info are available on the pycookbook?
> If not, could you please add it once clarified?

Yes, I'll do that.
But first I need some help from QGIS devs regarding my three questions above :-)

Cheers,
Stefan


2015-04-04 11:52 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:
> Il 03/04/2015 17:11, Stefan Keller ha scritto:
>
>> A. Are there more places where icons show up?
>> B. Are there recommendations which is the recommended size? 32x32? several sizes?
>> C. Does anybody know how to make the icon show up in the "QGIS
>> Extensions Dialog"?
>
> Hi Stefan,
> could you please check that these info are available on the pycookbook?
> If not, could you please add it once clarified?
> All the best.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From nikhilmurarka14 at gmail.com  Sat Apr  4 06:12:31 2015
From: nikhilmurarka14 at gmail.com (Nikhil Murarka)
Date: Sat, 4 Apr 2015 09:12:31 -0400
Subject: [Qgis-developer] Null Value in QLineEdit
In-Reply-To: <551FB662.2010708@libero.it>
References: <CAFy5e2uf5eHmD8bUrTsDqLrGwjG=sD8ex47oBTEsLR-MR8Y2Fw@mail.gmail.com>
	<551FB662.2010708@libero.it>
Message-ID: <CAFy5e2uez3unAPzvhsWdk8RwNBL5o=AXSLf2QShcXd3+3VPhEg@mail.gmail.com>

I guess this form is populated when you add new feature to layer. Your
PostgreSQL database schema should define 'default' value as ''

abc varchar(1) default ''

if you don't define the default value qgis make it 'NULL'

Not exactly sure but this should solve the problem

On Sat, Apr 4, 2015 at 6:01 AM, Enrico Fiore <enricofiore at libero.it> wrote:

> Hi,
> thanks for your answer.
>
> I have done others tests, whit your suggestions
>
> Il 04/04/2015 01:21, Nikhil Murarka ha scritto:
>
>> try:
>>
>> if myDialog.findChild(QLineEdit,"cod_direzione").text() == "":
>> myDialog.findChild(QLineEdit,"cod_direzione").setText("A")
>> else:
>>  myDialog.findChild(QLineEdit,"cod_direzione").setText("NOT NULL")
>>
>> I think the text is not empty string intially because it work for me.
>>
> I tried with the else clause, and you are right  it is like if the field
> is not empty.
> But it is strange because the form appear when I edit a new point, whit
> all the form slots empty.
>
> The layer is a Multipoint in a Postgresql database, the field is a
> varchar(1) .
>
> the field is recognised empty if I write this code:
>
>   if myDialog.findChild(QLineEdit,"des").text() == u"NULL":
>     myDialog.findChild(QLineEdit,"des").setText("A")
>
>
>> Also where are you defining this statement ? -some callback function or
>> __init__
>>
> I call the .py file inside the layer properties
>
>>
>>
>> Can you post the complete function ?
>>
>
> from PyQt4.QtCore import *
> from PyQt4.QtGui import *
> from qgis.core import *
> from qgis.gui import *
>
> def formOpen(dialog, layerid, featureid):
>     myDialog = dialog
>     global myDialog
>     # Riferimento ai bottoni
>     buttonBox = dialog.findChild(QDialogButtonBox, "buttonBox")
>
>     # Disconnessione del segnale che QGIS ha automaticamente associato
> alla zona dei pulsanti
>     buttonBox.accepted.disconnect(myDialog.accept)
>     # Connessione del nostro segnale
>     buttonBox.accepted.connect(validate)
>     buttonBox.rejected.connect(myDialog.reject)
>
>
> def validate():
>     # cod_direzione default = A
>     if myDialog.findChild(QLineEdit,"des").text() == "":
>         myDialog.findChild(QLineEdit,"des").setText("A")
>     else:
>          myDialog.findChild(QLineEdit,"des").setText("N")
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150404/449301de/attachment-0001.html>

From digitalmaps at cox.net  Sat Apr  4 19:23:58 2015
From: digitalmaps at cox.net (G. Garibaldi)
Date: Sat, 04 Apr 2015 21:23:58 -0500
Subject: [Qgis-developer] Still can't save keyboard shortcuts on 2.8.
In-Reply-To: <54CCEE44.6030903@cox.net>
References: <mXHt1p00c2tYtNL01XHuvy> <mdt11p00y2tYtNL01dt2CJ>
	<54CCEE44.6030903@cox.net>
Message-ID: <55209CBE.2030707@cox.net>

Bug report #7905

Just a reminder.

G.


From mj10777 at googlemail.com  Sun Apr  5 04:48:19 2015
From: mj10777 at googlemail.com (Mark Johnson)
Date: Sun, 5 Apr 2015 13:48:19 +0200
Subject: [Qgis-developer] plugins using spatialite-amalgamation, pyspatialite
Message-ID: <CAEEbjBhZWsH3LC_BxNQQhEyOn7-D6yfoF+if-Q5SvLi+UFFfAA@mail.gmail.com>

I have opened an issue at:

https://hub.qgis.org/issues/12510

the I suggest that plugins that use a hardcoded spatialite-amalgamation be
depreciated since they can damage a db created with a later spatialite
version.

Mark Johnson, Berlin Germany
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150405/0a6ad222/attachment.html>

From mj10777 at googlemail.com  Sun Apr  5 04:48:57 2015
From: mj10777 at googlemail.com (Mark Johnson)
Date: Sun, 5 Apr 2015 13:48:57 +0200
Subject: [Qgis-developer] gdal 2.0 - needed code changes in QgsOgrProvider
Message-ID: <CAEEbjBjw4_hDTVo4p=16xj97CcpXY3On0wX+sExHPy7PLbHwoA@mail.gmail.com>

I have made a summery of code changes needed in QgsOgrProvider, so that
qgis will react in the same way using gdal 2.0 as it does in 1.11.2.

https://hub.qgis.org/issues/12479

This effects mainly table that have more than one geometry.
Without these changes, only the first geometry of a table that has more
than one geometry will be shown.

This code is based on the revision of 2014_02_22.
I use this version, since later version have a terrible flattering while
updating.
- a matter that also occurs in 2.8.1-Wien

At the moment I cannot even compile the present master, so creating a pull
request with the needed changes is not possible.

Mark Johnson, Berlin Germany
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150405/0c13723e/attachment.html>

From thayeray at yahoo.com  Sun Apr  5 12:48:33 2015
From: thayeray at yahoo.com (thayeray)
Date: Sun, 5 Apr 2015 12:48:33 -0700 (PDT)
Subject: [Qgis-developer] How do I use Python to generate a new Single Band
 Pseudo-Color color map for a single band raster?
Message-ID: <1428263313000-5200024.post@n6.nabble.com>

This question has gone unanswered twice before (see below), so I am posting
it again:
Example 1
<http://osgeo-org.1560.x6.nabble.com/Re-Qgis-user-Digest-Vol-97-Issue-62-td5130720.html> 
, posted to the QGIS Developer list.
Example 2
<http://osgeo-org.1560.x6.nabble.com/Re-Qgis-user-Digest-Vol-97-Issue-62-td5130720.html>  
was posted to QGIS User, and directed to be posted on Developer (so I am
posting here).
I am trying to write a Python script that I can run which will adjust a
single band pseudo-color color map for a single band raster to the min and
max values in the current extent.
I have successfully added single band raster layers and set the drawing
style to single band pseudo color using the PyQGIS Developer Cookbook
instructions, with the following modification:
Instead of:
 
rlayer.setDrawingStyle(QgsRasterLayer.SingleBandPseudoColor)
I used:
rlayer.setDrawingStyle("SingleBandPseudoColor")
I have not been able to create a new color map, however. The Cookbook
suggests:
 rlayer.setColorShadingAlgorithm(QgsRasterLayer.PseudoColorShader)
Followed by making changes to rlayer's
rasterShader().rasterShaderFunction().
Apparently the RasterLayer class has changed and no longer possesses these
methods. There is a QgsColorRampShader class but I can not find a method
that takes a QgsRasterLayer object as a parameter or vice versa. 
The Detailed Description in the documentation for the QgsRasterLayer class
mentions a setStandardDeviations method for pseudocolor images, but I can
find any further reference to this method. This post
<http://gis.stackexchange.com/questions/92995/pyqgis-attributeerror-qgsrasterlayer-object-has-no-attribute-drawingstyle>  
on GIS stack exchange suggests a work around, applying a static QML style
file. I guess I could find the max and min values in the extents and then
output them to a QML style file and then load them, but that seems a little
contorted. Also I do not know how to get the min and max values in the
extents. Could someone at least help me with with that?Any thoughts?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/How-do-I-use-Python-to-generate-a-new-Single-Band-Pseudo-Color-color-map-for-a-single-band-raster-tp5200024.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150405/b8fd6c70/attachment.html>

From thayeray at yahoo.com  Sun Apr  5 13:34:29 2015
From: thayeray at yahoo.com (thayeray)
Date: Sun, 5 Apr 2015 13:34:29 -0700 (PDT)
Subject: [Qgis-developer] How do I use Python to generate a new Single
 Band Pseudo-Color color map for a single band raster?
In-Reply-To: <1428263313000-5200024.post@n6.nabble.com>
References: <1428263313000-5200024.post@n6.nabble.com>
Message-ID: <1428266069613-5200027.post@n6.nabble.com>

So I missed a  post on GIS StackExchange
<http://gis.stackexchange.com/questions/134435/what-is-the-replacement-for-setcolorshadingalgorithm-in-qgis-2-6> 
. I now know how to do the rendering. If someone could help me with how to
find the min and max values from the extent that would be great. Thank you
in advance.-Thayer 



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/How-do-I-use-Python-to-generate-a-new-Single-Band-Pseudo-Color-color-map-for-a-single-band-raster-tp5200024p5200027.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150405/201eca70/attachment.html>

From delazj at gmail.com  Sun Apr  5 15:33:04 2015
From: delazj at gmail.com (Junior Delaz)
Date: Mon, 6 Apr 2015 00:33:04 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <551A9819.3020900@opengis.ch>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>
	<551A500C.7000505@opengis.ch>
	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>
	<551A9819.3020900@opengis.ch>
Message-ID: <CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>

Hi,
I do understand nothing.
After I read your message, Matthias, I told myself that using QT.
QueuedConnection should be the easiest way. Then i wrote
self.iface.composerWillBeRemoved.connect(self.refreshList,
Qt.QueuedConnection)
But each time i delete a composer, QGIS crashes.
So I've spent the week on reading about Qt.QueuedConnection and then signal
and slots, function partial, QSignalMapper, sender trying to understand how
I can catch the sender and manage to update my list. All this without
success in the code.
And today, I tried again Qt.QueuedConnection, QGIS crashed. Without any
changes, I tried again and it worked and continues to work. Adding and
deleting composer in the composer manager echoes in my list.
I hope it will remain like that.

But now I realize that I didn't take into account the renaming of a
composer. :(

I think I'd wisely keep the refreshlist button unless someone tells me how
I can reach the composer manager dialog programmatically. So that I will
try to synchronize my list with its widgetlistitems...

Thanks for all...


2015-03-31 14:50 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

>  You should get a parameter containing the composer that is being deleted
> with composerWillBeRemoved signal. Try to use that to infer which composer
> has been removed. As the signal name indicates, at the time it is emitted,
> the composer is not deleted yet.
> As an alternative you may make the connection with Qt.QueuedConnection. It
> is possible that with this connection style you will receive the signal
> after deletion and are able to continue using your current update method.
>
> Best
> Matthias
>
>
> On 03/31/2015 02:04 PM, Junior Delaz wrote:
>
>    Matthias,
>  Thanks. I just give it a try it and all goes well with composerAdded.
>  But not really well with composerWillBeRemoved signal. The first deletion
> in the composer manager does nothing and deleting a second composer does
> remove the first one in my list. and so on...
> My update function should be rewritten I think.  I'll try to see how
> improving it and may (surely) ask again for help (if needed).
>
>  While seeking information about composerWillBeRemoved, I found a
> composerRemoved [1] [2] signal (that doesn't appear in the API doc) and
> without being able to use it. :(
> [1]
> https://github.com/qgis/QGIS/blob/master/src/app/composer/qgscomposermanager.cpp
> (line 48
> [2] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp (line
> 5601)
>
>  Another thing that may not be related : what the deletePrintComposers
> function (https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
> line 5698) is for?
>
> Thanks again for the clue.
>
> 2015-03-31 9:43 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>
>>  QgisInterface (iface) has a composerAdded and composerWillBeRemoved
>> signal.
>>
>> Did you try to connect to these?
>>
>> Best,
>> Matthias
>>
>>
>> On 03/31/2015 09:34 AM, Junior wrote:
>>
>>  Hi all, Luca
>> Thanks for answering. But i already have an update function that I linked
>> to an update list button. I even linked it to the icon on the toolbar so
>> that when user calls foreground the dialog it's already updated.
>> The case I'd like to manage: user can open plugin dialog and composer
>> manager. The two dialogs are visible (to the eyes) even though composer
>> manager is the one at foreground. He makes changes and directly clicked on
>> the plugin dialog. He should update list but if he forgets and executes,
>> this may lead to bug I don't want to / can't yet manage.
>> Reason why I want to ensure that list is always up to date when he
>> interacts with the dialog
>>
>>  Envoy? depuis mon HTC
>>
>> ----- Reply message -----
>> De : "Luca Manganelli" <luca76 at gmail.com> <luca76 at gmail.com>
>> Pour :
>> Cc : "qgis-user at lists.osgeo.org" <qgis-user at lists.osgeo.org>
>> <qgis-user at lists.osgeo.org> <qgis-user at lists.osgeo.org>,
>> "qgis-developer" <qgis-developer at lists.osgeo.org>
>> <qgis-developer at lists.osgeo.org>
>> Objet : [Qgis-developer] [Qgis-user] Pyqt4 : which signal is sent when
>> dialog comes to foreground?
>> Date : mar., mars 31, 2015 07:56
>>
>> On Mon, Mar 30, 2015 at 6:12 PM, Junior Delaz <delazj at gmail.com> <delazj at gmail.com> wrote:
>> > I've read about defining a custom showEvent function but can't understand
>> > where to put it and what inside.
>> > If somebody can give some tips...
>>
>> You could add a "Update list" button
>> _______________________________________________
>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150406/6232c6f5/attachment.html>

From nyall.dawson at gmail.com  Mon Apr  6 03:08:16 2015
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 6 Apr 2015 20:08:16 +1000
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <1428094754796-5199942.post@n6.nabble.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
	<1428094754796-5199942.post@n6.nabble.com>
Message-ID: <CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>

On 3 April 2015 at 01:41, Bo Victor Thomsen <bo.victor.thomsen at gmail.com> wrote:
> As an old MapInfo user/developer my opion is: Don't do it. It has always
> been a problem in MapInfo and it will be a problem in QGIS - if implemented.

Count me in as another MapInfo graduate who has seen the mess which
multi-type tables cause and isn't in favour of this approach.

That said, I'm very interested in this conversation as it touches on
some thoughts/work I've been tackling lately. I think there's some big
improvements we can make as to how QGIS handles geometries in a layer.

I often work with layers which have a mix of null/not null geometries.
It's important for me to be able to easily edit tables of this form,
including adding new records with no geometry to the table. This isn't
currently (easily) achievable in QGIS. You can add geometries to an
existing record, remove the geometry from a record, add a new record
with a geometry but you can't add a record without a geometry.

I've been thinking of modifying the attribute table to show geometry
columns. This would be done via a new QgsGeometryWidget widget, which
would display the geometry type ((multi)point/line/polygon) and a
button with an attached menu for clear geometry/copy as wkt/copy as
geojson/paste geometry options. Actually, this is already written -
see https://github.com/nyalldawson/QGIS/commit/fc7c79fb322bf3f6d681bb3a013efea941517767
. This could be extended with the suggestions from
http://hub.qgis.org/issues/10283 and the functionality from the
plain-geometry-editor plugin.

Then, we could add a new "Add record" button to the attribute table
dialog for adding a new (empty) row, which would initially contain no
geometry. That fixes the first part of my issues with geometry
columns.

On 4 April 2015 at 07:59, R?gis Haubourg
<regis.haubourg at eau-adour-garonne.fr> wrote:

> The only thing annoying me currently is that QGIS "sees" all geometry
> columns when this slow down attribute view a lot. In 1.8 or before (can't
> remember), QGIS did not see them and that was fine to me, and avoided to
> type SQL in DBmanager to add correctly the data in QGIS.

This is my second big issue with geometry handling. I think the
solution would be to use the proposed QgsGeometryWidget as the default
editor for geometry columns in the dialog. This would avoid the issue
of massive WKT strings choking the table and grinding QGIS to a halt.
However, this relies on implementation of the suggestion from Martin
here:
http://osgeo-org.1560.x6.nabble.com/Multiple-geometry-columns-per-layer-tp5019573p5019895.html

If this suggestion was implemented, then it also opens the possibility
of having data defined geometry overrides for symbology/labeling. Eg,
a table could have an additional line geometry column for label
placement overrides. If this line geometry is not null then it would
be used as the geometry for label placement, otherwise it would fall
back to the actual feature's geometry. Think along the lines of
manually curved labels for selected polygons...

Nyall

From bernd.vogelgesang at gmx.de  Mon Apr  6 06:43:37 2015
From: bernd.vogelgesang at gmx.de (Bernd Vogelgesang)
Date: Mon, 06 Apr 2015 15:43:37 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <551FA093.3090404@sourcepole.ch>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551FA093.3090404@sourcepole.ch>
Message-ID: <op.xwoa2zfal2i25i@bernd-terra-pc>

Hi,

While reading this thread, I again stumbled upon the topic that QGIS is  
not able to handle arcs so far. Is that topic somehow also connect to the  
fact that each layer can only hold one type of geometry?

Cheers
Bernd



Am 04.04.2015, 10:28 Uhr, schrieb Marco Hugentobler  
<marco.hugentobler at sourcepole.ch>:

> Hi
>
> Yes, the implicit assumption that each layer has one geometry type  
> probably goes back to the shapefile. I agree it is a wrong >design from  
> QGIS to assume that and it is not in line with the logic of many  
> important datasources (Postgres, Oracle, MS SQL, WFS >and also some OGR  
> formats like dxf), therefore causing workarounds on the dataprovider  
> level to seperate db tables into several >layers. I think it is best (at  
> least in the long term) to have a logic compatible to the datasources  
> instead of doing workarounds >at provider and gui level.
>
> There are many places where this has an impact (e.g. symbology system,  
> editing). Therefore it will be good to break the 'one >geometry type'  
> assumption not before version 3. A first step could be to identify the  
> places in core/gui/app where changes would >be needed.
>
> @Nathan and Victor: I don't have experience with MapInfo. What is the  
> exact reason why multi-geometries have been user-unfriendly >there?
>
> Regards,
> Marco
>
>
>
> On 02.04.2015 13:52, Olivier Dalang wrote:
>> Hi,
>>
>> In some projects of mine, I work with multiple geometry types in one  
>> postgis table, using a column of type geometry>>(Geometry,4326).
>> This is very well supported by postgis.
>>
>> It is possible to load such a table in QGIS by manually selecting the  
>> geometry type you want to load. This means that >>to display all the  
>> features, you need to add the table three times, one for each feature  
>> type.
>>
>> This works more or less. There are a few bugs though :
>> - http://hub.qgis.org/issues/12499 (you can edit other type's node with  
>> the node tool)
>> - http://hub.qgis.org/issues/12500 (other type's records are shown in  
>> the attribute table)
>>
>> This also has some limitations. When having such a setup, it's pretty  
>> sure you'll want to have the same edit forms for >>all the layers.  
>> You'll also probably want the same filter, the same labels, the same  
>> actions, etc...
>> The only thing you'd want to be able to define on a geometry type basis  
>> are the symbol (well, even the classification/>>colors/etc could be  
>> shared) and the label placement.
>> For now, you must do all settings three times, because of this  
>> bug/feature request :
>> - http://hub.qgis.org/issues/12303 (copy/paste style from one geometry  
>> type to another)
>>
>>
>> As you see, support multiple geometry types in QGIS is not perfect.
>>
>> Of course it's possible to fix the bugs/pr, and there are some  
>> workarounds (postgis view instead of tables) but maybe >>it's also  
>> worth thinking a bit more in depth about this.
>>
>> We could consider point/line/polygons as subcategories/sublayers of a  
>> layer. A shapefile or a mono-typed table would >>have only one of those  
>> sublayer, but a postgis table could perfectly have the three. Most of  
>> the settings would be >>defined at the layer level, while only some  
>> settings would be defined at the subcategory level.
>>
>> This is probably especially relevant when thinking long term (the day  
>> we support 3D, curves, etc...).
>>
>>
>> What do you think ?
>> Do you think the relation 1 layer = 1 geometry type will hold ?
>>
>> I think we inherited this from the old shapefile format, but most data  
>> sources QGIS handles don't have this limitation. >>I also think it does  
>> not hold with quite a lot of modern GIS uses (especially web related,  
>> think of openstreetmaps for >>instance).
>>
>> There's this feature request (6th oldest open issue on the tracker)  
>> about postgis geometry collections  : http://>>hub.qgis.org/issues/167
>>
>>
>> Best,
>>
>> Olivier
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> --Dr. Marco Hugentobler
> Sourcepole -  Linux & Open Source Solutions
> Weberstrasse 5, CH-8004 Z?rich, Switzerland
> marco.hugentobler at sourcepole.ch http://www.sourcepole.ch
> Technical Advisor QGIS Project Steering Committee



-- 
Bernd Vogelgesang
Siedlerstra?e 2
91083 Baiersdorf/Igelsdorf
Tel: 09133-825374
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150406/f5dc9144/attachment.html>

From matthias at opengis.ch  Mon Apr  6 12:59:32 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 06 Apr 2015 21:59:32 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>	<551D5534.6060904@gmail.com>	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>	<551ED7FF.50301@opengis.ch>	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>	<1428094754796-5199942.post@n6.nabble.com>
	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
Message-ID: <5522E5A4.10106@opengis.ch>

Hi

On 04/06/2015 12:08 PM, Nyall Dawson wrote:
> Then, we could add a new "Add record" button to the attribute table
> dialog for adding a new (empty) row, which would initially contain no
> geometry. That fixes the first part of my issues with geometry
> columns.
That button should already be there for non-geometry layers. I wonder if
it would be sufficient to remove an if-clause around it.

Matthias

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150406/ee85f840/attachment.pgp>

From matthias at opengis.ch  Mon Apr  6 13:11:58 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 06 Apr 2015 22:11:58 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>	<551A500C.7000505@opengis.ch>	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>	<551A9819.3020900@opengis.ch>
	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>
Message-ID: <5522E88E.50000@opengis.ch>

Hi Junior,

The following lines work for a short test-case.

def compAdded( composer ):
  print composer

def compRemoved( composer ):
  print composer

iface.composerAdded.connect( compAdded )
iface.composerRemoved.connect( compRemoved )

It is possible that the QueuedConnection crashes because along with it a
composer is emitted which at the time the slot is executed is already
deleted. That was only a possible approach which I did not test and
reading your report seems unstable.

Matthias

On 04/06/2015 12:33 AM, Junior Delaz wrote:
> Hi,
> I do understand nothing.
> After I read your message, Matthias, I told myself that using QT.
> QueuedConnection should be the easiest way. Then i wrote
> self.iface.composerWillBeRemoved.connect(self.refreshList,
> Qt.QueuedConnection)
> But each time i delete a composer, QGIS crashes.
> So I've spent the week on reading about Qt.QueuedConnection and then
> signal and slots, function partial, QSignalMapper, sender trying to
> understand how I can catch the sender and manage to update my list.
> All this without success in the code.
> And today, I tried again Qt.QueuedConnection, QGIS crashed. Without
> any changes, I tried again and it worked and continues to work. Adding
> and deleting composer in the composer manager echoes in my list.
> I hope it will remain like that.
>
> But now I realize that I didn't take into account the renaming of a
> composer. :(
>
> I think I'd wisely keep the refreshlist button unless someone tells me
> how I can reach the composer manager dialog programmatically. So that
> I will try to synchronize my list with its widgetlistitems...
>
> Thanks for all...
>
>
> 2015-03-31 14:50 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
> <mailto:matthias at opengis.ch>>:
>
>     You should get a parameter containing the composer that is being
>     deleted with composerWillBeRemoved signal. Try to use that to
>     infer which composer has been removed. As the signal name
>     indicates, at the time it is emitted, the composer is not deleted yet.
>     As an alternative you may make the connection with
>     Qt.QueuedConnection. It is possible that with this connection
>     style you will receive the signal after deletion and are able to
>     continue using your current update method.
>
>     Best
>     Matthias
>
>
>     On 03/31/2015 02:04 PM, Junior Delaz wrote:
>>     Matthias,
>>     Thanks. I just give it a try it and all goes well with
>>     composerAdded.
>>     But not really well with composerWillBeRemoved signal. The first
>>     deletion in the composer manager does nothing and deleting a
>>     second composer does remove the first one in my list. and so on...
>>     My update function should be rewritten I think.  I'll try to see
>>     how improving it and may (surely) ask again for help (if needed).
>>
>>     While seeking information about composerWillBeRemoved, I found a
>>     composerRemoved [1] [2] signal (that doesn't appear in the API
>>     doc) and without being able to use it. :(
>>     [1]
>>     https://github.com/qgis/QGIS/blob/master/src/app/composer/qgscomposermanager.cpp
>>     (line 48
>>     [2] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>>     (line 5601)
>>
>>     Another thing that may not be related : what the
>>     deletePrintComposers function
>>     (https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>>     line 5698) is for?
>>
>>     Thanks again for the clue.
>>
>>     2015-03-31 9:43 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
>>     <mailto:matthias at opengis.ch>>:
>>
>>         QgisInterface (iface) has a composerAdded and
>>         composerWillBeRemoved signal.
>>
>>         Did you try to connect to these?
>>
>>         Best,
>>         Matthias
>>
>>
>>         On 03/31/2015 09:34 AM, Junior wrote:
>>>         Hi all, Luca
>>>         Thanks for answering. But i already have an update function
>>>         that I linked to an update list button. I even linked it to
>>>         the icon on the toolbar so that when user calls foreground
>>>         the dialog it's already updated.
>>>         The case I'd like to manage: user can open plugin dialog and
>>>         composer manager. The two dialogs are visible (to the eyes)
>>>         even though composer manager is the one at foreground. He
>>>         makes changes and directly clicked on the plugin dialog. He
>>>         should update list but if he forgets and executes, this may
>>>         lead to bug I don't want to / can't yet manage.
>>>         Reason why I want to ensure that list is always up to date
>>>         when he interacts with the dialog
>>>
>>>         Envoy? depuis mon HTC
>>>
>>>         ----- Reply message -----
>>>         De : "Luca Manganelli" <luca76 at gmail.com>
>>>         <mailto:luca76 at gmail.com>
>>>         Pour :
>>>         Cc : "qgis-user at lists.osgeo.org"
>>>         <mailto:qgis-user at lists.osgeo.org>
>>>         <qgis-user at lists.osgeo.org>
>>>         <mailto:qgis-user at lists.osgeo.org>, "qgis-developer"
>>>         <qgis-developer at lists.osgeo.org>
>>>         <mailto:qgis-developer at lists.osgeo.org>
>>>         Objet : [Qgis-developer] [Qgis-user] Pyqt4 : which signal is
>>>         sent when dialog comes to foreground?
>>>         Date : mar., mars 31, 2015 07:56
>>>
>>>         On Mon, Mar 30, 2015 at 6:12 PM, Junior Delaz <delazj at gmail.com> <mailto:delazj at gmail.com> wrote:
>>>         > I've read about defining a custom showEvent function but can't understand
>>>         > where to put it and what inside.
>>>         > If somebody can give some tips...
>>>
>>>         You could add a "Update list" button
>>>         _______________________________________________
>>>         Qgis-developer mailing list
>>>         Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>         _______________________________________________
>>>         Qgis-developer mailing list
>>>         Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>         _______________________________________________
>>         Qgis-developer mailing list
>>         Qgis-developer at lists.osgeo.org
>>         <mailto:Qgis-developer at lists.osgeo.org>
>>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150406/b5e121c9/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150406/b5e121c9/attachment.pgp>

From denis.rouzaud at gmail.com  Mon Apr  6 22:26:42 2015
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 07 Apr 2015 07:26:42 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <5522E5A4.10106@opengis.ch>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>	<551D5534.6060904@gmail.com>	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>	<551ED7FF.50301@opengis.ch>	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>	<1428094754796-5199942.post@n6.nabble.com>	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
	<5522E5A4.10106@opengis.ch>
Message-ID: <55236A92.7060701@gmail.com>

Instead of allowing mixed geometries, why not keeping the existing 
behavior but allow for additional geometry columns.

Hence, current API remains: you're still waiting for a type of geometry, 
and features have only one geometry.

But now, you allow to add additional geometries. They could be used in 
symbolization by adding rules for the additional geometries.

Thoughts?



On 04/06/2015 09:59 PM, Matthias Kuhn wrote:
> Hi
>
> On 04/06/2015 12:08 PM, Nyall Dawson wrote:
>> Then, we could add a new "Add record" button to the attribute table
>> dialog for adding a new (empty) row, which would initially contain no
>> geometry. That fixes the first part of my issues with geometry
>> columns.
> That button should already be there for non-geometry layers. I wonder if
> it would be sufficient to remove an if-clause around it.
>
> Matthias
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/14016477/attachment-0001.html>

From sitansu at gmail.com  Mon Apr  6 22:54:47 2015
From: sitansu at gmail.com (SBP)
Date: Mon, 6 Apr 2015 22:54:47 -0700 (PDT)
Subject: [Qgis-developer] Bug in rendering Rasters in QGIS 2.4 2.6 and
	2.8 in Windows
In-Reply-To: <1427966279403-5196587.post@n6.nabble.com>
References: <1427886241096-5196427.post@n6.nabble.com>
	<551BE2E4.5060200@worldonline.co.za>
	<CAMKXKO4X76LhJLc87_J89Y5w9yodGb+h4dbetNsx04y=+v3v0Q@mail.gmail.com>
	<1427966279403-5196587.post@n6.nabble.com>
Message-ID: <1428386087618-5200152.post@n6.nabble.com>

Anyone can share the steps to tag this as a bug so that the developers will
look at it ?
Regards,
Sitansu



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Bug-in-rendering-Rasters-in-QGIS-2-4-2-6-and-2-8-in-Windows-tp5196427p5200152.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From madmanwoo at gmail.com  Mon Apr  6 23:03:31 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Tue, 07 Apr 2015 06:03:31 +0000
Subject: [Qgis-developer] Bug in rendering Rasters in QGIS 2.4 2.6 and
 2.8 in Windows
In-Reply-To: <1428386087618-5200152.post@n6.nabble.com>
References: <1427886241096-5196427.post@n6.nabble.com>
	<551BE2E4.5060200@worldonline.co.za>
	<CAMKXKO4X76LhJLc87_J89Y5w9yodGb+h4dbetNsx04y=+v3v0Q@mail.gmail.com>
	<1427966279403-5196587.post@n6.nabble.com>
	<1428386087618-5200152.post@n6.nabble.com>
Message-ID: <CAAi8Yg_8m4LzxF0RE_TS9_tbYXm5Kq-LRqL0c7jPZRZ8Ca=wwA@mail.gmail.com>

Best bet is to open a ticket for it at hub.qgis.org.

- Nathan

On Tue, 7 Apr 2015 at 15:56 SBP <sitansu at gmail.com> wrote:

> Anyone can share the steps to tag this as a bug so that the developers will
> look at it ?
> Regards,
> Sitansu
>
>
>
> --
> View this message in context: http://osgeo-org.1560.x6.
> nabble.com/Bug-in-rendering-Rasters-in-QGIS-2-4-2-6-and-2-8-in-Windows-
> tp5196427p5200152.html
> Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/ec7df240/attachment.html>

From bernhard.stroebl at jena.de  Tue Apr  7 00:05:39 2015
From: bernhard.stroebl at jena.de (=?ISO-8859-1?Q?Bernhard_Str=F6bl?=)
Date: Tue, 07 Apr 2015 09:05:39 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <55236A92.7060701@gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>	<551D5534.6060904@gmail.com>	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>	<551ED7FF.50301@opengis.ch>	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>	<1428094754796-5199942.post@n6.nabble.com>	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>	<5522E5A4.10106@opengis.ch>
	<55236A92.7060701@gmail.com>
Message-ID: <552381C3.6080602@jena.de>

Hi,

as a PostGIS user I followed this thread until now and want to add my 2 
cents:
The "OpenGIS Simple Features Specification For SQL, Revision 1.1" from 
1999 stated geometry being an abstract class, so the limitation is 
rather 16 years old (not 25), although I do not know if it has been 
influenced by the shape file format :-). The latest document from 2007 
does not contain this passage any more [1].
However I never put geometries of different types into the same table.
Here is an example (as it was asked for one previosly in this thread): I 
have compensating measures for development in the city. They can be 
polygon (e.g. a pond), linestring (e.g. a hedgerow) or even points (e.g. 
trees). My workaround in the database is to seperate geometries and 
attributes in different tables. So one table with attributes and three 
tables with geometries all drawing their primary key from the same 
sequence. Foreign keys and triggers ensure data consistency.
Even if QGIS supported different geometry types in the same table I 
doubt I would use such a feature as this would be too complicated for my 
users (they sometimes already have problems understanding the notion of 
multi-geometries).

IMHO this is not a pressing issue as these rare cases can be accomodated 
with database design. But it is worth thinking about as the distinction 
is in fact somewhat artificial, but any implementation must be 
accompanied with a _very_ good GUI design because the users are used to 
this distinction. A more important step (IMHO) would be to be able to 
apply a style to a different geometry-type layer than it was made for 
and/or have settings on the group level (e.g. color, min/max scale ...).

Bernhard

[1] http://www.opengeospatial.org/standards/sfs

Am 07.04.2015 07:26, schrieb Denis Rouzaud:
> Instead of allowing mixed geometries, why not keeping the existing
> behavior but allow for additional geometry columns.
>
> Hence, current API remains: you're still waiting for a type of geometry,
> and features have only one geometry.
>
> But now, you allow to add additional geometries. They could be used in
> symbolization by adding rules for the additional geometries.
>
> Thoughts?
>
>
>
> On 04/06/2015 09:59 PM, Matthias Kuhn wrote:
>> Hi
>>
>> On 04/06/2015 12:08 PM, Nyall Dawson wrote:
>>> Then, we could add a new "Add record" button to the attribute table
>>> dialog for adding a new (empty) row, which would initially contain no
>>> geometry. That fixes the first part of my issues with geometry
>>> columns.
>> That button should already be there for non-geometry layers. I wonder if
>> it would be sufficient to remove an if-clause around it.
>>
>> Matthias
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>


__________ Information from ESET Mail Security, version of virus signature database 11434 (20150407) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From regis.haubourg at eau-adour-garonne.fr  Tue Apr  7 01:02:38 2015
From: regis.haubourg at eau-adour-garonne.fr (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 7 Apr 2015 01:02:38 -0700 (PDT)
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <552381C3.6080602@jena.de>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
	<1428094754796-5199942.post@n6.nabble.com>
	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
	<5522E5A4.10106@opengis.ch> <55236A92.7060701@gmail.com>
	<552381C3.6080602@jena.de>
Message-ID: <1428393758745-5200173.post@n6.nabble.com>

Hi, 
we must clarify some things in this topics:

 - Mapinfo handles only one geometry columns per table, but authorize mixed
geometry types inside of it. To me, there is no doubt we MUST NOT do this.

 - Spatial DB's recommend non mixed geometry types, but authorize mixed
collections, even if working with them is a lot more difficult and ends up
in separating feature type before using spatial operators. User is free to
add several nullable geometry columns to a table-class, or choose any
physical modelisation he wants. It is easy to make views or queries to show
a one geometry table to QGIS or Mapserver (almost all GIS are one - geometry
limited). We do that a lot (ie tables of watershed's here have three
geometry columns: "elementary watershed", "intermediate watershed", "total
watershed"), because it is a good modelisation with only on table to
identify objects.

The question here is how to handle to tables with more than one geometry
columns. By now, we need to avoid showing those geometry as WKT strings > 
this kills QGIS attribute table.

Using additionnal geometries to handle labeling paths is an interesting
path. FYI I am about to have a contractant work on a QEP (only a QEP by now)
on how to improve labeling with Callouts feature, paths storage for
annotations, manually curved labels, and map mask, masking labels too. ie:
"how to port easycustomlabeling and mask plugin nicely". We could discuss
the technical solutions there. 

Except for those underground solutions, I don't see how handling multi
geometry columns in QGIS GUI will improve user experience, without creating
some caveats and traps. Maybe some visual mockups can help here.  I agree
with Bernhard that we probably have more urgent features for basic GIS uses. 

Cheers,
 R?gis



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Thoughts-about-multi-type-tables-in-QGIS-tp5196607p5200173.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From enricofiore at libero.it  Tue Apr  7 01:47:26 2015
From: enricofiore at libero.it (Enrico Fiore)
Date: Tue, 7 Apr 2015 10:47:26 +0200 (CEST)
Subject: [Qgis-developer] Access to the value in a Relation reference wiget
Message-ID: <1855453688.61851428396446961.JavaMail.defaultUser@defaultHost>

Hi,
I am trying to acces to the value stored in a field defined as Relation Reference widget, I tried this code:

    dialog.findChild(QWidget,"fk_via_cod")

so I access to the object but not to the value.

I need to do something like this
     nameFieldDir = dialog.findChild(QLineEdit,"cod_direzione")

How I can perform this?

Regards

Enrico Fiore




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/c6f38fb7/attachment.html>

From olivier.dalang at gmail.com  Tue Apr  7 02:55:42 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Tue, 7 Apr 2015 11:55:42 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
	<1428094754796-5199942.post@n6.nabble.com>
	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
Message-ID: <CAExk7p3Q8J=_nGVMvmAHv79YYvgDWjEoZJ8Mn5Q_nZNd4dgwFw@mail.gmail.com>

Hi,

I think the topic of handling multiple geometry columns in one table and
the topic of handling multiple geometries types in one column are distinct.
They don't overlap and we can do one, or the other, or both.


*Multitypes*

I'm a bit surprised at how many of you have the strong opinion that
handling mixed geometries is a bad idea. The most recurring argument is
that Mapinfo did it, and it sucks.

So I'd still like a bit more details about what went so wrong with
Mapinfo... Here are Bo Victor's points.


You can't be sure abut the drawing order for different object types in a
> single layer. With multiple types you risk having a small object (ie point)
> being hidden by a larger object (ie a polygon) becuase the polygon is drawn
> "above" the point.


Couldn't we use QGIS drawing order options for this, to make sure that by
default, we have points, then lines, then polygons ?
The case can also happen where you want polygons in front of points, so
having the ability to change that using drawing order could even be
considered a feature.


Import tab files to different GIS systems that can't handle multi type
> layers. When you try to import 1 million object layer there is always
> 999999 objects of one type and 1 object of a different type - and the
> import will fail. This is confusing for a lot of users and irritating for
> the rest.


Yes that's true, but we are not talking about creating any new file type
here. The case you're talking about only happens when the user mistakenly
chooses to create a multityped column while he actually wanted to model
only a particular type of features. This won't happen most of the time,
since unexperienced users tend to use shapefiles that are mono typed. We
could consider adding some kind of warning in the UI before creating
multityped columns in spatialite/postgis, but honestly, at this point,
there are already tons of other possible mistakes for people who are
unfamiliar with GIS (single/multipart, 2d/3d, projection, nullable columns,
etc.).

Still, we'd have probably to implement something for exportation of
multityped layers to monotyped formats. It could be a bit like the "export
selected features only" checkbox, except that there would be radio buttons
to choose which type to export.


Thematics in MapInfo does not work properly when used on a multi object
> type layer


That really sounds like an implementation problem, or is there some
classification that are feature-type specific ?


It's a royal pain having to deal with all the possible situations in a
> MapBasic script when you have to deal with a layer with multiple object
> types. Suddenly a script will fail because it's trying make an otherwise
> legal operation on a type of object  its not supposed to deal with. You can
> of course remedy the situation with a lot of "if-then-else" type checking
> or "onerror" goto's but your scripts readability will be horrible.


Doesn't the solution of type-specific iterators solve this ? (plus the fact
that multityped layer wouldn't be considered as Point/Line/Polygon layers).



Bernard thanks for your use case.
But as you say, it's workarounds, and I'm pretty sure it gets confusing for
your user when they want to display say "all compensating features planned
after 2008", since they'll have to run the filter on all the three tables.
Even worse if they want to do some changes in the attributes using the
field calculator, they have to remember that each layer actually only shows
a third of the actual data, risking to cause some trouble if they don't...


About use cases, I have two that I'm currently meeting :

*Event data management*
I have a postgis table for historical events, which can be of any
geometrical type.
The events can have links to other events (using references like
previous_event_id).
Currently, I have to add the postgis table four times. Once for each
geometry type, plus once as a no-geometry table so that I can have the full
attribute table to be able to use the relations widget.
At this point, every setting (filtering, labels, actions, symbols...) must
be made four times, which starts to become annoying (could be improved :
#12303).
The file is also quite complex to use, because one must know that the four
different layers are actually the same.
All scripting around this setup becomes quite tricky since I have to check
four layers instead of one. Python actions that depend on selection are
very complex to do for instance : I need the reference to the other layers
that represent the same table, and must deal with four selections instead
of one.
And then there's the question of performance, where having four layers
probably results in having four times as many queries.

*CAD data in QGIS*
I have some CAD data (.dxf) that I want to be able to show in some projects
of mine. Those contain lines and polygons. Currently, I have to load the
layer twice, and do my filtering separately on each layer. Nothing
impossible, but still I need to do the same operation twice each time I
want to change my filters.

*Other cases...*
I think if one day we want QGIS to be able to work in write access to
formats like geojson or csv (with wkt representation), we'd need this kind
of support.
That would be great, and I definitely believe these kind of formats already
started to grow more and more important, so that we'll want to have that in
near future.



In short, I know in most cases it's much better to work with specific
geometry types. I'm not arguing against that at all, and I'm not saying we
should go towards using mixed-types file formats all over (that would
indeed be terrible).

It's just that there are some cases where the data you model is effectively
of mixed geometry types, and that the artificial separation of types brings
quite some complications to their editing and display in QGIS, while it's
pretty straightforward at database level.

And moreover, we would keep the possibility to load a mixed-type layer as a
mono-type layer (current implementation), so we wouldn't loose anything.



*Multi-columns*

Nyall I like your idea very much.
I always found it a bit disturbing not to see the geometry in the table
view, while it's just another column from a data point of view.
There are some things to think about from an UI point of view :
- distinguish the geometry column used by qgis to display the layer on the
map from the others
- would it be possible to sort the attribute table using some of the
geometries attribute you're mentioning ? (validity, number of points,
rings, etc.)
- make distinction between "delete geometry" and "delete record" very clear
(would there be a map tool to delete a geometry)
- probably allow to edit geometries directly on the map, rather than only
by entering wkt text (in case of edits of the main geometry, simply
activate the edit node tools on the chosen geometry, in case of edits on
another geometry, display it using an editable rubber band)

But if I get it correctly, your idea is to support other geometries merely
as attributes (with the specific fact that they can be used for things such
as label placement), not to support alternative geometries on the map
canvas, right ?
Denis is that what you were suggesting ?

(Well maybe it would be better to start another topic on this ;) )



At least all of this is food for thoughts !!

Best,

Olivier


2015-04-06 12:08 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:

> On 3 April 2015 at 01:41, Bo Victor Thomsen <bo.victor.thomsen at gmail.com>
> wrote:
> > As an old MapInfo user/developer my opion is: Don't do it. It has always
> > been a problem in MapInfo and it will be a problem in QGIS - if
> implemented.
>
> Count me in as another MapInfo graduate who has seen the mess which
> multi-type tables cause and isn't in favour of this approach.
>
> That said, I'm very interested in this conversation as it touches on
> some thoughts/work I've been tackling lately. I think there's some big
> improvements we can make as to how QGIS handles geometries in a layer.
>
> I often work with layers which have a mix of null/not null geometries.
> It's important for me to be able to easily edit tables of this form,
> including adding new records with no geometry to the table. This isn't
> currently (easily) achievable in QGIS. You can add geometries to an
> existing record, remove the geometry from a record, add a new record
> with a geometry but you can't add a record without a geometry.
>
> I've been thinking of modifying the attribute table to show geometry
> columns. This would be done via a new QgsGeometryWidget widget, which
> would display the geometry type ((multi)point/line/polygon) and a
> button with an attached menu for clear geometry/copy as wkt/copy as
> geojson/paste geometry options. Actually, this is already written -
> see
> https://github.com/nyalldawson/QGIS/commit/fc7c79fb322bf3f6d681bb3a013efea941517767
> . This could be extended with the suggestions from
> http://hub.qgis.org/issues/10283 and the functionality from the
> plain-geometry-editor plugin.
>
> Then, we could add a new "Add record" button to the attribute table
> dialog for adding a new (empty) row, which would initially contain no
> geometry. That fixes the first part of my issues with geometry
> columns.
>
> On 4 April 2015 at 07:59, R?gis Haubourg
> <regis.haubourg at eau-adour-garonne.fr> wrote:
>
> > The only thing annoying me currently is that QGIS "sees" all geometry
> > columns when this slow down attribute view a lot. In 1.8 or before (can't
> > remember), QGIS did not see them and that was fine to me, and avoided to
> > type SQL in DBmanager to add correctly the data in QGIS.
>
> This is my second big issue with geometry handling. I think the
> solution would be to use the proposed QgsGeometryWidget as the default
> editor for geometry columns in the dialog. This would avoid the issue
> of massive WKT strings choking the table and grinding QGIS to a halt.
> However, this relies on implementation of the suggestion from Martin
> here:
>
> http://osgeo-org.1560.x6.nabble.com/Multiple-geometry-columns-per-layer-tp5019573p5019895.html
>
> If this suggestion was implemented, then it also opens the possibility
> of having data defined geometry overrides for symbology/labeling. Eg,
> a table could have an additional line geometry column for label
> placement overrides. If this line geometry is not null then it would
> be used as the geometry for label placement, otherwise it would fall
> back to the actual feature's geometry. Think along the lines of
> manually curved labels for selected polygons...
>
> Nyall
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/056b9bd4/attachment-0001.html>

From royroge at outlook.com  Tue Apr  7 04:21:54 2015
From: royroge at outlook.com (Roy)
Date: Tue, 7 Apr 2015 13:21:54 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p3Q8J=_nGVMvmAHv79YYvgDWjEoZJ8Mn5Q_nZNd4dgwFw@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>	<551D5534.6060904@gmail.com>	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>	<551ED7FF.50301@opengis.ch>	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>	<1428094754796-5199942.post@n6.nabble.com>	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
	<CAExk7p3Q8J=_nGVMvmAHv79YYvgDWjEoZJ8Mn5Q_nZNd4dgwFw@mail.gmail.com>
Message-ID: <BLU436-SMTP398FDAA323CFF83478BCEAA7FD0@phx.gbl>



Il 07/04/2015 11.55, Olivier Dalang ha scritto:

> _Event data management_
> I have a postgis table for historical events, which can be of any 
> geometrical type.
> The events can have links to other events (using references like 
> previous_event_id).
> Currently, I have to add the postgis table four times. Once for each 
> geometry type, plus once as a no-geometry table so that I can have the 
> full attribute table to be able to use the relations widget.
> At this point, every setting (filtering, labels, actions, symbols...) 
> must be made four times,

In general I think that we end up defining different symbols for 
different geometries anyway, i do not see how a point and an area can 
have the
same simbology; also there are specific postgis functions that make 
sense to use for specific geometry (i.e. ST_Area).
I do not want to say that i'm against the idea of mixing geometries, but 
to me it sounds a bit like loading "varchar" and "float" in the same column
and eventually ending introducing more complications than benefits, just 
my opinion,

best, Roy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/739f6126/attachment.html>

From olivier.dalang at gmail.com  Tue Apr  7 05:11:32 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Tue, 7 Apr 2015 14:11:32 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <BLU436-SMTP398FDAA323CFF83478BCEAA7FD0@phx.gbl>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
	<1428094754796-5199942.post@n6.nabble.com>
	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
	<CAExk7p3Q8J=_nGVMvmAHv79YYvgDWjEoZJ8Mn5Q_nZNd4dgwFw@mail.gmail.com>
	<BLU436-SMTP398FDAA323CFF83478BCEAA7FD0@phx.gbl>
Message-ID: <CAExk7p2OriRUr6o1N-re2xZ=Q3K-sSuOnaBu2-hofsSvu9ROSQ@mail.gmail.com>

>
>  I think that we end up defining different symbols for different
> geometries anyway


That's not completely true. The main color could be shared across all
geometry types. The point style could be used by linestrings and polygons
nodes. The linestring style could be used by the polygon edges. It's more
or less how Leaflet does it, and it works fairly well.



> to me it sounds a bit like loading "varchar" and "float" in the same column


That's exactly what it is not. Generic geometry is a valid and well defined
type, and postgis functions behave very well with it. ST_Area for instance
will return 0 for a point or a line, which is an accurate result and makes
sense.
And while some functions are type-specific, most functions work and make
sense on all types (spatial relations, buffer, bounding boxes, validity,
transformation, simplification, conversion...).

If you split your data in different tables (or columns), you loose the
ability to use any of those functions on all your records at once (without
some complex query that won't be doable in QGIS UI), which IMO is really a
pity...



2015-04-07 13:21 GMT+02:00 Roy <royroge at outlook.com>:

>
>
> Il 07/04/2015 11.55, Olivier Dalang ha scritto:
>
>   *Event data management*
> I have a postgis table for historical events, which can be of any
> geometrical type.
> The events can have links to other events (using references like
> previous_event_id).
> Currently, I have to add the postgis table four times. Once for each
> geometry type, plus once as a no-geometry table so that I can have the full
> attribute table to be able to use the relations widget.
> At this point, every setting (filtering, labels, actions, symbols...) must
> be made four times,
>
>
> In general I think that we end up defining different symbols for different
> geometries anyway, i do not see how a point and an area can have the
> same simbology; also there are specific postgis functions that make sense
> to use for specific geometry (i.e. ST_Area).
> I do not want to say that i'm against the idea of mixing geometries, but
> to me it sounds a bit like loading "varchar" and "float" in the same column
> and eventually ending introducing more complications than benefits, just
> my opinion,
>
> best, Roy.
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/2d10da9a/attachment.html>

From saber.razmjooei at lutraconsulting.co.uk  Tue Apr  7 05:46:48 2015
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Tue, 7 Apr 2015 13:46:48 +0100
Subject: [Qgis-developer] Fun Run/Walk during HF
Message-ID: <352fe01d07130$ea1a1090$be4e31b0$@lutraconsulting.co.uk>

Dear all, 

 

If you are attending the HF next month and would like to participate in a 5k
run/walk on 20/05 at 7:00 am , please add your name here:

https://hub.qgis.org/wiki/quantum-gis/13_QGIS_Developer_Meeting_in_Copenhage
n_2015

 

I will confirm the route and details in due course!

 

Cheers,

Saber

 



--
This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed.
If you have received this email in error please notify the system manager. This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately
by e-mail if you have received this e-mail by mistake and delete this e-mail from your system. If you are not the intended recipient you are notified
that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.

Whilst reasonable care has been taken to avoid virus transmission, no responsibility for viruses is taken and it is your responsibility to carry out
such checks as you feel appropriate.

If this email contains a quote or offer to sell products, carry out work or perform services then our standard terms and conditions (which can be found at http://www.lutraconsulting.co.uk/downloads/Lutra%20Consulting%20Standard%20Terms%20and%20Conditions.pdf shall apply unless explicitly stated otherwise.

Saber Razmjooei and Peter Wells trading as Lutra Consulting.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/7dab868a/attachment.html>

From lfi at ign.ku.dk  Tue Apr  7 06:11:38 2015
From: lfi at ign.ku.dk (Lene Fischer)
Date: Tue, 7 Apr 2015 13:11:38 +0000
Subject: [Qgis-developer] Fun Run/Walk during HF
In-Reply-To: <352fe01d07130$ea1a1090$be4e31b0$@lutraconsulting.co.uk>
References: <352fe01d07130$ea1a1090$be4e31b0$@lutraconsulting.co.uk>
Message-ID: <38497AD9CA059C42AA3451EFEFF0378ED7240A09@P1KITMBX03WC02.unicph.domain>

Great idea - my students has already made maps for activity like that - pleased you have added Walk :)
Regards


Lene Fischer
Associate Professor

Department of Geosciences and Natural Resource Management
University of Copenhagen

MOB +45 40115084
lfi at ign.ku.dk<mailto:lfi at ign.ku.dk>


[cid:image001.gif at 01D03029.2F3EC6A0]



Fra: qgis-developer-bounces at lists.osgeo.org [mailto:qgis-developer-bounces at lists.osgeo.org] P? vegne af Saber Razmjooei
Sendt: 7. april 2015 14:47
Til: qgis-developer at lists.osgeo.org
Emne: [Qgis-developer] Fun Run/Walk during HF

Dear all,

If you are attending the HF next month and would like to participate in a 5k run/walk on 20/05 at 7:00 am , please add your name here:
https://hub.qgis.org/wiki/quantum-gis/13_QGIS_Developer_Meeting_in_Copenhagen_2015

I will confirm the route and details in due course!

Cheers,
Saber


________________________________

This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed. If you have received this email in error please notify the system manager. This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately by e-mail if you have received this e-mail by mistake and delete this e-mail from your system. If you are not the intended recipient you are notified that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.

Whilst reasonable care has been taken to avoid virus transmission, no responsibility for viruses is taken and it is your responsibility to carry out such checks as you feel appropriate.

If this email contains a quote or offer to sell products, carry out work or perform services then our standard terms and conditions<http://www.lutraconsulting.co.uk/downloads/Lutra%20Consulting%20Standard%20Terms%20and%20Conditions.pdf> shall apply unless explicitly stated otherwise.

Saber Razmjooei and Peter Wells trading as Lutra Consulting.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/22b13659/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.gif
Type: image/gif
Size: 4863 bytes
Desc: image001.gif
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/22b13659/attachment-0001.gif>

From regis.haubourg at eau-adour-garonne.fr  Tue Apr  7 06:34:33 2015
From: regis.haubourg at eau-adour-garonne.fr (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 7 Apr 2015 06:34:33 -0700 (PDT)
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p2OriRUr6o1N-re2xZ=Q3K-sSuOnaBu2-hofsSvu9ROSQ@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
	<1428094754796-5199942.post@n6.nabble.com>
	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
	<CAExk7p3Q8J=_nGVMvmAHv79YYvgDWjEoZJ8Mn5Q_nZNd4dgwFw@mail.gmail.com>
	<BLU436-SMTP398FDAA323CFF83478BCEAA7FD0@phx.gbl>
	<CAExk7p2OriRUr6o1N-re2xZ=Q3K-sSuOnaBu2-hofsSvu9ROSQ@mail.gmail.com>
Message-ID: <1428413673658-5200242.post@n6.nabble.com>





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Thoughts-about-multi-type-tables-in-QGIS-tp5196607p5200242.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From regis.haubourg at eau-adour-garonne.fr  Tue Apr  7 06:39:31 2015
From: regis.haubourg at eau-adour-garonne.fr (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 7 Apr 2015 06:39:31 -0700 (PDT)
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <CAExk7p2OriRUr6o1N-re2xZ=Q3K-sSuOnaBu2-hofsSvu9ROSQ@mail.gmail.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
	<1428094754796-5199942.post@n6.nabble.com>
	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
	<CAExk7p3Q8J=_nGVMvmAHv79YYvgDWjEoZJ8Mn5Q_nZNd4dgwFw@mail.gmail.com>
	<BLU436-SMTP398FDAA323CFF83478BCEAA7FD0@phx.gbl>
	<CAExk7p2OriRUr6o1N-re2xZ=Q3K-sSuOnaBu2-hofsSvu9ROSQ@mail.gmail.com>
Message-ID: <1428413971361-5200245.post@n6.nabble.com>

olivier wrote
> 
>> to me it sounds a bit like loading "varchar" and "float" in the same
>> column
> 
> 
> That's exactly what it is not. Generic geometry is a valid and well
> defined
> type, and postgis functions behave very well with it. ST_Area for instance
> will return 0 for a point or a line, which is an accurate result and makes
> sense.
> And while some functions are type-specific, most functions work and make
> sense on all types (spatial relations, buffer, bounding boxes, validity,
> transformation, simplification, conversion...).
> 
> If you split your data in different tables (or columns), you loose the
> ability to use any of those functions on all your records at once (without
> some complex query that won't be doable in QGIS UI), which IMO is really a
> pity...

 Hi , to me, most QGIS geometric operators assume one geometry type. Can you
explain what king of generic operation you have in mind ? 

I think that doing this will generate a complete refactoring of:
- all processing scripts
- all ftools 
- all plugins assuming one geometry.

Again, I can't see from how in QGIS GUI that can improve things for most
users, without making it more heavy and complex. And that would be very
costy. Any mockup welcome, that can help me change my opinion.. 
All the best, 
R?gis




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Thoughts-about-multi-type-tables-in-QGIS-tp5196607p5200245.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From saber.razmjooei at lutraconsulting.co.uk  Tue Apr  7 08:28:10 2015
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Tue, 7 Apr 2015 16:28:10 +0100
Subject: [Qgis-developer] Fun Run/Walk during HF
In-Reply-To: <38497AD9CA059C42AA3451EFEFF0378ED7240A09@P1KITMBX03WC02.unicph.domain>
References: <352fe01d07130$ea1a1090$be4e31b0$@lutraconsulting.co.uk>
	<38497AD9CA059C42AA3451EFEFF0378ED7240A09@P1KITMBX03WC02.unicph.domain>
Message-ID: <3534401d07147$74f319d0$5ed94d70$@lutraconsulting.co.uk>

Brilliant Lene, let me know where those maps are so that we can plan the
route once there.

 

Thanks,

Saber

 

From: Lene Fischer [mailto:lfi at ign.ku.dk] 
Sent: 07 April 2015 14:12
To: Saber Razmjooei; qgis-developer at lists.osgeo.org
Subject: SV: [Qgis-developer] Fun Run/Walk during HF

 

Great idea ? my students has already made maps for activity like that ?
pleased you have added Walk J

Regards

 

 

Lene Fischer

Associate Professor

 

Department of Geosciences and Natural Resource Management

University of Copenhagen

 

MOB +45 40115084

 <mailto:lfi at ign.ku.dk> lfi at ign.ku.dk

 

 

cid:image001.gif at 01D03029.2F3EC6A0

 

 

 

Fra: qgis-developer-bounces at lists.osgeo.org
[mailto:qgis-developer-bounces at lists.osgeo.org] P? vegne af Saber Razmjooei
Sendt: 7. april 2015 14:47
Til: qgis-developer at lists.osgeo.org
Emne: [Qgis-developer] Fun Run/Walk during HF

 

Dear all, 

 

If you are attending the HF next month and would like to participate in a 5k
run/walk on 20/05 at 7:00 am , please add your name here:

https://hub.qgis.org/wiki/quantum-gis/13_QGIS_Developer_Meeting_in_Copenhage
n_2015

 

I will confirm the route and details in due course!

 

Cheers,

Saber

 

 

  _____  

This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you have received this email in error please notify the system manager.
This message contains confidential information and is intended only for the
individual named. If you are not the named addressee you should not
disseminate, distribute or copy this e-mail. Please notify the sender
immediately by e-mail if you have received this e-mail by mistake and delete
this e-mail from your system. If you are not the intended recipient you are
notified that disclosing, copying, distributing or taking any action in
reliance on the contents of this information is strictly prohibited.

Whilst reasonable care has been taken to avoid virus transmission, no
responsibility for viruses is taken and it is your responsibility to carry
out such checks as you feel appropriate.

If this email contains a quote or offer to sell products, carry out work or
perform services then our standard terms and conditions
<http://www.lutraconsulting.co.uk/downloads/Lutra%20Consulting%20Standard%20
Terms%20and%20Conditions.pdf>  shall apply unless explicitly stated
otherwise.

Saber Razmjooei and Peter Wells trading as Lutra Consulting.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/517986c9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.gif
Type: image/gif
Size: 4863 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/517986c9/attachment-0001.gif>

From matthias at opengis.ch  Tue Apr  7 08:52:15 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 07 Apr 2015 17:52:15 +0200
Subject: [Qgis-developer] Access to the value in a Relation reference
 wiget
In-Reply-To: <1855453688.61851428396446961.JavaMail.defaultUser@defaultHost>
References: <1855453688.61851428396446961.JavaMail.defaultUser@defaultHost>
Message-ID: <5523FD2F.3070208@opengis.ch>

You try get a QgsRelationReferenceWidget (in qgis.gui) (not sure though
if specifying this explicitly makes any difference in python though, it
should determine the real type anyway).

The methods you are looking for are then

setForeignKey()
http://qgis.org/api/classQgsRelationReferenceWidget.html#a2e9fb74545d2bb4b697a88ca4e434600

and

foreignKey()
http://qgis.org/api/classQgsRelationReferenceWidget.html#af1765af438f3dd4e642334a338a03ca4

Best,
Matthias

On 04/07/2015 10:47 AM, Enrico Fiore wrote:
> Hi,
> I am trying to acces to the value stored in a field defined as
> Relation Reference widget, I tried this code:
>
>     dialog.findChild(QWidget,"fk_via_cod")
>
> so I access to the object but not to the value.
>
> I need to do something like this
>      nameFieldDir = dialog.findChild(QLineEdit,"cod_direzione")
>
> How I can perform this?
>
> Regards
>
> Enrico Fiore
>
>
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/e1a7b4c5/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/e1a7b4c5/attachment.pgp>

From delazj at gmail.com  Tue Apr  7 13:07:48 2015
From: delazj at gmail.com (Junior Delaz)
Date: Tue, 7 Apr 2015 22:07:48 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <5522E88E.50000@opengis.ch>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>
	<551A500C.7000505@opengis.ch>
	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>
	<551A9819.3020900@opengis.ch>
	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>
	<5522E88E.50000@opengis.ch>
Message-ID: <CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>

Thank you Matthias for your perseverance. It's very helpful and encouraging
for beginners.
I have already tried composerRemoved but when loading the plugin, QGIS
complains :

Impossible de charger l'extension MapsPrinter provoque une erreur lors de
l'appel de sa m?thode initGui()

Traceback (most recent call last):
  File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 228, in startPlugin
    plugins[packageName].initGui()
  File "C:/Users/harrissou/.qgis2/python/plugins\MapsPrinter\maps_printer.py",
line 129, in initGui
    self.iface.composerRemoved.connect(self.refreshList)
AttributeError: 'QgisInterface' object has no attribute 'composerRemoved'

This happens with all the versions of QGIS I use :
- osgeo4w 32bits (windows 8), osgeo4w 64bits (windows 7): either with
QGIS 2.8, 2.8rel-dev and 2.9
- and Mac OS 10.9 (it is a QGIS 2.4 but composerRemoved is supposed to
have been added since QGIS 2.3 [0])

About Qt.QueuedConnection, my first tests were on the Mac OS (x86-64)
and Osgeo4w 64bits versions. But I never encountered crash with the 32
bits version, using the same code. Can the bug be bound to the
architecture?

[0] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.h#L1260


2015-04-06 22:11 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

>  Hi Junior,
>
> The following lines work for a short test-case.
>
> def compAdded( composer ):
>   print composer
>
> def compRemoved( composer ):
>   print composer
>
> iface.composerAdded.connect( compAdded )
> iface.composerRemoved.connect( compRemoved )
>
> It is possible that the QueuedConnection crashes because along with it a
> composer is emitted which at the time the slot is executed is already
> deleted. That was only a possible approach which I did not test and reading
> your report seems unstable.
>
> Matthias
>
>
> On 04/06/2015 12:33 AM, Junior Delaz wrote:
>
>  Hi,
>  I do understand nothing.
>  After I read your message, Matthias, I told myself that using QT.
> QueuedConnection should be the easiest way. Then i wrote
> self.iface.composerWillBeRemoved.connect(self.refreshList,
> Qt.QueuedConnection)
> But each time i delete a composer, QGIS crashes.
>  So I've spent the week on reading about Qt.QueuedConnection and then
> signal and slots, function partial, QSignalMapper, sender trying to
> understand how I can catch the sender and manage to update my list. All
> this without success in the code.
>  And today, I tried again Qt.QueuedConnection, QGIS crashed. Without any
> changes, I tried again and it worked and continues to work. Adding and
> deleting composer in the composer manager echoes in my list.
>  I hope it will remain like that.
>
>  But now I realize that I didn't take into account the renaming of a
> composer. :(
>
>  I think I'd wisely keep the refreshlist button unless someone tells me
> how I can reach the composer manager dialog programmatically. So that I
> will try to synchronize my list with its widgetlistitems...
>
>  Thanks for all...
>
>
> 2015-03-31 14:50 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>
>>  You should get a parameter containing the composer that is being deleted
>> with composerWillBeRemoved signal. Try to use that to infer which composer
>> has been removed. As the signal name indicates, at the time it is emitted,
>> the composer is not deleted yet.
>> As an alternative you may make the connection with Qt.QueuedConnection.
>> It is possible that with this connection style you will receive the signal
>> after deletion and are able to continue using your current update method.
>>
>> Best
>> Matthias
>>
>>
>> On 03/31/2015 02:04 PM, Junior Delaz wrote:
>>
>>    Matthias,
>>  Thanks. I just give it a try it and all goes well with composerAdded.
>>  But not really well with composerWillBeRemoved signal. The first
>> deletion in the composer manager does nothing and deleting a second
>> composer does remove the first one in my list. and so on...
>> My update function should be rewritten I think.  I'll try to see how
>> improving it and may (surely) ask again for help (if needed).
>>
>>  While seeking information about composerWillBeRemoved, I found a
>> composerRemoved [1] [2] signal (that doesn't appear in the API doc) and
>> without being able to use it. :(
>> [1]
>> https://github.com/qgis/QGIS/blob/master/src/app/composer/qgscomposermanager.cpp
>> (line 48
>> [2] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp (line
>> 5601)
>>
>>  Another thing that may not be related : what the deletePrintComposers
>> function (https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>> line 5698) is for?
>>
>> Thanks again for the clue.
>>
>> 2015-03-31 9:43 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>>
>>>  QgisInterface (iface) has a composerAdded and composerWillBeRemoved
>>> signal.
>>>
>>> Did you try to connect to these?
>>>
>>> Best,
>>> Matthias
>>>
>>>
>>> On 03/31/2015 09:34 AM, Junior wrote:
>>>
>>>  Hi all, Luca
>>> Thanks for answering. But i already have an update function that I
>>> linked to an update list button. I even linked it to the icon on the
>>> toolbar so that when user calls foreground the dialog it's already updated.
>>> The case I'd like to manage: user can open plugin dialog and composer
>>> manager. The two dialogs are visible (to the eyes) even though composer
>>> manager is the one at foreground. He makes changes and directly clicked on
>>> the plugin dialog. He should update list but if he forgets and executes,
>>> this may lead to bug I don't want to / can't yet manage.
>>> Reason why I want to ensure that list is always up to date when he
>>> interacts with the dialog
>>>
>>>  Envoy? depuis mon HTC
>>>
>>> ----- Reply message -----
>>> De : "Luca Manganelli" <luca76 at gmail.com> <luca76 at gmail.com>
>>> Pour :
>>> Cc : "qgis-user at lists.osgeo.org" <qgis-user at lists.osgeo.org>
>>> <qgis-user at lists.osgeo.org> <qgis-user at lists.osgeo.org>,
>>> "qgis-developer" <qgis-developer at lists.osgeo.org>
>>> <qgis-developer at lists.osgeo.org>
>>> Objet : [Qgis-developer] [Qgis-user] Pyqt4 : which signal is sent when
>>> dialog comes to foreground?
>>> Date : mar., mars 31, 2015 07:56
>>>
>>> On Mon, Mar 30, 2015 at 6:12 PM, Junior Delaz <delazj at gmail.com> <delazj at gmail.com> wrote:
>>> > I've read about defining a custom showEvent function but can't understand
>>> > where to put it and what inside.
>>> > If somebody can give some tips...
>>>
>>> You could add a "Update list" button
>>> _______________________________________________
>>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>> _______________________________________________
>>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/3c78f7d5/attachment.html>

From matthias at opengis.ch  Tue Apr  7 14:35:47 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 07 Apr 2015 23:35:47 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>	<551A500C.7000505@opengis.ch>	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>	<551A9819.3020900@opengis.ch>	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>	<5522E88E.50000@opengis.ch>
	<CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>
Message-ID: <55244DB3.2020102@opengis.ch>

Oops,

That should have been composerWillBeRemoved

Sorry for that...

Matthias

On 04/07/2015 10:07 PM, Junior Delaz wrote:
> Thank you Matthias for your perseverance. It's very helpful and
> encouraging for beginners.
> I have already tried composerRemoved but when loading the plugin, QGIS
> complains :
>
> Impossible de charger l'extension MapsPrinter provoque une erreur lors
> de l'appel de sa m?thode initGui()
> Traceback (most recent call last):
>   File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 228, in startPlugin
>     plugins[packageName].initGui()
>   File "C:/Users/harrissou/.qgis2/python/plugins\MapsPrinter\maps_printer.py", line 129, in initGui
>     self.iface.composerRemoved.connect(self.refreshList)
> AttributeError: 'QgisInterface' object has no attribute 'composerRemoved'
>
> This happens with all the versions of QGIS I use :
> - osgeo4w 32bits (windows 8), osgeo4w 64bits (windows 7): either with QGIS 2.8, 2.8rel-dev and 2.9
> - and Mac OS 10.9 (it is a QGIS 2.4 but composerRemoved is supposed to have been added since QGIS 2.3 [0])
>
> About Qt.QueuedConnection, my first tests were on the Mac OS (x86-64) and Osgeo4w 64bits versions. But I never encountered crash with the 32 bits version, using the same code. Can the bug be bound to the architecture?
> [0] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.h#L1260
>
> 2015-04-06 22:11 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
> <mailto:matthias at opengis.ch>>:
>
>     Hi Junior,
>
>     The following lines work for a short test-case.
>
>     def compAdded( composer ):
>       print composer
>
>     def compRemoved( composer ):
>       print composer
>
>     iface.composerAdded.connect( compAdded )
>     iface.composerRemoved.connect( compRemoved )
>
>     It is possible that the QueuedConnection crashes because along
>     with it a composer is emitted which at the time the slot is
>     executed is already deleted. That was only a possible approach
>     which I did not test and reading your report seems unstable.
>
>     Matthias
>
>
>     On 04/06/2015 12:33 AM, Junior Delaz wrote:
>>     Hi,
>>     I do understand nothing.
>>     After I read your message, Matthias, I told myself that using QT.
>>     QueuedConnection should be the easiest way. Then i wrote
>>     self.iface.composerWillBeRemoved.connect(self.refreshList,
>>     Qt.QueuedConnection)
>>     But each time i delete a composer, QGIS crashes.
>>     So I've spent the week on reading about Qt.QueuedConnection and
>>     then signal and slots, function partial, QSignalMapper, sender
>>     trying to understand how I can catch the sender and manage to
>>     update my list. All this without success in the code.
>>     And today, I tried again Qt.QueuedConnection, QGIS crashed.
>>     Without any changes, I tried again and it worked and continues to
>>     work. Adding and deleting composer in the composer manager echoes
>>     in my list.
>>     I hope it will remain like that.
>>
>>     But now I realize that I didn't take into account the renaming of
>>     a composer. :(
>>
>>     I think I'd wisely keep the refreshlist button unless someone
>>     tells me how I can reach the composer manager dialog
>>     programmatically. So that I will try to synchronize my list with
>>     its widgetlistitems...
>>
>>     Thanks for all...
>>
>>
>>     2015-03-31 14:50 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
>>     <mailto:matthias at opengis.ch>>:
>>
>>         You should get a parameter containing the composer that is
>>         being deleted with composerWillBeRemoved signal. Try to use
>>         that to infer which composer has been removed. As the signal
>>         name indicates, at the time it is emitted, the composer is
>>         not deleted yet.
>>         As an alternative you may make the connection with
>>         Qt.QueuedConnection. It is possible that with this connection
>>         style you will receive the signal after deletion and are able
>>         to continue using your current update method.
>>
>>         Best
>>         Matthias
>>
>>
>>         On 03/31/2015 02:04 PM, Junior Delaz wrote:
>>>         Matthias,
>>>         Thanks. I just give it a try it and all goes well with
>>>         composerAdded.
>>>         But not really well with composerWillBeRemoved signal. The
>>>         first deletion in the composer manager does nothing and
>>>         deleting a second composer does remove the first one in my
>>>         list. and so on...
>>>         My update function should be rewritten I think.  I'll try to
>>>         see how improving it and may (surely) ask again for help (if
>>>         needed).
>>>
>>>         While seeking information about composerWillBeRemoved, I
>>>         found a composerRemoved [1] [2] signal (that doesn't appear
>>>         in the API doc) and without being able to use it. :(
>>>         [1]
>>>         https://github.com/qgis/QGIS/blob/master/src/app/composer/qgscomposermanager.cpp
>>>         (line 48
>>>         [2]
>>>         https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>>>         (line 5601)
>>>
>>>         Another thing that may not be related : what the
>>>         deletePrintComposers function
>>>         (https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp line
>>>         5698) is for?
>>>
>>>         Thanks again for the clue.
>>>
>>>         2015-03-31 9:43 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
>>>         <mailto:matthias at opengis.ch>>:
>>>
>>>             QgisInterface (iface) has a composerAdded and
>>>             composerWillBeRemoved signal.
>>>
>>>             Did you try to connect to these?
>>>
>>>             Best,
>>>             Matthias
>>>
>>>
>>>             On 03/31/2015 09:34 AM, Junior wrote:
>>>>             Hi all, Luca
>>>>             Thanks for answering. But i already have an update
>>>>             function that I linked to an update list button. I even
>>>>             linked it to the icon on the toolbar so that when user
>>>>             calls foreground the dialog it's already updated.
>>>>             The case I'd like to manage: user can open plugin
>>>>             dialog and composer manager. The two dialogs are
>>>>             visible (to the eyes) even though composer manager is
>>>>             the one at foreground. He makes changes and directly
>>>>             clicked on the plugin dialog. He should update list but
>>>>             if he forgets and executes, this may lead to bug I
>>>>             don't want to / can't yet manage.
>>>>             Reason why I want to ensure that list is always up to
>>>>             date when he interacts with the dialog
>>>>
>>>>             Envoy? depuis mon HTC
>>>>
>>>>             ----- Reply message -----
>>>>             De : "Luca Manganelli" <luca76 at gmail.com>
>>>>             <mailto:luca76 at gmail.com>
>>>>             Pour :
>>>>             Cc : "qgis-user at lists.osgeo.org"
>>>>             <mailto:qgis-user at lists.osgeo.org>
>>>>             <qgis-user at lists.osgeo.org>
>>>>             <mailto:qgis-user at lists.osgeo.org>, "qgis-developer"
>>>>             <qgis-developer at lists.osgeo.org>
>>>>             <mailto:qgis-developer at lists.osgeo.org>
>>>>             Objet : [Qgis-developer] [Qgis-user] Pyqt4 : which
>>>>             signal is sent when dialog comes to foreground?
>>>>             Date : mar., mars 31, 2015 07:56
>>>>
>>>>             On Mon, Mar 30, 2015 at 6:12 PM, Junior Delaz <delazj at gmail.com> <mailto:delazj at gmail.com> wrote:
>>>>             > I've read about defining a custom showEvent function but can't understand
>>>>             > where to put it and what inside.
>>>>             > If somebody can give some tips...
>>>>
>>>>             You could add a "Update list" button
>>>>             _______________________________________________
>>>>             Qgis-developer mailing list
>>>>             Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>>>             http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>>             _______________________________________________
>>>>             Qgis-developer mailing list
>>>>             Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>>>             http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>             _______________________________________________
>>>             Qgis-developer mailing list
>>>             Qgis-developer at lists.osgeo.org
>>>             <mailto:Qgis-developer at lists.osgeo.org>
>>>             http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>
>>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/1b62faa1/attachment-0001.html>

From delazj at gmail.com  Tue Apr  7 14:51:20 2015
From: delazj at gmail.com (Junior Delaz)
Date: Tue, 7 Apr 2015 23:51:20 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <55244DB3.2020102@opengis.ch>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>
	<551A500C.7000505@opengis.ch>
	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>
	<551A9819.3020900@opengis.ch>
	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>
	<5522E88E.50000@opengis.ch>
	<CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>
	<55244DB3.2020102@opengis.ch>
Message-ID: <CAECJsSpE=Fbz6OX_hBW4XS=07DsVXR-EPUaDVgyYavJTxR8-pw@mail.gmail.com>

But why does composerRemoved not work? You can find it in the code on
github repo but not on QGIS API website...

2015-04-07 23:35 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

>  Oops,
>
> That should have been composerWillBeRemoved
>
> Sorry for that...
>
> Matthias
>
>
> On 04/07/2015 10:07 PM, Junior Delaz wrote:
>
>  Thank you Matthias for your perseverance. It's very helpful and
> encouraging for beginners.
>  I have already tried composerRemoved but when loading the plugin, QGIS
> complains :
>
> Impossible de charger l'extension MapsPrinter provoque une erreur lors de
> l'appel de sa m?thode initGui()
>
> Traceback (most recent call last):
>   File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 228, in startPlugin
>     plugins[packageName].initGui()
>   File "C:/Users/harrissou/.qgis2/python/plugins\MapsPrinter\maps_printer.py", line 129, in initGui
>     self.iface.composerRemoved.connect(self.refreshList)
> AttributeError: 'QgisInterface' object has no attribute 'composerRemoved'
>
>
> This happens with all the versions of QGIS I use :
> - osgeo4w 32bits (windows 8), osgeo4w 64bits (windows 7): either with QGIS 2.8, 2.8rel-dev and 2.9
> - and Mac OS 10.9 (it is a QGIS 2.4 but composerRemoved is supposed to have been added since QGIS 2.3 [0])
>
>
> About Qt.QueuedConnection, my first tests were on the Mac OS (x86-64) and Osgeo4w 64bits versions. But I never encountered crash with the 32 bits version, using the same code. Can the bug be bound to the architecture?
>
> [0] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.h#L1260
>
>
> 2015-04-06 22:11 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>
>>  Hi Junior,
>>
>> The following lines work for a short test-case.
>>
>> def compAdded( composer ):
>>   print composer
>>
>> def compRemoved( composer ):
>>   print composer
>>
>> iface.composerAdded.connect( compAdded )
>> iface.composerRemoved.connect( compRemoved )
>>
>> It is possible that the QueuedConnection crashes because along with it a
>> composer is emitted which at the time the slot is executed is already
>> deleted. That was only a possible approach which I did not test and reading
>> your report seems unstable.
>>
>> Matthias
>>
>>
>> On 04/06/2015 12:33 AM, Junior Delaz wrote:
>>
>>  Hi,
>>  I do understand nothing.
>>  After I read your message, Matthias, I told myself that using QT.
>> QueuedConnection should be the easiest way. Then i wrote
>> self.iface.composerWillBeRemoved.connect(self.refreshList,
>> Qt.QueuedConnection)
>> But each time i delete a composer, QGIS crashes.
>>  So I've spent the week on reading about Qt.QueuedConnection and then
>> signal and slots, function partial, QSignalMapper, sender trying to
>> understand how I can catch the sender and manage to update my list. All
>> this without success in the code.
>>  And today, I tried again Qt.QueuedConnection, QGIS crashed. Without any
>> changes, I tried again and it worked and continues to work. Adding and
>> deleting composer in the composer manager echoes in my list.
>>  I hope it will remain like that.
>>
>>  But now I realize that I didn't take into account the renaming of a
>> composer. :(
>>
>>  I think I'd wisely keep the refreshlist button unless someone tells me
>> how I can reach the composer manager dialog programmatically. So that I
>> will try to synchronize my list with its widgetlistitems...
>>
>>  Thanks for all...
>>
>>
>> 2015-03-31 14:50 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>>
>>>  You should get a parameter containing the composer that is being
>>> deleted with composerWillBeRemoved signal. Try to use that to infer which
>>> composer has been removed. As the signal name indicates, at the time it is
>>> emitted, the composer is not deleted yet.
>>> As an alternative you may make the connection with Qt.QueuedConnection.
>>> It is possible that with this connection style you will receive the signal
>>> after deletion and are able to continue using your current update method.
>>>
>>> Best
>>> Matthias
>>>
>>>
>>> On 03/31/2015 02:04 PM, Junior Delaz wrote:
>>>
>>>    Matthias,
>>>  Thanks. I just give it a try it and all goes well with composerAdded.
>>>  But not really well with composerWillBeRemoved signal. The first
>>> deletion in the composer manager does nothing and deleting a second
>>> composer does remove the first one in my list. and so on...
>>> My update function should be rewritten I think.  I'll try to see how
>>> improving it and may (surely) ask again for help (if needed).
>>>
>>>  While seeking information about composerWillBeRemoved, I found a
>>> composerRemoved [1] [2] signal (that doesn't appear in the API doc) and
>>> without being able to use it. :(
>>> [1]
>>> https://github.com/qgis/QGIS/blob/master/src/app/composer/qgscomposermanager.cpp
>>> (line 48
>>> [2] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp (line
>>> 5601)
>>>
>>>  Another thing that may not be related : what the deletePrintComposers
>>> function (https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>>> line 5698) is for?
>>>
>>> Thanks again for the clue.
>>>
>>> 2015-03-31 9:43 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>>>
>>>>  QgisInterface (iface) has a composerAdded and composerWillBeRemoved
>>>> signal.
>>>>
>>>> Did you try to connect to these?
>>>>
>>>> Best,
>>>> Matthias
>>>>
>>>>
>>>> On 03/31/2015 09:34 AM, Junior wrote:
>>>>
>>>>  Hi all, Luca
>>>> Thanks for answering. But i already have an update function that I
>>>> linked to an update list button. I even linked it to the icon on the
>>>> toolbar so that when user calls foreground the dialog it's already updated.
>>>> The case I'd like to manage: user can open plugin dialog and composer
>>>> manager. The two dialogs are visible (to the eyes) even though composer
>>>> manager is the one at foreground. He makes changes and directly clicked on
>>>> the plugin dialog. He should update list but if he forgets and executes,
>>>> this may lead to bug I don't want to / can't yet manage.
>>>> Reason why I want to ensure that list is always up to date when he
>>>> interacts with the dialog
>>>>
>>>>  Envoy? depuis mon HTC
>>>>
>>>> ----- Reply message -----
>>>> De : "Luca Manganelli" <luca76 at gmail.com> <luca76 at gmail.com>
>>>> Pour :
>>>> Cc : "qgis-user at lists.osgeo.org" <qgis-user at lists.osgeo.org>
>>>> <qgis-user at lists.osgeo.org> <qgis-user at lists.osgeo.org>,
>>>> "qgis-developer" <qgis-developer at lists.osgeo.org>
>>>> <qgis-developer at lists.osgeo.org>
>>>> Objet : [Qgis-developer] [Qgis-user] Pyqt4 : which signal is sent when
>>>> dialog comes to foreground?
>>>> Date : mar., mars 31, 2015 07:56
>>>>
>>>> On Mon, Mar 30, 2015 at 6:12 PM, Junior Delaz <delazj at gmail.com> <delazj at gmail.com> wrote:
>>>> > I've read about defining a custom showEvent function but can't understand
>>>> > where to put it and what inside.
>>>> > If somebody can give some tips...
>>>>
>>>> You could add a "Update list" button
>>>> _______________________________________________
>>>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Qgis-developer mailing list
>>>> Qgis-developer at lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>>
>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150407/4d83ca0d/attachment-0001.html>

From matthias at opengis.ch  Tue Apr  7 15:16:34 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 08 Apr 2015 00:16:34 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <CAECJsSpE=Fbz6OX_hBW4XS=07DsVXR-EPUaDVgyYavJTxR8-pw@mail.gmail.com>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>	<551A500C.7000505@opengis.ch>	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>	<551A9819.3020900@opengis.ch>	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>	<5522E88E.50000@opengis.ch>	<CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>	<55244DB3.2020102@opengis.ch>
	<CAECJsSpE=Fbz6OX_hBW4XS=07DsVXR-EPUaDVgyYavJTxR8-pw@mail.gmail.com>
Message-ID: <55245742.8090108@opengis.ch>

It's in QgisApp but not in QgisInterface.

It is only used internally by the app (in the composermanager for
exactly the same purpose as you are trying to use it for AFAICS).
Anyway, I don't see any reason not to make this available on the public
interface as well...

On 04/07/2015 11:51 PM, Junior Delaz wrote:
> But why does composerRemoved not work? You can find it in the code on
> github repo but not on QGIS API website...
>
> 2015-04-07 23:35 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
> <mailto:matthias at opengis.ch>>:
>
>     Oops,
>
>     That should have been composerWillBeRemoved
>
>     Sorry for that...
>
>     Matthias
>
>
>     On 04/07/2015 10:07 PM, Junior Delaz wrote:
>>     Thank you Matthias for your perseverance. It's very helpful and
>>     encouraging for beginners.
>>     I have already tried composerRemoved but when loading the plugin,
>>     QGIS complains :
>>
>>     Impossible de charger l'extension MapsPrinter provoque une erreur
>>     lors de l'appel de sa m?thode initGui()
>>     Traceback (most recent call last):
>>       File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 228, in startPlugin
>>         plugins[packageName].initGui()
>>       File "C:/Users/harrissou/.qgis2/python/plugins\MapsPrinter\maps_printer.py", line 129, in initGui
>>         self.iface.composerRemoved.connect(self.refreshList)
>>     AttributeError: 'QgisInterface' object has no attribute 'composerRemoved'
>>
>>     This happens with all the versions of QGIS I use :
>>     - osgeo4w 32bits (windows 8), osgeo4w 64bits (windows 7): either with QGIS 2.8, 2.8rel-dev and 2.9
>>     - and Mac OS 10.9 (it is a QGIS 2.4 but composerRemoved is supposed to have been added since QGIS 2.3 [0])
>>
>>     About Qt.QueuedConnection, my first tests were on the Mac OS (x86-64) and Osgeo4w 64bits versions. But I never encountered crash with the 32 bits version, using the same code. Can the bug be bound to the architecture?
>>     [0] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.h#L1260
>>
>>     2015-04-06 22:11 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
>>     <mailto:matthias at opengis.ch>>:
>>
>>         Hi Junior,
>>
>>         The following lines work for a short test-case.
>>
>>         def compAdded( composer ):
>>           print composer
>>
>>         def compRemoved( composer ):
>>           print composer
>>
>>         iface.composerAdded.connect( compAdded )
>>         iface.composerRemoved.connect( compRemoved )
>>
>>         It is possible that the QueuedConnection crashes because
>>         along with it a composer is emitted which at the time the
>>         slot is executed is already deleted. That was only a possible
>>         approach which I did not test and reading your report seems
>>         unstable.
>>
>>         Matthias
>>
>>
>>         On 04/06/2015 12:33 AM, Junior Delaz wrote:
>>>         Hi,
>>>         I do understand nothing.
>>>         After I read your message, Matthias, I told myself that
>>>         using QT. QueuedConnection should be the easiest way. Then i
>>>         wrote
>>>         self.iface.composerWillBeRemoved.connect(self.refreshList,
>>>         Qt.QueuedConnection)
>>>         But each time i delete a composer, QGIS crashes.
>>>         So I've spent the week on reading about Qt.QueuedConnection
>>>         and then signal and slots, function partial, QSignalMapper,
>>>         sender trying to understand how I can catch the sender and
>>>         manage to update my list. All this without success in the code.
>>>         And today, I tried again Qt.QueuedConnection, QGIS crashed.
>>>         Without any changes, I tried again and it worked and
>>>         continues to work. Adding and deleting composer in the
>>>         composer manager echoes in my list.
>>>         I hope it will remain like that.
>>>
>>>         But now I realize that I didn't take into account the
>>>         renaming of a composer. :(
>>>
>>>         I think I'd wisely keep the refreshlist button unless
>>>         someone tells me how I can reach the composer manager dialog
>>>         programmatically. So that I will try to synchronize my list
>>>         with its widgetlistitems...
>>>
>>>         Thanks for all...
>>>
>>>
>>>         2015-03-31 14:50 GMT+02:00 Matthias Kuhn
>>>         <matthias at opengis.ch <mailto:matthias at opengis.ch>>:
>>>
>>>             You should get a parameter containing the composer that
>>>             is being deleted with composerWillBeRemoved signal. Try
>>>             to use that to infer which composer has been removed. As
>>>             the signal name indicates, at the time it is emitted,
>>>             the composer is not deleted yet.
>>>             As an alternative you may make the connection with
>>>             Qt.QueuedConnection. It is possible that with this
>>>             connection style you will receive the signal after
>>>             deletion and are able to continue using your current
>>>             update method.
>>>
>>>             Best
>>>             Matthias
>>>
>>>
>>>             On 03/31/2015 02:04 PM, Junior Delaz wrote:
>>>>             Matthias,
>>>>             Thanks. I just give it a try it and all goes well with
>>>>             composerAdded.
>>>>             But not really well with composerWillBeRemoved signal.
>>>>             The first deletion in the composer manager does nothing
>>>>             and deleting a second composer does remove the first
>>>>             one in my list. and so on...
>>>>             My update function should be rewritten I think.  I'll
>>>>             try to see how improving it and may (surely) ask again
>>>>             for help (if needed).
>>>>
>>>>             While seeking information about composerWillBeRemoved,
>>>>             I found a composerRemoved [1] [2] signal (that doesn't
>>>>             appear in the API doc) and without being able to use it. :(
>>>>             [1]
>>>>             https://github.com/qgis/QGIS/blob/master/src/app/composer/qgscomposermanager.cpp
>>>>             (line 48
>>>>             [2]
>>>>             https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>>>>             (line 5601)
>>>>
>>>>             Another thing that may not be related : what the
>>>>             deletePrintComposers function
>>>>             (https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>>>>             line 5698) is for?
>>>>
>>>>             Thanks again for the clue.
>>>>
>>>>             2015-03-31 9:43 GMT+02:00 Matthias Kuhn
>>>>             <matthias at opengis.ch <mailto:matthias at opengis.ch>>:
>>>>
>>>>                 QgisInterface (iface) has a composerAdded and
>>>>                 composerWillBeRemoved signal.
>>>>
>>>>                 Did you try to connect to these?
>>>>
>>>>                 Best,
>>>>                 Matthias
>>>>
>>>>
>>>>                 On 03/31/2015 09:34 AM, Junior wrote:
>>>>>                 Hi all, Luca
>>>>>                 Thanks for answering. But i already have an update
>>>>>                 function that I linked to an update list button. I
>>>>>                 even linked it to the icon on the toolbar so that
>>>>>                 when user calls foreground the dialog it's already
>>>>>                 updated.
>>>>>                 The case I'd like to manage: user can open plugin
>>>>>                 dialog and composer manager. The two dialogs are
>>>>>                 visible (to the eyes) even though composer manager
>>>>>                 is the one at foreground. He makes changes and
>>>>>                 directly clicked on the plugin dialog. He should
>>>>>                 update list but if he forgets and executes, this
>>>>>                 may lead to bug I don't want to / can't yet manage.
>>>>>                 Reason why I want to ensure that list is always up
>>>>>                 to date when he interacts with the dialog
>>>>>
>>>>>                 Envoy? depuis mon HTC
>>>>>
>>>>>                 ----- Reply message -----
>>>>>                 De : "Luca Manganelli" <luca76 at gmail.com>
>>>>>                 <mailto:luca76 at gmail.com>
>>>>>                 Pour :
>>>>>                 Cc : "qgis-user at lists.osgeo.org"
>>>>>                 <mailto:qgis-user at lists.osgeo.org>
>>>>>                 <qgis-user at lists.osgeo.org>
>>>>>                 <mailto:qgis-user at lists.osgeo.org>,
>>>>>                 "qgis-developer" <qgis-developer at lists.osgeo.org>
>>>>>                 <mailto:qgis-developer at lists.osgeo.org>
>>>>>                 Objet : [Qgis-developer] [Qgis-user] Pyqt4 : which
>>>>>                 signal is sent when dialog comes to foreground?
>>>>>                 Date : mar., mars 31, 2015 07:56
>>>>>
>>>>>                 On Mon, Mar 30, 2015 at 6:12 PM, Junior Delaz <delazj at gmail.com> <mailto:delazj at gmail.com> wrote:
>>>>>                 > I've read about defining a custom showEvent function but can't understand
>>>>>                 > where to put it and what inside.
>>>>>                 > If somebody can give some tips...
>>>>>
>>>>>                 You could add a "Update list" button
>>>>>                 _______________________________________________
>>>>>                 Qgis-developer mailing list
>>>>>                 Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>>>>                 http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>>
>>>>>                 _______________________________________________
>>>>>                 Qgis-developer mailing list
>>>>>                 Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>>>>>                 http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>>                 _______________________________________________
>>>>                 Qgis-developer mailing list
>>>>                 Qgis-developer at lists.osgeo.org
>>>>                 <mailto:Qgis-developer at lists.osgeo.org>
>>>>                 http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>
>>>
>>
>>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/495b1e57/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/495b1e57/attachment-0001.pgp>

From olivier.dalang at gmail.com  Tue Apr  7 23:59:33 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 8 Apr 2015 08:59:33 +0200
Subject: [Qgis-developer] Thoughts about multi-type tables in QGIS
In-Reply-To: <1428413971361-5200245.post@n6.nabble.com>
References: <CAExk7p2s6_waUrdU6P18_T1Y8L9BNL-o6Lu+o_Hi+Yct1t4LmA@mail.gmail.com>
	<551D5534.6060904@gmail.com>
	<CAExk7p3OHHGot0ude1W5yV6OWpj4WsWvG8qSHuA4HgBLY4p8bg@mail.gmail.com>
	<551ED7FF.50301@opengis.ch>
	<CAExk7p0Bk9nrzunnrD3LX9YgqbY1R-mJ+HMXeK9JR8BU6ApG9g@mail.gmail.com>
	<1428094754796-5199942.post@n6.nabble.com>
	<CAB28AsgPe6i2zP9npjtxeanYvYU=5PXKMggFv7mq1W1Vf4Dg1A@mail.gmail.com>
	<CAExk7p3Q8J=_nGVMvmAHv79YYvgDWjEoZJ8Mn5Q_nZNd4dgwFw@mail.gmail.com>
	<BLU436-SMTP398FDAA323CFF83478BCEAA7FD0@phx.gbl>
	<CAExk7p2OriRUr6o1N-re2xZ=Q3K-sSuOnaBu2-hofsSvu9ROSQ@mail.gmail.com>
	<1428413971361-5200245.post@n6.nabble.com>
Message-ID: <CAExk7p3bkJXyJYx_adPKo-FfaFO+4Fyj-Oq-u=Jba8kKtjqZ3g@mail.gmail.com>

>
> To me, most QGIS geometric operators assume one geometry type. Can you
> explain what king of generic operation you have in mind ?


By generic operations I mean mostly any type of operation you're doing all
the time on your data : exporting, converting, projecting, selecting,
listing, sorting, deleting, etc... All of those which you can't do properly
if they're split in three different layers.
I'm not that much thinking of specific algorithms such as polygons centroid
computation or network analysis, that do indeed work on specific layers
types only most of the time, and wouldn't make sense on mixed geoms...

Still, if we are to implement mixed type layers handling in QGIS, we should
indeed have some decent support of them in our tool set...


I think that doing this will generate a complete refactoring of:
> - all processing scripts
> - all ftools
> - all plugins assuming one geometry.


I think there are 3 main cases:

*Geometry type-specific operations*
Of course some operators are specific, and make sense only on some geometry
types (eg. in ftools lines to polygons, polygons centroids, line
intersections).
Those actually are the less critical, because they would simply continue to
work as they do currently, which is by letting the user choose only layers
of that particular type (so there would be no way to use "lines
intersections" on a mixed layer, unless you'd load it as a line layer as
you can currently).

*Nongeometric operations*
Then, there are other which are not working on geometries at all (such as
random selection, basic statistics, etc.). We'd have to check whether the
code contains references to QgsGeometry, and if  not, they should work
already.

*Geometry-type unspecific operations*
And then, there, are the functions that work on several geometry types
(check geometry validity, buffer, etc..).
For those, they already must check the geometry type at some point. Either
at layer selection, in which case we'd have to hookup our feature-specific
iterators instead of the regular feature iterator. Either in the core of
the algorithm, in which case we wouldn't have to do anything and they
should work.

Then, there is the most problematic case, which is the output. What to
output if user selects a shapefile for the output of "multipart to single
parts" on a mixed layer for instance. Probably we'd have to restrict the
input layers based on the output layers. Or is there some automatic
limitation done by OGR, where it does for instance only export the first
encountered geomtry type ?


But I think you're right, and it will be quite some work. A good timing
would be to do it at the same time we rework the overlap between the
toolbox and ftools (as far as I can see, it seems like one day we'll drop
ftools, and keep processing only, where all this filtering of input/output
can easily be managed in a very unified fashion).




2015-04-07 15:39 GMT+02:00 R?gis Haubourg <
regis.haubourg at eau-adour-garonne.fr>:

> olivier wrote
> >
> >> to me it sounds a bit like loading "varchar" and "float" in the same
> >> column
> >
> >
> > That's exactly what it is not. Generic geometry is a valid and well
> > defined
> > type, and postgis functions behave very well with it. ST_Area for
> instance
> > will return 0 for a point or a line, which is an accurate result and
> makes
> > sense.
> > And while some functions are type-specific, most functions work and make
> > sense on all types (spatial relations, buffer, bounding boxes, validity,
> > transformation, simplification, conversion...).
> >
> > If you split your data in different tables (or columns), you loose the
> > ability to use any of those functions on all your records at once
> (without
> > some complex query that won't be doable in QGIS UI), which IMO is really
> a
> > pity...
>
>  Hi , to me, most QGIS geometric operators assume one geometry type. Can
> you
> explain what king of generic operation you have in mind ?
>
> I think that doing this will generate a complete refactoring of:
> - all processing scripts
> - all ftools
> - all plugins assuming one geometry.
>
> Again, I can't see from how in QGIS GUI that can improve things for most
> users, without making it more heavy and complex. And that would be very
> costy. Any mockup welcome, that can help me change my opinion..
> All the best,
> R?gis
>
>
>
>
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/Thoughts-about-multi-type-tables-in-QGIS-tp5196607p5200245.html
> Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/de605315/attachment.html>

From sarra.sahbani at spaceyes3d.com  Wed Apr  8 01:38:38 2015
From: sarra.sahbani at spaceyes3d.com (Sarra Sahbani)
Date: Wed, 8 Apr 2015 09:38:38 +0100
Subject: [Qgis-developer] Problem with pyuic4.bat
Message-ID: <001201d071d7$6a4ad1e0$3ee075a0$@sahbani@spaceyes3d.com>

Hi,

When I execute the file " pyuic4.bat "from C:\OSGeo4W\bin, I get this error:

File "C:\OSGeo4W\apps\Python27\lib\site-packages\PyQt4\uic\pyuic.py", line
31,

in <module>

    from PyQt4 import QtCore

ImportError: DLL load failed: The specified procedure could not be found.

 

This file (pyuic4.bat) contains:

@"C:\OSGeo4W\bin\python.exe"
"C:\OSGeo4W\apps\Python27\lib\site-packages\PyQt4\uic\pyuic.py" %1 %2 %3 %4
%5 %6 %7 %8 %9

 

How to resolve this ?

 

Best regard,

Sarra Sahbani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/c1c3c620/attachment.html>

From enricofiore at libero.it  Wed Apr  8 01:49:58 2015
From: enricofiore at libero.it (Enrico Fiore)
Date: Wed, 8 Apr 2015 10:49:58 +0200 (CEST)
Subject: [Qgis-developer] R: Re: Access to the value in a Relation reference
 wiget
Message-ID: <642765435.77221428482998128.JavaMail.defaultUser@defaultHost>

Hi, 
thanks for the answer. I did other tests But without success. 

I tried this code:

   def formOpen(dialog, layerid, featureid):
       widg = dialog.findChild(QgsRelationReferenceWidget, 'fk_via_cod');

       msgBox = QMessageBox()
       msgBox.setText(str(widg))
       msgBox.exec_()

And the message box returns None as widget type

Then I tried this:

   def formOpen(dialog, layerid, featureid):
      widg = dialog.findChild(QgsRelationReferenceWidget(), 'fk_via_cod');

      msgBox = QMessageBox()
      msgBox.setText(str(widg.foregeinKey()))
      msgBox.exec_()

it returns:
TypeError: QgsRelationReferenceWidget(QWidget): not enough arguments


Then I tried to specified the widget as QWidget o QComboBox:

  def formOpen(dialog, layerid, featureid):
      widg = dialog.findChild(QgsRelationReferenceWidget(QWidget), 
'fk_via_cod');

      msgBox = QMessageBox()
      msgBox.setText(str(widg.foregeinKey()))
      msgBox.exec_()

It returns:
TypeError: QgsRelationReferenceWidget(QWidget): argument 1 has unexpected type 
'PyQt4.QtCore.pyqtWrapperType'


So I tried to use QgsRelationReferenceWidgetWrapper() instead of  
QgsRelationReferenceWidget():

def formOpen(dialog, layerid, featureid):
    widg = dialog.findChild(QgsRelationReferenceWidget(QWidget), 
'fk_via_cod');

    msgBox = QMessageBox()
    msgBox.setText(str(widg.foregeinKey()))
    msgBox.exec_()

It returns:
TypeError: QgsRelationReferenceWidgetWrapper(QgsVectorLayer, int, QWidget, 
QgsMapCanvas, QgsMessageBar, QWidget parent=None): argument 1 has unexpected 
type 'PyQt4.QtCore.pyqtWrapperType'


I don't understand how get the widget type. Where is the mistake?

If I change the edit widget properties for the field in "relation value" 
instead of "Relation Reference", so I can use this code to recover the foregien 
key:

def formOpen(dialog, layerid, featureid):
    widg = dialog.findChild(QCombobox, 'fk_via_cod');

    msgBox = QMessageBox()
    msgBox.setText(str(widg.itemData(widg.currentIndex())))
    msgBox.exec_()


Regards

Enrico Fiore

----Messaggio originale----
Da: matthias at opengis.ch
Data: 07/04/2015 17.52
A: <qgis-developer at lists.osgeo.org>
Ogg: Re: [Qgis-developer] Access to the value in a Relation reference wiget

 You try get a QgsRelationReferenceWidget (in qgis.gui) (not sure though if 
specifying this explicitly makes any difference in python though, it should 
determine the real type anyway).
 
 The methods you are looking for are then
 
 setForeignKey()
http://qgis.org/api/classQgsRelationReferenceWidget.
html#a2e9fb74545d2bb4b697a88ca4e434600
 
 and
 
 foreignKey()
http://qgis.org/api/classQgsRelationReferenceWidget.
html#af1765af438f3dd4e642334a338a03ca4
 
 Best,
 Matthias
 
 On 04/07/2015 10:47 AM, Enrico Fiore wrote:
  Hi,
 I am trying to acces to the value stored in a field defined as Relation 
Reference widget, I tried this code:
 
     dialog.findChild(QWidget,"fk_via_cod")
 
 so I access to the object but not to the value.
 
 I need to do something like this
      nameFieldDir = dialog.findChild(QLineEdit,"cod_direzione")
 
 How I can perform this?
 
 Regards
 
 Enrico Fiore
 
 
 
 
 
  
 _______________________________________________Qgis-developer mailing 
listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-
developer
  
 



From c.boehnke at fugro.de  Wed Apr  8 01:57:04 2015
From: c.boehnke at fugro.de (Boehnke, Christian)
Date: Wed, 8 Apr 2015 08:57:04 +0000
Subject: [Qgis-developer] Drag & Drop into Map Canvas
Message-ID: <1c673eda62364bf696595033ed57f14c@Exchange1.fugro.de>

Hi,

I wrote a QGIS Plugin to load MS Access Databases into a QTreeWidget. At a first step, I'm able to display the tables as a temporary shape file by clicking a button and executing a proper function. Now I want to drag the tables into the QGIS Map Canvas (and to be shown as temporary shapes) without pushing a button but only by using Drag & Drop. I enabled dragging items on my Tree Widget, but I'm not aware how to drop the items on my canvas. How to handle the data?

Chris

From samuelmesa at gmail.com  Wed Apr  8 05:58:45 2015
From: samuelmesa at gmail.com (samuelmesa at gmail.com)
Date: Wed, 8 Apr 2015 07:58:45 -0500
Subject: [Qgis-developer] Error compiling QGIS v2.8.1 with Globe Plugin
Message-ID: <CAN5q7SVH7L73m8dDYBCA5RrRU1irbqvUHve2v1ZwY3pUn-WELQ@mail.gmail.com>

Hello list. I support in generating GIS AUR packages in Arch Linux
repositories, including osgEarth package [1]. However in the latest version
of QGIS v2.8.1, I was unable successfully compile osgEarth to support the
Globe plugin, because it requires some headers that do not exist.

QGIS with osgEarth version 2.5 not find osgEarth/FindNode:
-------------------------------------------------------------------
/home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/osgEarthUtil/Controls.cpp:21:29:
error fatal: osgEarth/FindNode: No existe el fichero o el directorio
 #include <osgEarth/FindNode>
                             ^
compilaci?n terminada.
src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:170: fallo en las
instrucciones para el objetivo
'src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o'
make[2]: ***
[src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o]
Error 1
CMakeFiles/Makefile2:2570: fallo en las instrucciones para el objetivo
'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all] Error 2
make[1]: *** Se espera a que terminen otras tareas....
-------------------------------------------------------------------

QGIS with osgEarth version 2.6 not find osgEarthUtil/SkyNode:
-------------------------------------------------------------------
/home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/globe_plugin.cpp:60:32:
error fatal: osgEarthUtil/SkyNode: No existe el fichero o el directorio
 #include <osgEarthUtil/SkyNode>
                                ^
compilaci?n terminada.
src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:78: fallo en las
instrucciones para el objetivo
'src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o'
make[2]: ***
[src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o] Error 1
CMakeFiles/Makefile2:2570: fallo en las instrucciones para el objetivo
'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all] Error 2
make[1]: *** Se espera a que terminen otras tareas....
-------------------------------------------------------------------

How could correct this error?, someone has the same problems with osgEarth
in other Linux distributions?

regards,

Samuel Mesa.

[1] https://aur.archlinux.org/packages/osgearth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/d1bd7c74/attachment-0001.html>

From enzo.ccc at gmail.com  Wed Apr  8 06:04:28 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Wed, 8 Apr 2015 15:04:28 +0200
Subject: [Qgis-developer] comboxdelagate and translator list
Message-ID: <CAC_+zur0n_dXF3MF=ZFn=CyTTnLbuQYsyiS_yuBfXoRtHD8Z4w@mail.gmail.com>

Hi peoples,

I have a question:

I have a list of words in an comboxdelegate ( the words are in italian) :

*valuesRS.=["ciao", "buongiorno", "buonasera, ""]*
* self.delegateRS = ComboBoxDelegate()*
* self.delegateRS.def_values(valuesRS)*
* self.delegateRS.def_editable('False')*
* self.tableWidget_rapporti.setItemDelegateForColumn(0,self.delegateRS)*

If I want translate in English when I set QGIS in English
How can to make?

I dont know If I need to use QCore.QLocale or QTranslator

thanks a lot!!

EC

-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/0e6bae69/attachment.html>

From enricofiore at libero.it  Wed Apr  8 06:32:04 2015
From: enricofiore at libero.it (Enrico Fiore)
Date: Wed, 8 Apr 2015 15:32:04 +0200 (CEST)
Subject: [Qgis-developer] committedGeometriesChanges issue
Message-ID: <1504173873.209861428499924157.JavaMail.defaultUser@defaultHost>

Hi,
I am trying to perform a post-processing queries in a postgis layer. When a new point is insert all work fine, but if I move existing point the queries don't work. The event committedGeometriesChanges seems that doesn't work. 
Is it because is not open the form dialog to perform this action? 

 I found this thread 
http://osgeo-org.1560.x6.nabble.com/Post-processing-queries-on-postgis-layers-after-insert-delete-update-td5193956.html

where is written that it is a bug and that it is fixed in 65378e6


I tried both with QGIS 2.8.1 and QGIS 2.9.0.40.

Is it a mistake or the bug is not fixed? Is it necessary open a ticket?

The code that I use is

def formOpen(dialog, layerid, featureid):
    layerid.commitedGeometriesChanges.connect(confirmChanged)


def confirmChanged(layerid, changedGeometries):
   ... update attribute with queries ....


Regards

Enrico Fiore

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/7201a4b5/attachment.html>

From olivier.dalang at gmail.com  Wed Apr  8 06:48:28 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 8 Apr 2015 15:48:28 +0200
Subject: [Qgis-developer] committedGeometriesChanges issue
In-Reply-To: <1504173873.209861428499924157.JavaMail.defaultUser@defaultHost>
References: <1504173873.209861428499924157.JavaMail.defaultUser@defaultHost>
Message-ID: <CAExk7p1WbupOUG-xzc5qdp8B-O2_cWvM0apyty6hnAix4ACiDQ@mail.gmail.com>

Hi Enrico,

The bug should fixed in master, did you update your 2.9 version to the
latest one ?

Also the bugfix has been backported, so it will be fixed in 2.8.2 (which
has no defined release date yet afaik)

Best,

Olivier





2015-04-08 15:32 GMT+02:00 Enrico Fiore <enricofiore at libero.it>:

> Hi,
> I am trying to perform a post-processing queries in a postgis layer. When
> a new point is insert all work fine, but if I move existing point the
> queries don't work. The event committedGeometriesChanges seems that doesn't
> work.
> Is it because is not open the form dialog to perform this action?
>
>  I found this thread
>
> http://osgeo-org.1560.x6.nabble.com/Post-processing-queries-on-postgis-layers-after-insert-delete-update-td5193956.html
>
> where is written that it is a bug and that it is fixed in 65378e6
>
> I tried both with QGIS 2.8.1 and QGIS 2.9.0.40.
>
> Is it a mistake or the bug is not fixed? Is it necessary open a ticket?
>
> The code that I use is
>
> def formOpen(dialog, layerid, featureid):
>     layerid.commitedGeometriesChanges.connect(confirmChanged)
>
>
> def confirmChanged(layerid, changedGeometries):
>    ... update attribute with queries ....
>
>
> Regards
>
> Enrico Fiore
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/ad09ae37/attachment.html>

From geodrinx at gmail.com  Wed Apr  8 07:30:30 2015
From: geodrinx at gmail.com (Geo DrinX)
Date: Wed, 8 Apr 2015 16:30:30 +0200
Subject: [Qgis-developer] GEarthView new version 2.0.7
Message-ID: <CAFF9ZhscVxzRCxyhXfxmDPaJamv-DctY9UmxL-6Cj5nR-oiOwg@mail.gmail.com>

Hello,


GEarthView  2.0.7 version  solves  some problem with Linux Ubuntu .



Thank you

Roberto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/61190f88/attachment.html>

From samuelmesa at gmail.com  Wed Apr  8 09:04:12 2015
From: samuelmesa at gmail.com (samuelmesa at gmail.com)
Date: Wed, 8 Apr 2015 11:04:12 -0500
Subject: [Qgis-developer] Error compiling QGIS v2.8.1 with Globe Plugin
In-Reply-To: <CAN5q7SVH7L73m8dDYBCA5RrRU1irbqvUHve2v1ZwY3pUn-WELQ@mail.gmail.com>
References: <CAN5q7SVH7L73m8dDYBCA5RrRU1irbqvUHve2v1ZwY3pUn-WELQ@mail.gmail.com>
Message-ID: <CAN5q7SWdt8_W+Azc+Lun0ss0ZL-X_GvWFFbzbbFGS6itSj45yQ@mail.gmail.com>

 I have achieved to install QGIS with Globe plugin with an older version of
osgEarth [1], specifically version 2.1.1 (2011). This version contains all
headers required to compile QGIS globe plugin. However, an error occurs when
starting QGIS and closes with the following message:

----------------------------------
$ qgis

Warning: QGraphicsScene::addItem: item has already been added to this scene
Violaci?n de segmento (`core' generado)

-----------------------------------
  To correct the error I remove the Globe plugin of
/usr/lib/qgis/plugins/libglobeplugin.so. However, I can not accomplish install
the Globe plugin in QGIS.


[1] https://gist.github.com/samtux/5efb2512d18ec682c64c

2015-04-08 7:58 GMT-05:00 samuelmesa at gmail.com <samuelmesa at gmail.com>:

> Hello list. I support in generating GIS AUR packages in Arch Linux
> repositories, including osgEarth package [1]. However in the latest
> version of QGIS v2.8.1, I was unable successfully compile osgEarth to
> support the Globe plugin, because it requires some headers that do not
> exist.
>
> QGIS with osgEarth version 2.5 not find osgEarth/FindNode:
> -------------------------------------------------------------------
> /home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/osgEarthUtil/Controls.cpp:21:29:
> error fatal: osgEarth/FindNode: No existe el fichero o el directorio
>  #include <osgEarth/FindNode>
>                              ^
> compilaci?n terminada.
> src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:170: fallo en las
> instrucciones para el objetivo
> 'src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o'
> make[2]: ***
> [src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o]
> Error 1
> CMakeFiles/Makefile2:2570: fallo en las instrucciones para el objetivo
> 'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
> make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all] Error 2
> make[1]: *** Se espera a que terminen otras tareas....
> -------------------------------------------------------------------
>
> QGIS with osgEarth version 2.6 not find osgEarthUtil/SkyNode:
> -------------------------------------------------------------------
> /home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/globe_plugin.cpp:60:32:
> error fatal: osgEarthUtil/SkyNode: No existe el fichero o el directorio
>  #include <osgEarthUtil/SkyNode>
>                                 ^
> compilaci?n terminada.
> src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:78: fallo en las
> instrucciones para el objetivo
> 'src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o'
> make[2]: ***
> [src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o] Error 1
> CMakeFiles/Makefile2:2570: fallo en las instrucciones para el objetivo
> 'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
> make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all] Error 2
> make[1]: *** Se espera a que terminen otras tareas....
> -------------------------------------------------------------------
>
> How could correct this error?, someone has the same problems with osgEarth
> in other Linux distributions?
>
> regards,
>
> Samuel Mesa.
>
> [1] https://aur.archlinux.org/packages/osgearth
>



-- 
---
    .~.
   / v \
  //    \\
 /(      )\
   ^`~'^
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/94bf2741/attachment-0001.html>

From delazj at gmail.com  Wed Apr  8 09:05:27 2015
From: delazj at gmail.com (Junior Delaz)
Date: Wed, 8 Apr 2015 18:05:27 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <55245742.8090108@opengis.ch>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>
	<551A500C.7000505@opengis.ch>
	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>
	<551A9819.3020900@opengis.ch>
	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>
	<5522E88E.50000@opengis.ch>
	<CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>
	<55244DB3.2020102@opengis.ch>
	<CAECJsSpE=Fbz6OX_hBW4XS=07DsVXR-EPUaDVgyYavJTxR8-pw@mail.gmail.com>
	<55245742.8090108@opengis.ch>
Message-ID: <CAECJsSoNepWUrkaqZJBZR6o=xdypM8SAOS5bW7P86MZph9ARiw@mail.gmail.com>

Ahh indeed, you are right... I should have paid attention to the Class in
which I found the signal. But I was too obsessed by composerWillBeRemoved
that I thought I was still in QgisInterface.
If it can be added to QgisInterface, why not?
Any idea about my remark on Qt.QueuedConnection and architecture 64bits vs
32bits?

In the meantime, I think I'll keep the refresh button and find a simple way
to deal with the case user doesn't refresh before executing (it might not
be that hard :) ). And in this case, I also keep compatibility with all 2.x
releases.

2015-04-08 0:16 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

>  It's in QgisApp but not in QgisInterface.
>
> It is only used internally by the app (in the composermanager for exactly
> the same purpose as you are trying to use it for AFAICS).
> Anyway, I don't see any reason not to make this available on the public
> interface as well...
>
>
> On 04/07/2015 11:51 PM, Junior Delaz wrote:
>
> But why does composerRemoved not work? You can find it in the code on
> github repo but not on QGIS API website...
>
> 2015-04-07 23:35 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>
>>  Oops,
>>
>> That should have been composerWillBeRemoved
>>
>> Sorry for that...
>>
>> Matthias
>>
>>
>> On 04/07/2015 10:07 PM, Junior Delaz wrote:
>>
>>  Thank you Matthias for your perseverance. It's very helpful and
>> encouraging for beginners.
>>  I have already tried composerRemoved but when loading the plugin, QGIS
>> complains :
>>
>> Impossible de charger l'extension MapsPrinter provoque une erreur lors de
>> l'appel de sa m?thode initGui()
>>
>> Traceback (most recent call last):
>>   File "C:/OSGeo4W/apps/qgis/./python\qgis\utils.py", line 228, in startPlugin
>>     plugins[packageName].initGui()
>>   File "C:/Users/harrissou/.qgis2/python/plugins\MapsPrinter\maps_printer.py", line 129, in initGui
>>     self.iface.composerRemoved.connect(self.refreshList)
>> AttributeError: 'QgisInterface' object has no attribute 'composerRemoved'
>>
>>
>> This happens with all the versions of QGIS I use :
>> - osgeo4w 32bits (windows 8), osgeo4w 64bits (windows 7): either with QGIS 2.8, 2.8rel-dev and 2.9
>> - and Mac OS 10.9 (it is a QGIS 2.4 but composerRemoved is supposed to have been added since QGIS 2.3 [0])
>>
>>
>> About Qt.QueuedConnection, my first tests were on the Mac OS (x86-64) and Osgeo4w 64bits versions. But I never encountered crash with the 32 bits version, using the same code. Can the bug be bound to the architecture?
>>
>> [0] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.h#L1260
>>
>>
>> 2015-04-06 22:11 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>>
>>>  Hi Junior,
>>>
>>> The following lines work for a short test-case.
>>>
>>> def compAdded( composer ):
>>>   print composer
>>>
>>> def compRemoved( composer ):
>>>   print composer
>>>
>>> iface.composerAdded.connect( compAdded )
>>> iface.composerRemoved.connect( compRemoved )
>>>
>>> It is possible that the QueuedConnection crashes because along with it a
>>> composer is emitted which at the time the slot is executed is already
>>> deleted. That was only a possible approach which I did not test and reading
>>> your report seems unstable.
>>>
>>> Matthias
>>>
>>>
>>> On 04/06/2015 12:33 AM, Junior Delaz wrote:
>>>
>>>  Hi,
>>>  I do understand nothing.
>>>  After I read your message, Matthias, I told myself that using QT.
>>> QueuedConnection should be the easiest way. Then i wrote
>>> self.iface.composerWillBeRemoved.connect(self.refreshList,
>>> Qt.QueuedConnection)
>>> But each time i delete a composer, QGIS crashes.
>>>  So I've spent the week on reading about Qt.QueuedConnection and then
>>> signal and slots, function partial, QSignalMapper, sender trying to
>>> understand how I can catch the sender and manage to update my list. All
>>> this without success in the code.
>>>  And today, I tried again Qt.QueuedConnection, QGIS crashed. Without
>>> any changes, I tried again and it worked and continues to work. Adding and
>>> deleting composer in the composer manager echoes in my list.
>>>  I hope it will remain like that.
>>>
>>>  But now I realize that I didn't take into account the renaming of a
>>> composer. :(
>>>
>>>  I think I'd wisely keep the refreshlist button unless someone tells me
>>> how I can reach the composer manager dialog programmatically. So that I
>>> will try to synchronize my list with its widgetlistitems...
>>>
>>>  Thanks for all...
>>>
>>>
>>> 2015-03-31 14:50 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>>>
>>>>  You should get a parameter containing the composer that is being
>>>> deleted with composerWillBeRemoved signal. Try to use that to infer which
>>>> composer has been removed. As the signal name indicates, at the time it is
>>>> emitted, the composer is not deleted yet.
>>>> As an alternative you may make the connection with Qt.QueuedConnection.
>>>> It is possible that with this connection style you will receive the signal
>>>> after deletion and are able to continue using your current update method.
>>>>
>>>> Best
>>>> Matthias
>>>>
>>>>
>>>> On 03/31/2015 02:04 PM, Junior Delaz wrote:
>>>>
>>>>    Matthias,
>>>>  Thanks. I just give it a try it and all goes well with composerAdded.
>>>>  But not really well with composerWillBeRemoved signal. The first
>>>> deletion in the composer manager does nothing and deleting a second
>>>> composer does remove the first one in my list. and so on...
>>>> My update function should be rewritten I think.  I'll try to see how
>>>> improving it and may (surely) ask again for help (if needed).
>>>>
>>>>  While seeking information about composerWillBeRemoved, I found a
>>>> composerRemoved [1] [2] signal (that doesn't appear in the API doc) and
>>>> without being able to use it. :(
>>>> [1]
>>>> https://github.com/qgis/QGIS/blob/master/src/app/composer/qgscomposermanager.cpp
>>>> (line 48
>>>> [2] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp (line
>>>> 5601)
>>>>
>>>>  Another thing that may not be related : what the deletePrintComposers
>>>> function (https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp
>>>> line 5698) is for?
>>>>
>>>> Thanks again for the clue.
>>>>
>>>> 2015-03-31 9:43 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
>>>>
>>>>>  QgisInterface (iface) has a composerAdded and composerWillBeRemoved
>>>>> signal.
>>>>>
>>>>> Did you try to connect to these?
>>>>>
>>>>> Best,
>>>>> Matthias
>>>>>
>>>>>
>>>>> On 03/31/2015 09:34 AM, Junior wrote:
>>>>>
>>>>>  Hi all, Luca
>>>>> Thanks for answering. But i already have an update function that I
>>>>> linked to an update list button. I even linked it to the icon on the
>>>>> toolbar so that when user calls foreground the dialog it's already updated.
>>>>> The case I'd like to manage: user can open plugin dialog and composer
>>>>> manager. The two dialogs are visible (to the eyes) even though composer
>>>>> manager is the one at foreground. He makes changes and directly clicked on
>>>>> the plugin dialog. He should update list but if he forgets and executes,
>>>>> this may lead to bug I don't want to / can't yet manage.
>>>>> Reason why I want to ensure that list is always up to date when he
>>>>> interacts with the dialog
>>>>>
>>>>>  Envoy? depuis mon HTC
>>>>>
>>>>> ----- Reply message -----
>>>>> De : "Luca Manganelli" <luca76 at gmail.com> <luca76 at gmail.com>
>>>>> Pour :
>>>>> Cc : "qgis-user at lists.osgeo.org" <qgis-user at lists.osgeo.org>
>>>>> <qgis-user at lists.osgeo.org> <qgis-user at lists.osgeo.org>,
>>>>> "qgis-developer" <qgis-developer at lists.osgeo.org>
>>>>> <qgis-developer at lists.osgeo.org>
>>>>> Objet : [Qgis-developer] [Qgis-user] Pyqt4 : which signal is sent when
>>>>> dialog comes to foreground?
>>>>> Date : mar., mars 31, 2015 07:56
>>>>>
>>>>> On Mon, Mar 30, 2015 at 6:12 PM, Junior Delaz <delazj at gmail.com> <delazj at gmail.com> wrote:
>>>>> > I've read about defining a custom showEvent function but can't understand
>>>>> > where to put it and what inside.
>>>>> > If somebody can give some tips...
>>>>>
>>>>> You could add a "Update list" button
>>>>> _______________________________________________
>>>>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Qgis-developer mailing list
>>>>> Qgis-developer at lists.osgeo.org
>>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/1b7e8fdb/attachment-0001.html>

From matthias at opengis.ch  Wed Apr  8 14:06:30 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 08 Apr 2015 23:06:30 +0200
Subject: [Qgis-developer] Error compiling QGIS v2.8.1 with Globe Plugin
In-Reply-To: <CAN5q7SWdt8_W+Azc+Lun0ss0ZL-X_GvWFFbzbbFGS6itSj45yQ@mail.gmail.com>
References: <CAN5q7SVH7L73m8dDYBCA5RrRU1irbqvUHve2v1ZwY3pUn-WELQ@mail.gmail.com>
	<CAN5q7SWdt8_W+Azc+Lun0ss0ZL-X_GvWFFbzbbFGS6itSj45yQ@mail.gmail.com>
Message-ID: <55259856.3060101@opengis.ch>

Hi,

a year ago I updated globe to be compatible with newer OSGEarth versions
(up to 2.5 IIRC) but never got around to merge the code back.
In case somebody wants to finish this work, the code is here:

https://github.com/m-kuhn/QGIS/tree/globe-featurequery/

Be prepared however that quite a bit of code was changed in QGIS core as
well because some functionality to make globe more configurable (expose
vector layers as such, extrude features, height exaggeration of the DEM
and at some point some python scripting possibilities...) was added what
required to add the possibility to add additional tabs to the vector
layer properties dialog from plugins.
You have been warned that it's not just a simple patch.

Best,
Matthias

On 04/08/2015 06:04 PM, samuelmesa at gmail.com wrote:
> I have achieved to installQGIS with Globeplugin with an older version
> of osgEarth[1], specifically version 2.1.1 (2011). This version
> contains all headersrequired to compile QGIS globe plugin. However, an
> error occurs when starting QGIS and closes with the following message:
>
> ----------------------------------
> $ qgis
>
> Warning: QGraphicsScene::addItem: item has already been added to this
> scene
> Violaci?n de segmento (`core' generado)
>
> -----------------------------------
> To correct the error I remove the Globe plugin of
> /usr/lib/qgis/plugins/libglobeplugin.so. However, I can not accomplish
> install the Globe plugin in QGIS.
>
>
> [1] https://gist.github.com/samtux/5efb2512d18ec682c64c
>
> 2015-04-08 7:58 GMT-05:00 samuelmesa at gmail.com
> <mailto:samuelmesa at gmail.com> <samuelmesa at gmail.com
> <mailto:samuelmesa at gmail.com>>:
>
>     Hello list. I support in generating GIS AUR packages in Arch Linux
>     repositories, including osgEarth package[1]. However in the latest
>     version of QGIS v2.8.1, I was unable successfully compile osgEarth
>     to support the Globe plugin, because it requires some headers that
>     do not exist.
>
>     QGIS with osgEarth version 2.5 not find osgEarth/FindNode:
>     -------------------------------------------------------------------
>     /home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/osgEarthUtil/Controls.cpp:21:29:
>     error fatal: osgEarth/FindNode: No existe el fichero o el directorio
>      #include <osgEarth/FindNode>
>                                  ^
>     compilaci?n terminada.
>     src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:170: fallo
>     en las instrucciones para el objetivo
>     'src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o'
>     make[2]: ***
>     [src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o]
>     Error 1
>     CMakeFiles/Makefile2:2570: fallo en las instrucciones para el
>     objetivo 'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
>     make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all]
>     Error 2
>     make[1]: *** Se espera a que terminen otras tareas....
>     -------------------------------------------------------------------
>
>     QGIS with osgEarth version 2.6 not find osgEarthUtil/SkyNode:
>     -------------------------------------------------------------------
>     /home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/globe_plugin.cpp:60:32:
>     error fatal: osgEarthUtil/SkyNode: No existe el fichero o el
>     directorio
>      #include <osgEarthUtil/SkyNode>
>                                     ^
>     compilaci?n terminada.
>     src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:78: fallo
>     en las instrucciones para el objetivo
>     'src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o'
>     make[2]: ***
>     [src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o]
>     Error 1
>     CMakeFiles/Makefile2:2570: fallo en las instrucciones para el
>     objetivo 'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
>     make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all]
>     Error 2
>     make[1]: *** Se espera a que terminen otras tareas....
>     -------------------------------------------------------------------
>
>     How could correct this error?, someone has the same problems with
>     osgEarth in other Linux distributions?
>
>     regards,
>
>     Samuel Mesa.
>
>     [1] https://aur.archlinux.org/packages/osgearth
>
>
>
>
> -- 
> ---
>     .~.
>    / v \
>   //    \\
>  /(      )\
>    ^`~'^
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150408/997ecac2/attachment.html>

From matthias at opengis.ch  Wed Apr  8 14:22:47 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 08 Apr 2015 23:22:47 +0200
Subject: [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <CAECJsSoNepWUrkaqZJBZR6o=xdypM8SAOS5bW7P86MZph9ARiw@mail.gmail.com>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>	<551A500C.7000505@opengis.ch>	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>	<551A9819.3020900@opengis.ch>	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>	<5522E88E.50000@opengis.ch>	<CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>	<55244DB3.2020102@opengis.ch>	<CAECJsSpE=Fbz6OX_hBW4XS=07DsVXR-EPUaDVgyYavJTxR8-pw@mail.gmail.com>	<55245742.8090108@opengis.ch>
	<CAECJsSoNepWUrkaqZJBZR6o=xdypM8SAOS5bW7P86MZph9ARiw@mail.gmail.com>
Message-ID: <55259C27.6030600@opengis.ch>

On 04/08/2015 06:05 PM, Junior Delaz wrote:
> Ahh indeed, you are right... I should have paid attention to the Class
> in which I found the signal. But I was too obsessed by
> composerWillBeRemoved that I thought I was still in QgisInterface.
> If it can be added to QgisInterface, why not?
https://github.com/qgis/QGIS/pull/1978

> Any idea about my remark on Qt.QueuedConnection and architecture
> 64bits vs 32bits?

No I guess it's an issue of some different version or some low-level
compiler differences. If it crashes on one platform, don't use it. It's
probably trying to access a deleted object. It's not a bug but likely
rather a misuse.




From philipj0 at smail.uni-koeln.de  Wed Apr  8 17:02:42 2015
From: philipj0 at smail.uni-koeln.de (Julia Philipps)
Date: Thu, 09 Apr 2015 02:02:42 +0200
Subject: [Qgis-developer] Plugin not showing up, please help
Message-ID: <20150409020242.57293bkdt0fij5pe@webmail.uni-koeln.de>

Hello,

I developed a C++ Plugin as part of a course work under Ubuntu; there,  
everything works fine. Now I want to create an installer for Windows.  
I builded the code with Visual C++ 2008 successfully. With the  
creatensis and quickpackage scripts I managed to make an installer,  
which installs QGIS fine, but without my plugin.
I use the 2.8.1 libs. Is there any special trick? I am a beginner, so  
any help is appreciated!

Thank you!




From delazj at gmail.com  Thu Apr  9 00:42:40 2015
From: delazj at gmail.com (Junior Delaz)
Date: Thu, 9 Apr 2015 09:42:40 +0200
Subject: [Qgis-developer] Re : Re : [Qgis-user] Pyqt4 : which signal is sent
 when dialog comes to foreground?
In-Reply-To: <55259C27.6030600@opengis.ch>
References: <551a4e11.81c9c20a.6a0c.ffff9d32@mx.google.com>
	<551A500C.7000505@opengis.ch>
	<CAECJsSp2H3rPemvYKZWhUh=Jzur3z+GVCs1NO2P=+9kWn_w3iw@mail.gmail.com>
	<551A9819.3020900@opengis.ch>
	<CAECJsSqtYa2vhuPtqqY24kofMCQ5sYOS5OW3r2kk-THCc2usWg@mail.gmail.com>
	<5522E88E.50000@opengis.ch>
	<CAECJsSq3HTyGW0Hw3_L+Uf2j2CTfs7EJc-yhz50B0vTt3F=pkg@mail.gmail.com>
	<55244DB3.2020102@opengis.ch>
	<CAECJsSpE=Fbz6OX_hBW4XS=07DsVXR-EPUaDVgyYavJTxR8-pw@mail.gmail.com>
	<55245742.8090108@opengis.ch>
	<CAECJsSoNepWUrkaqZJBZR6o=xdypM8SAOS5bW7P86MZph9ARiw@mail.gmail.com>
	<55259C27.6030600@opengis.ch>
Message-ID: <CAECJsSpCv65cccUGyqdDcP4-0RXo-vD8HOMxzcMs_TZ9dA9dWQ@mail.gmail.com>

 Ok thank you for the feedbaxk

Envoy? depuis mon HTC

----- Reply message -----
De : "Matthias Kuhn" <matthias at opengis.ch>
Pour : "Junior Delaz" <delazj at gmail.com>
Cc : "qgis-developer" <qgis-developer at lists.osgeo.org>
Objet : [Qgis-developer] Re : [Qgis-user] Pyqt4 : which signal is sent when
dialog comes to foreground?
Date : mer., avr. 8, 2015 23:22

On 04/08/2015 06:05 PM, Junior Delaz wrote:
> Ahh indeed, you are right... I should have paid attention to the Class
> in which I found the signal. But I was too obsessed by
> composerWillBeRemoved that I thought I was still in QgisInterface.
> If it can be added to QgisInterface, why not?https://github.com/qgis/QGIS/pull/1978

> Any idea about my remark on Qt.QueuedConnection and architecture
> 64bits vs 32bits?

No I guess it's an issue of some different version or some low-level
compiler differences. If it crashes on one platform, don't use it. It's
probably trying to access a deleted object. It's not a bug but likely
rather a misuse.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150409/21792b1c/attachment-0001.html>

From enzo.ciarmoli at csi.it  Thu Apr  9 03:07:29 2015
From: enzo.ciarmoli at csi.it (enzogis)
Date: Thu, 9 Apr 2015 03:07:29 -0700 (PDT)
Subject: [Qgis-developer] Problem with pyuic4.bat
In-Reply-To: <001201d071d7$6a4ad1e0$3ee075a0$@sahbani@spaceyes3d.com>
References: <001201d071d7$6a4ad1e0$3ee075a0$@sahbani@spaceyes3d.com>
Message-ID: <1428574049234-5200573.post@n6.nabble.com>

In Windows, before to use pyuic4 You need to set some system environment
variable.
In OSGeo package You could execute *o4w_env.bat* in C:\OSGeo4W\bin and after
you could run pyuic4.bat.

Hope this helps!
Enzo



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Problem-with-pyuic4-bat-tp5200359p5200573.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From sfkeller at gmail.com  Thu Apr  9 04:48:47 2015
From: sfkeller at gmail.com (Stefan Keller)
Date: Thu, 9 Apr 2015 13:48:47 +0200
Subject: [Qgis-developer] QGIS-Website issues
In-Reply-To: <CAFFV8Fia6ojRQZxRA3p1Qys+jm92P+Bmcfic0tB2jZA+w8B9Zw@mail.gmail.com>
References: <543E4B3D.1050307@gmx.ch>
	<CAFFV8Fia6ojRQZxRA3p1Qys+jm92P+Bmcfic0tB2jZA+w8B9Zw@mail.gmail.com>
Message-ID: <CAFcOn28LZEV9sK7V51LvMTtRQGGyO8gi9gMMNrQTmtCeGmaRHg@mail.gmail.com>

Hi Anita, hi all

I see that Anita is pulling changes to QGIS-Website.

There's a weblink missing in the english section at [1] of the German
translation: The last sentence ends with colon - then there's no
weblink... "Tutorien, die urspr?nglich als Teil des Workshops f?r das
?kologie- und evulution?re Biologie-Programm an der Texas A&M
Universit?t entwickelt wurde (erstellt und gepflegt von Mike
Treglia):"
=> I think there's this weblink missing there:
http://mltconsecol.github.io/QGIS-Tutorial/

-S.

[1] http://qgis.org/de/site/forusers/trainingmaterial/index.html

2014-10-16 17:47 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
> Hi Matthias,
>
> Thanks for raising this issue!
>
> On Wed, Oct 15, 2014 at 12:23 PM, Matthias Kuhn <matthias.kuhn at gmx.ch> wrote:
>> But it would still be good to improve the situation. Do you have any
>> idea what we could do to improve the situation there?
>
> Unfortunately, I don't have a good idea yet how to improve this situation ...
>
> Looking through the current list of open issues, there are some
> technical issues which can only be solved by people who are familiar
> with the platform. Others are more concerned with the content of the
> website and could be handled by more casual contributors.
>
> In general, it might help to raise issues on the documentation team
> mailing list to get attention.
>
> Best wishes,
> Anita
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From senhor.neto at gmail.com  Thu Apr  9 05:06:20 2015
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Thu, 9 Apr 2015 13:06:20 +0100
Subject: [Qgis-developer] QGIS-Website issues
In-Reply-To: <CAFcOn28LZEV9sK7V51LvMTtRQGGyO8gi9gMMNrQTmtCeGmaRHg@mail.gmail.com>
References: <543E4B3D.1050307@gmx.ch>
	<CAFFV8Fia6ojRQZxRA3p1Qys+jm92P+Bmcfic0tB2jZA+w8B9Zw@mail.gmail.com>
	<CAFcOn28LZEV9sK7V51LvMTtRQGGyO8gi9gMMNrQTmtCeGmaRHg@mail.gmail.com>
Message-ID: <CA+H0G_GAHxPGOQDEk7H-Ag8E+6TbY3YbJ8OPLKtW03hrAGScGg@mail.gmail.com>

Hello all,

Please notice that, from some time now, there are two links at the bottom
of most QGIS website pages, allowing easy access to editing the English
text and to the respective translation for different languages. All one
needs is a Github and/or Transifex account, respectively.

This work from Richard Duivenvoorde (I think) seems quite convenient for
common people (like me) to help fix this kind small errors and typos.

Best regards,

Alexandre Neto

On Thu, Apr 9, 2015 at 12:48 PM, Stefan Keller <sfkeller at gmail.com> wrote:

> Hi Anita, hi all
>
> I see that Anita is pulling changes to QGIS-Website.
>
> There's a weblink missing in the english section at [1] of the German
> translation: The last sentence ends with colon - then there's no
> weblink... "Tutorien, die urspr?nglich als Teil des Workshops f?r das
> ?kologie- und evulution?re Biologie-Programm an der Texas A&M
> Universit?t entwickelt wurde (erstellt und gepflegt von Mike
> Treglia):"
> => I think there's this weblink missing there:
> http://mltconsecol.github.io/QGIS-Tutorial/
>
> -S.
>
> [1] http://qgis.org/de/site/forusers/trainingmaterial/index.html
>
> 2014-10-16 17:47 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
> > Hi Matthias,
> >
> > Thanks for raising this issue!
> >
> > On Wed, Oct 15, 2014 at 12:23 PM, Matthias Kuhn <matthias.kuhn at gmx.ch>
> wrote:
> >> But it would still be good to improve the situation. Do you have any
> >> idea what we could do to improve the situation there?
> >
> > Unfortunately, I don't have a good idea yet how to improve this
> situation ...
> >
> > Looking through the current list of open issues, there are some
> > technical issues which can only be solved by people who are familiar
> > with the platform. Others are more concerned with the content of the
> > website and could be handled by more casual contributors.
> >
> > In general, it might help to raise issues on the documentation team
> > mailing list to get attention.
> >
> > Best wishes,
> > Anita
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150409/a4e8e3da/attachment.html>

From ismael.belaaouad at belistel.fr  Thu Apr  9 07:03:22 2015
From: ismael.belaaouad at belistel.fr (ismael.belaaouad)
Date: Thu, 09 Apr 2015 16:03:22 +0200
Subject: [Qgis-developer] pyqt5 plugins
Message-ID: <xw1ih5yt8r0vnefrm6dl6drm.1428588202105@email.android.com>

Hi everybody,
Is it possible to write a pyqt5 plugin for qgis 2.8? Is there some specificity to do that? What kind of difficult or problem I will find?
Tanks for tour reply
Best regads


Envoy? de mon Galaxy Note 4 d'Orange
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150409/e9332687/attachment.html>

From madmanwoo at gmail.com  Thu Apr  9 07:11:33 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 09 Apr 2015 14:11:33 +0000
Subject: [Qgis-developer] pyqt5 plugins
In-Reply-To: <xw1ih5yt8r0vnefrm6dl6drm.1428588202105@email.android.com>
References: <xw1ih5yt8r0vnefrm6dl6drm.1428588202105@email.android.com>
Message-ID: <CAAi8Yg9mDsmWhZ4sg0kgSV_WSvw_4eM+6ThysryTOsDca1PnpQ@mail.gmail.com>

Not currently. You should only use PyQt4 for plugins as that is what QGIS
is using.

Nathan

On Fri, 10 Apr 2015 12:03 am ismael.belaaouad <ismael.belaaouad at belistel.fr>
wrote:

> Hi everybody,
> Is it possible to write a pyqt5 plugin for qgis 2.8? Is there some
> specificity to do that? What kind of difficult or problem I will find?
> Tanks for tour reply
> Best regads
>
>
> Envoy? de mon Galaxy Note 4 d'Orange
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150409/5e8f5056/attachment.html>

From dassau at gbd-consult.de  Thu Apr  9 09:21:53 2015
From: dassau at gbd-consult.de (Otto Dassau)
Date: Thu, 9 Apr 2015 18:21:53 +0200
Subject: [Qgis-developer] website template for local QGIS user groups
Message-ID: <20150409182153.31141882@nature.speedport.ip>

Dear local QGIS communities,

the QGIS Project now provides a clone of the QGIS U.S. User Group site [1]
at https://github.com/qgis/qgis-template.github.io. The aim is to provide a
generalized template, that local user groups can use for their website. 

The british [2] and italian [3] QGIS user group already started their site
based on the template. You are welcome to join but of course you don't have
to.

[1] http://qgis.us/
[2] http://qgis.uk/
[3] http://qgis.it/

If you have questions or need help, subscribe and send an email to the
Qgis-community-team list.

Kind Regards,
Otto

From samuelmesa at gmail.com  Thu Apr  9 13:23:11 2015
From: samuelmesa at gmail.com (samuelmesa at gmail.com)
Date: Thu, 9 Apr 2015 15:23:11 -0500
Subject: [Qgis-developer] Error compiling QGIS v2.8.1 with Globe Plugin
In-Reply-To: <55259856.3060101@opengis.ch>
References: <CAN5q7SVH7L73m8dDYBCA5RrRU1irbqvUHve2v1ZwY3pUn-WELQ@mail.gmail.com>
	<CAN5q7SWdt8_W+Azc+Lun0ss0ZL-X_GvWFFbzbbFGS6itSj45yQ@mail.gmail.com>
	<55259856.3060101@opengis.ch>
Message-ID: <CAN5q7SVidmZX7Ua_Y+pXnRPWQ613v1q=Nasmt_iHKPhQMtkaiw@mail.gmail.com>

Matthias thanks for your answer. The truth I'm not very expert programming,
but try to compile the code Globe plugin that you provide. The Globe plugin is
very interesting and useful, however wait until QGIS updates that supports the
latest version of osgEarth.

regards

Samuel Mesa.

2015-04-08 16:06 GMT-05:00 Matthias Kuhn <matthias at opengis.ch>:

>  Hi,
>
> a year ago I updated globe to be compatible with newer OSGEarth versions
> (up to 2.5 IIRC) but never got around to merge the code back.
> In case somebody wants to finish this work, the code is here:
>
> https://github.com/m-kuhn/QGIS/tree/globe-featurequery/
>
> Be prepared however that quite a bit of code was changed in QGIS core as
> well because some functionality to make globe more configurable (expose
> vector layers as such, extrude features, height exaggeration of the DEM and
> at some point some python scripting possibilities...) was added what
> required to add the possibility to add additional tabs to the vector layer
> properties dialog from plugins.
> You have been warned that it's not just a simple patch.
>
> Best,
> Matthias
>
>
> On 04/08/2015 06:04 PM, samuelmesa at gmail.com wrote:
>
>    I have achieved to install QGIS with Globe plugin with an older version
> of osgEarth [1], specifically version 2.1.1 (2011). This version contains all
> headers required to compile QGIS globe plugin. However, an error occurs
> when starting QGIS and closes with the following message:
>
> ----------------------------------
> $ qgis
>
> Warning: QGraphicsScene::addItem: item has already been added to this scene
> Violaci?n de segmento (`core' generado)
>
> -----------------------------------
>      To correct the error I remove the Globe plugin of
> /usr/lib/qgis/plugins/libglobeplugin.so. However, I can not accomplish install
> the Globe plugin in QGIS.
>
>
> [1] https://gist.github.com/samtux/5efb2512d18ec682c64c
>
> 2015-04-08 7:58 GMT-05:00 samuelmesa at gmail.com <samuelmesa at gmail.com>:
>
>>  Hello list. I support in generating GIS AUR packages in Arch Linux
>> repositories, including osgEarth package [1]. However in the latest
>> version of QGIS v2.8.1, I was unable successfully compile osgEarth to
>> support the Globe plugin, because it requires some headers that do not
>> exist.
>>
>> QGIS with osgEarth version 2.5 not find osgEarth/FindNode:
>> -------------------------------------------------------------------
>> /home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/osgEarthUtil/Controls.cpp:21:29:
>> error fatal: osgEarth/FindNode: No existe el fichero o el directorio
>>  #include <osgEarth/FindNode>
>>                              ^
>> compilaci?n terminada.
>> src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:170: fallo en las
>> instrucciones para el objetivo
>> 'src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o'
>> make[2]: ***
>> [src/plugins/globe/CMakeFiles/globeplugin.dir/osgEarthUtil/Controls.cpp.o]
>> Error 1
>> CMakeFiles/Makefile2:2570: fallo en las instrucciones para el objetivo
>> 'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
>> make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all] Error 2
>> make[1]: *** Se espera a que terminen otras tareas....
>> -------------------------------------------------------------------
>>
>> QGIS with osgEarth version 2.6 not find osgEarthUtil/SkyNode:
>> -------------------------------------------------------------------
>> /home/samtux/Manjaro/aur/qgis/src/qgis/src/plugins/globe/globe_plugin.cpp:60:32:
>> error fatal: osgEarthUtil/SkyNode: No existe el fichero o el directorio
>>  #include <osgEarthUtil/SkyNode>
>>                                 ^
>> compilaci?n terminada.
>> src/plugins/globe/CMakeFiles/globeplugin.dir/build.make:78: fallo en las
>> instrucciones para el objetivo
>> 'src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o'
>> make[2]: ***
>> [src/plugins/globe/CMakeFiles/globeplugin.dir/globe_plugin.cpp.o] Error 1
>> CMakeFiles/Makefile2:2570: fallo en las instrucciones para el objetivo
>> 'src/plugins/globe/CMakeFiles/globeplugin.dir/all'
>> make[1]: *** [src/plugins/globe/CMakeFiles/globeplugin.dir/all] Error 2
>> make[1]: *** Se espera a que terminen otras tareas....
>> -------------------------------------------------------------------
>>
>> How could correct this error?, someone has the same problems with
>> osgEarth in other Linux distributions?
>>
>> regards,
>>
>>  Samuel Mesa.
>>
>>  [1] https://aur.archlinux.org/packages/osgearth
>>
>
>
>
> --
> ---
>     .~.
>    / v \
>   //    \\
>  /(      )\
>    ^`~'^
>
>
> _______________________________________________
> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>


-- 
---
    .~.
   / v \
  //    \\
 /(      )\
   ^`~'^
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150409/27e070cc/attachment.html>

From enricofiore at libero.it  Fri Apr 10 00:02:45 2015
From: enricofiore at libero.it (Enrico Fiore)
Date: Fri, 10 Apr 2015 09:02:45 +0200 (CEST)
Subject: [Qgis-developer] R: Re:  committedGeometriesChanges issue
Message-ID: <1087400847.792021428649365759.JavaMail.httpd@webmail-16.iol.local>

Hi Oliver,

   ----Messaggio originale----
    Da: olivier.dalang at gmail.com

   >Hi Enrico,
   >The bug should fixed in master, did you update your 2.9 version to the 
latest one ?

I tried committedGeometriesChanges also in QGIS 2.9 Master installed via 
osgeo4w.

Can be that the method doesn't work because it is used in a openForm function, 
and no form is open duringe the move point action?


Enrico




2015-04-08 15:32 GMT+02:00 Enrico Fiore <enricofiore at libero.it>:
Hi,
I am trying to perform a post-processing queries in a postgis layer. When a 
new point is insert all work fine, but if I move existing point the queries 
don't work. The event committedGeometriesChanges seems that doesn't work. 
Is it because is not open the form dialog to perform this action? 

 I found this thread 
http://osgeo-org.1560.x6.nabble.com/Post-processing-queries-on-postgis-layers-
after-insert-delete-update-td5193956.html

where is written that it is a bug and that it is fixed in 65378e6

I tried both with QGIS 2.8.1 and QGIS 2.9.0.40.

Is it a mistake or the bug is not fixed? Is it necessary open a ticket?

The code that I use is

def formOpen(dialog, layerid, featureid):
    layerid.commitedGeometriesChanges.connect(confirmChanged)


def confirmChanged(layerid, changedGeometries):
   ... update attribute with queries ....


Regards

Enrico Fiore


_______________________________________________
Qgis-developer mailing list
Qgis-developer at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer





From regis.haubourg at eau-adour-garonne.fr  Fri Apr 10 01:57:58 2015
From: regis.haubourg at eau-adour-garonne.fr (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 10 Apr 2015 01:57:58 -0700 (PDT)
Subject: [Qgis-developer] Live layer effects bug?
Message-ID: <1428656278417-5200756.post@n6.nabble.com>

Hi, 
That new addition may be worth opening a unique topic, I'm unsure where to
post (dev or user's list).

I'm testing live layer effects and end up with some weird behaviour. I'm not
sure if this is a bug or if I didn't get the behaviour correctly. 

I try to reproduce Nyall's blog example of a point symbol with a drop shadow
with a "mirror effect". 
When applying a transform effect with only a rotation, the rotated symbol is
thrown away from the original symbol. The more I rotated, the farther it
goes, in the direction I set. 

Any idea? Maybe sharing some qml examples or video tutorial could help
advanced users. 

Another point, in today's nightly, there is another checkbox "apply effects"
outside of the layer effects frame. I didn't get any effect from that. Is
that a bug?

Cheers
R?gis



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Live-layer-effects-bug-tp5200756.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From apasotti at gmail.com  Fri Apr 10 03:47:15 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 10 Apr 2015 12:47:15 +0200
Subject: [Qgis-developer] QGIS Server GetFeatureInfo custom CSS (or better:
	templates!)
Message-ID: <CAL5Q672ekiX7VEcuLRnay536H4RCMOb+t6z+3G+nTFLMbpO-Og@mail.gmail.com>

Hi,

there have been some requests in the past about custom CSS for html
GetFeatureInfo responses from QGIS Server.

Currently, the HTML response template is hardcoded and there is no way
to customize it, the Python plugin support introduced with the latest
version of QGIS Server provide some easy ways to add some custom CSS
rules or even provide custom templates.

To get you started, I've added a new filter to my example  HelloServer plugin:

https://github.com/elpaso/qgis-helloserver/blob/master/filters/GetFeatureInfoCSSFilter.py

This filter is pretty simple, if the request is a WMS GetFeatureInfo
with HTML format, it injects a STYLE tag into the HTML HEAD.

As an exercise left to the reader, you can also intercept the call in
requestReady(self), change the INFO_FORMAT to text/xml and then do
some real templating, for example by using XSLT or pasrsing the XML
and injecting the values into a custom template.



-- 
Alessandro Pasotti
w3:   www.itopen.it

From ricardo.garcia.silva at gmail.com  Fri Apr 10 04:13:13 2015
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Fri, 10 Apr 2015 12:13:13 +0100
Subject: [Qgis-developer] missing Qsci sip file when compiling on ubuntu
	14.04
Message-ID: <CAFcNcQZv3M7MKX5GfGJqWwj+Wz-3cGFRwt1HydEsVJOaGCGqtw@mail.gmail.com>

Hi list

I am struggling to compile the latest master of QGIS on Ubuntu 14.04. I
cannot seem to get cmake to generate valid makefiles because it always
fails with:

QGIS version: 2.9.0 Master (20900)

Found Proj: /usr/lib/libproj.so

Found GEOS: /usr/lib/libgeos_c.so (3.4.2)

Found GDAL: /usr/lib/libgdal.so (1.11.1)

Found Expat: /usr/lib/x86_64-linux-gnu/libexpat.so

Found Spatialindex: /usr/lib/x86_64-linux-gnu/libspatialindex.so

CMake Error at cmake/FindQwt.cmake:35 (FILE):
file Internal CMake error when trying to open file:
/usr/include/qwt-qt4/qwt_global.h for reading.
Call Stack (most recent call first):
CMakeLists.txt:195 (FIND_PACKAGE)

Found Qwt: /usr/lib/libqwt-qt4.so ()

Found Sqlite3: /usr/lib/x86_64-linux-gnu/libsqlite3.so

Found PostgreSQL: /usr/lib/libpq.so

Found SpatiaLite: /usr/lib/x86_64-linux-gnu/libspatialite.so

Found Qt version: 4.8.6

Touch support disabled

Found QScintilla2: /usr/lib/libqscintilla2.so (2.8.1)

Pedantic compiler settings enabled

Found Python executable: /usr/bin/python

Found Python version: 2.7.6

Found Python library: /usr/lib/x86_64-linux-gnu/libpython2.7.so

Found SIP version: 4.15.5

Found PyQt4 version: 4.10.4

Found QScintilla2 PyQt4 module: 2.8.1

Found GSL: -L/usr/lib -lgsl -lgslcblas -lm

Qsci sip file not found - disabling bindings for derived classes

Ctest Binary Directory set to:
/home/ricardo/dev/QGIS/build-master/output/bin

Configuring incomplete, errors occurred!


The FindQWT error seems strange because I am not enabling the


WITH_INTERNAL_QWTPOLAR

WITH_QWTPOLAR


flags.


Anyway, the real showstopper seems to be the inexistance of the Qsci sip
file.

Searching the mailing list, I've found [1] which seems similar to my
problem. However, I cannot understand if the problem did get fixed nor how
to bypass it. Disabling the whole  Python bindings is not a solution for me
since I'll be needing them.


Am I missing some dependencies? Or otherwise, how to overcome this issue?


[1] - http://osgeo-org.1560.x6.nabble.com/compile-error-td5152377.html

-- 
___________________________ ___ __
Ricardo Garcia Silva
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150410/de881f2f/attachment-0001.html>

From nyall.dawson at gmail.com  Fri Apr 10 04:25:16 2015
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 10 Apr 2015 21:25:16 +1000
Subject: [Qgis-developer] Live layer effects bug?
In-Reply-To: <1428656278417-5200756.post@n6.nabble.com>
References: <1428656278417-5200756.post@n6.nabble.com>
Message-ID: <CAB28Asj=M9OgbpS==bgA7NhFB0J+Fagv=5yeCjbaFegZwChLXQ@mail.gmail.com>

On 10 April 2015 at 18:57, R?gis Haubourg
<regis.haubourg at eau-adour-garonne.fr> wrote:
> Hi,
> That new addition may be worth opening a unique topic, I'm unsure where to
> post (dev or user's list).
>
> I'm testing live layer effects and end up with some weird behaviour. I'm not
> sure if this is a bug or if I didn't get the behaviour correctly.
>
> I try to reproduce Nyall's blog example of a point symbol with a drop shadow
> with a "mirror effect".
> When applying a transform effect with only a rotation, the rotated symbol is
> thrown away from the original symbol. The more I rotated, the farther it
> goes, in the direction I set.

Mind sharing your symbol details? I can't reproduce this here, but
some more info would help.


> Another point, in today's nightly, there is another checkbox "apply effects"
> outside of the layer effects frame. I didn't get any effect from that. Is
> that a bug?

I don't see this checkbox - is it in the effect properties dialog? Or
in the symbol properties dialog?

Nyall

From regis.haubourg at eau-adour-garonne.fr  Fri Apr 10 06:37:03 2015
From: regis.haubourg at eau-adour-garonne.fr (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 10 Apr 2015 06:37:03 -0700 (PDT)
Subject: [Qgis-developer] Live layer effects bug?
In-Reply-To: <CAB28Asj=M9OgbpS==bgA7NhFB0J+Fagv=5yeCjbaFegZwChLXQ@mail.gmail.com>
References: <1428656278417-5200756.post@n6.nabble.com>
	<CAB28Asj=M9OgbpS==bgA7NhFB0J+Fagv=5yeCjbaFegZwChLXQ@mail.gmail.com>
Message-ID: <1428673023541-5200805.post@n6.nabble.com>

Here is a screencast for rotation trouble. [0] 
It behaves like pivot point for rotation is far away from the feature
itself, for point layers only. 
I tested unsetting ONTF projection, with no difference. My SRS is 2154.. 

The checkbox mentioned is the one appearing on subsymbol level. In fact, I
just realized that it was possible to apply effects both on symbol level
and/ or on layer level. I think this is because the button to show up the
effect's windows is align on the right side, far away from the check box.  I
would align box check box and button on the right to avoid visual
interferences in the UI.. 

Third point for inverted polygon renderer (issue 12543) is probably linked
to this misunderstanding of having both effects on layer level or symbol
level. Both were activated when I wasn't aware of it. Closing th ticket now. 

[0] https://www.youtube.com/watch?v=DP2S0JBBE7o

R?gis





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Live-layer-effects-bug-tp5200756p5200805.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From wirthervin at gmail.com  Sat Apr 11 01:20:03 2015
From: wirthervin at gmail.com (Ervin W)
Date: Sat, 11 Apr 2015 10:20:03 +0200
Subject: [Qgis-developer] Fwd: Transfer maintainer rights
In-Reply-To: <CACqX2SgPzDXbtihCyRchG2eTyw79YrBPOhAg7JGUGT_55KjhNw@mail.gmail.com>
References: <CACqX2SgPzDXbtihCyRchG2eTyw79YrBPOhAg7JGUGT_55KjhNw@mail.gmail.com>
Message-ID: <CAKOS6+1pGqA1XftALhan=Xxm6cqU+ive1M2U_AvW10_-8ocnew@mail.gmail.com>

Dear Developers,
with the forwarded e-mail (below) I would like to proof my claim to be the
maintainer of Indicatrix mapper plugin. Please let me know if you've set,
or going to set it.
Thanks, ervin


---------- Forwarded message ----------
From: P?ter Kun <kunpeter01 at gmail.com>
Date: 2015-04-10 19:59 GMT+02:00
Subject: Transfer maintainer rights
To: qgis-developer at lists.osgeo.org, Ervin W <wirthervin at gmail.com>


Dear Staff,


I would like to transfer the maintainer right of my plugin:
http://plugins.qgis.org/plugins/tiss/

to Ervin Wirth (osgeoid: ewirth).

Herby I, P?ter Kun (osgeo id: qnpi) declare, that I disclaim the maintainer
right  of the aforementioned plugin and I agree on transferring it to the
person  Ervin Wirth known by osgeo id ewirth (wirthervin at gmail.com). I
agree, that Ervin Wirh can claim the maintainer right of the aforementioned
plugin and he become fully in charge maintaining it.

Yours Faithfully,

P?ter Kun




**************************************************************************************
Kun, P?ter
e-mail: kunpeter01 at gmail.com
mobil: +31 684 971247
Utrecht University
**************************************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150411/03918f71/attachment.html>

From luipir at gmail.com  Sat Apr 11 10:22:43 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Sat, 11 Apr 2015 19:22:43 +0200
Subject: [Qgis-developer] STEM Plugin without repository
Message-ID: <CAFO80_qYkb1erL8zwXsRUikX8E+5rhcMcgZ6aRT5hCSmYUMGHA@mail.gmail.com>

Hi,

I found a new plugin called STEM, but no code repository is available,
I remenber is a necessary condition to be published in the qgis repo.

please explication

regards, Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************

From cavallini at faunalia.it  Sat Apr 11 10:33:20 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 11 Apr 2015 19:33:20 +0200
Subject: [Qgis-developer] STEM Plugin without repository
In-Reply-To: <CAFO80_qYkb1erL8zwXsRUikX8E+5rhcMcgZ6aRT5hCSmYUMGHA@mail.gmail.com>
References: <CAFO80_qYkb1erL8zwXsRUikX8E+5rhcMcgZ6aRT5hCSmYUMGHA@mail.gmail.com>
Message-ID: <D2F00A89-E6CE-4B6D-ABDA-AE4542DD8C34@faunalia.it>

I already asked the author.
Thanks.

Il 11 aprile 2015 19:22:43 CEST, Luigi Pirelli <luipir at gmail.com> ha scritto:
>Hi,
>
>I found a new plugin called STEM, but no code repository is available,
>I remenber is a necessary condition to be published in the qgis repo.
>
>please explication
>
>regards, Luigi Pirelli
>
>**************************************************************************************************
>* LinkedIn: https://www.linkedin.com/in/luigipirelli
>* Elance: https://www.elance.com/s/edit/luigipirelli/
>* GitHub: https://github.com/luipir
>* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>* Mastering QGIS:
>https://www.packtpub.com/application-development/mastering-qgis
>**************************************************************************************************
>_______________________________________________
>Qgis-developer mailing list
>Qgis-developer at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
http://faunalia.eu/
Sent from mobile, sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150411/2d9fecc6/attachment.html>

From luna.helios at googlemail.com  Sat Apr 11 14:39:47 2015
From: luna.helios at googlemail.com (luna)
Date: Sat, 11 Apr 2015 14:39:47 -0700 (PDT)
Subject: [Qgis-developer] ValueMap: Why is the first row of my ComboBox
	empty?
Message-ID: <1428788387922-5200932.post@n6.nabble.com>

I define a field of a vector layer as ValueMap. I define the values manually,
then the feature attribute dialog appears with the combobox. But the first
row in my combobox is empty.
I use QGis2.8. In QGis2.0 the first row was not empty.

<http://osgeo-org.1560.x6.nabble.com/file/n5200932/1.jpg> 

<http://osgeo-org.1560.x6.nabble.com/file/n5200932/2.jpg> 

Why is the first row of my ComboBox empty?
If I click "ok" immediately without using the combobox I get a strange
character () in the attribut tablel. 

Regards



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/ValueMap-Why-is-the-first-row-of-my-ComboBox-empty-tp5200932.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From maximilian.krambach at gmx.de  Sun Apr 12 04:11:48 2015
From: maximilian.krambach at gmx.de (Maximilian Krambach)
Date: Sun, 12 Apr 2015 13:11:48 +0200
Subject: [Qgis-developer] GRASS rasters in Processing?
Message-ID: <552A52F4.8030501@gmx.de>

I noticed that a lot of processing is using GDAL/OGR.
However, most installations of GDAL don't support reading GRASS rasters.
It has to be compiled in, and seems not to be standard.

So GDAL simply will report an error, and if the processing plugin relies
on GDAL, it will fail too. Maybe that's the reason GRASS rasters aren't
supported.

Greetings, Maximilian.

From cavallini at faunalia.it  Sun Apr 12 12:04:13 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun, 12 Apr 2015 21:04:13 +0200
Subject: [Qgis-developer] GRASS rasters in Processing?
In-Reply-To: <552A52F4.8030501@gmx.de>
References: <552A52F4.8030501@gmx.de>
Message-ID: <552AC1AD.1040305@faunalia.it>

Il 12/04/2015 13:11, Maximilian Krambach ha scritto:
> I noticed that a lot of processing is using GDAL/OGR.
> However, most installations of GDAL don't support reading GRASS rasters.
> It has to be compiled in, and seems not to be standard.
> 
> So GDAL simply will report an error, and if the processing plugin relies
> on GDAL, it will fail too. Maybe that's the reason GRASS rasters aren't
> supported.

You are right, thanks Maximilian.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From lucadeluge at gmail.com  Sun Apr 12 13:58:00 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Sun, 12 Apr 2015 22:58:00 +0200
Subject: [Qgis-developer] STEM Plugin without repository
In-Reply-To: <CAFO80_qYkb1erL8zwXsRUikX8E+5rhcMcgZ6aRT5hCSmYUMGHA@mail.gmail.com>
References: <CAFO80_qYkb1erL8zwXsRUikX8E+5rhcMcgZ6aRT5hCSmYUMGHA@mail.gmail.com>
Message-ID: <CAK4m-3wTacke37uQNUJBLmdFVSpTRrKVbV-Ks-1aesjdp-esyQ@mail.gmail.com>

On 11 April 2015 at 19:22, Luigi Pirelli <luipir at gmail.com> wrote:
> Hi,
>

Hi,

> I found a new plugin called STEM, but no code repository is available,
> I remenber is a necessary condition to be published in the qgis repo.
>
> please explication
>

The customers asked my to not publish the repo yet (before their first
test), but if it is a problem I can ask them...

> regards, Luigi Pirelli
>
> **************************************************************************************************
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * El

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From lucadeluge at gmail.com  Sun Apr 12 15:26:10 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Mon, 13 Apr 2015 00:26:10 +0200
Subject: [Qgis-developer] FOSS4G EU code sprint
Message-ID: <CAK4m-3z+FAOPXT6VXha6vkd+S0CTuVCes93V3J3Ludv0SGQr5A@mail.gmail.com>

Dear all,

I'm proud to invite you to the FOSS4G-Europe 2015 code sprint, in Como Italy.

The sprint will be held the last day of the conference, 18th July. For
more info please read the wiki page [0]

Please add your name and the project that you are interested in, to
the wiki page [0], to help organizers plan accordingly.

The code sprint focuses collaboration between Open Source software
community members, including those interested in writing code, or
documenting, or testing, or generally helping projects grow. People
can share experiences and come up with creative new ideas and
collaborations. The sprint allows Open Source community members to
actively work together face-to-face and get their hands dirty
developing great new geospatial tools.

See you there!

[0] http://wiki.osgeo.org/wiki/Conference-Europe_2015-Como/Code_sprint

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From cavallini at faunalia.it  Sun Apr 12 21:49:34 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 13 Apr 2015 06:49:34 +0200
Subject: [Qgis-developer] FOSS4G EU code sprint
In-Reply-To: <CAK4m-3z+FAOPXT6VXha6vkd+S0CTuVCes93V3J3Ludv0SGQr5A@mail.gmail.com>
References: <CAK4m-3z+FAOPXT6VXha6vkd+S0CTuVCes93V3J3Ludv0SGQr5A@mail.gmail.com>
Message-ID: <94E3C7D3-CF71-4A37-8D9A-BB7D5DC8AE3B@faunalia.it>

Good news, thanks Luca.
I'll be there, who is going to come?
All the best.

Il 13 aprile 2015 00:26:10 CEST, Luca Delucchi <lucadeluge at gmail.com> ha scritto:
>Dear all,
>
>I'm proud to invite you to the FOSS4G-Europe 2015 code sprint, in Como
>Italy.
>
>The sprint will be held the last day of the conference, 18th July. For
>more info please read the wiki page [0]
>
>Please add your name and the project that you are interested in, to
>the wiki page [0], to help organizers plan accordingly.
>
>The code sprint focuses collaboration between Open Source software
>community members, including those interested in writing code, or
>documenting, or testing, or generally helping projects grow. People
>can share experiences and come up with creative new ideas and
>collaborations. The sprint allows Open Source community members to
>actively work together face-to-face and get their hands dirty
>developing great new geospatial tools.
>
>See you there!
>
>[0] http://wiki.osgeo.org/wiki/Conference-Europe_2015-Como/Code_sprint
>
>-- 
>ciao
>Luca
>
>http://gis.cri.fmach.it/delucchi/
>www.lucadelu.org
>_______________________________________________
>Qgis-developer mailing list
>Qgis-developer at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
http://faunalia.eu/
Sent from mobile, sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150413/e938bcab/attachment.html>

From cavallini at faunalia.it  Sun Apr 12 22:10:05 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 13 Apr 2015 07:10:05 +0200
Subject: [Qgis-developer] FOSS4G EU code sprint
In-Reply-To: <94E3C7D3-CF71-4A37-8D9A-BB7D5DC8AE3B@faunalia.it>
References: <CAK4m-3z+FAOPXT6VXha6vkd+S0CTuVCes93V3J3Ludv0SGQr5A@mail.gmail.com>
	<94E3C7D3-CF71-4A37-8D9A-BB7D5DC8AE3B@faunalia.it>
Message-ID: <552B4FAD.2070703@faunalia.it>

Il 13/04/2015 06:49, Paolo Cavallini ha scritto:
> Good news, thanks Luca.
> I'll be there, who is going to come?

section created, please add.
thanks luca.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From jawensi at gmail.com  Mon Apr 13 05:03:53 2015
From: jawensi at gmail.com (jawensi)
Date: Mon, 13 Apr 2015 05:03:53 -0700 (PDT)
Subject: [Qgis-developer] Raster Ramp color
Message-ID: <1428926633423-5201055.post@n6.nabble.com>

Hello. 

I am trying to change the simbology of a DEM raster using a default
pseudocolor ramp from the max and min height. How can I select the ramp and
define the settings of the classification in python? 

thank you



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Raster-Ramp-color-tp5201055.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From apasotti at gmail.com  Mon Apr 13 06:22:05 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 13 Apr 2015 15:22:05 +0200
Subject: [Qgis-developer] QGIS Server Python plugins docs
Message-ID: <CAL5Q67289huceykHgqhqVo80ng9etA52HNEoe-88s8VmaQZ9Xg@mail.gmail.com>

Hello Jef,

Do you know if the new Python Plugin API for QGIS Server is available
online under qgis.org ?

I'd rather prefer linking to official online docs instead of my hosted copy:

http://www.itopen.it/qgis/serverplugins/api/

Can you maybe add it to the build? It was generated parsing the sip
files under /python/server

-- 
Alessandro Pasotti
w3:   www.itopen.it

From a.neumann at carto.net  Mon Apr 13 06:56:51 2015
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 13 Apr 2015 15:56:51 +0200
Subject: [Qgis-developer] qlr files and preservation of layerids
Message-ID: <552BCB23.5060901@carto.net>

Hi,

I have a scenario where I would like to use qlr files, but need the old 
layer ids preserved when I import them into the project. I see that in 
its current incarnation the layerid is not exported and hence also can't 
be imported.

The reasoning is that other projects link to layers into my projects 
(embedded layers and groups) and thus layer id preservation is 
important. In my projects I would need to replace some layers with qlr 
layers that have similar settings, but differ a bit. Thus the layer ids 
need to be preserved.

Could there be an option when exporting and/or importing the qlr files 
that would allow the preservation of the layer ids?

Thanks,
Andreas

From cavallini at faunalia.it  Mon Apr 13 09:52:19 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 13 Apr 2015 18:52:19 +0200
Subject: [Qgis-developer] STEM Plugin without repository
In-Reply-To: <CAK4m-3wTacke37uQNUJBLmdFVSpTRrKVbV-Ks-1aesjdp-esyQ@mail.gmail.com>
References: <CAFO80_qYkb1erL8zwXsRUikX8E+5rhcMcgZ6aRT5hCSmYUMGHA@mail.gmail.com>
	<CAK4m-3wTacke37uQNUJBLmdFVSpTRrKVbV-Ks-1aesjdp-esyQ@mail.gmail.com>
Message-ID: <552BF443.5040208@faunalia.it>

Il 12/04/2015 22:58, Luca Delucchi ha scritto:

> The customers asked my to not publish the repo yet (before their first
> test), but if it is a problem I can ask them...

IMHO having a public bugtracker is the best way to have early testing.
Trying a plugin, discovering a bug, and not finding a public method to
open it is very frustrating, in my experience.

All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From lucadeluge at gmail.com  Mon Apr 13 12:47:25 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Mon, 13 Apr 2015 21:47:25 +0200
Subject: [Qgis-developer] STEM Plugin without repository
In-Reply-To: <552BF443.5040208@faunalia.it>
References: <CAFO80_qYkb1erL8zwXsRUikX8E+5rhcMcgZ6aRT5hCSmYUMGHA@mail.gmail.com>
	<CAK4m-3wTacke37uQNUJBLmdFVSpTRrKVbV-Ks-1aesjdp-esyQ@mail.gmail.com>
	<552BF443.5040208@faunalia.it>
Message-ID: <CAK4m-3z1XmA7QyN_ajGM1nTVkebdV0cfn7Mnspwz_4ngvL4R=g@mail.gmail.com>

On 13 April 2015 at 18:52, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Il 12/04/2015 22:58, Luca Delucchi ha scritto:
>
>> The customers asked my to not publish the repo yet (before their first
>> test), but if it is a problem I can ask them...
>
> IMHO having a public bugtracker is the best way to have early testing.
> Trying a plugin, discovering a bug, and not finding a public method to
> open it is very frustrating, in my experience.
>

I know, but they ask my to wait some weeks before open it, they want
to test the plugin, report the issues their self and after when these
issues will be fixed release another version and open the repository
to everybody.

I think in more or less one month the repository will be open to everybody

> All the best.
>


-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From sfkeller at gmail.com  Mon Apr 13 12:51:36 2015
From: sfkeller at gmail.com (Stefan Keller)
Date: Mon, 13 Apr 2015 21:51:36 +0200
Subject: [Qgis-developer] WFS-alike plugin with caching: approach? (Was WFS
	still fetches everything)
Message-ID: <CAFcOn28hafhqY7eec2929MyiWhbKNx8OA4ZVT+dzFmXLZ=zkbQ@mail.gmail.com>

Hi,

I'd like to enhance a WFS-alike Python plugin with caching.
Currently it simply creates a vector layer and attaches a REST
webservice on it which returns GeoJSON.
>From this time, the layer is not controlled anymore by the plugin and
reloads everytime the layer get's zoomed/panned or after QGIS project
is re-opened.
Now I'd like to refactor it and get more control over the layer and
implement caching.
1. What would be the best approach to implement the caching ? With a temp file?
2. How to tell QGIS after reloading the project, that the plugin is
needed (on a different machine or in case the plugin got
de-installed)?

Cheers, S.


2015-03-26 18:17 GMT+01:00 Marco Hugentobler <marco.hugentobler at sourcepole.ch>:
> Hi Giovanni
>
> Unchecking the option 'cache features' did exactly that (first fetch based
> on current view extent and refetching of new parts when panning). This seems
> broken now (maybe since the multithreaded rendering?).
>
> Another (not so convenient) method is to create an ogc filter by double
> clicking on the 'filter' column (enter ogc filter xml as a string in the
> expression editor).
>
> Regards,
> Marco
>
>
> On 26.03.2015 16:11, G. Allegri wrote:
>
> Hi,
> you probably read the question from Peter on qgis-user [1].
> Five years ago Marco said that this behaviour should have been changed
> (first fetch based on current view extent) but AFAICS the WFS provider still
> behaves the old way.
> Was this proposal discarded for some reason?
>
> Giovanni
>
> [1]http://lists.osgeo.org/pipermail/qgis-user/2015-March/031354.html
> [2] http://hub.qgis.org/issues/1421#note-4
> --
> Giovanni Allegri
> http://about.me/giovanniallegri
> Gis3W - http://gis3w.it
> Ikare - http://ikare.it
> Twitter: https://twitter.com/_giohappy_
> blog: http://blog.spaziogis.it
> GEO+ geomatica in Italia http://bit.ly/GEOplus
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Sourcepole -  Linux & Open Source Solutions
> Weberstrasse 5, CH-8004 Z?rich, Switzerland
> marco.hugentobler at sourcepole.ch http://www.sourcepole.ch
> Technical Advisor QGIS Project Steering Committee
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From Siegfried.Blank at lazbw.bwl.de  Tue Apr 14 01:47:58 2015
From: Siegfried.Blank at lazbw.bwl.de (Siegfried.Blank at lazbw.bwl.de)
Date: Tue, 14 Apr 2015 10:47:58 +0200
Subject: [Qgis-developer] formatted text in QgsTextAnnotationItem
Message-ID: <03BA48C3C322E8429DA79695AB6D91A92DFEB8@lazbw-s1.lazbw.mlrbw.net>

Hello all,
i'm writing a python plugin and use QgsTextAnnotationItem like

        message = "Hello world"
        textItem = QgsTextAnnotationItem( iface.mapCanvas() )
        textItem.setMapPosition(myPoint)
        textItem.setFrameSize(QSizeF(350,80))
        textItem.setDocument(QTextDocument(message))
        textItem.update()

How can I format the text like
        message = "Hello <b>world</b>" (this will not work ;-)

Thanks for any help

Siggi

From olivier.dalang at gmail.com  Tue Apr 14 04:48:57 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Tue, 14 Apr 2015 13:48:57 +0200
Subject: [Qgis-developer] worldfile update
Message-ID: <CAExk7p0ZUbyMnOhnFoK_UpjQ+9Ph143fnR0k6V2Ei72tsAFL6g@mail.gmail.com>

Dear list,

I need to be able to update a worldfile and see the changes reflected in
QGIS.

Actually, it almost works. The worldfile is reread on each refresh, and my
changes are correctly taken into account.
But the extent of the raster is not refreshed, so the raster is cropped to
it's initial extent. When zoomed in, and doing some small adjustments, it's
not a problem, but when doing bigger changes on the worldfile, the raster
can even become completely invisible.


The only workaround I found was to remove the raster and re-add it
completely on each mapcanvas change. But it's an overkill and has a lot of
drawbacks (styling, CRS, etc...)

I tried those functions to refresh the extent :

myRasterLayer.triggerRepaint()
myRasterLayer.dataProvider().reload()
myRasterLayer.recalculateExtents.emit()
self.iface.mapCanvas().refresh()

But none of them seem to do the trick... Am I missing the correct method ?

Thanks !!

Olivier
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150414/8f2529c8/attachment.html>

From alexander.bruy at gmail.com  Tue Apr 14 06:43:05 2015
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue, 14 Apr 2015 16:43:05 +0300
Subject: [Qgis-developer] Running QGIS and plugins on cluster
Message-ID: <CALuHMPDzqnB5adix7wPfkPzu3iXmTwRpQMOt4wfmRAP+k8rTYQ@mail.gmail.com>

Hi,

it is not a secret that running analysis tasks on a large datasets
may be time consuming. One of the possible solutions if to run
analysis in parallel.

So I'm wondering is it possible and makes sense to run QGIS plugin
on cluster to speed-up analysis. For example using MPI (through pypar
or mpi4py)? Anyone has such experience?
-- 
Alexander Bruy

From tech_dev at wildintellect.com  Tue Apr 14 08:55:31 2015
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Tue, 14 Apr 2015 08:55:31 -0700
Subject: [Qgis-developer] Running QGIS and plugins on cluster
In-Reply-To: <CALuHMPDzqnB5adix7wPfkPzu3iXmTwRpQMOt4wfmRAP+k8rTYQ@mail.gmail.com>
References: <CALuHMPDzqnB5adix7wPfkPzu3iXmTwRpQMOt4wfmRAP+k8rTYQ@mail.gmail.com>
Message-ID: <552D3873.3000507@wildintellect.com>

On 04/14/2015 06:43 AM, Alexander Bruy wrote:
> Hi,
> 
> it is not a secret that running analysis tasks on a large datasets
> may be time consuming. One of the possible solutions if to run
> analysis in parallel.
> 
> So I'm wondering is it possible and makes sense to run QGIS plugin
> on cluster to speed-up analysis. For example using MPI (through pypar
> or mpi4py)? Anyone has such experience?
> 

No reason you can't do something with MPI. Though that is a more
complicated cluster setup.

Plenty of work has been done in the past on using GRASS in a cluster
http://grasswiki.osgeo.org/wiki/Parallel_GRASS_jobs

If you have access to a cluster then the answer might depend on what
kind of compute cluster. I would actually try to abstract it behind
something like a WPS server and have QGIS just talk to the WPS server
that then uses GRASS, SAGA, Python(Shapely etc) or whatever cluster
computations you want in the background.

Also consider what you might actually want on a single compute node is
simply local parallel processing using the built in python multi core
support tools. Keep in mind that splitting jobs in a map/reduce way only
works for some types of computation.

Thanks,
Alex

From cavallini at faunalia.it  Tue Apr 14 09:21:22 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 14 Apr 2015 18:21:22 +0200
Subject: [Qgis-developer] Fwd: Transfer maintainer rights
In-Reply-To: <CAKOS6+1pGqA1XftALhan=Xxm6cqU+ive1M2U_AvW10_-8ocnew@mail.gmail.com>
References: <CACqX2SgPzDXbtihCyRchG2eTyw79YrBPOhAg7JGUGT_55KjhNw@mail.gmail.com>
	<CAKOS6+1pGqA1XftALhan=Xxm6cqU+ive1M2U_AvW10_-8ocnew@mail.gmail.com>
Message-ID: <552D3E82.3060308@faunalia.it>

Il 11/04/2015 10:20, Ervin W ha scritto:
> Dear Developers,
> with the forwarded e-mail (below) I would like to proof my claim to be
> the maintainer of Indicatrix mapper plugin. Please let me know if you've
> set, or going to set it.

Changed, thanks for maintaining it.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From cavallini at faunalia.it  Tue Apr 14 09:33:20 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 14 Apr 2015 18:33:20 +0200
Subject: [Qgis-developer] Topological editing for lines
Message-ID: <552D4150.9020704@faunalia.it>

Hi all,
Enabling topological editing for lines has an unexpected result:
coincident (terminal) vertices are not moved together, as it happens for
polygons. To me this is a bug; am I mising something?
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From cavallini at faunalia.it  Tue Apr 14 09:40:27 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 14 Apr 2015 18:40:27 +0200
Subject: [Qgis-developer] More sophisticated editing
Message-ID: <552D42FB.90204@faunalia.it>

Hi all,
currently, pseudotopological rules are applied during editing only
within the same layer. It would be useful to extend this also across
layers, e.g.:
* moving one point along a line should move also the line
* adding a point along a line (snapped to it) should split the line in two
Is someone interested in this feature? Someone working on it? Anyone has
evaluated the complexity of implementing it?
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From giohappy at gmail.com  Tue Apr 14 09:46:39 2015
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 14 Apr 2015 18:46:39 +0200
Subject: [Qgis-developer] Topological editing for lines
In-Reply-To: <552D4150.9020704@faunalia.it>
References: <552D4150.9020704@faunalia.it>
Message-ID: <CAB4g1=zapJHFrCb=3V3TbkuhK2Rz6zkDbdpgVEXRAQYF_8RABw@mail.gmail.com>

I can't reproduce it. It works for me...

giovanni

2015-04-14 18:33 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:

> Hi all,
> Enabling topological editing for lines has an unexpected result:
> coincident (terminal) vertices are not moved together, as it happens for
> polygons. To me this is a bug; am I mising something?
> All the best.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Giovanni Allegri
http://about.me/giovanniallegri
Gis3W - http://gis3w.it
Ikare - http://ikare.it
Twitter: https://twitter.com/_giohappy_
blog: http://blog.spaziogis.it
GEO+ geomatica in Italia http://bit.ly/GEOplus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150414/1d96d6a4/attachment-0001.html>

From giohappy at gmail.com  Tue Apr 14 09:51:58 2015
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 14 Apr 2015 18:51:58 +0200
Subject: [Qgis-developer] More sophisticated editing
In-Reply-To: <552D42FB.90204@faunalia.it>
References: <552D42FB.90204@faunalia.it>
Message-ID: <CAB4g1=x-+J5cA9y_YzMaEz+QjhCvppd2bHxENm8o5jXQWv9MsQ@mail.gmail.com>

You're raising an important point. I was thinking of it right in the past
days.
It's a point that many users bring to me when comparing QGIS to other
(proprietary) software solutions where pseudotopoligcal tools are strong
and very important for the quality management of data production/editing
workflows.
QGIS lacks advanced and fine grained controls and rules (help the user in
avoiding mistakes or granting specific data features).
Could we start to list "nice to have"'s inside a wiki page? It could be a
reference for further improvements and sponsoring (and maybe QEPs)

giovanni

2015-04-14 18:40 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:

> Hi all,
> currently, pseudotopological rules are applied during editing only
> within the same layer. It would be useful to extend this also across
> layers, e.g.:
> * moving one point along a line should move also the line
> * adding a point along a line (snapped to it) should split the line in two
> Is someone interested in this feature? Someone working on it? Anyone has
> evaluated the complexity of implementing it?
> All the best.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Giovanni Allegri
http://about.me/giovanniallegri
Gis3W - http://gis3w.it
Ikare - http://ikare.it
Twitter: https://twitter.com/_giohappy_
blog: http://blog.spaziogis.it
GEO+ geomatica in Italia http://bit.ly/GEOplus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150414/0a99f2e5/attachment.html>

From cavallini at faunalia.it  Tue Apr 14 09:57:09 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 14 Apr 2015 18:57:09 +0200
Subject: [Qgis-developer] Topological editing for lines
In-Reply-To: <CAB4g1=zapJHFrCb=3V3TbkuhK2Rz6zkDbdpgVEXRAQYF_8RABw@mail.gmail.com>
References: <552D4150.9020704@faunalia.it>
	<CAB4g1=zapJHFrCb=3V3TbkuhK2Rz6zkDbdpgVEXRAQYF_8RABw@mail.gmail.com>
Message-ID: <552D46E5.9010008@faunalia.it>

Il 14/04/2015 18:46, G. Allegri ha scritto:
> I can't reproduce it. It works for me...

thanks for checking. my case is: two segments are touching at the ends;
I select topological editing, but the endpoints are moved independently.
This is not happening in your case?
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From giohappy at gmail.com  Tue Apr 14 09:59:12 2015
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 14 Apr 2015 18:59:12 +0200
Subject: [Qgis-developer] Topological editing for lines
In-Reply-To: <552D46E5.9010008@faunalia.it>
References: <552D4150.9020704@faunalia.it>
	<CAB4g1=zapJHFrCb=3V3TbkuhK2Rz6zkDbdpgVEXRAQYF_8RABw@mail.gmail.com>
	<552D46E5.9010008@faunalia.it>
Message-ID: <CAB4g1=x5VWAMq2NCYdGTL2E5oz4HT2o2Mg9hTyN=aJ_kzK+jEA@mail.gmail.com>

No, my segments move together. I will double check it as soon as I'm back
to the office, but I tried it a few minutes ago...
Il 14/apr/2015 18:57 "Paolo Cavallini" <cavallini at faunalia.it> ha scritto:

> Il 14/04/2015 18:46, G. Allegri ha scritto:
> > I can't reproduce it. It works for me...
>
> thanks for checking. my case is: two segments are touching at the ends;
> I select topological editing, but the endpoints are moved independently.
> This is not happening in your case?
> All the best.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150414/b2e47215/attachment.html>

From cavallini at faunalia.it  Tue Apr 14 09:59:08 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 14 Apr 2015 18:59:08 +0200
Subject: [Qgis-developer] Project on DB
Message-ID: <552D475C.6040104@faunalia.it>

Hi all,
we have already discussed this, and I'd like to raise the point.
In corporate environment, it would be crucial to store both user
settings and default projects in the database, so that an user could
start with a preset environment. This is an extension of our previous
work, storing styles for individual layers.
Is anyone working on this, or interested to?
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From giohappy at gmail.com  Tue Apr 14 10:04:45 2015
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 14 Apr 2015 19:04:45 +0200
Subject: [Qgis-developer] Project on DB
In-Reply-To: <552D475C.6040104@faunalia.it>
References: <552D475C.6040104@faunalia.it>
Message-ID: <CAB4g1=yKRqLb7DiBUXuhQc331bjb8ad3-mNGFgKffM=zFKAm1A@mail.gmail.com>

We are not working on thia but I agree with you. A db project would help a
lot also for data concinstency, and this is a cross reference to the
topological tools post you wrote a few minutes ago: having a set of rules
stored within the DB. This would keep data coherent between users and
editing sessions.

my 2 cents

giovanni
Il 14/apr/2015 18:59 "Paolo Cavallini" <cavallini at faunalia.it> ha scritto:

> Hi all,
> we have already discussed this, and I'd like to raise the point.
> In corporate environment, it would be crucial to store both user
> settings and default projects in the database, so that an user could
> start with a preset environment. This is an extension of our previous
> work, storing styles for individual layers.
> Is anyone working on this, or interested to?
> All the best.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150414/aff0e9ca/attachment.html>

From cavallini at faunalia.it  Tue Apr 14 10:09:56 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 14 Apr 2015 19:09:56 +0200
Subject: [Qgis-developer] Topological editing for lines
In-Reply-To: <CAB4g1=x5VWAMq2NCYdGTL2E5oz4HT2o2Mg9hTyN=aJ_kzK+jEA@mail.gmail.com>
References: <552D4150.9020704@faunalia.it>	<CAB4g1=zapJHFrCb=3V3TbkuhK2Rz6zkDbdpgVEXRAQYF_8RABw@mail.gmail.com>	<552D46E5.9010008@faunalia.it>
	<CAB4g1=x5VWAMq2NCYdGTL2E5oz4HT2o2Mg9hTyN=aJ_kzK+jEA@mail.gmail.com>
Message-ID: <552D49E4.2090205@faunalia.it>

Il 14/04/2015 18:59, G. Allegri ha scritto:
> No, my segments move together. I will double check it as soon as I'm
> back to the office, but I tried it a few minutes ago...

thanks. you are right, this happens onlyfor specific elements in one
layer of mine. Still investigating.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From tom.chadwin at nnpa.org.uk  Tue Apr 14 12:23:26 2015
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 14 Apr 2015 12:23:26 -0700 (PDT)
Subject: [Qgis-developer] Python - save raster layer as rendered image
Message-ID: <1429039406949-5201346.post@n6.nabble.com>

How do I save a layer as a rendered image? qgis2leaf exports rasters, but
they are unrendered, and hence sometimes do not display correctly, if at
all. How do I "Save raster layer as..." "Rendered image" via Python?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Python-save-raster-layer-as-rendered-image-tp5201346.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From regis.haubourg at eau-adour-garonne.fr  Tue Apr 14 12:44:48 2015
From: regis.haubourg at eau-adour-garonne.fr (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 14 Apr 2015 12:44:48 -0700 (PDT)
Subject: [Qgis-developer] Project on DB
In-Reply-To: <552D475C.6040104@faunalia.it>
References: <552D475C.6040104@faunalia.it>
Message-ID: <1429040688219-5201348.post@n6.nabble.com>

Hmm, interesting idea. 
By now, I could deal with it with profile QGIS2.ini fine tuning.  
User settings also concerns all that is stored in .qgis profile (settings,
GUIncustomization, processing conf and use models).

What you suggest implies that QGIS can authenticate itself and register to a
DB. We would need then to add some LDAP or CAS to QGIS.  I remember Larry
was working on related topics. Any more ideas on that?
  Another point, I guess that we should before conclude on a long running
topic, the one about refactoring qgs file so that it can store additional
resources such as data stored along the project, svg resources, scripts. 
 This would hep defining what is a full profile and what is exactly a
project file.  

My 2 cents too ;-)





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Project-on-DB-tp5201328p5201348.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From adr.andre at laposte.net  Tue Apr 14 12:25:14 2015
From: adr.andre at laposte.net (adr.andre at laposte.net)
Date: Tue, 14 Apr 2015 21:25:14 +0200 (CEST)
Subject: [Qgis-developer] PyQGIS script - asPoint() always returning "(0, 0)"
In-Reply-To: <2032779390.34842231.1429038942397.JavaMail.zimbra@laposte.net>
Message-ID: <1638561062.34890576.1429039514541.JavaMail.zimbra@laposte.net>

Dear list, 

here is my PyQGIS script: 

##Points=vector 
layer_point = processing.getObject(Points) 

iter = layer_point.getFeatures() 
for point in iter: 
print "Feature ID %d: " % point.id() 

geom = point.geometry() 
if geom.type() == QGis.Point: 
x = geom.asPoint() 
print " Point: " + str(x) 


It always returns " Point: (0,0)" for each geometry 
despite layer_point .extent().toString() returns: 
"402100.4306666287011467,429938.4182564518414438 : 402469.0222782648634166,430309.6282568128081039" 


Would you know how i can debug this? 


Thank you in advance. 


Regards, 

Adrien 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150414/9ad582eb/attachment.html>

From cavallini at faunalia.it  Tue Apr 14 22:59:56 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 15 Apr 2015 07:59:56 +0200
Subject: [Qgis-developer] Project on DB
In-Reply-To: <1429040688219-5201348.post@n6.nabble.com>
References: <552D475C.6040104@faunalia.it>
	<1429040688219-5201348.post@n6.nabble.com>
Message-ID: <552DFE5C.1090109@faunalia.it>

Il 14/04/2015 21:44, R?gis Haubourg ha scritto:
> Hmm, interesting idea. 
> By now, I could deal with it with profile QGIS2.ini fine tuning.  
> User settings also concerns all that is stored in .qgis profile (settings,
> GUIncustomization, processing conf and use models).
> 
> What you suggest implies that QGIS can authenticate itself and register to a
> DB. We would need then to add some LDAP or CAS to QGIS.

I'm thinking to an option, similar to --configpath, so that qgis starts
authenticating itself against an existing DB, using the authentication
from the system (e.g. Active Directory, etc.).

> I remember Larry was working on related topics.

Right; Larry, what is the current state of art?

>   Another point, I guess that we should before conclude on a long running
> topic, the one about refactoring qgs file so that it can store additional
> resources such as data stored along the project, svg resources, scripts. 
>  This would hep defining what is a full profile and what is exactly a
> project file.  

This is nice, but it can evolve in parallel: once the double option
(.qgs and db) is in place, any additional info can be added to both.

All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From jlanstorp at gmail.com  Wed Apr 15 02:36:25 2015
From: jlanstorp at gmail.com (Jakob Lanstorp)
Date: Wed, 15 Apr 2015 02:36:25 -0700 (PDT)
Subject: [Qgis-developer] PyQGIS script - asPoint() always returning "(0,
	0)"
In-Reply-To: <1638561062.34890576.1429039514541.JavaMail.zimbra@laposte.net>
References: <1638561062.34890576.1429039514541.JavaMail.zimbra@laposte.net>
Message-ID: <1429090585324-5201420.post@n6.nabble.com>

I have seen this error when the table has geometries of multipoints and not
points. If this is the case try to convert your multipoint layer to points.

Jakob



-----
Jakob Lanstorp
--
View this message in context: http://osgeo-org.1560.x6.nabble.com/PyQGIS-script-asPoint-always-returning-0-0-tp5201349p5201420.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From geodrinx at gmail.com  Wed Apr 15 03:24:54 2015
From: geodrinx at gmail.com (Geo DrinX)
Date: Wed, 15 Apr 2015 12:24:54 +0200
Subject: [Qgis-developer] How to load a QLR file with pyQGIS ?
Message-ID: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>

Hello,


there is a way to load a QLR file with  pyQGIS ?

I tried using      vlayer.loadNamedStyle(qlrFileName)    but it seems not
to work.


What is the correct way ?


Thank you

Roberto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150415/f9cde530/attachment.html>

From delazj at gmail.com  Wed Apr 15 09:20:49 2015
From: delazj at gmail.com (Junior Delaz)
Date: Wed, 15 Apr 2015 18:20:49 +0200
Subject: [Qgis-developer] Designing a plugin : TypeError raised on MacOS
	machines but not on Windows
Message-ID: <CAECJsSo7aJbLSHj5qTS32Qqx26FdZ0aK5-VeEXq8PPCSbfxgWw@mail.gmail.com>

Hi all,
I'm testing a plugin I created with Plugin Builder on different platforms
and encounter a problem I can't understand. The same piece of code works on
Windows machines but not on MacOS ones where I get this error message.


Traceback (most recent call last):
  File
"/Users/harrissou/.qgis2/python/plugins/MapsPrinter/maps_printer.py", line
369, in saveFile
    progress.setLabelText(self.tr( u'Exporting maps from {}?'.format(title)
))
  File
"/Users/harrissou/.qgis2/python/plugins/MapsPrinter/maps_printer.py", line
87, in tr
    return QCoreApplication.translate('MapsPrinter', message)
TypeError: function takes exactly 5 arguments (1 given)

QCoreApplication.translate is called in a tr function that is generated by
Plugin Builder :

    def tr(self, message):
        """Get the translation for a string using Qt translation API.

        We implement this ourselves since we do not inherit QObject.

        :param message: String for translation.
        :type message: str, QString

        :returns: Translated version of message.
        :rtype: QString
        """
        # noinspection PyTypeChecker,PyArgumentList,PyCallByClass
        return QCoreApplication.translate('MapsPrinter', message)

Each time I run on MacOS, I get the previous error. But I remark that I
don't get this error if in the saveFile function, instead of
progress.setLabelText(self.tr( u'Exporting maps from {}?'.format(title) ))
I put
progress.setLabelText(self.tr( 'Exporting maps from {}?'.format(title) ))

All goes well except that I can't manage special characters and therefore
can encounter an UnicodeEncodeError error (on both platforms). But it never
complains about QCoreApplication.translate function.

Traceback (most recent call last):
  File
"/Users/harrissou/.qgis2/python/plugins/MapsPrinter/maps_printer.py", line
368, in saveFile
    progress.setLabelText(self.tr( 'Exporting maps from {}?'.format(title)
))
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe9' in
position 11: ordinal not in range(128)

Any idea is welcome.
Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150415/91399f4b/attachment.html>

From gsherman at geoapt.com  Wed Apr 15 09:39:21 2015
From: gsherman at geoapt.com (Gary Sherman)
Date: Wed, 15 Apr 2015 08:39:21 -0800
Subject: [Qgis-developer] How to load a QLR file with pyQGIS ?
In-Reply-To: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>
References: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>
Message-ID: <552E9439.9090805@geoapt.com>

On 4/15/15 2:24 AM, Geo DrinX wrote:
> Hello,
>
>
> there is a way to load a QLR file with  pyQGIS ?
>
> I tried using      vlayer.loadNamedStyle(qlrFileName)    but it seems
> not to work.
>
>
> What is the correct way ?
>
That is the correct way. Have you done the following after applying the 
style?:

vlayer.triggerRepaint()

You can test the result of applying the style using:

result = vlayer.loadNamedStyle(qlrFileName)

If result if False, the style was not loaded/applied.

-gary

>
> Thank you
>
> Roberto
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Gary Sherman

Founder, QGIS Project
Consulting: geoapt.com
Publishing: locatepress.com

We work virtually anywhere
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

From carmelo at carmelo.ch  Wed Apr 15 12:54:56 2015
From: carmelo at carmelo.ch (Carmelo Schumacher)
Date: Wed, 15 Apr 2015 21:54:56 +0200
Subject: [Qgis-developer] Customized VectorLayer for ArcGIS REST API
	Connector
Message-ID: <6DE1DD21-B8F5-4CEF-9196-D2178238A31E@carmelo.ch>

Hi Devs

I am currently working on the "ArcGIS REST API Connector Plugin"[1] trying to find a way to use QgsVectorLayer. The webservice (callef "ArcGIS Feature Service") returns valid GeoJSON and the QgsVectorLayer's datasource url can point to the service that provides this GeoJSON (this is done in the current version of the plugin). The problem is that there exists no query to retrieve all features from an ArcGIS Feature Layer at once/in one service call (if there are more than 1000 features). 

So my approach is the following: The feature list is populated through multiple service calls and temporarily stored/cached as GeoJSON-File. The QgsVectorLayer's datasource url points to this file. The file is repopulated occasionally on request/event. Probably the best way to achieve this would be to write a CustomVectorDataProvider that inherits from VectorDataProvider and is injected into the VectorLayer. But I didn't find a way to do this with PyQGIS.  

I then tried to use a QgsPluginLayer as an adapter to a QgsVectorLayer. The CustomPluginLayer would hold a reference to an instance of VectorLayer and delegates all the functionality of a VectorLayer to this instance. This would allow the (re)population of the local GeoJSON file, when the layer is loaded or refreshed. But I didn't find a way to achieve this. 

1. What actions are possibly needed to (re)connect? 
2. Or are there methods/structures missing in the Python API wrapper to QGIS C++ API?
3. Is there a good overview/doc over the activities/instances involved when an VectorLayer is added to a map by calling QgsMapLayerRegistry.instance().addMapLayer(layer) or alternatively when a VectorLayer is created/added through iface.addVectorLayer? 

Any input/ideas would be very much appreciated. 

Kind regards
Carmelo Schumacher

[1] http://giswiki.hsr.ch/QGIS_ArcGIS_REST_API_Connector_Plugin <http://giswiki.hsr.ch/QGIS_ArcGIS_REST_API_Connector_Plugin>

------------
Carmelo Schumacher
Institut f?r Software (IFS)
Hochschule f?r Technik Rapperswil 
Oberseestrasse 10, 8640 Rapperswil, CH
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150415/c3b49e48/attachment.html>

From cavallini at faunalia.it  Wed Apr 15 23:33:34 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 16 Apr 2015 08:33:34 +0200
Subject: [Qgis-developer] Processing: two PostGIS import tools
Message-ID: <552F57BE.4040406@faunalia.it>

Hi all.
I see in Processing there are two tools to import data into PostGIS. One
(that based on OGR) seems much more efficient than the other. Is there a
reason to keep the second?
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From geodrinx at gmail.com  Wed Apr 15 23:50:56 2015
From: geodrinx at gmail.com (Geo DrinX)
Date: Thu, 16 Apr 2015 08:50:56 +0200
Subject: [Qgis-developer] How to load a QLR file with pyQGIS ?
In-Reply-To: <552E9439.9090805@geoapt.com>
References: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>
	<552E9439.9090805@geoapt.com>
Message-ID: <CAFF9ZhvdXpr_+2+E7gsqzERjvHLfLU++rLhMOi3gDGgPki-7pQ@mail.gmail.com>

Very strange   :(

I inserted also the    triggerRepaint()   but nothing changes.

This is my sourcecode:

https://github.com/geodrinx/smartroadsense/blob/master/smartroadsense.py


If I drag and drop in  QGIS  my  "srs_data.qlr"   file, it works.

Instead, from python code, the style is not applied.

Could be because my data file is a CSV ?


2015-04-15 18:39 GMT+02:00 Gary Sherman <gsherman at geoapt.com>:

> On 4/15/15 2:24 AM, Geo DrinX wrote:
>
>> Hello,
>>
>>
>> there is a way to load a QLR file with  pyQGIS ?
>>
>> I tried using      vlayer.loadNamedStyle(qlrFileName)    but it seems
>> not to work.
>>
>>
>> What is the correct way ?
>>
>>  That is the correct way. Have you done the following after applying the
> style?:
>
> vlayer.triggerRepaint()
>
> You can test the result of applying the style using:
>
> result = vlayer.loadNamedStyle(qlrFileName)
>
> If result if False, the style was not loaded/applied.
>
> -gary
>
>
>> Thank you
>>
>> Roberto
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
> --
> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=
> Gary Sherman
>
> Founder, QGIS Project
> Consulting: geoapt.com
> Publishing: locatepress.com
>
> We work virtually anywhere
> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150416/e78adf33/attachment.html>

From madmanwoo at gmail.com  Wed Apr 15 23:55:41 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 16 Apr 2015 06:55:41 +0000
Subject: [Qgis-developer] How to load a QLR file with pyQGIS ?
In-Reply-To: <CAFF9ZhvdXpr_+2+E7gsqzERjvHLfLU++rLhMOi3gDGgPki-7pQ@mail.gmail.com>
References: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>
	<552E9439.9090805@geoapt.com>
	<CAFF9ZhvdXpr_+2+E7gsqzERjvHLfLU++rLhMOi3gDGgPki-7pQ@mail.gmail.com>
Message-ID: <CAAi8Yg_noYdwjws52TKPW_Tc3zO-c4hO3LZUkVVpCj4gfqQhiA@mail.gmail.com>

Hey,

QLR files are not style files  they can't be loaded like that.
Unfortunately the API for loading a QLR is broken in 2.8.1 but will be
fixed in 2.8.2, however the logic isn't very complex and you can translate
it to Python from C++.  The source is here
https://github.com/qgis/QGIS/blob/master/src/core/qgslayerdefinition.cpp#L36
.

If you don't need to support loading groups from the QLR you can use this:

QList<QgsMapLayer*> layers = QgsMapLayer::fromLayerDefinition( doc );
QgsMapLayerRegistry::instance()->addMapLayers( layers, True);

- Nathan


On Thu, 16 Apr 2015 at 16:51 Geo DrinX <geodrinx at gmail.com> wrote:

> Very strange   :(
>
> I inserted also the    triggerRepaint()   but nothing changes.
>
> This is my sourcecode:
>
> https://github.com/geodrinx/smartroadsense/blob/master/smartroadsense.py
>
>
> If I drag and drop in  QGIS  my  "srs_data.qlr"   file, it works.
>
> Instead, from python code, the style is not applied.
>
> Could be because my data file is a CSV ?
>
>
> 2015-04-15 18:39 GMT+02:00 Gary Sherman <gsherman at geoapt.com>:
>
>> On 4/15/15 2:24 AM, Geo DrinX wrote:
>>
>>> Hello,
>>>
>>>
>>> there is a way to load a QLR file with  pyQGIS ?
>>>
>>> I tried using      vlayer.loadNamedStyle(qlrFileName)    but it seems
>>> not to work.
>>>
>>>
>>> What is the correct way ?
>>>
>>>  That is the correct way. Have you done the following after applying the
>> style?:
>>
>> vlayer.triggerRepaint()
>>
>> You can test the result of applying the style using:
>>
>> result = vlayer.loadNamedStyle(qlrFileName)
>>
>> If result if False, the style was not loaded/applied.
>>
>> -gary
>>
>>
>>> Thank you
>>>
>>> Roberto
>>>
>>>
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>> --
>> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=
>> Gary Sherman
>>
>> Founder, QGIS Project
>> Consulting: geoapt.com
>> Publishing: locatepress.com
>>
>> We work virtually anywhere
>> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150416/ff373eed/attachment.html>

From geodrinx at gmail.com  Thu Apr 16 00:35:15 2015
From: geodrinx at gmail.com (Geo DrinX)
Date: Thu, 16 Apr 2015 09:35:15 +0200
Subject: [Qgis-developer] How to load a QLR file with pyQGIS ?
In-Reply-To: <CAAi8Yg_noYdwjws52TKPW_Tc3zO-c4hO3LZUkVVpCj4gfqQhiA@mail.gmail.com>
References: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>
	<552E9439.9090805@geoapt.com>
	<CAFF9ZhvdXpr_+2+E7gsqzERjvHLfLU++rLhMOi3gDGgPki-7pQ@mail.gmail.com>
	<CAAi8Yg_noYdwjws52TKPW_Tc3zO-c4hO3LZUkVVpCj4gfqQhiA@mail.gmail.com>
Message-ID: <CAFF9ZhvE784QaNoVa+kv4UGKZwP=JGCjEy6nqVpJmC2id9rCjQ@mail.gmail.com>

> QLR files are not style files
>

I am trying with  a .qml  file,  but the result is the same :  no style
applied using a CSV and python.

Instead, if I use  SHP and QML, the style is applied immediately after
loading the SHP.

But, for do this, I should need convert my CSV into SHP every time, before.

Well, I'll do this if there is no alternative.

Or, I will try to define the style of the level directly through python.
Is possible to do this ?   I will study.


- Roberto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150416/d5b6fb0d/attachment-0001.html>

From madmanwoo at gmail.com  Thu Apr 16 00:38:52 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 16 Apr 2015 07:38:52 +0000
Subject: [Qgis-developer] How to load a QLR file with pyQGIS ?
In-Reply-To: <CAFF9ZhvE784QaNoVa+kv4UGKZwP=JGCjEy6nqVpJmC2id9rCjQ@mail.gmail.com>
References: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>
	<552E9439.9090805@geoapt.com>
	<CAFF9ZhvdXpr_+2+E7gsqzERjvHLfLU++rLhMOi3gDGgPki-7pQ@mail.gmail.com>
	<CAAi8Yg_noYdwjws52TKPW_Tc3zO-c4hO3LZUkVVpCj4gfqQhiA@mail.gmail.com>
	<CAFF9ZhvE784QaNoVa+kv4UGKZwP=JGCjEy6nqVpJmC2id9rCjQ@mail.gmail.com>
Message-ID: <CAAi8Yg_kRORAMGCQ8o0ekT=aumheeT1Qu_QHfw2zkE_v08Ddwg@mail.gmail.com>

Ok but your said QLR in your message hence my answer.

Natham

On Thu, 16 Apr 2015 5:35 pm Geo DrinX <geodrinx at gmail.com> wrote:

>
> QLR files are not style files
>>
>
> I am trying with  a .qml  file,  but the result is the same :  no style
> applied using a CSV and python.
>
> Instead, if I use  SHP and QML, the style is applied immediately after
> loading the SHP.
>
> But, for do this, I should need convert my CSV into SHP every time, before.
>
> Well, I'll do this if there is no alternative.
>
> Or, I will try to define the style of the level directly through python.
> Is possible to do this ?   I will study.
>
>
> - Roberto
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150416/da465217/attachment.html>

From tom.chadwin at nnpa.org.uk  Thu Apr 16 03:19:08 2015
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 16 Apr 2015 03:19:08 -0700 (PDT)
Subject: [Qgis-developer] Python - granular access to rules in rule-based
	renderer
Message-ID: <1429179548819-5201632.post@n6.nabble.com>

I'm implementing rule-based rendering in qgis2leaf. I know I can get the
filterExpressions with:

qgis.utils.iface.mapCanvas().layers().rendererV2().rootRule().children().filterExpression()

However, filterExpressions are in "SQL-like" syntax. I need to transform
these into JavaScript:

QGIS:  "name"  LIKE '%a%'
JS: feature.properties.name.indexOf('a') != -1

At the moment, I am facing a whole load of messy regexps to cover all
possible expressions (probably impossible). Is there more granular access to
the filterExpression than retrieving the whole string? That could allow me
to build the JS programmatically, which could be possible.



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Python-granular-access-to-rules-in-rule-based-renderer-tp5201632.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From madmanwoo at gmail.com  Thu Apr 16 04:28:02 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 16 Apr 2015 11:28:02 +0000
Subject: [Qgis-developer] Python - granular access to rules in
	rule-based renderer
In-Reply-To: <1429179548819-5201632.post@n6.nabble.com>
References: <1429179548819-5201632.post@n6.nabble.com>
Message-ID: <CAAi8Yg84w-W3CSXkymNiu4PWP0+0UFV9Tt2yd-ZMa5eHLe5GVA@mail.gmail.com>

Hey Tom,

Don't use regex.  You are in for a world of pain if you go that way, and
not the kind of pain you feel good about after.  I will have a better
method for you soon.

- Nathan

On Thu, 16 Apr 2015 at 20:20 Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:

> I'm implementing rule-based rendering in qgis2leaf. I know I can get the
> filterExpressions with:
>
>
> qgis.utils.iface.mapCanvas().layers().rendererV2().rootRule().children().filterExpression()
>
> However, filterExpressions are in "SQL-like" syntax. I need to transform
> these into JavaScript:
>
> QGIS:  "name"  LIKE '%a%'
> JS: feature.properties.name.indexOf('a') != -1
>
> At the moment, I am facing a whole load of messy regexps to cover all
> possible expressions (probably impossible). Is there more granular access
> to
> the filterExpression than retrieving the whole string? That could allow me
> to build the JS programmatically, which could be possible.
>
>
>
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/Python-granular-access-to-rules-in-rule-based-renderer-tp5201632.html
> Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150416/d8bff0f2/attachment.html>

From tom.chadwin at nnpa.org.uk  Thu Apr 16 04:39:57 2015
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 16 Apr 2015 04:39:57 -0700 (PDT)
Subject: [Qgis-developer] Python - granular access to rules in
	rule-based renderer
In-Reply-To: <CAAi8Yg84w-W3CSXkymNiu4PWP0+0UFV9Tt2yd-ZMa5eHLe5GVA@mail.gmail.com>
References: <1429179548819-5201632.post@n6.nabble.com>
	<CAAi8Yg84w-W3CSXkymNiu4PWP0+0UFV9Tt2yd-ZMa5eHLe5GVA@mail.gmail.com>
Message-ID: <1429184397680-5201656.post@n6.nabble.com>

Hi Nathan

> Don't use regex.  You are in for a world of pain if you go that way, and
> not the kind of pain you feel good about after.

Akin to:

http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags

Many thanks for looking into it ? very much appreciated.

Tom



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Python-granular-access-to-rules-in-rule-based-renderer-tp5201632p5201656.html
Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.

From gsherman at geoapt.com  Thu Apr 16 07:53:24 2015
From: gsherman at geoapt.com (Gary Sherman)
Date: Thu, 16 Apr 2015 06:53:24 -0800
Subject: [Qgis-developer] How to load a QLR file with pyQGIS ?
In-Reply-To: <CAAi8Yg_noYdwjws52TKPW_Tc3zO-c4hO3LZUkVVpCj4gfqQhiA@mail.gmail.com>
References: <CAFF9Zhut6-+6Eq07j6ZN4mBhvB4LR-aEPkfgRg9iKWbuWc_mTA@mail.gmail.com>
	<552E9439.9090805@geoapt.com>
	<CAFF9ZhvdXpr_+2+E7gsqzERjvHLfLU++rLhMOi3gDGgPki-7pQ@mail.gmail.com>
	<CAAi8Yg_noYdwjws52TKPW_Tc3zO-c4hO3LZUkVVpCj4gfqQhiA@mail.gmail.com>
Message-ID: <552FCCE4.1090908@geoapt.com>



On 4/15/15 10:55 PM, Nathan Woodrow wrote:
> Hey,
>
> QLR files are not style files  they can't be loaded like that.

OH :) My brain read QML...

> Unfortunately the API for loading a QLR is broken in 2.8.1 but will be
> fixed in 2.8.2, however the logic isn't very complex and you can
> translate it to Python from C++.  The source is here
> https://github.com/qgis/QGIS/blob/master/src/core/qgslayerdefinition.cpp#L36.
>
> If you don't need to support loading groups from the QLR you can use this:
>
> QList<QgsMapLayer*> layers = QgsMapLayer::fromLayerDefinition( doc );
> QgsMapLayerRegistry::instance()->addMapLayers( layers, True);
>
> - Nathan
>
>
> On Thu, 16 Apr 2015 at 16:51 Geo DrinX <geodrinx at gmail.com
> <mailto:geodrinx at gmail.com>> wrote:
>
>     Very strange   :(
>
>     I inserted also the    triggerRepaint()   but nothing changes.
>
>     This is my sourcecode:
>
>     https://github.com/geodrinx/smartroadsense/blob/master/smartroadsense.py
>
>
>     If I drag and drop in  QGIS  my  "srs_data.qlr"   file, it works.
>
>     Instead, from python code, the style is not applied.
>
>     Could be because my data file is a CSV?
>
>
>     2015-04-15 18:39 GMT+02:00 Gary Sherman <gsherman at geoapt.com
>     <mailto:gsherman at geoapt.com>>:
>
>         On 4/15/15 2:24 AM, Geo DrinX wrote:
>
>             Hello,
>
>
>             there is a way to load a QLR file with  pyQGIS ?
>
>             I tried using      vlayer.loadNamedStyle(__qlrFileName)
>             but it seems
>             not to work.
>
>
>             What is the correct way ?
>
>         That is the correct way. Have you done the following after
>         applying the style?:
>
>         vlayer.triggerRepaint()
>
>         You can test the result of applying the style using:
>
>         result = vlayer.loadNamedStyle(__qlrFileName)
>
>         If result if False, the style was not loaded/applied.
>
>         -gary
>
>
>             Thank you
>
>             Roberto
>
>
>             _________________________________________________
>             Qgis-developer mailing list
>             Qgis-developer at lists.osgeo.org
>             <mailto:Qgis-developer at lists.osgeo.org>
>             http://lists.osgeo.org/__mailman/listinfo/qgis-__developer
>             <http://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>         --
>         =-=-=-=-=-=-=-=-=-=-=-=-=-=-=
>         Gary Sherman
>
>         Founder, QGIS Project
>         Consulting: geoapt.com <http://geoapt.com>
>         Publishing: locatepress.com <http://locatepress.com>
>
>         We work virtually anywhere
>         =-=-=-=-=-=-=-=-=-=-=-=-=-=-=
>         _________________________________________________
>         Qgis-developer mailing list
>         Qgis-developer at lists.osgeo.org
>         <mailto:Qgis-developer at lists.osgeo.org>
>         http://lists.osgeo.org/__mailman/listinfo/qgis-__developer
>         <http://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Gary Sherman

Founder, QGIS Project
Consulting: geoapt.com
Publishing: locatepress.com

We work virtually anywhere
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

From cavallini at faunalia.it  Thu Apr 16 10:08:46 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 16 Apr 2015 19:08:46 +0200
Subject: [Qgis-developer] Oracle connection fails for OGR import into PostGIS
Message-ID: <552FEC9E.5060306@faunalia.it>

Hi all.
An Oracle layer can be dragged and dropped to PostGIS through DB
Manager. The same layer, once loaded in QGIS, should be imported through
the new OGR importer in Processing, but this method (which should be
much more efficient) fails:

GDAL execution console output
FAILURE:
Unable to open datasource `dbname='AUI.ESERCIZIO' host=oraaui.enel
port=1523 user='georef' password='aui_georef$1' estimatedmetadata=true
srid=8307 type=POINT table="GEOREF"."GEO_NODI_BT" (GEOMETRY_WGS84) sql='
with the following drivers.
  -> OCI
  -> SOSI
...

Apparently a bug in the Processing tool, or there are other explanations?

Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From matthias at opengis.ch  Thu Apr 16 23:09:02 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 17 Apr 2015 08:09:02 +0200
Subject: [Qgis-developer] ValueMap: Why is the first row of my ComboBox
 empty?
In-Reply-To: <1428788387922-5200932.post@n6.nabble.com>
References: <1428788387922-5200932.post@n6.nabble.com>
Message-ID: <5530A37E.9070803@opengis.ch>

Hi,

Are you referring to identifying an existing feature or adding a new
feature?

For the first case, no row is selected if for the value of the
identified feature no entry can be found in the map. If it can be found
in the valuemap it should always select an entry. Please open a bug
report if you find a misbehavior here.

For the second case a default value would be good indeed.

Regards
Matthias

On 04/11/2015 11:39 PM, luna wrote:
> I define a field of a vector layer as ValueMap. I define the values manually,
> then the feature attribute dialog appears with the combobox. But the first
> row in my combobox is empty.
> I use QGis2.8. In QGis2.0 the first row was not empty.
>
> <http://osgeo-org.1560.x6.nabble.com/file/n5200932/1.jpg> 
>
> <http://osgeo-org.1560.x6.nabble.com/file/n5200932/2.jpg> 
>
> Why is the first row of my ComboBox empty?
> If I click "ok" immediately without using the combobox I get a strange
> character () in the attribut tablel. 
>
> Regards
>
>
>
> --
> View this message in context: http://osgeo-org.1560.x6.nabble.com/ValueMap-Why-is-the-first-row-of-my-ComboBox-empty-tp5200932.html
> Sent from the Quantum GIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/ef9d2870/attachment.pgp>

From cavallini at faunalia.it  Fri Apr 17 01:40:14 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 17 Apr 2015 10:40:14 +0200
Subject: [Qgis-developer] Processing: different default for alg standalone
	and within models
Message-ID: <5530C6EE.6040002@faunalia.it>

Hi all,
I noticed that the default method for saga:slope,aspect etc is 6,
whereas the same alg when used in a model has a default of 0. To me this
is a bug: am I missing something?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From kimaidou at gmail.com  Fri Apr 17 01:46:12 2015
From: kimaidou at gmail.com (kimaidou)
Date: Fri, 17 Apr 2015 10:46:12 +0200
Subject: [Qgis-developer] Force canvas to predefined scales : help needed to
	improve a script
Message-ID: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>

Hi QGIS !

I would like to be able in QGIS to force the canvas scales to some
predefined ones. Since we now have project scales (and QGIS pre-defined
scales) in the scale selector, we could use them, and add a simple checkbox
near the combobox "Stick to predefined scales".

The aim is to force the canvas to render only at these scales. For example,
if I use the rectangle zoom tool, and I should go toe 1/56003, I would
instead land on 1/50000 , the closest pre-defined scale.

I made a little python script as a proof of concept to illustrate it :
http://paste.debian.net/167247/

In this script, I hard coded the scales, but oviously we should get them
from the project properties.

I have a question regarding my script. Since I use the
QgsMapCanvas::scaleChanged signal, I assume the rendering is done twice ?
Once the "normal" way, and once again after I use the
QgsMapCanvas::zoomScale method after calculating the new target scale.

Any idea for improving it ? I assume I would have to disconnect one (not
found yet) signal/slot, then set the scale and reconnect this signal/slot
afterwards ?

Regards

Micha?l
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/e6c87e6e/attachment.html>

From dkiselev at osm.me  Fri Apr 17 02:10:22 2015
From: dkiselev at osm.me (dkiselev at osm.me)
Date: Fri, 17 Apr 2015 14:10:22 +0500
Subject: [Qgis-developer] QGIS OSM import
Message-ID: <4326211429261822@web6m.yandex.ru>

Hi everyone.

There is a great tool in QGIS - import/export OSM data from SpatiaLlite DB.

But there is the one inconvenience:
I can't save layers generation script. 

What I mean. 
When you make Export, QGIS will create new table and layer with selected OSM objects tags and selected geometry type.
And I want to get those queries for creation of these layers and tables to be saved with QGIS project.

Now you have to provide instructions how to create layers witch tags to load and what styles to apply if you want to share project based on OSM data.
Or use one dataset in your projects. And having a script for tables will allows you to open project, add newly converted SpatialLite db with OSM data for yours area of interest. 
Run tables/layers creation script from QGIS project and get a new area with old saved layers.

It've tryed to made this feature by my self but I'm a new one in QGIS development and I fails to find where OSM SpatialLite layers are created. 
So I'll be very thankfull if sombody is interested in this feature or may give me a few datails where I could find layers metadata save/load and OSM to/from SpatiaLite conversion API.

Best regards, Dmitry.

From hugo.mercier at oslandia.com  Fri Apr 17 02:26:25 2015
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Fri, 17 Apr 2015 11:26:25 +0200
Subject: [Qgis-developer] Force canvas to predefined scales : help
 needed to improve a script
In-Reply-To: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
References: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
Message-ID: <5530D1C1.2000007@oslandia.com>

Hi,

Le 17/04/2015 10:46, kimaidou a ?crit :
> Hi QGIS !
> 
> I would like to be able in QGIS to force the canvas scales to some
> predefined ones. Since we now have project scales (and QGIS pre-defined
> scales) in the scale selector, we could use them, and add a simple
> checkbox near the combobox "Stick to predefined scales".
> 
> The aim is to force the canvas to render only at these scales. For
> example, if I use the rectangle zoom tool, and I should go toe 1/56003,
> I would instead land on 1/50000 , the closest pre-defined scale.

That would be nice to have it in the core. I already had to do something
similar with a plugin.

> 
> I made a little python script as a proof of concept to illustrate it :
> http://paste.debian.net/167247/
> 
> In this script, I hard coded the scales, but oviously we should get them
> from the project properties.
> 
> I have a question regarding my script. Since I use the
> QgsMapCanvas::scaleChanged signal, I assume the rendering is done twice
> ? Once the "normal" way, and once again after I use the
> QgsMapCanvas::zoomScale method after calculating the new target scale.
> 
> Any idea for improving it ? I assume I would have to disconnect one (not
> found yet) signal/slot, then set the scale and reconnect this
> signal/slot afterwards ?

QObject::blockSignals might be of help here. But in this case, you don't
want to block all signals, only yours.

I guess your solution would work.
You can also use a flag in your callback, something like :

    def setScale( self, scale ):
	if self.reentrant:
		return

        targetScale = min(
            self.predefinedScales,
            key=lambda x:abs(x-scale)
        )
	self.reentrant = True
        self.mc.zoomScale( targetScale )
	self.reentrant = False


From junek at gbd-consult.de  Fri Apr 17 02:36:17 2015
From: junek at gbd-consult.de (Larissa Junek)
Date: Fri, 17 Apr 2015 11:36:17 +0200
Subject: [Qgis-developer] information stored in a project file (2.8)
Message-ID: <20150417113617.21bc1bc9@gbd1>

Hello,
I had a look at my *.qgs-files and so far I understand that there is
information stored about
* Layers added
* Layer properties, icluding symbolisation and styles
* Projection for the map view
* Last viewed extend
* Print Composers
* Print Composer elements with settings
* Print Composer atlas settings
* Digitizing settings

Did I miss something essential? I want to insert the descriptions into
the QGIS user manual 2.8.

Thanks in advance.

Kind regards,
Larissa 

From denis.rouzaud at gmail.com  Fri Apr 17 02:48:58 2015
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 17 Apr 2015 11:48:58 +0200
Subject: [Qgis-developer] information stored in a project file (2.8)
In-Reply-To: <20150417113617.21bc1bc9@gbd1>
References: <20150417113617.21bc1bc9@gbd1>
Message-ID: <5530D70A.5060708@gmail.com>

I would add plugins settings, custom layer properties

On 04/17/2015 11:36 AM, Larissa Junek wrote:
> Hello,
> I had a look at my *.qgs-files and so far I understand that there is
> information stored about
> * Layers added
> * Layer properties, icluding symbolisation and styles
> * Projection for the map view
> * Last viewed extend
> * Print Composers
> * Print Composer elements with settings
> * Print Composer atlas settings
> * Digitizing settings
>
> Did I miss something essential? I want to insert the descriptions into
> the QGIS user manual 2.8.
>
> Thanks in advance.
>
> Kind regards,
> Larissa
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From a.neumann at carto.net  Fri Apr 17 03:07:48 2015
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 17 Apr 2015 12:07:48 +0200
Subject: [Qgis-developer] information stored in a project file (2.8)
In-Reply-To: <5530D70A.5060708@gmail.com>
References: <20150417113617.21bc1bc9@gbd1> <5530D70A.5060708@gmail.com>
Message-ID: <5530DB74.5050805@carto.net>

Hi,

And you can add

* Table Relations
* Project Macros
* Project default styles
* Which layers can be queried
* QGIS Server settings (the settings in the project settings tab -> OWS 
tab).

The longer I think, the longer the list gets ;-) there is a lot of 
information in the project file - basically everything except the raw data.

Note that should be "last viewed extent" (not extend).

Best greetings,
Andreas

On 17.04.2015 11:48, Denis Rouzaud wrote:
> I would add plugins settings, custom layer properties
>
> On 04/17/2015 11:36 AM, Larissa Junek wrote:
>> Hello,
>> I had a look at my *.qgs-files and so far I understand that there is
>> information stored about
>> * Layers added
>> * Layer properties, icluding symbolisation and styles
>> * Projection for the map view
>> * Last viewed extend
>> * Print Composers
>> * Print Composer elements with settings
>> * Print Composer atlas settings
>> * Digitizing settings
>>
>> Did I miss something essential? I want to insert the descriptions into
>> the QGIS user manual 2.8.
>>
>> Thanks in advance.
>>
>> Kind regards,
>> Larissa
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From kimaidou at gmail.com  Fri Apr 17 03:27:19 2015
From: kimaidou at gmail.com (kimaidou)
Date: Fri, 17 Apr 2015 12:27:19 +0200
Subject: [Qgis-developer] Force canvas to predefined scales : help
 needed to improve a script
In-Reply-To: <5530D1C1.2000007@oslandia.com>
References: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
	<5530D1C1.2000007@oslandia.com>
Message-ID: <CAMKXKO7OgH+BETtbAsS4kQde1=boXXwnP=WNdkRXcBK5QeUSUQ@mail.gmail.com>

Hi Hugo,

Thanks for the anwser. I used some "print scale" and "print targetScale" in
my script to check the behavious, and I did not have any "infinite loop" or
strange behaviour with it. It seems the related QGIS code is armed against
this risks.

This python script was only a prototype, and I will surely have a look at
the cpp classes and propose a PR to add this option in QGIS core.

Micha?l

2015-04-17 11:26 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:

> Hi,
>
> Le 17/04/2015 10:46, kimaidou a ?crit :
> > Hi QGIS !
> >
> > I would like to be able in QGIS to force the canvas scales to some
> > predefined ones. Since we now have project scales (and QGIS pre-defined
> > scales) in the scale selector, we could use them, and add a simple
> > checkbox near the combobox "Stick to predefined scales".
> >
> > The aim is to force the canvas to render only at these scales. For
> > example, if I use the rectangle zoom tool, and I should go toe 1/56003,
> > I would instead land on 1/50000 , the closest pre-defined scale.
>
> That would be nice to have it in the core. I already had to do something
> similar with a plugin.
>
> >
> > I made a little python script as a proof of concept to illustrate it :
> > http://paste.debian.net/167247/
> >
> > In this script, I hard coded the scales, but oviously we should get them
> > from the project properties.
> >
> > I have a question regarding my script. Since I use the
> > QgsMapCanvas::scaleChanged signal, I assume the rendering is done twice
> > ? Once the "normal" way, and once again after I use the
> > QgsMapCanvas::zoomScale method after calculating the new target scale.
> >
> > Any idea for improving it ? I assume I would have to disconnect one (not
> > found yet) signal/slot, then set the scale and reconnect this
> > signal/slot afterwards ?
>
> QObject::blockSignals might be of help here. But in this case, you don't
> want to block all signals, only yours.
>
> I guess your solution would work.
> You can also use a flag in your callback, something like :
>
>     def setScale( self, scale ):
>         if self.reentrant:
>                 return
>
>         targetScale = min(
>             self.predefinedScales,
>             key=lambda x:abs(x-scale)
>         )
>         self.reentrant = True
>         self.mc.zoomScale( targetScale )
>         self.reentrant = False
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/75503c61/attachment-0001.html>

From Stefan.Blumentrath at nina.no  Fri Apr 17 03:10:13 2015
From: Stefan.Blumentrath at nina.no (Blumentrath, Stefan)
Date: Fri, 17 Apr 2015 10:10:13 +0000
Subject: [Qgis-developer] [Qgis-user] information stored in a project
	file (2.8)
In-Reply-To: <20150417113617.21bc1bc9@gbd1>
References: <20150417113617.21bc1bc9@gbd1>
Message-ID: <afa8fcebd4bb492983ec9a95a3d1fb63@NINSRV23.nina.no>

Hei Larissa,

Not sure how essential / relevant it is:
QGIS version and Queries stored in dbManager go also into the project file (at the moment).

Cheers
Stefan

-----Original Message-----
From: qgis-user-bounces at lists.osgeo.org [mailto:qgis-user-bounces at lists.osgeo.org] On Behalf Of Larissa Junek
Sent: 17. april 2015 11:36
To: QGIS Mailing List; qgis-developer at lists.osgeo.org
Subject: [Qgis-user] information stored in a project file (2.8)

Hello,
I had a look at my *.qgs-files and so far I understand that there is information stored about
* Layers added
* Layer properties, icluding symbolisation and styles
* Projection for the map view
* Last viewed extend
* Print Composers
* Print Composer elements with settings
* Print Composer atlas settings
* Digitizing settings

Did I miss something essential? I want to insert the descriptions into the QGIS user manual 2.8.

Thanks in advance.

Kind regards,
Larissa
_______________________________________________
Qgis-user mailing list
Qgis-user at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-user

From adr.andre at laposte.net  Fri Apr 17 04:30:05 2015
From: adr.andre at laposte.net (=?UTF-8?B?QWRyaWVuIEFORFLDiQ==?=)
Date: Fri, 17 Apr 2015 08:30:05 -0300
Subject: [Qgis-developer] PyQGIS script - asPoint() always returning "(0,
	0)"
In-Reply-To: <mailman.1860.1429115964.19517.qgis-developer@lists.osgeo.org>
References: <mailman.1860.1429115964.19517.qgis-developer@lists.osgeo.org>
Message-ID: <5530EEBD.1080806@laposte.net>

Thank you!

i used MultipartToSingleparts source to improve my script
(https://github.com/qgis/QGIS/blob/master/python/plugins/processing/algs/qgis/MultipartToSingleparts.py).


Adrien


Le 15/04/2015 13:39, qgis-developer-request at lists.osgeo.org a ?crit :
> I have seen this error when the table has geometries of multipoints and not
> points. If this is the case try to convert your multipoint layer to points.

From kimaidou at gmail.com  Fri Apr 17 05:30:14 2015
From: kimaidou at gmail.com (kimaidou)
Date: Fri, 17 Apr 2015 14:30:14 +0200
Subject: [Qgis-developer] Force canvas to predefined scales : help
 needed to improve a script
In-Reply-To: <CAMKXKO7OgH+BETtbAsS4kQde1=boXXwnP=WNdkRXcBK5QeUSUQ@mail.gmail.com>
References: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
	<5530D1C1.2000007@oslandia.com>
	<CAMKXKO7OgH+BETtbAsS4kQde1=boXXwnP=WNdkRXcBK5QeUSUQ@mail.gmail.com>
Message-ID: <CAMKXKO4CZ-kUpT2=_StjYYrFHvYzZehNvh5T2ADLTMod45f8CA@mail.gmail.com>

Hi all,

Improve version here:
https://gist.github.com/mdouchin/72a09b629a5557c1dc1c

with:

* "replayed" variable to avoid probable infinite loop, thanks to Hugo's
proposal

* you can now initialize the method with a python list of scales you want
to force canvas to:

fs =  fs = forcedScale( [25000, 50000, 100000 ] )

Cheers,
Micha?l

2015-04-17 12:27 GMT+02:00 kimaidou <kimaidou at gmail.com>:

> Hi Hugo,
>
> Thanks for the anwser. I used some "print scale" and "print targetScale"
> in my script to check the behavious, and I did not have any "infinite loop"
> or strange behaviour with it. It seems the related QGIS code is armed
> against this risks.
>
> This python script was only a prototype, and I will surely have a look at
> the cpp classes and propose a PR to add this option in QGIS core.
>
> Micha?l
>
> 2015-04-17 11:26 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
>
>> Hi,
>>
>> Le 17/04/2015 10:46, kimaidou a ?crit :
>> > Hi QGIS !
>> >
>> > I would like to be able in QGIS to force the canvas scales to some
>> > predefined ones. Since we now have project scales (and QGIS pre-defined
>> > scales) in the scale selector, we could use them, and add a simple
>> > checkbox near the combobox "Stick to predefined scales".
>> >
>> > The aim is to force the canvas to render only at these scales. For
>> > example, if I use the rectangle zoom tool, and I should go toe 1/56003,
>> > I would instead land on 1/50000 , the closest pre-defined scale.
>>
>> That would be nice to have it in the core. I already had to do something
>> similar with a plugin.
>>
>> >
>> > I made a little python script as a proof of concept to illustrate it :
>> > http://paste.debian.net/167247/
>> >
>> > In this script, I hard coded the scales, but oviously we should get them
>> > from the project properties.
>> >
>> > I have a question regarding my script. Since I use the
>> > QgsMapCanvas::scaleChanged signal, I assume the rendering is done twice
>> > ? Once the "normal" way, and once again after I use the
>> > QgsMapCanvas::zoomScale method after calculating the new target scale.
>> >
>> > Any idea for improving it ? I assume I would have to disconnect one (not
>> > found yet) signal/slot, then set the scale and reconnect this
>> > signal/slot afterwards ?
>>
>> QObject::blockSignals might be of help here. But in this case, you don't
>> want to block all signals, only yours.
>>
>> I guess your solution would work.
>> You can also use a flag in your callback, something like :
>>
>>     def setScale( self, scale ):
>>         if self.reentrant:
>>                 return
>>
>>         targetScale = min(
>>             self.predefinedScales,
>>             key=lambda x:abs(x-scale)
>>         )
>>         self.reentrant = True
>>         self.mc.zoomScale( targetScale )
>>         self.reentrant = False
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/c4436ba5/attachment.html>

From madmanwoo at gmail.com  Fri Apr 17 05:32:50 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 17 Apr 2015 12:32:50 +0000
Subject: [Qgis-developer] Force canvas to predefined scales : help
 needed to improve a script
In-Reply-To: <CAMKXKO4CZ-kUpT2=_StjYYrFHvYzZehNvh5T2ADLTMod45f8CA@mail.gmail.com>
References: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
	<5530D1C1.2000007@oslandia.com>
	<CAMKXKO7OgH+BETtbAsS4kQde1=boXXwnP=WNdkRXcBK5QeUSUQ@mail.gmail.com>
	<CAMKXKO4CZ-kUpT2=_StjYYrFHvYzZehNvh5T2ADLTMod45f8CA@mail.gmail.com>
Message-ID: <CAAi8Yg-717UANv5ZT6Wtw_uqck9y-i0K0F1k9_nub6Ms1G0v6w@mail.gmail.com>

def __init__( self, *predefinedScales ):
and you can do this

forcedScale(25000, 50000, 100000)

On Fri, 17 Apr 2015 at 22:30 kimaidou <kimaidou at gmail.com> wrote:

> Hi all,
>
> Improve version here:
> https://gist.github.com/mdouchin/72a09b629a5557c1dc1c
>
> with:
>
> * "replayed" variable to avoid probable infinite loop, thanks to Hugo's
> proposal
>
> * you can now initialize the method with a python list of scales you want
> to force canvas to:
>
> fs =  fs = forcedScale( [25000, 50000, 100000 ] )
>
> Cheers,
> Micha?l
>
> 2015-04-17 12:27 GMT+02:00 kimaidou <kimaidou at gmail.com>:
>
>> Hi Hugo,
>>
>> Thanks for the anwser. I used some "print scale" and "print targetScale"
>> in my script to check the behavious, and I did not have any "infinite loop"
>> or strange behaviour with it. It seems the related QGIS code is armed
>> against this risks.
>>
>> This python script was only a prototype, and I will surely have a look at
>> the cpp classes and propose a PR to add this option in QGIS core.
>>
>> Micha?l
>>
>> 2015-04-17 11:26 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
>>
>>> Hi,
>>>
>>> Le 17/04/2015 10:46, kimaidou a ?crit :
>>> > Hi QGIS !
>>> >
>>> > I would like to be able in QGIS to force the canvas scales to some
>>> > predefined ones. Since we now have project scales (and QGIS pre-defined
>>> > scales) in the scale selector, we could use them, and add a simple
>>> > checkbox near the combobox "Stick to predefined scales".
>>> >
>>> > The aim is to force the canvas to render only at these scales. For
>>> > example, if I use the rectangle zoom tool, and I should go toe 1/56003,
>>> > I would instead land on 1/50000 , the closest pre-defined scale.
>>>
>>> That would be nice to have it in the core. I already had to do something
>>> similar with a plugin.
>>>
>>> >
>>> > I made a little python script as a proof of concept to illustrate it :
>>> > http://paste.debian.net/167247/
>>> >
>>> > In this script, I hard coded the scales, but oviously we should get
>>> them
>>> > from the project properties.
>>> >
>>> > I have a question regarding my script. Since I use the
>>> > QgsMapCanvas::scaleChanged signal, I assume the rendering is done twice
>>> > ? Once the "normal" way, and once again after I use the
>>> > QgsMapCanvas::zoomScale method after calculating the new target scale.
>>> >
>>> > Any idea for improving it ? I assume I would have to disconnect one
>>> (not
>>> > found yet) signal/slot, then set the scale and reconnect this
>>> > signal/slot afterwards ?
>>>
>>> QObject::blockSignals might be of help here. But in this case, you don't
>>> want to block all signals, only yours.
>>>
>>> I guess your solution would work.
>>> You can also use a flag in your callback, something like :
>>>
>>>     def setScale( self, scale ):
>>>         if self.reentrant:
>>>                 return
>>>
>>>         targetScale = min(
>>>             self.predefinedScales,
>>>             key=lambda x:abs(x-scale)
>>>         )
>>>         self.reentrant = True
>>>         self.mc.zoomScale( targetScale )
>>>         self.reentrant = False
>>>
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/71a0b71b/attachment-0001.html>

From kimaidou at gmail.com  Fri Apr 17 05:34:45 2015
From: kimaidou at gmail.com (kimaidou)
Date: Fri, 17 Apr 2015 14:34:45 +0200
Subject: [Qgis-developer] Force canvas to predefined scales : help
 needed to improve a script
In-Reply-To: <CAAi8Yg-717UANv5ZT6Wtw_uqck9y-i0K0F1k9_nub6Ms1G0v6w@mail.gmail.com>
References: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
	<5530D1C1.2000007@oslandia.com>
	<CAMKXKO7OgH+BETtbAsS4kQde1=boXXwnP=WNdkRXcBK5QeUSUQ@mail.gmail.com>
	<CAMKXKO4CZ-kUpT2=_StjYYrFHvYzZehNvh5T2ADLTMod45f8CA@mail.gmail.com>
	<CAAi8Yg-717UANv5ZT6Wtw_uqck9y-i0K0F1k9_nub6Ms1G0v6w@mail.gmail.com>
Message-ID: <CAMKXKO4=4x6rNdu8B7snF3=xrnt+pF7A0gLT=TgaorYL-hGfUQ@mail.gmail.com>

More pythonesque Nathan, thanks !

2015-04-17 14:32 GMT+02:00 Nathan Woodrow <madmanwoo at gmail.com>:

> def __init__( self, *predefinedScales ):
> and you can do this
>
> forcedScale(25000, 50000, 100000)
>
> On Fri, 17 Apr 2015 at 22:30 kimaidou <kimaidou at gmail.com> wrote:
>
>> Hi all,
>>
>> Improve version here:
>> https://gist.github.com/mdouchin/72a09b629a5557c1dc1c
>>
>> with:
>>
>> * "replayed" variable to avoid probable infinite loop, thanks to Hugo's
>> proposal
>>
>> * you can now initialize the method with a python list of scales you want
>> to force canvas to:
>>
>> fs =  fs = forcedScale( [25000, 50000, 100000 ] )
>>
>> Cheers,
>> Micha?l
>>
>> 2015-04-17 12:27 GMT+02:00 kimaidou <kimaidou at gmail.com>:
>>
>>> Hi Hugo,
>>>
>>> Thanks for the anwser. I used some "print scale" and "print targetScale"
>>> in my script to check the behavious, and I did not have any "infinite loop"
>>> or strange behaviour with it. It seems the related QGIS code is armed
>>> against this risks.
>>>
>>> This python script was only a prototype, and I will surely have a look
>>> at the cpp classes and propose a PR to add this option in QGIS core.
>>>
>>> Micha?l
>>>
>>> 2015-04-17 11:26 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
>>>
>>>> Hi,
>>>>
>>>> Le 17/04/2015 10:46, kimaidou a ?crit :
>>>> > Hi QGIS !
>>>> >
>>>> > I would like to be able in QGIS to force the canvas scales to some
>>>> > predefined ones. Since we now have project scales (and QGIS
>>>> pre-defined
>>>> > scales) in the scale selector, we could use them, and add a simple
>>>> > checkbox near the combobox "Stick to predefined scales".
>>>> >
>>>> > The aim is to force the canvas to render only at these scales. For
>>>> > example, if I use the rectangle zoom tool, and I should go toe
>>>> 1/56003,
>>>> > I would instead land on 1/50000 , the closest pre-defined scale.
>>>>
>>>> That would be nice to have it in the core. I already had to do something
>>>> similar with a plugin.
>>>>
>>>> >
>>>> > I made a little python script as a proof of concept to illustrate it :
>>>> > http://paste.debian.net/167247/
>>>> >
>>>> > In this script, I hard coded the scales, but oviously we should get
>>>> them
>>>> > from the project properties.
>>>> >
>>>> > I have a question regarding my script. Since I use the
>>>> > QgsMapCanvas::scaleChanged signal, I assume the rendering is done
>>>> twice
>>>> > ? Once the "normal" way, and once again after I use the
>>>> > QgsMapCanvas::zoomScale method after calculating the new target scale.
>>>> >
>>>> > Any idea for improving it ? I assume I would have to disconnect one
>>>> (not
>>>> > found yet) signal/slot, then set the scale and reconnect this
>>>> > signal/slot afterwards ?
>>>>
>>>> QObject::blockSignals might be of help here. But in this case, you don't
>>>> want to block all signals, only yours.
>>>>
>>>> I guess your solution would work.
>>>> You can also use a flag in your callback, something like :
>>>>
>>>>     def setScale( self, scale ):
>>>>         if self.reentrant:
>>>>                 return
>>>>
>>>>         targetScale = min(
>>>>             self.predefinedScales,
>>>>             key=lambda x:abs(x-scale)
>>>>         )
>>>>         self.reentrant = True
>>>>         self.mc.zoomScale( targetScale )
>>>>         self.reentrant = False
>>>>
>>>> _______________________________________________
>>>> Qgis-developer mailing list
>>>> Qgis-developer at lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/f17bfcf9/attachment.html>

From madmanwoo at gmail.com  Fri Apr 17 05:40:42 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 17 Apr 2015 12:40:42 +0000
Subject: [Qgis-developer] Force canvas to predefined scales : help
 needed to improve a script
In-Reply-To: <CAMKXKO4=4x6rNdu8B7snF3=xrnt+pF7A0gLT=TgaorYL-hGfUQ@mail.gmail.com>
References: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
	<5530D1C1.2000007@oslandia.com>
	<CAMKXKO7OgH+BETtbAsS4kQde1=boXXwnP=WNdkRXcBK5QeUSUQ@mail.gmail.com>
	<CAMKXKO4CZ-kUpT2=_StjYYrFHvYzZehNvh5T2ADLTMod45f8CA@mail.gmail.com>
	<CAAi8Yg-717UANv5ZT6Wtw_uqck9y-i0K0F1k9_nub6Ms1G0v6w@mail.gmail.com>
	<CAMKXKO4=4x6rNdu8B7snF3=xrnt+pF7A0gLT=TgaorYL-hGfUQ@mail.gmail.com>
Message-ID: <CAAi8Yg9i73OB-x0ZPwTLs0K+PqPTFKhJa6RMhkpLT6EjhXx5Hg@mail.gmail.com>

And here is a different way using just functions:

(https://gist.github.com/mdouchin/72a09b629a5557c1dc1c#comment-1435388)

def forcedScale(*scales):
    replayed = False

    def setScale(scale ):
        iface.mapCanvas().scaleChanged.disconnect(setScale)

        print "initial scale: %s" % scale

        targetScale = min(
            scales,
            key=lambda x:abs(x-scale)
        )
        if targetScale == scale:
            return

        print "zoom to %s" % targetScale
        iface.mapCanvas().zoomScale( targetScale )
        iface.mapCanvas().scaleChanged.connect(setScale)

    # pre-defined scales
    predefinedScales = [
        5000,
        10000,
        25000,
        50000,
        100000,
        250000,
        500000
    ]

    # avoid loop

    iface.mapCanvas().scaleChanged.connect(setScale)

    if not scales:
        scales = predefinedScales

On Fri, 17 Apr 2015 at 22:34 kimaidou <kimaidou at gmail.com> wrote:

> More pythonesque Nathan, thanks !
>
> 2015-04-17 14:32 GMT+02:00 Nathan Woodrow <madmanwoo at gmail.com>:
>
>> def __init__( self, *predefinedScales ):
>> and you can do this
>>
>> forcedScale(25000, 50000, 100000)
>>
>> On Fri, 17 Apr 2015 at 22:30 kimaidou <kimaidou at gmail.com> wrote:
>>
>>> Hi all,
>>>
>>> Improve version here:
>>> https://gist.github.com/mdouchin/72a09b629a5557c1dc1c
>>>
>>> with:
>>>
>>> * "replayed" variable to avoid probable infinite loop, thanks to Hugo's
>>> proposal
>>>
>>> * you can now initialize the method with a python list of scales you
>>> want to force canvas to:
>>>
>>> fs =  fs = forcedScale( [25000, 50000, 100000 ] )
>>>
>>> Cheers,
>>> Micha?l
>>>
>>> 2015-04-17 12:27 GMT+02:00 kimaidou <kimaidou at gmail.com>:
>>>
>>>> Hi Hugo,
>>>>
>>>> Thanks for the anwser. I used some "print scale" and "print
>>>> targetScale" in my script to check the behavious, and I did not have any
>>>> "infinite loop" or strange behaviour with it. It seems the related QGIS
>>>> code is armed against this risks.
>>>>
>>>> This python script was only a prototype, and I will surely have a look
>>>> at the cpp classes and propose a PR to add this option in QGIS core.
>>>>
>>>> Micha?l
>>>>
>>>> 2015-04-17 11:26 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
>>>>
>>>>> Hi,
>>>>>
>>>>> Le 17/04/2015 10:46, kimaidou a ?crit :
>>>>> > Hi QGIS !
>>>>> >
>>>>> > I would like to be able in QGIS to force the canvas scales to some
>>>>> > predefined ones. Since we now have project scales (and QGIS
>>>>> pre-defined
>>>>> > scales) in the scale selector, we could use them, and add a simple
>>>>> > checkbox near the combobox "Stick to predefined scales".
>>>>> >
>>>>> > The aim is to force the canvas to render only at these scales. For
>>>>> > example, if I use the rectangle zoom tool, and I should go toe
>>>>> 1/56003,
>>>>> > I would instead land on 1/50000 , the closest pre-defined scale.
>>>>>
>>>>> That would be nice to have it in the core. I already had to do
>>>>> something
>>>>> similar with a plugin.
>>>>>
>>>>> >
>>>>> > I made a little python script as a proof of concept to illustrate it
>>>>> :
>>>>> > http://paste.debian.net/167247/
>>>>> >
>>>>> > In this script, I hard coded the scales, but oviously we should get
>>>>> them
>>>>> > from the project properties.
>>>>> >
>>>>> > I have a question regarding my script. Since I use the
>>>>> > QgsMapCanvas::scaleChanged signal, I assume the rendering is done
>>>>> twice
>>>>> > ? Once the "normal" way, and once again after I use the
>>>>> > QgsMapCanvas::zoomScale method after calculating the new target
>>>>> scale.
>>>>> >
>>>>> > Any idea for improving it ? I assume I would have to disconnect one
>>>>> (not
>>>>> > found yet) signal/slot, then set the scale and reconnect this
>>>>> > signal/slot afterwards ?
>>>>>
>>>>> QObject::blockSignals might be of help here. But in this case, you
>>>>> don't
>>>>> want to block all signals, only yours.
>>>>>
>>>>> I guess your solution would work.
>>>>> You can also use a flag in your callback, something like :
>>>>>
>>>>>     def setScale( self, scale ):
>>>>>         if self.reentrant:
>>>>>                 return
>>>>>
>>>>>         targetScale = min(
>>>>>             self.predefinedScales,
>>>>>             key=lambda x:abs(x-scale)
>>>>>         )
>>>>>         self.reentrant = True
>>>>>         self.mc.zoomScale( targetScale )
>>>>>         self.reentrant = False
>>>>>
>>>>> _______________________________________________
>>>>> Qgis-developer mailing list
>>>>> Qgis-developer at lists.osgeo.org
>>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>
>>>>
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/c273c4a1/attachment-0001.html>

From kimaidou at gmail.com  Fri Apr 17 05:41:55 2015
From: kimaidou at gmail.com (kimaidou)
Date: Fri, 17 Apr 2015 14:41:55 +0200
Subject: [Qgis-developer] Force canvas to predefined scales : help
 needed to improve a script
In-Reply-To: <CAAi8Yg9i73OB-x0ZPwTLs0K+PqPTFKhJa6RMhkpLT6EjhXx5Hg@mail.gmail.com>
References: <CAMKXKO6RUKe0qmz2Oi3CQ-a==6WgxLtUosJXoX7pyyPO6Aow7Q@mail.gmail.com>
	<5530D1C1.2000007@oslandia.com>
	<CAMKXKO7OgH+BETtbAsS4kQde1=boXXwnP=WNdkRXcBK5QeUSUQ@mail.gmail.com>
	<CAMKXKO4CZ-kUpT2=_StjYYrFHvYzZehNvh5T2ADLTMod45f8CA@mail.gmail.com>
	<CAAi8Yg-717UANv5ZT6Wtw_uqck9y-i0K0F1k9_nub6Ms1G0v6w@mail.gmail.com>
	<CAMKXKO4=4x6rNdu8B7snF3=xrnt+pF7A0gLT=TgaorYL-hGfUQ@mail.gmail.com>
	<CAAi8Yg9i73OB-x0ZPwTLs0K+PqPTFKhJa6RMhkpLT6EjhXx5Hg@mail.gmail.com>
Message-ID: <CAMKXKO4XXpbbQZ1TiibCUBFuTgsgV=O8-dNxqD8gU1DqYJ1tjA@mail.gmail.com>

Thanks a lot Nathan !

2015-04-17 14:40 GMT+02:00 Nathan Woodrow <madmanwoo at gmail.com>:

> And here is a different way using just functions:
>
> (https://gist.github.com/mdouchin/72a09b629a5557c1dc1c#comment-1435388)
>
> def forcedScale(*scales):
>     replayed = False
>
>     def setScale(scale ):
>         iface.mapCanvas().scaleChanged.disconnect(setScale)
>
>         print "initial scale: %s" % scale
>
>         targetScale = min(
>             scales,
>             key=lambda x:abs(x-scale)
>         )
>         if targetScale == scale:
>             return
>
>         print "zoom to %s" % targetScale
>         iface.mapCanvas().zoomScale( targetScale )
>         iface.mapCanvas().scaleChanged.connect(setScale)
>
>     # pre-defined scales
>     predefinedScales = [
>         5000,
>         10000,
>         25000,
>         50000,
>         100000,
>         250000,
>         500000
>     ]
>
>     # avoid loop
>
>     iface.mapCanvas().scaleChanged.connect(setScale)
>
>     if not scales:
>         scales = predefinedScales
>
> On Fri, 17 Apr 2015 at 22:34 kimaidou <kimaidou at gmail.com> wrote:
>
>> More pythonesque Nathan, thanks !
>>
>> 2015-04-17 14:32 GMT+02:00 Nathan Woodrow <madmanwoo at gmail.com>:
>>
>>> def __init__( self, *predefinedScales ):
>>> and you can do this
>>>
>>> forcedScale(25000, 50000, 100000)
>>>
>>> On Fri, 17 Apr 2015 at 22:30 kimaidou <kimaidou at gmail.com> wrote:
>>>
>>>> Hi all,
>>>>
>>>> Improve version here:
>>>> https://gist.github.com/mdouchin/72a09b629a5557c1dc1c
>>>>
>>>> with:
>>>>
>>>> * "replayed" variable to avoid probable infinite loop, thanks to Hugo's
>>>> proposal
>>>>
>>>> * you can now initialize the method with a python list of scales you
>>>> want to force canvas to:
>>>>
>>>> fs =  fs = forcedScale( [25000, 50000, 100000 ] )
>>>>
>>>> Cheers,
>>>> Micha?l
>>>>
>>>> 2015-04-17 12:27 GMT+02:00 kimaidou <kimaidou at gmail.com>:
>>>>
>>>>> Hi Hugo,
>>>>>
>>>>> Thanks for the anwser. I used some "print scale" and "print
>>>>> targetScale" in my script to check the behavious, and I did not have any
>>>>> "infinite loop" or strange behaviour with it. It seems the related QGIS
>>>>> code is armed against this risks.
>>>>>
>>>>> This python script was only a prototype, and I will surely have a look
>>>>> at the cpp classes and propose a PR to add this option in QGIS core.
>>>>>
>>>>> Micha?l
>>>>>
>>>>> 2015-04-17 11:26 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> Le 17/04/2015 10:46, kimaidou a ?crit :
>>>>>> > Hi QGIS !
>>>>>> >
>>>>>> > I would like to be able in QGIS to force the canvas scales to some
>>>>>> > predefined ones. Since we now have project scales (and QGIS
>>>>>> pre-defined
>>>>>> > scales) in the scale selector, we could use them, and add a simple
>>>>>> > checkbox near the combobox "Stick to predefined scales".
>>>>>> >
>>>>>> > The aim is to force the canvas to render only at these scales. For
>>>>>> > example, if I use the rectangle zoom tool, and I should go toe
>>>>>> 1/56003,
>>>>>> > I would instead land on 1/50000 , the closest pre-defined scale.
>>>>>>
>>>>>> That would be nice to have it in the core. I already had to do
>>>>>> something
>>>>>> similar with a plugin.
>>>>>>
>>>>>> >
>>>>>> > I made a little python script as a proof of concept to illustrate
>>>>>> it :
>>>>>> > http://paste.debian.net/167247/
>>>>>> >
>>>>>> > In this script, I hard coded the scales, but oviously we should get
>>>>>> them
>>>>>> > from the project properties.
>>>>>> >
>>>>>> > I have a question regarding my script. Since I use the
>>>>>> > QgsMapCanvas::scaleChanged signal, I assume the rendering is done
>>>>>> twice
>>>>>> > ? Once the "normal" way, and once again after I use the
>>>>>> > QgsMapCanvas::zoomScale method after calculating the new target
>>>>>> scale.
>>>>>> >
>>>>>> > Any idea for improving it ? I assume I would have to disconnect one
>>>>>> (not
>>>>>> > found yet) signal/slot, then set the scale and reconnect this
>>>>>> > signal/slot afterwards ?
>>>>>>
>>>>>> QObject::blockSignals might be of help here. But in this case, you
>>>>>> don't
>>>>>> want to block all signals, only yours.
>>>>>>
>>>>>> I guess your solution would work.
>>>>>> You can also use a flag in your callback, something like :
>>>>>>
>>>>>>     def setScale( self, scale ):
>>>>>>         if self.reentrant:
>>>>>>                 return
>>>>>>
>>>>>>         targetScale = min(
>>>>>>             self.predefinedScales,
>>>>>>             key=lambda x:abs(x-scale)
>>>>>>         )
>>>>>>         self.reentrant = True
>>>>>>         self.mc.zoomScale( targetScale )
>>>>>>         self.reentrant = False
>>>>>>
>>>>>> _______________________________________________
>>>>>> Qgis-developer mailing list
>>>>>> Qgis-developer at lists.osgeo.org
>>>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>
>>>>>
>>>>>
>>>> _______________________________________________
>>>> Qgis-developer mailing list
>>>> Qgis-developer at lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150417/aaf18bf6/attachment.html>

From rldhont at gmail.com  Fri Apr 17 05:44:42 2015
From: rldhont at gmail.com (=?UTF-8?B?UmVuw6ktTHVjIERob250?=)
Date: Fri, 17 Apr 2015 14:44:42 +0200
Subject: [Qgis-developer] How to get the feature count of a
	QgsFeatureRequest ?
Message-ID: <5531003A.20706@gmail.com>

Hi dev,

I'd like to know if it's possible to have the feature count of a 
QgsFeatureRequest.

I'd like to avoid a loop on QgsFeatureIterator to count features. It's 
possible ?

Regards
Ren?-Luc

From matthias at opengis.ch  Fri Apr 17 05:52:25 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 17 Apr 2015 14:52:25 +0200
Subject: [Qgis-developer] How to get the feature count of a
 QgsFeatureRequest ?
In-Reply-To: <5531003A.20706@gmail.com>
References: <5531003A.20706@gmail.com>
Message-ID: <55310209.4000508@opengis.ch>

Unfortunately not but it would be extremely nice to introduce this!

On 04/17/2015 02:44 PM, Ren?-Luc Dhont wrote:
> Hi dev,
>
> I'd like to know if it's possible to have the feature count of a
> QgsFeatureRequest.
>
> I'd like to avoid a loop on QgsFeatureIterator to count features. It's
> possible ?
>
> Regards
> Ren?-Luc
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From cavallini at faunalia.it  Fri Apr 17 10:16:00 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 17 Apr 2015 19:16:00 +0200
Subject: [Qgis-developer] Error in running some SAGA modules in OSGeo4W 64
	bit
Message-ID: <55313FD0.5080806@faunalia.it>

Hi all.
Some saga modules under Processing (e.g. fill sinks) fail with:

ERROR 1: Can't load requested DLL:
C:\PROGRA~1\QGISWI~1\apps\saga\dll\gdal_MrSID.dll

127: The specified procedure could not be found.

I suspect a problem in the installer: anyone confirms?
Thanks.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From cavallini at faunalia.it  Sat Apr 18 03:49:40 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 18 Apr 2015 12:49:40 +0200
Subject: [Qgis-developer] Lock on PostGIS: how to communicate to user? Plus
	crash
Message-ID: <553236C4.6050804@faunalia.it>

Hi all.

AFAIK, concurrency on a PostGIS layer is handled only in a general
manner in QGIS, and concurrent users do not get notification of the
layer being edited (locked) by another user. Am I missing anything?
I believe it would be good implementing a notification system "this
layer is being edited, your changes may be lost; proceed anyway?". Eve
better, the lock should be at record level, so the user would get the
warning only when selecting a record being edited elsewhere.
Anyone interested?

In addition, I tried:
* loaded a pg layer twice
* edited the same object (node tool) in the two layers
* I save the first
* when I save the second, I get a crash.
If anyone confirms, I'll open a bug.

Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From giovanni.manghi at gmail.com  Sun Apr 19 03:48:59 2015
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Sun, 19 Apr 2015 11:48:59 +0100
Subject: [Qgis-developer] Lock on PostGIS: how to communicate to user?
	Plus crash
Message-ID: <CACfnYnSog5bJvB1Csh6nLZv5kebjYse4cbU3WTa6iTKv1cmMAQ@mail.gmail.com>

> In addition, I tried:
> * loaded a pg layer twice
> * edited the same object (node tool) in the two layers
> * I save the first
> * when I save the second, I get a crash.
> If anyone confirms, I'll open a bug.

no crash here (qgis master, both linux and windows).

From giovanni.manghi at gmail.com  Sun Apr 19 03:57:23 2015
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Sun, 19 Apr 2015 11:57:23 +0100
Subject: [Qgis-developer] Error in running some SAGA modules in OSGeo4W
	64 bit
Message-ID: <CACfnYnSzqZZsFn+uA8+v6nkzpDF-2n=DajYHdT+NULcN1zwFsQ@mail.gmail.com>

> Hi all.
> Some saga modules under Processing (e.g. fill sinks) fail with:
>
> ERROR 1: Can't load requested DLL:
> C:\PROGRA~1\QGISWI~1\apps\saga\dll\gdal_MrSID.dll
>
> 127: The specified procedure could not be found.
>
> I suspect a problem in the installer: anyone confirms?

the error/message is non blocking, the module just seems to be  slow
for fair large input dems. The message do not shows when using saga
natively and under qgis disappear if that dll is removed, so it should
be something in the osgeo4w environment (also 32bit).

From cavallini at faunalia.it  Mon Apr 20 00:28:44 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 20 Apr 2015 09:28:44 +0200
Subject: [Qgis-developer] Crash in concurrent editing (was: Lock on PostGIS:
 how to communicate to user? Plus crash)
In-Reply-To: <CACfnYnSog5bJvB1Csh6nLZv5kebjYse4cbU3WTa6iTKv1cmMAQ@mail.gmail.com>
References: <CACfnYnSog5bJvB1Csh6nLZv5kebjYse4cbU3WTa6iTKv1cmMAQ@mail.gmail.com>
Message-ID: <5534AAAC.2060200@faunalia.it>

Il 19/04/2015 12:48, Giovanni Manghi ha scritto:

>> * when I save the second, I get a crash.
>> If anyone confirms, I'll open a bug.
> 
> no crash here (qgis master, both linux and windows).

This happens on a "wrong" table, without primary key.
Could you please confirm? If so, I'll open a ticket.
I can provide a dump of the offending table.
Understandable, but it should be handled more gracefully.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From apasotti at gmail.com  Mon Apr 20 00:29:28 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 20 Apr 2015 09:29:28 +0200
Subject: [Qgis-developer] QGIS Server GetFeatureInfo custom CSS (or
	better: templates!)
In-Reply-To: <CACQv73LhWJokWWiMZxbtCZsTNTbqTKQbWiOYxdkmcZxdWdRt-g@mail.gmail.com>
References: <CAL5Q672ekiX7VEcuLRnay536H4RCMOb+t6z+3G+nTFLMbpO-Og@mail.gmail.com>
	<CACQv73LhWJokWWiMZxbtCZsTNTbqTKQbWiOYxdkmcZxdWdRt-g@mail.gmail.com>
Message-ID: <CAL5Q672EE5L2F6BnuiKvfWnQovwaAip4f-WD1QYuLQaBBULy2Q@mail.gmail.com>

2015-04-20 9:15 GMT+02:00 Carles Vico Blanco <carles.vico at geografos.org>:

> Thanks a lot for your work Alessandro! Simple filter for a big
> problem! Finally we have apply our styles to the GetFeatureInfo response
> with your GetFeatureInfoCSSFilter.py, where we have directly insert the
> CSS parameters (without templates).
> Now, we need to increase the control about this GetFeatureInfo response in
> two ways:
>
> The first case is that, the attributes of my layers who are URL (http://...)
> can be understood as links for the QGIS Server and displayed with
> linkstyles that I've been included in the GetFeatureInfoCSSFilter.
>
> The second is that, the response of my GetFeatureInfo request, for now
> show me all the layers of my QGSProject, included the layers with NO INFO
> values at the point of my request (show me only the header of the atributte
> table, without info). How can I do that the response hide the headers of
> the attribute table layers with NO INFO values?
>
> Any Filter? Templates?
>
> I have seen that in the Web Client you can modify the globaloptions.js to
> setup some of this, but I'm not sure they take effect in the QGIS Server
> response, outside Web Client.
>
>
>
Hello Carles,

No, the globaloptions.js are the options for QGIS Web Client (that is an
HTML/Javascript WEB GIS for the browser) and not for  QGIS server.
You can decide to manipulate the GetFeatureInfo response in the client or
in the server.

In the first case, you will use the options given in QGIS Web Client (and
IIRC there is one to show URLs as links), in the latter you will use a QGIS
Server Python plugin.

In my article [1] you can find a working example of server side filtering,
for a very simple REGEXP substitution (string injection) but also a final
hint about further and more complex output filtering. From that point it's
up to you but there is basically nothing left in QGIS domain: it's
everything pretty standard text manipulation or XML
templating/transformation. As long as you have your XML parsed into an
object you can also check for the presence of  results in a layer and
decide what to do in you final output.


[1] http://www.itopen.it/qgis-server-getfeatureinfo-with-style/

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150420/23c06b69/attachment.html>

From olivier.dalang at gmail.com  Mon Apr 20 01:51:50 2015
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Mon, 20 Apr 2015 10:51:50 +0200
Subject: [Qgis-developer] worldfile update
In-Reply-To: <CAExk7p0ZUbyMnOhnFoK_UpjQ+9Ph143fnR0k6V2Ei72tsAFL6g@mail.gmail.com>
References: <CAExk7p0ZUbyMnOhnFoK_UpjQ+9Ph143fnR0k6V2Ei72tsAFL6g@mail.gmail.com>
Message-ID: <CAExk7p3MW+Qa3qT0+dQ=K15_+domLKPZT2TNDDP8JeypmzP4Vg@mail.gmail.com>

Hi !

No one on this ?

Best,

Olivier

2015-04-14 13:48 GMT+02:00 Olivier Dalang <olivier.dalang at gmail.com>:

> Dear list,
>
> I need to be able to update a worldfile and see the changes reflected in
> QGIS.
>
> Actually, it almost works. The worldfile is reread on each refresh, and my
> changes are correctly taken into account.
> But the extent of the raster is not refreshed, so the raster is cropped to
> it's initial extent. When zoomed in, and doing some small adjustments, it's
> not a problem, but when doing bigger changes on the worldfile, the raster
> can even become completely invisible.
>
>
> The only workaround I found was to remove the raster and re-add it
> completely on each mapcanvas change. But it's an overkill and has a lot of
> drawbacks (styling, CRS, etc...)
>
> I tried those functions to refresh the extent :
>
> myRasterLayer.triggerRepaint()
> myRasterLayer.dataProvider().reload()
> myRasterLayer.recalculateExtents.emit()
> self.iface.mapCanvas().refresh()
>
> But none of them seem to do the trick... Am I missing the correct method ?
>
> Thanks !!
>
> Olivier
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150420/7fc0355a/attachment.html>

From junek at gbd-consult.de  Mon Apr 20 03:00:12 2015
From: junek at gbd-consult.de (Larissa Junek)
Date: Mon, 20 Apr 2015 12:00:12 +0200
Subject: [Qgis-developer] =?utf-8?q?external_access_to_the_developer_meeti?=
 =?utf-8?q?ng_in_N=C3=B8rdebo_-_livestream=3F?=
Message-ID: <20150420120012.0cf6f706@gbd1>

Hello,
unfortunately I won't attend the next developer meeting. Will it be
possible to have external access to the meetings? Will there be a
livestream?

Kind regards,
Larissa

From giohappy at gmail.com  Mon Apr 20 03:09:00 2015
From: giohappy at gmail.com (G. Allegri)
Date: Mon, 20 Apr 2015 12:09:00 +0200
Subject: [Qgis-developer] Remove join field from join fields subset list
Message-ID: <CAB4g1=wNhJLSGOgA4PBM_OjKbAR+2314zTS2GVC-Gd9oCG+u=A@mail.gmail.com>

I'm suggesting a patch [1] from the fields list within the Join dialog to
remove the join field from the list (avoiding wrong header/column indexing
reported here [2]).

giovanni

[1]
https://github.com/giohappy/QGIS/commit/2f3f41074371208dc62d0696cf861acd6012a4b2
[2] https://hub.qgis.org/issues/12589

-- 
Giovanni Allegri
http://about.me/giovanniallegri
Gis3W - http://gis3w.it
Ikare - http://ikare.it
Twitter: https://twitter.com/_giohappy_
blog: http://blog.spaziogis.it
GEO+ geomatica in Italia http://bit.ly/GEOplus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150420/304313b2/attachment.html>

From giohappy at gmail.com  Mon Apr 20 03:32:13 2015
From: giohappy at gmail.com (G. Allegri)
Date: Mon, 20 Apr 2015 12:32:13 +0200
Subject: [Qgis-developer] Composer's legend should be consistent with "store
 layers styles" option of related map
Message-ID: <CAB4g1=y3feUA8EgAmGk0xEQCcksCu0096c9SAo_hBnSZ5wteqw@mail.gmail.com>

At the moment a composer's legend item is constructed from the project's
layer root [1]. If the legend's related map is set to lock layers this
isn't reflacted into the legend. Legend's model should use the layer styles
overrides set for the map. What's your opinion?

giovanni

[1]
https://github.com/qgis/QGIS/blob/master/src/core/composer/qgscomposerlegend.cpp#L41

-- 
Giovanni Allegri
http://about.me/giovanniallegri
Gis3W - http://gis3w.it
Ikare - http://ikare.it
Twitter: https://twitter.com/_giohappy_
blog: http://blog.spaziogis.it
GEO+ geomatica in Italia http://bit.ly/GEOplus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150420/06a00840/attachment.html>

From giovanni.manghi at gmail.com  Tue Apr 21 00:42:30 2015
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Tue, 21 Apr 2015 08:42:30 +0100
Subject: [Qgis-developer] Crash in concurrent editing (was: Lock on
 PostGIS: how to communicate to user? Plus crash)
Message-ID: <CACfnYnSRPOaYUCWitn+5wOSRzYCoQewxrRC7n=V0hrzR47yWQQ@mail.gmail.com>

> This happens on a "wrong" table, without primary key.
> Could you please confirm? If so, I'll open a ticket.

I cannot confirm here (but I see other issues)


> I can provide a dump of the offending table.

yes thanks.

From junek at gbd-consult.de  Tue Apr 21 02:07:51 2015
From: junek at gbd-consult.de (Larissa Junek)
Date: Tue, 21 Apr 2015 11:07:51 +0200
Subject: [Qgis-developer] WMS: add describe layer method
Message-ID: <20150421110751.2c758228@gbd1>

Hello,
I'm currently working on the 'QGIS as OGC data client' chapter of the
user manual 2.8. . 
We have a new feature for WMS-Client: describe layer method

Can someone explain what the difference in the use of this new feature
is when I load a WMS?
Here is the paragraph where I'd like to insert the new information:

' ...Once you have successfully filled in your parameters, you can use
the [Connect] button to retrieve the capabilities of the selected
server. This includes the image encoding, layers, layer styles and
projections. Since this is a network operation, the speed of the
response depends on the quality of your network connection to the WMS
server. While downloading data from the WMS server, the download
progress is visualized in the lower left of the WMS dialog.'

I thought about inserting something like 'This includes the (...) and
the feature/coverage type.'

Thanks in advance,
Larissa

From matthias at opengis.ch  Tue Apr 21 02:26:25 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 21 Apr 2015 11:26:25 +0200
Subject: [Qgis-developer] Field comments
Message-ID: <553617C1.7090604@opengis.ch>

Hi,

The "comment" column in the fields tab of the layer properties shows the
comment provided by the database.

The column in the layer properties is editable but when I change it it
does not seem to be saved. Does anyone remember if it was once possible
to override the comment (what would be nice IMO)? From a short look at
the code it does not seem so.

I would propose to
1) make the column read-only to avoid confusion
2) allow to override the comment and re-introduce editing possibilities

Any thoughts on this?

Best,
Matthias

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150421/5a4b2d54/attachment.pgp>

From mhanson at appliedgeosolutions.com  Tue Apr 21 08:02:20 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Tue, 21 Apr 2015 11:02:20 -0400
Subject: [Qgis-developer] Bug with floating point gains
In-Reply-To: <CA+BxjXJJPQH4=z0mJnk9LH9K20EqiLs6YmcuNewhmzGWnLiASw@mail.gmail.com>
References: <CA+BxjXK5=VKBGsRFDMCTgHvOompgr3Cmb1bR=us7jriPv=WhDw@mail.gmail.com>
	<CAB28AsiTQtsj+FFouN+uqxrE7Rdz9C6y-o1SRmV4=YVBBL5epQ@mail.gmail.com>
	<CA+BxjXJJPQH4=z0mJnk9LH9K20EqiLs6YmcuNewhmzGWnLiASw@mail.gmail.com>
Message-ID: <CA+BxjXKA80JSJXkTYMWcU4DWpF7B7VLmAM2RCYo-3tW2tGaz2A@mail.gmail.com>

Hi, I was wondering if this fix could be backported to 2.8 (or even all
affected versions which is everything later than 2.2).   We are currently
still running 2.2, but it's becoming more of a problem as plugins stop
working, dependencies get upgraded, etc.

Thanks!

matt

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Tue, Mar 17, 2015 at 12:15 PM, Matthew Hanson <
mhanson at appliedgeosolutions.com> wrote:

> Thanks Nyall,
>
> Sorry for the delay, I was at FOSS4G last week.   I tested this out and
> confirms it is working now as intended.   Any clue on when it might be
> available in a 2.8 update?
>
> Thanks again!
>
> matt
>
> Matthew Hanson
> Applied GeoSolutions
> (603) 659-3363 x91
> http://appliedgeosolutions.com
> mhanson at appliedgeosolutions.com
>
>
> On Thu, Mar 5, 2015 at 11:24 PM, Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> On 5 March 2015 at 03:17, Matthew Hanson
>> <mhanson at appliedgeosolutions.com> wrote:
>> > Hello,
>> >
>> > I filed a bug report on this some weeks ago:
>> > http://hub.qgis.org/issues/11573
>> >
>> > But it hasn't gotten the required attention.    It's a rather egregious
>> bug,
>> > which currently is restricting us to QGIS v2.2, which is becoming more
>> of a
>> > problem the more outdated it gets.
>> >
>> > In short, when using a floating point gain with integer images the
>> datatype
>> > is not promoted, so you end up with an image that is rounded to the
>> nearest
>> > integer.  It's fairly common practice to store indices, like NDVI, as an
>> > Int16 with a gain of 0.0001 as it is half the space. But in QGIS, these
>> > images end up being rounded to mostly 0.
>> >
>> > The feature of auto-applying the gain is nice in practice, but without
>> > promoting the data type of the output it is counter-productive.   It
>> would
>> > be good to either revert this feature or properly promote the datatype.
>> >
>> > I'd be happy to do more digging and try fixing this and issue a PR if
>> > someone could get me started by pointing me in the general direction of
>> the
>> > code responsible for this.
>>
>>
>> This should be fixed in master now - can you please test and confirm?
>> If so, I'll backport to 2.8.
>>
>> Nyall
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150421/a2d3913c/attachment.html>

From larrys at dakotacarto.com  Tue Apr 21 09:16:46 2015
From: larrys at dakotacarto.com (Larry Shaffer)
Date: Tue, 21 Apr 2015 10:16:46 -0600
Subject: [Qgis-developer] QGIS on rollApp
Message-ID: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>

Hi,

I don't normally cross-post to dev/user lists (sorry for the extra noise),
but I found this to be quite an interesting advancement for QGIS.

https://www.rollapp.com/app/qgis

QGIS in the cloud, and almost fully functional, e.g. Python, etc. Seems
browser's filesystem integration is broken (maybe it needs a cloud drive
attached).

Who did this awesome port? Was it rollApp folks themselves?

Regards,

Larry Shaffer
Dakota Cartography
Black Hills, South Dakota
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150421/e1b8a236/attachment.html>

From pi_ml at sourcepole.com  Tue Apr 21 12:14:30 2015
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Tue, 21 Apr 2015 21:14:30 +0200
Subject: [Qgis-developer] QGIS on rollApp
In-Reply-To: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
References: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
Message-ID: <1560839.x5hIT7KSZY@polarwind2>

Hi Larry,

Am Dienstag, 21. April 2015, 10.16:46 schrieb Larry Shaffer:
> 
> I don't normally cross-post to dev/user lists (sorry for the extra noise),
> but I found this to be quite an interesting advancement for QGIS.
> 
> https://www.rollapp.com/app/qgis
> 
> QGIS in the cloud, and almost fully functional, e.g. Python, etc. Seems
> browser's filesystem integration is broken (maybe it needs a cloud drive
> attached).

Interesting idea to attach a file system via cloud drive.
I've successfully connected to a QGISCloud PostGIS DB, published a map and 
wrote a Print Composer PDF to Google drive.

> 
> Who did this awesome port? Was it rollApp folks themselves?

According to the environment variables, it's running in an LXC container.

Regards,
Pirmin

-- 
Pirmin Kalberer - @PirminKalberer
Sourcepole - http://www.sourcepole.com

From nyall.dawson at gmail.com  Tue Apr 21 13:06:47 2015
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 22 Apr 2015 06:06:47 +1000
Subject: [Qgis-developer] Bug with floating point gains
In-Reply-To: <CA+BxjXKA80JSJXkTYMWcU4DWpF7B7VLmAM2RCYo-3tW2tGaz2A@mail.gmail.com>
References: <CA+BxjXK5=VKBGsRFDMCTgHvOompgr3Cmb1bR=us7jriPv=WhDw@mail.gmail.com>
	<CAB28AsiTQtsj+FFouN+uqxrE7Rdz9C6y-o1SRmV4=YVBBL5epQ@mail.gmail.com>
	<CA+BxjXJJPQH4=z0mJnk9LH9K20EqiLs6YmcuNewhmzGWnLiASw@mail.gmail.com>
	<CA+BxjXKA80JSJXkTYMWcU4DWpF7B7VLmAM2RCYo-3tW2tGaz2A@mail.gmail.com>
Message-ID: <CAB28Asi=MEwO2FXJkPK1SQ=U+zoyNfy_CZVXcLV=YpiGbneaaA@mail.gmail.com>

On 22 April 2015 at 01:02, Matthew Hanson
<mhanson at appliedgeosolutions.com> wrote:
> Hi, I was wondering if this fix could be backported to 2.8 (or even all
> affected versions which is everything later than 2.2).   We are currently
> still running 2.2, but it's becoming more of a problem as plugins stop
> working, dependencies get upgraded, etc.

It's been backported to 2.8 already, so will be included in 2.8.2.
There's no plans for backports to earlier versions.

Nyall

>
>
> On Tue, Mar 17, 2015 at 12:15 PM, Matthew Hanson
> <mhanson at appliedgeosolutions.com> wrote:
>>
>> Thanks Nyall,
>>
>> Sorry for the delay, I was at FOSS4G last week.   I tested this out and
>> confirms it is working now as intended.   Any clue on when it might be
>> available in a 2.8 update?
>>
>> Thanks again!
>>
>> matt
>>
>> Matthew Hanson
>> Applied GeoSolutions
>> (603) 659-3363 x91
>> http://appliedgeosolutions.com
>> mhanson at appliedgeosolutions.com
>>
>>
>> On Thu, Mar 5, 2015 at 11:24 PM, Nyall Dawson <nyall.dawson at gmail.com>
>> wrote:
>>>
>>> On 5 March 2015 at 03:17, Matthew Hanson
>>> <mhanson at appliedgeosolutions.com> wrote:
>>> > Hello,
>>> >
>>> > I filed a bug report on this some weeks ago:
>>> > http://hub.qgis.org/issues/11573
>>> >
>>> > But it hasn't gotten the required attention.    It's a rather egregious
>>> > bug,
>>> > which currently is restricting us to QGIS v2.2, which is becoming more
>>> > of a
>>> > problem the more outdated it gets.
>>> >
>>> > In short, when using a floating point gain with integer images the
>>> > datatype
>>> > is not promoted, so you end up with an image that is rounded to the
>>> > nearest
>>> > integer.  It's fairly common practice to store indices, like NDVI, as
>>> > an
>>> > Int16 with a gain of 0.0001 as it is half the space. But in QGIS, these
>>> > images end up being rounded to mostly 0.
>>> >
>>> > The feature of auto-applying the gain is nice in practice, but without
>>> > promoting the data type of the output it is counter-productive.   It
>>> > would
>>> > be good to either revert this feature or properly promote the datatype.
>>> >
>>> > I'd be happy to do more digging and try fixing this and issue a PR if
>>> > someone could get me started by pointing me in the general direction of
>>> > the
>>> > code responsible for this.
>>>
>>>
>>> This should be fixed in master now - can you please test and confirm?
>>> If so, I'll backport to 2.8.
>>>
>>> Nyall
>>
>>
>

From luipir at gmail.com  Tue Apr 21 13:44:05 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 21 Apr 2015 22:44:05 +0200
Subject: [Qgis-developer] [Qgis-user] QGIS on rollApp
In-Reply-To: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
References: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
Message-ID: <CAFO80_on3eGjDeP6a6YFMOvjecqhBat1CWhF=jKC3rxcRhA7zQ@mail.gmail.com>

> Who did this awesome port? Was it rollApp folks themselves?

from twitter yesterday

spara ?@spara  20 de abr.
. at rollapp consider adding @qgis to the apps you provide. That would awesome.

rollApp ?@rollapp  20 de abr.
@spara @qgis Thanks for the suggestion! Will do!

as stated by Pirmin, they just install in a virtualized linux env...
no porting at all, but they give a good infrastructure to connect
cloud repos.

Regards, Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************

From giohappy at gmail.com  Tue Apr 21 14:02:03 2015
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 21 Apr 2015 23:02:03 +0200
Subject: [Qgis-developer] [Qgis-user] QGIS on rollApp
In-Reply-To: <CAFO80_on3eGjDeP6a6YFMOvjecqhBat1CWhF=jKC3rxcRhA7zQ@mail.gmail.com>
References: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
	<CAFO80_on3eGjDeP6a6YFMOvjecqhBat1CWhF=jKC3rxcRhA7zQ@mail.gmail.com>
Message-ID: <CAB4g1=y1CZw8zN8=4QKQ5q2j78H6asNh6waTg2iocMnJN13pHg@mail.gmail.com>

It can be implemented with VNC-like tools, as noVNC and a VNC server.

giovanni

2015-04-21 22:44 GMT+02:00 Luigi Pirelli <luipir at gmail.com>:

> > Who did this awesome port? Was it rollApp folks themselves?
>
> from twitter yesterday
>
> spara ?@spara  20 de abr.
> . at rollapp consider adding @qgis to the apps you provide. That would
> awesome.
>
> rollApp ?@rollapp  20 de abr.
> @spara @qgis Thanks for the suggestion! Will do!
>
> as stated by Pirmin, they just install in a virtualized linux env...
> no porting at all, but they give a good infrastructure to connect
> cloud repos.
>
> Regards, Luigi Pirelli
>
>
> **************************************************************************************************
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Elance: https://www.elance.com/s/edit/luigipirelli/
> * GitHub: https://github.com/luipir
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * Mastering QGIS:
> https://www.packtpub.com/application-development/mastering-qgis
>
> **************************************************************************************************
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user




-- 
Giovanni Allegri
http://about.me/giovanniallegri
Gis3W - http://gis3w.it
Ikare - http://ikare.it
Twitter: https://twitter.com/_giohappy_
blog: http://blog.spaziogis.it
GEO+ geomatica in Italia http://bit.ly/GEOplus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150421/22e75169/attachment.html>

From enzo.ccc at gmail.com  Tue Apr 21 23:47:04 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Wed, 22 Apr 2015 10:47:04 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
Message-ID: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>

Hi,
I have one question?

I try to write a searchtext in the client, Firebug gives the error
message:

"illegal character
 #!/usr/bin/python"

Someone have a idea??

thanks!!


-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/2cb347d2/attachment.html>

From bernhard.stroebl at jena.de  Tue Apr 21 23:51:32 2015
From: bernhard.stroebl at jena.de (=?ISO-8859-1?Q?Bernhard_Str=F6bl?=)
Date: Wed, 22 Apr 2015 08:51:32 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
Message-ID: <553744F4.6040803@jena.de>

Hi,

the wsgi-Script is a script to be run _on the server_, not in the client.

Bernhard

Am 22.04.2015 08:47, schrieb Enzo Cocca:
> Hi,
> I have one question?
>
> I try to write a searchtext in the client, Firebug gives the error
> message:
>
> "illegal character
>   #!/usr/bin/python"
>
> Someone have a idea??
>
> thanks!!
>


__________ Information from ESET Mail Security, version of virus signature database 11513 (20150422) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From enzo.ccc at gmail.com  Wed Apr 22 00:15:25 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Wed, 22 Apr 2015 11:15:25 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <553744F4.6040803@jena.de>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
Message-ID: <CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>

Tahnks Bernhard,

I know, I have followed the procedure from official guideline
https://github.com/qgis/QGIS-Web-Client

but when execute a sample query in Firefox, like written in the
search.wsgi file, Firefox only visualize the file search.wsgi like a
text file.

and I have the error
"illegal character
  #!/usr/bin/python"

So I not understand the problem....

Thanks!!



2015-04-22 10:51 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de>:

> Hi,
>
> the wsgi-Script is a script to be run _on the server_, not in the client.
>
> Bernhard
>
> Am 22.04.2015 08:47, schrieb Enzo Cocca:
>
>> Hi,
>> I have one question?
>>
>> I try to write a searchtext in the client, Firebug gives the error
>> message:
>>
>> "illegal character
>>   #!/usr/bin/python"
>>
>> Someone have a idea??
>>
>> thanks!!
>>
>>
>
> __________ Information from ESET Mail Security, version of virus signature
> database 11513 (20150422) __________
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/71cc04a4/attachment-0001.html>

From bernhard.stroebl at jena.de  Wed Apr 22 00:26:10 2015
From: bernhard.stroebl at jena.de (=?UTF-8?B?QmVybmhhcmQgU3Ryw7ZibA==?=)
Date: Wed, 22 Apr 2015 09:26:10 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
Message-ID: <55374D12.5010904@jena.de>

Hi Enzo,

your error indicates that the script is not executed as a server script 
but instead delivered to the client. Thjis should not happen, as it is a 
high security risk (db internals are exposed).

Have you enabled mod_wsgi on your apache server as described in section 
6.2.1 of the QWC documentation?

You also should follow this line (section 6 the documentation): "It is 
recommended to install the wsgi scripts in a separate directory, e.g. 
/home/www/wsgi, a place that is not reachable by regular web traffic."

Bernhard

Am 22.04.2015 09:15, schrieb Enzo Cocca:
> Tahnks Bernhard,
>
> I know, I have followed the procedure from official guideline
> https://github.com/qgis/QGIS-Web-Client
>
> but when execute a sample query in Firefox, like written in the
> search.wsgi file, Firefox only visualize the file search.wsgi like a
> text file.
>
> and I have the error
> "illegal character
>    #!/usr/bin/python"
>
> So I not understand the problem....
>
> Thanks!!
>
>
>
> 2015-04-22 10:51 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
> <mailto:bernhard.stroebl at jena.de>>:
>
>     Hi,
>
>     the wsgi-Script is a script to be run _on the server_, not in the
>     client.
>
>     Bernhard
>
>     Am 22.04.2015 08:47, schrieb Enzo Cocca:
>
>         Hi,
>         I have one question?
>
>         I try to write a searchtext in the client, Firebug gives the error
>         message:
>
>         "illegal character
>            #!/usr/bin/python"
>
>         Someone have a idea??
>
>         thanks!!
>
>
>
>     __________ Information from ESET Mail Security, version of virus
>     signature database 11513 (20150422) __________
>
>     The message was checked by ESET Mail Security.
>     http://www.eset.com
>
>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>


__________ Information from ESET Mail Security, version of virus signature database 11513 (20150422) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From luca76 at gmail.com  Wed Apr 22 00:24:44 2015
From: luca76 at gmail.com (Luca Manganelli)
Date: Wed, 22 Apr 2015 09:24:44 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
Message-ID: <CAMB2qw2Usu_LpkL5zrpW38osj-S5CA4TOUOdPBF1GUev8uQSMQ@mail.gmail.com>

On Wed, Apr 22, 2015 at 9:15 AM, Enzo Cocca <enzo.ccc at gmail.com> wrote:
> and I have the error
> "illegal character
>   #!/usr/bin/python"

It seems that you have inserted a space before #!/usr/bin/python, remove it

From geodrinx at gmail.com  Wed Apr 22 00:26:12 2015
From: geodrinx at gmail.com (Geo DrinX)
Date: Wed, 22 Apr 2015 09:26:12 +0200
Subject: [Qgis-developer] [Qgis-user] QGIS on rollApp
In-Reply-To: <CAB4g1=y1CZw8zN8=4QKQ5q2j78H6asNh6waTg2iocMnJN13pHg@mail.gmail.com>
References: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
	<CAFO80_on3eGjDeP6a6YFMOvjecqhBat1CWhF=jKC3rxcRhA7zQ@mail.gmail.com>
	<CAB4g1=y1CZw8zN8=4QKQ5q2j78H6asNh6waTg2iocMnJN13pHg@mail.gmail.com>
Message-ID: <CAFF9Zhsg1HCQrRQ2Ve2PphhYw9d7JMg6ZJ_PvoV32D33LZ1u8w@mail.gmail.com>

I am amazed by how qgis works fast on rollApp. I am also curious to know how
they did it, but that's a detail. I also installed some plugins and they are
working properly.

QGIS that runs in a browser!

:)


Roberto

2015-04-21 23:02 GMT+02:00 G. Allegri <giohappy at gmail.com>:

> It can be implemented with VNC-like tools, as noVNC and a VNC server.
>
> giovanni
>
> 2015-04-21 22:44 GMT+02:00 Luigi Pirelli <luipir at gmail.com>:
>
>> > Who did this awesome port? Was it rollApp folks themselves?
>>
>> from twitter yesterday
>>
>> spara ?@spara  20 de abr.
>> . at rollapp consider adding @qgis to the apps you provide. That would
>> awesome.
>>
>> rollApp ?@rollapp  20 de abr.
>> @spara @qgis Thanks for the suggestion! Will do!
>>
>> as stated by Pirmin, they just install in a virtualized linux env...
>> no porting at all, but they give a good infrastructure to connect
>> cloud repos.
>>
>> Regards, Luigi Pirelli
>>
>>
>> **************************************************************************************************
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Elance: https://www.elance.com/s/edit/luigipirelli/
>> * GitHub: https://github.com/luipir
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * Mastering QGIS:
>> https://www.packtpub.com/application-development/mastering-qgis
>>
>> **************************************************************************************************
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-user
>
>
>
>
> --
> Giovanni Allegri
> http://about.me/giovanniallegri
> Gis3W - http://gis3w.it
> Ikare - http://ikare.it
> Twitter: https://twitter.com/_giohappy_
> blog: http://blog.spaziogis.it
> GEO+ geomatica in Italia http://bit.ly/GEOplus
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/1cc3b46d/attachment.html>

From bernhard.stroebl at jena.de  Wed Apr 22 00:37:03 2015
From: bernhard.stroebl at jena.de (=?UTF-8?B?QmVybmhhcmQgU3Ryw7ZibA==?=)
Date: Wed, 22 Apr 2015 09:37:03 +0200
Subject: [Qgis-developer] AdvancedDigitizing and Python
Message-ID: <55374F9F.5020901@jena.de>

Hi all,

I wanted to start working on #12446 [1] however I did not find any 
documentation on how to use the new AdvancedDigitizing (CAD input queue) 
in Python.
Any help appreciated.

Bernhard

[1] http://hub.qgis.org/issues/12446


__________ Information from ESET Mail Security, version of virus signature database 11513 (20150422) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From apasotti at gmail.com  Wed Apr 22 00:37:51 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 22 Apr 2015 09:37:51 +0200
Subject: [Qgis-developer] [Qgis-user] QGIS on rollApp
In-Reply-To: <CAFF9Zhsg1HCQrRQ2Ve2PphhYw9d7JMg6ZJ_PvoV32D33LZ1u8w@mail.gmail.com>
References: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
	<CAFO80_on3eGjDeP6a6YFMOvjecqhBat1CWhF=jKC3rxcRhA7zQ@mail.gmail.com>
	<CAB4g1=y1CZw8zN8=4QKQ5q2j78H6asNh6waTg2iocMnJN13pHg@mail.gmail.com>
	<CAFF9Zhsg1HCQrRQ2Ve2PphhYw9d7JMg6ZJ_PvoV32D33LZ1u8w@mail.gmail.com>
Message-ID: <CAL5Q672t6D9XrHN69rFfJ++=eze_0NSc4A=izXy+WSysJ6zhSQ@mail.gmail.com>

2015-04-22 9:26 GMT+02:00 Geo DrinX <geodrinx at gmail.com>:

> I am amazed by how qgis works fast on rollApp. I am also curious to know how
> they did it, but that's a detail.
>

Me too:

mouse move:
Socket: sendMessage(): ["pointer-position",2,[707,497],[]]

mouse click:
Socket: sendMessage(): ["button-action",2,1,1,[20,46],[]]

It's websocket based.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/bfd87341/attachment.html>

From enzo.ccc at gmail.com  Wed Apr 22 01:12:06 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Wed, 22 Apr 2015 12:12:06 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <55374D12.5010904@jena.de>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
	<55374D12.5010904@jena.de>
Message-ID: <CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>

Thanks Bernard

You are right, but now It not found the path wsgi folder

"The requested URL /wsgi/search.wsgi was not found on this server."

in globalOptions. js I set :

//URL for custom search scriptsnull; //
var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
 and

in /etc/apache2/sites-available/default
I set
#mod_wsgi
  WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
  WSGIScriptAlias /wsgi/ /home/www/wsgi/
  WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi

and than I restarted apache

Where I wrong?


2015-04-22 11:26 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de>:

> Hi Enzo,
>
> your error indicates that the script is not executed as a server script
> but instead delivered to the client. Thjis should not happen, as it is a
> high security risk (db internals are exposed).
>
> Have you enabled mod_wsgi on your apache server as described in section
> 6.2.1 of the QWC documentation?
>
> You also should follow this line (section 6 the documentation): "It is
> recommended to install the wsgi scripts in a separate directory, e.g.
> /home/www/wsgi, a place that is not reachable by regular web traffic."
>
> Bernhard
>
> Am 22.04.2015 09:15, schrieb Enzo Cocca:
>
>> Tahnks Bernhard,
>>
>> I know, I have followed the procedure from official guideline
>> https://github.com/qgis/QGIS-Web-Client
>>
>> but when execute a sample query in Firefox, like written in the
>> search.wsgi file, Firefox only visualize the file search.wsgi like a
>> text file.
>>
>> and I have the error
>> "illegal character
>>    #!/usr/bin/python"
>>
>> So I not understand the problem....
>>
>> Thanks!!
>>
>>
>>
>> 2015-04-22 10:51 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
>> <mailto:bernhard.stroebl at jena.de>>:
>>
>>     Hi,
>>
>>     the wsgi-Script is a script to be run _on the server_, not in the
>>     client.
>>
>>     Bernhard
>>
>>     Am 22.04.2015 08:47, schrieb Enzo Cocca:
>>
>>         Hi,
>>         I have one question?
>>
>>         I try to write a searchtext in the client, Firebug gives the error
>>         message:
>>
>>         "illegal character
>>            #!/usr/bin/python"
>>
>>         Someone have a idea??
>>
>>         thanks!!
>>
>>
>>
>>     __________ Information from ESET Mail Security, version of virus
>>     signature database 11513 (20150422) __________
>>
>>     The message was checked by ESET Mail Security.
>>     http://www.eset.com
>>
>>
>>     _______________________________________________
>>     Qgis-developer mailing list
>>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org
>> >
>>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>>
>
> __________ Information from ESET Mail Security, version of virus signature
> database 11513 (20150422) __________
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>
>


-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/d719e85e/attachment-0001.html>

From luipir at gmail.com  Wed Apr 22 01:18:51 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 22 Apr 2015 10:18:51 +0200
Subject: [Qgis-developer] [Qgis-user] QGIS on rollApp
In-Reply-To: <CAL5Q672t6D9XrHN69rFfJ++=eze_0NSc4A=izXy+WSysJ6zhSQ@mail.gmail.com>
References: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
	<CAFO80_on3eGjDeP6a6YFMOvjecqhBat1CWhF=jKC3rxcRhA7zQ@mail.gmail.com>
	<CAB4g1=y1CZw8zN8=4QKQ5q2j78H6asNh6waTg2iocMnJN13pHg@mail.gmail.com>
	<CAFF9Zhsg1HCQrRQ2Ve2PphhYw9d7JMg6ZJ_PvoV32D33LZ1u8w@mail.gmail.com>
	<CAL5Q672t6D9XrHN69rFfJ++=eze_0NSc4A=izXy+WSysJ6zhSQ@mail.gmail.com>
Message-ID: <CAFO80_pNziOKe1h-z3qW45rOK4+QnDoWN4egvwXbyya--gHzKQ@mail.gmail.com>

And webRTC i suppose... This could open to collaborative qgis, but
this service seems closed source.

Regards, Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************


On 22 April 2015 at 09:37, Alessandro Pasotti <apasotti at gmail.com> wrote:
>
> 2015-04-22 9:26 GMT+02:00 Geo DrinX <geodrinx at gmail.com>:
>>
>> I am amazed by how qgis works fast on rollApp. I am also curious to know
>> how they did it, but that's a detail.
>
>
> Me too:
>
> mouse move:
> Socket: sendMessage(): ["pointer-position",2,[707,497],[]]
>
> mouse click:
> Socket: sendMessage(): ["button-action",2,1,1,[20,46],[]]
>
> It's websocket based.
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it

From bernhard.stroebl at jena.de  Wed Apr 22 01:22:01 2015
From: bernhard.stroebl at jena.de (=?UTF-8?B?QmVybmhhcmQgU3Ryw7ZibA==?=)
Date: Wed, 22 Apr 2015 10:22:01 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>	<553744F4.6040803@jena.de>	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>	<55374D12.5010904@jena.de>
	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>
Message-ID: <55375A29.3060607@jena.de>

Hi Enzo,

I am no Apache pro at all :-)

My config additionally contains the following:
<Directory /path/to/wsgi>
	Order allow,deny
	Allow from all
</Directory>

I wonder if the user running the apache process can access /home/www, 
normally you would use something like /var/www/wsgi or /srv/www/wsgi
similar to where your HTML stuff is (and QWC)

Bernhard

Am 22.04.2015 10:12, schrieb Enzo Cocca:
> Thanks Bernard
>
> You are right, but now It not found the path wsgi folder
>
> "The requested URL /wsgi/search.wsgi was not found on this server."
>
> in globalOptions. js I set :
>
> //URL for custom search scriptsnull; //
> var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
> var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
>   and
>
> in /etc/apache2/sites-available/default
> I set
> #mod_wsgi
>    WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>    WSGIScriptAlias /wsgi/ /home/www/wsgi/
>    WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
>
> and than I restarted apache
>
> Where I wrong?
>
>
> 2015-04-22 11:26 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
> <mailto:bernhard.stroebl at jena.de>>:
>
>     Hi Enzo,
>
>     your error indicates that the script is not executed as a server
>     script but instead delivered to the client. Thjis should not happen,
>     as it is a high security risk (db internals are exposed).
>
>     Have you enabled mod_wsgi on your apache server as described in
>     section 6.2.1 of the QWC documentation?
>
>     You also should follow this line (section 6 the documentation): "It
>     is recommended to install the wsgi scripts in a separate directory,
>     e.g. /home/www/wsgi, a place that is not reachable by regular web
>     traffic."
>
>     Bernhard
>
>     Am 22.04.2015 09:15, schrieb Enzo Cocca:
>
>         Tahnks Bernhard,
>
>         I know, I have followed the procedure from official guideline
>         https://github.com/qgis/QGIS-Web-Client
>
>         but when execute a sample query in Firefox, like written in the
>         search.wsgi file, Firefox only visualize the file search.wsgi like a
>         text file.
>
>         and I have the error
>         "illegal character
>             #!/usr/bin/python"
>
>         So I not understand the problem....
>
>         Thanks!!
>
>
>
>         2015-04-22 10:51 GMT+04:00 Bernhard Str?bl
>         <bernhard.stroebl at jena.de <mailto:bernhard.stroebl at jena.de>
>         <mailto:bernhard.stroebl at jena.de
>         <mailto:bernhard.stroebl at jena.de>>>:
>
>              Hi,
>
>              the wsgi-Script is a script to be run _on the server_, not
>         in the
>              client.
>
>              Bernhard
>
>              Am 22.04.2015 08:47, schrieb Enzo Cocca:
>
>                  Hi,
>                  I have one question?
>
>                  I try to write a searchtext in the client, Firebug
>         gives the error
>                  message:
>
>                  "illegal character
>                     #!/usr/bin/python"
>
>                  Someone have a idea??
>
>                  thanks!!
>
>
>
>              __________ Information from ESET Mail Security, version of
>         virus
>              signature database 11513 (20150422) __________
>
>              The message was checked by ESET Mail Security.
>         http://www.eset.com
>
>
>              _______________________________________________
>              Qgis-developer mailing list
>         Qgis-developer at lists.osgeo.org
>         <mailto:Qgis-developer at lists.osgeo.org>
>         <mailto:Qgis-developer at lists.osgeo.org
>         <mailto:Qgis-developer at lists.osgeo.org>>
>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
>
>
>     __________ Information from ESET Mail Security, version of virus
>     signature database 11513 (20150422) __________
>
>     The message was checked by ESET Mail Security.
>     http://www.eset.com
>
>
>
>
>


__________ Information from ESET Mail Security, version of virus signature database 11513 (20150422) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From enzo.ccc at gmail.com  Wed Apr 22 01:59:30 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Wed, 22 Apr 2015 12:59:30 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <55375A29.3060607@jena.de>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
	<55374D12.5010904@jena.de>
	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>
	<55375A29.3060607@jena.de>
Message-ID: <CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>

the config additional you write it in apache config or in default?
because if I add it in default,  I have the same error.

I will try again. When I will find the solution i will let you know

Thanks a lot

EC

2015-04-22 12:22 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de>:

> Hi Enzo,
>
> I am no Apache pro at all :-)
>
> My config additionally contains the following:
> <Directory /path/to/wsgi>
>         Order allow,deny
>         Allow from all
> </Directory>
>
> I wonder if the user running the apache process can access /home/www,
> normally you would use something like /var/www/wsgi or /srv/www/wsgi
> similar to where your HTML stuff is (and QWC)
>
> Bernhard
>
> Am 22.04.2015 10:12, schrieb Enzo Cocca:
>
>> Thanks Bernard
>>
>> You are right, but now It not found the path wsgi folder
>>
>> "The requested URL /wsgi/search.wsgi was not found on this server."
>>
>> in globalOptions. js I set :
>>
>> //URL for custom search scriptsnull; //
>> var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
>> var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
>>   and
>>
>> in /etc/apache2/sites-available/default
>> I set
>> #mod_wsgi
>>    WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>>    WSGIScriptAlias /wsgi/ /home/www/wsgi/
>>    WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
>>
>> and than I restarted apache
>>
>> Where I wrong?
>>
>>
>> 2015-04-22 11:26 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
>> <mailto:bernhard.stroebl at jena.de>>:
>>
>>
>>     Hi Enzo,
>>
>>     your error indicates that the script is not executed as a server
>>     script but instead delivered to the client. Thjis should not happen,
>>     as it is a high security risk (db internals are exposed).
>>
>>     Have you enabled mod_wsgi on your apache server as described in
>>     section 6.2.1 of the QWC documentation?
>>
>>     You also should follow this line (section 6 the documentation): "It
>>     is recommended to install the wsgi scripts in a separate directory,
>>     e.g. /home/www/wsgi, a place that is not reachable by regular web
>>     traffic."
>>
>>     Bernhard
>>
>>     Am 22.04.2015 09:15, schrieb Enzo Cocca:
>>
>>         Tahnks Bernhard,
>>
>>         I know, I have followed the procedure from official guideline
>>         https://github.com/qgis/QGIS-Web-Client
>>
>>         but when execute a sample query in Firefox, like written in the
>>         search.wsgi file, Firefox only visualize the file search.wsgi
>> like a
>>         text file.
>>
>>         and I have the error
>>         "illegal character
>>             #!/usr/bin/python"
>>
>>         So I not understand the problem....
>>
>>         Thanks!!
>>
>>
>>
>>         2015-04-22 10:51 GMT+04:00 Bernhard Str?bl
>>         <bernhard.stroebl at jena.de <mailto:bernhard.stroebl at jena.de>
>>         <mailto:bernhard.stroebl at jena.de
>>
>>         <mailto:bernhard.stroebl at jena.de>>>:
>>
>>              Hi,
>>
>>              the wsgi-Script is a script to be run _on the server_, not
>>         in the
>>              client.
>>
>>              Bernhard
>>
>>              Am 22.04.2015 08:47, schrieb Enzo Cocca:
>>
>>                  Hi,
>>                  I have one question?
>>
>>                  I try to write a searchtext in the client, Firebug
>>         gives the error
>>                  message:
>>
>>                  "illegal character
>>                     #!/usr/bin/python"
>>
>>                  Someone have a idea??
>>
>>                  thanks!!
>>
>>
>>
>>              __________ Information from ESET Mail Security, version of
>>         virus
>>              signature database 11513 (20150422) __________
>>
>>              The message was checked by ESET Mail Security.
>>         http://www.eset.com
>>
>>
>>              _______________________________________________
>>              Qgis-developer mailing list
>>         Qgis-developer at lists.osgeo.org
>>         <mailto:Qgis-developer at lists.osgeo.org>
>>         <mailto:Qgis-developer at lists.osgeo.org
>>         <mailto:Qgis-developer at lists.osgeo.org>>
>>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>>
>>
>>     __________ Information from ESET Mail Security, version of virus
>>     signature database 11513 (20150422) __________
>>
>>     The message was checked by ESET Mail Security.
>>     http://www.eset.com
>>
>>
>>
>>
>>
>>
>
> __________ Information from ESET Mail Security, version of virus signature
> database 11513 (20150422) __________
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>
>


-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/69a2ebd0/attachment.html>

From francescoboccacci at libero.it  Wed Apr 22 02:01:08 2015
From: francescoboccacci at libero.it (francescoboccacci at libero.it)
Date: Wed, 22 Apr 2015 11:01:08 +0200 (CEST)
Subject: [Qgis-developer] Automate snapping after insert of a new feature
Message-ID: <1773887367.2615091429693268193.JavaMail.httpd@webmail-39.iol.local>

Hi all,
i have a question for you. I'd like to have a new function in my plugin that makes an autime snapping if a start point or end point of a new feature inserted is closed to a vertex or segment base on a values setted ina configuration file.
>From plugin console:

l = iface.activeLayer()  --activeLayer
f = l.selectedFeatures()[0] -- new fetaure inserted
start = f.geometry().asPolyline()[0] -- get the start point (the point that i would like to snap to a segment)
result = l.snapWithContext(start,10,QgsSnapper.SnapToVertexAndSegment) -- i use
result
(0, {0.0: [<qgis._core.QgsSnappingResult object at 0x0000000018B9C400>], 0.09699529788394015: [<qgis._core.QgsSnappingResult object at 0x0000000018B9C620>]})

I notice that the key 0.09699529788394015 is the effective distance between my start point and the segment.
My question is:
How can i modify the feature geometry to snap to the segment according to result?

Thanks

Francesco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/b59d65a7/attachment-0001.html>

From giohappy at gmail.com  Wed Apr 22 04:12:57 2015
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 22 Apr 2015 13:12:57 +0200
Subject: [Qgis-developer] [Gfoss]  [Qgis-user] QGIS on rollApp
In-Reply-To: <CAFO80_pNziOKe1h-z3qW45rOK4+QnDoWN4egvwXbyya--gHzKQ@mail.gmail.com>
References: <CA+nQOR86i2y25Wn6nExK3=t90FUTMpY2pgYXEwg7iT-GkZ6+yg@mail.gmail.com>
	<CAFO80_on3eGjDeP6a6YFMOvjecqhBat1CWhF=jKC3rxcRhA7zQ@mail.gmail.com>
	<CAB4g1=y1CZw8zN8=4QKQ5q2j78H6asNh6waTg2iocMnJN13pHg@mail.gmail.com>
	<CAFF9Zhsg1HCQrRQ2Ve2PphhYw9d7JMg6ZJ_PvoV32D33LZ1u8w@mail.gmail.com>
	<CAL5Q672t6D9XrHN69rFfJ++=eze_0NSc4A=izXy+WSysJ6zhSQ@mail.gmail.com>
	<CAFO80_pNziOKe1h-z3qW45rOK4+QnDoWN4egvwXbyya--gHzKQ@mail.gmail.com>
Message-ID: <CAB4g1=xpTtqB8bwmMKPjddzshS7gesN7VGG+=c=H8etKR=PSsg@mail.gmail.com>

noVNC could be a way to implement it. It works on websockets.

giovanni
Il 22/apr/2015 10:19 "Luigi Pirelli" <luipir at gmail.com> ha scritto:

> And webRTC i suppose... This could open to collaborative qgis, but
> this service seems closed source.
>
> Regards, Luigi Pirelli
>
>
> **************************************************************************************************
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Elance: https://www.elance.com/s/edit/luigipirelli/
> * GitHub: https://github.com/luipir
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * Mastering QGIS:
> https://www.packtpub.com/application-development/mastering-qgis
>
> **************************************************************************************************
>
>
> On 22 April 2015 at 09:37, Alessandro Pasotti <apasotti at gmail.com> wrote:
> >
> > 2015-04-22 9:26 GMT+02:00 Geo DrinX <geodrinx at gmail.com>:
> >>
> >> I am amazed by how qgis works fast on rollApp. I am also curious to know
> >> how they did it, but that's a detail.
> >
> >
> > Me too:
> >
> > mouse move:
> > Socket: sendMessage(): ["pointer-position",2,[707,497],[]]
> >
> > mouse click:
> > Socket: sendMessage(): ["button-action",2,1,1,[20,46],[]]
> >
> > It's websocket based.
> >
> >
> > --
> > Alessandro Pasotti
> > w3:   www.itopen.it
> _______________________________________________
> Gfoss at lists.gfoss.it
> http://lists.gfoss.it/cgi-bin/mailman/listinfo/gfoss
> Questa e' una lista di discussione pubblica aperta a tutti.
> I messaggi di questa lista non hanno relazione diretta con le posizioni
> dell'Associazione GFOSS.it.
> 750 iscritti al 18.3.2015
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/1aebeb6c/attachment.html>

From cavallini at faunalia.it  Wed Apr 22 04:43:59 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 22 Apr 2015 13:43:59 +0200
Subject: [Qgis-developer] KMZ not parsed into columns?
Message-ID: <5537897F.70300@faunalia.it>

Hi all.
Opening a KMZ results in a layer with several fields, but most info is
stored in a "description" field, where all the xml is written, without
parsing it into columns. Is this a GDAL limitation? Any better solution?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From enzo.ccc at gmail.com  Wed Apr 22 05:07:05 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Wed, 22 Apr 2015 16:07:05 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
	<55374D12.5010904@jena.de>
	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>
	<55375A29.3060607@jena.de>
	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>
Message-ID: <CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>

Hi all,
 I looked for a solution but without results.

After set the default file in apache like that:

<VirtualHost *:80>
  ServerAdmin webmaster at localhost
  ServerName <localhost>

  DocumentRoot /var/www/html/wms/site
  <Directory />
    Options FollowSymLinks
    AllowOverride None
  </Directory>
  <Directory /var/www/html/wms/site/>
    DirectoryIndex index.php index.html
    Options Indexes FollowSymLinks MultiViews
    AllowOverride None
    Order allow,deny
    allow from all
    Require all granted
  </Directory>

  ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
  <Directory "/usr/lib/cgi-bin/">
    AllowOverride None
    Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
    Order allow,deny
    Allow from all
    Require all granted
    SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
  </Directory>

  RewriteEngine On
  RewriteRule ^/cgi-bin/.*$ - [F]


  RewriteRule ^/wms/(.+)$
/cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs [QSA,PT]

  RewriteRule ^/maps/?$ / [PT]

  RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]

  RewriteRule ^/maps/(.*) /$1 [PT]

  #mod_wsgi
  #LoadModule wsgi_module /usr/lib/apache2/modules/mod_wsgi.so
  WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
  WSGIScriptAlias /wsgi/ /home/www/wsgi/
  WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi

  <Directory "/home/www/wsgi/">
        Order allow,deny
        Allow from all
  </Directory>

  ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
  CustomLog ${APACHE_LOG_DIR}/qgis-web-client-access.log combined

</VirtualHost>

and the GlobaOptions.js like that;
//URL for custom search scriptsnull; //
var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //

The status is:
NetworkError: 404 Not Found -
http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001

So it not found the path of wsgi, but in default config I have give the
alias

any idea?

E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/42348673/attachment.html>

From even.rouault at spatialys.com  Wed Apr 22 05:11:40 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 22 Apr 2015 14:11:40 +0200
Subject: [Qgis-developer] KMZ not parsed into columns?
In-Reply-To: <5537897F.70300@faunalia.it>
References: <5537897F.70300@faunalia.it>
Message-ID: <201504221411.41253.even.rouault@spatialys.com>

Le mercredi 22 avril 2015 13:43:59, Paolo Cavallini a ?crit :
> Hi all.
> Opening a KMZ results in a layer with several fields, but most info is
> stored in a "description" field, where all the xml is written, without
> parsing it into columns. Is this a GDAL limitation? Any better solution?

Care to share a snippet of the KML file ? I guess it is rather HTML inside the 
<description> element. There's a way of putting structured data with proper 
fields declaration in KML, but HTML arrays are not uncommon.

> Thanks.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From bernhard.stroebl at jena.de  Wed Apr 22 05:32:16 2015
From: bernhard.stroebl at jena.de (=?ISO-8859-1?Q?Bernhard_Str=F6bl?=)
Date: Wed, 22 Apr 2015 14:32:16 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>	<553744F4.6040803@jena.de>	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>	<55374D12.5010904@jena.de>	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>	<55375A29.3060607@jena.de>	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>
	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>
Message-ID: <553794D0.10009@jena.de>

Hi Enzo,

as I wrote in a previous post: Make sure the user running the apache 
process has access to the wsgi directory. Try putting the wsgi in 
/home/somthing e.g. in /var/www/wsgi

Bernhard

Am 22.04.2015 14:07, schrieb Enzo Cocca:
> Hi all,
> I looked for a solution but without results.
>
> After set the default file in apache like that:
>
> <VirtualHost *:80>
>    ServerAdmin webmaster at localhost
>    ServerName <localhost>
>
>    DocumentRoot /var/www/html/wms/site
>    <Directory />
>      Options FollowSymLinks
>      AllowOverride None
>    </Directory>
>    <Directory /var/www/html/wms/site/>
>      DirectoryIndex index.php index.html
>      Options Indexes FollowSymLinks MultiViews
>      AllowOverride None
>      Order allow,deny
>      allow from all
>      Require all granted
>    </Directory>
>
>    ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>    <Directory "/usr/lib/cgi-bin/">
>      AllowOverride None
>      Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>      Order allow,deny
>      Allow from all
>      Require all granted
>      SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>    </Directory>
>
>    RewriteEngine On
>    RewriteRule ^/cgi-bin/.*$ - [F]
>
>
>    RewriteRule ^/wms/(.+)$
> /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs [QSA,PT]
>
>    RewriteRule ^/maps/?$ / [PT]
>
>    RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]
>
>    RewriteRule ^/maps/(.*) /$1 [PT]
>
>    #mod_wsgi
>    #LoadModule wsgi_module /usr/lib/apache2/modules/mod_wsgi.so
>    WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>    WSGIScriptAlias /wsgi/ /home/www/wsgi/
>    WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
>
>    <Directory "/home/www/wsgi/">
>          Order allow,deny
>          Allow from all
>    </Directory>
>
>    ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>    CustomLog ${APACHE_LOG_DIR}/qgis-web-client-access.log combined
>
> </VirtualHost>
>
> and the GlobaOptions.js like that;
> //URL for custom search scriptsnull; //
> var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
> var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
>
> The status is:
> NetworkError: 404 Not Found -
> http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>
> So it not found the path of wsgi, but in default config I have give the
> alias
>
> any idea?
>
> E
>
>
>
>


__________ Information from ESET Mail Security, version of virus signature database 11515 (20150422) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From luca76 at gmail.com  Wed Apr 22 07:15:00 2015
From: luca76 at gmail.com (Luca Manganelli)
Date: Wed, 22 Apr 2015 16:15:00 +0200
Subject: [Qgis-developer] Problem with addAttribute and Postgres default
	value
Message-ID: <CAMB2qw37HV2pZb1mBnPzc6ZoH02HT3eiFZ0M-EKR_=8ZegCEcA@mail.gmail.com>

Hi,

I have a spatial table with an attribute that uses the today's date as
a default value.

Prior to 2.8, for me it was sufficient to call initAttributes with the
number of fields and then populate only the needed fields.

Now in 2.8, QGIS fills all the other fields to NULL value, thus
invalidating the constraint ("date_now field doesn't accept NULL
value").

Is there any way to let QGIS ignore that field and so Postgis can fill
it with the default value?

Thank you in advance

From luipir at gmail.com  Wed Apr 22 08:46:37 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 22 Apr 2015 17:46:37 +0200
Subject: [Qgis-developer] Please check: I can't set selection color
Message-ID: <CAFO80_o_BQfvOE6Stt=HuPmeECWSof3i9XTxMnJspdeGOtfhmQ@mail.gmail.com>

Hi

please check if it's a bug or my local problem... I can't change color
for selected features from GUI

I think the color for selected feature is set in:
project properties->general->selection color (I set it to green)

but when the feature is selected (linear o polygonal) it remain
yellow! also after saved the project and reloaded.

because of selection color is set in QgsMapSettings, seems there is
not relation with properties->general->selection configuration
parameter saved in the project.
QgsMapSettings are saved in qgis.ini file under Qgis section.

I'm on compiled 2.8.1, but the same happen in master code

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************

From strk at keybit.net  Wed Apr 22 09:19:56 2015
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 22 Apr 2015 18:19:56 +0200
Subject: [Qgis-developer] (how) should multicore rendering work ?
Message-ID: <20150422161956.GA598@localhost>

I noticed that even with "Render layers in parallel using many CPU cores"
checked and "Max cores to use" set to 8, my CPU monitor shows a single CPU
is used while a single ~8 millions PostGIS point rows are being rendered.

If I uncheck "Render layers in parallel using many CPU cores" nothing
changes. Is this normal/expected with a single layer ?

--strk; 

From luipir at gmail.com  Wed Apr 22 09:49:14 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 22 Apr 2015 18:49:14 +0200
Subject: [Qgis-developer] (how) should multicore rendering work ?
In-Reply-To: <20150422161956.GA598@localhost>
References: <20150422161956.GA598@localhost>
Message-ID: <CAFO80_oigUEpMtfgdXB4mRyJhNnaBQoABvYoCFQt4Eff1PznAg@mail.gmail.com>

exactly
I remember a post (in the list...or in Lutra blog) explaining that
parallelism is related to multiple layer.

regards, Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************


On 22 April 2015 at 18:19, Sandro Santilli <strk at keybit.net> wrote:
> I noticed that even with "Render layers in parallel using many CPU cores"
> checked and "Max cores to use" set to 8, my CPU monitor shows a single CPU
> is used while a single ~8 millions PostGIS point rows are being rendered.
>
> If I uncheck "Render layers in parallel using many CPU cores" nothing
> changes. Is this normal/expected with a single layer ?
>
> --strk;
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From apasotti at gmail.com  Wed Apr 22 09:57:27 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 22 Apr 2015 18:57:27 +0200
Subject: [Qgis-developer] Please check: I can't set selection color
In-Reply-To: <CAFO80_o_BQfvOE6Stt=HuPmeECWSof3i9XTxMnJspdeGOtfhmQ@mail.gmail.com>
References: <CAFO80_o_BQfvOE6Stt=HuPmeECWSof3i9XTxMnJspdeGOtfhmQ@mail.gmail.com>
Message-ID: <CAL5Q673AKJ+EtTpAk-ghjDNbsW3nBwYXgDQXO5TVKUC6JtyCPA@mail.gmail.com>

2015-04-22 17:46 GMT+02:00 Luigi Pirelli <luipir at gmail.com>:

> Hi
>
> please check if it's a bug or my local problem... I can't change color
> for selected features from GUI
>
> I think the color for selected feature is set in:
> project properties->general->selection color (I set it to green)
>
> but when the feature is selected (linear o polygonal) it remain
> yellow! also after saved the project and reloaded.
>
> because of selection color is set in QgsMapSettings, seems there is
> not relation with properties->general->selection configuration
> parameter saved in the project.
> QgsMapSettings are saved in qgis.ini file under Qgis section.
>
> I'm on compiled 2.8.1, but the same happen in master code
>
>
Hi Gino,

I'am able to set selection color from  Project Properties -> General
settings -> Selection color on both poly and points on latest master.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/090a54a9/attachment.html>

From luipir at gmail.com  Wed Apr 22 10:06:51 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 22 Apr 2015 19:06:51 +0200
Subject: [Qgis-developer] Please check: I can't set selection color
In-Reply-To: <CAL5Q673AKJ+EtTpAk-ghjDNbsW3nBwYXgDQXO5TVKUC6JtyCPA@mail.gmail.com>
References: <CAFO80_o_BQfvOE6Stt=HuPmeECWSof3i9XTxMnJspdeGOtfhmQ@mail.gmail.com>
	<CAL5Q673AKJ+EtTpAk-ghjDNbsW3nBwYXgDQXO5TVKUC6JtyCPA@mail.gmail.com>
Message-ID: <CAFO80_r3w1eRZ4XCYm6HAsdmbpbYbncyRRpoW6pyiDgiuTx4ag@mail.gmail.com>

thank you Alessandro,

regards, Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************


On 22 April 2015 at 18:57, Alessandro Pasotti <apasotti at gmail.com> wrote:
> 2015-04-22 17:46 GMT+02:00 Luigi Pirelli <luipir at gmail.com>:
>>
>> Hi
>>
>> please check if it's a bug or my local problem... I can't change color
>> for selected features from GUI
>>
>> I think the color for selected feature is set in:
>> project properties->general->selection color (I set it to green)
>>
>> but when the feature is selected (linear o polygonal) it remain
>> yellow! also after saved the project and reloaded.
>>
>> because of selection color is set in QgsMapSettings, seems there is
>> not relation with properties->general->selection configuration
>> parameter saved in the project.
>> QgsMapSettings are saved in qgis.ini file under Qgis section.
>>
>> I'm on compiled 2.8.1, but the same happen in master code
>>
>
> Hi Gino,
>
> I'am able to set selection color from  Project Properties -> General
> settings -> Selection color on both poly and points on latest master.
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it

From giohappy at gmail.com  Wed Apr 22 12:54:45 2015
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 22 Apr 2015 21:54:45 +0200
Subject: [Qgis-developer] Automate snapping after insert of a new feature
In-Reply-To: <1773887367.2615091429693268193.JavaMail.httpd@webmail-39.iol.local>
References: <1773887367.2615091429693268193.JavaMail.httpd@webmail-39.iol.local>
Message-ID: <CAB4g1=wV_qoeP=JqmDT4DQZFn4HxTDdeFXjtobgooxExLsng7A@mail.gmail.com>

Can't you use the the snapped point (QgsSnappingResult.snappedVertex) to
replace the original vertex position?

giovanni

2015-04-22 11:01 GMT+02:00 francescoboccacci at libero.it <
francescoboccacci at libero.it>:

> Hi all,
> i have a question for you. I'd like to have a new function in my plugin
> that makes an autime snapping if a start point or end point of a new
> feature inserted is closed to a vertex or segment base on a values setted
> ina configuration file.
> From plugin console:
>
> l = iface.activeLayer()  --activeLayer
> f = l.selectedFeatures()[0] -- new fetaure inserted
> start = f.geometry().asPolyline()[0] -- get the start point (the point
> that i would like to snap to a segment)
> result = l.snapWithContext(start,10,QgsSnapper.SnapToVertexAndSegment) --
> i use
> result
> (0, {0.0: [<qgis._core.QgsSnappingResult object at 0x0000000018B9C400>],
> 0.09699529788394015: [<qgis._core.QgsSnappingResult object at
> 0x0000000018B9C620>]})
>
> I notice that the key 0.09699529788394015 is the effective distance
> between my start point and the segment.
> My question is:
> How can i modify the feature geometry to snap to the segment according to
> result?
>
> Thanks
>
> Francesco
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Giovanni Allegri
http://about.me/giovanniallegri
Gis3W - http://gis3w.it
Ikare - http://ikare.it
Twitter: https://twitter.com/_giohappy_
blog: http://blog.spaziogis.it
GEO+ geomatica in Italia http://bit.ly/GEOplus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150422/ba900cb1/attachment.html>

From enzo.ccc at gmail.com  Wed Apr 22 13:15:40 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Thu, 23 Apr 2015 00:15:40 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <553794D0.10009@jena.de>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
	<55374D12.5010904@jena.de>
	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>
	<55375A29.3060607@jena.de>
	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>
	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>
	<553794D0.10009@jena.de>
Message-ID: <CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>

I continue to have the problem with mod_wsgi module. I not understand....
I have set the  apache config like suggest bernhard and I have put my wsgi
folder in /var/www/html but I continue to have the error:
illegal charcther #! /usr/bin/python

I have reinstalled libapache2-mod-wsgi, but nothing

I use ubuntu server 14.04 apache 2.4 python 2.7

Thanks at all for help

E

2015-04-22 16:32 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de>:

> Hi Enzo,
>
> as I wrote in a previous post: Make sure the user running the apache
> process has access to the wsgi directory. Try putting the wsgi in
> /home/somthing e.g. in /var/www/wsgi
>
> Bernhard
>
>
> Am 22.04.2015 14:07, schrieb Enzo Cocca:
>
>> Hi all,
>> I looked for a solution but without results.
>>
>> After set the default file in apache like that:
>>
>> <VirtualHost *:80>
>>    ServerAdmin webmaster at localhost
>>    ServerName <localhost>
>>
>>    DocumentRoot /var/www/html/wms/site
>>    <Directory />
>>      Options FollowSymLinks
>>      AllowOverride None
>>    </Directory>
>>    <Directory /var/www/html/wms/site/>
>>      DirectoryIndex index.php index.html
>>      Options Indexes FollowSymLinks MultiViews
>>      AllowOverride None
>>      Order allow,deny
>>      allow from all
>>      Require all granted
>>    </Directory>
>>
>>    ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>>    <Directory "/usr/lib/cgi-bin/">
>>      AllowOverride None
>>      Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>>      Order allow,deny
>>      Allow from all
>>      Require all granted
>>      SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>>    </Directory>
>>
>>    RewriteEngine On
>>    RewriteRule ^/cgi-bin/.*$ - [F]
>>
>>
>>    RewriteRule ^/wms/(.+)$
>> /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs [QSA,PT]
>>
>>    RewriteRule ^/maps/?$ / [PT]
>>
>>    RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]
>>
>>    RewriteRule ^/maps/(.*) /$1 [PT]
>>
>>    #mod_wsgi
>>    #LoadModule wsgi_module /usr/lib/apache2/modules/mod_wsgi.so
>>    WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>>    WSGIScriptAlias /wsgi/ /home/www/wsgi/
>>    WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
>>
>>    <Directory "/home/www/wsgi/">
>>          Order allow,deny
>>          Allow from all
>>    </Directory>
>>
>>    ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>>    CustomLog ${APACHE_LOG_DIR}/qgis-web-client-access.log combined
>>
>> </VirtualHost>
>>
>> and the GlobaOptions.js like that;
>> //URL for custom search scriptsnull; //
>> var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
>> var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
>>
>> The status is:
>> NetworkError: 404 Not Found -
>>
>> http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>>
>> So it not found the path of wsgi, but in default config I have give the
>> alias
>>
>> any idea?
>>
>> E
>>
>>
>>
>>
>>
>
> __________ Information from ESET Mail Security, version of virus signature
> database 11515 (20150422) __________
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150423/dfd543c2/attachment.html>

From bernhard.stroebl at jena.de  Wed Apr 22 22:42:57 2015
From: bernhard.stroebl at jena.de (=?ISO-8859-1?Q?Bernhard_Str=F6bl?=)
Date: Thu, 23 Apr 2015 07:42:57 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>	<553744F4.6040803@jena.de>	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>	<55374D12.5010904@jena.de>	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>	<55375A29.3060607@jena.de>	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>	<553794D0.10009@jena.de>
	<CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>
Message-ID: <55388661.8060402@jena.de>

Hi Enzo,

do not put it into html (see section 6 of the QWC documentation) maybe 
in that location it is not run as a script but accessed by the browser 
as any other html file (remember: I am no expert on this).
Basically you should not see the file at all in the browser, if an error 
occurs it should be in Apache's error log.
Be sure ther is no space as the first character of the first line (as 
was suggested before).

Bernhard

Am 22.04.2015 22:15, schrieb Enzo Cocca:
> I continue to have the problem with mod_wsgi module. I not
> understand....  I have set the  apache config like suggest bernhard and
> I have put my wsgi folder in /var/www/html but I continue to have the error:
> illegal charcther #! /usr/bin/python
>
> I have reinstalled libapache2-mod-wsgi, but nothing
>
> I use ubuntu server 14.04 apache 2.4 python 2.7
>
> Thanks at all for help
>
> E
>
> 2015-04-22 16:32 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
> <mailto:bernhard.stroebl at jena.de>>:
>
>     Hi Enzo,
>
>     as I wrote in a previous post: Make sure the user running the apache
>     process has access to the wsgi directory. Try putting the wsgi in
>     /home/somthing e.g. in /var/www/wsgi
>
>     Bernhard
>
>
>     Am 22.04.2015 14:07, schrieb Enzo Cocca:
>
>         Hi all,
>         I looked for a solution but without results.
>
>         After set the default file in apache like that:
>
>         <VirtualHost *:80>
>             ServerAdmin webmaster at localhost
>             ServerName <localhost>
>
>             DocumentRoot /var/www/html/wms/site
>             <Directory />
>               Options FollowSymLinks
>               AllowOverride None
>             </Directory>
>             <Directory /var/www/html/wms/site/>
>               DirectoryIndex index.php index.html
>               Options Indexes FollowSymLinks MultiViews
>               AllowOverride None
>               Order allow,deny
>               allow from all
>               Require all granted
>             </Directory>
>
>             ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>             <Directory "/usr/lib/cgi-bin/">
>               AllowOverride None
>               Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>               Order allow,deny
>               Allow from all
>               Require all granted
>               SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>             </Directory>
>
>             RewriteEngine On
>             RewriteRule ^/cgi-bin/.*$ - [F]
>
>
>             RewriteRule ^/wms/(.+)$
>         /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs
>         [QSA,PT]
>
>             RewriteRule ^/maps/?$ / [PT]
>
>             RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]
>
>             RewriteRule ^/maps/(.*) /$1 [PT]
>
>             #mod_wsgi
>             #LoadModule wsgi_module /usr/lib/apache2/modules/mod_wsgi.so
>             WSGIDaemonProcess gis processes=5 threads=15
>         display-name=%{GROUP}
>             WSGIScriptAlias /wsgi/ /home/www/wsgi/
>             WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
>
>             <Directory "/home/www/wsgi/">
>                   Order allow,deny
>                   Allow from all
>             </Directory>
>
>             ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>             CustomLog ${APACHE_LOG_DIR}/qgis-web-client-access.log combined
>
>         </VirtualHost>
>
>         and the GlobaOptions.js like that;
>         //URL for custom search scriptsnull; //
>         var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
>         var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
>
>         The status is:
>         NetworkError: 404 Not Found -
>         http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>
>         So it not found the path of wsgi, but in default config I have
>         give the
>         alias
>
>         any idea?
>
>         E
>
>
>
>
>
>
>     __________ Information from ESET Mail Security, version of virus
>     signature database 11515 (20150422) __________
>
>     The message was checked by ESET Mail Security.
>     http://www.eset.com
>
>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>


__________ Information from ESET Mail Security, version of virus signature database 11519 (20150423) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From luca76 at gmail.com  Wed Apr 22 23:25:08 2015
From: luca76 at gmail.com (Luca Manganelli)
Date: Thu, 23 Apr 2015 08:25:08 +0200
Subject: [Qgis-developer] Problem with addAttribute and Postgres default
	value
In-Reply-To: <CAMB2qw37HV2pZb1mBnPzc6ZoH02HT3eiFZ0M-EKR_=8ZegCEcA@mail.gmail.com>
References: <CAMB2qw37HV2pZb1mBnPzc6ZoH02HT3eiFZ0M-EKR_=8ZegCEcA@mail.gmail.com>
Message-ID: <CAMB2qw1GHd_2CZKzmQqBULxG9UWdOkqtmOogdpnsssXd2zeC3w@mail.gmail.com>

On Wed, Apr 22, 2015 at 4:15 PM, Luca Manganelli <luca76 at gmail.com> wrote:
> Hi,
>
> I have a spatial table with an attribute that uses the today's date as
> a default value.

I found myself the solution to the problem.
The trick is to check if the defaultValue() of the field is not null:

# Create new feature
new_feature = QgsFeature()
new_feature.initAttributes ( len ( layer.dataProvider().fieldNameMap() ) )
new_feature.setGeometry( ... )

# Populate fields with DEFAULT value in Postgres
new_attributes = layer.pendingFields()
for j in new_attributes:
  fieldname = j.name()
  fieldindex = layer.dataProvider().fieldNameIndex(fieldname)
  fielddefault = layer.dataProvider().defaultValue(fieldindex)

  if fieldindex == 0:  # skip ogc_fid (mine is at index 0)
    continue

  if unicode (fielddefault) != "NULL":
    new_feature.setAttribute (fieldindex, fielddefault)

# Populate your fields
new_feature.setAttribute ( ..., ... )

From francescoboccacci at libero.it  Thu Apr 23 01:15:37 2015
From: francescoboccacci at libero.it (francescoboccacci at libero.it)
Date: Thu, 23 Apr 2015 10:15:37 +0200 (CEST)
Subject: [Qgis-developer] R: Re: Automate snapping after insert of a new
 feature
Message-ID: <2014817843.2945331429776937425.JavaMail.httpd@webmail-39.iol.local>

Hi Giovanni,
thanks for you reply. I tried to use your solution but the QgsPoint returned by sbappedVertx has a strange coordinate

reault[1][0.096699529....][0].snappedVertex
(6.79039e-313,2.8142e-320)


new_geom = QgsGeometry.fromPolyline([f.geometry().asPolyline()[0],a[1][7.715400893466547][0].snappedVertex])
after i tried to create a new geometry to use with l.cangeGeometry(ID FEATURE, new_geom)

Any suggestion?

Thanks

Francesco






----Messaggio originale----

Da: giohappy at gmail.com

Data: 22/04/2015 21.54

A: "francescoboccacci at libero.it"<francescoboccacci at libero.it>

Cc: "qgis-developer"<qgis-developer at lists.osgeo.org>

Ogg: Re: [Qgis-developer] Automate snapping after insert of a new feature



Can't you use the the snapped point (QgsSnappingResult.snappedVertex) to replace the original vertex position?
giovanni
2015-04-22 11:01 GMT+02:00 francescoboccacci at libero.it <francescoboccacci at libero.it>:
Hi all,
i have a question for you. I'd like to have a new function in my plugin that makes an autime snapping if a start point or end point of a new feature inserted is closed to a vertex or segment base on a values setted ina configuration file.
>From plugin console:

l = iface.activeLayer()  --activeLayer
f = l.selectedFeatures()[0] -- new fetaure inserted
start = f.geometry().asPolyline()[0] -- get the start point (the point that i would like to snap to a segment)
result = l.snapWithContext(start,10,QgsSnapper.SnapToVertexAndSegment) -- i use
result
(0, {0.0: [<qgis._core.QgsSnappingResult object at 0x0000000018B9C400>], 0.09699529788394015: [<qgis._core.QgsSnappingResult object at 0x0000000018B9C620>]})

I notice that the key 0.09699529788394015 is the effective distance between my start point and the segment.
My question is:
How can i modify the feature geometry to snap to the segment according to result?

Thanks

Francesco

_______________________________________________

Qgis-developer mailing list

Qgis-developer at lists.osgeo.org

http://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Giovanni Allegri
http://about.me/giovanniallegriGis3W - http://gis3w.itIkare - http://ikare.it
Twitter: https://twitter.com/_giohappy_blog: http://blog.spaziogis.it
GEO+ geomatica in Italia http://bit.ly/GEOplus





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150423/d30e48da/attachment-0001.html>

From enzo.ccc at gmail.com  Thu Apr 23 10:33:42 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Thu, 23 Apr 2015 21:33:42 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <55388661.8060402@jena.de>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
	<55374D12.5010904@jena.de>
	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>
	<55375A29.3060607@jena.de>
	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>
	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>
	<553794D0.10009@jena.de>
	<CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>
	<55388661.8060402@jena.de>
Message-ID: <CAC_+zup3kExU7RFT+-sc2+PchSO3s+rZy7UD-5H-8zvDQLxANg@mail.gmail.com>

Hi Bernard,
I have followed
If I put the wsgi folder in /usr/lib/cgi-bin/ and set apache config like

  WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
  WSGIScriptAlias /wsgi/ /usr/lib/cgi-bin/wsgi/
  WSGIScriptAliasMatch ^/wsgi/([^/]+) /usr/lib/cgi-bin/wsgi/$1.wsgi

I have internal error 500. You  I'm not understand  again
sorry
E

2015-04-23 9:42 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de>:

> Hi Enzo,
>
> do not put it into html (see section 6 of the QWC documentation) maybe in
> that location it is not run as a script but accessed by the browser as any
> other html file (remember: I am no expert on this).
> Basically you should not see the file at all in the browser, if an error
> occurs it should be in Apache's error log.
> Be sure ther is no space as the first character of the first line (as was
> suggested before).
>
> Bernhard
>
> Am 22.04.2015 22:15, schrieb Enzo Cocca:
>
>> I continue to have the problem with mod_wsgi module. I not
>> understand....  I have set the  apache config like suggest bernhard and
>> I have put my wsgi folder in /var/www/html but I continue to have the
>> error:
>> illegal charcther #! /usr/bin/python
>>
>> I have reinstalled libapache2-mod-wsgi, but nothing
>>
>> I use ubuntu server 14.04 apache 2.4 python 2.7
>>
>> Thanks at all for help
>>
>> E
>>
>> 2015-04-22 16:32 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
>> <mailto:bernhard.stroebl at jena.de>>:
>>
>>
>>     Hi Enzo,
>>
>>     as I wrote in a previous post: Make sure the user running the apache
>>     process has access to the wsgi directory. Try putting the wsgi in
>>     /home/somthing e.g. in /var/www/wsgi
>>
>>     Bernhard
>>
>>
>>     Am 22.04.2015 14:07, schrieb Enzo Cocca:
>>
>>         Hi all,
>>         I looked for a solution but without results.
>>
>>         After set the default file in apache like that:
>>
>>         <VirtualHost *:80>
>>             ServerAdmin webmaster at localhost
>>             ServerName <localhost>
>>
>>             DocumentRoot /var/www/html/wms/site
>>             <Directory />
>>               Options FollowSymLinks
>>               AllowOverride None
>>             </Directory>
>>             <Directory /var/www/html/wms/site/>
>>               DirectoryIndex index.php index.html
>>               Options Indexes FollowSymLinks MultiViews
>>               AllowOverride None
>>               Order allow,deny
>>               allow from all
>>               Require all granted
>>             </Directory>
>>
>>             ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>>             <Directory "/usr/lib/cgi-bin/">
>>               AllowOverride None
>>               Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>>               Order allow,deny
>>               Allow from all
>>               Require all granted
>>               SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>>             </Directory>
>>
>>             RewriteEngine On
>>             RewriteRule ^/cgi-bin/.*$ - [F]
>>
>>
>>             RewriteRule ^/wms/(.+)$
>>         /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs
>>         [QSA,PT]
>>
>>             RewriteRule ^/maps/?$ / [PT]
>>
>>             RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]
>>
>>             RewriteRule ^/maps/(.*) /$1 [PT]
>>
>>             #mod_wsgi
>>             #LoadModule wsgi_module /usr/lib/apache2/modules/mod_wsgi.so
>>             WSGIDaemonProcess gis processes=5 threads=15
>>         display-name=%{GROUP}
>>             WSGIScriptAlias /wsgi/ /home/www/wsgi/
>>             WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
>>
>>             <Directory "/home/www/wsgi/">
>>                   Order allow,deny
>>                   Allow from all
>>             </Directory>
>>
>>             ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>>             CustomLog ${APACHE_LOG_DIR}/qgis-web-client-access.log
>> combined
>>
>>         </VirtualHost>
>>
>>         and the GlobaOptions.js like that;
>>         //URL for custom search scriptsnull; //
>>         var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
>>         var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
>>
>>         The status is:
>>         NetworkError: 404 Not Found -
>>
>> http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>>
>>         So it not found the path of wsgi, but in default config I have
>>         give the
>>         alias
>>
>>         any idea?
>>
>>         E
>>
>>
>>
>>
>>
>>
>>     __________ Information from ESET Mail Security, version of virus
>>     signature database 11515 (20150422) __________
>>
>>     The message was checked by ESET Mail Security.
>>     http://www.eset.com
>>
>>
>>     _______________________________________________
>>     Qgis-developer mailing list
>>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org
>> >
>>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>>
>
> __________ Information from ESET Mail Security, version of virus signature
> database 11519 (20150423) __________
>
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150423/2de28512/attachment.html>

From dassau at gbd-consult.de  Thu Apr 23 11:42:34 2015
From: dassau at gbd-consult.de (Otto Dassau)
Date: Thu, 23 Apr 2015 20:42:34 +0200
Subject: [Qgis-developer] remove background layers in qgis webclient
Message-ID: <20150423204234.3291bedc@nature.speedport.ip>

Hi,

is there a way to easily disable the background layers in the qgis webclient
and remove the Background Layers group from the legend?

Regards,
Otto

From dassau at gbd-consult.de  Thu Apr 23 11:50:13 2015
From: dassau at gbd-consult.de (Otto Dassau)
Date: Thu, 23 Apr 2015 20:50:13 +0200
Subject: [Qgis-developer] remove background layers in qgis webclient
In-Reply-To: <20150423204234.3291bedc@nature.speedport.ip>
References: <20150423204234.3291bedc@nature.speedport.ip>
Message-ID: <20150423205013.34be29bb@nature.speedport.ip>

Am Thu, 23 Apr 2015 20:42:34 +0200
schrieb Otto Dassau <dassau at gbd-consult.de>:

> Hi,
> 
> is there a way to easily disable the background layers in the qgis
> webclient and remove the Background Layers group from the legend?
> 
> Regards,
> Otto
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

sorry fr the noise, found that I only need to set these two lines to false
in the GlobalOptions.js:

var enableGoogleCommercialMaps = false;
var enableOSMMaps = false;

Regards
Otto


From a.neumann at carto.net  Thu Apr 23 13:22:13 2015
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 23 Apr 2015 22:22:13 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zup3kExU7RFT+-sc2+PchSO3s+rZy7UD-5H-8zvDQLxANg@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>	<553744F4.6040803@jena.de>	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>	<55374D12.5010904@jena.de>	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>	<55375A29.3060607@jena.de>	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>	<553794D0.10009@jena.de>	<CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>	<55388661.8060402@jena.de>
	<CAC_+zup3kExU7RFT+-sc2+PchSO3s+rZy7UD-5H-8zvDQLxANg@mail.gmail.com>
Message-ID: <55395475.7030205@carto.net>

Hi Enzo,

This has nothing to do with QGIS. Please google something like "wsgi 
Apache setup" - e.g. 
https://code.google.com/p/modwsgi/wiki/QuickConfigurationGuide and make 
sure you can handle your Apache setup. Make sure you can run the hello 
world example listed in the modwsgi documentation.

Then you can continue to come back with QGIS server questions.

Andreas

On 23.04.2015 19:33, Enzo Cocca wrote:
> Hi Bernard,
> I have followed
> If I put the wsgi folder in /usr/lib/cgi-bin/ and set apache config like
>
>   WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>   WSGIScriptAlias /wsgi/ /usr/lib/cgi-bin/wsgi/
>   WSGIScriptAliasMatch ^/wsgi/([^/]+) /usr/lib/cgi-bin/wsgi/$1.wsgi
>
> I have internal error 500. You  I'm not understand  again
> sorry
> E
>
> 2015-04-23 9:42 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de 
> <mailto:bernhard.stroebl at jena.de>>:
>
>     Hi Enzo,
>
>     do not put it into html (see section 6 of the QWC documentation)
>     maybe in that location it is not run as a script but accessed by
>     the browser as any other html file (remember: I am no expert on this).
>     Basically you should not see the file at all in the browser, if an
>     error occurs it should be in Apache's error log.
>     Be sure ther is no space as the first character of the first line
>     (as was suggested before).
>
>     Bernhard
>
>     Am 22.04.2015 22:15, schrieb Enzo Cocca:
>
>         I continue to have the problem with mod_wsgi module. I not
>         understand....  I have set the  apache config like suggest
>         bernhard and
>         I have put my wsgi folder in /var/www/html but I continue to
>         have the error:
>         illegal charcther #! /usr/bin/python
>
>         I have reinstalled libapache2-mod-wsgi, but nothing
>
>         I use ubuntu server 14.04 apache 2.4 python 2.7
>
>         Thanks at all for help
>
>         E
>
>         2015-04-22 16:32 GMT+04:00 Bernhard Str?bl
>         <bernhard.stroebl at jena.de <mailto:bernhard.stroebl at jena.de>
>         <mailto:bernhard.stroebl at jena.de
>         <mailto:bernhard.stroebl at jena.de>>>:
>
>
>             Hi Enzo,
>
>             as I wrote in a previous post: Make sure the user running
>         the apache
>             process has access to the wsgi directory. Try putting the
>         wsgi in
>             /home/somthing e.g. in /var/www/wsgi
>
>             Bernhard
>
>
>             Am 22.04.2015 14:07, schrieb Enzo Cocca:
>
>                 Hi all,
>                 I looked for a solution but without results.
>
>                 After set the default file in apache like that:
>
>                 <VirtualHost *:80>
>                     ServerAdmin webmaster at localhost
>                     ServerName <localhost>
>
>                     DocumentRoot /var/www/html/wms/site
>                     <Directory />
>                       Options FollowSymLinks
>                       AllowOverride None
>                     </Directory>
>                     <Directory /var/www/html/wms/site/>
>                       DirectoryIndex index.php index.html
>                       Options Indexes FollowSymLinks MultiViews
>                       AllowOverride None
>                       Order allow,deny
>                       allow from all
>                       Require all granted
>                     </Directory>
>
>                     ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>                     <Directory "/usr/lib/cgi-bin/">
>                       AllowOverride None
>                       Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>                       Order allow,deny
>                       Allow from all
>                       Require all granted
>                       SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>                     </Directory>
>
>                     RewriteEngine On
>                     RewriteRule ^/cgi-bin/.*$ - [F]
>
>
>                     RewriteRule ^/wms/(.+)$
>         /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs
>                 [QSA,PT]
>
>                     RewriteRule ^/maps/?$ / [PT]
>
>                     RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]
>
>                     RewriteRule ^/maps/(.*) /$1 [PT]
>
>                     #mod_wsgi
>                     #LoadModule wsgi_module
>         /usr/lib/apache2/modules/mod_wsgi.so
>                     WSGIDaemonProcess gis processes=5 threads=15
>                 display-name=%{GROUP}
>                     WSGIScriptAlias /wsgi/ /home/www/wsgi/
>                     WSGIScriptAliasMatch ^/wsgi/([^/]+)
>         /home/www/wsgi/$1.wsgi
>
>                     <Directory "/home/www/wsgi/">
>                           Order allow,deny
>                           Allow from all
>                     </Directory>
>
>                     ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>                     CustomLog
>         ${APACHE_LOG_DIR}/qgis-web-client-access.log combined
>
>                 </VirtualHost>
>
>                 and the GlobaOptions.js like that;
>                 //URL for custom search scriptsnull; //
>                 var searchBoxQueryURL = "/wsgi/search.wsgi?query="; //
>         null:
>                 var searchBoxGetGeomURL =
>         "/wsgi/getSearchGeom.wsgi";//null; //
>
>                 The status is:
>                 NetworkError: 404 Not Found -
>         http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>
>                 So it not found the path of wsgi, but in default
>         config I have
>                 give the
>                 alias
>
>                 any idea?
>
>                 E
>
>
>
>
>
>
>             __________ Information from ESET Mail Security, version of
>         virus
>             signature database 11515 (20150422) __________
>
>             The message was checked by ESET Mail Security.
>         http://www.eset.com
>
>
>             _______________________________________________
>             Qgis-developer mailing list
>         Qgis-developer at lists.osgeo.org
>         <mailto:Qgis-developer at lists.osgeo.org>
>         <mailto:Qgis-developer at lists.osgeo.org
>         <mailto:Qgis-developer at lists.osgeo.org>>
>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
>
>
>     __________ Information from ESET Mail Security, version of virus
>     signature database 11519 (20150423) __________
>
>
>     The message was checked by ESET Mail Security.
>     http://www.eset.com
>
>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> -- 
> Enzo Cocca PhD
> in "Science and Technology for Archaeology and Cultural Heritage"
> mail: enzo.ccc at gmail.com <mailto:enzo.ccc at gmail.com>
> cell: +393495087014
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150423/d2099d7e/attachment.html>

From enzo.ccc at gmail.com  Thu Apr 23 13:52:23 2015
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Fri, 24 Apr 2015 00:52:23 +0400
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <55395475.7030205@carto.net>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>
	<553744F4.6040803@jena.de>
	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>
	<55374D12.5010904@jena.de>
	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>
	<55375A29.3060607@jena.de>
	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>
	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>
	<553794D0.10009@jena.de>
	<CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>
	<55388661.8060402@jena.de>
	<CAC_+zup3kExU7RFT+-sc2+PchSO3s+rZy7UD-5H-8zvDQLxANg@mail.gmail.com>
	<55395475.7030205@carto.net>
Message-ID: <CAC_+zuqLjAGANeaEVjKxRnNOcocDBRJ9kZQ2meMASAqEx_rG1w@mail.gmail.com>

Hi,

I have solved!! YUPPYYYYYYYYYYYYYYYYYY

I writed the code  #mod_wsgi to apache config
into virtual host and so the mod_wsgi not worked

<VirtualHost *:80>

  ServerAdmin webmaster at localhost
  # Add an entry to your /etc/hosts file for qgis-web-client.localhost e.g.
  # 127.0.0.1 qgis-web-client.localhost
  ServerName localhost
..............
  WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
  WSGIScriptAlias /wsgi/ /home/www/wsgi/
  WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
.........
</VirtualHost>


Than I have try to write out virtual host (
 the first three lines) and enjoi!!

thanks for suggestions and help

Enzo

 the first three lines

2015-04-24 0:22 GMT+04:00 Andreas Neumann <a.neumann at carto.net>:

>  Hi Enzo,
>
> This has nothing to do with QGIS. Please google something like "wsgi
> Apache setup" - e.g.
> https://code.google.com/p/modwsgi/wiki/QuickConfigurationGuide and make
> sure you can handle your Apache setup. Make sure you can run the hello
> world example listed in the modwsgi documentation.
>
> Then you can continue to come back with QGIS server questions.
>
> Andreas
>
>
> On 23.04.2015 19:33, Enzo Cocca wrote:
>
> Hi Bernard,
> I have followed
> If I put the wsgi folder in /usr/lib/cgi-bin/ and set apache config like
>
>    WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>   WSGIScriptAlias /wsgi/ /usr/lib/cgi-bin/wsgi/
>   WSGIScriptAliasMatch ^/wsgi/([^/]+) /usr/lib/cgi-bin/wsgi/$1.wsgi
>
>  I have internal error 500. You  I'm not understand  again
> sorry
> E
>
> 2015-04-23 9:42 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de>:
>
>> Hi Enzo,
>>
>> do not put it into html (see section 6 of the QWC documentation) maybe in
>> that location it is not run as a script but accessed by the browser as any
>> other html file (remember: I am no expert on this).
>> Basically you should not see the file at all in the browser, if an error
>> occurs it should be in Apache's error log.
>> Be sure ther is no space as the first character of the first line (as was
>> suggested before).
>>
>> Bernhard
>>
>> Am 22.04.2015 22:15, schrieb Enzo Cocca:
>>
>>> I continue to have the problem with mod_wsgi module. I not
>>> understand....  I have set the  apache config like suggest bernhard and
>>> I have put my wsgi folder in /var/www/html but I continue to have the
>>> error:
>>> illegal charcther #! /usr/bin/python
>>>
>>> I have reinstalled libapache2-mod-wsgi, but nothing
>>>
>>> I use ubuntu server 14.04 apache 2.4 python 2.7
>>>
>>> Thanks at all for help
>>>
>>> E
>>>
>>> 2015-04-22 16:32 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
>>>  <mailto:bernhard.stroebl at jena.de>>:
>>>
>>>
>>>     Hi Enzo,
>>>
>>>     as I wrote in a previous post: Make sure the user running the apache
>>>     process has access to the wsgi directory. Try putting the wsgi in
>>>     /home/somthing e.g. in /var/www/wsgi
>>>
>>>     Bernhard
>>>
>>>
>>>     Am 22.04.2015 14:07, schrieb Enzo Cocca:
>>>
>>>         Hi all,
>>>         I looked for a solution but without results.
>>>
>>>         After set the default file in apache like that:
>>>
>>>         <VirtualHost *:80>
>>>             ServerAdmin webmaster at localhost
>>>             ServerName <localhost>
>>>
>>>             DocumentRoot /var/www/html/wms/site
>>>             <Directory />
>>>               Options FollowSymLinks
>>>               AllowOverride None
>>>             </Directory>
>>>             <Directory /var/www/html/wms/site/>
>>>               DirectoryIndex index.php index.html
>>>               Options Indexes FollowSymLinks MultiViews
>>>               AllowOverride None
>>>               Order allow,deny
>>>               allow from all
>>>               Require all granted
>>>             </Directory>
>>>
>>>             ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>>>             <Directory "/usr/lib/cgi-bin/">
>>>               AllowOverride None
>>>               Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>>>               Order allow,deny
>>>               Allow from all
>>>               Require all granted
>>>               SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>>>             </Directory>
>>>
>>>             RewriteEngine On
>>>             RewriteRule ^/cgi-bin/.*$ - [F]
>>>
>>>
>>>             RewriteRule ^/wms/(.+)$
>>>         /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs
>>>         [QSA,PT]
>>>
>>>             RewriteRule ^/maps/?$ / [PT]
>>>
>>>             RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]
>>>
>>>             RewriteRule ^/maps/(.*) /$1 [PT]
>>>
>>>             #mod_wsgi
>>>             #LoadModule wsgi_module /usr/lib/apache2/modules/mod_wsgi.so
>>>             WSGIDaemonProcess gis processes=5 threads=15
>>>         display-name=%{GROUP}
>>>             WSGIScriptAlias /wsgi/ /home/www/wsgi/
>>>             WSGIScriptAliasMatch ^/wsgi/([^/]+) /home/www/wsgi/$1.wsgi
>>>
>>>             <Directory "/home/www/wsgi/">
>>>                   Order allow,deny
>>>                   Allow from all
>>>             </Directory>
>>>
>>>             ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>>>             CustomLog ${APACHE_LOG_DIR}/qgis-web-client-access.log
>>> combined
>>>
>>>         </VirtualHost>
>>>
>>>         and the GlobaOptions.js like that;
>>>         //URL for custom search scriptsnull; //
>>>         var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; // null:
>>>         var searchBoxGetGeomURL =  "/wsgi/getSearchGeom.wsgi";//null; //
>>>
>>>         The status is:
>>>         NetworkError: 404 Not Found -
>>>
>>> http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>>>
>>>         So it not found the path of wsgi, but in default config I have
>>>         give the
>>>         alias
>>>
>>>         any idea?
>>>
>>>         E
>>>
>>>
>>>
>>>
>>>
>>>
>>>     __________ Information from ESET Mail Security, version of virus
>>>     signature database 11515 (20150422) __________
>>>
>>>     The message was checked by ESET Mail Security.
>>>     http://www.eset.com
>>>
>>>
>>>     _______________________________________________
>>>     Qgis-developer mailing list
>>>      Qgis-developer at lists.osgeo.org <mailto:
>>> Qgis-developer at lists.osgeo.org>
>>>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>>
>>>
>>
>> __________ Information from ESET Mail Security, version of virus
>> signature database 11519 (20150423) __________
>>
>>
>> The message was checked by ESET Mail Security.
>> http://www.eset.com
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
>  --
>   Enzo Cocca PhD
> in "Science and Technology for Archaeology and Cultural Heritage"
> mail: enzo.ccc at gmail.com
> cell: +393495087014
>
>
>
> _______________________________________________
> Qgis-developer mailing listQgis-developer at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"
mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150424/a3203646/attachment-0001.html>

From bernhard.stroebl at jena.de  Thu Apr 23 22:42:57 2015
From: bernhard.stroebl at jena.de (=?UTF-8?B?QmVybmhhcmQgU3Ryw7ZibA==?=)
Date: Fri, 24 Apr 2015 07:42:57 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <CAC_+zup3kExU7RFT+-sc2+PchSO3s+rZy7UD-5H-8zvDQLxANg@mail.gmail.com>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>	<553744F4.6040803@jena.de>	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>	<55374D12.5010904@jena.de>	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>	<55375A29.3060607@jena.de>	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>	<553794D0.10009@jena.de>	<CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>	<55388661.8060402@jena.de>
	<CAC_+zup3kExU7RFT+-sc2+PchSO3s+rZy7UD-5H-8zvDQLxANg@mail.gmail.com>
Message-ID: <5539D7E1.7010906@jena.de>

Hi Enzo,

check Apache's error log (located e.g. in /var/log/apache2) and see if 
there is some more information.

Bernhard

Am 23.04.2015 19:33, schrieb Enzo Cocca:
> Hi Bernard,
> I have followed
> If I put the wsgi folder in /usr/lib/cgi-bin/ and set apache config like
>
>    WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>    WSGIScriptAlias /wsgi/ /usr/lib/cgi-bin/wsgi/
>    WSGIScriptAliasMatch ^/wsgi/([^/]+) /usr/lib/cgi-bin/wsgi/$1.wsgi
>
> I have internal error 500. You  I'm not understand  again
> sorry
> E
>
> 2015-04-23 9:42 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
> <mailto:bernhard.stroebl at jena.de>>:
>
>     Hi Enzo,
>
>     do not put it into html (see section 6 of the QWC documentation)
>     maybe in that location it is not run as a script but accessed by the
>     browser as any other html file (remember: I am no expert on this).
>     Basically you should not see the file at all in the browser, if an
>     error occurs it should be in Apache's error log.
>     Be sure ther is no space as the first character of the first line
>     (as was suggested before).
>
>     Bernhard
>
>     Am 22.04.2015 22:15, schrieb Enzo Cocca:
>
>         I continue to have the problem with mod_wsgi module. I not
>         understand....  I have set the  apache config like suggest
>         bernhard and
>         I have put my wsgi folder in /var/www/html but I continue to
>         have the error:
>         illegal charcther #! /usr/bin/python
>
>         I have reinstalled libapache2-mod-wsgi, but nothing
>
>         I use ubuntu server 14.04 apache 2.4 python 2.7
>
>         Thanks at all for help
>
>         E
>
>         2015-04-22 16:32 GMT+04:00 Bernhard Str?bl
>         <bernhard.stroebl at jena.de <mailto:bernhard.stroebl at jena.de>
>         <mailto:bernhard.stroebl at jena.de
>         <mailto:bernhard.stroebl at jena.de>>>:
>
>
>              Hi Enzo,
>
>              as I wrote in a previous post: Make sure the user running
>         the apache
>              process has access to the wsgi directory. Try putting the
>         wsgi in
>              /home/somthing e.g. in /var/www/wsgi
>
>              Bernhard
>
>
>              Am 22.04.2015 14:07, schrieb Enzo Cocca:
>
>                  Hi all,
>                  I looked for a solution but without results.
>
>                  After set the default file in apache like that:
>
>                  <VirtualHost *:80>
>                      ServerAdmin webmaster at localhost
>                      ServerName <localhost>
>
>                      DocumentRoot /var/www/html/wms/site
>                      <Directory />
>                        Options FollowSymLinks
>                        AllowOverride None
>                      </Directory>
>                      <Directory /var/www/html/wms/site/>
>                        DirectoryIndex index.php index.html
>                        Options Indexes FollowSymLinks MultiViews
>                        AllowOverride None
>                        Order allow,deny
>                        allow from all
>                        Require all granted
>                      </Directory>
>
>                      ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>                      <Directory "/usr/lib/cgi-bin/">
>                        AllowOverride None
>                        Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>                        Order allow,deny
>                        Allow from all
>                        Require all granted
>                        SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>                      </Directory>
>
>                      RewriteEngine On
>                      RewriteRule ^/cgi-bin/.*$ - [F]
>
>
>                      RewriteRule ^/wms/(.+)$
>
>         /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs
>                  [QSA,PT]
>
>                      RewriteRule ^/maps/?$ / [PT]
>
>                      RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html [PT]
>
>                      RewriteRule ^/maps/(.*) /$1 [PT]
>
>                      #mod_wsgi
>                      #LoadModule wsgi_module
>         /usr/lib/apache2/modules/mod_wsgi.so
>                      WSGIDaemonProcess gis processes=5 threads=15
>                  display-name=%{GROUP}
>                      WSGIScriptAlias /wsgi/ /home/www/wsgi/
>                      WSGIScriptAliasMatch ^/wsgi/([^/]+)
>         /home/www/wsgi/$1.wsgi
>
>                      <Directory "/home/www/wsgi/">
>                            Order allow,deny
>                            Allow from all
>                      </Directory>
>
>                      ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>                      CustomLog
>         ${APACHE_LOG_DIR}/qgis-web-client-access.log combined
>
>                  </VirtualHost>
>
>                  and the GlobaOptions.js like that;
>                  //URL for custom search scriptsnull; //
>                  var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; //
>         null:
>                  var searchBoxGetGeomURL =
>         "/wsgi/getSearchGeom.wsgi";//null; //
>
>                  The status is:
>                  NetworkError: 404 Not Found -
>         http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>
>                  So it not found the path of wsgi, but in default config
>         I have
>                  give the
>                  alias
>
>                  any idea?
>
>                  E
>
>
>
>
>
>
>              __________ Information from ESET Mail Security, version of
>         virus
>              signature database 11515 (20150422) __________
>
>              The message was checked by ESET Mail Security.
>         http://www.eset.com
>
>
>              _______________________________________________
>              Qgis-developer mailing list
>         Qgis-developer at lists.osgeo.org
>         <mailto:Qgis-developer at lists.osgeo.org>
>         <mailto:Qgis-developer at lists.osgeo.org
>         <mailto:Qgis-developer at lists.osgeo.org>>
>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
>
>
>     __________ Information from ESET Mail Security, version of virus
>     signature database 11519 (20150423) __________
>
>
>     The message was checked by ESET Mail Security.
>     http://www.eset.com
>
>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <mailto:Qgis-developer at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> --
> Enzo Cocca PhD
> in "Science and Technology for Archaeology and Cultural Heritage"
> mail: enzo.ccc at gmail.com <mailto:enzo.ccc at gmail.com>
> cell: +393495087014
>


__________ Information from ESET Mail Security, version of virus signature database 11525 (20150424) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From bernhard.stroebl at jena.de  Thu Apr 23 22:44:47 2015
From: bernhard.stroebl at jena.de (=?windows-1252?Q?Bernhard_Str=F6bl?=)
Date: Fri, 24 Apr 2015 07:44:47 +0200
Subject: [Qgis-developer] qgis-web-client: module wsgi
In-Reply-To: <5539D7E1.7010906@jena.de>
References: <CAC_+zuquySsOrj46eZKdHSeTALy0bZqzXoh8=wFKhKxLb6MKMA@mail.gmail.com>	<553744F4.6040803@jena.de>	<CAC_+zuoLnuPezO+xGrX71gtNrV3fJYD1TpJtw34kaU_GP02Psg@mail.gmail.com>	<55374D12.5010904@jena.de>	<CAC_+zupRmgA3nQ02wEb22FM-7Poc6S0WULA7oLuWX2_ukdE2NA@mail.gmail.com>	<55375A29.3060607@jena.de>	<CAC_+zuor_EdhwCYR+aqs00v_kv14rNKa-JbQsob_yXrONVKNGQ@mail.gmail.com>	<CAC_+zup0U4jEW3_-_S4uJVg1SFXsQT582gDpLSFB1de8_RFRyg@mail.gmail.com>	<553794D0.10009@jena.de>	<CAC_+zurw5F7ZEs_30qMh_qgVF23bnBCD+mjnMrWdSz-EHbF1YQ@mail.gmail.com>	<55388661.8060402@jena.de>	<CAC_+zup3kExU7RFT+-sc2+PchSO3s+rZy7UD-5H-8zvDQLxANg@mail.gmail.com>
	<5539D7E1.7010906@jena.de>
Message-ID: <5539D84F.9030102@jena.de>

Hi Enzo,

I did not realize you solved it in the meantime :-)

regards

Bernhard

Am 24.04.2015 07:42, schrieb Bernhard Str?bl:
> Hi Enzo,
>
> check Apache's error log (located e.g. in /var/log/apache2) and see if
> there is some more information.
>
> Bernhard
>
> Am 23.04.2015 19:33, schrieb Enzo Cocca:
>> Hi Bernard,
>> I have followed
>> If I put the wsgi folder in /usr/lib/cgi-bin/ and set apache config like
>>
>>    WSGIDaemonProcess gis processes=5 threads=15 display-name=%{GROUP}
>>    WSGIScriptAlias /wsgi/ /usr/lib/cgi-bin/wsgi/
>>    WSGIScriptAliasMatch ^/wsgi/([^/]+) /usr/lib/cgi-bin/wsgi/$1.wsgi
>>
>> I have internal error 500. You  I'm not understand  again
>> sorry
>> E
>>
>> 2015-04-23 9:42 GMT+04:00 Bernhard Str?bl <bernhard.stroebl at jena.de
>> <mailto:bernhard.stroebl at jena.de>>:
>>
>>     Hi Enzo,
>>
>>     do not put it into html (see section 6 of the QWC documentation)
>>     maybe in that location it is not run as a script but accessed by the
>>     browser as any other html file (remember: I am no expert on this).
>>     Basically you should not see the file at all in the browser, if an
>>     error occurs it should be in Apache's error log.
>>     Be sure ther is no space as the first character of the first line
>>     (as was suggested before).
>>
>>     Bernhard
>>
>>     Am 22.04.2015 22:15, schrieb Enzo Cocca:
>>
>>         I continue to have the problem with mod_wsgi module. I not
>>         understand....  I have set the  apache config like suggest
>>         bernhard and
>>         I have put my wsgi folder in /var/www/html but I continue to
>>         have the error:
>>         illegal charcther #! /usr/bin/python
>>
>>         I have reinstalled libapache2-mod-wsgi, but nothing
>>
>>         I use ubuntu server 14.04 apache 2.4 python 2.7
>>
>>         Thanks at all for help
>>
>>         E
>>
>>         2015-04-22 16:32 GMT+04:00 Bernhard Str?bl
>>         <bernhard.stroebl at jena.de <mailto:bernhard.stroebl at jena.de>
>>         <mailto:bernhard.stroebl at jena.de
>>         <mailto:bernhard.stroebl at jena.de>>>:
>>
>>
>>              Hi Enzo,
>>
>>              as I wrote in a previous post: Make sure the user running
>>         the apache
>>              process has access to the wsgi directory. Try putting the
>>         wsgi in
>>              /home/somthing e.g. in /var/www/wsgi
>>
>>              Bernhard
>>
>>
>>              Am 22.04.2015 14:07, schrieb Enzo Cocca:
>>
>>                  Hi all,
>>                  I looked for a solution but without results.
>>
>>                  After set the default file in apache like that:
>>
>>                  <VirtualHost *:80>
>>                      ServerAdmin webmaster at localhost
>>                      ServerName <localhost>
>>
>>                      DocumentRoot /var/www/html/wms/site
>>                      <Directory />
>>                        Options FollowSymLinks
>>                        AllowOverride None
>>                      </Directory>
>>                      <Directory /var/www/html/wms/site/>
>>                        DirectoryIndex index.php index.html
>>                        Options Indexes FollowSymLinks MultiViews
>>                        AllowOverride None
>>                        Order allow,deny
>>                        allow from all
>>                        Require all granted
>>                      </Directory>
>>
>>                      ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
>>                      <Directory "/usr/lib/cgi-bin/">
>>                        AllowOverride None
>>                        Options +ExecCGI -MultiViews -SymLinksIfOwnerMatch
>>                        Order allow,deny
>>                        Allow from all
>>                        Require all granted
>>                        SetEnv QGIS_LOG_FILE /tmp/qgislog.txt
>>                      </Directory>
>>
>>                      RewriteEngine On
>>                      RewriteRule ^/cgi-bin/.*$ - [F]
>>
>>
>>                      RewriteRule ^/wms/(.+)$
>>
>>         /cgi-bin/qgis_mapserv.fcgi?map=/var/www/html/wms/projects/$1.qgs
>>                  [QSA,PT]
>>
>>                      RewriteRule ^/maps/?$ / [PT]
>>
>>                      RewriteRule ^/maps/([^\.]+)$ /qgiswebclient.html
>> [PT]
>>
>>                      RewriteRule ^/maps/(.*) /$1 [PT]
>>
>>                      #mod_wsgi
>>                      #LoadModule wsgi_module
>>         /usr/lib/apache2/modules/mod_wsgi.so
>>                      WSGIDaemonProcess gis processes=5 threads=15
>>                  display-name=%{GROUP}
>>                      WSGIScriptAlias /wsgi/ /home/www/wsgi/
>>                      WSGIScriptAliasMatch ^/wsgi/([^/]+)
>>         /home/www/wsgi/$1.wsgi
>>
>>                      <Directory "/home/www/wsgi/">
>>                            Order allow,deny
>>                            Allow from all
>>                      </Directory>
>>
>>                      ErrorLog ${APACHE_LOG_DIR}/qgis-web-client-error.log
>>                      CustomLog
>>         ${APACHE_LOG_DIR}/qgis-web-client-access.log combined
>>
>>                  </VirtualHost>
>>
>>                  and the GlobaOptions.js like that;
>>                  //URL for custom search scriptsnull; //
>>                  var searchBoxQueryURL =  "/wsgi/search.wsgi?query="; //
>>         null:
>>                  var searchBoxGetGeomURL =
>>         "/wsgi/getSearchGeom.wsgi";//null; //
>>
>>                  The status is:
>>                  NetworkError: 404 Not Found -
>>
>> http://localhost/wsgi/search.wsgi?query=&searchtables=&query=qqq&cb=stcCallback1001
>>
>>
>>                  So it not found the path of wsgi, but in default config
>>         I have
>>                  give the
>>                  alias
>>
>>                  any idea?
>>
>>                  E
>>
>>
>>
>>
>>
>>
>>              __________ Information from ESET Mail Security, version of
>>         virus
>>              signature database 11515 (20150422) __________
>>
>>              The message was checked by ESET Mail Security.
>>         http://www.eset.com
>>
>>
>>              _______________________________________________
>>              Qgis-developer mailing list
>>         Qgis-developer at lists.osgeo.org
>>         <mailto:Qgis-developer at lists.osgeo.org>
>>         <mailto:Qgis-developer at lists.osgeo.org
>>         <mailto:Qgis-developer at lists.osgeo.org>>
>>         http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>>
>>
>>     __________ Information from ESET Mail Security, version of virus
>>     signature database 11519 (20150423) __________
>>
>>
>>     The message was checked by ESET Mail Security.
>>     http://www.eset.com
>>
>>
>>     _______________________________________________
>>     Qgis-developer mailing list
>>     Qgis-developer at lists.osgeo.org
>> <mailto:Qgis-developer at lists.osgeo.org>
>>     http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>> --
>> Enzo Cocca PhD
>> in "Science and Technology for Archaeology and Cultural Heritage"
>> mail: enzo.ccc at gmail.com <mailto:enzo.ccc at gmail.com>
>> cell: +393495087014
>>
>
>
> __________ Information from ESET Mail Security, version of virus
> signature database 11525 (20150424) __________
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>


__________ Information from ESET Mail Security, version of virus signature database 11525 (20150424) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From geodrinx at gmail.com  Fri Apr 24 05:27:32 2015
From: geodrinx at gmail.com (Geo DrinX)
Date: Fri, 24 Apr 2015 14:27:32 +0200
Subject: [Qgis-developer] SmartRoadSense plugin for QGIS
Message-ID: <CAFF9Zhv2pmyHxai9tjngq2JwGQsLLUOgbR9aEH2vPvBLcwsTqQ@mail.gmail.com>

Hello,


I created a new plugin for QGIS that downloads and displays
the road surface conditions point data, taken from web site:

http://smartroadsense.it/

The data relate to the Italian territory, and are sampled with
collaborative monitoring
through an app for smartphones and the accelerometer.

I hope this plugin can be useful


Regards

Roberto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150424/e015e7ab/attachment.html>

From volayaf at gmail.com  Fri Apr 24 06:05:43 2015
From: volayaf at gmail.com (Victor Olaya)
Date: Fri, 24 Apr 2015 15:05:43 +0200
Subject: [Qgis-developer] Hackfest Jam?
Message-ID: <CAJsc-7ytbGvFqtY7raX9OkbHU1GDDG28Vvc-N9WBehgxByQK5A@mail.gmail.com>

Hi all

I have been discussing with Lene the idea of organizing a jam session
(or a musical event in general) at the hackfest. We are 60 people so
far, and i am sure that there will be a few musicians in the group. If
anyone feels like playing, please let us know and bring your
instruments, so we can have fun and maybe entertain the rest of the
team with a few nice tunes :-)

Thanks!

From luipir at gmail.com  Fri Apr 24 07:22:14 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 24 Apr 2015 16:22:14 +0200
Subject: [Qgis-developer] Hackfest Jam?
In-Reply-To: <CAJsc-7ytbGvFqtY7raX9OkbHU1GDDG28Vvc-N9WBehgxByQK5A@mail.gmail.com>
References: <CAJsc-7ytbGvFqtY7raX9OkbHU1GDDG28Vvc-N9WBehgxByQK5A@mail.gmail.com>
Message-ID: <CAFO80_of8SMDzUgCvMmZAQP=_gfOhZZ1-bj9Qrsktn=QLpMx-A@mail.gmail.com>

mine instruments are already there ;)

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************


On 24 April 2015 at 15:05, Victor Olaya <volayaf at gmail.com> wrote:
> Hi all
>
> I have been discussing with Lene the idea of organizing a jam session
> (or a musical event in general) at the hackfest. We are 60 people so
> far, and i am sure that there will be a few musicians in the group. If
> anyone feels like playing, please let us know and bring your
> instruments, so we can have fun and maybe entertain the rest of the
> team with a few nice tunes :-)
>
> Thanks!
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From sfkeller at gmail.com  Sat Apr 25 08:49:40 2015
From: sfkeller at gmail.com (Stefan Keller)
Date: Sat, 25 Apr 2015 17:49:40 +0200
Subject: [Qgis-developer] Plugin to synchronize an attribute table between
	QGIS and LibreOffice?
Message-ID: <CAFcOn2_5mgGiCspW9unH=Drb-3+PHrME3t6USLg5L4fvBC7jDw@mail.gmail.com>

What about a plugin to open and synchronize an attribute table between
QGIS and LibreOffice?
This would also require to write a LibreOffice extension.
As an inspiration see this ArcGIS extension called "gisconnector" [1]

--S.

[1] http://www.gislounge.com/gisconnector-excel-synchronize-data-selections-filters-arcgis-excel/

From wenzeslaus at gmail.com  Sat Apr 25 09:43:23 2015
From: wenzeslaus at gmail.com (Vaclav Petras)
Date: Sat, 25 Apr 2015 12:43:23 -0400
Subject: [Qgis-developer] Plugin to synchronize an attribute table
 between QGIS and LibreOffice?
In-Reply-To: <CAFcOn2_5mgGiCspW9unH=Drb-3+PHrME3t6USLg5L4fvBC7jDw@mail.gmail.com>
References: <CAFcOn2_5mgGiCspW9unH=Drb-3+PHrME3t6USLg5L4fvBC7jDw@mail.gmail.com>
Message-ID: <CABo5uVvhdX1HGSOTiBqdgKXFBSAPqrvsoOCdNQgWx+P_wim+tg@mail.gmail.com>

On Sat, Apr 25, 2015 at 11:49 AM, Stefan Keller <sfkeller at gmail.com> wrote:
>
> What about a plugin to open and synchronize an attribute table between
> QGIS and LibreOffice?

There was a talk at FOSS4G PDX 2014 which described combination of
PostGIS/PostgreSQL+QGIS+LibreOffice:

Geodesign: An Introduction to Design with Geography ? Matthew Baker, Denver
Public Schools, Critter Thompson, Placematters
https://vimeo.com/106233274
5:00-15:00

> This would also require to write a LibreOffice extension.
> As an inspiration see this ArcGIS extension called "gisconnector" [1]
>
> --S.
>
> [1]
http://www.gislounge.com/gisconnector-excel-synchronize-data-selections-filters-arcgis-excel/
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150425/12e404b8/attachment.html>

From sfkeller at gmail.com  Sat Apr 25 13:07:52 2015
From: sfkeller at gmail.com (Stefan Keller)
Date: Sat, 25 Apr 2015 22:07:52 +0200
Subject: [Qgis-developer] Plugin to synchronize an attribute table
 between QGIS and LibreOffice?
In-Reply-To: <CABo5uVvhdX1HGSOTiBqdgKXFBSAPqrvsoOCdNQgWx+P_wim+tg@mail.gmail.com>
References: <CAFcOn2_5mgGiCspW9unH=Drb-3+PHrME3t6USLg5L4fvBC7jDw@mail.gmail.com>
	<CABo5uVvhdX1HGSOTiBqdgKXFBSAPqrvsoOCdNQgWx+P_wim+tg@mail.gmail.com>
Message-ID: <CAFcOn29BJc0X778aJai2PF+GYbqdf7KpFz9EhE3Rb=_pX70Hfg@mail.gmail.com>

Hi Vaclav

Thanks for the hint.
Interesting talk about Geodesign (which to me is a synonym decision
support) and open source tools like PostGIS, QGIS and LibreOffice.
But there, QGIS is connected to LibreOffice via PostgreSQL/PostGIS.
I'm looking for a direct connection between QGIS and LibreOffice calc.

-S.


2015-04-25 18:43 GMT+02:00 Vaclav Petras <wenzeslaus at gmail.com>:
>
> On Sat, Apr 25, 2015 at 11:49 AM, Stefan Keller <sfkeller at gmail.com> wrote:
>>
>> What about a plugin to open and synchronize an attribute table between
>> QGIS and LibreOffice?
>
> There was a talk at FOSS4G PDX 2014 which described combination of
> PostGIS/PostgreSQL+QGIS+LibreOffice:
>
> Geodesign: An Introduction to Design with Geography ? Matthew Baker, Denver
> Public Schools, Critter Thompson, Placematters
> https://vimeo.com/106233274
> 5:00-15:00
>
>> This would also require to write a LibreOffice extension.
>> As an inspiration see this ArcGIS extension called "gisconnector" [1]
>>
>> --S.
>>
>> [1]
>> http://www.gislounge.com/gisconnector-excel-synchronize-data-selections-filters-arcgis-excel/
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From remi.cura at gmail.com  Sun Apr 26 07:11:00 2015
From: remi.cura at gmail.com (=?UTF-8?Q?R=C3=A9mi_Cura?=)
Date: Sun, 26 Apr 2015 16:11:00 +0200
Subject: [Qgis-developer] Plugin to synchronize an attribute table
 between QGIS and LibreOffice?
In-Reply-To: <CAFcOn29BJc0X778aJai2PF+GYbqdf7KpFz9EhE3Rb=_pX70Hfg@mail.gmail.com>
References: <CAFcOn2_5mgGiCspW9unH=Drb-3+PHrME3t6USLg5L4fvBC7jDw@mail.gmail.com>
	<CABo5uVvhdX1HGSOTiBqdgKXFBSAPqrvsoOCdNQgWx+P_wim+tg@mail.gmail.com>
	<CAFcOn29BJc0X778aJai2PF+GYbqdf7KpFz9EhE3Rb=_pX70Hfg@mail.gmail.com>
Message-ID: <CAJvUf_uO+raQQcOC_VDSQiuspiMTgsgt1Ja22860fAOdawcSog@mail.gmail.com>

Hey,
you could use SQLite as an itermediary.
As far as I know, QGIS can natively read/write into SQLite tables, and use
it anyway.
And as far as I know, Open Office can easily read and write data in/from
SQLIte.

It would be very close to what you want, without the need to write a QGIS
extension.
You would just have to write the LibreOffice plugin

Cheers,
R?mi-C

2015-04-25 22:07 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:

> Hi Vaclav
>
> Thanks for the hint.
> Interesting talk about Geodesign (which to me is a synonym decision
> support) and open source tools like PostGIS, QGIS and LibreOffice.
> But there, QGIS is connected to LibreOffice via PostgreSQL/PostGIS.
> I'm looking for a direct connection between QGIS and LibreOffice calc.
>
> -S.
>
>
> 2015-04-25 18:43 GMT+02:00 Vaclav Petras <wenzeslaus at gmail.com>:
> >
> > On Sat, Apr 25, 2015 at 11:49 AM, Stefan Keller <sfkeller at gmail.com>
> wrote:
> >>
> >> What about a plugin to open and synchronize an attribute table between
> >> QGIS and LibreOffice?
> >
> > There was a talk at FOSS4G PDX 2014 which described combination of
> > PostGIS/PostgreSQL+QGIS+LibreOffice:
> >
> > Geodesign: An Introduction to Design with Geography ? Matthew Baker,
> Denver
> > Public Schools, Critter Thompson, Placematters
> > https://vimeo.com/106233274
> > 5:00-15:00
> >
> >> This would also require to write a LibreOffice extension.
> >> As an inspiration see this ArcGIS extension called "gisconnector" [1]
> >>
> >> --S.
> >>
> >> [1]
> >>
> http://www.gislounge.com/gisconnector-excel-synchronize-data-selections-filters-arcgis-excel/
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer at lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150426/281ed5b3/attachment.html>

From sfkeller at gmail.com  Sun Apr 26 07:35:55 2015
From: sfkeller at gmail.com (Stefan Keller)
Date: Sun, 26 Apr 2015 16:35:55 +0200
Subject: [Qgis-developer] Plugin to synchronize an attribute table
 between QGIS and LibreOffice?
In-Reply-To: <CAJvUf_uO+raQQcOC_VDSQiuspiMTgsgt1Ja22860fAOdawcSog@mail.gmail.com>
References: <CAFcOn2_5mgGiCspW9unH=Drb-3+PHrME3t6USLg5L4fvBC7jDw@mail.gmail.com>
	<CABo5uVvhdX1HGSOTiBqdgKXFBSAPqrvsoOCdNQgWx+P_wim+tg@mail.gmail.com>
	<CAFcOn29BJc0X778aJai2PF+GYbqdf7KpFz9EhE3Rb=_pX70Hfg@mail.gmail.com>
	<CAJvUf_uO+raQQcOC_VDSQiuspiMTgsgt1Ja22860fAOdawcSog@mail.gmail.com>
Message-ID: <CAFcOn28Pmgc_X+vDAgu4S4WavTpY0oR3HGMYPbAy-2J-xFkfvA@mail.gmail.com>

Hi R?mi

You're probably right:
Having a lightweight database in between would have some advantages
since LibreOffice (calc) locks files.
On the other hand a database makes adding rows more complicated...

Cheers, S.

2015-04-26 16:11 GMT+02:00 R?mi Cura <remi.cura at gmail.com>:
> Hey,
> you could use SQLite as an itermediary.
> As far as I know, QGIS can natively read/write into SQLite tables, and use
> it anyway.
> And as far as I know, Open Office can easily read and write data in/from
> SQLIte.
>
> It would be very close to what you want, without the need to write a QGIS
> extension.
> You would just have to write the LibreOffice plugin
>
> Cheers,
> R?mi-C
>
> 2015-04-25 22:07 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
>>
>> Hi Vaclav
>>
>> Thanks for the hint.
>> Interesting talk about Geodesign (which to me is a synonym decision
>> support) and open source tools like PostGIS, QGIS and LibreOffice.
>> But there, QGIS is connected to LibreOffice via PostgreSQL/PostGIS.
>> I'm looking for a direct connection between QGIS and LibreOffice calc.
>>
>> -S.
>>
>>
>> 2015-04-25 18:43 GMT+02:00 Vaclav Petras <wenzeslaus at gmail.com>:
>> >
>> > On Sat, Apr 25, 2015 at 11:49 AM, Stefan Keller <sfkeller at gmail.com>
>> > wrote:
>> >>
>> >> What about a plugin to open and synchronize an attribute table between
>> >> QGIS and LibreOffice?
>> >
>> > There was a talk at FOSS4G PDX 2014 which described combination of
>> > PostGIS/PostgreSQL+QGIS+LibreOffice:
>> >
>> > Geodesign: An Introduction to Design with Geography ? Matthew Baker,
>> > Denver
>> > Public Schools, Critter Thompson, Placematters
>> > https://vimeo.com/106233274
>> > 5:00-15:00
>> >
>> >> This would also require to write a LibreOffice extension.
>> >> As an inspiration see this ArcGIS extension called "gisconnector" [1]
>> >>
>> >> --S.
>> >>
>> >> [1]
>> >>
>> >> http://www.gislounge.com/gisconnector-excel-synchronize-data-selections-filters-arcgis-excel/
>> >> _______________________________________________
>> >> Qgis-developer mailing list
>> >> Qgis-developer at lists.osgeo.org
>> >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

From matthias at opengis.ch  Sun Apr 26 23:14:27 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 27 Apr 2015 08:14:27 +0200
Subject: [Qgis-developer] Plugin to synchronize an attribute table
 between QGIS and LibreOffice?
In-Reply-To: <CAFcOn28Pmgc_X+vDAgu4S4WavTpY0oR3HGMYPbAy-2J-xFkfvA@mail.gmail.com>
References: <CAFcOn2_5mgGiCspW9unH=Drb-3+PHrME3t6USLg5L4fvBC7jDw@mail.gmail.com>
	<CABo5uVvhdX1HGSOTiBqdgKXFBSAPqrvsoOCdNQgWx+P_wim+tg@mail.gmail.com>
	<CAFcOn29BJc0X778aJai2PF+GYbqdf7KpFz9EhE3Rb=_pX70Hfg@mail.gmail.com>
	<CAJvUf_uO+raQQcOC_VDSQiuspiMTgsgt1Ja22860fAOdawcSog@mail.gmail.com>
	<CAFcOn28Pmgc_X+vDAgu4S4WavTpY0oR3HGMYPbAy-2J-xFkfvA@mail.gmail.com>
Message-ID: <553DD3C3.4060201@opengis.ch>

Hi,

Did you try to open a .ods file with QGIS? IIRC it is supported by GDAL
and hence it should be straightforward to open it in QGIS.

Matthias

On 04/26/2015 04:35 PM, Stefan Keller wrote:
> Hi R?mi
>
> You're probably right:
> Having a lightweight database in between would have some advantages
> since LibreOffice (calc) locks files.
> On the other hand a database makes adding rows more complicated...
>
> Cheers, S.
>
> 2015-04-26 16:11 GMT+02:00 R?mi Cura <remi.cura at gmail.com>:
>> Hey,
>> you could use SQLite as an itermediary.
>> As far as I know, QGIS can natively read/write into SQLite tables, and use
>> it anyway.
>> And as far as I know, Open Office can easily read and write data in/from
>> SQLIte.
>>
>> It would be very close to what you want, without the need to write a QGIS
>> extension.
>> You would just have to write the LibreOffice plugin
>>
>> Cheers,
>> R?mi-C
>>
>> 2015-04-25 22:07 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
>>> Hi Vaclav
>>>
>>> Thanks for the hint.
>>> Interesting talk about Geodesign (which to me is a synonym decision
>>> support) and open source tools like PostGIS, QGIS and LibreOffice.
>>> But there, QGIS is connected to LibreOffice via PostgreSQL/PostGIS.
>>> I'm looking for a direct connection between QGIS and LibreOffice calc.
>>>
>>> -S.
>>>
>>>
>>> 2015-04-25 18:43 GMT+02:00 Vaclav Petras <wenzeslaus at gmail.com>:
>>>> On Sat, Apr 25, 2015 at 11:49 AM, Stefan Keller <sfkeller at gmail.com>
>>>> wrote:
>>>>> What about a plugin to open and synchronize an attribute table between
>>>>> QGIS and LibreOffice?
>>>> There was a talk at FOSS4G PDX 2014 which described combination of
>>>> PostGIS/PostgreSQL+QGIS+LibreOffice:
>>>>
>>>> Geodesign: An Introduction to Design with Geography ? Matthew Baker,
>>>> Denver
>>>> Public Schools, Critter Thompson, Placematters
>>>> https://vimeo.com/106233274
>>>> 5:00-15:00
>>>>
>>>>> This would also require to write a LibreOffice extension.
>>>>> As an inspiration see this ArcGIS extension called "gisconnector" [1]
>>>>>
>>>>> --S.
>>>>>
>>>>> [1]
>>>>>
>>>>> http://www.gislounge.com/gisconnector-excel-synchronize-data-selections-filters-arcgis-excel/
>>>>> _______________________________________________
>>>>> Qgis-developer mailing list
>>>>> Qgis-developer at lists.osgeo.org
>>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


From pietro.panzeri at treuropa.com  Mon Apr 27 01:27:32 2015
From: pietro.panzeri at treuropa.com (Pietro Panzeri)
Date: Mon, 27 Apr 2015 10:27:32 +0200
Subject: [Qgis-developer] Vector Layer TranslateFeatures performance (2.8.1
	vs 1.8.0)
Message-ID: <CAFkzVYRShB0=F7kvD9fnae=P3Mfov9VQ8JZ8eFuj60cuHGqz3A@mail.gmail.com>

I posted this question also in Qgis BugReports (Bug report #12629) where,
eventually, you can find data for tests.


I developed a plugin for Qgis version 1.8.0 that translates a vector layer
with the simple following code:

delta_x = 0.1
delta_y = 0.3
vlayer = iface.activeLayer()
for fid in range(vlayer.featureCount()):
vlayer.translateFeature(fid, delta_x, delta_y)

then converted for 2.8.1 with the following code:

delta_x = 0.1
delta_y = 0.3
vlayer = iface.activeLayer()
for f in vlayer.getFeatures():
fid = f.id()
vlayer.translateFeature(fid, delta_x, delta_y)

I experience big performance issues in 2.8.1.
Qgis 1.8.0 performs the translation of the attached ShapeFile in about 4
seconds both for the first translation and the following ones.
Qgis 2.8.1 performs the same translation in about 4 minutes for the first
translation and in 20 seconds for the following ones.

The layer loading time is the same for both versions (about 1 second).

I cannot understand the reason of this loss of performance.
I'm available to further test my installations or provide any other data.

The system on which I'm running both Qgis versions is:

Distributor ID: Ubuntu
Description: Ubuntu 12.04.3 LTS
Release: 12.04
Codename: precise

Linux 3.2.0-27-generic #43-Ubuntu SMP Fri Jul 6 14:25:57 UTC 2012 x86_64
x86_64 x86_64 GNU/Linux

Thank you very much.


-- 
Pietro Panzeri

Software Development Manager

Tele-Rilevamento Europa - T.R.E. srl
Ripa di Porta Ticinese, 79
20143 Milano ? Italia
Tel.: +39.02.4343.121 - Fax: +39.02.4343.1230
pietro.panzeri at treuropa.com - www.treuropa.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150427/ee7bdb7c/attachment.html>

From remi.bovard at gmail.com  Mon Apr 27 03:11:32 2015
From: remi.bovard at gmail.com (=?UTF-8?B?UsOpbWkgQm92YXJk?=)
Date: Mon, 27 Apr 2015 12:11:32 +0200
Subject: [Qgis-developer] Attributes widgets
Message-ID: <CANkSeKNDFsa1OQT5pwq6r+5yu7owb5zRd6KeuYdYqFPeCC-CxA@mail.gmail.com>

Hi list,

After doing some editions with QGIS 2.8, I noticed some points about
attributes widgets:

* Calendar: if widget is set to display calendar popup and allows null
values, when opening the calendar and selecting the current date, the value
is kept on null. To select the current day, we need to pick an other date
and then come back on current day
* Calendar: if widget is set to display calendar popup, it would be nice to
open it when clicking on the field (not only on the arrow)
* Non editable text field (uncheck editable checkbox): there is no visual
feedback for the user that the field in non editable, like there was before
with grey background.

What do you think? Should I open tickets about those points?

Thanks

R?mi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150427/6a8ee907/attachment.html>

From sylvain.pierre at bas-rhin.fr  Mon Apr 27 03:52:39 2015
From: sylvain.pierre at bas-rhin.fr (PIERRE Sylvain)
Date: Mon, 27 Apr 2015 12:52:39 +0200
Subject: [Qgis-developer] Copy/paste feature from Oracle layer failed
Message-ID: <374F2A33A0F46242B3A1F52EB8A1E8B4010E6ADCAC2C@EXCHMBX-V.cg67.fr>


Hi,
Copy/paste from Oracle layer failed in 2 ways:
First: Copy/paste feature as new layer failed on Oracle layer
When I try to copy paste features from Oracle layers to new layer/ memory layer, it fails with this information message:
"No features in clipboard"
Copy / past is working well with shapefile or Postgis layer.
Second: Copy/paste lines from attribute table to excel (for example...) paste only field names, no data
What's the reason for failing with Oracle layer?

sylvain
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150427/13323004/attachment.html>

From matthias at opengis.ch  Mon Apr 27 08:55:02 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 27 Apr 2015 17:55:02 +0200
Subject: [Qgis-developer] QgsFeatureRequest::FilterType are mutually
	exclusive
Message-ID: <553E5BD6.9000407@opengis.ch>

Hi all,

I am currently working on an "expression compiler". This will allow to
execute (some) expressions server side. Currently postgres is the main
target but it can be adapted to others as well. This makes it very easy
to write provider-independent code that is able to make use of database
indexes, reduce network traffic and relocate CPU usage to a server. I
will write more about this later.

One thing that I am currently working on is to apply this to the
rule-based renderer. Especially for small-scale situations where a lot
of features are in the visible extent but only a small fraction meeting
certain criteria shall be rendered this can improve rendering speed.

The problem that I am currently facing is, that the feature request does
not allow combining a filterRect (extent) and an expression, since you
can either set the request to filter by extent OR by expression.

I thought about removing the FilterRect type and instead always combine
it with the active filter type. E.g. if the filterType is
filterExpression "class = 2" and a rect is set the two clauses will be
joined by an AND. This may change the behavior of existing code in some
cases but probably not much. Worse is that all providers will need to be
revised to change this behavior...
Another option would be to set the filterType to Expression and append
an "AND INTERSECTS ..." to the expression. Probably this has to be done
conditionally only for providers that can compile expressions because
such a solution would bypass spatial indexes that work with filterRect
(but not with the INSERSECTS operator).

I am trying not to overcomplicate this. Are there any opinions, ideas,
caveats, etc. that others can think of?

Thank you for any feedback,
Matthias

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150427/a671d5a7/attachment.pgp>

From madmanwoo at gmail.com  Mon Apr 27 15:52:18 2015
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Mon, 27 Apr 2015 22:52:18 +0000
Subject: [Qgis-developer] 2.8.2?
Message-ID: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>

Sorry to be a pain in the butt but do we have a update on when we could
expect a 2.8.2 release?

I see a lot of emails of late all hitting the bugs that have been fixed for
this release.

- Nathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150427/5448caa5/attachment.html>

From apasotti at gmail.com  Mon Apr 27 23:45:47 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 28 Apr 2015 08:45:47 +0200
Subject: [Qgis-developer] QgsFeatureRequest::FilterType are mutually
	exclusive
In-Reply-To: <553E5BD6.9000407@opengis.ch>
References: <553E5BD6.9000407@opengis.ch>
Message-ID: <CAL5Q6734ajBaJ3VBuXkYQs6h63ggYQhcPHDyoXkz-JE3P0nnaA@mail.gmail.com>

2015-04-27 17:55 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

> Hi all,
>
> I am currently working on an "expression compiler". This will allow to
> execute (some) expressions server side. Currently postgres is the main
> target but it can be adapted to others as well. This makes it very easy
> to write provider-independent code that is able to make use of database
> indexes, reduce network traffic and relocate CPU usage to a server. I
> will write more about this later.
>
> One thing that I am currently working on is to apply this to the
> rule-based renderer. Especially for small-scale situations where a lot
> of features are in the visible extent but only a small fraction meeting
> certain criteria shall be rendered this can improve rendering speed.
>
> The problem that I am currently facing is, that the feature request does
> not allow combining a filterRect (extent) and an expression, since you
> can either set the request to filter by extent OR by expression.
>

> I thought about removing the FilterRect type and instead always combine
> it with the active filter type. E.g. if the filterType is
> filterExpression "class = 2" and a rect is set the two clauses will be
> joined by an AND. This may change the behavior of existing code in some
> cases but probably not much. Worse is that all providers will need to be
> revised to change this behavior...
> Another option would be to set the filterType to Expression and append
> an "AND INTERSECTS ..." to the expression. Probably this has to be done
> conditionally only for providers that can compile expressions because
> such a solution would bypass spatial indexes that work with filterRect
> (but not with the INSERSECTS operator).
>
> I am trying not to overcomplicate this. Are there any opinions, ideas,
> caveats, etc. that others can think of?
>
> Thank you for any feedback,
> Matthias
>
>

Hello Mathias,

Given the two options (and ignoring how much effort is required to change
the providers accordingly), I would suggest the first one, this is the way
most ORM work, you can add several filters and they are combined with AND
to create the final one. It might be worth ordering the filters by type, I
would expect that the expression filter is applied after the spatial filter.
I don't know if it makes much sense in this context but most of the times,
the filtering mechanism I'm talking about allows for multiple filters to be
added in sequence, for example:

QgsFeatureRequest().setFilterRect(QgsRectangle(0,0,1,1))
QgsFeatureRequest().setFilterExpression("country = 'IT'")
QgsFeatureRequest().setFilterExpression("region = Piedmont'")

that would mean filtering first by bbox and then by "country = 'IT' and
region = 'Piedmont'"

BTW, is there any reason why the filter by expression is not listed in the
details of the class documentation?

http://qgis.org/api/classQgsFeatureRequest.html#details

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150428/7d6c7a32/attachment.html>

From luipir at gmail.com  Tue Apr 28 00:39:49 2015
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 28 Apr 2015 09:39:49 +0200
Subject: [Qgis-developer] QgsFeatureRequest::FilterType are mutually
	exclusive
In-Reply-To: <553E5BD6.9000407@opengis.ch>
References: <553E5BD6.9000407@opengis.ch>
Message-ID: <CAFO80_okUymJ4HVBXru0GC21XK+eFNgkyKs94+_a7AaN34Xm1Q@mail.gmail.com>

Hi MAthias,

thank you to let this thread live again... I already faced this code
limit times ago.
I just facing the limit on filtering locally instead of by server.
Problem especially heavy when managing big time series.
About your proposed solution I understand that filterExpression class
is mainly introduced to allow retro-compatibility, so old code remain
doing filtering using filterExpression class 1 (default) that leave
filterRect and filterExpression unmerged.

With this point of view I prefer solution 1.

regards, Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Elance: https://www.elance.com/s/edit/luigipirelli/
* GitHub: https://github.com/luipir
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* Mastering QGIS:
https://www.packtpub.com/application-development/mastering-qgis
**************************************************************************************************


On 27 April 2015 at 17:55, Matthias Kuhn <matthias at opengis.ch> wrote:
> Hi all,
>
> I am currently working on an "expression compiler". This will allow to
> execute (some) expressions server side. Currently postgres is the main
> target but it can be adapted to others as well. This makes it very easy
> to write provider-independent code that is able to make use of database
> indexes, reduce network traffic and relocate CPU usage to a server. I
> will write more about this later.
>
> One thing that I am currently working on is to apply this to the
> rule-based renderer. Especially for small-scale situations where a lot
> of features are in the visible extent but only a small fraction meeting
> certain criteria shall be rendered this can improve rendering speed.
>
> The problem that I am currently facing is, that the feature request does
> not allow combining a filterRect (extent) and an expression, since you
> can either set the request to filter by extent OR by expression.
>
> I thought about removing the FilterRect type and instead always combine
> it with the active filter type. E.g. if the filterType is
> filterExpression "class = 2" and a rect is set the two clauses will be
> joined by an AND. This may change the behavior of existing code in some
> cases but probably not much. Worse is that all providers will need to be
> revised to change this behavior...
> Another option would be to set the filterType to Expression and append
> an "AND INTERSECTS ..." to the expression. Probably this has to be done
> conditionally only for providers that can compile expressions because
> such a solution would bypass spatial indexes that work with filterRect
> (but not with the INSERSECTS operator).
>
> I am trying not to overcomplicate this. Are there any opinions, ideas,
> caveats, etc. that others can think of?
>
> Thank you for any feedback,
> Matthias
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From hugo.mercier at oslandia.com  Tue Apr 28 00:50:51 2015
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Tue, 28 Apr 2015 09:50:51 +0200
Subject: [Qgis-developer] QgsFeatureRequest::FilterType are mutually
	exclusive
In-Reply-To: <553E5BD6.9000407@opengis.ch>
References: <553E5BD6.9000407@opengis.ch>
Message-ID: <553F3BDB.2070703@oslandia.com>

Hi Matthias,

Le 27/04/2015 17:55, Matthias Kuhn a ?crit :
> Hi all,
> 
> I am currently working on an "expression compiler". This will allow to
> execute (some) expressions server side. Currently postgres is the main
> target but it can be adapted to others as well. This makes it very easy
> to write provider-independent code that is able to make use of database
> indexes, reduce network traffic and relocate CPU usage to a server. I
> will write more about this later.

Nice. Looking forward to read this :)

> 
> One thing that I am currently working on is to apply this to the
> rule-based renderer. Especially for small-scale situations where a lot
> of features are in the visible extent but only a small fraction meeting
> certain criteria shall be rendered this can improve rendering speed.
> 
> The problem that I am currently facing is, that the feature request does
> not allow combining a filterRect (extent) and an expression, since you
> can either set the request to filter by extent OR by expression.
> 
> I thought about removing the FilterRect type and instead always combine
> it with the active filter type. E.g. if the filterType is
> filterExpression "class = 2" and a rect is set the two clauses will be
> joined by an AND. This may change the behavior of existing code in some
> cases but probably not much. Worse is that all providers will need to be
> revised to change this behavior...
> Another option would be to set the filterType to Expression and append
> an "AND INTERSECTS ..." to the expression. Probably this has to be done
> conditionally only for providers that can compile expressions because
> such a solution would bypass spatial indexes that work with filterRect
> (but not with the INSERSECTS operator).
> 
> I am trying not to overcomplicate this. Are there any opinions, ideas,
> caveats, etc. that others can think of?

Yes, IMHO filterXXX() is there to express a possible use of indexes. So
I would be to keep filterRect() and filterExpression() and then remove
filterType.
For backward compatibility, we could decide to filter only by expression
if a filterRect is also present.


From matthias at opengis.ch  Tue Apr 28 01:29:13 2015
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 28 Apr 2015 10:29:13 +0200
Subject: [Qgis-developer] QgsFeatureRequest::FilterType are mutually
	exclusive
In-Reply-To: <553F3BDB.2070703@oslandia.com>
References: <553E5BD6.9000407@opengis.ch> <553F3BDB.2070703@oslandia.com>
Message-ID: <553F44D9.1040903@opengis.ch>

So far it seems that combining all the filters with an AND seems to be
the preferred solution but let's wait for some more feedbacks.

I'll just briefly answer some of the previous comments for now

On 04/28/2015 09:50 AM, Hugo Mercier wrote:
> Hi Matthias,
>
> Le 27/04/2015 17:55, Matthias Kuhn a ?crit :
>> Hi all,
>>
>> I am currently working on an "expression compiler". This will allow to
>> execute (some) expressions server side. Currently postgres is the main
>> target but it can be adapted to others as well. This makes it very easy
>> to write provider-independent code that is able to make use of database
>> indexes, reduce network traffic and relocate CPU usage to a server. I
>> will write more about this later.
> Nice. Looking forward to read this :)
A bit more is already there :)

https://github.com/qgis/QGIS/pull/2012

> Yes, IMHO filterXXX() is there to express a possible use of indexes. So
> I would be to keep filterRect() and filterExpression() and then remove
> filterType.
I just thought that an additional filter type "FilterCombined" may also
be an option...

> For backward compatibility, we could decide to filter only by expression
> if a filterRect is also present.
I don't understand this. Currently it's only possible to filter by
expression without a filter rect so making a rect mandatory for an
expression filter would be diametrical to this. Can you explain what you
mean?

@Alessandro
For more ORM-style chaining it would probably be nice to have it on
QgsExpression level and not QgsFeatureRequest level like this:
QgsExpression( 'country=\'IT\'' ).and( 'region=\'Liguria\'' )
We could then have a .where() function on QgsFeatureRequest that returns
a (shared) expression:
QgsFeatureReqest().where( 'country=\'IT\'' ).and( 'region=\'Liguria\'' )
This is a much lower priority for me at the moment.

Best
Matthias


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150428/69f8644e/attachment.pgp>

From junek at gbd-consult.de  Tue Apr 28 02:40:12 2015
From: junek at gbd-consult.de (Larissa Junek)
Date: Tue, 28 Apr 2015 11:40:12 +0200
Subject: [Qgis-developer] processing algs description files missing
Message-ID: <20150428114012.5ad28dcb@gbd1>

Hello,
I'm currently filling out the description files for the processing
algorithms. It struck me that there are description files for 'Raster
calculator', 'Buffer vectors', 'Create points along lines' and
'Dissolve Polygons' missing. Is there a reason why you didn't prepare
them ? Can we create some afterwards? 

I have a question concerning one parameter that is often used in the
algs: Addditional creation parameters (optional). This is for example
available
in 'Clip raster by extent'. What kind of parameters can I use here?

Thanks.

All the best.

Larissa

From strk at keybit.net  Tue Apr 28 02:44:15 2015
From: strk at keybit.net (Sandro Santilli)
Date: Tue, 28 Apr 2015 11:44:15 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
Message-ID: <20150428094415.GC4742@localhost>

On Mon, Apr 27, 2015 at 10:52:18PM +0000, Nathan Woodrow wrote:
> Sorry to be a pain in the butt but do we have a update on when we could
> expect a 2.8.2 release?

It's up to us all. If we handle to stop pushing changes to the 2.8
branch for two weeks, we get the 2.8.2 release cut.

> I see a lot of emails of late all hitting the bugs that have been fixed for
> this release.

Let's try hard to avoid backports unless very very important ?

PS: I'd be in favor of reducing the silence requirement to 1 week,
    especially for the first few bugfix releases...

--strk;

From hugo.mercier at oslandia.com  Tue Apr 28 02:28:55 2015
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Tue, 28 Apr 2015 11:28:55 +0200
Subject: [Qgis-developer] QgsFeatureRequest::FilterType are mutually
	exclusive
In-Reply-To: <553F44D9.1040903@opengis.ch>
References: <553E5BD6.9000407@opengis.ch> <553F3BDB.2070703@oslandia.com>
	<553F44D9.1040903@opengis.ch>
Message-ID: <553F52D7.3070508@oslandia.com>

Le 28/04/2015 10:29, Matthias Kuhn a ?crit :
> So far it seems that combining all the filters with an AND seems to be
> the preferred solution but let's wait for some more feedbacks.

What about spatial indexes ? How does the provider know only a bounding
box test (with index) is required instead of a full intersection test
with an arbitrary geometry ?

> 
> I'll just briefly answer some of the previous comments for now
> 
> On 04/28/2015 09:50 AM, Hugo Mercier wrote:
>> Hi Matthias,
>>
>> Le 27/04/2015 17:55, Matthias Kuhn a ?crit :
>>> Hi all,
>>>
>>> I am currently working on an "expression compiler". This will allow to
>>> execute (some) expressions server side. Currently postgres is the main
>>> target but it can be adapted to others as well. This makes it very easy
>>> to write provider-independent code that is able to make use of database
>>> indexes, reduce network traffic and relocate CPU usage to a server. I
>>> will write more about this later.
>> Nice. Looking forward to read this :)
> A bit more is already there :)
> 
> https://github.com/qgis/QGIS/pull/2012

Cool.
I will have to see how this can be reused for possible SQL
"transformations" in a virtual layer (upcoming ...)

> 
>> Yes, IMHO filterXXX() is there to express a possible use of indexes. So
>> I would be to keep filterRect() and filterExpression() and then remove
>> filterType.
> I just thought that an additional filter type "FilterCombined" may also
> be an option...

Why not.

> 
>> For backward compatibility, we could decide to filter only by expression
>> if a filterRect is also present.
> I don't understand this. Currently it's only possible to filter by
> expression without a filter rect so making a rect mandatory for an
> expression filter would be diametrical to this. Can you explain what you
> mean?

Sorry, I mixed up what is possible currently and what you propose to add.


From volayaf at gmail.com  Tue Apr 28 02:51:27 2015
From: volayaf at gmail.com (Victor Olaya)
Date: Tue, 28 Apr 2015 11:51:27 +0200
Subject: [Qgis-developer] processing algs description files missing
In-Reply-To: <20150428114012.5ad28dcb@gbd1>
References: <20150428114012.5ad28dcb@gbd1>
Message-ID: <CAJsc-7zzv9Pj6J3NPncdekLwtNkQ2pMgnfd+-9ZiUMHZXHS_CQ@mail.gmail.com>

2015-04-28 11:40 GMT+02:00 Larissa Junek <junek at gbd-consult.de>:
> Hello,
> I'm currently filling out the description files for the processing
> algorithms. It struck me that there are description files for 'Raster
> calculator', 'Buffer vectors', 'Create points along lines' and
> 'Dissolve Polygons' missing. Is there a reason why you didn't prepare
> them ? Can we create some afterwards?
>

Not sure what kind of description files you are talking about here.
Help files? Description files used to load the algorithm's semantic
for GRASS and SAGA algorithms?

> I have a question concerning one parameter that is often used in the
> algs: Addditional creation parameters (optional). This is for example
> available
> in 'Clip raster by extent'. What kind of parameters can I use here?
>

That's an option that appears in GDAL/OGR algorithms, and allows
advanced users to use options not included in the algorithm but
supported by the underlying GDAL/OGR tool. You can type parameters
directly in there, as you would do if calling that tool from a console

From alexander.bruy at gmail.com  Tue Apr 28 03:24:11 2015
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue, 28 Apr 2015 13:24:11 +0300
Subject: [Qgis-developer] processing algs description files missing
In-Reply-To: <20150428114012.5ad28dcb@gbd1>
References: <20150428114012.5ad28dcb@gbd1>
Message-ID: <CALuHMPAM5SmbtRJudOMorssfStuRLmXcR0GjQ2eGevrB7yy5BA@mail.gmail.com>

Hi Larissa,

2015-04-28 12:40 GMT+03:00 Larissa Junek <junek at gbd-consult.de>:
> Hello,
> I'm currently filling out the description files for the processing
> algorithms. It struck me that there are description files for 'Raster
> calculator', 'Buffer vectors', 'Create points along lines' and
> 'Dissolve Polygons' missing. Is there a reason why you didn't prepare
> them ? Can we create some afterwards?

If I'm not wrong, some algorithms were added after 2.8.0 branching and
available only in master. As documentation repository currently contains
docs for 2.8 I did not update help files.

If something is missed I can generate this files and upload them to GitHub.

> I have a question concerning one parameter that is often used in the
> algs: Addditional creation parameters (optional). This is for example
> available
> in 'Clip raster by extent'. What kind of parameters can I use here?

As Victor said this parameter allow to enter additional options, not
presented as GUI elements. For example, one can specify raster
layer creation options like compression algorithm, BigTIFF support
etc. Also you can specify here any other valid options of the
corresponding GDAL/OGR command-line tool.

Hope this helps
-- 
Alexander Bruy

From jef at norbit.de  Tue Apr 28 04:23:35 2015
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 28 Apr 2015 13:23:35 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <20150428094415.GC4742@localhost>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<20150428094415.GC4742@localhost>
Message-ID: <20150428112335.GA1647@norbit.de>

Hi Sandro,

On Tue, 28. Apr 2015 at 11:44:15 +0200, Sandro Santilli wrote:
> Let's try hard to avoid backports unless very very important ?
> 
> PS: I'd be in favor of reducing the silence requirement to 1 week,
>     especially for the first few bugfix releases...

If only our largest gap was large enough to cover a week.

commit 2e97ceb5c2ecc5c700cfeb42bf5bd822c7c9e91f
Author:     Werner Macho <werner.macho at gmail.com>
AuthorDate: Mon Mar 16 23:03:49 2015 +0100
Commit:     Werner Macho <werner.macho at gmail.com>
CommitDate: Mon Mar 16 23:04:51 2015 +0100

    adding french translators

commit 6c7eb5b35c6d3c4331832be3811a186fa53d18ad
Author:     Nyall Dawson <nyall.dawson at gmail.com>
AuthorDate: Tue Mar 10 22:53:23 2015 +1100
Commit:     Nyall Dawson <nyall.dawson at gmail.com>
CommitDate: Tue Mar 10 22:57:03 2015 +1100

 Add some GDAL provider unit tests...
    
Just ~6.5 days...

So that wouldn't have helped either.  Maybe we should do monthly point release
with a week of no backports unless there were new bugs introduced.  That would
still give a week window to test the release nightlies before there is a
release


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode                         
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: Digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150428/d337fe9d/attachment.pgp>

From junek at gbd-consult.de  Tue Apr 28 05:35:27 2015
From: junek at gbd-consult.de (Larissa Junek)
Date: Tue, 28 Apr 2015 14:35:27 +0200
Subject: [Qgis-developer] authentication when using 'Import Vector into
 PostGIS database (available connections)'
Message-ID: <20150428143527.564c0bc6@gbd1>

Hello,

I'm currently checking out 'Import Vector into PostGIS database
(available connections)' from the processing algorithms for the user
manual.
I have started my database connection with 'rcpostgresql start' and
then filled in the parameters of the a.m. import tool. In 'History and
log' is documented:

GDAL execution console output
ERROR 1: PQconnectdb failed.
FATAL:  kein PostgreSQL-Benutzername im Startpaket angegeben (= given no
PostgreSQL-username in the starter kit)

How can I authenticate to the database so that the vector layer will be
imported? Which additional steps are to be done?

Kind regards,
Larissa

From cavallini at faunalia.it  Tue Apr 28 05:41:26 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 28 Apr 2015 14:41:26 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <20150428094415.GC4742@localhost>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<20150428094415.GC4742@localhost>
Message-ID: <553F7FF6.1080700@faunalia.it>

Il 28/04/2015 11:44, Sandro Santilli ha scritto:

> Let's try hard to avoid backports unless very very important ?

-1
backports are useful, otherwise thaty would not have been done.
perhaps a "moving window" as suggested by Juergen could be a solution.
thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From custard at westnet.com.au  Tue Apr 28 05:33:35 2015
From: custard at westnet.com.au (=?utf-8?Q?Ramon_Andi=C3=B1ach?=)
Date: Tue, 28 Apr 2015 20:33:35 +0800
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <20150428112335.GA1647@norbit.de>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<20150428094415.GC4742@localhost> <20150428112335.GA1647@norbit.de>
Message-ID: <05A4541D-0685-4148-BE77-093B8B21F307@westnet.com.au>


> On 28 Apr 2015, at 19:23, J?rgen E. Fischer <jef at norbit.de> wrote:
> 
> Hi Sandro,
> 
>> On Tue, 28. Apr 2015 at 11:44:15 +0200, Sandro Santilli wrote:
>> Let's try hard to avoid backports unless very very important ?
>> 
>> PS: I'd be in favor of reducing the silence requirement to 1 week,
>>    especially for the first few bugfix releases...
> 
> If only our largest gap was large enough to cover a week.
<snip>
> 
> Just ~6.5 days...
> 
> So that wouldn't have helped either.  Maybe we should do monthly point release
> with a week of no backports unless there were new bugs introduced.  That would
> still give a week window to test the release nightlies before there is a
> release

If you'll excuse a user sticking an oar in...
I've been wondering if there oughtn't be a fall back release trigger. For example, there must be a point release to at the same time as the next normal release. 

Which would at least guarantee a point release happened.

(Probably want something a bit more frequent than that. Or perhaps a bit offset from the normal, so there aren't two things being tested at once.)

Anyway, first LTR experiment, RM's call on how it happens. 

-ramon. 

From nyall.dawson at gmail.com  Tue Apr 28 05:45:14 2015
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 28 Apr 2015 22:45:14 +1000
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <553F7FF6.1080700@faunalia.it>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<20150428094415.GC4742@localhost> <553F7FF6.1080700@faunalia.it>
Message-ID: <CAB28AsjRFb79TmKixua=Jz=_-9k3yKds0f=Zh35MJ3R0ix2X9w@mail.gmail.com>

On 28 Apr 2015 10:41 pm, "Paolo Cavallini" <cavallini at faunalia.it> wrote:
>
> Il 28/04/2015 11:44, Sandro Santilli ha scritto:
>
> > Let's try hard to avoid backports unless very very important ?
>
> -1
> backports are useful, otherwise thaty would not have been done.
> perhaps a "moving window" as suggested by Juergen could be a solution.

Another option could be requiring (non trivial) fixes to sit in master for
1 or 2 weeks before backporting. That way the LTS branch should always be
safe(ish) to cut a release from...

Nyall

> thanks.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150428/19e58c93/attachment.html>

From strk at keybit.net  Tue Apr 28 07:32:27 2015
From: strk at keybit.net (Sandro Santilli)
Date: Tue, 28 Apr 2015 16:32:27 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <20150428112335.GA1647@norbit.de>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<20150428094415.GC4742@localhost> <20150428112335.GA1647@norbit.de>
Message-ID: <20150428143227.GA15321@localhost>

On Tue, Apr 28, 2015 at 01:23:35PM +0200, J?rgen E. Fischer wrote:
> Hi Sandro,
> 
> On Tue, 28. Apr 2015 at 11:44:15 +0200, Sandro Santilli wrote:
> > Let's try hard to avoid backports unless very very important ?
> > 
> > PS: I'd be in favor of reducing the silence requirement to 1 week,
> >     especially for the first few bugfix releases...
> 
> If only our largest gap was large enough to cover a week.
> 
> commit 2e97ceb5c2ecc5c700cfeb42bf5bd822c7c9e91f
> Author:     Werner Macho <werner.macho at gmail.com>
> AuthorDate: Mon Mar 16 23:03:49 2015 +0100
> Commit:     Werner Macho <werner.macho at gmail.com>
> CommitDate: Mon Mar 16 23:04:51 2015 +0100
> 
>     adding french translators
> 
> commit 6c7eb5b35c6d3c4331832be3811a186fa53d18ad
> Author:     Nyall Dawson <nyall.dawson at gmail.com>
> AuthorDate: Tue Mar 10 22:53:23 2015 +1100
> Commit:     Nyall Dawson <nyall.dawson at gmail.com>
> CommitDate: Tue Mar 10 22:57:03 2015 +1100
> 
>  Add some GDAL provider unit tests...
>     
> Just ~6.5 days...

Should "adding french translators" trigger a "counter reset" ?
Doesn't sound like a commit that could possibly introduce regressions.
Doesn't sound like an urgent fix either that can't wait for next
patch level release to be included. Maybe by sending out periodical
status report we can help all authors weight urgency of a release and
importance of a fix. What notable changes since 2.8.2 ?

> So that wouldn't have helped either.  Maybe we should do monthly point release
> with a week of no backports unless there were new bugs introduced.  That would
> still give a week window to test the release nightlies before there is a
> release

How's that different from asking developers to refrain from pushing changes
but rather focus on tests for one week ? Such request would not be a general
one, but contextual to a specific case in time. Like, now, as the point was
raised a few times already, we could ask everyone to avoid pushing more
changes in the stable branch unless really really important. Maybe asking on
the list for more opinions about the convenience of pushing them. Until
2.8.2 is out.

--strk;

From tim at kartoza.com  Tue Apr 28 12:13:49 2015
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 28 Apr 2015 21:13:49 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <20150428143227.GA15321@localhost>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<20150428094415.GC4742@localhost> <20150428112335.GA1647@norbit.de>
	<20150428143227.GA15321@localhost>
Message-ID: <4716839F-FCEC-40D9-9CAB-543B6E7E889F@kartoza.com>

Hi


Personally I think we should have a system that is simple to track (for users, developers and our beleaguered release manager) so that would rule out anything that requires individual assessment of patches. I very much like the idea of having a month end bugfix release even if there has been ?too much activity? for a calm period. Or even simpler yet have a fixed monthly release if there has been any activity in that month and don?t worry about the quiet period. The last week of the month could be a freeze period for testers and QA as per Juergen?s suggestion. This all sounds a bit like Microsoft?s ?patch tuesday? :-) If there is a critical fix for security or a real show stopper then we do an out of band release and otherwise just keep to the monthly cadence.

Regards

Tim



> On 28 Apr 2015, at 16:32, Sandro Santilli <strk at keybit.net> wrote:
> 
> On Tue, Apr 28, 2015 at 01:23:35PM +0200, J?rgen E. Fischer wrote:
>> Hi Sandro,
>> 
>> On Tue, 28. Apr 2015 at 11:44:15 +0200, Sandro Santilli wrote:
>>> Let's try hard to avoid backports unless very very important ?
>>> 
>>> PS: I'd be in favor of reducing the silence requirement to 1 week,
>>>    especially for the first few bugfix releases...
>> 
>> If only our largest gap was large enough to cover a week.
>> 
>> commit 2e97ceb5c2ecc5c700cfeb42bf5bd822c7c9e91f
>> Author:     Werner Macho <werner.macho at gmail.com>
>> AuthorDate: Mon Mar 16 23:03:49 2015 +0100
>> Commit:     Werner Macho <werner.macho at gmail.com>
>> CommitDate: Mon Mar 16 23:04:51 2015 +0100
>> 
>>    adding french translators
>> 
>> commit 6c7eb5b35c6d3c4331832be3811a186fa53d18ad
>> Author:     Nyall Dawson <nyall.dawson at gmail.com>
>> AuthorDate: Tue Mar 10 22:53:23 2015 +1100
>> Commit:     Nyall Dawson <nyall.dawson at gmail.com>
>> CommitDate: Tue Mar 10 22:57:03 2015 +1100
>> 
>> Add some GDAL provider unit tests...
>> 
>> Just ~6.5 days...
> 
> Should "adding french translators" trigger a "counter reset" ?
> Doesn't sound like a commit that could possibly introduce regressions.
> Doesn't sound like an urgent fix either that can't wait for next
> patch level release to be included. Maybe by sending out periodical
> status report we can help all authors weight urgency of a release and
> importance of a fix. What notable changes since 2.8.2 ?
> 
>> So that wouldn't have helped either.  Maybe we should do monthly point release
>> with a week of no backports unless there were new bugs introduced.  That would
>> still give a week window to test the release nightlies before there is a
>> release
> 
> How's that different from asking developers to refrain from pushing changes
> but rather focus on tests for one week ? Such request would not be a general
> one, but contextual to a specific case in time. Like, now, as the point was
> raised a few times already, we could ask everyone to avoid pushing more
> changes in the stable branch unless really really important. Maybe asking on
> the list for more opinions about the convenience of pushing them. Until
> 2.8.2 is out.
> 
> --strk;
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

?





Tim Sutton

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

* Desktop GIS programming services
* Geospatial web development
* GIS Training
* Consulting Services

Skype: timlinux Irc: timlinux on #qgis at freenode.net
Tim is a member of the QGIS Project Steering Committee

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150428/15eb5126/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaLogo160x66.png
Type: image/png
Size: 9324 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150428/15eb5126/attachment.png>

From kimaidou at gmail.com  Tue Apr 28 23:07:30 2015
From: kimaidou at gmail.com (kimaidou)
Date: Wed, 29 Apr 2015 08:07:30 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <4716839F-FCEC-40D9-9CAB-543B6E7E889F@kartoza.com>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<20150428094415.GC4742@localhost> <20150428112335.GA1647@norbit.de>
	<20150428143227.GA15321@localhost>
	<4716839F-FCEC-40D9-9CAB-543B6E7E889F@kartoza.com>
Message-ID: <CAMKXKO7qzgyTHiz_gYxeRn_zZmWBKBO7901DKSA1KFcBYqEPbg@mail.gmail.com>

Hi all

+ 1 for Tim's proposal, as it is more readable and predictable. Another
thing concerns me : I think many users are not in Twitter, or following the
user or dev mailing list, and can easily miss the point release
announcements. I think we could add in core a small tool which will behaves
as the plugin manager, and warn the users whenever a new version of QGIS is
available. I am not speaking of a complete (and complex) auto-update feature
 "a la Firefox", but a simple warning could be a great addition IMHO.

Regards
Micha?l

2015-04-28 21:13 GMT+02:00 Tim Sutton <tim at kartoza.com>:

> Hi
>
>
> Personally I think we should have a system that is simple to track (for
> users, developers and our beleaguered release manager) so that would rule
> out anything that requires individual assessment of patches. I very much
> like the idea of having a month end bugfix release even if there has been
> ?too much activity? for a calm period. Or even simpler yet have a fixed
> monthly release if there has been any activity in that month and don?t
> worry about the quiet period. The last week of the month could be a freeze
> period for testers and QA as per Juergen?s suggestion. This all sounds a
> bit like Microsoft?s ?patch tuesday? :-) If there is a critical fix for
> security or a real show stopper then we do an out of band release and
> otherwise just keep to the monthly cadence.
>
> Regards
>
> Tim
>
>
>
> On 28 Apr 2015, at 16:32, Sandro Santilli <strk at keybit.net> wrote:
>
> On Tue, Apr 28, 2015 at 01:23:35PM +0200, J?rgen E. Fischer wrote:
>
> Hi Sandro,
>
> On Tue, 28. Apr 2015 at 11:44:15 +0200, Sandro Santilli wrote:
>
> Let's try hard to avoid backports unless very very important ?
>
> PS: I'd be in favor of reducing the silence requirement to 1 week,
>    especially for the first few bugfix releases...
>
>
> If only our largest gap was large enough to cover a week.
>
> commit 2e97ceb5c2ecc5c700cfeb42bf5bd822c7c9e91f
> Author:     Werner Macho <werner.macho at gmail.com>
> AuthorDate: Mon Mar 16 23:03:49 2015 +0100
> Commit:     Werner Macho <werner.macho at gmail.com>
> CommitDate: Mon Mar 16 23:04:51 2015 +0100
>
>    adding french translators
>
> commit 6c7eb5b35c6d3c4331832be3811a186fa53d18ad
> Author:     Nyall Dawson <nyall.dawson at gmail.com>
> AuthorDate: Tue Mar 10 22:53:23 2015 +1100
> Commit:     Nyall Dawson <nyall.dawson at gmail.com>
> CommitDate: Tue Mar 10 22:57:03 2015 +1100
>
> Add some GDAL provider unit tests...
>
> Just ~6.5 days...
>
>
> Should "adding french translators" trigger a "counter reset" ?
> Doesn't sound like a commit that could possibly introduce regressions.
> Doesn't sound like an urgent fix either that can't wait for next
> patch level release to be included. Maybe by sending out periodical
> status report we can help all authors weight urgency of a release and
> importance of a fix. What notable changes since 2.8.2 ?
>
> So that wouldn't have helped either.  Maybe we should do monthly point
> release
> with a week of no backports unless there were new bugs introduced.  That
> would
> still give a week window to test the release nightlies before there is a
> release
>
>
> How's that different from asking developers to refrain from pushing changes
> but rather focus on tests for one week ? Such request would not be a
> general
> one, but contextual to a specific case in time. Like, now, as the point was
> raised a few times already, we could ask everyone to avoid pushing more
> changes in the stable branch unless really really important. Maybe asking
> on
> the list for more opinions about the convenience of pushing them. Until
> 2.8.2 is out.
>
> --strk;
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> ?
>
>
>
>
> Tim Sutton
>
> Visit http://kartoza.com to find out about open source:
>
> * Desktop GIS programming services
> * Geospatial web development
> * GIS Training
> * Consulting Services
>
> Skype: timlinux Irc: timlinux on #qgis at freenode.net
> Tim is a member of the QGIS Project Steering Committee
>
> Kartoza is a merger between Linfiniti and Afrispatial
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150429/940229b4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaLogo160x66.png
Type: image/png
Size: 9324 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150429/940229b4/attachment-0001.png>

From cavallini at faunalia.it  Tue Apr 28 23:11:57 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 29 Apr 2015 08:11:57 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <CAMKXKO7qzgyTHiz_gYxeRn_zZmWBKBO7901DKSA1KFcBYqEPbg@mail.gmail.com>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>	<20150428094415.GC4742@localhost>
	<20150428112335.GA1647@norbit.de>	<20150428143227.GA15321@localhost>	<4716839F-FCEC-40D9-9CAB-543B6E7E889F@kartoza.com>
	<CAMKXKO7qzgyTHiz_gYxeRn_zZmWBKBO7901DKSA1KFcBYqEPbg@mail.gmail.com>
Message-ID: <5540762D.9080309@faunalia.it>

Il 29/04/2015 08:07, kimaidou ha scritto:

> auto-update feature
>  "a la Firefox", but a simple warning could be a great addition IMHO.

+1

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From vincent.ml at oslandia.com  Wed Apr 29 01:27:14 2015
From: vincent.ml at oslandia.com (Vincent Picavet - ML)
Date: Wed, 29 Apr 2015 10:27:14 +0200
Subject: [Qgis-developer] 2.8.2?
In-Reply-To: <5540762D.9080309@faunalia.it>
References: <CAAi8Yg9rEkx_1M+EtT3yt9bgbtwzOkSxd8wFKr223Cpp1OocuQ@mail.gmail.com>
	<CAMKXKO7qzgyTHiz_gYxeRn_zZmWBKBO7901DKSA1KFcBYqEPbg@mail.gmail.com>
	<5540762D.9080309@faunalia.it>
Message-ID: <7118467.M5AuFoQnrQ@parry>

Hello,

Le mercredi 29 avril 2015, 08:11:57 Paolo Cavallini a ?crit :
> Il 29/04/2015 08:07, kimaidou ha scritto:
> > auto-update feature
> > 
> >  "a la Firefox", but a simple warning could be a great addition IMHO.
> +1

Having a RSS feed on the website, with all released versions 
(stable/nightly/whatever) could be a generic tool.
Then a short QGIS feature reading this feed and warning the user would be 
great.

Vincent

-- 
Vincent Picavet - G?rant Oslandia
www.oslandia.com

From junek at gbd-consult.de  Wed Apr 29 02:44:15 2015
From: junek at gbd-consult.de (Larissa Junek)
Date: Wed, 29 Apr 2015 11:44:15 +0200
Subject: [Qgis-developer] processing 'Import Vector into PostGIS database
 (available connections)'
Message-ID: <20150429114415.2b7d9f5d@gbd1>

Hello,

is there someone with experience in using the processing GDAL 'Import
Vector into PostGIS database (available connections)' algorithm?
I have problems with the authentication to the PostGIS database and
look for a workflow which can be inserted into the user manual then.

Kind regards,
Larissa

From mvcs at me.com  Wed Apr 29 04:24:59 2015
From: mvcs at me.com (Marcus Santos)
Date: Wed, 29 Apr 2015 12:24:59 +0100
Subject: [Qgis-developer] GSoC 2015 student - blog to share ideas and reports
Message-ID: <79A277B5-A49E-45C9-BFC0-401A7D6014AB@me.com>

Sorry, I forgot to add the link:
https://qgisgsoc2015.wordpress.com

Best regards,
Marcus

From mvcs at me.com  Wed Apr 29 04:18:14 2015
From: mvcs at me.com (Marcus Santos)
Date: Wed, 29 Apr 2015 12:18:14 +0100
Subject: [Qgis-developer] GSoC 2015 student - blog to share ideas and reports
Message-ID: <7FEB9605-00A0-4C45-9770-1B805A5DFF6E@me.com>

Hi all,

First of all I want to thank you for this opportunity to contribute to QGIS under GSoC.
I created a blog to share information related to the "Multithreading support on QGIS Toolbox" project that I will be developing during the summer.

Until now I don't have much information but I will be updating it soonish.

I am open if you have any suggestion related to the blog or even to the project itself.

Best regards,
Marcus Santos

From junek at gbd-consult.de  Wed Apr 29 06:18:43 2015
From: junek at gbd-consult.de (Larissa Junek)
Date: Wed, 29 Apr 2015 15:18:43 +0200
Subject: [Qgis-developer] how to create a style file for rasters? -->
 Processing QGIS algorithm 'Set style for raster layer'
Message-ID: <20150429151843.5e731f3e@gbd1>

Hello,
describing the above mentioned algorithm for the user manual I'd like to
know which formatting the style file for a raster layer has to have.
Can I use a *.txt file?
From QGIs 2.8. I can see that I can load a color map for the singleband
pseudocolor. Is this the same function as the above mentioned algorithm?

Kind regards,
Larissa

From lucadeluge at gmail.com  Wed Apr 29 07:25:20 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Wed, 29 Apr 2015 16:25:20 +0200
Subject: [Qgis-developer] choose CRS
Message-ID: <CAK4m-3zBgSDaZbvyNux5i26gTF=0fzvvLiwHNKFVd28+rt+4RA@mail.gmail.com>

Hi devs,

I have to add he capabilities to choose a projection system in a plugin.
Is there anything ready to use? I like the solution used in "Save
vector layer as..." where it is possible to choose a CRS.


Thanks

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From apasotti at gmail.com  Wed Apr 29 07:35:17 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 29 Apr 2015 16:35:17 +0200
Subject: [Qgis-developer] choose CRS
In-Reply-To: <CAK4m-3zBgSDaZbvyNux5i26gTF=0fzvvLiwHNKFVd28+rt+4RA@mail.gmail.com>
References: <CAK4m-3zBgSDaZbvyNux5i26gTF=0fzvvLiwHNKFVd28+rt+4RA@mail.gmail.com>
Message-ID: <CAL5Q673K=Pky2H_MV8emUPLH0uJPMZ1ktAp8WfD-23kpPdUaag@mail.gmail.com>

2015-04-29 16:25 GMT+02:00 Luca Delucchi <lucadeluge at gmail.com>:

> Hi devs,
>
> I have to add he capabilities to choose a projection system in a plugin.
> Is there anything ready to use? I like the solution used in "Save
> vector layer as..." where it is possible to choose a CRS.
>
>
> Thanks
>
> --
> ciao
> Luca
>
> http://gis.cri.fmach.it/delucchi/
> www.lucadelu.org
> _______________________________________________
>
>
Hi Luca,

this widget could be what you're looking for:

http://qgis.org/api/classQgsProjectionSelectionWidget.html



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150429/f24e6f3c/attachment.html>

From lucadeluge at gmail.com  Wed Apr 29 07:36:47 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Wed, 29 Apr 2015 16:36:47 +0200
Subject: [Qgis-developer] choose CRS
In-Reply-To: <CAL5Q673K=Pky2H_MV8emUPLH0uJPMZ1ktAp8WfD-23kpPdUaag@mail.gmail.com>
References: <CAK4m-3zBgSDaZbvyNux5i26gTF=0fzvvLiwHNKFVd28+rt+4RA@mail.gmail.com>
	<CAL5Q673K=Pky2H_MV8emUPLH0uJPMZ1ktAp8WfD-23kpPdUaag@mail.gmail.com>
Message-ID: <CAK4m-3xkV2ccRw_mAa8yFh+WX41SHg6ywufeidHzvNmHD3mjQg@mail.gmail.com>

On 29 April 2015 at 16:35, Alessandro Pasotti <apasotti at gmail.com> wrote:

>
> Hi Luca,
>

Hi Ale,

> this widget could be what you're looking for:
>
> http://qgis.org/api/classQgsProjectionSelectionWidget.html
>

I think it is. Tomorrow I'll try it

Thanks

>
> --
> Alessandro Pasotti
> w3:   www.itopen.it



-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From delazj at gmail.com  Wed Apr 29 09:48:48 2015
From: delazj at gmail.com (DelazJ)
Date: Wed, 29 Apr 2015 18:48:48 +0200
Subject: [Qgis-developer] [Qgis-user] processing 'Import Vector into
 PostGIS database (available connections)'
In-Reply-To: <5540EF0F.8000603@opw.ie>
References: <20150429114415.2b7d9f5d@gbd1>
	<5540EF0F.8000603@opw.ie>
Message-ID: <CAECJsSr2hidS7HC9FNaGcD4Ssm14e1APBoFJeJYvGWSQrFHB-g@mail.gmail.com>

Hi Larissa,
I think there is a problem with most of the Processing tools that deal with
PostGIS table. They need you to check **save the password** option when
setting your PostGIS connection (menu Layer > Add PostGIS table) before
they work. And this is an issue as it oblige to have the password readable
in any project you create. Should I open a ticket for this (if there isn't
already one?)

Once you have saved your password, you get authentication and can proceed
unless you encounter an issue with geometry generation (as I did). But I
may have done something wrong. :(

Hope that helps ...
DelazJ

2015-04-29 16:47 GMT+02:00 Richard McDonnell <richard.mcdonnell at opw.ie>:

> There is an addon for QGIS called split, which will easily export vector
> data to a PostGIS database.
> You mention having issues with authentication, just make sure the user
> (database) has the correct access.
> You can also create a new user in PgAdmin3, giving full access.
> I hope this is of help.
> Regards,
>
> Richard.
>
>
>
>
> On 29/04/2015 10:44, Larissa Junek wrote:
> > Hello,
> >
> > is there someone with experience in using the processing GDAL 'Import
> > Vector into PostGIS database (available connections)' algorithm?
> > I have problems with the authentication to the PostGIS database and
> > look for a workflow which can be inserted into the user manual then.
> >
> > Kind regards,
> > Larissa
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-user
> >
>
>
> OPW - Ag f?achaint don am at? le teacht - Ag caomhn? ?n am at? thart
> OPW - Looking to the future - Caring for the past
>
> **********************************************************************
> Email Disclaimer: http://www.opw.ie/en/disclaimer/
> **********************************************************************
>
>
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150429/043605e6/attachment-0001.html>

From tom.chadwin at nnpa.org.uk  Wed Apr 29 12:29:12 2015
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 29 Apr 2015 19:29:12 +0000
Subject: [Qgis-developer] Which plugin versions should be in the repo?
Message-ID: <1CAEAEAB-0669-4B69-8664-A168F7D124CD@nnpa.org.uk>

Hello all

I'm in the early stages of plugin development, and am adding alpha experimental versions to the QGIS repo quite frequently. As this is a new plugin, there is little third-party testing.

I posted an experimental version, and then quickly discovered a fundamental error. I fixed it, and uploaded a new version.

I deleted the version with the major bug. Is that correct? Or should I leave all versions up there even if faulty? All versions are on GitHub.

Thanks

Tom




Tom Chadwin, ICT Manager
Telephone: 01434 611530 Mob:
Web: www.northumberlandnationalpark.org.uk<http://www.northumberlandnationalpark.org.uk/>

IMPORTANT NOTICE - Disclaimer - This communication is from Northumberland National Park Authority (NNPA).The Authority?s head office and principal place of business is Eastburn, South Park, Hexham, Northumberland, NE46 1BS, United Kingdom. If you are not the intended recipient(s) please note that any form of disclosure, distribution, copying or use of this communication or the information in it or in any attachments is strictly prohibited and may be unlawful. If you have received this communication in error, please delete the email and destroy any copies of it. Any views or opinions presented are solely those of the author and do not necessarily represent those of NNPA.Contractors or potential contractors are reminded that a formal Order or Contract is needed for NNPA to be bound by any offer or acceptance of terms for the supply of goods or services Although this email and any attachments are believed to be free of any virus or other defects which might affect any computer or IT system into which they are received, no responsibility is accepted by the NNPA for any loss or damage arising in any way from the receipt or use thereof. Computer systems of this Authority may be monitored and communications carried out on them recorded, to secure the effective operation of the system and for other lawful purpose.

From farookrceg at gmail.com  Wed Apr 29 22:47:18 2015
From: farookrceg at gmail.com (Ahamed Farook)
Date: Thu, 30 Apr 2015 11:17:18 +0530
Subject: [Qgis-developer] Fwd: QGIS Plugin with dynamic check boxes based on
 number of layers loaded in the QGIS.
In-Reply-To: <CALZ7wOfMvT9oBpekQ2WsKjrxiQmb84fEsCLg2JjN3Xb3zzUtHw@mail.gmail.com>
References: <CALZ7wOfMvT9oBpekQ2WsKjrxiQmb84fEsCLg2JjN3Xb3zzUtHw@mail.gmail.com>
Message-ID: <CALZ7wOduWRKrHMKaN9FEiuUGA_AcEm3xZQGBeb+jHKH-tjeSaA@mail.gmail.com>

Hi,

I am developing a QGIS plugin that runs SQL checks in QGIS. I want the
 check boxes to be created dynamically inside a list view based on the
number of layers loaded inside the QGIS. I would like to know is there any
plugin existing in QGIS (with dynamic creation of check box), so that i may
refer the code to implement the same in mine.

*Regards,*
*Ahamed Farook M,*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150430/2379e671/attachment.html>

From apasotti at gmail.com  Wed Apr 29 23:31:17 2015
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 30 Apr 2015 08:31:17 +0200
Subject: [Qgis-developer] Which plugin versions should be in the repo?
In-Reply-To: <1CAEAEAB-0669-4B69-8664-A168F7D124CD@nnpa.org.uk>
References: <1CAEAEAB-0669-4B69-8664-A168F7D124CD@nnpa.org.uk>
Message-ID: <CAL5Q672QqXrYfNxZ4iKAivpPcVf6Fyr5sac-nV_GDucun24XCQ@mail.gmail.com>

2015-04-29 21:29 GMT+02:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:

> Hello all
>
> I'm in the early stages of plugin development, and am adding alpha
> experimental versions to the QGIS repo quite frequently. As this is a new
> plugin, there is little third-party testing.
>
> I posted an experimental version, and then quickly discovered a
> fundamental error. I fixed it, and uploaded a new version.
>
> I deleted the version with the major bug. Is that correct? Or should I
> leave all versions up there even if faulty? All versions are on GitHub.
>
> Thanks
>
> Tom
>
>

Generally speaking it's up to you, I would suggest to delete experimental
versions after a while unless they target different QGIS minimum versions.

Leaving a faulty version in the repo is not useful for anybody, deletion is
the way to go.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20150430/b9bd4588/attachment.html>

