From luca.manganelli at comune.trento.it  Mon Mar  1 00:16:21 2021
From: luca.manganelli at comune.trento.it (Luca Manganelli)
Date: Mon, 1 Mar 2021 09:16:21 +0100
Subject: [QGIS-Developer] Strange legend bug affecting 3.16.4 LTR
Message-ID: <CAGKduJ1Vcp9_ruapWxgB1vt-sSmpssgWCDO35=STdgwbKiRwGQ@mail.gmail.com>

Hello,

on my QGIS 3.16.4, I discovered that when I add a point (Postgis or GPKG)
layer, the symbol in legend disappears when I uncheck then check it.
This appears when the context based legend is enabled or not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210301/351adfa4/attachment.html>

From rdmailings at duif.net  Mon Mar  1 01:19:16 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 1 Mar 2021 10:19:16 +0100
Subject: [QGIS-Developer] Strange legend bug affecting 3.16.4 LTR
In-Reply-To: <CAGKduJ1Vcp9_ruapWxgB1vt-sSmpssgWCDO35=STdgwbKiRwGQ@mail.gmail.com>
References: <CAGKduJ1Vcp9_ruapWxgB1vt-sSmpssgWCDO35=STdgwbKiRwGQ@mail.gmail.com>
Message-ID: <02846f76-2b33-aa98-b5ab-aebd2be4f752@duif.net>

On 3/1/21 9:16 AM, Luca Manganelli wrote:
> Hello,
> 
> on my QGIS 3.16.4, I discovered that when I add a point (Postgis or GPKG) layer, the symbol in legend disappears when I uncheck then check it.
> This appears when the context based legend is enabled or not.

Can you describe a little more specific (or maybe just create an issue for it, so you can add some screenies)? 

Which 'legend' are you talking about? Layer Manager? Legend in Layout? Styling panel?

Regards,

Richard Duivenvoorde

From luca.manganelli at comune.trento.it  Mon Mar  1 06:20:12 2021
From: luca.manganelli at comune.trento.it (Luca Manganelli)
Date: Mon, 1 Mar 2021 15:20:12 +0100
Subject: [QGIS-Developer] Strange legend bug affecting 3.16.4 LTR
In-Reply-To: <02846f76-2b33-aa98-b5ab-aebd2be4f752@duif.net>
References: <CAGKduJ1Vcp9_ruapWxgB1vt-sSmpssgWCDO35=STdgwbKiRwGQ@mail.gmail.com>
 <02846f76-2b33-aa98-b5ab-aebd2be4f752@duif.net>
Message-ID: <CAGKduJ0uOp3eeRbE4h8PFzn10Q2u2t_Sfk32mf92sTQa-JboBg@mail.gmail.com>

Il giorno lun 1 mar 2021 alle ore 10:19 Richard Duivenvoorde <
rdmailings at duif.net> ha scritto:
> Can you describe a little more specific (or maybe just create an issue
for it, so you can add some screenies)?

In my bug issue I've attached a video:
https://github.com/qgis/QGIS/issues/41937

> Which 'legend' are you talking about? Layer Manager? Legend in Layout?
Styling panel?

Layer Manager

It seems like a WIndows 7 + QT bug....
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210301/ed171dce/attachment.html>

From stefan.uhrig at sap.com  Mon Mar  1 07:35:50 2021
From: stefan.uhrig at sap.com (Uhrig, Stefan)
Date: Mon, 1 Mar 2021 15:35:50 +0000
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and
 vcpkg
In-Reply-To: <9f037205df46d87185a896ff9464e73a@geo.hu-berlin.de>
References: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>
 <AM0PR02MB57772729C0B2641FBA458E5193B79@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <47c87f52-7d5a-6935-6a8b-7615cd670dcf@di.uminho.pt>
 <CAECJsSo0CARNyBTxkdrJkKqL5UBdtx0RLH9jePF1zo3JAN3SQQ@mail.gmail.com>
 <AM0PR02MB57775DD44ECAA6EB8C2C672193B69@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CAGs3qpSL9YDct=x07sx8Rygh1eyrJcwrTUzOmTNokHwBRGPP-Q@mail.gmail.com>
 <9f037205df46d87185a896ff9464e73a@geo.hu-berlin.de>
Message-ID: <AM0PR02MB57779D93E999A70517473658939A9@AM0PR02MB5777.eurprd02.prod.outlook.com>

Hi Benjamin,

Thanks for the feedback.

AFAIK, QGIS has only recently be bumped to C++17, and the version of spatialindex in vcpkg is still 1.9.0. The fix for the binary_function issue made it to a later version only. So, the bad news is that the build with vcpkg is broken for now.

I?ve read Mathias Kuhn?s mail, and his idea of having a curated vcpkg fork seems the best approach to me to solve these kind of issues. On the one hand, we can prevent changes in upstream from breaking the build. On the other hand, we can update dependencies on our own (like the spatialindex library), merge it to the fork and then open a pull request to upstream. We would not be blocked by the upstream review process that way.

I?ll fork vcpkg and I?ll try to update the spatialindex library. If I succeed, I?ll mail you the link to the repository.

Best regards,
Stefan



From: Benjamin Jakimow <benjamin.jakimow at geo.hu-berlin.de>
Sent: Sunday, February 28, 2021 9:03 AM
To: Mats Taraldsvik <mats.taraldsvik at gmail.com>
Cc: Uhrig, Stefan <stefan.uhrig at sap.com>; qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and vcpkg


Hi Stefan,

thanks for your extensive description. So far it worked out very well to setup VS, and I can confirm that geos_c.lib is detected automatically.

Unfortunately my build failed, because MovingRegion.h (which comes with vcpkg) wants to use std::binary_function, which was removed with C++17:

<vcpkg root>\installed\x64-windows\include\spatialindex\MovingRegion.h(155): error C2039: 'binary_function': is not a member of 'std'

I wonder why, because this issue has been solved in libspatialindex since Oct 2019 (https://github.com/libspatialindex/libspatialindex/pull/153)

Best regards,
Benjamin



On 2021-02-11 11:29, Mats Taraldsvik wrote:
Hi Stefan,

Thank you for this excellent guide to compile with vcpkg, it worked right away after me struggling with the official guide+CMake compilation for a couple of hours.

I did make a few modifications that might help:

1. Release build:
- geos_c.lib was detected automatically, and for some reason I did not need to explicitly set GEOS_LIBRARY

2. Debug build:

I noticed: 1> [CMake] -- Found ZSTD: C:/Users/mattar/Source/Repos/vcpkg_qgis/installed/x64-windows/lib/zstd.lib in the logs and you wrote:
> The build will fail because the execution of crssync.exe fails. That's because crssync.exe tries to load zstd.dll instead of zstdd.dll. I haven't figured out why, yet. An easy workaround is copying zstdd.dll to zstd.dll in QGIS\out\build\x64-Debug\output\bin. Then restart the build and it should succeed.

By setting ZSTD_LIBRARY explicitly to <your-vcpkg-root>/installed/x64-windows/debug/lib/zstdd.lib it picked the right lib and dll:
Then log changed to: 1> [CMake] -- Found ZSTD: C:/Users/mattar/Source/Repos/vcpkg_qgis/installed/x64-windows/debug/lib/zstdd.lib

I hope this does help a bit.

I'm an outsider to this community, but my humble suggestion _when this work is complete_ (what's missing except for python support?):
- add your CMakeSettings.json to the build description or to src/CMakeSettings.json
- vcpkg has a new feature "manifests", where a file vcpkg.json describes all dependencies. this should also be added or described (instead of the vcpkg install command).
- vcpkg just got versioning, which might help align the requirements with the rest of qgis
- I see that vcpkg already has flex and bison (<your-vcpkg-root>/downloads/tools/winflexbison), so if there is a way for win_bison.exe and win_flex.exe to be copied to the build directory, these could be used instead of cygwin, making the build even easier)
- vcpkg does have binary caching, perhaps making a github actions CI build using this method feasible?

Anyway, thank you for your efforts! It made the first QGIS-step more pleasant. :)

Best regards,
Mats Taraldsvik

On Mon, Feb 1, 2021 at 4:24 PM Uhrig, Stefan <stefan.uhrig at sap.com<mailto:stefan.uhrig at sap.com>> wrote:

Hi all,



In my opinion, the build with Visual Studio 2019 and vcpkg is still too experimental to add it to the INSTALL.md file. It might break any day if QGIS requires a package or package version that is not available from vcpkg.



Actually, I like the idea to add it to the "Show & tell" category. We can ask the community for their experiences with that setup. Does it work, is it getting used? If it is used by some "critical mass" and works over a longer time without issues, we can add instructions to the INSTALL.md file. Maybe we can add a hint to the INSTALL.md file that the not so faint-hearted developers might give it a try and provide a link to the "Show & tell" post.



However, to be really useful, the debug build should also work with Python bindings and QGIS processing. I got it working for release builds (just needed to install the required Python dependencies via pip install <package>), but that does not work for debug builds. Someone solved that some years ago in another context (https://www.riverbankcomputing.com/pipermail/pyqt/2012-April/031385.html), so I might get it working. I'll give it a try.



Furthermore, I'd like to investigate the zstd.dll vs zstdd.dll load issue before publishing the build instructions.



Best regards,

Stefan







From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org<mailto:qgis-developer-bounces at lists.osgeo.org>> On Behalf Of DelazJ
Sent: Monday, February 1, 2021 10:49 AM
To: Jorge Gustavo Rocha <jgr at di.uminho.pt<mailto:jgr at di.uminho.pt>>
Cc: qgis-developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Subject: Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and vcpkg



Hi,



Why not in the build instructions of the code repo instead: https://github.com/qgis/QGIS/blob/master/INSTALL.md? If it's a working process, easy to replicate, this is the place I'd expect this kind of information.



Regards,

Harrissou



Le dim. 31 janv. 2021 ? 15:55, Jorge Gustavo Rocha <jgr at di.uminho.pt<mailto:jgr at di.uminho.pt>> a ?crit :

Hi Stefan,

We have now a new tab on github called 'discussions'[1]. Your detailed
instructions are a good candidate to write down a new entry there, under
'Show and tell' category. The goal is to keep this information next to
the repo. You can use the markdown syntax to enhance the writing format.
You can also add some print screens.

This is just a suggestion. Feel free to put it there or not.

Regards (and thank you!),

Jorge Gustavo

[1] https://github.com/qgis/QGIS/discussions

?s 14:13 de 31/01/21, Uhrig, Stefan escreveu:
> Install Visual Studio Community 2019: Select "Desktop development with
> C++" under "Workloads" and "C++ MFC for latest v142 build tools (x86 &
> x64)" under "Individual components". Verify that you install "Windows 10
> SDK (10.0.18362.0)" or higher.
>
>
>
> Install Git for Windows and Python 3.
>
>
>
> Download
> https://sourceforge.net/projects/winflexbison/files/win_flex_bison3-latest.zip/download
> and extract it to a location of your choice (avoid space characters in
> the target path).
>
>
>
> Follow the vcpkg "Quick Start: Windows" instructions at
> https://github.com/microsoft/vcpkg#quick-start-windows. Make sure to
> execute the "vcpkg integrate install" command.
>
>
>
> Install the required dependencies via:
>
>
>
> vcpkg --triplet=x64-windows install exiv2 gdal gsl libspatialindex
> libspatialite libzip opencl protobuf qca qscintilla qt5 qt5-serialport
> qt5-location qt5-winextras qtkeychain qwt zstd
>
>
>
> This may take a while as this creates a Debug and a Release build of
> each dependency from source.
>
>
>
> Clone the QGIS repostiory. The path to the QGIS repository should not
> contain any space characters.
>
>
>
> Start Visual Studio and open the QGIS CMakeLists.txt file via "File -->
> Open --> CMake...". This will start the CMake generation, which will
> fail. You will need several configuration rounds until everything is
> setup properly.
>
>
>
> Let's start with a Release build because that requires less tweaking. Go
> to "Project --> CMake Settings". Delete the default configuration
> ("x64-Debug (default)").
>
>
>
> Add a new "x64-Release" configuration and set "Configuration type" to
> "Release". Save the CMakeSettings.json file, which will start a new
> CMake generation. "FIND_FLEX" will fail, so you need to set the
> "FLEX_EXECUTABLE" path manually in section "CMake variables and cache".
> Browse to your win_flex.exe file. Additionally, disable "WITH_BINDINGS"
> and "WITH_QGIS_PROCESS". Save the file. Next set "BISON_EXECUTABLE" to
> your win_bison.exe file and save again. Disable "WITH_QTWEBKIT" and
> save. Set "QCA_LIBRARY" to
> "<vcpkg-root>\installed\x64-windows\lib\qca.lib" and save. Configuration
> should now succeed, but you have to change "GEOS_LIBRARY" from
> "geos.lib" to "geos_c.lib". Save and start the build after CMake
> generation has finished.
>
>
>
> Select "qgis.exe (output\bin\qgis.exe)" as start-up item in the toolbar
> and start QGIS.
>
>
>
> Now let's do the same for a Debug build. Add a "x64-Debug" configuration
> and save. Change to the "x64-Debug" configuration in the toolbar. Repeat
> the steps from above (set flex and bison paths etc.). When selecting
> libraries, take the libraries from
> "<vcpkg-root>\installed\x64-windows\debug\lib". Most libraries will have
> a "d" or "_d" as name suffix. The CMake generation will not always
> select the debug versions of libraries. Hence, go over the CMake
> variables and change release library paths to debug library paths, e.g.
> "<vcpkg-root>\installed\x64-windows\debug\lib\geos_cd.lib" for
> GEOS_LIBRARY. I'll append my CMakeSettings.json file as reference to
> this mail. Save again and start the build.
>
>
>
> The build will fail because the execution of crssync.exe fails. That's
> because crssync.exe tries to load zstd.dll instead of zstdd.dll. I
> haven't figured out why, yet. An easy workaround is copying zstdd.dll to
> zstd.dll in QGIS\out\build\x64-Debug\output\bin. Then restart the build
> and it should succeed.
>
>
>
> You should then be able to start and debug qgis.exe and its
> dependencies. Note that some vcpkg portfiles forget to copy over the
> .pdb files. For example, proj is affected. If you find such a library
> with a missing .pdb file, check whether the portfile (e.g.
> "<vcpkg-root>\ports\proj4\portfile.cmake") contains the
> "vcpkg_copy_pdbs()" call. If not, just add it at the end, re-install the
> dependency and copy over the .pdb file to the QGIS output directory.
>
>
>
> I'm currently trying to get QGIS working with Python bindings. I got the
> build working, however I'm struggling with the debug build execution.
> The debug Python library seems to be unable to load the Release build Qt
> libraries that come with PyQt5. Well, I'll keep trying and if I succeed,
> I'll update the instructions.
>
>
>
> Here is my CMakeSettings.json file for reference:
>
>
>
> {
>
>   "configurations": [
>
>     {
>
>       "name": "x64-Release",
>
>       "generator": "Ninja",
>
>       "configurationType": "Release",
>
>       "buildRoot": "${projectDir}\\out\\build\\${name}",
>
>       "installRoot": "${projectDir}\\out\\install\\${name}",
>
>       "cmakeCommandArgs": "",
>
>       "buildCommandArgs": "",
>
>       "ctestCommandArgs": "",
>
>       "inheritEnvironments": [ "msvc_x64_x64" ],
>
>       "variables": [
>
>         {
>
>           "name": "WITH_BINDINGS",
>
>           "value": "False",
>
>           "type": "BOOL"
>
>         },
>
>         {
>
>           "name": "WITH_QGIS_PROCESS",
>
>           "value": "False",
>
>           "type": "BOOL"
>
>         },
>
>         {
>
>           "name": "FLEX_EXECUTABLE",
>
>           "value": "C:/src/tools/win_flex.exe",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "BISON_EXECUTABLE",
>
>           "value": "C:/src/tools/win_bison.exe",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "WITH_QTWEBKIT",
>
>           "value": "False",
>
>           "type": "BOOL"
>
>         },
>
>         {
>
>           "name": "QCA_LIBRARY",
>
>           "value": "C:/src/vcpkg/installed/x64-windows/lib/qca.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "GEOS_LIBRARY",
>
>           "value": "C:/src/vcpkg/installed/x64-windows/lib/geos_c.lib",
>
>           "type": "FILEPATH"
>
>         }
>
>       ]
>
>     },
>
>     {
>
>       "name": "x64-Debug",
>
>       "generator": "Ninja",
>
>       "configurationType": "Debug",
>
>       "buildRoot": "${projectDir}\\out\\build\\${name}",
>
>       "installRoot": "${projectDir}\\out\\install\\${name}",
>
>       "cmakeCommandArgs": "",
>
>       "buildCommandArgs": "",
>
>       "ctestCommandArgs": "",
>
>       "inheritEnvironments": [ "msvc_x64_x64" ],
>
>       "variables": [
>
>         {
>
>           "name": "FLEX_EXECUTABLE",
>
>           "value": "C:/src/tools/win_flex.exe",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "BISON_EXECUTABLE",
>
>           "value": "C:/src/tools/win_bison.exe",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "WITH_QTWEBKIT",
>
>           "value": "False",
>
>           "type": "BOOL"
>
>         },
>
>         {
>
>           "name": "WITH_BINDINGS",
>
>           "value": "False",
>
>           "type": "BOOL"
>
>         },
>
>         {
>
>           "name": "WITH_QGIS_PROCESS",
>
>           "value": "False",
>
>           "type": "BOOL"
>
>         },
>
>         {
>
>           "name": "QCA_LIBRARY",
>
>           "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qcad.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "GEOS_LIBRARY",
>
>           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/geos_cd.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "GSL_LIB",
>
>           "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/gsld.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "GSLCBLAS_LIB",
>
>           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/gslcblasd.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "PROJ_LIBRARY",
>
>           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/proj_d.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "QSCINTILLA_LIBRARY",
>
>           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/qscintilla2_qt5d.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "QTKEYCHAIN_LIBRARY",
>
>           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/qt5keychaind.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "QWT_LIBRARY",
>
>           "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qwtd.lib",
>
>           "type": "FILEPATH"
>
>         },
>
>         {
>
>           "name": "SPATIALINDEX_LIBRARY",
>
>           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/spatialindex-64d.lib",
>
>           "type": "FILEPATH"
>
>         }
>
>       ]
>
>     }
>
>   ]
>
> }
>
>
>
>
>
>
>
>
>
> *From:*i-s-o <46.i.s.o.64 at gmail.com<mailto:46.i.s.o.64 at gmail.com>>
> *Sent:* Saturday, January 30, 2021 5:58 PM
> *To:* Uhrig, Stefan <stefan.uhrig at sap.com<mailto:stefan.uhrig at sap.com>>
> *Cc:* qgis-developer <QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>>
> *Subject:* Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE
> and vcpkg
>
>
>
> I am very interested in trying out your solution. Could you share the
> required steps?
>
>
>
> Thx.
>
>
>
> On Fri, Jan 29, 2021, 09:25 Uhrig, Stefan <stefan.uhrig at sap.com<mailto:stefan.uhrig at sap.com>
> <mailto:stefan.uhrig at sap.com<mailto:stefan.uhrig at sap.com>>> wrote:
>
>     TL;DR: It is currently possible to build the QGIS core app with
>     Visual Studio 2019 and vcpkg, which makes debugging QGIS
>     dependencies easy.
>
>
>
>
>
>     Hi all,
>
>
>
>     Some time ago I discovered vcpkg
>     (https://github.com/microsoft/vcpkg). vcpkg is a package manager
>     that downloads package source code to your local machine and builds
>     the package locally. Recently, I discovered that vcpkg should be
>     able to provide all dependencies to build at least the QGIS core
>     application. Hence, I gave it a try.
>
>
>
>     Basically, it worked out of the box. I started with a fresh Windows
>     10 installation, installed Visual Studio 2019 Community Edition,
>     Git, vcpkg, Python 3 and flex and bison for Windows. I fetched all
>     other dependencies via vcpkg. It was not necessary to even touch a
>     single file in the repository. I could just open the main
>     CMakeLists.txt file in Visual Studio and only had to tweak the CMake
>     cache (the CMake find macros that come with QGIS are not aware of
>     vcpkg, so I had to set some paths manually). I had to switch off
>     some extensions though as the required dependencies were not
>     available via vcpkg (WITH_BINDINGS, WITH_QGIS_PROCESS,
>     WITH_QTWEBKIT). The build did not report any errors, I could start
>     the application and it seems to work, but I did some light testing only.
>
>
>
>     I mainly tried it because I enjoy debugging with Visual Studio more
>     than with gdb (or gdb wrapped in some IDE). In my experience, the
>     performance of the Visual Studio debugger is better and it is more
>     stable, especially in long debug sessions.
>
>
>
>     I don't want to promote official building support of QGIS with
>     vcpkg. Providing the dependencies via OSGeo4W is much more reliable.
>     However, if you don't mind the experimental nature of this setup and
>     you want to be able to debug into QGIS' dependencies, you might give
>     it a try. Especially, if you want to track the cause of a crash in
>     one of QGIS' dependencies, this setup might be helpful. You have the
>     source code and debug versions of the dependencies, so the debugger
>     will jump to the crashing code line and you can inspect all the
>     variables of the dependency.
>
>
>
>     If someone is interested in trying it, give me a note. I can then
>     assemble detailed instructions on how to make it work. It took me a
>     while to figure out which packages are needed and how the CMake
>     cache needs to be tweaked.
>
>
>
>     Best regards,
>
>     Stefan
>
>
>
>
>
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org> <mailto:QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

J. Gustavo
--
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


--
--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de<mailto:benjamin.jakimow at geo.hu-berlin.de>

phone:  +49 (0) 30 2093 6894
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'222
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210301/a3204662/attachment-0001.html>

From chris at clandegrassi.com  Mon Mar  1 18:48:21 2021
From: chris at clandegrassi.com (chris at clandegrassi.com)
Date: Mon, 01 Mar 2021 19:48:21 -0700
Subject: [QGIS-Developer] Agreement
Message-ID: <20210301194821.Horde.YExc5QHNvA3lgvStAVWPA-E@webmail.clandegrassi.com>

Hello,
I apologize in advance if this is going to the wrong place.

I have read the New Developer Requirements at
https://www.qgis.org/en/site/getinvolved/development/contributor_requirements.html
and I agree to the Code(s).

I am a Software Engineer/GIS Analyst and I would like to contribute to QGIS.
I have cloned the repository and successfuly completed the buid  
following the posted document.
I can help with bugs, new code and Plugins.

Please let me know how to proceed.

Thank you
Cheers
Chris Degrassi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210301/ac239dbf/attachment.html>

From benjamin.jakimow at geo.hu-berlin.de  Mon Mar  1 21:58:46 2021
From: benjamin.jakimow at geo.hu-berlin.de (Benjamin Jakimow)
Date: Tue, 02 Mar 2021 06:58:46 +0100
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and
 vcpkg
In-Reply-To: <AM0PR02MB57779D93E999A70517473658939A9@AM0PR02MB5777.eurprd02.prod.outlook.com>
References: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>
 <AM0PR02MB57772729C0B2641FBA458E5193B79@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <47c87f52-7d5a-6935-6a8b-7615cd670dcf@di.uminho.pt>
 <CAECJsSo0CARNyBTxkdrJkKqL5UBdtx0RLH9jePF1zo3JAN3SQQ@mail.gmail.com>
 <AM0PR02MB57775DD44ECAA6EB8C2C672193B69@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CAGs3qpSL9YDct=x07sx8Rygh1eyrJcwrTUzOmTNokHwBRGPP-Q@mail.gmail.com>
 <9f037205df46d87185a896ff9464e73a@geo.hu-berlin.de>
 <AM0PR02MB57779D93E999A70517473658939A9@AM0PR02MB5777.eurprd02.prod.outlook.com>
Message-ID: <67f494753209021ca06d5c17ece0ced5@geo.hu-berlin.de>

Hello Stefan.

in my local repo I updated libspatialindex\portfile.cmake to 1.9.3 by

vcpkg_from_github(
     OUT_SOURCE_PATH SOURCE_PATH
     REPO libspatialindex/libspatialindex
     REF 1.9.3
     SHA512 
d4c608abbd631dc163b7b4fb6bf09dee3e85ce692a5f8875d51f05a26e09c75cd17dff1ed9d2c232a071f0f5864d21d877b4cbc252f3416896db24dfa3fa18cb
     HEAD_REF master
)

and removed the older patchfile.

However, in the end I had to give up, because MSVC did not compile Exiv2 
with C++17.

Best regards,

Benjamin

On 2021-03-01 16:35, Uhrig, Stefan wrote:

> Hi Benjamin,
> 
> Thanks for the feedback.
> 
> AFAIK, QGIS has only recently be bumped to C++17, and the version of 
> spatialindex in vcpkg is still 1.9.0. The fix for the binary_function 
> issue made it to a later version only. So, the bad news is that the 
> build with vcpkg is broken for now.
> 
> I've read Mathias Kuhn's mail, and his idea of having a curated vcpkg 
> fork seems the best approach to me to solve these kind of issues. On 
> the one hand, we can prevent changes in upstream from breaking the 
> build. On the other hand, we can update dependencies on our own (like 
> the spatialindex library), merge it to the fork and then open a pull 
> request to upstream. We would not be blocked by the upstream review 
> process that way.
> 
> I'll fork vcpkg and I'll try to update the spatialindex library. If I 
> succeed, I'll mail you the link to the repository.
> 
> Best regards,
> 
> Stefan
> 
> From: Benjamin Jakimow <benjamin.jakimow at geo.hu-berlin.de>
> Sent: Sunday, February 28, 2021 9:03 AM
> To: Mats Taraldsvik <mats.taraldsvik at gmail.com>
> Cc: Uhrig, Stefan <stefan.uhrig at sap.com>; qgis-developer 
> <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE 
> and vcpkg
> 
> Hi Stefan,
> 
> thanks for your extensive description. So far it worked out very well 
> to setup VS, and I can confirm that geos_c.lib is detected 
> automatically.
> 
> Unfortunately my build failed, because MovingRegion.h (which comes with 
> vcpkg) wants to use std::binary_function, which was removed with C++17:
> 
> <vcpkg 
> root>\installed\x64-windows\include\spatialindex\MovingRegion.h(155): 
> error C2039: 'binary_function': is not a member of 'std'
> 
> I wonder why, because this issue has been solved in libspatialindex 
> since Oct 2019 
> (https://github.com/libspatialindex/libspatialindex/pull/153)
> 
> Best regards,
> Benjamin
> 
> On 2021-02-11 11:29, Mats Taraldsvik wrote:
> 
> Hi Stefan,
> 
> Thank you for this excellent guide to compile with vcpkg, it worked 
> right away after me struggling with the official guide+CMake 
> compilation for a couple of hours.
> 
> I did make a few modifications that might help:
> 
> 1. Release build:
> 
> - geos_c.lib was detected automatically, and for some reason I did not 
> need to explicitly set GEOS_LIBRARY
> 
> 2. Debug build:
> 
> I noticed: 1> [CMake] -- Found ZSTD: 
> C:/Users/mattar/Source/Repos/vcpkg_qgis/installed/x64-windows/lib/zstd.lib 
> in the logs and you wrote:
> 
>> The build will fail because the execution of crssync.exe fails. That's 
>> because crssync.exe tries to load zstd.dll instead of zstdd.dll. I 
>> haven't figured out why, yet. An easy workaround is copying zstdd.dll 
>> to zstd.dll in QGIS\out\build\x64-Debug\output\bin. Then restart the 
>> build and it should succeed.
> 
> By setting ZSTD_LIBRARY explicitly to 
> <your-vcpkg-root>/installed/x64-windows/debug/lib/zstdd.lib it picked 
> the right lib and dll:
> 
> Then log changed to: 1> [CMake] -- Found ZSTD: 
> C:/Users/mattar/Source/Repos/vcpkg_qgis/installed/x64-windows/debug/lib/zstdd.lib
> 
> I hope this does help a bit.
> 
> I'm an outsider to this community, but my humble suggestion _when this 
> work is complete_ (what's missing except for python support?):
> 
> - add your CMakeSettings.json to the build description or to 
> src/CMakeSettings.json
> 
> - vcpkg has a new feature "manifests", where a file vcpkg.json 
> describes all dependencies. this should also be added or described 
> (instead of the vcpkg install command).
> 
> - vcpkg just got versioning, which might help align the requirements 
> with the rest of qgis
> 
> - I see that vcpkg already has flex and bison 
> (<your-vcpkg-root>/downloads/tools/winflexbison), so if there is a way 
> for win_bison.exe and win_flex.exe to be copied to the build directory, 
> these could be used instead of cygwin, making the build even easier)
> 
> - vcpkg does have binary caching, perhaps making a github actions CI 
> build using this method feasible?
> 
> Anyway, thank you for your efforts! It made the first QGIS-step more 
> pleasant. :)
> 
> Best regards,
> 
> Mats Taraldsvik
> 
> On Mon, Feb 1, 2021 at 4:24 PM Uhrig, Stefan <stefan.uhrig at sap.com> 
> wrote:
> 
> Hi all,
> 
> In my opinion, the build with Visual Studio 2019 and vcpkg is still too 
> experimental to add it to the INSTALL.md file. It might break any day 
> if QGIS requires a package or package version that is not available 
> from vcpkg.
> 
> Actually, I like the idea to add it to the "Show & tell" category. We 
> can ask the community for their experiences with that setup. Does it 
> work, is it getting used? If it is used by some "critical mass" and 
> works over a longer time without issues, we can add instructions to the 
> INSTALL.md file. Maybe we can add a hint to the INSTALL.md file that 
> the not so faint-hearted developers might give it a try and provide a 
> link to the "Show & tell" post.
> 
> However, to be really useful, the debug build should also work with 
> Python bindings and QGIS processing. I got it working for release 
> builds (just needed to install the required Python dependencies via pip 
> install <package>), but that does not work for debug builds. Someone 
> solved that some years ago in another context 
> (https://www.riverbankcomputing.com/pipermail/pyqt/2012-April/031385.html), 
> so I might get it working. I'll give it a try.
> 
> Furthermore, I'd like to investigate the zstd.dll vs zstdd.dll load 
> issue before publishing the build instructions.
> 
> Best regards,
> 
> Stefan
> 
> From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf 
> Of DelazJ
> Sent: Monday, February 1, 2021 10:49 AM
> To: Jorge Gustavo Rocha <jgr at di.uminho.pt>
> Cc: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE 
> and vcpkg
> 
> Hi,
> 
> Why not in the build instructions of the code repo instead: 
> https://github.com/qgis/QGIS/blob/master/INSTALL.md? If it's a working 
> process, easy to replicate, this is the place I'd expect this kind of 
> information.
> 
> Regards,
> 
> Harrissou
> 
> Le dim. 31 janv. 2021 ? 15:55, Jorge Gustavo Rocha <jgr at di.uminho.pt> a 
> ?crit :
> 
> Hi Stefan,
> 
> We have now a new tab on github called 'discussions'[1]. Your detailed
> instructions are a good candidate to write down a new entry there, 
> under
> 'Show and tell' category. The goal is to keep this information next to
> the repo. You can use the markdown syntax to enhance the writing 
> format.
> You can also add some print screens.
> 
> This is just a suggestion. Feel free to put it there or not.
> 
> Regards (and thank you!),
> 
> Jorge Gustavo
> 
> [1] https://github.com/qgis/QGIS/discussions
> 
> ?s 14:13 de 31/01/21, Uhrig, Stefan escreveu:
>> Install Visual Studio Community 2019: Select "Desktop development with
>> C++" under "Workloads" and "C++ MFC for latest v142 build tools (x86 &
>> x64)" under "Individual components". Verify that you install "Windows 
>> 10
>> SDK (10.0.18362.0)" or higher.
>> 
>> 
>> 
>> Install Git for Windows and Python 3.
>> 
>> 
>> 
>> Download
>> https://sourceforge.net/projects/winflexbison/files/win_flex_bison3-latest.zip/download 
>> [1]
>> and extract it to a location of your choice (avoid space characters in
>> the target path).
>> 
>> 
>> 
>> Follow the vcpkg "Quick Start: Windows" instructions at
>> https://github.com/microsoft/vcpkg#quick-start-windows [2]. Make sure 
>> to
>> execute the "vcpkg integrate install" command.
>> 
>> 
>> 
>> Install the required dependencies via:
>> 
>> 
>> 
>> vcpkg --triplet=x64-windows install exiv2 gdal gsl libspatialindex
>> libspatialite libzip opencl protobuf qca qscintilla qt5 qt5-serialport
>> qt5-location qt5-winextras qtkeychain qwt zstd
>> 
>> 
>> 
>> This may take a while as this creates a Debug and a Release build of
>> each dependency from source.
>> 
>> 
>> 
>> Clone the QGIS repostiory. The path to the QGIS repository should not
>> contain any space characters.
>> 
>> 
>> 
>> Start Visual Studio and open the QGIS CMakeLists.txt file via "File 
>> -->
>> Open --> CMake...". This will start the CMake generation, which will
>> fail. You will need several configuration rounds until everything is
>> setup properly.
>> 
>> 
>> 
>> Let's start with a Release build because that requires less tweaking. 
>> Go
>> to "Project --> CMake Settings". Delete the default configuration
>> ("x64-Debug (default)").
>> 
>> 
>> 
>> Add a new "x64-Release" configuration and set "Configuration type" to
>> "Release". Save the CMakeSettings.json file, which will start a new
>> CMake generation. "FIND_FLEX" will fail, so you need to set the
>> "FLEX_EXECUTABLE" path manually in section "CMake variables and 
>> cache".
>> Browse to your win_flex.exe file. Additionally, disable 
>> "WITH_BINDINGS"
>> and "WITH_QGIS_PROCESS". Save the file. Next set "BISON_EXECUTABLE" to
>> your win_bison.exe file and save again. Disable "WITH_QTWEBKIT" and
>> save. Set "QCA_LIBRARY" to
>> "<vcpkg-root>\installed\x64-windows\lib\qca.lib" and save. 
>> Configuration
>> should now succeed, but you have to change "GEOS_LIBRARY" from
>> "geos.lib" to "geos_c.lib". Save and start the build after CMake
>> generation has finished.
>> 
>> 
>> 
>> Select "qgis.exe (output\bin\qgis.exe)" as start-up item in the 
>> toolbar
>> and start QGIS.
>> 
>> 
>> 
>> Now let's do the same for a Debug build. Add a "x64-Debug" 
>> configuration
>> and save. Change to the "x64-Debug" configuration in the toolbar. 
>> Repeat
>> the steps from above (set flex and bison paths etc.). When selecting
>> libraries, take the libraries from
>> "<vcpkg-root>\installed\x64-windows\debug\lib". Most libraries will 
>> have
>> a "d" or "_d" as name suffix. The CMake generation will not always
>> select the debug versions of libraries. Hence, go over the CMake
>> variables and change release library paths to debug library paths, 
>> e.g.
>> "<vcpkg-root>\installed\x64-windows\debug\lib\geos_cd.lib" for
>> GEOS_LIBRARY. I'll append my CMakeSettings.json file as reference to
>> this mail. Save again and start the build.
>> 
>> 
>> 
>> The build will fail because the execution of crssync.exe fails. That's
>> because crssync.exe tries to load zstd.dll instead of zstdd.dll. I
>> haven't figured out why, yet. An easy workaround is copying zstdd.dll 
>> to
>> zstd.dll in QGIS\out\build\x64-Debug\output\bin. Then restart the 
>> build
>> and it should succeed.
>> 
>> 
>> 
>> You should then be able to start and debug qgis.exe and its
>> dependencies. Note that some vcpkg portfiles forget to copy over the
>> .pdb files. For example, proj is affected. If you find such a library
>> with a missing .pdb file, check whether the portfile (e.g.
>> "<vcpkg-root>\ports\proj4\portfile.cmake") contains the
>> "vcpkg_copy_pdbs()" call. If not, just add it at the end, re-install 
>> the
>> dependency and copy over the .pdb file to the QGIS output directory.
>> 
>> 
>> 
>> I'm currently trying to get QGIS working with Python bindings. I got 
>> the
>> build working, however I'm struggling with the debug build execution.
>> The debug Python library seems to be unable to load the Release build 
>> Qt
>> libraries that come with PyQt5. Well, I'll keep trying and if I 
>> succeed,
>> I'll update the instructions.
>> 
>> 
>> 
>> Here is my CMakeSettings.json file for reference:
>> 
>> 
>> 
>> {
>> 
>> "configurations": [
>> 
>> {
>> 
>> "name": "x64-Release",
>> 
>> "generator": "Ninja",
>> 
>> "configurationType": "Release",
>> 
>> "buildRoot": "${projectDir}\\out\\build\\${name}",
>> 
>> "installRoot": "${projectDir}\\out\\install\\${name}",
>> 
>> "cmakeCommandArgs": "",
>> 
>> "buildCommandArgs": "",
>> 
>> "ctestCommandArgs": "",
>> 
>> "inheritEnvironments": [ "msvc_x64_x64" ],
>> 
>> "variables": [
>> 
>> {
>> 
>> "name": "WITH_BINDINGS",
>> 
>> "value": "False",
>> 
>> "type": "BOOL"
>> 
>> },
>> 
>> {
>> 
>> "name": "WITH_QGIS_PROCESS",
>> 
>> "value": "False",
>> 
>> "type": "BOOL"
>> 
>> },
>> 
>> {
>> 
>> "name": "FLEX_EXECUTABLE",
>> 
>> "value": "C:/src/tools/win_flex.exe",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "BISON_EXECUTABLE",
>> 
>> "value": "C:/src/tools/win_bison.exe",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "WITH_QTWEBKIT",
>> 
>> "value": "False",
>> 
>> "type": "BOOL"
>> 
>> },
>> 
>> {
>> 
>> "name": "QCA_LIBRARY",
>> 
>> "value": "C:/src/vcpkg/installed/x64-windows/lib/qca.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "GEOS_LIBRARY",
>> 
>> "value": "C:/src/vcpkg/installed/x64-windows/lib/geos_c.lib",
>> 
>> "type": "FILEPATH"
>> 
>> }
>> 
>> ]
>> 
>> },
>> 
>> {
>> 
>> "name": "x64-Debug",
>> 
>> "generator": "Ninja",
>> 
>> "configurationType": "Debug",
>> 
>> "buildRoot": "${projectDir}\\out\\build\\${name}",
>> 
>> "installRoot": "${projectDir}\\out\\install\\${name}",
>> 
>> "cmakeCommandArgs": "",
>> 
>> "buildCommandArgs": "",
>> 
>> "ctestCommandArgs": "",
>> 
>> "inheritEnvironments": [ "msvc_x64_x64" ],
>> 
>> "variables": [
>> 
>> {
>> 
>> "name": "FLEX_EXECUTABLE",
>> 
>> "value": "C:/src/tools/win_flex.exe",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "BISON_EXECUTABLE",
>> 
>> "value": "C:/src/tools/win_bison.exe",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "WITH_QTWEBKIT",
>> 
>> "value": "False",
>> 
>> "type": "BOOL"
>> 
>> },
>> 
>> {
>> 
>> "name": "WITH_BINDINGS",
>> 
>> "value": "False",
>> 
>> "type": "BOOL"
>> 
>> },
>> 
>> {
>> 
>> "name": "WITH_QGIS_PROCESS",
>> 
>> "value": "False",
>> 
>> "type": "BOOL"
>> 
>> },
>> 
>> {
>> 
>> "name": "QCA_LIBRARY",
>> 
>> "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qcad.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "GEOS_LIBRARY",
>> 
>> "value":
>> "C:/src/vcpkg/installed/x64-windows/debug/lib/geos_cd.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "GSL_LIB",
>> 
>> "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/gsld.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "GSLCBLAS_LIB",
>> 
>> "value":
>> "C:/src/vcpkg/installed/x64-windows/debug/lib/gslcblasd.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "PROJ_LIBRARY",
>> 
>> "value":
>> "C:/src/vcpkg/installed/x64-windows/debug/lib/proj_d.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "QSCINTILLA_LIBRARY",
>> 
>> "value":
>> "C:/src/vcpkg/installed/x64-windows/debug/lib/qscintilla2_qt5d.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "QTKEYCHAIN_LIBRARY",
>> 
>> "value":
>> "C:/src/vcpkg/installed/x64-windows/debug/lib/qt5keychaind.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "QWT_LIBRARY",
>> 
>> "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qwtd.lib",
>> 
>> "type": "FILEPATH"
>> 
>> },
>> 
>> {
>> 
>> "name": "SPATIALINDEX_LIBRARY",
>> 
>> "value":
>> "C:/src/vcpkg/installed/x64-windows/debug/lib/spatialindex-64d.lib",
>> 
>> "type": "FILEPATH"
>> 
>> }
>> 
>> ]
>> 
>> }
>> 
>> ]
>> 
>> }
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> *From:*i-s-o <46.i.s.o.64 at gmail.com>
>> *Sent:* Saturday, January 30, 2021 5:58 PM
>> *To:* Uhrig, Stefan <stefan.uhrig at sap.com>
>> *Cc:* qgis-developer <QGIS-Developer at lists.osgeo.org>
>> *Subject:* Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 
>> CE
>> and vcpkg
>> 
>> 
>> 
>> I am very interested in trying out your solution. Could you share the
>> required steps?
>> 
>> 
>> 
>> Thx.
>> 
>> 
>> 
>> On Fri, Jan 29, 2021, 09:25 Uhrig, Stefan <stefan.uhrig at sap.com
>> <mailto:stefan.uhrig at sap.com>> wrote:
>> 
>> TL;DR: It is currently possible to build the QGIS core app with
>> Visual Studio 2019 and vcpkg, which makes debugging QGIS
>> dependencies easy.
>> 
>> 
>> 
>> 
>> 
>> Hi all,
>> 
>> 
>> 
>> Some time ago I discovered vcpkg
>> (https://github.com/microsoft/vcpkg). vcpkg is a package manager
>> that downloads package source code to your local machine and builds
>> the package locally. Recently, I discovered that vcpkg should be
>> able to provide all dependencies to build at least the QGIS core
>> application. Hence, I gave it a try.
>> 
>> 
>> 
>> Basically, it worked out of the box. I started with a fresh Windows
>> 10 installation, installed Visual Studio 2019 Community Edition,
>> Git, vcpkg, Python 3 and flex and bison for Windows. I fetched all
>> other dependencies via vcpkg. It was not necessary to even touch a
>> single file in the repository. I could just open the main
>> CMakeLists.txt file in Visual Studio and only had to tweak the CMake
>> cache (the CMake find macros that come with QGIS are not aware of
>> vcpkg, so I had to set some paths manually). I had to switch off
>> some extensions though as the required dependencies were not
>> available via vcpkg (WITH_BINDINGS, WITH_QGIS_PROCESS,
>> WITH_QTWEBKIT). The build did not report any errors, I could start
>> the application and it seems to work, but I did some light testing 
>> only.
>> 
>> 
>> 
>> I mainly tried it because I enjoy debugging with Visual Studio more
>> than with gdb (or gdb wrapped in some IDE). In my experience, the
>> performance of the Visual Studio debugger is better and it is more
>> stable, especially in long debug sessions.
>> 
>> 
>> 
>> I don't want to promote official building support of QGIS with
>> vcpkg. Providing the dependencies via OSGeo4W is much more reliable.
>> However, if you don't mind the experimental nature of this setup and
>> you want to be able to debug into QGIS' dependencies, you might give
>> it a try. Especially, if you want to track the cause of a crash in
>> one of QGIS' dependencies, this setup might be helpful. You have the
>> source code and debug versions of the dependencies, so the debugger
>> will jump to the crashing code line and you can inspect all the
>> variables of the dependency.
>> 
>> 
>> 
>> If someone is interested in trying it, give me a note. I can then
>> assemble detailed instructions on how to make it work. It took me a
>> while to figure out which packages are needed and how the CMake
>> cache needs to be tweaked.
>> 
>> 
>> 
>> Best regards,
>> 
>> Stefan
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [3]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
>> [3]
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [3]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
>> [3]
>> 
> 
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Inform?tica
> Universidade do Minho
> 4710-057 Braga
> Gabinete 3.29 (Piso 3)
> Tel: +351 253604480
> Fax: +351 253604471
> M?vel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [3]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
> [3]
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [3]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
> [3]

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [3]
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [3]

-- 

--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu 
Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6894
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'222

-- 
--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu 
Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6894
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'222

Links:
------
[1] 
https://sourceforge.net/projects/winflexbison/files/win_flex_bison3-latest.zip/download
[2] https://github.com/microsoft/vcpkg#quick-start-windows
[3] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/b4be2819/attachment-0001.html>

From peter.petrik at lutraconsulting.co.uk  Mon Mar  1 23:53:03 2021
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Tue, 2 Mar 2021 08:53:03 +0100
Subject: [QGIS-Developer] Agreement
In-Reply-To: <20210301194821.Horde.YExc5QHNvA3lgvStAVWPA-E@webmail.clandegrassi.com>
References: <20210301194821.Horde.YExc5QHNvA3lgvStAVWPA-E@webmail.clandegrassi.com>
Message-ID: <CA+T_Ms+D3java-CEAGsBEHPufgO1f66=-YOy-dj9nTm=zGyzmQ@mail.gmail.com>

Hi Chris and welcome to the team.

Now when you create a pull request, we will review it and give you
feedback. If you are stuck, feel free to write to the mailing list or
chat(s) and seek for the help. Best is to start with some easy bug fixes in
the area of the code you would like to contribute to.

Kind regards,
Peter

On Tue, Mar 2, 2021 at 4:12 AM <chris at clandegrassi.com> wrote:

>
> Hello,
> I apologize in advance if this is going to the wrong place.
>
> I have read the New Developer Requirements at
>
> https://www.qgis.org/en/site/getinvolved/development/contributor_requirements.html
> and I agree to the Code(s).
>
> I am a Software Engineer/GIS Analyst and I would like to contribute to
> QGIS.
> I have cloned the repository and successfuly completed the buid following
> the posted document.
> I can help with bugs, new code and Plugins.
>
> Please let me know how to proceed.
>
> Thank you
> Cheers
> Chris Degrassi
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/3e85a0b0/attachment.html>

From variablestarlight at gmail.com  Tue Mar  2 00:34:26 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Tue, 2 Mar 2021 09:34:26 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
Message-ID: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>

Hi,

I wrote about this a few days ago in the user list but I still have the 
problem and can find neither a cause nor a solution. I thus post it in 
this list in the hope that some developer may have a hint on what is 
going wrong here.

In my installation the Voronoi Polygon tool is missing from the 
Processing menu, both from the bar (vector geometry dialog) and the 
processing panel. It is also not listed in the Python console (see below 
whole listing).

But, the code seems to be present in the /usr/local/share... folder, 
where other plugins live as well:

localhost:/usr/local # find ./share -name *oronoi*
./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.skeleton.txt
./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.txt
./share/qgis/python/plugins/processing/algs/grass7/ext/v_voronoi.py
./share/qgis/python/plugins/processing/algs/qgis/VoronoiPolygons.py
./share/qgis/python/plugins/processing/algs/qgis/voronoi.py

I compile QGIS from source, things have gone smoothly every time and I 
cannot see any obvious particular problem. I have tested with master a 
couple of weeks ago, then 3.18.0 a couple of days ago, and moments ago 
with 3.16.4 (after wiping all traces of previous installations) but the 
problem persists.

Anyone has seen this? What could possibly be wrong here?

Thanks in advance,

Hern?n


- - - - -

from qgis import processing
for alg in QgsApplication.processingRegistry().algorithms():
 ??? print(alg.id(), "->", alg.displayName())

native:addautoincrementalfield -> Add autoincremental field
native:addfieldtoattributestable -> Add field to attributes table
native:adduniquevalueindexfield -> Add unique value index field
native:addxyfields -> Add X/Y fields to layer
native:affinetransform -> Affine transform
native:aggregate -> Aggregate
native:angletonearest -> Align points to features
native:antimeridiansplit -> Geodesic line split at antimeridian
native:arrayoffsetlines -> Array of offset (parallel) lines
native:arraytranslatedfeatures -> Array of translated features
native:aspect -> Aspect
native:assignprojection -> Assign projection
native:atlaslayouttoimage -> Export atlas layout as image
native:atlaslayouttopdf -> Export atlas layout as PDF
native:bookmarkstolayer -> Convert spatial bookmarks to layer
native:boundary -> Boundary
native:boundingboxes -> Bounding boxes
native:buffer -> Buffer
native:bufferbym -> Variable width buffer (by M value)
native:calculatevectoroverlaps -> Overlap analysis
native:categorizeusingstyle -> Create categorized renderer from styles
native:cellstatistics -> Cell statistics
native:centroids -> Centroids
native:clip -> Clip
native:collect -> Collect geometries
native:combinestyles -> Combine style databases
native:condition -> Conditional branch
native:converttocurves -> Convert to curved geometries
native:convexhull -> Convex hull
native:countpointsinpolygon -> Count points in polygon
native:createattributeindex -> Create attribute index
native:createconstantrasterlayer -> Create constant raster layer
native:createdirectory -> Create directory
native:creategrid -> Create grid
native:createpointslayerfromtable -> Create points layer from table
native:createrandombinomialrasterlayer -> Create random raster layer 
(binomial distribution)
native:createrandomexponentialrasterlayer -> Create random raster layer 
(exponential distribution)
native:createrandomgammarasterlayer -> Create random raster layer (gamma 
distribution)
native:createrandomgeometricrasterlayer -> Create random raster layer 
(geometric distribution)
native:createrandomnegativebinomialrasterlayer -> Create random raster 
layer (negative binomial distribution)
native:createrandomnormalrasterlayer -> Create random raster layer 
(normal distribution)
native:createrandompoissonrasterlayer -> Create random raster layer 
(poisson distribution)
native:createrandomuniformrasterlayer -> Create random raster layer 
(uniform distribution)
native:createspatialindex -> Create spatial index
native:dbscanclustering -> DBSCAN clustering
native:deleteduplicategeometries -> Delete duplicate geometries
native:deleteholes -> Delete holes
native:densifygeometries -> Densify by count
native:densifygeometriesgivenaninterval -> Densify by interval
native:detectvectorchanges -> Detect dataset changes
native:difference -> Difference
native:dissolve -> Dissolve
native:dropgeometries -> Drop geometries
native:dropmzvalues -> Drop M/Z values
native:equaltofrequency -> Equal to frequency
native:explodehstorefield -> Explode HStore Field
native:explodelines -> Explode lines
native:extendlines -> Extend lines
native:extenttolayer -> Create layer from extent
native:extractbinary -> Extract binary field
native:extractbyattribute -> Extract by attribute
native:extractbyexpression -> Extract by expression
native:extractbyextent -> Extract/clip by extent
native:extractbylocation -> Extract by location
native:extractmvalues -> Extract M values
native:extractspecificvertices -> Extract specific vertices
native:extractvertices -> Extract vertices
native:extractzvalues -> Extract Z values
native:fieldcalculator -> Field calculator
native:filedownloader -> Download file
native:fillnodata -> Fill NoData cells
native:filter -> Feature filter
native:filterbygeometry -> Filter by geometry type
native:filterlayersbytype -> Filter layers by type
native:filterverticesbym -> Filter vertices by M value
native:filterverticesbyz -> Filter vertices by Z value
native:fixgeometries -> Fix geometries
native:flattenrelationships -> Flatten relationship
native:forcerhr -> Force right-hand-rule
native:fuzzifyrastergaussianmembership -> Fuzzify raster (gaussian 
membership)
native:fuzzifyrasterlargemembership -> Fuzzify raster (large membership)
native:fuzzifyrasterlinearmembership -> Fuzzify raster (linear membership)
native:fuzzifyrasternearmembership -> Fuzzify raster (near membership)
native:fuzzifyrasterpowermembership -> Fuzzify raster (power membership)
native:fuzzifyrastersmallmembership -> Fuzzify raster (small membership)
native:generatepointspixelcentroidsinsidepolygons -> Generate points 
(pixel centroids) inside polygons
native:geometrybyexpression -> Geometry by expression
native:greaterthanfrequency -> Greater than frequency
native:highestpositioninrasterstack -> Highest position in raster stack
native:hillshade -> Hillshade
native:hublines -> Join by lines (hub lines)
native:importphotos -> Import geotagged photos
native:interpolatepoint -> Interpolate point on line
native:intersection -> Intersection
native:joinattributesbylocation -> Join attributes by location
native:joinattributestable -> Join attributes by field value
native:joinbynearest -> Join attributes by nearest
native:kmeansclustering -> K-means clustering
native:layertobookmarks -> Convert layer to spatial bookmarks
native:lessthanfrequency -> Less than frequency
native:linedensity -> Line density
native:lineintersections -> Line intersections
native:linesubstring -> Line substring
native:loadlayer -> Load layer into project
native:lowestpositioninrasterstack -> Lowest position in raster stack
native:meancoordinates -> Mean coordinate(s)
native:mergelines -> Merge lines
native:mergevectorlayers -> Merge vector layers
native:minimumenclosingcircle -> Minimum enclosing circles
native:multiparttosingleparts -> Multipart to singleparts
native:multiringconstantbuffer -> Multi-ring buffer (constant distance)
native:nearestneighbouranalysis -> Nearest neighbour analysis
native:offsetline -> Offset lines
native:orderbyexpression -> Order by expression
native:orientedminimumboundingbox -> Oriented minimum bounding box
native:orthogonalize -> Orthogonalize
native:package -> Package layers
native:pixelstopoints -> Raster pixels to points
native:pixelstopolygons -> Raster pixels to polygons
native:pointonsurface -> Point on surface
native:pointsalonglines -> Points along geometry
native:pointtolayer -> Create layer from point
native:poleofinaccessibility -> Pole of inaccessibility
native:polygonfromlayerextent -> Extract layer extent
native:polygonize -> Polygonize
native:polygonstolines -> Polygons to lines
native:postgisexecutesql -> PostgreSQL execute SQL
native:printlayoutmapextenttolayer -> Print layout map extent to layer
native:printlayouttoimage -> Export print layout as image
native:printlayouttopdf -> Export print layout as PDF
native:projectpointcartesian -> Project points (Cartesian)
native:promotetomulti -> Promote to multipart
native:raiseexception -> Raise exception
native:raisewarning -> Raise warning
native:randomextract -> Random extract
native:randompointsinextent -> Random points in extent
native:randompointsinpolygons -> Random points in polygons
native:randompointsonlines -> Random points on lines
native:rasterbooleanand -> Raster boolean AND
native:rasterize -> Convert map to raster
native:rasterlayerstatistics -> Raster layer statistics
native:rasterlayeruniquevaluesreport -> Raster layer unique values report
native:rasterlayerzonalstats -> Raster layer zonal statistics
native:rasterlogicalor -> Raster boolean OR
native:rastersampling -> Sample raster values
native:rastersurfacevolume -> Raster surface volume
native:reclassifybylayer -> Reclassify by layer
native:reclassifybytable -> Reclassify by table
native:rectanglesovalsdiamonds -> Rectangles, ovals, diamonds
native:refactorfields -> Refactor fields
native:removeduplicatesbyattribute -> Delete duplicates by attribute
native:removeduplicatevertices -> Remove duplicate vertices
native:removenullgeometries -> Remove null geometries
native:renamelayer -> Rename layer
native:renametablefield -> Rename field
native:repairshapefile -> Repair Shapefile
native:reprojectlayer -> Reproject layer
native:rescaleraster -> Rescale raster
native:reverselinedirection -> Reverse line direction
native:rotatefeatures -> Rotate
native:roundrastervalues -> Round raster
native:ruggednessindex -> Ruggedness index
native:savefeatures -> Save vector features to file
native:savelog -> Save log to file
native:saveselectedfeatures -> Extract selected features
native:segmentizebymaxangle -> Segmentize by maximum angle
native:segmentizebymaxdistance -> Segmentize by maximum distance
native:selectbylocation -> Select by location
native:serviceareafromlayer -> Service area (from layer)
native:serviceareafrompoint -> Service area (from point)
native:setlayerencoding -> Set layer encoding
native:setlayerstyle -> Set layer style
native:setmfromraster -> Set M value from raster
native:setmvalue -> Set M value
native:setprojectvariable -> Set project variable
native:setzfromraster -> Drape (set Z value from raster)
native:setzvalue -> Set Z value
native:shortestpathlayertopoint -> Shortest path (layer to point)
native:shortestpathpointtolayer -> Shortest path (point to layer)
native:shortestpathpointtopoint -> Shortest path (point to point)
native:shpencodinginfo -> Extract Shapefile encoding
native:simplifygeometries -> Simplify
native:singlesidedbuffer -> Single sided buffer
native:slope -> Slope
native:smoothgeometry -> Smooth
native:snapgeometries -> Snap geometries to layer
native:snappointstogrid -> Snap points to grid
native:spatialiteexecutesql -> SpatiaLite execute SQL
native:spatialiteexecutesqlregistered -> SpatiaLite execute SQL 
(registered DB)
native:splitfeaturesbycharacter -> Split features by character
native:splitlinesbylength -> Split lines by maximum length
native:splitvectorlayer -> Split vector layer
native:splitwithlines -> Split with lines
native:stringconcatenation -> String concatenation
native:stylefromproject -> Create style database from project
native:subdivide -> Subdivide
native:sumlinelengths -> Sum line lengths
native:swapxy -> Swap X and Y coordinates
native:symmetricaldifference -> Symmetrical difference
native:taperedbuffer -> Tapered buffers
native:tinmeshcreation -> TIN Mesh Creation
native:transect -> Transect
native:translategeometry -> Translate
native:truncatetable -> Truncate table
native:union -> Union
native:wedgebuffers -> Create wedge buffers
native:writevectortiles_mbtiles -> Write Vector Tiles (MBTiles)
native:writevectortiles_xyz -> Write Vector Tiles (XYZ)
native:zonalhistogram -> Zonal histogram
native:zonalstatistics -> Zonal statistics
native:zonalstatisticsfb -> Zonal statistics


From senhor.neto at gmail.com  Tue Mar  2 00:48:57 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Tue, 2 Mar 2021 08:48:57 +0000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
Message-ID: <CA+H0G_EOg=V5gPQJCbmAHQNcJzST2FYqA6sUhTmncyHmQoeQ-Q@mail.gmail.com>

Might seem obvious, but have you tried using a brand new profile?

A ter?a, 2/03/2021, 08:34, Hern?n De Angelis <variablestarlight at gmail.com>
escreveu:

> Hi,
>
> I wrote about this a few days ago in the user list but I still have the
> problem and can find neither a cause nor a solution. I thus post it in
> this list in the hope that some developer may have a hint on what is
> going wrong here.
>
> In my installation the Voronoi Polygon tool is missing from the
> Processing menu, both from the bar (vector geometry dialog) and the
> processing panel. It is also not listed in the Python console (see below
> whole listing).
>
> But, the code seems to be present in the /usr/local/share... folder,
> where other plugins live as well:
>
> localhost:/usr/local # find ./share -name *oronoi*
>
> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.skeleton.txt
>
> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.txt
> ./share/qgis/python/plugins/processing/algs/grass7/ext/v_voronoi.py
> ./share/qgis/python/plugins/processing/algs/qgis/VoronoiPolygons.py
> ./share/qgis/python/plugins/processing/algs/qgis/voronoi.py
>
> I compile QGIS from source, things have gone smoothly every time and I
> cannot see any obvious particular problem. I have tested with master a
> couple of weeks ago, then 3.18.0 a couple of days ago, and moments ago
> with 3.16.4 (after wiping all traces of previous installations) but the
> problem persists.
>
> Anyone has seen this? What could possibly be wrong here?
>
> Thanks in advance,
>
> Hern?n
>
>
> - - - - -
>
> from qgis import processing
> for alg in QgsApplication.processingRegistry().algorithms():
>      print(alg.id(), "->", alg.displayName())
>
> native:addautoincrementalfield -> Add autoincremental field
> native:addfieldtoattributestable -> Add field to attributes table
> native:adduniquevalueindexfield -> Add unique value index field
> native:addxyfields -> Add X/Y fields to layer
> native:affinetransform -> Affine transform
> native:aggregate -> Aggregate
> native:angletonearest -> Align points to features
> native:antimeridiansplit -> Geodesic line split at antimeridian
> native:arrayoffsetlines -> Array of offset (parallel) lines
> native:arraytranslatedfeatures -> Array of translated features
> native:aspect -> Aspect
> native:assignprojection -> Assign projection
> native:atlaslayouttoimage -> Export atlas layout as image
> native:atlaslayouttopdf -> Export atlas layout as PDF
> native:bookmarkstolayer -> Convert spatial bookmarks to layer
> native:boundary -> Boundary
> native:boundingboxes -> Bounding boxes
> native:buffer -> Buffer
> native:bufferbym -> Variable width buffer (by M value)
> native:calculatevectoroverlaps -> Overlap analysis
> native:categorizeusingstyle -> Create categorized renderer from styles
> native:cellstatistics -> Cell statistics
> native:centroids -> Centroids
> native:clip -> Clip
> native:collect -> Collect geometries
> native:combinestyles -> Combine style databases
> native:condition -> Conditional branch
> native:converttocurves -> Convert to curved geometries
> native:convexhull -> Convex hull
> native:countpointsinpolygon -> Count points in polygon
> native:createattributeindex -> Create attribute index
> native:createconstantrasterlayer -> Create constant raster layer
> native:createdirectory -> Create directory
> native:creategrid -> Create grid
> native:createpointslayerfromtable -> Create points layer from table
> native:createrandombinomialrasterlayer -> Create random raster layer
> (binomial distribution)
> native:createrandomexponentialrasterlayer -> Create random raster layer
> (exponential distribution)
> native:createrandomgammarasterlayer -> Create random raster layer (gamma
> distribution)
> native:createrandomgeometricrasterlayer -> Create random raster layer
> (geometric distribution)
> native:createrandomnegativebinomialrasterlayer -> Create random raster
> layer (negative binomial distribution)
> native:createrandomnormalrasterlayer -> Create random raster layer
> (normal distribution)
> native:createrandompoissonrasterlayer -> Create random raster layer
> (poisson distribution)
> native:createrandomuniformrasterlayer -> Create random raster layer
> (uniform distribution)
> native:createspatialindex -> Create spatial index
> native:dbscanclustering -> DBSCAN clustering
> native:deleteduplicategeometries -> Delete duplicate geometries
> native:deleteholes -> Delete holes
> native:densifygeometries -> Densify by count
> native:densifygeometriesgivenaninterval -> Densify by interval
> native:detectvectorchanges -> Detect dataset changes
> native:difference -> Difference
> native:dissolve -> Dissolve
> native:dropgeometries -> Drop geometries
> native:dropmzvalues -> Drop M/Z values
> native:equaltofrequency -> Equal to frequency
> native:explodehstorefield -> Explode HStore Field
> native:explodelines -> Explode lines
> native:extendlines -> Extend lines
> native:extenttolayer -> Create layer from extent
> native:extractbinary -> Extract binary field
> native:extractbyattribute -> Extract by attribute
> native:extractbyexpression -> Extract by expression
> native:extractbyextent -> Extract/clip by extent
> native:extractbylocation -> Extract by location
> native:extractmvalues -> Extract M values
> native:extractspecificvertices -> Extract specific vertices
> native:extractvertices -> Extract vertices
> native:extractzvalues -> Extract Z values
> native:fieldcalculator -> Field calculator
> native:filedownloader -> Download file
> native:fillnodata -> Fill NoData cells
> native:filter -> Feature filter
> native:filterbygeometry -> Filter by geometry type
> native:filterlayersbytype -> Filter layers by type
> native:filterverticesbym -> Filter vertices by M value
> native:filterverticesbyz -> Filter vertices by Z value
> native:fixgeometries -> Fix geometries
> native:flattenrelationships -> Flatten relationship
> native:forcerhr -> Force right-hand-rule
> native:fuzzifyrastergaussianmembership -> Fuzzify raster (gaussian
> membership)
> native:fuzzifyrasterlargemembership -> Fuzzify raster (large membership)
> native:fuzzifyrasterlinearmembership -> Fuzzify raster (linear membership)
> native:fuzzifyrasternearmembership -> Fuzzify raster (near membership)
> native:fuzzifyrasterpowermembership -> Fuzzify raster (power membership)
> native:fuzzifyrastersmallmembership -> Fuzzify raster (small membership)
> native:generatepointspixelcentroidsinsidepolygons -> Generate points
> (pixel centroids) inside polygons
> native:geometrybyexpression -> Geometry by expression
> native:greaterthanfrequency -> Greater than frequency
> native:highestpositioninrasterstack -> Highest position in raster stack
> native:hillshade -> Hillshade
> native:hublines -> Join by lines (hub lines)
> native:importphotos -> Import geotagged photos
> native:interpolatepoint -> Interpolate point on line
> native:intersection -> Intersection
> native:joinattributesbylocation -> Join attributes by location
> native:joinattributestable -> Join attributes by field value
> native:joinbynearest -> Join attributes by nearest
> native:kmeansclustering -> K-means clustering
> native:layertobookmarks -> Convert layer to spatial bookmarks
> native:lessthanfrequency -> Less than frequency
> native:linedensity -> Line density
> native:lineintersections -> Line intersections
> native:linesubstring -> Line substring
> native:loadlayer -> Load layer into project
> native:lowestpositioninrasterstack -> Lowest position in raster stack
> native:meancoordinates -> Mean coordinate(s)
> native:mergelines -> Merge lines
> native:mergevectorlayers -> Merge vector layers
> native:minimumenclosingcircle -> Minimum enclosing circles
> native:multiparttosingleparts -> Multipart to singleparts
> native:multiringconstantbuffer -> Multi-ring buffer (constant distance)
> native:nearestneighbouranalysis -> Nearest neighbour analysis
> native:offsetline -> Offset lines
> native:orderbyexpression -> Order by expression
> native:orientedminimumboundingbox -> Oriented minimum bounding box
> native:orthogonalize -> Orthogonalize
> native:package -> Package layers
> native:pixelstopoints -> Raster pixels to points
> native:pixelstopolygons -> Raster pixels to polygons
> native:pointonsurface -> Point on surface
> native:pointsalonglines -> Points along geometry
> native:pointtolayer -> Create layer from point
> native:poleofinaccessibility -> Pole of inaccessibility
> native:polygonfromlayerextent -> Extract layer extent
> native:polygonize -> Polygonize
> native:polygonstolines -> Polygons to lines
> native:postgisexecutesql -> PostgreSQL execute SQL
> native:printlayoutmapextenttolayer -> Print layout map extent to layer
> native:printlayouttoimage -> Export print layout as image
> native:printlayouttopdf -> Export print layout as PDF
> native:projectpointcartesian -> Project points (Cartesian)
> native:promotetomulti -> Promote to multipart
> native:raiseexception -> Raise exception
> native:raisewarning -> Raise warning
> native:randomextract -> Random extract
> native:randompointsinextent -> Random points in extent
> native:randompointsinpolygons -> Random points in polygons
> native:randompointsonlines -> Random points on lines
> native:rasterbooleanand -> Raster boolean AND
> native:rasterize -> Convert map to raster
> native:rasterlayerstatistics -> Raster layer statistics
> native:rasterlayeruniquevaluesreport -> Raster layer unique values report
> native:rasterlayerzonalstats -> Raster layer zonal statistics
> native:rasterlogicalor -> Raster boolean OR
> native:rastersampling -> Sample raster values
> native:rastersurfacevolume -> Raster surface volume
> native:reclassifybylayer -> Reclassify by layer
> native:reclassifybytable -> Reclassify by table
> native:rectanglesovalsdiamonds -> Rectangles, ovals, diamonds
> native:refactorfields -> Refactor fields
> native:removeduplicatesbyattribute -> Delete duplicates by attribute
> native:removeduplicatevertices -> Remove duplicate vertices
> native:removenullgeometries -> Remove null geometries
> native:renamelayer -> Rename layer
> native:renametablefield -> Rename field
> native:repairshapefile -> Repair Shapefile
> native:reprojectlayer -> Reproject layer
> native:rescaleraster -> Rescale raster
> native:reverselinedirection -> Reverse line direction
> native:rotatefeatures -> Rotate
> native:roundrastervalues -> Round raster
> native:ruggednessindex -> Ruggedness index
> native:savefeatures -> Save vector features to file
> native:savelog -> Save log to file
> native:saveselectedfeatures -> Extract selected features
> native:segmentizebymaxangle -> Segmentize by maximum angle
> native:segmentizebymaxdistance -> Segmentize by maximum distance
> native:selectbylocation -> Select by location
> native:serviceareafromlayer -> Service area (from layer)
> native:serviceareafrompoint -> Service area (from point)
> native:setlayerencoding -> Set layer encoding
> native:setlayerstyle -> Set layer style
> native:setmfromraster -> Set M value from raster
> native:setmvalue -> Set M value
> native:setprojectvariable -> Set project variable
> native:setzfromraster -> Drape (set Z value from raster)
> native:setzvalue -> Set Z value
> native:shortestpathlayertopoint -> Shortest path (layer to point)
> native:shortestpathpointtolayer -> Shortest path (point to layer)
> native:shortestpathpointtopoint -> Shortest path (point to point)
> native:shpencodinginfo -> Extract Shapefile encoding
> native:simplifygeometries -> Simplify
> native:singlesidedbuffer -> Single sided buffer
> native:slope -> Slope
> native:smoothgeometry -> Smooth
> native:snapgeometries -> Snap geometries to layer
> native:snappointstogrid -> Snap points to grid
> native:spatialiteexecutesql -> SpatiaLite execute SQL
> native:spatialiteexecutesqlregistered -> SpatiaLite execute SQL
> (registered DB)
> native:splitfeaturesbycharacter -> Split features by character
> native:splitlinesbylength -> Split lines by maximum length
> native:splitvectorlayer -> Split vector layer
> native:splitwithlines -> Split with lines
> native:stringconcatenation -> String concatenation
> native:stylefromproject -> Create style database from project
> native:subdivide -> Subdivide
> native:sumlinelengths -> Sum line lengths
> native:swapxy -> Swap X and Y coordinates
> native:symmetricaldifference -> Symmetrical difference
> native:taperedbuffer -> Tapered buffers
> native:tinmeshcreation -> TIN Mesh Creation
> native:transect -> Transect
> native:translategeometry -> Translate
> native:truncatetable -> Truncate table
> native:union -> Union
> native:wedgebuffers -> Create wedge buffers
> native:writevectortiles_mbtiles -> Write Vector Tiles (MBTiles)
> native:writevectortiles_xyz -> Write Vector Tiles (XYZ)
> native:zonalhistogram -> Zonal histogram
> native:zonalstatistics -> Zonal statistics
> native:zonalstatisticsfb -> Zonal statistics
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/67a1dd2d/attachment-0001.html>

From variablestarlight at gmail.com  Tue Mar  2 00:51:50 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Tue, 2 Mar 2021 09:51:50 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CA+H0G_EOg=V5gPQJCbmAHQNcJzST2FYqA6sUhTmncyHmQoeQ-Q@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CA+H0G_EOg=V5gPQJCbmAHQNcJzST2FYqA6sUhTmncyHmQoeQ-Q@mail.gmail.com>
Message-ID: <daac5587-d167-17c8-7cb1-ace53329ca6a@gmail.com>

On 2021-03-02 09:48, Alexandre Neto wrote:
> Might seem obvious, but have you tried using a brand new profile?
>
Yes, I just forgot to add that to the description below.

/H.


> A ter?a, 2/03/2021, 08:34, Hern?n De Angelis 
> <variablestarlight at gmail.com <mailto:variablestarlight at gmail.com>> 
> escreveu:
>
>     Hi,
>
>     I wrote about this a few days ago in the user list but I still
>     have the
>     problem and can find neither a cause nor a solution. I thus post
>     it in
>     this list in the hope that some developer may have a hint on what is
>     going wrong here.
>
>     In my installation the Voronoi Polygon tool is missing from the
>     Processing menu, both from the bar (vector geometry dialog) and the
>     processing panel. It is also not listed in the Python console (see
>     below
>     whole listing).
>
>     But, the code seems to be present in the /usr/local/share... folder,
>     where other plugins live as well:
>
>     localhost:/usr/local # find ./share -name *oronoi*
>     ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.skeleton.txt
>     ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.txt
>     ./share/qgis/python/plugins/processing/algs/grass7/ext/v_voronoi.py
>     ./share/qgis/python/plugins/processing/algs/qgis/VoronoiPolygons.py
>     ./share/qgis/python/plugins/processing/algs/qgis/voronoi.py
>
>     I compile QGIS from source, things have gone smoothly every time
>     and I
>     cannot see any obvious particular problem. I have tested with
>     master a
>     couple of weeks ago, then 3.18.0 a couple of days ago, and moments
>     ago
>     with 3.16.4 (after wiping all traces of previous installations)
>     but the
>     problem persists.
>
>     Anyone has seen this? What could possibly be wrong here?
>
>     Thanks in advance,
>
>     Hern?n
>
>
>     - - - - -
>
>     from qgis import processing
>     for alg in QgsApplication.processingRegistry().algorithms():
>     ???? print(alg.id <http://alg.id>(), "->", alg.displayName())
>
>     native:addautoincrementalfield -> Add autoincremental field
>     native:addfieldtoattributestable -> Add field to attributes table
>     native:adduniquevalueindexfield -> Add unique value index field
>     native:addxyfields -> Add X/Y fields to layer
>     native:affinetransform -> Affine transform
>     native:aggregate -> Aggregate
>     native:angletonearest -> Align points to features
>     native:antimeridiansplit -> Geodesic line split at antimeridian
>     native:arrayoffsetlines -> Array of offset (parallel) lines
>     native:arraytranslatedfeatures -> Array of translated features
>     native:aspect -> Aspect
>     native:assignprojection -> Assign projection
>     native:atlaslayouttoimage -> Export atlas layout as image
>     native:atlaslayouttopdf -> Export atlas layout as PDF
>     native:bookmarkstolayer -> Convert spatial bookmarks to layer
>     native:boundary -> Boundary
>     native:boundingboxes -> Bounding boxes
>     native:buffer -> Buffer
>     native:bufferbym -> Variable width buffer (by M value)
>     native:calculatevectoroverlaps -> Overlap analysis
>     native:categorizeusingstyle -> Create categorized renderer from styles
>     native:cellstatistics -> Cell statistics
>     native:centroids -> Centroids
>     native:clip -> Clip
>     native:collect -> Collect geometries
>     native:combinestyles -> Combine style databases
>     native:condition -> Conditional branch
>     native:converttocurves -> Convert to curved geometries
>     native:convexhull -> Convex hull
>     native:countpointsinpolygon -> Count points in polygon
>     native:createattributeindex -> Create attribute index
>     native:createconstantrasterlayer -> Create constant raster layer
>     native:createdirectory -> Create directory
>     native:creategrid -> Create grid
>     native:createpointslayerfromtable -> Create points layer from table
>     native:createrandombinomialrasterlayer -> Create random raster layer
>     (binomial distribution)
>     native:createrandomexponentialrasterlayer -> Create random raster
>     layer
>     (exponential distribution)
>     native:createrandomgammarasterlayer -> Create random raster layer
>     (gamma
>     distribution)
>     native:createrandomgeometricrasterlayer -> Create random raster layer
>     (geometric distribution)
>     native:createrandomnegativebinomialrasterlayer -> Create random
>     raster
>     layer (negative binomial distribution)
>     native:createrandomnormalrasterlayer -> Create random raster layer
>     (normal distribution)
>     native:createrandompoissonrasterlayer -> Create random raster layer
>     (poisson distribution)
>     native:createrandomuniformrasterlayer -> Create random raster layer
>     (uniform distribution)
>     native:createspatialindex -> Create spatial index
>     native:dbscanclustering -> DBSCAN clustering
>     native:deleteduplicategeometries -> Delete duplicate geometries
>     native:deleteholes -> Delete holes
>     native:densifygeometries -> Densify by count
>     native:densifygeometriesgivenaninterval -> Densify by interval
>     native:detectvectorchanges -> Detect dataset changes
>     native:difference -> Difference
>     native:dissolve -> Dissolve
>     native:dropgeometries -> Drop geometries
>     native:dropmzvalues -> Drop M/Z values
>     native:equaltofrequency -> Equal to frequency
>     native:explodehstorefield -> Explode HStore Field
>     native:explodelines -> Explode lines
>     native:extendlines -> Extend lines
>     native:extenttolayer -> Create layer from extent
>     native:extractbinary -> Extract binary field
>     native:extractbyattribute -> Extract by attribute
>     native:extractbyexpression -> Extract by expression
>     native:extractbyextent -> Extract/clip by extent
>     native:extractbylocation -> Extract by location
>     native:extractmvalues -> Extract M values
>     native:extractspecificvertices -> Extract specific vertices
>     native:extractvertices -> Extract vertices
>     native:extractzvalues -> Extract Z values
>     native:fieldcalculator -> Field calculator
>     native:filedownloader -> Download file
>     native:fillnodata -> Fill NoData cells
>     native:filter -> Feature filter
>     native:filterbygeometry -> Filter by geometry type
>     native:filterlayersbytype -> Filter layers by type
>     native:filterverticesbym -> Filter vertices by M value
>     native:filterverticesbyz -> Filter vertices by Z value
>     native:fixgeometries -> Fix geometries
>     native:flattenrelationships -> Flatten relationship
>     native:forcerhr -> Force right-hand-rule
>     native:fuzzifyrastergaussianmembership -> Fuzzify raster (gaussian
>     membership)
>     native:fuzzifyrasterlargemembership -> Fuzzify raster (large
>     membership)
>     native:fuzzifyrasterlinearmembership -> Fuzzify raster (linear
>     membership)
>     native:fuzzifyrasternearmembership -> Fuzzify raster (near membership)
>     native:fuzzifyrasterpowermembership -> Fuzzify raster (power
>     membership)
>     native:fuzzifyrastersmallmembership -> Fuzzify raster (small
>     membership)
>     native:generatepointspixelcentroidsinsidepolygons -> Generate points
>     (pixel centroids) inside polygons
>     native:geometrybyexpression -> Geometry by expression
>     native:greaterthanfrequency -> Greater than frequency
>     native:highestpositioninrasterstack -> Highest position in raster
>     stack
>     native:hillshade -> Hillshade
>     native:hublines -> Join by lines (hub lines)
>     native:importphotos -> Import geotagged photos
>     native:interpolatepoint -> Interpolate point on line
>     native:intersection -> Intersection
>     native:joinattributesbylocation -> Join attributes by location
>     native:joinattributestable -> Join attributes by field value
>     native:joinbynearest -> Join attributes by nearest
>     native:kmeansclustering -> K-means clustering
>     native:layertobookmarks -> Convert layer to spatial bookmarks
>     native:lessthanfrequency -> Less than frequency
>     native:linedensity -> Line density
>     native:lineintersections -> Line intersections
>     native:linesubstring -> Line substring
>     native:loadlayer -> Load layer into project
>     native:lowestpositioninrasterstack -> Lowest position in raster stack
>     native:meancoordinates -> Mean coordinate(s)
>     native:mergelines -> Merge lines
>     native:mergevectorlayers -> Merge vector layers
>     native:minimumenclosingcircle -> Minimum enclosing circles
>     native:multiparttosingleparts -> Multipart to singleparts
>     native:multiringconstantbuffer -> Multi-ring buffer (constant
>     distance)
>     native:nearestneighbouranalysis -> Nearest neighbour analysis
>     native:offsetline -> Offset lines
>     native:orderbyexpression -> Order by expression
>     native:orientedminimumboundingbox -> Oriented minimum bounding box
>     native:orthogonalize -> Orthogonalize
>     native:package -> Package layers
>     native:pixelstopoints -> Raster pixels to points
>     native:pixelstopolygons -> Raster pixels to polygons
>     native:pointonsurface -> Point on surface
>     native:pointsalonglines -> Points along geometry
>     native:pointtolayer -> Create layer from point
>     native:poleofinaccessibility -> Pole of inaccessibility
>     native:polygonfromlayerextent -> Extract layer extent
>     native:polygonize -> Polygonize
>     native:polygonstolines -> Polygons to lines
>     native:postgisexecutesql -> PostgreSQL execute SQL
>     native:printlayoutmapextenttolayer -> Print layout map extent to layer
>     native:printlayouttoimage -> Export print layout as image
>     native:printlayouttopdf -> Export print layout as PDF
>     native:projectpointcartesian -> Project points (Cartesian)
>     native:promotetomulti -> Promote to multipart
>     native:raiseexception -> Raise exception
>     native:raisewarning -> Raise warning
>     native:randomextract -> Random extract
>     native:randompointsinextent -> Random points in extent
>     native:randompointsinpolygons -> Random points in polygons
>     native:randompointsonlines -> Random points on lines
>     native:rasterbooleanand -> Raster boolean AND
>     native:rasterize -> Convert map to raster
>     native:rasterlayerstatistics -> Raster layer statistics
>     native:rasterlayeruniquevaluesreport -> Raster layer unique values
>     report
>     native:rasterlayerzonalstats -> Raster layer zonal statistics
>     native:rasterlogicalor -> Raster boolean OR
>     native:rastersampling -> Sample raster values
>     native:rastersurfacevolume -> Raster surface volume
>     native:reclassifybylayer -> Reclassify by layer
>     native:reclassifybytable -> Reclassify by table
>     native:rectanglesovalsdiamonds -> Rectangles, ovals, diamonds
>     native:refactorfields -> Refactor fields
>     native:removeduplicatesbyattribute -> Delete duplicates by attribute
>     native:removeduplicatevertices -> Remove duplicate vertices
>     native:removenullgeometries -> Remove null geometries
>     native:renamelayer -> Rename layer
>     native:renametablefield -> Rename field
>     native:repairshapefile -> Repair Shapefile
>     native:reprojectlayer -> Reproject layer
>     native:rescaleraster -> Rescale raster
>     native:reverselinedirection -> Reverse line direction
>     native:rotatefeatures -> Rotate
>     native:roundrastervalues -> Round raster
>     native:ruggednessindex -> Ruggedness index
>     native:savefeatures -> Save vector features to file
>     native:savelog -> Save log to file
>     native:saveselectedfeatures -> Extract selected features
>     native:segmentizebymaxangle -> Segmentize by maximum angle
>     native:segmentizebymaxdistance -> Segmentize by maximum distance
>     native:selectbylocation -> Select by location
>     native:serviceareafromlayer -> Service area (from layer)
>     native:serviceareafrompoint -> Service area (from point)
>     native:setlayerencoding -> Set layer encoding
>     native:setlayerstyle -> Set layer style
>     native:setmfromraster -> Set M value from raster
>     native:setmvalue -> Set M value
>     native:setprojectvariable -> Set project variable
>     native:setzfromraster -> Drape (set Z value from raster)
>     native:setzvalue -> Set Z value
>     native:shortestpathlayertopoint -> Shortest path (layer to point)
>     native:shortestpathpointtolayer -> Shortest path (point to layer)
>     native:shortestpathpointtopoint -> Shortest path (point to point)
>     native:shpencodinginfo -> Extract Shapefile encoding
>     native:simplifygeometries -> Simplify
>     native:singlesidedbuffer -> Single sided buffer
>     native:slope -> Slope
>     native:smoothgeometry -> Smooth
>     native:snapgeometries -> Snap geometries to layer
>     native:snappointstogrid -> Snap points to grid
>     native:spatialiteexecutesql -> SpatiaLite execute SQL
>     native:spatialiteexecutesqlregistered -> SpatiaLite execute SQL
>     (registered DB)
>     native:splitfeaturesbycharacter -> Split features by character
>     native:splitlinesbylength -> Split lines by maximum length
>     native:splitvectorlayer -> Split vector layer
>     native:splitwithlines -> Split with lines
>     native:stringconcatenation -> String concatenation
>     native:stylefromproject -> Create style database from project
>     native:subdivide -> Subdivide
>     native:sumlinelengths -> Sum line lengths
>     native:swapxy -> Swap X and Y coordinates
>     native:symmetricaldifference -> Symmetrical difference
>     native:taperedbuffer -> Tapered buffers
>     native:tinmeshcreation -> TIN Mesh Creation
>     native:transect -> Transect
>     native:translategeometry -> Translate
>     native:truncatetable -> Truncate table
>     native:union -> Union
>     native:wedgebuffers -> Create wedge buffers
>     native:writevectortiles_mbtiles -> Write Vector Tiles (MBTiles)
>     native:writevectortiles_xyz -> Write Vector Tiles (XYZ)
>     native:zonalhistogram -> Zonal histogram
>     native:zonalstatistics -> Zonal statistics
>     native:zonalstatisticsfb -> Zonal statistics
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/20e97c0a/attachment-0001.html>

From rdmailings at duif.net  Tue Mar  2 01:16:15 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 2 Mar 2021 10:16:15 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
Message-ID: <05cf3d74-ec91-68cd-bc97-2acf7c3b6861@duif.net>

On 3/2/21 9:34 AM, Hern?n De Angelis wrote:
> Hi,
> 
> I wrote about this a few days ago in the user list but I still have the problem and can find neither a cause nor a solution. I thus post it in this list in the hope that some developer may have a hint on what is going wrong here.
> 
> In my installation the Voronoi Polygon tool is missing from the Processing menu, both from the bar (vector geometry dialog) and the processing panel. It is also not listed in the Python console (see below whole listing).
> 
> But, the code seems to be present in the /usr/local/share... folder, where other plugins live as well:
> 
> localhost:/usr/local # find ./share -name *oronoi*
> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.skeleton.txt
> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.txt
> ./share/qgis/python/plugins/processing/algs/grass7/ext/v_voronoi.py
> ./share/qgis/python/plugins/processing/algs/qgis/VoronoiPolygons.py
> ./share/qgis/python/plugins/processing/algs/qgis/voronoi.py

With me your find-output looks exactly the same

> from qgis import processing
> for alg in QgsApplication.processingRegistry().algorithms():
> ??? print(alg.id(), "->", alg.displayName())
> 
> native:addautoincrementalfield -> Add autoincremental field
> native:addfieldtoattributestable -> Add field to attributes table

With me your python code shows voronoi in the 'qgis' group instead of the 'native' one:

qgis:voronoipolygons -> Voronoi polygons

I do have like 58 algorithms in the 'qgis' group. Are you missing all qgis ones? Or just voronoi?

And in processing it just shows up with me (see screenie)

Some things to check:

-1- is the /usr/local/share/qgis/python/plugins/ dir in your PYTHONPATH ?

With me (installed QGIS in /home/richard/bin/qgis_/3.18/debug) these to are in my PYTHONPATH:
/home/richard/bin/qgis_/3.18/debug/share/qgis/python
/home/richard/bin/qgis_/3.18/debug/share/qgis/python/plugins

import sys
print(sys.path)

or is there other 'cruft' in it?

-2- is your LD_LIBRARY_PATH ok? To me (installing in my homedir), I have to add the debug/lib dir to my LD_LIBRARY_PATH.
adding:
export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
to my startup of qgis 3.18

I think if you install in default locations (like you do) then this should not be a problem, but maybe the QGIS python code can not load the right c++-libs?



Regards,

Richard Duivenvoorde
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-20210302100041-317x201.png
Type: image/png
Size: 23858 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/5e50a04b/attachment-0001.png>

From nyall.dawson at gmail.com  Tue Mar  2 01:21:36 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 2 Mar 2021 19:21:36 +1000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
Message-ID: <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>

On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
<variablestarlight at gmail.com> wrote:
>
> Hi,
>
> I wrote about this a few days ago in the user list but I still have the
> problem and can find neither a cause nor a solution. I thus post it in
> this list in the hope that some developer may have a hint on what is
> going wrong here.

Double check that you have the gdal python packages installed

Nyall

>
> In my installation the Voronoi Polygon tool is missing from the
> Processing menu, both from the bar (vector geometry dialog) and the
> processing panel. It is also not listed in the Python console (see below
> whole listing).
>
> But, the code seems to be present in the /usr/local/share... folder,
> where other plugins live as well:
>
> localhost:/usr/local # find ./share -name *oronoi*
> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.skeleton.txt
> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.txt
> ./share/qgis/python/plugins/processing/algs/grass7/ext/v_voronoi.py
> ./share/qgis/python/plugins/processing/algs/qgis/VoronoiPolygons.py
> ./share/qgis/python/plugins/processing/algs/qgis/voronoi.py
>
> I compile QGIS from source, things have gone smoothly every time and I
> cannot see any obvious particular problem. I have tested with master a
> couple of weeks ago, then 3.18.0 a couple of days ago, and moments ago
> with 3.16.4 (after wiping all traces of previous installations) but the
> problem persists.
>
> Anyone has seen this? What could possibly be wrong here?
>
> Thanks in advance,
>
> Hern?n
>
>
> - - - - -
>
> from qgis import processing
> for alg in QgsApplication.processingRegistry().algorithms():
>      print(alg.id(), "->", alg.displayName())
>
> native:addautoincrementalfield -> Add autoincremental field
> native:addfieldtoattributestable -> Add field to attributes table
> native:adduniquevalueindexfield -> Add unique value index field
> native:addxyfields -> Add X/Y fields to layer
> native:affinetransform -> Affine transform
> native:aggregate -> Aggregate
> native:angletonearest -> Align points to features
> native:antimeridiansplit -> Geodesic line split at antimeridian
> native:arrayoffsetlines -> Array of offset (parallel) lines
> native:arraytranslatedfeatures -> Array of translated features
> native:aspect -> Aspect
> native:assignprojection -> Assign projection
> native:atlaslayouttoimage -> Export atlas layout as image
> native:atlaslayouttopdf -> Export atlas layout as PDF
> native:bookmarkstolayer -> Convert spatial bookmarks to layer
> native:boundary -> Boundary
> native:boundingboxes -> Bounding boxes
> native:buffer -> Buffer
> native:bufferbym -> Variable width buffer (by M value)
> native:calculatevectoroverlaps -> Overlap analysis
> native:categorizeusingstyle -> Create categorized renderer from styles
> native:cellstatistics -> Cell statistics
> native:centroids -> Centroids
> native:clip -> Clip
> native:collect -> Collect geometries
> native:combinestyles -> Combine style databases
> native:condition -> Conditional branch
> native:converttocurves -> Convert to curved geometries
> native:convexhull -> Convex hull
> native:countpointsinpolygon -> Count points in polygon
> native:createattributeindex -> Create attribute index
> native:createconstantrasterlayer -> Create constant raster layer
> native:createdirectory -> Create directory
> native:creategrid -> Create grid
> native:createpointslayerfromtable -> Create points layer from table
> native:createrandombinomialrasterlayer -> Create random raster layer
> (binomial distribution)
> native:createrandomexponentialrasterlayer -> Create random raster layer
> (exponential distribution)
> native:createrandomgammarasterlayer -> Create random raster layer (gamma
> distribution)
> native:createrandomgeometricrasterlayer -> Create random raster layer
> (geometric distribution)
> native:createrandomnegativebinomialrasterlayer -> Create random raster
> layer (negative binomial distribution)
> native:createrandomnormalrasterlayer -> Create random raster layer
> (normal distribution)
> native:createrandompoissonrasterlayer -> Create random raster layer
> (poisson distribution)
> native:createrandomuniformrasterlayer -> Create random raster layer
> (uniform distribution)
> native:createspatialindex -> Create spatial index
> native:dbscanclustering -> DBSCAN clustering
> native:deleteduplicategeometries -> Delete duplicate geometries
> native:deleteholes -> Delete holes
> native:densifygeometries -> Densify by count
> native:densifygeometriesgivenaninterval -> Densify by interval
> native:detectvectorchanges -> Detect dataset changes
> native:difference -> Difference
> native:dissolve -> Dissolve
> native:dropgeometries -> Drop geometries
> native:dropmzvalues -> Drop M/Z values
> native:equaltofrequency -> Equal to frequency
> native:explodehstorefield -> Explode HStore Field
> native:explodelines -> Explode lines
> native:extendlines -> Extend lines
> native:extenttolayer -> Create layer from extent
> native:extractbinary -> Extract binary field
> native:extractbyattribute -> Extract by attribute
> native:extractbyexpression -> Extract by expression
> native:extractbyextent -> Extract/clip by extent
> native:extractbylocation -> Extract by location
> native:extractmvalues -> Extract M values
> native:extractspecificvertices -> Extract specific vertices
> native:extractvertices -> Extract vertices
> native:extractzvalues -> Extract Z values
> native:fieldcalculator -> Field calculator
> native:filedownloader -> Download file
> native:fillnodata -> Fill NoData cells
> native:filter -> Feature filter
> native:filterbygeometry -> Filter by geometry type
> native:filterlayersbytype -> Filter layers by type
> native:filterverticesbym -> Filter vertices by M value
> native:filterverticesbyz -> Filter vertices by Z value
> native:fixgeometries -> Fix geometries
> native:flattenrelationships -> Flatten relationship
> native:forcerhr -> Force right-hand-rule
> native:fuzzifyrastergaussianmembership -> Fuzzify raster (gaussian
> membership)
> native:fuzzifyrasterlargemembership -> Fuzzify raster (large membership)
> native:fuzzifyrasterlinearmembership -> Fuzzify raster (linear membership)
> native:fuzzifyrasternearmembership -> Fuzzify raster (near membership)
> native:fuzzifyrasterpowermembership -> Fuzzify raster (power membership)
> native:fuzzifyrastersmallmembership -> Fuzzify raster (small membership)
> native:generatepointspixelcentroidsinsidepolygons -> Generate points
> (pixel centroids) inside polygons
> native:geometrybyexpression -> Geometry by expression
> native:greaterthanfrequency -> Greater than frequency
> native:highestpositioninrasterstack -> Highest position in raster stack
> native:hillshade -> Hillshade
> native:hublines -> Join by lines (hub lines)
> native:importphotos -> Import geotagged photos
> native:interpolatepoint -> Interpolate point on line
> native:intersection -> Intersection
> native:joinattributesbylocation -> Join attributes by location
> native:joinattributestable -> Join attributes by field value
> native:joinbynearest -> Join attributes by nearest
> native:kmeansclustering -> K-means clustering
> native:layertobookmarks -> Convert layer to spatial bookmarks
> native:lessthanfrequency -> Less than frequency
> native:linedensity -> Line density
> native:lineintersections -> Line intersections
> native:linesubstring -> Line substring
> native:loadlayer -> Load layer into project
> native:lowestpositioninrasterstack -> Lowest position in raster stack
> native:meancoordinates -> Mean coordinate(s)
> native:mergelines -> Merge lines
> native:mergevectorlayers -> Merge vector layers
> native:minimumenclosingcircle -> Minimum enclosing circles
> native:multiparttosingleparts -> Multipart to singleparts
> native:multiringconstantbuffer -> Multi-ring buffer (constant distance)
> native:nearestneighbouranalysis -> Nearest neighbour analysis
> native:offsetline -> Offset lines
> native:orderbyexpression -> Order by expression
> native:orientedminimumboundingbox -> Oriented minimum bounding box
> native:orthogonalize -> Orthogonalize
> native:package -> Package layers
> native:pixelstopoints -> Raster pixels to points
> native:pixelstopolygons -> Raster pixels to polygons
> native:pointonsurface -> Point on surface
> native:pointsalonglines -> Points along geometry
> native:pointtolayer -> Create layer from point
> native:poleofinaccessibility -> Pole of inaccessibility
> native:polygonfromlayerextent -> Extract layer extent
> native:polygonize -> Polygonize
> native:polygonstolines -> Polygons to lines
> native:postgisexecutesql -> PostgreSQL execute SQL
> native:printlayoutmapextenttolayer -> Print layout map extent to layer
> native:printlayouttoimage -> Export print layout as image
> native:printlayouttopdf -> Export print layout as PDF
> native:projectpointcartesian -> Project points (Cartesian)
> native:promotetomulti -> Promote to multipart
> native:raiseexception -> Raise exception
> native:raisewarning -> Raise warning
> native:randomextract -> Random extract
> native:randompointsinextent -> Random points in extent
> native:randompointsinpolygons -> Random points in polygons
> native:randompointsonlines -> Random points on lines
> native:rasterbooleanand -> Raster boolean AND
> native:rasterize -> Convert map to raster
> native:rasterlayerstatistics -> Raster layer statistics
> native:rasterlayeruniquevaluesreport -> Raster layer unique values report
> native:rasterlayerzonalstats -> Raster layer zonal statistics
> native:rasterlogicalor -> Raster boolean OR
> native:rastersampling -> Sample raster values
> native:rastersurfacevolume -> Raster surface volume
> native:reclassifybylayer -> Reclassify by layer
> native:reclassifybytable -> Reclassify by table
> native:rectanglesovalsdiamonds -> Rectangles, ovals, diamonds
> native:refactorfields -> Refactor fields
> native:removeduplicatesbyattribute -> Delete duplicates by attribute
> native:removeduplicatevertices -> Remove duplicate vertices
> native:removenullgeometries -> Remove null geometries
> native:renamelayer -> Rename layer
> native:renametablefield -> Rename field
> native:repairshapefile -> Repair Shapefile
> native:reprojectlayer -> Reproject layer
> native:rescaleraster -> Rescale raster
> native:reverselinedirection -> Reverse line direction
> native:rotatefeatures -> Rotate
> native:roundrastervalues -> Round raster
> native:ruggednessindex -> Ruggedness index
> native:savefeatures -> Save vector features to file
> native:savelog -> Save log to file
> native:saveselectedfeatures -> Extract selected features
> native:segmentizebymaxangle -> Segmentize by maximum angle
> native:segmentizebymaxdistance -> Segmentize by maximum distance
> native:selectbylocation -> Select by location
> native:serviceareafromlayer -> Service area (from layer)
> native:serviceareafrompoint -> Service area (from point)
> native:setlayerencoding -> Set layer encoding
> native:setlayerstyle -> Set layer style
> native:setmfromraster -> Set M value from raster
> native:setmvalue -> Set M value
> native:setprojectvariable -> Set project variable
> native:setzfromraster -> Drape (set Z value from raster)
> native:setzvalue -> Set Z value
> native:shortestpathlayertopoint -> Shortest path (layer to point)
> native:shortestpathpointtolayer -> Shortest path (point to layer)
> native:shortestpathpointtopoint -> Shortest path (point to point)
> native:shpencodinginfo -> Extract Shapefile encoding
> native:simplifygeometries -> Simplify
> native:singlesidedbuffer -> Single sided buffer
> native:slope -> Slope
> native:smoothgeometry -> Smooth
> native:snapgeometries -> Snap geometries to layer
> native:snappointstogrid -> Snap points to grid
> native:spatialiteexecutesql -> SpatiaLite execute SQL
> native:spatialiteexecutesqlregistered -> SpatiaLite execute SQL
> (registered DB)
> native:splitfeaturesbycharacter -> Split features by character
> native:splitlinesbylength -> Split lines by maximum length
> native:splitvectorlayer -> Split vector layer
> native:splitwithlines -> Split with lines
> native:stringconcatenation -> String concatenation
> native:stylefromproject -> Create style database from project
> native:subdivide -> Subdivide
> native:sumlinelengths -> Sum line lengths
> native:swapxy -> Swap X and Y coordinates
> native:symmetricaldifference -> Symmetrical difference
> native:taperedbuffer -> Tapered buffers
> native:tinmeshcreation -> TIN Mesh Creation
> native:transect -> Transect
> native:translategeometry -> Translate
> native:truncatetable -> Truncate table
> native:union -> Union
> native:wedgebuffers -> Create wedge buffers
> native:writevectortiles_mbtiles -> Write Vector Tiles (MBTiles)
> native:writevectortiles_xyz -> Write Vector Tiles (XYZ)
> native:zonalhistogram -> Zonal histogram
> native:zonalstatistics -> Zonal statistics
> native:zonalstatisticsfb -> Zonal statistics
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From variablestarlight at gmail.com  Tue Mar  2 01:34:07 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Tue, 2 Mar 2021 10:34:07 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <05cf3d74-ec91-68cd-bc97-2acf7c3b6861@duif.net>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <05cf3d74-ec91-68cd-bc97-2acf7c3b6861@duif.net>
Message-ID: <b8265529-569b-801e-4381-f874f008cb15@gmail.com>

Thanks for your detailed answer, Richard.


On 2021-03-02 10:16, Richard Duivenvoorde wrote:
> On 3/2/21 9:34 AM, Hern?n De Angelis wrote:
>> Hi,
>>
>> I wrote about this a few days ago in the user list but I still have the problem and can find neither a cause nor a solution. I thus post it in this list in the hope that some developer may have a hint on what is going wrong here.
>>
>> In my installation the Voronoi Polygon tool is missing from the Processing menu, both from the bar (vector geometry dialog) and the processing panel. It is also not listed in the Python console (see below whole listing).
>>
>> But, the code seems to be present in the /usr/local/share... folder, where other plugins live as well:
>>
>> localhost:/usr/local # find ./share -name *oronoi*
>> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.skeleton.txt
>> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.txt
>> ./share/qgis/python/plugins/processing/algs/grass7/ext/v_voronoi.py
>> ./share/qgis/python/plugins/processing/algs/qgis/VoronoiPolygons.py
>> ./share/qgis/python/plugins/processing/algs/qgis/voronoi.py
> With me your find-output looks exactly the same

Good


>
>> from qgis import processing
>> for alg in QgsApplication.processingRegistry().algorithms():
>>  ??? print(alg.id(), "->", alg.displayName())
>>
>> native:addautoincrementalfield -> Add autoincremental field
>> native:addfieldtoattributestable -> Add field to attributes table
> With me your python code shows voronoi in the 'qgis' group instead of the 'native' one:
>
> qgis:voronoipolygons -> Voronoi polygons
>
> I do have like 58 algorithms in the 'qgis' group. Are you missing all qgis ones? Or just voronoi?

I see, I only have the "native" ones ...


>
> And in processing it just shows up with me (see screenie)
>
> Some things to check:
>
> -1- is the /usr/local/share/qgis/python/plugins/ dir in your PYTHONPATH ?
>
> With me (installed QGIS in /home/richard/bin/qgis_/3.18/debug) these to are in my PYTHONPATH:
> /home/richard/bin/qgis_/3.18/debug/share/qgis/python
> /home/richard/bin/qgis_/3.18/debug/share/qgis/python/plugins
>
> import sys
> print(sys.path)
import sys
print(sys.path)

['/usr/local/share/qgis/python', 
'/home/hernan/.local/share/QGIS/QGIS3/profiles/default/python', 
'/home/hernan/.local/share/QGIS/QGIS3/profiles/default/python/plugins', 
'/usr/local/share/qgis/python/plugins', '/usr/lib/python38.zip', 
'/usr/lib64/python3.8', '/usr/lib64/python3.8/lib-dynload', 
'/usr/lib64/python3.8/site-packages', 
'/usr/lib64/python3.8/_import_failed', 
'/usr/lib/python3.8/site-packages', 
'/usr/local/lib64/python3.8/site-packages', 
'/home/hernan/.local/share/QGIS/QGIS3/profiles/default/python']

>
> or is there other 'cruft' in it?
>
> -2- is your LD_LIBRARY_PATH ok? To me (installing in my homedir), I have to add the debug/lib dir to my LD_LIBRARY_PATH.
> adding:
> export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
> to my startup of qgis 3.18
>
> I think if you install in default locations (like you do) then this should not be a problem, but maybe the QGIS python code can not load the right c++-libs?
>
Yes, I install in default /usr/local





From variablestarlight at gmail.com  Tue Mar  2 01:41:44 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Tue, 2 Mar 2021 10:41:44 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
Message-ID: <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>


On 2021-03-02 10:21, Nyall Dawson wrote:
> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
> <variablestarlight at gmail.com> wrote:
>> Hi,
>>
>> I wrote about this a few days ago in the user list but I still have the
>> problem and can find neither a cause nor a solution. I thus post it in
>> this list in the hope that some developer may have a hint on what is
>> going wrong here.
> Double check that you have the gdal python packages installed

Thanks for this,

from osgeo import gdal

just works, so I guess it is installed.


>
> Nyall
>
>> In my installation the Voronoi Polygon tool is missing from the
>> Processing menu, both from the bar (vector geometry dialog) and the
>> processing panel. It is also not listed in the Python console (see below
>> whole listing).
>>
>> But, the code seems to be present in the /usr/local/share... folder,
>> where other plugins live as well:
>>
>> localhost:/usr/local # find ./share -name *oronoi*
>> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.skeleton.txt
>> ./share/qgis/python/plugins/processing/algs/grass7/description/v.voronoi.txt
>> ./share/qgis/python/plugins/processing/algs/grass7/ext/v_voronoi.py
>> ./share/qgis/python/plugins/processing/algs/qgis/VoronoiPolygons.py
>> ./share/qgis/python/plugins/processing/algs/qgis/voronoi.py
>>
>> I compile QGIS from source, things have gone smoothly every time and I
>> cannot see any obvious particular problem. I have tested with master a
>> couple of weeks ago, then 3.18.0 a couple of days ago, and moments ago
>> with 3.16.4 (after wiping all traces of previous installations) but the
>> problem persists.
>>
>> Anyone has seen this? What could possibly be wrong here?
>>
>> Thanks in advance,
>>
>> Hern?n
>>
>>
>> - - - - -
>>
>> from qgis import processing
>> for alg in QgsApplication.processingRegistry().algorithms():
>>       print(alg.id(), "->", alg.displayName())
>>
>> native:addautoincrementalfield -> Add autoincremental field
>> native:addfieldtoattributestable -> Add field to attributes table
>> native:adduniquevalueindexfield -> Add unique value index field
>> native:addxyfields -> Add X/Y fields to layer
>> native:affinetransform -> Affine transform
>> native:aggregate -> Aggregate
>> native:angletonearest -> Align points to features
>> native:antimeridiansplit -> Geodesic line split at antimeridian
>> native:arrayoffsetlines -> Array of offset (parallel) lines
>> native:arraytranslatedfeatures -> Array of translated features
>> native:aspect -> Aspect
>> native:assignprojection -> Assign projection
>> native:atlaslayouttoimage -> Export atlas layout as image
>> native:atlaslayouttopdf -> Export atlas layout as PDF
>> native:bookmarkstolayer -> Convert spatial bookmarks to layer
>> native:boundary -> Boundary
>> native:boundingboxes -> Bounding boxes
>> native:buffer -> Buffer
>> native:bufferbym -> Variable width buffer (by M value)
>> native:calculatevectoroverlaps -> Overlap analysis
>> native:categorizeusingstyle -> Create categorized renderer from styles
>> native:cellstatistics -> Cell statistics
>> native:centroids -> Centroids
>> native:clip -> Clip
>> native:collect -> Collect geometries
>> native:combinestyles -> Combine style databases
>> native:condition -> Conditional branch
>> native:converttocurves -> Convert to curved geometries
>> native:convexhull -> Convex hull
>> native:countpointsinpolygon -> Count points in polygon
>> native:createattributeindex -> Create attribute index
>> native:createconstantrasterlayer -> Create constant raster layer
>> native:createdirectory -> Create directory
>> native:creategrid -> Create grid
>> native:createpointslayerfromtable -> Create points layer from table
>> native:createrandombinomialrasterlayer -> Create random raster layer
>> (binomial distribution)
>> native:createrandomexponentialrasterlayer -> Create random raster layer
>> (exponential distribution)
>> native:createrandomgammarasterlayer -> Create random raster layer (gamma
>> distribution)
>> native:createrandomgeometricrasterlayer -> Create random raster layer
>> (geometric distribution)
>> native:createrandomnegativebinomialrasterlayer -> Create random raster
>> layer (negative binomial distribution)
>> native:createrandomnormalrasterlayer -> Create random raster layer
>> (normal distribution)
>> native:createrandompoissonrasterlayer -> Create random raster layer
>> (poisson distribution)
>> native:createrandomuniformrasterlayer -> Create random raster layer
>> (uniform distribution)
>> native:createspatialindex -> Create spatial index
>> native:dbscanclustering -> DBSCAN clustering
>> native:deleteduplicategeometries -> Delete duplicate geometries
>> native:deleteholes -> Delete holes
>> native:densifygeometries -> Densify by count
>> native:densifygeometriesgivenaninterval -> Densify by interval
>> native:detectvectorchanges -> Detect dataset changes
>> native:difference -> Difference
>> native:dissolve -> Dissolve
>> native:dropgeometries -> Drop geometries
>> native:dropmzvalues -> Drop M/Z values
>> native:equaltofrequency -> Equal to frequency
>> native:explodehstorefield -> Explode HStore Field
>> native:explodelines -> Explode lines
>> native:extendlines -> Extend lines
>> native:extenttolayer -> Create layer from extent
>> native:extractbinary -> Extract binary field
>> native:extractbyattribute -> Extract by attribute
>> native:extractbyexpression -> Extract by expression
>> native:extractbyextent -> Extract/clip by extent
>> native:extractbylocation -> Extract by location
>> native:extractmvalues -> Extract M values
>> native:extractspecificvertices -> Extract specific vertices
>> native:extractvertices -> Extract vertices
>> native:extractzvalues -> Extract Z values
>> native:fieldcalculator -> Field calculator
>> native:filedownloader -> Download file
>> native:fillnodata -> Fill NoData cells
>> native:filter -> Feature filter
>> native:filterbygeometry -> Filter by geometry type
>> native:filterlayersbytype -> Filter layers by type
>> native:filterverticesbym -> Filter vertices by M value
>> native:filterverticesbyz -> Filter vertices by Z value
>> native:fixgeometries -> Fix geometries
>> native:flattenrelationships -> Flatten relationship
>> native:forcerhr -> Force right-hand-rule
>> native:fuzzifyrastergaussianmembership -> Fuzzify raster (gaussian
>> membership)
>> native:fuzzifyrasterlargemembership -> Fuzzify raster (large membership)
>> native:fuzzifyrasterlinearmembership -> Fuzzify raster (linear membership)
>> native:fuzzifyrasternearmembership -> Fuzzify raster (near membership)
>> native:fuzzifyrasterpowermembership -> Fuzzify raster (power membership)
>> native:fuzzifyrastersmallmembership -> Fuzzify raster (small membership)
>> native:generatepointspixelcentroidsinsidepolygons -> Generate points
>> (pixel centroids) inside polygons
>> native:geometrybyexpression -> Geometry by expression
>> native:greaterthanfrequency -> Greater than frequency
>> native:highestpositioninrasterstack -> Highest position in raster stack
>> native:hillshade -> Hillshade
>> native:hublines -> Join by lines (hub lines)
>> native:importphotos -> Import geotagged photos
>> native:interpolatepoint -> Interpolate point on line
>> native:intersection -> Intersection
>> native:joinattributesbylocation -> Join attributes by location
>> native:joinattributestable -> Join attributes by field value
>> native:joinbynearest -> Join attributes by nearest
>> native:kmeansclustering -> K-means clustering
>> native:layertobookmarks -> Convert layer to spatial bookmarks
>> native:lessthanfrequency -> Less than frequency
>> native:linedensity -> Line density
>> native:lineintersections -> Line intersections
>> native:linesubstring -> Line substring
>> native:loadlayer -> Load layer into project
>> native:lowestpositioninrasterstack -> Lowest position in raster stack
>> native:meancoordinates -> Mean coordinate(s)
>> native:mergelines -> Merge lines
>> native:mergevectorlayers -> Merge vector layers
>> native:minimumenclosingcircle -> Minimum enclosing circles
>> native:multiparttosingleparts -> Multipart to singleparts
>> native:multiringconstantbuffer -> Multi-ring buffer (constant distance)
>> native:nearestneighbouranalysis -> Nearest neighbour analysis
>> native:offsetline -> Offset lines
>> native:orderbyexpression -> Order by expression
>> native:orientedminimumboundingbox -> Oriented minimum bounding box
>> native:orthogonalize -> Orthogonalize
>> native:package -> Package layers
>> native:pixelstopoints -> Raster pixels to points
>> native:pixelstopolygons -> Raster pixels to polygons
>> native:pointonsurface -> Point on surface
>> native:pointsalonglines -> Points along geometry
>> native:pointtolayer -> Create layer from point
>> native:poleofinaccessibility -> Pole of inaccessibility
>> native:polygonfromlayerextent -> Extract layer extent
>> native:polygonize -> Polygonize
>> native:polygonstolines -> Polygons to lines
>> native:postgisexecutesql -> PostgreSQL execute SQL
>> native:printlayoutmapextenttolayer -> Print layout map extent to layer
>> native:printlayouttoimage -> Export print layout as image
>> native:printlayouttopdf -> Export print layout as PDF
>> native:projectpointcartesian -> Project points (Cartesian)
>> native:promotetomulti -> Promote to multipart
>> native:raiseexception -> Raise exception
>> native:raisewarning -> Raise warning
>> native:randomextract -> Random extract
>> native:randompointsinextent -> Random points in extent
>> native:randompointsinpolygons -> Random points in polygons
>> native:randompointsonlines -> Random points on lines
>> native:rasterbooleanand -> Raster boolean AND
>> native:rasterize -> Convert map to raster
>> native:rasterlayerstatistics -> Raster layer statistics
>> native:rasterlayeruniquevaluesreport -> Raster layer unique values report
>> native:rasterlayerzonalstats -> Raster layer zonal statistics
>> native:rasterlogicalor -> Raster boolean OR
>> native:rastersampling -> Sample raster values
>> native:rastersurfacevolume -> Raster surface volume
>> native:reclassifybylayer -> Reclassify by layer
>> native:reclassifybytable -> Reclassify by table
>> native:rectanglesovalsdiamonds -> Rectangles, ovals, diamonds
>> native:refactorfields -> Refactor fields
>> native:removeduplicatesbyattribute -> Delete duplicates by attribute
>> native:removeduplicatevertices -> Remove duplicate vertices
>> native:removenullgeometries -> Remove null geometries
>> native:renamelayer -> Rename layer
>> native:renametablefield -> Rename field
>> native:repairshapefile -> Repair Shapefile
>> native:reprojectlayer -> Reproject layer
>> native:rescaleraster -> Rescale raster
>> native:reverselinedirection -> Reverse line direction
>> native:rotatefeatures -> Rotate
>> native:roundrastervalues -> Round raster
>> native:ruggednessindex -> Ruggedness index
>> native:savefeatures -> Save vector features to file
>> native:savelog -> Save log to file
>> native:saveselectedfeatures -> Extract selected features
>> native:segmentizebymaxangle -> Segmentize by maximum angle
>> native:segmentizebymaxdistance -> Segmentize by maximum distance
>> native:selectbylocation -> Select by location
>> native:serviceareafromlayer -> Service area (from layer)
>> native:serviceareafrompoint -> Service area (from point)
>> native:setlayerencoding -> Set layer encoding
>> native:setlayerstyle -> Set layer style
>> native:setmfromraster -> Set M value from raster
>> native:setmvalue -> Set M value
>> native:setprojectvariable -> Set project variable
>> native:setzfromraster -> Drape (set Z value from raster)
>> native:setzvalue -> Set Z value
>> native:shortestpathlayertopoint -> Shortest path (layer to point)
>> native:shortestpathpointtolayer -> Shortest path (point to layer)
>> native:shortestpathpointtopoint -> Shortest path (point to point)
>> native:shpencodinginfo -> Extract Shapefile encoding
>> native:simplifygeometries -> Simplify
>> native:singlesidedbuffer -> Single sided buffer
>> native:slope -> Slope
>> native:smoothgeometry -> Smooth
>> native:snapgeometries -> Snap geometries to layer
>> native:snappointstogrid -> Snap points to grid
>> native:spatialiteexecutesql -> SpatiaLite execute SQL
>> native:spatialiteexecutesqlregistered -> SpatiaLite execute SQL
>> (registered DB)
>> native:splitfeaturesbycharacter -> Split features by character
>> native:splitlinesbylength -> Split lines by maximum length
>> native:splitvectorlayer -> Split vector layer
>> native:splitwithlines -> Split with lines
>> native:stringconcatenation -> String concatenation
>> native:stylefromproject -> Create style database from project
>> native:subdivide -> Subdivide
>> native:sumlinelengths -> Sum line lengths
>> native:swapxy -> Swap X and Y coordinates
>> native:symmetricaldifference -> Symmetrical difference
>> native:taperedbuffer -> Tapered buffers
>> native:tinmeshcreation -> TIN Mesh Creation
>> native:transect -> Transect
>> native:translategeometry -> Translate
>> native:truncatetable -> Truncate table
>> native:union -> Union
>> native:wedgebuffers -> Create wedge buffers
>> native:writevectortiles_mbtiles -> Write Vector Tiles (MBTiles)
>> native:writevectortiles_xyz -> Write Vector Tiles (XYZ)
>> native:zonalhistogram -> Zonal histogram
>> native:zonalstatistics -> Zonal statistics
>> native:zonalstatisticsfb -> Zonal statistics
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Tue Mar  2 01:45:31 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 2 Mar 2021 10:45:31 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <daac5587-d167-17c8-7cb1-ace53329ca6a@gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CA+H0G_EOg=V5gPQJCbmAHQNcJzST2FYqA6sUhTmncyHmQoeQ-Q@mail.gmail.com>
 <daac5587-d167-17c8-7cb1-ace53329ca6a@gmail.com>
Message-ID: <ca09b632-842b-3db3-2b76-788a0fbc365f@duif.net>

On 3/2/21 9:51 AM, Hern?n De Angelis wrote:
> On 2021-03-02 09:48, Alexandre Neto wrote:
>> Might seem obvious, but have you tried using a brand new profile?
>>
> Yes, I just forgot to add that to the description below.

Or even a new profiles_path ?

$ qgis --help
QGIS is a user friendly Open Source Geographic Information System.
Usage: qgis [OPTION] [FILE]
  OPTION:
	[--version]	display version information and exit
	[--snapshot filename]	emit snapshot of loaded datasets to given file
	[--width width]	width of snapshot to emit
	[--height height]	height of snapshot to emit
	[--lang language]	use language for interface text (changes existing override)
	[--project projectfile]	load the given QGIS project
	[--extent xmin,ymin,xmax,ymax]	set initial map extent
	[--nologo]	hide splash screen
	[--noversioncheck]	don't check for new version of QGIS at startup
	[--noplugins]	don't restore plugins on startup
	[--nocustomization]	don't apply GUI customization
	[--customizationfile path]	use the given ini file as GUI customization
	[--globalsettingsfile path]	use the given ini file as Global Settings (defaults)
	[--authdbdirectory path] use the given directory for authentication database
	[--code path]	run the given python file on load
	[--defaultui]	start by resetting user ui settings to default
	[--hide-browser]	hide the browser widget
	[--dxf-export filename.dxf]	emit dxf output of loaded datasets to given file
	[--dxf-extent xmin,ymin,xmax,ymax]	set extent to export to dxf
	[--dxf-symbology-mode none|symbollayer|feature]	symbology mode for dxf output
	[--dxf-scale-denom scale]	scale for dxf output
	[--dxf-encoding encoding]	encoding to use for dxf output
	[--dxf-map-theme maptheme]	map theme to use for dxf output
	[--take-screenshots output_path]	take screen shots for the user documentation
	[--screenshots-categories categories]	specify the categories of screenshot to be used (see QgsAppScreenShots::Categories).
	[--profile name]	load a named profile from the users profiles folder.
	[--profiles-path path]	path to store user profile folders. Will create profiles inside a {path}\profiles folder 
	[--version-migration]	force the settings migration from older version if found
	[--openclprogramfolder]		path to the folder containing the sources for OpenCL programs.
	[--help]		this text
	[--]		treat all following arguments as FILEs


So:

qgis --profiles-name /tmp/superclean

I would not know if this would help... but just in case

Richard

From rdmailings at duif.net  Tue Mar  2 01:51:59 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 2 Mar 2021 10:51:59 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
Message-ID: <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>

On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
> 
> On 2021-03-02 10:21, Nyall Dawson wrote:
>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
>> <variablestarlight at gmail.com> wrote:
>>> Hi,
>>>
>>> I wrote about this a few days ago in the user list but I still have the
>>> problem and can find neither a cause nor a solution. I thus post it in
>>> this list in the hope that some developer may have a hint on what is
>>> going wrong here.
>> Double check that you have the gdal python packages installed
> 
> Thanks for this,
> 
> from osgeo import gdal
> 
> just works, so I guess it is installed.

What is the value of 
BINDINGS_GLOBAL_INSTALL
in your compile config?

Looks like something is not picked up with your install.

What if you run qgis 31.8 from the 'output/bin' dir in your build directory?

If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX in some local dir in your HOME

I did in ~/bin/qgis_/3.18/debug (for debug build):

And create a startup script like

export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
export QGIS_DEBUG=0
# passing ALL parameters to qgis bin
# eg to be able to call a certain translation
# qgis --lang nl
~/bin/qgis_/3.18/debug/bin/qgis "$@"

Suc6

Richard Duivenvoorde

From variablestarlight at gmail.com  Tue Mar  2 01:53:48 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Tue, 2 Mar 2021 10:53:48 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <ca09b632-842b-3db3-2b76-788a0fbc365f@duif.net>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CA+H0G_EOg=V5gPQJCbmAHQNcJzST2FYqA6sUhTmncyHmQoeQ-Q@mail.gmail.com>
 <daac5587-d167-17c8-7cb1-ace53329ca6a@gmail.com>
 <ca09b632-842b-3db3-2b76-788a0fbc365f@duif.net>
Message-ID: <1c28f137-80d5-58dc-70b7-09b31a8419ae@gmail.com>

On 2021-03-02 10:45, Richard Duivenvoorde wrote:
> On 3/2/21 9:51 AM, Hern?n De Angelis wrote:
>> On 2021-03-02 09:48, Alexandre Neto wrote:
>>> Might seem obvious, but have you tried using a brand new profile?
>>>
>> Yes, I just forgot to add that to the description below.
> Or even a new profiles_path ?
>
> $ qgis --help
> QGIS is a user friendly Open Source Geographic Information System.
> Usage: qgis [OPTION] [FILE]
>    OPTION:
> 	[--version]	display version information and exit
> 	[--snapshot filename]	emit snapshot of loaded datasets to given file
> 	[--width width]	width of snapshot to emit
> 	[--height height]	height of snapshot to emit
> 	[--lang language]	use language for interface text (changes existing override)
> 	[--project projectfile]	load the given QGIS project
> 	[--extent xmin,ymin,xmax,ymax]	set initial map extent
> 	[--nologo]	hide splash screen
> 	[--noversioncheck]	don't check for new version of QGIS at startup
> 	[--noplugins]	don't restore plugins on startup
> 	[--nocustomization]	don't apply GUI customization
> 	[--customizationfile path]	use the given ini file as GUI customization
> 	[--globalsettingsfile path]	use the given ini file as Global Settings (defaults)
> 	[--authdbdirectory path] use the given directory for authentication database
> 	[--code path]	run the given python file on load
> 	[--defaultui]	start by resetting user ui settings to default
> 	[--hide-browser]	hide the browser widget
> 	[--dxf-export filename.dxf]	emit dxf output of loaded datasets to given file
> 	[--dxf-extent xmin,ymin,xmax,ymax]	set extent to export to dxf
> 	[--dxf-symbology-mode none|symbollayer|feature]	symbology mode for dxf output
> 	[--dxf-scale-denom scale]	scale for dxf output
> 	[--dxf-encoding encoding]	encoding to use for dxf output
> 	[--dxf-map-theme maptheme]	map theme to use for dxf output
> 	[--take-screenshots output_path]	take screen shots for the user documentation
> 	[--screenshots-categories categories]	specify the categories of screenshot to be used (see QgsAppScreenShots::Categories).
> 	[--profile name]	load a named profile from the users profiles folder.
> 	[--profiles-path path]	path to store user profile folders. Will create profiles inside a {path}\profiles folder
> 	[--version-migration]	force the settings migration from older version if found
> 	[--openclprogramfolder]		path to the folder containing the sources for OpenCL programs.
> 	[--help]		this text
> 	[--]		treat all following arguments as FILEs
>
>
> So:
>
> qgis --profiles-name /tmp/superclean
>
> I would not know if this would help... but just in case

Thanks you Richard, but that did not work either.

Thanks Alexander and Nyall too.


This is happening in a fresh install (one month old) of openSUSE 
Tumbleweed in a new machine. No older profiles to blame here. Also I did 
delete the profiles many times.

No clue by now, will have to keep looking.

Thanks again everyone

Hern?n


From jakob at lanstorp.com  Tue Mar  2 02:42:55 2021
From: jakob at lanstorp.com (Jakob)
Date: Tue, 2 Mar 2021 03:42:55 -0700 (MST)
Subject: [QGIS-Developer] OSGEO QGIS 3.18.0 broken?
Message-ID: <1614681775319-0.post@n6.nabble.com>

Just installed OSGEO QGIS 3.18.0 on Windows 10 on a clean machine. Now QGIS
cannot start claiming:

---------------------------
qgis-bin.exe - Entry point was not found
---------------------------
Procedure entrance point
?staticMetaObject at QgsPointCloudAttributeComboBox@@2UQMetaObject@@B was not
found in DLL-library C:\OSGEO4~1\apps\qgis\bin\qgis_app.dll. 

Installed OSGEO QGIS 3.18.0 on another Windows machine 3 days ago with no
problem.

Tried reinstall with no luck.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From stefan.uhrig at sap.com  Tue Mar  2 02:52:53 2021
From: stefan.uhrig at sap.com (Uhrig, Stefan)
Date: Tue, 2 Mar 2021 10:52:53 +0000
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and
 vcpkg
In-Reply-To: <67f494753209021ca06d5c17ece0ced5@geo.hu-berlin.de>
References: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>
 <AM0PR02MB57772729C0B2641FBA458E5193B79@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <47c87f52-7d5a-6935-6a8b-7615cd670dcf@di.uminho.pt>
 <CAECJsSo0CARNyBTxkdrJkKqL5UBdtx0RLH9jePF1zo3JAN3SQQ@mail.gmail.com>
 <AM0PR02MB57775DD44ECAA6EB8C2C672193B69@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CAGs3qpSL9YDct=x07sx8Rygh1eyrJcwrTUzOmTNokHwBRGPP-Q@mail.gmail.com>
 <9f037205df46d87185a896ff9464e73a@geo.hu-berlin.de>
 <AM0PR02MB57779D93E999A70517473658939A9@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <67f494753209021ca06d5c17ece0ced5@geo.hu-berlin.de>
Message-ID: <AM0PR02MB5777F9A45C3A792253DFB35493999@AM0PR02MB5777.eurprd02.prod.outlook.com>

Hi Benjamin,

I could reproduce the build issues with the current QGIS head. The easiest workaround I found was defining _HAS_AUTO_PTR_ETC globally. This will solve both the libspatialindex and exiv2 issue.

I defined _HAS_AUTO_PTR_ETC globally in the Visual Studio CMake Settings by checking ?Show Advanced Variables? and adding /D_HAS_AUTO_PTR_ETC to CMAKE_CXX_FLAGS.

Something similar is currently done locally for exiv2 and Clang: https://github.com/qgis/QGIS/blob/c6699b28b20ede3f9a6627ae300a670f28312a83/src/analysis/CMakeLists.txt#L449

When I have some spare time, I?ll try to get libspatialindex 1.9.3 to vcpkg. The exiv2 issue will only be resolved with 0.28, and that?s not released yet.

Best regards,
Stefan


From: Benjamin Jakimow <benjamin.jakimow at geo.hu-berlin.de>
Sent: Tuesday, March 2, 2021 6:59 AM
To: Uhrig, Stefan <stefan.uhrig at sap.com>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and vcpkg


Hello Stefan.

in my local repo I updated libspatialindex\portfile.cmake to 1.9.3 by

vcpkg_from_github(
    OUT_SOURCE_PATH SOURCE_PATH
    REPO libspatialindex/libspatialindex
    REF 1.9.3
    SHA512 d4c608abbd631dc163b7b4fb6bf09dee3e85ce692a5f8875d51f05a26e09c75cd17dff1ed9d2c232a071f0f5864d21d877b4cbc252f3416896db24dfa3fa18cb
    HEAD_REF master
)

and removed the older patchfile.

However, in the end I had to give up, because MSVC did not compile Exiv2 with C++17.

Best regards,

Benjamin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/2ea562e4/attachment-0001.html>

From variablestarlight at gmail.com  Tue Mar  2 03:19:11 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Tue, 2 Mar 2021 12:19:11 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
Message-ID: <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>


On 2021-03-02 10:51, Richard Duivenvoorde wrote:
> On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
>> On 2021-03-02 10:21, Nyall Dawson wrote:
>>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
>>> <variablestarlight at gmail.com> wrote:
>>>> Hi,
>>>>
>>>> I wrote about this a few days ago in the user list but I still have the
>>>> problem and can find neither a cause nor a solution. I thus post it in
>>>> this list in the hope that some developer may have a hint on what is
>>>> going wrong here.
>>> Double check that you have the gdal python packages installed
>> Thanks for this,
>>
>> from osgeo import gdal
>>
>> just works, so I guess it is installed.
> What is the value of
> BINDINGS_GLOBAL_INSTALL
> in your compile config?
The value is "YES"
>
> Looks like something is not picked up with your install.
Agree
>
> What if you run qgis 31.8 from the 'output/bin' dir in your build directory?
Behaves just the same
>
> If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX in some local dir in your HOME
>
> I did in ~/bin/qgis_/3.18/debug (for debug build):
>
> And create a startup script like
>
> export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
> export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
> export QGIS_DEBUG=0
> # passing ALL parameters to qgis bin
> # eg to be able to call a certain translation
> # qgis --lang nl
> ~/bin/qgis_/3.18/debug/bin/qgis "$@"

Thanks, will think about this and try it.

Thank you again for your ansers. I see I have a sort of linking/library 
problem. GRASS is installed and GRASS modules are compiled but then 
these do not appear either in the menu.


/Hern?n


>
> Suc6
>
> Richard Duivenvoorde

From adenaculture at gmail.com  Tue Mar  2 10:59:13 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 2 Mar 2021 13:59:13 -0500
Subject: [QGIS-Developer] QGIS Select by Location,
 but no within a distance of
Message-ID: <CABPxTTpOY73Nz+_zQ3HzCTGVPx46ASTEH9cRvCMD76wf6d_-RQ@mail.gmail.com>

I just had a user tell me he had to go back to ArcGIS so that he could use
the Select by Location function and specify a distance from the feature. He
could not believe that it was not available in QGIS. See

https://desktop.arcgis.com/en/arcmap/10.3/map/working-with-layers/using-select-by-location.htm

What he is looking for is the "Are within a distance of" operator. Am I
missing it in QGIS if not this is a really important operator to include. I
know you can always prebuffer the layer, but for an analyst who does this
regularly ours will go back to using ArcGIS.

Would this be fairly easy to implement?

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/496e4493/attachment.html>

From jmpmcmanus at gmail.com  Tue Mar  2 11:26:54 2021
From: jmpmcmanus at gmail.com (James McManus)
Date: Tue, 2 Mar 2021 14:26:54 -0500
Subject: [QGIS-Developer] Reading NetCDF mesh data
Message-ID: <CAFXM4AwdfFPuBzWm-g90n-jWXWf39h6-FdE22wGuAarbPOmKLw@mail.gmail.com>

Hi - I'm using QGIS 3.16.1 to read ADCIRC NetCDF Mesh file. When I open the
file it produces the following error statement:

HDF5-DIAG: Error detected in HDF5 (1.10.6) thread 139951069413888:
  #000: H5A.c line 430 in H5Aopen(): unable to load attribute info from
object header for attribute: 'File Type'
    major: Attribute
    minor: Can't open object
  #001: H5Aint.c line 433 in H5A__open(): unable to load attribute info
from object header for attribute: 'File Type'
    major: Attribute
    minor: Can't open object
  #002: H5Oattribute.c line 497 in H5O__attr_open_by_name(): can't open
attribute
    major: Attribute
    minor: Can't open object
  #003: H5Adense.c line 429 in H5A__dense_open(): can't locate attribute in
name index
    major: Attribute
    minor: Object not found

The file is read in properly, but do you know why I am getting this error?

Thanks
Jim McManus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/e274fbeb/attachment.html>

From eric.g.younkin at noaa.gov  Tue Mar  2 15:00:16 2021
From: eric.g.younkin at noaa.gov (Eric Younkin - NOAA Federal)
Date: Tue, 2 Mar 2021 18:00:16 -0500
Subject: [QGIS-Developer] PYQGIS - Numpy array to QgsRasterLayer without
 writing to file first
Message-ID: <CAFe6qKivggTE6QC_T-oQQh59DzGwOQWLsBD-uhcCpeJy5ue2dg@mail.gmail.com>

Hello,

I've been trying to figure out how to draw grids and lines from numpy
arrays without driving to a raster/vector file first.  I tried using the
gdal 'MEM' driver to make a gdal Dataset from a numpy array and pass that
in as a QgsRasterLayer, I get the following:

>>> memobj
<osgeo.gdal.Dataset; proxy of <Swig Object of type 'GDALDatasetShadow *' at
0x0000019B3131AC30> >
>>> QgsRasterLayer(memobj, 'testlayer', 'gdal')
Traceback (most recent call last):
  File "<input>", line 1, in <module>
TypeError: QgsRasterLayer(): arguments did not match any overloaded call:
  overload 1: too many arguments
  overload 2: argument 1 has unexpected type 'Dataset'

The only other approach that I could find was:

https://gis.stackexchange.com/questions/201804/how-to-create-raster-layer-directly-from-numpy-array-in-qgis-without-saving-to

but I suspect that the return from the processing.run command is probably a
temp file, so it is still going to file.  Is there not a way to generate a
raster layer from a numpy array without writing to file first?

Thanks,
Eric

-- 
Eric Younkin
Physical Scientist
NOAA OCS, Hydrographic Systems and Technology Branch
1315 East-West Highway
N/CS11, Room 6604
Silver Spring, MD 20910
Office: 240-847-8208
Cell: 828-331-8197
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/4df605ec/attachment.html>

From nyall.dawson at gmail.com  Tue Mar  2 15:04:50 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 3 Mar 2021 09:04:50 +1000
Subject: [QGIS-Developer] QGIS Select by Location,
 but no within a distance of
In-Reply-To: <CABPxTTpOY73Nz+_zQ3HzCTGVPx46ASTEH9cRvCMD76wf6d_-RQ@mail.gmail.com>
References: <CABPxTTpOY73Nz+_zQ3HzCTGVPx46ASTEH9cRvCMD76wf6d_-RQ@mail.gmail.com>
Message-ID: <CAB28AshvqcV7J0KK+S=LG-45ZNAPM+81F9-u2TCu5+pZbO2LCQ@mail.gmail.com>

On Wed, 3 Mar 2021 at 04:59, C Hamilton <adenaculture at gmail.com> wrote:
>
> I just had a user tell me he had to go back to ArcGIS so that he could use the Select by Location function and specify a distance from the feature. He could not believe that it was not available in QGIS. See
>
> https://desktop.arcgis.com/en/arcmap/10.3/map/working-with-layers/using-select-by-location.htm
>
> What he is looking for is the "Are within a distance of" operator. Am I missing it in QGIS if not this is a really important operator to include. I know you can always prebuffer the layer, but for an analyst who does this regularly ours will go back to using ArcGIS.
>
> Would this be fairly easy to implement?

Reasonably so - the bulk of the required changes would all sit within
QgsLocationBasedAlgorithm , specifically in
QgsLocationBasedAlgorithm::processByIteratingOverTargetSource and
QgsLocationBasedAlgorithm::processByIteratingOverIntersectSource
(there's two code paths there, and the one called will depend on
whether its more efficient to iterate over the first or second layer
-- this dual-logic approach is why these algorithms and join by
location are much faster then the intersection algorithm as previously
discussed!). In both of these you'd basically expand out the size of
the bounding box used to request matching features via
QgsRectangle::grow (so the larger bounding box is handed off to the
underlying data provider spatial index for filtering), and then change
the "isMatch" test to use engine->distance( .... ) <= buffer distance.
(Might also be worth first testing if the geometries intersect before
calculating the distance as it may be more efficient to do this, but
would need to be tested to verify.). On GEOS >= 3.9 based builds the
distance(... ) check is optimised and uses indexes, so it should be
very fast to perform this check! (As opposed to the inefficient
"buffer the geometries" approach). Basically we'd want to follow
PostGIS ST_DWithin approach, not a ST_Intersects(ST_Buffer(...))
approach.

If I was quoting for a customer I'd estimate 5 hours total for the
change, but of course YMMV.

Nyall


>
> Calvin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at kartoza.com  Tue Mar  2 15:10:30 2021
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 2 Mar 2021 23:10:30 +0000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
Message-ID: <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>

Hi

Can you check if you have python-psycopg2 installed on your system? I had a
similar issue a month or two back which was fixed by installing it. (Thanks
for the nudge Nyall).

Regards

Tim

On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis <
variablestarlight at gmail.com> wrote:

>
> On 2021-03-02 10:51, Richard Duivenvoorde wrote:
> > On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
> >> On 2021-03-02 10:21, Nyall Dawson wrote:
> >>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
> >>> <variablestarlight at gmail.com> wrote:
> >>>> Hi,
> >>>>
> >>>> I wrote about this a few days ago in the user list but I still have
> the
> >>>> problem and can find neither a cause nor a solution. I thus post it in
> >>>> this list in the hope that some developer may have a hint on what is
> >>>> going wrong here.
> >>> Double check that you have the gdal python packages installed
> >> Thanks for this,
> >>
> >> from osgeo import gdal
> >>
> >> just works, so I guess it is installed.
> > What is the value of
> > BINDINGS_GLOBAL_INSTALL
> > in your compile config?
> The value is "YES"
> >
> > Looks like something is not picked up with your install.
> Agree
> >
> > What if you run qgis 31.8 from the 'output/bin' dir in your build
> directory?
> Behaves just the same
> >
> > If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX in
> some local dir in your HOME
> >
> > I did in ~/bin/qgis_/3.18/debug (for debug build):
> >
> > And create a startup script like
> >
> > export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
> > export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
> > export QGIS_DEBUG=0
> > # passing ALL parameters to qgis bin
> > # eg to be able to call a certain translation
> > # qgis --lang nl
> > ~/bin/qgis_/3.18/debug/bin/qgis "$@"
>
> Thanks, will think about this and try it.
>
> Thank you again for your ansers. I see I have a sort of linking/library
> problem. GRASS is installed and GRASS modules are compiled but then
> these do not appear either in the menu.
>
>
> /Hern?n
>
>
> >
> > Suc6
> >
> > Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/86f04990/attachment.html>

From nyall.dawson at gmail.com  Tue Mar  2 15:12:11 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 3 Mar 2021 09:12:11 +1000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
 <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
Message-ID: <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>

On Wed, 3 Mar 2021 at 09:10, Tim Sutton <tim at kartoza.com> wrote:
>
> Hi
>
> Can you check if you have python-psycopg2 installed on your system? I had a similar issue a month or two back which was fixed by installing it. (Thanks for the nudge Nyall).

Ah -- that was the one!  I thought it was gdal for some reason...
flaky memory :)

We should really investigate why this caused a silent failure to show
the algorithms instead of an error...

Nyall


>
> Regards
>
> Tim
>
> On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis <variablestarlight at gmail.com> wrote:
>>
>>
>> On 2021-03-02 10:51, Richard Duivenvoorde wrote:
>> > On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
>> >> On 2021-03-02 10:21, Nyall Dawson wrote:
>> >>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
>> >>> <variablestarlight at gmail.com> wrote:
>> >>>> Hi,
>> >>>>
>> >>>> I wrote about this a few days ago in the user list but I still have the
>> >>>> problem and can find neither a cause nor a solution. I thus post it in
>> >>>> this list in the hope that some developer may have a hint on what is
>> >>>> going wrong here.
>> >>> Double check that you have the gdal python packages installed
>> >> Thanks for this,
>> >>
>> >> from osgeo import gdal
>> >>
>> >> just works, so I guess it is installed.
>> > What is the value of
>> > BINDINGS_GLOBAL_INSTALL
>> > in your compile config?
>> The value is "YES"
>> >
>> > Looks like something is not picked up with your install.
>> Agree
>> >
>> > What if you run qgis 31.8 from the 'output/bin' dir in your build directory?
>> Behaves just the same
>> >
>> > If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX in some local dir in your HOME
>> >
>> > I did in ~/bin/qgis_/3.18/debug (for debug build):
>> >
>> > And create a startup script like
>> >
>> > export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
>> > export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
>> > export QGIS_DEBUG=0
>> > # passing ALL parameters to qgis bin
>> > # eg to be able to call a certain translation
>> > # qgis --lang nl
>> > ~/bin/qgis_/3.18/debug/bin/qgis "$@"
>>
>> Thanks, will think about this and try it.
>>
>> Thank you again for your ansers. I see I have a sort of linking/library
>> problem. GRASS is installed and GRASS modules are compiled but then
>> these do not appear either in the menu.
>>
>>
>> /Hern?n
>>
>>
>> >
>> > Suc6
>> >
>> > Richard Duivenvoorde
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> ------------------------------------------------------------------------------------------
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
> -------------------------------------------------------------------------------------------
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Tue Mar  2 15:13:55 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 3 Mar 2021 09:13:55 +1000
Subject: [QGIS-Developer] Temporary hold on merges please!
In-Reply-To: <CAB28AsjrYGREgNZA8jN5qXvm-xH_jUWz63To7a+nJVp3CFVDBA@mail.gmail.com>
References: <CAB28AsijLNKNTKr_Xc2FCLdJp1zn34cUUg17=PO3C3OWuSP2sA@mail.gmail.com>
 <CAB28AsjrYGREgNZA8jN5qXvm-xH_jUWz63To7a+nJVp3CFVDBA@mail.gmail.com>
Message-ID: <CAB28Asi0y32qSizF8ZVw3LHCmdxWybA4vnq=opaZGzBCh4Hbig@mail.gmail.com>

On Mon, 1 Mar 2021 at 09:11, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> On Fri, 26 Feb 2021 at 17:11, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >
> > Hi all,
> >
> > Please don't merge any code to the QGIS repos right now -- we've
> > identified an issue in the new CI setup which is causing some tests to
> > report passing results when the test actually should be failing. Until
> > we resolve this we can't be certain that code isn't breaking things,
> > so PLEASE do NOT merge anything until further notice!!
>
> Update: the master and 3.18 branches are fixed and safe to merge to
> again, but please hold off on any 3.16 backports until the CI on that
> branch has also been repaired....

Ok, all resolved and back to normal again... phew :)

Nyall

From nyall.dawson at gmail.com  Tue Mar  2 15:41:06 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 3 Mar 2021 09:41:06 +1000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
 <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
 <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
Message-ID: <CAB28AsiQ62uw0Sw4yjbgGQtMahWRpnmtGKozM81q_BA1yCyH8w@mail.gmail.com>

On Wed, 3 Mar 2021 at 09:12, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> On Wed, 3 Mar 2021 at 09:10, Tim Sutton <tim at kartoza.com> wrote:
> >
> > Hi
> >
> > Can you check if you have python-psycopg2 installed on your system? I had a similar issue a month or two back which was fixed by installing it. (Thanks for the nudge Nyall).
>
> Ah -- that was the one!  I thought it was gdal for some reason...
> flaky memory :)
>
> We should really investigate why this caused a silent failure to show
> the algorithms instead of an error...

Or I could JFDI :P https://github.com/qgis/QGIS/pull/41985

Nyall


>
> Nyall
>
>
> >
> > Regards
> >
> > Tim
> >
> > On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis <variablestarlight at gmail.com> wrote:
> >>
> >>
> >> On 2021-03-02 10:51, Richard Duivenvoorde wrote:
> >> > On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
> >> >> On 2021-03-02 10:21, Nyall Dawson wrote:
> >> >>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
> >> >>> <variablestarlight at gmail.com> wrote:
> >> >>>> Hi,
> >> >>>>
> >> >>>> I wrote about this a few days ago in the user list but I still have the
> >> >>>> problem and can find neither a cause nor a solution. I thus post it in
> >> >>>> this list in the hope that some developer may have a hint on what is
> >> >>>> going wrong here.
> >> >>> Double check that you have the gdal python packages installed
> >> >> Thanks for this,
> >> >>
> >> >> from osgeo import gdal
> >> >>
> >> >> just works, so I guess it is installed.
> >> > What is the value of
> >> > BINDINGS_GLOBAL_INSTALL
> >> > in your compile config?
> >> The value is "YES"
> >> >
> >> > Looks like something is not picked up with your install.
> >> Agree
> >> >
> >> > What if you run qgis 31.8 from the 'output/bin' dir in your build directory?
> >> Behaves just the same
> >> >
> >> > If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX in some local dir in your HOME
> >> >
> >> > I did in ~/bin/qgis_/3.18/debug (for debug build):
> >> >
> >> > And create a startup script like
> >> >
> >> > export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
> >> > export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
> >> > export QGIS_DEBUG=0
> >> > # passing ALL parameters to qgis bin
> >> > # eg to be able to call a certain translation
> >> > # qgis --lang nl
> >> > ~/bin/qgis_/3.18/debug/bin/qgis "$@"
> >>
> >> Thanks, will think about this and try it.
> >>
> >> Thank you again for your ansers. I see I have a sort of linking/library
> >> problem. GRASS is installed and GRASS modules are compiled but then
> >> these do not appear either in the menu.
> >>
> >>
> >> /Hern?n
> >>
> >>
> >> >
> >> > Suc6
> >> >
> >> > Richard Duivenvoorde
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> > ------------------------------------------------------------------------------------------
> >
> > Tim Sutton
> > Visit http://kartoza.com to find out about open source:
> >  * Desktop GIS programming services
> >  * Geospatial web development
> > * GIS Training
> > * Consulting Services
> > Tim is a member of the QGIS Project Steering Committee
> > -------------------------------------------------------------------------------------------
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at kartoza.com  Tue Mar  2 15:42:22 2021
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 2 Mar 2021 23:42:22 +0000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
 <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
 <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
Message-ID: <CAES-DZTsrXWqQGfO29hLJ6gU6gMgNJ=JfW7Yt5qfcKZjq5=w0A@mail.gmail.com>

Hi

I made this so my previous noodling around to fix the issue are captured
somewhere:

https://github.com/qgis/QGIS/issues/41984

I guess QgsRuntimeProfiler.profile is just sweeping the exceptions under
the rug rather than letting them surface?

Regards

Tim

On Tue, Mar 2, 2021 at 11:12 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Wed, 3 Mar 2021 at 09:10, Tim Sutton <tim at kartoza.com> wrote:
> >
> > Hi
> >
> > Can you check if you have python-psycopg2 installed on your system? I
> had a similar issue a month or two back which was fixed by installing it.
> (Thanks for the nudge Nyall).
>
> Ah -- that was the one!  I thought it was gdal for some reason...
> flaky memory :)
>
> We should really investigate why this caused a silent failure to show
> the algorithms instead of an error...
>
> Nyall
>
>
> >
> > Regards
> >
> > Tim
> >
> > On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis <
> variablestarlight at gmail.com> wrote:
> >>
> >>
> >> On 2021-03-02 10:51, Richard Duivenvoorde wrote:
> >> > On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
> >> >> On 2021-03-02 10:21, Nyall Dawson wrote:
> >> >>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
> >> >>> <variablestarlight at gmail.com> wrote:
> >> >>>> Hi,
> >> >>>>
> >> >>>> I wrote about this a few days ago in the user list but I still
> have the
> >> >>>> problem and can find neither a cause nor a solution. I thus post
> it in
> >> >>>> this list in the hope that some developer may have a hint on what
> is
> >> >>>> going wrong here.
> >> >>> Double check that you have the gdal python packages installed
> >> >> Thanks for this,
> >> >>
> >> >> from osgeo import gdal
> >> >>
> >> >> just works, so I guess it is installed.
> >> > What is the value of
> >> > BINDINGS_GLOBAL_INSTALL
> >> > in your compile config?
> >> The value is "YES"
> >> >
> >> > Looks like something is not picked up with your install.
> >> Agree
> >> >
> >> > What if you run qgis 31.8 from the 'output/bin' dir in your build
> directory?
> >> Behaves just the same
> >> >
> >> > If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX
> in some local dir in your HOME
> >> >
> >> > I did in ~/bin/qgis_/3.18/debug (for debug build):
> >> >
> >> > And create a startup script like
> >> >
> >> > export
> LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
> >> > export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
> >> > export QGIS_DEBUG=0
> >> > # passing ALL parameters to qgis bin
> >> > # eg to be able to call a certain translation
> >> > # qgis --lang nl
> >> > ~/bin/qgis_/3.18/debug/bin/qgis "$@"
> >>
> >> Thanks, will think about this and try it.
> >>
> >> Thank you again for your ansers. I see I have a sort of linking/library
> >> problem. GRASS is installed and GRASS modules are compiled but then
> >> these do not appear either in the menu.
> >>
> >>
> >> /Hern?n
> >>
> >>
> >> >
> >> > Suc6
> >> >
> >> > Richard Duivenvoorde
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> >
> ------------------------------------------------------------------------------------------
> >
> > Tim Sutton
> > Visit http://kartoza.com to find out about open source:
> >  * Desktop GIS programming services
> >  * Geospatial web development
> > * GIS Training
> > * Consulting Services
> > Tim is a member of the QGIS Project Steering Committee
> >
> -------------------------------------------------------------------------------------------
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/6e944be7/attachment.html>

From tim at kartoza.com  Tue Mar  2 15:44:02 2021
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 2 Mar 2021 23:44:02 +0000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CAB28AsiQ62uw0Sw4yjbgGQtMahWRpnmtGKozM81q_BA1yCyH8w@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
 <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
 <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
 <CAB28AsiQ62uw0Sw4yjbgGQtMahWRpnmtGKozM81q_BA1yCyH8w@mail.gmail.com>
Message-ID: <CAES-DZSbCfm2-rfXhf98BB4_NomKzTp1wwr=xV8oR0YdDL=5vw@mail.gmail.com>

Haha, thanks! You are fixing the issue faster than I can document it :-P

Regards

Tim

On Tue, Mar 2, 2021 at 11:41 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Wed, 3 Mar 2021 at 09:12, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >
> > On Wed, 3 Mar 2021 at 09:10, Tim Sutton <tim at kartoza.com> wrote:
> > >
> > > Hi
> > >
> > > Can you check if you have python-psycopg2 installed on your system? I
> had a similar issue a month or two back which was fixed by installing it.
> (Thanks for the nudge Nyall).
> >
> > Ah -- that was the one!  I thought it was gdal for some reason...
> > flaky memory :)
> >
> > We should really investigate why this caused a silent failure to show
> > the algorithms instead of an error...
>
> Or I could JFDI :P https://github.com/qgis/QGIS/pull/41985
>
> Nyall
>
>
> >
> > Nyall
> >
> >
> > >
> > > Regards
> > >
> > > Tim
> > >
> > > On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis <
> variablestarlight at gmail.com> wrote:
> > >>
> > >>
> > >> On 2021-03-02 10:51, Richard Duivenvoorde wrote:
> > >> > On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
> > >> >> On 2021-03-02 10:21, Nyall Dawson wrote:
> > >> >>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
> > >> >>> <variablestarlight at gmail.com> wrote:
> > >> >>>> Hi,
> > >> >>>>
> > >> >>>> I wrote about this a few days ago in the user list but I still
> have the
> > >> >>>> problem and can find neither a cause nor a solution. I thus post
> it in
> > >> >>>> this list in the hope that some developer may have a hint on
> what is
> > >> >>>> going wrong here.
> > >> >>> Double check that you have the gdal python packages installed
> > >> >> Thanks for this,
> > >> >>
> > >> >> from osgeo import gdal
> > >> >>
> > >> >> just works, so I guess it is installed.
> > >> > What is the value of
> > >> > BINDINGS_GLOBAL_INSTALL
> > >> > in your compile config?
> > >> The value is "YES"
> > >> >
> > >> > Looks like something is not picked up with your install.
> > >> Agree
> > >> >
> > >> > What if you run qgis 31.8 from the 'output/bin' dir in your build
> directory?
> > >> Behaves just the same
> > >> >
> > >> > If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX
> in some local dir in your HOME
> > >> >
> > >> > I did in ~/bin/qgis_/3.18/debug (for debug build):
> > >> >
> > >> > And create a startup script like
> > >> >
> > >> > export
> LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
> > >> > export
> PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
> > >> > export QGIS_DEBUG=0
> > >> > # passing ALL parameters to qgis bin
> > >> > # eg to be able to call a certain translation
> > >> > # qgis --lang nl
> > >> > ~/bin/qgis_/3.18/debug/bin/qgis "$@"
> > >>
> > >> Thanks, will think about this and try it.
> > >>
> > >> Thank you again for your ansers. I see I have a sort of
> linking/library
> > >> problem. GRASS is installed and GRASS modules are compiled but then
> > >> these do not appear either in the menu.
> > >>
> > >>
> > >> /Hern?n
> > >>
> > >>
> > >> >
> > >> > Suc6
> > >> >
> > >> > Richard Duivenvoorde
> > >> _______________________________________________
> > >> QGIS-Developer mailing list
> > >> QGIS-Developer at lists.osgeo.org
> > >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > >
> > >
> > >
> > > --
> > >
> ------------------------------------------------------------------------------------------
> > >
> > > Tim Sutton
> > > Visit http://kartoza.com to find out about open source:
> > >  * Desktop GIS programming services
> > >  * Geospatial web development
> > > * GIS Training
> > > * Consulting Services
> > > Tim is a member of the QGIS Project Steering Committee
> > >
> -------------------------------------------------------------------------------------------
> > > _______________________________________________
> > > QGIS-Developer mailing list
> > > QGIS-Developer at lists.osgeo.org
> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210302/24f3e0ac/attachment-0001.html>

From senhor.neto at gmail.com  Tue Mar  2 17:58:42 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 3 Mar 2021 01:58:42 +0000
Subject: [QGIS-Developer] WITH_PDAL and WITH_EPT doubt
Message-ID: <CA+H0G_GiV_zRzmjpOxMxLZ15Jc-JFdEuTy97jag+yFTgWD1BZw@mail.gmail.com>

Hi,

I am trying to add point cloud support to QGIS on conda-forge [0]
<https://github.com/conda-forge/qgis-feedstock/pull/174>, but I am unsure
if I need to use
WITH_PDAL=TRUE and WITH_EPT=TRUE or just make sure PDAL is available from
the packaging repositories.

Will anything be missing if I skip these two during the compilation?

Thanks,

Alexandre Neto

[0] - https://github.com/conda-forge/qgis-feedstock/pull/174
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/1846e3d5/attachment.html>

From nyall.dawson at gmail.com  Tue Mar  2 18:03:19 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 3 Mar 2021 12:03:19 +1000
Subject: [QGIS-Developer] WITH_PDAL and WITH_EPT doubt
In-Reply-To: <CA+H0G_GiV_zRzmjpOxMxLZ15Jc-JFdEuTy97jag+yFTgWD1BZw@mail.gmail.com>
References: <CA+H0G_GiV_zRzmjpOxMxLZ15Jc-JFdEuTy97jag+yFTgWD1BZw@mail.gmail.com>
Message-ID: <CAB28Asj=C3Kd3p=96E-T2D2gET=SOQEzir4xBDQ8RYbmj87H8A@mail.gmail.com>

On Wed, 3 Mar 2021 at 11:59, Alexandre Neto <senhor.neto at gmail.com> wrote:
>
> Hi,
>
> I am trying to add point cloud support to QGIS on conda-forge [0], but I am unsure if I need to use
> WITH_PDAL=TRUE

yes, you'll need to add this even if you have pdal library available.
it defaults to false to avoid breaking the compilation if pdal isn't
available (and we want explicit breaks here rather than silently
compiling without pdal provider if the library isn't found).

> and WITH_EPT=TRUE

That defaults to true anyway, so you can omit it if you want.

Nyall

From senhor.neto at gmail.com  Tue Mar  2 19:40:32 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 3 Mar 2021 03:40:32 +0000
Subject: [QGIS-Developer] WITH_PDAL and WITH_EPT doubt
In-Reply-To: <CAB28Asj=C3Kd3p=96E-T2D2gET=SOQEzir4xBDQ8RYbmj87H8A@mail.gmail.com>
References: <CA+H0G_GiV_zRzmjpOxMxLZ15Jc-JFdEuTy97jag+yFTgWD1BZw@mail.gmail.com>
 <CAB28Asj=C3Kd3p=96E-T2D2gET=SOQEzir4xBDQ8RYbmj87H8A@mail.gmail.com>
Message-ID: <CA+H0G_GU9Dq1m6zaxReGtZafKtZda2LS9_xkKOtEEt0LMpbvOA@mail.gmail.com>

Great, thanks!

A quarta, 3/03/2021, 02:03, Nyall Dawson <nyall.dawson at gmail.com> escreveu:

> On Wed, 3 Mar 2021 at 11:59, Alexandre Neto <senhor.neto at gmail.com> wrote:
> >
> > Hi,
> >
> > I am trying to add point cloud support to QGIS on conda-forge [0], but I
> am unsure if I need to use
> > WITH_PDAL=TRUE
>
> yes, you'll need to add this even if you have pdal library available.
> it defaults to false to avoid breaking the compilation if pdal isn't
> available (and we want explicit breaks here rather than silently
> compiling without pdal provider if the library isn't found).
>
> > and WITH_EPT=TRUE
>
> That defaults to true anyway, so you can omit it if you want.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/4e7e369b/attachment.html>

From saber.razmjooei at lutraconsulting.co.uk  Tue Mar  2 21:55:05 2021
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Wed, 3 Mar 2021 05:55:05 +0000
Subject: [QGIS-Developer] Reading NetCDF mesh data
In-Reply-To: <CAFXM4AwdfFPuBzWm-g90n-jWXWf39h6-FdE22wGuAarbPOmKLw@mail.gmail.com>
References: <CAFXM4AwdfFPuBzWm-g90n-jWXWf39h6-FdE22wGuAarbPOmKLw@mail.gmail.com>
Message-ID: <CAH=WbRBsJLmdvjjooHw9kNJUbo-=1wfehmJStJ4Cmc9Yvk-scw@mail.gmail.com>

Hi James,

Similar issue was reported on the MDAL repo:
https://github.com/lutraconsulting/MDAL/issues/155

ADCIRC netcdf appears not to be fully compliant with UGRID and hence you
get the error.

I hope this helps. If not, please open a ticket on MDAL and pass us some
example file and we can dig in deeper to find the issue.

Kind regards
Saber


On Tue, 2 Mar 2021 at 19:27, James McManus <jmpmcmanus at gmail.com> wrote:

> Hi - I'm using QGIS 3.16.1 to read ADCIRC NetCDF Mesh file. When I open
> the file it produces the following error statement:
>
> HDF5-DIAG: Error detected in HDF5 (1.10.6) thread 139951069413888:
>   #000: H5A.c line 430 in H5Aopen(): unable to load attribute info from
> object header for attribute: 'File Type'
>     major: Attribute
>     minor: Can't open object
>   #001: H5Aint.c line 433 in H5A__open(): unable to load attribute info
> from object header for attribute: 'File Type'
>     major: Attribute
>     minor: Can't open object
>   #002: H5Oattribute.c line 497 in H5O__attr_open_by_name(): can't open
> attribute
>     major: Attribute
>     minor: Can't open object
>   #003: H5Adense.c line 429 in H5A__dense_open(): can't locate attribute
> in name index
>     major: Attribute
>     minor: Object not found
>
> The file is read in properly, but do you know why I am getting this error?
>
> Thanks
> Jim McManus
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Saber Razmjooei
www.lutraconsulting.co.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/9859ae3e/attachment.html>

From benjamin.jakimow at geo.hu-berlin.de  Tue Mar  2 21:57:39 2021
From: benjamin.jakimow at geo.hu-berlin.de (Benjamin Jakimow)
Date: Wed, 03 Mar 2021 06:57:39 +0100
Subject: [QGIS-Developer] PYQGIS - Numpy array to QgsRasterLayer without
 writing to file first
In-Reply-To: <CAFe6qKivggTE6QC_T-oQQh59DzGwOQWLsBD-uhcCpeJy5ue2dg@mail.gmail.com>
References: <CAFe6qKivggTE6QC_T-oQQh59DzGwOQWLsBD-uhcCpeJy5ue2dg@mail.gmail.com>
Message-ID: <bbaec7b2d0164fc8deba11f5307fd01b@geo.hu-berlin.de>

Hi Eric,

you might try to use a /vsimem/ path. For example, save your image to 
"/vsimem/myimage.tif" and
open it as QgsRasterLayer. I haven't tested it with gdal.Datasets, but 
it works with with ogr.DataSources.
Probably you shouldn't overwrite or delete the "/vsimem" object while 
QGIS has still a reference on it.

More details here: 
https://gdal.org/user/virtual_file_systems.html#vsimem-in-memory-files

Greetings,

Benjamin

On 2021-03-03 00:00, Eric Younkin - NOAA Federal wrote:

> Hello,
> 
> I've been trying to figure out how to draw grids and lines from numpy 
> arrays without driving to a raster/vector file first.  I tried using 
> the gdal 'MEM' driver to make a gdal Dataset from a numpy array and 
> pass that in as a QgsRasterLayer, I get the following:
> 
>>>> memobj
> <osgeo.gdal.Dataset; proxy of <Swig Object of type 'GDALDatasetShadow 
> *' at 0x0000019B3131AC30> >
>>>> QgsRasterLayer(memobj, 'testlayer', 'gdal') Traceback (most recent 
>>>> call last):
> File "<input>", line 1, in <module>
> TypeError: QgsRasterLayer(): arguments did not match any overloaded 
> call:
> overload 1: too many arguments
> overload 2: argument 1 has unexpected type 'Dataset'
> 
> The only other approach that I could find was:
> 
> https://gis.stackexchange.com/questions/201804/how-to-create-raster-layer-directly-from-numpy-array-in-qgis-without-saving-to
> 
> but I suspect that the return from the processing.run command is 
> probably a temp file, so it is still going to file.  Is there not a way 
> to generate a raster layer from a numpy array without writing to file 
> first?
> 
> Thanks,
> Eric
> --
> 
> Eric Younkin
> Physical Scientist
> 
> NOAA OCS, Hydrographic Systems and Technology Branch
> 1315 East-West Highway
> N/CS11, Room 6604
> Silver Spring, MD 20910
> Office: 240-847-8208
> Cell: 828-331-8197
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu 
Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6894
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'222
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/feae6ccc/attachment-0001.html>

From alister.hood at gmail.com  Tue Mar  2 22:10:51 2021
From: alister.hood at gmail.com (Alister Hood)
Date: Wed, 3 Mar 2021 19:10:51 +1300
Subject: [QGIS-Developer] Agreement
In-Reply-To: <mailman.23310.1614674950.26371.qgis-developer@lists.osgeo.org>
References: <mailman.23310.1614674950.26371.qgis-developer@lists.osgeo.org>
Message-ID: <CAF6hL+WZzyxpPtfJkjiJA6XFjnkMspsr1maSer6rDTTu__amqg@mail.gmail.com>

Hi Chris,
If you're looking for suggestions on what part of the code to start with,
maybe it is worth looking at the list of issues tagged "easy fix", although
it looks like it isn't really maintained:
https://github.com/qgis/QGIS/issues?q=is%3Aopen+is%3Aissue+label%3A%22Easy+fix%22

Regards,
Alister

From: Peter Petrik <peter.petrik at lutraconsulting.co.uk>
> To: chris at clandegrassi.com
> Cc: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] Agreement
> Message-ID:
>         <CA+T_Ms+D3java-CEAGsBEHPufgO1f66=-YOy-dj9nTm=
> zGyzmQ at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
>
> Hi Chris and welcome to the team.
>
> Now when you create a pull request, we will review it and give you
> feedback. If you are stuck, feel free to write to the mailing list or
> chat(s) and seek for the help. Best is to start with some easy bug fixes in
> the area of the code you would like to contribute to.
>
> Kind regards,
> Peter
>
> On Tue, Mar 2, 2021 at 4:12 AM <chris at clandegrassi.com> wrote:
>
> >
> > Hello,
> > I apologize in advance if this is going to the wrong place.
> >
> > I have read the New Developer Requirements at
> >
> >
> https://www.qgis.org/en/site/getinvolved/development/contributor_requirements.html
> > and I agree to the Code(s).
> >
> > I am a Software Engineer/GIS Analyst and I would like to contribute to
> > QGIS.
> > I have cloned the repository and successfuly completed the buid following
> > the posted document.
> > I can help with bugs, new code and Plugins.
> >
> > Please let me know how to proceed.
> >
> > Thank you
> > Cheers
> > Chris Degrassi
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/79d01a1e/attachment.html>

From matthias at opengis.ch  Tue Mar  2 22:38:29 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 3 Mar 2021 07:38:29 +0100
Subject: [QGIS-Developer] Temporary hold on merges please!
In-Reply-To: <CAB28Asi0y32qSizF8ZVw3LHCmdxWybA4vnq=opaZGzBCh4Hbig@mail.gmail.com>
References: <CAB28AsijLNKNTKr_Xc2FCLdJp1zn34cUUg17=PO3C3OWuSP2sA@mail.gmail.com>
 <CAB28AsjrYGREgNZA8jN5qXvm-xH_jUWz63To7a+nJVp3CFVDBA@mail.gmail.com>
 <CAB28Asi0y32qSizF8ZVw3LHCmdxWybA4vnq=opaZGzBCh4Hbig@mail.gmail.com>
Message-ID: <CAC7zN97EqX2jFF4YDRPjAVfnDMLSCmbXVgH-MrORUoYywEdSnA@mail.gmail.com>

Thanks !

On Wed, Mar 3, 2021 at 12:14 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Mon, 1 Mar 2021 at 09:11, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >
> > On Fri, 26 Feb 2021 at 17:11, Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
> > >
> > > Hi all,
> > >
> > > Please don't merge any code to the QGIS repos right now -- we've
> > > identified an issue in the new CI setup which is causing some tests to
> > > report passing results when the test actually should be failing. Until
> > > we resolve this we can't be certain that code isn't breaking things,
> > > so PLEASE do NOT merge anything until further notice!!
> >
> > Update: the master and 3.18 branches are fixed and safe to merge to
> > again, but please hold off on any 3.16 backports until the CI on that
> > branch has also been repaired....
>
> Ok, all resolved and back to normal again... phew :)
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/30a99010/attachment.html>

From mats.taraldsvik at gmail.com  Tue Mar  2 23:48:01 2021
From: mats.taraldsvik at gmail.com (Mats Taraldsvik)
Date: Wed, 3 Mar 2021 08:48:01 +0100
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and
 vcpkg
In-Reply-To: <AM0PR02MB57779D93E999A70517473658939A9@AM0PR02MB5777.eurprd02.prod.outlook.com>
References: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>
 <AM0PR02MB57772729C0B2641FBA458E5193B79@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <47c87f52-7d5a-6935-6a8b-7615cd670dcf@di.uminho.pt>
 <CAECJsSo0CARNyBTxkdrJkKqL5UBdtx0RLH9jePF1zo3JAN3SQQ@mail.gmail.com>
 <AM0PR02MB57775DD44ECAA6EB8C2C672193B69@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CAGs3qpSL9YDct=x07sx8Rygh1eyrJcwrTUzOmTNokHwBRGPP-Q@mail.gmail.com>
 <9f037205df46d87185a896ff9464e73a@geo.hu-berlin.de>
 <AM0PR02MB57779D93E999A70517473658939A9@AM0PR02MB5777.eurprd02.prod.outlook.com>
Message-ID: <CAGs3qpT8HHvSCc3-F4z4LpVMtrc4iVqdw7oesMZ6TuCL3ZvK9w@mail.gmail.com>

Hi Stefan,

vcpkg very recently got a registries feature, so you can avoid forking
vcpkg for custom ports (either modifications of existing ports or new ones)

look here:
https://devblogs.microsoft.com/cppblog/registries-bring-your-own-libraries-to-vcpkg/

You can pin each dependency to a specific version using the versioning
feature mentioned earlier.

Mats



On Mon, Mar 1, 2021 at 4:36 PM Uhrig, Stefan <stefan.uhrig at sap.com> wrote:

> Hi Benjamin,
>
>
>
> Thanks for the feedback.
>
>
>
> AFAIK, QGIS has only recently be bumped to C++17, and the version of
> spatialindex in vcpkg is still 1.9.0. The fix for the binary_function issue
> made it to a later version only. So, the bad news is that the build with
> vcpkg is broken for now.
>
>
>
> I?ve read Mathias Kuhn?s mail, and his idea of having a curated vcpkg fork
> seems the best approach to me to solve these kind of issues. On the one
> hand, we can prevent changes in upstream from breaking the build. On the
> other hand, we can update dependencies on our own (like the spatialindex
> library), merge it to the fork and then open a pull request to upstream. We
> would not be blocked by the upstream review process that way.
>
>
>
> I?ll fork vcpkg and I?ll try to update the spatialindex library. If I
> succeed, I?ll mail you the link to the repository.
>
>
>
> Best regards,
>
> Stefan
>
>
>
>
>
>
>
> *From:* Benjamin Jakimow <benjamin.jakimow at geo.hu-berlin.de>
> *Sent:* Sunday, February 28, 2021 9:03 AM
> *To:* Mats Taraldsvik <mats.taraldsvik at gmail.com>
> *Cc:* Uhrig, Stefan <stefan.uhrig at sap.com>; qgis-developer <
> qgis-developer at lists.osgeo.org>
> *Subject:* Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE
> and vcpkg
>
>
>
> Hi Stefan,
>
> thanks for your extensive description. So far it worked out very well to
> setup VS, and I can confirm that geos_c.lib is detected automatically.
>
> Unfortunately my build failed, because MovingRegion.h (which comes with
> vcpkg) wants to use std::binary_function, which was removed with C++17:
>
> <vcpkg
> root>\installed\x64-windows\include\spatialindex\MovingRegion.h(155): error
> C2039: 'binary_function': is not a member of 'std'
>
> I wonder why, because this issue has been solved in libspatialindex since
> Oct 2019 (https://github.com/libspatialindex/libspatialindex/pull/153)
>
> Best regards,
> Benjamin
>
>
>
> On 2021-02-11 11:29, Mats Taraldsvik wrote:
>
> Hi Stefan,
>
>
>
> Thank you for this excellent guide to compile with vcpkg, it worked right
> away after me struggling with the official guide+CMake compilation for a
> couple of hours.
>
>
>
> I did make a few modifications that might help:
>
>
>
> 1. Release build:
>
> - geos_c.lib was detected automatically, and for some reason I did not
> need to explicitly set GEOS_LIBRARY
>
>
>
> 2. Debug build:
>
>
>
> I noticed: 1> [CMake] -- Found ZSTD:
> C:/Users/mattar/Source/Repos/vcpkg_qgis/installed/x64-windows/lib/zstd.lib
> in the logs and you wrote:
>
> > The build will fail because the execution of crssync.exe fails. That's
> because crssync.exe tries to load zstd.dll instead of zstdd.dll. I haven't
> figured out why, yet. An easy workaround is copying zstdd.dll to zstd.dll
> in QGIS\out\build\x64-Debug\output\bin. Then restart the build and it
> should succeed.
>
>
>
> By setting ZSTD_LIBRARY explicitly to
> <your-vcpkg-root>/installed/x64-windows/debug/lib/zstdd.lib it picked the
> right lib and dll:
>
> Then log changed to: 1> [CMake] -- Found ZSTD:
> C:/Users/mattar/Source/Repos/vcpkg_qgis/installed/x64-windows/debug/lib/zstdd.lib
>
>
>
> I hope this does help a bit.
>
>
>
> I'm an outsider to this community, but my humble suggestion _when this
> work is complete_ (what's missing except for python support?):
>
> - add your CMakeSettings.json to the build description or to
> src/CMakeSettings.json
>
> - vcpkg has a new feature "manifests", where a file vcpkg.json describes
> all dependencies. this should also be added or described (instead of the
> vcpkg install command).
>
> - vcpkg just got versioning, which might help align the requirements with
> the rest of qgis
>
> - I see that vcpkg already has flex and bison
> (<your-vcpkg-root>/downloads/tools/winflexbison), so if there is a way for
> win_bison.exe and win_flex.exe to be copied to the build directory, these
> could be used instead of cygwin, making the build even easier)
>
> - vcpkg does have binary caching, perhaps making a github actions CI build
> using this method feasible?
>
>
>
> Anyway, thank you for your efforts! It made the first QGIS-step more
> pleasant. :)
>
>
>
> Best regards,
>
> Mats Taraldsvik
>
>
>
> On Mon, Feb 1, 2021 at 4:24 PM Uhrig, Stefan <stefan.uhrig at sap.com> wrote:
>
> Hi all,
>
>
>
> In my opinion, the build with Visual Studio 2019 and vcpkg is still too
> experimental to add it to the INSTALL.md file. It might break any day if
> QGIS requires a package or package version that is not available from vcpkg.
>
>
>
> Actually, I like the idea to add it to the "Show & tell" category. We can
> ask the community for their experiences with that setup. Does it work, is
> it getting used? If it is used by some "critical mass" and works over a
> longer time without issues, we can add instructions to the INSTALL.md file.
> Maybe we can add a hint to the INSTALL.md file that the not so
> faint-hearted developers might give it a try and provide a link to the
> "Show & tell" post.
>
>
>
> However, to be really useful, the debug build should also work with Python
> bindings and QGIS processing. I got it working for release builds (just
> needed to install the required Python dependencies via pip install
> <package>), but that does not work for debug builds. Someone solved that
> some years ago in another context (
> https://www.riverbankcomputing.com/pipermail/pyqt/2012-April/031385.html),
> so I might get it working. I'll give it a try.
>
>
>
> Furthermore, I'd like to investigate the zstd.dll vs zstdd.dll load issue
> before publishing the build instructions.
>
>
>
> Best regards,
>
> Stefan
>
>
>
>
>
>
>
> *From:* QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> *On
> Behalf Of *DelazJ
> *Sent:* Monday, February 1, 2021 10:49 AM
> *To:* Jorge Gustavo Rocha <jgr at di.uminho.pt>
> *Cc:* qgis-developer <qgis-developer at lists.osgeo.org>
> *Subject:* Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE
> and vcpkg
>
>
>
> Hi,
>
>
>
> Why not in the build instructions of the code repo instead:
> https://github.com/qgis/QGIS/blob/master/INSTALL.md? If it's a working
> process, easy to replicate, this is the place I'd expect this kind of
> information.
>
>
>
> Regards,
>
> Harrissou
>
>
>
> Le dim. 31 janv. 2021 ? 15:55, Jorge Gustavo Rocha <jgr at di.uminho.pt> a
> ?crit :
>
> Hi Stefan,
>
> We have now a new tab on github called 'discussions'[1]. Your detailed
> instructions are a good candidate to write down a new entry there, under
> 'Show and tell' category. The goal is to keep this information next to
> the repo. You can use the markdown syntax to enhance the writing format.
> You can also add some print screens.
>
> This is just a suggestion. Feel free to put it there or not.
>
> Regards (and thank you!),
>
> Jorge Gustavo
>
> [1] https://github.com/qgis/QGIS/discussions
>
> ?s 14:13 de 31/01/21, Uhrig, Stefan escreveu:
> > Install Visual Studio Community 2019: Select "Desktop development with
> > C++" under "Workloads" and "C++ MFC for latest v142 build tools (x86 &
> > x64)" under "Individual components". Verify that you install "Windows 10
> > SDK (10.0.18362.0)" or higher.
> >
> >
> >
> > Install Git for Windows and Python 3.
> >
> >
> >
> > Download
> >
> https://sourceforge.net/projects/winflexbison/files/win_flex_bison3-latest.zip/download
> > and extract it to a location of your choice (avoid space characters in
> > the target path).
> >
> >
> >
> > Follow the vcpkg "Quick Start: Windows" instructions at
> > https://github.com/microsoft/vcpkg#quick-start-windows. Make sure to
> > execute the "vcpkg integrate install" command.
> >
> >
> >
> > Install the required dependencies via:
> >
> >
> >
> > vcpkg --triplet=x64-windows install exiv2 gdal gsl libspatialindex
> > libspatialite libzip opencl protobuf qca qscintilla qt5 qt5-serialport
> > qt5-location qt5-winextras qtkeychain qwt zstd
> >
> >
> >
> > This may take a while as this creates a Debug and a Release build of
> > each dependency from source.
> >
> >
> >
> > Clone the QGIS repostiory. The path to the QGIS repository should not
> > contain any space characters.
> >
> >
> >
> > Start Visual Studio and open the QGIS CMakeLists.txt file via "File -->
> > Open --> CMake...". This will start the CMake generation, which will
> > fail. You will need several configuration rounds until everything is
> > setup properly.
> >
> >
> >
> > Let's start with a Release build because that requires less tweaking. Go
> > to "Project --> CMake Settings". Delete the default configuration
> > ("x64-Debug (default)").
> >
> >
> >
> > Add a new "x64-Release" configuration and set "Configuration type" to
> > "Release". Save the CMakeSettings.json file, which will start a new
> > CMake generation. "FIND_FLEX" will fail, so you need to set the
> > "FLEX_EXECUTABLE" path manually in section "CMake variables and cache".
> > Browse to your win_flex.exe file. Additionally, disable "WITH_BINDINGS"
> > and "WITH_QGIS_PROCESS". Save the file. Next set "BISON_EXECUTABLE" to
> > your win_bison.exe file and save again. Disable "WITH_QTWEBKIT" and
> > save. Set "QCA_LIBRARY" to
> > "<vcpkg-root>\installed\x64-windows\lib\qca.lib" and save. Configuration
> > should now succeed, but you have to change "GEOS_LIBRARY" from
> > "geos.lib" to "geos_c.lib". Save and start the build after CMake
> > generation has finished.
> >
> >
> >
> > Select "qgis.exe (output\bin\qgis.exe)" as start-up item in the toolbar
> > and start QGIS.
> >
> >
> >
> > Now let's do the same for a Debug build. Add a "x64-Debug" configuration
> > and save. Change to the "x64-Debug" configuration in the toolbar. Repeat
> > the steps from above (set flex and bison paths etc.). When selecting
> > libraries, take the libraries from
> > "<vcpkg-root>\installed\x64-windows\debug\lib". Most libraries will have
> > a "d" or "_d" as name suffix. The CMake generation will not always
> > select the debug versions of libraries. Hence, go over the CMake
> > variables and change release library paths to debug library paths, e.g.
> > "<vcpkg-root>\installed\x64-windows\debug\lib\geos_cd.lib" for
> > GEOS_LIBRARY. I'll append my CMakeSettings.json file as reference to
> > this mail. Save again and start the build.
> >
> >
> >
> > The build will fail because the execution of crssync.exe fails. That's
> > because crssync.exe tries to load zstd.dll instead of zstdd.dll. I
> > haven't figured out why, yet. An easy workaround is copying zstdd.dll to
> > zstd.dll in QGIS\out\build\x64-Debug\output\bin. Then restart the build
> > and it should succeed.
> >
> >
> >
> > You should then be able to start and debug qgis.exe and its
> > dependencies. Note that some vcpkg portfiles forget to copy over the
> > .pdb files. For example, proj is affected. If you find such a library
> > with a missing .pdb file, check whether the portfile (e.g.
> > "<vcpkg-root>\ports\proj4\portfile.cmake") contains the
> > "vcpkg_copy_pdbs()" call. If not, just add it at the end, re-install the
> > dependency and copy over the .pdb file to the QGIS output directory.
> >
> >
> >
> > I'm currently trying to get QGIS working with Python bindings. I got the
> > build working, however I'm struggling with the debug build execution.
> > The debug Python library seems to be unable to load the Release build Qt
> > libraries that come with PyQt5. Well, I'll keep trying and if I succeed,
> > I'll update the instructions.
> >
> >
> >
> > Here is my CMakeSettings.json file for reference:
> >
> >
> >
> > {
> >
> >   "configurations": [
> >
> >     {
> >
> >       "name": "x64-Release",
> >
> >       "generator": "Ninja",
> >
> >       "configurationType": "Release",
> >
> >       "buildRoot": "${projectDir}\\out\\build\\${name}",
> >
> >       "installRoot": "${projectDir}\\out\\install\\${name}",
> >
> >       "cmakeCommandArgs": "",
> >
> >       "buildCommandArgs": "",
> >
> >       "ctestCommandArgs": "",
> >
> >       "inheritEnvironments": [ "msvc_x64_x64" ],
> >
> >       "variables": [
> >
> >         {
> >
> >           "name": "WITH_BINDINGS",
> >
> >           "value": "False",
> >
> >           "type": "BOOL"
> >
> >         },
> >
> >         {
> >
> >           "name": "WITH_QGIS_PROCESS",
> >
> >           "value": "False",
> >
> >           "type": "BOOL"
> >
> >         },
> >
> >         {
> >
> >           "name": "FLEX_EXECUTABLE",
> >
> >           "value": "C:/src/tools/win_flex.exe",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "BISON_EXECUTABLE",
> >
> >           "value": "C:/src/tools/win_bison.exe",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "WITH_QTWEBKIT",
> >
> >           "value": "False",
> >
> >           "type": "BOOL"
> >
> >         },
> >
> >         {
> >
> >           "name": "QCA_LIBRARY",
> >
> >           "value": "C:/src/vcpkg/installed/x64-windows/lib/qca.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "GEOS_LIBRARY",
> >
> >           "value": "C:/src/vcpkg/installed/x64-windows/lib/geos_c.lib",
> >
> >           "type": "FILEPATH"
> >
> >         }
> >
> >       ]
> >
> >     },
> >
> >     {
> >
> >       "name": "x64-Debug",
> >
> >       "generator": "Ninja",
> >
> >       "configurationType": "Debug",
> >
> >       "buildRoot": "${projectDir}\\out\\build\\${name}",
> >
> >       "installRoot": "${projectDir}\\out\\install\\${name}",
> >
> >       "cmakeCommandArgs": "",
> >
> >       "buildCommandArgs": "",
> >
> >       "ctestCommandArgs": "",
> >
> >       "inheritEnvironments": [ "msvc_x64_x64" ],
> >
> >       "variables": [
> >
> >         {
> >
> >           "name": "FLEX_EXECUTABLE",
> >
> >           "value": "C:/src/tools/win_flex.exe",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "BISON_EXECUTABLE",
> >
> >           "value": "C:/src/tools/win_bison.exe",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "WITH_QTWEBKIT",
> >
> >           "value": "False",
> >
> >           "type": "BOOL"
> >
> >         },
> >
> >         {
> >
> >           "name": "WITH_BINDINGS",
> >
> >           "value": "False",
> >
> >           "type": "BOOL"
> >
> >         },
> >
> >         {
> >
> >           "name": "WITH_QGIS_PROCESS",
> >
> >           "value": "False",
> >
> >           "type": "BOOL"
> >
> >         },
> >
> >         {
> >
> >           "name": "QCA_LIBRARY",
> >
> >           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/qcad.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "GEOS_LIBRARY",
> >
> >           "value":
> > "C:/src/vcpkg/installed/x64-windows/debug/lib/geos_cd.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "GSL_LIB",
> >
> >           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/gsld.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "GSLCBLAS_LIB",
> >
> >           "value":
> > "C:/src/vcpkg/installed/x64-windows/debug/lib/gslcblasd.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "PROJ_LIBRARY",
> >
> >           "value":
> > "C:/src/vcpkg/installed/x64-windows/debug/lib/proj_d.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "QSCINTILLA_LIBRARY",
> >
> >           "value":
> > "C:/src/vcpkg/installed/x64-windows/debug/lib/qscintilla2_qt5d.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "QTKEYCHAIN_LIBRARY",
> >
> >           "value":
> > "C:/src/vcpkg/installed/x64-windows/debug/lib/qt5keychaind.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "QWT_LIBRARY",
> >
> >           "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/qwtd.lib",
> >
> >           "type": "FILEPATH"
> >
> >         },
> >
> >         {
> >
> >           "name": "SPATIALINDEX_LIBRARY",
> >
> >           "value":
> > "C:/src/vcpkg/installed/x64-windows/debug/lib/spatialindex-64d.lib",
> >
> >           "type": "FILEPATH"
> >
> >         }
> >
> >       ]
> >
> >     }
> >
> >   ]
> >
> > }
> >
> >
> >
> >
> >
> >
> >
> >
> >
> > *From:*i-s-o <46.i.s.o.64 at gmail.com>
> > *Sent:* Saturday, January 30, 2021 5:58 PM
> > *To:* Uhrig, Stefan <stefan.uhrig at sap.com>
> > *Cc:* qgis-developer <QGIS-Developer at lists.osgeo.org>
> > *Subject:* Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE
> > and vcpkg
> >
> >
> >
> > I am very interested in trying out your solution. Could you share the
> > required steps?
> >
> >
> >
> > Thx.
> >
> >
> >
> > On Fri, Jan 29, 2021, 09:25 Uhrig, Stefan <stefan.uhrig at sap.com
> > <mailto:stefan.uhrig at sap.com>> wrote:
> >
> >     TL;DR: It is currently possible to build the QGIS core app with
> >     Visual Studio 2019 and vcpkg, which makes debugging QGIS
> >     dependencies easy.
> >
> >
> >
> >
> >
> >     Hi all,
> >
> >
> >
> >     Some time ago I discovered vcpkg
> >     (https://github.com/microsoft/vcpkg). vcpkg is a package manager
> >     that downloads package source code to your local machine and builds
> >     the package locally. Recently, I discovered that vcpkg should be
> >     able to provide all dependencies to build at least the QGIS core
> >     application. Hence, I gave it a try.
> >
> >
> >
> >     Basically, it worked out of the box. I started with a fresh Windows
> >     10 installation, installed Visual Studio 2019 Community Edition,
> >     Git, vcpkg, Python 3 and flex and bison for Windows. I fetched all
> >     other dependencies via vcpkg. It was not necessary to even touch a
> >     single file in the repository. I could just open the main
> >     CMakeLists.txt file in Visual Studio and only had to tweak the CMake
> >     cache (the CMake find macros that come with QGIS are not aware of
> >     vcpkg, so I had to set some paths manually). I had to switch off
> >     some extensions though as the required dependencies were not
> >     available via vcpkg (WITH_BINDINGS, WITH_QGIS_PROCESS,
> >     WITH_QTWEBKIT). The build did not report any errors, I could start
> >     the application and it seems to work, but I did some light testing
> only.
> >
> >
> >
> >     I mainly tried it because I enjoy debugging with Visual Studio more
> >     than with gdb (or gdb wrapped in some IDE). In my experience, the
> >     performance of the Visual Studio debugger is better and it is more
> >     stable, especially in long debug sessions.
> >
> >
> >
> >     I don't want to promote official building support of QGIS with
> >     vcpkg. Providing the dependencies via OSGeo4W is much more reliable.
> >     However, if you don't mind the experimental nature of this setup and
> >     you want to be able to debug into QGIS' dependencies, you might give
> >     it a try. Especially, if you want to track the cause of a crash in
> >     one of QGIS' dependencies, this setup might be helpful. You have the
> >     source code and debug versions of the dependencies, so the debugger
> >     will jump to the crashing code line and you can inspect all the
> >     variables of the dependency.
> >
> >
> >
> >     If someone is interested in trying it, give me a note. I can then
> >     assemble detailed instructions on how to make it work. It took me a
> >     while to figure out which packages are needed and how the CMake
> >     cache needs to be tweaked.
> >
> >
> >
> >     Best regards,
> >
> >     Stefan
> >
> >
> >
> >
> >
> >
> >
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Inform?tica
> Universidade do Minho
> 4710-057 Braga
> Gabinete 3.29 (Piso 3)
> Tel: +351 253604480
> Fax: +351 253604471
> M?vel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
>
> --
> Benjamin Jakimow, Doctoral Researcher
> Earth Observation Lab | Geography Department | Humboldt-Universit?t zu
> Berlin
>
> e-mail: benjamin.jakimow at geo.hu-berlin.de
>
> phone:  +49 (0) 30 2093 6894
> mobile: +49 (0) 157 5656 8477
> fax:    +49 (0) 30 2093 6848
> mail:   Unter den Linden 6 | 10099 Berlin | Germany
> room: 2'222
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/025ea9b4/attachment-0001.html>

From variablestarlight at gmail.com  Tue Mar  2 23:55:42 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Wed, 3 Mar 2021 08:55:42 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
 <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
Message-ID: <daed7699-eb3e-9c46-5bf4-4df9e0d0aead@gmail.com>

On 2021-03-03 00:10, Tim Sutton wrote:
> Hi
>
> Can you check if you have python-psycopg2?installed on your system? I 
> had a similar issue a month or two back which was fixed by installing 
> it. (Thanks for the nudge Nyall).

YES! That was the problem!

Now I have all the tools, including GRASS and GDAL, and Voronoi of course.

Thank you!

Hern?n



>
> Regards
>
> Tim
>
> On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis 
> <variablestarlight at gmail.com <mailto:variablestarlight at gmail.com>> wrote:
>
>
>     On 2021-03-02 10:51, Richard Duivenvoorde wrote:
>     > On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
>     >> On 2021-03-02 10:21, Nyall Dawson wrote:
>     >>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
>     >>> <variablestarlight at gmail.com
>     <mailto:variablestarlight at gmail.com>> wrote:
>     >>>> Hi,
>     >>>>
>     >>>> I wrote about this a few days ago in the user list but I
>     still have the
>     >>>> problem and can find neither a cause nor a solution. I thus
>     post it in
>     >>>> this list in the hope that some developer may have a hint on
>     what is
>     >>>> going wrong here.
>     >>> Double check that you have the gdal python packages installed
>     >> Thanks for this,
>     >>
>     >> from osgeo import gdal
>     >>
>     >> just works, so I guess it is installed.
>     > What is the value of
>     > BINDINGS_GLOBAL_INSTALL
>     > in your compile config?
>     The value is "YES"
>     >
>     > Looks like something is not picked up with your install.
>     Agree
>     >
>     > What if you run qgis 31.8 from the 'output/bin' dir in your
>     build directory?
>     Behaves just the same
>     >
>     > If all fails I would (I think) compile and set
>     CMAKE_INSTALL_PREFIX in some local dir in your HOME
>     >
>     > I did in ~/bin/qgis_/3.18/debug (for debug build):
>     >
>     > And create a startup script like
>     >
>     > export
>     LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
>     > export
>     PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
>     > export QGIS_DEBUG=0
>     > # passing ALL parameters to qgis bin
>     > # eg to be able to call a certain translation
>     > # qgis --lang nl
>     > ~/bin/qgis_/3.18/debug/bin/qgis "$@"
>
>     Thanks, will think about this and try it.
>
>     Thank you again for your ansers. I see I have a sort of
>     linking/library
>     problem. GRASS is installed and GRASS modules are compiled but then
>     these do not appear either in the menu.
>
>
>     /Hern?n
>
>
>     >
>     > Suc6
>     >
>     > Richard Duivenvoorde
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
> -- 
> ------------------------------------------------------------------------------------------
> ?
>
> Tim Sutton
> Visit http://kartoza.com <http://kartoza.com/>?to find out about open 
> source:
> ?* Desktop GIS programming services
> ?* Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
> -------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/33d01368/attachment.html>

From variablestarlight at gmail.com  Tue Mar  2 23:57:57 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Wed, 3 Mar 2021 08:57:57 +0100
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
 <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
 <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
Message-ID: <184bb63f-c45e-a246-8c71-f943d8ce3346@gmail.com>


On 2021-03-03 00:12, Nyall Dawson wrote:
> On Wed, 3 Mar 2021 at 09:10, Tim Sutton <tim at kartoza.com> wrote:
>> Hi
>>
>> Can you check if you have python-psycopg2 installed on your system? I had a similar issue a month or two back which was fixed by installing it. (Thanks for the nudge Nyall).
> Ah -- that was the one!  I thought it was gdal for some reason...
> flaky memory :)
>
> We should really investigate why this caused a silent failure to show
> the algorithms instead of an error...

Yes, an error message could be beneficial. I remember from previous 
installations that QGIS would complain on opening that psycopg (or other 
python modules) weren't installed.

/H.




>
> Nyall
>
>
>> Regards
>>
>> Tim
>>
>> On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis <variablestarlight at gmail.com> wrote:
>>>
>>> On 2021-03-02 10:51, Richard Duivenvoorde wrote:
>>>> On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
>>>>> On 2021-03-02 10:21, Nyall Dawson wrote:
>>>>>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
>>>>>> <variablestarlight at gmail.com> wrote:
>>>>>>> Hi,
>>>>>>>
>>>>>>> I wrote about this a few days ago in the user list but I still have the
>>>>>>> problem and can find neither a cause nor a solution. I thus post it in
>>>>>>> this list in the hope that some developer may have a hint on what is
>>>>>>> going wrong here.
>>>>>> Double check that you have the gdal python packages installed
>>>>> Thanks for this,
>>>>>
>>>>> from osgeo import gdal
>>>>>
>>>>> just works, so I guess it is installed.
>>>> What is the value of
>>>> BINDINGS_GLOBAL_INSTALL
>>>> in your compile config?
>>> The value is "YES"
>>>> Looks like something is not picked up with your install.
>>> Agree
>>>> What if you run qgis 31.8 from the 'output/bin' dir in your build directory?
>>> Behaves just the same
>>>> If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX in some local dir in your HOME
>>>>
>>>> I did in ~/bin/qgis_/3.18/debug (for debug build):
>>>>
>>>> And create a startup script like
>>>>
>>>> export LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
>>>> export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
>>>> export QGIS_DEBUG=0
>>>> # passing ALL parameters to qgis bin
>>>> # eg to be able to call a certain translation
>>>> # qgis --lang nl
>>>> ~/bin/qgis_/3.18/debug/bin/qgis "$@"
>>> Thanks, will think about this and try it.
>>>
>>> Thank you again for your ansers. I see I have a sort of linking/library
>>> problem. GRASS is installed and GRASS modules are compiled but then
>>> these do not appear either in the menu.
>>>
>>>
>>> /Hern?n
>>>
>>>
>>>> Suc6
>>>>
>>>> Richard Duivenvoorde
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> --
>> ------------------------------------------------------------------------------------------
>>
>> Tim Sutton
>> Visit http://kartoza.com to find out about open source:
>>   * Desktop GIS programming services
>>   * Geospatial web development
>> * GIS Training
>> * Consulting Services
>> Tim is a member of the QGIS Project Steering Committee
>> -------------------------------------------------------------------------------------------
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at kartoza.com  Wed Mar  3 00:09:30 2021
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 3 Mar 2021 08:09:30 +0000
Subject: [QGIS-Developer] Voronoi tool missing from processing,
 what could be wrong?
In-Reply-To: <184bb63f-c45e-a246-8c71-f943d8ce3346@gmail.com>
References: <748c63f1-88f4-973c-5ad4-627f3ef3bbe4@gmail.com>
 <CAB28Asirs2bfLCwaDsQ+MJS358YA0o3KLsgjda11DWftXCs8Bw@mail.gmail.com>
 <0833a127-b63c-ef83-70c1-92823cc69fdf@gmail.com>
 <3ac43e77-e293-bf04-8e5f-b33a7f752c9f@duif.net>
 <fcf390ba-5a02-5758-7ff4-364140b54f33@gmail.com>
 <CAES-DZSezv1EvNKUpuAeZLMZkABFXJOdzBYA=Be-A6f4LCU--w@mail.gmail.com>
 <CAB28AsjC9qNbfcmtgCwLsJvRUMgPKJ7zGdcbnyYg3-OmDkVpKA@mail.gmail.com>
 <184bb63f-c45e-a246-8c71-f943d8ce3346@gmail.com>
Message-ID: <CAES-DZQ1aJ8Yx+nRZtEnWexeU=2k5WcNDGcMok5+=xRR+vj3CQ@mail.gmail.com>

Hi

On Wed, Mar 3, 2021 at 7:58 AM Hern?n De Angelis <
variablestarlight at gmail.com> wrote:

>
> On 2021-03-03 00:12, Nyall Dawson wrote:
> > On Wed, 3 Mar 2021 at 09:10, Tim Sutton <tim at kartoza.com> wrote:
> >> Hi
> >>
> >> Can you check if you have python-psycopg2 installed on your system? I
> had a similar issue a month or two back which was fixed by installing it.
> (Thanks for the nudge Nyall).
> > Ah -- that was the one!  I thought it was gdal for some reason...
> > flaky memory :)
> >
> > We should really investigate why this caused a silent failure to show
> > the algorithms instead of an error...
>
> Yes, an error message could be beneficial. I remember from previous
> installations that QGIS would complain on opening that psycopg (or other
> python modules) weren't installed.
>

Yes Nyall has already taken care of it:

https://github.com/qgis/QGIS/issues/41984
https://github.com/qgis/QGIS/issues/41984

Regards

Tim

>
> /H.
>
>
>
>
> >
> > Nyall
> >
> >
> >> Regards
> >>
> >> Tim
> >>
> >> On Tue, Mar 2, 2021 at 11:19 AM Hern?n De Angelis <
> variablestarlight at gmail.com> wrote:
> >>>
> >>> On 2021-03-02 10:51, Richard Duivenvoorde wrote:
> >>>> On 3/2/21 10:41 AM, Hern?n De Angelis wrote:
> >>>>> On 2021-03-02 10:21, Nyall Dawson wrote:
> >>>>>> On Tue, 2 Mar 2021 at 18:34, Hern?n De Angelis
> >>>>>> <variablestarlight at gmail.com> wrote:
> >>>>>>> Hi,
> >>>>>>>
> >>>>>>> I wrote about this a few days ago in the user list but I still
> have the
> >>>>>>> problem and can find neither a cause nor a solution. I thus post
> it in
> >>>>>>> this list in the hope that some developer may have a hint on what
> is
> >>>>>>> going wrong here.
> >>>>>> Double check that you have the gdal python packages installed
> >>>>> Thanks for this,
> >>>>>
> >>>>> from osgeo import gdal
> >>>>>
> >>>>> just works, so I guess it is installed.
> >>>> What is the value of
> >>>> BINDINGS_GLOBAL_INSTALL
> >>>> in your compile config?
> >>> The value is "YES"
> >>>> Looks like something is not picked up with your install.
> >>> Agree
> >>>> What if you run qgis 31.8 from the 'output/bin' dir in your build
> directory?
> >>> Behaves just the same
> >>>> If all fails I would (I think) compile and set CMAKE_INSTALL_PREFIX
> in some local dir in your HOME
> >>>>
> >>>> I did in ~/bin/qgis_/3.18/debug (for debug build):
> >>>>
> >>>> And create a startup script like
> >>>>
> >>>> export
> LD_LIBRARY_PATH=~/bin/qgis_/3.18/debug/lib/:/usr/lib/grass78/lib/
> >>>> export PYTHONPATH=~/bin/qgis_/3.18/debug/share/qgis/python:$PYTHONPATH
> >>>> export QGIS_DEBUG=0
> >>>> # passing ALL parameters to qgis bin
> >>>> # eg to be able to call a certain translation
> >>>> # qgis --lang nl
> >>>> ~/bin/qgis_/3.18/debug/bin/qgis "$@"
> >>> Thanks, will think about this and try it.
> >>>
> >>> Thank you again for your ansers. I see I have a sort of linking/library
> >>> problem. GRASS is installed and GRASS modules are compiled but then
> >>> these do not appear either in the menu.
> >>>
> >>>
> >>> /Hern?n
> >>>
> >>>
> >>>> Suc6
> >>>>
> >>>> Richard Duivenvoorde
> >>> _______________________________________________
> >>> QGIS-Developer mailing list
> >>> QGIS-Developer at lists.osgeo.org
> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >>
> >> --
> >>
> ------------------------------------------------------------------------------------------
> >>
> >> Tim Sutton
> >> Visit http://kartoza.com to find out about open source:
> >>   * Desktop GIS programming services
> >>   * Geospatial web development
> >> * GIS Training
> >> * Consulting Services
> >> Tim is a member of the QGIS Project Steering Committee
> >>
> -------------------------------------------------------------------------------------------
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/a9526b91/attachment-0001.html>

From senhor.neto at gmail.com  Wed Mar  3 00:46:23 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 3 Mar 2021 08:46:23 +0000
Subject: [QGIS-Developer] WITH_PDAL and WITH_EPT doubt
In-Reply-To: <CA+H0G_GU9Dq1m6zaxReGtZafKtZda2LS9_xkKOtEEt0LMpbvOA@mail.gmail.com>
References: <CA+H0G_GiV_zRzmjpOxMxLZ15Jc-JFdEuTy97jag+yFTgWD1BZw@mail.gmail.com>
 <CAB28Asj=C3Kd3p=96E-T2D2gET=SOQEzir4xBDQ8RYbmj87H8A@mail.gmail.com>
 <CA+H0G_GU9Dq1m6zaxReGtZafKtZda2LS9_xkKOtEEt0LMpbvOA@mail.gmail.com>
Message-ID: <CA+H0G_GgWnHMam=E2yC-rA+mhvq9R4aoOWFyvZnH4MBEqnPPtQ@mail.gmail.com>

Hello again,

Does this mean that, if entwine isn't present in the system, the
compilation won't fail or complaint, but some functionality will be missing?

Should I include entwine as a dependency for 3.18.0 on conda-forge?

Thanks,
Alexandre

A quarta, 3/03/2021, 03:40, Alexandre Neto <senhor.neto at gmail.com> escreveu:

> Great, thanks!
>
> A quarta, 3/03/2021, 02:03, Nyall Dawson <nyall.dawson at gmail.com>
> escreveu:
>
>> On Wed, 3 Mar 2021 at 11:59, Alexandre Neto <senhor.neto at gmail.com>
>> wrote:
>> >
>> > Hi,
>> >
>> > I am trying to add point cloud support to QGIS on conda-forge [0], but
>> I am unsure if I need to use
>> > WITH_PDAL=TRUE
>>
>> yes, you'll need to add this even if you have pdal library available.
>> it defaults to false to avoid breaking the compilation if pdal isn't
>> available (and we want explicit breaks here rather than silently
>> compiling without pdal provider if the library isn't found).
>>
>> > and WITH_EPT=TRUE
>>
>> That defaults to true anyway, so you can omit it if you want.
>>
>> Nyall
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/20220930/attachment.html>

From eric.g.younkin at noaa.gov  Wed Mar  3 06:15:35 2021
From: eric.g.younkin at noaa.gov (Eric Younkin - NOAA Federal)
Date: Wed, 3 Mar 2021 09:15:35 -0500
Subject: [QGIS-Developer] PYQGIS - Numpy array to QgsRasterLayer without
 writing to file first
In-Reply-To: <bbaec7b2d0164fc8deba11f5307fd01b@geo.hu-berlin.de>
References: <CAFe6qKivggTE6QC_T-oQQh59DzGwOQWLsBD-uhcCpeJy5ue2dg@mail.gmail.com>
 <bbaec7b2d0164fc8deba11f5307fd01b@geo.hu-berlin.de>
Message-ID: <CAFe6qKhzJMyVu+snDhwhfrQVd4V3=2fd1e8UfXwiD+bZj4qR5g@mail.gmail.com>

Hi Benjamin,

This does appear to work, I am now able to use vsimem file handlers with
gdal rasters to go from numpy arrays to qgis raster layers effectively.
Very exciting, thanks for this tip!  I had another QGIS dev question, but I
will start a new thread for that.

For anyone else, this is all that I did:

dataset = gdal_driver.Create('/vsimem/imagetst.tif', cols, rows, no_bands,
gdal.GDT_Float32, creation_options)
...write array to band, set geotransform, etc....

rlayer = QgsRasterLayer('/vsimem/imagetst.tif', 'imagetst', 'gdal')

Thanks again,
Eric

On Wed, Mar 3, 2021 at 12:57 AM Benjamin Jakimow <
benjamin.jakimow at geo.hu-berlin.de> wrote:

> Hi Eric,
>
> you might try to use a /vsimem/ path. For example, save your image to
> "/vsimem/myimage.tif" and
> open it as QgsRasterLayer. I haven't tested it with gdal.Datasets, but it
> works with with ogr.DataSources.
> Probably you shouldn't overwrite or delete the "/vsimem" object while QGIS
> has still a reference on it.
>
> More details here:
> https://gdal.org/user/virtual_file_systems.html#vsimem-in-memory-files
>
> Greetings,
>
> Benjamin
>
> On 2021-03-03 00:00, Eric Younkin - NOAA Federal wrote:
>
> Hello,
>
> I've been trying to figure out how to draw grids and lines from numpy
> arrays without driving to a raster/vector file first.  I tried using the
> gdal 'MEM' driver to make a gdal Dataset from a numpy array and pass that
> in as a QgsRasterLayer, I get the following:
>
> >>> memobj
> <osgeo.gdal.Dataset; proxy of <Swig Object of type 'GDALDatasetShadow *'
> at 0x0000019B3131AC30> >
> >>> QgsRasterLayer(memobj, 'testlayer', 'gdal')
> Traceback (most recent call last):
>   File "<input>", line 1, in <module>
> TypeError: QgsRasterLayer(): arguments did not match any overloaded call:
>   overload 1: too many arguments
>   overload 2: argument 1 has unexpected type 'Dataset'
>
> The only other approach that I could find was:
>
>
> https://gis.stackexchange.com/questions/201804/how-to-create-raster-layer-directly-from-numpy-array-in-qgis-without-saving-to
>
> but I suspect that the return from the processing.run command is probably
> a temp file, so it is still going to file.  Is there not a way to generate
> a raster layer from a numpy array without writing to file first?
>
> Thanks,
> Eric
>
> --
> Eric Younkin
> Physical Scientist
> NOAA OCS, Hydrographic Systems and Technology Branch
> 1315 East-West Highway
> N/CS11, Room 6604
> Silver Spring, MD 20910
> Office: 240-847-8208
> Cell: 828-331-8197
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> --
> --
> Benjamin Jakimow, Doctoral Researcher
> Earth Observation Lab | Geography Department | Humboldt-Universit?t zu
> Berlin
>
> e-mail: benjamin.jakimow at geo.hu-berlin.de
>
> phone:  +49 (0) 30 2093 6894
> mobile: +49 (0) 157 5656 8477
> fax:    +49 (0) 30 2093 6848
> mail:   Unter den Linden 6 | 10099 Berlin | Germany
> room: 2'222
>


-- 
Eric Younkin
Physical Scientist
NOAA OCS, Hydrographic Systems and Technology Branch
1315 East-West Highway
N/CS11, Room 6604
Silver Spring, MD 20910
Office: 240-847-8208
Cell: 828-331-8197
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/812df5c5/attachment.html>

From eric.g.younkin at noaa.gov  Wed Mar  3 06:47:29 2021
From: eric.g.younkin at noaa.gov (Eric Younkin - NOAA Federal)
Date: Wed, 3 Mar 2021 09:47:29 -0500
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
Message-ID: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>

Hello,

Looking for some advice.  We have a need to use OpenGL to draw the
symbology associated with some vector data.  All of our code uses OpenGL
1.x.  I was thinking we could use the QOpenGLWidget and the QgsPluginLayer
to add our OpenGL rendered symbology to a QgsMapCanvas as a new layer.

Is this possible?  Is there an example anyone knows of that is kind of
similar to this idea?  Or is there a better way to approach this problem?

Thanks,
Eric

-- 
Eric Younkin
Physical Scientist
NOAA OCS, Hydrographic Systems and Technology Branch
1315 East-West Highway
N/CS11, Room 6604
Silver Spring, MD 20910
Office: 240-847-8208
Cell: 828-331-8197
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/ffe880d7/attachment.html>

From wonder.sk at gmail.com  Wed Mar  3 08:00:21 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed, 3 Mar 2021 17:00:21 +0100
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
In-Reply-To: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
References: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
Message-ID: <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>

Hi Eric

On Wed, Mar 3, 2021 at 3:48 PM Eric Younkin - NOAA Federal <
eric.g.younkin at noaa.gov> wrote:

> Looking for some advice.  We have a need to use OpenGL to draw the
> symbology associated with some vector data.  All of our code uses OpenGL
> 1.x.  I was thinking we could use the QOpenGLWidget and the QgsPluginLayer
> to add our OpenGL rendered symbology to a QgsMapCanvas as a new layer.
>
> Is this possible?  Is there an example anyone knows of that is kind of
> similar to this idea?  Or is there a better way to approach this problem?
>

Could you please provide some more details regarding the symbology you
would like to get rendered? A screenshot would help a lot...

If you plan to use mesh-based weather data, maybe what you are trying to do
is already possible with the mesh layer in QGIS out of the box (e.g.
display of arrows, streamlines, trace animation), or there is only small
amount of extra work do be done in QGIS core to achieve that.

As for OpenGL approach (it looks like you already have some existing code
you would like to adapt to QGIS)... are you looking just at 2D rendering or
3D rendering as well? I know some time ago for QGIS 2.x Vincent Mora has
created a plugin layer that used OpenGL to render to offscreen image and
then draw it in map canvas [1] which involved some hacks. With
QOpenGLWidget approach I would be quite cautious as it may not work well,
or have some strange issues on different platforms. For example, I _think_
the QOpenGLWidget can't be semi-transparent (but I may be wrong), so mixing
its content with the rest of the map could be quite tricky...

Regards
Martin

[1] https://github.com/Oslandia/meshlayer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/25071ec4/attachment-0001.html>

From matteo.ghetta at gmail.com  Wed Mar  3 08:16:34 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 3 Mar 2021 17:16:34 +0100
Subject: [QGIS-Developer] Filter by expression in Report(s)
Message-ID: <a60472a3-cdad-66b3-0e07-0c2d3d528739@gmail.com>

Hi devs,

I think this is a feature request, but I'm unsure. In the Report Layout 
when adding a layer in a "Field Group Sections" within another "Field 
Group Sections", the layers must have a field in common that is used to 
filter the features.

If not, one can use the "join attributes by location" or create a 
virtual field with an aggregate expression.

Is there any interest to add a Expression Combobox instead of a Field 
Combobox in the Report Layout to filter the features "live"?

Or is there a simpler way I'm missing? :)

Cheers and thanks

Matteo

From eric.g.younkin at noaa.gov  Wed Mar  3 08:48:25 2021
From: eric.g.younkin at noaa.gov (Eric Younkin - NOAA Federal)
Date: Wed, 3 Mar 2021 11:48:25 -0500
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
In-Reply-To: <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>
References: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
 <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>
Message-ID: <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>

Hi Martin,

Thanks for the quick reply.  This is for NOAA nautical chart symbology,
following the s57/s52 spec.  You can see the symbology in the online viewer
here <https://www.nauticalcharts.noaa.gov/ENCOnline/enconline.html>.  It is
basically a very complex spec that we generated for display in a wxPython
widget a long time ago using GDAL 1.x commands.  S57 is already an existing
OGR driver, although I do not know what exactly that driver does.  I do
know that it does not somehow generate the symbology of the data for you to
then render.

The vector data would be a combination of area/line/point features, and I
don't think it would be a fit for the Mesh layer.

We'd like to make this symbology available in QGIS, so that users can drag
in a s57 file and view the chart.  You can use one of our WMS services, but
having the file support would be useful.  Ideally in a plugin layer, so
that I can also use it in our other apps that use PYQGIS QgsMapCanvas
widgets.

Thanks,
Eric

On Wed, Mar 3, 2021 at 11:00 AM Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi Eric
>
> On Wed, Mar 3, 2021 at 3:48 PM Eric Younkin - NOAA Federal <
> eric.g.younkin at noaa.gov> wrote:
>
>> Looking for some advice.  We have a need to use OpenGL to draw the
>> symbology associated with some vector data.  All of our code uses OpenGL
>> 1.x.  I was thinking we could use the QOpenGLWidget and the QgsPluginLayer
>> to add our OpenGL rendered symbology to a QgsMapCanvas as a new layer.
>>
>> Is this possible?  Is there an example anyone knows of that is kind of
>> similar to this idea?  Or is there a better way to approach this problem?
>>
>
> Could you please provide some more details regarding the symbology you
> would like to get rendered? A screenshot would help a lot...
>
> If you plan to use mesh-based weather data, maybe what you are trying to
> do is already possible with the mesh layer in QGIS out of the box (e.g.
> display of arrows, streamlines, trace animation), or there is only small
> amount of extra work do be done in QGIS core to achieve that.
>
> As for OpenGL approach (it looks like you already have some existing code
> you would like to adapt to QGIS)... are you looking just at 2D rendering or
> 3D rendering as well? I know some time ago for QGIS 2.x Vincent Mora has
> created a plugin layer that used OpenGL to render to offscreen image and
> then draw it in map canvas [1] which involved some hacks. With
> QOpenGLWidget approach I would be quite cautious as it may not work well,
> or have some strange issues on different platforms. For example, I _think_
> the QOpenGLWidget can't be semi-transparent (but I may be wrong), so mixing
> its content with the rest of the map could be quite tricky...
>
> Regards
> Martin
>
> [1] https://github.com/Oslandia/meshlayer
>


-- 
Eric Younkin
Physical Scientist
NOAA OCS, Hydrographic Systems and Technology Branch
1315 East-West Highway
N/CS11, Room 6604
Silver Spring, MD 20910
Office: 240-847-8208
Cell: 828-331-8197
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/71f6cc81/attachment.html>

From sebastien.peillet at oslandia.com  Wed Mar  3 09:38:11 2021
From: sebastien.peillet at oslandia.com (=?UTF-8?Q?S=c3=a9bastien_Peillet?=)
Date: Wed, 3 Mar 2021 18:38:11 +0100
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
In-Reply-To: <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>
References: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
 <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>
 <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>
Message-ID: <c78f9c46-4f64-0c0d-edd0-f0b3c289dcbb@oslandia.com>

Hi Eric,

As Martin said, Vincent Mora created a plugin layer in QGIS 2.x to
render OpenGL layer. This plugin layer was designed to render a mesh
layer as it was not available yet in QGIS. So only this kind of layer
has been developped, but you should be able to use the OpenGlLayer class
to create other kind of layer. Since last year, I inherited projects
that depend of that plugin layer and migrated the meshlayer on QGIS 3.x
. I juste pushed the recent update on the gitlab.com repository
(Oslandia left the github.com one) :
https://gitlab.com/Oslandia/qgis/meshlayer

The latest update is necessary to use the meshlayer on QGIS >= 3.14 .

Regards

S?bastien

On 03/03/2021 17:48, Eric Younkin - NOAA Federal wrote:
> Hi Martin,
>
> Thanks?for the quick reply.? This is for NOAA nautical chart
> symbology, following the s57/s52 spec.? You can see the symbology in
> the online viewer here
> <https://www.nauticalcharts.noaa.gov/ENCOnline/enconline.html>.? It is
> basically a very complex spec that we generated for display in a
> wxPython widget a long time ago using GDAL 1.x commands.? S57 is
> already?an existing OGR driver, although I do not know what exactly
> that driver does.? I do know that it does not somehow generate the
> symbology of the data for you to then render.
>
> The vector data would be a combination of area/line/point features,
> and I don't think it would be a fit for the Mesh layer.
>
> We'd like to make this symbology available in QGIS, so that users can
> drag in a s57 file and view the chart.? You can use one of our WMS
> services, but having the file support would be useful.? Ideally in a
> plugin layer, so that I can also use it in our other apps that use
> PYQGIS?QgsMapCanvas widgets.
>
> Thanks,
> Eric
>
> On Wed, Mar 3, 2021 at 11:00 AM Martin Dobias <wonder.sk at gmail.com
> <mailto:wonder.sk at gmail.com>> wrote:
>
>     Hi Eric
>
>     On Wed, Mar 3, 2021 at 3:48 PM Eric Younkin - NOAA Federal
>     <eric.g.younkin at noaa.gov <mailto:eric.g.younkin at noaa.gov>> wrote:
>
>         Looking for some advice.? We have a need to use OpenGL to
>         draw?the symbology associated with some vector data.? All of
>         our code uses OpenGL 1.x.? I was thinking we could use the
>         QOpenGLWidget and the QgsPluginLayer to add our OpenGL
>         rendered symbology to a QgsMapCanvas as a new layer.??
>
>         Is this possible?? Is there an example anyone knows of that is
>         kind of similar to this idea?? Or is there a better way to
>         approach this problem?
>
>
>     Could you please provide some more details regarding the symbology
>     you would like to get rendered? A screenshot would help a lot...
>
>     If you plan to use mesh-based weather data, maybe what you are
>     trying to do is already possible with the mesh layer in QGIS out
>     of the box (e.g. display of arrows, streamlines, trace animation),
>     or there is only small amount of extra work do be done in QGIS
>     core to achieve that.
>
>     As for OpenGL approach (it looks like you already have some
>     existing code you would like to adapt to QGIS)... are you looking
>     just at 2D rendering or 3D rendering as well? I know some time ago
>     for QGIS 2.x Vincent Mora has created a plugin layer that used
>     OpenGL to render to offscreen image and then draw it in map canvas
>     [1] which involved some hacks. With QOpenGLWidget approach I would
>     be quite cautious as it may not work well, or have some strange
>     issues on different platforms. For example, I _think_ the
>     QOpenGLWidget can't be semi-transparent (but I may be wrong), so
>     mixing its content with the rest of the map could be quite tricky...
>
>     Regards
>     Martin
>
>     [1] https://github.com/Oslandia/meshlayer
>
>
>
> -- 
> Eric Younkin
> Physical Scientist
> NOAA OCS,?Hydrographic Systems and Technology Branch
> 1315 East-West Highway
> N/CS11, Room 6604
> Silver Spring, MD 20910
> Office:?240-847-8208
> Cell: 828-331-8197
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
S?bastien Peillet

Ing?nieur d?veloppement
Oslandia
01.88.33.76.86
sebastien.peillet at oslandia.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/89289125/attachment-0001.html>

From wonder.sk at gmail.com  Wed Mar  3 09:38:29 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed, 3 Mar 2021 18:38:29 +0100
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
In-Reply-To: <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>
References: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
 <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>
 <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>
Message-ID: <CAC2XbFfAgQUjt7SBdQEmjsrw1F4wfJphqosJvrkr2bJkj1fS1g@mail.gmail.com>

Hi Eric

On Wed, Mar 3, 2021 at 5:48 PM Eric Younkin - NOAA Federal <
eric.g.younkin at noaa.gov> wrote:

> Thanks for the quick reply.  This is for NOAA nautical chart symbology,
> following the s57/s52 spec.  You can see the symbology in the online viewer
> here <https://www.nauticalcharts.noaa.gov/ENCOnline/enconline.html>.  It
> is basically a very complex spec that we generated for display in a
> wxPython widget a long time ago using GDAL 1.x commands.  S57 is already an
> existing OGR driver, although I do not know what exactly that driver does.
> I do know that it does not somehow generate the symbology of the data for
> you to then render.
>
> The vector data would be a combination of area/line/point features, and I
> don't think it would be a fit for the Mesh layer.
>
> We'd like to make this symbology available in QGIS, so that users can drag
> in a s57 file and view the chart.  You can use one of our WMS services, but
> having the file support would be useful.  Ideally in a plugin layer, so
> that I can also use it in our other apps that use PYQGIS QgsMapCanvas
> widgets.
>

Thanks for more background. In this case the mesh layer indeed is not
useful. I have not worked with S57 before, but if there is OGR driver
available, it should be relatively easy to load and style the data without
a plugin layer. You do not need to rely on styling provided by OGR (if
provided at all). It looks like you only need to load the data as a bunch
of vector layers using OGR (one for each object type) and then apply
styling to those individual layers. Styling of vector layers in QGIS is
fairly strong, with features like rule-based rendering, data-defined
properties and geometry generators you can handle even very complex styles.
After preparing individual styles for vector layers, you can save them to
.qml files, and then your plugin would have just a simple task of taking
the input file(s), load layers and apply saved styles.

I would resort to writing a custom plugin layer only when when all other
options fail - it is more complex, and generally the user experience is not
great.

Regards
Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/c8e06f62/attachment.html>

From eric.g.younkin at noaa.gov  Wed Mar  3 10:02:11 2021
From: eric.g.younkin at noaa.gov (Eric Younkin - NOAA Federal)
Date: Wed, 3 Mar 2021 13:02:11 -0500
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
In-Reply-To: <CAC2XbFfAgQUjt7SBdQEmjsrw1F4wfJphqosJvrkr2bJkj1fS1g@mail.gmail.com>
References: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
 <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>
 <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>
 <CAC2XbFfAgQUjt7SBdQEmjsrw1F4wfJphqosJvrkr2bJkj1fS1g@mail.gmail.com>
Message-ID: <CAFe6qKjB4=aFzYf0Qfz9=-S+0jHuxtLhGvUFE8uvY3U6=u3rbQ@mail.gmail.com>

All,

This is very useful, thanks.  The S57 driver does appear to give the layers
by names that I recognize:

INFO: Open of `C:\collab\dasktest\data_dir\13238_FFF.000'
      using driver `S57' successful.
1: DSID (None)
2: LNDARE
3: LNDELV
4: SBDARE
5: UWTROC (Point)

I've found the QML format spec here
<https://docs.qgis.org/3.16/en/docs/user_manual/appendices/qgis_file_formats.html>,
but is there any guidance on starting from scratch?  Thanks again for all
the help.

Eric


On Wed, Mar 3, 2021 at 12:38 PM Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi Eric
>
> On Wed, Mar 3, 2021 at 5:48 PM Eric Younkin - NOAA Federal <
> eric.g.younkin at noaa.gov> wrote:
>
>> Thanks for the quick reply.  This is for NOAA nautical chart symbology,
>> following the s57/s52 spec.  You can see the symbology in the online viewer
>> here <https://www.nauticalcharts.noaa.gov/ENCOnline/enconline.html>.  It
>> is basically a very complex spec that we generated for display in a
>> wxPython widget a long time ago using GDAL 1.x commands.  S57 is already an
>> existing OGR driver, although I do not know what exactly that driver does.
>> I do know that it does not somehow generate the symbology of the data for
>> you to then render.
>>
>> The vector data would be a combination of area/line/point features, and I
>> don't think it would be a fit for the Mesh layer.
>>
>> We'd like to make this symbology available in QGIS, so that users can
>> drag in a s57 file and view the chart.  You can use one of our WMS
>> services, but having the file support would be useful.  Ideally in a plugin
>> layer, so that I can also use it in our other apps that use PYQGIS QgsMapCanvas
>> widgets.
>>
>
> Thanks for more background. In this case the mesh layer indeed is not
> useful. I have not worked with S57 before, but if there is OGR driver
> available, it should be relatively easy to load and style the data without
> a plugin layer. You do not need to rely on styling provided by OGR (if
> provided at all). It looks like you only need to load the data as a bunch
> of vector layers using OGR (one for each object type) and then apply
> styling to those individual layers. Styling of vector layers in QGIS is
> fairly strong, with features like rule-based rendering, data-defined
> properties and geometry generators you can handle even very complex styles.
> After preparing individual styles for vector layers, you can save them to
> .qml files, and then your plugin would have just a simple task of taking
> the input file(s), load layers and apply saved styles.
>
> I would resort to writing a custom plugin layer only when when all other
> options fail - it is more complex, and generally the user experience is not
> great.
>
> Regards
> Martin
>
>

-- 
Eric Younkin
Physical Scientist
NOAA OCS, Hydrographic Systems and Technology Branch
1315 East-West Highway
N/CS11, Room 6604
Silver Spring, MD 20910
Office: 240-847-8208
Cell: 828-331-8197
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/b16f603c/attachment.html>

From bernd.vogelgesang at gmx.de  Wed Mar  3 10:07:47 2021
From: bernd.vogelgesang at gmx.de (Bernd Vogelgesang)
Date: Wed, 3 Mar 2021 19:07:47 +0100
Subject: [QGIS-Developer] Filter by expression in Report(s)
In-Reply-To: <a60472a3-cdad-66b3-0e07-0c2d3d528739@gmail.com>
References: <a60472a3-cdad-66b3-0e07-0c2d3d528739@gmail.com>
Message-ID: <3f8e7766-4084-ca9a-c434-a0b7de4a6e51@gmx.de>

Hi Matteo,

there is already a "whishlist" from Nyall concerning Reports:

** Reports **
- Expression based filters for sections
- Expression based custom sort order for field groups
- Relation based sections (repeat section for all related features)
- Support ?aggregated? geometries for headers/footers in sections
- Support for non-full page repeating sections
- Support for "expanding" content (.e.g label items which grow to fit
the available text, causing the section's size to vary
feature-by-feature) (this one continues on from the previous point)
- Reorder report sections via drag and drop
- Add user-defined notes to sections describing the logic (not
included in the outputs, only visible while designing the report)
- Copy/paste groups and sections between different reports (or for
duplicating within the same report)

(from conversation on september 16 on qgis-user) and this query on
github:
https://github.com/qgis/QGIS/issues?q=is%3Aopen+is%3Aissue+label%3AReports

Have not checked yet if there was already progress on this.

Cheers,

Bernd



On 03.03.21 17:16, matteo wrote:
> Hi devs,
>
> I think this is a feature request, but I'm unsure. In the Report
> Layout when adding a layer in a "Field Group Sections" within another
> "Field Group Sections", the layers must have a field in common that is
> used to filter the features.
>
> If not, one can use the "join attributes by location" or create a
> virtual field with an aggregate expression.
>
> Is there any interest to add a Expression Combobox instead of a Field
> Combobox in the Report Layout to filter the features "live"?
>
> Or is there a simpler way I'm missing? :)
>
> Cheers and thanks
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From marco at qgis.org  Wed Mar  3 15:06:31 2021
From: marco at qgis.org (Marco Bernasocchi)
Date: Thu, 4 Mar 2021 00:06:31 +0100
Subject: [QGIS-Developer] Release Cycle update
Message-ID: <CAB2ZMRCnd+Eb+z6--9pQr7gcMX5q2iLL1NJT6qfyg=MPfPV3_w@mail.gmail.com>

Dear developers,

following up on the 3.18.0 release issue discussion [1] and my proposal
there [2], at yesterday's PSC meeting we prepared an updated release and
communication plan.

We think that adding release candidates would benefit the project a lot
since we would not be shipping code that has not been tested at large and
we would have a simple way to tell people that we're getting a new version
ready and it is now time to test it heavily.

QGIS has clearly grown a lot in the years and has become indispensable for
many users this is why we think we should do everything in our power to
deliver the best possible product.
With the addition of the release candidates in our regular release plan, we
want to take a further step in this direction and underpin the great
testing efforts driven by the community.

Unless strong objections are risen here, the new release plan beginning
with 3.20 will look like this:

Release plan:

   - .0 packages will be called ?release candidate? allowing us to improve
   expectation management and collect user feedback
   - during the .0 release candidate period, the release is first branched
   and master un-frozen to allow the next cycle development to start
   - The splash screen will include ?release candidate?
   - .1 would be the first ?proper? release


Communication schedule:

   - .0 release ? social media posts
   - .0 packages ready ? ?release candidate? blog post including visual
   changelog and call for testing and social media posts
   - .1 packages ready ? ?release? blog post and social media posts


Example with 3.20
2021-05-14

   - release of 3.16.7 (LTR)
   - release of 3.18.3
   - feature freeze in master

2021-06-18

   - release of 3.16.8 (LTR)
   - no 3.18.4 release
   - release of 3.20.0 Release candidate -> Release candidate communication
   - feature Unfreeze in master

2021-07-16

   - possibility to release a second release candidate

2021-07-16

   - release of 3.16.9 (LTR)
   - release of 3.20.1 -> Release communication

I'd like to take the opportunity to thanks everyone that gave feedback in
the above-mentioned threads thus allowing us to come up quickly with the
new schedule.

Cheers
Marco

[1] https://lists.osgeo.org/pipermail/qgis-psc/2021-February/009264.html
[2] https://lists.osgeo.org/pipermail/qgis-psc/2021-March/009293.html
-- 
Marco Bernasocchi

QGIS.org Chair
OPENGIS.ch CEO
http://berna.io
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/d94fb441/attachment.html>

From gdt at lexort.com  Wed Mar  3 16:21:29 2021
From: gdt at lexort.com (Greg Troxel)
Date: Wed, 03 Mar 2021 19:21:29 -0500
Subject: [QGIS-Developer] Release Cycle update
In-Reply-To: <CAB2ZMRCnd+Eb+z6--9pQr7gcMX5q2iLL1NJT6qfyg=MPfPV3_w@mail.gmail.com>
 (Marco Bernasocchi's message of "Thu, 4 Mar 2021 00:06:31 +0100")
References: <CAB2ZMRCnd+Eb+z6--9pQr7gcMX5q2iLL1NJT6qfyg=MPfPV3_w@mail.gmail.com>
Message-ID: <rmir1kvahva.fsf@s1.lexort.com>


Marco Bernasocchi <marco at qgis.org> writes:

I'm writing with my packager hat on (pkgsrc), mostly, although I'm also
a user.

> We think that adding release candidates would benefit the project a lot
> since we would not be shipping code that has not been tested at large and
> we would have a simple way to tell people that we're getting a new version
> ready and it is now time to test it heavily.

That's great.  The really hard part is getting people to test before a
release, and this will probably help.

> Release plan:
>
>    - .0 packages will be called ?release candidate? allowing us to improve
>    expectation management and collect user feedback
>    - during the .0 release candidate period, the release is first branched
>    and master un-frozen to allow the next cycle development to start
>    - The splash screen will include ?release candidate?
>    - .1 would be the first ?proper? release

I don't think that naming plan is good, because it's contrary to what
everybody knows about release numbering.  3.20.0 is obviously a real
release to many, even if you say it isn't (and therefore it actually
isn't).

There's been a problem in the world of a proliferation of version
formats.  Long ago, GNU autotools had a great scheme where the release
leading up to 3.20 would be

3.19.80		alpha
3.19.81
3.19.90		beta
3.19.91

but it seems nobody uses this.  The great thing is that they sort
correctly.

The new scheme is to call

3.20a1
3.20a2
3.20b1
3.20b2
3.20b3
3.20rc1
3.20rc2

The advantage of using this is that it's really obvious (to those that
are used to release candidates in general) that rc1 is a release
candidate.  And, packaging systems have had to deal with this for
others, and using the exact same scheme means no special-case coding for
qgis.

When I can, I update pkgsrc locally to an rc (and don't publish it).
I'm doing this for two programs I'm an upstream maintainer of, and I
have often done it for postgis.  That means that I've tested the entire
source tarball to package path, and then run the package.  qgis is so
big, and I'm not as active, so I don't quite get to this.  But I think a
number of people will.

So really the only quibble I have is that if something is an RC, name it
with rcN, rather than declaring that qgis is going to use version
numbers to use what everybody else knows (without reading your
definition) mean something else.



As an aisde, a reason I would find this hard to deal with is that the
qgis data package format seems to change with every release and I've
seen the notion that e.g. if I'm working in 3.16.4 on something and I
open it with 3.20.0rc1 and change something trivial and save it, I won't
be able to open with 3.16.4.  I realize this would be hard but I would
like to see write support for the previous formats, with upgrade only
when requested.   I may be off base or out of date, in which case please
ignore me.   But I think it would be good to articulate and document how
to test new versions without messing up existing data.

Greg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210303/9bfeae32/attachment.sig>

From t.janvier at brgm.fr  Thu Mar  4 02:46:26 2021
From: t.janvier at brgm.fr (Janvier Thomas)
Date: Thu, 4 Mar 2021 10:46:26 +0000
Subject: [QGIS-Developer] [PyQGIS] Unexpected crash using:
 QgsFeatureRenderer.symbolForFeature()
Message-ID: <VI1P190MB065514D3DEC0BF3BFB1C6A88ED979@VI1P190MB0655.EURP190.PROD.OUTLOOK.COM>

Hi,

I got an issue with SIP python bindings...
I'm looking to loop over QgsVectorLayer features to convert geometries to mesh primitives (cells) ...

I had a first problem with the non-const (unexpected crash about SIP methods)
for part in feature.geometry().parts():
that I solved using the const one
 for p in f.geometry().constParts():

But now I'm facing a similar crash when trying to identify the symbol/category/legendKey of each feature
(the aim is to add the legendKey as a cell attribute to link color/LUT between the mesh and vectorlayer)
I do it this way:
layer.renderer().symbolForFeature(feature, context)

But ends up with a :

Crash ID: cb1c4f2b11cbd392a38c522a5ed1e194e060e4a0


Stack Trace


QgsExpression::evaluate :
QgsCategorizedSymbolRenderer::valueForFeature :
QgsCategorizedSymbolRenderer::originalSymbolForFeature :
PyInit__core :
PyMethodDef_RawFastCallKeywords :
PyMethodDef_RawFastCallKeywords :
PyEval_EvalFrameDefault :
PyEval_EvalCodeWithName :

I opened an Issue here (not sure this is relevant):
Unexpected crash using: QgsFeatureRenderer.symbolForFeature() * Issue #68 * qgis/pyqgis (github.com)<https://github.com/qgis/pyqgis/issues/68>


Thanks a lot
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/eb30fc43/attachment-0001.html>

From rdmailings at duif.net  Thu Mar  4 02:52:41 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 4 Mar 2021 11:52:41 +0100
Subject: [QGIS-Developer] [PyQGIS] Unexpected crash using:
 QgsFeatureRenderer.symbolForFeature()
In-Reply-To: <VI1P190MB065514D3DEC0BF3BFB1C6A88ED979@VI1P190MB0655.EURP190.PROD.OUTLOOK.COM>
References: <VI1P190MB065514D3DEC0BF3BFB1C6A88ED979@VI1P190MB0655.EURP190.PROD.OUTLOOK.COM>
Message-ID: <990d7c38-a08c-3c21-b703-bead2a4f11b9@duif.net>

On 3/4/21 11:46 AM, Janvier Thomas wrote:
> ?
> I opened an Issue here (not sure this is relevant):
> Unexpected crash using: QgsFeatureRenderer.symbolForFeature() ? Issue #68 ? qgis/pyqgis (github.com) <https://github.com/qgis/pyqgis/issues/68>

Hi Janvier,

FYI: that issue tracker is for the pyqgis documentation builder. 
Better just use https://github.com/qgis/qgis/issues

Maybe pyqgis repo should be renamed to pyqgis-documentation or so?

Regards,

Richard Duivenvoorde


From benjamin.jakimow at geo.hu-berlin.de  Thu Mar  4 03:17:17 2021
From: benjamin.jakimow at geo.hu-berlin.de (Benjamin Jakimow)
Date: Thu, 4 Mar 2021 12:17:17 +0100
Subject: [QGIS-Developer] [PyQGIS] Unexpected crash using:
 QgsFeatureRenderer.symbolForFeature()
In-Reply-To: <VI1P190MB065514D3DEC0BF3BFB1C6A88ED979@VI1P190MB0655.EURP190.PROD.OUTLOOK.COM>
References: <VI1P190MB065514D3DEC0BF3BFB1C6A88ED979@VI1P190MB0655.EURP190.PROD.OUTLOOK.COM>
Message-ID: <9c307c86-4a74-6ca3-db51-c29bde2ec80b@geo.hu-berlin.de>

Hi Janvier,

maybee you need to use it within a startRender and stopRender section:

renderContext = QgsRenderContext()
renderContext.setExtent(layer.extent())
renderer = layer.renderer().clone()
renderer.startRender(renderContext, layer.fields())
features = layer.getFeatures(fids)
for i, featurein enumerate(features):
     symbol = renderer.symbolForFeature(feature, renderContext)
     # ... renderer.stopRender(renderContext)

Greetings, Benjamin

Am 04/03/2021 um 11:46 schrieb Janvier Thomas:
>
> Hi,
>
>
> I got an issue with SIP python bindings?
> I?m looking to loop over QgsVectorLayer features to convert geometries 
> to mesh primitives (cells) ?
>
> I had a first problem with the non-const (unexpected crash about SIP 
> methods)
> |for part in feature.geometry().parts():|
> that I solved using the const one
> |for p in f.geometry().constParts():|
>
> ||
>
> But now I?m facing a similar crash when trying to identify the 
> symbol/category/legendKey of each feature
> (the aim is to add the legendKey as a cell attribute to link color/LUT 
> between the mesh and vectorlayer)
>
> I do it this way:
> layer.renderer().symbolForFeature(feature, context)
>
> But ends up with a :
>
> Crash ID: cb1c4f2b11cbd392a38c522a5ed1e194e060e4a0
>
> Stack Trace
>
> QgsExpression::evaluate :
>
> QgsCategorizedSymbolRenderer::valueForFeature :
>
> QgsCategorizedSymbolRenderer::originalSymbolForFeature :
>
> PyInit__core :
>
> PyMethodDef_RawFastCallKeywords :
>
> PyMethodDef_RawFastCallKeywords :
>
> PyEval_EvalFrameDefault :
>
> PyEval_EvalCodeWithName :
>
> I opened an Issue here (not sure this is relevant):
> Unexpected crash using: QgsFeatureRenderer.symbolForFeature() ? Issue 
> #68 ? qgis/pyqgis (github.com) <https://github.com/qgis/pyqgis/issues/68>
>
> Thanks a lot
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6846
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'211
web:    https://hu-berlin.de/eo-lab

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/1691cbf8/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5422 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/1691cbf8/attachment.bin>

From wonder.sk at gmail.com  Thu Mar  4 05:50:11 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 4 Mar 2021 14:50:11 +0100
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
In-Reply-To: <CAFe6qKjB4=aFzYf0Qfz9=-S+0jHuxtLhGvUFE8uvY3U6=u3rbQ@mail.gmail.com>
References: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
 <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>
 <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>
 <CAC2XbFfAgQUjt7SBdQEmjsrw1F4wfJphqosJvrkr2bJkj1fS1g@mail.gmail.com>
 <CAFe6qKjB4=aFzYf0Qfz9=-S+0jHuxtLhGvUFE8uvY3U6=u3rbQ@mail.gmail.com>
Message-ID: <CAC2XbFfWuJKY7_vNSq4nvw0HQa2B6VQEg_LhPqbAhi5CkQSm=A@mail.gmail.com>

Hi Eric

I don't know about the S57 driver, best to ask on the gdal mailing list
about that...

As for QML format... you should not try to read/write raw XML data of QML
files: although that happens rarely, the format may change between versions
of QGIS as the schema is not guaranteed to be stable and it should be
considered as an implementation detail of QGIS. To prepare QML files, the
two preferred ways are:
1. GUI - use QGIS app to set up styling of the map layer
2. Python API - use PyQGIS library to create renderer (e.g.
QgsSingleSymbolRenderer) and symbol (e.g. QgsMarkerSymbol) objects and
assign them to a map layer
Then to save the QML file, you can again either use GUI (layer properties
dialog) or use Python API (QgsMapLayer.saveNamedStyle(...))

Regards
Martin


On Wed, Mar 3, 2021 at 7:02 PM Eric Younkin - NOAA Federal <
eric.g.younkin at noaa.gov> wrote:

> All,
>
> This is very useful, thanks.  The S57 driver does appear to give the
> layers by names that I recognize:
>
> INFO: Open of `C:\collab\dasktest\data_dir\13238_FFF.000'
>       using driver `S57' successful.
> 1: DSID (None)
> 2: LNDARE
> 3: LNDELV
> 4: SBDARE
> 5: UWTROC (Point)
>
> I've found the QML format spec here
> <https://docs.qgis.org/3.16/en/docs/user_manual/appendices/qgis_file_formats.html>,
> but is there any guidance on starting from scratch?  Thanks again for all
> the help.
>
> Eric
>
>
> On Wed, Mar 3, 2021 at 12:38 PM Martin Dobias <wonder.sk at gmail.com> wrote:
>
>> Hi Eric
>>
>> On Wed, Mar 3, 2021 at 5:48 PM Eric Younkin - NOAA Federal <
>> eric.g.younkin at noaa.gov> wrote:
>>
>>> Thanks for the quick reply.  This is for NOAA nautical chart symbology,
>>> following the s57/s52 spec.  You can see the symbology in the online viewer
>>> here <https://www.nauticalcharts.noaa.gov/ENCOnline/enconline.html>.
>>> It is basically a very complex spec that we generated for display in a
>>> wxPython widget a long time ago using GDAL 1.x commands.  S57 is already an
>>> existing OGR driver, although I do not know what exactly that driver does.
>>> I do know that it does not somehow generate the symbology of the data for
>>> you to then render.
>>>
>>> The vector data would be a combination of area/line/point features, and
>>> I don't think it would be a fit for the Mesh layer.
>>>
>>> We'd like to make this symbology available in QGIS, so that users can
>>> drag in a s57 file and view the chart.  You can use one of our WMS
>>> services, but having the file support would be useful.  Ideally in a plugin
>>> layer, so that I can also use it in our other apps that use PYQGIS QgsMapCanvas
>>> widgets.
>>>
>>
>> Thanks for more background. In this case the mesh layer indeed is not
>> useful. I have not worked with S57 before, but if there is OGR driver
>> available, it should be relatively easy to load and style the data without
>> a plugin layer. You do not need to rely on styling provided by OGR (if
>> provided at all). It looks like you only need to load the data as a bunch
>> of vector layers using OGR (one for each object type) and then apply
>> styling to those individual layers. Styling of vector layers in QGIS is
>> fairly strong, with features like rule-based rendering, data-defined
>> properties and geometry generators you can handle even very complex styles.
>> After preparing individual styles for vector layers, you can save them to
>> .qml files, and then your plugin would have just a simple task of taking
>> the input file(s), load layers and apply saved styles.
>>
>> I would resort to writing a custom plugin layer only when when all other
>> options fail - it is more complex, and generally the user experience is not
>> great.
>>
>> Regards
>> Martin
>>
>>
>
> --
> Eric Younkin
> Physical Scientist
> NOAA OCS, Hydrographic Systems and Technology Branch
> 1315 East-West Highway
> N/CS11, Room 6604
> Silver Spring, MD 20910
> Office: 240-847-8208
> Cell: 828-331-8197
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/7974f167/attachment-0001.html>

From matteo.ghetta at gmail.com  Thu Mar  4 06:23:52 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 4 Mar 2021 15:23:52 +0100
Subject: [QGIS-Developer] Filter by expression in Report(s)
In-Reply-To: <3f8e7766-4084-ca9a-c434-a0b7de4a6e51@gmx.de>
References: <a60472a3-cdad-66b3-0e07-0c2d3d528739@gmail.com>
 <3f8e7766-4084-ca9a-c434-a0b7de4a6e51@gmx.de>
Message-ID: <00b3b3e3-56b6-b6f7-dc5b-423c889c8bb1@gmail.com>

Thanks Bernd for pointing this out, let's see if there are some takers :)

Matteo

From t.janvier at brgm.fr  Thu Mar  4 06:24:12 2021
From: t.janvier at brgm.fr (Janvier Thomas)
Date: Thu, 4 Mar 2021 14:24:12 +0000
Subject: [QGIS-Developer] [PyQGIS] Unexpected crash using:
 QgsFeatureRenderer.symbolForFeature()
Message-ID: <VI1P190MB0655AAA880F6C59E98B0759DED979@VI1P190MB0655.EURP190.PROD.OUTLOOK.COM>

Thanks a lot that did the trick !
I'll try to mention it in the doc.



Thomas JANVIER
3D Geomodelling developper
DGR/CIM

3 av. Claude-Guillemin - BP 36009 - 45060 ORL?ANS Cedex 2
Tel.: +33 (0)2 38 64 33 39/ t.janvier at brgm.fr
www.brgm.fr


BRGM - THE FRENCH GEOLOGICAL SURVEY
Newsletter BRGM Infos

?? ??????



-----Message d'origine-----
De?: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de qgis-developer-request at lists.osgeo.org
Envoy??: jeudi 4 mars 2021 14:50
??: qgis-developer at lists.osgeo.org
Objet?: QGIS-Developer Digest, Vol 185, Issue 18

Send QGIS-Developer mailing list submissions to
	qgis-developer at lists.osgeo.org

To subscribe or unsubscribe via the World Wide Web, visit
	https://urldefense.com/v3/__https://lists.osgeo.org/mailman/listinfo/qgis-developer__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6rPFD9Q7$
or, via email, send a message with subject or body 'help' to
	qgis-developer-request at lists.osgeo.org

You can reach the person managing the list at
	qgis-developer-owner at lists.osgeo.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of QGIS-Developer digest..."


Today's Topics:

   1. Re: [PyQGIS] Unexpected crash using:
      QgsFeatureRenderer.symbolForFeature() (Richard Duivenvoorde)
   2. Re: [PyQGIS] Unexpected crash using:
      QgsFeatureRenderer.symbolForFeature() (Benjamin Jakimow)
   3. Re: PYQGIS - OpenGL in QgsPluginLayer (Martin Dobias)


----------------------------------------------------------------------

Message: 1
Date: Thu, 4 Mar 2021 11:52:41 +0100
From: Richard Duivenvoorde <rdmailings at duif.net>
To: Janvier Thomas <t.janvier at brgm.fr>,
	"qgis-developer at lists.osgeo.org" <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] [PyQGIS] Unexpected crash using:
	QgsFeatureRenderer.symbolForFeature()
Message-ID: <990d7c38-a08c-3c21-b703-bead2a4f11b9 at duif.net>
Content-Type: text/plain; charset=windows-1252

On 3/4/21 11:46 AM, Janvier Thomas wrote:
> ?
> I opened an Issue here (not sure this is relevant):
> Unexpected crash using: QgsFeatureRenderer.symbolForFeature() ? Issue 
> #68 ? qgis/pyqgis (github.com) 
> <https://urldefense.com/v3/__https://github.com/qgis/pyqgis/issues/68_
> _;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6t
> __RiXG$ >

Hi Janvier,

FYI: that issue tracker is for the pyqgis documentation builder. 
Better just use https://urldefense.com/v3/__https://github.com/qgis/qgis/issues__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6irQWUQE$ 

Maybe pyqgis repo should be renamed to pyqgis-documentation or so?

Regards,

Richard Duivenvoorde



------------------------------

Message: 2
Date: Thu, 4 Mar 2021 12:17:17 +0100
From: Benjamin Jakimow <benjamin.jakimow at geo.hu-berlin.de>
To: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] [PyQGIS] Unexpected crash using:
	QgsFeatureRenderer.symbolForFeature()
Message-ID: <9c307c86-4a74-6ca3-db51-c29bde2ec80b at geo.hu-berlin.de>
Content-Type: text/plain; charset="windows-1252"; Format="flowed"

Hi Janvier,

maybee you need to use it within a startRender and stopRender section:

renderContext = QgsRenderContext()
renderContext.setExtent(layer.extent())
renderer = layer.renderer().clone()
renderer.startRender(renderContext, layer.fields()) features = layer.getFeatures(fids) for i, featurein enumerate(features):
     symbol = renderer.symbolForFeature(feature, renderContext)
     # ... renderer.stopRender(renderContext)

Greetings, Benjamin

Am 04/03/2021 um 11:46 schrieb Janvier Thomas:
>
> Hi,
>
>
> I got an issue with SIP python bindings?
> I?m looking to loop over QgsVectorLayer features to convert geometries 
> to mesh primitives (cells) ?
>
> I had a first problem with the non-const (unexpected crash about SIP
> methods)
> |for part in feature.geometry().parts():|
> that I solved using the const one
> |for p in f.geometry().constParts():|
>
> ||
>
> But now I?m facing a similar crash when trying to identify the 
> symbol/category/legendKey of each feature (the aim is to add the 
> legendKey as a cell attribute to link color/LUT between the mesh and 
> vectorlayer)
>
> I do it this way:
> layer.renderer().symbolForFeature(feature, context)
>
> But ends up with a :
>
> Crash ID: cb1c4f2b11cbd392a38c522a5ed1e194e060e4a0
>
> Stack Trace
>
> QgsExpression::evaluate :
>
> QgsCategorizedSymbolRenderer::valueForFeature :
>
> QgsCategorizedSymbolRenderer::originalSymbolForFeature :
>
> PyInit__core :
>
> PyMethodDef_RawFastCallKeywords :
>
> PyMethodDef_RawFastCallKeywords :
>
> PyEval_EvalFrameDefault :
>
> PyEval_EvalCodeWithName :
>
> I opened an Issue here (not sure this is relevant):
> Unexpected crash using: QgsFeatureRenderer.symbolForFeature() ? Issue
> #68 ? qgis/pyqgis (github.com) 
> <https://urldefense.com/v3/__https://github.com/qgis/pyqgis/issues/68_
> _;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6t
> __RiXG$ >
>
> Thanks a lot
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: 
> https://urldefense.com/v3/__https://lists.osgeo.org/mailman/listinfo/q
> gis-developer__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3n
> Dd_XZbNJv6Ac6rPFD9Q7$
> Unsubscribe: 
> https://urldefense.com/v3/__https://lists.osgeo.org/mailman/listinfo/q
> gis-developer__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3n
> Dd_XZbNJv6Ac6rPFD9Q7$

--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6846
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'211
web:    https://urldefense.com/v3/__https://hu-berlin.de/eo-lab__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6i6RSCvm$ 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://urldefense.com/v3/__http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/1691cbf8/attachment-0001.html__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6uCqWUTN$ >
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5422 bytes
Desc: S/MIME Cryptographic Signature
URL: <https://urldefense.com/v3/__http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/1691cbf8/attachment-0001.bin__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6te6TV1S$ >

------------------------------

Message: 3
Date: Thu, 4 Mar 2021 14:50:11 +0100
From: Martin Dobias <wonder.sk at gmail.com>
To: Eric Younkin - NOAA Federal <eric.g.younkin at noaa.gov>
Cc: qgis-dev <qgis-developer at lists.osgeo.org>,  Barry Gallagher - NOAA
	Federal <barry.gallagher at noaa.gov>
Subject: Re: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
Message-ID:
	<CAC2XbFfWuJKY7_vNSq4nvw0HQa2B6VQEg_LhPqbAhi5CkQSm=A at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Hi Eric

I don't know about the S57 driver, best to ask on the gdal mailing list about that...

As for QML format... you should not try to read/write raw XML data of QML
files: although that happens rarely, the format may change between versions of QGIS as the schema is not guaranteed to be stable and it should be considered as an implementation detail of QGIS. To prepare QML files, the two preferred ways are:
1. GUI - use QGIS app to set up styling of the map layer 2. Python API - use PyQGIS library to create renderer (e.g.
QgsSingleSymbolRenderer) and symbol (e.g. QgsMarkerSymbol) objects and assign them to a map layer Then to save the QML file, you can again either use GUI (layer properties
dialog) or use Python API (QgsMapLayer.saveNamedStyle(...))

Regards
Martin


On Wed, Mar 3, 2021 at 7:02 PM Eric Younkin - NOAA Federal < eric.g.younkin at noaa.gov> wrote:

> All,
>
> This is very useful, thanks.  The S57 driver does appear to give the 
> layers by names that I recognize:
>
> INFO: Open of `C:\collab\dasktest\data_dir\13238_FFF.000'
>       using driver `S57' successful.
> 1: DSID (None)
> 2: LNDARE
> 3: LNDELV
> 4: SBDARE
> 5: UWTROC (Point)
>
> I've found the QML format spec here
> <https://urldefense.com/v3/__https://docs.qgis.org/3.16/en/docs/user_m
> anual/appendices/qgis_file_formats.html__;!!KbSiYrE!z9gWU7RU0cugBA6s2K
> KJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6jfDAuR6$ >, but is there any guidance on starting from scratch?  Thanks again for all the help.
>
> Eric
>
>
> On Wed, Mar 3, 2021 at 12:38 PM Martin Dobias <wonder.sk at gmail.com> wrote:
>
>> Hi Eric
>>
>> On Wed, Mar 3, 2021 at 5:48 PM Eric Younkin - NOAA Federal < 
>> eric.g.younkin at noaa.gov> wrote:
>>
>>> Thanks for the quick reply.  This is for NOAA nautical chart 
>>> symbology, following the s57/s52 spec.  You can see the symbology in 
>>> the online viewer here <https://urldefense.com/v3/__https://www.nauticalcharts.noaa.gov/ENCOnline/enconline.html__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6iITpKcA$ >.
>>> It is basically a very complex spec that we generated for display in 
>>> a wxPython widget a long time ago using GDAL 1.x commands.  S57 is 
>>> already an existing OGR driver, although I do not know what exactly that driver does.
>>> I do know that it does not somehow generate the symbology of the 
>>> data for you to then render.
>>>
>>> The vector data would be a combination of area/line/point features, 
>>> and I don't think it would be a fit for the Mesh layer.
>>>
>>> We'd like to make this symbology available in QGIS, so that users 
>>> can drag in a s57 file and view the chart.  You can use one of our 
>>> WMS services, but having the file support would be useful.  Ideally 
>>> in a plugin layer, so that I can also use it in our other apps that 
>>> use PYQGIS QgsMapCanvas widgets.
>>>
>>
>> Thanks for more background. In this case the mesh layer indeed is not 
>> useful. I have not worked with S57 before, but if there is OGR driver 
>> available, it should be relatively easy to load and style the data 
>> without a plugin layer. You do not need to rely on styling provided 
>> by OGR (if provided at all). It looks like you only need to load the 
>> data as a bunch of vector layers using OGR (one for each object type) 
>> and then apply styling to those individual layers. Styling of vector 
>> layers in QGIS is fairly strong, with features like rule-based 
>> rendering, data-defined properties and geometry generators you can handle even very complex styles.
>> After preparing individual styles for vector layers, you can save 
>> them to .qml files, and then your plugin would have just a simple 
>> task of taking the input file(s), load layers and apply saved styles.
>>
>> I would resort to writing a custom plugin layer only when when all 
>> other options fail - it is more complex, and generally the user 
>> experience is not great.
>>
>> Regards
>> Martin
>>
>>
>
> --
> Eric Younkin
> Physical Scientist
> NOAA OCS, Hydrographic Systems and Technology Branch
> 1315 East-West Highway
> N/CS11, Room 6604
> Silver Spring, MD 20910
> Office: 240-847-8208
> Cell: 828-331-8197
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://urldefense.com/v3/__http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/7974f167/attachment.html__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6mVyWs4p$ >

------------------------------

Subject: Digest Footer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://urldefense.com/v3/__https://lists.osgeo.org/mailman/listinfo/qgis-developer__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6rPFD9Q7$
Unsubscribe: https://urldefense.com/v3/__https://lists.osgeo.org/mailman/listinfo/qgis-developer__;!!KbSiYrE!z9gWU7RU0cugBA6s2KKJdTYVU2pQZuWdUTNDxYT8jc3nDd_XZbNJv6Ac6rPFD9Q7$ 


------------------------------

End of QGIS-Developer Digest, Vol 185, Issue 18
***********************************************

From Stefan.Giese at wheregroup.com  Thu Mar  4 07:37:15 2021
From: Stefan.Giese at wheregroup.com (Stefan Giese)
Date: Thu, 4 Mar 2021 16:37:15 +0100
Subject: [QGIS-Developer] QGIS does not recognize the CRS when the data is
 provided by SQLServer Database with Esri SDE
Message-ID: <cd66f823-d0c3-d6cb-8d75-5049b787e508@wheregroup.com>

We have a MS SQL Server: Microsoft SQL Server 2016 database with SDE 
from Esri on Windows Server 2012 R2. Loading data into QGIS results in 
the QGIS unkown CRS dialog. If we don't select one CRS the layer is 
displayed with the questionmark for the unknown CRS. But in the layer 
properties the correct CRS is displayed anyway (QGIS: Version 3.12.2 and 
3.16). Does someone knows a solution or workaround?

-- 
Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant
---------------------------------------------
Einladung zum
Mapbender Anwendertreffen
online am 25.03.2021
https://mapbender.org
---------------------------------------------
WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Fon: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/959cc660/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: screenshot_01.jpg
Type: image/jpeg
Size: 15929 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/959cc660/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: screenshot_02.jpg
Type: image/jpeg
Size: 28272 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/959cc660/attachment-0003.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 495 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/959cc660/attachment-0001.sig>

From eric.g.younkin at noaa.gov  Thu Mar  4 11:56:52 2021
From: eric.g.younkin at noaa.gov (Eric Younkin - NOAA Federal)
Date: Thu, 4 Mar 2021 14:56:52 -0500
Subject: [QGIS-Developer] PYQGIS - OpenGL in QgsPluginLayer
In-Reply-To: <CAC2XbFfWuJKY7_vNSq4nvw0HQa2B6VQEg_LhPqbAhi5CkQSm=A@mail.gmail.com>
References: <CAFe6qKiz3RYgsXpa5bFryQX4e+Th-4HVTq_G04fgZMt7enp60A@mail.gmail.com>
 <CAC2XbFdSHAzMKOtNi3pyViVGvU39MzYeVoiHX1wnJOL6FoZ_YQ@mail.gmail.com>
 <CAFe6qKhT0kcDxboadaCNSg-iOm14ViDVrcMGtvh8eh40rORo2w@mail.gmail.com>
 <CAC2XbFfAgQUjt7SBdQEmjsrw1F4wfJphqosJvrkr2bJkj1fS1g@mail.gmail.com>
 <CAFe6qKjB4=aFzYf0Qfz9=-S+0jHuxtLhGvUFE8uvY3U6=u3rbQ@mail.gmail.com>
 <CAC2XbFfWuJKY7_vNSq4nvw0HQa2B6VQEg_LhPqbAhi5CkQSm=A@mail.gmail.com>
Message-ID: <CAFe6qKgNNWDT3yw7J05PuxdqqBOU=ERJJdoDv1-84Q11VKOvOw@mail.gmail.com>

This is great, thanks for the info.  I believe we will be working through
the GUI to do the symbolization.

Thanks,
Eric

On Thu, Mar 4, 2021 at 8:50 AM Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi Eric
>
> I don't know about the S57 driver, best to ask on the gdal mailing list
> about that...
>
> As for QML format... you should not try to read/write raw XML data of QML
> files: although that happens rarely, the format may change between versions
> of QGIS as the schema is not guaranteed to be stable and it should be
> considered as an implementation detail of QGIS. To prepare QML files, the
> two preferred ways are:
> 1. GUI - use QGIS app to set up styling of the map layer
> 2. Python API - use PyQGIS library to create renderer (e.g.
> QgsSingleSymbolRenderer) and symbol (e.g. QgsMarkerSymbol) objects and
> assign them to a map layer
> Then to save the QML file, you can again either use GUI (layer properties
> dialog) or use Python API (QgsMapLayer.saveNamedStyle(...))
>
> Regards
> Martin
>
>
> On Wed, Mar 3, 2021 at 7:02 PM Eric Younkin - NOAA Federal <
> eric.g.younkin at noaa.gov> wrote:
>
>> All,
>>
>> This is very useful, thanks.  The S57 driver does appear to give the
>> layers by names that I recognize:
>>
>> INFO: Open of `C:\collab\dasktest\data_dir\13238_FFF.000'
>>       using driver `S57' successful.
>> 1: DSID (None)
>> 2: LNDARE
>> 3: LNDELV
>> 4: SBDARE
>> 5: UWTROC (Point)
>>
>> I've found the QML format spec here
>> <https://docs.qgis.org/3.16/en/docs/user_manual/appendices/qgis_file_formats.html>,
>> but is there any guidance on starting from scratch?  Thanks again for all
>> the help.
>>
>> Eric
>>
>>
>> On Wed, Mar 3, 2021 at 12:38 PM Martin Dobias <wonder.sk at gmail.com>
>> wrote:
>>
>>> Hi Eric
>>>
>>> On Wed, Mar 3, 2021 at 5:48 PM Eric Younkin - NOAA Federal <
>>> eric.g.younkin at noaa.gov> wrote:
>>>
>>>> Thanks for the quick reply.  This is for NOAA nautical chart symbology,
>>>> following the s57/s52 spec.  You can see the symbology in the online viewer
>>>> here <https://www.nauticalcharts.noaa.gov/ENCOnline/enconline.html>.
>>>> It is basically a very complex spec that we generated for display in a
>>>> wxPython widget a long time ago using GDAL 1.x commands.  S57 is already an
>>>> existing OGR driver, although I do not know what exactly that driver does.
>>>> I do know that it does not somehow generate the symbology of the data for
>>>> you to then render.
>>>>
>>>> The vector data would be a combination of area/line/point features, and
>>>> I don't think it would be a fit for the Mesh layer.
>>>>
>>>> We'd like to make this symbology available in QGIS, so that users can
>>>> drag in a s57 file and view the chart.  You can use one of our WMS
>>>> services, but having the file support would be useful.  Ideally in a plugin
>>>> layer, so that I can also use it in our other apps that use PYQGIS QgsMapCanvas
>>>> widgets.
>>>>
>>>
>>> Thanks for more background. In this case the mesh layer indeed is not
>>> useful. I have not worked with S57 before, but if there is OGR driver
>>> available, it should be relatively easy to load and style the data without
>>> a plugin layer. You do not need to rely on styling provided by OGR (if
>>> provided at all). It looks like you only need to load the data as a bunch
>>> of vector layers using OGR (one for each object type) and then apply
>>> styling to those individual layers. Styling of vector layers in QGIS is
>>> fairly strong, with features like rule-based rendering, data-defined
>>> properties and geometry generators you can handle even very complex styles.
>>> After preparing individual styles for vector layers, you can save them to
>>> .qml files, and then your plugin would have just a simple task of taking
>>> the input file(s), load layers and apply saved styles.
>>>
>>> I would resort to writing a custom plugin layer only when when all other
>>> options fail - it is more complex, and generally the user experience is not
>>> great.
>>>
>>> Regards
>>> Martin
>>>
>>>
>>
>> --
>> Eric Younkin
>> Physical Scientist
>> NOAA OCS, Hydrographic Systems and Technology Branch
>> 1315 East-West Highway
>> N/CS11, Room 6604
>> Silver Spring, MD 20910
>> Office: 240-847-8208
>> Cell: 828-331-8197
>>
>

-- 
Eric Younkin
Physical Scientist
NOAA OCS, Hydrographic Systems and Technology Branch
1315 East-West Highway
N/CS11, Room 6604
Silver Spring, MD 20910
Office: 240-847-8208
Cell: 828-331-8197
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210304/2a07b33e/attachment.html>

From lorenzetti at gis3w.it  Fri Mar  5 01:48:45 2021
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Fri, 5 Mar 2021 10:48:45 +0100
Subject: [QGIS-Developer] MSSQL error
Message-ID: <e0d379a5-33af-c836-2ea7-7cf18e99c957@gis3w.it>

Hi list,

Im on ubuntu 18.04 and QGIS 3.16.4.

When I try to load a MSSQL connectioj I get the seguent error:

Errore apertura connessione : [unixODBC][Driver Manager]Can't open lib 
'FreeTDS' : file not found QODBC3: Connessione non riuscita

On my host I have the segunet packages:

libqt5sql5-odbc tdsodbc libqt5sql5-tds msodbcsql17 mssql-tools

Any idea about it?

Thanks in advance

W

-- 

Walter Lorenzetti phD email: lorenzetti at gis3w.it skype: aiki74 
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti> g+:aiki74 
<https://plus.google.com/117055903318462447104/> Tel/Cell: (+39) 
347-6597931 Viale Verdi 24 - 51016 Montecatini Terme (PT) Nuovi corsi 
QGIS e GFOSS <http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210305/eb4555b2/attachment.html>

From lorenzetti at gis3w.it  Fri Mar  5 02:18:18 2021
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Fri, 5 Mar 2021 11:18:18 +0100
Subject: [QGIS-Developer] MSSQL error
In-Reply-To: <e0d379a5-33af-c836-2ea7-7cf18e99c957@gis3w.it>
References: <e0d379a5-33af-c836-2ea7-7cf18e99c957@gis3w.it>
Message-ID: <eeedf0d2-5dc3-705b-8fb1-e39163000f20@gis3w.it>

Sorry I found the problem, I don't set correct Provider/DNS.

Thanks

W

Il 05/03/21 10:48, Walter Lorenzetti ha scritto:
>
> Hi list,
>
> Im on ubuntu 18.04 and QGIS 3.16.4.
>
> When I try to load a MSSQL connectioj I get the seguent error:
>
> Errore apertura connessione : [unixODBC][Driver Manager]Can't open lib 
> 'FreeTDS' : file not found QODBC3: Connessione non riuscita
>
> On my host I have the segunet packages:
>
> libqt5sql5-odbc tdsodbc libqt5sql5-tds msodbcsql17 mssql-tools
>
> Any idea about it?
>
> Thanks in advance
>
> W
>
> -- 
>
> Walter Lorenzetti phD email: lorenzetti at gis3w.it skype: aiki74 
> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti> g+:aiki74 
> <https://plus.google.com/117055903318462447104/> Tel/Cell: (+39) 
> 347-6597931 Viale Verdi 24 - 51016 Montecatini Terme (PT) Nuovi corsi 
> QGIS e GFOSS <http://gis3w.it/it/calendario-corsi-software-geografici>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-- 

Walter Lorenzetti phD email: lorenzetti at gis3w.it skype: aiki74 
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti> g+:aiki74 
<https://plus.google.com/117055903318462447104/> Tel/Cell: (+39) 
347-6597931 Viale Verdi 24 - 51016 Montecatini Terme (PT) Nuovi corsi 
QGIS e GFOSS <http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210305/6a757b17/attachment.html>

From rdmailings at duif.net  Fri Mar  5 06:40:56 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 5 Mar 2021 15:40:56 +0100
Subject: [QGIS-Developer] QGIS WMS provider firing too many requests !?
 Now: WMTS
In-Reply-To: <e6355624-6079-f36a-6f9d-9065e26bb656@duif.net>
References: <2b8f9aca-d802-839b-9da8-2de96e96b8d1@duif.net>
 <f7ee0dd1-5340-eb84-e492-c6022f25c8b5@gatewaygeomatics.com>
 <0b5a26e7a6e37c6035c5ce7f1e0bd4df@posteo.de>
 <d7879272-d60d-fa12-b3c4-073b2cdc78fe@duif.net>
 <CAB28AsiooHfpvgsRb2pBGiE2Zd=HC4Ta5Sx1dTs9e03OKyG4=w@mail.gmail.com>
 <e6355624-6079-f36a-6f9d-9065e26bb656@duif.net>
Message-ID: <026e15bd-f55a-d235-9a7b-f7f515371ccc@duif.net>

On 2/26/21 10:35 AM, Richard Duivenvoorde wrote:
> As said, I haven't checked WMTS precisely (I did for WMS) but try:
> https://geodata.nationaalgeoregister.nl/wmts?VERSION=1.0.0&request=GetCapabilities
> and open the layer 'opentopo'.
> 
> For my mapcanvas of 1000x1000 pixels (theoretically 4x4=16 tiles of 256x256pixels, but say 6x6=36). 
> If I zoom in I fire a >176 requests.
> I would be Ok to have no prefetching at all for services, just to save the earth a little :-)
> 
> I agree that 'polluting' the interface with options is a good argument. An option then would be to make it a hidden/advanced setting, which I can disable (or others have to enable... how user/environmental friendly do we want to be).

I decided that it was not wise to defaulting to requesting that much tiles, not even for WMTS, and created an Pull Request for it:

https://github.com/qgis/QGIS/pull/41953

I hope I do not offend people with this.
Alternative would be that we keep the prefetching defaulting to true, and make it possible to set it to false.

Regards,

Richard Duivenvoorde



From anitagraser at gmx.at  Fri Mar  5 11:10:19 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Fri, 5 Mar 2021 20:10:19 +0100
Subject: [QGIS-Developer] Call for Grant Proposals 2021
In-Reply-To: <aab76151-d420-db53-53eb-1e2bde525992@gmx.at>
References: <aab76151-d420-db53-53eb-1e2bde525992@gmx.at>
Message-ID: <e954306c-cb81-eb03-e560-c76f3023fa1d@gmx.at>

Hi,

This is a friendly reminder that you have two more weeks to apply for a
grant:

https://blog.qgis.org/2021/02/21/qgis-grants-6-call-for-grant-proposals-2021/


Regards,

Anita


On 21.02.2021 10:28, Anita Graser wrote:
> Dear QGIS Community,
>
> We are very pleased to announce that this year?s round of grants is
> now available:
>
> https://blog.qgis.org/2021/02/21/qgis-grants-6-call-for-grant-proposals-2021/
>
>
> The call is open to anybody who wants to make a funded contribution to
> QGIS, subject to the call conditions outlined in the application form:
>
> https://forms.gle/5h1XJc3nUTZP4Axh7
>
> The deadline for this round is 21st March 2021.
>
> Regards,
>
> Anita
>

From senhor.neto at gmail.com  Sat Mar  6 02:33:11 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Sat, 6 Mar 2021 10:33:11 +0000
Subject: [QGIS-Developer] WITH_PDAL and WITH_EPT doubt
In-Reply-To: <CA+H0G_GR0_=bCx9jc=OApeWnKjk4O5T9Niojn4OYMN3HNCAByw@mail.gmail.com>
References: <CA+H0G_GiV_zRzmjpOxMxLZ15Jc-JFdEuTy97jag+yFTgWD1BZw@mail.gmail.com>
 <CAB28Asj=C3Kd3p=96E-T2D2gET=SOQEzir4xBDQ8RYbmj87H8A@mail.gmail.com>
 <CA+H0G_GU9Dq1m6zaxReGtZafKtZda2LS9_xkKOtEEt0LMpbvOA@mail.gmail.com>
 <CA+H0G_GgWnHMam=E2yC-rA+mhvq9R4aoOWFyvZnH4MBEqnPPtQ@mail.gmail.com>
 <CACAuT+9jgJMawVvN=8qN_0NktBZPbpxJisvLb-DXLcjnWKRa_w@mail.gmail.com>
 <CA+H0G_GR0_=bCx9jc=OApeWnKjk4O5T9Niojn4OYMN3HNCAByw@mail.gmail.com>
Message-ID: <CA+H0G_F+eboVYjNNEgT7kO5UvEcjj3qxYvpKg0Bm3Pz=evjy+g@mail.gmail.com>

Sorry for the basic questions, I was about to say. I am lagging a bit on
all this point cloud business, but I wanted to make it available on
conda-forge.

Thanks,

Alexandre Neto


A s?bado, 6/03/2021, 09:53, Alexandre Neto <senhor.neto at gmail.com> escreveu:

> Hi Sylvain,
>
> Thank you for you answer. Yes, the build in conda is building untwine for
> sure. I know because the windows build is failing there. So that's a result
> of with_ept=true?
>
>  entwine or untwine serve the same purpose? Is there a prefered one?
>
> If I build using WITH_EPT = true, does it make sense to install entwine
> (from packaging system) anyway? Or, in that case, I should use WITH_EPT =
> FALSE?
>
> Sorry for
>
> A s?bado, 6/03/2021, 09:28, Sylvain POULAIN <sylvain.poulain at giscan.com>
> escreveu:
>
>> Hi Alexandre,
>>
>> When you build qgis with cmake, it will build untwine (not entwine) in
>> qgis structure.
>> I guess it could be the same with conda but not tested.
>>
>> Regards,
>>
>> *Sylvain*
>>
>>
>> Le mer. 3 mars 2021 ? 12:46, Alexandre Neto <senhor.neto at gmail.com> a
>> ?crit :
>>
>>> Hello again,
>>>
>>> Does this mean that, if entwine isn't present in the system, the
>>> compilation won't fail or complaint, but some functionality will be missing?
>>>
>>> Should I include entwine as a dependency for 3.18.0 on conda-forge?
>>>
>>> Thanks,
>>> Alexandre
>>>
>>> A quarta, 3/03/2021, 03:40, Alexandre Neto <senhor.neto at gmail.com>
>>> escreveu:
>>>
>>>> Great, thanks!
>>>>
>>>> A quarta, 3/03/2021, 02:03, Nyall Dawson <nyall.dawson at gmail.com>
>>>> escreveu:
>>>>
>>>>> On Wed, 3 Mar 2021 at 11:59, Alexandre Neto <senhor.neto at gmail.com>
>>>>> wrote:
>>>>> >
>>>>> > Hi,
>>>>> >
>>>>> > I am trying to add point cloud support to QGIS on conda-forge [0],
>>>>> but I am unsure if I need to use
>>>>> > WITH_PDAL=TRUE
>>>>>
>>>>> yes, you'll need to add this even if you have pdal library available.
>>>>> it defaults to false to avoid breaking the compilation if pdal isn't
>>>>> available (and we want explicit breaks here rather than silently
>>>>> compiling without pdal provider if the library isn't found).
>>>>>
>>>>> > and WITH_EPT=TRUE
>>>>>
>>>>> That defaults to true anyway, so you can omit it if you want.
>>>>>
>>>>> Nyall
>>>>>
>>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210306/1027672b/attachment.html>

From tschmetzer at gmx.de  Sat Mar  6 04:50:50 2021
From: tschmetzer at gmx.de (Tobias Schmetzer)
Date: Sat, 6 Mar 2021 13:50:50 +0100
Subject: [QGIS-Developer] How to handle "RuntimeError: wrapped C/C++ object
 of type AlgorithmDialog has been deleted"
Message-ID: <trinity-fc068de8-2772-4afd-9e16-a43d48a74d44-1615035050250@3c-app-gmx-bap71>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210306/1511a1ec/attachment.html>

From caliskan.murat.20 at gmail.com  Sun Mar  7 08:04:56 2021
From: caliskan.murat.20 at gmail.com (=?UTF-8?B?TXVyYXQgw4dhbMSxxZ9rYW4=?=)
Date: Sun, 7 Mar 2021 19:04:56 +0300
Subject: [QGIS-Developer] QGIS Plugin
Message-ID: <CAFAmu22fobnAigan8QzRG3f4U-cyd3+=brCrhUPxKd+hJhuNuA@mail.gmail.com>

Hello,
I uploaded 2 plugins to the Plugin Repository. Although 6 days passed they
aren't approved yet. Is it normal to take that long.
Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210307/b7c2cfb6/attachment.html>

From cavallini at faunalia.it  Sun Mar  7 08:18:37 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun, 07 Mar 2021 17:18:37 +0100
Subject: [QGIS-Developer] QGIS Plugin
In-Reply-To: <CAFAmu22fobnAigan8QzRG3f4U-cyd3+=brCrhUPxKd+hJhuNuA@mail.gmail.com>
References: <CAFAmu22fobnAigan8QzRG3f4U-cyd3+=brCrhUPxKd+hJhuNuA@mail.gmail.com>
Message-ID: <98FD36E4-A06D-4B6C-BB76-5D763242D765@faunalia.it>

Hi,
I'll have a look ASAP. Stay tuned.
Cheers.

Il 7 marzo 2021 17:04:56 CET, "Murat ?al??kan" <caliskan.murat.20 at gmail.com> ha scritto:
>Hello,
>I uploaded 2 plugins to the Plugin Repository. Although 6 days passed
>they
>aren't approved yet. Is it normal to take that long.
>Thanks.

-- 
Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210307/82d1dbaf/attachment.html>

From caliskan.murat.20 at gmail.com  Sun Mar  7 08:31:42 2021
From: caliskan.murat.20 at gmail.com (=?UTF-8?B?TXVyYXQgw4dhbMSxxZ9rYW4=?=)
Date: Sun, 7 Mar 2021 19:31:42 +0300
Subject: [QGIS-Developer] QGIS Plugin
In-Reply-To: <98FD36E4-A06D-4B6C-BB76-5D763242D765@faunalia.it>
References: <CAFAmu22fobnAigan8QzRG3f4U-cyd3+=brCrhUPxKd+hJhuNuA@mail.gmail.com>
 <98FD36E4-A06D-4B6C-BB76-5D763242D765@faunalia.it>
Message-ID: <CAFAmu22=-UxiKny3+adv0AcLbSg7ZPN-kB8Tb6-XcsUBnDj1sQ@mail.gmail.com>

Thank you very much.
King regards.

7 Mar 2021 Paz 19:18 tarihinde Paolo Cavallini <cavallini at faunalia.it> ?unu
yazd?:

> Hi,
> I'll have a look ASAP. Stay tuned.
> Cheers.
>
> Il 7 marzo 2021 17:04:56 CET, "Murat ?al??kan" <
> caliskan.murat.20 at gmail.com> ha scritto:
>>
>> Hello,
>> I uploaded 2 plugins to the Plugin Repository. Although 6 days passed
>> they aren't approved yet. Is it normal to take that long.
>> Thanks.
>>
>
> --
> Sorry for being short
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210307/a0451b89/attachment.html>

From jean at jhemmi.eu  Sun Mar  7 10:50:49 2021
From: jean at jhemmi.eu (Jean Hemmi)
Date: Sun, 7 Mar 2021 19:50:49 +0100
Subject: [QGIS-Developer] geopandas inside QGIS or not
Message-ID: <CAKsx1pnnprjF5fPMP0iKePpXqSfePMuUEEdhFOgckjU1WkU+0Q@mail.gmail.com>

Hello QGIS,
geopandas is included in QGIS3/Ubuntu but not inside the Windows 3.4 LTR -
3.16 versions.
I speak about version easy to install for end users (not dev, not osgeo
one).
Is there a solution in the future for that point ?

Thanks
Jean Hemmi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210307/4992c78a/attachment.html>

From bo.victor.thomsen at gmail.com  Mon Mar  8 01:47:06 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Mon, 8 Mar 2021 10:47:06 +0100
Subject: [QGIS-Developer] How to read content from the metadata.txt file
Message-ID: <305ba777-523b-fb7e-e346-0176413f6757@gmail.com>

Hi list -

Is there a smart method - using Python - to read the entries 
("Homepage", "Bug Tracker", "Code repository"...) in the "metadata.txt" 
in the plugin directory ?

-- 
Med venlig hilsen / Kind regards

Bo Victor Thomsen


From etienne.trimaille at gmail.com  Mon Mar  8 01:55:15 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Mon, 8 Mar 2021 16:55:15 +0700
Subject: [QGIS-Developer] How to read content from the metadata.txt file
In-Reply-To: <305ba777-523b-fb7e-e346-0176413f6757@gmail.com>
References: <305ba777-523b-fb7e-e346-0176413f6757@gmail.com>
Message-ID: <CAMtDFLL4fqMEH7dY10HtM2V9-GmxeW1nBX-DaAxBmn4EyegStA@mail.gmail.com>

Hi,

configparser is designed to read INI file :
https://docs.python.org/3/library/configparser.html
There are some helpers if needed in QGIS :
https://github.com/qgis/QGIS/blob/master/python/utils.py#L291 to have the
configparser from a plugin name if needed.

Le lun. 8 mars 2021 ? 16:46, Bo Victor Thomsen <bo.victor.thomsen at gmail.com>
a ?crit :

> Hi list -
>
> Is there a smart method - using Python - to read the entries
> ("Homepage", "Bug Tracker", "Code repository"...) in the "metadata.txt"
> in the plugin directory ?
>
> --
> Med venlig hilsen / Kind regards
>
> Bo Victor Thomsen
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210308/b12bbbb3/attachment.html>

From =?utf-8?q?jrmorreale=5Fml at enoreth.net?=  Mon Mar  8 02:58:59 2021
From: =?utf-8?q?jrmorreale=5Fml at enoreth.net?= (=?utf-8?q?jrmorreale=5Fml at enoreth.net?=)
Date: Mon, 08 Mar 2021 11:58:59 +0100
Subject: [QGIS-Developer] =?utf-8?q?SVG_icons_in_QGIS?=
In-Reply-To: <7e5236d4-cbfd-01f2-bcc5-ce988ee8c68b@terglobo.nl>
Message-ID: <7024-60460380-5-6824b000@18358761>

Hi,

I'm digging this up as it doesn't seems that QGIS shows to the user the possibility to have user-defined tags and how to create them.  It means that most users are missing it.

To give more exposure to this feature, it would be great to ask the user if the SVG should be edited to add all the tags.

regards,
jean-roc
 
Le Mardi, Juillet 28, 2020 09:16 CEST, Raymond Nijssen <r.nijssen at terglobo.nl> a ?crit: 
 
> 
> 
> 
> On 28-07-2020 02:44, Nyall Dawson wrote:
> > Oh, also they'd need to be "parameterised", so that users can set the
> > fill/stroke color, opacity and stroke width from within QGIS.
> 
> I've made some quick and dirty scripts in the past to add these tags to 
> sets of svg symbols. If needed I can help with it.
> 
> https://github.com/IFRCGo/IFRC-Icons/blob/master/OCHA_Icons_2018/scripts/convert_to_qgis.py
> 
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From bo.victor.thomsen at gmail.com  Mon Mar  8 03:27:44 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Mon, 8 Mar 2021 12:27:44 +0100
Subject: [QGIS-Developer] How to read content from the metadata.txt file
In-Reply-To: <CAMtDFLL4fqMEH7dY10HtM2V9-GmxeW1nBX-DaAxBmn4EyegStA@mail.gmail.com>
References: <305ba777-523b-fb7e-e346-0176413f6757@gmail.com>
 <CAMtDFLL4fqMEH7dY10HtM2V9-GmxeW1nBX-DaAxBmn4EyegStA@mail.gmail.com>
Message-ID: <20662b9b-c23f-4738-9a2b-ed247f429207@gmail.com>

Works like a charm. Thanks Etienne :-)

Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 08-03-2021 kl. 10:55 skrev Etienne Trimaille:
> Hi,
>
> configparser is designed to read INI file : 
> https://docs.python.org/3/library/configparser.html 
> <https://docs.python.org/3/library/configparser.html>
> There are some helpers if needed in QGIS : 
> https://github.com/qgis/QGIS/blob/master/python/utils.py#L291 
> <https://github.com/qgis/QGIS/blob/master/python/utils.py#L291> to 
> have the configparser from a plugin name if needed.
>
> Le?lun. 8 mars 2021 ??16:46, Bo Victor Thomsen 
> <bo.victor.thomsen at gmail.com <mailto:bo.victor.thomsen at gmail.com>> a 
> ?crit?:
>
>     Hi list -
>
>     Is there a smart method - using Python - to read the entries
>     ("Homepage", "Bug Tracker", "Code repository"...) in the
>     "metadata.txt"
>     in the plugin directory ?
>
>     -- 
>     Med venlig hilsen / Kind regards
>
>     Bo Victor Thomsen
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210308/8fb6dd61/attachment.html>

From jjenkner at web.de  Tue Mar  9 03:00:03 2021
From: jjenkner at web.de (Johannes Jenkner)
Date: Tue, 9 Mar 2021 12:00:03 +0100
Subject: [QGIS-Developer] QgsTask run no longer working for my plugin in
 QGIS 3.16
Message-ID: <trinity-0ecacf1d-484e-4519-8dc2-a36e5cc81e84-1615287602899@3c-app-webde-bs10>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210309/f94ba0bc/attachment.html>

From pedrongvenancio at gmail.com  Tue Mar  9 07:20:45 2021
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Tue, 9 Mar 2021 15:20:45 +0000
Subject: [QGIS-Developer] Rendering layers from MSSQL Server fail
Message-ID: <CAMCJChs46uvALOiKEBUNkH13OFc3Bz2Yo9h9co7PgwciSvUxCA@mail.gmail.com>

Hi all,

I don't have too much experience in MSSQL Server, but I've created some
views that get some points (GPS positions) and convert them to lines.

Everything works fine, MSSQL Server shows the geometries correctly.

When I load them in QGIS, some of the lines simply don't show up on canvas,
but they are listed in the attribute table.

If I convert the binary geometry column to WKT, and put the WKT of the
geometries that does not render in QuickWKT plugin, they are rendered fine.

If I select, in the attribute table, the records that does not render and
run Extract Selected Features, they export fine and all geometries show up
as expected.

I also have run the Check Validity and here is the interesting thing:

 1) Using the GEOS method, all geometries are classified as valid and all
of them render as expected. Invalid and error output layers are empty.

 2) Using the QGIS method, all geometries are classified as invalid and
stay in the Invalid output layer. However, they are all rendered! The
errors are of two types: 'segments 47 and 69 of line 0 intersect at
-7.27335, 40.5264' and 'line 1 contains 2 duplicate nodes starting at
vertex 13'.

So, those errors does not seem to be a reason to not render the geometries,
since they are rendered in another formats.

Any hint about what can be happening?

Thank you very much!

Best regards,
Pedro Ven?ncio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210309/b8fd2e1d/attachment.html>

From tschmetzer at gmx.de  Wed Mar 10 00:35:38 2021
From: tschmetzer at gmx.de (Tobias Schmetzer)
Date: Wed, 10 Mar 2021 09:35:38 +0100
Subject: [QGIS-Developer] Run failed: Build Docker images for current
 branches
Message-ID: <trinity-fe459016-b2a4-4056-bbcf-420df78ea673-1615365338050@3c-app-gmx-bap42>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210310/c2498e7a/attachment.html>

From matthias at opengis.ch  Wed Mar 10 01:04:33 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 10 Mar 2021 10:04:33 +0100
Subject: [QGIS-Developer] Run failed: Build Docker images for current
 branches
In-Reply-To: <trinity-fe459016-b2a4-4056-bbcf-420df78ea673-1615365338050@3c-app-gmx-bap42>
References: <trinity-fe459016-b2a4-4056-bbcf-420df78ea673-1615365338050@3c-app-gmx-bap42>
Message-ID: <CAC7zN97_ehQ5OF5jrEhaQXC++hzcsq7QNpRZaKKeuRszXVJu=A@mail.gmail.com>

Hi Tobias

Looks like actions that are meant to be run on the main repository got
activated on your fork of QGIS.
Not sure exactly when this happened, it might be when you push the master
branch from the main repo to yours.

Actions can disabled here:
https://github.com/tschmetzer/QGIS/settings/actions

Matthias

On Wed, Mar 10, 2021 at 9:35 AM Tobias Schmetzer <tschmetzer at gmx.de> wrote:

> Hello,
>
> sorry to disturb with a maybe simple problem (I already searched the
> mailing list of the past months). In my respository there seems a scheduled
> action task to be executed. For 13 days I've been receiving emails telling
> me about failed Docker images builds. I tried to google about the Docker
> images problem but the only things I found were about setting up these
> images on a build server.
> I thought maybe I missed an update so I rebased/merged from
> upstream/master into my respository but the problem persists. Did I miss
> something or how can I handle the action task failure?
>
> There seems to be a workflow file the task is using that I never changed:
> github/workflows/build-docker.yml
> Do I need to adapt it in some way and why now?
>
> This is an excerpt of one of the three branches (3.16, 3.18, master) that
> the task tells me are failing:
>
>
> *> Run actions/checkout at v2 *
>
> *Syncing repository: tschmetzer/QGIS *
>
> *> Getting Git version info *
>
> *Deleting the contents of '/home/runner/work/QGIS/QGIS' *
>
> *>Initializing the repository *
>
> *> Disabling automatic garbage collection *
>
> *> Setting up auth *
>
> *v Fetching the repository *
>
> */usr/bin/git -c protocol.version=2 fetch --no-tags --prune --progress
> --no-recurse-submodules --depth=1 origin
> +refs/heads/release-3_18*:refs/remotes/origin/release-3_18*
> +refs/tags/release-3_18*:refs/tags/release-3_18* *
>
> *The process '/usr/bin/git' failed with exit code 1 *
>
> *Waiting 17 seconds before trying again *
>
> */usr/bin/git -c protocol.version=2 fetch --no-tags --prune --progress
> --no-recurse-submodules --depth=1 origin
> +refs/heads/release-3_18*:refs/remotes/origin/release-3_18*
> +refs/tags/release-3_18*:refs/tags/release-3_18* *
>
> *The process '/usr/bin/git' failed with exit code 1 *
>
> *Waiting 13 seconds before trying again *
>
> */usr/bin/git -c protocol.version=2 fetch --no-tags --prune --progress
> --no-recurse-submodules --depth=1 origin
> +refs/heads/release-3_18*:refs/remotes/origin/release-3_18*
> +refs/tags/release-3_18*:refs/tags/release-3_18* *
>
> *Error: The process '/usr/bin/git' failed with exit code 1*
>
>
> Thanks in advance for any hints to solve this!
>
> Regards, Tobias
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210310/37b6458f/attachment.html>

From denis.rouzaud at gmail.com  Wed Mar 10 01:04:38 2021
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 10 Mar 2021 10:04:38 +0100
Subject: [QGIS-Developer] Run failed: Build Docker images for current
 branches
In-Reply-To: <trinity-fe459016-b2a4-4056-bbcf-420df78ea673-1615365338050@3c-app-gmx-bap42>
References: <trinity-fe459016-b2a4-4056-bbcf-420df78ea673-1615365338050@3c-app-gmx-bap42>
Message-ID: <CAMtsY+YUTR=Ut7tkk_tVPRgRvOn_eqSpXhG5vZMrvgnZ8ndu=A@mail.gmail.com>

Hi Tobias,

The workflow is not meant to be run from your repo.
You can deactivate the workflows in your repo settings.

But, to be safe, I just changed the workflow so that it should not run
anymore on forks:
https://github.com/qgis/QGIS/commit/84b3cb1870a49e6dfdd95bc20c80cf2398b35cfc

Best regards,
Denis

Le mer. 10 mars 2021 ? 09:35, Tobias Schmetzer <tschmetzer at gmx.de> a ?crit :

> Hello,
>
> sorry to disturb with a maybe simple problem (I already searched the
> mailing list of the past months). In my respository there seems a scheduled
> action task to be executed. For 13 days I've been receiving emails telling
> me about failed Docker images builds. I tried to google about the Docker
> images problem but the only things I found were about setting up these
> images on a build server.
> I thought maybe I missed an update so I rebased/merged from
> upstream/master into my respository but the problem persists. Did I miss
> something or how can I handle the action task failure?
>
> There seems to be a workflow file the task is using that I never changed:
> github/workflows/build-docker.yml
> Do I need to adapt it in some way and why now?
>
> This is an excerpt of one of the three branches (3.16, 3.18, master) that
> the task tells me are failing:
>
>
> *> Run actions/checkout at v2 *
>
> *Syncing repository: tschmetzer/QGIS *
>
> *> Getting Git version info *
>
> *Deleting the contents of '/home/runner/work/QGIS/QGIS' *
>
> *>Initializing the repository *
>
> *> Disabling automatic garbage collection *
>
> *> Setting up auth *
>
> *v Fetching the repository *
>
> */usr/bin/git -c protocol.version=2 fetch --no-tags --prune --progress
> --no-recurse-submodules --depth=1 origin
> +refs/heads/release-3_18*:refs/remotes/origin/release-3_18*
> +refs/tags/release-3_18*:refs/tags/release-3_18* *
>
> *The process '/usr/bin/git' failed with exit code 1 *
>
> *Waiting 17 seconds before trying again *
>
> */usr/bin/git -c protocol.version=2 fetch --no-tags --prune --progress
> --no-recurse-submodules --depth=1 origin
> +refs/heads/release-3_18*:refs/remotes/origin/release-3_18*
> +refs/tags/release-3_18*:refs/tags/release-3_18* *
>
> *The process '/usr/bin/git' failed with exit code 1 *
>
> *Waiting 13 seconds before trying again *
>
> */usr/bin/git -c protocol.version=2 fetch --no-tags --prune --progress
> --no-recurse-submodules --depth=1 origin
> +refs/heads/release-3_18*:refs/remotes/origin/release-3_18*
> +refs/tags/release-3_18*:refs/tags/release-3_18* *
>
> *Error: The process '/usr/bin/git' failed with exit code 1*
>
>
> Thanks in advance for any hints to solve this!
>
> Regards, Tobias
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210310/92d96bcb/attachment-0001.html>

From tschmetzer at gmx.de  Wed Mar 10 02:36:03 2021
From: tschmetzer at gmx.de (Tobias Schmetzer)
Date: Wed, 10 Mar 2021 11:36:03 +0100
Subject: [QGIS-Developer] Run failed: Build Docker images for current
 branches
In-Reply-To: <CAMtsY+YUTR=Ut7tkk_tVPRgRvOn_eqSpXhG5vZMrvgnZ8ndu=A@mail.gmail.com>
References: <trinity-fe459016-b2a4-4056-bbcf-420df78ea673-1615365338050@3c-app-gmx-bap42>
 <CAMtsY+YUTR=Ut7tkk_tVPRgRvOn_eqSpXhG5vZMrvgnZ8ndu=A@mail.gmail.com>
Message-ID: <trinity-8d044b6e-a58d-4a6b-a3fa-a69d767e73c3-1615372563418@3c-app-gmx-bs04>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210310/034d6fd2/attachment.html>

From kngk at student.agh.edu.pl  Wed Mar 10 14:51:42 2021
From: kngk at student.agh.edu.pl (kngk at student.agh.edu.pl)
Date: Wed, 10 Mar 2021 23:51:42 +0100
Subject: [QGIS-Developer] Qgis Plugin Approved
Message-ID: <9417782dc2b557bc12143986a77eab50@student.agh.edu.pl>

Hi!

I uploaded our Plugin 2 months ago. Since that time I have got one 
message that we have to correct one mistake. I did that but the plugin 
has not been approved yet. Could you please check that? The Plugin name 
is Turbo Volume and it is developed by KNGK GEOINFORMATYKA.



Sincerely,
KNGK Geoinformatyka

From r.nijssen at terglobo.nl  Wed Mar 10 23:39:23 2021
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Thu, 11 Mar 2021 08:39:23 +0100
Subject: [QGIS-Developer] github projects
Message-ID: <29de8fe8-6769-f44b-e8be-aa58bd4f870b@terglobo.nl>

Morning all!

This is something new to me:
https://github.com/qgis/QGIS/projects/1

How can I get rights to update things?

Kind regards,
Raymond

From mennenga at nihk.de  Thu Mar 11 00:34:00 2021
From: mennenga at nihk.de (mmmennenga)
Date: Thu, 11 Mar 2021 01:34:00 -0700 (MST)
Subject: [QGIS-Developer] Approvemnent geoCore Plugin
Message-ID: <1615451640636-0.post@n6.nabble.com>

Dear all, I uploaded a new version of our plugin last Tuesday - with an
important change in the functionality -, but there was no approvement yet.
Is there a delay of approvements, because last times it took only 1-2 days? 
All the best
Moritz




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From cavallini at faunalia.it  Thu Mar 11 01:22:54 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 11 Mar 2021 10:22:54 +0100
Subject: [QGIS-Developer] Approvemnent geoCore Plugin
In-Reply-To: <1615451640636-0.post@n6.nabble.com>
References: <1615451640636-0.post@n6.nabble.com>
Message-ID: <3090f57f-2326-ba97-9ad3-fc58e0217a02@faunalia.it>

Hi Moritz,
could you please let me know the link to your plugin?
Thanks.

Il 11/03/21 09:34, mmmennenga ha scritto:
> Dear all, I uploaded a new version of our plugin last Tuesday - with an
> important change in the functionality -, but there was no approvement yet.
> Is there a delay of approvements, because last times it took only 1-2 days? 
> All the best
> Moritz

-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From cavallini at faunalia.it  Thu Mar 11 01:40:05 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 11 Mar 2021 10:40:05 +0100
Subject: [QGIS-Developer] Qgis Plugin Approved
In-Reply-To: <9417782dc2b557bc12143986a77eab50@student.agh.edu.pl>
References: <9417782dc2b557bc12143986a77eab50@student.agh.edu.pl>
Message-ID: <46938749-131f-8d01-ce4e-2ad9f92d9506@faunalia.it>

Hi,
I checked, and found a minor issue.
Please fix it and I'll be able to approve it soon.
Thanks for the remind, do not hesitate to write again.
Cheers.

Il 10/03/21 23:51, kngk at student.agh.edu.pl ha scritto:
> Hi!
> 
> I uploaded our Plugin 2 months ago. Since that time I have got one
> message that we have to correct one mistake. I did that but the plugin
> has not been approved yet. Could you please check that? The Plugin name
> is Turbo Volume and it is developed by KNGK GEOINFORMATYKA.
> 
> 
> 
> Sincerely,
> KNGK Geoinformatyka
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From francescastendardi at gmail.com  Thu Mar 11 01:45:34 2021
From: francescastendardi at gmail.com (Francesca Stendardi)
Date: Thu, 11 Mar 2021 10:45:34 +0100
Subject: [QGIS-Developer] Qgis Plugin Approved
In-Reply-To: <46938749-131f-8d01-ce4e-2ad9f92d9506@faunalia.it>
References: <9417782dc2b557bc12143986a77eab50@student.agh.edu.pl>
 <46938749-131f-8d01-ce4e-2ad9f92d9506@faunalia.it>
Message-ID: <CACPvERuBJqM8McTcV-mUO50Sek2Zf+avO5QO-ZuMXq6z8y2LVg@mail.gmail.com>

Hi everyone! I am using the plugin "Geotrace" in Qgis 3.16.3 to get the
layers of structural elements of some geological sheets. Specifically I am
using the above plugin to get stereonets and rose diagrams. The plugin
works perfectly, but I can not see the legend of the various plots
obtained. Anybody could tell me how it is done?

Best regards,

Francesca

Il giorno gio 11 mar 2021 alle ore 10:40 Paolo Cavallini <
cavallini at faunalia.it> ha scritto:

> Hi,
> I checked, and found a minor issue.
> Please fix it and I'll be able to approve it soon.
> Thanks for the remind, do not hesitate to write again.
> Cheers.
>
> Il 10/03/21 23:51, kngk at student.agh.edu.pl ha scritto:
> > Hi!
> >
> > I uploaded our Plugin 2 months ago. Since that time I have got one
> > message that we have to correct one mistake. I did that but the plugin
> > has not been approved yet. Could you please check that? The Plugin name
> > is Turbo Volume and it is developed by KNGK GEOINFORMATYKA.
> >
> >
> >
> > Sincerely,
> > KNGK Geoinformatyka
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> Paolo Cavallini
> www.faunalia.eu - QGIS.org
> training, support, development on QGIS, PostGIS and more
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210311/d38081f4/attachment.html>

From cavallini at faunalia.it  Thu Mar 11 01:47:51 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 11 Mar 2021 10:47:51 +0100
Subject: [QGIS-Developer] Approvemnent geoCore Plugin
In-Reply-To: <1615451640636-0.post@n6.nabble.com>
References: <1615451640636-0.post@n6.nabble.com>
Message-ID: <147f77ac-511a-608b-fc76-20a8606d3621@faunalia.it>

Hi Moritz,
I checked, and open a ticket on a minor issue.
Could you please fix it?
I see other tickets are open.
I also noticed the latest version is approved, whereas the older ones
are not: do you know the reason of this?
All the best.
https://plugins.qgis.org/plugins/geoCore/

Il 11/03/21 09:34, mmmennenga ha scritto:
> Dear all, I uploaded a new version of our plugin last Tuesday - with an
> important change in the functionality -, but there was no approvement yet.
> Is there a delay of approvements, because last times it took only 1-2 days? 
> All the best
> Moritz
> 
> 
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From cavallini at faunalia.it  Thu Mar 11 01:50:13 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 11 Mar 2021 10:50:13 +0100
Subject: [QGIS-Developer] Qgis Plugin Approved
In-Reply-To: <CACPvERuBJqM8McTcV-mUO50Sek2Zf+avO5QO-ZuMXq6z8y2LVg@mail.gmail.com>
References: <9417782dc2b557bc12143986a77eab50@student.agh.edu.pl>
 <46938749-131f-8d01-ce4e-2ad9f92d9506@faunalia.it>
 <CACPvERuBJqM8McTcV-mUO50Sek2Zf+avO5QO-ZuMXq6z8y2LVg@mail.gmail.com>
Message-ID: <b5ed0dc6-6307-cdc2-506a-a7a0fa7e68a0@faunalia.it>

Hi Francesca,
have you tired opening a ticket on the plugin bugtracker?
Cheers.

Il 11/03/21 10:45, Francesca Stendardi ha scritto:
> Hi everyone!?I am using the plugin "Geotrace" in Qgis 3.16.3 to get the
> layers of structural elements of some geological sheets.?Specifically I
> am using the above plugin to get stereonets and rose diagrams.?The
> plugin works perfectly, but I can not see the legend of the various
> plots obtained. Anybody could tell me how it is done?
> 
> Best?regards,
> 
> Francesca 
-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From delazj at gmail.com  Thu Mar 11 03:46:39 2021
From: delazj at gmail.com (DelazJ)
Date: Thu, 11 Mar 2021 12:46:39 +0100
Subject: [QGIS-Developer] Missing processing tools in pyqgis docs?
Message-ID: <CAECJsSoK7xdNWmn1HuGcbZd8wvdaBc2=TNZG5pchh=qtz-kCrw@mail.gmail.com>

Hi,

I was wondering whether there's a reason why processing.runAndLoadResults,
createAlgorithmDialog, execAlgorithmDialog (and maybe, algorithmHelp and
createContext [0]) are missing in the pyqgis API documentation. I find
run() [1] but not the others. We mention the others in the user manual, but
no way to find/point to more details.

[0] all picked at
https://github.com/qgis/QGIS/blob/master/python/plugins/processing or
https://github.com/qgis/QGIS/blob/master/python/plugins/processing/tools/general.py#L119/__init__.py#L42
[1]
https://qgis.org/pyqgis/master/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm.run

Regards,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210311/61f469ac/attachment-0001.html>

From adenaculture at gmail.com  Thu Mar 11 13:26:20 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 11 Mar 2021 16:26:20 -0500
Subject: [QGIS-Developer] Loading multiple raster images from processing
 algorithm
Message-ID: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>

For one of my QIGS processing algorithms I have a destination
folder, QgsProcessingParameterFolderDestination, where one or more GeoTIFF
images are created. Once these images are created, how do I load them so
that they display in QGIS from the "processAlgorithm" method? I had thought
that this might work where I would iterate through each image created?

path = path_to_the_image
rlayer = QgsRasterLayer(path, name_of_image)
QgsProject.instance().addMapLayer(rlayer, True)

No images are displayed nor do they show up in the Layers panel, but I
think internally they are loaded.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210311/3c3f5702/attachment.html>

From andreaerdna at libero.it  Thu Mar 11 13:55:39 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Thu, 11 Mar 2021 14:55:39 -0700 (MST)
Subject: [QGIS-Developer] Loading multiple raster images from processing
 algorithm
In-Reply-To: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>
References: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>
Message-ID: <1615499739548-0.post@n6.nabble.com>

C Hamilton wrote
> path = path_to_the_image
> rlayer = QgsRasterLayer(path, name_of_image)

Hi C Hamilton,
are you sure the path_to_the_image is correct? Have you tried to execute the
code in the Python console? Does QgsRasterLayer(path, name_of_image) and
QgsProject.instance().addMapLayer(rlayer, True) return a valid
<QgsRasterLayer: name_of_image (gdal)> object?

I usually use the same code without issue: the layer is correctly added to
the map and it is listed in the layer tree.

Regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From nyall.dawson at gmail.com  Thu Mar 11 14:19:18 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 12 Mar 2021 08:19:18 +1000
Subject: [QGIS-Developer] Loading multiple raster images from processing
 algorithm
In-Reply-To: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>
References: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>
Message-ID: <CAB28Asg3-cBU9sWLBW=pOeE9Y5T005omFXN9CWNYP0RRrwuk7w@mail.gmail.com>

On Fri, 12 Mar 2021 at 07:26, C Hamilton <adenaculture at gmail.com> wrote:
>
> For one of my QIGS processing algorithms I have a destination folder, QgsProcessingParameterFolderDestination, where one or more GeoTIFF images are created. Once these images are created, how do I load them so that they display in QGIS from the "processAlgorithm" method? I had thought that this might work where I would iterate through each image created?

Definitely DON'T do this in the processAlgorithm method if your
algorithm is running in a background thread. It's not thread safe to
add layers to the main project from a background thread.

You could do it in a postProcessAlgorithm override though, as that is
guaranteed to run in the main thread. Just be ultra-cautious not to
store a layer created on the background thread and then try to access
this from postProcessAlgorithm -- layers have thread affinity to the
thread which created them, and can't just be accessed from any other
thread. To be safe you should always create a new layer from the
desired uri instead.

> path = path_to_the_image
> rlayer = QgsRasterLayer(path, name_of_image)
> QgsProject.instance().addMapLayer(rlayer, True)

also note that you should use context.project() instead of
QgsProject.instance() whenever you are accessing the project from a
processing algorithm -- this will ensure your algorithm works
correctly from the command line qgis_process tool!

Nyall

From matteo.ghetta at gmail.com  Thu Mar 11 23:16:43 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 12 Mar 2021 08:16:43 +0100
Subject: [QGIS-Developer] Loading multiple raster images from processing
 algorithm
In-Reply-To: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>
References: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>
Message-ID: <f63473b2-afb9-6fc3-d26d-380644d89c51@gmail.com>

Hi Calvin,

I normally use addLayerToLoadOnCompletion to load some additional layer 
into QGIS from Processing script:

context.addLayerToLoadOnCompletion(
     yourlayer.source(),
     context.LayerDetails(
             name='mylayername',
             project=context.project()
         )
)

but maybe there are better methods :)

Cheers

Matteo

From ricardor at esec.pt  Fri Mar 12 01:29:57 2021
From: ricardor at esec.pt (Ricardo Rodrigues)
Date: Fri, 12 Mar 2021 09:29:57 +0000
Subject: [QGIS-Developer] QIGS icon for MacOS
Message-ID: <319D8BE2-49BA-4298-86BA-2C7A0BEAD4B5@esec.pt>

Hi!

I've created, I think, a new QIGS icon for MacOS, Big Sur style (https://github.com/qgis/QGIS/files/6128912/QGIS.icns.zip).

If you want to try it, you are welcome.


Best regards,

    Ricardo


From ujaval at spatialthoughts.com  Fri Mar 12 03:18:56 2021
From: ujaval at spatialthoughts.com (Ujaval Gandhi)
Date: Fri, 12 Mar 2021 16:48:56 +0530
Subject: [QGIS-Developer] [Qgis-user] QIGS icon for MacOS
In-Reply-To: <C2BAB7A4-E814-4D27-B1AF-1CFE9C179036@gmail.com>
References: <319D8BE2-49BA-4298-86BA-2C7A0BEAD4B5@esec.pt>
 <C2BAB7A4-E814-4D27-B1AF-1CFE9C179036@gmail.com>
Message-ID: <CALymcQD95yxcbS+QaiQODFxx8vi+_0r-=MBGTh0ZfBZhZPP5QA@mail.gmail.com>

Love it. Nice facelift to the most used app on my mac :)
https://ibb.co/z6CWKh0
[image: Logo] <https://spatialthoughts.com/>
Ujaval Gandhi
Spatial Thoughts
mobile: +91-8095684687
email: ujaval at spatialthoughts.com
[image: LinkedIn icon] <https://www.linkedin.com/in/spatialthoughts/>  [image:
Twitter icon] <https://twitter.com/spatialthoughts>



On Fri, Mar 12, 2021 at 3:45 PM Christoph Jung <jagodki.cj at gmail.com> wrote:

> Hi Ricardo,
>
> This icon looks great, well done :)
>
> Regards,
> Christoph
>
> > Am 12.03.2021 um 10:38 schrieb Ricardo Rodrigues <ricardor at esec.pt>:
> >
> > ?Hi!
> >
> > I've created, I think, a new QIGS icon for MacOS, Big Sur style (
> https://github.com/qgis/QGIS/files/6128912/QGIS.icns.zip).
> >
> > If you want to try it, you are welcome.
> >
> >
> > Best regards,
> >
> >    Ricardo
> >
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210312/a7074245/attachment.html>

From adenaculture at gmail.com  Fri Mar 12 06:31:32 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 12 Mar 2021 09:31:32 -0500
Subject: [QGIS-Developer] Loading multiple raster images from processing
 algorithm
In-Reply-To: <f63473b2-afb9-6fc3-d26d-380644d89c51@gmail.com>
References: <CABPxTTpNzTYMvhcCYNq0-NzGJ7s2_vzPvDSA3HWKTTm85r4YXQ@mail.gmail.com>
 <f63473b2-afb9-6fc3-d26d-380644d89c51@gmail.com>
Message-ID: <CABPxTTrriXG=JVC3nHgTLm_fKSGV+SX7P6NNW0tDzW5fvVGR2A@mail.gmail.com>

Thanks Matteo and Nyall,

I always appreciate your help and thanks for the various methods and
pitfalls. It looks like one of these ideas should work.

All the best,

Calvin

On Fri, Mar 12, 2021 at 2:16 AM matteo <matteo.ghetta at gmail.com> wrote:

> Hi Calvin,
>
> I normally use addLayerToLoadOnCompletion to load some additional layer
> into QGIS from Processing script:
>
> context.addLayerToLoadOnCompletion(
>      yourlayer.source(),
>      context.LayerDetails(
>              name='mylayername',
>              project=context.project()
>          )
> )
>
> but maybe there are better methods :)
>
> Cheers
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210312/6dbebac5/attachment-0001.html>

From bo.victor.thomsen at gmail.com  Sun Mar 14 01:38:44 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sun, 14 Mar 2021 10:38:44 +0100
Subject: [QGIS-Developer] Creating a spatial index on a table created with
 QgsVectorLayerExporter Python function
Message-ID: <9d7ac498-22d4-e31b-6e05-b5d74e881402@gmail.com>

Hi list -

I have a problem with the "QgsVectorLayerExporter" function in Python.

When I create a table like this (All parameter is of course set 
correctly and "options" is an empty dictionary {}):

vle = QgsVectorLayerExporter(uri.uri(), 'postgres' , myFields, myGeom, 
QgsCoordinateReferenceSystem("EPSG:4326"),False,options)

I get a nice table in my Postgres database with the correct fields, 
primary key and geometry field with the correct type. However I'm 
missing a spatial index on my geometry field.

I've tried with setting the "options" dictionary like this:

# Experiment for getting spatial index. Tried with 1, True ...
options = {}
options['spatial_index'] = 'on'

But that doesn't work either. As far as I can decipher the c++ code 
behind "QgsVectorLayerExporter", all tables created with the function 
*should* be created with a spatial index - except for dataprovider types 
ogr/GPKG? and ogr/Spatialite

So my question is: How can I get a spatial index on my new created table 
(or during creation) *without* having some database-type specific code 
directly creating the index using SQL ?

-- 
Med venlig hilsen / Kind regards

Bo Victor Thomsen


From andreaerdna at libero.it  Sun Mar 14 05:01:33 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sun, 14 Mar 2021 05:01:33 -0700 (MST)
Subject: [QGIS-Developer] Creating a spatial index on a table created
 with QgsVectorLayerExporter Python function
In-Reply-To: <9d7ac498-22d4-e31b-6e05-b5d74e881402@gmail.com>
References: <9d7ac498-22d4-e31b-6e05-b5d74e881402@gmail.com>
Message-ID: <1615723293294-0.post@n6.nabble.com>

Bo Victor Thomsen wrote
> # Experiment for getting spatial index. Tried with 1, True ...
> options = {}
> options['spatial_index'] = 'on'

Hi Bo Victor,
AFAIK it should be:

options = {}
options['layerOptions'] = ['SPATIAL_INDEX=YES']

Regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From bo.victor.thomsen at gmail.com  Sun Mar 14 06:32:15 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sun, 14 Mar 2021 14:32:15 +0100
Subject: [QGIS-Developer] Creating a spatial index on a table created
 with QgsVectorLayerExporter Python function
In-Reply-To: <1615723293294-0.post@n6.nabble.com>
References: <9d7ac498-22d4-e31b-6e05-b5d74e881402@gmail.com>
 <1615723293294-0.post@n6.nabble.com>
Message-ID: <69603d15-dbfa-16fc-ceda-70ca400521a4@gmail.com>

Hi Andrea -

Close but no cigar. (aka.: It didn't work). But thanks for trying

I think, it would work if the dataprovider was "ogr" and not "postgres"

Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 14-03-2021 kl. 13:01 skrev Andrea Giudiceandrea:
> Bo Victor Thomsen wrote
>> # Experiment for getting spatial index. Tried with 1, True ...
>> options = {}
>> options['spatial_index'] = 'on'
> Hi Bo Victor,
> AFAIK it should be:
>
> options = {}
> options['layerOptions'] = ['SPATIAL_INDEX=YES']
>
> Regards.
>
> Andrea
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From jgr at di.uminho.pt  Sun Mar 14 09:45:14 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 14 Mar 2021 16:45:14 +0000
Subject: [QGIS-Developer] Creating a spatial index on a table created
 with QgsVectorLayerExporter Python function
In-Reply-To: <1615723293294-0.post@n6.nabble.com>
References: <9d7ac498-22d4-e31b-6e05-b5d74e881402@gmail.com>
 <1615723293294-0.post@n6.nabble.com>
Message-ID: <a1da8092-0f86-5bfa-6567-5188e5101a04@di.uminho.pt>

Hi Bo,

I did the laziest test. I've tried to run 'Create spatial index' on a
Postgresql layer. Result was:

Layer's data provider does not support spatial indexes [1]

Does it help?

I think that things like spatial filters, used on rendering, runs on the
provider side, so QGIS do not need to know about spatial filters.

But I found out that aggregate expressions, for example, seems to run on
QGIS side and do not take advantage of spatial indexes.

Regards,

Jorge

[1] https://nextcloud.geomaster.pt/index.php/s/w38gboTBNsf2pe8

The layer itself is a Postgresql layer with a native gist index. It was
created on the provider site.

?s 12:01 de 14/03/21, Andrea Giudiceandrea escreveu:
> Bo Victor Thomsen wrote
>> # Experiment for getting spatial index. Tried with 1, True ...
>> options = {}
>> options['spatial_index'] = 'on'
> 
> Hi Bo Victor,
> AFAIK it should be:
> 
> options = {}
> options['layerOptions'] = ['SPATIAL_INDEX=YES']
> 
> Regards.
> 
> Andrea
> 
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From andreaerdna at libero.it  Sun Mar 14 10:17:51 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sun, 14 Mar 2021 10:17:51 -0700 (MST)
Subject: [QGIS-Developer] Creating a spatial index on a table created
 with QgsVectorLayerExporter Python function
In-Reply-To: <a1da8092-0f86-5bfa-6567-5188e5101a04@di.uminho.pt>
References: <9d7ac498-22d4-e31b-6e05-b5d74e881402@gmail.com>
 <1615723293294-0.post@n6.nabble.com>
 <a1da8092-0f86-5bfa-6567-5188e5101a04@di.uminho.pt>
Message-ID: <1615742271540-0.post@n6.nabble.com>

Jorge Gustavo Rocha wrote
> I did the laziest test. I've tried to run 'Create spatial index' on a
> Postgresql layer. Result was:
> 
> Layer's data provider does not support spatial indexes [1]

Is PostGIS installed and enabled on the PostgreSQL db server?

Regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jgr at di.uminho.pt  Sun Mar 14 11:43:05 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 14 Mar 2021 18:43:05 +0000
Subject: [QGIS-Developer] Creating a spatial index on a table created
 with QgsVectorLayerExporter Python function
In-Reply-To: <1615742271540-0.post@n6.nabble.com>
References: <9d7ac498-22d4-e31b-6e05-b5d74e881402@gmail.com>
 <1615723293294-0.post@n6.nabble.com>
 <a1da8092-0f86-5bfa-6567-5188e5101a04@di.uminho.pt>
 <1615742271540-0.post@n6.nabble.com>
Message-ID: <12c52c65-5606-9313-efcf-330ddf0940b7@di.uminho.pt>

Hi Andrea,

?s 17:17 de 14/03/21, Andrea Giudiceandrea escreveu:
> Jorge Gustavo Rocha wrote
>> I did the laziest test. I've tried to run 'Create spatial index' on a
>> Postgresql layer. Result was:
>>
>> Layer's data provider does not support spatial indexes [1]
> 
> Is PostGIS installed and enabled on the PostgreSQL db server?
> 

Yes, yes. I've ran the 'Create spatial index' on top of an existent
Postgis layer (with a role able to create spatial indexes). Have you
tried the same? Is it different on your side?

psql service=ftth -c "select postgis_full_version()"
POSTGIS="3.2.0dev 3.1.0rc1-47-gba2f659c0" [EXTENSION] PGSQL="120"
GEOS="3.8.0-CAPI-1.13.1 " PROJ="8.0.0" GDAL="GDAL
3.3.0dev-f6689b6533-dirty, released 2021/01/22" LIBXML="2.9.10"
LIBJSON="0.13.1" LIBPROTOBUF="1.3.3" WAGYU="0.5.0 (Internal)" (core
procs from "3.1.0dev 3.1.0alpha2-36-g25825b61d" need upgrade) RASTER
(raster procs from "3.1.0dev 3.1.0alpha2-36-g25825b61d" need upgrade)

Regards,

Jorge

> Regards.
> 
> Andrea
> 
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From jgr at di.uminho.pt  Sun Mar 14 12:54:32 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 14 Mar 2021 19:54:32 +0000
Subject: [QGIS-Developer] point in polygon strikes again: big performance
 issue
Message-ID: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>

Hi,

I've done a QGIS demonstration last week at the local medical school, to
show how easy is to get data and process it with QGIS. But I failed with
a very simple aggregate expression. QGIS is not able to compute the
expression "immediately". It takes one regular coffee to compute the
expression (starting from cold water in the kettle).

The problem is easy to replicate. It just uses one polygon layer (225
countries) and a point layer (+-4000 points related to COVID cases
reported).

I've used the natural earth countries shapefile and COVID values from a
csv file.

These two layers can be retrieved with:

wget
https://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_admin_0_countries.zip
wget
https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/03-04-2021.csv

For the same country, like Germany or Italy, there are values for each
state or province in the CSV file, as illustrated in [1]. I want to
aggregate all values of the country.

I've created a virtual field in country layer. I've used this expression
to compute the total active cases for each country:

aggregate(layer:='03-04-2021', aggregate:='sum', expression:="Active",
filter:=contains( geometry(@parent), $geometry) )

It takes several minutes do evaluate and, if you have the attribute
table opened, it will take the same amount again to fill the attribute
table. If I try to use the aggregated field in symbology, it will try to
evaluate it and it will be a problem.

How can I improve the writing of such spatial expressions?

My findings:

1) Using contains or intersect is the same. No difference in performance.

2) Using a shapefile instead of the origin CSV does not improve the
performance

3) Adding spatial indexes (via 'Create spatial index' processing tool)
to both shapefiles does not improve the performance

Before you ask:

a) The are topological errors in the Natural Earth source. Correcting
them or just using the good polygons does not solve the problem. There
is no difference in performance.

b) For this specific COVID layer, a simple attribute join could be used.
The point here is to understand how this spatial expression can be
improved in terms of performance.

c) This can be done in Postgresql with:

select wf.sovereignt, sum(cases."Active")
from world wf, "03-04-2021" cases
where st_contains(wf.geom, cases.geom)
group by wf.sovereignt;

and it is computed "instantaneously". I know that too, but the point is
to improve QGIS.

Regards,

Jorge Gustavo

[1] https://nextcloud.geomaster.pt/index.php/s/ZNR87PHBrBJjmmC
[2] https://nextcloud.geomaster.pt/index.php/s/bxyXTfN3J4moKHr



-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From qgis-dev at stripfamily.net  Sun Mar 14 14:47:50 2021
From: qgis-dev at stripfamily.net (David Strip)
Date: Sun, 14 Mar 2021 15:47:50 -0600
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
Message-ID: <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210314/8d98336e/attachment.html>

From delazj at gmail.com  Sun Mar 14 15:36:24 2021
From: delazj at gmail.com (Delaz J)
Date: Sun, 14 Mar 2021 23:36:24 +0100
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
Message-ID: <95e53aef-a9fa-b298-7b91-3d78a0782e6c@gmail.com>

Hi Jorge,

It doesn't explain nor fix the issue with your expression but mind 
trying /array_sum(overlay_contains('03-04-2021', 'Active'))/? No working 
QGIS around to test myself.

I don't remember if array_sum was introduced in 3.18 or master but 
overlay_** requires at least 3.16. Regards, Harrissou

Le 14/03/2021 ? 22:47, David Strip a ?crit?:
> I was able to replicate your problem on my system (Win 10, QGIS 3.10.5).
>
> I tried "Join attributes by location (summary)". This computed the 
> result in about 5 seconds.
> There are some anomalies in the data, however. For example, there's an 
> entry for Belgium with province value "Unknown" and no lat/lon, so it 
> doesn't get included in the total. Also, the point for Northern 
> Territories, Australia, lies in the ocean, so it is not contained in 
> the Australia polygon.
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210314/22350686/attachment.html>

From nyall.dawson at gmail.com  Sun Mar 14 15:37:36 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 15 Mar 2021 08:37:36 +1000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
Message-ID: <CAB28AsjMEiOFt7wLqdseUshWQJNA48d_C0sYSsH+j=Uk-h3ZaQ@mail.gmail.com>

On Mon, 15 Mar 2021 at 05:54, Jorge Gustavo Rocha <jgr at di.uminho.pt> wrote:
>
> Hi,
>
> I've done a QGIS demonstration last week at the local medical school, to
> show how easy is to get data and process it with QGIS. But I failed with
> a very simple aggregate expression. QGIS is not able to compute the
> expression "immediately". It takes one regular coffee to compute the
> expression (starting from cold water in the kettle).
>
> The problem is easy to replicate. It just uses one polygon layer (225
> countries) and a point layer (+-4000 points related to COVID cases
> reported).
>
> I've used the natural earth countries shapefile and COVID values from a
> csv file.
>
> These two layers can be retrieved with:
>
> wget
> https://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_admin_0_countries.zip
> wget
> https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/03-04-2021.csv
>
> For the same country, like Germany or Italy, there are values for each
> state or province in the CSV file, as illustrated in [1]. I want to
> aggregate all values of the country.
>
> I've created a virtual field in country layer. I've used this expression
> to compute the total active cases for each country:
>
> aggregate(layer:='03-04-2021', aggregate:='sum', expression:="Active",
> filter:=contains( geometry(@parent), $geometry) )
>
> It takes several minutes do evaluate and, if you have the attribute
> table opened, it will take the same amount again to fill the attribute
> table. If I try to use the aggregated field in symbology, it will try to
> evaluate it and it will be a problem.
>
> How can I improve the writing of such spatial expressions?

I would advise not using a virtual field in this circumstance. A
virtual field is evaluated every time the feature is retrieved, and
it's really not optimal for an expression which takes some time to
evaluate.

Use field calculator or the corresponding processing tools and perform
the calculation as a one-off instead.

Nyall


>
> My findings:
>
> 1) Using contains or intersect is the same. No difference in performance.
>
> 2) Using a shapefile instead of the origin CSV does not improve the
> performance
>
> 3) Adding spatial indexes (via 'Create spatial index' processing tool)
> to both shapefiles does not improve the performance
>
> Before you ask:
>
> a) The are topological errors in the Natural Earth source. Correcting
> them or just using the good polygons does not solve the problem. There
> is no difference in performance.
>
> b) For this specific COVID layer, a simple attribute join could be used.
> The point here is to understand how this spatial expression can be
> improved in terms of performance.
>
> c) This can be done in Postgresql with:
>
> select wf.sovereignt, sum(cases."Active")
> from world wf, "03-04-2021" cases
> where st_contains(wf.geom, cases.geom)
> group by wf.sovereignt;
>
> and it is computed "instantaneously". I know that too, but the point is
> to improve QGIS.
>
> Regards,
>
> Jorge Gustavo
>
> [1] https://nextcloud.geomaster.pt/index.php/s/ZNR87PHBrBJjmmC
> [2] https://nextcloud.geomaster.pt/index.php/s/bxyXTfN3J4moKHr
>
>
>
> --
> Jorge Gustavo Rocha
> Departamento de Inform?tica
> Universidade do Minho
> 4710-057 Braga
> Gabinete 3.29 (Piso 3)
> Tel: +351 253604480
> Fax: +351 253604471
> M?vel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From jgr at di.uminho.pt  Sun Mar 14 16:21:46 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 14 Mar 2021 23:21:46 +0000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <95e53aef-a9fa-b298-7b91-3d78a0782e6c@gmail.com>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
 <95e53aef-a9fa-b298-7b91-3d78a0782e6c@gmail.com>
Message-ID: <53bd1fea-0c71-67a8-e692-ff7d8e6ba07e@di.uminho.pt>

Hi Harrissou,

Thanks for the tip. I've used:

array_sum( overlay_contains( '03-04-21', Active ) )

and it works, but... there is not significant perform enhancement. As
far as I can see, overlay_contains does not take any advantage of a
spatial index.

Regards,

Jorge

?s 22:36 de 14/03/21, Delaz J escreveu:
> Hi Jorge,
> 
> It doesn't explain nor fix the issue with your expression but mind
> trying /array_sum(overlay_contains('03-04-2021', 'Active'))/? No working
> QGIS around to test myself.
> 
> I don't remember if array_sum was introduced in 3.18 or master but
> overlay_** requires at least 3.16. Regards, Harrissou
> 
> Le 14/03/2021 ? 22:47, David Strip a ?crit?:
>> I was able to replicate your problem on my system (Win 10, QGIS 3.10.5).
>>
>> I tried "Join attributes by location (summary)". This computed the
>> result in about 5 seconds.
>> There are some anomalies in the data, however. For example, there's an
>> entry for Belgium with province value "Unknown" and no lat/lon, so it
>> doesn't get included in the total. Also, the point for Northern
>> Territories, Australia, lies in the ocean, so it is not contained in
>> the Australia polygon.
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From jgr at di.uminho.pt  Sun Mar 14 16:34:28 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 14 Mar 2021 23:34:28 +0000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
Message-ID: <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>

Hi David,

Thanks for replication this issue. "Join attributes by location
(summary)" is definitely the best choice for this use case. It creates
the new layer in a few seconds. That's why I think we are missing
something (spatial indexes?, dependency graph?) in the expression engine.

There are anomalies in the data. That's almost the same with any dataset
we start working with :-)

Regards,

Jorge

?s 21:47 de 14/03/21, David Strip escreveu:
> I was able to replicate your problem on my system (Win 10, QGIS 3.10.5).
> 
> I tried "Join attributes by location (summary)". This computed the
> result in about 5 seconds.
> There are some anomalies in the data, however. For example, there's an
> entry for Belgium with province value "Unknown" and no lat/lon, so it
> doesn't get included in the total. Also, the point for Northern
> Territories, Australia, lies in the ocean, so it is not contained in the
> Australia polygon.
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From nyall.dawson at gmail.com  Sun Mar 14 16:40:11 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 15 Mar 2021 09:40:11 +1000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
 <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
Message-ID: <CAB28AsjH5d_=eGH==66tnv6Agwho7ZKAi77iuaHVZaVd4edwPw@mail.gmail.com>

On Mon, 15 Mar 2021 at 09:34, Jorge Gustavo Rocha <jgr at di.uminho.pt> wrote:
>
> Hi David,
>
> Thanks for replication this issue. "Join attributes by location
> (summary)" is definitely the best choice for this use case. It creates
> the new layer in a few seconds. That's why I think we are missing
> something (spatial indexes?, dependency graph?) in the expression engine.

Actually there's LOTS missing
- if you're not using the overlay_* method, then spatial indices won't
be used at all
- even if you use the overlay_* methods, the overlay tests are not
optimised in any way (they don't use prepared geometries), so will
always be orders of magnitude slower than the processing tools.

Nyall



>
> There are anomalies in the data. That's almost the same with any dataset
> we start working with :-)
>
> Regards,
>
> Jorge
>
> ?s 21:47 de 14/03/21, David Strip escreveu:
> > I was able to replicate your problem on my system (Win 10, QGIS 3.10.5).
> >
> > I tried "Join attributes by location (summary)". This computed the
> > result in about 5 seconds.
> > There are some anomalies in the data, however. For example, there's an
> > entry for Belgium with province value "Unknown" and no lat/lon, so it
> > doesn't get included in the total. Also, the point for Northern
> > Territories, Australia, lies in the ocean, so it is not contained in the
> > Australia polygon.
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Inform?tica
> Universidade do Minho
> 4710-057 Braga
> Gabinete 3.29 (Piso 3)
> Tel: +351 253604480
> Fax: +351 253604471
> M?vel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From jgr at di.uminho.pt  Sun Mar 14 16:53:22 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 14 Mar 2021 23:53:22 +0000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <CAB28AsjH5d_=eGH==66tnv6Agwho7ZKAi77iuaHVZaVd4edwPw@mail.gmail.com>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
 <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
 <CAB28AsjH5d_=eGH==66tnv6Agwho7ZKAi77iuaHVZaVd4edwPw@mail.gmail.com>
Message-ID: <21049a7a-2fc9-6fb7-8f99-33d1b3a5d8cb@di.uminho.pt>

Hi Nyall,

I've tried with:

array_sum( overlay_contains( '03-04-21', Active ) )

as suggested by Harrissou. Now I understand why it isn't much faster
than an aggregate.

We have a call for grants ending within a week. Maybe someone jumps in
to rewrite the expression engine with speed improvements ;-)

Regards,

Jorge

?s 23:40 de 14/03/21, Nyall Dawson escreveu:
> On Mon, 15 Mar 2021 at 09:34, Jorge Gustavo Rocha <jgr at di.uminho.pt> wrote:
>>
>> Hi David,
>>
>> Thanks for replication this issue. "Join attributes by location
>> (summary)" is definitely the best choice for this use case. It creates
>> the new layer in a few seconds. That's why I think we are missing
>> something (spatial indexes?, dependency graph?) in the expression engine.
> 
> Actually there's LOTS missing
> - if you're not using the overlay_* method, then spatial indices won't
> be used at all
> - even if you use the overlay_* methods, the overlay tests are not
> optimised in any way (they don't use prepared geometries), so will
> always be orders of magnitude slower than the processing tools.
> 
> Nyall
> 
> 
> 
>>
>> There are anomalies in the data. That's almost the same with any dataset
>> we start working with :-)
>>
>> Regards,
>>
>> Jorge
>>
>> ?s 21:47 de 14/03/21, David Strip escreveu:
>>> I was able to replicate your problem on my system (Win 10, QGIS 3.10.5).
>>>
>>> I tried "Join attributes by location (summary)". This computed the
>>> result in about 5 seconds.
>>> There are some anomalies in the data, however. For example, there's an
>>> entry for Belgium with province value "Unknown" and no lat/lon, so it
>>> doesn't get included in the total. Also, the point for Northern
>>> Territories, Australia, lies in the ocean, so it is not contained in the
>>> Australia polygon.
>>>
>>
>> J. Gustavo
>> --
>> Jorge Gustavo Rocha
>> Departamento de Inform?tica
>> Universidade do Minho
>> 4710-057 Braga
>> Gabinete 3.29 (Piso 3)
>> Tel: +351 253604480
>> Fax: +351 253604471
>> M?vel: +351 910333888
>> skype: nabocudnosor
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From qgis-dev at stripfamily.net  Sun Mar 14 16:51:09 2021
From: qgis-dev at stripfamily.net (David Strip)
Date: Sun, 14 Mar 2021 17:51:09 -0600
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
 <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
Message-ID: <c6277258-c7da-b521-7bda-728f3a3f0469@stripfamily.net>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210314/16200f2c/attachment.html>

From nyall.dawson at gmail.com  Sun Mar 14 17:01:57 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 15 Mar 2021 10:01:57 +1000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <c6277258-c7da-b521-7bda-728f3a3f0469@stripfamily.net>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
 <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
 <c6277258-c7da-b521-7bda-728f3a3f0469@stripfamily.net>
Message-ID: <CAB28AsgnKPg8Q-Sou73_N9TPAUc3uip=_d3gS43big7P6TwP7Q@mail.gmail.com>

On Mon, 15 Mar 2021 at 09:56, David Strip <qgis-dev at stripfamily.net> wrote:
>
> On 3/14/2021 5:34 PM, Jorge Gustavo Rocha wrote:
>
> Hi David,
>
> Thanks for replication this issue. "Join attributes by location
> (summary)" is definitely the best choice for this use case. It creates
> the new layer in a few seconds. That's why I think we are missing
> something (spatial indexes?, dependency graph?) in the expression engine.
>
> There are anomalies in the data. That's almost the same with any dataset
> we start working with :-)
>
> Regards,
>
> Jorge
>
> I tried a different approach, using aggregate, matching on the country name, thinking that would be faster than a spatial check.
> I created a new field with the expression:
>
> aggregate( '03-03-2021','sum', "Confirmed", "Country_Region" ILIKE attribute(@parent,'SOVEREIGNT'))
>
> Much to my surprise, this was slower than "Join attributes by location (summary)"

As noted previously in this thread, the expression engined isn't
optimised for this kind of use case, vs the processing algorithms
which are HEAVILY optimised!

Like almost everything in GIS, there's many ways to achieve the same
results and some will work better than others! :D

Nyall


>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From jgr at di.uminho.pt  Sun Mar 14 17:07:36 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Mon, 15 Mar 2021 00:07:36 +0000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <c6277258-c7da-b521-7bda-728f3a3f0469@stripfamily.net>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
 <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
 <c6277258-c7da-b521-7bda-728f3a3f0469@stripfamily.net>
Message-ID: <b2dd70b6-c482-1756-748e-19deae228203@di.uminho.pt>

Hi David,

Yes, yes. I've tried the same! We can say that a spatial join can beat
an attribute based join in performance!

Regards,

Jorge

?s 23:51 de 14/03/21, David Strip escreveu:
> On 3/14/2021 5:34 PM, Jorge Gustavo Rocha wrote:
>> Hi David,
>>
>> Thanks for replication this issue. "Join attributes by location
>> (summary)" is definitely the best choice for this use case. It creates
>> the new layer in a few seconds. That's why I think we are missing
>> something (spatial indexes?, dependency graph?) in the expression engine.
>>
>> There are anomalies in the data. That's almost the same with any dataset
>> we start working with :-)
>>
>> Regards,
>>
>> Jorge
> I tried a different approach, using aggregate, matching on the country
> name, thinking that would be faster than a spatial check.
> I created a new field with the expression:
> 
>     aggregate( '03-03-2021','sum', "Confirmed", "Country_Region" ILIKE attribute(@parent,'SOVEREIGNT'))
> 
> Much to my surprise, this was slower than "Join attributes by location
> (summary)"
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From jgr at di.uminho.pt  Sun Mar 14 17:18:01 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Mon, 15 Mar 2021 00:18:01 +0000
Subject: [QGIS-Developer] point in polygon strikes again: big
 performance issue
In-Reply-To: <CAB28AsgnKPg8Q-Sou73_N9TPAUc3uip=_d3gS43big7P6TwP7Q@mail.gmail.com>
References: <93887e44-9bf3-025d-a8ac-cf96201775ea@di.uminho.pt>
 <e72f1308-7141-bea1-323c-ed08dee205d0@stripfamily.net>
 <9ad32dc1-6c0d-cfbf-f3e5-b65f43546917@di.uminho.pt>
 <c6277258-c7da-b521-7bda-728f3a3f0469@stripfamily.net>
 <CAB28AsgnKPg8Q-Sou73_N9TPAUc3uip=_d3gS43big7P6TwP7Q@mail.gmail.com>
Message-ID: <db96e0fa-9e96-3108-2e9c-d4c40078fb59@di.uminho.pt>

Hi Nyall,

Fully agree with you. There are many ways to do this.

In summary, expressions should be used caution, specially in virtual
fields.

But it is so nice to have expressions in virtual fields able to update
as we edit and move features around. I love it!

Regards,

Jorge
?s 00:01 de 15/03/21, Nyall Dawson escreveu:
> On Mon, 15 Mar 2021 at 09:56, David Strip <qgis-dev at stripfamily.net> wrote:
>>
>> On 3/14/2021 5:34 PM, Jorge Gustavo Rocha wrote:
>>
>> Hi David,
>>
>> Thanks for replication this issue. "Join attributes by location
>> (summary)" is definitely the best choice for this use case. It creates
>> the new layer in a few seconds. That's why I think we are missing
>> something (spatial indexes?, dependency graph?) in the expression engine.
>>
>> There are anomalies in the data. That's almost the same with any dataset
>> we start working with :-)
>>
>> Regards,
>>
>> Jorge
>>
>> I tried a different approach, using aggregate, matching on the country name, thinking that would be faster than a spatial check.
>> I created a new field with the expression:
>>
>> aggregate( '03-03-2021','sum', "Confirmed", "Country_Region" ILIKE attribute(@parent,'SOVEREIGNT'))
>>
>> Much to my surprise, this was slower than "Join attributes by location (summary)"
> 
> As noted previously in this thread, the expression engined isn't
> optimised for this kind of use case, vs the processing algorithms
> which are HEAVILY optimised!
> 
> Like almost everything in GIS, there's many ways to achieve the same
> results and some will work better than others! :D
> 
> Nyall
> 
> 
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From delazj at gmail.com  Mon Mar 15 03:38:54 2021
From: delazj at gmail.com (DelazJ)
Date: Mon, 15 Mar 2021 11:38:54 +0100
Subject: [QGIS-Developer] Update local branch with upstream from within
 github website
Message-ID: <CAECJsSpK70d7=XuoXBoHgaxcaE1YK0_j8_Jrg-DpCd=aamV9fw@mail.gmail.com>

Hi all,

During the last QGIS Open Day, Rosa made a talk about how she became a docs
contributor (if you did not see it, worth a watch [0]). One point raised by
some attendees is the not-so-obvious way for beginners to have their
branches (mainly master) aligned with the upstream repo. Actually a general
issue with github web interface.

I stumbled upon the "Fork Sync With Upstream" [1] github action few days
ago and implemented the workflow in my fork [2]. Having no git tool on the
main machines I work with, it's something I began to use and I see this as
an easy opportunity to quickly be inline with upstream and contribute
directly from within github website (and avoid those patch-xxx branches).
Some runs at [3](*).

Could this be of a greater interest, and something to set up in our repo
(don't know how and I'm not a github actions guru)?

(*) it works well on my qgis docs repo [4]. For the code repo, it works
nicely with release-* but fails on master due to some workflows permission.
I also would like to run "pull --rebase" but no success, yet. Any help
would be more than welcome. Thanks.

[0] https://www.youtube.com/watch?v=ckrAg6azip8
[1] https://github.com/marketplace/actions/fork-sync-with-upstream
[2] https://github.com/qgis/QGIS/compare/master...DelazJ:main2
[3] https://github.com/DelazJ/QGIS/actions/workflows/sync_branches.yml
[4]
https://github.com/DelazJ/QGIS-Documentation/actions/workflows/branchUpdates.yml

Looking forward,

Regards
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210315/52b32ede/attachment.html>

From Stefan.Giese at wheregroup.com  Mon Mar 15 07:10:29 2021
From: Stefan.Giese at wheregroup.com (Stefan Giese)
Date: Mon, 15 Mar 2021 15:10:29 +0100
Subject: [QGIS-Developer] Developer wanted for Feature Request: Set
 preferred angle units for symbol styles
Message-ID: <ef469029-ff9c-9e10-1e20-3f1d64e2d4ce@wheregroup.com>

Hi all,

I've put a feature request issue 2 month ago "Set preferred angle units 
for symbol styles #41099" (https://github.com/qgis/QGIS/issues/41099). 
The issue comes from one of our customers and now they are willing to 
pay for the feature. Is there anybody who wants to and can do the 
implementation of that feature? If yes, we first need a rough estimation 
of the costs. Please contact me for further information.

Best regards

Stefan

-- 
Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant
---------------------------------------------
Einladung zum
Mapbender Anwendertreffen
online am 25.03.2021
https://mapbender.org
---------------------------------------------
WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Fon: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885


-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 495 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210315/816edbde/attachment-0001.sig>

From adenaculture at gmail.com  Mon Mar 15 07:50:23 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 15 Mar 2021 10:50:23 -0400
Subject: [QGIS-Developer] Strange Behavior with QgsProcessingParameterNumber
 - Bug?
Message-ID: <CABPxTTpNXkJ+OMnK_-26zYEQf9HNG1TvRaLrWkE-BJgiKQmTnA@mail.gmail.com>

In a processing algorithm I have a double QgsProcessingParameterNumber
where I have set the number of decimals metadata to be 20.

param = QgsProcessingParameterNumber(
            'NUMBER',
            tr('Number'),
            QgsProcessingParameterNumber.Double,
            defaultValue=0,
            optional=False)
        param.setMetadata({'widget_wrapper': { 'decimals': 20 }})
        self.addParameter(param)

In the processing popup, if I enter a number with less than 20 digits then
the rest of the digits become some random number. For example if I enter

-0.1556640799496235

the displayed result is

-0.15566407994962350170

I would think that if it pads with extra digits to fill out to 20, the
digits should be 0. Have I exceeded the number of acceptable decimal
digits, or is this a bug?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210315/1153ad84/attachment.html>

From adenaculture at gmail.com  Mon Mar 15 09:04:18 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 15 Mar 2021 12:04:18 -0400
Subject: [QGIS-Developer] Strange Behavior with
 QgsProcessingParameterNumber - Bug?
In-Reply-To: <7f0910795deb4b0ba85cbec8ba04d21d@panoimagen.com>
References: <CABPxTTpNXkJ+OMnK_-26zYEQf9HNG1TvRaLrWkE-BJgiKQmTnA@mail.gmail.com>
 <7f0910795deb4b0ba85cbec8ba04d21d@panoimagen.com>
Message-ID: <CABPxTTr-SK-bTEfdqOAu4p63KsUJCKd9z-SaTpnhjv4UKruNoA@mail.gmail.com>

I figured that something like that was probably causing this. No, I don't
need 20 digits. i was seeing data with 16 digits from KMLs.

Thanks,

Calvin

On Mon, Mar 15, 2021 at 11:54 AM javier <javier at panoimagen.com> wrote:

> Hi Calvin,
>
>
> That is not related to QGIS, but to the way the CPU represents floating
> points numbers internally.
>
> You can see the same behaviour in the Python console (or any Python
> interpreter, and surely almost any other programming language that
> uses doubles):
>
> ```
>
> >>> v = -0.1556640799496235
>
> >>> print(f'{v:.20f}')
>
> -0.15566407994962350170
>
> ```
>
> The reason those extra digits are not '0' is because doubles are not
> stored in base 10, and anything beyond their standard ~16 significant
> digits is approximated. For a more detailed explanation you can take a look
> at Python documentation, they have a clear explanation on the topic (
> https://docs.python.org/3/tutorial/floatingpoint.html).
>
>
>
> If you really, really, really need 20 significant decimal places (that
> seems an extremely rare situation, see https://xkcd.com/2170/ ) you
> should be looking at your code really carefully, as you need a larger (in
> number of bits) than usual floating point type; I think that neither QGIS
> (or standard Python or C++) support it out of the box.
>
>
> Regards,
>
> Javier
> ------------------------------
> *De:* QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> en nombre
> de C Hamilton <adenaculture at gmail.com>
> *Enviado:* lunes, 15 de marzo de 2021 15:50:23
> *Para:* qgis-developer
> *Asunto:* [QGIS-Developer] Strange Behavior with
> QgsProcessingParameterNumber - Bug?
>
> In a processing algorithm I have a double QgsProcessingParameterNumber
> where I have set the number of decimals metadata to be 20.
>
> param = QgsProcessingParameterNumber(
>             'NUMBER',
>             tr('Number'),
>             QgsProcessingParameterNumber.Double,
>             defaultValue=0,
>             optional=False)
>         param.setMetadata({'widget_wrapper': { 'decimals': 20 }})
>         self.addParameter(param)
>
> In the processing popup, if I enter a number with less than 20 digits then
> the rest of the digits become some random number. For example if I enter
>
> -0.1556640799496235
>
> the displayed result is
>
> -0.15566407994962350170
>
> I would think that if it pads with extra digits to fill out to 20, the
> digits should be 0. Have I exceeded the number of acceptable decimal
> digits, or is this a bug?
>
> Thanks,
>
> Calvin
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210315/179556ed/attachment.html>

From javier at panoimagen.com  Mon Mar 15 08:54:41 2021
From: javier at panoimagen.com (javier)
Date: Mon, 15 Mar 2021 15:54:41 +0000
Subject: [QGIS-Developer] Strange Behavior with
 QgsProcessingParameterNumber - Bug?
In-Reply-To: <CABPxTTpNXkJ+OMnK_-26zYEQf9HNG1TvRaLrWkE-BJgiKQmTnA@mail.gmail.com>
References: <CABPxTTpNXkJ+OMnK_-26zYEQf9HNG1TvRaLrWkE-BJgiKQmTnA@mail.gmail.com>
Message-ID: <7f0910795deb4b0ba85cbec8ba04d21d@panoimagen.com>

Hi Calvin,


That is not related to QGIS, but to the way the CPU represents floating points numbers internally.

You can see the same behaviour in the Python console (or any Python interpreter, and surely almost any other programming language that uses doubles):

```

>>> v = -0.1556640799496235

>>> print(f'{v:.20f}')

-0.15566407994962350170

```

The reason those extra digits are not '0' is because doubles are not stored in base 10, and anything beyond their standard ~16 significant digits is approximated. For a more detailed explanation you can take a look at Python documentation, they have a clear explanation on the topic (https://docs.python.org/3/tutorial/floatingpoint.html).



If you really, really, really need 20 significant decimal places (that seems an extremely rare situation, see https://xkcd.com/2170/ ) you should be looking at your code really carefully, as you need a larger (in number of bits) than usual floating point type; I think that neither QGIS (or standard Python or C++) support it out of the box.

Regards,

Javier

________________________________
De: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> en nombre de C Hamilton <adenaculture at gmail.com>
Enviado: lunes, 15 de marzo de 2021 15:50:23
Para: qgis-developer
Asunto: [QGIS-Developer] Strange Behavior with QgsProcessingParameterNumber - Bug?

In a processing algorithm I have a double QgsProcessingParameterNumber where I have set the number of decimals metadata to be 20.

param = QgsProcessingParameterNumber(
            'NUMBER',
            tr('Number'),
            QgsProcessingParameterNumber.Double,
            defaultValue=0,
            optional=False)
        param.setMetadata({'widget_wrapper': { 'decimals': 20 }})
        self.addParameter(param)

In the processing popup, if I enter a number with less than 20 digits then the rest of the digits become some random number. For example if I enter

-0.1556640799496235

the displayed result is

-0.15566407994962350170

I would think that if it pads with extra digits to fill out to 20, the digits should be 0. Have I exceeded the number of acceptable decimal digits, or is this a bug?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210315/7bdb1ff8/attachment.html>

From andreaerdna at libero.it  Mon Mar 15 09:50:50 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Mon, 15 Mar 2021 09:50:50 -0700 (MST)
Subject: [QGIS-Developer] Strange Behavior with
 QgsProcessingParameterNumber - Bug?
In-Reply-To: <CABPxTTpNXkJ+OMnK_-26zYEQf9HNG1TvRaLrWkE-BJgiKQmTnA@mail.gmail.com>
References: <CABPxTTpNXkJ+OMnK_-26zYEQf9HNG1TvRaLrWkE-BJgiKQmTnA@mail.gmail.com>
Message-ID: <1615827050933-0.post@n6.nabble.com>

C Hamilton wrote
> In the processing popup, if I enter a number with less than 20 digits then
> the rest of the digits become some random number. For example if I enter
> 
> -0.1556640799496235
> 
> the displayed result is
> 
> -0.15566407994962350170

AFAIK a Double-precision 64 bit floating-point (IEEE 754) can represent base
10 floating point numbers with about 15-17 significant decimal digits
precision. Floating-point numbers cannot exactly represent all the real
numbers in a range.

-0.1556640799496235 is represented as 0xBFC3ECCCF245D4FC as 64 bit
floating-point.
Anyway, the "most accurate representation" of 0xBFC3ECCCF245D4FC is
-0.155664079949623501697431038338

If you convert 0xBFC3ECCCF245D4FC to a base 10 real number rounding to 20
decimal digits you will display: -0.15566407994962350170

0xBFC3ECCCF245D4FB -> -0.15566407994962347
0xBFC3ECCCF245D4FC -> -0.15566407994962350
0xBFC3ECCCF245D4FD -> -0.15566407994962353


-0.15566407994962349 -> 0xBFC3ECCCF245D4FC
-0.15566407994962350 -> 0xBFC3ECCCF245D4FC
-0.15566407994962351 -> 0xBFC3ECCCF245D4FC

See:
https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems
https://en.wikipedia.org/wiki/Double-precision_floating-point_format
https://www.binaryconvert.com/convert_double.html
https://babbage.cs.qc.cuny.edu/IEEE-754.old/64bit.html
https://www.h-schmidt.net/FloatConverter/IEEE754.html

So I think this explains the issue.

Regards.

Andrea




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From pathmapper at posteo.de  Tue Mar 16 02:26:50 2021
From: pathmapper at posteo.de (pathmapper)
Date: Tue, 16 Mar 2021 10:26:50 +0100
Subject: [QGIS-Developer] Compilation error with 'master'
Message-ID: <869d8d44894709504e5c9b9f24874098@posteo.de>

Hi,

if I try to compile QGIS with latest master (commit 8731c7e) it fails 
with:

QGIS/src/core/qgscoordinatetransform_p.cpp:26:10: fatal error: 
proj_experimental.h: Datei oder Verzeichnis nicht gefunden
  #include <proj_experimental.h>
           ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.

("Datei oder Verzeichnis nicht gefunden" -> "file or folder not found")

I'm on Debian Buster and compiling the 'release-3_18' branch (commit 
d740a22) works flawlessly with my setup.

Any idea how to fix this?

Cheers,
Bjoern



From pathmapper at posteo.de  Tue Mar 16 02:51:07 2021
From: pathmapper at posteo.de (pathmapper)
Date: Tue, 16 Mar 2021 10:51:07 +0100
Subject: [QGIS-Developer] Compilation error with 'master'
In-Reply-To: <869d8d44894709504e5c9b9f24874098@posteo.de>
References: <869d8d44894709504e5c9b9f24874098@posteo.de>
Message-ID: <6234f67504e04d5f521523376b83a10c@posteo.de>

OK, tracked this down to
https://github.com/qgis/QGIS/commit/e11801d34e11dd1e7edfbcb2f3cda7bf476ea599#diff-559ffd97601953ff5b3414dc8f132583a144ae8257ebd2a482a2d10a2c8257eb
so it's likely related to the proj version I'm using.

On 16.03.2021 10:26, pathmapper wrote:
> Hi,
> 
> if I try to compile QGIS with latest master (commit 8731c7e) it fails 
> with:
> 
> QGIS/src/core/qgscoordinatetransform_p.cpp:26:10: fatal error:
> proj_experimental.h: Datei oder Verzeichnis nicht gefunden
>  #include <proj_experimental.h>
>           ^~~~~~~~~~~~~~~~~~~~~
> compilation terminated.
> 
> ("Datei oder Verzeichnis nicht gefunden" -> "file or folder not found")
> 
> I'm on Debian Buster and compiling the 'release-3_18' branch (commit
> d740a22) works flawlessly with my setup.
> 
> Any idea how to fix this?
> 
> Cheers,
> Bjoern
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From jgr at di.uminho.pt  Tue Mar 16 03:04:38 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 16 Mar 2021 10:04:38 +0000
Subject: [QGIS-Developer] Compilation error with 'master'
In-Reply-To: <869d8d44894709504e5c9b9f24874098@posteo.de>
References: <869d8d44894709504e5c9b9f24874098@posteo.de>
Message-ID: <4114c153-8d3d-c220-8fa4-3d7629f522e3@di.uminho.pt>

Hi Bjoern,

Are you using PROJ from packages or a compiled version by yourself? Are
you using PROJ 8 or a former version?

You should have proj_experimental.h available at PROJ_INCLUDE_DIR.

Try to locate where you have proj_experimental.h and set
PROJ_INCLUDE_DIR to it.

cmake -G Ninja -DCMAKE_BUILD_TYPE=Debug
-DPROJ_INCLUDE_DIR=/usr/local/include ../QGIS

If needed, you can also define PROJ_LIBRARY, if not in a default path.

cmake -G Ninja -DCMAKE_BUILD_TYPE=Debug
-DPROJ_INCLUDE_DIR=/usr/local/include
-DPROJ_LIBRARY=/usr/local/lib/libproj.so ../QGIS

Try not to mix versions of PROJ libraries. Delete all dangling former
versions.

I hope it helps. Regards,

Jorge Gustavo

?s 09:26 de 16/03/21, pathmapper escreveu:
> Hi,
> 
> if I try to compile QGIS with latest master (commit 8731c7e) it fails with:
> 
> QGIS/src/core/qgscoordinatetransform_p.cpp:26:10: fatal error:
> proj_experimental.h: Datei oder Verzeichnis nicht gefunden
> ?#include <proj_experimental.h>
> ????????? ^~~~~~~~~~~~~~~~~~~~~
> compilation terminated.
> 
> ("Datei oder Verzeichnis nicht gefunden" -> "file or folder not found")
> 
> I'm on Debian Buster and compiling the 'release-3_18' branch (commit
> d740a22) works flawlessly with my setup.
> 
> Any idea how to fix this?
> 
> Cheers,
> Bjoern
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From dassau at gbd-consult.de  Tue Mar 16 22:46:37 2021
From: dassau at gbd-consult.de (Otto Dassau)
Date: Wed, 17 Mar 2021 06:46:37 +0100
Subject: [QGIS-Developer] Problems with adopting scaled representation from
 QGIS
Message-ID: <20210317064637.51f7e251d9ac1950f2881ca7@gbd-consult.de>

Dear Developers,

i would like to describe a problem using QGIS WMS with defined scale visibility for layers. We already spent quite some time on it and for us it seems to be a wrong scale calculation in QGIS. But since we are not sure we would like to ask, if someone, deeper in the code, can have a look and, if it is the case, can provide a (payed) fix.

To better describe the problem we provide a sample web project under https://gws-dev.gbd-consult.de/project/scales_qgis/@753753,6661615,100000

The "Bank" layer has a scale-dependent representation defined in QGIS between 100000 - 80000, but is not rendered by QGIS at the scale 100000.

QGIS server is called with these parameters:

http://localhost:4000?
layers=Bank%20100000-80000
&map=%2Fdata%2Fshared%2Fpoi_scaled.qgs
&transparent=True
&bbox=748163.2561805135,6646683.920240255,767707.2561805135,6679247.920240255
&width=698
&height=1163
&srs=EPSG%3A3857
&format=image%2Fpng
&request=GetMap
&version=1.1.1
&service=WMS
&styles=

The resolution (meter per pixel) results from bbox and width

(767707.2561805135 - 748163.2561805135) / 698 = 28

According to OGC specifications, 1px = 0.28 mm x 0.28 mm, i.e. the scale here must be exactly 100000. But QGIS calculates it differently (excerpt from the debug log): 

src/core/geometry/qgsrectangle.cpp:152 : (toString) [0ms] Extents : 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
src/core/qgsmapsettings.cpp:222 : (updateDerived) [0ms] 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
src/core/qgsmapsettings.cpp:223 : (updateDerived) [1ms] Adjusted map units per pixel (x,y) : 28, 28
src/core/qgsmapsettings.cpp:224 : (updateDerived) [0ms] Recalced pixmap dimensions (x,y) : 698, 1163
src/core/qgsmapsettings.cpp:225 : (updateDerived) [0ms] Scale (assuming meters as map units) = 1:100314.96052759999292903

The scale (with the same bbox / width) is calculated as "1: 100314", and because that is greater than 100,000, the layer is not rendered by QGIS. 

We assume that there is a rounding error somewhere. As said we would be happy if a QGIS dev could have a look. The project file and data are in https://gitlab.gbd-consult.de/gws/gws-dev/tree/master/data/shared (poi_scaled.qgs and poi / subfolder).

Thanks a lot!
Otto

-- 
Geoinformatikb?ro Dassau GmbH 
Rethelstrasse 153
D - 40237 D?sseldorf
Tel: +49-211-69937750
Mobil:  +49-171-4687540
https://www.gbd-consult.de

Registergericht: Amtsgericht D?sseldorf, HR B 74022
Gesch?ftsf?hrer: Otto Dassau

From apasotti at gmail.com  Wed Mar 17 00:14:02 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 17 Mar 2021 08:14:02 +0100
Subject: [QGIS-Developer] Problems with adopting scaled representation
 from QGIS
In-Reply-To: <20210317064637.51f7e251d9ac1950f2881ca7@gbd-consult.de>
References: <20210317064637.51f7e251d9ac1950f2881ca7@gbd-consult.de>
Message-ID: <CAL5Q670BJrE9V2NVCntwoM54ffR3fm1fKDEk=PK9_MbJ9s0GaA@mail.gmail.com>

Hi Otto,

I would give it a look but credentials are required to download the test data:

> The project file and data are in https://gitlab.gbd-consult.de/gws/gws-dev/tree/master/data/shared (poi_scaled.qgs and poi / subfolder).




On Wed, Mar 17, 2021 at 6:55 AM Otto Dassau <dassau at gbd-consult.de> wrote:
>
> Dear Developers,
>
> i would like to describe a problem using QGIS WMS with defined scale visibility for layers. We already spent quite some time on it and for us it seems to be a wrong scale calculation in QGIS. But since we are not sure we would like to ask, if someone, deeper in the code, can have a look and, if it is the case, can provide a (payed) fix.
>
> To better describe the problem we provide a sample web project under https://gws-dev.gbd-consult.de/project/scales_qgis/@753753,6661615,100000
>
> The "Bank" layer has a scale-dependent representation defined in QGIS between 100000 - 80000, but is not rendered by QGIS at the scale 100000.
>
> QGIS server is called with these parameters:
>
> http://localhost:4000?
> layers=Bank%20100000-80000
> &map=%2Fdata%2Fshared%2Fpoi_scaled.qgs
> &transparent=True
> &bbox=748163.2561805135,6646683.920240255,767707.2561805135,6679247.920240255
> &width=698
> &height=1163
> &srs=EPSG%3A3857
> &format=image%2Fpng
> &request=GetMap
> &version=1.1.1
> &service=WMS
> &styles=
>
> The resolution (meter per pixel) results from bbox and width
>
> (767707.2561805135 - 748163.2561805135) / 698 = 28
>
> According to OGC specifications, 1px = 0.28 mm x 0.28 mm, i.e. the scale here must be exactly 100000. But QGIS calculates it differently (excerpt from the debug log):
>
> src/core/geometry/qgsrectangle.cpp:152 : (toString) [0ms] Extents : 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
> src/core/qgsmapsettings.cpp:222 : (updateDerived) [0ms] 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
> src/core/qgsmapsettings.cpp:223 : (updateDerived) [1ms] Adjusted map units per pixel (x,y) : 28, 28
> src/core/qgsmapsettings.cpp:224 : (updateDerived) [0ms] Recalced pixmap dimensions (x,y) : 698, 1163
> src/core/qgsmapsettings.cpp:225 : (updateDerived) [0ms] Scale (assuming meters as map units) = 1:100314.96052759999292903
>
> The scale (with the same bbox / width) is calculated as "1: 100314", and because that is greater than 100,000, the layer is not rendered by QGIS.
>
> We assume that there is a rounding error somewhere. As said we would be happy if a QGIS dev could have a look. The project file and data are in https://gitlab.gbd-consult.de/gws/gws-dev/tree/master/data/shared (poi_scaled.qgs and poi / subfolder).
>
> Thanks a lot!
> Otto
>
> --
> Geoinformatikb?ro Dassau GmbH
> Rethelstrasse 153
> D - 40237 D?sseldorf
> Tel: +49-211-69937750
> Mobil:  +49-171-4687540
> https://www.gbd-consult.de
>
> Registergericht: Amtsgericht D?sseldorf, HR B 74022
> Gesch?ftsf?hrer: Otto Dassau
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From dassau at gbd-consult.de  Wed Mar 17 00:29:32 2021
From: dassau at gbd-consult.de (Otto Dassau)
Date: Wed, 17 Mar 2021 08:29:32 +0100
Subject: [QGIS-Developer] Problems with adopting scaled representation
 from QGIS
In-Reply-To: <CAL5Q670BJrE9V2NVCntwoM54ffR3fm1fKDEk=PK9_MbJ9s0GaA@mail.gmail.com>
References: <20210317064637.51f7e251d9ac1950f2881ca7@gbd-consult.de>
 <CAL5Q670BJrE9V2NVCntwoM54ffR3fm1fKDEk=PK9_MbJ9s0GaA@mail.gmail.com>
Message-ID: <20210317082932.4b351e30f8ac25f34ce3121e@gbd-consult.de>

Hi Alessandro,

sorry, put it also here:
https://nextcloud.gbd-consult.de/s/QRXAiQdABZGKiXK

Regards,
Otto

On Wed, 17 Mar 2021 08:14:02 +0100
Alessandro Pasotti <apasotti at gmail.com> wrote:

> Hi Otto,
> 
> I would give it a look but credentials are required to download the test data:
> 
> > The project file and data are in https://gitlab.gbd-consult.de/gws/gws-dev/tree/master/data/shared (poi_scaled.qgs and poi / subfolder).
> 
> 
> 
> 
> On Wed, Mar 17, 2021 at 6:55 AM Otto Dassau <dassau at gbd-consult.de> wrote:
> >
> > Dear Developers,
> >
> > i would like to describe a problem using QGIS WMS with defined scale visibility for layers. We already spent quite some time on it and for us it seems to be a wrong scale calculation in QGIS. But since we are not sure we would like to ask, if someone, deeper in the code, can have a look and, if it is the case, can provide a (payed) fix.
> >
> > To better describe the problem we provide a sample web project under https://gws-dev.gbd-consult.de/project/scales_qgis/@753753,6661615,100000
> >
> > The "Bank" layer has a scale-dependent representation defined in QGIS between 100000 - 80000, but is not rendered by QGIS at the scale 100000.
> >
> > QGIS server is called with these parameters:
> >
> > http://localhost:4000?
> > layers=Bank%20100000-80000
> > &map=%2Fdata%2Fshared%2Fpoi_scaled.qgs
> > &transparent=True
> > &bbox=748163.2561805135,6646683.920240255,767707.2561805135,6679247.920240255
> > &width=698
> > &height=1163
> > &srs=EPSG%3A3857
> > &format=image%2Fpng
> > &request=GetMap
> > &version=1.1.1
> > &service=WMS
> > &styles=
> >
> > The resolution (meter per pixel) results from bbox and width
> >
> > (767707.2561805135 - 748163.2561805135) / 698 = 28
> >
> > According to OGC specifications, 1px = 0.28 mm x 0.28 mm, i.e. the scale here must be exactly 100000. But QGIS calculates it differently (excerpt from the debug log):
> >
> > src/core/geometry/qgsrectangle.cpp:152 : (toString) [0ms] Extents : 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
> > src/core/qgsmapsettings.cpp:222 : (updateDerived) [0ms] 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
> > src/core/qgsmapsettings.cpp:223 : (updateDerived) [1ms] Adjusted map units per pixel (x,y) : 28, 28
> > src/core/qgsmapsettings.cpp:224 : (updateDerived) [0ms] Recalced pixmap dimensions (x,y) : 698, 1163
> > src/core/qgsmapsettings.cpp:225 : (updateDerived) [0ms] Scale (assuming meters as map units) = 1:100314.96052759999292903
> >
> > The scale (with the same bbox / width) is calculated as "1: 100314", and because that is greater than 100,000, the layer is not rendered by QGIS.
> >
> > We assume that there is a rounding error somewhere. As said we would be happy if a QGIS dev could have a look. The project file and data are in https://gitlab.gbd-consult.de/gws/gws-dev/tree/master/data/shared (poi_scaled.qgs and poi / subfolder).
> >
> > Thanks a lot!
> > Otto
> >
> > --
> > Geoinformatikb?ro Dassau GmbH
> > Rethelstrasse 153
> > D - 40237 D?sseldorf
> > Tel: +49-211-69937750
> > Mobil:  +49-171-4687540
> > https://www.gbd-consult.de
> >
> > Registergericht: Amtsgericht D?sseldorf, HR B 74022
> > Gesch?ftsf?hrer: Otto Dassau
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> -- 
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it


-- 
Geoinformatikb?ro Dassau GmbH 
Rethelstrasse 153
D - 40237 D?sseldorf
Tel: +49-211-69937750
Mobil:  +49-171-4687540
https://www.gbd-consult.de

Registergericht: Amtsgericht D?sseldorf, HR B 74022
Gesch?ftsf?hrer: Otto Dassau

From apasotti at gmail.com  Wed Mar 17 02:49:28 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 17 Mar 2021 10:49:28 +0100
Subject: [QGIS-Developer] Problems with adopting scaled representation
 from QGIS
In-Reply-To: <20210317082932.4b351e30f8ac25f34ce3121e@gbd-consult.de>
References: <20210317064637.51f7e251d9ac1950f2881ca7@gbd-consult.de>
 <CAL5Q670BJrE9V2NVCntwoM54ffR3fm1fKDEk=PK9_MbJ9s0GaA@mail.gmail.com>
 <20210317082932.4b351e30f8ac25f34ce3121e@gbd-consult.de>
Message-ID: <CAL5Q670TdrjL8VUnpB8JgiZfH_9jxRkBsyvWeXHVFGEiGGF0Yg@mail.gmail.com>

Hi Otto,

Here you go:https://github.com/qgis/QGIS/pull/42292

Let's hope that the tests do not fail due to the new rounding logic
(the old implementation was losing precision by taking the DPI from
the integer value of the paint device).



On Wed, Mar 17, 2021 at 8:29 AM Otto Dassau <dassau at gbd-consult.de> wrote:
>
> Hi Alessandro,
>
> sorry, put it also here:
> https://nextcloud.gbd-consult.de/s/QRXAiQdABZGKiXK
>
> Regards,
> Otto
>
> On Wed, 17 Mar 2021 08:14:02 +0100
> Alessandro Pasotti <apasotti at gmail.com> wrote:
>
> > Hi Otto,
> >
> > I would give it a look but credentials are required to download the test data:
> >
> > > The project file and data are in https://gitlab.gbd-consult.de/gws/gws-dev/tree/master/data/shared (poi_scaled.qgs and poi / subfolder).
> >
> >
> >
> >
> > On Wed, Mar 17, 2021 at 6:55 AM Otto Dassau <dassau at gbd-consult.de> wrote:
> > >
> > > Dear Developers,
> > >
> > > i would like to describe a problem using QGIS WMS with defined scale visibility for layers. We already spent quite some time on it and for us it seems to be a wrong scale calculation in QGIS. But since we are not sure we would like to ask, if someone, deeper in the code, can have a look and, if it is the case, can provide a (payed) fix.
> > >
> > > To better describe the problem we provide a sample web project under https://gws-dev.gbd-consult.de/project/scales_qgis/@753753,6661615,100000
> > >
> > > The "Bank" layer has a scale-dependent representation defined in QGIS between 100000 - 80000, but is not rendered by QGIS at the scale 100000.
> > >
> > > QGIS server is called with these parameters:
> > >
> > > http://localhost:4000?
> > > layers=Bank%20100000-80000
> > > &map=%2Fdata%2Fshared%2Fpoi_scaled.qgs
> > > &transparent=True
> > > &bbox=748163.2561805135,6646683.920240255,767707.2561805135,6679247.920240255
> > > &width=698
> > > &height=1163
> > > &srs=EPSG%3A3857
> > > &format=image%2Fpng
> > > &request=GetMap
> > > &version=1.1.1
> > > &service=WMS
> > > &styles=
> > >
> > > The resolution (meter per pixel) results from bbox and width
> > >
> > > (767707.2561805135 - 748163.2561805135) / 698 = 28
> > >
> > > According to OGC specifications, 1px = 0.28 mm x 0.28 mm, i.e. the scale here must be exactly 100000. But QGIS calculates it differently (excerpt from the debug log):
> > >
> > > src/core/geometry/qgsrectangle.cpp:152 : (toString) [0ms] Extents : 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
> > > src/core/qgsmapsettings.cpp:222 : (updateDerived) [0ms] 748163.2561805135337636,6646683.9202402550727129 : 767707.2561805135337636,6679247.9202402550727129
> > > src/core/qgsmapsettings.cpp:223 : (updateDerived) [1ms] Adjusted map units per pixel (x,y) : 28, 28
> > > src/core/qgsmapsettings.cpp:224 : (updateDerived) [0ms] Recalced pixmap dimensions (x,y) : 698, 1163
> > > src/core/qgsmapsettings.cpp:225 : (updateDerived) [0ms] Scale (assuming meters as map units) = 1:100314.96052759999292903
> > >
> > > The scale (with the same bbox / width) is calculated as "1: 100314", and because that is greater than 100,000, the layer is not rendered by QGIS.
> > >
> > > We assume that there is a rounding error somewhere. As said we would be happy if a QGIS dev could have a look. The project file and data are in https://gitlab.gbd-consult.de/gws/gws-dev/tree/master/data/shared (poi_scaled.qgs and poi / subfolder).
> > >
> > > Thanks a lot!
> > > Otto
> > >
> > > --
> > > Geoinformatikb?ro Dassau GmbH
> > > Rethelstrasse 153
> > > D - 40237 D?sseldorf
> > > Tel: +49-211-69937750
> > > Mobil:  +49-171-4687540
> > > https://www.gbd-consult.de
> > >
> > > Registergericht: Amtsgericht D?sseldorf, HR B 74022
> > > Gesch?ftsf?hrer: Otto Dassau
> > > _______________________________________________
> > > QGIS-Developer mailing list
> > > QGIS-Developer at lists.osgeo.org
> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> > Alessandro Pasotti
> > QCooperative:  www.qcooperative.net
> > ItOpen:   www.itopen.it
>
>
> --
> Geoinformatikb?ro Dassau GmbH
> Rethelstrasse 153
> D - 40237 D?sseldorf
> Tel: +49-211-69937750
> Mobil:  +49-171-4687540
> https://www.gbd-consult.de
>
> Registergericht: Amtsgericht D?sseldorf, HR B 74022
> Gesch?ftsf?hrer: Otto Dassau



--
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From rdmailings at duif.net  Wed Mar 17 19:59:46 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 18 Mar 2021 03:59:46 +0100
Subject: [QGIS-Developer] Please help me with #41970
Message-ID: <4d2aa472-366f-0a98-0139-fb17c2e00488@duif.net>

Hi,

I think I have a genuine issue with the Temporal Controller of QGIS handling data with a Temporal duration (interval).

See: https://github.com/qgis/QGIS/issues/41970

This makes QGIS unusable to me in my current work setup (viewing regularly (hourly/timebased) measuring and modelling datasets).

I have tried to fix it myself (see all pointers in the issue), but apparently I'm not able to make the issue clear to others, or others do not see/have the issue.

Is there anybody in the QGIS/temporal-space able to either:

- confirm the issue (and hopefully has some idea's on how to fix it)
or
- make it clear to me that I ask something very non-logical (aka there IS no problem but I should view at it differently)

Regards, 

A pretty desperate community member


From peter.steibert at t-online.de  Thu Mar 18 01:40:16 2021
From: peter.steibert at t-online.de (peter.steibert at t-online.de)
Date: Thu, 18 Mar 2021 09:40:16 +0100
Subject: [QGIS-Developer] Creating QOCISPATIAL driver for QtSql
Message-ID: <002801d71bd2$52091cd0$f61b5670$@t-online.de>

Hello,

 

when i visited
https://github.com/qgis/QGIS/blob/master/src/providers/oracle/ocispatial/qsq
l_ocispatial.cpp I learned, that it is possible to create an QOCISPATIAL
driver which can be used with QtSql. Unfortunately I failed to create the
corresponding DLL file without compiling the whole QGis project.

 

At the moment I am looking for an instruction which shows how to create the
QOCISPATIAL driver (and not the entire project). Especially I am interested
how Qt identifies the driver which is located in \plugins\sqldrivers.

 

Thanks in advance

Peter

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210318/b22c3752/attachment.html>

From julien.cabieces at oslandia.com  Thu Mar 18 06:18:19 2021
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Thu, 18 Mar 2021 14:18:19 +0100
Subject: [QGIS-Developer] Creating QOCISPATIAL driver for QtSql
In-Reply-To: <002801d71bd2$52091cd0$f61b5670$@t-online.de>
References: <002801d71bd2$52091cd0$f61b5670$@t-online.de>
Message-ID: <877dm44n38.fsf@julien-laptop.home>


Hi,

Here is how you create a database with the QOCISPATIAL driver
https://github.com/qgis/QGIS/blob/master/src/providers/oracle/qgsoracleconn.cpp#L78

Then, you just have to pass this object to a QSqlQuery object and here
you go!

For the build process of the driver, I think you can try building from the existing CMakeList
in the ocispatial folder, it should do just fine.

Then be carefull that the driver is well loaded by your program. You can
just add it in Qt plugins/sqldriver folder, or define it in qt.conf or
with QT_PLUGIN_PATH (see
https://doc.qt.io/qt-5/deployment-plugins.html).

Regards,
Julien


> Hello,
>
>  
>
> when i visited
> https://github.com/qgis/QGIS/blob/master/src/providers/oracle/ocispatial/qsq
> l_ocispatial.cpp I learned, that it is possible to create an QOCISPATIAL
> driver which can be used with QtSql. Unfortunately I failed to create the
> corresponding DLL file without compiling the whole QGis project.
>
>  
>
> At the moment I am looking for an instruction which shows how to create the
> QOCISPATIAL driver (and not the entire project). Especially I am interested
> how Qt identifies the driver which is located in \plugins\sqldrivers.
>
>  
>
> Thanks in advance
>
> Peter
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From peter.steibert at t-online.de  Thu Mar 18 09:31:43 2021
From: peter.steibert at t-online.de (peter.steibert at t-online.de)
Date: Thu, 18 Mar 2021 17:31:43 +0100
Subject: [QGIS-Developer] ZSTD missing while compiling QGis
Message-ID: <000001d71c14$2ef041a0$8cd0c4e0$@t-online.de>

Hello,

 

i am just trying to compile the QGis project. At the moment I am executing
configonly.bat with the following output:

 

**********************************************************************

** Visual Studio 2017 Developer Command Prompt v15.9.17

** Copyright (c) 2017 Microsoft Corporation

**********************************************************************

[vcvarsall.bat] Environment initialized for: 'x64'

BEGIN: 18.03.2021 17:01:32,56

CMAKE: 18.03.2021 17:01:32,58

-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.19042.

-- The C compiler identification is MSVC 19.16.27034.0

-- The CXX compiler identification is MSVC 19.16.27034.0

-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual
Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe

-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual
Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe --
works

-- Detecting C compiler ABI info

-- Detecting C compiler ABI info - done

-- Detecting C compile features

-- Detecting C compile features - done

-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual
Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe

-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual
Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe --
works

-- Detecting CXX compiler ABI info

-- Detecting CXX compiler ABI info - done

-- Detecting CXX compile features

-- Detecting CXX compile features - done

-- QGIS version: 3.19.0 Master (31900)

-- Looking for CL_VERSION_2_2

-- Looking for CL_VERSION_2_2 - found

-- Found OpenCL: C:/OSGeo4W64/lib/opencl.lib (found version "2.2")

-- Found OpenCL C++ headers: C:/OSGeo4W64/include

-- Found GRASS 7: C:/OSGeo4W64/apps/grass/grass78 (7.8.5, off_t size = 8)

-- Found ODBC: odbc32.lib

-- Found Proj: C:/OSGeo4W64/apps/proj-dev/lib/proj.lib version 8 (8.1.0)

-- Found GEOS: C:/OSGeo4W64/lib/geos_c.lib (3.8.1)

-- Found GDAL: C:/OSGeo4W64/apps/gdal-dev/lib/gdal_i.lib (3.3.0dev)

-- Found Expat: C:/OSGeo4W64/lib/expat.lib

-- Found Spatialindex: C:/OSGeo4W64/lib/spatialindex-64.lib

-- Found Qwt: C:/OSGeo4W64/apps/Qt5/lib/qwt.lib (6.1.3)

-- Found LibZip: C:/OSGeo4W64/lib/zip.lib

-- Found libzip: C:/OSGeo4W64/lib/zip.lib

-- Found Sqlite3: C:/OSGeo4W64/lib/sqlite3_i.lib

-- Found Protobuf: C:/OSGeo4W64/lib/libprotobuf.lib (found version "3.11.4")

-- Found Protobuf: C:/OSGeo4W64/lib/libprotobuf.lib

-- Found ZLIB: C:/OSGeo4W64/lib/zlib.lib (found version "1.2.8")

-- Found zlib: C:/OSGeo4W64/lib/zlib.lib

-- Found PostgreSQL: C:/OSGeo4W64/lib/libpq.lib

-- Found SpatiaLite: C:/OSGeo4W64/lib/spatialite_i.lib

-- Qt WebKit support enabled

-- Could NOT find ZSTD (missing: ZSTD_LIBRARY ZSTD_INCLUDE_DIR)

CMake Error at CMakeLists.txt:414 (message):

  ZSTD not found - EPT provider cannot be built

 

 

-- Configuring incomplete, errors occurred!

See also
"C:/OCI/QGIS-master2/QGIS-master/ms-windows/osgeo4w/build-qgis-test-x86_64/C
MakeFiles/CMakeOutput.log".

cmake failed

BUILD ERROR 1: 18.03.2021 17:01:40,43

 

 

How can i get ZSTD and achieve that it is detected by configonly.bat?

 

Thanks in advance

Peter

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210318/a162e9e2/attachment.html>

From stefan.uhrig at sap.com  Thu Mar 18 11:39:48 2021
From: stefan.uhrig at sap.com (Uhrig, Stefan)
Date: Thu, 18 Mar 2021 18:39:48 +0000
Subject: [QGIS-Developer] ZSTD missing while compiling QGis
In-Reply-To: <000001d71c14$2ef041a0$8cd0c4e0$@t-online.de>
References: <000001d71c14$2ef041a0$8cd0c4e0$@t-online.de>
Message-ID: <AM0PR02MB57770C802E38FC869075704D93699@AM0PR02MB5777.eurprd02.prod.outlook.com>

Hi Peter,

There is a zstd-devel package in the OSGeo4W setup. You can install it to resolve the issue.

Best regards,
Stefan

From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of peter.steibert at t-online.de
Sent: Thursday, March 18, 2021 5:32 PM
To: qgis-developer at lists.osgeo.org
Subject: [QGIS-Developer] ZSTD missing while compiling QGis

Hello,

i am just trying to compile the QGis project. At the moment I am executing configonly.bat with the following output:

**********************************************************************
** Visual Studio 2017 Developer Command Prompt v15.9.17
** Copyright (c) 2017 Microsoft Corporation
**********************************************************************
[vcvarsall.bat] Environment initialized for: 'x64'
BEGIN: 18.03.2021 17:01:32,56
CMAKE: 18.03.2021 17:01:32,58
-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.19042.
-- The C compiler identification is MSVC 19.16.27034.0
-- The CXX compiler identification is MSVC 19.16.27034.0
-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe
-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe
-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Professional/VC/Tools/MSVC/14.16.27023/bin/Hostx86/x64/cl.exe -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- QGIS version: 3.19.0 Master (31900)
-- Looking for CL_VERSION_2_2
-- Looking for CL_VERSION_2_2 - found
-- Found OpenCL: C:/OSGeo4W64/lib/opencl.lib (found version "2.2")
-- Found OpenCL C++ headers: C:/OSGeo4W64/include
-- Found GRASS 7: C:/OSGeo4W64/apps/grass/grass78 (7.8.5, off_t size = 8)
-- Found ODBC: odbc32.lib
-- Found Proj: C:/OSGeo4W64/apps/proj-dev/lib/proj.lib version 8 (8.1.0)
-- Found GEOS: C:/OSGeo4W64/lib/geos_c.lib (3.8.1)
-- Found GDAL: C:/OSGeo4W64/apps/gdal-dev/lib/gdal_i.lib (3.3.0dev)
-- Found Expat: C:/OSGeo4W64/lib/expat.lib
-- Found Spatialindex: C:/OSGeo4W64/lib/spatialindex-64.lib
-- Found Qwt: C:/OSGeo4W64/apps/Qt5/lib/qwt.lib (6.1.3)
-- Found LibZip: C:/OSGeo4W64/lib/zip.lib
-- Found libzip: C:/OSGeo4W64/lib/zip.lib
-- Found Sqlite3: C:/OSGeo4W64/lib/sqlite3_i.lib
-- Found Protobuf: C:/OSGeo4W64/lib/libprotobuf.lib (found version "3.11.4")
-- Found Protobuf: C:/OSGeo4W64/lib/libprotobuf.lib
-- Found ZLIB: C:/OSGeo4W64/lib/zlib.lib (found version "1.2.8")
-- Found zlib: C:/OSGeo4W64/lib/zlib.lib
-- Found PostgreSQL: C:/OSGeo4W64/lib/libpq.lib
-- Found SpatiaLite: C:/OSGeo4W64/lib/spatialite_i.lib
-- Qt WebKit support enabled
-- Could NOT find ZSTD (missing: ZSTD_LIBRARY ZSTD_INCLUDE_DIR)
CMake Error at CMakeLists.txt:414 (message):
  ZSTD not found - EPT provider cannot be built


-- Configuring incomplete, errors occurred!
See also "C:/OCI/QGIS-master2/QGIS-master/ms-windows/osgeo4w/build-qgis-test-x86_64/CMakeFiles/CMakeOutput.log".
cmake failed
BUILD ERROR 1: 18.03.2021 17:01:40,43


How can i get ZSTD and achieve that it is detected by configonly.bat?

Thanks in advance
Peter

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210318/b175bd9e/attachment-0001.html>

From eduardo.rojas at soltig.net  Thu Mar 18 13:01:18 2021
From: eduardo.rojas at soltig.net (=?UTF-8?Q?Eduardo_Rojas_Rodr=C3=ADguez?=)
Date: Thu, 18 Mar 2021 13:01:18 -0700 (MST)
Subject: [QGIS-Developer] OSGEO QGIS 3.18.0 broken?
In-Reply-To: <1614681775319-0.post@n6.nabble.com>
References: <1614681775319-0.post@n6.nabble.com>
Message-ID: <1616097678954-0.post@n6.nabble.com>

Yes apparently, I also just reinstalled it on a new Windows 10 and I get
exactly the same error



-----
Eduardo Rojas Rodr?guez
Analista en SIG
SOLTIG
Tel: (506) 2435-8868 / (506) 4001-5214 
eduardo.rojas at soltig.net
http://soltig.net


--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matthias at opengis.ch  Fri Mar 19 04:25:15 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 19 Mar 2021 12:25:15 +0100
Subject: [QGIS-Developer] Update local branch with upstream from within
 github website
In-Reply-To: <CAECJsSpK70d7=XuoXBoHgaxcaE1YK0_j8_Jrg-DpCd=aamV9fw@mail.gmail.com>
References: <CAECJsSpK70d7=XuoXBoHgaxcaE1YK0_j8_Jrg-DpCd=aamV9fw@mail.gmail.com>
Message-ID: <CAC7zN94-aVvJJ_Zrwp9JT1P5KmVjTKSB0w5q3ALtW17r6qtmeQ@mail.gmail.com>

Hi Harrissou,

Making contributions to the documentation as easy as possible for everyone
is a very good goal.

I think for most people the "edit on github" button on the documentation
page should be the number one go-to place for edits discovered on the fly.
Normally this will open a new branch in your repository (yes, sometimes you
get a `patch-1` branch, but that's impossible to avoid this way as far as I
am aware of).
Random thought, maybe we could add a link next to it that a) explains that
we appreciate contributions and b) that there is no risk involved and any
change will be reviewed before it's published.

The fork sync with upstream looks like a good solution for people who have
commit rights on the main repository (like you do). As far as I can tell,
you need to set this up on your own repository and nothing that can be done
"centralized".

For debugging the failures I am afraid that this won't be possible just on
the basis of a mail. I'd need to be able to ask some questions
interactively, maybe we can find some time to share a screen?

Regards
Matthias


On Mon, Mar 15, 2021 at 11:39 AM DelazJ <delazj at gmail.com> wrote:

> Hi all,
>
> During the last QGIS Open Day, Rosa made a talk about how she became a
> docs contributor (if you did not see it, worth a watch [0]). One point
> raised by some attendees is the not-so-obvious way for beginners to have
> their branches (mainly master) aligned with the upstream repo. Actually a
> general issue with github web interface.
>
> I stumbled upon the "Fork Sync With Upstream" [1] github action few days
> ago and implemented the workflow in my fork [2]. Having no git tool on the
> main machines I work with, it's something I began to use and I see this as
> an easy opportunity to quickly be inline with upstream and contribute
> directly from within github website (and avoid those patch-xxx branches).
> Some runs at [3](*).
>
> Could this be of a greater interest, and something to set up in our repo
> (don't know how and I'm not a github actions guru)?
>
> (*) it works well on my qgis docs repo [4]. For the code repo, it works
> nicely with release-* but fails on master due to some workflows permission.
> I also would like to run "pull --rebase" but no success, yet. Any help
> would be more than welcome. Thanks.
>
> [0] https://www.youtube.com/watch?v=ckrAg6azip8
> [1] https://github.com/marketplace/actions/fork-sync-with-upstream
> [2] https://github.com/qgis/QGIS/compare/master...DelazJ:main2
> [3] https://github.com/DelazJ/QGIS/actions/workflows/sync_branches.yml
> [4]
> https://github.com/DelazJ/QGIS-Documentation/actions/workflows/branchUpdates.yml
>
> Looking forward,
>
> Regards
> Harrissou
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210319/98533771/attachment.html>

From peter.steibert at t-online.de  Fri Mar 19 07:00:07 2021
From: peter.steibert at t-online.de (peter.steibert at t-online.de)
Date: Fri, 19 Mar 2021 15:00:07 +0100
Subject: [QGIS-Developer] QOCISPATIAL driver cannot be loaded
Message-ID: <001d01d71cc8$2b4d92a0$81e8b7e0$@t-online.de>

Hello,

 

I just compiled the qsqlocialspatial.dll from the QGis project and tried to
use it with QSqlDatabase.

 

QSqlDatabase db2 = QSqlDatabase::addDatabase("QOCISPATIAL");

 

 

When I startet the program it looked like the detection oft he sqldriver was
successful.

 

QFactoryLoader::QFactoryLoader() looking at
"C:/Qt/5.14.2/msvc2017_64/plugins/sqldrivers/qsqlocispatial.dll"

Found metadata in lib
C:/Qt/5.14.2/msvc2017_64/plugins/sqldrivers/qsqlocispatial.dll, metadata=

{

    "IID": "org.qt-project.Qt.QSqlDriverFactoryInterface",

    "MetaData": {

        "Keys": [

            "QOCISPATIAL8",

            "QOCISPATIAL"

        ]

    },

   "archreq": 0,

    "className": "QOCISpatialDriverPlugin",

    "debug": false,

    "version": 331264

}

 

Got keys from plugin meta data ("QOCISPATIAL8", "QOCISPATIAL")

 

 

Later when I tried to actually use the driver I got the following output.

 

QFactoryLoader::QFactoryLoader() checking directory path "C:/Users/Peter
Steibert/source/repos/QtWidgetsApplication2/x64/Release/sqldrivers" ...

"QtWidgetsApplication2.exe" (Win32):
"C:\Qt\5.14.2\msvc2017_64\plugins\sqldrivers\qsqlocispatial.dll" geladen.
Das Modul wurde ohne Symbole erstellt.

"QtWidgetsApplication2.exe" (Win32): "C:\Windows\System32\wsock32.dll"
geladen. 

"QtWidgetsApplication2.exe" (Win32): "C:\Windows\System32\wsock32.dll" wurde
entladen.

"QtWidgetsApplication2.exe" (Win32):
"C:\Qt\5.14.2\msvc2017_64\plugins\sqldrivers\qsqlocispatial.dll" wurde
entladen.

Cannot load library
C:\Qt\5.14.2\msvc2017_64\plugins\sqldrivers\qsqlocispatial.dll: Das
angegebene Modul wurde nicht gefunden.

QLibraryPrivate::loadPlugin failed on
"C:/Qt/5.14.2/msvc2017_64/plugins/sqldrivers/qsqlocispatial.dll" : "Cannot
load library
C:\\Qt\\5.14.2\\msvc2017_64\\plugins\\sqldrivers\\qsqlocispatial.dll: Das
angegebene Modul wurde nicht gefunden."

QSqlDatabase: QOCISPATIAL driver not loaded

QSqlDatabase: available drivers: QSQLITE QOCISPATIAL QOCISPATIAL8 QODBC
QODBC3 QPSQL QPSQL7

 

 

Thanks in advance for your help

Peter

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210319/ecf638ff/attachment.html>

From nicholas.sunhing at gmail.com  Fri Mar 19 08:02:47 2021
From: nicholas.sunhing at gmail.com (Nicholas Sun Hing)
Date: Fri, 19 Mar 2021 17:02:47 +0200
Subject: [QGIS-Developer] QGIS Intergrated Open Day 26 March 2021
Message-ID: <CAF-Lnm7Vg_o0KGM+Fom8w9aOju5PA=+UbOcYtRddPgpdiU6E+g@mail.gmail.com>

Dear QGIS Developers

It is getting close to the next QGIS Open Day. Please come and join the
QGIS Intergrated event. Our amazing lineup of presenters will show you how
QGIS can work in a network with other software and programs to create
dynamic and shareable spatial data, maps, and systems. For more information
on the presentations please click on the link below:
https://github.com/qgis/QGIS/wiki/QHF-March-2021

All of the YouTube live-streamed events will be recorded and made available
to users who couldn't make the live events

Please contact Zinziswa Xakayi by email zeighxakayi at gmail.com or via the
Telegram Channel username @zinzixakayi if you have any queries or need help
setting up events.

Hope to see you there
The QGIS open day organization team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210319/e64db215/attachment.html>

From tim at kartoza.com  Fri Mar 19 10:40:21 2021
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 19 Mar 2021 17:40:21 +0000
Subject: [QGIS-Developer] QGIS Server: getPrint fails with unsupported
 64-bit blend attempt
Message-ID: <CAES-DZQ3e+hPzXmWaEcD8hAzjmLm_Q1noP0eBZEgNch2WtwdTw@mail.gmail.com>

Hi All

Has anyone else encountered an issue with QGIS server getPrint requests
like this:

qgis-server_1  | blend_src_generic_rgb64: unsupported 64-bit blend attempted

My getPrint request produces a PNG with parts of the layout incuding
(including ironically the one thing that does have an inner shadow render
effect on it).

Regards

Tim


-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210319/5ceedc7e/attachment-0001.html>

From stefan.uhrig at sap.com  Fri Mar 19 11:38:13 2021
From: stefan.uhrig at sap.com (Uhrig, Stefan)
Date: Fri, 19 Mar 2021 18:38:13 +0000
Subject: [QGIS-Developer] QOCISPATIAL driver cannot be loaded
In-Reply-To: <001d01d71cc8$2b4d92a0$81e8b7e0$@t-online.de>
References: <001d01d71cc8$2b4d92a0$81e8b7e0$@t-online.de>
Message-ID: <AM0PR02MB5777BFE5735E44E3BDFE519E93689@AM0PR02MB5777.eurprd02.prod.outlook.com>

Hi Peter,

This usually happens if a library (qsqlocispatial.dll) is not able to load its dependencies.

I usually use Process Monitor (https://docs.microsoft.com/en-us/sysinternals/downloads/procmon) or Dependency Walker (https://www.dependencywalker.com/) to track those issues.

Are you trying to access an Oracle database? Then you might have to install the Oracle Instant Client: https://www.oracle.com/database/technologies/instant-client/winx64-64-downloads.html

Best regards,
Stefan

From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of peter.steibert at t-online.de
Sent: Friday, March 19, 2021 3:00 PM
To: qgis-developer at lists.osgeo.org
Subject: [QGIS-Developer] QOCISPATIAL driver cannot be loaded

Hello,

I just compiled the qsqlocialspatial.dll from the QGis project and tried to use it with QSqlDatabase.

QSqlDatabase db2 = QSqlDatabase::addDatabase("QOCISPATIAL");


When I startet the program it looked like the detection oft he sqldriver was successful.

QFactoryLoader::QFactoryLoader() looking at "C:/Qt/5.14.2/msvc2017_64/plugins/sqldrivers/qsqlocispatial.dll"
Found metadata in lib C:/Qt/5.14.2/msvc2017_64/plugins/sqldrivers/qsqlocispatial.dll, metadata=
{
    "IID": "org.qt-project.Qt.QSqlDriverFactoryInterface",
    "MetaData": {
        "Keys": [
            "QOCISPATIAL8",
            "QOCISPATIAL"
        ]
    },
   "archreq": 0,
    "className": "QOCISpatialDriverPlugin",
    "debug": false,
    "version": 331264
}

Got keys from plugin meta data ("QOCISPATIAL8", "QOCISPATIAL")


Later when I tried to actually use the driver I got the following output.

QFactoryLoader::QFactoryLoader() checking directory path "C:/Users/Peter Steibert/source/repos/QtWidgetsApplication2/x64/Release/sqldrivers" ...
"QtWidgetsApplication2.exe" (Win32): "C:\Qt\5.14.2\msvc2017_64\plugins\sqldrivers\qsqlocispatial.dll" geladen. Das Modul wurde ohne Symbole erstellt.
"QtWidgetsApplication2.exe" (Win32): "C:\Windows\System32\wsock32.dll" geladen.
"QtWidgetsApplication2.exe" (Win32): "C:\Windows\System32\wsock32.dll" wurde entladen.
"QtWidgetsApplication2.exe" (Win32): "C:\Qt\5.14.2\msvc2017_64\plugins\sqldrivers\qsqlocispatial.dll" wurde entladen.
Cannot load library C:\Qt\5.14.2\msvc2017_64\plugins\sqldrivers\qsqlocispatial.dll: Das angegebene Modul wurde nicht gefunden.
QLibraryPrivate::loadPlugin failed on "C:/Qt/5.14.2/msvc2017_64/plugins/sqldrivers/qsqlocispatial.dll" : "Cannot load library C:\\Qt\\5.14.2\\msvc2017_64\\plugins\\sqldrivers\\qsqlocispatial.dll: Das angegebene Modul wurde nicht gefunden."
QSqlDatabase: QOCISPATIAL driver not loaded
QSqlDatabase: available drivers: QSQLITE QOCISPATIAL QOCISPATIAL8 QODBC QODBC3 QPSQL QPSQL7


Thanks in advance for your help
Peter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210319/70088923/attachment.html>

From felahdab at gmail.com  Fri Mar 19 11:53:03 2021
From: felahdab at gmail.com (Florian El Ahdab)
Date: Fri, 19 Mar 2021 19:53:03 +0100
Subject: [QGIS-Developer] Translation for french
Message-ID: <CAEeudyRZ6Mt1_TEGawUp37ZFortyKT3XVhisX8QpKCXAdWGgrg@mail.gmail.com>

Hello everyone.

I went to transifex and requested to join the QGis Desktop project a few
days ago to help with the translation to French which is nearly complete.

Can anyone validate my request please ?

Regards.
Florian El-Ahdab.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210319/814d35a5/attachment.html>

From pathmapper at posteo.de  Fri Mar 19 22:05:47 2021
From: pathmapper at posteo.de (pathmapper)
Date: Sat, 20 Mar 2021 06:05:47 +0100
Subject: [QGIS-Developer] Compilation error with 'master'
In-Reply-To: <4114c153-8d3d-c220-8fa4-3d7629f522e3@di.uminho.pt>
References: <869d8d44894709504e5c9b9f24874098@posteo.de>
 <4114c153-8d3d-c220-8fa4-3d7629f522e3@di.uminho.pt>
Message-ID: <d341b8332ae58b451f383a184f57bf72@posteo.de>

Thanks a lot Jorge Gustavo, yes, I was using PROJ from packages (5.2.0) 
as described in 
https://github.com/qgis/QGIS/blob/master/INSTALL.md#33-install-build-dependencies

Upgrading to Debian testing (bullseye) solved this issue for me.

On 16.03.2021 11:04, Jorge Gustavo Rocha wrote:
> Hi Bjoern,
> 
> Are you using PROJ from packages or a compiled version by yourself? Are
> you using PROJ 8 or a former version?
> 
> You should have proj_experimental.h available at PROJ_INCLUDE_DIR.
> 
> Try to locate where you have proj_experimental.h and set
> PROJ_INCLUDE_DIR to it.
> 
> cmake -G Ninja -DCMAKE_BUILD_TYPE=Debug
> -DPROJ_INCLUDE_DIR=/usr/local/include ../QGIS
> 
> If needed, you can also define PROJ_LIBRARY, if not in a default path.
> 
> cmake -G Ninja -DCMAKE_BUILD_TYPE=Debug
> -DPROJ_INCLUDE_DIR=/usr/local/include
> -DPROJ_LIBRARY=/usr/local/lib/libproj.so ../QGIS
> 
> Try not to mix versions of PROJ libraries. Delete all dangling former
> versions.
> 
> I hope it helps. Regards,
> 
> Jorge Gustavo
> 
> ?s 09:26 de 16/03/21, pathmapper escreveu:
>> Hi,
>> 
>> if I try to compile QGIS with latest master (commit 8731c7e) it fails 
>> with:
>> 
>> QGIS/src/core/qgscoordinatetransform_p.cpp:26:10: fatal error:
>> proj_experimental.h: Datei oder Verzeichnis nicht gefunden
>> ?#include <proj_experimental.h>
>> ????????? ^~~~~~~~~~~~~~~~~~~~~
>> compilation terminated.
>> 
>> ("Datei oder Verzeichnis nicht gefunden" -> "file or folder not 
>> found")
>> 
>> I'm on Debian Buster and compiling the 'release-3_18' branch (commit
>> d740a22) works flawlessly with my setup.
>> 
>> Any idea how to fix this?
>> 
>> Cheers,
>> Bjoern
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Inform?tica
> Universidade do Minho
> 4710-057 Braga
> Gabinete 3.29 (Piso 3)
> Tel: +351 253604480
> Fax: +351 253604471
> M?vel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From delazj at gmail.com  Sat Mar 20 01:48:11 2021
From: delazj at gmail.com (Harrissou)
Date: Sat, 20 Mar 2021 09:48:11 +0100
Subject: [QGIS-Developer] Automatic creation of issue reports in doc repo
 for new features
Message-ID: <CC9A0175-DFD7-4744-842E-D9B7EEB05B85@gmail.com>

Hi devs,

This is a gentle reminder to add the  "needs documentation" label to the new features you are developing or reviewing so that the corresponding ticket is opened in docs repo. This is the only and single way to automatically create the reports.
The old way to add [feature] or [needs docs] to the commits does NOT create a report anymore (abandoned by github - and us - last autumn). It's however useful for writers to identify the new feature(s) among many changes in a pull request (but of course, only if the label is correctly added to the pull request).

So please, whenever you add "feature" or "changelog" labels to a pull request, consider whether adding the "needs documentation" label is also appropriate. Thanks.

Regards,
Harrissou
-- 
Envoy? de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma bri?vet?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210320/a76b5285/attachment.html>

From surveykshak at gmail.com  Sun Mar 21 09:26:42 2021
From: surveykshak at gmail.com (Sachin Kumar)
Date: Sun, 21 Mar 2021 21:56:42 +0530
Subject: [QGIS-Developer] "Compilation error with 3.18"
Message-ID: <CAGy7cYkRquLD2trJcyTvALCBZ0a0O+=Ua36cbNHG3qRWx_+UUA@mail.gmail.com>

Hi, I am compiling 3.18 on windows.

I am getting the error
"C:\OSGeo4W64\QGIS-release-3_18\src\core\pointcloud\qgseptdecoder.cpp(30):
fatal error C1083: Cannot open include file: 'zstd.h': No such file or
directory".

Where to get the file.

Thanks

Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210321/50df78d1/attachment.html>

From surveykshak at gmail.com  Sun Mar 21 10:10:46 2021
From: surveykshak at gmail.com (Paul N)
Date: Sun, 21 Mar 2021 10:10:46 -0700 (MST)
Subject: [QGIS-Developer] "Compilation error with 3.18"
In-Reply-To: <CAGy7cYkRquLD2trJcyTvALCBZ0a0O+=Ua36cbNHG3qRWx_+UUA@mail.gmail.com>
References: <CAGy7cYkRquLD2trJcyTvALCBZ0a0O+=Ua36cbNHG3qRWx_+UUA@mail.gmail.com>
Message-ID: <1616346646726-0.post@n6.nabble.com>

Just install zstd-devel. n Done



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From aleixpol at kde.org  Sun Mar 21 17:10:32 2021
From: aleixpol at kde.org (Aleix Pol)
Date: Mon, 22 Mar 2021 01:10:32 +0100
Subject: [QGIS-Developer] RFC: Flatpak packaging
Message-ID: <CACcA1RrFOJC67tbA2b68TAXED3+cK2=RLhwyohozwMx5Y3znog@mail.gmail.com>

Hi QGIS,
I've just created a QEP to have QGIS embrace and support QGIS's
flatpak version in flathub.org.

You can find more information here:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/220

Best regards,
Aleix

From etienne.trimaille at gmail.com  Sun Mar 21 22:16:48 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Mon, 22 Mar 2021 12:16:48 +0700
Subject: [QGIS-Developer] [Qgis-community-team] Automatic creation of
 issue reports in doc repo for new features
In-Reply-To: <CC9A0175-DFD7-4744-842E-D9B7EEB05B85@gmail.com>
References: <CC9A0175-DFD7-4744-842E-D9B7EEB05B85@gmail.com>
Message-ID: <CAMtDFL+DhkP0BLQt32fxboMn_fFVbOdo_3CG1BZLasdhN6VJ9Q@mail.gmail.com>

Thanks for the reminder.

I'm just adding some notes as well on PR descriptions.

https://changelog.qgis.org/ and
https://www.qgis.org/en/site/forusers/visualchangelogs.html are created by
"harvesting" the list of PR on GitHub. So the description is important.

For information, it want your feature/bugfix populated with the funder name
and/or URL, you can specify them in the PR description with one of these

Funded by NAME HTTPS://URL.COM
Funded by NAME
Funded by HTTPS://URL.COM

A regex will try to extract these 2 informations.

The first image found in the PR description will also be used as a proper
thumbnail.

These notes should be added in the contributing.md file.

Le sam. 20 mars 2021 ? 15:48, Harrissou <delazj at gmail.com> a ?crit :

> Hi devs,
>
> This is a gentle reminder to add the "needs documentation" label to the
> new features you are developing or reviewing so that the corresponding
> ticket is opened in docs repo. This is the only and single way to
> automatically create the reports.
> The old way to add [feature] or [needs docs] to the commits does NOT
> create a report anymore (abandoned by github - and us - last autumn). It's
> however useful for writers to identify the new feature(s) among many
> changes in a pull request (but of course, only if the label is correctly
> added to the pull request).
>
> So please, whenever you add "feature" or "changelog" labels to a pull
> request, consider whether adding the "needs documentation" label is also
> appropriate. Thanks.
>
> Regards,
> Harrissou
> --
> Envoy? de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma
> bri?vet?._______________________________________________
> Qgis-community-team mailing list for organizing community resources such
> as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/e7a48989/attachment.html>

From denis.rouzaud at gmail.com  Mon Mar 22 00:41:31 2021
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 22 Mar 2021 08:41:31 +0100
Subject: [QGIS-Developer] QEP for Docker images strategy
Message-ID: <CAMtsY+amwOgxfYSqZ9_8t9Yn-4y7N8e-CeKeW1VNH=q92eR75g@mail.gmail.com>

Hi all,

Please find a new QEP to improve the official Docker images situation for
QGIS
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/221

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/05a60ea1/attachment.html>

From anitagraser at gmx.at  Mon Mar 22 02:03:44 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 22 Mar 2021 10:03:44 +0100
Subject: [QGIS-Developer] 2021 grant applications are now closed
Message-ID: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>

Dear QGIS Community,

This is to let you know that the form for grant applications is now
closed and that we have received 12 applications totaling ? 42,500.

As a quick teaser, here are the proposals:

 1. Port DB Manager Table Management Functionalities to Browser: SQL
    execution https://github.com/qgis/QGIS-Enhancement-Proposals/issues/205
 2. Revision and completion of locale support for numeric input and
    display https://github.com/qgis/QGIS-Enhancement-Proposals/issues/210
 3. QGIS Server, OGC tests and Continuous Integration: OGC API Features
    (part 2) https://github.com/qgis/QGIS-Enhancement-Proposals/issues/212
 4. QGIS Server and services documentation
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/213
 5. Rework handling of multi-layer, mixed-format datasets
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/216
 6. Integrate GPS Tools plugin functionality into core QGIS
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/217
 7. QgsRasterProjector optimization with linear interpolation
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/214
 8. Notarizing QGIS for macOS
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/218
 9. Improved code coverage of geometry and maptool classes.
     ?https://github.com/qgis/WIP
10. Fixing terrain and camera issues in 3D
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/215
11. PIP?dependencies?for?Python?plugins
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202
12. Plugin review on plugins.qgis.org
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/219

We are now in the QEP discussion phase. Please tag all proposals with
the Grant-2021 tag:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues?q=is%3Aissue+is%3Aopen+label%3AGrant-2021

The QEP discussion phase takes two weeks and ends on Sunday, 4th April
2021. Afterwards, we will proceed to the voting phase with expected
publication of voting results on 18th April 2021.

Thank you to everyone who submitted their project proposals!

Regards,

Anita

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/45f5e01c/attachment.html>

From gordon at axelspace.com  Mon Mar 22 02:30:35 2021
From: gordon at axelspace.com (gordonbe)
Date: Mon, 22 Mar 2021 02:30:35 -0700 (MST)
Subject: [QGIS-Developer] Custom Contrast Enhancement Function
Message-ID: <1616405435005-0.post@n6.nabble.com>

My problem is that the contrast enhancement method I have in mind is quite
specific and relies on different statistics than the current functions like
StretchAndClipToMinimumMaximum, i.e. I'd like to use a method that also
relies on the mean value of the image.

I can see from the docs that there is a UserDefinedEnhancement option,
however I'm not quite clear on how to implement it.

For more detail on the code I'm using, please see my related StackOverflow
post here
https://stackoverflow.com/questions/66664148/pyqgis-custom-contrast-enhancement-function
(apologies for dual posting, I haven't received any feedback on
StackOverflow and if I get an answer here then I will delete the original
post to avoid duplication).

My approach is to write a new CustomFunction class that inherits the
QgsContrastEnhacementFunction where I can override the `enhance` method with
my own algorithm. This makes sense in my head but it doesn't work in
practice, the output appears black. Please let me know if I'm missing
something, or if pyQGIS simply doesn't support any alternative contrast
enhancement methods to do the currently hardcoded methods.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From nyall.dawson at gmail.com  Mon Mar 22 02:53:10 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 22 Mar 2021 19:53:10 +1000
Subject: [QGIS-Developer] [Qgis-psc] 2021 grant applications are now
 closed
In-Reply-To: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
References: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
Message-ID: <CAB28Ash_vc+8yV2238Ubvpeq4npVG2M5wgZ=f4gkkarcg7JWyA@mail.gmail.com>

On Mon, 22 Mar 2021 at 19:03, Anita Graser <anitagraser at gmx.at> wrote:
>

> Improved code coverage of geometry and maptool classes.     https://github.com/qgis/WIP

What is the status with this one? Is the link a typo or is there no
QEP for discussion?

Nyall

From anja.rdl at t-online.de  Mon Mar 22 02:55:35 2021
From: anja.rdl at t-online.de (anja.rdl at t-online.de)
Date: Mon, 22 Mar 2021 10:55:35 +0100 (CET)
Subject: [QGIS-Developer] Offline Editing (plugin Offline Bearbeitung)
Message-ID: <1616406935428.618472.d21cef0a21a85cda2483ec18753b1160ead550d4@spica.telekom.de>

Dear QGIS Community,
 
 
the Offline Editing plugin is a great tool.
 
We use this tool for exchanging Data and now we have the requirement
to do this daily.
 
Is there a possibility for automation.
 
I think about task or call the module in a standalone python script.
 
When you execute the plugin I can not find a entry in history (protocol).
 
Has somebody an idea or is there a solution.
 
Thanks for help.
 
Regards,
 
Anja
?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/dfc23371/attachment.html>

From anitagraser at gmx.at  Mon Mar 22 08:18:28 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 22 Mar 2021 16:18:28 +0100
Subject: [QGIS-Developer] [Qgis-psc] 2021 grant applications are now
 closed
In-Reply-To: <CAB28Ash_vc+8yV2238Ubvpeq4npVG2M5wgZ=f4gkkarcg7JWyA@mail.gmail.com>
References: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
 <CAB28Ash_vc+8yV2238Ubvpeq4npVG2M5wgZ=f4gkkarcg7JWyA@mail.gmail.com>
Message-ID: <aa1e99bc-461e-e27d-4f97-b4824e739dca@gmx.at>

Thanks Nyall,

On 22.03.2021 10:53, Nyall Dawson wrote:
> On Mon, 22 Mar 2021 at 19:03, Anita Graser <anitagraser at gmx.at> wrote:
>> Improved code coverage of geometry and maptool classes.     https://github.com/qgis/WIP
> What is the status with this one? Is the link a typo or is there no
> QEP for discussion?

I reached out to the proposal authors and here's the QEP link:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/222

Regards,

Anita



From adenaculture at gmail.com  Mon Mar 22 10:11:11 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 22 Mar 2021 13:11:11 -0400
Subject: [QGIS-Developer] New OSGeo Installer - Awesome No Sysadmin
Message-ID: <CABPxTTrH+fBAdBXMkxY8Cdbm33N+DuM3Ntnibq1A5i7EBd_nug@mail.gmail.com>

I want to thank the QGIS team for preparing the new OSGeo4W installer that
does not require sysadmin privileges. I have tried it on two computers
where I did not have sysadmin privileges and it worked. That is so awesome!
I can't wait until it gets out of the experimental phase and becomes the
default installer.

A big thanks to all the QGIS developers!

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/80939a41/attachment.html>

From adenaculture at gmail.com  Mon Mar 22 10:24:29 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 22 Mar 2021 13:24:29 -0400
Subject: [QGIS-Developer] Can't 'import pyproj' in QGI S 3.18.1
Message-ID: <CABPxTTpHpf-XO6QG1GWDSprwWfv802DZTYRPfTNRiGeKxdt+jg@mail.gmail.com>

I just found that I cannot "import pyproj" in QGIS 3.18.1. What has changed?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/87488046/attachment.html>

From prem.netgis at gmail.com  Mon Mar 22 10:26:55 2021
From: prem.netgis at gmail.com (Prem Kumar)
Date: Mon, 22 Mar 2021 22:56:55 +0530
Subject: [QGIS-Developer] REST API for QGIS processing tool
In-Reply-To: <CAP2_p61EivrnUOYWvH1xGjpB5eph8w8o666cNsX3=VjT1bSmMw@mail.gmail.com>
References: <CAP2_p62n-Cy0ed-YLiFvuZvq+YW3QTR7fe9BjiyLvAGXaARx-A@mail.gmail.com>
 <CAB28AsgYQHoDUainjPizAyS6fMf_H5gKm=8FwAfQrdMsB+14Xw@mail.gmail.com>
 <c13a3030-4111-0f4a-93b6-482335a81d86@gmail.com>
 <CAP2_p61EivrnUOYWvH1xGjpB5eph8w8o666cNsX3=VjT1bSmMw@mail.gmail.com>
Message-ID: <CAP2_p62+K+PvKF7q906HGvFGVvEQZp-Ja_rEweQxdR=tS7Cq+Q@mail.gmail.com>

Hi Team,

Im afraid to make a comment but the installation instructions in the github
are not specifically referring the integration of service and the qgis
installation and its modules. I have tried installing py-qgs-wps on linux
machine using archive tar file and ended up incompatibility issue between
python version - qgis installation and the service.

If it?s not more of an effort, can you please guide me to any installation
instructions? Thanks

-Prem

On Thu, 25 Feb 2021 at 7:44 PM, Prem Kumar <prem.netgis at gmail.com> wrote:

> HI Nyall and Ren?-Luc,
>
> Thank you very much for the pointers, much appreciated. Looks to me, a lot
> to learn some good stuff. Will let you know how it goes.
>
> -Prem
>
> On Thu, Feb 25, 2021 at 6:59 PM Ren?-Luc Dhont <rldhont at gmail.com> wrote:
>
>>
>> Le 24/02/2021 ? 23:27, Nyall Dawson a ?crit :
>> >
>> > Look into the "WPS" standard. There's even an existing server for
>> > this: https://github.com/3liz/py-qgis-wps
>>
>> Thanks Nyall to pointing it.
>>
>> Prem, If you are interested in a REST API, implementing the OGC API
>> Processes standard is  being considered for py-qgis-wps
>> * https://github.com/opengeospatial/ogcapi-processes/
>> * https://ogcapi.ogc.org/processes/
>>
>> py-qgis-wps is based on Tornado and any contributions are welcome.
>> https://github.com/3liz/py-qgis-wps
>>
>> Ren?-Luc
>>
>> >
>> > Nyall
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/0fb97ba4/attachment.html>

From delazj at gmail.com  Mon Mar 22 10:30:06 2021
From: delazj at gmail.com (DelazJ)
Date: Mon, 22 Mar 2021 18:30:06 +0100
Subject: [QGIS-Developer] Update local branch with upstream from within
 github website
In-Reply-To: <CAC7zN94-aVvJJ_Zrwp9JT1P5KmVjTKSB0w5q3ALtW17r6qtmeQ@mail.gmail.com>
References: <CAECJsSpK70d7=XuoXBoHgaxcaE1YK0_j8_Jrg-DpCd=aamV9fw@mail.gmail.com>
 <CAC7zN94-aVvJJ_Zrwp9JT1P5KmVjTKSB0w5q3ALtW17r6qtmeQ@mail.gmail.com>
Message-ID: <CAECJsSoCgUx=F-=hf0iw8_dj3atLJq=8XmmpvuaNmu1L359iBA@mail.gmail.com>

Hi Matthias,

I realized afterwards that the solution I found and that was somehow "well"
working for my workflows could not necessarily be proposed to our
contributors, be it for docs or for code repo. It requires the person to be
used to git(hub settings) and not all of us have looked into these (and it
may generate some unnecessary confusing noise if not well set up). So let's
say that my message was more to share the tool (in the case there are othr
lazy people like me or without access to full git command line tools).
About the failures, give me your slots and I'd be happy to share screens
with you and explore the issues I encounter. Thanks.

For the docs contributions, you are right: let's keep redirecting people to
the "Edit on github" button at the top of the pages. The idea to add an
information that there's no harm in hitting the button sounds good to me.
You meant as a full text next to the "edit on github" or a text when
hovering it? Not idea how deep we can customize the readthedocs template.

Regards,
Harrissou

Le ven. 19 mars 2021 ? 12:25, Matthias Kuhn <matthias at opengis.ch> a ?crit :

> Hi Harrissou,
>
> Making contributions to the documentation as easy as possible for everyone
> is a very good goal.
>
> I think for most people the "edit on github" button on the documentation
> page should be the number one go-to place for edits discovered on the fly.
> Normally this will open a new branch in your repository (yes, sometimes you
> get a `patch-1` branch, but that's impossible to avoid this way as far as I
> am aware of).
> Random thought, maybe we could add a link next to it that a) explains that
> we appreciate contributions and b) that there is no risk involved and any
> change will be reviewed before it's published.
>
> The fork sync with upstream looks like a good solution for people who have
> commit rights on the main repository (like you do). As far as I can tell,
> you need to set this up on your own repository and nothing that can be done
> "centralized".
>
> For debugging the failures I am afraid that this won't be possible just on
> the basis of a mail. I'd need to be able to ask some questions
> interactively, maybe we can find some time to share a screen?
>
> Regards
> Matthias
>
>
> On Mon, Mar 15, 2021 at 11:39 AM DelazJ <delazj at gmail.com> wrote:
>
>> Hi all,
>>
>> During the last QGIS Open Day, Rosa made a talk about how she became a
>> docs contributor (if you did not see it, worth a watch [0]). One point
>> raised by some attendees is the not-so-obvious way for beginners to have
>> their branches (mainly master) aligned with the upstream repo. Actually a
>> general issue with github web interface.
>>
>> I stumbled upon the "Fork Sync With Upstream" [1] github action few days
>> ago and implemented the workflow in my fork [2]. Having no git tool on the
>> main machines I work with, it's something I began to use and I see this as
>> an easy opportunity to quickly be inline with upstream and contribute
>> directly from within github website (and avoid those patch-xxx branches).
>> Some runs at [3](*).
>>
>> Could this be of a greater interest, and something to set up in our repo
>> (don't know how and I'm not a github actions guru)?
>>
>> (*) it works well on my qgis docs repo [4]. For the code repo, it works
>> nicely with release-* but fails on master due to some workflows permission.
>> I also would like to run "pull --rebase" but no success, yet. Any help
>> would be more than welcome. Thanks.
>>
>> [0] https://www.youtube.com/watch?v=ckrAg6azip8
>> [1] https://github.com/marketplace/actions/fork-sync-with-upstream
>> [2] https://github.com/qgis/QGIS/compare/master...DelazJ:main2
>> [3] https://github.com/DelazJ/QGIS/actions/workflows/sync_branches.yml
>> [4]
>> https://github.com/DelazJ/QGIS-Documentation/actions/workflows/branchUpdates.yml
>>
>> Looking forward,
>>
>> Regards
>> Harrissou
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/e4dbee85/attachment-0001.html>

From dmarteau at 3liz.com  Mon Mar 22 10:48:55 2021
From: dmarteau at 3liz.com (David Marteau)
Date: Mon, 22 Mar 2021 18:48:55 +0100
Subject: [QGIS-Developer] REST API for QGIS processing tool
In-Reply-To: <CAP2_p62+K+PvKF7q906HGvFGVvEQZp-Ja_rEweQxdR=tS7Cq+Q@mail.gmail.com>
References: <CAP2_p62n-Cy0ed-YLiFvuZvq+YW3QTR7fe9BjiyLvAGXaARx-A@mail.gmail.com>
 <CAB28AsgYQHoDUainjPizAyS6fMf_H5gKm=8FwAfQrdMsB+14Xw@mail.gmail.com>
 <c13a3030-4111-0f4a-93b6-482335a81d86@gmail.com>
 <CAP2_p61EivrnUOYWvH1xGjpB5eph8w8o666cNsX3=VjT1bSmMw@mail.gmail.com>
 <CAP2_p62+K+PvKF7q906HGvFGVvEQZp-Ja_rEweQxdR=tS7Cq+Q@mail.gmail.com>
Message-ID: <12a82096-db5c-2f1f-f88f-9009acb6733f@3liz.com>


Le 22/03/2021 ? 18:26, Prem Kumar a ?crit?:
> Hi Team,
>
> Im afraid to make a comment but the installation instructions in the 
> github are not specifically referring the integration of service and 
> the qgis installation and its modules. I have tried installing 
> py-qgs-wps on linux machine using archive tar file and ended up 
> incompatibility issue between python version - qgis installation and 
> the service.
>
> If it?s not more of an effort, can you please guide me to any 
> installation instructions? Thanks
Can you be more specific about the error your are facing ? if that's 
about py-qgs-wps then you should open an issue on github.
>
> -Prem
>
> On Thu, 25 Feb 2021 at 7:44 PM, Prem Kumar <prem.netgis at gmail.com 
> <mailto:prem.netgis at gmail.com>> wrote:
>
>     HI Nyall and Ren?-Luc,
>
>     Thank you very much for the pointers, much appreciated. Looks to
>     me, a lot to learn some good stuff. Will let you know how it goes.
>
>     -Prem
>
>     On Thu, Feb 25, 2021 at 6:59 PM Ren?-Luc Dhont <rldhont at gmail.com
>     <mailto:rldhont at gmail.com>> wrote:
>
>
>         Le 24/02/2021 ? 23:27, Nyall Dawson a ?crit?:
>         >
>         > Look into the "WPS" standard. There's even an existing
>         server for
>         > this: https://github.com/3liz/py-qgis-wps
>         <https://github.com/3liz/py-qgis-wps>
>
>         Thanks Nyall to pointing it.
>
>         Prem, If you are interested in a REST API, implementing the
>         OGC API
>         Processes standard is? being considered for py-qgis-wps
>         * https://github.com/opengeospatial/ogcapi-processes/
>         <https://github.com/opengeospatial/ogcapi-processes/>
>         * https://ogcapi.ogc.org/processes/
>         <https://ogcapi.ogc.org/processes/>
>
>         py-qgis-wps is based on Tornado and any contributions are welcome.
>         https://github.com/3liz/py-qgis-wps
>         <https://github.com/3liz/py-qgis-wps>
>
>         Ren?-Luc
>
>         >
>         > Nyall
>         >
>         > _______________________________________________
>         > QGIS-Developer mailing list
>         > QGIS-Developer at lists.osgeo.org
>         <mailto:QGIS-Developer at lists.osgeo.org>
>         > List info:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>         > Unsubscribe:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>         _______________________________________________
>         QGIS-Developer mailing list
>         QGIS-Developer at lists.osgeo.org
>         <mailto:QGIS-Developer at lists.osgeo.org>
>         List info:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>         Unsubscribe:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/0e520835/attachment.html>

From denis.rouzaud at gmail.com  Mon Mar 22 14:57:41 2021
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 22 Mar 2021 22:57:41 +0100
Subject: [QGIS-Developer] Update local branch with upstream from within
 github website
In-Reply-To: <CAECJsSoCgUx=F-=hf0iw8_dj3atLJq=8XmmpvuaNmu1L359iBA@mail.gmail.com>
References: <CAECJsSpK70d7=XuoXBoHgaxcaE1YK0_j8_Jrg-DpCd=aamV9fw@mail.gmail.com>
 <CAC7zN94-aVvJJ_Zrwp9JT1P5KmVjTKSB0w5q3ALtW17r6qtmeQ@mail.gmail.com>
 <CAECJsSoCgUx=F-=hf0iw8_dj3atLJq=8XmmpvuaNmu1L359iBA@mail.gmail.com>
Message-ID: <CAMtsY+Zuwa8bjtfnhJbL2yVU+LEG4Z6zqA1n4Xr9iCJti8NvMQ@mail.gmail.com>

Hi Harissou,

It might be possible that setting up this workflow on the main repo would
basically run fine in all forks (if actions are enabled) without any action
required from the user.

Would be worth a try!

Denis


Le lun. 22 mars 2021 ? 18:30, DelazJ <delazj at gmail.com> a ?crit :

> Hi Matthias,
>
> I realized afterwards that the solution I found and that was somehow
> "well" working for my workflows could not necessarily be proposed to our
> contributors, be it for docs or for code repo. It requires the person to be
> used to git(hub settings) and not all of us have looked into these (and it
> may generate some unnecessary confusing noise if not well set up). So let's
> say that my message was more to share the tool (in the case there are othr
> lazy people like me or without access to full git command line tools).
> About the failures, give me your slots and I'd be happy to share screens
> with you and explore the issues I encounter. Thanks.
>
> For the docs contributions, you are right: let's keep redirecting people
> to the "Edit on github" button at the top of the pages. The idea to add an
> information that there's no harm in hitting the button sounds good to me.
> You meant as a full text next to the "edit on github" or a text when
> hovering it? Not idea how deep we can customize the readthedocs template.
>
> Regards,
> Harrissou
>
> Le ven. 19 mars 2021 ? 12:25, Matthias Kuhn <matthias at opengis.ch> a
> ?crit :
>
>> Hi Harrissou,
>>
>> Making contributions to the documentation as easy as possible for
>> everyone is a very good goal.
>>
>> I think for most people the "edit on github" button on the documentation
>> page should be the number one go-to place for edits discovered on the fly.
>> Normally this will open a new branch in your repository (yes, sometimes you
>> get a `patch-1` branch, but that's impossible to avoid this way as far as I
>> am aware of).
>> Random thought, maybe we could add a link next to it that a) explains
>> that we appreciate contributions and b) that there is no risk involved and
>> any change will be reviewed before it's published.
>>
>> The fork sync with upstream looks like a good solution for people who
>> have commit rights on the main repository (like you do). As far as I can
>> tell, you need to set this up on your own repository and nothing that can
>> be done "centralized".
>>
>> For debugging the failures I am afraid that this won't be possible just
>> on the basis of a mail. I'd need to be able to ask some questions
>> interactively, maybe we can find some time to share a screen?
>>
>> Regards
>> Matthias
>>
>>
>> On Mon, Mar 15, 2021 at 11:39 AM DelazJ <delazj at gmail.com> wrote:
>>
>>> Hi all,
>>>
>>> During the last QGIS Open Day, Rosa made a talk about how she became a
>>> docs contributor (if you did not see it, worth a watch [0]). One point
>>> raised by some attendees is the not-so-obvious way for beginners to have
>>> their branches (mainly master) aligned with the upstream repo. Actually a
>>> general issue with github web interface.
>>>
>>> I stumbled upon the "Fork Sync With Upstream" [1] github action few days
>>> ago and implemented the workflow in my fork [2]. Having no git tool on the
>>> main machines I work with, it's something I began to use and I see this as
>>> an easy opportunity to quickly be inline with upstream and contribute
>>> directly from within github website (and avoid those patch-xxx branches).
>>> Some runs at [3](*).
>>>
>>> Could this be of a greater interest, and something to set up in our repo
>>> (don't know how and I'm not a github actions guru)?
>>>
>>> (*) it works well on my qgis docs repo [4]. For the code repo, it works
>>> nicely with release-* but fails on master due to some workflows permission.
>>> I also would like to run "pull --rebase" but no success, yet. Any help
>>> would be more than welcome. Thanks.
>>>
>>> [0] https://www.youtube.com/watch?v=ckrAg6azip8
>>> [1] https://github.com/marketplace/actions/fork-sync-with-upstream
>>> [2] https://github.com/qgis/QGIS/compare/master...DelazJ:main2
>>> [3] https://github.com/DelazJ/QGIS/actions/workflows/sync_branches.yml
>>> [4]
>>> https://github.com/DelazJ/QGIS-Documentation/actions/workflows/branchUpdates.yml
>>>
>>> Looking forward,
>>>
>>> Regards
>>> Harrissou
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/47452bb5/attachment.html>

From nyall.dawson at gmail.com  Mon Mar 22 15:46:51 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 23 Mar 2021 08:46:51 +1000
Subject: [QGIS-Developer] Can't 'import pyproj' in QGI S 3.18.1
In-Reply-To: <CABPxTTpHpf-XO6QG1GWDSprwWfv802DZTYRPfTNRiGeKxdt+jg@mail.gmail.com>
References: <CABPxTTpHpf-XO6QG1GWDSprwWfv802DZTYRPfTNRiGeKxdt+jg@mail.gmail.com>
Message-ID: <CAB28Ash5vxMZ=+Nxj=r+TVwCw5E9D7PPa4kKNccjxTqjG0ZrXA@mail.gmail.com>

On Tue, 23 Mar 2021 at 03:24, C Hamilton <adenaculture at gmail.com> wrote:
>
> I just found that I cannot "import pyproj" in QGIS 3.18.1. What has changed?

Which installer are you using?

Nyall

From nyall.dawson at gmail.com  Mon Mar 22 16:06:45 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 23 Mar 2021 09:06:45 +1000
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
Message-ID: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>

Hi list,

This is a public plea for more developers who are very familiar with
different parts of the QGIS codebase to become actively involved in
backport PR management.

We NEED more people to be actively (i.e. daily) monitoring for
backport PRs and then reviewing them if the backport affects code
areas which they're knowledgeable about.

Right now there's like... 2... of us doing this on a daily basis, and
we need more hands and eyes. Regressions are fixed by backports, but
they can also be introduced by backports. If we don't get more people
involved in this part of QGIS' maintenance then the stability of the
patch releases is compromised.

While I'm more than happy to keep reviewing backports which touch
areas of code I know well, we have a whole stack of backports for
server fixes, relation fixes, and other parts of QGIS I don't know
well enough to risk release stability by reviewing myself. These
backports are currently sitting in the queue for weeks without review,
and often they stale out and are closed without ever getting merged.

I've also a ton of backports for fixes that I make on a daily basis
which I cannot self review, so the PR queue gets flooded with my
backports until I actively pester/harass others to review and approve.

The truth is that the longer the PR queue, the more it stresses me out
and the less motivation I have to review the incoming feature PRs. We
have many older feature PRs which are stalled and waiting review for
months or longer, just because I'm so flooded with managing newer
incoming PRs that I never have time to review the older ones...

So please, if you know parts of the QGIS code well, and can spare 15
minutes a day to looking over the backport queue and approving any
backports you are confident are regression free, then please get
involved! (or ask your employer to officially allocate you this 15
minutes/day as a way of them supporting QGIS!)

Nyall

From adenaculture at gmail.com  Mon Mar 22 17:28:11 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 22 Mar 2021 20:28:11 -0400
Subject: [QGIS-Developer] Can't 'import pyproj' in QGI S 3.18.1
In-Reply-To: <CAB28Ash5vxMZ=+Nxj=r+TVwCw5E9D7PPa4kKNccjxTqjG0ZrXA@mail.gmail.com>
References: <CABPxTTpHpf-XO6QG1GWDSprwWfv802DZTYRPfTNRiGeKxdt+jg@mail.gmail.com>
 <CAB28Ash5vxMZ=+Nxj=r+TVwCw5E9D7PPa4kKNccjxTqjG0ZrXA@mail.gmail.com>
Message-ID: <CABPxTTpGFvUPPxPuQYu85S89tWbNxMzHyLDzhKGwB7cxP7wKhg@mail.gmail.com>

Nyall,

It is only with the testing OSGeo installer

http://download.osgeo.org/osgeo4w/testing/osgeo4w-setup.exe

I checked the normal installer and pyproj is there.

Calvin

On Mon, Mar 22, 2021 at 6:47 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Tue, 23 Mar 2021 at 03:24, C Hamilton <adenaculture at gmail.com> wrote:
> >
> > I just found that I cannot "import pyproj" in QGIS 3.18.1. What has
> changed?
>
> Which installer are you using?
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/148d4ef0/attachment.html>

From nyall.dawson at gmail.com  Mon Mar 22 17:30:45 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 23 Mar 2021 10:30:45 +1000
Subject: [QGIS-Developer] Can't 'import pyproj' in QGI S 3.18.1
In-Reply-To: <CABPxTTpGFvUPPxPuQYu85S89tWbNxMzHyLDzhKGwB7cxP7wKhg@mail.gmail.com>
References: <CABPxTTpHpf-XO6QG1GWDSprwWfv802DZTYRPfTNRiGeKxdt+jg@mail.gmail.com>
 <CAB28Ash5vxMZ=+Nxj=r+TVwCw5E9D7PPa4kKNccjxTqjG0ZrXA@mail.gmail.com>
 <CABPxTTpGFvUPPxPuQYu85S89tWbNxMzHyLDzhKGwB7cxP7wKhg@mail.gmail.com>
Message-ID: <CAB28AsisQ7BLbytebC4oac+P81v5gfQDw9WnEWVnQ_pNvFZgHw@mail.gmail.com>

On Tue, 23 Mar 2021 at 10:28, C Hamilton <adenaculture at gmail.com> wrote:
>
> Nyall,
>
> It is only with the testing OSGeo installer
>
> http://download.osgeo.org/osgeo4w/testing/osgeo4w-setup.exe
>
> I checked the normal installer and pyproj is there.

I'd file a bug against osgeo4w (not on the QGIS repo), and ask for it
to be packaged.

I'm curious though why you need pyproj and can't use the native
QgsCoordinateReferenceSystem apis?

Nyall


>
> Calvin
>
> On Mon, Mar 22, 2021 at 6:47 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> On Tue, 23 Mar 2021 at 03:24, C Hamilton <adenaculture at gmail.com> wrote:
>> >
>> > I just found that I cannot "import pyproj" in QGIS 3.18.1. What has changed?
>>
>> Which installer are you using?
>>
>> Nyall

From adenaculture at gmail.com  Mon Mar 22 17:48:37 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 22 Mar 2021 20:48:37 -0400
Subject: [QGIS-Developer] Can't 'import pyproj' in QGI S 3.18.1
In-Reply-To: <CAB28AsisQ7BLbytebC4oac+P81v5gfQDw9WnEWVnQ_pNvFZgHw@mail.gmail.com>
References: <CABPxTTpHpf-XO6QG1GWDSprwWfv802DZTYRPfTNRiGeKxdt+jg@mail.gmail.com>
 <CAB28Ash5vxMZ=+Nxj=r+TVwCw5E9D7PPa4kKNccjxTqjG0ZrXA@mail.gmail.com>
 <CABPxTTpGFvUPPxPuQYu85S89tWbNxMzHyLDzhKGwB7cxP7wKhg@mail.gmail.com>
 <CAB28AsisQ7BLbytebC4oac+P81v5gfQDw9WnEWVnQ_pNvFZgHw@mail.gmail.com>
Message-ID: <CABPxTTon84+EHgUtGVx1t9fKc+89t-qcJfSdt+vHqzLeUmKeXA@mail.gmail.com>

I was trying out some code with proj, but found that my script didn't work
in 3.18.1 so I asked. I will look back at that code, but also file a bug
report with osgeo4w.

Thanks,

Calvin

On Mon, Mar 22, 2021 at 8:30 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Tue, 23 Mar 2021 at 10:28, C Hamilton <adenaculture at gmail.com> wrote:
> >
> > Nyall,
> >
> > It is only with the testing OSGeo installer
> >
> > http://download.osgeo.org/osgeo4w/testing/osgeo4w-setup.exe
> >
> > I checked the normal installer and pyproj is there.
>
> I'd file a bug against osgeo4w (not on the QGIS repo), and ask for it
> to be packaged.
>
> I'm curious though why you need pyproj and can't use the native
> QgsCoordinateReferenceSystem apis?
>
> Nyall
>
>
> >
> > Calvin
> >
> > On Mon, Mar 22, 2021 at 6:47 PM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
> >>
> >> On Tue, 23 Mar 2021 at 03:24, C Hamilton <adenaculture at gmail.com>
> wrote:
> >> >
> >> > I just found that I cannot "import pyproj" in QGIS 3.18.1. What has
> changed?
> >>
> >> Which installer are you using?
> >>
> >> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210322/ec48307f/attachment.html>

From matteo.ghetta at gmail.com  Tue Mar 23 01:00:45 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 23 Mar 2021 09:00:45 +0100
Subject: [QGIS-Developer] QGIS and privacy
Message-ID: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>

Hi devs,

in the Italian QGIS Group we had a discussion on privacy "issues" 
related to the exposure of some Global Variables, like "user_full_name", 
that is automatically taken from the client.

Maybe some variable should be opt-in rather then opt-out: sharing a 
project between different computers/users can expose the user name 
without an explicit agreement of the final user.

What is your opinion on this?

Cheers

Matteo

From delazj at gmail.com  Tue Mar 23 04:19:33 2021
From: delazj at gmail.com (DelazJ)
Date: Tue, 23 Mar 2021 12:19:33 +0100
Subject: [QGIS-Developer] [Qgis-psc] 2021 grant applications are now
 closed
In-Reply-To: <aa1e99bc-461e-e27d-4f97-b4824e739dca@gmx.at>
References: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
 <CAB28Ash_vc+8yV2238Ubvpeq4npVG2M5wgZ=f4gkkarcg7JWyA@mail.gmail.com>
 <aa1e99bc-461e-e27d-4f97-b4824e739dca@gmx.at>
Message-ID: <CAECJsSoGpzDDsOgEvT+MFFzTVvw3+XtpZN_v1ab9E6X0=7idMw@mail.gmail.com>

Hi,

Thanks Anita for the summary.
Along with the technical proposal, there used to be a summary of who are/is
involved in the proposal, but also the cost of the proposal. Is this no
more available? I recall (maybe I'm wrong) that the budget is lower this
year, despite I can't find mention of it anymore on the Internet.

Regards,
Harrissou

Le lun. 22 mars 2021 ? 16:18, Anita Graser <anitagraser at gmx.at> a ?crit :

> Thanks Nyall,
>
> On 22.03.2021 10:53, Nyall Dawson wrote:
> > On Mon, 22 Mar 2021 at 19:03, Anita Graser <anitagraser at gmx.at> wrote:
> >> Improved code coverage of geometry and maptool classes.
> https://github.com/qgis/WIP
> > What is the status with this one? Is the link a typo or is there no
> > QEP for discussion?
>
> I reached out to the proposal authors and here's the QEP link:
>
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/222
>
> Regards,
>
> Anita
>
>
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/c9a08f3f/attachment.html>

From a.neumann at carto.net  Tue Mar 23 04:26:24 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 23 Mar 2021 12:26:24 +0100
Subject: [QGIS-Developer] Welcome screen with garbled HTML code
Message-ID: <2e3129fd293ef172ded4fb5852fca31c@carto.net>

Hi,

I recently installed QGIS 3.16.5 Hannover on a fresh Windows machine 
without a previous QGIS on the system and I got a strange welcome screen 
with HTML code:

Seems like an invalid html code? Something we can fix?

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/a9775f9c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: bbc67630.png
Type: image/png
Size: 27677 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/a9775f9c/attachment-0001.png>

From anitagraser at gmx.at  Tue Mar 23 04:31:19 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 23 Mar 2021 12:31:19 +0100
Subject: [QGIS-Developer] [Qgis-psc] 2021 grant applications are now
 closed
In-Reply-To: <CAECJsSoGpzDDsOgEvT+MFFzTVvw3+XtpZN_v1ab9E6X0=7idMw@mail.gmail.com>
References: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
 <CAB28Ash_vc+8yV2238Ubvpeq4npVG2M5wgZ=f4gkkarcg7JWyA@mail.gmail.com>
 <aa1e99bc-461e-e27d-4f97-b4824e739dca@gmx.at>
 <CAECJsSoGpzDDsOgEvT+MFFzTVvw3+XtpZN_v1ab9E6X0=7idMw@mail.gmail.com>
Message-ID: <2b689e93-ac4c-6bd4-28c6-7e34267510da@gmx.at>

Dear Harrissou,

On 23.03.2021 12:19, DelazJ wrote:
Along with the technical proposal, there used to be a summary of who
are/is involved in the proposal, but also the cost of the proposal. Is
this no more available? I recall (maybe I'm wrong) that the budget is
lower this year, despite I can't find mention of it anymore on the Internet.

This year's budget is EUR 25,000. I'll paste the text from the (now
closed) form at the end of this email.

After the QEP discussion phase, I'll prepare a summary (including
authors, budget, timeline) of the eligible proposals (fulfilling the
formal requirements) for the voting phase.

Regards,
Anita

------------

Original application form text:

What's new in 2021?
=================

We have budgeted EUR 25,000 for the entire grant programme. Bear in mind
that we would like to support as many activities as possible so if your
budgeted amount is too large we may reject it.

This year, we will not accept proposals for the development of new
features. Therefore, proposals should focus on improving the QGIS
project infrastructure and polishing existing features. The target
version for all project work is QGIS 3.22.

Some examples of the kinds of topics you could propose are:

* Updating and improving documentation
* Improving API documentation
* Curating the pull request queue
* Bug fixing
* Rewriting and improving a part of the code base
* Improvements that improve the security of the QGIS code base
* Updating and improving QGIS.org web infrastructure
* Helping new QGIS devs to get started with improved developer
documentation and utilities
* etc.

The closing date for applications is 21st March 2021.

The winning proposals will be published in the end of April 2021.

There is a strict deadline: all grant projects need to be finished by
the end of 2021.

PLEASE NOTE: All applications made here will be PUBLICLY VISIBLE,
including your name, fees etc.

From jfolgado94 at gmail.com  Tue Mar 23 05:08:01 2021
From: jfolgado94 at gmail.com (Joao Folgado)
Date: Tue, 23 Mar 2021 12:08:01 +0000
Subject: [QGIS-Developer] Multiprocessing QGIS
Message-ID: <CAA7KATmbBJNM1Tuh_nVg28s8WK1PkBM3z3Wsxo2xmzzC1h1OXg@mail.gmail.com>

Hi everyone,

I had created  a plugin for Qgis and I trying to optimize it. So i use in
my code the library python that have Queue whit multiprocessing however
when i run the plugin a new instance of application is open and give me an
error.
I had early use this type of multiprocessing before in simple projects in
university and it works ok.
Can someone help ? I researched in many forums, i see people whit the same
question but not with the answer.
Thank you very much.

Best regards,
Jo?o Folgado
Portugal
-- 
JO?O FOLGADO
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/8cf976f0/attachment.html>

From uclaros at gmail.com  Tue Mar 23 05:49:01 2021
From: uclaros at gmail.com (uclaros)
Date: Tue, 23 Mar 2021 05:49:01 -0700 (MST)
Subject: [QGIS-Developer] Welcome screen with garbled HTML code
In-Reply-To: <2e3129fd293ef172ded4fb5852fca31c@carto.net>
References: <2e3129fd293ef172ded4fb5852fca31c@carto.net>
Message-ID: <1616503741123-0.post@n6.nabble.com>

Looks like a translation problem. I'm not too familiar with transifex, but if
you search for "changelog" there is something fishy with the parameters.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From andreaerdna at libero.it  Tue Mar 23 06:32:02 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Tue, 23 Mar 2021 06:32:02 -0700 (MST)
Subject: [QGIS-Developer] Welcome screen with garbled HTML code
In-Reply-To: <1616503741123-0.post@n6.nabble.com>
References: <2e3129fd293ef172ded4fb5852fca31c@carto.net>
 <1616503741123-0.post@n6.nabble.com>
Message-ID: <1616506322084-0.post@n6.nabble.com>

uclaros wrote
> Looks like a translation problem.

I can confirm the Italian translation doesn't suffer of such issue.

It seems the German translation contains incorrect html tags



while the source string is



Best regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From delazj at gmail.com  Tue Mar 23 09:59:11 2021
From: delazj at gmail.com (Harrissou)
Date: Tue, 23 Mar 2021 17:59:11 +0100
Subject: [QGIS-Developer] [Qgis-psc] 2021 grant applications are now
 closed
In-Reply-To: <2b689e93-ac4c-6bd4-28c6-7e34267510da@gmx.at>
References: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
 <CAB28Ash_vc+8yV2238Ubvpeq4npVG2M5wgZ=f4gkkarcg7JWyA@mail.gmail.com>
 <aa1e99bc-461e-e27d-4f97-b4824e739dca@gmx.at>
 <CAECJsSoGpzDDsOgEvT+MFFzTVvw3+XtpZN_v1ab9E6X0=7idMw@mail.gmail.com>
 <2b689e93-ac4c-6bd4-28c6-7e34267510da@gmx.at>
Message-ID: <C19D5BDB-7826-436D-8466-55EB18F0753E@gmail.com>

Hello Anita,

Thanks for the details.

H.

Le 23 mars 2021 12:31:19 GMT+01:00, Anita Graser <anitagraser at gmx.at> a ?crit :
>Dear Harrissou,
>
>On 23.03.2021 12:19, DelazJ wrote:
>Along with the technical proposal, there used to be a summary of who
>are/is involved in the proposal, but also the cost of the proposal. Is
>this no more available? I recall (maybe I'm wrong) that the budget is
>lower this year, despite I can't find mention of it anymore on the
>Internet.
>
>This year's budget is EUR 25,000. I'll paste the text from the (now
>closed) form at the end of this email.
>
>After the QEP discussion phase, I'll prepare a summary (including
>authors, budget, timeline) of the eligible proposals (fulfilling the
>formal requirements) for the voting phase.
>
>Regards,
>Anita
>
>------------
>
>Original application form text:
>
>What's new in 2021?
>=================
>
>We have budgeted EUR 25,000 for the entire grant programme. Bear in
>mind
>that we would like to support as many activities as possible so if your
>budgeted amount is too large we may reject it.
>
>This year, we will not accept proposals for the development of new
>features. Therefore, proposals should focus on improving the QGIS
>project infrastructure and polishing existing features. The target
>version for all project work is QGIS 3.22.
>
>Some examples of the kinds of topics you could propose are:
>
>* Updating and improving documentation
>* Improving API documentation
>* Curating the pull request queue
>* Bug fixing
>* Rewriting and improving a part of the code base
>* Improvements that improve the security of the QGIS code base
>* Updating and improving QGIS.org web infrastructure
>* Helping new QGIS devs to get started with improved developer
>documentation and utilities
>* etc.
>
>The closing date for applications is 21st March 2021.
>
>The winning proposals will be published in the end of April 2021.
>
>There is a strict deadline: all grant projects need to be finished by
>the end of 2021.
>
>PLEASE NOTE: All applications made here will be PUBLICLY VISIBLE,
>including your name, fees etc.

-- 
Envoy? de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma bri?vet?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/bca9d0b2/attachment.html>

From jrmorreale_ml at enoreth.net  Tue Mar 23 10:27:16 2021
From: jrmorreale_ml at enoreth.net (Jean-Roc Morreale (ml))
Date: Tue, 23 Mar 2021 18:27:16 +0100
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
References: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
Message-ID: <9d178f0a869f56bc375de67bf4b774a274b6704f.camel@enoreth.net>

Hi,

I understand the concern here but please don't change this behaviour,
we use it in our projects and I can't replace it or ask all our users
to opt-in.

regards,
jean-roc

Le mardi 23 mars 2021 ? 09:00 +0100, matteo a ?crit?:
> Hi devs,
> 
> in the Italian QGIS Group we had a discussion on privacy "issues" 
> related to the exposure of some Global Variables, like
> "user_full_name", 
> that is automatically taken from the client.
> 
> Maybe some variable should be opt-in rather then opt-out: sharing a 
> project between different computers/users can expose the user name 
> without an explicit agreement of the final user.
> 
> What is your opinion on this?
> 
> Cheers
> 
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



From ernst at pleiszenburg.de  Tue Mar 23 11:22:50 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Tue, 23 Mar 2021 19:22:50 +0100
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <CAA7KATmbBJNM1Tuh_nVg28s8WK1PkBM3z3Wsxo2xmzzC1h1OXg@mail.gmail.com>
References: <CAA7KATmbBJNM1Tuh_nVg28s8WK1PkBM3z3Wsxo2xmzzC1h1OXg@mail.gmail.com>
Message-ID: <4fcdc8be-f296-5b58-f030-e9d1fe5584ea@pleiszenburg.de>

Hi Jo?o, all,

really interesting question.

> however when i run the plugin a new instance of application is open
> and give me an error.

I assume that you are using `multiprocessing` [1] from Python's standard
library. Its default behavior is to use process-based parallelism (as
the title in the documentation says). I am assuming that you have not
altered its default behavior (e.g. by configuring it to use threads
instead). This is why you get at least another "worker" process if you
e.g. create a process pool. I have successfully used this method with
QGIS before, but always on Linux and OS X. I am just guessing that you
are doing this on Windows, right?

Depending on the operating system, `multiprocessing` uses different
methods to create worker processes. On Linux and OS X, it simply forks
[2] the main process. This way, you do not see a second application
window popping up. You "simply" get a second, third, fourth, ... process
"in the background". On Windows, the `fork` syscall does not exist,
neither does something similar [3]. `multiprocessing` therefore starts a
complete new process from scratch. If it was pure Python, it would
simply start a new Python interpreter process. Because it is QGIS, it
opens another instance of QGIS.

I am not entirely sure what QGIS' (intended) behavior is in a case like
this. From the top of my head, having read the relevant portion of its
source code, I'd expect at least a second application window likely
followed by non-deterministic behavior (again, depending on the
use-case, likely resulting in a crash). Can someone elaborate?

Best regards,
Sebastian


1: https://docs.python.org/3/library/multiprocessing.html
2: https://en.wikipedia.org/wiki/Fork_(system_call)
3: https://stackoverflow.com/q/985281/1672565


Am 23.03.21 um 13:08 schrieb Joao Folgado:
> Hi everyone,
> 
> I had created ?a plugin for Qgis and I trying to optimize it. So i use
> in my code the library python that have Queue whit multiprocessing
> however when i run the plugin a new instance of application is open and
> give me an error.
> I had early use this type of multiprocessing before in simple projects
> in university and it works ok.
> Can someone help ? I researched in many forums, i see people whit the
> same question but not with the answer.
> Thank you very much.
> 
> Best regards,
> Jo?o Folgado
> Portugal
> -- 
> JO?O FOLGADO
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From ernst at pleiszenburg.de  Tue Mar 23 12:28:22 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Tue, 23 Mar 2021 20:28:22 +0100
Subject: [QGIS-Developer] asyncio in plugins?
Message-ID: <d5ac7202-a712-de2d-1fbe-42d2736d6a52@pleiszenburg.de>

Hi all,

has anyone made any (positive or negative) experiences with using
`asyncio`-enabled [1] code in QGIS plugins?

Best regards,
Sebastian


1: https://docs.python.org/3/library/asyncio.html

From prem.netgis at gmail.com  Tue Mar 23 12:47:23 2021
From: prem.netgis at gmail.com (Prem Kumar)
Date: Wed, 24 Mar 2021 01:17:23 +0530
Subject: [QGIS-Developer] REST API for QGIS processing tool
In-Reply-To: <12a82096-db5c-2f1f-f88f-9009acb6733f@3liz.com>
References: <CAP2_p62n-Cy0ed-YLiFvuZvq+YW3QTR7fe9BjiyLvAGXaARx-A@mail.gmail.com>
 <CAB28AsgYQHoDUainjPizAyS6fMf_H5gKm=8FwAfQrdMsB+14Xw@mail.gmail.com>
 <c13a3030-4111-0f4a-93b6-482335a81d86@gmail.com>
 <CAP2_p61EivrnUOYWvH1xGjpB5eph8w8o666cNsX3=VjT1bSmMw@mail.gmail.com>
 <CAP2_p62+K+PvKF7q906HGvFGVvEQZp-Ja_rEweQxdR=tS7Cq+Q@mail.gmail.com>
 <12a82096-db5c-2f1f-f88f-9009acb6733f@3liz.com>
Message-ID: <CAP2_p63ofRbaF733FCaoQOMthJQZFitaz6824wnYvApRo8yRfg@mail.gmail.com>

Hi David,

While installing the service from source code files using given
instructions, further details of the exception I have encountered.
[image: image.png]

 Complete output from command python setup.py egg_info:
    ERROR: Minimum supported PROJ version is 7.2.0, installed version is
4.9.3. For more information see: https://pyproj4.github.io/py
 proj/stable/installation.html

    ----------------------------------------
Command "python setup.py egg_info" failed with error code 1 in
/tmp/pip-build-qejkjny8/pyproj/
[image: image.png]

After several attempts of troubleshooting, I could bypass this issue
with "*pip3
install pyproj==1.9.6 -e ." * ..... not sure this is the correct way or
not. However, after installation from source files directory, I could not
either run the runwps.sh
<https://github.com/3liz/py-qgis-wps/blob/master/runwps.sh> file or
*wpsserver *from command line as the terminal unable to recognize wpsserver
command.

*./runwps.sh: line 15: exec: wpsserver: not found*

Please suggest. Thanks.

-Prem

On Mon, Mar 22, 2021 at 11:19 PM David Marteau <dmarteau at 3liz.com> wrote:

>
> Le 22/03/2021 ? 18:26, Prem Kumar a ?crit :
>
> Hi Team,
>
> Im afraid to make a comment but the installation instructions in the
> github are not specifically referring the integration of service and the
> qgis installation and its modules. I have tried installing py-qgs-wps on
> linux machine using archive tar file and ended up incompatibility issue
> between python version - qgis installation and the service.
>
> If it?s not more of an effort, can you please guide me to any installation
> instructions? Thanks
>
> Can you be more specific about the error your are facing ? if that's about
> py-qgs-wps then you should open an issue on github.
>
>
> -Prem
>
> On Thu, 25 Feb 2021 at 7:44 PM, Prem Kumar <prem.netgis at gmail.com> wrote:
>
>> HI Nyall and Ren?-Luc,
>>
>> Thank you very much for the pointers, much appreciated. Looks to me, a
>> lot to learn some good stuff. Will let you know how it goes.
>>
>> -Prem
>>
>> On Thu, Feb 25, 2021 at 6:59 PM Ren?-Luc Dhont <rldhont at gmail.com> wrote:
>>
>>>
>>> Le 24/02/2021 ? 23:27, Nyall Dawson a ?crit :
>>> >
>>> > Look into the "WPS" standard. There's even an existing server for
>>> > this: https://github.com/3liz/py-qgis-wps
>>>
>>> Thanks Nyall to pointing it.
>>>
>>> Prem, If you are interested in a REST API, implementing the OGC API
>>> Processes standard is  being considered for py-qgis-wps
>>> * https://github.com/opengeospatial/ogcapi-processes/
>>> * https://ogcapi.ogc.org/processes/
>>>
>>> py-qgis-wps is based on Tornado and any contributions are welcome.
>>> https://github.com/3liz/py-qgis-wps
>>>
>>> Ren?-Luc
>>>
>>> >
>>> > Nyall
>>> >
>>> > _______________________________________________
>>> > QGIS-Developer mailing list
>>> > QGIS-Developer at lists.osgeo.org
>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/8337ca0e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 18341 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/8337ca0e/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 7219 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/8337ca0e/attachment-0003.png>

From dmarteau at 3liz.com  Tue Mar 23 12:47:57 2021
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 23 Mar 2021 20:47:57 +0100
Subject: [QGIS-Developer] asyncio in plugins?
In-Reply-To: <d5ac7202-a712-de2d-1fbe-42d2736d6a52@pleiszenburg.de>
References: <d5ac7202-a712-de2d-1fbe-42d2736d6a52@pleiszenburg.de>
Message-ID: <9829ace8-2d88-c1f4-5020-b21176a9b964@3liz.com>

Hi,

Asynchronous python code with asyncio assume that you have an ioloop 
running in a blocking way in your python code:
that means that no other code (in the same thread) cannot run 
concurrently with your async tasks while your loop is running.

David

Le 23/03/2021 ? 20:28, Sebastian M. Ernst a ?crit?:

> Hi all,
>
> has anyone made any (positive or negative) experiences with using
> `asyncio`-enabled [1] code in QGIS plugins?
>
> Best regards,
> Sebastian
>
>
> 1: https://docs.python.org/3/library/asyncio.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From dmarteau at 3liz.com  Tue Mar 23 12:59:53 2021
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 23 Mar 2021 20:59:53 +0100
Subject: [QGIS-Developer] REST API for QGIS processing tool
In-Reply-To: <CAP2_p63ofRbaF733FCaoQOMthJQZFitaz6824wnYvApRo8yRfg@mail.gmail.com>
References: <CAP2_p62n-Cy0ed-YLiFvuZvq+YW3QTR7fe9BjiyLvAGXaARx-A@mail.gmail.com>
 <CAB28AsgYQHoDUainjPizAyS6fMf_H5gKm=8FwAfQrdMsB+14Xw@mail.gmail.com>
 <c13a3030-4111-0f4a-93b6-482335a81d86@gmail.com>
 <CAP2_p61EivrnUOYWvH1xGjpB5eph8w8o666cNsX3=VjT1bSmMw@mail.gmail.com>
 <CAP2_p62+K+PvKF7q906HGvFGVvEQZp-Ja_rEweQxdR=tS7Cq+Q@mail.gmail.com>
 <12a82096-db5c-2f1f-f88f-9009acb6733f@3liz.com>
 <CAP2_p63ofRbaF733FCaoQOMthJQZFitaz6824wnYvApRo8yRfg@mail.gmail.com>
Message-ID: <7e03f980-70c7-5d86-578d-c0832b270ff5@3liz.com>

Juste a few things:

- py-qgis-wps does not require pyProj directly, you have to check which 
dependency needs it and eventually install it for your platform.

- You should always install custom python package in a venv otherwise 
you may break your installation.

Please open an issue on https://github.com/3liz/py-qgis-wps to continue 
this discussion as it is not related to qgis directly.

Le 23/03/2021 ? 20:47, Prem Kumar a ?crit?:

> Hi David,
>
> While installing the service from source code files using given 
> instructions, further details of the exception I have encountered.
> image.png
>
> ?Complete output from command python setup.py egg_info:
> ? ? ERROR: Minimum supported PROJ version is 7.2.0, installed version 
> is 4.9.3. For more information see: https://pyproj4.github.io/py 
> <https://pyproj4.github.io/py> ?proj/stable/installation.html
>
> ? ? ----------------------------------------
> Command "python setup.py egg_info" failed with error code 1 in 
> /tmp/pip-build-qejkjny8/pyproj/
> image.png
>
> After several attempts of troubleshooting, I could bypass this issue 
> with "*pip3 install pyproj==1.9.6 -e ." *?..... not sure this is the 
> correct way or not. However, after installation from source files 
> directory, I could not either run the runwps.sh 
> <https://github.com/3liz/py-qgis-wps/blob/master/runwps.sh>?file or 
> *wpsserver *from command line as the terminal unable to recognize 
> wpsserver command.
>
> *./runwps.sh: line 15: exec: wpsserver: not found*
> *
> *
> Please suggest. Thanks.
>
> -Prem
>
> On Mon, Mar 22, 2021 at 11:19 PM David Marteau <dmarteau at 3liz.com 
> <mailto:dmarteau at 3liz.com>> wrote:
>
>
>     Le 22/03/2021 ? 18:26, Prem Kumar a ?crit?:
>>     Hi Team,
>>
>>     Im afraid to make a comment but the installation instructions in
>>     the github are not specifically referring the integration of
>>     service and the qgis installation and its modules. I have tried
>>     installing py-qgs-wps on linux machine using archive tar file and
>>     ended up incompatibility issue between python version - qgis
>>     installation and the service.
>>
>>     If it?s not more of an effort, can you please guide me to any
>>     installation instructions? Thanks
>     Can you be more specific about the error your are facing ? if
>     that's about py-qgs-wps then you should open an issue on github.
>>
>>     -Prem
>>
>>     On Thu, 25 Feb 2021 at 7:44 PM, Prem Kumar <prem.netgis at gmail.com
>>     <mailto:prem.netgis at gmail.com>> wrote:
>>
>>         HI Nyall and Ren?-Luc,
>>
>>         Thank you very much for the pointers, much appreciated. Looks
>>         to me, a lot to learn some good stuff. Will let you know how
>>         it goes.
>>
>>         -Prem
>>
>>         On Thu, Feb 25, 2021 at 6:59 PM Ren?-Luc Dhont
>>         <rldhont at gmail.com <mailto:rldhont at gmail.com>> wrote:
>>
>>
>>             Le 24/02/2021 ? 23:27, Nyall Dawson a ?crit?:
>>             >
>>             > Look into the "WPS" standard. There's even an existing
>>             server for
>>             > this: https://github.com/3liz/py-qgis-wps
>>             <https://github.com/3liz/py-qgis-wps>
>>
>>             Thanks Nyall to pointing it.
>>
>>             Prem, If you are interested in a REST API, implementing
>>             the OGC API
>>             Processes standard is? being considered for py-qgis-wps
>>             * https://github.com/opengeospatial/ogcapi-processes/
>>             <https://github.com/opengeospatial/ogcapi-processes/>
>>             * https://ogcapi.ogc.org/processes/
>>             <https://ogcapi.ogc.org/processes/>
>>
>>             py-qgis-wps is based on Tornado and any contributions are
>>             welcome.
>>             https://github.com/3liz/py-qgis-wps
>>             <https://github.com/3liz/py-qgis-wps>
>>
>>             Ren?-Luc
>>
>>             >
>>             > Nyall
>>             >
>>             > _______________________________________________
>>             > QGIS-Developer mailing list
>>             > QGIS-Developer at lists.osgeo.org
>>             <mailto:QGIS-Developer at lists.osgeo.org>
>>             > List info:
>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>             > Unsubscribe:
>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>             _______________________________________________
>>             QGIS-Developer mailing list
>>             QGIS-Developer at lists.osgeo.org
>>             <mailto:QGIS-Developer at lists.osgeo.org>
>>             List info:
>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>             Unsubscribe:
>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org  <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer  <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer  <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/3c40a474/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 7219 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/3c40a474/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 18341 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/3c40a474/attachment-0003.png>

From rdbath.regiodata at gmail.com  Tue Mar 23 13:05:27 2021
From: rdbath.regiodata at gmail.com (Thomas B)
Date: Tue, 23 Mar 2021 21:05:27 +0100
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
References: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
Message-ID: <CAD3koGn1pjP2CpMT-wavLuFFQpZmTqK+S134N2TN08SvcXcJ+Q@mail.gmail.com>

Hi Matteo,
can you give an example when exposing the username could be problematic?

As far as I know other common programs like Word, Excel and so on also add
your full name as author to the metadata of every Word- or Excel file you
create.
I think this is something very useful if you work with others within one
company. If you send these files to someone else and want to get rid of
these metadata you can delete this metadata information.

I agree that exposing sensitive data would be problematic but sharing the
username does not seem to be something too private. Your full name for
example also appears in this mailing list or as part of your twitter
account. So under which circumstances would it be problematic if your name
would be written to a QGIS project file?

regards,
Thomas

Am Di., 23. M?rz 2021 um 09:01 Uhr schrieb matteo <matteo.ghetta at gmail.com>:

> Hi devs,
>
> in the Italian QGIS Group we had a discussion on privacy "issues"
> related to the exposure of some Global Variables, like "user_full_name",
> that is automatically taken from the client.
>
> Maybe some variable should be opt-in rather then opt-out: sharing a
> project between different computers/users can expose the user name
> without an explicit agreement of the final user.
>
> What is your opinion on this?
>
> Cheers
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/843b3036/attachment.html>

From ernst at pleiszenburg.de  Tue Mar 23 13:06:44 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Tue, 23 Mar 2021 21:06:44 +0100
Subject: [QGIS-Developer] asyncio in plugins?
In-Reply-To: <9829ace8-2d88-c1f4-5020-b21176a9b964@3liz.com>
References: <d5ac7202-a712-de2d-1fbe-42d2736d6a52@pleiszenburg.de>
 <9829ace8-2d88-c1f4-5020-b21176a9b964@3liz.com>
Message-ID: <fa6cd27f-72a2-5d1d-d1b5-d518c873db2e@pleiszenburg.de>

Hi David,

I suspected this much. In theory, I can move the event loop into a
separate thread [1, 2] - this should allow QGIS' event loop to continue
running and accepting input etc. I am *guessing* that this can be made
work. Question: Has someone around here actually tried it before?

Best regards,
Sebastian


1: https://gist.github.com/lars-tiede/01e5f5a551f29a5f300e
2:
https://docs.python.org/3/library/asyncio-eventloop.html#executing-code-in-thread-or-process-pools


Am 23.03.21 um 20:47 schrieb David Marteau:
> Hi,
> 
> Asynchronous python code with asyncio assume that you have an ioloop
> running in a blocking way in your python code:
> that means that no other code (in the same thread) cannot run
> concurrently with your async tasks while your loop is running.
> 
> David
> 

From dmarteau at 3liz.com  Tue Mar 23 13:14:18 2021
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 23 Mar 2021 21:14:18 +0100
Subject: [QGIS-Developer] asyncio in plugins?
In-Reply-To: <fa6cd27f-72a2-5d1d-d1b5-d518c873db2e@pleiszenburg.de>
References: <d5ac7202-a712-de2d-1fbe-42d2736d6a52@pleiszenburg.de>
 <9829ace8-2d88-c1f4-5020-b21176a9b964@3liz.com>
 <fa6cd27f-72a2-5d1d-d1b5-d518c873db2e@pleiszenburg.de>
Message-ID: <79a99716-abc4-1320-d633-4bf4ff75a8d0@3liz.com>


You should be aware that call to Qgis C/C++ api from Python hold the GIL 
and may prevent custom python threads? to run.

Le 23/03/2021 ? 21:06, Sebastian M. Ernst a ?crit?:

> Hi David,
>
> I suspected this much. In theory, I can move the event loop into a
> separate thread [1, 2] - this should allow QGIS' event loop to continue
> running and accepting input etc. I am *guessing* that this can be made
> work. Question: Has someone around here actually tried it before?
>
> Best regards,
> Sebastian
>
>
> 1: https://gist.github.com/lars-tiede/01e5f5a551f29a5f300e
> 2:
> https://docs.python.org/3/library/asyncio-eventloop.html#executing-code-in-thread-or-process-pools
>
>
> Am 23.03.21 um 20:47 schrieb David Marteau:
>> Hi,
>>
>> Asynchronous python code with asyncio assume that you have an ioloop
>> running in a blocking way in your python code:
>> that means that no other code (in the same thread) cannot run
>> concurrently with your async tasks while your loop is running.
>>
>> David
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From pigrecoinfinito at gmail.com  Tue Mar 23 13:35:22 2021
From: pigrecoinfinito at gmail.com (=?UTF-8?Q?Tot=C3=B2?=)
Date: Tue, 23 Mar 2021 13:35:22 -0700 (MST)
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
References: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
Message-ID: <1616531722459-0.post@n6.nabble.com>

The problem is that many users don't know that by sharing a project file they
share some personal data. LibreOffice lets the user decide.
The main point is that the average user is not aware of all this, saving a
project there is no message that warns me of what is happening, and the
variables are reachable only in the advanced settings and are not within
everyone's reach. . . .

A user must be able to choose consciously and not have imposed a choice on
the part of others.

An example: the @project_author variables will always contain the name of
the author of the project and not everyone is aware of it;
@user_full_name contains the name of the user who is using the project and
if I used both variables as a copyright decoration and shared a screenshot,
I could unknowingly share data even from people other than the author of the
project.

In my opinion the user must be aware and the only way is to change the
current default value of the "projects \
anonymize_new_projects "e
"projects \ anonymize_saved_projects"

sorry my english

saluti



-----
https://pigrecoinfinito.com/
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From alroyliz0 at gmail.com  Tue Mar 23 14:02:08 2021
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Tue, 23 Mar 2021 17:02:08 -0400
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
Message-ID: <CAOM0XWCJTruxedxfnmpmMBk2mdaW8R_Q9Bv4SGReB0s99gu=Zw@mail.gmail.com>

Greetings,

I'm curious to know if all backport should be reviewed. In theory other
than major code rework backports should be retrocompatible. Assuming they
are most often done by domain experts as is mostly the case, would it be
too risky to merge if the main PR was reviewed and the tests are all green?

I'd agree there should be exceptions such as after major refactoring (if
exclusive to some versions).

Or could there be some way to simply identify backport that would require
review and those that would not affect more than the intended area? I'm
also curious to know if there could be a way to rely less on the few
highly-skilled contributors that are active when it comes to more minor
things (if there are such a thing).

Thanks as usual and have a great day,

Alex


Le lun. 22 mars 2021 ? 19:07, Nyall Dawson <nyall.dawson at gmail.com> a
?crit :

> Hi list,
>
> This is a public plea for more developers who are very familiar with
> different parts of the QGIS codebase to become actively involved in
> backport PR management.
>
> We NEED more people to be actively (i.e. daily) monitoring for
> backport PRs and then reviewing them if the backport affects code
> areas which they're knowledgeable about.
>
> Right now there's like... 2... of us doing this on a daily basis, and
> we need more hands and eyes. Regressions are fixed by backports, but
> they can also be introduced by backports. If we don't get more people
> involved in this part of QGIS' maintenance then the stability of the
> patch releases is compromised.
>
> While I'm more than happy to keep reviewing backports which touch
> areas of code I know well, we have a whole stack of backports for
> server fixes, relation fixes, and other parts of QGIS I don't know
> well enough to risk release stability by reviewing myself. These
> backports are currently sitting in the queue for weeks without review,
> and often they stale out and are closed without ever getting merged.
>
> I've also a ton of backports for fixes that I make on a daily basis
> which I cannot self review, so the PR queue gets flooded with my
> backports until I actively pester/harass others to review and approve.
>
> The truth is that the longer the PR queue, the more it stresses me out
> and the less motivation I have to review the incoming feature PRs. We
> have many older feature PRs which are stalled and waiting review for
> months or longer, just because I'm so flooded with managing newer
> incoming PRs that I never have time to review the older ones...
>
> So please, if you know parts of the QGIS code well, and can spare 15
> minutes a day to looking over the backport queue and approving any
> backports you are confident are regression free, then please get
> involved! (or ask your employer to officially allocate you this 15
> minutes/day as a way of them supporting QGIS!)
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/37b71397/attachment-0001.html>

From nyall.dawson at gmail.com  Tue Mar 23 15:19:42 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 24 Mar 2021 08:19:42 +1000
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <1616531722459-0.post@n6.nabble.com>
References: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
 <1616531722459-0.post@n6.nabble.com>
Message-ID: <CAB28AsiPDNGV-GhUVxTMz9HV52P0pGW9jY69ka1FnA9mf8dknA@mail.gmail.com>

On Wed, 24 Mar 2021 at 06:36, Tot? <pigrecoinfinito at gmail.com> wrote:
>
> The problem is that many users don't know that by sharing a project file they
> share some personal data. LibreOffice lets the user decide.
> The main point is that the average user is not aware of all this, saving a
> project there is no message that warns me of what is happening, and the
> variables are reachable only in the advanced settings and are not within
> everyone's reach. . . .
>
> A user must be able to choose consciously and not have imposed a choice on
> the part of others.
>
> An example: the @project_author variables will always contain the name of
> the author of the project and not everyone is aware of it;
> @user_full_name contains the name of the user who is using the project and
> if I used both variables as a copyright decoration and shared a screenshot,
> I could unknowingly share data even from people other than the author of the
> project.
>
> In my opinion the user must be aware and the only way is to change the
> current default value of the "projects \
> anonymize_new_projects "e
> "projects \ anonymize_saved_projects"

I would propose that this situation could be handled by a new
first-run configuration wizard. I.e. if QGIS has never been used on
the machine, the user gets a welcome wizard and one of the questions
asked is "should projects be anonymized".

The tricky bit is that corporate users would need a way to disable the
configuration wizard in their setups, or at least disable parts of it,
as they may have corporate policies which eg require all users data to
be stored in the projects they make...

Nyall

From francesco.bursi at hotmail.it  Tue Mar 23 15:23:26 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Tue, 23 Mar 2021 22:23:26 +0000
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 discussion
Message-ID: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>

Hello QGIS Dev,


I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua. Through this postgraduate course I?m doing an internship in Gter S.r.l.

I?m really interested to take part to the GSoC 2021 and learning more about the development of QGIS. I would like to work on the first idea that has been proposed.

I have to say in advance that I?m not proficient in C++ in particular, but I?m really eager to learn it (I?d love to). On the other side I?m proficient in pyhton, I know javascript, html and css, and I?m also proficient in SQL.

I was and I am an enthusiast QGIS user, I?m currently working with Lizmap (I?m writing some js script to customize my maps), QGIS and PostgreSQL/Postgis db; I would like to contribute to the QGIS project and being part of the developer community.

I would like to know if I?m eligible for this project and if I can share with you the python script that I wrote as a test as you suggested in the last point of the ?Project Ideas?: https://github.com/qgis/QGIS/wiki/Google-Summer-of-Code-2021-Ideas


P.s. I?d like to mention that Roberto Marzocchi, the CTO of the company in which I?m doing the internship -Gter Srl-, is available as a co-co-mentor if it?s possible. I mean that Gter srl can give me ?operative and logistic? help if needed. Roberto worked in the development of some plugins for QGIS and he?s, of course, involved in a lot of project in the ?gis/webgis world?, he never worked on QGIS core.


Best regards and thank you in advance,


Francesco Bursi

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210323/53498675/attachment.html>

From nyall.dawson at gmail.com  Tue Mar 23 15:30:40 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 24 Mar 2021 08:30:40 +1000
Subject: [QGIS-Developer] asyncio in plugins?
In-Reply-To: <79a99716-abc4-1320-d633-4bf4ff75a8d0@3liz.com>
References: <d5ac7202-a712-de2d-1fbe-42d2736d6a52@pleiszenburg.de>
 <9829ace8-2d88-c1f4-5020-b21176a9b964@3liz.com>
 <fa6cd27f-72a2-5d1d-d1b5-d518c873db2e@pleiszenburg.de>
 <79a99716-abc4-1320-d633-4bf4ff75a8d0@3liz.com>
Message-ID: <CAB28AshwM34_grAqrQMfe40NjJVZ-1X43vnVo7AseL=-s1kxiQ@mail.gmail.com>

On Wed, 24 Mar 2021 at 06:15, David Marteau <dmarteau at 3liz.com> wrote:
>
>
> You should be aware that call to Qgis C/C++ api from Python hold the GIL
> and may prevent custom python threads  to run.

Actually almost all of the PyQGIS methods release the GIL before they
call c++ code. The only exceptions are very fast methods which are
guaranteed to be nearly instant to call.

Nyall

From nyall.dawson at gmail.com  Tue Mar 23 15:32:24 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 24 Mar 2021 08:32:24 +1000
Subject: [QGIS-Developer] [Qgis-psc] 2021 grant applications are now
 closed
In-Reply-To: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
References: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
Message-ID: <CAB28Ashk1ko6NdMtAfZaTLYd__DqWhBusZCUMVqLiXp3y0SfdQ@mail.gmail.com>

On Mon, 22 Mar 2021 at 19:03, Anita Graser <anitagraser at gmx.at> wrote:
>
> Dear QGIS Community,
>
> This is to let you know that the form for grant applications is now closed and that we have received 12 applications totaling ? 42,500.
>
> As a quick teaser, here are the proposals:
>
> Port DB Manager Table Management Functionalities to Browser: SQL execution    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/205
> Revision and completion of locale support for numeric input and display    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/210
> QGIS Server, OGC tests and Continuous Integration: OGC API Features (part 2)    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/212
> QGIS Server and services documentation    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/213
> Rework handling of multi-layer, mixed-format datasets    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/216
> Integrate GPS Tools plugin functionality into core QGIS    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/217
> QgsRasterProjector optimization with linear interpolation    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/214
> Notarizing QGIS for macOS    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/218
> Improved code coverage of geometry and maptool classes.     https://github.com/qgis/WIP
> Fixing terrain and camera issues in 3D    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/215
> PIP dependencies for Python plugins    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202
> Plugin review on plugins.qgis.org    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/219

Hey Anita!

I have another request -- are we able to get the quoted prices for
each request listed on the QEP page? I think it's an important part of
the discussion phase -- whether its "this sounds like a lot of funds
for a change which affects a small number of users" or "the price
quoted seems very low for the amount of work required here -- are you
sure you're able to deliver it for this amount"?

Nyall

>
> We are now in the QEP discussion phase. Please tag all proposals with the Grant-2021 tag:
>
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues?q=is%3Aissue+is%3Aopen+label%3AGrant-2021
>
> The QEP discussion phase takes two weeks and ends on Sunday, 4th April 2021. Afterwards, we will proceed to the voting phase with expected publication of voting results on 18th April 2021.
>
> Thank you to everyone who submitted their project proposals!
>
> Regards,
>
> Anita
>
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc

From =?utf-8?q?jrmorreale=5Fml at enoreth.net?=  Wed Mar 24 00:16:44 2021
From: =?utf-8?q?jrmorreale=5Fml at enoreth.net?= (=?utf-8?q?jrmorreale=5Fml at enoreth.net?=)
Date: Wed, 24 Mar 2021 08:16:44 +0100
Subject: [QGIS-Developer] =?utf-8?q?QGIS_and_privacy?=
In-Reply-To: <CAB28AsiPDNGV-GhUVxTMz9HV52P0pGW9jY69ka1FnA9mf8dknA@mail.gmail.com>
Message-ID: <5181-605ae780-19d-61a93400@100067066>

Le Mardi, Mars 23, 2021 23:19 CET, Nyall Dawson <nyall.dawson at gmail.com> a ?crit: 
> I would propose that this situation could be handled by a new
> first-run configuration wizard. I.e. if QGIS has never been used on
> the machine, the user gets a welcome wizard and one of the questions
> asked is "should projects be anonymized".
> 
> The tricky bit is that corporate users would need a way to disable the
> configuration wizard in their setups, or at least disable parts of it,
> as they may have corporate policies which eg require all users data to
> be stored in the projects they make...

Nop, the trickiest part is to have a configuration policy beyond the basic IT packaging.  I'm using these variables mainly to work with oracle and other in-house apps where things like the user_account_name are central, I would dread to have a week long fix event after our users would have (rightfully from their point of view) checked this box.


From andreas at qgis.org  Wed Mar 24 01:02:47 2021
From: andreas at qgis.org (Andreas Neumann)
Date: Wed, 24 Mar 2021 09:02:47 +0100
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
Message-ID: <CAB2Z92AaocjshzaQyWC4MQVrc6tcV22KcaW-LjX2O5U0dptDaA@mail.gmail.com>

Hi Nyall,

Thanks for raising this issue!

Back in the "old days" we had assigned "maintainers" to different areas of
the code base. Maybe we could revive this idea but rename it to "reviewers"
and ideally assign more than one person to each area of expertise? It could
be published again, somewhere in the governance section of our website,
e.g. at https://www.qgis.org/en/site/getinvolved/governance/governance.html

As a side effect, if we had such a list, a potential customer could also
see - oh this developer is a reviewer/maintainer of this particular topic -
it could be an incentive to pick this developer or company for development
work. For some insiders, it is a well-known which dev/company has expertise
in which area of QGIS, but for non-insiders, this is not really obvious.

Ideally, besides the volunteers, each of the companies that is active in
QGIS development (like Lutra, Oslandia, OPENGIS, 3Liz, etc. - just to name
a few) could offer one person as a reviewer to a certain area in the code
base. Of course, some, such as Norbit and Lutra are already really active
in packaging QGIS ... and North Road and OPENGIS is already quite active in
reviewing and other maintenance work.

Greetings,
Andreas

On Tue, 23 Mar 2021 at 00:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hi list,
>
> This is a public plea for more developers who are very familiar with
> different parts of the QGIS codebase to become actively involved in
> backport PR management.
>
> We NEED more people to be actively (i.e. daily) monitoring for
> backport PRs and then reviewing them if the backport affects code
> areas which they're knowledgeable about.
>
> Right now there's like... 2... of us doing this on a daily basis, and
> we need more hands and eyes. Regressions are fixed by backports, but
> they can also be introduced by backports. If we don't get more people
> involved in this part of QGIS' maintenance then the stability of the
> patch releases is compromised.
>
> While I'm more than happy to keep reviewing backports which touch
> areas of code I know well, we have a whole stack of backports for
> server fixes, relation fixes, and other parts of QGIS I don't know
> well enough to risk release stability by reviewing myself. These
> backports are currently sitting in the queue for weeks without review,
> and often they stale out and are closed without ever getting merged.
>
> I've also a ton of backports for fixes that I make on a daily basis
> which I cannot self review, so the PR queue gets flooded with my
> backports until I actively pester/harass others to review and approve.
>
> The truth is that the longer the PR queue, the more it stresses me out
> and the less motivation I have to review the incoming feature PRs. We
> have many older feature PRs which are stalled and waiting review for
> months or longer, just because I'm so flooded with managing newer
> incoming PRs that I never have time to review the older ones...
>
> So please, if you know parts of the QGIS code well, and can spare 15
> minutes a day to looking over the backport queue and approving any
> backports you are confident are regression free, then please get
> involved! (or ask your employer to officially allocate you this 15
> minutes/day as a way of them supporting QGIS!)
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/cd59a7de/attachment.html>

From rdbath.regiodata at gmail.com  Wed Mar 24 01:03:19 2021
From: rdbath.regiodata at gmail.com (Thomas B)
Date: Wed, 24 Mar 2021 09:03:19 +0100
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <5181-605ae780-19d-61a93400@100067066>
References: <CAB28AsiPDNGV-GhUVxTMz9HV52P0pGW9jY69ka1FnA9mf8dknA@mail.gmail.com>
 <5181-605ae780-19d-61a93400@100067066>
Message-ID: <CAD3koG=9FM0x8NqEYtptxuxwzeFY6U-syRBw44CpGPV=oB6tRw@mail.gmail.com>

Am Mi., 24. M?rz 2021 um 08:16 Uhr schrieb jrmorreale_ml at enoreth.net <
jrmorreale_ml at enoreth.net>:

> Nop, the trickiest part is to have a configuration policy beyond the basic
> IT packaging.  I'm using these variables mainly to work with oracle and
> other in-house apps where things like the user_account_name are central, I
> would dread to have a week long fix event after our users would have
> (rightfully from their point of view) checked this box.
>

Couldn't you use a Group Policy to set the  *PYQGIS_STARTUP* environment
variable on every computer and then use a startup.py to make sure the
settings are correct?
I use this for other settings where I don't want the users to change them
and this works fine as the startup.py is run at every start of QGIS.

( Speaking about corporate use of QGIS: it would be nice to have something
like the Initialization scripts the QGIS-fork "Boundless Desktop" had:
https://boundless-desktop.readthedocs.io/en/latest/system_admins/init_scripts.html
but it also works with one startup.py file. )

I am glad QGIS has the functionality to track who made the last changes to
a project file but at the same time I can understand concerns about it.
For me it would be a good compromise to inform new (non corporate) users
with the configuration wizard and let them decide what they want. I can
still use the startup.py to make sure the settings are correct.

Thomas

PS: Having the username written to the project file comes very handy if you
want to track changes in project files. We had some tests with the nagios
checkfilechange plugin in combination with git+gitlab and could track the
changes of project files over time which was quite helpful.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/41d2dc91/attachment.html>

From anitagraser at gmx.at  Wed Mar 24 01:03:47 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 24 Mar 2021 09:03:47 +0100
Subject: [QGIS-Developer] [Qgis-psc] 2021 grant applications are now
 closed
In-Reply-To: <CAB28Ashk1ko6NdMtAfZaTLYd__DqWhBusZCUMVqLiXp3y0SfdQ@mail.gmail.com>
References: <8ee07bad-e965-93fe-3b23-ed60469ce206@gmx.at>
 <CAB28Ashk1ko6NdMtAfZaTLYd__DqWhBusZCUMVqLiXp3y0SfdQ@mail.gmail.com>
Message-ID: <a30b7c31-dbc8-60ea-0b72-60c833f51569@gmx.at>

Hi Nyall,

On 23.03.2021 23:32, Nyall Dawson wrote
> I have another request -- are we able to get the quoted prices for
> each request listed on the QEP page?

I cannot edit the QEP texts but here's the list including contacts and
prices:

 1. Alessandro Pasotti??? 4500??? Port DB Manager Table Management
    Functionalities to Browser: SQL execution
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/205
 2. Alexandre Neto & Alessandro Pasotti??? 2800??? Revision and
    completion of locale support for numeric input and display
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/210
 3. Paul Blottiere??? 2500??? QGIS Server, OGC tests and Continuous
    Integration: OGC API Features (part 2)
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/212
 4. Paul Blottiere and Alessandro Pasotti??? 2000??? QGIS Server and
    services documentation
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/213
 5. Nyall Dawson??? 4500??? Rework handling of multi-layer, mixed-format
    datasets https://github.com/qgis/QGIS-Enhancement-Proposals/issues/216
 6. Nyall Dawson??? 2500??? Integrate GPS Tools plugin functionality
    into core QGIS
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/217
 7. MARTEAU David??? 2000??? QgsRasterProjector optimization with linear
    interpolation
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/214
 8. Peter Petrik??? 1000??? Notarizing QGIS for macOS
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/218
 9. Lo?c Bartoletti (Oslandia)??? 4500??? Improved code coverage of
    geometry and maptool classes.
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/222
10. Martin Dobias??? 2500??? Fixing terrain and camera issues in 3D
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/215
11. Olivier?Dalang??? 12500 PIP?dependencies?for?Python?plugins
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202
12. Etienne Trimaille??? 1200??? Plugin review on plugins.qgis.org
    https://github.com/qgis/QGIS-Enhancement-Proposals/issues/219

Regards,

Anita


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/9cea4582/attachment-0001.html>

From apasotti at gmail.com  Wed Mar 24 01:33:09 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 24 Mar 2021 09:33:09 +0100
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <CAD3koG=9FM0x8NqEYtptxuxwzeFY6U-syRBw44CpGPV=oB6tRw@mail.gmail.com>
References: <CAB28AsiPDNGV-GhUVxTMz9HV52P0pGW9jY69ka1FnA9mf8dknA@mail.gmail.com>
 <5181-605ae780-19d-61a93400@100067066>
 <CAD3koG=9FM0x8NqEYtptxuxwzeFY6U-syRBw44CpGPV=oB6tRw@mail.gmail.com>
Message-ID: <CAL5Q672CHDXZkDpw5_O7SAEiYcsgJPR6NGGK8RNUTpedTRA_QA@mail.gmail.com>

On Wed, Mar 24, 2021 at 9:03 AM Thomas B <rdbath.regiodata at gmail.com> wrote:
>
>
> Am Mi., 24. M?rz 2021 um 08:16 Uhr schrieb jrmorreale_ml at enoreth.net <jrmorreale_ml at enoreth.net>:
>>
>> Nop, the trickiest part is to have a configuration policy beyond the basic IT packaging.  I'm using these variables mainly to work with oracle and other in-house apps where things like the user_account_name are central, I would dread to have a week long fix event after our users would have (rightfully from their point of view) checked this box.
>
>
> Couldn't you use a Group Policy to set the  PYQGIS_STARTUP environment variable on every computer and then use a startup.py to make sure the settings are correct?
> I use this for other settings where I don't want the users to change them and this works fine as the startup.py is run at every start of QGIS.
>
> ( Speaking about corporate use of QGIS: it would be nice to have something like the Initialization scripts the QGIS-fork "Boundless Desktop" had: https://boundless-desktop.readthedocs.io/en/latest/system_admins/init_scripts.html
> but it also works with one startup.py file. )
>
> I am glad QGIS has the functionality to track who made the last changes to a project file but at the same time I can understand concerns about it.
> For me it would be a good compromise to inform new (non corporate) users with the configuration wizard and let them decide what they want. I can still use the startup.py to make sure the settings are correct.
>

Hi,

I am the author of the Boundless init scripts and I just wanted to
stress that the global settings ini files are another way to
pre-configure QGIS settings in a corporate environment.

See: https://docs.qgis.org/3.16/en/docs/user_manual/introduction/qgis_configuration.html#globalsettingsfile

Kind regards

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From kalab.oto at gmail.com  Wed Mar 24 02:37:26 2021
From: kalab.oto at gmail.com (=?UTF-8?Q?Oto_Kal=c3=a1b?=)
Date: Wed, 24 Mar 2021 10:37:26 +0100
Subject: [QGIS-Developer] Latest Release on qgis.org (Ubuntu Bionic) is 3.16
 and not expected 3.18
Message-ID: <6c6655bb-30d9-99fd-224f-729bf5d70b98@gmail.com>

Hello,

I tried to update (and also install from scratch) Latest Release (3.18) 
on Ubuntu Bionic from |qgis.org/ubuntu| repository (I don't use 
|ubuntugis|), than I found out that the latest version in |ubuntu| 
repository for Bionic seems to be 3.16.3, while in |ubuntu-ltr| is it 
version 3.16.5.

LR - https://qgis.org/ubuntu/dists/bionic/main/binary-amd64/Packages

|Version: 1:3.16.3+28bionic Architecture: amd64 |

LTR - https://qgis.org/ubuntu-ltr/dists/bionic/main/binary-amd64/Packages

|Version: 1:3.16.5+28bionic Architecture: amd64 |

My configuration:

|$ lsb_release -d Description: Ubuntu 18.04.5 LTS $ grep gis 
/etc/apt/sources.list deb https://qgis.org/ubuntu bionic main # deb-src 
https://qgis.org/ubuntu bionic main $ sudo apt-cache policy qgis qgis: 
Instalovan? verze: 1:3.16.3+28bionic Kandid?t: 1:3.16.3+28bionic Tabulka 
verz?: *** 1:3.16.3+28bionic 500 500 https://qgis.org/ubuntu bionic/main 
amd64 Packages 100 /var/lib/dpkg/status 2.18.17+dfsg-1 500 500 
http://cz.archive.ubuntu.com/ubuntu bionic/universe amd64 Packages |

I expected that the Latest Release in |ubuntu| repository will be 3.18.1 
as in repository for Focal dist. Is this for some purpose? (Previously I 
also post this issue on QGIS Github issues 
(https://github.com/qgis/QGIS/issues/42432) but was proposed to post it 
on this mailing list)

Regads

Oto

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/39c40018/attachment.html>

From rdbath.regiodata at gmail.com  Wed Mar 24 03:08:06 2021
From: rdbath.regiodata at gmail.com (Thomas B)
Date: Wed, 24 Mar 2021 11:08:06 +0100
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <CAL5Q672CHDXZkDpw5_O7SAEiYcsgJPR6NGGK8RNUTpedTRA_QA@mail.gmail.com>
References: <CAB28AsiPDNGV-GhUVxTMz9HV52P0pGW9jY69ka1FnA9mf8dknA@mail.gmail.com>
 <5181-605ae780-19d-61a93400@100067066>
 <CAD3koG=9FM0x8NqEYtptxuxwzeFY6U-syRBw44CpGPV=oB6tRw@mail.gmail.com>
 <CAL5Q672CHDXZkDpw5_O7SAEiYcsgJPR6NGGK8RNUTpedTRA_QA@mail.gmail.com>
Message-ID: <CAD3koGnXPc2SK9c3mxNp766cLAe1TKu5H2EzEeqeqTZZ1PYNpA@mail.gmail.com>

Am Mi., 24. M?rz 2021 um 09:33 Uhr schrieb Alessandro Pasotti <
apasotti at gmail.com>:

>
> Hi,
>
> I am the author of the Boundless init scripts and I just wanted to
> stress that the global settings ini files are another way to
> pre-configure QGIS settings in a corporate environment.
>
> See:
> https://docs.qgis.org/3.16/en/docs/user_manual/introduction/qgis_configuration.html#globalsettingsfile
>
> Kind regards
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it


Hi,
I already tested the globalsettings but my first tests showed that the user
can still override global settings.
(docs:  " The settings in the specified file replace the original inline
default ones, but the user profiles? settings will be set on top of those."
)

So if I set anonymize_new_projects in the global settings to false the user
can still set it to true and the user settings "win".
The startup.py allows me to override unwanted settings during the startup
of QGIS.

What I like about the Init-Scripts is that you can have more structure for
your startup-scripts than with just one startup.py.

regards,
Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/90be3919/attachment.html>

From peter.steibert at t-online.de  Wed Mar 24 04:02:23 2021
From: peter.steibert at t-online.de (peter.steibert at t-online.de)
Date: Wed, 24 Mar 2021 12:02:23 +0100
Subject: [QGIS-Developer] QOCISPATIAL driver does not support entire
 SDO_GEOMETRY
Message-ID: <002b01d7209d$2b671850$823548f0$@t-online.de>

Hello,

 

I am just using the QOCISPATIAL driver to get geometry-data from an Oracle
Database.

 

Unfortunately not all  <https://www.dict.cc/?s=possibilities> possibilities
of SDO_GEOMETRY are implemented by the plugin. (Source:
https://docs.oracle.com/cd/B28359_01/appdev.111/b28400/sdo_objrelschema.htm#
SPATL020).

 

Example: geometry type 4 not supported.

 

Is there an overview what QOCISPATIAL actually CAN receive from an Oracle
Database.

Thanks in advance.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/ae5940fe/attachment.html>

From jef at norbit.de  Wed Mar 24 06:28:15 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 24 Mar 2021 14:28:15 +0100
Subject: [QGIS-Developer] QOCISPATIAL driver does not support entire
 SDO_GEOMETRY
In-Reply-To: <002b01d7209d$2b671850$823548f0$@t-online.de>
References: <002b01d7209d$2b671850$823548f0$@t-online.de>
Message-ID: <20210324132815.6d7qgz2va7tnps22@norbit.de>

Hi Peter,

On Wed, 24. Mar 2021 at 12:02:23 +0100, peter.steibert at t-online.de wrote:
> I am just using the QOCISPATIAL driver to get geometry-data from an Oracle
> Database.
 
> Unfortunately not all  <https://www.dict.cc/?s=possibilities> possibilities
> of SDO_GEOMETRY are implemented by the plugin. (Source:
> https://docs.oracle.com/cd/B28359_01/appdev.111/b28400/sdo_objrelschema.htm#
> SPATL020).
> 
> Example: geometry type 4 not supported.
 
> Is there an overview what QOCISPATIAL actually CAN receive from an Oracle
> Database.

Not that I know.  UTSP.

The QOCISPATIAL driver was just developed (well, actually it's just an enhanced
version of Qt's QOCI driver) to allow QGIS to access Oracle database - and if
the GPL wouldn't forbid to link proprietary libraries, it would probably not
exists at all as the oracle provider could then interface OCI directly.   So
what QGIS doesn't need (or didn't need at the time) might not be there.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/a4dc15b3/attachment-0001.sig>

From roberto.marzocchi at gter.it  Wed Mar 24 10:14:10 2021
From: roberto.marzocchi at gter.it (Roberto Marzocchi)
Date: Wed, 24 Mar 2021 18:14:10 +0100
Subject: [QGIS-Developer] 
 =?utf-8?q?GSoC_2021_QGIS_On-the-fly_Raster_Calc?=
 =?utf-8?q?ulator_discussion?=
In-Reply-To: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
References: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
Message-ID: <178653ab8a1.1213588731045656.8046137008099272279@gter.it>

I can confirm that Francesco, during the first month of internship in Gter, has demonstrated the ability? and pleasure to learn the main programming languages.Concerning my availability. I have no experience with QGIS GSoC but only with GRASS GiS GSoC (I was mentor in 2019).?I hope Francesco can continue its experience in Gter after his studies (since next September) and I encourage him to partecipate to this excellent opportunity to start programming QGIS core. Working together (on closest virtual or physical desks), I can help him with suggestions and solving critical points, even if I do not need any official title (co-mentor). I can keep my actual role of tutor of Francesco internship ;-)R  Eng. Roberto Marzocchi, PhDCTO - Chief Technology OfficerGter srl (Unige spin-off)Via Ruffini 9R - 16128 Genova P.IVA/CF 01998770992 ph: 010-0899150 - mob: 349-8786575 E-mail: roberto.marzocchi at gter.it?-??www.gter.it -- Gter social www.twitter.com/Gteronline - www.facebook.com/Gteronline www.linkedin.com/company/gter-srl-innovazione-in-geomatica-gnss-e-gis ----------------------------------------------------------------- Please consider the environment before printing this email!  ---- On mar, 23 mar 2021 23:23:26 +0100  francesco.bursi at hotmail.it  wrote ----
div.zm_5537812862899295363_parse_-2990173522350964833 P { margin-top: 0; margin-bottom: 0 }






Hello QGIS Dev,




I?m
Francesco Bursi, an M.Sc.
civil
engineer from
Italy currently enrolled
in a
Master of Advanced Studies
(Level
 8 EQF) in giscience and geoinformatics at the University
 of Padua. Through
this postgraduate course
 I?m doing an internship in Gter S.r.l.

I?m really interested
to take part
 to the GSoC 2021
 and learning more about the development of
 QGIS. I would like to work on the first idea that has been proposed.

I have to say in advance that I?m not proficient in C++
in particular,
 but I?m really eager to learn it (I?d love to). On the other side I?m proficient in
pyhton,
 I know javascript,
 html and css, and I?m also
 proficient in SQL.

I was and I am an enthusiast QGIS user, I?m
currently
working
with
 Lizmap (I?m writing some
js
script to customize my maps),
 QGIS and PostgreSQL/Postgis db; I would like to contribute to the QGIS project
 and being part of the developer
 community. 

I would like to know if I?m eligible
for this project and if I can share with you the python script that I wrote as a test as you suggested in the last point of
 the ?Project Ideas?: 
https://github.com/qgis/QGIS/wiki/Google-Summer-of-Code-2021-Ideas






P.s. I?d like to mention
that
Roberto Marzocchi, the CTO of
the company in which I?m doing the internship -Gter
 Srl-, is available as a co-co-mentor if it?s possible. I mean that Gter srl can give me ?operative and logistic? help if needed.
Roberto?worked
 in the development?of
 some plugins
for QGIS and he?s,?of
 course,?involved in a lot of project
in the ?gis/webgis world?,
 he never worked on QGIS core.






Best regards and thank you in advance,




Francesco Bursi




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/959ed118/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1610396622782003_302202141.jpg
Type: image/jpeg
Size: 28093 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210324/959ed118/attachment-0001.jpg>

From apasotti at gmail.com  Wed Mar 24 10:53:48 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 24 Mar 2021 18:53:48 +0100
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 discussion
In-Reply-To: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
References: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
Message-ID: <CAL5Q671NnXu3L-qH7qLUhsW13P6gqE4dFgfMRPnZLMnRpfLWvg@mail.gmail.com>

Hi,

that's a nice idea!

Don't forget that the raster calculator as well as the hillshade
renderer can make use of OpenCL acceleration for a greater rendering
speed (if available in the system).
You might want to have a look at that technology too.

Regards



On Tue, Mar 23, 2021 at 11:23 PM Francesco Bursi
<francesco.bursi at hotmail.it> wrote:
>
> Hello QGIS Dev,
>
>
> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua. Through this postgraduate course I?m doing an internship in Gter S.r.l.
>
> I?m really interested to take part to the GSoC 2021 and learning more about the development of QGIS. I would like to work on the first idea that has been proposed.
>
> I have to say in advance that I?m not proficient in C++ in particular, but I?m really eager to learn it (I?d love to). On the other side I?m proficient in pyhton, I know javascript, html and css, and I?m also proficient in SQL.
>
> I was and I am an enthusiast QGIS user, I?m currently working with Lizmap (I?m writing some js script to customize my maps), QGIS and PostgreSQL/Postgis db; I would like to contribute to the QGIS project and being part of the developer community.
>
> I would like to know if I?m eligible for this project and if I can share with you the python script that I wrote as a test as you suggested in the last point of the ?Project Ideas?: https://github.com/qgis/QGIS/wiki/Google-Summer-of-Code-2021-Ideas
>
>
> P.s. I?d like to mention that Roberto Marzocchi, the CTO of the company in which I?m doing the internship -Gter Srl-, is available as a co-co-mentor if it?s possible. I mean that Gter srl can give me ?operative and logistic? help if needed. Roberto worked in the development of some plugins for QGIS and he?s, of course, involved in a lot of project in the ?gis/webgis world?, he never worked on QGIS core.
>
>
> Best regards and thank you in advance,
>
>
> Francesco Bursi
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From c at margo.co  Wed Mar 24 18:06:44 2021
From: c at margo.co (Pedro Camargo)
Date: Thu, 25 Mar 2021 11:06:44 +1000
Subject: [QGIS-Developer] Changes in Python versions on QGIS 3.18
Message-ID: <17866eb5f13.1a82ec8664735.7410740093909863665@margo.co>

Hello,



I have posted this to the users' list, but apparently, this is the right place to go (thanks for pointing that out,?Nicolas.?



I have noticed that QGIS 3.18 for Windows has shipped with Python 3.9, after having updated to 3.8 just a couple of versions ago.



As a plugin developer, it becomes very difficult to track things and make sure plugins are up-to-date in the face of changing Python versions, especially when the move is to a bleeding-edge version such as 3.9 right now.



I also perused GitHub and this mailing list and saw that Python 3.7 is the minimum version for *nix systems, so I am a little at loss with this move to Python 3.9 with QGIS for Windows.??



https://github.com/qgis/QGIS-Enhancement-Proposals/issues/197



What channels should I be plugged into to learn about these changes and offer input as a plugin developer?? Is there such a channel?



Cheers,

Pedro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210325/f2c57fea/attachment.html>

From nyall.dawson at gmail.com  Wed Mar 24 21:49:32 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 25 Mar 2021 14:49:32 +1000
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 discussion
In-Reply-To: <178653ab8a1.1213588731045656.8046137008099272279@gter.it>
References: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <178653ab8a1.1213588731045656.8046137008099272279@gter.it>
Message-ID: <CAB28Asix4yABPuThOGZmjRECFtiX99Z9x60qSdFq0KHgixk4ug@mail.gmail.com>

On Thu, 25 Mar 2021 at 03:30, Roberto Marzocchi
<roberto.marzocchi at gter.it> wrote:
>
> I can confirm that Francesco, during the first month of internship in Gter, has demonstrated the ability  and pleasure to learn the main programming languages.
>
> Concerning my availability. I have no experience with QGIS GSoC but only with GRASS GiS GSoC (I was mentor in 2019).
> I hope Francesco can continue its experience in Gter after his studies (since next September) and I encourage him to partecipate to this excellent opportunity to start programming QGIS core. Working together (on closest virtual or physical desks), I can help him with suggestions and solving critical points, even if I do not need any official title (co-mentor). I can keep my actual role of tutor of Francesco internship ;-)

Hi Roberto,

Given that Martin and Peter offered to assist in the original
proposal, and that they both know the QGIS code very well, would it be
possible to do some kind of joint mentorship approach here? Perhaps
Peter or Martin could take an advisory role to assist with QGIS coding
practices and design, while you do the "hands-on" work of the
mentoring?

It's an exciting feature, good luck with the proposal!

Nyall


>
> R
>
>
>
> Eng. Roberto Marzocchi, PhD
> CTO - Chief Technology Officer
> Gter srl (Unige spin-off)
> Via Ruffini 9R - 16128 Genova
> P.IVA/CF 01998770992
> ph: 010-0899150 - mob: 349-8786575
> E-mail: roberto.marzocchi at gter.it -  www.gter.it
>
> --
> Gter social
> www.twitter.com/Gteronline - www.facebook.com/Gteronline
> www.linkedin.com/company/gter-srl-innovazione-in-geomatica-gnss-e-gis
>
>
> -----------------------------------------------------------------
> Please consider the environment before printing this email!
>
>
> ---- On mar, 23 mar 2021 23:23:26 +0100 francesco.bursi at hotmail.it wrote ----
>
> Hello QGIS Dev,
>
>
> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua. Through this postgraduate course I?m doing an internship in Gter S.r.l.
>
> I?m really interested to take part to the GSoC 2021 and learning more about the development of QGIS. I would like to work on the first idea that has been proposed.
>
> I have to say in advance that I?m not proficient in C++ in particular, but I?m really eager to learn it (I?d love to). On the other side I?m proficient in pyhton, I know javascript, html and css, and I?m also proficient in SQL.
>
> I was and I am an enthusiast QGIS user, I?m currently working with Lizmap (I?m writing some js script to customize my maps), QGIS and PostgreSQL/Postgis db; I would like to contribute to the QGIS project and being part of the developer community.
>
> I would like to know if I?m eligible for this project and if I can share with you the python script that I wrote as a test as you suggested in the last point of the ?Project Ideas?: https://github.com/qgis/QGIS/wiki/Google-Summer-of-Code-2021-Ideas
>
>
> P.s. I?d like to mention that Roberto Marzocchi, the CTO of the company in which I?m doing the internship -Gter Srl-, is available as a co-co-mentor if it?s possible. I mean that Gter srl can give me ?operative and logistic? help if needed. Roberto worked in the development of some plugins for QGIS and he?s, of course, involved in a lot of project in the ?gis/webgis world?, he never worked on QGIS core.
>
>
> Best regards and thank you in advance,
>
>
> Francesco Bursi
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From roberto.marzocchi at gter.it  Wed Mar 24 23:23:00 2021
From: roberto.marzocchi at gter.it (Roberto Marzocchi)
Date: Thu, 25 Mar 2021 07:23:00 +0100
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 discussion
In-Reply-To: <CAB28Asix4yABPuThOGZmjRECFtiX99Z9x60qSdFq0KHgixk4ug@mail.gmail.com>
References: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <178653ab8a1.1213588731045656.8046137008099272279@gter.it>
 <CAB28Asix4yABPuThOGZmjRECFtiX99Z9x60qSdFq0KHgixk4ug@mail.gmail.com>
Message-ID: <178680ced5a.e87aac7b1058397.9076369018567793234@gter.it>

It is exactly my idea (and perhaps I learn also something about QGIS core)?R?   ---- On gio, 25 mar 2021 05:49:32 +0100  nyall.dawson at gmail.com  wrote ----On Thu, 25 Mar 2021 at 03:30, Roberto Marzocchi
<roberto.marzocchi at gter.it> wrote:
>
> I can confirm that Francesco, during the first month of internship in Gter, has demonstrated the ability  and pleasure to learn the main programming languages.
>
> Concerning my availability. I have no experience with QGIS GSoC but only with GRASS GiS GSoC (I was mentor in 2019).
> I hope Francesco can continue its experience in Gter after his studies (since next September) and I encourage him to partecipate to this excellent opportunity to start programming QGIS core. Working together (on closest virtual or physical desks), I can help him with suggestions and solving critical points, even if I do not need any official title (co-mentor). I can keep my actual role of tutor of Francesco internship ;-)

Hi Roberto,

Given that Martin and Peter offered to assist in the original
proposal, and that they both know the QGIS code very well, would it be
possible to do some kind of joint mentorship approach here? Perhaps
Peter or Martin could take an advisory role to assist with QGIS coding
practices and design, while you do the "hands-on" work of the
mentoring?

It's an exciting feature, good luck with the proposal!

Nyall


>
> R
>
>
>
> Eng. Roberto Marzocchi, PhD
> CTO - Chief Technology Officer
> Gter srl (Unige spin-off)
> Via Ruffini 9R - 16128 Genova
> P.IVA/CF 01998770992
> ph: 010-0899150 - mob: 349-8786575
> E-mail: roberto.marzocchi at gter.it -  www.gter.it
>
> --
> Gter social
> www.twitter.com/Gteronline - www.facebook.com/Gteronline
> www.linkedin.com/company/gter-srl-innovazione-in-geomatica-gnss-e-gis
>
>
> -----------------------------------------------------------------
> Please consider the environment before printing this email!
>
>
> ---- On mar, 23 mar 2021 23:23:26 +0100 francesco.bursi at hotmail.it wrote ----
>
> Hello QGIS Dev,
>
>
> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua. Through this postgraduate course I?m doing an internship in Gter S.r.l.
>
> I?m really interested to take part to the GSoC 2021 and learning more about the development of QGIS. I would like to work on the first idea that has been proposed.
>
> I have to say in advance that I?m not proficient in C++ in particular, but I?m really eager to learn it (I?d love to). On the other side I?m proficient in pyhton, I know javascript, html and css, and I?m also proficient in SQL.
>
> I was and I am an enthusiast QGIS user, I?m currently working with Lizmap (I?m writing some js script to customize my maps), QGIS and PostgreSQL/Postgis db; I would like to contribute to the QGIS project and being part of the developer community.
>
> I would like to know if I?m eligible for this project and if I can share with you the python script that I wrote as a test as you suggested in the last point of the ?Project Ideas?: https://github.com/qgis/QGIS/wiki/Google-Summer-of-Code-2021-Ideas
>
>
> P.s. I?d like to mention that Roberto Marzocchi, the CTO of the company in which I?m doing the internship -Gter Srl-, is available as a co-co-mentor if it?s possible. I mean that Gter srl can give me ?operative and logistic? help if needed. Roberto worked in the development of some plugins for QGIS and he?s, of course, involved in a lot of project in the ?gis/webgis world?, he never worked on QGIS core.
>
>
> Best regards and thank you in advance,
>
>
> Francesco Bursi
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210325/6ab78aa0/attachment.html>

From peter.petrik at lutraconsulting.co.uk  Wed Mar 24 23:57:25 2021
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Thu, 25 Mar 2021 07:57:25 +0100
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 discussion
In-Reply-To: <178680ced5a.e87aac7b1058397.9076369018567793234@gter.it>
References: <VI1P190MB03810D3052A86182B7647CDB80649@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <178653ab8a1.1213588731045656.8046137008099272279@gter.it>
 <CAB28Asix4yABPuThOGZmjRECFtiX99Z9x60qSdFq0KHgixk4ug@mail.gmail.com>
 <178680ced5a.e87aac7b1058397.9076369018567793234@gter.it>
Message-ID: <CA+T_MsJik1g5V4A7hJvUj19HUHLrgRdX_GEZCFDeAHydmUirZw@mail.gmail.com>

Hi Roberto,

Thank you for your interest in the QGIS Core development and GSoC
involvement in 2021 and I hope we can do a nice project together. Let's
have a short call and discuss the further steps. I will write you another
email outside the mailing list for the arragements.

Cheers,
Peter

On Thu, Mar 25, 2021 at 7:23 AM Roberto Marzocchi <roberto.marzocchi at gter.it>
wrote:

> It is exactly my idea (and perhaps I learn also something about QGIS core)
>
> R
>
>
>
>
>
>
> ---- On gio, 25 mar 2021 05:49:32 +0100 * nyall.dawson at gmail.com
> <nyall.dawson at gmail.com> * wrote ----
>
> On Thu, 25 Mar 2021 at 03:30, Roberto Marzocchi
> <roberto.marzocchi at gter.it> wrote:
> >
> > I can confirm that Francesco, during the first month of internship in
> Gter, has demonstrated the ability and pleasure to learn the main
> programming languages.
> >
> > Concerning my availability. I have no experience with QGIS GSoC but only
> with GRASS GiS GSoC (I was mentor in 2019).
> > I hope Francesco can continue its experience in Gter after his studies
> (since next September) and I encourage him to partecipate to this excellent
> opportunity to start programming QGIS core. Working together (on closest
> virtual or physical desks), I can help him with suggestions and solving
> critical points, even if I do not need any official title (co-mentor). I
> can keep my actual role of tutor of Francesco internship ;-)
>
> Hi Roberto,
>
> Given that Martin and Peter offered to assist in the original
> proposal, and that they both know the QGIS code very well, would it be
> possible to do some kind of joint mentorship approach here? Perhaps
> Peter or Martin could take an advisory role to assist with QGIS coding
> practices and design, while you do the "hands-on" work of the
> mentoring?
>
> It's an exciting feature, good luck with the proposal!
>
> Nyall
>
>
> >
> > R
> >
> >
> >
> > Eng. Roberto Marzocchi, PhD
> > CTO - Chief Technology Officer
> > Gter srl (Unige spin-off)
> > Via Ruffini 9R - 16128 Genova
> > P.IVA/CF 01998770992
> > ph: 010-0899150 - mob: 349-8786575
> > E-mail: roberto.marzocchi at gter.it - www.gter.it
> >
> > --
> > Gter social
> > www.twitter.com/Gteronline - www.facebook.com/Gteronline
> > www.linkedin.com/company/gter-srl-innovazione-in-geomatica-gnss-e-gis
> >
> >
> > -----------------------------------------------------------------
> > Please consider the environment before printing this email!
> >
> >
> > ---- On mar, 23 mar 2021 23:23:26 +0100 francesco.bursi at hotmail.it
> wrote ----
> >
> > Hello QGIS Dev,
> >
> >
> > I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently
> enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and
> geoinformatics at the University of Padua. Through this postgraduate course
> I?m doing an internship in Gter S.r.l.
> >
> > I?m really interested to take part to the GSoC 2021 and learning more
> about the development of QGIS. I would like to work on the first idea that
> has been proposed.
> >
> > I have to say in advance that I?m not proficient in C++ in particular,
> but I?m really eager to learn it (I?d love to). On the other side I?m
> proficient in pyhton, I know javascript, html and css, and I?m also
> proficient in SQL.
> >
> > I was and I am an enthusiast QGIS user, I?m currently working with
> Lizmap (I?m writing some js script to customize my maps), QGIS and
> PostgreSQL/Postgis db; I would like to contribute to the QGIS project and
> being part of the developer community.
> >
> > I would like to know if I?m eligible for this project and if I can share
> with you the python script that I wrote as a test as you suggested in the
> last point of the ?Project Ideas?:
> https://github.com/qgis/QGIS/wiki/Google-Summer-of-Code-2021-Ideas
> >
> >
> > P.s. I?d like to mention that Roberto Marzocchi, the CTO of the company
> in which I?m doing the internship -Gter Srl-, is available as a
> co-co-mentor if it?s possible. I mean that Gter srl can give me ?operative
> and logistic? help if needed. Roberto worked in the development of some
> plugins for QGIS and he?s, of course, involved in a lot of project in the
> ?gis/webgis world?, he never worked on QGIS core.
> >
> >
> > Best regards and thank you in advance,
> >
> >
> > Francesco Bursi
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210325/dc502113/attachment-0001.html>

From ernst at pleiszenburg.de  Thu Mar 25 04:59:28 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Thu, 25 Mar 2021 12:59:28 +0100
Subject: [QGIS-Developer] [Qgis-user] Changes in Python versions on QGIS
 3.18
In-Reply-To: <CAB28AsgiX4hoEQq4ChJQjeZTgzArTCSHQ+74kk0u3qA0hc_qEQ@mail.gmail.com>
References: <CAP=p+YtRNCipwwS+=GjY=VafFeuSsFXhdUr1DAZwJHSFDfvLJA@mail.gmail.com>
 <CAB28AsgiX4hoEQq4ChJQjeZTgzArTCSHQ+74kk0u3qA0hc_qEQ@mail.gmail.com>
Message-ID: <7032578d-8631-d1a1-9fc4-919b73b0b41f@pleiszenburg.de>

Hi Nyall,

> I'm curious -- what's the pain in a Python update? They usually have
> very little harmful impact on python code.

from a syntactical point of view, the language is usually only extended
- here, you are right for the most part (except for younger features
like the async stuff for instance). However, there are always edge-cases
in terms of behavior-changes in the interpreter, unfortunately.

>From a standard-library point of view, more and more depredations from
the earlier 3.x-days are now gradually being removed while many more
features have recently been added to the list of deprecations. Just for
example, 3.8 and 3.9:

https://docs.python.org/3.9/whatsnew/3.8.html#api-and-feature-removals
https://docs.python.org/3.9/whatsnew/3.9.html#removed

It's not a lot of stuff, but, from experience, it always requires proper
testing and minor fixes. Besides, there is always "this one dependency"
which has issues and is not fixed in time.

Things become a little more problematic when you are relying on the
interpreter's internals in one way of another. Every version sees
significant changes in its C API. If QGIS did not have any issues with
that recently, then you are lucky. Beyond that, every version -
especially recent ones - introduce a lot of changes at the byte-code
level. If you are, just as an example, relying on packages like `numba`,
which is becoming more and more common, then those byte-code-level
changes simply mean that you are unable to move to a younger version of
Python for quite a bit of time. As of today, strictly speaking, Python
3.9 has only been a "stable" option for many users for the past 9 days:

https://github.com/numba/numba/issues/6345
https://github.com/numba/numba/releases/tag/0.53.0

A clear Python upgrade policy for QGIS would be really helpful, allowing
developers to adjust their workflow accordingly. PEP 602 has recently
introduced clear rules for Python itself, i.e. an annual schedule. It
should be feasible to come up with a simple set of rules when QGIS
(and/or OSGeo4W for that matter) switches to a new version of Python.

https://www.python.org/dev/peps/pep-0602/

Best regards,
Sebastian

From Mirco32 at gmx.de  Thu Mar 25 10:34:46 2021
From: Mirco32 at gmx.de (Mirco Becker)
Date: Thu, 25 Mar 2021 18:34:46 +0100
Subject: [QGIS-Developer] Automating Python scripts or models
Message-ID: <trinity-f8a2b901-a480-4dbf-9ce4-da8784715854-1616693686365@msvc-mesg-gmx125>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210325/377c4682/attachment.html>

From alroyliz0 at gmail.com  Thu Mar 25 13:44:50 2021
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Thu, 25 Mar 2021 16:44:50 -0400
Subject: [QGIS-Developer] Automating Python scripts or models
In-Reply-To: <trinity-f8a2b901-a480-4dbf-9ce4-da8784715854-1616693686365@msvc-mesg-gmx125>
References: <trinity-f8a2b901-a480-4dbf-9ce4-da8784715854-1616693686365@msvc-mesg-gmx125>
Message-ID: <CAOM0XWD5ck_Oz7=un8-yuDdZ9J8Nt=Dxaw=z_u_T2jo1ERDfgw@mail.gmail.com>

Look into macros or action in QGIS

Otherwise there are plenty of way to do it from outside, but not that
easily in some cases.

Alex


Le jeu. 25 mars 2021 ? 13:35, Mirco Becker <Mirco32 at gmx.de> a ?crit :

> I am looking for a way too automatically start scripts.
>
> Outside of QGIS by using the console and start it with the command python3.
> But I don?t know what commands and parameters in the python dokument are
> missing to make it able too start without QGIS running.
>
> Or
>
> Startign QGIS with the script or model auatomatically running.
> I heard there would be a way to manipulate the qgs file, so that if it
> opens directly runs the script.
>
> I am using both: Ubuntu 20.04.2 and Windows 10 with QGIS 2.10.14
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210325/9aaf5a05/attachment.html>

From c at margo.co  Thu Mar 25 15:06:20 2021
From: c at margo.co (Pedro Camargo)
Date: Fri, 26 Mar 2021 08:06:20 +1000
Subject: [QGIS-Developer] Changes in Python versions on QGIS 3.18
In-Reply-To: <mailman.23.1616698802.17904.qgis-developer@lists.osgeo.org>
References: <mailman.23.1616698802.17904.qgis-developer@lists.osgeo.org>
Message-ID: <1786b6c8f98.7d06e61465053.4800688989453922314@margo.co>

Hi Sebastian & Nyall,

It is clear that Sebastian knows a LOT more about the issues at hand than I ever will, but I think it is worthwhile to expand on the particular issues I have found regarding AequilibraE.

1. The most important functionalities of the software depend on a compiled extension that the user is asked to download after the plugin is installed, and the workflow for that dependency is still not up for Python 3.9 ( I was not aware of the rush for changing versions), and a quick look revealed deeper problems, probably related to C runtimes (I will need to ask a friend's help to solve that)
2. A few other features depend on the user augmenting the QGIS Python environment with other libraries (ORTools and openmatrix, which depends on PyTables), and some of these libraries are still not available for Python 3.9.

In a nutshell, I think Sebastian's suggestion for an upgrade policy is really helpful, as it gives us a reference to work with.

Cheers,
Pedro 


 ---- On Fri, 26 Mar 2021 05:00:02 +1000  <qgis-developer-request at lists.osgeo.org> wrote ----
 > Send QGIS-Developer mailing list submissions to
 >     qgis-developer at lists.osgeo.org
 > 
 > To subscribe or unsubscribe via the World Wide Web, visit
 >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > or, via email, send a message with subject or body 'help' to
 >     qgis-developer-request at lists.osgeo.org
 > 
 > You can reach the person managing the list at
 >     qgis-developer-owner at lists.osgeo.org
 > 
 > When replying, please edit your Subject line so it is more specific
 > than "Re: Contents of QGIS-Developer digest..."
 > 
 > 
 > Today's Topics:
 > 
 >    1. Re: [Qgis-user] Changes in Python versions on QGIS 3.18
 >       (Sebastian M. Ernst)
 >    2. Automating Python scripts or models (Mirco Becker)
 > 
 > 
 > ----------------------------------------------------------------------
 > 
 > Message: 1
 > Date: Thu, 25 Mar 2021 12:59:28 +0100
 > From: "Sebastian M. Ernst" <ernst at pleiszenburg.de>
 > To: Nyall Dawson <nyall.dawson at gmail.com>
 > Cc: qgis-developer <qgis-developer at lists.osgeo.org>
 > Subject: Re: [QGIS-Developer] [Qgis-user] Changes in Python versions
 >     on QGIS 3.18
 > Message-ID: <7032578d-8631-d1a1-9fc4-919b73b0b41f at pleiszenburg.de>
 > Content-Type: text/plain; charset=utf-8
 > 
 > Hi Nyall,
 > 
 > > I'm curious -- what's the pain in a Python update? They usually have
 > > very little harmful impact on python code.
 > 
 > from a syntactical point of view, the language is usually only extended
 > - here, you are right for the most part (except for younger features
 > like the async stuff for instance). However, there are always edge-cases
 > in terms of behavior-changes in the interpreter, unfortunately.
 > 
 > >From a standard-library point of view, more and more depredations from
 > the earlier 3.x-days are now gradually being removed while many more
 > features have recently been added to the list of deprecations. Just for
 > example, 3.8 and 3.9:
 > 
 > https://docs.python.org/3.9/whatsnew/3.8.html#api-and-feature-removals
 > https://docs.python.org/3.9/whatsnew/3.9.html#removed
 > 
 > It's not a lot of stuff, but, from experience, it always requires proper
 > testing and minor fixes. Besides, there is always "this one dependency"
 > which has issues and is not fixed in time.
 > 
 > Things become a little more problematic when you are relying on the
 > interpreter's internals in one way of another. Every version sees
 > significant changes in its C API. If QGIS did not have any issues with
 > that recently, then you are lucky. Beyond that, every version -
 > especially recent ones - introduce a lot of changes at the byte-code
 > level. If you are, just as an example, relying on packages like `numba`,
 > which is becoming more and more common, then those byte-code-level
 > changes simply mean that you are unable to move to a younger version of
 > Python for quite a bit of time. As of today, strictly speaking, Python
 > 3.9 has only been a "stable" option for many users for the past 9 days:
 > 
 > https://github.com/numba/numba/issues/6345
 > https://github.com/numba/numba/releases/tag/0.53.0
 > 
 > A clear Python upgrade policy for QGIS would be really helpful, allowing
 > developers to adjust their workflow accordingly. PEP 602 has recently
 > introduced clear rules for Python itself, i.e. an annual schedule. It
 > should be feasible to come up with a simple set of rules when QGIS
 > (and/or OSGeo4W for that matter) switches to a new version of Python.
 > 
 > https://www.python.org/dev/peps/pep-0602/
 > 
 > Best regards,
 > Sebastian
 > 
 > 
 > ------------------------------
 > 
 > Message: 2
 > Date: Thu, 25 Mar 2021 18:34:46 +0100
 > From: Mirco Becker <Mirco32 at gmx.de>
 > To: qgis-developer at lists.osgeo.org
 > Subject: [QGIS-Developer] Automating Python scripts or models
 > Message-ID:
 >     <trinity-f8a2b901-a480-4dbf-9ce4-da8784715854-1616693686365 at msvc-mesg-gmx125>
 >     
 > Content-Type: text/plain; charset="us-ascii"
 > 
 > An HTML attachment was scrubbed...
 > URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210325/377c4682/attachment-0001.html>
 > 
 > ------------------------------
 > 
 > Subject: Digest Footer
 > 
 > _______________________________________________
 > QGIS-Developer mailing list
 > QGIS-Developer at lists.osgeo.org
 > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > 
 > 
 > ------------------------------
 > 
 > End of QGIS-Developer Digest, Vol 185, Issue 56
 > ***********************************************
 > 

From nyall.dawson at gmail.com  Thu Mar 25 15:11:43 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 26 Mar 2021 08:11:43 +1000
Subject: [QGIS-Developer] Changes in Python versions on QGIS 3.18
In-Reply-To: <1786b6c8f98.7d06e61465053.4800688989453922314@margo.co>
References: <mailman.23.1616698802.17904.qgis-developer@lists.osgeo.org>
 <1786b6c8f98.7d06e61465053.4800688989453922314@margo.co>
Message-ID: <CAB28Asjv849dS7UchN55N68F7Hggp2cFXTYXnwcVvJX+4OhUrQ@mail.gmail.com>

On Fri, 26 Mar 2021 at 08:06, Pedro Camargo <c at margo.co> wrote:
>
> Hi Sebastian & Nyall,
>
> It is clear that Sebastian knows a LOT more about the issues at hand than I ever will, but I think it is worthwhile to expand on the particular issues I have found regarding AequilibraE.
>
> 1. The most important functionalities of the software depend on a compiled extension that the user is asked to download after the plugin is installed, and the workflow for that dependency is still not up for Python 3.9 ( I was not aware of the rush for changing versions), and a quick look revealed deeper problems, probably related to C runtimes (I will need to ask a friend's help to solve that)
> 2. A few other features depend on the user augmenting the QGIS Python environment with other libraries (ORTools and openmatrix, which depends on PyTables), and some of these libraries are still not available for Python 3.9.
>
> In a nutshell, I think Sebastian's suggestion for an upgrade policy is really helpful, as it gives us a reference to work with.

It's really not that simple though -- we have absolutely no control
over the python versions used by many QGIS users. E.g. as a Fedora
user I've had Python 3.9 for months -- it was pushed out almost as
soon as upstream released it.

Given this I think the responsibility lies with the plugin authors to
ensure they adapt quickly to new Python releases and ensure their
plugin works correctly in all versions of Python supported by the
targeted QGIS versions.

Nyall

From c at margo.co  Thu Mar 25 15:14:54 2021
From: c at margo.co (Pedro Camargo)
Date: Fri, 26 Mar 2021 08:14:54 +1000
Subject: [QGIS-Developer] Changes in Python versions on QGIS 3.18
In-Reply-To: <CAB28Asjv849dS7UchN55N68F7Hggp2cFXTYXnwcVvJX+4OhUrQ@mail.gmail.com>
References: <mailman.23.1616698802.17904.qgis-developer@lists.osgeo.org>
 <1786b6c8f98.7d06e61465053.4800688989453922314@margo.co>
 <CAB28Asjv849dS7UchN55N68F7Hggp2cFXTYXnwcVvJX+4OhUrQ@mail.gmail.com>
Message-ID: <1786b746865.1e5163b465088.3492992488158564235@margo.co>

Nyall,

I agree with you on the Linux side, but we make an explicit choice on the Python version shipped with Windows.

Cheers,
Pedro




 ---- On Fri, 26 Mar 2021 08:11:43 +1000 Nyall Dawson <nyall.dawson at gmail.com> wrote ----
 > On Fri, 26 Mar 2021 at 08:06, Pedro Camargo <c at margo.co> wrote:
 > >
 > > Hi Sebastian & Nyall,
 > >
 > > It is clear that Sebastian knows a LOT more about the issues at hand than I ever will, but I think it is worthwhile to expand on the particular issues I have found regarding AequilibraE.
 > >
 > > 1. The most important functionalities of the software depend on a compiled extension that the user is asked to download after the plugin is installed, and the workflow for that dependency is still not up for Python 3.9 ( I was not aware of the rush for changing versions), and a quick look revealed deeper problems, probably related to C runtimes (I will need to ask a friend's help to solve that)
 > > 2. A few other features depend on the user augmenting the QGIS Python environment with other libraries (ORTools and openmatrix, which depends on PyTables), and some of these libraries are still not available for Python 3.9.
 > >
 > > In a nutshell, I think Sebastian's suggestion for an upgrade policy is really helpful, as it gives us a reference to work with.
 > 
 > It's really not that simple though -- we have absolutely no control
 > over the python versions used by many QGIS users. E.g. as a Fedora
 > user I've had Python 3.9 for months -- it was pushed out almost as
 > soon as upstream released it.
 > 
 > Given this I think the responsibility lies with the plugin authors to
 > ensure they adapt quickly to new Python releases and ensure their
 > plugin works correctly in all versions of Python supported by the
 > targeted QGIS versions.
 > 
 > Nyall
 > 

From tim at kartoza.com  Thu Mar 25 16:25:09 2021
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 25 Mar 2021 23:25:09 +0000
Subject: [QGIS-Developer] [Qgis-community-team] Automatic creation of
 issue reports in doc repo for new features
In-Reply-To: <CAMtDFL+DhkP0BLQt32fxboMn_fFVbOdo_3CG1BZLasdhN6VJ9Q@mail.gmail.com>
References: <CC9A0175-DFD7-4744-842E-D9B7EEB05B85@gmail.com>
 <CAMtDFL+DhkP0BLQt32fxboMn_fFVbOdo_3CG1BZLasdhN6VJ9Q@mail.gmail.com>
Message-ID: <CAES-DZT+Fs8H1CADdPmBXQU2ekLY70n8TS-JNG2tZ22Q-GzJZw@mail.gmail.com>

Hi Etienne

Could I ask you to add your notes to
https://github.com/qgis/QGIS/wiki/Changelog-Workflows too?

Maybe we need to move or link to those docs from somewhere more visible
too? Perhaps in the PR boilerplate instructions if they are not already
there?

Regards

Tim

On Mon, 22 Mar 2021, 05:17 Etienne Trimaille, <etienne.trimaille at gmail.com>
wrote:

> Thanks for the reminder.
>
> I'm just adding some notes as well on PR descriptions.
>
> https://changelog.qgis.org/ and
> https://www.qgis.org/en/site/forusers/visualchangelogs.html are created
> by "harvesting" the list of PR on GitHub. So the description is important.
>
> For information, it want your feature/bugfix populated with the funder
> name and/or URL, you can specify them in the PR description with one of
> these
>
> Funded by NAME HTTPS://URL.COM
> Funded by NAME
> Funded by HTTPS://URL.COM
>
> A regex will try to extract these 2 informations.
>
> The first image found in the PR description will also be used as a proper
> thumbnail.
>
> These notes should be added in the contributing.md file.
>
> Le sam. 20 mars 2021 ? 15:48, Harrissou <delazj at gmail.com> a ?crit :
>
>> Hi devs,
>>
>> This is a gentle reminder to add the "needs documentation" label to the
>> new features you are developing or reviewing so that the corresponding
>> ticket is opened in docs repo. This is the only and single way to
>> automatically create the reports.
>> The old way to add [feature] or [needs docs] to the commits does NOT
>> create a report anymore (abandoned by github - and us - last autumn). It's
>> however useful for writers to identify the new feature(s) among many
>> changes in a pull request (but of course, only if the label is correctly
>> added to the pull request).
>>
>> So please, whenever you add "feature" or "changelog" labels to a pull
>> request, consider whether adding the "needs documentation" label is also
>> appropriate. Thanks.
>>
>> Regards,
>> Harrissou
>> --
>> Envoy? de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser
>> ma bri?vet?._______________________________________________
>> Qgis-community-team mailing list for organizing community resources such
>> as documentation, translation etc..
>> Qgis-community-team at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
>>
> _______________________________________________
> Qgis-community-team mailing list for organizing community resources such
> as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210325/f8e8c8d5/attachment-0001.html>

From ernst at pleiszenburg.de  Fri Mar 26 01:48:44 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Fri, 26 Mar 2021 09:48:44 +0100
Subject: [QGIS-Developer] Changes in Python versions on QGIS 3.18
In-Reply-To: <CAB28Asjv849dS7UchN55N68F7Hggp2cFXTYXnwcVvJX+4OhUrQ@mail.gmail.com>
References: <mailman.23.1616698802.17904.qgis-developer@lists.osgeo.org>
 <1786b6c8f98.7d06e61465053.4800688989453922314@margo.co>
 <CAB28Asjv849dS7UchN55N68F7Hggp2cFXTYXnwcVvJX+4OhUrQ@mail.gmail.com>
Message-ID: <3ba8d40b-050e-1cb1-c18d-49836039a9a7@pleiszenburg.de>

Hi Nyall,

> we have absolutely no control
> over the python versions used by many QGIS users. E.g. as a Fedora
> user I've had Python 3.9 for months

is not it safe to say that a clear majority of the user base is running
Windows where you do have full control?

Besides, even in the Linux space, how many "enterprise users" (not
developers) are running "bleeding edge distros" like Fedora or
Tumbleweed? Leap/SLE is stuck at Python 3.6 (and will be for the
foreseeable future [1]), Ubuntu 18.04 LTS is also at 3.6, 20.04 LTS is
at 3.8 (hallelujah), CentOS/RHEL 7 is at 3.6 and even CentOS/RHEL 8
appears to be stuck at 3.6.

As a consequence, going for 3.7 as a minimum requirement effectively
rules out packaging (without intensive patching at least) and (easy) use
on many contemporary LTS Linux distros.

> Given this I think the responsibility lies with the plugin authors to
> ensure they adapt quickly to new Python releases and ensure their
> plugin works correctly in all versions of Python supported by the
> targeted QGIS versions.

Until recently [2], such a constraint did not even exist [3] (other than
a rather broad "Python 3.X"). Now, you're technically sort of supporting
3.7 to 3.9, although it has not been documented anywhere as far as I
know other than in PRs and issues etc. - please correct me if I am wrong.

Sebastian


1:
https://lists.opensuse.org/archives/list/factory at lists.opensuse.org/thread/FLXUTQB6DY4OAZ43AUUKZ6PCOBDAKBRA/#Y6X4QTXPTIPHCBHIO76I5CAT3C75ZEMH
2: https://github.com/qgis/QGIS/pull/41778
3: https://lists.osgeo.org/pipermail/qgis-developer/2020-March/060495.html

From nyall.dawson at gmail.com  Fri Mar 26 01:56:03 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 26 Mar 2021 18:56:03 +1000
Subject: [QGIS-Developer] Changes in Python versions on QGIS 3.18
In-Reply-To: <3ba8d40b-050e-1cb1-c18d-49836039a9a7@pleiszenburg.de>
References: <mailman.23.1616698802.17904.qgis-developer@lists.osgeo.org>
 <1786b6c8f98.7d06e61465053.4800688989453922314@margo.co>
 <CAB28Asjv849dS7UchN55N68F7Hggp2cFXTYXnwcVvJX+4OhUrQ@mail.gmail.com>
 <3ba8d40b-050e-1cb1-c18d-49836039a9a7@pleiszenburg.de>
Message-ID: <CAB28AsiXj-4vwMBZ-8YA-C4W21+w__pDRzO1PVeByPx6ie_W6g@mail.gmail.com>

>
> Until recently [2], such a constraint did not even exist [3] (other than
> a rather broad "Python 3.X"). Now, you're technically sort of supporting
> 3.7 to 3.9, although it has not been documented anywhere as far as I
> know other than in PRs and issues etc. - please correct me if I am wrong.

The discussion happened in public here:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/197

The rationale is that users on older, slower moving distros can easily
stick to the stable 3.16 LTR without issues. I.e. older, stable distro
= older, stable QGIS release.

Nyall

>
> Sebastian
>
>
> 1:
> https://lists.opensuse.org/archives/list/factory at lists.opensuse.org/thread/FLXUTQB6DY4OAZ43AUUKZ6PCOBDAKBRA/#Y6X4QTXPTIPHCBHIO76I5CAT3C75ZEMH
> 2: https://github.com/qgis/QGIS/pull/41778
> 3: https://lists.osgeo.org/pipermail/qgis-developer/2020-March/060495.html

From dmarteau at 3liz.com  Fri Mar 26 01:57:02 2021
From: dmarteau at 3liz.com (David Marteau)
Date: Fri, 26 Mar 2021 09:57:02 +0100
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <4fcdc8be-f296-5b58-f030-e9d1fe5584ea@pleiszenburg.de>
References: <CAA7KATmbBJNM1Tuh_nVg28s8WK1PkBM3z3Wsxo2xmzzC1h1OXg@mail.gmail.com>
 <4fcdc8be-f296-5b58-f030-e9d1fe5584ea@pleiszenburg.de>
Message-ID: <a281dfee-c282-57bf-a6b2-4f04380166c5@3liz.com>

> I am not entirely sure what QGIS' (intended) behavior is in a case like
> this. From the top of my head, having read the relevant portion of its
> source code, I'd expect at least a second application window likely
> followed by non-deterministic behavior (again, depending on the
> use-case, likely resulting in a crash). Can someone elaborate?

I can confirm that the result is non-deterministic even with headless 
PyQgis programs.

For programs relying heavily on multiprocessing the best strategy is to 
use a `fork-server` process
started at the very beginning (before initializing Qgis) managing the 
pool of child processes, so that each forked
process starts in the same state.

David,

Le 23/03/2021 ? 19:22, Sebastian M. Ernst a ?crit?:
> Hi Jo?o, all,
>
> really interesting question.
>
>> however when i run the plugin a new instance of application is open
>> and give me an error.
> I assume that you are using `multiprocessing` [1] from Python's standard
> library. Its default behavior is to use process-based parallelism (as
> the title in the documentation says). I am assuming that you have not
> altered its default behavior (e.g. by configuring it to use threads
> instead). This is why you get at least another "worker" process if you
> e.g. create a process pool. I have successfully used this method with
> QGIS before, but always on Linux and OS X. I am just guessing that you
> are doing this on Windows, right?
>
> Depending on the operating system, `multiprocessing` uses different
> methods to create worker processes. On Linux and OS X, it simply forks
> [2] the main process. This way, you do not see a second application
> window popping up. You "simply" get a second, third, fourth, ... process
> "in the background". On Windows, the `fork` syscall does not exist,
> neither does something similar [3]. `multiprocessing` therefore starts a
> complete new process from scratch. If it was pure Python, it would
> simply start a new Python interpreter process. Because it is QGIS, it
> opens another instance of QGIS.
>
> I am not entirely sure what QGIS' (intended) behavior is in a case like
> this. From the top of my head, having read the relevant portion of its
> source code, I'd expect at least a second application window likely
> followed by non-deterministic behavior (again, depending on the
> use-case, likely resulting in a crash). Can someone elaborate?
>
> Best regards,
> Sebastian
>
>
> 1: https://docs.python.org/3/library/multiprocessing.html
> 2: https://en.wikipedia.org/wiki/Fork_(system_call)
> 3: https://stackoverflow.com/q/985281/1672565
>
>
> Am 23.03.21 um 13:08 schrieb Joao Folgado:
>> Hi everyone,
>>
>> I had created ?a plugin for Qgis and I trying to optimize it. So i use
>> in my code the library python that have Queue whit multiprocessing
>> however when i run the plugin a new instance of application is open and
>> give me an error.
>> I had early use this type of multiprocessing before in simple projects
>> in university and it works ok.
>> Can someone help ? I researched in many forums, i see people whit the
>> same question but not with the answer.
>> Thank you very much.
>>
>> Best regards,
>> Jo?o Folgado
>> Portugal
>> -- 
>> JO?O FOLGADO
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From ernst at pleiszenburg.de  Fri Mar 26 02:23:53 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Fri, 26 Mar 2021 10:23:53 +0100
Subject: [QGIS-Developer] Changes in Python versions on QGIS 3.18
In-Reply-To: <CAB28AsiXj-4vwMBZ-8YA-C4W21+w__pDRzO1PVeByPx6ie_W6g@mail.gmail.com>
References: <mailman.23.1616698802.17904.qgis-developer@lists.osgeo.org>
 <1786b6c8f98.7d06e61465053.4800688989453922314@margo.co>
 <CAB28Asjv849dS7UchN55N68F7Hggp2cFXTYXnwcVvJX+4OhUrQ@mail.gmail.com>
 <3ba8d40b-050e-1cb1-c18d-49836039a9a7@pleiszenburg.de>
 <CAB28AsiXj-4vwMBZ-8YA-C4W21+w__pDRzO1PVeByPx6ie_W6g@mail.gmail.com>
Message-ID: <236c9ffc-a97a-1b50-f2b5-dcb2286fd499@pleiszenburg.de>

Hi Nyall,

>> Until recently [2], such a constraint did not even exist [3] (other than
>> a rather broad "Python 3.X"). Now, you're technically sort of supporting
>> 3.7 to 3.9, although it has not been documented anywhere as far as I
>> know other than in PRs and issues etc. - please correct me if I am wrong.
> 
> The discussion happened in public here:
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/197

I am sorry if I did not make myself clear: I am aware that it happened
in public, yes. The documentation of the new constraint can therefore be
found - in public - in a Github issue (in a repository other than the
main QGIS one). Did it ever make its way into the documentation for
plugin developers or ("building QGIS from source" developer
documentation)? In other words, as a (plugin) developer, I currently
have to search and monitor several github repos and at least this
mailing list constantly if I want to know about this kind of stuff.
Actually, I have yet to find the place where updates of critical OSGeo4W
as well as QGIS for Windows installer components are potentially
discussed or announced - in this context, Python 3.9 was also a big
surprise for me.

Besides, in the past, I have basically manually tested my way through a
bunch of relevant permutations of {OS | OS version | QGIS version |
Python version} before I knew what was compatible and what was not.
There is no "support matrix" or similar. This is the kind of work and
responsibility that you're currently leaving to the plugin developers IF
they want to make sure that their stuff actually works across a broad
range of QGIS deployments.

> The rationale is that users on older, slower moving distros can easily
> stick to the stable 3.16 LTR without issues. I.e. older, stable distro
> = older, stable QGIS release.

Makes sense, agreed.

Sebastian

From francesco.bursi at hotmail.it  Fri Mar 26 02:50:17 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Fri, 26 Mar 2021 09:50:17 +0000
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 discussion
Message-ID: <VI1P190MB0381EFE8CD6D4AFCEB13A18480619@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>



Hi Alessandro and thank you for the reply and the advice. I will definitely take it into consideration if I will be able to work on this feature!

Francesco Bursi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210326/dae16216/attachment-0001.html>

From surveykshak at gmail.com  Sat Mar 27 02:15:51 2021
From: surveykshak at gmail.com (Paul N)
Date: Sat, 27 Mar 2021 14:45:51 +0530
Subject: [QGIS-Developer] Error : To use the proj_api.h you must define the
 macro ACCEPT_USE_OF_DEPRECATED_PROJ_API_H'
Message-ID: <CAGy7cY=A9N=CifvD9TEBAm=2x94MSo6VJiQbr-sW7_hCKwktZA@mail.gmail.com>

Hi, I am trying to build QGIS 3.16 on Window 10 Pro and I am getting error
messages:

Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' qgisgrass7
C:\OSGeo4W64\include\proj_api.h 37
Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' (compiling source file
D:\Repositories\QGIS-release-3_16\src\plugins\grass\qgsgrassplugin.cpp)
grassplugin7 C:\OSGeo4W64\include\proj_api.h 37
Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' (compiling source file
D:\Repositories\QGIS-release-3_16\src\plugins\grass\qgsgrasstools.cpp)
grassplugin7 C:\OSGeo4W64\include\proj_api.h 37
Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' (compiling source file
D:\Repositories\QGIS-release-3_16\src\plugins\grass\qgsgrassmapcalc.cpp)
grassplugin7 C:\OSGeo4W64\include\proj_api.h 37
Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' (compiling source file
D:\Repositories\QGIS-release-3_16\src\plugins\grass\qgsgrassmodule.cpp)
grassplugin7 C:\OSGeo4W64\include\proj_api.h 37
Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' (compiling source file
D:\Repositories\QGIS-release-3_16\src\plugins\grass\qgsgrassmoduleinput.cpp)
grassplugin7 C:\OSGeo4W64\include\proj_api.h 37
Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' (compiling source file
D:\Repositories\QGIS-release-3_16\src\plugins\grass\qgsgrassmoduleparam.cpp)
grassplugin7 C:\OSGeo4W64\include\proj_api.h 37
Error C1189 #error:  'To use the proj_api.h you must define the macro
ACCEPT_USE_OF_DEPRECATED_PROJ_API_H' (compiling source file
D:\Repositories\QGIS-release-3_16\src\plugins\grass\qgsgrassmoduleoptions.cpp)
grassplugin7 C:\OSGeo4W64\include\proj_api.h 37



I had added the following lines in files given below :


#ifndef ACCEPT_USE_OF_DEPRECATED_PROJ_API_H
#define ACCEPT_USE_OF_DEPRECATED_PROJ_API_H
#endif
#include <proj_api.h>


Files are mentioned in error:
qgsgrassplugin.cpp
qgsgrasstools.cpp
qgsgrassmapcalc.cpp
qgsgrassmodule.cpp
qgsgrassmoduleinput.cpp
qgsgrassmoduleparam.cpp
qgsgrassmoduleoptions.cpp


Thanks in advance.

Any help?

Paul N
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210327/f96863e0/attachment.html>

From jef at norbit.de  Sat Mar 27 03:56:43 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 27 Mar 2021 11:56:43 +0100
Subject: [QGIS-Developer] Error : To use the proj_api.h you must define
 the macro ACCEPT_USE_OF_DEPRECATED_PROJ_API_H'
In-Reply-To: <CAGy7cY=A9N=CifvD9TEBAm=2x94MSo6VJiQbr-sW7_hCKwktZA@mail.gmail.com>
References: <CAGy7cY=A9N=CifvD9TEBAm=2x94MSo6VJiQbr-sW7_hCKwktZA@mail.gmail.com>
Message-ID: <20210327105643.coxse22sc5oucodo@norbit.de>


On Sat, 27. Mar 2021 at 14:45:51 +0530, Paul N wrote:
> Hi, I am trying to build QGIS 3.16 on Window 10 Pro and I am getting error
> messages:

Apparently not the latest version of 3.16.
 
> I had added the following lines in files given below :
 
> #ifndef ACCEPT_USE_OF_DEPRECATED_PROJ_API_H
> #define ACCEPT_USE_OF_DEPRECATED_PROJ_API_H
> #endif
> #include <proj_api.h>

That breaks with PROJ8.

Current 3.16 reads:

#if defined(PROJ_VERSION_MAJOR) && PROJ_VERSION_MAJOR>=6
#if defined(PROJ_VERSION_MAJOR) && PROJ_VERSION_MAJOR>=6 && PROJ_VERSION_MAJOR<8
#define ACCEPT_USE_OF_DEPRECATED_PROJ_API_H
#endif


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210327/89dbea51/attachment.sig>

From andreas at yank.to  Sat Mar 27 04:27:09 2021
From: andreas at yank.to (Andreas Yankopolus)
Date: Sat, 27 Mar 2021 07:27:09 -0400
Subject: [QGIS-Developer] Ubuntu daily repo for PR into master?
Message-ID: <0F2B3846-1F4F-4EAC-9E7E-60085A46F62D@yank.to>

Which Ubuntu repository would I want to add to my sources.list to get a .deb with this PR?

https://github.com/qgis/QGIS/pull/42495

Thanks,

Andreas

From jfolgado94 at gmail.com  Sat Mar 27 05:48:29 2021
From: jfolgado94 at gmail.com (Joao Folgado)
Date: Sat, 27 Mar 2021 12:48:29 +0000
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <a281dfee-c282-57bf-a6b2-4f04380166c5@3liz.com>
References: <CAA7KATmbBJNM1Tuh_nVg28s8WK1PkBM3z3Wsxo2xmzzC1h1OXg@mail.gmail.com>
 <4fcdc8be-f296-5b58-f030-e9d1fe5584ea@pleiszenburg.de>
 <a281dfee-c282-57bf-a6b2-4f04380166c5@3liz.com>
Message-ID: <CAA7KATn550u7OCc7mz26E6AxrTPiqGP8BUY7pAmvcc-LFzmQsQ@mail.gmail.com>

Hi guys,

First of all thank you but, David Marteua and Sebastian Ernst, for the
answer.
So is impossible to use multiprocessing in Qgis plugin?
This is a enormous limitations because Qgis have a lot of data  that  needs
to be evaluated in same cases. Nowadays the cpu have 5,7, 9 cores and we
can not use them in a plugin for example is bad. If some one have any idea
who we can use multiprocessing in a plugin i will be thankful.

Best regards,
Jo?o Folgado

David Marteau <dmarteau at 3liz.com> escreveu em sex., 26/03/2021 ?s 08:57 :

> > I am not entirely sure what QGIS' (intended) behavior is in a case like
> > this. From the top of my head, having read the relevant portion of its
> > source code, I'd expect at least a second application window likely
> > followed by non-deterministic behavior (again, depending on the
> > use-case, likely resulting in a crash). Can someone elaborate?
>
> I can confirm that the result is non-deterministic even with headless
> PyQgis programs.
>
> For programs relying heavily on multiprocessing the best strategy is to
> use a `fork-server` process
> started at the very beginning (before initializing Qgis) managing the
> pool of child processes, so that each forked
> process starts in the same state.
>
> David,
>
> Le 23/03/2021 ? 19:22, Sebastian M. Ernst a ?crit :
> > Hi Jo?o, all,
> >
> > really interesting question.
> >
> >> however when i run the plugin a new instance of application is open
> >> and give me an error.
> > I assume that you are using `multiprocessing` [1] from Python's standard
> > library. Its default behavior is to use process-based parallelism (as
> > the title in the documentation says). I am assuming that you have not
> > altered its default behavior (e.g. by configuring it to use threads
> > instead). This is why you get at least another "worker" process if you
> > e.g. create a process pool. I have successfully used this method with
> > QGIS before, but always on Linux and OS X. I am just guessing that you
> > are doing this on Windows, right?
> >
> > Depending on the operating system, `multiprocessing` uses different
> > methods to create worker processes. On Linux and OS X, it simply forks
> > [2] the main process. This way, you do not see a second application
> > window popping up. You "simply" get a second, third, fourth, ... process
> > "in the background". On Windows, the `fork` syscall does not exist,
> > neither does something similar [3]. `multiprocessing` therefore starts a
> > complete new process from scratch. If it was pure Python, it would
> > simply start a new Python interpreter process. Because it is QGIS, it
> > opens another instance of QGIS.
> >
> > I am not entirely sure what QGIS' (intended) behavior is in a case like
> > this. From the top of my head, having read the relevant portion of its
> > source code, I'd expect at least a second application window likely
> > followed by non-deterministic behavior (again, depending on the
> > use-case, likely resulting in a crash). Can someone elaborate?
> >
> > Best regards,
> > Sebastian
> >
> >
> > 1: https://docs.python.org/3/library/multiprocessing.html
> > 2: https://en.wikipedia.org/wiki/Fork_(system_call)
> > 3: https://stackoverflow.com/q/985281/1672565
> >
> >
> > Am 23.03.21 um 13:08 schrieb Joao Folgado:
> >> Hi everyone,
> >>
> >> I had created  a plugin for Qgis and I trying to optimize it. So i use
> >> in my code the library python that have Queue whit multiprocessing
> >> however when i run the plugin a new instance of application is open and
> >> give me an error.
> >> I had early use this type of multiprocessing before in simple projects
> >> in university and it works ok.
> >> Can someone help ? I researched in many forums, i see people whit the
> >> same question but not with the answer.
> >> Thank you very much.
> >>
> >> Best regards,
> >> Jo?o Folgado
> >> Portugal
> >> --
> >> JO?O FOLGADO
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-- 
JO?O FOLGADO
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210327/9397e2f1/attachment-0001.html>

From felahdab at gmail.com  Sun Mar 28 07:48:12 2021
From: felahdab at gmail.com (Florian El Ahdab)
Date: Sun, 28 Mar 2021 16:48:12 +0200
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <CAA7KATn550u7OCc7mz26E6AxrTPiqGP8BUY7pAmvcc-LFzmQsQ@mail.gmail.com>
References: <CAA7KATmbBJNM1Tuh_nVg28s8WK1PkBM3z3Wsxo2xmzzC1h1OXg@mail.gmail.com>
 <4fcdc8be-f296-5b58-f030-e9d1fe5584ea@pleiszenburg.de>
 <a281dfee-c282-57bf-a6b2-4f04380166c5@3liz.com>
 <CAA7KATn550u7OCc7mz26E6AxrTPiqGP8BUY7pAmvcc-LFzmQsQ@mail.gmail.com>
Message-ID: <CAEeudyS4cjKzb9LTRjwyj7fovKgZpNO_hdw66eijgQXbwo61mQ@mail.gmail.com>

Hi.

I am posting my reply again because I missed the qgis-developer mail list
first...

It is indeed possible to achieve multiprocessing in QGIS.

But you should rely on Qt multi thread mechanisms rather than on the python
multiprocessing module.

Qgis is written in C++, based on the Qt library. Using the Qt
possibilities, even if it is thru python, is less likely to trigger
problems...

QThread is your friend here.
You can also use classes that are designed in QGis to ease things up, like
QgsTask (https://nocache.qgis.org/api/3.4/classQgsTask.html).

Regards
Florian.

Le sam. 27 mars 2021 ? 13:48, Joao Folgado <jfolgado94 at gmail.com> a ?crit :

> Hi guys,
>
> First of all thank you but, David Marteua and Sebastian Ernst, for the
> answer.
> So is impossible to use multiprocessing in Qgis plugin?
> This is a enormous limitations because Qgis have a lot of data  that
>  needs to be evaluated in same cases. Nowadays the cpu have 5,7, 9 cores
> and we can not use them in a plugin for example is bad. If some one have
> any idea who we can use multiprocessing in a plugin i will be thankful.
>
> Best regards,
> Jo?o Folgado
>
> David Marteau <dmarteau at 3liz.com> escreveu em sex., 26/03/2021 ?s 08:57 :
>
>> > I am not entirely sure what QGIS' (intended) behavior is in a case like
>> > this. From the top of my head, having read the relevant portion of its
>> > source code, I'd expect at least a second application window likely
>> > followed by non-deterministic behavior (again, depending on the
>> > use-case, likely resulting in a crash). Can someone elaborate?
>>
>> I can confirm that the result is non-deterministic even with headless
>> PyQgis programs.
>>
>> For programs relying heavily on multiprocessing the best strategy is to
>> use a `fork-server` process
>> started at the very beginning (before initializing Qgis) managing the
>> pool of child processes, so that each forked
>> process starts in the same state.
>>
>> David,
>>
>> Le 23/03/2021 ? 19:22, Sebastian M. Ernst a ?crit :
>> > Hi Jo?o, all,
>> >
>> > really interesting question.
>> >
>> >> however when i run the plugin a new instance of application is open
>> >> and give me an error.
>> > I assume that you are using `multiprocessing` [1] from Python's standard
>> > library. Its default behavior is to use process-based parallelism (as
>> > the title in the documentation says). I am assuming that you have not
>> > altered its default behavior (e.g. by configuring it to use threads
>> > instead). This is why you get at least another "worker" process if you
>> > e.g. create a process pool. I have successfully used this method with
>> > QGIS before, but always on Linux and OS X. I am just guessing that you
>> > are doing this on Windows, right?
>> >
>> > Depending on the operating system, `multiprocessing` uses different
>> > methods to create worker processes. On Linux and OS X, it simply forks
>> > [2] the main process. This way, you do not see a second application
>> > window popping up. You "simply" get a second, third, fourth, ... process
>> > "in the background". On Windows, the `fork` syscall does not exist,
>> > neither does something similar [3]. `multiprocessing` therefore starts a
>> > complete new process from scratch. If it was pure Python, it would
>> > simply start a new Python interpreter process. Because it is QGIS, it
>> > opens another instance of QGIS.
>> >
>> > I am not entirely sure what QGIS' (intended) behavior is in a case like
>> > this. From the top of my head, having read the relevant portion of its
>> > source code, I'd expect at least a second application window likely
>> > followed by non-deterministic behavior (again, depending on the
>> > use-case, likely resulting in a crash). Can someone elaborate?
>> >
>> > Best regards,
>> > Sebastian
>> >
>> >
>> > 1: https://docs.python.org/3/library/multiprocessing.html
>> > 2: https://en.wikipedia.org/wiki/Fork_(system_call)
>> > 3: https://stackoverflow.com/q/985281/1672565
>> >
>> >
>> > Am 23.03.21 um 13:08 schrieb Joao Folgado:
>> >> Hi everyone,
>> >>
>> >> I had created  a plugin for Qgis and I trying to optimize it. So i use
>> >> in my code the library python that have Queue whit multiprocessing
>> >> however when i run the plugin a new instance of application is open and
>> >> give me an error.
>> >> I had early use this type of multiprocessing before in simple projects
>> >> in university and it works ok.
>> >> Can someone help ? I researched in many forums, i see people whit the
>> >> same question but not with the answer.
>> >> Thank you very much.
>> >>
>> >> Best regards,
>> >> Jo?o Folgado
>> >> Portugal
>> >> --
>> >> JO?O FOLGADO
>> >>
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >>
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> --
> JO?O FOLGADO
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210328/84f82603/attachment.html>

From c at margo.co  Sun Mar 28 15:59:59 2021
From: c at margo.co (Pedro Camargo)
Date: Mon, 29 Mar 2021 08:59:59 +1000
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <mailman.19.1616958001.650.qgis-developer@lists.osgeo.org>
References: <mailman.19.1616958001.650.qgis-developer@lists.osgeo.org>
Message-ID: <1787b10c524.36197c5572261.595661239178306433@margo.co>

Florian,

              I see that this is all very well developed in the C++ world, but I would like to add one question and one comment.

Question:

- Is there anything similar to Python Multiprocessing that can be used?  Sometimes releasing the GIL is hard (requires going to C++/C/Cython).  The original question may have been on this, I guess.

- Using Python threads works well when you do everything in Cython (for example) and release the GIL

Cheers,
Pedro


 ---- On Mon, 29 Mar 2021 05:00:01 +1000  <qgis-developer-request at lists.osgeo.org> wrote ----
 > Send QGIS-Developer mailing list submissions to
 >     qgis-developer at lists.osgeo.org
 > 
 > To subscribe or unsubscribe via the World Wide Web, visit
 >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > or, via email, send a message with subject or body 'help' to
 >     qgis-developer-request at lists.osgeo.org
 > 
 > You can reach the person managing the list at
 >     qgis-developer-owner at lists.osgeo.org
 > 
 > When replying, please edit your Subject line so it is more specific
 > than "Re: Contents of QGIS-Developer digest..."
 > 
 > 
 > Today's Topics:
 > 
 >    1. Re: Multiprocessing QGIS (Florian El Ahdab)
 > 
 > 
 > ----------------------------------------------------------------------
 > 
 > Message: 1
 > Date: Sun, 28 Mar 2021 16:48:12 +0200
 > From: Florian El Ahdab <felahdab at gmail.com>
 > To: Joao Folgado <jfolgado94 at gmail.com>
 > Cc: David Marteau <dmarteau at 3liz.com>, qgis-developer
 >     <qgis-developer at lists.osgeo.org>
 > Subject: Re: [QGIS-Developer] Multiprocessing QGIS
 > Message-ID:
 >     <CAEeudyS4cjKzb9LTRjwyj7fovKgZpNO_hdw66eijgQXbwo61mQ at mail.gmail.com>
 > Content-Type: text/plain; charset="utf-8"
 > 
 > Hi.
 > 
 > I am posting my reply again because I missed the qgis-developer mail list
 > first...
 > 
 > It is indeed possible to achieve multiprocessing in QGIS.
 > 
 > But you should rely on Qt multi thread mechanisms rather than on the python
 > multiprocessing module.
 > 
 > Qgis is written in C++, based on the Qt library. Using the Qt
 > possibilities, even if it is thru python, is less likely to trigger
 > problems...
 > 
 > QThread is your friend here.
 > You can also use classes that are designed in QGis to ease things up, like
 > QgsTask (https://nocache.qgis.org/api/3.4/classQgsTask.html).
 > 
 > Regards
 > Florian.
 > 
 > Le sam. 27 mars 2021 ? 13:48, Joao Folgado <jfolgado94 at gmail.com> a ?crit :
 > 
 > > Hi guys,
 > >
 > > First of all thank you but, David Marteua and Sebastian Ernst, for the
 > > answer.
 > > So is impossible to use multiprocessing in Qgis plugin?
 > > This is a enormous limitations because Qgis have a lot of data  that
 > >  needs to be evaluated in same cases. Nowadays the cpu have 5,7, 9 cores
 > > and we can not use them in a plugin for example is bad. If some one have
 > > any idea who we can use multiprocessing in a plugin i will be thankful.
 > >
 > > Best regards,
 > > Jo?o Folgado
 > >
 > > David Marteau <dmarteau at 3liz.com> escreveu em sex., 26/03/2021 ?s 08:57 :
 > >
 > >> > I am not entirely sure what QGIS' (intended) behavior is in a case like
 > >> > this. From the top of my head, having read the relevant portion of its
 > >> > source code, I'd expect at least a second application window likely
 > >> > followed by non-deterministic behavior (again, depending on the
 > >> > use-case, likely resulting in a crash). Can someone elaborate?
 > >>
 > >> I can confirm that the result is non-deterministic even with headless
 > >> PyQgis programs.
 > >>
 > >> For programs relying heavily on multiprocessing the best strategy is to
 > >> use a `fork-server` process
 > >> started at the very beginning (before initializing Qgis) managing the
 > >> pool of child processes, so that each forked
 > >> process starts in the same state.
 > >>
 > >> David,
 > >>
 > >> Le 23/03/2021 ? 19:22, Sebastian M. Ernst a ?crit :
 > >> > Hi Jo?o, all,
 > >> >
 > >> > really interesting question.
 > >> >
 > >> >> however when i run the plugin a new instance of application is open
 > >> >> and give me an error.
 > >> > I assume that you are using `multiprocessing` [1] from Python's standard
 > >> > library. Its default behavior is to use process-based parallelism (as
 > >> > the title in the documentation says). I am assuming that you have not
 > >> > altered its default behavior (e.g. by configuring it to use threads
 > >> > instead). This is why you get at least another "worker" process if you
 > >> > e.g. create a process pool. I have successfully used this method with
 > >> > QGIS before, but always on Linux and OS X. I am just guessing that you
 > >> > are doing this on Windows, right?
 > >> >
 > >> > Depending on the operating system, `multiprocessing` uses different
 > >> > methods to create worker processes. On Linux and OS X, it simply forks
 > >> > [2] the main process. This way, you do not see a second application
 > >> > window popping up. You "simply" get a second, third, fourth, ... process
 > >> > "in the background". On Windows, the `fork` syscall does not exist,
 > >> > neither does something similar [3]. `multiprocessing` therefore starts a
 > >> > complete new process from scratch. If it was pure Python, it would
 > >> > simply start a new Python interpreter process. Because it is QGIS, it
 > >> > opens another instance of QGIS.
 > >> >
 > >> > I am not entirely sure what QGIS' (intended) behavior is in a case like
 > >> > this. From the top of my head, having read the relevant portion of its
 > >> > source code, I'd expect at least a second application window likely
 > >> > followed by non-deterministic behavior (again, depending on the
 > >> > use-case, likely resulting in a crash). Can someone elaborate?
 > >> >
 > >> > Best regards,
 > >> > Sebastian
 > >> >
 > >> >
 > >> > 1: https://docs.python.org/3/library/multiprocessing.html
 > >> > 2: https://en.wikipedia.org/wiki/Fork_(system_call)
 > >> > 3: https://stackoverflow.com/q/985281/1672565
 > >> >
 > >> >
 > >> > Am 23.03.21 um 13:08 schrieb Joao Folgado:
 > >> >> Hi everyone,
 > >> >>
 > >> >> I had created  a plugin for Qgis and I trying to optimize it. So i use
 > >> >> in my code the library python that have Queue whit multiprocessing
 > >> >> however when i run the plugin a new instance of application is open and
 > >> >> give me an error.
 > >> >> I had early use this type of multiprocessing before in simple projects
 > >> >> in university and it works ok.
 > >> >> Can someone help ? I researched in many forums, i see people whit the
 > >> >> same question but not with the answer.
 > >> >> Thank you very much.
 > >> >>
 > >> >> Best regards,
 > >> >> Jo?o Folgado
 > >> >> Portugal
 > >> >> --
 > >> >> JO?O FOLGADO
 > >> >>
 > >> >> _______________________________________________
 > >> >> QGIS-Developer mailing list
 > >> >> QGIS-Developer at lists.osgeo.org
 > >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >> >>
 > >> > _______________________________________________
 > >> > QGIS-Developer mailing list
 > >> > QGIS-Developer at lists.osgeo.org
 > >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >> _______________________________________________
 > >> QGIS-Developer mailing list
 > >> QGIS-Developer at lists.osgeo.org
 > >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >>
 > > --
 > > JO?O FOLGADO
 > > _______________________________________________
 > > QGIS-Developer mailing list
 > > QGIS-Developer at lists.osgeo.org
 > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >
 > -------------- next part --------------
 > An HTML attachment was scrubbed...
 > URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210328/84f82603/attachment-0001.html>
 > 
 > ------------------------------
 > 
 > Subject: Digest Footer
 > 
 > _______________________________________________
 > QGIS-Developer mailing list
 > QGIS-Developer at lists.osgeo.org
 > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > 
 > 
 > ------------------------------
 > 
 > End of QGIS-Developer Digest, Vol 185, Issue 60
 > ***********************************************
 > 

From nyall.dawson at gmail.com  Sun Mar 28 16:17:08 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 29 Mar 2021 09:17:08 +1000
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <1787b10c524.36197c5572261.595661239178306433@margo.co>
References: <mailman.19.1616958001.650.qgis-developer@lists.osgeo.org>
 <1787b10c524.36197c5572261.595661239178306433@margo.co>
Message-ID: <CAB28AsjbiSj_ykDTmH9VZu4bX5iqbMAt9O861PZsAr2nVymsRQ@mail.gmail.com>

On Mon, 29 Mar 2021 at 09:00, Pedro Camargo <c at margo.co> wrote:
>
> Florian,
>
>               I see that this is all very well developed in the C++ world, but I would like to add one question and one comment.
>
> Question:
>
> - Is there anything similar to Python Multiprocessing that can be used?  Sometimes releasing the GIL is hard (requires going to C++/C/Cython).  The original question may have been on this, I guess.

As I've mentioned previously on this thread, this isn't an issue with
PyQGIS. The GIL is automatically released whenever you call a PyQGIS
method, unless it's absolutely certain that the method will be
near-instant to call. So it's quite straightforward to use
multiprocessing in PyQGIS via the Qt methods and do things like
calculating intersections for different objects across multiple
threads at once without having to worry about the GIL at all...

Nyall


>
> - Using Python threads works well when you do everything in Cython (for example) and release the GIL
>
> Cheers,
> Pedro
>
>
>  ---- On Mon, 29 Mar 2021 05:00:01 +1000  <qgis-developer-request at lists.osgeo.org> wrote ----
>  > Send QGIS-Developer mailing list submissions to
>  >     qgis-developer at lists.osgeo.org
>  >
>  > To subscribe or unsubscribe via the World Wide Web, visit
>  >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > or, via email, send a message with subject or body 'help' to
>  >     qgis-developer-request at lists.osgeo.org
>  >
>  > You can reach the person managing the list at
>  >     qgis-developer-owner at lists.osgeo.org
>  >
>  > When replying, please edit your Subject line so it is more specific
>  > than "Re: Contents of QGIS-Developer digest..."
>  >
>  >
>  > Today's Topics:
>  >
>  >    1. Re: Multiprocessing QGIS (Florian El Ahdab)
>  >
>  >
>  > ----------------------------------------------------------------------
>  >
>  > Message: 1
>  > Date: Sun, 28 Mar 2021 16:48:12 +0200
>  > From: Florian El Ahdab <felahdab at gmail.com>
>  > To: Joao Folgado <jfolgado94 at gmail.com>
>  > Cc: David Marteau <dmarteau at 3liz.com>, qgis-developer
>  >     <qgis-developer at lists.osgeo.org>
>  > Subject: Re: [QGIS-Developer] Multiprocessing QGIS
>  > Message-ID:
>  >     <CAEeudyS4cjKzb9LTRjwyj7fovKgZpNO_hdw66eijgQXbwo61mQ at mail.gmail.com>
>  > Content-Type: text/plain; charset="utf-8"
>  >
>  > Hi.
>  >
>  > I am posting my reply again because I missed the qgis-developer mail list
>  > first...
>  >
>  > It is indeed possible to achieve multiprocessing in QGIS.
>  >
>  > But you should rely on Qt multi thread mechanisms rather than on the python
>  > multiprocessing module.
>  >
>  > Qgis is written in C++, based on the Qt library. Using the Qt
>  > possibilities, even if it is thru python, is less likely to trigger
>  > problems...
>  >
>  > QThread is your friend here.
>  > You can also use classes that are designed in QGis to ease things up, like
>  > QgsTask (https://nocache.qgis.org/api/3.4/classQgsTask.html).
>  >
>  > Regards
>  > Florian.
>  >
>  > Le sam. 27 mars 2021 ? 13:48, Joao Folgado <jfolgado94 at gmail.com> a ?crit :
>  >
>  > > Hi guys,
>  > >
>  > > First of all thank you but, David Marteua and Sebastian Ernst, for the
>  > > answer.
>  > > So is impossible to use multiprocessing in Qgis plugin?
>  > > This is a enormous limitations because Qgis have a lot of data  that
>  > >  needs to be evaluated in same cases. Nowadays the cpu have 5,7, 9 cores
>  > > and we can not use them in a plugin for example is bad. If some one have
>  > > any idea who we can use multiprocessing in a plugin i will be thankful.
>  > >
>  > > Best regards,
>  > > Jo?o Folgado
>  > >
>  > > David Marteau <dmarteau at 3liz.com> escreveu em sex., 26/03/2021 ?s 08:57 :
>  > >
>  > >> > I am not entirely sure what QGIS' (intended) behavior is in a case like
>  > >> > this. From the top of my head, having read the relevant portion of its
>  > >> > source code, I'd expect at least a second application window likely
>  > >> > followed by non-deterministic behavior (again, depending on the
>  > >> > use-case, likely resulting in a crash). Can someone elaborate?
>  > >>
>  > >> I can confirm that the result is non-deterministic even with headless
>  > >> PyQgis programs.
>  > >>
>  > >> For programs relying heavily on multiprocessing the best strategy is to
>  > >> use a `fork-server` process
>  > >> started at the very beginning (before initializing Qgis) managing the
>  > >> pool of child processes, so that each forked
>  > >> process starts in the same state.
>  > >>
>  > >> David,
>  > >>
>  > >> Le 23/03/2021 ? 19:22, Sebastian M. Ernst a ?crit :
>  > >> > Hi Jo?o, all,
>  > >> >
>  > >> > really interesting question.
>  > >> >
>  > >> >> however when i run the plugin a new instance of application is open
>  > >> >> and give me an error.
>  > >> > I assume that you are using `multiprocessing` [1] from Python's standard
>  > >> > library. Its default behavior is to use process-based parallelism (as
>  > >> > the title in the documentation says). I am assuming that you have not
>  > >> > altered its default behavior (e.g. by configuring it to use threads
>  > >> > instead). This is why you get at least another "worker" process if you
>  > >> > e.g. create a process pool. I have successfully used this method with
>  > >> > QGIS before, but always on Linux and OS X. I am just guessing that you
>  > >> > are doing this on Windows, right?
>  > >> >
>  > >> > Depending on the operating system, `multiprocessing` uses different
>  > >> > methods to create worker processes. On Linux and OS X, it simply forks
>  > >> > [2] the main process. This way, you do not see a second application
>  > >> > window popping up. You "simply" get a second, third, fourth, ... process
>  > >> > "in the background". On Windows, the `fork` syscall does not exist,
>  > >> > neither does something similar [3]. `multiprocessing` therefore starts a
>  > >> > complete new process from scratch. If it was pure Python, it would
>  > >> > simply start a new Python interpreter process. Because it is QGIS, it
>  > >> > opens another instance of QGIS.
>  > >> >
>  > >> > I am not entirely sure what QGIS' (intended) behavior is in a case like
>  > >> > this. From the top of my head, having read the relevant portion of its
>  > >> > source code, I'd expect at least a second application window likely
>  > >> > followed by non-deterministic behavior (again, depending on the
>  > >> > use-case, likely resulting in a crash). Can someone elaborate?
>  > >> >
>  > >> > Best regards,
>  > >> > Sebastian
>  > >> >
>  > >> >
>  > >> > 1: https://docs.python.org/3/library/multiprocessing.html
>  > >> > 2: https://en.wikipedia.org/wiki/Fork_(system_call)
>  > >> > 3: https://stackoverflow.com/q/985281/1672565
>  > >> >
>  > >> >
>  > >> > Am 23.03.21 um 13:08 schrieb Joao Folgado:
>  > >> >> Hi everyone,
>  > >> >>
>  > >> >> I had created  a plugin for Qgis and I trying to optimize it. So i use
>  > >> >> in my code the library python that have Queue whit multiprocessing
>  > >> >> however when i run the plugin a new instance of application is open and
>  > >> >> give me an error.
>  > >> >> I had early use this type of multiprocessing before in simple projects
>  > >> >> in university and it works ok.
>  > >> >> Can someone help ? I researched in many forums, i see people whit the
>  > >> >> same question but not with the answer.
>  > >> >> Thank you very much.
>  > >> >>
>  > >> >> Best regards,
>  > >> >> Jo?o Folgado
>  > >> >> Portugal
>  > >> >> --
>  > >> >> JO?O FOLGADO
>  > >> >>
>  > >> >> _______________________________________________
>  > >> >> QGIS-Developer mailing list
>  > >> >> QGIS-Developer at lists.osgeo.org
>  > >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >> >>
>  > >> > _______________________________________________
>  > >> > QGIS-Developer mailing list
>  > >> > QGIS-Developer at lists.osgeo.org
>  > >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >> _______________________________________________
>  > >> QGIS-Developer mailing list
>  > >> QGIS-Developer at lists.osgeo.org
>  > >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >>
>  > > --
>  > > JO?O FOLGADO
>  > > _______________________________________________
>  > > QGIS-Developer mailing list
>  > > QGIS-Developer at lists.osgeo.org
>  > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >
>  > -------------- next part --------------
>  > An HTML attachment was scrubbed...
>  > URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210328/84f82603/attachment-0001.html>
>  >
>  > ------------------------------
>  >
>  > Subject: Digest Footer
>  >
>  > _______________________________________________
>  > QGIS-Developer mailing list
>  > QGIS-Developer at lists.osgeo.org
>  > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >
>  >
>  > ------------------------------
>  >
>  > End of QGIS-Developer Digest, Vol 185, Issue 60
>  > ***********************************************
>  >
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at kartoza.com  Sun Mar 28 17:02:35 2021
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 29 Mar 2021 01:02:35 +0100
Subject: [QGIS-Developer] SVG icons in QGIS
In-Reply-To: <141b8a82-4d68-f69e-23d9-fa3f74a4117a@lightpear.com>
References: <b764ff46-b87a-56e8-09f8-da557eaa3fa5@lightpear.com>
 <2f8c3b7e-1902-828d-30bc-cf0ea6164bae@duif.net>
 <141b8a82-4d68-f69e-23d9-fa3f74a4117a@lightpear.com>
Message-ID: <CAES-DZTFqXu+zPYtecvbrsA0rAqXJPK9pe8-iLkSK1eagsObog@mail.gmail.com>

Hi

Just to add to the discussion, see also the work we have been doing here:

https://plugins.qgis.org/styles/

I was rather hoping we could move over from shipping icons and styles with
QGIS (beyond the current set, which as Nyall says we cannot change for fear
of breaking things for pretty much everyone) and move to a situation where
we use the above site as a backend with search and install tools on the
QGIS desktop to find and install these resources. It takes an opposite
approach to the resources plugin, which as Richard mentions, addresses the
complex use case but bypasses humble users who just want to grab an
ambulance icon or whatever.

We already made an API for the styles repo above and my plan was to write a
QEP and hopefully crowd fund the QGIS desktop side bits. We would integrate
it into the settings -> style manager ui.

Also a side note: I think. we initially tested having the SVGs in a single
directory (back in the mists of time) but it was terribly slow in parsing
the directory.

Regards

Tim

On Mon, Jul 27, 2020 at 2:55 PM Jonathan Moules <
jonathan-lists at lightpear.com> wrote:

> Hi Richard,
>
> Thanks for the clarification. No rudeness parsed. :-) Apologies, I should
> be clearer.
>
> One of QGIS' biggest weaknesses IMHO is usability; a lot of progress has
> been made in this area, but it's an area that still needs work. The SVG
> icons are one such area, and while the Resources Plugin may technically
> provide a potential solution to this problem (i.e. just port over the
> Font-Awesome SVGs into the plugin), it:
>
> a) doesn't solve any of the issues I raised
>
> b) makes some of them worse. Now even more duplicate SVGs! The red cross
> one adds yet another cross for example, on top of the 5 identical ones
> already in the core, (and there's the simple marker too of course..)). And
> that's literally the first random one I picked.
>
> c) introduces new issues. i.e.: unhelpful metadata "This collection
> contains SVGs by GIS LAB" (sorry for picking on you, not the only ones
> ;-) ).
>
>
> > Please try Faunalia's 'Distance Measurement Styles'. One click and it
> will be available for you.
>
> Impressive. The Resources Plugin seems to me better suited to solving a
> different problem, though if I may provide some feedback: It took me a good
> minute or two to figure out how to access these styles once I'd downloaded
> them. (Found a bug too, but I'll open an issue for that :-) ).
>
>
> > But as Saber proposes: please create a QEP so there can be some
> centralized discussion.
>
> Is it the way to go? The blurb for QEPs says: "Generally smaller features
> do not require a QEP unless they can have large knock on effect." - looking
> at them, most of them are large chunks of dev work, and the rest are for
> project admin. Conversely, this is a couple tiny dev features (though I am
> making assumptions about the QGIS dev base... ;-) ), and a small chunk of
> admin work.
>
> Further thought (and an issue with QEPs in general): QEPs as Issues (which
> are Pull-based) are not very visible compared to the list (which is
> push-based). As in I'd expect barely anyone outside of project devs are
> likely to ever go trawling through the QEP issue tracker (i.e. I never
> have), whereas everyone on the list will get emails even if the chose not
> to read them.
>
> I mean it's easy enough to do; mostly just copy/past my previous email.
> But I see it reducing the audience for the conversation and not adding
> anything.
>
> Cheers,
>
> Jonathan
>
>
> On 2020-07-27 14:03, Richard Duivenvoorde wrote:
>
> Hi Jonathan,
>
> I do not want to sound rude, but I think you really underestimate the possibilities and complexity of the icons and QGIS styling and styling resources in general.
>
> About the 'Resource Sharing Plugin':
> - styling (of points) is never only about the little icon. styling and symbols are complex beasts. If you google the plugins QEP, you will see that it (also) started of as a 'simple todo' but ended up in current form
> - did you have a look: because there are a LOT of styling resources already: simple ones (like mine with actually only some icons), but others giving you the capabilities to show all dimension labels and arrows of your geometries, and again others very specific for a certain working area: oil&gas icons, Red Cross-map icons etc etc
>
> I'd be OK with cleaning up, but a good thing on the Resource Plugin is that it fetches a (online, be it on github or on you webserver!) set of styling resources: symbols, styles, icons, colors, whatever is possible. Please try Faunalia's 'Distance Measurement Styles'. One click and it will be available for you.
>
> About metadata and searching: cool, would also be nice if that could work for Resources. Isn't there some kind of SVG-standard for this?
>
> About all in one directory: fine, or at least for the ones QGIS gives you upon install (the 'App' folder). But I also like the way the Resource plugin orders them in folders (see screenshot).
>
> But as Saber proposes: please create a QEP so there can be some centralized discussion.
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
> On 7/27/20 1:42 PM, Jonathan Moules wrote:
>
> Hi List,
>
> The more I look at the current SVG icons, the more I'm thinking it really needs some TLC (Tender Loving Care). As far as I can tell, icons are categorised by the directory they're in, so if you want an icon to appear in two categories, you put the icon in there twice... and so that's just what has happened! I suspect the current set has simply accreted over time.
>
> Examples of weirdnesses:
> * The "food" and "entertainment" categories are basically identical, but have different icons for the same thing.
> * There are at least 7 near-identical aeroplane icons(!)
> * There's cycle parking and cycle locking, but no cycle? No car (that's under "gpsicons") but two taxis? Oh, and 5 (five!) aeroplanes to choose from, and multiple types of train. And that's just "transport".
> * "Shopping" has a hammer and a pawprint in it... well, I mean, you can buy those things sure, but that seems like a rather odd place to put them.
> * "landmark" seems to basically be a subset of "religion", with a museum and a weird icon for a "school" thrown in for good measure.
>
> I'm sure there are many more.
>
> Given the importance of a good symbol library for cartography, this seems like a fairly significant issue, but fortunately it's pretty "easy" to fix (compared to writing a data processing algorithm anyway ;-) ).
>
> My thoughts:
> * Move the svg's into a single directory. (Though would break any current projects symbology using them I guess?)
> * Use a metadata file to categorise them, so you get a list of categories as now and a single symbol can be in multiple categories.
> * Add a search feature so the user can quickly find "museum" without having to guess where it has been categorised.
> * Clean up the current symbols by removing duplicates.
> * Add the font-awesome symbols (per my thread on the User List) to fill in the gaps and flesh out the collection. As a bonus, it comes with metadata for categories and search terms (YAML files).
>
> * bonus - metadata is internationalised so "museo" (IT), "muzeu" (RO), etc would also work for finding that museum.
>
> Thoughts?
>
> Cheers,
> Jonathan
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210329/6cd60cf8/attachment-0001.html>

From c at margo.co  Sun Mar 28 17:33:11 2021
From: c at margo.co (Pedro Camargo)
Date: Mon, 29 Mar 2021 10:33:11 +1000
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <CAB28AsjbiSj_ykDTmH9VZu4bX5iqbMAt9O861PZsAr2nVymsRQ@mail.gmail.com>
References: <mailman.19.1616958001.650.qgis-developer@lists.osgeo.org>
 <1787b10c524.36197c5572261.595661239178306433@margo.co>
 <CAB28AsjbiSj_ykDTmH9VZu4bX5iqbMAt9O861PZsAr2nVymsRQ@mail.gmail.com>
Message-ID: <1787b6615d8.656cd48472888.5505122580553925657@margo.co>

Hi Nyall,

I have seen that, and that's why I prefaced with an observation that this seems to be handled pretty well in the C++ world inside QGIS. 

However, there are methods/functions/algorithms that are not available in QGIS and that would benefit from being run in multiple threads (if the user knows how to go down to C/C++ and release the GIL themselves) or to just brute-force it with Multiprocessing.

One might ask why is somebody doing it inside QGIS, then?  Although that is a fair question, I would say that this is a testament to how good the QGIS interface and tools are, as people want to do things within its boundaries.  

AequilibraE itself, which is a package for transportation modelling, takes its cues from what is available in the QGIS packaging for Windows so it can be used by non-programmers and has all its core functionality based solely on the packages available by default (some functionality depends on the user installing further packages).

So, although it is fair to have a stance that QGIS is NOT intended to be a virtual environment that comes with great GIS software, I would say it is understandable that some people would like it to be.

Cheers,
Pedro

PS - And I promise I won't cause any more steer (this week), Nyall!  :-D 


 ---- On Mon, 29 Mar 2021 09:17:08 +1000 Nyall Dawson <nyall.dawson at gmail.com> wrote ----
 > On Mon, 29 Mar 2021 at 09:00, Pedro Camargo <c at margo.co> wrote:
 > >
 > > Florian,
 > >
 > >               I see that this is all very well developed in the C++ world, but I would like to add one question and one comment.
 > >
 > > Question:
 > >
 > > - Is there anything similar to Python Multiprocessing that can be used?  Sometimes releasing the GIL is hard (requires going to C++/C/Cython).  The original question may have been on this, I guess.
 > 
 > As I've mentioned previously on this thread, this isn't an issue with
 > PyQGIS. The GIL is automatically released whenever you call a PyQGIS
 > method, unless it's absolutely certain that the method will be
 > near-instant to call. So it's quite straightforward to use
 > multiprocessing in PyQGIS via the Qt methods and do things like
 > calculating intersections for different objects across multiple
 > threads at once without having to worry about the GIL at all...
 > 
 > Nyall
 > 
 > 
 > >
 > > - Using Python threads works well when you do everything in Cython (for example) and release the GIL
 > >
 > > Cheers,
 > > Pedro
 > >
 > >
 > >  ---- On Mon, 29 Mar 2021 05:00:01 +1000  <qgis-developer-request at lists.osgeo.org> wrote ----
 > >  > Send QGIS-Developer mailing list submissions to
 > >  >     qgis-developer at lists.osgeo.org
 > >  >
 > >  > To subscribe or unsubscribe via the World Wide Web, visit
 > >  >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > or, via email, send a message with subject or body 'help' to
 > >  >     qgis-developer-request at lists.osgeo.org
 > >  >
 > >  > You can reach the person managing the list at
 > >  >     qgis-developer-owner at lists.osgeo.org
 > >  >
 > >  > When replying, please edit your Subject line so it is more specific
 > >  > than "Re: Contents of QGIS-Developer digest..."
 > >  >
 > >  >
 > >  > Today's Topics:
 > >  >
 > >  >    1. Re: Multiprocessing QGIS (Florian El Ahdab)
 > >  >
 > >  >
 > >  > ----------------------------------------------------------------------
 > >  >
 > >  > Message: 1
 > >  > Date: Sun, 28 Mar 2021 16:48:12 +0200
 > >  > From: Florian El Ahdab <felahdab at gmail.com>
 > >  > To: Joao Folgado <jfolgado94 at gmail.com>
 > >  > Cc: David Marteau <dmarteau at 3liz.com>, qgis-developer
 > >  >     <qgis-developer at lists.osgeo.org>
 > >  > Subject: Re: [QGIS-Developer] Multiprocessing QGIS
 > >  > Message-ID:
 > >  >     <CAEeudyS4cjKzb9LTRjwyj7fovKgZpNO_hdw66eijgQXbwo61mQ at mail.gmail.com>
 > >  > Content-Type: text/plain; charset="utf-8"
 > >  >
 > >  > Hi.
 > >  >
 > >  > I am posting my reply again because I missed the qgis-developer mail list
 > >  > first...
 > >  >
 > >  > It is indeed possible to achieve multiprocessing in QGIS.
 > >  >
 > >  > But you should rely on Qt multi thread mechanisms rather than on the python
 > >  > multiprocessing module.
 > >  >
 > >  > Qgis is written in C++, based on the Qt library. Using the Qt
 > >  > possibilities, even if it is thru python, is less likely to trigger
 > >  > problems...
 > >  >
 > >  > QThread is your friend here.
 > >  > You can also use classes that are designed in QGis to ease things up, like
 > >  > QgsTask (https://nocache.qgis.org/api/3.4/classQgsTask.html).
 > >  >
 > >  > Regards
 > >  > Florian.
 > >  >
 > >  > Le sam. 27 mars 2021 ? 13:48, Joao Folgado <jfolgado94 at gmail.com> a ?crit :
 > >  >
 > >  > > Hi guys,
 > >  > >
 > >  > > First of all thank you but, David Marteua and Sebastian Ernst, for the
 > >  > > answer.
 > >  > > So is impossible to use multiprocessing in Qgis plugin?
 > >  > > This is a enormous limitations because Qgis have a lot of data  that
 > >  > >  needs to be evaluated in same cases. Nowadays the cpu have 5,7, 9 cores
 > >  > > and we can not use them in a plugin for example is bad. If some one have
 > >  > > any idea who we can use multiprocessing in a plugin i will be thankful.
 > >  > >
 > >  > > Best regards,
 > >  > > Jo?o Folgado
 > >  > >
 > >  > > David Marteau <dmarteau at 3liz.com> escreveu em sex., 26/03/2021 ?s 08:57 :
 > >  > >
 > >  > >> > I am not entirely sure what QGIS' (intended) behavior is in a case like
 > >  > >> > this. From the top of my head, having read the relevant portion of its
 > >  > >> > source code, I'd expect at least a second application window likely
 > >  > >> > followed by non-deterministic behavior (again, depending on the
 > >  > >> > use-case, likely resulting in a crash). Can someone elaborate?
 > >  > >>
 > >  > >> I can confirm that the result is non-deterministic even with headless
 > >  > >> PyQgis programs.
 > >  > >>
 > >  > >> For programs relying heavily on multiprocessing the best strategy is to
 > >  > >> use a `fork-server` process
 > >  > >> started at the very beginning (before initializing Qgis) managing the
 > >  > >> pool of child processes, so that each forked
 > >  > >> process starts in the same state.
 > >  > >>
 > >  > >> David,
 > >  > >>
 > >  > >> Le 23/03/2021 ? 19:22, Sebastian M. Ernst a ?crit :
 > >  > >> > Hi Jo?o, all,
 > >  > >> >
 > >  > >> > really interesting question.
 > >  > >> >
 > >  > >> >> however when i run the plugin a new instance of application is open
 > >  > >> >> and give me an error.
 > >  > >> > I assume that you are using `multiprocessing` [1] from Python's standard
 > >  > >> > library. Its default behavior is to use process-based parallelism (as
 > >  > >> > the title in the documentation says). I am assuming that you have not
 > >  > >> > altered its default behavior (e.g. by configuring it to use threads
 > >  > >> > instead). This is why you get at least another "worker" process if you
 > >  > >> > e.g. create a process pool. I have successfully used this method with
 > >  > >> > QGIS before, but always on Linux and OS X. I am just guessing that you
 > >  > >> > are doing this on Windows, right?
 > >  > >> >
 > >  > >> > Depending on the operating system, `multiprocessing` uses different
 > >  > >> > methods to create worker processes. On Linux and OS X, it simply forks
 > >  > >> > [2] the main process. This way, you do not see a second application
 > >  > >> > window popping up. You "simply" get a second, third, fourth, ... process
 > >  > >> > "in the background". On Windows, the `fork` syscall does not exist,
 > >  > >> > neither does something similar [3]. `multiprocessing` therefore starts a
 > >  > >> > complete new process from scratch. If it was pure Python, it would
 > >  > >> > simply start a new Python interpreter process. Because it is QGIS, it
 > >  > >> > opens another instance of QGIS.
 > >  > >> >
 > >  > >> > I am not entirely sure what QGIS' (intended) behavior is in a case like
 > >  > >> > this. From the top of my head, having read the relevant portion of its
 > >  > >> > source code, I'd expect at least a second application window likely
 > >  > >> > followed by non-deterministic behavior (again, depending on the
 > >  > >> > use-case, likely resulting in a crash). Can someone elaborate?
 > >  > >> >
 > >  > >> > Best regards,
 > >  > >> > Sebastian
 > >  > >> >
 > >  > >> >
 > >  > >> > 1: https://docs.python.org/3/library/multiprocessing.html
 > >  > >> > 2: https://en.wikipedia.org/wiki/Fork_(system_call)
 > >  > >> > 3: https://stackoverflow.com/q/985281/1672565
 > >  > >> >
 > >  > >> >
 > >  > >> > Am 23.03.21 um 13:08 schrieb Joao Folgado:
 > >  > >> >> Hi everyone,
 > >  > >> >>
 > >  > >> >> I had created  a plugin for Qgis and I trying to optimize it. So i use
 > >  > >> >> in my code the library python that have Queue whit multiprocessing
 > >  > >> >> however when i run the plugin a new instance of application is open and
 > >  > >> >> give me an error.
 > >  > >> >> I had early use this type of multiprocessing before in simple projects
 > >  > >> >> in university and it works ok.
 > >  > >> >> Can someone help ? I researched in many forums, i see people whit the
 > >  > >> >> same question but not with the answer.
 > >  > >> >> Thank you very much.
 > >  > >> >>
 > >  > >> >> Best regards,
 > >  > >> >> Jo?o Folgado
 > >  > >> >> Portugal
 > >  > >> >> --
 > >  > >> >> JO?O FOLGADO
 > >  > >> >>
 > >  > >> >> _______________________________________________
 > >  > >> >> QGIS-Developer mailing list
 > >  > >> >> QGIS-Developer at lists.osgeo.org
 > >  > >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > >> >>
 > >  > >> > _______________________________________________
 > >  > >> > QGIS-Developer mailing list
 > >  > >> > QGIS-Developer at lists.osgeo.org
 > >  > >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > >> _______________________________________________
 > >  > >> QGIS-Developer mailing list
 > >  > >> QGIS-Developer at lists.osgeo.org
 > >  > >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > >>
 > >  > > --
 > >  > > JO?O FOLGADO
 > >  > > _______________________________________________
 > >  > > QGIS-Developer mailing list
 > >  > > QGIS-Developer at lists.osgeo.org
 > >  > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > >
 > >  > -------------- next part --------------
 > >  > An HTML attachment was scrubbed...
 > >  > URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210328/84f82603/attachment-0001.html>
 > >  >
 > >  > ------------------------------
 > >  >
 > >  > Subject: Digest Footer
 > >  >
 > >  > _______________________________________________
 > >  > QGIS-Developer mailing list
 > >  > QGIS-Developer at lists.osgeo.org
 > >  > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > >  >
 > >  >
 > >  > ------------------------------
 > >  >
 > >  > End of QGIS-Developer Digest, Vol 185, Issue 60
 > >  > ***********************************************
 > >  >
 > > _______________________________________________
 > > QGIS-Developer mailing list
 > > QGIS-Developer at lists.osgeo.org
 > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
 > 

From rdmailings at duif.net  Mon Mar 29 07:44:48 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 29 Mar 2021 16:44:48 +0200
Subject: [QGIS-Developer] FeatureRequest: make Page properties
 (portrait/landscape) easy(ier) accessible
Message-ID: <0fc3338e-6d51-3101-7e05-5bd8fe32bb82@duif.net>

Hi Devs,

I'm not so much of a report/layout maker, so last week I had to create a simple (map only) pdf, but really could not find how to change my page from Landscape to Portrait...

Today somebody contacted me with exact the same question: "I used it earlier, and now I cannot find 'the button' anymore"...

What would be the intuitive place to access the page props (most notably off course orientation/size)?

The *Layout* properties-tab/menu (to me most intuitive) is probably not showing it because you can have several pages to one layout and they can have different page properties (I found out).

So some (theoretical) options:
- does a 'page' have 'Item Properties'? Because that one is empty now? Would it be easy to add it there?
- would it be possible to add it to the 'Guides' tab? Because that one already has a 'Page' dropdown, so.. maybe add Page properties there?
- maybe add another tab (like Guides) named 'Pages', and a page dropdown there and then the props per page?

Ah wait... if you have a layout with several (different oriented) pages, and you select the context menu 'Page properties', the Page properties ARE SHOWN in the 'Item Properties'???

Does the (empty) layout page has some signal when you click on it? So a click on the empty sheet would reveal the same 'Item Properties' as the 'Page Properties'-context menu shows?

Or is there some (technical) reason this is not possible?

If not possible, anybody has a (easy implementable) for this? As my gutfeeling is there are more people searching for this :-)

Regards,

Richard Duivenvoorde

From Jean-Francois.Bourdon at mffp.gouv.qc.ca  Mon Mar 29 08:03:05 2021
From: Jean-Francois.Bourdon at mffp.gouv.qc.ca (=?iso-8859-1?Q?Bourdon=2C_Jean-Fran=E7ois_=28DIF=29?=)
Date: Mon, 29 Mar 2021 15:03:05 +0000
Subject: [QGIS-Developer] FeatureRequest: make Page properties
 (portrait/landscape) easy(ier) accessible
In-Reply-To: <0fc3338e-6d51-3101-7e05-5bd8fe32bb82@duif.net>
References: <0fc3338e-6d51-3101-7e05-5bd8fe32bb82@duif.net>
Message-ID: <QB1PR01MB29482C27D5D0364B8F52EF51B37E9@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>

Happy to see that I'm not alone.



Currently, one needs to right-click on the empty page and then choose Page Properties... then the tab Item Properties on the right panel activate with the all the parameters needed. Like you Richard, I'll be looking at first in the Layout tab as, to me, the page itself is more linked to the layout than to a specific item. Hovewer, if there is a good reason to not put it in the Layout tab, either a new exclusive Page tab could be added or an item named Page could be permanently placed in the Items list.







Jean-Fran?ois Bourdon, ing.f.

Analyste en t?l?d?tection

Direction des inventaires forestiers

Minist?re des For?ts, de la Faune et des Parcs

5700, 4e Avenue Ouest, local A-108

Qu?bec (Qu?bec) G1H 6R1

T?l?phone : 418 627-8669, poste 704304

jean-francois.bourdon at mffp.gouv.qc.ca

mffp.gouv.qc.ca



-----Message d'origine-----
De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de Richard Duivenvoorde
Envoy? : 29 mars 2021 10:45
? : qgis-developer <qgis-developer at lists.osgeo.org>
Objet : [QGIS-Developer] FeatureRequest: make Page properties (portrait/landscape) easy(ier) accessible



Hi Devs,



I'm not so much of a report/layout maker, so last week I had to create a simple (map only) pdf, but really could not find how to change my page from Landscape to Portrait...



Today somebody contacted me with exact the same question: "I used it earlier, and now I cannot find 'the button' anymore"...



What would be the intuitive place to access the page props (most notably off course orientation/size)?



The *Layout* properties-tab/menu (to me most intuitive) is probably not showing it because you can have several pages to one layout and they can have different page properties (I found out).



So some (theoretical) options:

- does a 'page' have 'Item Properties'? Because that one is empty now? Would it be easy to add it there?

- would it be possible to add it to the 'Guides' tab? Because that one already has a 'Page' dropdown, so.. maybe add Page properties there?

- maybe add another tab (like Guides) named 'Pages', and a page dropdown there and then the props per page?



Ah wait... if you have a layout with several (different oriented) pages, and you select the context menu 'Page properties', the Page properties ARE SHOWN in the 'Item Properties'???



Does the (empty) layout page has some signal when you click on it? So a click on the empty sheet would reveal the same 'Item Properties' as the 'Page Properties'-context menu shows?



Or is there some (technical) reason this is not possible?



If not possible, anybody has a (easy implementable) for this? As my gutfeeling is there are more people searching for this :-)



Regards,



Richard Duivenvoorde

_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>

List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210329/7cde570e/attachment-0001.html>

From delazj at gmail.com  Mon Mar 29 08:19:06 2021
From: delazj at gmail.com (Harrissou)
Date: Mon, 29 Mar 2021 17:19:06 +0200
Subject: [QGIS-Developer] FeatureRequest: make Page properties
 (portrait/landscape) easy(ier) accessible
In-Reply-To: <0fc3338e-6d51-3101-7e05-5bd8fe32bb82@duif.net>
References: <0fc3338e-6d51-3101-7e05-5bd8fe32bb82@duif.net>
Message-ID: <6EA3937D-D529-4905-AA2C-54E38DF42048@gmail.com>

Hi Richard,

Some discussion at https://github.com/qgis/QGIS/issues/26237 or  https://github.com/qgis/QGIS/issues/25803 and there might be more references in the repo. With the rationale of the current situation (as you found) and some suggestions that may cross yours...

PS: The current behavior is documented (in early days) at https://docs.qgis.org/3.16/en/docs/user_manual/print_composer/overview_composer.html#working-with-the-page-properties ...

Regards,
Harrissou

Le 29 mars 2021 16:44:48 GMT+02:00, Richard Duivenvoorde <rdmailings at duif.net> a ?crit :
>Hi Devs,
>
>I'm not so much of a report/layout maker, so last week I had to create
>a simple (map only) pdf, but really could not find how to change my
>page from Landscape to Portrait...
>
>Today somebody contacted me with exact the same question: "I used it
>earlier, and now I cannot find 'the button' anymore"...
>
>What would be the intuitive place to access the page props (most
>notably off course orientation/size)?
>
>The *Layout* properties-tab/menu (to me most intuitive) is probably not
>showing it because you can have several pages to one layout and they
>can have different page properties (I found out).
>
>So some (theoretical) options:
>- does a 'page' have 'Item Properties'? Because that one is empty now?
>Would it be easy to add it there?
>- would it be possible to add it to the 'Guides' tab? Because that one
>already has a 'Page' dropdown, so.. maybe add Page properties there?
>- maybe add another tab (like Guides) named 'Pages', and a page
>dropdown there and then the props per page?
>
>Ah wait... if you have a layout with several (different oriented)
>pages, and you select the context menu 'Page properties', the Page
>properties ARE SHOWN in the 'Item Properties'???
>
>Does the (empty) layout page has some signal when you click on it? So a
>click on the empty sheet would reveal the same 'Item Properties' as the
>'Page Properties'-context menu shows?
>
>Or is there some (technical) reason this is not possible?
>
>If not possible, anybody has a (easy implementable) for this? As my
>gutfeeling is there are more people searching for this :-)
>
>Regards,
>
>Richard Duivenvoorde
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Envoy? de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma bri?vet?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210329/c79cd76f/attachment.html>

From regis.haubourg at gmail.com  Mon Mar 29 11:50:47 2021
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=c3=a9gis_Haubourg?=)
Date: Mon, 29 Mar 2021 20:50:47 +0200
Subject: [QGIS-Developer] Translation for french
In-Reply-To: <CAEeudyRZ6Mt1_TEGawUp37ZFortyKT3XVhisX8QpKCXAdWGgrg@mail.gmail.com>
References: <CAEeudyRZ6Mt1_TEGawUp37ZFortyKT3XVhisX8QpKCXAdWGgrg@mail.gmail.com>
Message-ID: <93da9aed-e765-05d6-0d1f-6fafec9b134b@gmail.com>

Hi Florian,

Can you try reaching the QGIS-community list
https://lists.osgeo.org/mailman/listinfo/qgis-community-team ?

I bet the transifex FR team will ear you there ;- )

Best regards

R?gis

On 19/03/2021 19:53, Florian El Ahdab wrote:
> Hello everyone.
>
> I went to transifex and requested to join the QGis Desktop project a
> few days ago to help with the translation to French which is nearly
> complete.
>
> Can anyone validate my request please ?
>
> Regards.
> Florian El-Ahdab.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210329/9cf59d42/attachment.html>

From andreaerdna at libero.it  Mon Mar 29 14:14:38 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Mon, 29 Mar 2021 14:14:38 -0700 (MST)
Subject: [QGIS-Developer] Ubuntu daily repo for PR into master?
In-Reply-To: <0F2B3846-1F4F-4EAC-9E7E-60085A46F62D@yank.to>
References: <0F2B3846-1F4F-4EAC-9E7E-60085A46F62D@yank.to>
Message-ID: <1617052478863-0.post@n6.nabble.com>

Andreas Yankopolus wrote
> Which Ubuntu repository would I want to add to my sources.list to get a
> .deb with this PR?

Hi Andreas,
please see https://qgis.org/en/site/forusers/alldownloads.html#repositories
for the available Debian/Ubuntu repositories.

Nightly build of the QGIS Development Version 3.19 master for Debian and
Ubuntu are in the following repositories:

https://qgis.org/debian-nightly or https://qgis.org/ubuntu-nightly

and https://qgis.org/ubuntugis-nightly with ubuntugis-unstable dependencies

Best regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matteo.ghetta at gmail.com  Mon Mar 29 23:36:41 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 30 Mar 2021 08:36:41 +0200
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <CAB28AsiPDNGV-GhUVxTMz9HV52P0pGW9jY69ka1FnA9mf8dknA@mail.gmail.com>
References: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
 <1616531722459-0.post@n6.nabble.com>
 <CAB28AsiPDNGV-GhUVxTMz9HV52P0pGW9jY69ka1FnA9mf8dknA@mail.gmail.com>
Message-ID: <4dcb5fb4-14ed-8474-9455-b9ec106094c8@gmail.com>

Hi Nyall,

that sounds like the best user friendly solution, even if not the 
quickest to develop.

Should I open a ticket as a feature request to keep track of this 
discussion?

Cheers and thanks to all!

Matteo

From delazj at gmail.com  Tue Mar 30 01:04:50 2021
From: delazj at gmail.com (DelazJ)
Date: Tue, 30 Mar 2021 10:04:50 +0200
Subject: [QGIS-Developer] Translation for french
In-Reply-To: <93da9aed-e765-05d6-0d1f-6fafec9b134b@gmail.com>
References: <CAEeudyRZ6Mt1_TEGawUp37ZFortyKT3XVhisX8QpKCXAdWGgrg@mail.gmail.com>
 <93da9aed-e765-05d6-0d1f-6fafec9b134b@gmail.com>
Message-ID: <CAECJsSoZNh2oadrSm7bcaLRnTHDH4OwunFMG6_LN9RHOzvbyZQ@mail.gmail.com>

Hi,
R?gis, this was fixed right after Florian's message.

Regards,
Harrissou

Le lun. 29 mars 2021 ? 20:50, R?gis Haubourg <regis.haubourg at gmail.com> a
?crit :

> Hi Florian,
>
> Can you try reaching the QGIS-community list
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team ?
>
> I bet the transifex FR team will ear you there ;- )
>
> Best regards
>
> R?gis
> On 19/03/2021 19:53, Florian El Ahdab wrote:
>
> Hello everyone.
>
> I went to transifex and requested to join the QGis Desktop project a few
> days ago to help with the translation to French which is nearly complete.
>
> Can anyone validate my request please ?
>
> Regards.
> Florian El-Ahdab.
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210330/1a5daa14/attachment.html>

From giulio.fattori at tin.it  Tue Mar 30 02:32:25 2021
From: giulio.fattori at tin.it (Giulio Fattori)
Date: Tue, 30 Mar 2021 11:32:25 +0200
Subject: [QGIS-Developer] NULL in field
Message-ID: <687f8010-3d60-699e-07f0-3946cd54f11a@tin.it>

Hi all,

i have this simple field calc function:

from qgis.core import *
from qgis.gui import *

@qgsfunction(args='auto', group='Custom')
def fill_down(value1, feature, parent):

 ??? k= 20
 ??? if value1 == NULL:
 ??????? k = 10

 ??? return k

it should return 10 if the field is empty but it doesn't work.

Any suggestions?

Best regards

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210330/48191696/attachment.html>

From gordon at axelspace.com  Tue Mar 30 03:02:40 2021
From: gordon at axelspace.com (gordonbe)
Date: Tue, 30 Mar 2021 03:02:40 -0700 (MST)
Subject: [QGIS-Developer] Unable to parse WKT Polygon using Shapely
Message-ID: <1617098560203-0.post@n6.nabble.com>


I'm trying to load a shapely Polygon from a WKT string. I'm able to import
shapely without issue, but QGIS will immediately crash when trying to load
the WKT.


from shapely import wkt

wkt.loads('POLYGON((0 0, 0 0, 0 0, 0 0, 0 0))')


QGIS throws this error during the crash:

ParseException: Unknown type: '('
QGIS died on signal 11Could not attach to process.  If your uid matches the
uid of the target
process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try
again as the root user.  For more details, see /etc/sysctl.d/10-ptrace.conf
ptrace: Operation not permitted.
No thread selected
No stack.
gdb returned 256
[1]    27794 abort (core dumped)  qgis




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Tue Mar 30 03:37:01 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 30 Mar 2021 12:37:01 +0200
Subject: [QGIS-Developer] FeatureRequest: make Page properties
 (portrait/landscape) easy(ier) accessible
In-Reply-To: <6EA3937D-D529-4905-AA2C-54E38DF42048@gmail.com>
References: <0fc3338e-6d51-3101-7e05-5bd8fe32bb82@duif.net>
 <6EA3937D-D529-4905-AA2C-54E38DF42048@gmail.com>
Message-ID: <44880049-0edd-838a-3d79-38ba91e66e36@duif.net>

Ok, because it was itching me...

https://github.com/qgis/QGIS/pull/42572

Took me some time to follow all signals of mouse events... 

But I think this works: clicking on a page will show the current page properties, 
clicking on an item will shot it's properties, and
clicking next to a page will clean the 'item properties' tab (as earlier).

Anybody wants to have a look?
I hope I do not mess up other parts there...

Regards,

Richard Duivenvoorde


On 3/29/21 5:19 PM, Harrissou wrote:
> Hi Richard,
> 
> Some discussion at https://github.com/qgis/QGIS/issues/26237 <https://github.com/qgis/QGIS/issues/26237> or https://github.com/qgis/QGIS/issues/25803 <https://github.com/qgis/QGIS/issues/25803> and there might be more references in the repo. With the rationale of the current situation (as you found) and some suggestions that may cross yours...
> 
> PS: The current behavior is documented (in early days) at https://docs.qgis.org/3.16/en/docs/user_manual/print_composer/overview_composer.html#working-with-the-page-properties <https://docs.qgis.org/3.16/en/docs/user_manual/print_composer/overview_composer.html#working-with-the-page-properties> ...
> 
> Regards,
> Harrissou
> 
> Le 29 mars 2021 16:44:48 GMT+02:00, Richard Duivenvoorde <rdmailings at duif.net> a ?crit :
> 
>     Hi Devs,
> 
>     I'm not so much of a report/layout maker, so last week I had to create a simple (map only) pdf, but really could not find how to change my page from Landscape to Portrait...
> 
>     Today somebody contacted me with exact the same question: "I used it earlier, and now I cannot find 'the button' anymore"...
> 
>     What would be the intuitive place to access the page props (most notably off course orientation/size)?
> 
>     The *Layout* properties-tab/menu (to me most intuitive) is probably not showing it because you can have several pages to one layout and they can have different page properties (I found out).
> 
>     So some (theoretical) options:
>     - does a 'page' have 'Item Properties'? Because that one is empty now? Would it be easy to add it there?
>     - would it be possible to add it to the 'Guides' tab? Because that one already has a 'Page' dropdown, so.. maybe add Page properties there?
>     - maybe add another tab (like Guides) named 'Pages', and a page dropdown there and then the props per page?
> 
>     Ah wait... if you have a layout with several (different oriented) pages, and you select the context menu 'Page properties', the Page properties ARE SHOWN in the 'Item Properties'???
> 
>     Does the (empty) layout page has some signal when you click on it? So a click on the empty sheet would reveal the same 'Item Properties' as the 'Page Properties'-context menu shows?
> 
>     Or is there some (technical) reason this is not possible?
> 
>     If not possible, anybody has a (easy implementable) for this? As my gutfeeling is there are more people searching for this :-)
> 
>     Regards,
> 
>     Richard Duivenvoorde
>     ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> -- 
> Envoy? de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma bri?vet?.


From andreaerdna at libero.it  Tue Mar 30 04:17:54 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Tue, 30 Mar 2021 04:17:54 -0700 (MST)
Subject: [QGIS-Developer] Unable to parse WKT Polygon using Shapely
In-Reply-To: <1617098560203-0.post@n6.nabble.com>
References: <1617098560203-0.post@n6.nabble.com>
Message-ID: <1617103074686-0.post@n6.nabble.com>

gordonbe wrote
> from shapely import wkt
> 
> wkt.loads('POLYGON((0 0, 0 0, 0 0, 0 0, 0 0))')
> 
> QGIS throws this error during the crash:

Hi gordonbe,
what operative system and what QGIS version are you using?

Using QGIS 3.16.5 or 3.18.1, installed via OSGeo4W on Windows 7, the command

wkt.loads('POLYGON((0 0, 0 0, 0 0, 0 0, 0 0))')

returns a shapely.geometry.polygon.Polygon object and QGIS doesn't crash.


Best regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Tue Mar 30 04:30:14 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 30 Mar 2021 13:30:14 +0200
Subject: [QGIS-Developer] Unable to parse WKT Polygon using Shapely
In-Reply-To: <1617103074686-0.post@n6.nabble.com>
References: <1617098560203-0.post@n6.nabble.com>
 <1617103074686-0.post@n6.nabble.com>
Message-ID: <0e1555e5-573f-4025-9863-cb62d176d7da@duif.net>

On 3/30/21 1:17 PM, Andrea Giudiceandrea wrote:
> gordonbe wrote
>> from shapely import wkt
>> wkt.loads('POLYGON((0 0, 0 0, 0 0, 0 0, 0 0))')
> 
> Hi gordonbe,
> what operative system and what QGIS version are you using?
> 
> Using QGIS 3.16.5 or 3.18.1, installed via OSGeo4W on Windows 7, the command
> 
> wkt.loads('POLYGON((0 0, 0 0, 0 0, 0 0, 0 0))')
> 
> returns a shapely.geometry.polygon.Polygon object and QGIS doesn't crash.



Same here for all QGIS's on Debian (310 till master) all OK

What version of shapely do you have (mine is 1.7.1).

Is it possible you have some python/shapely versions mixed in your python path?


Regards,

Richard Duivenvoorde

From andreaerdna at libero.it  Tue Mar 30 04:49:31 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Tue, 30 Mar 2021 04:49:31 -0700 (MST)
Subject: [QGIS-Developer] NULL in field
In-Reply-To: <687f8010-3d60-699e-07f0-3946cd54f11a@tin.it>
References: <687f8010-3d60-699e-07f0-3946cd54f11a@tin.it>
Message-ID: <1617104971913-0.post@n6.nabble.com>

Giulio Fattori wrote
> @qgsfunction(args='auto', group='Custom')

Hi Giulio,
AFAIK you should add handlesnull=True to the function decorator in order to
properly handle parameter's NULL values in the function

@qgsfunction(args='auto', group='Custom', handlesnull=True)

See: https://qgis.org/pyqgis/master/core/qgsfunction.html#module-qgsfunction

Best regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From gordon at axelspace.com  Tue Mar 30 05:41:48 2021
From: gordon at axelspace.com (gordonbe)
Date: Tue, 30 Mar 2021 05:41:48 -0700 (MST)
Subject: [QGIS-Developer] Unable to parse WKT Polygon using Shapely
In-Reply-To: <0e1555e5-573f-4025-9863-cb62d176d7da@duif.net>
References: <1617098560203-0.post@n6.nabble.com>
 <1617103074686-0.post@n6.nabble.com>
 <0e1555e5-573f-4025-9863-cb62d176d7da@duif.net>
Message-ID: <1617108108240-0.post@n6.nabble.com>

Hi Andrea and Richard

> what operative system and what QGIS version are you using? 

I'm using QGIS 3.10.12 on Ubuntu 20.04.1 LTS (according to my About QGIS
page).


> Is it possible you have some python/shapely versions mixed in your python
> path? 

That might be possible. How would I check this?


Thank you,
Barney




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From adenaculture at gmail.com  Tue Mar 30 06:41:50 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 30 Mar 2021 09:41:50 -0400
Subject: [QGIS-Developer] Standalone Installers Without Sys Admin Privledges
Message-ID: <CABPxTTq7QGHnGSEXM2Y-2DiKc8tbyyXpO3yEfCm1SBiAwmO3Bw@mail.gmail.com>

Is there any way that QGIS standalone installers can be created which do
not require system admin privileges to install? The new OSGeo4W works like
a charm for this, but it would be helpful to have standalone installers as
well. I checked the new MSI installers, and they don't work without
sysadmin access.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210330/6e1a7cd4/attachment.html>

From andreas at yank.to  Tue Mar 30 08:37:39 2021
From: andreas at yank.to (Andreas Yankopolus)
Date: Tue, 30 Mar 2021 11:37:39 -0400
Subject: [QGIS-Developer] Ubuntu daily repo for PR into master?
In-Reply-To: <1617052478863-0.post@n6.nabble.com>
References: <0F2B3846-1F4F-4EAC-9E7E-60085A46F62D@yank.to>
 <1617052478863-0.post@n6.nabble.com>
Message-ID: <065CCB0D-31A2-482B-B7A6-C04882D86063@yank.to>

> Nightly build of the QGIS Development Version 3.19 master for Debian and
> Ubuntu are in the following repositories:
> 
> https://qgis.org/debian-nightly or https://qgis.org/ubuntu-nightly
> 
> and https://qgis.org/ubuntugis-nightly with ubuntugis-unstable dependencies

Adding the following to my sources.list did the trick:

deb [arch=amd64] https://qgis.org/ubuntugis-nightly focal main
deb [arch=amd64] http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu focal main

I?m now getting a 3.19 master build.

Cheers,

Andreas



From ernst at pleiszenburg.de  Tue Mar 30 11:10:37 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Tue, 30 Mar 2021 20:10:37 +0200
Subject: [QGIS-Developer] Multiprocessing QGIS
In-Reply-To: <CAB28AsjbiSj_ykDTmH9VZu4bX5iqbMAt9O861PZsAr2nVymsRQ@mail.gmail.com>
References: <mailman.19.1616958001.650.qgis-developer@lists.osgeo.org>
 <1787b10c524.36197c5572261.595661239178306433@margo.co>
 <CAB28AsjbiSj_ykDTmH9VZu4bX5iqbMAt9O861PZsAr2nVymsRQ@mail.gmail.com>
Message-ID: <f7d6f96c-07c2-d8fd-4f22-951a5b6fa6ef@pleiszenburg.de>

Hi all,

Am 29.03.21 um 01:17 schrieb Nyall Dawson:
> [...] So it's quite straightforward to use
> multiprocessing in PyQGIS via the Qt methods and do things like
> calculating intersections for different objects across multiple
> threads at once without having to worry about the GIL at all...

I have just experimented a little bit with `multiprocessing` inside QGIS
(the GUI app) across multiple platforms. All performed tests are common
text-book examples for the basic use of `multiprocessing` (completely
ignoring QGIS' own internal mechanisms for similar-ish tasks). Tests 1
to 3 are process-based, i.e. they `fork` on Unix-like systems. Tests 4
and 5 are thread-based. All 5 tests work on Unix-like systems *and*
Windows inside a regular Python interpreter (without the involvement of
QGIS). If someone wants to replicate my experiments, here is the code:

https://gist.github.com/s-m-e/65197151fd3ddc74eee319252b4a9d6e

All 5 tests work flawlessly in QGIS 3.14.0 on Linux. I was lacking the
time to go through younger versions but I'd expect no difference.

While tests 4 and 5 do work, tests 1 to 3, the process-based ones, fail
in QGIS 3.18.1 (202f1bf7e5) on Windows 10 (OSGeo4W). Actually the way
they are failing is interesting. The failure happens even at an earlier
stage than I expected:

`AttributeError: module 'sys' has no attribute 'argv'`

It basically means that QGIS' C++ code does not forward `argv` to the
Python interpreter. On Linux is does not matter, but on Windows it does:
`multiprocessing` prepares to start new worker processes from scratch
(because there is no `fork`) and tries to access the main process'
`argv`, so it can eventually forward it to the workers. The error
therefore happens before it is even attempted to start worker processes
which is where I was originally expecting a failure. I think the `argv`
issue is a trivial thing to fix. Right after the Python interpreter gets
initialized ...

https://github.com/qgis/QGIS/blob/70eac1c97255ea31e3e5d57fc7cea721d080c8e8/src/python/qgspythonutilsimpl.cpp#L158

... a call to `PySys_SetArgv` is required:

https://docs.python.org/3/c-api/init.html?highlight=pysys_setargv#c.PySys_SetArgv

Once it is fixed, the question then becomes what happens / fails next. I
do not have an operational Windows build-environment at the moment -
does someone who has one like to try this? I'd be really interested in
the result.

Bottom line: Simple process-based parallelism with `multiprocessing`
**on Windows**, which is actually very common in the Python world, has
definately been broken in QGIS for several versions.

Best regards,
Sebastian

From jonathan-lists at lightpear.com  Tue Mar 30 13:39:57 2021
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Tue, 30 Mar 2021 21:39:57 +0100
Subject: [QGIS-Developer] QGIS and privacy
In-Reply-To: <CAD3koGn1pjP2CpMT-wavLuFFQpZmTqK+S134N2TN08SvcXcJ+Q@mail.gmail.com>
References: <ff797437-de86-2c73-8746-82d5ca015e87@gmail.com>
 <CAD3koGn1pjP2CpMT-wavLuFFQpZmTqK+S134N2TN08SvcXcJ+Q@mail.gmail.com>
Message-ID: <b2f52a2a-0f88-33e5-dd31-ddff553ff032@lightpear.com>

 > I agree that exposing sensitive data would be problematic but sharing 
the username does not seem to be something too private. Your full name 
for example also appears in this mailing list or as part of your twitter 
account. So under which circumstances would it be problematic if your 
name would be written to a QGIS project file?


Not a lawyer, but I have an interest in the GDPR. Basically, this 
qualifies as "personal information" 
(https://ico.org.uk/for-organisations/guide-to-data-protection/guide-to-the-general-data-protection-regulation-gdpr/what-is-personal-data/what-is-personal-data/): 


??personal data? means any information relating to an identified or 
identifiable natural person (?data subject?); an identifiable natural 
person is one who can be identified, directly or indirectly, in 
particular by reference to an identifier such as a name, an 
identification number, location data, an online identifier or to one or 
more factors specific to the physical, physiological, genetic, mental, 
economic, cultural or social identity of that natural person?.

Especially as some user names will be the users actual name. Which means 
it falls under the GDPR.

This in turn means there's a whole bunch of other GDPR related 
requirements that have to be met when handling any file that has that 
data in: 
https://ico.org.uk/for-organisations/guide-to-data-protection/guide-to-the-general-data-protection-regulation-gdpr/principles/ 
- and I suppose that also means you have to ensure that anyone who 
receives that file is also GDPR compliant and treats the file in 
accordance with it. And of course you can't be sharing it randomly with 
the public.

*TL;DR: include absolutely no personal data by default anywhere in any 
files.*

(And to address Thomas' point: The reason you can do it on mailing lists 
is because by posting here we're explicitly consenting to it. It's 
understood that that'll happen. 99% of users won't know their username 
is in a file that's shared so there's no basis for consent.)


On 2021-03-23 20:05, Thomas B wrote:
> Hi Matteo,
> can you give an example when exposing the username could be problematic?
>
> As far as I know other common programs like Word, Excel and so on also 
> add your full name as author to the metadata of every Word- or Excel 
> file you create.
> I think this is something very useful if you work with others within 
> one company. If you send these files to someone else and want to get 
> rid of these metadata you can delete this metadata information.
>
> I agree that exposing sensitive data would be problematic but sharing 
> the username does not seem to be something too private. Your full name 
> for example also appears in this mailing list or as part of your 
> twitter account. So under which circumstances would it be problematic 
> if your name would be written to a QGIS project file?
>
> regards,
> Thomas
>
> Am Di., 23. M?rz 2021 um 09:01?Uhr schrieb matteo 
> <matteo.ghetta at gmail.com <mailto:matteo.ghetta at gmail.com>>:
>
>     Hi devs,
>
>     in the Italian QGIS Group we had a discussion on privacy "issues"
>     related to the exposure of some Global Variables, like
>     "user_full_name",
>     that is automatically taken from the client.
>
>     Maybe some variable should be opt-in rather then opt-out: sharing a
>     project between different computers/users can expose the user name
>     without an explicit agreement of the final user.
>
>     What is your opinion on this?
>
>     Cheers
>
>     Matteo
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210330/adfa8f0b/attachment.html>

From jonathan-lists at lightpear.com  Wed Mar 31 05:20:37 2021
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Wed, 31 Mar 2021 13:20:37 +0100
Subject: [QGIS-Developer] QGIS Docs: ReStructureText flavour?
Message-ID: <ec840447-a5a2-b124-f98b-87555c0a6a21@lightpear.com>

Hi List,

What flavour is the RST behind the QGIS docs? There are quite a few 
things in here that are syntax erroring all the parsers I'm trying and 
aren't in the basic RST spec either 
(https://docutils.sourceforge.io/docs/user/rst/cheatsheet.txt).

For example using ":ref:" for internal hyperlinks when the spec says 
they should be done like this: 
https://docutils.sourceforge.io/docs/user/rst/quickref.html#internal-hyperlink-targets 
(there is no "ref" in the specs). Or the `.. only:: html` that starts 
some files.

I tried looking at the QGIS Docs page but I couldn't see anything about 
what RST standard the docs should be written to. Where can I find the spec?

Cheers,

Jonathan


From jonathan-lists at lightpear.com  Wed Mar 31 05:54:43 2021
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Wed, 31 Mar 2021 13:54:43 +0100
Subject: [QGIS-Developer] Fwd: Re:  QGIS Docs: ReStructureText flavour?
In-Reply-To: <a3ee7e49-2bcf-aba0-216c-4f2af5060fa2@lightpear.com>
References: <a3ee7e49-2bcf-aba0-216c-4f2af5060fa2@lightpear.com>
Message-ID: <aaeba459-374e-be27-4925-1f5b0a3c6008@lightpear.com>

Thanks Rosa!

Both yes and no.

That does have the spec (though no reference to the "only::" thing), but 
it doesn't say what parser to use for it.

I see that the :ref: thing is pulled from python 
(https://devguide.python.org/documenting/#cross-linking-markup) but 
again, the parsers I've been trying are barfing on that (and one is a 
Python IDE!) meaning I can't actually reliably preview an RST which I 
imagine reduces contributions (I've lost an hour to this so far!).

A more general question to the community would be: Wouldn't it make more 
sense to use plain RST to allow the largest toolset possible to edit the 
docs?

Thanks again,

Jonathan


On 2021-03-31 13:28, l wrote:
> Hey.
> Is this what you are looking for:
> https://docs.qgis.org/testing/en/docs/documentation_guidelines/writing.html#writing-documentation?
> Best,
> Rosa
>
>
>
> -----------------------------------------------------------------
> MSc Rosa Aguilar - PhD Candidate
> University of Twente
> Faculty of Geoinformation Science and Earth Observation
> Connect with me on LinkedIn
> https://rosaguilar.github.io
> -----------------------------------------------------------------
> The essential is invisible to the eye. Saint-Exup?ry
>
> -----Original Message-----
> From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On 
> Behalf Of Jonathan Moules
> Sent: 31 March 2021 14:21
> To: QGIS Developer Mailing List <qgis-developer at lists.osgeo.org>
> Subject: [QGIS-Developer] QGIS Docs: ReStructureText flavour?
>
> Hi List,
>
> What flavour is the RST behind the QGIS docs? There are quite a few 
> things in here that are syntax erroring all the parsers I'm trying and 
> aren't in the basic RST spec either 
> (https://docutils.sourceforge.io/docs/user/rst/cheatsheet.txt).
>
> For example using ":ref:" for internal hyperlinks when the spec says 
> they should be done like this:
> https://docutils.sourceforge.io/docs/user/rst/quickref.html#internal-hyperlink-targets
> (there is no "ref" in the specs). Or the `.. only:: html` that starts 
> some files.
>
> I tried looking at the QGIS Docs page but I couldn't see anything 
> about what RST standard the docs should be written to. Where can I 
> find the spec?
>
> Cheers,
>
> Jonathan
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From delazj at gmail.com  Wed Mar 31 06:10:47 2021
From: delazj at gmail.com (DelazJ)
Date: Wed, 31 Mar 2021 15:10:47 +0200
Subject: [QGIS-Developer] QGIS Docs: ReStructureText flavour?
In-Reply-To: <ec840447-a5a2-b124-f98b-87555c0a6a21@lightpear.com>
References: <ec840447-a5a2-b124-f98b-87555c0a6a21@lightpear.com>
Message-ID: <CAECJsSr0_dRKN4cbdCLtiUmPBgnqir2GPi2UZ3ZH7xhHiixeig@mail.gmail.com>

Hi Jonathan,

I can't answer whether there's any particular RST flavour behind. What I
know is that we rely on Sphinx [0] and most of the rules/syntaxes we use
are picked from them. The docs guidelines [1] also provide some explanation
on the choice made.
So, in the Sphinx docs, you can find :ref: [2] and .. only:: [3]

[0] https://www.sphinx-doc.org/en/master/
[1] https://docs.qgis.org/3.16/en/docs/documentation_guidelines/index.html
[2]
https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#cross-referencing-arbitrary-locations
[3]
https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-only

Hope that clarifies,
Harrissou

Le mer. 31 mars 2021 ? 14:21, Jonathan Moules <jonathan-lists at lightpear.com>
a ?crit :

> Hi List,
>
> What flavour is the RST behind the QGIS docs? There are quite a few
> things in here that are syntax erroring all the parsers I'm trying and
> aren't in the basic RST spec either
> (https://docutils.sourceforge.io/docs/user/rst/cheatsheet.txt).
>
> For example using ":ref:" for internal hyperlinks when the spec says
> they should be done like this:
>
> https://docutils.sourceforge.io/docs/user/rst/quickref.html#internal-hyperlink-targets
> (there is no "ref" in the specs). Or the `.. only:: html` that starts
> some files.
>
> I tried looking at the QGIS Docs page but I couldn't see anything about
> what RST standard the docs should be written to. Where can I find the spec?
>
> Cheers,
>
> Jonathan
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210331/ff5d1acf/attachment-0001.html>

From adenaculture at gmail.com  Wed Mar 31 10:55:47 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 31 Mar 2021 13:55:47 -0400
Subject: [QGIS-Developer] New Date/Time Tools Plugin with 3 New Functions
Message-ID: <CABPxTTrqr4_24qmanP0qiPc6Rc6fxqc7y72ELiyg1Wq78SvwjQ@mail.gmail.com>

I have a new version of the Date/Time Tools Plugin for you to try. You need
to be using QGIS 3.14 or later and will need to manually install it in QGIS
by clicking on "Plugins->Manage and Install Plugins..." and then click on
the "Install from ZIP" on the tab on the left. You can download the latest
release here. Use the file datetimetools-3.0.5.zip.

Date/Time tools 3.0.5 Release
<https://github.com/NationalSecurityAgency/qgis-datetimetools-plugin/releases/tag/3.0.5>

*Date/Time Tools has four functions:*

[image: dateTime.png] *Date/Time Conversion* - This is a dialog box that
displays different formats of a date and time, computes time differences,
and displays various sun times such as dawn, sunrise, noon, sunset, and
dusk.
[image: tzCapture.png] *Time Zone Capture *-  With this tool selected, as
the mouse moves across the canvas the time zone and/or time offset is
displayed in the lower left info box and the time zone is highlighted on
the canvas.
[image: sun.png] *Add Sun Attributes* - This is a processing tool that for
a point layer and a given date, calculates the time of dawn, sunrise, noon,
sunset, and dusk and adds them to the attribute table and creates a new
layer.
[image: tzAttributes.png] *Add Time Zone Attributes* - From a point layer,
this processing algorithm adds the time zone each point is in as well as
the time zone offset for a particular date if selected.

More details can be found in the Documentation
<https://github.com/NationalSecurityAgency/qgis-datetimetools-plugin>.

If you have any suggestions on how the plugin can be improved, please let
me know.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210331/4fe812af/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dateTime.png
Type: image/png
Size: 938 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210331/4fe812af/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sun.png
Type: image/png
Size: 677 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210331/4fe812af/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tzAttributes.png
Type: image/png
Size: 1347 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210331/4fe812af/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tzCapture.png
Type: image/png
Size: 966 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210331/4fe812af/attachment-0003.png>

From senhor.neto at gmail.com  Wed Mar 31 15:10:07 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 31 Mar 2021 23:10:07 +0100
Subject: [QGIS-Developer] QGIS Docs: ReStructureText flavour?
In-Reply-To: <CAECJsSr0_dRKN4cbdCLtiUmPBgnqir2GPi2UZ3ZH7xhHiixeig@mail.gmail.com>
References: <ec840447-a5a2-b124-f98b-87555c0a6a21@lightpear.com>
 <CAECJsSr0_dRKN4cbdCLtiUmPBgnqir2GPi2UZ3ZH7xhHiixeig@mail.gmail.com>
Message-ID: <CA+H0G_HpgRL1JM=SA__bt=7iZx69JzVgZOLfgcdHnYtUeFqtxQ@mail.gmail.com>

Hi,

As far as I remember, sphinx is based/expands "normal" RST introducing new
directives, so it should be normal that some seems to be missing when you
try to parse them using a rst parser.

Alexandre Neto

A quarta, 31/03/2021, 14:11, DelazJ <delazj at gmail.com> escreveu:

> Hi Jonathan,
>
> I can't answer whether there's any particular RST flavour behind. What I
> know is that we rely on Sphinx [0] and most of the rules/syntaxes we use
> are picked from them. The docs guidelines [1] also provide some explanation
> on the choice made.
> So, in the Sphinx docs, you can find :ref: [2] and .. only:: [3]
>
> [0] https://www.sphinx-doc.org/en/master/
> [1] https://docs.qgis.org/3.16/en/docs/documentation_guidelines/index.html
> [2]
> https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#cross-referencing-arbitrary-locations
> [3]
> https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-only
>
> Hope that clarifies,
> Harrissou
>
> Le mer. 31 mars 2021 ? 14:21, Jonathan Moules <
> jonathan-lists at lightpear.com> a ?crit :
>
>> Hi List,
>>
>> What flavour is the RST behind the QGIS docs? There are quite a few
>> things in here that are syntax erroring all the parsers I'm trying and
>> aren't in the basic RST spec either
>> (https://docutils.sourceforge.io/docs/user/rst/cheatsheet.txt).
>>
>> For example using ":ref:" for internal hyperlinks when the spec says
>> they should be done like this:
>>
>> https://docutils.sourceforge.io/docs/user/rst/quickref.html#internal-hyperlink-targets
>> (there is no "ref" in the specs). Or the `.. only:: html` that starts
>> some files.
>>
>> I tried looking at the QGIS Docs page but I couldn't see anything about
>> what RST standard the docs should be written to. Where can I find the
>> spec?
>>
>> Cheers,
>>
>> Jonathan
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210331/a337b1a6/attachment.html>

