From geos-trac at osgeo.org  Mon Feb  3 22:45:15 2014
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 04 Feb 2014 06:45:15 -0000
Subject: [geos-devel] [GEOS] #682: ST_OffsetCurve fails for some geometries
Message-ID: <047.b7b189e29b30d8e529cb3668910ea405@osgeo.org>

#682: ST_OffsetCurve fails for some geometries
------------------------+---------------------------------------------------
 Reporter:  jventin     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.3                     
Component:  Default     |     Version:  3.4.2                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 Please refer to discussion: http://osgeo-org.1560.x6.nabble.com/Problems-
 with-ST-OffsetCurve-td5101491.html


 Here is another geometry for which ST_OffsetCurve gives same error with
 offset parameter value -16
 01020000A0FB0B00002600000023DBF9FEA6901A41666666A6246F5A410000000000000000B07268911C911A418D976EEA286F5A4100000000000000000AD7A3F0F7981A415A643BD7716F5A4100000000000000003108AC9CC8991A41C74B3791576F5A4100000000000000004E6210584D9A1A41AC1C5A2C456F5A410000000000000000BA490C827B9A1A411058392C3A6F5A4100000000000000002DB29DEF899A1A4114AE4799326F5A4100000000000000008195438B619A1A418195431B2C6F5A4100000000000000004C3789C1109A1A414C3789A1236F5A4100000000000000006891EDFC9C991A41986E124B1D6F5A410000000000000000643BDFCF2C991A41DF4F8DCF186F5A410000000000000000F6285C0FC2981A41F2D24D620A6F5A410000000000000000448B6C67B9981A41A69BC498066F5A410000000000000000A01A2F5DAB981A416ABC74CB026F5A4100000000000000001B2FDDA47B981A41295C8F2A016F5A410000000000000000B6F3FDD47A961A41022B8796EF6E5A410000000000000000E17A14AE83961A4114AE47A9F16E5A410000000000000000105839B4F1961A418B6CE7BB0B6F5A41000000000000000048E17A94A1981A41F4FDD498246F5A410000000000000000E7FBA971EE981A4117D9CE67356F5A410000000000000000B29DEF27F0981A4191ED7CC7356F5A41000000000000000060E5D0A290981A41B07268093D6F5A4100000000000000008FC2F5A838981A415A643B473C6F5A410000000000000000D578E9A62A971A412731080C5A6F5A410000000000000000022B871644961A41105839B4516F5A4100000000000000006210583950961A4119045696416F5A4100000000000000007D3F35DE7B951A41FA7E6A742A6F5A4100000000000000003108AC9C36961A41EE7C3F6D0B6F5A4100000000000000008716D94EEB951A41E5D022ABEA6E5A4100000000000000004E62105825951A41DBF97EE2E36E5A4100000000000000003BDF4F0DCF931A41643BDF27D86E5A4100000000000000002FDD2406CA921A41CFF753DBEC6E5A4100000000000000005A643BDFD7911A41560E2DE2016F5A4100000000000000008B6CE77B1F911A41F0A7C683096F5A410000000000000000A4703D8A5E901A41B29DEF9F186F5A410000000000000000BC7493980E901A41A8C64B1F1F6F5A4100000000000000001283C0CA2B901A41E17A142E206F5A41000000000000000023DBF9FEA6901A41666666A6246F5A410000000000000000

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/682>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Feb  4 01:47:05 2014
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 04 Feb 2014 09:47:05 -0000
Subject: [geos-devel] [GEOS] #682: ST_OffsetCurve fails for some
	geometries
In-Reply-To: <047.b7b189e29b30d8e529cb3668910ea405@osgeo.org>
References: <047.b7b189e29b30d8e529cb3668910ea405@osgeo.org>
Message-ID: <056.008d06049f2dd69ef36892c5a3d6e38d@osgeo.org>

#682: ST_OffsetCurve fails for some geometries
------------------------+---------------------------------------------------
 Reporter:  jventin     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.3                     
Component:  Default     |     Version:  3.4.2                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by jventin):

 It should be added that I have encountered this problem only with
 polygons. When switching start and end point for the geometries causing
 errors, it seems that the offset function will give a result (not error).

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/682#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From anubhav2503 at gmail.com  Wed Feb 12 08:38:07 2014
From: anubhav2503 at gmail.com (Anubhav Jaiswal)
Date: Wed, 12 Feb 2014 22:08:07 +0530
Subject: [geos-devel] Exposing Precision model through C-API
Message-ID: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>

Hi,

Can someone point me to any other geometric model which has already been
exposed through C-API. It will make it easier for me to implement for
Precision Model.

Anubhav

-- 

*Anubhav Jaiswal*

*B. Tech + MS by Research*

*Lab for Spatial Informatics,*

*Computer Science and Engineering,*



*IIIT Hyderabad *
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140212/fb31d952/attachment.html>

From strk at keybit.net  Wed Feb 12 08:52:57 2014
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 12 Feb 2014 17:52:57 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
Message-ID: <20140212165257.GA3849@localhost>

On Wed, Feb 12, 2014 at 10:08:07PM +0530, Anubhav Jaiswal wrote:
> Hi,
> 
> Can someone point me to any other geometric model which has already been
> exposed through C-API. It will make it easier for me to implement for
> Precision Model.

The C-API completely hides the PrecisionModel to the client
and internally forces Floating, by using the default
GeometryFactory (geos_ts_c.cpp:209)

In order to use a different PrecisionModel you'll need
to construct a different GeometryFactory using that model,
and the constructed GeometryFactory will need to stay alive
for the whole lifetime of any geometry that's been constructed
with that factory.

--strk;

From remi.cura at gmail.com  Thu Feb 13 00:54:27 2014
From: remi.cura at gmail.com (=?UTF-8?Q?R=C3=A9mi_Cura?=)
Date: Thu, 13 Feb 2014 09:54:27 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140212165257.GA3849@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
Message-ID: <CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>

I'm Captain obvious here,
but maybe you should take a look at CGAL, which is the reference lib
regarding to precision issue. (I'm not speaking of the exact kernel.)
Also Geos is a port of JTS, but I don't know if everything was ported (like
this?
http://tsusiatsoftware.net/jts/javadoc/com/vividsolutions/jts/geom/PrecisionModel.html
).

All in all, exposing precision model is not a design or interface problem,
but an algorithmic problem with no solution (except going the exact
precision way), thus it is a matter of compromises and balance, because
precise output cannot be guaranteed (if you chain operations like
buffer(buffer(...buffer(geom)...)), enforcing precision is very difficult ).

Maybe people from SFCGAL project would have a lot to say, because they must
have done something about precision issue when writting/reading to CGAL.

Cheers,

R?mi-C



2014-02-12 17:52 GMT+01:00 Sandro Santilli <strk at keybit.net>:

> On Wed, Feb 12, 2014 at 10:08:07PM +0530, Anubhav Jaiswal wrote:
> > Hi,
> >
> > Can someone point me to any other geometric model which has already been
> > exposed through C-API. It will make it easier for me to implement for
> > Precision Model.
>
> The C-API completely hides the PrecisionModel to the client
> and internally forces Floating, by using the default
> GeometryFactory (geos_ts_c.cpp:209)
>
> In order to use a different PrecisionModel you'll need
> to construct a different GeometryFactory using that model,
> and the constructed GeometryFactory will need to stay alive
> for the whole lifetime of any geometry that's been constructed
> with that factory.
>
> --strk;
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140213/8a6f4a55/attachment.html>

From anubhav2503 at gmail.com  Thu Feb 13 03:55:17 2014
From: anubhav2503 at gmail.com (Anubhav Jaiswal)
Date: Thu, 13 Feb 2014 17:25:17 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
Message-ID: <CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>

Hi,

Just wanted to know whether GEOS is applying for GSoC'14 under OSGeo. If
yes, will this(exposing precision model) be a sufficient task or are there
any other project ideas for GSoC.

Anubhav


On Thu, Feb 13, 2014 at 2:24 PM, R?mi Cura <remi.cura at gmail.com> wrote:

> I'm Captain obvious here,
> but maybe you should take a look at CGAL, which is the reference lib
> regarding to precision issue. (I'm not speaking of the exact kernel.)
> Also Geos is a port of JTS, but I don't know if everything was ported
> (like this?
> http://tsusiatsoftware.net/jts/javadoc/com/vividsolutions/jts/geom/PrecisionModel.html
> ).
>
> All in all, exposing precision model is not a design or interface problem,
> but an algorithmic problem with no solution (except going the exact
> precision way), thus it is a matter of compromises and balance, because
> precise output cannot be guaranteed (if you chain operations like
> buffer(buffer(...buffer(geom)...)), enforcing precision is very difficult ).
>
> Maybe people from SFCGAL project would have a lot to say, because they
> must have done something about precision issue when writting/reading to
> CGAL.
>
> Cheers,
>
> R?mi-C
>
>
>
> 2014-02-12 17:52 GMT+01:00 Sandro Santilli <strk at keybit.net>:
>
> On Wed, Feb 12, 2014 at 10:08:07PM +0530, Anubhav Jaiswal wrote:
>> > Hi,
>> >
>> > Can someone point me to any other geometric model which has already been
>> > exposed through C-API. It will make it easier for me to implement for
>> > Precision Model.
>>
>> The C-API completely hides the PrecisionModel to the client
>> and internally forces Floating, by using the default
>> GeometryFactory (geos_ts_c.cpp:209)
>>
>> In order to use a different PrecisionModel you'll need
>> to construct a different GeometryFactory using that model,
>> and the constructed GeometryFactory will need to stay alive
>> for the whole lifetime of any geometry that's been constructed
>> with that factory.
>>
>> --strk;
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>



-- 

*Anubhav Jaiswal*

*B. Tech + MS by Research*

*Lab for Spatial Informatics,*

*Computer Science and Engineering,*



*IIIT Hyderabad *
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140213/3fc29c6c/attachment.html>

From strk at keybit.net  Thu Feb 13 10:16:47 2014
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 13 Feb 2014 19:16:47 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
Message-ID: <20140213181647.GA28332@localhost>

On Thu, Feb 13, 2014 at 09:54:27AM +0100, R?mi Cura wrote:
> I'm Captain obvious here,
> but maybe you should take a look at CGAL, which is the reference lib
> regarding to precision issue. (I'm not speaking of the exact kernel.)
> Also Geos is a port of JTS, but I don't know if everything was ported (like
> this?
> http://tsusiatsoftware.net/jts/javadoc/com/vividsolutions/jts/geom/PrecisionModel.html
> ).

PrecisionModel is there from the very first release of GEOS.
It's just not exposed via the C-API.

> All in all, exposing precision model is not a design or interface problem,
> but an algorithmic problem with no solution (except going the exact
> precision way), thus it is a matter of compromises and balance, because
> precise output cannot be guaranteed (if you chain operations like
> buffer(buffer(...buffer(geom)...)), enforcing precision is very difficult ).

In this case is just an interface design problem.
We want to expose what's available, and need to find a good way to expose it.

--strk;

From strk at keybit.net  Thu Feb 13 10:19:49 2014
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 13 Feb 2014 19:19:49 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
Message-ID: <20140213181949.GB28332@localhost>

On Thu, Feb 13, 2014 at 05:25:17PM +0530, Anubhav Jaiswal wrote:
> Hi,
> 
> Just wanted to know whether GEOS is applying for GSoC'14 under OSGeo. If
> yes, will this(exposing precision model) be a sufficient task or are there
> any other project ideas for GSoC.

I'm available for mentoring such a project, which I find sufficient.

There might be some GSoC ideas wiki page but I don't know right away.
For sure I can tell you that this exposure would be enough to cut up
the next GEOS minor release (3.5.0), given current development speed...

--strk;


From strk at keybit.net  Fri Feb 14 05:38:01 2014
From: strk at keybit.net (Sandro Santilli)
Date: Fri, 14 Feb 2014 14:38:01 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140213181949.GB28332@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
Message-ID: <20140214133801.GE4517@localhost>

On Thu, Feb 13, 2014 at 07:19:49PM +0100, Sandro Santilli wrote:
> On Thu, Feb 13, 2014 at 05:25:17PM +0530, Anubhav Jaiswal wrote:
> > Hi,
> > 
> > Just wanted to know whether GEOS is applying for GSoC'14 under OSGeo. If
> > yes, will this(exposing precision model) be a sufficient task or are there
> > any other project ideas for GSoC.
> 
> I'm available for mentoring such a project, which I find sufficient.
> 
> There might be some GSoC ideas wiki page but I don't know right away.

Hamish pointed me here:
http://trac.osgeo.org/geos/wiki/GSoC

It seems to be the place were 2014 ideas would be put.
Anubhav, are you willing to write down the precision model idea ?

--strk;

 () ?ASCII ribbon campaign  --  Keep it simple !
 /\ ?http://strk.keybit.net/rants/ascii_mails.txt  

From anubhav2503 at gmail.com  Sat Feb 15 06:35:57 2014
From: anubhav2503 at gmail.com (Anubhav Jaiswal)
Date: Sat, 15 Feb 2014 20:05:57 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140214133801.GE4517@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<20140214133801.GE4517@localhost>
Message-ID: <CAB-WT338Z1dS4VU+X=akfAp3rwwKdz0tHQxwNu6pP7c+ZDL+6w@mail.gmail.com>

I would surely do that. It's just that are you sure whether this idea would
be sufficient to be counted as a GSoC project.

Anubhav


On Fri, Feb 14, 2014 at 7:08 PM, Sandro Santilli <strk at keybit.net> wrote:

> On Thu, Feb 13, 2014 at 07:19:49PM +0100, Sandro Santilli wrote:
> > On Thu, Feb 13, 2014 at 05:25:17PM +0530, Anubhav Jaiswal wrote:
> > > Hi,
> > >
> > > Just wanted to know whether GEOS is applying for GSoC'14 under OSGeo.
> If
> > > yes, will this(exposing precision model) be a sufficient task or are
> there
> > > any other project ideas for GSoC.
> >
> > I'm available for mentoring such a project, which I find sufficient.
> >
> > There might be some GSoC ideas wiki page but I don't know right away.
>
> Hamish pointed me here:
> http://trac.osgeo.org/geos/wiki/GSoC
>
> It seems to be the place were 2014 ideas would be put.
> Anubhav, are you willing to write down the precision model idea ?
>
> --strk;
>
>  ()  ASCII ribbon campaign  --  Keep it simple !
>  /\  http://strk.keybit.net/rants/ascii_mails.txt
>



-- 

*Anubhav Jaiswal*

*B. Tech + MS by Research*

*Lab for Spatial Informatics,*

*Computer Science and Engineering,*



*IIIT Hyderabad *
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140215/f4af5828/attachment.html>

From varunsaraf14 at gmail.com  Mon Feb 17 02:23:29 2014
From: varunsaraf14 at gmail.com (Varun Saraf)
Date: Mon, 17 Feb 2014 15:53:29 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140214133801.GE4517@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost> <20140214133801.GE4517@localhost>
Message-ID: <CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>

Hi,

I am not sure if I have understood the solution, but this is what I think.

For exposing PrecisionModel through the C-API, we need to write a function
in the geos_ts_c.cpp file which takes the required arguments for the
precision model. It constructs a new GeometryFactory with appropriate
arguments which in turn calls PrecisionModel with those arguments.

My doubt is what all arguments need to be passed to this C-API function and
is that what we are supposed to design. Also we will have to make
appropriate changes to the GeometryFactory constructor.

Please tell me if I am in the right direction.

Regards,
Varun Saraf


On Fri, Feb 14, 2014 at 7:08 PM, Sandro Santilli <strk at keybit.net> wrote:

> On Thu, Feb 13, 2014 at 07:19:49PM +0100, Sandro Santilli wrote:
> > On Thu, Feb 13, 2014 at 05:25:17PM +0530, Anubhav Jaiswal wrote:
> > > Hi,
> > >
> > > Just wanted to know whether GEOS is applying for GSoC'14 under OSGeo.
> If
> > > yes, will this(exposing precision model) be a sufficient task or are
> there
> > > any other project ideas for GSoC.
> >
> > I'm available for mentoring such a project, which I find sufficient.
> >
> > There might be some GSoC ideas wiki page but I don't know right away.
>
> Hamish pointed me here:
> http://trac.osgeo.org/geos/wiki/GSoC
>
> It seems to be the place were 2014 ideas would be put.
> Anubhav, are you willing to write down the precision model idea ?
>
> --strk;
>
>  ()  ASCII ribbon campaign  --  Keep it simple !
>  /\  http://strk.keybit.net/rants/ascii_mails.txt
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140217/fe820aee/attachment.html>

From strk at keybit.net  Mon Feb 17 03:40:59 2014
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 17 Feb 2014 12:40:59 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<20140214133801.GE4517@localhost>
	<CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
Message-ID: <20140217113439.GK5426@localhost>

On Mon, Feb 17, 2014 at 03:53:29PM +0530, Varun Saraf wrote:
> Hi,
> 
> I am not sure if I have understood the solution, but this is what I think.
> 
> For exposing PrecisionModel through the C-API, we need to write a function
> in the geos_ts_c.cpp file which takes the required arguments for the
> precision model. It constructs a new GeometryFactory with appropriate
> arguments which in turn calls PrecisionModel with those arguments.

What needs to be done is really to be decided, and deciding that is
part of the task. You should make an RFC document and sollicit comments
from this mailing list until some kind of consensus is found, basically.

Note that anything you construct in that function needs to have a way
to be destroyed.

> My doubt is what all arguments need to be passed to this C-API function and
> is that what we are supposed to design. Also we will have to make
> appropriate changes to the GeometryFactory constructor.

I don't think any change in the C++ interface is required.

> Please tell me if I am in the right direction.

Yes, I think you are.

--strk;

From olivier.courtin at oslandia.com  Mon Feb 17 04:55:41 2014
From: olivier.courtin at oslandia.com (Oliver Courtin)
Date: Mon, 17 Feb 2014 13:55:41 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
Message-ID: <6E257B9A-05AB-44C8-9598-1CD758C8CB15@oslandia.com>

Le 13 f?vr. 2014 ? 09:54, R?mi Cura a ?crit :

Hi alls,

> All in all, exposing precision model is not a design or interface problem, but an algorithmic problem with no solution (except going the exact precision way), thus it is a matter of compromises and balance, because precise output cannot be guaranteed (if you chain operations like buffer(buffer(...buffer(geom)...)), enforcing precision is very difficult ).


> Maybe people from SFCGAL project would have a lot to say, because they must have done something about precision issue when writting/reading to CGAL.

Related to SFCGAL, we have to choosed a CGAL kernel reliable enough (for our targeted usages), 
and so implied CGAL internal exact rational number representation.


And you're right R?my, chained operations are still an issue,
because each time we go back to PostGIS (for instance here)
we are obliged to convert back to double.


Our first initial thought, was to extent WKT to allow rational notation.
Something like POINT(2/3 1/3) rather than POINT(0.6666666 0.3333333)
Cf: http://wiki.postgresql.org/images/3/36/Postgis_3d_pgday2013_hm.pdf
(slides 17 and 18)

But surely something to standardize at OGC/ISO level first?  


So our current lead, to 'solve it', is to allow at low level (meaning here PostgreSQL)
to use references rather than values for nested functions calls 
(this approach is also something interesting as a pure performance matter):
http://postgresql.1045698.n5.nabble.com/Detection-of-nested-function-calls-td5775905.html

We plan to work again on this subject by this summer.



HTH,


O.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140217/4f5e128e/attachment.html>

From varunsaraf14 at gmail.com  Mon Feb 17 06:59:53 2014
From: varunsaraf14 at gmail.com (Varun Saraf)
Date: Mon, 17 Feb 2014 20:29:53 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140217113439.GK5426@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost> <20140214133801.GE4517@localhost>
	<CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
	<20140217113439.GK5426@localhost>
Message-ID: <CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>

On Mon, Feb 17, 2014 at 5:10 PM, Sandro Santilli <strk at keybit.net> wrote:

> On Mon, Feb 17, 2014 at 03:53:29PM +0530, Varun Saraf wrote:
> > Hi,
> >
> > I am not sure if I have understood the solution, but this is what I
> think.
> >
> > For exposing PrecisionModel through the C-API, we need to write a
> function
> > in the geos_ts_c.cpp file which takes the required arguments for the
> > precision model. It constructs a new GeometryFactory with appropriate
> > arguments which in turn calls PrecisionModel with those arguments.
>
> What needs to be done is really to be decided, and deciding that is
> part of the task. You should make an RFC document and sollicit comments
> from this mailing list until some kind of consensus is found, basically.
>
> Note that anything you construct in that function needs to have a way
> to be destroyed.


> > My doubt is what all arguments need to be passed to this C-API function
> and
> > is that what we are supposed to design. Also we will have to make
> > appropriate changes to the GeometryFactory constructor.
>
> I don't think any change in the C++ interface is required.
>

Consider this for an example. We want to create a precision model using the
C-API using the following arguments [1] PrecisionModel (double newScale,
double newOffsetX, double newOffsetY). Now the wrapper calls [2]
GeometryFactory with these arguments but it has no constructor to accept
them. Or is it that GeometryFactory need not be called at all and the
wrapper directly calls existing PrecisionModel interface. Please clarify.

Regards,
Varun Saraf

[1] http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1PrecisionModel.html
[2] http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1GeometryFactory.html

>
> > Please tell me if I am in the right direction.
>
> Yes, I think you are.
>
> --strk;
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140217/06c2f5e8/attachment.html>

From remi.cura at gmail.com  Mon Feb 17 07:49:43 2014
From: remi.cura at gmail.com (=?UTF-8?Q?R=C3=A9mi_Cura?=)
Date: Mon, 17 Feb 2014 16:49:43 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<20140214133801.GE4517@localhost>
	<CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
	<20140217113439.GK5426@localhost>
	<CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>
Message-ID: <CAJvUf_v+yTz8CE-5TJxv1281D4W0At=f2NFGTV2e5UobR2P+0A@mail.gmail.com>

Hey Olivier,

I must admit the thread you gave is well over my head with so detailled
postgres internal,
but such functionnality (avoiding serialization) would be incredibly
beneficial for a lot of functions
(I'm thinking Paul Ramsey PointCloud extension).

Also all the raster system seems to rely on passing the raster, which is
totally inefficient at best when chaining functions.

Cheers,

R?mi-C


2014-02-17 15:59 GMT+01:00 Varun Saraf <varunsaraf14 at gmail.com>:

> On Mon, Feb 17, 2014 at 5:10 PM, Sandro Santilli <strk at keybit.net> wrote:
>
>> On Mon, Feb 17, 2014 at 03:53:29PM +0530, Varun Saraf wrote:
>> > Hi,
>> >
>> > I am not sure if I have understood the solution, but this is what I
>> think.
>> >
>> > For exposing PrecisionModel through the C-API, we need to write a
>> function
>> > in the geos_ts_c.cpp file which takes the required arguments for the
>> > precision model. It constructs a new GeometryFactory with appropriate
>> > arguments which in turn calls PrecisionModel with those arguments.
>>
>> What needs to be done is really to be decided, and deciding that is
>> part of the task. You should make an RFC document and sollicit comments
>> from this mailing list until some kind of consensus is found, basically.
>>
>> Note that anything you construct in that function needs to have a way
>> to be destroyed.
>
>
>> > My doubt is what all arguments need to be passed to this C-API function
>> and
>> > is that what we are supposed to design. Also we will have to make
>> > appropriate changes to the GeometryFactory constructor.
>>
>> I don't think any change in the C++ interface is required.
>>
>
> Consider this for an example. We want to create a precision model using
> the C-API using the following arguments [1] PrecisionModel (double
> newScale, double newOffsetX, double newOffsetY). Now the wrapper calls [2]
> GeometryFactory with these arguments but it has no constructor to accept
> them. Or is it that GeometryFactory need not be called at all and the
> wrapper directly calls existing PrecisionModel interface. Please clarify.
>
> Regards,
> Varun Saraf
>
> [1] http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1PrecisionModel.html
> [2]
> http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1GeometryFactory.html
>
>>
>> > Please tell me if I am in the right direction.
>>
>> Yes, I think you are.
>>
>> --strk;
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140217/1149baf0/attachment-0001.html>

From varunsaraf14 at gmail.com  Wed Feb 19 06:21:48 2014
From: varunsaraf14 at gmail.com (Varun Saraf)
Date: Wed, 19 Feb 2014 19:51:48 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost> <20140214133801.GE4517@localhost>
	<CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
	<20140217113439.GK5426@localhost>
	<CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>
Message-ID: <CAPfr+ru+Xmrz7Uhh1JgpiRtx69VfhVxyohFk37MLTjB1Mh3dEg@mail.gmail.com>

On Mon, Feb 17, 2014 at 8:29 PM, Varun Saraf <varunsaraf14 at gmail.com> wrote:

> On Mon, Feb 17, 2014 at 5:10 PM, Sandro Santilli <strk at keybit.net> wrote:
>
>> On Mon, Feb 17, 2014 at 03:53:29PM +0530, Varun Saraf wrote:
>> > Hi,
>> >
>> > I am not sure if I have understood the solution, but this is what I
>> think.
>> >
>> > For exposing PrecisionModel through the C-API, we need to write a
>> function
>> > in the geos_ts_c.cpp file which takes the required arguments for the
>> > precision model. It constructs a new GeometryFactory with appropriate
>> > arguments which in turn calls PrecisionModel with those arguments.
>>
>> What needs to be done is really to be decided, and deciding that is
>> part of the task. You should make an RFC document and sollicit comments
>> from this mailing list until some kind of consensus is found, basically.
>>
>> Note that anything you construct in that function needs to have a way
>> to be destroyed.
>
>
>> > My doubt is what all arguments need to be passed to this C-API function
>> and
>> > is that what we are supposed to design. Also we will have to make
>> > appropriate changes to the GeometryFactory constructor.
>>
>> I don't think any change in the C++ interface is required.
>>
>
Any suggestions?


>
> Consider this for an example. We want to create a precision model using
> the C-API using the following arguments [1] PrecisionModel (double
> newScale, double newOffsetX, double newOffsetY). Now the wrapper calls [2]
> GeometryFactory with these arguments but it has no constructor to accept
> them. Or is it that GeometryFactory need not be called at all and the
> wrapper directly calls existing PrecisionModel interface. Please clarify.
>
> Regards,
> Varun Saraf
>
> [1] http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1PrecisionModel.html
> [2]
> http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1GeometryFactory.html
>
>>
>> > Please tell me if I am in the right direction.
>>
>> Yes, I think you are.
>>
>> --strk;
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140219/c14d606e/attachment.html>

From strk at keybit.net  Wed Feb 19 07:53:00 2014
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 19 Feb 2014 16:53:00 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAPfr+ru+Xmrz7Uhh1JgpiRtx69VfhVxyohFk37MLTjB1Mh3dEg@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<20140214133801.GE4517@localhost>
	<CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
	<20140217113439.GK5426@localhost>
	<CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>
	<CAPfr+ru+Xmrz7Uhh1JgpiRtx69VfhVxyohFk37MLTjB1Mh3dEg@mail.gmail.com>
Message-ID: <20140219155300.GK24911@localhost>

On Wed, Feb 19, 2014 at 07:51:48PM +0530, Varun Saraf wrote:
> On Mon, Feb 17, 2014 at 8:29 PM, Varun Saraf <varunsaraf14 at gmail.com> wrote:
> 
> > On Mon, Feb 17, 2014 at 5:10 PM, Sandro Santilli <strk at keybit.net> wrote:
> >
> >> On Mon, Feb 17, 2014 at 03:53:29PM +0530, Varun Saraf wrote:
> >> > Hi,
> >> >
> >> > I am not sure if I have understood the solution, but this is what I
> >> think.
> >> >
> >> > For exposing PrecisionModel through the C-API, we need to write a
> >> function
> >> > in the geos_ts_c.cpp file which takes the required arguments for the
> >> > precision model. It constructs a new GeometryFactory with appropriate
> >> > arguments which in turn calls PrecisionModel with those arguments.
> >>
> >> What needs to be done is really to be decided, and deciding that is
> >> part of the task. You should make an RFC document and sollicit comments
> >> from this mailing list until some kind of consensus is found, basically.
> >>
> >> Note that anything you construct in that function needs to have a way
> >> to be destroyed.
> >
> >
> >> > My doubt is what all arguments need to be passed to this C-API function
> >> and
> >> > is that what we are supposed to design. Also we will have to make
> >> > appropriate changes to the GeometryFactory constructor.
> >>
> >> I don't think any change in the C++ interface is required.
> >
> Any suggestions?

About what ? Which args need to be passed to a C-API function ?
Are you sure is a single C-API function ?
Making a plan is part of the projet...

--strk;

From varunsaraf14 at gmail.com  Wed Feb 19 09:01:04 2014
From: varunsaraf14 at gmail.com (Varun Saraf)
Date: Wed, 19 Feb 2014 22:31:04 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140219155300.GK24911@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost> <20140214133801.GE4517@localhost>
	<CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
	<20140217113439.GK5426@localhost>
	<CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>
	<CAPfr+ru+Xmrz7Uhh1JgpiRtx69VfhVxyohFk37MLTjB1Mh3dEg@mail.gmail.com>
	<20140219155300.GK24911@localhost>
Message-ID: <CAPfr+ru8rAFSaQ5h0D0_Zv5N+YDfwizOF5gtMOXX8VhsGA3qAA@mail.gmail.com>

Hi,

You had earlier said that no changes in C++ interface is required. Consider
this for an example. We want to create a precision model using the C-API
using the following arguments [1] PrecisionModel (double newScale, double
newOffsetX, double newOffsetY). Now the wrapper calls [2] GeometryFactory
with these arguments but it has no constructor to accept them. Or is it
that GeometryFactory need not be called at all and the wrapper directly
calls existing PrecisionModel interface. I was asking suggestions for this
doubt which might have been missed.

Regards,
Varun Saraf

[1] http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1PrecisionModel.html
[2] http://geos.osgeo.org/doxygen/classgeos_1_1geom_1_1GeometryFactory.html


On Wed, Feb 19, 2014 at 9:23 PM, Sandro Santilli <strk at keybit.net> wrote:

> On Wed, Feb 19, 2014 at 07:51:48PM +0530, Varun Saraf wrote:
> > On Mon, Feb 17, 2014 at 8:29 PM, Varun Saraf <varunsaraf14 at gmail.com>
> wrote:
> >
> > > On Mon, Feb 17, 2014 at 5:10 PM, Sandro Santilli <strk at keybit.net>
> wrote:
> > >
> > >> On Mon, Feb 17, 2014 at 03:53:29PM +0530, Varun Saraf wrote:
> > >> > Hi,
> > >> >
> > >> > I am not sure if I have understood the solution, but this is what I
> > >> think.
> > >> >
> > >> > For exposing PrecisionModel through the C-API, we need to write a
> > >> function
> > >> > in the geos_ts_c.cpp file which takes the required arguments for the
> > >> > precision model. It constructs a new GeometryFactory with
> appropriate
> > >> > arguments which in turn calls PrecisionModel with those arguments.
> > >>
> > >> What needs to be done is really to be decided, and deciding that is
> > >> part of the task. You should make an RFC document and sollicit
> comments
> > >> from this mailing list until some kind of consensus is found,
> basically.
> > >>
> > >> Note that anything you construct in that function needs to have a way
> > >> to be destroyed.
> > >
> > >
> > >> > My doubt is what all arguments need to be passed to this C-API
> function
> > >> and
> > >> > is that what we are supposed to design. Also we will have to make
> > >> > appropriate changes to the GeometryFactory constructor.
> > >>
> > >> I don't think any change in the C++ interface is required.
> > >
> > Any suggestions?
>
> About what ? Which args need to be passed to a C-API function ?
> Are you sure is a single C-API function ?
> Making a plan is part of the projet...
>
> --strk;
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140219/abba3d62/attachment.html>

From sean.gillies at gmail.com  Wed Feb 19 10:15:18 2014
From: sean.gillies at gmail.com (Sean Gillies)
Date: Wed, 19 Feb 2014 11:15:18 -0700
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140213181949.GB28332@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
Message-ID: <CAOodmJqGSgZei11aq+zgsB_eg-4BvcWc4X4cetS7M=zt=83wLQ@mail.gmail.com>

Hi Sandro,

My Shapely project would benefit from this feature and I've written up its
requirements here: https://github.com/Toblerity/Shapely/issues/110.
Briefly, I'd like to be able to pass a precision model reference into
initGEOS and create an appropriate geometry factory in the GEOS context.
And I'd like to be able to switch between precision models within a Python
program, so not adding any new state outside of the context struct would be
my preference.

Once a wiki page is created, I'll be happy to copy my requirements there.



On Thu, Feb 13, 2014 at 11:19 AM, Sandro Santilli <strk at keybit.net> wrote:

> On Thu, Feb 13, 2014 at 05:25:17PM +0530, Anubhav Jaiswal wrote:
> > Hi,
> >
> > Just wanted to know whether GEOS is applying for GSoC'14 under OSGeo. If
> > yes, will this(exposing precision model) be a sufficient task or are
> there
> > any other project ideas for GSoC.
>
> I'm available for mentoring such a project, which I find sufficient.
>
> There might be some GSoC ideas wiki page but I don't know right away.
> For sure I can tell you that this exposure would be enough to cut up
> the next GEOS minor release (3.5.0), given current development speed...
>
> --strk;
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>



-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140219/cb4335c6/attachment-0001.html>

From strk at keybit.net  Wed Feb 19 22:30:45 2014
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 20 Feb 2014 07:30:45 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAOodmJqGSgZei11aq+zgsB_eg-4BvcWc4X4cetS7M=zt=83wLQ@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<CAOodmJqGSgZei11aq+zgsB_eg-4BvcWc4X4cetS7M=zt=83wLQ@mail.gmail.com>
Message-ID: <20140220063045.GA7415@localhost>

Hi Sean,

On Wed, Feb 19, 2014 at 11:15:18AM -0700, Sean Gillies wrote:

> My Shapely project would benefit from this feature and I've written up its
> requirements here: https://github.com/Toblerity/Shapely/issues/110.
> Briefly, I'd like to be able to pass a precision model reference into
> initGEOS and create an appropriate geometry factory in the GEOS context.
> And I'd like to be able to switch between precision models within a Python
> program, so not adding any new state outside of the context struct would be
> my preference.

I agree about making the precision model part of the context.
But we can't change the initGEOS signature, so we'll need
some GEOSContext_setPrecisionModel kind of method.
At that point, we have to decide what happens with a previously
set PrecisionModel, if it has to be allowed at all.

Deleting the PrecisionModel and the GeometryFactory on finishGEOS
is fine, but note that this would make any created geometry also
broken (they hold a reference to the GeometryFactory that created
them). Not a big deal, as long as it's clearely documented. Dunno
if it would make sense for the opaque GEOSGeometry type to also
hold a pointer to the context, just in case...

> Once a wiki page is created, I'll be happy to copy my requirements there.

I hope Varun will take action about the wiki :)

--strk;


From strk at keybit.net  Wed Feb 19 22:36:29 2014
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 20 Feb 2014 07:36:29 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAPfr+ru8rAFSaQ5h0D0_Zv5N+YDfwizOF5gtMOXX8VhsGA3qAA@mail.gmail.com>
References: <CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<20140214133801.GE4517@localhost>
	<CAPfr+rtEECR36u2MM7TGcvPMj4ZKjkRZFyHhxRpPL2xZTMfbWw@mail.gmail.com>
	<20140217113439.GK5426@localhost>
	<CAPfr+ruEEqd9=0mi-ZhfgnOR+o6xcQqeFvdX3zgLM+wuXp73hA@mail.gmail.com>
	<CAPfr+ru+Xmrz7Uhh1JgpiRtx69VfhVxyohFk37MLTjB1Mh3dEg@mail.gmail.com>
	<20140219155300.GK24911@localhost>
	<CAPfr+ru8rAFSaQ5h0D0_Zv5N+YDfwizOF5gtMOXX8VhsGA3qAA@mail.gmail.com>
Message-ID: <20140220063629.GB7415@localhost>

On Wed, Feb 19, 2014 at 10:31:04PM +0530, Varun Saraf wrote:
> Hi,
> 
> You had earlier said that no changes in C++ interface is required. Consider
> this for an example. We want to create a precision model using the C-API
> using the following arguments [1] PrecisionModel (double newScale, double
> newOffsetX, double newOffsetY). Now the wrapper calls [2] GeometryFactory
> with these arguments but it has no constructor to accept them.

The wrapper will need to construct a PrecisionModel, and pass it to
GeometryFactory constructor by pointer.

Yes, the C++ interface is not that nice, but we don't want to mix changes
here and there, IMHO.

The current implementation always makes a copy of the PrecisionModel,
so you can use a temporary one. I should update the documentation.
Feel free to file a ticket for that on the osgeo trac instance.

--strk;

From varunsaraf14 at gmail.com  Thu Feb 20 07:27:32 2014
From: varunsaraf14 at gmail.com (Varun Saraf)
Date: Thu, 20 Feb 2014 20:57:32 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140220063045.GA7415@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<CAOodmJqGSgZei11aq+zgsB_eg-4BvcWc4X4cetS7M=zt=83wLQ@mail.gmail.com>
	<20140220063045.GA7415@localhost>
Message-ID: <CAPfr+rv+RrBtyoDU27GW4VfaSziTQD9r-feJWSJ+wd0inUSeyA@mail.gmail.com>

Hi,

I have updated the GSoC ideas wiki page:
http://trac.osgeo.org/geos/wiki/GSoC

In order to draft the API, how do I go about collecting suggestions from
the library users?

Regards,
Varun Saraf


On Thu, Feb 20, 2014 at 12:00 PM, Sandro Santilli <strk at keybit.net> wrote:

> Hi Sean,
>
> On Wed, Feb 19, 2014 at 11:15:18AM -0700, Sean Gillies wrote:
>
> > My Shapely project would benefit from this feature and I've written up
> its
> > requirements here: https://github.com/Toblerity/Shapely/issues/110.
> > Briefly, I'd like to be able to pass a precision model reference into
> > initGEOS and create an appropriate geometry factory in the GEOS context.
> > And I'd like to be able to switch between precision models within a
> Python
> > program, so not adding any new state outside of the context struct would
> be
> > my preference.
>
> I agree about making the precision model part of the context.
> But we can't change the initGEOS signature, so we'll need
> some GEOSContext_setPrecisionModel kind of method.
> At that point, we have to decide what happens with a previously
> set PrecisionModel, if it has to be allowed at all.
>
> Deleting the PrecisionModel and the GeometryFactory on finishGEOS
> is fine, but note that this would make any created geometry also
> broken (they hold a reference to the GeometryFactory that created
> them). Not a big deal, as long as it's clearely documented. Dunno
> if it would make sense for the opaque GEOSGeometry type to also
> hold a pointer to the context, just in case...
>
> > Once a wiki page is created, I'll be happy to copy my requirements there.
>
> I hope Varun will take action about the wiki :)
>
> --strk;
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140220/36d647ee/attachment.html>

From pepijn at vaneeckhoudt.net  Mon Feb 24 02:38:24 2014
From: pepijn at vaneeckhoudt.net (Pepijn Van Eeckhoudt)
Date: Mon, 24 Feb 2014 11:38:24 +0100
Subject: [geos-devel] Will GEOS license follow JTS?
Message-ID: <530B2120.2020902@vaneeckhoudt.net>

Hi all,

As part of the move of to LocationTech it seems JTS is going to be 
relicensed to BSD and/or EPL. Since JTS is kind of the upstream project 
for GEOS, I was wondering if GEOS was going to follow this example or not?

I know licensing issues have come up before and that this is a bit 
controversial. Not trying to push in any particular direction here. Just 
informing what the plans may or may not be.

Regards,

Pepijn

From howard at hobu.co  Mon Feb 24 06:27:51 2014
From: howard at hobu.co (Howard Butler)
Date: Mon, 24 Feb 2014 08:27:51 -0600
Subject: [geos-devel] Will GEOS license follow JTS?
In-Reply-To: <530B2120.2020902@vaneeckhoudt.net>
References: <530B2120.2020902@vaneeckhoudt.net>
Message-ID: <40A87114-0B72-4ECB-ADDD-A9957F5E531E@hobu.co>


On Feb 24, 2014, at 4:38 AM, Pepijn Van Eeckhoudt <pepijn at vaneeckhoudt.net> wrote:

> Hi all,
> 
> As part of the move of to LocationTech it seems JTS is going to be relicensed to BSD and/or EPL. Since JTS is kind of the upstream project for GEOS, I was wondering if GEOS was going to follow this example or not?

No.

> I know licensing issues have come up before and that this is a bit controversial. Not trying to push in any particular direction here. Just informing what the plans may or may not be.

No plans. Sandro (the developer of the majority of the GEOS port) is adamantly opposed to relicensing to any license like BSD, MIT, or EPL. It just isn't going to happen.

Howard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 495 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140224/537259a0/attachment.pgp>

From strk at keybit.net  Wed Feb 26 09:38:29 2014
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 26 Feb 2014 18:38:29 +0100
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <CAPfr+rv+RrBtyoDU27GW4VfaSziTQD9r-feJWSJ+wd0inUSeyA@mail.gmail.com>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<CAOodmJqGSgZei11aq+zgsB_eg-4BvcWc4X4cetS7M=zt=83wLQ@mail.gmail.com>
	<20140220063045.GA7415@localhost>
	<CAPfr+rv+RrBtyoDU27GW4VfaSziTQD9r-feJWSJ+wd0inUSeyA@mail.gmail.com>
Message-ID: <20140226173829.GA26429@localhost>

On Thu, Feb 20, 2014 at 08:57:32PM +0530, Varun Saraf wrote:
> Hi,
> 
> I have updated the GSoC ideas wiki page:
> http://trac.osgeo.org/geos/wiki/GSoC
> 
> In order to draft the API, how do I go about collecting suggestions from
> the library users?

By writing a proposal, publishing somewhere (the wiki?)
then request comments on this list and iterate.

Sean already started, but I think he's waiting for a real
page, not just a section in another page.

What's the deadline for presenting the proposal, btw ?

--strk;

> On Thu, Feb 20, 2014 at 12:00 PM, Sandro Santilli <strk at keybit.net> wrote:
> 
> > Hi Sean,
> >
> > On Wed, Feb 19, 2014 at 11:15:18AM -0700, Sean Gillies wrote:
> >
> > > My Shapely project would benefit from this feature and I've written up
> > its
> > > requirements here: https://github.com/Toblerity/Shapely/issues/110.
> > > Briefly, I'd like to be able to pass a precision model reference into
> > > initGEOS and create an appropriate geometry factory in the GEOS context.
> > > And I'd like to be able to switch between precision models within a
> > Python
> > > program, so not adding any new state outside of the context struct would
> > be
> > > my preference.
> >
> > I agree about making the precision model part of the context.
> > But we can't change the initGEOS signature, so we'll need
> > some GEOSContext_setPrecisionModel kind of method.
> > At that point, we have to decide what happens with a previously
> > set PrecisionModel, if it has to be allowed at all.
> >
> > Deleting the PrecisionModel and the GeometryFactory on finishGEOS
> > is fine, but note that this would make any created geometry also
> > broken (they hold a reference to the GeometryFactory that created
> > them). Not a big deal, as long as it's clearely documented. Dunno
> > if it would make sense for the opaque GEOSGeometry type to also
> > hold a pointer to the context, just in case...
> >
> > > Once a wiki page is created, I'll be happy to copy my requirements there.
> >
> > I hope Varun will take action about the wiki :)
> >
> > --strk;
> >
> >

> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel


-- 

 () ?ASCII ribbon campaign  --  Keep it simple !
 /\ ?http://strk.keybit.net/rants/ascii_mails.txt  

From elogeo at nottingham.ac.uk  Thu Feb 27 06:32:03 2014
From: elogeo at nottingham.ac.uk (Elogeo)
Date: Thu, 27 Feb 2014 14:32:03 +0000
Subject: [geos-devel] ELOGeo Repository
Message-ID: <6BB97754489E1049BCBFB5D35124F33E25F18B4FCB@EXCHANGE1.ad.nottingham.ac.uk>

Hello,

My name is Adam Rousell and I am a researcher at the University of Nottingham working on the ELOGeo repository project. The ELOGeo repository is an OSGeo recognised store for digital material about open geospatial data, software and standards and aims at collecting, preserving and distributing these resources to the geospatial community. Users have contributed a large number of resources ranging from FOSS4G conference presentations to OpenSource GIS software, with the repository currently having in excess of 170 items deposited. Users of the site come from all over the world, with over 10,000 visitors arriving at the site in the past 6 months.

As part of a JISC funded research project, the ELOGeo repository has seen some redevelopment over the past few months which has now gone live. As such, now is an great time to get more people involved with the repository as the redevelopments are focussing on making the repository more accessible and reaching out to a wider audience. Due to our links with OSGeo we are pushing for an increase in content for the various OSGeo projects and have set up an area on the repository for each of these projects. We are always looking for new materials so if you have anything that you think would be useful to add please make a contribution to your section (or any other section if you have relevant materials). The collection for your project can be found at http://elogeo.nottingham.ac.uk/xmlui/handle/url/278 and currently does not have any resources in it. The process is fairly painless, but any questions please feel free to contact us and we will do our best to help out. Also, it would be of great benefit to users trying to find resources relating to your project if you could share the link to your section either on your project website or through mailing lists.

We hope to see some new materials for your project soon, and again, any questions please contact us on elogeo at nottingham.ac.uk<mailto:elogeo at nottingham.ac.uk>.

Adam Rousell (on behalf of the ELOGeo project team)
http://www.jisc.ac.uk
http://osgeo.org
http://elogeo.nottingham.ac.uk


This message and any attachment are intended solely for the addressee and may contain confidential information. If you have received this message in error, please send it back to me, and immediately delete it.   Please do not use, copy or disclose the information contained in this message or in any attachment.  Any views or opinions expressed by the author of this email do not necessarily reflect the views of the University of Nottingham.



This message has been checked for viruses but the contents of an attachment

may still contain software viruses which could damage your computer system, you are advised to perform your own checks. Email communications with the University of Nottingham may be monitored as permitted by UK legislation.









-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140227/5fc53199/attachment.html>

From varunsaraf14 at gmail.com  Fri Feb 28 06:01:09 2014
From: varunsaraf14 at gmail.com (Varun Saraf)
Date: Fri, 28 Feb 2014 19:31:09 +0530
Subject: [geos-devel] Exposing Precision model through C-API
In-Reply-To: <20140226173829.GA26429@localhost>
References: <CAB-WT30MztQCbFAvHBTYnWEyqM56vPC0C+1SvwxjaNsyLwwJEw@mail.gmail.com>
	<20140212165257.GA3849@localhost>
	<CAJvUf_vGWeM7o0kvJC2vOVSn=oTwq1ewV=B8p7ZcF4GaYHdRQA@mail.gmail.com>
	<CAB-WT32KqqBxTv1FSN=Gvkis=ieoEYVjzRKOwLYrDHmSY3Ewvg@mail.gmail.com>
	<20140213181949.GB28332@localhost>
	<CAOodmJqGSgZei11aq+zgsB_eg-4BvcWc4X4cetS7M=zt=83wLQ@mail.gmail.com>
	<20140220063045.GA7415@localhost>
	<CAPfr+rv+RrBtyoDU27GW4VfaSziTQD9r-feJWSJ+wd0inUSeyA@mail.gmail.com>
	<20140226173829.GA26429@localhost>
Message-ID: <CAPfr+ruWkOMPQ3cUh2Go_Db8jybLn1wh3P-5YfHPYYQaEmU_=A@mail.gmail.com>

Hi,

I will publish the proposal soon. The deadline for presenting the proposal
is 21st March.

Regards,
Varun Saraf


On Wed, Feb 26, 2014 at 11:08 PM, Sandro Santilli <strk at keybit.net> wrote:

> On Thu, Feb 20, 2014 at 08:57:32PM +0530, Varun Saraf wrote:
> > Hi,
> >
> > I have updated the GSoC ideas wiki page:
> > http://trac.osgeo.org/geos/wiki/GSoC
> >
> > In order to draft the API, how do I go about collecting suggestions from
> > the library users?
>
> By writing a proposal, publishing somewhere (the wiki?)
> then request comments on this list and iterate.
>
> Sean already started, but I think he's waiting for a real
> page, not just a section in another page.
>
> What's the deadline for presenting the proposal, btw ?
>
> --strk;
>
> > On Thu, Feb 20, 2014 at 12:00 PM, Sandro Santilli <strk at keybit.net>
> wrote:
> >
> > > Hi Sean,
> > >
> > > On Wed, Feb 19, 2014 at 11:15:18AM -0700, Sean Gillies wrote:
> > >
> > > > My Shapely project would benefit from this feature and I've written
> up
> > > its
> > > > requirements here: https://github.com/Toblerity/Shapely/issues/110.
> > > > Briefly, I'd like to be able to pass a precision model reference into
> > > > initGEOS and create an appropriate geometry factory in the GEOS
> context.
> > > > And I'd like to be able to switch between precision models within a
> > > Python
> > > > program, so not adding any new state outside of the context struct
> would
> > > be
> > > > my preference.
> > >
> > > I agree about making the precision model part of the context.
> > > But we can't change the initGEOS signature, so we'll need
> > > some GEOSContext_setPrecisionModel kind of method.
> > > At that point, we have to decide what happens with a previously
> > > set PrecisionModel, if it has to be allowed at all.
> > >
> > > Deleting the PrecisionModel and the GeometryFactory on finishGEOS
> > > is fine, but note that this would make any created geometry also
> > > broken (they hold a reference to the GeometryFactory that created
> > > them). Not a big deal, as long as it's clearely documented. Dunno
> > > if it would make sense for the opaque GEOSGeometry type to also
> > > hold a pointer to the context, just in case...
> > >
> > > > Once a wiki page is created, I'll be happy to copy my requirements
> there.
> > >
> > > I hope Varun will take action about the wiki :)
> > >
> > > --strk;
> > >
> > >
>
> > _______________________________________________
> > geos-devel mailing list
> > geos-devel at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/geos-devel
>
>
> --
>
>  ()  ASCII ribbon campaign  --  Keep it simple !
>  /\  http://strk.keybit.net/rants/ascii_mails.txt
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20140228/d9a0a171/attachment.html>

