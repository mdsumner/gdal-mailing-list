From geos-trac at osgeo.org  Thu May  3 07:14:24 2012
From: geos-trac at osgeo.org (GEOS)
Date: Thu May  3 07:14:43 2012
Subject: [geos-devel] [GEOS] #534: Cross compile trunk for android
Message-ID: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>

#534: Cross compile trunk for android
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.3.4                     
Component:  Default       |     Version:  svn-trunk                 
 Severity:  Significant   |    Keywords:  android                   
--------------------------+-------------------------------------------------
 Basically PGAC_TYPE_64BIT_INT([int64_t])
 fails to work on configure.ac line 220
 PGAC_TYPE_64BIT_INT is implemented in acsite.m4

 when cross compiling using the android NDK r6b (4.4.3) and make check
 fails.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/534>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu May  3 07:18:02 2012
From: geos-trac at osgeo.org (GEOS)
Date: Thu May  3 07:18:31 2012
Subject: [geos-devel] Re: [GEOS] #534: Cross compile trunk for android
In-Reply-To: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
References: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
Message-ID: <061.b213acfe1e7d026c1eadaab441e13cdd@osgeo.org>

#534: Cross compile trunk for android
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.3.4                     
Component:  Default       |     Version:  svn-trunk                 
 Severity:  Significant   |    Keywords:  android                   
--------------------------+-------------------------------------------------

Comment(by strk):

 And this is the warning got at ./configure time everytime the
 PGAC_TYPE_64BIT_INT macro is invoked:

 {{{
 WARNING: 64bit arithmetic disabled when cross-compiling
 }}}

 It seems to be the key here, as Marco found int64_t works fine when used
 in ClassSizes.cpp (it is 8 bytes)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/534#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu May  3 07:22:49 2012
From: geos-trac at osgeo.org (GEOS)
Date: Thu May  3 07:23:36 2012
Subject: [geos-devel] Re: [GEOS] #534: Cross compile trunk for android
In-Reply-To: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
References: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
Message-ID: <061.e5bd040f39609ed795615adcf5ea7825@osgeo.org>

#534: Cross compile trunk for android
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.3.4                     
Component:  Default       |     Version:  svn-trunk                 
 Severity:  Significant   |    Keywords:  android                   
--------------------------+-------------------------------------------------

Comment(by mbernasocchi):

 and this is the last part of the make check:


 /bin/bash ../../libtool --tag=CXX   --mode=compile arm-linux-
 androideabi-g++ -DHAVE_CONFIG_H -I. -I../../../src/geom -I../../include
 -I../../include/geos -I../../../include    -DGEOS_INLINE  -pedantic -Wall
 -ansi -Wno-long-long  -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb
 -std=gnu++0x  -MT LineSegment.lo -MD -MP -MF .deps/LineSegment.Tpo -c -o
 LineSegment.lo ../../../src/geom/LineSegment.cpp
 libtool: compile:  arm-linux-androideabi-g++ -DHAVE_CONFIG_H -I.
 -I../../../src/geom -I../../include -I../../include/geos
 -I../../../include -DGEOS_INLINE -pedantic -Wall -ansi -Wno-long-long
 -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb -std=gnu++0x -MT
 LineSegment.lo -MD -MP -MF .deps/LineSegment.Tpo -c
 ../../../src/geom/LineSegment.cpp  -fPIC -DPIC -o .libs/LineSegment.o
 In file included from ../../../include/geos/geom/Coordinate.h:19,
                  from ../../../include/geos/geom/LineSegment.h:25,
                  from ../../../src/geom/LineSegment.cpp:21:
 ../../include/geos/platform.h:71:5: warning: #warning is a GCC extension
 ../../include/geos/platform.h:71:5: warning: #warning "Could not find
 64bit integer definition!"
 In file included from ../../../include/geos/geom/Coordinate.h:160,
                  from ../../../include/geos/geom/LineSegment.h:25,
                  from ../../../src/geom/LineSegment.cpp:21:
 ../../../include/geos/geom/Coordinate.inl: In static member function
 'static int geos::geom::Coordinate::hashCode(double)':
 ../../../include/geos/geom/Coordinate.inl:108: warning: right shift count
 >= width of type
 In file included from ../../../src/geom/LineSegment.cpp:25:
 ../../../include/geos/geom/GeometryFactory.h: At global scope:
 ../../../include/geos/geom/GeometryFactory.h:209: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../include/geos/geom/GeometryFactory.h:209: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../include/geos/geom/GeometryFactory.h:258: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../include/geos/geom/GeometryFactory.h:258: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../include/geos/geom/GeometryFactory.h:306: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 libtool: compile:  arm-linux-androideabi-g++ -DHAVE_CONFIG_H -I.
 -I../../../src/geom -I../../include -I../../include/geos
 -I../../../include -DGEOS_INLINE -pedantic -Wall -ansi -Wno-long-long
 -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb -std=gnu++0x -MT
 LineSegment.lo -MD -MP -MF .deps/LineSegment.Tpo -c
 ../../../src/geom/LineSegment.cpp -o LineSegment.o >/dev/null 2>&1
 mv -f .deps/LineSegment.Tpo .deps/LineSegment.Plo
 /bin/bash ../../libtool --tag=CXX   --mode=compile arm-linux-
 androideabi-g++ -DHAVE_CONFIG_H -I. -I../../../src/geom -I../../include
 -I../../include/geos -I../../../include    -DGEOS_INLINE  -pedantic -Wall
 -ansi -Wno-long-long  -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb
 -std=gnu++0x  -MT LineString.lo -MD -MP -MF .deps/LineString.Tpo -c -o
 LineString.lo ../../../src/geom/LineString.cpp
 libtool: compile:  arm-linux-androideabi-g++ -DHAVE_CONFIG_H -I.
 -I../../../src/geom -I../../include -I../../include/geos
 -I../../../include -DGEOS_INLINE -pedantic -Wall -ansi -Wno-long-long
 -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb -std=gnu++0x -MT
 LineString.lo -MD -MP -MF .deps/LineString.Tpo -c
 ../../../src/geom/LineString.cpp  -fPIC -DPIC -o .libs/LineString.o
 In file included from ../../../include/geos/geom/Coordinate.h:19,
                  from ../../../src/geom/LineString.cpp:23:
 ../../include/geos/platform.h:71:5: warning: #warning is a GCC extension
 ../../include/geos/platform.h:71:5: warning: #warning "Could not find
 64bit integer definition!"
 In file included from ../../../include/geos/geom/Coordinate.h:160,
                  from ../../../src/geom/LineString.cpp:23:
 ../../../include/geos/geom/Coordinate.inl: In static member function
 'static int geos::geom::Coordinate::hashCode(double)':
 ../../../include/geos/geom/Coordinate.inl:108: warning: right shift count
 >= width of type
 In file included from ../../../src/geom/LineString.cpp:31:
 ../../../include/geos/geom/GeometryFactory.h: At global scope:
 ../../../include/geos/geom/GeometryFactory.h:209: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../include/geos/geom/GeometryFactory.h:258: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../include/geos/geom/GeometryFactory.h:306: warning: 'auto_ptr' is
 deprecated (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 In file included from ../../../src/geom/LineString.cpp:33:
 ../../../include/geos/geom/Point.h:167: warning: 'auto_ptr' is deprecated
 (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../src/geom/LineString.cpp:96: warning: 'auto_ptr' is deprecated
 (declared at
 /home/marco/dev/necessitas/android-9-standalonetoolchain/bin/../lib/gcc
 /arm-linux-androideabi/4.4.3/../../../../arm-linux-
 androideabi/include/c++/4.4.3/backward/auto_ptr.h:86)
 ../../../src/geom/LineString.cpp: In member function 'virtual
 std::auto_ptr<geos::geom::Envelope>
 geos::geom::LineString::computeEnvelopeInternal() const':
 ../../../src/geom/LineString.cpp:250: internal compiler error:
 Segmentation fault
 Please submit a full bug report,
 with preprocessed source if appropriate.
 See <http://gcc.gnu.org/bugs.html> for instructions.
 make[3]: *** [LineString.lo] Error 1
 make[3]: Leaving directory `/home/marco/dev/qgis-android/src/geos-svn
 /build-armeabi/src/geom'
 make[2]: *** [check-recursive] Error 1
 make[2]: Leaving directory `/home/marco/dev/qgis-android/src/geos-svn
 /build-armeabi/src/geom'
 make[1]: *** [check-recursive] Error 1
 make[1]: Leaving directory `/home/marco/dev/qgis-android/src/geos-svn
 /build-armeabi/src'
 make: *** [check-recursive] Error 1

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/534#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu May  3 10:52:05 2012
From: geos-trac at osgeo.org (GEOS)
Date: Thu May  3 10:52:33 2012
Subject: [geos-devel] [GEOS] #535: error running make check
Message-ID: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>

#535: error running make check
-------------------------+--------------------------------------------------
 Reporter:  aaronharris  |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 i have just installed from source version 3.3.3 on centos64.  I am getting
 the following error when running make check.  Is there a dependency that I
 missed?


 make[3]: Entering directory
 `/usr/local/src/geos-3.3.3/geos-3.3.3/tests/xmltester'
 lt-XMLTester: GeometryComponentFilter.cpp:35: virtual void
 geos::geom::GeometryComponentFilter::filter_ro(const
 geos::geom::Geometry*): Assertion `0' failed.
 ./testrunner: line 2: 19874 Aborted                 (core dumped)
 ./XMLTester -v --test-valid-output ./tests/testLeaksBig.xml
 ./tests/split.xml ./tests/hexwkb.xml ./tests/test.xml
 ./tests/linemerge.xml ./tests/TestIsValid.xml ./tests/robustness.xml
 ./tests/buffer.xml ./tests/singlesidedbuffer.xml ./tests/ticket/bug176.xml
 ./tests/ticket/bug188.xml ./tests/ticket/bug244.xml
 ./tests/ticket/bug275.xml ./tests/ticket/bug350.xml
 ./tests/ticket/bug356.xml ./tests/ticket/bug358.xml
 ./tests/ticket/bug360.xml ./tests/ticket/bug366.xml
 ./tests/ticket/bug392.xml ./tests/ticket/bug398.xml
 ./tests/ticket/bug434.xml ./tests/ticket/bug488.xml
 ./tests/general/TestBoundary.xml ./tests/general/TestBuffer.xml
 ./tests/general/TestBufferMitredJoin.xml ./tests/general/TestCentroid.xml
 ./tests/general/TestConvexHull.xml ./tests/general/TestConvexHull-big.xml
 ./tests/general/TestDistance.xml ./tests/general/TestFunctionAAPrec.xml
 ./tests/general/TestFunctionAA.xml ./tests/general/TestFunctionLAPrec.xml
 ./tests/general/TestFunctionLA.xml ./tests/general/TestFunctionLLPrec.xml
 ./tests/general/TestFunctionLL.xml ./tests/general/TestFunctionPA.xml
 ./tests/general/TestFunctionPLPrec.xml ./tests/general/TestFunctionPL.xml
 ./tests/general/TestFunctionPP.xml ./tests/general/TestInteriorPoint.xml
 ./tests/general/TestRectanglePredicate.xml
 ./tests/general/TestRelateAA.xml ./tests/general/TestRelateLA.xml
 ./tests/general/TestRelateLL.xml ./tests/general/TestRelatePL.xml
 ./tests/general/TestRelateAC.xml ./tests/general/TestRelateLC.xml
 ./tests/general/TestRelatePA.xml ./tests/general/TestRelatePP.xml
 ./tests/general/TestSimple.xml ./tests/general/TestUnaryUnion.xml
 ./tests/general/TestUnaryUnionFloating.xml ./tests/general/TestValid.xml
 ./tests/general/TestValid2.xml ./tests/general/TestValid2-big.xml
 ./tests/general/TestWithinDistance.xml ./tests/stmlf/stmlf-
 cases-20061020.xml ./tests/stmlf/stmlf-cases-20061020-invalid-output.xml
 ./tests/stmlf/stmlf-cases-20070119.xml
 ./tests/robust/TestRobustOverlayFixed.xml
 ./tests/robust/TestRobustRelate.xml ./tests/fme.xml
 ./tests/TestBufferExternal.xml ./tests/TestBufferExternal2.xml
 ./tests/heisenbugs.xml ./tests/badguy3.xml ./tests/hole_from_shell.xml
 ./tests/hole_red.xml ./tests/safe/16595.xml ./tests/safe/16596.xml
 ./tests/safe/TestBufferJagged.xml
 FAIL: testrunner
 ==================
 1 of 1 test failed
 ==================
 make[3]: *** [check-TESTS] Error 1
 make[3]: Leaving directory
 `/usr/local/src/geos-3.3.3/geos-3.3.3/tests/xmltester'
 make[2]: *** [check-am] Error 2
 make[2]: Leaving directory
 `/usr/local/src/geos-3.3.3/geos-3.3.3/tests/xmltester'
 make[1]: *** [check-recursive] Error 1
 make[1]: Leaving directory `/usr/local/src/geos-3.3.3/geos-3.3.3/tests'
 make: *** [check-recursive] Error 1

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/535>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu May  3 13:35:08 2012
From: geos-trac at osgeo.org (GEOS)
Date: Thu May  3 13:35:29 2012
Subject: [geos-devel] Re: [GEOS] #534: Cross compile trunk for android
In-Reply-To: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
References: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
Message-ID: <061.c04284a9d608a963dbdd0010925846ab@osgeo.org>

#534: Cross compile trunk for android
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.3.4                     
Component:  Default       |     Version:  svn-trunk                 
 Severity:  Significant   |    Keywords:  android                   
--------------------------+-------------------------------------------------

Comment(by mbernasocchi):

 adding CXXFLAGS=-DHAVE_LONG_LONG_INT_64 makes the  #warning "Could not
 find 64bit integer definition!" go away and build goes further until:

 libtool: compile:  arm-linux-androideabi-g++ -DHAVE_CONFIG_H -I.
 -I../../../src/geom -I../../include -I../../include/geos
 -I../../../include -DGEOS_INLINE -pedantic -Wall -ansi -Wno-long-long
 -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb -std=gnu++0x
 -DHAVE_LONG_LONG_INT_64 -MT MultiPoint.lo -MD -MP -MF .deps/MultiPoint.Tpo
 -c ../../../src/geom/MultiPoint.cpp  -fPIC -DPIC -o .libs/MultiPoint.o
 ../../../src/geom/LineString.cpp: In member function
 'std::auto_ptr<geos::geom::Envelope>
 geos::geom::LineString::_ZTv0_n252_NK4geos4geom10LineString23computeEnvelopeInternalEv()
 const':
 ../../../src/geom/LineString.cpp:425: internal compiler error: in
 cgraph_mark_reachable_node, at cgraph.c:1105

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/534#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu May  3 13:36:39 2012
From: geos-trac at osgeo.org (GEOS)
Date: Thu May  3 13:37:08 2012
Subject: [geos-devel] Re: [GEOS] #534: Cross compile trunk for android
In-Reply-To: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
References: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
Message-ID: <061.dad1c73d15db202fd4204c930a2f2e68@osgeo.org>

#534: Cross compile trunk for android
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.3.4                     
Component:  Default       |     Version:  svn-trunk                 
 Severity:  Significant   |    Keywords:  android                   
--------------------------+-------------------------------------------------

Comment(by mbernasocchi):

 as well please note that with the same script and flags 3.2.2 (patched
 against bug # 222) compiles succesfully

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/534#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri May  4 02:55:08 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May  4 02:55:59 2012
Subject: [geos-devel] Re: [GEOS] #534: Cross compile trunk for android
In-Reply-To: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
References: <052.1e69e287c2bfd8a92a17e2c09c87f197@osgeo.org>
Message-ID: <061.40e2a7c89bc7c2d1040237b133345fea@osgeo.org>

#534: Cross compile trunk for android
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.3.4                     
Component:  Default       |     Version:  svn-trunk                 
 Severity:  Significant   |    Keywords:  android                   
--------------------------+-------------------------------------------------

Comment(by strk):

 I see the cross-compiling error is part of the macro (which is taken from
 postgresql, btw):
 {{{
 AC_TRY_RUN(
 ...
 dnl We will do better here with Autoconf 2.50
 AC_MSG_WARN([64 bit arithmetic disabled when cross-compiling])])])
 }}}

 Are you saying you didn't get that message with 3.2.2 ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/534#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri May  4 04:43:52 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May  4 04:44:44 2012
Subject: [geos-devel] [GEOS] #537: LineString.cpp:251: internal compiler
 error: Segmentation fault
Message-ID: <052.d4e0de7189f751d4524a8abf63fa1753@osgeo.org>

#537: LineString.cpp:251: internal compiler error: Segmentation fault
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.3.4                     
Component:  Default       |     Version:  3.3.3                     
 Severity:  Critical      |    Keywords:  android                   
--------------------------+-------------------------------------------------
 when crosscompiling 3.3 branch for android I get: (please note that using
 the same flags I could compile 3.2.2)
 {{{
 /bin/bash ../../libtool --tag=CXX   --mode=compile arm-linux-
 androideabi-g++ -DHAVE_CONFIG_H -I. -I../../../src/geom -I../../include
 -I../../include/geos -I../../../include    -DGEOS_INLINE  -pedantic -Wall
 -ansi -Wno-long-long  -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb
 -std=gnu++0x  -MT MultiPoint.lo -MD -MP -MF .deps/MultiPoint.Tpo -c -o
 MultiPoint.lo ../../../src/geom/MultiPoint.cpp
 libtool: compile:  arm-linux-androideabi-g++ -DHAVE_CONFIG_H -I.
 -I../../../src/geom -I../../include -I../../include/geos
 -I../../../include -DGEOS_INLINE -pedantic -Wall -ansi -Wno-long-long
 -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb -std=gnu++0x -MT
 MultiPoint.lo -MD -MP -MF .deps/MultiPoint.Tpo -c
 ../../../src/geom/MultiPoint.cpp  -fPIC -DPIC -o .libs/MultiPoint.o
 libtool: compile:  arm-linux-androideabi-g++ -DHAVE_CONFIG_H -I.
 -I../../../src/geom -I../../include -I../../include/geos
 -I../../../include -DGEOS_INLINE -pedantic -Wall -ansi -Wno-long-long
 -ffloat-store -DANDROID=ON -Wno-psabi -O2 -mthumb -std=gnu++0x -MT
 Location.lo -MD -MP -MF .deps/Location.Tpo -c
 ../../../src/geom/Location.cpp -o Location.o >/dev/null 2>&1
 ../../../src/geom/LineString.cpp: In member function 'virtual
 std::auto_ptr<geos::geom::Envelope>
 geos::geom::LineString::computeEnvelopeInternal() const':
 ../../../src/geom/LineString.cpp:251: internal compiler error:
 Segmentation fault
 Please submit a full bug report,
 with preprocessed source if appropriate.
 See <http://gcc.gnu.org/bugs.html> for instructions.
 make[3]: *** [LineString.lo] Error 1
 make[3]: *** Waiting for unfinished jobs....
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/537>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri May  4 10:25:39 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May  4 10:25:54 2012
Subject: [geos-devel] [GEOS] #538: GeometryNoder.cpp/.h #include directives
	incorrect
Message-ID: <054.be6d2a931dce4f351eab8a96f41f845b@osgeo.org>

#538: GeometryNoder.cpp/.h #include directives incorrect
----------------------------+-----------------------------------------------
 Reporter:  ChiefDanGeorge  |       Owner:  geos-devel@?              
     Type:  defect          |      Status:  new                       
 Priority:  major           |   Milestone:  3.3.4                     
Component:  Default         |     Version:  3.3.3                     
 Severity:  Unassigned      |    Keywords:                            
----------------------------+-----------------------------------------------
 Grabbed the latest trunk from svn and when using cmake and then make,
 GeometryNoder.cpp errors out due to missing directory in the #include
 directives.
 For example in the trunk the #includes are similiar to:
 #include <noding/GeometryNoder.h>

 my fix was to prepend geos/:
 #include <geos/noding/GeometryNoder.h>

 GeometryNoder.h also had an #include missing the geos/ directory.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/538>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri May  4 10:51:29 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May  4 10:52:13 2012
Subject: [geos-devel] Re: [GEOS] #538: GeometryNoder.cpp/.h #include
	directives incorrect
In-Reply-To: <054.be6d2a931dce4f351eab8a96f41f845b@osgeo.org>
References: <054.be6d2a931dce4f351eab8a96f41f845b@osgeo.org>
Message-ID: <063.e2575620f90e3707fe63311c603ec254@osgeo.org>

#538: GeometryNoder.cpp/.h #include directives incorrect
----------------------------+-----------------------------------------------
 Reporter:  ChiefDanGeorge  |        Owner:  geos-devel@?              
     Type:  defect          |       Status:  closed                    
 Priority:  major           |    Milestone:  3.4.0                     
Component:  Default         |      Version:  svn-trunk                 
 Severity:  Unassigned      |   Resolution:  fixed                     
 Keywords:                  |  
----------------------------+-----------------------------------------------
Changes (by strk):

  * status:  new => closed
  * version:  3.3.3 => svn-trunk
  * resolution:  => fixed
  * milestone:  3.3.4 => 3.4.0


Comment:

 Fixed in r3619 -- thanks

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/538#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri May  4 10:56:46 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May  4 10:57:00 2012
Subject: [geos-devel] [GEOS] #539: Generate unversioned libs for android
Message-ID: <052.ca085e2c3069fa0985dc05b68ce10cc6@osgeo.org>

#539: Generate unversioned libs for android
--------------------------+-------------------------------------------------
 Reporter:  mbernasocchi  |       Owner:  geos-devel@?              
     Type:  enhancement   |      Status:  new                       
 Priority:  minor         |   Milestone:  GEOS Future               
Component:  Default       |     Version:  3.3.3                     
 Severity:  Annoyance     |    Keywords:                            
--------------------------+-------------------------------------------------
 as explained in [http://www.bernawebdesign.ch/byteblog/2011/11/23
 /creating-non-versioned-shared-libraries-for-android/] android supports no
 unversioed libs. I wrote a patch for libtool more than 5months ago and got
 no answer. here a patch for the generated configure

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/539>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri May  4 11:49:15 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May  4 11:49:58 2012
Subject: [geos-devel] [GEOS] #540: C-API: Allow passing custom memory
	managment functions
Message-ID: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>

#540: C-API: Allow passing custom memory managment functions
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 We could take custom allocator and deallocator functions for use while
 using the C-API. Doing so PostGIS (for example) could use the memory
 poolers provided by PostgreSQL catching any leak at statement end and also
 allowing for query interruption (see
 http://trac.osgeo.org/postgis/ticket/1802)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/540>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sat May  5 11:59:28 2012
From: geos-trac at osgeo.org (GEOS)
Date: Sat May  5 12:00:02 2012
Subject: [geos-devel] Re: [GEOS] #540: C-API: Allow passing custom memory
 managment functions
In-Reply-To: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
References: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
Message-ID: <053.ea30e94fc8009e5a16af09eebe17cddd@osgeo.org>

#540: C-API: Allow passing custom memory managment functions
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by pramsey):

 I did this once upon a time because I thought it was the only way to stop
 leakage in the prepared geometry code. It mostly worked (though I was
 plenty worried about it) with the exception of the global geometryfactory
 declared in the capi which persistently got instantiated in system memory,
 not in the postgres pools.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/540#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sat May  5 12:42:11 2012
From: geos-trac at osgeo.org (GEOS)
Date: Sat May  5 12:42:33 2012
Subject: [geos-devel] Re: [GEOS] #540: C-API: Allow passing custom memory
 managment functions
In-Reply-To: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
References: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
Message-ID: <053.c270c6d827dca4f08623484e9e80dfd6@osgeo.org>

#540: C-API: Allow passing custom memory managment functions
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 I wouldn't be too much concerned about system vs. postgresql, things
 shouldn't get worst than they are in that respect. What concerns me more
 is speed. My early tests show that allocation functions are called _a_lot_
 for very small amount of bytes (often 4!). Didn't test the actual effects
 of using palloc and friends about that.

 Oh, another thing is that alloc/dealloc callbacks can't be per-thread, but
 we can't do much about it.

 Hey, aren't the above limitation minor for the plus of possibly
 interrupting an ST_Buffer ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/540#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sun May  6 07:03:07 2012
From: geos-trac at osgeo.org (GEOS)
Date: Sun May  6 07:03:34 2012
Subject: [geos-devel] Re: [GEOS] #535: error running make check
In-Reply-To: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
References: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
Message-ID: <060.3e6413cc45b6b1fe3ecb54666db9b6a1@osgeo.org>

#535: error running make check
-------------------------+--------------------------------------------------
 Reporter:  aaronharris  |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by pramsey):

 Same error on Centos x64 here, Centos 6.2, gcc 4.4.6

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/535#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue May  8 12:51:37 2012
From: geos-trac at osgeo.org (GEOS)
Date: Tue May  8 12:51:41 2012
Subject: [geos-devel] [GEOS] #542: Short circuit C-API overlay operations
Message-ID: <044.7c89bd0d6643c3033352128c0e47842b@osgeo.org>

#542: Short circuit C-API overlay operations
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 I've realized that the C-API overlay operations are NOT using any short-
 circuit. This is because they call BinaryOp directly rather than the
 Geometry methods.

 Since Geometry methods do call BinaryOp right after checking for short-
 circuits it may be a speedup to call those methods instead.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/542>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue May  8 12:52:59 2012
From: geos-trac at osgeo.org (GEOS)
Date: Tue May  8 12:53:09 2012
Subject: [geos-devel] [GEOS] #543: Add short-circuits for
	Geometry->symDifference
Message-ID: <044.1d387996a6b84236f39500beeb5287bf@osgeo.org>

#543: Add short-circuits for Geometry->symDifference
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 There's no envelope-based short-circuit in Geometry->symDifference.

 If two geometries are disjoint their symdifference is the same of their
 union (which is short-circuited instead). See also #542.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/543>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue May  8 13:39:36 2012
From: geos-trac at osgeo.org (GEOS)
Date: Tue May  8 13:39:44 2012
Subject: [geos-devel] Re: [GEOS] #542: Short circuit C-API overlay operations
In-Reply-To: <044.7c89bd0d6643c3033352128c0e47842b@osgeo.org>
References: <044.7c89bd0d6643c3033352128c0e47842b@osgeo.org>
Message-ID: <053.9a2690f275ce0fbff55ca3d1967af739@osgeo.org>

#542: Short circuit C-API overlay operations
-------------------------+--------------------------------------------------
 Reporter:  strk         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  closed                    
 Priority:  major        |    Milestone:  3.3.4                     
Component:  Default      |      Version:  3.3.3                     
 Severity:  Unassigned   |   Resolution:  fixed                     
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 r3620 in 3.3 branch, r3621 in trunk

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/542#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue May  8 14:41:53 2012
From: geos-trac at osgeo.org (GEOS)
Date: Tue May  8 14:42:06 2012
Subject: [geos-devel] Re: [GEOS] #543: Add short-circuits for
	Geometry->symDifference
In-Reply-To: <044.1d387996a6b84236f39500beeb5287bf@osgeo.org>
References: <044.1d387996a6b84236f39500beeb5287bf@osgeo.org>
Message-ID: <053.5b81ab7b2a596ac81a5105283fc0abf2@osgeo.org>

#543: Add short-circuits for Geometry->symDifference
-------------------------+--------------------------------------------------
 Reporter:  strk         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  closed                    
 Priority:  major        |    Milestone:  3.3.4                     
Component:  Default      |      Version:  3.3.3                     
 Severity:  Unassigned   |   Resolution:  fixed                     
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 r3622 in 3.3 branch, r3623 in trunk

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/543#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed May  9 03:14:02 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed May  9 03:14:29 2012
Subject: [geos-devel] [GEOS] #544: Port JTS bugfix and testcases for
 MCIndexSnapRounder / GeometryNoder
Message-ID: <044.6061adbad1d82050cfe07c3617f61255@osgeo.org>

#544: Port JTS bugfix and testcases for MCIndexSnapRounder / GeometryNoder
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 See http://sourceforge.net/mailarchive/message.php?msg_id=29237594

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/544>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed May  9 12:30:08 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed May  9 12:30:16 2012
Subject: [geos-devel] Re: [GEOS] #513: Fix PHP 5.4 compatibility
In-Reply-To: <045.4dfc080feca04930ff080e6b79dfd382@osgeo.org>
References: <045.4dfc080feca04930ff080e6b79dfd382@osgeo.org>
Message-ID: <054.8e89c98440001efdd3ce2a2cc1520005@osgeo.org>

#513: Fix PHP 5.4 compatibility
------------------------+---------------------------------------------------
 Reporter:  voxik       |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 Please try r3624 (in 3.3 branch) or r3625 (in trunk).
 I've slightly modified the patch to have less #ifdefs -- didn't handle to
 simplify the object_properties_init vs. zend_hash_copy using a macro, if
 you can I'm ready to update (and test on PHP 5.3)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/513#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed May  9 13:58:58 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed May  9 13:59:49 2012
Subject: [geos-devel] Re: [GEOS] #510: TopologyPreservingSimplifier
 returning invalid output
In-Reply-To: <044.2b08e1a5ad66d16af2b382d4c876128b@osgeo.org>
References: <044.2b08e1a5ad66d16af2b382d4c876128b@osgeo.org>
Message-ID: <053.88b1d1504474d945b2a3a513277c3d57@osgeo.org>

#510: TopologyPreservingSimplifier returning invalid output
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  duplicate                 
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => duplicate


Comment:

 duplicate of #508

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/510#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed May  9 14:02:55 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed May  9 14:03:08 2012
Subject: [geos-devel] Re: [GEOS] #508: TopologyPreservingSimplifier creates
 invalid line from closed line
In-Reply-To: <044.2801226cbba103e51e0464f7cb00011d@osgeo.org>
References: <044.2801226cbba103e51e0464f7cb00011d@osgeo.org>
Message-ID: <053.6f7eb3d41b2d2d4106bc7cf5e275da8f@osgeo.org>

#508: TopologyPreservingSimplifier creates invalid line from closed line
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 r3626 in 3.3 branch, r3627 in trunk

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/508#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed May  9 14:04:19 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed May  9 14:04:37 2012
Subject: [geos-devel] Re: [GEOS] #508: TopologyPreservingSimplifier creates
 invalid line from closed line
In-Reply-To: <044.2801226cbba103e51e0464f7cb00011d@osgeo.org>
References: <044.2801226cbba103e51e0464f7cb00011d@osgeo.org>
Message-ID: <053.39f332aa4a5bfffd0c4a245ccdbfad4e@osgeo.org>

#508: TopologyPreservingSimplifier creates invalid line from closed line
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by strk):

 For the record, as reported in #510 this was fixed in JTS with its
 revision 536

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/508#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon May 14 13:22:07 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon May 14 13:22:26 2012
Subject: [geos-devel] [GEOS] #545: Slow Polygonize operation with big polygon
Message-ID: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>

#545: Slow Polygonize operation with big polygon
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 The attached XML test contains the hexwkb of a multipolygon composed by
 9930 polygons and giving Polygonizer an hard time (30 seconds of
 operations).

 gprof finds about half the time being spent in
 ::operation::polygonize::EdgeRing::isInList
 which is called by
 ::operation::polygonize::EdgeRing::findEdgeRingContaining
 and indeed the code seems to be optimizable (compute the bounding box of
 each ring rather than scanning it over and over again)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/545>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon May 14 13:25:20 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon May 14 13:25:51 2012
Subject: [geos-devel] Re: [GEOS] #545: Slow Polygonize operation with big
	polygon
In-Reply-To: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
References: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
Message-ID: <053.14e1fce75c7156a8bc9c187f9a8c0ac0@osgeo.org>

#545: Slow Polygonize operation with big polygon
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 Attachment didn't work, it's 1.6 MB...
 It's temporarily available here:
 http://strk.keybit.net/tmp/SlowPolygonize.hexwkb.bz2

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/545#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon May 14 13:38:37 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon May 14 13:38:57 2012
Subject: [geos-devel] Re: [GEOS] #545: Slow Polygonize operation with big
	polygon
In-Reply-To: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
References: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
Message-ID: <053.8808736ae1352b06c140291b6de6c470@osgeo.org>

#545: Slow Polygonize operation with big polygon
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 There seems to be a bug in ptNotInList too !
 I wonder how to trigger it, but ptNotInList seems to be returning a point
 _in_ the list rather than a point _not_ in the list!

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/545#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon May 14 15:06:52 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon May 14 15:07:04 2012
Subject: [geos-devel] Re: [GEOS] #545: Slow Polygonize operation with big
	polygon
In-Reply-To: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
References: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
Message-ID: <053.fdde4c065e7e2ce73b6828bda96a8ae0@osgeo.org>

#545: Slow Polygonize operation with big polygon
-------------------------+--------------------------------------------------
 Reporter:  strk         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  closed                    
 Priority:  major        |    Milestone:  3.3.4                     
Component:  Default      |      Version:  3.3.3                     
 Severity:  Unassigned   |   Resolution:  fixed                     
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 r3628 in 3.3 branch and r3629 in trunk speeds this up to run in 4 seconds
 rather than 30 (~8x).

 I've filed #545 for the possible bug spotted during profiling this.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/545#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon May 14 15:15:26 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon May 14 15:16:01 2012
Subject: [geos-devel] [GEOS] #546: polygonize::EdgeRing::ptNotInList bug ?
Message-ID: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>

#546: polygonize::EdgeRing::ptNotInList bug ?
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 The current polygonize::EdgeRing::ptNotInList seems to be calling
 EdgeRing::isInList in the wrong way (not negating its return code).

 JTS does it the other way (negates its return code).

 There's no test failing, which doesn't help.
 The first step would be producing a failing test case
 Martin: can you help with that?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/546>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon May 14 19:29:28 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon May 14 19:29:51 2012
Subject: [geos-devel] Re: [GEOS] #545: Slow Polygonize operation with big
	polygon
In-Reply-To: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
References: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
Message-ID: <053.48a706f0fd776c0b90537d5993650dd0@osgeo.org>

#545: Slow Polygonize operation with big polygon
-------------------------+--------------------------------------------------
 Reporter:  strk         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  closed                    
 Priority:  major        |    Milestone:  3.3.4                     
Component:  Default      |      Version:  3.3.3                     
 Severity:  Unassigned   |   Resolution:  fixed                     
 Keywords:               |  
-------------------------+--------------------------------------------------

Comment(by mwtoews):

 Replying to [comment:3 strk]:
 > I've filed #545 for the possible bug spotted during profiling this.
 Correction: see #546

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/545#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From mtnclimb at telus.net  Tue May 15 01:18:12 2012
From: mtnclimb at telus.net (Martin Davis)
Date: Tue May 15 01:36:31 2012
Subject: [geos-devel] [GEOS] #546: polygonize::EdgeRing::ptNotInList bug ?
In-Reply-To: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>
References: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>
Message-ID: <4FB1E714.4070204@telus.net>

Actually this code is no longer used in JTS, and should be deprecated.  
It's been refactored into CoordinateArrays (for which there is a unit test).

Even better would be a polygonize test which triggered this failure.  
There isn't such a test case in JTS, however.

On 5/14/2012 12:15 PM, GEOS wrote:
> #546: polygonize::EdgeRing::ptNotInList bug ?
> ------------------------+---------------------------------------------------
>   Reporter:  strk        |       Owner:  geos-devel@?
>       Type:  defect      |      Status:  new
>   Priority:  major       |   Milestone:  3.3.4
> Component:  Default     |     Version:  3.3.3
>   Severity:  Unassigned  |    Keywords:
> ------------------------+---------------------------------------------------
>   The current polygonize::EdgeRing::ptNotInList seems to be calling
>   EdgeRing::isInList in the wrong way (not negating its return code).
>
>   JTS does it the other way (negates its return code).
>
>   There's no test failing, which doesn't help.
>   The first step would be producing a failing test case
>   Martin: can you help with that?
>
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
>
> -----
> No virus found in this message.
> Checked by AVG - www.avg.com
> Version: 2012.0.2171 / Virus Database: 2425/4998 - Release Date: 05/14/12
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/geos-devel/attachments/20120514/3877dc47/attachment.html
From mtnclimb at telus.net  Tue May 15 01:19:08 2012
From: mtnclimb at telus.net (Martin Davis)
Date: Tue May 15 01:36:34 2012
Subject: [geos-devel] [GEOS] #545: Slow Polygonize operation with big
	polygon
In-Reply-To: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
References: <044.51fab24d7567baf3951a4846d140ee3d@osgeo.org>
Message-ID: <4FB1E74C.3060405@telus.net>

Good find.  This was fixed in the JTS Overlay code, but not in the 
Polygonizer.  I'll fix it in JTS too.

On 5/14/2012 10:22 AM, GEOS wrote:
> #545: Slow Polygonize operation with big polygon
> -------------------------+--------------------------------------------------
>   Reporter:  strk         |       Owner:  geos-devel@?
>       Type:  enhancement  |      Status:  new
>   Priority:  major        |   Milestone:  3.3.4
> Component:  Default      |     Version:  3.3.3
>   Severity:  Unassigned   |    Keywords:
> -------------------------+--------------------------------------------------
>   The attached XML test contains the hexwkb of a multipolygon composed by
>   9930 polygons and giving Polygonizer an hard time (30 seconds of
>   operations).
>
>   gprof finds about half the time being spent in
>   ::operation::polygonize::EdgeRing::isInList
>   which is called by
>   ::operation::polygonize::EdgeRing::findEdgeRingContaining
>   and indeed the code seems to be optimizable (compute the bounding box of
>   each ring rather than scanning it over and over again)
>
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
>
> -----
> No virus found in this message.
> Checked by AVG - www.avg.com
> Version: 2012.0.2171 / Virus Database: 2425/4998 - Release Date: 05/14/12
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/geos-devel/attachments/20120514/7c9da4e8/attachment-0001.html
From JFORMONT at siradel.com  Tue May 15 04:44:02 2012
From: JFORMONT at siradel.com (Jasmin FORMONT)
Date: Tue May 15 04:44:49 2012
Subject: [geos-devel] Linestring intersection on vertex
Message-ID: <4DDD462E988B52488DA728A04EF7C57454DEFDAA00@Eucles.Siradel.local>

Hi everyone

I'd like to know if there is an efficient way to know if two linestrings intersect at a common vertex. What I'm currently doing is like this :

-          Test if linestrings intersect

-          Is the intersection a point ?

-          If it's a point, is it a vertex of both linestrings (which is the slow part for long linestrings) ?

Do you know a faster way to achieve this result ?

Many thanks

________________________________

This document is considered to be confidential and proprietary information of SIRADEL. Information enclosed may not be revealed to any other parties without the express written consent of SIRADEL. If you do not agree to these terms, please notify SIRADEL and destroy this document.
The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/geos-devel/attachments/20120515/f3a03a96/attachment.html
From geos-trac at osgeo.org  Tue May 15 16:14:50 2012
From: geos-trac at osgeo.org (GEOS)
Date: Tue May 15 16:14:57 2012
Subject: [geos-devel] [GEOS] #548: expose BufferInputLineSimplifier
Message-ID: <044.d3857d0afd57d5cbf940e81f0ce339e0@osgeo.org>

#548: expose BufferInputLineSimplifier
------------------------+---------------------------------------------------
 Reporter:  ylan        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 geos::operation::buffer::BufferInputLineSimplifier is mentioned in the C++
 documentation. But the header file is missing from the include directory.
 So you can not actually use it (right?)

 I moved the header file from the src dir to the include dir, changed the
 corresponding references and recompiled, this works and I'm using this in
 a program now.
 Is this a sufficient fix? If so I'll try to prepare a patch.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/548>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue May 15 16:55:27 2012
From: geos-trac at osgeo.org (GEOS)
Date: Tue May 15 16:56:12 2012
Subject: [geos-devel] Re: [GEOS] #548: expose BufferInputLineSimplifier
In-Reply-To: <044.d3857d0afd57d5cbf940e81f0ce339e0@osgeo.org>
References: <044.d3857d0afd57d5cbf940e81f0ce339e0@osgeo.org>
Message-ID: <053.11ae6697b91aad0780c42d8e75e7e069@osgeo.org>

#548: expose BufferInputLineSimplifier
------------------------+---------------------------------------------------
 Reporter:  ylan        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Yes, it's a sufficient "fix".

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/548#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed May 16 08:21:29 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed May 16 08:22:11 2012
Subject: [geos-devel] Re: [GEOS] #540: C-API: Allow passing custom memory
 managment functions
In-Reply-To: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
References: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
Message-ID: <053.e2c4252e8e592374d92a5f2e3e24c3fe@osgeo.org>

#540: C-API: Allow passing custom memory managment functions
-------------------------+--------------------------------------------------
 Reporter:  strk         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  closed                    
 Priority:  major        |    Milestone:  3.4.0                     
Component:  Default      |      Version:  svn-trunk                 
 Severity:  Unassigned   |   Resolution:  fixed                     
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 r3631 implements this by exposing GEOS_setAllocator and GEOS_setFreer
 functions.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/540#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed May 16 18:31:42 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed May 16 18:32:23 2012
Subject: [geos-devel] [GEOS] #549: Solaris 9 - fully qualified binaryop()
	calls needed
Message-ID: <049.67da0847190047dd266f985158b50951@osgeo.org>

#549: Solaris 9 -  fully qualified binaryop() calls needed
------------------------+---------------------------------------------------
 Reporter:  tmitchell   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 When building (3.3.2) on Solaris 9, we were getting...

 {{{
 CC: Warning: Option -pedantic passed to ld, if ld is invoked, ignored
 otherwise
 "../include/geos/index/strtree/AbstractSTRtree.h", line 198: Warning:
 nodes hides geos::index::strtree::AbstractSTRtree::nodes.
 "../include/geos/algorithm/distance/DiscreteHausdorffDistance.h", line
 227: Warning: g0 hides
 geos::algorithm::distance::DiscreteHausdorffDistance::g0.
 "../include/geos/algorithm/distance/DiscreteHausdorffDistance.h", line
 227: Warning: g1 hides
 geos::algorithm::distance::DiscreteHausdorffDistance::g1.
 "geos_ts_c.cpp", line 1608: Error: BinaryOp is not defined.
 "geos_ts_c.cpp", line 1609: Error: extern "C"
 std::auto_ptr<geos::geom::Geometry>(*)() is not a structure type.
 "geos_ts_c.cpp", line 1853: Error: BinaryOp is not defined.
 "geos_ts_c.cpp", line 1854: Error: extern "C"
 std::auto_ptr<geos::geom::Geometry>(*)() is not a structure type.
 4 Error(s) and 3 Warning(s) detected.
 *** Error code 1
 make: Fatal error: Command failed for target `libgeos_c_la-geos_ts_c.lo'

 }}}

 We made a tweak to {{{capi/geos_ts_c.cpp}}}, making fully qualified
 {{{BinaryOp()}}} calls with {{{geos::geom::BinaryOp()}}}.

 This resolved compilation errors on Solaris 9.  Hope that helps future
 releases.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/549>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sun May 20 09:24:55 2012
From: geos-trac at osgeo.org (GEOS)
Date: Sun May 20 09:25:26 2012
Subject: [geos-devel] [GEOS] #551: Segfault in Distance functions
Message-ID: <047.fab07f7bbc00fad7381958b672033470@osgeo.org>

#551: Segfault in Distance functions
------------------------+---------------------------------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 In Centos 6, 64bit,
 {{{
 ./XMLTester ./tests/general/TestWithinDistance.xml
 }}}
 also in the TestDistance.xml function. Backtrace:
 {{{
 Program received signal SIGABRT, Aborted.
 0x00110424 in __kernel_vsyscall ()
 Missing separate debuginfos, use: debuginfo-install
 glibc-2.12-1.47.el6_2.9.i686 libgcc-4.4.6-3.el6.i686
 libstdc++-4.4.6-3.el6.i686
 (gdb) bt
 #0  0x00110424 in __kernel_vsyscall ()
 #1  0x00492af1 in raise () from /lib/libc.so.6
 #2  0x004943ca in abort () from /lib/libc.so.6
 #3  0x0048bdcb in __assert_fail_base () from /lib/libc.so.6
 #4  0x0048be86 in __assert_fail () from /lib/libc.so.6
 #5  0x0033637d in
 geos::geom::GeometryComponentFilter::filter_ro(geos::geom::Geometry
 const*) ()
    from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #6  0x003409ef in
 geos::geom::Point::apply_ro(geos::geom::GeometryComponentFilter*) const ()
    from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #7  0x003a4a33 in
 geos::operation::distance::DistanceOp::computeFacetDistance() ()
    from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #8  0x003a4e0b in
 geos::operation::distance::DistanceOp::computeMinDistance() ()
    from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #9  0x003a50f1 in geos::operation::distance::DistanceOp::distance() ()
    from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #10 0x003a5449 in
 geos::operation::distance::DistanceOp::distance(geos::geom::Geometry
 const*, geos::geom::Geometry const*) () from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #11 0x0032fa45 in geos::geom::Geometry::distance(geos::geom::Geometry
 const*) const ()
    from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #12 0x00330511 in
 geos::geom::Geometry::isWithinDistance(geos::geom::Geometry const*,
 double) const ()
    from
 /home/pramsey/suite/installer/linux/rpm/rpmbuild/BUILD/geos-3.3.3/src/.libs/libgeos-3.3.3.so
 #13 0x0805250e in XMLTester::parseTest (this=0xbffff10c, node=0x806b308)
 at XMLTester.cpp:1153
 #14 0x0805409c in XMLTester::parseCase (this=0xbffff10c, node=0x806afc0)
 at XMLTester.cpp:644
 #15 0x080546bc in XMLTester::parseRun (this=0xbffff10c, node=0x806ad60) at
 XMLTester.cpp:449
 #16 0x08054c4c in XMLTester::run (this=0xbffff10c,
 source="./tests/general/TestWithinDistance.xml") at XMLTester.cpp:399
 #17 0x080550f5 in main (argC=2, argV=0xbffff274) at XMLTester.cpp:1507
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/551>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon May 21 11:20:14 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon May 21 11:20:33 2012
Subject: [geos-devel] Re: [GEOS] #546: polygonize::EdgeRing::ptNotInList bug
	?
In-Reply-To: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>
References: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>
Message-ID: <053.2af1658b9ab1b029b0ebaab33aef97a0@osgeo.org>

#546: polygonize::EdgeRing::ptNotInList bug ?
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 JTS code using ptNotInList was refactored in revision 607, to be ported
 over

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/546#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From strk at keybit.net  Tue May 22 09:54:39 2012
From: strk at keybit.net (Sandro Santilli)
Date: Tue May 22 09:54:59 2012
Subject: [geos-devel] git mirror
Message-ID: <20120522135439.GE7092@gnash>

I've setup a more complete hourly git mirror on
https://github.com/libgeos/libgeos

This time it should have all branches and all tags
(and all author names).

It'll be updated hourly.
Replaces the (partial) mirror on https://github.com/strk/geos

--strk; 

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net - http://vizzuality.com
  `-o------'

From geos-trac at osgeo.org  Fri May 25 08:19:41 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May 25 08:20:37 2012
Subject: [geos-devel] Re: [GEOS] #540: C-API: Allow passing custom memory
 managment functions
In-Reply-To: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
References: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
Message-ID: <053.8995ac712399ce2d630d1c1d1946b4d2@osgeo.org>

#540: C-API: Allow passing custom memory managment functions
-------------------------+--------------------------------------------------
 Reporter:  strk         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  reopened                  
 Priority:  major        |    Milestone:  3.4.0                     
Component:  Default      |      Version:  svn-trunk                 
 Severity:  Unassigned   |   Resolution:                            
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by strk):

  * status:  closed => reopened
  * resolution:  fixed =>


Comment:

 The implementation isn't good in that installs _global_ operator
 new/delete.
 Doing so affects not only GEOS but any other C++ library linked into the
 final application (and the application itself).

 I think I'm going to revert the whole CustomAllocator class and C-API
 interface for it.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/540#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From strk at keybit.net  Fri May 25 08:42:23 2012
From: strk at keybit.net (Sandro Santilli)
Date: Fri May 25 08:43:00 2012
Subject: [geos-devel] New strategy for GEOS interruptability
Message-ID: <20120525124223.GM27878@gnash>

After the bloody fight with custom memory allocators I decided
to change strategy and approached explicit support in GEOS for
interruption requests and a signal handler to trigger it.

It proves effective and much cleaner so far.
I've been testing it by installing an handler for SIGINT straight
into GEOS itself, but I understand that's not a clean way to do
it so before committing I will port the code into PostGIS itself.

On the GEOS side this is another C-API extension, whereas we'll
have GEOS_requestInterrupt() and GEOS_cancelInterrupt() functions
usable from the outside. The functions will set or clear a flag
that will be explicitly checked within the GEOS C++ codebase at
places which are known to be possibly iterated significatively.

Presence of the flag would result in an exception being thrown,
which should supposedly give GEOS all it takes to perform any
appropriate cleanups.

If you want to test the handler-in-geos implementation (which
has the advantage of working with _any_ PostGIS version) you
can do so using this experimental branch:

  git pull git://github.com/strk/libgeos.git svn-trunk-interruptable

The handler is installed on first call to initGEOS time.

I actually wonder if I should just keep the handler in there...

--strk; 

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net - http://vizzuality.com
  `-o------'

From strk at keybit.net  Fri May 25 11:32:33 2012
From: strk at keybit.net (Sandro Santilli)
Date: Fri May 25 11:33:11 2012
Subject: [geos-devel] Re: New strategy for GEOS interruptability
In-Reply-To: <20120525124223.GM27878@gnash>
References: <20120525124223.GM27878@gnash>
Message-ID: <20120525153233.GO27878@gnash>

After more and more testing I find the experiemental approach
actually pretty effective. So much that I'm wondering why not
using it straight away in GEOS-3.3.4 (to be shipped shortly,
coupled with PostGIS-2.0.1).

By requiring NO change in the GEOS-C-API interface (as long as
the SIGINT handler is installed on initGEOS) we don't need to
bump up the GEOS minor version. And the mechanism needs NO
change in PostGIS in order to work.

My only concern is portability of the code installing the signal
handler. 

Anyone up for testing this on MacOS and Win32/65 ?

--strk;

On Fri, May 25, 2012 at 02:42:23PM +0200, Sandro Santilli wrote:
> After the bloody fight with custom memory allocators I decided
> to change strategy and approached explicit support in GEOS for
> interruption requests and a signal handler to trigger it.
> 
> It proves effective and much cleaner so far.
> I've been testing it by installing an handler for SIGINT straight
> into GEOS itself, but I understand that's not a clean way to do
> it so before committing I will port the code into PostGIS itself.
> 
> On the GEOS side this is another C-API extension, whereas we'll
> have GEOS_requestInterrupt() and GEOS_cancelInterrupt() functions
> usable from the outside. The functions will set or clear a flag
> that will be explicitly checked within the GEOS C++ codebase at
> places which are known to be possibly iterated significatively.
> 
> Presence of the flag would result in an exception being thrown,
> which should supposedly give GEOS all it takes to perform any
> appropriate cleanups.
> 
> If you want to test the handler-in-geos implementation (which
> has the advantage of working with _any_ PostGIS version) you
> can do so using this experimental branch:
> 
>   git pull git://github.com/strk/libgeos.git svn-trunk-interruptable
> 
> The handler is installed on first call to initGEOS time.
> 
> I actually wonder if I should just keep the handler in there...
> 
> --strk; 
From geos-trac at osgeo.org  Fri May 25 11:52:35 2012
From: geos-trac at osgeo.org (GEOS)
Date: Fri May 25 11:53:24 2012
Subject: [geos-devel] Re: [GEOS] #540: C-API: Allow passing custom memory
 managment functions
In-Reply-To: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
References: <044.a1c1875eb7e5dc47d1eec72e4f1c2be4@osgeo.org>
Message-ID: <053.008a47209801372f5d8be1cf2e377db2@osgeo.org>

#540: C-API: Allow passing custom memory managment functions
-------------------------+--------------------------------------------------
 Reporter:  strk         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  reopened                  
 Priority:  minor        |    Milestone:  GEOS Future               
Component:  Default      |      Version:  svn-trunk                 
 Severity:  Unassigned   |   Resolution:                            
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by strk):

  * priority:  major => minor
  * milestone:  3.4.0 => GEOS Future


Comment:

 Whole thing reverted with r3647

 Priority reduces with the advent of explicit interruptability (see from
 r3642 on)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/540#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From mateusz at loskot.net  Fri May 25 12:35:32 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri May 25 12:36:35 2012
Subject: [geos-devel] Re: New strategy for GEOS interruptability
In-Reply-To: <20120525153233.GO27878@gnash>
References: <20120525124223.GM27878@gnash> <20120525153233.GO27878@gnash>
Message-ID: <CABUeae8KGCYfkqVxT8WLtYMVbz7A3sWdmS+9frfCSn8VDnnXiw@mail.gmail.com>

On 25 May 2012 16:32, Sandro Santilli <strk@keybit.net> wrote:
> My only concern is portability of the code installing the signal
> handler.

In terms of standards, C89 does specifie signal.h with raise()
and SIGINT signal number, so we should be fine.
But, it needs testing.

> Anyone up for testing this on MacOS and Win32/65 ?

Once I have PostGIS for Windows building, I can test on Windows.
It should be near the next weekend,

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From geos-trac at osgeo.org  Mon May 28 05:18:38 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:18:38 -0000
Subject: [geos-devel] [GEOS] #551: Segfault in Distance functions
In-Reply-To: <047.fab07f7bbc00fad7381958b672033470@osgeo.org>
References: <047.fab07f7bbc00fad7381958b672033470@osgeo.org>
Message-ID: <056.915107fe4a23bf867ceb68b475512f3d@osgeo.org>

#551: Segfault in Distance functions
------------------------+---------------------------------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Sounds like a compiler bug. Can you reproduce with debugging symbols
 on,and maybe different optimization flags ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/551#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:22:00 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:22:00 -0000
Subject: [geos-devel] [GEOS] #517: GEOS Intersection() error w/ test
	case.
In-Reply-To: <047.2a0569822f315088cb3b0d28c1bf0831@osgeo.org>
References: <047.2a0569822f315088cb3b0d28c1bf0831@osgeo.org>
Message-ID: <056.4e63e09a1b704703f5b4d2e39bd2419c@osgeo.org>

#517: GEOS Intersection() error w/ test case.
------------------------+---------------------------------------------------
 Reporter:  andrepl     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.2                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 I can't reproduce the crash with current GEOS svn in 3.3 branch (r3634),
 can you ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/517#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:23:28 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:23:28 -0000
Subject: [geos-devel] [GEOS] #549: Solaris 9 - fully qualified
	binaryop() calls needed
In-Reply-To: <049.67da0847190047dd266f985158b50951@osgeo.org>
References: <049.67da0847190047dd266f985158b50951@osgeo.org>
Message-ID: <058.3121624c87c785d6919f6bc77f8e52fd@osgeo.org>

#549: Solaris 9 -  fully qualified binaryop() calls needed
------------------------+---------------------------------------------------
 Reporter:  tmitchell   |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 As of r3620 there's no more BinaryOp use in the C-API implementation.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/549#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:30:59 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:30:59 -0000
Subject: [geos-devel] [GEOS] #548: expose BufferInputLineSimplifier
In-Reply-To: <044.d3857d0afd57d5cbf940e81f0ce339e0@osgeo.org>
References: <044.d3857d0afd57d5cbf940e81f0ce339e0@osgeo.org>
Message-ID: <053.e694ec6b52c759b77809d3a42a7608ec@osgeo.org>

#548: expose BufferInputLineSimplifier
------------------------+---------------------------------------------------
 Reporter:  ylan        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  minor       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed
  * milestone:  3.3.4 => 3.4.0


Comment:

 Exposed with r3649 . Will be in 3.4.0, not a 3.3 item.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/548#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:43:18 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:43:18 -0000
Subject: [geos-devel] [GEOS] #544: Port JTS bugfix and testcases for
 MCIndexSnapRounder / GeometryNoder
In-Reply-To: <044.6061adbad1d82050cfe07c3617f61255@osgeo.org>
References: <044.6061adbad1d82050cfe07c3617f61255@osgeo.org>
Message-ID: <053.d0f3f03746f2660456e494c8039c64a6@osgeo.org>

#544: Port JTS bugfix and testcases for MCIndexSnapRounder / GeometryNoder
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => 3.4.0


Comment:

 Bumping to 3.4.0 as nothing exposed in the C-API uses MCIndexSnapRounder
 in 3.3.

 For the record, the JTS fix was committed in revision 606

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/544#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:47:09 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:47:09 -0000
Subject: [geos-devel] [GEOS] #546: polygonize::EdgeRing::ptNotInList bug
	?
In-Reply-To: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>
References: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>
Message-ID: <053.c30c5fe6b01092169b32a5493ddf1b1c@osgeo.org>

#546: polygonize::EdgeRing::ptNotInList bug ?
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => 3.4.0


Comment:

 No worth fixing in 3.3 w/out a testcase showing anything wrong..

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/546#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:49:26 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:49:26 -0000
Subject: [geos-devel] [GEOS] #551: Segfault in Distance functions
In-Reply-To: <047.fab07f7bbc00fad7381958b672033470@osgeo.org>
References: <047.fab07f7bbc00fad7381958b672033470@osgeo.org>
Message-ID: <056.1d5e208f5ada785b60701060df3ca1dc@osgeo.org>

#551: Segfault in Distance functions
------------------------+---------------------------------------------------
 Reporter:  pramsey     |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  duplicate                 
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => duplicate


Comment:

 Duplicate of #535

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/551#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:49:32 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:49:32 -0000
Subject: [geos-devel] [GEOS] #535: error running make check
In-Reply-To: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
References: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
Message-ID: <060.5523aefab65696fd0c3e63c361c3f778@osgeo.org>

#535: error running make check
-------------------------+--------------------------------------------------
 Reporter:  aaronharris  |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 See also #551

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/535#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:51:02 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:51:02 -0000
Subject: [geos-devel] [GEOS] #535: GeometryComponentFilter::filter_ro:
 Assertion `0' failed (was: error running make check)
In-Reply-To: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
References: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
Message-ID: <060.2edaff8fe1b82323bad449308f1412b5@osgeo.org>

#535: GeometryComponentFilter::filter_ro: Assertion `0' failed
-------------------------+--------------------------------------------------
 Reporter:  aaronharris  |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.4                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 For the record: this shouldn't happen because the derivate class version
 of the method should be invoked.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/535#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:54:07 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:54:07 -0000
Subject: [geos-devel] [GEOS] #507: Postgres crash in geos 3.3.0 using
 postgis st_buffer function
In-Reply-To: <047.bc0d51feb60f44db8167fac566d86de1@osgeo.org>
References: <047.bc0d51feb60f44db8167fac566d86de1@osgeo.org>
Message-ID: <056.3c8fc9f206d13ef8c9d3400e729a32e4@osgeo.org>

#507: Postgres crash in geos 3.3.0 using postgis st_buffer function
----------------------+-----------------------------------------------------
 Reporter:  luisico   |        Owner:  geos-devel@?              
     Type:  defect    |       Status:  closed                    
 Priority:  minor     |    Milestone:  3.3.4                     
Component:  Default   |      Version:  3.3.0                     
 Severity:  Critical  |   Resolution:  duplicate                 
 Keywords:            |  
----------------------+-----------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => duplicate


Comment:

 I think this is a duplicate of #473, which got fixed in 3.3.2

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/507#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 05:58:53 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 12:58:53 -0000
Subject: [geos-devel] [GEOS] #515: mingw64 make check returns #IND
In-Reply-To: <044.f9004e33c629eadddb90b7cdb2068449@osgeo.org>
References: <044.f9004e33c629eadddb90b7cdb2068449@osgeo.org>
Message-ID: <053.25499f5a56f3964e1331b9a2aac064c9@osgeo.org>

#515: mingw64 make check returns #IND
------------------------+---------------------------------------------------
 Reporter:  robe        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  trivial     |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.2                     
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => wontfix


Comment:

 I'll close this bug as won't fix. I don't personally care about windows so
 unless someone very motivated gives feedback there's no much to do about
 it.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/515#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:00:42 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:00:42 -0000
Subject: [geos-devel] [GEOS] #523: SymDifference between two valid
 geometries return an _invalid_ geometry [JTS fails too]
In-Reply-To: <044.a930774d74a88c51d62a6390e1a0584e@osgeo.org>
References: <044.a930774d74a88c51d62a6390e1a0584e@osgeo.org>
Message-ID: <053.4897e73ed22e1524cb8d58c03397d4db@osgeo.org>

#523: SymDifference between two valid geometries return an _invalid_ geometry
[JTS fails too]
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  3.3.2                     
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => GEOS Future


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/523#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:01:12 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:01:12 -0000
Subject: [geos-devel] [GEOS] #522: Exception on overlay between valid
 linestrings [JTS fails too]
In-Reply-To: <044.cd40b1a0d6ce2f6e498e2ecce1f58682@osgeo.org>
References: <044.cd40b1a0d6ce2f6e498e2ecce1f58682@osgeo.org>
Message-ID: <053.258d944305ea866ee00c3b1691ca8445@osgeo.org>

#522: Exception on overlay between valid linestrings [JTS fails too]
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  3.3.2                     
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => GEOS Future


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/522#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:08:06 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:08:06 -0000
Subject: [geos-devel] [GEOS] #518: GEOS 3.3.2 crashes on MinGW64
In-Reply-To: <047.b01ab5afea3f50a5f2df568d899fe87a@osgeo.org>
References: <047.b01ab5afea3f50a5f2df568d899fe87a@osgeo.org>
Message-ID: <056.5c80e9f0765ffa0ab86ae28b55552e67@osgeo.org>

#518: GEOS 3.3.2 crashes on MinGW64
------------------------+---------------------------------------------------
 Reporter:  esseffe     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  3.3.2                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => GEOS Future


Comment:

 Doesn't look like any developer is going to fix windows runs at any
 predictable time.
 So postponing milestone to generic "future" until someone comes up with a
 fix.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/518#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:09:20 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:09:20 -0000
Subject: [geos-devel] [GEOS] #531: UnaryUnion of an line collapsed to a
 point returns EMPTY
In-Reply-To: <044.1f55e533a01c1b3e0babb3fe44b3d40b@osgeo.org>
References: <044.1f55e533a01c1b3e0babb3fe44b3d40b@osgeo.org>
Message-ID: <053.b87b546d4ed7bc788b2bf499d8b1d994@osgeo.org>

#531: UnaryUnion of an line collapsed to a point returns EMPTY
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => 3.4.0


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/531#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:13:39 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:13:39 -0000
Subject: [geos-devel] [GEOS] #516: platform.h doesn't work right for
	mingw64
In-Reply-To: <044.1ad82d433b870fb5d61da0d89b0f5d98@osgeo.org>
References: <044.1ad82d433b870fb5d61da0d89b0f5d98@osgeo.org>
Message-ID: <053.4879cd77a550f11036509754c1ff9fc1@osgeo.org>

#516: platform.h doesn't work right for mingw64
------------------------+---------------------------------------------------
 Reporter:  robe        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed
  * milestone:  3.3.4 => 3.4.0


Comment:

 There's been a recent fix for the 64bit integer detection in r3618 (trunk
 only, to become 3.4.0)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/516#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:17:59 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:17:59 -0000
Subject: [geos-devel] [GEOS] #509: GEOS crashes on check in MingW GCC
	4.6.2
In-Reply-To: <044.dda502498b4ae989f15504593f1c28c6@osgeo.org>
References: <044.dda502498b4ae989f15504593f1c28c6@osgeo.org>
Message-ID: <053.aca4593d24c611f8d3209dbb4cc62855@osgeo.org>

#509: GEOS crashes on check in MingW GCC 4.6.2
------------------------+---------------------------------------------------
 Reporter:  robe        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Uhm, the NaN test in trunk is protected by:
 {{{
  #if defined(__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
 }}}

 Does it seem a sensible workaround ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/509#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:19:03 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:19:03 -0000
Subject: [geos-devel] [GEOS] #509: GEOS crashes on check in MingW GCC
	4.6.2
In-Reply-To: <044.dda502498b4ae989f15504593f1c28c6@osgeo.org>
References: <044.dda502498b4ae989f15504593f1c28c6@osgeo.org>
Message-ID: <053.d1c852bd0d7a20aa4fc756c8a92c4bd5@osgeo.org>

#509: GEOS crashes on check in MingW GCC 4.6.2
------------------------+---------------------------------------------------
 Reporter:  robe        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.4                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 The code in trunk comes from r3469  committed by Mat specifically to
 workaround VC++ builds...
 Worth backporting ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/509#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon May 28 06:45:29 2012
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 May 2012 13:45:29 -0000
Subject: [geos-devel] [GEOS] #492: DistanceOp result failed
In-Reply-To: <052.9adb1efa6c318e62ef2f8f3f9084cc5e@osgeo.org>
References: <052.9adb1efa6c318e62ef2f8f3f9084cc5e@osgeo.org>
Message-ID: <061.c7faf1ae84939aeed0a1da412ba54cd9@osgeo.org>

#492: DistanceOp result failed
-----------------------------------+----------------------------------------
 Reporter:  xavierraffin           |        Owner:  geos-devel@?              
     Type:  defect                 |       Status:  closed                    
 Priority:  major                  |    Milestone:  3.3.4                     
Component:  Default                |      Version:  3.2.3                     
 Severity:  Unassigned             |   Resolution:  wontfix                   
 Keywords:  DistanceOp , distance  |  
-----------------------------------+----------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => wontfix
  * milestone:  3.2.4 => 3.3.4


Comment:

 No more support for 3.2 branch

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/492#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at keybit.net  Mon May 28 07:17:00 2012
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 28 May 2012 16:17:00 +0200
Subject: [geos-devel] Closing up 3.3.4
Message-ID: <20120528141649.GA17456@gnash>

I'd like to cut a 3.3.4 release, to go along with upcoming PostGIS 2.0.1.

After triaging there are 4 tickets left for the milestone:
http://trac.osgeo.org/geos/query?status=assigned&status=new&status=reopened&milestone=3.3.4

Non would be blocker in my opinion, do you think any is ?
Any other issue you think should be dealt with before shipping 3.3.4 ?

Changes since 3.3.3:

- Bug fixes / improvements
    - Do not abort on NaN overlay input (#530)
    - Reduce CommonBitsRemover harmful effects during overlay op (#527)
    - Better cross-compiler support (#534)
    - Enable overlay ops short-circuits (#542)
    - Envelope-based short-circuit for symDifference (#543)
    - Fix support for PHP 5.4 (#513)
    - Fix TopologyPreservingSimplifier invalid output on closed line (#508)
    - Reduce calls to ptNotInList, greatly speeding up Polygonizer (#545)

-strk;

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net - http://vizzuality.com
  `-o------'


From strk at keybit.net  Mon May 28 07:18:16 2012
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 28 May 2012 16:18:16 +0200
Subject: [geos-devel] [GEOS] #546: polygonize::EdgeRing::ptNotInList bug
 ?
In-Reply-To: <4FB1E714.4070204@telus.net>
References: <044.ecbdcbaef3bc7fee7892bc6b530139c9@osgeo.org>
	<4FB1E714.4070204@telus.net>
Message-ID: <20120528141816.GB17456@gnash>

On Mon, May 14, 2012 at 10:18:12PM -0700, Martin Davis wrote:
> Actually this code is no longer used in JTS, and should be
> deprecated.  It's been refactored into CoordinateArrays (for which
> there is a unit test).

It won't be any soon that it's refactored into CoordinateArrays for
GEOS as well, as we don't have that class at all.

> Even better would be a polygonize test which triggered this failure.
> There isn't such a test case in JTS, however.

The test would be very important to have, but I've no idea which test
would expose the bug...

--strk;

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net - http://vizzuality.com
  `-o------'


From pramsey at opengeo.org  Tue May 29 12:52:54 2012
From: pramsey at opengeo.org (Paul Ramsey)
Date: Tue, 29 May 2012 21:52:54 +0200
Subject: [geos-devel] Closing up 3.3.4
In-Reply-To: <20120528141649.GA17456@gnash>
References: <20120528141649.GA17456@gnash>
Message-ID: <CACowWR3Qh5-qU=6G-0PoGbfm=8hy5o=LpafK8-d4Me5xfeAH1g@mail.gmail.com>

Lots done, punt those issues forward and I am happy to push out a tarball.
P.

On Mon, May 28, 2012 at 4:17 PM, Sandro Santilli <strk at keybit.net> wrote:
> I'd like to cut a 3.3.4 release, to go along with upcoming PostGIS 2.0.1.
>
> After triaging there are 4 tickets left for the milestone:
> http://trac.osgeo.org/geos/query?status=assigned&status=new&status=reopened&milestone=3.3.4
>
> Non would be blocker in my opinion, do you think any is ?
> Any other issue you think should be dealt with before shipping 3.3.4 ?
>
> Changes since 3.3.3:
>
> - Bug fixes / improvements
> ? ?- Do not abort on NaN overlay input (#530)
> ? ?- Reduce CommonBitsRemover harmful effects during overlay op (#527)
> ? ?- Better cross-compiler support (#534)
> ? ?- Enable overlay ops short-circuits (#542)
> ? ?- Envelope-based short-circuit for symDifference (#543)
> ? ?- Fix support for PHP 5.4 (#513)
> ? ?- Fix TopologyPreservingSimplifier invalid output on closed line (#508)
> ? ?- Reduce calls to ptNotInList, greatly speeding up Polygonizer (#545)
>
> -strk;
>
> ?,------o-.
> ?| ? __/ ?| ? ?Delivering high quality PostGIS 2.0 !
> ?| ?/ 2.0 | ? ?http://strk.keybit.net - http://vizzuality.com
> ?`-o------'
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

From starsareblueandfaraway at gmail.com  Tue May 29 19:47:06 2012
From: starsareblueandfaraway at gmail.com (Roy Hyunjin Han)
Date: Tue, 29 May 2012 22:47:06 -0400
Subject: [geos-devel] Compiling from trunk fails on revision 3657
Message-ID: <CABScDVsmGr9tumZS2yDCiHYUbN1bVUsePA1gaLh6QnjLHWvTww@mail.gmail.com>

Compiling from trunk
http://svn.osgeo.org/geos/trunk/
on Tuesday, May 29th failed because of a reference to a missing header file
#include "../geos_svn_revision.h"
in
http://svn.osgeo.org/geos/trunk/capi/geos_ts_c.cpp

Thanks,
RHH

From strk at keybit.net  Tue May 29 22:55:26 2012
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 30 May 2012 07:55:26 +0200
Subject: [geos-devel] Compiling from trunk fails on revision 3657
In-Reply-To: <CABScDVsmGr9tumZS2yDCiHYUbN1bVUsePA1gaLh6QnjLHWvTww@mail.gmail.com>
References: <CABScDVsmGr9tumZS2yDCiHYUbN1bVUsePA1gaLh6QnjLHWvTww@mail.gmail.com>
Message-ID: <20120530055526.GC3238@gnash>

On Tue, May 29, 2012 at 10:47:06PM -0400, Roy Hyunjin Han wrote:
> Compiling from trunk
> http://svn.osgeo.org/geos/trunk/
> on Tuesday, May 29th failed because of a reference to a missing header file
> #include "../geos_svn_revision.h"
> in
> http://svn.osgeo.org/geos/trunk/capi/geos_ts_c.cpp

Did you run ./autogen.sh and ./configure again ?

See: grep BUILT_SOURCES Makefile

--strk; 

  ,------o-. 
  |   __/  |    Delivering high quality PostGIS 2.0 !
  |  / 2.0 |    http://strk.keybit.net - http://vizzuality.com
  `-o------'


From geos-trac at osgeo.org  Tue May 29 22:57:50 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 05:57:50 -0000
Subject: [geos-devel] [GEOS] #483: make fails for geos-3.2.3 on FC15
In-Reply-To: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
References: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
Message-ID: <056.53133d94624dca7762d9add7b5e79df7@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.2.4                     
Component:  Default     |      Version:  3.2.3                     
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => wontfix


Comment:

 expired

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483#comment:8>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue May 29 22:58:30 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 05:58:30 -0000
Subject: [geos-devel] [GEOS] #177: example.rb uses c++ api methods
In-Reply-To: <047.0cbf6fb4a707b3431a041db3d58516b3@osgeo.org>
References: <047.0cbf6fb4a707b3431a041db3d58516b3@osgeo.org>
Message-ID: <056.2b8661706730724cdddc1b161eb805d8@osgeo.org>

#177: example.rb uses c++ api methods
------------------------+---------------------------------------------------
 Reporter:  aschall     |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  minor       |    Milestone:                            
Component:  SWIG Ruby   |      Version:  3.0.0                     
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:  ruby        |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => wontfix


Comment:

 ruby binding lacks a maintainer

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/177#comment:8>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue May 29 23:13:57 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 06:13:57 -0000
Subject: [geos-devel] [GEOS] #535: GeometryComponentFilter::filter_ro:
 Assertion `0' failed
In-Reply-To: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
References: <051.566b2f0491337d90efc9b35962a54a45@osgeo.org>
Message-ID: <060.50adae44737bc3bef7c0ead102e74a35@osgeo.org>

#535: GeometryComponentFilter::filter_ro: Assertion `0' failed
-------------------------+--------------------------------------------------
 Reporter:  aaronharris  |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.5                     
Component:  Default      |     Version:  3.3.3                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => 3.3.5


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/535#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue May 29 23:15:46 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 06:15:46 -0000
Subject: [geos-devel] [GEOS] #528: GEOS CMAKE Windows SDK x64 crashes
In-Reply-To: <044.e0d7814a7d7b2d349f9072b93cdc61d6@osgeo.org>
References: <044.e0d7814a7d7b2d349f9072b93cdc61d6@osgeo.org>
Message-ID: <053.a59a578639b2ff097561d61ba0182538@osgeo.org>

#528: GEOS CMAKE Windows SDK x64 crashes
------------------------+---------------------------------------------------
 Reporter:  robe        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.5                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => 3.3.5


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/528#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue May 29 23:17:06 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 06:17:06 -0000
Subject: [geos-devel] [GEOS] #517: GEOS Intersection() error w/ test
	case.
In-Reply-To: <047.2a0569822f315088cb3b0d28c1bf0831@osgeo.org>
References: <047.2a0569822f315088cb3b0d28c1bf0831@osgeo.org>
Message-ID: <056.d12f1aa02d6c71e0fb8211e5ee6a85c7@osgeo.org>

#517: GEOS Intersection() error w/ test case.
------------------------+---------------------------------------------------
 Reporter:  andrepl     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.5                     
Component:  Default     |     Version:  3.3.2                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.4 => 3.3.5


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/517#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue May 29 23:20:18 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 06:20:18 -0000
Subject: [geos-devel] [GEOS] #509: GEOS crashes on check in MingW GCC
	4.6.2
In-Reply-To: <044.dda502498b4ae989f15504593f1c28c6@osgeo.org>
References: <044.dda502498b4ae989f15504593f1c28c6@osgeo.org>
Message-ID: <053.64c8b0483c62a3600e9e6980b3297b29@osgeo.org>

#509: GEOS crashes on check in MingW GCC 4.6.2
------------------------+---------------------------------------------------
 Reporter:  robe        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.4                     
Component:  Default     |      Version:  3.3.3                     
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => wontfix


Comment:

 This ticket is actually a bit of a mess, a mix of different errors. Latest
 comments are about the NaN handling but original one is about a topology
 exception.

 Seems cleaner to just close it and let reporters reopen if they still have
 issues.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/509#comment:8>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at keybit.net  Wed May 30 00:08:11 2012
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 30 May 2012 09:08:11 +0200
Subject: [geos-devel] Closing up 3.3.4
In-Reply-To: <CACowWR3Qh5-qU=6G-0PoGbfm=8hy5o=LpafK8-d4Me5xfeAH1g@mail.gmail.com>
References: <20120528141649.GA17456@gnash>
	<CACowWR3Qh5-qU=6G-0PoGbfm=8hy5o=LpafK8-d4Me5xfeAH1g@mail.gmail.com>
Message-ID: <20120530070811.GA5622@gnash>

3.3.4 tagged in SVN (r3660).

In an hour we'll see if the git sync script will figure out.
NOTE: I had to switch to SVN to release for:
 - Generating the ChangeLog 
 - Tagging

--strk;

On Tue, May 29, 2012 at 09:52:54PM +0200, Paul Ramsey wrote:
> Lots done, punt those issues forward and I am happy to push out a tarball.
> P.
> 
> On Mon, May 28, 2012 at 4:17 PM, Sandro Santilli <strk at keybit.net> wrote:
> > I'd like to cut a 3.3.4 release, to go along with upcoming PostGIS 2.0.1.
> >
> > After triaging there are 4 tickets left for the milestone:
> > http://trac.osgeo.org/geos/query?status=assigned&status=new&status=reopened&milestone=3.3.4
> >
> > Non would be blocker in my opinion, do you think any is ?
> > Any other issue you think should be dealt with before shipping 3.3.4 ?
> >
> > Changes since 3.3.3:
> >
> > - Bug fixes / improvements
> > ? ?- Do not abort on NaN overlay input (#530)
> > ? ?- Reduce CommonBitsRemover harmful effects during overlay op (#527)
> > ? ?- Better cross-compiler support (#534)
> > ? ?- Enable overlay ops short-circuits (#542)
> > ? ?- Envelope-based short-circuit for symDifference (#543)
> > ? ?- Fix support for PHP 5.4 (#513)
> > ? ?- Fix TopologyPreservingSimplifier invalid output on closed line (#508)
> > ? ?- Reduce calls to ptNotInList, greatly speeding up Polygonizer (#545)
> >
> > -strk;

From JFORMONT at siradel.com  Wed May 30 03:40:19 2012
From: JFORMONT at siradel.com (Jasmin FORMONT)
Date: Wed, 30 May 2012 12:40:19 +0200
Subject: [geos-devel] how to know if two linestrings "really" cross each
	other
Message-ID: <4DDD462E988B52488DA728A04EF7C57454DEFDADC3@Eucles.Siradel.local>

Hi everyone

I can't find a way to tell if two linestrings "really" cross each other.

For instance if I have this linestring :
Line1 : LINESTRING(0 0, 1 1, 2 0)

How can I differentiate the relation of line 1 with one of the following :
Line2 : LINESTRING(0 2, 1 1, 2 2)    -> no "real" cross, just a contact point
Line3 : LINESTRING(0 2, 1 1, 1 0)    -> lines "really" cross each other

I can't find a good combination of crosses, touches, etc... to differentiate these cases.

Thanks in advance
Jasmin



________________________________

This document is considered to be confidential and proprietary information of SIRADEL. Information enclosed may not be revealed to any other parties without the express written consent of SIRADEL. If you do not agree to these terms, please notify SIRADEL and destroy this document.
The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20120530/6ea27f28/attachment.html>

From strk at keybit.net  Wed May 30 03:58:52 2012
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 30 May 2012 12:58:52 +0200
Subject: [geos-devel] how to know if two linestrings "really" cross each
 other
In-Reply-To: <4DDD462E988B52488DA728A04EF7C57454DEFDADC3@Eucles.Siradel.local>
References: <4DDD462E988B52488DA728A04EF7C57454DEFDADC3@Eucles.Siradel.local>
Message-ID: <20120530105852.GS5622@gnash>

On Wed, May 30, 2012 at 12:40:19PM +0200, Jasmin FORMONT wrote:
> Hi everyone
> 
> I can't find a way to tell if two linestrings "really" cross each other.
> 
> For instance if I have this linestring :
> Line1 : LINESTRING(0 0, 1 1, 2 0)
> 
> How can I differentiate the relation of line 1 with one of the following :
> Line2 : LINESTRING(0 2, 1 1, 2 2)    -> no "real" cross, just a contact point
> Line3 : LINESTRING(0 2, 1 1, 1 0)    -> lines "really" cross each other
> 
> I can't find a good combination of crosses, touches, etc... to differentiate these cases.

I can't think of an easy way to do that.

I'd note that for the "split" case there's no way to walk on all segments
of your first geometry w/out stepping over segments of the second.
You can in the "no real cross" case.

You could then look at the planargraph. Not available trough the C API.
Hard trough the C++ one. I guess you could do it with a nice SQL query
with PostGIS 2.0 topology ;)

--strk;

From JFORMONT at siradel.com  Wed May 30 04:08:56 2012
From: JFORMONT at siradel.com (Jasmin FORMONT)
Date: Wed, 30 May 2012 13:08:56 +0200
Subject: [geos-devel] how to know if two linestrings "really" cross each
 other
In-Reply-To: <20120530105852.GS5622@gnash>
References: <4DDD462E988B52488DA728A04EF7C57454DEFDADC3@Eucles.Siradel.local>
	<20120530105852.GS5622@gnash>
Message-ID: <4DDD462E988B52488DA728A04EF7C57454DEFDADC4@Eucles.Siradel.local>

Unfortunately, PostGIS is not an option here.
Anyway, thanks for the quick answer.
-----Message d'origine-----
De?: geos-devel-bounces at lists.osgeo.org [mailto:geos-devel-bounces at lists.osgeo.org] De la part de Sandro Santilli
Envoy??: mercredi 30 mai 2012 12:59
??: GEOS Development List
Objet?: Re: [geos-devel] how to know if two linestrings "really" cross each other

On Wed, May 30, 2012 at 12:40:19PM +0200, Jasmin FORMONT wrote:
> Hi everyone
> 
> I can't find a way to tell if two linestrings "really" cross each other.
> 
> For instance if I have this linestring :
> Line1 : LINESTRING(0 0, 1 1, 2 0)
> 
> How can I differentiate the relation of line 1 with one of the following :
> Line2 : LINESTRING(0 2, 1 1, 2 2)    -> no "real" cross, just a contact point
> Line3 : LINESTRING(0 2, 1 1, 1 0)    -> lines "really" cross each other
> 
> I can't find a good combination of crosses, touches, etc... to differentiate these cases.

I can't think of an easy way to do that.

I'd note that for the "split" case there's no way to walk on all segments
of your first geometry w/out stepping over segments of the second.
You can in the "no real cross" case.

You could then look at the planargraph. Not available trough the C API.
Hard trough the C++ one. I guess you could do it with a nice SQL query
with PostGIS 2.0 topology ;)

--strk;
_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/geos-devel

From geos-trac at osgeo.org  Wed May 30 04:13:04 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 11:13:04 -0000
Subject: [geos-devel] [GEOS] #552: can't make check under mingw64
Message-ID: <044.a1bbf161bfb54057e925d2b7978932cf@osgeo.org>

#552: can't make check under mingw64
------------------------+---------------------------------------------------
 Reporter:  robe        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 I'm running mingw64 gcc 4.5.4

 The libraries build, but when going to make check the XMLTester fails
 compilation with this error I truncated the log a bit so not all lines are
 there


 {{{
 /bin/sh ../../libtool --tag=CXX   --mode=link x86_64-w64-mingw32-g++  -g
 -O2   -o XMLTester.exe XMLTester-XMLTester.o XMLTester-tinyxml.o
 XMLTester-tinystr.o XMLTester-tinyxmlerror.o XMLTester-tinyxmlparser.o
 XMLTester-BufferResultMatcher.o
  XMLTester-SingleSidedBufferResultMatcher.o ../../src/libgeos.la
 ../../src/libgeos.lalibtool: link: x86_64-w64-mingw32-g++ -g -O2 -o
 .libs/XMLTester.exe XMLTester-XMLTester.o XMLTester-tinyxml.o XMLTester-
 tinystr.o XMLTester-tinyxmlerror.o XMLTester-tinyxmlparser.o XMLTester-
 BufferResultMatcher.o XMLTester-SingleSidedBufferResultMatcher.o
 ../../src/.libs/libgeos.dll.a
 -L/c/ming64/projects/geos/rel-3.4.0SVNw64/lib
 XMLTester-XMLTester.o: In function
 `std::auto_ptr<geos::geom::PrecisionModel>::reset(geos::geom::PrecisionModel*)':
 c:/ming64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/4.5.4/../../../../x86_64-w64-mingw32/include/c++/4.5.4/backward/auto_ptr.h:242:
 undefined reference to `geos::geom::PrecisionModel::~PrecisionModel()'
 c:/ming64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/4.5.4/../../../../x86_64-w64-mingw32/include/c++/4.5.4/backward/auto_ptr.h:242:
 undefined reference to `geos::geom::PrecisionModel::~PrecisionModel()'
 :
 XMLTester-XMLTester.o: In function
 `~WKBReader':c:\ming64\projects\geos\branches\trunk\tests\xmltester/../../include/geos/io/WKBReader.h:79:
 undefined reference to
 `geos::io::ByteOrderDataInStream::~ByteOrderDataInStream()'
 XMLTester-XMLTester.o: In function `~auto_ptr':
 c:/ming64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/4.5.4/../../../../x86_64-w64-mingw32/include/c++/4.5.4/backward/auto_ptr.h:168:
 undefined reference to `geos::io::WKTReader::~WKTReader()'
 XMLTester-XMLTester.o: In function `XMLTester::parseRun(TiXmlNode
 const*)':c:\ming64\projects\geos\branches\trunk\tests\xmltester/XMLTester.cpp:434:
 undefi
 ned reference to
 `geos::io::WKTReader::WKTReader(geos::geom::GeometryFactory const*)'
 XMLTester-XMLTester.o: In function
 `std::auto_ptr<geos::io::WKTReader>::reset(geos::io::WKTReader*)':
 c:/ming64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/4.5.4/../../../../x86_64-w64-mingw32/include/c++/4.5.4/backward/auto_ptr.h:242:
 undefined reference to `geos::io::WKTReader::~WKTReader()'
 :
 XMLTester-XMLTester.o: In function
 `TopologyException':c:\ming64\projects\geos\branches\trunk\tests\xmltester/../../include/geos/util/TopologyException.h:39:
 undefined reference to `geos::geom::Coordinate::Coordinate(double, double,
 double)'
 XMLTester-XMLTester.o: In function `~auto_ptr':
 c:/ming64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/4.5.4/../../../../x86_64-w64-mingw32/include/c++/4.5.4/backward/auto_ptr.h:168:
 undefined reference to `geos::geom::PrecisionModel::~PrecisionModel()'
 c:/ming64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/4.5.4/../../../../x86_64-w64-mingw32/include/c++/4.5.4/backward/auto_ptr.h:168:
 undefined reference to `geos::io::WKTReader::~WKTReader()'
 XMLTester-XMLTester.o: In function
 `~WKBReader':c:\ming64\projects\geos\branches\trunk\tests\xmltester/../../include/geos/io/WKBReader.h:79:
 undefined reference to
 `geos::io::ByteOrderDataInStream::~ByteOrderDataInStream()'
 XMLTester-BufferResultMatcher.o: In function
 `PointPairDistance':c:\ming64\projects\geos\branches\trunk\tests\xmltester/../../include/geos/algorithm/distance/PointPairDistance.h:45:
 undefined reference to `geos::geom::Coordinate::Coordinate(double, double,
 double)'
 XMLTester-BufferResultMatcher.o: In function
 `TopologyException':c:\ming64\projects\geos\branches\trunk\tests\xmltester/../../include/geos/util/TopologyException.h:39:
 undefined reference to `geos::geom::Coordinate::Coordinate(double, double,
 double)'
 XMLTester-SingleSidedBufferResultMatcher.o: In function
 `PointPairDistance':c:\ming64\projects\geos\branches\trunk\tests\xmltester/../../include/geos/algorithm/distance/PointPairDistance.h:45:
 undefined reference to `geos::geom::Coordinate::Coordinate(double, double,
 double)'
 collect2: ld returned 1 exit status
 make[3]: *** [XMLTester.exe] Error 1
 make[3]: Leaving directory
 `/c/ming64/projects/geos/branches/trunk/tests/xmltester'
 make[2]: *** [check-recursive] Error 1
 make[2]: Leaving directory `/c/ming64/projects/geos/branches/trunk/tests'
 make[1]: *** [check-recursive] Error 1
 make[1]: Leaving directory `/c/ming64/projects/geos/branches/trunk'
 make: *** [check] Error 2
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/552>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed May 30 06:14:16 2012
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 May 2012 13:14:16 -0000
Subject: [geos-devel] [GEOS] #552: can't make check under mingw64
In-Reply-To: <044.a1bbf161bfb54057e925d2b7978932cf@osgeo.org>
References: <044.a1bbf161bfb54057e925d2b7978932cf@osgeo.org>
Message-ID: <053.5284b6017fb3427e0202a2014e9da5f8@osgeo.org>

#552: can't make check under mingw64
------------------------+---------------------------------------------------
 Reporter:  robe        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  duplicate                 
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by robe):

  * status:  new => closed
  * resolution:  => duplicate


Comment:

 refer to #319

 reverting the #319 changes fixes the xmltester compile.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/552#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From dch at apache.org  Wed May 30 07:54:10 2012
From: dch at apache.org (Dave Cottlehuber)
Date: Wed, 30 May 2012 16:54:10 +0200
Subject: [geos-devel] creating & importing geos-3.3.3 static libgeos.lib on
	Windows
In-Reply-To: <mailman.843.1338389522.24436.geos-devel@lists.osgeo.org>
References: <mailman.843.1338389522.24436.geos-devel@lists.osgeo.org>
Message-ID: <CAHZBNKbLSe268vH_GRwyn4jVT=FYr2s+S8uY9+3KjNMCXReiXA@mail.gmail.com>

Hi,

I'm not sure how to include geos-3.3.3 as a static library into a
project, that will use an erlang<->C DLL interface.

According to https://github.com/libgeos/libgeos/commit/49463453fa2e871d1686c4c7d0c2efa5c280f92d
I should be using libgeos.lib to link against;

This should be sufficient, pretty-printed:

cl.exe
? ?-LD -MD -Zi -Wall
? ?-Ic:/erlang/lib/erl_interface-3.7.7/include
? ?-Ic:/erlang/usr/include
? ?-Iz:/source/erlgeom/deps/geos/include
? ?..\c_src\erlgeom.c
?-link
? ?-LIBPATH:c:/erlang/lib/erl_interface-3.7.7/lib
? ?-LIBPATH:c:/erlang/usr/lib
? ?-LIBPATH:z:/source/erlgeom/deps/geos/lib
? erl_interface.lib
? ei.lib
? libgeos.lib

However this doesn't compile, 24 missing references such as:

? ? LNK2019: unresolved external symbol _GEOSCoordSeq_setY

Adding geos_c.lib fixes the compilation issue, but it appears to be
the .lib file for the actual DLLs, not the static library libgeos.lib. I'm
not sure but this looks a little like the issue noted here:
http://mail.kde.org/pipermail/kde-buildsystem/2006-May/002805.html

"I just tried this on windows by hand and it has some interesting
effects. ?The static .lib file that is produced is full of objects that
have dllexport tags. ?When it is linked into an executable, say foo.exe,
the linker produces a foo.lib import library. ?Another problem on
windows is that the static library cannot have the same name as the dll
or it will clobber the import library paired with the dll. ?This means
that any target property we create to specify this behavior will also
have to specify an alternative name for the archive."

Geos is built from github checkout of 3.3.3 tag using MS SDK 7.1
from the setenv command prompt, and then:

? ? path=%path%;c:\mozilla-build\7zip;c:\opt\cmake\bin;c:\erlang\bin;c:\openssl\bin;
? ? autogen.bat
? ? mkdir dist build & cd build
? ? cmake -G "Visual Studio 10" ..
? ? cmake -DCMAKE_INSTALL_PREFIX=..\dist ?..
? ? cmake --build ..\build --target install --config Release

Which works nicely, and creates 3 .libs:

? ?Directory of Z:\source\libgeos\dist\lib
? ?05/30/2012 ?03:03 PM ? ? ? ? 1,608,376 geos.lib
? ?05/30/2012 ?03:03 PM ? ? ? ? ? 286,934 geos_c.lib
? ?05/30/2012 ?03:02 PM ? ? ? ?17,683,582 libgeos.lib

BTW make check however does not. I can't see this fixed in svn trunk,
do you want a ticket for it?

Z:\source\libgeos\build> ? ?cmake --build ..\build --target check
--config Release

Microsoft (R) Visual Studio Version 10.0.40219.1.
Copyright (C) Microsoft Corp. All rights reserved.

The evaluation period for Visual Studio Trial ends in 23 days.
1>------ Build started: Project: ZERO_CHECK, Configuration: Release Win32 ------
2>------ Build started: Project: check, Configuration: Release Win32 ------
2> ?Building Custom Rule Z:/source/libgeos/CMakeLists.txt
2> ?CMake does not need to re-run because
Z:\source\libgeos\build\CMakeFiles\generate.stamp is up-to-date.
2> ?Test project Z:/source/libgeos/build
2> ? ? ?Start 1: geos_unit
2> ?1/4 Test #1: geos_unit ........................***Failed ? ?0.22 sec
2> ? ? ?Start 2: xmltester
2> ?2/4 Test #2: xmltester ........................ ? Passed ? ?4.66 sec
2> ? ? ?Start 3: bug234
2> ?3/4 Test #3: bug234 ........................... ? Passed ? ?0.06 sec
2> ? ? ?Start 4: TestSweepLineSpeed
2> ?4/4 Test #4: TestSweepLineSpeed ............... ? Passed ? ?4.49 sec
2>
2> ?75% tests passed, 1 tests failed out of 4
2>
2> ?Total Test time (real) = ? 9.89 sec
2>
2> ?The following tests FAILED:
2> ? ? ? ?1 - geos_unit (Failed)
2> ?Errors while running CTest
2>C:\Program Files
(x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets(151,5):
error MSB6006: "cmd.exe" exited with code 8.
========== Build: 1 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========

A+
Dave

From mtnclimb at telus.net  Wed May 30 13:26:52 2012
From: mtnclimb at telus.net (Martin Davis)
Date: Wed, 30 May 2012 13:26:52 -0700
Subject: [geos-devel] how to know if two linestrings "really" cross each
 other
In-Reply-To: <4DDD462E988B52488DA728A04EF7C57454DEFDADC3@Eucles.Siradel.local>
References: <4DDD462E988B52488DA728A04EF7C57454DEFDADC3@Eucles.Siradel.local>
Message-ID: <4FC6828C.9060500@telus.net>

The DE-9IM model isn't designed to be able to distinguish between these 
two cases, so there's no way to compute this by using any of the named 
predicates, or even a custom relate matrix.

You could do this via some fairly straightforward custom code.  The 
algorithm is:
-  identify vertices in each linestring which are coincident
- build a simple "local topology" for the 4 incident line segments at 
each intersection
- examine the intersection to see if the segments alternate or are 
adjacent (you can do this by using the angles of the segments)

On 5/30/2012 3:40 AM, Jasmin FORMONT wrote:
>
> Hi everyone
>
> I can't find a way to tell if two linestrings "really" cross each other.
>
> For instance if I have this linestring :
>
> Line1 : LINESTRING(0 0, 1 1, 2 0)
>
> How can I differentiate the relation of line 1 with one of the following :
>
> Line2 : LINESTRING(0 2, 1 1, 2 2)    -> no "real" cross, just a 
> contact point
>
> Line3 : LINESTRING(0 2, 1 1, 1 0)    -> lines "really" cross each other
>
> I can't find a good combination of crosses, touches, etc... to 
> differentiate these cases.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20120530/49737828/attachment.html>

From todd.jellett at caris.com  Thu May 31 05:25:21 2012
From: todd.jellett at caris.com (Todd Jellett)
Date: Thu, 31 May 2012 09:25:21 -0300
Subject: [geos-devel] how to know if two linestrings "really" cross each
 other
In-Reply-To: <4FC6828C.9060500@telus.net>
References: <4DDD462E988B52488DA728A04EF7C57454DEFDADC3@Eucles.Siradel.local>
	<4FC6828C.9060500@telus.net>
Message-ID: <4FC76331.4080509@caris.com>

This algorithm will work if you can guarantee that there will be no 
overlapping line segments on your linestrings. If overlaps are possible, 
you will get a mixture of 4 line segment intersections and pairs of 3 
line segment intersections with overlap between them.

To robustly determine if you have a transverse intersection between 2 
linestrings:

- create a circle centered at the intersection point (4 segment case) or 
at the start and end of the overlap interval (3 segment case)
- decompose each circle into two circular arcs where one line string 
intersects the circle

You have a transverse intersection if the incoming line segment of the 
other linestring intersects a different circular arc than the outgoing 
line segment.

On 30/05/2012 5:26 PM, Martin Davis wrote:
> The DE-9IM model isn't designed to be able to distinguish between 
> these two cases, so there's no way to compute this by using any of the 
> named predicates, or even a custom relate matrix.
>
> You could do this via some fairly straightforward custom code.  The 
> algorithm is:
> -  identify vertices in each linestring which are coincident
> - build a simple "local topology" for the 4 incident line segments at 
> each intersection
> - examine the intersection to see if the segments alternate or are 
> adjacent (you can do this by using the angles of the segments)
>
> On 5/30/2012 3:40 AM, Jasmin FORMONT wrote:
>>
>> Hi everyone
>>
>> I can't find a way to tell if two linestrings "really" cross each other.
>>
>> For instance if I have this linestring :
>>
>> Line1 : LINESTRING(0 0, 1 1, 2 0)
>>
>> How can I differentiate the relation of line 1 with one of the 
>> following :
>>
>> Line2 : LINESTRING(0 2, 1 1, 2 2)    -> no "real" cross, just a 
>> contact point
>>
>> Line3 : LINESTRING(0 2, 1 1, 1 0)    -> lines "really" cross each other
>>
>> I can't find a good combination of crosses, touches, etc... to 
>> differentiate these cases.
>>
>>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20120531/0285bcc8/attachment.html>

From pramsey at opengeo.org  Thu May 31 12:20:53 2012
From: pramsey at opengeo.org (Paul Ramsey)
Date: Thu, 31 May 2012 12:20:53 -0700
Subject: [geos-devel] 3.3.4 Released
Message-ID: <CACowWR0mGO5o5K9=vhuVbpEb2OwfBPfE=BgVDts_kEt0oCbm+w@mail.gmail.com>

http://download.osgeo.org/geos/geos-3.3.4.tar.bz2

Changes in 3.3.4
2012-05-31

- Bug fixes / improvements
    - Do not abort on NaN overlay input (#530)
    - Reduce CommonBitsRemover harmful effects during overlay op (#527)
    - Better cross-compiler support (#534)
    - Enable overlay ops short-circuits (#542)
    - Envelope-based short-circuit for symDifference (#543)
    - Fix support for PHP 5.4 (#513)
    - Fix TopologyPreservingSimplifier invalid output on closed line (#508)
    - Reduce calls to ptNotInList, greatly speeding up Polygonizer (#545)

