From lr at pcorp.us  Sat Jul  4 18:51:41 2015
From: lr at pcorp.us (Paragon Corporation)
Date: Sat, 4 Jul 2015 21:51:41 -0400
Subject: [geos-devel] Releasing GEOS 3.5.0 before PostGIS 2.2
Message-ID: <000601d0b6c5$242c9b20$6c85d160$@pcorp.us>

Strk,

Couple of questions:

1) What remains to be done before we can release GEOS 3.5.0?
2) I would like to ask for future, to please do not introduce GEOS
unreleased features in PostGIS code base if you can not earnestly promise to
release said GEOS release in time for PostGIS release.
It's a big waste of everyone's time to test and document said features when
very few people are going to be able to take advantage of them.


Thanks,
Regina



From strk at keybit.net  Mon Jul  6 01:09:39 2015
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 6 Jul 2015 10:09:39 +0200
Subject: [geos-devel] Releasing GEOS 3.5.0 before PostGIS 2.2
In-Reply-To: <000601d0b6c5$242c9b20$6c85d160$@pcorp.us>
References: <000601d0b6c5$242c9b20$6c85d160$@pcorp.us>
Message-ID: <20150706080939.GB6397@localhost>

On Sat, Jul 04, 2015 at 09:51:41PM -0400, Paragon Corporation wrote:
> Strk,
> 
> Couple of questions:
> 
> 1) What remains to be done before we can release GEOS 3.5.0?

Deciding about which PR to merge, if any. Easiest decision is NONE,
for obvious reasons. It really just feels lonely when it comes to
taking decisions over here...

> 2) I would like to ask for future, to please do not introduce GEOS
> unreleased features in PostGIS code base if you can not earnestly promise to
> release said GEOS release in time for PostGIS release.
> It's a big waste of everyone's time to test and document said features when
> very few people are going to be able to take advantage of them.

You know there was no due date for the next PostGIS release until a few
weeks ago when Paul proposed one... How about helping out with the GEOS
release instead ? I think what should be done is:

 1. Look at the tracker for things targetted at 3.5.0, punt them
    to 3.6.0 and give reporters/owner some time to complain/discuss
    (if nobody objects in one week, they are gone)

 2. Look at the github PR queue and do the same thing

 3. Go through the the HOWTO_RELEASE to see what's next

--strk;

From lr at pcorp.us  Mon Jul  6 06:04:23 2015
From: lr at pcorp.us (Paragon Corporation)
Date: Mon, 6 Jul 2015 09:04:23 -0400
Subject: [geos-devel] Releasing GEOS 3.5.0 before PostGIS 2.2
In-Reply-To: <20150706080939.GB6397@localhost>
References: <000601d0b6c5$242c9b20$6c85d160$@pcorp.us>
	<20150706080939.GB6397@localhost>
Message-ID: <008101d0b7ec$4813dad0$d83b9070$@pcorp.us>

Okay I will look at this later this week and punt all the PR stuff :)

Thanks,
Regina
-----Original Message-----
From: geos-devel-bounces at lists.osgeo.org
[mailto:geos-devel-bounces at lists.osgeo.org] On Behalf Of Sandro Santilli
Sent: Monday, July 06, 2015 4:10 AM
To: GEOS Development List
Cc: 'PostGIS Development Discussion'
Subject: Re: [geos-devel] Releasing GEOS 3.5.0 before PostGIS 2.2

On Sat, Jul 04, 2015 at 09:51:41PM -0400, Paragon Corporation wrote:
> Strk,
> 
> Couple of questions:
> 
> 1) What remains to be done before we can release GEOS 3.5.0?

Deciding about which PR to merge, if any. Easiest decision is NONE, for
obvious reasons. It really just feels lonely when it comes to taking
decisions over here...

> 2) I would like to ask for future, to please do not introduce GEOS 
> unreleased features in PostGIS code base if you can not earnestly 
> promise to release said GEOS release in time for PostGIS release.
> It's a big waste of everyone's time to test and document said features 
> when very few people are going to be able to take advantage of them.

You know there was no due date for the next PostGIS release until a few
weeks ago when Paul proposed one... How about helping out with the GEOS
release instead ? I think what should be done is:

 1. Look at the tracker for things targetted at 3.5.0, punt them
    to 3.6.0 and give reporters/owner some time to complain/discuss
    (if nobody objects in one week, they are gone)

 2. Look at the github PR queue and do the same thing

 3. Go through the the HOWTO_RELEASE to see what's next

--strk;
_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/geos-devel



From strk at keybit.net  Mon Jul  6 06:31:42 2015
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 6 Jul 2015 15:31:42 +0200
Subject: [geos-devel] [postgis-devel] Releasing GEOS 3.5.0 before
 PostGIS 2.2
In-Reply-To: <008101d0b7ec$4813dad0$d83b9070$@pcorp.us>
References: <000601d0b6c5$242c9b20$6c85d160$@pcorp.us>
	<20150706080939.GB6397@localhost>
	<008101d0b7ec$4813dad0$d83b9070$@pcorp.us>
Message-ID: <20150706133142.GB18334@localhost>

On Mon, Jul 06, 2015 at 09:04:23AM -0400, Paragon Corporation wrote:
> Okay I will look at this later this week and punt all the PR stuff :)
> 
> Thanks,

Thank you for playing that role :)

--strk;

From geos-trac at osgeo.org  Tue Jul  7 01:29:59 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:29:59 -0000
Subject: [geos-devel] [GEOS] #460: Add 'M' EWKB support to WKBReader
In-Reply-To: <042.547ea3ece3f5062e5144cae999bd0e44@osgeo.org>
References: <042.547ea3ece3f5062e5144cae999bd0e44@osgeo.org>
Message-ID: <057.9ed149609cfc2a80c3b9f0e328d486f5@osgeo.org>

#460: Add 'M' EWKB support to WKBReader
-------------------------+---------------------------
 Reporter:  strk         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.6.0
Component:  Default      |     Version:  svn-trunk
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/460#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:35:34 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:35:34 -0000
Subject: [geos-devel] [GEOS] #531: UnaryUnion of an line collapsed to a
 point returns EMPTY
In-Reply-To: <042.38c47e745312e67413a9e872b0fd5f24@osgeo.org>
References: <042.38c47e745312e67413a9e872b0fd5f24@osgeo.org>
Message-ID: <057.ce80b1abcc343bbb3fcd2e178560361e@osgeo.org>

#531: UnaryUnion of an line collapsed to a point returns EMPTY
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.3
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


Comment:

 still collapses to empty as of 3.5

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/531#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:36:31 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:36:31 -0000
Subject: [geos-devel] [GEOS] #532: Extend GEOSGetCentroid for Z dimension
In-Reply-To: <045.43b8742a46e1173896fd27ce3e819761@osgeo.org>
References: <045.43b8742a46e1173896fd27ce3e819761@osgeo.org>
Message-ID: <060.4cf31919865c5f4d53a17599fc62469a@osgeo.org>

#532: Extend GEOSGetCentroid for Z dimension
-------------------------+---------------------------
 Reporter:  mwtoews      |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.6.0
Component:  Default      |     Version:  svn-trunk
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/532#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:36:52 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:36:52 -0000
Subject: [geos-devel] [GEOS] #544: Port JTS bugfix and testcases for
 MCIndexSnapRounder / GeometryNoder
In-Reply-To: <042.7e9f33c775608d3344d9268e746d7671@osgeo.org>
References: <042.7e9f33c775608d3344d9268e746d7671@osgeo.org>
Message-ID: <057.32011c0afb012ec7e055ee9251dc647d@osgeo.org>

#544: Port JTS bugfix and testcases for MCIndexSnapRounder / GeometryNoder
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.3
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/544#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:38:52 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:38:52 -0000
Subject: [geos-devel] [GEOS] #546: polygonize::EdgeRing::ptNotInList bug
	?
In-Reply-To: <042.3b1097c374fee6bd1e87b53ebb906da9@osgeo.org>
References: <042.3b1097c374fee6bd1e87b53ebb906da9@osgeo.org>
Message-ID: <057.f292866fcce7652987116c7f4e48fdde@osgeo.org>

#546: polygonize::EdgeRing::ptNotInList bug ?
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.3
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/546#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:43:58 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:43:58 -0000
Subject: [geos-devel] [GEOS] #572: Contains issue for complex
 LineStrings [JTS fails too]
In-Reply-To: <045.fc82acdace0639d7b6097c86f1a9f515@osgeo.org>
References: <045.fc82acdace0639d7b6097c86f1a9f515@osgeo.org>
Message-ID: <060.d12c1b522e04cc699e9b5c5b91d2e16f@osgeo.org>

#572: Contains issue for complex LineStrings [JTS fails too]
------------------------+---------------------------
 Reporter:  mwtoews     |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.4
 Severity:  Unassigned  |  Resolution:
 Keywords:  jtsfail     |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/572#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:47:18 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:47:18 -0000
Subject: [geos-devel] [GEOS] #584: Port robust distance fixes from JTS
In-Reply-To: <042.5e5e8093286a799addf20a1b16130bdf@osgeo.org>
References: <042.5e5e8093286a799addf20a1b16130bdf@osgeo.org>
Message-ID: <057.2cb1428a4133e1b5eae6261705a62b57@osgeo.org>

#584: Port robust distance fixes from JTS
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  svn-trunk
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/584#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:53:02 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:53:02 -0000
Subject: [geos-devel] [GEOS] #588: [JTS fixed] valid polygon when cw,
 not valid when ccw
In-Reply-To: <047.28fd0b50f1b48e233e16a5365db5951d@osgeo.org>
References: <047.28fd0b50f1b48e233e16a5365db5951d@osgeo.org>
Message-ID: <062.eddffe633a2739c14cf62000b835819e@osgeo.org>

#588: [JTS fixed] valid polygon when cw, not valid when ccw
------------------------+---------------------------
 Reporter:  olivier80   |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.5
 Severity:  Unassigned  |  Resolution:
 Keywords:  jtsfail     |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


Comment:

 still a problem: (tested on 3.5.0dev r4057)

 {{{
 SELECT ST_Isvalid('POLYGON ((
 -86.3958130146539250 114.3482370100377900,
 55.7321237336437390 -44.8146215164960250,
 87.9271046586986810 -10.5302909001479530,
 87.9271046586986810 -10.5302909001479570,
 138.3490775437400700 43.1639042523018260,
 64.7285128575111490 156.9678884302379600,
 -86.3958130146539250 114.3482370100377900))'::geometry);

 NOTICE:  Self-intersection at or near point 87.927104658698681
 -10.530290900147953
 }}}

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/588#comment:10>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:54:36 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:54:36 -0000
Subject: [geos-devel] [GEOS] #589: GEOSBufferWithStyle with mitre style
	on LinearRing
In-Reply-To: <047.49be5b9407c3c224dacd8c5d9870ae4b@osgeo.org>
References: <047.49be5b9407c3c224dacd8c5d9870ae4b@osgeo.org>
Message-ID: <062.5e5241c4d164476b93f5189f6d45e646@osgeo.org>

#589: GEOSBufferWithStyle with mitre style on LinearRing
------------------------+---------------------------
 Reporter:  olivier80   |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.5
 Severity:  Unassigned  |  Resolution:
 Keywords:  jtsfail     |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/589#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:55:49 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:55:49 -0000
Subject: [geos-devel] [GEOS] #648: Change svn/git line breaks to Unix
In-Reply-To: <042.1f367dec2df0abc8c7e090a36830e198@osgeo.org>
References: <042.1f367dec2df0abc8c7e090a36830e198@osgeo.org>
Message-ID: <057.baaab26605f293642eb8fe5295b6df6e@osgeo.org>

#648: Change svn/git line breaks to Unix
-------------------------+---------------------------
 Reporter:  robe         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  minor        |   Milestone:  3.5.0
Component:  Default      |     Version:  3.4.0
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by robe):

 hmm well if I am to do a release I guess I'll have to find a way around
 this.

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/648#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:57:16 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:57:16 -0000
Subject: [geos-devel] [GEOS] #591: Port robust determinant fixes from JTS
In-Reply-To: <042.7559778574929060635d7d74d6f775ff@osgeo.org>
References: <042.7559778574929060635d7d74d6f775ff@osgeo.org>
Message-ID: <057.32724a795c424da2101a0dce24af1b8d@osgeo.org>

#591: Port robust determinant fixes from JTS
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.5
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/591#comment:13>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:57:51 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:57:51 -0000
Subject: [geos-devel] [GEOS] #578: NMake fails to build on Windows 8
	Release Preview
In-Reply-To: <043.4429a7b00c7bed3c7965c38d18cbb935@osgeo.org>
References: <043.4429a7b00c7bed3c7965c38d18cbb935@osgeo.org>
Message-ID: <058.346911f2bc3c2abad56c8e614b29a3e4@osgeo.org>

#578: NMake fails to build on Windows 8 Release Preview
---------------------------------------------+---------------------------
 Reporter:  scook                            |       Owner:  geos-devel@?
     Type:  defect                           |      Status:  new
 Priority:  trivial                          |   Milestone:  GEOS Future
Component:  Default                          |     Version:  svn-trunk
 Severity:  Unassigned                       |  Resolution:
 Keywords:  nmake, Window 8 Release Preview  |
---------------------------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => GEOS Future


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/578#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 01:58:58 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 08:58:58 -0000
Subject: [geos-devel] [GEOS] #590: GEOSBufferWithStyle result isn't
 valid and GEOSIsValid() says it is
In-Reply-To: <047.b459f0297d65c6e275cd25ff823f640b@osgeo.org>
References: <047.b459f0297d65c6e275cd25ff823f640b@osgeo.org>
Message-ID: <062.a8ec76e4d37fbd0697d25ed6120b1c81@osgeo.org>

#590: GEOSBufferWithStyle result isn't valid and GEOSIsValid() says it is
------------------------+---------------------------
 Reporter:  olivier80   |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.5
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <http://trac.osgeo.org/geos/ticket/590#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  7 02:29:26 2015
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 07 Jul 2015 09:29:26 -0000
Subject: [geos-devel] [GEOS] #578: NMake fails to build on Windows 8
	Release Preview
In-Reply-To: <043.4429a7b00c7bed3c7965c38d18cbb935@osgeo.org>
References: <043.4429a7b00c7bed3c7965c38d18cbb935@osgeo.org>
Message-ID: <058.618800b196564bab0266e8994cac7e1d@osgeo.org>

#578: NMake fails to build on Windows 8 Release Preview
---------------------------------------------+------------------------
 Reporter:  scook                            |       Owner:  mloskot
     Type:  defect                           |      Status:  assigned
 Priority:  trivial                          |   Milestone:  3.5.0
Component:  Default                          |     Version:  svn-trunk
 Severity:  Unassigned                       |  Resolution:
 Keywords:  nmake, Window 8 Release Preview  |
---------------------------------------------+------------------------
Changes (by mloskot):

 * owner:  geos-devel@? => mloskot
 * status:  new => assigned
 * milestone:  GEOS Future => 3.5.0


--
Ticket URL: <http://trac.osgeo.org/geos/ticket/578#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From sean.gillies at gmail.com  Tue Jul  7 11:12:54 2015
From: sean.gillies at gmail.com (Sean Gillies)
Date: Tue, 7 Jul 2015 12:12:54 -0600
Subject: [geos-devel] What's the intent of 'assert(!"should never be
	reached")'?
Message-ID: <CAOodmJqR6xbrSpzdGBZEjRttCWrNV4gXXwFH4xxP0zLpxpvq+g@mail.gmail.com>

There are three places in GEOS where this assertion appears


https://github.com/libgeos/libgeos/blob/c9d94c2ebb68b6b679f03dc7eabebfcd39136def/src/index/strtree/AbstractSTRtree.cpp#L371

and two them have been tripping up Shapely users on OS X. I've found that
rebuilding GEOS with --disable-cassert solves the user problems: no assert
exceptions raised and no other program crashes.

My question: what is the intent of these statements? If they can be safely
ignored, as I'm doing, should they not be disabled by default?

-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20150707/f9e991b4/attachment.html>

From geos-trac at osgeo.org  Thu Jul  9 01:23:41 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 09 Jul 2015 08:23:41 -0000
Subject: [geos-devel] [GEOS] #731: GEOSEqualsExact returns False where
 GEOSEquals returns True
Message-ID: <045.6a5fd9037385620ed7edac023a469cab@osgeo.org>

#731: GEOSEqualsExact returns False where GEOSEquals returns True
------------------------+--------------------------
 Reporter:  mwtoews     |      Owner:  geos-devel@?
     Type:  defect      |     Status:  new
 Priority:  minor       |  Milestone:  3.4.3
Component:  Default     |    Version:  3.4.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 For example using Shapely with GEOS 3.4.2-CAPI-1.8.2 r3921,
 {{{
 from shapely.wkt import loads
 A = loads('LINESTRING (20 20, 20 100, 100 20, 20 20)')
 B = loads('MULTILINESTRING ((20 20, 20 100, 60 60), (60 60, 100 20, 20
 20))')
 A.almost_equals(B)  # False
 A.disjoint(B) # False
 A.equals(B)  # True
 A.relate(B)  # 1FFFFFFF2
 }}}
 Note that Shapely calls GEOSEqualsExact using the method named
 almost_equals. Both almost_equals and equals should be True, but only
 almost_equals is False.

 And for a test case with precision issues, where GEOSEqualsExact should
 ideally return True is as follows:
 {{{
 A = loads('LINESTRING (20 20, 20 150, 100 20, 20 20)')
 B = loads('MULTILINESTRING ((20 20, 20 150, 69.52380952380952
 69.52380952380952), (69.52380952380952 69.52380952380952, 100 20, 20
 20))')
 A.almost_equals(B)  # False
 A.disjoint(B)  # False
 A.equals(B)  # False
 A.relate(B)  # 1F1FFF1F2
 }}}

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/731>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From tlama at inbox.com  Thu Jul  9 07:18:54 2015
From: tlama at inbox.com (TLama)
Date: Thu, 9 Jul 2015 06:18:54 -0800
Subject: [geos-devel] How to modify the C API for use in Delphi?
Message-ID: <82643DF178D.00000AAEtlama@inbox.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20150709/d3591a8b/attachment.html>

From tlama at inbox.com  Thu Jul  9 09:05:35 2015
From: tlama at inbox.com (TLama)
Date: Thu, 9 Jul 2015 08:05:35 -0800
Subject: [geos-devel] How to modify the C API for use in Delphi?
Message-ID: <8352B35D93E.00000BC1tlama@inbox.com>

Hi everyone,

I'm a long time Delphi developer and I've just ported a few functions from the Geos C API
and I must say that I'm impressed from this library. So far I've been playing with the library
basic features. Now to the problem I've hit now. The message callback prototype...

We cannot implement GEOSMessageHandler callback in Delphi due to its variadic parameter
(the workarounds mentioned here http://stackoverflow.com/a/15051364/960757 are no good
for me).

I see that the API is now in some stable state so I'm ready to modify it for my own purpose
(though I would be very grateful for some conditional change from your side). I can receive
only the optional arguments e.g. as an array of strings in Delphi.

Since there is at most 1 optional argument passed to the variadic parameter, I was thinking
about a simple prototype with two string parameters, but that would mean to modify quite a
big part of the geos_ts_c.cpp file, and that's what I would like to avoid. Besides that, I don't
know if you'll use more than one optional argument in the future, so this is not the way to go.

My question is, what would be the simplest way to modify the C API so that the callback
GEOSMessageHandler prototype would not use variadic parameter (...) but instead pass
the optional arguments as an array of string? I'm hoping in some "magical" template that
will do the change in one place (sorry, I'm quite a C language noob).

Is there a way to easily "turn" the GEOSMessageHandler prototype to be something like:

typedef void (*GEOSMessageHandler)(const char *fmt, int argc, const char **args);

Such callback I would be able to implement in Delphi, the one with the variadic parameter
I cannot. And it seems to be the only thing that prevents me from using this library in Delphi
(yes, I know, it's an ancient language :)

Could you help me with this problem?

Thank you
TLama

(sorry, this is a repost in plain text because the HTML one is broken)

____________________________________________________________
Publish your photos in seconds for FREE
TRY IM TOOLPACK at http://www.imtoolpack.com/default.aspx?rc=if4



From geos-trac at osgeo.org  Sun Jul 12 21:49:18 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 13 Jul 2015 04:49:18 -0000
Subject: [geos-devel] [GEOS] #732: BufferOp(0.0) makes the attached polygon
	"miss"!
Message-ID: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>

#732: BufferOp(0.0) makes the attached polygon "miss"!
-------------------------+--------------------------
 Reporter:  jiangdaidai  |      Owner:  geos-devel@?
     Type:  defect       |     Status:  new
 Priority:  major        |  Milestone:  3.4.3
Component:  Default      |    Version:  3.4.2
 Severity:  Critical     |   Keywords:  BufferOp
-------------------------+--------------------------
 After doing BufferOp(0.0), the attached polygon turns out to be almost
 NON!
 I have observed the points and think there is non problems.
 I don't know why.

--
Ticket URL: <http://trac.osgeo.org/geos/ticket/732>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 12 21:49:56 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 13 Jul 2015 04:49:56 -0000
Subject: [geos-devel] [GEOS] #732: BufferOp(0.0) makes the attached
	polygon "miss"!
In-Reply-To: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
References: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
Message-ID: <064.df6ae41774982f42b83e8adec9696c43@osgeo.org>

#732: BufferOp(0.0) makes the attached polygon "miss"!
-------------------------+---------------------------
 Reporter:  jiangdaidai  |       Owner:  geos-devel@?
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.4.3
Component:  Default      |     Version:  3.4.2
 Severity:  Critical     |  Resolution:
 Keywords:  BufferOp     |
-------------------------+---------------------------
Changes (by jiangdaidai):

 * Attachment "data.txt" added.

 the points of the polygon

--
Ticket URL: <http://trac.osgeo.org/geos/ticket/732>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 12 21:50:59 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 13 Jul 2015 04:50:59 -0000
Subject: [geos-devel] [GEOS] #732: BufferOp(0.0) makes the attached
	polygon "miss"!
In-Reply-To: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
References: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
Message-ID: <064.d848b0e5ce052ff1fb18e319fa84dd7b@osgeo.org>

#732: BufferOp(0.0) makes the attached polygon "miss"!
-------------------------+---------------------------
 Reporter:  jiangdaidai  |       Owner:  geos-devel@?
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.4.3
Component:  Default      |     Version:  3.4.2
 Severity:  Critical     |  Resolution:
 Keywords:  BufferOp     |
-------------------------+---------------------------

Comment (by jiangdaidai):

 After doing BufferOp?(0.0), the attached polygon turns out to be almost
 NON! I have observed the points and think there is no problems. I don't
 know why.

--
Ticket URL: <http://trac.osgeo.org/geos/ticket/732#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 15 23:56:24 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 06:56:24 -0000
Subject: [geos-devel] [GEOS] #594: geos turns 'POLYGON EMPTY' into
	'POLYGON(EMPTY)'
In-Reply-To: <048.8dc9f804e92c522c988e2e6638aaca31@osgeo.org>
References: <048.8dc9f804e92c522c988e2e6638aaca31@osgeo.org>
Message-ID: <063.5cc50c0d2a2b69b1b08df5cd3fce6967@osgeo.org>

#594: geos turns 'POLYGON EMPTY' into 'POLYGON(EMPTY)'
------------------------+---------------------------
 Reporter:  cdestigter  |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.3
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/594#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 15 23:58:59 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 06:58:59 -0000
Subject: [geos-devel] [GEOS] #638: Recommend a static_cast around assert
	strings
In-Reply-To: <045.940cc187df987db690e26110886e1a54@osgeo.org>
References: <045.940cc187df987db690e26110886e1a54@osgeo.org>
Message-ID: <060.cee884d0e665ca8fb387079552c73e49@osgeo.org>

#638: Recommend a static_cast around assert strings
------------------------+---------------------------
 Reporter:  goatbar     |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.3.8
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <http://trac.osgeo.org/geos/ticket/638#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 15 23:59:29 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 06:59:29 -0000
Subject: [geos-devel] [GEOS] #665: st_isvalid fails to detect invalid
 interior ring orientation
In-Reply-To: <041.678a4df7179309112c51b7df3a794670@osgeo.org>
References: <041.678a4df7179309112c51b7df3a794670@osgeo.org>
Message-ID: <056.a8649f59fbecd03cd44d4d0041b389fe@osgeo.org>

#665: st_isvalid fails to detect invalid interior ring orientation
-------------------------+---------------------------
 Reporter:  vmo          |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.6.0
Component:  Default      |     Version:  3.3.3
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/665#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 16 00:02:20 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 07:02:20 -0000
Subject: [geos-devel] [GEOS] #676: WKT reader interprets M coordinate as
	Z
In-Reply-To: <045.421b02ae3581ddc4cfbb11583fb46f69@osgeo.org>
References: <045.421b02ae3581ddc4cfbb11583fb46f69@osgeo.org>
Message-ID: <060.30239b0cd1cfa4780a564b4d7434a1f6@osgeo.org>

#676: WKT reader interprets M coordinate as Z
------------------------+---------------------------
 Reporter:  mwtoews     |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.0
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/676#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 16 00:04:04 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 07:04:04 -0000
Subject: [geos-devel] [GEOS] #699: Optimize Geometry->Intersection with
 rectangular argument
In-Reply-To: <042.2119eb97e84f9c1edbe8650df9ecb0f8@osgeo.org>
References: <042.2119eb97e84f9c1edbe8650df9ecb0f8@osgeo.org>
Message-ID: <057.bfc2c93b505bdc3194e4459a03bf2d43@osgeo.org>

#699: Optimize Geometry->Intersection with rectangular argument
-------------------------+---------------------------
 Reporter:  strk         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.5.0
Component:  Default      |     Version:  svn-trunk
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by robe):

 strk is this all done.  Should we just break out the PHP binding thing as
 a separate ticket so we can close this?

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/699#comment:14>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 16 00:04:48 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 07:04:48 -0000
Subject: [geos-devel] [GEOS] #718: Port InteriorIntersectionFinder
 improvements from JTS
In-Reply-To: <042.c98d58977bf1f66db6bb79e74e6727f3@osgeo.org>
References: <042.c98d58977bf1f66db6bb79e74e6727f3@osgeo.org>
Message-ID: <057.1165af2e9c7400a831d5b3c4aefc8ed1@osgeo.org>

#718: Port InteriorIntersectionFinder improvements from JTS
-------------------------+---------------------------
 Reporter:  strk         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.6.0
Component:  Default      |     Version:  svn-trunk
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/718#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 16 00:12:48 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 07:12:48 -0000
Subject: [geos-devel] [GEOS] #727: Port Polygonizer support for valid
 polygonal output from JTS
In-Reply-To: <042.1be7a6688f09de7627550f99b1a6a174@osgeo.org>
References: <042.1be7a6688f09de7627550f99b1a6a174@osgeo.org>
Message-ID: <057.86c72af412c3c79a247d2fd76d0636f7@osgeo.org>

#727: Port Polygonizer support for valid polygonal output from JTS
-------------------------+---------------------------
 Reporter:  strk         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.6.0
Component:  Default      |     Version:  svn-trunk
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/727#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 16 00:16:01 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 07:16:01 -0000
Subject: [geos-devel] [GEOS] #587: Memory leak in geos trunk
In-Reply-To: <043.ebb94e9c2b5ec000b27507e3a5c67fa4@osgeo.org>
References: <043.ebb94e9c2b5ec000b27507e3a5c67fa4@osgeo.org>
Message-ID: <058.77d677fc0f6f275ab11d75c3aa3ee5fc@osgeo.org>

#587: Memory leak in geos trunk
------------------------+---------------------------
 Reporter:  bradh       |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.6.0
Component:  Default     |     Version:  svn-trunk
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/587#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Thu Jul 16 00:28:22 2015
From: lr at pcorp.us (Paragon Corporation)
Date: Thu, 16 Jul 2015 03:28:22 -0400
Subject: [geos-devel] GEOS 3.5.0 remaining open tickets
Message-ID: <000001d0bf98$ff92f660$feb8e320$@pcorp.us>

Strk et. al,

I've got the list down to 3 open tickets

https://trac.osgeo.org/geos/query?status=assigned&status=new&status=reopened
&milestone=3.5.0



#670  Failure to build Ruby bindings 
 - I think this one you fixed, but we don't have a confirm from someone who
builds on Ruby it's fixed.  I'd assume just close it out as fixed if no one
responds in a day or 2.
 
#699 Optimize Geometry->Intersection with rectangular argument 
This one is partly addressed I think except for PHP bindings and some other
stuff.  We either need to finish it or split it into 2 tickets (one closed
at 3.5.0 and rest of stuff left open for 3.6)
 
#648
Change svn/git line breaks to Unix
- this one I had put in a while ago and it's really not 3.5.0 specific --
more on the things that annoy Regina list.  I would need to address it to be
able to build on windows without offending my Linux/Unix compadres.
If I don't need to do the release, this can be punted (or I can just use
Debbie to release).



--- this one I closed as a won't fix though I felt a bit guilty about it
I only use CMake now for building and if someone who uses Makefile.vc for
building cares -- feel free to provide a patch and reopen

#577 	Makefile.vc lacks install / uninstall / test procedures


After these last are addressed, I'd like to call for RC releases next week
and a final a week or 2 after.

Thanks,
Regina





From strk at keybit.net  Thu Jul 16 04:09:33 2015
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 16 Jul 2015 13:09:33 +0200
Subject: [geos-devel] GEOS 3.5.0 remaining open tickets
In-Reply-To: <000001d0bf98$ff92f660$feb8e320$@pcorp.us>
References: <000001d0bf98$ff92f660$feb8e320$@pcorp.us>
Message-ID: <20150716110933.GA7063@localhost>

On Thu, Jul 16, 2015 at 03:28:22AM -0400, Paragon Corporation wrote:
> Strk et. al,
> 
> I've got the list down to 3 open tickets
> 
> https://trac.osgeo.org/geos/query?status=assigned&status=new&status=reopened
> &milestone=3.5.0
> 
> 
> 
> #670  Failure to build Ruby bindings 
>  - I think this one you fixed, but we don't have a confirm from someone who
> builds on Ruby it's fixed.  I'd assume just close it out as fixed if no one
> responds in a day or 2.

I think you can close assuming fixed.

> #699 Optimize Geometry->Intersection with rectangular argument 
> This one is partly addressed I think except for PHP bindings and some other
> stuff.  We either need to finish it or split it into 2 tickets (one closed
> at 3.5.0 and rest of stuff left open for 3.6)

I believe this is only PHP left. How about giving it a try ?
Didn't you always dream of being able to expose C library
methods to PHP ? :)

> #648
> Change svn/git line breaks to Unix
> - this one I had put in a while ago and it's really not 3.5.0 specific --
> more on the things that annoy Regina list.  I would need to address it to be
> able to build on windows without offending my Linux/Unix compadres.
> If I don't need to do the release, this can be punted (or I can just use
> Debbie to release).

No need to fix for release, punt.

> --- this one I closed as a won't fix though I felt a bit guilty about it
> I only use CMake now for building and if someone who uses Makefile.vc for
> building cares -- feel free to provide a patch and reopen
> #577 	Makefile.vc lacks install / uninstall / test procedures

Personally I don't care about vc, if nobody steps up within one week
I think you can close as won't fix.

> After these last are addressed, I'd like to call for RC releases next week
> and a final a week or 2 after.

Fine by me.

--strk;

From mateusz at loskot.net  Thu Jul 16 04:15:15 2015
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu, 16 Jul 2015 13:15:15 +0200
Subject: [geos-devel] GEOS 3.5.0 remaining open tickets
In-Reply-To: <20150716110933.GA7063@localhost>
References: <000001d0bf98$ff92f660$feb8e320$@pcorp.us>
	<20150716110933.GA7063@localhost>
Message-ID: <CABUeae9OMfdFF8YRcae6WXzfcjH6De5UuS61PLpcX7fF0kK35Q@mail.gmail.com>

On 16 Jul 2015 12:09, "Sandro Santilli" <strk at keybit.net> wrote:
> On Thu, Jul 16, 2015 at 03:28:22AM -0400, Paragon Corporation wrote:
> > Strk et. al,
> >
> > --- this one I closed as a won't fix though I felt a bit guilty about it
> > I only use CMake now for building and if someone who uses Makefile.vc
for
> > building cares -- feel free to provide a patch and reopen
> > #577  Makefile.vc lacks install / uninstall / test procedures
>
> Personally I don't care about vc, if nobody steps up within one week
> I think you can close as won't fix.

I do care about Makefile.vc but I don't care about install target in it.
IMHO this ticket can be closed.

Mateusz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20150716/3bdd363e/attachment-0001.html>

From geos-trac at osgeo.org  Thu Jul 16 04:15:44 2015
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 16 Jul 2015 11:15:44 -0000
Subject: [geos-devel] [GEOS] #699: Optimize Geometry->Intersection with
 rectangular argument
In-Reply-To: <042.2119eb97e84f9c1edbe8650df9ecb0f8@osgeo.org>
References: <042.2119eb97e84f9c1edbe8650df9ecb0f8@osgeo.org>
Message-ID: <057.fc3a3ef94fb2a630723fba0655ca6fbe@osgeo.org>

#699: Optimize Geometry->Intersection with rectangular argument
-------------------------+---------------------------
 Reporter:  strk         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.5.0
Component:  Default      |     Version:  svn-trunk
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by strk):

 It shouldn't be hard to add the PHP side. Anyone willing to play a bit in
 that field ?

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/699#comment:15>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jul 17 08:11:58 2015
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 17 Jul 2015 15:11:58 -0000
Subject: [geos-devel] [GEOS] #648: Change svn/git line breaks to Unix
In-Reply-To: <042.1f367dec2df0abc8c7e090a36830e198@osgeo.org>
References: <042.1f367dec2df0abc8c7e090a36830e198@osgeo.org>
Message-ID: <057.4013ce2745975a3dde1ef6502e04578d@osgeo.org>

#648: Change svn/git line breaks to Unix
-------------------------+---------------------------
 Reporter:  robe         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  minor        |   Milestone:  3.6.0
Component:  Default      |     Version:  3.4.0
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.0 => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/648#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jul 17 08:14:54 2015
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 17 Jul 2015 15:14:54 -0000
Subject: [geos-devel] [GEOS] #734: Optimize Geometry->Intersection with
 rectangular argument - add PHP bindings
Message-ID: <042.9e5ea3ab97c4cacf8e210853d7ca3806@osgeo.org>

#734: Optimize Geometry->Intersection with rectangular argument - add PHP
bindings
-------------------------+--------------------------
 Reporter:  robe         |      Owner:  geos-devel@?
     Type:  enhancement  |     Status:  new
 Priority:  minor        |  Milestone:  3.6.0
Component:  Default      |    Version:  svn-trunk
 Severity:  Unassigned   |   Keywords:
-------------------------+--------------------------
 This is what was left to do from #699

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/734>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jul 17 08:15:56 2015
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 17 Jul 2015 15:15:56 -0000
Subject: [geos-devel] [GEOS] #699: Optimize Geometry->Intersection with
 rectangular argument
In-Reply-To: <042.2119eb97e84f9c1edbe8650df9ecb0f8@osgeo.org>
References: <042.2119eb97e84f9c1edbe8650df9ecb0f8@osgeo.org>
Message-ID: <057.259e2fbad567fbfdf2acddb44523b4ed@osgeo.org>

#699: Optimize Geometry->Intersection with rectangular argument
-------------------------+---------------------------
 Reporter:  strk         |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  closed
 Priority:  major        |   Milestone:  3.5.0
Component:  Default      |     Version:  svn-trunk
 Severity:  Unassigned   |  Resolution:  fixed
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 I opened a separate ticket for PHP bindings at #734 slated for 3.6.0

 Will consider this one done for 3.5.0

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/699#comment:16>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Fri Jul 17 09:03:23 2015
From: lr at pcorp.us (Paragon Corporation)
Date: Fri, 17 Jul 2015 12:03:23 -0400
Subject: [geos-devel] PHP bindings Geometry->Intersection update for GEOS
	3.5.0
Message-ID: <000201d0c0aa$1c396080$54ac2180$@pcorp.us>

I closed out all the tickets for 3.5.0

And split the remainder of #699 to

Optimize Geometry->Intersection with rectangular argument - add PHP bindings

https://trac.osgeo.org/geos/ticket/734


Any PHP folks out there want to tackle this one.  Strk says it should be
easy.

If done by Monday we can push it back to 3.5.0 otherwise will need to wait.

Thanks,
Regina





From strk at keybit.net  Fri Jul 17 09:11:02 2015
From: strk at keybit.net (Sandro Santilli)
Date: Fri, 17 Jul 2015 18:11:02 +0200
Subject: [geos-devel] PHP bindings Geometry->Intersection update for
 GEOS 3.5.0
In-Reply-To: <000201d0c0aa$1c396080$54ac2180$@pcorp.us>
References: <000201d0c0aa$1c396080$54ac2180$@pcorp.us>
Message-ID: <20150717161102.GA18429@localhost>

On Fri, Jul 17, 2015 at 12:03:23PM -0400, Paragon Corporation wrote:
> I closed out all the tickets for 3.5.0
> 
> And split the remainder of #699 to
> 
> Optimize Geometry->Intersection with rectangular argument - add PHP bindings
> 
> https://trac.osgeo.org/geos/ticket/734
> 
> 
> Any PHP folks out there want to tackle this one.  Strk says it should be
> easy.

I'm adding Patrick in Cc, he's a good candidate for picking up PHP
binding maintainance, due to https://geophp.net/geos.html

> If done by Monday we can push it back to 3.5.0 otherwise will need to wait.

Patrick, interested in the role ?
For the future, I'm ok with splitting the php subdir out of GEOS core
into its own git repository if you prefer.

--strk;

From geos-trac at osgeo.org  Sun Jul 19 17:40:41 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 20 Jul 2015 00:40:41 -0000
Subject: [geos-devel] [GEOS] #735: Minimum bounding circle
Message-ID: <045.f4d9583f31d335522c2b252e63a25bb4@osgeo.org>

#735: Minimum bounding circle
-----------------------------+--------------------------
 Reporter:  mwtoews          |      Owner:  geos-devel@?
     Type:  enhancement      |     Status:  new
 Priority:  minor            |  Milestone:  GEOS Future
Component:  Default          |    Version:  svn-trunk
 Severity:  Feature Request  |   Keywords:
-----------------------------+--------------------------
 This enhancement is to port the
 [http://tsusiatsoftware.net/jts/javadoc/com/vividsolutions/jts/algorithm/MinimumBoundingCircle.html
 MinimumBoundingCircle class] from JTS, and expose to the GEOS C API either
 a combination of centre point geometry and radius, and/or a buffered
 geometry result.

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/735>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 19 19:10:10 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 20 Jul 2015 02:10:10 -0000
Subject: [geos-devel] [GEOS] #735: Minimum bounding circle
In-Reply-To: <045.f4d9583f31d335522c2b252e63a25bb4@osgeo.org>
References: <045.f4d9583f31d335522c2b252e63a25bb4@osgeo.org>
Message-ID: <060.aedd19b5ec9dbc5d9395cce4b1f17f4f@osgeo.org>

#735: Minimum bounding circle
-----------------------------+---------------------------
 Reporter:  mwtoews          |       Owner:  geos-devel@?
     Type:  enhancement      |      Status:  new
 Priority:  minor            |   Milestone:  3.6.0
Component:  Default          |     Version:  svn-trunk
 Severity:  Feature Request  |  Resolution:
 Keywords:                   |
-----------------------------+---------------------------
Changes (by robe):

 * milestone:  GEOS Future => 3.6.0


--
Ticket URL: <https://trac.osgeo.org/geos/ticket/735#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 19 23:44:34 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 20 Jul 2015 06:44:34 -0000
Subject: [geos-devel] [GEOS] #732: BufferOp(0.0) makes the attached
	polygon "miss"!
In-Reply-To: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
References: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
Message-ID: <064.4b3ea4335af73898fe6fc3bded065ca1@osgeo.org>

#732: BufferOp(0.0) makes the attached polygon "miss"!
-------------------------+---------------------------
 Reporter:  jiangdaidai  |       Owner:  geos-devel@?
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.4.3
Component:  Default      |     Version:  3.4.2
 Severity:  Critical     |  Resolution:
 Keywords:  BufferOp     |
-------------------------+---------------------------

Comment (by jiangdaidai):

 I find the reason: my polygon self-intersectes and is_ccw(my polygon)
 makes the key unexpected performance. During the learning of GEOS, I think
 there may be one bug :
 SegmentIntersector.cpp Line 114, according to the algorithm logical,
 int maxSegIndex=e0->getNumPoints()-1; -->
 int maxSegIndex=e0->getNumPoints()-2;

--
Ticket URL: <http://trac.osgeo.org/geos/ticket/732#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 20 00:35:45 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 20 Jul 2015 07:35:45 -0000
Subject: [geos-devel] [GEOS] #732: BufferOp(0.0) makes the attached
	polygon "miss"!
In-Reply-To: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
References: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
Message-ID: <064.74c90fa701bfca84a5f8a54d3a9935de@osgeo.org>

#732: BufferOp(0.0) makes the attached polygon "miss"!
-------------------------+---------------------------
 Reporter:  jiangdaidai  |       Owner:  geos-devel@?
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.4.3
Component:  Default      |     Version:  3.4.2
 Severity:  Critical     |  Resolution:
 Keywords:  BufferOp     |
-------------------------+---------------------------

Comment (by strk):

 JTS is also subtracting 1 on that line. Martin, could you review ?
 BTW, where did the JTS code move ? The SourceForge SVN is not reachable
 anymore ?

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/732#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 20 00:48:26 2015
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 20 Jul 2015 07:48:26 -0000
Subject: [geos-devel] [GEOS] #732: BufferOp(0.0) makes the attached
	polygon "miss"!
In-Reply-To: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
References: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
Message-ID: <064.8c1e79f7da1564778a2b10f3d3554222@osgeo.org>

#732: BufferOp(0.0) makes the attached polygon "miss"!
-------------------------+---------------------------
 Reporter:  jiangdaidai  |       Owner:  geos-devel@?
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.4.3
Component:  Default      |     Version:  3.4.2
 Severity:  Critical     |  Resolution:
 Keywords:  BufferOp     |
-------------------------+---------------------------

Comment (by strk):

 Regina, I'd also confirm this before closing 3.5.0 out

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/732#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From gdt at ir.bbn.com  Mon Jul 20 05:59:45 2015
From: gdt at ir.bbn.com (Greg Troxel)
Date: Mon, 20 Jul 2015 08:59:45 -0400
Subject: [geos-devel] successful make check on NetBSD 6 i386
Message-ID: <rmifv4j3ry6.fsf@fnord.ir.bbn.com>


With geos trunk from svn updated last night, geos built ok and passed
make check (with GNU make; I didn't try native make).

The only thing I noticed is that after running make check, running it
again rebuilt some of the test programs in capi.  That's arguably a bug,
but not a big deal.

Next up on my agenda is to make dist and update pkgsrc for it (not
commitable of course) and run tests with the postgis 2.1 package.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 180 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20150720/1aeb097b/attachment.pgp>

From strk at keybit.net  Mon Jul 20 08:32:08 2015
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 20 Jul 2015 17:32:08 +0200
Subject: [geos-devel] successful make check on NetBSD 6 i386
In-Reply-To: <rmifv4j3ry6.fsf@fnord.ir.bbn.com>
References: <rmifv4j3ry6.fsf@fnord.ir.bbn.com>
Message-ID: <20150720153208.GA3835@localhost>

On Mon, Jul 20, 2015 at 08:59:45AM -0400, Greg Troxel wrote:
> 
> With geos trunk from svn updated last night, geos built ok and passed
> make check (with GNU make; I didn't try native make).
> 
> The only thing I noticed is that after running make check, running it
> again rebuilt some of the test programs in capi.  That's arguably a bug,
> but not a big deal.
> 
> Next up on my agenda is to make dist and update pkgsrc for it (not
> commitable of course) and run tests with the postgis 2.1 package.

Thanks for testing. Only one thing: I'd like to also merge a pull
request to add better thread-safety to the message handlers of the
API: https://trac.osgeo.org/geos/ticket/663
Would be nice to get this deep testing after that's merged.

--strk;

From geos-trac at osgeo.org  Wed Jul 22 15:25:35 2015
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 22 Jul 2015 22:25:35 -0000
Subject: [geos-devel] [GEOS] #737: TopologyException for Valid geoemtries
Message-ID: <052.fa7d997ed8bb4b3b3ed759cc9cc5ef85@osgeo.org>

#737: TopologyException for Valid geoemtries
----------------------------+--------------------------
 Reporter:  bladeoflight16  |      Owner:  geos-devel@?
     Type:  defect          |     Status:  new
 Priority:  major           |  Milestone:  3.4.3
Component:  Default         |    Version:  3.4.2
 Severity:  Unassigned      |   Keywords:
----------------------------+--------------------------
 I have 2 supposedly valid geometries. When I try to take the difference
 between them:

 {{{
 WITH geom1 (g) AS
 (VALUES(ST_GeomFromEWKB(DECODE($$AQYAACAjaQAAAwAAAAEDAAAAAQAAAAkAAAB28/KWa9oWQSePXfN2Q1JBqrU4RG7aFkGksIr/f0NS
 QazxLppr2hZBGx9M/nZDUkGh1GSca9oWQffnBv52Q1JBPKwR52vaFkEY6B74dkNSQTbQvkJs2hZB
 3Q0983ZDUkHFuN1EbNoWQVwaKvN2Q1JBgorsxi3bFkH9c+m5dkNSQXbz8pZr2hZBJ49d83ZDUkEB
 AwAAAAEAAAANAAAAKu2ZA3PaFkFrK3ILkENSQXU40QZz2hZBltlQFpBDUkGL2P81BdwWQV8rUp+P
 Q1JBAN7DMgXcFkFPnWOUj0NSQVoEjjAF3BZBT9OolI9DUkFzLuHlBNwWQQjTkJqPQ1JB+gw0igTc
 FkEqrXKfj0NSQWstFYgE3BZBW6CFn49DUkGkWbq1c9oWQVAZHRaQQ1JB1NJmsXPaFkF6uvkVkENS
 QVXR5lJz2hZB8+xOEZBDUkHbKskEc9oWQZUalAuQQ1JBKu2ZA3PaFkFrK3ILkENSQQEDAAAAAQAA
 AAcAAADqJmDJ/dsWQdMPPod2Q1JBvt4oxv3bFkHDYV98dkNSQY2/Pxf92xZBzyGTfHZDUkEbRZMb
 /dsWQZ2Atnx2Q1JBA0UTev3bFkE/TmGBdkNSQaHpMMj92xZBsyAch3ZDUkHqJmDJ/dsWQdMPPod2
 Q1JB$$, 'base64')))),
 geom2 (g) AS
 (VALUES(ST_GeomFromEWKB(DECODE($$AQMAACAjaQAAAQAAABUAAACs/bu0c9oWQZJkHRaQQ1JBLBWdsnPaFkETWDAWkENSQcny71Zz2hZB
 bDISG5BDUkEaHUMMc9oWQWQy+iCQQ1JBOjoNCnPaFkGJaT8hkENSQTBygHN62hZB/7NlLqlDUkHq
 r690etoWQSijhy6pQ1JBQljNwnraFkFtdUI0qUNSQUVbTSF72hZB1ULtOKlDUkEY4qAle9oWQamh
 EDmpQ1JBc2b09wvcFkFWqHjCqENSQfNFE/oL3BZBJbVlwqhDUkHVZcBVDNwWQeXag72oQ1JB0Dlt
 oAzcFkET25u3qENSQVoTo6IM3BZBE6VWt6hDUkE/JDc5BdwWQW3ZMKqPQ1JB6eYHOAXcFkFN6g6q
 j0NSQW1A6ukE3BZB8xdUpI9DUkEAP2qLBNwWQXBKqZ+PQ1JBYrkWhwTcFkGk64Wfj0NSQaz9u7Rz
 2hZBkmQdFpBDUkE=$$, 'base64'))))
 --SELECT ST_IsValidDetail(geom1.g), ST_IsValidDetail(geom2.g)
 SELECT ST_Difference(geom1.g, geom2.g)
 FROM geom1, geom2;
 }}}

 (Sorry for all the nasty base64. I wanted to make sure they come through
 exactly. You can leave the whitespace there in PostgreSQL. {{{DECODE}}}
 strips it out it properly; in fact, {{{ENCODE}}} is what generated it.)

 I get the following error:

 {{{
 ERROR: GEOSDifference: TopologyException: found non-noded intersection
 between LINESTRING (374438 4.78778e+06, 374529 4.78777e+06) and LINESTRING
 (374529 4.78777e+06, 374466 4.78778e+06) at 374526.95988686144
 4787774.5327140652
 SQL state: XX000
 }}}

 You can confirm that they're reported as valid geometries by
 commenting/uncommenting the {{{SELECT}}} lines appropriately.

 Note that the {{{geom1}}} geometry is actually the output from a
 different, successful {{{ST_Difference}}}, so it's not actually valid,
 there's a bug in what it outputs.

 If you pull up the geometries, you'll find this is not squeaky clean data.
 It comes from data that is taken over several years, and for every year, I
 need to figure out what the most current data is. Sometimes the data is
 retaken, so I need to cut out old overlaps but bring in data from new
 locations. I've done a ton of work trying to automatically clean this data
 some, but I still run into these errors all the time. Expect more reports
 as I run into them.

 I assumed this is a GEOS problem based on the error message. If not, I
 will happily report elsewhere.

 Full PostGIS version, if it's of any help or I should look at upgrading
 anything:

 {{{POSTGIS="2.1.4 r12966" GEOS="3.4.2-CAPI-1.8.2 r3921" PROJ="Rel. 4.8.0,
 6 March 2012" GDAL="GDAL 1.9.2, released 2012/10/08" LIBXML="2.7.6"
 LIBJSON="UNKNOWN" TOPOLOGY RASTER}}}

 GEOS is the latest version, in spite of PostGIS being a little bit behind.
 I was trying to reproduce with a newer version of PostGIS, but
 PostgreSQL's apt repository contains an outdated GEOS. I don't have time
 right now to install all that again, but it is worth noting that this
 issue does ''not'' reproduce on GEOS 3.3.3. (Full version of that install
 is {{{POSTGIS="2.1.7 r13414" GEOS="3.3.3-CAPI-1.7.4" PROJ="Rel. 4.7.1, 23
 September 2009" GDAL="GDAL 1.9.0, released 2011/12/29" LIBXML="2.8.0"
 LIBJSON="UNKNOWN" RASTER}}}.)

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/737>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 22 15:31:15 2015
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 22 Jul 2015 22:31:15 -0000
Subject: [geos-devel] [GEOS] #737: TopologyException for Valid geoemtries
In-Reply-To: <052.fa7d997ed8bb4b3b3ed759cc9cc5ef85@osgeo.org>
References: <052.fa7d997ed8bb4b3b3ed759cc9cc5ef85@osgeo.org>
Message-ID: <067.8c6df3a794e09b98ad38afcd94cd035c@osgeo.org>

#737: TopologyException for Valid geoemtries
----------------------------+---------------------------
 Reporter:  bladeoflight16  |       Owner:  geos-devel@?
     Type:  defect          |      Status:  new
 Priority:  major           |   Milestone:  3.4.3
Component:  Default         |     Version:  3.4.2
 Severity:  Unassigned      |  Resolution:
 Keywords:                  |
----------------------------+---------------------------

Comment (by bladeoflight16):

 Sorry. That should read "so ''if'' it's not actually valid". I can't
 modify the description, apparently.

--
Ticket URL: <https://trac.osgeo.org/geos/ticket/737#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From tlama at inbox.com  Thu Jul 23 14:25:09 2015
From: tlama at inbox.com (TLama)
Date: Thu, 23 Jul 2015 13:25:09 -0800
Subject: [geos-devel] How to modify the C API for use in Delphi?
In-Reply-To: <8352B35D93E.00000BC1tlama@inbox.com>
Message-ID: <36221F84775.0000083Dtlama@inbox.com>

Thank you very much for the modification you made in one of the last
commits. It resolves my issue, however, I was hoping for an advice,
not a direct modification of the API, but I'm really impressed from
your effort!

For the API itself might be good to consider returning an ordinal error
code except the hardcoded message text.

This would allow users to "switch" in their error (or notice) handlers
and act accordingly to certain situations. Let's take for example the
GEOSGeomGetX_r function. Now you can recognize what error caused the
function to fail only by its text. Because how else you would find out
it failed due to "Argument is not a Point".

If there were passed also error codes like e.g.

#define ERROR_UNKNOWN_EXCEPTION 666
#define ERROR_STANDARD_EXCEPTION 667
#define ERROR_ARGUMENT_NOT_POINT 668

you would at least reliably recognize that the input was wrong. But it's
just my two cents into the error handling. I saw that Mateusz dropped a
few comments about replacing repetitive code blocks by macros, so that
might be the time to think about error handing improvements.

I think that ideal might be if all the functions were returning a "bool"
value indicating if they failed, remembering their last error code and a
message (for general and unknown exceptions). The users could then query
the last error and message (just like e.g. Windows API does), so there
were no error and notice callbacks.

But that would completely broke the existing API, so it's just my secret
wish (which I can still realize with the current API).

Thank you for your support and this library!
TLama

> -----Original Message-----
> From: tlama at inbox.com
> Sent: Thu, 9 Jul 2015 08:05:35 -0800
> To: geos-devel at lists.osgeo.org
> Subject: [geos-devel] How to modify the C API for use in Delphi?
> 
> Hi everyone,
> 
> I'm a long time Delphi developer and I've just ported a few functions
> from the Geos C API
> and I must say that I'm impressed from this library. So far I've been
> playing with the library
> basic features. Now to the problem I've hit now. The message callback
> prototype...
> 
> We cannot implement GEOSMessageHandler callback in Delphi due to its
> variadic parameter
> (the workarounds mentioned here
> http://stackoverflow.com/a/15051364/960757 are no good
> for me).
> 
> I see that the API is now in some stable state so I'm ready to modify it
> for my own purpose
> (though I would be very grateful for some conditional change from your
> side). I can receive
> only the optional arguments e.g. as an array of strings in Delphi.
> 
> Since there is at most 1 optional argument passed to the variadic
> parameter, I was thinking
> about a simple prototype with two string parameters, but that would mean
> to modify quite a
> big part of the geos_ts_c.cpp file, and that's what I would like to
> avoid. Besides that, I don't
> know if you'll use more than one optional argument in the future, so this
> is not the way to go.
> 
> My question is, what would be the simplest way to modify the C API so
> that the callback
> GEOSMessageHandler prototype would not use variadic parameter (...) but
> instead pass
> the optional arguments as an array of string? I'm hoping in some
> "magical" template that
> will do the change in one place (sorry, I'm quite a C language noob).
> 
> Is there a way to easily "turn" the GEOSMessageHandler prototype to be
> something like:
> 
> typedef void (*GEOSMessageHandler)(const char *fmt, int argc, const char
> **args);
> 
> Such callback I would be able to implement in Delphi, the one with the
> variadic parameter
> I cannot. And it seems to be the only thing that prevents me from using
> this library in Delphi
> (yes, I know, it's an ancient language :)
> 
> Could you help me with this problem?
> 
> Thank you
> TLama
> 
> (sorry, this is a repost in plain text because the HTML one is broken)
> 
> ____________________________________________________________
> Publish your photos in seconds for FREE
> TRY IM TOOLPACK at http://www.imtoolpack.com/default.aspx?rc=if4
> 
> 
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

____________________________________________________________
FREE 3D EARTH SCREENSAVER - Watch the Earth right on your desktop!
Check it out at http://www.inbox.com/earth



From hugo.mercier+ml at oslandia.com  Thu Jul 30 02:03:55 2015
From: hugo.mercier+ml at oslandia.com (Hugo Mercier (ML))
Date: Thu, 30 Jul 2015 11:03:55 +0200
Subject: [geos-devel] Precision/tolerance questions
Message-ID: <55B9E87B.8080303@oslandia.com>

Hi all,

I am not very familiar with the way GEOS can handle precision models ...

If I am correct, having a "fixed" precision model, i.e. a regular grid
allows to define a tolerance where (point) coordinates will be snapped
before computations.
Does it mean also predicates work with a tolerance, like the
intersection test between a point and a line will take a distance into
account ?

Similarly on this page
https://trac.osgeo.org/postgis/wiki/ToleranceDiscussion

I can read "Adding a PrecisionModel to the GEOS functionality uses a
precision grid to "snap" all coordinates, which could eliminate some
rounding and robustness issues with some functions. "
What rounding and robustness issues are they ? and which functions ?

Thanks

From strk at keybit.net  Thu Jul 30 03:03:34 2015
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 30 Jul 2015 12:03:34 +0200
Subject: [geos-devel] Precision/tolerance questions
In-Reply-To: <55B9E87B.8080303@oslandia.com>
References: <55B9E87B.8080303@oslandia.com>
Message-ID: <20150730100334.GD5965@localhost>

On Thu, Jul 30, 2015 at 11:03:55AM +0200, Hugo Mercier (ML) wrote:
> Hi all,
> 
> I am not very familiar with the way GEOS can handle precision models ...
> 
> If I am correct, having a "fixed" precision model, i.e. a regular grid
> allows to define a tolerance where (point) coordinates will be snapped
> before computations.

This is actually not always true. Input coordinates are tipically NOT
snapped/rounder, while coordinates that are generated by internal
operations will be. This is to avoid duplicating the work when the
input is already rounded.

> Does it mean also predicates work with a tolerance, like the
> intersection test between a point and a line will take a distance into
> account ?

Nope, predicates are exact.

> Similarly on this page
> https://trac.osgeo.org/postgis/wiki/ToleranceDiscussion
> 
> I can read "Adding a PrecisionModel to the GEOS functionality uses a
> precision grid to "snap" all coordinates, which could eliminate some
> rounding and robustness issues with some functions. "
> What rounding and robustness issues are they ? and which functions ?

Constructive functions can raise an exception when unable to deal with
numerical instabilities. Intersection/Difference/Union...

--strk; 

  ()   Free GIS & Flash consultant/developer
  /\   http://strk.keybit.net/services.html

From hugo.mercier+ml at oslandia.com  Thu Jul 30 05:21:09 2015
From: hugo.mercier+ml at oslandia.com (Hugo Mercier (ML))
Date: Thu, 30 Jul 2015 14:21:09 +0200
Subject: [geos-devel] Precision/tolerance questions
In-Reply-To: <20150730100334.GD5965@localhost>
References: <55B9E87B.8080303@oslandia.com> <20150730100334.GD5965@localhost>
Message-ID: <55BA16B5.7000808@oslandia.com>



On 30/07/2015 12:03, Sandro Santilli wrote:
> On Thu, Jul 30, 2015 at 11:03:55AM +0200, Hugo Mercier (ML) wrote:
>> Hi all,
>>
>> I am not very familiar with the way GEOS can handle precision models ...
>>
>> If I am correct, having a "fixed" precision model, i.e. a regular grid
>> allows to define a tolerance where (point) coordinates will be snapped
>> before computations.
> 
> This is actually not always true. Input coordinates are tipically NOT
> snapped/rounder, while coordinates that are generated by internal
> operations will be. This is to avoid duplicating the work when the
> input is already rounded.

Ok, good to know.

>> I can read "Adding a PrecisionModel to the GEOS functionality uses a
>> precision grid to "snap" all coordinates, which could eliminate some
>> rounding and robustness issues with some functions. "
>> What rounding and robustness issues are they ? and which functions ?
> 
> Constructive functions can raise an exception when unable to deal with
> numerical instabilities. Intersection/Difference/Union...

And with a floating model, I guess there is no way to detect such
instabilities.

Thanks

From strk at keybit.net  Fri Jul 31 08:19:45 2015
From: strk at keybit.net (Sandro Santilli)
Date: Fri, 31 Jul 2015 17:19:45 +0200
Subject: [geos-devel] gitlab mirror activated
Message-ID: <20150731151945.GA29588@localhost>

FYI, I've just activated a new git mirror for GEOS on gitlab.com:
https://gitlab.com/geos/libgeos

Contrary to github (which also has a mirror), gitlab is based on a
free software core, meaning you can install your own.

I hope that this new mirror helps whoever wants to give gitlab a try,
being one of the candidates for install on the OSGeo machines.

PSC members: please send me your gitlab.com usernames if you want to be
added as owners.

--strk; 

  ()   Free GIS & Flash consultant/developer
  /\   http://strk.keybit.net/services.html

