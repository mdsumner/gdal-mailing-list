From mark.cave-ayland at ilande.co.uk  Wed Jan  3 04:00:48 2007
From: mark.cave-ayland at ilande.co.uk (Mark Cave-Ayland)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Patch: Fixing GEOS HEAD compilation under MingW
Message-ID: <1167814849.5617.22.camel@mca-desktop>

Hi everyone,

After a day or so messing with the GEOS source code, I've finally
managed to get GEOS HEAD to compile under MingW. Please find enclosed
the following patch to be applied to the current SVN tree.

I believe the problem with "multiple definition" errors was caused by
the fact that under Win32 DLLs must declare all their imports and
exports at compile time - hence MingW was automatically generating
import stubs for the inline functions when compiling with the gcc
-shared option. This caused the final link against inlines.o to fail
since the compiler had two definitions to contend with - those
automatically generated by the compiler and those in inlines.o.

The patch also addresses a problem with Charlie Savage's original patch
for the _finite() function - I had to wrap this in an "extern C"
definition for the compilation to work for me. If Charlie could verify
this on his compiler setup, that would be great.

Finally, even when this patch is applied, the final link causes the
MingW linker to segfault :( This is because libtool decides that the
number of object files is so large that it needs to complete the final
link in two stages, and my guess is that there is a bug somewhere in
MingW's ld.exe when used in this way. Fortunately there is a way to
alter libtool to persuade it to link the entire library in one go (see
below).

So to complete the compilation under MingW it is necessary to perform
the following steps:

	1) Obtain GEOS HEAD from SVN and apply the attached patch
	2) Run ./configure
	3) Run the following command to persuade libtool to use
	a longer command line for linking:

	mv libtool libtool.orig
	cat libtool.orig | sed 's/max_cmd_len=8192/max_cmd_len=16384/g'
	> libtool

	4) Execute the build using "make" or "make install"


I have applied the patch to both a Win32 tree and a Linux tree, and both
seem to compile without any problems. If Charlie and Mateusz can confirm
that I haven't broken their builds, that would be great.


Kind regards,

Mark.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: geos-3.0.0-mingw.patch
Type: text/x-patch
Size: 1413 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20070103/e392e737/geos-3.0.0-mingw.bin
From mark.cave-ayland at ilande.co.uk  Wed Jan  3 08:23:46 2007
From: mark.cave-ayland at ilande.co.uk (Mark Cave-Ayland)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Patch: Fixing GEOS HEAD compilation under MingW
In-Reply-To: <1167814849.5617.22.camel@mca-desktop>
References: <1167814849.5617.22.camel@mca-desktop>
Message-ID: <1167830626.6306.5.camel@mca-desktop>

On Wed, 2007-01-03 at 09:00 +0000, Mark Cave-Ayland wrote:

> Finally, even when this patch is applied, the final link causes the
> MingW linker to segfault :( This is because libtool decides that the
> number of object files is so large that it needs to complete the final
> link in two stages, and my guess is that there is a bug somewhere in
> MingW's ld.exe when used in this way. Fortunately there is a way to
> alter libtool to persuade it to link the entire library in one go (see
> below).

(cut)

> 	3) Run the following command to persuade libtool to use
> 	a longer command line for linking:
> 
> 	mv libtool libtool.orig
> 	cat libtool.orig | sed 's/max_cmd_len=8192/max_cmd_len=16384/g'
> 	> libtool
> 
> 	4) Execute the build using "make" or "make install"


I've just discovered that the issue with ld.exe crashing was a problem
with my MingW setup - I've fixed this, and just completed a clean GEOS
build under MingW by downloading a fresh source and applying the patch
from my previous email :D


Kind regards,

Mark.



From ari.jolma at tkk.fi  Wed Jan  3 11:28:13 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Patch: Fixing GEOS HEAD compilation under MingW
In-Reply-To: <1167830626.6306.5.camel@mca-desktop>
References: <1167814849.5617.22.camel@mca-desktop>
	<1167830626.6306.5.camel@mca-desktop>
Message-ID: <459BD99D.4090106@tkk.fi>

Mark Cave-Ayland kirjoitti:
> I've just discovered that the issue with ld.exe crashing was a problem
> with my MingW setup - I've fixed this, and just completed a clean GEOS
> build under MingW by downloading a fresh source and applying the patch
> from my previous email :D
>   

Could you tell us what the problem was? I'm having similar problems with 
MinGW/MSYS when building GDAL. I changed the max_cmd_len to 50000 and it 
fixed the problem, but according to you my MinGW setup is faulty.

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka
Geoinformation and positioning technology
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From mark.cave-ayland at ilande.co.uk  Wed Jan  3 12:22:47 2007
From: mark.cave-ayland at ilande.co.uk (Mark Cave-Ayland)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Patch: Fixing GEOS HEAD compilation under MingW
In-Reply-To: <459BD99D.4090106@tkk.fi>
References: <1167814849.5617.22.camel@mca-desktop>
	<1167830626.6306.5.camel@mca-desktop>  <459BD99D.4090106@tkk.fi>
Message-ID: <1167844967.7125.18.camel@mca-desktop>

On Wed, 2007-01-03 at 18:28 +0200, Ari Jolma wrote:
> Mark Cave-Ayland kirjoitti:
> > I've just discovered that the issue with ld.exe crashing was a problem
> > with my MingW setup - I've fixed this, and just completed a clean GEOS
> > build under MingW by downloading a fresh source and applying the patch
> > from my previous email :D
> >   
> 
> Could you tell us what the problem was? I'm having similar problems with 
> MinGW/MSYS when building GDAL. I changed the max_cmd_len to 50000 and it 
> fixed the problem, but according to you my MinGW setup is faulty.
> 
> Ari


Hi Ari,

Sure. I found a second copy of ld.exe and a few other utilities
in /mingw/mingw32 even after I had upgraded the binutils package. The
solution for me was to extract the latest binutils package
(binutils-2.17.50-20060824-1.tar.gz) in /mingw/, and then move
the /mingw/mingw32 directory somewhere safe outside of /mingw/.

I then found that re-running configure allowed libtool to find the
version of ld.exe in /mingw/bin rather than /mingw/mingw32/bin, and the
linking problem disappeared. I'd be interested to hear whether this
solves the problem for you.


Kind regards,

Mark.



From ari.jolma at tkk.fi  Thu Jan  4 12:12:17 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Patch: Fixing GEOS HEAD compilation under MingW
In-Reply-To: <1167844967.7125.18.camel@mca-desktop>
References: <1167814849.5617.22.camel@mca-desktop>
	<1167830626.6306.5.camel@mca-desktop> <459BD99D.4090106@tkk.fi>
	<1167844967.7125.18.camel@mca-desktop>
Message-ID: <459D3571.3090600@tkk.fi>

Mark Cave-Ayland kirjoitti:
> Sure. I found a second copy of ld.exe and a few other utilities
> in /mingw/mingw32 even after I had upgraded the binutils package. 

there is /mingw/mingw32 is in binutils-2.17.50-20060824-1.tar.gz


> The
> solution for me was to extract the latest binutils package
> (binutils-2.17.50-20060824-1.tar.gz) in /mingw/, and then move
> the /mingw/mingw32 directory somewhere safe outside of /mingw/.
>   

I removed /mingw/mingw32 and, when updating, did not extract it from the 
new tar.gz
> I then found that re-running configure allowed libtool to find the
> version of ld.exe in /mingw/bin rather than /mingw/mingw32/bin, and the
> linking problem disappeared. I'd be interested to hear whether this
> solves the problem for you.
>   

The compilation now works after rerunning configure and with the libtool 
it creates. The problem seems to be solved. I just don't understand when 
/mingw/mingw32 is needed.

Thanks,

Ari

>
> Kind regards,
>
> Mark.
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@geos.refractions.net
> http://geos.refractions.net/mailman/listinfo/geos-devel
>   


-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka
Geoinformation and positioning technology
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From pramsey at refractions.net  Thu Jan  4 16:04:49 2007
From: pramsey at refractions.net (Paul Ramsey)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Another RC?
Message-ID: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>

How are things looking relative to release? Safe Software found the  
buffer big, and hopefully that is gone now, what is left before we  
cut another release?

P

From strk at refractions.net  Thu Jan  4 16:32:58 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Another RC?
In-Reply-To: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>
References: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>
Message-ID: <20070104213258.GB17715@keybit.net>

On Thu, Jan 04, 2007 at 01:04:49PM -0800, Paul Ramsey wrote:
> How are things looking relative to release? Safe Software found the  
> buffer big, and hopefully that is gone now, what is left before we  
> cut another release?

I took a look at bug tracker, this one seems interesting to close
before rc4:

http://www.postgis.org/bugs/bug.php?op=show&bugid=136&pos=4

Would like to have a confirmation by someone on a 64bit arch
and swig enabled (patch attached to bug item).

--strk;

From strk at refractions.net  Thu Jan  4 16:46:52 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Another RC?
In-Reply-To: <20070104213258.GB17715@keybit.net>
References: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>
	<20070104213258.GB17715@keybit.net>
Message-ID: <20070104214652.GC17715@keybit.net>

Ok, I committed that patch. Made sense given last changes to the C-API
interface. Also, I made geos.i generated by ./configure so we don't
have to manually replace versions.

Note that ./configure should work on any POSIX system.

--strk;

On Thu, Jan 04, 2007 at 10:32:58PM +0100, strk@refractions.net wrote:
> On Thu, Jan 04, 2007 at 01:04:49PM -0800, Paul Ramsey wrote:
> > How are things looking relative to release? Safe Software found the  
> > buffer big, and hopefully that is gone now, what is left before we  
> > cut another release?
> 
> I took a look at bug tracker, this one seems interesting to close
> before rc4:
> 
> http://www.postgis.org/bugs/bug.php?op=show&bugid=136&pos=4
> 
> Would like to have a confirmation by someone on a 64bit arch
> and swig enabled (patch attached to bug item).
> 
> --strk;

From cfis at savagexi.com  Thu Jan  4 17:46:34 2007
From: cfis at savagexi.com (Charlie Savage)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Another RC?
In-Reply-To: <20070104214652.GC17715@keybit.net>
References: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>	<20070104213258.GB17715@keybit.net>
	<20070104214652.GC17715@keybit.net>
Message-ID: <459D83CA.3020402@savagexi.com>

Hey Strk,

What do you mean regenerate geos.i?  What part changes?

Charlie

strk@refractions.net wrote:
> Ok, I committed that patch. Made sense given last changes to the C-API
> interface. Also, I made geos.i generated by ./configure so we don't
> have to manually replace versions.
> 
> Note that ./configure should work on any POSIX system.
> 
> --strk;
> 
> On Thu, Jan 04, 2007 at 10:32:58PM +0100, strk@refractions.net wrote:
>> On Thu, Jan 04, 2007 at 01:04:49PM -0800, Paul Ramsey wrote:
>>> How are things looking relative to release? Safe Software found the  
>>> buffer big, and hopefully that is gone now, what is left before we  
>>> cut another release?
>> I took a look at bug tracker, this one seems interesting to close
>> before rc4:
>>
>> http://www.postgis.org/bugs/bug.php?op=show&bugid=136&pos=4
>>
>> Would like to have a confirmation by someone on a 64bit arch
>> and swig enabled (patch attached to bug item).
>>
>> --strk;
> _______________________________________________
> geos-devel mailing list
> geos-devel@geos.refractions.net
> http://geos.refractions.net/mailman/listinfo/geos-devel
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3237 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20070104/ee4f788d/smime.bin
From cfis at savagexi.com  Thu Jan  4 17:48:11 2007
From: cfis at savagexi.com (Charlie Savage)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Patch: Fixing GEOS HEAD compilation under MingW
In-Reply-To: <1167844967.7125.18.camel@mca-desktop>
References: <1167814849.5617.22.camel@mca-desktop>	<1167830626.6306.5.camel@mca-desktop>
	<459BD99D.4090106@tkk.fi> <1167844967.7125.18.camel@mca-desktop>
Message-ID: <459D842B.3090000@savagexi.com>

Hi Mark,

Thanks for making this work - I had no luck before.  I've also noticed 
that some functions that were not previously defined in MingW are now 
defined in the latest versions (off the top of my head infinity I think 
was one, but would have to check).  Did you run into any problems like that?

Charlie

Mark Cave-Ayland wrote:
> On Wed, 2007-01-03 at 18:28 +0200, Ari Jolma wrote:
>> Mark Cave-Ayland kirjoitti:
>>> I've just discovered that the issue with ld.exe crashing was a problem
>>> with my MingW setup - I've fixed this, and just completed a clean GEOS
>>> build under MingW by downloading a fresh source and applying the patch
>>> from my previous email :D
>>>   
>> Could you tell us what the problem was? I'm having similar problems with 
>> MinGW/MSYS when building GDAL. I changed the max_cmd_len to 50000 and it 
>> fixed the problem, but according to you my MinGW setup is faulty.
>>
>> Ari
> 
> 
> Hi Ari,
> 
> Sure. I found a second copy of ld.exe and a few other utilities
> in /mingw/mingw32 even after I had upgraded the binutils package. The
> solution for me was to extract the latest binutils package
> (binutils-2.17.50-20060824-1.tar.gz) in /mingw/, and then move
> the /mingw/mingw32 directory somewhere safe outside of /mingw/.
> 
> I then found that re-running configure allowed libtool to find the
> version of ld.exe in /mingw/bin rather than /mingw/mingw32/bin, and the
> linking problem disappeared. I'd be interested to hear whether this
> solves the problem for you.
> 
> 
> Kind regards,
> 
> Mark.
> 
> 
> _______________________________________________
> geos-devel mailing list
> geos-devel@geos.refractions.net
> http://geos.refractions.net/mailman/listinfo/geos-devel
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3237 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20070104/6be3eea4/smime.bin
From strk at refractions.net  Thu Jan  4 18:06:14 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Another RC?
In-Reply-To: <459D83CA.3020402@savagexi.com>
References: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>
	<20070104213258.GB17715@keybit.net>
	<20070104214652.GC17715@keybit.net> <459D83CA.3020402@savagexi.com>
Message-ID: <20070104230614.GE17715@keybit.net>

On Thu, Jan 04, 2007 at 03:46:34PM -0700, Charlie Savage wrote:
> Hey Strk,
> 
> What do you mean regenerate geos.i?  What part changes?

I just mean that it will be generated running ./configure.
This is only to substitute version strings (they were shipped as rc1 in rc3).

BTW, another problem is failing 'make check':


swig/python/Makefile.am:16: `pkgpyexec_LTLIBRARIES' is used but `pkgpyexecdir' is undefined
swig/python/Makefile.am:16:
swig/python/Makefile.am:16: The usual way to define `pkgpyexecdir' is to add `AM_PATH_PYTHON'
swig/python/Makefile.am:16: to `configure.in' and run `aclocal' and `autoconf' again.
swig/python/Makefile.am:15: `pkgpython_PYTHON' is used but `pkgpythondir' is undefined
swig/python/Makefile.am:15:
swig/python/Makefile.am:15: The usual way to define `pkgpythondir' is to add `AM_PATH_PYTHON'
swig/python/Makefile.am:15: to `configure.in' and run `aclocal' and `autoconf' again.
swig/python/Makefile.am:14: `python_DATA' is used but `pythondir' is undefined
swig/python/Makefile.am:14:
swig/python/Makefile.am:14: The usual way to define `pythondir' is to add `AM_PATH_PYTHON'
swig/python/Makefile.am:14: to `configure.in' and run `aclocal' and `autoconf' again.
swig/python/Makefile.am:24: variable `_geos_la_LIBADD' is defined but no program or
swig/python/Makefile.am:24: library has `_geos_la' as canonic name (possible typo)
swig/python/Makefile.am:23: variable `_geos_la_LDFLAGS' is defined but no program or
swig/python/Makefile.am:23: library has `_geos_la' as canonic name (possible typo)
swig/python/Makefile.am:18: variable `_geos_la_SOURCES' is defined but no program or
swig/python/Makefile.am:18: library has `_geos_la' as canonic name (possible typo)

--strk;

From mateusz at loskot.net  Thu Jan  4 18:24:05 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Building GDAL with GEOS in Unix
In-Reply-To: <20061214145858.6BEAE2C1654@netnation.refractions.net>
References: <20061214145858.6BEAE2C1654@netnation.refractions.net>
Message-ID: <459D8C95.4020406@loskot.net>

Elavazhagan.M wrote:
> 
> ?./configure ?with-geos=yes?. This did not work so I tried with
> ?./configure  --with-geos=/root/usr/bin/geos-config? also.

Could you check if in the summary output from the ./configure
includes GEOS support marked with yes?

> Do I need to change anything in the makefiles of GDAL?

No, you should not need to change anything there.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mgleahy at alumni.uwaterloo.ca  Thu Jan  4 18:49:22 2007
From: mgleahy at alumni.uwaterloo.ca (Mike Leahy)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Another RC?
In-Reply-To: <20070104213258.GB17715@keybit.net>
References: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>
	<20070104213258.GB17715@keybit.net>
Message-ID: <459D9282.80203@alumni.uwaterloo.ca>

Hey,

I'm not sure if you're still interested in feedback on this, but I can
confirm that this bug exists and is fixed by that patch on FC6-x86_64
with geos-3.0.0rc3.

Mike

strk@refractions.net wrote:
> On Thu, Jan 04, 2007 at 01:04:49PM -0800, Paul Ramsey wrote:
>> How are things looking relative to release? Safe Software found the  
>> buffer big, and hopefully that is gone now, what is left before we  
>> cut another release?
> 
> I took a look at bug tracker, this one seems interesting to close
> before rc4:
> 
> http://www.postgis.org/bugs/bug.php?op=show&bugid=136&pos=4
> 
> Would like to have a confirmation by someone on a 64bit arch
> and swig enabled (patch attached to bug item).
> 
> --strk;
> _______________________________________________
> geos-devel mailing list
> geos-devel@geos.refractions.net
> http://geos.refractions.net/mailman/listinfo/geos-devel
> 

From strk at refractions.net  Thu Jan  4 19:02:13 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Another RC?
In-Reply-To: <20070104230614.GE17715@keybit.net>
References: <31E8D8B5-B59D-4441-9D4A-F8C87688AD35@refractions.net>
	<20070104213258.GB17715@keybit.net>
	<20070104214652.GC17715@keybit.net> <459D83CA.3020402@savagexi.com>
	<20070104230614.GE17715@keybit.net>
Message-ID: <20070105000213.GG17715@keybit.net>

On Fri, Jan 05, 2007 at 12:06:14AM +0100, strk@refractions.net wrote:

> BTW, another problem is failing 'make check':
> 
> 
> swig/python/Makefile.am:16: `pkgpyexec_LTLIBRARIES' is used but `pkgpyexecdir' is undefined
> swig/python/Makefile.am:16:
> swig/python/Makefile.am:16: The usual way to define `pkgpyexecdir' is to add `AM_PATH_PYTHON'
> swig/python/Makefile.am:16: to `configure.in' and run `aclocal' and `autoconf' again.
> swig/python/Makefile.am:15: `pkgpython_PYTHON' is used but `pkgpythondir' is undefined

Done as it said. It is now fixed.
I don't have swig here so can't check actual build of it.

--strk;

From strk at refractions.net  Thu Jan  4 19:45:38 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Dimension of EMPTY geoms
In-Reply-To: <45742E4E.3030308@loskot.net>
References: <20061204125233.GG51418@keybit.net> <45742E4E.3030308@loskot.net>
Message-ID: <20070105004538.GA24678@keybit.net>

On Mon, Dec 04, 2006 at 03:18:54PM +0100, Mateusz Loskot wrote:
> strk@refractions.net wrote:

> > 2) Should CAPI's GEOSCoordSeq_create() raise an error if requested to
> > create anything but a 3d geom ? (the only one supported)
> 
> I think that if it can detect unsupported request, then the fact
> should be reported with an error code.

I tried implementhing this by having CoordinateArraySequence throwing
an UnsupportedOperationException (the rest would be automatic).

Problem here is that the WKB parser really wants to create a 2d
coordinatesequence, not a 3d one, so we *need* to support 2 dimensions
somehow.

Another approach could be storing the dimensionality information in the
CoordinateSequence class. That would be completely logical and could
open the door for future use of a Coordinate2D class (a polymorphic
Coordinate is probably going to take performance even worst though).

--strk;

From mark.cave-ayland at ilande.co.uk  Fri Jan  5 03:51:59 2007
From: mark.cave-ayland at ilande.co.uk (Mark Cave-Ayland)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Patch: Fixing GEOS HEAD compilation under MingW
In-Reply-To: <459D842B.3090000@savagexi.com>
References: <1167814849.5617.22.camel@mca-desktop>
	<1167830626.6306.5.camel@mca-desktop> <459BD99D.4090106@tkk.fi>
	<1167844967.7125.18.camel@mca-desktop> <459D842B.3090000@savagexi.com>
Message-ID: <1167987119.6407.6.camel@mca-desktop>

On Thu, 2007-01-04 at 15:48 -0700, Charlie Savage wrote:
> Hi Mark,
> 
> Thanks for making this work - I had no luck before.  I've also noticed 
> that some functions that were not previously defined in MingW are now 
> defined in the latest versions (off the top of my head infinity I think 
> was one, but would have to check).  Did you run into any problems like that?
> 
> Charlie


Hi Charlie,

No, I don't think I've seen this although I've only been looking at the
problem on-and-off since RC1. Glad that you could replicate a build from
the current SVN as so far I think we are the only two people actively
using MingW!

If GEOS hits RC4, I'm tempted to put out a "technology preview" of the
PostGIS Win32 installer for PostgreSQL 8.2 with PostGIS 1.2/GEOS 3.0RC4
for testing purposes. Since my only test has been to run XMLTester and
see that all tests pass, I think that the extra user accessibility may
help catch any subtle last minute bugs. Paul, does that sound as if it
would be a useful idea?


Kind regards,

Mark.



From joanne.matthews at bbsrc.ac.uk  Fri Jan  5 09:09:30 2007
From: joanne.matthews at bbsrc.ac.uk (joanne matthews (RRes-Roth))
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Building the geos bindings for python 2.5
Message-ID: <EFDAAE7F4B83D243868A2F25AD8A4B38057ED813@rothe2ksrv1.rothamsted.bbsrc.ac.uk>

Can anyone explain how I build the geos bindings for python 2.5 on
windows. I have no experience with c and just enough swig to get me by,
so I'm following the readme instructions in the swig/python directory.
This is what Ive done so far:

Cd C:\geos-2.2.1\swig\python
swig -c++ -python -modern -o geos_wrap.cxx ../geos.i

Here's the error message:

..\..\source\headers\geos\geom.h(622): Warning(509): Overloaded
add(geos::Coord
nateSequence const *,bool,bool) is shadowed by
add(geos::CoordinateSequence *,b
ol,bool) at ..\..\source\headers\geos\geom.h:612.
..\..\source\headers\geos\geom.h(671): Warning(509): Overloaded
geos::Coordinat
Sequence::hasRepeatedPoints(geos::CoordinateSequence const *) is
shadowed by ha
RepeatedPoints() const at ..\..\source\headers\geos\geom.h:658.
..\..\source\headers\geos\geom.h(684): Warning(509): Overloaded
geos::Coordinat
Sequence::minCoordinate(geos::CoordinateSequence *) is shadowed by
minCoordinat
() const at ..\..\source\headers\geos\geom.h:661.
..\..\source\headers\geos\geom.h(2354): Warning(509): Overloaded
createPoint(ge
s::CoordinateSequence const &) const is shadowed by
createPoint(geos::Coordinat
Sequence *) const at ..\..\source\headers\geos\geom.h:2351.
..\..\source\headers\geos\geom.h(2363): Warning(509): Overloaded
createGeometry
ollection(vector<geos::Geometry * > const &) const is shadowed by
createGeometr
Collection(vector<geos::Geometry * > *) const at
..\..\source\headers\geos\geom
h:2360.
..\..\source\headers\geos\geom.h(2372): Warning(509): Overloaded
createMultiLin
String(vector<geos::Geometry * > const &) const is shadowed by
createMultiLineS
ring(vector<geos::Geometry * > *) const at
..\..\source\headers\geos\geom.h:236
.
..\..\source\headers\geos\geom.h(2381): Warning(509): Overloaded
createMultiPol
gon(vector<geos::Geometry * > const &) const is shadowed by
createMultiPolygon(
ector<geos::Geometry * > *) const at
..\..\source\headers\geos\geom.h:2378.
..\..\source\headers\geos\geom.h(2390): Warning(509): Overloaded
createLinearRi
g(geos::CoordinateSequence const &) const is shadowed by
createLinearRing(geos:
CoordinateSequence *) const at ..\..\source\headers\geos\geom.h:2387.
..\..\source\headers\geos\geom.h(2399): Warning(509): Overloaded
createMultiPoi
t(vector<geos::Geometry * > const &) const is shadowed by
createMultiPoint(vect
r<geos::Geometry * > *) const at ..\..\source\headers\geos\geom.h:2396.
..\..\source\headers\geos\geom.h(2411): Warning(509): Overloaded
createPolygon(
eos::LinearRing const &,vector<geos::Geometry * > const &) const is
shadowed by
createPolygon(geos::LinearRing *,vector<geos::Geometry * > *) const at
..\..\so
rce\headers\geos\geom.h:2408.
..\..\source\headers\geos\geom.h(2420): Warning(509): Overloaded
createLineStri
g(geos::CoordinateSequence const &) const is shadowed by
createLineString(geos:
CoordinateSequence *) const at ..\..\source\headers\geos\geom.h:2417.
..\..\source\headers\geos\geom.h(2426): Warning(509): Overloaded
buildGeometry(
ector<geos::Geometry * > const &) const is shadowed by
buildGeometry(vector<geo
::Geometry * > *) const at ..\..\source\headers\geos\geom.h:2423.

Any advice appreciated.

From sgillies at frii.com  Fri Jan  5 12:01:28 2007
From: sgillies at frii.com (Sean Gillies)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Building the geos bindings for python 2.5
In-Reply-To: <EFDAAE7F4B83D243868A2F25AD8A4B38057ED813@rothe2ksrv1.rothamsted.bbsrc.ac.uk>
References: <EFDAAE7F4B83D243868A2F25AD8A4B38057ED813@rothe2ksrv1.rothamsted.bbsrc.ac.uk>
Message-ID: <459E8468.1000508@frii.com>

joanne matthews (RRes-Roth) wrote:
> Can anyone explain how I build the geos bindings for python 2.5 on
> windows. I have no experience with c and just enough swig to get me by,
> so I'm following the readme instructions in the swig/python directory.
> This is what Ive done so far:
> 
> Cd C:\geos-2.2.1\swig\python
> swig -c++ -python -modern -o geos_wrap.cxx ../geos.i
> 
> Here's the error message:
> 
> ..\..\source\headers\geos\geom.h(622): Warning(509): Overloaded
> add(geos::Coord
> nateSequence const *,bool,bool) is shadowed by
> add(geos::CoordinateSequence *,b
> ol,bool) at ..\..\source\headers\geos\geom.h:612.
> ..\..\source\headers\geos\geom.h(671): Warning(509): Overloaded
> geos::Coordinat
> Sequence::hasRepeatedPoints(geos::CoordinateSequence const *) is
> shadowed by ha
> RepeatedPoints() const at ..\..\source\headers\geos\geom.h:658.
> ..\..\source\headers\geos\geom.h(684): Warning(509): Overloaded
> geos::Coordinat
> Sequence::minCoordinate(geos::CoordinateSequence *) is shadowed by
> minCoordinat
> () const at ..\..\source\headers\geos\geom.h:661.
> ..\..\source\headers\geos\geom.h(2354): Warning(509): Overloaded
> createPoint(ge
> s::CoordinateSequence const &) const is shadowed by
> createPoint(geos::Coordinat
> Sequence *) const at ..\..\source\headers\geos\geom.h:2351.
> ..\..\source\headers\geos\geom.h(2363): Warning(509): Overloaded
> createGeometry
> ollection(vector<geos::Geometry * > const &) const is shadowed by
> createGeometr
> Collection(vector<geos::Geometry * > *) const at
> ..\..\source\headers\geos\geom
> h:2360.
> ..\..\source\headers\geos\geom.h(2372): Warning(509): Overloaded
> createMultiLin
> String(vector<geos::Geometry * > const &) const is shadowed by
> createMultiLineS
> ring(vector<geos::Geometry * > *) const at
> ..\..\source\headers\geos\geom.h:236
> .
> ..\..\source\headers\geos\geom.h(2381): Warning(509): Overloaded
> createMultiPol
> gon(vector<geos::Geometry * > const &) const is shadowed by
> createMultiPolygon(
> ector<geos::Geometry * > *) const at
> ..\..\source\headers\geos\geom.h:2378.
> ..\..\source\headers\geos\geom.h(2390): Warning(509): Overloaded
> createLinearRi
> g(geos::CoordinateSequence const &) const is shadowed by
> createLinearRing(geos:
> CoordinateSequence *) const at ..\..\source\headers\geos\geom.h:2387.
> ..\..\source\headers\geos\geom.h(2399): Warning(509): Overloaded
> createMultiPoi
> t(vector<geos::Geometry * > const &) const is shadowed by
> createMultiPoint(vect
> r<geos::Geometry * > *) const at ..\..\source\headers\geos\geom.h:2396.
> ..\..\source\headers\geos\geom.h(2411): Warning(509): Overloaded
> createPolygon(
> eos::LinearRing const &,vector<geos::Geometry * > const &) const is
> shadowed by
> createPolygon(geos::LinearRing *,vector<geos::Geometry * > *) const at
> ..\..\so
> rce\headers\geos\geom.h:2408.
> ..\..\source\headers\geos\geom.h(2420): Warning(509): Overloaded
> createLineStri
> g(geos::CoordinateSequence const &) const is shadowed by
> createLineString(geos:
> CoordinateSequence *) const at ..\..\source\headers\geos\geom.h:2417.
> ..\..\source\headers\geos\geom.h(2426): Warning(509): Overloaded
> buildGeometry(
> ector<geos::Geometry * > const &) const is shadowed by
> buildGeometry(vector<geo
> ::Geometry * > *) const at ..\..\source\headers\geos\geom.h:2423.
> 
> Any advice appreciated.
> _______________________________________________
> geos-devel mailing list
> geos-devel@geos.refractions.net
> http://geos.refractions.net/mailman/listinfo/geos-devel
> 

Joanne,

The best supported GEOS-based Python geometry package is PCL's 
cartography.geometry. It depends only on the GEOS C API, not on SWIG, 
and has been successfully built and used on Windows as well as Linux.

The API is demonstrated in the PCL tests:

http://trac.gispython.org/projects/PCL/browser/PCL/tags/rel-0.11.0/PCL-Core/tests/Geometry.txt
http://trac.gispython.org/projects/PCL/browser/PCL/tags/rel-0.11.0/PCL-Core/tests/testpygeom.py

and my motivations for switching from the GEOS SWIG bindings (which I 
originally wrote) to a new module are explained at

http://zcologia.com/news/150.

PCL version 0.11 is available from

http://gispython.org/downloads/gispy/

Have you yet successfully built the GEOS C DLL on Windows? If so, 
building the PCL core should be a breeze, and I will be happy to help.

Cheers,
Sean

-- 
Sean Gillies
http://zcologia.com/news


From mateusz at loskot.net  Wed Jan 10 05:32:29 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] VC++ 8.0 build slave is back online
Message-ID: <45A4C0BD.4010609@loskot.net>

Hi,

I've just connected my build slave back to the Net.
It runs Windows XP + Visual C++ 8.0.

Just a reminder we have a Buildbot :-)

http://geos.builds.hobu.net/

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From jean-claude.repetto at worldonline.fr  Wed Jan 10 08:03:13 2007
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Converting shape files to GEOS geometries
Message-ID: <45A4E411.6030304@worldonline.fr>

Hello list,

This is a newbie question :

I want to create GEOS geometries from data stored in ESRI shapefiles.
Shapes are composed of several shells and holes. Shells points are
clockwise, holes are counterclockwise.

I am using the GEOS C API, as recommended in the documentation at
<http://geos.refractions.net/ro/doxygen_docs/html/>.

For each part of the shapes, I have successfully created a CoordSeq,
then a LinearRing. But to create polygons (before unioning them), I need
to know :
- if a ring is a shell or a hole. In the C++ API, there is a function
called IsCCW. But how can I do the test with the C API ?
- what hole belongs to what shell. Is there a simplest method than
creating polygons for each hole and testing if they are within every
shell ? Or is it preferable to make an union of all the shells, then
remove the intersections with the holes ? (Maybe the second method
doesn't work if there are shells inside a hole).

Perhaps there is already a program or a library that can do that ?

Thanks for any help,

Jean-Claude

From strk at refractions.net  Wed Jan 10 09:19:01 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Converting shape files to GEOS geometries
In-Reply-To: <45A4E411.6030304@worldonline.fr>
References: <45A4E411.6030304@worldonline.fr>
Message-ID: <20070110141901.GB38189@keybit.net>

On Wed, Jan 10, 2007 at 02:03:13PM +0100, Jean-Claude Repetto wrote:
> Hello list,
> 
> This is a newbie question :
> 
> I want to create GEOS geometries from data stored in ESRI shapefiles.
> Shapes are composed of several shells and holes. Shells points are
> clockwise, holes are counterclockwise.
> 
> I am using the GEOS C API, as recommended in the documentation at
> <http://geos.refractions.net/ro/doxygen_docs/html/>.
> 
> For each part of the shapes, I have successfully created a CoordSeq,
> then a LinearRing. But to create polygons (before unioning them), I need
> to know :
> - if a ring is a shell or a hole. In the C++ API, there is a function
> called IsCCW. But how can I do the test with the C API ?

You can't (w/out a feature addition to it).

> - what hole belongs to what shell. Is there a simplest method than
> creating polygons for each hole and testing if they are within every
> shell ? Or is it preferable to make an union of all the shells, then
> remove the intersections with the holes ? (Maybe the second method
> doesn't work if there are shells inside a hole).

Try with calling polygonize and then:

        /*
         * Iteratively invoke symdifference on outer rings
         * as suggested by Carl Anderson:
         * postgis-devel/2005-December/001805.html
         */

> Perhaps there is already a program or a library that can do that ?

PostGIS does it:

	o See lwgeom/lwgeom_geos_c.c for using the GEOS CAPI
	  (doesn't need CCW testing)

	o See loader/shp2pgsql.c for getting an WKB or WKT
	  representation you can feed to GEOS.

--strk;
	

From strk at refractions.net  Wed Jan 10 09:42:05 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Re: Geos Last version
In-Reply-To: <5eb35f470701100634k47f166a1qdf683c5728cf7fc8@mail.gmail.com>
References: <5eb35f470701100634k47f166a1qdf683c5728cf7fc8@mail.gmail.com>
Message-ID: <20070110144205.GA51926@keybit.net>

This kind of questions are better asked on the mailing list.

--strk;

On Wed, Jan 10, 2007 at 10:34:57AM -0400, Julio Galindo wrote:
> Dear Sandro,
> 
> On the fix of bugs 137 and 130 you mentioned that with the last release of
> GEOS those problems are fixed. I am working on Windows XP Platfform,
> unfortunately I don't have the Microsoft Visual C to compile GEOS with the
> last version. Is there any option to get the PostGis compiled for Windows
> with the last release of GEOS?
> 
> Regards,
> 
> Julio A. Galindo Q.

From mateusz at loskot.net  Wed Jan 10 09:54:42 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Converting shape files to GEOS geometries
In-Reply-To: <45A4E411.6030304@worldonline.fr>
References: <45A4E411.6030304@worldonline.fr>
Message-ID: <45A4FE32.2070309@loskot.net>

Jean-Claude Repetto wrote:
> Perhaps there is already a program or a library that can do that ?

Check sources of GDAL/OGR.
There is exportToGEOS function which follows this scheme:

1. Read shape to OGR geometry
2. Pass OGR geometry to the exportToGEOS
3. Export OGR geometry to WKB
4. Import WKB to GEOS


Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From anneldean at yahoo.com  Thu Jan 11 16:52:05 2007
From: anneldean at yahoo.com (Anne-Leslie Dean)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] C API Question
Message-ID: <712869.41232.qm@web39506.mail.mud.yahoo.com>

Hi,

I'm trying to use the C-API for GEOS.  I've been
experimenting with things just to see how it behaves
and I'm wondering if I'm trying to do something wrong.

I've built two (valid, per GEOSisValid) geometries
using GEOSGeom_createLineString.  Each one contains
two coordinates (a single line segment).  Together the
two geometries form a plus (+), i.e. two line
segments, crossing each other in the center.

Upon calling GEOSIntersects, GEOSCrosses and
GEOSOverlaps, they all return false.  This is not what
I expected.

Am I making some incorrect assumptions about what to
expect?

Thanks,
Anne-Leslie Dean


 
____________________________________________________________________________________
Have a burning question?  
Go to www.Answers.yahoo.com and get answers from real people who know.

From steines at wolke7.net  Thu Jan 11 18:34:53 2007
From: steines at wolke7.net (B Steines)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Buffer
In-Reply-To: <20061207153406.0495F2C0894@netnation.refractions.net>
References: <20061207153406.0495F2C0894@netnation.refractions.net>
Message-ID: <op.tl0jomhcs8vv9u@kleinmonet>

Hi,

Are some memory leaks in the buffer operation? I`ve tested it with the  
geos\doc\example.cpp (geos 1959) with Visual Studio.

Ragards,

Steines

From mateusz at loskot.net  Fri Jan 12 01:13:09 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Nov  2 20:53:38 2007
Subject: [geos-devel] Buffer
In-Reply-To: <op.tl0jomhcs8vv9u@kleinmonet>
References: <20061207153406.0495F2C0894@netnation.refractions.net>
	<op.tl0jomhcs8vv9u@kleinmonet>
Message-ID: <45A726F5.5070107@loskot.net>

B Steines wrote:
> Hi,
> 
> Are some memory leaks in the buffer operation?

I don't know about any, but possible, as always in a software.

> I`ve tested it with the
> geos\doc\example.cpp (geos 1959) with Visual Studio.

And? What results?

Cheers

-- 
Mateusz Loskot
http://mateusz.loskot.net

From strk at refractions.net  Fri Jan 12 05:18:38 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Re: Another Crash with difference
In-Reply-To: <A4A64E4C2FE1A14EA3C90091802F13A0226122@mowa.idu.de>
References: <A4A64E4C2FE1A14EA3C90091802F13A0226122@mowa.idu.de>
Message-ID: <20070112101838.GA84292@keybit.net>

Could you provide XML testcases for GEOS ?
That would show if the problem is in GEOS or postgis.
You can take the file:
	tests/xmltester/stmlf-cases-20061020.xml
as a template.

The 'areatest' operation will compute intersection, difference, symdifference and
union or the input geoms and compute discrepancies. The 'expected' value is the
max tolerated area difference (5 or 1 for stmlf-cases).
Since you're reporting crashes it does not really matter how big that tolerance would
be... as we'd be expecting a crash.

--strk;

On Fri, Jan 12, 2007 at 10:15:45AM +0100, Rene Neidt wrote:
> Hello Strk, 
>  
> If i execute the following statement, the server closes the connection, both geometrys are valid.
> select differnce(
> 
> '01060000001C000000010300000001000000040000005C8FC245BCA25441F853E3DD919355419133753ABCA25441053861CD91935541E833753ABCA25441853861CD919355415C8FC245BCA25441F853E3DD91935541010300000001000000040000009133753ABCA25441053861CD91935541C520B01ABCA2544123DBF99E919355418833753ABCA25441F83761CD919355419133753ABCA25441053861CD9193554101030000000100000004000000F24283B3B4A254418422B80B87935541FD3F83B3B4A254415B1EB80B879355418FC2F508B4A25441C3F5281C86935541F24283B3B4A254418422B80B87935541010300000001000000070000007B14AE1FB2A25441B072686183935541736891E5AFA25441B81E8533809355412FDD2496AFA25441560E2DC27F9355416A184AE0AFA2544113B2FC2B809355415C8FC2E5AFA254413D0AD733809355412881420FB0A25441B1F5096F809355417B14AE1FB2A25441B07268618393554101030000000100000005000000448B6CD7A9A2544139B4C88E77935541BD7206BDA9A25441E03F2169779355415C8FC2A5A9A2544185EB514877935541AE7206BDA9A25441CB3F216977935541448B6CD7A9A2544139B4C88E7793554101030000000100000004000000AD448E189CA2544144E1C8F86393554154BF62AF9BA25441505D126363935541F6285CAF9BA254413333336363935541AD448E189CA2544144E1C8F863935541010300000001000000040000009CC420189BA2544104560E4D5B935541C74B377197A25441D122DBC15A9355416D707F0798A25441E74A3BD85A9355419CC420189BA2544104560E4D5B9355410103000000010000000400000052B81EED90A25441EC51B83E54935541C1CAA10D8FA2544148E17A7451935541E6A570C18FA2544196EE51805293554152B81EED90A25441EC51B83E5493554101030000000100000004000000ED2D96108BA25441051F3EAB4B9355418A2D96108BA25441761E3EAB4B9355413D0AD7338DA254415C8FC2C54E935541ED2D96108BA25441051F3EAB4B935541010300000001000000040000008DF47DDF8AA2544134CC05644B93554128F47DDF8AA25441A1CB05644B93554152B81E7589A25441713D0A57499355418DF47DDF8AA2544134CC05644B9355410103000000010000000400000004560E2D85A254415A643B4743935541000000D082A25441250681CD3F935541773FCC6B83A25441F25B9AB24093554104560E2D85A254415A643B474393554101030000000100000014000000819543D375A25441000000702D935541B6F3FDE471A254412DB29D5731935541FCA9F1E272A254415C8FC27D31935541C520B02275A25441250681AD34935541B6F3FD8475A254418B6CE72B35935541355EBAA975A25441BC749318359355411B2FDD1C77A2544104560E85379355412FDD243677A254416F1283A83793554139B4C8B677A254413108AC5C389355414A0C029379A254413BDF4F1D3B9355419102F4F578A25441AA6AED343A93554148E17AB477A254417B14AE573893554152B81E3577A2544148E17AA437935541B81E851B77A254410AD7A380379355419A9999A975A254413D0AD7133593554148E17A8475A25441713D0A2735935541295C8F2275A2544185EB51A83493554148E17AE472A25441A4703D7A31935541291701E871A2544182A89F5431935541819543D375A25441000000702D93554101030000000100000006000000B579E52F7FA25441B2E4F0124393554104560E557FA254410C022B57439355417593186C81A254418FC2F540469355413EC2875880A254417C5FD9C04493554152B81E557FA25441713D0A5743935541B579E52F7FA25441B2E4F01243935541010300000001000000070000007593186C81A254418FC2F54046935541DD2406F182A2544189416095489355416ABC744B85A254415839B4C84B935541E94EE8C784A254412D23CB154B93554114AE47F182A2544152B81E95489355412EF656CF81A25441B81E26D9469355417593186C81A254418FC2F5404693554101030000000100000005000000809754BF85A25441F27DDB674C9355416F12839086A254410C022B874D935541652160F887A2544191B2E8894F9355410AD7A39086A25441713D0A874D935541809754BF85A25441F27DDB674C93554101030000000100000006000000666666D688A2544191ED7CC750935541FCA9F1328AA25441AAF1D2BD5293554131A117908AA254417F880C4453935541333333338AA25441E17A14BE5293554123BD00B289A25441541EFD0352935541666666D688A2544191ED7CC7509355410103000000010000000400000031A117908AA254417F880C44539355415839B4108BA25441894160FD5393554149A117908AA25441A1880C445393554131A117908AA254417F880C4453935541010300000001000000040000005839B4108BA25441894160FD53935541FA41670E8CA25441C185F56755935541AF3E670E8CA254410C81F567559355415839B4108BA25441894160FD5393554101030000000100000009000000FA41670E8CA25441C185F56755935541EC51B8568DA25441A01A2F3D579355412FDD24468FA2544104560E0D5A9355410681958B90A2544121B072D85B93554182A07A2C91A25441514995BB5C935541B81E858B90A2544185EB51D85B935541666666468FA25441CDCCCC0C5A935541713D0A578DA25441D7A3703D57935541FA41670E8CA25441C185F567559355410103000000010000000400000082A07A2C91A25441514995BB5C935541B6F3FD6C91A254419EEFA7165D935541C4A37A2C91A25441EA4D95BB5C93554182A07A2C91A25441514995BB5C93554101030000000100000004000000A5A644AD91A25441FE677FDD64935541FCA9F1DA91A25441A245B62B6593554117A844AD91A25441776A7FDD64935541A5A644AD91A25441FE677FDD649355410103000000010000000400000056D0BCD993A25441741BC98B659355415BD2BCD993A25441D51BC98B6593554152B81E6593A254415C8FC2756593554156D0BCD993A25441741BC98B6593554101030000000100000007000000AE47E1BA98A25441DF4F8D97679355416DE7FB619AA25441EE7C3FF569935541BA490C929CA25441D578E9166D935541E8228C9C9AA25441010F13496A9355411F85EB619AA2544152B81EF569935541E90F4B049AA2544185E71F6F69935541AE47E1BA98A25441DF4F8D976793554101030000000100000004000000D34D62989CA25441000000206D9355414A0C025B9DA25441508D97366E9355412C12DF499DA25441E3DE0F1E6E935541D34D62989CA25441000000206D93554101030000000100000004000000D5F04439A0A254416BFCF05872935541E9F34439A0A25441E200F1587293554100000000A1A254418FC2F57873935541D5F04439A0A254416BFCF05872935541010300000001000000040000002FDD247EA2A25441FA7E6A8C759355417F6ABC2CA3A25441BE9F1A7F76935541D2A270D5A2A25441F18DC205769355412FDD247EA2A25441FA7E6A8C75935541010300000001000000050000007F6ABC2CA3A25441BE9F1A7F769355414D412ABFA4A2544170642EBF7893554114AE4771A5A25441E17A14BE79935541B2372ABFA4A25441AF562EBF789355417F6ABC2CA3A25441BE9F1A7F7693554101030000000100000005000000B81E85FBADA25441000000F085935541022B87DEAFA25441F2D24DA2889355417B14AEE7AFA25441F6285CAF88935541EC51B8DEAFA25441295C8FA288935541B81E85FBADA25441000000F085935541',
> 
> '010300000001000000090000001340670E8CA254410883F56755935541713D0A578DA25441D7A3703D57935541666666468FA25441CDCCCC0C5A935541B81E858B90A2544185EB51D85B935541CD9D7A2C91A254417E4595BB5C9355410681958B90A2544121B072D85B9355412FDD24468FA2544104560E0D5A935541EC51B8568DA25441A01A2F3D579355411340670E8CA254410883F56755935541'
> 
> )
> 
> Greetings,
> Rene
> 
> __________________________________________________________________
> 
> Rene Neidt
> Projektleiter Software
> IDU Ingenieurgesellschaft f?r Datenverarbeitung und Umweltschutz mbH
> 
> Zittau
> Theodor-K?rner-Allee 16
> 02763 Zittau
> Germany
> Tel ++49 3583 61-15-37
> Fax ++49 3583 61-12-10
> 
> NL Dresden
> Deutsche Werkst?tten Hellerau 
> Moritzburger Weg 67
> 01109 Dresden
> Germany
> B?roeinheit 1/19 im Geb?ude A
> Tel ++49 0351 88-38-35-31
> 
> Internet  http://www.idu.de/ <http://www.idu.de/> , http://www.webmapserver.de/ <http://www.webmapserver.de/> 
> Anfahrt: http://www.stadtplan-zittau.de/?alias=idu <http://www.stadtplan-zittau.de/?alias=idu> 
> 
>  

-- 

 /"\    ASCII Ribbon Campaign
 \ /    Respect for low technology.
  X     Keep e-mail messages readable by any computer system.
 / \    Keep it ASCII. 


From strk at refractions.net  Fri Jan 12 06:56:10 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] C API Question
In-Reply-To: <712869.41232.qm@web39506.mail.mud.yahoo.com>
References: <712869.41232.qm@web39506.mail.mud.yahoo.com>
Message-ID: <20070112115610.GC84292@keybit.net>

On Thu, Jan 11, 2007 at 01:52:05PM -0800, Anne-Leslie Dean wrote:

> I've built two (valid, per GEOSisValid) geometries
> using GEOSGeom_createLineString.  Each one contains
> two coordinates (a single line segment).  Together the
> two geometries form a plus (+), i.e. two line
> segments, crossing each other in the center.
> 
> Upon calling GEOSIntersects, GEOSCrosses and
> GEOSOverlaps, they all return false.  This is not what
> I expected.
>
> Am I making some incorrect assumptions about what to
> expect?

This is what to expect:

=# select intersects(a, b), crosses(a, b), overlaps(a,b) from
	( select 'LINESTRING(-10 0, 10 0)'::geometry as a,
	  'LINESTRING(0 10, 0 -10)'::geometry as b ) as foo;
 intersects | crosses | overlaps
------------+---------+----------
 t          | t       | f

Results obtained with GEOS="3.0.0rc4-CAPI-1.3.2" (PostGIS linked against C-API).
What GEOS version are you using ?

--strk;

From strk at refractions.net  Fri Jan 12 08:27:59 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Re: Another Crash with difference
In-Reply-To: <A4A64E4C2FE1A14EA3C90091802F13A055AD@mowa.idu.de>
References: <A4A64E4C2FE1A14EA3C90091802F13A0226122@mowa.idu.de>
	<20070112101838.GA84292@keybit.net>
	<A4A64E4C2FE1A14EA3C90091802F13A055AD@mowa.idu.de>
Message-ID: <20070112132759.GD84292@keybit.net>

On Fri, Jan 12, 2007 at 01:32:51PM +0100, Rene Neidt wrote:
> Hello strk,
> i have excuted ...
> 
> ./XMLTester renetest.xml                                         
> 
> an will get an "Speicherzugriffsfehler" (Memoryexception)
> For both geometry isValid in Postgres returns true.
> Greetings
> Rene

Confirmed and in progress.

--strk;

From anneldean at yahoo.com  Fri Jan 12 08:39:56 2007
From: anneldean at yahoo.com (Anne-Leslie Dean)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] C API Question
In-Reply-To: <20070112115610.GC84292@keybit.net>
Message-ID: <766260.37742.qm@web39513.mail.mud.yahoo.com>

--- strk@refractions.net wrote:
> This is what to expect:
> 
> =# select intersects(a, b), crosses(a, b),
> overlaps(a,b) from
> 	( select 'LINESTRING(-10 0, 10 0)'::geometry as a,
> 	  'LINESTRING(0 10, 0 -10)'::geometry as b ) as
> foo;
>  intersects | crosses | overlaps
> ------------+---------+----------
>  t          | t       | f
> 

Well, that was silly of me.  I found a bug in my test
data....  OF COURSE those two line-segments don't
cross!   I now get the same results that your example
is giving.

Out of curiousity, what constitutes an "overlap"?

Thanks,
A-L








 
____________________________________________________________________________________
TV dinner still cooling? 
Check out "Tonight's Picks" on Yahoo! TV.
http://tv.yahoo.com/

From schabi at logix-tt.com  Fri Jan 12 08:48:28 2007
From: schabi at logix-tt.com (Markus Schaber)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] C API Question
In-Reply-To: <766260.37742.qm@web39513.mail.mud.yahoo.com>
References: <20070112115610.GC84292@keybit.net>
	<766260.37742.qm@web39513.mail.mud.yahoo.com>
Message-ID: <20070112144828.6ca85492@kingfisher.sec.intern.logix-tt.com>

Hi, Anne-Leslie,

Anne-Leslie Dean <anneldean@yahoo.com> wrote:

> Out of curiousity, what constitutes an "overlap"?

Try LINESTRING(0 0, 0 2) and LINESTRING(0 1, 0 3).


Regards,
Markus

-- 
Markus Schaber | Logical Tracking&Tracing International AG
Dipl. Inf.     | Software Development GIS

Fight against software patents in Europe! www.ffii.org
www.nosoftwarepatents.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20070112/8a52d4bd/signature.bin
From anneldean at yahoo.com  Fri Jan 12 12:03:44 2007
From: anneldean at yahoo.com (Anne-Leslie Dean)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] C API Question
In-Reply-To: <20070112144828.6ca85492@kingfisher.sec.intern.logix-tt.com>
Message-ID: <437756.18568.qm@web39515.mail.mud.yahoo.com>

Thanks!
--- Markus Schaber <schabi@logix-tt.com> wrote:

> Hi, Anne-Leslie,
> 
> Anne-Leslie Dean <anneldean@yahoo.com> wrote:
> 
> > Out of curiousity, what constitutes an "overlap"?
> 
> Try LINESTRING(0 0, 0 2) and LINESTRING(0 1, 0 3).
> 
> 
> Regards,
> Markus
> 
> -- 
> Markus Schaber | Logical Tracking&Tracing
> International AG
> Dipl. Inf.     | Software Development GIS
> 
> Fight against software patents in Europe!
> www.ffii.org
> www.nosoftwarepatents.org
> > _______________________________________________
> geos-devel mailing list
> geos-devel@geos.refractions.net
>
http://geos.refractions.net/mailman/listinfo/geos-devel
> 




 
____________________________________________________________________________________
Need Mail bonding?
Go to the Yahoo! Mail Q&A for great tips from Yahoo! Answers users.
http://answers.yahoo.com/dir/?link=list&sid=396546091

From strk at refractions.net  Tue Jan 16 19:09:34 2007
From: strk at refractions.net (strk@refractions.net)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Re: Another Crash with difference
In-Reply-To: <20070112132759.GD84292@keybit.net>
References: <A4A64E4C2FE1A14EA3C90091802F13A0226122@mowa.idu.de>
	<20070112101838.GA84292@keybit.net>
	<A4A64E4C2FE1A14EA3C90091802F13A055AD@mowa.idu.de>
	<20070112132759.GD84292@keybit.net>
Message-ID: <20070117000934.GA87588@keybit.net>

On Fri, Jan 12, 2007 at 02:27:59PM +0100, strk@refractions.net wrote:
> On Fri, Jan 12, 2007 at 01:32:51PM +0100, Rene Neidt wrote:
> > Hello strk,
> > i have excuted ...
> > 
> > ./XMLTester renetest.xml                                         
> > 
> > an will get an "Speicherzugriffsfehler" (Memoryexception)
> > For both geometry isValid in Postgres returns true.
> > Greetings
> > Rene
> 
> Confirmed and in progress.

Horrible bug, hides as soon as you start analyzing it
(http://en.wikipedia.org/wiki/Heisenbug)

Anyway, with my latest commit I cannot reproduce it anymore, can you ?
(or anyone else?) 

Can I add your testcase to the SVN repository so that it's run by 'make check' ?

--strk;

From carl.anderson at vadose.org  Tue Jan 16 21:10:14 2007
From: carl.anderson at vadose.org (Carl Anderson)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Re: Another Crash with difference
In-Reply-To: <20070117000934.GA87588@keybit.net>
References: <A4A64E4C2FE1A14EA3C90091802F13A0226122@mowa.idu.de>	<20070112101838.GA84292@keybit.net>	<A4A64E4C2FE1A14EA3C90091802F13A055AD@mowa.idu.de>	<20070112132759.GD84292@keybit.net>
	<20070117000934.GA87588@keybit.net>
Message-ID: <45AD8586.9040009@vadose.org>

This fix in SVN version 1962 also closes Bug #138

C.


strk@refractions.net wrote:
> On Fri, Jan 12, 2007 at 02:27:59PM +0100, strk@refractions.net wrote:
>   
>> On Fri, Jan 12, 2007 at 01:32:51PM +0100, Rene Neidt wrote:
>>     
>>> Hello strk,
>>> i have excuted ...
>>>
>>> ./XMLTester renetest.xml                                         
>>>
>>> an will get an "Speicherzugriffsfehler" (Memoryexception)
>>> For both geometry isValid in Postgres returns true.
>>> Greetings
>>> Rene
>>>       
>> Confirmed and in progress.
>>     
>
> Horrible bug, hides as soon as you start analyzing it
> (http://en.wikipedia.org/wiki/Heisenbug)
>
> Anyway, with my latest commit I cannot reproduce it anymore, can you ?
> (or anyone else?) 
>
> Can I add your testcase to the SVN repository so that it's run by 'make check' ?
>
> --strk;
> _______________________________________________
> geos-devel mailing list
> geos-devel@geos.refractions.net
> http://geos.refractions.net/mailman/listinfo/geos-devel
>   


From robe.dnd at cityofboston.gov  Mon Jan 22 10:15:37 2007
From: robe.dnd at cityofboston.gov (Obe, Regina)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Trouble compiling Geos 2.2.3
Message-ID: <53F9CF533E1AA14EA1F8C5C08ABC08D2016B574F@ZDND.DND.boston.cob>

I'm getting an error when trying to compile Geos 2.2.3 on a Windows XP
box.  I'm using MinGW-5.1.2, Msys-1.0.11.
 
The error I get is below. 
 
 
In file included from ../../source/headers/geos/profiler.h:27,
                 from ../geomgraph/EdgeList.cpp:19:
.../../source/headers/geos/timeval.h:25: error: redefinition of `struct
timezone'
C:/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../../include/sys/time.h:27:
error: previous definition of `struct timezone'

Thanks,
Regina


-----------------------------------------
The substance of this message, including any attachments, may be
confidential, legally
privileged and/or exempt from disclosure pursuant to Massachusetts
law. It is intended
solely for the addressee. If you received this in error, please
contact the sender and
delete the material from any computer.


From mark.cave-ayland at ilande.co.uk  Tue Jan 23 07:31:17 2007
From: mark.cave-ayland at ilande.co.uk (Mark Cave-Ayland)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Trouble compiling Geos 2.2.3
In-Reply-To: <53F9CF533E1AA14EA1F8C5C08ABC08D2016B574F@ZDND.DND.boston.cob>
References: <53F9CF533E1AA14EA1F8C5C08ABC08D2016B574F@ZDND.DND.boston.cob>
Message-ID: <1169555477.21139.11.camel@mca-desktop>

On Mon, 2007-01-22 at 10:15 -0500, Obe, Regina wrote:
> I'm getting an error when trying to compile Geos 2.2.3 on a Windows XP
> box.  I'm using MinGW-5.1.2, Msys-1.0.11.
>  
> The error I get is below. 
>  
> 
> In file included from ../../source/headers/geos/profiler.h:27,
>                  from ../geomgraph/EdgeList.cpp:19:
> .../../source/headers/geos/timeval.h:25: error: redefinition of `struct
> timezone'
> C:/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../../include/sys/time.h:27:
> error: previous definition of `struct timezone'
> 
> Thanks,
> Regina


Hi Regina,

It looks as if the MingW guys have finally added an in-built "struct
timezone" to the latest version of their runtime here which is causing
the problem:
http://sourceforge.net/project/shownotes.php?group_id=2435&release_id=158845 (as a side note, it also looks as if they have added in their own version of gettimeofday() at the same time). The reason this hasn't shown up in my builds is that I'm currently still using the older version of MingW (4.1.0) which doesn't have this change.

The solution here should be to remove the "struct timezone { ... }" from
timeval.h and then trying "make" again to see if it allows the build to
get any further.


Kind regards,

Mark.



From robe.dnd at cityofboston.gov  Tue Jan 23 09:29:49 2007
From: robe.dnd at cityofboston.gov (Obe, Regina)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Trouble compiling Geos 2.2.3
References: <53F9CF533E1AA14EA1F8C5C08ABC08D2016B574F@ZDND.DND.boston.cob>
Message-ID: <53F9CF533E1AA14EA1F8C5C08ABC08D2016B5DDF@ZDND.DND.boston.cob>

Mark,

Thanks that got me further.  I had to as you hinted - also remove the
gettimeofday function from the timeval.h file to get it to completely
compile.  Without removing that I was getting an ambiguous function call
error.

Thanks,
Regina
---Original Message ----
Hi Regina, It looks as if the MingW guys have finally added an in-built
"struct timezone" to the latest version of their runtime here which is
causing the problem:
http://sourceforge.net/project/shownotes.php?group_id=2435&release_id=15
8845 (as a side note, it also looks as if they have added in their own
version of gettimeofday() at the same time). The reason this hasn't
shown up in my builds is that I'm currently still using the older
version of MingW (4.1.0) which doesn't have this change. The solution
here should be to remove the "struct timezone { ... }" from timeval.h
and then trying "make" again to see if it allows the build to get any
further. Kind regards, Mark. 

-----Original Message-----
From: Obe, Regina 
Sent: Monday, January 22, 2007 10:16 AM
To: geos-devel@geos.refractions.net
Subject: [geos-devel] Trouble compiling Geos 2.2.3

I'm getting an error when trying to compile Geos 2.2.3 on a Windows XP
box.  I'm using MinGW-5.1.2, Msys-1.0.11.
 
The error I get is below. 
 
 
In file included from ../../source/headers/geos/profiler.h:27,
                 from ../geomgraph/EdgeList.cpp:19:
.../../source/headers/geos/timeval.h:25: error: redefinition of `struct
timezone'
C:/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../../include/sys/time.h:27:
error: previous definition of `struct timezone'

Thanks,
Regina


-----------------------------------------
The substance of this message, including any attachments, may be
confidential, legally
privileged and/or exempt from disclosure pursuant to Massachusetts
law. It is intended
solely for the addressee. If you received this in error, please
contact the sender and
delete the material from any computer.



From robe.dnd at cityofboston.gov  Tue Jan 23 17:52:26 2007
From: robe.dnd at cityofboston.gov (Obe, Regina)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Warning: passing arg 2 of of `execv' from incompatible
	pointer type when compiling geos 2.2.3
References: <53F9CF533E1AA14EA1F8C5C08ABC08D2016B574F@ZDND.DND.boston.cob>
	<53F9CF533E1AA14EA1F8C5C08ABC08D2016B5DDF@ZDND.DND.boston.cob>
Message-ID: <53F9CF533E1AA14EA1F8C5C08ABC08D2016F63E5@ZDND.DND.boston.cob>

This may be related to me taking out the gettimeofday function to
resolve the ambiguous function error in MingW 5.1.2.  

I've been getting the below warnings in all the .libs example files,
although the library seems to compile.  I'm not sure if these warnings
are common or if I should be concerned.  

creating example.exe
..libs/lt-example.c: In function `main':
..libs/lt-example.c:79: warning: passing arg 2 of `execv' from
incompatible pointer type

On another note - I noticed my libgeos-2.dll and libgeos_c-1.dll are
much huger than I would expect.  
The libgeos-2.dll is a whopping 10.9 mb and the libgeos_c-1.dll is 1086
kb. I'm guessing I must be statically compiling something in that I
shouldn't be.  


-----------------------------------------
The substance of this message, including any attachments, may be
confidential, legally
privileged and/or exempt from disclosure pursuant to Massachusetts
law. It is intended
solely for the addressee. If you received this in error, please
contact the sender and
delete the material from any computer.


From mark.cave-ayland at ilande.co.uk  Tue Jan 23 18:28:55 2007
From: mark.cave-ayland at ilande.co.uk (Mark Cave-Ayland)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Warning: passing arg 2 of of `execv' from
	incompatible pointer type when compiling geos 2.2.3
In-Reply-To: <53F9CF533E1AA14EA1F8C5C08ABC08D2016F63E5@ZDND.DND.boston.cob>
References: <53F9CF533E1AA14EA1F8C5C08ABC08D2016B574F@ZDND.DND.boston.cob>
	<53F9CF533E1AA14EA1F8C5C08ABC08D2016B5DDF@ZDND.DND.boston.cob>
	<53F9CF533E1AA14EA1F8C5C08ABC08D2016F63E5@ZDND.DND.boston.cob>
Message-ID: <1169594935.12320.6.camel@mca-desktop>

Hi Regina,

On Tue, 2007-01-23 at 17:52 -0500, Obe, Regina wrote:

(cut)

> I've been getting the below warnings in all the .libs example files,
> although the library seems to compile.  I'm not sure if these warnings
> are common or if I should be concerned.  
> 
> creating example.exe
> ..libs/lt-example.c: In function `main':
> ..libs/lt-example.c:79: warning: passing arg 2 of `execv' from
> incompatible pointer type

AFAIK this is OK - it occurs in the Win32 PostGIS builds, and I seem to
remember strk did the research and concluded it was not harmful.

> On another note - I noticed my libgeos-2.dll and libgeos_c-1.dll are
> much huger than I would expect.  
> The libgeos-2.dll is a whopping 10.9 mb and the libgeos_c-1.dll is 1086
> kb. I'm guessing I must be statically compiling something in that I
> shouldn't be.  

Yeah, by default configure produces DLLs including debugging
information. You can remove the debugging information by using the
"strip" command.

In fact, you may find it useful to go to the PostGIS Windows download
page at http://postgis.refractions.net/download/windows/ and download
one of the NSIS installer sources from the bottom of the page. In the
ZIP file, you can find the win32build.sh script that I use to build the
releases ready for inclusion in the Win32 installer - it should be a
useful reference point for you.


Kind regards,

Mark.



From john.c.cartwright at comcast.net  Tue Jan 23 22:51:10 2007
From: john.c.cartwright at comcast.net (John Cartwright)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] problem compiling python bindings
Message-ID: <5C4339E8-0E6C-43A4-A341-A2FAD1C35AA6@comcast.net>

Hello All,

I'm having trouble compiling the swig python bindings w/ version 2.2.3.

swig -c++ -python  -o geos_wrap.cxx ../geos.i
../geos.i:24: Error: Unable to find 'factory.i'
../geos.i:126: Error: Unable to find '../python/python.i'

Sure enough, I can't find these files anywhere despite geos itself  
seeming to compile fine.

The is a Mac 10.4 w/ swig 1.3.25.

Can anyone point out what I'm doing wrong?

Thanks!

--john


From bsupnik at xsquawkbox.net  Mon Jan 29 18:13:17 2007
From: bsupnik at xsquawkbox.net (Ben Supnik)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Newbie Question - planar graph vs geometry graph
Message-ID: <45BE7F8D.2050802@xsquawkbox.net>

Hi,

I do apologize if this is a dumb question but...

Could someone please help me understand the relationships between the 
planar graph, geometry graph, and spatial indexing classes?

I see two "planar graphs" in different namespaces, but no docs on 
"geometry graph" yet, so I'm a little bit confused on where to look.

I'm looking for four types of functionality:

- A spatial index to speed up queries within an envelope.  (Looks like 
there are plenty of classes for that. :-)

- A planar map that can contain already-built topological planar graphs 
from a file (e.g. I already have the topo info and need a container to 
hold it and do things like adjacency queries and iteration).

- A planar map that can be built from GIS primitives like polygons and 
multi-polygons.

In particular if there are classes that can do more than one of these 
tasks with a performance advantage, that's what I'm really after.

If anyone can point me at the right classes for the right jobs, it would 
be greatly appreciated!

*cheers*
ben


-- 
Scenery Home Page: http://scenery.x-plane.com/
Scenery blog: http://xplanescenery.blogspot.com/
Plugin SDK: http://www.xsquawkbox.net/xpsdk/
Scenery mailing list: x-plane-scenery@yahoogroups.com
Developer mailing list: x-plane-dev@yahoogroups.com

From bsupnik at xsquawkbox.net  Wed Jan 31 11:23:59 2007
From: bsupnik at xsquawkbox.net (Ben Supnik)
Date: Fri Nov  2 20:53:40 2007
Subject: [geos-devel] Buffer op - end cap styles
Message-ID: <45C0C29F.2090808@xsquawkbox.net>

Hi Y'all,

I am now using the GEOS buffer op and am VERY excited about it.  My own 
implementation of straight skeleton isn't robust, but the GOES buffer op 
worked the first time. :-)

A few questions:

I tried changing the cap style to round but I see no change.  Is there 
something basic I'm missing?

geos::operation::buffer::BufferOp bufOp(poly);
bufOp.setQuadrantSegments(4);
bufOp.setEndCapStyle(geos::operation::buffer::BufferOp::CAP_SQUARE);
geos::geom::Geometry * buf = bufOp.getResultGeometry(
	-30.0 * MTR_TO_NM * NM_TO_DEG_LAT);

(The code is written using a buffer op object because I was trying to 
eliminate wrapper layers as possible causes of the wrong end-cap style.)

Also, how can I compile a debug build of GEOS?  Are there flags in the 
configure file for this?  I'd like to be able to break within the lib in 
gdb.  (I am compiling on Mac OS X using the std unix configure file.)

Finally, would it be algorithmically possible to modify the buffer 
operation to buffer different line segments by different amounts, or 
does the algorithm require uniform buffering?

Thanks!
Ben




-- 
Scenery Home Page: http://scenery.x-plane.com/
Scenery blog: http://xplanescenery.blogspot.com/
Plugin SDK: http://www.xsquawkbox.net/xpsdk/
Scenery mailing list: x-plane-scenery@yahoogroups.com
Developer mailing list: x-plane-dev@yahoogroups.com

