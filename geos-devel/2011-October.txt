From geos-trac at osgeo.org  Mon Oct  3 03:15:39 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct  3 05:13:58 2011
Subject: [geos-devel] [GEOS] #482: UnaryUnion of a non-simple linestring
	doesn't node it
Message-ID: <044.76605c1fff889cf4bc0f1b8f06958dfa@osgeo.org>

#482: UnaryUnion of a non-simple linestring doesn't node it
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 See http://postgis.refractions.net/pipermail/postgis-
 devel/2011-October/015392.html

 I haven't tested 3.4dev and 3.2 branches, 3.3 branch is affected.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/482>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct  3 03:20:08 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct  3 05:18:42 2011
Subject: [geos-devel] Re: [GEOS] #482: UnaryUnion of a non-simple linestring
 doesn't node it
In-Reply-To: <044.76605c1fff889cf4bc0f1b8f06958dfa@osgeo.org>
References: <044.76605c1fff889cf4bc0f1b8f06958dfa@osgeo.org>
Message-ID: <053.9896cc7a55d8dfe2ea1d48c4d637ce5c@osgeo.org>

#482: UnaryUnion of a non-simple linestring doesn't node it
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 NOTE: Martin added a test for this in TestUnaryUnion.xml and should add
 another in UnaryUnionTest.java. To be ported.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/482#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct  3 03:53:00 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct  3 05:53:24 2011
Subject: [geos-devel] [GEOS] #483: make fails for geos-3.2.3 on FC15
Message-ID: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.0                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 Make fails for geos-3.2.3 (and geos-3.2.2, same error) on fedora core 15 :

 Making all in build
 make[1] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 Making all in msvc80
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80 ?
 Making all in geos_c_dll
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_c_dll ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_c_dll ?
 Making all in geos_lib
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_lib ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_lib ?
 Making all in geos_python
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_python ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_python ?
 Making all in geos_ruby
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_ruby ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_ruby ?
 Making all in geos_unit
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_unit ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_unit ?
 Making all in geos_xmltester
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_xmltester ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_xmltester ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80 ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc80
 ?
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc80
 ?
 Making all in msvc90
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90 ?
 Making all in geos_c_dll
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_c_dll ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_c_dll ?
 Making all in geos_lib
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_lib ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_lib ?
 Making all in geos_python
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_python ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_python ?
 Making all in geos_ruby
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_ruby ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_ruby ?
 Making all in geos_unit
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_unit ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_unit ?
 Making all in geos_xmltester
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_xmltester ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_xmltester ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90 ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc90
 ?
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc90
 ?
 Making all in msvc10
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10 ?
 Making all in geos_c_dll
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_c_dll ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_c_dll ?
 Making all in geos_lib
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_lib ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_lib ?
 Making all in geos_unit
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_unit ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_unit ?
 Making all in geos_xmltester
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_xmltester ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_xmltester ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10 ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc10
 ?
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc10
 ?
 make[2] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 make[2]: Rien ? faire pour ? all-am ?.
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 make[1] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 Making all in source
 make[1] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/source ?
 Making all in algorithm
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 Making all in locate
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 make[4] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 make[4]: Rien ? faire pour ? all-am ?.
 make[4] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 Making all in distance
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[4] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[4]: Rien ? faire pour ? all-am ?.
 make[4] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 make[2] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 Making all in geom
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom ?
 Making all in util
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/util ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/util ?
 Making all in prep
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/prep ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/prep ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom ?
 /bin/sh ../../libtool --tag=CXX   --mode=compile g++ -DHAVE_CONFIG_H -I.
 -I../../source/headers -I../../source/headers/geos -I../../source/headers
 -g -O2 -DGEOS_INLINE  -pedantic -Wall -ansi -Wno-long-long  -ffloat-store
 -MT CoordinateSequenceFactory.lo -MD -MP -MF
 .deps/CoordinateSequenceFactory.Tpo -c -o CoordinateSequenceFactory.lo
 CoordinateSequenceFactory.cpp
 libtool: compile:  g++ -DHAVE_CONFIG_H -I. -I../../source/headers
 -I../../source/headers/geos -I../../source/headers -g -O2 -DGEOS_INLINE
 -pedantic -Wall -ansi -Wno-long-long -ffloat-store -MT
 CoordinateSequenceFactory.lo -MD -MP -MF
 .deps/CoordinateSequenceFactory.Tpo -c CoordinateSequenceFactory.cpp
 -fPIC -DPIC -o .libs/CoordinateSequenceFactory.o
 In file included from CoordinateSequenceFactory.cpp:20:0:
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:37: erreur:
 ?create? declared as a ?virtual? field
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:30: erreur:
 expected ?;? at end of member declaration
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:37: erreur:
 declaration of ?geos::geom::CoordinateSequence*
 geos::geom::CoordinateSequenceFactory::create?
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:65:30: erreur:
 conflicts with previous declaration ?virtual
 geos::geom::CoordinateSequence*
 geos::geom::CoordinateSequenceFactory::create(std::vector<geos::geom::Coordinate>*)
 const?
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:44: erreur:
 expected ?)? before ?size?
 make[3]: *** [CoordinateSequenceFactory.lo] Erreur 1
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source/geom
 ?
 make[2]: *** [all-recursive] Erreur 1
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source/geom
 ?
 make[1]: *** [all-recursive] Erreur 1
 make[1] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source ?
 make: *** [all-recursive] Erreur 1

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct  3 03:53:48 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct  3 05:54:15 2011
Subject: [geos-devel] Re: [GEOS] #483: make fails for geos-3.2.3 on FC15
In-Reply-To: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
References: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
Message-ID: <056.bb78ba396d2e0f2fdf5c59a9cba6c97e@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.2.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by henriot):

  * version:  3.3.0 => 3.2.3


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct  3 04:29:08 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct  3 06:31:35 2011
Subject: [geos-devel] Re: [GEOS] #483: make fails for geos-3.2.3 on FC15
In-Reply-To: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
References: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
Message-ID: <056.c6a8ae5dcf58af80748dd7d6ffcf7098@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.2.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Description changed by mloskot:

Old description:

> Make fails for geos-3.2.3 (and geos-3.2.2, same error) on fedora core 15
> :
>
> Making all in build
> make[1] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
> Making all in msvc80
> make[2] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80 ?
> Making all in geos_c_dll
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_c_dll ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_c_dll ?
> Making all in geos_lib
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_lib ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_lib ?
> Making all in geos_python
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_python ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_python ?
> Making all in geos_ruby
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_ruby ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_ruby ?
> Making all in geos_unit
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_unit ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_unit ?
> Making all in geos_xmltester
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_xmltester ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80/geos_xmltester ?
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80 ?
> make[3]: Rien ? faire pour ? all-am ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80 ?
> make[2] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc80 ?
> Making all in msvc90
> make[2] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90 ?
> Making all in geos_c_dll
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_c_dll ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_c_dll ?
> Making all in geos_lib
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_lib ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_lib ?
> Making all in geos_python
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_python ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_python ?
> Making all in geos_ruby
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_ruby ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_ruby ?
> Making all in geos_unit
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_unit ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_unit ?
> Making all in geos_xmltester
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_xmltester ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90/geos_xmltester ?
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90 ?
> make[3]: Rien ? faire pour ? all-am ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90 ?
> make[2] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc90 ?
> Making all in msvc10
> make[2] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10 ?
> Making all in geos_c_dll
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_c_dll ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_c_dll ?
> Making all in geos_lib
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_lib ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_lib ?
> Making all in geos_unit
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_unit ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_unit ?
> Making all in geos_xmltester
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_xmltester ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10/geos_xmltester ?
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10 ?
> make[3]: Rien ? faire pour ? all-am ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10 ?
> make[2] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/build/msvc10 ?
> make[2] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
> make[2]: Rien ? faire pour ? all-am ?.
> make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
> make[1] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
> Making all in source
> make[1] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/source
> ?
> Making all in algorithm
> make[2] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm ?
> Making all in locate
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/locate ?
> make[4] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/locate ?
> make[4]: Rien ? faire pour ? all-am ?.
> make[4] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/locate ?
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/locate ?
> Making all in distance
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/distance ?
> make[4] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/distance ?
> make[4]: Rien ? faire pour ? all-am ?.
> make[4] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/distance ?
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm/distance ?
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm ?
> make[3]: Rien ? faire pour ? all-am ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm ?
> make[2] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/algorithm ?
> Making all in geom
> make[2] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/geom ?
> Making all in util
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/geom/util ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/geom/util ?
> Making all in prep
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/geom/prep ?
> make[3]: Rien ? faire pour ? all ?.
> make[3] : on quitte le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/geom/prep ?
> make[3] : on entre dans le r?pertoire ?
> /home/henrioto/geos-3.2.2/source/geom ?
> /bin/sh ../../libtool --tag=CXX   --mode=compile g++ -DHAVE_CONFIG_H -I.
> -I../../source/headers -I../../source/headers/geos -I../../source/headers
> -g -O2 -DGEOS_INLINE  -pedantic -Wall -ansi -Wno-long-long  -ffloat-store
> -MT CoordinateSequenceFactory.lo -MD -MP -MF
> .deps/CoordinateSequenceFactory.Tpo -c -o CoordinateSequenceFactory.lo
> CoordinateSequenceFactory.cpp
> libtool: compile:  g++ -DHAVE_CONFIG_H -I. -I../../source/headers
> -I../../source/headers/geos -I../../source/headers -g -O2 -DGEOS_INLINE
> -pedantic -Wall -ansi -Wno-long-long -ffloat-store -MT
> CoordinateSequenceFactory.lo -MD -MP -MF
> .deps/CoordinateSequenceFactory.Tpo -c CoordinateSequenceFactory.cpp
> -fPIC -DPIC -o .libs/CoordinateSequenceFactory.o
> In file included from CoordinateSequenceFactory.cpp:20:0:
> ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:37: erreur:
> ?create? declared as a ?virtual? field
> ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:30: erreur:
> expected ?;? at end of member declaration
> ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:37: erreur:
> declaration of ?geos::geom::CoordinateSequence*
> geos::geom::CoordinateSequenceFactory::create?
> ../../source/headers/geos/geom/CoordinateSequenceFactory.h:65:30: erreur:
> conflicts with previous declaration ?virtual
> geos::geom::CoordinateSequence*
> geos::geom::CoordinateSequenceFactory::create(std::vector<geos::geom::Coordinate>*)
> const?
> ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:44: erreur:
> expected ?)? before ?size?
> make[3]: *** [CoordinateSequenceFactory.lo] Erreur 1
> make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source/geom
> ?
> make[2]: *** [all-recursive] Erreur 1
> make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source/geom
> ?
> make[1]: *** [all-recursive] Erreur 1
> make[1] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source ?
> make: *** [all-recursive] Erreur 1

New description:

 Make fails for geos-3.2.3 (and geos-3.2.2, same error) on fedora core 15 :

 {{{
 Making all in build
 make[1] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 Making all in msvc80
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80 ?
 Making all in geos_c_dll
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_c_dll ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_c_dll ?
 Making all in geos_lib
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_lib ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_lib ?
 Making all in geos_python
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_python ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_python ?
 Making all in geos_ruby
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_ruby ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_ruby ?
 Making all in geos_unit
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_unit ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_unit ?
 Making all in geos_xmltester
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_xmltester ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80/geos_xmltester ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc80 ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc80
 ?
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc80
 ?
 Making all in msvc90
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90 ?
 Making all in geos_c_dll
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_c_dll ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_c_dll ?
 Making all in geos_lib
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_lib ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_lib ?
 Making all in geos_python
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_python ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_python ?
 Making all in geos_ruby
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_ruby ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_ruby ?
 Making all in geos_unit
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_unit ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_unit ?
 Making all in geos_xmltester
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_xmltester ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90/geos_xmltester ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc90 ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc90
 ?
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc90
 ?
 Making all in msvc10
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10 ?
 Making all in geos_c_dll
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_c_dll ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_c_dll ?
 Making all in geos_lib
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_lib ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_lib ?
 Making all in geos_unit
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_unit ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_unit ?
 Making all in geos_xmltester
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_xmltester ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10/geos_xmltester ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/build/msvc10 ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc10
 ?
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build/msvc10
 ?
 make[2] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 make[2]: Rien ? faire pour ? all-am ?.
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 make[1] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/build ?
 Making all in source
 make[1] : on entre dans le r?pertoire ? /home/henrioto/geos-3.2.2/source ?
 Making all in algorithm
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 Making all in locate
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 make[4] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 make[4]: Rien ? faire pour ? all-am ?.
 make[4] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/locate ?
 Making all in distance
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[4] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[4]: Rien ? faire pour ? all-am ?.
 make[4] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm/distance ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 make[3]: Rien ? faire pour ? all-am ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 make[2] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/algorithm ?
 Making all in geom
 make[2] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom ?
 Making all in util
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/util ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/util ?
 Making all in prep
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/prep ?
 make[3]: Rien ? faire pour ? all ?.
 make[3] : on quitte le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom/prep ?
 make[3] : on entre dans le r?pertoire ?
 /home/henrioto/geos-3.2.2/source/geom ?
 /bin/sh ../../libtool --tag=CXX   --mode=compile g++ -DHAVE_CONFIG_H -I.
 -I../../source/headers -I../../source/headers/geos -I../../source/headers
 -g -O2 -DGEOS_INLINE  -pedantic -Wall -ansi -Wno-long-long  -ffloat-store
 -MT CoordinateSequenceFactory.lo -MD -MP -MF
 .deps/CoordinateSequenceFactory.Tpo -c -o CoordinateSequenceFactory.lo
 CoordinateSequenceFactory.cpp
 libtool: compile:  g++ -DHAVE_CONFIG_H -I. -I../../source/headers
 -I../../source/headers/geos -I../../source/headers -g -O2 -DGEOS_INLINE
 -pedantic -Wall -ansi -Wno-long-long -ffloat-store -MT
 CoordinateSequenceFactory.lo -MD -MP -MF
 .deps/CoordinateSequenceFactory.Tpo -c CoordinateSequenceFactory.cpp
 -fPIC -DPIC -o .libs/CoordinateSequenceFactory.o
 In file included from CoordinateSequenceFactory.cpp:20:0:
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:37: erreur:
 ?create? declared as a ?virtual? field
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:30: erreur:
 expected ?;? at end of member declaration
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:37: erreur:
 declaration of ?geos::geom::CoordinateSequence*
 geos::geom::CoordinateSequenceFactory::create?
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:65:30: erreur:
 conflicts with previous declaration ?virtual
 geos::geom::CoordinateSequence*
 geos::geom::CoordinateSequenceFactory::create(std::vector<geos::geom::Coordinate>*)
 const?
 ../../source/headers/geos/geom/CoordinateSequenceFactory.h:78:44: erreur:
 expected ?)? before ?size?
 make[3]: *** [CoordinateSequenceFactory.lo] Erreur 1
 make[3] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source/geom
 ?
 make[2]: *** [all-recursive] Erreur 1
 make[2] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source/geom
 ?
 make[1]: *** [all-recursive] Erreur 1
 make[1] : on quitte le r?pertoire ? /home/henrioto/geos-3.2.2/source ?
 make: *** [all-recursive] Erreur 1
 }}}

--

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct  4 13:03:50 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct  4 13:31:44 2011
Subject: [geos-devel] Re: [GEOS] #478:
 GeometryCollection::computeEnvelopInternal and
 GeometryCollection::compareToSameClass are marked virtual
In-Reply-To: <044.cbf22f0af9eaa6a0389aa94971b68826@osgeo.org>
References: <044.cbf22f0af9eaa6a0389aa94971b68826@osgeo.org>
Message-ID: <053.e02754b6afb8381c3d33a2de3378bcbb@osgeo.org>

#478: GeometryCollection::computeEnvelopInternal and
GeometryCollection::compareToSameClass are marked virtual
------------------------+---------------------------------------------------
 Reporter:  hobu        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  trivial     |    Milestone:  3.4.0                     
Component:  Default     |      Version:  3.3.0                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 This one sounds closed, right ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/478#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct  4 16:05:41 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct  4 16:43:34 2011
Subject: [geos-devel] Re: [GEOS] #299:
 geos::geom::CoordinateArraySequenceFactory unit test failing
In-Reply-To: <047.d99b68335c5950ad504ff227278ead4a@osgeo.org>
References: <047.d99b68335c5950ad504ff227278ead4a@osgeo.org>
Message-ID: <056.6a7708929ec04a104a3b7c65bc146878@osgeo.org>

#299: geos::geom::CoordinateArraySequenceFactory unit test failing
----------------------------+-----------------------------------------------
 Reporter:  pramsey         |        Owner:  geos-devel@?              
     Type:  defect          |       Status:  new                       
 Priority:  major           |    Milestone:  GEOS Future               
Component:  Unit Tests      |      Version:  svn-trunk                 
 Severity:  Unassigned      |   Resolution:                            
 Keywords:  mac,macosx,osx  |  
----------------------------+-----------------------------------------------

Old description:

> {{{
> ---> group: geos::geom::CoordinateArraySequenceFactory, test: test<1>
>      problem: assertion failed
> }}}
>
> The problem goes away when I comment out lines 55 and 56 of the test.
>
> http://trac.osgeo.org/geos/browser/trunk/tests/unit/geom/CoordinateArraySequenceFactoryTest.cpp#L55
>
> Problem seen on OS/X 10.6, i686-apple-darwin10-gcc-4.2.1

New description:

 {{{
 ---> group: geos::geom::CoordinateArraySequenceFactory, test: test<1>
      problem: assertion failed
 }}}

 The problem goes away when I comment out lines 55 and 56 of the test.

 :trac:browser/trunk/tests/unit/geom/CoordinateArraySequenceFactoryTest.cpp#L55

 Problem seen on OS/X 10.6, i686-apple-darwin10-gcc-4.2.1

--

Comment(by hobu):

 {{{
 #!rst

 After spending an afternoon on this, I think the problem is related to the
 fact that geos::geom::CoordinateSequenceFactory has virtual methods, and
 the instance is not complete, and the dynamic_cast at
 :trac:`source:/trunk/tests/unit/geom/CoordinateArraySequenceFactoryTest.cpp@3496#L53`
 is not valid.

 From http://www.cplusplus.com/doc/tutorial/typecasting/ in the
 dynamic_cast section

     When dynamic_cast cannot cast a pointer because it is not a complete
 object of the required class -as in the second conversion in the previous
 example- it returns a null pointer to indicate the failure.


 This test fails for me on OSX using both clang and gcc 4.2.1. That it
 fails on two recent compilers makes me think the problem is that the test
 is bad, and that it succeeded before was just luck.

 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/299#comment:25>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct  4 17:35:28 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct  4 18:18:29 2011
Subject: [geos-devel] Re: [GEOS] #299:
 geos::geom::CoordinateArraySequenceFactory unit test failing
In-Reply-To: <047.d99b68335c5950ad504ff227278ead4a@osgeo.org>
References: <047.d99b68335c5950ad504ff227278ead4a@osgeo.org>
Message-ID: <056.56ba7ea430e56407266f2a0a5c862d43@osgeo.org>

#299: geos::geom::CoordinateArraySequenceFactory unit test failing
----------------------------+-----------------------------------------------
 Reporter:  pramsey         |        Owner:  geos-devel@?              
     Type:  defect          |       Status:  new                       
 Priority:  major           |    Milestone:  GEOS Future               
Component:  Unit Tests      |      Version:  svn-trunk                 
 Severity:  Unassigned      |   Resolution:                            
 Keywords:  mac,macosx,osx  |  
----------------------------+-----------------------------------------------
Description changed by strk:

Old description:

> {{{
> ---> group: geos::geom::CoordinateArraySequenceFactory, test: test<1>
>      problem: assertion failed
> }}}
>
> The problem goes away when I comment out lines 55 and 56 of the test.
>
> :trac:browser/trunk/tests/unit/geom/CoordinateArraySequenceFactoryTest.cpp#L55
>
> Problem seen on OS/X 10.6, i686-apple-darwin10-gcc-4.2.1

New description:

 {{{
 ---> group: geos::geom::CoordinateArraySequenceFactory, test: test<1>
      problem: assertion failed
 }}}

 The problem goes away when I comment out lines 55 and 56 of the test.

 source:trunk/tests/unit/geom/CoordinateArraySequenceFactoryTest.cpp#L55

 Problem seen on OS/X 10.6, i686-apple-darwin10-gcc-4.2.1

--

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/299#comment:26>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct  4 17:38:12 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct  4 18:21:24 2011
Subject: [geos-devel] Re: [GEOS] #299:
 geos::geom::CoordinateArraySequenceFactory unit test failing
In-Reply-To: <047.d99b68335c5950ad504ff227278ead4a@osgeo.org>
References: <047.d99b68335c5950ad504ff227278ead4a@osgeo.org>
Message-ID: <056.f97d6278570c04da037d677700cfdb6c@osgeo.org>

#299: geos::geom::CoordinateArraySequenceFactory unit test failing
----------------------------+-----------------------------------------------
 Reporter:  pramsey         |        Owner:  geos-devel@?              
     Type:  defect          |       Status:  new                       
 Priority:  major           |    Milestone:  GEOS Future               
Component:  Unit Tests      |      Version:  svn-trunk                 
 Severity:  Unassigned      |   Resolution:                            
 Keywords:  mac,macosx,osx  |  
----------------------------+-----------------------------------------------

Comment(by strk):

 The code in the typecastin example is not the same as ours. In our case
 CoordinateArraySequenceFactory::instance() should be returning a complete
 instance of a CoordinateArraySequence

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/299#comment:27>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct  4 19:54:15 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct  4 20:44:53 2011
Subject: [geos-devel] [GEOS] #484: clang warnings cleanup
Message-ID: <044.e6cd7d5fa25aa24722980877b333926e@osgeo.org>

#484: clang warnings cleanup
-------------------------+--------------------------------------------------
 Reporter:  hobu         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  minor        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  3.3.0                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 This ticket owns the clang warnings cleanup that I am doing.  None of this
 should be backported, and if anyone has any issues, please report them
 here.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/484>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct  4 19:58:24 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct  4 20:49:15 2011
Subject: [geos-devel] Re: [GEOS] #484: clang warnings cleanup
In-Reply-To: <044.e6cd7d5fa25aa24722980877b333926e@osgeo.org>
References: <044.e6cd7d5fa25aa24722980877b333926e@osgeo.org>
Message-ID: <053.e26199d8052dbfaeb7f392c2a5e8dfe8@osgeo.org>

#484: clang warnings cleanup
-------------------------+--------------------------------------------------
 Reporter:  hobu         |        Owner:  geos-devel@?              
     Type:  enhancement  |       Status:  closed                    
 Priority:  minor        |    Milestone:  3.4.0                     
Component:  Default      |      Version:  3.3.0                     
 Severity:  Unassigned   |   Resolution:  invalid                   
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by hobu):

  * status:  new => closed
  * resolution:  => invalid


Comment:

 oops. My warning cleanups were not compatible.  forget this :)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/484#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From mtnclimb at telus.net  Fri Oct  7 12:55:04 2011
From: mtnclimb at telus.net (Martin Davis)
Date: Fri Oct  7 18:08:50 2011
Subject: [geos-devel] Re: [Jts-topo-suite-user] Improve accuracy in
	signedArea
In-Reply-To: <4E8E9F72.7040202@r3-gis.com>
References: <20111005195405.5D9661678246@mail.r3-gis.com>	<4E8CCB0D.4010208@telus.net>
	<4E8D55D6.20707@r3-gis.com> <4E8DD877.6080209@telus.net>
	<4E8E9F72.7040202@r3-gis.com>
Message-ID: <4E8F2EE8.6010505@telus.net>

Yes, agreed, it would be good if this found it's way into GEOS and PostGIS.

(cc-ing geos-devel so they can get on it!)


On 10/6/2011 11:42 PM, Peter Hopfgartner wrote:
> On 10/06/2011 06:33 PM, Martin Davis wrote:
>> (...)
>>>> I suppose to provide even more accuracy the largest x value (in 
>>>> absolute value) could be used as the constant offset.
>>>>
>>> From an heuristic POV I would guess, that the most accurate result 
>>> could be calculated, when the origin is placed in the center of mass 
>>> or center of the bounding box, since that would keep the coordinates 
>>> as small as possible.
>>> As I understand it, that would require to first calculate that 
>>> center estimate, which has at least the cost to loop through all 
>>> coordinates.
>>> From the rather synthetic test case, which I used, it is difficult 
>>> to have real numbers of the impact on the accuracy of the result on 
>>> that. If you think that there might be some benefit, it might make 
>>> sense to use real data, as in TIGER, and compare the result obtained 
>>> with floating points to the result obtained with an arbitrary 
>>> precision float library, like http://www.apfloat.org.
>>>
>>> Having the origin in the first coordinate allows to drop the first 
>>> term, since x1 is zero.
>> As you say, it's probably not worth the effort to make this minor 
>> improvement in accuracy.
>>
>> I had thought about using higher-precision computation to check the 
>> area results.  I would use the DD (DoubleDouble) class which is now 
>> in JTS - it provides 106 bits of precision.
>>
>> And as you say, more real-world examples would be better for 
>> testing.  I might try and do this - although it doesn't seem like 
>> anyone should be relying on the area computation to be "perfectly" 
>> accurate.  Or am I wrong on this?  How did you come to notice that 
>> the area was not as accurate as it could be?
>>
> I agree that nobody should rely on exact area calculations. We had a 
> minor problem, when we did things like splitting polygons in PostGIS. 
> We compared the area of the parts to the area to the parent polygon 
> ane the difference was bigger then expected. Having a look at GEOS I 
> saw that it used the same algorithm as PostGIS (or vice versa) and 
> from there I decided to start from JTS. Now I like to apply tha same 
> on GEOS and PostGIS.
>
> http://postgis.refractions.net/pipermail/postgis-devel/2011-February/011715.htm 
> was a first version of this  patch.
>
> Peter
>
>
> ------------------------------------------------------------------------------
> All of the data generated in your IT infrastructure is seriously valuable.
> Why? It contains a definitive record of application performance, security
> threats, fraudulent activity, and more. Splunk takes this data and makes
> sense of it. IT sense. And common sense.
> http://p.sf.net/sfu/splunk-d2dcopy2
>
>
> _______________________________________________
> Jts-topo-suite-user mailing list
> Jts-topo-suite-user@lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/jts-topo-suite-user
>
>
> No virus found in this message.
> Checked by AVG - www.avg.com <http://www.avg.com>
> Version: 10.0.1410 / Virus Database: 1520/3941 - Release Date: 10/06/11
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/geos-devel/attachments/20111007/5c7f205e/attachment.html
From geos-trac at osgeo.org  Sat Oct  8 16:35:31 2011
From: geos-trac at osgeo.org (GEOS)
Date: Sat Oct  8 22:33:59 2011
Subject: [geos-devel] [GEOS] #485: Apply Shoelace formula for area
	calculation
Message-ID: <051.efb723a77589c4370dd16d3c5f7ac7e2@osgeo.org>

#485: Apply Shoelace formula for area calculation
-------------------------+--------------------------------------------------
 Reporter:  hopfgartner  |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.2                     
Component:  Default      |     Version:  3.3.0                     
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 Port change applied in JTS to GEOS

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/485>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Oct 13 04:16:47 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Oct 13 16:10:28 2011
Subject: [geos-devel] [GEOS] #487: Port Delaunay Triangulation API from JTS
Message-ID: <044.24fc48b0fe9e01f4b7a8f211dd4dcbf8@osgeo.org>

#487: Port Delaunay Triangulation API from JTS
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 Delaunay triangulation is a big new package in JTS 1.12 which wasn't
 ported out yet. It consists in 26 new classes + 3 testcases at the C++
 level.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/487>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Oct 13 04:29:54 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Oct 13 16:24:13 2011
Subject: [geos-devel] Re: [GEOS] #487: Port Delaunay Triangulation API from
	JTS
In-Reply-To: <044.24fc48b0fe9e01f4b7a8f211dd4dcbf8@osgeo.org>
References: <044.24fc48b0fe9e01f4b7a8f211dd4dcbf8@osgeo.org>
Message-ID: <053.be021297a5e4b6f6c34558d7b4c642e8@osgeo.org>

#487: Port Delaunay Triangulation API from JTS
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
Description changed by strk:

Old description:

> Delaunay triangulation is a big new package in JTS 1.12 which wasn't
> ported out yet. It consists in 26 new classes + 3 testcases at the C++
> level.

New description:

 Delaunay triangulation is a big new package in JTS 1.11 which wasn't
 ported out yet. It consists in 26 new classes + 3 testcases at the C++
 level.

--

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/487#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Oct 13 04:30:17 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Oct 13 16:24:38 2011
Subject: [geos-devel] Re: [GEOS] #487: Port Delaunay Triangulation API from
	JTS
In-Reply-To: <044.24fc48b0fe9e01f4b7a8f211dd4dcbf8@osgeo.org>
References: <044.24fc48b0fe9e01f4b7a8f211dd4dcbf8@osgeo.org>
Message-ID: <053.145e5832493c72b2db5828dbdef27928@osgeo.org>

#487: Port Delaunay Triangulation API from JTS
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 See: http://lin-ear-th-inking.blogspot.com/2009/04/delaunay-triangulation-
 in-jts-111.html

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/487#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Oct 13 06:01:12 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Oct 13 18:00:32 2011
Subject: [geos-devel] Re: [GEOS] #487: Port Delaunay Triangulation API from
	JTS
In-Reply-To: <044.24fc48b0fe9e01f4b7a8f211dd4dcbf8@osgeo.org>
References: <044.24fc48b0fe9e01f4b7a8f211dd4dcbf8@osgeo.org>
Message-ID: <053.dcb3ae44a5fb157f0ddb5f83d0941c9e@osgeo.org>

#487: Port Delaunay Triangulation API from JTS
-------------------------+--------------------------------------------------
 Reporter:  strk         |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
Changes (by mloskot):

 * cc: mateusz@? (added)


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/487#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Oct 14 10:35:09 2011
From: geos-trac at osgeo.org (GEOS)
Date: Sat Oct 15 00:10:04 2011
Subject: [geos-devel] [GEOS] #488: TopologyException with valid geometries
Message-ID: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>

#488: TopologyException with valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:                            
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 Hi,

 I do the union of several valid geometries using the CascadedUnion method
 which throws a TopologyException. I've several tests cases of failures.

 Here the exceptions:

 {{{
 union fail (3023[16]): TopologyException: found non-noded intersection
 between LINESTRING (2.39922 48.8778, 2.39854 48.8778) and LINESTRING
 (2.39922 48.8778, 2.39854 48.8778) at 2.39854 48.8778
 union fail (7819[64]): TopologyException: found non-noded intersection
 between LINESTRING (2.32497 48.8733, 2.32497 48.8733) and LINESTRING
 (2.32497 48.8733, 2.32497 48.8733) at 2.32497 48.8733
 union fail (13073[8]): TopologyException: no outgoing dirEdge found at
 2.41216 48.8756
 }}}

 I've enclosed an archive containing several useful data (KML and WKB of
 the collections, images, etc.).

 Thank you for your interest.

 Regards,[[BR]]
 Jonathan Squirawski

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sun Oct 16 20:09:29 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct 17 12:54:04 2011
Subject: [geos-devel] Re: [GEOS] #483: make fails for geos-3.2.3 on FC15
In-Reply-To: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
References: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
Message-ID: <056.ee27ae23652fa8ca422a90a864d325f9@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.2.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by kiorky):

 confirmed for me too.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sun Oct 16 20:09:41 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct 17 12:54:14 2011
Subject: [geos-devel] Re: [GEOS] #483: make fails for geos-3.2.3 on FC15
In-Reply-To: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
References: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
Message-ID: <056.c569777dd8177b8b5a0839b0e1cfde63@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.2.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by kiorky):

 happen also on ubuntu 11.10

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct 17 10:17:12 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct 18 03:48:46 2011
Subject: [geos-devel] Re: [GEOS] #483: make fails for geos-3.2.3 on FC15
In-Reply-To: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
References: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
Message-ID: <056.106b5b59d2b93a4dd2dc91ebb3f7ca87@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.2.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by hobu):

 I wonder if this isn't also related to #299.  What compiler/version does
 FC15 use?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct 17 10:38:46 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct 18 04:11:23 2011
Subject: [geos-devel] Re: [GEOS] #483: make fails for geos-3.2.3 on FC15
In-Reply-To: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
References: <047.8a9e42b0500ca23eea8322ee7dd6332a@osgeo.org>
Message-ID: <056.d8900c8be674aa09101debe16bda8369@osgeo.org>

#483: make fails for geos-3.2.3 on FC15
------------------------+---------------------------------------------------
 Reporter:  henriot     |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.2.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by kiorky):

 Yep, i think it's related.

 I was able to build geos with some patches stolen from debian.

 All the patches are neccessary and also -fpermissive to the compiler.

 See http://packages.debian.org/sid/libgeos-3.2.2 or https://github.com
 /minitage-dependencies/geos-3.2.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/483#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct 17 18:54:45 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct 18 12:54:24 2011
Subject: [geos-devel] [GEOS] #489: CMAKE_CXX_FLAGS overrides -std=gnu++0x
Message-ID: <048.1815bca4eebb5b93cd91f275d22dec91@osgeo.org>

#489: CMAKE_CXX_FLAGS overrides -std=gnu++0x
------------------------+---------------------------------------------------
 Reporter:  jyasskin    |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 I was trying to fix some problems in geos when building in C++0x mode, and
 I discovered that CMakeLists.txt puts -ansi after my custom build flags,
 overriding the -std setting. Here's a patch that fixes this.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/489>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct 17 18:58:47 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct 18 12:58:39 2011
Subject: [geos-devel] Re: [GEOS] #489: CMAKE_CXX_FLAGS overrides -std=gnu++0x
In-Reply-To: <048.1815bca4eebb5b93cd91f275d22dec91@osgeo.org>
References: <048.1815bca4eebb5b93cd91f275d22dec91@osgeo.org>
Message-ID: <057.1a40f5185eb9e84edd83569cc4dcded4@osgeo.org>

#489: CMAKE_CXX_FLAGS overrides -std=gnu++0x
------------------------+---------------------------------------------------
 Reporter:  jyasskin    |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by jyasskin):

 Of course, you intended to override _gnu_++0x and change it to c++0x, but
 -ansi means -std=c++98 (http://gcc.gnu.org/onlinedocs/gcc-4.6.1/gcc/C
 -Dialect-Options.html), so it overrides -std=c++0x too.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/489#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct 17 19:22:11 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct 18 13:23:14 2011
Subject: [geos-devel] [GEOS] #491: Fix C++11 build by avoiding
	std::pair<auto_ptr>
Message-ID: <048.cbf48a1eced63704ef67a7547ffdc1ef@osgeo.org>

#491: Fix C++11 build by avoiding std::pair<auto_ptr>
------------------------+---------------------------------------------------
 Reporter:  jyasskin    |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 The new C++11 standard disallows using std::auto_ptr as a member of
 std::pair: http://lwg.github.com/issues/lwg-closed.html#2068. This patch
 defines a very simple struct to replace the GeomPtrPair typedef to avoid
 this issue.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/491>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From strk at keybit.net  Tue Oct 18 08:46:27 2011
From: strk at keybit.net (Sandro Santilli)
Date: Wed Oct 19 03:31:07 2011
Subject: [geos-devel] Moving to github
In-Reply-To: <4E822DE8.5070306@loskot.net>
References: <20110920133527.GE19953@gnash>
	<4085E72E-DC5C-4DB3-AD52-28F51A453BB6@gmail.com>
	<20110921152503.GK2224@gnash> <4E7A065C.4050201@loskot.net>
	<20110921160834.GL2224@gnash> <4E7C637F.50009@loskot.net>
	<20110923112851.GF2995@gnash> <4E7E5D94.9080005@loskot.net>
	<20110927124526.GA17136@gnash> <4E822DE8.5070306@loskot.net>
Message-ID: <20111018124627.GI2565@gnash>

On Tue, Sep 27, 2011 at 09:11:20PM +0100, Mateusz Loskot wrote:
> On 27/09/11 13:45, Sandro Santilli wrote:
> > On Sat, Sep 24, 2011 at 11:45:40PM +0100, Mateusz Loskot wrote:
> >>
> >> Also, Alex (wildintellect) mentioned [1] OSGeo may introduce Git support
> >> in near future.
> >>
> >> ...handing over to decision makers.
> >>
> >> [1] http://logs.qgis.org/slogs/%23qgis.2011-09-24.log
> > 
> > I'd wait for Git support in OSGeo.
> 
> OK

FYI: openlayers team seems to be giving up on OSGeo infrastructure:
http://lists.osgeo.org/pipermail/openlayers-dev/2011-October/008137.html

--strk; 

  ()   Free GIS & Flash consultant/developer
  /\   http://strk.keybit.net/services.html
From mateusz at loskot.net  Tue Oct 18 08:53:19 2011
From: mateusz at loskot.net (=?UTF-8?Q?Mateusz_=C5=81oskot?=)
Date: Wed Oct 19 03:40:11 2011
Subject: [geos-devel] Moving to github
In-Reply-To: <20111018124627.GI2565@gnash>
References: <20110920133527.GE19953@gnash>
	<4085E72E-DC5C-4DB3-AD52-28F51A453BB6@gmail.com>
	<20110921152503.GK2224@gnash> <4E7A065C.4050201@loskot.net>
	<20110921160834.GL2224@gnash> <4E7C637F.50009@loskot.net>
	<20110923112851.GF2995@gnash> <4E7E5D94.9080005@loskot.net>
	<20110927124526.GA17136@gnash> <4E822DE8.5070306@loskot.net>
	<20111018124627.GI2565@gnash>
Message-ID: <CABUeae8uKssf6bYhTRjBRujCVn8qYq-T9cw-y4Yzn52dR0vqDg@mail.gmail.com>

On 18 October 2011 13:46, Sandro Santilli <strk@keybit.net> wrote:
> On Tue, Sep 27, 2011 at 09:11:20PM +0100, Mateusz Loskot wrote:
>> On 27/09/11 13:45, Sandro Santilli wrote:
>> > On Sat, Sep 24, 2011 at 11:45:40PM +0100, Mateusz Loskot wrote:
>> >>
>> >> Also, Alex (wildintellect) mentioned [1] OSGeo may introduce Git support
>> >> in near future.
>> >>
>> >> ...handing over to decision makers.
>> >>
>> >> [1] http://logs.qgis.org/slogs/%23qgis.2011-09-24.log
>> >
>> > I'd wait for Git support in OSGeo.
>>
>> OK
>
> FYI: openlayers team seems to be giving up on OSGeo infrastructure:
> http://lists.osgeo.org/pipermail/openlayers-dev/2011-October/008137.html

It's job for GEOS PSC.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
Member of ACCU, http://accu.org
From geos-trac at osgeo.org  Wed Oct 19 11:23:42 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Oct 19 11:29:16 2011
Subject: [geos-devel] [GEOS] #492: DistanceOp result failed
Message-ID: <052.9adb1efa6c318e62ef2f8f3f9084cc5e@osgeo.org>

#492: DistanceOp result failed
--------------------------+-------------------------------------------------
 Reporter:  xavierraffin  |       Owner:  geos-devel@?              
     Type:  defect        |      Status:  new                       
 Priority:  major         |   Milestone:  3.2.4                     
Component:  Default       |     Version:  3.2.3                     
 Severity:  Unassigned    |    Keywords:  DistanceOp , distance     
--------------------------+-------------------------------------------------
 When I tried to calculate a projection of a point on a linestring I have
 got an bad distance result.

 '''When I compiled with -g and without gcc optimisation, the error doesn't
 appear !!'''

 This is an extract of my code :


 {{{
 boost::shared_ptr<geos::geom::Linestring> line = ...;
 boost::shared_ptr<geos::geom::Point> point = ...;
 ...
 double distance line->distance(point);
 }}}

 Here distance is 64.9363 if compiled in debug (-g and no -O) mode.
 but distance is 1.79769e+308 if compiled in release mode (without -g and
 with -O3).

 So I looked at the geos source code.

 First the distance function in Geometry

 {{{
 double
 Geometry::distance(const Geometry *other) const
 {
         return DistanceOp::distance(this, other);
 }
 }}}

 So I looked at DistanceOp.cpp and see (in computeFacetDistance):


 {{{
 PointExtracter::getPoints(*(geom[1]),pts1);
 }}}

 with GEOS_DEBUG activated I see in debug mode:

 {{{
 PointExtracter found 0 points in geometry 1 and 1 points in geometry 2
 }}}

 and in release mode


 {{{
 PointExtracter found 0 points in geometry 1 and 0 points in geometry 2
 }}}

 The issue is that in release mode the second Geometry object (the Point)
 is not detected as a point.

 So I go further and see that PointExtracter::getPoints static method call
 a Point method apply_ro wich call in return PointExtracter (subclass of
 GeometryFilter) method apply_ro.

 The code is (PointExtracter.h):

 {{{
         void filter_ro(const Geometry *geom)
         {
 if ( const Point *p=dynamic_cast<const Point *>(geom) )
                 comps.push_back(p);
         }
 }}}

 So I add some trace and see that in release mode the
 PointExtracter::filter_ro method wasn't called by Point::filter_ro
 (in debug that works).

 So I change DistanceOp.cpp to use non-static method instead of the static
 one (see joined patch).

 That solve the issue.

 Patch is very short:

 {{{
 ===================================================================
 --- 3rd/dev/geos/src/operation/distance/DistanceOp.cpp  (r?vision 3499)
 +++ 3rd/dev/geos/src/operation/distance/DistanceOp.cpp  (copie de travail)
 @@ -402,8 +402,12 @@

         Point::ConstVect pts0;
         Point::ConstVect pts1;
 -       PointExtracter::getPoints(*(geom[0]), pts0);
 -       PointExtracter::getPoints(*(geom[1]), pts1);
 +
 +       PointExtracter pe(pts0);
 +       geom[0]->apply_ro(&pe);
 +
 +       PointExtracter pe1(pts1);
 +       geom[1]->apply_ro(&pe1);

  #if GEOS_DEBUG
         std::cerr << "PointExtracter found "
 }}}

 I can add that I try using valgrind to detect some memory errors but I
 found nothing.

 My source code is branches/3.2 rev 3477.

 Regards,

 Xavier Raffin

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/492>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From meyer at mesw.de  Wed Oct 26 06:14:59 2011
From: meyer at mesw.de (Markus Meyer)
Date: Wed Oct 26 10:59:41 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
Message-ID: <4EA7DDA3.8030009@mesw.de>

Hi everyone,

I'm using GEOS 3.3.0 on Microsoft Visual Studio 2008 (Windows 7) for 
buffering lines using BufferOp.

I would like to use the BufferParameters class to control extended 
parameters. However, it seems that I must be using the BufferOp class 
the wrong way because my parameters are never accepted. To explain this, 
I created a simple test program which offsets a rectangle.

When I do the buffering with the static function Buffer::bufferOp() the 
resulting geometry looks OK:

     // Working code
     geos::geom::Polygon* pPolygon = dynamic_cast<geos::geom::Polygon*>(
         geos::operation::buffer::BufferOp::bufferOp(
             pLineString, fOffset, 16,
             geos::operation::buffer::BufferParameters::CAP_ROUND));

When I do the buffering by using the BufferOp and BufferParameters class 
directly, the resulted geometry looks very strange:

     // Not working code
     geos::operation::buffer::BufferParameters params(
         16,
         geos::operation::buffer::BufferParameters::CAP_ROUND);

     geos::operation::buffer::BufferOp op(pLineString, params);
     geos::geom::Polygon* pPolygon =
         dynamic_cast<geos::geom::Polygon*>(op.getResultGeometry(fOffset));

 From my understanding, the results of both code snipets should be the same.

Here you can find a plot of the results in both cases:

http://www.mesw.de/support/geos_rectangle_buffer_fail.png

Any help is greatly appreciated.

Best regards,
Markus

-------------- next part --------------
A non-text attachment was scrubbed...
Name: geos_rectangle_buffer_fail.png
Type: image/png
Size: 26606 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20111026/a94bf316/geos_rectangle_buffer_fail-0001.png
From strk at keybit.net  Wed Oct 26 08:12:55 2011
From: strk at keybit.net (Sandro Santilli)
Date: Wed Oct 26 13:02:39 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <4EA7DDA3.8030009@mesw.de>
References: <4EA7DDA3.8030009@mesw.de>
Message-ID: <20111026121255.GA25360@gnash>

On Wed, Oct 26, 2011 at 12:14:59PM +0200, Markus Meyer wrote:


>     // Working code
>     geos::geom::Polygon* pPolygon = dynamic_cast<geos::geom::Polygon*>(
>         geos::operation::buffer::BufferOp::bufferOp(
>             pLineString, fOffset, 16,
>             geos::operation::buffer::BufferParameters::CAP_ROUND));
> 
> When I do the buffering by using the BufferOp and BufferParameters
> class directly, the resulted geometry looks very strange:
> 
>     // Not working code
>     geos::operation::buffer::BufferParameters params(
>         16,
>         geos::operation::buffer::BufferParameters::CAP_ROUND);
> 
>     geos::operation::buffer::BufferOp op(pLineString, params);
>     geos::geom::Polygon* pPolygon =
>         dynamic_cast<geos::geom::Polygon*>(op.getResultGeometry(fOffset));
> 
> From my understanding, the results of both code snipets should be the same.

You're right. They should.
Could you file a ticket for this on http://trac.osgeo.org/geos ?
Also try the attached patch (attach it to the ticket if it works).
Thanks !

Note: you shouldn't be using the C++ interface :)

--strk;

  ()   Free GIS & Flash consultant/developer
  /\   http://strk.keybit.net/services.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: alias.patch
Type: text/x-diff
Size: 932 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20111026/7b07cdd3/alias.bin
From meyer at mesw.de  Wed Oct 26 08:58:34 2011
From: meyer at mesw.de (Markus Meyer)
Date: Wed Oct 26 13:51:02 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <20111026121255.GA25360@gnash>
References: <4EA7DDA3.8030009@mesw.de> <20111026121255.GA25360@gnash>
Message-ID: <4EA803FA.7090005@mesw.de>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: goes_debugger.png
Type: image/png
Size: 32601 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20111026/8b6a9eee/goes_debugger-0001.png
From strk at keybit.net  Wed Oct 26 09:17:10 2011
From: strk at keybit.net (Sandro Santilli)
Date: Wed Oct 26 14:10:06 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <4EA803FA.7090005@mesw.de>
References: <4EA7DDA3.8030009@mesw.de> <20111026121255.GA25360@gnash>
	<4EA803FA.7090005@mesw.de>
Message-ID: <20111026131710.GD25360@gnash>

On Wed, Oct 26, 2011 at 02:58:34PM +0200, Markus Meyer wrote:
> Sandro
> 
> thanks for the quick answer. I changed the constructor (and also the
> other constructors) according to your scheme but this changed
> nothing. (Actually I'd guess that the local variable hides the
> instance variable here anyway, so the patch probably has no effect,
> but I might be wrong.)

You're probably right. 

> Anyway, I debugged into the code and made sure that indeed the
> correct buffer parameters are set inside the BufferOp, but still the
> output looks the same as in my "Not working code" example. So some
> other thing must be wrong here... (I did not yet step into the GEOS
> code itself with the debugger because I think I'd need a Visual
> Studio project for that.) See the attached picture to see what I
> tried.
> 
> Any other ideas?

Not w/out instrumenting the testcode with some debugger.

> (Btw, why is the C++ interface not ment to be used standalone?)

Because it's too big to be appropriately quality controlled
and to be maintained in a way not to upset users about the
need to change their calls between releases.

--strk; 

  ()   Free GIS & Flash consultant/developer
  /\   http://strk.keybit.net/services.html
From mateusz at loskot.net  Wed Oct 26 10:53:34 2011
From: mateusz at loskot.net (=?UTF-8?Q?Mateusz_=C5=81oskot?=)
Date: Wed Oct 26 15:52:01 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <4EA803FA.7090005@mesw.de>
References: <4EA7DDA3.8030009@mesw.de> <20111026121255.GA25360@gnash>
	<4EA803FA.7090005@mesw.de>
Message-ID: <CABUeae_Da87F+y-sivpJeC=gU+0Vr-L=1W77XgYTvNsavbg=TA@mail.gmail.com>

On 26 October 2011 13:58, Markus Meyer <meyer@mesw.de> wrote:
> (Btw, why is the C++ interface not ment to be used standalone?)

Markus,

Don't listen to Sandro ;-)

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
Member of ACCU, http://accu.org
From mateusz at loskot.net  Wed Oct 26 14:56:41 2011
From: mateusz at loskot.net (=?UTF-8?Q?Mateusz_=C5=81oskot?=)
Date: Wed Oct 26 20:07:55 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <4EA7DDA3.8030009@mesw.de>
References: <4EA7DDA3.8030009@mesw.de>
Message-ID: <CABUeae-1RD3pmV6f0MZk=GGeRdgVFik4kxyv8FWfDyBbyDAPRw@mail.gmail.com>

On 26 October 2011 11:14, Markus Meyer <meyer@mesw.de> wrote:
>
> I'm using GEOS 3.3.0 on Microsoft Visual Studio 2008 (Windows 7) for
> buffering lines using BufferOp.
>
> I would like to use the BufferParameters class to control extended
> parameters. However, it seems that I must be using the BufferOp class the
> wrong way because my parameters are never accepted. To explain this, I
> created a simple test program which offsets a rectangle.
>
> When I do the buffering with the static function Buffer::bufferOp() the
> resulting geometry looks OK:
>
> ? ?// Working code
> ? ?geos::geom::Polygon* pPolygon = dynamic_cast<geos::geom::Polygon*>(
> ? ? ? ?geos::operation::buffer::BufferOp::bufferOp(
> ? ? ? ? ? ?pLineString, fOffset, 16,
> ? ? ? ? ? ?geos::operation::buffer::BufferParameters::CAP_ROUND));
>
> When I do the buffering by using the BufferOp and BufferParameters class
> directly, the resulted geometry looks very strange:
>
> ? ?// Not working code
> ? ?geos::operation::buffer::BufferParameters params(
> ? ? ? ?16,
> ? ? ? ?geos::operation::buffer::BufferParameters::CAP_ROUND);
>
> ? ?geos::operation::buffer::BufferOp op(pLineString, params);
> ? ?geos::geom::Polygon* pPolygon =
> ? ? ? ?dynamic_cast<geos::geom::Polygon*>(op.getResultGeometry(fOffset));
>
> From my understanding, the results of both code snipets should be the same.

Markus,

As Sandro confirmed, both ways should produce the same results.

I have added test case that tries to reproduce your use case.
Here it is:

http://trac.osgeo.org/geos/changeset/3509

It is based on one of test geometries used across the GEOS unit tests.
If you can provide your geometry, it would be helpful.
Then we could replace the WKT input in the test and have it covered.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
Member of ACCU, http://accu.org
From meyer at mesw.de  Fri Oct 28 05:39:43 2011
From: meyer at mesw.de (Markus Meyer)
Date: Fri Oct 28 12:58:55 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <CABUeae-1RD3pmV6f0MZk=GGeRdgVFik4kxyv8FWfDyBbyDAPRw@mail.gmail.com>
References: <4EA7DDA3.8030009@mesw.de>
	<CABUeae-1RD3pmV6f0MZk=GGeRdgVFik4kxyv8FWfDyBbyDAPRw@mail.gmail.com>
Message-ID: <4EAA785F.9080809@mesw.de>

Mateusz,

thanks for creating the test.

Here are information about the used coordinates and the used offset 
(dumped from the code):

Coordinate #0 = 0.0, 0.0
Coordinate #1 = 100.0, 0.0
Coordinate #2 = 100.0, 100.0
Coordinate #3 = 0.0, 100.0
Coordinate #4 = 0.0, 0.0
fOffset = 5.00

Is there any chance that this problem is being fixed soon? I reviewed 
the code myself already but so far I could not easily find the problem 
so I would really need to debug into the code which might be rather 
time-consuming. So I would really appreciate if someone who is familiar 
with the inner concepts of GEOS could have a quick look at the problem, 
especially as now there is a test case for it.

Best regards,
Markus

Am 26.10.2011 20:56, schrieb Mateusz ?oskot:
> On 26 October 2011 11:14, Markus Meyer<meyer@mesw.de>  wrote:
>> I'm using GEOS 3.3.0 on Microsoft Visual Studio 2008 (Windows 7) for
>> buffering lines using BufferOp.
>>
>> I would like to use the BufferParameters class to control extended
>> parameters. However, it seems that I must be using the BufferOp class the
>> wrong way because my parameters are never accepted. To explain this, I
>> created a simple test program which offsets a rectangle.
>>
>> When I do the buffering with the static function Buffer::bufferOp() the
>> resulting geometry looks OK:
>>
>>     // Working code
>>     geos::geom::Polygon* pPolygon = dynamic_cast<geos::geom::Polygon*>(
>>         geos::operation::buffer::BufferOp::bufferOp(
>>             pLineString, fOffset, 16,
>>             geos::operation::buffer::BufferParameters::CAP_ROUND));
>>
>> When I do the buffering by using the BufferOp and BufferParameters class
>> directly, the resulted geometry looks very strange:
>>
>>     // Not working code
>>     geos::operation::buffer::BufferParameters params(
>>         16,
>>         geos::operation::buffer::BufferParameters::CAP_ROUND);
>>
>>     geos::operation::buffer::BufferOp op(pLineString, params);
>>     geos::geom::Polygon* pPolygon =
>>         dynamic_cast<geos::geom::Polygon*>(op.getResultGeometry(fOffset));
>>
>>  From my understanding, the results of both code snipets should be the same.
> Markus,
>
> As Sandro confirmed, both ways should produce the same results.
>
> I have added test case that tries to reproduce your use case.
> Here it is:
>
> http://trac.osgeo.org/geos/changeset/3509
>
> It is based on one of test geometries used across the GEOS unit tests.
> If you can provide your geometry, it would be helpful.
> Then we could replace the WKT input in the test and have it covered.
>
> Best regards,

From mateusz at loskot.net  Fri Oct 28 19:36:34 2011
From: mateusz at loskot.net (=?UTF-8?Q?Mateusz_=C5=81oskot?=)
Date: Sat Oct 29 03:41:04 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <4EAA785F.9080809@mesw.de>
References: <4EA7DDA3.8030009@mesw.de>
	<CABUeae-1RD3pmV6f0MZk=GGeRdgVFik4kxyv8FWfDyBbyDAPRw@mail.gmail.com>
	<4EAA785F.9080809@mesw.de>
Message-ID: <CABUeae8GTeL-_d0fczuxmiwfm09y_t2D49xyYGkULWrnvpfoyw@mail.gmail.com>

On 28 October 2011 10:39, Markus Meyer <meyer@mesw.de> wrote:
> Mateusz,
>
> thanks for creating the test.
>
> Here are information about the used coordinates and the used offset (dumped
> from the code):
>
> Coordinate #0 = 0.0, 0.0
> Coordinate #1 = 100.0, 0.0
> Coordinate #2 = 100.0, 100.0
> Coordinate #3 = 0.0, 100.0
> Coordinate #4 = 0.0, 0.0
> fOffset = 5.00

Markus,

I rather meant to use your geometry in the test, in case 1) it is
possible to receive it
2) it is not a giant, so it will fit in WKT form into BufferOpTest.cpp file.
See comment and placeholder here:

http://trac.osgeo.org/geos/browser/trunk/tests/unit/operation/buffer/BufferOpTest.cpp?rev=3509#L282

> Is there any chance that this problem is being fixed soon?

Perhaps Sandro is working on it.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
Member of ACCU, http://accu.org
From strk at keybit.net  Sat Oct 29 02:31:12 2011
From: strk at keybit.net (Sandro Santilli)
Date: Sat Oct 29 10:58:11 2011
Subject: [geos-devel] Problems with BufferOp when using BufferParameters
In-Reply-To: <CABUeae8GTeL-_d0fczuxmiwfm09y_t2D49xyYGkULWrnvpfoyw@mail.gmail.com>
References: <4EA7DDA3.8030009@mesw.de>
	<CABUeae-1RD3pmV6f0MZk=GGeRdgVFik4kxyv8FWfDyBbyDAPRw@mail.gmail.com>
	<4EAA785F.9080809@mesw.de>
	<CABUeae8GTeL-_d0fczuxmiwfm09y_t2D49xyYGkULWrnvpfoyw@mail.gmail.com>
Message-ID: <20111029063112.GC15195@gnash>

On Sat, Oct 29, 2011 at 12:36:34AM +0100, Mateusz ?oskot wrote:
> On 28 October 2011 10:39, Markus Meyer <meyer@mesw.de> wrote:
> > Mateusz,
> >
> > thanks for creating the test.
> >
> > Here are information about the used coordinates and the used offset (dumped
> > from the code):
> >
> > Coordinate #0 = 0.0, 0.0
> > Coordinate #1 = 100.0, 0.0
> > Coordinate #2 = 100.0, 100.0
> > Coordinate #3 = 0.0, 100.0
> > Coordinate #4 = 0.0, 0.0
> > fOffset = 5.00
> 
> Markus,
> 
> I rather meant to use your geometry in the test, in case 1) it is
> possible to receive it
> 2) it is not a giant, so it will fit in WKT form into BufferOpTest.cpp file.
> See comment and placeholder here:
> 
> http://trac.osgeo.org/geos/browser/trunk/tests/unit/operation/buffer/BufferOpTest.cpp?rev=3509#L282
> 
> > Is there any chance that this problem is being fixed soon?
> 
> Perhaps Sandro is working on it.

I'm not working on it.
Watch out that if it is a robustness problem WKT might hide it.

--strk;

  ()   Free GIS & Flash consultant/developer
  /\   http://strk.keybit.net/services.html
From geos-trac at osgeo.org  Mon Oct 31 06:07:15 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct 31 17:24:29 2011
Subject: [geos-devel] Re: [GEOS] #482: UnaryUnion of a non-simple linestring
 doesn't node it
In-Reply-To: <044.76605c1fff889cf4bc0f1b8f06958dfa@osgeo.org>
References: <044.76605c1fff889cf4bc0f1b8f06958dfa@osgeo.org>
Message-ID: <053.24c9c37d7ad3ac58765e692b687a96a0@osgeo.org>

#482: UnaryUnion of a non-simple linestring doesn't node it
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by mwtoews):

 I assume an example of this bug is with {{{LINESTRING (50 50, 150 150, 50
 150, 150 50)}}}, which GEOS="3.3.1-CAPI-1.7.1" returns the exact same non-
 simple geometry while JTS returns a simple geometry
 {{{
 MULTILINESTRING ((50 50, 100 100),
   (100 100, 150 150, 50 150, 100 100),
   (100 100, 150 50))
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/482#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
