From strk at keybit.net  Mon Apr  1 13:02:00 2013
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 1 Apr 2013 22:02:00 +0200
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
References: <CAJW9wov4rdv=YM3ybqL6YJnquajbjmsagW5iwx3RWZb3Z+zcwg@mail.gmail.com>
	<20130329101253.GD12056@gnash>
	<CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
Message-ID: <20130401200200.GA14127@gnash>

On Sun, Mar 31, 2013 at 01:05:30PM +0530, vishal tiwari wrote:
> Hey,
> I found the code, it wasn't there with the initial search result on git. :P
> 
> Now i understand what you mean by what was missing. I can see a bunch of
> files that are not in triangulation, so i suppose the project is to write
> these missing files, which correspond to the Voronoi diagram generation.
> Tell me if i am going wrong.

Sounds correct :)

--strk;

From hi.vishal123 at gmail.com  Tue Apr  2 10:59:58 2013
From: hi.vishal123 at gmail.com (vishal tiwari)
Date: Tue, 2 Apr 2013 23:29:58 +0530
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <20130401200200.GA14127@gnash>
References: <CAJW9wov4rdv=YM3ybqL6YJnquajbjmsagW5iwx3RWZb3Z+zcwg@mail.gmail.com>
	<20130329101253.GD12056@gnash>
	<CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
	<20130401200200.GA14127@gnash>
Message-ID: <CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>

Hey,
I have some doubts. I see that there is only one class that is,
VoronoiDiagramBuilder that is required for the voronoi class. And what is
the purpose of the other class, as i don't see them inside the code of the
VoronoiDiagramBuilder class. The classes that is needed in
VoronoiDiagramBuilder class are already ported. I think the rest of the
class correspond to Conforming Delauny triangulation. So i need to know
what all needs to be ported as the part of the gsoc project?

Today i was trying to port the VoronoiDiagramBuilder.java class. and while
porting i noticed that a method
DelaunayTriangulationBuilder::unique(DelaunayTriangulationBuilder::unique)
is of type "void".
But the corresponding method in  DelaunayTriangulationBuilder.java in JTS
returns a CoordinateList. I want to know is it some error, or i am going
wrong?

I made the VoronoiDiagramBuilder.h file, was thinking if you could just
give it a look(attached to the mail). I have written some part of the .cpp
file as well, before i got suck in the problem.

Thanks,


On 2 April 2013 01:32, Sandro Santilli <strk at keybit.net> wrote:

> On Sun, Mar 31, 2013 at 01:05:30PM +0530, vishal tiwari wrote:
> > Hey,
> > I found the code, it wasn't there with the initial search result on git.
> :P
> >
> > Now i understand what you mean by what was missing. I can see a bunch of
> > files that are not in triangulation, so i suppose the project is to write
> > these missing files, which correspond to the Voronoi diagram generation.
> > Tell me if i am going wrong.
>
> Sounds correct :)
>
> --strk;
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>



-- 
Vishal Tiwari
Undergraduate
Computer Science and Engineering
Lab for Spatial Informatics
IIIT-Hyderabad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20130402/fdaccf69/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: VoronoiDiagramBuilder.h
Type: text/x-chdr
Size: 2763 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20130402/fdaccf69/attachment.h>

From strk at keybit.net  Wed Apr  3 00:37:12 2013
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 3 Apr 2013 09:37:12 +0200
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>
References: <CAJW9wov4rdv=YM3ybqL6YJnquajbjmsagW5iwx3RWZb3Z+zcwg@mail.gmail.com>
	<20130329101253.GD12056@gnash>
	<CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
	<20130401200200.GA14127@gnash>
	<CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>
Message-ID: <20130403073623.GC10114@gnash>

On Tue, Apr 02, 2013 at 11:29:58PM +0530, vishal tiwari wrote:
> Hey,
> I have some doubts. I see that there is only one class that is,
> VoronoiDiagramBuilder that is required for the voronoi class. And what is
> the purpose of the other class, as i don't see them inside the code of the
> VoronoiDiagramBuilder class. The classes that is needed in
> VoronoiDiagramBuilder class are already ported. I think the rest of the
> class correspond to Conforming Delauny triangulation. So i need to know
> what all needs to be ported as the part of the gsoc project?

Only VoronoiDiagramBuilder and the classes it needs are required for the GSoC
project.

> Today i was trying to port the VoronoiDiagramBuilder.java class. and while
> porting i noticed that a method
> DelaunayTriangulationBuilder::unique(DelaunayTriangulationBuilder::unique)
> is of type "void".
> But the corresponding method in  DelaunayTriangulationBuilder.java in JTS
> returns a CoordinateList. I want to know is it some error, or i am going
> wrong?

Nothing wrong, in GEOS the porter decided to take the CoordinateList as
an input/output parameter. You'll have to keep this in mind while porting
the rest of the code. If you _need_ a copy you can make one from the caller.

> I made the VoronoiDiagramBuilder.h file, was thinking if you could just
> give it a look(attached to the mail). I have written some part of the .cpp
> file as well, before i got suck in the problem.

Prefer taking parameters by reference rather than pointer, unless you have
a clear semantic for accepting a NULL value. Also add const modifiers when
possible. It'll save a lot of future work.

--strk;

 http://strk.keybit.net 


From hi.vishal123 at gmail.com  Thu Apr  4 04:32:56 2013
From: hi.vishal123 at gmail.com (vishal tiwari)
Date: Thu, 4 Apr 2013 17:02:56 +0530
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <20130403073623.GC10114@gnash>
References: <CAJW9wov4rdv=YM3ybqL6YJnquajbjmsagW5iwx3RWZb3Z+zcwg@mail.gmail.com>
	<20130329101253.GD12056@gnash>
	<CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
	<20130401200200.GA14127@gnash>
	<CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>
	<20130403073623.GC10114@gnash>
Message-ID: <CAJW9wovbOBfdcOMotvvw0kZgcvTYZd46LQPSjjA7PKoY-SRp1Q@mail.gmail.com>

Hey,
Here is the structure of classes that is required by the *
VoronoiDiagramBuilder* class: (The ones in *bold* needs to be ported)

   1. Geometry
   2. Geometry Factor
   3. QuadEdgeSubdivision:
      - Methods required for *VoronoiDigramBuilder*:
         - *getVoronoiDiagram*
         - *getVoronoiCellPolugons*
         - *getVoronoiCellPolugon*
         - visitTriangle
         - *getVertexUniqueEdges*
         - TriangleCoordinateVisitor
         - *TriangleCircumcenterVisitor*
         - *TriangleEdgeListVisitor*
         - *TriangleVertexListVisitor*
         - *isFrameVertex*
      4. TriangleVisitor(Interface)

Plz let me know if i am missing some method or class which is required
for VoronoiDiagramBuilder
port.

Is it me or its very few work for a Gsoc Project?

Thanks,
Vishal


On 3 April 2013 13:07, Sandro Santilli <strk at keybit.net> wrote:

> On Tue, Apr 02, 2013 at 11:29:58PM +0530, vishal tiwari wrote:
> > Hey,
> > I have some doubts. I see that there is only one class that is,
> > VoronoiDiagramBuilder that is required for the voronoi class. And what is
> > the purpose of the other class, as i don't see them inside the code of
> the
> > VoronoiDiagramBuilder class. The classes that is needed in
> > VoronoiDiagramBuilder class are already ported. I think the rest of the
> > class correspond to Conforming Delauny triangulation. So i need to know
> > what all needs to be ported as the part of the gsoc project?
>
> Only VoronoiDiagramBuilder and the classes it needs are required for the
> GSoC
> project.
>
> > Today i was trying to port the VoronoiDiagramBuilder.java class. and
> while
> > porting i noticed that a method
> >
> DelaunayTriangulationBuilder::unique(DelaunayTriangulationBuilder::unique)
> > is of type "void".
> > But the corresponding method in  DelaunayTriangulationBuilder.java in JTS
> > returns a CoordinateList. I want to know is it some error, or i am going
> > wrong?
>
> Nothing wrong, in GEOS the porter decided to take the CoordinateList as
> an input/output parameter. You'll have to keep this in mind while porting
> the rest of the code. If you _need_ a copy you can make one from the
> caller.
>
> > I made the VoronoiDiagramBuilder.h file, was thinking if you could just
> > give it a look(attached to the mail). I have written some part of the
> .cpp
> > file as well, before i got suck in the problem.
>
> Prefer taking parameters by reference rather than pointer, unless you have
> a clear semantic for accepting a NULL value. Also add const modifiers when
> possible. It'll save a lot of future work.
>
> --strk;
>
>  http://strk.keybit.net
>
>


-- 
Vishal Tiwari
Undergraduate
Computer Science and Engineering
Lab for Spatial Informatics
IIIT-Hyderabad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20130404/948b0964/attachment.html>

From strk at keybit.net  Thu Apr  4 07:16:51 2013
From: strk at keybit.net (Sandro Santilli)
Date: Thu, 4 Apr 2013 16:16:51 +0200
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <CAJW9wovbOBfdcOMotvvw0kZgcvTYZd46LQPSjjA7PKoY-SRp1Q@mail.gmail.com>
References: <CAJW9wov4rdv=YM3ybqL6YJnquajbjmsagW5iwx3RWZb3Z+zcwg@mail.gmail.com>
	<20130329101253.GD12056@gnash>
	<CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
	<20130401200200.GA14127@gnash>
	<CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>
	<20130403073623.GC10114@gnash>
	<CAJW9wovbOBfdcOMotvvw0kZgcvTYZd46LQPSjjA7PKoY-SRp1Q@mail.gmail.com>
Message-ID: <20130404141651.GE334@gnash>

On Thu, Apr 04, 2013 at 05:02:56PM +0530, vishal tiwari wrote:
> Hey,
> Here is the structure of classes that is required by the *
> VoronoiDiagramBuilder* class: (The ones in *bold* needs to be ported)
> 
>    1. Geometry
>    2. Geometry Factor
>    3. QuadEdgeSubdivision:
>       - Methods required for *VoronoiDigramBuilder*:
>          - *getVoronoiDiagram*
>          - *getVoronoiCellPolugons*
>          - *getVoronoiCellPolugon*
>          - visitTriangle
>          - *getVertexUniqueEdges*
>          - TriangleCoordinateVisitor
>          - *TriangleCircumcenterVisitor*
>          - *TriangleEdgeListVisitor*
>          - *TriangleVertexListVisitor*
>          - *isFrameVertex*
>       4. TriangleVisitor(Interface)
> 
> Plz let me know if i am missing some method or class which is required
> for VoronoiDiagramBuilder port.

Again, looking is part of the work.
You'll find out as you start porting if anything is missing.

> Is it me or its very few work for a Gsoc Project?

Don't forget the testcases for the C++ implementation, 
the C-API exposure and relative testcases and audit for
memory leakage.

After you've done, if you still have time it'd be nice to
work on improving the performance of it :)

--strk;

From geos-trac at osgeo.org  Fri Apr  5 07:27:42 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 05 Apr 2013 14:27:42 -0000
Subject: [geos-devel] [GEOS] #600: [JTS works] TopologyException in
 ST_Union with valid geometries
In-Reply-To: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
References: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
Message-ID: <055.5f8e7865504411070594bb75e1f354a4@osgeo.org>

#600: [JTS works] TopologyException in ST_Union with valid geometries
------------------------+---------------------------------------------------
 Reporter:  ppawel      |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.9                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by EliL):

 * cc: EliL (added)


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/600#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From cooperch at cf.ac.uk  Fri Apr  5 07:54:04 2013
From: cooperch at cf.ac.uk (Crispin Cooper)
Date: Fri, 05 Apr 2013 15:54:04 +0100
Subject: [geos-devel] Compiling GEOS 64-bit
Message-ID: <515EE58C.9090809@cf.ac.uk>

Hi, quick question:

Is there an option I can feed to nmake (building under windows/msvc) 
that will cause GEOS to be compiled 64-bit?

Best regards

Crispin


-- 
Dr Crispin Cooper
Sustainable Places Research Institute
33 Park Place, Cardiff CF10 3BA
Phone +44 (0)29 20876072



From hi.vishal123 at gmail.com  Wed Apr 10 01:47:44 2013
From: hi.vishal123 at gmail.com (vishal tiwari)
Date: Wed, 10 Apr 2013 14:17:44 +0530
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <20130404141651.GE334@gnash>
References: <CAJW9wov4rdv=YM3ybqL6YJnquajbjmsagW5iwx3RWZb3Z+zcwg@mail.gmail.com>
	<20130329101253.GD12056@gnash>
	<CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
	<20130401200200.GA14127@gnash>
	<CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>
	<20130403073623.GC10114@gnash>
	<CAJW9wovbOBfdcOMotvvw0kZgcvTYZd46LQPSjjA7PKoY-SRp1Q@mail.gmail.com>
	<20130404141651.GE334@gnash>
Message-ID: <CAJW9wostz+h1bi3Ti2w-U2xsWjj5LXXrMAG_F42nZtJkSQpoDA@mail.gmail.com>

Hey,
I suppose only those test cases needs to be ported that correspond to
Voronoi class. But i see many other test cases for other class that are
missing. So just asking for clarification, do we need to ported other test
cases as well?

*

And as for the C-API this is what i have understood: it provides a wrapper
to the C++ functions. All the reference functions are implemented in
geos_ts_c.cpp. And all the functions that are exposed to the users are in
geos_c.cpp and its header file, geos_c.h.


Regarding the Gsoc proposal in the 'Describe your idea' section of the
OSGeo proposal Application, this is what i have thought about from our
discussion on the project:

https://docs.google.com/document/d/1biGlOqTnS7SnlxPOcFKrxj7_QEMYd1VtAFDms6L3AnY/edit


Looking for your feedback on how it can further be improved.


Thanks and kind regards,

Vishal



*


On 4 April 2013 19:46, Sandro Santilli <strk at keybit.net> wrote:

> On Thu, Apr 04, 2013 at 05:02:56PM +0530, vishal tiwari wrote:
> > Hey,
> > Here is the structure of classes that is required by the *
> > VoronoiDiagramBuilder* class: (The ones in *bold* needs to be ported)
> >
> >    1. Geometry
> >    2. Geometry Factor
> >    3. QuadEdgeSubdivision:
> >       - Methods required for *VoronoiDigramBuilder*:
> >          - *getVoronoiDiagram*
> >          - *getVoronoiCellPolugons*
> >          - *getVoronoiCellPolugon*
> >          - visitTriangle
> >          - *getVertexUniqueEdges*
> >          - TriangleCoordinateVisitor
> >          - *TriangleCircumcenterVisitor*
> >          - *TriangleEdgeListVisitor*
> >          - *TriangleVertexListVisitor*
> >          - *isFrameVertex*
> >       4. TriangleVisitor(Interface)
> >
> > Plz let me know if i am missing some method or class which is required
> > for VoronoiDiagramBuilder port.
>
> Again, looking is part of the work.
> You'll find out as you start porting if anything is missing.
>
> > Is it me or its very few work for a Gsoc Project?
>
> Don't forget the testcases for the C++ implementation,
> the C-API exposure and relative testcases and audit for
> memory leakage.
>
> After you've done, if you still have time it'd be nice to
> work on improving the performance of it :)
>
> --strk;
>



-- 
Vishal Tiwari
Undergraduate
Computer Science and Engineering
Lab for Spatial Informatics
IIIT-Hyderabad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20130410/a0ba0783/attachment.html>

From strk at keybit.net  Wed Apr 10 03:08:44 2013
From: strk at keybit.net (Sandro Santilli)
Date: Wed, 10 Apr 2013 12:08:44 +0200
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <CAJW9wostz+h1bi3Ti2w-U2xsWjj5LXXrMAG_F42nZtJkSQpoDA@mail.gmail.com>
References: <CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
	<20130401200200.GA14127@gnash>
	<CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>
	<20130403073623.GC10114@gnash>
	<CAJW9wovbOBfdcOMotvvw0kZgcvTYZd46LQPSjjA7PKoY-SRp1Q@mail.gmail.com>
	<20130404141651.GE334@gnash>
	<CAJW9wostz+h1bi3Ti2w-U2xsWjj5LXXrMAG_F42nZtJkSQpoDA@mail.gmail.com>
Message-ID: <20130410100844.GE3181@gnash>

On Wed, Apr 10, 2013 at 02:17:44PM +0530, vishal tiwari wrote:
> Hey,
> I suppose only those test cases needs to be ported that correspond to
> Voronoi class. But i see many other test cases for other class that are
> missing. So just asking for clarification, do we need to ported other test
> cases as well?

For the purpose of Voronoi you only need to port tests for the Voronoi
class and any class used by the Voronoi class. But if you find yourself
having more time porting more tests would be very useful

> And as for the C-API this is what i have understood: it provides a wrapper
> to the C++ functions. All the reference functions are implemented in
> geos_ts_c.cpp. And all the functions that are exposed to the users are in
> geos_c.cpp and its header file, geos_c.h.

More or less. Actually geos_ts.cpp contains the _Thread_Safe_ (supposedly)
version of the functions. It's been added later so the old API (officially
non thread-safe) is retained. In theory, new functions could STOP exposing
a non-thread-safe version of the signature but I haven't started this to
avoid having a mix of new and old APIs around. So at the moment it's
recommended to always keep both APIs.

Both TS and non-TS function are found in geos_c.h. The non-TS function are
all simple wrappers to the TS ones.

> Regarding the Gsoc proposal in the 'Describe your idea' section of the
> OSGeo proposal Application, this is what i have thought about from our
> discussion on the project:
> 
> https://docs.google.com/document/d/1biGlOqTnS7SnlxPOcFKrxj7_QEMYd1VtAFDms6L3AnY/edit

Sounds good to me. Maybe Anne has some suggestions for the
gsoc-specific needs.

--strk;

> 
> 
> Looking for your feedback on how it can further be improved.
> 
> 
> Thanks and kind regards,
> 
> Vishal
> 
> 
> 
> *
> 
> 
> On 4 April 2013 19:46, Sandro Santilli <strk at keybit.net> wrote:
> 
> > On Thu, Apr 04, 2013 at 05:02:56PM +0530, vishal tiwari wrote:
> > > Hey,
> > > Here is the structure of classes that is required by the *
> > > VoronoiDiagramBuilder* class: (The ones in *bold* needs to be ported)
> > >
> > >    1. Geometry
> > >    2. Geometry Factor
> > >    3. QuadEdgeSubdivision:
> > >       - Methods required for *VoronoiDigramBuilder*:
> > >          - *getVoronoiDiagram*
> > >          - *getVoronoiCellPolugons*
> > >          - *getVoronoiCellPolugon*
> > >          - visitTriangle
> > >          - *getVertexUniqueEdges*
> > >          - TriangleCoordinateVisitor
> > >          - *TriangleCircumcenterVisitor*
> > >          - *TriangleEdgeListVisitor*
> > >          - *TriangleVertexListVisitor*
> > >          - *isFrameVertex*
> > >       4. TriangleVisitor(Interface)
> > >
> > > Plz let me know if i am missing some method or class which is required
> > > for VoronoiDiagramBuilder port.
> >
> > Again, looking is part of the work.
> > You'll find out as you start porting if anything is missing.
> >
> > > Is it me or its very few work for a Gsoc Project?
> >
> > Don't forget the testcases for the C++ implementation,
> > the C-API exposure and relative testcases and audit for
> > memory leakage.
> >
> > After you've done, if you still have time it'd be nice to
> > work on improving the performance of it :)
> >
> > --strk;
> >
> 
> 
> 
> -- 
> Vishal Tiwari
> Undergraduate
> Computer Science and Engineering
> Lab for Spatial Informatics
> IIIT-Hyderabad

From jmckenna at gatewaygeomatics.com  Thu Apr 11 07:36:44 2013
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 11 Apr 2013 11:36:44 -0300
Subject: [geos-devel] Compiling GEOS 64-bit
In-Reply-To: <515EE58C.9090809@cf.ac.uk>
References: <515EE58C.9090809@cf.ac.uk>
Message-ID: <5166CA7C.3020301@gatewaygeomatics.com>




On 2013-04-05 11:54 AM, Crispin Cooper wrote:
> Hi, quick question:
> 
> Is there an option I can feed to nmake (building under windows/msvc)
> that will cause GEOS to be compiled 64-bit?
> 
> Best regards
> 
> Crispin
> 
> 

Hi,

I've compiled GEOS in 64-bit on windows/msvc and I did not need any
special option.

-jeff



-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/



From cooperch at cf.ac.uk  Thu Apr 11 08:41:14 2013
From: cooperch at cf.ac.uk (Crispin Cooper)
Date: Thu, 11 Apr 2013 16:41:14 +0100
Subject: [geos-devel] Compiling GEOS 64-bit
In-Reply-To: <5166CA7C.3020301@gatewaygeomatics.com>
References: <515EE58C.9090809@cf.ac.uk> <5166CA7C.3020301@gatewaygeomatics.com>
Message-ID: <5166D99A.3060208@cf.ac.uk>

On 11/04/2013 15:36, Jeff McKenna wrote:
> Hi, I've compiled GEOS in 64-bit on windows/msvc and I did not need 
> any special option. -jeff 
Solved this, thanks.  For the benefit of anyone reading the list 
archives, from the command prompt I had to run

autogen.bat
"C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\Vcvarsall.bat" amd64

And then the usual build instruction worked fine

nmake /f makefile.vc MSVC_VER=1500

A few warnings existed about size_t being condensed to ulong.  Not a 
problem for my purposes.

Best,

Crispin

-- 
Dr Crispin Cooper
Sustainable Places Research Institute
33 Park Place, Cardiff CF10 3BA
Phone +44 (0)29 20876072


From richard at tiptree.demon.co.uk  Tue Apr 16 11:53:28 2013
From: richard at tiptree.demon.co.uk (Richard Frith-Macdonald)
Date: Tue, 16 Apr 2013 19:53:28 +0100
Subject: [geos-devel] Problem with convex hull generating bad polygons (I
	think)
Message-ID: <51070F7D-9A95-48E4-ABC1-A03C57A6B9C6@tiptree.demon.co.uk>

Sorry, this is not really a developer question, but I don't know where else to ask.
I might be encountering a bug, but most likely I'm just misunderstanding and doing something wrong.

I have code which is failing with 'TopologyException:side location conflict at' errors when performing a convex hull operation using the C API.
Adding diagnostics to print the WKT of things before the operation, it looks like I'm feeding in an invalid polygon (one with repeated points), but I don't know why.
My code starts (as far as I can tell) with valid simple (ie no inner rings) polygons, and attempts top merge/extend some of them as follows:

In some cases, I want one polygon to be extended to include another ... I do a union of the two and then a convex hull of the result, using this to replace the original polygon.
In other cases, I want one polygon to be extended to touch another ... I calculate the nearest points on the two polygons and then union the first polygon with the closest point of the second polygon, and do a convex hull of the union, using it to replace the first polygon.

I think one of these operations must be producing an invalid polygon as its output, and then that is causing the topology exception later on when the output of one pass is used as input in a later pass.

So, my guess is I'm doing something stupid here ... should the convex hull operation always produce a valid polygon as output?
Is a union of two polygons not valid as input for convex hull?
Is a union of a polygon and a point not valid for input for convex hull?

Thanks in advance for any help.


From mtnclimb at telus.net  Tue Apr 16 22:45:21 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Tue, 16 Apr 2013 22:45:21 -0700
Subject: [geos-devel] Problem with convex hull generating bad polygons
 (I think)
In-Reply-To: <51070F7D-9A95-48E4-ABC1-A03C57A6B9C6@tiptree.demon.co.uk>
References: <51070F7D-9A95-48E4-ABC1-A03C57A6B9C6@tiptree.demon.co.uk>
Message-ID: <516E36F1.8020806@telus.net>

ConvexHull does not require validity of the input - it only operates on 
the raw vertices of the input.  And it should always produce a valid 
output (which will be a polygon in the case of three or more 
non-collinear points).

Could the TopologyException come from the Union operation, not the 
ConvexHull?  Union definitely *does* require valid inputs, and if the 
inputs are not valid it almost always throws a TopologyException.



On 4/16/2013 11:53 AM, Richard Frith-Macdonald wrote:
> Sorry, this is not really a developer question, but I don't know where else to ask.
> I might be encountering a bug, but most likely I'm just misunderstanding and doing something wrong.
>
> I have code which is failing with 'TopologyException:side location conflict at' errors when performing a convex hull operation using the C API.
> Adding diagnostics to print the WKT of things before the operation, it looks like I'm feeding in an invalid polygon (one with repeated points), but I don't know why.
> My code starts (as far as I can tell) with valid simple (ie no inner rings) polygons, and attempts top merge/extend some of them as follows:
>
> In some cases, I want one polygon to be extended to include another ... I do a union of the two and then a convex hull of the result, using this to replace the original polygon.
> In other cases, I want one polygon to be extended to touch another ... I calculate the nearest points on the two polygons and then union the first polygon with the closest point of the second polygon, and do a convex hull of the union, using it to replace the first polygon.
>
> I think one of these operations must be producing an invalid polygon as its output, and then that is causing the topology exception later on when the output of one pass is used as input in a later pass.
>
> So, my guess is I'm doing something stupid here ... should the convex hull operation always produce a valid polygon as output?
> Is a union of two polygons not valid as input for convex hull?
> Is a union of a polygon and a point not valid for input for convex hull?
>
> Thanks in advance for any help.
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
>


From richard at tiptree.demon.co.uk  Tue Apr 16 23:23:41 2013
From: richard at tiptree.demon.co.uk (Richard Frith-Macdonald)
Date: Wed, 17 Apr 2013 07:23:41 +0100
Subject: [geos-devel] Problem with convex hull generating bad polygons
	(I think)
In-Reply-To: <516E36F1.8020806@telus.net>
References: <51070F7D-9A95-48E4-ABC1-A03C57A6B9C6@tiptree.demon.co.uk>
	<516E36F1.8020806@telus.net>
Message-ID: <68C64AED-C12C-462D-95F0-5FE0E3463779@tiptree.demon.co.uk>


On 17 Apr 2013, at 06:45, Martin Davis wrote:

> ConvexHull does not require validity of the input - it only operates on the raw vertices of the input.  And it should always produce a valid output (which will be a polygon in the case of three or more non-collinear points).
> 
> Could the TopologyException come from the Union operation, not the ConvexHull?  Union definitely *does* require valid inputs, and if the inputs are not valid it almost always throws a TopologyException.

Thanks ... that confirms my suspicion that I must somehow be getting bad inputs ... I'm now doing the tedious work of adding calls to GEOSisValid() for all input sources and before/after various operatiosn in my code, to track down were the invalid geometry is coming from.   Almost all input in my code comes is handled via the WKT reader, and I had assumed that this would produce a nul geometry if the input text didn't contain a valid geometry, but it seems this may not be the case, and I need to check validity of the geometry explicitly after parsing the WKT.


From mtnclimb at telus.net  Wed Apr 17 08:05:52 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Wed, 17 Apr 2013 08:05:52 -0700
Subject: [geos-devel] Problem with convex hull generating bad polygons
 (I think)
In-Reply-To: <68C64AED-C12C-462D-95F0-5FE0E3463779@tiptree.demon.co.uk>
References: <51070F7D-9A95-48E4-ABC1-A03C57A6B9C6@tiptree.demon.co.uk>
	<516E36F1.8020806@telus.net>
	<68C64AED-C12C-462D-95F0-5FE0E3463779@tiptree.demon.co.uk>
Message-ID: <516EBA50.8090004@telus.net>

Yes, you do need to explicitly check validity - the WKT reader does not 
enforce validity.  This is because:
(a) validity checking is expensive, and may not always be needed
(b) some use cases require reading the geometry regardless of whether it 
is valid

This is a general principle with JTS/GEOS, by the way.  Geometries 
created manually or by external input must be checked for validity and 
then handled appropriately - the library methods do not do this 
automatically.  However, you can assume that any geometry created by 
library operations is valid.

On 4/16/2013 11:23 PM, Richard Frith-Macdonald wrote:
> On 17 Apr 2013, at 06:45, Martin Davis wrote:
>
>> ConvexHull does not require validity of the input - it only operates on the raw vertices of the input.  And it should always produce a valid output (which will be a polygon in the case of three or more non-collinear points).
>>
>> Could the TopologyException come from the Union operation, not the ConvexHull?  Union definitely *does* require valid inputs, and if the inputs are not valid it almost always throws a TopologyException.
> Thanks ... that confirms my suspicion that I must somehow be getting bad inputs ... I'm now doing the tedious work of adding calls to GEOSisValid() for all input sources and before/after various operatiosn in my code, to track down were the invalid geometry is coming from.   Almost all input in my code comes is handled via the WKT reader, and I had assumed that this would produce a nul geometry if the input text didn't contain a valid geometry, but it seems this may not be the case, and I need to check validity of the geometry explicitly after parsing the WKT.
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
>


From hi.vishal123 at gmail.com  Sat Apr 27 11:34:14 2013
From: hi.vishal123 at gmail.com (vishal tiwari)
Date: Sun, 28 Apr 2013 00:04:14 +0530
Subject: [geos-devel] Gsoc 2013
In-Reply-To: <20130410100844.GE3181@gnash>
References: <CAJW9wouB3nd3t0u2z6j8oYpSsr8xeYLbtopafW2rO0wMO1o8iQ@mail.gmail.com>
	<20130329124210.GF12056@gnash>
	<CAJW9wouA90V8j6oaUaRcDLq4ESf-SQOOT1F7AZNg7Zn+x2HHTw@mail.gmail.com>
	<CAJW9wot6kvQ_GxKq_EofVRmiv=GKzcVd-LCQzkFKujEuwdHjTw@mail.gmail.com>
	<20130401200200.GA14127@gnash>
	<CAJW9wot_DM7qdk2r5009jh-0hJfG=TwZmWHsmGUS-1_9NiDWUw@mail.gmail.com>
	<20130403073623.GC10114@gnash>
	<CAJW9wovbOBfdcOMotvvw0kZgcvTYZd46LQPSjjA7PKoY-SRp1Q@mail.gmail.com>
	<20130404141651.GE334@gnash>
	<CAJW9wostz+h1bi3Ti2w-U2xsWjj5LXXrMAG_F42nZtJkSQpoDA@mail.gmail.com>
	<20130410100844.GE3181@gnash>
Message-ID: <CAJW9wouXdOpwE=BOA_k_TdOc3pOi4s8p65Pje=VaMEq9GZoUPQ@mail.gmail.com>

Hey!
I have submitted my GSoC Proposal for the project "Adding Voronoi Diagrams
to GEOS" here:
http://www.google-melange.com/gsoc/proposal/review/google/gsoc2013/vishal_tiwari/13001

kindly review it and give me feedback so that i can further improve it
before the application deadline.
Thanks,
Vishal Tiwari

On 10 April 2013 15:38, Sandro Santilli <strk at keybit.net> wrote:

> On Wed, Apr 10, 2013 at 02:17:44PM +0530, vishal tiwari wrote:
> > Hey,
> > I suppose only those test cases needs to be ported that correspond to
> > Voronoi class. But i see many other test cases for other class that are
> > missing. So just asking for clarification, do we need to ported other
> test
> > cases as well?
>
> For the purpose of Voronoi you only need to port tests for the Voronoi
> class and any class used by the Voronoi class. But if you find yourself
> having more time porting more tests would be very useful
>
> > And as for the C-API this is what i have understood: it provides a
> wrapper
> > to the C++ functions. All the reference functions are implemented in
> > geos_ts_c.cpp. And all the functions that are exposed to the users are in
> > geos_c.cpp and its header file, geos_c.h.
>
> More or less. Actually geos_ts.cpp contains the _Thread_Safe_ (supposedly)
> version of the functions. It's been added later so the old API (officially
> non thread-safe) is retained. In theory, new functions could STOP exposing
> a non-thread-safe version of the signature but I haven't started this to
> avoid having a mix of new and old APIs around. So at the moment it's
> recommended to always keep both APIs.
>
> Both TS and non-TS function are found in geos_c.h. The non-TS function are
> all simple wrappers to the TS ones.
>
> > Regarding the Gsoc proposal in the 'Describe your idea' section of the
> > OSGeo proposal Application, this is what i have thought about from our
> > discussion on the project:
> >
> >
> https://docs.google.com/document/d/1biGlOqTnS7SnlxPOcFKrxj7_QEMYd1VtAFDms6L3AnY/edit
>
> Sounds good to me. Maybe Anne has some suggestions for the
> gsoc-specific needs.
>
> --strk;
>
> >
> >
> > Looking for your feedback on how it can further be improved.
> >
> >
> > Thanks and kind regards,
> >
> > Vishal
> >
> >
> >
> > *
> >
> >
> > On 4 April 2013 19:46, Sandro Santilli <strk at keybit.net> wrote:
> >
> > > On Thu, Apr 04, 2013 at 05:02:56PM +0530, vishal tiwari wrote:
> > > > Hey,
> > > > Here is the structure of classes that is required by the *
> > > > VoronoiDiagramBuilder* class: (The ones in *bold* needs to be ported)
> > > >
> > > >    1. Geometry
> > > >    2. Geometry Factor
> > > >    3. QuadEdgeSubdivision:
> > > >       - Methods required for *VoronoiDigramBuilder*:
> > > >          - *getVoronoiDiagram*
> > > >          - *getVoronoiCellPolugons*
> > > >          - *getVoronoiCellPolugon*
> > > >          - visitTriangle
> > > >          - *getVertexUniqueEdges*
> > > >          - TriangleCoordinateVisitor
> > > >          - *TriangleCircumcenterVisitor*
> > > >          - *TriangleEdgeListVisitor*
> > > >          - *TriangleVertexListVisitor*
> > > >          - *isFrameVertex*
> > > >       4. TriangleVisitor(Interface)
> > > >
> > > > Plz let me know if i am missing some method or class which is
> required
> > > > for VoronoiDiagramBuilder port.
> > >
> > > Again, looking is part of the work.
> > > You'll find out as you start porting if anything is missing.
> > >
> > > > Is it me or its very few work for a Gsoc Project?
> > >
> > > Don't forget the testcases for the C++ implementation,
> > > the C-API exposure and relative testcases and audit for
> > > memory leakage.
> > >
> > > After you've done, if you still have time it'd be nice to
> > > work on improving the performance of it :)
> > >
> > > --strk;
> > >
> >
> >
> >
> > --
> > Vishal Tiwari
> > Undergraduate
> > Computer Science and Engineering
> > Lab for Spatial Informatics
> > IIIT-Hyderabad
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>



-- 
Vishal Tiwari
Undergraduate
Computer Science and Engineering
Lab for Spatial Informatics
IIIT-Hyderabad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20130428/f5c7d75f/attachment.html>

From hi.vishal123 at gmail.com  Mon Apr 29 06:40:30 2013
From: hi.vishal123 at gmail.com (vishal tiwari)
Date: Mon, 29 Apr 2013 19:10:30 +0530
Subject: [geos-devel] GSoC 2013 Project Proposal
Message-ID: <CAJW9wouZEePY6e=KE07_wY175ydOOF+66d78w7CL4ihc2uqf0Q@mail.gmail.com>

Hey,
I have submitted my GSoC proposal for the project: "Adding Voronoi Diagrams
to GEOS" , here:
https://google-melange.appspot.com/gsoc/proposal/review/google/gsoc2013/vishal_tiwari/13001

Feedback and suggestions are most welcome.

Thanks and kind Regards,
-- 
Vishal Tiwari
Undergraduate
Computer Science and Engineering
Lab for Spatial Informatics
IIIT-Hyderabad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20130429/939b00a0/attachment.html>

From geos-trac at osgeo.org  Tue Apr 30 12:26:05 2013
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 30 Apr 2013 19:26:05 -0000
Subject: [geos-devel] [GEOS] #629: Improve the snap algorithm choosing the
 closest_point as snapped vertex
Message-ID: <049.634851b0a15458653dd2d830d4789378@osgeo.org>

#629: Improve the snap algorithm choosing the closest_point as snapped vertex
-------------------------+--------------------------------------------------
 Reporter:  aperi2007    |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:                            
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------
 Actually the snap algorithm choose as snap point the first vertex that
 match the rules (under to snap value) calling it "first snappable point".
 This could cause invalid polygon when there is more than one vertex under
 the limit snap value.
 To avoid this kind of invalidity an improve to the algorithm could be to
 snap the closest_point instead of the first snappable point.

 Find the closest_point if a time consuming analyze because should be
 necessary to analyze all the vertex of the geometry.
 But realistic many cases are resolvable checking a more limited number of
 vertex after the the analyzing vertex as example checking 10 or 20 vertex
 after the first snappable point to see if exists a more closest point.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/629>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Apr 30 13:14:31 2013
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 30 Apr 2013 20:14:31 -0000
Subject: [geos-devel] [GEOS] #629: Improve the snap algorithm choosing
 the closest_point as snapped vertex
In-Reply-To: <049.634851b0a15458653dd2d830d4789378@osgeo.org>
References: <049.634851b0a15458653dd2d830d4789378@osgeo.org>
Message-ID: <058.c6b50f742dcffdb434dbb44a55061a40@osgeo.org>

#629: Improve the snap algorithm choosing the closest_point as snapped vertex
-------------------------+--------------------------------------------------
 Reporter:  aperi2007    |       Owner:  geos-devel@?              
     Type:  enhancement  |      Status:  new                       
 Priority:  major        |   Milestone:                            
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Unassigned   |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 see #501 for one case that would be fixed by snapping to closest point

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/629#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Apr 30 13:15:03 2013
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 30 Apr 2013 20:15:03 -0000
Subject: [geos-devel] [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.8551511eb2a4215f14f9510be49fb807@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 #629 is the ticket to implement closest snap point

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:9>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

