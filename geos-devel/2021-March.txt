From strk at kbt.io  Tue Mar  2 00:11:11 2021
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 2 Mar 2021 09:11:11 +0100
Subject: [geos-devel] cmake configuration troubles (aka: farewell autotools,
 you'll be missed)
Message-ID: <20210302081111.GB10730@cdb>

My geos master (89886fb23) build configuration fails
(worked with autotools just fine):

  $ cmake .. 2>&1 > /dev/null | tee err.log | wc -l
  74

The above means cmake is flooding stderr with 74 lines.
My terminal only has 41 lines, so most of it I don't see.
Will use a pager. First lines on stderr look like this:

	CMake Error at tests/xmltester/CMakeLists.txt:30 (target_link_libraries):
		Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
		target.  One may link only to STATIC or SHARED libraries, or to executables
		with the ENABLE_EXPORTS property set.

I learn from the above that "Error" is what I should look for,
in logs, so let's see if there's any other:

	$ grep Error err.log
	CMake Error at tests/xmltester/CMakeLists.txt:30 (target_link_libraries):

Not enough information about the error, but it looks like it being
the only error. Warnings are more:

	$ grep -A4 Warning err.log
	CMake Warning at benchmarks/algorithm/CMakeLists.txt:22 (find_package):
		By not providing "Findbenchmark.cmake" in CMAKE_MODULE_PATH this project
		has asked CMake to find a package configuration file provided by
		"benchmark", but CMake did not find one.

	--
	CMake Warning at benchmarks/algorithm/locate/CMakeLists.txt:14 (find_package):
		By not providing "Findbenchmark.cmake" in CMAKE_MODULE_PATH this project
		has asked CMake to find a package configuration file provided by
		"benchmark", but CMake did not find one.

	--
	CMake Warning at benchmarks/geom/CMakeLists.txt:12 (find_package):
		By not providing "Findbenchmark.cmake" in CMAKE_MODULE_PATH this project
		has asked CMake to find a package configuration file provided by
		"benchmark", but CMake did not find one.

	--
	CMake Warning at benchmarks/index/chain/CMakeLists.txt:12 (find_package):
		By not providing "Findbenchmark.cmake" in CMAKE_MODULE_PATH this project
		has asked CMake to find a package configuration file provided by
		"benchmark", but CMake did not find one.

My cmake version is 3.10.2, as distributed in official Ubuntu 18.04 repositories.
The INSTALL file doesn't say which version is needed.

Could the CMake people please help me with continue with the development
of GEOS ? Thanks in advance.

--strk;

  ()   Free GIS & Flash consultant/developer
  /\   https://strk.kbt.io/services.html

From geos-trac at osgeo.org  Tue Mar  2 02:13:09 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 10:13:09 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type OBJECT_LIBRARY
 may not be linked into another target.
Message-ID: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+--------------------------
 Reporter:  strk                   |      Owner:  geos-devel@?
     Type:  defect                 |     Status:  new
 Priority:  major                  |  Milestone:  3.9.2
Component:  Build/Install (cmake)  |    Version:  master
 Severity:  Critical               |   Keywords:
-----------------------------------+--------------------------
 $ git describe --tags
 3.9.0beta2-239-g89886fb23
 $ cmake --version
 cmake version 3.10.2
 $ cmake .. 2>&1 | grep -A4 Error
 CMake Error at tests/xmltester/CMakeLists.txt:30 (target_link_libraries):
   Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
   target.  One may link only to STATIC or SHARED libraries, or to
 executables
   with the ENABLE_EXPORTS property set.


 Marking it as having Severity = Critical because it worked just fine with
 autotools but autotools have been removed from master branch, so I
 basically cannot build anymore until this is fixed.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 02:13:48 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 10:13:48 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type
 OBJECT_LIBRARY may not be linked into another target.
In-Reply-To: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
References: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
Message-ID: <057.c353bcab3130492a76aa7832aac19775@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.9.2
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Critical               |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------
Changes (by strk):

 * priority:  major => blocker


Old description:

> $ git describe --tags
> 3.9.0beta2-239-g89886fb23
> $ cmake --version
> cmake version 3.10.2
> $ cmake .. 2>&1 | grep -A4 Error
> CMake Error at tests/xmltester/CMakeLists.txt:30 (target_link_libraries):
>   Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
>   target.  One may link only to STATIC or SHARED libraries, or to
> executables
>   with the ENABLE_EXPORTS property set.
>

> Marking it as having Severity = Critical because it worked just fine with
> autotools but autotools have been removed from master branch, so I
> basically cannot build anymore until this is fixed.

New description:

 {{{
 $ git describe --tags
 3.9.0beta2-239-g89886fb23
 $ cmake --version
 cmake version 3.10.2
 $ cmake .. 2>&1 | grep -A4 Error
 CMake Error at tests/xmltester/CMakeLists.txt:30 (target_link_libraries):
   Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
   target.  One may link only to STATIC or SHARED libraries, or to
 executables
   with the ENABLE_EXPORTS property set.
 }}}

 Marking it as having Severity = Critical because it worked just fine with
 autotools but autotools have been removed from master branch, so I
 basically cannot build anymore until this is fixed.

--

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 02:55:09 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 10:55:09 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type
 OBJECT_LIBRARY may not be linked into another target.
In-Reply-To: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
References: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
Message-ID: <057.db98a6ff279fc40b03d9dedde16bf3f7@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.9.2
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Critical               |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by dbaston):

 It looks like changes ( 3dd7121 ) I introduced to quiet compiler warnings
 in vendored libraries require CMake 3.13. So this can be solved either by
 updating `cmake_minimum_required` to 3.13, or reverting those changes and
 accepting that we cannot use `-Werror` because of warnings from vendored
 libraries.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 03:09:08 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 11:09:08 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type
 OBJECT_LIBRARY may not be linked into another target.
In-Reply-To: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
References: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
Message-ID: <057.16326d907de501ecbdf7ad62c7bf62c5@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Critical               |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------
Changes (by dbaston):

 * milestone:  3.9.2 => 3.10.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at kbt.io  Tue Mar  2 03:26:57 2021
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 2 Mar 2021 12:26:57 +0100
Subject: [geos-devel] cmake configuration troubles (aka: farewell
 autotools, you'll be missed)
In-Reply-To: <20210302081111.GB10730@cdb>
References: <20210302081111.GB10730@cdb>
Message-ID: <20210302112657.GA2769@cdb>

On Tue, Mar 02, 2021 at 09:11:11AM +0100, Sandro Santilli wrote:
> My geos master (89886fb23) build configuration fails
> (worked with autotools just fine):

For the record, my cmake troubles are now tracked on a ticket:
https://trac.osgeo.org/geos/ticket/1103

--strk;


From geos-trac at osgeo.org  Tue Mar  2 03:29:44 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 11:29:44 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type
 OBJECT_LIBRARY may not be linked into another target.
In-Reply-To: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
References: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
Message-ID: <057.f3aa2c9c53ec4e1115b240c4a466ead4@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Critical               |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by strk):

 Please lower the requirement, lowering entry barrier for devs

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From pramsey at cleverelephant.ca  Tue Mar  2 07:58:52 2021
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Tue, 2 Mar 2021 07:58:52 -0800
Subject: [geos-devel] cmake configuration troubles (aka: farewell
 autotools, you'll be missed)
In-Reply-To: <20210302112657.GA2769@cdb>
References: <20210302081111.GB10730@cdb> <20210302112657.GA2769@cdb>
Message-ID: <07EAFBCD-A147-425E-8134-30EDF39D2EC1@cleverelephant.ca>

There are four references that are new that are springing this, I see it as well. It shouldn't be a blocker, I just ignored them and ran build and it built just fine.

Sparrow:~/Code/geos-git pramsey(master)% git grep "find_package(benchmark)"
benchmarks/algorithm/CMakeLists.txt:find_package(benchmark)
benchmarks/algorithm/locate/CMakeLists.txt:find_package(benchmark)
benchmarks/geom/CMakeLists.txt:find_package(benchmark)
benchmarks/index/chain/CMakeLists.txt:find_package(benchmark)

Dan, you added Google Benchmark as a dep? Is there an uncommitted cmake module in your tree? Or is it a cmake benchmark module that pegs us to a more recent version than some of us have? 

P.

> On Mar 2, 2021, at 3:26 AM, Sandro Santilli <strk at kbt.io> wrote:
> 
> On Tue, Mar 02, 2021 at 09:11:11AM +0100, Sandro Santilli wrote:
>> My geos master (89886fb23) build configuration fails
>> (worked with autotools just fine):
> 
> For the record, my cmake troubles are now tracked on a ticket:
> https://trac.osgeo.org/geos/ticket/1103
> 
> --strk;
> 
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel


From pramsey at cleverelephant.ca  Tue Mar  2 11:58:33 2021
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Tue, 2 Mar 2021 11:58:33 -0800
Subject: [geos-devel] CAPI Performance Tool
Message-ID: <E2DF8B3D-C679-4C5E-A7A2-9CA558BF6482@cleverelephant.ca>

Hey all,

After much chattering over the years about the potential utility of a GEOS C API performance suite independent of the GEOS code base, I have written such a thing up. At a minimum, we can now generate that multi-year performance improvement chart we've all been wanting. But hopefully it'll also prove useful during development to make sure that changes are a net positive over a range of "real world" use cases and data. I've started with 6 tests, but hopefully will add some others that exercise other data and use cases too.

I've published in my own account, but if there's interest over the next few months I'm happy to have the canonical repo live in libgeos org.

https://github.com/pramsey/geos-performance/

P.

From sean.gillies at gmail.com  Tue Mar  2 12:22:57 2021
From: sean.gillies at gmail.com (Sean Gillies)
Date: Tue, 2 Mar 2021 13:22:57 -0700
Subject: [geos-devel] CAPI Performance Tool
In-Reply-To: <E2DF8B3D-C679-4C5E-A7A2-9CA558BF6482@cleverelephant.ca>
References: <E2DF8B3D-C679-4C5E-A7A2-9CA558BF6482@cleverelephant.ca>
Message-ID: <CAOodmJpesDxuA45QJLgNAwbDt_D8cJ44n8DgCCr3M9YrmCnEPQ@mail.gmail.com>

Hi Paul,

Thank you!

On Tue, Mar 2, 2021 at 12:58 PM Paul Ramsey <pramsey at cleverelephant.ca>
wrote:

> Hey all,
>
> After much chattering over the years about the potential utility of a GEOS
> C API performance suite independent of the GEOS code base, I have written
> such a thing up. At a minimum, we can now generate that multi-year
> performance improvement chart we've all been wanting. But hopefully it'll
> also prove useful during development to make sure that changes are a net
> positive over a range of "real world" use cases and data. I've started with
> 6 tests, but hopefully will add some others that exercise other data and
> use cases too.
>
> I've published in my own account, but if there's interest over the next
> few months I'm happy to have the canonical repo live in libgeos org.
>
> https://github.com/pramsey/geos-performance/
>
> P.
>


-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20210302/22433c18/attachment.html>

From geos-trac at osgeo.org  Tue Mar  2 13:12:21 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:12:21 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type
 OBJECT_LIBRARY may not be linked into another target.
In-Reply-To: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
References: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
Message-ID: <057.2b6c93ca225fd98d824a0c0f9192e7e2@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Critical               |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by strk):

 Reverting merge commit 3dd7121 (picking parent index 1) seems to fix the
 error (but reverts a lot of things)

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 13:25:20 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:25:20 -0000
Subject: [geos-devel] [GEOS] #1104: error: conversion from 'std::size_t'
 {aka 'long long unsigned int'} to 'long int' may change value
 [-Werror=conversion]
Message-ID: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>

#1104: error: conversion from 'std::size_t' {aka 'long long unsigned int'} to
'long int' may change value [-Werror=conversion]
------------------------+--------------------------
 Reporter:  robe        |      Owner:  geos-devel@?
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:  3.10.0
Component:  Default     |    Version:  master
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 Seeing this error on winnie's gcc 8.1 64-bit builds.  Strk says he is
 seeing the same errors.
 This is with cmake 3.15.4.  I'm going to up it and see if things improve.
 {{{

 -- GEOS: Build type: Release
 -- GEOS: Run-time output: E:/jenkins/geos/branches/build64cmake3.10/bin
 -- GEOS: Archives output: E:/jenkins/geos/branches/build64cmake3.10/lib
 -- The C compiler identification is GNU 8.1.0
 -- The CXX compiler identification is GNU 8.1.0
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe --
 works
 -- Detecting C compiler ABI info
 -- Detecting C compiler ABI info - done
 -- Detecting C compile features
 -- Detecting C compile features - done
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe --
 works
 -- Detecting CXX compiler ABI info
 -- Detecting CXX compiler ABI info - done
 -- Detecting CXX compile features
 -- Detecting CXX compile features - done
 -- GEOS: Version 3.10.0dev
 -- GEOS: C API Version 1.15.0
 -- GEOS: JTS port 1.17.0
 -- GEOS: Require C++11
 -- GEOS: Function inlining ENABLED
 -- GEOS: Developer mode ENABLED
 -- GEOS: Configured 'dist' target
 -- GEOS: Configured 'distcheck' target
 -- Configuring done
 -- Generating done

 [ 98%] [32mBuilding CXX object
 util/geosop/CMakeFiles/geosop.dir/GeosOp.cpp.obj[0m
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In function
 'bool isWKTLiteral(std::__cxx11::string)':
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:171:32: error:
 conversion from
 'std::__iterator_traits<__gnu_cxx::__normal_iterator<char*,
 std::__cxx11::basic_string<char> >, void>::difference_type' {aka 'long
 long int'} to 'long int' may change value [-Werror=conversion]
      long numLParen = std::count(s.begin(), s.end(), '(');
                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In member
 function 'void GeosOp::executeUnary(GeomFunction*)':
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:355:47: error:
 conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long int'
 may change value [-Werror=conversion]
          vertexCount += geomA[i]->getNumPoints();
                                                ^
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In member
 function 'void GeosOp::executeBinary(GeomFunction*)':
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:366:52: error:
 conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long int'
 may change value [-Werror=conversion]
              vertexCount += geomA[ia]->getNumPoints();
                                                     ^
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:367:52: error:
 conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long int'
 may change value [-Werror=conversion]
              vertexCount += geomB[ib]->getNumPoints();
                                                     ^
 At global scope:
 cc1plus.exe: error: unrecognized command line option '-Wno-unknown-
 warning-option' [-Werror]
 cc1plus.exe: all warnings being treated as errors
 make[2]: *** [util/geosop/CMakeFiles/geosop.dir/build.make:64:
 util/geosop/CMakeFiles/geosop.dir/GeosOp.cpp.obj] Error 1
 make[1]: *** [CMakeFiles/Makefile2:1962:
 util/geosop/CMakeFiles/geosop.dir/all] Error 2
 make: *** [Makefile:163: all] Error 2
 }}}



 I'm seeing a bunch of errors on 32-bit but will look at those closer

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1104>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 13:32:55 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:32:55 -0000
Subject: [geos-devel] =?utf-8?q?=5BGEOS=5D_=231105=3A_unrecognized_comman?=
 =?utf-8?q?d_line_option_=E2=80=98-Wno-unknown-warning-option=E2=80=99?=
Message-ID: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>

#1105: unrecognized command line option ?-Wno-unknown-warning-option?
-----------------------------------+--------------------------
 Reporter:  strk                   |      Owner:  geos-devel@?
     Type:  defect                 |     Status:  new
 Priority:  blocker                |  Milestone:  3.10.0
Component:  Build/Install (cmake)  |    Version:  master
 Severity:  Unassigned             |   Keywords:
-----------------------------------+--------------------------
 Compiler used: gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0
 Source commit hash: b4a786c910080d716cbf8c1230eada9077f118c2

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1105>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 13:33:46 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:33:46 -0000
Subject: [geos-devel] [GEOS] #1104: error: conversion from 'std::size_t'
 {aka 'long long unsigned int'} to 'long int' may change value
 [-Werror=conversion]
In-Reply-To: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
References: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
Message-ID: <057.d8ac5fcae39c8c25fd86d042aa23956b@osgeo.org>

#1104: error: conversion from 'std::size_t' {aka 'long long unsigned int'} to
'long int' may change value [-Werror=conversion]
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Old description:

> Seeing this error on winnie's gcc 8.1 64-bit builds.  Strk says he is
> seeing the same errors.
> This is with cmake 3.15.4.  I'm going to up it and see if things improve.
> {{{
>
> -- GEOS: Build type: Release
> -- GEOS: Run-time output: E:/jenkins/geos/branches/build64cmake3.10/bin
> -- GEOS: Archives output: E:/jenkins/geos/branches/build64cmake3.10/lib
> -- The C compiler identification is GNU 8.1.0
> -- The CXX compiler identification is GNU 8.1.0
> -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe
> -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe --
> works
> -- Detecting C compiler ABI info
> -- Detecting C compiler ABI info - done
> -- Detecting C compile features
> -- Detecting C compile features - done
> -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe
> -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe --
> works
> -- Detecting CXX compiler ABI info
> -- Detecting CXX compiler ABI info - done
> -- Detecting CXX compile features
> -- Detecting CXX compile features - done
> -- GEOS: Version 3.10.0dev
> -- GEOS: C API Version 1.15.0
> -- GEOS: JTS port 1.17.0
> -- GEOS: Require C++11
> -- GEOS: Function inlining ENABLED
> -- GEOS: Developer mode ENABLED
> -- GEOS: Configured 'dist' target
> -- GEOS: Configured 'distcheck' target
> -- Configuring done
> -- Generating done
>
> [ 98%] [32mBuilding CXX object
> util/geosop/CMakeFiles/geosop.dir/GeosOp.cpp.obj[0m
> E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In function
> 'bool isWKTLiteral(std::__cxx11::string)':
> E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:171:32: error:
> conversion from
> 'std::__iterator_traits<__gnu_cxx::__normal_iterator<char*,
> std::__cxx11::basic_string<char> >, void>::difference_type' {aka 'long
> long int'} to 'long int' may change value [-Werror=conversion]
>      long numLParen = std::count(s.begin(), s.end(), '(');
>                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
> E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In member
> function 'void GeosOp::executeUnary(GeomFunction*)':
> E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:355:47: error:
> conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long
> int' may change value [-Werror=conversion]
>          vertexCount += geomA[i]->getNumPoints();
>                                                ^
> E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In member
> function 'void GeosOp::executeBinary(GeomFunction*)':
> E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:366:52: error:
> conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long
> int' may change value [-Werror=conversion]
>              vertexCount += geomA[ia]->getNumPoints();
>                                                     ^
> E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:367:52: error:
> conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long
> int' may change value [-Werror=conversion]
>              vertexCount += geomB[ib]->getNumPoints();
>                                                     ^
> At global scope:
> cc1plus.exe: error: unrecognized command line option '-Wno-unknown-
> warning-option' [-Werror]
> cc1plus.exe: all warnings being treated as errors
> make[2]: *** [util/geosop/CMakeFiles/geosop.dir/build.make:64:
> util/geosop/CMakeFiles/geosop.dir/GeosOp.cpp.obj] Error 1
> make[1]: *** [CMakeFiles/Makefile2:1962:
> util/geosop/CMakeFiles/geosop.dir/all] Error 2
> make: *** [Makefile:163: all] Error 2
> }}}
>

>
> I'm seeing a bunch of errors on 32-bit but will look at those closer

New description:

 Seeing this error on winnie's gcc 8.1 64-bit builds.  Strk says he is
 seeing the same errors.
 This is with cmake 3.15.4.  I'm going to up it and see if things improve.
 {{{

 -- GEOS: Build type: Release
 -- GEOS: Run-time output: E:/jenkins/geos/branches/build64cmake3.10/bin
 -- GEOS: Archives output: E:/jenkins/geos/branches/build64cmake3.10/lib
 -- The C compiler identification is GNU 8.1.0
 -- The CXX compiler identification is GNU 8.1.0
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe --
 works
 -- Detecting C compiler ABI info
 -- Detecting C compiler ABI info - done
 -- Detecting C compile features
 -- Detecting C compile features - done
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe --
 works
 -- Detecting CXX compiler ABI info
 -- Detecting CXX compiler ABI info - done
 -- Detecting CXX compile features
 -- Detecting CXX compile features - done
 -- GEOS: Version 3.10.0dev
 -- GEOS: C API Version 1.15.0
 -- GEOS: JTS port 1.17.0
 -- GEOS: Require C++11
 -- GEOS: Function inlining ENABLED
 -- GEOS: Developer mode ENABLED
 -- GEOS: Configured 'dist' target
 -- GEOS: Configured 'distcheck' target
 -- Configuring done
 -- Generating done

 [ 98%] [32mBuilding CXX object
 util/geosop/CMakeFiles/geosop.dir/GeosOp.cpp.obj[0m
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In function
 'bool isWKTLiteral(std::__cxx11::string)':
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:171:32: error:
 conversion from
 'std::__iterator_traits<__gnu_cxx::__normal_iterator<char*,
 std::__cxx11::basic_string<char> >, void>::difference_type' {aka 'long
 long int'} to 'long int' may change value [-Werror=conversion]
      long numLParen = std::count(s.begin(), s.end(), '(');
                       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In member
 function 'void GeosOp::executeUnary(GeomFunction*)':
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:355:47: error:
 conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long int'
 may change value [-Werror=conversion]
          vertexCount += geomA[i]->getNumPoints();
                                                ^
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp: In member
 function 'void GeosOp::executeBinary(GeomFunction*)':
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:366:52: error:
 conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long int'
 may change value [-Werror=conversion]
              vertexCount += geomA[ia]->getNumPoints();
                                                     ^
 E:/jenkins/geos/branches/3.10cmake/util/geosop/GeosOp.cpp:367:52: error:
 conversion from 'std::size_t' {aka 'long long unsigned int'} to 'long int'
 may change value [-Werror=conversion]
              vertexCount += geomB[ib]->getNumPoints();
                                                     ^
 At global scope:
 cc1plus.exe: error: unrecognized command line option '-Wno-unknown-
 warning-option' [-Werror]
 cc1plus.exe: all warnings being treated as errors
 make[2]: *** [util/geosop/CMakeFiles/geosop.dir/build.make:64:
 util/geosop/CMakeFiles/geosop.dir/GeosOp.cpp.obj] Error 1
 make[1]: *** [CMakeFiles/Makefile2:1962:
 util/geosop/CMakeFiles/geosop.dir/all] Error 2
 make: *** [Makefile:163: all] Error 2
 }}}



 I'm seeing a bunch of errors on 32-bit but will look at those closer

--

Comment (by strk):

 I've filed #1105 for the last error about unrecognized option, which I
 also get

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1104#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 13:38:07 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:38:07 -0000
Subject: [geos-devel] [GEOS] #1104: error: conversion from 'std::size_t'
 {aka 'long long unsigned int'} to 'long int' may change value
 [-Werror=conversion]
In-Reply-To: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
References: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
Message-ID: <057.22eb239d1c1c9ec114d95554debd1796@osgeo.org>

#1104: error: conversion from 'std::size_t' {aka 'long long unsigned int'} to
'long int' may change value [-Werror=conversion]
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by robe):

 This looks to have started happening right after this commit:

 [changeset:"8b024bbdd1ce8fe951e30ddccd5932d15e1995c0/git"])

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1104#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 13:42:05 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:42:05 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type
 OBJECT_LIBRARY may not be linked into another target.
In-Reply-To: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
References: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
Message-ID: <057.f98e86ea22f24e4f0ab249d4d028397d@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Critical               |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by pramsey):

 Fixed at c6abbf9f980bd21d4a0ce2818bc0480a4707afc9

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 13:52:46 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:52:46 -0000
Subject: [geos-devel] [GEOS] #1103: Target "tinyxml2" of type
 OBJECT_LIBRARY may not be linked into another target.
In-Reply-To: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
References: <042.e75db919120d5aa17fe58c148526a5fa@osgeo.org>
Message-ID: <057.6ee61e98facc7ce110e7b81b1b360380@osgeo.org>

#1103: Target "tinyxml2" of type OBJECT_LIBRARY may not be linked into another
target.
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  closed
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Critical               |  Resolution:  fixed
 Keywords:                         |
-----------------------------------+---------------------------
Changes (by strk):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Confirmed fix on [c6abbf9f980bd21d4a0ce2818bc0480a4707afc9/git]

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1103#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 13:54:18 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 21:54:18 -0000
Subject: [geos-devel] =?utf-8?b?W0dFT1NdICMxMTA2OiBlcnJvcjog4oCYR0VPU0Rl?=
 =?utf-8?q?nsify=5Fr=E2=80=99_was_not_declared_in_this_scope?=
Message-ID: <042.f9192f2c2495b7647d4cdb5703c91b9d@osgeo.org>

#1106: error: ?GEOSDensify_r? was not declared in this scope
-----------------------------------+--------------------------
 Reporter:  strk                   |      Owner:  geos-devel@?
     Type:  defect                 |     Status:  new
 Priority:  blocker                |  Milestone:  3.10.0
Component:  Build/Install (cmake)  |    Version:  master
 Severity:  Unassigned             |   Keywords:
-----------------------------------+--------------------------
 {{{
 usr/src/geos/geos/src/master/capi/geos_c.cpp: In function
 ?geos::geom::Geometry* GEOSDensify(const geos::geom::Geometry*, double)?:
 /usr/src/geos/geos/src/master/capi/geos_c.cpp:433:16: error:
 ?GEOSDensify_r? was not declared in this scope
          return GEOSDensify_r(handle, g, tolerance);
                 ^~~~~~~~~~~~~
 /usr/src/geos/geos/src/master/capi/geos_c.cpp:433:16: note: suggested
 alternative: ?GEOSDensify?
          return GEOSDensify_r(handle, g, tolerance);
                 ^~~~~~~~~~~~~
                 GEOSDensify
 }}}

 This is with current master branch
 [c6abbf9f980bd21d4a0ce2818bc0480a4707afc9/git]

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1106>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 15:25:01 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 23:25:01 -0000
Subject: [geos-devel] 
 =?utf-8?b?W0dFT1NdICMxMTA2OiBlcnJvcjog4oCYR0VPU0Rl?=
 =?utf-8?q?nsify=5Fr=E2=80=99_was_not_declared_in_this_scope?=
In-Reply-To: <042.f9192f2c2495b7647d4cdb5703c91b9d@osgeo.org>
References: <042.f9192f2c2495b7647d4cdb5703c91b9d@osgeo.org>
Message-ID: <057.b1376480d056c934999b4eb8f874c55a@osgeo.org>

#1106: error: ?GEOSDensify_r? was not declared in this scope
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by pramsey):

 Check your ./capi directory and make sure there isn't a generated geos_c.h
 file hiding in there.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1106#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 15:27:55 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 23:27:55 -0000
Subject: [geos-devel] 
 =?utf-8?q?=5BGEOS=5D_=231105=3A_unrecognized_comman?=
 =?utf-8?q?d_line_option_=E2=80=98-Wno-unknown-warning-option=E2=80=99?=
In-Reply-To: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
References: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
Message-ID: <057.bdd291185639b99e07e40094c4248099@osgeo.org>

#1105: unrecognized command line option ?-Wno-unknown-warning-option?
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by pramsey):

 This option is new to GCC in version 8. It's been in clang for a while.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1105#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 15:29:36 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 23:29:36 -0000
Subject: [geos-devel] [GEOS] #1104: error: conversion from 'std::size_t'
 {aka 'long long unsigned int'} to 'long int' may change value
 [-Werror=conversion]
In-Reply-To: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
References: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
Message-ID: <057.1f708cb335d5acc7550e4cb7a370d7a7@osgeo.org>

#1104: error: conversion from 'std::size_t' {aka 'long long unsigned int'} to
'long int' may change value [-Werror=conversion]
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by gdt):

 It seems std::count is of type size_t, not long, so the variable the
 answer is stored in should be size_t.   I don't see that this is more
 complicated than using the right type.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1104#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 15:31:41 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 23:31:41 -0000
Subject: [geos-devel] 
 =?utf-8?q?=5BGEOS=5D_=231105=3A_unrecognized_comman?=
 =?utf-8?q?d_line_option_=E2=80=98-Wno-unknown-warning-option=E2=80=99?=
In-Reply-To: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
References: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
Message-ID: <057.cf4265705cffa79d05f0f0aaae52eb23@osgeo.org>

#1105: unrecognized command line option ?-Wno-unknown-warning-option?
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by gdt):

 I have run into this with other projects.  Basically, configure.ac ( :-) )
 has to check each compiler option to see if it's really ok before adding
 it to CFLAGS.   And, because one often wants -Werror, you have to add in
 -Werror first so that -Wfoo will fail compilation instead of giving a
 warning and being judged acceptable.   And, if you don't want -Werror, I
 think one has to capture stderr, or use -Werror on the test calls.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1105#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 15:33:48 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 23:33:48 -0000
Subject: [geos-devel] 
 =?utf-8?q?=5BGEOS=5D_=231105=3A_unrecognized_comman?=
 =?utf-8?q?d_line_option_=E2=80=98-Wno-unknown-warning-option=E2=80=99?=
In-Reply-To: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
References: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
Message-ID: <057.fd67773c463955370e3bf8fb4cf91fad@osgeo.org>

#1105: unrecognized command line option ?-Wno-unknown-warning-option?
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by Paul Ramsey <pramsey@?>):

 In [changeset:"72b58feb34343f40a27badb2bbba9e6e1050a62a/git" 72b58fe/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="72b58feb34343f40a27badb2bbba9e6e1050a62a"
 Only use no-unknown-warning-option for Clang builds right now. References
 #1105
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1105#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  2 15:34:40 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 02 Mar 2021 23:34:40 -0000
Subject: [geos-devel] 
 =?utf-8?q?=5BGEOS=5D_=231105=3A_unrecognized_comman?=
 =?utf-8?q?d_line_option_=E2=80=98-Wno-unknown-warning-option=E2=80=99?=
In-Reply-To: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
References: <042.6f7011abcb5b43af369d1ccfd8aa25af@osgeo.org>
Message-ID: <057.c790566a1af45795b971272f8b875167@osgeo.org>

#1105: unrecognized command line option ?-Wno-unknown-warning-option?
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  closed
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:  fixed
 Keywords:                         |
-----------------------------------+---------------------------
Changes (by pramsey):

 * status:  new => closed
 * resolution:   => fixed


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1105#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Mar  5 03:16:03 2021
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 05 Mar 2021 11:16:03 -0000
Subject: [geos-devel] 
 =?utf-8?b?W0dFT1NdICMxMTA2OiBlcnJvcjog4oCYR0VPU0Rl?=
 =?utf-8?q?nsify=5Fr=E2=80=99_was_not_declared_in_this_scope?=
In-Reply-To: <042.f9192f2c2495b7647d4cdb5703c91b9d@osgeo.org>
References: <042.f9192f2c2495b7647d4cdb5703c91b9d@osgeo.org>
Message-ID: <057.014e73b3f3f6d6130c4f105e21268f18@osgeo.org>

#1106: error: ?GEOSDensify_r? was not declared in this scope
-----------------------------------+---------------------------
 Reporter:  strk                   |       Owner:  geos-devel@?
     Type:  defect                 |      Status:  closed
 Priority:  blocker                |   Milestone:  3.10.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:  invalid
 Keywords:                         |
-----------------------------------+---------------------------
Changes (by strk):

 * status:  new => closed
 * resolution:   => invalid


Comment:

 Good catch. That was the culprit!

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1106#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Mar  5 15:42:15 2021
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 05 Mar 2021 23:42:15 -0000
Subject: [geos-devel] [GEOS] #1057: GEOSClipByRect might return mixed
 dimension geometries
In-Reply-To: <048.2616413a58b2e5124c85ef527d792a22@osgeo.org>
References: <048.2616413a58b2e5124c85ef527d792a22@osgeo.org>
Message-ID: <063.60501dbc9e250ec6790ab109cf9cc078@osgeo.org>

#1057: GEOSClipByRect might return mixed dimension geometries
------------------------+---------------------------
 Reporter:  Algunenano  |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.2
Component:  Default     |     Version:  3.8.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by pramsey):

 Basically `RectangleIntersection::clip_linestring_parts` only does x/y
 clipping, it doesn't do Z interpolation. I'm not sure to what extent
 rectangle clipping is meeting its contract (faster than intersection) or
 not anymore. Because it's certainly less reliable and full featured.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1057#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Mar  8 14:21:47 2021
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 08 Mar 2021 22:21:47 -0000
Subject: [geos-devel] [GEOS] #1057: GEOSClipByRect might return mixed
 dimension geometries
In-Reply-To: <048.2616413a58b2e5124c85ef527d792a22@osgeo.org>
References: <048.2616413a58b2e5124c85ef527d792a22@osgeo.org>
Message-ID: <063.3ed3099eb9ededa1aff85e92342ddace@osgeo.org>

#1057: GEOSClipByRect might return mixed dimension geometries
------------------------+---------------------------
 Reporter:  Algunenano  |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.2
Component:  Default     |     Version:  3.8.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Replying to [comment:1 pramsey]:
 > I'm not sure to what extent rectangle clipping is meeting its contract
 (faster than intersection) or not anymore.

 Rectangle clipping is still significantly faster than OverlayNG.  On a
 test dataset of 48 lines/23K vertices, `RectangleIntersection::clip` is
 2.5 ms vs 74.5 ms for OverlayNG.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1057#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at kbt.io  Mon Mar  8 14:06:39 2021
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 8 Mar 2021 23:06:39 +0100
Subject: [geos-devel] CAPI Performance Tool
In-Reply-To: <E2DF8B3D-C679-4C5E-A7A2-9CA558BF6482@cleverelephant.ca>
References: <E2DF8B3D-C679-4C5E-A7A2-9CA558BF6482@cleverelephant.ca>
Message-ID: <20210308220639.GA2036@c19>

On Tue, Mar 02, 2021 at 11:58:33AM -0800, Paul Ramsey wrote:
> Hey all,
> 
> After much chattering over the years about the potential utility of a GEOS C API performance suite independent of the GEOS code base, I have written such a thing up. At a minimum, we can now generate that multi-year performance improvement chart we've all been wanting. But hopefully it'll also prove useful during development to make sure that changes are a net positive over a range of "real world" use cases and data. I've started with 6 tests, but hopefully will add some others that exercise other data and use cases too.
> 
> I've published in my own account, but if there's interest over the next few months I'm happy to have the canonical repo live in libgeos org.
> 
> https://github.com/pramsey/geos-performance/

Lovely !
Would be great to have this on https://git.osgeo.org/gitea/geos/geos-perf/

--strk;

From geos-trac at osgeo.org  Mon Mar  8 22:22:29 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 09 Mar 2021 06:22:29 -0000
Subject: [geos-devel] [GEOS] #1104: error: conversion from 'std::size_t'
 {aka 'long long unsigned int'} to 'long int' may change value
 [-Werror=conversion]
In-Reply-To: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
References: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
Message-ID: <057.bc547d40d90881785de12e73495a27b5@osgeo.org>

#1104: error: conversion from 'std::size_t' {aka 'long long unsigned int'} to
'long int' may change value [-Werror=conversion]
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by robe):

 Only thing is why am I the only one affected by this if it's just a type
 issue or is my type being detected incorrectly.

 Compile works on my mingw64 32-bit but is failing on my mingw64 64-bit.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1104#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  9 04:17:20 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 09 Mar 2021 12:17:20 -0000
Subject: [geos-devel] [GEOS] #1104: error: conversion from 'std::size_t'
 {aka 'long long unsigned int'} to 'long int' may change value
 [-Werror=conversion]
In-Reply-To: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
References: <042.776f3ed423793c34a3bb6b2d3116f02f@osgeo.org>
Message-ID: <057.fd1f6a7dda3f92b453c7af9a76f48f37@osgeo.org>

#1104: error: conversion from 'std::size_t' {aka 'long long unsigned int'} to
'long int' may change value [-Werror=conversion]
------------------------+----------------------
 Reporter:  robe        |       Owner:  mbdavis
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+----------------------
Changes (by dbaston):

 * owner:  geos-devel@? => mbdavis


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1104#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  9 20:30:13 2021
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 10 Mar 2021 04:30:13 -0000
Subject: [geos-devel] [GEOS] #1107: 32-bit FreeBSD and 32-bit Rasberry Pi
 can't compile
Message-ID: <042.5405bc715524601753378fd5286deb2f@osgeo.org>

#1107: 32-bit FreeBSD and 32-bit Rasberry Pi can't compile
------------------------+--------------------------
 Reporter:  robe        |      Owner:  geos-devel@?
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:  3.10.0
Component:  Default     |    Version:  master
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 I fear this may have happened when we fixed the mingw64 64-bit issue at
 ##1104.
 As it was after commit [1d69445459/git] that they started showing red

 mingw64 32-bit is fine, but the 32-bit bessie and 32-bit berrie don't look
 so good.

 berrie32 looks like this:


 {{{
 14:25:15 -- Generating done
 14:25:15 -- Build files have been written to:
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:25:15 Scanning dependencies of target ryu
 14:25:15 [  0%] Building C object src/deps/CMakeFiles/ryu.dir/ryu/d2s.c.o
 14:25:16 [  0%] Linking C static library ../../lib/libryu.a
 14:25:16 [  0%] Built target ryu
 14:25:17 Scanning dependencies of target geos
 14:25:17 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Angle.cpp.o
 14:25:18 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Area.cpp.o
 14:25:20 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/BoundaryNodeRule.cpp.o
 14:25:20 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/CGAlgorithmsDD.cpp.o
 14:25:21 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Centroid.cpp.o
 14:25:23 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/ConvexHull.cpp.o
 14:25:26 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Distance.cpp.o
 14:25:28 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/HCoordinate.cpp.o
 14:25:29 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/InteriorPointArea.cpp.o
 14:25:31 In file included from /usr/include/c++/8/bits/stl_algo.h:61,
 14:25:31                  from /usr/include/c++/8/algorithm:62,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
 14:25:31 /usr/include/c++/8/bits/stl_heap.h: In function ?void
 std::__adjust_heap(_RandomAccessIterator, _Distance, _Distance, _Tp,
 _Compare) [with _RandomAccessIterator =
 __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Distance =
 int; _Tp = double; _Compare = __gnu_cxx::__ops::_Iter_less_iter]?:
 14:25:31 /usr/include/c++/8/bits/stl_heap.h:214:5: note: parameter passing
 for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31      __adjust_heap(_RandomAccessIterator __first, _Distance
 __holeIndex,
 14:25:31      ^~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/algorithm:62,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h: In function ?void
 std::__insertion_sort(_RandomAccessIterator, _RandomAccessIterator,
 _Compare) [with _RandomAccessIterator =
 __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Compare =
 __gnu_cxx::__ops::_Iter_less_iter]?:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31      __insertion_sort(_RandomAccessIterator __first,
 14:25:31      ^~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31 /usr/include/c++/8/bits/stl_algo.h: In function ?void
 std::__introsort_loop(_RandomAccessIterator, _RandomAccessIterator, _Size,
 _Compare) [with _RandomAccessIterator =
 __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Size = int;
 _Compare = __gnu_cxx::__ops::_Iter_less_iter]?:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1940:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31      __introsort_loop(_RandomAccessIterator __first,
 14:25:31      ^~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1940:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1954:25: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     std::__introsort_loop(__cut, __last, __depth_limit, __comp);
 14:25:31     ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/vector:69,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/InteriorPointArea.h:24,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:20:
 14:25:31 /usr/include/c++/8/bits/vector.tcc: In member function ?void
 std::vector<_Tp, _Alloc>::_M_realloc_insert(std::vector<_Tp,
 _Alloc>::iterator, _Args&& ...) [with _Args = {const double&}; _Tp =
 double; _Alloc = std::allocator<double>]?:
 14:25:31 /usr/include/c++/8/bits/vector.tcc:413:7: note: parameter passing
 for argument of type ?std::vector<double>::iterator? {aka
 ?__gnu_cxx::__normal_iterator<double*, std::vector<double> >?} changed in
 GCC 7.1
 14:25:31        vector<_Tp, _Alloc>::
 14:25:31        ^~~~~~~~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/vector:64,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/InteriorPointArea.h:24,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:20:
 14:25:31 /usr/include/c++/8/bits/stl_vector.h: In member function ?void
 geos::algorithm::InteriorPointArea::processPolygon(const
 geos::geom::Polygon*)?:
 14:25:31 /usr/include/c++/8/bits/stl_vector.h:1085:4: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     _M_realloc_insert(end(), __x);
 14:25:31     ^~~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_vector.h:1085:4: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     _M_realloc_insert(end(), __x);
 14:25:31     ^~~~~~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/algorithm:62,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1968:25: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     std::__introsort_loop(__first, __last,
 14:25:31     ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
 14:25:31      std::__lg(__last - __first) * 2,
 14:25:31      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31      __comp);
 14:25:31      ~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1885:25: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     std::__insertion_sort(__first, __first + int(_S_threshold),
 __comp);
 14:25:31
 ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1890:23: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31   std::__insertion_sort(__first, __last, __comp);
 14:25:31   ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/InteriorPointLine.cpp.o
 14:25:33 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/InteriorPointPoint.cpp.o
 14:25:34 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Intersection.cpp.o
 14:25:35 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Length.cpp.o
 14:25:36 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/LineIntersector.cpp.o
 14:25:38 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/MinimumBoundingCircle.cpp.o
 14:25:40 In file included from /usr/include/c++/8/vector:69,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/Orientation.h:23,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/Angle.h:23,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/MinimumBoundingCircle.cpp:21:
 14:25:40 /usr/include/c++/8/bits/vector.tcc: In member function ?void
 std::vector<_Tp, _Alloc>::_M_realloc_insert(std::vector<_Tp,
 _Alloc>::iterator, _Args&& ...) [with _Args = {const
 geos::geom::Coordinate&}; _Tp = geos::geom::Coordinate; _Alloc =
 std::allocator<geos::geom::Coordinate>]?:
 14:25:40 /usr/include/c++/8/bits/vector.tcc:413:7: note: parameter passing
 for argument of type ?std::vector<geos::geom::Coordinate>::iterator? {aka
 ?__gnu_cxx::__normal_iterator<geos::geom::Coordinate*,
 std::vector<geos::geom::Coordinate> >?} changed in GCC 7.1
 14:25:40        vector<_Tp, _Alloc>::
 14:25:40        ^~~~~~~~~~~~~~~~~~~
 14:25:40 In file included from /usr/include/c++/8/vector:64,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1
 }}}

 bessie32 looks like this:


 {{{
 14:37:06 [ 51%] Building CXX object
 CMakeFiles/geos.dir/src/planargraph/DirectedEdgeStar.cpp.o
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/src/planargraph/DirectedEdgeStar.cpp:47:47:
 error: implicit conversion changes signedness: 'unsigned int' to
 'std::__1::__wrap_iter<geos::planargraph::DirectedEdge
 **>::difference_type' (aka 'int') [-Werror,-Wsign-conversion]
 14:37:07             outEdges.erase(outEdges.begin() + i);
 14:37:07                                             ~ ^
 14:37:07 1 error generated.
 14:37:07 *** Error code 1
 14:37:07
 14:37:07 Stop.
 14:37:07 make[2]: stopped in
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07 *** Error code 1
 14:37:07
 14:37:07 Stop.
 14:37:07 make[1]: stopped in
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07 *** Error code 1
 14:37:07
 14:37:07 Stop.
 14:37:07 make: stopped in
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07 Test project
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07         Start   1: unit-algorithm-Angle
 14:37:07 Could not find executable
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
 14:37:07 Looked in the following places:
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Release/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Release/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Debug/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Debug/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/MinSizeRel/test_geos_unit
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1107>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar  9 20:37:00 2021
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 10 Mar 2021 04:37:00 -0000
Subject: [geos-devel] [GEOS] #1107: 32-bit FreeBSD and 32-bit Rasberry
 Pi can't compile
In-Reply-To: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
References: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
Message-ID: <057.4dd381f442ff6655542ca042866f838c@osgeo.org>

#1107: 32-bit FreeBSD and 32-bit Rasberry Pi can't compile
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Description changed by robe:

Old description:

> I fear this may have happened when we fixed the mingw64 64-bit issue at
> ##1104.
> As it was after commit [1d69445459/git] that they started showing red
>
> mingw64 32-bit is fine, but the 32-bit bessie and 32-bit berrie don't
> look so good.
>
> berrie32 looks like this:
>

> {{{
> 14:25:15 -- Generating done
> 14:25:15 -- Build files have been written to:
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/build
> 14:25:15 Scanning dependencies of target ryu
> 14:25:15 [  0%] Building C object src/deps/CMakeFiles/ryu.dir/ryu/d2s.c.o
> 14:25:16 [  0%] Linking C static library ../../lib/libryu.a
> 14:25:16 [  0%] Built target ryu
> 14:25:17 Scanning dependencies of target geos
> 14:25:17 [  0%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/Angle.cpp.o
> 14:25:18 [  0%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/Area.cpp.o
> 14:25:20 [  0%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/BoundaryNodeRule.cpp.o
> 14:25:20 [  0%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/CGAlgorithmsDD.cpp.o
> 14:25:21 [  0%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/Centroid.cpp.o
> 14:25:23 [  1%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/ConvexHull.cpp.o
> 14:25:26 [  1%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/Distance.cpp.o
> 14:25:28 [  1%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/HCoordinate.cpp.o
> 14:25:29 [  1%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/InteriorPointArea.cpp.o
> 14:25:31 In file included from /usr/include/c++/8/bits/stl_algo.h:61,
> 14:25:31                  from /usr/include/c++/8/algorithm:62,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
> 14:25:31 /usr/include/c++/8/bits/stl_heap.h: In function ?void
> std::__adjust_heap(_RandomAccessIterator, _Distance, _Distance, _Tp,
> _Compare) [with _RandomAccessIterator =
> __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Distance =
> int; _Tp = double; _Compare = __gnu_cxx::__ops::_Iter_less_iter]?:
> 14:25:31 /usr/include/c++/8/bits/stl_heap.h:214:5: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31      __adjust_heap(_RandomAccessIterator __first, _Distance
> __holeIndex,
> 14:25:31      ^~~~~~~~~~~~~
> 14:25:31 In file included from /usr/include/c++/8/algorithm:62,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h: In function ?void
> std::__insertion_sort(_RandomAccessIterator, _RandomAccessIterator,
> _Compare) [with _RandomAccessIterator =
> __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Compare =
> __gnu_cxx::__ops::_Iter_less_iter]?:
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31      __insertion_sort(_RandomAccessIterator __first,
> 14:25:31      ^~~~~~~~~~~~~~~~
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h: In function ?void
> std::__introsort_loop(_RandomAccessIterator, _RandomAccessIterator,
> _Size, _Compare) [with _RandomAccessIterator =
> __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Size = int;
> _Compare = __gnu_cxx::__ops::_Iter_less_iter]?:
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1940:5: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31      __introsort_loop(_RandomAccessIterator __first,
> 14:25:31      ^~~~~~~~~~~~~~~~
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1940:5: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1954:25: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31     std::__introsort_loop(__cut, __last, __depth_limit, __comp);
> 14:25:31     ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 14:25:31 In file included from /usr/include/c++/8/vector:69,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/InteriorPointArea.h:24,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:20:
> 14:25:31 /usr/include/c++/8/bits/vector.tcc: In member function ?void
> std::vector<_Tp, _Alloc>::_M_realloc_insert(std::vector<_Tp,
> _Alloc>::iterator, _Args&& ...) [with _Args = {const double&}; _Tp =
> double; _Alloc = std::allocator<double>]?:
> 14:25:31 /usr/include/c++/8/bits/vector.tcc:413:7: note: parameter
> passing for argument of type ?std::vector<double>::iterator? {aka
> ?__gnu_cxx::__normal_iterator<double*, std::vector<double> >?} changed in
> GCC 7.1
> 14:25:31        vector<_Tp, _Alloc>::
> 14:25:31        ^~~~~~~~~~~~~~~~~~~
> 14:25:31 In file included from /usr/include/c++/8/vector:64,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/InteriorPointArea.h:24,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:20:
> 14:25:31 /usr/include/c++/8/bits/stl_vector.h: In member function ?void
> geos::algorithm::InteriorPointArea::processPolygon(const
> geos::geom::Polygon*)?:
> 14:25:31 /usr/include/c++/8/bits/stl_vector.h:1085:4: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31     _M_realloc_insert(end(), __x);
> 14:25:31     ^~~~~~~~~~~~~~~~~
> 14:25:31 /usr/include/c++/8/bits/stl_vector.h:1085:4: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31     _M_realloc_insert(end(), __x);
> 14:25:31     ^~~~~~~~~~~~~~~~~
> 14:25:31 In file included from /usr/include/c++/8/algorithm:62,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
> 14:25:31                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1968:25: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31     std::__introsort_loop(__first, __last,
> 14:25:31     ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
> 14:25:31      std::__lg(__last - __first) * 2,
> 14:25:31      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 14:25:31      __comp);
> 14:25:31      ~~~~~~~
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1885:25: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31     std::__insertion_sort(__first, __first + int(_S_threshold),
> __comp);
> 14:25:31
> ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1890:23: note: parameter
> passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
> std::vector<double> >? changed in GCC 7.1
> 14:25:31   std::__insertion_sort(__first, __last, __comp);
> 14:25:31   ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
> 14:25:31 [  1%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/InteriorPointLine.cpp.o
> 14:25:33 [  1%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/InteriorPointPoint.cpp.o
> 14:25:34 [  2%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/Intersection.cpp.o
> 14:25:35 [  2%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/Length.cpp.o
> 14:25:36 [  2%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/LineIntersector.cpp.o
> 14:25:38 [  2%] Building CXX object
> CMakeFiles/geos.dir/src/algorithm/MinimumBoundingCircle.cpp.o
> 14:25:40 In file included from /usr/include/c++/8/vector:69,
> 14:25:40                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
> 14:25:40                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/Orientation.h:23,
> 14:25:40                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/Angle.h:23,
> 14:25:40                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/MinimumBoundingCircle.cpp:21:
> 14:25:40 /usr/include/c++/8/bits/vector.tcc: In member function ?void
> std::vector<_Tp, _Alloc>::_M_realloc_insert(std::vector<_Tp,
> _Alloc>::iterator, _Args&& ...) [with _Args = {const
> geos::geom::Coordinate&}; _Tp = geos::geom::Coordinate; _Alloc =
> std::allocator<geos::geom::Coordinate>]?:
> 14:25:40 /usr/include/c++/8/bits/vector.tcc:413:7: note: parameter
> passing for argument of type
> ?std::vector<geos::geom::Coordinate>::iterator? {aka
> ?__gnu_cxx::__normal_iterator<geos::geom::Coordinate*,
> std::vector<geos::geom::Coordinate> >?} changed in GCC 7.1
> 14:25:40        vector<_Tp, _Alloc>::
> 14:25:40        ^~~~~~~~~~~~~~~~~~~
> 14:25:40 In file included from /usr/include/c++/8/vector:64,
> 14:25:40                  from
> /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1
> }}}
>
> bessie32 looks like this:
>

> {{{
> 14:37:06 [ 51%] Building CXX object
> CMakeFiles/geos.dir/src/planargraph/DirectedEdgeStar.cpp.o
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/src/planargraph/DirectedEdgeStar.cpp:47:47:
> error: implicit conversion changes signedness: 'unsigned int' to
> 'std::__1::__wrap_iter<geos::planargraph::DirectedEdge
> **>::difference_type' (aka 'int') [-Werror,-Wsign-conversion]
> 14:37:07             outEdges.erase(outEdges.begin() + i);
> 14:37:07                                             ~ ^
> 14:37:07 1 error generated.
> 14:37:07 *** Error code 1
> 14:37:07
> 14:37:07 Stop.
> 14:37:07 make[2]: stopped in
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
> 14:37:07 *** Error code 1
> 14:37:07
> 14:37:07 Stop.
> 14:37:07 make[1]: stopped in
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
> 14:37:07 *** Error code 1
> 14:37:07
> 14:37:07 Stop.
> 14:37:07 make: stopped in
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
> 14:37:07 Test project
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
> 14:37:07         Start   1: unit-algorithm-Angle
> 14:37:07 Could not find executable
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
> 14:37:07 Looked in the following places:
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Release/test_geos_unit
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Release/test_geos_unit
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Debug/test_geos_unit
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Debug/test_geos_unit
> 14:37:07
> /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/MinSizeRel/test_geos_unit
> }}}

New description:

 I fear this may have happened when we fixed the mingw64 64-bit issue at
 ##1104.
 As it was after commit [1d69445459/git] that they started showing red

 mingw64 32-bit is fine, but the 32-bit bessie and 32-bit berrie don't look
 so good.

 berrie looks like this:
 https://debbie.postgis.net/job/GEOS_Worker_Run/label=berrie/1048/console
 {{{
 14:25:15 -- Generating done
 14:25:15 -- Build files have been written to:
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:25:15 Scanning dependencies of target ryu
 14:25:15 [  0%] Building C object src/deps/CMakeFiles/ryu.dir/ryu/d2s.c.o
 14:25:16 [  0%] Linking C static library ../../lib/libryu.a
 14:25:16 [  0%] Built target ryu
 14:25:17 Scanning dependencies of target geos
 14:25:17 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Angle.cpp.o
 14:25:18 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Area.cpp.o
 14:25:20 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/BoundaryNodeRule.cpp.o
 14:25:20 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/CGAlgorithmsDD.cpp.o
 14:25:21 [  0%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Centroid.cpp.o
 14:25:23 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/ConvexHull.cpp.o
 14:25:26 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Distance.cpp.o
 14:25:28 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/HCoordinate.cpp.o
 14:25:29 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/InteriorPointArea.cpp.o
 14:25:31 In file included from /usr/include/c++/8/bits/stl_algo.h:61,
 14:25:31                  from /usr/include/c++/8/algorithm:62,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
 14:25:31 /usr/include/c++/8/bits/stl_heap.h: In function ?void
 std::__adjust_heap(_RandomAccessIterator, _Distance, _Distance, _Tp,
 _Compare) [with _RandomAccessIterator =
 __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Distance =
 int; _Tp = double; _Compare = __gnu_cxx::__ops::_Iter_less_iter]?:
 14:25:31 /usr/include/c++/8/bits/stl_heap.h:214:5: note: parameter passing
 for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31      __adjust_heap(_RandomAccessIterator __first, _Distance
 __holeIndex,
 14:25:31      ^~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/algorithm:62,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h: In function ?void
 std::__insertion_sort(_RandomAccessIterator, _RandomAccessIterator,
 _Compare) [with _RandomAccessIterator =
 __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Compare =
 __gnu_cxx::__ops::_Iter_less_iter]?:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31      __insertion_sort(_RandomAccessIterator __first,
 14:25:31      ^~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1840:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31 /usr/include/c++/8/bits/stl_algo.h: In function ?void
 std::__introsort_loop(_RandomAccessIterator, _RandomAccessIterator, _Size,
 _Compare) [with _RandomAccessIterator =
 __gnu_cxx::__normal_iterator<double*, std::vector<double> >; _Size = int;
 _Compare = __gnu_cxx::__ops::_Iter_less_iter]?:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1940:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31      __introsort_loop(_RandomAccessIterator __first,
 14:25:31      ^~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1940:5: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1954:25: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     std::__introsort_loop(__cut, __last, __depth_limit, __comp);
 14:25:31     ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/vector:69,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/InteriorPointArea.h:24,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:20:
 14:25:31 /usr/include/c++/8/bits/vector.tcc: In member function ?void
 std::vector<_Tp, _Alloc>::_M_realloc_insert(std::vector<_Tp,
 _Alloc>::iterator, _Args&& ...) [with _Args = {const double&}; _Tp =
 double; _Alloc = std::allocator<double>]?:
 14:25:31 /usr/include/c++/8/bits/vector.tcc:413:7: note: parameter passing
 for argument of type ?std::vector<double>::iterator? {aka
 ?__gnu_cxx::__normal_iterator<double*, std::vector<double> >?} changed in
 GCC 7.1
 14:25:31        vector<_Tp, _Alloc>::
 14:25:31        ^~~~~~~~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/vector:64,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/InteriorPointArea.h:24,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:20:
 14:25:31 /usr/include/c++/8/bits/stl_vector.h: In member function ?void
 geos::algorithm::InteriorPointArea::processPolygon(const
 geos::geom::Polygon*)?:
 14:25:31 /usr/include/c++/8/bits/stl_vector.h:1085:4: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     _M_realloc_insert(end(), __x);
 14:25:31     ^~~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_vector.h:1085:4: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     _M_realloc_insert(end(), __x);
 14:25:31     ^~~~~~~~~~~~~~~~~
 14:25:31 In file included from /usr/include/c++/8/algorithm:62,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.inl:22,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Envelope.h:529,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Geometry.h:36,
 14:25:31                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/InteriorPointArea.cpp:22:
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1968:25: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     std::__introsort_loop(__first, __last,
 14:25:31     ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
 14:25:31      std::__lg(__last - __first) * 2,
 14:25:31      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31      __comp);
 14:25:31      ~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1885:25: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31     std::__insertion_sort(__first, __first + int(_S_threshold),
 __comp);
 14:25:31
 ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31 /usr/include/c++/8/bits/stl_algo.h:1890:23: note: parameter
 passing for argument of type ?__gnu_cxx::__normal_iterator<double*,
 std::vector<double> >? changed in GCC 7.1
 14:25:31   std::__insertion_sort(__first, __last, __comp);
 14:25:31   ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
 14:25:31 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/InteriorPointLine.cpp.o
 14:25:33 [  1%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/InteriorPointPoint.cpp.o
 14:25:34 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Intersection.cpp.o
 14:25:35 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/Length.cpp.o
 14:25:36 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/LineIntersector.cpp.o
 14:25:38 [  2%] Building CXX object
 CMakeFiles/geos.dir/src/algorithm/MinimumBoundingCircle.cpp.o
 14:25:40 In file included from /usr/include/c++/8/vector:69,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/geom/Coordinate.h:23,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/Orientation.h:23,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/include/geos/algorithm/Angle.h:23,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1d69445459c3642a3c235a853548df3023f8ee7a/src/algorithm/MinimumBoundingCircle.cpp:21:
 14:25:40 /usr/include/c++/8/bits/vector.tcc: In member function ?void
 std::vector<_Tp, _Alloc>::_M_realloc_insert(std::vector<_Tp,
 _Alloc>::iterator, _Args&& ...) [with _Args = {const
 geos::geom::Coordinate&}; _Tp = geos::geom::Coordinate; _Alloc =
 std::allocator<geos::geom::Coordinate>]?:
 14:25:40 /usr/include/c++/8/bits/vector.tcc:413:7: note: parameter passing
 for argument of type ?std::vector<geos::geom::Coordinate>::iterator? {aka
 ?__gnu_cxx::__normal_iterator<geos::geom::Coordinate*,
 std::vector<geos::geom::Coordinate> >?} changed in GCC 7.1
 14:25:40        vector<_Tp, _Alloc>::
 14:25:40        ^~~~~~~~~~~~~~~~~~~
 14:25:40 In file included from /usr/include/c++/8/vector:64,
 14:25:40                  from
 /home/jenkins/workspace/GEOS_Worker_Run/label/berrie/1
 }}}

 bessie32 looks like this:

 https://debbie.postgis.net/job/GEOS_Worker_Run/label=bessie32/1048/console

 {{{
 14:37:06 [ 51%] Building CXX object
 CMakeFiles/geos.dir/src/planargraph/DirectedEdgeStar.cpp.o
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/src/planargraph/DirectedEdgeStar.cpp:47:47:
 error: implicit conversion changes signedness: 'unsigned int' to
 'std::__1::__wrap_iter<geos::planargraph::DirectedEdge
 **>::difference_type' (aka 'int') [-Werror,-Wsign-conversion]
 14:37:07             outEdges.erase(outEdges.begin() + i);
 14:37:07                                             ~ ^
 14:37:07 1 error generated.
 14:37:07 *** Error code 1
 14:37:07
 14:37:07 Stop.
 14:37:07 make[2]: stopped in
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07 *** Error code 1
 14:37:07
 14:37:07 Stop.
 14:37:07 make[1]: stopped in
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07 *** Error code 1
 14:37:07
 14:37:07 Stop.
 14:37:07 make: stopped in
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07 Test project
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build
 14:37:07         Start   1: unit-algorithm-Angle
 14:37:07 Could not find executable
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
 14:37:07 Looked in the following places:
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Release/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Release/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Debug/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/Debug/test_geos_unit
 14:37:07
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie32/1d69445459c3642a3c235a853548df3023f8ee7a/build/bin/MinSizeRel/test_geos_unit
 }}}

--

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1107#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at kbt.io  Wed Mar 10 00:16:38 2021
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 10 Mar 2021 09:16:38 +0100
Subject: [geos-devel] Welcome to the "main" branch
Message-ID: <20210310081638.GA10064@c19>

I went ahead and did it: a new "main" symbolic reference have been
added to the official GEOS git repository to point at the _real_
reference "master".

This means on the server side "main" is an "alias" (symbolic
reference) to "master" so that you can decide how to call it.

Advantage of this is there's no urge to changen anything anywhere
BUT if you want, you can call the main development branch "main",
to avoid arguable namings.

On your clone, using the name name is as simple as checking out
the new name. Pushing to one or the other branch results in the
code going to both (gory details: it really goes to "master", still,
but will also appear in the "main" branch).

See how you like it. Eventually turning "main" as the real thing
and "master" as an alias could be the next step, if we want.

NOTE: I didn't check the effects of this on mirroring, but I guess
      the mirrors will get 2 "real" branches, git being unable to
      transfer "symbolic references" on the wire.

--strk; 

  ()   Free GIS & Flash consultant/developer
  /\   https://strk.kbt.io/services.html

From geos-trac at osgeo.org  Wed Mar 10 16:32:13 2021
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 11 Mar 2021 00:32:13 -0000
Subject: [geos-devel] [GEOS] #1107: 32-bit FreeBSD and 32-bit Rasberry
 Pi can't compile
In-Reply-To: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
References: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
Message-ID: <057.dd1c0e99f42ca4246500e7062dbcd9ab@osgeo.org>

#1107: 32-bit FreeBSD and 32-bit Rasberry Pi can't compile
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@?>):

 In [changeset:"6688b3be77ab0c0495d745f893aff82eb69191a3/git" 6688b3b/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="6688b3be77ab0c0495d745f893aff82eb69191a3"
 Quiet signed conversion warning

 References #1107
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1107#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Mar 10 16:48:02 2021
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 11 Mar 2021 00:48:02 -0000
Subject: [geos-devel] [GEOS] #1107: 32-bit FreeBSD and 32-bit Rasberry
 Pi can't compile
In-Reply-To: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
References: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
Message-ID: <057.e78dcc6027c3780ccee4acfb6a556a0c@osgeo.org>

#1107: 32-bit FreeBSD and 32-bit Rasberry Pi can't compile
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@?>):

 In [changeset:"c537233ed6956bc542d646a09d690e9032016a8d/git" c537233/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="c537233ed6956bc542d646a09d690e9032016a8d"
 Quiet gcc ABI change warning

 References #1107
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1107#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Mar 10 17:06:34 2021
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 11 Mar 2021 01:06:34 -0000
Subject: [geos-devel] [GEOS] #1107: 32-bit FreeBSD and 32-bit Rasberry
 Pi can't compile
In-Reply-To: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
References: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
Message-ID: <057.9142d196f615654dd34c8fde205ffb12@osgeo.org>

#1107: 32-bit FreeBSD and 32-bit Rasberry Pi can't compile
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@?>):

 In [changeset:"e3f8043920b1cce6db0809508803f727e6c21197/git" e3f8043/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="e3f8043920b1cce6db0809508803f727e6c21197"
 Quiet signed conversion warnings

 References #1107
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1107#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Mar 10 18:13:52 2021
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 11 Mar 2021 02:13:52 -0000
Subject: [geos-devel] [GEOS] #1107: 32-bit FreeBSD and 32-bit Rasberry
 Pi can't compile
In-Reply-To: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
References: <042.5405bc715524601753378fd5286deb2f@osgeo.org>
Message-ID: <057.0eaf43bbd45a6ffda47cbf29ac74e8d8@osgeo.org>

#1107: 32-bit FreeBSD and 32-bit Rasberry Pi can't compile
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.10.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Fixed in referencing commits, though 32-bit pi is still blocked by #993

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1107#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Mar 12 20:00:29 2021
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 13 Mar 2021 04:00:29 -0000
Subject: [geos-devel] [GEOS] #1094: CMake issue with berrie (32-bit
 raspberry pi)
In-Reply-To: <042.330e7a43aced8e318eccfb4131087967@osgeo.org>
References: <042.330e7a43aced8e318eccfb4131087967@osgeo.org>
Message-ID: <057.8d87567835fd8ac1190736f80e04d702@osgeo.org>

#1094: CMake issue with berrie (32-bit raspberry pi)
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.9.2
Component:  Default     |     Version:  3.9.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@?>):

 In [changeset:"6318f224552c27a4b87ecf8817173cb7e6a2f4f1/git" 6318f22/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="6318f224552c27a4b87ecf8817173cb7e6a2f4f1"
 Drop inlines.cpp for geos 3.10 to address duplicate symbols errors on many
 platforms
 References #1094
 References #1090
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1094#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Mar 12 20:39:27 2021
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 13 Mar 2021 04:39:27 -0000
Subject: [geos-devel] [GEOS] #1094: CMake issue with berrie (32-bit
 raspberry pi)
In-Reply-To: <042.330e7a43aced8e318eccfb4131087967@osgeo.org>
References: <042.330e7a43aced8e318eccfb4131087967@osgeo.org>
Message-ID: <057.2d967f5c4243cbf5ab45340f2550689d@osgeo.org>

#1094: CMake issue with berrie (32-bit raspberry pi)
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  closed
 Priority:  minor       |   Milestone:  3.9.2
Component:  Default     |     Version:  3.9.0
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 dropping the inlines.cpp seems to have fixed berrie's issues

 https://debbie.postgis.net/job/GEOS_Worker_Run/label=berrie/1061/console

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1094#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Mar 12 20:41:11 2021
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 13 Mar 2021 04:41:11 -0000
Subject: [geos-devel] [GEOS] #1094: CMake issue with berrie (32-bit
 raspberry pi)
In-Reply-To: <042.330e7a43aced8e318eccfb4131087967@osgeo.org>
References: <042.330e7a43aced8e318eccfb4131087967@osgeo.org>
Message-ID: <057.367bf290f42c87e306fcaf9ed9f0ba80@osgeo.org>

#1094: CMake issue with berrie (32-bit raspberry pi)
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@?
     Type:  defect      |      Status:  closed
 Priority:  minor       |   Milestone:  3.10.0
Component:  Default     |     Version:  3.9.0
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.9.2 => 3.10.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1094#comment:9>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at kbt.io  Sat Mar 13 00:11:16 2021
From: strk at kbt.io (Sandro Santilli)
Date: Sat, 13 Mar 2021 09:11:16 +0100
Subject: [geos-devel] Welcome to the "main" branch
In-Reply-To: <20210310081638.GA10064@c19>
References: <20210310081638.GA10064@c19>
Message-ID: <20210313081116.GA103155@c19>

On Wed, Mar 10, 2021 at 09:16:38AM +0100, Sandro Santilli wrote:
> I went ahead and did it: a new "main" symbolic reference have been
> added to the official GEOS git repository to point at the _real_
> reference "master".

[...]

> See how you like it. Eventually turning "main" as the real thing
> and "master" as an alias could be the next step, if we want.

Next step taken: "main" is now the real thing and "master"
is an alias to it.

One step further: the "main" branch is now the default branch,
in the official repository.

> NOTE: I didn't check the effects of this on mirroring, but I guess
>       the mirrors will get 2 "real" branches, git being unable to
>       transfer "symbolic references" on the wire.

As anticipated, the mirrors did get 2 "real" branches,
and I think it's ok that way, until we all migrate to
the new naming and can drop "master".

--strk;

From geos-trac at osgeo.org  Mon Mar 15 16:45:21 2021
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Mar 2021 23:45:21 -0000
Subject: [geos-devel] [GEOS] #1108: Doxygen GEOS API returns 404
Message-ID: <046.5f91183bee8b42a30fd74b22390c35a3@osgeo.org>

#1108: Doxygen GEOS API returns 404
---------------------------+--------------------------
 Reporter:  akadouri       |      Owner:  geos-devel@?
     Type:  defect         |     Status:  new
 Priority:  major          |  Milestone:  3.9.2
Component:  Documentation  |    Version:  3.9.0
 Severity:  Unassigned     |   Keywords:  doxygen
---------------------------+--------------------------
 Hello,

 The GEOS API documents linked on the home page, found at
 https://geos.osgeo.org/doxygen/ no longer resolve and return a 404 page.

 There is also a similar ticket in the github mirror dating this to at
 least three weeks ago - https://github.com/libgeos/geos/issues/413

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1108>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Mar 18 03:33:36 2021
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Mar 2021 10:33:36 -0000
Subject: [geos-devel] [GEOS] #1110: Intersects crashes when there are EMPTY
 items inside MULTI- or GEOMETRYCOLLECTION objects
Message-ID: <042.26c20e421c22727f95faac85d74cf240@osgeo.org>

#1110: Intersects crashes when there are EMPTY items inside MULTI- or
GEOMETRYCOLLECTION objects
------------------------+--------------------------
 Reporter:  otan        |      Owner:  geos-devel@?
     Type:  defect      |     Status:  new
 Priority:  minor       |  Milestone:  3.9.2
Component:  Default     |    Version:  3.9.0
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 See the reproduction below. AFAICT this happens on at least GEOS 3.9.1, in
 which this will catch PostGIS/Postgres.

 {{{
 $ g++ -o tst tst.cc -lgeos -lgeos_c -std=c++11
 $./tst
 [3]    86414 segmentation fault  ./tst
 $ cat tst.cc
 #include <geos_c.h>
 #include <string>

 using namespace std;

 void geos_message_handler(const char *fmt, ...) {}
 void geos_error_handler(const char *fmt, ...) {}

 int main() {
   // POLYGON Z ((-8576813007.651572 -932867148.5664893 -594332188.2168996,
 -9076378702.816006 -1058770692.353365 -2286612467.79976,
 -8577214214.487094 -923078893.7098079 -922845555.2543786,
 -8763948942.517227 3632693707.16387 -1890400776.3303413,
 -7612818442.454826 3813396489.705141 -376275881.4206352,
 -4258868082.9764023 2821219037.959036 -7927470779.677084,
 -2376927148.576969 762393778.6277254 -5185416958.8125515,
 8374297972.826973 3684983643.201231 -3159751777.281743,
 -2311638561.4350195 690968693.0169502 -2246826599.5283184,
 3511882417.12018 -5679907177.601899 -7190612231.893617, -8305726872.755655
 -7546563480.596777 3891638858.362171, -8576813007.651572
 -932867148.5664893 -594332188.2168996))
   string aEWKB =
 "0103000080010000000C000000D76CFA7C7CF3FFC1B982482636CDCBC15EC31B0E65B6C1C12E877662F4E700C2103B2D82C78DCFC1A29779FE5D09E1C123CB6770DEF3FFC1FCDADA768882CBC17A8FA0B9C080CBC1482374FCF95200C26C3E6539D010EB41502415824E2BDCC1F846A740265CFCC1849036017A69EC41C0AE6BA9836DB6C1B03E5F6E25BBEFC16CB0BE5B0C05E54156D5BAAB3988FDC1887692F5A0B5E1C14E5950599AB8C6413600EDEF3251F3C1483B4D575A32FF417C70666B8C74EB410A04298CBF8AE7C1AEEB2DC41939E1C16D2B823AAC97C441FCE7F04C7BBDE0C184D82356622AEA4161A19916C828F5C1414C7E9080C9FAC12A178C59F5F0FEC1668C89B9F61CFCC1E8964B49B6FEEC41D76CFA7C7CF3FFC1B982482636CDCBC15EC31B0E65B6C1C1";
   // GEOMETRYCOLLECTION ZM (MULTIPOINT ZM (-572200857.2088509
 7909820002.898613 -5497698646.885041 6664440051.466028,
 -429525248.49892807 9279013845.258144 1865812608.4202595
 -5627983850.52976, -8961875736.194313 -3646093887.306757 6114061050.084791
 7928242422.52462, -1658395500.6136656 5463281975.551853 1226372454.8883152
 -6033337335.334749, EMPTY), LINESTRING ZM (5640013450.60927
 -4034194887.4798727 7233778169.767132 -8214889161.72134, 9862309549.538734
 5014594919.08839 -925144949.3365879 -5659691769.45695), MULTIPOLYGON ZM
 EMPTY, MULTIPOINT ZM (EMPTY, 4481472784.121752 -8278911850.336457
 6955040725.022459 4792703658.978086, EMPTY))
   string bEWKB = "
 01070000C00400000001040000C00500000001010000C0A0BB9ACC8B0DC1C1B8602E666477FD4121296E95037BF4C1DA74378FB4D3F84101010000C0C0B97F00099AB9C1AE10AA1E9448014288E51AA082CDDB41E679A87E43F7F4C101010000C0F48DC1F85AB100C2F4D0E9475F2AEBC14E5BA1AFD2C6F641D864680FF688FD4101010000C04C4627DB46B6D8C164D47813315AF44128DAB8593D46D241225B75BFD679F6C101010000C0000000000000F87F000000000000F87F000000000000F87F000000000000F87F01020000C00200000092BFA968BC02F5411E5BEFB89D0EEEC12C469C1FABF2FA419C8A9B2C549AFEC1544F6C35B75E02420C6A71564AAEF2415015ABBA4B92CBC1AB4F97AF8015F5C101060000C00000000001040000C00300000001010000C0000000000000F87F000000000000F87F000000000000F87F000000000000F87F01010000C0B2F20191DDB1F0412162A5B662D7FEC1FE5B50FDD7E8F9413EA6AFAAADDAF14101010000C0000000000000F87F000000000000F87F000000000000F87F000000000000F87F";

   initGEOS(&geos_message_handler, &geos_error_handler);

   auto wkbReader = GEOSWKBReader_create();
   auto geomA = GEOSWKBReader_read(wkbReader, reinterpret_cast<const
 unsigned char*>(aEWKB.data()), aEWKB.length());
   auto geomB = GEOSWKBReader_read(wkbReader, reinterpret_cast<const
 unsigned char*>(bEWKB.data()), bEWKB.length());
   GEOSIntersects(geomA, geomB);
   return 0;
 }
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1110>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Mar 30 15:38:00 2021
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 30 Mar 2021 22:38:00 -0000
Subject: [geos-devel] [GEOS] #1089: Support for geometry with M value
In-Reply-To: <047.b72f7dcf6be0329a1d5b3b29b2af7d93@osgeo.org>
References: <047.b72f7dcf6be0329a1d5b3b29b2af7d93@osgeo.org>
Message-ID: <062.73f65c87680d1bb138ed48791a9e4b31@osgeo.org>

#1089: Support for geometry with M value
-------------------------+---------------------------
 Reporter:  jfbourdon    |       Owner:  geos-devel@?
     Type:  enhancement  |      Status:  new
 Priority:  minor        |   Milestone:  3.10.0
Component:  Default      |     Version:  master
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by pramsey):

 * version:  3.8.0 => master
 * milestone:  3.8.2 => 3.10.0


Comment:

 Well, it's not valid for 3.8, but I'll bump it into 3.10. It's a source of
 ongoing discussion, on how to implement without adding a 33% extra storage
 penalty on all geometry (of course we already took the 50% penalty when
 adding Z, but maybe we can reverse that).

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/1089#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

