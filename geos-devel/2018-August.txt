From lr at pcorp.us  Wed Aug  1 01:09:17 2018
From: lr at pcorp.us (Regina Obe)
Date: Wed, 1 Aug 2018 04:09:17 -0400
Subject: [geos-devel] Plan to release 3.6.3, 3.5.2,
	and 3.7.0beta2 in less than a week
Message-ID: <001301d4296e$f237edc0$d6a7c940$@pcorp.us>

I'm planning to release GEOS 3.6.3, 3.5.2, and 3.7.0beta2 in less than a
week.

Let me know if anyone has issue with this.

Thanks,
Regina


From geos-trac at osgeo.org  Wed Aug  1 07:32:22 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 01 Aug 2018 14:32:22 -0000
Subject: [geos-devel] [GEOS] #902: cmake does not build doxygen command
Message-ID: <047.9f4b9dbb43df5eb09563fbe84b7f428b@osgeo.org>

#902: cmake does not build doxygen command
-----------------------------------+--------------------------
 Reporter:  cvvergara              |      Owner:  geos-devel@…
     Type:  defect                 |     Status:  assigned
 Priority:  minor                  |  Milestone:  3.8.0
Component:  Build/Install (cmake)  |    Version:  3.6.2
 Severity:  Annoyance              |   Keywords:  cnake
-----------------------------------+--------------------------
 the instructions on doc directory

 {{{
 make doxygen-html
 }}}

 does not work on:
 - `doc` directory
 - `build` directory

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/902>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Aug  1 07:32:37 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 01 Aug 2018 14:32:37 -0000
Subject: [geos-devel] [GEOS] #902: cmake does not build doxygen command
In-Reply-To: <047.9f4b9dbb43df5eb09563fbe84b7f428b@osgeo.org>
References: <047.9f4b9dbb43df5eb09563fbe84b7f428b@osgeo.org>
Message-ID: <062.8145117697e701d90aec50de09c6a488@osgeo.org>

#902: cmake does not build doxygen command
-----------------------------------+------------------------
 Reporter:  cvvergara              |       Owner:  cvvergara
     Type:  defect                 |      Status:  new
 Priority:  minor                  |   Milestone:  3.8.0
Component:  Build/Install (cmake)  |     Version:  3.6.2
 Severity:  Annoyance              |  Resolution:
 Keywords:  cnake                  |
-----------------------------------+------------------------
Changes (by cvvergara):

 * status:  assigned => new
 * owner:  geos-devel@… => cvvergara


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/902#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Aug  1 16:10:23 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 01 Aug 2018 23:10:23 -0000
Subject: [geos-devel] [GEOS] #898: GEOS AUTHORS file is ancient
In-Reply-To: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
References: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
Message-ID: <057.80ea98948f7020af620fe46c2ce46398@osgeo.org>

#898: GEOS AUTHORS file is ancient
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"d20fba3f61b433231a24e4384bbdbb82adb86740/git" d20fba3/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="d20fba3f61b433231a24e4384bbdbb82adb86740"
 Update list of Authors and PSC. Reorder things bringing newer state to
 top.
 References #898 for GEOS 3.7
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/898#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Aug  1 16:13:27 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 01 Aug 2018 23:13:27 -0000
Subject: [geos-devel] [GEOS] #898: GEOS AUTHORS file is ancient
In-Reply-To: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
References: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
Message-ID: <057.4c1daa4506bffaa5a763663bcdabffc9@osgeo.org>

#898: GEOS AUTHORS file is ancient
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"20f3483632bd1f2d5422371d07497ed870b3218d/git" 20f3483/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="20f3483632bd1f2d5422371d07497ed870b3218d"
 Update Martin's email address
 References #898 for GEOS 3.7
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/898#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From jmckenna at gatewaygeomatics.com  Fri Aug  3 05:30:13 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Fri, 3 Aug 2018 09:30:13 -0300
Subject: [geos-devel] Fwd: OSGeo Annual General Meeting - projects please
	join
In-Reply-To: <2129db18-f297-c025-b2a6-41d64c2a0f89@gatewaygeomatics.com>
References: <2129db18-f297-c025-b2a6-41d64c2a0f89@gatewaygeomatics.com>
Message-ID: <8c8f4e5b-c6a2-22d4-188f-713b379fa973@gatewaygeomatics.com>

It would be great to have GEOS make a brief report (2 slides) in Dar for 
the AGM (please signup on the wiki page below).




-------- Forwarded Message --------

Dear OSGeo projects & project officers,

the OSGeo Annual General Meeting (AGM) is scheduled for Thursday morning 
August 30 at 8:00-9:00 in Dar Es Salaam (Tansania).

As Project/Committee officer we ask that you attend, or send a delegate 
from your community. The FOSS4G organizers have given us one hour for 
the meeting, leaving us each with around 2 mins!

This update is about your project and community, rather than about your 
software. We are interested in how your community is doing, the 
opportunities and challenges ahead, and how OSGeo can help.

The shared slide deck is available here (request edit access if required):

* 
https://docs.google.com/presentation/d/1imiG7x09ry7lGvmS15FCVq2Z7yaICY00fcpXBK27TXY/edit?usp=sharing

These slides replace the "Annual General Report" 
(https://github.com/geotools/geotools/wiki/GeoTools-Annual-Report-2017) 
used previously, you may wish to borrow that format for inspiration. You 
still can make an annual report page with extended information if you 
like and link to it.

If you are unable to attend we ask that you submit an annual general 
report to the board email list and attend an IRC board meeting by 
November 2018.

We are coordinating activities on the OSGeo Wiki 
(https://wiki.osgeo.org/wiki/Annual_General_Meeting_2018). Please add 
your project and name to the wiki if you can attend.

Best regards

Astrid Emde (OSGeo Secretary)



From geos-trac at osgeo.org  Sat Aug  4 00:13:32 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 04 Aug 2018 07:13:32 -0000
Subject: [geos-devel] [GEOS] #898: GEOS AUTHORS file is ancient
In-Reply-To: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
References: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
Message-ID: <057.29218403c7487744d1241369e19ad179@osgeo.org>

#898: GEOS AUTHORS file is ancient
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"b3ba1e9f4b11b80a53e3932597d23b9382844ff8/git" b3ba1e9/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="b3ba1e9f4b11b80a53e3932597d23b9382844ff8"
 Update AUTHORS so lists current devs and is primary
 References #898 for GEOS 3.6.3
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/898#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 12:14:03 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 04 Aug 2018 19:14:03 -0000
Subject: [geos-devel] [GEOS] #904: warning C4189 (appVeyor)
Message-ID: <047.50dd8e2a3293b59bd559954d3e8fce72@osgeo.org>

#904: warning C4189 (appVeyor)
------------------------+--------------------------
 Reporter:  cvvergara   |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  minor       |  Milestone:  3.6.3
Component:  Unit Tests  |    Version:  3.6.2
 Severity:  Annoyance   |   Keywords:
------------------------+--------------------------
 On AppVeyor:

 {{{
 bool d = delete_obj();
 assert(d && "delete failed with SEH disabled: runtime bug?");
 }}}

 c:\projects\geos\tests\unit\tut\tut.hpp(238): warning C4189: 'd': local
 variable is initialized but not referenced (compiling source file
 C:\projects\geos\tests\unit\capi\GEOSVoronoiDiagramTest.cpp)
 [C:\projects\geos\tests\unit\test_geos_unit.vcxproj]

 Which means that the assertions are not processed.

 But not such warning occurs when processing on Travis, which means that
 the
 assertions are being processed.

 Possible solutions:
 1) where needed:
 {{{
 ::geos::ignore_unused_variable_warning(d);
 }}}
 2) on `appveyor.yml`
 {{{
 configuration: Debug
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/904>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:00:24 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:00:24 -0000
Subject: [geos-devel] [GEOS] #782: Collection with Empty components
	crashes overlay
In-Reply-To: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
References: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
Message-ID: <060.22695598ba94b360d24797bc25d42df0@osgeo.org>

#782: Collection with Empty components crashes overlay
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  blocker     |   Milestone:  3.5.2
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:  worksforme
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => worksforme


Comment:

 I tried this on


 {{{
 POSTGIS="2.4.4 r16526" PGSQL="100" GEOS="3.6.2-CAPI-1.10.2 4d2925d"
 PROJ="Rel. 4.9.3, 15 August 2016" GDAL="GDAL 2.2.4, released 2018/03/19"
 LIBXML="2.7.8" LIBJSON="0.12" LIBPROTOBUF="1.2.1" RASTER PostgreSQL 10.3,
 compiled by Visual C++ build 1800, 64-bit
 }}}

 and returns true.

 I'm dismissing this as a works for me.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/782#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:01:45 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:01:45 -0000
Subject: [geos-devel] [GEOS] #745: [PATCH] finishGEOS() doesn't free the
 default GeometryFactory instance
In-Reply-To: <045.ce5199ff651c4410192f67763eb61987@osgeo.org>
References: <045.ce5199ff651c4410192f67763eb61987@osgeo.org>
Message-ID: <060.7861d7df3e6ecb38c41a9105e1edf682@osgeo.org>

#745: [PATCH] finishGEOS() doesn't free the default GeometryFactory instance
------------------------+---------------------------
 Reporter:  rouault     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.5.3
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.5.3


Comment:

 is this still an issue?  Not sure how to test if it is.  Pushing to 3.5.3

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/745#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:05:57 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:05:57 -0000
Subject: [geos-devel] [GEOS] #754: BufferOp Error
In-Reply-To: <046.894d384493fca6831eb94f51bb2fcaaa@osgeo.org>
References: <046.894d384493fca6831eb94f51bb2fcaaa@osgeo.org>
Message-ID: <061.b5771a84b73b9912c7df8f1951645932@osgeo.org>

#754: BufferOp Error
------------------------+---------------------------
 Reporter:  zb850208    |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.5.2
Component:  Default     |     Version:  3.3.9
 Severity:  Unassigned  |  Resolution:  worksforme
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => worksforme


Comment:

 This has been open for quite some time.  At least under postgis I can
 buffer the geometry fine.  Perhaps it depends on side of buffer.


 {{{
 SELECT ST_Area(ST_Buffer('MULTILINESTRING ((618579.606950456
 4314638.673020702, 618640.6026914259 4314677.314344953, 618718.7724756049
 4314731.363170649, 618774.0055160321 4314771.594646101, 618827.3168637803
 4314810.426301615, 618993.0367619346 4314918.523889887, 619103.3679485759
 4314988.653382531, 619179.6299148203 4315037.609747093, 619253.4175015207
 4315084.977638749, 619314.2029085279 4315123.998717656, 619698.3515067857
 4315371.461883069, 619793.4955079332 4315432.211142585, 620140.1225736619
 4315653.766466809, 620250.9002735359 4315722.555867553, 620286.7097285884
 4315743.415196844, 620521.5910867179 4315880.235500099, 620594.0707671573
 4315927.003067724), (620594.0707671573 4315927.003067724,
 620627.2706092432 4315948.425365693, 620627.5970716445 4315948.636125635,
 620681.50410134 4315983.41966375, 621009.8171522829 4316208.548753572,
 621456.0549379441 4316496.213555348, 621811.615682184 4316726.702773818,
 621882.191905598 4316772.711082322, 621916.1399082057 4316797.278781364,
 621950.534707655 4316827.653164168, 622036.7446939042 4316916.99007687,
 622211.3982413685 4317100.577513643, 622252.493264686 4317142.565747718,
 622579.2670530172 4317483.075703502))'::geometry, 10));
 }}}


 Yields: 98889.6981275645  under GEOS 3.6.2.

 Dismissing this as works for me.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/754#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:07:05 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:07:05 -0000
Subject: [geos-devel] [GEOS] #755: Overlay ops accept
 GeometryCollections when headers indicate that they don't
In-Reply-To: <045.7f9cb8ae2e569d62a6a347243e4e0d4e@osgeo.org>
References: <045.7f9cb8ae2e569d62a6a347243e4e0d4e@osgeo.org>
Message-ID: <060.b991077b83a1ba96a7f8cb06cd9f6b73@osgeo.org>

#755: Overlay ops accept GeometryCollections when headers indicate that they
don't
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/755#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:09:30 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:09:30 -0000
Subject: [geos-devel] [GEOS] #757: IsValid memory exhaustion with
 degenerate multipolygon
In-Reply-To: <045.46f8a87cb90ea89c963b5a64d2f20622@osgeo.org>
References: <045.46f8a87cb90ea89c963b5a64d2f20622@osgeo.org>
Message-ID: <060.cd28cdf09e94b2d1599ddf3055f398a2@osgeo.org>

#757: IsValid memory exhaustion with degenerate multipolygon
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.5.2
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  reopened => closed
 * resolution:   => fixed


Comment:

 I'm just marking this fixed.  Too many years have gone by to track this
 down.  strk if you feel strongly about it, just add the port notes.

 It doesn't change the fact thought that this issue was fixed a while ago.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/757#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:10:42 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:10:42 -0000
Subject: [geos-devel] [GEOS] #785: g++ 6 auto_ptr
In-Reply-To: <046.872d5877427a17995df94f2e08448c2c@osgeo.org>
References: <046.872d5877427a17995df94f2e08448c2c@osgeo.org>
Message-ID: <061.73e4404b4feec7ae560e7f6e3755ae23@osgeo.org>

#785: g++ 6 auto_ptr
------------------------+---------------------------
 Reporter:  rsbivand    |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/785#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:19:43 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:19:43 -0000
Subject: [geos-devel] [GEOS] #760: Snapping leaves segments below
	tolerance
In-Reply-To: <042.74111cbd57ba43d46691215c36f871cf@osgeo.org>
References: <042.74111cbd57ba43d46691215c36f871cf@osgeo.org>
Message-ID: <057.b36a4e4fa0ba042e26f8914a8c9f92c4@osgeo.org>

#760: Snapping leaves segments below tolerance
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/760#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:21:05 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:21:05 -0000
Subject: [geos-devel] [GEOS] #762: Compiling error on cygwin
In-Reply-To: <045.76a3baaa9990be48a943bc4be92c047f@osgeo.org>
References: <045.76a3baaa9990be48a943bc4be92c047f@osgeo.org>
Message-ID: <060.1323285d412764e96925589a96edbbbc@osgeo.org>

#762: Compiling error on cygwin
------------------------+---------------------------
 Reporter:  jingsam     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.5.3
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.5.3


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/762#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:23:00 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:23:00 -0000
Subject: [geos-devel] [GEOS] #763: Overlay operator crash
In-Reply-To: <045.3f4706b77c4bbdcb698bd9bc5ebcee73@osgeo.org>
References: <045.3f4706b77c4bbdcb698bd9bc5ebcee73@osgeo.org>
Message-ID: <060.cc4fe77975b1f7768326031d6ae25d73@osgeo.org>

#763: Overlay operator crash
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.5.2
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:  worksforme
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => worksforme


Comment:

 Doesn't crash for me under Windows , GEOS 3.6.2, PostGIS 2.4.4

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/763#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:25:59 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:25:59 -0000
Subject: [geos-devel] [GEOS] #769: Robustness failure in
	GEOSVoronoiDiagram
In-Reply-To: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
References: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
Message-ID: <060.368938ed0473c89d2e8424e2422476f9@osgeo.org>

#769: Robustness failure in GEOSVoronoiDiagram
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.5.3
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.5.3


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/769#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:27:27 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:27:27 -0000
Subject: [geos-devel] [GEOS] #787: geos-3.5.0 failure to build using
	MingW
In-Reply-To: <050.55a7b150471adfc443cf69f27009d21b@osgeo.org>
References: <050.55a7b150471adfc443cf69f27009d21b@osgeo.org>
Message-ID: <065.e321681dab3a379fb175abf4ecb0c423@osgeo.org>

#787: geos-3.5.0 failure to build using MingW
--------------------------+---------------------------
 Reporter:  ddurgaprasad  |       Owner:  geos-devel@…
     Type:  defect        |      Status:  new
 Priority:  major         |   Milestone:  3.8.0
Component:  Default       |     Version:  3.5.0
 Severity:  Unassigned    |  Resolution:
 Keywords:  mingw         |
--------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/787#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:36:57 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:36:57 -0000
Subject: [geos-devel] [GEOS] #859: Voronoi issue
In-Reply-To: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
References: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
Message-ID: <060.f44051fb79ad7a324b550c70c169613b@osgeo.org>

#859: Voronoi issue
------------------------+---------------------------
 Reporter:  jjgreen     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.7.0
Component:  Default     |     Version:  3.5.1
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.7.0


Comment:

 Still an issue even with 3.7.0beta1.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/859#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:38:05 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:38:05 -0000
Subject: [geos-devel] [GEOS] #748: Port Polygonizer performance
 improvement from JTS-1.13
In-Reply-To: <042.28a55ac2d602b9217a2700be652f331c@osgeo.org>
References: <042.28a55ac2d602b9217a2700be652f331c@osgeo.org>
Message-ID: <057.0a36bdb106ca975614f849bcc76fb7c4@osgeo.org>

#748: Port Polygonizer performance improvement from JTS-1.13
-------------------------+---------------------------
 Reporter:  strk         |       Owner:  geos-devel@…
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  3.5.0
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/748#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug  4 21:42:18 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 05 Aug 2018 04:42:18 -0000
Subject: [geos-devel] [GEOS] #898: GEOS AUTHORS file is ancient
In-Reply-To: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
References: <042.6e7a0703db4ac9ba3bdb8e74a67bfd72@osgeo.org>
Message-ID: <057.9ee13ffbfed54929f62e7016299c7567@osgeo.org>

#898: GEOS AUTHORS file is ancient
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  minor       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by Regina Obe <lr@…>):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 In [changeset:"cfe255474b7936fc9800723e562ccf02799b5876/git" cfe2554/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="cfe255474b7936fc9800723e562ccf02799b5876"
 Update AUTHORS so lists current devs and is primary
 Closes #898 for GEOS 3.5.2
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/898#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 17:08:19 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 00:08:19 -0000
Subject: [geos-devel] [GEOS] #782: Collection with Empty components
	crashes overlay
In-Reply-To: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
References: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
Message-ID: <060.e219820ecaa4f99701d123952f78a785@osgeo.org>

#782: Collection with Empty components crashes overlay
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  blocker     |   Milestone:  3.5.2
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:  worksforme
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * Attachment "782-failing-test.patch" added.

 failing test case

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/782>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 17:08:51 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 00:08:51 -0000
Subject: [geos-devel] [GEOS] #782: Collection with Empty components
	crashes overlay
In-Reply-To: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
References: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
Message-ID: <060.510552336f16dfd3d98f9b372008f65d@osgeo.org>

#782: Collection with Empty components crashes overlay
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  reopened
 Priority:  major       |   Milestone:  3.5.2
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * priority:  blocker => major
 * status:  closed => reopened
 * resolution:  worksforme =>


Comment:

 Definitely still an issue. I think PostGIS may remove the empty components
 before passing  the geometry over to GEOS.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/782#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 20:58:31 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 03:58:31 -0000
Subject: [geos-devel] [GEOS] #782: Collection with Empty components
	crashes overlay
In-Reply-To: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
References: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
Message-ID: <060.97446a568061afad60ca9778bb9c0b7c@osgeo.org>

#782: Collection with Empty components crashes overlay
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  reopened
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.5.2 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/782#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 21:00:24 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 04:00:24 -0000
Subject: [geos-devel] [GEOS] #867: Regression in union algorithm between
 GEOS 3.6.1 and GEOS 3.6.2
In-Reply-To: <042.ca6de3222be0e0fe403bb0f197ebe943@osgeo.org>
References: <042.ca6de3222be0e0fe403bb0f197ebe943@osgeo.org>
Message-ID: <057.efcadd6528ffdb9554846312853fd878@osgeo.org>

#867: Regression in union algorithm between GEOS 3.6.1 and GEOS 3.6.2
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/867#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 21:16:39 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 04:16:39 -0000
Subject: [geos-devel] [GEOS] #702: OverlayOp takes mover 20 minutes when
 a polygon with over a million holes is involved
In-Reply-To: <042.005d37bf349823c268b56042f26e035e@osgeo.org>
References: <042.005d37bf349823c268b56042f26e035e@osgeo.org>
Message-ID: <057.4bb3305aa734cdef175233d9d15a85a7@osgeo.org>

#702: OverlayOp takes mover 20 minutes when a polygon with over a million holes
is involved
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/702#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 21:20:35 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 04:20:35 -0000
Subject: [geos-devel] [GEOS] #704: Difference error
In-Reply-To: <048.08563265fa08286701045456d978e86c@osgeo.org>
References: <048.08563265fa08286701045456d978e86c@osgeo.org>
Message-ID: <063.59636edcae6d458e0275c3f4a13d52c0@osgeo.org>

#704: Difference error
------------------------+---------------------------
 Reporter:  yanivnavon  |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:  wontfix
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => wontfix


Comment:

 too old to care.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/704#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 21:25:03 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 04:25:03 -0000
Subject: [geos-devel] [GEOS] #876: rgeos::writeWKT() pass polygon
 direction as parameter
In-Reply-To: <048.ec0407fefc3a6b0f055bf25fa015b32b@osgeo.org>
References: <048.ec0407fefc3a6b0f055bf25fa015b32b@osgeo.org>
Message-ID: <063.0ceafb21cd1b4da84a25a50a3ee60636@osgeo.org>

#876: rgeos::writeWKT() pass polygon direction as parameter
-----------------------------+---------------------------
 Reporter:  dennisguse       |       Owner:  geos-devel@…
     Type:  enhancement      |      Status:  new
 Priority:  minor            |   Milestone:  3.8.0
Component:  Default          |     Version:  3.6.2
 Severity:  Feature Request  |  Resolution:
 Keywords:  WKT              |
-----------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/876#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 21:26:16 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 04:26:16 -0000
Subject: [geos-devel] [GEOS] #904: warning C4189 (appVeyor)
In-Reply-To: <047.50dd8e2a3293b59bd559954d3e8fce72@osgeo.org>
References: <047.50dd8e2a3293b59bd559954d3e8fce72@osgeo.org>
Message-ID: <062.c9cee0daa96689cab3588ccce101bc28@osgeo.org>

#904: warning C4189 (appVeyor)
------------------------+---------------------------
 Reporter:  cvvergara   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.8.0
Component:  Unit Tests  |     Version:  3.6.2
 Severity:  Annoyance   |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/904#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 21:26:55 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 04:26:55 -0000
Subject: [geos-devel] [GEOS] #869: CommonBits::zeroLowerBits undefined
	behavior
In-Reply-To: <045.bfc710dae9073918b45ee2639cde6e64@osgeo.org>
References: <045.bfc710dae9073918b45ee2639cde6e64@osgeo.org>
Message-ID: <060.0f2470eff527df449be3215c0d4cb4a5@osgeo.org>

#869: CommonBits::zeroLowerBits undefined behavior
-------------------------------+---------------------------
 Reporter:  goatbar            |       Owner:  geos-devel@…
     Type:  defect             |      Status:  new
 Priority:  minor              |   Milestone:  3.6.4
Component:  Default            |     Version:  3.6.2
 Severity:  Unassigned         |  Resolution:
 Keywords:  UndefinedBehavior  |
-------------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/869#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 21:27:21 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 04:27:21 -0000
Subject: [geos-devel] [GEOS] #849: clang-tidy:
 readability-container-size-empty size() == 0 can be replaced with empty()
In-Reply-To: <045.ac6eb8a3e951ef17e0cf58dda1d5426d@osgeo.org>
References: <045.ac6eb8a3e951ef17e0cf58dda1d5426d@osgeo.org>
Message-ID: <060.9a4185866b17b10dedaac681abb1dff6@osgeo.org>

#849: clang-tidy: readability-container-size-empty  size() == 0 can be replaced
with empty()
-------------------------------------------------+-------------------------
 Reporter:  goatbar                              |       Owner:  geos-
                                                 |  devel@…
     Type:  defect                               |      Status:  new
 Priority:  minor                                |   Milestone:  3.8.0
Component:  Default                              |     Version:  master
 Severity:  Unassigned                           |  Resolution:
 Keywords:  clangtidy size empty readability-    |
  container-size-empty                           |
-------------------------------------------------+-------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/849#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:09:11 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:09:11 -0000
Subject: [geos-devel] [GEOS] #840: PointOnSurface strange behavior
In-Reply-To: <041.7fcc00a1d2f5dfbd1db92d3c7886fa8e@osgeo.org>
References: <041.7fcc00a1d2f5dfbd1db92d3c7886fa8e@osgeo.org>
Message-ID: <056.05951422ecf87344cafa175fd9cf5fd3@osgeo.org>

#840: PointOnSurface strange behavior
----------------------------+---------------------------
 Reporter:  sbe             |       Owner:  geos-devel@…
     Type:  defect          |      Status:  new
 Priority:  minor           |   Milestone:  3.6.4
Component:  Default         |     Version:  3.6.2
 Severity:  Unassigned      |  Resolution:
 Keywords:  pointOnSurface  |
----------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/840#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:13:15 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:13:15 -0000
Subject: [geos-devel] [GEOS] #731: GEOSEqualsExact returns False where
 GEOSEquals returns True
In-Reply-To: <045.6a5fd9037385620ed7edac023a469cab@osgeo.org>
References: <045.6a5fd9037385620ed7edac023a469cab@osgeo.org>
Message-ID: <060.f2fa8367d953c1240c78b096cf427522@osgeo.org>

#731: GEOSEqualsExact returns False where GEOSEquals returns True
------------------------+---------------------------
 Reporter:  Mike Toews  |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  minor       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:  wontfix
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => wontfix


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/731#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:20:29 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:20:29 -0000
Subject: [geos-devel] [GEOS] #909: Stop sending geos ticket updates to
	geos-develop
Message-ID: <042.26cb747f6ef013aa55ff640926405d4c@osgeo.org>

#909: Stop sending geos ticket updates to geos-develop
------------------------+--------------------------
 Reporter:  robe        |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:  Management
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 This whole ticket sending to geos-develop I feel is cluttering up the
 develop mailing list.

 If we really need this, we should have a geos-tickets mailing list like we
 have postgis

 https://lists.osgeo.org/pipermail/postgis-tickets/

 So no one needs to be tortured with these notices unless they really want
 to be.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/909>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:30:20 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:30:20 -0000
Subject: [geos-devel] [GEOS] #714: [Patch] Don't create default
 GeometryFactory on the heap
In-Reply-To: <043.ad81dedeadc51f2e25a73bd008070d71@osgeo.org>
References: <043.ad81dedeadc51f2e25a73bd008070d71@osgeo.org>
Message-ID: <058.4658bd5aba05c17fccec8507b10df879@osgeo.org>

#714: [Patch] Don't create default GeometryFactory on the heap
------------------------+---------------------------
 Reporter:  smani       |       Owner:  geos-devel@…
     Type:  patch       |      Status:  new
 Priority:  minor       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * priority:  major => minor
 * type:  defect => patch
 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/714#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:31:49 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:31:49 -0000
Subject: [geos-devel] [GEOS] #728: GEOSDelaunayTriangulation() utterly
 slow on big point cloud (133 000 points)
In-Reply-To: <045.83825515ce4c533458b9ed2866e3701a@osgeo.org>
References: <045.83825515ce4c533458b9ed2866e3701a@osgeo.org>
Message-ID: <060.ca22455c3154f0f3e6def264eaff9c06@osgeo.org>

#728: GEOSDelaunayTriangulation() utterly slow on big point cloud (133 000
points)
------------------------+---------------------------
 Reporter:  rouault     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/728#comment:11>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:39:05 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:39:05 -0000
Subject: [geos-devel] [GEOS] #899: https://geos.osgeo.org/doxygen/ is
 down and shows certificate error
In-Reply-To: <044.2c898d7ca1f4b1d592de51130ce2b535@osgeo.org>
References: <044.2c898d7ca1f4b1d592de51130ce2b535@osgeo.org>
Message-ID: <059.56cd26dcd22d1973ef883d5a45fe8699@osgeo.org>

#899: https://geos.osgeo.org/doxygen/ is down and shows certificate error
---------------------------+---------------------------
 Reporter:  komzpa         |       Owner:  geos-devel@…
     Type:  defect         |      Status:  new
 Priority:  major          |   Milestone:  Management
Component:  Documentation  |     Version:  3.6.2
 Severity:  Unassigned     |  Resolution:
 Keywords:                 |
---------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => Management


Comment:

 It's reachable without the https.
 http://geos.osgeo.org/doxygen/

  Though I didn't even think we had a geos.osgeo.org

 where is that?  I thought everything was on trac.osgeo.org/geos as
 geos.osgeo.org just redirects to trac

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/899#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:41:01 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:41:01 -0000
Subject: [geos-devel] [GEOS] #717: LINEARRING intersection returns
 different answers depending on where 'join' is
In-Reply-To: <046.c0b205fd2380a976d9845e66d23f3f29@osgeo.org>
References: <046.c0b205fd2380a976d9845e66d23f3f29@osgeo.org>
Message-ID: <061.31c7453017ff3cf8d1192fc533220ede@osgeo.org>

#717: LINEARRING intersection returns different answers depending on where 'join'
is
-------------------------------------------+---------------------------
 Reporter:  messypup                       |       Owner:  geos-devel@…
     Type:  defect                         |      Status:  closed
 Priority:  minor                          |   Milestone:  3.6.3
Component:  Default                        |     Version:  3.4.2
 Severity:  Annoyance                      |  Resolution:  wontfix
 Keywords:  GEOSIntersection_r LINEARRING  |
-------------------------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => wontfix


Comment:

 this is too old.  Anyone feel free to reopen if you plan to fix.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/717#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:42:28 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:42:28 -0000
Subject: [geos-devel] [GEOS] #892: SQLITE Touches() in
 spatialite-enabled supershape returns FALSE when it shouldn't
In-Reply-To: <042.dfe69e89f0011ec6ad0b899623f82216@osgeo.org>
References: <042.dfe69e89f0011ec6ad0b899623f82216@osgeo.org>
Message-ID: <057.90ad6e5456504408f259cc73dba03230@osgeo.org>

#892: SQLITE Touches() in spatialite-enabled supershape returns FALSE when it
shouldn't
-------------------------------------------+---------------------------
 Reporter:  dido                           |       Owner:  geos-devel@…
     Type:  defect                         |      Status:  new
 Priority:  major                          |   Milestone:  3.6.4
Component:  Default                        |     Version:  3.5.0
 Severity:  Significant                    |  Resolution:
 Keywords:  Touches false ring linestring  |
-------------------------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/892#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:48:51 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:48:51 -0000
Subject: [geos-devel] [GEOS] #682: ST_OffsetCurve fails for some
	geometries
In-Reply-To: <045.5d5896ed518212390aa6fa9702c0e82a@osgeo.org>
References: <045.5d5896ed518212390aa6fa9702c0e82a@osgeo.org>
Message-ID: <060.ff25248adf1932470ae8a74e044e9917@osgeo.org>

#682: ST_OffsetCurve fails for some geometries
------------------------+---------------------------
 Reporter:  jventin     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/682#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:49:48 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:49:48 -0000
Subject: [geos-devel] [GEOS] #712: Single-sided buffer gives unexpected
	result
In-Reply-To: <044.e44f2cd91b9bae7b5137231f5fae5218@osgeo.org>
References: <044.e44f2cd91b9bae7b5137231f5fae5218@osgeo.org>
Message-ID: <059.339a4c298832434308a7d1c3ccd58a50@osgeo.org>

#712: Single-sided buffer gives unexpected result
------------------------+---------------------------
 Reporter:  pmeems      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:  wontfix
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => wontfix


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/712#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:50:38 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:50:38 -0000
Subject: [geos-devel] [GEOS] #720: Make Errors with GEOS 3.4.2 -
In-Reply-To: <044.3276b10c86962a728c562c31540639df@osgeo.org>
References: <044.3276b10c86962a728c562c31540639df@osgeo.org>
Message-ID: <059.5205c90e24069f3acbee938218617915@osgeo.org>

#720: Make Errors with GEOS 3.4.2 -
-------------------------+---------------------------
 Reporter:  tgilli       |       Owner:  geos-devel@…
     Type:  defect       |      Status:  closed
 Priority:  major        |   Milestone:  3.6.3
Component:  Default      |     Version:  3.4.2
 Severity:  Unassigned   |  Resolution:  wontfix
 Keywords:  Make errors  |
-------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => wontfix


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/720#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:52:33 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:52:33 -0000
Subject: [geos-devel] [GEOS] #723: Failing case1: test1: union(A,
 B) on Linux on System z
In-Reply-To: <046.b2de1fcfc7b6aaf3944d11d411e85a6a@osgeo.org>
References: <046.b2de1fcfc7b6aaf3944d11d411e85a6a@osgeo.org>
Message-ID: <061.8a9be7114d39fa040d185f498546ab54@osgeo.org>

#723: Failing case1: test1: union(A, B) on Linux on System z
------------------------+---------------------------
 Reporter:  maximmai    |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.6.3
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:  wontfix
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => wontfix


Comment:

 If this is still a problem for anyone, feel free to reopen.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/723#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:53:21 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:53:21 -0000
Subject: [geos-devel] [GEOS] #889: Update missing NEWS
In-Reply-To: <042.951f00e37df9f2a481b353e847bb6d09@osgeo.org>
References: <042.951f00e37df9f2a481b353e847bb6d09@osgeo.org>
Message-ID: <057.e7b477b106a65c142b975491fb921e5b@osgeo.org>

#889: Update missing NEWS
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 I think this is pretty much done aside from new things we may add.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/889#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:54:30 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:54:30 -0000
Subject: [geos-devel] [GEOS] #844: Geos 3.6.2 tests failing on ppc64le
	architecture
In-Reply-To: <049.bac5d574e4e038e8f9c0c157cdfe0b7a@osgeo.org>
References: <049.bac5d574e4e038e8f9c0c157cdfe0b7a@osgeo.org>
Message-ID: <064.2d7bc23fd83e87ddc2343b9cfd4b66de@osgeo.org>

#844: Geos 3.6.2 tests failing on ppc64le architecture
------------------------------+---------------------------
 Reporter:  Roberto Oliveira  |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  major             |   Milestone:  3.6.4
Component:  Default           |     Version:  3.6.2
 Severity:  Unassigned        |  Resolution:
 Keywords:                    |
------------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


Comment:

 Is this still an issue?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/844#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:55:52 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:55:52 -0000
Subject: [geos-devel] [GEOS] #732: BufferOp(0.0) makes the attached
	polygon "miss"!
In-Reply-To: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
References: <049.f34d3fbf88eed6d823085d6ab7a170f4@osgeo.org>
Message-ID: <064.cec65754d6738a42d2224d1dfdc2c328@osgeo.org>

#732: BufferOp(0.0) makes the attached polygon "miss"!
-------------------------+---------------------------
 Reporter:  jiangdaidai  |       Owner:  geos-devel@…
     Type:  defect       |      Status:  closed
 Priority:  major        |   Milestone:  3.6.3
Component:  Default      |     Version:  3.4.2
 Severity:  Critical     |  Resolution:  wontfix
 Keywords:  BufferOp     |
-------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => wontfix


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/732#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug  5 23:58:24 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 06:58:24 -0000
Subject: [geos-devel] [GEOS] #737: TopologyException for Valid geoemtries
In-Reply-To: <052.fa7d997ed8bb4b3b3ed759cc9cc5ef85@osgeo.org>
References: <052.fa7d997ed8bb4b3b3ed759cc9cc5ef85@osgeo.org>
Message-ID: <067.405adffc478da0a33058297ce6939119@osgeo.org>

#737: TopologyException for Valid geoemtries
----------------------------+---------------------------
 Reporter:  bladeoflight16  |       Owner:  geos-devel@…
     Type:  defect          |      Status:  new
 Priority:  major           |   Milestone:  3.6.4
Component:  Default         |     Version:  3.4.2
 Severity:  Unassigned      |  Resolution:
 Keywords:                  |
----------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


Comment:

 Confirmed still a problem.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/737#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 00:05:00 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 07:05:00 -0000
Subject: [geos-devel] [GEOS] #866: OffsetCurve failure
In-Reply-To: <044.fb79e5e00625fd2aa0b013e56d6d6a5e@osgeo.org>
References: <044.fb79e5e00625fd2aa0b013e56d6d6a5e@osgeo.org>
Message-ID: <059.fa1bc07313178cb80f9b5246b4a2ffec@osgeo.org>

#866: OffsetCurve failure
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


Comment:

 Yikes this crashes my postgres service

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/866#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 00:05:02 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 07:05:02 -0000
Subject: [geos-devel] [GEOS] #844: Geos 3.6.2 tests failing on ppc64le
	architecture
In-Reply-To: <049.bac5d574e4e038e8f9c0c157cdfe0b7a@osgeo.org>
References: <049.bac5d574e4e038e8f9c0c157cdfe0b7a@osgeo.org>
Message-ID: <064.1a77f192204d5eb58451e044a3082e01@osgeo.org>

#844: Geos 3.6.2 tests failing on ppc64le architecture
------------------------------+---------------------------
 Reporter:  Roberto Oliveira  |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  major             |   Milestone:  3.6.4
Component:  Default           |     Version:  3.6.2
 Severity:  Unassigned        |  Resolution:
 Keywords:                    |
------------------------------+---------------------------

Comment (by Bas Couwenberg):

 On Debian unstable these tests also fail with GEOS 3.6.2, see:

 https://buildd.debian.org/status/fetch.php?pkg=geos&arch=ppc64el&ver=3.6.2-1%2Bb1&stamp=1520265701&raw=0

 {{{
 ./tests/ticket/bug398.xml: case1: test1: union(A, B): failed. (0 ms)
         Description: http://trac.osgeo.org/geos/ticket/398
 Assertion `shellCount <= 1' failed.
         Geometry A: MULTIPOLYGON (((60.0000000000000000
 6.5105151320986412, 44.0044859469790026 11.6931320480208569,
 0.0000000000000000 25.9507790663861222, 0.0000000000000000
 26.8608278557796467, 0.0000000000000000 29.8387923019253307,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412)), ((43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 34.0258524396557860 6.8981402622972743, 55.3161197496508308
 0.0000000000000000, 50.0044466166182886 0.0000000000000000,
 43.3161197496508308 0.0000000000000000)), ((13.4455725323347899
 36.0000000000000000, 60.0000000000000000 36.0000000000000000,
 60.0000000000000000 16.7944518298098018, 60.0000000000000000
 16.3644011555093201, 60.0000000000000000 14.0439960304547569,
 2.9187843276549756 36.0000000000000000, 11.8945390820010992
 36.0000000000000000, 13.4455725323347899 36.0000000000000000)))
         Geometry B: POLYGON ((50.0044466166182886 0.0000000000000000,
 0.0000000000000000 21.5874865260243638, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 0.0000000000000000, 50.0044466166182886
 0.0000000000000000))
         Expected result: MULTIPOLYGON (((0.0000000000000000
 25.9507790663861222, 0.0000000000000000 26.8608278557796467,
 0.0000000000000000 29.8387923019253307, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412, 60.0000000000000000
 0.0000000000000000, 55.3161197496508308 0.0000000000000000,
 50.0044466166182886 0.0000000000000000, 43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 0.0000000000000000 25.9507790663861222), (0.0000000000000000
 21.5874865260243638, 34.0258524396557860 6.8981402622972743,
 34.0258524396557931 6.8981402622972734, 0.0000000000000000
 21.5874865260243638)), ((13.4455725323347899 36.0000000000000000,
 60.0000000000000000 36.0000000000000000, 60.0000000000000000
 16.7944518298098018, 60.0000000000000000 16.3644011555093201,
 60.0000000000000000 14.0439960304547569, 2.9187843276549756
 36.0000000000000000, 11.8945390820010992 36.0000000000000000,
 13.4455725323347899 36.0000000000000000)))
         Obtained result: MULTIPOLYGON (((0.0000000000000000
 25.9507790663861222, 0.0000000000000000 26.8608278557796467,
 0.0000000000000000 29.8387923019253307, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412, 60.0000000000000000
 0.0000000000000000, 55.3161197496508308 0.0000000000000000,
 50.0044466166182886 0.0000000000000000, 43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 0.0000000000000000 25.9507790663861222)), ((13.4455725323347899
 36.0000000000000000, 60.0000000000000000 36.0000000000000000,
 60.0000000000000000 16.7944518298098018, 60.0000000000000000
 16.3644011555093201, 60.0000000000000000 14.0439960304547569,
 2.9187843276549756 36.0000000000000000, 11.8945390820010992
 36.0000000000000000, 13.4455725323347899 36.0000000000000000)))
 }}}

 {{{
 ./tests/general/TestCentroid.xml: case31: test1: getcentroid(A): failed.
 (0 ms)
         Description: A - almost degenerate triangle
         Geometry A: POLYGON ((56.5286666666999977 25.2101666667000011,
 56.5290000000000035 25.2104999999999997, 56.5288333332999997
 25.2103333332999995, 56.5286666666999977 25.2101666667000011))
         Expected result: POINT (56.5288333333500006 25.2103333333500004)
         Obtained result: POINT (56.5288333333333313 25.2103333333333346)
 }}}

 The same goes for 3.7.0-beta1, see:

 https://buildd.debian.org/status/fetch.php?pkg=geos&arch=ppc64el&ver=3.7.0%7Ebeta1-1%7Eexp2&stamp=1533052509&raw=0

 {{{
 ./tests/ticket/bug398.xml: case1: test1: union(A, B): failed. (0 ms)
         Description: http://trac.osgeo.org/geos/ticket/398
 Assertion `shellCount <= 1' failed.
         Geometry A: MULTIPOLYGON (((60.0000000000000000
 6.5105151320986412, 44.0044859469790026 11.6931320480208569,
 0.0000000000000000 25.9507790663861222, 0.0000000000000000
 26.8608278557796467, 0.0000000000000000 29.8387923019253307,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412)), ((43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 34.0258524396557860 6.8981402622972743, 55.3161197496508308
 0.0000000000000000, 50.0044466166182886 0.0000000000000000,
 43.3161197496508308 0.0000000000000000)), ((13.4455725323347899
 36.0000000000000000, 60.0000000000000000 36.0000000000000000,
 60.0000000000000000 16.7944518298098018, 60.0000000000000000
 16.3644011555093201, 60.0000000000000000 14.0439960304547569,
 2.9187843276549756 36.0000000000000000, 11.8945390820010992
 36.0000000000000000, 13.4455725323347899 36.0000000000000000)))
         Geometry B: POLYGON ((50.0044466166182886 0.0000000000000000,
 0.0000000000000000 21.5874865260243638, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 0.0000000000000000, 50.0044466166182886
 0.0000000000000000))
         Expected result: MULTIPOLYGON (((0.0000000000000000
 25.9507790663861222, 0.0000000000000000 26.8608278557796467,
 0.0000000000000000 29.8387923019253307, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412, 60.0000000000000000
 0.0000000000000000, 55.3161197496508308 0.0000000000000000,
 50.0044466166182886 0.0000000000000000, 43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 0.0000000000000000 25.9507790663861222), (0.0000000000000000
 21.5874865260243638, 34.0258524396557860 6.8981402622972743,
 34.0258524396557931 6.8981402622972734, 0.0000000000000000
 21.5874865260243638)), ((13.4455725323347899 36.0000000000000000,
 60.0000000000000000 36.0000000000000000, 60.0000000000000000
 16.7944518298098018, 60.0000000000000000 16.3644011555093201,
 60.0000000000000000 14.0439960304547569, 2.9187843276549756
 36.0000000000000000, 11.8945390820010992 36.0000000000000000,
 13.4455725323347899 36.0000000000000000)))
         Obtained result: MULTIPOLYGON (((0.0000000000000000
 25.9507790663861222, 0.0000000000000000 26.8608278557796467,
 0.0000000000000000 29.8387923019253307, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412, 60.0000000000000000
 0.0000000000000000, 55.3161197496508308 0.0000000000000000,
 50.0044466166182886 0.0000000000000000, 43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 0.0000000000000000 25.9507790663861222)), ((13.4455725323347899
 36.0000000000000000, 60.0000000000000000 36.0000000000000000,
 60.0000000000000000 16.7944518298098018, 60.0000000000000000
 16.3644011555093201, 60.0000000000000000 14.0439960304547569,
 2.9187843276549756 36.0000000000000000, 11.8945390820010992
 36.0000000000000000, 13.4455725323347899 36.0000000000000000)))
 }}}

 {{{
 ./tests/general/TestCentroid.xml: case31: test1: getcentroid(A): failed.
 (0 ms)
         Description: A - almost degenerate triangle
         Geometry A: POLYGON ((56.5286666666999977 25.2101666667000011,
 56.5290000000000035 25.2104999999999997, 56.5288333332999997
 25.2103333332999995, 56.5286666666999977 25.2101666667000011))
         Expected result: POINT (56.5288333333500006 25.2103333333500004)
         Obtained result: POINT (56.5288333333333313 25.2103333333333346)
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/844#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 02:57:21 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 09:57:21 -0000
Subject: [geos-devel] [GEOS] #844: Geos 3.6.2 tests failing on ppc64le
	architecture
In-Reply-To: <049.bac5d574e4e038e8f9c0c157cdfe0b7a@osgeo.org>
References: <049.bac5d574e4e038e8f9c0c157cdfe0b7a@osgeo.org>
Message-ID: <064.462ec987a8db7ae8520bfda701c21c90@osgeo.org>

#844: Geos 3.6.2 tests failing on ppc64le architecture
------------------------------+---------------------------
 Reporter:  Roberto Oliveira  |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  major             |   Milestone:  3.6.4
Component:  Default           |     Version:  3.6.2
 Severity:  Unassigned        |  Resolution:
 Keywords:                    |
------------------------------+---------------------------

Comment (by Bas Couwenberg):

 3.7.0beta2 has the same test failures and an additional one, see:

 https://buildd.debian.org/status/fetch.php?pkg=geos&arch=ppc64el&ver=3.7.0%7Ebeta2-1%7Eexp1&stamp=1533548663&raw=0

 {{{
 Using an overlay tolerance of 2.51369e-05
 ./tests/ticket/bug350.xml: case1: test2: difference(A, B): failed. (0 ms)
         Description: http://trac.osgeo.org/geos/ticket/350 Original data,
 fails at noding after snapping
         Geometry A: MULTIPOLYGON (((-314775.0000000000000000
 2708.0000000000000000, -336712.0000000000000000 -2708.0000000000000000,
 -348138.0000000000000000 17051.0000000000000000, -339224.9347079037688673
 1637.6219931271461974, -334393.8192419825354591 841.2944606413984729,
 -332495.8798798798816279 -1667.0870870870874114, -314775.0000000000000000
 2708.0000000000000000)))
         Geometry B: MULTIPOLYGON (((-357571.7470252056955360
 -5762.1230496452080843, -321742.9143695723614655 -4737.7456185971695959,
 -324495.9287155140191317 19374.7701694241804944, -357251.6290780031704344
 17838.2040228521254903, -357571.7470252056955360 -5762.1230496452080843)))
         Expected result: POLYGON ((-322378.6881546057993546
 830.7344192302963393, -322378.6881546057993546 830.7344192302966803,
 -314775.0000000000000000 2708.0000000000000000, -322378.6881546057993546
 830.7344192302963393))
         Obtained result: POLYGON ((-322378.6881546057993546
 830.7344192302962256, -322378.6881546057993546 830.7344192302966803,
 -314775.0000000000000000 2708.0000000000000000, -322378.6881546057993546
 830.7344192302962256))

 Using an overlay tolerance of 2.51369e-05
 Using an overlay tolerance of 3.6e-08
 ./tests/ticket/bug398.xml: case1: test1: union(A, B): failed. (0 ms)
         Description: http://trac.osgeo.org/geos/ticket/398
 Assertion `shellCount <= 1' failed.
         Geometry A: MULTIPOLYGON (((60.0000000000000000
 6.5105151320986412, 44.0044859469790026 11.6931320480208569,
 0.0000000000000000 25.9507790663861222, 0.0000000000000000
 26.8608278557796467, 0.0000000000000000 29.8387923019253307,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412)), ((43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 34.0258524396557860 6.8981402622972743, 55.3161197496508308
 0.0000000000000000, 50.0044466166182886 0.0000000000000000,
 43.3161197496508308 0.0000000000000000)), ((13.4455725323347899
 36.0000000000000000, 60.0000000000000000 36.0000000000000000,
 60.0000000000000000 16.7944518298098018, 60.0000000000000000
 16.3644011555093201, 60.0000000000000000 14.0439960304547569,
 2.9187843276549756 36.0000000000000000, 11.8945390820010992
 36.0000000000000000, 13.4455725323347899 36.0000000000000000)))
         Geometry B: POLYGON ((50.0044466166182886 0.0000000000000000,
 0.0000000000000000 21.5874865260243638, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 0.0000000000000000, 50.0044466166182886
 0.0000000000000000))
         Expected result: MULTIPOLYGON (((0.0000000000000000
 25.9507790663861222, 0.0000000000000000 26.8608278557796467,
 0.0000000000000000 29.8387923019253307, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412, 60.0000000000000000
 0.0000000000000000, 55.3161197496508308 0.0000000000000000,
 50.0044466166182886 0.0000000000000000, 43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 0.0000000000000000 25.9507790663861222), (0.0000000000000000
 21.5874865260243638, 34.0258524396557860 6.8981402622972743,
 34.0258524396557931 6.8981402622972734, 0.0000000000000000
 21.5874865260243638)), ((13.4455725323347899 36.0000000000000000,
 60.0000000000000000 36.0000000000000000, 60.0000000000000000
 16.7944518298098018, 60.0000000000000000 16.3644011555093201,
 60.0000000000000000 14.0439960304547569, 2.9187843276549756
 36.0000000000000000, 11.8945390820010992 36.0000000000000000,
 13.4455725323347899 36.0000000000000000)))
         Obtained result: MULTIPOLYGON (((0.0000000000000000
 25.9507790663861222, 0.0000000000000000 26.8608278557796467,
 0.0000000000000000 29.8387923019253307, 0.0000000000000000
 35.7392139719321804, 60.0000000000000000 13.1838946818537934,
 60.0000000000000000 10.3985283676378408, 60.0000000000000000
 7.8021345594223774, 60.0000000000000000 6.6570998796460161,
 60.0000000000000000 6.5105151320986412, 60.0000000000000000
 0.0000000000000000, 55.3161197496508308 0.0000000000000000,
 50.0044466166182886 0.0000000000000000, 43.3161197496508308
 0.0000000000000000, 0.0000000000000000 0.0000000000000000,
 0.0000000000000000 14.0346133423735822, 0.0000000000000000
 17.9226661292310787, 0.0000000000000000 21.5874865260243638,
 0.0000000000000000 25.9507790663861222)), ((13.4455725323347899
 36.0000000000000000, 60.0000000000000000 36.0000000000000000,
 60.0000000000000000 16.7944518298098018, 60.0000000000000000
 16.3644011555093201, 60.0000000000000000 14.0439960304547569,
 2.9187843276549756 36.0000000000000000, 11.8945390820010992
 36.0000000000000000, 13.4455725323347899 36.0000000000000000)))

 ./tests/general/TestCentroid.xml: case31: test1: getcentroid(A): failed.
 (0 ms)
         Description: A - almost degenerate triangle
         Geometry A: POLYGON ((56.5286666666999977 25.2101666667000011,
 56.5290000000000035 25.2104999999999997, 56.5288333332999997
 25.2103333332999995, 56.5286666666999977 25.2101666667000011))
         Expected result: POINT (56.5288333333500006 25.2103333333500004)
         Obtained result: POINT (56.5288333333333313 25.2103333333333346)
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/844#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 06:29:27 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 13:29:27 -0000
Subject: [geos-devel] [GEOS] #731: GEOSEqualsExact returns False where
 GEOSEquals returns True
In-Reply-To: <045.6a5fd9037385620ed7edac023a469cab@osgeo.org>
References: <045.6a5fd9037385620ed7edac023a469cab@osgeo.org>
Message-ID: <060.219cfd788b176580107ff7b3d7dff2f2@osgeo.org>

#731: GEOSEqualsExact returns False where GEOSEquals returns True
------------------------+---------------------------
 Reporter:  Mike Toews  |       Owner:  geos-devel@…
     Type:  defect      |      Status:  reopened
 Priority:  minor       |   Milestone:  3.7.0
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * status:  closed => reopened
 * resolution:  wontfix =>
 * milestone:  3.6.3 => 3.7.0


Comment:

 Adding a note to the docs seems reasonable to me.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/731#comment:9>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 06:29:39 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 13:29:39 -0000
Subject: [geos-devel] [GEOS] #731: GEOSEqualsExact returns False where
 GEOSEquals returns True
In-Reply-To: <045.6a5fd9037385620ed7edac023a469cab@osgeo.org>
References: <045.6a5fd9037385620ed7edac023a469cab@osgeo.org>
Message-ID: <060.a0e3957570de3e4094ac154c56d4b85e@osgeo.org>

#731: GEOSEqualsExact returns False where GEOSEquals returns True
------------------------+----------------------
 Reporter:  Mike Toews  |       Owner:  dbaston
     Type:  defect      |      Status:  new
 Priority:  minor       |   Milestone:  3.7.0
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+----------------------
Changes (by dbaston):

 * owner:  geos-devel@… => dbaston
 * status:  reopened => new


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/731#comment:10>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 06:31:09 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 13:31:09 -0000
Subject: [geos-devel] [GEOS] #728: GEOSDelaunayTriangulation() utterly
 slow on big point cloud (133 000 points)
In-Reply-To: <045.83825515ce4c533458b9ed2866e3701a@osgeo.org>
References: <045.83825515ce4c533458b9ed2866e3701a@osgeo.org>
Message-ID: <060.c149160949b94a49e6cf1237cd2d5feb@osgeo.org>

#728: GEOSDelaunayTriangulation() utterly slow on big point cloud (133 000
points)
------------------------+---------------------------
 Reporter:  rouault     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 I'm pretty confident this was resolved by the linked pull request.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/728#comment:12>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 06:58:25 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 13:58:25 -0000
Subject: [geos-devel] [GEOS] #728: GEOSDelaunayTriangulation() utterly
 slow on big point cloud (133 000 points)
In-Reply-To: <045.83825515ce4c533458b9ed2866e3701a@osgeo.org>
References: <045.83825515ce4c533458b9ed2866e3701a@osgeo.org>
Message-ID: <060.2b72794a8e67d0627c6b1c7c7f9754f5@osgeo.org>

#728: GEOSDelaunayTriangulation() utterly slow on big point cloud (133 000
points)
------------------------+---------------------------
 Reporter:  rouault     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.5.1
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.8.0 => 3.5.1


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/728#comment:13>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 07:01:40 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 14:01:40 -0000
Subject: [geos-devel] [GEOS] #809: Test failure with
 MinimumClearanceLine with geos 3.6.1
In-Reply-To: <045.d1d2bf1bc480902669f0b5bcc174677f@osgeo.org>
References: <045.d1d2bf1bc480902669f0b5bcc174677f@osgeo.org>
Message-ID: <060.1c3af102ad223eba52b9e90bcb6dd9d6@osgeo.org>

#809: Test failure with MinimumClearanceLine with geos 3.6.1
----------------------------------+---------------------------
 Reporter:  goatbar               |       Owner:  geos-devel@…
     Type:  defect                |      Status:  new
 Priority:  major                 |   Milestone:  3.6.4
Component:  Default               |     Version:  3.6.0
 Severity:  Unassigned            |  Resolution:
 Keywords:  MinimumClearanceLine  |
----------------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


Comment:

 goatbar still an issue?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/809#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 07:05:28 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 14:05:28 -0000
Subject: [geos-devel] [GEOS] #845: Head Use-After-Free
 geos::geomgraph::index::SweepLineEvent::isDelete()
In-Reply-To: <045.f3a4e4a45b09ccde692fccadab9bcd0b@osgeo.org>
References: <045.f3a4e4a45b09ccde692fccadab9bcd0b@osgeo.org>
Message-ID: <060.e989fb58a0a0d906bc5e9711cc76341c@osgeo.org>

#845: Head Use-After-Free geos::geomgraph::index::SweepLineEvent::isDelete()
------------------------+---------------------------
 Reporter:  goatbar     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * version:  master => 3.6.2
 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/845#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 10:02:53 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 17:02:53 -0000
Subject: [geos-devel] [GEOS] #809: Test failure with
 MinimumClearanceLine with geos 3.6.1
In-Reply-To: <045.d1d2bf1bc480902669f0b5bcc174677f@osgeo.org>
References: <045.d1d2bf1bc480902669f0b5bcc174677f@osgeo.org>
Message-ID: <060.c284c3e79c673d39b909123584e0407c@osgeo.org>

#809: Test failure with MinimumClearanceLine with geos 3.6.1
----------------------------------+---------------------------
 Reporter:  goatbar               |       Owner:  geos-devel@…
     Type:  defect                |      Status:  closed
 Priority:  major                 |   Milestone:  3.6.4
Component:  Default               |     Version:  3.6.0
 Severity:  Unassigned            |  Resolution:  worksforme
 Keywords:  MinimumClearanceLine  |
----------------------------------+---------------------------
Changes (by goatbar):

 * status:  new => closed
 * resolution:   => worksforme


Comment:

 Tested with default build, msan and asan.  All work for me.  Thanks for
 the ping on the bug.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/809#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 14:22:07 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 21:22:07 -0000
Subject: [geos-devel] [GEOS] #850: Segfault in
 geos::algorithm::ConvexHull::preSort with extreme outlier
In-Reply-To: <046.c1ce43c98a39655c523014d2e576713f@osgeo.org>
References: <046.c1ce43c98a39655c523014d2e576713f@osgeo.org>
Message-ID: <061.3883ca82d7f5f87b8e8b12af9dbb817a@osgeo.org>

#850: Segfault in geos::algorithm::ConvexHull::preSort with extreme outlier
------------------------+---------------------------
 Reporter:  sgillies    |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.5.1
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


Comment:

 Is this an issue in 3.6?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/850#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 14:23:07 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 21:23:07 -0000
Subject: [geos-devel] [GEOS] #858: LineIntersector sanitizer failure
In-Reply-To: <045.b5770e9464c01d6d0de67195e3d583a5@osgeo.org>
References: <045.b5770e9464c01d6d0de67195e3d583a5@osgeo.org>
Message-ID: <060.255d20f55760a6bed17ff2a177ee1aa4@osgeo.org>

#858: LineIntersector sanitizer failure
------------------------+---------------------------
 Reporter:  goatbar     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/858#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 14:23:35 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 21:23:35 -0000
Subject: [geos-devel] [GEOS] #860: Prefer empty to size of zero
In-Reply-To: <045.6fa25a248e0bd47052567127a6be9539@osgeo.org>
References: <045.6fa25a248e0bd47052567127a6be9539@osgeo.org>
Message-ID: <060.f10068a17a2d31676466e078927b37e3@osgeo.org>

#860: Prefer empty to size of zero
------------------------+---------------------------
 Reporter:  goatbar     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/860#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 14:25:10 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 21:25:10 -0000
Subject: [geos-devel] [GEOS] #862: WKBReader::readHEX: Incorrect use of
 char_traits<char>::eof()
In-Reply-To: <045.291c0177af89ea4287acea9704c11421@osgeo.org>
References: <045.291c0177af89ea4287acea9704c11421@osgeo.org>
Message-ID: <060.34edd8d5d7289f5cf68cb4e98a2948b0@osgeo.org>

#862: WKBReader::readHEX: Incorrect use of char_traits<char>::eof()
------------------------+---------------------------
 Reporter:  goatbar     |       Owner:  geos-devel@…
     Type:  patch       |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * type:  defect => patch
 * milestone:  3.6.3 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/862#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 14:37:06 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 21:37:06 -0000
Subject: [geos-devel] [GEOS] #849: clang-tidy:
 readability-container-size-empty size() == 0 can be replaced with empty()
In-Reply-To: <045.ac6eb8a3e951ef17e0cf58dda1d5426d@osgeo.org>
References: <045.ac6eb8a3e951ef17e0cf58dda1d5426d@osgeo.org>
Message-ID: <060.b151cef6e67abe2153ab02f5d5abbdb1@osgeo.org>

#849: clang-tidy: readability-container-size-empty  size() == 0 can be replaced
with empty()
-------------------------------------------------+-------------------------
 Reporter:  goatbar                              |       Owner:  geos-
                                                 |  devel@…
     Type:  defect                               |      Status:  new
 Priority:  minor                                |   Milestone:  3.8.0
Component:  Default                              |     Version:  master
 Severity:  Unassigned                           |  Resolution:
 Keywords:  clangtidy size empty readability-    |
  container-size-empty                           |
-------------------------------------------------+-------------------------

Comment (by goatbar):

 See #860 for another case:

 {{{
 double
 ElevationMatrixCell::getAvg() const
 {
         return  zvals.size() ?  // <-- here
                 ztot / static_cast<double>(zvals.size()) :
                 DoubleNotANumber;
 }
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/849#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 14:49:56 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 21:49:56 -0000
Subject: [geos-devel] [GEOS] #864: GEOSNode throws std::exception in
	PostGIS
In-Reply-To: <044.f01871304c869cb58efc5bfdb0454f56@osgeo.org>
References: <044.f01871304c869cb58efc5bfdb0454f56@osgeo.org>
Message-ID: <059.e734417911dc00a2efa4573aedd14244@osgeo.org>

#864: GEOSNode throws std::exception in PostGIS
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.3 => 3.6.4


Comment:

 Confirmed still an issue in 3.6.3, PostGIS 2.5.0beta1

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/864#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug  6 14:55:52 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 06 Aug 2018 21:55:52 -0000
Subject: [geos-devel] [GEOS] #809: Test failure with
 MinimumClearanceLine with geos 3.6.1
In-Reply-To: <045.d1d2bf1bc480902669f0b5bcc174677f@osgeo.org>
References: <045.d1d2bf1bc480902669f0b5bcc174677f@osgeo.org>
Message-ID: <060.d178e0ff8606b7def89ff5bc9275d941@osgeo.org>

#809: Test failure with MinimumClearanceLine with geos 3.6.1
----------------------------------+---------------------------
 Reporter:  goatbar               |       Owner:  geos-devel@…
     Type:  defect                |      Status:  closed
 Priority:  major                 |   Milestone:  3.6.3
Component:  Default               |     Version:  3.6.0
 Severity:  Unassigned            |  Resolution:  worksforme
 Keywords:  MinimumClearanceLine  |
----------------------------------+---------------------------
Changes (by robe):

 * milestone:  3.6.4 => 3.6.3


Comment:

 Switching back to 3.6.3 as I presume it was fixed then.  Feel free to
 switch to 3.7.0 or 3.6.4 if that is incorrect.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/809#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Mon Aug  6 15:01:41 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 6 Aug 2018 18:01:41 -0400
Subject: [geos-devel] GEOS 3.6.3 and GEOS 3.7.0beta2 released
Message-ID: <003c01d42dd1$0eeb6670$2cc23350$@pcorp.us>

The GEOS development team is pleased to release the 3.7.0beta2 version.

https://download.osgeo.org/geos/geos-3.7.0beta2.tar.bz2

Change Log: https://trac.osgeo.org/geos/browser/git/NEWS?rev=3.7.0beta2

We are planning to have GEOS 3.7.0 out before September.


And GEOS 3.6.3

https://download.osgeo.org/geos/geos-3.6.3.tar.bz2

Change Log: https://trac.osgeo.org/geos/browser/git/NEWS?rev=3.6.3


We hope to have GEOS 3.5.2 out later this week.

Please test and report any issues.  

Thanks,
GEOS Development Team








From geos-trac at osgeo.org  Tue Aug  7 17:30:09 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 08 Aug 2018 00:30:09 -0000
Subject: [geos-devel] [GEOS] #866: OffsetCurve failure
In-Reply-To: <044.fb79e5e00625fd2aa0b013e56d6d6a5e@osgeo.org>
References: <044.fb79e5e00625fd2aa0b013e56d6d6a5e@osgeo.org>
Message-ID: <059.5d326a4fdb7ebb88aa70ea07a28b9394@osgeo.org>

#866: OffsetCurve failure
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  duplicate
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * status:  new => closed
 * resolution:   => duplicate


Comment:

 Duplicate of #682

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/866#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Aug  7 17:30:30 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 08 Aug 2018 00:30:30 -0000
Subject: [geos-devel] [GEOS] #682: ST_OffsetCurve fails for some
	geometries
In-Reply-To: <045.5d5896ed518212390aa6fa9702c0e82a@osgeo.org>
References: <045.5d5896ed518212390aa6fa9702c0e82a@osgeo.org>
Message-ID: <060.3fa778400f4619128d7f7924cf8429f0@osgeo.org>

#682: ST_OffsetCurve fails for some geometries
------------------------+---------------------------
 Reporter:  jventin     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.4.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by dbaston):

 Another test case in #866.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/682#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Aug  7 18:36:00 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 08 Aug 2018 01:36:00 -0000
Subject: [geos-devel] [GEOS] #864: GEOSNode throws std::exception in
	PostGIS
In-Reply-To: <044.f01871304c869cb58efc5bfdb0454f56@osgeo.org>
References: <044.f01871304c869cb58efc5bfdb0454f56@osgeo.org>
Message-ID: <059.71b9d52f90125b4700a6df9db47212f5@osgeo.org>

#864: GEOSNode throws std::exception in PostGIS
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * Attachment "864-test.patch" added.

 failing tests case

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/864>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Aug  7 18:38:23 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 08 Aug 2018 01:38:23 -0000
Subject: [geos-devel] [GEOS] #864: GEOSNode throws std::exception in
	PostGIS
In-Reply-To: <044.f01871304c869cb58efc5bfdb0454f56@osgeo.org>
References: <044.f01871304c869cb58efc5bfdb0454f56@osgeo.org>
Message-ID: <059.e2900f7e3871b370a69ba5044cf901dc@osgeo.org>

#864: GEOSNode throws std::exception in PostGIS
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@…>):

 In [changeset:"1fc7f585ed822ebbb685ba848f9537691d864697/git" 1fc7f58/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="1fc7f585ed822ebbb685ba848f9537691d864697"
 Avoid losing exception message in GeometryNoder

 References #864
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/864#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Aug  7 18:50:21 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 08 Aug 2018 01:50:21 -0000
Subject: [geos-devel] [GEOS] #850: Segfault in
 geos::algorithm::ConvexHull::preSort with extreme outlier
In-Reply-To: <046.c1ce43c98a39655c523014d2e576713f@osgeo.org>
References: <046.c1ce43c98a39655c523014d2e576713f@osgeo.org>
Message-ID: <061.52d1bbf40a208d2059780e540cd2a25c@osgeo.org>

#850: Segfault in geos::algorithm::ConvexHull::preSort with extreme outlier
------------------------+---------------------------
 Reporter:  sgillies    |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.5.1
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by dbaston):

 Yup, crashes PostGIS trunk w/GEOS master. Here is a failing wkb:


 {{{01040000001100000001010000002bd3a24002bcb0417ff59d2051e25c4101010000003aebcec70a8b3cbfdb123fe713a2e8be0101000000afa0bb8638b770bf7fc1d77d0dda1cbf01010000009519cb944ce070bf1a46cd7df4201dbf010100000079444b4cd1937cbfa6ca29ada6a928bf010100000083323f09e16c7cbfd36d07ee0b8828bf01010000009081b8f066967ebf915fbc9ebe652abf0101000000134cf280633bc1bf37b754972dbe6dbf0101000000ea992c094df585bf1bbabc8a42f332bf0101000000c0a13c7fb31186bf9af7b10cc50b33bf0101000000a0bba15a0a7188bf8fba7870e91735bf01010000000fc8701903db93bf93bdbe93b52241bf01010000007701a73b29cc90bfb770bc3732fe3cbf010100000036fa45b75b8b8cbf1cfca5bf59a238bf0101000000a54e773f7f287ebf910d4621e5062abf01010000004b5b5dc4196f55bfa51f0579717f02bf01010000007e549489513a5fbfa57bacea34f30abf}}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/850#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug 12 23:00:20 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 13 Aug 2018 06:00:20 -0000
Subject: [geos-devel] [GEOS] #910: Difference operation resulted with a
 wrong geometry as a result of a precision incorrections
Message-ID: <048.36d5128ab639412bc87cd1a59a7cf4ed@osgeo.org>

#910: Difference operation resulted with a wrong geometry as a result of a
precision incorrections
-------------------------+-------------------------------------------------
 Reporter:  yanivnavon   |      Owner:  geos-devel@…
     Type:  defect       |     Status:  new
 Priority:  major        |  Milestone:
Component:  Default      |    Version:  3.6.2
 Severity:  Significant  |   Keywords:  polygon, geometry, geometries,
                         |  difference, union, multipolygon
-------------------------+-------------------------------------------------
 Difference between two geometries results with a wrong geometry as
 sometimes systems can hold up to 6 digits after the decimal point, hence
 cannot hold the full number. In such cases, GEOS calculator might take two
 points as "does not match" each other. Originally, these points are
 matching each other.

 Screenshot:
 http://dev.skylinesoft.com/Up/Navon/General/screenshot.png

 ** With reference to bug #704:

 1) Geometry A:
 POLYGON ((580 337, 580 342.1, 581.3 338.8, 581.3666666666667
 338.8833333333333, 581.4166666666666 339, 581.45 339.1166666666667,
 581.5166666666667 339.26666666666665, 582.4 341.9, 583.5 337.1, 580 337))
 2) Geometry B:
 POLYGON ((578.3 340.9, 578.4166666666666 340.9166666666667, 578.55
 340.9166666666667, 585.1 341, 585 340.4, 578.9 340.4, 578.3 340.9))

 3) Union A -> B = C (Multipolygon)
 4) Difference C -> B

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/910>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug 12 23:02:02 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 13 Aug 2018 06:02:02 -0000
Subject: [geos-devel] [GEOS] #910: Difference operation resulted with a
 wrong geometry as a result of a precision limitation (was: Difference
 operation resulted with a wrong geometry as a result of a precision
 incorrections)
In-Reply-To: <048.36d5128ab639412bc87cd1a59a7cf4ed@osgeo.org>
References: <048.36d5128ab639412bc87cd1a59a7cf4ed@osgeo.org>
Message-ID: <063.5fa49bbd06f068b4ab6dbbb8eeec0793@osgeo.org>

#910: Difference operation resulted with a wrong geometry as a result of a
precision limitation
-------------------------------------------------+-------------------------
 Reporter:  yanivnavon                           |       Owner:  geos-
                                                 |  devel@…
     Type:  defect                               |      Status:  new
 Priority:  major                                |   Milestone:
Component:  Default                              |     Version:  3.6.2
 Severity:  Significant                          |  Resolution:
 Keywords:  polygon, geometry, geometries,       |
  difference, union, multipolygon                |
-------------------------------------------------+-------------------------

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/910#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug 13 04:20:14 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 13 Aug 2018 11:20:14 -0000
Subject: [geos-devel] [GEOS] #782: Collection with Empty components
	crashes overlay
In-Reply-To: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
References: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
Message-ID: <060.d16abbe81478958de37620857edc2298@osgeo.org>

#782: Collection with Empty components crashes overlay
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by Daniel Baston <dbaston@…>):

 * status:  reopened => closed
 * resolution:   => fixed


Comment:

 In [changeset:"ea7c7d80e70ed5719c3bf7a17df93f8053a0c744/git" ea7c7d8/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="ea7c7d80e70ed5719c3bf7a17df93f8053a0c744"
 Fix predicate crash with empty collection components

 Fixes #782
 Closes https://github.com/libgeos/geos/pull/114
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/782#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug 13 10:07:46 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 13 Aug 2018 17:07:46 -0000
Subject: [geos-devel] [GEOS] #912: bintree::Bintree API hides implementation
 and leads to SEGFAULT.
Message-ID: <048.6c3257da7647b4fe9e615dd239399d88@osgeo.org>

#912: bintree::Bintree API hides implementation and leads to SEGFAULT.
------------------------+--------------------------
 Reporter:  basiliscos  |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 Bintree::insert (Interval *itemInterval, void *item) states

 Parameters

 {{{
 itemInterval    Ownership left to caller, NO reference hold by this class.
     item        Ownership left to caller, reference kept by this class.
 }}}

 In implementation it leads to

 {{{
 root->insert(insertInterval,item);
 ...
 void NodeBase::add(void* item){
         items->push_back(item);
 }

 }}}

 and in the destructor of NodeBase

 {{{
 NodeBase::~NodeBase() {
         for(int i=0;i<(int)items->size();i++) {
                 delete (MonotoneChain*)(*items)[i];
         }
 }}}

 it, first, casts to '''MonotoneChain''' (i.e. it violates void* contract),
 and, second, it invokes destructor, i.e. opposite to what is stated in
 documentation about item ownership.

 Please, fix.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/912>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Aug 14 14:32:07 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 14 Aug 2018 21:32:07 -0000
Subject: [geos-devel] [GEOS] #913: mingw64 gcc 8.1 autotools
Message-ID: <042.f93377b20bba7adcd577097bf7a91ca3@osgeo.org>

#913: mingw64 gcc 8.1 autotools
------------------------+--------------------------
 Reporter:  robe        |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:  3.7.0
Component:  Default     |    Version:  master
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 So I upgraded my mingw64 to gcc 8.1 posix threads - seh

 I think I'm actually getting further with compile under autotools now.
 Before it would break on configure (so I gave up on autotools and switched
 to cmake).

 Now autotools seems to be getting further but failing here.

 I'll submit my issue with cmake in a separate ticket.
 {{{
 make[4]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/unit'
 make  check-TESTS
 make[4]: Entering directory '/projects/geos/geos-3.7.0beta2/tests/unit'
 make[5]: Entering directory '/projects/geos/geos-3.7.0beta2/tests/unit'
 PASS: geos_unit.exe
 ============================================================================
 Testsuite summary for
 ============================================================================
 # TOTAL: 1
 # PASS:  1
 # SKIP:  0
 # XFAIL: 0
 # FAIL:  0
 # XPASS: 0
 # ERROR: 0
 ============================================================================
 make[5]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/unit'
 make[4]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/unit'
 make[3]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/unit'
 Making check in perf
 make[3]: Entering directory '/projects/geos/geos-3.7.0beta2/tests/perf'
 Making check in operation
 make[4]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation'
 Making check in buffer
 make[5]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation/buffer'
 make[5]: Nothing to be done for 'check'.
 make[5]: Leaving directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation/buffer'
 Making check in predicate
 make[5]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation/predicate'
 make[5]: Nothing to be done for 'check'.
 make[5]: Leaving directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation/predicate'
 make[5]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation'
 make[5]: Nothing to be done for 'check-am'.
 make[5]: Leaving directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation'
 make[4]: Leaving directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/operation'
 Making check in capi
 make[4]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/capi'
 make  memleak_mp_prep.exe
 make[5]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/capi'
 x86_64-w64-mingw32-gcc -DHAVE_CONFIG_H -I. -I../../../include
 -I../../../include/geos  -I../../../capi -I../../../include  -Wsuggest-
 override -pedantic -Wall -Wno-long-long  -ffloat-store
 -DUSE_UNSTABLE_GEOS_CPP_API -g -O2 -MT memleak_mp_prep.o -MD -MP -MF
 .deps/memleak_mp_prep.Tpo -c -o memleak_mp_prep.o memleak_mp_prep.c
 cc1.exe: warning: command line option '-Wsuggest-override' is valid for
 C++/ObjC++ but not for C
 mv -f .deps/memleak_mp_prep.Tpo .deps/memleak_mp_prep.Po
 /bin/sh ../../../libtool  --tag=CC   --mode=link x86_64-w64-mingw32-gcc
 -Wsuggest-override -pedantic -Wall -Wno-long-long  -ffloat-store
 -DUSE_UNSTABLE_GEOS_CPP_API -g -O2   -o memleak_mp_prep.exe
 memleak_mp_prep.o ../../../capi/libgeos_c.la ../../../capi/libgeos_c.la
 libtool: link: x86_64-w64-mingw32-gcc -Wsuggest-override -pedantic -Wall
 -Wno-long-long -ffloat-store -DUSE_UNSTABLE_GEOS_CPP_API -g -O2 -o
 .libs/memleak_mp_prep.exe memleak_mp_prep.o
 ../../../capi/.libs/libgeos_c.dll.a
 /projects/geos/geos-3.7.0beta2/src/.libs/libgeos.dll.a
 -L/projects/geos/rel-3.7.0beta2w64gcc48/lib
 make[5]: Leaving directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/capi'
 make[4]: Leaving directory
 '/projects/geos/geos-3.7.0beta2/tests/perf/capi'
 make[4]: Entering directory '/projects/geos/geos-3.7.0beta2/tests/perf'
 make[4]: Nothing to be done for 'check-am'.
 make[4]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/perf'
 make[3]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/perf'
 Making check in geostest
 make[3]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/geostest'
 make  geostest.exe
 make[4]: Entering directory
 '/projects/geos/geos-3.7.0beta2/tests/geostest'
 x86_64-w64-mingw32-gcc -DHAVE_CONFIG_H -I. -I../../include
 -I../../include/geos  -I../../include -I../../tests/unit/tut -I../../capi
 -Wsuggest-override -pedantic -Wall -Wno-long-long  -ffloat-store
 -DUSE_UNSTABLE_GEOS_CPP_API -g -O2 -MT geostest.o -MD -MP -MF
 .deps/geostest.Tpo -c -o geostest.o geostest.c
 cc1.exe: warning: command line option '-Wsuggest-override' is valid for
 C++/ObjC++ but not for C
 mv -f .deps/geostest.Tpo .deps/geostest.Po
 /bin/sh ../../libtool  --tag=CC   --mode=link x86_64-w64-mingw32-gcc
 -Wsuggest-override -pedantic -Wall -Wno-long-long  -ffloat-store
 -DUSE_UNSTABLE_GEOS_CPP_API -g -O2   -o geostest.exe geostest.o
 ../../capi/libgeos_c.la -lstdc++
 libtool: link: x86_64-w64-mingw32-gcc -Wsuggest-override -pedantic -Wall
 -Wno-long-long -ffloat-store -DUSE_UNSTABLE_GEOS_CPP_API -g -O2 -o
 .libs/geostest.exe geostest.o  ../../capi/.libs/libgeos_c.dll.a
 /projects/geos/geos-3.7.0beta2/src/.libs/libgeos.dll.a -lstdc++
 -L/projects/geos/rel-3.7.0beta2w64gcc48/lib
 make[4]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/geostest'
 make[3]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/geostest'
 Making check in thread
 make[3]: Entering directory '/projects/geos/geos-3.7.0beta2/tests/thread'
 make  threadtest.exe badthreadtest.exe
 make[4]: Entering directory '/projects/geos/geos-3.7.0beta2/tests/thread'
 x86_64-w64-mingw32-gcc -DHAVE_CONFIG_H -I. -I../../include
 -I../../include/geos  -I../../include -I../../tests/unit/tut -I../../capi
 -Wsuggest-override -pedantic -Wall -Wno-long-long  -ffloat-store
 -DUSE_UNSTABLE_GEOS_CPP_API -g -O2 -MT threadtest.o -MD -MP -MF
 .deps/threadtest.Tpo -c -o threadtest.o threadtest.c
 cc1.exe: warning: command line option '-Wsuggest-override' is valid for
 C++/ObjC++ but not for C
 In file included from
 C:/ming64gcc48/mingw64/x86_64-w64-mingw32/include/unistd.h:10,
                  from threadtest.c:19:
 ../../include/geos/io.h:19:1: error: unknown type name 'namespace'
  namespace geos {
  ^~~~~~~~~
 ../../include/geos/io.h:19:16: error: expected '=', ',', ';', 'asm' or
 '__attribute__' before '{' token
  namespace geos {
                 ^
 In file included from ../../include/geos/io.h:48,
                  from
 C:/ming64gcc48/mingw64/x86_64-w64-mingw32/include/unistd.h:10,
                  from threadtest.c:19:
 ../../include/geos/io/ByteOrderDataInStream.h:30:10: fatal error: iosfwd:
 No such file or directory
  #include <iosfwd> // ostream, istream (if we remove inlines)
           ^~~~~~~~
 compilation terminated.
 Makefile:443: recipe for target 'threadtest.o' failed
 make[4]: *** [threadtest.o] Error 1
 make[4]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/thread'
 Makefile:555: recipe for target 'check-am' failed
 make[3]: *** [check-am] Error 2
 make[3]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests/thread'
 Makefile:429: recipe for target 'check-recursive' failed
 make[2]: *** [check-recursive] Error 1
 make[2]: Leaving directory '/projects/geos/geos-3.7.0beta2/tests'
 Makefile:480: recipe for target 'check-recursive' failed
 make[1]: *** [check-recursive] Error 1
 make[1]: Leaving directory '/projects/geos/geos-3.7.0beta2'
 Makefile:776: recipe for target 'check' failed
 make: *** [check] Error 2

 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/913>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 08:32:27 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 17 Aug 2018 15:32:27 -0000
Subject: [geos-devel] [GEOS] #591: Port robust determinant fixes from JTS
In-Reply-To: <042.7559778574929060635d7d74d6f775ff@osgeo.org>
References: <042.7559778574929060635d7d74d6f775ff@osgeo.org>
Message-ID: <057.9c61ede761ef2a6e52d97390dec31a39@osgeo.org>

#591: Port robust determinant fixes from JTS
------------------------+---------------------------
 Reporter:  strk        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.3.5
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.7.0 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/591#comment:16>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 08:34:19 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 17 Aug 2018 15:34:19 -0000
Subject: [geos-devel] [GEOS] #896: CAPI functions do not preserve SRID
In-Reply-To: <045.4728a28a8ba3b354fae21b88a9ecf392@osgeo.org>
References: <045.4728a28a8ba3b354fae21b88a9ecf392@osgeo.org>
Message-ID: <060.dce515d35423d634de0fb36599bd04d8@osgeo.org>

#896: CAPI functions do not preserve SRID
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.7.0 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/896#comment:12>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Fri Aug 17 10:56:00 2018
From: lr at pcorp.us (Regina Obe)
Date: Fri, 17 Aug 2018 13:56:00 -0400
Subject: [geos-devel] GEOS 3.7.0 rc1 coming soon
Message-ID: <000c01d43653$8f8dd710$aea98530$@pcorp.us>

Planning to release GEOS 3.7.0rc1 this weekend or early next.

Speak now if you have issues.  Only things left are below

https://trac.osgeo.org/geos/query?status=assigned&status=new&status=reopened
&milestone=3.7.0

Which I think are issues in older versions, so will push to 3.7.1 if we
don't get resolved soon.


Thanks,
Regina


From geos-trac at osgeo.org  Fri Aug 17 17:51:31 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 00:51:31 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
Message-ID: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+-----------------------------
 Reporter:  robe                   |      Owner:  geos-devel@…
     Type:  defect                 |     Status:  new
 Priority:  major                  |  Milestone:  3.7.0
Component:  Build/Install (cmake)  |    Version:  master
 Severity:  Significant            |   Keywords:  mingw64 gcc 8.1
-----------------------------------+-----------------------------
 CMAke compile no longer works after I upgraded my gcc from 4.8.3 to 8.1,
 though now the autoconf way at least compiles


 {{{
 Your branch is up to date with 'origin/master'.
 -- The C compiler identification is GNU 8.1.0
 -- The CXX compiler identification is GNU 8.1.0
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe --
 works
 -- Detecting C compiler ABI info
 -- Detecting C compiler ABI info - done
 -- Detecting C compile features
 -- Detecting C compile features - done
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe --
 works
 -- Detecting CXX compiler ABI info
 -- Detecting CXX compiler ABI info - done
 -- Detecting CXX compile features
 -- Detecting CXX compile features - done
 -- Setting C++ requirement to C++11
 -- Setting GEOS version 3.7.0dev as port of JTS 1.13.0
 -- Setting GEOS C API version 1.11.0
 -- Setting GEOS build type - Debug
 -- Forcing IEEE 754 using flag -ffloat-store - ON
 -- Setting GEOS compilation with small functions inlining - NO
 -- Setting GEOS compilation with assert() macro enabled - OFF
 -- Looking for include file stdint.h
 -- Looking for include file stdint.h - found
 -- Looking for include file inttypes.h
 -- Looking for include file inttypes.h - found
 -- Looking for include file ieeefp.h
 -- Looking for include file ieeefp.h - found
 -- Looking for sys/types.h
 -- Looking for sys/types.h - found
 -- Looking for stddef.h
 -- Looking for stddef.h - found
 -- Check size of int64_t
 -- Check size of int64_t - done
 -- Performing Test HAVE_STD_ISFINITE
 -- Performing Test HAVE_STD_ISFINITE - Failed
 -- Looking for isfinite
 -- Looking for isfinite - not found
 -- Found Git: C:/ming64gcc81/msys/usr/bin/git.exe (found version "2.17.1")
 -- Generating GEOS
 C:/ming64gcc81/projects/geos/branches/build/geos_revision.h
 -- Generating GEOS
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h
 -- Generating GEOS
 C:/ming64gcc81/projects/geos/branches/build/include/geos/version.h
 -- Generating GEOS
 C:/ming64gcc81/projects/geos/branches/build/capi/geos_c.h
 -- Enable GEOS unit tests build - ON
 -- Enable GEOS XML tests build - ON
 -- Enable GEOS large geometry tests build - ON
 -- Enable GEOS performance tests build - ON
 -- CMake 3.7.2 successfully configured GEOS using MSYS Makefiles generator
 -- Configuring done
 -- Generating done
 CMake Warning:
   Manually-specified variables were not used by the project:

     HAVE_LONG_LONG_INT_64


 -- Build files have been written to:
 C:/ming64gcc81/projects/geos/branches/build
 Scanning dependencies of target geos
 [  0%] Building CXX object src/CMakeFiles/geos.dir/algorithm/Angle.cpp.obj
 [  0%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/BoundaryNodeRule.cpp.obj
 [  0%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/CGAlgorithms.cpp.obj
 [  0%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/Centroid.cpp.obj
 [  0%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/CentroidArea.cpp.obj
 [  0%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/CentroidLine.cpp.obj
 [  0%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/CentroidPoint.cpp.obj
 [  1%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/ConvexHull.cpp.obj
 [  1%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/HCoordinate.cpp.obj
 In file included from
 C:/ming64gcc81/projects/geos/branches/master/include/geos/geom/Coordinate.h:19,
                  from
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:23:
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:
 In static member function 'static void
 geos::algorithm::HCoordinate::intersection(const geos::geom::Coordinate&,
 const geos::geom::Coordinate&, const geos::geom::Coordinate&, const
 geos::geom::Coordinate&, geos::geom::Coordinate&)':
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h:70:23:
 error: 'finite' was not declared in this scope
  #    define FINITE(x) finite(x)
                        ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:74:9:
 note: in expansion of macro 'FINITE'
   if ( (!FINITE(xInt)) || (!FINITE(yInt)) )
          ^~~~~~
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h:70:23:
 note: suggested alternative: 'finitef'
  #    define FINITE(x) finite(x)
                        ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:74:9:
 note: in expansion of macro 'FINITE'
   if ( (!FINITE(xInt)) || (!FINITE(yInt)) )
          ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:
 In member function 'double geos::algorithm::HCoordinate::getX() const':
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h:70:23:
 error: 'finite' was not declared in this scope
  #    define FINITE(x) finite(x)
                        ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:151:8:
 note: in expansion of macro 'FINITE'
   if ( !FINITE(a) ) {
         ^~~~~~
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h:70:23:
 note: suggested alternative: 'finitef'
  #    define FINITE(x) finite(x)
                        ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:151:8:
 note: in expansion of macro 'FINITE'
   if ( !FINITE(a) ) {
         ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:
 In member function 'double geos::algorithm::HCoordinate::getY() const':
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h:70:23:
 error: 'finite' was not declared in this scope
  #    define FINITE(x) finite(x)
                        ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:162:8:
 note: in expansion of macro 'FINITE'
   if ( !FINITE(a) ) {
         ^~~~~~
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h:70:23:
 note: suggested alternative: 'finitef'
  #    define FINITE(x) finite(x)
                        ^~~~~~
 C:/ming64gcc81/projects/geos/branches/master/src/algorithm/HCoordinate.cpp:162:8:
 note: in expansion of macro 'FINITE'
   if ( !FINITE(a) ) {
         ^~~~~~
 make[2]: *** [src/CMakeFiles/geos.dir/build.make:264:
 src/CMakeFiles/geos.dir/algorithm/HCoordinate.cpp.obj] Error 1
 make[1]: *** [CMakeFiles/Makefile2:202: src/CMakeFiles/geos.dir/all] Error
 2
 make: *** [Makefile:139: all] Error 2


 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 18:01:45 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 01:01:45 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.80e9c325f5fb4a99be846988384dabdd@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by robe):

 Hmm but compiles on the svn-3.6 branch and all tests pass so must be
 something we changed in 3.7


 {{{
 Checking out files: 100% (895/895), done.
 Switched to branch 'svn-3.6'
 Your branch is up to date with 'origin/svn-3.6'.
 -- The C compiler identification is GNU 8.1.0
 -- The CXX compiler identification is GNU 8.1.0
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe
 -- Check for working C compiler: C:/ming64gcc81/mingw64/bin/gcc.exe --
 works
 -- Detecting C compiler ABI info
 -- Detecting C compiler ABI info - done
 -- Detecting C compile features
 -- Detecting C compile features - done
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe
 -- Check for working CXX compiler: C:/ming64gcc81/mingw64/bin/g++.exe --
 works
 -- Detecting CXX compiler ABI info
 -- Detecting CXX compiler ABI info - done
 -- Detecting CXX compile features
 -- Detecting CXX compile features - done
 -- Setting GEOS version 3.6.4dev as port of JTS 1.13.0
 -- Setting GEOS C API version 1.10.4
 -- Setting GEOS build type - Debug
 -- Forcing IEEE 754 using flag -ffloat-store - ON
 -- Setting GEOS compilation with small functions inlining - NO
 -- Setting GEOS compilation with assert() macro enabled - OFF
 -- Looking for include file stdint.h
 -- Looking for include file stdint.h - found
 -- Looking for include file inttypes.h
 -- Looking for include file inttypes.h - found
 -- Looking for include file ieeefp.h
 -- Looking for include file ieeefp.h - found
 -- Looking for sys/types.h
 -- Looking for sys/types.h - found
 -- Looking for stddef.h
 -- Looking for stddef.h - found
 -- Check size of int64_t
 -- Check size of int64_t - done
 -- Performing Test HAVE_STD_ISFINITE
 -- Performing Test HAVE_STD_ISFINITE - Failed
 -- Looking for isfinite
 -- Looking for isfinite - found
 -- Generating GEOS
 C:/ming64gcc81/projects/geos/branches/build/include/geos/platform.h
 -- Generating GEOS
 C:/ming64gcc81/projects/geos/branches/build/include/geos/version.h
 -- Generating GEOS
 C:/ming64gcc81/projects/geos/branches/build/capi/geos_c.h
 -- Enable GEOS Unit Tests build - ON
 -- Enable GEOS XML Tester build - ON
 -- Enable GEOS large geometry tests build - ON
 -- CMake 3.7.2 successfully configured GEOS using MSYS Makefiles generator
 -- Configuring done
 -- Generating done
 -- Build files have been written to:
 C:/ming64gcc81/projects/geos/branches/build

 :
 :
 Scanning dependencies of target bug234
 [100%] Building CXX object
 tests/bigtest/CMakeFiles/bug234.dir/bug234.cpp.obj
 [100%] Linking CXX executable ../../bin/bug234.exe
 [100%] Built target bug234
 Scanning dependencies of target TestSweepLineSpeed
 [100%] Building CXX object
 tests/bigtest/CMakeFiles/TestSweepLineSpeed.dir/TestSweepLineSpeed.cpp.obj
 [100%] Building CXX object
 tests/bigtest/CMakeFiles/TestSweepLineSpeed.dir/GeometryTestFactory.cpp.obj
 [100%] Linking CXX executable ../../bin/TestSweepLineSpeed.exe
 [100%] Built target TestSweepLineSpeed



 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 18:04:03 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 01:04:03 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.3d6b65cf97ddeedfa457f66807079941@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by robe):

 first difference I see is in 3.7, it can't detect my isfinite function but
 in 3.6 it can.

 Other difference is in 3.7 we must have taken out this switch


 {{{
  CMake Warning:
   Manually-specified variables were not used by the project:

     HAVE_LONG_LONG_INT_64
 }}}

 cause I get the warning on 3.7 but not 3.6

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 18:35:24 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 01:35:24 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.e50c47b579bf91f3e3444a0555040d1f@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by cvvergara):

 I dont have problems
 {{{
  cmake ..
 -- The C compiler identification is GNU 8.1.0
 -- The CXX compiler identification is GNU 8.1.0
 -- Check for working C compiler: /usr/bin/cc
 -- Check for working C compiler: /usr/bin/cc -- works
 -- Detecting C compiler ABI info
 -- Detecting C compiler ABI info - done
 -- Detecting C compile features
 -- Detecting C compile features - done
 -- Check for working CXX compiler: /usr/bin/c++
 -- Check for working CXX compiler: /usr/bin/c++ -- works
 -- Detecting CXX compiler ABI info
 -- Detecting CXX compiler ABI info - done
 -- Detecting CXX compile features
 -- Detecting CXX compile features - done
 -- Setting C++ requirement to C++11
 -- Setting GEOS version 3.7.0dev as port of JTS 1.13.0
 -- Setting GEOS C API version 1.11.0
 -- Setting GEOS C API soversion 1
 -- Setting GEOS build type - Debug
 -- Forcing IEEE 754 using flag -ffloat-store - ON
 -- Setting GEOS compilation with small functions inlining - ON
 -- Setting GEOS compilation with assert() macro enabled - OFF
 -- Looking for include file stdint.h
 -- Looking for include file stdint.h - found
 -- Looking for include file inttypes.h
 -- Looking for include file inttypes.h - found
 -- Looking for include file ieeefp.h
 -- Looking for include file ieeefp.h - not found
 -- Looking for sys/types.h
 -- Looking for sys/types.h - found
 -- Looking for stddef.h
 -- Looking for stddef.h - found
 -- Check size of int64_t
 -- Check size of int64_t - done
 -- Performing Test HAVE_STD_ISNAN
 -- Performing Test HAVE_STD_ISNAN - Failed
 -- Looking for isnan
 -- Looking for isnan - found
 -- Performing Test HAVE_STD_ISFINITE
 -- Performing Test HAVE_STD_ISFINITE - Failed
 -- Looking for isfinite
 -- Looking for isfinite - found
 -- Found Git: /usr/bin/git (found version "2.7.4")
 -- Generating GEOS /home/vicky/potree/geos/vicky/build/geos_revision.h
 -- Generating GEOS
 /home/vicky/potree/geos/vicky/build/include/geos/platform.h
 -- Generating GEOS
 /home/vicky/potree/geos/vicky/build/include/geos/version.h
 -- Generating GEOS /home/vicky/potree/geos/vicky/build/capi/geos_c.h
 -- Enable GEOS unit tests build - ON
 -- Enable GEOS XML tests build - ON
 -- Enable GEOS large geometry tests build - ON
 -- Enable GEOS performance tests build - ON
 -- CMake 3.5.1 successfully configured GEOS using Unix Makefiles generator
 -- Configuring done
 -- Generating done
 -- Build files have been written to:

 ....
 [ 42%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/HCoordinate.cpp.o
 [ 42%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/LineIntersector.cpp.o
 [ 42%] Building CXX object src/CMakeFiles/geos-
 static.dir/algorithm/HCoordinate.cpp.o
 [ 42%] Building CXX object
 src/CMakeFiles/geos.dir/algorithm/RobustDeterminant.cpp.o
 [ 42%] Building CXX object src/CMakeFiles/geos-
 static.dir/algorithm/LineIntersector.cpp.o
 [ 42%] Building CXX object
 src/CMakeFiles/geos.dir/simplify/TopologyPreservingSimplifier.cpp.o

 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 19:10:07 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 02:10:07 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.99318c7e1eb6465f9c80bf90a6e9e87d@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by robe):

 Weird - well on winnie I see the same:


 {{{
  CMake Warning:
   Manually-specified variables were not used by the project:

     HAVE_LONG_LONG_INT_64

 -- Looking for isfinite - not found
 }}}

 But she compiles fine.

 If I take out the

 https://git.osgeo.org/gitea/geos/geos/src/branch/master/CMakeLists.txt#L34


 {{{
 set(CMAKE_CXX_STANDARD 11)
 set(CMAKE_CXX_STANDARD_REQUIRED ON)

 }}}

 gcc 8.1 mingw64 compiles and make checks fine.  Not sure why those lines
 are making it go crazy.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 19:14:56 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 02:14:56 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.b81eabd15723ef9067577d7beba3497c@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by cvvergara):

 Maybe because on C++11 cmath is standard, and then checking for isfinite
 on cmath is useless.

 Since C++11, isfinite shoud exist when using `include <cmath>`:

 https://en.cppreference.com/w/cpp/numeric/math/isfinite

 same applies to isnan

 https://en.cppreference.com/w/cpp/numeric/math/isnan

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 19:16:01 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 02:16:01 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.4b7f30e3c463e9b0367d9c25b23b85e3@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by cvvergara):

 Forgot to mention that on C++11 and
 CheckPrototypeExists.cmake
 does not work for templates

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 19:25:07 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 02:25:07 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.119dfdb2351d2ab6ab6ef120b7e7288d@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by robe):

 how come your

 {{{
 -- Looking for isfinite - found
 }}}

 works then or is it picking up the one in cmath.
 Also is <cmath> and math.h the same thing.

 Looks like we have:


 {{{
 check_symbol_exists(isfinite math.h HAVE_ISFINITE)
 }}}

 is that the way you check for cmath?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 19:29:47 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 02:29:47 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.27a8e1261cc8c64f22dab5f6adaacccf@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by cvvergara):

 I have a master slave relationship between gcc and g++
 Maybe gcc version 8 is not installed

 this is the script I use when I change linux version

 {{{
 sudo apt-get update && \
     sudo apt-get install build-essential software-properties-common -y &&
 \
     sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y && \
     sudo apt-get update && \
     sudo apt-get install gcc-snapshot -y

 sudo apt-get update && \
     sudo apt-get install gcc-4.8 g++-4.8 -y && \
     sudo apt-get install gcc-4.9 g++-4.9 -y && \
     sudo apt-get install gcc-5 g++-5 -y && \
     sudo apt-get install gcc-6 g++-6 -y && \
     sudo apt-get install gcc-7 g++-7 -y && \
     sudo apt-get install gcc-8 g++-8 -y

 sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8
 60 --slave /usr/bin/g++ g++ /usr/bin/g++-4.8 && \
     sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9
 60 --slave /usr/bin/g++ g++ /usr/bin/g++-4.9 && \
     sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5
 60 --slave /usr/bin/g++ g++ /usr/bin/g++-5 && \
     sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-6
 60 --slave /usr/bin/g++ g++ /usr/bin/g++-6 && \
     sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7
 60 --slave /usr/bin/g++ g++ /usr/bin/g++-7 && \
     sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-8
 60 --slave /usr/bin/g++ g++ /usr/bin/g++-8;
 }}}

 {{{
 sudo update-alternatives --config gcc

 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 19:53:31 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 02:53:31 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.f48c0fa5d359f0279fa865485bd4ce9c@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"195dba53b722ed250715f7690c6cafc69627e311/git" 195dba5/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="195dba53b722ed250715f7690c6cafc69627e311"
 Take out the C++11 enforcement causing issue with finite - see #914. Also
 take out dev from pathc, its already in there
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:9>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 20:42:44 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 03:42:44 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.70435deb05bcf5c4648f375b5ed8932e@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------

Comment (by robe):

 I tried vicky's patch

 https://git.osgeo.org/gitea/cvvergara/geos/commit/d2bc840dc20067cdf7cc2a7ef4c6cfb036b79548

 and that works too (and with keeping c+11 enforced).

 I'd rather not enforce until 3.8 which is when we had originally planned
 to enforce c+11.

 Though we may have code that requires it already I guess since I haven't
 tested on gcc 4.7.

 K'm going to close this out for now since issue is solved by 195dba5/git

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:10>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Aug 17 20:43:43 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 18 Aug 2018 03:43:43 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.0fa93fb53aaad78ce1b357825e926985@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  closed
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:  fixed
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------
Changes (by robe):

 * status:  new => closed
 * resolution:   => fixed


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:11>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug 18 20:32:37 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 19 Aug 2018 03:32:37 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.e0a8f6281a6df0b1feec439a2aea4ac8@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  reopened
 Priority:  major                  |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------
Changes (by robe):

 * status:  closed => reopened
 * resolution:  fixed =>


Comment:

 unfortunately taking out the require c11 breaks travis and winnie, so I'll
 change to go with vicky's solution as it seems we really do require c11
 now.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:12>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug 18 21:25:49 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 19 Aug 2018 04:25:49 -0000
Subject: [geos-devel] [GEOS] #782: Collection with Empty components
	crashes overlay
In-Reply-To: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
References: <045.f4ed489a5efbcc53c8034a2c58968abf@osgeo.org>
Message-ID: <060.8e307837a731ec2036c1d093417dd30b@osgeo.org>

#782: Collection with Empty components crashes overlay
------------------------+---------------------------
 Reporter:  pramsey     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.8.0 => 3.7.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/782#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug 18 21:34:12 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 19 Aug 2018 04:34:12 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.28ccf03dab1678f146eb2e49f6c15908@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  reopened
 Priority:  major                  |   Milestone:  3.8.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------
Changes (by robe):

 * milestone:  3.7.0 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:13>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug 18 21:34:30 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 19 Aug 2018 04:34:30 -0000
Subject: [geos-devel] [GEOS] #913: mingw64 gcc 8.1 autotools
In-Reply-To: <042.f93377b20bba7adcd577097bf7a91ca3@osgeo.org>
References: <042.f93377b20bba7adcd577097bf7a91ca3@osgeo.org>
Message-ID: <057.50750e5f2f736bfcf24709ca5b15b673@osgeo.org>

#913: mingw64 gcc 8.1 autotools
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.8.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.7.0 => 3.8.0


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/913#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Aug 18 21:54:20 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 19 Aug 2018 04:54:20 -0000
Subject: [geos-devel] [GEOS] #859: Voronoi issue
In-Reply-To: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
References: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
Message-ID: <060.24f4f4eb915f6471d57a7159abf9edda@osgeo.org>

#859: Voronoi issue
------------------------+---------------------------
 Reporter:  jjgreen     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.5.1
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by robe):

 * milestone:  3.7.0 => 3.6.4


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/859#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Aug 19 05:00:32 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 19 Aug 2018 12:00:32 -0000
Subject: [geos-devel] [GEOS] #914: cmake compile under mingw64 gcc 8.1
In-Reply-To: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
References: <042.521e16ad84eed67e353280ce46d1d9cc@osgeo.org>
Message-ID: <057.0b95e78c736d188770f72548850b9ac7@osgeo.org>

#914: cmake compile under mingw64 gcc 8.1
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  closed
 Priority:  major                  |   Milestone:  3.8.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Significant            |  Resolution:  fixed
 Keywords:  mingw64 gcc 8.1        |
-----------------------------------+---------------------------
Changes (by Regina Obe <lr@…>):

 * status:  reopened => closed
 * resolution:   => fixed


Comment:

 In [changeset:"9ed254c129428b12228fcb9e09f9bd87cf0f3b29/git" 9ed254c/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="9ed254c129428b12228fcb9e09f9bd87cf0f3b29"
 Apply Vicky's remove unnecessary cmake stuff no longer needed for c+11
 Closes #914 for GEOS 3.8
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/914#comment:14>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Sun Aug 19 07:08:55 2018
From: lr at pcorp.us (Regina Obe)
Date: Sun, 19 Aug 2018 10:08:55 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
Message-ID: <000e01d437c6$2ac25c60$80471520$@pcorp.us>

The GEOS development team is pleased to release the 3.7.0beta2 version.

https://download.osgeo.org/geos/geos-3.7.0rc1.tar.bz2

Change Log: https://trac.osgeo.org/geos/browser/git/NEWS?rev=3.7.0rc1

Please test and report any issues.

NOTE: our git master branch has been flipped to start GEOS 3.8 development 
            a new branch  3.7 now exists for future updates to 3.7 branch.

Primary repo: https://git.osgeo.org/gitea/geos/geos
GitLab Mirror: https://gitlab.com/geos/libgeos
GitHub Mirror: https://github.com/libgeos/geos

Thanks,
GEOS Development Team



From gdt at lexort.com  Mon Aug 20 11:57:10 2018
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 20 Aug 2018 14:57:10 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <000e01d437c6$2ac25c60$80471520$@pcorp.us> (Regina Obe's message
 of "Sun, 19 Aug 2018 10:08:55 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
Message-ID: <smupnycrhmh.fsf@linuxpal.mit.edu>


"Regina Obe" <lr at pcorp.us> writes:

> https://download.osgeo.org/geos/geos-3.7.0rc1.tar.bz2

Updating the pkgsrc entry, I notice:

+include/geos/algorithm/distance/DiscreteFrechetDistance.h
-include/geos/geom/GeometryList.h
+include/geos/operation/distance/IndexedFacetDistance.h

which is an API change, but looking in NEWS, these are not mentioned.

The .h changes aside, it builds fine on NetBSD/7 amd64 (gcc 4.8), and
passes its own tests.

However, the C++ library seems messed up and I haven't looked into why
yet (will do, but wanted to caution others to look).


libs before:

-rwxr-xr-x  1 root  wheel  20427339 Aug 20 08:06 /usr/pkg/lib/libgeos-3.6.2.so
-lrwxr-xr-x  1 root  wheel        19 Aug 20 08:06 /usr/pkg/lib/libgeos_c.so -> libgeos_c.so.1.10.2
-lrwxr-xr-x  1 root  wheel        19 Aug 20 08:06 /usr/pkg/lib/libgeos_c.so.1 -> libgeos_c.so.1.10.2
--rwxr-xr-x  1 root  wheel   1228435 Aug 20 08:06 /usr/pkg/lib/libgeos_c.so.1.10.2

libs after

-rwxr-xr-x  1 root  wheel  24765613 Aug 20 14:51 /usr/pkg/lib/libgeos--no-undefined.so
lrwxr-xr-x  1 root  wheel        19 Aug 20 14:51 /usr/pkg/lib/libgeos_c.so -> libgeos_c.so.1.11.0
lrwxr-xr-x  1 root  wheel        19 Aug 20 14:51 /usr/pkg/lib/libgeos_c.so.1 -> libgeos_c.so.1.11.0
-rwxr-xr-x  1 root  wheel   1520154 Aug 20 14:51 /usr/pkg/lib/libgeos_c.so.1.11.0
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180820/6a5323ff/attachment.sig>

From gdt at lexort.com  Mon Aug 20 12:47:35 2018
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 20 Aug 2018 15:47:35 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smupnycrhmh.fsf@linuxpal.mit.edu> (Greg Troxel's message of
 "Mon, 20 Aug 2018 14:57:10 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
Message-ID: <smuo9dwq0q0.fsf@linuxpal.mit.edu>


Greg Troxel <gdt at lexort.com> writes:

> However, the C++ library seems messed up and I haven't looked into why
> yet (will do, but wanted to caution others to look).
>
>
> libs before:
>
> -rwxr-xr-x  1 root  wheel  20427339 Aug 20 08:06 /usr/pkg/lib/libgeos-3.6.2.so
> -lrwxr-xr-x  1 root  wheel        19 Aug 20 08:06 /usr/pkg/lib/libgeos_c.so -> libgeos_c.so.1.10.2
> -lrwxr-xr-x  1 root  wheel        19 Aug 20 08:06 /usr/pkg/lib/libgeos_c.so.1 -> libgeos_c.so.1.10.2
> --rwxr-xr-x  1 root  wheel   1228435 Aug 20 08:06 /usr/pkg/lib/libgeos_c.so.1.10.2
>
> libs after
>
> -rwxr-xr-x  1 root  wheel  24765613 Aug 20 14:51 /usr/pkg/lib/libgeos--no-undefined.so
> lrwxr-xr-x  1 root  wheel        19 Aug 20 14:51 /usr/pkg/lib/libgeos_c.so -> libgeos_c.so.1.11.0
> lrwxr-xr-x  1 root  wheel        19 Aug 20 14:51 /usr/pkg/lib/libgeos_c.so.1 -> libgeos_c.so.1.11.0
> -rwxr-xr-x  1 root  wheel   1520154 Aug 20 14:51 /usr/pkg/lib/libgeos_c.so.1.11.0

The problem is the new use of sed instead of major/minor/patch.  The sed
expression throws an error with NetBSD's sed, and gives an answer that
seems wrong with gsed.  The use of extra [] just inside the () doesn't
seem right.

Perhaps there should be instead of patch, patch and rc variables, with
rc being empty in releases, so that the old way can work.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180820/536a1428/attachment.sig>

From lr at pcorp.us  Mon Aug 20 13:30:35 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 20 Aug 2018 16:30:35 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smuo9dwq0q0.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>	<smupnycrhmh.fsf@linuxpal.mit.edu>
 <smuo9dwq0q0.fsf@linuxpal.mit.edu>
Message-ID: <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>

> Greg Troxel <gdt at lexort.com> writes:
> 
> > However, the C++ library seems messed up and I haven't looked into why
> > yet (will do, but wanted to caution others to look).
> >
> >
> > libs before:
> >
> > -rwxr-xr-x  1 root  wheel  20427339 Aug 20 08:06 /usr/pkg/lib/libgeos-
> 3.6.2.so
> > -lrwxr-xr-x  1 root  wheel        19 Aug 20 08:06
/usr/pkg/lib/libgeos_c.so ->
> libgeos_c.so.1.10.2
> > -lrwxr-xr-x  1 root  wheel        19 Aug 20 08:06
/usr/pkg/lib/libgeos_c.so.1 ->
> libgeos_c.so.1.10.2
> > --rwxr-xr-x  1 root  wheel   1228435 Aug 20 08:06
> /usr/pkg/lib/libgeos_c.so.1.10.2
> >
> > libs after
> >
> > -rwxr-xr-x  1 root  wheel  24765613 Aug 20 14:51
/usr/pkg/lib/libgeos--no-
> undefined.so
> > lrwxr-xr-x  1 root  wheel        19 Aug 20 14:51
/usr/pkg/lib/libgeos_c.so ->
> libgeos_c.so.1.11.0
> > lrwxr-xr-x  1 root  wheel        19 Aug 20 14:51
/usr/pkg/lib/libgeos_c.so.1 ->
> libgeos_c.so.1.11.0
> > -rwxr-xr-x  1 root  wheel   1520154 Aug 20 14:51
> /usr/pkg/lib/libgeos_c.so.1.11.0
> 
> The problem is the new use of sed instead of major/minor/patch.  The sed
> expression throws an error with NetBSD's sed, and gives an answer that
> seems wrong with gsed.  The use of extra [] just inside the () doesn't
seem
> right.
> 
> Perhaps there should be instead of patch, patch and rc variables, with rc
> being empty in releases, so that the old way can work.
[Regina Obe] 

It's sad sed doesn't work the same everywhere. I thought there was a sed gnu
that works equally well on all platforms no as it's used a lot in PostGIS
too, though maybe we got rid of most of the use of it.

That said, do like the idea of separating out the rc/dev/beta thing, and
calling it something like PATCH_DEV

Let me think about how much trouble this would be to do.  Sounds like it
would be the least invasive.

On a more annoying note I think I've got like 3 or 4 places to mess with
though I guess we can focus on just changing the configure one and leave the
CMAKE and MSVC ones alone since those are hard-coded too.

Boy would I love to get rid of redundancy here, something to think about for
GESO 3.8.

Thanks,
Regina




From gdt at lexort.com  Mon Aug 20 13:39:29 2018
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 20 Aug 2018 20:39:29 +0000
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
Message-ID: <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>

I believe there is a POSIX spec for sed.  So the right thing in sed use is to depend on only what POSIX requires.  Which could be avoiding sed :-)

I can see if I can fix the regexp ; what it's doing isn't that complicated.

Can you explain the extra []?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180820/686f5222/attachment.html>

From lr at pcorp.us  Mon Aug 20 13:44:43 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 20 Aug 2018 16:44:43 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
 <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
Message-ID: <003101d438c6$a09b2830$e1d17890$@pcorp.us>

I asked Sebastian the same thing.  He said it's needed in configure script to escape the [] as I recall.

 

From: Greg Troxel [mailto:gdt at lexort.com] 
Sent: Monday, August 20, 2018 4:39 PM
To: Regina Obe <lr at pcorp.us>
Cc: 'GEOS Development List' <geos-devel at lists.osgeo.org>
Subject: RE: [geos-devel] GEOS 3.7.0rc1 release

 

I believe there is a POSIX spec for sed. So the right thing in sed use is to depend on only what POSIX requires. Which could be avoiding sed :-)

I can see if I can fix the regexp ; what it's doing isn't that complicated.

Can you explain the extra []?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180820/45d56e87/attachment.html>

From lr at pcorp.us  Mon Aug 20 13:48:31 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 20 Aug 2018 16:48:31 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smupnycrhmh.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
Message-ID: <003801d438c7$2854f210$78fed630$@pcorp.us>

> From: Greg Troxel [mailto:gdt at lexort.com]
> Updating the pkgsrc entry, I notice:
> 
> +include/geos/algorithm/distance/DiscreteFrechetDistance.h
> -include/geos/geom/GeometryList.h
> +include/geos/operation/distance/IndexedFacetDistance.h
> 
> which is an API change, but looking in NEWS, these are not mentioned.
> 
[Regina Obe] 
I think it's for Frechet distance and was an early on change for 3.7 that
way down in the news in the "What's new in 3.7" so will be in final release
notes.
Though those should have been there for some time.  Are you just seeing them
now or did you not try out any of the betas?


From gdt at lexort.com  Mon Aug 20 16:25:13 2018
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 20 Aug 2018 19:25:13 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <003101d438c6$a09b2830$e1d17890$@pcorp.us> (Regina Obe's message
 of "Mon, 20 Aug 2018 16:44:43 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
 <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
 <003101d438c6$a09b2830$e1d17890$@pcorp.us>
Message-ID: <smuy3d0oc2u.fsf@linuxpal.mit.edu>


"Regina Obe" <lr at pcorp.us> writes:

> I asked Sebastian the same thing.  He said it's needed in configure
> script to escape the [] as I recall.

Of course :-) I was looking back and forth in so many rules I forgot
which it was.

But, I figured out what was wrong.  This is the version from configure
(so no extra [ - don't paste it in...).    The key thing is to add ()
around .* before the ?, because

  .*?

is malformed.   It's the .* production that the ? applies to (present or
not).

  VERSION_RELEASE=`echo "$VERSION" | sed -E 's/^([0-9]+\.[0-9]+\.[0-9]+)(.*)?$/\1/'`

GNU sed may be allowing this as an extension, because "*?" doesn't make
sense, since * is repetition.

Actually, the whole ? is redundant and can be just dropped, because

  (.*)?

matches zero or more occurrences fo any character, and also the empty
string.  But .* matches the empty string anyway.  So while I can see the
point that it leads the reader to think "either some arbitrary string or
the empty string", it's just more complicated for no good reason.

So just drop the ? after the .*

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180820/db378d98/attachment.sig>

From gdt at lexort.com  Mon Aug 20 16:29:23 2018
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 20 Aug 2018 19:29:23 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <003801d438c7$2854f210$78fed630$@pcorp.us> (Regina Obe's message
 of "Mon, 20 Aug 2018 16:48:31 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <003801d438c7$2854f210$78fed630$@pcorp.us>
Message-ID: <smupnycobvw.fsf@linuxpal.mit.edu>


"Regina Obe" <lr at pcorp.us> writes:

>> From: Greg Troxel [mailto:gdt at lexort.com]
>> Updating the pkgsrc entry, I notice:
>> 
>> +include/geos/algorithm/distance/DiscreteFrechetDistance.h
>> -include/geos/geom/GeometryList.h
>> +include/geos/operation/distance/IndexedFacetDistance.h
>> 
>> which is an API change, but looking in NEWS, these are not mentioned.
>> 

> I think it's for Frechet distance and was an early on change for 3.7 that
> way down in the news in the "What's new in 3.7" so will be in final release
> notes.
> Though those should have been there for some time.  Are you just seeing them
> now or did you not try out any of the betas?

I have not tried to test-package geos recently.  pkgsrc is at 3.6.2, and
this was my first foray into 3.7 land.

I see the CAPI change for frechet now.  For new .h, I wouldn't have commented.
But what about GeometryList.h?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180820/28461709/attachment-0001.sig>

From lr at pcorp.us  Mon Aug 20 21:03:02 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 21 Aug 2018 00:03:02 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smupnycobvw.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>	<smupnycrhmh.fsf@linuxpal.mit.edu>	<003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu>
Message-ID: <000201d43903$dbdbd790$939386b0$@pcorp.us>

> From: Greg Troxel [mailto:gdt at lexort.com]
> I have not tried to test-package geos recently.  pkgsrc is at 3.6.2, and
this was
> my first foray into 3.7 land.
> 
> I see the CAPI change for frechet now.  For new .h, I wouldn't have
> commented.
> But what about GeometryList.h?
[Regina Obe] 
According to the git logs, Mat removed it cause it's not used and is
deprecated in C++11

commit 441dc93f8cd23dcdf204143d524e426f4ccb8bc3
Author: Mateusz Loskot <mateusz at loskot.net>
Date:   Thu Sep 7 10:25:58 2017 +0200

    Remove GeometryList class

    It is completely unused in GEOS and becomes deprecated in C++11.
    Use std::vector<Geometry::Ptr> instead.


So I think that fits under our NEWS item 

  - Use C++11 unique_ptr, nullptr, and override constructs
    (Mateusz Loskot)




From lr at pcorp.us  Mon Aug 20 21:14:36 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 21 Aug 2018 00:14:36 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smuy3d0oc2u.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>	<smupnycrhmh.fsf@linuxpal.mit.edu>
 <smuo9dwq0q0.fsf@linuxpal.mit.edu>	<002a01d438c4$a6af7890$f40e69b0$@pcorp.us>	<CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>	<003101d438c6$a09b2830$e1d17890$@pcorp.us>
 <smuy3d0oc2u.fsf@linuxpal.mit.edu>
Message-ID: <000701d43905$79b3e740$6d1bb5c0$@pcorp.us>

> From: Greg Troxel [mailto:gdt at lexort.com]
> 
>   VERSION_RELEASE=`echo "$VERSION" | sed -E 's/^([0-9]+\.[0-9]+\.[0-
> 9]+)(.*)?$/\1/'`
> 
> GNU sed may be allowing this as an extension, because "*?" doesn't make
> sense, since * is repetition.
> 
> Actually, the whole ? is redundant and can be just dropped, because
> 
>   (.*)?
> 
> matches zero or more occurrences fo any character, and also the empty
> string.  But .* matches the empty string anyway.  So while I can see the
point
> that it leads the reader to think "either some arbitrary string or the
empty
> string", it's just more complicated for no good reason.
> 
> So just drop the ? after the .*
[Regina Obe] 
Come to think of it, I think Sebastian's original didn't have that and I
forgot to take it out.

Anyway I have ticketed

https://trac.osgeo.org/geos/ticket/917

I'll fix later today or tomorrow.  I think it should be fine.

Thanks,
Regina



From sebastic at xs4all.nl  Mon Aug 20 23:07:40 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 21 Aug 2018 08:07:40 +0200
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <003101d438c6$a09b2830$e1d17890$@pcorp.us>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
 <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
 <003101d438c6$a09b2830$e1d17890$@pcorp.us>
Message-ID: <0d1def6b-d2a9-eeec-7191-6630057e6a7d@xs4all.nl>

On 8/20/18 10:44 PM, Regina Obe wrote:
> I asked Sebastian the same thing.  He said it's needed in configure script to escape the [] as I recall.

Yes, see:

 https://trac.osgeo.org/geos/ticket/887

"The single blockquotes are stripped by m4(1), hence the need for
additional quotes."

> From: Greg Troxel [mailto:gdt at lexort.com] 
> Sent: Monday, August 20, 2018 4:39 PM
> To: Regina Obe <lr at pcorp.us>
> Cc: 'GEOS Development List' <geos-devel at lists.osgeo.org>
> Subject: RE: [geos-devel] GEOS 3.7.0rc1 release
> 
>  
> 
> I believe there is a POSIX spec for sed. So the right thing in sed use is to depend on only what POSIX requires. Which could be avoiding sed :-)
> 
> I can see if I can fix the regexp ; what it's doing isn't that complicated.
> 
> Can you explain the extra []?
> 
> 


From sebastic at xs4all.nl  Mon Aug 20 23:22:30 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 21 Aug 2018 08:22:30 +0200
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smuy3d0oc2u.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
 <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
 <003101d438c6$a09b2830$e1d17890$@pcorp.us> <smuy3d0oc2u.fsf@linuxpal.mit.edu>
Message-ID: <1519824b-73af-903f-490b-8f2665a9a19d@xs4all.nl>

On 8/21/18 1:25 AM, Greg Troxel wrote:
> 
> "Regina Obe" <lr at pcorp.us> writes:
> 
>> I asked Sebastian the same thing.  He said it's needed in configure
>> script to escape the [] as I recall.
> 
> Of course :-) I was looking back and forth in so many rules I forgot
> which it was.
> 
> But, I figured out what was wrong.  This is the version from configure
> (so no extra [ - don't paste it in...).    The key thing is to add ()
> around .* before the ?, because
> 
>   .*?
> 
> is malformed.   It's the .* production that the ? applies to (present or
> not).
> 
>   VERSION_RELEASE=`echo "$VERSION" | sed -E 's/^([0-9]+\.[0-9]+\.[0-9]+)(.*)?$/\1/'`
> 
> GNU sed may be allowing this as an extension, because "*?" doesn't make
> sense, since * is repetition.

Note the -E option for extended regular expressions which came from GNU
sed but is now included in POSIX.

The ? should make the .* expression non-greedy.

> Actually, the whole ? is redundant and can be just dropped, because
> 
>   (.*)?
> 
> matches zero or more occurrences fo any character, and also the empty
> string.  But .* matches the empty string anyway.  So while I can see the
> point that it leads the reader to think "either some arbitrary string or
> the empty string", it's just more complicated for no good reason.
> 
> So just drop the ? after the .*

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/6b4652c0/attachment.sig>

From gdt at lexort.com  Tue Aug 21 05:38:17 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 21 Aug 2018 08:38:17 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <000201d43903$dbdbd790$939386b0$@pcorp.us> (Regina Obe's message
 of "Tue, 21 Aug 2018 00:03:02 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu>
 <000201d43903$dbdbd790$939386b0$@pcorp.us>
Message-ID: <smuefer3neu.fsf@linuxpal.mit.edu>


"Regina Obe" <lr at pcorp.us> writes:

> According to the git logs, Mat removed it cause it's not used and is
> deprecated in C++11
>
> commit 441dc93f8cd23dcdf204143d524e426f4ccb8bc3
> Author: Mateusz Loskot <mateusz at loskot.net>
> Date:   Thu Sep 7 10:25:58 2017 +0200
>
>     Remove GeometryList class
>
>     It is completely unused in GEOS and becomes deprecated in C++11.
>     Use std::vector<Geometry::Ptr> instead.
>
>
> So I think that fits under our NEWS item 
>
>   - Use C++11 unique_ptr, nullptr, and override constructs
>     (Mateusz Loskot)

I find the notion of "fits under" strange, but perhaps I have  a
different view of NEWS.

To me, NEWS should summarize all user-visible changes of consequence,
with the intended audience being people who are using geos somehow but
not really intimately familiar with it.

So, a change to C++11 is certainly huge.

But, withdrawal of any file previously installed in my opinion should
always be mentioned explicitly.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/a6de3af3/attachment.sig>

From gdt at lexort.com  Tue Aug 21 05:44:55 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 21 Aug 2018 08:44:55 -0400
Subject: [geos-devel] NEWS comments
In-Reply-To: <000201d43903$dbdbd790$939386b0$@pcorp.us> (Regina Obe's message
 of "Tue, 21 Aug 2018 00:03:02 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu>
 <000201d43903$dbdbd790$939386b0$@pcorp.us>
Message-ID: <smua7pf3n3s.fsf_-_@linuxpal.mit.edu>

A few comments about NEWS:

  I find the style of listing the alpha and rc separately confusing for
  those who go from 3.6.2 to 3.7.0 (should be almost everyone).  So
  instead of having them separate, I would start a "3.7.0 (not released
  yet)" section on the branch used fore 3.7 (which I guess is trunk
  after 3.6 branch was made) and then just start editing things in.

  The C++11 description is not entirely clear to me, and I think it
  should be extra loud up front.  It's a big deal as many systems have
  default compilers that are too old for C++11 (but this is a widespread
  issue with the combination of C++ and gcc).

  About C++11, it's clear that one must use C++11 to build geos.  So
  that probably forces anything that links with geos's C++ library to be
  built with C++11, because the gcc C++ ABI isn't stable.  And there may
  be a requirement to use C++11 to compile anything that includes the
  C++ .h files, because of using C++11 constructs.  That should be
  stated clearly either way.

  Presumably there is no requirement to use C++11 anything to link
  against geos_c.   Perhaps that should be stated, even though it would
  be bizarre otherwise, given the amount of trouble that the C++/gcc
  siutation has caused.

From lr at pcorp.us  Tue Aug 21 06:04:30 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 21 Aug 2018 09:04:30 -0400
Subject: [geos-devel] NEWS comments
In-Reply-To: <smua7pf3n3s.fsf_-_@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu> <000201d43903$dbdbd790$939386b0$@pcorp.us>
 <smua7pf3n3s.fsf_-_@linuxpal.mit.edu>
Message-ID: <002701d4394f$800a3820$801ea860$@pcorp.us>

> A few comments about NEWS:
> 
>   I find the style of listing the alpha and rc separately confusing for
>   those who go from 3.6.2 to 3.7.0 (should be almost everyone).  So
>   instead of having them separate, I would start a "3.7.0 (not released
>   yet)" section on the branch used fore 3.7 (which I guess is trunk
>   after 3.6 branch was made) and then just start editing things in.
> 
[Regina Obe] 
I'm going to get rid of all of those at 3.7.0 (with just a note that the betas and rcs were released)
The reason I put them separate is some of them aren't really newsworthy as they are fixes already included in 3.6.3 (so not new for 3.7.0)
And will be dropped in the final release notes.  

And for people following the RCs/beta I wanted them to know exactly what they should be looking for in the changes as 3.7.0 changes are huge otherwise.
But I guess for people coming in in a beta or rc it's kinda confusing.  I'm really not married to either approach as the new was more of an experimentation.

Show of hands (any one can vote)

Who prefers - just listing the 3.7.0 in one swoop and not mentioning the betas/rcs separately?

+0 for me for going back or forward.
+1 for Greg for just listing 3.7.0 and betas and rcs together

If no more votes for or against I'll switch to just having as one listing.

>   The C++11 description is not entirely clear to me, and I think it
>   should be extra loud up front.  It's a big deal as many systems have
>   default compilers that are too old for C++11 (but this is a widespread
>   issue with the combination of C++ and gcc).
[Regina Obe] 
Agreed will bring to the top of the news

>   Presumably there is no requirement to use C++11 anything to link
>   against geos_c.   Perhaps that should be stated, even though it would
>   be bizarre otherwise, given the amount of trouble that the C++/gcc
>   siutation has caused.
[Regina Obe] 
I would think not.  Can someone else confirm this question?

Thanks,
Regina


From sebastic at xs4all.nl  Tue Aug 21 06:26:22 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 21 Aug 2018 15:26:22 +0200
Subject: [geos-devel] NEWS comments
In-Reply-To: <002701d4394f$800a3820$801ea860$@pcorp.us>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu> <000201d43903$dbdbd790$939386b0$@pcorp.us>
 <smua7pf3n3s.fsf_-_@linuxpal.mit.edu>
 <002701d4394f$800a3820$801ea860$@pcorp.us>
Message-ID: <1b498cb0-ea94-bc15-d222-0f40c1a0df39@xs4all.nl>

On 8/21/18 3:04 PM, Regina Obe wrote:
>> A few comments about NEWS:
>>
>>   I find the style of listing the alpha and rc separately confusing for
>>   those who go from 3.6.2 to 3.7.0 (should be almost everyone).  So
>>   instead of having them separate, I would start a "3.7.0 (not released
>>   yet)" section on the branch used fore 3.7 (which I guess is trunk
>>   after 3.6 branch was made) and then just start editing things in.
>>
> [Regina Obe] 
> I'm going to get rid of all of those at 3.7.0 (with just a note that the betas and rcs were released)
> The reason I put them separate is some of them aren't really newsworthy as they are fixes already included in 3.6.3 (so not new for 3.7.0)
> And will be dropped in the final release notes.  
> 
> And for people following the RCs/beta I wanted them to know exactly what they should be looking for in the changes as 3.7.0 changes are huge otherwise.
> But I guess for people coming in in a beta or rc it's kinda confusing.  I'm really not married to either approach as the new was more of an experimentation.
> 
> Show of hands (any one can vote)
> 
> Who prefers - just listing the 3.7.0 in one swoop and not mentioning the betas/rcs separately?
> 
> +0 for me for going back or forward.
> +1 for Greg for just listing 3.7.0 and betas and rcs together
> 
> If no more votes for or against I'll switch to just having as one listing.

Personally I like the separate NEWS items per release, even when one
does not follow all releases it makes it clear from which pre-release
the changes were available.

>>   The C++11 description is not entirely clear to me, and I think it
>>   should be extra loud up front.  It's a big deal as many systems have
>>   default compilers that are too old for C++11 (but this is a widespread
>>   issue with the combination of C++ and gcc).
> [Regina Obe] 
> Agreed will bring to the top of the news

C++11 is being adopted by other major components in the geospatial
ecosystem, GDAL most notably. This just means that people stuck with
compilers that don't support C++11 cannot build those new releases of
the projects in question. That's not much different than requiring
features of recent Qt5 releases for example, if you systems cannot
provide that, you're stuck with older releases.

As someone who values stability, I think this is a good thing.
Enterprise distributions with release cycles like Debian and
RedHat/CentOS shouldn't have to support building the latest and greatest
on their stable releases.

>>   Presumably there is no requirement to use C++11 anything to link
>>   against geos_c.   Perhaps that should be stated, even though it would
>>   be bizarre otherwise, given the amount of trouble that the C++/gcc
>>   siutation has caused.
> [Regina Obe] 
> I would think not.  Can someone else confirm this question?

Projects shouldn't use the GEOS C++ API, if they do, they get to deal
with the consequences (I'm looking at you OSSIM).

All projects, except ossim, in Debian that build on GEOS use the stable
C API which is not affected by the C++11 compiler requirements.

>From what I've seen of C++11, you probably want to adopt it for your C++
project anyhow, so if GEOS requiring it pushes that issue to the
forefront that's a good thing.

Kind Regards,

Bas

From gdt at lexort.com  Tue Aug 21 06:26:42 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 21 Aug 2018 09:26:42 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <1519824b-73af-903f-490b-8f2665a9a19d@xs4all.nl> (Sebastiaan
 Couwenberg's message of "Tue, 21 Aug 2018 08:22:30 +0200")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
 <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
 <003101d438c6$a09b2830$e1d17890$@pcorp.us>
 <smuy3d0oc2u.fsf@linuxpal.mit.edu>
 <1519824b-73af-903f-490b-8f2665a9a19d@xs4all.nl>
Message-ID: <smuh8jn26lp.fsf@linuxpal.mit.edu>


Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:

> On 8/21/18 1:25 AM, Greg Troxel wrote:
>> 
>> is malformed.   It's the .* production that the ? applies to (present or
>> not).
>> 
>>   VERSION_RELEASE=`echo "$VERSION" | sed -E 's/^([0-9]+\.[0-9]+\.[0-9]+)(.*)?$/\1/'`
>> 
>> GNU sed may be allowing this as an extension, because "*?" doesn't make
>> sense, since * is repetition.
>
> Note the -E option for extended regular expressions which came from GNU
> sed but is now included in POSIX.
>
> The ? should make the .* expression non-greedy.

Sorry, I am not following.  I dug into this harder than probably makes
sense because I wanted to make sure there wasn't a bug in NetBSD's sed,
in which case I would file a bug report so it is fixed.

I don't see -E in POSIX's sed spec:

  http://pubs.opengroup.org/onlinepubs/9699919799/utilities/sed.html

However, NetBSD's sed (and I suspect basically all others) does document
-E for extended regular expressions.

But, in the posix spec for extended regular expressions:

  http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html

I don't see that .*?  is legal, opposed to (.*)?

Specifically, in 9.4.6.4, it says

  The behavior of multiple adjacent duplication symbols ( '+', '*', '?',
  and intervals) produces undefined results.

and it looks like this ? modifier is a perl regex thing:

  https://stackoverflow.com/questions/1103149/non-greedy-reluctant-regex-matching-in-sed

But I don't understand why this is hard in this particular, case, since
we're trying to take things like

1.2.3
3.4.5rc3

and produce

1.2.3
3.4.5

and I would think the point is to have the .* eat up everything after
the third number.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/b2fec655/attachment.sig>

From gdt at lexort.com  Tue Aug 21 06:38:40 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 21 Aug 2018 09:38:40 -0400
Subject: [geos-devel] NEWS comments
In-Reply-To: <1b498cb0-ea94-bc15-d222-0f40c1a0df39@xs4all.nl> (Sebastiaan
 Couwenberg's message of "Tue, 21 Aug 2018 15:26:22 +0200")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu>
 <000201d43903$dbdbd790$939386b0$@pcorp.us>
 <smua7pf3n3s.fsf_-_@linuxpal.mit.edu>
 <002701d4394f$800a3820$801ea860$@pcorp.us>
 <1b498cb0-ea94-bc15-d222-0f40c1a0df39@xs4all.nl>
Message-ID: <smud0ub261r.fsf@linuxpal.mit.edu>


Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:

> On 8/21/18 3:04 PM, Regina Obe wrote:
>> gdt said

>>>   The C++11 description is not entirely clear to me, and I think it
>>>   should be extra loud up front.  It's a big deal as many systems have
>>>   default compilers that are too old for C++11 (but this is a widespread
>>>   issue with the combination of C++ and gcc).
>> [Regina Obe] 
>> Agreed will bring to the top of the news
>
> C++11 is being adopted by other major components in the geospatial
> ecosystem, GDAL most notably. This just means that people stuck with
> compilers that don't support C++11 cannot build those new releases of
> the projects in question. That's not much different than requiring
> features of recent Qt5 releases for example, if you systems cannot
> provide that, you're stuck with older releases.

True, and note that I did not complain that C++11 was being required,
just that the explanation of what that meant was not clear enough.

Specifically, i wondered whether I needed to put a "force c++11" line in
the pkgsrc control file that's used when other packages link against
geos.

>>>   Presumably there is no requirement to use C++11 anything to link
>>>   against geos_c.   Perhaps that should be stated, even though it would
>>>   be bizarre otherwise, given the amount of trouble that the C++/gcc
>>>   siutation has caused.
>> [Regina Obe] 
>> I would think not.  Can someone else confirm this question?
>
> Projects shouldn't use the GEOS C++ API, if they do, they get to deal
> with the consequences (I'm looking at you OSSIM).

I have a note that gdal uses the GEOS C++ API as well, and my gdal 2.2.4
installation broke after updating geos (and not rebuilding gdal yet):

$ldd /usr/pkg/lib/libgdal.so|grep geos
        -lgeos_c.1 => /usr/pkg/lib/libgeos_c.so.1
        -lgeos-3.7.0 => /usr/pkg/lib/libgeos-3.7.0.so
        -lgeos-3.6.2 => not found

(which I think is depending on the c lib, and then the c++)


> All projects, except ossim, in Debian that build on GEOS use the stable
> C API which is not affected by the C++11 compiler requirements.

That is as I epxected, but I just find this situation often more tricky
than expected.

> From what I've seen of C++11, you probably want to adopt it for your C++
> project anyhow, so if GEOS requiring it pushes that issue to the
> forefront that's a good thing.

That's a separate issue.  I'm coming at this from the point of view of
packaging many things each of which has their own requirements,
sometimes conflicting.  While I get your point about C++ needing to move
to C++11, pkgsrc is also enabling people to build the non-C++11 subset
of the world on systems with older compilers.  So I'm just trying to
encode what's required, and I really did not mean to complain about how
things are, just to ask that it be really clear in NEWS.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/8630f7b6/attachment.sig>

From sebastic at xs4all.nl  Tue Aug 21 06:38:43 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 21 Aug 2018 15:38:43 +0200
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smuh8jn26lp.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
 <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
 <003101d438c6$a09b2830$e1d17890$@pcorp.us> <smuy3d0oc2u.fsf@linuxpal.mit.edu>
 <1519824b-73af-903f-490b-8f2665a9a19d@xs4all.nl>
 <smuh8jn26lp.fsf@linuxpal.mit.edu>
Message-ID: <6ea2cbf0-ff81-6777-ca3c-7bc2174e370a@xs4all.nl>

On 8/21/18 3:26 PM, Greg Troxel wrote:
> 
> Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:
> 
>> On 8/21/18 1:25 AM, Greg Troxel wrote:
>>>
>>> is malformed.   It's the .* production that the ? applies to (present or
>>> not).
>>>
>>>   VERSION_RELEASE=`echo "$VERSION" | sed -E 's/^([0-9]+\.[0-9]+\.[0-9]+)(.*)?$/\1/'`
>>>
>>> GNU sed may be allowing this as an extension, because "*?" doesn't make
>>> sense, since * is repetition.
>>
>> Note the -E option for extended regular expressions which came from GNU
>> sed but is now included in POSIX.
>>
>> The ? should make the .* expression non-greedy.
> 
> Sorry, I am not following.  I dug into this harder than probably makes
> sense because I wanted to make sure there wasn't a bug in NetBSD's sed,
> in which case I would file a bug report so it is fixed.
> 
> I don't see -E in POSIX's sed spec:
> 
>   http://pubs.opengroup.org/onlinepubs/9699919799/utilities/sed.html

It's documented in the sed manpage:

"
 POSIX.2 BREs should be supported, but they aren't completely because of
 performance problems. The \n sequence in a regular expression matches
 the newline character, and similarly for \a, \t, and other sequences.
 The -E option switches to using extended regular expressions instead;
 the -E option has been supported for years by GNU sed, and is now
 included in POSIX.
"

https://manpages.debian.org/stretch/sed/sed.1.en.html#REGULAR_EXPRESSIONS

> However, NetBSD's sed (and I suspect basically all others) does document
> -E for extended regular expressions.
> 
> But, in the posix spec for extended regular expressions:
> 
>   http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html
> 
> I don't see that .*?  is legal, opposed to (.*)?

That's probably because we're thinking in Perl compatible regular
expressions, the dominant regex implementation thanks to PCRE, but POSIX
extended regular expressions don't support that feature.

> Specifically, in 9.4.6.4, it says
> 
>   The behavior of multiple adjacent duplication symbols ( '+', '*', '?',
>   and intervals) produces undefined results.
> 
> and it looks like this ? modifier is a perl regex thing:
> 
>   https://stackoverflow.com/questions/1103149/non-greedy-reluctant-regex-matching-in-sed

Exactly, see above.

> But I don't understand why this is hard in this particular, case, since
> we're trying to take things like
> 
> 1.2.3
> 3.4.5rc3
> 
> and produce
> 
> 1.2.3
> 3.4.5
> 
> and I would think the point is to have the .* eat up everything after
> the third number.

More specifically thinks like:

 3.7.0alpha
 3.7.0beta1dev

And (unlikely) cases like:

 3.42.123beta1dev

Once again see the discussion in the related issue:

 https://trac.osgeo.org/geos/ticket/887

One way or another the suffix needs to be stripped from the version
number, because it shouldn't become part of the library filename.

Initially the suffix was matched, but later changed to match the version
to handle the dev case in particular, and any other possible suffix we
hadn't thought of.

Kind Regards,

Bas

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/e9a01e21/attachment-0001.sig>

From sebastic at xs4all.nl  Tue Aug 21 06:52:30 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 21 Aug 2018 15:52:30 +0200
Subject: [geos-devel] NEWS comments
In-Reply-To: <smud0ub261r.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu> <000201d43903$dbdbd790$939386b0$@pcorp.us>
 <smua7pf3n3s.fsf_-_@linuxpal.mit.edu>
 <002701d4394f$800a3820$801ea860$@pcorp.us>
 <1b498cb0-ea94-bc15-d222-0f40c1a0df39@xs4all.nl>
 <smud0ub261r.fsf@linuxpal.mit.edu>
Message-ID: <e8385522-8c7b-a03a-2ed4-ec6696b44c92@xs4all.nl>

On 8/21/18 3:38 PM, Greg Troxel wrote:
> 
> Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:
> 
>> On 8/21/18 3:04 PM, Regina Obe wrote:
>>> gdt said
> 
>>>>   The C++11 description is not entirely clear to me, and I think it
>>>>   should be extra loud up front.  It's a big deal as many systems have
>>>>   default compilers that are too old for C++11 (but this is a widespread
>>>>   issue with the combination of C++ and gcc).
>>> [Regina Obe] 
>>> Agreed will bring to the top of the news
>>
>> C++11 is being adopted by other major components in the geospatial
>> ecosystem, GDAL most notably. This just means that people stuck with
>> compilers that don't support C++11 cannot build those new releases of
>> the projects in question. That's not much different than requiring
>> features of recent Qt5 releases for example, if you systems cannot
>> provide that, you're stuck with older releases.
> 
> True, and note that I did not complain that C++11 was being required,
> just that the explanation of what that meant was not clear enough.
> 
> Specifically, i wondered whether I needed to put a "force c++11" line in
> the pkgsrc control file that's used when other packages link against
> geos.

I don't think it's the job of a packaging system to specify which
compiler features should be used for reverse dependencies. Stuff like
pkg-config was invented for that.

>>>>   Presumably there is no requirement to use C++11 anything to link
>>>>   against geos_c.   Perhaps that should be stated, even though it would
>>>>   be bizarre otherwise, given the amount of trouble that the C++/gcc
>>>>   siutation has caused.
>>> [Regina Obe] 
>>> I would think not.  Can someone else confirm this question?
>>
>> Projects shouldn't use the GEOS C++ API, if they do, they get to deal
>> with the consequences (I'm looking at you OSSIM).
> 
> I have a note that gdal uses the GEOS C++ API as well, and my gdal 2.2.4
> installation broke after updating geos (and not rebuilding gdal yet):
> 
> $ldd /usr/pkg/lib/libgdal.so|grep geos
>         -lgeos_c.1 => /usr/pkg/lib/libgeos_c.so.1
>         -lgeos-3.7.0 => /usr/pkg/lib/libgeos-3.7.0.so
>         -lgeos-3.6.2 => not found
> 
> (which I think is depending on the c lib, and then the c++)

ldd has misleading output, objdump is more reliable:

$ ldd /usr/lib/libgdal.so.20.1.2 | grep geos
        libgeos_c.so.1 => /usr/lib/x86_64-linux-gnu/libgeos_c.so.1
(0x00007fa48c768000)
        libgeos-3.5.1.so => /usr/lib/x86_64-linux-gnu/libgeos-3.5.1.so
(0x00007fa47f809000)

$ objdump -x /usr/lib/libgdal.so.20.1.2 | grep NEEDED | grep geos
  NEEDED               libgeos_c.so.1

GDAL should not be using the GEOS C++ API, see m4/geos.m4 in the GDAL
source how it detects the library to link.

>> All projects, except ossim, in Debian that build on GEOS use the stable
>> C API which is not affected by the C++11 compiler requirements.
> 
> That is as I epxected, but I just find this situation often more tricky
> than expected.
> 
>> From what I've seen of C++11, you probably want to adopt it for your C++
>> project anyhow, so if GEOS requiring it pushes that issue to the
>> forefront that's a good thing.
> 
> That's a separate issue.  I'm coming at this from the point of view of
> packaging many things each of which has their own requirements,
> sometimes conflicting.  While I get your point about C++ needing to move
> to C++11, pkgsrc is also enabling people to build the non-C++11 subset
> of the world on systems with older compilers.  So I'm just trying to
> encode what's required, and I really did not mean to complain about how
> things are, just to ask that it be really clear in NEWS.

In your case it seems that you need to tell pkgsrc that building geos
with non-C++11 compilers is not possible. I do wonder why those users
can get a compiler with C++11 support from pkgsrc though. It's just a
dependency issue, if you want to build the new geos, you need to update
your compiler to suitable version first.

Personally I also think that the file list requirements from pkgsrc are
an unnecessary burden to packagers, causing them to request detailed
changelog entries mentioning those file changes from upstreams. Debian
packages automatically generate the list of files they include, and if
you want to see the changes there are tools like debdiff.

Kind Regards,

Bas


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/90017edf/attachment.sig>

From geos-trac at osgeo.org  Tue Aug 21 07:13:09 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 21 Aug 2018 14:13:09 -0000
Subject: [geos-devel] [GEOS] #918: memory leak in
	GeometryCollection::getCoordinate()
Message-ID: <048.4d729d8e34b24bbfabf09b0eeac7acbe@osgeo.org>

#918: memory leak in GeometryCollection::getCoordinate()
------------------------+--------------------------
 Reporter:  basiliscos  |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 The implementation is

 {{{
 const Coordinate*
 GeometryCollection::getCoordinate() const
 {
         // should use auto_ptr here or return NULL or throw an exception !
         //      --strk;
         if (isEmpty()) return new Coordinate();
         return (*geometries)[0]->getCoordinate();
 }
 }}}

 So, if a collection is empty it returns coordinate and (to prevent memory
 leaks) assumes that caller should delete it. Otherwise it returns non-
 owning Coordinate* and not delete is required from caller.

 The best way is return NULL as it is told in the comment.

 The alternative will be

 {{{
 ...
 static Coordinate zero;
 if (isEmpty()) return &zero;
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/918>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From gdt at lexort.com  Tue Aug 21 07:39:26 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 21 Aug 2018 10:39:26 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <6ea2cbf0-ff81-6777-ca3c-7bc2174e370a@xs4all.nl> (Sebastiaan
 Couwenberg's message of "Tue, 21 Aug 2018 15:38:43 +0200")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu> <smuo9dwq0q0.fsf@linuxpal.mit.edu>
 <002a01d438c4$a6af7890$f40e69b0$@pcorp.us>
 <CC307D59-19AE-4B31-B08A-AE38711426F1@lexort.com>
 <003101d438c6$a09b2830$e1d17890$@pcorp.us>
 <smuy3d0oc2u.fsf@linuxpal.mit.edu>
 <1519824b-73af-903f-490b-8f2665a9a19d@xs4all.nl>
 <smuh8jn26lp.fsf@linuxpal.mit.edu>
 <6ea2cbf0-ff81-6777-ca3c-7bc2174e370a@xs4all.nl>
Message-ID: <smulg8zzsv5.fsf@linuxpal.mit.edu>


Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:

>> Sorry, I am not following.  I dug into this harder than probably makes
>> sense because I wanted to make sure there wasn't a bug in NetBSD's sed,
>> in which case I would file a bug report so it is fixed.
>> 
>> I don't see -E in POSIX's sed spec:
>> 
>>   http://pubs.opengroup.org/onlinepubs/9699919799/utilities/sed.html
>
> It's documented in the sed manpage:
>
> "
>  POSIX.2 BREs should be supported, but they aren't completely because of
>  performance problems. The \n sequence in a regular expression matches
>  the newline character, and similarly for \a, \t, and other sequences.
>  The -E option switches to using extended regular expressions instead;
>  the -E option has been supported for years by GNU sed, and is now
>  included in POSIX.
> "
>
> https://manpages.debian.org/stretch/sed/sed.1.en.html#REGULAR_EXPRESSIONS

The Debian manpages are not authoritative for POSIX :-) It's not an
issue to use -E, but I can't find in POSIX itself where it says this.
But that's not an actual issue and I don't want to take up more or your
time on it.

>> But, in the posix spec for extended regular expressions:
>> 
>>   http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html
>> 
>> I don't see that .*?  is legal, opposed to (.*)?
>
> That's probably because we're thinking in Perl compatible regular
> expressions, the dominant regex implementation thanks to PCRE, but POSIX
> extended regular expressions don't support that feature.

I am not following you.  The expression in geos 3.7.0rc1 is not legal
according to POSIX extended regular expression.  That's all I was trying
to ask, was to make it conform to posix ERE.

> More specifically thinks like:
>
>  3.7.0alpha
>  3.7.0beta1dev
>
> And (unlikely) cases like:
>
>  3.42.123beta1dev
>
> Once again see the discussion in the related issue:
>
>  https://trac.osgeo.org/geos/ticket/887
>
> One way or another the suffix needs to be stripped from the version
> number, because it shouldn't become part of the library filename.
>
> Initially the suffix was matched, but later changed to match the version
> to handle the dev case in particular, and any other possible suffix we
> hadn't thought of.

That's all totally fine, as long as .* is in parens as the ERE rules
seem to require.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/577b9df5/attachment.sig>

From gdt at lexort.com  Tue Aug 21 07:45:44 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 21 Aug 2018 10:45:44 -0400
Subject: [geos-devel] NEWS comments
In-Reply-To: <e8385522-8c7b-a03a-2ed4-ec6696b44c92@xs4all.nl> (Sebastiaan
 Couwenberg's message of "Tue, 21 Aug 2018 15:52:30 +0200")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <003801d438c7$2854f210$78fed630$@pcorp.us>
 <smupnycobvw.fsf@linuxpal.mit.edu>
 <000201d43903$dbdbd790$939386b0$@pcorp.us>
 <smua7pf3n3s.fsf_-_@linuxpal.mit.edu>
 <002701d4394f$800a3820$801ea860$@pcorp.us>
 <1b498cb0-ea94-bc15-d222-0f40c1a0df39@xs4all.nl>
 <smud0ub261r.fsf@linuxpal.mit.edu>
 <e8385522-8c7b-a03a-2ed4-ec6696b44c92@xs4all.nl>
Message-ID: <smuh8jnzskn.fsf@linuxpal.mit.edu>


Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:

> I don't think it's the job of a packaging system to specify which
> compiler features should be used for reverse dependencies. Stuff like
> pkg-config was invented for that.

The point is to document that a compiler capable of c++11 is required,
so that if the current compiler isn't new enough, one can be built and
used instead.

But I'm not trying to push one packaging system's view on the world,
just to ask that things be clear.


> ldd has misleading output, objdump is more reliable:
>
> $ ldd /usr/lib/libgdal.so.20.1.2 | grep geos
>         libgeos_c.so.1 => /usr/lib/x86_64-linux-gnu/libgeos_c.so.1
> (0x00007fa48c768000)
>         libgeos-3.5.1.so => /usr/lib/x86_64-linux-gnu/libgeos-3.5.1.so
> (0x00007fa47f809000)
>
> $ objdump -x /usr/lib/libgdal.so.20.1.2 | grep NEEDED | grep geos
>   NEEDED               libgeos_c.so.1
>
> GDAL should not be using the GEOS C++ API, see m4/geos.m4 in the GDAL
> source how it detects the library to link.

Thanks.  objdump -x shows libgeos as NEEDED, but configure found the C
API, and so far I haven't figured out where it's coming from - will keep
looking.

> In your case it seems that you need to tell pkgsrc that building geos
> with non-C++11 compilers is not possible.

Yes, it will be marked "USE_LANGUAGES+= c++11", which is normal for us.

> I do wonder why those users
> can get a compiler with C++11 support from pkgsrc though. It's just a
> dependency issue, if you want to build the new geos, you need to update
> your compiler to suitable version first.

Yes, but we have a notion of base system compiler and extra compiler
from pkgsrc, and thus the question is when the force the new one.

> Personally I also think that the file list requirements from pkgsrc are
> an unnecessary burden to packagers, causing them to request detailed
> changelog entries mentioning those file changes from upstreams. Debian
> packages automatically generate the list of files they include, and if
> you want to see the changes there are tools like debdiff.

There are pluses and minuses.  I only ask when I see API withdrawals not
mentioned.  Often it's an omission of documentation, but sometimes
things are broken.  Whether I change a file or just see a diff, it's the
same question.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180821/8cafed4c/attachment.sig>

From Roger.Bivand at nhh.no  Wed Aug 22 01:35:06 2018
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 22 Aug 2018 10:35:06 +0200
Subject: [geos-devel] GEOSException, C-API and rgeos running GEOS under R
Message-ID: <alpine.LFD.2.21.1808221021010.3268@reclus.nhh.no>

The rgeos interface to GEOS uses the C API and context handles. We see 
valgrind leaks 
following exceptions (like passing invalid polygons to the intersection 
function), also when finishGEOS_r() is called.

Is there any way to free objects in the custom error handler? Or should I 
rely on NULL being returned? How can I distinguish between a NULL returned 
after an exception and a non-exception NULL?

We are seeing increases in messy input data, so it feels as though 
exceptions are being met more often.

Any input welcome - I'm also looking at PostGIS code using GEOS_FREE, but 
have not yet found the custom error handler - we still need the message.

Roger

-- 
Roger Bivand
Department of Economics, Norwegian School of Economics,
Helleveien 30, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; e-mail: Roger.Bivand at nhh.no
http://orcid.org/0000-0003-2392-6140
https://scholar.google.no/citations?user=AWeghB0AAAAJ&hl=en

From geos-trac at osgeo.org  Thu Aug 23 05:06:06 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 23 Aug 2018 12:06:06 -0000
Subject: [geos-devel] [GEOS] #919: memory leak in
	geos::index::strtree::SIRtree::insert()
Message-ID: <048.5f9a5a4d5bbf84f3c417bffb9a491e8e@osgeo.org>

#919: memory leak in geos::index::strtree::SIRtree::insert()
------------------------+--------------------------
 Reporter:  basiliscos  |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 {{{

 #include <geos/index/strtree/SIRtree.h>

 int main() {
     while(1) {
         geos::index::strtree::SIRtree t;
         t.insert(1, 5, &t);
     }
     return 0;
 }


 }}}

 When I run this sample program, it consumes all my RAM.

 Please, fix.

 Thank you.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/919>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Aug 23 08:35:41 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 23 Aug 2018 15:35:41 -0000
Subject: [geos-devel] [GEOS] #775: Patch for nmake support for latest
 Visual Studio compiler (14.0)
In-Reply-To: <046.677cfae29cbe941c7bc4463210774008@osgeo.org>
References: <046.677cfae29cbe941c7bc4463210774008@osgeo.org>
Message-ID: <061.7de47872385dca030380f9de5281b6fd@osgeo.org>

#775: Patch for nmake support for latest Visual Studio compiler (14.0)
------------------------+---------------------------
 Reporter:  jmckenna    |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:  3.5.1
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by jmckenna):

 update: of course this issue exists with the latest Visual Studio compiler
 (15.0), but switching to the cmake build process avoids this.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/775#comment:9>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From jmckenna at gatewaygeomatics.com  Thu Aug 23 08:46:42 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 23 Aug 2018 12:46:42 -0300
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smupnycrhmh.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
Message-ID: <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>

Testing RC1 with Visual Studio 15.8.1 (2017) on Windows, using cmake, 
returns the following errors (no issues with the 3.6.3 release + cmake):

-- Copying .editorconfig file to 
D:/build/mapserver-buildkit-2017/geos-3.7.0rc1/build
CMake Error at CMakeLists.txt:332 (file):
   file COPY cannot find
   "D:/build/mapserver-buildkit-2017/geos-3.7.0rc1/.editorconfig".


-- Enable GEOS unit tests build - ON
-- Enable GEOS XML tests build - ON
-- Enable GEOS large geometry tests build - ON
-- Enable GEOS performance tests build - ON
-- CMake 3.12.1 successfully configured GEOS using Visual Studio 15 2017 
generator
-- Configuring incomplete, errors occurred!
See also 
"D:/build/mapserver-buildkit-2017/geos-3.7.0rc1/build/CMakeFiles/CMakeOutput.log".
See also 
"D:/build/mapserver-buildkit-2017/geos-3.7.0rc1/build/CMakeFiles/CMakeError.log".



-jeff





From lr at pcorp.us  Thu Aug 23 09:47:25 2018
From: lr at pcorp.us (Regina Obe)
Date: Thu, 23 Aug 2018 12:47:25 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
Message-ID: <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>

> -- CMake 3.12.1 successfully configured GEOS using Visual Studio 15 2017
> generator
> -- Configuring incomplete, errors occurred!
> See also
> "D:/build/mapserver-buildkit-2017/geos-
> 3.7.0rc1/build/CMakeFiles/CMakeOutput.log".
> See also
> "D:/build/mapserver-buildkit-2017/geos-
> 3.7.0rc1/build/CMakeFiles/CMakeError.log".
> 
> 
> 
> -jeff
> 
> 
[Regina Obe] 
What's the output of your CMakeError.log say?

Thanks,
Regina


From jmckenna at gatewaygeomatics.com  Thu Aug 23 10:05:41 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 23 Aug 2018 14:05:41 -0300
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
 <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
Message-ID: <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>

It seems to be a problem in locating the file ".editorconfig" in 
CMakeLists.txt on line #332.   Here is the log file: 
https://pastebin.com/7VBkcpG3

-jeff



On 2018-08-23 1:47 PM, Regina Obe wrote:
>> -- CMake 3.12.1 successfully configured GEOS using Visual Studio 15 2017
>> generator
>> -- Configuring incomplete, errors occurred!
>> See also
>> "D:/build/mapserver-buildkit-2017/geos-
>> 3.7.0rc1/build/CMakeFiles/CMakeOutput.log".
>> See also
>> "D:/build/mapserver-buildkit-2017/geos-
>> 3.7.0rc1/build/CMakeFiles/CMakeError.log".
>>
>>
>>
>> -jeff
>>
>>
> [Regina Obe]
> What's the output of your CMakeError.log say?
> 
> Thanks,
> Regina
> 

From jmckenna at gatewaygeomatics.com  Thu Aug 23 10:20:18 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 23 Aug 2018 14:20:18 -0300
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
 <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
 <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>
Message-ID: <52ab8485-aa5d-5a28-6687-8952289d4fcc@gatewaygeomatics.com>

Note that the RC1 package does not include a file named ".editorconfig", 
not does beta2 release.    -jeff



On 2018-08-23 2:05 PM, Jeff McKenna wrote:
> It seems to be a problem in locating the file ".editorconfig" in 
> CMakeLists.txt on line #332.   Here is the log file: 
> https://pastebin.com/7VBkcpG3
> 
> -jeff
> 
> 
> 
> On 2018-08-23 1:47 PM, Regina Obe wrote:
>>> -- CMake 3.12.1 successfully configured GEOS using Visual Studio 15 2017
>>> generator
>>> -- Configuring incomplete, errors occurred!
>>> See also
>>> "D:/build/mapserver-buildkit-2017/geos-
>>> 3.7.0rc1/build/CMakeFiles/CMakeOutput.log".
>>> See also
>>> "D:/build/mapserver-buildkit-2017/geos-
>>> 3.7.0rc1/build/CMakeFiles/CMakeError.log".
>>>
>>>
>>>
>>> -jeff
>>>
>>>
>> [Regina Obe]
>> What's the output of your CMakeError.log say?
>>
>> Thanks,
>> Regina
>>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel


-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

From jmckenna at gatewaygeomatics.com  Thu Aug 23 10:21:39 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 23 Aug 2018 14:21:39 -0300
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <52ab8485-aa5d-5a28-6687-8952289d4fcc@gatewaygeomatics.com>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
 <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
 <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>
 <52ab8485-aa5d-5a28-6687-8952289d4fcc@gatewaygeomatics.com>
Message-ID: <d1ae54f0-b358-3da1-7868-551ceb7272e5@gatewaygeomatics.com>

nor does the beta2 package.

I am assuming this file is stored in .git

-jeff



On 2018-08-23 2:20 PM, Jeff McKenna wrote:
> Note that the RC1 package does not include a file named ".editorconfig", 
> not does beta2 release.    -jeff
> 
> 
> 
> On 2018-08-23 2:05 PM, Jeff McKenna wrote:
>> It seems to be a problem in locating the file ".editorconfig" in 
>> CMakeLists.txt on line #332.   Here is the log file: 
>> https://pastebin.com/7VBkcpG3
>>
>> -jeff
>>
>>
>>
>> On 2018-08-23 1:47 PM, Regina Obe wrote:
>>>> -- CMake 3.12.1 successfully configured GEOS using Visual Studio 15 
>>>> 2017
>>>> generator
>>>> -- Configuring incomplete, errors occurred!
>>>> See also
>>>> "D:/build/mapserver-buildkit-2017/geos-
>>>> 3.7.0rc1/build/CMakeFiles/CMakeOutput.log".
>>>> See also
>>>> "D:/build/mapserver-buildkit-2017/geos-
>>>> 3.7.0rc1/build/CMakeFiles/CMakeError.log".
>>>>
>>>>
>>>>
>>>> -jeff
>>>>
>>>>
>>> [Regina Obe]
>>> What's the output of your CMakeError.log say?
>>>
>>> Thanks,
>>> Regina
>>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/geos-devel
> 
> 


-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

From jmckenna at gatewaygeomatics.com  Thu Aug 23 10:31:08 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 23 Aug 2018 14:31:08 -0300
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <d1ae54f0-b358-3da1-7868-551ceb7272e5@gatewaygeomatics.com>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
 <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
 <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>
 <52ab8485-aa5d-5a28-6687-8952289d4fcc@gatewaygeomatics.com>
 <d1ae54f0-b358-3da1-7868-551ceb7272e5@gatewaygeomatics.com>
Message-ID: <dfe82b83-0353-d4f5-c972-512d56f9d9e5@gatewaygeomatics.com>

That was it, manually copying the missing file from svn or git, into the 
release package (geos-3.7.0rc1.tar.bz2) allows GEOS to compile with msvc 
2017.

-jeff




On 2018-08-23 2:21 PM, Jeff McKenna wrote:
> nor does the beta2 package.
> 
> I am assuming this file is stored in .git
> 
> -jeff
> 
> 
> 
> On 2018-08-23 2:20 PM, Jeff McKenna wrote:
>> Note that the RC1 package does not include a file named 
>> ".editorconfig", not does beta2 release.    -jeff
>>
>>
>>
>> On 2018-08-23 2:05 PM, Jeff McKenna wrote:
>>> It seems to be a problem in locating the file ".editorconfig" in 
>>> CMakeLists.txt on line #332.   Here is the log file: 
>>> https://pastebin.com/7VBkcpG3
>>>
>>> -jeff
>>>
>>>
>>>
>>> On 2018-08-23 1:47 PM, Regina Obe wrote:
>>>>> -- CMake 3.12.1 successfully configured GEOS using Visual Studio 15 
>>>>> 2017
>>>>> generator
>>>>> -- Configuring incomplete, errors occurred!
>>>>> See also
>>>>> "D:/build/mapserver-buildkit-2017/geos-
>>>>> 3.7.0rc1/build/CMakeFiles/CMakeOutput.log".
>>>>> See also
>>>>> "D:/build/mapserver-buildkit-2017/geos-
>>>>> 3.7.0rc1/build/CMakeFiles/CMakeError.log".
>>>>>
>>>>>
>>>>>
>>>>> -jeff
>>>>>
>>>>>
>>>> [Regina Obe]
>>>> What's the output of your CMakeError.log say?
>>>>
>>>> Thanks,
>>>> Regina
>>>>

From geos-trac at osgeo.org  Thu Aug 23 11:39:58 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 23 Aug 2018 18:39:58 -0000
Subject: [geos-devel] [GEOS] #920: .editorconfig not included in tar ball
Message-ID: <042.7204c17344786cf1e3a832c8056aca61@osgeo.org>

#920: .editorconfig not included in tar ball
-----------------------------------+--------------------------
 Reporter:  robe                   |      Owner:  geos-devel@…
     Type:  defect                 |     Status:  new
 Priority:  blocker                |  Milestone:  3.7.0
Component:  Build/Install (cmake)  |    Version:  master
 Severity:  Unassigned             |   Keywords:
-----------------------------------+--------------------------
 The .editorconfig was not include in tar ball and as a result made CMake
 fail in VS

 .editorconfig

 See:

 https://lists.osgeo.org/pipermail/geos-devel/2018-August/008476.html


 {{{
 That was it, manually copying the missing file from svn or git, into the
 release package (geos-3.7.0rc1.tar.bz2) allows GEOS to compile with msvc
 2017.

 -jeff




 On 2018-08-23 2:21 PM, Jeff McKenna wrote:
 > nor does the beta2 package.
 >
 > I am assuming this file is stored in .git
 >
 > -jeff
 >
 >
 >
 > On 2018-08-23 2:20 PM, Jeff McKenna wrote:
 >> Note that the RC1 package does not include a file named
 >> ".editorconfig", not does beta2 release.    -jeff
 >>
 >>
 >>
 >> On 2018-08-23 2:05 PM, Jeff McKenna wrote:
 >>> It seems to be a problem in locating the file ".editorconfig" in
 >>> CMakeLists.txt on line #332.   Here is the log file:
 >>> https://pastebin.com/7VBkcpG3
 >>>
 >>> -jeff
 >>>
 >>>
 >>>
 >>> On 2018-08-23 1:47 PM, Regina Obe wrote:
 >>>>> -- CMake 3.12.1 successfully configured GEOS using Visual Studio 15
 >>>>> 2017
 >>>>> generator
 >>>>> -- Configuring incomplete, errors occurred!
 >>>>> See also
 >>>>> "D:/build/mapserver-buildkit-2017/geos-
 >>>>> 3.7.0rc1/build/CMakeFiles/CMakeOutput.log".
 >>>>> See also
 >>>>> "D:/build/mapserver-buildkit-2017/geos-
 >>>>> 3.7.0rc1/build/CMakeFiles/CMakeError.log".
 >>>>>
 >>>>>
 >>>>>
 >>>>> -jeff
 >>>>>
 >>>>>
 >>>> [Regina Obe]
 >>>> What's the output of your CMakeError.log say?
 >>>>
 >>>> Thanks,
 >>>> Regina
 >>>>
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/920>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Aug 23 11:50:17 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 23 Aug 2018 18:50:17 -0000
Subject: [geos-devel] [GEOS] #920: .editorconfig not included in tar ball
In-Reply-To: <042.7204c17344786cf1e3a832c8056aca61@osgeo.org>
References: <042.7204c17344786cf1e3a832c8056aca61@osgeo.org>
Message-ID: <057.19c939751110d90aba3fde64618c0126@osgeo.org>

#920: .editorconfig not included in tar ball
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"4f0f3f642a87b67af31715d05b84e9e23ff0fa46/git" 4f0f3f6/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="4f0f3f642a87b67af31715d05b84e9e23ff0fa46"
 Add .editorconfig to distribution, references #920 for geos 3.7.0
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/920#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From gdt at lexort.com  Thu Aug 23 11:57:04 2018
From: gdt at lexort.com (Greg Troxel)
Date: Thu, 23 Aug 2018 14:57:04 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <dfe82b83-0353-d4f5-c972-512d56f9d9e5@gatewaygeomatics.com> (Jeff
 McKenna's message of "Thu, 23 Aug 2018 14:31:08 -0300")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
 <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
 <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>
 <52ab8485-aa5d-5a28-6687-8952289d4fcc@gatewaygeomatics.com>
 <d1ae54f0-b358-3da1-7868-551ceb7272e5@gatewaygeomatics.com>
 <dfe82b83-0353-d4f5-c972-512d56f9d9e5@gatewaygeomatics.com>
Message-ID: <smua7pcj4hr.fsf@linuxpal.mit.edu>


Jeff McKenna <jmckenna at gatewaygeomatics.com> writes:

> That was it, manually copying the missing file from svn or git, into
> the release package (geos-3.7.0rc1.tar.bz2) allows GEOS to compile
> with msvc 2017.

It seems better to adjust the cmake stuff not to expect such a file than
to put it in the release.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180823/e995cfd0/attachment.sig>

From lr at pcorp.us  Thu Aug 23 12:10:31 2018
From: lr at pcorp.us (Regina Obe)
Date: Thu, 23 Aug 2018 15:10:31 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smua7pcj4hr.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
 <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
 <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>
 <52ab8485-aa5d-5a28-6687-8952289d4fcc@gatewaygeomatics.com>
 <d1ae54f0-b358-3da1-7868-551ceb7272e5@gatewaygeomatics.com>
 <dfe82b83-0353-d4f5-c972-512d56f9d9e5@gatewaygeomatics.com>
 <smua7pcj4hr.fsf@linuxpal.mit.edu>
Message-ID: <001901d43b14$f6c24ae0$e446e0a0$@pcorp.us>

> Jeff McKenna <jmckenna at gatewaygeomatics.com> writes:
> 
> > That was it, manually copying the missing file from svn or git, into
> > the release package (geos-3.7.0rc1.tar.bz2) allows GEOS to compile
> > with msvc 2017.
> 
> It seems better to adjust the cmake stuff not to expect such a file than to put
> it in the release.
[Regina Obe] 
I was thinking about that but in this case I figured people might be using the tar ball for development and if they should make changes and try to send us a patch, I'd want the patch to follow the standard so we should include the .editorconfig in the tar ball anyway.  

Have ticket here:
https://trac.osgeo.org/geos/ticket/920#ticket


I need to up port to 3.8 but need to fix some things before I do that.
As to why it was explicitly added in CMake (was very intentional), so not going to bother taking it out.

if (MSVC_IDE)
  # Visual Studio 2017 supports .editorconfig, copy it next to generated .sln
  message(STATUS "Copying .editorconfig file to ${PROJECT_BINARY_DIR}")
  file(COPY "${PROJECT_SOURCE_DIR}/.editorconfig"
    DESTINATION "${PROJECT_BINARY_DIR}")
endif()



From jmckenna at gatewaygeomatics.com  Thu Aug 23 12:10:38 2018
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 23 Aug 2018 16:10:38 -0300
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smua7pcj4hr.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smupnycrhmh.fsf@linuxpal.mit.edu>
 <1a41ab84-fd10-937a-777f-1d5c0c62fe97@gatewaygeomatics.com>
 <000601d43b00$f8f8ca00$eaea5e00$@pcorp.us>
 <382033f1-7766-1520-c61e-4ae0e98df91c@gatewaygeomatics.com>
 <52ab8485-aa5d-5a28-6687-8952289d4fcc@gatewaygeomatics.com>
 <d1ae54f0-b358-3da1-7868-551ceb7272e5@gatewaygeomatics.com>
 <dfe82b83-0353-d4f5-c972-512d56f9d9e5@gatewaygeomatics.com>
 <smua7pcj4hr.fsf@linuxpal.mit.edu>
Message-ID: <d14c06c8-7069-2b07-6c67-71bff47d94c8@gatewaygeomatics.com>

On 2018-08-23 3:57 PM, Greg Troxel wrote:
> 
> Jeff McKenna <jmckenna at gatewaygeomatics.com> writes:
> 
>> That was it, manually copying the missing file from svn or git, into
>> the release package (geos-3.7.0rc1.tar.bz2) allows GEOS to compile
>> with msvc 2017.
> 
> It seems better to adjust the cmake stuff not to expect such a file than
> to put it in the release.
> 

related ticket: https://trac.osgeo.org/geos/ticket/920


-jeff


From geos-trac at osgeo.org  Thu Aug 23 12:16:55 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 23 Aug 2018 19:16:55 -0000
Subject: [geos-devel] [GEOS] #920: .editorconfig not included in tar ball
In-Reply-To: <042.7204c17344786cf1e3a832c8056aca61@osgeo.org>
References: <042.7204c17344786cf1e3a832c8056aca61@osgeo.org>
Message-ID: <057.969fb490ecf725264865806acb36828a@osgeo.org>

#920: .editorconfig not included in tar ball
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  new
 Priority:  blocker                |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:
 Keywords:                         |
-----------------------------------+---------------------------
Changes (by jmckenna):

 * cc: jmckenna (added)


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/920#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug 27 09:36:18 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 27 Aug 2018 16:36:18 -0000
Subject: [geos-devel] [GEOS] #920: .editorconfig not included in tar ball
In-Reply-To: <042.7204c17344786cf1e3a832c8056aca61@osgeo.org>
References: <042.7204c17344786cf1e3a832c8056aca61@osgeo.org>
Message-ID: <057.cbbef604090282ed6cbb53e5903f2ec9@osgeo.org>

#920: .editorconfig not included in tar ball
-----------------------------------+---------------------------
 Reporter:  robe                   |       Owner:  geos-devel@…
     Type:  defect                 |      Status:  closed
 Priority:  blocker                |   Milestone:  3.7.0
Component:  Build/Install (cmake)  |     Version:  master
 Severity:  Unassigned             |  Resolution:  fixed
 Keywords:                         |
-----------------------------------+---------------------------
Changes (by Regina Obe <lr@…>):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 In [changeset:"35704ed1de860cbcfe84f4119915f74dac9216a6/git"
 35704ed1/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="35704ed1de860cbcfe84f4119915f74dac9216a6"
 Add .editorconfig to distribution, closes #920 for geos 3.8.0
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/920#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Mon Aug 27 09:39:56 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 27 Aug 2018 12:39:56 -0400
Subject: [geos-devel] configure sed version_release stripper broken under
	NetBSD - Fix Be more greedy
Message-ID: <001901d43e24$9711d4e0$c5357ea0$@pcorp.us>

Did we decide what to do here:

https://trac.osgeo.org/geos/ticket/917

Okay to go with Greg's change of being more greedy by dropping the ?.
If it fixes NetBSD I'm all for it, as I don't think we'll ever be adding
anything after that would be an issue with being more or less greedy

Thanks,
Regina


From sebastic at xs4all.nl  Mon Aug 27 09:58:45 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Mon, 27 Aug 2018 18:58:45 +0200
Subject: [geos-devel] configure sed version_release stripper broken
 under NetBSD - Fix Be more greedy
In-Reply-To: <001901d43e24$9711d4e0$c5357ea0$@pcorp.us>
References: <001901d43e24$9711d4e0$c5357ea0$@pcorp.us>
Message-ID: <8fbe763e-da7a-a63a-3ad0-324e50bbacd7@xs4all.nl>

On 8/27/18 6:39 PM, Regina Obe wrote:
> Did we decide what to do here:
> 
> https://trac.osgeo.org/geos/ticket/917
> 
> Okay to go with Greg's change of being more greedy by dropping the ?.
> If it fixes NetBSD I'm all for it, as I don't think we'll ever be adding
> anything after that would be an issue with being more or less greedy

Yes, that should be fine.

If the release version breaks in the future due to some unusual format,
we'll just update configure.ac again.

Kind Regards,

Bas

From geos-trac at osgeo.org  Mon Aug 27 13:23:44 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 27 Aug 2018 20:23:44 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD failures on 3.7.0 - group:
 geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.04732bd32db4447920bba2810fd33437@osgeo.org>

#894: FreeBSD failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by robe):

 Had Greg Troxel check this and he says it is failing on his MacOSX, but
 works fine on NetBASD.  Both FreeBSD and MacOSX use clang, while NetBSD
 uses gcc


 {{{
 same error on macos 10.11, with

 Apple LLVM version 8.0.0 (clang-800.0.42.1)
 Target: x86_64-apple-darwin15.6.0
 Thread model: posix
 InstalledDir: /Library/Developer/CommandLineTools/usr/bin


 so the finger is pointing at clang being what makes the difference.
 (But not at clang, because it's much more likely there is some dodgy code
 that triggers with clang, than that clang is buggy, IMHO.)

 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Aug 27 13:24:08 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 27 Aug 2018 20:24:08 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed (was: FreeBSD failures on 3.7.0 - group:
 geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed)
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.25d8d7f63d570c060d15663b28d74fd2@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From gdt at lexort.com  Mon Aug 27 13:24:04 2018
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 27 Aug 2018 16:24:04 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <000e01d437c6$2ac25c60$80471520$@pcorp.us> (Regina Obe's message
 of "Sun, 19 Aug 2018 10:08:55 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
Message-ID: <smuh8jf5ziz.fsf@linuxpal.mit.edu>


"Regina Obe" <lr at pcorp.us> writes:

> https://download.osgeo.org/geos/geos-3.7.0rc1.tar.bz2

Regarding

  https://trac.osgeo.org/geos/ticket/894

I don't see this on NetBSD/7 amd64, which uses gcc 4.8.

I did a build on macos 10.11, which uses clang (but a similar Intel
processor):

  Apple LLVM version 8.0.0 (clang-800.0.42.1)
  Target: x86_64-apple-darwin15.6.0
  Thread model: posix
  InstalledDir: /Library/Developer/CommandLineTools/usr/bin

and get the same failure as the bug.

Specifically, if I run test 1 in that group, it fails:

  $ ./geos_unit geos::geom::CoordinateArraySequenceFactory 1
  ===============================
    GEOS Test Suite Application
  ===============================

  geos::geom::CoordinateArraySequenceFactory: [1=F]

  ---> group: geos::geom::CoordinateArraySequenceFactory, test: test<1>
       problem: assertion failed

  tests summary: failures:1 ok:0

but tests 2,3,4,5 all pass.

The test is in tests/unit/capi/GEOSGeomFromWKBTest.cpp in the sources,
and is doing:

        // POINT(1.234 5.678)                                                                                                                                       
        std::string wkt("POINT (1.234 5.678)");
        std::string wkb("01010000005839B4C876BEF33F83C0CAA145B61640");
        test_wkb(wkb, wkt);

I don't know how to get it to produce the mismatching content; the
--verbose option in --help is unrecognized, and I can't see how it would
be reading the driver source.

So I wonder if something in geos is sensitive to gcc/clang differences.
(Vastly less likely, there could be a clang bug.)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180827/d7263e48/attachment.sig>

From geos-trac at osgeo.org  Mon Aug 27 16:17:15 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 27 Aug 2018 23:17:15 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.75f527a6f618d8ab9f6026a0da6fd4c0@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by gdt):

 Also fails in the same test on macos 10.13, with
 {{{
 Apple LLVM version 8.0.0 (clang-800.0.42.1)
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From gdt at lexort.com  Mon Aug 27 17:06:32 2018
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 27 Aug 2018 20:06:32 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smuh8jf5ziz.fsf@linuxpal.mit.edu> (Greg Troxel's message of
 "Mon, 27 Aug 2018 16:24:04 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu>
Message-ID: <smuwosb4anr.fsf@linuxpal.mit.edu>


Not related to the maybe-clang/GeometryFactory test failure, I tried to
build on NetBSD/8 evbearmv7hf-el (RPI3, running 32 bit), and got

  ======================================
     : tests/xmltester/test-suite.log
  ======================================

  # TOTAL: 1
  # PASS:  0
  # SKIP:  0
  # XFAIL: 0
  # FAIL:  1
  # XPASS: 0
  # ERROR: 0

  .. contents:: :depth: 2

  FAIL: testrunner
  ================

  terminate called after throwing an instance of 'geos::util::TopologyException'
    what():  TopologyException: found non-noded intersection between LINESTRING (-105571 939969, -102895 939993) and LINESTRING (9485.36 770763, -102895 939993) at -102894.5562421389 939992.66927296668
  [1]   Abort trap (core dumped) ./XMLTester -v -...
  FAIL testrunner (exit status: 134)

I believe this has normal IEEE754 floating point.

So I'm curious if anyone has run this on arm, and specifically armv7.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180827/d0c38f5d/attachment.sig>

From geos-trac at osgeo.org  Mon Aug 27 19:52:33 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 28 Aug 2018 02:52:33 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.d78c2cc894672843d4bf8b63f3412778@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by robe):

 More notes from gdt on mailing list

 https://lists.osgeo.org/pipermail/geos-devel/2018-August/008490.html

 {{{
 I don't see this on NetBSD/7 amd64, which uses gcc 4.8.

 I did a build on macos 10.11, which uses clang (but a similar Intel
 processor):

   Apple LLVM version 8.0.0 (clang-800.0.42.1)
   Target: x86_64-apple-darwin15.6.0
   Thread model: posix
   InstalledDir: /Library/Developer/CommandLineTools/usr/bin

 and get the same failure as the bug.

 Specifically, if I run test 1 in that group, it fails:

   $ ./geos_unit geos::geom::CoordinateArraySequenceFactory 1
   ===============================
     GEOS Test Suite Application
   ===============================

   geos::geom::CoordinateArraySequenceFactory: [1=F]

   ---> group: geos::geom::CoordinateArraySequenceFactory, test: test<1>
        problem: assertion failed

   tests summary: failures:1 ok:0

 but tests 2,3,4,5 all pass.

 The test is in tests/unit/capi/GEOSGeomFromWKBTest.cpp in the sources, and
 is doing:

         // POINT(1.234 5.678)
         std::string wkt("POINT (1.234 5.678)");
         std::string wkb("01010000005839B4C876BEF33F83C0CAA145B61640");
         test_wkb(wkb, wkt);

 I don't know how to get it to produce the mismatching content; the
 --verbose option in --help is unrecognized, and I can't see how it would
 be reading the driver source.

 So I wonder if something in geos is sensitive to gcc/clang differences.
 (Vastly less likely, there could be a clang bug.)


 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Wed Aug 29 08:09:10 2018
From: lr at pcorp.us (Regina Obe)
Date: Wed, 29 Aug 2018 11:09:10 -0400
Subject: [geos-devel] Planning to release an RC2 later in week or over
	weekend
Message-ID: <000e01d43faa$3e8b8c30$bba2a490$@pcorp.us>

If anyone has an issue with me releasing an RC2 release let me know.

I'm hoping that will be the last RC we need to release before we do the
final 3.7.0 release.

Only thing left I want to wrap up before I do is to deal with this one:

https://trac.osgeo.org/geos/ticket/894

If I can't find a solution before then, I'm just going to remove this test
from 3.7.0 and we can revisit in 3.8.0.
I suspect it's probably been there for a while and only came up because I
put in place FreeBSD testing.


Thanks,
Regina


From dbaston at gmail.com  Thu Aug 30 06:09:42 2018
From: dbaston at gmail.com (Daniel Baston)
Date: Thu, 30 Aug 2018 09:09:42 -0400
Subject: [geos-devel] Refactoring CoordinateSequence
Message-ID: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>

I've been exploring porting the PackedCoordinateSequence from JTS to GEOS
because it seems like a useful way to improve the interoperability of GEOS
with other code (LWGEOM, for example) without requiring copying of
everything into GEOS data structures. It turns out that extending
CoordinateSequence is pretty onerous in GEOS; the CoordinateSequence class
contains many abstract methods that are not in the corresponding
CoordinateSequence JTS interface. These methods add requirements of
mutability (CoordinateSequence::setAt) and extensibility/contractability
(CoordianteSequence::add, CoordianteSequence::deleteAt) and require the
author of a derived class to implement functionality that could be seen as
unrelated to storing a sequence of coordinates (removeRepeatedPoints,
apply_ro, etc.). Does anyone know why so many methods are added to GEOS
CoordinateSequence that have no JTS equivalent, and are there any
objections to factoring some of the functionality out of the
CoordianteSequence class so that it's easier to write other
CoordinateSequence implementations?

Dan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180830/e0b69883/attachment.html>

From lr at pcorp.us  Thu Aug 30 06:53:14 2018
From: lr at pcorp.us (Regina Obe)
Date: Thu, 30 Aug 2018 09:53:14 -0400
Subject: [geos-devel] Refactoring CoordinateSequence
In-Reply-To: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
References: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
Message-ID: <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>

I have no objection.  I know Vicky was complaining about the large number of functions that should be private that are exposed. She was planning to deprecate them in 3.8 and remove/make private in a later release.

 

I'm not sure if this is related to that if she's even looked at that class.  Are these linked into CAPI at all?  If so we should probably stub them with an error, if not, I don't care if they are removed as we never said the C++ -API is stable yet.  My hope is once we clean things up a bit, we can guarantee some level of stability for the C++ API as well.

 

 

Thanks,

Regina

 

From: geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] On Behalf Of Daniel Baston
Sent: Thursday, August 30, 2018 9:10 AM
To: GEOS Development List <geos-devel at lists.osgeo.org>
Subject: [geos-devel] Refactoring CoordinateSequence

 

I've been exploring porting the PackedCoordinateSequence from JTS to GEOS because it seems like a useful way to improve the interoperability of GEOS with other code (LWGEOM, for example) without requiring copying of everything into GEOS data structures. It turns out that extending CoordinateSequence is pretty onerous in GEOS; the CoordinateSequence class contains many abstract methods that are not in the corresponding CoordinateSequence JTS interface. These methods add requirements of mutability (CoordinateSequence::setAt) and extensibility/contractability (CoordianteSequence::add, CoordianteSequence::deleteAt) and require the author of a derived class to implement functionality that could be seen as unrelated to storing a sequence of coordinates (removeRepeatedPoints, apply_ro, etc.). Does anyone know why so many methods are added to GEOS CoordinateSequence that have no JTS equivalent, and are there any objections to factoring some of the functionality out of the CoordianteSequence class so that it's easier to write other CoordinateSequence implementations?

 

Dan

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180830/6759a2cf/attachment.html>

From dbaston at gmail.com  Thu Aug 30 08:19:45 2018
From: dbaston at gmail.com (Daniel Baston)
Date: Thu, 30 Aug 2018 11:19:45 -0400
Subject: [geos-devel] Refactoring CoordinateSequence
In-Reply-To: <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>
References: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
 <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>
Message-ID: <CA+K_q_owSbqNFzqEg2q4Gw09W3naQhvdP_rpXpwM7FRn6XwzxQ@mail.gmail.com>

Hi Regina,

This work would be not cause any changes to the C API, though we would
ultimately want to add some functions to the C API to create packed
coordinate sequences.

Dan

On Thu, Aug 30, 2018 at 9:53 AM Regina Obe <lr at pcorp.us> wrote:

> I have no objection.  I know Vicky was complaining about the large number
> of functions that should be private that are exposed. She was planning to
> deprecate them in 3.8 and remove/make private in a later release.
>
>
>
> I'm not sure if this is related to that if she's even looked at that
> class.  Are these linked into CAPI at all?  If so we should probably stub
> them with an error, if not, I don't care if they are removed as we never
> said the C++ -API is stable yet.  My hope is once we clean things up a bit,
> we can guarantee some level of stability for the C++ API as well.
>
>
>
>
>
> Thanks,
>
> Regina
>
>
>
> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On Behalf
> Of *Daniel Baston
> *Sent:* Thursday, August 30, 2018 9:10 AM
> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
> *Subject:* [geos-devel] Refactoring CoordinateSequence
>
>
>
> I've been exploring porting the PackedCoordinateSequence from JTS to GEOS
> because it seems like a useful way to improve the interoperability of GEOS
> with other code (LWGEOM, for example) without requiring copying of
> everything into GEOS data structures. It turns out that extending
> CoordinateSequence is pretty onerous in GEOS; the CoordinateSequence class
> contains many abstract methods that are not in the corresponding
> CoordinateSequence JTS interface. These methods add requirements of
> mutability (CoordinateSequence::setAt) and extensibility/contractability
> (CoordianteSequence::add, CoordianteSequence::deleteAt) and require the
> author of a derived class to implement functionality that could be seen as
> unrelated to storing a sequence of coordinates (removeRepeatedPoints,
> apply_ro, etc.). Does anyone know why so many methods are added to GEOS
> CoordinateSequence that have no JTS equivalent, and are there any
> objections to factoring some of the functionality out of the
> CoordianteSequence class so that it's easier to write other
> CoordinateSequence implementations?
>
>
>
> Dan
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180830/2bba9413/attachment.html>

From lr at pcorp.us  Thu Aug 30 09:00:00 2018
From: lr at pcorp.us (Regina Obe)
Date: Thu, 30 Aug 2018 12:00:00 -0400
Subject: [geos-devel] Refactoring CoordinateSequence
In-Reply-To: <CA+K_q_owSbqNFzqEg2q4Gw09W3naQhvdP_rpXpwM7FRn6XwzxQ@mail.gmail.com>
References: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
 <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>
 <CA+K_q_owSbqNFzqEg2q4Gw09W3naQhvdP_rpXpwM7FRn6XwzxQ@mail.gmail.com>
Message-ID: <000001d4407a$82403220$86c09660$@pcorp.us>

Great.  I'm fine with it then – adding to C-APi is fine, removing not so fine.

 

From: geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] On Behalf Of Daniel Baston
Sent: Thursday, August 30, 2018 11:20 AM
To: GEOS Development List <geos-devel at lists.osgeo.org>
Subject: Re: [geos-devel] Refactoring CoordinateSequence

 

Hi Regina,

 

This work would be not cause any changes to the C API, though we would ultimately want to add some functions to the C API to create packed coordinate sequences.

 

Dan

 

On Thu, Aug 30, 2018 at 9:53 AM Regina Obe <lr at pcorp.us <mailto:lr at pcorp.us> > wrote:

I have no objection.  I know Vicky was complaining about the large number of functions that should be private that are exposed. She was planning to deprecate them in 3.8 and remove/make private in a later release.

 

I'm not sure if this is related to that if she's even looked at that class.  Are these linked into CAPI at all?  If so we should probably stub them with an error, if not, I don't care if they are removed as we never said the C++ -API is stable yet.  My hope is once we clean things up a bit, we can guarantee some level of stability for the C++ API as well.

 

 

Thanks,

Regina

 

From: geos-devel [mailto:geos-devel-bounces at lists.osgeo.org <mailto:geos-devel-bounces at lists.osgeo.org> ] On Behalf Of Daniel Baston
Sent: Thursday, August 30, 2018 9:10 AM
To: GEOS Development List <geos-devel at lists.osgeo.org <mailto:geos-devel at lists.osgeo.org> >
Subject: [geos-devel] Refactoring CoordinateSequence

 

I've been exploring porting the PackedCoordinateSequence from JTS to GEOS because it seems like a useful way to improve the interoperability of GEOS with other code (LWGEOM, for example) without requiring copying of everything into GEOS data structures. It turns out that extending CoordinateSequence is pretty onerous in GEOS; the CoordinateSequence class contains many abstract methods that are not in the corresponding CoordinateSequence JTS interface. These methods add requirements of mutability (CoordinateSequence::setAt) and extensibility/contractability (CoordianteSequence::add, CoordianteSequence::deleteAt) and require the author of a derived class to implement functionality that could be seen as unrelated to storing a sequence of coordinates (removeRepeatedPoints, apply_ro, etc.). Does anyone know why so many methods are added to GEOS CoordinateSequence that have no JTS equivalent, and are there any objections to factoring some of the functionality out of the CoordianteSequence class so that it's easier to write other CoordinateSequence implementations?

 

Dan

_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org <mailto:geos-devel at lists.osgeo.org> 
https://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180830/bb6083fe/attachment-0001.html>

From vicky at georepublic.de  Thu Aug 30 14:43:25 2018
From: vicky at georepublic.de (Vicky Vergara)
Date: Thu, 30 Aug 2018 16:43:25 -0500
Subject: [geos-devel] Refactoring CoordinateSequence
In-Reply-To: <000001d4407a$82403220$86c09660$@pcorp.us>
References: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
 <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>
 <CA+K_q_owSbqNFzqEg2q4Gw09W3naQhvdP_rpXpwM7FRn6XwzxQ@mail.gmail.com>
 <000001d4407a$82403220$86c09660$@pcorp.us>
Message-ID: <CAK_FzuU9cE1FYyD8uYR_Nf1wfmPkqChxQqAuuCBd=CHA-_S9tA@mail.gmail.com>

In GEOS there are 2 classes about Coordinate Sequence
https://cvvergara.github.io/GEOS/classgeos_1_1geom_1_1CoordinateSequence.html
https://cvvergara.github.io/GEOS/classgeos_1_1geom_1_1CoordinateArraySequence.html

CoordinateArraySequence is "an Array view" for CoordinateSequence
I find these 2 classes confusing, normally you use CoordinateSequence, some
operations are accesible only through CoordinateArraySequence
Very strange desing for those 2 classes (I would first "merge" both classes
into one, SetAt is on CoordinateArraySequence)

I dont object on re-design (hey I like to do this kind of stuff), but a
careful analysis (experimentation of ideas, like the one above) needs to be
made, because the CoordinateSequence is used in may parts of GEOS.

Regards
VIcky

I was never "married" to JTS, I think GEOS must get "divorced" of JTS, and
a re-design is part of the divorce papers :)





On Thu, Aug 30, 2018 at 11:00 AM, Regina Obe <lr at pcorp.us> wrote:

> Great.  I'm fine with it then – adding to C-APi is fine, removing not so
> fine.
>
>
>
> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On Behalf
> Of *Daniel Baston
> *Sent:* Thursday, August 30, 2018 11:20 AM
> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
> *Subject:* Re: [geos-devel] Refactoring CoordinateSequence
>
>
>
> Hi Regina,
>
>
>
> This work would be not cause any changes to the C API, though we would
> ultimately want to add some functions to the C API to create packed
> coordinate sequences.
>
>
>
> Dan
>
>
>
> On Thu, Aug 30, 2018 at 9:53 AM Regina Obe <lr at pcorp.us> wrote:
>
> I have no objection.  I know Vicky was complaining about the large number
> of functions that should be private that are exposed. She was planning to
> deprecate them in 3.8 and remove/make private in a later release.
>
>
>
> I'm not sure if this is related to that if she's even looked at that
> class.  Are these linked into CAPI at all?  If so we should probably stub
> them with an error, if not, I don't care if they are removed as we never
> said the C++ -API is stable yet.  My hope is once we clean things up a bit,
> we can guarantee some level of stability for the C++ API as well.
>
>
>
>
>
> Thanks,
>
> Regina
>
>
>
> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On Behalf
> Of *Daniel Baston
> *Sent:* Thursday, August 30, 2018 9:10 AM
> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
> *Subject:* [geos-devel] Refactoring CoordinateSequence
>
>
>
> I've been exploring porting the PackedCoordinateSequence from JTS to GEOS
> because it seems like a useful way to improve the interoperability of GEOS
> with other code (LWGEOM, for example) without requiring copying of
> everything into GEOS data structures. It turns out that extending
> CoordinateSequence is pretty onerous in GEOS; the CoordinateSequence class
> contains many abstract methods that are not in the corresponding
> CoordinateSequence JTS interface. These methods add requirements of
> mutability (CoordinateSequence::setAt) and extensibility/contractability
> (CoordianteSequence::add, CoordianteSequence::deleteAt) and require the
> author of a derived class to implement functionality that could be seen as
> unrelated to storing a sequence of coordinates (removeRepeatedPoints,
> apply_ro, etc.). Does anyone know why so many methods are added to GEOS
> CoordinateSequence that have no JTS equivalent, and are there any
> objections to factoring some of the functionality out of the
> CoordianteSequence class so that it's easier to write other
> CoordinateSequence implementations?
>
>
>
> Dan
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
>



-- 

Georepublic UG (haftungsbeschränkt)
Salzmannstraße 44,
81739 München, Germany

Vicky Vergara
Operations Research

eMail: vicky at georepublic.de
Web: https://georepublic.info

Tel: +49 (089) 4161 7698-1
Fax: +49 (089) 4161 7698-9

Commercial register: Amtsgericht München, HRB 181428
CEO: Daniel Kastl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180830/ed741ee3/attachment.html>

From dbaston at gmail.com  Thu Aug 30 17:05:16 2018
From: dbaston at gmail.com (Daniel Baston)
Date: Thu, 30 Aug 2018 20:05:16 -0400
Subject: [geos-devel] Refactoring CoordinateSequence
In-Reply-To: <CAK_FzuU9cE1FYyD8uYR_Nf1wfmPkqChxQqAuuCBd=CHA-_S9tA@mail.gmail.com>
References: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
 <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>
 <CA+K_q_owSbqNFzqEg2q4Gw09W3naQhvdP_rpXpwM7FRn6XwzxQ@mail.gmail.com>
 <000001d4407a$82403220$86c09660$@pcorp.us>
 <CAK_FzuU9cE1FYyD8uYR_Nf1wfmPkqChxQqAuuCBd=CHA-_S9tA@mail.gmail.com>
Message-ID: <CA+K_q_pUtH6eK8hKJSUNNGyV2s4XNj36DX7_N=jsT-7Sx=uA8g@mail.gmail.com>

> Very strange desing for those 2 classes (I would first "merge" both
classes into one, SetAt is on CoordinateArraySequence)

Well, the reasoning for this is in the JTS source. CoordinateSequence is
intended as an interface that can have multiple implementations, one of
them being a CoordinateArraySequence. Another is a
PackedCoordinateSequence. So, merging these classes seems like a step in
the wrong direction.

GEOS' raison d'etre is a native port of JTS, so a "divorce" doesn't seem
fruitful to me. JTS is recently seeing quite a bit of new development, and
it's more challenging to share improvements if the codebases diverge. I
don't think a line-by-line port is desirable, and we should take advantage
of niceties like STL algorithms where we can, but keeping the classes and
methods similar seems reasonable.

Dan

On Thu, Aug 30, 2018 at 5:43 PM Vicky Vergara <vicky at georepublic.de> wrote:

> In GEOS there are 2 classes about Coordinate Sequence
>
> https://cvvergara.github.io/GEOS/classgeos_1_1geom_1_1CoordinateSequence.html
>
> https://cvvergara.github.io/GEOS/classgeos_1_1geom_1_1CoordinateArraySequence.html
>
> CoordinateArraySequence is "an Array view" for CoordinateSequence
> I find these 2 classes confusing, normally you use CoordinateSequence,
> some operations are accesible only through CoordinateArraySequence
> Very strange desing for those 2 classes (I would first "merge" both
> classes into one, SetAt is on CoordinateArraySequence)
>
> I dont object on re-design (hey I like to do this kind of stuff), but a
> careful analysis (experimentation of ideas, like the one above) needs to be
> made, because the CoordinateSequence is used in may parts of GEOS.
>
> Regards
> VIcky
>
> I was never "married" to JTS, I think GEOS must get "divorced" of JTS, and
> a re-design is part of the divorce papers :)
>
>
>
>
>
> On Thu, Aug 30, 2018 at 11:00 AM, Regina Obe <lr at pcorp.us> wrote:
>
>> Great.  I'm fine with it then – adding to C-APi is fine, removing not so
>> fine.
>>
>>
>>
>> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On
>> Behalf Of *Daniel Baston
>> *Sent:* Thursday, August 30, 2018 11:20 AM
>> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
>> *Subject:* Re: [geos-devel] Refactoring CoordinateSequence
>>
>>
>>
>> Hi Regina,
>>
>>
>>
>> This work would be not cause any changes to the C API, though we would
>> ultimately want to add some functions to the C API to create packed
>> coordinate sequences.
>>
>>
>>
>> Dan
>>
>>
>>
>> On Thu, Aug 30, 2018 at 9:53 AM Regina Obe <lr at pcorp.us> wrote:
>>
>> I have no objection.  I know Vicky was complaining about the large number
>> of functions that should be private that are exposed. She was planning to
>> deprecate them in 3.8 and remove/make private in a later release.
>>
>>
>>
>> I'm not sure if this is related to that if she's even looked at that
>> class.  Are these linked into CAPI at all?  If so we should probably stub
>> them with an error, if not, I don't care if they are removed as we never
>> said the C++ -API is stable yet.  My hope is once we clean things up a bit,
>> we can guarantee some level of stability for the C++ API as well.
>>
>>
>>
>>
>>
>> Thanks,
>>
>> Regina
>>
>>
>>
>> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On
>> Behalf Of *Daniel Baston
>> *Sent:* Thursday, August 30, 2018 9:10 AM
>> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
>> *Subject:* [geos-devel] Refactoring CoordinateSequence
>>
>>
>>
>> I've been exploring porting the PackedCoordinateSequence from JTS to GEOS
>> because it seems like a useful way to improve the interoperability of GEOS
>> with other code (LWGEOM, for example) without requiring copying of
>> everything into GEOS data structures. It turns out that extending
>> CoordinateSequence is pretty onerous in GEOS; the CoordinateSequence class
>> contains many abstract methods that are not in the corresponding
>> CoordinateSequence JTS interface. These methods add requirements of
>> mutability (CoordinateSequence::setAt) and extensibility/contractability
>> (CoordianteSequence::add, CoordianteSequence::deleteAt) and require the
>> author of a derived class to implement functionality that could be seen as
>> unrelated to storing a sequence of coordinates (removeRepeatedPoints,
>> apply_ro, etc.). Does anyone know why so many methods are added to GEOS
>> CoordinateSequence that have no JTS equivalent, and are there any
>> objections to factoring some of the functionality out of the
>> CoordianteSequence class so that it's easier to write other
>> CoordinateSequence implementations?
>>
>>
>>
>> Dan
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>
>
>
> --
>
> Georepublic UG (haftungsbeschränkt)
> Salzmannstraße 44,
> 81739 München, Germany
>
> Vicky Vergara
> Operations Research
>
> eMail: vicky at georepublic.de
> Web: https://georepublic.info
>
> Tel: +49 (089) 4161 7698-1
> Fax: +49 (089) 4161 7698-9
>
> Commercial register: Amtsgericht München, HRB 181428
> CEO: Daniel Kastl
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180830/2648aee1/attachment-0001.html>

From vicky at georepublic.de  Thu Aug 30 18:31:09 2018
From: vicky at georepublic.de (Vicky Vergara)
Date: Thu, 30 Aug 2018 20:31:09 -0500
Subject: [geos-devel] Refactoring CoordinateSequence
In-Reply-To: <CA+K_q_pUtH6eK8hKJSUNNGyV2s4XNj36DX7_N=jsT-7Sx=uA8g@mail.gmail.com>
References: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
 <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>
 <CA+K_q_owSbqNFzqEg2q4Gw09W3naQhvdP_rpXpwM7FRn6XwzxQ@mail.gmail.com>
 <000001d4407a$82403220$86c09660$@pcorp.us>
 <CAK_FzuU9cE1FYyD8uYR_Nf1wfmPkqChxQqAuuCBd=CHA-_S9tA@mail.gmail.com>
 <CA+K_q_pUtH6eK8hKJSUNNGyV2s4XNj36DX7_N=jsT-7Sx=uA8g@mail.gmail.com>
Message-ID: <CAK_FzuWr9QPbL1ZAaScOnLr4k1SA=3TftLRyCkpj4=ygFtyyag@mail.gmail.com>

I really dont notice where the "pack" is taking place.

On Thu, Aug 30, 2018 at 7:05 PM, Daniel Baston <dbaston at gmail.com> wrote:

> > Very strange desing for those 2 classes (I would first "merge" both
> classes into one, SetAt is on CoordinateArraySequence)
>
> Well, the reasoning for this is in the JTS source. CoordinateSequence is
> intended as an interface that can have multiple implementations, one of
> them being a CoordinateArraySequence. Another is a
> PackedCoordinateSequence. So, merging these classes seems like a step in
> the wrong direction.
>
> GEOS' raison d'etre is a native port of JTS, so a "divorce" doesn't seem
> fruitful to me. JTS is recently seeing quite a bit of new development, and
> it's more challenging to share improvements if the codebases diverge. I
> don't think a line-by-line port is desirable, and we should take advantage
> of niceties like STL algorithms where we can, but keeping the classes and
> methods similar seems reasonable.
>
> Dan
>
> On Thu, Aug 30, 2018 at 5:43 PM Vicky Vergara <vicky at georepublic.de>
> wrote:
>
>> In GEOS there are 2 classes about Coordinate Sequence
>> https://cvvergara.github.io/GEOS/classgeos_1_1geom_1_
>> 1CoordinateSequence.html
>> https://cvvergara.github.io/GEOS/classgeos_1_1geom_1_
>> 1CoordinateArraySequence.html
>>
>> CoordinateArraySequence is "an Array view" for CoordinateSequence
>> I find these 2 classes confusing, normally you use CoordinateSequence,
>> some operations are accesible only through CoordinateArraySequence
>> Very strange desing for those 2 classes (I would first "merge" both
>> classes into one, SetAt is on CoordinateArraySequence)
>>
>> I dont object on re-design (hey I like to do this kind of stuff), but a
>> careful analysis (experimentation of ideas, like the one above) needs to be
>> made, because the CoordinateSequence is used in may parts of GEOS.
>>
>> Regards
>> VIcky
>>
>> I was never "married" to JTS, I think GEOS must get "divorced" of JTS,
>> and a re-design is part of the divorce papers :)
>>
>>
>>
>>
>>
>> On Thu, Aug 30, 2018 at 11:00 AM, Regina Obe <lr at pcorp.us> wrote:
>>
>>> Great.  I'm fine with it then – adding to C-APi is fine, removing not so
>>> fine.
>>>
>>>
>>>
>>> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On
>>> Behalf Of *Daniel Baston
>>> *Sent:* Thursday, August 30, 2018 11:20 AM
>>> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
>>> *Subject:* Re: [geos-devel] Refactoring CoordinateSequence
>>>
>>>
>>>
>>> Hi Regina,
>>>
>>>
>>>
>>> This work would be not cause any changes to the C API, though we would
>>> ultimately want to add some functions to the C API to create packed
>>> coordinate sequences.
>>>
>>>
>>>
>>> Dan
>>>
>>>
>>>
>>> On Thu, Aug 30, 2018 at 9:53 AM Regina Obe <lr at pcorp.us> wrote:
>>>
>>> I have no objection.  I know Vicky was complaining about the large
>>> number of functions that should be private that are exposed. She was
>>> planning to deprecate them in 3.8 and remove/make private in a later
>>> release.
>>>
>>>
>>>
>>> I'm not sure if this is related to that if she's even looked at that
>>> class.  Are these linked into CAPI at all?  If so we should probably stub
>>> them with an error, if not, I don't care if they are removed as we never
>>> said the C++ -API is stable yet.  My hope is once we clean things up a bit,
>>> we can guarantee some level of stability for the C++ API as well.
>>>
>>>
>>>
>>>
>>>
>>> Thanks,
>>>
>>> Regina
>>>
>>>
>>>
>>> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On
>>> Behalf Of *Daniel Baston
>>> *Sent:* Thursday, August 30, 2018 9:10 AM
>>> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
>>> *Subject:* [geos-devel] Refactoring CoordinateSequence
>>>
>>>
>>>
>>> I've been exploring porting the PackedCoordinateSequence from JTS to
>>> GEOS because it seems like a useful way to improve the interoperability of
>>> GEOS with other code (LWGEOM, for example) without requiring copying of
>>> everything into GEOS data structures. It turns out that extending
>>> CoordinateSequence is pretty onerous in GEOS; the CoordinateSequence class
>>> contains many abstract methods that are not in the corresponding
>>> CoordinateSequence JTS interface. These methods add requirements of
>>> mutability (CoordinateSequence::setAt) and extensibility/contractability
>>> (CoordianteSequence::add, CoordianteSequence::deleteAt) and require the
>>> author of a derived class to implement functionality that could be seen as
>>> unrelated to storing a sequence of coordinates (removeRepeatedPoints,
>>> apply_ro, etc.). Does anyone know why so many methods are added to GEOS
>>> CoordinateSequence that have no JTS equivalent, and are there any
>>> objections to factoring some of the functionality out of the
>>> CoordianteSequence class so that it's easier to write other
>>> CoordinateSequence implementations?
>>>
>>>
>>>
>>> Dan
>>>
>>> _______________________________________________
>>> geos-devel mailing list
>>> geos-devel at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/geos-devel
>>>
>>>
>>> _______________________________________________
>>> geos-devel mailing list
>>> geos-devel at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/geos-devel
>>>
>>
>>
>>
>> --
>>
>> Georepublic UG (haftungsbeschränkt)
>> Salzmannstraße 44,
>> 81739 München, Germany
>>
>> Vicky Vergara
>> Operations Research
>>
>> eMail: vicky at georepublic.de
>> Web: https://georepublic.info
>>
>> Tel: +49 (089) 4161 7698-1
>> Fax: +49 (089) 4161 7698-9
>>
>> Commercial register: Amtsgericht München, HRB 181428
>> CEO: Daniel Kastl
>>
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/geos-devel
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
>



-- 

Georepublic UG (haftungsbeschränkt)
Salzmannstraße 44,
81739 München, Germany

Vicky Vergara
Operations Research

eMail: vicky at georepublic.de
Web: https://georepublic.info

Tel: +49 (089) 4161 7698-1
Fax: +49 (089) 4161 7698-9

Commercial register: Amtsgericht München, HRB 181428
CEO: Daniel Kastl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180830/1ab277dd/attachment.html>

From geos-trac at osgeo.org  Thu Aug 30 18:40:54 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 31 Aug 2018 01:40:54 -0000
Subject: [geos-devel] [GEOS] #849: clang-tidy:
 readability-container-size-empty size() == 0 can be replaced with empty()
In-Reply-To: <045.ac6eb8a3e951ef17e0cf58dda1d5426d@osgeo.org>
References: <045.ac6eb8a3e951ef17e0cf58dda1d5426d@osgeo.org>
Message-ID: <060.9c0982923513c7c34af1bc77645dbe64@osgeo.org>

#849: clang-tidy: readability-container-size-empty  size() == 0 can be replaced
with empty()
-------------------------------------------------+-------------------------
 Reporter:  goatbar                              |       Owner:  geos-
                                                 |  devel@…
     Type:  defect                               |      Status:  closed
 Priority:  minor                                |   Milestone:  3.8.0
Component:  Default                              |     Version:  master
 Severity:  Unassigned                           |  Resolution:  fixed
 Keywords:  clangtidy size empty readability-    |
  container-size-empty                           |
-------------------------------------------------+-------------------------
Changes (by cvvergara <vicky@…>):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 In [changeset:"55d8d35b2a399deb324239573881d947fca49061/git" 55d8d35/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="55d8d35b2a399deb324239573881d947fca49061"
 Closes #849, Using empty() instead of comparing size() vs 0
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/849#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Fri Aug 31 05:57:48 2018
From: lr at pcorp.us (Regina Obe)
Date: Fri, 31 Aug 2018 08:57:48 -0400
Subject: [geos-devel] Refactoring CoordinateSequence
In-Reply-To: <CA+K_q_pUtH6eK8hKJSUNNGyV2s4XNj36DX7_N=jsT-7Sx=uA8g@mail.gmail.com>
References: <CA+K_q_qWEkW-B=KBEBXt+35_15W1QOWYGrJ+sznxzDD3SZoYGA@mail.gmail.com>
 <001301d44068$cce9fc50$66bdf4f0$@pcorp.us>
 <CA+K_q_owSbqNFzqEg2q4Gw09W3naQhvdP_rpXpwM7FRn6XwzxQ@mail.gmail.com>
 <000001d4407a$82403220$86c09660$@pcorp.us>
 <CAK_FzuU9cE1FYyD8uYR_Nf1wfmPkqChxQqAuuCBd=CHA-_S9tA@mail.gmail.com>
 <CA+K_q_pUtH6eK8hKJSUNNGyV2s4XNj36DX7_N=jsT-7Sx=uA8g@mail.gmail.com>
Message-ID: <000b01d4412a$38a9f000$a9fdd000$@pcorp.us>


> GEOS' raison d'etre is a native port of JTS, so a "divorce" doesn't seem fruitful to me.
> JTS is recently seeing quite a bit of new development, and it's more challenging to share improvements if the codebases diverge. 
> I don't think a line-by-line port is desirable, and we should take advantage of niceties like STL algorithms where we can, but keeping the classes and methods similar seems reasonable.

> Dan

I would agree mostly.  Let's not keep line by line, but try to keep at least with same methods where it makes sense.
I would also like to add, that if devs in GEOS have new algorithm ideas (or fixes) not yet implemented in JTS, I would hate for us to wait to have them implemented in JTS before we can do anything about them.

The sentiment - "Let's wait till JTS fixes it or Let's wait till JTS implements it", annoys me. 

Thanks,
Regina



