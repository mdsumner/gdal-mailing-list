From geos-trac at osgeo.org  Mon Jul  8 17:08:45 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 09 Jul 2019 00:08:45 -0000
Subject: [geos-devel] [GEOS] #974: Union of Polylines results in additional
	segments
Message-ID: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>

#974: Union of Polylines results in additional segments
------------------------+------------------------------
 Reporter:  jerryfaust  |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  minor       |  Milestone:
Component:  Default     |    Version:  3.4.2
 Severity:  Unassigned  |   Keywords:  UNION UNARYUNION
------------------------+------------------------------
 Hello.

 Hopefully I'm overlooking something simple.  I am selecting a group of
 roads.  I want to Union and Buffer them in order to search within the
 resulting polygon.

 However, when I get back the union, there are additional line segments
 that did not exist in the original set.

 I've tried individually Union'ing them, I've tried UnaryUnion of a multi-
 part polyline (MultiLineString). I've also clipper calls.  And I always
 get a similar result.

 I've tried reording the lines as I union them [[Image()]]so that each
 union operation always involves line segments that touch eachother.

 I'm hoping that there is something that I'm simply overlooking, or not
 understanding, or not using properly.

 I'm attaching a snapshot of the circle used to 'select' the streets.  I'm
 expecting a result something like a '#' sign, or tic-tac-toe.  But I get
 additional diagonal lines in the result set.

 Thank you for any feedback.

 Regards.
 Jerry.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/974>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul  8 17:09:14 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 09 Jul 2019 00:09:14 -0000
Subject: [geos-devel] [GEOS] #974: Union of Polylines results in
	additional segments
In-Reply-To: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
References: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
Message-ID: <063.1b08b0ba379addb01c41ebedfa153161@osgeo.org>

#974: Union of Polylines results in additional segments
------------------------------+---------------------------
 Reporter:  jerryfaust        |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  minor             |   Milestone:
Component:  Default           |     Version:  3.4.2
 Severity:  Unassigned        |  Resolution:
 Keywords:  UNION UNARYUNION  |
------------------------------+---------------------------
Changes (by jerryfaust):

 * Attachment "Circular Container.PNG" added.


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/974>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul  8 17:09:26 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 09 Jul 2019 00:09:26 -0000
Subject: [geos-devel] [GEOS] #974: Union of Polylines results in
	additional segments
In-Reply-To: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
References: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
Message-ID: <063.05f653b8d200e973936114140bb93a14@osgeo.org>

#974: Union of Polylines results in additional segments
------------------------------+---------------------------
 Reporter:  jerryfaust        |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  minor             |   Milestone:
Component:  Default           |     Version:  3.4.2
 Severity:  Unassigned        |  Resolution:
 Keywords:  UNION UNARYUNION  |
------------------------------+---------------------------
Changes (by jerryfaust):

 * Attachment "Unioned Streets.PNG" added.


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/974>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  9 04:09:55 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 09 Jul 2019 11:09:55 -0000
Subject: [geos-devel] [GEOS] #974: Union of Polylines results in
	additional segments
In-Reply-To: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
References: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
Message-ID: <063.0cd5cd43139605aa553efb2bb47f77f1@osgeo.org>

#974: Union of Polylines results in additional segments
------------------------------+---------------------------
 Reporter:  jerryfaust        |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  minor             |   Milestone:
Component:  Default           |     Version:  3.4.2
 Severity:  Unassigned        |  Resolution:
 Keywords:  UNION UNARYUNION  |
------------------------------+---------------------------

Comment (by komzpa):

 Hi,

 Can you share a snippet of code how you do it?
 (Coming from PostGIS land this looks like ST_MakeLine GEOS analogue used
 instead of ST_Union)

 I haven't seen this behavior accessing GEOS via PostGIS.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/974#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul  9 08:48:50 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 09 Jul 2019 15:48:50 -0000
Subject: [geos-devel] [GEOS] #974: Union of Polylines results in
	additional segments
In-Reply-To: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
References: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
Message-ID: <063.513fda1e73df6f1977880ab255abd99c@osgeo.org>

#974: Union of Polylines results in additional segments
------------------------------+---------------------------
 Reporter:  jerryfaust        |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  minor             |   Milestone:
Component:  Default           |     Version:  3.4.2
 Severity:  Unassigned        |  Resolution:
 Keywords:  UNION UNARYUNION  |
------------------------------+---------------------------

Comment (by mdavis):

 this seems like a straightforward case for unioning lines, so it's very
 unlikely the problem is in GEOS.  It's more likely to be caused by how
 GEOS is called.  This has the appearance of a situation where the client
 code is providing the lines as a single list of coordinates, rather than a
 set of individual linestrings.

 If possible please post a code snippet or even better a self-contained
 unit test showing the behaviour.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/974#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at kbt.io  Wed Jul 10 14:58:08 2019
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 10 Jul 2019 23:58:08 +0200
Subject: [geos-devel] [astroidex@gmail.com: geos Please join the final
 OSGeoLive 13.0 testing sprint this weekend (12-14 July 2019) - call to
 action]
Message-ID: <20190710215808.GA9576@liz>

New GEOS devs, want to help testing OSGeoLive 13.0 ?
Please take a look, that's a great way to get more people closer
to our project :)

--strk;

----- Forwarded message from astroidex at gmail.com -----

Date: Wed, 10 Jul 2019 21:40:22 +0000
From: astroidex at gmail.com
To: Sandro Santilli <strk at kbt.io>, Frank Warmerdam <warmerdam at pobox.com>
Cc: Astrid Emde <astrid_emde at osgeo.org>
Subject: geos Please join the final OSGeoLive 13.0 testing sprint this weekend (12-14 July 2019) - call to action
Message-ID: <00000000000042d1ce058d5a86ba at google.com>

Hi Sandro, Frank,

after much hard work from the OSGeoLive build team, we released the first beta
version of OSGeoLive 13.0.

We are calling for help for the final OSGeoLive testing sprint, this weekend,
12-14 July 2019. We really want OSGeo seasoned developers to find any
outstanding issues, rather than having them found in workshops or by new users
in the released version.

So please consider joining our testing-sprint to verify your favourite
application works.

* Sign up at: ​https://trac.osgeo.org/osgeolive/wiki/Press Release 85
* Download ISO from: ​http://aiolos.survey.ntua.gr/gisvm/13.0/
* Chat about your progress with us at: ​irc://irc.freenode.net#osgeolive
* Update your testing status at: ​https://docs.google.com/spreadsheets/d/1Q5BaEgQtgw4O1bXyeWMlM8XtAOhUgcjZ7Y2O0FZc2H0/edit#gid=430477653

We aim to have each application tested by both someone familiar with it, and
someone less familiar.

Daily Checkin
* We will be checking in daily on ​irc://irc.freenode.net#osgeolive at: ​https://www.timeanddate.com/worldclock/meetingdetails.html?hour=20&min=00&sec=00&p1=179&p2=189&p3=224&p4=22&p5=240&p6=196&p7=215

And you will likely catch one of our core team on IRC outside this timeslot as
well.

Participants
----------------
* Angelos Tzotsos, gcpp.kalxas gmail.com
* Cameron Shorter, cameron . shorter AT gmail . com
* Astrid Emde, astroidex astrid_emde AT osgeo dot org

Contact us
---------------
If you would like to add a new project, help us to get in the cloud or have
another goal you would like to work on and get involved you are very welcome.

Please join the OSGeoLive mailing list [5] or meet us on IRC at our weekly
meeting.

About OSGeoLive
------------------------
OSGeoLive (​​http://live.osgeo.org) is a ​Lubuntu based distribution of
Geospatial Open Source Software, available via a Live DVD, Virtual Machine and
USB. You can use OSGeoLive to try a wide variety of open source geospatial
software without installing anything.

OSGeoLive team

[1] ​​https://2019.foss4g.org/

[2] ​​https://docs.google.com/spreadsheets/d/1kO6zzmLFfprZGgp5x7Sjwi-EVN6NTGDR4KXvFVtNpR0/edit?hl=en_GB&hl=en_GB#gid=0

[3] ​​https://www.transifex.com/osgeo/osgeolive/

[4] ​​https://wiki.osgeo.org/wiki/OSGeoLive_Translation_Process#Translate_on_Transifex

[5] ​https://lists.osgeo.org/mailman/listinfo/osgeolive

[6] IRC see Communication ​https://trac.osgeo.org/osgeolive/wiki

Press release 85: https://trac.osgeo.org/osgeolive/wiki/Press%20Release%2085

----- End forwarded message -----

From geos-trac at osgeo.org  Sat Jul 13 13:42:25 2019
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 13 Jul 2019 20:42:25 -0000
Subject: [geos-devel] [GEOS] #974: Union of Polylines results in
	additional segments
In-Reply-To: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
References: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
Message-ID: <063.18f08cca1017fc8199659fd32102cef3@osgeo.org>

#974: Union of Polylines results in additional segments
------------------------------+---------------------------
 Reporter:  jerryfaust        |       Owner:  geos-devel@…
     Type:  defect            |      Status:  new
 Priority:  minor             |   Milestone:
Component:  Default           |     Version:  3.4.2
 Severity:  Unassigned        |  Resolution:
 Keywords:  UNION UNARYUNION  |
------------------------------+---------------------------

Comment (by jerryfaust):

 Thank you for the feedback.

 I walked through the process again and found MY error.  During one of the
 steps in my process, while reprojecting the points of the multi-part line,
 I lost the 'Parts', so it became an oddly connected single linestring.

 Thanks again.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/974#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Jul 13 13:46:22 2019
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 13 Jul 2019 20:46:22 -0000
Subject: [geos-devel] [GEOS] #974: Union of Polylines results in
	additional segments
In-Reply-To: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
References: <048.4977752b1adcf67f3150881ff2692eff@osgeo.org>
Message-ID: <063.c265649e81d7735d4ea9d21c40c73c58@osgeo.org>

#974: Union of Polylines results in additional segments
------------------------------+---------------------------
 Reporter:  jerryfaust        |       Owner:  geos-devel@…
     Type:  defect            |      Status:  closed
 Priority:  minor             |   Milestone:
Component:  Default           |     Version:  3.4.2
 Severity:  Unassigned        |  Resolution:  invalid
 Keywords:  UNION UNARYUNION  |
------------------------------+---------------------------
Changes (by komzpa):

 * status:  new => closed
 * resolution:   => invalid


Comment:

 Thanks for the update. Have a good day.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/974#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 14 11:55:24 2019
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 14 Jul 2019 18:55:24 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
Message-ID: <044.397241d066e8505928206efe983c3c43@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+--------------------------
 Reporter:  komzpa      |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 https://trac.osgeo.org/postgis/ticket/4335

 {{{
 SELECT ST_VoronoiPolygons(ST_GeomFromWKB(
 E'\\001\\354\\003\\000\\000\\027\\000\\000\\000\\001\\351\\003\\000\\000\\354Q\\270\\036\\021\\242\\007A\\354Q\\270\\036\\205\\245\\034A\\\\\\217\\302\\365(\\3345@\\001\\351\\003\\000\\000\\037\\205\\353Q\\024\\242\\007A\\\\\\217\\302\\365\\205\\245\\034A{\\024\\256G\\341\\2725@\\001\\351\\003\\000\\000\\205\\353Q\\270\\030\\242\\007A\\250\\306K7\\206\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\000\\000\\000\\000\\033\\242\\007A\\376\\324x\\351\\204\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\205\\353Q\\270\\030\\242\\007A\\376\\324x\\351\\204\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\012\\327\\243p\\026\\242\\007A\\376\\324x\\351\\204\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\000\\000\\000\\000\\033\\242\\007AT\\343\\245\\233\\203\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\205\\353Q\\270\\030\\242\\007AT\\343\\245\\233\\203\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\012\\327\\243p\\026\\242\\007AT\\343\\245\\233\\203\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\000\\000\\000\\000\\033\\242\\007A\\252\\361\\322M\\202\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\205\\353Q\\270\\030\\242\\007A\\252\\361\\322M\\202\\245\\034A>\\012\\327\\243p\\2355@\\001\\351\\003\\000\\000\\366(\\\\\\217\\022\\242\\007A\\354Q\\270\\036\\210\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000""""\\020\\242\\007AR\\270\\036\\305\\206\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000O\\033\\350\\264\\015\\242\\007AR\\270\\036\\305\\206\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000{\\024\\256G\\013\\242\\007AR\\270\\036\\305\\206\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000""""\\020\\242\\007A\\270\\036\\205k\\205\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000O\\033\\350\\264\\015\\242\\007A\\270\\036\\205k\\205\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000{\\024\\256G\\013\\242\\007A\\270\\036\\205k\\205\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000\\247\\015t\\332\\010\\242\\007A\\270\\036\\205k\\205\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000\\324\\006:m\\006\\242\\007A\\270\\036\\205k\\205\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000{\\024\\256G\\013\\242\\007A\\037\\205\\353\\021\\204\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000\\247\\015t\\332\\010\\242\\007A\\037\\205\\353\\021\\204\\245\\034AA`\\345\\320"\\3335@\\001\\351\\003\\000\\000\\324\\006:m\\006\\242\\007A\\037\\205\\353\\021\\204\\245\\034AA`\\345\\320"\\3335@'
 ))
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 14 20:38:54 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 03:38:54 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.98bf86552f35989bada9d99232effd00@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Can you post plain 'ol WKB?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 14 23:17:58 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 06:17:58 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.a5d704d65570c22e03269db0ffbf4fe6@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 {{{0104000080170000000101000080EC51B81E11A20741EC51B81E85A51C415C8FC2F528DC354001010000801F85EB5114A207415C8FC2F585A51C417B14AE47E1BA3540010100008085EB51B818A20741A8C64B3786A51C413E0AD7A3709D35400101000080000000001BA20741FED478E984A51C413E0AD7A3709D3540010100008085EB51B818A20741FED478E984A51C413E0AD7A3709D354001010000800AD7A37016A20741FED478E984A51C413E0AD7A3709D35400101000080000000001BA2074154E3A59B83A51C413E0AD7A3709D3540010100008085EB51B818A2074154E3A59B83A51C413E0AD7A3709D354001010000800AD7A37016A2074154E3A59B83A51C413E0AD7A3709D35400101000080000000001BA20741AAF1D24D82A51C413E0AD7A3709D3540010100008085EB51B818A20741AAF1D24D82A51C413E0AD7A3709D35400101000080F6285C8F12A20741EC51B81E88A51C414160E5D022DB354001010000802222222210A2074152B81EC586A51C414160E5D022DB354001010000804F1BE8B40DA2074152B81EC586A51C414160E5D022DB354001010000807B14AE470BA2074152B81EC586A51C414160E5D022DB354001010000802222222210A20741B81E856B85A51C414160E5D022DB354001010000804F1BE8B40DA20741B81E856B85A51C414160E5D022DB354001010000807B14AE470BA20741B81E856B85A51C414160E5D022DB35400101000080A70D74DA08A20741B81E856B85A51C414160E5D022DB35400101000080D4063A6D06A20741B81E856B85A51C414160E5D022DB354001010000807B14AE470BA207411F85EB1184A51C414160E5D022DB35400101000080A70D74DA08A207411F85EB1184A51C414160E5D022DB35400101000080D4063A6D06A207411F85EB1184A51C414160E5D022DB3540}}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 14 23:35:00 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 06:35:00 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.e14222043e0f07c64eb904055e07211f@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Thanks!

 This is a robustness issue in the current JTS overlay algorithm.  Might be
 able to be fixed with a smarter implementation of Voronoi polygons... but
 more likely will be fixed with the coming smarter implementation of
 overlay.  I will log this as a JTS issue, to surface it at source.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:08:53 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:08:53 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.799da81b2d380d592aab806278cf3918@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 This is due to a couple of the generated Voronoi polygons being
 topologically invalid, and because of that failing during the intersection
 computation (when clipping the raw Voronoi polygons to a surrounding
 rectangle).

 The reason the polygons are invalid is that they contain two points which
 are almost identical, one of which happens to lie on another edge of the
 polygon, thus creating a self-intersection.

 The reason the very close points are present is because the input points
 (Voronoi sites) generating them lie on a regular grid pattern.  This
 produces two Delaunay triangles with *almost* identical circumcentres.
 They are not 100% identical because of round-off error. The DT
 circumcentres form the vertices of the Voronoi polygons, and so polygons
 are created with almost-but-not-identical points in them.

 See attached diagrams for images.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:13:56 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:13:56 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.07da82e3ff15aa4e35ee04c901aeb3b6@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by mdavis):

 * Attachment "sites-and-delaunay.png" added.

 Shows some input site vertices lying on a regular grid, and the Delaunay
 triangles containing them which have identical circumcentres

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:16:18 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:16:18 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.7f1b3001f52add2f9f137b8668680ae7@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by mdavis):

 * Attachment "invalid-voronoi-polygons.png" added.

 Shows one of the invalid Voronoi polygons, containing a self-intersection

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:21:54 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:21:54 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.f10637187e3273e6ebe1087d02a55700@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by mdavis):

 * Attachment "invalid-polygon-detail.png" added.

 Detail of an invalid polygon, showing very close vertices causing self-
 intersection

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:26:36 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:26:36 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.7b3f4645b1f699f2c84a8fb1da016ec3@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 At the moment I'm not sure what an appropriate fix would be.  Some sort of
 slight snapping, probably, but not sure where or how to determine an
 appropriate tolerance.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:37:50 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:37:50 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.ee1ac753c7caf1954cd422e0ee1d7bde@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Perhaps another way of fixing this is to detect pairs of triangles which
 should have identical circumcentres and force this to be the case.  I'm
 not sure it's possible to do this in full generality, but for points
 falling exactly on a square (or diamond) it is possible to robustly detect
 that the circumcentres should be the same.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:43:26 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:43:26 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.4015789e16f4b3e7ed4f76754590e4da@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 Can longer arithmetics solve that? There's a patch of mine in master that
 promotes double to long double - is it reproducing on master?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:51:01 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:51:01 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.d7c40b735e7ddad705c2b4b0b60c55fb@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Reported upstream in JTS: https://github.com/locationtech/jts/issues/447

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 11:52:46 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 18:52:46 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.70e04dd71365fee9fe11f2a4e4bf42dd@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Extra precision might fix the problem.  Have to try it and see.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:9>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 12:08:21 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 19:08:21 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.5c02ce4d9cd2352ba3a3e1a6f63817fd@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 This is the place to see if extra precision can provide a more stable
 circumcentre result:

 https://github.com/libgeos/geos/blob/master/src/triangulate/quadedge/QuadEdgeSubdivision.cpp#L424

 The circumcentre call could be replaced with one that uses higher
 precision arithmetic.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:10>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 12:18:30 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 19:18:30 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.c9ed6478b39abef13fa56a77915b6e89@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Here's a simple test case to reproduce the problem. It's two of the
 Delaunay triangles.
 {{{
 GEOMETRYCOLLECTION (POLYGON ((193600.80333333334 469345.355,
 193600.80333333334 469345.0175, 193601.10666666666 469345.0175,
 193600.80333333334 469345.355)),
   POLYGON ((193600.80333333334 469345.355, 193601.10666666666 469345.0175,
 193601.10666666666 469345.355, 193600.80333333334 469345.355)))
 }}}

 Computing the circumcentres produces slightly different points:
 {{{
 GEOMETRYCOLLECTION (POINT (193600.95500000002 469345.18625),
                     POINT (193600.95500000002 469345.18624999997) )
 }}}

 This can be tried with extended-precision to see if it produces identical
 points.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:11>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 16:15:03 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 23:15:03 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.fc7e87f96ef1132d87191b0d16de9016@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Good news... I implemented Triangle.circumcentreDD in JTS, using the JTS
 extended precision floating point provided by DD.  The test case above now
 works, and so does the original Voronoi calculation.

 I'll be committing this to JTS very shortly.

 Based on the thread from Dec 2018 about DoubleDouble vs long double [1],
 it seems like perhaps DoubleDouble is the way to go for this in GEOS?

 [1] http://osgeo-org.1560.x6.nabble.com/double-double-td5388315.html

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:12>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 16:28:07 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 15 Jul 2019 23:28:07 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.e28071565e035c714b396910f24d7f91@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 It also looks like just about any set of points on a grid will trigger
 this issue, and is handled by the fix in the works. So this is definitely
 worthwhile to implement.

 DD arithmetic is slower than double precision, of course, but this code is
 only used when generating Voronoi diagrams, and the slowdown is likely a
 small percentage of the runtime.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:13>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 15 20:20:24 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 16 Jul 2019 03:20:24 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.a285f75f5780f23e986617c9cfee88f2@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Fixed in JTS by https://github.com/locationtech/jts/pull/448

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:14>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul 16 03:04:19 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 16 Jul 2019 10:04:19 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.6b701711e1aa91487438a00295f04fcd@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 > Based on the thread from Dec 2018 about DoubleDouble? vs long double
 [1], it seems like perhaps DoubleDouble? is the way to go for this in
 GEOS?

 going to long double is just a matter of adding "long" all over the
 function, and has almost no performance penalty. Worth trying that first?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:15>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul 16 08:16:11 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 16 Jul 2019 15:16:11 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.845df239f927ae2ec26db0977aec7b34@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Replying to [comment:15 komzpa]:
 > going to long double is just a matter of adding "long" all over the
 function, and has almost no performance penalty. Worth trying that first?

 My reading suggests that compilers can choose how to implement long
 double, and some may choose to implement it as plain double (including
 clang and MSVC?).  So that would not make it useful for GEOS in general-
 although we can try it to see if it works in some cases.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:16>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul 16 08:31:12 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 16 Jul 2019 15:31:12 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.16534ad79e7102f8e8b60954b9903933@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by dbaston):

 `long double` is also not the same as `DoubleDouble` even if it available.
 Given that GEOS is already set up to use the `ttmath` library for
 extended-precision, I can't see a reason not to use it.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:17>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jul 16 13:34:02 2019
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 16 Jul 2019 20:34:02 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.4174752ea2349aa30766dd3d16850a2f@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Agreed, ttmath seems like the best solution.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:18>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 09:35:27 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 16:35:27 -0000
Subject: [geos-devel] [GEOS] #978: UnaryUnion topology exception
Message-ID: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>

#978: UnaryUnion topology exception
------------------------+--------------------------
 Reporter:  komzpa      |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.7.0
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 running PostGIS query:
 {{{
 19:30:50 [gis] >  select  ST_Difference(p_geom, ST_UnaryUnion(w_geom))
 from tmp_osm_population_raw_nowater where p_geom &&
 '(539614.84560837818,6759705.8015133878)'::point::geometry::box2d and
 ctid='(32000,1)'  ;
 ERROR:  XX000: lwgeom_unaryunion: GEOS Error: TopologyException: no
 outgoing dirEdge found at 539614.84560837818 6759705.8015133878
 LOCATION:  pg_error, lwgeom_pg.c:243
 Time: 61,833 ms
 }}}
 wkb:
 {{{
 p_geom,w_geom
 0103000020110F0000010000005C000000B197184175732041499A65103BC9594190EC3863DB732041F7A7A2D44DC959410C12DB65DB73204115B92CD54DC95941024FC4330D74204163A42B4459C959411022F9380D742041BC92F44559C95941B1363FA71D7420411CA9FB5E63C95941612246A81D7420410488476063C959419A2E7DE61C7420410D67DF8D80C95941DBB868E31C7420418FCA099080C95941B940F739B47320410660328EA4C95941CBF260E0867320419B85C333B5C9594179B0DE18567320411220CB01C9C95941C451A81656732041AF318702C9C959416390D93C2B732041FE159DF5D4C95941112E7EAB0A732041991E572CE5C959413BB08EA70A7320418C68A92DE5C959415272F215EC722041B834ECC2ECC9594196AA86C6EC7220415E2558BAF6C95941B67DA8C3EC722041862383BCF6C9594105555EF4C3722041BBA7FD5205CA5941C43F38F4C3722041AA140B5305CA59416727DD12BE7220412FE67E5E07CA59412A1864E6737520412FE67E5E07CA594179F395EC7375204106AD9C5B07CA5941D8C2CCEC8175204187389807F9C959414676B014827520414CA1FB0BF1C959419282B5148275204123FCD10BF1C95941C21A936B8575204100368011E2C95941CA1BEF737E752041D0B64231D5C95941E99756346F752041FB773937C9C95941E4F997BA50752041110B7DEEB7C95941610704DB32752041865DD508ADC95941DD8843570B752041FD5A951AA0C95941271246E9F974204151CD146C9BC9594176481702FA7420418D1994639BC9594193E61C46FA7420415740AE669BC9594168E3DDB40B752041AE526315A0C95941A8C646B60B75204152F4CD15A0C9594118E6FD3A337520419AAB5E04ADC9594116FD983B337520415B319404ADC959419483671C517520410E9FAEEAB7C95941E71DF81D51752041C31961EBB7C95941A1FCA9986F752041757CA734C9C95941CB4A3A996F7520417C9F0635C9C959412DC56CD97E75204100CC882FD5C95941FEC9F1D97E75204118BC1B30D5C9594189F7E7D1857520416C1BF110E2C95941B1C200D28575204135518D11E2C95941A160167B82752041A073180CF1C95941272D31538275204148E60108F9C959418985D05282752041F18BC408F9C95941C9E7CA5174752041ACA49C5D07CA5941BA276B50747520412FE67E5E07CA5941D1F350C7637820412FE67E5E07CA59412EB1A6450C792041C20E61BBF7C95941B68F103D4C792041D4073AFFEAC95941069187414C792041E6D477FEEAC95941A80BC65372792041F3B52A6FE5C959413B8DE7627279204106EAA86DE5C95941DAC5F5E09779204100D3EBF8E2C95941E770132698792041FC839EFBE2C9594108E97D10987920415E394204E3C95941F258299B727920417AFE6C78E5C959411B87C7914C7920412ECF6E06EBC95941492C42970C7920414B3534C3F7C9594103F26A8A0C792041567AF0C4F7C959419C9E1873647820412FE67E5E07CA5941519E684FA07A20412FE67E5E07CA5941BAC6AFA49F7A204198BA360CEAC95941966ECC0A9F7A20411B0C2237C6C95941EAB865119F7A20413307FA33C6C959416AEB17E50C7B2041A574BDD9ADC9594173D3F7B83F7B20411277EA18A2C95941EE8729B93F7B20415714DF18A2C9594156130BC76F7B20411407483197C959412751E60D8B7B2041288F6B4888C95941561144A7627B2041FF64252579C95941FDC9BD13127B2041B06944876DC95941F3FEE213737A20414B2F18355FC959410B4AC5C9A2792041B27D7EEC59C9594138BEA9D939792041D499512559C959416747BBCB3979204138F1F72459C95941D37207AF9B782041C07B573452C9594157295212C87720419261CECA4AC95941BCF704F0C777204107BBD4C64AC959417A84A169B377204166C7E1B843C9594173B1ED64AE762041AE71761543C959418C91405EAE762041383B641543C959413B2DD82E767520413867322A3DC95941A42863FCC5742041F35EEA9C3EC95941B6EAB9F4C5742041761BE89C3EC95941B197184175732041499A65103BC95941,0106000020110F00000B00000001030000000100000045000000DD106D2CAC7F2041450E10331BC95941F31864B88F7F2041E2EFF2D61AC95941ABC29425867F204117F6E55C1AC95941FAB16AF34C7F20418DA15CEE19C95941FB95996F1B7F2041D8FB84A319C9594130CE0671BF7E2041A37B19FE17C95941CE7499DD3D7E2041B251B1C015C95941BF51737FCC7D2041F7D5088E12C959411655EE3E227D2041DF6F59440FC95941CFB37964CA7C2041ECCCA44B0EC959419509A87A527C204100AB7DB70FC9594166139B69FF7B2041283674C612C95941FE4C6F23027B20415C8C3DDE1CC959414E7D338CC679204150D716BC2AC95941DB4C3A31387920418B7866E430C9594178429AF3F27820419E1508DF32C95941E2106449D0782041DA1C996433C95941DEC65AC09F7820414A3C4AAE33C959410909B5BD6A78204133EA4CCF34C959416BA8B62142782041AAC547B837C959418732899A09782041BEF472473AC9594139C511B3E97720419D6BCB5B3BC95941DDBE168ACF772041B69309563BC95941EC13D929957720413EF996BF3CC959418CB0D1375F772041E39554F03BC959412D40B65C4177204124CF3D3938C9594126213513FB7620411659763834C9594126213513FB76204179EC459749C959413FBB12F22578204192ED9CC444C959411B632F58257820417A42B7FF43C95941FBD96FC5277820410F1D424342C9594196ABF5B2307820419F67F11F41C95941C94D71A13B782041CF1DD8B93FC959418E6F7E3A527820418985E7E23DC95941F0C2B5AB74782041201F5F493BC95941BF9233649D7820417C64B2F539C95941E8B79732D078204169DB9E1839C95941DB7900E1E3782041D45B932C38C9594192F80D71FF7820418F04B65837C95941561B10592C792041B77B077736C959410F7690BE827A20418DE0C90029C95941139F5D73797B2041253FA1921EC95941FE3B7AF7877B204155BFD27F1FC95941F8AF2243A37B20410F400E7F1EC95941A90D0CB7A77B204179E3A5AE1DC95941D9753006E27B20412B84CFAA1BC959419D00CE64F57B2041806DF9131BC95941768F3A41FE7B2041988C16701BC95941C12D8E211B7C2041137D2CA338C959414454AC451F7C2041BD2BE1E739C959410743BD0C2B7C2041E7A806353AC959417BD943CA2E7C2041223C74FB39C95941EA2D9AF3317C20415ADEA60939C959419548C3E62E7C2041C0E36DDF37C95941B1607E210F7C2041DEE1A2D919C95941B52FA228127C204168A1215C19C95941D7B9F1A7167C2041349F259E18C959417F851DE9867C204192DEAA8315C95941FC7AD048B47C2041FFEBC33015C959417B6797CDE77C2041A28D473C15C95941F9F068118D7D20410C68610A19C959418BC6F2824A7E2041931251951DC95941D940E994F27E20418A3C272C21C959418BCF2B08317F2041EE1EF34322C95941555A466D817F2041CC83510222C959413BD3A6B3917F2041D395122E22C95941C05541B4AA7F20415AE1863122C959416DDA8A59AB7F2041EADF96131FC95941DD106D2CAC7F2041450E10331BC95941010300000001000000340000007410965F397220418D5B81297DCA59417389F6A5497220411E78216E7BCA594143AD1746577220416DD19DE478CA594111858C8A63722041E0B2FA4172CA59416B04E8F98D7220413B3B4D6354CA5941482ECE87D4722041C5F85F172CCA5941C17504F6D87220411CBB4B2726CA594199C99B0BA77220419B1512C71DCA5941CDF459867272204155B0767218CA5941971E52D955722041D7D383FA11CA59412A8E13034E72204131D77BD50BCA5941EB1721755A722041600242AA03CA594131C5B4E9837220416E8F7F60F3C9594126CFA1E5AA722041BF01605DE2C95941A2993168FD722041EBF04C1FC5C95941FE2D1553307320413FFBD5D2ACC959413F5DF5E863732041A9138AEE99C959419231F560A0732041C5C697DA7EC959410284A8B7D27320419457BA0270C95941B7529683F47320418EFEBAE761C959419E413616DA7320416C0A9B6D58C95941F7ED5735B07320418BA411E14EC959416FD76EF4CE7320410E09AE6E4CC959411BE6784DFA73204149862D7A49C95941D8869F484374204190F48D6F5CC959410523D34F527420415B5B79095EC959411FA4A728837420413AE72B7E60C959415E5664CCC77420410F665F6869C95941C4AD5EE9C8742041D368CC176CC95941C0974681B974204155269A7B6DC9594126A073487E742041E46B8CC46FC95941B0085D9E73742041F5EA56B375C95941AEFD50EA6B74204161E2295E78C95941ED446FB4427420411C4AF93192C9594172CCDF4604742041935E3C6EAAC9594114BBD869E27320418082B2DAB6C959412A9A4FEBBB73204155AC3526C5C9594143D6D235B17320419A34B372CAC95941FFA562B376732041363DE73AE5C95941D57CD6D65573204154E2D18BF1C95941436B345C4373204185A46617FBC9594134B54FAA107320412B4952D810CA59413E4D43FF037320415E17922C17CA594184BD5EDA217320413EF26D5F1DCA5941ECAD4D6D43732041D8A2BB6522CA594119D090413B7320417F3D7E0025CA5941BA606AB533732041299C69A02CCA5941C5DAE9B324732041472F447735CA5941FD6ED391DD7220418F91A48C51CA59413192B817797220413099279578CA594167566B08657220417613090C7FCA59417410965F397220418D5B81297DCA594101030000000100000049000000E8EE028D71792041611DA43AE5C95941A85D9C3B7179204186524641E5C959412CDFB3F570792041A314B649E5C959418A6475E34A792041963303D9EAC959416C57CFB64A792041DF3099E0EAC95941A09570ED0A792041DB8A9593F7C95941F91F631636782041957D4C540BCA5941FB93D411617720413E526A5719CA59419F746BF960772041A110215919CA59412CC005A4BA762041563238C925CA5941DF027A47BA762041094712D225CA594152C581446A7620415D96E6762FCA5941A3BADAE7287620418D1CAF3C37CA594100EB6CC2287620416BA4A24137CA59412EA5447C8A752041A29D05904ECA59418A2221528A7520414B372E974ECA59414BC79FB711752041A09FDB6066CA5941CBCB3E85117520410830D46D66CA5941FBDA5F6B11752041B75EE17B66CA5941A51E536B1175204147964C8A66CA59419FB4E20C1C7520411894B14E72CA59416CB2F84211752041CEB33FA079CA594109978B3A117520419030C0AC79CA59410901CB4511752041CFC837B979CA5941EE48486411752041D6D52BC579CA5941DD7AD794117520410EBF26D079CA594187DD9AD511752041E87EBCD979CA5941FC4D1524127520418FC98EE179CA5941C4BB427D1275204198AC50E779CA594168D4B5DD127520410184C9EA79CA594178BAB941137520416D27D7EB79CA59416D7C76A5137520412D3A6FEA79CA5941A1E416051475204131919FE679CA5941642EEE5C14752041F3AA8DE079CA5941342D9CA9147520419E3E75D879CA59416A822EE8147520418FF0A5CE79CA5941B09A3D1615752041D64280C379CA5941FC55043215752041C2DF71B779CA5941369FB30920752041505D8C5C72CA59412F0EDE11207520412EB82E5372CA5941D9E4F10E20752041FAB0C44972CA5941E824187915752041A0E4559266CA59411776FC9F8D752041283276DF4ECA5941EF116CBD2B762041DE46129737CA59413CE28D076D762041BA8F7DD32FCA594177990B0A6D762041AA3631D32FCA5941550F0AE4BC762041DC3E4D3326CA5941E71117FB627720418799DFC719CA5941F0D0431638782041B7E444C30BCA5941E95F0A593878204199A604BE0BCA5941D81D1B9D0D792041B1BE2FF3F7C959418071C6E30D79204191C141EBF7C959419364831D0E792041400CD5E1F7C959418F01F5054E7920415AFAA828EBC959410FE494BF73792041E4E94CA6E5C959415B8762E69879204103064737E3C959416DB24A3A9979204136806430E3C959412652D78199792041DF059827E3C95941C08048BA99792041B926381DE3C9594117F872E19979204111F3AA11E3C959417068D5F599792041AA0F6205E3C959411E47A7F699792041B957D6F8E2C959417283E0E399792041EE3783ECE2C9594111D639BE9979204132F0E1E0E2C95941ABA7258799792041D0EA64D6E2C95941F2D4C14099792041D85673CDE2C95941C4DBC2ED98792041053165C6E2C95941823E5991987920411AE27FC1E2C959414623122F987920410F94F3BEE2C95941C063B4CA977920413958D9BEE2C9594168651B6897792041AF3032C1E2C959418727110B977920415B06E7C5E2C95941E8EE028D71792041611DA43AE5C9594101030000000100000035000000C0159DAE09752041572B0A31A0C959416AECB129317520414AD3731CADC95941D8AA36FE4E75204156BF12FEB7C959415B02686F6D7520412988F541C9C95941D4DB96A97C752041EB6BBE37D5C959419637579E83752041C609A512E2C95941567E1648807520417433370AF1C959415C03E447807520410FA7D70BF1C95941F778112080752041FF160504F9C9594101EB1F27727520415CC5985007CA5941418AD3F1577520413505CE8313CA5941AC82DFAB28752041C7CEEFBC1FCA5941459C90A7287520414B4F14BE1FCA5941825C8F6701752041AC4E946C2ACA5941778069CE05752041AC4E946C2ACA5941CCD1FD472C7520414C5E14F41FCA59417C82C0A05B7520419BAE15B613CA5941E16946C25B752041159FD3AA13CA594190F5730D76752041F4006F6D07CA59412376311B76752041D871986407CA5941E313371C847520411D59C00FF9C9594111A0FD1F8475204185E02508F9C95941ED2ADF478475204155DEF70CF1C95941EDC69F9E87752041E4192813E2C9594158D7A79D877520410B000E0DE2C95941CDA9B1A580752041B7A0382CD5C95941A8797FA080752041C53F7B26D5C9594146FF4C60717520414113F92BC9C959419FF1A95A71752041FEB44128C9C95941E512F8DF527520414C52FBDEB7C95941AA0B52D052752041398702D8B7C959412C8583EF347520418619E8F1ACC959413D9F74E934752041F8DFD0EFACC95941CD7FBD640D752041B0284001A0C95941519FA4560D7520414BD815FD9FC959417CA2E3E7FB742041F4C5604E9BC959412961D3B4FB74204102AD93439BC959410BC1E271FB742041267E3A3A9BC959412C4FA421FB7420415A31B1329BC95941D07A2DC7FA742041F4EA412D9BC959410E3FF865FA7420413922222A9BC959413FEFC001FA742041629370299BC95941B676619EF97420413F11342B9BC959415975AB3FF974204110425B2F9BC95941D0AD42E9F87420413B4ABD359BC95941EF36799EF87420413E5E1B3E9BC9594190D02E62F87420417A2C23489BC959415B9DB436F8742041060772539BC959418157B61DF87420417EAE985F9BC95941D1E02918F874204178981F6C9BC95941B7CF4526F874204189878B789BC959413E567F47F8742041B44762849BC95941C0159DAE09752041572B0A31A0C9594101030000000100000063000000C6D268EB3E7920410C2AB20A89CA59418C3D50EC3E79204107CCB60989CA59411AB5E1304679204116B0759180CA594167DEA6086079204151667A5A72CA5941BC23B64CF87920417A17363D3BCA594179037A6DA27A2041B24F856E0BCA594169CFA68EA27A2041FC4FB7610BCA5941BA5EAB99A27A204133C853540BCA5941868EE2D7A17A2041E7D20A0CEAC95941A3C2473EA17A2041FAA1DA47C6C9594122BEEDCF0E7B2041753443FCADC95941695652D40E7B2041FC9544FBADC95941CFD872A7417B204178DA9D3AA2C9594130FCD0B7717B2041E357765297C95941882578EA717B2041D5BFD94197C95941839920368D7B204163635D5688C95941DE788C428D7B2041FDC5D14A88C95941ACAB053E8D7B20410A122F3F88C959417996B2288D7B2041DAF7D73388C95941B7E74CBA647B20412D22A90D79C95941A4946891647B20418C87370279C95941424C7557647B20410F21FDF778C959412CE35BB9137B2041F0DB95586DC959417EDFD461137B2041E720964E6DC95941C58F3054747A2041AEFF2BFB5EC95941D5B30AF6737A204130A375F45EC95941DF24B38E737A204129F65FF05EC959415A973C36A3792041A81969A759C95941FED1B9EEA2792041098F3EA659C959411F61A1423A792041FAC192DF58C959414B7B10689C782041ED70D9F151C9594182D895489C78204169CF9BF051C95941D6C971A7C9772041F285E28F4AC95941743CE96EB57720417AE1B19C43C95941CBAA8643B5772041FA9B619143C95941443B5107B57720413CD6578743C95941454299BCB47720418351F77E43C9594195D33D66B47720417177927843C95941B7829007B4772041452F687443C95941D9BC34A4B37720410273A17243C959417EFDFB3FB377204151BC4F7343C959411A3EC0DEB277204193586C7643C959411C123E84B2772041C8AAD87B43C9594130E4EF33B2772041B9585F8343C9594167BEEBF0B1772041D957B68C43C95941D7EDC4BDB1772041AFC5819743C9594175AC729CB1772041CB6F57A343C959415DCA3C8EB177204186E8C2AF43C95941D314AF93B177204172004ABC43C95941E4F693ACB17720415E7871C843C959410832F83EC6772041BA8B84DA4AC959418DE59C68C67720416D3B78E54AC959417AD408A2C6772041DD3E3EEF4AC95941F3492CE9C677204176C47CF74AC959411582793BC77720417408E8FD4AC959411422FC95C77720412E0D45024BC959413F2862249B782041B7D64D6B52C959416F7A103339792041AABE505B59C95941A01E61BE39792041BC54D15E59C9594162BD028EA27920418494C0255AC95941DBD50057727A204104C4136B5FC959416EF6C5DA107B2041E8E012B26DC959417B0E200F617B2041F9433B4279C95941C067E32F897B20417266534B88C959416D113F146E7B2041ABD5901C97C9594127D08B253E7B2041C18314FDA1C959415AC39A233E7B20410B5F86FDA1C95941FEC9AC510B7B2041B538E6BDADC9594178CBFC7F9D7A2041F2C6B017C6C959414D6C915B9D7A2041B04BAF21C6C9594171A35A459D7A20411F644F2CC6C9594130E4FF3D9D7A204105F84037C6C95941543CE3D79D7A204182A6550CEAC9594131BC5C999E7A204126F400470BCA59418025259CF47920415C7AB40B3BCA59414DF2FE8BF4792041BD4AD3103BCA594182DB9E375C7920411F72FF3372CA5941BB064E285C79204178D5B43A72CA5941050BB8434279204111BABC7880CA59411ABEE83942792041821E188080CA59413C4B93F23A7920415A4A92FB88CA59410A368B933179204162B5638392CA5941D6751F91317920418B99EE8F92CA5941A5ED52A23179204177E84A9C92CA59416D647CC631792041E407FFA792CA5941D71738FC3179204126D497B292CA59412D68754132792041E90CADBB92CA5941ED288B9332792041CB56E5C292CA59411ECE51EF3279204172AAF9C792CA5941EE74425133792041560FB8CA92CA5941359699B5337920415D8705CB92CA5941990D7C18347920416318DFC892CA5941FE081D76347920418AE959C492CA5941116BE3CA347920411D73A2BD92CA594129318D133579204112C9FAB492CA594133804F4D35792041FA10B8AA92CA59416C1DF27535792041543C3F9F92CA59419244E58B357920417A27019392CA5941C6D268EB3E7920410C2AB20A89CA59410103000000010000003000000067C310430C732041C7E49447E5C95941C2AD6B6A0C73204146015E3AE5C95941263BE9F12C732041DC728D08D5C95941577525BB5773204147A5161AC9C95941682845D15773204127F5BD12C9C95941E78DC69688732041A4948645B5C9594185BFA6ECB57320419F3152A1A4C959411EC37C941E742041991BB7A380C95941DFA562AB1E74204150D20D9980C959419D5C49B31E74204183380F8E80C95941645012751F7420417A59776063C959417B1BCD6A1F74204170A4805363C95941DA0687FC0E742041108E793A59C95941D0D9D2E70E7420414FBC4E3159C9594152C876C80E742041903EA02859C959415C8B8DFADC7320414253A1B94DC95941801438E0DC73204117A83CB44DC959414ED6A68176732041A885E4E43AC959413291554176732041B3CB42DB3AC95941A15B38F37573204173F961D33AC95941E1B04F9A7573204143908FCD3AC95941EF3E063A75732041B4D604CA3AC9594179490FD67473204114A5E4C83AC95941B9424272747320419F0E3ACA3AC95941610075127473204189F4F7CD3AC95941610056BA737320411587F9D33AC95941BD30486D73732041B8AF03DC3AC95941BA9E412E737320416A56C7E53AC959413955AEFF72732041C26BE4F03AC95941C48858E372732041009AEDFC3AC95941C6FB56DA72732041AF786C093BC95941194802E5727320418719E6153BC959416877F10273732041D2C1DF213BC95941C60BFE3273732041D2A1E32C3BC959411E9C5383D973204198419EF94DC959418CC563200B742041E462665D59C959411635E8741B7420417740996663C959411AE294B31A742041510E7B8280C959413A277828B273204178603576A4C95941BB95FF24B273204150F37077A4C9594177B6FFCA847320412BD9281DB5C95941379555C684732041475EF51EB5C95941AFFADB0754732041CB0352E9C8C959411CE41339297320411FC454D9D4C95941C27DB31B297320419681ECE3D4C95941A5291197087320416B065114E5C95941833A68C807732041C7E49447E5C9594167C310430C732041C7E49447E5C959410103000000010000004400000069D9B4EC8979204179B9B26A2FC95941D42592CBEE78204161EF486135C95941D4B940C6917820410C1D015237C9594141516E6C9178204106E5F15437C959416D6BD84B5978204132395BDE39C959413F0585235978204128F36CE039C959415D9D2522B3772041C42C4B7243C95941246E8391AE762041448228CF42C95941E2AACE7D7675204193217DE43CC95941550F700F76752041402BE7E33CC959416ECEC4FDC574204181265A563EC9594139725705757320416A031EC93AC959414BB35CF50E7320417603D7B539C959410C828966A0722041FB33C49332C95941783606E8017220411E879EFA23C959415C40F3737C71204124B0A0140EC959411863AB641F7120418FDBD5BAF4C85941B6E35A3C1F71204145EFD7B1F4C85941EEACE3BEB3702041E4DC70B0E0C8594110411A94B370204112788BA9E0C859417DAF832E17702041B41B73B9CAC85941A279147CCE6F2041EB1938EABDC859412705492AA46F204105458A74B3C859410F756F89406F2041774D4B8592C85941A40D82A4BF6E2041B62691C858C859410CC0832FB76E204161542AF847C859416F2B4A43CC6E20410989BE5934C859418145569FCC6E204180B6193734C85941D3A75668C86E204180B6193734C85941DCD4CB52C86E20414623C14234C859411D6EEA31B36E204128C55FED47C8594199905E2EB36E20418D7EE8F947C859419BA5E6A9BB6E204102184FD758C859418BC4BBBBBB6E2041ADCD7EE458C85941CAC545B53C6F20419A9174AA92C85941CD7186C33C6F2041B0A3E3AF92C859419A442576A06F2041877902A5B3C8594121DF288CA06F204139E941ABB3C859417B5E84FBCA6F204144423E28BEC859414BD1D022CB6F204199C26330BEC859419DECC4FB13702041914B6806CBC8594104921D1F14702041D8CBF40BCBC859410E855480B0702041821B70FBE0C85941D87339D31B7120418CD9EAF4F4C859417C66ECE878712041694775500EC95941033DFC227971204160AB8C5C0EC9594141E9EDE5FE712041AF9B7B4F24C95941A1257F4DFF7120417E44395C24C959415FADD7279E7220417B47D4FD32C95941C54BBA6C9E722041034A2D0333C959410C671F7A0D73204188A46A2D3AC959416F3F52D70D732041EB410C323AC95941E55EF4390E73204148BC51343AC95941B6E84DAF747320415625AA483BC95941723602CEC57420418E904DD63EC95941BEA19E1AC6742041673364D63EC95941497E2E1B76752041633615643DC959410EE52619AE7620416218574E43C959410B24EA5BAE762041FD380D4F43C9594139A7BA83B3772041608A8EF243C9594138229CF6B37720417B5836F143C95941863B2A64B4772041B4B5AFEC43C9594178DE8CBC5A7820417B5FCD553AC959412ABEC79C92782041D5A84CCF37C95941A7ABBF95EF782041286DD6DE35C9594158DDF8D7EF782041231DE2DC35C9594169D9B4EC89792041C82A9DF02FC9594169D9B4EC8979204179B9B26A2FC959410103000000010000004D000000EAD595BE32762041F220DBD24CC959413FBB12F22578204192ED9CC444C95941F751401F31782041CEE3A56E46C95941F7A00D756D78204180A5322448C95941367049209E7820411A5185D548C95941E7128422DE782041FFE02FE74AC959414DCD43241D792041D91EA0EA47C959419EA88CA4827920412A0C0D0F40C959417DD60582577A204153C3E6D836C95941447E6F92437B2041EDD928782DC9594140FE18E17C7B20415C7D7C912AC95941B5361B8D8B7B2041ECC4074221C95941FE3B7AF7877B204155BFD27F1FC95941F8AF2243A37B20410F400E7F1EC95941C86D4B3F9B7B20413A15FA1327C959410862560E947B204172D8BF142BC9594185F44389837B2041726B1FD32DC959412E0461C8787B2041380A4AA92EC95941E79C6124A57A2041312E810337C95941BB4AEAFBD97920415AA685083FC95941D10D90F981792041DBC4074443C9594194F4C7CB5D792041F5A66AB645C959416B49543042792041BEE5407848C95941C90112F0267920412955AF5250C9594118A4287C227920411F5CE9A753C9594199FCB2852A792041DC318DA255C95941D382DAF6407920415DAA8A6056C95941B35CE048817920414E874C6656C9594141604350B47920419A13454F56C9594184A4AB61F07920413CEA65C755C959412B210A4D247A20413BED585257C95941B447A577657A20417E7510765AC959411597B4DA997A2041A0CC1D8D5DC9594153CF804BC77A2041953F0B0661C9594113C2A75B247B2041A21975F969C9594161808F6B517B20413E901B6B6EC95941452B5C97657B20413007BDF86EC95941AAF13A33767B20419056FD1D71C959412C7DC10E897B20419372F31F75C959415DE8181D9B7B204135B85E807CC959410C786E76A37B20411719379880C9594185B5281DA77B20412CC8314483C95941242D5207A97B20414613A85686C95941A10634E3A47B2041AD39ECB08BC959410B63E6FA9A7B20413088B8DC8EC9594152D63495907B2041647B5F4991C959417C5F83F3677B204148E21A7A90C95941B4892E88697B20419F47A8958AC95941E0F265BD6D7B20413694110B88C959417A9B6BA06C7B20417A1DE84685C9594101543532687B2041EF19F39583C959419B06B7DC677B20418DE5353081C959414A1C1C03597B20416661816F7EC959410D4A4836417B2041B265D0327AC95941DE8E10EC287B2041053B702378C95941BD62E01B0A7B2041BFC5C42D75C95941494109BED47A2041A0502FD16CC959410E18710F9D7A204199B3268067C959410CF193D7637A2041B18386E363C95941AB6D93530E7A204118125B4A60C95941147D1BE8987920416704708A5EC9594167DC00BF667920414715EF9A5DC959418DD3A3AF4679204144192FFD5CC959418F134F082A7920414C0223EB5BC95941DA62D5920A792041E1F1C1BF5AC959415DFB0AF5F5782041F27ABAA85AC9594127D4921FCC7820412B8822115CC95941FCACA9157C782041A5E3C0F95FC959415C04272C40782041E0AA1A0E61C959410371D32D147820411B7C1C7660C95941F8D006E4F077204189101ABD5EC95941DFF4451BB277204144A60BF25BC9594185BE81DF647720411D0F04E854C959414E0BC41AF3762041763F36A551C959413E59250E62762041DD94A0F94DC95941F29151233B762041AE653E404DC95941EAD595BE32762041F220DBD24CC959410103000000010000004B000000C0FACEDA8378204131D30BAA9DCA5941B7B4DB9AA4782041223BAD2E9ACA59414C187E2ACB782041013B7ECB96CA594135247F2DE9782041E606E03B95CA5941CE5A6DD200792041BF84D14094CA5941B32EBA081F7920410741B9B090CA5941061301291B7920417BDE600488CA5941C4835E1131792041ADE4A74779CA5941408D090060792041D79DAAD55DCA5941774F191E7B79204167839A8E48CA59415A6727F6CD792041779B478929CA5941F816F3E7327A20414B11FB2603CA5941C15240F7467A2041DFFE4534FEC9594112867204337A2041B734DEABF8C95941D68227A12D7A2041BAD106B1F0C959412597556B107A2041058CA250DFC9594166BE5C0C147A2041FAF27195D3C9594164B350580C7A2041A1CCB961C6C95941484A25F51E7A204164E71DCBBEC95941348AB2B64E7A2041FA3BAB47B5C95941628708D0CA7A20410C7222C3AEC95941A57A00B9F97A20413D716C4CA8C959417634E30F507B2041EF74165399C959417C5F83F3677B204148E21A7A90C9594152D63495907B2041647B5F4991C95941EF01948CDD7B2041241CC17E93C959419AC2C5DEE27B20415C1AE85993C959416B4A5AE7E87B20415BE6E0F692C959412A986DE7537C2041CDE489DD73C95941399B11DB517C204182399F8571C959418D74E7E4367C20416F75383853C95941E4D6E1E3287C20415EA4B17643C9594189874F87317C20416ED79D9942C95941E24F422A397C2041730AA4FC42C95941B24AE3BF3C7C204134ED775144C959418018DC3C487C204151411C6A52C95941E5CAC249577C204187D8EF6262C9594155159DAB597C20413A793E5367C95941E14293A3607C2041009C50E66EC95941CBA2378E637C2041C15E834570C95941E439A7C8667C204150E1F48774C95941CD7A4770607C20412CDD28D078C959417BB3F67EFC7B2041551CC80794C95941B9475D63F27B2041A091329695C95941BB6A89B4E97B2041F588D44996C95941EB28F4BDD97B204161AD9EF495C959411A44EE89A87B2041A3B6A6BF95C9594191E8B3BA8B7B2041A70DBC3497C959415B45A8DF797B2041C6652D9899C959419E656678547B204191A9CE40A2C95941DFC10CBE337B2041F59C3077B1C95941FE5EC4DF327B204133C2633CC1C9594133F07AFE137B2041FE9787E2D0C95941B0826879037B2041F8CB3B67DDC959411CADAEABF57A20412EC512F2E8C95941C7045038FE7A2041C641CF6404CA5941746F6B2C9E7A204193739E5C25CA594197D06AFDE8792041D18C6B7648CA59417F8F417D9B792041305610816CCA5941763015DB71792041143F2BCD80CA59415B3901B66B792041C06AA65884CA59419EDD2B495E792041E3D932A98BCA5941F1AD7ADA58792041511235A590CA59415AC98C4A557920412D72CDA893CA5941722D00B34D79204152D9B62097CA5941489684A63379204140BB5D9596CA5941415D40ED2C7920415151D63097CA5941C504C8A8C17820411B94E7CDCDCA5941C5C74F0FB6782041F087ED98CDCA5941B85CF20D1E79204177709BC198CA5941E72E55A60F7920414788DC1498CA594185221296F9782041575E45C199CA594143072A8FC7782041CA952D1F9FCA5941766454EF967820417C6A9848A6CA5941C0FACEDA8378204131D30BAA9DCA59410103000000010000005F000000858027596A6E20416287B8BF58C859418A4D691B6C6E20416326E2305BC859418B414A819A6E20416F64E2E072C85941489D1FEEA76E2041B23B775F76C859416099F7DFB96E2041777440917BC859416F4FDC91EC6E2041AE63410786C859412B4D924F146F204149D51F0092C85941E740CC453B6F20412A6E507AA0C859416F73860A4E6F204139C3B499A5C859412E9373CA566F20419086F38CABC85941FFE9903C6F6F2041101B21EFB0C85941711ED03C9F6F20417DD02716BAC85941D213E8FEDB6F20415B930137C7C8594123C9E3330F702041B33C463CD1C859416675E7BB3170204115D5A7BBD5C859411CB449F3697020413A372F9FDDC85941121C569E767020419A587950E1C85941B8ED6A57597020415FA74612E4C859416163803A647020411CC7C073E5C8594161F168FC7C702041D03795EEE3C85941D1BFAF589770204135234AFEE7C85941AB319D2DB4702041A1044540EDC85941A4237C5188702041F59A5022F0C85941678599A59170204135007F7CF2C859413B3833F4BE7020413611093CEFC859414A193B83CC702041B498D8DFFDC859414E9218D019712041784D9F6403C9594184FEE1337F712041337D335F1AC95941B2DF66C9C9712041105884C925C95941DBCF2BF3207220418631E73B2EC95941C49EB45C33722041DFBEB64E30C9594168E9295C267220410DD489A331C959416B1DB61A387220414643D5D033C9594104172C2644722041313E2CBF31C95941BFFDB69592722041C668CD5137C959411B5522E7B97220413732C09038C95941A420D121ED72204106360A303BC959410B80A4331E73204150E28EAD3EC959416714881E517320410D09ADE33EC9594163BDB1779473204118B694DD48C95941F7ED5735B07320418BA411E14EC959416FD76EF4CE7320410E09AE6E4CC959411BE6784DFA73204149862D7A49C959419D208F00007420410E451B2B48C959413AF3A4DA0F742041DF2F226346C959412D806EE447742041A3EEB21349C95941998675DF78742041636FEB894AC9594100B98241FE742041C5369CF94AC95941871B0619447520413A34881C4AC95941690A94E68C75204173C2C14149C95941EB9DF3B6CF752041EB90BBE34AC959418462CA1D007620411BF6A1824BC95941EAD595BE32762041F220DBD24CC9594126213513FB76204179EC459749C9594126213513FB7620411659763834C95941EE11FB7174762041BAAAE29132C95941753E7F1428762041E72F9F0E32C959415611D11C9F75204182B1675132C95941235384AA627520413BC47F2432C95941B214C9E231752041B5B76F4232C95941471B716ED974204134E0B39F32C95941693A221470742041C14A9DC730C959419DAE77C2187420413F76CFAF2CC95941224AE0E3DB732041F7E7B1C02AC9594170B6F73A457320418DB0418D20C959414445E710117320417AD597ED1BC9594104E58FE4EF72204174670DCB18C95941574475BBBD72204198C5AF9F14C959417401440690722041326545B30EC959419E5796925C722041BB6FD81708C95941440B37F53C722041E6E9195E02C959415417626125722041723E48A1FEC85941D5F5FB3716722041ED6353D9FCC85941E95A8286D871204115ABAB99F1C85941FEF204A7A5712041EBCB6AC2E7C859411A79AF117F712041DDBF7F6CE0C8594114B6AAA44D7120418BCACFADD8C859416383E40D24712041CA7CC793D1C8594116A788A7F47020419B19860DCAC85941A3D7B15ED3702041C590F163C4C859415F3FA665B2702041C6A773CFC0C8594145423E87997020410EEDC56EBDC859419D53C85D7E7020410DDC67EFB8C85941CA2E17D16970204116353DC0B5C8594189CA97965A702041E2863609B2C859416C630F063E702041F86E0444ACC85941768B8EEF1A702041DC5D89B6A2C85941805821E9E96F2041962D3B3497C859411F5A82AEC26F204173C759AF86C85941DBAD7E26A06F204180B0591B7FC8594147EBC7987D6F204100330F7D74C8594138F6C77A6E6F2041CB04606F6EC85941086DFC155A6F20410D02517C62C8594114960BEC3D6F20416287B8BF58C85941858027596A6E20416287B8BF58C8594101030000000100000046000000DBC6BE30617220413769A26F7ACA5941E691BA3961722041EAD1426C7ACA59416C84C9A59072204144645ED066CA59413AD923B1907220414E77C6CA66CA594154DA4CACAD7220413C659D3955CA5941AF4C721FD6722041FD82032E47CA59410660602CD67220413D32D92847CA594162995727FB722041AE848AD935CA59411A8F5028FB722041033714D935CA5941931D7BF70B7320419FC4C7BC2DCA594164DDA4070C732041F4C183AE2DCA59410D34B6A70D7320415A241D6626CA594160DBC6A00D732041FEC1AE5926CA5941A199B3860D732041D4B3A74D26CA5941A780795A0D73204138B57C4226CA5941BEA77429FA72204198BCBD6822CA594171EB1FFAF972204199C0B66022CA59419A8364C1F9722041EFFCB35922CA5941CB8AF158BF722041C606032E1CCA5941236D058EAF722041EE91011816CA594143F2C80AB9722041A085AAC809CA5941664FDAA5C57220414249876605CA5941F22357A7C5722041E507016605CA5941A34CA176EE722041B08386CFF6C95941F8F0778CEE722041323BD7C4F6C95941680D4F93EE7220411F96D8B9F6C95941CC14B2E3ED722041D82F61D0ECC9594167C310430C732041C7E49447E5C95941833A68C807732041C7E49447E5C9594114126919EA7220413AABA0A4ECC95941EAB503F0E9722041E14EE5B2ECC959415C2BA9E2E9722041C129FBC1ECC9594108479392EA722041E520CDAFF6C95941478978E1C1722041C6687D3B05CA5941ECCA7931B57220418F8CE7A409CA5941BC59A615B5722041F8DC6AB409CA5941C5198A88AB7220418CA1F71816CA594168303589AB72204140F80D2616CA594167EE289FAB72204138E8D93216CA594189B5F0B7BB7220414D5ADC661CCA5941538558DDBB722041B5FABA711CCA5941FEC41E12BC72204140B18D7B1CCA59418AA47554BC7220417688FE831CCA59413C9BE6EEF67220418F92F7B422CA59416B67CFA3097320413FD0CF7526CA594163D6A809087320411CBBB2A32DCA59411AB58449F77220411D42BFB835CA594155EBA254D272204112EE340547CA594172DC7ADCA9722041432C8C1255CA5941C73AC4C8A97220413F9E4C1B55CA5941EAC4E8CA8C7220414C3618AE66CA59412E62A7695D722041EC1585457ACA594143C000D017722041CF7B992B92CA5941982814B71772204188B4C03792CA5941D0EB99B11772204197BE474492CA59410CEDC7BF17722041575BB35092CA594189AC12E117722041F559895C92CA594107A43214187220418C49556792CA5941F0DC305718722041AFF2AC7092CA594178447AA7187220415C6C347892CA594188FFF8011972204132A4A17D92CA59414FC53263197220412737BF8092CA5941CB156BC719722041C07E6E8192CA5941CDFBC72A1A72204199BEA87F92CA5941BCF077891A722041A9667F7B92CA5941726DD7DF1A722041B9671B7592CA594187B6942A1B7220419CA0BB6C92CA5941EF83D0661B722041AB73B26292CA5941A1423A921B722041499C625792CA5941DBC6BE30617220413769A26F7ACA5941
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/978>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 09:56:24 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 16:56:24 -0000
Subject: [geos-devel] [GEOS] #978: UnaryUnion topology exception
In-Reply-To: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
References: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
Message-ID: <059.7fa7f06c3a6dbeb954218b4055576f5b@osgeo.org>

#978: UnaryUnion topology exception
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:  invalid
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * status:  new => closed
 * resolution:   => invalid


Comment:

 Input to ST_UnaryUnion is invalid.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/978#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 10:07:45 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 17:07:45 -0000
Subject: [geos-devel] [GEOS] #978: UnaryUnion topology exception
In-Reply-To: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
References: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
Message-ID: <059.1fd668201593da867f6feb46d294211e@osgeo.org>

#978: UnaryUnion topology exception
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  reopened
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by komzpa):

 * status:  closed => reopened
 * resolution:  invalid =>


Comment:

 Hello,

 Input is a collection of overlapping valid polygons, and it's exactly
 semantics of Unary Union to dissolve it into a single (multi)polygon.

 {{{
 20:05:40 [gis] >  select  ST_IsValid((ST_Dump(w_geom)).geom) from
 tmp_osm_population_raw_nowater where p_geom &&
 '(539614.84560837818,6759705.8015133878)'::point::geometry::box2d and
 ctid='(32000,1)'  ;
 ┌────────────┐
 │ st_isvalid │
 ├────────────┤
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 └────────────┘
 (11 rows)

 Time: 6,458 ms
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/978#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 10:35:50 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 17:35:50 -0000
Subject: [geos-devel] [GEOS] #979: Topology exception in UnaryUnion
Message-ID: <045.626905fce957d03ae25185ae0ffb87b1@osgeo.org>

#979: Topology exception in UnaryUnion
------------------------+--------------------------
 Reporter:  dbaston     |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  master
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 Attached test case fails on master but passed in JTS.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/979>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 10:36:52 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 17:36:52 -0000
Subject: [geos-devel] [GEOS] #979: Topology exception in UnaryUnion
In-Reply-To: <045.626905fce957d03ae25185ae0ffb87b1@osgeo.org>
References: <045.626905fce957d03ae25185ae0ffb87b1@osgeo.org>
Message-ID: <060.71e5f14abdad4fc93b32a90d09607038@osgeo.org>

#979: Topology exception in UnaryUnion
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * Attachment "issue-geos-979.xml" added.


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/979>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 10:38:40 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 17:38:40 -0000
Subject: [geos-devel] [GEOS] #978: UnaryUnion topology exception
In-Reply-To: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
References: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
Message-ID: <059.ec238e4b5c2cf6aa72b4994e40f0505b@osgeo.org>

#978: UnaryUnion topology exception
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:  invalid
 Keywords:              |
------------------------+---------------------------
Changes (by dbaston):

 * status:  reopened => closed
 * resolution:   => invalid


Comment:

 Very hard to tell what's being reported here. I posted a test case in #979
 that I think is what you're running into.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/978#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 10:44:43 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 17:44:43 -0000
Subject: [geos-devel] [GEOS] #979: Topology exception in UnaryUnion
In-Reply-To: <045.626905fce957d03ae25185ae0ffb87b1@osgeo.org>
References: <045.626905fce957d03ae25185ae0ffb87b1@osgeo.org>
Message-ID: <060.4e7046d852ea5633925f2543358381c4@osgeo.org>

#979: Topology exception in UnaryUnion
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 What is the organizational necessity to have #978 closed as invalid and
 reposted here in slightly different form with no link to #978?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/979#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 12:03:08 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 19:03:08 -0000
Subject: [geos-devel] [GEOS] #978: UnaryUnion topology exception
In-Reply-To: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
References: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
Message-ID: <059.b0ba281a6099cc9dd01b7ce6e4110675@osgeo.org>

#978: UnaryUnion topology exception
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:  invalid
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 For ease of testing here is the two separate geoms:

 A
 {{{
 0103000020110F0000010000005C000000B197184175732041499A65103BC9594190EC3863DB732041F7A7A2D44DC959410C12DB65DB73204115B92CD54DC95941024FC4330D74204163A42B4459C959411022F9380D742041BC92F44559C95941B1363FA71D7420411CA9FB5E63C95941612246A81D7420410488476063C959419A2E7DE61C7420410D67DF8D80C95941DBB868E31C7420418FCA099080C95941B940F739B47320410660328EA4C95941CBF260E0867320419B85C333B5C9594179B0DE18567320411220CB01C9C95941C451A81656732041AF318702C9C959416390D93C2B732041FE159DF5D4C95941112E7EAB0A732041991E572CE5C959413BB08EA70A7320418C68A92DE5C959415272F215EC722041B834ECC2ECC9594196AA86C6EC7220415E2558BAF6C95941B67DA8C3EC722041862383BCF6C9594105555EF4C3722041BBA7FD5205CA5941C43F38F4C3722041AA140B5305CA59416727DD12BE7220412FE67E5E07CA59412A1864E6737520412FE67E5E07CA594179F395EC7375204106AD9C5B07CA5941D8C2CCEC8175204187389807F9C959414676B014827520414CA1FB0BF1C959419282B5148275204123FCD10BF1C95941C21A936B8575204100368011E2C95941CA1BEF737E752041D0B64231D5C95941E99756346F752041FB773937C9C95941E4F997BA50752041110B7DEEB7C95941610704DB32752041865DD508ADC95941DD8843570B752041FD5A951AA0C95941271246E9F974204151CD146C9BC9594176481702FA7420418D1994639BC9594193E61C46FA7420415740AE669BC9594168E3DDB40B752041AE526315A0C95941A8C646B60B75204152F4CD15A0C9594118E6FD3A337520419AAB5E04ADC9594116FD983B337520415B319404ADC959419483671C517520410E9FAEEAB7C95941E71DF81D51752041C31961EBB7C95941A1FCA9986F752041757CA734C9C95941CB4A3A996F7520417C9F0635C9C959412DC56CD97E75204100CC882FD5C95941FEC9F1D97E75204118BC1B30D5C9594189F7E7D1857520416C1BF110E2C95941B1C200D28575204135518D11E2C95941A160167B82752041A073180CF1C95941272D31538275204148E60108F9C959418985D05282752041F18BC408F9C95941C9E7CA5174752041ACA49C5D07CA5941BA276B50747520412FE67E5E07CA5941D1F350C7637820412FE67E5E07CA59412EB1A6450C792041C20E61BBF7C95941B68F103D4C792041D4073AFFEAC95941069187414C792041E6D477FEEAC95941A80BC65372792041F3B52A6FE5C959413B8DE7627279204106EAA86DE5C95941DAC5F5E09779204100D3EBF8E2C95941E770132698792041FC839EFBE2C9594108E97D10987920415E394204E3C95941F258299B727920417AFE6C78E5C959411B87C7914C7920412ECF6E06EBC95941492C42970C7920414B3534C3F7C9594103F26A8A0C792041567AF0C4F7C959419C9E1873647820412FE67E5E07CA5941519E684FA07A20412FE67E5E07CA5941BAC6AFA49F7A204198BA360CEAC95941966ECC0A9F7A20411B0C2237C6C95941EAB865119F7A20413307FA33C6C959416AEB17E50C7B2041A574BDD9ADC9594173D3F7B83F7B20411277EA18A2C95941EE8729B93F7B20415714DF18A2C9594156130BC76F7B20411407483197C959412751E60D8B7B2041288F6B4888C95941561144A7627B2041FF64252579C95941FDC9BD13127B2041B06944876DC95941F3FEE213737A20414B2F18355FC959410B4AC5C9A2792041B27D7EEC59C9594138BEA9D939792041D499512559C959416747BBCB3979204138F1F72459C95941D37207AF9B782041C07B573452C9594157295212C87720419261CECA4AC95941BCF704F0C777204107BBD4C64AC959417A84A169B377204166C7E1B843C9594173B1ED64AE762041AE71761543C959418C91405EAE762041383B641543C959413B2DD82E767520413867322A3DC95941A42863FCC5742041F35EEA9C3EC95941B6EAB9F4C5742041761BE89C3EC95941B197184175732041499A65103BC95941
 }}}

 B
 {{{
 0106000020110F00000B00000001030000000100000045000000DD106D2CAC7F2041450E10331BC95941F31864B88F7F2041E2EFF2D61AC95941ABC29425867F204117F6E55C1AC95941FAB16AF34C7F20418DA15CEE19C95941FB95996F1B7F2041D8FB84A319C9594130CE0671BF7E2041A37B19FE17C95941CE7499DD3D7E2041B251B1C015C95941BF51737FCC7D2041F7D5088E12C959411655EE3E227D2041DF6F59440FC95941CFB37964CA7C2041ECCCA44B0EC959419509A87A527C204100AB7DB70FC9594166139B69FF7B2041283674C612C95941FE4C6F23027B20415C8C3DDE1CC959414E7D338CC679204150D716BC2AC95941DB4C3A31387920418B7866E430C9594178429AF3F27820419E1508DF32C95941E2106449D0782041DA1C996433C95941DEC65AC09F7820414A3C4AAE33C959410909B5BD6A78204133EA4CCF34C959416BA8B62142782041AAC547B837C959418732899A09782041BEF472473AC9594139C511B3E97720419D6BCB5B3BC95941DDBE168ACF772041B69309563BC95941EC13D929957720413EF996BF3CC959418CB0D1375F772041E39554F03BC959412D40B65C4177204124CF3D3938C9594126213513FB7620411659763834C9594126213513FB76204179EC459749C959413FBB12F22578204192ED9CC444C959411B632F58257820417A42B7FF43C95941FBD96FC5277820410F1D424342C9594196ABF5B2307820419F67F11F41C95941C94D71A13B782041CF1DD8B93FC959418E6F7E3A527820418985E7E23DC95941F0C2B5AB74782041201F5F493BC95941BF9233649D7820417C64B2F539C95941E8B79732D078204169DB9E1839C95941DB7900E1E3782041D45B932C38C9594192F80D71FF7820418F04B65837C95941561B10592C792041B77B077736C959410F7690BE827A20418DE0C90029C95941139F5D73797B2041253FA1921EC95941FE3B7AF7877B204155BFD27F1FC95941F8AF2243A37B20410F400E7F1EC95941A90D0CB7A77B204179E3A5AE1DC95941D9753006E27B20412B84CFAA1BC959419D00CE64F57B2041806DF9131BC95941768F3A41FE7B2041988C16701BC95941C12D8E211B7C2041137D2CA338C959414454AC451F7C2041BD2BE1E739C959410743BD0C2B7C2041E7A806353AC959417BD943CA2E7C2041223C74FB39C95941EA2D9AF3317C20415ADEA60939C959419548C3E62E7C2041C0E36DDF37C95941B1607E210F7C2041DEE1A2D919C95941B52FA228127C204168A1215C19C95941D7B9F1A7167C2041349F259E18C959417F851DE9867C204192DEAA8315C95941FC7AD048B47C2041FFEBC33015C959417B6797CDE77C2041A28D473C15C95941F9F068118D7D20410C68610A19C959418BC6F2824A7E2041931251951DC95941D940E994F27E20418A3C272C21C959418BCF2B08317F2041EE1EF34322C95941555A466D817F2041CC83510222C959413BD3A6B3917F2041D395122E22C95941C05541B4AA7F20415AE1863122C959416DDA8A59AB7F2041EADF96131FC95941DD106D2CAC7F2041450E10331BC95941010300000001000000340000007410965F397220418D5B81297DCA59417389F6A5497220411E78216E7BCA594143AD1746577220416DD19DE478CA594111858C8A63722041E0B2FA4172CA59416B04E8F98D7220413B3B4D6354CA5941482ECE87D4722041C5F85F172CCA5941C17504F6D87220411CBB4B2726CA594199C99B0BA77220419B1512C71DCA5941CDF459867272204155B0767218CA5941971E52D955722041D7D383FA11CA59412A8E13034E72204131D77BD50BCA5941EB1721755A722041600242AA03CA594131C5B4E9837220416E8F7F60F3C9594126CFA1E5AA722041BF01605DE2C95941A2993168FD722041EBF04C1FC5C95941FE2D1553307320413FFBD5D2ACC959413F5DF5E863732041A9138AEE99C959419231F560A0732041C5C697DA7EC959410284A8B7D27320419457BA0270C95941B7529683F47320418EFEBAE761C959419E413616DA7320416C0A9B6D58C95941F7ED5735B07320418BA411E14EC959416FD76EF4CE7320410E09AE6E4CC959411BE6784DFA73204149862D7A49C95941D8869F484374204190F48D6F5CC959410523D34F527420415B5B79095EC959411FA4A728837420413AE72B7E60C959415E5664CCC77420410F665F6869C95941C4AD5EE9C8742041D368CC176CC95941C0974681B974204155269A7B6DC9594126A073487E742041E46B8CC46FC95941B0085D9E73742041F5EA56B375C95941AEFD50EA6B74204161E2295E78C95941ED446FB4427420411C4AF93192C9594172CCDF4604742041935E3C6EAAC9594114BBD869E27320418082B2DAB6C959412A9A4FEBBB73204155AC3526C5C9594143D6D235B17320419A34B372CAC95941FFA562B376732041363DE73AE5C95941D57CD6D65573204154E2D18BF1C95941436B345C4373204185A46617FBC9594134B54FAA107320412B4952D810CA59413E4D43FF037320415E17922C17CA594184BD5EDA217320413EF26D5F1DCA5941ECAD4D6D43732041D8A2BB6522CA594119D090413B7320417F3D7E0025CA5941BA606AB533732041299C69A02CCA5941C5DAE9B324732041472F447735CA5941FD6ED391DD7220418F91A48C51CA59413192B817797220413099279578CA594167566B08657220417613090C7FCA59417410965F397220418D5B81297DCA594101030000000100000049000000E8EE028D71792041611DA43AE5C95941A85D9C3B7179204186524641E5C959412CDFB3F570792041A314B649E5C959418A6475E34A792041963303D9EAC959416C57CFB64A792041DF3099E0EAC95941A09570ED0A792041DB8A9593F7C95941F91F631636782041957D4C540BCA5941FB93D411617720413E526A5719CA59419F746BF960772041A110215919CA59412CC005A4BA762041563238C925CA5941DF027A47BA762041094712D225CA594152C581446A7620415D96E6762FCA5941A3BADAE7287620418D1CAF3C37CA594100EB6CC2287620416BA4A24137CA59412EA5447C8A752041A29D05904ECA59418A2221528A7520414B372E974ECA59414BC79FB711752041A09FDB6066CA5941CBCB3E85117520410830D46D66CA5941FBDA5F6B11752041B75EE17B66CA5941A51E536B1175204147964C8A66CA59419FB4E20C1C7520411894B14E72CA59416CB2F84211752041CEB33FA079CA594109978B3A117520419030C0AC79CA59410901CB4511752041CFC837B979CA5941EE48486411752041D6D52BC579CA5941DD7AD794117520410EBF26D079CA594187DD9AD511752041E87EBCD979CA5941FC4D1524127520418FC98EE179CA5941C4BB427D1275204198AC50E779CA594168D4B5DD127520410184C9EA79CA594178BAB941137520416D27D7EB79CA59416D7C76A5137520412D3A6FEA79CA5941A1E416051475204131919FE679CA5941642EEE5C14752041F3AA8DE079CA5941342D9CA9147520419E3E75D879CA59416A822EE8147520418FF0A5CE79CA5941B09A3D1615752041D64280C379CA5941FC55043215752041C2DF71B779CA5941369FB30920752041505D8C5C72CA59412F0EDE11207520412EB82E5372CA5941D9E4F10E20752041FAB0C44972CA5941E824187915752041A0E4559266CA59411776FC9F8D752041283276DF4ECA5941EF116CBD2B762041DE46129737CA59413CE28D076D762041BA8F7DD32FCA594177990B0A6D762041AA3631D32FCA5941550F0AE4BC762041DC3E4D3326CA5941E71117FB627720418799DFC719CA5941F0D0431638782041B7E444C30BCA5941E95F0A593878204199A604BE0BCA5941D81D1B9D0D792041B1BE2FF3F7C959418071C6E30D79204191C141EBF7C959419364831D0E792041400CD5E1F7C959418F01F5054E7920415AFAA828EBC959410FE494BF73792041E4E94CA6E5C959415B8762E69879204103064737E3C959416DB24A3A9979204136806430E3C959412652D78199792041DF059827E3C95941C08048BA99792041B926381DE3C9594117F872E19979204111F3AA11E3C959417068D5F599792041AA0F6205E3C959411E47A7F699792041B957D6F8E2C959417283E0E399792041EE3783ECE2C9594111D639BE9979204132F0E1E0E2C95941ABA7258799792041D0EA64D6E2C95941F2D4C14099792041D85673CDE2C95941C4DBC2ED98792041053165C6E2C95941823E5991987920411AE27FC1E2C959414623122F987920410F94F3BEE2C95941C063B4CA977920413958D9BEE2C9594168651B6897792041AF3032C1E2C959418727110B977920415B06E7C5E2C95941E8EE028D71792041611DA43AE5C9594101030000000100000035000000C0159DAE09752041572B0A31A0C959416AECB129317520414AD3731CADC95941D8AA36FE4E75204156BF12FEB7C959415B02686F6D7520412988F541C9C95941D4DB96A97C752041EB6BBE37D5C959419637579E83752041C609A512E2C95941567E1648807520417433370AF1C959415C03E447807520410FA7D70BF1C95941F778112080752041FF160504F9C9594101EB1F27727520415CC5985007CA5941418AD3F1577520413505CE8313CA5941AC82DFAB28752041C7CEEFBC1FCA5941459C90A7287520414B4F14BE1FCA5941825C8F6701752041AC4E946C2ACA5941778069CE05752041AC4E946C2ACA5941CCD1FD472C7520414C5E14F41FCA59417C82C0A05B7520419BAE15B613CA5941E16946C25B752041159FD3AA13CA594190F5730D76752041F4006F6D07CA59412376311B76752041D871986407CA5941E313371C847520411D59C00FF9C9594111A0FD1F8475204185E02508F9C95941ED2ADF478475204155DEF70CF1C95941EDC69F9E87752041E4192813E2C9594158D7A79D877520410B000E0DE2C95941CDA9B1A580752041B7A0382CD5C95941A8797FA080752041C53F7B26D5C9594146FF4C60717520414113F92BC9C959419FF1A95A71752041FEB44128C9C95941E512F8DF527520414C52FBDEB7C95941AA0B52D052752041398702D8B7C959412C8583EF347520418619E8F1ACC959413D9F74E934752041F8DFD0EFACC95941CD7FBD640D752041B0284001A0C95941519FA4560D7520414BD815FD9FC959417CA2E3E7FB742041F4C5604E9BC959412961D3B4FB74204102AD93439BC959410BC1E271FB742041267E3A3A9BC959412C4FA421FB7420415A31B1329BC95941D07A2DC7FA742041F4EA412D9BC959410E3FF865FA7420413922222A9BC959413FEFC001FA742041629370299BC95941B676619EF97420413F11342B9BC959415975AB3FF974204110425B2F9BC95941D0AD42E9F87420413B4ABD359BC95941EF36799EF87420413E5E1B3E9BC9594190D02E62F87420417A2C23489BC959415B9DB436F8742041060772539BC959418157B61DF87420417EAE985F9BC95941D1E02918F874204178981F6C9BC95941B7CF4526F874204189878B789BC959413E567F47F8742041B44762849BC95941C0159DAE09752041572B0A31A0C9594101030000000100000063000000C6D268EB3E7920410C2AB20A89CA59418C3D50EC3E79204107CCB60989CA59411AB5E1304679204116B0759180CA594167DEA6086079204151667A5A72CA5941BC23B64CF87920417A17363D3BCA594179037A6DA27A2041B24F856E0BCA594169CFA68EA27A2041FC4FB7610BCA5941BA5EAB99A27A204133C853540BCA5941868EE2D7A17A2041E7D20A0CEAC95941A3C2473EA17A2041FAA1DA47C6C9594122BEEDCF0E7B2041753443FCADC95941695652D40E7B2041FC9544FBADC95941CFD872A7417B204178DA9D3AA2C9594130FCD0B7717B2041E357765297C95941882578EA717B2041D5BFD94197C95941839920368D7B204163635D5688C95941DE788C428D7B2041FDC5D14A88C95941ACAB053E8D7B20410A122F3F88C959417996B2288D7B2041DAF7D73388C95941B7E74CBA647B20412D22A90D79C95941A4946891647B20418C87370279C95941424C7557647B20410F21FDF778C959412CE35BB9137B2041F0DB95586DC959417EDFD461137B2041E720964E6DC95941C58F3054747A2041AEFF2BFB5EC95941D5B30AF6737A204130A375F45EC95941DF24B38E737A204129F65FF05EC959415A973C36A3792041A81969A759C95941FED1B9EEA2792041098F3EA659C959411F61A1423A792041FAC192DF58C959414B7B10689C782041ED70D9F151C9594182D895489C78204169CF9BF051C95941D6C971A7C9772041F285E28F4AC95941743CE96EB57720417AE1B19C43C95941CBAA8643B5772041FA9B619143C95941443B5107B57720413CD6578743C95941454299BCB47720418351F77E43C9594195D33D66B47720417177927843C95941B7829007B4772041452F687443C95941D9BC34A4B37720410273A17243C959417EFDFB3FB377204151BC4F7343C959411A3EC0DEB277204193586C7643C959411C123E84B2772041C8AAD87B43C9594130E4EF33B2772041B9585F8343C9594167BEEBF0B1772041D957B68C43C95941D7EDC4BDB1772041AFC5819743C9594175AC729CB1772041CB6F57A343C959415DCA3C8EB177204186E8C2AF43C95941D314AF93B177204172004ABC43C95941E4F693ACB17720415E7871C843C959410832F83EC6772041BA8B84DA4AC959418DE59C68C67720416D3B78E54AC959417AD408A2C6772041DD3E3EEF4AC95941F3492CE9C677204176C47CF74AC959411582793BC77720417408E8FD4AC959411422FC95C77720412E0D45024BC959413F2862249B782041B7D64D6B52C959416F7A103339792041AABE505B59C95941A01E61BE39792041BC54D15E59C9594162BD028EA27920418494C0255AC95941DBD50057727A204104C4136B5FC959416EF6C5DA107B2041E8E012B26DC959417B0E200F617B2041F9433B4279C95941C067E32F897B20417266534B88C959416D113F146E7B2041ABD5901C97C9594127D08B253E7B2041C18314FDA1C959415AC39A233E7B20410B5F86FDA1C95941FEC9AC510B7B2041B538E6BDADC9594178CBFC7F9D7A2041F2C6B017C6C959414D6C915B9D7A2041B04BAF21C6C9594171A35A459D7A20411F644F2CC6C9594130E4FF3D9D7A204105F84037C6C95941543CE3D79D7A204182A6550CEAC9594131BC5C999E7A204126F400470BCA59418025259CF47920415C7AB40B3BCA59414DF2FE8BF4792041BD4AD3103BCA594182DB9E375C7920411F72FF3372CA5941BB064E285C79204178D5B43A72CA5941050BB8434279204111BABC7880CA59411ABEE83942792041821E188080CA59413C4B93F23A7920415A4A92FB88CA59410A368B933179204162B5638392CA5941D6751F91317920418B99EE8F92CA5941A5ED52A23179204177E84A9C92CA59416D647CC631792041E407FFA792CA5941D71738FC3179204126D497B292CA59412D68754132792041E90CADBB92CA5941ED288B9332792041CB56E5C292CA59411ECE51EF3279204172AAF9C792CA5941EE74425133792041560FB8CA92CA5941359699B5337920415D8705CB92CA5941990D7C18347920416318DFC892CA5941FE081D76347920418AE959C492CA5941116BE3CA347920411D73A2BD92CA594129318D133579204112C9FAB492CA594133804F4D35792041FA10B8AA92CA59416C1DF27535792041543C3F9F92CA59419244E58B357920417A27019392CA5941C6D268EB3E7920410C2AB20A89CA59410103000000010000003000000067C310430C732041C7E49447E5C95941C2AD6B6A0C73204146015E3AE5C95941263BE9F12C732041DC728D08D5C95941577525BB5773204147A5161AC9C95941682845D15773204127F5BD12C9C95941E78DC69688732041A4948645B5C9594185BFA6ECB57320419F3152A1A4C959411EC37C941E742041991BB7A380C95941DFA562AB1E74204150D20D9980C959419D5C49B31E74204183380F8E80C95941645012751F7420417A59776063C959417B1BCD6A1F74204170A4805363C95941DA0687FC0E742041108E793A59C95941D0D9D2E70E7420414FBC4E3159C9594152C876C80E742041903EA02859C959415C8B8DFADC7320414253A1B94DC95941801438E0DC73204117A83CB44DC959414ED6A68176732041A885E4E43AC959413291554176732041B3CB42DB3AC95941A15B38F37573204173F961D33AC95941E1B04F9A7573204143908FCD3AC95941EF3E063A75732041B4D604CA3AC9594179490FD67473204114A5E4C83AC95941B9424272747320419F0E3ACA3AC95941610075127473204189F4F7CD3AC95941610056BA737320411587F9D33AC95941BD30486D73732041B8AF03DC3AC95941BA9E412E737320416A56C7E53AC959413955AEFF72732041C26BE4F03AC95941C48858E372732041009AEDFC3AC95941C6FB56DA72732041AF786C093BC95941194802E5727320418719E6153BC959416877F10273732041D2C1DF213BC95941C60BFE3273732041D2A1E32C3BC959411E9C5383D973204198419EF94DC959418CC563200B742041E462665D59C959411635E8741B7420417740996663C959411AE294B31A742041510E7B8280C959413A277828B273204178603576A4C95941BB95FF24B273204150F37077A4C9594177B6FFCA847320412BD9281DB5C95941379555C684732041475EF51EB5C95941AFFADB0754732041CB0352E9C8C959411CE41339297320411FC454D9D4C95941C27DB31B297320419681ECE3D4C95941A5291197087320416B065114E5C95941833A68C807732041C7E49447E5C9594167C310430C732041C7E49447E5C959410103000000010000004400000069D9B4EC8979204179B9B26A2FC95941D42592CBEE78204161EF486135C95941D4B940C6917820410C1D015237C9594141516E6C9178204106E5F15437C959416D6BD84B5978204132395BDE39C959413F0585235978204128F36CE039C959415D9D2522B3772041C42C4B7243C95941246E8391AE762041448228CF42C95941E2AACE7D7675204193217DE43CC95941550F700F76752041402BE7E33CC959416ECEC4FDC574204181265A563EC9594139725705757320416A031EC93AC959414BB35CF50E7320417603D7B539C959410C828966A0722041FB33C49332C95941783606E8017220411E879EFA23C959415C40F3737C71204124B0A0140EC959411863AB641F7120418FDBD5BAF4C85941B6E35A3C1F71204145EFD7B1F4C85941EEACE3BEB3702041E4DC70B0E0C8594110411A94B370204112788BA9E0C859417DAF832E17702041B41B73B9CAC85941A279147CCE6F2041EB1938EABDC859412705492AA46F204105458A74B3C859410F756F89406F2041774D4B8592C85941A40D82A4BF6E2041B62691C858C859410CC0832FB76E204161542AF847C859416F2B4A43CC6E20410989BE5934C859418145569FCC6E204180B6193734C85941D3A75668C86E204180B6193734C85941DCD4CB52C86E20414623C14234C859411D6EEA31B36E204128C55FED47C8594199905E2EB36E20418D7EE8F947C859419BA5E6A9BB6E204102184FD758C859418BC4BBBBBB6E2041ADCD7EE458C85941CAC545B53C6F20419A9174AA92C85941CD7186C33C6F2041B0A3E3AF92C859419A442576A06F2041877902A5B3C8594121DF288CA06F204139E941ABB3C859417B5E84FBCA6F204144423E28BEC859414BD1D022CB6F204199C26330BEC859419DECC4FB13702041914B6806CBC8594104921D1F14702041D8CBF40BCBC859410E855480B0702041821B70FBE0C85941D87339D31B7120418CD9EAF4F4C859417C66ECE878712041694775500EC95941033DFC227971204160AB8C5C0EC9594141E9EDE5FE712041AF9B7B4F24C95941A1257F4DFF7120417E44395C24C959415FADD7279E7220417B47D4FD32C95941C54BBA6C9E722041034A2D0333C959410C671F7A0D73204188A46A2D3AC959416F3F52D70D732041EB410C323AC95941E55EF4390E73204148BC51343AC95941B6E84DAF747320415625AA483BC95941723602CEC57420418E904DD63EC95941BEA19E1AC6742041673364D63EC95941497E2E1B76752041633615643DC959410EE52619AE7620416218574E43C959410B24EA5BAE762041FD380D4F43C9594139A7BA83B3772041608A8EF243C9594138229CF6B37720417B5836F143C95941863B2A64B4772041B4B5AFEC43C9594178DE8CBC5A7820417B5FCD553AC959412ABEC79C92782041D5A84CCF37C95941A7ABBF95EF782041286DD6DE35C9594158DDF8D7EF782041231DE2DC35C9594169D9B4EC89792041C82A9DF02FC9594169D9B4EC8979204179B9B26A2FC959410103000000010000004D000000EAD595BE32762041F220DBD24CC959413FBB12F22578204192ED9CC444C95941F751401F31782041CEE3A56E46C95941F7A00D756D78204180A5322448C95941367049209E7820411A5185D548C95941E7128422DE782041FFE02FE74AC959414DCD43241D792041D91EA0EA47C959419EA88CA4827920412A0C0D0F40C959417DD60582577A204153C3E6D836C95941447E6F92437B2041EDD928782DC9594140FE18E17C7B20415C7D7C912AC95941B5361B8D8B7B2041ECC4074221C95941FE3B7AF7877B204155BFD27F1FC95941F8AF2243A37B20410F400E7F1EC95941C86D4B3F9B7B20413A15FA1327C959410862560E947B204172D8BF142BC9594185F44389837B2041726B1FD32DC959412E0461C8787B2041380A4AA92EC95941E79C6124A57A2041312E810337C95941BB4AEAFBD97920415AA685083FC95941D10D90F981792041DBC4074443C9594194F4C7CB5D792041F5A66AB645C959416B49543042792041BEE5407848C95941C90112F0267920412955AF5250C9594118A4287C227920411F5CE9A753C9594199FCB2852A792041DC318DA255C95941D382DAF6407920415DAA8A6056C95941B35CE048817920414E874C6656C9594141604350B47920419A13454F56C9594184A4AB61F07920413CEA65C755C959412B210A4D247A20413BED585257C95941B447A577657A20417E7510765AC959411597B4DA997A2041A0CC1D8D5DC9594153CF804BC77A2041953F0B0661C9594113C2A75B247B2041A21975F969C9594161808F6B517B20413E901B6B6EC95941452B5C97657B20413007BDF86EC95941AAF13A33767B20419056FD1D71C959412C7DC10E897B20419372F31F75C959415DE8181D9B7B204135B85E807CC959410C786E76A37B20411719379880C9594185B5281DA77B20412CC8314483C95941242D5207A97B20414613A85686C95941A10634E3A47B2041AD39ECB08BC959410B63E6FA9A7B20413088B8DC8EC9594152D63495907B2041647B5F4991C959417C5F83F3677B204148E21A7A90C95941B4892E88697B20419F47A8958AC95941E0F265BD6D7B20413694110B88C959417A9B6BA06C7B20417A1DE84685C9594101543532687B2041EF19F39583C959419B06B7DC677B20418DE5353081C959414A1C1C03597B20416661816F7EC959410D4A4836417B2041B265D0327AC95941DE8E10EC287B2041053B702378C95941BD62E01B0A7B2041BFC5C42D75C95941494109BED47A2041A0502FD16CC959410E18710F9D7A204199B3268067C959410CF193D7637A2041B18386E363C95941AB6D93530E7A204118125B4A60C95941147D1BE8987920416704708A5EC9594167DC00BF667920414715EF9A5DC959418DD3A3AF4679204144192FFD5CC959418F134F082A7920414C0223EB5BC95941DA62D5920A792041E1F1C1BF5AC959415DFB0AF5F5782041F27ABAA85AC9594127D4921FCC7820412B8822115CC95941FCACA9157C782041A5E3C0F95FC959415C04272C40782041E0AA1A0E61C959410371D32D147820411B7C1C7660C95941F8D006E4F077204189101ABD5EC95941DFF4451BB277204144A60BF25BC9594185BE81DF647720411D0F04E854C959414E0BC41AF3762041763F36A551C959413E59250E62762041DD94A0F94DC95941F29151233B762041AE653E404DC95941EAD595BE32762041F220DBD24CC959410103000000010000004B000000C0FACEDA8378204131D30BAA9DCA5941B7B4DB9AA4782041223BAD2E9ACA59414C187E2ACB782041013B7ECB96CA594135247F2DE9782041E606E03B95CA5941CE5A6DD200792041BF84D14094CA5941B32EBA081F7920410741B9B090CA5941061301291B7920417BDE600488CA5941C4835E1131792041ADE4A74779CA5941408D090060792041D79DAAD55DCA5941774F191E7B79204167839A8E48CA59415A6727F6CD792041779B478929CA5941F816F3E7327A20414B11FB2603CA5941C15240F7467A2041DFFE4534FEC9594112867204337A2041B734DEABF8C95941D68227A12D7A2041BAD106B1F0C959412597556B107A2041058CA250DFC9594166BE5C0C147A2041FAF27195D3C9594164B350580C7A2041A1CCB961C6C95941484A25F51E7A204164E71DCBBEC95941348AB2B64E7A2041FA3BAB47B5C95941628708D0CA7A20410C7222C3AEC95941A57A00B9F97A20413D716C4CA8C959417634E30F507B2041EF74165399C959417C5F83F3677B204148E21A7A90C9594152D63495907B2041647B5F4991C95941EF01948CDD7B2041241CC17E93C959419AC2C5DEE27B20415C1AE85993C959416B4A5AE7E87B20415BE6E0F692C959412A986DE7537C2041CDE489DD73C95941399B11DB517C204182399F8571C959418D74E7E4367C20416F75383853C95941E4D6E1E3287C20415EA4B17643C9594189874F87317C20416ED79D9942C95941E24F422A397C2041730AA4FC42C95941B24AE3BF3C7C204134ED775144C959418018DC3C487C204151411C6A52C95941E5CAC249577C204187D8EF6262C9594155159DAB597C20413A793E5367C95941E14293A3607C2041009C50E66EC95941CBA2378E637C2041C15E834570C95941E439A7C8667C204150E1F48774C95941CD7A4770607C20412CDD28D078C959417BB3F67EFC7B2041551CC80794C95941B9475D63F27B2041A091329695C95941BB6A89B4E97B2041F588D44996C95941EB28F4BDD97B204161AD9EF495C959411A44EE89A87B2041A3B6A6BF95C9594191E8B3BA8B7B2041A70DBC3497C959415B45A8DF797B2041C6652D9899C959419E656678547B204191A9CE40A2C95941DFC10CBE337B2041F59C3077B1C95941FE5EC4DF327B204133C2633CC1C9594133F07AFE137B2041FE9787E2D0C95941B0826879037B2041F8CB3B67DDC959411CADAEABF57A20412EC512F2E8C95941C7045038FE7A2041C641CF6404CA5941746F6B2C9E7A204193739E5C25CA594197D06AFDE8792041D18C6B7648CA59417F8F417D9B792041305610816CCA5941763015DB71792041143F2BCD80CA59415B3901B66B792041C06AA65884CA59419EDD2B495E792041E3D932A98BCA5941F1AD7ADA58792041511235A590CA59415AC98C4A557920412D72CDA893CA5941722D00B34D79204152D9B62097CA5941489684A63379204140BB5D9596CA5941415D40ED2C7920415151D63097CA5941C504C8A8C17820411B94E7CDCDCA5941C5C74F0FB6782041F087ED98CDCA5941B85CF20D1E79204177709BC198CA5941E72E55A60F7920414788DC1498CA594185221296F9782041575E45C199CA594143072A8FC7782041CA952D1F9FCA5941766454EF967820417C6A9848A6CA5941C0FACEDA8378204131D30BAA9DCA59410103000000010000005F000000858027596A6E20416287B8BF58C859418A4D691B6C6E20416326E2305BC859418B414A819A6E20416F64E2E072C85941489D1FEEA76E2041B23B775F76C859416099F7DFB96E2041777440917BC859416F4FDC91EC6E2041AE63410786C859412B4D924F146F204149D51F0092C85941E740CC453B6F20412A6E507AA0C859416F73860A4E6F204139C3B499A5C859412E9373CA566F20419086F38CABC85941FFE9903C6F6F2041101B21EFB0C85941711ED03C9F6F20417DD02716BAC85941D213E8FEDB6F20415B930137C7C8594123C9E3330F702041B33C463CD1C859416675E7BB3170204115D5A7BBD5C859411CB449F3697020413A372F9FDDC85941121C569E767020419A587950E1C85941B8ED6A57597020415FA74612E4C859416163803A647020411CC7C073E5C8594161F168FC7C702041D03795EEE3C85941D1BFAF589770204135234AFEE7C85941AB319D2DB4702041A1044540EDC85941A4237C5188702041F59A5022F0C85941678599A59170204135007F7CF2C859413B3833F4BE7020413611093CEFC859414A193B83CC702041B498D8DFFDC859414E9218D019712041784D9F6403C9594184FEE1337F712041337D335F1AC95941B2DF66C9C9712041105884C925C95941DBCF2BF3207220418631E73B2EC95941C49EB45C33722041DFBEB64E30C9594168E9295C267220410DD489A331C959416B1DB61A387220414643D5D033C9594104172C2644722041313E2CBF31C95941BFFDB69592722041C668CD5137C959411B5522E7B97220413732C09038C95941A420D121ED72204106360A303BC959410B80A4331E73204150E28EAD3EC959416714881E517320410D09ADE33EC9594163BDB1779473204118B694DD48C95941F7ED5735B07320418BA411E14EC959416FD76EF4CE7320410E09AE6E4CC959411BE6784DFA73204149862D7A49C959419D208F00007420410E451B2B48C959413AF3A4DA0F742041DF2F226346C959412D806EE447742041A3EEB21349C95941998675DF78742041636FEB894AC9594100B98241FE742041C5369CF94AC95941871B0619447520413A34881C4AC95941690A94E68C75204173C2C14149C95941EB9DF3B6CF752041EB90BBE34AC959418462CA1D007620411BF6A1824BC95941EAD595BE32762041F220DBD24CC9594126213513FB76204179EC459749C9594126213513FB7620411659763834C95941EE11FB7174762041BAAAE29132C95941753E7F1428762041E72F9F0E32C959415611D11C9F75204182B1675132C95941235384AA627520413BC47F2432C95941B214C9E231752041B5B76F4232C95941471B716ED974204134E0B39F32C95941693A221470742041C14A9DC730C959419DAE77C2187420413F76CFAF2CC95941224AE0E3DB732041F7E7B1C02AC9594170B6F73A457320418DB0418D20C959414445E710117320417AD597ED1BC9594104E58FE4EF72204174670DCB18C95941574475BBBD72204198C5AF9F14C959417401440690722041326545B30EC959419E5796925C722041BB6FD81708C95941440B37F53C722041E6E9195E02C959415417626125722041723E48A1FEC85941D5F5FB3716722041ED6353D9FCC85941E95A8286D871204115ABAB99F1C85941FEF204A7A5712041EBCB6AC2E7C859411A79AF117F712041DDBF7F6CE0C8594114B6AAA44D7120418BCACFADD8C859416383E40D24712041CA7CC793D1C8594116A788A7F47020419B19860DCAC85941A3D7B15ED3702041C590F163C4C859415F3FA665B2702041C6A773CFC0C8594145423E87997020410EEDC56EBDC859419D53C85D7E7020410DDC67EFB8C85941CA2E17D16970204116353DC0B5C8594189CA97965A702041E2863609B2C859416C630F063E702041F86E0444ACC85941768B8EEF1A702041DC5D89B6A2C85941805821E9E96F2041962D3B3497C859411F5A82AEC26F204173C759AF86C85941DBAD7E26A06F204180B0591B7FC8594147EBC7987D6F204100330F7D74C8594138F6C77A6E6F2041CB04606F6EC85941086DFC155A6F20410D02517C62C8594114960BEC3D6F20416287B8BF58C85941858027596A6E20416287B8BF58C8594101030000000100000046000000DBC6BE30617220413769A26F7ACA5941E691BA3961722041EAD1426C7ACA59416C84C9A59072204144645ED066CA59413AD923B1907220414E77C6CA66CA594154DA4CACAD7220413C659D3955CA5941AF4C721FD6722041FD82032E47CA59410660602CD67220413D32D92847CA594162995727FB722041AE848AD935CA59411A8F5028FB722041033714D935CA5941931D7BF70B7320419FC4C7BC2DCA594164DDA4070C732041F4C183AE2DCA59410D34B6A70D7320415A241D6626CA594160DBC6A00D732041FEC1AE5926CA5941A199B3860D732041D4B3A74D26CA5941A780795A0D73204138B57C4226CA5941BEA77429FA72204198BCBD6822CA594171EB1FFAF972204199C0B66022CA59419A8364C1F9722041EFFCB35922CA5941CB8AF158BF722041C606032E1CCA5941236D058EAF722041EE91011816CA594143F2C80AB9722041A085AAC809CA5941664FDAA5C57220414249876605CA5941F22357A7C5722041E507016605CA5941A34CA176EE722041B08386CFF6C95941F8F0778CEE722041323BD7C4F6C95941680D4F93EE7220411F96D8B9F6C95941CC14B2E3ED722041D82F61D0ECC9594167C310430C732041C7E49447E5C95941833A68C807732041C7E49447E5C9594114126919EA7220413AABA0A4ECC95941EAB503F0E9722041E14EE5B2ECC959415C2BA9E2E9722041C129FBC1ECC9594108479392EA722041E520CDAFF6C95941478978E1C1722041C6687D3B05CA5941ECCA7931B57220418F8CE7A409CA5941BC59A615B5722041F8DC6AB409CA5941C5198A88AB7220418CA1F71816CA594168303589AB72204140F80D2616CA594167EE289FAB72204138E8D93216CA594189B5F0B7BB7220414D5ADC661CCA5941538558DDBB722041B5FABA711CCA5941FEC41E12BC72204140B18D7B1CCA59418AA47554BC7220417688FE831CCA59413C9BE6EEF67220418F92F7B422CA59416B67CFA3097320413FD0CF7526CA594163D6A809087320411CBBB2A32DCA59411AB58449F77220411D42BFB835CA594155EBA254D272204112EE340547CA594172DC7ADCA9722041432C8C1255CA5941C73AC4C8A97220413F9E4C1B55CA5941EAC4E8CA8C7220414C3618AE66CA59412E62A7695D722041EC1585457ACA594143C000D017722041CF7B992B92CA5941982814B71772204188B4C03792CA5941D0EB99B11772204197BE474492CA59410CEDC7BF17722041575BB35092CA594189AC12E117722041F559895C92CA594107A43214187220418C49556792CA5941F0DC305718722041AFF2AC7092CA594178447AA7187220415C6C347892CA594188FFF8011972204132A4A17D92CA59414FC53263197220412737BF8092CA5941CB156BC719722041C07E6E8192CA5941CDFBC72A1A72204199BEA87F92CA5941BCF077891A722041A9667F7B92CA5941726DD7DF1A722041B9671B7592CA594187B6942A1B7220419CA0BB6C92CA5941EF83D0661B722041AB73B26292CA5941A1423A921B722041499C625792CA5941DBC6BE30617220413769A26F7ACA5941
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/978#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 12:04:33 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 19:04:33 -0000
Subject: [geos-devel] [GEOS] #978: UnaryUnion topology exception
In-Reply-To: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
References: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
Message-ID: <059.aea2653115149267aba3ea226b4d4ec6@osgeo.org>

#978: UnaryUnion topology exception
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:  invalid
 Keywords:              |
------------------------+---------------------------

Comment (by dbaston):

 The issue being reported only involves geometry B though, right?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/978#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 12:10:11 2019
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 17 Jul 2019 19:10:11 -0000
Subject: [geos-devel] [GEOS] #978: UnaryUnion topology exception
In-Reply-To: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
References: <044.c11103468609ef0c6ca36e7cc6a5673e@osgeo.org>
Message-ID: <059.8501648d7bd2543270f900724e7072ea@osgeo.org>

#978: UnaryUnion topology exception
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:  invalid
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Yes, if I understand it correctly.

 UnaryUnion of B works correctly in JTS.  But I do see some very close
 coordinates in the output though, which might mean that GEOS is hitting a
 robustness problem during the sequence of unions somewhere in UnaryUnion.

 The upcoming OverlayNG should fix this kind of problem.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/978#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jul 17 23:46:42 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Jul 2019 06:46:42 -0000
Subject: [geos-devel] [GEOS] #980: GEOSBuffer emits invalid buffering a
	collection
Message-ID: <044.ec6b5735740f3db08c79ba996cbaa931@osgeo.org>

#980: GEOSBuffer emits invalid buffering a collection
------------------------+--------------------------
 Reporter:  komzpa      |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.7.0
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 Follow-up on #978. I replaced Unary Union by Buffer(0), given that all my
 inputs are polygons. I believe on mailing lists Martin mentioned Overlays-
 NG are going to be similar to it, so may be worth checking it.

 PostGIS query for reference:
 {{{
 09:42:59 [gis] >  select w_geom from tmp_osm_population_raw_nowater where
 p_geom &&
 '(-7885150.676182366,5282400.9061096404)'::point::geometry::box2d and not
 ST_IsValid(ST_Buffer(w_geom, 0)) ;
 NOTICE:  00000: Self-intersection at or near point -7885150.676182366
 5282400.9061096404
 LOCATION:  pg_notice, lwgeom_pg.c:265
 NOTICE:  00000: Self-intersection at or near point -7885150.676182366
 5282400.9061096404
 LOCATION:  pg_notice, lwgeom_pg.c:265
 Time: 1229,412 ms (00:01,229)
 }}}

 Input collections are elementwise valid:
 {{{
 09:40:41 [gis] >  select ST_IsValid((ST_Dump(w_geom)).geom) from
 tmp_osm_population_raw_nowater where p_geom &&
 '(-7885150.676182366,5282400.9061096404)'::point::geometry::box2d and not
 ST_IsValid(ST_Buffer(w_geom, 0)) ;
 NOTICE:  00000: Self-intersection at or near point -7885150.676182366
 5282400.9061096404
 LOCATION:  pg_notice, lwgeom_pg.c:265
 NOTICE:  00000: Self-intersection at or near point -7885150.676182366
 5282400.9061096404
 LOCATION:  pg_notice, lwgeom_pg.c:265
 ┌────────────┐
 │ st_isvalid │
 ├────────────┤
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 │ t          │
 └────────────┘
 (14 rows)
 }}}


 Exhibit 1:
 {{{
 0106000020110F000004000000010300000001000000330000000484E06A4F145EC17F6FB520972654411930D2B74F145EC1B1FFF12E972654416096742251145EC12B18861B97265441000000D054145EC1D3564D0296265441213CEBA358145EC17B649EDD9426544135A0554C61145EC1F187438D9226544108F66E4668145EC1DE9077B09026544134F258B859145EC19A322D5195265441000000D054145EC1936538CD9626544116C8BC4C53145EC143E75D429726544162149C8C51145EC1A9C3DAD997265441C403FE8950145EC1B54BF63A982654415C21BC4750145EC103869D319926544108F5E71951145EC17D9B0BCB992654416C72B8E452145EC13E79C09199265441000000D054145EC143DE9C07992654416A9246AB57145EC149B3FD3998265441000000D054145EC1D685DA4099265441AEDFAF6E51145EC1D89CE5779A26544114CB604051145EC170D0F8819B2654416BEA14B351145EC110DAD22E9C26544108052F7D53145EC1D8EF661B9C265441000000D054145EC1C4A18AC69B2654416A9246AB57145EC1D186620F9B265441000000D054145EC1A70991129C265441AAF29AC551145EC127C872269D265441FE1E6FF350145EC17A550B1F9E265441048AAB0651145EC190E9A3179F265441BB3350FF51145EC1B928833D9F265441000000D054145EC171D5717D9E26544170ED3B5B55145EC1067F56589E265441000000D054145EC1AFC39E8F9E265441BAB5289551145EC1B7F0E9D79F2654415CA95F7951145EC1414CFDE1A0265441077D8B4B52145EC19695FF67A12654411EB120CA53145EC122542042A1265441000000D054145EC14EB97810A12654417075DF8C56145EC1610B1EBCA0265441DCD86FE15A145EC1E46B85C39F265441000000D054145EC1856406CFA12654410E706B9053145EC1FFFDB83AA22654415F1E185452145EC15C4CBBC0A2265441BB3350FF51145EC18F79EFA4A326544172DDF4F752145EC1E9AB3ADEA3265441000000D054145EC1856DE998A32654411D39C4FB54145EC1FC237C92A326544175F0620359145EC1628F9AE6A226544189343FE55C145EC197B1B6B4A12654417583182A56145EC1A7DE8517A42654410484E06A4F145EC1A7DE8517A42654410484E06A4F145EC17F6FB520972654410103000000010000002600000011E0B76D55145EC119DD9C959E2654413A64E61450145EC1D724CA3EA026544127839C0850145EC12EA75141A0265441EEC110FC4F145EC169FD6641A0265441998DBEEF4F145EC19F55093FA0265441041D1FE44F145EC138F64F3AA026544161C8A4D94F145EC1ED586933A026544148A4B6D04F145EC19761992AA0265441A28BACC94F145EC142C23620A026544157BFCBC44F145EC14AA6A714A0265441003D44C24F145EC137C55D08A0265441C5E62EC24F145EC1FE03D2FB9F2654418F8E8CC44F145EC1A9CF7FEF9F265441F6ED45C94F145EC1145FE0E39F265441418B2CD04F145EC1710A66D99F2654419782FCD84F145EC158E677D09F265441EC215FE34F145EC1B2CD6DC99F265441E43DEEEE4F145EC167018DC49F26544143DA3F4855145EC14AED371B9E2654418FBD404955145EC1236FEA1A9E265441C14252C27A145EC10F899022932654417052A6CE7A145EC1B0A13C2093265441DBFE31DB7A145EC11BE55B2093265441C2DB79E77A145EC1BD1FED2293265441081805F37A145EC1D10FD72793265441422262FD7A145EC1D35DE92E93265441FD052B067B145EC11878DE3793265441CD56090D7B145EC13D3F5E42932654417F82B9117B145EC10F69014E93265441DE690D147B145EC1BE78555A932654417326EE137B145EC12925E16693265441D1EB5C117B145EC11002297393265441BDFB720C7B145EC1563EB47E93265441BBAD60057B145EC1904811899326544176936BFC7A145EC14B2CDA919326544151CCEBF17A145EC11B7DB898932654417FA248E67A145EC1CDA8689D9326544111E0B76D55145EC119DD9C959E265441010300000001000000260000006DDAC7F35A145EC14B03D600A0265441ECE616F35A145EC173DE0901A0265441C54E17CC50145EC11FD1D3EAA22654410A1BC0BF50145EC1B9D616EDA22654412AA534B350145EC1B867E6ECA22654414A57F0A650145EC1996044EAA226544185DF6B9B50145EC166A84AE5A2265441B48C189150145EC1E5312ADEA2265441AFF35B8850145EC10A1A29D5A2265441F8078C8150145EC130F69FCAA226544124CEEB7C50145EC1A26CF6BEA22654418AC8A87A50145EC1E7389FB2A22654418B37D97A50145EC107C313A6A2265441AA3E7B7D50145EC12775CF99A2265441DDF6748250145EC162FD4A8EA22654415E6D958950145EC191AAF783A22654413985969250145EC18C113B7BA226544113A91F9D50145EC1D5256B74A2265441A132C9A850145EC101ECCA6FA2265441F52B70CF5A145EC15F671A869F2654414BE1903F77145EC177B7140497265441955DE14B77145EC14A2DAE0197265441EF2A6D5877145EC1FC76BA0197265441D6DBB86477145EC1AA1B39049726544182794B7077145EC16590110997265441EB29B37A77145EC1A729141097265441DE8F898377145EC149F0FB189726544107BA778A77145EC10248712397265441457A398F77145EC14B4D0D2F972654417204A09177145EC195C95D3B97265441C0BA939177145EC1EF96E947972654411216158F77145EC1D64735549726544157A13C8A77145EC182E5C75F9726544115083A8377145EC1EB952F6A972654417341527A77145EC1DEFB057397265441BAE9DC6F77145EC10726F4799726544171E4406477145EC145E6B57E972654416DDAC7F35A145EC14B03D600A02654410103000000010000002C000000FB18A4574F145EC1714B261D972654411830D2B74F145EC1B1FFF12E972654415E96742251145EC12B18861B97265441203CEBA358145EC17B649EDD9426544133A0554C61145EC1EC87438D9226544106F66E4668145EC1DA9077B09026544133F258B859145EC19A322D519526544114C8BC4C53145EC143E75D429726544161149C8C51145EC1A5C3DAD997265441C303FE8950145EC1B14BF63A982654415A21BC4750145EC1FF859D319926544107F5E71951145EC17D9B0BCB992654416A72B8E452145EC13E79C09199265441699246AB57145EC149B3FD3998265441ACDFAF6E51145EC1D89CE5779A26544111CB604051145EC170D0F8819B2654416AEA14B351145EC110DAD22E9C26544106052F7D53145EC1D8EF661B9C265441699246AB57145EC1D186620F9B265441A9F29AC551145EC127C872269D265441FC1E6FF350145EC17A550B1F9E265441028AAB0651145EC190E9A3179F265441B93350FF51145EC1B528833D9F2654416EED3B5B55145EC1027F56589E265441B8B5289551145EC1B4F0E9D79F26544159A95F7951145EC1414CFDE1A0265441067D8B4B52145EC19195FF67A12654411BB120CA53145EC122542042A12654416E75DF8C56145EC15C0B1EBCA0265441DAD86FE15A145EC1E46B85C39F2654410C706B9053145EC1FFFDB83AA22654415D1E185452145EC15C4CBBC0A2265441B93350FF51145EC18B79EFA4A326544170DDF4F752145EC1E9AB3ADEA32654411C39C4FB54145EC1FC237C92A326544172F0620359145EC15D8F9AE6A226544187343FE55C145EC197B1B6B4A1265441BC30AC0B54145EC1A400CCD7A4265441C7F6DDCE51145EC1A50944F6A52654410D60242D51145EC1960C7DE6A7265441504B432150145EC1C90D8EFDA9265441543858CA4F145EC141FC217DAB265441FB18A4574F145EC1D9A5157CAC265441FB18A4574F145EC1714B261D97265441
 }}}

 Exhibit 2:
 {{{
 0106000020110F00000A000000010300000001000000490000007583182A56145EC1A7DE8517A4265441000000D054145EC14C4B3492A4265441BE30AC0B54145EC1A400CCD7A4265441C9F6DDCE51145EC1A50944F6A52654410E60242D51145EC1960C7DE6A7265441514B432150145EC1CD0D8EFDA9265441553858CA4F145EC141FC217DAB265441B53AA51E4F145EC1D1C8C4FAAC26544158A638D14D145EC1F71ED105AE26544157A06D354C145EC1760A4225AF265441FFFEE02C4C145EC1FEC12D56B0265441FA1B484B4D145EC131E9EE27B1265441B2C5EC434E145EC18679859AB1265441582EDC024F145EC120DF69CCB226544114CB604051145EC169202119B3265441000000D054145EC17867023EB326544119CE87E854145EC1B874003FB32654411CC1672D56145EC19CF7F333B226544116DECE4B57145EC16C6FF1ADB1265441D2F2AF5758145EC13AC2D0D3B12654412B1CE09159145EC1417862CDB22654412B1CE09159145EC1F5C2B8E3B52654417D48B4BF58145EC163FFC1A3B5265441C3B1FA1D58145EC19A27A642B52654412C84F5FC55145EC179F72DB7B5265441000000D054145EC1382BC606B6265441B4D85A4F54145EC12FFDCB28B6265441B550B71D53145EC1515C3F3BB62654416601B13551145EC1C24679F0B5265441A9ECCF2950145EC1C8A5EC02B626544152C39FEF4E145EC13DEEADD4B626544158A638D14D145EC126879C8BB82654415996F16D4B145EC1B51C59E4B9265441F52868064C145EC17B3B6FA6B7265441581E959F4C145EC13DEEADD4B62654410087845E4D145EC18CAD80EFB526544104F2C0714D145EC1F2C83230B5265441ACD20CFF4C145EC1F14E4EFEB3265441FB93A4194C145EC169202119B32654415C8306174B145EC18CB9191AB3265441F03588C14A145EC146413F6DB2265441F51821A349145EC15D655DC1B12654419DF96C3049145EC193A1A3EEB02654419DF96C3049145EC18E067483AF265441F1ADE48F49145EC1EB6DB02BAE26544191AB973B4A145EC13D23380DAD265441ABBCFAFF48145EC17CD558E7AC265441939B50D847145EC1E8EE80C0AC265441F608DA3F47145EC1EC794418AE26544148BD519F47145EC1A3867609B026544148BD519F47145EC14A5A58B5B0265441F608DA3F47145EC12D313A61B12654418DA8709346145EC131E9EE27B1265441F115FAFA45145EC14A5A58B5B026544199F6458845145EC152FBDF96AF265441444C4AF045145EC1A5D18AD8AE265441415F354746145EC1D92FCCF9AC26544184D2F76C46145EC11A6EEA4DAC265441F29D9D2C47145EC1FCFBE7C7AB265441ECBA044B48145EC198AF08A2AB265441398CE3C849145EC1F9BC9C8EAB26544100773DFB4A145EC1F9BC9C8EAB265441A174F0A64B145EC14D7E5155AB2654419B9157C54C145EC15AD20396AA265441F4B00B384D145EC1A4D142C4A92654414ED0BFAA4D145EC190E415DFA8265441637CB1F74D145EC139FDE8F9A7265441FE0E28904E145EC11AE470DBA6265441FE0E28904E145EC1293B00BCA52654414ED0BFAA4D145EC1B41160C4A4265441610455294F145EC1EBDD148BA42654418D9DFD324F145EC1A7DE8517A42654417583182A56145EC1A7DE8517A42654410103000000010000002C000000FB18A4574F145EC1714B261D972654411830D2B74F145EC1B1FFF12E972654415E96742251145EC12B18861B97265441203CEBA358145EC17B649EDD9426544133A0554C61145EC1EC87438D9226544106F66E4668145EC1DA9077B09026544133F258B859145EC19A322D519526544114C8BC4C53145EC143E75D429726544161149C8C51145EC1A5C3DAD997265441C303FE8950145EC1B14BF63A982654415A21BC4750145EC1FF859D319926544107F5E71951145EC17D9B0BCB992654416A72B8E452145EC13E79C09199265441699246AB57145EC149B3FD3998265441ACDFAF6E51145EC1D89CE5779A26544111CB604051145EC170D0F8819B2654416AEA14B351145EC110DAD22E9C26544106052F7D53145EC1D8EF661B9C265441699246AB57145EC1D186620F9B265441A9F29AC551145EC127C872269D265441FC1E6FF350145EC17A550B1F9E265441028AAB0651145EC190E9A3179F265441B93350FF51145EC1B528833D9F2654416EED3B5B55145EC1027F56589E265441B8B5289551145EC1B4F0E9D79F26544159A95F7951145EC1414CFDE1A0265441067D8B4B52145EC19195FF67A12654411BB120CA53145EC122542042A12654416E75DF8C56145EC15C0B1EBCA0265441DAD86FE15A145EC1E46B85C39F2654410C706B9053145EC1FFFDB83AA22654415D1E185452145EC15C4CBBC0A2265441B93350FF51145EC18B79EFA4A326544170DDF4F752145EC1E9AB3ADEA32654411C39C4FB54145EC1FC237C92A326544172F0620359145EC15D8F9AE6A226544187343FE55C145EC197B1B6B4A1265441BC30AC0B54145EC1A400CCD7A4265441C7F6DDCE51145EC1A50944F6A52654410D60242D51145EC1960C7DE6A7265441504B432150145EC1C90D8EFDA9265441543858CA4F145EC141FC217DAB265441FB18A4574F145EC1D9A5157CAC265441FB18A4574F145EC1714B261D972654410103000000010000002C000000F4B69CE65E145EC1B73597E3AF2654419B72502B5F145EC1915A214BAF265441F884E4E260145EC1F1FA1440AE265441AB4BF0F962145EC16E3A9A9BAC265441A4F0FA4965145EC1856A3BC5A9265441FD8DD62666145EC172F3A9CBA8265441FC157A5867145EC139FDE8F9A7265441B3BF1E5168145EC11A1AD8E2A5265441FD9D1D8A68145EC1A3DE8517A4265441B1C99A1869145EC18AEB244EA22654410291FDCE69145EC1CC70E399A22654410BEF19276B145EC1192E0474A226544110E2F96B6C145EC115837786A2265441106A9D9D6D145EC1F703C545A32654412033F6086F145EC1A3DE8517A42654412526D64D70145EC1E7DD148BA42654411F433D6C71145EC1D022F4B0A4265441DB571E7872145EC1DE45ABFDA426544124BEC0E273145EC11A1AD8E2A52654413CDF6A0A75145EC12876DA68A626544185BD694375145EC10D96E1FAA7265441D8F984D476145EC124180C5AA8265441EE2D1A5378145EC1916E7AF3A8265441EE2D1A5378145EC175172DB5AB265441D50C702B77145EC1C524DE42AB2654413E670E3C76145EC17C7F8B0AAB26544128B1A02775145EC10602BBE2AA26544124BEC0E273145EC179586D23AA265441727F58FD72145EC10E2EF504A926544172F7B4CB71145EC1FE1B11D3A7265441C030A9B46F145EC14F9BE673A72654410B8704BC6E145EC11AE470DBA626544115D5D9B06D145EC12DCD4D7BA6265441B7C245F96B145EC11A1AD8E2A52654410684DD136B145EC1DF704BF5A526544165862A686A145EC1C4D331ADA7265441AEDC856F69145EC159A48B77A92654419E132D0468145EC18FB6DBBCAA26544150424E8666145EC181E1BFEEAB2654414C4F6E4165145EC16FA6CE7FAD265441579D433664145EC1F6E8B2B1AE265441951D261763145EC11CF04BAAAF2654419067CFB362145EC1B73597E3AF265441F4B69CE65E145EC1B73597E3AF26544101030000000100000029000000FC1462F75C145EC1902617F2A12654415550B3F351145EC1CB0EF73BA5265441B38C1EEF51145EC18679263DA526544104443A4250145EC1EB5A589BA5265441F9C7C43550145EC16386D29CA5265441ECCD422950145EC1D430D79BA5265441B5622F1D50145EC1DD027098A52654418453011250145EC11777BE92A5265441189D260850145EC1C390FA8AA5265441BD31000050145EC1B4B47081A5265441823FDEF94F145EC1C8B97E76A52654416E1BFDF54F145EC1B14D906AA5265441F6EF82F44F145EC1A6D11A5EA526544185457EF54F145EC199D79851A52654417C73E5F84F145EC1626C8545A526544142FF96FE4F145EC1315D573AA526544196E55A0650145EC1C5A67C30A5265441A5C1E40F50145EC16A3B5628A526544191BCD61A50145EC12F493422A5265441A828C52650145EC11B25531EA5265441C17259D151145EC1D547A3C0A426544137E3EFD25C145EC16A816377A126544182D848D35C145EC122384977A1265441BC4C0F716E145EC157C38F509C265441378B637D6E145EC105D43C4E9C2654412235EF896E145EC1D9135D4E9C26544159DE36966E145EC19045EF509C265441B9B7C1A16E145EC1E21DDA559C265441A3331EAC6E145EC1603CED5C9C2654411F63E6B46E145EC15E07E3659C265441ACE0C3BB6E145EC1AB5863709C265441362273C06E145EC1C7E0067C9C2654418811C6C26E145EC1421F5B889C265441B4D1A5C26E145EC12DC9E6949C265441FD9F13C06E145EC164722EA19C265441ABC728BB6E145EC1C44BB9AC9C2654412DA915B46E145EC1AEC715B79C2654412FDE1FAB6E145EC12AF7DDBF9C265441E28C9FA06E145EC1B774BBC69C265441C604FC946E145EC141B66ACB9C265441FC1462F75C145EC1902617F2A1265441010300000001000000260000006DDAC7F35A145EC14B03D600A0265441ECE616F35A145EC173DE0901A0265441C54E17CC50145EC11FD1D3EAA22654410A1BC0BF50145EC1B9D616EDA22654412AA534B350145EC1B867E6ECA22654414A57F0A650145EC1996044EAA226544185DF6B9B50145EC166A84AE5A2265441B48C189150145EC1E5312ADEA2265441AFF35B8850145EC10A1A29D5A2265441F8078C8150145EC130F69FCAA226544124CEEB7C50145EC1A26CF6BEA22654418AC8A87A50145EC1E7389FB2A22654418B37D97A50145EC107C313A6A2265441AA3E7B7D50145EC12775CF99A2265441DDF6748250145EC162FD4A8EA22654415E6D958950145EC191AAF783A22654413985969250145EC18C113B7BA226544113A91F9D50145EC1D5256B74A2265441A132C9A850145EC101ECCA6FA2265441F52B70CF5A145EC15F671A869F2654414BE1903F77145EC177B7140497265441955DE14B77145EC14A2DAE0197265441EF2A6D5877145EC1FC76BA0197265441D6DBB86477145EC1AA1B39049726544182794B7077145EC16590110997265441EB29B37A77145EC1A729141097265441DE8F898377145EC149F0FB189726544107BA778A77145EC10248712397265441457A398F77145EC14B4D0D2F972654417204A09177145EC195C95D3B97265441C0BA939177145EC1EF96E947972654411216158F77145EC1D64735549726544157A13C8A77145EC182E5C75F9726544115083A8377145EC1EB952F6A972654417341527A77145EC1DEFB057397265441BAE9DC6F77145EC10726F4799726544171E4406477145EC145E6B57E972654416DDAC7F35A145EC14B03D600A0265441010300000001000000460000004C3D5CD075145EC17552FF24B126544100E9E2FB75145EC183B030E2B02654418959F3A576145EC11408B38DAF26544198209DAE76145EC12B58A580AF265441B15230BA76145EC107971676AF265441F7AB138378145EC1F8FE2332AE265441475399217A145EC1542BA8DBAC265441475399217A145EC1F4B40AF5AB265441164C858479145EC159A61E51AB265441C9AFF11577145EC1FC578D14AA2654416EA78EB375145EC1C2D394C9A92654418CD3FBA775145EC1B462F5C5A9265441ED234D9D75145EC11CB237C0A92654418AA67CD273145EC1999B538EA82654419F6779C773145EC113FA0885A8265441D2880F8672145EC1B13EEF30A7265441E81931A170145EC17FE158BBA5265441F03623126E145EC19AD7E0C8A42654417CB14DD96A145EC167B00826A4265441B02A727369145EC1D2936221A6265441ACF0D61E69145EC1D6C1113EA82654410B262B1C69145EC1EE5EE048A8265441804BAA1769145EC165A40E53A82654417242771169145EC16AB74D5CA82654413B0FC20969145EC1DDF95564A826544187378BB865145EC186568B4BAB265441DB91116265145EC19E51FF9BAB265441DB91116265145EC158DD2AEDAA265441C774836365145EC17515DDEBAA2654413AB0F8A368145EC14FDE5113A826544123F94BF768145EC1F16DD2FEA526544170DE34FB68145EC17DD1B1F0A526544127673A0269145EC175CDD3E3A5265441CDD9A5886A145EC1A7B14FBAA3265441B5C2A4906A145EC1727D03B1A32654413A10449A6A145EC1EC6069A9A32654419D5229A56A145EC1ECCEC8A3A32654419022EEB06A145EC1E0AA56A0A3265441AEE323BD6A145EC1BB57339FA32654410DD457C96A145EC18C8769A0A32654416E57F32F6E145EC1D2204B4CA42654412763C5396E145EC166B10F4FA426544139B4C1D670145EC14DD9AF46A5265441CA2388DF70145EC1E920B64AA52654419D0C9AE770145EC136950250A526544142FD2CD872145EC1DDBA9DCEA6265441AEF7A0DF72145EC1AFB05AD5A62654418807861F74145EC12A02D927A826544189A113DA75145EC14BB4E54EA9265441F30BAF3877145EC152851199A9265441941A724877145EC1E156A29EA9265441B69938C879145EC1866CF2E3AA26544166165CD179145EC1B0409BE9AA2654411D196CD979145EC12430B7F0AA2654416DE0CE8F7A145EC1F5450CAFAB265441C9E75F977A145EC17B6CA0B8AB2654417A22FC9C7A145EC1DEBC77C3AB26544142516FA07A145EC152412DCFAB265441475399A17A145EC1BAEE53DBAB265441475399A17A145EC1D92FCCF9AC265441FA2E0EA07A145EC15AC2C407AD2654415DD17F9B7A145EC1B1D01015AD265441ED7C26947A145EC1F8280C21AD265441ACF05C8A7A145EC10FD7222BAD2654414EDEC8D278145EC153585296AE265441BFB109CF78145EC1320A3199AE265441029F4C1177145EC177DD3BD5AF265441E12FC36C76145EC11F7FA81EB1265441E64D216976145EC17552FF24B12654414C3D5CD075145EC17552FF24B126544101030000000100000008000000FE9D1D8A68145EC1A7DE8517A4265441B3C99A1869145EC18EEB244EA22654410391FDCE69145EC1CC70E399A22654410EEF19276B145EC1192E0474A226544111E2F96B6C145EC115837786A2265441126A9D9D6D145EC1F703C545A32654412133F6086F145EC1A7DE8517A4265441FE9D1D8A68145EC1A7DE8517A4265441010300000001000000230000002B1CE09159145EC1417862CDB2265441D10C73825B145EC176FBD066B32654418E21548E5C145EC176FBD066B326544139F57F605D145EC163DA376EB22654413312E77E5E145EC1C6E8BCC9B02654419C72502B5F145EC1965A214BAF265441FB84E4E260145EC1F4FA1440AE265441AC4BF0F962145EC16E3A9A9BAC265441A6F0FA4965145EC1856A3BC5A9265441FF8DD62666145EC172F3A9CBA8265441FE157A5867145EC139FDE8F9A7265441B5BF1E5168145EC11F1AD8E2A5265441FE9D1D8A68145EC1A7DE8517A4265441C80D77FA6C145EC1A7DE8517A4265441C80D77FA6C145EC195F40B3CA6265441B9C245F96B145EC11F1AD8E2A52654410884DD136B145EC1DF704BF5A526544166862A686A145EC1C4D331ADA7265441AFDC856F69145EC159A48B77A9265441A0132D0468145EC18FB6DBBCAA26544151424E8666145EC181E1BFEEAB2654414E4F6E4165145EC16FA6CE7FAD265441589D433664145EC1FBE8B2B1AE265441971D261763145EC11CF04BAAAF26544191AC1E6861145EC1FFFDE4A2B02654418D37668D60145EC13EB83CE7B12654413318B21A60145EC1BD0B97B1B32654414066870F5F145EC1246E5D8FB5265441DB705A765E145EC13DEEADD4B626544193925B3D5E145EC1DB046015B6265441E64008015D145EC1F3EDA34FB6265441796BE6795B145EC16EAC8A74B6265441747806355A145EC1DB046015B62654412B1CE09159145EC1F5C2B8E3B52654412B1CE09159145EC1417862CDB22654410103000000010000004D000000C80D77FA6C145EC1A7DE8517A42654412133F6086F145EC1A7DE8517A42654412626D64D70145EC1EBDD148BA426544121433D6C71145EC1D422F4B0A4265441DC571E7872145EC1E345ABFDA426544126BEC0E273145EC11F1AD8E2A52654413EDF6A0A75145EC12876DA68A626544187BD694375145EC10D96E1FAA7265441DAF984D476145EC124180C5AA8265441EF2D1A5378145EC1956E7AF3A82654418C48341D7A145EC1A9E41066A926544143F2D8157B145EC11BD53D4BAA265441962478DF7B145EC15887639EA9265441F4AE68657C145EC19010CD2BA926544196AC1B117D145EC12C707F6CA8265441EFCBCF837D145EC150E3C599A7265441A675747C7E145EC10ABDB98EA6265441EF5373B57E145EC1293B00BCA52654419A279F877F145EC132CD4D7BA62654415CA7BCA680145EC1190499B4A62654415CA7BCA680145EC10CE7E124A9265441A307947580145EC128B85919A92654415D1F19757F145EC12C707F6CA82654419534BF427E145EC172F3A9CBA826544196AC1B117D145EC132799083AA265441F4AE68657C145EC1643B3301AC2654414ECE1CD87C145EC13558EF59AD2654419041DFFD7C145EC17600DB8AAE265441FF84E18B7C145EC1C8402BD0AF265441EEC504E87B145EC1BBA17190B0265441FA9101477B145EC193F38214B12654419C89E9567A145EC1AA8C7B15B12654419D7F6D8F79145EC1AB08798FB0265441E6D5C89678145EC1C8402BD0AF2654419399AD0577145EC1D8DE5A3BB1265441D60C702B77145EC1F94AD359B2265441901B869B76145EC1DA0DF93FB3265441DB71E1A275145EC10B471CA0B32654412546641475145EC1153EC496B42654418D1E2A8F74145EC15A0FEA7CB5265441D6F65D2C73145EC16696C429B6265441D381A55172145EC18DF541C1B62654416E0E514E71145EC1BDD467A7B726544180458AC070145EC1BE77565EB92654416A99987370145EC14A2A6369BA265441166DC44571145EC1E1251D3CBB265441DC571E7872145EC1E8ECE319BD26544122BB993A70145EC1C0DD016EBC2654412133F6086F145EC1CA82FC61BB2654416A8951106E145EC11484B634BC265441BFB5253E6D145EC1E8ECE319BD265441C80D77FA6C145EC163F8DC8CBD265441C80D77FA6C145EC1711AA7A3BA265441D36B93526E145EC1ABBBE5D1B92654416EFE09EB6E145EC11AC0217AB826544175E76D686F145EC17E468DFAB62654416A99987370145EC1455E35B6B5265441C340F01772145EC1F5F0785DB426544125361DB172145EC1CA57E2EAB326544136FF751C74145EC1ADD5D5DFB2265441E1D2A1EE74145EC12D313A61B126544194110AD475145EC1B73597E3AF26544188C334DF76145EC121B1FB64AE26544144D815EB77145EC16FA6CE7FAD2654413EF57C0979145EC120615661AC265441E16A8C8378145EC1FCFBE7C7AB265441D60C702B77145EC1C524DE42AB2654413F670E3C76145EC17C7F8B0AAB26544129B1A02775145EC10A02BBE2AA26544126BEC0E273145EC179586D23AA265441737F58FD72145EC10E2EF504A926544175F7B4CB71145EC1021C11D3A7265441C230A9B46F145EC14F9BE673A72654410C8704BC6E145EC11AE470DBA626544118D5D9B06D145EC132CD4D7BA6265441C80D77FA6C145EC195F40B3CA6265441C80D77FA6C145EC1A7DE8517A4265441010300000001000000330000000484E06A4F145EC17F6FB520972654411930D2B74F145EC1B1FFF12E972654416096742251145EC12B18861B97265441000000D054145EC1D3564D0296265441213CEBA358145EC17B649EDD9426544135A0554C61145EC1F187438D9226544108F66E4668145EC1DE9077B09026544134F258B859145EC19A322D5195265441000000D054145EC1936538CD9626544116C8BC4C53145EC143E75D429726544162149C8C51145EC1A9C3DAD997265441C403FE8950145EC1B54BF63A982654415C21BC4750145EC103869D319926544108F5E71951145EC17D9B0BCB992654416C72B8E452145EC13E79C09199265441000000D054145EC143DE9C07992654416A9246AB57145EC149B3FD3998265441000000D054145EC1D685DA4099265441AEDFAF6E51145EC1D89CE5779A26544114CB604051145EC170D0F8819B2654416BEA14B351145EC110DAD22E9C26544108052F7D53145EC1D8EF661B9C265441000000D054145EC1C4A18AC69B2654416A9246AB57145EC1D186620F9B265441000000D054145EC1A70991129C265441AAF29AC551145EC127C872269D265441FE1E6FF350145EC17A550B1F9E265441048AAB0651145EC190E9A3179F265441BB3350FF51145EC1B928833D9F265441000000D054145EC171D5717D9E26544170ED3B5B55145EC1067F56589E265441000000D054145EC1AFC39E8F9E265441BAB5289551145EC1B7F0E9D79F2654415CA95F7951145EC1414CFDE1A0265441077D8B4B52145EC19695FF67A12654411EB120CA53145EC122542042A1265441000000D054145EC14EB97810A12654417075DF8C56145EC1610B1EBCA0265441DCD86FE15A145EC1E46B85C39F265441000000D054145EC1856406CFA12654410E706B9053145EC1FFFDB83AA22654415F1E185452145EC15C4CBBC0A2265441BB3350FF51145EC18F79EFA4A326544172DDF4F752145EC1E9AB3ADEA3265441000000D054145EC1856DE998A32654411D39C4FB54145EC1FC237C92A326544175F0620359145EC1628F9AE6A226544189343FE55C145EC197B1B6B4A12654417583182A56145EC1A7DE8517A42654410484E06A4F145EC1A7DE8517A42654410484E06A4F145EC17F6FB52097265441
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/980>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From i.baydakov at crazypanda.ru  Thu Jul 18 00:19:24 2019
From: i.baydakov at crazypanda.ru (Ivan Baidakou)
Date: Thu, 18 Jul 2019 10:19:24 +0300
Subject: [geos-devel] [GEOS] #977: Delaunay Triangulation adds additional
 area to the original geometry.
Message-ID: <20190718101924.0a3e41f2@crazypanda.ru>

Hello dear geos-developers,

Could you, please, comment the issue [1], i.e whether it is confirmed, wont-fix etc. ?

[1] https://trac.osgeo.org/geos/ticket/977

WBR, Ivan Baidakou

From me at komzpa.net  Thu Jul 18 00:24:56 2019
From: me at komzpa.net (=?UTF-8?Q?Darafei_=22Kom=D1=8Fpa=22_Praliaskouski?=)
Date: Thu, 18 Jul 2019 10:24:56 +0300
Subject: [geos-devel] [GEOS] #977: Delaunay Triangulation adds
 additional area to the original geometry.
In-Reply-To: <20190718101924.0a3e41f2@crazypanda.ru>
References: <20190718101924.0a3e41f2@crazypanda.ru>
Message-ID: <CAC8Q8tKCxS5a+4kSZ4NwaH0qzCSv5ntohyq16oUsYE4yqChihQ@mail.gmail.com>

Привет,

a function you need is called ST_Tesselate and it comes in PostGIS SFCGAL
module. Behaviour of Delaunay Triangulation is correct.

On Thu, Jul 18, 2019 at 10:19 AM Ivan Baidakou <i.baydakov at crazypanda.ru>
wrote:

> Hello dear geos-developers,
>
> Could you, please, comment the issue [1], i.e whether it is confirmed,
> wont-fix etc. ?
>
> [1] https://trac.osgeo.org/geos/ticket/977
>
> WBR, Ivan Baidakou
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel



-- 
Darafei Praliaskouski
Support me: http://patreon.com/komzpa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190718/9d6da277/attachment.html>

From geos-trac at osgeo.org  Thu Jul 18 00:33:07 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Jul 2019 07:33:07 -0000
Subject: [geos-devel] [GEOS] #981: Link ST_Tesselate to
	ST_(Constrained)DelaunayTriangles
Message-ID: <044.1072456e84b2bf61207cb93e61fa3f15@osgeo.org>

#981: Link ST_Tesselate to ST_(Constrained)DelaunayTriangles
---------------------------+--------------------------
 Reporter:  komzpa         |      Owner:  geos-devel@…
     Type:  defect         |     Status:  new
 Priority:  major          |  Milestone:
Component:  Documentation  |    Version:  3.6.2
 Severity:  Unassigned     |   Keywords:
---------------------------+--------------------------
 https://trac.osgeo.org/geos/ticket/977 shows misconception about Delaunay
 Triangulation being a tesselation. After looking at our doc page I see
 that ST_Tesselate is not linked from ST_(Constrained)DelaunayTriangles and
 thus not found.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/981>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 18 00:33:21 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Jul 2019 07:33:21 -0000
Subject: [geos-devel] [GEOS] #981: Link ST_Tesselate to
 ST_(Constrained)DelaunayTriangles
In-Reply-To: <044.1072456e84b2bf61207cb93e61fa3f15@osgeo.org>
References: <044.1072456e84b2bf61207cb93e61fa3f15@osgeo.org>
Message-ID: <059.781557d9a858b4acc0b2803a1efbad99@osgeo.org>

#981: Link ST_Tesselate to ST_(Constrained)DelaunayTriangles
---------------------------+---------------------------
 Reporter:  komzpa         |       Owner:  geos-devel@…
     Type:  defect         |      Status:  closed
 Priority:  major          |   Milestone:
Component:  Documentation  |     Version:  3.6.2
 Severity:  Unassigned     |  Resolution:  invalid
 Keywords:                 |
---------------------------+---------------------------
Changes (by komzpa):

 * status:  new => closed
 * resolution:   => invalid


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/981#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 18 00:58:10 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Jul 2019 07:58:10 -0000
Subject: [geos-devel] [GEOS] #981: Link ST_Tesselate to
 ST_(Constrained)DelaunayTriangles
In-Reply-To: <044.1072456e84b2bf61207cb93e61fa3f15@osgeo.org>
References: <044.1072456e84b2bf61207cb93e61fa3f15@osgeo.org>
Message-ID: <059.a9cd8f976b2fd8c561203b51623818ff@osgeo.org>

#981: Link ST_Tesselate to ST_(Constrained)DelaunayTriangles
---------------------------+---------------------------
 Reporter:  komzpa         |       Owner:  geos-devel@…
     Type:  defect         |      Status:  closed
 Priority:  major          |   Milestone:
Component:  Documentation  |     Version:  3.6.2
 Severity:  Unassigned     |  Resolution:  invalid
 Keywords:                 |
---------------------------+---------------------------

Comment (by komzpa):

 Is about PostGIS so reported there:
 https://trac.osgeo.org/postgis/ticket/4458#ticket

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/981#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 18 04:18:42 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Jul 2019 11:18:42 -0000
Subject: [geos-devel] [GEOS] #980: GEOSBuffer emits invalid buffering a
	collection
In-Reply-To: <044.ec6b5735740f3db08c79ba996cbaa931@osgeo.org>
References: <044.ec6b5735740f3db08c79ba996cbaa931@osgeo.org>
Message-ID: <059.80cb420697022d55c28835a5472c04ad@osgeo.org>

#980: GEOSBuffer emits invalid buffering a collection
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by dbaston):

 Can you please provide all arguments to GEOSBuffer in this ticket?

 What do exhibits 1 and 2 represent?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/980#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 18 09:07:02 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Jul 2019 16:07:02 -0000
Subject: [geos-devel] [GEOS] #980: GEOSBuffer emits invalid buffering a
	collection
In-Reply-To: <044.ec6b5735740f3db08c79ba996cbaa931@osgeo.org>
References: <044.ec6b5735740f3db08c79ba996cbaa931@osgeo.org>
Message-ID: <059.bfaec21eb200c35c41e800b312f89b02@osgeo.org>

#980: GEOSBuffer emits invalid buffering a collection
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Confirmed that JTS `buffer(0)` exhibits the same issue.  It produces an
 invalid output on both geometries above (of which the first is a subset of
 the second).

 This is almost certainly due to a noding robustness failure, in an area
 with several very close high precision vertices:
 {{{
 A
 []  POLYGON(108)
 Ring-CW  Vert[0 11]  POINT ( -7885150.676182368 5282400.906109639 )
 Ring-CW  Vert[0 12]  POINT ( -7885150.676182364 5282400.90610964 )
 Ring-CW  Vert[0 13]  POINT ( -7885150.676182369 5282400.906109639 )
 }}}

 Some light precision reduction might solve this problem, in this case.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/980#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 18 09:09:12 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 18 Jul 2019 16:09:12 -0000
Subject: [geos-devel] [GEOS] #980: GEOSBuffer emits invalid buffering a
	collection
In-Reply-To: <044.ec6b5735740f3db08c79ba996cbaa931@osgeo.org>
References: <044.ec6b5735740f3db08c79ba996cbaa931@osgeo.org>
Message-ID: <059.531eacf5de08d7a42bc92f81f6709e66@osgeo.org>

#980: GEOSBuffer emits invalid buffering a collection
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.7.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 Snap-rounding is highly applicable to buffer construction, and should
 solve problems like this.   It's probably too much impact to try and add
 it to the current (complex) buffer code, so that may have to wait for a
 rewrite using the upcoming OverlayNG framework. Although at that point
 UnaryUnion should work as well.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/980#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From zhenchen17 at gmail.com  Tue Jul 23 01:02:07 2019
From: zhenchen17 at gmail.com (chen zhen)
Date: Tue, 23 Jul 2019 16:02:07 +0800
Subject: [geos-devel] Question on CoordinateSequence getAt function
Message-ID: <CAHC6U2UTUNvikPF-SgHOJ1k4De3N2iG4+LUUMwbQnr3kBkj8GA@mail.gmail.com>

Hi,

I am trying to use geos for topology analysis. I noticed the comments in
the class CoordinateSequence(CoordinateSequence.h) :

> There are some cases in which you might want Geometries to store their
> points using something other than the GEOS Coordinate class. For example,
you
> may want to experiment with another implementation, such as an array of Xs
> and an array of Ys. or you might want to use your own coordinate class,
one
> that supports extra attributes like M-values.

> You can do this by implementing the CoordinateSequence and
> CoordinateSequenceFactory interfaces. You would then create a
> GeometryFactory parameterized by your CoordinateSequenceFactory, and use
> this GeometryFactory to create new Geometries. All of these new Geometries
> will use your CoordinateSequence implementation.

That means I can build my own CoordinateSequence class by implementing the
interfaces in CoordinateSequence class, and further for geometry storage.

In my case, the underlying of a CoordinateSequence is a array of Point:

> typedef struct {
>   double x;
>    double y;} Point;

and my class looks like :

> class GEOS_DLL MyCoordinateSequence : public CoordinateSequence {
>       private:
>           Point * _points;       /* points array */
>       ...

everything seems to be fine except the getAt function which need to return
a const reference to a Coordinate object. Because I do not have the
vector<Coordinate> member in my class, I am not sure how to convert a Point
to a  Coordinate object for returning.

And if I add a vector<Coordinate> member in the class, there is not
different with  class CoordinateArraySequence :-(

Also I wonder why then return value is a const reference object rather that
a pointer?  If it is a pointer, I can make my own Coordinate sub class
which
is a wrap of point.  Is there any design purpose on this ? Is it possible
to change the return type to a Coordinate pointer that shouble be a
abstract class.

comments are welcomed.

Regards,

zhen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190723/916d3ac8/attachment.html>

From ritesh.s at intech-dmls.in  Tue Jul 23 03:35:33 2019
From: ritesh.s at intech-dmls.in (ritesh.s at intech-dmls.in)
Date: Tue, 23 Jul 2019 16:05:33 +0530
Subject: [geos-devel] Inconsistent result of "intersection" function
Message-ID: <00d501d54142$5c8b55e0$15a201a0$@intech-dmls.in>

Hi,

We are created polygon and line. After performing the intersection function
we are getting different values. 

This is the sample code we have implemented using GEOS API (GEOS 3.7.2) .

       Rect = c1.createPolygon(10.78, 10.34, 18.89, 16.64);

      

      line = c1.makeLine(10.78 , 12.34 ,18.89 , 12.34);

 

      point = Rect->intersection (line)

 

1. If given line lies on the polygon we are getting the Expected result.

 

Input: Polygon(10.78, 10.34, 18.89, 16.64);

Input:  makeLine (10.78 , 12.34 ,18.89 , 12.34)

Current  Output from intersection API :  (10.78 , 12.34) (18.89 , 12.34)

Expected Output :  (10.78 , 12.34) (18.89 , 12.34)

 

2.  If given line lies away the polygon we are getting the different result.

Input:  makeLine (8.78 , 12.34 ,20.89 , 12.34)

Current  Output from intersection API:    (11 , 12.3.4) (19 , 12.34)

Expected Output :  (10.78 , 12.34) (18.89 , 12.34)

 

Can you please suggest why this behaviour diffrence is there in API output.

Please let me know any additional information needed from my side.

 

Thanks,

Ritesh

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190723/3d2046b3/attachment.html>

From mtnclimb at gmail.com  Tue Jul 23 10:24:11 2019
From: mtnclimb at gmail.com (Martin Davis)
Date: Tue, 23 Jul 2019 10:24:11 -0700
Subject: [geos-devel] Inconsistent result of "intersection" function
In-Reply-To: <00d501d54142$5c8b55e0$15a201a0$@intech-dmls.in>
References: <00d501d54142$5c8b55e0$15a201a0$@intech-dmls.in>
Message-ID: <CAK2ens2ho=CM1n8d82KXK+y8yCGv1oAd5wW-Qqdoa5+YaYhe-Q@mail.gmail.com>

It would be easier to see what is going on if you post some code that
reproduces the problem.


On Tue, Jul 23, 2019 at 3:35 AM <ritesh.s at intech-dmls.in> wrote:

> Hi,
>
> We are created polygon and line. After performing the intersection
> function we are getting different values.
>
> This is the sample code we have implemented using GEOS API (GEOS 3.7.2) .
>
>        Rect = c1.createPolygon(10.78, 10.34, 18.89, 16.64);
>
>
>
>       line = c1.makeLine(10.78 , 12.34 ,18.89 , 12.34);
>
>
>
>       point = Rect->intersection (line)
>
>
>
> 1. If given line lies on the polygon we are getting the Expected result.
>
>
>
> *Input*: Polygon(10.78, 10.34, 18.89, 16.64);
>
> *Input:  *makeLine (10.78 , 12.34 ,18.89 , 12.34)
>
> *Current  Output from **intersection API :*  (10.78 , 12.34) (18.89 ,
> 12.34)
>
> *Expected Output :  *(10.78 , 12.34) (18.89 , 12.34)
>
>
>
> 2.  If given line lies away the polygon we are getting the different
> result.
>
> *Input:*  makeLine (8.78 , 12.34 ,20.89 , 12.34)
>
> *Current  Output from **intersection API:*    (11 , 12.3.4) (19 , 12.34)
>
> *Expected Output :  *(10.78 , 12.34) (18.89 , 12.34)
>
>
>
> Can you please suggest why this behaviour diffrence is there in API output.
>
> Please let me know any additional information needed from my side.
>
>
>
> Thanks,
>
> Ritesh
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190723/6796f264/attachment-0001.html>

From ritesh.s at intech-dmls.in  Tue Jul 23 22:48:43 2019
From: ritesh.s at intech-dmls.in (ritesh.s at intech-dmls.in)
Date: Wed, 24 Jul 2019 11:18:43 +0530
Subject: [geos-devel] Inconsistent result of "intersection" function
In-Reply-To: <CAK2ens2ho=CM1n8d82KXK+y8yCGv1oAd5wW-Qqdoa5+YaYhe-Q@mail.gmail.com>
References: <00d501d54142$5c8b55e0$15a201a0$@intech-dmls.in>
 <CAK2ens2ho=CM1n8d82KXK+y8yCGv1oAd5wW-Qqdoa5+YaYhe-Q@mail.gmail.com>
Message-ID: <008701d541e3$74f5b8e0$5ee12aa0$@intech-dmls.in>

Hello,

 

Thanks for quick reply, here I am attaching the sample code we have created for interaction function

 

Thanks,

Ritesh

 

From: geos-devel <geos-devel-bounces at lists.osgeo.org> On Behalf Of Martin Davis
Sent: 23 July 2019 22:54
To: GEOS Development List <geos-devel at lists.osgeo.org>
Subject: Re: [geos-devel] Inconsistent result of "intersection" function

 

It would be easier to see what is going on if you post some code that reproduces the problem.

 

 

On Tue, Jul 23, 2019 at 3:35 AM <ritesh.s at intech-dmls.in <mailto:ritesh.s at intech-dmls.in> > wrote:

Hi,

We are created polygon and line. After performing the intersection function we are getting different values. 

This is the sample code we have implemented using GEOS API (GEOS 3.7.2) .

       Rect = c1.createPolygon(10.78, 10.34, 18.89, 16.64);

      

      line = c1.makeLine(10.78 , 12.34 ,18.89 , 12.34);

 

      point = Rect->intersection (line)

 

1. If given line lies on the polygon we are getting the Expected result.

 

Input: Polygon(10.78, 10.34, 18.89, 16.64);

Input:  makeLine (10.78 , 12.34 ,18.89 , 12.34)

Current  Output from intersection API :  (10.78 , 12.34) (18.89 , 12.34)

Expected Output :  (10.78 , 12.34) (18.89 , 12.34)

 

2.  If given line lies away the polygon we are getting the different result.

Input:  makeLine (8.78 , 12.34 ,20.89 , 12.34)

Current  Output from intersection API:    (11 , 12.3.4) (19 , 12.34)

Expected Output :  (10.78 , 12.34) (18.89 , 12.34)

 

Can you please suggest why this behaviour diffrence is there in API output.

Please let me know any additional information needed from my side.

 

Thanks,

Ritesh

_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org <mailto:geos-devel at lists.osgeo.org> 
https://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190724/0870c998/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: sample.cpp
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190724/0870c998/attachment.ksh>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: createGeometry.cpp
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190724/0870c998/attachment-0001.ksh>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: createGeometry.h
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190724/0870c998/attachment.h>

From ritesh.s at intech-dmls.in  Wed Jul 24 01:54:38 2019
From: ritesh.s at intech-dmls.in (ritesh.s at intech-dmls.in)
Date: Wed, 24 Jul 2019 14:24:38 +0530
Subject: [geos-devel] Inconsistent result of "intersection" function
In-Reply-To: <008701d541e3$74f5b8e0$5ee12aa0$@intech-dmls.in>
References: <00d501d54142$5c8b55e0$15a201a0$@intech-dmls.in>
 <CAK2ens2ho=CM1n8d82KXK+y8yCGv1oAd5wW-Qqdoa5+YaYhe-Q@mail.gmail.com>
 <008701d541e3$74f5b8e0$5ee12aa0$@intech-dmls.in>
Message-ID: <00ae01d541fd$6e89e5c0$4b9db140$@intech-dmls.in>

Hello,

 

We have found the reason behind the mismatch of results its due to following peace of code

 

PrecisionModel* pm = new PrecisionModel(2.0, 0, 0);

 

 

We have changed it to

 

PrecisionModel* pm = new PrecisionModel();

 

Now are getting the correct result.

 

Thanks,

Ritesh

 

 

From: ritesh.s at intech-dmls.in <ritesh.s at intech-dmls.in> 
Sent: 24 July 2019 11:19
To: 'GEOS Development List' <geos-devel at lists.osgeo.org>
Subject: RE: [geos-devel] Inconsistent result of "intersection" function

 

Hello,

 

Thanks for quick reply, here I am attaching the sample code we have created for interaction function

 

Thanks,

Ritesh

 

From: geos-devel <geos-devel-bounces at lists.osgeo.org <mailto:geos-devel-bounces at lists.osgeo.org> > On Behalf Of Martin Davis
Sent: 23 July 2019 22:54
To: GEOS Development List <geos-devel at lists.osgeo.org <mailto:geos-devel at lists.osgeo.org> >
Subject: Re: [geos-devel] Inconsistent result of "intersection" function

 

It would be easier to see what is going on if you post some code that reproduces the problem.

 

 

On Tue, Jul 23, 2019 at 3:35 AM <ritesh.s at intech-dmls.in <mailto:ritesh.s at intech-dmls.in> > wrote:

Hi,

We are created polygon and line. After performing the intersection function we are getting different values. 

This is the sample code we have implemented using GEOS API (GEOS 3.7.2) .

       Rect = c1.createPolygon(10.78, 10.34, 18.89, 16.64);

      

      line = c1.makeLine(10.78 , 12.34 ,18.89 , 12.34);

 

      point = Rect->intersection (line)

 

1. If given line lies on the polygon we are getting the Expected result.

 

Input: Polygon(10.78, 10.34, 18.89, 16.64);

Input:  makeLine (10.78 , 12.34 ,18.89 , 12.34)

Current  Output from intersection API :  (10.78 , 12.34) (18.89 , 12.34)

Expected Output :  (10.78 , 12.34) (18.89 , 12.34)

 

2.  If given line lies away the polygon we are getting the different result.

Input:  makeLine (8.78 , 12.34 ,20.89 , 12.34)

Current  Output from intersection API:    (11 , 12.3.4) (19 , 12.34)

Expected Output :  (10.78 , 12.34) (18.89 , 12.34)

 

Can you please suggest why this behaviour diffrence is there in API output.

Please let me know any additional information needed from my side.

 

Thanks,

Ritesh

_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org <mailto:geos-devel at lists.osgeo.org> 
https://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20190724/d210e342/attachment-0001.html>

From geos-trac at osgeo.org  Thu Jul 25 14:01:44 2019
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 25 Jul 2019 21:01:44 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.5f93d66db93ff52169f29d4e827bdbab@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by pramsey):

 Being worked at https://github.com/libgeos/geos/pull/206

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:19>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jul 25 19:28:22 2019
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 26 Jul 2019 02:28:22 -0000
Subject: [geos-devel] [GEOS] #976: Voronoi polygons robustness issue
In-Reply-To: <044.397241d066e8505928206efe983c3c43@osgeo.org>
References: <044.397241d066e8505928206efe983c3c43@osgeo.org>
Message-ID: <059.09c5feed6b5be535c56d709990027c17@osgeo.org>

#976: Voronoi polygons robustness issue
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by pramsey):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Pushed fix to master

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/976#comment:20>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 28 02:50:02 2019
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 28 Jul 2019 09:50:02 -0000
Subject: [geos-devel] [GEOS] #859: Voronoi issue
In-Reply-To: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
References: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
Message-ID: <060.75cc950c38730885682186a088c3a1cf@osgeo.org>

#859: Voronoi issue
------------------------+---------------------------
 Reporter:  jjgreen     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.5.1
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 Hi, there was a gridded voronoi robustness fix in #976. Maybe this one is
 fixed on master too?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/859#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 28 02:53:10 2019
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 28 Jul 2019 09:53:10 -0000
Subject: [geos-devel] [GEOS] #769: Robustness failure in
	GEOSVoronoiDiagram
In-Reply-To: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
References: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
Message-ID: <060.08ff751da24b9e82b34a07ed7de12920@osgeo.org>

#769: Robustness failure in GEOSVoronoiDiagram
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.5.3
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 Hi, there was a gridded voronoi robustness fix in #976. Maybe this one is
 fixed on master too?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/769#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 28 11:37:35 2019
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 28 Jul 2019 18:37:35 -0000
Subject: [geos-devel] [GEOS] #769: Robustness failure in
	GEOSVoronoiDiagram
In-Reply-To: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
References: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
Message-ID: <060.372613cf2ed0f748fa4e37b4f4de0c88@osgeo.org>

#769: Robustness failure in GEOSVoronoiDiagram
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.5.3
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 This is due to an issue in the underlying Delaunay triangulation
 computation, caused by some very close sites.  This isn't fixed by the
 recent Voronoi bug fix, which was a fix for the circumcentre calculation
 in the Voronoi code.

 The upstream JTS issue is:  https://github.com/locationtech/jts/issues/20

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/769#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jul 28 11:45:22 2019
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 28 Jul 2019 18:45:22 -0000
Subject: [geos-devel] [GEOS] #859: Voronoi issue
In-Reply-To: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
References: <045.eb68cecd0b7332a162029ded2e367592@osgeo.org>
Message-ID: <060.731bdff50a9a3cd7193ae3342ab63774@osgeo.org>

#859: Voronoi issue
------------------------+---------------------------
 Reporter:  jjgreen     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.6.4
Component:  Default     |     Version:  3.5.1
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by mdavis):

 This problem does appear to be caused by input points which lie on a grid,
 so this is probably fixed by #976

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/859#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jul 29 02:17:51 2019
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 29 Jul 2019 09:17:51 -0000
Subject: [geos-devel] [GEOS] #769: Robustness failure in
	GEOSVoronoiDiagram
In-Reply-To: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
References: <045.a5d58c4fc8050711f7e9cf27d0a5e356@osgeo.org>
Message-ID: <060.0c23f04517fde3d27c035671e75e3b90@osgeo.org>

#769: Robustness failure in GEOSVoronoiDiagram
------------------------+---------------------------
 Reporter:  dbaston     |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:  3.5.3
Component:  Default     |     Version:  3.5.0
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 Confirmed on 3.7.1+postgis:

  {{{
 12:16:10 [gis] > select postgis_full_version();
 POSTGIS="3.0.0alpha3 r17573" [EXTENSION] PGSQL="120"
 GEOS="3.7.1-CAPI-1.11.1 27a5e771" SFCGAL="1.3.6" PROJ="Rel. 5.2.0,
 September 15th, 2018" GDAL="GDAL 2.4.0, released 2018/12/14"
 LIBXML="2.9.4" LIBJSON="0.12.1" LIBPROTOBUF="1.3.1" WAGYU="0.4.3
 (Internal)" RASTER
 (1 row)

 Time: 1,639 ms
 12:16:11 [gis] > select
 ST_VoronoiPolygons('01040000000700000001010000000f8b33e3d97742c038c453588d0423c001010000001171d6d1b45d42c06adc1693e78c22c001010000001c8b33e3d97742c062c453588d0423c00101000000afa5c71fda7742c04b93c61d8e0423c00101000000b0cddcb4b57942c026476887d7b122c00101000000e0678421dc7642c0f7736021e1fb22c00101000000e32fd565018d42c0c7ea1222167c22c0');
 ERROR:  XX000: GEOSVoronoiDiagram: IllegalArgumentException: Points of
 LinearRing do not form a closed linestring
 CONTEXT:  SQL function "st_voronoipolygons" statement 1
 LOCATION:  pg_error, lwgeom_pg.c:243
 Time: 1,081 ms
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/769#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

