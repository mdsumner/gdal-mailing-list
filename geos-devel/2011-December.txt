From geos-trac at osgeo.org  Wed Dec  7 03:16:53 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec  7 04:09:51 2011
Subject: [geos-devel] [GEOS] #499: CascadedPolygonUnion bugfix from JTS
Message-ID: <044.7adc0223036a476357e21a2a4da00f4b@osgeo.org>

#499: CascadedPolygonUnion bugfix from JTS
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.0                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 This commit in JTS:

 http://jts-topo-suite.svn.sourceforge.net/viewvc/jts-topo-
 suite?view=revision&revision=487

 Fixed a bug in CascadedPolygonUnion and provided testcase for it. To be
 ported...

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/499>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec  9 03:48:27 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec  9 07:21:27 2011
Subject: [geos-devel] Re: [GEOS] #499: CascadedPolygonUnion bugfix from JTS
In-Reply-To: <044.7adc0223036a476357e21a2a4da00f4b@osgeo.org>
References: <044.7adc0223036a476357e21a2a4da00f4b@osgeo.org>
Message-ID: <053.6fd7dc06d820ad2152c0dd4acfb862fa@osgeo.org>

#499: CascadedPolygonUnion bugfix from JTS
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.2                     
Component:  Default     |      Version:  3.3.0                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 Fixed with r3532 (oops r3533) in 3.3 branch and r3534 in trunk

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/499#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec  9 05:12:42 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec  9 08:50:26 2011
Subject: [geos-devel] Re: [GEOS] #494: Rectangular buffer with little
	resemblance of input
In-Reply-To: <044.43a6f818b0371afdd8642a0efb40b48b@osgeo.org>
References: <044.43a6f818b0371afdd8642a0efb40b48b@osgeo.org>
Message-ID: <053.c4c88cf19c07a3717eea0a55b50fa8c7@osgeo.org>

#494: Rectangular buffer with little resemblance of input
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.2                     
Component:  Default     |      Version:  3.3.1                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by strk):

 See also http://trac.osgeo.org/geos/wiki/BufferRobustness
 And commits r3535 (for trunk) and r3537 (3.3 branch).
 The testcase was embedded in
 tests/xmltester/tests/safe/TestBufferJagged.xml

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/494#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec  9 05:13:19 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec  9 08:51:05 2011
Subject: [geos-devel] Re: [GEOS] #495: Empty return from buffer
In-Reply-To: <044.be339a450c7e604c65de91ecceca89dc@osgeo.org>
References: <044.be339a450c7e604c65de91ecceca89dc@osgeo.org>
Message-ID: <053.7abdcbf31f5a61ef3d72194419a8c6b4@osgeo.org>

#495: Empty return from buffer
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.2                     
Component:  Default     |      Version:  3.3.0                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 Fixed by commits r3535 (for trunk) and r3537 (3.3 branch).
 The testcase was embedded in
 tests/xmltester/tests/safe/TestBufferJagged.xml

 See also http://trac.osgeo.org/geos/wiki/BufferRobustness

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/495#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec  9 05:32:02 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec  9 09:10:43 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException with valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.4e09503b0b634e1ea301f7857662728c@osgeo.org>

#488: TopologyException with valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  => 3.3.2


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec  9 05:33:37 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec  9 09:12:21 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries (was: TopologyException with valid geometries)
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.bd7eff05502875c356911619b87c46e2@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec  9 05:54:34 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec  9 09:34:27 2011
Subject: [geos-devel] Re: [GEOS] #491: Fix C++11 build by avoiding
	std::pair<auto_ptr>
In-Reply-To: <048.cbf48a1eced63704ef67a7547ffdc1ef@osgeo.org>
References: <048.cbf48a1eced63704ef67a7547ffdc1ef@osgeo.org>
Message-ID: <057.73a965914e007ec1bca7e34c945b26ad@osgeo.org>

#491: Fix C++11 build by avoiding std::pair<auto_ptr>
------------------------+---------------------------------------------------
 Reporter:  jyasskin    |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.2                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 Fixed by r3538 in 3.3 branch and r3540 in trunk

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/491#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From strk at keybit.net  Fri Dec  9 05:59:46 2011
From: strk at keybit.net (Sandro Santilli)
Date: Fri Dec  9 09:40:10 2011
Subject: [geos-devel] Call for test of the 3.3 branch
Message-ID: <20111209105946.GG23659@gnash>

I've spent the last couple of weeks hunting buffer robustness
issues and fixing few more bugs in the 3.3 branch.

I'd release a 3.3.2 shortly with the fixes.

Biggest change is in Buffer operation, specifically in handling
of reduced precision buffering in case of a topology exception
raised with the full-precision attempt.

As I also applied a few patch supposedly fixing build on different
architectures I'd like to call for tests of the branch prior to
closing up the release.

Here's a list of bugfixes:
http://trac.osgeo.org/geos/query?status=closed&order=priority&col=id&col=summary&col=status&col=type&col=priority&col=milestone&col=component&milestone=3.3.2

Still open issues (not sure they'll make it into 3.3.2):
http://trac.osgeo.org/geos/query?status=assigned&status=new&status=reopened&order=priority&col=id&col=summary&col=milestone&col=status&col=type&col=priority&col=component&milestone=3.3.2

Thanks for testing.

--strk; 

  ,------o-. 
  |   __/  |    Thank you for PostGIS-2.0 Topology !
  |  / 2.0 |    http://www.pledgebank.com/postgistopology
  `-o------'

From geos-trac at osgeo.org  Fri Dec  9 11:56:58 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec  9 15:57:11 2011
Subject: [geos-devel] [GEOS] #500: default initialization of an object of
 const type
 'const geos::operation::overlay::OverlayNodeFactory' requires a
 user-provided default constructor
Message-ID: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>

#500: default initialization of an object of const type 'const
geos::operation::overlay::OverlayNodeFactory' requires a user-provided
default       constructor
------------------------+---------------------------------------------------
 Reporter:  hobu        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 clang reports:

 {{{
 OverlayNodeFactory.cpp:31:33: error: default initialization of an object
 of const type 'const geos::operation::overlay::OverlayNodeFactory'
 requires a user-provided default
       constructor
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/500>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sat Dec 10 13:01:59 2011
From: geos-trac at osgeo.org (GEOS)
Date: Sat Dec 10 18:25:40 2011
Subject: [geos-devel] [GEOS] #501: Snap operation: wrong snapping
Message-ID: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.0                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 Hi I notice, using postgis that the Snap algoritm sometimes will wrong to
 snap geometries causing the born of invalid polygon or disallowing polygon
 otherwise perfectly touching each other.

 To produce a test-case I use linestrings

 Starting with this two linestrings:

 The geometry to snap (two only vertex)
 SELECT ST_GeomFromText('LINESTRING(0 0, 10 0)');

 Image:
        *--------------------*

 And the geometry used as reference (4 vertex)
 SELECT ST_GeomFromText('LINESTRING(0 0, 9 0, 10 0, 11 0)');

 Image:
        *-----------------*--*--*

 Please notice every vertex has a distance of 1 or more from other vertexs.
 And notice also the first geometry has its vertexs coords exactly as in
 the second geometry.

 Now I try to snap the first geometry on the second (the reference
 geometry) with a buffer of 2 meters:

 {{{
 Select ST_AsText(ST_Snap(ST_GeomFromText('LINESTRING(0 0, 10
 0)'),ST_GeomFromText('LINESTRING(0 0, 9 0, 10 0, 11 0)'),2));
 }}}

 I see that the result is:
 LINESTRING(0 0,11 0,10 0,9 0)

 Image:
        *----------->--->-----*
                         *-<-*

 I guess this is really a bug.

 I guess the right result should be always:
 LINESTRING(0 0, 10 0)

 Or also I guess another valid result could be this
 LINESTRING(0 0,9 0,10 0)
 Where I admit the snap was for segment.

 ----
 Perhaps an optional fourth parameter could allow choose if snap for
 "segments" or for "vertex", and default to "segment" because surely it is
 the more useful.
 ----

 However surely the result the Snap give at now:
 LINESTRING(0 0,11 0,10 0,9 0)
 is no the right result.

 I don't know how the Snap algorithm work, but I guess It seem to stop at
 the first vertex inside the buffer interval.
 I guess it should be search always the nearest vertex . So it will find
 that there is a vertex on exactly the same coords (10 0) and so it will
 produce a result like
 Linestring(0 0, I guess the Snap() method should always search the nearest
 vertex instead of stop to the first vertex inside the buffer interval.

 If it search go to find the nearest vertex it will find that there is a
 vertex exactly on the same coords (10 0), and so it will give as result

 ST_Snap('LINESTRING(0 0, 10 0)', LINESTRING(0 0, 9 0, 10 0, 11 0), 2) =
 LINESTRING(0 0, 9 0, 10 0)  (for segment)
 ST_Snap('LINESTRING(0 0, 10 0)', LINESTRING(0 0, 9 0, 10 0, 11 0), 2) =
 LINESTRING(0 0, 10 0)  (for vertex)

 --------

 Thx,
 Andrea.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Sun Dec 11 05:31:04 2011
From: geos-trac at osgeo.org (GEOS)
Date: Sun Dec 11 11:49:29 2011
Subject: [geos-devel] [GEOS] #502: PostGIS crashes on ST_Buffer query
 (possibly due to a bug in geos)
Message-ID: <044.50af246f359a6d663d75c441040a48e0@osgeo.org>

#502: PostGIS crashes on ST_Buffer query (possibly due to a bug in geos)
----------------------+-----------------------------------------------------
 Reporter:  royl      |       Owner:  geos-devel@?                       
     Type:  defect    |      Status:  new                                
 Priority:  major     |   Milestone:  3.4.0                              
Component:  Default   |     Version:  svn-trunk                          
 Severity:  Critical  |    Keywords:  ST_Buffer, LINESTRING buffer, crash
----------------------+-----------------------------------------------------
 When I run the select query (below) I get the following error message
 after about 1 minute:

 The connection to the server was lost. Attempting reset: Failed.
 !>

 My postgis version details are:
                                           postgis_full_version
 ----------------------------------------------------------------------------------------------------------
  POSTGIS="1.5.3" GEOS="3.4.0dev-CAPI-1.8.0" PROJ="Rel. 4.7.1, 23 September
 2009" LIBXML="2.7.8" USE_STATS
 (1 row)


 This is the query:

 SELECT St_Buffer(GeomFromText('LINESTRING(13301526.4253371
 6498410.11039852,13302015.6744991 6498453.39981938,13302198.0603528
 6498384.56207828,13303514.9699289 6495326.35566529,13305553.0405622
 6492777.79154665,13339008.4437278 6475288.23233945,13305652.8607496
 6492644.86068258,13339076.5378603 6475257.81955876,13305730.59515
 6492530.79226984,13339117.3475856 6475245.35904021,13305805.9250494
 6492426.59954718,13339228.4889652 6475218.99563369,13305878.0934753
 6492329.65255509,13339296.5719658 6475188.87854196,13305951.3750961
 6492233.59482448,13339373.7609007 6475159.33504972,13306031.1577752
 6492126.20164842,13339432.7602308 6475121.39788408,13306116.5064288
 6492013.58571551,13339459.6661517 6475093.59246732,13306201.4765961
 6491905.04609099,13339486.928295 6475078.525446,13306271.4297641
 6491808.40122255,13339507.9008871 6475078.525446,13306333.2120815
 6491699.27223561,13339527.381798 6475083.16546003,13306391.8329253
 6491593.0526443,13339585.4460444 6475082.0011117,13306446.7468301
 6491491.77962529,13339621.2575246 6475073.88543456,13306508.3510363
 6491384.67465361,13339699.3704113 6475061.72062286,13306558.2555641
 6491289.20247209,13339731.0853342 6475058.54039645,13306614.8503932
 6491194.88058799,13339804.3780869 6475045.50669439,13306672.168799
 6491093.02042613,13339840.000324 6475037.68648297,13306723.9434942
 6491001.90452415,13339890.8399354 6475024.94824324,13306765.6771713
 6490900.91730611,13339917.1892589 6475020.01283229,13306810.761565
 6490783.39062624,13339989.1684417 6475000.61878101,13306859.0074323
 6490660.9383028,13340033.5069948 6474989.02755513,13306907.0529246
 6490539.35832316,13340104.5733578 6474966.73143451,13306956.2227437
 6490421.24480955,13340181.3838064 6474941.53324084,13307002.2310892
 6490304.59543704,13340220.8910937 6474927.90887003,13307044.1651414
 6490203.04217718,13340262.0904372 6474911.69520277,13307075.5238419
 6490115.40060674,13340327.0230962 6474880.71032969,13307117.0794079
 6490017.92351541,13340423.3144557 6474847.69236444,13307153.6255967
 6489915.78184475,13340458.7474497 6474831.18343104,13307162.3530448
 6489794.21278579,13340540.7565185 6474799.03454963,13307131.918296
 6489666.83093595,13340616.8211266 6474769.77048684,13307090.5519732
 6489537.43164167,13340706.4444486 6474729.52388006,13307048.9852753
 6489405.40570527,13340807.1774558 6474686.35804704,13307008.9102587
 6489271.93700047,13340897.9139728 6474646.11184443,13306968.6459988
 6489135.58075119,13340977.5074087 6474603.53727412,13306928.7602253
 6489007.06011829,13341066.3737582 6474548.79886152,13306893.5164745
 6488884.04216571,13341166.0047025 6474487.97882614,13306860.4879816
 6488777.85861611,13341272.8714136 6474436.42116206,13306829.8751216
 6488666.45438562,13341379.3596385 6474385.45463172,13306815.7820741
 6488557.38413045,13341496.8128333 6474340.27487995,13306807.4219803
 6488440.76096257,13341616.8486402 6474302.04605115,13306797.4143581
 6488313.67838894,13341740.7806293 6474271.63688116,13306787.7518263
 6488188.65164499,13341867.3174945 6474251.94917504,13306778.4900447
 6488057.53485201,13341991.9953242 6474244.70313784,13306768.4601585
 6487932.21607853,13342104.9846073 6474244.98116314,13306756.2150145
 6487812.12069677,13342207.0311845 6474231.67071276,13306744.9049543
 6487713.78301919,13342307.2075943 6474210.52347448,13306750.8382831
 6487632.85111462,13342416.3006953 6474201.53982423,13306802.0452489
 6487573.10124947,13342528.733381 6474189.09826662,13306886.4588188
 6487545.53256657,13342651.374064 6474185.62297453,13306987.0248468
 6487517.38963059,13342772.9015521 6474192.57356017,13307081.2790596
 6487508.11309932,13342883.107848 6474199.8021754,13307147.6922678
 6487485.48745682,13343088.6704197 6474208.21239912,13307305.0201042
 6487364.52833769,13343132.096153 6474210.52347448,13307366.8135535
 6487313.48237809,13343166.415952 6474212.55652628,13307408.3691194
 6487283.59983967,13343213.1701382 6474209.37662497,13307443.2455159
 6487257.7899062,13343297.4055968 6474200.96640008,13307508.7459043
 6487207.89324965,13343393.3184701 6474189.67168995,13307576.6396617
 6487154.23770997,13343498.1480346 6474187.93404361,13307625.0636402
 6487078.53230024,13343602.9775991 6474186.78719722,13307646.5928297
 6486978.46299099,13343713.172763 6474185.03217502,13307665.5171431
 6486869.69337146,13343830.8040689 6474183.29452964,13307686.6678464
 6486755.11264557,13343951.029119 6474179.54121687,13307707.0727091
 6486641.42103166,13344030.9899092 6474168.81995777,13307723.9598758
 6486542.52295033,13344077.7440954 6474167.08231579,13307743.4407867
 6486438.68384382,13344134.5170357 6474171.13102218,13307758.1015636
 6486353.41388838,13344164.9517844 6474170.55760012,13307773.4859173
 6486259.14810231,13344220.0549324 6474163.60703291,13307792.9779601
 6486152.14546448,13344241.7622331 6474163.60703291,13307811.5237873
 6486051.49568181,13344270.7053007 6474166.78691669,13307825.8172099
 6485968.83987487,13344367.920612 6474168.81995777,13307836.5706727
 6485893.14527915,13344403.7320922 6474163.31163393,13307843.9956827
 6485821.22735233,13344446.2116099 6474162.16479094,13307849.194303
 6485742.92400331,13344546.966881 6474143.32878629,13307853.2797283
 6485648.96095978,13344614.304041 6474112.3467793,13307855.1276318
 6485567.17917676,13344691.8603302 6474086.28236488,13307858.8345709
 6485451.46803084,13344800.2075906 6474055.00517553,13307861.9960444
 6485367.37401038,13344844.3680326 6474037.05559727,13307862.9199962
 6485269.93528415,13344919.3194457 6474006.92541468,13307866.8161783
 6485149.58263674,13345003.3656613 6473986.94294325,13307875.5324945
 6485027.21343169,13345087.2337657 6473964.07610448,13307878.8720792
 6484920.19187933,13345159.7806778 6473954.81470517,13307881.8443096
 6484831.17939431,13345246.2313944 6473942.06075004,13307886.8536867
 6484741.28053727,13345346.4189361 6473910.78410373,13307892.4196612
 6484635.44575912,13345455.1446827 6473877.19659191,13307896.1266003
 6484549.32442205,13345555.5103356 6473838.96989424,13307899.0988307
 6484501.47962094,13345657.5569128 6473808.84043013,13307905.7780001
 6484404.34682403,13345762.9430748 6473779.59723125,13307914.1269619
 6484290.67001323,13345850.1396319 6473760.48408499,13307922.8432781
 6484174.97666368,13345926.3934831 6473748.32119663,13307926.0047516
 6484081.32712287,13346002.27998 6473744.27269632,13307928.4203846
 6483968.82033134,13346072.4112592 6473738.76465399,13307933.6078728
 6483841.24953032,13346093.005365 6473741.09297427,13307938.4280068
 6483711.94104945,13346125.4772604 6473749.78074229,13307943.4373839
 6483577.69408271,13346244.0325181 6473777.85967068,13307950.8623939
 6483439.10032803,13346275.3800867 6473787.71164391,13307956.9849659
 6483321.97501416,13346303.9558 6473796.67747097,13307962.7401836
 6483254.7065517,13346335.1252575 6473809.70921361,13307982.2210944
 6483226.87388468,13346352.0124242 6473817.52826901,13308029.7211212
 6483218.17619538,13346364.9922768 6473822.46296553,13308122.661764
 6483237.60684584,13346375.011031 6473825.93810569,13308218.5857692
 6483255.00227429,13346399.8798053 6473835.19936132,13308320.075749
 6483276.17255988,13346452.5673202 6473853.44389134,13308425.8181333
 6483302.54416619,13346465.5583048 6473862.70517763,13308545.4977179
 6483328.93325189,13346502.471848 6473877.49198071,13308656.2606112
 6483336.16982531,13346521.3961614 6473882.40933704,13308770.1738461
 6483326.89796674,13346559.4340314 6473903.26035027,13308888.1725064
 6483310.66789029,13346575.7534688 6473920.91424905,13308990.4083267
 6483299.63911046,13346611.0083515 6473948.43772516,13309253.6677905
 6483269.1969709,13346607.6687668 6473941.4873438,13309326.582057
 6483261.36901021,13309666.8523445 6483261.09068285,13346608.4146074
 6473941.19195272,13309670.0026861 6483262.53450611,13346603.9618277
 6473954.22392207,13347148.681492 6474218.04750626,13309669.6353317
 6483262.83022898,13347219.1912575 6474243.53890704,13347379.4913242
 6474275.11220924,13309669.0787343 6483263.40427928,13347462.9698104
 6474299.1441427,13309688.370402 6483267.75314649,13347535.5167225
 6474329.27538527,13309712.3040926 6483273.54584115,13347581.7143112
 6474351.84782372,13309773.1624582 6483284.27886266,13347612.5164143
 6474364.01159582,13309802.4728801 6483285.72268995,13347652.9587853
 6474373.29082823,13309829.1895579 6483289.79324054,13347721.4202721
 6474384.29038119,13309848.8597119 6483293.55067362,13347788.2119666
 6474400.7984264,13347872.068939 6474424.25728393,13309860.3590153
 6483295.29022655,13347954.6346054 6474450.91357726,13348656.6932379
 6474660.0137922,13309860.5482585 6483295.01189805,13348792.3137736
 6474704.60444668,13309862.9638914 6483293.27234518,13348923.1141753
 6474741.39278571,13309861.1048559 6483292.10684497,13349048.7270887
 6474788.3124909,13309857.7652712 6483295.29022655,13349164.1208728
 6474836.39677489,13349409.7695932 6474920.08876933,13309858.1326255
 6483295.29022655,13349539.6349111 6474957.17348998,13309857.576028
 6483294.71617404,13349666.7283738 6474993.37209067,13350008.6684536
 6475096.19922119,13309859.0677092 6483292.97662123,13350137.2424655
 6475127.75838625,13309859.4350635 6483294.14212158,13350250.0425055
 6475165.41752482,13309859.2458204 6483295.01189805,13350348.5602549
 6475197.56782438,13350548.567984 6475252.88400942,13309859.2458204
 6483295.01189805,13350601.0773878 6475256.95062381,13309858.689223
 6483296.16000315,13350691.8027728 6475280.11646079,13351614.0736221
 6475587.43052325,13352119.6533534 6476085.95589865,13309859.6243067
 6483297.89955662,13352169.0124156 6476122.75035663,13309867.0381848
 6483299.63911046,13352184.9644986 6476136.35930704,13309889.8586804
 6483303.41394355,13352192.756863 6476145.91860865,13309922.6979302
 6483309.22405866,13352204.2561664 6476156.62503953,13309961.2923976
 6483317.33039372,13352208.3415917 6476159.23212706,13309995.9906829
 6483327.48941708,13352213.7183231 6476162.43015554,13310032.5368717
 6483337.33533172,13352227.8225026 6476172.26757698,13310069.2723037
 6483342.55401912,13352251.0103525 6476180.6797982,13310224.0063959
 6483371.84831201,13352253.0586312 6476182.12239071,13310370.3915263
 6483398.22022231,13352253.0586312 6476183.8604543,13310409.7207024
 6483404.30873593,13352255.4631322 6476190.23915082,13310655.1913115
 6483443.44928729,13352253.7933398 6476187.33658259,13310760.3770984
 6483462.88046513,13352253.0586312 6476187.04111163,13310959.2716326
 6483501.42982993,13352252.4909018 6476186.1894601,13311030.1487524
 6483513.60701306,13352252.3127906 6476185.89398917,13311098.0425098
 6483526.0799463,13352251.3888388 6476187.04111163,13311168.173789
 6483539.12696766,13352251.0103525 6476187.33658259,13311249.2589061
 6483551.3042061,13352248.2273653 6476188.77917626,13311335.7207546
 6483565.51680555,13352245.444378 6476187.33658259,13311432.0121141
 6483582.91292125,13311542.0291669 6483605.82366124,13352246.1902186
 6476187.04111163,13311663.1781687 6483629.01280416,13352257.689522
 6476196.61785225,13311785.8188517 6483651.33219796,13352269.3780685
 6476207.89791117,13311909.5727296 6483673.94738929,13352270.6805066
 6476224.40958128,13312028.6845848 6483695.41448176,13352240.2568897
 6476242.38126796,13312149.8335866 6483718.88221769,13352228.9356975
 6476253.95686236,13312276.3704518 6483744.10706343,13352198.3228375
 6476275.40477812,13312405.311818 6483765.00025234,13352183.1054631
 6476285.24233338,13312536.8580603 6483786.45018375,13352154.3516387
 6476294.52371245,13312665.7994264 6483808.4742586,13352140.6259455
 6476300.03344988,13312793.6387297 6483829.94169902,13352125.0412167
 6476323.20219647,13312925.7304374 6483851.39179827,13352134.6814846
 6476346.96196096,13313057.8332772 6483873.43344219,13352156.3887854
 6476390.1190443,13313192.8972153 6483886.48100958,13352158.8044183
 6476406.90917436,13313332.9705306 6483883.00165627,13352172.7193547
 6476467.46516355,13313468.0456007 6483859.794407,13352179.5877672
 6476497.58689208,13313599.5807111 6483824.72270516,13352181.6249139
 6476502.80128203,13313733.5425863 6483783.54495865,13352189.9738757
 6476529.44686579,13313870.0982056 6483741.79333301,13352202.3971309
 6476553.20722033,13314004.6055464 6483700.33765585,13352239.6891603
 6476617.81417552,13314134.2927531 6483660.03034118,13352259.7266687
 6476653.44642126,13314258.6032285 6483621.46284354,13352302.7739157
 6476724.71137139,13314376.0341593 6483586.67048702,13352312.9819131
 6476740.63308773,13314491.2498323 6483552.17400953,13352353.2461729
 6476797.41963246,13314607.400589 6483516.51214367,13352361.7732459
 6476835.08634267,13314733.1916136 6483479.11083923,13352346.3777603
 6476893.31624932,13314864.9159671 6483438.52626557,13352336.5371173
 6476928.08056734,13314994.0465764 6483400.82958474,13352321.520118
 6476984.27739518,13315123.54454 6483362.55901792,13352317.2454496
 6477007.7435509,13315242.8456383 6483326.02818692,13352350.0846993
 6477028.02879228,13315359.5418605 6483289.79324054,13352381.6215111
 6477042.80384933,13315473.4662274 6483253.2627298,13352420.5833329
 6477086.53817225,13315589.0492547 6483219.0459639,13352468.8292002
 6477109.43099195,13315705.1888794 6483184.25529418,13352513.1677533
 6477130.01198622,13315822.9982965 6483149.76048913,13352570.1299368
 6477152.31391514,13315946.0174658 6483112.36083726,13352596.8466146
 6477161.00525205,13316069.7713437 6483074.96135389,13352622.0716112
 6477199.24724256,13316192.0335405 6483038.13607377,13352633.0254491
 6477215.76088381,13316309.2863601 6483003.64187596,13352657.8830914
 6477224.15677926,13316430.2572507 6482966.81691224,13352664.1949065
 6477236.04663332,13316564.0298828 6482926.80887042,13352677.9205997
 6477287.89980695,13316689.8097755 6482889.70593267,13352685.7129641
 6477314.25239876,13316805.2146916 6482855.49066543,13352703.9025689
 6477371.61650913,13316923.9591924 6482827.9550444,13352713.5428368
 6477402.03703147,13317038.0616705 6482806.50758985,13352730.0515173
 6477457.08976866,13317149.5592725 6482789.39141283,13352737.6657704
 6477481.72194513,13317266.2666266 6482776.04986438,13352749.5324281
 6477519.09624091,13317379.0666666 6482759.54255444,13352751.758818
 6477527.49244306,13317493.1691447 6482745.03563056,13352758.2598762
 6477541.69473392,13317611.5351593 6482731.69415339,13352765.6737543
 6477568.34365123,13317733.4300017 6482716.63065997,13352771.7963263
 6477591.23779917,13317859.7776237 6482701.54979959,13352783.674116
 6477626.30056116,13317987.4276838 6482685.61664816,13352787.5702982
 6477639.61645304,13318112.662111 6482669.66613309,13352802.4203182
 6477665.69202118,13318228.4343814 6482655.4550675,13352808.5428902
 6477684.51863227,13318345.698333 6482640.67001898,13352817.2592063
 6477715.53135155,13318469.6303221 6482625.01529042,13352822.2685834
 6477732.34154544,13318595.2321035 6482609.36059139,13352830.2501909
 6477750.59463835,13318718.2401409 6482594.87132403,13352836.1835198
 6477766.22279455,13318826.9658875 6482581.53008823,13352841.9276055
 6477779.55629478,13318936.8048291 6482566.74517137,13352850.0984561
 6477794.33268901,13319040.3208236 6482554.86507491,13352866.0505392
 6477821.86900442,13319109.1607967 6482547.90748605,13352875.3345847
 6477830.83918749,13319150.9056057 6482540.08020555,13352880.1547186
 6477833.74233021,13319234.573335 6482529.34814629,13352892.5891058
 6477849.38802702,13319327.5251098 6482516.89410464,13352914.1071633
 6477880.08844664,13319432.7220286 6482503.55299416,13352925.4283556
 6477896.02976253,13319540.8911778 6482489.63790829,13352952.1450333
 6477922.67981698,13319642.5592688 6482471.0786988,13352963.6443367
 6477935.14435321,13319743.4926511 6482440.34390427,13352982.5686502
 6477957.17029492,13319835.8878284 6482396.28567912,13352999.6339281
 6477971.9470052,13319932.5465423 6482340.33050484,13353054.7370761
 6478000.04021164,13320039.7917397 6482274.53104203,13353088.1329233
 6478008.15874878,13320149.9980356 6482209.01039286,13353162.1603847
 6478017.14651756,13320266.1376604 6482140.32471408,13353204.0944369
 6478028.44643409,13320390.0696495 6482077.11839001,13353246.3958434
 6478037.43422484,13320529.5863673 6482033.93173703,13353264.0177187
 6478042.05850781,13320674.8694347 6482018.57383123,13353307.8108064
 6478057.13090665,13320795.4618391 6482028.4181934,13353327.4698285
 6478067.56164852,13320904.9222944 6482053.6379024,13353442.128904
 6478110.72767456,13321018.6574181 6482085.81488375,13353550.8546507
 6478146.36632671,13321139.4390656 6482120.60094985,13353668.2967135
 6478183.44807202,13321260.2207131 6482151.61285068,13353789.078361
 6478223.4332619,13321381.3808469 6482182.34657618,13353915.7933373
 6478266.02639334,13321507.9065802 6482219.74203797,13354025.9996332
 6478303.40421928,13321629.2448251 6482253.36331093,13354108.1979452
 6478330.07296632,13321737.9705718 6482283.80172516,13354208.1962438
 6478365.99072317,13321833.6942019 6482309.03960353,13354320.4396864
 6478402.22157045,13321914.0334784 6482329.02471811,13354446.9765516
 6478429.74251642,13321947.6185688 6482344.97457863,13354578.5116619
 6478444.24190178,13321980.6470617 6482360.05479118,13354699.3044413
 6478454.95129619,13322003.4675573 6482360.05479118,13354810.8020433
 6478466.25180851,13322069.3353 6482371.93460883,13354901.9059146
 6478474.37080148,13322113.6738532 6482380.0574222,13354940.1218958
 6478479.29088031,13322192.1540942 6482375.70902005,13354953.847589
 6478481.02942476,13322276.7457753 6482362.36813648,13354968.8757202
 6478482.19424975,13322336.8694322 6482353.671353,13355003.5740055
 6478487.11433321,13322370.2541475 6482351.9319974,13355027.6858072
 6478488.27915905,13322440.763913 6482357.72405297,13355048.4691562
 6478488.55732644,13322470.6309324 6482371.06492908,13355067.5827127
 6478490.29587283,13322498.0934508 6482375.70902005,13355087.8094642
 6478492.03441958,13322529.8195056 6482377.72667836,13355109.6948761
 6478494.93779348,13322565.6309858 6482378.02236971,13355136.4115539
 6478497.54561521,13322598.8375899 6482378.02236971,13355160.3452444
 6478499.28416349,13322632.6119234 6482376.283009,13355181.4959477
 6478502.46570777,13322662.2896997 6482374.83933989,13355204.1272001
 6478503.63053576,13322686.2233902 6482376.283009,13355226.023744
 6478504.49981049,13322714.6098603 6482375.70902005,13355251.2598725
 6478506.81208171,13322747.0817558 6482368.17759292,13355277.2307097
 6478509.71546078,13322778.4293244 6482362.36813648,13355306.5411317
 6478511.15845793,13322806.0810859 6482357.1500653,13355333.2578095
 6478512.89700906,13322839.8442875 6482354.54103094,13355366.6647886
 6478513.48811653,13322929.2672344 6482354.54103094,13355591.1516738
 6478539.56642893,13323201.4433894 6482268.73904451,13355616.5770455
 6478540.14015273,13323243.0100873 6482251.62397635,13355674.6412919
 6478543.32171266,13323298.4805896 6482230.17801087,13355700.2447748
 6478546.22510449,13323337.9990088 6482214.52405645,13355722.3305617
 6478547.38993863,13323405.5365439 6482186.3991925,13355766.1125175
 6478552.31006072,13323450.9882919 6482167.28407963,13355790.4135623
 6478555.21345569,13323489.5827594 6482151.03887726,13355813.2340579
 6478557.52574104,13323546.723054 6482125.2449007,13355836.2437967
 6478558.9687465,13323581.4213393 6482109.59114416,13355862.9604745
 6478561.29841851,13323632.2609508 6482089.58916488,13355918.2417336
 6478567.08783012,13323707.7689614 6482057.11648897,13355944.9584114
 6478569.69567451,13323772.7016203 6482027.8442285,13355995.9872659
 6478573.17280164,13323838.7474742 6481994.79783151,13356024.7410904
 6478575.20692168,13323907.7655585 6481965.52579079,13356088.3824433
 6478580.12706026,13323965.4735825 6481937.10609482,13356118.4387058
 6478582.4567382,13323995.5298451 6481919.417753,13356148.6842115
 6478585.63831435,13324021.6899254 6481900.87721098,13356178.9185852
 6478588.81989173,13324043.207983 6481885.22387754,13356209.353334
 6478592.00147032,13324068.0656253 6481867.25736565,13356239.3984645
 6478595.77416345,13324099.7916801 6481849.56917266,13356264.6345931
 6478599.2513015,13324131.528867 6481842.61217493,13356286.5311369
 6478600.98987106,13324159.5368508 6481837.09875837,13356306.2012909
 6478602.728441,13324188.8472728 6481824.35008363,13356326.0495562
 6478604.17145432,13324219.6493759 6481806.95765307,13356351.4637959
 6478604.76256828,13324252.4886257 6481789.26958857,13356374.0950484
 6478605.05812528,13324294.9792753 6481772.45117871,13356393.9544455
 6478606.20558196,13324370.4872859 6481746.95404738,13356439.2169505
 6478612.29058214,13324448.0324432 6481723.47449365,13356460.0002994
 6478617.50630013,13324512.2415255 6481708.39543749,13356482.0860864
 6478623.01757904,13324552.6727645 6481692.16852531,13356506.7544856
 6478623.31313668,13324596.4658522 6481671.87188559,13356559.2638894
 6478625.03432554,13324665.1165822 6481642.60098356,13356587.0937621
 6478629.10259154,13324733.3888259 6481613.03452063,13356648.8760795
 6478637.79547427,13324799.2565686 6481580.28543785,13356677.0733065
 6478640.40334087,13324862.3301921 6481549.25827946,13356730.8740164
 6478640.10778261,13324933.7639093 6481524.04010274,13356754.2511094
 6478643.01120829,13325004.0844316 6481487.81302157,13356803.6101717
 6478649.37440822,13325073.6479814 6481455.63835808,13356828.1004596
 6478650.53925682,13325111.6858514 6481442.02068671,13356850.9209552
 6478653.14712742,13325153.0633062 6481427.51606515,13356874.8546458
 6478655.75499883,13325187.5723483 6481422.59423889,13356899.5230449
 6478659.82327988,13325205.57271 6481418.82026102,13356923.0893811
 6478662.70932662,13325225.4209752 6481413.3245175,13356946.8449605
 6478661.84003533,13325255.6664808 6481409.55054384,13356972.9939088
 6478663.00488568,13325278.4869765 6481409.25488699,13357000.8237815
 6478664.7434686,13325297.5894011 6481410.42012287,13357029.0321405
 6478666.76022524,13325310.3911425 6481408.38530808,13357053.3331854
 6478670.25477886,13325319.8532992 6481408.38530808,13357076.8995216
 6478673.43638865,13325343.4196354 6481417.37675841,13357100.0873715
 6478675.17497375,13325378.6745182 6481426.35082687,13357123.4644646
 6478676.04426644,13325410.2113299 6481435.04663889,13357146.095717
 6478676.91355922,13325443.9745315 6481442.29895308,13357170.4078938
 6478678.35658543,13325483.4929507 6481445.77728348,13357195.8221336
 6478681.26002448,13325527.6533927 6481443.16853555,13357224.0193606
 6478684.44163849,13325593.5211354 6481460.85586261,13357254.4541094
 6478686.47578579,13325664.3871232 6481464.33420078,13357490.8187842
 6478706.76512846,13325913.3754283 6481391.86332609,13357507.7059509
 6478708.20815987,13325978.6865735 6481375.06311286,13357539.6212489
 6478717.77042248,13326058.0907663 6481365.20213397,13357555.2059776
 6478721.54317275,13326146.7790046 6481348.97589262,13357571.8927693
 6478728.20199424,13326242.1464124 6481332.73229157,13357593.7893132
 6478729.07129249,13326327.1165797 6481313.89740636,13357635.5341222
 6478738.9117549,13326420.0683545 6481289.25385841,13357657.2414229
 6478741.53703925,13326514.3114354 6481254.76692717,13357708.4483887
 6478746.16171435,13326599.660089 6481212.15846061,13357739.2504918
 6478749.36073924,13326664.2253937 6481160.85467881,13357798.0605788
 6478753.9854187,13326701.7066662 6481084.03872778,13357818.8439277
 6478756.59332179,13326723.5920781 6481004.63226811,13357866.5220656
 6478761.80913042,13326724.5271619 6480927.81776257,13357893.6172297
 6478763.84329668,13326736.5830627 6480893.61058075,13357918.0963857
 6478765.87746344,13326756.0639736 6480848.6910436,13357942.7759168
 6478769.33728666,13326774.6209327 6480814.48418781,13357965.4183012
 6478773.97936331,13326798.3653801 6480772.74749316,13357985.0773233
 6478776.58727268,13326818.7702428 6480735.94981475,13358011.0592924
 6478778.32587938,13326837.8837993 6480695.36126035,13358067.4537465
 6478784.70656909,13326871.1015354 6480637.67855335,13358096.7753004
 6478788.18378626,13326892.8088361 6480600.88147361,13358124.0374437
 6478791.66100488,13326915.9855541 6480566.38001203,13358148.3496204
 6478794.84266119,13326940.486974 6480531.02659655,13358177.292688
 6478797.15501327,13326963.1182265 6480497.41229833,13358209.7534516
 6478798.02431873,13326983.1557348 6480469.58887457,13358247.2347241
 6478803.83128152,13327005.0522787 6480438.58325656,13358278.5934247
 6478811.08129766,13327026.5703362 6480404.08246943,13358313.2917099
 6478817.74019096,13327049.9474293 6480367.86027514,13358350.01601
 6478825.84214144,13327077.2207045 6480309.01476208,13358383.233746
 6478833.38774192,13327099.2953596 6480268.74130029,13358449.8361974
 6478849.33088806,13327136.0419235 6480202.66264113,13358475.6289234
 6478855.6942461,13327179.0780386 6480128.75950063,13358508.4681732
 6478864.68293231,13327223.7950781 6480054.56140936,13358531.46678
 6478872.7849286,13327262.3895455 6479983.84169911,13358593.2490973
 6478897.71687235,13327286.1339929 6479919.22593776,13358626.0883471
 6478906.70560404,13327300.0489293 6479887.35295543,13358654.8533035
 6478913.36457403,13327317.4815615 6479858.66215945,13358679.5217027
 6478922.05775437,13327341.7826064 6479828.51084798,13358701.2290034
 6478932.78515145,13327368.6996592 6479788.81352702,13358722.2015955
 6478943.49517599,13327407.4722379 6479723.31249299,13358766.3509055
 6478960.01228636,13327438.6305634 6479670.27911691,13358791.9543884
 6478971.60905611,13327462.0076564 6479627.97437488,13358820.3408586
 6478984.92710553,13327507.6597796 6479563.63958642,13358878.7835912
 6479008.99005837,13327547.1781988 6479503.93039365,13358912.9252791
 6479024.91615511,13327560.1691834 6479473.50216995,13358949.2933567
 6479039.12100734,13327574.0729878 6479450.89841882,13358986.2068998
 6479051.2916467,13327589.1011191 6479433.23276079,13359022.3857344
 6479069.54763918,13327598.941762 6479415.84533879,13359062.0933967
 6479090.70725403,13327598.1959215 6479378.16692026,13359128.6958481
 6479125.4807727,13327585.9507775 6479360.20583308,13359196.6007374
 6479161.12378049,13327557.9316616 6479310.06104799,13359266.7320166
 6479196.76694128,13327550.1392973 6479281.37224681,13359337.7983796
 6479232.6884474,13327552.7441734 6479208.64223322,13359406.0706233
 6479266.88878666,13327559.9799403 6479162.27131402,13359457.277589
 6479298.185611,13327577.4237045 6479085.7868129,13359486.588011
 6479313.26029015,13327611.3650172 6479012.17179796,13359525.7390759
 6479330.35191449,13327655.1581049 6478940.01789378,13359587.5213933
 6479367.73453188,13327694.6765241 6478883.51226202,13359648.7471132
 6479401.06605871,13327717.3077766 6478859.76262512,13359684.5585934
 6479419.02723429,13327738.647723 6478842.08083853,13359724.8117213
 6479436.98844872,13327757.015439 6478820.92185726,13359788.6423173
 6479468.30330175,13327794.8640658 6478776.01353255,13359851.1593433
 6479502.20902258,13327819.5435969 6478762.10469301,13359889.3864564
 6479522.18738139,13327844.4012392 6478745.29241432,13359927.4131945
 6479541.60938289,13327867.7783323 6478730.80988924,13359964.3378696
 6479561.32702087,13327896.5321568 6478713.4239381,13359996.2531676
 6479577.84536033,13327931.5977964 6478691.69155038,13360023.5264429
 6479591.4599743,13327968.3332283 6478666.1864927,13360037.0628929
 6479598.11949348,13327998.9460883 6478631.7104554,13360066.7518011
 6479618.41106397,13328045.7002744 6478578.68405111,13360086.4219551
 6479628.84376732,13328079.463476 6478546.22510449,13360105.902866
 6479639.55468974,13328137.3607432 6478500.72715883,13360150.6087735
 6479660.71575727,13328203.2173539 6478465.67808982,13360179.9303274
 6479674.33050713,13328270.3875347 6478431.18549969,13360250.0616066
 6479712.3058661,13328344.0365098 6478392.36412178,13360286.7970386
 6479731.13711814,13328422.7059939 6478348.03182533,13360362.6724035
 6479775.77239861,13328506.5629663 6478297.31944545,13360404.0498582
 6479796.34261448,13328585.5998048 6478253.57874539,13360470.2849552
 6479831.98850231,13328667.2303874 6478208.95164698,13360532.4457589
 6479862.41803983,13328748.86097 6478160.2741349,13360595.7086255
 6479902.4113159,13328820.8624166 6478115.36938303,13360665.0940641
 6479941.53535934,13328887.8322223 6478073.64625398,13360737.0843788
 6479980.08576381,13328948.3121016 6478040.89374456,13360793.1114786
 6480005.87307609,13328983.7562275 6478015.98175781,13360821.876435
 6480017.766914,13329012.510052 6477998.02361692,13360843.5726037
 6480029.93898799,13329042.9336688 6477978.90076032,13360858.7899781
 6480038.33772944,13329077.8211972 6477952.25052545,13360873.2615119
 6480045.86704319,13329135.150735 6477896.60344186,13360913.7150149
 6480067.30736661,13329208.9889532 6477847.05855474,13360936.7136217
 6480078.03624349,13329284.8754501 6477798.97422063,13360972.8924562
 6480096.5901038,13329363.3556911 6477758.12187788,13360990.7035747
 6480107.59724014,13329442.949127 6477722.18936636,13361020.5705941
 6480122.67338896,13329519.0137351 6477685.10968077,13361034.3074193
 6480129.62894552,13329598.2398167 6477643.38871349,13361073.8258385
 6480153.38221507,13329681.7183028 6477600.22511671,13361094.2307012
 6480162.66791871,13329769.4825894 6477562.5549359,13361139.1258518
 6480182.36964268,13329846.6603923 6477519.96541258,13361164.3619804
 6480194.83757159,13329924.5840359 6477470.70090583,13361202.0213641
 6480213.09607867,13330009.376092 6477421.45407457,13361211.6727639
 6480215.40882576,13330098.4316847 6477365.25428826,13361230.5970774
 6480208.74881143,13330191.9400569 6477306.15192298,13361241.172429
 6480199.46305625,13330282.1088445 6477249.6574082,13361280.5016051
 6480216.27827972,13330324.9668484 6477215.46537625,13361314.4540498
 6480233.38915222,13330346.6741491 6477192.86777099,13361349.3415782
 6480246.13538402,13330380.4373507 6477166.79368749,13361378.2846458
 6480262.93331285,13330447.050934 6477129.42097723,13361443.9631454
 6480296.84227893,13330515.690532 6477079.30704415,13361484.4055164
 6480315.39662823,13330593.4360644 6477032.37439457,13361545.9985906
 6480345.82793756,13330672.0944166 6476979.93181806,13361606.8569563
 6480377.99830015,13330752.4336931 6476924.89962619,13361664.9323346
 6480402.06529075,13330829.611496 6476873.90044104,13361702.5917183
 6480427.26266998,13330898.4514692 6476832.18354905,13361789.7882755
 6480465.53709626,13330968.2042621 6476793.94324881,13361817.9966344
 6480474.21451231,13331050.0352198 6476761.50865944,13361859.5522003
 6480467.84991368,13331136.2966932 6476727.31863726,13361880.1463061
 6480478.85754225,13331208.0977647 6476699.21235434,13361938.3997957
 6480515.37584584,13331271.9283608 6476664.17088808,13361958.9939015
 6480530.45273517,13331327.5769742 6476630.25937178,13362012.0599027
 6480562.62381317,13331391.5856814 6476593.48004677,13362046.758188
 6480573.9271945,13331451.5200953 6476555.51894829,13362115.9655154
 6480584.63933623,13331502.9163042 6476510.0492895,13362151.0200231
 6480602.8987006,13331543.7260295 6476482.812805,13362187.9446982
 6480620.58423752,13331614.9816355 6476445.73865281,13362229.8787504
 6480641.15654664,13331681.5840869 6476404.0239115,13362293.141617
 6480670.73693845,13331750.9695255 6476371.2953674,13362348.8013624
 6480705.79531708,13331826.8560224 6476333.63076066,13362406.6874976
 6480744.92314662,13331918.316116 6476292.49015098,13362478.1212148
 6480778.55583726,13332009.4199873 6476266.99246096,13362545.2802636
 6480804.04999448,13332097.362385 6476255.121375,13362616.5247377
 6480828.97034797,13332200.1436708 6476238.90511663,13362683.5056754
 6480869.5595556,13332317.3964905 6476222.96698142,13362744.5421522
 6480909.26204451,13332439.6698192 6476215.14566127,13362810.7772492
 6480940.86070074,13332556.3660414 6476199.50304305,13362889.2574902
 6480981.43306474,13332666.9396916 6476169.08692531,13362962.1717567
 6481018.54486495,13332785.4949493 6476140.70444277,13363033.0488764
 6481063.76096569,13332910.7293764 6476111.43565238,13363060.689506
 6481081.13444835,13333037.4554847 6476077.83924044,13363124.6982132
 6481120.55969352,13333161.9440713 6476051.19510557,13363160.6878046
 6481142.59408723,13333286.4326579 6476019.61505118,13363219.8763778
 6481173.32407729,13333386.2528452 6476006.28437632,13363306.7055807
 6481219.9844891,13333567.8928584 6475992.10209122,13363345.3000481
 6481242.00175547,13333667.7130458 6475999.62773704,13363382.9594319
 6481262.0016926,13333749.7109827 6476033.51929809,13363485.1841203
 6481319.11482181,13333845.4457448 6476061.03239525,13363518.7692106
 6481336.21057605,13333929.8704466 6476076.97021969,13363556.2504832
 6481352.1585291,13333991.641632 6476084.21785554,13363656.2487818
 6481408.95923015,13334140.6316385 6476118.38784978,13363705.0401146
 6481437.95104213,13334240.6299371 6476144.180553,13363766.6443208
 6481475.34315071,13334331.5445652 6476148.52569282,13363797.2571807
 6481486.35211523,13334432.6560587 6476150.54183847,13363859.5960956
 6481508.97880063,13334540.4467216 6476145.62313916,13363895.585687
 6481527.22280634,13334629.3242031 6476140.11350418,13363967.1975154
 6481573.31127387,13334716.1534059 6476126.20907882,13364001.161092
 6481592.16413962,13334811.1423274 6476110.86209636,13364068.8767383
 6481614.77372142,13334909.8493199 6476098.99123356,13364103.5638916
 6481626.94813713,13335008.5451804 6476097.25318772,13364180.3854722
 6481659.99306977,13335104.2910745 6476093.18616189,13364241.9785465
 6481701.73422533,13335195.1945706 6476097.53127503,13364307.4678029
 6481735.64906877,13335279.7973836 6476105.35248443,13364370.3633152
 6481773.61646558,13335365.7026347 6476105.07439685,13364426.2123037
 6481814.78424231,13335449.5596071 6476108.84596033,13364464.2390418
 6481837.09875837,13335536.7672962 6476116.66718038,13364519.720676
 6481854.49125207,13335625.8117569 6476121.29039392,13364569.4359606
 6481892.18091098,13335722.6597139 6476129.68518297,13364597.0877221
 6481917.40020609,13335832.3094123 6476137.52380319,13364662.3988673
 6481959.71661614,13335940.1112072 6476135.76836875,13364797.2735624
 6482040.8888951,13336145.4956677 6476121.01230582,13364861.1041584
 6482070.7351694,13336252.551622 6476125.63552177,13364921.5840378
 6482095.97239999,13336343.0877639 6476117.24073681,13364962.2156519
 6482121.76628558,13336417.4825795 6476105.94342055,13365023.9979693
 6482159.73544844,13336488.5378105 6476097.25318772,13365082.6299451
 6482185.25124089,13336534.3680449 6476083.62692096,13365117.3170984
 6482197.42649329,13336596.8962029 6476060.75430916,13365148.675799
 6482214.81974198,13336628.0656603 6476058.42533854,13365183.9195498
 6482234.24804385,13336661.8288618 6476052.63767559,13365219.7310299
 6482255.10264587,13336693.5549167 6476033.51929809,13365253.6834746
 6482278.00972117,13336731.2254324 6476006.00629206,13365293.0237827
 6482300.62117107,13336802.2806634 6475964.86730527,13365356.4758924
 6482331.05975858,13336881.3175018 6475933.28757914,13365448.4925835
 6482364.40318513,13336944.5803685 6475899.41380715,13365483.7474663
 6482378.8920502,13337014.9008908 6475855.07743698,13365557.5856845
 6482419.19314402,13337085.7780106 6475813.66111996,13365595.4343114
 6482441.21359129,13337150.7106696 6475783.81994864,13365634.20689
 6482460.93811734,13337189.4832482 6475770.50703202,13365696.735048
 6482493.39497917,13337262.9541121 6475750.81577279,13365764.6399374
 6482522.98197182,13337329.1892091 6475730.23819609,13365838.6673988
 6482549.35118526,13337371.6798588 6475728.79568207,13365910.4684703
 6482579.21668185,13337462.583355 6475731.97616512,13365973.5532258
 6482613.41341619,13337528.8295839 6475731.10718056,13366037.3726898
 6482646.18396929,13337559.0639576 6475733.4186797,13366101.381397
 6482671.70125708,13337613.6105081 6475732.2716199,13366136.4470366
 6482685.89495622,13337635.6851631 6475736.61654422,13366167.4272509
 6482702.99352553,13337647.5629528 6475755.73423829,13366199.3425489
 6482720.10952438,13337652.5723299 6475782.67288188,13366226.2484699
 6482733.43358857,13337655.177206 6475807.00463506,13366482.650653
 6482841.87069743,13337850.7210235 6475791.65824243,13366503.4340019
 6482860.41334136,13337883.3710302 6475779.19692296,13366522.3583154
 6482883.89611121,13337913.8057789 6475768.17814279,13366547.9617982
 6482909.41412978,13337942.003006 6475762.39068209,13366579.6878531
 6482930.86185023,13337980.4082303 6475758.63665568,13366613.6402978
 6482950.88325161,13338011.956174 6475757.47221265,13366649.6298892
 6482967.68665443,13338046.8325704 6475750.52031736,13366687.6677592
 6482984.50748614,13338080.0391745 6475744.14195854,13366724.4031912
 6483001.60667058,13338103.6055107 6475729.07375704,13366759.2795876
 6483020.1670663,13338118.8117532 6475709.38259605,13366791.5622399
 6483042.78053798,13338129.7655911 6475688.23159516,13366823.477538
 6483063.65456652,13338141.2648945 6475665.93359749,13366855.5709472
 6483087.71194953,13338159.2652561 6475650.58746552,13366890.2692324
 6483112.93487715,13338191.7371516 6475638.71726058,13366928.4852136
 6483137.8795582,13338217.7079888 6475628.27218944,13366983.9557159
 6483164.84216387,13338239.5934007 6475616.69746705,13367012.7206723
 6483182.51576453,13338260.9333471 6475605.97435275,13367038.5022664
 6483201.37228546,13338280.7927442 6475603.0719887,13367090.6443159
 6483234.99753472,13338326.6118467 6475596.41567258,13367117.9175911
 6483254.13250199,13338350.367426 6475583.08567696,13367143.7103171
 6483268.3445926,13338382.8281895 6475570.06853109,13367169.3026681
 6483280.52143378,13338421.6007681 6475554.13167934,13367198.8023331
 6483291.53279268,13338455.0077473 6475535.88341337,13367226.6322058
 6483304.283721,13338489.6949007 6475511.83052215,13367256.321114
 6483316.16489012,13338525.3171377 6475498.81348796,13367289.3496069
 6483331.82092225,13338559.0803393 6475488.38597195,13367321.9996136
 6483353.58285598,13338582.090078 6475481.71236857,13367358.1784481
 6483370.68280076,13338595.0810626 6475478.2365356,13367391.3961841
 6483387.48705346,13338617.1557176 6475471.58031952,13367423.4895933
 6483408.37934467,13338646.0987852 6475458.82403522,13367462.6295263
 6483426.3491926,13338670.9564275 6475447.54499361,13367497.5170547
 6483438.23053645,13338693.7880551 6475432.47733019,13367526.2708792
 6483452.44294228,13338718.6345654 6475413.06493676,13367549.6479722
 6483475.0575917,13338748.8800711 6475397.99733589,13367578.5910399
 6483499.98596511,13338785.2481487 6475382.65169898,13367613.8459226
 6483520.8611435,13338816.6068493 6475375.9955595,13367651.8837926
 6483541.73637439,13338867.9919262 6475361.79697172,13367706.7976974
 6483571.30970803,13338898.6047862 6475349.05823491,13367729.2397067
 6483584.65253482,13338935.162107 6475323.56344107,13367745.7595192
 6483596.53410528,13369606.8321621 6484839.87877413,13371533.7725477
 6485956.38067096,13371782.2042553 6486182.00652693,13374165.176067
 6487503.76200944,13377331.1135171 6488106.54893169,13377311.0648768
 6488430.02126969,13377385.4708244 6488513.85042484)',900913),1);

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/502>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 03:11:07 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 10:41:30 2011
Subject: [geos-devel] Re: [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.98cac731e68f0df77036de82475125ff@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------
Changes (by strk):

  * keywords:  => jtsfail
  * version:  3.3.0 => svn-trunk
  * milestone:  3.3.2 => GEOS Future


Comment:

 The case also fails with JTS. It's a known limitation of the snapping
 code, quoting from the documentation:
 {{{
  * Too much snapping can result in invalid topology
  * being created, so the number and location of snapped vertices
  * is decided using heuristics to determine when it
  * is safe to snap.
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 03:47:48 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 11:20:03 2011
Subject: [geos-devel] Re: [GEOS] #502: PostGIS crashes on ST_Buffer query
 (possibly due to a bug in geos)
In-Reply-To: <044.50af246f359a6d663d75c441040a48e0@osgeo.org>
References: <044.50af246f359a6d663d75c441040a48e0@osgeo.org>
Message-ID: <053.2756f0e038f4313fb1fcd5226bc9ab0f@osgeo.org>

#502: PostGIS crashes on ST_Buffer query (possibly due to a bug in geos)
-------------------------------------------------+--------------------------
 Reporter:  royl                                 |        Owner:  geos-devel@?              
     Type:  defect                               |       Status:  closed                    
 Priority:  major                                |    Milestone:  3.4.0                     
Component:  Default                              |      Version:  svn-trunk                 
 Severity:  Critical                             |   Resolution:  duplicate                 
 Keywords:  ST_Buffer, LINESTRING buffer, crash  |  
-------------------------------------------------+--------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => duplicate


Comment:

 This case exposes a memory issue with GEOS. It consumes more than 7Gb of
 memory and thus never completes. This was tested with current development
 version in the 3.3 branch as of r3539.

 Should be slightly better in trunk (r3540) but still memory hungry.

 I'd say this is a duplicate of issue #383

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/502#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 03:48:29 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 11:20:46 2011
Subject: [geos-devel] Re: [GEOS] #383: huge memory cost and crash in buffer
 [JTS fails too]
In-Reply-To: <046.617044d0ed8dc36f2f42036870494313@osgeo.org>
References: <046.617044d0ed8dc36f2f42036870494313@osgeo.org>
Message-ID: <055.77f1ff3f70093d8ea32fdaf7c44bcb42@osgeo.org>

#383: huge memory cost and crash in buffer [JTS fails too]
------------------------+---------------------------------------------------
 Reporter:  atubar      |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  buffer jtsfail            
------------------------+---------------------------------------------------
Changes (by strk):

  * keywords:  buffer => buffer jtsfail


Comment:

 See also #502 for another case of this bug

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/383#comment:11>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 03:50:11 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 11:22:32 2011
Subject: [geos-devel] Re: [GEOS] #383: huge memory cost and crash in buffer
 [JTS fails too]
In-Reply-To: <046.617044d0ed8dc36f2f42036870494313@osgeo.org>
References: <046.617044d0ed8dc36f2f42036870494313@osgeo.org>
Message-ID: <055.31b67a875e9fe187db107e175843c1b5@osgeo.org>

#383: huge memory cost and crash in buffer [JTS fails too]
----------------------------+-----------------------------------------------
 Reporter:  atubar          |        Owner:  geos-devel@?              
     Type:  defect          |       Status:  closed                    
 Priority:  major           |    Milestone:  3.4.0                     
Component:  Default         |      Version:  svn-trunk                 
 Severity:  Unassigned      |   Resolution:  duplicate                 
 Keywords:  buffer jtsfail  |  
----------------------------+-----------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => duplicate


Comment:

 This is actually a duplicate of #344

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/383#comment:12>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 04:04:59 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 11:38:09 2011
Subject: [geos-devel] Re: [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.e28160896ab0e245e0fb10def86eee69@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 In any case, here's the ticket filed for JTS:

 https://sourceforge.net/tracker/?func=detail&aid=3458092&group_id=128875&atid=713120

 I also belive it could be possible to handle this case better.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 04:41:34 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 12:16:47 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.c2933007756912ac64763267906fa8c2@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 sky: could you turn your input data into an XML test ?
 See source:trunk/tests/xmltester/tests/ticket/bug275.xml for an example

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 04:42:06 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 12:17:23 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.52c0722e7340425601e5ec8016dc5291@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 source:trunk/tests/xmltester/tests/ticket/bug188.xml is an example of
 using HEXWKB as input.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 04:46:48 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 12:22:23 2011
Subject: [geos-devel] Re: [GEOS] #500: default initialization of an object
 of const type
 'const geos::operation::overlay::OverlayNodeFactory' requires a
 user-provided default constructor
In-Reply-To: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
References: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
Message-ID: <053.6b38ad666f9af6f52e9a922cad8535ab@osgeo.org>

#500: default initialization of an object of const type 'const
geos::operation::overlay::OverlayNodeFactory' requires a user-provided
default       constructor
------------------------+---------------------------------------------------
 Reporter:  hobu        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 OverlayNodeFactory does have a user-provided default constructor.
 Only it is inlined (it's in OverlayNodeFactory.h).

 Anyway, does moving the static into the ::instance() method fixes the
 build with clang ?
 See attached patch.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/500#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 04:58:40 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 12:34:55 2011
Subject: [geos-devel] Re: [GEOS] #497: geos-config is a bit confused
In-Reply-To: <047.8bdf20e37575c770c165d42bfd9b85ea@osgeo.org>
References: <047.8bdf20e37575c770c165d42bfd9b85ea@osgeo.org>
Message-ID: <056.7c9942937236d4520ccc314021247d8f@osgeo.org>

#497: geos-config is a bit confused
-----------------------+----------------------------------------------------
 Reporter:  frankie    |       Owner:  geos-devel@?              
     Type:  defect     |      Status:  new                       
 Priority:  major      |   Milestone:  3.4.0                     
Component:  Default    |     Version:  svn-trunk                 
 Severity:  Annoyance  |    Keywords:                            
-----------------------+----------------------------------------------------
Changes (by strk):

  * version:  3.3.0 => svn-trunk
  * milestone:  3.3.2 => 3.4.0


Comment:

 geos-config --clibs added as of r3541 in 3.3 branch, togheter with
 GEOS_C_LIBS in geos.m4
 For the others I'd postpone to 3.4.0

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/497#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 04:59:39 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 12:35:58 2011
Subject: [geos-devel] Re: [GEOS] #497: geos-config is a bit confused
In-Reply-To: <047.8bdf20e37575c770c165d42bfd9b85ea@osgeo.org>
References: <047.8bdf20e37575c770c165d42bfd9b85ea@osgeo.org>
Message-ID: <056.6ba9236f700fdc4839813e0ded09750e@osgeo.org>

#497: geos-config is a bit confused
-----------------------+----------------------------------------------------
 Reporter:  frankie    |       Owner:  geos-devel@?              
     Type:  defect     |      Status:  new                       
 Priority:  major      |   Milestone:  3.4.0                     
Component:  Default    |     Version:  svn-trunk                 
 Severity:  Annoyance  |    Keywords:                            
-----------------------+----------------------------------------------------

Comment(by strk):

 r3542 adds --clibs and GEOS_C_LIBS in trunk, the cclibs and static-* needs
 still be done.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/497#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 05:10:15 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 12:47:04 2011
Subject: [geos-devel] Re: [GEOS] #485: Apply Shoelace formula for area
	calculation
In-Reply-To: <051.efb723a77589c4370dd16d3c5f7ac7e2@osgeo.org>
References: <051.efb723a77589c4370dd16d3c5f7ac7e2@osgeo.org>
Message-ID: <060.31e63f780fec5ebbbb37542981c8399a@osgeo.org>

#485: Apply Shoelace formula for area calculation
-------------------------+--------------------------------------------------
 Reporter:  hopfgartner  |        Owner:  geos-devel@?              
     Type:  defect       |       Status:  closed                    
 Priority:  major        |    Milestone:  3.3.2                     
Component:  Default      |      Version:  3.3.0                     
 Severity:  Unassigned   |   Resolution:  fixed                     
 Keywords:               |  
-------------------------+--------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 Committed in r3543 for 3.3 branch and r3544 for trunk. Thanks.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/485#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 10:05:52 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 17:59:16 2011
Subject: [geos-devel] Re: [GEOS] #500: default initialization of an object
 of const type
 'const geos::operation::overlay::OverlayNodeFactory' requires a
 user-provided default constructor
In-Reply-To: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
References: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
Message-ID: <053.58448cd068ae65440ae83e1bb59cdca1@osgeo.org>

#500: default initialization of an object of const type 'const
geos::operation::overlay::OverlayNodeFactory' requires a user-provided
default       constructor
------------------------+---------------------------------------------------
 Reporter:  hobu        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by hobu):

 Yes this fixes clang's complaint.  Committed to 3.3 branch in r3545.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/500#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 10:07:58 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 18:01:30 2011
Subject: [geos-devel] Re: [GEOS] #500: default initialization of an object
 of const type
 'const geos::operation::overlay::OverlayNodeFactory' requires a
 user-provided default constructor
In-Reply-To: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
References: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
Message-ID: <053.35532da9ff0dbc7d0c2269a75042c604@osgeo.org>

#500: default initialization of an object of const type 'const
geos::operation::overlay::OverlayNodeFactory' requires a user-provided
default       constructor
------------------------+---------------------------------------------------
 Reporter:  hobu        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Hobu: could you please also commit an entry in the NEWS file about this ?
 And a forward port to trunk would also be nice.
 Thank you!

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/500#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 10:10:19 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 18:03:56 2011
Subject: [geos-devel] Re: [GEOS] #500: default initialization of an object
 of const type
 'const geos::operation::overlay::OverlayNodeFactory' requires a
 user-provided default constructor
In-Reply-To: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
References: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
Message-ID: <053.8cad38cb78859e190e5def0620ad025b@osgeo.org>

#500: default initialization of an object of const type 'const
geos::operation::overlay::OverlayNodeFactory' requires a user-provided
default       constructor
------------------------+---------------------------------------------------
 Reporter:  hobu        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  minor       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by hobu):

 confirmed fix and applied in trunk in r3546

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/500#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Dec 12 10:11:49 2011
From: geos-trac at osgeo.org (GEOS)
Date: Mon Dec 12 18:05:31 2011
Subject: [geos-devel] Re: [GEOS] #500: default initialization of an object
 of const type
 'const geos::operation::overlay::OverlayNodeFactory' requires a
 user-provided default constructor
In-Reply-To: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
References: <044.e6799510174ecda0646d82cc464f8064@osgeo.org>
Message-ID: <053.51f4e068357bbc290566a11c5dfc0433@osgeo.org>

#500: default initialization of an object of const type 'const
geos::operation::overlay::OverlayNodeFactory' requires a user-provided
default       constructor
------------------------+---------------------------------------------------
 Reporter:  hobu        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  minor       |    Milestone:  3.3.2                     
Component:  Default     |      Version:  3.3.1                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by hobu):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 note added in 3.3 branche NEWs in r3547

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/500#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 11:35:55 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 11:36:27 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.8029e023a858e4ee12f07b3f4bedb28b@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by sky):

 How could I write the CascadedUnion of a Polygon collection in an XML test
 ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 11:39:00 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 11:39:43 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.0789cdc8715ebf923c939e001bd08251@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 CascadedUnion is exercised by UnaryUnion, see
 source:trunk/tests/xmltester/tests/general/TestUnaryUnionFloating.xml

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 11:43:12 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 11:43:18 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.8fa0789ac248a7a2a69553a866667c43@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by sky):

 Replying to [comment:6 strk]:
 > CascadedUnion is exercised by UnaryUnion, see
 source:trunk/tests/xmltester/tests/general/TestUnaryUnionFloating.xml
 Ok, but I don't know the expected result, my tests-cases are too complex,
 what I'm supposed to put inside the <op> tag ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 11:45:23 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 11:45:35 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.a6e4567e93f4095b6210f9a40bb34db1@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Put POLYGON EMPTY for now, first bug to spot/fix would be the
 TopologyException. I'll use the XML test to try JTS against it, and
 different versions of GEOS. When (and if) I get a valid result I can
 update the expected part.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:8>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 11:51:08 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 11:51:36 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.b38e66745524a24bf8fddb7f140eccb5@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by sky):

 Done for the first test-case.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:9>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 11:55:25 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 11:56:04 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS
 FAILS] (was: TopologyException unioning valid geometries)
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.011b59b1b9e4b8e33a931963d2fbbe46@osgeo.org>

#488: TopologyException unioning valid geometries [JTS FAILS]
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------
Changes (by strk):

  * keywords:  => jtsfail
  * version:  3.3.1 => svn-trunk
  * milestone:  3.3.2 => 3.4.0


Comment:

 Alright, thanks. JTS fails as well:
 Test Threw Exception (A union)
 com.vividsolutions.jts.geom.TopologyException: no outgoing dirEdge found [
 (2.412163966209875, 48.87555718514279, NaN) ]

 And also fails with GEOS-3.3 branch and trunk...

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:10>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 11:56:40 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 11:57:25 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS FAILS]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.26857048eb2759c88c94fa30e93e68b4@osgeo.org>

#488: TopologyException unioning valid geometries [JTS FAILS]
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 But hold on a second: the input geometry is invalid:

 $ ./tests/xmltester/XMLTester --test-valid-input
 ~/Desktop/Download/bug488.xml
 /home/strk/Desktop/Download/bug488.xml: case0: test0: :  invalid geometry
 (Geometry A): Self-intersection at or near point 2.4182989742693599
 48.878099566078362

 What told you they were valid ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:11>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 12:04:27 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 12:04:51 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS FAILS]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.5d6d915dd4ecbf71fbd44ca8819595d1@osgeo.org>

#488: TopologyException unioning valid geometries [JTS FAILS]
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by sky):

 Replying to [comment:11 strk]:
 > But hold on a second: the input geometry is invalid:
 >
 > $ ./tests/xmltester/XMLTester --test-valid-input
 ~/Desktop/Download/bug488.xml
 > /home/strk/Desktop/Download/bug488.xml: case0: test0: :  invalid
 geometry (Geometry A): Self-intersection at or near point
 2.4182989742693599 48.878099566078362
 >
 > What told you they were valid ?
 huh? The isValid() function of GEOS told me so. I've tested with 3.2, 3.3
 and the svn version (of 2 months ago of course).

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:12>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 12:15:11 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 12:15:22 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS FAILS]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.5cfa28c7e147c7dc2fa7c071856b1127@osgeo.org>

#488: TopologyException unioning valid geometries [JTS FAILS]
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 Could it be your controls were affected by bug #333 ?
 Could you double check ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:13>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 12:26:53 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 12:27:45 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS FAILS]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.2e6222704b0d106d2fe138e44f84056a@osgeo.org>

#488: TopologyException unioning valid geometries [JTS FAILS]
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by sky):

 No not this bug, but, effectively, I've a weird behavior. In my test I
 check the polygon one by one before the creation of my collection. They
 are all valid. But when I run isValid() on the created collection it
 fails? Do you have an idea of how it's possible ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:14>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 12:56:36 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 12:57:32 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS FAILS]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.d11f737992d4c41f0d56e9544a0396f3@osgeo.org>

#488: TopologyException unioning valid geometries [JTS FAILS]
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 A MultiPolygon in which two polygons overlap is not valid.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:15>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 13:26:57 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 13:27:40 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS FAILS]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.128f3dfbe96fae7d2b8d92de0ba50457@osgeo.org>

#488: TopologyException unioning valid geometries [JTS FAILS]
------------------------+---------------------------------------------------
 Reporter:  sky         |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 sky: please let me know if you have any really valid input for this, or
 close it as invalid.
 Thanks!

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:16>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 13:34:49 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 13:35:15 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries (was:
 TopologyException unioning valid geometries [JTS FAILS])
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.66d4b6b633999680c2d87a67acd83110@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  invalid                   
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * keywords:  jtsfail =>
  * status:  new => closed
  * resolution:  => invalid


Comment:

 Actually, I'll close...

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:17>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 14:57:06 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 14:57:54 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
	geometries
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.7f5ebf8877d48734c29f9cdabeb39c60@osgeo.org>

#488: TopologyException unioning valid geometries
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  invalid                   
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by sky):

 Replying to [comment:15 strk]:
 > A MultiPolygon in which two polygons overlap is not valid.

 I do not understand, how I'm supposed to do a cascadedUnion of overlaping
 geometries ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:18>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 15:25:43 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 15:26:30 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS
 fails] (was: TopologyException unioning valid geometries)
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.c4756641aaadd93ae0a121df6998cb88@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------
Changes (by strk):

  * keywords:  => jts fails
  * status:  closed => reopened
  * resolution:  invalid =>


Comment:

 Sorry, you're completely right, UnaryUnion should work for this case. It
 is only validity of the components that matters.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:19>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 15:34:08 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 15:34:29 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.e3e93c72c2182d5648e1d241d76f815b@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------

Comment(by strk):

 I've replaced the XML test to use GEOMETRYCOLLECTION ratehr than
 MULTIPOLYGON. That way the validity checker checks for validity of each
 and every component, and succeeds (the validity checking).

 Next step would be filing the bug upstream in JTS

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:20>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 15:55:23 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 15:56:02 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.ffbf9fd0a29feabc4f4d16550c84443f@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------

Comment(by sky):

 Ok, thank you. Will you open the bug upstream or am I suppose to do it ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:21>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 16:03:15 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 16:03:30 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.f5d1ea845075c4ca37283569d45c0323@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------

Comment(by strk):

 Done:
 http://sourceforge.net/tracker/index.php?func=detail&aid=3459703&group_id=128875&atid=713120

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:22>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 16:03:42 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 16:03:57 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.f0440e3c5f57317162c8497ec66e57d5@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  GEOS Future               
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.4.0 => GEOS Future


Comment:

 Can't really set a milestone until it's fixed upstream

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:23>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 14 20:04:59 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 14 20:05:05 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.cda37978b896084925bcb66d0fdcbef8@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  GEOS Future               
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------

Comment(by mdavis):

 This issue is caused by the fact that the input geometry has vertices with
 very high precision, and nearly-coincident line segments.  This occurs
 both internal to and between geometries.

 Attached is a reduced test case containing only two polygons and using
 binary union directly.

 This is a common cause of robustness failure in the current JTS/GEOS
 overlay algorithm.  Fixing this will require some deep design changes in
 JTS and/or better heuristics for handling failures.

 A workaround is to reduce the precision of the input geometries.  Using 10
 decimal places seems to work.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:24>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Dec 15 02:45:17 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Dec 15 02:45:45 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.1f4d25ca8a100bc35df009d573072428@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  GEOS Future               
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------

Comment(by strk):

 Don't Union operations already perform precision reduction as an heuristic
 on topology exception ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:25>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Dec 15 02:52:51 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Dec 15 02:53:48 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.4c9fd41ac96a36bea5d68ec553d40d40@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  GEOS Future               
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------

Comment(by strk):

 Enabling some debugging code in GEOS here's what I see:
 {{{
 Trying with original input.
 Original exception: TopologyException: no outgoing dirEdge found at
 2.4121639662098748 48.875557185142789
 Trying with Common Bits Remover (CBR)
 CBR: TopologyException: no outgoing dirEdge found at 0.41216396620987483
 0.8755571851427888
 Trying with snapping
 Computed snap tolerance: 7.513087031840282175e-12
 Computed common bits: 2 48
 SNAP: snapped geom 1 is INVALID: Self-intersection at or near point
 0.41216396620987439 0.8755571851427888 (0.41216396620987438837
 0.87555718514278879638)
 SNAP: TopologyException: side location conflict at 0.41216396620987439
 0.8755571851427888
 EXCEPTION on case 1 test 1: TopologyException: no outgoing dirEdge found
 at 2.4121639662098748 48.875557185142789
 }}}

 I think the key is in the 'snapped geom 1 is INVALID' message, which means
 that geometry snapping is _introducing_ an invalidity. I saw this in other
 cases as well, don't remember if I also filed a bug for JTS about it.
 Anyway see also #501.

 If I'm not mistaken the problem is always with snapping making a portion
 of a polygon collapse to become a line, thus making that part invalid.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:26>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Dec 15 04:12:02 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Dec 15 04:12:14 2011
Subject: [geos-devel] Re: [GEOS] #488: TopologyException unioning valid
 geometries [JTS fails]
In-Reply-To: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
References: <043.b44eac97b5fd376de39b3154b9e10220@osgeo.org>
Message-ID: <052.1608b0d00b6a18f22c0e458d0b9e0e7a@osgeo.org>

#488: TopologyException unioning valid geometries [JTS fails]
------------------------+---------------------------------------------------
 Reporter:  sky         |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  GEOS Future               
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  jts fails   |  
------------------------+---------------------------------------------------

Comment(by strk):

 self-unioning an operand becoming invalid after snap fixes this case.
 Attaching an updated reduced version with expected result (obtained with
 this heuristic)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/488#comment:27>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Dec 15 06:04:53 2011
From: geos-trac at osgeo.org (GEOS)
Date: Thu Dec 15 06:05:24 2011
Subject: [geos-devel] [GEOS] #504: Consider replacing -ffloat-store with
 -fexcess-precision=standard
Message-ID: <044.b1b0ad7bcf5da3e3e7fef8badf0a327b@osgeo.org>

#504: Consider replacing -ffloat-store with  -fexcess-precision=standard
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  task        |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 See:
 http://archives.postgresql.org/pgsql-hackers/2011-12/msg00647.php

 And see if such switch would bring us closer to JTS numeric handling

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/504>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From strk at keybit.net  Thu Dec 15 09:32:36 2011
From: strk at keybit.net (Sandro Santilli)
Date: Thu Dec 15 09:33:03 2011
Subject: [geos-devel] Change in overlay failure handling heuristic
Message-ID: <20111215143236.GC28792@gnash>

Dear overlayers and exception catchers,

as of r3552 the heuristic used for trying to get to some kind of overlay
result in case of robustness issues (BinaryOp) has been augomented
to perform an additional check to the results of snapping the input
geometries each-other, and running a self-union whenever such snapped
geoms result invalid.

Such behavior is to fix the cases in which snapping
creates self-intersections thus introducing problems
for later computations.

It is known to fix at least one case:
http://trac.osgeo.org/geos/ticket/488

Additional work is required to check for validity, but you'd never
get to that point unless the _original_ run (w/out snaprounding)
worked.

Please test the new behavior as I plan to ship it with upcoming 3.3.2.
Thank you.

--strk; 

  ,------o-. 
  |   __/  |    Thank you for PostGIS-2.0 Topology !
  |  / 2.0 |    http://www.pledgebank.com/postgistopology
  `-o------'

From geos-trac at osgeo.org  Fri Dec 16 05:37:44 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec 16 05:38:19 2011
Subject: [geos-devel] Re: [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.01c0f276b9f8987157f2f4a4471e3e0a@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 The issue is with segments snapping, not point snapping.
 Here's some debugging output:

 {{{
 Snapping segment from: (0 0, 10 0)
 Checking for a segment to snap to snapPt 0 0
  Checking segment LINESEGMENT(0 0,10 0) for snapping against point 0 0
  One of segment endpoints equal snap point, returning too_far
  No segment to snap
 Checking for a segment to snap to snapPt 9 0
  Checking segment LINESEGMENT(0 0,10 0) for snapping against point 9 0
  dist=0 minDist=3 snapTolerance=2
  Segment/snapPt distance within tolerance and closer then previous match
 (0)
  Segment to be snapped found, inserting point
 Checking for a segment to snap to snapPt 10 0
  Checking segment LINESEGMENT(0 0,9 0) for snapping against point 10 0
  dist=1 minDist=3 snapTolerance=2
  Segment/snapPt distance within tolerance and closer then previous match
 (1)
  Checking segment LINESEGMENT(9 0,10 0) for snapping against point 10 0
  One of segment endpoints equal snap point, returning too_far
  No segment to snap
 Checking for a segment to snap to snapPt 11 0
  Checking segment LINESEGMENT(0 0,9 0) for snapping against point 11 0
  dist=2 minDist=3 snapTolerance=2
  Checking segment LINESEGMENT(9 0,10 0) for snapping against point 11 0
  dist=1 minDist=3 snapTolerance=2
  Segment/snapPt distance within tolerance and closer then previous match
 (1)
  Segment to be snapped found, inserting point
  After segment snapping, srcCoors are: (0 0, 9 0, 11 0, 10 0)
 }}}

 The last run seems bogus, highlighted here:

 {{{
 Checking for a segment to snap to snapPt 11 0
  Checking segment LINESEGMENT(0 0,9 0) for snapping against point 11 0
  dist=2 minDist=3 snapTolerance=2
  Checking segment LINESEGMENT(9 0,10 0) for snapping against point 11 0
  dist=1 minDist=3 snapTolerance=2
  Segment/snapPt distance within tolerance and closer then previous match
 (1)
  Segment to be snapped found, inserting point
  After segment snapping, srcCoors are: (0 0, 9 0, 11 0, 10 0)
 }}}

 If it was second point (10, 0) snapped rather than first point (9, 0)
 there would have been no problem.
 The code says:

 {{{
     // insert must happen one-past first point (before next point)
 }}}

 So it is intentional to snap the actual segment rather than the existing
 vertices.
 Only maybe it should be avoided when one of the endpoints is the closer
 part of
 the segment to the snap point.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec 16 06:13:27 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec 16 06:14:14 2011
Subject: [geos-devel] Re: [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.2c3e39846b54b6e7485d73fea3bd053d@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 I've been thinking that vertex snapping could maybe be performed against
 the _farest_ point within tolerance rather than the closest one. And the
 fartest from segment startpoint. Doing so should ensure that later segment
 snapping would not introduce overstrikes.

 Surely needs more thinking and presentation of a set of cases

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec 16 07:42:12 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec 16 07:42:57 2011
Subject: [geos-devel] Re: [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.f2d45781ffba33db04d2bdb19f527bea@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by aperi2007):

 Please,
 I guess this other case is really more understandable :)
 ( a little difference between the vertex of the lines to help to
 understand if the vertex choose is from line1 or line2 )

 {{{
 ST_Snap(
         'LINESTRING(0 0, 10 0)',
          LINESTRING(0.1 0, 9.1 0, 10.01 0, 10.9 0),
          2
 ) = LINESTRING(0.1 0, 10.9 0, 10.01 0, 9.1 0)

 }}}

 Please, can you repeat your debug output with this ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Dec 16 08:17:05 2011
From: geos-trac at osgeo.org (GEOS)
Date: Fri Dec 16 08:17:13 2011
Subject: [geos-devel] Re: [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.d2c2fc941c3c68e98905f5e09f146a7a@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 First vertices are snapped:
 {{{
 Checking for a snap for source coordinate 0 0
  misuring distance between snap point 0.1 0 and source point 0 0
  points are within distance (0.1) returning iterator to snap point
  Found snap point 0.1 0
  Source point became 0.1 0

 Checking for a snap for source coordinate 10 0
  misuring distance between snap point 0.1 0 and source point 10 0
  misuring distance between snap point 9.1 0 and source point 10 0
  points are within distance (0.9) returning iterator to snap point
  Found snap point 9.1 0
  Source point became 9.1 0
 }}}

 Then segments are snapped:

 {{{
 Snapping segment from: (0.1 0, 9.1 0)
  Checking for a segment to snap to snapPt 0.1 0
   Checking segment LINESEGMENT(0.1 0,9.1 0) for snapping against point 0.1
 0
    One of segment endpoints equal snap point, returning too_far
    No segment to snap
  Checking for a segment to snap to snapPt 9.1 0
   Checking segment LINESEGMENT(0.1 0,9.1 0) for snapping against point 9.1
 0
    One of segment endpoints equal snap point, returning too_far
    No segment to snap
  Checking for a segment to snap to snapPt 10.01 0
   Checking segment LINESEGMENT(0.1 0,9.1 0) for snapping against point
 10.01 0
    dist=0.91 minDist=3 snapTolerance=2
    Segment/snapPt distance within tolerance and closer then previous match
 (0.91)
    Segment to be snapped found, inserting point
  Checking for a segment to snap to snapPt 10.9 0
   Checking segment LINESEGMENT(0.1 0,10.01 0) for snapping against point
 10.9 0
    dist=0.89 minDist=3 snapTolerance=2
    Segment/snapPt distance within tolerance and closer then previous match
 (0.89)
   Checking segment LINESEGMENT(10.01 0,9.1 0) for snapping against point
 10.9 0
    dist=0.89 minDist=0.89 snapTolerance=2
    Segment to be snapped found, inserting point
 After segment snapping, srcCoors are: (0.1 0, 10.9 0, 10.01 0, 9.1 0)
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Dec 20 04:51:31 2011
From: geos-trac at osgeo.org (GEOS)
Date: Tue Dec 20 04:52:05 2011
Subject: [geos-devel] Re: [GEOS] #504: Consider replacing -ffloat-store with
 -fexcess-precision=standard
In-Reply-To: <044.b1b0ad7bcf5da3e3e7fef8badf0a327b@osgeo.org>
References: <044.b1b0ad7bcf5da3e3e7fef8badf0a327b@osgeo.org>
Message-ID: <053.8f906c46da9e14b907e400e92de0ed2b@osgeo.org>

#504: Consider replacing -ffloat-store with  -fexcess-precision=standard
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  task        |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.2                     
Component:  Default     |     Version:  3.3.1                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 g++ 4.4.3 doesn't seem to support the switch, but the
 AC_LIBTOOL_COMPILER_OPTION would think it does. AC_LIBTOOL_LINKER_OPTION
 instead belives it doesn't.

 Could someone with a newer GCC try it there ?

 Here's the patch:

 {{{
 diff --git a/configure.in b/configure.in
 index 4ef0ef6..5f60996 100644
 --- a/configure.in
 +++ b/configure.in
 @@ -155,6 +155,7 @@ AC_LIBTOOL_COMPILER_OPTION([if $compiler supports
 -Wno-long-long], [dummy_cv_no_
  # To make numerical computation more stable, we use --ffloat-store
  NUMERICFLAGS=""
  AC_LIBTOOL_COMPILER_OPTION([if $compiler supports -ffloat-store],
 [dummy_cv_ffloat_store], [-ffloat-store], [], [NUMERICFLAGS="$NUMERICFLAGS
 -ffloat-store"], [])
 +AC_LIBTOOL_LINKER_OPTION([if $compiler supports -fexcess-
 precision=standard], [dummy_cv_excess_precision], [-excess-
 precision=standard], [], [NUMERICFLAGS="$NUMERICFLAGS -excess-
 precision=standard"], [])

  DEFAULTFLAGS="${WARNFLAGS} ${NUMERICFLAGS}"
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/504#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Wed Dec 21 03:29:16 2011
From: geos-trac at osgeo.org (GEOS)
Date: Wed Dec 21 03:30:04 2011
Subject: [geos-devel] Re: [GEOS] #501: Snap operation: wrong snapping
In-Reply-To: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
References: <049.647d33647a081b59a67c0f1853a22e42@osgeo.org>
Message-ID: <058.6016de480e02058834c44cf026b83b9e@osgeo.org>

#501: Snap operation: wrong snapping
------------------------+---------------------------------------------------
 Reporter:  aperi2007   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  GEOS Future               
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------

Comment(by strk):

 I report a schema of the problem described in the bug.


 The input (A-B) and the snap points (S1,S2):

 {{{
  A            B    S2
  *------------*    *
              S1
 }}}

 The figure produced by current algorithm (A-S2-B):

 {{{
  A            B    S2
  *------------*<-->*
               S1
 }}}

 The above happens because vertex snapping for B
 gives up when finding S1 being == B and later
 segment snapping finds S2 first (for some reason)
 and thus produces the invalid overstrike.
 Note that inverting the order of S1 and S2 in input
 fixes the issue:

 {{{
 =# select st_astext(st_snap('LINESTRING(0 0, 10 0)', 'MULTIPOINT(10 0, 11
 0)', 2));
          st_astext
 ---------------------------
  LINESTRING(0 0,11 0,10 0)


 =# select st_astext(st_snap('LINESTRING(0 0, 10 0)', 'MULTIPOINT(11 0, 10
 0)', 2));
          st_astext
 ---------------------------
  LINESTRING(0 0,10 0,11 0)
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/501#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From luca.paganotti at gmail.com  Wed Dec 28 11:51:48 2011
From: luca.paganotti at gmail.com (luca paganotti)
Date: Wed Dec 28 11:52:29 2011
Subject: [geos-devel] Information request
Message-ID: <CADzbtTKamB9u=8n6Lhd0E1QV-t+psiNMhhP9v_hcuQoJZdmZ2Q@mail.gmail.com>

Hi all,

I would like to extend geos to manage also a fourth dimension (XYZM),
please, could someone point me in the right direction?

I've succesfully built the latest stable version of geos.dll under VS2010.

Thanks for any answer

Luca Paganotti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/geos-devel/attachments/20111228/47126ca3/attachment.html
