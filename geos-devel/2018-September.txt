From geos-trac at osgeo.org  Sat Sep  1 06:48:48 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 01 Sep 2018 13:48:48 -0000
Subject: [geos-devel] [GEOS] #922: Delaunay triangulation creates
	overlapping triangles
Message-ID: <044.1032458b11f501598d688fcc87fcbb5d@osgeo.org>

#922: Delaunay triangulation creates overlapping triangles
------------------------+--------------------------
 Reporter:  komzpa      |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 https://github.com/locationtech/jts/issues/298
 https://trac.osgeo.org/postgis/ticket/4152

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/922>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Sep  1 06:52:45 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 01 Sep 2018 13:52:45 -0000
Subject: [geos-devel] [GEOS] #922: Delaunay triangulation creates
 overlapping triangles
In-Reply-To: <044.1032458b11f501598d688fcc87fcbb5d@osgeo.org>
References: <044.1032458b11f501598d688fcc87fcbb5d@osgeo.org>
Message-ID: <059.2cf0ca8bf19318a4a310c74c075b4abd@osgeo.org>

#922: Delaunay triangulation creates overlapping triangles
------------------------+---------------------------
 Reporter:  komzpa      |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by komzpa):

 Patch: https://github.com/libgeos/geos/pull/117

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/922#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep  2 11:39:17 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 02 Sep 2018 18:39:17 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.021e82c7c50d2da0934f4f39eb6cf454@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"5ccb3fa3062347c36e4129e3bd45b9486a30f66d/git" 5ccb3fa/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="5ccb3fa3062347c36e4129e3bd45b9486a30f66d"
 Take out failing test on FreeBSD/macOS Clang. References #894
 Will revisit in 3.8
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep  2 12:32:27 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 02 Sep 2018 19:32:27 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.e85cdc338998a171cbff46ec9ee038ea@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"9ab043f7b851308240f603291409bea4be9e20c8/git" 9ab043f/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="9ab043f7b851308240f603291409bea4be9e20c8"
 Take out failing test on FreeBSD/macOS Clang. References #894
 Will revisit in 3.8
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep  2 17:04:15 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 03 Sep 2018 00:04:15 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.5ee82b69e9ab336c37a4c1f8ab86283a@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"db3e7a7350e29b96255e34295f8771dd3fb80eee/git" db3e7a7/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="db3e7a7350e29b96255e34295f8771dd3fb80eee"
 Take out failing test on FreeBSD/macOS Clang. References #894
 Will revisit in 3.8
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:9>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep  2 19:16:01 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 03 Sep 2018 02:16:01 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.efff8a8b8fc4ef6b9c274b036954f309@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"34cdf0252cd9ffd202f68faf94908860f5762461/git" 34cdf02/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="34cdf0252cd9ffd202f68faf94908860f5762461"
 Take out failing test on FreeBSD/macOS Clang. References #894
 Will revisit in 3.8
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:10>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep  2 20:05:37 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 03 Sep 2018 03:05:37 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.fe741345eae806d542f1e14905628cae@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by robe):

 Well remarking out that test wasn't sufficient for a clean pass, I still
 get an error here:


 {{{
 make: stopped in
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie/34cdf0252cd9ffd202f68faf9
 [jenkins at bessie
 /usr/home/jenkins/workspace/GEOS_Worker_Run/label/bessie/34cdf0252cd9ffd202f68faf94
 908860f5762461]$ tail -n 10 tests/unit/test-suite.log
 geos::triangulate::quadedge::QuadEdgeSubdivision: ...
 geos::triangulate::quadedge::Vertex: .
 geos::util::UniqueCoordinateArrayFilter: .

 ---> group: geos::geom::CoordinateArraySequenceFactory, test: test<1>
      problem: assertion failed

 tests summary: failures:1 ok:1120
 FAIL geos_unit (exit status: 1)
 }}}

 oops and I thought I was committing to my fork, I must have my scripts
 backward :(.

 I'm going to revert back and just leave this as it was.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:11>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep  2 20:08:27 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 03 Sep 2018 03:08:27 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.8d9436a34407b73f7bdf4ec641f22fc0@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by robe):

 on second thought maybe I'll leave remarked out for now

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:12>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep  2 23:19:56 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 03 Sep 2018 06:19:56 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.8886d03540edcdaaf9438d7249734c79@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by Regina Obe <lr@…>):

 In [changeset:"763f137df8507fefba707800786deeb68118a2c0/git" 763f137/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="763f137df8507fefba707800786deeb68118a2c0"
 Take out failing test on FreeBSD/macOS Clang. References #894
 Revert previous change (was wrong test)
 Will revisit in 3.8.  Put back use of autotools on bessie
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:13>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Sep  3 11:09:35 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 03 Sep 2018 18:09:35 -0000
Subject: [geos-devel] [GEOS] #894: FreeBSD and MacOSX failures on 3.7.0
 - group: geos::geom::CoordinateArraySequenceFactory,
 test: test<1> assertion failed
In-Reply-To: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
References: <042.c1af128b9f7074b044cba24ce328456f@osgeo.org>
Message-ID: <057.0983bd1bfe2593ae062374a1ec6f1f37@osgeo.org>

#894: FreeBSD and MacOSX failures on 3.7.0 - group:
geos::geom::CoordinateArraySequenceFactory, test: test<1> assertion failed
------------------------+---------------------------
 Reporter:  robe        |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  blocker     |   Milestone:  3.7.0
Component:  Default     |     Version:  master
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by robe):

 Forgot to reference the ticket number

 In [changeset:"2644482da4779ad726a500a8a5bd7d2453cebdb2/git" 2644482/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="2644482da4779ad726a500a8a5bd7d2453cebdb2"
 Change to ignore failure in CoordinateArraySequenceFactoryTest. Put back
 UniqueCoordinateArrayFilterTest.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/894#comment:14>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From lr at pcorp.us  Mon Sep  3 13:37:15 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 3 Sep 2018 16:37:15 -0400
Subject: [geos-devel] GEOS 3.7.0rc2 released
Message-ID: <000901d443c5$e714def0$b53e9cd0$@pcorp.us>

The GEOS Development Team is pleased to release GEOS 3.7.0rc2.

Source Link: http://download.osgeo.org/geos/geos-3.7.0rc2.tar.bz2


We hope this is the last RC before we do release of 3.7.0 (in next 1 to 2
weeks).

Changes since GEOS 3.7.0rc1 are the following:

https://trac.osgeo.org/geos/browser/git/NEWS?rev=3.7.0rc2

  - Drop ? from extended regular expression,		
    so that the expression strictly conforms to the POSIX ERE rules.

    (#917, Greg Troxel, Bas Couwenberg)		
  - include .editorconfig in tar ball,		
    fixes Cmake on VS (#920, Jeff Mckenna, Regina Obe)		
  - Ignore error in CoordinateArraySequenceFactoryTest		
    failing on FreeBSD/macOS Clang (#894)

Please test and report any issues.

Reminder:

NOTE: our git master branch flipped  after 3.7 rc1 to start GEOS 3.8
development 
            a new branch  3.7 now exists for future updates to 3.7 branch. -
https://git.osgeo.org/gitea/geos/geos/src/branch/3.7

Primary repo: https://git.osgeo.org/gitea/geos/geos

GitLab Mirror: https://gitlab.com/geos/libgeos

GitHub Mirror: https://github.com/libgeos/geos


Thanks,
GEOS Development Team
		


From gdt at lexort.com  Tue Sep  4 12:16:36 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 04 Sep 2018 15:16:36 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smuwosb4anr.fsf@linuxpal.mit.edu> (Greg Troxel's message of
 "Mon, 27 Aug 2018 20:06:32 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu> <smuwosb4anr.fsf@linuxpal.mit.edu>
Message-ID: <smu4lf5m5t7.fsf@linuxpal.mit.edu>

Greg Troxel <gdt at lexort.com> writes:

> Not related to the maybe-clang/GeometryFactory test failure, I tried to
> build on NetBSD/8 evbearmv7hf-el (RPI3, running 32 bit), and got
>
>   ======================================
>      : tests/xmltester/test-suite.log
>   ======================================
>
>   # TOTAL: 1
>   # PASS:  0
>   # SKIP:  0
>   # XFAIL: 0
>   # FAIL:  1
>   # XPASS: 0
>   # ERROR: 0
>
>   .. contents:: :depth: 2
>
>   FAIL: testrunner
>   ================
>
>   terminate called after throwing an instance of 'geos::util::TopologyException'
>     what():  TopologyException: found non-noded intersection between LINESTRING (-105571 939969, -102895 939993) and LINESTRING (9485.36 770763, -102895 939993) at -102894.5562421389 939992.66927296668
>   [1]   Abort trap (core dumped) ./XMLTester -v -...
>   FAIL testrunner (exit status: 134)
>
> I believe this has normal IEEE754 floating point.
>
> So I'm curious if anyone has run this on arm, and specifically armv7.

I'm still seeing this with rc2, still only on armv7.

From lr at pcorp.us  Tue Sep  4 13:40:25 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 4 Sep 2018 16:40:25 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smu4lf5m5t7.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>	<smuh8jf5ziz.fsf@linuxpal.mit.edu>
 <smuwosb4anr.fsf@linuxpal.mit.edu> <smu4lf5m5t7.fsf@linuxpal.mit.edu>
Message-ID: <002101d4448f$828b5b10$87a21130$@pcorp.us>

> >   terminate called after throwing an instance of
> 'geos::util::TopologyException'
> >     what():  TopologyException: found non-noded intersection between
> LINESTRING (-105571 939969, -102895 939993) and LINESTRING (9485.36
> 770763, -102895 939993) at -102894.5562421389 939992.66927296668
> >   [1]   Abort trap (core dumped) ./XMLTester -v -...
> >   FAIL testrunner (exit status: 134)
> >
> > I believe this has normal IEEE754 floating point.
> >
> > So I'm curious if anyone has run this on arm, and specifically armv7.
> 
> I'm still seeing this with rc2, still only on armv7.
[Regina Obe] 
Wondering it's a new or old problem.
Does it work on GEOS 3.6.3 (granted I think we may have beefed up the tests
in 3.7.0, so a success in 3.6.3 doesn't automatically imply 3.6.3 is good).
A failure would be most interesting :)




From gdt at lexort.com  Tue Sep  4 17:29:34 2018
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 04 Sep 2018 20:29:34 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smu4lf5m5t7.fsf@linuxpal.mit.edu> (Greg Troxel's message of
 "Tue, 04 Sep 2018 15:16:36 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu> <smuwosb4anr.fsf@linuxpal.mit.edu>
 <smu4lf5m5t7.fsf@linuxpal.mit.edu>
Message-ID: <smupnxsu6q9.fsf@linuxpal.mit.edu>

I tried 3.6.2, and got the following test result.

Has anyone run the geos tests on arm under Linux?

(I think this issue should definitely not hold up the release.)



======================================
   : tests/xmltester/test-suite.log
======================================

# TOTAL: 1
# PASS:  0
# SKIP:  0
# XFAIL: 0
# FAIL:  1
# XPASS: 0
# ERROR: 0

.. contents:: :depth: 2

FAIL: testrunner
================

terminate called after throwing an instance of 'geos::util::IllegalArgumentException'
  what():  IllegalArgumentException: Exponent out of bounds
[1]   Abort trap (core dumped) ./XMLTester -v -...


From sebastic at xs4all.nl  Tue Sep  4 23:36:27 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Wed, 5 Sep 2018 08:36:27 +0200
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smupnxsu6q9.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu> <smuwosb4anr.fsf@linuxpal.mit.edu>
 <smu4lf5m5t7.fsf@linuxpal.mit.edu> <smupnxsu6q9.fsf@linuxpal.mit.edu>
Message-ID: <4a594c2c-1975-e773-abcf-4674d0fcfd02@xs4all.nl>

On 9/5/18 2:29 AM, Greg Troxel wrote:
> Has anyone run the geos tests on arm under Linux?

Yes.

arm64:

 https://buildd.debian.org/status/fetch.php?pkg=geos&arch=arm64&ver=3.7.0%7Erc2-1%7Eexp1&stamp=1536042629&raw=0

armel:

 https://buildd.debian.org/status/fetch.php?pkg=geos&arch=armel&ver=3.7.0%7Erc2-1%7Eexp1&stamp=1536044864&raw=0

armhf:

 https://buildd.debian.org/status/fetch.php?pkg=geos&arch=armhf&ver=3.7.0%7Erc2-1%7Eexp1&stamp=1536044030&raw=0

From gdt at lexort.com  Wed Sep  5 04:45:34 2018
From: gdt at lexort.com (Greg Troxel)
Date: Wed, 05 Sep 2018 07:45:34 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <4a594c2c-1975-e773-abcf-4674d0fcfd02@xs4all.nl> (Sebastiaan
 Couwenberg's message of "Wed, 5 Sep 2018 08:36:27 +0200")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu> <smuwosb4anr.fsf@linuxpal.mit.edu>
 <smu4lf5m5t7.fsf@linuxpal.mit.edu> <smupnxsu6q9.fsf@linuxpal.mit.edu>
 <4a594c2c-1975-e773-abcf-4674d0fcfd02@xs4all.nl>
Message-ID: <smuin3ktbfl.fsf@linuxpal.mit.edu>

Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:

> On 9/5/18 2:29 AM, Greg Troxel wrote:
>> Has anyone run the geos tests on arm under Linux?
>
> Yes.
>
> [urls]

Thanks, that's helpful.

I ran Kahan's paranoia on my system, which passed cleanly.  I will keep
looking into this.

From gdt at lexort.com  Thu Sep  6 07:00:00 2018
From: gdt at lexort.com (Greg Troxel)
Date: Thu, 06 Sep 2018 10:00:00 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smu4lf5m5t7.fsf@linuxpal.mit.edu> (Greg Troxel's message of
 "Tue, 04 Sep 2018 15:16:36 -0400")
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu> <smuwosb4anr.fsf@linuxpal.mit.edu>
 <smu4lf5m5t7.fsf@linuxpal.mit.edu>
Message-ID: <smulg8eohen.fsf@linuxpal.mit.edu>

I have done more testing on the NetBSD/earmv7 issue.  Someone else
reproduced it, and also with newer gcc on NetbSD-current, compared to
gcc 5.5.0 on my system.   NetBSD/sparc64, also newer gcc, passed.

I rebuilt with -O0 instead of -O2, and then the xmlrunner tests pass.

I get a failure to create a geometry object in the unit suite on one of
the inputs, and will post something more coherent about that later.
(The suite is not robust about checking for null returns from
GEOSGeomFromHEX_buf, it seems.)


Just FYI to the list - obviously I still have things to figure out.

From lr at pcorp.us  Sat Sep  8 11:13:34 2018
From: lr at pcorp.us (Regina Obe)
Date: Sat, 8 Sep 2018 14:13:34 -0400
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <smulg8eohen.fsf@linuxpal.mit.edu>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>	<smuh8jf5ziz.fsf@linuxpal.mit.edu>
 <smuwosb4anr.fsf@linuxpal.mit.edu>	<smu4lf5m5t7.fsf@linuxpal.mit.edu>
 <smulg8eohen.fsf@linuxpal.mit.edu>
Message-ID: <000d01d4479f$a86c50b0$f944f210$@pcorp.us>

> 
> I have done more testing on the NetBSD/earmv7 issue.  Someone else
> reproduced it, and also with newer gcc on NetbSD-current, compared to
> gcc 5.5.0 on my system.   NetBSD/sparc64, also newer gcc, passed.
> 
> I rebuilt with -O0 instead of -O2, and then the xmlrunner tests pass.
> 
> I get a failure to create a geometry object in the unit suite on one of
the
> inputs, and will post something more coherent about that later.
> (The suite is not robust about checking for null returns from
> GEOSGeomFromHEX_buf, it seems.)
> 
> 
> Just FYI to the list - obviously I still have things to figure out.
[Regina Obe] 
Greg and Bas, I want to thank you both for all your work testing these
platforms.

I've been out at conference so been out of it for a bit and just slowly
getting back on the horse.
I saw you both tested 3.7.0rc2 with ARM and had failures.

Greg - so you saying if you compile with -O0 it works even on ARM?

Were these an issue in 3.6.3.  Sorry if I missed the thread about that.

Reason I ask is to know if this a long standing issue or something we
introduced in 3.7.0.

If long standing, I'd like to release as planned this coming week 3.7.0 and
then tackle these issues in 3.7.1 and 3.6.4 releases.


Thanks,
Regina




From sebastic at xs4all.nl  Sat Sep  8 11:23:17 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Sat, 8 Sep 2018 20:23:17 +0200
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <000d01d4479f$a86c50b0$f944f210$@pcorp.us>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu> <smuwosb4anr.fsf@linuxpal.mit.edu>
 <smu4lf5m5t7.fsf@linuxpal.mit.edu> <smulg8eohen.fsf@linuxpal.mit.edu>
 <000d01d4479f$a86c50b0$f944f210$@pcorp.us>
Message-ID: <72872931-5e2a-7974-853a-bd10b53fd853@xs4all.nl>

On 9/8/18 8:13 PM, Regina Obe wrote:
> Were these an issue in 3.6.3.  Sorry if I missed the thread about that.

The tests/ticket/bug398.xml failure on arm64 was also present in 3.6.2,
the same goes for tests/general/TestCentroid.xml.

So those aren't a regression introduced in 3.7.0.

Kind Regards,

Bas

From gdt at lexort.com  Sat Sep  8 11:38:57 2018
From: gdt at lexort.com (Greg Troxel)
Date: Sat, 08 Sep 2018 18:38:57 +0000
Subject: [geos-devel] GEOS 3.7.0rc1 release
In-Reply-To: <000d01d4479f$a86c50b0$f944f210$@pcorp.us>
References: <000e01d437c6$2ac25c60$80471520$@pcorp.us>
 <smuh8jf5ziz.fsf@linuxpal.mit.edu> <smuwosb4anr.fsf@linuxpal.mit.edu>
 <smu4lf5m5t7.fsf@linuxpal.mit.edu> <smulg8eohen.fsf@linuxpal.mit.edu>
 <000d01d4479f$a86c50b0$f944f210$@pcorp.us>
Message-ID: <5E93F918-8A1B-46F9-BDA5-B106CD041626@lexort.com>

My arm issues are likely not a GEOS bug, and definitely not new.   Don't hold up on my account.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180908/6e691c8c/attachment.html>

From lr at pcorp.us  Mon Sep 10 09:45:37 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 10 Sep 2018 12:45:37 -0400
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC  Vote
Message-ID: <000001d44925$b3f766e0$1be634a0$@pcorp.us>

As many know the GEOS code base is a mess of different formatting.
Particular with tabs and spaces.
Our .editorconfig is equally messy in the name of compromise.

I'd like to make a Motion starting with GEOS 3.8 to reformat the .cpp, .h,
and .c

I think the other extensions are pretty standard and should stay as they
are.

That said, what would people prefer?

I vote:

TABS


Please all PSC and all developers who commit to GEOS voice an opinion.
We'll count the votes and go with the consensus with each vote counting
equally.
If any non-dev, non-PSC have an opinion, feel free to voice an opinion
keeping note we may not care about your opinion, but might possibly sway
ours :)

Once done - pramsey or cvvergara or strk will do a 1000 pound commit to
update all these files (including the editorconfig)

Thanks,
Regina


From vicky at georepublic.de  Mon Sep 10 09:55:11 2018
From: vicky at georepublic.de (Vicky Vergara)
Date: Mon, 10 Sep 2018 11:55:11 -0500
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
Message-ID: <CAK_FzuWqwsdJJt9tO_wZBvfSArC+Y5+A2A47GtX6okprezEY6A@mail.gmail.com>

Hi all

As (refactoring) developer I am for spaces, 2 or 4, but spaces
My preference in this particular project will be for 2 spaces because of
the namespace names sometimes become very long
I don't mind doing the 1000 pound commit

If its me (to do the 1000 pound commit) then I will use "vim" to make the
changes:
and additinally to the editorconfig I will use on .vimrc
set cinoptions+=t0,j1,w2
so that the lambda functions come out nicely formatted.

Regards
Vicky


On Mon, Sep 10, 2018 at 11:45 AM, Regina Obe <lr at pcorp.us> wrote:

> As many know the GEOS code base is a mess of different formatting.
> Particular with tabs and spaces.
> Our .editorconfig is equally messy in the name of compromise.
>
> I'd like to make a Motion starting with GEOS 3.8 to reformat the .cpp, .h,
> and .c
>
> I think the other extensions are pretty standard and should stay as they
> are.
>
> That said, what would people prefer?
>
> I vote:
>
> TABS
>
>
> Please all PSC and all developers who commit to GEOS voice an opinion.
> We'll count the votes and go with the consensus with each vote counting
> equally.
> If any non-dev, non-PSC have an opinion, feel free to voice an opinion
> keeping note we may not care about your opinion, but might possibly sway
> ours :)
>
> Once done - pramsey or cvvergara or strk will do a 1000 pound commit to
> update all these files (including the editorconfig)
>
> Thanks,
> Regina
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel




-- 

Georepublic UG (haftungsbeschränkt)
Salzmannstraße 44,
81739 München, Germany

Vicky Vergara
Operations Research

eMail: vicky at georepublic.de
Web: https://georepublic.info

Tel: +49 (089) 4161 7698-1
Fax: +49 (089) 4161 7698-9

Commercial register: Amtsgericht München, HRB 181428
CEO: Daniel Kastl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180910/4be8451e/attachment.html>

From mtnclimb at gmail.com  Mon Sep 10 11:24:41 2018
From: mtnclimb at gmail.com (Martin Davis)
Date: Mon, 10 Sep 2018 11:24:41 -0700
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
Message-ID: <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>

My vote is the same as Vicky's - spaces, with indenting using multiples of
2.

Reasons:
- lots of religious discussion on the interweb about tabs vs spaces, but a
quick read seems to indicate that the spaces camp is more popular
- spaces are more deterministic than tabs
- 2 rather than 4 gives more space for code

Martin


On Mon, Sep 10, 2018 at 9:45 AM Regina Obe <lr at pcorp.us> wrote:

> As many know the GEOS code base is a mess of different formatting.
> Particular with tabs and spaces.
> Our .editorconfig is equally messy in the name of compromise.
>
> I'd like to make a Motion starting with GEOS 3.8 to reformat the .cpp, .h,
> and .c
>
> I think the other extensions are pretty standard and should stay as they
> are.
>
> That said, what would people prefer?
>
> I vote:
>
> TABS
>
>
> Please all PSC and all developers who commit to GEOS voice an opinion.
> We'll count the votes and go with the consensus with each vote counting
> equally.
> If any non-dev, non-PSC have an opinion, feel free to voice an opinion
> keeping note we may not care about your opinion, but might possibly sway
> ours :)
>
> Once done - pramsey or cvvergara or strk will do a 1000 pound commit to
> update all these files (including the editorconfig)
>
> Thanks,
> Regina
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180910/e50e7f22/attachment.html>

From Mika.Heiskanen at fmi.fi  Mon Sep 10 11:57:05 2018
From: Mika.Heiskanen at fmi.fi (Heiskanen Mika (FMI))
Date: Mon, 10 Sep 2018 18:57:05 +0000
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>,
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
Message-ID: <1536605825538.51276@fmi.fi>

Hello,


Perhaps you should consider using automatic formatting tools such as clang-format?

Just choose the style which is as close to your current style as possible, and then

make as few changes to your .clang-format file as possible. Automatic tools will

make your life much easier. Sometimes you will want to disable automatic formatting,

and you can do that directly in the source code. You can make your editor automatically

format the code, and you can add a git-hook to automatically format commits.

?

Mika



________________________________
From: geos-devel <geos-devel-bounces at lists.osgeo.org> on behalf of Martin Davis <mtnclimb at gmail.com>
Sent: Monday, September 10, 2018 21:24
To: GEOS Development List
Subject: Re: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote

My vote is the same as Vicky's - spaces, with indenting using multiples of 2.

Reasons:
- lots of religious discussion on the interweb about tabs vs spaces, but a quick read seems to indicate that the spaces camp is more popular
- spaces are more deterministic than tabs
- 2 rather than 4 gives more space for code

Martin


On Mon, Sep 10, 2018 at 9:45 AM Regina Obe <lr at pcorp.us<mailto:lr at pcorp.us>> wrote:
As many know the GEOS code base is a mess of different formatting.
Particular with tabs and spaces.
Our .editorconfig is equally messy in the name of compromise.

I'd like to make a Motion starting with GEOS 3.8 to reformat the .cpp, .h,
and .c

I think the other extensions are pretty standard and should stay as they
are.

That said, what would people prefer?

I vote:

TABS


Please all PSC and all developers who commit to GEOS voice an opinion.
We'll count the votes and go with the consensus with each vote counting
equally.
If any non-dev, non-PSC have an opinion, feel free to voice an opinion
keeping note we may not care about your opinion, but might possibly sway
ours :)

Once done - pramsey or cvvergara or strk will do a 1000 pound commit to
update all these files (including the editorconfig)

Thanks,
Regina

_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org<mailto:geos-devel at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180910/8c28ad7d/attachment.html>

From schwehr at gmail.com  Mon Sep 10 12:38:41 2018
From: schwehr at gmail.com (Kurt Schwehr)
Date: Mon, 10 Sep 2018 12:38:41 -0700
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <1536605825538.51276@fmi.fi>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
Message-ID: <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>

+1 to 2 or 4 spaces via a standard clang-format style

I use multiple different editors/ides/code formatters and they all want to
treat tabs differently :|

On Mon, Sep 10, 2018 at 11:57 AM Heiskanen Mika (FMI) <Mika.Heiskanen at fmi.fi>
wrote:

> Hello,
>
>
> Perhaps you should consider using automatic formatting tools such as
> clang-format?
>
> Just choose the style which is as close to your current style as possible,
> and then
>
> make as few changes to your .clang-format file as possible. Automatic
> tools will
>
> make your life much easier. Sometimes you will want to disable automatic
> formatting,
>
> and you can do that directly in the source code. You can make your editor
> automatically
>
> format the code, and you can add a git-hook to automatically format
> commits.
>
> ​
>
> Mika
>
>
>
> ------------------------------
> *From:* geos-devel <geos-devel-bounces at lists.osgeo.org> on behalf of
> Martin Davis <mtnclimb at gmail.com>
> *Sent:* Monday, September 10, 2018 21:24
> *To:* GEOS Development List
> *Subject:* Re: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
>
> My vote is the same as Vicky's - spaces, with indenting using multiples of
> 2.
>
> Reasons:
> - lots of religious discussion on the interweb about tabs vs spaces, but a
> quick read seems to indicate that the spaces camp is more popular
> - spaces are more deterministic than tabs
> - 2 rather than 4 gives more space for code
>
> Martin
>
>
> On Mon, Sep 10, 2018 at 9:45 AM Regina Obe <lr at pcorp.us> wrote:
>
>> As many know the GEOS code base is a mess of different formatting.
>> Particular with tabs and spaces.
>> Our .editorconfig is equally messy in the name of compromise.
>>
>> I'd like to make a Motion starting with GEOS 3.8 to reformat the .cpp, .h,
>> and .c
>>
>> I think the other extensions are pretty standard and should stay as they
>> are.
>>
>> That said, what would people prefer?
>>
>> I vote:
>>
>> TABS
>>
>>
>> Please all PSC and all developers who commit to GEOS voice an opinion.
>> We'll count the votes and go with the consensus with each vote counting
>> equally.
>> If any non-dev, non-PSC have an opinion, feel free to voice an opinion
>> keeping note we may not care about your opinion, but might possibly sway
>> ours :)
>>
>> Once done - pramsey or cvvergara or strk will do a 1000 pound commit to
>> update all these files (including the editorconfig)
>>
>> Thanks,
>> Regina
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/geos-devel
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel



-- 
--
http://schwehr.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180910/dd702b64/attachment.html>

From lr at pcorp.us  Mon Sep 10 12:50:37 2018
From: lr at pcorp.us (Regina Obe)
Date: Mon, 10 Sep 2018 15:50:37 -0400
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
 <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
Message-ID: <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>

Okay it appears I'm losing this game.

 

If we end up settling for spaces.  I'd like to request 4 spaces.  Cause with 2 spaces I'm too blind to see the space so it doesn't look indented at all..

 

From: geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] On Behalf Of Kurt Schwehr
Sent: Monday, September 10, 2018 3:39 PM
To: GEOS Development List <geos-devel at lists.osgeo.org>
Subject: Re: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote

 

+1 to 2 or 4 spaces via a standard clang-format style

 

I use multiple different editors/ides/code formatters and they all want to treat tabs differently :|

 

On Mon, Sep 10, 2018 at 11:57 AM Heiskanen Mika (FMI) <Mika.Heiskanen at fmi.fi <mailto:Mika.Heiskanen at fmi.fi> > wrote:

Hello,

 

Perhaps you should consider using automatic formatting tools such as clang-format?

Just choose the style which is as close to your current style as possible, and then

make as few changes to your .clang-format file as possible. Automatic tools will

make your life much easier. Sometimes you will want to disable automatic formatting,

and you can do that directly in the source code. You can make your editor automatically

format the code, and you can add a git-hook to automatically format commits.

​

Mika

 

 


  _____  


From: geos-devel <geos-devel-bounces at lists.osgeo.org <mailto:geos-devel-bounces at lists.osgeo.org> > on behalf of Martin Davis <mtnclimb at gmail.com <mailto:mtnclimb at gmail.com> >
Sent: Monday, September 10, 2018 21:24
To: GEOS Development List
Subject: Re: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote 

 

My vote is the same as Vicky's - spaces, with indenting using multiples of 2. 

 

Reasons:

- lots of religious discussion on the interweb about tabs vs spaces, but a quick read seems to indicate that the spaces camp is more popular

- spaces are more deterministic than tabs

- 2 rather than 4 gives more space for code

 

Martin

 

 

On Mon, Sep 10, 2018 at 9:45 AM Regina Obe <lr at pcorp.us <mailto:lr at pcorp.us> > wrote:

As many know the GEOS code base is a mess of different formatting.
Particular with tabs and spaces.
Our .editorconfig is equally messy in the name of compromise.

I'd like to make a Motion starting with GEOS 3.8 to reformat the .cpp, .h,
and .c

I think the other extensions are pretty standard and should stay as they
are.

That said, what would people prefer?

I vote:

TABS


Please all PSC and all developers who commit to GEOS voice an opinion.
We'll count the votes and go with the consensus with each vote counting
equally.
If any non-dev, non-PSC have an opinion, feel free to voice an opinion
keeping note we may not care about your opinion, but might possibly sway
ours :)

Once done - pramsey or cvvergara or strk will do a 1000 pound commit to
update all these files (including the editorconfig)

Thanks,
Regina

_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org <mailto:geos-devel at lists.osgeo.org> 
https://lists.osgeo.org/mailman/listinfo/geos-devel

_______________________________________________
geos-devel mailing list
geos-devel at lists.osgeo.org <mailto:geos-devel at lists.osgeo.org> 
https://lists.osgeo.org/mailman/listinfo/geos-devel




 

-- 

--

http://schwehr.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180910/2c2f8fac/attachment.html>

From pramsey at cleverelephant.ca  Mon Sep 10 13:15:25 2018
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Mon, 10 Sep 2018 13:15:25 -0700
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
 <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
 <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>
Message-ID: <CACowWR0CbJg68FA1QEw-Ohnymd4umxvP4xkw1=u2gd+chJOkpQ@mail.gmail.com>

Same. 2-spaces hurts my little brain.

On Mon, Sep 10, 2018 at 12:50 PM Regina Obe <lr at pcorp.us> wrote:

> Okay it appears I'm losing this game.
>
>
>
> If we end up settling for spaces.  I'd like to request 4 spaces.  Cause
> with 2 spaces I'm too blind to see the space so it doesn't look indented at
> all..
>
>
>
> *From:* geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] *On Behalf
> Of *Kurt Schwehr
> *Sent:* Monday, September 10, 2018 3:39 PM
> *To:* GEOS Development List <geos-devel at lists.osgeo.org>
> *Subject:* Re: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
>
>
>
> +1 to 2 or 4 spaces via a standard clang-format style
>
>
>
> I use multiple different editors/ides/code formatters and they all want to
> treat tabs differently :|
>
>
>
> On Mon, Sep 10, 2018 at 11:57 AM Heiskanen Mika (FMI) <
> Mika.Heiskanen at fmi.fi> wrote:
>
> Hello,
>
>
>
> Perhaps you should consider using automatic formatting tools such as
> clang-format?
>
> Just choose the style which is as close to your current style as possible,
> and then
>
> make as few changes to your .clang-format file as possible. Automatic
> tools will
>
> make your life much easier. Sometimes you will want to disable automatic
> formatting,
>
> and you can do that directly in the source code. You can make your editor
> automatically
>
> format the code, and you can add a git-hook to automatically format
> commits.
>
> ​
>
> Mika
>
>
>
>
> ------------------------------
>
> *From:* geos-devel <geos-devel-bounces at lists.osgeo.org> on behalf of
> Martin Davis <mtnclimb at gmail.com>
> *Sent:* Monday, September 10, 2018 21:24
> *To:* GEOS Development List
> *Subject:* Re: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
>
>
>
> My vote is the same as Vicky's - spaces, with indenting using multiples of
> 2.
>
>
>
> Reasons:
>
> - lots of religious discussion on the interweb about tabs vs spaces, but a
> quick read seems to indicate that the spaces camp is more popular
>
> - spaces are more deterministic than tabs
>
> - 2 rather than 4 gives more space for code
>
>
>
> Martin
>
>
>
>
>
> On Mon, Sep 10, 2018 at 9:45 AM Regina Obe <lr at pcorp.us> wrote:
>
> As many know the GEOS code base is a mess of different formatting.
> Particular with tabs and spaces.
> Our .editorconfig is equally messy in the name of compromise.
>
> I'd like to make a Motion starting with GEOS 3.8 to reformat the .cpp, .h,
> and .c
>
> I think the other extensions are pretty standard and should stay as they
> are.
>
> That said, what would people prefer?
>
> I vote:
>
> TABS
>
>
> Please all PSC and all developers who commit to GEOS voice an opinion.
> We'll count the votes and go with the consensus with each vote counting
> equally.
> If any non-dev, non-PSC have an opinion, feel free to voice an opinion
> keeping note we may not care about your opinion, but might possibly sway
> ours :)
>
> Once done - pramsey or cvvergara or strk will do a 1000 pound commit to
> update all these files (including the editorconfig)
>
> Thanks,
> Regina
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
>
>
>
>
> --
>
> --
>
> http://schwehr.org
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180910/8ae8e6bc/attachment-0001.html>

From lr at pcorp.us  Mon Sep 10 22:21:38 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 11 Sep 2018 01:21:38 -0400
Subject: [geos-devel] GEOS 3.7.0 is released
Message-ID: <001901d4498f$5140cfe0$f3c26fa0$@pcorp.us>

The GEOS development team is proud to finally release GEOS 3.7.0.
After many years of soul searching, we finally got out a release.
Note this is the first release to require a C++11 compiler to compile.

Source code can be downloaded from:
https://download.osgeo.org/geos/geos-3.7.0.tar.bz2

3.7.0 changes
2018-09-10
- New things:
  - CAPI: GEOSDistanceIndexed (#795, Dan Baston)
  - CAPI: GEOSCoordSeq_isCCW (#870, Dan Baston)
  - CAPI: GEOSGeom_getXMin, GEOSGeom_getXMax,
          GEOSGeom_getYMin, GEOSGeom_getYMax (#871, Dan Baston)
  - CAPI: GEOSFrechetDistance (#797, Shinichi SUGIYAMA)
  - CAPI: GEOSReverse (#872, Dan Baston)
  - CAPI: GEOSGeomGetZ (#581, J Smith)

- Improvements
  - Interruptible snap operation (Paul Ramsey)
  - Numerous packaging, doc, and build changes
    (Debian group: Bas Couwenberg, Francesco Paolo Lovergine)
    (NetBSD: Greg Troxel)
  - Allow static library with C API for CMake builds (#878, Dakota Hawkins)

- C++ API changes:
  - Require defining USE_UNSTABLE_GEOS_CPP_API for use without
    warnings.
  - Make C++11 required (Mateusz Loskot)
  - Use C++11 unique_ptr, nullptr, and override constructs
    (Mateusz Loskot)
  - C++11 standard delete on noncopyable
    (#851, Vicky Vergara)
  - Fix CommonBits::getBit to correctly handle i >= 32
    (#834, Kurt Schwehr)

Thanks,
GEOS Development Team


From strk at kbt.io  Tue Sep 11 04:44:49 2018
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 11 Sep 2018 13:44:49 +0200
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <CACowWR0CbJg68FA1QEw-Ohnymd4umxvP4xkw1=u2gd+chJOkpQ@mail.gmail.com>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
 <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
 <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>
 <CACowWR0CbJg68FA1QEw-Ohnymd4umxvP4xkw1=u2gd+chJOkpQ@mail.gmail.com>
Message-ID: <20180911114449.GA13754@liz>

On Mon, Sep 10, 2018 at 01:15:25PM -0700, Paul Ramsey wrote:
> Same. 2-spaces hurts my little brain.

I'm happy as long as you give me a recipe to make my editor
(vim) automatically use what we choose AND `make check`
ensures any future change stick with what was choosen.

Note I'd like to keep the 80 cols limit on line width which
with current naming can easily become close-to-impossible
with too many spaces. This also means if we use tabs we want
them to be rendered by a determined number of spaces, or it
would be impossible to determine the 80 cols limit ...

Go Vicky go !

--strk;

From howard at hobu.co  Tue Sep 11 06:27:13 2018
From: howard at hobu.co (Howard Butler)
Date: Tue, 11 Sep 2018 08:27:13 -0500
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <20180911114449.GA13754@liz>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
 <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
 <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>
 <CACowWR0CbJg68FA1QEw-Ohnymd4umxvP4xkw1=u2gd+chJOkpQ@mail.gmail.com>
 <20180911114449.GA13754@liz>
Message-ID: <bee563c7-bc7f-b0ab-592e-6a66f76c9874@hobu.co>



On 9/11/18 6:44 AM, Sandro Santilli wrote:
> On Mon, Sep 10, 2018 at 01:15:25PM -0700, Paul Ramsey wrote:
>> Same. 2-spaces hurts my little brain.
> I'm happy as long as you give me a recipe to make my editor
> (vim) automatically use what we choose AND `make check`
> ensures any future change stick with what was choosen.
>
> Note I'd like to keep the 80 cols limit on line width which
> with current naming can easily become close-to-impossible
> with too many spaces. This also means if we use tabs we want
> them to be rendered by a determined number of spaces, or it
> would be impossible to determine the 80 cols limit ...
>
> Go Vicky go !

I don't edit GEOS much these days, but I would caution that the
strictness in the formatting area further discourages contribution and
makes it so only insiders feel comfortable contributing. "A company
style" is a great thing when working on private projects. I fully
appreciate it, but I think that it's really difficult to do it in an
open source setting unless the gatekeepers are really diligent (Linux
kernel, etc) and the automated tools do much of the work instead of
throwing the style violations back in the face of contributors.

Those automated tools are going to create churn in the history no matter
what, and you're going to have a huge changeset where everything adjusts
to the new regime that prevents conveniently looking back in the history
previous to that. What problem does forcing developers to declare their
intention in this religious war actually solve for GEOS?

I think that GEOS' style is already quite consistent and doesn't need
editor enforcement and process around it. I mean, we already know it
looks, feels, and acts just like Java :P

Howard



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 528 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180911/913ee0fa/attachment.sig>

From dale.lutz at safe.com  Tue Sep 11 08:42:51 2018
From: dale.lutz at safe.com (Dale Lutz)
Date: Tue, 11 Sep 2018 08:42:51 -0700
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
Message-ID: <CANGtUwP-jptPaiMLfv24rp5jNQWwWHT5=H4XT5DbBNp7OVFFew@mail.gmail.com>

This crusty old timer has a deep preference for spaces.  I've looked at
enough code where the tab settings have been inconsistent and its very very
hard to recover.

We've also standardized on a clang format configuration here that seems to
work very well and the folks like.  That said, I think those here that
brokered the final configuration with the team are well prepped to take on
the NAFTA renegotiation as a hobby.  Code formatting is a religious issue.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180911/edfd3703/attachment.html>

From jef at norbit.de  Tue Sep 11 09:11:19 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 11 Sep 2018 18:11:19 +0200
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC  Vote
In-Reply-To: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
Message-ID: <20180911161119.u53gxcrw7ydc3cmq@norbit.de>

Hi Regina,

On Mon, 10. Sep 2018 at 12:45:37 -0400, Regina Obe wrote:
> If any non-dev, non-PSC have an opinion, feel free to voice an opinion
> keeping note we may not care about your opinion, but might possibly sway
> ours :)

There's only 1TBS. ;)

To me it's more important that the formatting is consistent than whether tabs
or any number of spaces are used.

In QGIS we use astyle in a client side pre-commit hook and have a test that
verifies that is has been run (ie. another run doesn't change anything and PRs
that fail it get sorted out).


Jürgen

-- 
Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180911/ba550c5f/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180911/ba550c5f/attachment.ksh>

From lr at pcorp.us  Tue Sep 11 09:36:02 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 11 Sep 2018 12:36:02 -0400
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <CANGtUwP-jptPaiMLfv24rp5jNQWwWHT5=H4XT5DbBNp7OVFFew@mail.gmail.com>
References: <CANGtUwP-jptPaiMLfv24rp5jNQWwWHT5=H4XT5DbBNp7OVFFew@mail.gmail.com>
Message-ID: <001801d449ed$880b8480$98228d80$@pcorp.us>

Are you in the 2 space camp or the 4 space camp.

 

I prefer tabs, but can live with 4 spaces.  2 spaces will be less bearable.

 

From: geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] On Behalf Of Dale Lutz
Sent: Tuesday, September 11, 2018 11:43 AM
To: GEOS Development List <geos-devel at lists.osgeo.org>
Subject: Re: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote

 

This crusty old timer has a deep preference for spaces.  I've looked at enough code where the tab settings have been inconsistent and its very very hard to recover.

 

We've also standardized on a clang format configuration here that seems to work very well and the folks like.  That said, I think those here that brokered the final configuration with the team are well prepped to take on the NAFTA renegotiation as a hobby.  Code formatting is a religious issue.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180911/c21915eb/attachment-0001.html>

From lr at pcorp.us  Tue Sep 11 09:46:06 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 11 Sep 2018 12:46:06 -0400
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <bee563c7-bc7f-b0ab-592e-6a66f76c9874@hobu.co>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
 <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
 <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>
 <CACowWR0CbJg68FA1QEw-Ohnymd4umxvP4xkw1=u2gd+chJOkpQ@mail.gmail.com>
 <20180911114449.GA13754@liz> <bee563c7-bc7f-b0ab-592e-6a66f76c9874@hobu.co>
Message-ID: <001d01d449ee$f00bdb60$d0239220$@pcorp.us>

> 
> I think that GEOS' style is already quite consistent and doesn't need editor
> enforcement and process around it. I mean, we already know it looks, feels,
> and acts just like Java :P
> 
> Howard
> 
> 
[Regina Obe] Well it annoys me and I think others as well.  One option is to codify what we are largely doing which is tabs :), 

But I did come across a file, I forget which one it was, and when I tried to edit it, editorconfig did its job of putting in tabs,
But the page was formatted with spaces so the mess of spaces and tabs was very distracting.

But it seems people would prefer to go against the grain of the code and use spaces.

As much as I hate conformity, I think we need it here if we are all to keep some level of sanity.  The more people you add, the more annoying inconsistency becomes.
 I'm even willing to go for 2 spaces, if the consistency can be made.

Please don't use a trite idiom like "Consistency is the hobgoblin of little minds", I admit to being a little mind is this case already :)


So seems Space is the winner, but how many spaces 2 or 4?






From lr at pcorp.us  Tue Sep 11 10:42:36 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 11 Sep 2018 13:42:36 -0400
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <bee563c7-bc7f-b0ab-592e-6a66f76c9874@hobu.co>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
 <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
 <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>
 <CACowWR0CbJg68FA1QEw-Ohnymd4umxvP4xkw1=u2gd+chJOkpQ@mail.gmail.com>
 <20180911114449.GA13754@liz> <bee563c7-bc7f-b0ab-592e-6a66f76c9874@hobu.co>
Message-ID: <000201d449f6$d49d2d40$7dd787c0$@pcorp.us>

> On 9/11/18 6:44 AM, Sandro Santilli wrote:
> > On Mon, Sep 10, 2018 at 01:15:25PM -0700, Paul Ramsey wrote:
> >> Same. 2-spaces hurts my little brain.
> > I'm happy as long as you give me a recipe to make my editor
> > (vim) automatically use what we choose AND `make check` ensures any
> > future change stick with what was choosen.
> >
> > Note I'd like to keep the 80 cols limit on line width which with
> > current naming can easily become close-to-impossible with too many
> > spaces. This also means if we use tabs we want them to be rendered by
> > a determined number of spaces, or it would be impossible to determine
> > the 80 cols limit ...
> >
> > Go Vicky go !
> 

How is this for a  compromise?

1) We got with 4 spaces
2) 120 cols
3) Get strk a new monitor and also rescue him from his cave.
4) Vicky makes the commit since she wanted spaces and sets editor config accordingly.

This would apply to files - .h, .cpp, .c, .inl, .in (that are ins for C and C++), .vc (should be windows linebreak I believe though not sure it much matters these days)

Thanks,
Regina




From mtnclimb at gmail.com  Tue Sep 11 10:45:48 2018
From: mtnclimb at gmail.com (Martin Davis)
Date: Tue, 11 Sep 2018 10:45:48 -0700
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
In-Reply-To: <000201d449f6$d49d2d40$7dd787c0$@pcorp.us>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <CAK2ens2RLt=KaB7pmL3hkVPtM2jMBX62-Ma7rvyAmbj4PqQcMg@mail.gmail.com>
 <1536605825538.51276@fmi.fi>
 <CACmBxyvVxiRQ7XsBkwHKSSdTH3xhJMfMNHEibHahajUb0=tVcQ@mail.gmail.com>
 <002c01d4493f$8c4caeb0$a4e60c10$@pcorp.us>
 <CACowWR0CbJg68FA1QEw-Ohnymd4umxvP4xkw1=u2gd+chJOkpQ@mail.gmail.com>
 <20180911114449.GA13754@liz> <bee563c7-bc7f-b0ab-592e-6a66f76c9874@hobu.co>
 <000201d449f6$d49d2d40$7dd787c0$@pcorp.us>
Message-ID: <CAK2ens2ge4J2BNN8a_4HPm3OxwZSc8pynqW6Qg6AyDZ6nsCCCw@mail.gmail.com>

Sounds like a good plan to me.

On Tue, Sep 11, 2018 at 10:42 AM Regina Obe <lr at pcorp.us> wrote:

> > On 9/11/18 6:44 AM, Sandro Santilli wrote:
> > > On Mon, Sep 10, 2018 at 01:15:25PM -0700, Paul Ramsey wrote:
> > >> Same. 2-spaces hurts my little brain.
> > > I'm happy as long as you give me a recipe to make my editor
> > > (vim) automatically use what we choose AND `make check` ensures any
> > > future change stick with what was choosen.
> > >
> > > Note I'd like to keep the 80 cols limit on line width which with
> > > current naming can easily become close-to-impossible with too many
> > > spaces. This also means if we use tabs we want them to be rendered by
> > > a determined number of spaces, or it would be impossible to determine
> > > the 80 cols limit ...
> > >
> > > Go Vicky go !
> >
>
> How is this for a  compromise?
>
> 1) We got with 4 spaces
> 2) 120 cols
> 3) Get strk a new monitor and also rescue him from his cave.
> 4) Vicky makes the commit since she wanted spaces and sets editor config
> accordingly.
>
> This would apply to files - .h, .cpp, .c, .inl, .in (that are ins for C
> and C++), .vc (should be windows linebreak I believe though not sure it
> much matters these days)
>
> Thanks,
> Regina
>
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180911/9237168f/attachment.html>

From strk at kbt.io  Tue Sep 11 14:39:35 2018
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 11 Sep 2018 23:39:35 +0200
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC  Vote
In-Reply-To: <20180911161119.u53gxcrw7ydc3cmq@norbit.de>
References: <000001d44925$b3f766e0$1be634a0$@pcorp.us>
 <20180911161119.u53gxcrw7ydc3cmq@norbit.de>
Message-ID: <20180911213935.GA23972@liz>

On Tue, Sep 11, 2018 at 06:11:19PM +0200, Jürgen E. Fischer wrote:
> Hi Regina,
> 
> On Mon, 10. Sep 2018 at 12:45:37 -0400, Regina Obe wrote:
> > If any non-dev, non-PSC have an opinion, feel free to voice an opinion
> > keeping note we may not care about your opinion, but might possibly sway
> > ours :)
> 
> There's only 1TBS. ;)
> 
> To me it's more important that the formatting is consistent than whether tabs
> or any number of spaces are used.
> 
> In QGIS we use astyle in a client side pre-commit hook and have a test that
> verifies that is has been run (ie. another run doesn't change anything and PRs
> that fail it get sorted out).

I often cite QGIS for that, it is an effective way to keep the
style conformant. Only problem, when I tried it on PostGIS, was
that astyle was in C++, we don't have such problem here.

--strk;

From lr at pcorp.us  Tue Sep 11 15:54:09 2018
From: lr at pcorp.us (Regina Obe)
Date: Tue, 11 Sep 2018 18:54:09 -0400
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote -
	MOTION PASSED 4 spaces
Message-ID: <000b01d44a22$5a895480$0f9bfd80$@pcorp.us>

Didn't hear any screaming or objections - so proclaiming MOTION PASSED 
Vicky want to go ahead with your change?  Remember one big gorilla commit :)

> -----Original Message-----
> From: Regina Obe [mailto:lr at pcorp.us]
> Sent: Tuesday, September 11, 2018 1:43 PM
> To: 'GEOS Development List' <geos-devel at lists.osgeo.org>
> Subject: RE: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
> 
> > On 9/11/18 6:44 AM, Sandro Santilli wrote:
> > > On Mon, Sep 10, 2018 at 01:15:25PM -0700, Paul Ramsey wrote:
> > >> Same. 2-spaces hurts my little brain.
> > > I'm happy as long as you give me a recipe to make my editor
> > > (vim) automatically use what we choose AND `make check` ensures any
> > > future change stick with what was choosen.
> > >
> > > Note I'd like to keep the 80 cols limit on line width which with
> > > current naming can easily become close-to-impossible with too many
> > > spaces. This also means if we use tabs we want them to be rendered
> > > by a determined number of spaces, or it would be impossible to
> > > determine the 80 cols limit ...
> > >
> > > Go Vicky go !
> >
> 
> How is this for a  compromise?
> 
> 1) We got with 4 spaces
> 2) 120 cols
> 3) Get strk a new monitor and also rescue him from his cave.
> 4) Vicky makes the commit since she wanted spaces and sets editor config
> accordingly.
> 
> This would apply to files - .h, .cpp, .c, .inl, .in (that are ins for C and C++), .vc
> (should be windows linebreak I believe though not sure it much matters these
> days)
> 
> Thanks,
> Regina
> 



From pramsey at cleverelephant.ca  Thu Sep 13 09:47:33 2018
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Thu, 13 Sep 2018 09:47:33 -0700
Subject: [geos-devel] svn-3.7
Message-ID: <CACowWR3bimN9x8pdqPwyfEaA_JswBSm0xrF5H7zGtX5J85uHzw@mail.gmail.com>

I see 3.7.0 is cut and on the web site but don't see a svn-3.7 branch in
git as yet to match up to the other stable branches. Oversight?

P
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180913/f34710a9/attachment.html>

From lr at pcorp.us  Thu Sep 13 09:51:02 2018
From: lr at pcorp.us (Regina Obe)
Date: Thu, 13 Sep 2018 12:51:02 -0400
Subject: [geos-devel] svn-3.7
In-Reply-To: <CACowWR3bimN9x8pdqPwyfEaA_JswBSm0xrF5H7zGtX5J85uHzw@mail.gmail.com>
References: <CACowWR3bimN9x8pdqPwyfEaA_JswBSm0xrF5H7zGtX5J85uHzw@mail.gmail.com>
Message-ID: <000701d44b81$f4e94660$debbd320$@pcorp.us>

It's just called 3.7 now :) - https://git.osgeo.org/gitea/geos/geos/src/branch/3.7

3.7 is the first release not to be on svn.

 

 

 

From: geos-devel [mailto:geos-devel-bounces at lists.osgeo.org] On Behalf Of Paul Ramsey
Sent: Thursday, September 13, 2018 12:48 PM
To: GEOS Development List <geos-devel at lists.osgeo.org>
Subject: [geos-devel] svn-3.7

 

I see 3.7.0 is cut and on the web site but don't see a svn-3.7 branch in git as yet to match up to the other stable branches. Oversight?

P

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180913/45713454/attachment.html>

From geos-trac at osgeo.org  Fri Sep 14 02:23:15 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 14 Sep 2018 09:23:15 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
Message-ID: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+--------------------------
 Reporter:  Algunenano   |      Owner:  geos-devel@…
     Type:  defect       |     Status:  new
 Priority:  major        |  Milestone:  3.7.0
Component:  Default      |    Version:  master
 Severity:  Significant  |   Keywords:
-------------------------+--------------------------
 Small repro test: `geos_leak.c` (attached)

 Leak (full log in `leak_summary.log`):
 {{{
 $ clang -fsanitize=address geos_leak.c -lgeos_c -L/usr/lib
 -I/usr/include/geos
 $ ./a.out

 =================================================================
 ==15579==ERROR: LeakSanitizer: detected memory leaks

 Indirect leak of 88 byte(s) in 1 object(s) allocated from:
     #0 0x563c03fb26a1 in __interceptor_malloc
 (/home/raul/dev/public/postgis/a.out+0xe66a1)
     #1 0x7fdddba9e5fc in operator new(unsigned long)
 /build/gcc/src/gcc/libstdc++-v3/libsupc++/new_op.cc:50:40
     #2 0x7fdddbcaa3e2 in
 geos::noding::GeometryNoder::extractSegmentStrings(geos::geom::Geometry
 const&, std::vector<geos::noding::SegmentString*,
 std::allocator<geos::noding::SegmentString*> >&)
 /usr/src/debug/geos/src/noding/GeometryNoder.cpp:157:12
     #3 0x7fdddbcaa88b in geos::noding::GeometryNoder::getNoded()
 /usr/src/debug/geos/src/noding/GeometryNoder.cpp:123:24
     #4 0x7fdddbcaaa55 in
 geos::noding::GeometryNoder::node(geos::geom::Geometry const&)
 /usr/src/debug/geos/src/noding/GeometryNoder.cpp:80:25
     #5 0x7fdddc10f497 in GEOSNode_r
 /usr/src/debug/geos/capi/geos_ts_c.cpp:2450:76
     #6 0x563c03fe6a75 in main
 (/home/raul/dev/public/postgis/a.out+0x11aa75)
     #7 0x7fdddbd7f222 in __libc_start_main (/usr/lib/libc.so.6+0x24222)

 ...

 SUMMARY: AddressSanitizer: 360 byte(s) leaked in 8 allocation(s).

 }}}

 The issue wasn't there in rc1 (`geos-git-3.7.0rc1.r9.g1be02b36` building
 from git) but it is there with current master/HEAD (`geos-
 git-3.7.0rc1.r21.gbe8b3ffb`).

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 14 02:24:11 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 14 Sep 2018 09:24:11 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.cec89c9a99128e967077f3446bed318f@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by Algunenano):

 * Attachment "geos_leak.c" added.

 C test case

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 14 02:24:26 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 14 Sep 2018 09:24:26 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.27d62958e6280f8014252840b8fded2e@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by Algunenano):

 * Attachment "leak_summary.log" added.

 Leak summary

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 14 02:39:57 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 14 Sep 2018 09:39:57 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.2cdaf7caeed4001b9ebd1ae5c2b2e0fd@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by Algunenano):

 The issue was introduced in
 https://github.com/libgeos/geos/commit/e7adbc55a20633064d3af49f2662b17e5ca02e47

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 16 07:14:02 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 16 Sep 2018 14:14:02 -0000
Subject: [geos-devel] [GEOS] #924: geometries returned by getGeometryN()
 should have the same SRID as collection
Message-ID: <047.1d12098bd6334a193b9795963625b83f@osgeo.org>

#924: geometries returned by getGeometryN() should have the same SRID as
collection
-------------------------+--------------------------
 Reporter:  sirsigurd    |      Owner:  geos-devel@…
     Type:  enhancement  |     Status:  new
 Priority:  major        |  Milestone:
Component:  Default      |    Version:  master
 Severity:  Unassigned   |   Keywords:
-------------------------+--------------------------
 Currently geometries returned by getGeometryN() always have SRID=0,
 because SRID is dropped for elements during geometry collection
 construction since r3840. I think it would be more correct if collection
 components have the same SRID as collection.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/924>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 16 07:16:15 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 16 Sep 2018 14:16:15 -0000
Subject: [geos-devel] [GEOS] #924: geometries returned by getGeometryN()
 should have the same SRID as collection
In-Reply-To: <047.1d12098bd6334a193b9795963625b83f@osgeo.org>
References: <047.1d12098bd6334a193b9795963625b83f@osgeo.org>
Message-ID: <062.10571cf27eff466737b9152ad35720c7@osgeo.org>

#924: geometries returned by getGeometryN() should have the same SRID as
collection
-------------------------+---------------------------
 Reporter:  sirsigurd    |       Owner:  geos-devel@…
     Type:  enhancement  |      Status:  new
 Priority:  major        |   Milestone:
Component:  Default      |     Version:  master
 Severity:  Unassigned   |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by sirsigurd):

 * cc: sirsigurd (added)


Comment:

 [https://github.com/libgeos/geos/pull/120 PR]

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/924#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Sep 18 11:37:50 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 18 Sep 2018 18:37:50 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.651ddd1983ee62eecd14736b2993f8bb@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 I am trying to reproduce the problem.
 - I had to install clang (I did not have it on my computer
 - build:
 {{{
 mkdir bild
 cd build
 cmake ..
 make -j 2 && ctest --output-on-failure
 }}}
 - the tests results
 {{{
 [100%] Built target test_geos_unit
 Test project /home/vicky/potree/geos/vicky/build
     Start 1: test_geos_unit
 1/8 Test #1: test_geos_unit ...................   Passed    0.38 sec
     Start 2: test_xmltester
 2/8 Test #2: test_xmltester ...................   Passed   11.53 sec
     Start 3: test_bug234
 3/8 Test #3: test_bug234 ......................   Passed    0.00 sec
     Start 4: test_sweep_line_speed
 4/8 Test #4: test_sweep_line_speed ............   Passed    1.97 sec
     Start 5: perf_class_sizes
 5/8 Test #5: perf_class_sizes .................   Passed    0.00 sec
     Start 6: perf_iterated_buffer
 6/8 Test #6: perf_iterated_buffer .............   Passed   12.28 sec
     Start 7: perf_rectangle_intersects
 7/8 Test #7: perf_rectangle_intersects ........   Passed    0.63 sec
     Start 8: perf_memleak_mp_prep
 8/8 Test #8: perf_memleak_mp_prep .............   Passed   11.49 sec

 100% tests passed, 0 tests failed out of 8

 Total Test time (real) =  38.29 sec
 }}}

 - doing the install:
 {{{
 sudo make install
 sudo updatedb
 }}}
 - finnaly I could execute:
 {{{
 $ clang -fsanitize=address geos_leak.c -lgeos_c -L/usr/lib
 -I/usr/include/geos
 $ ./a.out
 ./a.out: error while loading shared libraries: libgeos.so.3.8.0dev: cannot
 open shared object file: No such file or directory
 }}}
 What am I missing?

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Sep 18 13:54:06 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 18 Sep 2018 20:54:06 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.864e180bce58177732de5aa34f02b9f6@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by Algunenano):

 You need to change the paths for your local environment (`-L/usr/lib
 -I/usr/include/geos` to, I guess, `-L. -I./include` or maybe
 `-L/usr/local/lib -I/usr/include/geos`).

 If you need it I could try to setup the dev environment tomorrow and
 create an step by step guide from there.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Sep 18 13:56:42 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 18 Sep 2018 20:56:42 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.3e8c87d6466536a1ca0866a95bb24784@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by dbaston):

 You should also be able to see the same leak when compiling with gcc using
 the standard flags, by running the test executable through valgrind,

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Sep 18 15:18:05 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 18 Sep 2018 22:18:05 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.b60a5060d1777832ebefe2ad4abb5405@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 So, I am testing on the commit that merged to master: building with gcc

 `git checkout -b test-try2 8a9600bb2e617c788fdcdad8eb9e9045925bbd23`

 cleaned the build, and testing this
 {{{
 $ clang -fsanitize=address geos_leak.c -lgeos_c
 -L/home/vicky/geos/vicky/build/lib -I/home/vicky/geos/vicky/build/include
 -I /home/vicky/geos/vicky/include
 geos_leak.c:1:10: fatal error:
 '/home/vicky/geos/vicky/build/capi/geos_c.h' file not found
 #include "/home/vicky/geos/vicky/build/capi/geos_c.h"
          ^
 1 error generated.

 }}}
 As you can see I adjusted to what is being build.

 Building again.

 Here, the missing file has being created, but not the libraries (they are
 on the process of building)

 {{{
 clang -fsanitize=address geos_leak.c -lgeos_c
 -L/home/vicky/geos/vicky/build/lib -I/home/vicky/geos/vicky/build/include
 -I /home/vicky/geos/vicky/include
 /usr/bin/ld: cannot find -lgeos_c
 clang: error: linker command failed with exit code 1 (use -v to see
 invocation)
 }}}

 So far so good (I think)

 {{{
 $clang -fsanitize=address geos_leak.c -lgeos_c
 -L/home/vicky/geos/vicky/build/lib -I/home/vicky/geos/vicky/build/include
 -I /home/vicky/geos/vicky/include
 $ ./a.out
 $
 }}}

 this didnt reproduce the problem

 Now I am doing with valgrind:
 {{{
 $ gcc  geos_leak.c -lgeos_c -L/home/vicky/geos/vicky/build/lib
 -I/home/vicky/geos/vicky/build/include -I /home/vicky/geos/vicky/include
 $ valgrind --leak-check=yes ./a.out
 ==761== Memcheck, a memory error detector
 ==761== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
 ==761== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info
 ==761== Command: ./a.out
 ==761==
 ==761==
 ==761== HEAP SUMMARY:
 ==761==     in use at exit: 73,848 bytes in 4 blocks
 ==761==   total heap usage: 65 allocs, 61 frees, 81,840 bytes allocated
 ==761==
 ==761== LEAK SUMMARY:
 ==761==    definitely lost: 0 bytes in 0 blocks
 ==761==    indirectly lost: 0 bytes in 0 blocks
 ==761==      possibly lost: 0 bytes in 0 blocks
 ==761==    still reachable: 73,848 bytes in 4 blocks
 ==761==         suppressed: 0 bytes in 0 blocks
 ==761== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==761== To see them, rerun with: --leak-check=full --show-leak-kinds=all
 ==761==
 ==761== For counts of detected and suppressed errors, rerun with: -v
 ==761== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Sep 18 15:30:12 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 18 Sep 2018 22:30:12 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.129b5549ecd02f58466c6d573db16375@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 Doing the same but with

 {{{
 git checkout -b three-weeks-ago 1be02b3644672ac97842bfa2ad4cb2810696dc75
 }}}

 with clang
 {{{
 $clang -fsanitize=address geos_leak.c -lgeos_c
 -L/home/vicky/geos/vicky/build/lib -I/home/vicky/geos/vicky/build/include
 -I /home/vicky/geos/vicky/include
 $ ./a.out
 $
 }}}


 using vlagrind
 {{{
 $ gcc  geos_leak.c -lgeos_c -L/home/vicky/geos/vicky/build/lib
 -I/home/vicky/geos/vicky/build/include -I /home/vicky/geos/vicky/include
 $ valgrind --leak-check=yes  ./a.out
 ==6163== Memcheck, a memory error detector
 ==6163== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
 ==6163== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright
 info
 ==6163== Command: ./a.out
 ==6163==
 ==6163==
 ==6163== HEAP SUMMARY:
 ==6163==     in use at exit: 73,848 bytes in 4 blocks
 ==6163==   total heap usage: 65 allocs, 61 frees, 81,840 bytes allocated
 ==6163==
 ==6163== LEAK SUMMARY:
 ==6163==    definitely lost: 0 bytes in 0 blocks
 ==6163==    indirectly lost: 0 bytes in 0 blocks
 ==6163==      possibly lost: 0 bytes in 0 blocks
 ==6163==    still reachable: 73,848 bytes in 4 blocks
 ==6163==         suppressed: 0 bytes in 0 blocks
 ==6163== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==6163== To see them, rerun with: --leak-check=full --show-leak-kinds=all
 ==6163==
 ==6163== For counts of detected and suppressed errors, rerun with: -v
 ==6163== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
 }}}

 The output looks the same to me for both commits on the commit history.

 Maybe I am doing something wrong, I cant reproduce the problem.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:6>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Sep 18 15:50:12 2018
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 18 Sep 2018 22:50:12 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.441ef2e8192db59ca7140ec7bbd22105@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 mentioned in the issue
 `geos-git-3.7.0rc1.r21.gbe8b3ffb`

 I am getting this:

 So I am trying to checkout that number as git commit
 {{{
 git checkout -b the-one-mentioned gbe8b3ffb
 fatal: Cannot update paths and switch to branch 'the-one-mentioned' at the
 same time.
 Did you intend to checkout 'gbe8b3ffb' which can not be resolved as
 commit?
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:7>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at kbt.io  Wed Sep 19 01:47:52 2018
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 19 Sep 2018 10:47:52 +0200
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
Message-ID: <20180919084752.GB28096@liz>

On Tue, Sep 18, 2018 at 10:50:12PM -0000, cvvergara wrote:

>  Did you intend to checkout 'gbe8b3ffb' which can not be resolved as

You have to drop the initial "g" (higher hex digit is "f").
For some reason git-describe adds that "g" prefix...

--strk;

From geos-trac at osgeo.org  Wed Sep 19 02:04:02 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 19 Sep 2018 09:04:02 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.05e61e090f872a96068c4593934d71d1@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by Algunenano):

 > So I am trying to checkout that number as git commit

 It comes from calling `git describe --long --tags` in what was at that
 moment the current master/HEAD:
 {{{
 $ git checkout be8b3ffb4532c5302e004a400bf0069493df7302
 Previous HEAD position was 642744e5 Fix typos in getGeometryN() docs.
 HEAD is now at be8b3ffb Merge branch 'fix-shadow4.8' of cvvergara/geos
 into master
 $ git describe --long --tags
 3.7.0rc1-21-gbe8b3ffb
 }}}

 To be honest, I'm not sure how `gbe8b3ffb` relates to the commit.



 Here is a step by step guide to reproduce the issue:

 - Checkout commit before the one responsible (`^` means commit before this
 one):
 {{{
 git checkout e7adbc55a20633064d3af49f2662b17e5ca02e47^
 }}}

 - Build the library (set up flags as needed):
 {{{
 ./autogen.sh
 ./configure
 make
 }}}

 - Build the test file (I placed it in the same folder as the library
 (`~/dev/public/geos`):
 {{{
 clang -fsanitize=address geos_leak.c -lgeos_c -L./capi/.libs -L./src/.libs
 -Iinclude/geos
 }}}

 - Run forcing the use of the local built library:
 {{{
 LD_LIBRARY_PATH=./capi/.libs:./src/.libs ./a.out
 (no output)
 }}}

 - Switch to the offending commit:
 {{{
 git checkout e7adbc55a20633064d3af49f2662b17e5ca02e47
 }}}

 - Rebuild the library:
 {{{
 make
 }}}

 - Run the test binary using the newly compiled library (There is no need
 to recompile it since it was linked dynamically):
 {{{
 LD_LIBRARY_PATH=./capi/.libs:./src/.libs ./a.out

 =================================================================
 ==14385==ERROR: LeakSanitizer: detected memory leaks

 Indirect leak of 88 byte(s) in 1 object(s) allocated from:
     #0 0x55d4cca326a1 in __interceptor_malloc
 (/home/raul/dev/public/geos/a.out+0xe66a1)
     #1 0x7f9d7c33a5fc in operator new(unsigned long)
 /build/gcc/src/gcc/libstdc++-v3/libsupc++/new_op.cc:50:40
     #2 0x7f9d7c5463a2 in
 geos::noding::GeometryNoder::extractSegmentStrings(geos::geom::Geometry
 const&, std::vector<geos::noding::SegmentString*,
 std::allocator<geos::noding::SegmentString*> >&)
 /home/raul/dev/public/geos/src/noding/GeometryNoder.cpp:157:12
     #3 0x7f9d7c54684b in geos::noding::GeometryNoder::getNoded()
 /home/raul
 }}}


 You can also avoid `clang` and instead build the test file normally and
 use valgrind:
 {{{
 gcc geos_leak.c -lgeos_c -L./capi/.libs -L./src/.libs -Iinclude/geos
 }}}

 Valgrind with the last good commit:
 {{{
 $ LD_LIBRARY_PATH=./capi/.libs:./src/.libs valgrind ./a.out
 ==24076== Memcheck, a memory error detector
 ==24076== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
 ==24076== Using Valgrind-3.14.0.GIT and LibVEX; rerun with -h for
 copyright info
 ==24076== Command: ./a.out
 ==24076==
 ==24076==
 ==24076== HEAP SUMMARY:
 ==24076==     in use at exit: 1,152 bytes in 3 blocks
 ==24076==   total heap usage: 65 allocs, 62 frees, 81,848 bytes allocated
 ==24076==
 ==24076== LEAK SUMMARY:
 ==24076==    definitely lost: 0 bytes in 0 blocks
 ==24076==    indirectly lost: 0 bytes in 0 blocks
 ==24076==      possibly lost: 0 bytes in 0 blocks
 ==24076==    still reachable: 1,152 bytes in 3 blocks
 ==24076==         suppressed: 0 bytes in 0 blocks
 ==24076== Rerun with --leak-check=full to see details of leaked memory
 ==24076==
 ==24076== For counts of detected and suppressed errors, rerun with: -v
 ==24076== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
 }}}

 Valgrind with the last valid commit:
 {{{
 $ LD_LIBRARY_PATH=./capi/.libs:./src/.libs valgrind --leak-check=full
 ./a.out
 ==8512== Memcheck, a memory error detector
 ==8512== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
 ==8512== Using Valgrind-3.14.0.GIT and LibVEX; rerun with -h for copyright
 info
 ==8512== Command: ./a.out
 ==8512==
 ==8512==
 ==8512== HEAP SUMMARY:
 ==8512==     in use at exit: 1,512 bytes in 11 blocks
 ==8512==   total heap usage: 65 allocs, 54 frees, 81,848 bytes allocated
 ==8512==
 ==8512== 360 (88 direct, 272 indirect) bytes in 1 blocks are definitely
 lost in loss record 10 of 11
 ==8512==    at 0x4837DEF: operator new(unsigned long)
 (vg_replace_malloc.c:334)
 ==8512==    by 0x4B854E3: geos::noding::(anonymous
 namespace)::SegmentStringExtractor::filter_ro(geos::geom::Geometry const*)
 (GeometryNoder.cpp:61)
 ==8512==    by 0x4B853A2:
 geos::noding::GeometryNoder::extractSegmentStrings(geos::geom::Geometry
 const&, std::vector<geos::noding::SegmentString*,
 std::allocator<geos::noding::SegmentString*> >&) (GeometryNoder.cpp:157)
 ==8512==    by 0x4B8584B: geos::noding::GeometryNoder::getNoded()
 (GeometryNoder.cpp:123)
 ==8512==    by 0x4B85A15:
 geos::noding::GeometryNoder::node(geos::geom::Geometry const&)
 (GeometryNoder.cpp:80)
 ==8512==    by 0x4865497: GEOSNode_r (geos_ts_c.cpp:2450)
 ==8512==    by 0x1092F0: main (in /home/raul/dev/public/geos/a.out)
 ==8512==
 ==8512== LEAK SUMMARY:
 ==8512==    definitely lost: 88 bytes in 1 blocks
 ==8512==    indirectly lost: 272 bytes in 7 blocks
 ==8512==      possibly lost: 0 bytes in 0 blocks
 ==8512==    still reachable: 1,152 bytes in 3 blocks
 ==8512==         suppressed: 0 bytes in 0 blocks
 ==8512== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==8512== To see them, rerun with: --leak-check=full --show-leak-kinds=all
 ==8512==
 ==8512== For counts of detected and suppressed errors, rerun with: -v
 ==8512== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
 }}}

 Hope this is useful. Let me know if you need any help.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:8>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Sep 19 02:17:06 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 19 Sep 2018 09:17:06 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.b574fab34a1050412d0d4a821f79db5e@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by strk):

 Just drop the "g" suffix.
 Commit is be8b3ffb or in full:

 be8b3ffb4532c5302e004a400bf0069493df7302

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:9>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Sep 19 08:01:14 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 19 Sep 2018 15:01:14 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.b68d89e88e94b41d218695d77fb3324a@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.7.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 @strk
 Can you verify this:

 From what I see:

 The commits of the tag:
 https://github.com/libgeos/geos/releases/tag/3.7.0

 are listed here:
 https://github.com/libgeos/geos/commits/673b993976709d2f72c35c4886327d6f2752fe48

 As you can see there is no commit (from me) involving the shadows on 3.7.0

 I made sure when merging to master that it was done after master was
 changed to 3.8

 On:
 https://git.osgeo.org/gitea/geos/geos/pulls/44

 cvvergara merged 1 commits from cvvergara/geos:fix-shadow into master 2
 weeks ago.

 The history of commits on master shows that the shadow PR was merged after
 the commit labeled:  "Flip master to 3.8 development" that was done one
 month ago.
 https://git.osgeo.org/gitea/geos/geos/commits/branch/master


 So, if something is wrong because of the shadows "fixes", then my
 conclusion is that the milestone for this issue is for 3.8.0-dev not for
 3.7.0

 @Algunenano
 Can you please test if the problem happens on that commit on the following
 commit: 673b993976709d2f72c35c4886327d6f2752fe48
 (on the mean time I will try to understand your process)

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:10>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Sep 19 08:25:14 2018
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 19 Sep 2018 15:25:14 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.f8ec11e78bc2987e68b58d603f040a63@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------
Changes (by Algunenano):

 * milestone:  3.7.0 => 3.8.0


Comment:

 > So, if something is wrong because of the shadows "fixes", then my
 conclusion is that the milestone for this issue is for 3.8.0-dev not for
 3.7.0

 Yes, this does not affect 3.7.0. My bad, I'll change the milestone.

 > @Algunenano Can you please test if the problem happens on the following
 commit: 673b993976709d2f72c35c4886327d6f2752fe48 (on the mean time I will
 try to understand your process)

 No it doesn't. It only affects master from
 e7adbc55a20633064d3af49f2662b17e5ca02e47 and after.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:11>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Sep 19 17:05:38 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 20 Sep 2018 00:05:38 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.1051d495be7bd663568676d03bfcc6ae@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 I am making a valgrind memory leak test on tag 3.7.0, I am including the
 test file submitted by @algunenano

 {{{
 $ git checkout 3.7.0
 M       .editorconfig
 M       CMakeLists.txt
 M       tests/CMakeLists.txt
 A       tests/issue923/CMakeLists.txt
 A       tests/issue923/Makefile.am
 A       tests/issue923/geos_leak.c
 Note: checking out '3.7.0'.

 You are in 'detached HEAD' state. You can look around, make experimental
 changes and commit them, and you can discard any commits you make in this
 state without impacting any branches by performing another checkout.

 If you want to create a new branch to retain commits you create, you may
 do so (now or later) by using -b with the checkout command again. Example:

   git checkout -b <new-branch-name>

 HEAD is now at 673b993... Prepare for 3.7.0 release
 $ make -j 2 && time ctest -T memcheck
 [  0%] Built target geos_revision
 [ 38%] Built target geos
 [ 39%] Built target geos_c
 [ 41%] Built target test_xmltester
 [ 80%] Built target geos-static
 [ 80%] Built target test_simplewkttester
 [ 80%] Built target test_sweep_line_speed
 [ 80%] Built target perf_class_sizes
 [ 80%] Built target test_bug234
 [ 81%] Built target perf_iterated_buffer
 [ 81%] Built target perf_rectangle_intersects
 [ 81%] Built target perf_memleak_mp_prep
 [ 81%] Built target perf_geos_leak
 [100%] Built target test_geos_unit
    Site: vicky-desktop
    Build name: Linux-c++
 Memory check project /home/vicky/geos/vicky/build
     Start 1: test_geos_unit
 1/9 MemCheck #1: test_geos_unit ...................   Passed   27.61 sec
     Start 2: test_xmltester
 2/9 MemCheck #2: test_xmltester ...................   Passed  393.84 sec
     Start 3: test_bug234
 3/9 MemCheck #3: test_bug234 ......................   Passed    1.55 sec
     Start 4: test_sweep_line_speed
 4/9 MemCheck #4: test_sweep_line_speed ............   Passed   50.89 sec
     Start 5: perf_class_sizes
 5/9 MemCheck #5: perf_class_sizes .................   Passed    0.51 sec
     Start 6: perf_iterated_buffer
 6/9 MemCheck #6: perf_iterated_buffer .............   Passed  720.40 sec
     Start 7: perf_rectangle_intersects
 7/9 MemCheck #7: perf_rectangle_intersects ........   Passed   20.56 sec
     Start 8: perf_memleak_mp_prep
 8/9 MemCheck #8: perf_memleak_mp_prep .............   Passed  600.99 sec
     Start 9: perf_geos_leak
 9/9 MemCheck #9: perf_geos_leak ...................   Passed    1.00 sec

 100% tests passed, 0 tests failed out of 9

 Total Test time (real) = 1817.34 sec
 -- Processing memory checking output: ########
 Memory checking results:
 Memory Leak - 69
 Potential Memory Leak - 23

 real    30m17.426s
 user    30m5.035s
 sys     0m3.905s
 }}}


 As you can see version 3.7.0 tests have
 {{{
 Memory Leak - 69
 Potential Memory Leak - 23
 }}}

 By doing the valgrind test only on perf_geos_leak, it shows only
 `Potential Memory Leak - 3`

 {{{
 make -j 2 && ctest -T memcheck -R perf_geos_leak
 [  0%] Built target geos_revision
 [ 38%] Built target geos
 [ 77%] Built target geos-static
 [ 78%] Built target geos_c
 [ 80%] Built target test_xmltester
 [ 80%] Built target test_simplewkttester
 [ 80%] Built target test_sweep_line_speed
 [ 80%] Built target test_bug234
 [ 80%] Built target perf_class_sizes
 [ 81%] Built target perf_iterated_buffer
 [ 81%] Built target perf_rectangle_intersects
 [ 81%] Built target perf_memleak_mp_prep
 [ 81%] Built target perf_geos_leak
 [100%] Built target test_geos_unit
    Site: vicky-desktop
    Build name: Linux-c++
 Create new tag: 20180920-0002 - Experimental
 Memory check project /home/vicky/geos/vicky/build
     Start 9: perf_geos_leak
 1/1 MemCheck #9: perf_geos_leak ...................   Passed    1.03 sec

 100% tests passed, 0 tests failed out of 1

 Total Test time (real) =   1.03 sec
 -- Processing memory checking output:
 Memory checking results:
 Potential Memory Leak - 3
 }}}

 Will do the test on master results will be posted on a next comment

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:12>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Sep 19 17:58:59 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 20 Sep 2018 00:58:59 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.c8a770b4ec3ba27234dd0f9858d089bb@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 on master:

 {{{
 git checkout upstream/master
 M       .editorconfig
 M       CMakeLists.txt
 M       tests/CMakeLists.txt
 A       tests/issue923/CMakeLists.txt
 A       tests/issue923/Makefile.am
 A       tests/issue923/geos_leak.c
 HEAD is now at f7867f9... Merge branch 'no-exception-pointers'
 $  make -j 2 && time ctest -T memcheck
 [  0%] Built target geos_revision
 [ 38%] Built target geos
 [ 39%] Built target geos_c
 [ 41%] Built target test_xmltester
 [ 80%] Built target geos-static
 [ 80%] Built target test_simplewkttester
 [ 80%] Built target test_sweep_line_speed
 [ 80%] Built target test_bug234
 [ 80%] Built target perf_class_sizes
 [ 81%] Built target perf_iterated_buffer
 [ 81%] Built target perf_rectangle_intersects
 [ 81%] Built target perf_geos_leak
 [ 81%] Built target perf_memleak_mp_prep
 [100%] Built target test_geos_unit
    Site: vicky-desktop
    Build name: Linux-c++
 Memory check project /home/vicky/geos/vicky/build
     Start 1: test_geos_unit
 1/9 MemCheck #1: test_geos_unit ...................   Passed   27.28 sec
     Start 2: test_xmltester
 2/9 MemCheck #2: test_xmltester ...................   Passed  415.55 sec
     Start 3: test_bug234
 3/9 MemCheck #3: test_bug234 ......................   Passed    1.58 sec
     Start 4: test_sweep_line_speed
 4/9 MemCheck #4: test_sweep_line_speed ............   Passed   56.95 sec
     Start 5: perf_class_sizes
 5/9 MemCheck #5: perf_class_sizes .................   Passed    0.52 sec
     Start 6: perf_iterated_buffer
 6/9 MemCheck #6: perf_iterated_buffer .............   Passed  786.23 sec
     Start 7: perf_rectangle_intersects
 7/9 MemCheck #7: perf_rectangle_intersects ........   Passed   21.77 sec
     Start 8: perf_memleak_mp_prep
 8/9 MemCheck #8: perf_memleak_mp_prep .............   Passed  706.61 sec
     Start 9: perf_geos_leak
 9/9 MemCheck #9: perf_geos_leak ...................   Passed    1.02 sec

 100% tests passed, 0 tests failed out of 9

 Total Test time (real) = 2017.52 sec
 -- Processing memory checking output: ########
 Memory checking results:
 Memory Leak - 73
 Potential Memory Leak - 24

 real    33m37.631s
 user    33m16.057s
 sys     0m4.542s
 }}}

 in particular:

 {{{
 $ make -j 2 && ctest -T memcheck -R perf_geos_leak
 [  0%] Built target geos_revision
 [ 38%] Built target geos
 [ 39%] Built target geos_c
 [ 41%] Built target test_xmltester
 [ 41%] Built target test_simplewkttester
 [ 80%] Built target geos-static
 [ 80%] Built target test_sweep_line_speed
 [ 80%] Built target test_bug234
 [ 80%] Built target perf_class_sizes
 [ 81%] Built target perf_iterated_buffer
 [ 81%] Built target perf_rectangle_intersects
 [ 81%] Built target perf_memleak_mp_prep
 [ 81%] Built target perf_geos_leak
 [100%] Built target test_geos_unit
    Site: vicky-desktop
    Build name: Linux-c++
 Memory check project /home/vicky/geos/vicky/build
     Start 9: perf_geos_leak
 1/1 MemCheck #9: perf_geos_leak ...................   Passed    1.05 sec

 100% tests passed, 0 tests failed out of 1

 Total Test time (real) =   1.05 sec
 -- Processing memory checking output:
 Memory checking results:
 Memory Leak - 1
 Potential Memory Leak - 3
 }}}

 3.7.0
 {{{
 Memory Leak - 69
 Potential Memory Leak - 23
 }}}

 3.8.0-dev
 {{{
 Memory Leak - 73
 Potential Memory Leak - 24
 }}}

 Now that I have a test that I can run to catch memory leaks with valgrind,
 I can proceed to test my  commits, one by one to see which of the 16
 commits that I had to squash added leaks.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:13>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Sep 20 09:21:01 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 20 Sep 2018 16:21:01 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.aa0bf63d3e6886bc2b50076fb56bc902@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 @algun enano

 can you make this tests
 Can you try on 3.7.0 and on master:
 test 1: add at the end of the script `finishGEOS();`
 test 2: only have in the script `initGEOS(test_log, test_error);
 finishGEOS();`

 For me without finishGEOS I get
 {{{
 Memory checking results:
 Potential Memory Leak - 4
 }}}
 and with finishGEOS
 {{{
 Memory checking results:
 Potential Memory Leak - 3
 }}}

 Note that in valgrind the Potential Memory leak mean:
 That  "Memory was allocated and was not subsequently freed before the
 program terminated."

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:14>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Sep 20 09:34:49 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 20 Sep 2018 16:34:49 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.f7b8d5e7d09747513bebf10977408833@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by Algunenano):

 Adding finishGeos() to the script:

 3.7.0:
 {{{
 ==5574== Memcheck, a memory error detector
 ==5574== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
 ==5574== Using Valgrind-3.14.0.GIT and LibVEX; rerun with -h for copyright
 info
 ==5574== Command: ./a.out
 ==5574==
 ==5574==
 ==5574== HEAP SUMMARY:
 ==5574==     in use at exit: 56 bytes in 2 blocks
 ==5574==   total heap usage: 65 allocs, 63 frees, 81,848 bytes allocated
 ==5574==
 ==5574== LEAK SUMMARY:
 ==5574==    definitely lost: 0 bytes in 0 blocks
 ==5574==    indirectly lost: 0 bytes in 0 blocks
 ==5574==      possibly lost: 0 bytes in 0 blocks
 ==5574==    still reachable: 56 bytes in 2 blocks
 ==5574==         suppressed: 0 bytes in 0 blocks
 ==5574== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==5574== To see them, rerun with: --leak-check=full --show-leak-kinds=all
 ==5574==
 ==5574== For counts of detected and suppressed errors, rerun with: -v
 ==5574== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
 }}}


 Master:
 {{{
 ==17645== Memcheck, a memory error detector
 ==17645== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
 ==17645== Using Valgrind-3.14.0.GIT and LibVEX; rerun with -h for
 copyright info
 ==17645== Command: ./a.out
 ==17645==
 ==17645==
 ==17645== HEAP SUMMARY:
 ==17645==     in use at exit: 416 bytes in 10 blocks
 ==17645==   total heap usage: 65 allocs, 55 frees, 81,848 bytes allocated
 ==17645==
 ==17645== 360 (88 direct, 272 indirect) bytes in 1 blocks are definitely
 lost in loss record 10 of 10
 ==17645==    at 0x4837DEF: operator new(unsigned long)
 (vg_replace_malloc.c:334)
 ==17645==    by 0x4B854B3: geos::noding::(anonymous
 namespace)::SegmentStringExtractor::filter_ro(geos::geom::Geometry const*)
 (GeometryNoder.cpp:61)
 ==17645==    by 0x4B85372:
 geos::noding::GeometryNoder::extractSegmentStrings(geos::geom::Geometry
 const&, std::vector<geos::noding::SegmentString*,
 std::allocator<geos::noding::SegmentString*> >&) (GeometryNoder.cpp:157)
 ==17645==    by 0x4B8581B: geos::noding::GeometryNoder::getNoded()
 (GeometryNoder.cpp:123)
 ==17645==    by 0x4B859E5:
 geos::noding::GeometryNoder::node(geos::geom::Geometry const&)
 (GeometryNoder.cpp:80)
 ==17645==    by 0x4865497: GEOSNode_r (geos_ts_c.cpp:2450)
 ==17645==    by 0x109300: main (in /home/raul/dev/public/geos/a.out)
 ==17645==
 ==17645== LEAK SUMMARY:
 ==17645==    definitely lost: 88 bytes in 1 blocks
 ==17645==    indirectly lost: 272 bytes in 7 blocks
 ==17645==      possibly lost: 0 bytes in 0 blocks
 ==17645==    still reachable: 56 bytes in 2 blocks
 ==17645==         suppressed: 0 bytes in 0 blocks
 ==17645== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==17645== To see them, rerun with: --leak-check=full --show-leak-kinds=all
 ==17645==
 ==17645== For counts of detected and suppressed errors, rerun with: -v
 ==17645== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
 }}}


 Only initGeos() and finishGeos() in the script:

 3.7.0:
 {{{
 ==6083== Memcheck, a memory error detector
 ==6083== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
 ==6083== Using Valgrind-3.14.0.GIT and LibVEX; rerun with -h for copyright
 info
 ==6083== Command: ./a.out
 ==6083==
 ==6083==
 ==6083== HEAP SUMMARY:
 ==6083==     in use at exit: 56 bytes in 2 blocks
 ==6083==   total heap usage: 10 allocs, 8 frees, 80,096 bytes allocated
 ==6083==
 ==6083== LEAK SUMMARY:
 ==6083==    definitely lost: 0 bytes in 0 blocks
 ==6083==    indirectly lost: 0 bytes in 0 blocks
 ==6083==      possibly lost: 0 bytes in 0 blocks
 ==6083==    still reachable: 56 bytes in 2 blocks
 ==6083==         suppressed: 0 bytes in 0 blocks
 ==6083== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==6083== To see them, rerun with: --leak-check=full --show-leak-kinds=all
 ==6083==
 ==6083== For counts of detected and suppressed errors, rerun with: -v
 ==6083== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
 }}}

 Master:
 {{{
 ==26299== Memcheck, a memory error detector
 ==26299== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
 ==26299== Using Valgrind-3.14.0.GIT and LibVEX; rerun with -h for
 copyright info
 ==26299== Command: ./a.out
 ==26299==
 ==26299==
 ==26299== HEAP SUMMARY:
 ==26299==     in use at exit: 56 bytes in 2 blocks
 ==26299==   total heap usage: 10 allocs, 8 frees, 80,096 bytes allocated
 ==26299==
 ==26299== LEAK SUMMARY:
 ==26299==    definitely lost: 0 bytes in 0 blocks
 ==26299==    indirectly lost: 0 bytes in 0 blocks
 ==26299==      possibly lost: 0 bytes in 0 blocks
 ==26299==    still reachable: 56 bytes in 2 blocks
 ==26299==         suppressed: 0 bytes in 0 blocks
 ==26299== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==26299== To see them, rerun with: --leak-check=full --show-leak-kinds=all
 ==26299==
 ==26299== For counts of detected and suppressed errors, rerun with: -v
 ==26299== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
 }}}


 The issue are not the still reachable blocks, they refer to the default
 geometry factory. The issue are the `indirectly lost` and `definitely
 lost` blocks when using `GEOSNode` in master.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:15>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Sep 20 09:41:44 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 20 Sep 2018 16:41:44 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.57b931884219a9198d902c41c74d6e7a@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by Algunenano):

 Here is the PR that fixes it: https://github.com/libgeos/geos/pull/124

 The change missed renaming `lineList` in the cleanup.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:16>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Sep 20 10:40:00 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 20 Sep 2018 17:40:00 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.0af249913daeb9a816da9cb2e27480b9@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  new
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:
 Keywords:               |
-------------------------+---------------------------

Comment (by cvvergara):

 cool :)
 for the PR
 Thanks

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:17>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Sep 20 11:32:42 2018
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 20 Sep 2018 18:32:42 -0000
Subject: [geos-devel] [GEOS] #923: Memory leak in GEOSNode
In-Reply-To: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
References: <048.8e5b9d60099a0f5689a22642c5b5a067@osgeo.org>
Message-ID: <063.37cf79a28ea212abc5ae79ad4e8caabf@osgeo.org>

#923: Memory leak in GEOSNode
-------------------------+---------------------------
 Reporter:  Algunenano   |       Owner:  geos-devel@…
     Type:  defect       |      Status:  closed
 Priority:  major        |   Milestone:  3.8.0
Component:  Default      |     Version:  master
 Severity:  Significant  |  Resolution:  fixed
 Keywords:               |
-------------------------+---------------------------
Changes (by cvvergara):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Fixed With commit       93932020d3

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/923#comment:18>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 00:01:03 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 07:01:03 -0000
Subject: [geos-devel] [GEOS] #926: GEOSInterpolate() crashes with empty
	LineString
Message-ID: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>

#926: GEOSInterpolate() crashes with empty LineString
------------------------+--------------------------
 Reporter:  sirsigurd   |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/926>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 00:04:14 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 07:04:14 -0000
Subject: [geos-devel] [GEOS] #926: GEOSInterpolate() crashes with empty
	LineString
In-Reply-To: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
References: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
Message-ID: <062.73ac54e3b4b45a17b707ca471032cda9@osgeo.org>

#926: GEOSInterpolate() crashes with empty LineString
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by sirsigurd):

 * cc: sirsigurd (added)


Comment:

 [https://github.com/libgeos/geos/pull/126 PR]

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/926#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 00:18:14 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 07:18:14 -0000
Subject: [geos-devel] [GEOS] #927: GEOSCoordSeq_isCCW() crashes with empty
 coordinate sequence
Message-ID: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>

#927: GEOSCoordSeq_isCCW() crashes with empty coordinate sequence
------------------------+--------------------------
 Reporter:  sirsigurd   |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/927>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 00:20:16 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 07:20:16 -0000
Subject: [geos-devel] [GEOS] #927: GEOSCoordSeq_isCCW() crashes with
 empty coordinate sequence
In-Reply-To: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
References: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
Message-ID: <062.d97aa01707e234351a03e2a7f721425b@osgeo.org>

#927: GEOSCoordSeq_isCCW() crashes with empty coordinate sequence
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------
Changes (by sirsigurd):

 * cc: sirsigurd (added)


Comment:

 [https://github.com/libgeos/geos/pull/127 PR]

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/927#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 00:21:25 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 07:21:25 -0000
Subject: [geos-devel] [GEOS] #927: GEOSCoordSeq_isCCW() crashes with
 empty coordinate sequence
In-Reply-To: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
References: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
Message-ID: <062.cb1d722724093abdb2740ea049583920@osgeo.org>

#927: GEOSCoordSeq_isCCW() crashes with empty coordinate sequence
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by sirsigurd):

 BTW there is no 3.7 version in trac.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/927#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 00:23:53 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 07:23:53 -0000
Subject: [geos-devel] [GEOS] #928: GEOSUnaryUnion() crashes with empty
	linestring
Message-ID: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>

#928: GEOSUnaryUnion() crashes with empty linestring
------------------------+--------------------------
 Reporter:  sirsigurd   |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:
Component:  Default     |    Version:  3.6.2
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------


-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/928>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 04:51:57 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 11:51:57 -0000
Subject: [geos-devel] [GEOS] #927: GEOSCoordSeq_isCCW() crashes with
 empty coordinate sequence
In-Reply-To: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
References: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
Message-ID: <062.7f6d47c42a0a11c259d4a65137101abc@osgeo.org>

#927: GEOSCoordSeq_isCCW() crashes with empty coordinate sequence
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by Sergey Fedoseev <fedoseev.sergey@…>):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 In [changeset:"7a5f23ab15b45041271cc2c34852ea08689cfa3a/git" 7a5f23a/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="7a5f23ab15b45041271cc2c34852ea08689cfa3a"
 Fix #927 -- Fixed crash in GEOSCoordSeq_isCCW() when used with empty
 coordseq.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/927#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 21 04:58:09 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 21 Sep 2018 11:58:09 -0000
Subject: [geos-devel] [GEOS] #927: GEOSCoordSeq_isCCW() crashes with
 empty coordinate sequence
In-Reply-To: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
References: <047.582242e0a37bf227eb216ff1fd74bdda@osgeo.org>
Message-ID: <062.2b86ac69646aafde4d9692e73f5ff491@osgeo.org>

#927: GEOSCoordSeq_isCCW() crashes with empty coordinate sequence
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@…>):

 In [changeset:"3d7a9e859697d028b85f16de9a27d16b5ecabc4a/git" 3d7a9e8/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="3d7a9e859697d028b85f16de9a27d16b5ecabc4a"
 Fix #927 -- Fixed crash in GEOSCoordSeq_isCCW() when used with empty
 coordseq.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/927#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 07:57:25 2018
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 23 Sep 2018 14:57:25 -0000
Subject: [geos-devel] [GEOS] #928: GEOSUnaryUnion() crashes with empty
	linestring
In-Reply-To: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
References: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
Message-ID: <062.45a4dad96254a79d78ba626d7fb1b468@osgeo.org>

#928: GEOSUnaryUnion() crashes with empty linestring
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  new
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:
 Keywords:              |
------------------------+---------------------------

Comment (by sirsigurd):

 [https://github.com/libgeos/geos/pull/128 PR]

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/928#comment:1>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 18:23:27 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 01:23:27 -0000
Subject: [geos-devel] [GEOS] #926: GEOSInterpolate() crashes with empty
	LineString
In-Reply-To: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
References: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
Message-ID: <062.40ecf19fcdbeb384403cd22edc8cd52e@osgeo.org>

#926: GEOSInterpolate() crashes with empty LineString
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by Sergey Fedoseev <fedoseev.sergey@…>):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 In [changeset:"18505af1103cdafb2178f2f0eb8e1a10cfa16d2d/git" 18505af/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="18505af1103cdafb2178f2f0eb8e1a10cfa16d2d"
 Fix #926: Fixed crash in GEOSInterpolate() when used with empty
 LineString.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/926#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 18:25:26 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 01:25:26 -0000
Subject: [geos-devel] [GEOS] #926: GEOSInterpolate() crashes with empty
	LineString
In-Reply-To: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
References: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
Message-ID: <062.86106d6a24408cc9fef2dd1161a5bcf4@osgeo.org>

#926: GEOSInterpolate() crashes with empty LineString
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@…>):

 In [changeset:"2f12a8026afb67431a3d2dc22f34630911b4e226/git" 2f12a80/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="2f12a8026afb67431a3d2dc22f34630911b4e226"
 Fix #926: Fixed crash in GEOSInterpolate() when used with empty
 LineString.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/926#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 18:30:24 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 01:30:24 -0000
Subject: [geos-devel] [GEOS] #926: GEOSInterpolate() crashes with empty
	LineString
In-Reply-To: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
References: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
Message-ID: <062.7c44499883e3f829677214f4e946381a@osgeo.org>

#926: GEOSInterpolate() crashes with empty LineString
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by dbaston):

 Applied to master and 3.7. Commit can't be applied to 3.6 because of
 various integer type changes.

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/926#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 18:33:06 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 01:33:06 -0000
Subject: [geos-devel] [GEOS] #928: GEOSUnaryUnion() crashes with empty
	linestring
In-Reply-To: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
References: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
Message-ID: <062.77fef6351c612878626d73603c937806@osgeo.org>

#928: GEOSUnaryUnion() crashes with empty linestring
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------
Changes (by Sergey Fedoseev <fedoseev.sergey@…>):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 In [changeset:"2af4f0637282ea05e6724d3ea029dbaff6e8c827/git" 2af4f06/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="2af4f0637282ea05e6724d3ea029dbaff6e8c827"
 Fix #928: Fixed crash in GEOSUnaryUnion() when used with empty linestring.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/928#comment:2>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 18:34:59 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 01:34:59 -0000
Subject: [geos-devel] [GEOS] #928: GEOSUnaryUnion() crashes with empty
	linestring
In-Reply-To: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
References: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
Message-ID: <062.2203e28a893561de7f3969a862538d79@osgeo.org>

#928: GEOSUnaryUnion() crashes with empty linestring
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@…>):

 In [changeset:"cf33db7424c7e6f3e3b6b91ff6f0209b0cd6263f/git" cf33db7/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="cf33db7424c7e6f3e3b6b91ff6f0209b0cd6263f"
 Fix #928: Fixed crash in GEOSUnaryUnion() when used with empty linestring.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/928#comment:3>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 18:36:39 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 01:36:39 -0000
Subject: [geos-devel] [GEOS] #928: GEOSUnaryUnion() crashes with empty
	linestring
In-Reply-To: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
References: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
Message-ID: <062.bc2e612e39626b0b13f40d798b0d94f4@osgeo.org>

#928: GEOSUnaryUnion() crashes with empty linestring
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@…>):

 In [changeset:"35906587bfe4ee83a3f406801d98c3c34b533589/git" 3590658/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="35906587bfe4ee83a3f406801d98c3c34b533589"
 Fix #928: Fixed crash in GEOSUnaryUnion() when used with empty linestring.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/928#comment:4>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Sep 23 18:42:47 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 01:42:47 -0000
Subject: [geos-devel] [GEOS] #928: GEOSUnaryUnion() crashes with empty
	linestring
In-Reply-To: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
References: <047.95baa1d0b690f1874f8246ec9b460086@osgeo.org>
Message-ID: <062.3eeb497271a72afed2c92ee6888a823c@osgeo.org>

#928: GEOSUnaryUnion() crashes with empty linestring
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by Daniel Baston <dbaston@…>):

 In [changeset:"5e490724af7c97c9ca3fca8292e12ef3be40afbb/git" 5e49072/git]:
 {{{
 #!CommitTicketReference repository="git"
 revision="5e490724af7c97c9ca3fca8292e12ef3be40afbb"
 Fix #928: Fixed crash in GEOSUnaryUnion() when used with empty linestring.
 }}}

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/928#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From vicky at georepublic.de  Sun Sep 23 19:42:05 2018
From: vicky at georepublic.de (Vicky Vergara)
Date: Sun, 23 Sep 2018 21:42:05 -0500
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote -
 MOTION PASSED 4 spaces
In-Reply-To: <000b01d44a22$5a895480$0f9bfd80$@pcorp.us>
References: <000b01d44a22$5a895480$0f9bfd80$@pcorp.us>
Message-ID: <CAK_FzuWQwtXw9zR6sid0S1KKEpYAnohGYZMXHQni_ONGxqfrXg@mail.gmail.com>

Hi all
4 space indent on C/C++ files is done
https://git.osgeo.org/gitea/geos/geos/pulls/50

The pre-commit hook needs aStyle installed

Regards
Vicky


On Tue, Sep 11, 2018 at 5:54 PM Regina Obe <lr at pcorp.us> wrote:

> Didn't hear any screaming or objections - so proclaiming MOTION PASSED
> Vicky want to go ahead with your change?  Remember one big gorilla commit
> :)
>
> > -----Original Message-----
> > From: Regina Obe [mailto:lr at pcorp.us]
> > Sent: Tuesday, September 11, 2018 1:43 PM
> > To: 'GEOS Development List' <geos-devel at lists.osgeo.org>
> > Subject: RE: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote
> >
> > > On 9/11/18 6:44 AM, Sandro Santilli wrote:
> > > > On Mon, Sep 10, 2018 at 01:15:25PM -0700, Paul Ramsey wrote:
> > > >> Same. 2-spaces hurts my little brain.
> > > > I'm happy as long as you give me a recipe to make my editor
> > > > (vim) automatically use what we choose AND `make check` ensures any
> > > > future change stick with what was choosen.
> > > >
> > > > Note I'd like to keep the 80 cols limit on line width which with
> > > > current naming can easily become close-to-impossible with too many
> > > > spaces. This also means if we use tabs we want them to be rendered
> > > > by a determined number of spaces, or it would be impossible to
> > > > determine the 80 cols limit ...
> > > >
> > > > Go Vicky go !
> > >
> >
> > How is this for a  compromise?
> >
> > 1) We got with 4 spaces
> > 2) 120 cols
> > 3) Get strk a new monitor and also rescue him from his cave.
> > 4) Vicky makes the commit since she wanted spaces and sets editor config
> > accordingly.
> >
> > This would apply to files - .h, .cpp, .c, .inl, .in (that are ins for C
> and C++), .vc
> > (should be windows linebreak I believe though not sure it much matters
> these
> > days)
> >
> > Thanks,
> > Regina
> >
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/geos-devel



-- 

Georepublic UG (haftungsbeschränkt)
Salzmannstraße 44,
81739 München, Germany

Vicky Vergara
Operations Research

eMail: vicky at georepublic.de
Web: https://georepublic.info

Tel: +49 (089) 4161 7698-1
Fax: +49 (089) 4161 7698-9

Commercial register: Amtsgericht München, HRB 181428
CEO: Daniel Kastl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/geos-devel/attachments/20180923/94cea40e/attachment-0001.html>

From strk at kbt.io  Mon Sep 24 02:46:42 2018
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 24 Sep 2018 11:46:42 +0200
Subject: [geos-devel] TABS or SPACES - ALL DEVELOPERS and PSC Vote -
 MOTION PASSED 4 spaces
In-Reply-To: <CAK_FzuWQwtXw9zR6sid0S1KKEpYAnohGYZMXHQni_ONGxqfrXg@mail.gmail.com>
References: <000b01d44a22$5a895480$0f9bfd80$@pcorp.us>
 <CAK_FzuWQwtXw9zR6sid0S1KKEpYAnohGYZMXHQni_ONGxqfrXg@mail.gmail.com>
Message-ID: <20180924094642.GB19301@liz>

On Sun, Sep 23, 2018 at 09:42:05PM -0500, Vicky Vergara wrote:
> Hi all
> 4 space indent on C/C++ files is done
> https://git.osgeo.org/gitea/geos/geos/pulls/50
> 
> The pre-commit hook needs aStyle installed

Note that saying "aStyle" is not enough. We tried
in the past to use "astyle" in PostGIS but we found
out behavior was different in different astyle versions.

The QGIS approach is to ship their own. Astyle is in C++
so we could take the same path. Could you do so in the
same PR ?

From geos-trac at osgeo.org  Mon Sep 24 06:43:21 2018
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 24 Sep 2018 13:43:21 -0000
Subject: [geos-devel] [GEOS] #926: GEOSInterpolate() crashes with empty
	LineString
In-Reply-To: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
References: <047.048c73dc38c1153fd98cff4156bc6bfa@osgeo.org>
Message-ID: <062.ef20a1d5e0e3ff7ba98777838270e75e@osgeo.org>

#926: GEOSInterpolate() crashes with empty LineString
------------------------+---------------------------
 Reporter:  sirsigurd   |       Owner:  geos-devel@…
     Type:  defect      |      Status:  closed
 Priority:  major       |   Milestone:
Component:  Default     |     Version:  3.6.2
 Severity:  Unassigned  |  Resolution:  fixed
 Keywords:              |
------------------------+---------------------------

Comment (by cvvergara):

 I could apply the patch
 https://github.com/cvvergara/geos/commits/applypatch

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/926#comment:5>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Sep 28 07:18:23 2018
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 28 Sep 2018 14:18:23 -0000
Subject: [geos-devel] [GEOS] #929: Memory sanitizer warnings in
	GeometryFactory.cpp
Message-ID: <048.c8e56bc538f1ff1fcbe56b9a28ce4912@osgeo.org>

#929: Memory sanitizer warnings in GeometryFactory.cpp
------------------------+--------------------------
 Reporter:  Algunenano  |      Owner:  geos-devel@…
     Type:  defect      |     Status:  new
 Priority:  major       |  Milestone:  3.5.3
Component:  Default     |    Version:  3.5.0
 Severity:  Unassigned  |   Keywords:
------------------------+--------------------------
 When running Postgis cunit tests using clang's (6.0.1) memory sanitizer
 (`-fsanitize=memory`) I get the following warning:

 {{{
 Suite: buildarea
   Test: buildarea1 ...Uninitialized bytes in __interceptor_memcmp at
 offset 0 inside [0x7fffae24fa80, 4)
 ==19345==WARNING: MemorySanitizer: use-of-uninitialized-value
     #0 0x7f5ed6768c5f in std::char_traits<char>::compare(char const*, char
 const*, unsigned long) /build/gcc/src/gcc-build/x86_64-pc-linux-
 gnu/libstdc++-v3/include/bits/char_traits.h:310:25
     #1 0x7f5ed6768c5f in std::__cxx11::basic_string<char,
 std::char_traits<char>, std::allocator<char> >::compare(char const*) const
 /build/gcc/src/gcc-build/x86_64-pc-linux-
 gnu/libstdc++-v3/include/bits/basic_string.tcc:1424:37
     #2 0x7f5ed6892f40 in bool std::operator==<char,
 std::char_traits<char>, std::allocator<char>
 >(std::__cxx11::basic_string<char, std::char_traits<char>,
 std::allocator<char> > const&, char const*)
 /usr/include/c++/8.2.1/bits/basic_string.h:6075:35
     #3 0x7f5ed6892f40 in
 geos::geom::GeometryFactory::buildGeometry(std::vector<geos::geom::Geometry*,
 std::allocator<geos::geom::Geometry*> >*) const
 /usr/src/debug/geos/src/geom/GeometryFactory.cpp:664:16
     #4 0x7f5ed690dd48 in
 geos::operation::overlay::OverlayOp::computeOverlay(geos::operation::overlay::OverlayOp::OpCode)
 /usr/src/debug/geos/src/operation/overlay/OverlayOp.cpp:839:28
     #5 0x7f5ed690dee1 in
 geos::operation::overlay::OverlayOp::getResultGeometry(geos::operation::overlay::OverlayOp::OpCode)
 /usr/src/debug/geos/src/operation/overlay/OverlayOp.cpp:187:16
     #6 0x7f5ed690e281 in
 geos::operation::overlay::OverlayOp::overlayOp(geos::geom::Geometry
 const*, geos::geom::Geometry const*,
 geos::operation::overlay::OverlayOp::OpCode)
 /usr/src/debug/geos/src/operation/overlay/OverlayOp.cpp:93:30
     #7 0x7f5ed688d11f in
 geos::operation::overlay::overlayOp::operator()(geos::geom::Geometry
 const*, geos::geom::Geometry const*)
 /usr/src/debug/geos/src/geom/../../include/geos/operation/overlay/OverlayOp.h:388:44
     #8 0x7f5ed688d11f in std::unique_ptr<geos::geom::Geometry,
 std::default_delete<geos::geom::Geometry> >
 geos::geom::BinaryOp<geos::operation::overlay::overlayOp>(geos::geom::Geometry
 const*, geos::geom::Geometry const*, geos::operation::overlay::overlayOp)
 /usr/src/debug/geos/src/geom/../../include/geos/geom/BinaryOp.h:357:3
     #9 0x7f5ed688b16f in geos::geom::Geometry::Union(geos::geom::Geometry
 const*) const /usr/src/debug/geos/src/geom/Geometry.cpp:586:17
     #10 0x7f5ed691885d in
 geos::operation::geounion::CascadedPolygonUnion::unionActual(geos::geom::Geometry*,
 geos::geom::Geometry*)
 /usr/src/debug/geos/src/operation/union/CascadedPolygonUnion.cpp:370:36
     #11 0x7f5ed6919080 in
 geos::operation::geounion::CascadedPolygonUnion::unionOptimized(geos::geom::Geometry*,
 geos::geom::Geometry*)
 /usr/src/debug/geos/src/operation/union/CascadedPolygonUnion.cpp:236:27
     #12 0x7f5ed6919252 in
 geos::operation::geounion::CascadedPolygonUnion::unionTree(geos::index::strtree::ItemsList*)
 /usr/src/debug/geos/src/operation/union/CascadedPolygonUnion.cpp:162:23
     #13 0x7f5ed6919630 in
 geos::operation::geounion::CascadedPolygonUnion::Union()
 /usr/src/debug/geos/src/operation/union/CascadedPolygonUnion.cpp:151:21
     #14 0x7f5ed691983d in
 geos::operation::geounion::CascadedPolygonUnion::Union(geos::geom::MultiPolygon
 const*)
 /usr/src/debug/geos/src/operation/union/CascadedPolygonUnion.cpp:124:20
     #15 0x7f5ed71db6a8 in GEOSUnionCascaded_r
 /usr/src/debug/geos/capi/geos_ts_c.cpp:2497:43
     #16 0x7f5ed7332ed6 in LWGEOM_GEOS_buildArea
 /home/raul/dev/public/postgis/liblwgeom/lwgeom_geos.c:1124:8
     #17 0x7f5ed7333164 in lwgeom_buildarea
 /home/raul/dev/public/postgis/liblwgeom/lwgeom_geos.c:1155:7
     #18 0x55b755e00bfa in buildarea1
 /un/dev_public/postgis/liblwgeom/cunit/cu_buildarea.c:66:9
     #19 0x7f5ed6fb1117  (/usr/lib/libcunit.so.1+0x4117)
     #20 0x7f5ed6fb13b1  (/usr/lib/libcunit.so.1+0x43b1)
     #21 0x7f5ed6fb17b6 in CU_run_all_tests (/usr/lib/libcunit.so.1+0x47b6)
     #22 0x55b755e7f6b7 in main
 /un/dev_public/postgis/liblwgeom/cunit/cu_tester.c:177:13
     #23 0x7f5ed6c3c222 in __libc_start_main (/usr/lib/libc.so.6+0x24222)
     #24 0x55b755d7f0bd in _start
 (/un/dev_public/postgis/liblwgeom/cunit/.libs/lt-cu_tester+0x250bd)

 SUMMARY: MemorySanitizer: use-of-uninitialized-value /build/gcc/src/gcc-
 build/x86_64-pc-linux-gnu/libstdc++-v3/include/bits/char_traits.h:310:25
 in std::char_traits<char>::compare(char const*, char const*, unsigned
 long)
 }}}

 I've tested 3.5 and 3.7 and both are affected.

 PR with the fix (for 3.7): https://github.com/libgeos/geos/pull/129

-- 
Ticket URL: <https://trac.osgeo.org/geos/ticket/929>
GEOS <http://trac.osgeo.org/geos>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

