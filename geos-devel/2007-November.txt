From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.0.1194051123.26699.geos-devel@lists.osgeo.org>

1. Ported: All SFS interfaces, *Filter, Coordinate, Dimension, Envelope,
LineSegment, Location.
2. Implemented a CoordinateList class based on linked list (to replace arrays in
Java code)
3. Some testing done to check for obvious problems, but comprehensive tests
would be performed when XML reader/writer and test runner would be ported.
4. Total time spent is 13 hours 51 min.

Decisions from Friday, June 7 phone meeting:
1. Reimplement CoordinateList based on an array.
2. After 'geom' package is finished, start working on XML Reader/Writer and test
runner.







From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.1.1194051123.26699.geos-devel@lists.osgeo.org>

1. 'geom' package is almost ported.
2. Not done yet: Geometry*
3. Almost done: Multi*, Polygon.
4. Porting is going slower then expected (from last phone meeting) mainly due to
conversion from Java support classes (ArrayList, etc.) and casting issues.
5. Main current problem: some methods in Geometry class use arrays of Geometry
as their parameters, but are called by other classes with arrays of subclasses
of Geometry as a parameter (e.g. LinearRing[]). This is easy to do in java, but
to mimic the functionality of java arrays I'd like to use C++ vectors and it is
impossible to cast between vector<Geometry *> and vector<LinearRing *>.
5. Total time spent is 26 hours 34 min.

From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.2.1194051123.26699.geos-devel@lists.osgeo.org>

1. Discussed porting issues
2. Decided to use vector<Geometry *> instead of vectors of appropriate
subclasses to avoid casting problems.
3. After 'geom' package is finished, start working on XML Reader/Writer and test
runner. (from last meeting)







From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.3.1194051123.26699.geos-devel@lists.osgeo.org>

1. First pass over 'geom' package is finished.
2. External dependencies are commented out for the moment. They'll be
uncommented when corresponding classes are implemented.
3. Some polishing is still required for 'geom'. Mostly to remove the
inconsistencies (I've implemented some things differently once I found a better
way to do them).
4. Total time spent is 20 hours 11 min.

From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.4.1194051123.26699.geos-devel@lists.osgeo.org>




From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.5.1194051123.26699.geos-devel@lists.osgeo.org>

1. 'io' package is ported
2. Simple tester (takes flat file with WKT records) is almost done.

From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.6.1194051123.26699.geos-devel@lists.osgeo.org>

1. Decided to try to write a tester that takes XML test files.
2. Implement some external dependencies for 'geom': Assert, etc.
3. Schedule a meeting mid July.







From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.7.1194051123.26699.geos-devel@lists.osgeo.org>

1. Simple tester (takes flat file with WKT records, creates geometries and
writes them back) is done.
2. XML tester (reads xml files (from JTS tester) and runs the tests) is done.
3. Assert (and related classes) from 'util' is ported.
4. Total time: 18:30

From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.8.1194051123.26699.geos-devel@lists.osgeo.org>

1. Add geometry comparison to testers.
2. Start working on predicates (operation.relate.*)





From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.9.1194051123.26699.geos-devel@lists.osgeo.org>

1. Started to work on operations.
2. Ported a number of classes from 'graph'
3. Total time: 20:15

From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.10.1194051123.26699.geos-devel@lists.osgeo.org>

1. Continue working on 'graph'
2. Status meeting on Tuesday, July 16.




From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.11.1194051123.26699.geos-devel@lists.osgeo.org>

- We reviewed Yury's progress. He has finished the object model and test
harness, and is into the Graph classes. Graph and some other algorithms
will need to be finished before binary predicates can be tackled.
- Looking ahead, Yury predicted that the Graph should be done in the
next two weeks, and that binary predicates should be done by August 20.
- Refractions will start to play with integrating GEOS into the PostGIS
framework, and try some tests of instantiation and writing back GEOS
objects.
- Refractions will be doing some UNIX compilation tests on GEOS over the
next month, and will start to publish the GEOS docs online with doxygen.
- Paul will review the SEG schedule and pick a date in September to do a
presentation.
- Jens or Daniel will send information about the computational
algorithms seminar, and Martin will pick a date to give a presentation
on the problems of robustness in computational geometry. Hopefully this
will yield some interest in exploring our practical robustness issues
around intersections and buffers.
- Dave and Martin and Yury/Daniel/Jens will check out GeoTex 2003
(http://www.geoplace.com/gt/) and think about abstracts for papers.
Martin/Yury will consider a JTS/GEOS presentation. Martin will consider
a JCS presentation. Dave will think about a PostGIS presentation.

Paul

-- 
      __
     /
     | Paul Ramsey
     | Refractions Research
     | Email: pramsey@refractions.net
     | Phone: (250) 885-0632
     \_


From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.12.1194051123.26699.geos-devel@lists.osgeo.org>

1. 'graph' is almost finished.
2. Received updated version of JTS (containing area() and length() methods)
3. Some changes have to be made to *.h files: replace constant definitions with
enums.
4. Total time: 18:35

Yury




From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.13.1194051123.26699.geos-devel@lists.osgeo.org>

1. Didn't have much time for GEOS this week. Will compensate next week.
2. 'graph' is almost done.
3. Total time: 8:00

Yury





From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:03 2007
Subject: No subject
Message-ID: <mailman.14.1194051123.26699.geos-devel@lists.osgeo.org>

1. 'graph' package is finished (including 'index')
2. Directory structure has been changed (all packages are in the separate
folders)
3. .h files updated to avoid circular includes.
4. Total time: 19:35

Results from the Friday, August 23 meeting:
1. Some errors have appeared when Martin tried to compile the code in VC++ 6 (I
use VC++ 7), but they are rather simple to fix.
2. Decided to include 'geos.h' everywhere as a place to make adjustments for
different compilers.
3. Next packages to be ported: parts of 'algorithm' and 'operation/relate'

Yury





From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:04 2007
Subject: No subject
Message-ID: <mailman.15.1194051124.26699.geos-devel@lists.osgeo.org>

1. 'algorithm' is done for now (2 classes have too many external dependencies
and would be done later)
2. From 23/08: "Decided to include 'geos.h' everywhere as a place to make
adjustments for different compilers."
Found out that it is not necessary. 'platform.h' already performs the same
function

3. Total time: 15:00

Next to port: 'operation/relate'

Yury






From bogus@does.not.exist.com  Fri Nov  2 20:52:04 2007
From: bogus@does.not.exist.com ()
Date: Fri Nov  2 20:52:04 2007
Subject: No subject
Message-ID: <mailman.16.1194051124.26699.geos-devel@lists.osgeo.org>

1. 'operation/relate' is almost finished
2. A lot of changes were done to bring the code from JTS 1.1 to JTS 1.2
(including addition of area() and length() methods to geometries)
3. Total time: 18:30

Next to do: Finish and test 'operation/relate'

Yury




From warmerdam at pobox.com  Wed Nov 21 18:08:10 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 17:50:24 2007
Subject: [geos-devel] Archiving Problem
Message-ID: <4744BA5A.9060709@pobox.com>

Folks,

It seems there was a permissions problem has prevented archiving of geos-devel
email over the last couple weeks. I think it should be fixed now (this email
will be the test!)

Sorry for the inconvenience.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mateusz at loskot.net  Wed Nov 21 19:37:55 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 19:38:00 2007
Subject: [geos-devel] Bugs Migrated
In-Reply-To: <D1876F4C-EA4A-453E-9372-20BC91C5840B@gmail.com>
References: <D1876F4C-EA4A-453E-9372-20BC91C5840B@gmail.com>
Message-ID: <4744CF63.6040204@loskot.net>

Howard Butler wrote:
> All,
> 
> The bug list has now been migrated to Trac on OSGeo's infrastructure:
> 
> http://trac.osgeo.org/geos/report/6

I've tried to clean tickets according to milestones, versions and
components. It's possible I've made a mistake ie. incorrectly assigned
older tickets to milestones, but I hope it's not a problem as these bugs
have been already fixed.

BTW, I've noticed that I'm not getting any notifications from GEOS Trac.
I've configured my e-mail in Trac Settings, however I believe it's not
used as we use LDAP accounts management.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From chodgson at refractions.net  Wed Nov 21 19:39:47 2007
From: chodgson at refractions.net (Chris Hodgson)
Date: Wed Nov 21 19:50:06 2007
Subject: [geos-devel] Bugs Migrated
In-Reply-To: <4744CF63.6040204@loskot.net>
References: <D1876F4C-EA4A-453E-9372-20BC91C5840B@gmail.com>
	<4744CF63.6040204@loskot.net>
Message-ID: <4744CFD3.2010104@refractions.net>

I believe the e-mail in your Trac settings is still required and used. 
However the notification is a global setting for all users in the Trac 
config file for the GEOS Trac instance, AFAIK.

However if I'm wrong and the OSGeo sysadmins have got Trac using the 
e-mail out of LDAP I'd love to hear how they did it!

Chris

Mateusz Loskot wrote:
> Howard Butler wrote:
>> All,
>>
>> The bug list has now been migrated to Trac on OSGeo's infrastructure:
>>
>> http://trac.osgeo.org/geos/report/6
> 
> I've tried to clean tickets according to milestones, versions and
> components. It's possible I've made a mistake ie. incorrectly assigned
> older tickets to milestones, but I hope it's not a problem as these bugs
> have been already fixed.
> 
> BTW, I've noticed that I'm not getting any notifications from GEOS Trac.
> I've configured my e-mail in Trac Settings, however I believe it's not
> used as we use LDAP accounts management.
> 
> Cheers

From mateusz at loskot.net  Wed Nov 21 20:36:39 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 20:36:45 2007
Subject: [geos-devel] Bugs Migrated
In-Reply-To: <4744CFD3.2010104@refractions.net>
References: <D1876F4C-EA4A-453E-9372-20BC91C5840B@gmail.com>	<4744CF63.6040204@loskot.net>
	<4744CFD3.2010104@refractions.net>
Message-ID: <4744DD27.2000109@loskot.net>

Chris Hodgson wrote:
> I believe the e-mail in your Trac settings is still required and used.
> However the notification is a global setting for all users in the Trac
> config file for the GEOS Trac instance, AFAIK.

For some of OSGeo Trac instances, I've never set e-mail in settings,
ie. for trac.osgeo.org/osgeo. I just did is today, but I've been
receiving notifications for months without problems. So, I'd say it's
not necessary and LDAP does the job well, but not for GEOS it seems.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From hobu.inc at gmail.com  Wed Nov 21 21:07:04 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Nov 21 21:07:48 2007
Subject: [geos-devel] Bugs Migrated
In-Reply-To: <4744CF63.6040204@loskot.net>
References: <D1876F4C-EA4A-453E-9372-20BC91C5840B@gmail.com>
	<4744CF63.6040204@loskot.net>
Message-ID: <6EF0FAC6-87DF-451D-A80F-28F38D955A01@gmail.com>


On Nov 21, 2007, at 6:37 PM, Mateusz Loskot wrote:

> Howard Butler wrote:
>> All,
>>
>> The bug list has now been migrated to Trac on OSGeo's infrastructure:
>>
>> http://trac.osgeo.org/geos/report/6
>
> I've tried to clean tickets according to milestones, versions and
> components. It's possible I've made a mistake ie. incorrectly assigned
> older tickets to milestones, but I hope it's not a problem as these  
> bugs
> have been already fixed.
>
> BTW, I've noticed that I'm not getting any notifications from GEOS  
> Trac.
> I've configured my e-mail in Trac Settings, however I believe it's not
> used as we use LDAP accounts management.
>

Correct, for other OSGeo Tracs, we do have email notification turned  
on.  If we would like it turned on for GEOS, let me know.

Howard

From mateusz at loskot.net  Wed Nov 21 21:16:58 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 21:17:03 2007
Subject: [geos-devel] Bugs Migrated
In-Reply-To: <6EF0FAC6-87DF-451D-A80F-28F38D955A01@gmail.com>
References: <D1876F4C-EA4A-453E-9372-20BC91C5840B@gmail.com>	<4744CF63.6040204@loskot.net>
	<6EF0FAC6-87DF-451D-A80F-28F38D955A01@gmail.com>
Message-ID: <4744E69A.40005@loskot.net>

Howard Butler wrote:
> 
> On Nov 21, 2007, at 6:37 PM, Mateusz Loskot wrote:
> 
>> Howard Butler wrote:
>>> All,
>>>
>>> The bug list has now been migrated to Trac on OSGeo's infrastructure:
>>>
>>> http://trac.osgeo.org/geos/report/6
>>
>> I've tried to clean tickets according to milestones, versions and
>> components. It's possible I've made a mistake ie. incorrectly assigned
>> older tickets to milestones, but I hope it's not a problem as these bugs
>> have been already fixed.
>>
>> BTW, I've noticed that I'm not getting any notifications from GEOS Trac.
>> I've configured my e-mail in Trac Settings, however I believe it's not
>> used as we use LDAP accounts management.
>>
> 
> Correct, for other OSGeo Tracs, we do have email notification turned
> on.  If we would like it turned on for GEOS, let me know.

Personally, I don't need it, just was curious.
I think we can leave this decision to the GEOS PSC :-)

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From john.c.cartwright at comcast.net  Thu Nov 22 13:24:42 2007
From: john.c.cartwright at comcast.net (John Cartwright)
Date: Thu Nov 22 13:17:15 2007
Subject: [geos-devel] XMLTester error
Message-ID: <B76665CB-DC89-4082-A90C-522CAB79A426@comcast.net>

Hello All,

I'm trying to compile 2.2.3 on Mac OS 10.5 and running into the  
following error:

XMLTester.cpp:66: error: 'std::tolower' is not a valid template  
argument for type 'int ()(int)' because function 'int tolower(int)'  
has not external linkage

Can someone suggest how I might deal with it?

Thanks!

--john

From mateusz at loskot.net  Thu Nov 22 20:48:23 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Nov 22 20:48:34 2007
Subject: [geos-devel] XMLTester error
In-Reply-To: <B76665CB-DC89-4082-A90C-522CAB79A426@comcast.net>
References: <B76665CB-DC89-4082-A90C-522CAB79A426@comcast.net>
Message-ID: <47463167.90405@loskot.net>

John Cartwright wrote:
> Hello All,
> 
> I'm trying to compile 2.2.3 on Mac OS 10.5 and running into the
> following error:
> 
> XMLTester.cpp:66: error: 'std::tolower' is not a valid template argument
> for type 'int ()(int)' because function 'int tolower(int)' has not
> external linkage
> 
> Can someone suggest how I might deal with it?

John,

There are two versions of tolower available in C++:
old C functiona and new locale-aware function in C++.
Apparently, GCC under Leopard introduces some changes
that cause tolower is ambiguous if both prototypes of tolower are
included and the function is through pointer to function what occurs in
line 66.

Could you try to replace the line 66 in file XMLTester.cpp with
following line and see if it compiles for you now?

std::transform(str.begin(), str.end(), str.begin(),
(int(*)(int))std::tolower);

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Thu Nov 22 20:54:15 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Nov 22 20:54:20 2007
Subject: [geos-devel] GEOS Buildbot on OSGeo Fram
Message-ID: <474632C7.90500@loskot.net>

Folks,

I've taken the liberty to configure GEOS Buildbot instance
on the OSGeo server:

http://buildbot.osgeo.org:8506/

Old Buildbot was hosted on Hobu's server at
http://geos.builds.hobu.net
but as we've migrated to OSGeo I think it's a good idea to use
common infrastructure for all OSGeo projects.

Currently, one slave is configured - Linux/FC4 (telascience).
Only compilation process is configured, in some time tests run will be
added.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Thu Nov 22 22:08:06 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Nov 22 22:08:17 2007
Subject: [geos-devel] OSX 10.5 compile problem
In-Reply-To: <68274935-C319-4B23-8931-C3E9250538DF@kyngchaos.com>
References: <68274935-C319-4B23-8931-C3E9250538DF@kyngchaos.com>
Message-ID: <47464416.6010405@loskot.net>

William Kyngesburye wrote:
> When compiling on OSX 10.5, I get an error in HCoordinate.cpp:
> 
> HCoordinate.cpp: In member function 'long double
> geos::algorithm::HCoordinate::getX() const':
> HCoordinate.cpp:197: error: 'finite' was not declared in this scope
> 
> If I use the 10.4u SDK it compiles (as it does in OSX 10.4).  Something
> must have changed in <cmath>, but it's beyond me.

William,

Sorry for the long delay.
I reported this problem to our brand new Trac along with proposing solution:

http://trac.osgeo.org/geos/ticket/162

I didn't applied this fix to SVN as I'd like to ask you for test.
I don't have Leo installed yet.
Could you replace the line 197 with new line proposed in the ticket,
and see if it compiles for you?

> PS.  Is there something wrong with the bug tracker?

We've migrated to OSGeo Trac:

http://trac.osgeo.org/geos/

You can use the same credentials that you use for GDAL and other OSGeo
projects.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From john.c.cartwright at comcast.net  Fri Nov 23 00:27:55 2007
From: john.c.cartwright at comcast.net (John Cartwright)
Date: Fri Nov 23 00:20:27 2007
Subject: [geos-devel] XMLTester error
In-Reply-To: <47463167.90405@loskot.net>
References: <B76665CB-DC89-4082-A90C-522CAB79A426@comcast.net>
	<47463167.90405@loskot.net>
Message-ID: <7453F7EF-AF6B-40F5-B0FD-5726B93AD2E4@comcast.net>

Thanks Mateusz, that seems to work great!

I appreciate your prompt response.

--john


On Nov 22, 2007, at 6:48 PM, Mateusz Loskot wrote:

> John Cartwright wrote:
>> Hello All,
>>
>> I'm trying to compile 2.2.3 on Mac OS 10.5 and running into the
>> following error:
>>
>> XMLTester.cpp:66: error: 'std::tolower' is not a valid template  
>> argument
>> for type 'int ()(int)' because function 'int tolower(int)' has not
>> external linkage
>>
>> Can someone suggest how I might deal with it?
>
> John,
>
> There are two versions of tolower available in C++:
> old C functiona and new locale-aware function in C++.
> Apparently, GCC under Leopard introduces some changes
> that cause tolower is ambiguous if both prototypes of tolower are
> included and the function is through pointer to function what occurs  
> in
> line 66.
>
> Could you try to replace the line 66 in file XMLTester.cpp with
> following line and see if it compiles for you now?
>
> std::transform(str.begin(), str.end(), str.begin(),
> (int(*)(int))std::tolower);
>
> Cheers
> -- 
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

From mateusz at loskot.net  Fri Nov 23 05:36:04 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Nov 23 05:36:10 2007
Subject: [geos-devel] XMLTester error
In-Reply-To: <7453F7EF-AF6B-40F5-B0FD-5726B93AD2E4@comcast.net>
References: <B76665CB-DC89-4082-A90C-522CAB79A426@comcast.net>	<47463167.90405@loskot.net>
	<7453F7EF-AF6B-40F5-B0FD-5726B93AD2E4@comcast.net>
Message-ID: <4746AD14.4070709@loskot.net>


John Cartwright wrote:
> Thanks Mateusz, that seems to work great!
> 
> I appreciate your prompt response.

John,

I'm glad it works.

Thanks for confirmatio. I will apply this change to GEOS.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From ramercer at gmail.com  Sat Nov 24 10:23:10 2007
From: ramercer at gmail.com (Adam Mercer)
Date: Sat Nov 24 10:23:12 2007
Subject: [geos-devel] GEOS 2.2.3 build error on Mac OS X Leopard
Message-ID: <799406d60711240723o5249b7c3p7d3d8486867bc83c@mail.gmail.com>

Hi

I've been trying to build the latest stable release, 2.2.3, on Mac OS
X Leopard and am running into the following build error:

Making all in test
if g++ -DHAVE_CONFIG_H -I. -I. -I../..//source/headers
-I../..//source/headers/geos -I../../source/headers
-I../../source/io/markup    -g -O2 -MT XMLTester.o -MD -MP -MF
".deps/XMLTester.Tpo" -c -o XMLTester.o XMLTester.cpp; \
	then mv -f ".deps/XMLTester.Tpo" ".deps/XMLTester.Po"; else rm -f
".deps/XMLTester.Tpo"; exit 1; fi
XMLTester.cpp: In function 'void tolower(std::string&)':
XMLTester.cpp:66: error: 'std::tolower' is not a valid template
argument for type 'int ()(int)' because function 'int tolower(int)'
has not external linkage
XMLTester.cpp:66: error: 'std::tolower' is not a valid template
argument for type 'int ()(int)' because function 'int tolower(int)'
has not external linkage
XMLTester.cpp:66: error: no matching function for call to
'transform(__gnu_cxx::__normal_iterator<char*, std::basic_string<char,
std::char_traits<char>, std::allocator<char> > >,
__gnu_cxx::__normal_iterator<char*, std::basic_string<char,
std::char_traits<char>, std::allocator<char> > >,
__gnu_cxx::__normal_iterator<char*, std::basic_string<char,
std::char_traits<char>, std::allocator<char> > >, <unknown type>)'
make[2]: *** [XMLTester.o] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all-recursive] Error 1

Any ideas?

Cheers

Adam
From john.c.cartwright at comcast.net  Sat Nov 24 13:47:13 2007
From: john.c.cartwright at comcast.net (John Cartwright)
Date: Sat Nov 24 13:39:45 2007
Subject: [geos-devel] GEOS 2.2.3 build error on Mac OS X Leopard
In-Reply-To: <799406d60711240723o5249b7c3p7d3d8486867bc83c@mail.gmail.com>
References: <799406d60711240723o5249b7c3p7d3d8486867bc83c@mail.gmail.com>
Message-ID: <06758BD1-8FB1-4D85-B344-C5DB202F83B8@comcast.net>

Mateusz's suggestion worked for me:

> There are two versions of tolower available in C++:
> old C functiona and new locale-aware function in C++.
> Apparently, GCC under Leopard introduces some changes
> that cause tolower is ambiguous if both prototypes of tolower are
> included and the function is through pointer to function what occurs  
> in
> line 66.
>
> Could you try to replace the line 66 in file XMLTester.cpp with
> following line and see if it compiles for you now?

--john


On Nov 24, 2007, at 8:23 AM, Adam Mercer wrote:

> Hi
>
> I've been trying to build the latest stable release, 2.2.3, on Mac OS
> X Leopard and am running into the following build error:
>
> Making all in test
> if g++ -DHAVE_CONFIG_H -I. -I. -I../..//source/headers
> -I../..//source/headers/geos -I../../source/headers
> -I../../source/io/markup    -g -O2 -MT XMLTester.o -MD -MP -MF
> ".deps/XMLTester.Tpo" -c -o XMLTester.o XMLTester.cpp; \
> 	then mv -f ".deps/XMLTester.Tpo" ".deps/XMLTester.Po"; else rm -f
> ".deps/XMLTester.Tpo"; exit 1; fi
> XMLTester.cpp: In function 'void tolower(std::string&)':
> XMLTester.cpp:66: error: 'std::tolower' is not a valid template
> argument for type 'int ()(int)' because function 'int tolower(int)'
> has not external linkage
> XMLTester.cpp:66: error: 'std::tolower' is not a valid template
> argument for type 'int ()(int)' because function 'int tolower(int)'
> has not external linkage
> XMLTester.cpp:66: error: no matching function for call to
> 'transform(__gnu_cxx::__normal_iterator<char*, std::basic_string<char,
> std::char_traits<char>, std::allocator<char> > >,
> __gnu_cxx::__normal_iterator<char*, std::basic_string<char,
> std::char_traits<char>, std::allocator<char> > >,
> __gnu_cxx::__normal_iterator<char*, std::basic_string<char,
> std::char_traits<char>, std::allocator<char> > >, <unknown type>)'
> make[2]: *** [XMLTester.o] Error 1
> make[1]: *** [all-recursive] Error 1
> make: *** [all-recursive] Error 1
>
> Any ideas?
>
> Cheers
>
> Adam
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

From kweller at asapwebsoft.com  Sat Nov 24 14:24:58 2007
From: kweller at asapwebsoft.com (Kevin Weller)
Date: Sat Nov 24 14:25:01 2007
Subject: [geos-devel] XMLTester error
In-Reply-To: <4746AD14.4070709@loskot.net>
References: <B76665CB-DC89-4082-A90C-522CAB79A426@comcast.net>	<47463167.90405@loskot.net>
	<7453F7EF-AF6B-40F5-B0FD-5726B93AD2E4@comcast.net>
	<4746AD14.4070709@loskot.net>
Message-ID: <3F03A68F-9E8A-4C67-98E2-B8261A6AC5DB@asapwebsoft.com>

In case you could use double-confirmation...it works for me too.

- Kevin

On Nov 23, 2007, at 3:36 AM, Mateusz Loskot wrote:

>
> John Cartwright wrote:
>> Thanks Mateusz, that seems to work great!
>>
>> I appreciate your prompt response.
>
> John,
>
> I'm glad it works.
>
> Thanks for confirmatio. I will apply this change to GEOS.
>
> Cheers
> -- 
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3818 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20071124/5b1efd9d/smime.bin
From kweller at asapwebsoft.com  Sat Nov 24 14:27:54 2007
From: kweller at asapwebsoft.com (Kevin Weller)
Date: Sat Nov 24 14:27:57 2007
Subject: [geos-devel] OSX 10.5 compile problem
In-Reply-To: <47464416.6010405@loskot.net>
References: <68274935-C319-4B23-8931-C3E9250538DF@kyngchaos.com>
	<47464416.6010405@loskot.net>
Message-ID: <2E055FB8-297A-4239-BC0B-33C2F27E85F0@asapwebsoft.com>

This one works for me too.

- Kevin

On Nov 22, 2007, at 8:08 PM, Mateusz Loskot wrote:

> William Kyngesburye wrote:
>> When compiling on OSX 10.5, I get an error in HCoordinate.cpp:
>>
>> HCoordinate.cpp: In member function 'long double
>> geos::algorithm::HCoordinate::getX() const':
>> HCoordinate.cpp:197: error: 'finite' was not declared in this scope
>>
>> If I use the 10.4u SDK it compiles (as it does in OSX 10.4).   
>> Something
>> must have changed in <cmath>, but it's beyond me.
>
> William,
>
> Sorry for the long delay.
> I reported this problem to our brand new Trac along with proposing  
> solution:
>
> http://trac.osgeo.org/geos/ticket/162
>
> I didn't applied this fix to SVN as I'd like to ask you for test.
> I don't have Leo installed yet.
> Could you replace the line 197 with new line proposed in the ticket,
> and see if it compiles for you?
>
>> PS.  Is there something wrong with the bug tracker?
>
> We've migrated to OSGeo Trac:
>
> http://trac.osgeo.org/geos/
>
> You can use the same credentials that you use for GDAL and other OSGeo
> projects.
>
> Cheers
> -- 
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3818 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20071124/601666a6/smime.bin
From ramercer at gmail.com  Sat Nov 24 14:39:37 2007
From: ramercer at gmail.com (Adam Mercer)
Date: Sat Nov 24 14:39:42 2007
Subject: [geos-devel] GEOS 2.2.3 build error on Mac OS X Leopard
In-Reply-To: <06758BD1-8FB1-4D85-B344-C5DB202F83B8@comcast.net>
References: <799406d60711240723o5249b7c3p7d3d8486867bc83c@mail.gmail.com>
	<06758BD1-8FB1-4D85-B344-C5DB202F83B8@comcast.net>
Message-ID: <799406d60711241139r3d11ce52l1202700df7144d6a@mail.gmail.com>

On 24/11/2007, John Cartwright <john.c.cartwright@comcast.net> wrote:

> Mateusz's suggestion worked for me:

Thanks.

Cheers

Adam
From mateusz at loskot.net  Mon Nov 26 01:49:27 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Nov 26 01:49:35 2007
Subject: [geos-devel] Re: Compile GEOS-3.0.0rc4 with nmake under VS2005
In-Reply-To: <2534c4120711230701x49e624dx494fb9b90a871d15@mail.gmail.com>
References: <2534c4120711230701x49e624dx494fb9b90a871d15@mail.gmail.com>
Message-ID: <474A6C77.7090505@loskot.net>

Zhonghai Wang wrote:
> Hi there,
> 
> I am trying to compile geos-3.0.0rc4 with nmake under VS2005  today 
> according to the instructions on your web page: 
> http://mateusz.loskot.net/projects/geos/, but I got an error message
> like:
> 
> NMAKE : fatal error U1073: don't know how to make 
> 'geom\CoordinateSequenceFactory.obj' Stop.
> 
> and I've checked the source file, there isn't such a file named 
> CoordinateSequenceFactory.cpp available. Is this file really missing
> in the source code package, or is the compile command line in the
> makefile.vcwrong?


Hi Zhonghai,

Thanks for reporting this problem. Yes, indeed there is a bug in VC++
makefile. I fixed it and posted update for makefile.vc on my blog:

http://mateusz.loskot.net/2007/11/26/geos-300rc4-and-visual-c/

Please, follow instructions included there and report if it works for
you now.

This problem does not occur in GEOS from Subversion. I hope next GEOS
package will include fixed makefiles.

p.s. I added gdal-devel list address to CC, so other users are notified
about this problem and solution.

-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Mon Nov 26 10:26:27 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Nov 26 10:26:37 2007
Subject: [geos-devel] Updated Visual C++ project files
Message-ID: <474AE5A3.4060008@loskot.net>

Hi,

I updated Visual C++ project files for GEOS.
Now, it uses geos.vsprops in which helpful macros are defined
as a central place where you can put locations of Python and Ruby files.
Then, there should be no need to hack project files. Just use Property
Manager to update values of these macros.

I also hacked geos_wrap.cxx file manually wrapping Python.h with simple
cheat that solves problem with building bindings in debug mode.
Here is related Ticket: http://trac.osgeo.org/geos/ticket/164
I imagine this change will get cleaned by SWIG, but perhaps there is a
way to keep it as is now.

Here is complete changeset:
http://trac.osgeo.org/geos/changeset/2035

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From kweller at asapwebsoft.com  Wed Nov 28 16:22:43 2007
From: kweller at asapwebsoft.com (Kevin Weller)
Date: Wed Nov 28 16:22:46 2007
Subject: [geos-devel] Difference operation not always working as expected
Message-ID: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>

All,

Hopefully it's not merely due to my own idiocy, but I'm experiencing  
some weird results from difference and snap operations that may or may  
not imply GEOS3 bugs.  I'm using the latest and greatest from trunk.   
Here's what I'm trying to do:

I've got a smaller polygon (which I call the negating polygon) which  
partially covers a larger polygon (which I call the primary polygon).   
The negating polygon is always flush with one side or corner of the  
primary polygon.  The goal is to subtract the negating polygon from  
the primary polygon such that there is a resulting "notch" in the  
primary.  You can see an example of this actually working by looking  
at http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png 
  and http://www.asapwebsoft.com/files/working_result_plot.png

Sometimes, with only slightly different input (in this case, I move  
the negating polygon to the East), it doesn't work.  See http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png 
  and http://www.asapwebsoft.com/files/broken_result_plot.png  
(interior ring not shown on the plot, but I've checked, and it's there)

In the latter case, instead of a notch in the resulting polygon, I get  
an interior ring (hole), even though the negating polygon is as close  
to overlapping as I can get it.  I've even tried using the  
GeometrySnapper to snap the negating polygon to the primary polygon,  
in case they weren't quite lined up, but no luck.  In fact, snapTo  
seems to have no effect for any of the inputs I provide, so the  
function must consider the polygon edges in question to be flush  
already.  But I still get holes instead of notches.

I'm scripting this in Ruby, and an excerpt from my Ruby driver code is  
at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb

Also, the current output from geos_tests.rb (showing a handful of  
failures, probably not related, but I don't know that for sure) is at http://www.asapwebsoft.com/files/test_output.txt

I'm not exactly sure what to try next, but I'm hoping that someone out  
there has some ideas.

Oh, in the process of working on this, I've added the snapping  
features to the C API and the SWIG bindings...hopefully correctly.   
I'll be happy to share those changes if the community wants them.   
Since I'm not a committer, what would I do?  Send patches to the list?

- Kevin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3818 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20071128/29378884/smime.bin
From mbdavis at refractions.net  Wed Nov 28 16:27:09 2007
From: mbdavis at refractions.net (Martin Davis)
Date: Wed Nov 28 16:33:21 2007
Subject: [geos-devel] Difference operation not always working as expected
In-Reply-To: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>
References: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>
Message-ID: <474DDD2D.5000704@refractions.net>

Kevin,

Please post the input and output WKT or WKB for your good and bad 
cases.  That's the only way we can attempt to debug this problem.

Kevin Weller wrote:
> All,
>
> Hopefully it's not merely due to my own idiocy, but I'm experiencing 
> some weird results from difference and snap operations that may or may 
> not imply GEOS3 bugs.  I'm using the latest and greatest from trunk.  
> Here's what I'm trying to do:
>
> I've got a smaller polygon (which I call the negating polygon) which 
> partially covers a larger polygon (which I call the primary polygon).  
> The negating polygon is always flush with one side or corner of the 
> primary polygon.  The goal is to subtract the negating polygon from 
> the primary polygon such that there is a resulting "notch" in the 
> primary.  You can see an example of this actually working by looking 
> at 
> http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png and 
> http://www.asapwebsoft.com/files/working_result_plot.png
>
> Sometimes, with only slightly different input (in this case, I move 
> the negating polygon to the East), it doesn't work.  See 
> http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png and 
> http://www.asapwebsoft.com/files/broken_result_plot.png (interior ring 
> not shown on the plot, but I've checked, and it's there)
>
> In the latter case, instead of a notch in the resulting polygon, I get 
> an interior ring (hole), even though the negating polygon is as close 
> to overlapping as I can get it.  I've even tried using the 
> GeometrySnapper to snap the negating polygon to the primary polygon, 
> in case they weren't quite lined up, but no luck.  In fact, snapTo 
> seems to have no effect for any of the inputs I provide, so the 
> function must consider the polygon edges in question to be flush 
> already.  But I still get holes instead of notches.
>
> I'm scripting this in Ruby, and an excerpt from my Ruby driver code is 
> at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb
>
> Also, the current output from geos_tests.rb (showing a handful of 
> failures, probably not related, but I don't know that for sure) is at 
> http://www.asapwebsoft.com/files/test_output.txt
>
> I'm not exactly sure what to try next, but I'm hoping that someone out 
> there has some ideas.
>
> Oh, in the process of working on this, I've added the snapping 
> features to the C API and the SWIG bindings...hopefully correctly.  
> I'll be happy to share those changes if the community wants them.  
> Since I'm not a committer, what would I do?  Send patches to the list?
>
> - Kevin
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-- 
Martin Davis
Senior Technical Architect
Refractions Research, Inc.
(250) 383-3022

From kweller at asapwebsoft.com  Thu Nov 29 11:52:49 2007
From: kweller at asapwebsoft.com (Kevin Weller)
Date: Thu Nov 29 11:52:52 2007
Subject: [geos-devel] Difference operation not always working as expected
In-Reply-To: <474DDD2D.5000704@refractions.net>
References: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>
	<474DDD2D.5000704@refractions.net>
Message-ID: <1586CFD7-14D1-4B09-AE4F-C1C4002BA53D@asapwebsoft.com>

OK, WKT it is!  Here ya go:


WORKING PRIMARY:
POLYGON ((1355.2556682087008539 2641.0482955551756277,  
2675.2549625870647105 2642.4131547503075126, 2695.5193111868375127  
3962.2575986814194948, 1375.5200168084738834 3960.8927394862880647,  
1355.2556682087008539 2641.0482955551756277))

WORKING NEGATING:
POLYGON ((1700.4537532531219313 3631.2728433022930403,  
1705.5198404030647907 3961.2339542850709222, 2035.5196639976556980  
3961.5751690838537797, 2030.4535768477128386 3631.6140581010758979,  
1700.4537532531219313 3631.2728433022930403))

WORKING RESULT:
POLYGON ((2035.5196639976556980 3961.5751690838537797,  
2695.5193111868375127 3962.2575986814194948, 2675.2549625870647105  
2642.4131547503075126, 1355.2556682087008539 2641.0482955551756277,  
1375.5200168084738834 3960.8927394862880647, 1705.5198404030647907  
3961.2339542850709222, 1700.4537532531219313 3631.2728433022930403,  
2030.4535768477128386 3631.6140581010758979, 2035.5196639976556980  
3961.5751690838537797))


BROKEN PRIMARY:
POLYGON ((1355.2556682087008539 2641.0482955551756277,  
2675.2549625870647105 2642.4131547503075126, 2695.5193111868375127  
3962.2575986814194948, 1375.5200168084738834 3960.8927394862880647,  
1355.2556682087008539 2641.0482955551756277))

BROKEN NEGATING:
POLYGON ((2030.4535768477128386 3631.6140581010754431,  
2035.5196639976556980 3961.5751690838537797, 2365.5194875922470601  
3961.9163838826366373, 2360.4534004423039733 3631.9552728998587554,  
2030.4535768477128386 3631.6140581010754431))

BROKEN RESULT:
POLYGON ((2035.5196639976556980 3961.5751690838537797,  
2695.5193111868375127 3962.2575986814194948, 2675.2549625870647105  
2642.4131547503075126, 1355.2556682087008539 2641.0482955551756277,  
1375.5200168084738834 3960.8927394862880647, 2035.5196639976556980  
3961.5751690838537797), (2035.5196639976556980 3961.5751690838537797,  
2030.4535768477128386 3631.6140581010754431, 2360.4534004423039733  
3631.9552728998587554, 2365.5194875922470601 3961.9163838826366373,  
2035.5196639976556980 3961.5751690838537797))


- Kevin


On Nov 28, 2007, at 2:27 PM, Martin Davis wrote:

> Kevin,
>
> Please post the input and output WKT or WKB for your good and bad  
> cases.  That's the only way we can attempt to debug this problem.
>
> Kevin Weller wrote:
>> All,
>>
>> Hopefully it's not merely due to my own idiocy, but I'm  
>> experiencing some weird results from difference and snap operations  
>> that may or may not imply GEOS3 bugs.  I'm using the latest and  
>> greatest from trunk.  Here's what I'm trying to do:
>>
>> I've got a smaller polygon (which I call the negating polygon)  
>> which partially covers a larger polygon (which I call the primary  
>> polygon).  The negating polygon is always flush with one side or  
>> corner of the primary polygon.  The goal is to subtract the  
>> negating polygon from the primary polygon such that there is a  
>> resulting "notch" in the primary.  You can see an example of this  
>> actually working by looking at http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png 
>>  and http://www.asapwebsoft.com/files/working_result_plot.png
>>
>> Sometimes, with only slightly different input (in this case, I move  
>> the negating polygon to the East), it doesn't work.  See http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png 
>>  and http://www.asapwebsoft.com/files/broken_result_plot.png  
>> (interior ring not shown on the plot, but I've checked, and it's  
>> there)
>>
>> In the latter case, instead of a notch in the resulting polygon, I  
>> get an interior ring (hole), even though the negating polygon is as  
>> close to overlapping as I can get it.  I've even tried using the  
>> GeometrySnapper to snap the negating polygon to the primary  
>> polygon, in case they weren't quite lined up, but no luck.  In  
>> fact, snapTo seems to have no effect for any of the inputs I  
>> provide, so the function must consider the polygon edges in  
>> question to be flush already.  But I still get holes instead of  
>> notches.
>>
>> I'm scripting this in Ruby, and an excerpt from my Ruby driver code  
>> is at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb
>>
>> Also, the current output from geos_tests.rb (showing a handful of  
>> failures, probably not related, but I don't know that for sure) is  
>> at http://www.asapwebsoft.com/files/test_output.txt
>>
>> I'm not exactly sure what to try next, but I'm hoping that someone  
>> out there has some ideas.
>>
>> Oh, in the process of working on this, I've added the snapping  
>> features to the C API and the SWIG bindings...hopefully correctly.   
>> I'll be happy to share those changes if the community wants them.   
>> Since I'm not a committer, what would I do?  Send patches to the  
>> list?
>>
>> - Kevin
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> -- 
> Martin Davis
> Senior Technical Architect
> Refractions Research, Inc.
> (250) 383-3022
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3818 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20071129/1e67fe2a/smime.bin
From mbdavis at refractions.net  Thu Nov 29 12:10:25 2007
From: mbdavis at refractions.net (Martin Davis)
Date: Thu Nov 29 12:10:36 2007
Subject: [geos-devel] Difference operation not always working as expected
In-Reply-To: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>
References: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>
Message-ID: <474EF281.5060605@refractions.net>

Leaving aside the snapping, I'm not too surprised that you're getting 
this result.  The top edge of the primary is angled slightly.  This 
makes it pretty much impossible for the top edge of the negating to lie 
*exactly* coincident with the primary edge (due to the finite precision 
of floating point).  So it's going to either fall short or fall outside 
- in this particular case, the negating edge is inside the primary 
polygon, and hence you get a hole when you subtract it.

The only way to ensure that you get a notch is to adjust the negating so 
that the top edge is definitely outside the primary. Since you seem to 
have some degree of control over the construction, is this possible?

Snapping probably wouldn't be invoked automatically in this case, since 
it doesn't trigger a robustness failure.

I'm not sure why manually snapping them doesn't work - AFAIK it should 
in this case.  Perhaps you need to change the tolerance value, or it's 
possible you're calling it incorrectly, or it's possible it has a bug.  
It wasn't really designed to be called outside of the GEOS overlay ops, 
so it wouldn't surprise me if  there's a problem.  If I have some time 
I'll experiment with this in and see if there's an obvious problem.

Kevin Weller wrote:
> All,
>
> Hopefully it's not merely due to my own idiocy, but I'm experiencing 
> some weird results from difference and snap operations that may or may 
> not imply GEOS3 bugs.  I'm using the latest and greatest from trunk.  
> Here's what I'm trying to do:
>
> I've got a smaller polygon (which I call the negating polygon) which 
> partially covers a larger polygon (which I call the primary polygon).  
> The negating polygon is always flush with one side or corner of the 
> primary polygon.  The goal is to subtract the negating polygon from 
> the primary polygon such that there is a resulting "notch" in the 
> primary.  You can see an example of this actually working by looking 
> at 
> http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png and 
> http://www.asapwebsoft.com/files/working_result_plot.png
>
> Sometimes, with only slightly different input (in this case, I move 
> the negating polygon to the East), it doesn't work.  See 
> http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png and 
> http://www.asapwebsoft.com/files/broken_result_plot.png (interior ring 
> not shown on the plot, but I've checked, and it's there)
>
> In the latter case, instead of a notch in the resulting polygon, I get 
> an interior ring (hole), even though the negating polygon is as close 
> to overlapping as I can get it.  I've even tried using the 
> GeometrySnapper to snap the negating polygon to the primary polygon, 
> in case they weren't quite lined up, but no luck.  In fact, snapTo 
> seems to have no effect for any of the inputs I provide, so the 
> function must consider the polygon edges in question to be flush 
> already.  But I still get holes instead of notches.
>
> I'm scripting this in Ruby, and an excerpt from my Ruby driver code is 
> at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb
>
> Also, the current output from geos_tests.rb (showing a handful of 
> failures, probably not related, but I don't know that for sure) is at 
> http://www.asapwebsoft.com/files/test_output.txt
>
> I'm not exactly sure what to try next, but I'm hoping that someone out 
> there has some ideas.
>
> Oh, in the process of working on this, I've added the snapping 
> features to the C API and the SWIG bindings...hopefully correctly.  
> I'll be happy to share those changes if the community wants them.  
> Since I'm not a committer, what would I do?  Send patches to the list?
>
> - Kevin
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-- 
Martin Davis
Senior Technical Architect
Refractions Research, Inc.
(250) 383-3022

From kweller at asapwebsoft.com  Thu Nov 29 16:28:48 2007
From: kweller at asapwebsoft.com (Kevin Weller)
Date: Thu Nov 29 16:28:58 2007
Subject: [geos-devel] Difference operation not always working as expected
In-Reply-To: <474EF281.5060605@refractions.net>
References: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>
	<474EF281.5060605@refractions.net>
Message-ID: <DBA60CDE-D4D8-4DDF-B0BF-3218DB797A87@asapwebsoft.com>

I do indeed have some control over the construction of the negating  
polygon.  Though figuring out what adjustments to make in the general  
case might be a bit of a challenge, I think I can manage.  I'll work  
on it.

Never dug into the GEOS guts enough to realize that snapping is  
automatically invoked internally by the overlay operations...I just  
saw the snapper in the API docs and thought, "That's what I  
need!" :-)  But if I'm understanding you correctly, my modifications  
to expose snapTo via the C API and the SWIG bindings may not be all  
that useful to anyone.  And I thought I was contributing something  
cool. <sigh>

- Kevin

On Nov 29, 2007, at 10:10 AM, Martin Davis wrote:

> Leaving aside the snapping, I'm not too surprised that you're  
> getting this result.  The top edge of the primary is angled  
> slightly.  This makes it pretty much impossible for the top edge of  
> the negating to lie *exactly* coincident with the primary edge (due  
> to the finite precision of floating point).  So it's going to either  
> fall short or fall outside - in this particular case, the negating  
> edge is inside the primary polygon, and hence you get a hole when  
> you subtract it.
>
> The only way to ensure that you get a notch is to adjust the  
> negating so that the top edge is definitely outside the primary.  
> Since you seem to have some degree of control over the construction,  
> is this possible?
>
> Snapping probably wouldn't be invoked automatically in this case,  
> since it doesn't trigger a robustness failure.
>
> I'm not sure why manually snapping them doesn't work - AFAIK it  
> should in this case.  Perhaps you need to change the tolerance  
> value, or it's possible you're calling it incorrectly, or it's  
> possible it has a bug.  It wasn't really designed to be called  
> outside of the GEOS overlay ops, so it wouldn't surprise me if   
> there's a problem.  If I have some time I'll experiment with this in  
> and see if there's an obvious problem.
>
> Kevin Weller wrote:
>> All,
>>
>> Hopefully it's not merely due to my own idiocy, but I'm  
>> experiencing some weird results from difference and snap operations  
>> that may or may not imply GEOS3 bugs.  I'm using the latest and  
>> greatest from trunk.  Here's what I'm trying to do:
>>
>> I've got a smaller polygon (which I call the negating polygon)  
>> which partially covers a larger polygon (which I call the primary  
>> polygon).  The negating polygon is always flush with one side or  
>> corner of the primary polygon.  The goal is to subtract the  
>> negating polygon from the primary polygon such that there is a  
>> resulting "notch" in the primary.  You can see an example of this  
>> actually working by looking at http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png 
>>  and http://www.asapwebsoft.com/files/working_result_plot.png
>>
>> Sometimes, with only slightly different input (in this case, I move  
>> the negating polygon to the East), it doesn't work.  See http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png 
>>  and http://www.asapwebsoft.com/files/broken_result_plot.png  
>> (interior ring not shown on the plot, but I've checked, and it's  
>> there)
>>
>> In the latter case, instead of a notch in the resulting polygon, I  
>> get an interior ring (hole), even though the negating polygon is as  
>> close to overlapping as I can get it.  I've even tried using the  
>> GeometrySnapper to snap the negating polygon to the primary  
>> polygon, in case they weren't quite lined up, but no luck.  In  
>> fact, snapTo seems to have no effect for any of the inputs I  
>> provide, so the function must consider the polygon edges in  
>> question to be flush already.  But I still get holes instead of  
>> notches.
>>
>> I'm scripting this in Ruby, and an excerpt from my Ruby driver code  
>> is at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb
>>
>> Also, the current output from geos_tests.rb (showing a handful of  
>> failures, probably not related, but I don't know that for sure) is  
>> at http://www.asapwebsoft.com/files/test_output.txt
>>
>> I'm not exactly sure what to try next, but I'm hoping that someone  
>> out there has some ideas.
>>
>> Oh, in the process of working on this, I've added the snapping  
>> features to the C API and the SWIG bindings...hopefully correctly.   
>> I'll be happy to share those changes if the community wants them.   
>> Since I'm not a committer, what would I do?  Send patches to the  
>> list?
>>
>> - Kevin
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> -- 
> Martin Davis
> Senior Technical Architect
> Refractions Research, Inc.
> (250) 383-3022
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3818 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20071129/246f3dd5/smime.bin
From kweller at asapwebsoft.com  Fri Nov 30 12:07:42 2007
From: kweller at asapwebsoft.com (Kevin Weller)
Date: Fri Nov 30 12:07:47 2007
Subject: [geos-devel] Difference operation not always working as expected
In-Reply-To: <474EF281.5060605@refractions.net>
References: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>
	<474EF281.5060605@refractions.net>
Message-ID: <46BDFB30-05CA-4EF6-8FFF-DF1EDBC5D12C@asapwebsoft.com>

To follow up, I can confirm that if I adjust the outer (Northern in  
this case) edge of the negating polygon so that it is outside the  
primary polygon, I do indeed get a notch instead of a hole.  Thanks  
for the help!

Please let me know if you could imagine a use for the exposure of the  
snapTo operation via the C API (and SWIG bindings).  If not, I'll just  
revert my local source copies to what's in trunk.

I do suspect that my original snap operation might be working as best  
it can but for the limitations of floating point precision.  Oh, and  
changing the tolerance value in any direction seems to have little  
effect with my given inputs, which would make perfect sense to me if  
the edges overlap about as much as their floating point  
representations allow.

- Kevin

On Nov 29, 2007, at 10:10 AM, Martin Davis wrote:

> Leaving aside the snapping, I'm not too surprised that you're  
> getting this result.  The top edge of the primary is angled  
> slightly.  This makes it pretty much impossible for the top edge of  
> the negating to lie *exactly* coincident with the primary edge (due  
> to the finite precision of floating point).  So it's going to either  
> fall short or fall outside - in this particular case, the negating  
> edge is inside the primary polygon, and hence you get a hole when  
> you subtract it.
>
> The only way to ensure that you get a notch is to adjust the  
> negating so that the top edge is definitely outside the primary.  
> Since you seem to have some degree of control over the construction,  
> is this possible?
>
> Snapping probably wouldn't be invoked automatically in this case,  
> since it doesn't trigger a robustness failure.
>
> I'm not sure why manually snapping them doesn't work - AFAIK it  
> should in this case.  Perhaps you need to change the tolerance  
> value, or it's possible you're calling it incorrectly, or it's  
> possible it has a bug.  It wasn't really designed to be called  
> outside of the GEOS overlay ops, so it wouldn't surprise me if   
> there's a problem.  If I have some time I'll experiment with this in  
> and see if there's an obvious problem.
>
> Kevin Weller wrote:
>> All,
>>
>> Hopefully it's not merely due to my own idiocy, but I'm  
>> experiencing some weird results from difference and snap operations  
>> that may or may not imply GEOS3 bugs.  I'm using the latest and  
>> greatest from trunk.  Here's what I'm trying to do:
>>
>> I've got a smaller polygon (which I call the negating polygon)  
>> which partially covers a larger polygon (which I call the primary  
>> polygon).  The negating polygon is always flush with one side or  
>> corner of the primary polygon.  The goal is to subtract the  
>> negating polygon from the primary polygon such that there is a  
>> resulting "notch" in the primary.  You can see an example of this  
>> actually working by looking at http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png 
>>  and http://www.asapwebsoft.com/files/working_result_plot.png
>>
>> Sometimes, with only slightly different input (in this case, I move  
>> the negating polygon to the East), it doesn't work.  See http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png 
>>  and http://www.asapwebsoft.com/files/broken_result_plot.png  
>> (interior ring not shown on the plot, but I've checked, and it's  
>> there)
>>
>> In the latter case, instead of a notch in the resulting polygon, I  
>> get an interior ring (hole), even though the negating polygon is as  
>> close to overlapping as I can get it.  I've even tried using the  
>> GeometrySnapper to snap the negating polygon to the primary  
>> polygon, in case they weren't quite lined up, but no luck.  In  
>> fact, snapTo seems to have no effect for any of the inputs I  
>> provide, so the function must consider the polygon edges in  
>> question to be flush already.  But I still get holes instead of  
>> notches.
>>
>> I'm scripting this in Ruby, and an excerpt from my Ruby driver code  
>> is at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb
>>
>> Also, the current output from geos_tests.rb (showing a handful of  
>> failures, probably not related, but I don't know that for sure) is  
>> at http://www.asapwebsoft.com/files/test_output.txt
>>
>> I'm not exactly sure what to try next, but I'm hoping that someone  
>> out there has some ideas.
>>
>> Oh, in the process of working on this, I've added the snapping  
>> features to the C API and the SWIG bindings...hopefully correctly.   
>> I'll be happy to share those changes if the community wants them.   
>> Since I'm not a committer, what would I do?  Send patches to the  
>> list?
>>
>> - Kevin
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> -- 
> Martin Davis
> Senior Technical Architect
> Refractions Research, Inc.
> (250) 383-3022
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3818 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20071130/b46003c6/smime.bin
From mbdavis at refractions.net  Fri Nov 30 12:25:20 2007
From: mbdavis at refractions.net (Martin Davis)
Date: Fri Nov 30 12:25:42 2007
Subject: [geos-devel] Difference operation not always working as expected
In-Reply-To: <46BDFB30-05CA-4EF6-8FFF-DF1EDBC5D12C@asapwebsoft.com>
References: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>	<474EF281.5060605@refractions.net>
	<46BDFB30-05CA-4EF6-8FFF-DF1EDBC5D12C@asapwebsoft.com>
Message-ID: <47504780.2030307@refractions.net>

The only downside to having the snap operations exposed is that clearly 
they don't work in the way that some would expect them too.  If this is 
going to lead to a lot of questions then perhaps it's better not to 
expose them....


Kevin Weller wrote:
> To follow up, I can confirm that if I adjust the outer (Northern in 
> this case) edge of the negating polygon so that it is outside the 
> primary polygon, I do indeed get a notch instead of a hole.  Thanks 
> for the help!
>
> Please let me know if you could imagine a use for the exposure of the 
> snapTo operation via the C API (and SWIG bindings).  If not, I'll just 
> revert my local source copies to what's in trunk.
>
> I do suspect that my original snap operation might be working as best 
> it can but for the limitations of floating point precision.  Oh, and 
> changing the tolerance value in any direction seems to have little 
> effect with my given inputs, which would make perfect sense to me if 
> the edges overlap about as much as their floating point 
> representations allow.
>
> - Kevin
>
> On Nov 29, 2007, at 10:10 AM, Martin Davis wrote:
>
>> Leaving aside the snapping, I'm not too surprised that you're getting 
>> this result.  The top edge of the primary is angled slightly.  This 
>> makes it pretty much impossible for the top edge of the negating to 
>> lie *exactly* coincident with the primary edge (due to the finite 
>> precision of floating point).  So it's going to either fall short or 
>> fall outside - in this particular case, the negating edge is inside 
>> the primary polygon, and hence you get a hole when you subtract it.
>>
>> The only way to ensure that you get a notch is to adjust the negating 
>> so that the top edge is definitely outside the primary. Since you 
>> seem to have some degree of control over the construction, is this 
>> possible?
>>
>> Snapping probably wouldn't be invoked automatically in this case, 
>> since it doesn't trigger a robustness failure.
>>
>> I'm not sure why manually snapping them doesn't work - AFAIK it 
>> should in this case.  Perhaps you need to change the tolerance value, 
>> or it's possible you're calling it incorrectly, or it's possible it 
>> has a bug.  It wasn't really designed to be called outside of the 
>> GEOS overlay ops, so it wouldn't surprise me if  there's a problem.  
>> If I have some time I'll experiment with this in and see if there's 
>> an obvious problem.
>>
>> Kevin Weller wrote:
>>> All,
>>>
>>> Hopefully it's not merely due to my own idiocy, but I'm experiencing 
>>> some weird results from difference and snap operations that may or 
>>> may not imply GEOS3 bugs.  I'm using the latest and greatest from 
>>> trunk.  Here's what I'm trying to do:
>>>
>>> I've got a smaller polygon (which I call the negating polygon) which 
>>> partially covers a larger polygon (which I call the primary 
>>> polygon).  The negating polygon is always flush with one side or 
>>> corner of the primary polygon.  The goal is to subtract the negating 
>>> polygon from the primary polygon such that there is a resulting 
>>> "notch" in the primary.  You can see an example of this actually 
>>> working by looking at 
>>> http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png and 
>>> http://www.asapwebsoft.com/files/working_result_plot.png
>>>
>>> Sometimes, with only slightly different input (in this case, I move 
>>> the negating polygon to the East), it doesn't work.  See 
>>> http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png and 
>>> http://www.asapwebsoft.com/files/broken_result_plot.png (interior 
>>> ring not shown on the plot, but I've checked, and it's there)
>>>
>>> In the latter case, instead of a notch in the resulting polygon, I 
>>> get an interior ring (hole), even though the negating polygon is as 
>>> close to overlapping as I can get it.  I've even tried using the 
>>> GeometrySnapper to snap the negating polygon to the primary polygon, 
>>> in case they weren't quite lined up, but no luck.  In fact, snapTo 
>>> seems to have no effect for any of the inputs I provide, so the 
>>> function must consider the polygon edges in question to be flush 
>>> already.  But I still get holes instead of notches.
>>>
>>> I'm scripting this in Ruby, and an excerpt from my Ruby driver code 
>>> is at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb
>>>
>>> Also, the current output from geos_tests.rb (showing a handful of 
>>> failures, probably not related, but I don't know that for sure) is 
>>> at http://www.asapwebsoft.com/files/test_output.txt
>>>
>>> I'm not exactly sure what to try next, but I'm hoping that someone 
>>> out there has some ideas.
>>>
>>> Oh, in the process of working on this, I've added the snapping 
>>> features to the C API and the SWIG bindings...hopefully correctly.  
>>> I'll be happy to share those changes if the community wants them.  
>>> Since I'm not a committer, what would I do?  Send patches to the list?
>>>
>>> - Kevin
>>>
>>> ------------------------------------------------------------------------ 
>>>
>>>
>>> _______________________________________________
>>> geos-devel mailing list
>>> geos-devel@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>> -- 
>> Martin Davis
>> Senior Technical Architect
>> Refractions Research, Inc.
>> (250) 383-3022
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-- 
Martin Davis
Senior Technical Architect
Refractions Research, Inc.
(250) 383-3022

From kweller at asapwebsoft.com  Fri Nov 30 13:02:13 2007
From: kweller at asapwebsoft.com (Kevin Weller)
Date: Fri Nov 30 13:02:15 2007
Subject: [geos-devel] Difference operation not always working as expected
In-Reply-To: <47504780.2030307@refractions.net>
References: <652E6613-29AF-407A-9945-9B53242BA14D@asapwebsoft.com>	<474EF281.5060605@refractions.net>
	<46BDFB30-05CA-4EF6-8FFF-DF1EDBC5D12C@asapwebsoft.com>
	<47504780.2030307@refractions.net>
Message-ID: <900E8084-DAFA-4833-AEB1-13491DB4E631@asapwebsoft.com>

That's what I thought you'd say...just wanted to make sure before I  
blew my changes away.  Probably better not to clutter up the API with  
unnecessary and confusing functionality, but I figured you'd be a  
better judge of that than I.  Thanks again for putting up with my  
relative newbieness.

- Kevin

On Nov 30, 2007, at 10:25 AM, Martin Davis wrote:

> The only downside to having the snap operations exposed is that  
> clearly they don't work in the way that some would expect them too.   
> If this is going to lead to a lot of questions then perhaps it's  
> better not to expose them....
>
>
> Kevin Weller wrote:
>> To follow up, I can confirm that if I adjust the outer (Northern in  
>> this case) edge of the negating polygon so that it is outside the  
>> primary polygon, I do indeed get a notch instead of a hole.  Thanks  
>> for the help!
>>
>> Please let me know if you could imagine a use for the exposure of  
>> the snapTo operation via the C API (and SWIG bindings).  If not,  
>> I'll just revert my local source copies to what's in trunk.
>>
>> I do suspect that my original snap operation might be working as  
>> best it can but for the limitations of floating point precision.   
>> Oh, and changing the tolerance value in any direction seems to have  
>> little effect with my given inputs, which would make perfect sense  
>> to me if the edges overlap about as much as their floating point  
>> representations allow.
>>
>> - Kevin
>>
>> On Nov 29, 2007, at 10:10 AM, Martin Davis wrote:
>>
>>> Leaving aside the snapping, I'm not too surprised that you're  
>>> getting this result.  The top edge of the primary is angled  
>>> slightly.  This makes it pretty much impossible for the top edge  
>>> of the negating to lie *exactly* coincident with the primary edge  
>>> (due to the finite precision of floating point).  So it's going to  
>>> either fall short or fall outside - in this particular case, the  
>>> negating edge is inside the primary polygon, and hence you get a  
>>> hole when you subtract it.
>>>
>>> The only way to ensure that you get a notch is to adjust the  
>>> negating so that the top edge is definitely outside the primary.  
>>> Since you seem to have some degree of control over the  
>>> construction, is this possible?
>>>
>>> Snapping probably wouldn't be invoked automatically in this case,  
>>> since it doesn't trigger a robustness failure.
>>>
>>> I'm not sure why manually snapping them doesn't work - AFAIK it  
>>> should in this case.  Perhaps you need to change the tolerance  
>>> value, or it's possible you're calling it incorrectly, or it's  
>>> possible it has a bug.  It wasn't really designed to be called  
>>> outside of the GEOS overlay ops, so it wouldn't surprise me if   
>>> there's a problem.  If I have some time I'll experiment with this  
>>> in and see if there's an obvious problem.
>>>
>>> Kevin Weller wrote:
>>>> All,
>>>>
>>>> Hopefully it's not merely due to my own idiocy, but I'm  
>>>> experiencing some weird results from difference and snap  
>>>> operations that may or may not imply GEOS3 bugs.  I'm using the  
>>>> latest and greatest from trunk.  Here's what I'm trying to do:
>>>>
>>>> I've got a smaller polygon (which I call the negating polygon)  
>>>> which partially covers a larger polygon (which I call the primary  
>>>> polygon).  The negating polygon is always flush with one side or  
>>>> corner of the primary polygon.  The goal is to subtract the  
>>>> negating polygon from the primary polygon such that there is a  
>>>> resulting "notch" in the primary.  You can see an example of this  
>>>> actually working by looking at http://www.asapwebsoft.com/files/working_primary_and_negating_plot.png 
>>>>  and http://www.asapwebsoft.com/files/working_result_plot.png
>>>>
>>>> Sometimes, with only slightly different input (in this case, I  
>>>> move the negating polygon to the East), it doesn't work.  See http://www.asapwebsoft.com/files/broken_primary_and_negating_plot.png 
>>>>  and http://www.asapwebsoft.com/files/broken_result_plot.png  
>>>> (interior ring not shown on the plot, but I've checked, and it's  
>>>> there)
>>>>
>>>> In the latter case, instead of a notch in the resulting polygon,  
>>>> I get an interior ring (hole), even though the negating polygon  
>>>> is as close to overlapping as I can get it.  I've even tried  
>>>> using the GeometrySnapper to snap the negating polygon to the  
>>>> primary polygon, in case they weren't quite lined up, but no  
>>>> luck.  In fact, snapTo seems to have no effect for any of the  
>>>> inputs I provide, so the function must consider the polygon edges  
>>>> in question to be flush already.  But I still get holes instead  
>>>> of notches.
>>>>
>>>> I'm scripting this in Ruby, and an excerpt from my Ruby driver  
>>>> code is at http://www.asapwebsoft.com/files/geos_client_code_excerpt.rb
>>>>
>>>> Also, the current output from geos_tests.rb (showing a handful of  
>>>> failures, probably not related, but I don't know that for sure)  
>>>> is at http://www.asapwebsoft.com/files/test_output.txt
>>>>
>>>> I'm not exactly sure what to try next, but I'm hoping that  
>>>> someone out there has some ideas.
>>>>
>>>> Oh, in the process of working on this, I've added the snapping  
>>>> features to the C API and the SWIG bindings...hopefully  
>>>> correctly.  I'll be happy to share those changes if the community  
>>>> wants them.  Since I'm not a committer, what would I do?  Send  
>>>> patches to the list?
>>>>
>>>> - Kevin
>>>>
>>>> ------------------------------------------------------------------------
>>>>
>>>> _______________________________________________
>>>> geos-devel mailing list
>>>> geos-devel@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>>
>>> -- 
>>> Martin Davis
>>> Senior Technical Architect
>>> Refractions Research, Inc.
>>> (250) 383-3022
>>>
>>> _______________________________________________
>>> geos-devel mailing list
>>> geos-devel@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> -- 
> Martin Davis
> Senior Technical Architect
> Refractions Research, Inc.
> (250) 383-3022
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3818 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20071130/20cf70dd/smime-0001.bin
