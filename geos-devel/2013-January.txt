From geos-trac at osgeo.org  Fri Jan 11 03:41:15 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 11:41:15 -0000
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
Message-ID: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>

#609: GEOSPointOnSurface returns EMPTY for single-point linestring
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 I would expect the single point as an answer instead.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/609>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 03:58:28 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 11:58:28 -0000
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
Message-ID: <053.2e3b8de71bc5564149ecb2b3a44fa87c@osgeo.org>

#609: GEOSPointOnSurface returns EMPTY for single-point linestring
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Problem is with CentroidLine class intentionally refusing to give an
 answer for lines with no length.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/609#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 05:23:08 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 13:23:08 -0000
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
Message-ID: <053.ff33e3be5982f320c842cd0ea24c1571@osgeo.org>

#609: GEOSPointOnSurface returns EMPTY for single-point linestring
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Same with GEOSCentroid, indeed

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/609#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 05:48:32 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 13:48:32 -0000
Subject: [geos-devel] [GEOS] #610: geos 3.3.6 : WKTReader fails on POINT(0
 0) (MSVC 2008, W7)
Message-ID: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>

#610: geos 3.3.6 : WKTReader fails on POINT(0 0) (MSVC 2008, W7)
------------------------+---------------------------------------------------
 Reporter:  gt75        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 Simple program fails with heap corruption error.

 namespace ggm = geos::geom;

 namespace gio = geos::io;

 ggm::PrecisionModel *pm = new
 ggm::PrecisionModel(PrecisionModel::FLOATING);

 ggm::GeometryFactory *gf = new ggm::GeometryFactory(pm);

 gio::WKTReader *wktReader = new gio::WKTReader(gf);

 const std::string str = " POINT (0 0) ";


 ggm::Geometry *geom = wktReader->read(str); //HERE IT FAILS

 delete wktReader;

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/610>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 06:01:58 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 14:01:58 -0000
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
Message-ID: <053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>

#609: GEOSPointOnSurface returns EMPTY for single-point linestring
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 So for GEOSCentroid the answer is correct, in that by definition the
 CentroidLine class computes the centroid of all segment's midpoint
 weighted by segment length, so a zero-length segment is not considered.

 Now, the algorithm of InteriorPointLine [1] is:

    - Find an interior vertex which is closest to the centroid of the
 linestring.
    - If there is no interior vertex, find the endpoint which is closest to
 the centroid.

 [1]
 http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html

 But if there's no interior vertex both endpoints are equidistant to the
 centroid, aren't them ?
 Martin: am I missing anything ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/609#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 06:23:17 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 14:23:17 -0000
Subject: [geos-devel] [GEOS] #610: geos 3.3.6 : WKTReader fails on
 POINT(0 0) (MSVC 2008, W7)
In-Reply-To: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
References: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
Message-ID: <053.53f9cb26db237310347c83bc2b7e0e24@osgeo.org>

#610: geos 3.3.6 : WKTReader fails on POINT(0 0) (MSVC 2008, W7)
------------------------+---------------------------------------------------
 Reporter:  gt75        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Did "make check" succeed ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/610#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 06:37:42 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 14:37:42 -0000
Subject: [geos-devel] [GEOS] #610: geos 3.3.6 : WKTReader fails on
 POINT(0 0) (MSVC 2008, W7)
In-Reply-To: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
References: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
Message-ID: <053.2bf66725a1aafb5a71eb519743f618ef@osgeo.org>

#610: geos 3.3.6 : WKTReader fails on POINT(0 0) (MSVC 2008, W7)
------------------------+---------------------------------------------------
 Reporter:  gt75        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  worksforme                
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by mloskot):

  * status:  new => closed
  * resolution:  => worksforme


Comment:

 My crystal sphere failed to figure out what you mean by "//HERE IT FAILS",
 but the tests confirm everything is in order and the mysterious failure is
 not reproducible r3740

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/610#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 06:38:01 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 14:38:01 -0000
Subject: [geos-devel] [GEOS] #610: geos 3.3.6 : WKTReader fails on
 POINT(0 0) (MSVC 2008, W7)
In-Reply-To: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
References: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
Message-ID: <053.a983ccb60bd135f4a79c91821472ee27@osgeo.org>

#610: geos 3.3.6 : WKTReader fails on POINT(0 0) (MSVC 2008, W7)
------------------------+---------------------------------------------------
 Reporter:  gt75        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  worksforme                
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by mloskot):

 Tested using VS2010

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/610#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 07:02:39 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 15:02:39 -0000
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
Message-ID: <053.515c519cd715f73bd19c05bd15bf0cec@osgeo.org>

#609: GEOSPointOnSurface returns EMPTY for single-point linestring
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 InteriorPointLine fixed by r3739 in 3.3 branch and r3741 in trunk.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/609#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 09:27:03 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 17:27:03 -0000
Subject: [geos-devel] [GEOS] #611: [PATCH] Move static class members of
 Interrupt out of header
Message-ID: <047.2fb42e9127630f72910e3ae69bbc978b@osgeo.org>

#611: [PATCH] Move static class members of Interrupt out of header
-------------------------+--------------------------------------------------
 Reporter:  mloskot      |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.3.7                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Significant  |    Keywords:                            
-------------------------+--------------------------------------------------
 In Interrupt class, static class members are accessed from several inline
 functions but they are not part of the exportable interface of GEOS DLL
 causing linker errors.

 Simple solution is to move them out of the header.

 Patch attached.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/611>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 11 09:31:43 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 11 Jan 2013 17:31:43 -0000
Subject: [geos-devel] [GEOS] #611: [PATCH] Move static class members of
 Interrupt out of header
In-Reply-To: <047.2fb42e9127630f72910e3ae69bbc978b@osgeo.org>
References: <047.2fb42e9127630f72910e3ae69bbc978b@osgeo.org>
Message-ID: <056.6a514e3fbf1cc49385d6a9c5609b8a92@osgeo.org>

#611: [PATCH] Move static class members of Interrupt out of header
-------------------------+--------------------------------------------------
 Reporter:  mloskot      |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Significant  |    Keywords:                            
-------------------------+--------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.4.0


Comment:

 no problem here, can you just git svn-dcommit ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/611#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From mtnclimb at telus.net  Fri Jan 11 09:32:45 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Fri, 11 Jan 2013 09:32:45 -0800
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
Message-ID: <50F04CBD.7090108@telus.net>

Just to clarify my original response, the primary constraint on 
functions that return geometry values is that they return a valid 
geometry that makes some sort of sense.

So in the case of centroid, regardless of what is "mathematically 
correct" a valid sensible geometry should be returned (as opposed to a 
meaningless geometry with NaN ordinates, as now happens).

In the case of interiorPoint the situation is even more clearcut - 
obviously the interior point should be one of the points in the geometry.

On 1/11/2013 6:01 AM, GEOS wrote:
> #609: GEOSPointOnSurface returns EMPTY for single-point linestring
> ------------------------+---------------------------------------------------
>   Reporter:  strk        |       Owner:  geos-devel@?
>       Type:  defect      |      Status:  new
>   Priority:  major       |   Milestone:  3.3.7
> Component:  Default     |     Version:  3.3.6
>   Severity:  Unassigned  |    Keywords:
> ------------------------+---------------------------------------------------
>
> Comment(by strk):
>
>   So for GEOSCentroid the answer is correct, in that by definition the
>   CentroidLine class computes the centroid of all segment's midpoint
>   weighted by segment length, so a zero-length segment is not considered.
>
>   Now, the algorithm of InteriorPointLine [1] is:
>
>      - Find an interior vertex which is closest to the centroid of the
>   linestring.
>      - If there is no interior vertex, find the endpoint which is closest to
>   the centroid.
>
>   [1]
>   http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html
>
>   But if there's no interior vertex both endpoints are equidistant to the
>   centroid, aren't them ?
>   Martin: am I missing anything ?
>


From mtnclimb at telus.net  Fri Jan 11 09:45:11 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Fri, 11 Jan 2013 09:45:11 -0800
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <50F04CBD.7090108@telus.net>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
	<50F04CBD.7090108@telus.net>
Message-ID: <50F04FA7.9010906@telus.net>

I just realized some corner cases, which require some clarification to 
deal with.

One is geometries with multiple zero-length lines.  In this case I think 
the geometries should be treated as points, and the centroid and 
interior point computed accordingly.

A similar situation exists for polygons with no area (which are invalid, 
but it's still nice to return a sensible answer).  A similar strategy 
should work - treat them as points.  Polygons with extent but no area 
(eg POLYGON ((200 200, 200 300, 200 200, 200 200))) can be treated as if 
they are lines.

In all cases, if geometry components of higher dimension are present, 
the lower-dimension geometries are ignored.

This is going to require more significant change to handle - in 
particular, it points toward having single class for Centroid to handle 
all geometry types.

On 1/11/2013 9:32 AM, Martin Davis wrote:
> Just to clarify my original response, the primary constraint on 
> functions that return geometry values is that they return a valid 
> geometry that makes some sort of sense.
>
> So in the case of centroid, regardless of what is "mathematically 
> correct" a valid sensible geometry should be returned (as opposed to a 
> meaningless geometry with NaN ordinates, as now happens).
>
> In the case of interiorPoint the situation is even more clearcut - 
> obviously the interior point should be one of the points in the geometry.
>
> On 1/11/2013 6:01 AM, GEOS wrote:
>> #609: GEOSPointOnSurface returns EMPTY for single-point linestring
>> ------------------------+--------------------------------------------------- 
>>
>>   Reporter:  strk        |       Owner:  geos-devel@?
>>       Type:  defect      |      Status:  new
>>   Priority:  major       |   Milestone:  3.3.7
>> Component:  Default     |     Version:  3.3.6
>>   Severity:  Unassigned  |    Keywords:
>> ------------------------+--------------------------------------------------- 
>>
>>
>> Comment(by strk):
>>
>>   So for GEOSCentroid the answer is correct, in that by definition the
>>   CentroidLine class computes the centroid of all segment's midpoint
>>   weighted by segment length, so a zero-length segment is not 
>> considered.
>>
>>   Now, the algorithm of InteriorPointLine [1] is:
>>
>>      - Find an interior vertex which is closest to the centroid of the
>>   linestring.
>>      - If there is no interior vertex, find the endpoint which is 
>> closest to
>>   the centroid.
>>
>>   [1]
>> http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html
>>
>>   But if there's no interior vertex both endpoints are equidistant to 
>> the
>>   centroid, aren't them ?
>>   Martin: am I missing anything ?
>>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> -----
> No virus found in this message.
> Checked by AVG - www.avg.com
> Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 12/31/12
> Internal Virus Database is out of date.


From mtnclimb at telus.net  Fri Jan 11 09:24:17 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Fri, 11 Jan 2013 09:24:17 -0800
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
Message-ID: <50F04AC1.4090703@telus.net>

I would say that for a zero-length line both Centroid and InteriorPoint 
should return a point equal to the (unique) endpoint of the line.

For this case, both of these functions appear to be broken in both JTS 
(and GEOS too, apparently). I'll look into making a fix for this in JTS 
(shouldn't be hard, hopefully).

On 1/11/2013 6:01 AM, GEOS wrote:
> #609: GEOSPointOnSurface returns EMPTY for single-point linestring
> ------------------------+---------------------------------------------------
>   Reporter:  strk        |       Owner:  geos-devel@?
>       Type:  defect      |      Status:  new
>   Priority:  major       |   Milestone:  3.3.7
> Component:  Default     |     Version:  3.3.6
>   Severity:  Unassigned  |    Keywords:
> ------------------------+---------------------------------------------------
>
> Comment(by strk):
>
>   So for GEOSCentroid the answer is correct, in that by definition the
>   CentroidLine class computes the centroid of all segment's midpoint
>   weighted by segment length, so a zero-length segment is not considered.
>
>   Now, the algorithm of InteriorPointLine [1] is:
>
>      - Find an interior vertex which is closest to the centroid of the
>   linestring.
>      - If there is no interior vertex, find the endpoint which is closest to
>   the centroid.
>
>   [1]
>   http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html
>
>   But if there's no interior vertex both endpoints are equidistant to the
>   centroid, aren't them ?
>   Martin: am I missing anything ?
>


From mtnclimb at telus.net  Fri Jan 11 16:39:58 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Fri, 11 Jan 2013 16:39:58 -0800
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <50F04FA7.9010906@telus.net>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
	<50F04CBD.7090108@telus.net> <50F04FA7.9010906@telus.net>
Message-ID: <50F0B0DE.60207@telus.net>

Fixes to JTS Centroid and InteriorPoint have been committed to SVN 
(along with appropriate unit tests)

On 1/11/2013 9:45 AM, Martin Davis wrote:
> I just realized some corner cases, which require some clarification to 
> deal with.
>
> One is geometries with multiple zero-length lines.  In this case I 
> think the geometries should be treated as points, and the centroid and 
> interior point computed accordingly.
>
> A similar situation exists for polygons with no area (which are 
> invalid, but it's still nice to return a sensible answer).  A similar 
> strategy should work - treat them as points.  Polygons with extent but 
> no area (eg POLYGON ((200 200, 200 300, 200 200, 200 200))) can be 
> treated as if they are lines.
>
> In all cases, if geometry components of higher dimension are present, 
> the lower-dimension geometries are ignored.
>
> This is going to require more significant change to handle - in 
> particular, it points toward having single class for Centroid to 
> handle all geometry types.
>
> On 1/11/2013 9:32 AM, Martin Davis wrote:
>> Just to clarify my original response, the primary constraint on 
>> functions that return geometry values is that they return a valid 
>> geometry that makes some sort of sense.
>>
>> So in the case of centroid, regardless of what is "mathematically 
>> correct" a valid sensible geometry should be returned (as opposed to 
>> a meaningless geometry with NaN ordinates, as now happens).
>>
>> In the case of interiorPoint the situation is even more clearcut - 
>> obviously the interior point should be one of the points in the 
>> geometry.
>>
>> On 1/11/2013 6:01 AM, GEOS wrote:
>>> #609: GEOSPointOnSurface returns EMPTY for single-point linestring
>>> ------------------------+--------------------------------------------------- 
>>>
>>>   Reporter:  strk        |       Owner:  geos-devel@?
>>>       Type:  defect      |      Status:  new
>>>   Priority:  major       |   Milestone:  3.3.7
>>> Component:  Default     |     Version:  3.3.6
>>>   Severity:  Unassigned  |    Keywords:
>>> ------------------------+--------------------------------------------------- 
>>>
>>>
>>> Comment(by strk):
>>>
>>>   So for GEOSCentroid the answer is correct, in that by definition the
>>>   CentroidLine class computes the centroid of all segment's midpoint
>>>   weighted by segment length, so a zero-length segment is not 
>>> considered.
>>>
>>>   Now, the algorithm of InteriorPointLine [1] is:
>>>
>>>      - Find an interior vertex which is closest to the centroid of the
>>>   linestring.
>>>      - If there is no interior vertex, find the endpoint which is 
>>> closest to
>>>   the centroid.
>>>
>>>   [1]
>>> http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html 
>>>
>>>
>>>   But if there's no interior vertex both endpoints are equidistant 
>>> to the
>>>   centroid, aren't them ?
>>>   Martin: am I missing anything ?
>>>
>>
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>
>> -----
>> No virus found in this message.
>> Checked by AVG - www.avg.com
>> Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 
>> 12/31/12
>> Internal Virus Database is out of date.
>
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> -----
> No virus found in this message.
> Checked by AVG - www.avg.com
> Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 12/31/12
> Internal Virus Database is out of date.


From geos-trac at osgeo.org  Sat Jan 12 04:33:40 2013
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 12 Jan 2013 12:33:40 -0000
Subject: [geos-devel] [GEOS] #610: geos 3.3.6 : WKTReader fails on
 POINT(0 0) (MSVC 2008, W7)
In-Reply-To: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
References: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
Message-ID: <053.adbf7a6452a9a03f71bd54f31976f3d0@osgeo.org>

#610: geos 3.3.6 : WKTReader fails on POINT(0 0) (MSVC 2008, W7)
------------------------+---------------------------------------------------
 Reporter:  gt75        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  worksforme                
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by gt75):

 As concerns diagnostics - I got error like 'HEAP CORRUPTION near variable
 wktReader". Nothing more.
 As for "make check" - I am newbie - how can I do it? I built geos with
 CMake method and further "nmake /f makefile.vc" . Command "msbuild
 geos.sln" fails just as in Ticket #576 . How did you prepare geos binaries
 for MSVC ?

 WBW&R, Grigory.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/610#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Jan 12 18:37:54 2013
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 13 Jan 2013 02:37:54 -0000
Subject: [geos-devel] [GEOS] #610: geos 3.3.6 : WKTReader fails on
 POINT(0 0) (MSVC 2008, W7)
In-Reply-To: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
References: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
Message-ID: <053.f30cd6e6492645e49f5ccc399fb36281@osgeo.org>

#610: geos 3.3.6 : WKTReader fails on POINT(0 0) (MSVC 2008, W7)
------------------------+---------------------------------------------------
 Reporter:  gt75        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  worksforme                
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by mloskot):

 The "heap corruption" may mean lots of things, including problems in your
 program that happened earlier, before WKTReader is called.

 If you build with CMake, then you should get the geos_unit program built
 as well. Just execute it and it should run all tests.

 Grab and apply the patch from #611, it should help.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/610#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sat Jan 12 18:39:13 2013
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 13 Jan 2013 02:39:13 -0000
Subject: [geos-devel] [GEOS] #611: [PATCH] Move static class members of
 Interrupt out of header
In-Reply-To: <047.2fb42e9127630f72910e3ae69bbc978b@osgeo.org>
References: <047.2fb42e9127630f72910e3ae69bbc978b@osgeo.org>
Message-ID: <056.718e6f9a8a27067647928ebd331955f6@osgeo.org>

#611: [PATCH] Move static class members of Interrupt out of header
-------------------------+--------------------------------------------------
 Reporter:  mloskot      |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Significant  |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by mloskot):

 I generated the patch from my copy of SVN trunk. I don't use the Git
 mirror. Is that a problem?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/611#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jan 13 08:37:23 2013
From: geos-trac at osgeo.org (GEOS)
Date: Sun, 13 Jan 2013 16:37:23 -0000
Subject: [geos-devel] [GEOS] #610: geos 3.3.6 : WKTReader fails on
 POINT(0 0) (MSVC 2008, W7)
In-Reply-To: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
References: <044.e87c2dd44a65f2411daa8cec8d2b258d@osgeo.org>
Message-ID: <053.fa7714dbfbff12d4ca770b042dd42d68@osgeo.org>

#610: geos 3.3.6 : WKTReader fails on POINT(0 0) (MSVC 2008, W7)
------------------------+---------------------------------------------------
 Reporter:  gt75        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  worksforme                
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by gt75):

 Thanks a lot! The patch solved my problem.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/610#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 14 01:07:45 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 14 Jan 2013 09:07:45 -0000
Subject: [geos-devel] [GEOS] #611: [PATCH] Move static class members of
 Interrupt out of header
In-Reply-To: <047.2fb42e9127630f72910e3ae69bbc978b@osgeo.org>
References: <047.2fb42e9127630f72910e3ae69bbc978b@osgeo.org>
Message-ID: <056.85371f684502f9a801d1616eb4ce35a8@osgeo.org>

#611: [PATCH] Move static class members of Interrupt out of header
-------------------------+--------------------------------------------------
 Reporter:  mloskot      |       Owner:  geos-devel@?              
     Type:  defect       |      Status:  new                       
 Priority:  major        |   Milestone:  3.4.0                     
Component:  Default      |     Version:  svn-trunk                 
 Severity:  Significant  |    Keywords:                            
-------------------------+--------------------------------------------------

Comment(by strk):

 No problem, svn commit away ! Don't forget an entry in the NEWS file
 pointing here. Thanks

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/611#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 14 01:56:29 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 14 Jan 2013 09:56:29 -0000
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
Message-ID: <053.ec659c9ef9b641726f5caab4d552f845@osgeo.org>

#609: GEOSPointOnSurface returns EMPTY for single-point linestring
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by strk):

 NOTE: JTS fixed this in another way, see revision 726 of it.
 It's to be evaluated if such refactoring belongs to the 3.3 branch or only
 in 3.4

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/609#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 14 01:57:22 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 14 Jan 2013 09:57:22 -0000
Subject: [geos-devel] [GEOS] #612: GEOSCentroid returns EMPTY for
	single-point line
Message-ID: <044.05ac783ef624515c0c4f9adbf610bdb6@osgeo.org>

#612: GEOSCentroid returns EMPTY for single-point line
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 JTS fixed this with revisions 728

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/612>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 14 01:57:39 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 14 Jan 2013 09:57:39 -0000
Subject: [geos-devel] [GEOS] #612: GEOSCentroid returns EMPTY for
 single-point lines and zero-length polygons (was: GEOSCentroid returns
 EMPTY for single-point line)
In-Reply-To: <044.05ac783ef624515c0c4f9adbf610bdb6@osgeo.org>
References: <044.05ac783ef624515c0c4f9adbf610bdb6@osgeo.org>
Message-ID: <053.f9cd1c1eaeeaa5824a4da09f3ae20b44@osgeo.org>

#612: GEOSCentroid returns EMPTY for single-point lines and zero-length polygons
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/612#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 14 02:44:33 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 14 Jan 2013 10:44:33 -0000
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
Message-ID: <053.697f8fd9f8a510a94d2ba7dedc127182@osgeo.org>

#609: GEOSPointOnSurface returns EMPTY for single-point linestring
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by strk):

 See #613 for the port of JTS issue (it's actually for area)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/609#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From strk at keybit.net  Mon Jan 14 03:29:42 2013
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 14 Jan 2013 12:29:42 +0100
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <50F0B0DE.60207@telus.net>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
	<50F04CBD.7090108@telus.net> <50F04FA7.9010906@telus.net>
	<50F0B0DE.60207@telus.net>
Message-ID: <20130114112942.GI5944@gnash>

Thank you Martin, I've started the port.

One question: while porting InteriorPointArea I realized that GEOS
and JTS are not in sync with reguard to the horizontalBisector method,
but even if I copied the InteriorPointTest.xml test from JTS there are
no failure in GEOS. Does it mean there are no test in JTS showing the
need for using the private SafeBisectorFinder class (which is only
in JTS) ? Can you think of any case that would fail with the old 
(as in GEOS) implementation of that ?

--strk;

On Fri, Jan 11, 2013 at 04:39:58PM -0800, Martin Davis wrote:
> Fixes to JTS Centroid and InteriorPoint have been committed to SVN
> (along with appropriate unit tests)
> 
> On 1/11/2013 9:45 AM, Martin Davis wrote:
> >I just realized some corner cases, which require some
> >clarification to deal with.
> >
> >One is geometries with multiple zero-length lines.  In this case I
> >think the geometries should be treated as points, and the centroid
> >and interior point computed accordingly.
> >
> >A similar situation exists for polygons with no area (which are
> >invalid, but it's still nice to return a sensible answer).  A
> >similar strategy should work - treat them as points.  Polygons
> >with extent but no area (eg POLYGON ((200 200, 200 300, 200 200,
> >200 200))) can be treated as if they are lines.
> >
> >In all cases, if geometry components of higher dimension are
> >present, the lower-dimension geometries are ignored.
> >
> >This is going to require more significant change to handle - in
> >particular, it points toward having single class for Centroid to
> >handle all geometry types.
> >
> >On 1/11/2013 9:32 AM, Martin Davis wrote:
> >>Just to clarify my original response, the primary constraint on
> >>functions that return geometry values is that they return a
> >>valid geometry that makes some sort of sense.
> >>
> >>So in the case of centroid, regardless of what is
> >>"mathematically correct" a valid sensible geometry should be
> >>returned (as opposed to a meaningless geometry with NaN
> >>ordinates, as now happens).
> >>
> >>In the case of interiorPoint the situation is even more clearcut
> >>- obviously the interior point should be one of the points in
> >>the geometry.
> >>
> >>On 1/11/2013 6:01 AM, GEOS wrote:
> >>>#609: GEOSPointOnSurface returns EMPTY for single-point linestring
> >>>------------------------+---------------------------------------------------
> >>>
> >>>  Reporter:  strk        |       Owner:  geos-devel@?
> >>>      Type:  defect      |      Status:  new
> >>>  Priority:  major       |   Milestone:  3.3.7
> >>>Component:  Default     |     Version:  3.3.6
> >>>  Severity:  Unassigned  |    Keywords:
> >>>------------------------+---------------------------------------------------
> >>>
> >>>
> >>>Comment(by strk):
> >>>
> >>>  So for GEOSCentroid the answer is correct, in that by definition the
> >>>  CentroidLine class computes the centroid of all segment's midpoint
> >>>  weighted by segment length, so a zero-length segment is not
> >>>considered.
> >>>
> >>>  Now, the algorithm of InteriorPointLine [1] is:
> >>>
> >>>     - Find an interior vertex which is closest to the centroid of the
> >>>  linestring.
> >>>     - If there is no interior vertex, find the endpoint which
> >>>is closest to
> >>>  the centroid.
> >>>
> >>>  [1]
> >>>http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html
> >>>
> >>>
> >>>  But if there's no interior vertex both endpoints are
> >>>equidistant to the
> >>>  centroid, aren't them ?
> >>>  Martin: am I missing anything ?
> >>>
> >>
> >>_______________________________________________
> >>geos-devel mailing list
> >>geos-devel at lists.osgeo.org
> >>http://lists.osgeo.org/mailman/listinfo/geos-devel
> >>
> >>-----
> >>No virus found in this message.
> >>Checked by AVG - www.avg.com
> >>Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date:
> >>12/31/12
> >>Internal Virus Database is out of date.
> >
> >_______________________________________________
> >geos-devel mailing list
> >geos-devel at lists.osgeo.org
> >http://lists.osgeo.org/mailman/listinfo/geos-devel
> >
> >-----
> >No virus found in this message.
> >Checked by AVG - www.avg.com
> >Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 12/31/12
> >Internal Virus Database is out of date.
> 
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

From strk at keybit.net  Mon Jan 14 03:32:48 2013
From: strk at keybit.net (Sandro Santilli)
Date: Mon, 14 Jan 2013 12:32:48 +0100
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <20130114112942.GI5944@gnash>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
	<50F04CBD.7090108@telus.net> <50F04FA7.9010906@telus.net>
	<50F0B0DE.60207@telus.net> <20130114112942.GI5944@gnash>
Message-ID: <20130114113248.GJ5944@gnash>

For the record, the SafeBisectorFinder was recently also improved with 
changeset r717:

Date:   Wed Dec 19 20:02:16 2012 +0000

    Fixed Geometry.interiorPoint() to compute a true interior point in certain cases

But that changeset also came with no testcase

--strk;

On Mon, Jan 14, 2013 at 12:29:42PM +0100, Sandro Santilli wrote:
> Thank you Martin, I've started the port.
> 
> One question: while porting InteriorPointArea I realized that GEOS
> and JTS are not in sync with reguard to the horizontalBisector method,
> but even if I copied the InteriorPointTest.xml test from JTS there are
> no failure in GEOS. Does it mean there are no test in JTS showing the
> need for using the private SafeBisectorFinder class (which is only
> in JTS) ? Can you think of any case that would fail with the old 
> (as in GEOS) implementation of that ?
> 
> --strk;
> 
> On Fri, Jan 11, 2013 at 04:39:58PM -0800, Martin Davis wrote:
> > Fixes to JTS Centroid and InteriorPoint have been committed to SVN
> > (along with appropriate unit tests)
> > 
> > On 1/11/2013 9:45 AM, Martin Davis wrote:
> > >I just realized some corner cases, which require some
> > >clarification to deal with.
> > >
> > >One is geometries with multiple zero-length lines.  In this case I
> > >think the geometries should be treated as points, and the centroid
> > >and interior point computed accordingly.
> > >
> > >A similar situation exists for polygons with no area (which are
> > >invalid, but it's still nice to return a sensible answer).  A
> > >similar strategy should work - treat them as points.  Polygons
> > >with extent but no area (eg POLYGON ((200 200, 200 300, 200 200,
> > >200 200))) can be treated as if they are lines.
> > >
> > >In all cases, if geometry components of higher dimension are
> > >present, the lower-dimension geometries are ignored.
> > >
> > >This is going to require more significant change to handle - in
> > >particular, it points toward having single class for Centroid to
> > >handle all geometry types.
> > >
> > >On 1/11/2013 9:32 AM, Martin Davis wrote:
> > >>Just to clarify my original response, the primary constraint on
> > >>functions that return geometry values is that they return a
> > >>valid geometry that makes some sort of sense.
> > >>
> > >>So in the case of centroid, regardless of what is
> > >>"mathematically correct" a valid sensible geometry should be
> > >>returned (as opposed to a meaningless geometry with NaN
> > >>ordinates, as now happens).
> > >>
> > >>In the case of interiorPoint the situation is even more clearcut
> > >>- obviously the interior point should be one of the points in
> > >>the geometry.
> > >>
> > >>On 1/11/2013 6:01 AM, GEOS wrote:
> > >>>#609: GEOSPointOnSurface returns EMPTY for single-point linestring
> > >>>------------------------+---------------------------------------------------
> > >>>
> > >>>  Reporter:  strk        |       Owner:  geos-devel@?
> > >>>      Type:  defect      |      Status:  new
> > >>>  Priority:  major       |   Milestone:  3.3.7
> > >>>Component:  Default     |     Version:  3.3.6
> > >>>  Severity:  Unassigned  |    Keywords:
> > >>>------------------------+---------------------------------------------------
> > >>>
> > >>>
> > >>>Comment(by strk):
> > >>>
> > >>>  So for GEOSCentroid the answer is correct, in that by definition the
> > >>>  CentroidLine class computes the centroid of all segment's midpoint
> > >>>  weighted by segment length, so a zero-length segment is not
> > >>>considered.
> > >>>
> > >>>  Now, the algorithm of InteriorPointLine [1] is:
> > >>>
> > >>>     - Find an interior vertex which is closest to the centroid of the
> > >>>  linestring.
> > >>>     - If there is no interior vertex, find the endpoint which
> > >>>is closest to
> > >>>  the centroid.
> > >>>
> > >>>  [1]
> > >>>http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html
> > >>>
> > >>>
> > >>>  But if there's no interior vertex both endpoints are
> > >>>equidistant to the
> > >>>  centroid, aren't them ?
> > >>>  Martin: am I missing anything ?

From geos-trac at osgeo.org  Mon Jan 14 04:15:07 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 14 Jan 2013 12:15:07 -0000
Subject: [geos-devel] [GEOS] #612: GEOSCentroid returns EMPTY for
 single-point lines and zero-length polygons
In-Reply-To: <044.05ac783ef624515c0c4f9adbf610bdb6@osgeo.org>
References: <044.05ac783ef624515c0c4f9adbf610bdb6@osgeo.org>
Message-ID: <053.75533e5cb8019e07f0de7f8b77ed13dc@osgeo.org>

#612: GEOSCentroid returns EMPTY for single-point lines and zero-length polygons
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 This implies porting a new "Centroid" algorithm class and making use of it
 from Geometry class. The new class deprecates CentroidArea, CentroidLine
 and CentroidPoint.
 The JTS changeset includes testcases.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/612#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 14 08:19:30 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 14 Jan 2013 16:19:30 -0000
Subject: [geos-devel] [GEOS] #612: GEOSCentroid returns EMPTY for
 single-point lines and zero-length polygons
In-Reply-To: <044.05ac783ef624515c0c4f9adbf610bdb6@osgeo.org>
References: <044.05ac783ef624515c0c4f9adbf610bdb6@osgeo.org>
Message-ID: <053.26c29af7ed23d1c59c144aa63c89618d@osgeo.org>

#612: GEOSCentroid returns EMPTY for single-point lines and zero-length polygons
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:  history     |  
------------------------+---------------------------------------------------
Changes (by strk):

  * keywords:  => history
  * status:  new => closed
  * resolution:  => fixed


Comment:

 Refactoring done with r3749 -- only targets 3.4

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/612#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From mtnclimb at telus.net  Mon Jan 14 23:08:04 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Mon, 14 Jan 2013 23:08:04 -0800
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <20130114112942.GI5944@gnash>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
	<50F04CBD.7090108@telus.net> <50F04FA7.9010906@telus.net>
	<50F0B0DE.60207@telus.net> <20130114112942.GI5944@gnash>
Message-ID: <50F50054.9080303@telus.net>

Ergh.  Yes, you're right, there isn't a test case showing the failure.  
In fact, the test case I added for this (a) isn't the right geometry to 
test the code and (b) the code seems to have a bug in it anyway.  Back 
to the drawing board...

A geometry which shows the problem is an upside-down L shape:

POLYGON ((0 2, 0 4, 3 4, 3 0, 2 0, 2 2, 0 2))

The interior point is computed as POINT (1 2) - but this point actually 
lies on the boundary of the polygon, which breaks the contract of 
InteriorPoint.  An acceptable answer would be POINT (2.5 2) - which is 
completely inside.  The SafeBisector was introduced to get this second 
result - but isn't working for some reason.

So stay tuned for further fixes.

On 1/14/2013 3:29 AM, Sandro Santilli wrote:
> Thank you Martin, I've started the port.
>
> One question: while porting InteriorPointArea I realized that GEOS
> and JTS are not in sync with reguard to the horizontalBisector method,
> but even if I copied the InteriorPointTest.xml test from JTS there are
> no failure in GEOS. Does it mean there are no test in JTS showing the
> need for using the private SafeBisectorFinder class (which is only
> in JTS) ? Can you think of any case that would fail with the old
> (as in GEOS) implementation of that ?
>
> --strk;
>
> On Fri, Jan 11, 2013 at 04:39:58PM -0800, Martin Davis wrote:
>> Fixes to JTS Centroid and InteriorPoint have been committed to SVN
>> (along with appropriate unit tests)
>>
>> On 1/11/2013 9:45 AM, Martin Davis wrote:
>>> I just realized some corner cases, which require some
>>> clarification to deal with.
>>>
>>> One is geometries with multiple zero-length lines.  In this case I
>>> think the geometries should be treated as points, and the centroid
>>> and interior point computed accordingly.
>>>
>>> A similar situation exists for polygons with no area (which are
>>> invalid, but it's still nice to return a sensible answer).  A
>>> similar strategy should work - treat them as points.  Polygons
>>> with extent but no area (eg POLYGON ((200 200, 200 300, 200 200,
>>> 200 200))) can be treated as if they are lines.
>>>
>>> In all cases, if geometry components of higher dimension are
>>> present, the lower-dimension geometries are ignored.
>>>
>>> This is going to require more significant change to handle - in
>>> particular, it points toward having single class for Centroid to
>>> handle all geometry types.
>>>
>>> On 1/11/2013 9:32 AM, Martin Davis wrote:
>>>> Just to clarify my original response, the primary constraint on
>>>> functions that return geometry values is that they return a
>>>> valid geometry that makes some sort of sense.
>>>>
>>>> So in the case of centroid, regardless of what is
>>>> "mathematically correct" a valid sensible geometry should be
>>>> returned (as opposed to a meaningless geometry with NaN
>>>> ordinates, as now happens).
>>>>
>>>> In the case of interiorPoint the situation is even more clearcut
>>>> - obviously the interior point should be one of the points in
>>>> the geometry.
>>>>
>>>> On 1/11/2013 6:01 AM, GEOS wrote:
>>>>> #609: GEOSPointOnSurface returns EMPTY for single-point linestring
>>>>> ------------------------+---------------------------------------------------
>>>>>
>>>>>   Reporter:  strk        |       Owner:  geos-devel@?
>>>>>       Type:  defect      |      Status:  new
>>>>>   Priority:  major       |   Milestone:  3.3.7
>>>>> Component:  Default     |     Version:  3.3.6
>>>>>   Severity:  Unassigned  |    Keywords:
>>>>> ------------------------+---------------------------------------------------
>>>>>
>>>>>
>>>>> Comment(by strk):
>>>>>
>>>>>   So for GEOSCentroid the answer is correct, in that by definition the
>>>>>   CentroidLine class computes the centroid of all segment's midpoint
>>>>>   weighted by segment length, so a zero-length segment is not
>>>>> considered.
>>>>>
>>>>>   Now, the algorithm of InteriorPointLine [1] is:
>>>>>
>>>>>      - Find an interior vertex which is closest to the centroid of the
>>>>>   linestring.
>>>>>      - If there is no interior vertex, find the endpoint which
>>>>> is closest to
>>>>>   the centroid.
>>>>>
>>>>>   [1]
>>>>> http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html
>>>>>
>>>>>
>>>>>   But if there's no interior vertex both endpoints are
>>>>> equidistant to the
>>>>>   centroid, aren't them ?
>>>>>   Martin: am I missing anything ?
>>>>>
>>>> _______________________________________________
>>>> geos-devel mailing list
>>>> geos-devel at lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>>>
>>>> -----
>>>> No virus found in this message.
>>>> Checked by AVG - www.avg.com
>>>> Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date:
>>>> 12/31/12
>>>> Internal Virus Database is out of date.
>>> _______________________________________________
>>> geos-devel mailing list
>>> geos-devel at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/geos-devel
>>>
>>> -----
>>> No virus found in this message.
>>> Checked by AVG - www.avg.com
>>> Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 12/31/12
>>> Internal Virus Database is out of date.
>> _______________________________________________
>> geos-devel mailing list
>> geos-devel at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/geos-devel
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
> -----
> No virus found in this message.
> Checked by AVG - www.avg.com
> Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 12/31/12
> Internal Virus Database is out of date.


From strk at keybit.net  Tue Jan 15 07:51:40 2013
From: strk at keybit.net (Sandro Santilli)
Date: Tue, 15 Jan 2013 16:51:40 +0100
Subject: [geos-devel] [GEOS] #609: GEOSPointOnSurface returns EMPTY for
 single-point linestring
In-Reply-To: <50F50054.9080303@telus.net>
References: <044.c524d3240d960816d28d4621891a05f0@osgeo.org>
	<053.3d56e69e773e3f47f45a61b360b31a80@osgeo.org>
	<50F04CBD.7090108@telus.net> <50F04FA7.9010906@telus.net>
	<50F0B0DE.60207@telus.net> <20130114112942.GI5944@gnash>
	<50F50054.9080303@telus.net>
Message-ID: <20130115155140.GL2564@gnash>

On Mon, Jan 14, 2013 at 11:08:04PM -0800, Martin Davis wrote:
> Ergh.  Yes, you're right, there isn't a test case showing the
> failure.  In fact, the test case I added for this (a) isn't the
> right geometry to test the code and (b) the code seems to have a bug
> in it anyway.  Back to the drawing board...
> 
> A geometry which shows the problem is an upside-down L shape:
> 
> POLYGON ((0 2, 0 4, 3 4, 3 0, 2 0, 2 2, 0 2))
> 
> The interior point is computed as POINT (1 2) - but this point
> actually lies on the boundary of the polygon, which breaks the
> contract of InteriorPoint.  An acceptable answer would be POINT (2.5
> 2) - which is completely inside.  The SafeBisector was introduced to
> get this second result - but isn't working for some reason.
> 
> So stay tuned for further fixes.

Ah, thank you for this case. Could you add it to the existing
TestInteriorPoint.xml file ? The change you made with r731 changes
an expected result which was also acceptable.

This one instead is a good one !

--strk;

> 
> On 1/14/2013 3:29 AM, Sandro Santilli wrote:
> >Thank you Martin, I've started the port.
> >
> >One question: while porting InteriorPointArea I realized that GEOS
> >and JTS are not in sync with reguard to the horizontalBisector method,
> >but even if I copied the InteriorPointTest.xml test from JTS there are
> >no failure in GEOS. Does it mean there are no test in JTS showing the
> >need for using the private SafeBisectorFinder class (which is only
> >in JTS) ? Can you think of any case that would fail with the old
> >(as in GEOS) implementation of that ?
> >
> >--strk;
> >
> >On Fri, Jan 11, 2013 at 04:39:58PM -0800, Martin Davis wrote:
> >>Fixes to JTS Centroid and InteriorPoint have been committed to SVN
> >>(along with appropriate unit tests)
> >>
> >>On 1/11/2013 9:45 AM, Martin Davis wrote:
> >>>I just realized some corner cases, which require some
> >>>clarification to deal with.
> >>>
> >>>One is geometries with multiple zero-length lines.  In this case I
> >>>think the geometries should be treated as points, and the centroid
> >>>and interior point computed accordingly.
> >>>
> >>>A similar situation exists for polygons with no area (which are
> >>>invalid, but it's still nice to return a sensible answer).  A
> >>>similar strategy should work - treat them as points.  Polygons
> >>>with extent but no area (eg POLYGON ((200 200, 200 300, 200 200,
> >>>200 200))) can be treated as if they are lines.
> >>>
> >>>In all cases, if geometry components of higher dimension are
> >>>present, the lower-dimension geometries are ignored.
> >>>
> >>>This is going to require more significant change to handle - in
> >>>particular, it points toward having single class for Centroid to
> >>>handle all geometry types.
> >>>
> >>>On 1/11/2013 9:32 AM, Martin Davis wrote:
> >>>>Just to clarify my original response, the primary constraint on
> >>>>functions that return geometry values is that they return a
> >>>>valid geometry that makes some sort of sense.
> >>>>
> >>>>So in the case of centroid, regardless of what is
> >>>>"mathematically correct" a valid sensible geometry should be
> >>>>returned (as opposed to a meaningless geometry with NaN
> >>>>ordinates, as now happens).
> >>>>
> >>>>In the case of interiorPoint the situation is even more clearcut
> >>>>- obviously the interior point should be one of the points in
> >>>>the geometry.
> >>>>
> >>>>On 1/11/2013 6:01 AM, GEOS wrote:
> >>>>>#609: GEOSPointOnSurface returns EMPTY for single-point linestring
> >>>>>------------------------+---------------------------------------------------
> >>>>>
> >>>>>  Reporter:  strk        |       Owner:  geos-devel@?
> >>>>>      Type:  defect      |      Status:  new
> >>>>>  Priority:  major       |   Milestone:  3.3.7
> >>>>>Component:  Default     |     Version:  3.3.6
> >>>>>  Severity:  Unassigned  |    Keywords:
> >>>>>------------------------+---------------------------------------------------
> >>>>>
> >>>>>
> >>>>>Comment(by strk):
> >>>>>
> >>>>>  So for GEOSCentroid the answer is correct, in that by definition the
> >>>>>  CentroidLine class computes the centroid of all segment's midpoint
> >>>>>  weighted by segment length, so a zero-length segment is not
> >>>>>considered.
> >>>>>
> >>>>>  Now, the algorithm of InteriorPointLine [1] is:
> >>>>>
> >>>>>     - Find an interior vertex which is closest to the centroid of the
> >>>>>  linestring.
> >>>>>     - If there is no interior vertex, find the endpoint which
> >>>>>is closest to
> >>>>>  the centroid.
> >>>>>
> >>>>>  [1]
> >>>>>http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/algorithm/InteriorPointLine.html
> >>>>>
> >>>>>
> >>>>>  But if there's no interior vertex both endpoints are
> >>>>>equidistant to the
> >>>>>  centroid, aren't them ?
> >>>>>  Martin: am I missing anything ?
> >>>>>
> >>>>_______________________________________________
> >>>>geos-devel mailing list
> >>>>geos-devel at lists.osgeo.org
> >>>>http://lists.osgeo.org/mailman/listinfo/geos-devel
> >>>>
> >>>>-----
> >>>>No virus found in this message.
> >>>>Checked by AVG - www.avg.com
> >>>>Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date:
> >>>>12/31/12
> >>>>Internal Virus Database is out of date.
> >>>_______________________________________________
> >>>geos-devel mailing list
> >>>geos-devel at lists.osgeo.org
> >>>http://lists.osgeo.org/mailman/listinfo/geos-devel
> >>>
> >>>-----
> >>>No virus found in this message.
> >>>Checked by AVG - www.avg.com
> >>>Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 12/31/12
> >>>Internal Virus Database is out of date.
> >>_______________________________________________
> >>geos-devel mailing list
> >>geos-devel at lists.osgeo.org
> >>http://lists.osgeo.org/mailman/listinfo/geos-devel
> >_______________________________________________
> >geos-devel mailing list
> >geos-devel at lists.osgeo.org
> >http://lists.osgeo.org/mailman/listinfo/geos-devel
> >
> >-----
> >No virus found in this message.
> >Checked by AVG - www.avg.com
> >Version: 2013.0.2805 / Virus Database: 2637/6000 - Release Date: 12/31/12
> >Internal Virus Database is out of date.
> 
> _______________________________________________
> geos-devel mailing list
> geos-devel at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

From geos-trac at osgeo.org  Tue Jan 15 08:43:12 2013
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 15 Jan 2013 16:43:12 -0000
Subject: [geos-devel] [GEOS] #614: SymDifference between valid input: found
 non-noded intersection
Message-ID: <044.60c4f4db23cf9a27e20aee56ad43d411@osgeo.org>

#614: SymDifference between valid input: found non-noded intersection
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 The attached XML file can be used to reproduce the bug.
 Valid input (multipolygons) result in "found non-noded intersection" on
 overlay operations.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/614>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 07:30:44 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 15:30:44 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
Message-ID: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 For some obscure reason computing the SymDifference between the geometries
 showed in here: http://trac.osgeo.org/postgis/ticket/2177

 Results in a crash deep in WKTWriter (which should be unrelated).

 There could be some bogus debug line around...

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 08:10:45 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 16:10:45 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.9216400051052e0a669ba5179ea09deb@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 It's an infinite loop entered while trying to fix invalidities produced by
 CommonBitsRemoval.
 The code attempts a UnaryUnion to fix, but the UnaryUnion gets back to an
 invalidity

 I'm surprised that UnaryUnion doesn't drop the "too few points" geometry
 component:

 {{{
 CBR: result (after common-bits addition) is INVALID: Too few points in
 geometry component at or near point 16.570834296228949 46.516439037970301
 (16.570834296228948546 46.516439037970300774)
 CBR: result (after common-bits addition) fix_self_intersection
 (UnaryUnion)
 CBR: result (after common-bits addition) is INVALID: Too few points in
 geometry component at or near point 16.570834296228949 46.516439037970301
 (16.570834296228948546 46.516439037970300774)
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 08:14:35 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 16:14:35 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.e9f9db3b55a405b107853f0c9e7707f8@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 It is curious to note that Union operation succeeds (but SymDifference
 fails)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 09:26:28 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 17:26:28 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.d4a140190722b0df7c65b01b2aa4f603@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 The offending geometry (portion) is this one:
 {{{
 01030000000100000007000000773A98D22192304099FAA9431D424740765F7CC2209230406643FDA024424740773A98D22192304098FAA9431D424740773A98D22192304097FAA9431D424740773A98D22192304096FAA9431D4247405EA791E509923040D3DDAD7E59424740773A98D22192304099FAA9431D424740
 }}}

 It's a simple polygon. One ring of 7 points.
 Only, it self-intersects: Self-intersection[16.5708285924579
 46.5165180759406]
 And UnaryUnion does NOT fix that

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 09:27:15 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 17:27:15 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.445c978da07e43ea4af278a3b0161534@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Buffer0 turns it to an EMPTY

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 09:29:22 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 17:29:22 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.3c1ae8f3f12086d66f069f58b25806c1@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 ST_MakeValid (of PostGIS) also can't fix it (nut to crack!)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 09:34:38 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 17:34:38 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.ee66884922ec5d25ade1052af3ae7d07@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 ST_Node can't correctly node it, so no way to polygonize.
 It's extent is (basically a point):
  BOX(16.5704635124779 46.5165180759406,16.5708285924579 46.5183561657865)

 Snapping its inputs to a grid of 1e-13 gives us something usable. 1e-14
 isn't enough.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 10:02:55 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 18:02:55 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.842d381c771093cc5a045fb722e1a975@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Looking at the log it's interesting to note that the loop isn't really
 infinite, but rather catches a self-intersection always at different
 places !
 The X ordinate value of the reported intersection is always the same while
 the Y value seems to augment over time. Here's a short excerpt:

 {{{{
 CBR: removed-bits geom 1 is INVALID: Self-intersection at or near point
 0.57082859245789663 0.51651807594703314 (0.57082859245789663305
 0.51651807594703313953)
 CBR: removed-bits geom 1 is INVALID: Self-intersection at or near point
 0.57082859245789663 0.51651807594704024 (0.57082859245789663305
 0.51651807594704024496)
 ...
 CBR: removed-bits geom 1 is INVALID: Self-intersection at or near point
 0.57082859245789663 0.51651807594735288 (0.57082859245789663305
 0.51651807594735288376)
 ...
 ...
 CBR: removed-bits geom 1 is INVALID: Self-intersection at or near point
 0.57082859245789663 0.51651807597061605 (0.57082859245789663305
 0.51651807597061605293)
 }}}

 Eventually, the stack limit is reached.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 10:05:28 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 18:05:28 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.c8fb6dabd41dc5690465ebb89af48a40@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 The previous comment wasn't formatted correctly. Here's another go:
 {{{
 (0.57082859245789663305 0.51651807594059562234)
 (0.57082859245789663305 0.5165180759406098332)
 (0.57082859245789663305 0.51651807594061693862)
 (0.57082859245789663305 0.51651807594062404405)
 (0.57082859245789663305 0.51651807594063114948)
 (0.57082859245789663305 0.51651807594063825491)
 (0.57082859245789663305 0.51651807594064536033)
 (0.57082859245789663305 0.51651807594065246576)
 (0.57082859245789663305 0.51651807594065957119)
 (0.57082859245789663305 0.51651807594066667662)
 ...
 (0.57082859245789663305 0.51651807597058052579)
 (0.57082859245789663305 0.51651807597058763122)
 (0.57082859245789663305 0.51651807597059473665)
 (0.57082859245789663305 0.51651807597060184207)
 (0.57082859245789663305 0.5165180759706089475)
 (0.57082859245789663305 0.51651807597061605293)
 }}}

 I've 4225 _distinct_ numbers in there, in my log (killed before dying)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:8>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Wed Jan 16 10:16:19 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 16 Jan 2013 18:16:19 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.f4f350c9f3ee71cde5f56f17c95b37a7@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  blocker     |   Milestone:  3.3.7                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 The segfault happens at iteration 9033 here.
 The final invalidity I see on removed-bits geom is:
 {{{
 Self-intersection at or near point 0.57082859245789663 0.51651807597262689
 (0.57082859245789663305 0.51651807597262688887)
 }}}

 it's still the same X and the highest Y

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:9>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 17 04:11:59 2013
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 17 Jan 2013 12:11:59 -0000
Subject: [geos-devel] [GEOS] #615: ST_SymDifference triggers a crash in
	WKTWriter (?)
In-Reply-To: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
References: <044.f84e1feeb2151c90ad27ab9ccc1c486b@osgeo.org>
Message-ID: <053.e61d0458097198076bf7d0573b467b42@osgeo.org>

#615: ST_SymDifference triggers a crash in WKTWriter (?)
------------------------+---------------------------------------------------
 Reporter:  strk        |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  blocker     |    Milestone:  3.3.7                     
Component:  Default     |      Version:  3.3.6                     
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 Alright I found a fix for this: running the UnaryUnion _only_ when the
 given geometry is a multicomponent _and_ the invalidity found is an
 intersection between components (or a "too few points").

 I'm not 100% sure that there's no way to enter the infinite recursion with
 these kind of invalidities but for now this bug is fixed. The only
 influence this change had on existing tests was that the test for #488
 (which was found to expect a bogus result) is now giving a
 TopologyException, like done by JTS itself. I think it's an acceptable
 change.

 The fix is in r3750 for 3.3 branch and r3751 in master

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/615#comment:10>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From mats.taraldsvik at norkart.no  Fri Jan 18 03:52:41 2013
From: mats.taraldsvik at norkart.no (Mats Taraldsvik)
Date: Fri, 18 Jan 2013 11:52:41 +0000
Subject: [geos-devel] Ability to preallocate the WKT stringstream buffer for
 really large geometries?
Message-ID: <D9E2BAC444503343ABCE7407085D30F30135622A22@svm-mailR2.norkart.no>

Hi,

Generally, I'm very satisfied with the WKTWriter, which is really easy to use, and converts the Geometries to the WKT format. However, when converting _large_ geometries (in this case, contour lines), I get a major decrease in performance.

By looking at the source code (and profiling), I believe the use of a stringstream and hence a dynamically increasing string buffer, constantly reallocating, is causing the performance penalty. Possibly also copying the large string.

Is there anything I can do to improve this scenario? Do you accept contributions to fix this (e.g. passing in the expected size of the resulting WKT string)?

Regards

Mats Taraldsvik
mats.taraldsvik at norkart.no

L?kketangen 20A
Postboks 145
N- 1300 Sandvika
+47 67 55 14 00
norkart.no
______


From mtnclimb at telus.net  Fri Jan 18 21:09:50 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Fri, 18 Jan 2013 21:09:50 -0800
Subject: [geos-devel] [postgis-users] ST_Buffer returning multipolygons
In-Reply-To: <1358530846315-5002345.post@n6.nabble.com>
References: <1358466070465-5002333.post@n6.nabble.com>
	<3CB901080554B04881D30F111F62D930024FDA3F@nadia.grenoble.cemagref.fr>
	<1358513883495-5002337.post@n6.nabble.com>
	<3CB901080554B04881D30F111F62D930024FDAEE@nadia.grenoble.cemagref.fr>
	<1358525418941-5002342.post@n6.nabble.com>
	<50F976D4.3070404@swoodbridge.com>
	<1358530846315-5002345.post@n6.nabble.com>
Message-ID: <50FA2A9E.1050506@telus.net>

Buffers of single LineStrings should NEVER produce a polygon with more 
than one component.  So this issue was puzzling - until the test data 
and images were posted.  They reveal that the problem is a robustness 
error deep inside the JTS/GEOS buffer code (the problem shows up 
identically in JTS as well).

A quick fix is to add a post-computation filter which keeps only the 
largest polygon component in situations where single polygons are 
expected (i.e. buffers of points, single linestrings, and positive 
buffers of single polygons).  This can be done externally - and ideally 
it should be built into the JTS/GEOS buffer code (as a temporary hack, 
against the day when the basic algorithm can be improved to eliminate 
the problem).

(Cross-posting to GEOS list as well).

On 1/18/2013 9:40 AM, marquz74 wrote:
> Stephen Woodbridge wrote
>> On 1/18/2013 11:10 AM, marquz74 wrote:
>>> Francois Hugues wrote
>>>> We don't know what are your original geometries or what kind of buffer
>>>> you apply (since you work with linestrings we can assume it is a
>>>> positive buffer). Maybe some of your linestrings are multilinestrings
>>>> with disjoint components.
>>> the query:
>>>
>>> SELECT GeometryType(the_geom)
>>> FROM streams
>>> WHERE GeometryType(the_geom)  <> 'LINESTRING';
>>>
>>> returns 0 records.
>> If you have a linestring that follows a stream or rivier then you likely
>> will have an ox bow like geometry, think of the letter Omega. If you add
>> enough buffer to this you will end up intersecting your buffer with
>> another part of the buffer. This creates polygon or multipolygon.
>>
>> You could post you command and geometry so others can look at it.
>>
>> select gid, astext(the_geom) from streams where
>> GeometryType(st_buffer(the_geom,
>> <distance>
>> )) = 'MULTIPOLYGON';
> Ok. I have a totale of 8554 streams (LINESTRINGs).
> With the query
>
> SELECT gid, AsText(the_geom) FROM streams
> WHERE GeometryType(st_buffer(the_geom, 100)) = 'MULTIPOLYGON';
>
> I get 11 records as MULTIPOLYGONs
>
> The first record is:
>
>   674 | LINESTRING(640770.332537465 216785.425146015,640770.356311913
> 216785.560172686,640770.475488952 216786.226162019,640770.647396495
> 216787.800152365,640770.658978918 216789.268376902,640770.447752096
> 216792.399898366,640769.98018796 216795.624688816,640769.110287021
> 216798.527305023,640767.648768098 216801.891389348,640766.02448565
> 216804.805892778,640764.74005588 216807.134569434,640763.337363474
> 216809.560477487,640761.650901703 216812.246990061,640759.955600712
> 216815.327305019,640758.482499366 216817.868732504,640757.383693167
> 216819.548488661,640756.238862077 216821.226720821,640754.01503683
> 216824.434442434,640751.366929134 216828.435255234,640749.204368809
> 216832.450088865,640747.25516891 216836.227787618,640746.014020829
> 216838.801219168,640745.393751588 216840.360274284,640744.315976633
> 216842.854457673,640743.400050801 216844.65704848,640742.582575565
> 216846.277673322,640741.52491745 216848.478638524,640740.503835408
> 216850.705816576,640739.787553975 216852.270967708,640739.053289307
> 216853.851968469,640738.173025147 216855.546355058,640737.55488951
> 216856.568961104,640736.817272035 216857.822910812,640735.910795021
> 216859.35697228,640734.77510795 216861.236982439,640733.832969266
> 216862.938074642,640732.814325629 216865.039674844,640731.225095251
> 216869.012141189,640729.979984761 216871.879095724,640729.445974092
> 216873.02148841,640729.002794006 216873.679857725,640728.952197105
> 216873.745389857,640728.676962154 216874.089814544)
>
> I isolated the stream and the related buffer, you can see large and small
> zoom at this links:
> https://docs.google.com/file/d/0B0MkYF-Ljs34MlNkTkJwc0dEbG8/edit
> https://docs.google.com/file/d/0B0MkYF-Ljs34c1owdkc1U0Q4OFk/edit
>
> Thank you for your patience :-)
>
> Marco
>
>
>
> --
> View this message in context: http://postgis.17.n6.nabble.com/ST-Buffer-returning-multipolygons-tp5002333p5002345.html
> Sent from the PostGIS - User mailing list archive at Nabble.com.
> _______________________________________________
> postgis-users mailing list
> postgis-users at lists.osgeo.org
> http://lists.osgeo.org/cgi-bin/mailman/listinfo/postgis-users
>
>


From cooperch at cf.ac.uk  Tue Jan 22 10:03:36 2013
From: cooperch at cf.ac.uk (Crispin Cooper)
Date: Tue, 22 Jan 2013 18:03:36 +0000
Subject: [geos-devel] Questions on noding through the C interface
Message-ID: <50FED478.4020505@cf.ac.uk>

Hi,

I am looking to node a set of linestrings through the GEOS C interface.  
Apologies in advance for the number of questions in this email, but I 
hope together they give a good idea of my requirements.

Two caveats:  (1) I need to be able to reject individual nodes at 
predetermined locations, i.e., occasionally at my discretion allow 
linestrings to cross at points other than their endpoints; (2) I need to 
be able to work to a prespecified tolerance.

I notice that computing the union or intersection of a multilinestring 
geometry with itself, automatically splits all linestrings where they 
cross or touch.  This wasn't what I was expecting - as presumably 
returning the input unchanged would constitute a valid intersection with 
itself - so can I rely on such behaviour?

In any case that doesn't help me with (1) above, i.e. I need to not 
split at certain points.  So instead I can intersect each linestring 
individually with the entire multilinestring set, and if I get a 
multilinestring back I know it must have intersected, and can decide 
what to do with that intersection i.e. whether or not to keep it. (As an 
aside - can I guarantee in the multilinestring returned that points will 
appear in the same order as in the input linestring?)

However, does the second approach incorporate significantly greater 
computation time?  Self-intersecting the entire set might be done in O(n 
log n) (is it?) but looping through individual segments is presumably 
O(n^2) at best.  How can I make it faster?

Finally how do I incorporate the tolerance parameter into the above 
algorithm?

Cheers

Crispin

-- 
Crispin Cooper
Sustainable Places Research Institute
33 Park Place, Cardiff CF10 3BA
Phone +44 (0)29 20876072


From strk at keybit.net  Tue Jan 22 10:59:07 2013
From: strk at keybit.net (Sandro Santilli)
Date: Tue, 22 Jan 2013 19:59:07 +0100
Subject: [geos-devel] GEOS-3.3.7 released
Message-ID: <20130122185907.GC31686@gnash>

Another bugfix release in the 3.3 series of GEOS is out.

Changes in 3.3.7

- Bug fixes / improvements
    - Fix abort in RightmostEdgeFinder (#605)
    - Do not force precision reduction below 6 significant digits
      while trying to obtain a valid Buffer output (#605)
    - Fix GEOSPointOnSurface with zero-length linestring (#609)
    - Fix EMPTY return from zero-area polygon (#613)
    - Segfault from symdifference (#615)

Upgrade is recommended

--strk; 

From strk at keybit.net  Tue Jan 22 11:00:42 2013
From: strk at keybit.net (Sandro Santilli)
Date: Tue, 22 Jan 2013 20:00:42 +0100
Subject: [geos-devel] GEOS-3.3.7 released
In-Reply-To: <20130122185907.GC31686@gnash>
References: <20130122185907.GC31686@gnash>
Message-ID: <20130122190042.GD31686@gnash>

I guess you'd also like to have an url.

Tarball: http://download.osgeo.org/geos/geos-3.3.7.tar.bz2
Md5sum: 95ab996d22672b067d92c7dee2170460  

--strk;

On Tue, Jan 22, 2013 at 07:59:07PM +0100, Sandro Santilli wrote:
> Another bugfix release in the 3.3 series of GEOS is out.
> 
> Changes in 3.3.7
> 
> - Bug fixes / improvements
>     - Fix abort in RightmostEdgeFinder (#605)
>     - Do not force precision reduction below 6 significant digits
>       while trying to obtain a valid Buffer output (#605)
>     - Fix GEOSPointOnSurface with zero-length linestring (#609)
>     - Fix EMPTY return from zero-area polygon (#613)
>     - Segfault from symdifference (#615)
> 
> Upgrade is recommended
> 
> --strk; 

From geos-trac at osgeo.org  Fri Jan 25 08:47:08 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 16:47:08 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
Message-ID: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.7                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 Using cmake and VS2012 fails with

 C:\programs\compa_libs\geos_SVN\src\operation\buffer\BufferOp.cpp(91) :
 error C2589: '(' : illegal token on right side of '::'
 C:\programs\compa_libs\geos_SVN\src\operation\buffer\BufferOp.cpp(91) :
 error C2059: syntax error : '::'

 it also prints the following warning (I think it didn't when I tried to
 build version 3.3.5)

 C:\programs\compa_libs\geos_SVN\include\geos/precision/GeometryPrecisionReducer.h(154)
 : warning C4512: 'geos::precision::GeometryPrecisionReducer' : assignment
 operator could not be generated
 C:\programs\compa_libs\geos_SVN\include\geos/precision/GeometryPrecisionReducer.h(42)
 : see declaration of 'geos::precision::GeometryPrecisionReducer'

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 08:55:59 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 16:55:59 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.e0157b028cf84b37e8dc51812c2a6605@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.4.0


Comment:

 I thought this was fixed. 3.3.7 is out already. Have you tried it ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:00:16 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:00:16 -0000
Subject: [geos-devel] [GEOS] #582: GEOSGetCentroid seg faults on certain
	MultiPolygons
In-Reply-To: <046.d444e4afb6037110f1c1eee4001af65f@osgeo.org>
References: <046.d444e4afb6037110f1c1eee4001af65f@osgeo.org>
Message-ID: <055.23cc6cb790317818e6875efb455296cb@osgeo.org>

#582: GEOSGetCentroid seg faults on certain MultiPolygons
----------------------+-----------------------------------------------------
 Reporter:  dazuma    |       Owner:  geos-devel@?              
     Type:  defect    |      Status:  new                       
 Priority:  blocker   |   Milestone:  3.3.x                     
Component:  Default   |     Version:  3.3.4                     
 Severity:  Critical  |    Keywords:                            
----------------------+-----------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/582#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:03:23 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:03:23 -0000
Subject: [geos-devel] [GEOS] #584: Port robust distance fixes from JTS
In-Reply-To: <044.0b42218f2646a34bb02c5880a7ff7ea0@osgeo.org>
References: <044.0b42218f2646a34bb02c5880a7ff7ea0@osgeo.org>
Message-ID: <053.92369370952000ec263d148621b6f621@osgeo.org>

#584: Port robust distance fixes from JTS
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/584#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:04:25 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:04:25 -0000
Subject: [geos-devel] [GEOS] #588: [JTS fixed] valid polygon when cw,
 not valid when ccw (was: [JTS fails] valid polygon when cw,
 not valid when ccw)
In-Reply-To: <049.8d0da4144ecbb31552c2c91213c02bd6@osgeo.org>
References: <049.8d0da4144ecbb31552c2c91213c02bd6@osgeo.org>
Message-ID: <058.f0408508e8445a94d2b110950f33df17@osgeo.org>

#588: [JTS fixed] valid polygon when cw, not valid when ccw
------------------------+---------------------------------------------------
 Reporter:  olivier80   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.5                     
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/588#comment:8>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:05:06 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:05:06 -0000
Subject: [geos-devel] [GEOS] #589: GEOSBufferWithStyle with mitre style
	on LinearRing
In-Reply-To: <049.1bdc6779d5280e5e755d00414fcb0221@osgeo.org>
References: <049.1bdc6779d5280e5e755d00414fcb0221@osgeo.org>
Message-ID: <058.bc22d53584dd32c00bf6beaa9c338b10@osgeo.org>

#589: GEOSBufferWithStyle with mitre style on LinearRing
------------------------+---------------------------------------------------
 Reporter:  olivier80   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  3.3.5                     
 Severity:  Unassigned  |    Keywords:  jtsfail                   
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.4.0


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/589#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:05:24 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:05:24 -0000
Subject: [geos-devel] [GEOS] #591: Port robust determinant fixes from JTS
In-Reply-To: <044.1cc558a7a3be4128383f28dc221e6277@osgeo.org>
References: <044.1cc558a7a3be4128383f28dc221e6277@osgeo.org>
Message-ID: <053.3d645e5b15a6596a58adbf42c456249d@osgeo.org>

#591: Port robust determinant fixes from JTS
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.5                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/591#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:05:36 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:05:36 -0000
Subject: [geos-devel] [GEOS] #594: geos turns 'POLYGON EMPTY' into
	'POLYGON(EMPTY)'
In-Reply-To: <050.a353927037ee118aee78940b5ba3a08b@osgeo.org>
References: <050.a353927037ee118aee78940b5ba3a08b@osgeo.org>
Message-ID: <059.7bb178ede34542fe66f4f15e7ac2b658@osgeo.org>

#594: geos turns 'POLYGON EMPTY' into 'POLYGON(EMPTY)'
------------------------+---------------------------------------------------
 Reporter:  cdestigter  |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/594#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:06:10 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:06:10 -0000
Subject: [geos-devel] [GEOS] #600: TopologyException in ST_Union with
	valid geometries
In-Reply-To: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
References: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
Message-ID: <055.16dfa37ec53b7778bb574ea0415d353b@osgeo.org>

#600: TopologyException in ST_Union with valid geometries
------------------------+---------------------------------------------------
 Reporter:  ppawel      |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


Comment:

 should be tested with JTS...

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/600#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:08:35 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:08:35 -0000
Subject: [geos-devel] [GEOS] #590: GEOSBufferWithStyle result isn't
 valid and GEOSIsValid() says it is
In-Reply-To: <049.671b8994e39302351c29a20fe5047e86@osgeo.org>
References: <049.671b8994e39302351c29a20fe5047e86@osgeo.org>
Message-ID: <058.d8ca086a93e9a4d3c2dab4012d3b4529@osgeo.org>

#590: GEOSBufferWithStyle result isn't valid and GEOSIsValid() says it is
------------------------+---------------------------------------------------
 Reporter:  olivier80   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.5                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


Comment:

 Isn't that a self-touching ring forming an hole ?
 See
 http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/operation/valid/IsValidOp.html#setSelfTouchingRingFormingHoleValid%28boolean%29

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/590#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:08:55 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:08:55 -0000
Subject: [geos-devel] [GEOS] #602: GEOSOffsetCurve:
 IllegalArgumentException: RobustDeterminant encountered non-finite numbers
In-Reply-To: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
References: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
Message-ID: <053.0afcd4634e43b9ba0c82e90a829ae3e7@osgeo.org>

#602: GEOSOffsetCurve: IllegalArgumentException: RobustDeterminant encountered
non-finite numbers
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.3.7 => 3.3.x


-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/602#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:09:05 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:09:05 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.a89010bb3de55b98a43ebd7334583154@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by jluis):

 Sorry for the wrong milestone. It was already set to 3.3.7 and I didn't
 notice.

 No, I didn't try 3.3.7 as I am using the trunk version (r3754).
 BTW, I changed 'std::max' to 'max' and the build continued much further
 but still failed with

 C:\programs\compa_libs\geos_SVN\capi\geos_ts_c.cpp(97) : fatal error
 C1083: Cannot open include file: '../geos_svn_revision.h': No such file
 or directory

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:16:07 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:16:07 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.15e20c003d9880f175c27a87e3e9612a@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
Description changed by mloskot:

Old description:

> Using cmake and VS2012 fails with
>
> C:\programs\compa_libs\geos_SVN\src\operation\buffer\BufferOp.cpp(91) :
> error C2589: '(' : illegal token on right side of '::'
> C:\programs\compa_libs\geos_SVN\src\operation\buffer\BufferOp.cpp(91) :
> error C2059: syntax error : '::'
>
> it also prints the following warning (I think it didn't when I tried to
> build version 3.3.5)
>
> C:\programs\compa_libs\geos_SVN\include\geos/precision/GeometryPrecisionReducer.h(154)
> : warning C4512: 'geos::precision::GeometryPrecisionReducer' : assignment
> operator could not be generated
> C:\programs\compa_libs\geos_SVN\include\geos/precision/GeometryPrecisionReducer.h(42)
> : see declaration of 'geos::precision::GeometryPrecisionReducer'

New description:

 Using cmake and VS2012 fails with

 {{{
 C:\programs\compa_libs\geos_SVN\src\operation\buffer\BufferOp.cpp(91) :
 error C2589: '(' : illegal token on right side of '::'
 C:\programs\compa_libs\geos_SVN\src\operation\buffer\BufferOp.cpp(91) :
 error C2059: syntax error : '::'

 it also prints the following warning (I think it didn't when I tried to
 build version 3.3.5)

 C:\programs\compa_libs\geos_SVN\include\geos/precision/GeometryPrecisionReducer.h(154)
 : warning C4512: 'geos::precision::GeometryPrecisionReducer' : assignment
 operator could not be generated
 C:\programs\compa_libs\geos_SVN\include\geos/precision/GeometryPrecisionReducer.h(42)
 : see declaration of 'geos::precision::GeometryPrecisionReducer'
 }}}

--

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:20:57 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:20:57 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.da1bb58c2d7f3cc4055ce664f862976d@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.4.0                     
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by mloskot):

 If you searched the archive, you will find #556

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:28:00 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:28:00 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.08b49cc6e16b43b43876f76a6afaaa10@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => wontfix


Comment:

 Oh, right, so this is another wontfix (unless patch is sent)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:30:14 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:30:14 -0000
Subject: [geos-devel] [GEOS] #608: IsValidOp should return eNestedShells
 not eNestedHoles at ln 530
In-Reply-To: <048.436b168fef6f118a24fa4701d7a2fc75@osgeo.org>
References: <048.436b168fef6f118a24fa4701d7a2fc75@osgeo.org>
Message-ID: <057.b62363adebc220437f37b5eb36ac53ed@osgeo.org>

#608: IsValidOp should return eNestedShells not eNestedHoles at ln 530
---------------------------+------------------------------------------------
 Reporter:  geomworx       |        Owner:  geos-devel@?              
     Type:  defect         |       Status:  closed                    
 Priority:  minor          |    Milestone:  3.3.x                     
Component:  Default        |      Version:  3.3.6                     
 Severity:  Unassigned     |   Resolution:  fixed                     
 Keywords:  history 3.3.8  |  
---------------------------+------------------------------------------------
Changes (by strk):

  * keywords:  => history 3.3.8
  * status:  new => closed
  * resolution:  => fixed
  * milestone:  3.3.7 => 3.3.x


Comment:

 Good catch !
 Fixed by r3755 in trunk and r3756 in 3.3 branch
 It surely reveals poor automated testing .. :(

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/608#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:40:11 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:40:11 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.7a9ffed6877c993fbe24d26bf9ee4fef@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by jluis):

 Sorry, 'wontfix' why?

 Issue #556 refers to the non generating of the geos_svn_revision.h file
 but this ticket is about error at line 91 of BufferOp.cpp which has
 nothing to do with the header file.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:48:23 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:48:23 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.b86cb5d57efbb0906a7a7b391f68f60a@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by strk):

 because of cmake use, it's not supported as a build tool.
 Can you get a GNU like tool chain ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 09:58:11 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 17:58:11 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.02bb481af48d62161155d2b762b78f5d@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by jluis):

 I could but that is not what I want/need, which is a VS build.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:8>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Fri Jan 25 10:01:34 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 25 Jan 2013 18:01:34 -0000
Subject: [geos-devel] [GEOS] #616: Build failure with VS2012
In-Reply-To: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
References: <045.c2d3cb8e6e23c59db91563c123430dd8@osgeo.org>
Message-ID: <054.deaf9b29a8556509101afcb79598f732@osgeo.org>

#616: Build failure with VS2012
------------------------+---------------------------------------------------
 Reporter:  jluis       |        Owner:  geos-devel@?              
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.4.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  wontfix                   
 Keywords:              |  
------------------------+---------------------------------------------------

Comment(by mloskot):

 @jluis

 First, instead of changing ''std::max'' you should fix your build
 configuration on Windows as this issue is related to buggy headers on
 Windows. So, use ''#define NOMINMAX'', etc. Seek for details on MSDN.

 Second, regarding ''geos_svn_revision.h'', I updated the CMake wiki pages
 to indicate these files should be created manually:
 [wiki:BuildingOnWindowsWithCMake] and [wiki:BuildingOnUnixWithCMake].

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/616#comment:9>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From mtnclimb at telus.net  Fri Jan 25 17:43:48 2013
From: mtnclimb at telus.net (Martin Davis)
Date: Fri, 25 Jan 2013 17:43:48 -0800
Subject: [geos-devel] [GEOS] #600: TopologyException in ST_Union with
 valid geometries
In-Reply-To: <055.16dfa37ec53b7778bb574ea0415d353b@osgeo.org>
References: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
	<055.16dfa37ec53b7778bb574ea0415d353b@osgeo.org>
Message-ID: <510334D4.1090105@telus.net>

Works in JTS 1.13.

On 1/25/2013 9:06 AM, GEOS wrote:
> #600: TopologyException in ST_Union with valid geometries
> ------------------------+---------------------------------------------------
>   Reporter:  ppawel      |       Owner:  geos-devel@?
>       Type:  defect      |      Status:  new
>   Priority:  major       |   Milestone:  3.3.x
> Component:  Default     |     Version:  3.3.6
>   Severity:  Unassigned  |    Keywords:
> ------------------------+---------------------------------------------------
> Changes (by strk):
>
>    * milestone:  3.3.7 => 3.3.x
>
>
> Comment:
>
>   should be tested with JTS...
>


From geos-trac at osgeo.org  Fri Jan 25 17:50:36 2013
From: geos-trac at osgeo.org (GEOS)
Date: Sat, 26 Jan 2013 01:50:36 -0000
Subject: [geos-devel] [GEOS] #600: TopologyException in ST_Union with
	valid geometries
In-Reply-To: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
References: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
Message-ID: <055.093aad780c7a0376eca4fd8def003e29@osgeo.org>

#600: TopologyException in ST_Union with valid geometries
------------------------+---------------------------------------------------
 Reporter:  ppawel      |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by mdavis):

 The case works in JTS 1.13 using UnaryUnion

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/600#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Sun Jan 27 23:45:10 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 Jan 2013 07:45:10 -0000
Subject: [geos-devel] [GEOS] #590: GEOSBufferWithStyle result isn't
 valid and GEOSIsValid() says it is
In-Reply-To: <049.671b8994e39302351c29a20fe5047e86@osgeo.org>
References: <049.671b8994e39302351c29a20fe5047e86@osgeo.org>
Message-ID: <058.7a2aef6ba236c96ffe0ea385a61fc773@osgeo.org>

#590: GEOSBufferWithStyle result isn't valid and GEOSIsValid() says it is
------------------------+---------------------------------------------------
 Reporter:  olivier80   |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.5                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by Olivier80):

 No, I attached a second image showing that outer ring is self crossing by
 moving slightly one point to the left. This "hole" is there in the image
 because the winding number is 2 in it.
 Anyway, the buffer of the input linearing should not be what we see in the
 first image.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/590#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 28 01:01:20 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 Jan 2013 09:01:20 -0000
Subject: [geos-devel] [GEOS] #600: [JTS works] TopologyException in
 ST_Union with valid geometries (was: TopologyException in ST_Union with
 valid geometries)
In-Reply-To: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
References: <046.b376a9b1a00eba19543876a0129b3a7d@osgeo.org>
Message-ID: <055.0329b7c517dc7d6807da6eb1108d78b6@osgeo.org>

#600: [JTS works] TopologyException in ST_Union with valid geometries
------------------------+---------------------------------------------------
 Reporter:  ppawel      |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 Martin reports this to work with JTS 1.13.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/600#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 28 06:32:10 2013
From: geos-trac at osgeo.org (GEOS)
Date: Mon, 28 Jan 2013 14:32:10 -0000
Subject: [geos-devel] [GEOS] #602: GEOSOffsetCurve:
 IllegalArgumentException: RobustDeterminant encountered non-finite numbers
In-Reply-To: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
References: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
Message-ID: <053.e6be3099238dd0f44bfe14fa9aefcd9d@osgeo.org>

#602: GEOSOffsetCurve: IllegalArgumentException: RobustDeterminant encountered
non-finite numbers
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 NOTE: the same error occurs when passing a zero-length line to the
 function. Taking 5.6e-05 the same as zero may or may not be a solvable
 bug. I wonder if JTS survives this one.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/602#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Mon Jan 28 22:31:08 2013
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 29 Jan 2013 06:31:08 -0000
Subject: [geos-devel] [GEOS] #602: GEOSOffsetCurve:
 IllegalArgumentException: RobustDeterminant encountered non-finite numbers
In-Reply-To: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
References: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
Message-ID: <053.ed03775e8c6431fecd8c3551b0baa121@osgeo.org>

#602: GEOSOffsetCurve: IllegalArgumentException: RobustDeterminant encountered
non-finite numbers
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by mdavis):

 This works in JTS as near as I can tell.  A zero-length line works as
 well.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/602#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jan 29 00:10:44 2013
From: geos-trac at osgeo.org (GEOS)
Date: Tue, 29 Jan 2013 08:10:44 -0000
Subject: [geos-devel] [GEOS] #602: [JTS works] GEOSOffsetCurve:
 IllegalArgumentException: RobustDeterminant encountered non-finite numbers
 (was: GEOSOffsetCurve: IllegalArgumentException: RobustDeterminant
 encountered non-finite numbers)
In-Reply-To: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
References: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
Message-ID: <053.0a382197c8a8588ebc1888278cb8bc91@osgeo.org>

#602: [JTS works] GEOSOffsetCurve: IllegalArgumentException: RobustDeterminant
encountered non-finite numbers
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by strk):

 MArtin: what does JTS return as an OffsetCurve from a zero-length line ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/602#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Tue Jan 29 19:53:03 2013
From: geos-trac at osgeo.org (GEOS)
Date: Wed, 30 Jan 2013 03:53:03 -0000
Subject: [geos-devel] [GEOS] #602: [JTS works] GEOSOffsetCurve:
 IllegalArgumentException: RobustDeterminant encountered non-finite numbers
In-Reply-To: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
References: <044.9595abdf0f203da524c3f179d9beaea3@osgeo.org>
Message-ID: <053.7d6b1f7524d412708fcf19040132d308@osgeo.org>

#602: [JTS works] GEOSOffsetCurve: IllegalArgumentException: RobustDeterminant
encountered non-finite numbers
------------------------+---------------------------------------------------
 Reporter:  strk        |       Owner:  geos-devel@?              
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:  3.3.x                     
Component:  Default     |     Version:  3.3.6                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------

Comment(by mdavis):

 The same result as if the zero-length line was a point.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/602#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 12:21:56 2013
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 31 Jan 2013 20:21:56 -0000
Subject: [geos-devel] [GEOS] #617: Both PointExtractor.h and
 GeometryExtractor.h have GEOS_GEOM_UTIL_POINTEXTRACTER_H as a guard
Message-ID: <047.5f591481100178acaf5626782272e01e@osgeo.org>

#617: Both PointExtractor.h and GeometryExtractor.h have
GEOS_GEOM_UTIL_POINTEXTRACTER_H as a guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |       Owner:  geos-devel@?              
     Type:  defect     |      Status:  new                       
 Priority:  minor      |   Milestone:  3.3.x                     
Component:  Default    |     Version:  3.3.7                     
 Severity:  Annoyance  |    Keywords:                            
-----------------------+----------------------------------------------------
 geom/util/PointExtractor.h and geom/util/GeometryExtractor.h have the same
 guard:

 {{{
 #ifndef GEOS_GEOM_UTIL_POINTEXTRACTER_H
 #define GEOS_GEOM_UTIL_POINTEXTRACTER_H
 }}}

 geom/util/GeometryExtractor.h should have

 {{{
 #ifndef GEOS_GEOM_UTIL_GEOMETRYEXTRACTER_H
 #define GEOS_GEOM_UTIL_GEOMETRYEXTRACTER_H
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/617>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 13:19:52 2013
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 31 Jan 2013 21:19:52 -0000
Subject: [geos-devel] [GEOS] #618: LinearGeometryBuilder.h and
 LocationIndexOfLine.h both use GEOS_LINEARREF_LINEARGEOMETRYBUILDER_H as a
 guard
Message-ID: <047.8a6ed748206b5bb2270d6490f87620fb@osgeo.org>

#618: LinearGeometryBuilder.h and LocationIndexOfLine.h both use
GEOS_LINEARREF_LINEARGEOMETRYBUILDER_H as a guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |       Owner:  geos-devel@?              
     Type:  defect     |      Status:  new                       
 Priority:  minor      |   Milestone:  3.3.x                     
Component:  Default    |     Version:  3.3.7                     
 Severity:  Annoyance  |    Keywords:                            
-----------------------+----------------------------------------------------
 geos/linearref/LinearGeometryBuilder.h and
 geos/linearref/LinearLocationIndexOfLine.h both have:

 {{{
 #ifndef GEOS_LINEARREF_LINEARGEOMETRYBUILDER_H
 #define GEOS_LINEARREF_LINEARGEOMETRYBUILDER_H
 }}}

 geos/linearref/LinearLocationIndexOfLine.h should have:

 {{{
 #ifndef GEOS_LINEARREF_LOCATIONINDEXOFLINE_H
 #define GEOS_LINEARREF_LOCATIONINDEXOFLINE_H
 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/618>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 13:37:37 2013
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 31 Jan 2013 21:37:37 -0000
Subject: [geos-devel] [GEOS] #619: CLocalizer.h missing guard
Message-ID: <047.102441b938adb6c030248c1d496ee163@osgeo.org>

#619: CLocalizer.h missing guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |       Owner:  geos-devel@?              
     Type:  defect     |      Status:  new                       
 Priority:  minor      |   Milestone:  3.3.x                     
Component:  Default    |     Version:  3.3.7                     
 Severity:  Annoyance  |    Keywords:                            
-----------------------+----------------------------------------------------
 geos/io/CLocalizer.h should have

 {{{
 #ifndef GEOS_IO_CLOCALIZER_H
 #define GEOS_IO_CLOCALIZER_H
 }}}

 at the head of the file.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/619>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 13:40:57 2013
From: geos-trac at osgeo.org (GEOS)
Date: Thu, 31 Jan 2013 21:40:57 -0000
Subject: [geos-devel] [GEOS] #619: CLocalizer.h missing guard
In-Reply-To: <047.102441b938adb6c030248c1d496ee163@osgeo.org>
References: <047.102441b938adb6c030248c1d496ee163@osgeo.org>
Message-ID: <056.99199cf18d23c498a177b526cb83c845@osgeo.org>

#619: CLocalizer.h missing guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |       Owner:  geos-devel@?              
     Type:  defect     |      Status:  new                       
 Priority:  minor      |   Milestone:  3.3.x                     
Component:  Default    |     Version:  3.3.7                     
 Severity:  Annoyance  |    Keywords:                            
-----------------------+----------------------------------------------------

Comment(by mloskot):

 IMHO, it would be better to submit all such changes as a single patch.
 Opening numerous tickets doubles the work: you do it once locally, then
 someone will have to do the same in GEOS trunk.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/619#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 22:22:15 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 01 Feb 2013 06:22:15 -0000
Subject: [geos-devel] [GEOS] #619: CLocalizer.h missing guard
In-Reply-To: <047.102441b938adb6c030248c1d496ee163@osgeo.org>
References: <047.102441b938adb6c030248c1d496ee163@osgeo.org>
Message-ID: <056.2be716b2af917a8a0e1733de8edf06c1@osgeo.org>

#619: CLocalizer.h missing guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |       Owner:  geos-devel@?              
     Type:  defect     |      Status:  new                       
 Priority:  minor      |   Milestone:  3.3.x                     
Component:  Default    |     Version:  3.3.7                     
 Severity:  Annoyance  |    Keywords:                            
-----------------------+----------------------------------------------------

Comment(by strk):

 never mind, I'm done already. But yeah, next time it would be easier to
 have a single patch (or pull request)

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/619#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 22:31:35 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 01 Feb 2013 06:31:35 -0000
Subject: [geos-devel] [GEOS] #617: Both PointExtractor.h and
 GeometryExtractor.h have GEOS_GEOM_UTIL_POINTEXTRACTER_H as a guard
In-Reply-To: <047.5f591481100178acaf5626782272e01e@osgeo.org>
References: <047.5f591481100178acaf5626782272e01e@osgeo.org>
Message-ID: <056.d520c16ce3252250c9424c7ee2612334@osgeo.org>

#617: Both PointExtractor.h and GeometryExtractor.h have
GEOS_GEOM_UTIL_POINTEXTRACTER_H as a guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |        Owner:  geos-devel@?              
     Type:  defect     |       Status:  closed                    
 Priority:  minor      |    Milestone:  3.3.x                     
Component:  Default    |      Version:  3.3.7                     
 Severity:  Annoyance  |   Resolution:  fixed                     
 Keywords:             |  
-----------------------+----------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 fixed by r3758 in trunk and r3759 in 3.3 branch

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/617#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 22:35:16 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 01 Feb 2013 06:35:16 -0000
Subject: [geos-devel] [GEOS] #618: LinearGeometryBuilder.h and
 LocationIndexOfLine.h both use GEOS_LINEARREF_LINEARGEOMETRYBUILDER_H as a
 guard
In-Reply-To: <047.8a6ed748206b5bb2270d6490f87620fb@osgeo.org>
References: <047.8a6ed748206b5bb2270d6490f87620fb@osgeo.org>
Message-ID: <056.be6d0c38d54d92a72046163f15467f84@osgeo.org>

#618: LinearGeometryBuilder.h and LocationIndexOfLine.h both use
GEOS_LINEARREF_LINEARGEOMETRYBUILDER_H as a guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |        Owner:  geos-devel@?              
     Type:  defect     |       Status:  closed                    
 Priority:  minor      |    Milestone:  3.3.x                     
Component:  Default    |      Version:  3.3.7                     
 Severity:  Annoyance  |   Resolution:  fixed                     
 Keywords:             |  
-----------------------+----------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 r3760 in trunk and r3761 in 3.3 branch

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/618#comment:1>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

From geos-trac at osgeo.org  Thu Jan 31 22:38:14 2013
From: geos-trac at osgeo.org (GEOS)
Date: Fri, 01 Feb 2013 06:38:14 -0000
Subject: [geos-devel] [GEOS] #619: CLocalizer.h missing guard
In-Reply-To: <047.102441b938adb6c030248c1d496ee163@osgeo.org>
References: <047.102441b938adb6c030248c1d496ee163@osgeo.org>
Message-ID: <056.0e5ac4381838da24f94c0fa484eb6585@osgeo.org>

#619: CLocalizer.h missing guard
-----------------------+----------------------------------------------------
 Reporter:  mheyman    |        Owner:  geos-devel@?              
     Type:  defect     |       Status:  closed                    
 Priority:  minor      |    Milestone:  3.3.x                     
Component:  Default    |      Version:  3.3.7                     
 Severity:  Annoyance  |   Resolution:  fixed                     
 Keywords:             |  
-----------------------+----------------------------------------------------
Changes (by strk):

  * status:  new => closed
  * resolution:  => fixed


Comment:

 r3762 in trunk and r3763 in 3.3 branch

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/619#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).

