From RPhillips at linz.govt.nz  Mon Aug  2 14:34:28 2021
From: RPhillips at linz.govt.nz (Rose Phillips)
Date: Mon, 2 Aug 2021 21:34:28 +0000
Subject: [pdal] Attempting to filter out (1) Unclassified points flagged as
 Withheld
Message-ID: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>

Hi pdal'ers

These are my attempts to filter out (1) Unclassified Points flagged as withheld in LAS filers for further analyses.
Any chance you guys can point to where I have gone wrong?

pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified points flagged as withheld;

1.

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
                {
                                "type":"filters.range",
                                "limits":"Classification![129:129]"
                },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }

2.
{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
                {
                                "type":"filters.range",
                                "limits":"Classification![129:129]",
                                "where":"Classification!=129"
                },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }

3.
pdal info --stats C:\Temp\scan_angle\test_file\CL2_BW24_2020_1000_4526.las --filters.range.limits=Classification![129:129] --filters.stats.dimensions=Classification --filters.stats.count=Classification

All my outputs have these points still intact in their files and the pdal info doesn't appear to support this filter.

Kindest regards
Rose Phillips
Elevation Data - Land Information New Zealand

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210802/4aafca70/attachment.html>

From peter.lim at gpslands.com  Mon Aug  2 18:16:19 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Tue, 3 Aug 2021 09:16:19 +0800
Subject: [pdal] how to change the data type of an attribute(or field) when
 exporting the las file
Message-ID: <001801d78805$527dd030$f7797090$@lim@gpslands.com>

Hi,

 

May I know how to change the data type of an attribute(or field) when
exporting the las file.

 

For example, if the intensity is 2 byte integer, how do I square root the
value and export as a 1 byte integer in a las file.

 

Please advise.

 

Thank you.

 

Best Regards,

 

Peter

 



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210803/9b2c6a24/attachment.html>

From andrew.bell.ia at gmail.com  Mon Aug  2 18:42:31 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Mon, 2 Aug 2021 21:42:31 -0400
Subject: [pdal] how to change the data type of an attribute(or field)
 when exporting the las file
In-Reply-To: <61089cba.1c69fb81.52763.3c74SMTPIN_ADDED_BROKEN@mx.google.com>
References: <61089cba.1c69fb81.52763.3c74SMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <CACJ51z2gJra-u1AK5crCH6jc+SQTFVptWXk-qqkkUDvKTgk0uA@mail.gmail.com>

Unless you use extra bytes, the LAS format does not support this, as the
data types are fixed.

If you use extra bytes, you can use the 'extra_dims' option to choose the
type of the output dimension.

You should read the LAS specification for details.

On Mon, Aug 2, 2021, 9:32 PM Peter Lim <peter.lim at gpslands.com> wrote:

> Hi,
>
>
>
> May I know how to change the data type of an attribute(or field) when
> exporting the las file.
>
>
>
> For example, if the intensity is 2 byte integer, how do I square root the
> value and export as a 1 byte integer in a las file.
>
>
>
> Please advise.
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter
>
>
>
>
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> Virus-free.
> www.avast.com
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
> <#m_4048324936746525270_m_-2708597300618312134_DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210802/3335f37b/attachment-0001.html>

From peter.lim at gpslands.com  Mon Aug  2 19:49:42 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Tue, 3 Aug 2021 10:49:42 +0800
Subject: [pdal] how to change the data type of an attribute(or field)
 when exporting the las file
In-Reply-To: <CACJ51z2gJra-u1AK5crCH6jc+SQTFVptWXk-qqkkUDvKTgk0uA@mail.gmail.com>
References: <61089cba.1c69fb81.52763.3c74SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z2gJra-u1AK5crCH6jc+SQTFVptWXk-qqkkUDvKTgk0uA@mail.gmail.com>
Message-ID: <003f01d78812$3640e350$a2c2a9f0$@lim@gpslands.com>

Thank you Andrew for your advice!

 

Let me check it out.

 

Thank you.

 

Best Regards,

 

Peter

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 3 August 2021 9:43 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] how to change the data type of an attribute(or field) when exporting the las file

 

Unless you use extra bytes, the LAS format does not support this, as the data types are fixed.

 

If you use extra bytes, you can use the 'extra_dims' option to choose the type of the output dimension.

 

You should read the LAS specification for details.

 

On Mon, Aug 2, 2021, 9:32 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

May I know how to change the data type of an attribute(or field) when exporting the las file.

 

For example, if the intensity is 2 byte integer, how do I square root the value and export as a 1 byte integer in a las file.

 

Please advise.

 

Thank you.

 

Best Regards,

 

Peter

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210803/5233d062/attachment.html>

From andrew.bell.ia at gmail.com  Tue Aug  3 03:59:36 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 3 Aug 2021 06:59:36 -0400
Subject: [pdal] Attempting to filter out (1) Unclassified points flagged
 as Withheld
In-Reply-To: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
Message-ID: <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>

On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz> wrote:

> Hi pdal?ers
>
>
>
> These are my attempts to filter out (1) Unclassified Points flagged as
> withheld in LAS filers for further analyses.
>
> Any chance you guys can point to where I have gone wrong?
>
>
>
> pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified
> points flagged as withheld;
>
>
>
> 1.
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>                 {
>
>                                 "type":"filters.range",
>
>                                 "limits":"Classification![129:129]"
>
>                 },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las"
>
>     }
>
>     ]
>
>   }
>

I think that this should filter out unclassified withheld points with LAS
1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the
"ClassFlags" dimension, so you'll need to use boolean logic with that
dimension and the "Classification" dimension to do what you want. You might
also use pdal info --enumerate to make sure that your data has the values
you think it does.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210803/ca02ca08/attachment.html>

From andrew.bell.ia at gmail.com  Tue Aug  3 16:57:14 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 3 Aug 2021 19:57:14 -0400
Subject: [pdal] Attempting to filter out (1) Unclassified points flagged
 as Withheld
In-Reply-To: <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
Message-ID: <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com>

The pipeline doesn't seem to match the output you show, so it's hard to
know what's going on. If you want to share a file I can see what's up.

On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz> wrote:

> Hi Andrew,
>
>
>
> Thank you for the heads up, I tried the following pipeline;
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las",
>
>         "where": "ClassFlags!=129"
>
>     }
>
>     ]
>
> }
>
>
>
> However my output LAZ file still had these bits intact;
>
>
>
> {
>
>   "file_size": 3007189,
>
>   "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\
> CL2_BW24_2020_1000_4526.laz",
>
>   "now": "2021-08-04T09:20:17+1200",
>
>   "pdal_version": "2.3.0 (git-version: Release)",
>
>   "reader": "readers.las",
>
>   "stats":
>
>   {
>
>     "statistic":
>
>     [
>
>       {
>
>         "average": 6.704382019,
>
>         "count": 1307434,
>
>         "maximum": 129,
>
>         "minimum": 2,
>
>         "name": "Classification",
>
>         "position": 0,
>
>         "stddev": 21.69585237,
>
>         "values":
>
>         [
>
>           2,
>
>           3,
>
>           4,
>
>           5,
>
>           7,
>
>           9,
>
>           18,
>
>           129
>
>         ],
>
>         "variance": 470.7100099
>
>       }
>
>     ]
>
>   }
>
> }
>
>
>
> Kindest regards Rose
>
>
> *______________________________________________________________________________________________________________________________________________________________*
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Tuesday, 3 August 2021 11:00 p.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* pdal at lists.osgeo.org
> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
> flagged as Withheld
>
>
>
>
>
>
>
> On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> Hi pdal?ers
>
>
>
> These are my attempts to filter out (1) Unclassified Points flagged as
> withheld in LAS filers for further analyses.
>
> Any chance you guys can point to where I have gone wrong?
>
>
>
> pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified
> points flagged as withheld;
>
>
>
> 1.
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>                 {
>
>                                 "type":"filters.range",
>
>                                 "limits":"Classification![129:129]"
>
>                 },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las"
>
>     }
>
>     ]
>
>   }
>
>
>
> I think that this should filter out unclassified withheld points with LAS
> 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the
> "ClassFlags" dimension, so you'll need to use boolean logic with that
> dimension and the "Classification" dimension to do what you want. You might
> also use pdal info --enumerate to make sure that your data has the values
> you think it does.
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
> ------------------------------
>
> This message contains information, which may be in confidence and may be
> subject to legal privilege. If you are not the intended recipient, you must
> not peruse, use, disseminate, distribute or copy this message. If you have
> received this message in error, please notify us immediately (Phone 0800
> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
> accepts no responsibility for changes to this email, or for any
> attachments, after its transmission from LINZ. Thank You.
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210803/5bcc1a72/attachment-0001.html>

From RPhillips at linz.govt.nz  Tue Aug  3 14:22:14 2021
From: RPhillips at linz.govt.nz (Rose Phillips)
Date: Tue, 3 Aug 2021 21:22:14 +0000
Subject: [pdal] Attempting to filter out (1) Unclassified points flagged
 as Withheld
In-Reply-To: <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
Message-ID: <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>

Hi Andrew,

Thank you for the heads up, I tried the following pipeline;

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las",
        "where": "ClassFlags!=129"
    }
    ]
}

However my output LAZ file still had these bits intact;

{
  "file_size": 3007189,
  "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\CL2_BW24_2020_1000_4526.laz",
  "now": "2021-08-04T09:20:17+1200",
  "pdal_version": "2.3.0 (git-version: Release)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 6.704382019,
        "count": 1307434,
        "maximum": 129,
        "minimum": 2,
        "name": "Classification",
        "position": 0,
        "stddev": 21.69585237,
        "values":
        [
          2,
          3,
          4,
          5,
          7,
          9,
          18,
          129
        ],
        "variance": 470.7100099
      }
    ]
  }
}

Kindest regards Rose
______________________________________________________________________________________________________________________________________________________________
From: Andrew Bell <andrew.bell.ia at gmail.com>
Sent: Tuesday, 3 August 2021 11:00 p.m.
To: Rose Phillips <RPhillips at linz.govt.nz>
Cc: pdal at lists.osgeo.org
Subject: Re: [pdal] Attempting to filter out (1) Unclassified points flagged as Withheld



On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi pdal?ers

These are my attempts to filter out (1) Unclassified Points flagged as withheld in LAS filers for further analyses.
Any chance you guys can point to where I have gone wrong?

pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified points flagged as withheld;

1.

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
                {
                                "type":"filters.range",
                                "limits":"Classification![129:129]"
                },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }

I think that this should filter out unclassified withheld points with LAS 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the "ClassFlags" dimension, so you'll need to use boolean logic with that dimension and the "Classification" dimension to do what you want. You might also use pdal info --enumerate to make sure that your data has the values you think it does.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210803/cfe8320a/attachment-0001.html>

From RPhillips at linz.govt.nz  Tue Aug  3 19:17:48 2021
From: RPhillips at linz.govt.nz (Rose Phillips)
Date: Wed, 4 Aug 2021 02:17:48 +0000
Subject: [pdal] FW: Attempting to filter out (1) Unclassified points flagged
 as Withheld
In-Reply-To: <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com> 
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com> 
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
Message-ID: <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>

LAZ files with 129 bits are downloadable for free here :-

aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url https://opentopography.s3.sdsc.edu --no-sign-request

Using the same pipeline as below I was having the same issue with example file from the above bucket CL2_BR20_2020_1000_4134.laz ? output file still contained the 129 bit when explicitly filtered out by writers.las.where statement.

From: Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>>
Sent: Wednesday, 4 August 2021 11:57 a.m.
To: Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>>
Cc: pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Subject: Re: [pdal] Attempting to filter out (1) Unclassified points flagged as Withheld

The pipeline doesn't seem to match the output you show, so it's hard to know what's going on. If you want to share a file I can see what's up.

On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi Andrew,

Thank you for the heads up, I tried the following pipeline;

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las",
        "where": "ClassFlags!=129"
    }
    ]
}

However my output LAZ file still had these bits intact;

{
  "file_size": 3007189,
  "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\CL2_BW24_2020_1000_4526.laz",
  "now": "2021-08-04T09:20:17+1200",
  "pdal_version": "2.3.0 (git-version: Release)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 6.704382019,
        "count": 1307434,
        "maximum": 129,
        "minimum": 2,
        "name": "Classification",
        "position": 0,
        "stddev": 21.69585237,
        "values":
        [
          2,
          3,
          4,
          5,
          7,
          9,
          18,
          129
        ],
        "variance": 470.7100099
      }
    ]
  }
}

Kindest regards Rose
______________________________________________________________________________________________________________________________________________________________
From: Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>>
Sent: Tuesday, 3 August 2021 11:00 p.m.
To: Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>>
Cc: pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Subject: Re: [pdal] Attempting to filter out (1) Unclassified points flagged as Withheld



On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi pdal?ers

These are my attempts to filter out (1) Unclassified Points flagged as withheld in LAS filers for further analyses.
Any chance you guys can point to where I have gone wrong?

pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified points flagged as withheld;

1.

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
                {
                                "type":"filters.range",
                                "limits":"Classification![129:129]"
                },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }

I think that this should filter out unclassified withheld points with LAS 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the "ClassFlags" dimension, so you'll need to use boolean logic with that dimension and the "Classification" dimension to do what you want. You might also use pdal info --enumerate to make sure that your data has the values you think it does.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz<mailto:info at linz.govt.nz>) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/e5f777de/attachment-0001.html>

From brad.chambers at gmail.com  Wed Aug  4 07:12:40 2021
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Wed, 4 Aug 2021 09:12:40 -0500
Subject: [pdal] FW: Attempting to filter out (1) Unclassified points
 flagged as Withheld
In-Reply-To: <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com>
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
Message-ID: <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com>

Rose,

As Andrew suggested, the withheld bit is actually stored in ClassFlags for
your data. In this case, withheld returns are marked as "4" (see the LAS
spec for more on the flags).

$ pdal info CL2_BR20_2020_1000_4134.laz --filters.stats.count
"Classification,ClassFlags" --filters.stats.dimensions
"Classification,ClassFlags"
{
  "file_size": 8728570,
  "filename": "CL2_BR20_2020_1000_4134.laz",
  "now": "2021-08-04T08:51:53-0500",
  "pdal_version": "2.2.0 (git-version: 3dd320)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 2.3644045,
        "count": 2524409,
        "counts":
        [
          "1.000000/759595",
          "2.000000/1154344",
          "3.000000/160785",
          "4.000000/135106",
          "5.000000/9930",
          "6.000000/304542",
          "7.000000/106",
          "18.000000/1"
        ],
        "maximum": 18,
        "minimum": 1,
        "name": "Classification",
        "position": 0,
        "stddev": 1.55327344,
        "variance": 2.412658379
      },
      {
        "average": 1.159550612,
        "count": 2524409,
        "counts":
        [
          "0.000000/1792614",
          "4.000000/731795"
        ],
        "maximum": 4,
        "minimum": 0,
        "name": "ClassFlags",
        "position": 1,
        "stddev": 1.814840525,
        "variance": 3.29364613
      }
    ]
  }
}

Also, the where option is not supported on reader/writer stages, so you
actually should've seen an error if you executed the pipeline that you
shared. If you simply want a pipeline to extract non-withheld points, you
can use the range filter. If you want to skip withheld points, but not
discard them, you could use where with the other filters in your pipeline.

Brad

On Wed, Aug 4, 2021 at 8:12 AM Rose Phillips <RPhillips at linz.govt.nz> wrote:

> LAZ files with 129 bits are downloadable for free here :-
>
> aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url
> https://opentopography.s3.sdsc.edu --no-sign-request
>
>
>
> Using the same pipeline as below I was having the same issue with example
> file from the above bucket CL2_BR20_2020_1000_4134.laz ? output file still
> contained the 129 bit when explicitly filtered out by writers.las.where
> statement.
>
>
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Wednesday, 4 August 2021 11:57 a.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* pdal at lists.osgeo.org
> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
> flagged as Withheld
>
>
>
> The pipeline doesn't seem to match the output you show, so it's hard to
> know what's going on. If you want to share a file I can see what's up.
>
>
>
> On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> Hi Andrew,
>
>
>
> Thank you for the heads up, I tried the following pipeline;
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las",
>
>         "where": "ClassFlags!=129"
>
>     }
>
>     ]
>
> }
>
>
>
> However my output LAZ file still had these bits intact;
>
>
>
> {
>
>   "file_size": 3007189,
>
>   "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\
> CL2_BW24_2020_1000_4526.laz",
>
>   "now": "2021-08-04T09:20:17+1200",
>
>   "pdal_version": "2.3.0 (git-version: Release)",
>
>   "reader": "readers.las",
>
>   "stats":
>
>   {
>
>     "statistic":
>
>     [
>
>       {
>
>         "average": 6.704382019,
>
>         "count": 1307434,
>
>         "maximum": 129,
>
>         "minimum": 2,
>
>         "name": "Classification",
>
>         "position": 0,
>
>         "stddev": 21.69585237,
>
>         "values":
>
>         [
>
>           2,
>
>           3,
>
>           4,
>
>           5,
>
>           7,
>
>           9,
>
>           18,
>
>           129
>
>         ],
>
>         "variance": 470.7100099
>
>       }
>
>     ]
>
>   }
>
> }
>
>
>
> Kindest regards Rose
>
>
> *______________________________________________________________________________________________________________________________________________________________*
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Tuesday, 3 August 2021 11:00 p.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* pdal at lists.osgeo.org
> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
> flagged as Withheld
>
>
>
>
>
>
>
> On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> Hi pdal?ers
>
>
>
> These are my attempts to filter out (1) Unclassified Points flagged as
> withheld in LAS filers for further analyses.
>
> Any chance you guys can point to where I have gone wrong?
>
>
>
> pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified
> points flagged as withheld;
>
>
>
> 1.
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>                 {
>
>                                 "type":"filters.range",
>
>                                 "limits":"Classification![129:129]"
>
>                 },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las"
>
>     }
>
>     ]
>
>   }
>
>
>
> I think that this should filter out unclassified withheld points with LAS
> 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the
> "ClassFlags" dimension, so you'll need to use boolean logic with that
> dimension and the "Classification" dimension to do what you want. You might
> also use pdal info --enumerate to make sure that your data has the values
> you think it does.
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
> ------------------------------
>
>
> This message contains information, which may be in confidence and may be
> subject to legal privilege. If you are not the intended recipient, you must
> not peruse, use, disseminate, distribute or copy this message. If you have
> received this message in error, please notify us immediately (Phone 0800
> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
> accepts no responsibility for changes to this email, or for any
> attachments, after its transmission from LINZ. Thank You.
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/c66407e3/attachment-0001.html>

From andrew.bell.ia at gmail.com  Wed Aug  4 07:14:49 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Wed, 4 Aug 2021 10:14:49 -0400
Subject: [pdal] FW: Attempting to filter out (1) Unclassified points
 flagged as Withheld
In-Reply-To: <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com>
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com>
Message-ID: <CACJ51z1kdK1A1D5hih53siZfqfMr_=q0GfSA5NwYk+V4z=V-cA@mail.gmail.com>

"where" is supported for writers as of version 2.3

On Wed, Aug 4, 2021 at 10:13 AM Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Rose,
>
> As Andrew suggested, the withheld bit is actually stored in ClassFlags for
> your data. In this case, withheld returns are marked as "4" (see the LAS
> spec for more on the flags).
>
> $ pdal info CL2_BR20_2020_1000_4134.laz --filters.stats.count
> "Classification,ClassFlags" --filters.stats.dimensions
> "Classification,ClassFlags"
> {
>   "file_size": 8728570,
>   "filename": "CL2_BR20_2020_1000_4134.laz",
>   "now": "2021-08-04T08:51:53-0500",
>   "pdal_version": "2.2.0 (git-version: 3dd320)",
>   "reader": "readers.las",
>   "stats":
>   {
>     "statistic":
>     [
>       {
>         "average": 2.3644045,
>         "count": 2524409,
>         "counts":
>         [
>           "1.000000/759595",
>           "2.000000/1154344",
>           "3.000000/160785",
>           "4.000000/135106",
>           "5.000000/9930",
>           "6.000000/304542",
>           "7.000000/106",
>           "18.000000/1"
>         ],
>         "maximum": 18,
>         "minimum": 1,
>         "name": "Classification",
>         "position": 0,
>         "stddev": 1.55327344,
>         "variance": 2.412658379
>       },
>       {
>         "average": 1.159550612,
>         "count": 2524409,
>         "counts":
>         [
>           "0.000000/1792614",
>           "4.000000/731795"
>         ],
>         "maximum": 4,
>         "minimum": 0,
>         "name": "ClassFlags",
>         "position": 1,
>         "stddev": 1.814840525,
>         "variance": 3.29364613
>       }
>     ]
>   }
> }
>
> Also, the where option is not supported on reader/writer stages, so you
> actually should've seen an error if you executed the pipeline that you
> shared. If you simply want a pipeline to extract non-withheld points, you
> can use the range filter. If you want to skip withheld points, but not
> discard them, you could use where with the other filters in your pipeline.
>
> Brad
>
> On Wed, Aug 4, 2021 at 8:12 AM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
>> LAZ files with 129 bits are downloadable for free here :-
>>
>> aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url
>> https://opentopography.s3.sdsc.edu --no-sign-request
>>
>>
>>
>> Using the same pipeline as below I was having the same issue with example
>> file from the above bucket CL2_BR20_2020_1000_4134.laz ? output file still
>> contained the 129 bit when explicitly filtered out by writers.las.where
>> statement.
>>
>>
>>
>> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
>> *Sent:* Wednesday, 4 August 2021 11:57 a.m.
>> *To:* Rose Phillips <RPhillips at linz.govt.nz>
>> *Cc:* pdal at lists.osgeo.org
>> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
>> flagged as Withheld
>>
>>
>>
>> The pipeline doesn't seem to match the output you show, so it's hard to
>> know what's going on. If you want to share a file I can see what's up.
>>
>>
>>
>> On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz>
>> wrote:
>>
>> Hi Andrew,
>>
>>
>>
>> Thank you for the heads up, I tried the following pipeline;
>>
>>
>>
>> {
>>
>>     "pipeline" : [
>>
>>     {
>>
>>         "type" : "readers.las",
>>
>>         "filename" : "input.las"
>>
>>     },
>>
>>     {
>>
>>         "type" : "writers.las",
>>
>>         "a_srs" : "EPSG:2193+7839",
>>
>>         "filesource_id" : "0",
>>
>>         "filename" : "output.las",
>>
>>         "where": "ClassFlags!=129"
>>
>>     }
>>
>>     ]
>>
>> }
>>
>>
>>
>> However my output LAZ file still had these bits intact;
>>
>>
>>
>> {
>>
>>   "file_size": 3007189,
>>
>>   "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\
>> CL2_BW24_2020_1000_4526.laz",
>>
>>   "now": "2021-08-04T09:20:17+1200",
>>
>>   "pdal_version": "2.3.0 (git-version: Release)",
>>
>>   "reader": "readers.las",
>>
>>   "stats":
>>
>>   {
>>
>>     "statistic":
>>
>>     [
>>
>>       {
>>
>>         "average": 6.704382019,
>>
>>         "count": 1307434,
>>
>>         "maximum": 129,
>>
>>         "minimum": 2,
>>
>>         "name": "Classification",
>>
>>         "position": 0,
>>
>>         "stddev": 21.69585237,
>>
>>         "values":
>>
>>         [
>>
>>           2,
>>
>>           3,
>>
>>           4,
>>
>>           5,
>>
>>           7,
>>
>>           9,
>>
>>           18,
>>
>>           129
>>
>>         ],
>>
>>         "variance": 470.7100099
>>
>>       }
>>
>>     ]
>>
>>   }
>>
>> }
>>
>>
>>
>> Kindest regards Rose
>>
>>
>> *______________________________________________________________________________________________________________________________________________________________*
>>
>> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
>> *Sent:* Tuesday, 3 August 2021 11:00 p.m.
>> *To:* Rose Phillips <RPhillips at linz.govt.nz>
>> *Cc:* pdal at lists.osgeo.org
>> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
>> flagged as Withheld
>>
>>
>>
>>
>>
>>
>>
>> On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz>
>> wrote:
>>
>> Hi pdal?ers
>>
>>
>>
>> These are my attempts to filter out (1) Unclassified Points flagged as
>> withheld in LAS filers for further analyses.
>>
>> Any chance you guys can point to where I have gone wrong?
>>
>>
>>
>> pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified
>> points flagged as withheld;
>>
>>
>>
>> 1.
>>
>>
>>
>> {
>>
>>     "pipeline" : [
>>
>>     {
>>
>>         "type" : "readers.las",
>>
>>         "filename" : "input.las"
>>
>>     },
>>
>>                 {
>>
>>                                 "type":"filters.range",
>>
>>                                 "limits":"Classification![129:129]"
>>
>>                 },
>>
>>     {
>>
>>         "type" : "writers.las",
>>
>>         "a_srs" : "EPSG:2193+7839",
>>
>>         "filesource_id" : "0",
>>
>>         "filename" : "output.las"
>>
>>     }
>>
>>     ]
>>
>>   }
>>
>>
>>
>> I think that this should filter out unclassified withheld points with LAS
>> 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the
>> "ClassFlags" dimension, so you'll need to use boolean logic with that
>> dimension and the "Classification" dimension to do what you want. You might
>> also use pdal info --enumerate to make sure that your data has the values
>> you think it does.
>>
>>
>>
>> --
>>
>> Andrew Bell
>> andrew.bell.ia at gmail.com
>>
>>
>> ------------------------------
>>
>>
>> This message contains information, which may be in confidence and may be
>> subject to legal privilege. If you are not the intended recipient, you must
>> not peruse, use, disseminate, distribute or copy this message. If you have
>> received this message in error, please notify us immediately (Phone 0800
>> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
>> accepts no responsibility for changes to this email, or for any
>> attachments, after its transmission from LINZ. Thank You.
>>
>>
>>
>>
>> --
>>
>> Andrew Bell
>> andrew.bell.ia at gmail.com
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
>>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/f3869b99/attachment-0001.html>

From andrew.bell.ia at gmail.com  Wed Aug  4 07:31:27 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Wed, 4 Aug 2021 10:31:27 -0400
Subject: [pdal] FW: Attempting to filter out (1) Unclassified points
 flagged as Withheld
In-Reply-To: <CACJ51z1kdK1A1D5hih53siZfqfMr_=q0GfSA5NwYk+V4z=V-cA@mail.gmail.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com>
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com>
 <CACJ51z1kdK1A1D5hih53siZfqfMr_=q0GfSA5NwYk+V4z=V-cA@mail.gmail.com>
Message-ID: <CACJ51z2q=xfH2_qdcBzMRWBJF9dzq5ar0uRuG0_CSCOMJ91akA@mail.gmail.com>

Rose,

I think the where clause you'd need if your data is 1.4 is:

where : "ClassFlags != 4 || Classification != 1"

On Wed, Aug 4, 2021 at 10:14 AM Andrew Bell <andrew.bell.ia at gmail.com>
wrote:

> "where" is supported for writers as of version 2.3
>
> On Wed, Aug 4, 2021 at 10:13 AM Bradley Chambers <brad.chambers at gmail.com>
> wrote:
>
>> Rose,
>>
>> As Andrew suggested, the withheld bit is actually stored in ClassFlags
>> for your data. In this case, withheld returns are marked as "4" (see the
>> LAS spec for more on the flags).
>>
>> $ pdal info CL2_BR20_2020_1000_4134.laz --filters.stats.count
>> "Classification,ClassFlags" --filters.stats.dimensions
>> "Classification,ClassFlags"
>> {
>>   "file_size": 8728570,
>>   "filename": "CL2_BR20_2020_1000_4134.laz",
>>   "now": "2021-08-04T08:51:53-0500",
>>   "pdal_version": "2.2.0 (git-version: 3dd320)",
>>   "reader": "readers.las",
>>   "stats":
>>   {
>>     "statistic":
>>     [
>>       {
>>         "average": 2.3644045,
>>         "count": 2524409,
>>         "counts":
>>         [
>>           "1.000000/759595",
>>           "2.000000/1154344",
>>           "3.000000/160785",
>>           "4.000000/135106",
>>           "5.000000/9930",
>>           "6.000000/304542",
>>           "7.000000/106",
>>           "18.000000/1"
>>         ],
>>         "maximum": 18,
>>         "minimum": 1,
>>         "name": "Classification",
>>         "position": 0,
>>         "stddev": 1.55327344,
>>         "variance": 2.412658379
>>       },
>>       {
>>         "average": 1.159550612,
>>         "count": 2524409,
>>         "counts":
>>         [
>>           "0.000000/1792614",
>>           "4.000000/731795"
>>         ],
>>         "maximum": 4,
>>         "minimum": 0,
>>         "name": "ClassFlags",
>>         "position": 1,
>>         "stddev": 1.814840525,
>>         "variance": 3.29364613
>>       }
>>     ]
>>   }
>> }
>>
>> Also, the where option is not supported on reader/writer stages, so you
>> actually should've seen an error if you executed the pipeline that you
>> shared. If you simply want a pipeline to extract non-withheld points, you
>> can use the range filter. If you want to skip withheld points, but not
>> discard them, you could use where with the other filters in your pipeline.
>>
>> Brad
>>
>> On Wed, Aug 4, 2021 at 8:12 AM Rose Phillips <RPhillips at linz.govt.nz>
>> wrote:
>>
>>> LAZ files with 129 bits are downloadable for free here :-
>>>
>>> aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url
>>> https://opentopography.s3.sdsc.edu --no-sign-request
>>>
>>>
>>>
>>> Using the same pipeline as below I was having the same issue with
>>> example file from the above bucket CL2_BR20_2020_1000_4134.laz ? output
>>> file still contained the 129 bit when explicitly filtered out by
>>> writers.las.where statement.
>>>
>>>
>>>
>>> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
>>> *Sent:* Wednesday, 4 August 2021 11:57 a.m.
>>> *To:* Rose Phillips <RPhillips at linz.govt.nz>
>>> *Cc:* pdal at lists.osgeo.org
>>> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
>>> flagged as Withheld
>>>
>>>
>>>
>>> The pipeline doesn't seem to match the output you show, so it's hard to
>>> know what's going on. If you want to share a file I can see what's up.
>>>
>>>
>>>
>>> On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz>
>>> wrote:
>>>
>>> Hi Andrew,
>>>
>>>
>>>
>>> Thank you for the heads up, I tried the following pipeline;
>>>
>>>
>>>
>>> {
>>>
>>>     "pipeline" : [
>>>
>>>     {
>>>
>>>         "type" : "readers.las",
>>>
>>>         "filename" : "input.las"
>>>
>>>     },
>>>
>>>     {
>>>
>>>         "type" : "writers.las",
>>>
>>>         "a_srs" : "EPSG:2193+7839",
>>>
>>>         "filesource_id" : "0",
>>>
>>>         "filename" : "output.las",
>>>
>>>         "where": "ClassFlags!=129"
>>>
>>>     }
>>>
>>>     ]
>>>
>>> }
>>>
>>>
>>>
>>> However my output LAZ file still had these bits intact;
>>>
>>>
>>>
>>> {
>>>
>>>   "file_size": 3007189,
>>>
>>>   "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\
>>> CL2_BW24_2020_1000_4526.laz",
>>>
>>>   "now": "2021-08-04T09:20:17+1200",
>>>
>>>   "pdal_version": "2.3.0 (git-version: Release)",
>>>
>>>   "reader": "readers.las",
>>>
>>>   "stats":
>>>
>>>   {
>>>
>>>     "statistic":
>>>
>>>     [
>>>
>>>       {
>>>
>>>         "average": 6.704382019,
>>>
>>>         "count": 1307434,
>>>
>>>         "maximum": 129,
>>>
>>>         "minimum": 2,
>>>
>>>         "name": "Classification",
>>>
>>>         "position": 0,
>>>
>>>         "stddev": 21.69585237,
>>>
>>>         "values":
>>>
>>>         [
>>>
>>>           2,
>>>
>>>           3,
>>>
>>>           4,
>>>
>>>           5,
>>>
>>>           7,
>>>
>>>           9,
>>>
>>>           18,
>>>
>>>           129
>>>
>>>         ],
>>>
>>>         "variance": 470.7100099
>>>
>>>       }
>>>
>>>     ]
>>>
>>>   }
>>>
>>> }
>>>
>>>
>>>
>>> Kindest regards Rose
>>>
>>>
>>> *______________________________________________________________________________________________________________________________________________________________*
>>>
>>> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
>>> *Sent:* Tuesday, 3 August 2021 11:00 p.m.
>>> *To:* Rose Phillips <RPhillips at linz.govt.nz>
>>> *Cc:* pdal at lists.osgeo.org
>>> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
>>> flagged as Withheld
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz>
>>> wrote:
>>>
>>> Hi pdal?ers
>>>
>>>
>>>
>>> These are my attempts to filter out (1) Unclassified Points flagged as
>>> withheld in LAS filers for further analyses.
>>>
>>> Any chance you guys can point to where I have gone wrong?
>>>
>>>
>>>
>>> pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified
>>> points flagged as withheld;
>>>
>>>
>>>
>>> 1.
>>>
>>>
>>>
>>> {
>>>
>>>     "pipeline" : [
>>>
>>>     {
>>>
>>>         "type" : "readers.las",
>>>
>>>         "filename" : "input.las"
>>>
>>>     },
>>>
>>>                 {
>>>
>>>                                 "type":"filters.range",
>>>
>>>                                 "limits":"Classification![129:129]"
>>>
>>>                 },
>>>
>>>     {
>>>
>>>         "type" : "writers.las",
>>>
>>>         "a_srs" : "EPSG:2193+7839",
>>>
>>>         "filesource_id" : "0",
>>>
>>>         "filename" : "output.las"
>>>
>>>     }
>>>
>>>     ]
>>>
>>>   }
>>>
>>>
>>>
>>> I think that this should filter out unclassified withheld points with
>>> LAS 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the
>>> "ClassFlags" dimension, so you'll need to use boolean logic with that
>>> dimension and the "Classification" dimension to do what you want. You might
>>> also use pdal info --enumerate to make sure that your data has the values
>>> you think it does.
>>>
>>>
>>>
>>> --
>>>
>>> Andrew Bell
>>> andrew.bell.ia at gmail.com
>>>
>>>
>>> ------------------------------
>>>
>>>
>>> This message contains information, which may be in confidence and may be
>>> subject to legal privilege. If you are not the intended recipient, you must
>>> not peruse, use, disseminate, distribute or copy this message. If you have
>>> received this message in error, please notify us immediately (Phone 0800
>>> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
>>> accepts no responsibility for changes to this email, or for any
>>> attachments, after its transmission from LINZ. Thank You.
>>>
>>>
>>>
>>>
>>> --
>>>
>>> Andrew Bell
>>> andrew.bell.ia at gmail.com
>>> _______________________________________________
>>> pdal mailing list
>>> pdal at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/pdal
>>>
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
>>
>
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/3f0bfe62/attachment-0001.html>

From howard at hobu.co  Wed Aug  4 11:10:55 2021
From: howard at hobu.co (Howard Butler)
Date: Wed, 4 Aug 2021 13:10:55 -0500
Subject: [pdal] Autzen Update
Message-ID: <9AC7692E-2BD9-4EB4-AF53-A229D4775FBA@hobu.co>

All,

Max Sampson, our Hobu, Inc. intern, spent some significant time updating PDAL (and libLAS' back in the day) example file to include more than fifteen classifications identified by hand and edited with CloudCompare. Connor Manning from Hobu also built a website to visualize it at http://autzen.entwine.io 

The new file is available for download in the PDAL data repository at 
https://github.com/PDAL/data/blob/master/autzen/autzen-classified.laz

It is licensed as CC-BY 4.0 (as is all data in the PDAL data repository as of 04 AUG 2021).

Some documentation and a listing of the classifications can be found at  
https://github.com/PDAL/data/tree/master/autzen

Other enhancements include:

* Upgraded to LAZ 1.4
* Set proper horizontal and vertical coordinate system definitions
* Added LAS Classification VLR
* Added PDAL metadata and pipeline VLRs
* Updated colorization with time-coincident 2009 NAIP imagery

Howard

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/5cecfdc9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: autzen-classifications.jpg
Type: image/jpeg
Size: 217908 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/5cecfdc9/attachment-0001.jpg>

From RPhillips at linz.govt.nz  Wed Aug  4 15:04:05 2021
From: RPhillips at linz.govt.nz (Rose Phillips)
Date: Wed, 4 Aug 2021 22:04:05 +0000
Subject: [pdal] FW: Attempting to filter out (1) Unclassified points
 flagged as Withheld
In-Reply-To: <CACJ51z2q=xfH2_qdcBzMRWBJF9dzq5ar0uRuG0_CSCOMJ91akA@mail.gmail.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com> 
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com> 
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com> 
 <CACJ51z1kdK1A1D5hih53siZfqfMr_=q0GfSA5NwYk+V4z=V-cA@mail.gmail.com> 
 <CACJ51z2q=xfH2_qdcBzMRWBJF9dzq5ar0uRuG0_CSCOMJ91akA@mail.gmail.com>
Message-ID: <SYBPR01MB649591367203EEE28A69BB369CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>

Hi Andrew and Brad

Unfortunately I'm very confused, this is my interpretation of the help I've been given so far (thank you for this).

My objective: To filter out withheld flagged points under classification (1) unclassified, for further processing.

This is the pipeline using the same file as below from Open Topography NZ20_Westport dataset (CL2_BR20_2020_1000_4134.laz)

I have created a pipeline incorporating both suggestions made filtering out (1) unclassified points flagged as withheld e.g via bit reference and where ClassFlag statement.
Let me know if this is incorrect.

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
    {
        "type":"filters.range",
        "limits":"Classification![129:129]",
        "where":"ClassFlags!=4 || Classification != 1"
    },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }


I still have these points in my output las file;

(pdal) C:\>pdal info C:\Temp\scan_angle\where_option\pdal_test\processed\CL2_BR20_2020_1000_4134.laz --filters.stats.count "Classification,ClassFlags" --filters.stats.dimensions "Classification,ClassFlags"
(pdal info filters.stats Warning) Dimension 'ClassFlags' listed in --dimensions option does not exist.  Ignoring.
(pdal info filters.stats Warning) Dimension 'ClassFlags' listed in --count option does not exist.  Ignoring.
{
  "file_size": 8079232,
  "filename": "C:\\Temp\\scan_angle\\where_option\\pdal_test\\processed\\CL2_BR20_2020_1000_4134.laz",
  "now": "2021-08-05T10:00:28+1200",
  "pdal_version": "2.3.0 (git-version: Release)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 39.47002407,
        "count": 2524409,
        "counts":
        [
          "1.000000/27800",
          "2.000000/1154344",
          "3.000000/160785",
          "4.000000/135106",
          "5.000000/9930",
          "6.000000/304542",
          "7.000000/106",
          "18.000000/1",
          "129.000000/731795"
        ],
        "maximum": 129,
        "minimum": 1,
        "name": "Classification",
        "position": 0,
        "stddev": 57.21758565,
        "variance": 3273.852107
      }
    ]
  }
}

(pdal) C:\>pdal --version
--------------------------------------------------------------------------------
pdal 2.3.0 (git-version: Release)
--------------------------------------------------------------------------------


(pdal) C:\>

Many thanks again (nga mihi nui) Rose

From: Andrew Bell <andrew.bell.ia at gmail.com>
Sent: Thursday, 5 August 2021 2:31 a.m.
To: Bradley Chambers <brad.chambers at gmail.com>
Cc: Rose Phillips <RPhillips at linz.govt.nz>; pdal at lists.osgeo.org
Subject: Re: [pdal] FW: Attempting to filter out (1) Unclassified points flagged as Withheld

Rose,

I think the where clause you'd need if your data is 1.4 is:

where : "ClassFlags != 4 || Classification != 1"

On Wed, Aug 4, 2021 at 10:14 AM Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>> wrote:
"where" is supported for writers as of version 2.3

On Wed, Aug 4, 2021 at 10:13 AM Bradley Chambers <brad.chambers at gmail.com<mailto:brad.chambers at gmail.com>> wrote:
Rose,

As Andrew suggested, the withheld bit is actually stored in ClassFlags for your data. In this case, withheld returns are marked as "4" (see the LAS spec for more on the flags).

$ pdal info CL2_BR20_2020_1000_4134.laz --filters.stats.count "Classification,ClassFlags" --filters.stats.dimensions "Classification,ClassFlags"
{
  "file_size": 8728570,
  "filename": "CL2_BR20_2020_1000_4134.laz",
  "now": "2021-08-04T08:51:53-0500",
  "pdal_version": "2.2.0 (git-version: 3dd320)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 2.3644045,
        "count": 2524409,
        "counts":
        [
          "1.000000/759595",
          "2.000000/1154344",
          "3.000000/160785",
          "4.000000/135106",
          "5.000000/9930",
          "6.000000/304542",
          "7.000000/106",
          "18.000000/1"
        ],
        "maximum": 18,
        "minimum": 1,
        "name": "Classification",
        "position": 0,
        "stddev": 1.55327344,
        "variance": 2.412658379
      },
      {
        "average": 1.159550612,
        "count": 2524409,
        "counts":
        [
          "0.000000/1792614",
          "4.000000/731795"
        ],
        "maximum": 4,
        "minimum": 0,
        "name": "ClassFlags",
        "position": 1,
        "stddev": 1.814840525,
        "variance": 3.29364613
      }
    ]
  }
}

Also, the where option is not supported on reader/writer stages, so you actually should've seen an error if you executed the pipeline that you shared. If you simply want a pipeline to extract non-withheld points, you can use the range filter. If you want to skip withheld points, but not discard them, you could use where with the other filters in your pipeline.

Brad

On Wed, Aug 4, 2021 at 8:12 AM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
LAZ files with 129 bits are downloadable for free here :-

aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url https://opentopography.s3.sdsc.edu<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fopentopography.s3.sdsc.edu%2F&data=04%7C01%7CRPhillips%40linz.govt.nz%7C9dc3b69a0d2642f3e48b08d957549791%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637636843122216352%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=ZpSbGUy1yu1VS3FJX1XNa35xOtyPRYre2gBy6hkqYgg%3D&reserved=0> --no-sign-request

Using the same pipeline as below I was having the same issue with example file from the above bucket CL2_BR20_2020_1000_4134.laz - output file still contained the 129 bit when explicitly filtered out by writers.las.where statement.

From: Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>>
Sent: Wednesday, 4 August 2021 11:57 a.m.
To: Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>>
Cc: pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Subject: Re: [pdal] Attempting to filter out (1) Unclassified points flagged as Withheld

The pipeline doesn't seem to match the output you show, so it's hard to know what's going on. If you want to share a file I can see what's up.

On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi Andrew,

Thank you for the heads up, I tried the following pipeline;

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las",
        "where": "ClassFlags!=129"
    }
    ]
}

However my output LAZ file still had these bits intact;

{
  "file_size": 3007189,
  "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\CL2_BW24_2020_1000_4526.laz",
  "now": "2021-08-04T09:20:17+1200",
  "pdal_version": "2.3.0 (git-version: Release)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 6.704382019,
        "count": 1307434,
        "maximum": 129,
        "minimum": 2,
        "name": "Classification",
        "position": 0,
        "stddev": 21.69585237,
        "values":
        [
          2,
          3,
          4,
          5,
          7,
          9,
          18,
          129
        ],
        "variance": 470.7100099
      }
    ]
  }
}

Kindest regards Rose
______________________________________________________________________________________________________________________________________________________________
From: Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>>
Sent: Tuesday, 3 August 2021 11:00 p.m.
To: Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>>
Cc: pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Subject: Re: [pdal] Attempting to filter out (1) Unclassified points flagged as Withheld



On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi pdal'ers

These are my attempts to filter out (1) Unclassified Points flagged as withheld in LAS filers for further analyses.
Any chance you guys can point to where I have gone wrong?

pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified points flagged as withheld;

1.

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
                {
                                "type":"filters.range",
                                "limits":"Classification![129:129]"
                },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }

I think that this should filter out unclassified withheld points with LAS 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the "ClassFlags" dimension, so you'll need to use boolean logic with that dimension and the "Classification" dimension to do what you want. You might also use pdal info --enumerate to make sure that your data has the values you think it does.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz<mailto:info at linz.govt.nz>) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/pdal<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C9dc3b69a0d2642f3e48b08d957549791%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637636843122216352%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=4Z5WxzWs0VPrQNUu0OJzYfmwNf061DST2C5o9xHV0go%3D&reserved=0>
_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/pdal<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C9dc3b69a0d2642f3e48b08d957549791%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637636843122226308%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=9jjxz8zSNfp5GvPSEMBCf3yCOfZVUE9BeFLzzS87Rfk%3D&reserved=0>


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/2dc577ca/attachment-0001.html>

From andrew.bell.ia at gmail.com  Wed Aug  4 15:09:38 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Wed, 4 Aug 2021 18:09:38 -0400
Subject: [pdal] FW: Attempting to filter out (1) Unclassified points
 flagged as Withheld
In-Reply-To: <SYBPR01MB649591367203EEE28A69BB369CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com>
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com>
 <CACJ51z1kdK1A1D5hih53siZfqfMr_=q0GfSA5NwYk+V4z=V-cA@mail.gmail.com>
 <CACJ51z2q=xfH2_qdcBzMRWBJF9dzq5ar0uRuG0_CSCOMJ91akA@mail.gmail.com>
 <SYBPR01MB649591367203EEE28A69BB369CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
Message-ID: <CACJ51z3rySCbkcShXfEQc-mgqnm1y9hr=gbrQHKOWciAYOoxzg@mail.gmail.com>

This is incorrect.

'where' selects points that are included in the filter/writer being run.

You're just trying to remove some points from the writer, so all you have
to do is use the 'where' clause in the writer. You don't need the range
filter if you take this approach.

On Wed, Aug 4, 2021, 6:04 PM Rose Phillips <RPhillips at linz.govt.nz> wrote:

> Hi Andrew and Brad
>
>
>
> Unfortunately I?m very confused, this is my interpretation of the help
> I?ve been given so far (thank you for this).
>
>
>
> My objective: To filter out withheld flagged points under classification
> (1) unclassified, for further processing.
>
>
>
> This is the pipeline using the same file as below from Open Topography
> NZ20_Westport dataset (CL2_BR20_2020_1000_4134.laz)
>
>
> I have created a pipeline incorporating both suggestions made filtering
> out (1) unclassified points flagged as withheld e.g via bit reference and
> where ClassFlag statement.
>
> Let me know if this is incorrect.
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>     {
>
>         "type":"filters.range",
>
>         "limits":"Classification![129:129]",
>
>         "where":"ClassFlags!=4 || Classification != 1"
>
>     },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las"
>
>     }
>
>     ]
>
>   }
>
>
>
>
>
> I still have these points in my output las file;
>
>
>
> (pdal) C:\>pdal info
> C:\Temp\scan_angle\where_option\pdal_test\processed\CL2_BR20_2020_1000_4134.laz
> --filters.stats.count "Classification,ClassFlags"
> --filters.stats.dimensions "Classification,ClassFlags"
>
> (pdal info filters.stats Warning) Dimension 'ClassFlags' listed in
> --dimensions option does not exist.  Ignoring.
>
> (pdal info filters.stats Warning) Dimension 'ClassFlags' listed in --count
> option does not exist.  Ignoring.
>
> {
>
>   "file_size": 8079232,
>
>   "filename":
> "C:\\Temp\\scan_angle\\where_option\\pdal_test\\processed\\CL2_BR20_2020_1000_4134.laz",
>
>   "now": "2021-08-05T10:00:28+1200",
>
>   "pdal_version": "2.3.0 (git-version: Release)",
>
>   "reader": "readers.las",
>
>   "stats":
>
>   {
>
>     "statistic":
>
>     [
>
>       {
>
>         "average": 39.47002407,
>
>         "count": 2524409,
>
>         "counts":
>
>         [
>
>           "1.000000/27800",
>
>           "2.000000/1154344",
>
>           "3.000000/160785",
>
>           "4.000000/135106",
>
>           "5.000000/9930",
>
>           "6.000000/304542",
>
>           "7.000000/106",
>
>           "18.000000/1",
>
>           "129.000000/731795"
>
>         ],
>
>         "maximum": 129,
>
>         "minimum": 1,
>
>         "name": "Classification",
>
>         "position": 0,
>
>         "stddev": 57.21758565,
>
>         "variance": 3273.852107
>
>       }
>
>     ]
>
>   }
>
> }
>
>
>
> (pdal) C:\>pdal --version
>
>
> --------------------------------------------------------------------------------
>
> pdal 2.3.0 (git-version: Release)
>
>
> --------------------------------------------------------------------------------
>
>
>
>
>
> (pdal) C:\>
>
>
>
> Many thanks again (nga mihi nui) Rose
>
>
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Thursday, 5 August 2021 2:31 a.m.
> *To:* Bradley Chambers <brad.chambers at gmail.com>
> *Cc:* Rose Phillips <RPhillips at linz.govt.nz>; pdal at lists.osgeo.org
> *Subject:* Re: [pdal] FW: Attempting to filter out (1) Unclassified
> points flagged as Withheld
>
>
>
> Rose,
>
> I think the where clause you'd need if your data is 1.4 is:
>
> where : "ClassFlags != 4 || Classification != 1"
>
>
>
> On Wed, Aug 4, 2021 at 10:14 AM Andrew Bell <andrew.bell.ia at gmail.com>
> wrote:
>
> "where" is supported for writers as of version 2.3
>
>
>
> On Wed, Aug 4, 2021 at 10:13 AM Bradley Chambers <brad.chambers at gmail.com>
> wrote:
>
> Rose,
>
>
>
> As Andrew suggested, the withheld bit is actually stored in ClassFlags for
> your data. In this case, withheld returns are marked as "4" (see the LAS
> spec for more on the flags).
>
>
>
> $ pdal info CL2_BR20_2020_1000_4134.laz --filters.stats.count
> "Classification,ClassFlags" --filters.stats.dimensions
> "Classification,ClassFlags"
> {
>   "file_size": 8728570,
>   "filename": "CL2_BR20_2020_1000_4134.laz",
>   "now": "2021-08-04T08:51:53-0500",
>   "pdal_version": "2.2.0 (git-version: 3dd320)",
>   "reader": "readers.las",
>   "stats":
>   {
>     "statistic":
>     [
>       {
>         "average": 2.3644045,
>         "count": 2524409,
>         "counts":
>         [
>           "1.000000/759595",
>           "2.000000/1154344",
>           "3.000000/160785",
>           "4.000000/135106",
>           "5.000000/9930",
>           "6.000000/304542",
>           "7.000000/106",
>           "18.000000/1"
>         ],
>         "maximum": 18,
>         "minimum": 1,
>         "name": "Classification",
>         "position": 0,
>         "stddev": 1.55327344,
>         "variance": 2.412658379
>       },
>       {
>         "average": 1.159550612,
>         "count": 2524409,
>         "counts":
>         [
>           "0.000000/1792614",
>           "4.000000/731795"
>         ],
>         "maximum": 4,
>         "minimum": 0,
>         "name": "ClassFlags",
>         "position": 1,
>         "stddev": 1.814840525,
>         "variance": 3.29364613
>       }
>     ]
>   }
> }
>
>
>
> Also, the where option is not supported on reader/writer stages, so you
> actually should've seen an error if you executed the pipeline that you
> shared. If you simply want a pipeline to extract non-withheld points, you
> can use the range filter. If you want to skip withheld points, but not
> discard them, you could use where with the other filters in your pipeline.
>
>
>
> Brad
>
>
>
> On Wed, Aug 4, 2021 at 8:12 AM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> LAZ files with 129 bits are downloadable for free here :-
>
> aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url
> https://opentopography.s3.sdsc.edu
> <https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fopentopography.s3.sdsc.edu%2F&data=04%7C01%7CRPhillips%40linz.govt.nz%7C9dc3b69a0d2642f3e48b08d957549791%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637636843122216352%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=ZpSbGUy1yu1VS3FJX1XNa35xOtyPRYre2gBy6hkqYgg%3D&reserved=0>
> --no-sign-request
>
>
>
> Using the same pipeline as below I was having the same issue with example
> file from the above bucket CL2_BR20_2020_1000_4134.laz ? output file still
> contained the 129 bit when explicitly filtered out by writers.las.where
> statement.
>
>
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Wednesday, 4 August 2021 11:57 a.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* pdal at lists.osgeo.org
> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
> flagged as Withheld
>
>
>
> The pipeline doesn't seem to match the output you show, so it's hard to
> know what's going on. If you want to share a file I can see what's up.
>
>
>
> On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> Hi Andrew,
>
>
>
> Thank you for the heads up, I tried the following pipeline;
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las",
>
>         "where": "ClassFlags!=129"
>
>     }
>
>     ]
>
> }
>
>
>
> However my output LAZ file still had these bits intact;
>
>
>
> {
>
>   "file_size": 3007189,
>
>   "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\
> CL2_BW24_2020_1000_4526.laz",
>
>   "now": "2021-08-04T09:20:17+1200",
>
>   "pdal_version": "2.3.0 (git-version: Release)",
>
>   "reader": "readers.las",
>
>   "stats":
>
>   {
>
>     "statistic":
>
>     [
>
>       {
>
>         "average": 6.704382019,
>
>         "count": 1307434,
>
>         "maximum": 129,
>
>         "minimum": 2,
>
>         "name": "Classification",
>
>         "position": 0,
>
>         "stddev": 21.69585237,
>
>         "values":
>
>         [
>
>           2,
>
>           3,
>
>           4,
>
>           5,
>
>           7,
>
>           9,
>
>           18,
>
>           129
>
>         ],
>
>         "variance": 470.7100099
>
>       }
>
>     ]
>
>   }
>
> }
>
>
>
> Kindest regards Rose
>
>
> *______________________________________________________________________________________________________________________________________________________________*
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Tuesday, 3 August 2021 11:00 p.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* pdal at lists.osgeo.org
> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
> flagged as Withheld
>
>
>
>
>
>
>
> On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> Hi pdal?ers
>
>
>
> These are my attempts to filter out (1) Unclassified Points flagged as
> withheld in LAS filers for further analyses.
>
> Any chance you guys can point to where I have gone wrong?
>
>
>
> pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified
> points flagged as withheld;
>
>
>
> 1.
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>                 {
>
>                                 "type":"filters.range",
>
>                                 "limits":"Classification![129:129]"
>
>                 },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las"
>
>     }
>
>     ]
>
>   }
>
>
>
> I think that this should filter out unclassified withheld points with LAS
> 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the
> "ClassFlags" dimension, so you'll need to use boolean logic with that
> dimension and the "Classification" dimension to do what you want. You might
> also use pdal info --enumerate to make sure that your data has the values
> you think it does.
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
> ------------------------------
>
>
> This message contains information, which may be in confidence and may be
> subject to legal privilege. If you are not the intended recipient, you must
> not peruse, use, disseminate, distribute or copy this message. If you have
> received this message in error, please notify us immediately (Phone 0800
> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
> accepts no responsibility for changes to this email, or for any
> attachments, after its transmission from LINZ. Thank You.
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
> <https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C9dc3b69a0d2642f3e48b08d957549791%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637636843122216352%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=4Z5WxzWs0VPrQNUu0OJzYfmwNf061DST2C5o9xHV0go%3D&reserved=0>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
> <https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C9dc3b69a0d2642f3e48b08d957549791%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637636843122226308%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=9jjxz8zSNfp5GvPSEMBCf3yCOfZVUE9BeFLzzS87Rfk%3D&reserved=0>
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/6eb7e9c4/attachment-0001.html>

From RPhillips at linz.govt.nz  Wed Aug  4 15:14:45 2021
From: RPhillips at linz.govt.nz (Rose Phillips)
Date: Wed, 4 Aug 2021 22:14:45 +0000
Subject: [pdal] FW: FW: Attempting to filter out (1) Unclassified points
 flagged as Withheld
In-Reply-To: <CACJ51z3rySCbkcShXfEQc-mgqnm1y9hr=gbrQHKOWciAYOoxzg@mail.gmail.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com> 
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com> 
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com> 
 <CACJ51z1kdK1A1D5hih53siZfqfMr_=q0GfSA5NwYk+V4z=V-cA@mail.gmail.com> 
 <CACJ51z2q=xfH2_qdcBzMRWBJF9dzq5ar0uRuG0_CSCOMJ91akA@mail.gmail.com> 
 <SYBPR01MB649591367203EEE28A69BB369CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z3rySCbkcShXfEQc-mgqnm1y9hr=gbrQHKOWciAYOoxzg@mail.gmail.com>
Message-ID: <SYBPR01MB6495AE0D0A18C1659960BD0A9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>

But this was mentioned before by Brad in the thread below?

"Also, the where option is not supported on reader/writer stages, so you actually should've seen an error if you executed the pipeline that you shared. If you simply want a pipeline to extract non-withheld points, you can use the range filter. If you want to skip withheld points, but not discard them, you could use where with the other filters in your pipeline"

Any chance you could give me an example of this pipeline?

From: Andrew Bell <andrew.bell.ia at gmail.com>
Sent: Thursday, 5 August 2021 10:10 a.m.
To: Rose Phillips <RPhillips at linz.govt.nz>
Cc: Bradley Chambers <brad.chambers at gmail.com>; pdal <pdal at lists.osgeo.org>
Subject: Re: [pdal] FW: Attempting to filter out (1) Unclassified points flagged as Withheld

This is incorrect.

'where' selects points that are included in the filter/writer being run.

You're just trying to remove some points from the writer, so all you have to do is use the 'where' clause in the writer. You don't need the range filter if you take this approach.

On Wed, Aug 4, 2021, 6:04 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi Andrew and Brad

Unfortunately I'm very confused, this is my interpretation of the help I've been given so far (thank you for this).

My objective: To filter out withheld flagged points under classification (1) unclassified, for further processing.

This is the pipeline using the same file as below from Open Topography NZ20_Westport dataset (CL2_BR20_2020_1000_4134.laz)

I have created a pipeline incorporating both suggestions made filtering out (1) unclassified points flagged as withheld e.g via bit reference and where ClassFlag statement.
Let me know if this is incorrect.

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
    {
        "type":"filters.range",
        "limits":"Classification![129:129]",
        "where":"ClassFlags!=4 || Classification != 1"
    },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }


I still have these points in my output las file;

(pdal) C:\>pdal info C:\Temp\scan_angle\where_option\pdal_test\processed\CL2_BR20_2020_1000_4134.laz --filters.stats.count "Classification,ClassFlags" --filters.stats.dimensions "Classification,ClassFlags"
(pdal info filters.stats Warning) Dimension 'ClassFlags' listed in --dimensions option does not exist.  Ignoring.
(pdal info filters.stats Warning) Dimension 'ClassFlags' listed in --count option does not exist.  Ignoring.
{
  "file_size": 8079232,
  "filename": "C:\\Temp\\scan_angle\\where_option\\pdal_test\\processed\\CL2_BR20_2020_1000_4134.laz",
  "now": "2021-08-05T10:00:28+1200",
  "pdal_version": "2.3.0 (git-version: Release)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 39.47002407,
        "count": 2524409,
        "counts":
        [
          "1.000000/27800",
          "2.000000/1154344",
          "3.000000/160785",
          "4.000000/135106",
          "5.000000/9930",
          "6.000000/304542",
          "7.000000/106",
          "18.000000/1",
          "129.000000/731795"
        ],
        "maximum": 129,
        "minimum": 1,
        "name": "Classification",
        "position": 0,
        "stddev": 57.21758565,
        "variance": 3273.852107
      }
    ]
  }
}

(pdal) C:\>pdal --version
--------------------------------------------------------------------------------
pdal 2.3.0 (git-version: Release)
--------------------------------------------------------------------------------


(pdal) C:\>

Many thanks again (nga mihi nui) Rose

From: Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>>
Sent: Thursday, 5 August 2021 2:31 a.m.
To: Bradley Chambers <brad.chambers at gmail.com<mailto:brad.chambers at gmail.com>>
Cc: Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>>; pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Subject: Re: [pdal] FW: Attempting to filter out (1) Unclassified points flagged as Withheld

Rose,

I think the where clause you'd need if your data is 1.4 is:

where : "ClassFlags != 4 || Classification != 1"

On Wed, Aug 4, 2021 at 10:14 AM Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>> wrote:
"where" is supported for writers as of version 2.3

On Wed, Aug 4, 2021 at 10:13 AM Bradley Chambers <brad.chambers at gmail.com<mailto:brad.chambers at gmail.com>> wrote:
Rose,

As Andrew suggested, the withheld bit is actually stored in ClassFlags for your data. In this case, withheld returns are marked as "4" (see the LAS spec for more on the flags).

$ pdal info CL2_BR20_2020_1000_4134.laz --filters.stats.count "Classification,ClassFlags" --filters.stats.dimensions "Classification,ClassFlags"
{
  "file_size": 8728570,
  "filename": "CL2_BR20_2020_1000_4134.laz",
  "now": "2021-08-04T08:51:53-0500",
  "pdal_version": "2.2.0 (git-version: 3dd320)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 2.3644045,
        "count": 2524409,
        "counts":
        [
          "1.000000/759595",
          "2.000000/1154344",
          "3.000000/160785",
          "4.000000/135106",
          "5.000000/9930",
          "6.000000/304542",
          "7.000000/106",
          "18.000000/1"
        ],
        "maximum": 18,
        "minimum": 1,
        "name": "Classification",
        "position": 0,
        "stddev": 1.55327344,
        "variance": 2.412658379
      },
      {
        "average": 1.159550612,
        "count": 2524409,
        "counts":
        [
          "0.000000/1792614",
          "4.000000/731795"
        ],
        "maximum": 4,
        "minimum": 0,
        "name": "ClassFlags",
        "position": 1,
        "stddev": 1.814840525,
        "variance": 3.29364613
      }
    ]
  }
}

Also, the where option is not supported on reader/writer stages, so you actually should've seen an error if you executed the pipeline that you shared. If you simply want a pipeline to extract non-withheld points, you can use the range filter. If you want to skip withheld points, but not discard them, you could use where with the other filters in your pipeline.

Brad

On Wed, Aug 4, 2021 at 8:12 AM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
LAZ files with 129 bits are downloadable for free here :-

aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url https://opentopography.s3.sdsc.edu<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fopentopography.s3.sdsc.edu%2F&data=04%7C01%7CRPhillips%40linz.govt.nz%7C6e0cec85a17e4288eac308d957949da9%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637637118092738408%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=t8vk5DVCeNcu5Ddwq%2BaRjwUdJjzH4vqol0ps39cgeyY%3D&reserved=0> --no-sign-request

Using the same pipeline as below I was having the same issue with example file from the above bucket CL2_BR20_2020_1000_4134.laz - output file still contained the 129 bit when explicitly filtered out by writers.las.where statement.

From: Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>>
Sent: Wednesday, 4 August 2021 11:57 a.m.
To: Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>>
Cc: pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Subject: Re: [pdal] Attempting to filter out (1) Unclassified points flagged as Withheld

The pipeline doesn't seem to match the output you show, so it's hard to know what's going on. If you want to share a file I can see what's up.

On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi Andrew,

Thank you for the heads up, I tried the following pipeline;

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las",
        "where": "ClassFlags!=129"
    }
    ]
}

However my output LAZ file still had these bits intact;

{
  "file_size": 3007189,
  "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\CL2_BW24_2020_1000_4526.laz",
  "now": "2021-08-04T09:20:17+1200",
  "pdal_version": "2.3.0 (git-version: Release)",
  "reader": "readers.las",
  "stats":
  {
    "statistic":
    [
      {
        "average": 6.704382019,
        "count": 1307434,
        "maximum": 129,
        "minimum": 2,
        "name": "Classification",
        "position": 0,
        "stddev": 21.69585237,
        "values":
        [
          2,
          3,
          4,
          5,
          7,
          9,
          18,
          129
        ],
        "variance": 470.7100099
      }
    ]
  }
}

Kindest regards Rose
______________________________________________________________________________________________________________________________________________________________
From: Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>>
Sent: Tuesday, 3 August 2021 11:00 p.m.
To: Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>>
Cc: pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Subject: Re: [pdal] Attempting to filter out (1) Unclassified points flagged as Withheld



On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz<mailto:RPhillips at linz.govt.nz>> wrote:
Hi pdal'ers

These are my attempts to filter out (1) Unclassified Points flagged as withheld in LAS filers for further analyses.
Any chance you guys can point to where I have gone wrong?

pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified points flagged as withheld;

1.

{
    "pipeline" : [
    {
        "type" : "readers.las",
        "filename" : "input.las"
    },
                {
                                "type":"filters.range",
                                "limits":"Classification![129:129]"
                },
    {
        "type" : "writers.las",
        "a_srs" : "EPSG:2193+7839",
        "filesource_id" : "0",
        "filename" : "output.las"
    }
    ]
  }

I think that this should filter out unclassified withheld points with LAS 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the "ClassFlags" dimension, so you'll need to use boolean logic with that dimension and the "Classification" dimension to do what you want. You might also use pdal info --enumerate to make sure that your data has the values you think it does.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz<mailto:info at linz.govt.nz>) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/pdal<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C6e0cec85a17e4288eac308d957949da9%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637637118092738408%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=BUsJ8WfbrEV1b%2B9P8styNjtU04J%2FBC%2FLg0D47%2B9ypDI%3D&reserved=0>
_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/pdal<https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C6e0cec85a17e4288eac308d957949da9%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637637118092748362%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=rI%2BWlTlk5i9Uuf%2BSixqZLJI9Cn2Ti5Xbi0JchL9j86s%3D&reserved=0>


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210804/3e1e2e16/attachment-0001.html>

From andrew.bell.ia at gmail.com  Thu Aug  5 06:58:08 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Thu, 5 Aug 2021 09:58:08 -0400
Subject: [pdal] FW: FW: Attempting to filter out (1) Unclassified points
 flagged as Withheld
In-Reply-To: <SYBPR01MB6495AE0D0A18C1659960BD0A9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
References: <SYBPR01MB6495FEE7E18447CBCF0238E39CEF9@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z2PmV3+YQpSNv5Nyv1DnLtDU3GtW6whcganpD3xEvZfpw@mail.gmail.com>
 <SYBPR01MB64955CEABBEADC6316E8B4AF9CF09@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z1a-vaNN2Fwvuf1UjOdiZ3G5v4T4oL_JdZUjrDDZ=44YA@mail.gmail.com>
 <SYBPR01MB6495D499AF31CD8D8A03183E9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <SYBPR01MB64950F95E7EE1DC67B0C41789CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CAJyqqPznQS14SYO6dyppykXaUbU240YYEa1Ueny6ZNXM93GEgw@mail.gmail.com>
 <CACJ51z1kdK1A1D5hih53siZfqfMr_=q0GfSA5NwYk+V4z=V-cA@mail.gmail.com>
 <CACJ51z2q=xfH2_qdcBzMRWBJF9dzq5ar0uRuG0_CSCOMJ91akA@mail.gmail.com>
 <SYBPR01MB649591367203EEE28A69BB369CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
 <CACJ51z3rySCbkcShXfEQc-mgqnm1y9hr=gbrQHKOWciAYOoxzg@mail.gmail.com>
 <SYBPR01MB6495AE0D0A18C1659960BD0A9CF19@SYBPR01MB6495.ausprd01.prod.outlook.com>
Message-ID: <CACJ51z2CWbvAGzqeKHuDg6ZH+5TyFe-a2pfX3+dTzuJFzuoPaQ@mail.gmail.com>

[
  "input.las",
  {
    "type":"writers.las",
    "filename":"out.las",
    "where": "ClassFlags!=4 || Classification != 1"
  }
]


On Wed, Aug 4, 2021 at 6:14 PM Rose Phillips <RPhillips at linz.govt.nz> wrote:

> But this was mentioned before by Brad in the thread below?
>
>
>
> ?Also, the where option is not supported on reader/writer stages, so you
> actually should've seen an error if you executed the pipeline that you
> shared. If you simply want a pipeline to extract non-withheld points, you
> can use the range filter. If you want to skip withheld points, but not
> discard them, you could use where with the other filters in your pipeline?
>
>
>
> Any chance you could give me an example of this pipeline?
>
>
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Thursday, 5 August 2021 10:10 a.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* Bradley Chambers <brad.chambers at gmail.com>; pdal <
> pdal at lists.osgeo.org>
> *Subject:* Re: [pdal] FW: Attempting to filter out (1) Unclassified
> points flagged as Withheld
>
>
>
> This is incorrect.
>
>
>
> 'where' selects points that are included in the filter/writer being run.
>
>
>
> You're just trying to remove some points from the writer, so all you have
> to do is use the 'where' clause in the writer. You don't need the range
> filter if you take this approach.
>
>
>
> On Wed, Aug 4, 2021, 6:04 PM Rose Phillips <RPhillips at linz.govt.nz> wrote:
>
> Hi Andrew and Brad
>
>
>
> Unfortunately I?m very confused, this is my interpretation of the help
> I?ve been given so far (thank you for this).
>
>
>
> My objective: To filter out withheld flagged points under classification
> (1) unclassified, for further processing.
>
>
>
> This is the pipeline using the same file as below from Open Topography
> NZ20_Westport dataset (CL2_BR20_2020_1000_4134.laz)
>
>
> I have created a pipeline incorporating both suggestions made filtering
> out (1) unclassified points flagged as withheld e.g via bit reference and
> where ClassFlag statement.
>
> Let me know if this is incorrect.
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>     {
>
>         "type":"filters.range",
>
>         "limits":"Classification![129:129]",
>
>         "where":"ClassFlags!=4 || Classification != 1"
>
>     },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las"
>
>     }
>
>     ]
>
>   }
>
>
>
>
>
> I still have these points in my output las file;
>
>
>
> (pdal) C:\>pdal info
> C:\Temp\scan_angle\where_option\pdal_test\processed\CL2_BR20_2020_1000_4134.laz
> --filters.stats.count "Classification,ClassFlags"
> --filters.stats.dimensions "Classification,ClassFlags"
>
> (pdal info filters.stats Warning) Dimension 'ClassFlags' listed in
> --dimensions option does not exist.  Ignoring.
>
> (pdal info filters.stats Warning) Dimension 'ClassFlags' listed in --count
> option does not exist.  Ignoring.
>
> {
>
>   "file_size": 8079232,
>
>   "filename":
> "C:\\Temp\\scan_angle\\where_option\\pdal_test\\processed\\CL2_BR20_2020_1000_4134.laz",
>
>   "now": "2021-08-05T10:00:28+1200",
>
>   "pdal_version": "2.3.0 (git-version: Release)",
>
>   "reader": "readers.las",
>
>   "stats":
>
>   {
>
>     "statistic":
>
>     [
>
>       {
>
>         "average": 39.47002407,
>
>         "count": 2524409,
>
>         "counts":
>
>         [
>
>           "1.000000/27800",
>
>           "2.000000/1154344",
>
>           "3.000000/160785",
>
>           "4.000000/135106",
>
>           "5.000000/9930",
>
>           "6.000000/304542",
>
>           "7.000000/106",
>
>           "18.000000/1",
>
>           "129.000000/731795"
>
>         ],
>
>         "maximum": 129,
>
>         "minimum": 1,
>
>         "name": "Classification",
>
>         "position": 0,
>
>         "stddev": 57.21758565,
>
>         "variance": 3273.852107
>
>       }
>
>     ]
>
>   }
>
> }
>
>
>
> (pdal) C:\>pdal --version
>
>
> --------------------------------------------------------------------------------
>
> pdal 2.3.0 (git-version: Release)
>
>
> --------------------------------------------------------------------------------
>
>
>
>
>
> (pdal) C:\>
>
>
>
> Many thanks again (nga mihi nui) Rose
>
>
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Thursday, 5 August 2021 2:31 a.m.
> *To:* Bradley Chambers <brad.chambers at gmail.com>
> *Cc:* Rose Phillips <RPhillips at linz.govt.nz>; pdal at lists.osgeo.org
> *Subject:* Re: [pdal] FW: Attempting to filter out (1) Unclassified
> points flagged as Withheld
>
>
>
> Rose,
>
> I think the where clause you'd need if your data is 1.4 is:
>
> where : "ClassFlags != 4 || Classification != 1"
>
>
>
> On Wed, Aug 4, 2021 at 10:14 AM Andrew Bell <andrew.bell.ia at gmail.com>
> wrote:
>
> "where" is supported for writers as of version 2.3
>
>
>
> On Wed, Aug 4, 2021 at 10:13 AM Bradley Chambers <brad.chambers at gmail.com>
> wrote:
>
> Rose,
>
>
>
> As Andrew suggested, the withheld bit is actually stored in ClassFlags for
> your data. In this case, withheld returns are marked as "4" (see the LAS
> spec for more on the flags).
>
>
>
> $ pdal info CL2_BR20_2020_1000_4134.laz --filters.stats.count
> "Classification,ClassFlags" --filters.stats.dimensions
> "Classification,ClassFlags"
> {
>   "file_size": 8728570,
>   "filename": "CL2_BR20_2020_1000_4134.laz",
>   "now": "2021-08-04T08:51:53-0500",
>   "pdal_version": "2.2.0 (git-version: 3dd320)",
>   "reader": "readers.las",
>   "stats":
>   {
>     "statistic":
>     [
>       {
>         "average": 2.3644045,
>         "count": 2524409,
>         "counts":
>         [
>           "1.000000/759595",
>           "2.000000/1154344",
>           "3.000000/160785",
>           "4.000000/135106",
>           "5.000000/9930",
>           "6.000000/304542",
>           "7.000000/106",
>           "18.000000/1"
>         ],
>         "maximum": 18,
>         "minimum": 1,
>         "name": "Classification",
>         "position": 0,
>         "stddev": 1.55327344,
>         "variance": 2.412658379
>       },
>       {
>         "average": 1.159550612,
>         "count": 2524409,
>         "counts":
>         [
>           "0.000000/1792614",
>           "4.000000/731795"
>         ],
>         "maximum": 4,
>         "minimum": 0,
>         "name": "ClassFlags",
>         "position": 1,
>         "stddev": 1.814840525,
>         "variance": 3.29364613
>       }
>     ]
>   }
> }
>
>
>
> Also, the where option is not supported on reader/writer stages, so you
> actually should've seen an error if you executed the pipeline that you
> shared. If you simply want a pipeline to extract non-withheld points, you
> can use the range filter. If you want to skip withheld points, but not
> discard them, you could use where with the other filters in your pipeline.
>
>
>
> Brad
>
>
>
> On Wed, Aug 4, 2021 at 8:12 AM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> LAZ files with 129 bits are downloadable for free here :-
>
> aws s3 cp s3://pc-bulk/NZ20_Westport/ . --recursive --endpoint-url
> https://opentopography.s3.sdsc.edu
> <https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fopentopography.s3.sdsc.edu%2F&data=04%7C01%7CRPhillips%40linz.govt.nz%7C6e0cec85a17e4288eac308d957949da9%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637637118092738408%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=t8vk5DVCeNcu5Ddwq%2BaRjwUdJjzH4vqol0ps39cgeyY%3D&reserved=0>
> --no-sign-request
>
>
>
> Using the same pipeline as below I was having the same issue with example
> file from the above bucket CL2_BR20_2020_1000_4134.laz ? output file still
> contained the 129 bit when explicitly filtered out by writers.las.where
> statement.
>
>
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Wednesday, 4 August 2021 11:57 a.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* pdal at lists.osgeo.org
> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
> flagged as Withheld
>
>
>
> The pipeline doesn't seem to match the output you show, so it's hard to
> know what's going on. If you want to share a file I can see what's up.
>
>
>
> On Tue, Aug 3, 2021 at 5:22 PM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> Hi Andrew,
>
>
>
> Thank you for the heads up, I tried the following pipeline;
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las",
>
>         "where": "ClassFlags!=129"
>
>     }
>
>     ]
>
> }
>
>
>
> However my output LAZ file still had these bits intact;
>
>
>
> {
>
>   "file_size": 3007189,
>
>   "filename": "C:\\Temp\\scan_angle\\test_file\\processed\\
> CL2_BW24_2020_1000_4526.laz",
>
>   "now": "2021-08-04T09:20:17+1200",
>
>   "pdal_version": "2.3.0 (git-version: Release)",
>
>   "reader": "readers.las",
>
>   "stats":
>
>   {
>
>     "statistic":
>
>     [
>
>       {
>
>         "average": 6.704382019,
>
>         "count": 1307434,
>
>         "maximum": 129,
>
>         "minimum": 2,
>
>         "name": "Classification",
>
>         "position": 0,
>
>         "stddev": 21.69585237,
>
>         "values":
>
>         [
>
>           2,
>
>           3,
>
>           4,
>
>           5,
>
>           7,
>
>           9,
>
>           18,
>
>           129
>
>         ],
>
>         "variance": 470.7100099
>
>       }
>
>     ]
>
>   }
>
> }
>
>
>
> Kindest regards Rose
>
>
> *______________________________________________________________________________________________________________________________________________________________*
>
> *From:* Andrew Bell <andrew.bell.ia at gmail.com>
> *Sent:* Tuesday, 3 August 2021 11:00 p.m.
> *To:* Rose Phillips <RPhillips at linz.govt.nz>
> *Cc:* pdal at lists.osgeo.org
> *Subject:* Re: [pdal] Attempting to filter out (1) Unclassified points
> flagged as Withheld
>
>
>
>
>
>
>
> On Mon, Aug 2, 2021 at 5:39 PM Rose Phillips <RPhillips at linz.govt.nz>
> wrote:
>
> Hi pdal?ers
>
>
>
> These are my attempts to filter out (1) Unclassified Points flagged as
> withheld in LAS filers for further analyses.
>
> Any chance you guys can point to where I have gone wrong?
>
>
>
> pipelines I have tried using pdal 2.3.0: to filter out (1) unclassified
> points flagged as withheld;
>
>
>
> 1.
>
>
>
> {
>
>     "pipeline" : [
>
>     {
>
>         "type" : "readers.las",
>
>         "filename" : "input.las"
>
>     },
>
>                 {
>
>                                 "type":"filters.range",
>
>                                 "limits":"Classification![129:129]"
>
>                 },
>
>     {
>
>         "type" : "writers.las",
>
>         "a_srs" : "EPSG:2193+7839",
>
>         "filesource_id" : "0",
>
>         "filename" : "output.las"
>
>     }
>
>     ]
>
>   }
>
>
>
> I think that this should filter out unclassified withheld points with LAS
> 1.2 and 1.3. With LAS 1.4, the withheld attribute is stored in the
> "ClassFlags" dimension, so you'll need to use boolean logic with that
> dimension and the "Classification" dimension to do what you want. You might
> also use pdal info --enumerate to make sure that your data has the values
> you think it does.
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
> ------------------------------
>
>
> This message contains information, which may be in confidence and may be
> subject to legal privilege. If you are not the intended recipient, you must
> not peruse, use, disseminate, distribute or copy this message. If you have
> received this message in error, please notify us immediately (Phone 0800
> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
> accepts no responsibility for changes to this email, or for any
> attachments, after its transmission from LINZ. Thank You.
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
> <https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C6e0cec85a17e4288eac308d957949da9%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637637118092738408%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=BUsJ8WfbrEV1b%2B9P8styNjtU04J%2FBC%2FLg0D47%2B9ypDI%3D&reserved=0>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
> <https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fpdal&data=04%7C01%7CRPhillips%40linz.govt.nz%7C6e0cec85a17e4288eac308d957949da9%7C2134e9617e384c34a22b10da5466b725%7C0%7C0%7C637637118092748362%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=rI%2BWlTlk5i9Uuf%2BSixqZLJI9Cn2Ti5Xbi0JchL9j86s%3D&reserved=0>
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210805/e1a22bbb/attachment-0001.html>

From harrison at rockrobotic.com  Tue Aug 10 15:10:26 2021
From: harrison at rockrobotic.com (Harrison Knoll)
Date: Tue, 10 Aug 2021 15:10:26 -0700
Subject: [pdal] LiDAR Job Opportunity
Message-ID: <CAM+F9z=tTanKwYp1OO3-3XcV1Obyje8fVXOvWwC4Y8PQWzHuHg@mail.gmail.com>

Greetings PDAL Community!

Hello from Indiana Drones / ROCK robotic!  I am the host of Indiana Drones
YouTube and co-founder of ROCK robotic.  Over this past year we have
introduced the most simple and affordable high accuracy LiDAR into the
market and the response has been overwhelming.  (In a good way)  At the
same time we launched the ROCK Cloud - the full LiDAR processing suite that
is in the cloud.  This has enabled LiDAR users to get easy access to LiDAR
deliverables and a platform to host and share their data.  This is
compounded by our open mindset on information and support.  Today, I can
say, we are bringing LiDAR to the masses! With SImplicity and Efficiency in
every step.

But, we are still building and have a lot of challenges ahead of us.
Everything isn't great, but with great talent density comes great
achievements. We are looking for you to join our team - and help change the
trajectory of an industry and in the process create a whole new one!

If you think you have what it takes and want to jump in and own it - then
shoot me an email at Harrison at rockrobotic.com

https://www.rockrobotic.com/
https://www.youtube.com/watch?v=aaPJNX0Cy4c

Harrison

-- 
*For immediate assistance on inquires, please reach out
to: sales at Rockrobotic.com  <sales at Rockrobotic.com>*

*For immediate support, please reach out to: support at Rockrobotic.com
<support at Rockrobotic.com>*


[image: photo]
*Harrison Knoll*
Founder

(720) 677-7634

Harrison at ROCKrobotic.com

www.ROCKrobotic.com <http://www.rockrobotic.com/>
San Francisco, CA


[image: Social icon]
<https://t.sidekickopen70.com/s3t/c/5/f18dQhb0S7kF8cpnxwW1j7hvX59hl3kW7_k2841CXdp3VPx42k1FpgYjW2bzNMV345bFZ101?te=W3R5hFj26QkHmW4mKDt23T1kvSW3H6wS-3Fbt5SW3Fbt723zd-HLW49PFQk49PFKG4Nnfg1&si=8000000003748662&pi=009f12dc-2033-4d8e-e604-24e7d1b7424d>
[image:
Social icon]
<https://t.sidekickopen70.com/s3t/c/5/f18dQhb0S7kF8cpnxwW1j7hvX59hl3kW7_k2841CXdp3VPx42k1FpgYjW2bzNMV345bFZ101?te=W3R5hFj26QkHmW4mKDth43XxFkW3C7GlG43T4NSW1Ljf003SXXBQw2w2P6Fb732&si=8000000003748662&pi=009f12dc-2033-4d8e-e604-24e7d1b7424d>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210810/c50086aa/attachment.html>

From peter.lim at gpslands.com  Tue Aug 17 03:09:43 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Tue, 17 Aug 2021 18:09:43 +0800
Subject: [pdal] filters.assign
Message-ID: <000601d79350$00182c90$004885b0$@lim@gpslands.com>

Hi,

 

I'm trying to generate a GeoTiff image from a LAS file using the sq. root of
Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"


    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

 
"gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,
GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign.

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/13833617/attachment.html>

From andrew.bell.ia at gmail.com  Tue Aug 17 04:14:06 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 17 Aug 2021 07:14:06 -0400
Subject: [pdal] filters.assign
In-Reply-To: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>

You're mixing syntax for the older "assignment" option with that of the
newer "value" option.

Try this:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity /
256"

    },
    ...

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

> Hi,
>
>
>
> I?m trying to generate a GeoTiff image from a LAS file using the sq. root
> of Intensity dimension and the pipeline as follows:
>
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>          "type": "filters.ferry",
>
>          "dimensions":"Intensity=>IntnstySqRt"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt[:] = IntnstySqRt /
> 256"
>
>     },
>
>     {
>
>         "type":"writers.gdal",
>
>         "resolution": 0.05,
>
>         "data_type":"uint8",
>
>         "output_type":"mean",
>
>          "dimension":"IntnstySqRt",
>
>
>     "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",
>
>
>         "bounds":"([19370,20527],[39571,40865])",
>
>         "filename":"output.tif"
>
>     }
>
> ]
>
>
>
> However, error occurred:
>
> PDAL: filters.assign: Invalid value for argument 'assignment'.
>
>
>
> Is it the correct use of filters.ferry and filters. assign?
>
>
>
> Please advise.
>
>
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
>
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> Virus-free.
> www.avast.com
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
> <#m_1008237852334678820_DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/643a16af/attachment.html>

From andreas at yank.to  Tue Aug 17 08:37:02 2021
From: andreas at yank.to (Andreas Yankopolus)
Date: Tue, 17 Aug 2021 11:37:02 -0400
Subject: [pdal] Crop SRS not working as expected
Message-ID: <7CFB954F-FC86-4CB7-A20A-0B5CCDFD4EBF@yank.to>

All?

I?m cropping and processing USGS LPC data into WGS84 raster files, but I can?t get the cropping to work out correctly: My pdal crop stage specifies a square region in WGS8, but the resulting files display as rhombuses. Here?s a minimal example:

{
  "pipeline": [
    "/home/ayank/Documents/geodata/lpc/*.laz",
    {
      "type": "filters.crop",
      "bounds": "([-117.18,-117.13],[32.68,32.73])",
      "a_srs": "EPSG:4326"
    },
    {
      "type": "filters.range",
      "limits": "Classification[2:2]"
    },
    {
      "filename": "/home/ayank/Documents/geodata/export/sd_coord_test.laz",
      "type": "writers.las",
      "compression": "laszip",
      "extra_dims": "all"
    },
    {
      "filename": "/home/ayank/Documents/geodata/export/sd_coord_test.tiff",
      "type": "writers.gdal",
      "gdaldriver": "GTiff",
      "dimension": "Z",
      "output_type": "idw",
      "resolution": "10"
    }
  ]
}

My expectation is that the output files, when read into QGIS with WGS84 (EPSG:4326) as the project CRS, would render as squares. But they?re both a rhombus.

I?ve also tried adding these two stages to the pipeline:

    {
      "type": "filters.reprojection",
      "out_srs": "EPSG:4326"
    },

    {
      "filename": "/home/ayank/Documents/geodata/export/sd_coord_test_4326.tiff",
      "type": "writers.gdal",
      "gdaldriver": "GTiff",
      "dimension": "Z",
      "output_type": "idw",
      "resolution": "9.25925925925925925925925e-5"
    }

Running gdalinfo on the resulting TIFF shows it as not a square:

Size is 552, 541

Corner Coordinates:
Upper Left  (-117.1805780,  32.7300307) (117d10'50.08"W, 32d43'48.11"N)
Lower Left  (-117.1805780,  32.6799381) (117d10'50.08"W, 32d40'47.78"N)
Upper Right (-117.1294669,  32.7300307) (117d 7'46.08"W, 32d43'48.11"N)
Lower Right (-117.1294669,  32.6799381) (117d 7'46.08"W, 32d40'47.78"N)
Center      (-117.1550224,  32.7049844) (117d 9'18.08"W, 32d42'17.94?N)

It overlaps with the previous two output files perfectly.

What am I doing wrong?

My thinking has been to keep the LPC data in its original CRS to avoid dealing with scaling factors and offsets. It appears to combine NAD83 and survey feet.

Thanks,

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/72af636d/attachment-0001.html>

From andrew.bell.ia at gmail.com  Tue Aug 17 08:55:32 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 17 Aug 2021 11:55:32 -0400
Subject: [pdal] Crop SRS not working as expected
In-Reply-To: <7CFB954F-FC86-4CB7-A20A-0B5CCDFD4EBF@yank.to>
References: <7CFB954F-FC86-4CB7-A20A-0B5CCDFD4EBF@yank.to>
Message-ID: <CACJ51z1O=1QZzYKF=1zqT37w7zV=rvQbLRYf+34KU6VARDLQnQ@mail.gmail.com>

Hi Andreas,

If the SRS of the bounding region (you specified 4326) doesn't match that
of the input, it will be transformed to match that of the points before
cropping occurs, which probably means that what you specified as a box
becomes something else (rhombus?). If you want your crop region to be a
square in the projection of your points, you'll have to leave off the
"a_srs" and use the proper coordinates for the projection of the points.

You could also transform the points to 4326 *before* applying the crop
filter, in which case you can drop "a_srs" from the crop filter as well,
and then you'll get output in 4326.

Hope that helps,

On Tue, Aug 17, 2021 at 11:44 AM Andreas Yankopolus <andreas at yank.to> wrote:

> All?
>
> I?m cropping and processing USGS LPC data into WGS84 raster files, but I
> can?t get the cropping to work out correctly: My pdal crop stage specifies
> a square region in WGS8, but the resulting files display as rhombuses.
> Here?s a minimal example:
>
> {
>   "pipeline": [
>     "/home/ayank/Documents/geodata/lpc/*.laz",
>     {
>       "type": "filters.crop",
>       "bounds": "([-117.18,-117.13],[32.68,32.73])",
>       "a_srs": "EPSG:4326"
>     },
>     {
>       "type": "filters.range",
>       "limits": "Classification[2:2]"
>     },
>     {
>       "filename": "/home/ayank/Documents/geodata/export/sd_coord_test.laz",
>       "type": "writers.las",
>       "compression": "laszip",
>       "extra_dims": "all"
>     },
>     {
>
>   "filename": "/home/ayank/Documents/geodata/export/sd_coord_test.tiff",
>       "type": "writers.gdal",
>       "gdaldriver": "GTiff",
>       "dimension": "Z",
>       "output_type": "idw",
>       "resolution": "10"
>     }
>   ]
> }
>
> My expectation is that the output files, when read into QGIS with WGS84
> (EPSG:4326) as the project CRS, would render as squares. But they?re both a
> rhombus.
>
> I?ve also tried adding these two stages to the pipeline:
>
>     {
>       "type": "filters.reprojection",
>       "out_srs": "EPSG:4326"
>     },
>
>     {
>
>   "filename": "/home/ayank/Documents/geodata/export/sd_coord_test_4326.tiff",
>       "type": "writers.gdal",
>       "gdaldriver": "GTiff",
>       "dimension": "Z",
>       "output_type": "idw",
>       "resolution": "9.25925925925925925925925e-5"
>     }
>
> Running gdalinfo on the resulting TIFF shows it as not a square:
>
> Size is 552, 541
>
> Corner Coordinates:
> Upper Left  (-117.1805780,  32.7300307) (117d10'50.08"W, 32d43'48.11"N)
> Lower Left  (-117.1805780,  32.6799381) (117d10'50.08"W, 32d40'47.78"N)
> Upper Right (-117.1294669,  32.7300307) (117d 7'46.08"W, 32d43'48.11"N)
> Lower Right (-117.1294669,  32.6799381) (117d 7'46.08"W, 32d40'47.78"N)
> Center      (-117.1550224,  32.7049844) (117d 9'18.08"W, 32d42'17.94?N)
>
> It overlaps with the previous two output files perfectly.
>
> What am I doing wrong?
>
> My thinking has been to keep the LPC data in its original CRS to avoid
> dealing with scaling factors and offsets. It appears to combine NAD83 and
> survey feet.
>
> Thanks,
>
> Andreas
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/6110d43f/attachment.html>

From andreas at yank.to  Tue Aug 17 10:44:31 2021
From: andreas at yank.to (Andreas Yankopolus)
Date: Tue, 17 Aug 2021 13:44:31 -0400
Subject: [pdal] Crop SRS not working as expected
In-Reply-To: <CACJ51z1O=1QZzYKF=1zqT37w7zV=rvQbLRYf+34KU6VARDLQnQ@mail.gmail.com>
References: <7CFB954F-FC86-4CB7-A20A-0B5CCDFD4EBF@yank.to>
 <CACJ51z1O=1QZzYKF=1zqT37w7zV=rvQbLRYf+34KU6VARDLQnQ@mail.gmail.com>
Message-ID: <31C309A3-E0D0-4261-AFEF-99E33728F9B8@yank.to>

Andrew,

> If the SRS of the bounding region (you specified 4326) doesn't match that of the input, it will be transformed to match that of the points before cropping occurs, which probably means that what you specified as a box becomes something else (rhombus?).

I?m tracking here?the square in WGS84 is not a square in the LPC SRS?but shouldn?t the resulting cropped region become a square when read in by GDAL and transformed into WGS84?

Thanks,

Andreas


From andrew.bell.ia at gmail.com  Tue Aug 17 10:54:52 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 17 Aug 2021 13:54:52 -0400
Subject: [pdal] Crop SRS not working as expected
In-Reply-To: <31C309A3-E0D0-4261-AFEF-99E33728F9B8@yank.to>
References: <7CFB954F-FC86-4CB7-A20A-0B5CCDFD4EBF@yank.to>
 <CACJ51z1O=1QZzYKF=1zqT37w7zV=rvQbLRYf+34KU6VARDLQnQ@mail.gmail.com>
 <31C309A3-E0D0-4261-AFEF-99E33728F9B8@yank.to>
Message-ID: <CACJ51z05b8sREzMdA0qCU9xk1ZfXjegm6hTEu-vMkC0mz2bmbQ@mail.gmail.com>

This is complicated. I could be wrong here, but what I think would be
happening is that after you crop, you have a rhombus in your original CRS.
Then when you run the GDAL writer, it makes a *rectangular* tiff (because
that's what it does, even if you're missing data in some places. Then when
you transform that rectangle in your CRS to 4326, you're back to something
non-rectangular.

Maybe someone else can chime in, but I would think the easiest thing to do
would be to transform your points to 4326 right after you read them since
that's your ultimate goal, I think.

On Tue, Aug 17, 2021 at 1:45 PM Andreas Yankopolus <andreas at yank.to> wrote:

> Andrew,
>
> > If the SRS of the bounding region (you specified 4326) doesn't match
> that of the input, it will be transformed to match that of the points
> before cropping occurs, which probably means that what you specified as a
> box becomes something else (rhombus?).
>
> I?m tracking here?the square in WGS84 is not a square in the LPC SRS?but
> shouldn?t the resulting cropped region become a square when read in by GDAL
> and transformed into WGS84?
>
> Thanks,
>
> Andreas
>
>

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/f94427f6/attachment.html>

From andreas at yank.to  Tue Aug 17 13:24:33 2021
From: andreas at yank.to (Andreas Yankopolus)
Date: Tue, 17 Aug 2021 16:24:33 -0400
Subject: [pdal] Crop SRS not working as expected
In-Reply-To: <CACJ51z05b8sREzMdA0qCU9xk1ZfXjegm6hTEu-vMkC0mz2bmbQ@mail.gmail.com>
References: <7CFB954F-FC86-4CB7-A20A-0B5CCDFD4EBF@yank.to>
 <CACJ51z1O=1QZzYKF=1zqT37w7zV=rvQbLRYf+34KU6VARDLQnQ@mail.gmail.com>
 <31C309A3-E0D0-4261-AFEF-99E33728F9B8@yank.to>
 <CACJ51z05b8sREzMdA0qCU9xk1ZfXjegm6hTEu-vMkC0mz2bmbQ@mail.gmail.com>
Message-ID: <78300581-A9FE-43D3-A19D-3E1B3A4E5F0B@yank.to>

Andrew,

> CRS. Then when you run the GDAL writer, it makes a *rectangular* tiff (because that's what it does, even if you're missing data in some places. Then when you transform that rectangle in your CRS to 4326, you're back to something non-rectangular.

Thanks, I?ve sorted through how all this is happening. I was thinking that a rectangular crop in one CRS would translate to a non-rectangular crop in another CRS. That evidently isn?t happening in PDAL?the crop gets turned into a rectangular one.

They?re probably a way to do this with polygons. TIFF output would pad the raster with undefined values and LPC output would drop points in the areas affected by the crop-area shift. But easier to stick with WGS84.

> Maybe someone else can chime in, but I would think the easiest thing to do would be to transform your points to 4326 right after you read them since that's your ultimate goal, I think.

TIFFs and LAS written when I do this come out square as expected. You?re right that this is the way to go.

The trick is writing WGS84 coordinates to a LAS file and getting the scaling and offset factors correct. Could be that PCD is simpler in practice as one can specify the use of double-precision values for coordinates at the expense of storage (float64 vs uint32).

Is LPC data usually stored in a geographic or projected coordinate system? The default 0.01 resolution on LAS files seems more geared to a projected system.

Cheers,

andreas


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/3a4dc060/attachment.html>

From peter.lim at gpslands.com  Tue Aug 17 18:35:05 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Wed, 18 Aug 2021 09:35:05 +0800
Subject: [pdal] filters.assign
In-Reply-To: <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
Message-ID: <002701d793d1$4943d870$dbcb8950$@lim@gpslands.com>

Hi Andrew,

 

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

But is giving same error:
PDAL: filters.assign: Invalid value for argument 'assignment'.

Please advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 17 August 2021 7:14 pm
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

You're mixing syntax for the older "assignment" option with that of the newer "value" option.

 

Try this:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

I?m trying to generate a GeoTiff image from a LAS file using the sq. root of Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"                                    

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign?

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210818/a8fe0950/attachment-0001.html>

From andrew.bell.ia at gmail.com  Tue Aug 17 18:40:04 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 17 Aug 2021 21:40:04 -0400
Subject: [pdal] filters.assign
In-Reply-To: <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>

Sorry, I had a typo. It should have been "value" instead of "assignment":


[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"

    },

    ...




On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:

> Hi Andrew,
>
>
>
> I?ve tried what you have suggested:
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt = Intensity / 256"
>
>
>     },
>
>     {
>
>         "type":"writers.gdal",
>
>         "resolution": 0.05,
>
>         "data_type":"uint8",
>
>         "output_type":"mean",
>
>          "dimension":"IntnstySqRt",
>
>
>     "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",
>
>
>         "bounds":"([19370,20527],[39571,40865])",
>
>         "filename":"output.tif"
>
>     }
>
> ]
>
> But is giving same error:
> PDAL: filters.assign: Invalid value for argument 'assignment'.
>
> Please advise.
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
> *From:* Andrew Bell [mailto:andrew.bell.ia at gmail.com]
> *Sent:* Tuesday, 17 August 2021 7:14 pm
> *To:* Peter Lim
> *Cc:* pdal
> *Subject:* Re: [pdal] filters.assign
>
>
>
> You're mixing syntax for the older "assignment" option with that of the
> newer "value" option.
>
>
>
> Try this:
>
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt = Intensity /
> 256"
>
>     },
>
>     ...
>
>
>
> On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:
>
> Hi,
>
>
>
> I?m trying to generate a GeoTiff image from a LAS file using the sq. root
> of Intensity dimension and the pipeline as follows:
>
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>          "type": "filters.ferry",
>
>          "dimensions":"Intensity=>IntnstySqRt"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt[:] = IntnstySqRt /
> 256"
>
>     },
>
>     {
>
>         "type":"writers.gdal",
>
>         "resolution": 0.05,
>
>         "data_type":"uint8",
>
>         "output_type":"mean",
>
>          "dimension":"IntnstySqRt",
>
>
>     "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",
>
>
>         "bounds":"([19370,20527],[39571,40865])",
>
>         "filename":"output.tif"
>
>     }
>
> ]
>
>
>
> However, error occurred:
>
> PDAL: filters.assign: Invalid value for argument 'assignment'.
>
>
>
> Is it the correct use of filters.ferry and filters. assign?
>
>
>
> Please advise.
>
>
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
>
>
>
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
>
> Virus-free. www.avast.com
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/3cd5677a/attachment.html>

From peter.lim at gpslands.com  Tue Aug 17 18:45:44 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Wed, 18 Aug 2021 09:45:44 +0800
Subject: [pdal] filters.assign
In-Reply-To: <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
Message-ID: <003501d793d2$c2fe4d20$48fae760$@lim@gpslands.com>

Hi Andrew,

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

But it gives this error:

PDAL: filters.assign: Unexpected argument 'value'.

 

I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.

 

Pls. advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:40 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Sorry, I had a typo. It should have been "value" instead of "assignment":


[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

 

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

But is giving same error:
PDAL: filters.assign: Invalid value for argument 'assignment'.

Please advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 17 August 2021 7:14 pm
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

You're mixing syntax for the older "assignment" option with that of the newer "value" option.

 

Try this:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

I?m trying to generate a GeoTiff image from a LAS file using the sq. root of Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"                                    

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign?

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210818/c7628adf/attachment-0001.html>

From andrew.bell.ia at gmail.com  Tue Aug 17 18:57:20 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 17 Aug 2021 21:57:20 -0400
Subject: [pdal] filters.assign
In-Reply-To: <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
 <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>

Your version is too old. You can't do math in an assignment filter in
version 2.1. Sorry.

On Tue, Aug 17, 2021 at 9:45 PM Peter Lim <peter.lim at gpslands.com> wrote:

> Hi Andrew,
>
> I?ve tried what you have suggested:
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "value":"IntnstySqRt = Intensity /
> 256"
>
>     },
>
>     ...
>
>
>
>
>
> But it gives this error:
>
> PDAL: filters.assign: Unexpected argument 'value'.
>
>
>
> I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.
>
>
>
> Pls. advise.
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
>
>
> *From:* Andrew Bell [mailto:andrew.bell.ia at gmail.com]
> *Sent:* Wednesday, 18 August 2021 9:40 am
> *To:* Peter Lim
> *Cc:* pdal
> *Subject:* Re: [pdal] filters.assign
>
>
>
> Sorry, I had a typo. It should have been "value" instead of "assignment":
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "value":"IntnstySqRt = Intensity /
> 256"
>
>     },
>
>     ...
>
>
>
>
>
> On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:
>
> Hi Andrew,
>
>
>
> I?ve tried what you have suggested:
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt = Intensity / 256"
>
>
>     },
>
>     {
>
>         "type":"writers.gdal",
>
>         "resolution": 0.05,
>
>         "data_type":"uint8",
>
>         "output_type":"mean",
>
>          "dimension":"IntnstySqRt",
>
>
>     "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",
>
>
>         "bounds":"([19370,20527],[39571,40865])",
>
>         "filename":"output.tif"
>
>     }
>
> ]
>
> But is giving same error:
> PDAL: filters.assign: Invalid value for argument 'assignment'.
>
> Please advise.
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
> *From:* Andrew Bell [mailto:andrew.bell.ia at gmail.com]
> *Sent:* Tuesday, 17 August 2021 7:14 pm
> *To:* Peter Lim
> *Cc:* pdal
> *Subject:* Re: [pdal] filters.assign
>
>
>
> You're mixing syntax for the older "assignment" option with that of the
> newer "value" option.
>
>
>
> Try this:
>
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt = Intensity /
> 256"
>
>     },
>
>     ...
>
>
>
> On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:
>
> Hi,
>
>
>
> I?m trying to generate a GeoTiff image from a LAS file using the sq. root
> of Intensity dimension and the pipeline as follows:
>
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>          "type": "filters.ferry",
>
>          "dimensions":"Intensity=>IntnstySqRt"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt[:] = IntnstySqRt /
> 256"
>
>     },
>
>     {
>
>         "type":"writers.gdal",
>
>         "resolution": 0.05,
>
>         "data_type":"uint8",
>
>         "output_type":"mean",
>
>          "dimension":"IntnstySqRt",
>
>
>     "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",
>
>
>         "bounds":"([19370,20527],[39571,40865])",
>
>         "filename":"output.tif"
>
>     }
>
> ]
>
>
>
> However, error occurred:
>
> PDAL: filters.assign: Invalid value for argument 'assignment'.
>
>
>
> Is it the correct use of filters.ferry and filters. assign?
>
>
>
> Please advise.
>
>
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
>
>
>
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
>
> Virus-free. www.avast.com
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210817/85e55788/attachment-0001.html>

From peter.lim at gpslands.com  Tue Aug 17 19:16:35 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Wed, 18 Aug 2021 10:16:35 +0800
Subject: [pdal] filters.assign
In-Reply-To: <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
 <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>
Message-ID: <004f01d793d7$1254ad70$36fe0850$@lim@gpslands.com>

Hi Andrew,

 

May I know from which version can PDAl do math in an assignment.

 

I had tried to update/upgrade PDAL using:

conda update pdal

 

conda upgrade pdal

 

But it still gives me the same version.

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:57 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Your version is too old. You can't do math in an assignment filter in version 2.1. Sorry.

 

On Tue, Aug 17, 2021 at 9:45 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

But it gives this error:

PDAL: filters.assign: Unexpected argument 'value'.

 

I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.

 

Pls. advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:40 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Sorry, I had a typo. It should have been "value" instead of "assignment":


[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

 

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

But is giving same error:
PDAL: filters.assign: Invalid value for argument 'assignment'.

Please advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 17 August 2021 7:14 pm
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

You're mixing syntax for the older "assignment" option with that of the newer "value" option.

 

Try this:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

I?m trying to generate a GeoTiff image from a LAS file using the sq. root of Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"                                    

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign?

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210818/094375a0/attachment-0001.html>

From howard at hobu.co  Mon Aug 23 07:03:24 2021
From: howard at hobu.co (Howard Butler)
Date: Mon, 23 Aug 2021 09:03:24 -0500
Subject: [pdal] COPC
Message-ID: <496A66C9-6D73-4A10-A093-632D52E76BA8@hobu.co>

All,

The Hobu, Inc. team has recently been developing an extension of the LAZ 1.4 format called COPC ? Cloud Optimized Point Cloud ? that seeks to cover the niche of single-file, spatially organized point cloud that can be remotely accessed. Inspired by Cloud Optimized GeoTIFF, COPC augments an LAZ file by providing EPT hierarchy organization in the VLRs of the file, along with dynamically chunked LAZ storage. This design property allows remote clients to be able to range-read through the file over HTTP. 

We currently have a draft specification https://copc.io/DRAFT-SPEC.html and example Autzen file, and we know of a few folks implementing readers for the format. If this is of interest to you, please provide comments on the specification at the GitHub page. Our goal is to make it as simple as possible.

Some features of COPC include:

* It's just a LAZ 1.4 file. No need to implement a special reader if all you care about is the point cloud content without organization.
* It contains EPT-like hierarchy information as VLRs that smarter clients can used to navigate the file without fetching all of it.

We expect to implement reader capability in the next PDAL release to take advantage of COPC files, and we hope to see COPC support land in things like Potree, EPT-tools, and commercial products like Safe FME in the near future. If you are interested in supporting the effort through funding or an implementation, please contact us.

Howard

From peter.lim at gpslands.com  Mon Aug 23 19:40:34 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Tue, 24 Aug 2021 10:40:34 +0800
Subject: [pdal] filters.assign
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
 <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com> 
Message-ID: <000301d79891$6f04bba0$4d0e32e0$@lim@gpslands.com>

Hi Andrew,

 

May I know how to update/upgrade PDAL 2.3 or latest in Windows 10.

 

I had tried to update/upgrade PDAL using:

conda update pdal

 

conda upgrade pdal

 

But it still gives me the same version 2.1.0 (git-version: Release) in Windows 10.

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Peter Lim [mailto:peter.lim at gpslands.com] 
Sent: Wednesday, 18 August 2021 10:17 am
To: 'Andrew Bell'
Cc: 'pdal'
Subject: RE: [pdal] filters.assign

 

Hi Andrew,

 

May I know from which version can PDAl do math in an assignment.

 

I had tried to update/upgrade PDAL using:

conda update pdal

 

conda upgrade pdal

 

But it still gives me the same version.

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:57 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Your version is too old. You can't do math in an assignment filter in version 2.1. Sorry.

 

On Tue, Aug 17, 2021 at 9:45 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

But it gives this error:

PDAL: filters.assign: Unexpected argument 'value'.

 

I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.

 

Pls. advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:40 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Sorry, I had a typo. It should have been "value" instead of "assignment":


[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

 

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

But is giving same error:
PDAL: filters.assign: Invalid value for argument 'assignment'.

Please advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 17 August 2021 7:14 pm
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

You're mixing syntax for the older "assignment" option with that of the newer "value" option.

 

Try this:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

I?m trying to generate a GeoTiff image from a LAS file using the sq. root of Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"                                    

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign?

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210824/5e603a87/attachment-0001.html>

From runette at gmail.com  Tue Aug 24 00:54:03 2021
From: runette at gmail.com (Paul Harwood)
Date: Tue, 24 Aug 2021 08:54:03 +0100
Subject: [pdal] filters.assign
In-Reply-To: <61245c3b.1c69fb81.fa0d.9913SMTPIN_ADDED_BROKEN@mx.google.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
 <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>
 <61245c3b.1c69fb81.fa0d.9913SMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <CAE8nN5PqVu9CwE+Unu4qjnyowdN=-0Sf1_TsJoYYtvLHhwV7RA@mail.gmail.com>

The first question is which conda channel are you using? The correct
channel is "conda-forge" and this channel definitely has 2.3.0 as the
latest version for Windows 10 - see

https://anaconda.org/conda-forge/pdal

If you are not sure or are using another channel - remove pdal from your
conda environment and re-install with `conda -c conda-forge install pdal`.

If the channel is correct - then most likely you have something installed
in your environment that requires a version of one of the dependencies at a
lower version than is supported by version 2.3. The PDAL version 2.3
dependencies are :

curl >=7.77.0,<8.0a0, draco, geos >=3.9.1,<3.9.2.0a0, geotiff
>=1.6.0,<1.6.1.0a0, hdf5 >=1.10.6,<1.10.7.0a0, jsoncpp >=1.9.4,<1.9.5.0a0,
laszip, laz-perf, libgdal >=3.3.0,<3.4.0a0, libkml >=1.3.0,<1.4.0a0, libpq
>=13.3,<14.0a0, libxml2 >=2.9.12,<2.10.0a0, nitro, numpy, pkgconfig,
postgresql, sqlite >=3.35.5,<4.0a0, tiledb >=2.3.0,<2.4.0a0, vc
>=14.1,<15.0a0, vs2015_runtime >=14.16.27012, zlib >=1.2.11,<1.3.0a0, zstd
>=1.5.0,<1.6.0a0

the easiest way to check might be to create a new, clean environment, add
PDAL (you should get version 2.3) and then incrementally add the packages
you need until you get a version clash reported (or something forces a
downgrade of PDAL - you should see this in the messages from `conda
install`).

On Tue, 24 Aug 2021 at 03:40, Peter Lim <peter.lim at gpslands.com> wrote:

> Hi Andrew,
>
>
>
> May I know how to update/upgrade PDAL 2.3 or latest in Windows 10.
>
>
>
> I had tried to update/upgrade PDAL using:
>
> conda update pdal
>
>
>
> conda upgrade pdal
>
>
>
> But it still gives me the same version 2.1.0 (git-version: Release) in
> Windows 10.
>
>
>
> Please advise.
>
>
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
> *From:* Peter Lim [mailto:peter.lim at gpslands.com]
> *Sent:* Wednesday, 18 August 2021 10:17 am
> *To:* 'Andrew Bell'
> *Cc:* 'pdal'
> *Subject:* RE: [pdal] filters.assign
>
>
>
> Hi Andrew,
>
>
>
> May I know from which version can PDAl do math in an assignment.
>
>
>
> I had tried to update/upgrade PDAL using:
>
> conda update pdal
>
>
>
> conda upgrade pdal
>
>
>
> But it still gives me the same version.
>
>
>
> Please advise.
>
>
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
> *From:* Andrew Bell [mailto:andrew.bell.ia at gmail.com]
> *Sent:* Wednesday, 18 August 2021 9:57 am
> *To:* Peter Lim
> *Cc:* pdal
> *Subject:* Re: [pdal] filters.assign
>
>
>
> Your version is too old. You can't do math in an assignment filter in
> version 2.1. Sorry.
>
>
>
> On Tue, Aug 17, 2021 at 9:45 PM Peter Lim <peter.lim at gpslands.com> wrote:
>
> Hi Andrew,
>
> I?ve tried what you have suggested:
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "value":"IntnstySqRt = Intensity /
> 256"
>
>     },
>
>     ...
>
>
>
>
>
> But it gives this error:
>
> PDAL: filters.assign: Unexpected argument 'value'.
>
>
>
> I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.
>
>
>
> Pls. advise.
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
>
>
> *From:* Andrew Bell [mailto:andrew.bell.ia at gmail.com]
> *Sent:* Wednesday, 18 August 2021 9:40 am
> *To:* Peter Lim
> *Cc:* pdal
> *Subject:* Re: [pdal] filters.assign
>
>
>
> Sorry, I had a typo. It should have been "value" instead of "assignment":
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "value":"IntnstySqRt = Intensity /
> 256"
>
>     },
>
>     ...
>
>
>
>
>
> On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:
>
> Hi Andrew,
>
>
>
> I?ve tried what you have suggested:
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt = Intensity / 256"
>
>
>     },
>
>     {
>
>         "type":"writers.gdal",
>
>         "resolution": 0.05,
>
>         "data_type":"uint8",
>
>         "output_type":"mean",
>
>          "dimension":"IntnstySqRt",
>
>
>     "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",
>
>
>         "bounds":"([19370,20527],[39571,40865])",
>
>         "filename":"output.tif"
>
>     }
>
> ]
>
> But is giving same error:
> PDAL: filters.assign: Invalid value for argument 'assignment'.
>
> Please advise.
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
> *From:* Andrew Bell [mailto:andrew.bell.ia at gmail.com]
> *Sent:* Tuesday, 17 August 2021 7:14 pm
> *To:* Peter Lim
> *Cc:* pdal
> *Subject:* Re: [pdal] filters.assign
>
>
>
> You're mixing syntax for the older "assignment" option with that of the
> newer "value" option.
>
>
>
> Try this:
>
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt = Intensity /
> 256"
>
>     },
>
>     ...
>
>
>
> On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:
>
> Hi,
>
>
>
> I?m trying to generate a GeoTiff image from a LAS file using the sq. root
> of Intensity dimension and the pipeline as follows:
>
>
>
> [
>
>     {
>
>         "type":"readers.las",
>
>         "filename":"input.las"
>
>     },
>
>     {
>
>          "type": "filters.ferry",
>
>          "dimensions":"Intensity=>IntnstySqRt"
>
>     },
>
>     {
>
>         "type":"filters.assign",
>
>         "assignment":"IntnstySqRt[:] = IntnstySqRt /
> 256"
>
>     },
>
>     {
>
>         "type":"writers.gdal",
>
>         "resolution": 0.05,
>
>         "data_type":"uint8",
>
>         "output_type":"mean",
>
>          "dimension":"IntnstySqRt",
>
>
>     "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",
>
>
>         "bounds":"([19370,20527],[39571,40865])",
>
>         "filename":"output.tif"
>
>     }
>
> ]
>
>
>
> However, error occurred:
>
> PDAL: filters.assign: Invalid value for argument 'assignment'.
>
>
>
> Is it the correct use of filters.ferry and filters. assign?
>
>
>
> Please advise.
>
>
>
>
>
> Thank you.
>
>
>
> Best Regards,
>
>
>
> Peter Lim
>
> *GPS Lands (S) Pte Ltd*
>
>
>
>
>
>
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
>
> Virus-free. www.avast.com
> <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
>
>
>
>
> --
>
> Andrew Bell
> andrew.bell.ia at gmail.com
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210824/b8f89755/attachment-0001.html>

From peter.lim at gpslands.com  Wed Aug 25 01:52:07 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Wed, 25 Aug 2021 16:52:07 +0800
Subject: [pdal] filters.assign
In-Reply-To: <CAE8nN5PqVu9CwE+Unu4qjnyowdN=-0Sf1_TsJoYYtvLHhwV7RA@mail.gmail.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
 <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>
 <61245c3b.1c69fb81.fa0d.9913SMTPIN_ADDED_BROKEN@mx.google.com>
 <CAE8nN5PqVu9CwE+Unu4qjnyowdN=-0Sf1_TsJoYYtvLHhwV7RA@mail.gmail.com>
Message-ID: <002301d7998e$7c1efb90$745cf2b0$@lim@gpslands.com>

Noted Paul.

 

Let me check.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Paul Harwood [mailto:runette at gmail.com] 
Sent: Tuesday, 24 August 2021 3:54 pm
To: Peter Lim
Cc: Andrew Bell; pdal
Subject: Re: [pdal] filters.assign

 

The first question is which conda channel are you using? The correct channel is "conda-forge" and this channel definitely has 2.3.0 as the latest version for Windows 10 - see 

https://anaconda.org/conda-forge/pdal

If you are not sure or are using another channel - remove pdal from your conda environment and re-install with `conda -c conda-forge install pdal`.

If the channel is correct - then most likely you have something installed in your environment that requires a version of one of the dependencies at a lower version than is supported by version 2.3. The PDAL version 2.3 dependencies are :

curl >=7.77.0,<8.0a0, draco, geos >=3.9.1,<3.9.2.0a0, geotiff >=1.6.0,<1.6.1.0a0, hdf5 >=1.10.6,<1.10.7.0a0, jsoncpp >=1.9.4,<1.9.5.0a0, laszip, laz-perf, libgdal >=3.3.0,<3.4.0a0, libkml >=1.3.0,<1.4.0a0, libpq >=13.3,<14.0a0, libxml2 >=2.9.12,<2.10.0a0, nitro, numpy, pkgconfig, postgresql, sqlite >=3.35.5,<4.0a0, tiledb >=2.3.0,<2.4.0a0, vc >=14.1,<15.0a0, vs2015_runtime >=14.16.27012, zlib >=1.2.11,<1.3.0a0, zstd >=1.5.0,<1.6.0a0

the easiest way to check might be to create a new, clean environment, add PDAL (you should get version 2.3) and then incrementally add the packages you need until you get a version clash reported (or something forces a downgrade of PDAL - you should see this in the messages from `conda install`).

 

On Tue, 24 Aug 2021 at 03:40, Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

 

May I know how to update/upgrade PDAL 2.3 or latest in Windows 10.

 

I had tried to update/upgrade PDAL using:

conda update pdal

 

conda upgrade pdal

 

But it still gives me the same version 2.1.0 (git-version: Release) in Windows 10.

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Peter Lim [mailto:peter.lim at gpslands.com] 
Sent: Wednesday, 18 August 2021 10:17 am
To: 'Andrew Bell'
Cc: 'pdal'
Subject: RE: [pdal] filters.assign

 

Hi Andrew,

 

May I know from which version can PDAl do math in an assignment.

 

I had tried to update/upgrade PDAL using:

conda update pdal

 

conda upgrade pdal

 

But it still gives me the same version.

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:57 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Your version is too old. You can't do math in an assignment filter in version 2.1. Sorry.

 

On Tue, Aug 17, 2021 at 9:45 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

But it gives this error:

PDAL: filters.assign: Unexpected argument 'value'.

 

I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.

 

Pls. advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:40 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Sorry, I had a typo. It should have been "value" instead of "assignment":


[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

 

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

But is giving same error:
PDAL: filters.assign: Invalid value for argument 'assignment'.

Please advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 17 August 2021 7:14 pm
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

You're mixing syntax for the older "assignment" option with that of the newer "value" option.

 

Try this:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

I?m trying to generate a GeoTiff image from a LAS file using the sq. root of Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"                                    

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign?

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210825/f46d9327/attachment-0001.html>

From peter.lim at gpslands.com  Fri Aug 27 02:53:00 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Fri, 27 Aug 2021 17:53:00 +0800
Subject: [pdal] filters.assign
In-Reply-To: <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
 <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>
Message-ID: <002401d79b29$525ba0a0$f712e1e0$@lim@gpslands.com>

Hi Andrew,

 

I managed to upgrade pdal to 2.3.0.

 

However, it gives this message:

PDAL: filters.assign:

Pls. advise.

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:57 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Your version is too old. You can't do math in an assignment filter in version 2.1. Sorry.

 

On Tue, Aug 17, 2021 at 9:45 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

But it gives this error:

PDAL: filters.assign: Unexpected argument 'value'.

 

I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.

 

Pls. advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:40 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Sorry, I had a typo. It should have been "value" instead of "assignment":


[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

 

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

But is giving same error:
PDAL: filters.assign: Invalid value for argument 'assignment'.

Please advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 17 August 2021 7:14 pm
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

You're mixing syntax for the older "assignment" option with that of the newer "value" option.

 

Try this:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

I?m trying to generate a GeoTiff image from a LAS file using the sq. root of Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"                                    

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign?

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210827/ba4c3f9e/attachment-0001.html>

From peter.lim at gpslands.com  Fri Aug 27 23:24:10 2021
From: peter.lim at gpslands.com (Peter Lim)
Date: Sat, 28 Aug 2021 14:24:10 +0800
Subject: [pdal] filters.assign
In-Reply-To: <002401d79b29$525ba0a0$f712e1e0$@lim@gpslands.com>
References: <611b8af3.1c69fb81.2a4c9.e775SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z3gHYvdZRmtPhLvDWzaw1sJyFwPRVhEjiY4TkcZ5no8uQ@mail.gmail.com>
 <611c63d5.1c69fb81.d950d.e9d8SMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z1XMKjQtg68ym=q2KPsEPU_K93AgPhpK0559_3Xp-uR5g@mail.gmail.com>
 <611c664e.1c69fb81.61d77.12fdSMTPIN_ADDED_BROKEN@mx.google.com>
 <CACJ51z23WBTJFcFRwG1Yt1aNWN0JBWgpAO2MG9KnJgBD5FxbnA@mail.gmail.com>
 <002401d79b29$525ba0a0$f712e1e0$@lim@gpslands.com>
Message-ID: <000301d79bd5$566a8600$033f9200$@lim@gpslands.com>

Hi Andrew,

 

I managed to resolve the filters.assign by adding filters.ferry before it.

 

 

Thank you very much for your help.

 

Best Regards,

 

Peter Lim

 

From: pdal [mailto:pdal-bounces at lists.osgeo.org] On Behalf Of Peter Lim
Sent: Friday, 27 August 2021 5:53 pm
To: 'Andrew Bell'
Cc: 'pdal'
Subject: Re: [pdal] filters.assign

 

Hi Andrew,

 

I managed to upgrade pdal to 2.3.0.

 

However, it gives this message:

PDAL: filters.assign:

Pls. advise.

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:57 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Your version is too old. You can't do math in an assignment filter in version 2.1. Sorry.

 

On Tue, Aug 17, 2021 at 9:45 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

But it gives this error:

PDAL: filters.assign: Unexpected argument 'value'.

 

I?m using PDAL 2.1.0 (git-version: Release) in Windows 10.

 

Pls. advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Wednesday, 18 August 2021 9:40 am
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

Sorry, I had a typo. It should have been "value" instead of "assignment":


[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "value":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

 

On Tue, Aug 17, 2021 at 9:35 PM Peter Lim <peter.lim at gpslands.com> wrote:

Hi Andrew,

 

I?ve tried what you have suggested:

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

But is giving same error:
PDAL: filters.assign: Invalid value for argument 'assignment'.

Please advise.

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

From: Andrew Bell [mailto:andrew.bell.ia at gmail.com] 
Sent: Tuesday, 17 August 2021 7:14 pm
To: Peter Lim
Cc: pdal
Subject: Re: [pdal] filters.assign

 

You're mixing syntax for the older "assignment" option with that of the newer "value" option.

 

Try this:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt = Intensity / 256"                                   

    },

    ...

 

On Tue, Aug 17, 2021 at 6:09 AM Peter Lim <peter.lim at gpslands.com> wrote:

Hi,

 

I?m trying to generate a GeoTiff image from a LAS file using the sq. root of Intensity dimension and the pipeline as follows:

 

[

    {

        "type":"readers.las",

        "filename":"input.las"

    },

    {

         "type": "filters.ferry",

         "dimensions":"Intensity=>IntnstySqRt"

    },                                                         

    {

        "type":"filters.assign",

        "assignment":"IntnstySqRt[:] = IntnstySqRt / 256"                                    

    },

    {

        "type":"writers.gdal",

        "resolution": 0.05,

        "data_type":"uint8",

        "output_type":"mean",

         "dimension":"IntnstySqRt",

        "gdalopts":"COMPRESS=JPEG,PHOTOMETRIC=YCBCR,BLOCKXSIZE=4096,BLOCKYSIZE=4096,GDAL_CACHEMAX=8000,NUM_THREADS=ALL_CPUS,TILED=YES",                

        "bounds":"([19370,20527],[39571,40865])", 

        "filename":"output.tif"

    }                          

]

 

However, error occurred:

PDAL: filters.assign: Invalid value for argument 'assignment'.

 

Is it the correct use of filters.ferry and filters. assign?

 

Please advise.

 

 

Thank you.

 

Best Regards,

 

Peter Lim

GPS Lands (S) Pte Ltd

 

 


 <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> 

Virus-free.  <https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient> www.avast.com 

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/pdal




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com




 

-- 

Andrew Bell
andrew.bell.ia at gmail.com



-- 
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210828/6915c2bd/attachment-0001.html>

From chris.siebern at colliersengineering.com  Mon Aug 30 10:06:40 2021
From: chris.siebern at colliersengineering.com (Chris Siebern)
Date: Mon, 30 Aug 2021 17:06:40 +0000
Subject: [pdal] filters.assign
Message-ID: <DM6PR18MB242898BB532EF8BD6553F377E4CB9@DM6PR18MB2428.namprd18.prod.outlook.com>

Hi Peter,
I wanted to write to thank you for your thread about filter.assign.  I'm new to PDAL (first day using the tools) and was struggling with getting filters.assign to work.  Your comment where adding the filters.ferry to the pipeline was the solution to my problem as well.
I have an xyz text file of bathymetric data I want to convert to LAZ.  I also wanted to populate dummy intensity and pointsourceid's in the file.  If I had to guess as to why, it seems these attributes did not get created as instances with the reader.text, since the attributes were not present.   I needed to create the instances with filters.ferry, before I could assign them if I'm understanding it correctly.
Thanks again for your help
Chris Siebern, PS PE
Senior Project Manager | Geospatial
chris.siebern at colliersengineering.com<mailto:chris.siebern at colliersengineering.com>
Main: 877 627 3772 | Direct: 877 627 3772 | Mobile: 765 250 6331
[cid:image001.png at 01D79D9F.DE07C110]<https://www.linkedin.com/company/colliers-engineering>
[cid:image002.png at 01D79D9F.DE07C110]<https://twitter.com/collierseng>
[cid:image003.png at 01D79D9F.DE07C110]<https://www.youtube.com/c/ColliersEngineeringDesign>
[cid:image004.png at 01D79D9F.DE07C110]<https://www.instagram.com/colliersengineering>
[cid:image005.png at 01D79D9F.DE07C110]<https://www.facebook.com/ColliersEngineering>
colliersengineering.com<http://www.colliersengineering.com>

[cid:image006.png at 01D79D9F.DE07C110]<http://www.colliersengineering.com/>
<https://www2.colliers.com/en/services/engineering>
[cid:image007.png at 01D79D9F.DE07C110]<https://www2.colliers.com/en/services/engineering>

DISCLAIMER This e-mail is confidential. It may also be legally privileged. If you are not the addressee you may not copy, forward, disclose or use any part of this email text or attachments. If you have received this message in error, please delete it and all copies from your system and notify the sender immediately by return e-mail. Internet communications cannot be guaranteed to be timely, secure, error or virus free. The sender does not accept liability for any errors or omissions. Any drawings, sketches, images, or data are to be understood as copyright protected.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 1140 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 1167 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 1047 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 1224 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 1053 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0011.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 11129 bytes
Desc: image006.png
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0012.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 37115 bytes
Desc: image007.png
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/f7b29fe2/attachment-0013.png>

From harrison at rockrobotic.com  Mon Aug 30 11:13:09 2021
From: harrison at rockrobotic.com (Harrison Knoll)
Date: Mon, 30 Aug 2021 14:13:09 -0400
Subject: [pdal] =?utf-8?q?Rockstar=2C_how_do_land_surveyors_use_drone_LiD?=
 =?utf-8?b?QVLwn5SlLSB3YXRjaCBub3fwn5Sl?=
Message-ID: <1630345710843.64c1202b-ec48-4712-b7d1-ab74c1e060b8@bf06x.hubspotemail.net>

Watch how MooreBass in Atlanta Georgia is using drone LiDAR in their Surveying practice!  Great video!

Watch Now
(https://d14tvV04.na1.hubspotlinks.com/Btc/V+113/d14tvV04/VW72v-1CGS0cVHYlky4gn3JKW6L2xF54wTy2dN99fz9r3pl37V1-WJV7CgPKrW1Sfh9x6Nx07BW5FNLmb3FDQS7W1XRqpj6vkHPZW8tKX4d92MGVlW5HnKSQ99KznHN5WZbrzQy0PXVRd4vH6KwHVPN2xRkvkgLMqfW7WWgVD1PhpjyW7rqd7H6plkkmW2tkHd52JRDHmW1RtNpD8b5FWcW80k7FD1S176KW5WjvTC2Gsv7QW2-lXHP6WY0gSW1FhGvz2DJTTtW3DbPbt7gZth0W364Fls547sxFW5k5ST_7WLCCFW2QKDLC7nmmLDW5G-DH43ND6C-W6SgzdW2HC5L8W5pMndt7jxMKTW1tmLpl2c8phyW4tCRFp8wdcMdW2f8Yl26_K-m73m0W1 )

land-surveyor-thumbnail (https://d14tvV04.na1.hubspotlinks.com/Btc/V+113/d14tvV04/VW72v-1CGS0cVHYlky4gn3JKW6L2xF54wTy2dN99fz9r3pl37V1-WJV7CgKLmW5SMMWP71CHF3W3h4SVL5LBCbXW1pY_Kr9ghpwyW6RkmWs6cFqhYVdkbMJ29dT4_W5KwGKg3dv7NXW2TQjkt1-4K9xW4FJTdv6RMxlBW15WK7Z1XLPg7W1vLgr64Ms4QrW6WNnyH3NwK4DW1HcPXW4DxwVCW5gsQ2Q9m3_8NW3ZMwgf7PdKXtW5FBZ3t1hdzxPVn1lB_2khJd3W3-g89c86GxDKVrjS2M3cg85ZW70LVx36sM2nBW1RBK5P6q7pcWW2wLY1Y3Q_BgSW3Pmqkd1VX2cfN4rvpDrjn1sdW7slGlW6VVXznW3kBm925dncJ_W7YQ9nq9gj8272KF1 )

Rockstar, This video is PACKED FULL of information!  See how land surveyors are using the ROCK R2A and ROCK Cloud in their surveying practices.  Daniel Windham of MooreBass is going to take you through their workflow! You will definitely learn a few things from this video!

~Indy

Watch Now
(https://d14tvV04.na1.hubspotlinks.com/Btc/V+113/d14tvV04/VW72v-1CGS0cVHYlky4gn3JKW6L2xF54wTy2dN99fz9r3pl37V1-WJV7CgH9jW3qF_N_4JCY-4W7dfHQH2XxH2pN1QDxQj7nBhNW7wNFCM603FK9W34bLHH4jphHlW4KPvFk26zvf6W71p66K8b5_zwW7zTjf51P4Gz2Vhq1XP3F4nW3W9dPVdN5zK-KTW6w9Lc46p50TwW7zwWtB1pPN_PW90KxBX8xCNl7N2MK0Hxj7lVtW2yB9rR8SpCsNW1653nv6kcsTsVYYVny848t6RW1XxWSm2fk3LmW3ChbLb3Y9rjgW3StrQl9lDTLWW4rsZPc19RldgW2mQxjs1FhqddW5c6nwW723k08W4w1sYg56Hvz0W26ZTpb3gCx7JVTpmmg2h_KRC3j0S1 )

Rock Robotic Inc., 5221 Boston St., Denver, CO 80238, USA

Unsubscribe (https://hs-9207263.s.hubspotemail.net/hs/manage-preferences/unsubscribe-all?languagePreference=en&amp%3Bd=Vnd6bc9bCQLdVMkK253ZBRgfW4cQj3n43WHy7W43m-vT3NqHf3N6T-T0KmWcNqW73Qn0H8LpQjGV25r-25Xql2kW7llGPC9br5YtN6NnH1G1yf0NW311Jv05QwX07W6Z-Jn92lScPhn8gD3Rp423&amp%3Bv=3&_hsenc=p2ANqtz-8p5jfKFo8QesviIaClFZGlr8a6u1RxSQEGeBr_cgjsYU7WcRelk1iEaQOwndfVUYQI3bzGtrFtjpbNMIQaRvc-1CA7yA&_hsmi=154176670 )

Manage preferences (https://hs-9207263.s.hubspotemail.net/hs/manage-preferences/unsubscribe?languagePreference=en&amp%3Bd=Vnd6bc9bCQLdVMkK253ZBRgfW4cQj3n43WHy7W43m-vT3NqHf3N6T-T0KmWcNqW73Qn0H8LpQjGV25r-25Xql2kW7llGPC9br5YtN6NnH1G1yf0NW311Jv05QwX07W6Z-Jn92lScPhn8gD3Rp423&amp%3Bv=3&_hsenc=p2ANqtz-8p5jfKFo8QesviIaClFZGlr8a6u1RxSQEGeBr_cgjsYU7WcRelk1iEaQOwndfVUYQI3bzGtrFtjpbNMIQaRvc-1CA7yA&_hsmi=154176670 )
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210830/9b0ae8b7/attachment-0001.html>

From howard at hobu.co  Mon Aug 30 12:01:29 2021
From: howard at hobu.co (Howard Butler)
Date: Mon, 30 Aug 2021 14:01:29 -0500
Subject: [pdal] 
 =?utf-8?q?Rockstar=2C_how_do_land_surveyors_use_drone_LiD?=
 =?utf-8?b?QVLwn5SlLSB3YXRjaCBub3fwn5Sl?=
In-Reply-To: <1630345710843.64c1202b-ec48-4712-b7d1-ab74c1e060b8@bf06x.hubspotemail.net>
References: <1630345710843.64c1202b-ec48-4712-b7d1-ab74c1e060b8@bf06x.hubspotemail.net>
Message-ID: <31714BB5-DE55-42E7-8F7F-2DA925B4266F@hobu.co>

Sorry for the spam folks. We're a low enough traffic list that I've switched the list to moderation for a while.

> Watch Now


From mathieu.poulin at mvtgeosolutions.com  Tue Aug 31 06:03:45 2021
From: mathieu.poulin at mvtgeosolutions.com (Mathieu Poulin)
Date: Tue, 31 Aug 2021 13:03:45 +0000
Subject: [pdal] libLAS to PDAL,
 how to write a LAS header from scratch in PDAL?
Message-ID: <YQXPR0101MB15420B1E1D571A8C05EC58BF9BCC9@YQXPR0101MB1542.CANPRD01.PROD.OUTLOOK.COM>

Hello everyone,

I am transitionning to PDAL from libLAS and so far almost everything has been easy to figure out. There is however one thing that I can not find any instructions on how to do, and that is how to write a LAS header in PDAL.

I've asked the question on Stackoverflow before finding this mailing list, so here is a link to it: https://stackoverflow.com/questions/68986302/writing-las-header-with-pdal-in-c. Hopefully, someone here has the answer that I am looking for.

Thanks in advance,

 - Mathieu Poulin
[https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon at 2.png?v=73d79a89bded]<https://stackoverflow.com/questions/68986302/writing-las-header-with-pdal-in-c>
Writing LAS header with PDAL in C++ - Stack Overflow<https://stackoverflow.com/questions/68986302/writing-las-header-with-pdal-in-c>
I am working on an application that writes LAS files from scratch based on lidar data. Previously, the application was built with LibLAS and it worked quite well. However, LibLAS has been discontin...
stackoverflow.com
?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210831/fa737c40/attachment.html>

From andrew.bell.ia at gmail.com  Tue Aug 31 06:20:17 2021
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 31 Aug 2021 09:20:17 -0400
Subject: [pdal] libLAS to PDAL,
 how to write a LAS header from scratch in PDAL?
In-Reply-To: <YQXPR0101MB15420B1E1D571A8C05EC58BF9BCC9@YQXPR0101MB1542.CANPRD01.PROD.OUTLOOK.COM>
References: <YQXPR0101MB15420B1E1D571A8C05EC58BF9BCC9@YQXPR0101MB1542.CANPRD01.PROD.OUTLOOK.COM>
Message-ID: <CACJ51z0VmepBC=rbDM_gwwsJgj3-ivhvYr8kr80esw=-Nhp+3g@mail.gmail.com>

Hi Mathieu,

You don't need to do anything. PDAL will write a LAS file with a properly
constructed header. You can use options on the LAS writers if you want to
alter some of the header field data.

On Tue, Aug 31, 2021 at 9:04 AM Mathieu Poulin <
mathieu.poulin at mvtgeosolutions.com> wrote:

> Hello everyone,
>
> I am transitionning to PDAL from libLAS and so far almost everything has
> been easy to figure out. There is however one thing that I can not find any
> instructions on how to do, and that is how to write a LAS header in PDAL.
>
> I've asked the question on Stackoverflow before finding this mailing list,
> so here is a link to it:
> https://stackoverflow.com/questions/68986302/writing-las-header-with-pdal-in-c.
> Hopefully, someone here has the answer that I am looking for.
>
> Thanks in advance,
>
>  - Mathieu Poulin
>
> <https://stackoverflow.com/questions/68986302/writing-las-header-with-pdal-in-c>
> Writing LAS header with PDAL in C++ - Stack Overflow
> <https://stackoverflow.com/questions/68986302/writing-las-header-with-pdal-in-c>
> I am working on an application that writes LAS files from scratch based on
> lidar data. Previously, the application was built with LibLAS and it worked
> quite well. However, LibLAS has been discontin...
> stackoverflow.com
> *?*
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20210831/5d8aacde/attachment.html>

