From nicolas.mantelier at spaceyes.fr  Thu May  2 08:01:54 2013
From: nicolas.mantelier at spaceyes.fr (Nicolas Mantelier)
Date: Thu, 2 May 2013 17:01:54 +0200
Subject: [pdal] Pdal on Visual Studio 2003
Message-ID: <0a6b01ce4745$fca12da0$f5e388e0$@mantelier@spaceyes.fr>

Hello every body,

I need your help.

I whant to use pdal in my development program but I am on VS2003.

I whant to know if it is possible to find compiled package for VS 2003 or if
it possible to do it, and how ?

 

Regards

Nicolas

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20130502/7ed72ea6/attachment.html>

From hobu.inc at gmail.com  Thu May  2 08:07:05 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu, 2 May 2013 10:07:05 -0500
Subject: [pdal] Pdal on Visual Studio 2003
In-Reply-To: <51827fe9.2b7e420a.3532.43e5SMTPIN_ADDED_BROKEN@mx.google.com>
References: <51827fe9.2b7e420a.3532.43e5SMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <7F44AB54-BF82-4ADB-A4D2-B5CE76EA724B@gmail.com>


On May 2, 2013, at 10:01 AM, Nicolas Mantelier <nicolas.mantelier at spaceyes.fr> wrote:

> Hello every body,
> I need your help.
> I whant to use pdal in my development program but I am on VS2003.
> I whant to know if it is possible to find compiled package for VS 2003 or if it possible to do it, and how ?

Doubtful you can get it working all the way back on 2003. You can download 2012 express for free, however.

PDAL does compile on 2008, 2010, and 2012, and should be expected to compile on those. If it doesn't, please file a ticket or a pull request ;)

Howard


From hobu.inc at gmail.com  Mon May  6 06:31:59 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon, 6 May 2013 08:31:59 -0500
Subject: [pdal] PDAL .NET support
In-Reply-To: <CAEM7VzM6L3XAkCqsHGdnB0cmzVV_R9+Jo_rFr4-3v3yfyHybBw@mail.gmail.com>
References: <CAEM7VzM6L3XAkCqsHGdnB0cmzVV_R9+Jo_rFr4-3v3yfyHybBw@mail.gmail.com>
Message-ID: <2BFC6091-DA45-450D-B0F8-CE6AD6B3881C@gmail.com>


On May 5, 2013, at 12:25 PM, Dave Borel <dborel at zspace.com> wrote:

> Hi Howard,
> I'm writing a point cloud importer for a Unity application. Unity effectively uses .NET 3.5 via Mono. I'm considering using PDAL, but I have some questions about its roadmap. I came across this thread on StackExchange, where you recommended using laspy instead of PDAL's C# SWIG binding (or libLas's). Is PDAL's C# binding safe to use? I managed to build it from the latest copy of master, but I had to make several changes. Would you be interested in a patch? I was also wondering if PDAL is still under active development. Will more format drivers (such as PCD, PLY, or XYZ) be added in the future?
> Thanks,

I don't know much about the C# bindings. I would assume they're as safe as anything else in PDAL at this point. PDAL isn't bulletproof for sure, but it is starting to become quite useful now. As they say, expect to bleed if you're on the bleeding edge...

There's a PCD writer, but no reader. Same for XYZ. I've been working on the XYZ ingester at a few different times, but haven't pushed anything solid yet. Short answer is yes, more stuff is coming, but long answer is I don't know when. Always looking for more contribution..

Absolutely drop pull requests on your changes. Please break them up into separate items if possible. I did a bunch of work a few weeks ago to get things to build on windows, so make sure you're merged with the latest.

Thanks,

Howard


From s_rory at bellsouth.net  Sun May 12 14:52:51 2013
From: s_rory at bellsouth.net (Rory Sutton)
Date: Sun, 12 May 2013 17:52:51 -0400
Subject: [pdal] Configuring PDAL basic core library on Unix
Message-ID: <983D67D3-AFA3-4DF4-9D1E-B3186569F4FF@bellsouth.net>

Attempting to configure the basic core PDAL libraries on Unix according to the instructions on the PDAL website, I've encountered a problem.  XML2 seems to be a dependency of pcinfo and the build fails if it is not switched on.

rjs at ubuntu:~/pdal$ mkdir makefiles
rjs at ubuntu:~/pdal$ cd makefiles
rjs at ubuntu:~/pdal/makefiles$ ../rjs-min-config.sh
-- The C compiler identification is GNU 4.7.3
-- The CXX compiler identification is GNU 4.7.3
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Setting PDAL build type - Debug
-- Looking for include file pthread.h
-- Looking for include file pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Using embedded boost tree
-- libxml2 not selected or not found, pcinfo will not be build
-- Using boost lib: pdalboost
CMake Error at apps/CMakeLists.txt:85 (install):
  install TARGETS given target "pcinfo" which does not exist in this
  directory.

Turning on XML2 gets the build configuration done without error, but the next step, running "make" on it, bombs on Colorization.cpp:

[ 63%] Building CXX object src/CMakeFiles/pdal.dir/filters/Colorization.cpp.o
In file included from /home/rjs/pdal/src/filters/Colorization.cpp:35:0:
/home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:158:40: warning: non-static reference ?const pdal::filters::Colorization& pdal::filters::iterators::sequential::Colorization::m_stage? in class without a constructor [-Wuninitialized]
In file included from /home/rjs/pdal/boost/boost/thread/condition_variable.hpp:16:0,
                 from /home/rjs/pdal/boost/boost/thread/pthread/shared_mutex.hpp:14,
                 from /home/rjs/pdal/boost/boost/thread/shared_mutex.hpp:21,
                 from /home/rjs/pdal/boost/boost/thread/detail/thread_group.hpp:9,
                 from /home/rjs/pdal/boost/boost/thread/thread.hpp:26,
                 from /home/rjs/pdal/boost/boost/thread.hpp:13,
                 from /home/rjs/pdal/src/../include/pdal/ThreadEnvironment.hpp:41,
                 from /home/rjs/pdal/src/../include/pdal/GlobalEnvironment.hpp:39,
                 from /home/rjs/pdal/src/filters/Colorization.cpp:42:
/home/rjs/pdal/boost/boost/thread/pthread/condition_variable.hpp:28:51: warning: redundant redeclaration of ?void pdalboost::this_thread::interruption_point()? in same scope [-Wredundant-decls]
In file included from /home/rjs/pdal/boost/boost/thread/thread.hpp:22:0,
                 from /home/rjs/pdal/boost/boost/thread.hpp:13,
                 from /home/rjs/pdal/src/../include/pdal/ThreadEnvironment.hpp:41,
                 from /home/rjs/pdal/src/../include/pdal/GlobalEnvironment.hpp:39,
                 from /home/rjs/pdal/src/filters/Colorization.cpp:42:
/home/rjs/pdal/boost/boost/thread/detail/thread.hpp:597:32: warning: previous declaration of ?void pdalboost::this_thread::interruption_point()? [-Wredundant-decls]
/home/rjs/pdal/src/filters/Colorization.cpp: In member function ?virtual pdal::StageSequentialIterator* pdal::filters::Colorization::createSequentialIterator(pdal::PointBuffer&) const?:
/home/rjs/pdal/src/filters/Colorization.cpp:190:80: error: no matching function for call to ?pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::Colorization&, pdal::PointBuffer&)?
/home/rjs/pdal/src/filters/Colorization.cpp:190:80: note: candidates are:
In file included from /home/rjs/pdal/src/filters/Colorization.cpp:35:0:
/home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note: pdal::filters::iterators::sequential::Colorization::Colorization()
/home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note:   candidate expects 0 arguments, 2 provided
/home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note: pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::iterators::sequential::Colorization&)
/home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note:   candidate expects 1 argument, 2 provided
/home/rjs/pdal/src/filters/Colorization.cpp: At global scope:
/home/rjs/pdal/src/filters/Colorization.cpp:200:1: error: prototype for ?pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::Colorization&, pdal::PointBuffer&)? does not match any in class ?pdal::filters::iterators::sequential::Colorization?
In file included from /home/rjs/pdal/src/filters/Colorization.cpp:35:0:
/home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: error: candidates are: pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::iterators::sequential::Colorization&)
/home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: error:                 pdal::filters::iterators::sequential::Colorization::Colorization()
/home/rjs/pdal/src/filters/Colorization.cpp: In member function ?virtual pdal::StageSequentialIterator* pdal::filters::Colorization::createSequentialIterator(pdal::PointBuffer&) const?:
/home/rjs/pdal/src/filters/Colorization.cpp:191:1: warning: control reaches end of non-void function [-Wreturn-type]
make[2]: *** [src/CMakeFiles/pdal.dir/filters/Colorization.cpp.o] Error 1
make[1]: *** [src/CMakeFiles/pdal.dir/all] Error 2
make: *** [all] Error 2

I'm new to PDAL and cmake, so this is probably due to some oversight or misunderstanding on my part.  I'm on Ubuntu 13.04 now, but this behavior was identical on Ubuntu 12.10.  Any clue will probably be rewarded by further questions.



From dburken at comcast.net  Sun May 12 17:07:32 2013
From: dburken at comcast.net (David Burken)
Date: Sun, 12 May 2013 20:07:32 -0400
Subject: [pdal] Configuring PDAL basic core library on Unix
In-Reply-To: <983D67D3-AFA3-4DF4-9D1E-B3186569F4FF@bellsouth.net>
References: <983D67D3-AFA3-4DF4-9D1E-B3186569F4FF@bellsouth.net>
Message-ID: <51902EC4.7030007@comcast.net>

Rory,

Had the same issue on Fedora last week.  Do the ubuntu equivalent of:

$ sudo yum install libxml2 libxml2-devel

$ cd <to_your_build_dir>
$ $ rm CMakeCache.txt

Then re-run your cmake command like:
$ pwd
/work/osgeo/pdal/build
$ ../pdal-cmake-config.sh

// Contents of pdal-cmake-config.sh
#!/bin/sh

# File: pdal-cmake-config.sh

build_dir="/work/osgeo";

cmake -G "Unix Makefiles" \
-DCMAKE_BUILD_TYPE=Release \
-DCMAKE_INCLUDE_PATH=${build_dir}/local/include \
-DCMAKE_INSTALL_PREFIX=${build_dir}/local \
-DCMAKE_LIBRARY_PATH=${build_dir}/local/lib \
-DCMAKE_MODULE_PATH=${build_dir}/pdal/pdal-git/cmake/modules \
-DWITH_GDAL=${build_dir}/local \
-DWITH_GEOTIFF=${build_dir}/local \
-DWITH_LIBXML2=ON \
../pdal-git/


Hope that helps,
Dave




On 05/12/2013 05:52 PM, Rory Sutton wrote:
> Attempting to configure the basic core PDAL libraries on Unix according to the instructions on the PDAL website, I've encountered a problem.  XML2 seems to be a dependency of pcinfo and the build fails if it is not switched on.
>
> rjs at ubuntu:~/pdal$ mkdir makefiles
> rjs at ubuntu:~/pdal$ cd makefiles
> rjs at ubuntu:~/pdal/makefiles$ ../rjs-min-config.sh
> -- The C compiler identification is GNU 4.7.3
> -- The CXX compiler identification is GNU 4.7.3
> -- Check for working C compiler: /usr/bin/cc
> -- Check for working C compiler: /usr/bin/cc -- works
> -- Detecting C compiler ABI info
> -- Detecting C compiler ABI info - done
> -- Check for working CXX compiler: /usr/bin/c++
> -- Check for working CXX compiler: /usr/bin/c++ -- works
> -- Detecting CXX compiler ABI info
> -- Detecting CXX compiler ABI info - done
> -- Setting PDAL build type - Debug
> -- Looking for include file pthread.h
> -- Looking for include file pthread.h - found
> -- Looking for pthread_create
> -- Looking for pthread_create - not found
> -- Looking for pthread_create in pthreads
> -- Looking for pthread_create in pthreads - not found
> -- Looking for pthread_create in pthread
> -- Looking for pthread_create in pthread - found
> -- Found Threads: TRUE
> -- Using embedded boost tree
> -- libxml2 not selected or not found, pcinfo will not be build
> -- Using boost lib: pdalboost
> CMake Error at apps/CMakeLists.txt:85 (install):
>    install TARGETS given target "pcinfo" which does not exist in this
>    directory.
>
> Turning on XML2 gets the build configuration done without error, but the next step, running "make" on it, bombs on Colorization.cpp:
>
> [ 63%] Building CXX object src/CMakeFiles/pdal.dir/filters/Colorization.cpp.o
> In file included from /home/rjs/pdal/src/filters/Colorization.cpp:35:0:
> /home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:158:40: warning: non-static reference ?const pdal::filters::Colorization& pdal::filters::iterators::sequential::Colorization::m_stage? in class without a constructor [-Wuninitialized]
> In file included from /home/rjs/pdal/boost/boost/thread/condition_variable.hpp:16:0,
>                   from /home/rjs/pdal/boost/boost/thread/pthread/shared_mutex.hpp:14,
>                   from /home/rjs/pdal/boost/boost/thread/shared_mutex.hpp:21,
>                   from /home/rjs/pdal/boost/boost/thread/detail/thread_group.hpp:9,
>                   from /home/rjs/pdal/boost/boost/thread/thread.hpp:26,
>                   from /home/rjs/pdal/boost/boost/thread.hpp:13,
>                   from /home/rjs/pdal/src/../include/pdal/ThreadEnvironment.hpp:41,
>                   from /home/rjs/pdal/src/../include/pdal/GlobalEnvironment.hpp:39,
>                   from /home/rjs/pdal/src/filters/Colorization.cpp:42:
> /home/rjs/pdal/boost/boost/thread/pthread/condition_variable.hpp:28:51: warning: redundant redeclaration of ?void pdalboost::this_thread::interruption_point()? in same scope [-Wredundant-decls]
> In file included from /home/rjs/pdal/boost/boost/thread/thread.hpp:22:0,
>                   from /home/rjs/pdal/boost/boost/thread.hpp:13,
>                   from /home/rjs/pdal/src/../include/pdal/ThreadEnvironment.hpp:41,
>                   from /home/rjs/pdal/src/../include/pdal/GlobalEnvironment.hpp:39,
>                   from /home/rjs/pdal/src/filters/Colorization.cpp:42:
> /home/rjs/pdal/boost/boost/thread/detail/thread.hpp:597:32: warning: previous declaration of ?void pdalboost::this_thread::interruption_point()? [-Wredundant-decls]
> /home/rjs/pdal/src/filters/Colorization.cpp: In member function ?virtual pdal::StageSequentialIterator* pdal::filters::Colorization::createSequentialIterator(pdal::PointBuffer&) const?:
> /home/rjs/pdal/src/filters/Colorization.cpp:190:80: error: no matching function for call to ?pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::Colorization&, pdal::PointBuffer&)?
> /home/rjs/pdal/src/filters/Colorization.cpp:190:80: note: candidates are:
> In file included from /home/rjs/pdal/src/filters/Colorization.cpp:35:0:
> /home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note: pdal::filters::iterators::sequential::Colorization::Colorization()
> /home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note:   candidate expects 0 arguments, 2 provided
> /home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note: pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::iterators::sequential::Colorization&)
> /home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: note:   candidate expects 1 argument, 2 provided
> /home/rjs/pdal/src/filters/Colorization.cpp: At global scope:
> /home/rjs/pdal/src/filters/Colorization.cpp:200:1: error: prototype for ?pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::Colorization&, pdal::PointBuffer&)? does not match any in class ?pdal::filters::iterators::sequential::Colorization?
> In file included from /home/rjs/pdal/src/filters/Colorization.cpp:35:0:
> /home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: error: candidates are: pdal::filters::iterators::sequential::Colorization::Colorization(const pdal::filters::iterators::sequential::Colorization&)
> /home/rjs/pdal/src/../include/pdal/filters/Colorization.hpp:124:16: error:                 pdal::filters::iterators::sequential::Colorization::Colorization()
> /home/rjs/pdal/src/filters/Colorization.cpp: In member function ?virtual pdal::StageSequentialIterator* pdal::filters::Colorization::createSequentialIterator(pdal::PointBuffer&) const?:
> /home/rjs/pdal/src/filters/Colorization.cpp:191:1: warning: control reaches end of non-void function [-Wreturn-type]
> make[2]: *** [src/CMakeFiles/pdal.dir/filters/Colorization.cpp.o] Error 1
> make[1]: *** [src/CMakeFiles/pdal.dir/all] Error 2
> make: *** [all] Error 2
>
> I'm new to PDAL and cmake, so this is probably due to some oversight or misunderstanding on my part.  I'm on Ubuntu 13.04 now, but this behavior was identical on Ubuntu 12.10.  Any clue will probably be rewarded by further questions.
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>


From hobu.inc at gmail.com  Mon May 13 08:39:52 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon, 13 May 2013 10:39:52 -0500
Subject: [pdal] Configuring PDAL basic core library on Unix
In-Reply-To: <983D67D3-AFA3-4DF4-9D1E-B3186569F4FF@bellsouth.net>
References: <983D67D3-AFA3-4DF4-9D1E-B3186569F4FF@bellsouth.net>
Message-ID: <82CE9188-47A3-4B6F-ADBE-9537CD97A711@gmail.com>


On May 12, 2013, at 4:52 PM, Rory Sutton <s_rory at bellsouth.net> wrote:
> Turning on XML2 gets the build configuration done without error, but the next step, running "make" on it, bombs on Colorization.cpp:
> 
The issue is pcinfo isn't built because libxml2 isn't found. The cmake config test is backwards. I guess I'd never built without libxml2. Fixed.

> /home/rjs/pdal/src/filters/Colorization.cpp:200:1: error: prototype for ?pdal::filters::iterators::sequential::Colorization::Colorization(const 

This one is a result of not having GDAL configured. You'll probably want that, however. I have pushed a fix to allow it to compile w/o GDAL now, fixed.

> 
> I'm new to PDAL and cmake, so this is probably due to some oversight or misunderstanding on my part.  I'm on Ubuntu 13.04 now, but this behavior was identical on Ubuntu 12.10.  Any clue will probably be rewarded by further questions.

Thanks for the reports!

Howard

From nicolas.mantelier at spaceyes.fr  Mon May 20 03:56:01 2013
From: nicolas.mantelier at spaceyes.fr (Nicolas Mantelier)
Date: Mon, 20 May 2013 12:56:01 +0200
Subject: [pdal] Configuring PDAL basic core library on Unix
In-Reply-To: <82CE9188-47A3-4B6F-ADBE-9537CD97A711@gmail.com>
References: <983D67D3-AFA3-4DF4-9D1E-B3186569F4FF@bellsouth.net>
	<82CE9188-47A3-4B6F-ADBE-9537CD97A711@gmail.com>
Message-ID: <000301ce5548$9ecf6000$dc6e2000$@mantelier@spaceyes.fr>

Hi,

I want to know if there is compiled version of PDAL available for download.

Regards,

Nicolas



From nicolas.mantelier at spaceyes.fr  Mon May 20 06:00:43 2013
From: nicolas.mantelier at spaceyes.fr (Nicolas Mantelier)
Date: Mon, 20 May 2013 15:00:43 +0200
Subject: [pdal] Compiled version of PDAL
Message-ID: <000a01ce555a$0a299d00$1e7cd700$@mantelier@spaceyes.fr>

Hi sorry I make mistake with my precedent request, so I make a new query.

I want to know if there is compiled version of PDAL available for download. 

Regards, 

Nicolas

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20130520/df2abc57/attachment.html>

From hobu.inc at gmail.com  Mon May 20 14:11:01 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon, 20 May 2013 16:11:01 -0500
Subject: [pdal] Compiled version of PDAL
In-Reply-To: <519a1e82.62a3420a.211a.5023SMTPIN_ADDED_BROKEN@mx.google.com>
References: <519a1e82.62a3420a.211a.5023SMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <37460AF5-E074-4ED8-B9D0-12D7EFD3199A@gmail.com>


On May 20, 2013, at 8:00 AM, Nicolas Mantelier <nicolas.mantelier at spaceyes.fr> wrote:

> Hi sorry I make mistake with my precedent request, so I make a new query.
> 
> I want to know if there is compiled version of PDAL available for download. 

There is no pre-compiled version of PDAL available at this time.

Howard

From s_rory at bellsouth.net  Wed May 22 17:51:01 2013
From: s_rory at bellsouth.net (Rory Sutton)
Date: Wed, 22 May 2013 20:51:01 -0400
Subject: [pdal] Uninteresting in JSON
Message-ID: <E40E9071-198A-455F-B17C-1A690A363C11@bellsouth.net>

I have PDAL compiled on osx and it seems to be working.  It passes tests:

rjs$ make test
Running tests...
Test project /Users/rjs/pdal/makefiles
    Start 1: pdal_test
1/1 Test #1: pdal_test ........................   Passed    2.29 sec

100% tests passed, 0 tests failed out of 1

Total Test time (real) =   2.30 sec
rjs$ pcinfo --help
--------------------------------------------------------------------
pcinfo (PDAL 0.8.6 with GeoTIFF 1.4.0 GDAL 1.9.2 LASzip 2.1.0)
--------------------------------------------------------------------

It does most of the exercises:

 rjs$ pcinfo ~/Downloads/interesting.las -p 0
{
    "X": "637012.23999999999",
    "Y": "849028.31000000006",
    "Z": "431.66000000000003",
    "Intensity": "143",
    "ReturnNumber": "1",
    "NumberOfReturns": "1",
    "ScanDirectionFlag": "1",
    "EdgeOfFlightLine": "0",
    "Classification": "1",
    "ScanAngleRank": "-9",
    "UserData": "132",
    "PointSourceId": "7326",
    "Time": "245380.78254962614",
    "Red": "68",
    "Green": "77",
    "Blue": "88"
}

But not metadata in JSON:

rjs$ pcinfo ~/Downloads/interesting.las -m
Caught exception: <unspecified file>: ptree contains data that cannot be represented in JSON format

Metadata in XML works perfectly.  All LAS/LAZ files i've tried this on have the same result.  

Doug Newcomb posted to this list on the same behavior last August, and his last word on it was that he was putting in a bug report.  It almost seems like I'm missing a component or something.  

From hobu.inc at gmail.com  Fri May 24 09:21:54 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri, 24 May 2013 11:21:54 -0500
Subject: [pdal] Uninteresting in JSON
In-Reply-To: <E40E9071-198A-455F-B17C-1A690A363C11@bellsouth.net>
References: <E40E9071-198A-455F-B17C-1A690A363C11@bellsouth.net>
Message-ID: <FE313535-6005-4CA7-BF4C-8ACB5CB0DF1B@gmail.com>


On May 22, 2013, at 7:51 PM, Rory Sutton <s_rory at bellsouth.net> wrote:

> Metadata in XML works perfectly.  All LAS/LAZ files i've tried this on have the same result.  

This is a deficiency of boost's property_trees that when serialized to JSON, they don't expand out attributes into JSON-compatible structures.

The right way to fix this is to come up with our own serialization/deserialization of Metadata and any other PDAL data structures that isn't dependent on property_tree's implementation. Or, we could monkeypatch the json serializer of property_tree to do something appropriate with the <xmlattr> that are getting put into the tree.  This is all definitely on the want-to-fix list, I just haven't had it bubble to the top of the queue because I use the XML variant for everything.

Howard


From jp4work at gmail.com  Sat May 25 23:40:27 2013
From: jp4work at gmail.com (JIA Pei)
Date: Sun, 26 May 2013 14:40:27 +0800
Subject: [pdal] make[2]: ***
 [src/CMakeFiles/pdal.dir/drivers/las/GeotiffSupport.cpp.o] Error 1
Message-ID: <CADh8Q_V2cT-QogWA-A5BGQaHGg2xQw4yjaWZRBpzeGEgAML+RQ@mail.gmail.com>

Hi, to whom it may concern:

My environment:
OS: Ubuntu 12.10
GDAL: current GIT clone, say May 24, 2013 version.

I enabled geotiff, but got the following error messages as posted at the
bottom:
Can anybody help to hint what's wrong?
Thank you very much.


*In file included from /usr/include/gdal/ogr_srs_api.h:34:0,
from /usr/include/gdal/ogr_spatialref.h:34,
from /home/pei/Downloads/PDAL/src/drivers/las/GeotiffSupport.cpp:40:
/usr/include/gdal/ogr_core.h: In member function ?int OGREnvelope::IsInit()
const?:
/usr/include/gdal/ogr_core.h:58:42: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:58:55: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:58:68: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:58:81: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h: In member function ?int
OGREnvelope3D::IsInit() const?:
/usr/include/gdal/ogr_core.h:155:42: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:155:55: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:155:68: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:155:81: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:155:94: warning: comparing floating point with
== or != is unsafe [-Wfloat-equal]
/usr/include/gdal/ogr_core.h:155:107: warning: comparing floating point
with == or != is unsafe [-Wfloat-equal]
make[2]: *** [src/CMakeFiles/pdal.dir/drivers/las/GeotiffSupport.cpp.o]
Error 1
make[2]: Leaving directory /home/pei/Downloads/PDAL/build'
make[1]: *** [src/CMakeFiles/pdal.dir/all] Error 2
make[1]: Leaving directory/home/pei/Downloads/PDAL/build'
make: *** [all] Error 2*


Best Regards

Pei

-- 

Pei JIA

Email: jp4work at gmail.com
cell:    +1 604-362-5816

Welcome to Vision Open
http://www.visionopen.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20130526/7de7495f/attachment.html>

From nicolas.mantelier at spaceyes.fr  Mon May 27 03:32:12 2013
From: nicolas.mantelier at spaceyes.fr (Nicolas Mantelier)
Date: Mon, 27 May 2013 12:32:12 +0200
Subject: [pdal] Bug: Compile on Windows
Message-ID: <031f01ce5ac5$736f6360$5a4e2a20$@mantelier@spaceyes.fr>

Hello Evry body

I finaly build PDAL with vs 2010 i have some bug issue

 

First :

Project Pdal don't configure with cmake with embedded boost 

Need to specify: set(Boost_FILESYSTEM_LIBRARY ) cause it was use before
initialization

 

Second:

set(PDAL_OUTPUT_LIB_DIR ${PDAL_BINARY_DIR}/${LIB_INSTALL_DIR})

set(PDAL_OUTPUT_BIN_DIR ${PDAL_BINARY_DIR}/${BIN_INSTALL_DIR})

Was use before initialization 

Need to specify:

set (PDAL_BINARY_DIR ${CMAKE_BINARY_DIR})

set (LIB_INSTALL_DIR "lib")

set (BIN_INSTALL_DIR "bin")

 

For better anderstanding: I modify PATH FOR LIB and BIN destination

if(WIN32)

  foreach(config ${CMAKE_CONFIGURATION_TYPES})

    string(TOUPPER ${config} CONFIG)

    set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_LIB_DIR}")

    set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_BIN_DIR}")

    # ---[ Windows requires DLLs (shared libraries) to be installed in the
same directory as executables

    set(CMAKE_LIBRARY_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_LIB_DIR}")

 endforeach(config)

And same with link

if (WIN32)

    set(Boost_LIBRARIES "${PDALBOOST_LIB_NAME}.lib")

                foreach(config ${CMAKE_CONFIGURATION_TYPES})

                               string(TOUPPER ${config} CONFIG)

 
link_directories(${CMAKE_LIBRARY_OUTPUT_DIRECTORY_${CONFIG}})

                endforeach(config)

 

Last:

With Option 

LIBxml2,GDAL,GTIFF,ICONV,LASZIP

There is error in XMLSchema.cpp with include

#include <unistd.h>

#include <strings.h>

#include <xlocale.h>

#include <sys/uio.h>

 

I fix it with but I don't know if it is correct

#if _WIN32

#include <io.h>

#include <string.h>

#include <winsock2.h>

#else

#include <unistd.h>

#include <strings.h>

#endif

 

Regards

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20130527/e6ad7ce1/attachment.html>

From nicolas.mantelier at spaceyes.fr  Mon May 27 08:39:55 2013
From: nicolas.mantelier at spaceyes.fr (Nicolas Mantelier)
Date: Mon, 27 May 2013 17:39:55 +0200
Subject: [pdal] Bug: Compile on Windows
In-Reply-To: <031f01ce5ac5$736f6360$5a4e2a20$@mantelier@spaceyes.fr>
References: <031f01ce5ac5$736f6360$5a4e2a20$@mantelier@spaceyes.fr>
Message-ID: <035201ce5af0$7078f830$516ae890$@mantelier@spaceyes.fr>

Additional question

 

I try to add PDAL in my project work on vs2003 ( it is not the moment to
move to another vs )

My question; there is an C api for Pdal like for Gdal ?

 

Other question I successful compiled PDAL with GDAL form OSGeo4W (build in
vs2008) with vs2010.

I Already have GDAL 1.9 (prerequi) build with vs2003 so I try to link with
this librairie.

 

Errors report

Erreur   16           error LNK2001: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0
C:\PDAL\PDAL\build_vc100_withvc7\src\InPlaceReprojection.obj         pdal

Erreur   17           error LNK2001: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0
C:\PDAL\PDAL\build_vc100_withvc7\src\Reprojection.obj        pdal

Erreur   18           error LNK2019: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0 r?f?renc? dans la fonction "public: static
void __stdcall pdal::gdal::Debug::trampoline(enum CPLErr,int,char const *)"
(?trampoline at Debug@gdal at pdal@@SGXW4CPLErr@@HPBD at Z)
C:\PDAL\PDAL\build_vc100_withvc7\src\GDALUtils.obj              pdal

Erreur   19           error LNK2001: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0
C:\PDAL\PDAL\build_vc100_withvc7\src\GlobalEnvironment.obj          pdal

Erreur   20           error LNK2001: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0
C:\PDAL\PDAL\build_vc100_withvc7\src\StageFactory.obj        pdal

Erreur   21           error LNK2001: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0
C:\PDAL\PDAL\build_vc100_withvc7\src\Colorization.obj          pdal

Erreur   22           error LNK1120: 1 externes non r?solus
C:\PDAL\PDAL\build_vc100_withvc7\bin\pdal.dll           pdal

Erreur   23           error LNK2019: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0 r?f?renc? dans la fonction "public: static
void __stdcall pdal::gdal::Debug::trampoline(enum CPLErr,int,char const *)"
(?trampoline at Debug@gdal at pdal@@SGXW4CPLErr@@HPBD at Z)
C:\PDAL\PDAL\build_vc100_withvc7\test\unit\ColorizationFilterTest.obj
pdal_test

Erreur   24           error LNK2001: symbole externe non r?solu
_CPLGetErrorHandlerUserData at 0
C:\PDAL\PDAL\build_vc100_withvc7\test\unit\GDALUtilsTest.obj
pdal_test

Erreur   25           error LNK1120: 1 externes non r?solus
C:\PDAL\PDAL\build_vc100_withvc7\bin\pdal_test.exe                pdal_test

 

 

Regards,

 

De : pdal-bounces at lists.osgeo.org [mailto:pdal-bounces at lists.osgeo.org] De
la part de Nicolas Mantelier
Envoy? : lundi 27 mai 2013 12:32
? : pdal at lists.osgeo.org
Objet : [pdal] Bug: Compile on Windows

 

Hello Evry body

I finaly build PDAL with vs 2010 i have some bug issue

 

First :

Project Pdal don?t configure with cmake with embedded boost 

Need to specify: set(Boost_FILESYSTEM_LIBRARY ) cause it was use before
initialization

 

Second:

set(PDAL_OUTPUT_LIB_DIR ${PDAL_BINARY_DIR}/${LIB_INSTALL_DIR})

set(PDAL_OUTPUT_BIN_DIR ${PDAL_BINARY_DIR}/${BIN_INSTALL_DIR})

Was use before initialization 

Need to specify:

set (PDAL_BINARY_DIR ${CMAKE_BINARY_DIR})

set (LIB_INSTALL_DIR "lib")

set (BIN_INSTALL_DIR "bin")

 

For better anderstanding: I modify PATH FOR LIB and BIN destination

if(WIN32)

  foreach(config ${CMAKE_CONFIGURATION_TYPES})

    string(TOUPPER ${config} CONFIG)

    set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_LIB_DIR}")

    set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_BIN_DIR}")

    # ---[ Windows requires DLLs (shared libraries) to be installed in the
same directory as executables

    set(CMAKE_LIBRARY_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_LIB_DIR}")

 endforeach(config)

And same with link

if (WIN32)

    set(Boost_LIBRARIES "${PDALBOOST_LIB_NAME}.lib")

                foreach(config ${CMAKE_CONFIGURATION_TYPES})

                               string(TOUPPER ${config} CONFIG)

 
link_directories(${CMAKE_LIBRARY_OUTPUT_DIRECTORY_${CONFIG}})

                endforeach(config)

 

Last:

With Option 

LIBxml2,GDAL,GTIFF,ICONV,LASZIP

There is error in XMLSchema.cpp with include

#include <unistd.h>

#include <strings.h>

#include <xlocale.h>

#include <sys/uio.h>

 

I fix it with but I don?t know if it is correct

#if _WIN32

#include <io.h>

#include <string.h>

#include <winsock2.h>

#else

#include <unistd.h>

#include <strings.h>

#endif

 

Regards

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20130527/276a3d17/attachment-0001.html>

From hobu.inc at gmail.com  Tue May 28 06:48:17 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue, 28 May 2013 08:48:17 -0500
Subject: [pdal] Bug: Compile on Windows
In-Reply-To: <51a33632.64da440a.21b1.ffffd0a0SMTPIN_ADDED_BROKEN@mx.google.com>
References: <51a33632.64da440a.21b1.ffffd0a0SMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <30A9983D-5124-486F-98A5-72F34D9C895F@gmail.com>


On May 27, 2013, at 5:32 AM, Nicolas Mantelier <nicolas.mantelier at spaceyes.fr> wrote:

> Hello Evry body
> I finaly build PDAL with vs 2010 i have some bug issue
>  
> First :
> Project Pdal don?t configure with cmake with embedded boost
> Need to specify: set(Boost_FILESYSTEM_LIBRARY ) cause it was use before initialization

Hmm, I thought this was working. I'll investigate because I'm going to switch the embedded Boost build to be the default. Can you file a ticket?

>  
> Second:
> set(PDAL_OUTPUT_LIB_DIR ${PDAL_BINARY_DIR}/${LIB_INSTALL_DIR})
> set(PDAL_OUTPUT_BIN_DIR ${PDAL_BINARY_DIR}/${BIN_INSTALL_DIR})
> Was use before initialization
> Need to specify:
> set (PDAL_BINARY_DIR ${CMAKE_BINARY_DIR})
> set (LIB_INSTALL_DIR "lib")
> set (BIN_INSTALL_DIR "bin")
>  
> For better anderstanding: I modify PATH FOR LIB and BIN destination
> if(WIN32)
>   foreach(config ${CMAKE_CONFIGURATION_TYPES})
>     string(TOUPPER ${config} CONFIG)
>     set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_LIB_DIR}")
>     set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_BIN_DIR}")
>     # ---[ Windows requires DLLs (shared libraries) to be installed in the same directory as executables
>     set(CMAKE_LIBRARY_OUTPUT_DIRECTORY_${CONFIG} "${PDAL_OUTPUT_LIB_DIR}")
>  endforeach(config)
> And same with link
> if (WIN32)
>     set(Boost_LIBRARIES "${PDALBOOST_LIB_NAME}.lib")
>                 foreach(config ${CMAKE_CONFIGURATION_TYPES})
>                                string(TOUPPER ${config} CONFIG)
>                                link_directories(${CMAKE_LIBRARY_OUTPUT_DIRECTORY_${CONFIG}})
>                 endforeach(config)

The WIN32 Boost linkage should simply be against the libpdalboost.a that is created from the boost/ directory of the PDAL tree. If we're not doing that, something is misconfigured in our CMake setup. Please file a ticket on this and I'll take a look.

>  
> Last:
> With Option
> LIBxml2,GDAL,GTIFF,ICONV,LASZIP


> There is error in XMLSchema.cpp with include
> #include <unistd.h>
> #include <strings.h>
> #include <xlocale.h>
> #include <sys/uio.h>

I'll fix this too, I don't think anyone had configured the XML stuff on windows yet. Can you file a ticket?

>  
> I fix it with but I don?t know if it is correct
> #if _WIN32
> #include <io.h>
> #include <string.h>
> #include <winsock2.h>
> #else
> #include <unistd.h>
> #include <strings.h>
> #endif
>  
> Regards
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal


From hobu.inc at gmail.com  Tue May 28 06:57:11 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue, 28 May 2013 08:57:11 -0500
Subject: [pdal] Bug: Compile on Windows
In-Reply-To: <51a37e52.67de440a.38d0.ffff98ddSMTPIN_ADDED_BROKEN@mx.google.com>
References: <031f01ce5ac5$736f6360$5a4e2a20$@mantelier@spaceyes.fr>
	<51a37e52.67de440a.38d0.ffff98ddSMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <E1DFEE98-6525-492C-8588-265BA51363CB@gmail.com>


On May 27, 2013, at 10:39 AM, Nicolas Mantelier <nicolas.mantelier at spaceyes.fr> wrote:

> Additional question
>  
> I try to add PDAL in my project work on vs2003 ( it is not the moment to move to another vs )
> My question; there is an C api for Pdal like for Gdal ?

There is no C API for PDAL, but I would be excited to incorporate a patch that mimic's GDAL's opaque pointer approach to C API construction for PDAL. I do not have time or need to develop this myself just now.

> Erreur   16           error LNK2001: symbole externe non r?solu _CPLGetErrorHandlerUserData at 0               

I don't think you're linking against the correct gdal.lib. You probably compiled against 1.9 and linked against 1.8. The CPLGetErrorHandlerUserData stuff came in 1.9+, IIRC.

Hope this helps,

Howard

From nicolas.mantelier at spaceyes.fr  Thu May 30 05:52:28 2013
From: nicolas.mantelier at spaceyes.fr (Nicolas Mantelier)
Date: Thu, 30 May 2013 14:52:28 +0200
Subject: [pdal] Help tutorial how use PDAL Libraries
Message-ID: <05b701ce5d34$8b0bec20$a123c460$@mantelier@spaceyes.fr>

Hello everybody,

 

I try to use PDAL api for produced an OSG driver that allow to load
unlimited size of Lidar file.

 

Where can I have some example or tutorial, 

I find http://www.pointcloud.org/tutorial/reading.html but not that I am
looking for.

I find http://www.lidarnews.com/content/view/8879/199/ pretty good one, but
don't know where and how, data is accessible; in PointBuffer ? in Schema ?

 

How render PDAL structure with OSG someone already working on it?

 

There is an equivalent to http://www.liblas.org/tutorial/cpp.html for pdal
api ?

 

 

More specific question:

 

I want to render my scene with octree, there is some spatial index which
allow to display fast a part of lidar file? 

I see Bounds http://www.pointcloud.org/api/cpp/bounds.html but I don't know
if that work with index, or if all point is tested before render or not ?

 

If someone have example of simple code using PDAL and can give it to me. It
will be very find.

 

Regards,

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20130530/cc4193e7/attachment.html>

From hobu.inc at gmail.com  Thu May 30 15:37:14 2013
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu, 30 May 2013 17:37:14 -0500
Subject: [pdal] Help tutorial how use PDAL Libraries
In-Reply-To: <51a74b93.41df440a.3722.ffffd03aSMTPIN_ADDED_BROKEN@mx.google.com>
References: <51a74b93.41df440a.3722.ffffd03aSMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <70B21ACE-D919-4CB1-A806-6543DE460B8E@gmail.com>


On May 30, 2013, at 7:52 AM, Nicolas Mantelier <nicolas.mantelier at spaceyes.fr> wrote:

> Hello everybody,
>  
> I try to use PDAL api for produced an OSG driver that allow to load unlimited size of Lidar file.

Let me attempt to rephrase. You want to feed point cloud data from PDAL to some sort of OSG consumer?

> Where can I have some example or tutorial,
> I find http://www.pointcloud.org/tutorial/reading.html but not that I am looking for.

If the above is true, can you state in what ways it is currently deficient?

> I find http://www.lidarnews.com/content/view/8879/199/ pretty good one, but don?t know where and how, data is accessible; in PointBuffer ? in Schema ?
>  
> How render PDAL structure with OSG someone already working on it?

I don't think anyone is working on OSG consumption of PDAL data, so you're blazing new ground here.
 
> There is an equivalent to http://www.liblas.org/tutorial/cpp.html for pdal api ?

Unfortunately, no, however there are more complete applications that drive various things inside of ./apps. More precisely, see pcpipeline.cpp for example code how to read PDAL data from any XML pipeline (as demonstrated in test/data/pipeline). pcinfo.cpp and pc2pc.cpp also show some more things you can do with PDAL. None of this has been put into a cogent document, however.

> More specific question:
>  
> I want to render my scene with octree, there is some spatial index which allow to display fast a part of lidar file?

PDAL provides a filter that leverages FLANN to do fast neighbor lookups, but there is no octree. libLAS has an octree, however, and this could be repurposed into a PDAL filter if you had enough desire.

> I see Bounds http://www.pointcloud.org/api/cpp/bounds.html but I don?t know if that work with index, or if all point is tested before render or not ?
>  
> If someone have example of simple code using PDAL and can give it to me. It will be very find.

The most complete usage examples for PDAL exist in ./apps and ./tests/unit

Hope this helps,

Howard


