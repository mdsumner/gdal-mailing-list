From fpoux at ulg.ac.be  Fri Jun  9 06:03:36 2017
From: fpoux at ulg.ac.be (Florent Poux)
Date: Fri, 9 Jun 2017 15:03:36 +0200
Subject: [pdal] PDAL: ERROR: column pcid (1) and patch pcid (2) are not
	consistent
Message-ID: <87ca907f-ad77-6896-ae1d-368e59753c82@ulg.ac.be>

Hey all,

I get this error : "PDAL: ERROR:  column pcid (1) and patch pcid (2) are 
not consistent" when trying to write a txt file to a PGSQL database 
using pointcloud writer.

The strange thing is, with an almost similar file no problems :

Working file:

X;Y;Z;Rf;Gf;Bf;intensity;curvature;illuminance_(PCV);Volume_density_(r0_01);Roughness(0_01);Nox;Noy;Noz 

1.44103062;-2.50073195;-1.46879423;0.878431;0.909804;0.921569;0.032593;0.159352;0.661017;11459157.000000;0.000412;-0.692524;-0.179657;0.698666
1.40535712;-2.44083643;-1.55097425;0.533333;0.533333;0.439216;0.011353;0.190419;0.559322;12891551.000000;0.000149;-0.290188;0.723066;0.626871

Not working file:

X;Y;Z;R;G;B;intensity;curvature;illuminance_(PCV);Volume_density_(r0_01);Roughness(0_01);Nox;Noy;Noz
1.44103062;-2.50073195;-1.46879423;224;232;235;0.032593;0.159352;0.661017;11459157.000000;0.000412;-0.692524;-0.179657;0.698666
1.40535712;-2.44083643;-1.55097425;136;136;112;0.011353;0.190419;0.559322;12891551.000000;0.000149;-0.290188;0.723066;0.626871

The only change is R, G and B which are not float value in the second. 
In my database, I have one schema linked to the first file that was 
automatically created by PDAL during the translation. I tried changing 
the SRID in the pipeline but doesn't solve the problem.

Any ideas ?

Thanks !

Florent


From howard at hobu.co  Fri Jun  9 08:59:31 2017
From: howard at hobu.co (Howard Butler)
Date: Fri, 9 Jun 2017 10:59:31 -0500
Subject: [pdal] PDAL: ERROR: column pcid (1) and patch pcid (2) are not
 consistent
In-Reply-To: <87ca907f-ad77-6896-ae1d-368e59753c82@ulg.ac.be>
References: <87ca907f-ad77-6896-ae1d-368e59753c82@ulg.ac.be>
Message-ID: <8970A378-4A7B-49E2-84A1-0512B2C344C4@hobu.co>


> On Jun 9, 2017, at 8:03 AM, Florent Poux <fpoux at ulg.ac.be> wrote:
> 
> Hey all,
> 
> I get this error : "PDAL: ERROR:  column pcid (1) and patch pcid (2) are not consistent" when trying to write a txt file to a PGSQL database using pointcloud writer.

> The only change is R, G and B which are not float value in the second.

> Any ideas ?

The schemas are in fact not the same, the error message is an accurate description of the situation, and you're going to need to normalize the schema of the data you are inserting in to pgpointcloud.

Is there any reason to not insert the data into a new pgpointcloud object? PDAL will normalize it all on the way out. If that won't work, I think the PDAL DB drivers (pgpointcloud, sqlite, and oracle) would need an option that allows them to normalize the schema as they are inserted, but that might be sticky to specify.

Howard 

From paul.schrum at gmail.com  Sat Jun 10 13:55:22 2017
From: paul.schrum at gmail.com (Paul Schrum)
Date: Sat, 10 Jun 2017 16:55:22 -0400
Subject: [pdal] GSoC Weekly Report, Week 2, from Paul Schrum
Message-ID: <CAPRzK5ZCPof0x+=Wjj9KDrnGi82U60yNKYfTGx4dX9Aozf_0rA@mail.gmail.com>

Weekly Report for Paul Schrum for Week 2 (the week ending 6/9/2017)

Project: Integration Of PDAL into GRASS GIS



1. What did you get done this week?



- Found a suitable test .las dataset and ran pdal on it from a unix command
line just to view info and prove to myself that everything works as
expected.  I also ran v.in.lidar on this dataset, again just to be sure it
works as expected.



- Got a good understanding of how writing to a new VectorMap works in GRASS
by studying v.in.ascii and v.in.lidar.



- Added reference to pdal-config to my local build environment and got it
to build okay.  Doing this caused make to attempt to build v.in.pdal.  See
the next bullet item for more on this.



- I did not previously realize that when I was building GRASS from source,
it was not trying to build v.in.pdal, though the source is part of the
Subversion repo.  So with my mentor’s help I brought v.in.pdal into the
build process on my local machine.  This triggered build errors, which is
expected to happen.  This is the state of the code as I prepare this report.



- Studied PDAL documentation (especially https://www.pdal.io/pipeline.html)
and started to develop a coding approach and plan which will utilize
Pipelines.  There will be some common operations for which v.in.pdal will
provide the pipeline json string internally so the GRASS end user does not
have to concern themselves with it.  There will also be a way in GRASS for
end users to provide their own pipeline json file if they prefer.  Much of
this comes from recommendations by Howard Butler on the PDAL mailing list
and in the primary GRASS enhancement ticket for this project.



- Discussed this approach with my mentor and we talked about a few more
issues beyond just the pipeline approach.



- Added v.in.pdal to a new public github repository.  (
https://github.ncsu.edu/ptschrum/v_in_pdal)  As of 6/9/2017 this repository
is just a copy of what is in the main svn repo for v.in.pdal.  All changes
will be pushed from my local machine to the github repository.



2. What do you plan on doing next week?

- Write classes and procedural code to make a simple and basic use case
work via v.in.pdal.



- This includes implementing the pipeline approach as described above.  It
also entails eliminating rotted API function calls and struct references.  Much
of the existing code base will be rewritten.  So part of this task will be
assessing what existing code to retain and what to rework.



- Implement the GRASS testing framework using the sample dataset and add
some foundational unit test runs.



- Paul’s vacation begins Friday, 16 June.  That day and part of the
Thursday before I will not be able to work on the project.  Vacation lasts
until Monday 26 June.  Tuesday may be a slow day as well.  I will continue
to post weekly updates, but they will not have much in them.





3. Are you blocked on anything?

No.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170610/3505f9b6/attachment.html>

From Adam.Steer at anu.edu.au  Tue Jun 13 23:17:20 2017
From: Adam.Steer at anu.edu.au (Adam Steer)
Date: Wed, 14 Jun 2017 06:17:20 +0000
Subject: [pdal] Centos 7, python3, gcc 4.8: pip3 fails to build PDAL
Message-ID: <A8353065-5BBE-40B2-94B9-4F48F6CFF3AC@anu.edu.au>

Hiya

I’m rebuilding a PDAL instance on centos 7 with python 3.4.5. PDAL is compiled from release 1.5.0 with python 3.4.5.

When I get to installing PDAL in a virtual environment, I get the message below - any pointers on how to resolve it and get the PDAL python interface going in python3 would be great!

Thanks

Adam

---
System stuff:

- python34-devel is present
- python-devel is present

# gcc --version
gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-11)

# python --version
Python 3.4.5

numpy==1.13.0

#  pdal --version
--------
pdal 1.5.0 (git-version: Release)

Error message:
--------------------
 gcc -pthread -Wno-unused-result -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/usr/include -I/usr/include/gdal -I/usr/include/libxml2 -I/usr/include -I/usr/include/laszip -I/local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include -I/usr/include/python3.4m -c pdal/libpdalpython.cpp -o build/temp.linux-x86_64-3.4/pdal/libpdalpython.o -std=c++11
    In file included from /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/ndarraytypes.h:1809:0,
                     from /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/ndarrayobject.h:18,
                     from /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                     from pdal/libpdalpython.cpp:489:
    /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: warning: #warning "Using deprecated NumPy API, disable it by " "#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     #warning "Using deprecated NumPy API, disable it by " \
      ^
    gcc -pthread -Wno-unused-result -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/usr/include -I/usr/include/gdal -I/usr/include/libxml2 -I/usr/include -I/usr/include/laszip -I/local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include -I/usr/include/python3.4m -c pdal/PyPipeline.cpp -o build/temp.linux-x86_64-3.4/pdal/PyPipeline.o -std=c++11
    In file included from /usr/include/python3.4m/pyatomic.h:8:0,
                     from /usr/include/python3.4m/Python.h:53,
                     from /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/ndarrayobject.h:17,
                     from /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                     from pdal/PyPipeline.hpp:52,
                     from pdal/PyPipeline.cpp:35:
    /usr/include/python3.4m/dynamic_annotations.h:472:3: error: template with C linkage
       template <class T>
       ^
    error: command 'gcc' failed with exit status 1
    
    ----------------------------------------
Command "/local/skua/pywps-venv/bin/python3 -u -c "import setuptools, tokenize;__file__='/tmp/pip-build-3qp8sb3d/pdal/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))" install --record /tmp/pip-hmvv6tab-record/install-record.txt --single-version-externally-managed --compile --install-headers /local/skua/pywps-venv/include/site/python3.4/pdal" failed with error code 1 in /tmp/pip-build-3qp8sb3d/pdal/

From howard at hobu.co  Wed Jun 14 08:27:47 2017
From: howard at hobu.co (Howard Butler)
Date: Wed, 14 Jun 2017 10:27:47 -0500
Subject: [pdal] Centos 7, python3, gcc 4.8: pip3 fails to build PDAL
In-Reply-To: <A8353065-5BBE-40B2-94B9-4F48F6CFF3AC@anu.edu.au>
References: <A8353065-5BBE-40B2-94B9-4F48F6CFF3AC@anu.edu.au>
Message-ID: <B9F42FD8-227E-4C77-9FF2-6134759A3A7B@hobu.co>


> On Jun 14, 2017, at 1:17 AM, Adam Steer <Adam.Steer at anu.edu.au> wrote:
> 
> Hiya
> 
> I’m rebuilding a PDAL instance on centos 7 with python 3.4.5. PDAL is compiled from release 1.5.0 with python 3.4.5.
> 
> When I get to installing PDAL in a virtual environment, I get the message below - any pointers on how to resolve it and get the PDAL python interface going in python3 would be great!
> 


>    In file included from /usr/include/python3.4m/pyatomic.h:8:0,
>                     from /usr/include/python3.4m/Python.h:53,
>                     from /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/ndarrayobject.h:17,
>                     from /local/skua/pywps-venv/lib/python3.4/site-packages/numpy/core/include/numpy/arrayobject.h:4,
>                     from pdal/PyPipeline.hpp:52,
>                     from pdal/PyPipeline.cpp:35:
>    /usr/include/python3.4m/dynamic_annotations.h:472:3: error: template with C linkage
>       template <class T>
>       ^
>    error: command 'gcc' failed with exit status 1

I've only ever tried Python 3.5 and 3.6, not 3.4. This error appears to be from Numpy's header thinking it should only be C. I think the libpdalpython.pyx that sets extern for PyPipeline.hpp is possibly incorrect. Newer Python versions must not care though.

Howard

From Adam.Steer at anu.edu.au  Wed Jun 14 20:54:46 2017
From: Adam.Steer at anu.edu.au (Adam Steer)
Date: Thu, 15 Jun 2017 03:54:46 +0000
Subject: [pdal] Centos 7, python3, gcc 4.8: pip3 fails to build PDAL
In-Reply-To: <B9F42FD8-227E-4C77-9FF2-6134759A3A7B@hobu.co>
References: <A8353065-5BBE-40B2-94B9-4F48F6CFF3AC@anu.edu.au>
 <B9F42FD8-227E-4C77-9FF2-6134759A3A7B@hobu.co>
Message-ID: <2A972692-7020-45D7-B686-428F27406103@anu.edu.au>

I found one user error - I’d PDAL against system python (2.7) and python3 include and library dirs. Not sure that should have worked.. So I recomplied PDAL with *really* python 3.4 and got the same error.

The PDAL python extension builds in python (pip install pdal) if i:
- install python3.6 from source (using altinstall) or from anaconda
- recompile PDAL against Python3.6
- build a new python 3.6 virtualenv, add PDAL dependencies and do ‘pip install PDAL’. However, ‘import PDAL’ then grumbles about GDAL (see below, FYI)

*sigh*

Back to py27 for now, since it works. GDAL on centos7 is 1.11.4, I’m sure I’ve gone around this circle before, and the answer was ‘install a newer GDAL from source and build PDAL against that’. So, I will test that scenario. 

I don’t expect PDAL to be re-written to support every wierd old bit of software/OS. Forward!


> On 15 Jun 2017, at 1:27 am, Howard Butler <howard at hobu.co> wrote:
> 
> I've only ever tried Python 3.5 and 3.6, not 3.4. This error appears to be from Numpy's header thinking it should only be C. I think the libpdalpython.pyx that sets extern for PyPipeline.hpp is possibly incorrect. Newer Python versions must not care though.

(error from pdal-python, in py36 environment with PDAL extension built using py36 and CentOS7 system GDAL (1.11.4) - gdal-devel is installed too; and gdal is installed in python with pip install gdal==1.11.2 --global-option=build_ext --global-option="-I/usr/include/gdal/“ )

>>> import pdal
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/local/skua/pywps-venv/lib/python3.6/site-packages/pdal/__init__.py", line 3, in <module>
    from .pipeline import Pipeline
  File "/local/skua/pywps-venv/lib/python3.6/site-packages/pdal/pipeline.py", line 2, in <module>
    from pdal import libpdalpython
ImportError: /lib64/libgdal.so.1: undefined symbol: sqlite3_column_table_name
>>> \q
  File "<stdin>", line 1
    \q
     ^
SyntaxError: unexpected character after line continuation character

From sebastien.guimmara.external at airbus.com  Thu Jun 15 08:18:27 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Thu, 15 Jun 2017 15:18:27 +0000
Subject: [pdal] [Filters] Decimation built into a reader
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>

Hello everyone,

I’m trying to import a massive point cloud as a collection of LAS files (6GB, 27 files), and I realized that my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.

So I’m putting a decimation filter to reduce the size, but I’m having a doubt: is the filter useful here or is the dataset entirely loaded into memory before even applying the filter ? In other words, does the downstream filters controls how the upstream reader loads data into memory ?

If not, would it be a nice feature to include to some (all ?) readers ? Like a builtin decimation/sampling filter.

Sébastien



[cid:imageed0be7.JPG at e745fb5d.469e3497] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170615/845a7561/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imageed0be7.JPG
Type: image/jpeg
Size: 625 bytes
Desc: imageed0be7.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170615/845a7561/attachment.jpe>

From andrew.bell.ia at gmail.com  Thu Jun 15 08:26:35 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Thu, 15 Jun 2017 10:26:35 -0500
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
Message-ID: <CACJ51z3zHxUAEbATYZRbkpJ5a3Yxqix4OyhsqV7k4r9rEJgOMA@mail.gmail.com>

The problem with this is that there are lots of ways to decimate and it
would complicate the logic of the readers in order to fulfill this desire.

One simple thing you can do is to create a decimated file using streaming
mode and then use that as input to your more complex pipeline:

{
  "pipeline": [
    "input.las",
    {
      "type" : "filters.decimation",
      "step" : 10
    }"
    "output.las"
  ]
}

Then run this with 'pdal pipeline --stream decimator.json'

If your processing pipeline supports streaming mode directly, you can use
that as well and dispense with the creation of the intermediate file.

Hope that helps,


On Thu, Jun 15, 2017 at 10:18 AM, GUIMMARA, Sébastien (External) <
sebastien.guimmara.external at airbus.com> wrote:

> Hello everyone,
>
>
>
> I’m trying to import a massive point cloud as a collection of LAS files
> (6GB, 27 files), and I realized that my desktop computer simply couldn’t
> handle the memory footprint of such a massive dataset.
>
>
>
> So I’m putting a decimation filter to reduce the size, but I’m having a
> doubt: is the filter useful here or is the dataset entirely loaded into
> memory before even applying the filter ? In other words, does the
> downstream filters controls how the upstream reader loads data into memory ?
>
>
>
> If not, would it be a nice feature to include to some (all ?) readers ?
> Like a builtin decimation/sampling filter.
>
>
>
> Sébastien
>
>
> Please consider the environment before printing this email message.
>
> ------------------------------
>
>
>
> *Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des
> informations confidentielles et/ou protégées ou dont la diffusion est
> restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le
> copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en
> avertir immédiatement l'expéditeur et d'effacer ce courriel de votre
> système. Airbus DS Geo décline toute responsabilité en cas de corruption
> par virus, d'altération ou de falsification de ce courriel lors de sa
> transmission par voie électronique. This email (including any attachments)
> may contain confidential and/or privileged information or information
> otherwise protected from disclosure. If you are not the intended recipient,
> please notify the sender immediately, do not copy this message or any
> attachments and do not use it for any purpose or disclose its content to
> any person, but delete this message and any attachments from your
> system. Airbus DS Geo disclaims any and all liability if this email
> transmission was virus corrupted, altered or falsified.*
> ------------------------------
>
> *Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des
> Satellites, 31400 Toulouse, France.*
>
>
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170615/8ea9ee78/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imageed0be7.JPG
Type: image/jpeg
Size: 625 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170615/8ea9ee78/attachment-0001.jpe>

From sebastien.guimmara.external at airbus.com  Fri Jun 16 00:21:40 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Fri, 16 Jun 2017 07:21:40 +0000
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <8682_1497540398_5942A72D_8682_1392_1_CACJ51z3zHxUAEbATYZRbkpJ5a3Yxqix4OyhsqV7k4r9rEJgOMA@mail.gmail.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
 <8682_1497540398_5942A72D_8682_1392_1_CACJ51z3zHxUAEbATYZRbkpJ5a3Yxqix4OyhsqV7k4r9rEJgOMA@mail.gmail.com>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E468AF28D@tlswinmbx02.toulouse.spotimage.int>

Thanks for the answer, I think a streaming pass to decimate datasets before applying the actual pipeline is an acceptable compromise.

I’m using filters like normal, range, outlier, colorinterp and colorization.

Sébastien

De : Andrew Bell [mailto:andrew.bell.ia at gmail.com]
Envoyé : jeudi 15 juin 2017 17:27
À : GUIMMARA, Sébastien (External)
Cc : pdal at lists.osgeo.org
Objet : Re: [pdal] [Filters] Decimation built into a reader

The problem with this is that there are lots of ways to decimate and it would complicate the logic of the readers in order to fulfill this desire.

One simple thing you can do is to create a decimated file using streaming mode and then use that as input to your more complex pipeline:

{
  "pipeline": [
    "input.las",
    {
      "type" : "filters.decimation",
      "step" : 10
    }"
    "output.las"
  ]
}

Then run this with 'pdal pipeline --stream decimator.json'

If your processing pipeline supports streaming mode directly, you can use that as well and dispense with the creation of the intermediate file.

Hope that helps,


On Thu, Jun 15, 2017 at 10:18 AM, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:
Hello everyone,

I’m trying to import a massive point cloud as a collection of LAS files (6GB, 27 files), and I realized that my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.

So I’m putting a decimation filter to reduce the size, but I’m having a doubt: is the filter useful here or is the dataset entirely loaded into memory before even applying the filter ? In other words, does the downstream filters controls how the upstream reader loads data into memory ?

If not, would it be a nice feature to include to some (all ?) readers ? Like a builtin decimation/sampling filter.

Sébastien


[cid:image001.jpg at 01D2E681.F5754A40]Please consider the environment before printing this email message.
________________________________
Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
________________________________
Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.






[cid:imageef69da.JPG at 0832b530.4c8c3917] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/pdal



--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/2a5357d2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 625 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/2a5357d2/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imageef69da.JPG
Type: image/jpeg
Size: 625 bytes
Desc: imageef69da.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/2a5357d2/attachment-0001.jpe>

From sebastien.guimmara.external at airbus.com  Fri Jun 16 03:18:25 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Fri, 16 Jun 2017 10:18:25 +0000
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <30358_1497606005_5943A774_30358_1001_4_771B6866-CF4A-4E3C-A88C-54E019A7AE99@oracle.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
 <30358_1497606005_5943A774_30358_1001_4_771B6866-CF4A-4E3C-A88C-54E019A7AE99@oracle.com>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E468AF33B@tlswinmbx02.toulouse.spotimage.int>

Albert,

My goal is to be able to convert datasets on average desktop computers (4 core/8 GB RAM, spinning drives) without blowing memory requirements, so that they can be quickly displayed in a virtual globe.

The dataset is indeed 6 GB of LAZ files. The goal is to process it with PDAL (outlier, range, colorinterp/colorize, normal), then tile it to 3D Tiles with Entwine.

I’ve witnessed RAM usage of more than 38 GB (intensive swap usage) on my own dev box (8 cores, 16 GB RAM, SSD), and the process could not finish because it ran out of memory. So extrapolating to the target machine, this is unbearable.

For now, my workflow to circumvent this would  be to decimate each LAZ file in a separate pipeline prior to merge them and go on with the filters.

Sébastien




[cid:imagee88352.JPG at b307f4bb.488e45c1] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


De : Albert Godfrind [mailto:albert.godfrind at oracle.com]
Envoyé : vendredi 16 juin 2017 11:40
À : GUIMMARA, Sébastien (External)
Cc : pdal
Objet : Re: [pdal] [Filters] Decimation built into a reader

Sébastien,

I would not exactly qualify 6GB of LAS data as massive. Do you really mean 6GB ? Or do you mean 6TB ?

When you say you want to import the data, what are you importing into ? A database ? Another file structure ?

my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.

What kind of desktop are you using that cannot cope with such a small file ? (unless of course you really mean 6TB).

Albert

--
[Image supprimée par l'expéditeur. ORACLE]<http://www.oracle.com>
Albert Godfrind | Geospatial and Graph technologies | Tel: +33 4 93 00 80 67 | Mobile: +33 6 09 97 27 23 | Twitter: @agodfrin
Oracle Server Technologies
Centre Régus - Les Algorithmes - Bâtiment ARISTOTE A | 2000 Route des Lucioles | 06410 Sophia Antipolis | France
Everything you ever wanted to know about Oracle Spatial<http://www.apress.com/9781590598993>

On 15-Jun-2017, at 17:18, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:


Hello everyone,

I’m trying to import a massive point cloud as a collection of LAS files (6GB, 27 files), and I realized that my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.

So I’m putting a decimation filter to reduce the size, but I’m having a doubt: is the filter useful here or is the dataset entirely loaded into memory before even applying the filter ? In other words, does the downstream filters controls how the upstream reader loads data into memory ?

If not, would it be a nice feature to include to some (all ?) readers ? Like a builtin decimation/sampling filter.

Sébastien


<imageed0be7.JPG> Please consider the environment before printing this email message.

________________________________
Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
________________________________
Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://urldefense.proofpoint.com/v2/url?u=https-3A__lists.osgeo.org_mailman_listinfo_pdal&d=DwIGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=NWJCp7FhoWF0tKyD1cuiQ-1r9WWtvua_djBMq1U_COM&s=sMYfELWOL7r58JcBdgbpRVlMWJw201xHLGSr7_4JYpY&e=

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/4d6e06f5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ~WRD000.jpg
Type: image/jpeg
Size: 823 bytes
Desc: ~WRD000.jpg
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/4d6e06f5/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imagee88352.JPG
Type: image/jpeg
Size: 625 bytes
Desc: imagee88352.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/4d6e06f5/attachment-0001.jpe>

From albert.godfrind at oracle.com  Fri Jun 16 02:39:56 2017
From: albert.godfrind at oracle.com (Albert Godfrind)
Date: Fri, 16 Jun 2017 11:39:56 +0200
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
Message-ID: <771B6866-CF4A-4E3C-A88C-54E019A7AE99@oracle.com>

Sébastien,

I would not exactly qualify 6GB of LAS data as massive. Do you really mean 6GB ? Or do you mean 6TB ?

When you say you want to import the data, what are you importing into ? A database ? Another file structure ?

> my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.

What kind of desktop are you using that cannot cope with such a small file ? (unless of course you really mean 6TB).

Albert

--
 <http://www.oracle.com/>
Albert Godfrind | Geospatial and Graph technologies | Tel: +33 4 93 00 80 67 | Mobile: +33 6 09 97 27 23 | Twitter: @agodfrin
Oracle Server Technologies
Centre Régus - Les Algorithmes - Bâtiment ARISTOTE A | 2000 Route des Lucioles | 06410 Sophia Antipolis | France
Everything you ever wanted to know about Oracle Spatial <http://www.apress.com/9781590598993>
> On 15-Jun-2017, at 17:18, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com> wrote:
> 
> 
> Hello everyone,
>  
> I’m trying to import a massive point cloud as a collection of LAS files (6GB, 27 files), and I realized that my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.
>  
> So I’m putting a decimation filter to reduce the size, but I’m having a doubt: is the filter useful here or is the dataset entirely loaded into memory before even applying the filter ? In other words, does the downstream filters controls how the upstream reader loads data into memory ?
>  
> If not, would it be a nice feature to include to some (all ?) readers ? Like a builtin decimation/sampling filter.
>  
> Sébastien
> 
>  
> <imageed0be7.JPG> Please consider the environment before printing this email message.
> 
> Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.
> 
> This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
> 
> Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.
> 
>  
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> https://urldefense.proofpoint.com/v2/url?u=https-3A__lists.osgeo.org_mailman_listinfo_pdal&d=DwIGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=NWJCp7FhoWF0tKyD1cuiQ-1r9WWtvua_djBMq1U_COM&s=sMYfELWOL7r58JcBdgbpRVlMWJw201xHLGSr7_4JYpY&e= <https://urldefense.proofpoint.com/v2/url?u=https-3A__lists.osgeo.org_mailman_listinfo_pdal&d=DwIGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=NWJCp7FhoWF0tKyD1cuiQ-1r9WWtvua_djBMq1U_COM&s=sMYfELWOL7r58JcBdgbpRVlMWJw201xHLGSr7_4JYpY&e=>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/9684e634/attachment.html>

From paul.schrum at gmail.com  Fri Jun 16 04:10:20 2017
From: paul.schrum at gmail.com (Paul Schrum)
Date: Fri, 16 Jun 2017 07:10:20 -0400
Subject: [pdal] =?utf-8?q?GSoC_Weekly_Report_for_Paul_Schrum=3A_Integratio?=
	=?utf-8?q?n_Of_PDAL_into_GRASS_GIS_=C2=B6?=
Message-ID: <CAPRzK5bTwyLT49upNETAyZzhSRBmGbn_mAf3Q-A0jX8efCVL9g@mail.gmail.com>

Weekly Report for Paul Schrum for Week 3 (the week ending 6/16/2017)

Project: Integration Of PDAL into GRASS GIS



1. What did you get done this week?



I continued to gain an understanding of how similar GRASS commands work at
a deep level so that when I modify the existing code for v.in.pdal, I will
understand what I should do.



2. What do you plan on doing next week?



I will be on vacation from June 16 until June 27. My access to the internet
may be limited during this time.



3. Are you blocked on anything?



No.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/a12b8c10/attachment-0001.html>

From sebastien.guimmara.external at airbus.com  Fri Jun 16 05:21:40 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Fri, 16 Jun 2017 12:21:40 +0000
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <17256_1497615594_5943CCE9_17256_1783_2_B7B5B5F7-D42E-4262-BA87-4D823F23D44F@oracle.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
 <30358_1497606005_5943A774_30358_1001_4_771B6866-CF4A-4E3C-A88C-54E019A7AE99@oracle.com>
 <A1DABC8AB3291742B3D4C714F72B2F8E468AF33B@tlswinmbx02.toulouse.spotimage.int>
 <17256_1497615594_5943CCE9_17256_1783_2_B7B5B5F7-D42E-4262-BA87-4D823F23D44F@oracle.com>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E468AF365@tlswinmbx02.toulouse.spotimage.int>

Indeed, all the filters I use in this particular pipeline are incompatible with the --stream option; they must load the entire dataset in memory: outlier, range, normal, colorinterp.

Sébastien




[cid:image7d59c6.JPG at 3c22f740.40b5b5e4] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


De : Albert Godfrind [mailto:albert.godfrind at oracle.com]
Envoyé : vendredi 16 juin 2017 14:20
À : GUIMMARA, Sébastien (External)
Cc : pdal
Objet : Re: [pdal] [Filters] Decimation built into a reader

Ah OK. 6GB of LAZ would probably be equivalent to 75GB of LAS files. Still not a lot of data. Definitely something I would expect to process on a regular laptop without effort ...

I’ve witnessed RAM usage of more than 38 GB (intensive swap usage) on my own dev box (8 cores, 16 GB RAM, SSD), and the process could not finish because it ran out of memory. So extrapolating to the target machine, this is unbearable.

Looks like one of the processes in the pipeline requires loading the entire (uncompressed) dataset in memory ? Someone in the PDAL dev team may comment here. If so, then that is a bit of a worry regarding scalability ...

Albert

--
[Image supprimée par l'expéditeur. ORACLE]<http://www.oracle.com>
Albert Godfrind | Geospatial and Graph technologies | Tel: +33 4 93 00 80 67 | Mobile: +33 6 09 97 27 23 | Twitter: @agodfrin
Oracle Server Technologies
Centre Régus - Les Algorithmes - Bâtiment ARISTOTE A | 2000 Route des Lucioles | 06410 Sophia Antipolis | France
Everything you ever wanted to know about Oracle Spatial<http://www.apress.com/9781590598993>

On 16-Jun-2017, at 12:18, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:


Albert,

My goal is to be able to convert datasets on average desktop computers (4 core/8 GB RAM, spinning drives) without blowing memory requirements, so that they can be quickly displayed in a virtual globe.

The dataset is indeed 6 GB of LAZ files. The goal is to process it with PDAL (outlier, range, colorinterp/colorize, normal), then tile it to 3D Tiles with Entwine.

I’ve witnessed RAM usage of more than 38 GB (intensive swap usage) on my own dev box (8 cores, 16 GB RAM, SSD), and the process could not finish because it ran out of memory. So extrapolating to the target machine, this is unbearable.

For now, my workflow to circumvent this would  be to decimate each LAZ file in a separate pipeline prior to merge them and go on with the filters.

Sébastien


<imagee88352.JPG> Please consider the environment before printing this email message.

________________________________
Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
________________________________
Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


De : Albert Godfrind [mailto:albert.godfrind at oracle.com]
Envoyé : vendredi 16 juin 2017 11:40
À : GUIMMARA, Sébastien (External)
Cc : pdal
Objet : Re: [pdal] [Filters] Decimation built into a reader

Sébastien,

I would not exactly qualify 6GB of LAS data as massive. Do you really mean 6GB ? Or do you mean 6TB ?

When you say you want to import the data, what are you importing into ? A database ? Another file structure ?

my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.

What kind of desktop are you using that cannot cope with such a small file ? (unless of course you really mean 6TB).

Albert

--
<~WRD000.jpg><http://www.oracle.com/>
Albert Godfrind | Geospatial and Graph technologies | Tel: +33 4 93 00 80 67 | Mobile: +33 6 09 97 27 23 | Twitter: @agodfrin
Oracle Server Technologies
Centre Régus - Les Algorithmes - Bâtiment ARISTOTE A | 2000 Route des Lucioles | 06410 Sophia Antipolis | France
Everything you ever wanted to know about Oracle Spatial<https://urldefense.proofpoint.com/v2/url?u=http-3A__www.apress.com_9781590598993&d=DwMGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=ouipdry-XnkgLWUH6l0Sxec3Oe19MR_IJdXFdvNJXnQ&s=F9wB40TvYdZ5RS04es9Qg8B2HoM8ChmIb2AqQsXZ-Oc&e=>

On 15-Jun-2017, at 17:18, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:


Hello everyone,

I’m trying to import a massive point cloud as a collection of LAS files (6GB, 27 files), and I realized that my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.

So I’m putting a decimation filter to reduce the size, but I’m having a doubt: is the filter useful here or is the dataset entirely loaded into memory before even applying the filter ? In other words, does the downstream filters controls how the upstream reader loads data into memory ?

If not, would it be a nice feature to include to some (all ?) readers ? Like a builtin decimation/sampling filter.

Sébastien


<imageed0be7.JPG> Please consider the environment before printing this email message.

________________________________
Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
________________________________
Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://urldefense.proofpoint.com/v2/url?u=https-3A__lists.osgeo.org_mailman_listinfo_pdal&d=DwIGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=NWJCp7FhoWF0tKyD1cuiQ-1r9WWtvua_djBMq1U_COM&s=sMYfELWOL7r58JcBdgbpRVlMWJw201xHLGSr7_4JYpY&e=

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/85ad5f36/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ~WRD000.jpg
Type: image/jpeg
Size: 823 bytes
Desc: ~WRD000.jpg
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/85ad5f36/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image7d59c6.JPG
Type: image/jpeg
Size: 625 bytes
Desc: image7d59c6.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/85ad5f36/attachment-0001.jpe>

From albert.godfrind at oracle.com  Fri Jun 16 05:19:44 2017
From: albert.godfrind at oracle.com (Albert Godfrind)
Date: Fri, 16 Jun 2017 14:19:44 +0200
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <A1DABC8AB3291742B3D4C714F72B2F8E468AF33B@tlswinmbx02.toulouse.spotimage.int>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
 <30358_1497606005_5943A774_30358_1001_4_771B6866-CF4A-4E3C-A88C-54E019A7AE99@oracle.com>
 <A1DABC8AB3291742B3D4C714F72B2F8E468AF33B@tlswinmbx02.toulouse.spotimage.int>
Message-ID: <B7B5B5F7-D42E-4262-BA87-4D823F23D44F@oracle.com>

Ah OK. 6GB of LAZ would probably be equivalent to 75GB of LAS files. Still not a lot of data. Definitely something I would expect to process on a regular laptop without effort ...

> I’ve witnessed RAM usage of more than 38 GB (intensive swap usage) on my own dev box (8 cores, 16 GB RAM, SSD), and the process could not finish because it ran out of memory. So extrapolating to the target machine, this is unbearable.

Looks like one of the processes in the pipeline requires loading the entire (uncompressed) dataset in memory ? Someone in the PDAL dev team may comment here. If so, then that is a bit of a worry regarding scalability ...

Albert

--
 <http://www.oracle.com/>
Albert Godfrind | Geospatial and Graph technologies | Tel: +33 4 93 00 80 67 | Mobile: +33 6 09 97 27 23 | Twitter: @agodfrin
Oracle Server Technologies
Centre Régus - Les Algorithmes - Bâtiment ARISTOTE A | 2000 Route des Lucioles | 06410 Sophia Antipolis | France
Everything you ever wanted to know about Oracle Spatial <http://www.apress.com/9781590598993>
> On 16-Jun-2017, at 12:18, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com> wrote:
> 
> 
> Albert,
>  
> My goal is to be able to convert datasets on average desktop computers (4 core/8 GB RAM, spinning drives) without blowing memory requirements, so that they can be quickly displayed in a virtual globe.
>  
> The dataset is indeed 6 GB of LAZ files. The goal is to process it with PDAL (outlier, range, colorinterp/colorize, normal), then tile it to 3D Tiles with Entwine.
>  
> I’ve witnessed RAM usage of more than 38 GB (intensive swap usage) on my own dev box (8 cores, 16 GB RAM, SSD), and the process could not finish because it ran out of memory. So extrapolating to the target machine, this is unbearable.
>  
> For now, my workflow to circumvent this would  be to decimate each LAZ file in a separate pipeline prior to merge them and go on with the filters.
>  
> Sébastien
> 
>  
> <imagee88352.JPG> Please consider the environment before printing this email message.
> 
> Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.
> 
> This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
> 
> Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.
> 
>  
> 
> De : Albert Godfrind [mailto:albert.godfrind at oracle.com <mailto:albert.godfrind at oracle.com>] 
> Envoyé : vendredi 16 juin 2017 11:40
> À : GUIMMARA, Sébastien (External)
> Cc : pdal
> Objet : Re: [pdal] [Filters] Decimation built into a reader
>  
> Sébastien,
>  
> I would not exactly qualify 6GB of LAS data as massive. Do you really mean 6GB ? Or do you mean 6TB ?
>  
> When you say you want to import the data, what are you importing into ? A database ? Another file structure ?
>  
> my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.
>  
> What kind of desktop are you using that cannot cope with such a small file ? (unless of course you really mean 6TB).
>  
> Albert
>  
> --
> <~WRD000.jpg> <http://www.oracle.com/>
> Albert Godfrind | Geospatial and Graph technologies | Tel: +33 4 93 00 80 67 | Mobile: +33 6 09 97 27 23 | Twitter: @agodfrin
> Oracle Server Technologies
> Centre Régus - Les Algorithmes - Bâtiment ARISTOTE A | 2000 Route des Lucioles | 06410 Sophia Antipolis | France
> Everything you ever wanted to know about Oracle Spatial <https://urldefense.proofpoint.com/v2/url?u=http-3A__www.apress.com_9781590598993&d=DwMGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=ouipdry-XnkgLWUH6l0Sxec3Oe19MR_IJdXFdvNJXnQ&s=F9wB40TvYdZ5RS04es9Qg8B2HoM8ChmIb2AqQsXZ-Oc&e=>
>  
> On 15-Jun-2017, at 17:18, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com <mailto:sebastien.guimmara.external at airbus.com>> wrote:
>  
>  
> Hello everyone,
>  
> I’m trying to import a massive point cloud as a collection of LAS files (6GB, 27 files), and I realized that my desktop computer simply couldn’t handle the memory footprint of such a massive dataset.
>  
> So I’m putting a decimation filter to reduce the size, but I’m having a doubt: is the filter useful here or is the dataset entirely loaded into memory before even applying the filter ? In other words, does the downstream filters controls how the upstream reader loads data into memory ?
>  
> If not, would it be a nice feature to include to some (all ?) readers ? Like a builtin decimation/sampling filter.
>  
> Sébastien
>  
>  
> <imageed0be7.JPG> Please consider the environment before printing this email message.
>  
> Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.
> 
> This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
> Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.
>  
>  
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> https://urldefense.proofpoint.com/v2/url?u=https-3A__lists.osgeo.org_mailman_listinfo_pdal&d=DwIGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=NWJCp7FhoWF0tKyD1cuiQ-1r9WWtvua_djBMq1U_COM&s=sMYfELWOL7r58JcBdgbpRVlMWJw201xHLGSr7_4JYpY&e= <https://urldefense.proofpoint.com/v2/url?u=https-3A__lists.osgeo.org_mailman_listinfo_pdal&d=DwIGaQ&c=RoP1YumCXCgaWHvlZYR8PQcxBKCX5YTpkKY057SbK10&r=1qY34HIjMdHQKENpnLMMP4yLfmc3rd-OMDuH2zkUKUk&m=NWJCp7FhoWF0tKyD1cuiQ-1r9WWtvua_djBMq1U_COM&s=sMYfELWOL7r58JcBdgbpRVlMWJw201xHLGSr7_4JYpY&e=>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/01e2babe/attachment-0001.html>

From andrew.bell.ia at gmail.com  Fri Jun 16 08:28:58 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 16 Jun 2017 10:28:58 -0500
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <B7B5B5F7-D42E-4262-BA87-4D823F23D44F@oracle.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
 <30358_1497606005_5943A774_30358_1001_4_771B6866-CF4A-4E3C-A88C-54E019A7AE99@oracle.com>
 <A1DABC8AB3291742B3D4C714F72B2F8E468AF33B@tlswinmbx02.toulouse.spotimage.int>
 <B7B5B5F7-D42E-4262-BA87-4D823F23D44F@oracle.com>
Message-ID: <CACJ51z3noCDB0fuwZEBCS3yUMqbGHBrNxV-TsO=1Rs8zieAQwA@mail.gmail.com>

On Fri, Jun 16, 2017 at 7:19 AM, Albert Godfrind <albert.godfrind at oracle.com
> wrote:

> Ah OK. 6GB of LAZ would probably be equivalent to 75GB of LAS files. Still
> not a lot of data. Definitely something I would expect to process on a
> regular laptop without effort ...
>
> I’ve witnessed RAM usage of more than 38 GB (intensive swap usage) on my
> own dev box (8 cores, 16 GB RAM, SSD), and the process could not finish
> because it ran out of memory. So extrapolating to the target machine, this
> is unbearable.
>
>
> Looks like one of the processes in the pipeline requires loading the
> entire (uncompressed) dataset in memory ? Someone in the PDAL dev team may
> comment here. If so, then that is a bit of a worry regarding scalability ...
>

There are many algorithms that require all the points to be loaded because
they care about point locality.  If you need to know the nearest neighbors
of point X, and you have no idea where in the input dataset(s) the neighbor
points are, you have to load all the points or read the data multiple
times.  If you're doing heavy processing like this, it's not unreasonable
to purchase hardware to support it.  You can get a server with 512GB of ram
for less than $2500, I think.  Many people tile their data in order to work
around algorithmic limitations when working with very large datasets.

If points are organized spatially, algorithms can take advantage to
minimize memory usage and speed processing, but these algorithms are
specialized for particular tasks and the arrangement of the data.  This is
a lot of work ($), and when hardware is cheap, I'm not sure how valuable it
is unless you're doing lots and lots of this kind of thing.  Also, each
algorithm may have differing requirements on data arrangement for optimal
handling.  LAStools triangulation, for example, makes assumptions about the
data and does at least three passes of the input in order to reduce memory
requirements.  It runs quickly, but it's very specific code for a particlar
purpose.  Even then, the benefits decay when moving from 2D to 3D.

PDAL aims to be generic.  If you're interested in pursuing algorithm
development that reduces memory requirements, it's something that we can
work on with funding, but I'm not sure where it sits on our priority list
otherwise.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170616/557300d3/attachment.html>

From sebastien.guimmara.external at airbus.com  Mon Jun 19 00:47:45 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Mon, 19 Jun 2017 07:47:45 +0000
Subject: [pdal] [Filters] Decimation built into a reader
In-Reply-To: <32397_1497626941_5943F93D_32397_5204_20_CACJ51z3noCDB0fuwZEBCS3yUMqbGHBrNxV-TsO=1Rs8zieAQwA@mail.gmail.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468AF24F@tlswinmbx02.toulouse.spotimage.int>
 <30358_1497606005_5943A774_30358_1001_4_771B6866-CF4A-4E3C-A88C-54E019A7AE99@oracle.com>
 <A1DABC8AB3291742B3D4C714F72B2F8E468AF33B@tlswinmbx02.toulouse.spotimage.int>
 <B7B5B5F7-D42E-4262-BA87-4D823F23D44F@oracle.com>
 <32397_1497626941_5943F93D_32397_5204_20_CACJ51z3noCDB0fuwZEBCS3yUMqbGHBrNxV-TsO=1Rs8zieAQwA@mail.gmail.com>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E47254C6B@tlswinmbx02.toulouse.spotimage.int>

Indeed, all the stages in my typical pipelines are not compatible with the  --stream option (outlier, normal…).

My constraint is that I should be able to process any dataset between 50 and 1000MB (in uncompressed form) on a moderately powerful desktop machine, not because we don’t have the processing power in servers, but essentially because the target machines could be used anywhere without any network connection.

I’m aiming to take this constraint into account by decimating the datasets until they fall into range of acceptable sizes. This decimation should be done in a preliminary pass with the --stream option.

Sébastien

De : Andrew Bell [mailto:andrew.bell.ia at gmail.com]
Envoyé : vendredi 16 juin 2017 17:29
À : Albert Godfrind
Cc : GUIMMARA, Sébastien (External); pdal
Objet : Re: [pdal] [Filters] Decimation built into a reader

On Fri, Jun 16, 2017 at 7:19 AM, Albert Godfrind <albert.godfrind at oracle.com<mailto:albert.godfrind at oracle.com>> wrote:
Ah OK. 6GB of LAZ would probably be equivalent to 75GB of LAS files. Still not a lot of data. Definitely something I would expect to process on a regular laptop without effort ...

I’ve witnessed RAM usage of more than 38 GB (intensive swap usage) on my own dev box (8 cores, 16 GB RAM, SSD), and the process could not finish because it ran out of memory. So extrapolating to the target machine, this is unbearable.

Looks like one of the processes in the pipeline requires loading the entire (uncompressed) dataset in memory ? Someone in the PDAL dev team may comment here. If so, then that is a bit of a worry regarding scalability ...

There are many algorithms that require all the points to be loaded because they care about point locality.  If you need to know the nearest neighbors of point X, and you have no idea where in the input dataset(s) the neighbor points are, you have to load all the points or read the data multiple times.  If you're doing heavy processing like this, it's not unreasonable to purchase hardware to support it.  You can get a server with 512GB of ram for less than $2500, I think.  Many people tile their data in order to work around algorithmic limitations when working with very large datasets.

If points are organized spatially, algorithms can take advantage to minimize memory usage and speed processing, but these algorithms are specialized for particular tasks and the arrangement of the data.  This is a lot of work ($), and when hardware is cheap, I'm not sure how valuable it is unless you're doing lots and lots of this kind of thing.  Also, each algorithm may have differing requirements on data arrangement for optimal handling.  LAStools triangulation, for example, makes assumptions about the data and does at least three passes of the input in order to reduce memory requirements.  It runs quickly, but it's very specific code for a particlar purpose.  Even then, the benefits decay when moving from 2D to 3D.

PDAL aims to be generic.  If you're interested in pursuing algorithm development that reduces memory requirements, it's something that we can work on with funding, but I'm not sure where it sits on our priority list otherwise.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>



[cid:imageb48402.JPG at 9d85f537.4590f770] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/86a886a5/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imageb48402.JPG
Type: image/jpeg
Size: 625 bytes
Desc: imageb48402.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/86a886a5/attachment.jpe>

From sebastien.guimmara.external at airbus.com  Mon Jun 19 06:41:39 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Mon, 19 Jun 2017 13:41:39 +0000
Subject: [pdal] [Faux Reader] num_point not a valid parameter ?
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E47255D44@tlswinmbx02.toulouse.spotimage.int>

Hello,

I’m trying to create a random point cloud using readers.faux, and the num_points parameters in the pipeline gets rejected because

readers.faux: Unexpected argument ‘num_points’

However, this parameter is specified in the 1.5 documentation for this reader.

Am I missing something ?

Sébastien



[cid:image9bd820.JPG at 063a53a6.48a0f209] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/d72e4e01/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image9bd820.JPG
Type: image/jpeg
Size: 625 bytes
Desc: image9bd820.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/d72e4e01/attachment-0001.jpe>

From howard at hobu.co  Mon Jun 19 06:43:57 2017
From: howard at hobu.co (Howard Butler)
Date: Mon, 19 Jun 2017 08:43:57 -0500
Subject: [pdal] [Faux Reader] num_point not a valid parameter ?
In-Reply-To: <A1DABC8AB3291742B3D4C714F72B2F8E47255D44@tlswinmbx02.toulouse.spotimage.int>
References: <A1DABC8AB3291742B3D4C714F72B2F8E47255D44@tlswinmbx02.toulouse.spotimage.int>
Message-ID: <3FE9E174-6F54-4B86-9F79-126F7767217C@hobu.co>

That argument was renamed to 'count' and the docs weren't updated. We'll clean that up.

H

> On Jun 19, 2017, at 8:41 AM, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com> wrote:
> 
> 
> Hello,
>  
> I’m trying to create a random point cloud using readers.faux, and the num_points parameters in the pipeline gets rejected because
>  
> readers.faux: Unexpected argument ‘num_points’
>  
> However, this parameter is specified in the 1.5 documentation for this reader.
>  
> Am I missing something ?
>  
> Sébastien
> 
>  
> <image9bd820.JPG> Please consider the environment before printing this email message.
> 
> Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.
> 
> This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
> 
> Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.
> 
>  
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/2ca77a92/attachment.html>

From sebastien.guimmara.external at airbus.com  Mon Jun 19 06:47:18 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Mon, 19 Jun 2017 13:47:18 +0000
Subject: [pdal] [Faux Reader] num_point not a valid parameter ?
In-Reply-To: <10643_1497879822_5947D50D_10643_1826_3_3FE9E174-6F54-4B86-9F79-126F7767217C@hobu.co>
References: <A1DABC8AB3291742B3D4C714F72B2F8E47255D44@tlswinmbx02.toulouse.spotimage.int>
 <10643_1497879822_5947D50D_10643_1826_3_3FE9E174-6F54-4B86-9F79-126F7767217C@hobu.co>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E47256D5D@tlswinmbx02.toulouse.spotimage.int>

I created an issue on GitHub. Thanks !

Sébastien




[cid:imageee1554.JPG at 428507af.4588a25d] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


De : Howard Butler [mailto:howard at hobu.co]
Envoyé : lundi 19 juin 2017 15:44
À : GUIMMARA, Sébastien (External)
Cc : pdal at lists.osgeo.org
Objet : Re: [pdal] [Faux Reader] num_point not a valid parameter ?

That argument was renamed to 'count' and the docs weren't updated. We'll clean that up.

H

On Jun 19, 2017, at 8:41 AM, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:


Hello,

I’m trying to create a random point cloud using readers.faux, and the num_points parameters in the pipeline gets rejected because

readers.faux: Unexpected argument ‘num_points’

However, this parameter is specified in the 1.5 documentation for this reader.

Am I missing something ?

Sébastien


<image9bd820.JPG> Please consider the environment before printing this email message.

________________________________
Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
________________________________
Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/pdal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/9eeab9a9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imageee1554.JPG
Type: image/jpeg
Size: 625 bytes
Desc: imageee1554.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/9eeab9a9/attachment-0001.jpe>

From howard at hobu.co  Mon Jun 19 21:34:55 2017
From: howard at hobu.co (Howard Butler)
Date: Mon, 19 Jun 2017 23:34:55 -0500
Subject: [pdal] Matlab filters and Python refactoring
Message-ID: <14E3B77B-D4BB-4038-A658-0F448E503305@hobu.co>

All,

Similar to PDAL's Python support https://www.pdal.io/python.html <https://www.pdal.io/python.html>, I have embarked on providing the ability to embed Matlab in the form of a filters.matlab stage. A client has requested this capability, and while I'm quite familiar with Python embedding scenarios, I hope the community can provide some guidance on what the must-haves would be for Matlab capability. The first attempt will simply allow users to touch a special "pdal" array with their script and update the point values as needed with no ability to change the schema in any way. The typical processing scenario would use filters.matlab in a pipeline operation. Assuming that is working in the upcoming 1.6 PDAL release, what other features would PDAL's Matlab connections need to make them extremely useful and powerful?

Additionally, as part of the Matlab effort, it's clear the PDAL Python stuff is spread about a bit too much. The filters.predicate and filters.programmable nomenclature is confusing, and I propose that we simply rename it all to filters.python, and if the returned dictionary of Numpy arrays has a "mask" array on it, it will behave like filters.predicate does to cull the points. Otherwise, not much else will change for PDAL's Python stuff besides the filter name.

Would Matlab interaction in PDAL pipelines be useful to you? What other PDAL/Matlab interaction scenarios give you the power of PDAL's processing pipelines married with Matlab's deep prototyping environment? My client would like to use intricate Matlab algorithms in the context of PDAL pipelines for data processing orchestration. How do we expose PDAL to the Matlab user in a way that would be useful for them? 

Howard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170619/774a8866/attachment.html>

From nickmcummins at icloud.com  Tue Jun 20 11:53:48 2017
From: nickmcummins at icloud.com (Nick Cummins)
Date: Tue, 20 Jun 2017 18:53:48 +0000 (GMT)
Subject: [pdal] =?utf-8?q?readers=2Etext=3A_Duplicate_dimension_=27=2C=27_?=
 =?utf-8?q?detected_in_input_file_from_writers=2Etext?=
Message-ID: <9dd39b7c-2ffa-4f17-9a6c-599ba7f5d5e1@me.com>

Hi,

I am getting this error when trying to run readers.text on an input file that was created using writers.txt.

pdal pipeline heights_above_ground.template.pipeline.json
pdal pipeline filter_non_ground.pipeline.json

less 20131013_usgs_olympic_wa_10TDT310990_HeightAboveGround.xyz
"X","Y","Z","HeightAboveGround"
803169.892,932562.842,2093.730,30.350
803170.060,932566.158,2093.070,32.180
803178.839,932573.593,2054.360,0.000
803170.851,932564.554,2093.700,33.600

Not sure why though, as the output file generated by the first pipeline run looks fine to me. I originally tried this with a different delimiter (tab), and encountered the same issue. Any ideas? Thanks in advance.

Nick


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170620/bef1808a/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: filter_non_ground.pipeline.json
Type: application/json
Size: 454 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170620/bef1808a/attachment.json>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: heights_above_ground.template.pipeline.json
Type: application/json
Size: 361 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170620/bef1808a/attachment-0001.json>

From andrew.bell.ia at gmail.com  Tue Jun 20 13:03:16 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 20 Jun 2017 15:03:16 -0500
Subject: [pdal] readers.text: Duplicate dimension ',
 ' detected in input file from writers.text
In-Reply-To: <9dd39b7c-2ffa-4f17-9a6c-599ba7f5d5e1@me.com>
References: <9dd39b7c-2ffa-4f17-9a6c-599ba7f5d5e1@me.com>
Message-ID: <CACJ51z2Y+e1DtBp6h3YrSA5wqtBEmmaAvXA=r-2UnXs5pR4G-g@mail.gmail.com>

>From the documentation:

"Any single non-alphanumeric character can be used as a separator. "

The reader is taking the quote as the delimiter.  Remove the quotes and you
should be fine:

X,Y,Z,HeightAboveGround
803169.892,932562.842,2093.730,30.350
803170.060,932566.158,2093.070,32.180
803178.839,932573.593,2054.360,0.000
803170.851,932564.554,2093.700,33.600

On Tue, Jun 20, 2017 at 1:53 PM, Nick Cummins <nickmcummins at icloud.com>
wrote:

> Hi,
>
> I am getting this error when trying to run readers.text on an input file
> that was created using writers.txt.
>
> pdal pipeline heights_above_ground.template.pipeline.json
> pdal pipeline filter_non_ground.pipeline.json
>
> less 20131013_usgs_olympic_wa_10TDT310990_HeightAboveGround.xyz
> "X","Y","Z","HeightAboveGround"
> 803169.892,932562.842,2093.730,30.350
> 803170.060,932566.158,2093.070,32.180
> 803178.839,932573.593,2054.360,0.000
> 803170.851,932564.554,2093.700,33.600
>
> Not sure why though, as the output file generated by the first pipeline
> run looks fine to me. I originally tried this with a different delimiter
> (tab), and encountered the same issue. Any ideas? Thanks in advance.
>
> Nick
>
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170620/c5c516ae/attachment.html>

From howard at hobu.co  Tue Jun 20 13:04:43 2017
From: howard at hobu.co (Howard Butler)
Date: Tue, 20 Jun 2017 15:04:43 -0500
Subject: [pdal] readers.text: Duplicate dimension ',
 ' detected in input file from writers.text
In-Reply-To: <CACJ51z2Y+e1DtBp6h3YrSA5wqtBEmmaAvXA=r-2UnXs5pR4G-g@mail.gmail.com>
References: <9dd39b7c-2ffa-4f17-9a6c-599ba7f5d5e1@me.com>
 <CACJ51z2Y+e1DtBp6h3YrSA5wqtBEmmaAvXA=r-2UnXs5pR4G-g@mail.gmail.com>
Message-ID: <906A3352-C52A-4C2A-AEA9-10A422BECE2E@hobu.co>


> On Jun 20, 2017, at 3:03 PM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
> 
> The reader is taking the quote as the delimiter.  Remove the quotes and you should be fine:

> I am getting this error when trying to run readers.text on an input file that was created using writers.txt. 

I think PDAL should ignore quotes on read or not write quotes on output.

From mateusz at loskot.net  Thu Jun 22 01:33:33 2017
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu, 22 Jun 2017 10:33:33 +0200
Subject: [pdal] Built-in formats
Message-ID: <CABUeae_ae6660inraAnj4waf=4oreoOV=xYJZRQpTkE8A9YNpQ@mail.gmail.com>

Hi,

Is there any notion of built-in formats in PDAL?
That is formats which are always available regardless of availability
of external libraries and SDKs.

If there is, would it be sensible to tag readers/writers in the docs
with something like:

built-in: yes
vs
built-in: optional

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From howard at hobu.co  Thu Jun 22 08:31:15 2017
From: howard at hobu.co (Howard Butler)
Date: Thu, 22 Jun 2017 10:31:15 -0500
Subject: [pdal] Built-in formats
In-Reply-To: <CABUeae_ae6660inraAnj4waf=4oreoOV=xYJZRQpTkE8A9YNpQ@mail.gmail.com>
References: <CABUeae_ae6660inraAnj4waf=4oreoOV=xYJZRQpTkE8A9YNpQ@mail.gmail.com>
Message-ID: <A2CB5EC6-B556-4249-82B3-37B7B7C6BDBA@hobu.co>

Nothing like that at the moment. Can you file a ticket? I don't know that it will happen to fast, but it would be useful to have.

H

> On Jun 22, 2017, at 3:33 AM, Mateusz Loskot <mateusz at loskot.net> wrote:
> 
> Hi,
> 
> Is there any notion of built-in formats in PDAL?
> That is formats which are always available regardless of availability
> of external libraries and SDKs.
> 
> If there is, would it be sensible to tag readers/writers in the docs
> with something like:
> 
> built-in: yes
> vs
> built-in: optional
> 
> Best regards,
> -- 
> Mateusz Loskot, http://mateusz.loskot.net
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal


From mateusz at loskot.net  Thu Jun 22 08:42:51 2017
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu, 22 Jun 2017 17:42:51 +0200
Subject: [pdal] Built-in formats
In-Reply-To: <A2CB5EC6-B556-4249-82B3-37B7B7C6BDBA@hobu.co>
References: <CABUeae_ae6660inraAnj4waf=4oreoOV=xYJZRQpTkE8A9YNpQ@mail.gmail.com>
 <A2CB5EC6-B556-4249-82B3-37B7B7C6BDBA@hobu.co>
Message-ID: <CABUeae_t-qo8isYCAGMtimKqV+SKvo3VhKvBHoo27aKnOuDhMg@mail.gmail.com>

Done, to self https://github.com/PDAL/PDAL/issues/1612

M

On 22 June 2017 at 17:31, Howard Butler <howard at hobu.co> wrote:
> Nothing like that at the moment. Can you file a ticket? I don't know that it will happen to fast, but it would be useful to have.
>
> H
>
>> On Jun 22, 2017, at 3:33 AM, Mateusz Loskot <mateusz at loskot.net> wrote:
>>
>> Hi,
>>
>> Is there any notion of built-in formats in PDAL?
>> That is formats which are always available regardless of availability
>> of external libraries and SDKs.
>>
>> If there is, would it be sensible to tag readers/writers in the docs
>> with something like:
>>
>> built-in: yes
>> vs
>> built-in: optional
>>
>> Best regards,
>> --
>> Mateusz Loskot, http://mateusz.loskot.net
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Mateusz Loskot, http://mateusz.loskot.net

From paul.schrum at gmail.com  Tue Jun 27 06:29:19 2017
From: paul.schrum at gmail.com (Paul Schrum)
Date: Tue, 27 Jun 2017 09:29:19 -0400
Subject: [pdal] GSoC Weekly Report 4: Integration of PDAL into GRASS GIS
Message-ID: <CAPRzK5Y5HWDhpRdhaC07gbHEADx1C76YUzMMCBxnwRHd_PjJow@mail.gmail.com>

Weekly Report for Paul Schrum for Week 4 (the week ending 6/23/2017)

Project: Integration Of PDAL into GRASS GIS



1. What did you get done this week?



Nothing.  I was on vacation all week as scheduled in my proposal.



2. What do you plan on doing next week?



Getting basic functionality working and one or more tests to confirm
everything works correctly.



3. Are you blocked on anything?



No.  My progress has been slower than expected, though, and if I still
haven’t proceeded to the first of basic working code, then I will call it a
block.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170627/f8a9160a/attachment.html>

From howard at hobu.co  Wed Jun 28 13:59:48 2017
From: howard at hobu.co (Howard Butler)
Date: Wed, 28 Jun 2017 15:59:48 -0500
Subject: [pdal] Matlab filters and Python refactoring
In-Reply-To: <14E3B77B-D4BB-4038-A658-0F448E503305@hobu.co>
References: <14E3B77B-D4BB-4038-A658-0F448E503305@hobu.co>
Message-ID: <08E1A950-3280-4E7C-8240-5EC53A90CF08@hobu.co>

A note to let you know this work is now complete.

* filters.matlab allows inline PDAL->Matlab->PDAL filter operations, much like filter.python. It requires the full Matlab environment to execute.
* writers.matlab now supports writing a single array struct with an optionally specified field list. It only requires the MX and MAT libraries.
* readers.matlab now supports reading a single array struct.
* filters.programmable and filters.predicate are now simply filters.python.

Please pull the latest master and configure with -DBUILD_PLUGIN_MATLAB=ON to test it out.

Howard

> On Jun 19, 2017, at 11:34 PM, Howard Butler <howard at hobu.co> wrote:
> 
> All,
> 
> Similar to PDAL's Python support https://www.pdal.io/python.html <https://www.pdal.io/python.html>, I have embarked on providing the ability to embed Matlab in the form of a filters.matlab stage. A client has requested this capability, and while I'm quite familiar with Python embedding scenarios, I hope the community can provide some guidance on what the must-haves would be for Matlab capability. The first attempt will simply allow users to touch a special "pdal" array with their script and update the point values as needed with no ability to change the schema in any way. The typical processing scenario would use filters.matlab in a pipeline operation. Assuming that is working in the upcoming 1.6 PDAL release, what other features would PDAL's Matlab connections need to make them extremely useful and powerful?
> 
> Additionally, as part of the Matlab effort, it's clear the PDAL Python stuff is spread about a bit too much. The filters.predicate and filters.programmable nomenclature is confusing, and I propose that we simply rename it all to filters.python, and if the returned dictionary of Numpy arrays has a "mask" array on it, it will behave like filters.predicate does to cull the points. Otherwise, not much else will change for PDAL's Python stuff besides the filter name.
> 
> Would Matlab interaction in PDAL pipelines be useful to you? What other PDAL/Matlab interaction scenarios give you the power of PDAL's processing pipelines married with Matlab's deep prototyping environment? My client would like to use intricate Matlab algorithms in the context of PDAL pipelines for data processing orchestration. How do we expose PDAL to the Matlab user in a way that would be useful for them? 
> 
> Howard

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170628/1d601359/attachment.html>

From howard at hobu.co  Wed Jun 28 14:23:33 2017
From: howard at hobu.co (Howard Butler)
Date: Wed, 28 Jun 2017 16:23:33 -0500
Subject: [pdal] Matlab filters and Python refactoring
In-Reply-To: <CALQGVr0RMNMJvizC+3Zo0pQ_rAKtE3LdJ4tVsLpKp=h3fE3QNw@mail.gmail.com>
References: <14E3B77B-D4BB-4038-A658-0F448E503305@hobu.co>
 <08E1A950-3280-4E7C-8240-5EC53A90CF08@hobu.co>
 <CALQGVr0RMNMJvizC+3Zo0pQ_rAKtE3LdJ4tVsLpKp=h3fE3QNw@mail.gmail.com>
Message-ID: <B770F45D-05AA-421F-82E3-CBAD7D365611@hobu.co>


> On Jun 28, 2017, at 4:21 PM, Newcomb, Doug <doug_newcomb at fws.gov> wrote:
> 
> As a matter of curiosity, have you tried it with Octave, https://www.gnu.org/software/octave/ <https://www.gnu.org/software/octave/> ?

No, I haven't. It's possible someone who wants it bad enough can make it work though. The stage implementations are simple users of the mat.h and engine.h Matlab APIs.

Howard

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170628/7e3ed753/attachment.html>

From doug_newcomb at fws.gov  Wed Jun 28 14:21:21 2017
From: doug_newcomb at fws.gov (Newcomb, Doug)
Date: Wed, 28 Jun 2017 17:21:21 -0400
Subject: [pdal] Matlab filters and Python refactoring
In-Reply-To: <08E1A950-3280-4E7C-8240-5EC53A90CF08@hobu.co>
References: <14E3B77B-D4BB-4038-A658-0F448E503305@hobu.co>
 <08E1A950-3280-4E7C-8240-5EC53A90CF08@hobu.co>
Message-ID: <CALQGVr0RMNMJvizC+3Zo0pQ_rAKtE3LdJ4tVsLpKp=h3fE3QNw@mail.gmail.com>

As a matter of curiosity, have you tried it with Octave,
https://www.gnu.org/software/octave/ ?

Doug

On Wed, Jun 28, 2017 at 4:59 PM, Howard Butler <howard at hobu.co> wrote:

> A note to let you know this work is now complete.
>
> * filters.matlab allows inline PDAL->Matlab->PDAL filter operations, much
> like filter.python. It requires the full Matlab environment to execute.
> * writers.matlab now supports writing a single array struct with an
> optionally specified field list. It only requires the MX and MAT libraries.
> * readers.matlab now supports reading a single array struct.
> * filters.programmable and filters.predicate are now simply filters.python.
>
> Please pull the latest master and configure with -DBUILD_PLUGIN_MATLAB=ON
> to test it out.
>
> Howard
>
> On Jun 19, 2017, at 11:34 PM, Howard Butler <howard at hobu.co> wrote:
>
> All,
>
> Similar to PDAL's Python support https://www.pdal.io/python.html, I have
> embarked on providing the ability to embed Matlab in the form of a
> filters.matlab stage. A client has requested this capability, and while I'm
> quite familiar with Python embedding scenarios, I hope the community can
> provide some guidance on what the must-haves would be for Matlab
> capability. The first attempt will simply allow users to touch a special
> "pdal" array with their script and update the point values as needed with
> no ability to change the schema in any way. The typical processing scenario
> would use filters.matlab in a pipeline operation. Assuming that is working
> in the upcoming 1.6 PDAL release, what other features would PDAL's Matlab
> connections need to make them extremely useful and powerful?
>
> Additionally, as part of the Matlab effort, it's clear the PDAL Python
> stuff is spread about a bit too much. The filters.predicate and
> filters.programmable nomenclature is confusing, and I propose that we
> simply rename it all to filters.python, and if the returned dictionary of
> Numpy arrays has a "mask" array on it, it will behave like
> filters.predicate does to cull the points. Otherwise, not much else will
> change for PDAL's Python stuff besides the filter name.
>
> Would Matlab interaction in PDAL pipelines be useful to you? What other
> PDAL/Matlab interaction scenarios give you the power of PDAL's processing
> pipelines married with Matlab's deep prototyping environment? My client
> would like to use intricate Matlab algorithms in the context of PDAL
> pipelines for data processing orchestration. How do we expose PDAL to the
> Matlab user in a way that would be useful for them?
>
> Howard
>
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Doug Newcomb
USFWS
551F Pylon Dr
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb at fws.gov
---------------------------------------------------------------------------------------------------------
The opinions I express are my own and are not representative of the
official policy of the U.S.Fish and Wildlife Service or Dept. of the
Interior.   Life is too short for undocumented, proprietary data formats.
*NOTE: This email correspondence and any attachments to and from this
sender is subject to the Freedom of Information Act (FOIA) and may be
disclosed to third parties.*​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170628/5421589e/attachment.html>

From paul.schrum at gmail.com  Thu Jun 29 09:48:15 2017
From: paul.schrum at gmail.com (Paul Schrum)
Date: Thu, 29 Jun 2017 12:48:15 -0400
Subject: [pdal] Sample code for using PipelineExecutor from 3rd Party
Message-ID: <CAPRzK5Y3z34wq7nQr6_BjBO6O8XvgoZBJ97fVnYCg7J=SmNt4A@mail.gmail.com>

Hi.  I am the GSoC 2017 student working on integrating PDAL into GRASS.

Howard Butler recommended to me a few weeks back that I use the Pipeline
Executor class in my work.  I have been looking over www.pdal.io seeking
examples of how to call pdal from third party code, but I am having trouble
finding anything.  I also looked at
https://github.com/PDAL/PDAL/tree/master/examples , but I don't see
anything as basic as what I need.

Can someone help me find such a page that I can use as a go-by?

He also mentioned one-at-a-time mode, but I also don't see the
documentation on that.  Is it by some other name at
https://www.pdal.io/api/index.html ?

- Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170629/eead5b37/attachment-0001.html>

From howard at hobu.co  Thu Jun 29 09:54:16 2017
From: howard at hobu.co (Howard Butler)
Date: Thu, 29 Jun 2017 11:54:16 -0500
Subject: [pdal] Sample code for using PipelineExecutor from 3rd Party
In-Reply-To: <CAPRzK5Y3z34wq7nQr6_BjBO6O8XvgoZBJ97fVnYCg7J=SmNt4A@mail.gmail.com>
References: <CAPRzK5Y3z34wq7nQr6_BjBO6O8XvgoZBJ97fVnYCg7J=SmNt4A@mail.gmail.com>
Message-ID: <4D10D942-5711-4228-9440-38F576966667@hobu.co>


> On Jun 29, 2017, at 11:48 AM, Paul Schrum <paul.schrum at gmail.com> wrote:
> 
> Hi.  I am the GSoC 2017 student working on integrating PDAL into GRASS.
> 
> Howard Butler recommended to me a few weeks back that I use the Pipeline Executor class in my work.  I have been looking over www.pdal.io <http://www.pdal.io/> seeking examples of how to call pdal from third party code, but I am having trouble finding anything.  I also looked at https://github.com/PDAL/PDAL/tree/master/examples <https://github.com/PDAL/PDAL/tree/master/examples> , but I don't see anything as basic as what I need.


The Python extension is a good example to follow. 

https://github.com/PDAL/PDAL/blob/master/pdal/PipelineExecutor.hpp <https://github.com/PDAL/PDAL/blob/master/pdal/PipelineExecutor.hpp>

https://github.com/PDAL/PDAL/blob/master/python/pdal/PyPipeline.cpp <https://github.com/PDAL/PDAL/blob/master/python/pdal/PyPipeline.cpp>


> Can someone help me find such a page that I can use as a go-by?

You have to dig in the code.

> He also mentioned one-at-a-time mode, but I also don't see the documentation on that.  Is it by some other name at https://www.pdal.io/api/index.html <https://www.pdal.io/api/index.html> ?

Let's get bulk read working first before we work through processOne and streaming...

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170629/944b4bf4/attachment.html>

From paul.schrum at gmail.com  Thu Jun 29 09:57:01 2017
From: paul.schrum at gmail.com (Paul Schrum)
Date: Thu, 29 Jun 2017 12:57:01 -0400
Subject: [pdal] Sample code for using PipelineExecutor from 3rd Party
In-Reply-To: <4D10D942-5711-4228-9440-38F576966667@hobu.co>
References: <CAPRzK5Y3z34wq7nQr6_BjBO6O8XvgoZBJ97fVnYCg7J=SmNt4A@mail.gmail.com>
 <4D10D942-5711-4228-9440-38F576966667@hobu.co>
Message-ID: <CAPRzK5YCa9=Uu+UskWUcC0ON4-MCtLhsXc9D9f9cES4LyvFMtg@mail.gmail.com>

Thanks.  I am looking at this now.

- Paul

On Thu, Jun 29, 2017 at 12:54 PM, Howard Butler <howard at hobu.co> wrote:

>
> On Jun 29, 2017, at 11:48 AM, Paul Schrum <paul.schrum at gmail.com> wrote:
>
> Hi.  I am the GSoC 2017 student working on integrating PDAL into GRASS.
>
> Howard Butler recommended to me a few weeks back that I use the Pipeline
> Executor class in my work.  I have been looking over www.pdal.io seeking
> examples of how to call pdal from third party code, but I am having trouble
> finding anything.  I also looked at https://github.com/PDAL/PDAL/
> tree/master/examples , but I don't see anything as basic as what I need.
>
>
>
> The Python extension is a good example to follow.
>
> https://github.com/PDAL/PDAL/blob/master/pdal/PipelineExecutor.hpp
>
> https://github.com/PDAL/PDAL/blob/master/python/pdal/PyPipeline.cpp
>
>
> Can someone help me find such a page that I can use as a go-by?
>
>
> You have to dig in the code.
>
> He also mentioned one-at-a-time mode, but I also don't see the
> documentation on that.  Is it by some other name at
> https://www.pdal.io/api/index.html ?
>
>
> Let's get bulk read working first before we work through processOne and
> streaming...
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170629/3204643d/attachment.html>

From paul.schrum at gmail.com  Fri Jun 30 13:42:33 2017
From: paul.schrum at gmail.com (Paul Schrum)
Date: Fri, 30 Jun 2017 16:42:33 -0400
Subject: [pdal] [SoC] Week 05: Integration Of PDAL into GRASS GIS
Message-ID: <CAPRzK5ZtDOD-dMKRokROBAGUT9YtDgwsCt55Kw5DAdL_o7ZXQw@mail.gmail.com>

Weekly Report for Paul Schrum for Week 5 (the week ending 6/30/2017)

Project: Integration Of PDAL into GRASS GIS



1. What did you get done this week?



Achieved my goal of getting basic functionality to work.  Specifically, the
code now takes an input file name and an output file name via GRASS
v.in.pdal and uses pdal to create the output file using a pipeline json
string (created in memory only).  At this point I have only tested this on
pdal’s test file, 100-points.las from their github page.  Further, I have
only run the conversion to .txt format.  But it is happening in GRASS code.
 Link to last commit:
https://github.ncsu.edu/ptschrum/v_in_pdal/commit/9f20105628decae639d5e4752235b68dbf86d02b



2. What do you plan on doing next week?



a. I need to develop code and a memory-only pipeline which will consume
points from a .las file one point at a time so I can use them to build a
GRASS Vector Map.  In other words, get a basic, no-frills conversion from
.las to GRASS to work like basic .las to .txt is now working.



b. Resolve the .o linking issue I am having with the added .cpp and .hpp
files (see Blocked, below).



c. Get the process of testing/proving 2a into a unit test.  Vashek has
added a unit testing framework to GRASS under a previous GSoC project.  I
will be developing my tests under his established framework.



d. Add some common options to the GRASS command line option so we can do
more than trivial conversions.



3. Are you blocked on anything?



I have added a new .cpp file and .hpp file for generating pipelines from
GRASS inputs.  They compile, but I can’t get them to link.  I think I will
need help figuring this out.



Repo: https://github.ncsu.edu/ptschrum/v_in_pdal

Wiki:
https://trac.osgeo.org/grass/wiki/GSoC/2017/IntegrationOfPDALintoGRASSGIS
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170630/ee150c7b/attachment.html>

