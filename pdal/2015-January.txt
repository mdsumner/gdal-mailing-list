From mhanson at appliedgeosolutions.com  Wed Jan  7 09:41:58 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Wed, 7 Jan 2015 12:41:58 -0500
Subject: [pdal] PDAL with PCL Installation
Message-ID: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>

Hello all,

I've been having some difficulty installing PDAL with PCL support and I'm
not sure where to go next after my last attempt.

I'm installing on Ubuntu 14.04, using PDAL master.  First I compiled and
install the pipeline branch of PCL, after installing these dependencies:
libeigen3-dev libflann-dev libopenni-dev libvtk5.8-qt4 libqhull-dev qt-sdk
libvtk5-qt4-dev libpcap-dev python-vtk libvtk-java git cmake
libboost-all-dev libgdal0-dev

Then I compiled PDAL with cmake:
cmake -G "Unix Makefiles" ../ -DBUILD_PLUGIN_PCL=ON

The output from cmake and from make all looks ok. However any pdal command
segfaults.  I saw reference to this in a November post:
http://osgeo-org.1560.x6.nabble.com/pdal-segmentation-fault-td5174183.html

However I've not gone down the road of manually compiling boost with c++11,
which perhaps is the next step, although I'd rather not have to.


However, all this has just been too much work so I figured I'd give the
vagrant setup a try.  But when I go to vagrant up I get 'trusty64' not
found and a bad URL.   I updated the URL in my VagrantFile as described in
this issue:

https://github.com/Varying-Vagrant-Vagrants/VVV/issues/354

But the URL is still bad.

I'm looking to use 'pdal ground', as well as 'pdal view'.  Is there a
stable branch or tag I should be using?  Or any other solutions to the
problems above?

Thanks!


Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150107/8573f794/attachment.html>

From brad.chambers at gmail.com  Wed Jan  7 10:01:41 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Wed, 7 Jan 2015 13:01:41 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
Message-ID: <CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>

Matthew,

I'm installing on Ubuntu 14.04, using PDAL master.  First I compiled and
> install the pipeline branch of PCL, after installing these dependencies:
>

The pipeline branch of PCL is no longer needed. Instead, please install PCL
v1.7.2.


> I'm looking to use 'pdal ground', as well as 'pdal view'.  Is there a
> stable branch or tag I should be using?  Or any other solutions to the
> problems above?
>

PCL v1.7.2 - VTK support will be required for `pdal view` to work. PDAL
master should be fine.

Brad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150107/04ee0d9b/attachment.html>

From mhanson at appliedgeosolutions.com  Wed Jan  7 12:18:16 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Wed, 7 Jan 2015 15:18:16 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
Message-ID: <CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>

Thanks Bradley.  Good to know the pipeline branch is no longer needed.    I
went back to the packaged version of pcl (libpcl-all and libpcl-all-dev)
and recompiled PDAL but unfortunately I get the same segfault on any
command.

I'm going to try on a fresh machine.

matt

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Wed, Jan 7, 2015 at 1:01 PM, Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Matthew,
>
> I'm installing on Ubuntu 14.04, using PDAL master.  First I compiled and
>> install the pipeline branch of PCL, after installing these dependencies:
>>
>
> The pipeline branch of PCL is no longer needed. Instead, please install
> PCL v1.7.2.
>
>
>> I'm looking to use 'pdal ground', as well as 'pdal view'.  Is there a
>> stable branch or tag I should be using?  Or any other solutions to the
>> problems above?
>>
>
> PCL v1.7.2 - VTK support will be required for `pdal view` to work. PDAL
> master should be fine.
>
> Brad
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150107/10c77b69/attachment.html>

From andrew.bell.ia at gmail.com  Wed Jan  7 16:02:57 2015
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Wed, 7 Jan 2015 18:02:57 -0600
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
Message-ID: <CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>

On Wed, Jan 7, 2015 at 2:18 PM, Matthew Hanson <
mhanson at appliedgeosolutions.com> wrote:

> Thanks Bradley.  Good to know the pipeline branch is no longer needed.
>  I went back to the packaged version of pcl (libpcl-all and libpcl-all-dev)
> and recompiled PDAL but unfortunately I get the same segfault on any
> command.
>

Are you getting a core file?  It would be helpful if you could provide a
stack trace.  You can run the program in gdb and use the "where" command to
show the stack when the segfault occurs.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150107/551a2571/attachment.html>

From mhanson at appliedgeosolutions.com  Thu Jan  8 09:08:45 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Thu, 8 Jan 2015 12:08:45 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
Message-ID: <CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>

I thought it was strange I was still getting a seg fault, since I had
previously compiled and run without PCL....so turns out it was still using
the pipeline branch includes in /usr/local/include. The package installs to
/usr/include.

So I cleaned it up and recompiled it again, but now it seems I've got a
versioning issue.  Undefined symbol, unmangled becomes:
pcl::PCLBase<pcl::PointXYZ>::setInputCloud(boost::shared_ptr<pcl::PointCloud<pcl::PointXYZ>
const> const&)

although I've verified I've got PCL 1.7.2, and all the libs are in /usr/lib

Is there perhaps a switch I'm missing to cmake?



Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Wed, Jan 7, 2015 at 7:02 PM, Andrew Bell <andrew.bell.ia at gmail.com>
wrote:

> On Wed, Jan 7, 2015 at 2:18 PM, Matthew Hanson <
> mhanson at appliedgeosolutions.com> wrote:
>
>> Thanks Bradley.  Good to know the pipeline branch is no longer needed.
>>  I went back to the packaged version of pcl (libpcl-all and libpcl-all-dev)
>> and recompiled PDAL but unfortunately I get the same segfault on any
>> command.
>>
>
> Are you getting a core file?  It would be helpful if you could provide a
> stack trace.  You can run the program in gdb and use the "where" command to
> show the stack when the segfault occurs.
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150108/b79a92df/attachment.html>

From brad.chambers at gmail.com  Thu Jan  8 11:23:09 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Thu, 8 Jan 2015 14:23:09 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
Message-ID: <CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>

Matthew,


> Is there perhaps a switch I'm missing to cmake?
>

When configuring PDAL with CMake, you should only need to provide PCL_DIR,
which points to the installed location of PCLConfig.cmake and
PCLConfigVersion.cmake, likely something like /usr/share/pcl-1.7.

Have you inspected your CMakeCache.txt (or just use ccmake) to verify that
PCL 1.7 is in fact detected (and not a stale reference to the old pipeline
branch installation).

Brad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150108/84bb6863/attachment.html>

From mhanson at appliedgeosolutions.com  Thu Jan  8 11:27:25 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Thu, 8 Jan 2015 14:27:25 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
Message-ID: <CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>

Yes, I've checked through the cmake output and it does find PCL.    I'll
set the PCL_DIR, I had not done so.   It does seem like what it's missing,
config info about locations of the PCL library.

Thanks!

matt

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Thu, Jan 8, 2015 at 2:23 PM, Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Matthew,
>
>
>> Is there perhaps a switch I'm missing to cmake?
>>
>
> When configuring PDAL with CMake, you should only need to provide PCL_DIR,
> which points to the installed location of PCLConfig.cmake and
> PCLConfigVersion.cmake, likely something like /usr/share/pcl-1.7.
>
> Have you inspected your CMakeCache.txt (or just use ccmake) to verify that
> PCL 1.7 is in fact detected (and not a stale reference to the old pipeline
> branch installation).
>
> Brad
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150108/f55475a4/attachment.html>

From mhanson at appliedgeosolutions.com  Thu Jan  8 13:27:59 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Thu, 8 Jan 2015 16:27:59 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
Message-ID: <CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>

Ok so that didn't work.   I'm back to getting a seg fault.   Ran a stack
trace on it and:

#0  0x00007fb23dd228fc in
boost::math::lanczos::lanczos_initializer<boost::math::lanczos::lanczos17m64,
long double>::init::init() () from /usr/lib/libpcl_features.so.1.7

Is there a boost version requirement?  I've got 1.54 installed.   The docs
on the PCL site only say >=1.46.1

Excluding the mucking around with the PCL pipleline branch I've tried both
binary packages and building PCL myself, on two different machines.  Not
sure what I'm not getting right here, this is a standard Ubuntu 14.04
setup, nothing unusual.




Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Thu, Jan 8, 2015 at 2:27 PM, Matthew Hanson <
mhanson at appliedgeosolutions.com> wrote:

> Yes, I've checked through the cmake output and it does find PCL.    I'll
> set the PCL_DIR, I had not done so.   It does seem like what it's missing,
> config info about locations of the PCL library.
>
> Thanks!
>
> matt
>
> Matthew Hanson
> Applied GeoSolutions
> (603) 659-3363 x91
> http://appliedgeosolutions.com
> mhanson at appliedgeosolutions.com
>
>
> On Thu, Jan 8, 2015 at 2:23 PM, Bradley Chambers <brad.chambers at gmail.com>
> wrote:
>
>> Matthew,
>>
>>
>>> Is there perhaps a switch I'm missing to cmake?
>>>
>>
>> When configuring PDAL with CMake, you should only need to provide
>> PCL_DIR, which points to the installed location of PCLConfig.cmake and
>> PCLConfigVersion.cmake, likely something like /usr/share/pcl-1.7.
>>
>> Have you inspected your CMakeCache.txt (or just use ccmake) to verify
>> that PCL 1.7 is in fact detected (and not a stale reference to the old
>> pipeline branch installation).
>>
>> Brad
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150108/2e2e15c0/attachment.html>

From mhanson at appliedgeosolutions.com  Thu Jan  8 13:30:02 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Thu, 8 Jan 2015 16:30:02 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
	<CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
Message-ID: <CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>

Unless someone has a better idea, I'm going to go ahead and try to compile
boost with c++11 support, as I've just been installing from the Ubuntu repo
and I'm not sure the compile flags used.

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Thu, Jan 8, 2015 at 4:27 PM, Matthew Hanson <
mhanson at appliedgeosolutions.com> wrote:

> Ok so that didn't work.   I'm back to getting a seg fault.   Ran a stack
> trace on it and:
>
> #0  0x00007fb23dd228fc in
> boost::math::lanczos::lanczos_initializer<boost::math::lanczos::lanczos17m64,
> long double>::init::init() () from /usr/lib/libpcl_features.so.1.7
>
> Is there a boost version requirement?  I've got 1.54 installed.   The docs
> on the PCL site only say >=1.46.1
>
> Excluding the mucking around with the PCL pipleline branch I've tried both
> binary packages and building PCL myself, on two different machines.  Not
> sure what I'm not getting right here, this is a standard Ubuntu 14.04
> setup, nothing unusual.
>
>
>
>
> Matthew Hanson
> Applied GeoSolutions
> (603) 659-3363 x91
> http://appliedgeosolutions.com
> mhanson at appliedgeosolutions.com
>
>
> On Thu, Jan 8, 2015 at 2:27 PM, Matthew Hanson <
> mhanson at appliedgeosolutions.com> wrote:
>
>> Yes, I've checked through the cmake output and it does find PCL.    I'll
>> set the PCL_DIR, I had not done so.   It does seem like what it's missing,
>> config info about locations of the PCL library.
>>
>> Thanks!
>>
>> matt
>>
>> Matthew Hanson
>> Applied GeoSolutions
>> (603) 659-3363 x91
>> http://appliedgeosolutions.com
>> mhanson at appliedgeosolutions.com
>>
>>
>> On Thu, Jan 8, 2015 at 2:23 PM, Bradley Chambers <brad.chambers at gmail.com
>> > wrote:
>>
>>> Matthew,
>>>
>>>
>>>> Is there perhaps a switch I'm missing to cmake?
>>>>
>>>
>>> When configuring PDAL with CMake, you should only need to provide
>>> PCL_DIR, which points to the installed location of PCLConfig.cmake and
>>> PCLConfigVersion.cmake, likely something like /usr/share/pcl-1.7.
>>>
>>> Have you inspected your CMakeCache.txt (or just use ccmake) to verify
>>> that PCL 1.7 is in fact detected (and not a stale reference to the old
>>> pipeline branch installation).
>>>
>>> Brad
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150108/3c5815b1/attachment.html>

From andrew.bell.ia at gmail.com  Thu Jan  8 14:14:15 2015
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Thu, 8 Jan 2015 16:14:15 -0600
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
	<CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
	<CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>
Message-ID: <CACJ51z1QHyV=ed7vZ0VoXrB5pX2iVDkHQM6u5jT4Rgjthnc_Ow@mail.gmail.com>

I'm not sure about Brad's experience with this, but I think my note to the
last person who had a problem with this was incorrect.  I don't think boost
needs to be rebuilt.  Instead, I think you need to make sure that PCL is
built with C++11.  The problem comes when PCL is built with C++03 and PDAL
is built with C++11.  The lanczos initializer is in a header, and if it's
built consistently with your libraries, all should be well, I think.

Brad?

On Thu, Jan 8, 2015 at 3:30 PM, Matthew Hanson <
mhanson at appliedgeosolutions.com> wrote:

> Unless someone has a better idea, I'm going to go ahead and try to compile
> boost with c++11 support, as I've just been installing from the Ubuntu repo
> and I'm not sure the compile flags used.
>
> Matthew Hanson
> Applied GeoSolutions
> (603) 659-3363 x91
> http://appliedgeosolutions.com
> mhanson at appliedgeosolutions.com
>
>
> On Thu, Jan 8, 2015 at 4:27 PM, Matthew Hanson <
> mhanson at appliedgeosolutions.com> wrote:
>
>> Ok so that didn't work.   I'm back to getting a seg fault.   Ran a stack
>> trace on it and:
>>
>> #0  0x00007fb23dd228fc in
>> boost::math::lanczos::lanczos_initializer<boost::math::lanczos::lanczos17m64,
>> long double>::init::init() () from /usr/lib/libpcl_features.so.1.7
>>
>> Is there a boost version requirement?  I've got 1.54 installed.   The
>> docs on the PCL site only say >=1.46.1
>>
>> Excluding the mucking around with the PCL pipleline branch I've tried
>> both binary packages and building PCL myself, on two different machines.
>> Not sure what I'm not getting right here, this is a standard Ubuntu 14.04
>> setup, nothing unusual.
>>
>>
>>
>>
>> Matthew Hanson
>> Applied GeoSolutions
>> (603) 659-3363 x91
>> http://appliedgeosolutions.com
>> mhanson at appliedgeosolutions.com
>>
>>
>> On Thu, Jan 8, 2015 at 2:27 PM, Matthew Hanson <
>> mhanson at appliedgeosolutions.com> wrote:
>>
>>> Yes, I've checked through the cmake output and it does find PCL.    I'll
>>> set the PCL_DIR, I had not done so.   It does seem like what it's missing,
>>> config info about locations of the PCL library.
>>>
>>> Thanks!
>>>
>>> matt
>>>
>>> Matthew Hanson
>>> Applied GeoSolutions
>>> (603) 659-3363 x91
>>> http://appliedgeosolutions.com
>>> mhanson at appliedgeosolutions.com
>>>
>>>
>>> On Thu, Jan 8, 2015 at 2:23 PM, Bradley Chambers <
>>> brad.chambers at gmail.com> wrote:
>>>
>>>> Matthew,
>>>>
>>>>
>>>>> Is there perhaps a switch I'm missing to cmake?
>>>>>
>>>>
>>>> When configuring PDAL with CMake, you should only need to provide
>>>> PCL_DIR, which points to the installed location of PCLConfig.cmake and
>>>> PCLConfigVersion.cmake, likely something like /usr/share/pcl-1.7.
>>>>
>>>> Have you inspected your CMakeCache.txt (or just use ccmake) to verify
>>>> that PCL 1.7 is in fact detected (and not a stale reference to the old
>>>> pipeline branch installation).
>>>>
>>>> Brad
>>>>
>>>>
>>>
>>
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150108/45fbdd0a/attachment-0001.html>

From brad.chambers at gmail.com  Thu Jan  8 17:12:23 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Thu, 8 Jan 2015 20:12:23 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CACJ51z1QHyV=ed7vZ0VoXrB5pX2iVDkHQM6u5jT4Rgjthnc_Ow@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
	<CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
	<CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>
	<CACJ51z1QHyV=ed7vZ0VoXrB5pX2iVDkHQM6u5jT4Rgjthnc_Ow@mail.gmail.com>
Message-ID: <CAJyqqPzs=UHs9Us+T4bH7JY01=v-mvURYY3XziGwa5bRRrHzjg@mail.gmail.com>

>
> I'm not sure about Brad's experience with this, but I think my note to the
> last person who had a problem with this was incorrect.  I don't think boost
> needs to be rebuilt.  Instead, I think you need to make sure that PCL is
> built with C++11.  The problem comes when PCL is built with C++03 and PDAL
> is built with C++11.  The lanczos initializer is in a header, and if it's
> built consistently with your libraries, all should be well, I think.
>

In our Vagrant script for PCL, we do add the c++11 flag.

https://github.com/PDAL/PDAL/blob/master/scripts/vagrant/pcl.sh

For that matter, the whole Vagrantfile (and associated scripts) should be a
pretty good template for getting up and running on Ubuntu 14.04.

https://raw.githubusercontent.com/PDAL/PDAL/master/Vagrantfile
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150108/7a199ecb/attachment.html>

From mhanson at appliedgeosolutions.com  Fri Jan  9 10:27:58 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Fri, 9 Jan 2015 13:27:58 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CAJyqqPzs=UHs9Us+T4bH7JY01=v-mvURYY3XziGwa5bRRrHzjg@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
	<CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
	<CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>
	<CACJ51z1QHyV=ed7vZ0VoXrB5pX2iVDkHQM6u5jT4Rgjthnc_Ow@mail.gmail.com>
	<CAJyqqPzs=UHs9Us+T4bH7JY01=v-mvURYY3XziGwa5bRRrHzjg@mail.gmail.com>
Message-ID: <CA+BxjXJk0x__tkeFwWVNVJL20E9zpPKA92N2wvS6-g=qmBouLg@mail.gmail.com>

Thanks, that did it.  It was the c++11 switch to PCL that finally got it
working.

I'm trying to view a file (192MB) and it's awfully slow to do anything.
Any tips to speed up visualization?

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Thu, Jan 8, 2015 at 8:12 PM, Bradley Chambers <brad.chambers at gmail.com>
wrote:

> I'm not sure about Brad's experience with this, but I think my note to the
>> last person who had a problem with this was incorrect.  I don't think boost
>> needs to be rebuilt.  Instead, I think you need to make sure that PCL is
>> built with C++11.  The problem comes when PCL is built with C++03 and PDAL
>> is built with C++11.  The lanczos initializer is in a header, and if it's
>> built consistently with your libraries, all should be well, I think.
>>
>
> In our Vagrant script for PCL, we do add the c++11 flag.
>
> https://github.com/PDAL/PDAL/blob/master/scripts/vagrant/pcl.sh
>
> For that matter, the whole Vagrantfile (and associated scripts) should be
> a pretty good template for getting up and running on Ubuntu 14.04.
>
> https://raw.githubusercontent.com/PDAL/PDAL/master/Vagrantfile
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/777a7b4d/attachment.html>

From brad.chambers at gmail.com  Fri Jan  9 11:15:16 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Fri, 9 Jan 2015 14:15:16 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjXJk0x__tkeFwWVNVJL20E9zpPKA92N2wvS6-g=qmBouLg@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
	<CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
	<CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>
	<CACJ51z1QHyV=ed7vZ0VoXrB5pX2iVDkHQM6u5jT4Rgjthnc_Ow@mail.gmail.com>
	<CAJyqqPzs=UHs9Us+T4bH7JY01=v-mvURYY3XziGwa5bRRrHzjg@mail.gmail.com>
	<CA+BxjXJk0x__tkeFwWVNVJL20E9zpPKA92N2wvS6-g=qmBouLg@mail.gmail.com>
Message-ID: <CAJyqqPxX9AVTfNHr3+gMiDcpO9BH8FyDB0gaodRQ8MUjuZTTvw@mail.gmail.com>

>
> Thanks, that did it.  It was the c++11 switch to PCL that finally got it
> working.
>

Great!


> I'm trying to view a file (192MB) and it's awfully slow to do anything.
> Any tips to speed up visualization?
>

How slow is slow? I've loaded a 134MB file in under 20 seconds on my
laptop. I've loaded a 1GB file in about 2 minutes (this one is pretty
sluggish once loaded).

We aren't really doing anything fancy with the viewer, just leveraging
PCL's visualizer under the hood. We do create a PCL PointCloud with
XYZIRGBA information when converting from PDAL's PointBuffer, regardless of
whether or not this information is available. I suppose if you only have
XYZ data (or only want to visualize the XYZ information), then there may be
some savings in using the PointXYZ point type instead. This is something
we'd have to explore in the code, not something you could switch on the
command line. If you're curious, the place to look is
https://github.com/PDAL/PDAL/blob/master/plugins/pcl/io/PCLVisualizer.cpp#L146
.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/b3a6f916/attachment.html>

From mhanson at appliedgeosolutions.com  Fri Jan  9 11:22:00 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Fri, 9 Jan 2015 14:22:00 -0500
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CAJyqqPxX9AVTfNHr3+gMiDcpO9BH8FyDB0gaodRQ8MUjuZTTvw@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
	<CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
	<CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>
	<CACJ51z1QHyV=ed7vZ0VoXrB5pX2iVDkHQM6u5jT4Rgjthnc_Ow@mail.gmail.com>
	<CAJyqqPzs=UHs9Us+T4bH7JY01=v-mvURYY3XziGwa5bRRrHzjg@mail.gmail.com>
	<CA+BxjXJk0x__tkeFwWVNVJL20E9zpPKA92N2wvS6-g=qmBouLg@mail.gmail.com>
	<CAJyqqPxX9AVTfNHr3+gMiDcpO9BH8FyDB0gaodRQ8MUjuZTTvw@mail.gmail.com>
Message-ID: <CA+BxjX+HXruNkGBYFZs_M9Q1e_=9WS4-14knd31pCu4NHOUjwA@mail.gmail.com>

Slow as in near unresponsive...but that seemed to be due to to a problem
with libGL the remote server (was running over ssh).   I've switched to my
local machine and I could view a 20MB file ok....a 2 GB file crashed my
system after several minutes.    I'll try some additional things to get the
remote server running, it's far beefier.

I've got a couple other questions but will send out with a new email.

Thanks again!

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Fri, Jan 9, 2015 at 2:15 PM, Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Thanks, that did it.  It was the c++11 switch to PCL that finally got it
>> working.
>>
>
> Great!
>
>
>> I'm trying to view a file (192MB) and it's awfully slow to do anything.
>> Any tips to speed up visualization?
>>
>
> How slow is slow? I've loaded a 134MB file in under 20 seconds on my
> laptop. I've loaded a 1GB file in about 2 minutes (this one is pretty
> sluggish once loaded).
>
> We aren't really doing anything fancy with the viewer, just leveraging
> PCL's visualizer under the hood. We do create a PCL PointCloud with
> XYZIRGBA information when converting from PDAL's PointBuffer, regardless of
> whether or not this information is available. I suppose if you only have
> XYZ data (or only want to visualize the XYZ information), then there may be
> some savings in using the PointXYZ point type instead. This is something
> we'd have to explore in the code, not something you could switch on the
> command line. If you're curious, the place to look is
> https://github.com/PDAL/PDAL/blob/master/plugins/pcl/io/PCLVisualizer.cpp#L146
> .
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/0498451b/attachment.html>

From howard at hobu.co  Fri Jan  9 11:23:39 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 9 Jan 2015 13:23:39 -0600
Subject: [pdal] PDAL with PCL Installation
In-Reply-To: <CA+BxjX+HXruNkGBYFZs_M9Q1e_=9WS4-14knd31pCu4NHOUjwA@mail.gmail.com>
References: <CA+BxjXLBOrd6bxOdDDOJf+dLMsR-iHy-qpMiEBQXfvBC+moWew@mail.gmail.com>
	<CAJyqqPwv55vv_YWHSSBjNDnMWOYsLtXV6UoY06U1BTKX_cFFkQ@mail.gmail.com>
	<CA+BxjXKpDT7A7wCg+ekSdWLchBu=jWN0WfAhJiOQ5sKvxCDW4A@mail.gmail.com>
	<CACJ51z1WO+UkXFMmmjZzptdowG7_mr6ROm10RbBLnx_3xHnKxw@mail.gmail.com>
	<CA+BxjX+Cveo_fbzcSJ+6Uo5tC+GBvE32fXuJ4X4pc0idondBKQ@mail.gmail.com>
	<CAJyqqPyX3HBMi+etfs2XzuZuSOf0+Pzx7HJw3ff3EiAkdGD4Bg@mail.gmail.com>
	<CA+BxjX+EH+kERmgS5m97nru0FZVef7752aEsBsX51__eZn=Y8Q@mail.gmail.com>
	<CA+BxjXJkTnvB5VpffDr-o=qNjHp2mzY9U66koH8NxbYE5Kz+0g@mail.gmail.com>
	<CA+BxjXJ=0AXuOr3JSV0dGY7KyauZZrT+tD+uDY7jMqMR9DGESQ@mail.gmail.com>
	<CACJ51z1QHyV=ed7vZ0VoXrB5pX2iVDkHQM6u5jT4Rgjthnc_Ow@mail.gmail.com>
	<CAJyqqPzs=UHs9Us+T4bH7JY01=v-mvURYY3XziGwa5bRRrHzjg@mail.gmail.com>
	<CA+BxjXJk0x__tkeFwWVNVJL20E9zpPKA92N2wvS6-g=qmBouLg@mail.gmail.com>
	<CAJyqqPxX9AVTfNHr3+gMiDcpO9BH8FyDB0gaodRQ8MUjuZTTvw@mail.gmail.com>
	<CA+BxjX+HXruNkGBYFZs_M9Q1e_=9WS4-14knd31pCu4NHOUjwA@mail.gmail.com>
Message-ID: <B2F72389-A5DD-4AEF-8E1F-EF94A0D008C7@hobu.co>

http://plas.io should also be able to handle your 192mb file if it's LAS. If it's LAZ, that's probably too much. On my laptop, plas.io starts to crap out about 12 mil points or so...

Howard

> On Jan 9, 2015, at 1:22 PM, Matthew Hanson <mhanson at appliedgeosolutions.com> wrote:
> 
> Slow as in near unresponsive...but that seemed to be due to to a problem with libGL the remote server (was running over ssh).   I've switched to my local machine and I could view a 20MB file ok....a 2 GB file crashed my system after several minutes.    I'll try some additional things to get the remote server running, it's far beefier.
> 
> I've got a couple other questions but will send out with a new email.
> 
> Thanks again!
> 
> Matthew Hanson
> Applied GeoSolutions
> (603) 659-3363 x91
> http://appliedgeosolutions.com
> mhanson at appliedgeosolutions.com
> 
> 
> On Fri, Jan 9, 2015 at 2:15 PM, Bradley Chambers <brad.chambers at gmail.com> wrote:
> Thanks, that did it.  It was the c++11 switch to PCL that finally got it working.
> 
> Great!
>  
> I'm trying to view a file (192MB) and it's awfully slow to do anything.   Any tips to speed up visualization?
> 
> How slow is slow? I've loaded a 134MB file in under 20 seconds on my laptop. I've loaded a 1GB file in about 2 minutes (this one is pretty sluggish once loaded).
> 
> We aren't really doing anything fancy with the viewer, just leveraging PCL's visualizer under the hood. We do create a PCL PointCloud with XYZIRGBA information when converting from PDAL's PointBuffer, regardless of whether or not this information is available. I suppose if you only have XYZ data (or only want to visualize the XYZ information), then there may be some savings in using the PointXYZ point type instead. This is something we'd have to explore in the code, not something you could switch on the command line. If you're curious, the place to look is https://github.com/PDAL/PDAL/blob/master/plugins/pcl/io/PCLVisualizer.cpp#L146.
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal


From mhanson at appliedgeosolutions.com  Fri Jan  9 11:25:35 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Fri, 9 Jan 2015 14:25:35 -0500
Subject: [pdal] decimation-visualization
Message-ID: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>

Trying to wrap my head around this PCL block for filtering.

As a quick way to visualize a point cloud, how could I run pdal view, but
run it through the decimation filter beforehand.   Can I do that without
writing to a new file?

Looks like that's a built-in feature to plas.io, checking that out now.


Thanks,

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/743bbbca/attachment.html>

From howard at hobu.co  Fri Jan  9 11:30:24 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 9 Jan 2015 13:30:24 -0600
Subject: [pdal] decimation-visualization
In-Reply-To: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
References: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
Message-ID: <95F967D9-C8B7-40A3-81A8-536B0A6194D2@hobu.co>


> On Jan 9, 2015, at 1:25 PM, Matthew Hanson <mhanson at appliedgeosolutions.com> wrote:
> 
> Trying to wrap my head around this PCL block for filtering.   
> 
> As a quick way to visualize a point cloud, how could I run pdal view, but run it through the decimation filter beforehand.   Can I do that without writing to a new file?  
> 
> Looks like that's a built-in feature to plas.io, checking that out now.

Do you want to mainly visualize point clouds? If so, PDAL's probably too spartan a place to be doing that.

Howard

From mhanson at appliedgeosolutions.com  Fri Jan  9 11:31:18 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Fri, 9 Jan 2015 14:31:18 -0500
Subject: [pdal] pdal ground error
Message-ID: <CA+BxjXJDd2NwPxNdEJu+X_RmjVzTaykbDeHwAmLKfyOUopoDGA@mail.gmail.com>

I've got a small 20MB test file, single return.   lasinfo:
#################################################

  Number of Points by Return
---------------------------------------------------------
(1) 1069983

  Number of Returns by Pulse
---------------------------------------------------------
(1) 1069983

  Point Classifications
---------------------------------------------------------
1042754 Created, never classified (0)
27229 Unclassified (1)
  -------------------------------------------------------
  0 withheld
  0 keypoint
  0 synthetic
#################################################

However, when I run pdal ground I get this error:
*****
.test.las: Found invalid value of '0' for point's return number.
test.las: Found invalid value of '0' for point's number of returns.
.............................................test.las: Found invalid value
of '28' for point's return number.
test.las: Found invalid value of '224' for point's number of returns.
Caught PDAL exception: Unable to fetch data and convert as requested:
ScanAngleRank:float(-4.72698e+19) -> signed char
****

>From lasinfo it looks like the return numbers are ok, but as I'm new to
lidar I'm not entirely sure what this means.


Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/09a12a38/attachment.html>

From mhanson at appliedgeosolutions.com  Fri Jan  9 11:34:55 2015
From: mhanson at appliedgeosolutions.com (Matthew Hanson)
Date: Fri, 9 Jan 2015 14:34:55 -0500
Subject: [pdal] decimation-visualization
In-Reply-To: <95F967D9-C8B7-40A3-81A8-536B0A6194D2@hobu.co>
References: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
	<95F967D9-C8B7-40A3-81A8-536B0A6194D2@hobu.co>
Message-ID: <CA+BxjX+N2450FjrheUtzi_4poaCRkYay35+qcn2nZWdvB0SUaw@mail.gmail.com>

 No, the visualization is just an extra.   What we really are doing is
classifying the point clouds and generating DSM, DTM, and CHM output.

For visualization this plas.io is looking pretty sweet, probably all we
need, it will just be used intermittently.

Matthew Hanson
Applied GeoSolutions
(603) 659-3363 x91
http://appliedgeosolutions.com
mhanson at appliedgeosolutions.com


On Fri, Jan 9, 2015 at 2:30 PM, Howard Butler <howard at hobu.co> wrote:

>
> > On Jan 9, 2015, at 1:25 PM, Matthew Hanson <
> mhanson at appliedgeosolutions.com> wrote:
> >
> > Trying to wrap my head around this PCL block for filtering.
> >
> > As a quick way to visualize a point cloud, how could I run pdal view,
> but run it through the decimation filter beforehand.   Can I do that
> without writing to a new file?
> >
> > Looks like that's a built-in feature to plas.io, checking that out now.
>
> Do you want to mainly visualize point clouds? If so, PDAL's probably too
> spartan a place to be doing that.
>
> Howard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/a282208f/attachment.html>

From andrew.bell.ia at gmail.com  Fri Jan  9 11:38:56 2015
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 9 Jan 2015 13:38:56 -0600
Subject: [pdal] pdal ground error
In-Reply-To: <CA+BxjXJDd2NwPxNdEJu+X_RmjVzTaykbDeHwAmLKfyOUopoDGA@mail.gmail.com>
References: <CA+BxjXJDd2NwPxNdEJu+X_RmjVzTaykbDeHwAmLKfyOUopoDGA@mail.gmail.com>
Message-ID: <CACJ51z17Jqq_J0Ke1=NQ=L9su_brLiOOS0c4h1qv+q=neeg4Vw@mail.gmail.com>

On Fri, Jan 9, 2015 at 1:31 PM, Matthew Hanson <
mhanson at appliedgeosolutions.com> wrote:

> I've got a small 20MB test file, single return.   lasinfo:
> #################################################
>
>   Number of Points by Return
> ---------------------------------------------------------
> (1) 1069983
>
>   Number of Returns by Pulse
> ---------------------------------------------------------
> (1) 1069983
>
>   Point Classifications
> ---------------------------------------------------------
> 1042754 Created, never classified (0)
> 27229 Unclassified (1)
>   -------------------------------------------------------
>   0 withheld
>   0 keypoint
>   0 synthetic
> #################################################
>
> However, when I run pdal ground I get this error:
> *****
> .test.las: Found invalid value of '0' for point's return number.
> test.las: Found invalid value of '0' for point's number of returns.
> .............................................test.las: Found invalid value
> of '28' for point's return number.
> test.las: Found invalid value of '224' for point's number of returns.
>

These message indicate invalid values in the data.  They don't meet the LAS
specification, though LAS tools (lasinfo) accepts them.

Caught PDAL exception: Unable to fetch data and convert as requested:
> ScanAngleRank:float(-4.72698e+19) -> signed char
>

I'll look into this.  It's saying that it's trying to convert the scan
angle rank to a char data type, but it doesn't fit.  I'm not sure how the
scan angle rank could have gotten so strange in the first place, regardless
of the input data.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/65523108/attachment.html>

From brad.chambers at gmail.com  Fri Jan  9 13:06:30 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Fri, 9 Jan 2015 16:06:30 -0500
Subject: [pdal] decimation-visualization
In-Reply-To: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
References: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
Message-ID: <CAJyqqPzq-070rNH7_7NG1EAaw+89VRNqu1m2Wgmq7xAZzCtxMg@mail.gmail.com>

Accidentally replied directly to Matthew on this one. Moving the
conversation back to the mailing list...

<mhanson at appliedgeosolutions.com>
>
> As a quick way to visualize a point cloud, how could I run pdal view, but
> run it through the decimation filter beforehand.   Can I do that without
> writing to a new file?
>

You've got a couple of options, and I'll be honest, the one I'm about to
suggest actually appears to be broken at the moment, so I'll be taking a
look at it.

You could use `pdal translate` with the `--visualize` switch, which will
display the result in the viewer. For example:

    $ pdal translate -i /path/to/input/cloud -o /path/to/output/cloud
--d_method VoxelGrid --visualize

The output file is currently required, although we could discuss making
this optional.

You can read about some of the decimation options by typing `pdal translate
--help`. They're at the bottom.

You could also construct a pipeline terminating with the
`writers.pclvisualizer` stage, and call it via `pdal pipeline -i
/path/to/pipeline`.

If you haven't seen this already, it may help.

http://www.pdal.io/tutorial/pcl_ground.html

Much of what it describes will apply to translate/decimation as well (e.g.,
running the filtering kernel directly, invoking the --visualizer to view
results, running as a pipeline/pclblock to fine-tune filtering, etc.).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150109/e349f1e4/attachment.html>

From chris.foster at roames.com.au  Sun Jan 11 16:47:08 2015
From: chris.foster at roames.com.au (Chris Foster)
Date: Mon, 12 Jan 2015 10:47:08 +1000
Subject: [pdal] decimation-visualization
In-Reply-To: <CA+BxjX+N2450FjrheUtzi_4poaCRkYay35+qcn2nZWdvB0SUaw@mail.gmail.com>
References: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
	<95F967D9-C8B7-40A3-81A8-536B0A6194D2@hobu.co>
	<CA+BxjX+N2450FjrheUtzi_4poaCRkYay35+qcn2nZWdvB0SUaw@mail.gmail.com>
Message-ID: <CAPrisyqkokv+58fOqvX2zVAuzVoydKejmdYy8Ncqs6MOM0g3fw@mail.gmail.com>

If you're looking for a flexible debugging tool, you might also be
interested in my pet project:

https://github.com/c42f/displaz

It's got support for .las and .laz, but also has a .ply variant to
visualize arbitrary attributes on the points.  It's desktop rather
than web based (not fully buzzword compliant!), but on the upside it's
fairly good at displaying reasonably large point clouds; a few hundred
million points are not a problem.

I did add initial support for using pdal as a reader backend a while
ago,  but I think both projects have changed so much by now that it's
unlikely to work anymore.  I'd like to update it to make it work
again, I just haven't had time to do so yet.

Cheers,
~Chris

On 10 January 2015 at 05:34, Matthew Hanson
<mhanson at appliedgeosolutions.com> wrote:
>  No, the visualization is just an extra.   What we really are doing is
> classifying the point clouds and generating DSM, DTM, and CHM output.
>
> For visualization this plas.io is looking pretty sweet, probably all we
> need, it will just be used intermittently.
>
> Matthew Hanson
> Applied GeoSolutions
> (603) 659-3363 x91
> http://appliedgeosolutions.com
> mhanson at appliedgeosolutions.com
>
>
> On Fri, Jan 9, 2015 at 2:30 PM, Howard Butler <howard at hobu.co> wrote:
>>
>>
>> > On Jan 9, 2015, at 1:25 PM, Matthew Hanson
>> > <mhanson at appliedgeosolutions.com> wrote:
>> >
>> > Trying to wrap my head around this PCL block for filtering.
>> >
>> > As a quick way to visualize a point cloud, how could I run pdal view,
>> > but run it through the decimation filter beforehand.   Can I do that without
>> > writing to a new file?
>> >
>> > Looks like that's a built-in feature to plas.io, checking that out now.
>>
>> Do you want to mainly visualize point clouds? If so, PDAL's probably too
>> spartan a place to be doing that.
>>
>> Howard
>
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal

From brad.chambers at gmail.com  Sun Jan 11 17:19:49 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Sun, 11 Jan 2015 20:19:49 -0500
Subject: [pdal] decimation-visualization
In-Reply-To: <CAJyqqPzq-070rNH7_7NG1EAaw+89VRNqu1m2Wgmq7xAZzCtxMg@mail.gmail.com>
References: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
	<CAJyqqPzq-070rNH7_7NG1EAaw+89VRNqu1m2Wgmq7xAZzCtxMg@mail.gmail.com>
Message-ID: <CAJyqqPwSZKjfKg57iPbmB+Xr04xt7AyqMNchA2EK-P+rtNhWWA@mail.gmail.com>

Matthew,
This is now fixed in master. Give it a try and let me know how it works.
Brad
On Jan 9, 2015 4:06 PM, "Bradley Chambers" <brad.chambers at gmail.com> wrote:

> Accidentally replied directly to Matthew on this one. Moving the
> conversation back to the mailing list...
>
> <mhanson at appliedgeosolutions.com>
>>
>> As a quick way to visualize a point cloud, how could I run pdal view, but
>> run it through the decimation filter beforehand.   Can I do that without
>> writing to a new file?
>>
>
> You've got a couple of options, and I'll be honest, the one I'm about to
> suggest actually appears to be broken at the moment, so I'll be taking a
> look at it.
>
> You could use `pdal translate` with the `--visualize` switch, which will
> display the result in the viewer. For example:
>
>     $ pdal translate -i /path/to/input/cloud -o /path/to/output/cloud
> --d_method VoxelGrid --visualize
>
> The output file is currently required, although we could discuss making
> this optional.
>
> You can read about some of the decimation options by typing `pdal
> translate --help`. They're at the bottom.
>
> You could also construct a pipeline terminating with the
> `writers.pclvisualizer` stage, and call it via `pdal pipeline -i
> /path/to/pipeline`.
>
> If you haven't seen this already, it may help.
>
> http://www.pdal.io/tutorial/pcl_ground.html
>
> Much of what it describes will apply to translate/decimation as well
> (e.g., running the filtering kernel directly, invoking the --visualizer to
> view results, running as a pipeline/pclblock to fine-tune filtering, etc.).
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150111/4361948a/attachment.html>

From howard at hobu.co  Sun Jan 11 22:11:19 2015
From: howard at hobu.co (Howard Butler)
Date: Mon, 12 Jan 2015 00:11:19 -0600
Subject: [pdal] decimation-visualization
In-Reply-To: <CAPrisyqkokv+58fOqvX2zVAuzVoydKejmdYy8Ncqs6MOM0g3fw@mail.gmail.com>
References: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
	<95F967D9-C8B7-40A3-81A8-536B0A6194D2@hobu.co>
	<CA+BxjX+N2450FjrheUtzi_4poaCRkYay35+qcn2nZWdvB0SUaw@mail.gmail.com>
	<CAPrisyqkokv+58fOqvX2zVAuzVoydKejmdYy8Ncqs6MOM0g3fw@mail.gmail.com>
Message-ID: <3233D233-408B-499F-A86C-83140AA35F9C@hobu.co>


> On Jan 11, 2015, at 6:47 PM, Chris Foster <chris.foster at roames.com.au> wrote:
> 
> If you're looking for a flexible debugging tool, you might also be
> interested in my pet project:
> 
> https://github.com/c42f/displaz
> 
> It's got support for .las and .laz, but also has a .ply variant to
> visualize arbitrary attributes on the points.  It's desktop rather
> than web based (not fully buzzword compliant!), but on the upside it's
> fairly good at displaying reasonably large point clouds; a few hundred
> million points are not a problem.
> 
> I did add initial support for using pdal as a reader backend a while
> ago,  but I think both projects have changed so much by now that it's
> unlikely to work anymore.  I'd like to update it to make it work
> again, I just haven't had time to do so yet.

Chris,

I made a pull request that implements just about everything with the latest PDAL codebase. It should work with any PDAL-readable, not just LAS files. Anything that you can pass into PDAL as a filename (file.las, file.xml, file.sqlite, etc) should be inferred and read. 

I was unable to get things to fully compile on OSX due to some interesting and probably horrible OSX STL bug, but I was able to get past the PDAL parts anyway.

Hope this helps,

Howard

https://github.com/c42f/displaz/pull/34

> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__functional_base:63:21: error:
>       invalid operands to binary expression ('const Imath::Vec3<int>' and 'const Imath::Vec3<int>')
>         {return __x < __y;}




From chris.foster at roames.com.au  Sun Jan 11 23:29:53 2015
From: chris.foster at roames.com.au (Chris Foster)
Date: Mon, 12 Jan 2015 17:29:53 +1000
Subject: [pdal] decimation-visualization
In-Reply-To: <3233D233-408B-499F-A86C-83140AA35F9C@hobu.co>
References: <CA+BxjXJX0GJZaXUm5K4jWzhZoFAkKKqyrpE9vV8S+ywLyy_vGw@mail.gmail.com>
	<95F967D9-C8B7-40A3-81A8-536B0A6194D2@hobu.co>
	<CA+BxjX+N2450FjrheUtzi_4poaCRkYay35+qcn2nZWdvB0SUaw@mail.gmail.com>
	<CAPrisyqkokv+58fOqvX2zVAuzVoydKejmdYy8Ncqs6MOM0g3fw@mail.gmail.com>
	<3233D233-408B-499F-A86C-83140AA35F9C@hobu.co>
Message-ID: <CAPrisyqCcMcHcCa+3inPvP8=wTA=-SNqbbR0Y5HkEaXw0nLgPg@mail.gmail.com>

Wow, that's really great, thanks!

Last time I looked (which might have been a year ago by now) I really
wanted to use pdal as a reader backend, but it was a bit of a heavy
dependency so I stuck with lastools.  It might be time to look again.

Thanks for setting up the abstract reader for any format supported by
pdal.  I think all the necessary bits and pieces to do that weren't
quite available last time I looked into it, though I could be wrong.

About the error, that's quite mysterious - does xcode give nothing
else?  It will be hard to work around if the compiler refuses to say
where in the displaz code triggered the error...

Thanks,
~Chris

On 12 January 2015 at 16:11, Howard Butler <howard at hobu.co> wrote:
>
>> On Jan 11, 2015, at 6:47 PM, Chris Foster <chris.foster at roames.com.au> wrote:
>>
>> If you're looking for a flexible debugging tool, you might also be
>> interested in my pet project:
>>
>> https://github.com/c42f/displaz
>>
>> It's got support for .las and .laz, but also has a .ply variant to
>> visualize arbitrary attributes on the points.  It's desktop rather
>> than web based (not fully buzzword compliant!), but on the upside it's
>> fairly good at displaying reasonably large point clouds; a few hundred
>> million points are not a problem.
>>
>> I did add initial support for using pdal as a reader backend a while
>> ago,  but I think both projects have changed so much by now that it's
>> unlikely to work anymore.  I'd like to update it to make it work
>> again, I just haven't had time to do so yet.
>
> Chris,
>
> I made a pull request that implements just about everything with the latest PDAL codebase. It should work with any PDAL-readable, not just LAS files. Anything that you can pass into PDAL as a filename (file.las, file.xml, file.sqlite, etc) should be inferred and read.
>
> I was unable to get things to fully compile on OSX due to some interesting and probably horrible OSX STL bug, but I was able to get past the PDAL parts anyway.
>
> Hope this helps,
>
> Howard
>
> https://github.com/c42f/displaz/pull/34
>
>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__functional_base:63:21: error:
>>       invalid operands to binary expression ('const Imath::Vec3<int>' and 'const Imath::Vec3<int>')
>>         {return __x < __y;}
>
>
>

From Robert.Brutovski at exelisinc.com  Sat Jan 17 13:06:25 2015
From: Robert.Brutovski at exelisinc.com (Brutovski, Robert - Exelis)
Date: Sat, 17 Jan 2015 21:06:25 +0000
Subject: [pdal] proj4 support
Message-ID: <E9E9AF562B0C32439CFBE298B31F95A427DD3F@USFWA1E14-02.corp.exelisinc.com>

I'm trying to use proj.4 in my PDAL plugin, but I'm having trouble pulling in the proj4 library during link time. I have downloaded proj4.lib and proj_i.lib as part of OSGeo4W64, but when I specify "find_package(PROJ4)" in my CMakeLists.txt file, nothing is found. Any suggestions on the best way to setup CMakeList.txt file in my plugin to pull in that library without hard-coding the physical path?

Rob Brutovski

________________________________

This e-mail and any files transmitted with it may be proprietary and are intended solely for the use of the individual or entity to whom they are addressed. If you have received this e-mail in error please notify the sender. Please note that any views or opinions presented in this e-mail are solely those of the author and do not necessarily represent those of Exelis Inc. The recipient should check this e-mail and any attachments for the presence of viruses. Exelis Inc. accepts no liability for any damage caused by any virus transmitted by this e-mail.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150117/0a3c07a7/attachment.html>

From brad.chambers at gmail.com  Sat Jan 17 19:24:21 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Sat, 17 Jan 2015 22:24:21 -0500
Subject: [pdal] proj4 support
In-Reply-To: <E9E9AF562B0C32439CFBE298B31F95A427DD3F@USFWA1E14-02.corp.exelisinc.com>
References: <E9E9AF562B0C32439CFBE298B31F95A427DD3F@USFWA1E14-02.corp.exelisinc.com>
Message-ID: <CAJyqqPwf_1u3aGJW==4FRvb4xmpapyGee-AOu2pCSwJT7NfyiA@mail.gmail.com>

Haven't used it myself, but this may be a good start.

https://github.com/mloskot/cmake-modules/blob/master/modules/FindPROJ4.cmake

You'd need to update it slightly to be 64-bit osgeo aware and put it on
your cmake module path. Examples of both can be found in the pdal codebase.
On Jan 17, 2015 4:06 PM, "Brutovski, Robert - Exelis" <
Robert.Brutovski at exelisinc.com> wrote:

>  I?m trying to use proj.4 in my PDAL plugin, but I?m having trouble
> pulling in the proj4 library during link time. I have downloaded proj4.lib
> and proj_i.lib as part of OSGeo4W64, but when I specify
> ?find_package(PROJ4)? in my CMakeLists.txt file, nothing is found. Any
> suggestions on the best way to setup CMakeList.txt file in my plugin to
> pull in that library without hard-coding the physical path?
>
>
>
> Rob Brutovski
>
> ------------------------------
>
> This e-mail and any files transmitted with it may be proprietary and are
> intended solely for the use of the individual or entity to whom they are
> addressed. If you have received this e-mail in error please notify the
> sender. Please note that any views or opinions presented in this e-mail are
> solely those of the author and do not necessarily represent those of Exelis
> Inc. The recipient should check this e-mail and any attachments for the
> presence of viruses. Exelis Inc. accepts no liability for any damage caused
> by any virus transmitted by this e-mail.
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150117/87e9f09a/attachment.html>

From howard at hobu.co  Sun Jan 18 06:44:25 2015
From: howard at hobu.co (Howard Butler)
Date: Sun, 18 Jan 2015 08:44:25 -0600
Subject: [pdal] proj4 support
In-Reply-To: <E9E9AF562B0C32439CFBE298B31F95A427DD3F@USFWA1E14-02.corp.exelisinc.com>
References: <E9E9AF562B0C32439CFBE298B31F95A427DD3F@USFWA1E14-02.corp.exelisinc.com>
Message-ID: <0D240FDE-2D5D-4F0B-A74C-65F77AF60262@hobu.co>


> On Jan 17, 2015, at 3:06 PM, Brutovski, Robert - Exelis <Robert.Brutovski at exelisinc.com> wrote:
> 
> I?m trying to use proj.4 in my PDAL plugin, but I?m having trouble pulling in the proj4 library during link time. I have downloaded proj4.lib and my plugin to pull in that library without hard-coding the physical path?

Is there a feature in proj.4 that you're using that isn't exposed via GDAL? PDAL uses GDAL when available to reprojection (with the reprojection filter). GDAL handles the coordinate system description stuff much more completely than proj.4.

Howard


From rdzur at bhinc.com  Tue Jan 20 12:40:30 2015
From: rdzur at bhinc.com (Robert Dzur)
Date: Tue, 20 Jan 2015 20:40:30 +0000
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
Message-ID: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>

Hello.


I've been attempting to get up and running with PDAL via the Vagrant/VirtualBox setup and the install appears to be going smoothing until points2grid at which point I receive an error messages that appears to indicate that the vagrant installation (on Mac OS X 10.10 / Vagrant 1.7.2 / VirtualBox 4.3.20) fails with the following....


==> default: Scanning dependencies of target pts2grd

==> default: [ 16%]

==> default: Building CXX object CMakeFiles/pts2grd.dir/src/GridFile.cpp.o

==> default: In file included from /home/vagrant/points2grid/include/points2grid/GridFile.hpp:49:0,

==> default:                  from /home/vagrant/points2grid/src/GridFile.cpp:48:

==> default: /usr/include/c++/4.8/iostream:38:28: fatal error: bits/c++config.h: No such file or directory

==> default:  #include <bits/c++config.h>

==> default:                             ^

==> default: compilation terminated.

==> default: make[2]: *** [CMakeFiles/pts2grd.dir/src/GridFile.cpp.o] Error 1

==> default: make[1]: *** [CMakeFiles/pts2grd.dir/all] Error 2

==> default: make: *** [all] Error 2

The SSH command responded with a non-zero exit status. Vagrant

assumes that this means the command failed. The output for this command

should be in the log above. Please read the output to determine what

went wrong.


I?m not certain what I might be doing wrong, but any help would be most appreciated.


Thanks,


Rob

--
Robert S. Dzur
Vice President
Spatial Data


Bohannan Huston, Inc.
Courtyard I  7500 Jefferson St. NE
Albuquerque, NM 87109-4335
www.bhinc.com
voice: 505.823.1000 facsimile: 505.798.7932 toll free: 800.877.5332
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150120/f162b9de/attachment.html>

From howard at hobu.co  Tue Jan 20 12:53:26 2015
From: howard at hobu.co (Howard Butler)
Date: Tue, 20 Jan 2015 14:53:26 -0600
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
In-Reply-To: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>
References: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>
Message-ID: <F9673923-451C-416F-B280-9840A766DBCA@hobu.co>


> On Jan 20, 2015, at 2:40 PM, Robert Dzur <rdzur at bhinc.com> wrote:
> 
> I?m not certain what I might be doing wrong, but any help would be most appreciated.

You're doing nothing wrong.

The nice thing about the Vagrant config is that it promises to get you a working installation after waiting around for a while.

The bad thing about the Vagrant config is all of the pieces vibrate at their own development and packaging paces, and the config ends up being a moving target.

I think one or some Ubuntu package on which the Vagrant config uses now requires gcc-multilib and g++-multilib packages, but they didn't before for some reason.

I have added these to the latest PDAL master branch. Please try refreshing again, and let us know if you're still stuck.

> $ vagrant destroy
> $ git pull origin master
> $ vagrant up


Howard


From rdzur at bhinc.com  Tue Jan 20 13:42:00 2015
From: rdzur at bhinc.com (Robert Dzur)
Date: Tue, 20 Jan 2015 21:42:00 +0000
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
In-Reply-To: <F9673923-451C-416F-B280-9840A766DBCA@hobu.co>
References: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>,
	<F9673923-451C-416F-B280-9840A766DBCA@hobu.co>
Message-ID: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E8D@A-BHI-EXCHANGE.BHI.CORP>

Thanks Howard;

Refreshing pushed the pts2grd further to 50% at which point I got some additional error messaging:

==> default: Building CXX object CMakeFiles/pts2grd.dir/src/GridMap.cpp.o
==> default: [ 50%] 
==> default: Building CXX object CMakeFiles/pts2grd.dir/src/InCoreInterp.cpp.o
==> default: /home/vagrant/points2grid/src/InCoreInterp.cpp: In member function ?int InCoreInterp::outputFile(char*, int, unsigned int, double*, const char*)?:
==> default: /home/vagrant/points2grid/src/InCoreInterp.cpp:782:21: warning: name lookup of ?j? changed [enabled by default]
==> default:                  for(j = GRID_SIZE_Y - 1; j >= 0; j--)
==> default:                      ^
==> default: /home/vagrant/points2grid/src/InCoreInterp.cpp:463:11: warning:   matches this ?j? under ISO standard rules [enabled by default]
==> default:      int i,j,k;
==> default:            ^
==> default: /home/vagrant/points2grid/src/InCoreInterp.cpp:777:26: warning:   matches this ?j? under old rules [enabled by default]
==> default:                  for (int j = 0; j < GRID_SIZE_X*GRID_SIZE_Y; j++)
==> default:                           ^
==> default: [ 66%] 

This messaging continues for some time and until the install dies again.

c_ostream<char, std::char_traits<char> >&, char 
==> default: const*, long)'
==> default: OutCoreInterp.cpp:(.text+0x38e9): undefined reference to `std::basic_ostream<char, std::char_traits<char> >& std::__ostream_insert<
==> default: char, std::char_traits<char> >(std::basic_ostream<
==> default: char, std::char_traits<char> >&, char const*, long)'
==> default: /usr/bin/ld: CMakeFiles/pts2grd.dir/src/GridFile.cpp.o: file class ELFCLASS64 incompatible with ELFCLASS32
==> default: /usr/bin/ld: final link failed:
==> default:  File in wrong format
==> default: collect2: error: ld returned 1 exit status
==> default: make[2]: *** [libpts2grd.so] Error 1
==> default: make[1]: *** [CMakeFiles/pts2grd.dir/all] Error 2
==> default: make: *** [all] Error 2
The SSH command responded with a non-zero exit status. Vagrant
assumes that this means the command failed. The output for this command
should be in the log above. Please read the output to determine what
went wrong.

Thanks again for your help with this issue.

Best,

Rob
--


________________________________________
From: Howard Butler [howard at hobu.co]
Sent: Tuesday, January 20, 2015 1:53 PM
To: Robert Dzur
Cc: pdal at lists.osgeo.org
Subject: Re: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid

> On Jan 20, 2015, at 2:40 PM, Robert Dzur <rdzur at bhinc.com> wrote:
>
> I?m not certain what I might be doing wrong, but any help would be most appreciated.

You're doing nothing wrong.

The nice thing about the Vagrant config is that it promises to get you a working installation after waiting around for a while.

The bad thing about the Vagrant config is all of the pieces vibrate at their own development and packaging paces, and the config ends up being a moving target.

I think one or some Ubuntu package on which the Vagrant config uses now requires gcc-multilib and g++-multilib packages, but they didn't before for some reason.

I have added these to the latest PDAL master branch. Please try refreshing again, and let us know if you're still stuck.

> $ vagrant destroy
> $ git pull origin master
> $ vagrant up


Howard

From howard at hobu.co  Tue Jan 20 13:44:09 2015
From: howard at hobu.co (Howard Butler)
Date: Tue, 20 Jan 2015 15:44:09 -0600
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
In-Reply-To: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E8D@A-BHI-EXCHANGE.BHI.CORP>
References: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>
	<, <F9673923-451C-416F-B280-9840A766DBCA@hobu.co> <>>
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69E8D@A-BHI-EXCHANGE.BHI.CORP>
Message-ID: <EF0C464C-5A29-4789-B507-55AB6EF7EC6E@hobu.co>


> On Jan 20, 2015, at 3:42 PM, Robert Dzur <rdzur at bhinc.com> wrote:
> 
> ==> default: /usr/bin/ld: CMakeFiles/pts2grd.dir/src/GridFile.cpp.o: file class ELFCLASS64 incompatible with ELFCLASS32

That's weird. For some reason you're building/mixing 32-bit mode code. This must be the root of your issues.

I think the Vagrant config has only ever been tested/used on 64bit. Are you by chance running 32bit Vagrant/Virtualbox? Or did Vagrant somehow use the 32bit Ubuntu box?

Howard

From rdzur at bhinc.com  Tue Jan 20 13:57:08 2015
From: rdzur at bhinc.com (Robert Dzur)
Date: Tue, 20 Jan 2015 21:57:08 +0000
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
In-Reply-To: <EF0C464C-5A29-4789-B507-55AB6EF7EC6E@hobu.co>
References: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>
	<,<F9673923-451C-416F-B280-9840A766DBCA@hobu.co> <>>
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69E8D@A-BHI-EXCHANGE.BHI.CORP>,
	<EF0C464C-5A29-4789-B507-55AB6EF7EC6E@hobu.co>
Message-ID: <F1D1122E86F89E459B7DA37D2C40BBE80102D69EAE@A-BHI-EXCHANGE.BHI.CORP>

I see that you're right...the pdal-vagrant box on my VM VirtualBox says Ubuntu (32 bit); I understand that I don't want to be on 32.  Do I need to reinstall Vagrant/Virtualbox?  Or somehow restore my system to original state so that Vagrant pulls the correct 64 bit box?

Thanks,

Rob
--

________________________________________
From: Howard Butler [howard at hobu.co]
Sent: Tuesday, January 20, 2015 2:44 PM
To: Robert Dzur
Cc: pdal at lists.osgeo.org
Subject: Re: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid

> On Jan 20, 2015, at 3:42 PM, Robert Dzur <rdzur at bhinc.com> wrote:
>
> ==> default: /usr/bin/ld: CMakeFiles/pts2grd.dir/src/GridFile.cpp.o: file class ELFCLASS64 incompatible with ELFCLASS32

That's weird. For some reason you're building/mixing 32-bit mode code. This must be the root of your issues.

I think the Vagrant config has only ever been tested/used on 64bit. Are you by chance running 32bit Vagrant/Virtualbox? Or did Vagrant somehow use the 32bit Ubuntu box?

Howard

From rdzur at bhinc.com  Tue Jan 20 15:30:58 2015
From: rdzur at bhinc.com (Robert Dzur)
Date: Tue, 20 Jan 2015 23:30:58 +0000
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
In-Reply-To: <F1D1122E86F89E459B7DA37D2C40BBE80102D69EAE@A-BHI-EXCHANGE.BHI.CORP>
References: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>
	<,<F9673923-451C-416F-B280-9840A766DBCA@hobu.co> <>>
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69E8D@A-BHI-EXCHANGE.BHI.CORP>,
	<EF0C464C-5A29-4789-B507-55AB6EF7EC6E@hobu.co>,
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69EAE@A-BHI-EXCHANGE.BHI.CORP>
Message-ID: <F1D1122E86F89E459B7DA37D2C40BBE80102D69EEE@A-BHI-EXCHANGE.BHI.CORP>

Hi Howard,

I moved to another Mac where this time I was able to get vagrant to load  a 64 bit box and this time things advanced much further along to the point of appearing to even load the st helens data at which point it appears to fail reading points?

==> default: Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|23.235.44.133|:443... 
==> default: connected.
==> default: HTTP request sent, awaiting response... 
==> default: 200 OK
==> default: Length: 
==> default: 644 [text/plain]
==> default: Saving to: 'readpgpointcloud.xml'
==> default: 
==> default:      0K                                                       100% 4.12M=0s
==> default: 2015-01-20 22:57:33 (4.12 MB/s) - 'readpgpointcloud.xml' saved [644/644]
==> default: /home/vagrant/pointcloud/st-helens-small.las: Found invalid value of '0' for point's return number.
==> default: /home/vagrant/pointcloud/st-helens-small.las: Found invalid value of '0' for point's number of returns.
==> default: Caught PDAL exception: Options::getOption: Required option 'table' was not found on this stage
The SSH command responded with a non-zero exit status. Vagrant
assumes that this means the command failed. The output for this command
should be in the log above. Please read the output to determine what
went wrong.

Thanks again for any advice.

Best regards,

Rob
--


From howard at hobu.co  Wed Jan 21 08:50:53 2015
From: howard at hobu.co (Howard Butler)
Date: Wed, 21 Jan 2015 10:50:53 -0600
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
In-Reply-To: <F1D1122E86F89E459B7DA37D2C40BBE80102D69EEE@A-BHI-EXCHANGE.BHI.CORP>
References: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>
	<, <F9673923-451C-416F-B280-9840A766DBCA@hobu.co> <>>
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69E8D@A-BHI-EXCHANGE.BHI.CORP>
	<, > <EF0C464C-5A29-4789-B507-55AB6EF7EC6E@hobu.co> <,
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69EAE@A-BHI-EXCHANGE.BHI.CORP>
	<>>
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69EEE@A-BHI-EXCHANGE.BHI.CORP>
Message-ID: <7C51E0BD-1EB7-4717-9B4A-786CFDC2F464@hobu.co>


> On Jan 20, 2015, at 5:30 PM, Robert Dzur <rdzur at bhinc.com> wrote:
> 
> Hi Howard,
> 
> I moved to another Mac where this time I was able to get vagrant to load  a 64 bit box

Curious that we've never seen Vagrant fall over that way before...

> and this time things advanced much further along to the point of appearing to even load the st helens data at which point it appears to fail reading points?
> 
> ==> default: Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|23.235.44.133|:443... 
> ==> default: connected.
> ==> default: HTTP request sent, awaiting response... 
> ==> default: 200 OK
> ==> default: Length: 
> ==> default: 644 [text/plain]
> ==> default: Saving to: 'readpgpointcloud.xml'
> ==> default: 
> ==> default:      0K                                                       100% 4.12M=0s
> ==> default: 2015-01-20 22:57:33 (4.12 MB/s) - 'readpgpointcloud.xml' saved [644/644]
> ==> default: /home/vagrant/pointcloud/st-helens-small.las: Found invalid value of '0' for point's return number.
> ==> default: /home/vagrant/pointcloud/st-helens-small.las: Found invalid value of '0' for point's number of returns.
> ==> default: Caught PDAL exception: Options::getOption: Required option 'table' was not found on this stage

Actually this is a current bug in PDAL https://github.com/PDAL/PDAL/issues/696 where `pdal info myfile.xml` doesn't quite work.

In short, everything loaded up just fine into pgpointcloud and you should be able to do stuff with it now. `pdal pipeline readpgpointcloud.xml` should net you an LAS file now.

Howard

From rdzur at bhinc.com  Wed Jan 21 10:04:03 2015
From: rdzur at bhinc.com (Robert Dzur)
Date: Wed, 21 Jan 2015 18:04:03 +0000
Subject: [pdal] PDAL Vagrant/VirtualBox Install Failed at points2grid
In-Reply-To: <7C51E0BD-1EB7-4717-9B4A-786CFDC2F464@hobu.co>
References: <F1D1122E86F89E459B7DA37D2C40BBE80102D69E58@A-BHI-EXCHANGE.BHI.CORP>
	<,<F9673923-451C-416F-B280-9840A766DBCA@hobu.co> <>>
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69E8D@A-BHI-EXCHANGE.BHI.CORP> <,
	> <EF0C464C-5A29-4789-B507-55AB6EF7EC6E@hobu.co> <,
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69EAE@A-BHI-EXCHANGE.BHI.CORP>
	<>>
	<F1D1122E86F89E459B7DA37D2C40BBE80102D69EEE@A-BHI-EXCHANGE.BHI.CORP>
	<7C51E0BD-1EB7-4717-9B4A-786CFDC2F464@hobu.co>
Message-ID: <F1D1122E86F89E459B7DA37D2C40BBE80102D69FCD@A-BHI-EXCHANGE.BHI.CORP>

Thanks Howard,

It does seem to install and allow me to do some things now; however, it also seems to be confused about the point returns for some reason.  So when I ran the following command:

>In short, everything loaded up just fine into pgpointcloud and you should be able to do stuff with it >now. `pdal pipeline readpgpointcloud.xml` should net you an LAS file now.

$ pdal pipeline readpgpointcloud.xml
I received the following error message:

/home/vagrant/pointcloud/st-helens-small-out.las: Found invalid value of '0' for point's number of returns.

Similarly I tested the ProgressiveMorphologicalFilterAdvancedExample against the st-helens las file again with some similar point return confusion it appears.

vagrant at pdal-vagrant:~/pointcloud$ pdal pipeline -i filter.xml
/home/vagrant/pointcloud/st-helens-small.las: Found invalid value of '0' for point's return number.
/home/vagrant/pointcloud/st-helens-small.las: Found invalid value of '0' for point's number of returns.
/home/vagrant/pointcloud/output.las: Found invalid value of '6' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '7' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '8' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '9' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '10' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '11' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '12' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '13' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '14' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '15' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '128' for point's return number.
/home/vagrant/pointcloud/output.las: Found invalid value of '63' for point's number of returns.
Caught PDAL exception: Unable to fetch data and convert as requested: ScanAngleRank:float(2107.93) -> signed char
 
I also tried to apply the same xml on another las file with similar results.

Thanks again for your input.

Rob
--


