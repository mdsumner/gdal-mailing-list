From lucadeluge at gmail.com  Wed Jun  3 06:58:42 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Wed, 3 Jun 2015 15:58:42 +0200
Subject: [pdal] filter on return value
Message-ID: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>

Hi devs,

I would like to filter my input las files according the return value
(first, last ecc).

Is there anything simple like

las2las --input in.las --output out.las --last-return-only

I should use the filter with pdal pipeline but I don't understand
which filter I have to use...

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From connor at hobu.co  Wed Jun  3 07:49:14 2015
From: connor at hobu.co (Connor Manning)
Date: Wed, 3 Jun 2015 09:49:14 -0500
Subject: [pdal] filter on return value
In-Reply-To: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
Message-ID: <CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>

How about the predicate filter:
http://www.pdal.io/stages/filters.predicate.html

On Wed, Jun 3, 2015 at 8:58 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:

> Hi devs,
>
> I would like to filter my input las files according the return value
> (first, last ecc).
>
> Is there anything simple like
>
> las2las --input in.las --output out.las --last-return-only
>
> I should use the filter with pdal pipeline but I don't understand
> which filter I have to use...
>
> --
> ciao
> Luca
>
> http://gis.cri.fmach.it/delucchi/
> www.lucadelu.org
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150603/c4725330/attachment.html>

From howard at hobu.co  Wed Jun  3 08:08:37 2015
From: howard at hobu.co (Howard Butler)
Date: Wed, 3 Jun 2015 10:08:37 -0500
Subject: [pdal] filter on return value
In-Reply-To: <CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
Message-ID: <E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>

Yes, the only want to do that in PDAL land is the predicate filter. Definitely not as convenient, but it it is much more powerful.

> On Jun 3, 2015, at 9:49 AM, Connor Manning <connor at hobu.co> wrote:
> 
> How about the predicate filter: http://www.pdal.io/stages/filters.predicate.html
> 
> On Wed, Jun 3, 2015 at 8:58 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> Hi devs,
> 
> I would like to filter my input las files according the return value
> (first, last ecc).
> 
> Is there anything simple like
> 
> las2las --input in.las --output out.las --last-return-only
> 
> I should use the filter with pdal pipeline but I don't understand
> which filter I have to use...
> 
> --
> ciao
> Luca
> 
> http://gis.cri.fmach.it/delucchi/
> www.lucadelu.org
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal


From lucadeluge at gmail.com  Wed Jun  3 13:28:24 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Wed, 3 Jun 2015 22:28:24 +0200
Subject: [pdal] filter on return value
In-Reply-To: <E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>
Message-ID: <CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>

On 3 June 2015 at 17:08, Howard Butler <howard at hobu.co> wrote:
> Yes, the only want to do that in PDAL land is the predicate filter. Definitely not as convenient, but it it is much more powerful.
>

yes it is, but now I have a some question about it:

- is there any documentations about the use of Python in/with PDAL?
- could I use someway pdb inside the python function
- how can I know the keys used by "ins"
- could I pass some parameters to the function (I saw other functions
and the usually use only ins and outs)

thanks a lot


-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From lucadeluge at gmail.com  Thu Jun  4 03:26:29 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu, 4 Jun 2015 12:26:29 +0200
Subject: [pdal] filter on return value
In-Reply-To: <CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>
	<CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>
Message-ID: <CAK4m-3zZADcnpYua+zi43V_ddnicat3hEcKiVL0dhMsCjr3dxQ@mail.gmail.com>

On 3 June 2015 at 22:28, Luca Delucchi <lucadeluge at gmail.com> wrote:
>
> yes it is, but now I have a some question about it:
>
> - is there any documentations about the use of Python in/with PDAL?
> - could I use someway pdb inside the python function
> - how can I know the keys used by "ins"
> - could I pass some parameters to the function (I saw other functions
> and the usually use only ins and outs)
>

last question, I have to use more than one filter, for example
filtering on return number and classification, is it better to put the
filter in the python code or use two different filter in the xml file?

> thanks a lot
>


-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From lucadeluge at gmail.com  Thu Jun  4 03:40:13 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu, 4 Jun 2015 12:40:13 +0200
Subject: [pdal] filter on return value
In-Reply-To: <CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
Message-ID: <CAK4m-3wWS4CMNbW0unKsYQ8jyP_JOBaNCUO2XcABajzyt3KPsA@mail.gmail.com>

On 3 June 2015 at 16:49, Connor Manning <connor at hobu.co> wrote:
> How about the predicate filter:
> http://www.pdal.io/stages/filters.predicate.html
>

Could filter.range be used also for this scope?

http://www.pdal.io/stages/filters.range.html

maybe it should be enough replace "Classification" with "ReturnNumber"


-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From brad.chambers at gmail.com  Thu Jun  4 05:49:13 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Thu, 04 Jun 2015 12:49:13 +0000
Subject: [pdal] filter on return value
In-Reply-To: <CAK4m-3wWS4CMNbW0unKsYQ8jyP_JOBaNCUO2XcABajzyt3KPsA@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<CAK4m-3wWS4CMNbW0unKsYQ8jyP_JOBaNCUO2XcABajzyt3KPsA@mail.gmail.com>
Message-ID: <CAJyqqPwpRaknaOsT6YiBMQerM3a=KfrdbA1Ce_mqWikv+9UetQ@mail.gmail.com>

Luca,

I've never tried the Range filter with Return Number, but I think it should
work. It will definitely work with multiple dimensions.

Brad

On Thu, Jun 4, 2015 at 6:40 AM Luca Delucchi <lucadeluge at gmail.com> wrote:

> On 3 June 2015 at 16:49, Connor Manning <connor at hobu.co> wrote:
> > How about the predicate filter:
> > http://www.pdal.io/stages/filters.predicate.html
> >
>
> Could filter.range be used also for this scope?
>
> http://www.pdal.io/stages/filters.range.html
>
> maybe it should be enough replace "Classification" with "ReturnNumber"
>
>
> --
> ciao
> Luca
>
> http://gis.cri.fmach.it/delucchi/
> www.lucadelu.org
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150604/c7a0629a/attachment.html>

From howard at hobu.co  Thu Jun  4 06:11:05 2015
From: howard at hobu.co (Howard Butler)
Date: Thu, 4 Jun 2015 08:11:05 -0500
Subject: [pdal] filter on return value
In-Reply-To: <CAJyqqPwpRaknaOsT6YiBMQerM3a=KfrdbA1Ce_mqWikv+9UetQ@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<CAK4m-3wWS4CMNbW0unKsYQ8jyP_JOBaNCUO2XcABajzyt3KPsA@mail.gmail.com>
	<CAJyqqPwpRaknaOsT6YiBMQerM3a=KfrdbA1Ce_mqWikv+9UetQ@mail.gmail.com>
Message-ID: <C05ADA41-740A-48DB-ACA3-E370B1AA960C@hobu.co>

Luca,

Yes these two are somewhat overlapping in functionality, but the predicate filter is much more powerful in exchange for being a bit slower and definitely more complex.  The intention is that filters.range is for when you can do simple attribute-based filters, and predicate/programmable are for when you want to do something with complex logic without having to write an entire filter in C++ to do it. 

The problem with  --last-return-only is that it is a complex expression that means, ?keep points where ReturnNumber==NumberOfReturns?. You can?t do that in a single filters.range invocation. You instead would have to make a filters.range for each last return combination, and then filters.merge them altogether afterward.

See https://github.com/PDAL/PDAL/blob/master/test/data/plang/predicate-keep-last-return.xml.in for an example of how to use the predicate filter to keep last returns.

Hope this helps,

Howard

> On Jun 4, 2015, at 7:49 AM, Bradley Chambers <brad.chambers at gmail.com> wrote:
> 
> Luca,
> 
> I've never tried the Range filter with Return Number, but I think it should work. It will definitely work with multiple dimensions.
> 
> Brad
> 
> On Thu, Jun 4, 2015 at 6:40 AM Luca Delucchi <lucadeluge at gmail.com> wrote:
> On 3 June 2015 at 16:49, Connor Manning <connor at hobu.co> wrote:
> > How about the predicate filter:
> > http://www.pdal.io/stages/filters.predicate.html
> >
> 
> Could filter.range be used also for this scope?
> 
> http://www.pdal.io/stages/filters.range.html
> 
> maybe it should be enough replace "Classification" with "ReturnNumber"
> 
> 
> --
> ciao
> Luca
> 
> http://gis.cri.fmach.it/delucchi/
> www.lucadelu.org
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal


From howard at hobu.co  Thu Jun  4 06:27:19 2015
From: howard at hobu.co (Howard Butler)
Date: Thu, 4 Jun 2015 08:27:19 -0500
Subject: [pdal] filter on return value
In-Reply-To: <CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>
	<CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>
Message-ID: <D616E918-DFD0-4587-B536-B02535F985F5@hobu.co>


> On Jun 3, 2015, at 3:28 PM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> 
> - is there any documentations about the use of Python in/with PDAL?

The tests at https://github.com/PDAL/PDAL/tree/master/test/data/plang are probably the most documentation that exist at this point, unfortunately

> - could I use someway pdb inside the python function

PDB should Just Work if you are running from `pdal pipeline` in a terminal

> - how can I know the keys used by ?ins"

There?s ?ins? and ?outs? dicts that contain numpy arrays that correspond to the data in the PointView at the time the predicate/programmable filter?s filter() method is invoked. Simply print (ins.keys()) to have it list what is available. Alternatively, if you are running with a pipeline or something, you can do `pdal info --schema thefile.las` to see what keys might be available to add to your filter.

> - could I pass some parameters to the function (I saw other functions
> and the usually use only ins and outs)

Can you describe what you might want to do here in more detail?

Howard


From lucadeluge at gmail.com  Thu Jun  4 06:36:00 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu, 4 Jun 2015 15:36:00 +0200
Subject: [pdal] filter on return value
In-Reply-To: <C05ADA41-740A-48DB-ACA3-E370B1AA960C@hobu.co>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<CAK4m-3wWS4CMNbW0unKsYQ8jyP_JOBaNCUO2XcABajzyt3KPsA@mail.gmail.com>
	<CAJyqqPwpRaknaOsT6YiBMQerM3a=KfrdbA1Ce_mqWikv+9UetQ@mail.gmail.com>
	<C05ADA41-740A-48DB-ACA3-E370B1AA960C@hobu.co>
Message-ID: <CAK4m-3wnKN0YPpcnT64yMxrgu_wEpeWAOXK2yMe3f8MOptP9VA@mail.gmail.com>

On 4 June 2015 at 15:11, Howard Butler <howard at hobu.co> wrote:
> Luca,
>

Hi Howard,

> Yes these two are somewhat overlapping in functionality, but the predicate filter is much more powerful in exchange for being a bit slower and definitely more complex.  The intention is that filters.range is for when you can do simple attribute-based filters, and predicate/programmable are for when you want to do something with complex logic without having to write an entire filter in C++ to do it.
>
> The problem with  --last-return-only is that it is a complex expression that means, ?keep points where ReturnNumber==NumberOfReturns?. You can?t do that in a single filters.range invocation. You instead would have to make a filters.range for each last return combination, and then filters.merge them altogether afterward.
>
> See https://github.com/PDAL/PDAL/blob/master/test/data/plang/predicate-keep-last-return.xml.in for an example of how to use the predicate filter to keep last returns.
>
> Hope this helps,
>

yes sure, it was really useful.
Can I mix filters.predicate and filters.range right?

> Howard
>


-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From lucadeluge at gmail.com  Thu Jun  4 06:39:15 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu, 4 Jun 2015 15:39:15 +0200
Subject: [pdal] filter on return value
In-Reply-To: <D616E918-DFD0-4587-B536-B02535F985F5@hobu.co>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>
	<CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>
	<D616E918-DFD0-4587-B536-B02535F985F5@hobu.co>
Message-ID: <CAK4m-3zRdmcxwLnm_G33SjhdZU8jtsj8K7eL3kq1iA0Q2RDktg@mail.gmail.com>

On 4 June 2015 at 15:27, Howard Butler <howard at hobu.co> wrote:
>
>> On Jun 3, 2015, at 3:28 PM, Luca Delucchi <lucadeluge at gmail.com> wrote:
>>
>> - is there any documentations about the use of Python in/with PDAL?
>
> The tests at https://github.com/PDAL/PDAL/tree/master/test/data/plang are probably the most documentation that exist at this point, unfortunately
>

Probably I could prepare some docs about it when I'll understand better it

>
>> - could I pass some parameters to the function (I saw other functions
>> and the usually use only ins and outs)
>
> Can you describe what you might want to do here in more detail?
>

using this [0] as example I would like to pass the keep_classes
variable instead to have it fixed in the script

[0] https://github.com/PDAL/PDAL/blob/master/test/data/plang/predicate-keep-ground-and-unclass.xml.in

> Howard
>

Thanks

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From howard at hobu.co  Thu Jun  4 06:48:16 2015
From: howard at hobu.co (Howard Butler)
Date: Thu, 4 Jun 2015 08:48:16 -0500
Subject: [pdal] filter on return value
In-Reply-To: <CAK4m-3zRdmcxwLnm_G33SjhdZU8jtsj8K7eL3kq1iA0Q2RDktg@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>
	<CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>
	<D616E918-DFD0-4587-B536-B02535F985F5@hobu.co>
	<CAK4m-3zRdmcxwLnm_G33SjhdZU8jtsj8K7eL3kq1iA0Q2RDktg@mail.gmail.com>
Message-ID: <68AC78B5-A4E2-4D88-8C32-7D8A0C06E628@hobu.co>


> On Jun 4, 2015, at 8:39 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> 
> using this [0] as example I would like to pass the keep_classes
> variable instead to have it fixed in the script
> 
> [0] https://github.com/PDAL/PDAL/blob/master/test/data/plang/predicate-keep-ground-and-unclass.xml.in

Ticket filed.

https://github.com/PDAL/PDAL/issues/931

From howard at hobu.co  Thu Jun  4 06:48:49 2015
From: howard at hobu.co (Howard Butler)
Date: Thu, 4 Jun 2015 08:48:49 -0500
Subject: [pdal] filter on return value
In-Reply-To: <CAK4m-3wnKN0YPpcnT64yMxrgu_wEpeWAOXK2yMe3f8MOptP9VA@mail.gmail.com>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<CAK4m-3wWS4CMNbW0unKsYQ8jyP_JOBaNCUO2XcABajzyt3KPsA@mail.gmail.com>
	<CAJyqqPwpRaknaOsT6YiBMQerM3a=KfrdbA1Ce_mqWikv+9UetQ@mail.gmail.com>
	<C05ADA41-740A-48DB-ACA3-E370B1AA960C@hobu.co>
	<CAK4m-3wnKN0YPpcnT64yMxrgu_wEpeWAOXK2yMe3f8MOptP9VA@mail.gmail.com>
Message-ID: <CDB1E826-0C4A-4EF3-92C8-EB9B5C9EC8CB@hobu.co>


> On Jun 4, 2015, at 8:36 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> 
> Can I mix filters.predicate and filters.range right?

Yes, this should work. Please let us know if it doesn?t for some reason.

Howard


From lucadeluge at gmail.com  Thu Jun  4 06:49:52 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu, 4 Jun 2015 15:49:52 +0200
Subject: [pdal] filter on return value
In-Reply-To: <68AC78B5-A4E2-4D88-8C32-7D8A0C06E628@hobu.co>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<E1DE20FC-41BB-4BFA-995B-EEC4C38ECFBD@hobu.co>
	<CAK4m-3x1=zbjXc8jKt7gYO0Z0-1TV0b8tAs_+WS-csTCj71gcQ@mail.gmail.com>
	<D616E918-DFD0-4587-B536-B02535F985F5@hobu.co>
	<CAK4m-3zRdmcxwLnm_G33SjhdZU8jtsj8K7eL3kq1iA0Q2RDktg@mail.gmail.com>
	<68AC78B5-A4E2-4D88-8C32-7D8A0C06E628@hobu.co>
Message-ID: <CAK4m-3xjGjrUKqiSNGEmuOO_Z1RzPxUGB1831fEY0Z=NFRABQQ@mail.gmail.com>

On 4 June 2015 at 15:48, Howard Butler <howard at hobu.co> wrote:
>
>> On Jun 4, 2015, at 8:39 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
>>
>> using this [0] as example I would like to pass the keep_classes
>> variable instead to have it fixed in the script
>>
>> [0] https://github.com/PDAL/PDAL/blob/master/test/data/plang/predicate-keep-ground-and-unclass.xml.in
>
> Ticket filed.
>
> https://github.com/PDAL/PDAL/issues/931

Thanks

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From lucadeluge at gmail.com  Thu Jun  4 06:50:11 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu, 4 Jun 2015 15:50:11 +0200
Subject: [pdal] filter on return value
In-Reply-To: <CDB1E826-0C4A-4EF3-92C8-EB9B5C9EC8CB@hobu.co>
References: <CAK4m-3y4cHYaJSyBoTCak5_YTKAE8vt9cT5RKbhACiVrUbycGw@mail.gmail.com>
	<CAO=FyjJBQs1y1K_2P1mS7ju7pDZ18FCf+v_P3fQZxsQq-cggnw@mail.gmail.com>
	<CAK4m-3wWS4CMNbW0unKsYQ8jyP_JOBaNCUO2XcABajzyt3KPsA@mail.gmail.com>
	<CAJyqqPwpRaknaOsT6YiBMQerM3a=KfrdbA1Ce_mqWikv+9UetQ@mail.gmail.com>
	<C05ADA41-740A-48DB-ACA3-E370B1AA960C@hobu.co>
	<CAK4m-3wnKN0YPpcnT64yMxrgu_wEpeWAOXK2yMe3f8MOptP9VA@mail.gmail.com>
	<CDB1E826-0C4A-4EF3-92C8-EB9B5C9EC8CB@hobu.co>
Message-ID: <CAK4m-3zibgfhSDg79P-pZ2zh=__nzn-VkzRNu2K3Renbo8=KOQ@mail.gmail.com>

On 4 June 2015 at 15:48, Howard Butler <howard at hobu.co> wrote:
>
>> On Jun 4, 2015, at 8:36 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
>>
>> Can I mix filters.predicate and filters.range right?
>
> Yes, this should work. Please let us know if it doesn?t for some reason.
>

Ok, I'll let you know..

> Howard
>


-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From matt.a.hanson at gmail.com  Thu Jun  4 13:13:48 2015
From: matt.a.hanson at gmail.com (Matt Hanson)
Date: Thu, 4 Jun 2015 16:13:48 -0400
Subject: [pdal] GEOS support
Message-ID: <CAGYeuZmF_sP1p9BX8rnYASxMe+JmwU+bw=_wQ7GfSD+2FdrXOA@mail.gmail.com>

Hello,

I wanted to crop a point cloud with a polygon.    cmake on PDAL (current
master) reports GEOS under "OPTIONAL packages have been found", however
when I try to crop a polygon in my xml file it says:

PDAL: Polygon cropping not supported unless built with GEOS

Do I need to explicitly tell PDAL to build with GEOS support?

Thanks!

matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150604/8abe7063/attachment.html>

From matt.a.hanson at gmail.com  Thu Jun  4 18:27:17 2015
From: matt.a.hanson at gmail.com (Matt Hanson)
Date: Thu, 4 Jun 2015 21:27:17 -0400
Subject: [pdal] lidar2dems released
Message-ID: <CAGYeuZ=Z013bMTuWG_=tDnLDL37fpaqS=X9jPLTydnZUxys=mg@mail.gmail.com>

Hello PDAL list members,

You may remember I've been working on creating DEMs from LiDAR data and
have posted various questions to the list over the past few months.

I'm happy to say that as a result of the work we've done (processing of
about 3 TB of LiDAR data into DEMs), we have an collection of utilities we
have released as open source.

lidar2dems uses PDAL (and PCL) in some command line utilities to make it
easy to create DEMs from las files.   Multiple point clouds can be merged
together automatically, and the code can process input in pieces which we
found was necessary for some very large data sets.

Documentation and tutorial can be found at:
http://applied-geosolutions.github.io/lidar2dems/

and the project is on GitHub:
https://github.com/Applied-GeoSolutions/lidar2dems

- matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150604/1ab3fd2b/attachment.html>

From howard at hobu.co  Fri Jun  5 06:36:26 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 5 Jun 2015 08:36:26 -0500
Subject: [pdal] lidar2dems released
In-Reply-To: <CAGYeuZ=Z013bMTuWG_=tDnLDL37fpaqS=X9jPLTydnZUxys=mg@mail.gmail.com>
References: <CAGYeuZ=Z013bMTuWG_=tDnLDL37fpaqS=X9jPLTydnZUxys=mg@mail.gmail.com>
Message-ID: <79A5F81C-909D-4F89-AA14-CC6E824477D1@hobu.co>


> On Jun 4, 2015, at 8:27 PM, Matt Hanson <matt.a.hanson at gmail.com> wrote:
> 
> Hello PDAL list members,
> 
> You may remember I've been working on creating DEMs from LiDAR data and have posted various questions to the list over the past few months.
> 
> I'm happy to say that as a result of the work we've done (processing of about 3 TB of LiDAR data into DEMs), we have an collection of utilities we have released as open source.
> 
> lidar2dems uses PDAL (and PCL) in some command line utilities to make it easy to create DEMs from las files.   Multiple point clouds can be merged together automatically, and the code can process input in pieces which we found was necessary for some very large data sets.
> 
> Documentation and tutorial can be found at:
> http://applied-geosolutions.github.io/lidar2dems/
> 
> and the project is on GitHub:
> https://github.com/Applied-GeoSolutions/lidar2dems

This is fantastic! Thanks for the effort to polish it up into a project and especially the documentation work. That?s one area where PDAL is still pretty deficient these days :( I?d be interested in hearing your lessons learned in regard to PDAL. What?s working well, and what?s working poorly for stuff like lidar2dems? The stuff my team uses PDAL for is mostly data management and light duty processing, and this use case is in a slightly different sphere.

I will make some modifications to the p2g documentation to point to this project so that others can start using it. 

Congratulations!

Howard

From howard at hobu.co  Fri Jun  5 06:57:47 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 5 Jun 2015 08:57:47 -0500
Subject: [pdal] GEOS support
In-Reply-To: <CAGYeuZmF_sP1p9BX8rnYASxMe+JmwU+bw=_wQ7GfSD+2FdrXOA@mail.gmail.com>
References: <CAGYeuZmF_sP1p9BX8rnYASxMe+JmwU+bw=_wQ7GfSD+2FdrXOA@mail.gmail.com>
Message-ID: <4F05870D-0FE9-4361-BB91-76079D28A6C9@hobu.co>


> On Jun 4, 2015, at 3:13 PM, Matt Hanson <matt.a.hanson at gmail.com> wrote:
> 
> Hello, 
> 
> I wanted to crop a point cloud with a polygon.    cmake on PDAL (current master) reports GEOS under "OPTIONAL packages have been found", however when I try to crop a polygon in my xml file it says:
> 
> PDAL: Polygon cropping not supported unless built with GEOS
> 
> Do I need to explicitly tell PDAL to build with GEOS support?

Crop filter isn?t a plugin, because it works without having GEOS linked in box mode. PDAL_HAVE_GEOS must be defined in ./include/pdal/pdal_defines.h to have GEOS support enabled. If that is commented out, your GEOS is not being used for some reason. Maybe there is some kind of cmake configuration bug that we have in regard to this.

`pdal --debug` will also show if it thinks your GEOS is linked.

Hope this helps,

Howard

From lucadeluge at gmail.com  Mon Jun  8 07:14:22 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Mon, 8 Jun 2015 16:14:22 +0200
Subject: [pdal] reading las is slower than liblas
Message-ID: <CAK4m-3wvchjhGc+DC9HpDkm+SvYGLRkiEPb56UH7ZV3nJCLp=Q@mail.gmail.com>

Hi devs,

I'm doing some comparison between liblas and pdal and it seems to me
that pdal is really slower to read las files.

Following the result of time command with the same las file:

- liblas
real    0m2.145s
user    0m2.072s
sys     0m0.068s

- pdal
real    0m48.900s
user    0m48.160s
sys     0m0.785s

do you have any idea why is so slower?

PS
I tested several files and it seems to me that the time of pdal is
equal ~20 time the result of liblas

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From howard at hobu.co  Mon Jun  8 08:59:57 2015
From: howard at hobu.co (Howard Butler)
Date: Mon, 8 Jun 2015 10:59:57 -0500
Subject: [pdal] reading las is slower than liblas
In-Reply-To: <CAK4m-3wvchjhGc+DC9HpDkm+SvYGLRkiEPb56UH7ZV3nJCLp=Q@mail.gmail.com>
References: <CAK4m-3wvchjhGc+DC9HpDkm+SvYGLRkiEPb56UH7ZV3nJCLp=Q@mail.gmail.com>
Message-ID: <C54F36B3-D4D2-4D89-AC0A-6DC450DBD52A@hobu.co>


> On Jun 8, 2015, at 9:14 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> 
> Hi devs,
> 
> I'm doing some comparison between liblas and pdal and it seems to me
> that pdal is really slower to read las files.
> 
> Following the result of time command with the same las file:
> 
> - liblas
> real    0m2.145s
> user    0m2.072s
> sys     0m0.068s
> 
> - pdal
> real    0m48.900s
> user    0m48.160s
> sys     0m0.785s
> 
> do you have any idea why is so slower?
> 
> PS
> I tested several files and it seems to me that the time of pdal is
> equal ~20 time the result of liblas

Can you ticket what you?re doing for a test that demonstrates this? I would expect it to be a little slower due to the fact that liblas is essentially just copying bytes, and PDAL?s doing some extra work, but not 20x.

Howard

From stefan.ziegler.de at gmail.com  Mon Jun  8 09:31:11 2015
From: stefan.ziegler.de at gmail.com (Stefan Ziegler)
Date: Mon, 8 Jun 2015 18:31:11 +0200
Subject: [pdal] reading las is slower than liblas
In-Reply-To: <C54F36B3-D4D2-4D89-AC0A-6DC450DBD52A@hobu.co>
References: <CAK4m-3wvchjhGc+DC9HpDkm+SvYGLRkiEPb56UH7ZV3nJCLp=Q@mail.gmail.com>
	<C54F36B3-D4D2-4D89-AC0A-6DC450DBD52A@hobu.co>
Message-ID: <CAJvo+19WStdv=gGs__shQODk65Udco5cUvB+7gRVX3R3DkxJGQ@mail.gmail.com>

Hi

I once noticed that you have to set CMAKE_BUILD_TYPE to "Release" and not
"Debug" to get a much faster reading. I think I remember that the default
setting was "Debug".

best regards
Stefan

On Mon, Jun 8, 2015 at 5:59 PM, Howard Butler <howard at hobu.co> wrote:

>
> > On Jun 8, 2015, at 9:14 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> >
> > Hi devs,
> >
> > I'm doing some comparison between liblas and pdal and it seems to me
> > that pdal is really slower to read las files.
> >
> > Following the result of time command with the same las file:
> >
> > - liblas
> > real    0m2.145s
> > user    0m2.072s
> > sys     0m0.068s
> >
> > - pdal
> > real    0m48.900s
> > user    0m48.160s
> > sys     0m0.785s
> >
> > do you have any idea why is so slower?
> >
> > PS
> > I tested several files and it seems to me that the time of pdal is
> > equal ~20 time the result of liblas
>
> Can you ticket what you?re doing for a test that demonstrates this? I
> would expect it to be a little slower due to the fact that liblas is
> essentially just copying bytes, and PDAL?s doing some extra work, but not
> 20x.
>
> Howard
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150608/ef6fd22e/attachment.html>

From lucadeluge at gmail.com  Tue Jun  9 00:17:32 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Tue, 9 Jun 2015 09:17:32 +0200
Subject: [pdal] reading las is slower than liblas
In-Reply-To: <C54F36B3-D4D2-4D89-AC0A-6DC450DBD52A@hobu.co>
References: <CAK4m-3wvchjhGc+DC9HpDkm+SvYGLRkiEPb56UH7ZV3nJCLp=Q@mail.gmail.com>
	<C54F36B3-D4D2-4D89-AC0A-6DC450DBD52A@hobu.co>
Message-ID: <CAK4m-3w3MzB1rZtH74QtwbwhyUwyhU5PCjVMD6+KMx6+FTU-7g@mail.gmail.com>

On 8 June 2015 at 17:59, Howard Butler <howard at hobu.co> wrote:
>
>> On Jun 8, 2015, at 9:14 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
>>
>> Hi devs,
>>
>> I'm doing some comparison between liblas and pdal and it seems to me
>> that pdal is really slower to read las files.
>>
>> Following the result of time command with the same las file:
>>
>> - liblas
>> real    0m2.145s
>> user    0m2.072s
>> sys     0m0.068s
>>
>> - pdal
>> real    0m48.900s
>> user    0m48.160s
>> sys     0m0.785s
>>
>> do you have any idea why is so slower?
>>
>> PS
>> I tested several files and it seems to me that the time of pdal is
>> equal ~20 time the result of liblas
>
> Can you ticket what you?re doing for a test that demonstrates this?

Just running `pdal info` and `lasinfo` on a 105MB and a 220MB LAS file
pdal was installed using the RPM files from here [0]

> I would expect it to be a little slower due to the fact that liblas is essentially just copying bytes, and PDAL?s doing some extra work, but not 20x.
>

I see

> Howard

[0] http://pdal.s3-website-us-east-1.amazonaws.com/rpms/

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From lucadeluge at gmail.com  Tue Jun  9 00:18:10 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Tue, 9 Jun 2015 09:18:10 +0200
Subject: [pdal] reading las is slower than liblas
In-Reply-To: <CAJvo+19WStdv=gGs__shQODk65Udco5cUvB+7gRVX3R3DkxJGQ@mail.gmail.com>
References: <CAK4m-3wvchjhGc+DC9HpDkm+SvYGLRkiEPb56UH7ZV3nJCLp=Q@mail.gmail.com>
	<C54F36B3-D4D2-4D89-AC0A-6DC450DBD52A@hobu.co>
	<CAJvo+19WStdv=gGs__shQODk65Udco5cUvB+7gRVX3R3DkxJGQ@mail.gmail.com>
Message-ID: <CAK4m-3wt7cnU5JoZEzC4sLrR9GTFq5LuSMFPf1uM1QWspn4cmA@mail.gmail.com>

On 8 June 2015 at 18:31, Stefan Ziegler <stefan.ziegler.de at gmail.com> wrote:
> Hi
>

Hi,

> I once noticed that you have to set CMAKE_BUILD_TYPE to "Release" and not
> "Debug" to get a much faster reading. I think I remember that the default
> setting was "Debug".
>

ah ok, I'm going to tell this to the packager....

> best regards
> Stefan
>

thanks

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From chris.foster at roames.com.au  Tue Jun  9 00:27:23 2015
From: chris.foster at roames.com.au (Chris Foster)
Date: Tue, 9 Jun 2015 17:27:23 +1000
Subject: [pdal] reading las is slower than liblas
In-Reply-To: <CAK4m-3wt7cnU5JoZEzC4sLrR9GTFq5LuSMFPf1uM1QWspn4cmA@mail.gmail.com>
References: <CAK4m-3wvchjhGc+DC9HpDkm+SvYGLRkiEPb56UH7ZV3nJCLp=Q@mail.gmail.com>
	<C54F36B3-D4D2-4D89-AC0A-6DC450DBD52A@hobu.co>
	<CAJvo+19WStdv=gGs__shQODk65Udco5cUvB+7gRVX3R3DkxJGQ@mail.gmail.com>
	<CAK4m-3wt7cnU5JoZEzC4sLrR9GTFq5LuSMFPf1uM1QWspn4cmA@mail.gmail.com>
Message-ID: <CAPrisyq9KGMdyYYXMOn+pZh77gicMEBc4aV=_f77KYJtEYgesQ@mail.gmail.com>

If this turns out to be the problem in this case, might I suggest that
the main CMakeLists.txt just be updated to make Release the default?
This would make more sense for most end users who want to build the
source themselves.

Very obscure cmake feature: The key to doing this is to set
CMAKE_BUILD_TYPE *before* calling the project() command.  This allows
you to set a sensible default value in the cmake cache, *before* cmake
gets to it and sets CMAKE_BUILD_TYPE to the empty string:

set(CMAKE_BUILD_TYPE "Release" CACHE STRING
    "Choose the type of build, options are: None(CMAKE_CXX_FLAGS or
CMAKE_C_FLAGS used) Debug Release RelWithDebInfo MinSizeRel."
)

cmake_minimum_required(VERSION 2.8.6)
project(PDAL CXX C)

(The same thing goes for setting default cache values for other cmake
builtin variables, such as CMAKE_CXX_FLAGS.)

~Chris

On 9 June 2015 at 17:18, Luca Delucchi <lucadeluge at gmail.com> wrote:
> On 8 June 2015 at 18:31, Stefan Ziegler <stefan.ziegler.de at gmail.com> wrote:
>> Hi
>>
>
> Hi,
>
>> I once noticed that you have to set CMAKE_BUILD_TYPE to "Release" and not
>> "Debug" to get a much faster reading. I think I remember that the default
>> setting was "Debug".
>>
>
> ah ok, I'm going to tell this to the packager....
>
>> best regards
>> Stefan
>>
>
> thanks
>
> --
> ciao
> Luca
>
> http://gis.cri.fmach.it/delucchi/
> www.lucadelu.org
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal

From OKramer at radiantblue.com  Fri Jun 12 01:32:06 2015
From: OKramer at radiantblue.com (Kramer, Oscar)
Date: Fri, 12 Jun 2015 08:32:06 +0000
Subject: [pdal] Stats Filter
Message-ID: <9A8E9C0EA026884EABE05D9840451395066B7338@NBSVR-MAIL01.radiantblue.local>

Hi,

I constructed a reader pipeline with a StatsFilter to determine the geographic bounds of a LAS file. The minimums and maximums (X, Y, Z) however were not the same as those that I latched in a conventional scan over all points. In fact, there were points over ten meters beyond the boundaries determined via StatsFilter. Does StatsFilter take a statistical sampling of points so that extremes might be missed? Is there some property I should set to make sure all points are considered?

Oscar



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150612/7a02925d/attachment.html>

From andrew.bell.ia at gmail.com  Fri Jun 12 08:00:08 2015
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 12 Jun 2015 10:00:08 -0500
Subject: [pdal] Stats Filter
In-Reply-To: <9A8E9C0EA026884EABE05D9840451395066B7338@NBSVR-MAIL01.radiantblue.local>
References: <9A8E9C0EA026884EABE05D9840451395066B7338@NBSVR-MAIL01.radiantblue.local>
Message-ID: <CACJ51z2pmasXxy0Ybc1Hz4nZABjNn0SEhGGPRafQ64j5xjfqXw@mail.gmail.com>

On Fri, Jun 12, 2015 at 3:32 AM, Kramer, Oscar <OKramer at radiantblue.com>
wrote:

>  Hi,
>
> I constructed a reader pipeline with a StatsFilter to determine the
> geographic bounds of a LAS file. The minimums and maximums (X, Y, Z)
> however were not the same as those that I latched in a conventional scan
> over all points. In fact, there were points over ten meters beyond the
> boundaries determined via StatsFilter. Does StatsFilter take a statistical
> sampling of points so that extremes might be missed? Is there some property
> I should set to make sure all points are considered?
>

The stats filter does not statistically sample.  The behavior you're
describing seems incorrect.  I'd need more information to investigate.  If
you have a small file you could provide, I could look.  I'd also need to
know how you "conventionally scanned" the points.

Thanks,

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150612/8009443d/attachment.html>

From OKramer at radiantblue.com  Fri Jun 12 11:43:10 2015
From: OKramer at radiantblue.com (Kramer, Oscar)
Date: Fri, 12 Jun 2015 18:43:10 +0000
Subject: [pdal] Stats Filter
In-Reply-To: <CACJ51z2pmasXxy0Ybc1Hz4nZABjNn0SEhGGPRafQ64j5xjfqXw@mail.gmail.com>
References: <9A8E9C0EA026884EABE05D9840451395066B7338@NBSVR-MAIL01.radiantblue.local>,
	<CACJ51z2pmasXxy0Ybc1Hz4nZABjNn0SEhGGPRafQ64j5xjfqXw@mail.gmail.com>
Message-ID: <9A8E9C0EA026884EABE05D9840451395066B74D2@NBSVR-MAIL01.radiantblue.local>

Hey Andrew,

My conventional scan is simply iterating over each point in the pointview (represents all points in the file), latching min and max UTM E,N. I wrote a small test and it turns out that the StatsFilter does indeed return the exact same bounds as the scan. So I must have wires crossed somewhere else.

Thanks anyway,
Oscar


________________________________
From: Andrew Bell [andrew.bell.ia at gmail.com]
Sent: Friday, June 12, 2015 11:00
To: Kramer, Oscar
Cc: pdal at lists.osgeo.org
Subject: Re: [pdal] Stats Filter

On Fri, Jun 12, 2015 at 3:32 AM, Kramer, Oscar <OKramer at radiantblue.com<mailto:OKramer at radiantblue.com>> wrote:
Hi,

I constructed a reader pipeline with a StatsFilter to determine the geographic bounds of a LAS file. The minimums and maximums (X, Y, Z) however were not the same as those that I latched in a conventional scan over all points. In fact, there were points over ten meters beyond the boundaries determined via StatsFilter. Does StatsFilter take a statistical sampling of points so that extremes might be missed? Is there some property I should set to make sure all points are considered?

The stats filter does not statistically sample.  The behavior you're describing seems incorrect.  I'd need more information to investigate.  If you have a small file you could provide, I could look.  I'd also need to know how you "conventionally scanned" the points.

Thanks,

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150612/92b942b7/attachment.html>

From matt.a.hanson at gmail.com  Tue Jun 16 18:31:19 2015
From: matt.a.hanson at gmail.com (Matt Hanson)
Date: Tue, 16 Jun 2015 21:31:19 -0400
Subject: [pdal] PCL installation
Message-ID: <CAGYeuZngjAZXr3uvUr__TzZ5K0Xf6S35jT04ndPHdjK149kjrQ@mail.gmail.com>

Hi,

I was hoping to simplify the installation process of lidar2dems, and right
now the most time consuming part is compiling pcl.   I'd like to be able to
use the existing libpcl package, but there's a few issues.  (this is for
Ubuntu 14.04)

One, is that PDAL looks for a PCLConfig.cmake or pcl-config.cmake.
Another, is that even with the libpcl1-dev package there are no included
header files.

The more I can get this working with existing packages the better, anyone
have any experience with this?

Also, as per an earlier discussion here, another potential issue is that
the pcl binary wasn't potentially built with the c++11 flag.

Thanks for any advice!

matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150616/25bf5892/attachment.html>

From brad.chambers at gmail.com  Tue Jun 16 19:29:14 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Wed, 17 Jun 2015 02:29:14 +0000
Subject: [pdal] PCL installation
In-Reply-To: <CAGYeuZngjAZXr3uvUr__TzZ5K0Xf6S35jT04ndPHdjK149kjrQ@mail.gmail.com>
References: <CAGYeuZngjAZXr3uvUr__TzZ5K0Xf6S35jT04ndPHdjK149kjrQ@mail.gmail.com>
Message-ID: <CAJyqqPw2cQu5=9JoSuutGBtV=YeDf4Q6016fKQq55yrw7PzkKQ@mail.gmail.com>

Matt,

This is a problem for us as well. It's been on my todo list for quite some
time to put together a PCL PPA (for Ubuntu 12.04) so that we can start
testing the PCL plugin on Travis. I haven't been through the PPA process
before, so I don't know how smoothly that's going to go, but hopefully
it'll be step in the right direction.

Brad

On Tue, Jun 16, 2015 at 9:31 PM Matt Hanson <matt.a.hanson at gmail.com> wrote:

> Hi,
>
> I was hoping to simplify the installation process of lidar2dems, and right
> now the most time consuming part is compiling pcl.   I'd like to be able to
> use the existing libpcl package, but there's a few issues.  (this is for
> Ubuntu 14.04)
>
> One, is that PDAL looks for a PCLConfig.cmake or pcl-config.cmake.
> Another, is that even with the libpcl1-dev package there are no included
> header files.
>
> The more I can get this working with existing packages the better, anyone
> have any experience with this?
>
> Also, as per an earlier discussion here, another potential issue is that
> the pcl binary wasn't potentially built with the c++11 flag.
>
> Thanks for any advice!
>
> matt
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150617/8af8f393/attachment.html>

From lucadeluge at gmail.com  Thu Jun 18 06:05:11 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu, 18 Jun 2015 15:05:11 +0200
Subject: [pdal] PDAL on OSGeo4W
Message-ID: <CAK4m-3zs_W5BcR93AqT99fMZ=0T1fqu0+nnQhbiYhom5PrFVEw@mail.gmail.com>

Hi devs,

do you think to update PDAL on OSGeo4W?

The version in OSGeo4W is really old and it doesn't contain pdal command.

Thanks a lot

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From brad.chambers at gmail.com  Thu Jun 18 08:18:34 2015
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Thu, 18 Jun 2015 15:18:34 +0000
Subject: [pdal] PDAL on OSGeo4W
In-Reply-To: <CAK4m-3zs_W5BcR93AqT99fMZ=0T1fqu0+nnQhbiYhom5PrFVEw@mail.gmail.com>
References: <CAK4m-3zs_W5BcR93AqT99fMZ=0T1fqu0+nnQhbiYhom5PrFVEw@mail.gmail.com>
Message-ID: <CAJyqqPzUqK+es+GiUyqu5xSoVPvRs+CpaiFm2BwL3jdVyqQUWQ@mail.gmail.com>

Luca,

Give it a try now.

I picked off of master this morning
(a0cf5bb2b4a6ab82a41ababc7af1b413620d5c4d) and bumped the version to
1.0.0b2.

Hope this helps!

Brad

On Thu, Jun 18, 2015 at 9:05 AM Luca Delucchi <lucadeluge at gmail.com> wrote:

> Hi devs,
>
> do you think to update PDAL on OSGeo4W?
>
> The version in OSGeo4W is really old and it doesn't contain pdal command.
>
> Thanks a lot
>
> --
> ciao
> Luca
>
> http://gis.cri.fmach.it/delucchi/
> www.lucadelu.org
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150618/627cca79/attachment.html>

From lucadeluge at gmail.com  Thu Jun 18 23:32:09 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Fri, 19 Jun 2015 08:32:09 +0200
Subject: [pdal] PDAL on OSGeo4W
In-Reply-To: <CAJyqqPzUqK+es+GiUyqu5xSoVPvRs+CpaiFm2BwL3jdVyqQUWQ@mail.gmail.com>
References: <CAK4m-3zs_W5BcR93AqT99fMZ=0T1fqu0+nnQhbiYhom5PrFVEw@mail.gmail.com>
	<CAJyqqPzUqK+es+GiUyqu5xSoVPvRs+CpaiFm2BwL3jdVyqQUWQ@mail.gmail.com>
Message-ID: <CAK4m-3wnkRAYJXCk5jCp1PbndaDkkFNm1tr0_BDCEqqJi_x48A@mail.gmail.com>

On 18 June 2015 at 17:18, Bradley Chambers <brad.chambers at gmail.com> wrote:
> Luca,
>

Hi Bradley,

first of all thanks for the speed

> Give it a try now.
>
> I picked off of master this morning
> (a0cf5bb2b4a6ab82a41ababc7af1b413620d5c4d) and bumped the version to
> 1.0.0b2.
>

nothing change :-( , I saw that you compile only the 64 bit version
and we are using the 32 bit

> Hope this helps!
>

not me but a lot of other people ;-)
thanks

> Brad
>

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From howard at hobu.co  Fri Jun 19 05:47:35 2015
From: howard at hobu.co (Howard Butler)
Date: Fri, 19 Jun 2015 07:47:35 -0500
Subject: [pdal] PDAL on OSGeo4W
In-Reply-To: <CAK4m-3wnkRAYJXCk5jCp1PbndaDkkFNm1tr0_BDCEqqJi_x48A@mail.gmail.com>
References: <CAK4m-3zs_W5BcR93AqT99fMZ=0T1fqu0+nnQhbiYhom5PrFVEw@mail.gmail.com>
	<CAJyqqPzUqK+es+GiUyqu5xSoVPvRs+CpaiFm2BwL3jdVyqQUWQ@mail.gmail.com>
	<CAK4m-3wnkRAYJXCk5jCp1PbndaDkkFNm1tr0_BDCEqqJi_x48A@mail.gmail.com>
Message-ID: <E0B6512E-ED90-41DE-A372-990D8CD83C7C@hobu.co>


> On Jun 19, 2015, at 1:32 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> 
> On 18 June 2015 at 17:18, Bradley Chambers <brad.chambers at gmail.com> wrote:
>> Luca,
>> 
> 
> Hi Bradley,
> 
> first of all thanks for the speed
> 
>> Give it a try now.
>> 
>> I picked off of master this morning
>> (a0cf5bb2b4a6ab82a41ababc7af1b413620d5c4d) and bumped the version to
>> 1.0.0b2.
>> 
> 
> nothing change :-( , I saw that you compile only the 64 bit version
> and we are using the 32 bit

Oh, you wanted 32 bit? A few items that will make it very unlikely there?s a 32 bit OSGeo4W build out of the current PDAL team again:

* It would mean recompiling and making OSGeo4W packages for a bunch of support libraries (hexer, points2grid, etc) that have unknown Win32 status. This is especially true for PCL
* Our tree?s configuration is to now expect to target OSGeo4W64 and there would be a lot of work to abstract that out
* None of the current dev team members are really users of PDAL on windows. All do run on 64 bit platforms though, so at least that aspect is covered.

That said, of course we?d happily take patches and packages that accomplishes what you need.

Howard


From ROBERT.T.MURPHY at leidos.com  Fri Jun 19 06:06:13 2015
From: ROBERT.T.MURPHY at leidos.com (Murphy, Todd)
Date: Fri, 19 Jun 2015 13:06:13 +0000
Subject: [pdal] PDAL on OSGeo4W
In-Reply-To: <E0B6512E-ED90-41DE-A372-990D8CD83C7C@hobu.co>
References: <CAK4m-3zs_W5BcR93AqT99fMZ=0T1fqu0+nnQhbiYhom5PrFVEw@mail.gmail.com>
	<CAJyqqPzUqK+es+GiUyqu5xSoVPvRs+CpaiFm2BwL3jdVyqQUWQ@mail.gmail.com>
	<CAK4m-3wnkRAYJXCk5jCp1PbndaDkkFNm1tr0_BDCEqqJi_x48A@mail.gmail.com>
	<E0B6512E-ED90-41DE-A372-990D8CD83C7C@hobu.co>
Message-ID: <1EF4F9A771E6F347BFD789126375B090476B975A@EMP-EXMR102.corp.leidos.com>

Brad:

Thanks for working on the OSGeo4W build.  I will have some of our processors download it.

Thanks,

Todd Murphy


-----Original Message-----
From: pdal-bounces at lists.osgeo.org [mailto:pdal-bounces at lists.osgeo.org] On Behalf Of Howard Butler
Sent: Friday, June 19, 2015 8:48 AM
To: pdal at lists.osgeo.org
Subject: Re: [pdal] PDAL on OSGeo4W


> On Jun 19, 2015, at 1:32 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
> 
> On 18 June 2015 at 17:18, Bradley Chambers <brad.chambers at gmail.com> wrote:
>> Luca,
>> 
> 
> Hi Bradley,
> 
> first of all thanks for the speed
> 
>> Give it a try now.
>> 
>> I picked off of master this morning
>> (a0cf5bb2b4a6ab82a41ababc7af1b413620d5c4d) and bumped the version to 
>> 1.0.0b2.
>> 
> 
> nothing change :-( , I saw that you compile only the 64 bit version 
> and we are using the 32 bit

Oh, you wanted 32 bit? A few items that will make it very unlikely there?s a 32 bit OSGeo4W build out of the current PDAL team again:

* It would mean recompiling and making OSGeo4W packages for a bunch of support libraries (hexer, points2grid, etc) that have unknown Win32 status. This is especially true for PCL
* Our tree?s configuration is to now expect to target OSGeo4W64 and there would be a lot of work to abstract that out
* None of the current dev team members are really users of PDAL on windows. All do run on 64 bit platforms though, so at least that aspect is covered.

That said, of course we?d happily take patches and packages that accomplishes what you need.

Howard

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/pdal

From lucadeluge at gmail.com  Mon Jun 22 00:58:31 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Mon, 22 Jun 2015 09:58:31 +0200
Subject: [pdal] PDAL on OSGeo4W
In-Reply-To: <E0B6512E-ED90-41DE-A372-990D8CD83C7C@hobu.co>
References: <CAK4m-3zs_W5BcR93AqT99fMZ=0T1fqu0+nnQhbiYhom5PrFVEw@mail.gmail.com>
	<CAJyqqPzUqK+es+GiUyqu5xSoVPvRs+CpaiFm2BwL3jdVyqQUWQ@mail.gmail.com>
	<CAK4m-3wnkRAYJXCk5jCp1PbndaDkkFNm1tr0_BDCEqqJi_x48A@mail.gmail.com>
	<E0B6512E-ED90-41DE-A372-990D8CD83C7C@hobu.co>
Message-ID: <CAK4m-3z-rbfOVoY7pLWDrw10W6EQV8vr4Ub6jGcXuTB6N=Vn7w@mail.gmail.com>

On 19 June 2015 at 14:47, Howard Butler <howard at hobu.co> wrote:
>
>> On Jun 19, 2015, at 1:32 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:
>>
>> On 18 June 2015 at 17:18, Bradley Chambers <brad.chambers at gmail.com> wrote:
>>> Luca,
>>>
>>
>> Hi Bradley,
>>
>> first of all thanks for the speed
>>
>>> Give it a try now.
>>>
>>> I picked off of master this morning
>>> (a0cf5bb2b4a6ab82a41ababc7af1b413620d5c4d) and bumped the version to
>>> 1.0.0b2.
>>>
>>
>> nothing change :-( , I saw that you compile only the 64 bit version
>> and we are using the 32 bit
>
> Oh, you wanted 32 bit? A few items that will make it very unlikely there?s a 32 bit OSGeo4W build out of the current PDAL team again:
>
> * It would mean recompiling and making OSGeo4W packages for a bunch of support libraries (hexer, points2grid, etc) that have unknown Win32 status. This is especially true for PCL
> * Our tree?s configuration is to now expect to target OSGeo4W64 and there would be a lot of work to abstract that out
> * None of the current dev team members are really users of PDAL on windows. All do run on 64 bit platforms though, so at least that aspect is covered.
>
> That said, of course we?d happily take patches and packages that accomplishes what you need.
>

ok, we will switch to OSGeo4W 64 bit when GRASS7 will be packaged in
OSGeo4W 64 bit, I hope it will be ready by the end of next month

> Howard
>


-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From lucadeluge at gmail.com  Mon Jun 22 01:20:42 2015
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Mon, 22 Jun 2015 10:20:42 +0200
Subject: [pdal] calculate CHM
Message-ID: <CAK4m-3ypCDpthPQgw7aDXo6yqZsKPAkZ6R8w15rkmZq3vsL+VA@mail.gmail.com>

Hi devs,

I'm trying to calculate CHM using filters.programmable but I have some
problems with points close to the DTM border and so I'm not able to
update the Z value for these points.

My idea is to use  filters.predicate to remove these point outside the
DTM and later run the filters.programmable, but I don't know
concatenate the two filter, it seems each filter neeeds a Reader tag
and I don't know how to tell to second filter to read the output of
the first.

Should I use two Writer tag?

Thanks

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From albert.godfrind at oracle.com  Mon Jun 22 01:53:11 2015
From: albert.godfrind at oracle.com (Albert Godfrind)
Date: Mon, 22 Jun 2015 10:53:11 +0200
Subject: [pdal] LAStools using PDAL library ?
Message-ID: <7482609D-B76B-4FA3-B288-EC0EA19AA445@oracle.com>

Now that PDAL is close to a full production release, it is not a good idea to start thinking about using it in LAStools so that they can be used against any of the data structures supported by PDAL ?

Albert
--
Albert Godfrind
albert.godfrind at oracle.com
+33 6 09 97 27 23





From andrew.bell.ia at gmail.com  Mon Jun 22 05:42:36 2015
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Mon, 22 Jun 2015 07:42:36 -0500
Subject: [pdal] Fwd:  calculate CHM
In-Reply-To: <CACJ51z2uz3CebyqHno-RH+DjfnNadDd2ENYy4PZcdYQy_mSfXA@mail.gmail.com>
References: <CAK4m-3ypCDpthPQgw7aDXo6yqZsKPAkZ6R8w15rkmZq3vsL+VA@mail.gmail.com>
	<CACJ51z2uz3CebyqHno-RH+DjfnNadDd2ENYy4PZcdYQy_mSfXA@mail.gmail.com>
Message-ID: <CACJ51z121hk6uJeR6NCwu55xeStHvDdKcxpborzeGzjYaXdPvw@mail.gmail.com>

On Mon, Jun 22, 2015 at 3:20 AM, Luca Delucchi <lucadeluge at gmail.com> wrote:

> Hi devs,
>
> I'm trying to calculate CHM using filters.programmable but I have some
> problems with points close to the DTM border and so I'm not able to
> update the Z value for these points.
>
> My idea is to use  filters.predicate to remove these point outside the
> DTM and later run the filters.programmable, but I don't know
> concatenate the two filter, it seems each filter neeeds a Reader tag
> and I don't know how to tell to second filter to read the output of
> the first.
>

Filters can feed one another:

<?xml version="1.0"?>
<Pipeline version="1.0">
<Writer type="writers.las")
  <Option name="filename">out.las</Option>
  <Filter type="filters.programmable">
  <Option name="source">
import numpy as np
def myfunc(ins,outs)
  val = ins['Y']
  outs['Y'] = val * 1.05
  return True
  </Option>
  <Filter type="filters.crop>
    <Option name="bounds">
        ([1,1.1],[2,2.2])
    </Option>
    <Reader name="readers.las"
      <Option="filename">in.las</Option>
    </Reader>
  </Filter>
  </Filter>
</Writer>
</Pipeline>

(Not tested)

We're working on getting more examples written and posted in the
documentation.  Write back if you have questions.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20150622/0352c854/attachment.html>

