From fpoux at ulg.ac.be  Thu Mar  2 09:05:35 2017
From: fpoux at ulg.ac.be (Florent Poux)
Date: Thu, 2 Mar 2017 18:05:35 +0100
Subject: [pdal] Pipeline problem
In-Reply-To: <9861b0de-7aed-0b73-71b1-35401aa01cdf@ulg.ac.be>
References: <9861b0de-7aed-0b73-71b1-35401aa01cdf@ulg.ac.be>
Message-ID: <afc595b9-bb50-f74d-5c17-959b60654a97@ulg.ac.be>

Dear all,
I face a pipeline problem on which I struggle (and you may have a quick 
answer to it).

Here is my command line (using docker):
 >>> docker run -v /d/DEV/PDAL/PIPELINES:/data pdal/pdal:1.4 pdal 
pipeline /data/Sample_pipeline.json
result >>> PDAL: readers.text: Unable to open text file 'C10_000000.txt'.

And here is the problematic part of my json pipeline :
{
   "pipeline":[
     {
       "type":"readers.text",
       "filename":"CC10_000000.txt"
     },
     {
       "type":"filters.chipper",
       "capacity":800
     },

Is that a path problem (I tried ../TEST/CC10_000000.txt but didn't work 
either) ? Or a size limit on txt file (env. 600 Mo) ? Other ?

My data location : D:\DEV\PDAL\TEST
My json pipelines locations : D:\DEV\PDAL\PIPELINES

Thanks in advance !
Kind regards,

F. Poux

From howard at hobu.co  Thu Mar  2 09:13:58 2017
From: howard at hobu.co (Howard Butler)
Date: Thu, 2 Mar 2017 11:13:58 -0600
Subject: [pdal] Pipeline problem
In-Reply-To: <afc595b9-bb50-f74d-5c17-959b60654a97@ulg.ac.be>
References: <9861b0de-7aed-0b73-71b1-35401aa01cdf@ulg.ac.be>
 <afc595b9-bb50-f74d-5c17-959b60654a97@ulg.ac.be>
Message-ID: <D389867C-5ED0-4C0F-9A0C-24B7150454B1@hobu.co>

Florent,

Docker on Windows will not allow you to read data from any directory on your local system without you first telling it where and how to do so. See the note at https://www.pdal.io/quickstart.html#enable-docker-access-to-your-machine <https://www.pdal.io/quickstart.html#enable-docker-access-to-your-machine>

Once you have added d:\dev\pdal\pipelines to your docker paths as shown, you will need to modify your pipeline *relative* to the directory name you are mapping to. In your case, that's /data

> docker run -v /d/DEV/PDAL/PIPELINES:data pdal/pdal:1.4 pdal pipeline /data/Sample_pipeline.json


Next, make sure to modify your path that points to the data in the pipeline to point relative to the directory name you mapped with the -v argument.

> "filename":"/data/CC10_000000.txt"


Hope this helps,

Howard


> On Mar 2, 2017, at 11:05 AM, Florent Poux <fpoux at ulg.ac.be> wrote:
> 
> Dear all,
> I face a pipeline problem on which I struggle (and you may have a quick answer to it).
> 
> Here is my command line (using docker):
> >>> docker run -v /d/DEV/PDAL/PIPELINES:/data pdal/pdal:1.4 pdal pipeline /data/Sample_pipeline.json
> result >>> PDAL: readers.text: Unable to open text file 'C10_000000.txt'.
> 
> And here is the problematic part of my json pipeline :
> {
>  "pipeline":[
>    {
>      "type":"readers.text",
>      "filename":"CC10_000000.txt"
>    },
>    {
>      "type":"filters.chipper",
>      "capacity":800
>    },
> 
> Is that a path problem (I tried ../TEST/CC10_000000.txt but didn't work either) ? Or a size limit on txt file (env. 600 Mo) ? Other ?
> 
> My data location : D:\DEV\PDAL\TEST
> My json pipelines locations : D:\DEV\PDAL\PIPELINES
> 
> Thanks in advance !
> Kind regards,
> 
> F. Poux
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170302/195ba983/attachment.html>

From connor at hobu.co  Thu Mar  2 09:14:07 2017
From: connor at hobu.co (Connor Manning)
Date: Thu, 2 Mar 2017 11:14:07 -0600
Subject: [pdal] Pipeline problem
In-Reply-To: <afc595b9-bb50-f74d-5c17-959b60654a97@ulg.ac.be>
References: <9861b0de-7aed-0b73-71b1-35401aa01cdf@ulg.ac.be>
 <afc595b9-bb50-f74d-5c17-959b60654a97@ulg.ac.be>
Message-ID: <CAO=FyjJS4dmdXPL-gsTCj5f0U1BghS7QcFvRVRGTypye6+CL1A@mail.gmail.com>

Looks like your paths don't map to your volumes properly.  If your data is
at D:\DEV\PDAL\TEST, then you'll need to map that volume as well.  Try
changing your "filename" in your JSON pipeline to "/test/CC10_000000.txt",
and then use the invocation:

docker run -v /d/DEV/PDAL/PIPELINES:/pipelines -v /d/DEV/PDAL/TEST:/test
pdal/pdal:1.4 pdal pipeline /pipelines/Sample_pipeline.json

On Thu, Mar 2, 2017 at 11:05 AM, Florent Poux <fpoux at ulg.ac.be> wrote:

> Dear all,
> I face a pipeline problem on which I struggle (and you may have a quick
> answer to it).
>
> Here is my command line (using docker):
> >>> docker run -v /d/DEV/PDAL/PIPELINES:/data pdal/pdal:1.4 pdal pipeline
> /data/Sample_pipeline.json
> result >>> PDAL: readers.text: Unable to open text file 'C10_000000.txt'.
>
> And here is the problematic part of my json pipeline :
> {
>   "pipeline":[
>     {
>       "type":"readers.text",
>       "filename":"CC10_000000.txt"
>     },
>     {
>       "type":"filters.chipper",
>       "capacity":800
>     },
>
> Is that a path problem (I tried ../TEST/CC10_000000.txt but didn't work
> either) ? Or a size limit on txt file (env. 600 Mo) ? Other ?
>
> My data location : D:\DEV\PDAL\TEST
> My json pipelines locations : D:\DEV\PDAL\PIPELINES
>
> Thanks in advance !
> Kind regards,
>
> F. Poux
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170302/a385b294/attachment.html>

From ptittmann at gmail.com  Thu Mar  2 09:24:11 2017
From: ptittmann at gmail.com (Peter Tittmann)
Date: Thu, 2 Mar 2017 09:24:11 -0800
Subject: [pdal] Building a PDAL pipeline in python
Message-ID: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>

Hi,

Using: pdal 1.4.0 (git-version: Release)

I’m developing a pipeline in python which produces the following JSON:

> pipeString ='{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"radius": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.\
> 149785037 6621359.13979493)"}]}’


PDAL doesn’t seem to understand radius using `filters.crop`:

> pipe = pdal.Pipeline(unicode(pipeString))

> pipe.validate()
> Warning 1: Cannot find pcs.csv
> ---------------------------------------------------------------------------
> RuntimeError                              Traceback (most recent call last)
> <ipython-input-10-ec1c398a767a> in <module>()
> ----> 1 pipe.validate()
> 
> /usr/lib/python2.7/dist-packages/pdal/pipeline.pyc in validate(self)
>      40
>      41     def validate(self):
> ---> 42         return self.p.validate()
>      43
>      44     def get_arrays(self):
> 
> pdal/libpdalpython.pyx in pdal.libpdalpython.PyPipeline.validate (pdal/libpdalpython.cpp:2627)()
> 
> RuntimeError: filters.crop: Unexpected argument 'radius'.
> 


Any suggestions?

Thanks!

Peter

From andrew.bell.ia at gmail.com  Thu Mar  2 09:48:55 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Thu, 2 Mar 2017 11:48:55 -0600
Subject: [pdal] Building a PDAL pipeline in python
In-Reply-To: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
References: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
Message-ID: <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>

On Thu, Mar 2, 2017 at 11:24 AM, Peter Tittmann <ptittmann at gmail.com> wrote:

> Hi,
>
> Using: pdal 1.4.0 (git-version: Release)
>
> I’m developing a pipeline in python which produces the following JSON:
>
> > pipeString ='{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las",
> {"radius": 46.330202145018255, "type": "filters.crop", "point":
> "POINT(671977.\
> > 149785037 6621359.13979493)"}]}’
>
>
> PDAL doesn’t seem to understand radius using `filters.crop`:
>

Somehow the docs got out of sync with the code.  Not sure how this happened
but I will fix.  The correct name of the option is "distance" rather than
"radius".  You can use "pdal --options filters.crop" at the command line to
get an up-to-date list of the options for the crop filter.

Hope that helps.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170302/69a0c3b9/attachment.html>

From ptittmann at gmail.com  Thu Mar  2 09:54:41 2017
From: ptittmann at gmail.com (Peter Tittmann)
Date: Thu, 2 Mar 2017 09:54:41 -0800
Subject: [pdal] Building a PDAL pipeline in python
In-Reply-To: <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
References: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
 <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
Message-ID: <B077FBAA-7CFB-44A8-B076-FAE4DC61C2BC@gmail.com>

That solved the problem! Thanks, Andrew.
> On Mar 2, 2017, at 9:48 AM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
> 
> On Thu, Mar 2, 2017 at 11:24 AM, Peter Tittmann <ptittmann at gmail.com <mailto:ptittmann at gmail.com>> wrote:
> Hi,
> 
> Using: pdal 1.4.0 (git-version: Release)
> 
> I’m developing a pipeline in python which produces the following JSON:
> 
> > pipeString ='{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"radius": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.\
> > 149785037 6621359.13979493)"}]}’
> 
> 
> PDAL doesn’t seem to understand radius using `filters.crop`:
> 
> Somehow the docs got out of sync with the code.  Not sure how this happened but I will fix.  The correct name of the option is "distance" rather than "radius".  You can use "pdal --options filters.crop" at the command line to get an up-to-date list of the options for the crop filter.
> 
> Hope that helps.
> 
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170302/e44e96fd/attachment-0001.html>

From howard at hobu.co  Thu Mar  2 10:41:19 2017
From: howard at hobu.co (Howard Butler)
Date: Thu, 2 Mar 2017 12:41:19 -0600
Subject: [pdal] Building a PDAL pipeline in python
In-Reply-To: <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
References: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
 <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
Message-ID: <214C4993-95E3-434A-BE2C-5215A94D4617@hobu.co>

Peter,

I'm curious how you're using the Python bindings, whether or not they fit your workflow, and whether the approach is viable for you to make it easy to use PDAL with your existing workflows.

I had one thing I wanted to do with it, and I thought it might be useful for others. How does it work for you?

Howard

> On Mar 2, 2017, at 11:48 AM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
> 
> On Thu, Mar 2, 2017 at 11:24 AM, Peter Tittmann <ptittmann at gmail.com <mailto:ptittmann at gmail.com>> wrote:
> Hi,
> 
> Using: pdal 1.4.0 (git-version: Release)
> 
> I’m developing a pipeline in python which produces the following JSON:
> 
> > pipeString ='{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"radius": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.\
> > 149785037 6621359.13979493)"}]}’
> 
> 
> PDAL doesn’t seem to understand radius using `filters.crop`:
> 
> Somehow the docs got out of sync with the code.  Not sure how this happened but I will fix.  The correct name of the option is "distance" rather than "radius".  You can use "pdal --options filters.crop" at the command line to get an up-to-date list of the options for the crop filter.
> 
> Hope that helps.
> 
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>_______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170302/25510056/attachment.html>

From ptittmann at gmail.com  Thu Mar  2 13:34:55 2017
From: ptittmann at gmail.com (Peter Tittmann)
Date: Thu, 2 Mar 2017 13:34:55 -0800
Subject: [pdal] Building a PDAL pipeline in python
In-Reply-To: <214C4993-95E3-434A-BE2C-5215A94D4617@hobu.co>
References: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
 <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
 <214C4993-95E3-434A-BE2C-5215A94D4617@hobu.co>
Message-ID: <58A6007C-4442-4B8E-B491-55AC2A870007@gmail.com>

Howard,

I’m writing the pipeline in python as I’m going to use the multiprocessing module to parallelize pdal pipelines. I’m in the early stages of testing this. I’d like to be able to avoid using Fusion to derive gridded point cloud metrics and also be able to work directly on the points using PCL.

Right now however, its not really working:

> In [5]: import pdal
> 
> In [6]: pString = unicode(makePlots(1112))
> 
> In [7]: pString
> Out[7]:
> u'{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"distance": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.149785037 6621359.13979493)"}, "./pgc_input/plot_las/plot1112.las"]}'
> 
> In [8]: pipe = pdal.Pipeline(pString)
> 
> In [9]: pipe.validate()
> Warning 1: Cannot find pcs.csv
> Out[9]:
> True
> 
> In [10]: pipe.loglevel = 9
> 
> In [11]: count =pipe.execute()
> 
> Process Python killed
> 

Thanks for your interest and for PDAL..

Peter

  
> On Mar 2, 2017, at 10:41 AM, Howard Butler <howard at hobu.co> wrote:
> 
> Peter,
> 
> I'm curious how you're using the Python bindings, whether or not they fit your workflow, and whether the approach is viable for you to make it easy to use PDAL with your existing workflows.
> 
> I had one thing I wanted to do with it, and I thought it might be useful for others. How does it work for you?
> 
> Howard
> 
>> On Mar 2, 2017, at 11:48 AM, Andrew Bell <andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>> wrote:
>> 
>> On Thu, Mar 2, 2017 at 11:24 AM, Peter Tittmann <ptittmann at gmail.com <mailto:ptittmann at gmail.com>> wrote:
>> Hi,
>> 
>> Using: pdal 1.4.0 (git-version: Release)
>> 
>> I’m developing a pipeline in python which produces the following JSON:
>> 
>> > pipeString ='{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"radius": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.\
>> > 149785037 6621359.13979493)"}]}’
>> 
>> 
>> PDAL doesn’t seem to understand radius using `filters.crop`:
>> 
>> Somehow the docs got out of sync with the code.  Not sure how this happened but I will fix.  The correct name of the option is "distance" rather than "radius".  You can use "pdal --options filters.crop" at the command line to get an up-to-date list of the options for the crop filter.
>> 
>> Hope that helps.
>> 
>> -- 
>> Andrew Bell
>> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>_______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
>> https://lists.osgeo.org/mailman/listinfo/pdal
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170302/1b8895b9/attachment.html>

From howard at hobu.co  Thu Mar  2 14:53:46 2017
From: howard at hobu.co (Howard Butler)
Date: Thu, 2 Mar 2017 16:53:46 -0600
Subject: [pdal] Building a PDAL pipeline in python
In-Reply-To: <58A6007C-4442-4B8E-B491-55AC2A870007@gmail.com>
References: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
 <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
 <214C4993-95E3-434A-BE2C-5215A94D4617@hobu.co>
 <58A6007C-4442-4B8E-B491-55AC2A870007@gmail.com>
Message-ID: <C82FF509-DB97-4C0A-998C-5F6A5879E14C@hobu.co>


> On Mar 2, 2017, at 3:34 PM, Peter Tittmann <ptittmann at gmail.com> wrote:
> 
> Howard,
> 
> I’m writing the pipeline in python as I’m going to use the multiprocessing module to parallelize pdal pipelines. I’m in the early stages of testing this. I’d like to be able to avoid using Fusion to derive gridded point cloud metrics and also be able to work directly on the points using PCL.

Can you get from numpy arrays to PCL very easily? I don't know if the path has been beaten down on that or how well worn the trail is.


> 
> Right now however, its not really working:
> 
>> In [5]: import pdal
>> 
>> In [6]: pString = unicode(makePlots(1112))
>> 
>> In [7]: pString
>> Out[7]:
>> u'{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"distance": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.149785037 6621359.13979493)"}, "./pgc_input/plot_las/plot1112.las"]}'
>> 
>> In [8]: pipe = pdal.Pipeline(pString)
>> 
>> In [9]: pipe.validate()
>> Warning 1: Cannot find pcs.csv
>> Out[9]:
>> True
>> 
>> In [10]: pipe.loglevel = 9
>> 
>> In [11]: count =pipe.execute()
>> 
>> Process Python killed
>> 

If you privately send me the input, I'd be willing to try to work this for you. I have a suspicion about your pcs.csv complaint and Python/PDAL's logging...


From Adam.Steer at anu.edu.au  Thu Mar  2 14:59:37 2017
From: Adam.Steer at anu.edu.au (Adam Steer)
Date: Thu, 2 Mar 2017 22:59:37 +0000
Subject: [pdal] Building a PDAL pipeline in python
In-Reply-To: <58A6007C-4442-4B8E-B491-55AC2A870007@gmail.com>
References: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
 <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
 <214C4993-95E3-434A-BE2C-5215A94D4617@hobu.co>
 <58A6007C-4442-4B8E-B491-55AC2A870007@gmail.com>
Message-ID: <1C9B160A-9B64-4A86-B354-550A4459587A@anu.edu.au>

Hi Peter, Howard

Peter - I’m really interested in your use case, since I will eventually need to do similar things - parallelize PDAL operations and do very similar tasks.

I’ve seen a case of gnu parallels in use for PDAL (https://smathermather.com/category/parallel/), I’m not sure if this approach will help out.

I’ve also just been tinkering with a python pipeline to grab subset of points using a polygon and write out a geotiff, but this isn’t really working. I’ve considered doing some kind of intersection of the subset polygon with a tile index to create a set of PDAL tasks to execute in parallel, then join the results.

Hopefully not distracting you, just expressing interest in this topic (parallel operations, python pipelines and PDAL)

Adam




> On 3 Mar 2017, at 8:34 am, Peter Tittmann <ptittmann at gmail.com> wrote:
> 
> Howard,
> 
> I’m writing the pipeline in python as I’m going to use the multiprocessing module to parallelize pdal pipelines. I’m in the early stages of testing this. I’d like to be able to avoid using Fusion to derive gridded point cloud metrics and also be able to work directly on the points using PCL.
> 
> Right now however, its not really working:
> 
>> In [5]: import pdal
>> 
>> In [6]: pString = unicode(makePlots(1112))
>> 
>> In [7]: pString
>> Out[7]:
>> u'{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"distance": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.149785037 6621359.13979493)"}, "./pgc_input/plot_las/plot1112.las"]}'
>> 
>> In [8]: pipe = pdal.Pipeline(pString)
>> 
>> In [9]: pipe.validate()
>> Warning 1: Cannot find pcs.csv
>> Out[9]:
>> True
>> 
>> In [10]: pipe.loglevel = 9
>> 
>> In [11]: count =pipe.execute()
>> 
>> Process Python killed
>> 
> 
> Thanks for your interest and for PDAL..
> 
> Peter
> 
>   
>> On Mar 2, 2017, at 10:41 AM, Howard Butler <howard at hobu.co> wrote:
>> 
>> Peter,
>> 
>> I'm curious how you're using the Python bindings, whether or not they fit your workflow, and whether the approach is viable for you to make it easy to use PDAL with your existing workflows.
>> 
>> I had one thing I wanted to do with it, and I thought it might be useful for others. How does it work for you?
>> 
>> Howard
>> 
>>> On Mar 2, 2017, at 11:48 AM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
>>> 
>>> On Thu, Mar 2, 2017 at 11:24 AM, Peter Tittmann <ptittmann at gmail.com> wrote:
>>> Hi,
>>> 
>>> Using: pdal 1.4.0 (git-version: Release)
>>> 
>>> I’m developing a pipeline in python which produces the following JSON:
>>> 
>>> > pipeString ='{"pipeline": ["./pgc_input/chug_lidar/Kenai/Points/Ken_00403.las", {"radius": 46.330202145018255, "type": "filters.crop", "point": "POINT(671977.\
>>> > 149785037 6621359.13979493)"}]}’
>>> 
>>> 
>>> PDAL doesn’t seem to understand radius using `filters.crop`:
>>> 
>>> Somehow the docs got out of sync with the code.  Not sure how this happened but I will fix.  The correct name of the option is "distance" rather than "radius".  You can use "pdal --options filters.crop" at the command line to get an up-to-date list of the options for the crop filter.
>>> 
>>> Hope that helps.
>>> 
>>> -- 
>>> Andrew Bell
>>> andrew.bell.ia at gmail.com
>>> _______________________________________________
>>> pdal mailing list
>>> pdal at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/pdal
>> 
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal


From michael.rosen at gmail.com  Thu Mar  2 16:14:49 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Thu, 2 Mar 2017 16:14:49 -0800
Subject: [pdal] filters.attributes reference failing and libpcl missing when
 using docker build v1.4
Message-ID: <CAAhorQnntVxi8xVzR70rbdfoA+XOiJqrhM6y8+Sj5nzQyd_XCw@mail.gmail.com>

I'm following the workshop presentation using the docker build of pdal 1.4
(I'm on  linux mint 18).  I find the following:

1.  following the "analysis / clipping" exercise, it seems that
filters.attribute filter stage is failing:

msr at msr-linux ~ $ sudo docker run -v /home/msr/PDAL_workshop/:/data -t
pdal/pdal:1.4 pdal pipeline
 /data/exercises/analysis/clipping/clipping.json
PDAL: Couldn't create filter stage of type 'filters.attribute'.

There's a relevant pull request (https://github.com/PDAL/PDAL/pull/1171)
but no indication of what to do instead.

2.  I thought perhaps "pdal --drivers" would shed some light on the
situation. Sadly, when I did, pdal failed to load:

msr at msr-linux ~ $ sudo docker run -v /home/msr/PDAL_workshop/:/data -t
pdal/pdal:1.4 pdal --drivers
(PDAL Error) Can't load library /usr/lib/libpdal_plugin_reader_pcd.so:
Failed to load "/usr/lib/libpdal_plugin_reader_pcd.so":
/usr/lib/libpcl_io.so.1.8: undefined symbol:
_ZNSt8ios_base7failureC1EPKcRKSt10error_code(PDAL Error) Plugin
'/usr/lib/libpdal_plugin_reader_pcd.so' found but failed to load: Failed to
load "/usr/lib/libpdal_plugin_reader_pcd.so": /usr/lib/libpcl_io.so.1.8:
undefined symbol: _ZNSt8ios_base7failureC1EPKcRKSt10error_code

I tried installing libpcl1.7 (which is what apt wants to put down) but it
didn't help.

I'll appreciate any guidance.

msr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170302/06e62aec/attachment-0001.html>

From andrew.bell.ia at gmail.com  Fri Mar  3 06:01:13 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 3 Mar 2017 08:01:13 -0600
Subject: [pdal] filters.attributes reference failing and libpcl missing
 when using docker build v1.4
In-Reply-To: <CAAhorQnntVxi8xVzR70rbdfoA+XOiJqrhM6y8+Sj5nzQyd_XCw@mail.gmail.com>
References: <CAAhorQnntVxi8xVzR70rbdfoA+XOiJqrhM6y8+Sj5nzQyd_XCw@mail.gmail.com>
Message-ID: <CACJ51z33Sj00QJ33J3vqRFNuSSctLKQ++21uQLjYsdmyPzkvYA@mail.gmail.com>

This is very strange and seems to be an issue with your docker installation
or some such.  I'm not much of a docker person, but if the loader can't
find the base ios C++ functions, something is wrong beyond PDAL.

Perhaps some people with more docker experience can shed some light.

On Thu, Mar 2, 2017 at 6:14 PM, Michael Rosen <michael.rosen at gmail.com>
wrote:

>
>
> I'm following the workshop presentation using the docker build of pdal 1.4
> (I'm on  linux mint 18).  I find the following:
>
> 1.  following the "analysis / clipping" exercise, it seems that
> filters.attribute filter stage is failing:
>
> msr at msr-linux ~ $ sudo docker run -v /home/msr/PDAL_workshop/:/data -t
> pdal/pdal:1.4 pdal pipeline        /data/exercises/analysis/
> clipping/clipping.json
> PDAL: Couldn't create filter stage of type 'filters.attribute'.
>
> There's a relevant pull request (https://github.com/PDAL/PDAL/pull/1171)
> but no indication of what to do instead.
>
> 2.  I thought perhaps "pdal --drivers" would shed some light on the
> situation. Sadly, when I did, pdal failed to load:
>
> msr at msr-linux ~ $ sudo docker run -v /home/msr/PDAL_workshop/:/data -t
> pdal/pdal:1.4 pdal --drivers
> (PDAL Error) Can't load library /usr/lib/libpdal_plugin_reader_pcd.so:
> Failed to load "/usr/lib/libpdal_plugin_reader_pcd.so":
> /usr/lib/libpcl_io.so.1.8: undefined symbol: _ZNSt8ios_
> base7failureC1EPKcRKSt10error_code(PDAL Error) Plugin
> '/usr/lib/libpdal_plugin_reader_pcd.so' found but failed to load: Failed
> to load "/usr/lib/libpdal_plugin_reader_pcd.so":
> /usr/lib/libpcl_io.so.1.8: undefined symbol: _ZNSt8ios_
> base7failureC1EPKcRKSt10error_code
>
> I tried installing libpcl1.7 (which is what apt wants to put down) but it
> didn't help.
>
> I'll appreciate any guidance.
>
> msr
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170303/ea33e945/attachment.html>

From howard at hobu.co  Fri Mar  3 06:06:16 2017
From: howard at hobu.co (Howard Butler)
Date: Fri, 3 Mar 2017 08:06:16 -0600
Subject: [pdal] filters.attributes reference failing and libpcl missing
 when using docker build v1.4
In-Reply-To: <CACJ51z33Sj00QJ33J3vqRFNuSSctLKQ++21uQLjYsdmyPzkvYA@mail.gmail.com>
References: <CAAhorQnntVxi8xVzR70rbdfoA+XOiJqrhM6y8+Sj5nzQyd_XCw@mail.gmail.com>
 <CACJ51z33Sj00QJ33J3vqRFNuSSctLKQ++21uQLjYsdmyPzkvYA@mail.gmail.com>
Message-ID: <3BFA2A18-FB97-4377-A2CD-EC2A54DB5264@hobu.co>

A pdal/pdal:1.4 docker image is currently refreshing on DockerHub that I expect will cure the issue. There were a couple of things:

1) PCL wasn't linking correctly. I found a way to revert to PCL 1.7 from Xenial instead of building our own
2) I suspect the image wasn't actually 1.4, but rather a master branch build. The Dockerfile wasn't checking out the 1.4-maintenance branch to build, and it was switching to master. 

filters.attribute was split into filters.overlay and filters.assign for the upcoming 1.5 release. The docs aren't quite up to date on that topic. A ticket tracking it is at https://github.com/PDAL/PDAL/issues/1510 <https://github.com/PDAL/PDAL/issues/1510>

Howard

> On Mar 3, 2017, at 8:01 AM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
> 
> This is very strange and seems to be an issue with your docker installation or some such.  I'm not much of a docker person, but if the loader can't find the base ios C++ functions, something is wrong beyond PDAL.
> 
> Perhaps some people with more docker experience can shed some light.
> 
> On Thu, Mar 2, 2017 at 6:14 PM, Michael Rosen <michael.rosen at gmail.com <mailto:michael.rosen at gmail.com>> wrote:
> 
> 
> I'm following the workshop presentation using the docker build of pdal 1.4 (I'm on  linux mint 18).  I find the following:
> 
> 1.  following the "analysis / clipping" exercise, it seems that filters.attribute filter stage is failing:
> 
> msr at msr-linux ~ $ sudo docker run -v /home/msr/PDAL_workshop/:/data -t pdal/pdal:1.4 pdal pipeline        /data/exercises/analysis/clipping/clipping.json
> PDAL: Couldn't create filter stage of type 'filters.attribute'.
> 
> There's a relevant pull request (https://github.com/PDAL/PDAL/pull/1171 <https://github.com/PDAL/PDAL/pull/1171>) but no indication of what to do instead.
> 
> 2.  I thought perhaps "pdal --drivers" would shed some light on the situation. Sadly, when I did, pdal failed to load:
> 
> msr at msr-linux ~ $ sudo docker run -v /home/msr/PDAL_workshop/:/data -t pdal/pdal:1.4 pdal --drivers
> (PDAL Error) Can't load library /usr/lib/libpdal_plugin_reader_pcd.so: Failed to load "/usr/lib/libpdal_plugin_reader_pcd.so": /usr/lib/libpcl_io.so.1.8: undefined symbol: _ZNSt8ios_base7failureC1EPKcRKSt10error_code(PDAL Error) Plugin '/usr/lib/libpdal_plugin_reader_pcd.so' found but failed to load: Failed to load "/usr/lib/libpdal_plugin_reader_pcd.so": /usr/lib/libpcl_io.so.1.8: undefined symbol: _ZNSt8ios_base7failureC1EPKcRKSt10error_code
> 
> I tried installing libpcl1.7 (which is what apt wants to put down) but it didn't help.
> 
> I'll appreciate any guidance.
> 
> msr
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
> 
> 
> 
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>_______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170303/13cdecfb/attachment.html>

From fpoux at ulg.ac.be  Fri Mar  3 06:24:32 2017
From: fpoux at ulg.ac.be (Florent Poux)
Date: Fri, 3 Mar 2017 15:24:32 +0100
Subject: [pdal] Pipeline problem
In-Reply-To: <CAO=FyjJS4dmdXPL-gsTCj5f0U1BghS7QcFvRVRGTypye6+CL1A@mail.gmail.com>
References: <9861b0de-7aed-0b73-71b1-35401aa01cdf@ulg.ac.be>
 <afc595b9-bb50-f74d-5c17-959b60654a97@ulg.ac.be>
 <CAO=FyjJS4dmdXPL-gsTCj5f0U1BghS7QcFvRVRGTypye6+CL1A@mail.gmail.com>
Message-ID: <d0ba42df-4865-5834-4e61-e8f3612cad00@ulg.ac.be>

perfect, problem resolved. thank you for your guidance !

Kind regards,

Florent

Le 02/03/2017 à 18:14, Connor Manning a écrit :
> Looks like your paths don't map to your volumes properly.  If your 
> data is at D:\DEV\PDAL\TEST, then you'll need to map that volume as 
> well.  Try changing your "filename" in your JSON pipeline to 
> "/test/CC10_000000.txt", and then use the invocation:
>
> docker run -v /d/DEV/PDAL/PIPELINES:/pipelines -v 
> /d/DEV/PDAL/TEST:/test pdal/pdal:1.4 pdal pipeline 
> /pipelines/Sample_pipeline.json
>
> On Thu, Mar 2, 2017 at 11:05 AM, Florent Poux <fpoux at ulg.ac.be 
> <mailto:fpoux at ulg.ac.be>> wrote:
>
>     Dear all,
>     I face a pipeline problem on which I struggle (and you may have a
>     quick answer to it).
>
>     Here is my command line (using docker):
>     >>> docker run -v /d/DEV/PDAL/PIPELINES:/data pdal/pdal:1.4 pdal
>     pipeline /data/Sample_pipeline.json
>     result >>> PDAL: readers.text: Unable to open text file
>     'C10_000000.txt'.
>
>     And here is the problematic part of my json pipeline :
>     {
>       "pipeline":[
>         {
>           "type":"readers.text",
>           "filename":"CC10_000000.txt"
>         },
>         {
>           "type":"filters.chipper",
>           "capacity":800
>         },
>
>     Is that a path problem (I tried ../TEST/CC10_000000.txt but didn't
>     work either) ? Or a size limit on txt file (env. 600 Mo) ? Other ?
>
>     My data location : D:\DEV\PDAL\TEST
>     My json pipelines locations : D:\DEV\PDAL\PIPELINES
>
>     Thanks in advance !
>     Kind regards,
>
>     F. Poux
>     _______________________________________________
>     pdal mailing list
>     pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
>     https://lists.osgeo.org/mailman/listinfo/pdal
>     <https://lists.osgeo.org/mailman/listinfo/pdal>
>
>


From howard at hobu.co  Fri Mar  3 07:25:41 2017
From: howard at hobu.co (Howard Butler)
Date: Fri, 3 Mar 2017 09:25:41 -0600
Subject: [pdal] filters.attributes reference failing and libpcl missing
 when using docker build v1.4
In-Reply-To: <3BFA2A18-FB97-4377-A2CD-EC2A54DB5264@hobu.co>
References: <CAAhorQnntVxi8xVzR70rbdfoA+XOiJqrhM6y8+Sj5nzQyd_XCw@mail.gmail.com>
 <CACJ51z33Sj00QJ33J3vqRFNuSSctLKQ++21uQLjYsdmyPzkvYA@mail.gmail.com>
 <3BFA2A18-FB97-4377-A2CD-EC2A54DB5264@hobu.co>
Message-ID: <A2305A9E-CBE0-4DCA-80DE-52C2D5583132@hobu.co>

A follow up to let you know that the image is now refreshed and should behave as expected. Please let me know if you still have any issues.

> [hobu at pyro docker (master)]$ docker run pdal/pdal:1.4 pdal --drivers
> 
> ============================ ===================================================
> Name                         Description
> ============================ ===================================================
> filters.approximatecoplanar  ApproximateCoplanar Filter
> filters.attribute            Assign values for a dimension using a specified
>                              value, an OGR-readable data source, or an OGR SQL
>                              query.


From howard at hobu.co  Fri Mar  3 11:11:43 2017
From: howard at hobu.co (Howard Butler)
Date: Fri, 3 Mar 2017 13:11:43 -0600
Subject: [pdal] Building a PDAL pipeline in python
In-Reply-To: <0DD991CE-540F-4C3A-B0CB-1C9050C33646@gmail.com>
References: <19118717-3758-4A97-9B0C-32DDC3D6E462@gmail.com>
 <CACJ51z3bTOiiJ9d2fDCe32dKP66bJfvhYBqoHFq_5N+=211M2g@mail.gmail.com>
 <214C4993-95E3-434A-BE2C-5215A94D4617@hobu.co>
 <58A6007C-4442-4B8E-B491-55AC2A870007@gmail.com>
 <C82FF509-DB97-4C0A-998C-5F6A5879E14C@hobu.co>
 <0DD991CE-540F-4C3A-B0CB-1C9050C33646@gmail.com>
Message-ID: <47043CC1-38B6-480F-AE04-F496648C7E64@hobu.co>

The first problem is your cropping point is 

> POINT(671977.149785037 6621359.13979493)


but your coordinates for your file are in the box of 

>   Bounding Box:		1650000.00, 2079634.85, 1652999.99, 2081999.99


That's going to throw out all of the data and return a numpy array with zero points.

The second problem is there's a bug with loglevel = 9 that is causing the segfault. It has been fixed in master, but if you set your loglevel to something like 3 or 4 it should work.

Howard

From michael.rosen at gmail.com  Fri Mar  3 17:57:09 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Fri, 3 Mar 2017 17:57:09 -0800
Subject: [pdal] filters.attributes reference failing and libpcl missing
 when using docker build v1.4
In-Reply-To: <A2305A9E-CBE0-4DCA-80DE-52C2D5583132@hobu.co>
References: <CAAhorQnntVxi8xVzR70rbdfoA+XOiJqrhM6y8+Sj5nzQyd_XCw@mail.gmail.com>
 <CACJ51z33Sj00QJ33J3vqRFNuSSctLKQ++21uQLjYsdmyPzkvYA@mail.gmail.com>
 <3BFA2A18-FB97-4377-A2CD-EC2A54DB5264@hobu.co>
 <A2305A9E-CBE0-4DCA-80DE-52C2D5583132@hobu.co>
Message-ID: <CAAhorQk2tZjwxSw4prhcdM9C4KAofWc-jWAX6eCK1Zt1cq2=Gg@mail.gmail.com>

Thanks very much for this.  I confirm the 1.4 image behaves as expected.
You may want to update the workshop notes to address the writers.p2g -->
writers.gdal change.

If I made the pipeline look like this:

{
    "pipeline": [
        "/data/exercises/analysis/ground/denoised-ground-only.laz",
        {
            "filename":"/data/exercises/analysis/dtm/dtm.tif",
            "resolution":"2.0",
            "radius":"3.0",
            "output_type":"mean",
            "type": "writers.gdal"
        }
    ]
}

then I get a tif file that looks like this:

[image: Inline image 1]

which is isn't pretty but does generally work.

Thanks for the great effort here!

msr

On Fri, Mar 3, 2017 at 7:25 AM, Howard Butler <howard at hobu.co> wrote:

> A follow up to let you know that the image is now refreshed and should
> behave as expected. Please let me know if you still have any issues.
>
> > [hobu at pyro docker (master)]$ docker run pdal/pdal:1.4 pdal --drivers
> >
> > ============================ ==============================
> =====================
> > Name                         Description
> > ============================ ==============================
> =====================
> > filters.approximatecoplanar  ApproximateCoplanar Filter
> > filters.attribute            Assign values for a dimension using a
> specified
> >                              value, an OGR-readable data source, or an
> OGR SQL
> >                              query.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170303/962b12e5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 300715 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170303/962b12e5/attachment-0001.png>

From howard at hobu.co  Sat Mar  4 16:11:09 2017
From: howard at hobu.co (Howard Butler)
Date: Sat, 4 Mar 2017 18:11:09 -0600
Subject: [pdal] filters.attributes reference failing and libpcl missing
 when using docker build v1.4
In-Reply-To: <CAAhorQk2tZjwxSw4prhcdM9C4KAofWc-jWAX6eCK1Zt1cq2=Gg@mail.gmail.com>
References: <CAAhorQnntVxi8xVzR70rbdfoA+XOiJqrhM6y8+Sj5nzQyd_XCw@mail.gmail.com>
 <CACJ51z33Sj00QJ33J3vqRFNuSSctLKQ++21uQLjYsdmyPzkvYA@mail.gmail.com>
 <3BFA2A18-FB97-4377-A2CD-EC2A54DB5264@hobu.co>
 <A2305A9E-CBE0-4DCA-80DE-52C2D5583132@hobu.co>
 <CAAhorQk2tZjwxSw4prhcdM9C4KAofWc-jWAX6eCK1Zt1cq2=Gg@mail.gmail.com>
Message-ID: <08129E32-EACC-437A-840D-46636A83699F@hobu.co>


> On Mar 3, 2017, at 7:57 PM, Michael Rosen <michael.rosen at gmail.com> wrote:
> 
> Thanks very much for this.  I confirm the 1.4 image behaves as expected.   You may want to update the workshop notes to address the writers.p2g --> writers.gdal change.  

Excellent.

Ticket filed https://github.com/PDAL/PDAL/issues/1512 <https://github.com/PDAL/PDAL/issues/1512> on the documentation nit.

Howard


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170304/c2598854/attachment.html>

From connor at hobu.co  Wed Mar  8 09:10:08 2017
From: connor at hobu.co (Connor Manning)
Date: Wed, 8 Mar 2017 11:10:08 -0600
Subject: [pdal] Entwine 1.0 released
Message-ID: <CAO=FyjLr6o+4wNQZvrYp+ntrmX0OC46mCjKPNXKng=Z_+NDJWA@mail.gmail.com>

I'd like to announce the release of Entwine 1.0, a project built upon PDAL.

Entwine is an octree-based spatial indexing transformation tool for point
clouds from the desktop scale up to many hundreds of billions of points.
It is fully lossless, and capable of serving both LoD-renderers and
processing applications.

An HTTP server called Greyhound provides abstract access to Entwine data -
this server can provide a back-end for clients like the LoD version of
Plasio (speck.ly) and Potree.  There is also a PDAL reader to query point
data from a Greyhound server for processing within a PDAL pipeline.
Entwine can also generate Cesium 3D-Tiles output.

Downloads are available at https://entwine.io/download.html.

Entwine - https://entwine.io/
Greyhound - http://greyhound.io/
Plasio - http://speck.ly/
Potree - http://potree.entwine.io/
Cesium - http://cesium.entwine.io/
PDAL Greyhound reader - https://www.pdal.io/stages/readers.greyhound.html

Regards,
Connor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170308/5e1926b1/attachment.html>

From howard at hobu.co  Wed Mar  8 09:36:00 2017
From: howard at hobu.co (Howard Butler)
Date: Wed, 8 Mar 2017 11:36:00 -0600
Subject: [pdal] Metadata/Pipeline processing record
Message-ID: <BB3E185C-31FD-4D35-9AEC-F69EC91261E9@hobu.co>

I have implemented an option for the LAS writer that allows you to write VLRs for both PDAL's metadata and pipeline JSON. I am hoping this capability will allow users to have a processing record to be stored along with the data. 

An example scenario where this might be useful. Say I wrote a pipeline that did a filters.range that was backwards and threw out rather than kept data I wanted in output. I then ran that pipeline over 1000s of files, but I didn't catch it at the time. Those files where then mixed in with 10000s of thousands of files later on and a month later I discovered the issue and have a panic attack. Let's say there's no LAS standard metadata that is helpful except for cumulating stats on the attribute that was wrong in `filters.range`. Depending on my filter and the data, I might not be able to disambiguate with only that.

If I have PDAL's pipeline and processing metadata available in file VLRs, I can write some Python or JavaScript scripts to go through those VLRs and search for exactly the files that have the problem. The following example uses the jq [1] utility to rip through the JSON output and grab the filters.range limits.

> pdal info --metadata badfile.las | jq .metadata.pdal_pipeline.pipeline[1].limits


If you think this is useful, or you have other scenarios where this would be immediately useful, please add to the ticket [2].

Howard


[1] https://stedolan.github.io/jq/manual/
[2] https://github.com/PDAL/PDAL/issues/1509

From andrew.bell.ia at gmail.com  Wed Mar  8 10:19:50 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Wed, 8 Mar 2017 12:19:50 -0600
Subject: [pdal] Bathymetry Support
Message-ID: <CACJ51z0turOdP+aXeREQEOafxtMeQm5ZF3P-go=tVR=JvsxbXQ@mail.gmail.com>

Hi all,

I just added support in PDAL for bathymetry data that's readable by the
MB-System API.  If you use this kind of data and would be interested in
testing, we'd love to have your feedback.  Let me know if you have
questions.

Thanks,

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170308/6c913708/attachment.html>

From fpoux at ulg.ac.be  Thu Mar  9 04:13:21 2017
From: fpoux at ulg.ac.be (Florent Poux)
Date: Thu, 9 Mar 2017 13:13:21 +0100
Subject: [pdal] SQL & writers.pgpointcloud
Message-ID: <347009e4-c84d-31af-0750-7e4c1f6f3e74@ulg.ac.be>

Dear all,

is there a way not to DROP TABLE before writing to PostgresQL using PDAL ?

To be more specific, I would like to write different point clouds to the 
same table (existing table) by just adding lines under and executing an 
SQL query only on those new lines.

For now I manage to do this by creating a temporary table, but as you 
can guess UNION opearation is not a very efficient way for large 
datasets :).

Kind regards,

F. Poux


From andrew.bell.ia at gmail.com  Thu Mar  9 05:21:40 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Thu, 9 Mar 2017 07:21:40 -0600
Subject: [pdal] SQL & writers.pgpointcloud
In-Reply-To: <347009e4-c84d-31af-0750-7e4c1f6f3e74@ulg.ac.be>
References: <347009e4-c84d-31af-0750-7e4c1f6f3e74@ulg.ac.be>
Message-ID: <CACJ51z37N8zeMaq6iUM-WQFqNqQ46eiwFDE6F=17Stcmy-LoKg@mail.gmail.com>

Simply set the "--overwrite" option to false (default is true).

Hope that helps,

On Thu, Mar 9, 2017 at 6:13 AM, Florent Poux <fpoux at ulg.ac.be> wrote:

> Dear all,
>
> is there a way not to DROP TABLE before writing to PostgresQL using PDAL ?
>
> To be more specific, I would like to write different point clouds to the
> same table (existing table) by just adding lines under and executing an SQL
> query only on those new lines.
>
> For now I manage to do this by creating a temporary table, but as you can
> guess UNION opearation is not a very efficient way for large datasets :).
>
> Kind regards,
>
> F. Poux
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal




-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170309/3c64c071/attachment.html>

From howard at hobu.co  Thu Mar  9 05:35:35 2017
From: howard at hobu.co (Howard Butler)
Date: Thu, 9 Mar 2017 07:35:35 -0600
Subject: [pdal] SQL & writers.pgpointcloud
In-Reply-To: <CACJ51z37N8zeMaq6iUM-WQFqNqQ46eiwFDE6F=17Stcmy-LoKg@mail.gmail.com>
References: <347009e4-c84d-31af-0750-7e4c1f6f3e74@ulg.ac.be>
 <CACJ51z37N8zeMaq6iUM-WQFqNqQ46eiwFDE6F=17Stcmy-LoKg@mail.gmail.com>
Message-ID: <57112564-02BF-4D21-8FCD-EA8991A823FB@hobu.co>


> On Mar 9, 2017, at 7:21 AM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
> 
> Simply set the "--overwrite" option to false (default is true).

This seems like we could unintentionally cause pain with this default. I think maybe we should switch it to default to not nuking the table and overwriting.

https://github.com/PDAL/PDAL/issues/1516

Howard

From renoud at qps.nl  Thu Mar  9 11:32:48 2017
From: renoud at qps.nl (Weston Renoud)
Date: Thu, 9 Mar 2017 19:32:48 +0000
Subject: [pdal] Bathymetry Support
In-Reply-To: <CACJ51z0turOdP+aXeREQEOafxtMeQm5ZF3P-go=tVR=JvsxbXQ@mail.gmail.com>
References: <CACJ51z0turOdP+aXeREQEOafxtMeQm5ZF3P-go=tVR=JvsxbXQ@mail.gmail.com>
Message-ID: <861DE693B77E2845.FC800302-9CDE-4CCB-9D76-7E249E39F8E9@mail.outlook.com>

Hi Andrew,

I'm sure you'd get some interested parties if you post to the MB-System mailing list.

I'm a hydrographer by training but have only ever used commercial applications. If time allows this gives me more incentive to get an MB-System install to play around with some data.

Weston




On Wed, Mar 8, 2017 at 7:19 PM +0100, "Andrew Bell" <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>> wrote:

Hi all,

I just added support in PDAL for bathymetry data that's readable by the MB-System API.  If you use this kind of data and would be interested in testing, we'd love to have your feedback.  Let me know if you have questions.

Thanks,

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170309/a6c78970/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: ATT00001.txt
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170309/a6c78970/attachment.txt>

From sebastien.guimmara.external at airbus.com  Mon Mar 13 07:04:22 2017
From: sebastien.guimmara.external at airbus.com (=?iso-8859-1?Q?GUIMMARA=2C_S=E9bastien_=28External=29?=)
Date: Mon, 13 Mar 2017 14:04:22 +0000
Subject: [pdal] [writers.gdal] How to specify the output data type as
	Float32?
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E46870096@tlswinmbx01.toulouse.spotimage.int>

Dear all,

I have successfully converted a point cloud to a GTiff raster using pdal pipeline and I noticed that PDAL creates rasters of Float64 data type. Unfortunately, the next step in our data processing only accepts 32-bit data types. Is there a way to specify this data type in the pipeline using the gdalopts parameter ?

Moreover, the exact syntax of the gdalopts parameter is unclear. Is it a single string encapsulating all options ? e.g:

"gdalopts":"KEY0=VALUE0,KEY1=VALUE1,..."

Kind regards,

Sébastien



Please consider the environment before printing this email message.
________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.
________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.



From andrew.bell.ia at gmail.com  Mon Mar 13 07:51:41 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Mon, 13 Mar 2017 09:51:41 -0500
Subject: [pdal] [writers.gdal] How to specify the output data type as
	Float32?
In-Reply-To: <A1DABC8AB3291742B3D4C714F72B2F8E46870096@tlswinmbx01.toulouse.spotimage.int>
References: <A1DABC8AB3291742B3D4C714F72B2F8E46870096@tlswinmbx01.toulouse.spotimage.int>
Message-ID: <CACJ51z0_u8TeXEq1m6kg48-2kdP_TpMymv-oW2NfPFFcLNFmNg@mail.gmail.com>

On Mon, Mar 13, 2017 at 9:04 AM, GUIMMARA, Sébastien (External) <
sebastien.guimmara.external at airbus.com> wrote:

> Dear all,
>
> I have successfully converted a point cloud to a GTiff raster using pdal
> pipeline and I noticed that PDAL creates rasters of Float64 data type.
> Unfortunately, the next step in our data processing only accepts 32-bit
> data types. Is there a way to specify this data type in the pipeline using
> the gdalopts parameter ?
>

No.  This is an open issue that I hope to fix soon.

Moreover, the exact syntax of the gdalopts parameter is unclear. Is it a
> single string encapsulating all options ? e.g:
>
> "gdalopts":"KEY0=VALUE0,KEY1=VALUE1,..."
>

It *should* work, but apparently there's a bug.  The arguments aren't
passed along.  I'll fix shortly.

Hope that helps.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170313/2246ebdb/attachment.html>

From sebastien.guimmara.external at airbus.com  Mon Mar 13 08:12:59 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Mon, 13 Mar 2017 15:12:59 +0000
Subject: [pdal] [writers.gdal] How to specify the output data type as
 Float32?
In-Reply-To: <10205_1489416704_58C6B200_10205_10389_7_CACJ51z0_u8TeXEq1m6kg48-2kdP_TpMymv-oW2NfPFFcLNFmNg@mail.gmail.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E46870096@tlswinmbx01.toulouse.spotimage.int>
 <10205_1489416704_58C6B200_10205_10389_7_CACJ51z0_u8TeXEq1m6kg48-2kdP_TpMymv-oW2NfPFFcLNFmNg@mail.gmail.com>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E468700BE@tlswinmbx01.toulouse.spotimage.int>

Thanks for the quick reply. I’ll use a workaround for the moment (gdal_translate) to convert the data types.

Sébastien

De : Andrew Bell [mailto:andrew.bell.ia at gmail.com]
Envoyé : lundi 13 mars 2017 15:52
À : GUIMMARA, Sébastien (External)
Cc : pdal at lists.osgeo.org
Objet : Re: [pdal] [writers.gdal] How to specify the output data type as Float32?

On Mon, Mar 13, 2017 at 9:04 AM, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:
Dear all,

I have successfully converted a point cloud to a GTiff raster using pdal pipeline and I noticed that PDAL creates rasters of Float64 data type. Unfortunately, the next step in our data processing only accepts 32-bit data types. Is there a way to specify this data type in the pipeline using the gdalopts parameter ?

No.  This is an open issue that I hope to fix soon.

Moreover, the exact syntax of the gdalopts parameter is unclear. Is it a single string encapsulating all options ? e.g:

"gdalopts":"KEY0=VALUE0,KEY1=VALUE1,..."

It *should* work, but apparently there's a bug.  The arguments aren't passed along.  I'll fix shortly.

Hope that helps.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>



[cid:imagecf27d0.JPG at f5a07664.43b5ba3e] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170313/dd1b5f80/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imagecf27d0.JPG
Type: image/jpeg
Size: 625 bytes
Desc: imagecf27d0.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170313/dd1b5f80/attachment.jpe>

From andrew.bell.ia at gmail.com  Mon Mar 13 10:28:22 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Mon, 13 Mar 2017 12:28:22 -0500
Subject: [pdal] [writers.gdal] How to specify the output data type as
	Float32?
In-Reply-To: <A1DABC8AB3291742B3D4C714F72B2F8E468700BE@tlswinmbx01.toulouse.spotimage.int>
References: <A1DABC8AB3291742B3D4C714F72B2F8E46870096@tlswinmbx01.toulouse.spotimage.int>
 <10205_1489416704_58C6B200_10205_10389_7_CACJ51z0_u8TeXEq1m6kg48-2kdP_TpMymv-oW2NfPFFcLNFmNg@mail.gmail.com>
 <A1DABC8AB3291742B3D4C714F72B2F8E468700BE@tlswinmbx01.toulouse.spotimage.int>
Message-ID: <CACJ51z3sSmU_rX9EYHsF0b2+2LMeYyshC=jvg2LO3iTiCe0jow@mail.gmail.com>

On Mon, Mar 13, 2017 at 10:12 AM, GUIMMARA, Sébastien (External) <
sebastien.guimmara.external at airbus.com> wrote:

> Thanks for the quick reply. I’ll use a workaround for the moment
> (gdal_translate) to convert the data types.
>
>
>
> Sébastien
>
>
>
> *De :* Andrew Bell [mailto:andrew.bell.ia at gmail.com]
> *Envoyé :* lundi 13 mars 2017 15:52
> *À :* GUIMMARA, Sébastien (External)
> *Cc :* pdal at lists.osgeo.org
> *Objet :* Re: [pdal] [writers.gdal] How to specify the output data type
> as Float32?
>
>
>
> On Mon, Mar 13, 2017 at 9:04 AM, GUIMMARA, Sébastien (External) <
> sebastien.guimmara.external at airbus.com> wrote:
>
> Dear all,
>
> I have successfully converted a point cloud to a GTiff raster using pdal
> pipeline and I noticed that PDAL creates rasters of Float64 data type.
> Unfortunately, the next step in our data processing only accepts 32-bit
> data types. Is there a way to specify this data type in the pipeline using
> the gdalopts parameter ?
>
>
>
> No.  This is an open issue that I hope to fix soon.
>
>
>
> Moreover, the exact syntax of the gdalopts parameter is unclear. Is it a
> single string encapsulating all options ? e.g:
>
> "gdalopts":"KEY0=VALUE0,KEY1=VALUE1,..."
>
>
>
> It *should* work, but apparently there's a bug.  The arguments aren't
> passed along.  I'll fix shortly.
>

I've fixed the issue of gdalopts being ignored in the master branch.
Please let me know if have other problems.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170313/5d229f88/attachment-0001.html>

From sebastien.guimmara.external at airbus.com  Tue Mar 14 02:32:12 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Tue, 14 Mar 2017 09:32:12 +0000
Subject: [pdal] [writers.gdal] How to specify the output data type as
 Float32?
In-Reply-To: <9288_1489426105_58C6D6B9_9288_3934_1_CACJ51z3sSmU_rX9EYHsF0b2+2LMeYyshC=jvg2LO3iTiCe0jow@mail.gmail.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E46870096@tlswinmbx01.toulouse.spotimage.int>
 <10205_1489416704_58C6B200_10205_10389_7_CACJ51z0_u8TeXEq1m6kg48-2kdP_TpMymv-oW2NfPFFcLNFmNg@mail.gmail.com>
 <A1DABC8AB3291742B3D4C714F72B2F8E468700BE@tlswinmbx01.toulouse.spotimage.int>
 <9288_1489426105_58C6D6B9_9288_3934_1_CACJ51z3sSmU_rX9EYHsF0b2+2LMeYyshC=jvg2LO3iTiCe0jow@mail.gmail.com>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E4687011C@tlswinmbx01.toulouse.spotimage.int>

I actually don’t need to use the gdalopts parameter. I just thought it was the way to output Float32 datasets before I knew it was a limitation of PDAL.

Sébastien

De : Andrew Bell [mailto:andrew.bell.ia at gmail.com]
Envoyé : lundi 13 mars 2017 18:28
À : GUIMMARA, Sébastien (External)
Cc : pdal at lists.osgeo.org
Objet : Re: [pdal] [writers.gdal] How to specify the output data type as Float32?

On Mon, Mar 13, 2017 at 10:12 AM, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:
Thanks for the quick reply. I’ll use a workaround for the moment (gdal_translate) to convert the data types.

Sébastien

De : Andrew Bell [mailto:andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>]
Envoyé : lundi 13 mars 2017 15:52
À : GUIMMARA, Sébastien (External)
Cc : pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
Objet : Re: [pdal] [writers.gdal] How to specify the output data type as Float32?

On Mon, Mar 13, 2017 at 9:04 AM, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:
Dear all,

I have successfully converted a point cloud to a GTiff raster using pdal pipeline and I noticed that PDAL creates rasters of Float64 data type. Unfortunately, the next step in our data processing only accepts 32-bit data types. Is there a way to specify this data type in the pipeline using the gdalopts parameter ?

No.  This is an open issue that I hope to fix soon.

Moreover, the exact syntax of the gdalopts parameter is unclear. Is it a single string encapsulating all options ? e.g:

"gdalopts":"KEY0=VALUE0,KEY1=VALUE1,..."

It *should* work, but apparently there's a bug.  The arguments aren't passed along.  I'll fix shortly.

I've fixed the issue of gdalopts being ignored in the master branch.  Please let me know if have other problems.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>



[cid:image63eed3.JPG at b2127fe4.4aaaab8e] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/8b5b666f/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image63eed3.JPG
Type: image/jpeg
Size: 625 bytes
Desc: image63eed3.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/8b5b666f/attachment.jpe>

From alex at camulus.com  Tue Mar 14 13:34:39 2017
From: alex at camulus.com (Alex Jokela)
Date: Tue, 14 Mar 2017 16:34:39 -0400
Subject: [pdal] PDAL 1.4 compile error
Message-ID: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>

Hello-

I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:

CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
collect2: error: ld returned 1 exit status
make[2]: *** [bin/pdal_plugin_manager_test] Error 1
make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
make: *** [all] Error 2


I’m wondering if anyone has run into this, if so, is there a work around?

Thanks,
  -Alex

From howard at hobu.co  Tue Mar 14 13:56:54 2017
From: howard at hobu.co (Howard Butler)
Date: Tue, 14 Mar 2017 15:56:54 -0500
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
Message-ID: <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>


> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com> wrote:
> 
> Hello-
> 
> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
> 
> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
> collect2: error: ld returned 1 exit status
> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
> make: *** [all] Error 2
> 
> 
> I’m wondering if anyone has run into this, if so, is there a work around?

I suspect your compiler is too old. Which compiler are you using and which version?

Howard

From alex at camulus.com  Tue Mar 14 14:05:06 2017
From: alex at camulus.com (Alex Jokela)
Date: Tue, 14 Mar 2017 17:05:06 -0400
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
Message-ID: <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>

Howard-

It looks to be version 4.7.2

Thanks,

  -Alex

> On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co> wrote:
> 
> 
>> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com> wrote:
>> 
>> Hello-
>> 
>> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
>> 
>> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
>> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
>> collect2: error: ld returned 1 exit status
>> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
>> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
>> make: *** [all] Error 2
>> 
>> 
>> I’m wondering if anyone has run into this, if so, is there a work around?
> 
> I suspect your compiler is too old. Which compiler are you using and which version?
> 
> Howard


From andrew.bell.ia at gmail.com  Tue Mar 14 14:21:46 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 14 Mar 2017 16:21:46 -0500
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
Message-ID: <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>

Alex,

This indeed seems to be a bug in your compiler:
http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda

If you're willing to try your compiler with the master branch, I can push a
change that should get around the issue.  I think our use of that construct
is pretty limited, so this might get things working for you.  If things
compile/link I can backport the change to 1.4.


On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com> wrote:

> Howard-
>
> It looks to be version 4.7.2
>
> Thanks,
>
>   -Alex
>
> > On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co> wrote:
> >
> >
> >> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com> wrote:
> >>
> >> Hello-
> >>
> >> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time
> error:
> >>
> >> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In
> function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int
> (*)()() const':
> >> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPlu
> ginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9):
> undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_
> FUN()'
> >> collect2: error: ld returned 1 exit status
> >> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
> >> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all]
> Error 2
> >> make: *** [all] Error 2
> >>
> >>
> >> I’m wondering if anyone has run into this, if so, is there a work
> around?
> >
> > I suspect your compiler is too old. Which compiler are you using and
> which version?
> >
> > Howard
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/39d480dc/attachment.html>

From alex at camulus.com  Tue Mar 14 14:35:00 2017
From: alex at camulus.com (Alex Jokela)
Date: Tue, 14 Mar 2017 17:35:00 -0400
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
Message-ID: <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>

Andrew-

Thanks for the reply.


I game to try compiling from master.  I did run into a different compile error when I tried master earlier today.  I don’t have that error handy, though.  I’ll clone the repo, again, and will compile, if you’re interested in that error.

Let me know if you push the change you mentioned for a work around.

Thanks!

  -Alex

> On Mar 14, 2017, at 5:21 PM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
> 
> Alex,
> 
> This indeed seems to be a bug in your compiler: http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda <http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda>
> 
> If you're willing to try your compiler with the master branch, I can push a change that should get around the issue.  I think our use of that construct is pretty limited, so this might get things working for you.  If things compile/link I can backport the change to 1.4.
> 
> 
> On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
> Howard-
> 
> It looks to be version 4.7.2
> 
> Thanks,
> 
>   -Alex
> 
> > On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co <mailto:howard at hobu.co>> wrote:
> >
> >
> >> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
> >>
> >> Hello-
> >>
> >> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
> >>
> >> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
> >> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
> >> collect2: error: ld returned 1 exit status
> >> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
> >> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
> >> make: *** [all] Error 2
> >>
> >>
> >> I’m wondering if anyone has run into this, if so, is there a work around?
> >
> > I suspect your compiler is too old. Which compiler are you using and which version?
> >
> > Howard
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
> 
> 
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/a0672afa/attachment.html>

From Adam.Steer at anu.edu.au  Tue Mar 14 14:47:46 2017
From: Adam.Steer at anu.edu.au (Adam Steer)
Date: Tue, 14 Mar 2017 21:47:46 +0000
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
Message-ID: <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>

Alex, all

What OS are you using? For what it’s worth I went through similar issues building PDAL a while back on centOS 6. I got around it using devtoolset-4, which gave me newer compilers and ccmake3:

https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/

This was a hacky ‘gotta get it going’ solution, but it worked. Migrating to centOS 7 removed the need to use the devtoolset.

Adam


> On 15 Mar 2017, at 8:35 am, Alex Jokela <alex at camulus.com> wrote:
> 
> Andrew-
> 
> Thanks for the reply.
> 
> 
> I game to try compiling from master.  I did run into a different compile error when I tried master earlier today.  I don’t have that error handy, though.  I’ll clone the repo, again, and will compile, if you’re interested in that error.
> 
> Let me know if you push the change you mentioned for a work around.
> 
> Thanks!
> 
>   -Alex
> 
>> On Mar 14, 2017, at 5:21 PM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
>> 
>> Alex,
>> 
>> This indeed seems to be a bug in your compiler: http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda
>> 
>> If you're willing to try your compiler with the master branch, I can push a change that should get around the issue.  I think our use of that construct is pretty limited, so this might get things working for you.  If things compile/link I can backport the change to 1.4.
>> 
>> 
>> On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com> wrote:
>> Howard-
>> 
>> It looks to be version 4.7.2
>> 
>> Thanks,
>> 
>>   -Alex
>> 
>> > On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co> wrote:
>> >
>> >
>> >> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com> wrote:
>> >>
>> >> Hello-
>> >>
>> >> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
>> >>
>> >> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
>> >> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
>> >> collect2: error: ld returned 1 exit status
>> >> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
>> >> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
>> >> make: *** [all] Error 2
>> >>
>> >>
>> >> I’m wondering if anyone has run into this, if so, is there a work around?
>> >
>> > I suspect your compiler is too old. Which compiler are you using and which version?
>> >
>> > Howard
>> 
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
>> 
>> 
>> 
>> -- 
>> Andrew Bell
>> andrew.bell.ia at gmail.com
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal


From andrew.bell.ia at gmail.com  Tue Mar 14 14:48:25 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Tue, 14 Mar 2017 16:48:25 -0500
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
Message-ID: <CACJ51z2aBQ6MwWPrj2tsYs1YTJ25hr0incvSYx4PNFiMAqJ23Q@mail.gmail.com>

On Tue, Mar 14, 2017 at 4:35 PM, Alex Jokela <alex at camulus.com> wrote:

> Andrew-
>
> Thanks for the reply.
>
>
> I game to try compiling from master.  I did run into a different compile
> error when I tried master earlier today.  I don’t have that error handy,
> though.  I’ll clone the repo, again, and will compile, if you’re interested
> in that error.
>
> Let me know if you push the change you mentioned for a work around.
>

Done.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/59fd6f88/attachment.html>

From alex at camulus.com  Tue Mar 14 14:57:10 2017
From: alex at camulus.com (Alex Jokela)
Date: Tue, 14 Mar 2017 17:57:10 -0400
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
 <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>
Message-ID: <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>

Adam-

It’s a pretty old version of Debian (wheezy, maybe).  It looks like backports does have a slightly newer version of gcc (gcc-4.8).  I’m trying the fix that Andrew just pushed to master with my current compiler.  Seeing if that does the trick.

  -Alex

> On Mar 14, 2017, at 5:47 PM, Adam Steer <Adam.Steer at anu.edu.au> wrote:
> 
> Alex, all
> 
> What OS are you using? For what it’s worth I went through similar issues building PDAL a while back on centOS 6. I got around it using devtoolset-4, which gave me newer compilers and ccmake3:
> 
> https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/
> 
> This was a hacky ‘gotta get it going’ solution, but it worked. Migrating to centOS 7 removed the need to use the devtoolset.
> 
> Adam
> 
> 
>> On 15 Mar 2017, at 8:35 am, Alex Jokela <alex at camulus.com> wrote:
>> 
>> Andrew-
>> 
>> Thanks for the reply.
>> 
>> 
>> I game to try compiling from master.  I did run into a different compile error when I tried master earlier today.  I don’t have that error handy, though.  I’ll clone the repo, again, and will compile, if you’re interested in that error.
>> 
>> Let me know if you push the change you mentioned for a work around.
>> 
>> Thanks!
>> 
>>  -Alex
>> 
>>> On Mar 14, 2017, at 5:21 PM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
>>> 
>>> Alex,
>>> 
>>> This indeed seems to be a bug in your compiler: http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda
>>> 
>>> If you're willing to try your compiler with the master branch, I can push a change that should get around the issue.  I think our use of that construct is pretty limited, so this might get things working for you.  If things compile/link I can backport the change to 1.4.
>>> 
>>> 
>>> On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com> wrote:
>>> Howard-
>>> 
>>> It looks to be version 4.7.2
>>> 
>>> Thanks,
>>> 
>>>  -Alex
>>> 
>>>> On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co> wrote:
>>>> 
>>>> 
>>>>> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com> wrote:
>>>>> 
>>>>> Hello-
>>>>> 
>>>>> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
>>>>> 
>>>>> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
>>>>> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
>>>>> collect2: error: ld returned 1 exit status
>>>>> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
>>>>> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
>>>>> make: *** [all] Error 2
>>>>> 
>>>>> 
>>>>> I’m wondering if anyone has run into this, if so, is there a work around?
>>>> 
>>>> I suspect your compiler is too old. Which compiler are you using and which version?
>>>> 
>>>> Howard
>>> 
>>> _______________________________________________
>>> pdal mailing list
>>> pdal at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/pdal
>>> 
>>> 
>>> 
>>> -- 
>>> Andrew Bell
>>> andrew.bell.ia at gmail.com
>> 
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
> 


From alex at camulus.com  Tue Mar 14 15:19:46 2017
From: alex at camulus.com (Alex Jokela)
Date: Tue, 14 Mar 2017 18:19:46 -0400
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
 <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>
 <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>
Message-ID: <2AE3526B-AA4B-4DD2-B0E4-0E1A39E84F8C@camulus.com>

Andrew-

Here’s the error that I was also running into earlier with master, I just ran into again compiling a fresh pull (with your change):

In file included from /home/alex/src/pdal/vendor/arbiter/arbiter.cpp:43:0:
/home/alex/src/pdal/vendor/arbiter/arbiter.hpp:71:1: error: expected class-name before ‘{’ token
/home/alex/src/pdal/vendor/arbiter/arbiter.hpp: In constructor ‘pdal::arbiter::ArbiterError::ArbiterError(std::string)’:
/home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected class-name before ‘(’ token
/home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected ‘{’ before ‘(’ token
make[2]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/arbiter.cpp.o] Error 1
make[1]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/all] Error 2
make: *** [all] Error 2


> On Mar 14, 2017, at 5:57 PM, Alex Jokela <alex at camulus.com> wrote:
> 
> Adam-
> 
> It’s a pretty old version of Debian (wheezy, maybe).  It looks like backports does have a slightly newer version of gcc (gcc-4.8).  I’m trying the fix that Andrew just pushed to master with my current compiler.  Seeing if that does the trick.
> 
>  -Alex
> 
>> On Mar 14, 2017, at 5:47 PM, Adam Steer <Adam.Steer at anu.edu.au> wrote:
>> 
>> Alex, all
>> 
>> What OS are you using? For what it’s worth I went through similar issues building PDAL a while back on centOS 6. I got around it using devtoolset-4, which gave me newer compilers and ccmake3:
>> 
>> https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/
>> 
>> This was a hacky ‘gotta get it going’ solution, but it worked. Migrating to centOS 7 removed the need to use the devtoolset.
>> 
>> Adam
>> 
>> 
>>> On 15 Mar 2017, at 8:35 am, Alex Jokela <alex at camulus.com> wrote:
>>> 
>>> Andrew-
>>> 
>>> Thanks for the reply.
>>> 
>>> 
>>> I game to try compiling from master.  I did run into a different compile error when I tried master earlier today.  I don’t have that error handy, though.  I’ll clone the repo, again, and will compile, if you’re interested in that error.
>>> 
>>> Let me know if you push the change you mentioned for a work around.
>>> 
>>> Thanks!
>>> 
>>> -Alex
>>> 
>>>> On Mar 14, 2017, at 5:21 PM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
>>>> 
>>>> Alex,
>>>> 
>>>> This indeed seems to be a bug in your compiler: http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda
>>>> 
>>>> If you're willing to try your compiler with the master branch, I can push a change that should get around the issue.  I think our use of that construct is pretty limited, so this might get things working for you.  If things compile/link I can backport the change to 1.4.
>>>> 
>>>> 
>>>> On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com> wrote:
>>>> Howard-
>>>> 
>>>> It looks to be version 4.7.2
>>>> 
>>>> Thanks,
>>>> 
>>>> -Alex
>>>> 
>>>>> On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co> wrote:
>>>>> 
>>>>> 
>>>>>> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com> wrote:
>>>>>> 
>>>>>> Hello-
>>>>>> 
>>>>>> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
>>>>>> 
>>>>>> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
>>>>>> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
>>>>>> collect2: error: ld returned 1 exit status
>>>>>> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
>>>>>> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
>>>>>> make: *** [all] Error 2
>>>>>> 
>>>>>> 
>>>>>> I’m wondering if anyone has run into this, if so, is there a work around?
>>>>> 
>>>>> I suspect your compiler is too old. Which compiler are you using and which version?
>>>>> 
>>>>> Howard
>>>> 
>>>> _______________________________________________
>>>> pdal mailing list
>>>> pdal at lists.osgeo.org
>>>> https://lists.osgeo.org/mailman/listinfo/pdal
>>>> 
>>>> 
>>>> 
>>>> -- 
>>>> Andrew Bell
>>>> andrew.bell.ia at gmail.com
>>> 
>>> _______________________________________________
>>> pdal mailing list
>>> pdal at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/pdal
>> 
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal


From michael.rosen at gmail.com  Tue Mar 14 15:26:59 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Tue, 14 Mar 2017 15:26:59 -0700
Subject: [pdal] PCLBlock drops non-XYZ dimensions & what to do about
Message-ID: <CAAhorQ=pogn_3msRCLpYq37Fs0TwoU4Xj7JaeUoES7kD9CKOpg@mail.gmail.com>

Picking up on a conversation started on Gitter:  https://gitter.im/PDAL/PDAL

One problem we have with the PCLBlock filter is that we currently drop all
non-XYZ dimensions because when we marshal point cloud data from PDAL -->
PCL we needs to specify a PCL-compatible point type and we pick XYZ.  As a
result, when we marshal the result back, we there is nothing except XYZ.

One workaround suggested was to create a PCL point type that fits the
data.  My quick look suggests there is not such point type, even for the
simplest of LAS files.  Can someone confirm this?  These, I think, are the
options http://docs.pointclouds.org/1.5.1/point__types_8hpp_source.html ?
So, For example, no way to carry Classification to say nothing of LAS
metadata like the array of "Number of points by return."

The other suggestion was to return just the indices of the desired points.
Can someone say a little more about what PCL API would enable this?  Once
we had it, how can we get PDAL to remove all the points except those
returned?

One thought I had would be to sort the point cloud before marshaling it to
PCL and similarly sort the result from PCL.  Create the desired result set
by marching through the point clouds in parallel removing anything from the
original point cloud that isn't in the PCL result.



msr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/6dfc55f3/attachment.html>

From connor at hobu.co  Tue Mar 14 15:35:20 2017
From: connor at hobu.co (Connor Manning)
Date: Tue, 14 Mar 2017 17:35:20 -0500
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <2AE3526B-AA4B-4DD2-B0E4-0E1A39E84F8C@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
 <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>
 <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>
 <2AE3526B-AA4B-4DD2-B0E4-0E1A39E84F8C@camulus.com>
Message-ID: <CAO=FyjK_h2eBi-0c4jMp2+FiOW7ePYEMRCHyFFK=SF6uv+_O=A@mail.gmail.com>

Just pushed a fix for that error, please re-pull and try again.

On Tue, Mar 14, 2017 at 5:19 PM, Alex Jokela <alex at camulus.com> wrote:

> Andrew-
>
> Here’s the error that I was also running into earlier with master, I just
> ran into again compiling a fresh pull (with your change):
>
> In file included from /home/alex/src/pdal/vendor/arbiter/arbiter.cpp:43:0:
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:71:1: error: expected
> class-name before ‘{’ token
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp: In constructor
> ‘pdal::arbiter::ArbiterError::ArbiterError(std::string)’:
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected
> class-name before ‘(’ token
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected ‘{’
> before ‘(’ token
> make[2]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/arbiter.cpp.o]
> Error 1
> make[1]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/all] Error 2
> make: *** [all] Error 2
>
>
> > On Mar 14, 2017, at 5:57 PM, Alex Jokela <alex at camulus.com> wrote:
> >
> > Adam-
> >
> > It’s a pretty old version of Debian (wheezy, maybe).  It looks like
> backports does have a slightly newer version of gcc (gcc-4.8).  I’m trying
> the fix that Andrew just pushed to master with my current compiler.  Seeing
> if that does the trick.
> >
> >  -Alex
> >
> >> On Mar 14, 2017, at 5:47 PM, Adam Steer <Adam.Steer at anu.edu.au> wrote:
> >>
> >> Alex, all
> >>
> >> What OS are you using? For what it’s worth I went through similar
> issues building PDAL a while back on centOS 6. I got around it using
> devtoolset-4, which gave me newer compilers and ccmake3:
> >>
> >> https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/
> >>
> >> This was a hacky ‘gotta get it going’ solution, but it worked.
> Migrating to centOS 7 removed the need to use the devtoolset.
> >>
> >> Adam
> >>
> >>
> >>> On 15 Mar 2017, at 8:35 am, Alex Jokela <alex at camulus.com> wrote:
> >>>
> >>> Andrew-
> >>>
> >>> Thanks for the reply.
> >>>
> >>>
> >>> I game to try compiling from master.  I did run into a different
> compile error when I tried master earlier today.  I don’t have that error
> handy, though.  I’ll clone the repo, again, and will compile, if you’re
> interested in that error.
> >>>
> >>> Let me know if you push the change you mentioned for a work around.
> >>>
> >>> Thanks!
> >>>
> >>> -Alex
> >>>
> >>>> On Mar 14, 2017, at 5:21 PM, Andrew Bell <andrew.bell.ia at gmail.com>
> wrote:
> >>>>
> >>>> Alex,
> >>>>
> >>>> This indeed seems to be a bug in your compiler:
> http://stackoverflow.com/questions/35131734/undefined-
> reference-when-using-lambda
> >>>>
> >>>> If you're willing to try your compiler with the master branch, I can
> push a change that should get around the issue.  I think our use of that
> construct is pretty limited, so this might get things working for you.  If
> things compile/link I can backport the change to 1.4.
> >>>>
> >>>>
> >>>> On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com>
> wrote:
> >>>> Howard-
> >>>>
> >>>> It looks to be version 4.7.2
> >>>>
> >>>> Thanks,
> >>>>
> >>>> -Alex
> >>>>
> >>>>> On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co> wrote:
> >>>>>
> >>>>>
> >>>>>> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com> wrote:
> >>>>>>
> >>>>>> Hello-
> >>>>>>
> >>>>>> I’m trying to compile PDAL 1.4.0, and I’m running into a
> compile-time error:
> >>>>>>
> >>>>>> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o:
> In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int
> (*)()() const':
> >>>>>> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPlu
> ginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9):
> undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_
> FUN()'
> >>>>>> collect2: error: ld returned 1 exit status
> >>>>>> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
> >>>>>> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all]
> Error 2
> >>>>>> make: *** [all] Error 2
> >>>>>>
> >>>>>>
> >>>>>> I’m wondering if anyone has run into this, if so, is there a work
> around?
> >>>>>
> >>>>> I suspect your compiler is too old. Which compiler are you using and
> which version?
> >>>>>
> >>>>> Howard
> >>>>
> >>>> _______________________________________________
> >>>> pdal mailing list
> >>>> pdal at lists.osgeo.org
> >>>> https://lists.osgeo.org/mailman/listinfo/pdal
> >>>>
> >>>>
> >>>>
> >>>> --
> >>>> Andrew Bell
> >>>> andrew.bell.ia at gmail.com
> >>>
> >>> _______________________________________________
> >>> pdal mailing list
> >>> pdal at lists.osgeo.org
> >>> https://lists.osgeo.org/mailman/listinfo/pdal
> >>
> >
> > _______________________________________________
> > pdal mailing list
> > pdal at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/pdal
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/bddf88c1/attachment-0001.html>

From Adam.Steer at anu.edu.au  Tue Mar 14 15:27:15 2017
From: Adam.Steer at anu.edu.au (Adam Steer)
Date: Tue, 14 Mar 2017 22:27:15 +0000
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
 <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>
 <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>
Message-ID: <085F42E6-F2EF-43CD-A58D-51A8545B177F@anu.edu.au>

Ok, I hope Andrew’s fix works.

Cheers,
Adam

From alex at camulus.com  Tue Mar 14 16:20:28 2017
From: alex at camulus.com (Alex Jokela)
Date: Tue, 14 Mar 2017 19:20:28 -0400
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <CAO=FyjK_h2eBi-0c4jMp2+FiOW7ePYEMRCHyFFK=SF6uv+_O=A@mail.gmail.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
 <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>
 <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>
 <2AE3526B-AA4B-4DD2-B0E4-0E1A39E84F8C@camulus.com>
 <CAO=FyjK_h2eBi-0c4jMp2+FiOW7ePYEMRCHyFFK=SF6uv+_O=A@mail.gmail.com>
Message-ID: <0E92CE81-4E11-4222-B4C3-9F8973D0824C@camulus.com>

Thanks!

Made it past that last one, and hit this one:

In file included from /home/alex/src/pdal/io/GDALGrid.cpp:35:0:
/home/alex/src/pdal/io/GDALGrid.hpp:54:5: error: expected class-name before ‘{’ token
/home/alex/src/pdal/io/GDALGrid.hpp: In constructor ‘pdal::GDALGrid::error::error(const string&)’:
/home/alex/src/pdal/io/GDALGrid.hpp:55:59: error: expected class-name before ‘(’ token
/home/alex/src/pdal/io/GDALGrid.hpp:55:59: error: expected ‘{’ before ‘(’ token
make[2]: *** [CMakeFiles/pdal_base.dir/io/GDALGrid.cpp.o] Error 1
make[1]: *** [CMakeFiles/pdal_base.dir/all] Error 2
make: *** [all] Error 2


> On Mar 14, 2017, at 6:35 PM, Connor Manning <connor at hobu.co> wrote:
> 
> Just pushed a fix for that error, please re-pull and try again.
> 
> On Tue, Mar 14, 2017 at 5:19 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
> Andrew-
> 
> Here’s the error that I was also running into earlier with master, I just ran into again compiling a fresh pull (with your change):
> 
> In file included from /home/alex/src/pdal/vendor/arbiter/arbiter.cpp:43:0:
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:71:1: error: expected class-name before ‘{’ token
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp: In constructor ‘pdal::arbiter::ArbiterError::ArbiterError(std::string)’:
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected class-name before ‘(’ token
> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected ‘{’ before ‘(’ token
> make[2]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/arbiter.cpp.o] Error 1
> make[1]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/all] Error 2
> make: *** [all] Error 2
> 
> 
> > On Mar 14, 2017, at 5:57 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
> >
> > Adam-
> >
> > It’s a pretty old version of Debian (wheezy, maybe).  It looks like backports does have a slightly newer version of gcc (gcc-4.8).  I’m trying the fix that Andrew just pushed to master with my current compiler.  Seeing if that does the trick.
> >
> >  -Alex
> >
> >> On Mar 14, 2017, at 5:47 PM, Adam Steer <Adam.Steer at anu.edu.au <mailto:Adam.Steer at anu.edu.au>> wrote:
> >>
> >> Alex, all
> >>
> >> What OS are you using? For what it’s worth I went through similar issues building PDAL a while back on centOS 6. I got around it using devtoolset-4, which gave me newer compilers and ccmake3:
> >>
> >> https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/ <https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/>
> >>
> >> This was a hacky ‘gotta get it going’ solution, but it worked. Migrating to centOS 7 removed the need to use the devtoolset.
> >>
> >> Adam
> >>
> >>
> >>> On 15 Mar 2017, at 8:35 am, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
> >>>
> >>> Andrew-
> >>>
> >>> Thanks for the reply.
> >>>
> >>>
> >>> I game to try compiling from master.  I did run into a different compile error when I tried master earlier today.  I don’t have that error handy, though.  I’ll clone the repo, again, and will compile, if you’re interested in that error.
> >>>
> >>> Let me know if you push the change you mentioned for a work around.
> >>>
> >>> Thanks!
> >>>
> >>> -Alex
> >>>
> >>>> On Mar 14, 2017, at 5:21 PM, Andrew Bell <andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>> wrote:
> >>>>
> >>>> Alex,
> >>>>
> >>>> This indeed seems to be a bug in your compiler: http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda <http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda>
> >>>>
> >>>> If you're willing to try your compiler with the master branch, I can push a change that should get around the issue.  I think our use of that construct is pretty limited, so this might get things working for you.  If things compile/link I can backport the change to 1.4.
> >>>>
> >>>>
> >>>> On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
> >>>> Howard-
> >>>>
> >>>> It looks to be version 4.7.2
> >>>>
> >>>> Thanks,
> >>>>
> >>>> -Alex
> >>>>
> >>>>> On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co <mailto:howard at hobu.co>> wrote:
> >>>>>
> >>>>>
> >>>>>> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
> >>>>>>
> >>>>>> Hello-
> >>>>>>
> >>>>>> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
> >>>>>>
> >>>>>> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
> >>>>>> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
> >>>>>> collect2: error: ld returned 1 exit status
> >>>>>> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
> >>>>>> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
> >>>>>> make: *** [all] Error 2
> >>>>>>
> >>>>>>
> >>>>>> I’m wondering if anyone has run into this, if so, is there a work around?
> >>>>>
> >>>>> I suspect your compiler is too old. Which compiler are you using and which version?
> >>>>>
> >>>>> Howard
> >>>>
> >>>> _______________________________________________
> >>>> pdal mailing list
> >>>> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> >>>> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
> >>>>
> >>>>
> >>>>
> >>>> --
> >>>> Andrew Bell
> >>>> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>
> >>>
> >>> _______________________________________________
> >>> pdal mailing list
> >>> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> >>> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
> >>
> >
> > _______________________________________________
> > pdal mailing list
> > pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> > https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/266b91f5/attachment.html>

From alex at camulus.com  Tue Mar 14 17:53:42 2017
From: alex at camulus.com (Alex Jokela)
Date: Tue, 14 Mar 2017 20:53:42 -0400
Subject: [pdal] PDAL 1.4 compile error
In-Reply-To: <0E92CE81-4E11-4222-B4C3-9F8973D0824C@camulus.com>
References: <FB9F27AE-D844-427F-97B1-698E11E14EDF@camulus.com>
 <76A3D844-4F0D-4909-8FD7-B0AB47231985@hobu.co>
 <CFD6D853-C0A6-4629-B3EA-F8747C03A174@camulus.com>
 <CACJ51z1Vd_NOUx3u7-Z8G_6CQXRVkCAZaJmbe5voO1ZEU=96NQ@mail.gmail.com>
 <087AB7DF-2574-4462-ADA7-EC555E2DF28C@camulus.com>
 <69C0ACA0-7A5E-4EFD-9876-3D9B27192319@anu.edu.au>
 <8BC2FBFA-C064-4F71-9585-D401F55C1C01@camulus.com>
 <2AE3526B-AA4B-4DD2-B0E4-0E1A39E84F8C@camulus.com>
 <CAO=FyjK_h2eBi-0c4jMp2+FiOW7ePYEMRCHyFFK=SF6uv+_O=A@mail.gmail.com>
 <0E92CE81-4E11-4222-B4C3-9F8973D0824C@camulus.com>
Message-ID: <4BE1A551-285A-4F39-AA58-7F17F519BDFB@camulus.com>

Connor-

I was able to get beyond this error (below) by basically taking your lead from the last error I had, and adding that same line - #include <stdexcept> - to  io/GDALGrid.cpp

I made a pull request with this massive one line fix.

 -Alex

> On Mar 14, 2017, at 7:20 PM, Alex Jokela <alex at camulus.com> wrote:
> 
> Thanks!
> 
> Made it past that last one, and hit this one:
> 
> In file included from /home/alex/src/pdal/io/GDALGrid.cpp:35:0:
> /home/alex/src/pdal/io/GDALGrid.hpp:54:5: error: expected class-name before ‘{’ token
> /home/alex/src/pdal/io/GDALGrid.hpp: In constructor ‘pdal::GDALGrid::error::error(const string&)’:
> /home/alex/src/pdal/io/GDALGrid.hpp:55:59: error: expected class-name before ‘(’ token
> /home/alex/src/pdal/io/GDALGrid.hpp:55:59: error: expected ‘{’ before ‘(’ token
> make[2]: *** [CMakeFiles/pdal_base.dir/io/GDALGrid.cpp.o] Error 1
> make[1]: *** [CMakeFiles/pdal_base.dir/all] Error 2
> make: *** [all] Error 2
> 
> 
>> On Mar 14, 2017, at 6:35 PM, Connor Manning <connor at hobu.co <mailto:connor at hobu.co>> wrote:
>> 
>> Just pushed a fix for that error, please re-pull and try again.
>> 
>> On Tue, Mar 14, 2017 at 5:19 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
>> Andrew-
>> 
>> Here’s the error that I was also running into earlier with master, I just ran into again compiling a fresh pull (with your change):
>> 
>> In file included from /home/alex/src/pdal/vendor/arbiter/arbiter.cpp:43:0:
>> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:71:1: error: expected class-name before ‘{’ token
>> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp: In constructor ‘pdal::arbiter::ArbiterError::ArbiterError(std::string)’:
>> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected class-name before ‘(’ token
>> /home/alex/src/pdal/vendor/arbiter/arbiter.hpp:73:55: error: expected ‘{’ before ‘(’ token
>> make[2]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/arbiter.cpp.o] Error 1
>> make[1]: *** [vendor/arbiter/CMakeFiles/pdal_arbiter.dir/all] Error 2
>> make: *** [all] Error 2
>> 
>> 
>> > On Mar 14, 2017, at 5:57 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
>> >
>> > Adam-
>> >
>> > It’s a pretty old version of Debian (wheezy, maybe).  It looks like backports does have a slightly newer version of gcc (gcc-4.8).  I’m trying the fix that Andrew just pushed to master with my current compiler.  Seeing if that does the trick.
>> >
>> >  -Alex
>> >
>> >> On Mar 14, 2017, at 5:47 PM, Adam Steer <Adam.Steer at anu.edu.au <mailto:Adam.Steer at anu.edu.au>> wrote:
>> >>
>> >> Alex, all
>> >>
>> >> What OS are you using? For what it’s worth I went through similar issues building PDAL a while back on centOS 6. I got around it using devtoolset-4, which gave me newer compilers and ccmake3:
>> >>
>> >> https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/ <https://www.softwarecollections.org/en/scls/rhscl/devtoolset-4/>
>> >>
>> >> This was a hacky ‘gotta get it going’ solution, but it worked. Migrating to centOS 7 removed the need to use the devtoolset.
>> >>
>> >> Adam
>> >>
>> >>
>> >>> On 15 Mar 2017, at 8:35 am, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
>> >>>
>> >>> Andrew-
>> >>>
>> >>> Thanks for the reply.
>> >>>
>> >>>
>> >>> I game to try compiling from master.  I did run into a different compile error when I tried master earlier today.  I don’t have that error handy, though.  I’ll clone the repo, again, and will compile, if you’re interested in that error.
>> >>>
>> >>> Let me know if you push the change you mentioned for a work around.
>> >>>
>> >>> Thanks!
>> >>>
>> >>> -Alex
>> >>>
>> >>>> On Mar 14, 2017, at 5:21 PM, Andrew Bell <andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>> wrote:
>> >>>>
>> >>>> Alex,
>> >>>>
>> >>>> This indeed seems to be a bug in your compiler: http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda <http://stackoverflow.com/questions/35131734/undefined-reference-when-using-lambda>
>> >>>>
>> >>>> If you're willing to try your compiler with the master branch, I can push a change that should get around the issue.  I think our use of that construct is pretty limited, so this might get things working for you.  If things compile/link I can backport the change to 1.4.
>> >>>>
>> >>>>
>> >>>> On Tue, Mar 14, 2017 at 4:05 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
>> >>>> Howard-
>> >>>>
>> >>>> It looks to be version 4.7.2
>> >>>>
>> >>>> Thanks,
>> >>>>
>> >>>> -Alex
>> >>>>
>> >>>>> On Mar 14, 2017, at 4:56 PM, Howard Butler <howard at hobu.co <mailto:howard at hobu.co>> wrote:
>> >>>>>
>> >>>>>
>> >>>>>> On Mar 14, 2017, at 3:34 PM, Alex Jokela <alex at camulus.com <mailto:alex at camulus.com>> wrote:
>> >>>>>>
>> >>>>>> Hello-
>> >>>>>>
>> >>>>>> I’m trying to compile PDAL 1.4.0, and I’m running into a compile-time error:
>> >>>>>>
>> >>>>>> CMakeFiles/pdal_plugin_manager_test.dir/PluginManagerTest.cpp.o: In function `pdal::DummyPlugin::initPlugin()::{lambda()#1}::operator int (*)()() const':
>> >>>>>> PluginManagerTest.cpp:(.text._ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv[_ZZN4pdal11DummyPlugin10initPluginEvENKUlvE_cvPFivEEv]+0x9): undefined reference to `pdal::DummyPlugin::initPlugin()::{lambda()#1}::_FUN()'
>> >>>>>> collect2: error: ld returned 1 exit status
>> >>>>>> make[2]: *** [bin/pdal_plugin_manager_test] Error 1
>> >>>>>> make[1]: *** [test/unit/CMakeFiles/pdal_plugin_manager_test.dir/all] Error 2
>> >>>>>> make: *** [all] Error 2
>> >>>>>>
>> >>>>>>
>> >>>>>> I’m wondering if anyone has run into this, if so, is there a work around?
>> >>>>>
>> >>>>> I suspect your compiler is too old. Which compiler are you using and which version?
>> >>>>>
>> >>>>> Howard
>> >>>>
>> >>>> _______________________________________________
>> >>>> pdal mailing list
>> >>>> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
>> >>>> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
>> >>>>
>> >>>>
>> >>>>
>> >>>> --
>> >>>> Andrew Bell
>> >>>> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>
>> >>>
>> >>> _______________________________________________
>> >>> pdal mailing list
>> >>> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
>> >>> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
>> >>
>> >
>> > _______________________________________________
>> > pdal mailing list
>> > pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
>> > https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
>> 
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
>> https://lists.osgeo.org/mailman/listinfo/pdal <https://lists.osgeo.org/mailman/listinfo/pdal>
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170314/f05f85b1/attachment-0001.html>

From brad.chambers at gmail.com  Tue Mar 14 17:53:38 2017
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Wed, 15 Mar 2017 00:53:38 +0000
Subject: [pdal] PCLBlock drops non-XYZ dimensions & what to do about
In-Reply-To: <CAAhorQ=pogn_3msRCLpYq37Fs0TwoU4Xj7JaeUoES7kD9CKOpg@mail.gmail.com>
References: <CAAhorQ=pogn_3msRCLpYq37Fs0TwoU4Xj7JaeUoES7kD9CKOpg@mail.gmail.com>
Message-ID: <CAJyqqPzmAqSG-8B3ZGdqPy7809iGq6msbcu=QUhCTxH1BTnJng@mail.gmail.com>

Michael,

You are correct that there is no out of the box LAS point type, although
you could in theory create one [1].

Various PCL modules provide methods such as "getInliers" to get a vector of
indices [2]. PCL treatment of inliers varies somewhat from module to
module, so one has to read the docs carefully.

For an example of acting on the indices, you can look at the OutlierFilter
where we start by processing a PointView to obtain (in this case) two
vectors of PointIds, the inliers and the outliers [3]. We later create a
new output PointView by appending only the inliers from the input PointView
[4].

No need to sort. The PDAL to PCL conversion [5] is order preserving, so
unless your PCL code is doing something to the order, you should be good.

Brad

[1]
http://pointclouds.org/documentation/tutorials/adding_custom_ptype.php#how-to-add-a-new-pointt-type
[2] http://docs.pointclouds.org/1.7.1/classpcl_1_1_sample_consensus.html
[3] https://github.com/PDAL/PDAL/blob/master/filters/OutlierFilter.cpp#L159
[4]
https://github.com/PDAL/PDAL/blob/master/filters/OutlierFilter.cpp#L203-L209
[5]
https://github.com/PDAL/PDAL/blob/master/plugins/pcl/PCLConversions.hpp#L127-L191


On Tue, Mar 14, 2017 at 6:27 PM Michael Rosen <michael.rosen at gmail.com>
wrote:

> Picking up on a conversation started on Gitter:
> https://gitter.im/PDAL/PDAL
>
> One problem we have with the PCLBlock filter is that we currently drop all
> non-XYZ dimensions because when we marshal point cloud data from PDAL -->
> PCL we needs to specify a PCL-compatible point type and we pick XYZ.  As a
> result, when we marshal the result back, we there is nothing except XYZ.
>
> One workaround suggested was to create a PCL point type that fits the
> data.  My quick look suggests there is not such point type, even for the
> simplest of LAS files.  Can someone confirm this?  These, I think, are the
> options http://docs.pointclouds.org/1.5.1/point__types_8hpp_source.html ?
> So, For example, no way to carry Classification to say nothing of LAS
> metadata like the array of "Number of points by return."
>
> The other suggestion was to return just the indices of the desired
> points.  Can someone say a little more about what PCL API would enable
> this?  Once we had it, how can we get PDAL to remove all the points except
> those returned?
>
> One thought I had would be to sort the point cloud before marshaling it to
> PCL and similarly sort the result from PCL.  Create the desired result set
> by marching through the point clouds in parallel removing anything from the
> original point cloud that isn't in the PCL result.
>
>
>
> msr
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170315/abec3709/attachment.html>

From brad.chambers at gmail.com  Wed Mar 15 05:56:05 2017
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Wed, 15 Mar 2017 12:56:05 +0000
Subject: [pdal] PCLBlock drops non-XYZ dimensions & what to do about
In-Reply-To: <CAJyqqPzmAqSG-8B3ZGdqPy7809iGq6msbcu=QUhCTxH1BTnJng@mail.gmail.com>
References: <CAAhorQ=pogn_3msRCLpYq37Fs0TwoU4Xj7JaeUoES7kD9CKOpg@mail.gmail.com>
 <CAJyqqPzmAqSG-8B3ZGdqPy7809iGq6msbcu=QUhCTxH1BTnJng@mail.gmail.com>
Message-ID: <CAJyqqPyXioDmfddK0fgv39DAjHonUY0uhMxt=hi8m2_RM2syVA@mail.gmail.com>

Michael,

Also, if you take a peek at the PCL plugin prior to our refactor (proposed
[1] and implemented [2]), you'll see some good examples of doing exactly
what you propose wrt extracting indices in many of the filters, for example
[3] and [4].

Brad

[1] https://github.com/PDAL/PDAL/issues/1404
[2] https://github.com/PDAL/PDAL/pull/1432
[3]
https://github.com/PDAL/PDAL/blob/006ea71362a5486109f48d2981b72ada15b31916/plugins/pcl/filters/DartSampleFilter.cpp#L84-L98
[4]
https://github.com/PDAL/PDAL/blob/d32c77f37007a494ce88e1e9ca64a14a6b21892f/plugins/pcl/filters/GroundFilter.cpp#L99-L161



On Tue, Mar 14, 2017 at 8:53 PM Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Michael,
>
> You are correct that there is no out of the box LAS point type, although
> you could in theory create one [1].
>
> Various PCL modules provide methods such as "getInliers" to get a vector
> of indices [2]. PCL treatment of inliers varies somewhat from module to
> module, so one has to read the docs carefully.
>
> For an example of acting on the indices, you can look at the OutlierFilter
> where we start by processing a PointView to obtain (in this case) two
> vectors of PointIds, the inliers and the outliers [3]. We later create a
> new output PointView by appending only the inliers from the input PointView
> [4].
>
> No need to sort. The PDAL to PCL conversion [5] is order preserving, so
> unless your PCL code is doing something to the order, you should be good.
>
> Brad
>
> [1]
> http://pointclouds.org/documentation/tutorials/adding_custom_ptype.php#how-to-add-a-new-pointt-type
> [2] http://docs.pointclouds.org/1.7.1/classpcl_1_1_sample_consensus.html
> [3]
> https://github.com/PDAL/PDAL/blob/master/filters/OutlierFilter.cpp#L159
> [4]
> https://github.com/PDAL/PDAL/blob/master/filters/OutlierFilter.cpp#L203-L209
> [5]
> https://github.com/PDAL/PDAL/blob/master/plugins/pcl/PCLConversions.hpp#L127-L191
>
>
> On Tue, Mar 14, 2017 at 6:27 PM Michael Rosen <michael.rosen at gmail.com>
> wrote:
>
> Picking up on a conversation started on Gitter:
> https://gitter.im/PDAL/PDAL
>
> One problem we have with the PCLBlock filter is that we currently drop all
> non-XYZ dimensions because when we marshal point cloud data from PDAL -->
> PCL we needs to specify a PCL-compatible point type and we pick XYZ.  As a
> result, when we marshal the result back, we there is nothing except XYZ.
>
> One workaround suggested was to create a PCL point type that fits the
> data.  My quick look suggests there is not such point type, even for the
> simplest of LAS files.  Can someone confirm this?  These, I think, are the
> options http://docs.pointclouds.org/1.5.1/point__types_8hpp_source.html ?
> So, For example, no way to carry Classification to say nothing of LAS
> metadata like the array of "Number of points by return."
>
> The other suggestion was to return just the indices of the desired
> points.  Can someone say a little more about what PCL API would enable
> this?  Once we had it, how can we get PDAL to remove all the points except
> those returned?
>
> One thought I had would be to sort the point cloud before marshaling it to
> PCL and similarly sort the result from PCL.  Create the desired result set
> by marching through the point clouds in parallel removing anything from the
> original point cloud that isn't in the PCL result.
>
>
>
> msr
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170315/bcf2ec96/attachment.html>

From michael.rosen at gmail.com  Wed Mar 15 13:48:54 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Wed, 15 Mar 2017 13:48:54 -0700
Subject: [pdal] PCLBlock drops non-XYZ dimensions & what to do about
In-Reply-To: <CAJyqqPyXioDmfddK0fgv39DAjHonUY0uhMxt=hi8m2_RM2syVA@mail.gmail.com>
References: <CAAhorQ=pogn_3msRCLpYq37Fs0TwoU4Xj7JaeUoES7kD9CKOpg@mail.gmail.com>
 <CAJyqqPzmAqSG-8B3ZGdqPy7809iGq6msbcu=QUhCTxH1BTnJng@mail.gmail.com>
 <CAJyqqPyXioDmfddK0fgv39DAjHonUY0uhMxt=hi8m2_RM2syVA@mail.gmail.com>
Message-ID: <CAAhorQ=M8_jAG9yzrHW03vZfe_jnv9A_xqFYEfa0X3WPMEiHJg@mail.gmail.com>

this is very helpful. Thanks for passing along some of the backstory.  The
visualization comment caught my eye:

>writers.pclvisualizer

>Exists as a writer simply so that we can stick it on the end of a pipeline
and visualize the results. But you >probably have a tool to view the
results anyway, and this doesn't write anything to disk (should you be
happy with >your result and want to save it).

Actually, I don't have such a tool just yet.  Hobu uses plas.io but ...
uploading a file to a web app seems impractical for me.  What do you use?
I'm on a LinuxMint environment.


msr



On Wed, Mar 15, 2017 at 5:56 AM, Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Michael,
>
> Also, if you take a peek at the PCL plugin prior to our refactor (proposed
> [1] and implemented [2]), you'll see some good examples of doing exactly
> what you propose wrt extracting indices in many of the filters, for example
> [3] and [4].
>
> Brad
>
> [1] https://github.com/PDAL/PDAL/issues/1404
> [2] https://github.com/PDAL/PDAL/pull/1432
> [3] https://github.com/PDAL/PDAL/blob/006ea71362a5486109f48d2981b72a
> da15b31916/plugins/pcl/filters/DartSampleFilter.cpp#L84-L98
> [4] https://github.com/PDAL/PDAL/blob/d32c77f37007a494ce88e1e9ca64a1
> 4a6b21892f/plugins/pcl/filters/GroundFilter.cpp#L99-L161
>
>
>
> On Tue, Mar 14, 2017 at 8:53 PM Bradley Chambers <brad.chambers at gmail.com>
> wrote:
>
>> Michael,
>>
>> You are correct that there is no out of the box LAS point type, although
>> you could in theory create one [1].
>>
>> Various PCL modules provide methods such as "getInliers" to get a vector
>> of indices [2]. PCL treatment of inliers varies somewhat from module to
>> module, so one has to read the docs carefully.
>>
>> For an example of acting on the indices, you can look at the
>> OutlierFilter where we start by processing a PointView to obtain (in this
>> case) two vectors of PointIds, the inliers and the outliers [3]. We later
>> create a new output PointView by appending only the inliers from the input
>> PointView [4].
>>
>> No need to sort. The PDAL to PCL conversion [5] is order preserving, so
>> unless your PCL code is doing something to the order, you should be good.
>>
>> Brad
>>
>> [1] http://pointclouds.org/documentation/tutorials/
>> adding_custom_ptype.php#how-to-add-a-new-pointt-type
>> [2] http://docs.pointclouds.org/1.7.1/classpcl_1_1_sample_consensus.html
>> [3] https://github.com/PDAL/PDAL/blob/master/filters/
>> OutlierFilter.cpp#L159
>> [4] https://github.com/PDAL/PDAL/blob/master/filters/
>> OutlierFilter.cpp#L203-L209
>> [5] https://github.com/PDAL/PDAL/blob/master/plugins/pcl/
>> PCLConversions.hpp#L127-L191
>>
>>
>> On Tue, Mar 14, 2017 at 6:27 PM Michael Rosen <michael.rosen at gmail.com>
>> wrote:
>>
>> Picking up on a conversation started on Gitter:
>> https://gitter.im/PDAL/PDAL
>>
>> One problem we have with the PCLBlock filter is that we currently drop
>> all non-XYZ dimensions because when we marshal point cloud data from PDAL
>> --> PCL we needs to specify a PCL-compatible point type and we pick XYZ.
>> As a result, when we marshal the result back, we there is nothing except
>> XYZ.
>>
>> One workaround suggested was to create a PCL point type that fits the
>> data.  My quick look suggests there is not such point type, even for the
>> simplest of LAS files.  Can someone confirm this?  These, I think, are the
>> options http://docs.pointclouds.org/1.5.1/point__types_8hpp_source.html
>> ? So, For example, no way to carry Classification to say nothing of LAS
>> metadata like the array of "Number of points by return."
>>
>> The other suggestion was to return just the indices of the desired
>> points.  Can someone say a little more about what PCL API would enable
>> this?  Once we had it, how can we get PDAL to remove all the points except
>> those returned?
>>
>> One thought I had would be to sort the point cloud before marshaling it
>> to PCL and similarly sort the result from PCL.  Create the desired result
>> set by marching through the point clouds in parallel removing anything from
>> the original point cloud that isn't in the PCL result.
>>
>>
>>
>> msr
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170315/4ed72706/attachment.html>

From howard at hobu.co  Wed Mar 15 13:51:02 2017
From: howard at hobu.co (Howard Butler)
Date: Wed, 15 Mar 2017 15:51:02 -0500
Subject: [pdal] PCLBlock drops non-XYZ dimensions & what to do about
In-Reply-To: <CAAhorQ=M8_jAG9yzrHW03vZfe_jnv9A_xqFYEfa0X3WPMEiHJg@mail.gmail.com>
References: <CAAhorQ=pogn_3msRCLpYq37Fs0TwoU4Xj7JaeUoES7kD9CKOpg@mail.gmail.com>
 <CAJyqqPzmAqSG-8B3ZGdqPy7809iGq6msbcu=QUhCTxH1BTnJng@mail.gmail.com>
 <CAJyqqPyXioDmfddK0fgv39DAjHonUY0uhMxt=hi8m2_RM2syVA@mail.gmail.com>
 <CAAhorQ=M8_jAG9yzrHW03vZfe_jnv9A_xqFYEfa0X3WPMEiHJg@mail.gmail.com>
Message-ID: <A90B6ADD-608E-4506-8222-723F5A0D5AF7@hobu.co>


> On Mar 15, 2017, at 3:48 PM, Michael Rosen <michael.rosen at gmail.com> wrote:
> 
> this is very helpful. Thanks for passing along some of the backstory.  The visualization comment caught my eye:
> 
> >writers.pclvisualizer
> 
> >Exists as a writer simply so that we can stick it on the end of a pipeline and visualize the results. But you >probably have a tool to view the results anyway, and this doesn't write anything to disk (should you be happy with >your result and want to save it).
> 
> Hobu uses plas.io <http://plas.io/> but ... uploading a file to a web app seems impractical for me.  What do you use?
> 
For clarification, plas.io <http://plas.io/> doesn't upload the file anywhere. It reads your local files. The only thing that comes from the internet is the software to read it :)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170315/79d7150c/attachment.html>

From brad.chambers at gmail.com  Wed Mar 15 13:58:37 2017
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Wed, 15 Mar 2017 20:58:37 +0000
Subject: [pdal] PCLBlock drops non-XYZ dimensions & what to do about
In-Reply-To: <A90B6ADD-608E-4506-8222-723F5A0D5AF7@hobu.co>
References: <CAAhorQ=pogn_3msRCLpYq37Fs0TwoU4Xj7JaeUoES7kD9CKOpg@mail.gmail.com>
 <CAJyqqPzmAqSG-8B3ZGdqPy7809iGq6msbcu=QUhCTxH1BTnJng@mail.gmail.com>
 <CAJyqqPyXioDmfddK0fgv39DAjHonUY0uhMxt=hi8m2_RM2syVA@mail.gmail.com>
 <CAAhorQ=M8_jAG9yzrHW03vZfe_jnv9A_xqFYEfa0X3WPMEiHJg@mail.gmail.com>
 <A90B6ADD-608E-4506-8222-723F5A0D5AF7@hobu.co>
Message-ID: <CAJyqqPzZz7z49Dy42rOyupa36vvxmngw1oDw_+TR0h_GM4BTyg@mail.gmail.com>

And we need to update the docs as we just removed the PCL visualizer today!

On Wed, Mar 15, 2017, 4:51 PM Howard Butler <howard at hobu.co> wrote:

> On Mar 15, 2017, at 3:48 PM, Michael Rosen <michael.rosen at gmail.com>
> wrote:
>
> this is very helpful. Thanks for passing along some of the backstory.  The
> visualization comment caught my eye:
>
> >writers.pclvisualizer
>
> >Exists as a writer simply so that we can stick it on the end of a
> pipeline and visualize the results. But you >probably have a tool to view
> the results anyway, and this doesn't write anything to disk (should you be
> happy with >your result and want to save it).
>
> Hobu uses plas.io but ... uploading a file to a web app seems impractical
> for me.  What do you use?
>
> For clarification, plas.io doesn't upload the file anywhere. It reads
> your local files. The only thing that comes from the internet is the
> software to read it :)
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170315/917a8cf7/attachment-0001.html>

From sebastien.guimmara.external at airbus.com  Thu Mar 16 08:38:42 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Thu, 16 Mar 2017 15:38:42 +0000
Subject: [pdal] [pipeline] How to use the --progress option ?
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E468701EB@tlswinmbx01.toulouse.spotimage.int>

I am struggling with the --progress flag of the pipeline application. Namely, whether I create an actual file or a FIFO, nothing is ever written to it:

pdal pipeline pipeline.json --progress progress.txt

If I’m reading the source correctly, currently only the NITF and LAS writers use the Utils::writeProgress function. But even if I switch to a LAS output, the progress file is still empty.

I would like to know the progression of my pipeline. Is there another way ?

Sébastien



[cid:image8b3dd0.JPG at b12d4e55.4aa8d4df] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170316/d0a4d22b/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image8b3dd0.JPG
Type: image/jpeg
Size: 625 bytes
Desc: image8b3dd0.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170316/d0a4d22b/attachment.jpe>

From andrew.bell.ia at gmail.com  Fri Mar 17 07:05:27 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 17 Mar 2017 09:05:27 -0500
Subject: [pdal] [pipeline] How to use the --progress option ?
In-Reply-To: <A1DABC8AB3291742B3D4C714F72B2F8E468701EB@tlswinmbx01.toulouse.spotimage.int>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468701EB@tlswinmbx01.toulouse.spotimage.int>
Message-ID: <CACJ51z0j_jc_PXdR0BAjuMRhiVXPs-=kXsfaOXy7vcWrznXJpQ@mail.gmail.com>

On Thu, Mar 16, 2017 at 10:38 AM, GUIMMARA, Sébastien (External) <
sebastien.guimmara.external at airbus.com> wrote:

> I am struggling with the --progress flag of the pipeline application.
> Namely, whether I create an actual file or a FIFO, nothing is ever written
> to it:
>
>
>
> pdal pipeline pipeline.json --progress progress.txt
>
>
>
> If I’m reading the source correctly, currently only the NITF and LAS
> writers use the Utils::writeProgress function. But even if I switch to a
> LAS output, the progress file is still empty.
>

I'll test this and write back as it hasn't been used much and I'm not sure
we have good test coverage.

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170317/7634f55b/attachment.html>

From andrew.bell.ia at gmail.com  Fri Mar 17 14:07:49 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 17 Mar 2017 16:07:49 -0500
Subject: [pdal] [pipeline] How to use the --progress option ?
In-Reply-To: <CACJ51z0j_jc_PXdR0BAjuMRhiVXPs-=kXsfaOXy7vcWrznXJpQ@mail.gmail.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468701EB@tlswinmbx01.toulouse.spotimage.int>
 <CACJ51z0j_jc_PXdR0BAjuMRhiVXPs-=kXsfaOXy7vcWrznXJpQ@mail.gmail.com>
Message-ID: <CACJ51z1gTqQHeeEKrvWWKrAupGyhcrPuCsyUrayo3Q9jrDx+GA@mail.gmail.com>

I've fixed this and added a test to hopefully prevent its breakage in the
future:

https://github.com/PDAL/PDAL/issues/1534

As you found, there isn't much current support for this feature.  If you
tell me a bit about what you're doing and what you're looking for, we can
probably add more functionality.

Best,


On Fri, Mar 17, 2017 at 9:05 AM, Andrew Bell <andrew.bell.ia at gmail.com>
wrote:

> On Thu, Mar 16, 2017 at 10:38 AM, GUIMMARA, Sébastien (External) <
> sebastien.guimmara.external at airbus.com> wrote:
>
>> I am struggling with the --progress flag of the pipeline application.
>> Namely, whether I create an actual file or a FIFO, nothing is ever written
>> to it:
>>
>>
>>
>> pdal pipeline pipeline.json --progress progress.txt
>>
>>
>>
>> If I’m reading the source correctly, currently only the NITF and LAS
>> writers use the Utils::writeProgress function. But even if I switch to a
>> LAS output, the progress file is still empty.
>>
>
> I'll test this and write back as it hasn't been used much and I'm not sure
> we have good test coverage.
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170317/3649be2d/attachment.html>

From rbedell at coordinatesolutions.com  Sun Mar 19 07:27:42 2017
From: rbedell at coordinatesolutions.com (Roger Bedell)
Date: Sun, 19 Mar 2017 15:27:42 +0100
Subject: [pdal] Fwd: Just a little help for Windows Docker
In-Reply-To: <CAEZO=i+9XRpo33wxj1j5FfDiiMriEPpyt5j+_tTUkwOJ_0DxGg@mail.gmail.com>
References: <CAEZO=i+9XRpo33wxj1j5FfDiiMriEPpyt5j+_tTUkwOJ_0DxGg@mail.gmail.com>
Message-ID: <CAEZO=iJKYw-q2Z1oLPiqL6fOJB=0baRCtztCj4R==_=y-REArg@mail.gmail.com>

I had to use the Docker Toolbox on my windows server 2008, and it installs
etc and runs.

But, running Pdal can never find the file. I'm confused.

PS G:\PDAL64\Docker Toolbox> docker run pdal/pdal pdal info test/test.las
-p 0
time="2017-03-19T09:06:29-05:00" level=info msg="Unable to use system
certificat
e pool: crypto/x509: system root pool is not available on Windows"
PDAL: File not found: test.las

I've tried everything I could think of to make it find the file to no
avail. What is the trick?

[image: Inline image 1]



-- 
Roger Bedell
Coordinate Solutions Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170319/8aecf254/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 31186 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170319/8aecf254/attachment-0001.png>

From sebastien.guimmara.external at airbus.com  Mon Mar 20 01:43:15 2017
From: sebastien.guimmara.external at airbus.com (=?utf-8?B?R1VJTU1BUkEsIFPDqWJhc3RpZW4gKEV4dGVybmFsKQ==?=)
Date: Mon, 20 Mar 2017 08:43:15 +0000
Subject: [pdal] [pipeline] How to use the --progress option ?
In-Reply-To: <4038_1489784871_58CC5027_4038_10606_1_CACJ51z1gTqQHeeEKrvWWKrAupGyhcrPuCsyUrayo3Q9jrDx+GA@mail.gmail.com>
References: <A1DABC8AB3291742B3D4C714F72B2F8E468701EB@tlswinmbx01.toulouse.spotimage.int>
 <CACJ51z0j_jc_PXdR0BAjuMRhiVXPs-=kXsfaOXy7vcWrznXJpQ@mail.gmail.com>
 <4038_1489784871_58CC5027_4038_10606_1_CACJ51z1gTqQHeeEKrvWWKrAupGyhcrPuCsyUrayo3Q9jrDx+GA@mail.gmail.com>
Message-ID: <A1DABC8AB3291742B3D4C714F72B2F8E468702A2@tlswinmbx01.toulouse.spotimage.int>

Very simply, we have an interactive visualization application that can load heavy files (notably LAS files) in a background task to be displayed,  and the user can monitor the progress via a progress bar. This can take up to five minutes for 200 MB files, and currently our progress bar is stuck to a fixed number until the pipeline finishes, giving the impression that he process has stalled.

I believe the writers.gdal stage of the pipeline (readers.las ->  filters.reprojection -> writers.gdal) is the longest of the three, so ideally, the GDAL writer would report progress in the form of a percentage with increments of 1% (or more if there is too much overhead) would be excellent to avoid the stalled progress bar syndrome.

We could mark the beginning and end of the main loop (the one that iterates over all the points in the point view) with a special token “START_MAINLOOP”/”END_MAINLOOP” to warn the listening application that it can start counting progress:

READYFILE
START_MAINLOOP
1
2
..
100
END_MAINLOOP

This could be a standard formatting for all stages, so we could reliably monitor the progress of any pipeline.

Regards,
Sébastien

De : Andrew Bell [mailto:andrew.bell.ia at gmail.com]
Envoyé : vendredi 17 mars 2017 22:08
À : GUIMMARA, Sébastien (External)
Cc : pdal at lists.osgeo.org
Objet : Re: [pdal] [pipeline] How to use the --progress option ?

I've fixed this and added a test to hopefully prevent its breakage in the future:

https://github.com/PDAL/PDAL/issues/1534

As you found, there isn't much current support for this feature.  If you tell me a bit about what you're doing and what you're looking for, we can probably add more functionality.

Best,


On Fri, Mar 17, 2017 at 9:05 AM, Andrew Bell <andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>> wrote:
On Thu, Mar 16, 2017 at 10:38 AM, GUIMMARA, Sébastien (External) <sebastien.guimmara.external at airbus.com<mailto:sebastien.guimmara.external at airbus.com>> wrote:
I am struggling with the --progress flag of the pipeline application. Namely, whether I create an actual file or a FIFO, nothing is ever written to it:

pdal pipeline pipeline.json --progress progress.txt

If I’m reading the source correctly, currently only the NITF and LAS writers use the Utils::writeProgress function. But even if I switch to a LAS output, the progress file is still empty.

I'll test this and write back as it hasn't been used much and I'm not sure we have good test coverage.

--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>



--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>



[cid:imagee71a82.JPG at 47ff91d7.459a58ed] Please consider the environment before printing this email message.

________________________________

Ce courriel (incluant ses éventuelles pièces jointes) peut contenir des informations confidentielles et/ou protégées ou dont la diffusion est restreinte. Si vous avez reçu ce courriel par erreur, vous ne devez ni le copier, ni l'utiliser, ni en divulguer le contenu à quiconque. Merci d'en avertir immédiatement l'expéditeur et d'effacer ce courriel de votre système. Airbus DS Geo décline toute responsabilité en cas de corruption par virus, d'altération ou de falsification de ce courriel lors de sa transmission par voie électronique.

This email (including any attachments) may contain confidential and/or privileged information or information otherwise protected from disclosure. If you are not the intended recipient, please notify the sender immediately, do not copy this message or any attachments and do not use it for any purpose or disclose its content to any person, but delete this message and any attachments from your system. Airbus DS Geo disclaims any and all liability if this email transmission was virus corrupted, altered or falsified.

________________________________

Airbus DS Geo SA (325 089 589 RCS Toulouse) - Siege social: 5, rue des Satellites, 31400 Toulouse, France.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170320/2decc876/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: imagee71a82.JPG
Type: image/jpeg
Size: 625 bytes
Desc: imagee71a82.JPG
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170320/2decc876/attachment.jpe>

From howard at hobu.co  Mon Mar 20 10:32:05 2017
From: howard at hobu.co (Howard Butler)
Date: Mon, 20 Mar 2017 12:32:05 -0500
Subject: [pdal] Just a little help for Windows Docker
In-Reply-To: <CAEZO=iJKYw-q2Z1oLPiqL6fOJB=0baRCtztCj4R==_=y-REArg@mail.gmail.com>
References: <CAEZO=i+9XRpo33wxj1j5FfDiiMriEPpyt5j+_tTUkwOJ_0DxGg@mail.gmail.com>
 <CAEZO=iJKYw-q2Z1oLPiqL6fOJB=0baRCtztCj4R==_=y-REArg@mail.gmail.com>
Message-ID: <AD7102DC-7530-421D-8525-02BF3392808E@hobu.co>

Roger,

This must be some Docker Toolbox issue and interaction with Server 2008. I've only ever used Docker on Windows 10 in the past year.

Sorry to not be of more help,

Howard

> On Mar 19, 2017, at 9:27 AM, Roger Bedell <rbedell at coordinatesolutions.com> wrote:
> 
> 
> I had to use the Docker Toolbox on my windows server 2008, and it installs etc and runs.
> 
> But, running Pdal can never find the file. I'm confused.
> 
> PS G:\PDAL64\Docker Toolbox> docker run pdal/pdal pdal info test/test.las -p 0
> time="2017-03-19T09:06:29-05:00" level=info msg="Unable to use system certificat
> e pool: crypto/x509: system root pool is not available on Windows"
> PDAL: File not found: test.las
> 
> I've tried everything I could think of to make it find the file to no avail. What is the trick?
> 
> <image.png>
> 
> 
> 
> -- 
> Roger Bedell
> Coordinate Solutions Inc.
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal


From michael.rosen at gmail.com  Thu Mar 23 17:23:38 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Thu, 23 Mar 2017 17:23:38 -0700
Subject: [pdal] How to read a text file
Message-ID: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>

Suppose I wanted to pass a text file into PDAL:

512333.29   5403400.03  316.88   100   512333.30   5403400.04  316.82   100

512333.30   5403400.23  316.89   94    512333.30   5403400.22  316.91   94

512333.31   5403400.32  316.93   48    512333.31   5403400.33  316.90   48

512333.32   5403400.52  316.93   48    512333.33   5403400.53  316.90   48

512333.34   5403400.63  316.90   50    512333.34   5403400.63  316.91   50

512333.35   5403400.73  316.90   68    512333.35   5403400.74  316.84   68

512333.35   5403400.83  316.92   43    512333.36   5403400.84  316.85   43

512333.09   5403399.97  323.35   6     512333.36   5403400.94  316.90   43

512333.10   5403400.08  323.33   23    512333.38   5403401.05  316.86   46

512333.38   5403401.04  316.92   47    512333.38   5403401.04  316.90   47

512333.39   5403401.15  316.91   42    512333.39   5403401.15  316.87   42

512333.40   5403401.15  316.92   39    512333.40   5403401.16  316.85   39

512333.40   5403401.16  316.90   50    512333.41   5403401.17  316.84   50

512333.42   5403401.17  316.89   51    512333.42   5403401.18  316.83   51

...

No header line, just a list of known fields.  Suppose I wanted to translate
it to LAS.  How could I do that?

Here's what doesn't work:

pdal translate myfile.txt myfile.las

pdal translate --readers.text.separator=" " myfile.txt myfile.las

thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170323/ba6fda71/attachment.html>

From howard at hobu.co  Thu Mar 23 19:15:55 2017
From: howard at hobu.co (Howard Butler)
Date: Thu, 23 Mar 2017 21:15:55 -0500
Subject: [pdal] How to read a text file
In-Reply-To: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
Message-ID: <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>


> On Mar 23, 2017, at 7:23 PM, Michael Rosen <michael.rosen at gmail.com> wrote:
> 
> Suppose I wanted to pass a text file into PDAL:
> 
> No header line, just a list of known fields.  

You need to add a header line at the moment. It would be straightforward to make a patch to add a header override option to the TextWriter.cpp code, but that hasn't been done so far. 

Howard

From howard at hobu.co  Fri Mar 24 08:37:46 2017
From: howard at hobu.co (Howard Butler)
Date: Fri, 24 Mar 2017 10:37:46 -0500
Subject: [pdal] PDAL 1.5.0 Preparation and Notice
Message-ID: <EB965F7D-C5C8-4D4C-98FB-7B0C9D479DB7@hobu.co>

All,

This is a notice to let you know that we are starting to prepare the 1.5.0 PDAL release, and if you have any critical bugs or patches in your trees that are not quite yet finished now is the time to polish them up.

Some upcoming additions for 1.5:
- filters.cluster, filters.groupby, and filters.locate by Brad Chambers
- Pipelines now support a "user_data" JSON object on every node to allow you to pass application data through PDAL's pipelines
- writers.las can optionally add a "PDAL metadata" and "PDAL pipeline" VLR of JSON for processing history
- Python filter improvements -- you can now modify metadata in Python filters
- Stage tags can be used in command-line overrides
- Tons of documentation updates and additions
- Plenty more

Let's plan to have the release the week of April 3rd, unless someone has something significant we need to wait to integrate (speak up now!). Additionally, we will plan to have a 1.6.0 release just before FOSS4G in August. This will continue to keep us on roughly quarterly releases.

Howard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 495 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170324/e85f144f/attachment.sig>

From michael.rosen at gmail.com  Fri Mar 24 12:34:32 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Fri, 24 Mar 2017 12:34:32 -0700
Subject: [pdal] How to read a text file
In-Reply-To: <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
 <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
Message-ID: <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>

Thanks guys.


So, I'm looking at the Sithole-Vosselman "Filter Experiment" paper from
2004.  The data they provide is in text format and sadly, puts two points
on a line (first and last return, though they don't give return number nor
total number of returns).

data: http://www.itc.nl/isprswgIII-3/filtertest/

[X1 - First Return] - x coordinate (Easting)
[Y1 - First Return] - y coordinate (Northing)
[Z1 - First Return] - z coordinate (Height)
[I1 - First Return] - Intensity of returned pulse
[X2 - Last  Return] - x coordinate (Easting)
[Y2 - Last  Return] - y coordinate (Northing)
[Z2 - Last  Return] - z coordinate (Height)
[I2 - Last  Return] - Intensity of returned pulse


To move forward I can, of course, preprocess the file so that these read in
as two separate, unrelated, points.  However, a robustness test for PDAL
would be if I could make a pipeline that would read it in as presented.
Could someone comment on how feasible that is.

On Thu, Mar 23, 2017 at 7:15 PM, Howard Butler <howard at hobu.co> wrote:

>
> > On Mar 23, 2017, at 7:23 PM, Michael Rosen <michael.rosen at gmail.com>
> wrote:
> >
> > Suppose I wanted to pass a text file into PDAL:
> >
> > No header line, just a list of known fields.
>
> You need to add a header line at the moment. It would be straightforward
> to make a patch to add a header override option to the TextWriter.cpp code,
> but that hasn't been done so far.
>
> Howard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170324/4b7acc56/attachment.html>

From brad.chambers at gmail.com  Fri Mar 24 12:45:19 2017
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Fri, 24 Mar 2017 19:45:19 +0000
Subject: [pdal] How to read a text file
In-Reply-To: <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
 <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
 <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
Message-ID: <CAJyqqPxJ7P-RiO3Qj6K-JVCPkVjsj-y33HXjdU-wMHZXF7jH_g@mail.gmail.com>

Michael,

You may find this useful.

https://github.com/PDAL/data/tree/master/isprs

Released with permission of the authors.

Brad

On Fri, Mar 24, 2017 at 3:35 PM Michael Rosen <michael.rosen at gmail.com>
wrote:

> Thanks guys.
>
>
> So, I'm looking at the Sithole-Vosselman "Filter Experiment" paper from
> 2004.  The data they provide is in text format and sadly, puts two points
> on a line (first and last return, though they don't give return number nor
> total number of returns).
>
> data: http://www.itc.nl/isprswgIII-3/filtertest/
>
> [X1 - First Return] - x coordinate (Easting)
> [Y1 - First Return] - y coordinate (Northing)
> [Z1 - First Return] - z coordinate (Height)
> [I1 - First Return] - Intensity of returned pulse
> [X2 - Last  Return] - x coordinate (Easting)
> [Y2 - Last  Return] - y coordinate (Northing)
> [Z2 - Last  Return] - z coordinate (Height)
> [I2 - Last  Return] - Intensity of returned pulse
>
>
> To move forward I can, of course, preprocess the file so that these read
> in as two separate, unrelated, points.  However, a robustness test for PDAL
> would be if I could make a pipeline that would read it in as presented.
> Could someone comment on how feasible that is.
>
> On Thu, Mar 23, 2017 at 7:15 PM, Howard Butler <howard at hobu.co> wrote:
>
>
> > On Mar 23, 2017, at 7:23 PM, Michael Rosen <michael.rosen at gmail.com>
> wrote:
> >
> > Suppose I wanted to pass a text file into PDAL:
> >
> > No header line, just a list of known fields.
>
> You need to add a header line at the moment. It would be straightforward
> to make a patch to add a header override option to the TextWriter.cpp code,
> but that hasn't been done so far.
>
> Howard
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170324/824fbcdd/attachment.html>

From michael.rosen at gmail.com  Fri Mar 24 15:24:34 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Fri, 24 Mar 2017 15:24:34 -0700
Subject: [pdal] How to read a text file
In-Reply-To: <CAJyqqPxJ7P-RiO3Qj6K-JVCPkVjsj-y33HXjdU-wMHZXF7jH_g@mail.gmail.com>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
 <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
 <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
 <CAJyqqPxJ7P-RiO3Qj6K-JVCPkVjsj-y33HXjdU-wMHZXF7jH_g@mail.gmail.com>
Message-ID: <CAAhorQmOeYbKfjXi5wsONehcnKSO+Zb+irzsWzx08vagxFnNDA@mail.gmail.com>

Indeed.  Thanks for this.

> For the reference datasets, the data has once again been projected into
UTM
zone 32U and converted from ASCII to LAZ. The data contain no return
information, but ground returns apply the LAS "Ground" classification (all
others are "Created, never classified").

My understanding was that the original reference data sets were classified
manually.  Presumably, they contained only ground points.  Can you confirm
that this original classification has been lost?

msr

On Fri, Mar 24, 2017 at 12:45 PM, Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Michael,
>
> You may find this useful.
>
> https://github.com/PDAL/data/tree/master/isprs
>
> Released with permission of the authors.
>
> Brad
>
> On Fri, Mar 24, 2017 at 3:35 PM Michael Rosen <michael.rosen at gmail.com>
> wrote:
>
>> Thanks guys.
>>
>>
>> So, I'm looking at the Sithole-Vosselman "Filter Experiment" paper from
>> 2004.  The data they provide is in text format and sadly, puts two points
>> on a line (first and last return, though they don't give return number nor
>> total number of returns).
>>
>> data: http://www.itc.nl/isprswgIII-3/filtertest/
>>
>> [X1 - First Return] - x coordinate (Easting)
>> [Y1 - First Return] - y coordinate (Northing)
>> [Z1 - First Return] - z coordinate (Height)
>> [I1 - First Return] - Intensity of returned pulse
>> [X2 - Last  Return] - x coordinate (Easting)
>> [Y2 - Last  Return] - y coordinate (Northing)
>> [Z2 - Last  Return] - z coordinate (Height)
>> [I2 - Last  Return] - Intensity of returned pulse
>>
>>
>> To move forward I can, of course, preprocess the file so that these read
>> in as two separate, unrelated, points.  However, a robustness test for PDAL
>> would be if I could make a pipeline that would read it in as presented.
>> Could someone comment on how feasible that is.
>>
>> On Thu, Mar 23, 2017 at 7:15 PM, Howard Butler <howard at hobu.co> wrote:
>>
>>
>> > On Mar 23, 2017, at 7:23 PM, Michael Rosen <michael.rosen at gmail.com>
>> wrote:
>> >
>> > Suppose I wanted to pass a text file into PDAL:
>> >
>> > No header line, just a list of known fields.
>>
>> You need to add a header line at the moment. It would be straightforward
>> to make a patch to add a header override option to the TextWriter.cpp code,
>> but that hasn't been done so far.
>>
>> Howard
>>
>>
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170324/bbe1efec/attachment.html>

From brad.chambers at gmail.com  Fri Mar 24 15:44:36 2017
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Fri, 24 Mar 2017 22:44:36 +0000
Subject: [pdal] How to read a text file
In-Reply-To: <CAAhorQmOeYbKfjXi5wsONehcnKSO+Zb+irzsWzx08vagxFnNDA@mail.gmail.com>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
 <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
 <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
 <CAJyqqPxJ7P-RiO3Qj6K-JVCPkVjsj-y33HXjdU-wMHZXF7jH_g@mail.gmail.com>
 <CAAhorQmOeYbKfjXi5wsONehcnKSO+Zb+irzsWzx08vagxFnNDA@mail.gmail.com>
Message-ID: <CAJyqqPyzw7UtT7072ciDzh1VPsQidv_tm64XcYx05p8VaCJW6A@mail.gmail.com>

Away from my computer right now but I'm pretty sure they do. Also, I
created these which for sure do.

https://github.com/PointCloudLibrary/data/terrain

On Fri, Mar 24, 2017, 6:25 PM Michael Rosen <michael.rosen at gmail.com> wrote:

> Indeed.  Thanks for this.
>
> > For the reference datasets, the data has once again been projected into
> UTM
> zone 32U and converted from ASCII to LAZ. The data contain no return
> information, but ground returns apply the LAS "Ground" classification (all
> others are "Created, never classified").
>
> My understanding was that the original reference data sets were classified
> manually.  Presumably, they contained only ground points.  Can you confirm
> that this original classification has been lost?
>
> msr
>
> On Fri, Mar 24, 2017 at 12:45 PM, Bradley Chambers <
> brad.chambers at gmail.com> wrote:
>
> Michael,
>
> You may find this useful.
>
> https://github.com/PDAL/data/tree/master/isprs
>
> Released with permission of the authors.
>
> Brad
>
> On Fri, Mar 24, 2017 at 3:35 PM Michael Rosen <michael.rosen at gmail.com>
> wrote:
>
> Thanks guys.
>
>
> So, I'm looking at the Sithole-Vosselman "Filter Experiment" paper from
> 2004.  The data they provide is in text format and sadly, puts two points
> on a line (first and last return, though they don't give return number nor
> total number of returns).
>
> data: http://www.itc.nl/isprswgIII-3/filtertest/
>
> [X1 - First Return] - x coordinate (Easting)
> [Y1 - First Return] - y coordinate (Northing)
> [Z1 - First Return] - z coordinate (Height)
> [I1 - First Return] - Intensity of returned pulse
> [X2 - Last  Return] - x coordinate (Easting)
> [Y2 - Last  Return] - y coordinate (Northing)
> [Z2 - Last  Return] - z coordinate (Height)
> [I2 - Last  Return] - Intensity of returned pulse
>
>
> To move forward I can, of course, preprocess the file so that these read
> in as two separate, unrelated, points.  However, a robustness test for PDAL
> would be if I could make a pipeline that would read it in as presented.
> Could someone comment on how feasible that is.
>
> On Thu, Mar 23, 2017 at 7:15 PM, Howard Butler <howard at hobu.co> wrote:
>
>
> > On Mar 23, 2017, at 7:23 PM, Michael Rosen <michael.rosen at gmail.com>
> wrote:
> >
> > Suppose I wanted to pass a text file into PDAL:
> >
> > No header line, just a list of known fields.
>
> You need to add a header line at the moment. It would be straightforward
> to make a patch to add a header override option to the TextWriter.cpp code,
> but that hasn't been done so far.
>
> Howard
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170324/d3d82957/attachment-0001.html>

From michael.rosen at gmail.com  Fri Mar 24 16:42:39 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Fri, 24 Mar 2017 16:42:39 -0700
Subject: [pdal] How to read a text file
In-Reply-To: <CAJyqqPyzw7UtT7072ciDzh1VPsQidv_tm64XcYx05p8VaCJW6A@mail.gmail.com>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
 <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
 <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
 <CAJyqqPxJ7P-RiO3Qj6K-JVCPkVjsj-y33HXjdU-wMHZXF7jH_g@mail.gmail.com>
 <CAAhorQmOeYbKfjXi5wsONehcnKSO+Zb+irzsWzx08vagxFnNDA@mail.gmail.com>
 <CAJyqqPyzw7UtT7072ciDzh1VPsQidv_tm64XcYx05p8VaCJW6A@mail.gmail.com>
Message-ID: <CAAhorQn+hhZMK1VErH4HodO9v1ZH=rYjgLWSfiOrP2K2UhR+KQ@mail.gmail.com>

Thanks. The terrain data from PCL looks right.  Can you confirm that those
values are from the manually classified data provided by ISPRS and that the
corresponding data on PDAL is from "pdal ground."

msr

On Fri, Mar 24, 2017 at 3:44 PM, Bradley Chambers <brad.chambers at gmail.com>
wrote:

> Away from my computer right now but I'm pretty sure they do. Also, I
> created these which for sure do.
>
> https://github.com/PointCloudLibrary/data/terrain
>
> On Fri, Mar 24, 2017, 6:25 PM Michael Rosen <michael.rosen at gmail.com>
> wrote:
>
>> Indeed.  Thanks for this.
>>
>> > For the reference datasets, the data has once again been projected into
>> UTM
>> zone 32U and converted from ASCII to LAZ. The data contain no return
>> information, but ground returns apply the LAS "Ground" classification (all
>> others are "Created, never classified").
>>
>> My understanding was that the original reference data sets were
>> classified manually.  Presumably, they contained only ground points.  Can
>> you confirm that this original classification has been lost?
>>
>> msr
>>
>> On Fri, Mar 24, 2017 at 12:45 PM, Bradley Chambers <
>> brad.chambers at gmail.com> wrote:
>>
>> Michael,
>>
>> You may find this useful.
>>
>> https://github.com/PDAL/data/tree/master/isprs
>>
>> Released with permission of the authors.
>>
>> Brad
>>
>> On Fri, Mar 24, 2017 at 3:35 PM Michael Rosen <michael.rosen at gmail.com>
>> wrote:
>>
>> Thanks guys.
>>
>>
>> So, I'm looking at the Sithole-Vosselman "Filter Experiment" paper from
>> 2004.  The data they provide is in text format and sadly, puts two points
>> on a line (first and last return, though they don't give return number nor
>> total number of returns).
>>
>> data: http://www.itc.nl/isprswgIII-3/filtertest/
>>
>> [X1 - First Return] - x coordinate (Easting)
>> [Y1 - First Return] - y coordinate (Northing)
>> [Z1 - First Return] - z coordinate (Height)
>> [I1 - First Return] - Intensity of returned pulse
>> [X2 - Last  Return] - x coordinate (Easting)
>> [Y2 - Last  Return] - y coordinate (Northing)
>> [Z2 - Last  Return] - z coordinate (Height)
>> [I2 - Last  Return] - Intensity of returned pulse
>>
>>
>> To move forward I can, of course, preprocess the file so that these read
>> in as two separate, unrelated, points.  However, a robustness test for PDAL
>> would be if I could make a pipeline that would read it in as presented.
>> Could someone comment on how feasible that is.
>>
>> On Thu, Mar 23, 2017 at 7:15 PM, Howard Butler <howard at hobu.co> wrote:
>>
>>
>> > On Mar 23, 2017, at 7:23 PM, Michael Rosen <michael.rosen at gmail.com>
>> wrote:
>> >
>> > Suppose I wanted to pass a text file into PDAL:
>> >
>> > No header line, just a list of known fields.
>>
>> You need to add a header line at the moment. It would be straightforward
>> to make a patch to add a header override option to the TextWriter.cpp code,
>> but that hasn't been done so far.
>>
>> Howard
>>
>>
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/pdal
>>
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170324/43e8e458/attachment.html>

From brad.chambers at gmail.com  Fri Mar 24 16:51:54 2017
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Fri, 24 Mar 2017 23:51:54 +0000
Subject: [pdal] How to read a text file
In-Reply-To: <CAAhorQn+hhZMK1VErH4HodO9v1ZH=rYjgLWSfiOrP2K2UhR+KQ@mail.gmail.com>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
 <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
 <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
 <CAJyqqPxJ7P-RiO3Qj6K-JVCPkVjsj-y33HXjdU-wMHZXF7jH_g@mail.gmail.com>
 <CAAhorQmOeYbKfjXi5wsONehcnKSO+Zb+irzsWzx08vagxFnNDA@mail.gmail.com>
 <CAJyqqPyzw7UtT7072ciDzh1VPsQidv_tm64XcYx05p8VaCJW6A@mail.gmail.com>
 <CAAhorQn+hhZMK1VErH4HodO9v1ZH=rYjgLWSfiOrP2K2UhR+KQ@mail.gmail.com>
Message-ID: <CAJyqqPxUa0XOk2E3-xc=a-qH31P58gBoxByEtYUKjeXDBQrkqg@mail.gmail.com>

It's all just reformatted from the original. No processing applied.

On Fri, Mar 24, 2017, 7:43 PM Michael Rosen <michael.rosen at gmail.com> wrote:

> Thanks. The terrain data from PCL looks right.  Can you confirm that those
> values are from the manually classified data provided by ISPRS and that the
> corresponding data on PDAL is from "pdal ground."
>
> msr
>
> On Fri, Mar 24, 2017 at 3:44 PM, Bradley Chambers <brad.chambers at gmail.com
> > wrote:
>
> Away from my computer right now but I'm pretty sure they do. Also, I
> created these which for sure do.
>
> https://github.com/PointCloudLibrary/data/terrain
>
> On Fri, Mar 24, 2017, 6:25 PM Michael Rosen <michael.rosen at gmail.com>
> wrote:
>
> Indeed.  Thanks for this.
>
> > For the reference datasets, the data has once again been projected into
> UTM
> zone 32U and converted from ASCII to LAZ. The data contain no return
> information, but ground returns apply the LAS "Ground" classification (all
> others are "Created, never classified").
>
> My understanding was that the original reference data sets were classified
> manually.  Presumably, they contained only ground points.  Can you confirm
> that this original classification has been lost?
>
> msr
>
> On Fri, Mar 24, 2017 at 12:45 PM, Bradley Chambers <
> brad.chambers at gmail.com> wrote:
>
> Michael,
>
> You may find this useful.
>
> https://github.com/PDAL/data/tree/master/isprs
>
> Released with permission of the authors.
>
> Brad
>
> On Fri, Mar 24, 2017 at 3:35 PM Michael Rosen <michael.rosen at gmail.com>
> wrote:
>
> Thanks guys.
>
>
> So, I'm looking at the Sithole-Vosselman "Filter Experiment" paper from
> 2004.  The data they provide is in text format and sadly, puts two points
> on a line (first and last return, though they don't give return number nor
> total number of returns).
>
> data: http://www.itc.nl/isprswgIII-3/filtertest/
>
> [X1 - First Return] - x coordinate (Easting)
> [Y1 - First Return] - y coordinate (Northing)
> [Z1 - First Return] - z coordinate (Height)
> [I1 - First Return] - Intensity of returned pulse
> [X2 - Last  Return] - x coordinate (Easting)
> [Y2 - Last  Return] - y coordinate (Northing)
> [Z2 - Last  Return] - z coordinate (Height)
> [I2 - Last  Return] - Intensity of returned pulse
>
>
> To move forward I can, of course, preprocess the file so that these read
> in as two separate, unrelated, points.  However, a robustness test for PDAL
> would be if I could make a pipeline that would read it in as presented.
> Could someone comment on how feasible that is.
>
> On Thu, Mar 23, 2017 at 7:15 PM, Howard Butler <howard at hobu.co> wrote:
>
>
> > On Mar 23, 2017, at 7:23 PM, Michael Rosen <michael.rosen at gmail.com>
> wrote:
> >
> > Suppose I wanted to pass a text file into PDAL:
> >
> > No header line, just a list of known fields.
>
> You need to add a header line at the moment. It would be straightforward
> to make a patch to add a header override option to the TextWriter.cpp code,
> but that hasn't been done so far.
>
> Howard
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170324/32ef627a/attachment-0001.html>

From howard at hobu.co  Fri Mar 24 18:32:19 2017
From: howard at hobu.co (Howard Butler)
Date: Fri, 24 Mar 2017 20:32:19 -0500
Subject: [pdal] How to read a text file
In-Reply-To: <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
References: <CAAhorQkP+n4Ue=uTQt4_rLZhBL9ZFDq7wXn2E+Qy3Mzv8Px6Bg@mail.gmail.com>
 <2C3EF71F-705A-478B-9389-0AF4E1121C39@hobu.co>
 <CAAhorQ=FHv2BT7j1Bs2oeYaQUgf8i=cyOGevnRY3N6eE0aPSuw@mail.gmail.com>
Message-ID: <B2CF6CDF-B145-4C92-AC8D-B197DEA5A09D@hobu.co>


> On Mar 24, 2017, at 2:34 PM, Michael Rosen <michael.rosen at gmail.com> wrote:
> 
> Thanks guys.
> 
> 
> So, I'm looking at the Sithole-Vosselman "Filter Experiment" paper from 2004.  The data they provide is in text format and sadly, puts two points on a line (first and last return, though they don't give return number nor total number of returns).
> 
> data: http://www.itc.nl/isprswgIII-3/filtertest/
> 
> [X1 - First Return] - x coordinate (Easting)
> [Y1 - First Return] - y coordinate (Northing)
> [Z1 - First Return] - z coordinate (Height)
> [I1 - First Return] - Intensity of returned pulse
> [X2 - Last  Return] - x coordinate (Easting)
> [Y2 - Last  Return] - y coordinate (Northing)
> [Z2 - Last  Return] - z coordinate (Height)
> [I2 - Last  Return] - Intensity of returned pulse
> 
> 
> To move forward I can, of course, preprocess the file so that these read in as two separate, unrelated, points.  However, a robustness test for PDAL would be if I could make a pipeline that would read it in as presented.  Could someone comment on how feasible that is.

I think this is possible with filters.programmable and Python, but there might be a gotcha or two. Assuming you fix the header thing and you read in the points, you should be able to make new points for each of the second points in the line using numpy.


From michael.rosen at gmail.com  Mon Mar 27 11:09:31 2017
From: michael.rosen at gmail.com (Michael Rosen)
Date: Mon, 27 Mar 2017 11:09:31 -0700
Subject: [pdal] odd behavior with 'pdal delta' ... --output required but
	ignored?
Message-ID: <CAAhorQnwfDiNaz85R+Gy1VO9Pv=A9oyZyYpzB7gWx6Y7yE73xA@mail.gmail.com>

I'm comparing the results of ground isolation:

msr at msr-laptop ~/dev/scratch-michaelr/pdalworkflow $ pdal delta --candidate
samp11-utm-ground.laz  --source
~/data/AzimetrySamples/Sithole_Vosselman/terrain/samp11-utm-ground.pcd
PDAL: kernels.delta: Missing value for positional argument 'output'.


OK, so it wants me to include a '--output switch' (though documentation
says this defaults to stdout).  However, when I do add the --output switch
it seems to get ignored.  Am I doing it wrong?

msr at msr-laptop ~/dev/scratch-michaelr/pdalworkflow $ pdal delta --candidate
samp11-utm-ground.laz  --source
~/data/AzimetrySamples/Sithole_Vosselman/terrain/samp11-utm-ground.pcd
 --output samp11-delta.txt
Failed to find match for field 'intensity'.
Failed to find match for field 'rgba'.
{
  "X":
 ... as expected but to stdout and no file called "samp11-delta.txt" is
created.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170327/56e144e7/attachment.html>

From Adam.Steer at anu.edu.au  Thu Mar 30 05:57:59 2017
From: Adam.Steer at anu.edu.au (Adam Steer)
Date: Thu, 30 Mar 2017 12:57:59 +0000
Subject: [pdal] Clipping from multiple LAS tiles
In-Reply-To: <28977335-844D-42FF-A258-470824DF0272@anu.edu.au>
References: <6C349F97-2772-48CF-8CBC-AD6A42C4DAD0@hobu.co>
 <5A0798C0-0E64-4B8B-ADDE-E891C7BAB3CA@anu.edu.au>
 <CACJ51z27iTJirk+DJ1032Mvux9VCOrnzGy1u+uyote0PZ1hd+Q@mail.gmail.com>
 <28977335-844D-42FF-A258-470824DF0272@anu.edu.au>
Message-ID: <69783452-3E15-4EE9-AD16-5C9EA6FD84AF@anu.edu.au>

Raising this thread from zombie status, and likely cleaning up my other one about tindex building: I feel like I’m closer to a solution here.

I have a pipeline which collects file names from a tindex. However - PDAL says 'PDAL: Can't update layout after points have been added.’. What is the merge filter trying to do? has it already written out all the bounding box stuff at the first tile, and not wanting to update it?

Or something else entirely? I’ll test some different data tomorrow.

Thanks again

Adam

Details:
---
tindex build:

docker run -v /Volumes/Antares/ACT-lidar:/data pdal/pdal:1.4 pdal tindex /data/tile-indexes/8ppmtindex_bounds3.sqlite "/data/points/8ppm/AHD/*.las" -f "SQLite" --lyr_name "pdal" --a_srs "EPSG:28355" --t_srs "EPSG:4326" --fast_boundary

(referring to my earlier post about missing geometries - using —a_srs made the difference. tile indexes now actually behave as if they are EPSG:4326, and a polygon with lon/lat vertices will intersect with tiles. I’ll add my result for some closure there tomorrow…)

pipeline result:

docker run -v /Volumes/Antares/ACT-lidar:/data pdal/pdal:1.4 pdal pipeline /data/point-clipping/act_clip.json --verbose=Debug
(pdal pipeline readers.tindex Debug) Opening file /data/tile-indexes/8ppmtindex_bounds3.sqlite
(pdal pipeline readers.tindex Debug) Adding file /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6886092_55_0002_0002.las to merge filter
(pdal pipeline readers.tindex Debug) Adding file /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6886094_55_0002_0002.las to merge filter
(pdal pipeline readers.tindex Debug) Adding file /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6906092_55_0002_0002.las to merge filter
(pdal pipeline readers.tindex Debug) Adding file /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6906094_55_0002_0002.las to merge filter *
(pdal pipeline readers.tindex Debug) Adding file /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6906096_55_0002_0002.las to merge filter
(pdal pipeline readers.tindex Debug) Adding file /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6926094_55_0002_0002.las to merge filter
PDAL: Can't update layout after points have been added.

pipeline:

{
 "pipeline":[
   {
     "type": "readers.tindex",
     "sql": "SELECT * from pdal",
     "filename":"/data/tile-indexes/8ppmtindex_bounds3.sqlite",
     "wkt":"POLYGON((149.0896224975586 -35.25812600834376,149.08790588378906 -35.26485397359959,149.08721923828125 -35.27326314463213,149.08653259277344 -35.27942931528233,149.0899658203125 -35.284193761969895,149.09820556640625 -35.28363325338022,149.10472869873047 -35.28111091671122,149.10438537597656 -35.27046018460613,149.10850524902344 -35.26933897343947,149.1126251220703 -35.26289170810056,149.10747528076172 -35.25980805202397,149.09889221191406 -35.260368725492896,149.0896224975586 -35.25812600834376))"
   },
   {
     "type":"writers.las",
     "filename":"/data/outputfile4.laz"
   }
 ]
}



From andrew.bell.ia at gmail.com  Thu Mar 30 06:14:44 2017
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Thu, 30 Mar 2017 08:14:44 -0500
Subject: [pdal] Clipping from multiple LAS tiles
In-Reply-To: <69783452-3E15-4EE9-AD16-5C9EA6FD84AF@anu.edu.au>
References: <6C349F97-2772-48CF-8CBC-AD6A42C4DAD0@hobu.co>
 <5A0798C0-0E64-4B8B-ADDE-E891C7BAB3CA@anu.edu.au>
 <CACJ51z27iTJirk+DJ1032Mvux9VCOrnzGy1u+uyote0PZ1hd+Q@mail.gmail.com>
 <28977335-844D-42FF-A258-470824DF0272@anu.edu.au>
 <69783452-3E15-4EE9-AD16-5C9EA6FD84AF@anu.edu.au>
Message-ID: <CACJ51z3RpOrNCeNwm312PzaX167HFZ1JtXxaXXYdZmP9Ahp5wA@mail.gmail.com>

Maybe I don't understand your issue, but if you're creating a valid
pipeline with stages not of your own creation and getting the exception
that you're reporting, something is broken.  I think it's the tindex
reader.  I don't think it has gotten a lot of use.  I *think*people
typically use tindex from the command line, which invokes different code.
I think this indicates a bug in the tindex reader, but I'll have to
investigate.  I doubt I'll get to it until Monday.

If you could open a ticket, that would be helpful.


On Thu, Mar 30, 2017 at 7:57 AM, Adam Steer <Adam.Steer at anu.edu.au> wrote:

> Raising this thread from zombie status, and likely cleaning up my other
> one about tindex building: I feel like I’m closer to a solution here.
>
> I have a pipeline which collects file names from a tindex. However - PDAL
> says 'PDAL: Can't update layout after points have been added.’. What is the
> merge filter trying to do? has it already written out all the bounding box
> stuff at the first tile, and not wanting to update it?
>
> Or something else entirely? I’ll test some different data tomorrow.
>
> Thanks again
>
> Adam
>
> Details:
> ---
> tindex build:
>
> docker run -v /Volumes/Antares/ACT-lidar:/data pdal/pdal:1.4 pdal tindex
> /data/tile-indexes/8ppmtindex_bounds3.sqlite
> "/data/points/8ppm/AHD/*.las" -f "SQLite" --lyr_name "pdal" --a_srs
> "EPSG:28355" --t_srs "EPSG:4326" --fast_boundary
>
> (referring to my earlier post about missing geometries - using —a_srs made
> the difference. tile indexes now actually behave as if they are EPSG:4326,
> and a polygon with lon/lat vertices will intersect with tiles. I’ll add my
> result for some closure there tomorrow…)
>
> pipeline result:
>
> docker run -v /Volumes/Antares/ACT-lidar:/data pdal/pdal:1.4 pdal
> pipeline /data/point-clipping/act_clip.json --verbose=Debug
> (pdal pipeline readers.tindex Debug) Opening file
> /data/tile-indexes/8ppmtindex_bounds3.sqlite
> (pdal pipeline readers.tindex Debug) Adding file
> /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6886092_55_0002_0002.las to
> merge filter
> (pdal pipeline readers.tindex Debug) Adding file
> /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6886094_55_0002_0002.las to
> merge filter
> (pdal pipeline readers.tindex Debug) Adding file
> /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6906092_55_0002_0002.las to
> merge filter
> (pdal pipeline readers.tindex Debug) Adding file
> /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6906094_55_0002_0002.las to
> merge filter *
> (pdal pipeline readers.tindex Debug) Adding file
> /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6906096_55_0002_0002.las to
> merge filter
> (pdal pipeline readers.tindex Debug) Adding file
> /data/points/8ppm/AHD/ACT2015_8ppm-C3-AHD_6926094_55_0002_0002.las to
> merge filter
> PDAL: Can't update layout after points have been added.
>
> pipeline:
>
> {
>  "pipeline":[
>    {
>      "type": "readers.tindex",
>      "sql": "SELECT * from pdal",
>      "filename":"/data/tile-indexes/8ppmtindex_bounds3.sqlite",
>      "wkt":"POLYGON((149.0896224975586 -35.25812600834376,149.08790588378906
> -35.26485397359959,149.08721923828125 -35.27326314463213,149.08653259277344
> -35.27942931528233,149.0899658203125 -35.284193761969895,149.09820556640625
> -35.28363325338022,149.10472869873047 -35.28111091671122,149.10438537597656
> -35.27046018460613,149.10850524902344 -35.26933897343947,149.1126251220703
> -35.26289170810056,149.10747528076172 -35.25980805202397,149.09889221191406
> -35.260368725492896,149.0896224975586 -35.25812600834376))"
>    },
>    {
>      "type":"writers.las",
>      "filename":"/data/outputfile4.laz"
>    }
>  ]
> }
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/pdal




-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20170330/37e46a6f/attachment.html>

