From kreve at sdfe.dk  Mon Nov 14 04:33:11 2016
From: kreve at sdfe.dk (Kristian Evers)
Date: Mon, 14 Nov 2016 12:33:11 +0000
Subject: [pdal] Possible bug related to forked pipelines
Message-ID: <2E885BB293AF0448A0181138489E9A0E89CAC9B7@S000013.PROD.SITAD.DK>

Hi.

I have a few use cases where it would be beneficial to create a forked pipeline, i.e. one that generates
several outputs from the same input-file, but I am having some trouble achieving that.
If I understand the documentation correctly it should be possible by using the tags and inputs keywords
in a pipeline. Something like this:

{
  "pipeline":[
    {
        "type": "readers.las",
        "filename": "input.las",
        "tag": "A"
    },
    {
        "inputs": "A",
        "type": "writers.gdal",
        "resolution": 0.4,
        "radius": 0.7,
        "filename": "Z.tif",
        "dimension": "Z",
        "output_type": "mean
    },
    {
        "inputs": "A",
        "type": "writers.gdal",
        "resolution": 0.4,
        "radius": 0.7,
        "filename": "intensity.tif",
        "dimension": "Intensity",
        "output_type": "mean"
      ]
}

That is, use the new gdal writer (which is awesome, btw) to grid two or more dimensions of a las-file.
When I run this particular pipeline I get the following error:

"PDAL: writers.gdal: specified dimension 'Intensity' does not exist."

which suggests that the last writer (intensity.tif) is trying to grid a dimension from the first writer
(Z.tif) instead of input.las. This is a bit confusing since I specifically instruct PDAL to read
from tag A defined in the first stage of the pipeline. Is this a bug or just me trying to do something
I was never meant to do?
I am working on a Windows 7 computer and PDAL was compiled with VS2015 from a fairly
new revision (2f57c0cf1703af51498f9dae71c9a70128c4c93a).


Regards,
Kristian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161114/ce42c4e7/attachment.html>

From andrew.bell.ia at gmail.com  Mon Nov 14 06:40:18 2016
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Mon, 14 Nov 2016 08:40:18 -0600
Subject: [pdal] Possible bug related to forked pipelines
In-Reply-To: <2E885BB293AF0448A0181138489E9A0E89CAC9B7@S000013.PROD.SITAD.DK>
References: <2E885BB293AF0448A0181138489E9A0E89CAC9B7@S000013.PROD.SITAD.DK>
Message-ID: <CACJ51z0iPk31gME5f655vktjtnbNL2-xTboxQn+SB6CLqOkYZQ@mail.gmail.com>

The particular report is a bug in parsing the pipeline.  However, handling
a pipeline that forks is tricky.  I think we take a hands-off approach,
which means that unless you're careful, you may not get the behavior you
expect.  I'll fix the bug, test and report back.

On Mon, Nov 14, 2016 at 6:33 AM, Kristian Evers <kreve at sdfe.dk> wrote:

> Hi.
>
>
>
> I have a few use cases where it would be beneficial to create a forked
> pipeline, i.e. one that generates
>
> several outputs from the same input-file, but I am having some trouble
> achieving that.
>
> If I understand the documentation correctly it should be possible by using
> the tags and inputs keywords
>
> in a pipeline. Something like this:
>
>
>
> {
>
>   "pipeline":[
>
>     {
>
>         "type": "readers.las",
>
>         "filename": "input.las",
>
>         "tag": "A"
>
>     },
>
>     {
>
>         "inputs": "A",
>
>         "type": "writers.gdal",
>
>         "resolution": 0.4,
>
>         "radius": 0.7,
>
>         "filename": "Z.tif",
>
>         "dimension": "Z",
>
>         "output_type": "mean
>
>     },
>
>     {
>
>         "inputs": "A",
>
>         "type": "writers.gdal",
>
>         "resolution": 0.4,
>
>         "radius": 0.7,
>
>         "filename": "intensity.tif",
>
>         "dimension": "Intensity",
>
>         "output_type": "mean"
>
>       ]
>
> }
>
>
>
> That is, use the new gdal writer (which is awesome, btw) to grid two or
> more dimensions of a las-file.
>
> When I run this particular pipeline I get the following error:
>
>
>
> “PDAL: writers.gdal: specified dimension 'Intensity' does not exist.”
>
>
>
> which suggests that the last writer (intensity.tif) is trying to grid a
> dimension from the first writer
>
> (Z.tif) instead of input.las. This is a bit confusing since I specifically
> instruct PDAL to read
>
> from tag A defined in the first stage of the pipeline. Is this a bug or
> just me trying to do something
>
> I was never meant to do?
>
> I am working on a Windows 7 computer and PDAL was compiled with VS2015
> from a fairly
>
> new revision (2f57c0cf1703af51498f9dae71c9a70128c4c93a).
>
>
>
>
>
> Regards,
>
> Kristian
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161114/83f16659/attachment-0001.html>

From kreve at sdfe.dk  Mon Nov 14 07:28:51 2016
From: kreve at sdfe.dk (Kristian Evers)
Date: Mon, 14 Nov 2016 15:28:51 +0000
Subject: [pdal] Possible bug related to forked pipelines
In-Reply-To: <CACJ51z0iPk31gME5f655vktjtnbNL2-xTboxQn+SB6CLqOkYZQ@mail.gmail.com>
References: <2E885BB293AF0448A0181138489E9A0E89CAC9B7@S000013.PROD.SITAD.DK>
 <CACJ51z0iPk31gME5f655vktjtnbNL2-xTboxQn+SB6CLqOkYZQ@mail.gmail.com>
Message-ID: <2E885BB293AF0448A0181138489E9A0E89CAE6F3@S000014.PROD.SITAD.DK>

Thanks, Andrew. I’m subscribed to the ticket you just created and will make sure to test as well when you have a fix.

I agree that forked pipelines are a complicated affair, but it can also be a very powerful tool if  you know what you are doing.
I don’t expect PDAL to hold my hand in that regard!

/Kristian

Fra: Andrew Bell [mailto:andrew.bell.ia at gmail.com]
Sendt: 14. november 2016 15:40
Til: Kristian Evers
Cc: pdal
Emne: Re: [pdal] Possible bug related to forked pipelines

The particular report is a bug in parsing the pipeline.  However, handling a pipeline that forks is tricky.  I think we take a hands-off approach, which means that unless you're careful, you may not get the behavior you expect.  I'll fix the bug, test and report back.

On Mon, Nov 14, 2016 at 6:33 AM, Kristian Evers <kreve at sdfe.dk<mailto:kreve at sdfe.dk>> wrote:
Hi.

I have a few use cases where it would be beneficial to create a forked pipeline, i.e. one that generates
several outputs from the same input-file, but I am having some trouble achieving that.
If I understand the documentation correctly it should be possible by using the tags and inputs keywords
in a pipeline. Something like this:

{
  "pipeline":[
    {
        "type": "readers.las",
        "filename": "input.las",
        "tag": "A"
    },
    {
        "inputs": "A",
        "type": "writers.gdal",
        "resolution": 0.4,
        "radius": 0.7,
        "filename": "Z.tif",
        "dimension": "Z",
        "output_type": "mean
    },
    {
        "inputs": "A",
        "type": "writers.gdal",
        "resolution": 0.4,
        "radius": 0.7,
        "filename": "intensity.tif",
        "dimension": "Intensity",
        "output_type": "mean"
      ]
}

That is, use the new gdal writer (which is awesome, btw) to grid two or more dimensions of a las-file.
When I run this particular pipeline I get the following error:

“PDAL: writers.gdal: specified dimension 'Intensity' does not exist.”

which suggests that the last writer (intensity.tif) is trying to grid a dimension from the first writer
(Z.tif) instead of input.las. This is a bit confusing since I specifically instruct PDAL to read
from tag A defined in the first stage of the pipeline. Is this a bug or just me trying to do something
I was never meant to do?
I am working on a Windows 7 computer and PDAL was compiled with VS2015 from a fairly
new revision (2f57c0cf1703af51498f9dae71c9a70128c4c93a).


Regards,
Kristian

_______________________________________________
pdal mailing list
pdal at lists.osgeo.org<mailto:pdal at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/pdal



--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161114/d2899560/attachment.html>

From mikealonzo47 at gmail.com  Sat Nov 26 08:49:04 2016
From: mikealonzo47 at gmail.com (Mike Alonzo)
Date: Sat, 26 Nov 2016 11:49:04 -0500
Subject: [pdal] vcomp100.dll missing?
Message-ID: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>

Hi all --

I'm brand new to this list (and to pdal) so apologies if this has already
been discussed (is there a way to see an archive of questions and
answers?)... Anyhow, I'm trying to use the voxelgrid and the dartsample
filters but have been unsuccessful thus far. The error message says that
vcomp100.dll cannot be found.

My installation process was to do the 64 bit osgeo4W express install (an
AWS instance of Windows Server 2012 R2) followed by an advanced install of
just the pdal, pcl, and a few liblas command line items and the
default-selected libraries. Basic pdal stuff like pdal info works ok.
Random filtering works ok too, I believe (but perhaps this is a red
herring). I note that in the osgeo4W install visual C++ is installed three
times for different years and from reading "cures" to my problem, they all
have something to do with reinstalling visual c++. I've done this multiple
times to no avail.

Any thoughts/advice would be much appreciated.

Thanks,
Mike
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161126/30bb8c8c/attachment.html>

From jfprieur at gmail.com  Sat Nov 26 09:25:07 2016
From: jfprieur at gmail.com (Jean-Francois Prieur)
Date: Sat, 26 Nov 2016 17:25:07 +0000
Subject: [pdal] vcomp100.dll missing?
In-Reply-To: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>
References: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>
Message-ID: <CAEMWU29bb34ejLiDb7Q+G72jNrKA3Ebyw4+v8f5onieEHfssag@mail.gmail.com>

mailing list archive is here

http://osgeo-org.1560.x6.nabble.com/PDAL-f4600080.html

For the windows version of PDAL, most (I believe) will tell you to try to
run it via docker if possible.

http://www.pdal.io/tutorial/docker.html



On Sat, Nov 26, 2016 at 11:49 AM Mike Alonzo <mikealonzo47 at gmail.com> wrote:

> Hi all --
>
> I'm brand new to this list (and to pdal) so apologies if this has already
> been discussed (is there a way to see an archive of questions and
> answers?)... Anyhow, I'm trying to use the voxelgrid and the dartsample
> filters but have been unsuccessful thus far. The error message says that
> vcomp100.dll cannot be found.
>
> My installation process was to do the 64 bit osgeo4W express install (an
> AWS instance of Windows Server 2012 R2) followed by an advanced install of
> just the pdal, pcl, and a few liblas command line items and the
> default-selected libraries. Basic pdal stuff like pdal info works ok.
> Random filtering works ok too, I believe (but perhaps this is a red
> herring). I note that in the osgeo4W install visual C++ is installed three
> times for different years and from reading "cures" to my problem, they all
> have something to do with reinstalling visual c++. I've done this multiple
> times to no avail.
>
> Any thoughts/advice would be much appreciated.
>
> Thanks,
> Mike
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161126/1328ca1c/attachment.html>

From mikealonzo47 at gmail.com  Sat Nov 26 10:29:47 2016
From: mikealonzo47 at gmail.com (Mike Alonzo)
Date: Sat, 26 Nov 2016 13:29:47 -0500
Subject: [pdal] vcomp100.dll missing?
In-Reply-To: <CAEMWU29bb34ejLiDb7Q+G72jNrKA3Ebyw4+v8f5onieEHfssag@mail.gmail.com>
References: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>
 <CAEMWU29bb34ejLiDb7Q+G72jNrKA3Ebyw4+v8f5onieEHfssag@mail.gmail.com>
Message-ID: <CAAkO1kmSnpqPwX8GVGgFjy94CZggnT2JKZ4nmHwWgk4hod=DuA@mail.gmail.com>

Thanks!

I certainly see the appeal of Docker. However, as far as I can tell, I
cannot run it on an Amazon instance (doesn't support virtualization since
it itself is virtual, or something like that).

On Sat, Nov 26, 2016 at 12:25 PM, Jean-Francois Prieur <jfprieur at gmail.com>
wrote:

> mailing list archive is here
>
> http://osgeo-org.1560.x6.nabble.com/PDAL-f4600080.html
>
> For the windows version of PDAL, most (I believe) will tell you to try to
> run it via docker if possible.
>
> http://www.pdal.io/tutorial/docker.html
>
>
>
> On Sat, Nov 26, 2016 at 11:49 AM Mike Alonzo <mikealonzo47 at gmail.com>
> wrote:
>
>> Hi all --
>>
>> I'm brand new to this list (and to pdal) so apologies if this has already
>> been discussed (is there a way to see an archive of questions and
>> answers?)... Anyhow, I'm trying to use the voxelgrid and the dartsample
>> filters but have been unsuccessful thus far. The error message says that
>> vcomp100.dll cannot be found.
>>
>> My installation process was to do the 64 bit osgeo4W express install (an
>> AWS instance of Windows Server 2012 R2) followed by an advanced install of
>> just the pdal, pcl, and a few liblas command line items and the
>> default-selected libraries. Basic pdal stuff like pdal info works ok.
>> Random filtering works ok too, I believe (but perhaps this is a red
>> herring). I note that in the osgeo4W install visual C++ is installed three
>> times for different years and from reading "cures" to my problem, they all
>> have something to do with reinstalling visual c++. I've done this multiple
>> times to no avail.
>>
>> Any thoughts/advice would be much appreciated.
>>
>> Thanks,
>> Mike
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/pdal
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161126/f2a90bee/attachment.html>

From howard at hobu.co  Sat Nov 26 11:27:58 2016
From: howard at hobu.co (Howard Butler)
Date: Sat, 26 Nov 2016 13:27:58 -0600
Subject: [pdal] vcomp100.dll missing?
In-Reply-To: <CAAkO1kmSnpqPwX8GVGgFjy94CZggnT2JKZ4nmHwWgk4hod=DuA@mail.gmail.com>
References: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>
 <CAEMWU29bb34ejLiDb7Q+G72jNrKA3Ebyw4+v8f5onieEHfssag@mail.gmail.com>
 <CAAkO1kmSnpqPwX8GVGgFjy94CZggnT2JKZ4nmHwWgk4hod=DuA@mail.gmail.com>
Message-ID: <9C4E4638-8880-47C1-AF28-23EEC002E222@hobu.co>


> On Nov 26, 2016, at 12:29 PM, Mike Alonzo <mikealonzo47 at gmail.com> wrote:
> 
> Thanks!
> 
> I certainly see the appeal of Docker. However, as far as I can tell, I cannot run it on an Amazon instance (doesn't support virtualization since it itself is virtual, or something like that). 

Docker runs great in AWS. They have an entire service dedicated to it called ECS [1], and PDAL reads and writes to S3 if you have libcurl headers around when it is compiled. You can choose to use ECS or roll your own. We've had lots of success running PDAL with both.

The PDAL build on OSGeo4W64 should probably be removed. It is extremely out of date and have not been kept up with OSGeo4W changes. Indeed if you want to simply use the PDAL command line apps [2], the fastest and least painful way to achieve that on windows is with Docker [3]. A full-featured Windows build is not available as a pre-built Windows binary, and as others have documented on the mailing list, there is some effort in that area, but nothing so organized as to provide an installer and support for it. PDAL is built and tested frequently on Windows by the continuous integration system, and most things should work for those capable of compiling things themselves.

A nicely integrated Windows install, based on OSGeo4W64 or otherwise, is a lot of work to start and even more constant resource drag to maintain. It needs contribution to make it happen, and it requires enough specialized experience and skill. A bunch of pieces are there, but there is still plenty to do to complete the integration.

[1] https://aws.amazon.com/ecs/
[2] http://www.pdal.io/apps/index.html
[3] http://www.pdal.io/quickstart.html


From mikealonzo47 at gmail.com  Sun Nov 27 06:17:18 2016
From: mikealonzo47 at gmail.com (Mike Alonzo)
Date: Sun, 27 Nov 2016 09:17:18 -0500
Subject: [pdal] vcomp100.dll missing?
In-Reply-To: <9C4E4638-8880-47C1-AF28-23EEC002E222@hobu.co>
References: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>
 <CAEMWU29bb34ejLiDb7Q+G72jNrKA3Ebyw4+v8f5onieEHfssag@mail.gmail.com>
 <CAAkO1kmSnpqPwX8GVGgFjy94CZggnT2JKZ4nmHwWgk4hod=DuA@mail.gmail.com>
 <9C4E4638-8880-47C1-AF28-23EEC002E222@hobu.co>
Message-ID: <CAAkO1k=k56-UzQOrW_z_V7bhg2s+8W43aGOgk8y4z-Ei5932xA@mail.gmail.com>

Cool. I've got it up and running now. Seemed to be easier for me to setup
on a linux instance than on my windows instance (but I may have just become
slightly more adroit by the second go-around).

Thanks!

On Sat, Nov 26, 2016 at 2:27 PM, Howard Butler <howard at hobu.co> wrote:

>
> > On Nov 26, 2016, at 12:29 PM, Mike Alonzo <mikealonzo47 at gmail.com>
> wrote:
> >
> > Thanks!
> >
> > I certainly see the appeal of Docker. However, as far as I can tell, I
> cannot run it on an Amazon instance (doesn't support virtualization since
> it itself is virtual, or something like that).
>
> Docker runs great in AWS. They have an entire service dedicated to it
> called ECS [1], and PDAL reads and writes to S3 if you have libcurl headers
> around when it is compiled. You can choose to use ECS or roll your own.
> We've had lots of success running PDAL with both.
>
> The PDAL build on OSGeo4W64 should probably be removed. It is extremely
> out of date and have not been kept up with OSGeo4W changes. Indeed if you
> want to simply use the PDAL command line apps [2], the fastest and least
> painful way to achieve that on windows is with Docker [3]. A full-featured
> Windows build is not available as a pre-built Windows binary, and as others
> have documented on the mailing list, there is some effort in that area, but
> nothing so organized as to provide an installer and support for it. PDAL is
> built and tested frequently on Windows by the continuous integration
> system, and most things should work for those capable of compiling things
> themselves.
>
> A nicely integrated Windows install, based on OSGeo4W64 or otherwise, is a
> lot of work to start and even more constant resource drag to maintain. It
> needs contribution to make it happen, and it requires enough specialized
> experience and skill. A bunch of pieces are there, but there is still
> plenty to do to complete the integration.
>
> [1] https://aws.amazon.com/ecs/
> [2] http://www.pdal.io/apps/index.html
> [3] http://www.pdal.io/quickstart.html
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161127/8dc3fdab/attachment.html>

From kreve at sdfe.dk  Mon Nov 28 01:45:05 2016
From: kreve at sdfe.dk (Kristian Evers)
Date: Mon, 28 Nov 2016 09:45:05 +0000
Subject: [pdal] vcomp100.dll missing?
In-Reply-To: <9C4E4638-8880-47C1-AF28-23EEC002E222@hobu.co>
References: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>
 <CAEMWU29bb34ejLiDb7Q+G72jNrKA3Ebyw4+v8f5onieEHfssag@mail.gmail.com>
 <CAAkO1kmSnpqPwX8GVGgFjy94CZggnT2JKZ4nmHwWgk4hod=DuA@mail.gmail.com>
 <9C4E4638-8880-47C1-AF28-23EEC002E222@hobu.co>
Message-ID: <2E885BB293AF0448A0181138489E9A0E89CBCD97@S000014.PROD.SITAD.DK>

> A nicely integrated Windows install, based on OSGeo4W64 or otherwise, is a
> lot of work to start and even more constant resource drag to maintain. It
> needs contribution to make it happen, and it requires enough specialized
> experience and skill. A bunch of pieces are there, but there is still plenty to
> do to complete the integration.

Howard, 

An updated version of PDAL in OSGeo4W would be a huge benefit for me and my colleagues. So much that I can justify spending time on updating the current PDAL package. I do have quite a lot of experience in building PDAL on Windows in various configurations. I have very little insight in the OSGeo4w-ecosystem however. If someone is willing to mentor me in the inner workings of the OSGeo4W distribution, I'll do my best to update the PDAL package once 1.4 is out. I think it can be done without too much hassle if the aim is a bare-bones build of PDAL.

/Kristian

From howard at hobu.co  Mon Nov 28 09:02:14 2016
From: howard at hobu.co (Howard Butler)
Date: Mon, 28 Nov 2016 11:02:14 -0600
Subject: [pdal] vcomp100.dll missing?
In-Reply-To: <2E885BB293AF0448A0181138489E9A0E89CBCD97@S000014.PROD.SITAD.DK>
References: <CAAkO1k=utatrXi15HcqEbtE8JpV+cCgXJiA-3K0sYWaouHSnVA@mail.gmail.com>
 <CAEMWU29bb34ejLiDb7Q+G72jNrKA3Ebyw4+v8f5onieEHfssag@mail.gmail.com>
 <CAAkO1kmSnpqPwX8GVGgFjy94CZggnT2JKZ4nmHwWgk4hod=DuA@mail.gmail.com>
 <9C4E4638-8880-47C1-AF28-23EEC002E222@hobu.co>
 <2E885BB293AF0448A0181138489E9A0E89CBCD97@S000014.PROD.SITAD.DK>
Message-ID: <73C54A65-F340-4F27-A75D-ADC45966F4AB@hobu.co>


> On Nov 28, 2016, at 3:45 AM, Kristian Evers <kreve at sdfe.dk> wrote:
> 
>> A nicely integrated Windows install, based on OSGeo4W64 or otherwise, is a
>> lot of work to start and even more constant resource drag to maintain. It
>> needs contribution to make it happen, and it requires enough specialized
>> experience and skill. A bunch of pieces are there, but there is still plenty to
>> do to complete the integration.
> 
> Howard, 
> 
> An updated version of PDAL in OSGeo4W would be a huge benefit for me and my colleagues. So much that I can justify spending time on updating the current PDAL package. I do have quite a lot of experience in building PDAL on Windows in various configurations. I have very little insight in the OSGeo4w-ecosystem however. If someone is willing to mentor me in the inner workings of the OSGeo4W distribution, I'll do my best to update the PDAL package once 1.4 is out. I think it can be done without too much hassle if the aim is a bare-bones build of PDAL.

The PDAL AppVeyor build is based on OSGeo4W64, so from a dependency standpoint, things are in pretty good shape there. 

The things to be completed are:
- Auto-generation of the OSGeo4W64 package from a built tree (there are a few scripts that don't work. I mostly hand-rolled the existing package)
- Environment-setting .bat files for OSGeo4W64 package
- Supporting OSGeo4W64 packages such as laz-perf

Join the OSGeo4W mailing list and send an email stating your desire to start maintaining the OSGeo4W PDAL packages. We can get you accesses after that.

Howard

From brad.chambers at gmail.com  Mon Nov 28 11:47:56 2016
From: brad.chambers at gmail.com (Bradley Chambers)
Date: Mon, 28 Nov 2016 19:47:56 +0000
Subject: [pdal] Proposed changes to PCL plugin
Message-ID: <CAJyqqPw0yLENz3e14d=S5G25-PWWifB6yN7O3iKjRBP67H9e=A@mail.gmail.com>

Users of PDAL's PCL plugin should visit
https://github.com/PDAL/PDAL/issues/1404 to review and comment on some
proposed changes to the PCL plugin.

In short, much of the original PCL functionality that was exposed through
the plugin is now available natively in PDAL without the need for the PCL
dependency. This proposal describes maintenance of a much smaller PCL
plugin moving forward that only supports those features that are not
available in PDAL.

Brad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161128/88dc61c0/attachment.html>

From mateusz at loskot.net  Wed Nov 30 13:26:48 2016
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 30 Nov 2016 22:26:48 +0100
Subject: [pdal] First stab at Coverity Scan
Message-ID: <CABUeae_+g9Je1t0oPDQ2rf=11nzydbFxNkA273moQrLC+A2eqQ@mail.gmail.com>

Hi,

I've joined Andrew's efforst and I'm trying to configure Coverity Scan for PDAL.
I have configured it for several projects, including libLAS and
it generally is not a great deal of work.

However, with PDAL I'm hitting a wall.

I created new branch in PDAL/PDAL repo:

https://github.com/PDAL/PDAL/tree/coverity_scan

(Initially, I worked in mloskot/PDAL and I thought my problems
might be due missing some secret configs on GitHub/Travis CI.)

The build is failing with the error:

docker: command not found

https://travis-ci.org/PDAL/PDAL/jobs/180215967

In .travis.yml, I haven't changed anything regarding docker.
I only re-configured the build matrix a bit adding 3rd build for the Coverity.

I'm puzzled:
Why Travis CI properly sets up the docker service for the builds of master,
while it fails to do it for build based on coverity_scan branch?

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From howard at hobu.co  Wed Nov 30 13:50:25 2016
From: howard at hobu.co (Howard Butler)
Date: Wed, 30 Nov 2016 15:50:25 -0600
Subject: [pdal] First stab at Coverity Scan
In-Reply-To: <CABUeae_+g9Je1t0oPDQ2rf=11nzydbFxNkA273moQrLC+A2eqQ@mail.gmail.com>
References: <CABUeae_+g9Je1t0oPDQ2rf=11nzydbFxNkA273moQrLC+A2eqQ@mail.gmail.com>
Message-ID: <3E78EFA5-C38B-4FAB-A4E5-7B5DDC997807@hobu.co>


> On Nov 30, 2016, at 3:26 PM, Mateusz Loskot <mateusz at loskot.net> wrote:
> 
> Hi,
> 
> I've joined Andrew's efforst and I'm trying to configure Coverity Scan for PDAL.
> I have configured it for several projects, including libLAS and
> it generally is not a great deal of work.
> 
> However, with PDAL I'm hitting a wall.
> 
> I created new branch in PDAL/PDAL repo:
> 
> https://github.com/PDAL/PDAL/tree/coverity_scan
> 
> (Initially, I worked in mloskot/PDAL and I thought my problems
> might be due missing some secret configs on GitHub/Travis CI.)
> 
> The build is failing with the error:
> 
> docker: command not found
> 
> https://travis-ci.org/PDAL/PDAL/jobs/180215967
> 
> In .travis.yml, I haven't changed anything regarding docker.
> I only re-configured the build matrix a bit adding 3rd build for the Coverity.
> 
> I'm puzzled:
> Why Travis CI properly sets up the docker service for the builds of master,
> while it fails to do it for build based on coverity_scan branch?

Travis looks like it is not starting Docker for some reason. 

See https://travis-ci.org/PDAL/PDAL/jobs/180215967#L119

Others seem to have similar problems, but the path forward is not clear https://www.google.com/search?q=travis+docker+unrecognized+service&

Howard

From mateusz at loskot.net  Wed Nov 30 14:27:43 2016
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 30 Nov 2016 23:27:43 +0100
Subject: [pdal] First stab at Coverity Scan
In-Reply-To: <3E78EFA5-C38B-4FAB-A4E5-7B5DDC997807@hobu.co>
References: <CABUeae_+g9Je1t0oPDQ2rf=11nzydbFxNkA273moQrLC+A2eqQ@mail.gmail.com>
 <3E78EFA5-C38B-4FAB-A4E5-7B5DDC997807@hobu.co>
Message-ID: <CABUeae-fpx-Lgdu7HmZ7Z8sW2Ot6M+hh+-Y=fAKF5gwu2+paPQ@mail.gmail.com>

On 30 November 2016 at 22:50, Howard Butler <howard at hobu.co> wrote:
>> On Nov 30, 2016, at 3:26 PM, Mateusz Loskot <mateusz at loskot.net> wrote:
>>
>> I've joined Andrew's efforst and I'm trying to configure Coverity Scan for PDAL.
>> I have configured it for several projects, including libLAS and
>> it generally is not a great deal of work.
>>
>> However, with PDAL I'm hitting a wall.
>>
>> I created new branch in PDAL/PDAL repo:
>>
>> https://github.com/PDAL/PDAL/tree/coverity_scan
>>
>> (Initially, I worked in mloskot/PDAL and I thought my problems
>> might be due missing some secret configs on GitHub/Travis CI.)
>>
>> The build is failing with the error:
>>
>> docker: command not found
>>
>> https://travis-ci.org/PDAL/PDAL/jobs/180215967
>>
>> In .travis.yml, I haven't changed anything regarding docker.
>> I only re-configured the build matrix a bit adding 3rd build for the Coverity.
>>
>> I'm puzzled:
>> Why Travis CI properly sets up the docker service for the builds of master,
>> while it fails to do it for build based on coverity_scan branch?
>
> Travis looks like it is not starting Docker for some reason.
>
> See https://travis-ci.org/PDAL/PDAL/jobs/180215967#L119


Right, though it runs on the main builds
https://travis-ci.org/PDAL/PDAL/jobs/180221701#L233

> Others seem to have similar problems, but the path
> forward is not clear https://www.google.com/search?q=travis+docker+unrecognized+service&

Yes, I found number of related older/later GH issues and it seems to
be a recurring issue
(seems related to complex build matrices, ie. matrix.include).


Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From mateusz at loskot.net  Wed Nov 30 15:39:37 2016
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu, 1 Dec 2016 00:39:37 +0100
Subject: [pdal] First stab at Coverity Scan
In-Reply-To: <CABUeae-fpx-Lgdu7HmZ7Z8sW2Ot6M+hh+-Y=fAKF5gwu2+paPQ@mail.gmail.com>
References: <CABUeae_+g9Je1t0oPDQ2rf=11nzydbFxNkA273moQrLC+A2eqQ@mail.gmail.com>
 <3E78EFA5-C38B-4FAB-A4E5-7B5DDC997807@hobu.co>
 <CABUeae-fpx-Lgdu7HmZ7Z8sW2Ot6M+hh+-Y=fAKF5gwu2+paPQ@mail.gmail.com>
Message-ID: <CABUeae_-PZbCZLv=qGGRhZ0PcEZCUj1MJNZnyW4jOHfQy1th_g@mail.gmail.com>

On 30 November 2016 at 23:27, Mateusz Loskot <mateusz at loskot.net> wrote:
> On 30 November 2016 at 22:50, Howard Butler <howard at hobu.co> wrote:
>>> On Nov 30, 2016, at 3:26 PM, Mateusz Loskot <mateusz at loskot.net> wrote:
>>>
>>> I've joined Andrew's efforst and I'm trying to configure Coverity Scan for PDAL.
>>> I have configured it for several projects, including libLAS and
>>> it generally is not a great deal of work.
>>>
>>> However, with PDAL I'm hitting a wall.
>>>
>>> I created new branch in PDAL/PDAL repo:
>>>
>>> https://github.com/PDAL/PDAL/tree/coverity_scan
>>>
>>> (Initially, I worked in mloskot/PDAL and I thought my problems
>>> might be due missing some secret configs on GitHub/Travis CI.)
>>>
>>> The build is failing with the error:
>>>
>>> docker: command not found
>>>
>>> https://travis-ci.org/PDAL/PDAL/jobs/180215967
>>>
>>> In .travis.yml, I haven't changed anything regarding docker.
>>> I only re-configured the build matrix a bit adding 3rd build for the Coverity.
>>>
>>> I'm puzzled:
>>> Why Travis CI properly sets up the docker service for the builds of master,
>>> while it fails to do it for build based on coverity_scan branch?
>>
>> Travis looks like it is not starting Docker for some reason.
>>
>> See https://travis-ci.org/PDAL/PDAL/jobs/180215967#L119
>
>
> Right, though it runs on the main builds
> https://travis-ci.org/PDAL/PDAL/jobs/180221701#L233
>
>> Others seem to have similar problems, but the path
>> forward is not clear https://www.google.com/search?q=travis+docker+unrecognized+service&
>
> Yes, I found number of related older/later GH issues and it seems to
> be a recurring issue
> (seems related to complex build matrices, ie. matrix.include).

For the record, switching Ubuntu Trusty in .travis.yml with

distro: trusty

fixes the docker.

Build succeeded but Coverity Scan did not due to build configuration issue

https://travis-ci.org/PDAL/PDAL/jobs/180236279#L506

To be solved.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From mbgross at unavco.org  Wed Nov 30 15:46:56 2016
From: mbgross at unavco.org (Benjamin Gross)
Date: Wed, 30 Nov 2016 16:46:56 -0700
Subject: [pdal] filters.stats output
Message-ID: <B3624A12-888D-4082-84CB-FE36F8EC8C97@unavco.org>

Hi all,

I’m new to using pdal and have what I hope is a very basic question. I’m trying to use filters.stats to output a summary of classes in a point cloud and the number of points per class as suggested on https://github.com/PDAL/PDAL/issues/955 <https://github.com/PDAL/PDAL/issues/955>. But I’m not sure how to access the output of filters.stats. I tried to set up a pipeline as in the example, but the header in the output las doesn’t seem to include the new aggregate stats. If I change the output to text or STDOUT I only get the points back and furthermore it has all dimensions, not just those specified by the filters.stats dimensions field. What am I missing? Thanks for the help,

Benjamin


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161130/b8e939e8/attachment.html>

From andrew.bell.ia at gmail.com  Wed Nov 30 15:55:12 2016
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Wed, 30 Nov 2016 17:55:12 -0600
Subject: [pdal] filters.stats output
In-Reply-To: <B3624A12-888D-4082-84CB-FE36F8EC8C97@unavco.org>
References: <B3624A12-888D-4082-84CB-FE36F8EC8C97@unavco.org>
Message-ID: <CACJ51z02Ud6H1jNrSpOM4b8XbJwLQVZq3zwshZofp4ukcDA3Ng@mail.gmail.com>

I'm not sure exactly what you're doing, but if you're trying to get the
data using the command-line application, perhaps something like this is
what you want:

$ bin/pdal info --stats myfile.las
--filters.stats.dimensions=Classification
--filters.stats.count=Classification

On Wed, Nov 30, 2016 at 5:46 PM, Benjamin Gross <mbgross at unavco.org> wrote:

> Hi all,
>
> I’m new to using pdal and have what I hope is a very basic question. I’m
> trying to use filters.stats to output a summary of classes in a point cloud
> and the number of points per class as suggested on
> https://github.com/PDAL/PDAL/issues/955. But I’m not sure how to access
> the output of filters.stats. I tried to set up a pipeline as in the
> example, but the header in the output las doesn’t seem to include the new
> aggregate stats. If I change the output to text or STDOUT I only get the
> points back and furthermore it has all dimensions, not just those specified
> by the filters.stats dimensions field. What am I missing? Thanks for the
> help,
>
> Benjamin
>
>
>
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/pdal
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161130/db3186a2/attachment.html>

From andrew.bell.ia at gmail.com  Wed Nov 30 15:56:05 2016
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Wed, 30 Nov 2016 17:56:05 -0600
Subject: [pdal] filters.stats output
In-Reply-To: <CACJ51z02Ud6H1jNrSpOM4b8XbJwLQVZq3zwshZofp4ukcDA3Ng@mail.gmail.com>
References: <B3624A12-888D-4082-84CB-FE36F8EC8C97@unavco.org>
 <CACJ51z02Ud6H1jNrSpOM4b8XbJwLQVZq3zwshZofp4ukcDA3Ng@mail.gmail.com>
Message-ID: <CACJ51z0YyR5K=f6=DrUvH9T7iJE5cWWq5noPc42sQuME6FCOXQ@mail.gmail.com>

I should have added the output:

$ bin/pdal info --stats myfile.las
--filters.stats.dimensions=Classification
--filters.stats.count=Classification
{
  "filename": "..\/test\/data\/las\/autzen_trim.las",
  "pdal_version": "1.3.0 (git-version: 3ca196)",
  "stats":
  {
    "statistic":
    [
      {
        "average": 1.237336364,
        "count": 110000,
        "counts":
        [
          "1.000000\/83893",
          "2.000000\/26107"
        ],
        "kurtosis": -4.857351452e+15,
        "maximum": 2,
        "minimum": 1,
        "name": "Classification",
        "position": 0,
        "skewness": 2.177023909e+15,
        "stddev": 0.4254905513,
        "variance": 0.1810422092
      }
    ]
  }
}

On Wed, Nov 30, 2016 at 5:55 PM, Andrew Bell <andrew.bell.ia at gmail.com>
wrote:

> I'm not sure exactly what you're doing, but if you're trying to get the
> data using the command-line application, perhaps something like this is
> what you want:
>
> $ bin/pdal info --stats myfile.las --filters.stats.dimensions=Classification
> --filters.stats.count=Classification
>
> On Wed, Nov 30, 2016 at 5:46 PM, Benjamin Gross <mbgross at unavco.org>
> wrote:
>
>> Hi all,
>>
>> I’m new to using pdal and have what I hope is a very basic question. I’m
>> trying to use filters.stats to output a summary of classes in a point cloud
>> and the number of points per class as suggested on
>> https://github.com/PDAL/PDAL/issues/955. But I’m not sure how to access
>> the output of filters.stats. I tried to set up a pipeline as in the
>> example, but the header in the output las doesn’t seem to include the new
>> aggregate stats. If I change the output to text or STDOUT I only get the
>> points back and furthermore it has all dimensions, not just those specified
>> by the filters.stats dimensions field. What am I missing? Thanks for the
>> help,
>>
>> Benjamin
>>
>>
>>
>> _______________________________________________
>> pdal mailing list
>> pdal at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/pdal
>>
>
>
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
>



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161130/a1fb2075/attachment-0001.html>

From mbgross at unavco.org  Wed Nov 30 16:05:44 2016
From: mbgross at unavco.org (Benjamin Gross)
Date: Wed, 30 Nov 2016 17:05:44 -0700
Subject: [pdal] filters.stats output
In-Reply-To: <CACJ51z0YyR5K=f6=DrUvH9T7iJE5cWWq5noPc42sQuME6FCOXQ@mail.gmail.com>
References: <B3624A12-888D-4082-84CB-FE36F8EC8C97@unavco.org>
 <CACJ51z02Ud6H1jNrSpOM4b8XbJwLQVZq3zwshZofp4ukcDA3Ng@mail.gmail.com>
 <CACJ51z0YyR5K=f6=DrUvH9T7iJE5cWWq5noPc42sQuME6FCOXQ@mail.gmail.com>
Message-ID: <A6C4EBED-4D28-429D-AB15-D05C527E356F@unavco.org>

Hi Andrew,
Thank you, that’s exactly what I was looking for. 

I was trying to access the stats with something like this:
$ pdal pipeline /data/pointcount.json 
where pointcount.json is:

{
  "pipeline":[
    "/data/input.las",
    {
      "type":"filters.stats",
      "dimensions":"Classification",
      "enumerate":"Classification",
      "count":"Classification"
    },
    {
      "type":"writers.text",
      "filename":"STDOUT"
    }
  ]
}

Thanks for your help,
Benjamin


> On Nov 30, 2016, at 4:56 PM, Andrew Bell <andrew.bell.ia at gmail.com> wrote:
> 
> I should have added the output:
> 
> $ bin/pdal info --stats myfile.las --filters.stats.dimensions=Classification --filters.stats.count=Classification
> {
>   "filename": "..\/test\/data\/las\/autzen_trim.las",
>   "pdal_version": "1.3.0 (git-version: 3ca196)",
>   "stats":
>   {
>     "statistic":
>     [
>       {
>         "average": 1.237336364,
>         "count": 110000,
>         "counts":
>         [
>           "1.000000\/83893",
>           "2.000000\/26107"
>         ],
>         "kurtosis": -4.857351452e+15,
>         "maximum": 2,
>         "minimum": 1,
>         "name": "Classification",
>         "position": 0,
>         "skewness": 2.177023909e+15,
>         "stddev": 0.4254905513,
>         "variance": 0.1810422092
>       }
>     ]
>   }
> }
> 
> On Wed, Nov 30, 2016 at 5:55 PM, Andrew Bell <andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>> wrote:
> I'm not sure exactly what you're doing, but if you're trying to get the data using the command-line application, perhaps something like this is what you want:
> 
> $ bin/pdal info --stats myfile.las --filters.stats.dimensions=Classification --filters.stats.count=Classification
> 
> On Wed, Nov 30, 2016 at 5:46 PM, Benjamin Gross <mbgross at unavco.org <mailto:mbgross at unavco.org>> wrote:
> Hi all,
> 
> I’m new to using pdal and have what I hope is a very basic question. I’m trying to use filters.stats to output a summary of classes in a point cloud and the number of points per class as suggested on https://github.com/PDAL/PDAL/issues/955 <https://github.com/PDAL/PDAL/issues/955>. But I’m not sure how to access the output of filters.stats. I tried to set up a pipeline as in the example, but the header in the output las doesn’t seem to include the new aggregate stats. If I change the output to text or STDOUT I only get the points back and furthermore it has all dimensions, not just those specified by the filters.stats dimensions field. What am I missing? Thanks for the help,
> 
> Benjamin
> 
> 
> 
> _______________________________________________
> pdal mailing list
> pdal at lists.osgeo.org <mailto:pdal at lists.osgeo.org>
> http://lists.osgeo.org/mailman/listinfo/pdal <http://lists.osgeo.org/mailman/listinfo/pdal>
> 
> 
> 
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>
> 
> 
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/pdal/attachments/20161130/4bbe6543/attachment.html>

