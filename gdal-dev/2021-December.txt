From robert.coup at koordinates.com  Wed Dec  1 03:21:35 2021
From: robert.coup at koordinates.com (Robert Coup)
Date: Wed, 1 Dec 2021 11:21:35 +0000
Subject: [gdal-dev] Should we make also GTiff to use TILED=YES as
 default?
In-Reply-To: <CADRrdKteUFnPVyKtufN-MMwZJ=qkkyT5gW_xmr9GT+JFg3m7vA@mail.gmail.com>
References: <49c7fe230ad245778614e4d4bfcd8ff8@maanmittauslaitos.fi>
 <CADRrdKteUFnPVyKtufN-MMwZJ=qkkyT5gW_xmr9GT+JFg3m7vA@mail.gmail.com>
Message-ID: <CAFLLRpJ=7UHyMnn=3HznWaXeD9H6XGCY7D3i+P=j201xixPN+g@mail.gmail.com>

Hi Javier,

Btw, how spread is the support for tiled TIFFs among other viewers?


Anecdata, but at Koordinates we've been producing tiled GeoTIFFs for
imagery datasets since mid-2014 (and to all our clients' users) ? hundreds
of thousands of GeoTIFF exports with millions of tiles to a very diverse
user group. From a quick search in our support systems, it doesn't appear
we've ever received a question from someone having trouble with a tiled
GeoTIFF as far back as we have data for. I certainly don't recall any.

Rob :)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211201/ff1736af/attachment.html>

From me at komzpa.net  Wed Dec  1 03:28:15 2021
From: me at komzpa.net (=?UTF-8?Q?Darafei_=22Kom=D1=8Fpa=22_Praliaskouski?=)
Date: Wed, 1 Dec 2021 14:28:15 +0300
Subject: [gdal-dev] Should we make also GTiff to use TILED=YES as
 default?
In-Reply-To: <CADRrdKteUFnPVyKtufN-MMwZJ=qkkyT5gW_xmr9GT+JFg3m7vA@mail.gmail.com>
References: <49c7fe230ad245778614e4d4bfcd8ff8@maanmittauslaitos.fi>
 <CADRrdKteUFnPVyKtufN-MMwZJ=qkkyT5gW_xmr9GT+JFg3m7vA@mail.gmail.com>
Message-ID: <CAC8Q8t+dx0x-fk+bprA7+Uf9vsv15xcWRu=wsyE0vLyaJ89YKw@mail.gmail.com>

Really, that issue with "TILED" geotiffs on overview is a problem of
selecting cache size for GDAL. I wish that GDAL_CACHEMAX will be
automatically expanded to contain at least one row of unpacked tiles, then
the performance issue talked about here will go away.

On Tue, Nov 30, 2021 at 9:44 PM Javier Jimenez Shaw <j1 at jimenezshaw.com>
wrote:

> Yes, that is true. It happened to me once.
> What I mean is that the plain vanilla without all defaults (no overviews,
> no tiles) is currently manageable. Changing only the "tiled" default would
> make the vanilla case unmanageable. And some not expert users will complain.
>
> Maybe it is good to document that behavior.
>
> Btw, how spread is the support for tiled TIFFs among other viewers?
>
> Cheers
>
> El mar., 30 nov. 2021 19:29, Rahkonen Jukka (MML) <
> jukka.rahkonen at maanmittauslaitos.fi> escribi?:
>
>> Hi,
>>
>>
>>
>> On the other hand those QGIS users pay the price every time when they
>> zoom close to the same image because then QGIS must read many super wide
>> rows of data instead of just the tiles that intersect the view. Not even
>> overviews which are created on top of striped image do not help when user
>> hit the native resolution. But perhaps it is not so important what is the
>> default, experienced users maybe know what they want.
>>
>>
>>
>> -Jukka Rahkonen-
>>
>>
>>
>> *L?hett?j?:* Javier Jimenez Shaw <j1 at jimenezshaw.com>
>> *L?hetetty:* tiistai 30. marraskuuta 2021 11.09
>> *Vastaanottaja:* Rahkonen Jukka (MML) <
>> jukka.rahkonen at maanmittauslaitos.fi>
>> *Kopio:* gdal-dev at lists.osgeo.org
>> *Aihe:* Re: [gdal-dev] Should we make also GTiff to use TILED=YES as
>> default?
>>
>>
>>
>> Hi Jukka
>>
>>
>>
>> I don't think it is a good option.
>>
>> TL;DR: tiled without overviews is extremely slow for a global view.
>>
>>
>>
>> If you have a (big) image with TILED=YES but without overviews, it is
>> really really slow in QGIS (from seconds to many minutes).
>>
>> The reason (I guess) is that QGIS is by default sub-sampling the image
>> using nearest neighbor. If the image is not tiled, then it has to read only
>> every nth line. However, when tiled, at the end has to read the full image
>> from file.
>>
>> The bigger the zoom level, the faster it goes. But waiting 5 minutes to
>> see the global view of your image to know where to zoom in... you close
>> QGIS and blame somebody.
>>
>>
>>
>> That changes dramatically if there are (proper) overviews available, of
>> course.
>>
>>
>>
>> Cheers
>>
>> .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
>> Entre dos pensamientos racionales
>> hay infinitos pensamientos irracionales.
>>
>>
>>
>>
>>
>> On Tue, 30 Nov 2021 at 08:04, Rahkonen Jukka (MML) <
>> jukka.rahkonen at maanmittauslaitos.fi> wrote:
>>
>> Hi,
>>
>>
>>
>> There are loads of questions in the stack.exchange site where users have
>> problems with performance when they do something with reading and writing
>> very large image files. Big files have obviously become much more common
>> now due to clouds. Users try to solve the problem by increasing
>> GDAL_CACHEMAX and using multithreading etc. but they use the default
>> GeoTIFF settings and keep on writing huge striped TIFFs. I wonder if we
>> should make tiling the default also for the GTiff driver like it is in the
>> COG driver.
>>
>>
>>
>> -Jukka Rahkonen-
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211201/7d1dea11/attachment.html>

From cgodkin at gmail.com  Wed Dec  1 20:18:31 2021
From: cgodkin at gmail.com (Carl Godkin)
Date: Wed, 1 Dec 2021 20:18:31 -0800
Subject: [gdal-dev] Help with OGDI vector driver usage
Message-ID: <CAE=8km=Jh8gucrSsuN+5QMWHC0DSwYgevXPG66705sYpVQuq3g@mail.gmail.com>

Hi,
I've got some data that is in VPF (Vector Product Format) format and it
appears that the OGDI vector should be able to consume it.

I have GDAL 3.4.0 (the OSGeo4W build) and cannot figure out how to even run
"ogrinfo" on the data set.

>From this page (https://gdal.org/drivers/vector/ogdi.html), it appears that
the syntax should be

ogrinfo
gltp:[//<hostname>]/<driver_name>/<dataset_name>:<layer_name>:<family>

but in all of the examples, the "driver_name" is "vrf" so I tried that (as
well as "vpf" out of desperation) but I'm on Windows so I'm puzzled about
the exact syntax.

My data is in d:\users\carl\vvod (which contains the dht and lat files).

>ogrinfo gltp:/vrf/d/users/carl/vvod
ERROR 1: OGDI DataSource Open Failed: Can't open CAT file, invalid VRF
database

ERROR 1: OGDI DataSource Open Failed: Can't open CAT file, invalid VRF
database

FAILURE:
Unable to open datasource `gltp:/vrf/d/users/carl/vvod' with the following
drivers.
<long list of drivers>

There are indeed "cat" files in every sub-directory of vvod, by the way.

And I won't bore you with the 50 variations I tried.

If anyone has experience with this driver and can provide some guidance, it
would be very helpful.

Thanks very much,

carl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211201/d9b79799/attachment.html>

From even.rouault at spatialys.com  Thu Dec  2 03:00:37 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 2 Dec 2021 12:00:37 +0100
Subject: [gdal-dev] Help with OGDI vector driver usage
In-Reply-To: <CAE=8km=Jh8gucrSsuN+5QMWHC0DSwYgevXPG66705sYpVQuq3g@mail.gmail.com>
References: <CAE=8km=Jh8gucrSsuN+5QMWHC0DSwYgevXPG66705sYpVQuq3g@mail.gmail.com>
Message-ID: <f3c54279-bb17-e3fb-2819-14694dee6a46@spatialys.com>


Le 02/12/2021 ? 05:18, Carl Godkin a ?crit?:
> Hi,
> I've got some data that is in VPF (Vector Product Format) format and 
> it appears that the OGDI vector should be able to consume it.
>
> I have GDAL 3.4.0 (the OSGeo4W build) and cannot figure out how to 
> even run "ogrinfo" on the data set.
>
> From this page (https://gdal.org/drivers/vector/ogdi.html 
> <https://gdal.org/drivers/vector/ogdi.html>), it appears that the 
> syntax should be
>
> ogrinfo 
> gltp:[//<hostname>]/<driver_name>/<dataset_name>:<layer_name>:<family>
>
> but in all of the examples, the "driver_name" is "vrf" so I tried that 
> (as well as "vpf" out of desperation) but I'm on Windows so I'm 
> puzzled about the exact syntax.
>
> My data is in d:\users\carl\vvod (which contains the dht and lat files).
>
> >ogrinfo gltp:/vrf/d/users/carl/vvod

try:

ogrinfo gltp:/vrf/d:/users/carl/vvod

> ERROR 1: OGDI DataSource Open Failed: Can't open CAT file, invalid VRF 
> database
>
> ERROR 1: OGDI DataSource Open Failed: Can't open CAT file, invalid VRF 
> database
>
> FAILURE:
> Unable to open datasource `gltp:/vrf/d/users/carl/vvod' with the 
> following drivers.
> <long list of drivers>
>
> There are indeed "cat" files in every sub-directory?of vvod, by the way.
>
> And I won't bore you with the 50 variations I tried.
>
> If anyone has experience with this driver and can provide some 
> guidance, it would be very helpful.
>
> Thanks very much,
>
> carl
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211202/c2493432/attachment.html>

From cgodkin at gmail.com  Thu Dec  2 06:00:29 2021
From: cgodkin at gmail.com (Carl Godkin)
Date: Thu, 2 Dec 2021 06:00:29 -0800
Subject: [gdal-dev] Help with OGDI vector driver usage
In-Reply-To: <f3c54279-bb17-e3fb-2819-14694dee6a46@spatialys.com>
References: <CAE=8km=Jh8gucrSsuN+5QMWHC0DSwYgevXPG66705sYpVQuq3g@mail.gmail.com>
 <f3c54279-bb17-e3fb-2819-14694dee6a46@spatialys.com>
Message-ID: <CAE=8kmkbYQjPAtRqi_Fu=SyYZNn6-E8udQC5h-KehzzX6a=5VQ@mail.gmail.com>

Hi Even,

> try:
>
> ogrinfo gltp:/vrf/d:/users/carl/vvod

That works!   I don't know why I didn't try that variation.  Thank you so
much!

As I said, I'm using OSGeo4W to test this out.   But for my real use case,
I will need to build OGDI into GDAL here.  The instructions for the OGDI
library look a little strange for Windows, involving Cygwin and a very old
version of MS Visual Studio.  Are there clearer instructions somewhere for
building OGDI for Windows and building GDAL with OGDI?

Thanks again,

carl



On Thu, Dec 2, 2021 at 3:00 AM Even Rouault <even.rouault at spatialys.com>
wrote:

>
> Le 02/12/2021 ? 05:18, Carl Godkin a ?crit :
>
> Hi,
> I've got some data that is in VPF (Vector Product Format) format and it
> appears that the OGDI vector should be able to consume it.
>
> I have GDAL 3.4.0 (the OSGeo4W build) and cannot figure out how to even
> run "ogrinfo" on the data set.
>
> From this page (https://gdal.org/drivers/vector/ogdi.html), it appears
> that the syntax should be
>
> ogrinfo
> gltp:[//<hostname>]/<driver_name>/<dataset_name>:<layer_name>:<family>
>
> but in all of the examples, the "driver_name" is "vrf" so I tried that (as
> well as "vpf" out of desperation) but I'm on Windows so I'm puzzled about
> the exact syntax.
>
> My data is in d:\users\carl\vvod (which contains the dht and lat files).
>
> >ogrinfo gltp:/vrf/d/users/carl/vvod
>
> try:
>
> ogrinfo gltp:/vrf/d:/users/carl/vvod
>
> ERROR 1: OGDI DataSource Open Failed: Can't open CAT file, invalid VRF
> database
>
> ERROR 1: OGDI DataSource Open Failed: Can't open CAT file, invalid VRF
> database
>
> FAILURE:
> Unable to open datasource `gltp:/vrf/d/users/carl/vvod' with the following
> drivers.
> <long list of drivers>
>
> There are indeed "cat" files in every sub-directory of vvod, by the way.
>
> And I won't bore you with the 50 variations I tried.
>
> If anyone has experience with this driver and can provide some guidance,
> it would be very helpful.
>
> Thanks very much,
>
> carl
>
>
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211202/b6a37b89/attachment.html>

From maxime.colmant at gmail.com  Fri Dec  3 02:17:49 2021
From: maxime.colmant at gmail.com (Maxime Colmant)
Date: Fri, 3 Dec 2021 11:17:49 +0100
Subject: [gdal-dev] Help on DWG data extraction with GDAL/ODA
Message-ID: <CAKUm1QZTDNogVe_Vk46X7B=asSnzvaZ8wLVfdmCP=-00j=3vrQ@mail.gmail.com>

Hello,

I'm currently playing with GDAL and ODA to extract the data from a DWG file.
I would like to extract the block attributes and I did not find any
solution.
I tried to use the DWG_INLINE_BLOCKS but nothing linked to these attributes
are extracted.
I'm not sure if it is supported right now.

If I used the DXF (converted with the ODA file converter), I can extract
them with the DXF_INLINE_BLOCKS set to false (as mentioned here:
https://gdal.org/drivers/vector/dxf.html#dxf-inline-blocks).

Is it something we can easily support for DWG?
It seems we are able to read them because the ODA converter does.

I would be happy to contribute, but I'm kind of new to DWG, GDAL and ODA.
Can someone help me with this?

Many thanks,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211203/96fec63c/attachment.html>

From matteo.ghetta at gmail.com  Fri Dec  3 05:55:04 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 3 Dec 2021 14:55:04 +0100
Subject: [gdal-dev] PGCLIENTENCODING in ogr2ogr (and QGIS)
In-Reply-To: <964d06f834aa4b24bf9ad34ecaf2dbcb@maanmittauslaitos.fi>
References: <964d06f834aa4b24bf9ad34ecaf2dbcb@maanmittauslaitos.fi>
Message-ID: <9198b053-cc0c-fd88-41b4-5741e81753f3@gmail.com>

Hi Rahkonen,

sorry for the delay. The command, built with Processing in QGIS using 
the GdalUtils utility is at the end:

ogr2ogr -f PostgreSQL "PG:dbname='db' host=myhost port=myport 
user='myuser' password='mypassword' sslmode=disable schemas=myschema" 
shapefile.shp --config PG_USE_COPY YES -append -skipfailures -nlt 
PROMOTE_TO_MULTI -doo PRELUDE_STATEMENTS="SET client_encoding TO LATIN1"

a small file can be found here:

https://faunalia.eu/~matteo/shapefile.zip

and yes. The database encoding is:

HOW SERVER_ENCODING;
  server_encoding
-----------------
  UTF8
(1 row)

while the encoding of the shapefile is ISO-8859-1

Thanks for any hint!

Matteo




From even.rouault at spatialys.com  Fri Dec  3 06:04:02 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 3 Dec 2021 15:04:02 +0100
Subject: [gdal-dev] PGCLIENTENCODING in ogr2ogr (and QGIS)
In-Reply-To: <9198b053-cc0c-fd88-41b4-5741e81753f3@gmail.com>
References: <964d06f834aa4b24bf9ad34ecaf2dbcb@maanmittauslaitos.fi>
 <9198b053-cc0c-fd88-41b4-5741e81753f3@gmail.com>
Message-ID: <4d1a98f8-90b9-239a-f8f1-49283d337803@spatialys.com>

Instead of turning Postgres client_encoding to LATIN1 (which won't work 
here because -f PostgreSQL goes through the CreateDataSource() OGR API, 
which will ignore destination dataset open options provided with -doo) , 
I would rather set the shapefile encoding with -oo 
ENCODING=ISO-8859-1,then the OGR shapefile reader will transcode 
internally from ISO-8859-1 to UTF-8, which should make Postgres API

Le 03/12/2021 ? 14:55, matteo a ?crit?:
> Hi Rahkonen,
>
> sorry for the delay. The command, built with Processing in QGIS using 
> the GdalUtils utility is at the end:
>
> ogr2ogr -f PostgreSQL "PG:dbname='db' host=myhost port=myport 
> user='myuser' password='mypassword' sslmode=disable schemas=myschema" 
> shapefile.shp --config PG_USE_COPY YES -append -skipfailures -nlt 
> PROMOTE_TO_MULTI -doo PRELUDE_STATEMENTS="SET client_encoding TO LATIN1"
>
> a small file can be found here:
>
> https://faunalia.eu/~matteo/shapefile.zip
>
> and yes. The database encoding is:
>
> HOW SERVER_ENCODING;
> ?server_encoding
> -----------------
> ?UTF8
> (1 row)
>
> while the encoding of the shapefile is ISO-8859-1
>
> Thanks for any hint!
>
> Matteo
>
>
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.


From richard.greenwood at gmail.com  Fri Dec  3 11:22:17 2021
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Fri, 3 Dec 2021 12:22:17 -0700
Subject: [gdal-dev] sqlite3_prepare_v2 no such function: envelope
Message-ID: <CAHBySPbRBHFHpnMT3D1Z9ySV5w=svjB-i9V=uy3u_Yj8kxdZDA@mail.gmail.com>

I have an ogr2ogr statement that works in OGR 3.3.3 but not 3.4.0. The
statement is:
   ogr2ogr out parks.shp -dialect sqlite -sql "select envelope(geometry)
from parks"
And the error in 3.4.0 is
   ERROR 1: In ExecuteSQL(): sqlite3_prepare_v2 no such function: envelope
Is this expected? I'm on two different Linux computers with gdal built from
source so maybe I've got something else going on but I have no idea what.

Thanks
-- 
Richard W. Greenwood
www.greenwoodmap.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211203/7ddc176c/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Fri Dec  3 11:27:18 2021
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Fri, 3 Dec 2021 19:27:18 +0000
Subject: [gdal-dev] sqlite3_prepare_v2 no such function: envelope
Message-ID: <22c55ecc5e9e47b4af2722d34d07f22f@maanmittauslaitos.fi>

Hi,

Check the spatialite version:
ogrinfo -dialect sqlite -sql "select spatialite_version()" parks.shp

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Richard Greenwood
L?hetetty: perjantai 3. joulukuuta 2021 21.22
Vastaanottaja: GDAL List <gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] sqlite3_prepare_v2 no such function: envelope

I have an ogr2ogr statement that works in OGR 3.3.3 but not 3.4.0. The statement is:
   ogr2ogr out parks.shp -dialect sqlite -sql "select envelope(geometry) from parks"
And the error in 3.4.0 is
   ERROR 1: In ExecuteSQL(): sqlite3_prepare_v2 no such function: envelope
Is this expected? I'm on two different Linux computers with gdal built from source so maybe I've got something else going on but I have no idea what.

Thanks
--
Richard W. Greenwood
www.greenwoodmap.com<http://www.greenwoodmap.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211203/a2c628e9/attachment.html>

From richard.greenwood at gmail.com  Fri Dec  3 11:33:38 2021
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Fri, 3 Dec 2021 12:33:38 -0700
Subject: [gdal-dev] sqlite3_prepare_v2 no such function: envelope
In-Reply-To: <22c55ecc5e9e47b4af2722d34d07f22f@maanmittauslaitos.fi>
References: <22c55ecc5e9e47b4af2722d34d07f22f@maanmittauslaitos.fi>
Message-ID: <CAHBySPaF6Nm8rVn3URxziqgeMAYY1wuEeNXsXhRh2ZFBqtYspQ@mail.gmail.com>

Well that explains it!

ogrinfo -dialect sqlite -sql "select spatialite_version()" parks.shp
  no such function: spatialite_version

Thanks so much!


On Fri, Dec 3, 2021 at 12:27 PM Rahkonen Jukka (MML) <
jukka.rahkonen at maanmittauslaitos.fi> wrote:

> Hi,
>
>
>
> Check the spatialite version:
>
> ogrinfo -dialect sqlite -sql "select spatialite_version()" parks.shp
>
>
>
> -Jukka Rahkonen-
>
>
>
> *L?hett?j?:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> *Puolesta *Richard
> Greenwood
> *L?hetetty:* perjantai 3. joulukuuta 2021 21.22
> *Vastaanottaja:* GDAL List <gdal-dev at lists.osgeo.org>
> *Aihe:* [gdal-dev] sqlite3_prepare_v2 no such function: envelope
>
>
>
> I have an ogr2ogr statement that works in OGR 3.3.3 but not 3.4.0. The
> statement is:
>
>    ogr2ogr out parks.shp -dialect sqlite -sql "select envelope(geometry)
> from parks"
>
> And the error in 3.4.0 is
>
>    ERROR 1: In ExecuteSQL(): sqlite3_prepare_v2 no such function: envelope
>
> Is this expected? I'm on two different Linux computers with gdal built
> from source so maybe I've got something else going on but I have no idea
> what.
>
>
>
> Thanks
>
> --
>
> Richard W. Greenwood
> www.greenwoodmap.com
>


-- 
Richard W. Greenwood
www.greenwoodmap.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211203/51aa8b82/attachment-0001.html>

From simon.eves at omnisci.com  Fri Dec  3 17:35:12 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Fri, 3 Dec 2021 17:35:12 -0800
Subject: [gdal-dev] Problem with TopoJSON in 3.4.0 c/w 3.2.2
Message-ID: <CAJf0KTTHRnJAOQhEhDpxjg2L8x_c365pXTy0MP4GXgFySAeg6Q@mail.gmail.com>

I just tested our stuff against 3.4.0 and immediately hit a problem with
one of our standard example files, which I thought was a GeoJSON, but it's
actually a TopoJSON.

3.4.0 seems to report the field "id" twice, and therefore we try to create
that column twice, and the import aborts due to the duplicate name.

Below is the link to a TGZ with the JSON file and the output of "ogrinfo"
for 3.2.2 and 3.4.0.

The extra line in the field list at the top is obvious.

https://drive.google.com/file/d/1ImBAmXz6XLW6NXheE2lKQTWpcFDKiQUZ/view?usp=sharing

SE

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211203/573b4f6a/attachment.html>

From even.rouault at spatialys.com  Sat Dec  4 08:15:18 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 4 Dec 2021 17:15:18 +0100
Subject: [gdal-dev] Problem with TopoJSON in 3.4.0 c/w 3.2.2
In-Reply-To: <CAJf0KTTHRnJAOQhEhDpxjg2L8x_c365pXTy0MP4GXgFySAeg6Q@mail.gmail.com>
References: <CAJf0KTTHRnJAOQhEhDpxjg2L8x_c365pXTy0MP4GXgFySAeg6Q@mail.gmail.com>
Message-ID: <551fb6fa-e14b-452c-6c34-e0f399e4f804@spatialys.com>

Fix queued in https://github.com/OSGeo/gdal/pull/4942

Le 04/12/2021 ? 02:35, Simon Eves a ?crit?:
> I just tested our stuff against 3.4.0 and immediately hit a problem 
> with one of our standard example files, which I thought was a GeoJSON, 
> but it's actually a TopoJSON.
>
> 3.4.0 seems to report the field "id" twice, and therefore we try to 
> create that column twice, and the import aborts due to the duplicate name.
>
> Below is the link to a TGZ with the JSON file and the output of 
> "ogrinfo" for 3.2.2 and 3.4.0.
>
> The extra line in the field list at the top is obvious.
>
> https://drive.google.com/file/d/1ImBAmXz6XLW6NXheE2lKQTWpcFDKiQUZ/view?usp=sharing 
> <https://drive.google.com/file/d/1ImBAmXz6XLW6NXheE2lKQTWpcFDKiQUZ/view?usp=sharing>
>
> SE
>
> -- 
> <http://www.omnisci.com/>
> 	
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> 	
> Email: simon.eves at omnisci.com <mailto:simon.eves at omnisci.com>?| Cell: 
> +1 (415) 902-1996
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211204/a6d0e521/attachment.html>

From rykovd at gmail.com  Sat Dec  4 15:09:12 2021
From: rykovd at gmail.com (Denis Rykov)
Date: Sun, 5 Dec 2021 00:09:12 +0100
Subject: [gdal-dev] Custom geometric transformation
Message-ID: <CAJbvKNra2i2ZB5DXokCbHrBBj=FiKjdGTRyw-QBARNUMW=ANuQ@mail.gmail.com>

According to rasterio's documentation
<https://rasterio.readthedocs.io/en/latest/topics/reproject.html>
"reproject" is a geospatial-specific analog to SciPy?s geometric_transform
<https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.geometric_transform.html#scipy.ndimage.geometric_transform>
.
But the thing is "geometric_transform" doesn't support masked arrays so it
can't properly transform images with nodata value.
My question: is it possible to write a custom transformer function and use
it in GDAL to transform an image (considering nodata) to overcome the lack
of the appropriate functionality in SciPy.
Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211205/e45db64a/attachment.html>

From simon.eves at omnisci.com  Sat Dec  4 15:49:26 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Sat, 4 Dec 2021 15:49:26 -0800
Subject: [gdal-dev] Throwing exceptions in GDAL Error Handler
Message-ID: <CAJf0KTQAakXYxzT-2p6_3mraLmPbVaZfmDmadavDcC1P_+DPaQ@mail.gmail.com>

We have a custom Error Handler callback and for a while now it was
configured to throw an exception if the class was Failure or higher.

Unfortunately, we have found that this causes havoc with OpenEx() because
the file management state is left bad (e.g. the anti-recursion stuff) and
GDAL will believe the file is open when it isn't, and other such hilarity.

We have changed this to disable and re-enable the exception throw (and just
log the error) either side of an OpenEx() but I am concerned that there are
perhaps other situations where throwing may cause similar issues.

The docs for CPLSetErrorHandler() don't explicitly say anything about not
throwing in the callback.

Please advise.

SE

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211204/55213b5f/attachment.html>

From even.rouault at spatialys.com  Sat Dec  4 15:59:52 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 5 Dec 2021 00:59:52 +0100
Subject: [gdal-dev] Throwing exceptions in GDAL Error Handler
In-Reply-To: <CAJf0KTQAakXYxzT-2p6_3mraLmPbVaZfmDmadavDcC1P_+DPaQ@mail.gmail.com>
References: <CAJf0KTQAakXYxzT-2p6_3mraLmPbVaZfmDmadavDcC1P_+DPaQ@mail.gmail.com>
Message-ID: <173ba136-369d-138a-9f84-a78b148c52e6@spatialys.com>

You shouldn't throw C++ exceptions, as this is a callback of the C API. 
This will cause all sort of issues, most of the time memory leaks, etc.

Le 05/12/2021 ? 00:49, Simon Eves a ?crit?:
> We have a custom Error Handler callback and for a while now it was 
> configured to throw an exception if the class was Failure or higher.
>
> Unfortunately, we have found that this causes havoc with OpenEx() 
> because the file management state is left bad (e.g. the anti-recursion 
> stuff) and GDAL will believe the file is open when it isn't, and other 
> such hilarity.
>
> We have changed this to disable and re-enable the exception throw (and 
> just log the error) either side of an OpenEx() but I am concerned that 
> there are perhaps other situations where throwing may cause similar 
> issues.
>
> The docs for CPLSetErrorHandler() don't explicitly say anything about 
> not throwing in the callback.
>
> Please?advise.
>
> SE
>
> -- 
> <http://www.omnisci.com/>
> 	
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> 	
> Email: simon.eves at omnisci.com <mailto:simon.eves at omnisci.com>?| Cell: 
> +1 (415) 902-1996
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211205/309b1c16/attachment.html>

From kerim.khemraev at mail.ru  Sun Dec  5 07:58:45 2021
From: kerim.khemraev at mail.ru (=?UTF-8?B?0JrQtdGA0LjQvCDQpdC10LzRgNCw0LXQsg==?=)
Date: Sun, 05 Dec 2021 18:58:45 +0300
Subject: [gdal-dev] =?utf-8?q?OGRSpatialReference_strange_behavior_in_C++?=
 =?utf-8?q?_modular_apllication_when_it_is_a_global_var?=
Message-ID: <1638719925.659168934@f141.i.mail.ru>


Hi,
?
My library? mylib? uses  OGRSpatialReference? as setting for a project. Thus the variable? OGRSpatialReference SpatialReference? is defined outside the scope. Then one can set spatial reference, set length units and this is going to be a project setting (this is done via setters/getters API defined in  mylib ). Then?all data that will be loaded to the RAM will be transformed?to this spatial reference. My library is built as a shared library.
?
The application which uses my library is built on Qt and it is modular application. Briefly I can describe it as:
*  app? executable that links to the applib
*  applib is the main library that links to mylib  and  gdal
*  appmodule  is loadable module that links to ? mylib  and  gdal
*  mylib links to the gdal
If I set? SpatialReference? setting from? applib then there is no any problem, I can set spatial reference from user input and set length units and then get them them back (print it).
?
But if I try to do the same then? SpatialReference is able to store only length units while?the authority name/code can?t be retrieved (it gives me empty). Retrieving? SpatialReference also doesn?t return spatial reference that were previously set.
?
The? PROJ_LIB ?variable is set when app is launching and it should be ok.
?
I really have no idea why this is happening and have to ask for help?
?
Ubuntu 20.04, prebuilt?GDAL 3.1.4 with PROJ 7.0.1 (i don?t remember exactly the version of PROJ). The link where I  download GDAL is here
?
Here is the code that I use for settings in  mylib_settings.cpp :
?
/*------------- START OF? mylib_settings.cpp? -------------*/
#include "mylib_settings.h"
#include <units/units.hpp>
#include <gdal/gdal.h>
#include <gdal/gdal_priv.h>
?
namespace {
?
static OGRSpatialReference SpatialReference  {};
?
}  // namespace
?
// Only these setters/getters are exported
void  setSpatialReference ( OGRSpatialReference  sr){
?  SpatialReference  = sr;
}
?
void  setSpatialReferenceFromUserInput (
? ?  const  std::string & name){
?  SpatialReference .SetFromUserInput(name.c_str());
}
?
void setSpatialReferenceFromUserInput (
? ?  const  std::string & authName,  const std::string & code){
?  SpatialReference .SetFromUserInput((authName + ":" + code).c_str());
}
?
OGRSpatialReference  getSpatialReference (){
?  return  SpatialReference ;
}
?
void  setLengthUnits ( const  std::string & units){
?  double  coef = units::convert(
? ? ? units::unit_from_string(units),
? ? ? units::unit_from_string("meter"));
?  SpatialReference .SetLinearUnitsAndUpdateParameters(units.c_str(), coef);
}
?
std::string getLengthUnits (){
?  const char  *units =  nullptr ;
?  SpatialReference .GetLinearUnits(&units);
?  return std::string (units);
}
?
std::string getAuthorityName (){
? if ( auto * p =  SpatialReference .GetAuthorityName({}))
? ?  return  p;
?  return  {};
}
?
std::string getAuthorityCode (){
? if ( auto * p =  SpatialReference .GetAuthorityCode({}))
? ?  return  p;
?  return  {};
}
/*------------- END OF? mylib_settings.cpp? -------------*/
?
?
Regards,
Kerim Khemraev
?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211205/0c62dddb/attachment-0001.html>

From even.rouault at spatialys.com  Sun Dec  5 09:08:47 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 5 Dec 2021 18:08:47 +0100
Subject: [gdal-dev] Custom geometric transformation
In-Reply-To: <CAJbvKNra2i2ZB5DXokCbHrBBj=FiKjdGTRyw-QBARNUMW=ANuQ@mail.gmail.com>
References: <CAJbvKNra2i2ZB5DXokCbHrBBj=FiKjdGTRyw-QBARNUMW=ANuQ@mail.gmail.com>
Message-ID: <32451165-36fa-c11d-cb7c-64dcfeb43d54@spatialys.com>

Denis,

Le 05/12/2021 ? 00:09, Denis Rykov a ?crit?:
> According to rasterio's documentation 
> <https://rasterio.readthedocs.io/en/latest/topics/reproject.html> 
> "reproject" is a geospatial-specific analog to SciPy?s 
> geometric_transform 
> <https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.geometric_transform.html#scipy.ndimage.geometric_transform>.
> But the thing is "geometric_transform" doesn't support masked arrays 
> so it can't properly transform images with nodata value.
> My question: is it possible to write a custom transformer function and 
> use it in GDAL to transform an image (considering nodata) to overcome 
> the lack of the appropriate functionality in SciPy.

If you use the low level C++? API you should be able to do that.

You' ll need to use GDALWarpOperation as the entry point, and initialize 
it with GDALWarpOptions with your custom transformer function in the 
pfnProgress / pProgressArg members

You may use apps/gdalwarp_lib.cpp or frmts/vrt/vrtwarped.cpp as examples 
of how to use those API. This is not entirely trivial admittedly.

Actually I was thinking a nice contribution, and perhaps simpler than 
having your own warping code, could be to enhance the GDALWarpApp API of 
apps/gdalwarp_lib.cpp to have a GDALWarpAppOptionsSetTransformer() 
function where users could specify their own transformer which would 
skip the creation of the default one.

Even

-- 

http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211205/0a0cd557/attachment.html>

From rykovd at gmail.com  Mon Dec  6 09:25:35 2021
From: rykovd at gmail.com (Denis Rykov)
Date: Mon, 6 Dec 2021 18:25:35 +0100
Subject: [gdal-dev] Custom geometric transformation
In-Reply-To: <32451165-36fa-c11d-cb7c-64dcfeb43d54@spatialys.com>
References: <CAJbvKNra2i2ZB5DXokCbHrBBj=FiKjdGTRyw-QBARNUMW=ANuQ@mail.gmail.com>
 <32451165-36fa-c11d-cb7c-64dcfeb43d54@spatialys.com>
Message-ID: <CAJbvKNrV7hRAGQ-XtMyqUg_rvRN8WEFdhRrDOOV_-F=+c2U6Sw@mail.gmail.com>

Thanks, it was very helpful!

Also I found that some transformations can be expressed via the
CoordinateOperation property (*-ct *parameter for gdalwarp).
But I do agree that having a way to specify a custom transformer seems very
appealing!

On Sun, Dec 5, 2021 at 6:08 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Denis,
> Le 05/12/2021 ? 00:09, Denis Rykov a ?crit :
>
> According to rasterio's documentation
> <https://rasterio.readthedocs.io/en/latest/topics/reproject.html>
> "reproject" is a geospatial-specific analog to SciPy?s geometric_transform
> <https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.geometric_transform.html#scipy.ndimage.geometric_transform>
> .
> But the thing is "geometric_transform" doesn't support masked arrays so it
> can't properly transform images with nodata value.
> My question: is it possible to write a custom transformer function and use
> it in GDAL to transform an image (considering nodata) to overcome the lack
> of the appropriate functionality in SciPy.
>
> If you use the low level C++  API you should be able to do that.
>
> You' ll need to use GDALWarpOperation as the entry point, and initialize
> it with GDALWarpOptions with your custom transformer function in the
> pfnProgress / pProgressArg members
>
> You may use apps/gdalwarp_lib.cpp or frmts/vrt/vrtwarped.cpp as examples
> of how to use those API. This is not entirely trivial admittedly.
>
> Actually I was thinking a nice contribution, and perhaps simpler than
> having your own warping code, could be to enhance the GDALWarpApp API of
> apps/gdalwarp_lib.cpp to have a GDALWarpAppOptionsSetTransformer() function
> where users could specify their own transformer which would skip the
> creation of the default one.
>
> Even
> --
>
> http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211206/d69c9f4d/attachment.html>

From simon.eves at omnisci.com  Mon Dec  6 09:59:47 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Mon, 6 Dec 2021 09:59:47 -0800
Subject: [gdal-dev] Throwing exceptions in GDAL Error Handler
In-Reply-To: <173ba136-369d-138a-9f84-a78b148c52e6@spatialys.com>
References: <CAJf0KTQAakXYxzT-2p6_3mraLmPbVaZfmDmadavDcC1P_+DPaQ@mail.gmail.com>
 <173ba136-369d-138a-9f84-a78b148c52e6@spatialys.com>
Message-ID: <CAJf0KTQ7ESPqCKTGG5S+pYYSYkwEkCozDtUMdCF23781K49Lgw@mail.gmail.com>

OK, thanks for confirming.

On Sat, Dec 4, 2021 at 3:59 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> You shouldn't throw C++ exceptions, as this is a callback of the C API.
> This will cause all sort of issues, most of the time memory leaks, etc.
> Le 05/12/2021 ? 00:49, Simon Eves a ?crit :
>
> We have a custom Error Handler callback and for a while now it was
> configured to throw an exception if the class was Failure or higher.
>
> Unfortunately, we have found that this causes havoc with OpenEx() because
> the file management state is left bad (e.g. the anti-recursion stuff) and
> GDAL will believe the file is open when it isn't, and other such hilarity.
>
> We have changed this to disable and re-enable the exception throw (and
> just log the error) either side of an OpenEx() but I am concerned that
> there are perhaps other situations where throwing may cause similar issues.
>
> The docs for CPLSetErrorHandler() don't explicitly say anything about not
> throwing in the callback.
>
> Please advise.
>
> SE
>
> --
> <http://www.omnisci.com/>
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
>

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211206/43fe2fe1/attachment.html>

From idan at miara.com  Tue Dec  7 01:02:35 2021
From: idan at miara.com (Idan Miara)
Date: Tue, 7 Dec 2021 11:02:35 +0200
Subject: [gdal-dev] gdal installation error on MacOS (libpoppler.91.dylib)
Message-ID: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>

Hi all,

I'm trying to install gdal on MacOS Big Sur via conda.
For some reason it installs v3.0.2, even though v3.4.0 is available.
Also it doesn't run, and gives the following error:

~ gdalinfo --version
dyld: Library not loaded: @rpath/libpoppler.91.dylib

Thanks!
logs are below.

Kind regards,
Idan


conda install -c conda-forge gdal

Collecting package metadata (current_repodata.json): done
Solving environment: done

## Package Plan ##

  environment location: /Users/idan.miara/opt/miniconda3

  added / updated specs:
    - gdal


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    boost-cpp-1.72.0           |       hdf9ef73_0        19.1 MB
 conda-forge
    bzip2-1.0.8                |       h0d85af4_4         155 KB
 conda-forge
    c-ares-1.18.1              |       h0d85af4_0         100 KB
 conda-forge
    ca-certificates-2021.10.8  |       h033912b_0         139 KB
 conda-forge
    cairo-1.16.0               |    hec6a9b0_1003         1.3 MB
 conda-forge
    certifi-2021.10.8          |   py39h6e9494a_1         145 KB
 conda-forge
    cfitsio-3.470              |       h01dc385_7         1.3 MB
 conda-forge
    conda-4.11.0               |   py39h6e9494a_0        16.9 MB
 conda-forge
    curl-7.78.0                |       h7bc2e8c_0         133 KB
    expat-2.4.1                |       he49afe7_0         143 KB
 conda-forge
    fontconfig-2.13.1          |    h10f422b_1005         271 KB
 conda-forge
    freetype-2.10.4            |       h4cff582_1         890 KB
 conda-forge
    freexl-1.0.6               |       h0d85af4_0          42 KB
 conda-forge
    gdal-3.0.2                 |   py39ha6ec53f_1         1.1 MB
    geos-3.8.0                 |       hb1e8313_0         815 KB
    geotiff-1.6.0              |       h02c1893_0         120 KB
    gettext-0.21.0             |       h7535e17_0         2.6 MB
    giflib-5.2.1               |       hbcb3906_2          71 KB
 conda-forge
    glib-2.69.1                |       hdf23fa2_0         2.7 MB
    hdf4-4.2.13                |       h39711bb_2         682 KB
    hdf5-1.10.6                |nompi_hc5d9132_1114         3.1 MB
 conda-forge
    icu-64.2                   |       h6de7cb9_1        12.3 MB
 conda-forge
    jbig-2.1                   |    h0d85af4_2003          42 KB
 conda-forge
    jpeg-9d                    |       hbcb3906_0         250 KB
 conda-forge
    json-c-0.13.1              |    h575e443_1002          66 KB
 conda-forge
    kealib-1.4.14              |       h31dd65d_2         156 KB
 conda-forge
    krb5-1.19.2                |       hcfbf3a7_0         1.3 MB
 conda-forge
    lerc-2.2.1                 |       h046ec9c_0         164 KB
 conda-forge
    libblas-3.9.0              |12_osx64_openblas          12 KB
 conda-forge
    libcblas-3.9.0             |12_osx64_openblas          12 KB
 conda-forge
    libcurl-7.78.0             |       hb8e4fae_0         311 KB
    libcxx-12.0.1              |       habf9029_0         1.1 MB
 conda-forge
    libdap4-3.19.1             |       h3d3e54a_0         1.1 MB
    libdeflate-1.7             |       h35c211d_5          67 KB
 conda-forge
    libedit-3.1.20191231       |       h0678c8f_2         103 KB
 conda-forge
    libev-4.33                 |       haf1e3a3_1          99 KB
 conda-forge
    libgdal-3.0.2              |       ha1444b2_1        10.4 MB
    libgfortran-5.0.0          |9_3_0_h6c81a4c_23          19 KB
 conda-forge
    libgfortran5-9.3.0         |      h6c81a4c_23         1.7 MB
 conda-forge
    libiconv-1.16              |       haf1e3a3_0         1.3 MB
 conda-forge
    libkml-1.3.0               |    h88bc94a_1012         473 KB
 conda-forge
    liblapack-3.9.0            |12_osx64_openblas          12 KB
 conda-forge
    libnetcdf-4.6.1            |       hfd9a460_4         782 KB
    libnghttp2-1.43.0          |       h6f36284_1         867 KB
 conda-forge
    libopenblas-0.3.18         |openmp_h3351f45_0         9.0 MB
 conda-forge
    libpng-1.6.37              |       h7cec526_2         313 KB
 conda-forge
    libpq-12.2                 |       h1b4eb34_1         2.0 MB
    libspatialite-4.3.0a       |       h5142b36_0         2.1 MB
    libssh2-1.10.0             |       h52ee1ee_2         221 KB
 conda-forge
    libtiff-4.3.0              |       h1167814_1         621 KB
 conda-forge
    libwebp-base-1.2.1         |       h0d85af4_0         692 KB
 conda-forge
    libxml2-2.9.10             |       h53d96d6_0         1.2 MB
 conda-forge
    llvm-openmp-12.0.1         |       hda6cdc1_1         287 KB
 conda-forge
    lz4-c-1.9.3                |       he49afe7_1         155 KB
 conda-forge
    numpy-1.21.4               |   py39h7eed0ac_0         5.8 MB
 conda-forge
    openjpeg-2.3.1             |       h6cbf5cd_3         373 KB
 conda-forge
    openssl-1.1.1l             |       h0d85af4_0         1.9 MB
 conda-forge
    pcre-8.45                  |       he49afe7_0         220 KB
 conda-forge
    pixman-0.38.0              |    h01d97ff_1003         611 KB
 conda-forge
    poppler-0.89.0             |       h9de36d4_1         1.6 MB
 conda-forge
    poppler-data-0.4.11        |       hd8ed1ab_0         3.6 MB
 conda-forge
    postgresql-12.2            |       h1b4eb34_1         3.3 MB
    proj-6.2.1                 |       h773a61f_0        10.0 MB
 conda-forge
    python_abi-3.9             |           2_cp39           4 KB
 conda-forge
    tiledb-2.3.4               |       h8370e7a_0         2.9 MB
 conda-forge
    xerces-c-3.2.3             |       h8f8adb3_0         1.5 MB
 conda-forge
    zstd-1.5.0                 |       h582d3a0_0         583 KB
 conda-forge
    ------------------------------------------------------------
                                           Total:       133.2 MB

The following NEW packages will be INSTALLED:

  boost-cpp          conda-forge/osx-64::boost-cpp-1.72.0-hdf9ef73_0
  bzip2              conda-forge/osx-64::bzip2-1.0.8-h0d85af4_4
  c-ares             conda-forge/osx-64::c-ares-1.18.1-h0d85af4_0
  cairo              conda-forge/osx-64::cairo-1.16.0-hec6a9b0_1003
  cfitsio            conda-forge/osx-64::cfitsio-3.470-h01dc385_7
  curl               pkgs/main/osx-64::curl-7.78.0-h7bc2e8c_0
  expat              conda-forge/osx-64::expat-2.4.1-he49afe7_0
  fontconfig         conda-forge/osx-64::fontconfig-2.13.1-h10f422b_1005
  freetype           conda-forge/osx-64::freetype-2.10.4-h4cff582_1
  freexl             conda-forge/osx-64::freexl-1.0.6-h0d85af4_0
  gdal               pkgs/main/osx-64::gdal-3.0.2-py39ha6ec53f_1
  geos               pkgs/main/osx-64::geos-3.8.0-hb1e8313_0
  geotiff            pkgs/main/osx-64::geotiff-1.6.0-h02c1893_0
  gettext            pkgs/main/osx-64::gettext-0.21.0-h7535e17_0
  giflib             conda-forge/osx-64::giflib-5.2.1-hbcb3906_2
  glib               pkgs/main/osx-64::glib-2.69.1-hdf23fa2_0
  hdf4               pkgs/main/osx-64::hdf4-4.2.13-h39711bb_2
  hdf5               conda-forge/osx-64::hdf5-1.10.6-nompi_hc5d9132_1114
  icu                conda-forge/osx-64::icu-64.2-h6de7cb9_1
  jbig               conda-forge/osx-64::jbig-2.1-h0d85af4_2003
  jpeg               conda-forge/osx-64::jpeg-9d-hbcb3906_0
  json-c             conda-forge/osx-64::json-c-0.13.1-h575e443_1002
  kealib             conda-forge/osx-64::kealib-1.4.14-h31dd65d_2
  krb5               conda-forge/osx-64::krb5-1.19.2-hcfbf3a7_0
  lerc               conda-forge/osx-64::lerc-2.2.1-h046ec9c_0
  libblas            conda-forge/osx-64::libblas-3.9.0-12_osx64_openblas
  libcblas           conda-forge/osx-64::libcblas-3.9.0-12_osx64_openblas
  libcurl            pkgs/main/osx-64::libcurl-7.78.0-hb8e4fae_0
  libdap4            pkgs/main/osx-64::libdap4-3.19.1-h3d3e54a_0
  libdeflate         conda-forge/osx-64::libdeflate-1.7-h35c211d_5
  libedit            conda-forge/osx-64::libedit-3.1.20191231-h0678c8f_2
  libev              conda-forge/osx-64::libev-4.33-haf1e3a3_1
  libgdal            pkgs/main/osx-64::libgdal-3.0.2-ha1444b2_1
  libgfortran        conda-forge/osx-64::libgfortran-5.0.0-9_3_0_h6c81a4c_23
  libgfortran5       conda-forge/osx-64::libgfortran5-9.3.0-h6c81a4c_23
  libiconv           conda-forge/osx-64::libiconv-1.16-haf1e3a3_0
  libkml             conda-forge/osx-64::libkml-1.3.0-h88bc94a_1012
  liblapack          conda-forge/osx-64::liblapack-3.9.0-12_osx64_openblas
  libnetcdf          pkgs/main/osx-64::libnetcdf-4.6.1-hfd9a460_4
  libnghttp2         conda-forge/osx-64::libnghttp2-1.43.0-h6f36284_1
  libopenblas
 conda-forge/osx-64::libopenblas-0.3.18-openmp_h3351f45_0
  libpng             conda-forge/osx-64::libpng-1.6.37-h7cec526_2
  libpq              pkgs/main/osx-64::libpq-12.2-h1b4eb34_1
  libspatialite      pkgs/main/osx-64::libspatialite-4.3.0a-h5142b36_0
  libssh2            conda-forge/osx-64::libssh2-1.10.0-h52ee1ee_2
  libtiff            conda-forge/osx-64::libtiff-4.3.0-h1167814_1
  libwebp-base       conda-forge/osx-64::libwebp-base-1.2.1-h0d85af4_0
  libxml2            conda-forge/osx-64::libxml2-2.9.10-h53d96d6_0
  llvm-openmp        conda-forge/osx-64::llvm-openmp-12.0.1-hda6cdc1_1
  lz4-c              conda-forge/osx-64::lz4-c-1.9.3-he49afe7_1
  numpy              conda-forge/osx-64::numpy-1.21.4-py39h7eed0ac_0
  openjpeg           conda-forge/osx-64::openjpeg-2.3.1-h6cbf5cd_3
  pcre               conda-forge/osx-64::pcre-8.45-he49afe7_0
  pixman             conda-forge/osx-64::pixman-0.38.0-h01d97ff_1003
  poppler            conda-forge/osx-64::poppler-0.89.0-h9de36d4_1
  poppler-data       conda-forge/noarch::poppler-data-0.4.11-hd8ed1ab_0
  postgresql         pkgs/main/osx-64::postgresql-12.2-h1b4eb34_1
  proj               conda-forge/osx-64::proj-6.2.1-h773a61f_0
  python_abi         conda-forge/osx-64::python_abi-3.9-2_cp39
  tiledb             conda-forge/osx-64::tiledb-2.3.4-h8370e7a_0
  xerces-c           conda-forge/osx-64::xerces-c-3.2.3-h8f8adb3_0
  zstd               conda-forge/osx-64::zstd-1.5.0-h582d3a0_0

The following packages will be UPDATED:

  ca-certificates    pkgs/main::ca-certificates-2021.7.5-h~ -->
conda-forge::ca-certificates-2021.10.8-h033912b_0
  certifi            pkgs/main::certifi-2021.5.30-py39hecd~ -->
conda-forge::certifi-2021.10.8-py39h6e9494a_1
  conda              pkgs/main::conda-4.10.3-py39hecd8cb5_0 -->
conda-forge::conda-4.11.0-py39h6e9494a_0
  libcxx                         pkgs/main::libcxx-10.0.0-1 -->
conda-forge::libcxx-12.0.1-habf9029_0
  openssl              pkgs/main::openssl-1.1.1k-h9ed2024_0 -->
conda-forge::openssl-1.1.1l-h0d85af4_0


Proceed ([y]/n)? y


Downloading and Extracting Packages
bzip2-1.0.8          | 155 KB    |
#################################################################################################################################################################################################################################
| 100%
fontconfig-2.13.1    | 271 KB    |
#################################################################################################################################################################################################################################
| 100%
krb5-1.19.2          | 1.3 MB    |
#################################################################################################################################################################################################################################
| 100%
gdal-3.0.2           | 1.1 MB    |
#################################################################################################################################################################################################################################
| 100%
freetype-2.10.4      | 890 KB    |
#################################################################################################################################################################################################################################
| 100%
hdf5-1.10.6          | 3.1 MB    |
#################################################################################################################################################################################################################################
| 100%
proj-6.2.1           | 10.0 MB   |
#################################################################################################################################################################################################################################
| 100%
libblas-3.9.0        | 12 KB     |
#################################################################################################################################################################################################################################
| 100%
lerc-2.2.1           | 164 KB    |
#################################################################################################################################################################################################################################
| 100%
libgfortran-5.0.0    | 19 KB     |
#################################################################################################################################################################################################################################
| 100%
lz4-c-1.9.3          | 155 KB    |
#################################################################################################################################################################################################################################
| 100%
libiconv-1.16        | 1.3 MB    |
#################################################################################################################################################################################################################################
| 100%
icu-64.2             | 12.3 MB   |
#################################################################################################################################################################################################################################
| 100%
libedit-3.1.20191231 | 103 KB    |
#################################################################################################################################################################################################################################
| 100%
libxml2-2.9.10       | 1.2 MB    |
#################################################################################################################################################################################################################################
| 100%
python_abi-3.9       | 4 KB      |
#################################################################################################################################################################################################################################
| 100%
numpy-1.21.4         | 5.8 MB    |
#################################################################################################################################################################################################################################
| 100%
conda-4.11.0         | 16.9 MB   |
#################################################################################################################################################################################################################################
| 100%
ca-certificates-2021 | 139 KB    |
#################################################################################################################################################################################################################################
| 100%
poppler-0.89.0       | 1.6 MB    |
#################################################################################################################################################################################################################################
| 100%
liblapack-3.9.0      | 12 KB     |
#################################################################################################################################################################################################################################
| 100%
expat-2.4.1          | 143 KB    |
#################################################################################################################################################################################################################################
| 100%
boost-cpp-1.72.0     | 19.1 MB   |
#################################################################################################################################################################################################################################
| 100%
glib-2.69.1          | 2.7 MB    |
#################################################################################################################################################################################################################################
| 100%
libgdal-3.0.2        | 10.4 MB   |
#################################################################################################################################################################################################################################
| 100%
libspatialite-4.3.0a | 2.1 MB    |
#################################################################################################################################################################################################################################
| 100%
libnetcdf-4.6.1      | 782 KB    |
#################################################################################################################################################################################################################################
| 100%
openssl-1.1.1l       | 1.9 MB    |
#################################################################################################################################################################################################################################
| 100%
hdf4-4.2.13          | 682 KB    |
#################################################################################################################################################################################################################################
| 100%
libcurl-7.78.0       | 311 KB    |
#################################################################################################################################################################################################################################
| 100%
jpeg-9d              | 250 KB    |
#################################################################################################################################################################################################################################
| 100%
openjpeg-2.3.1       | 373 KB    |
#################################################################################################################################################################################################################################
| 100%
libwebp-base-1.2.1   | 692 KB    |
#################################################################################################################################################################################################################################
| 100%
c-ares-1.18.1        | 100 KB    |
#################################################################################################################################################################################################################################
| 100%
libdap4-3.19.1       | 1.1 MB    |
#################################################################################################################################################################################################################################
| 100%
libpng-1.6.37        | 313 KB    |
#################################################################################################################################################################################################################################
| 100%
xerces-c-3.2.3       | 1.5 MB    |
#################################################################################################################################################################################################################################
| 100%
libdeflate-1.7       | 67 KB     |
#################################################################################################################################################################################################################################
| 100%
geos-3.8.0           | 815 KB    |
#################################################################################################################################################################################################################################
| 100%
giflib-5.2.1         | 71 KB     |
#################################################################################################################################################################################################################################
| 100%
libgfortran5-9.3.0   | 1.7 MB    |
#################################################################################################################################################################################################################################
| 100%
libssh2-1.10.0       | 221 KB    |
#################################################################################################################################################################################################################################
| 100%
libcxx-12.0.1        | 1.1 MB    |
#################################################################################################################################################################################################################################
| 100%
libopenblas-0.3.18   | 9.0 MB    |
#################################################################################################################################################################################################################################
| 100%
geotiff-1.6.0        | 120 KB    |
#################################################################################################################################################################################################################################
| 100%
libnghttp2-1.43.0    | 867 KB    |
#################################################################################################################################################################################################################################
| 100%
zstd-1.5.0           | 583 KB    |
#################################################################################################################################################################################################################################
| 100%
libtiff-4.3.0        | 621 KB    |
#################################################################################################################################################################################################################################
| 100%
libkml-1.3.0         | 473 KB    |
#################################################################################################################################################################################################################################
| 100%
libcblas-3.9.0       | 12 KB     |
#################################################################################################################################################################################################################################
| 100%
tiledb-2.3.4         | 2.9 MB    |
#################################################################################################################################################################################################################################
| 100%
llvm-openmp-12.0.1   | 287 KB    |
#################################################################################################################################################################################################################################
| 100%
gettext-0.21.0       | 2.6 MB    |
#################################################################################################################################################################################################################################
| 100%
curl-7.78.0          | 133 KB    |
#################################################################################################################################################################################################################################
| 100%
pixman-0.38.0        | 611 KB    |
#################################################################################################################################################################################################################################
| 100%
json-c-0.13.1        | 66 KB     |
#################################################################################################################################################################################################################################
| 100%
cairo-1.16.0         | 1.3 MB    |
#################################################################################################################################################################################################################################
| 100%
postgresql-12.2      | 3.3 MB    |
#################################################################################################################################################################################################################################
| 100%
jbig-2.1             | 42 KB     |
#################################################################################################################################################################################################################################
| 100%
certifi-2021.10.8    | 145 KB    |
#################################################################################################################################################################################################################################
| 100%
libev-4.33           | 99 KB     |
#################################################################################################################################################################################################################################
| 100%
libpq-12.2           | 2.0 MB    |
#################################################################################################################################################################################################################################
| 100%
poppler-data-0.4.11  | 3.6 MB    |
#################################################################################################################################################################################################################################
| 100%
cfitsio-3.470        | 1.3 MB    |
#################################################################################################################################################################################################################################
| 100%
freexl-1.0.6         | 42 KB     |
#################################################################################################################################################################################################################################
| 100%
pcre-8.45            | 220 KB    |
#################################################################################################################################################################################################################################
| 100%
kealib-1.4.14        | 156 KB    |
#################################################################################################################################################################################################################################
| 100%
Preparing transaction: done
Verifying transaction: done
Executing transaction: done
(base) ?  ~ gdalinfo --version
dyld: Library not loaded: @rpath/libpoppler.91.dylib
  Referenced from: /Users/idan.miara/opt/miniconda3/lib/libgdal.26.dylib
  Reason: image not found
[1]    76584 abort      gdalinfo --version
(base) ?  ~
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211207/5ec1d9f1/attachment-0001.html>

From runette at gmail.com  Tue Dec  7 03:15:38 2021
From: runette at gmail.com (Paul Harwood)
Date: Tue, 7 Dec 2021 11:15:38 +0000
Subject: [gdal-dev] gdal installation error on MacOS
 (libpoppler.91.dylib)
In-Reply-To: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>
References: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>
Message-ID: <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>

Results like that are usually caused because there is something already in
the conda environment that is causing a conflict and I notice that it is
installing into  /Users/idan.miara/opt/miniconda3 which would usually mean
you have installed into the "base" conda environment - which is not usually
the best idea.

If you try ...

conda create --name gdaltest
conda activate gdaltest
conda install -c conda-forge gdal

{noteing that the name "gdaltest" in the first and second lines could be
any name for a conda environment that is not already in use}

... I am reasonably sure it will work.

Then you just need to use the "gdaltest" environment when you want to use
conda.

On Tue, 7 Dec 2021 at 09:03, Idan Miara <idan at miara.com> wrote:

> Hi all,
>
> I'm trying to install gdal on MacOS Big Sur via conda.
> For some reason it installs v3.0.2, even though v3.4.0 is available.
> Also it doesn't run, and gives the following error:
>
> ~ gdalinfo --version
> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>
> Thanks!
> logs are below.
>
> Kind regards,
> Idan
>
>
> conda install -c conda-forge gdal
>
> Collecting package metadata (current_repodata.json): done
> Solving environment: done
>
> ## Package Plan ##
>
>   environment location: /Users/idan.miara/opt/miniconda3
>
>   added / updated specs:
>     - gdal
>
>
> The following packages will be downloaded:
>
>     package                    |            build
>     ---------------------------|-----------------
>     boost-cpp-1.72.0           |       hdf9ef73_0        19.1 MB
>  conda-forge
>     bzip2-1.0.8                |       h0d85af4_4         155 KB
>  conda-forge
>     c-ares-1.18.1              |       h0d85af4_0         100 KB
>  conda-forge
>     ca-certificates-2021.10.8  |       h033912b_0         139 KB
>  conda-forge
>     cairo-1.16.0               |    hec6a9b0_1003         1.3 MB
>  conda-forge
>     certifi-2021.10.8          |   py39h6e9494a_1         145 KB
>  conda-forge
>     cfitsio-3.470              |       h01dc385_7         1.3 MB
>  conda-forge
>     conda-4.11.0               |   py39h6e9494a_0        16.9 MB
>  conda-forge
>     curl-7.78.0                |       h7bc2e8c_0         133 KB
>     expat-2.4.1                |       he49afe7_0         143 KB
>  conda-forge
>     fontconfig-2.13.1          |    h10f422b_1005         271 KB
>  conda-forge
>     freetype-2.10.4            |       h4cff582_1         890 KB
>  conda-forge
>     freexl-1.0.6               |       h0d85af4_0          42 KB
>  conda-forge
>     gdal-3.0.2                 |   py39ha6ec53f_1         1.1 MB
>     geos-3.8.0                 |       hb1e8313_0         815 KB
>     geotiff-1.6.0              |       h02c1893_0         120 KB
>     gettext-0.21.0             |       h7535e17_0         2.6 MB
>     giflib-5.2.1               |       hbcb3906_2          71 KB
>  conda-forge
>     glib-2.69.1                |       hdf23fa2_0         2.7 MB
>     hdf4-4.2.13                |       h39711bb_2         682 KB
>     hdf5-1.10.6                |nompi_hc5d9132_1114         3.1 MB
>  conda-forge
>     icu-64.2                   |       h6de7cb9_1        12.3 MB
>  conda-forge
>     jbig-2.1                   |    h0d85af4_2003          42 KB
>  conda-forge
>     jpeg-9d                    |       hbcb3906_0         250 KB
>  conda-forge
>     json-c-0.13.1              |    h575e443_1002          66 KB
>  conda-forge
>     kealib-1.4.14              |       h31dd65d_2         156 KB
>  conda-forge
>     krb5-1.19.2                |       hcfbf3a7_0         1.3 MB
>  conda-forge
>     lerc-2.2.1                 |       h046ec9c_0         164 KB
>  conda-forge
>     libblas-3.9.0              |12_osx64_openblas          12 KB
>  conda-forge
>     libcblas-3.9.0             |12_osx64_openblas          12 KB
>  conda-forge
>     libcurl-7.78.0             |       hb8e4fae_0         311 KB
>     libcxx-12.0.1              |       habf9029_0         1.1 MB
>  conda-forge
>     libdap4-3.19.1             |       h3d3e54a_0         1.1 MB
>     libdeflate-1.7             |       h35c211d_5          67 KB
>  conda-forge
>     libedit-3.1.20191231       |       h0678c8f_2         103 KB
>  conda-forge
>     libev-4.33                 |       haf1e3a3_1          99 KB
>  conda-forge
>     libgdal-3.0.2              |       ha1444b2_1        10.4 MB
>     libgfortran-5.0.0          |9_3_0_h6c81a4c_23          19 KB
>  conda-forge
>     libgfortran5-9.3.0         |      h6c81a4c_23         1.7 MB
>  conda-forge
>     libiconv-1.16              |       haf1e3a3_0         1.3 MB
>  conda-forge
>     libkml-1.3.0               |    h88bc94a_1012         473 KB
>  conda-forge
>     liblapack-3.9.0            |12_osx64_openblas          12 KB
>  conda-forge
>     libnetcdf-4.6.1            |       hfd9a460_4         782 KB
>     libnghttp2-1.43.0          |       h6f36284_1         867 KB
>  conda-forge
>     libopenblas-0.3.18         |openmp_h3351f45_0         9.0 MB
>  conda-forge
>     libpng-1.6.37              |       h7cec526_2         313 KB
>  conda-forge
>     libpq-12.2                 |       h1b4eb34_1         2.0 MB
>     libspatialite-4.3.0a       |       h5142b36_0         2.1 MB
>     libssh2-1.10.0             |       h52ee1ee_2         221 KB
>  conda-forge
>     libtiff-4.3.0              |       h1167814_1         621 KB
>  conda-forge
>     libwebp-base-1.2.1         |       h0d85af4_0         692 KB
>  conda-forge
>     libxml2-2.9.10             |       h53d96d6_0         1.2 MB
>  conda-forge
>     llvm-openmp-12.0.1         |       hda6cdc1_1         287 KB
>  conda-forge
>     lz4-c-1.9.3                |       he49afe7_1         155 KB
>  conda-forge
>     numpy-1.21.4               |   py39h7eed0ac_0         5.8 MB
>  conda-forge
>     openjpeg-2.3.1             |       h6cbf5cd_3         373 KB
>  conda-forge
>     openssl-1.1.1l             |       h0d85af4_0         1.9 MB
>  conda-forge
>     pcre-8.45                  |       he49afe7_0         220 KB
>  conda-forge
>     pixman-0.38.0              |    h01d97ff_1003         611 KB
>  conda-forge
>     poppler-0.89.0             |       h9de36d4_1         1.6 MB
>  conda-forge
>     poppler-data-0.4.11        |       hd8ed1ab_0         3.6 MB
>  conda-forge
>     postgresql-12.2            |       h1b4eb34_1         3.3 MB
>     proj-6.2.1                 |       h773a61f_0        10.0 MB
>  conda-forge
>     python_abi-3.9             |           2_cp39           4 KB
>  conda-forge
>     tiledb-2.3.4               |       h8370e7a_0         2.9 MB
>  conda-forge
>     xerces-c-3.2.3             |       h8f8adb3_0         1.5 MB
>  conda-forge
>     zstd-1.5.0                 |       h582d3a0_0         583 KB
>  conda-forge
>     ------------------------------------------------------------
>                                            Total:       133.2 MB
>
> The following NEW packages will be INSTALLED:
>
>   boost-cpp          conda-forge/osx-64::boost-cpp-1.72.0-hdf9ef73_0
>   bzip2              conda-forge/osx-64::bzip2-1.0.8-h0d85af4_4
>   c-ares             conda-forge/osx-64::c-ares-1.18.1-h0d85af4_0
>   cairo              conda-forge/osx-64::cairo-1.16.0-hec6a9b0_1003
>   cfitsio            conda-forge/osx-64::cfitsio-3.470-h01dc385_7
>   curl               pkgs/main/osx-64::curl-7.78.0-h7bc2e8c_0
>   expat              conda-forge/osx-64::expat-2.4.1-he49afe7_0
>   fontconfig         conda-forge/osx-64::fontconfig-2.13.1-h10f422b_1005
>   freetype           conda-forge/osx-64::freetype-2.10.4-h4cff582_1
>   freexl             conda-forge/osx-64::freexl-1.0.6-h0d85af4_0
>   gdal               pkgs/main/osx-64::gdal-3.0.2-py39ha6ec53f_1
>   geos               pkgs/main/osx-64::geos-3.8.0-hb1e8313_0
>   geotiff            pkgs/main/osx-64::geotiff-1.6.0-h02c1893_0
>   gettext            pkgs/main/osx-64::gettext-0.21.0-h7535e17_0
>   giflib             conda-forge/osx-64::giflib-5.2.1-hbcb3906_2
>   glib               pkgs/main/osx-64::glib-2.69.1-hdf23fa2_0
>   hdf4               pkgs/main/osx-64::hdf4-4.2.13-h39711bb_2
>   hdf5               conda-forge/osx-64::hdf5-1.10.6-nompi_hc5d9132_1114
>   icu                conda-forge/osx-64::icu-64.2-h6de7cb9_1
>   jbig               conda-forge/osx-64::jbig-2.1-h0d85af4_2003
>   jpeg               conda-forge/osx-64::jpeg-9d-hbcb3906_0
>   json-c             conda-forge/osx-64::json-c-0.13.1-h575e443_1002
>   kealib             conda-forge/osx-64::kealib-1.4.14-h31dd65d_2
>   krb5               conda-forge/osx-64::krb5-1.19.2-hcfbf3a7_0
>   lerc               conda-forge/osx-64::lerc-2.2.1-h046ec9c_0
>   libblas            conda-forge/osx-64::libblas-3.9.0-12_osx64_openblas
>   libcblas           conda-forge/osx-64::libcblas-3.9.0-12_osx64_openblas
>   libcurl            pkgs/main/osx-64::libcurl-7.78.0-hb8e4fae_0
>   libdap4            pkgs/main/osx-64::libdap4-3.19.1-h3d3e54a_0
>   libdeflate         conda-forge/osx-64::libdeflate-1.7-h35c211d_5
>   libedit            conda-forge/osx-64::libedit-3.1.20191231-h0678c8f_2
>   libev              conda-forge/osx-64::libev-4.33-haf1e3a3_1
>   libgdal            pkgs/main/osx-64::libgdal-3.0.2-ha1444b2_1
>   libgfortran
>  conda-forge/osx-64::libgfortran-5.0.0-9_3_0_h6c81a4c_23
>   libgfortran5       conda-forge/osx-64::libgfortran5-9.3.0-h6c81a4c_23
>   libiconv           conda-forge/osx-64::libiconv-1.16-haf1e3a3_0
>   libkml             conda-forge/osx-64::libkml-1.3.0-h88bc94a_1012
>   liblapack          conda-forge/osx-64::liblapack-3.9.0-12_osx64_openblas
>   libnetcdf          pkgs/main/osx-64::libnetcdf-4.6.1-hfd9a460_4
>   libnghttp2         conda-forge/osx-64::libnghttp2-1.43.0-h6f36284_1
>   libopenblas
>  conda-forge/osx-64::libopenblas-0.3.18-openmp_h3351f45_0
>   libpng             conda-forge/osx-64::libpng-1.6.37-h7cec526_2
>   libpq              pkgs/main/osx-64::libpq-12.2-h1b4eb34_1
>   libspatialite      pkgs/main/osx-64::libspatialite-4.3.0a-h5142b36_0
>   libssh2            conda-forge/osx-64::libssh2-1.10.0-h52ee1ee_2
>   libtiff            conda-forge/osx-64::libtiff-4.3.0-h1167814_1
>   libwebp-base       conda-forge/osx-64::libwebp-base-1.2.1-h0d85af4_0
>   libxml2            conda-forge/osx-64::libxml2-2.9.10-h53d96d6_0
>   llvm-openmp        conda-forge/osx-64::llvm-openmp-12.0.1-hda6cdc1_1
>   lz4-c              conda-forge/osx-64::lz4-c-1.9.3-he49afe7_1
>   numpy              conda-forge/osx-64::numpy-1.21.4-py39h7eed0ac_0
>   openjpeg           conda-forge/osx-64::openjpeg-2.3.1-h6cbf5cd_3
>   pcre               conda-forge/osx-64::pcre-8.45-he49afe7_0
>   pixman             conda-forge/osx-64::pixman-0.38.0-h01d97ff_1003
>   poppler            conda-forge/osx-64::poppler-0.89.0-h9de36d4_1
>   poppler-data       conda-forge/noarch::poppler-data-0.4.11-hd8ed1ab_0
>   postgresql         pkgs/main/osx-64::postgresql-12.2-h1b4eb34_1
>   proj               conda-forge/osx-64::proj-6.2.1-h773a61f_0
>   python_abi         conda-forge/osx-64::python_abi-3.9-2_cp39
>   tiledb             conda-forge/osx-64::tiledb-2.3.4-h8370e7a_0
>   xerces-c           conda-forge/osx-64::xerces-c-3.2.3-h8f8adb3_0
>   zstd               conda-forge/osx-64::zstd-1.5.0-h582d3a0_0
>
> The following packages will be UPDATED:
>
>   ca-certificates    pkgs/main::ca-certificates-2021.7.5-h~ -->
> conda-forge::ca-certificates-2021.10.8-h033912b_0
>   certifi            pkgs/main::certifi-2021.5.30-py39hecd~ -->
> conda-forge::certifi-2021.10.8-py39h6e9494a_1
>   conda              pkgs/main::conda-4.10.3-py39hecd8cb5_0 -->
> conda-forge::conda-4.11.0-py39h6e9494a_0
>   libcxx                         pkgs/main::libcxx-10.0.0-1 -->
> conda-forge::libcxx-12.0.1-habf9029_0
>   openssl              pkgs/main::openssl-1.1.1k-h9ed2024_0 -->
> conda-forge::openssl-1.1.1l-h0d85af4_0
>
>
> Proceed ([y]/n)? y
>
>
> Downloading and Extracting Packages
> bzip2-1.0.8          | 155 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> fontconfig-2.13.1    | 271 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> krb5-1.19.2          | 1.3 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> gdal-3.0.2           | 1.1 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> freetype-2.10.4      | 890 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> hdf5-1.10.6          | 3.1 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> proj-6.2.1           | 10.0 MB   |
> #################################################################################################################################################################################################################################
> | 100%
> libblas-3.9.0        | 12 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> lerc-2.2.1           | 164 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libgfortran-5.0.0    | 19 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> lz4-c-1.9.3          | 155 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libiconv-1.16        | 1.3 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> icu-64.2             | 12.3 MB   |
> #################################################################################################################################################################################################################################
> | 100%
> libedit-3.1.20191231 | 103 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libxml2-2.9.10       | 1.2 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> python_abi-3.9       | 4 KB      |
> #################################################################################################################################################################################################################################
> | 100%
> numpy-1.21.4         | 5.8 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> conda-4.11.0         | 16.9 MB   |
> #################################################################################################################################################################################################################################
> | 100%
> ca-certificates-2021 | 139 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> poppler-0.89.0       | 1.6 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> liblapack-3.9.0      | 12 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> expat-2.4.1          | 143 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> boost-cpp-1.72.0     | 19.1 MB   |
> #################################################################################################################################################################################################################################
> | 100%
> glib-2.69.1          | 2.7 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> libgdal-3.0.2        | 10.4 MB   |
> #################################################################################################################################################################################################################################
> | 100%
> libspatialite-4.3.0a | 2.1 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> libnetcdf-4.6.1      | 782 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> openssl-1.1.1l       | 1.9 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> hdf4-4.2.13          | 682 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libcurl-7.78.0       | 311 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> jpeg-9d              | 250 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> openjpeg-2.3.1       | 373 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libwebp-base-1.2.1   | 692 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> c-ares-1.18.1        | 100 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libdap4-3.19.1       | 1.1 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> libpng-1.6.37        | 313 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> xerces-c-3.2.3       | 1.5 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> libdeflate-1.7       | 67 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> geos-3.8.0           | 815 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> giflib-5.2.1         | 71 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> libgfortran5-9.3.0   | 1.7 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> libssh2-1.10.0       | 221 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libcxx-12.0.1        | 1.1 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> libopenblas-0.3.18   | 9.0 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> geotiff-1.6.0        | 120 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libnghttp2-1.43.0    | 867 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> zstd-1.5.0           | 583 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libtiff-4.3.0        | 621 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libkml-1.3.0         | 473 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libcblas-3.9.0       | 12 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> tiledb-2.3.4         | 2.9 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> llvm-openmp-12.0.1   | 287 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> gettext-0.21.0       | 2.6 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> curl-7.78.0          | 133 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> pixman-0.38.0        | 611 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> json-c-0.13.1        | 66 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> cairo-1.16.0         | 1.3 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> postgresql-12.2      | 3.3 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> jbig-2.1             | 42 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> certifi-2021.10.8    | 145 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> libev-4.33           | 99 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> libpq-12.2           | 2.0 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> poppler-data-0.4.11  | 3.6 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> cfitsio-3.470        | 1.3 MB    |
> #################################################################################################################################################################################################################################
> | 100%
> freexl-1.0.6         | 42 KB     |
> #################################################################################################################################################################################################################################
> | 100%
> pcre-8.45            | 220 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> kealib-1.4.14        | 156 KB    |
> #################################################################################################################################################################################################################################
> | 100%
> Preparing transaction: done
> Verifying transaction: done
> Executing transaction: done
> (base) ?  ~ gdalinfo --version
> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>   Referenced from: /Users/idan.miara/opt/miniconda3/lib/libgdal.26.dylib
>   Reason: image not found
> [1]    76584 abort      gdalinfo --version
> (base) ?  ~
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211207/797ddd25/attachment-0001.html>

From idan at miara.com  Tue Dec  7 03:27:55 2021
From: idan at miara.com (Idan Miara)
Date: Tue, 7 Dec 2021 13:27:55 +0200
Subject: [gdal-dev] gdal installation error on MacOS
 (libpoppler.91.dylib)
In-Reply-To: <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>
References: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>
 <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>
Message-ID: <CAEDrt3-m0EF+GE_MFmhdCu+qozMy52R-_3sjAenJKFKHRvpqrA@mail.gmail.com>

Thanks Paul! It works!


On Tue, 7 Dec 2021 at 13:15, Paul Harwood <runette at gmail.com> wrote:

> Results like that are usually caused because there is something already in
> the conda environment that is causing a conflict and I notice that it is
> installing into  /Users/idan.miara/opt/miniconda3 which would usually
> mean you have installed into the "base" conda environment - which is not
> usually the best idea.
>
> If you try ...
>
> conda create --name gdaltest
> conda activate gdaltest
> conda install -c conda-forge gdal
>
> {noteing that the name "gdaltest" in the first and second lines could be
> any name for a conda environment that is not already in use}
>
> ... I am reasonably sure it will work.
>
> Then you just need to use the "gdaltest" environment when you want to use
> conda.
>
> On Tue, 7 Dec 2021 at 09:03, Idan Miara <idan at miara.com> wrote:
>
>> Hi all,
>>
>> I'm trying to install gdal on MacOS Big Sur via conda.
>> For some reason it installs v3.0.2, even though v3.4.0 is available.
>> Also it doesn't run, and gives the following error:
>>
>> ~ gdalinfo --version
>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>
>> Thanks!
>> logs are below.
>>
>> Kind regards,
>> Idan
>>
>>
>> conda install -c conda-forge gdal
>>
>> Collecting package metadata (current_repodata.json): done
>> Solving environment: done
>>
>> ## Package Plan ##
>>
>>   environment location: /Users/idan.miara/opt/miniconda3
>>
>>   added / updated specs:
>>     - gdal
>>
>>
>> The following packages will be downloaded:
>>
>>     package                    |            build
>>     ---------------------------|-----------------
>>     boost-cpp-1.72.0           |       hdf9ef73_0        19.1 MB
>>  conda-forge
>>     bzip2-1.0.8                |       h0d85af4_4         155 KB
>>  conda-forge
>>     c-ares-1.18.1              |       h0d85af4_0         100 KB
>>  conda-forge
>>     ca-certificates-2021.10.8  |       h033912b_0         139 KB
>>  conda-forge
>>     cairo-1.16.0               |    hec6a9b0_1003         1.3 MB
>>  conda-forge
>>     certifi-2021.10.8          |   py39h6e9494a_1         145 KB
>>  conda-forge
>>     cfitsio-3.470              |       h01dc385_7         1.3 MB
>>  conda-forge
>>     conda-4.11.0               |   py39h6e9494a_0        16.9 MB
>>  conda-forge
>>     curl-7.78.0                |       h7bc2e8c_0         133 KB
>>     expat-2.4.1                |       he49afe7_0         143 KB
>>  conda-forge
>>     fontconfig-2.13.1          |    h10f422b_1005         271 KB
>>  conda-forge
>>     freetype-2.10.4            |       h4cff582_1         890 KB
>>  conda-forge
>>     freexl-1.0.6               |       h0d85af4_0          42 KB
>>  conda-forge
>>     gdal-3.0.2                 |   py39ha6ec53f_1         1.1 MB
>>     geos-3.8.0                 |       hb1e8313_0         815 KB
>>     geotiff-1.6.0              |       h02c1893_0         120 KB
>>     gettext-0.21.0             |       h7535e17_0         2.6 MB
>>     giflib-5.2.1               |       hbcb3906_2          71 KB
>>  conda-forge
>>     glib-2.69.1                |       hdf23fa2_0         2.7 MB
>>     hdf4-4.2.13                |       h39711bb_2         682 KB
>>     hdf5-1.10.6                |nompi_hc5d9132_1114         3.1 MB
>>  conda-forge
>>     icu-64.2                   |       h6de7cb9_1        12.3 MB
>>  conda-forge
>>     jbig-2.1                   |    h0d85af4_2003          42 KB
>>  conda-forge
>>     jpeg-9d                    |       hbcb3906_0         250 KB
>>  conda-forge
>>     json-c-0.13.1              |    h575e443_1002          66 KB
>>  conda-forge
>>     kealib-1.4.14              |       h31dd65d_2         156 KB
>>  conda-forge
>>     krb5-1.19.2                |       hcfbf3a7_0         1.3 MB
>>  conda-forge
>>     lerc-2.2.1                 |       h046ec9c_0         164 KB
>>  conda-forge
>>     libblas-3.9.0              |12_osx64_openblas          12 KB
>>  conda-forge
>>     libcblas-3.9.0             |12_osx64_openblas          12 KB
>>  conda-forge
>>     libcurl-7.78.0             |       hb8e4fae_0         311 KB
>>     libcxx-12.0.1              |       habf9029_0         1.1 MB
>>  conda-forge
>>     libdap4-3.19.1             |       h3d3e54a_0         1.1 MB
>>     libdeflate-1.7             |       h35c211d_5          67 KB
>>  conda-forge
>>     libedit-3.1.20191231       |       h0678c8f_2         103 KB
>>  conda-forge
>>     libev-4.33                 |       haf1e3a3_1          99 KB
>>  conda-forge
>>     libgdal-3.0.2              |       ha1444b2_1        10.4 MB
>>     libgfortran-5.0.0          |9_3_0_h6c81a4c_23          19 KB
>>  conda-forge
>>     libgfortran5-9.3.0         |      h6c81a4c_23         1.7 MB
>>  conda-forge
>>     libiconv-1.16              |       haf1e3a3_0         1.3 MB
>>  conda-forge
>>     libkml-1.3.0               |    h88bc94a_1012         473 KB
>>  conda-forge
>>     liblapack-3.9.0            |12_osx64_openblas          12 KB
>>  conda-forge
>>     libnetcdf-4.6.1            |       hfd9a460_4         782 KB
>>     libnghttp2-1.43.0          |       h6f36284_1         867 KB
>>  conda-forge
>>     libopenblas-0.3.18         |openmp_h3351f45_0         9.0 MB
>>  conda-forge
>>     libpng-1.6.37              |       h7cec526_2         313 KB
>>  conda-forge
>>     libpq-12.2                 |       h1b4eb34_1         2.0 MB
>>     libspatialite-4.3.0a       |       h5142b36_0         2.1 MB
>>     libssh2-1.10.0             |       h52ee1ee_2         221 KB
>>  conda-forge
>>     libtiff-4.3.0              |       h1167814_1         621 KB
>>  conda-forge
>>     libwebp-base-1.2.1         |       h0d85af4_0         692 KB
>>  conda-forge
>>     libxml2-2.9.10             |       h53d96d6_0         1.2 MB
>>  conda-forge
>>     llvm-openmp-12.0.1         |       hda6cdc1_1         287 KB
>>  conda-forge
>>     lz4-c-1.9.3                |       he49afe7_1         155 KB
>>  conda-forge
>>     numpy-1.21.4               |   py39h7eed0ac_0         5.8 MB
>>  conda-forge
>>     openjpeg-2.3.1             |       h6cbf5cd_3         373 KB
>>  conda-forge
>>     openssl-1.1.1l             |       h0d85af4_0         1.9 MB
>>  conda-forge
>>     pcre-8.45                  |       he49afe7_0         220 KB
>>  conda-forge
>>     pixman-0.38.0              |    h01d97ff_1003         611 KB
>>  conda-forge
>>     poppler-0.89.0             |       h9de36d4_1         1.6 MB
>>  conda-forge
>>     poppler-data-0.4.11        |       hd8ed1ab_0         3.6 MB
>>  conda-forge
>>     postgresql-12.2            |       h1b4eb34_1         3.3 MB
>>     proj-6.2.1                 |       h773a61f_0        10.0 MB
>>  conda-forge
>>     python_abi-3.9             |           2_cp39           4 KB
>>  conda-forge
>>     tiledb-2.3.4               |       h8370e7a_0         2.9 MB
>>  conda-forge
>>     xerces-c-3.2.3             |       h8f8adb3_0         1.5 MB
>>  conda-forge
>>     zstd-1.5.0                 |       h582d3a0_0         583 KB
>>  conda-forge
>>     ------------------------------------------------------------
>>                                            Total:       133.2 MB
>>
>> The following NEW packages will be INSTALLED:
>>
>>   boost-cpp          conda-forge/osx-64::boost-cpp-1.72.0-hdf9ef73_0
>>   bzip2              conda-forge/osx-64::bzip2-1.0.8-h0d85af4_4
>>   c-ares             conda-forge/osx-64::c-ares-1.18.1-h0d85af4_0
>>   cairo              conda-forge/osx-64::cairo-1.16.0-hec6a9b0_1003
>>   cfitsio            conda-forge/osx-64::cfitsio-3.470-h01dc385_7
>>   curl               pkgs/main/osx-64::curl-7.78.0-h7bc2e8c_0
>>   expat              conda-forge/osx-64::expat-2.4.1-he49afe7_0
>>   fontconfig         conda-forge/osx-64::fontconfig-2.13.1-h10f422b_1005
>>   freetype           conda-forge/osx-64::freetype-2.10.4-h4cff582_1
>>   freexl             conda-forge/osx-64::freexl-1.0.6-h0d85af4_0
>>   gdal               pkgs/main/osx-64::gdal-3.0.2-py39ha6ec53f_1
>>   geos               pkgs/main/osx-64::geos-3.8.0-hb1e8313_0
>>   geotiff            pkgs/main/osx-64::geotiff-1.6.0-h02c1893_0
>>   gettext            pkgs/main/osx-64::gettext-0.21.0-h7535e17_0
>>   giflib             conda-forge/osx-64::giflib-5.2.1-hbcb3906_2
>>   glib               pkgs/main/osx-64::glib-2.69.1-hdf23fa2_0
>>   hdf4               pkgs/main/osx-64::hdf4-4.2.13-h39711bb_2
>>   hdf5               conda-forge/osx-64::hdf5-1.10.6-nompi_hc5d9132_1114
>>   icu                conda-forge/osx-64::icu-64.2-h6de7cb9_1
>>   jbig               conda-forge/osx-64::jbig-2.1-h0d85af4_2003
>>   jpeg               conda-forge/osx-64::jpeg-9d-hbcb3906_0
>>   json-c             conda-forge/osx-64::json-c-0.13.1-h575e443_1002
>>   kealib             conda-forge/osx-64::kealib-1.4.14-h31dd65d_2
>>   krb5               conda-forge/osx-64::krb5-1.19.2-hcfbf3a7_0
>>   lerc               conda-forge/osx-64::lerc-2.2.1-h046ec9c_0
>>   libblas            conda-forge/osx-64::libblas-3.9.0-12_osx64_openblas
>>   libcblas           conda-forge/osx-64::libcblas-3.9.0-12_osx64_openblas
>>   libcurl            pkgs/main/osx-64::libcurl-7.78.0-hb8e4fae_0
>>   libdap4            pkgs/main/osx-64::libdap4-3.19.1-h3d3e54a_0
>>   libdeflate         conda-forge/osx-64::libdeflate-1.7-h35c211d_5
>>   libedit            conda-forge/osx-64::libedit-3.1.20191231-h0678c8f_2
>>   libev              conda-forge/osx-64::libev-4.33-haf1e3a3_1
>>   libgdal            pkgs/main/osx-64::libgdal-3.0.2-ha1444b2_1
>>   libgfortran
>>  conda-forge/osx-64::libgfortran-5.0.0-9_3_0_h6c81a4c_23
>>   libgfortran5       conda-forge/osx-64::libgfortran5-9.3.0-h6c81a4c_23
>>   libiconv           conda-forge/osx-64::libiconv-1.16-haf1e3a3_0
>>   libkml             conda-forge/osx-64::libkml-1.3.0-h88bc94a_1012
>>   liblapack          conda-forge/osx-64::liblapack-3.9.0-12_osx64_openblas
>>   libnetcdf          pkgs/main/osx-64::libnetcdf-4.6.1-hfd9a460_4
>>   libnghttp2         conda-forge/osx-64::libnghttp2-1.43.0-h6f36284_1
>>   libopenblas
>>  conda-forge/osx-64::libopenblas-0.3.18-openmp_h3351f45_0
>>   libpng             conda-forge/osx-64::libpng-1.6.37-h7cec526_2
>>   libpq              pkgs/main/osx-64::libpq-12.2-h1b4eb34_1
>>   libspatialite      pkgs/main/osx-64::libspatialite-4.3.0a-h5142b36_0
>>   libssh2            conda-forge/osx-64::libssh2-1.10.0-h52ee1ee_2
>>   libtiff            conda-forge/osx-64::libtiff-4.3.0-h1167814_1
>>   libwebp-base       conda-forge/osx-64::libwebp-base-1.2.1-h0d85af4_0
>>   libxml2            conda-forge/osx-64::libxml2-2.9.10-h53d96d6_0
>>   llvm-openmp        conda-forge/osx-64::llvm-openmp-12.0.1-hda6cdc1_1
>>   lz4-c              conda-forge/osx-64::lz4-c-1.9.3-he49afe7_1
>>   numpy              conda-forge/osx-64::numpy-1.21.4-py39h7eed0ac_0
>>   openjpeg           conda-forge/osx-64::openjpeg-2.3.1-h6cbf5cd_3
>>   pcre               conda-forge/osx-64::pcre-8.45-he49afe7_0
>>   pixman             conda-forge/osx-64::pixman-0.38.0-h01d97ff_1003
>>   poppler            conda-forge/osx-64::poppler-0.89.0-h9de36d4_1
>>   poppler-data       conda-forge/noarch::poppler-data-0.4.11-hd8ed1ab_0
>>   postgresql         pkgs/main/osx-64::postgresql-12.2-h1b4eb34_1
>>   proj               conda-forge/osx-64::proj-6.2.1-h773a61f_0
>>   python_abi         conda-forge/osx-64::python_abi-3.9-2_cp39
>>   tiledb             conda-forge/osx-64::tiledb-2.3.4-h8370e7a_0
>>   xerces-c           conda-forge/osx-64::xerces-c-3.2.3-h8f8adb3_0
>>   zstd               conda-forge/osx-64::zstd-1.5.0-h582d3a0_0
>>
>> The following packages will be UPDATED:
>>
>>   ca-certificates    pkgs/main::ca-certificates-2021.7.5-h~ -->
>> conda-forge::ca-certificates-2021.10.8-h033912b_0
>>   certifi            pkgs/main::certifi-2021.5.30-py39hecd~ -->
>> conda-forge::certifi-2021.10.8-py39h6e9494a_1
>>   conda              pkgs/main::conda-4.10.3-py39hecd8cb5_0 -->
>> conda-forge::conda-4.11.0-py39h6e9494a_0
>>   libcxx                         pkgs/main::libcxx-10.0.0-1 -->
>> conda-forge::libcxx-12.0.1-habf9029_0
>>   openssl              pkgs/main::openssl-1.1.1k-h9ed2024_0 -->
>> conda-forge::openssl-1.1.1l-h0d85af4_0
>>
>>
>> Proceed ([y]/n)? y
>>
>>
>> Downloading and Extracting Packages
>> bzip2-1.0.8          | 155 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> fontconfig-2.13.1    | 271 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> krb5-1.19.2          | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> gdal-3.0.2           | 1.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> freetype-2.10.4      | 890 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> hdf5-1.10.6          | 3.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> proj-6.2.1           | 10.0 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libblas-3.9.0        | 12 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> lerc-2.2.1           | 164 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libgfortran-5.0.0    | 19 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> lz4-c-1.9.3          | 155 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libiconv-1.16        | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> icu-64.2             | 12.3 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libedit-3.1.20191231 | 103 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libxml2-2.9.10       | 1.2 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> python_abi-3.9       | 4 KB      |
>> #################################################################################################################################################################################################################################
>> | 100%
>> numpy-1.21.4         | 5.8 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> conda-4.11.0         | 16.9 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> ca-certificates-2021 | 139 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> poppler-0.89.0       | 1.6 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> liblapack-3.9.0      | 12 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> expat-2.4.1          | 143 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> boost-cpp-1.72.0     | 19.1 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> glib-2.69.1          | 2.7 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libgdal-3.0.2        | 10.4 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libspatialite-4.3.0a | 2.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libnetcdf-4.6.1      | 782 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> openssl-1.1.1l       | 1.9 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> hdf4-4.2.13          | 682 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libcurl-7.78.0       | 311 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> jpeg-9d              | 250 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> openjpeg-2.3.1       | 373 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libwebp-base-1.2.1   | 692 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> c-ares-1.18.1        | 100 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libdap4-3.19.1       | 1.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libpng-1.6.37        | 313 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> xerces-c-3.2.3       | 1.5 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libdeflate-1.7       | 67 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> geos-3.8.0           | 815 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> giflib-5.2.1         | 71 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libgfortran5-9.3.0   | 1.7 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libssh2-1.10.0       | 221 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libcxx-12.0.1        | 1.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libopenblas-0.3.18   | 9.0 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> geotiff-1.6.0        | 120 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libnghttp2-1.43.0    | 867 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> zstd-1.5.0           | 583 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libtiff-4.3.0        | 621 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libkml-1.3.0         | 473 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libcblas-3.9.0       | 12 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> tiledb-2.3.4         | 2.9 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> llvm-openmp-12.0.1   | 287 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> gettext-0.21.0       | 2.6 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> curl-7.78.0          | 133 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> pixman-0.38.0        | 611 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> json-c-0.13.1        | 66 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> cairo-1.16.0         | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> postgresql-12.2      | 3.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> jbig-2.1             | 42 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> certifi-2021.10.8    | 145 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libev-4.33           | 99 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libpq-12.2           | 2.0 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> poppler-data-0.4.11  | 3.6 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> cfitsio-3.470        | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> freexl-1.0.6         | 42 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> pcre-8.45            | 220 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> kealib-1.4.14        | 156 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> Preparing transaction: done
>> Verifying transaction: done
>> Executing transaction: done
>> (base) ?  ~ gdalinfo --version
>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>   Referenced from: /Users/idan.miara/opt/miniconda3/lib/libgdal.26.dylib
>>   Reason: image not found
>> [1]    76584 abort      gdalinfo --version
>> (base) ?  ~
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211207/d9f3c79c/attachment-0001.html>

From runette at gmail.com  Tue Dec  7 03:30:45 2021
From: runette at gmail.com (Paul Harwood)
Date: Tue, 7 Dec 2021 11:30:45 +0000
Subject: [gdal-dev] gdal installation error on MacOS
 (libpoppler.91.dylib)
In-Reply-To: <CAEDrt3-m0EF+GE_MFmhdCu+qozMy52R-_3sjAenJKFKHRvpqrA@mail.gmail.com>
References: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>
 <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>
 <CAEDrt3-m0EF+GE_MFmhdCu+qozMy52R-_3sjAenJKFKHRvpqrA@mail.gmail.com>
Message-ID: <CAE8nN5Nxy1YJY7qOrNbbwQoxFZsMHyhh_b0D7-sD-sph+SZHsw@mail.gmail.com>

BTW - there was a typo in my email - the last line should, of course, have
read ...

"Then you just need to use the "gdaltest" environment when you want to
use GDAL."

That makes more sense :)

On Tue, 7 Dec 2021 at 11:28, Idan Miara <idan at miara.com> wrote:

> Thanks Paul! It works!
>
>
> On Tue, 7 Dec 2021 at 13:15, Paul Harwood <runette at gmail.com> wrote:
>
>> Results like that are usually caused because there is something already
>> in the conda environment that is causing a conflict and I notice that it is
>> installing into  /Users/idan.miara/opt/miniconda3 which would usually
>> mean you have installed into the "base" conda environment - which is not
>> usually the best idea.
>>
>> If you try ...
>>
>> conda create --name gdaltest
>> conda activate gdaltest
>> conda install -c conda-forge gdal
>>
>> {noteing that the name "gdaltest" in the first and second lines could be
>> any name for a conda environment that is not already in use}
>>
>> ... I am reasonably sure it will work.
>>
>> Then you just need to use the "gdaltest" environment when you want to use
>> conda.
>>
>> On Tue, 7 Dec 2021 at 09:03, Idan Miara <idan at miara.com> wrote:
>>
>>> Hi all,
>>>
>>> I'm trying to install gdal on MacOS Big Sur via conda.
>>> For some reason it installs v3.0.2, even though v3.4.0 is available.
>>> Also it doesn't run, and gives the following error:
>>>
>>> ~ gdalinfo --version
>>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>>
>>> Thanks!
>>> logs are below.
>>>
>>> Kind regards,
>>> Idan
>>>
>>>
>>> conda install -c conda-forge gdal
>>>
>>> Collecting package metadata (current_repodata.json): done
>>> Solving environment: done
>>>
>>> ## Package Plan ##
>>>
>>>   environment location: /Users/idan.miara/opt/miniconda3
>>>
>>>   added / updated specs:
>>>     - gdal
>>>
>>>
>>> The following packages will be downloaded:
>>>
>>>     package                    |            build
>>>     ---------------------------|-----------------
>>>     boost-cpp-1.72.0           |       hdf9ef73_0        19.1 MB
>>>  conda-forge
>>>     bzip2-1.0.8                |       h0d85af4_4         155 KB
>>>  conda-forge
>>>     c-ares-1.18.1              |       h0d85af4_0         100 KB
>>>  conda-forge
>>>     ca-certificates-2021.10.8  |       h033912b_0         139 KB
>>>  conda-forge
>>>     cairo-1.16.0               |    hec6a9b0_1003         1.3 MB
>>>  conda-forge
>>>     certifi-2021.10.8          |   py39h6e9494a_1         145 KB
>>>  conda-forge
>>>     cfitsio-3.470              |       h01dc385_7         1.3 MB
>>>  conda-forge
>>>     conda-4.11.0               |   py39h6e9494a_0        16.9 MB
>>>  conda-forge
>>>     curl-7.78.0                |       h7bc2e8c_0         133 KB
>>>     expat-2.4.1                |       he49afe7_0         143 KB
>>>  conda-forge
>>>     fontconfig-2.13.1          |    h10f422b_1005         271 KB
>>>  conda-forge
>>>     freetype-2.10.4            |       h4cff582_1         890 KB
>>>  conda-forge
>>>     freexl-1.0.6               |       h0d85af4_0          42 KB
>>>  conda-forge
>>>     gdal-3.0.2                 |   py39ha6ec53f_1         1.1 MB
>>>     geos-3.8.0                 |       hb1e8313_0         815 KB
>>>     geotiff-1.6.0              |       h02c1893_0         120 KB
>>>     gettext-0.21.0             |       h7535e17_0         2.6 MB
>>>     giflib-5.2.1               |       hbcb3906_2          71 KB
>>>  conda-forge
>>>     glib-2.69.1                |       hdf23fa2_0         2.7 MB
>>>     hdf4-4.2.13                |       h39711bb_2         682 KB
>>>     hdf5-1.10.6                |nompi_hc5d9132_1114         3.1 MB
>>>  conda-forge
>>>     icu-64.2                   |       h6de7cb9_1        12.3 MB
>>>  conda-forge
>>>     jbig-2.1                   |    h0d85af4_2003          42 KB
>>>  conda-forge
>>>     jpeg-9d                    |       hbcb3906_0         250 KB
>>>  conda-forge
>>>     json-c-0.13.1              |    h575e443_1002          66 KB
>>>  conda-forge
>>>     kealib-1.4.14              |       h31dd65d_2         156 KB
>>>  conda-forge
>>>     krb5-1.19.2                |       hcfbf3a7_0         1.3 MB
>>>  conda-forge
>>>     lerc-2.2.1                 |       h046ec9c_0         164 KB
>>>  conda-forge
>>>     libblas-3.9.0              |12_osx64_openblas          12 KB
>>>  conda-forge
>>>     libcblas-3.9.0             |12_osx64_openblas          12 KB
>>>  conda-forge
>>>     libcurl-7.78.0             |       hb8e4fae_0         311 KB
>>>     libcxx-12.0.1              |       habf9029_0         1.1 MB
>>>  conda-forge
>>>     libdap4-3.19.1             |       h3d3e54a_0         1.1 MB
>>>     libdeflate-1.7             |       h35c211d_5          67 KB
>>>  conda-forge
>>>     libedit-3.1.20191231       |       h0678c8f_2         103 KB
>>>  conda-forge
>>>     libev-4.33                 |       haf1e3a3_1          99 KB
>>>  conda-forge
>>>     libgdal-3.0.2              |       ha1444b2_1        10.4 MB
>>>     libgfortran-5.0.0          |9_3_0_h6c81a4c_23          19 KB
>>>  conda-forge
>>>     libgfortran5-9.3.0         |      h6c81a4c_23         1.7 MB
>>>  conda-forge
>>>     libiconv-1.16              |       haf1e3a3_0         1.3 MB
>>>  conda-forge
>>>     libkml-1.3.0               |    h88bc94a_1012         473 KB
>>>  conda-forge
>>>     liblapack-3.9.0            |12_osx64_openblas          12 KB
>>>  conda-forge
>>>     libnetcdf-4.6.1            |       hfd9a460_4         782 KB
>>>     libnghttp2-1.43.0          |       h6f36284_1         867 KB
>>>  conda-forge
>>>     libopenblas-0.3.18         |openmp_h3351f45_0         9.0 MB
>>>  conda-forge
>>>     libpng-1.6.37              |       h7cec526_2         313 KB
>>>  conda-forge
>>>     libpq-12.2                 |       h1b4eb34_1         2.0 MB
>>>     libspatialite-4.3.0a       |       h5142b36_0         2.1 MB
>>>     libssh2-1.10.0             |       h52ee1ee_2         221 KB
>>>  conda-forge
>>>     libtiff-4.3.0              |       h1167814_1         621 KB
>>>  conda-forge
>>>     libwebp-base-1.2.1         |       h0d85af4_0         692 KB
>>>  conda-forge
>>>     libxml2-2.9.10             |       h53d96d6_0         1.2 MB
>>>  conda-forge
>>>     llvm-openmp-12.0.1         |       hda6cdc1_1         287 KB
>>>  conda-forge
>>>     lz4-c-1.9.3                |       he49afe7_1         155 KB
>>>  conda-forge
>>>     numpy-1.21.4               |   py39h7eed0ac_0         5.8 MB
>>>  conda-forge
>>>     openjpeg-2.3.1             |       h6cbf5cd_3         373 KB
>>>  conda-forge
>>>     openssl-1.1.1l             |       h0d85af4_0         1.9 MB
>>>  conda-forge
>>>     pcre-8.45                  |       he49afe7_0         220 KB
>>>  conda-forge
>>>     pixman-0.38.0              |    h01d97ff_1003         611 KB
>>>  conda-forge
>>>     poppler-0.89.0             |       h9de36d4_1         1.6 MB
>>>  conda-forge
>>>     poppler-data-0.4.11        |       hd8ed1ab_0         3.6 MB
>>>  conda-forge
>>>     postgresql-12.2            |       h1b4eb34_1         3.3 MB
>>>     proj-6.2.1                 |       h773a61f_0        10.0 MB
>>>  conda-forge
>>>     python_abi-3.9             |           2_cp39           4 KB
>>>  conda-forge
>>>     tiledb-2.3.4               |       h8370e7a_0         2.9 MB
>>>  conda-forge
>>>     xerces-c-3.2.3             |       h8f8adb3_0         1.5 MB
>>>  conda-forge
>>>     zstd-1.5.0                 |       h582d3a0_0         583 KB
>>>  conda-forge
>>>     ------------------------------------------------------------
>>>                                            Total:       133.2 MB
>>>
>>> The following NEW packages will be INSTALLED:
>>>
>>>   boost-cpp          conda-forge/osx-64::boost-cpp-1.72.0-hdf9ef73_0
>>>   bzip2              conda-forge/osx-64::bzip2-1.0.8-h0d85af4_4
>>>   c-ares             conda-forge/osx-64::c-ares-1.18.1-h0d85af4_0
>>>   cairo              conda-forge/osx-64::cairo-1.16.0-hec6a9b0_1003
>>>   cfitsio            conda-forge/osx-64::cfitsio-3.470-h01dc385_7
>>>   curl               pkgs/main/osx-64::curl-7.78.0-h7bc2e8c_0
>>>   expat              conda-forge/osx-64::expat-2.4.1-he49afe7_0
>>>   fontconfig         conda-forge/osx-64::fontconfig-2.13.1-h10f422b_1005
>>>   freetype           conda-forge/osx-64::freetype-2.10.4-h4cff582_1
>>>   freexl             conda-forge/osx-64::freexl-1.0.6-h0d85af4_0
>>>   gdal               pkgs/main/osx-64::gdal-3.0.2-py39ha6ec53f_1
>>>   geos               pkgs/main/osx-64::geos-3.8.0-hb1e8313_0
>>>   geotiff            pkgs/main/osx-64::geotiff-1.6.0-h02c1893_0
>>>   gettext            pkgs/main/osx-64::gettext-0.21.0-h7535e17_0
>>>   giflib             conda-forge/osx-64::giflib-5.2.1-hbcb3906_2
>>>   glib               pkgs/main/osx-64::glib-2.69.1-hdf23fa2_0
>>>   hdf4               pkgs/main/osx-64::hdf4-4.2.13-h39711bb_2
>>>   hdf5               conda-forge/osx-64::hdf5-1.10.6-nompi_hc5d9132_1114
>>>   icu                conda-forge/osx-64::icu-64.2-h6de7cb9_1
>>>   jbig               conda-forge/osx-64::jbig-2.1-h0d85af4_2003
>>>   jpeg               conda-forge/osx-64::jpeg-9d-hbcb3906_0
>>>   json-c             conda-forge/osx-64::json-c-0.13.1-h575e443_1002
>>>   kealib             conda-forge/osx-64::kealib-1.4.14-h31dd65d_2
>>>   krb5               conda-forge/osx-64::krb5-1.19.2-hcfbf3a7_0
>>>   lerc               conda-forge/osx-64::lerc-2.2.1-h046ec9c_0
>>>   libblas            conda-forge/osx-64::libblas-3.9.0-12_osx64_openblas
>>>   libcblas           conda-forge/osx-64::libcblas-3.9.0-12_osx64_openblas
>>>   libcurl            pkgs/main/osx-64::libcurl-7.78.0-hb8e4fae_0
>>>   libdap4            pkgs/main/osx-64::libdap4-3.19.1-h3d3e54a_0
>>>   libdeflate         conda-forge/osx-64::libdeflate-1.7-h35c211d_5
>>>   libedit            conda-forge/osx-64::libedit-3.1.20191231-h0678c8f_2
>>>   libev              conda-forge/osx-64::libev-4.33-haf1e3a3_1
>>>   libgdal            pkgs/main/osx-64::libgdal-3.0.2-ha1444b2_1
>>>   libgfortran
>>>  conda-forge/osx-64::libgfortran-5.0.0-9_3_0_h6c81a4c_23
>>>   libgfortran5       conda-forge/osx-64::libgfortran5-9.3.0-h6c81a4c_23
>>>   libiconv           conda-forge/osx-64::libiconv-1.16-haf1e3a3_0
>>>   libkml             conda-forge/osx-64::libkml-1.3.0-h88bc94a_1012
>>>   liblapack
>>>  conda-forge/osx-64::liblapack-3.9.0-12_osx64_openblas
>>>   libnetcdf          pkgs/main/osx-64::libnetcdf-4.6.1-hfd9a460_4
>>>   libnghttp2         conda-forge/osx-64::libnghttp2-1.43.0-h6f36284_1
>>>   libopenblas
>>>  conda-forge/osx-64::libopenblas-0.3.18-openmp_h3351f45_0
>>>   libpng             conda-forge/osx-64::libpng-1.6.37-h7cec526_2
>>>   libpq              pkgs/main/osx-64::libpq-12.2-h1b4eb34_1
>>>   libspatialite      pkgs/main/osx-64::libspatialite-4.3.0a-h5142b36_0
>>>   libssh2            conda-forge/osx-64::libssh2-1.10.0-h52ee1ee_2
>>>   libtiff            conda-forge/osx-64::libtiff-4.3.0-h1167814_1
>>>   libwebp-base       conda-forge/osx-64::libwebp-base-1.2.1-h0d85af4_0
>>>   libxml2            conda-forge/osx-64::libxml2-2.9.10-h53d96d6_0
>>>   llvm-openmp        conda-forge/osx-64::llvm-openmp-12.0.1-hda6cdc1_1
>>>   lz4-c              conda-forge/osx-64::lz4-c-1.9.3-he49afe7_1
>>>   numpy              conda-forge/osx-64::numpy-1.21.4-py39h7eed0ac_0
>>>   openjpeg           conda-forge/osx-64::openjpeg-2.3.1-h6cbf5cd_3
>>>   pcre               conda-forge/osx-64::pcre-8.45-he49afe7_0
>>>   pixman             conda-forge/osx-64::pixman-0.38.0-h01d97ff_1003
>>>   poppler            conda-forge/osx-64::poppler-0.89.0-h9de36d4_1
>>>   poppler-data       conda-forge/noarch::poppler-data-0.4.11-hd8ed1ab_0
>>>   postgresql         pkgs/main/osx-64::postgresql-12.2-h1b4eb34_1
>>>   proj               conda-forge/osx-64::proj-6.2.1-h773a61f_0
>>>   python_abi         conda-forge/osx-64::python_abi-3.9-2_cp39
>>>   tiledb             conda-forge/osx-64::tiledb-2.3.4-h8370e7a_0
>>>   xerces-c           conda-forge/osx-64::xerces-c-3.2.3-h8f8adb3_0
>>>   zstd               conda-forge/osx-64::zstd-1.5.0-h582d3a0_0
>>>
>>> The following packages will be UPDATED:
>>>
>>>   ca-certificates    pkgs/main::ca-certificates-2021.7.5-h~ -->
>>> conda-forge::ca-certificates-2021.10.8-h033912b_0
>>>   certifi            pkgs/main::certifi-2021.5.30-py39hecd~ -->
>>> conda-forge::certifi-2021.10.8-py39h6e9494a_1
>>>   conda              pkgs/main::conda-4.10.3-py39hecd8cb5_0 -->
>>> conda-forge::conda-4.11.0-py39h6e9494a_0
>>>   libcxx                         pkgs/main::libcxx-10.0.0-1 -->
>>> conda-forge::libcxx-12.0.1-habf9029_0
>>>   openssl              pkgs/main::openssl-1.1.1k-h9ed2024_0 -->
>>> conda-forge::openssl-1.1.1l-h0d85af4_0
>>>
>>>
>>> Proceed ([y]/n)? y
>>>
>>>
>>> Downloading and Extracting Packages
>>> bzip2-1.0.8          | 155 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> fontconfig-2.13.1    | 271 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> krb5-1.19.2          | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> gdal-3.0.2           | 1.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> freetype-2.10.4      | 890 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> hdf5-1.10.6          | 3.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> proj-6.2.1           | 10.0 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libblas-3.9.0        | 12 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> lerc-2.2.1           | 164 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libgfortran-5.0.0    | 19 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> lz4-c-1.9.3          | 155 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libiconv-1.16        | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> icu-64.2             | 12.3 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libedit-3.1.20191231 | 103 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libxml2-2.9.10       | 1.2 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> python_abi-3.9       | 4 KB      |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> numpy-1.21.4         | 5.8 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> conda-4.11.0         | 16.9 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> ca-certificates-2021 | 139 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> poppler-0.89.0       | 1.6 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> liblapack-3.9.0      | 12 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> expat-2.4.1          | 143 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> boost-cpp-1.72.0     | 19.1 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> glib-2.69.1          | 2.7 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libgdal-3.0.2        | 10.4 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libspatialite-4.3.0a | 2.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libnetcdf-4.6.1      | 782 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> openssl-1.1.1l       | 1.9 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> hdf4-4.2.13          | 682 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libcurl-7.78.0       | 311 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> jpeg-9d              | 250 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> openjpeg-2.3.1       | 373 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libwebp-base-1.2.1   | 692 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> c-ares-1.18.1        | 100 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libdap4-3.19.1       | 1.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libpng-1.6.37        | 313 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> xerces-c-3.2.3       | 1.5 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libdeflate-1.7       | 67 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> geos-3.8.0           | 815 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> giflib-5.2.1         | 71 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libgfortran5-9.3.0   | 1.7 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libssh2-1.10.0       | 221 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libcxx-12.0.1        | 1.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libopenblas-0.3.18   | 9.0 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> geotiff-1.6.0        | 120 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libnghttp2-1.43.0    | 867 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> zstd-1.5.0           | 583 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libtiff-4.3.0        | 621 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libkml-1.3.0         | 473 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libcblas-3.9.0       | 12 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> tiledb-2.3.4         | 2.9 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> llvm-openmp-12.0.1   | 287 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> gettext-0.21.0       | 2.6 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> curl-7.78.0          | 133 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> pixman-0.38.0        | 611 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> json-c-0.13.1        | 66 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> cairo-1.16.0         | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> postgresql-12.2      | 3.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> jbig-2.1             | 42 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> certifi-2021.10.8    | 145 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libev-4.33           | 99 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libpq-12.2           | 2.0 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> poppler-data-0.4.11  | 3.6 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> cfitsio-3.470        | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> freexl-1.0.6         | 42 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> pcre-8.45            | 220 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> kealib-1.4.14        | 156 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> Preparing transaction: done
>>> Verifying transaction: done
>>> Executing transaction: done
>>> (base) ?  ~ gdalinfo --version
>>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>>   Referenced from: /Users/idan.miara/opt/miniconda3/lib/libgdal.26.dylib
>>>   Reason: image not found
>>> [1]    76584 abort      gdalinfo --version
>>> (base) ?  ~
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211207/0298df01/attachment-0001.html>

From daniel.scheffler at gfz-potsdam.de  Tue Dec  7 03:33:16 2021
From: daniel.scheffler at gfz-potsdam.de (Daniel Scheffler)
Date: Tue, 7 Dec 2021 12:33:16 +0100
Subject: [gdal-dev] gdal installation error on MacOS
 (libpoppler.91.dylib)
In-Reply-To: <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>
References: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>
 <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>
Message-ID: <9df3a8ca-ee81-ed0f-5870-27e9840fd441@gfz-potsdam.de>

If you installed into the base environment, you should rollback it to 
the last clean revision. Use /conda list --revisions/ to see which 
revision number you need to use. Then use /conda install --revision N/ 
(where N is the revision number).

You should also make sure that your conda package resolver is up-to-date 
before creating a new environment for gdal.? Otherwise, it might happen 
that conda installs an old gdal version. To update it, run /conda update 
conda/ or /conda update --all/ in your base environment. Note hat you 
may have to add /-c conda-forge/ to avoid mixing up packages coming from 
the /main /channel with those from the /conda-forge/ channel.



Am 07.12.2021 um 12:15 schrieb Paul Harwood:
> Results like that are usually caused because there is something 
> already in the conda environment that is causing a conflict and I 
> notice that it is installing into ?/Users/idan.miara/opt/miniconda3 
> which would usually mean you have installed into the "base" conda 
> environment - which is not usually the best idea.
>
> If you try ...
>
> conda create --name gdaltest
> conda activate gdaltest
> conda install -c conda-forge gdal
>
> {noteing that the name "gdaltest" in the first and second lines could 
> be any name for a conda environment that is not already in use}
>
> ... I am reasonably sure it will work.
>
> Then you just need to use the "gdaltest" environment when you want to 
> use conda.
>
> On Tue, 7 Dec 2021 at 09:03, Idan Miara <idan at miara.com> wrote:
>
>     Hi all,
>
>     I'm trying to install gdal on MacOS Big Sur via conda.
>     For some reason it installs v3.0.2, even though v3.4.0 is available.
>     Also it doesn't run, and gives the following error:
>
>     ~ gdalinfo --version
>     dyld: Library not loaded: @rpath/libpoppler.91.dylib
>
>     Thanks!
>     logs are below.
>
>     Kind?regards,
>     Idan
>
>
>     conda install -c conda-forge gdal
>
>     Collecting package metadata (current_repodata.json): done
>     Solving environment: done
>
>     ## Package Plan ##
>
>     ? environment location: /Users/idan.miara/opt/miniconda3
>
>     ? added / updated specs:
>     ? ? - gdal
>
>
>     The following packages will be downloaded:
>
>     ? ? package ? ? ? ? ? ? ? ? ? ?| ? ? ? ? ? ?build
>     ? ? ---------------------------|-----------------
>     ? ? boost-cpp-1.72.0 ? ? ? ? ? | ? ? ? hdf9ef73_0 ?19.1 MB
>     ?conda-forge
>     ? ? bzip2-1.0.8 ? ? ? ? ? ? ? ?| ? ? ? h0d85af4_4 155 KB ?conda-forge
>     ? ? c-ares-1.18.1 ? ? ? ? ? ? ?| ? ? ? h0d85af4_0 100 KB ?conda-forge
>     ? ? ca-certificates-2021.10.8 ?| ? ? ? h033912b_0 139 KB ?conda-forge
>     ? ? cairo-1.16.0 ? ? ? ? ? ? ? | ? ?hec6a9b0_1003 1.3 MB ?conda-forge
>     ? ? certifi-2021.10.8 ? ? ? ? ?| ? py39h6e9494a_1 145 KB ?conda-forge
>     ? ? cfitsio-3.470 ? ? ? ? ? ? ?| ? ? ? h01dc385_7 1.3 MB ?conda-forge
>     ? ? conda-4.11.0 ? ? ? ? ? ? ? | ? py39h6e9494a_0 ?16.9 MB
>     ?conda-forge
>     ? ? curl-7.78.0 ? ? ? ? ? ? ? ?| ? ? ? h7bc2e8c_0 133 KB
>     ? ? expat-2.4.1 ? ? ? ? ? ? ? ?| ? ? ? he49afe7_0 143 KB ?conda-forge
>     ? ? fontconfig-2.13.1 ? ? ? ? ?| ? ?h10f422b_1005 271 KB ?conda-forge
>     ? ? freetype-2.10.4 ? ? ? ? ? ?| ? ? ? h4cff582_1 890 KB ?conda-forge
>     ? ? freexl-1.0.6 ? ? ? ? ? ? ? | ? ? ? h0d85af4_0 ?42 KB ?conda-forge
>     ? ? gdal-3.0.2 ? ? ? ? ? ? ? ? | ? py39ha6ec53f_1 1.1 MB
>     ? ? geos-3.8.0 ? ? ? ? ? ? ? ? | ? ? ? hb1e8313_0 815 KB
>     ? ? geotiff-1.6.0 ? ? ? ? ? ? ?| ? ? ? h02c1893_0 120 KB
>     ? ? gettext-0.21.0 ? ? ? ? ? ? | ? ? ? h7535e17_0 2.6 MB
>     ? ? giflib-5.2.1 ? ? ? ? ? ? ? | ? ? ? hbcb3906_2 ?71 KB ?conda-forge
>     ? ? glib-2.69.1 ? ? ? ? ? ? ? ?| ? ? ? hdf23fa2_0 2.7 MB
>     ? ? hdf4-4.2.13 ? ? ? ? ? ? ? ?| ? ? ? h39711bb_2 682 KB
>     ? ? hdf5-1.10.6 ? ? ? ? ? ? ? ?|nompi_hc5d9132_1114 ? 3.1 MB
>     ?conda-forge
>     ? ? icu-64.2 ? ? ? ? ? ? ? ? ? | ? ? ? h6de7cb9_1 ?12.3 MB
>     ?conda-forge
>     ? ? jbig-2.1 ? ? ? ? ? ? ? ? ? | ? ?h0d85af4_2003 ?42 KB ?conda-forge
>     ? ? jpeg-9d ? ? ? ? ? ? ? ? ? ?| ? ? ? hbcb3906_0 250 KB ?conda-forge
>     ? ? json-c-0.13.1 ? ? ? ? ? ? ?| ? ?h575e443_1002 ?66 KB ?conda-forge
>     ? ? kealib-1.4.14 ? ? ? ? ? ? ?| ? ? ? h31dd65d_2 156 KB ?conda-forge
>     ? ? krb5-1.19.2 ? ? ? ? ? ? ? ?| ? ? ? hcfbf3a7_0 1.3 MB ?conda-forge
>     ? ? lerc-2.2.1 ? ? ? ? ? ? ? ? | ? ? ? h046ec9c_0 164 KB ?conda-forge
>     ? ? libblas-3.9.0 ? ? ? ? ? ? ?|12_osx64_openblas ?12 KB ?conda-forge
>     ? ? libcblas-3.9.0 ? ? ? ? ? ? |12_osx64_openblas ?12 KB ?conda-forge
>     ? ? libcurl-7.78.0 ? ? ? ? ? ? | ? ? ? hb8e4fae_0 311 KB
>     ? ? libcxx-12.0.1 ? ? ? ? ? ? ?| ? ? ? habf9029_0 1.1 MB ?conda-forge
>     ? ? libdap4-3.19.1 ? ? ? ? ? ? | ? ? ? h3d3e54a_0 1.1 MB
>     ? ? libdeflate-1.7 ? ? ? ? ? ? | ? ? ? h35c211d_5 ?67 KB ?conda-forge
>     ? ? libedit-3.1.20191231 ? ? ? | ? ? ? h0678c8f_2 103 KB ?conda-forge
>     ? ? libev-4.33 ? ? ? ? ? ? ? ? | ? ? ? haf1e3a3_1 ?99 KB ?conda-forge
>     ? ? libgdal-3.0.2 ? ? ? ? ? ? ?| ? ? ? ha1444b2_1 ?10.4 MB
>     ? ? libgfortran-5.0.0 ? ? ? ? ?|9_3_0_h6c81a4c_23 ?19 KB ?conda-forge
>     ? ? libgfortran5-9.3.0 ? ? ? ? | ? ? ?h6c81a4c_23 1.7 MB ?conda-forge
>     ? ? libiconv-1.16 ? ? ? ? ? ? ?| ? ? ? haf1e3a3_0 1.3 MB ?conda-forge
>     ? ? libkml-1.3.0 ? ? ? ? ? ? ? | ? ?h88bc94a_1012 473 KB ?conda-forge
>     ? ? liblapack-3.9.0 ? ? ? ? ? ?|12_osx64_openblas ?12 KB ?conda-forge
>     ? ? libnetcdf-4.6.1 ? ? ? ? ? ?| ? ? ? hfd9a460_4 782 KB
>     ? ? libnghttp2-1.43.0 ? ? ? ? ?| ? ? ? h6f36284_1 867 KB ?conda-forge
>     ? ? libopenblas-0.3.18 ? ? ? ? |openmp_h3351f45_0 9.0 MB ?conda-forge
>     ? ? libpng-1.6.37 ? ? ? ? ? ? ?| ? ? ? h7cec526_2 313 KB ?conda-forge
>     ? ? libpq-12.2 ? ? ? ? ? ? ? ? | ? ? ? h1b4eb34_1 2.0 MB
>     ? ? libspatialite-4.3.0a ? ? ? | ? ? ? h5142b36_0 2.1 MB
>     ? ? libssh2-1.10.0 ? ? ? ? ? ? | ? ? ? h52ee1ee_2 221 KB ?conda-forge
>     ? ? libtiff-4.3.0 ? ? ? ? ? ? ?| ? ? ? h1167814_1 621 KB ?conda-forge
>     ? ? libwebp-base-1.2.1 ? ? ? ? | ? ? ? h0d85af4_0 692 KB ?conda-forge
>     ? ? libxml2-2.9.10 ? ? ? ? ? ? | ? ? ? h53d96d6_0 1.2 MB ?conda-forge
>     ? ? llvm-openmp-12.0.1 ? ? ? ? | ? ? ? hda6cdc1_1 287 KB ?conda-forge
>     ? ? lz4-c-1.9.3 ? ? ? ? ? ? ? ?| ? ? ? he49afe7_1 155 KB ?conda-forge
>     ? ? numpy-1.21.4 ? ? ? ? ? ? ? | ? py39h7eed0ac_0 5.8 MB ?conda-forge
>     ? ? openjpeg-2.3.1 ? ? ? ? ? ? | ? ? ? h6cbf5cd_3 373 KB ?conda-forge
>     ? ? openssl-1.1.1l ? ? ? ? ? ? | ? ? ? h0d85af4_0 1.9 MB ?conda-forge
>     ? ? pcre-8.45 ? ? ? ? ? ? ? ? ?| ? ? ? he49afe7_0 220 KB ?conda-forge
>     ? ? pixman-0.38.0 ? ? ? ? ? ? ?| ? ?h01d97ff_1003 611 KB ?conda-forge
>     ? ? poppler-0.89.0 ? ? ? ? ? ? | ? ? ? h9de36d4_1 1.6 MB ?conda-forge
>     ? ? poppler-data-0.4.11 ? ? ? ?| ? ? ? hd8ed1ab_0 3.6 MB ?conda-forge
>     ? ? postgresql-12.2 ? ? ? ? ? ?| ? ? ? h1b4eb34_1 3.3 MB
>     ? ? proj-6.2.1 ? ? ? ? ? ? ? ? | ? ? ? h773a61f_0 ?10.0 MB
>     ?conda-forge
>     ? ? python_abi-3.9 ? ? ? ? ? ? | ? ? ? ? ? 2_cp39 ? 4 KB ?conda-forge
>     ? ? tiledb-2.3.4 ? ? ? ? ? ? ? | ? ? ? h8370e7a_0 2.9 MB ?conda-forge
>     ? ? xerces-c-3.2.3 ? ? ? ? ? ? | ? ? ? h8f8adb3_0 1.5 MB ?conda-forge
>     ? ? zstd-1.5.0 ? ? ? ? ? ? ? ? | ? ? ? h582d3a0_0 583 KB ?conda-forge
>     ------------------------------------------------------------
>     ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?Total: 133.2 MB
>
>     The following NEW packages will be INSTALLED:
>
>     ? boost-cpp ?conda-forge/osx-64::boost-cpp-1.72.0-hdf9ef73_0
>     ? bzip2 ?conda-forge/osx-64::bzip2-1.0.8-h0d85af4_4
>     ? c-ares conda-forge/osx-64::c-ares-1.18.1-h0d85af4_0
>     ? cairo ?conda-forge/osx-64::cairo-1.16.0-hec6a9b0_1003
>     ? cfitsio ?conda-forge/osx-64::cfitsio-3.470-h01dc385_7
>     ? curl pkgs/main/osx-64::curl-7.78.0-h7bc2e8c_0
>     ? expat ?conda-forge/osx-64::expat-2.4.1-he49afe7_0
>     ? fontconfig conda-forge/osx-64::fontconfig-2.13.1-h10f422b_1005
>     ? freetype conda-forge/osx-64::freetype-2.10.4-h4cff582_1
>     ? freexl conda-forge/osx-64::freexl-1.0.6-h0d85af4_0
>     ? gdal pkgs/main/osx-64::gdal-3.0.2-py39ha6ec53f_1
>     ? geos pkgs/main/osx-64::geos-3.8.0-hb1e8313_0
>     ? geotiff ?pkgs/main/osx-64::geotiff-1.6.0-h02c1893_0
>     ? gettext ?pkgs/main/osx-64::gettext-0.21.0-h7535e17_0
>     ? giflib conda-forge/osx-64::giflib-5.2.1-hbcb3906_2
>     ? glib pkgs/main/osx-64::glib-2.69.1-hdf23fa2_0
>     ? hdf4 pkgs/main/osx-64::hdf4-4.2.13-h39711bb_2
>     ? hdf5 conda-forge/osx-64::hdf5-1.10.6-nompi_hc5d9132_1114
>     ? icu ?conda-forge/osx-64::icu-64.2-h6de7cb9_1
>     ? jbig conda-forge/osx-64::jbig-2.1-h0d85af4_2003
>     ? jpeg conda-forge/osx-64::jpeg-9d-hbcb3906_0
>     ? json-c conda-forge/osx-64::json-c-0.13.1-h575e443_1002
>     ? kealib conda-forge/osx-64::kealib-1.4.14-h31dd65d_2
>     ? krb5 conda-forge/osx-64::krb5-1.19.2-hcfbf3a7_0
>     ? lerc conda-forge/osx-64::lerc-2.2.1-h046ec9c_0
>     ? libblas ?conda-forge/osx-64::libblas-3.9.0-12_osx64_openblas
>     ? libcblas conda-forge/osx-64::libcblas-3.9.0-12_osx64_openblas
>     ? libcurl ?pkgs/main/osx-64::libcurl-7.78.0-hb8e4fae_0
>     ? libdap4 ?pkgs/main/osx-64::libdap4-3.19.1-h3d3e54a_0
>     ? libdeflate conda-forge/osx-64::libdeflate-1.7-h35c211d_5
>     ? libedit ?conda-forge/osx-64::libedit-3.1.20191231-h0678c8f_2
>     ? libev ?conda-forge/osx-64::libev-4.33-haf1e3a3_1
>     ? libgdal ?pkgs/main/osx-64::libgdal-3.0.2-ha1444b2_1
>     ? libgfortran ?conda-forge/osx-64::libgfortran-5.0.0-9_3_0_h6c81a4c_23
>     ? libgfortran5 conda-forge/osx-64::libgfortran5-9.3.0-h6c81a4c_23
>     ? libiconv conda-forge/osx-64::libiconv-1.16-haf1e3a3_0
>     ? libkml conda-forge/osx-64::libkml-1.3.0-h88bc94a_1012
>     ? liblapack ?conda-forge/osx-64::liblapack-3.9.0-12_osx64_openblas
>     ? libnetcdf ?pkgs/main/osx-64::libnetcdf-4.6.1-hfd9a460_4
>     ? libnghttp2 conda-forge/osx-64::libnghttp2-1.43.0-h6f36284_1
>     ? libopenblas
>     ?conda-forge/osx-64::libopenblas-0.3.18-openmp_h3351f45_0
>     ? libpng conda-forge/osx-64::libpng-1.6.37-h7cec526_2
>     ? libpq ?pkgs/main/osx-64::libpq-12.2-h1b4eb34_1
>     ? libspatialite ?pkgs/main/osx-64::libspatialite-4.3.0a-h5142b36_0
>     ? libssh2 ?conda-forge/osx-64::libssh2-1.10.0-h52ee1ee_2
>     ? libtiff ?conda-forge/osx-64::libtiff-4.3.0-h1167814_1
>     ? libwebp-base conda-forge/osx-64::libwebp-base-1.2.1-h0d85af4_0
>     ? libxml2 ?conda-forge/osx-64::libxml2-2.9.10-h53d96d6_0
>     ? llvm-openmp ?conda-forge/osx-64::llvm-openmp-12.0.1-hda6cdc1_1
>     ? lz4-c ?conda-forge/osx-64::lz4-c-1.9.3-he49afe7_1
>     ? numpy ?conda-forge/osx-64::numpy-1.21.4-py39h7eed0ac_0
>     ? openjpeg conda-forge/osx-64::openjpeg-2.3.1-h6cbf5cd_3
>     ? pcre conda-forge/osx-64::pcre-8.45-he49afe7_0
>     ? pixman conda-forge/osx-64::pixman-0.38.0-h01d97ff_1003
>     ? poppler ?conda-forge/osx-64::poppler-0.89.0-h9de36d4_1
>     ? poppler-data conda-forge/noarch::poppler-data-0.4.11-hd8ed1ab_0
>     ? postgresql pkgs/main/osx-64::postgresql-12.2-h1b4eb34_1
>     ? proj conda-forge/osx-64::proj-6.2.1-h773a61f_0
>     ? python_abi conda-forge/osx-64::python_abi-3.9-2_cp39
>     ? tiledb conda-forge/osx-64::tiledb-2.3.4-h8370e7a_0
>     ? xerces-c conda-forge/osx-64::xerces-c-3.2.3-h8f8adb3_0
>     ? zstd conda-forge/osx-64::zstd-1.5.0-h582d3a0_0
>
>     The following packages will be UPDATED:
>
>     ? ca-certificates ?pkgs/main::ca-certificates-2021.7.5-h~ -->
>     conda-forge::ca-certificates-2021.10.8-h033912b_0
>     ? certifi ?pkgs/main::certifi-2021.5.30-py39hecd~ -->
>     conda-forge::certifi-2021.10.8-py39h6e9494a_1
>     ? conda ?pkgs/main::conda-4.10.3-py39hecd8cb5_0 -->
>     conda-forge::conda-4.11.0-py39h6e9494a_0
>     ? libcxx pkgs/main::libcxx-10.0.0-1 -->
>     conda-forge::libcxx-12.0.1-habf9029_0
>     ? openssl ?pkgs/main::openssl-1.1.1k-h9ed2024_0 -->
>     conda-forge::openssl-1.1.1l-h0d85af4_0
>
>
>     Proceed ([y]/n)? y
>
>
>     Downloading and Extracting Packages
>     bzip2-1.0.8 ? ? ? ? ?| 155 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     fontconfig-2.13.1 ? ?| 271 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     krb5-1.19.2 ? ? ? ? ?| 1.3 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     gdal-3.0.2 ? ? ? ? ? | 1.1 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     freetype-2.10.4 ? ? ?| 890 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     hdf5-1.10.6 ? ? ? ? ?| 3.1 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     proj-6.2.1 ? ? ? ? ? | 10.0 MB ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     libblas-3.9.0 ? ? ? ?| 12 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     lerc-2.2.1 ? ? ? ? ? | 164 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libgfortran-5.0.0 ? ?| 19 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     lz4-c-1.9.3 ? ? ? ? ?| 155 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libiconv-1.16 ? ? ? ?| 1.3 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     icu-64.2 ? ? ? ? ? ? | 12.3 MB ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     libedit-3.1.20191231 | 103 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libxml2-2.9.10 ? ? ? | 1.2 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     python_abi-3.9 ? ? ? | 4 KB ? ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     numpy-1.21.4 ? ? ? ? | 5.8 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     conda-4.11.0 ? ? ? ? | 16.9 MB ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     ca-certificates-2021 | 139 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     poppler-0.89.0 ? ? ? | 1.6 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     liblapack-3.9.0 ? ? ?| 12 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     expat-2.4.1 ? ? ? ? ?| 143 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     boost-cpp-1.72.0 ? ? | 19.1 MB ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     glib-2.69.1 ? ? ? ? ?| 2.7 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libgdal-3.0.2 ? ? ? ?| 10.4 MB ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     libspatialite-4.3.0a | 2.1 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libnetcdf-4.6.1 ? ? ?| 782 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     openssl-1.1.1l ? ? ? | 1.9 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     hdf4-4.2.13 ? ? ? ? ?| 682 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libcurl-7.78.0 ? ? ? | 311 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     jpeg-9d ? ? ? ? ? ? ?| 250 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     openjpeg-2.3.1 ? ? ? | 373 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libwebp-base-1.2.1 ? | 692 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     c-ares-1.18.1 ? ? ? ?| 100 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libdap4-3.19.1 ? ? ? | 1.1 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libpng-1.6.37 ? ? ? ?| 313 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     xerces-c-3.2.3 ? ? ? | 1.5 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libdeflate-1.7 ? ? ? | 67 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     geos-3.8.0 ? ? ? ? ? | 815 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     giflib-5.2.1 ? ? ? ? | 71 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     libgfortran5-9.3.0 ? | 1.7 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libssh2-1.10.0 ? ? ? | 221 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libcxx-12.0.1 ? ? ? ?| 1.1 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libopenblas-0.3.18 ? | 9.0 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     geotiff-1.6.0 ? ? ? ?| 120 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libnghttp2-1.43.0 ? ?| 867 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     zstd-1.5.0 ? ? ? ? ? | 583 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libtiff-4.3.0 ? ? ? ?| 621 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libkml-1.3.0 ? ? ? ? | 473 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libcblas-3.9.0 ? ? ? | 12 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     tiledb-2.3.4 ? ? ? ? | 2.9 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     llvm-openmp-12.0.1 ? | 287 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     gettext-0.21.0 ? ? ? | 2.6 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     curl-7.78.0 ? ? ? ? ?| 133 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     pixman-0.38.0 ? ? ? ?| 611 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     json-c-0.13.1 ? ? ? ?| 66 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     cairo-1.16.0 ? ? ? ? | 1.3 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     postgresql-12.2 ? ? ?| 3.3 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     jbig-2.1 ? ? ? ? ? ? | 42 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     certifi-2021.10.8 ? ?| 145 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     libev-4.33 ? ? ? ? ? | 99 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     libpq-12.2 ? ? ? ? ? | 2.0 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     poppler-data-0.4.11 ?| 3.6 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     cfitsio-3.470 ? ? ? ?| 1.3 MB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     freexl-1.0.6 ? ? ? ? | 42 KB ? ? |
>     #################################################################################################################################################################################################################################
>     | 100%
>     pcre-8.45 ? ? ? ? ? ?| 220 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     kealib-1.4.14 ? ? ? ?| 156 KB ? ?|
>     #################################################################################################################################################################################################################################
>     | 100%
>     Preparing transaction: done
>     Verifying transaction: done
>     Executing transaction: done
>     (base) ? ?~ gdalinfo --version
>     dyld: Library not loaded: @rpath/libpoppler.91.dylib
>     ? Referenced from:
>     /Users/idan.miara/opt/miniconda3/lib/libgdal.26.dylib
>     ? Reason: image not found
>     [1] ? ?76584 abort ? ? ?gdalinfo --version
>     (base) ? ?~
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org
>     https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 

M.Sc. Geogr. Daniel Scheffler

Helmholtz Centre Potsdam
GFZ German Research Centre For Geosciences
Department 1 - Geodesy and Remote Sensing
Section 1.4  - Remote Sensing
Telegrafenberg, 14473 Potsdam, Germany

Phone:  +49 (0)331/288-1198
e-mail:daniel.scheffler at gfz-potsdam.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211207/4e81e1d2/attachment-0001.html>

From matteo.ghetta at gmail.com  Tue Dec  7 05:21:31 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 7 Dec 2021 14:21:31 +0100
Subject: [gdal-dev] PGCLIENTENCODING in ogr2ogr (and QGIS)
In-Reply-To: <4d1a98f8-90b9-239a-f8f1-49283d337803@spatialys.com>
References: <964d06f834aa4b24bf9ad34ecaf2dbcb@maanmittauslaitos.fi>
 <9198b053-cc0c-fd88-41b4-5741e81753f3@gmail.com>
 <4d1a98f8-90b9-239a-f8f1-49283d337803@spatialys.com>
Message-ID: <563801d3-3f16-8b7a-123d-387c745f05fe@gmail.com>

Hi Even,

this is also a solution. If I get it correctly I can get the encoding 
from within QGIS and pass it to the Processing script that calls GDAL. 
In this way the encoding is taken upstream and ogr2ogr should be able to 
pass it to the PG database

Thanks!

Matteo

From paul.malm at lfv.se  Wed Dec  8 05:06:41 2021
From: paul.malm at lfv.se (paul.malm at lfv.se)
Date: Wed, 8 Dec 2021 13:06:41 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
Message-ID: <124b7dd7371a41d38f0fe1cd401db4df@lfv.se>

Hi,
I'm trying to read a XML (AIXM) file. But ogrinfo says it can't be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I'm working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE



  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM







   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/a5c40e36/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/a5c40e36/attachment.jpg>

From even.rouault at spatialys.com  Wed Dec  8 05:16:59 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 8 Dec 2021 14:16:59 +0100
Subject: [gdal-dev] ogrinfo XML (AIXM)
In-Reply-To: <124b7dd7371a41d38f0fe1cd401db4df@lfv.se>
References: <124b7dd7371a41d38f0fe1cd401db4df@lfv.se>
Message-ID: <06899e19-b106-6fd7-aaa8-84b35d4dd121@spatialys.com>

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: 
https://gdal.org/drivers/vector/gmlas.html

Even

Le 08/12/2021 ? 14:06, paul.malm at lfv.se a ?crit?:
>
> Hi,
>
> I?m trying to read a XML (AIXM) file. But ogrinfo says it can?t be 
> read with either ?KML, KMZ or GML installed drivers (among other formats).
>
> Is there anything I must do, the GML, KML, KMZ drivers are there. I?m 
> working in Windows 10.
>
> Kind Regards,
>
> Paul
>
> 1_LFV_svensk_96
>
> Paul Malm
>
> ??Operations / AIM Flyginfo SE
>
> 	
>
> ? Direkt? 08-797 70 23? Mobil 070-860 11 15
> ? paul.malm at lfv.se
>
> ???Bes?ks- och postadress
> ?? LFV Flyginfo SE
>
> ?? Af Pontins v?g 6
>
> ???115 21 STOCKHOLM
>
> 	
>
> 	
>
> ???T?nk p? milj?n innan du skriver ut detta e-postmeddelande.
>
> 	
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/1b1bfd59/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/1b1bfd59/attachment.jpg>

From andreas.oxenstierna at t-kartor.com  Wed Dec  8 06:04:05 2021
From: andreas.oxenstierna at t-kartor.com (Andreas Oxenstierna)
Date: Wed, 8 Dec 2021 14:04:05 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
In-Reply-To: <06899e19-b106-6fd7-aaa8-84b35d4dd121@spatialys.com>
References: <124b7dd7371a41d38f0fe1cd401db4df@lfv.se>
 <06899e19-b106-6fd7-aaa8-84b35d4dd121@spatialys.com>
Message-ID: <bf9739b6-df19-4ffa-a571-0cb33c1b892c@Spark>

Paul, AIXM is far too complex to be read completely by ogr, at least two years ago.
You need some of the specific AIXM readers that is in the market.

Best Regards

Andreas Oxenstierna
T-Kartor Geospatial AB
Olof Mohlins v?g 12 Kristianstad
mobile: +46 733 206831
mailto: andreas.oxenstierna at t-kartor.com<mailto:andreas.oxenstierna at t-kartor.com>
www.t-kartor.com<http://www.t-kartor.com>
On 8 Dec 2021, 14:17 +0100, Even Rouault <even.rouault at spatialys.com>, wrote:

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: https://gdal.org/drivers/vector/gmlas.html

Even

Le 08/12/2021 ? 14:06, paul.malm at lfv.se<mailto:paul.malm at lfv.se> a ?crit :
Hi,
I?m trying to read a XML (AIXM) file. But ogrinfo says it can?t be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I?m working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE

  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se<mailto:paul.malm at lfv.se>
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM



   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.






_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev


--
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/97849591/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/97849591/attachment-0001.jpg>

From Matt.Wilkie at yukon.ca  Wed Dec  8 09:35:16 2021
From: Matt.Wilkie at yukon.ca (Matt.Wilkie at yukon.ca)
Date: Wed, 8 Dec 2021 17:35:16 +0000
Subject: [gdal-dev] Access window out of range error with standard utils
Message-ID: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>

Hello,

Why is gdal off by one for the access window? I'm using standard utilities, no custom code. This is only happening (so far) on one file out of dozens.

```
$ gdal_translate -co compress=zstd -co predictor=yes -co level=17 ^
 -co bigtiff=yes -of cog INFILE.rgb-nir.vrt OUTFILE.tif
Input file size is 31918, 34252
0.ERROR 5: Access window out of range in RasterIO().  Requested
(0,0) of size 250x268 on raster of 249x267.
```

This is one step of a process where I'm taking two 3-band jpeg-in-geotiff images, defining a nodata mask, and creating a final 4-band cloud geotiff. Preceding steps to this one are:

gdal_translate -b 1 RGB.tif  b-red.vrt
gdal_translate -b 2 RGB.tif  b-grn.vrt
gdal_translate -b 3 RGB.tif  b-blu.vrt
gdal_translate -b 1 432.tif  b-nir.vrt

gdalbuildvrt -separate INFILE.rgb-nir.vrt ^
  b-red.vrt b-grn.vrt b-blu.vrt b-nir.vrt

gdal_translate INFILE.rgb-nir.vrt xx-to-mask.tif
nearblack -setmask xx-to-mask.tif
move xx-mask.tif.msk INFILE.rgb-nir.vrt.msk
del xx-mask.tif

gdal_translate INFILE.rgb-nir.vrt OUTFILE.tif

(Edited for legibility, options used are left out)

Gdalinfo reports the size of each image are the same:

$ findstr "Size" *.gdal-info
RGB.b-blu.vrt.gdal-info:Size is 31918, 34252
RGB.b-blu.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
RGB.b-grn.vrt.gdal-info:Size is 31918, 34252
RGB.b-grn.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
RGB.b-red.vrt.gdal-info:Size is 31918, 34252
RGB.b-red.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
432.b-nir.vrt.gdal-info:Size is 31918, 34252
432.b-nir.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
INFILE.rgb-nir.vrt.gdal-info:Size is 31918, 34252
INFILE.rgb-nir.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
INFILE.rgb-nir.vrt.msk.gdal-info:Size is 31918, 34252

The source VRT and gdalinfo reports are attached.

GDAL 3.3.2, released 2021/09/01 via Qgis 3.22 on Windows 10.

Matt Wilkie
Geomatics Developer & Administrator
Environment | Technology, Innovation and Mapping
T 867-667-8133 | Yukon.ca<http://yukon.ca/>
Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/65ed7dbd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: access-window-err-inputs.zip
Type: application/x-zip-compressed
Size: 13888 bytes
Desc: access-window-err-inputs.zip
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/65ed7dbd/attachment-0001.bin>

From even.rouault at spatialys.com  Wed Dec  8 10:07:47 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 8 Dec 2021 19:07:47 +0100
Subject: [gdal-dev] Access window out of range error with standard utils
In-Reply-To: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>
References: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>
Message-ID: <fc29aa71-b146-c54b-6be0-fa533ace47f7@spatialys.com>

Matt,

this is likely a rounding bug somewhere, but I couldn't reproduce with 
what you provided (with GDAL master and 3.3.2 on Linux). I had to fix a 
few hardcoded paths in the VRTs and create 
SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif and 
SPOT7_FiftyMileCkSixtyMileR_432_150cm_19Jun2015_utm7.tif with

gdal_create SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif 
-outsize 31918 34252 -bands 4 -co tiled=yes -co sparse_ok=yes
gdaladdo SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif 
--config SPARSE_OK_OVERVIEW YES?????? # SPARSE_OK_OVERVIEW only taken 
into account with GDAL master

I also create a .vrt.msk file with

gdal_create SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.vrt.msk 
-outsize 31912 34252 -co sparse_ok=yes -mo INTERNAL_MASK_FLAGS_1=2 -of gtiff
gdaladdo SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.vrt.msk 
--config SPARSE_OK_OVERVIEW YES

I may have missed something. It would help if your reproducer was self 
contained.

Even

Le 08/12/2021 ? 18:35, Matt.Wilkie at yukon.ca a ?crit?:
>
> Hello,
>
> Why is gdal off by one for the access window? I?m using standard 
> utilities, no custom code. This is only happening (so far) on one file 
> out of dozens.
>
> ```
>
> $ gdal_translate -co compress=zstd -co predictor=yes -co level=17 ^
>
> ?-co bigtiff=yes -of cog INFILE.rgb-nir.vrt OUTFILE.tif
>
> Input file size is 31918, 34252
>
> 0.ERROR 5: Access window out of range in RasterIO().? Requested
>
> (0,0) of size 250x268 on raster of 249x267.
>
> ```
>
> This is one step of a process where I?m taking two 3-band 
> jpeg-in-geotiff images, defining a nodata mask, and creating a final 
> 4-band cloud geotiff. Preceding steps to this one are:
>
> gdal_translate -b 1 RGB.tif ?b-red.vrt
>
> gdal_translate -b 2 RGB.tif ?b-grn.vrt
>
> gdal_translate -b 3 RGB.tif ?b-blu.vrt
>
> gdal_translate -b 1 432.tif ?b-nir.vrt
>
> gdalbuildvrt -separate INFILE.rgb-nir.vrt ^
>
> ? b-red.vrt b-grn.vrt b-blu.vrt b-nir.vrt
>
> gdal_translate INFILE.rgb-nir.vrt xx-to-mask.tif
>
> nearblack ?setmask xx-to-mask.tif
>
> move xx-mask.tif.msk INFILE.rgb-nir.vrt.msk
>
> del xx-mask.tif
>
> gdal_translate INFILE.rgb-nir.vrt OUTFILE.tif
>
> (Edited for legibility, options used are left out)
>
> Gdalinfo reports the size of each image are the same:
>
> $ findstr "Size" *.gdal-info
>
> RGB.b-blu.vrt.gdal-info:Size is 31918, 34252
>
> RGB.b-blu.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> RGB.b-grn.vrt.gdal-info:Size is 31918, 34252
>
> RGB.b-grn.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> RGB.b-red.vrt.gdal-info:Size is 31918, 34252
>
> RGB.b-red.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> 432.b-nir.vrt.gdal-info:Size is 31918, 34252
>
> 432.b-nir.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> INFILE.rgb-nir.vrt.gdal-info:Size is 31918, 34252
>
> INFILE.rgb-nir.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> INFILE.rgb-nir.vrt.msk.gdal-info:Size is 31918, 34252
>
> The source VRT and gdalinfo reports are attached.
>
> GDAL 3.3.2, released 2021/09/01 via Qgis 3.22 on Windows 10.
>
> *Matt Wilkie*
>
> Geomatics Developer & Administrator
>
> Environment | Technology, Innovation and Mapping
>
> T 867-667-8133 | _Yukon.ca <http://yukon.ca/>_
>
> /Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away./
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/474e0a9d/attachment.html>

From Matt.Wilkie at yukon.ca  Wed Dec  8 10:24:01 2021
From: Matt.Wilkie at yukon.ca (Matt.Wilkie at yukon.ca)
Date: Wed, 8 Dec 2021 18:24:01 +0000
Subject: [gdal-dev] Access window out of range error with standard utils
In-Reply-To: <fc29aa71-b146-c54b-6be0-fa533ace47f7@spatialys.com>
References: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>
 <fc29aa71-b146-c54b-6be0-fa533ace47f7@spatialys.com>
Message-ID: <41e734cbc4e5487d9fd26b0253e4d173@yukon.ca>

Thanks Even,

I've narrowed it down to the mask file. When I move it out of the way gdal_translate completes without error. Perhaps my optimization step of using nearblack on only the infrared band instead of all 4 is at fault?

I agree it's hard to troubleshoot when the examples are not self-contained! I wish I were free to share the source images. I can share the .msk file though: https://paste.c-net.org/StrapsMaple

(First time using this service. I know nothing about it excepting it was the 1st result when searching for "binary pastebin")


-Matt

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Even Rouault
Sent: December 8, 2021 11:08 AM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Access window out of range error with standard utils


Matt,

this is likely a rounding bug somewhere, but I couldn't reproduce with what you provided (with GDAL master and 3.3.2 on Linux). I had to fix a few hardcoded paths in the VRTs and create SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif and SPOT7_FiftyMileCkSixtyMileR_432_150cm_19Jun2015_utm7.tif with

gdal_create SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif -outsize 31918 34252 -bands 4 -co tiled=yes -co sparse_ok=yes
gdaladdo SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif --config SPARSE_OK_OVERVIEW YES       # SPARSE_OK_OVERVIEW only taken into account with GDAL master

I also create a .vrt.msk file with

gdal_create SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.vrt.msk -outsize 31912 34252 -co sparse_ok=yes -mo INTERNAL_MASK_FLAGS_1=2 -of gtiff
gdaladdo SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.vrt.msk --config SPARSE_OK_OVERVIEW YES

I may have missed something. It would help if your reproducer was self contained.

Even
Le 08/12/2021 ? 18:35, Matt.Wilkie at yukon.ca<mailto:Matt.Wilkie at yukon.ca> a ?crit :
Hello,

Why is gdal off by one for the access window? I'm using standard utilities, no custom code. This is only happening (so far) on one file out of dozens.

```
$ gdal_translate -co compress=zstd -co predictor=yes -co level=17 ^
 -co bigtiff=yes -of cog INFILE.rgb-nir.vrt OUTFILE.tif
Input file size is 31918, 34252
0.ERROR 5: Access window out of range in RasterIO().  Requested
(0,0) of size 250x268 on raster of 249x267.
```

This is one step of a process where I'm taking two 3-band jpeg-in-geotiff images, defining a nodata mask, and creating a final 4-band cloud geotiff. Preceding steps to this one are:

gdal_translate -b 1 RGB.tif  b-red.vrt
gdal_translate -b 2 RGB.tif  b-grn.vrt
gdal_translate -b 3 RGB.tif  b-blu.vrt
gdal_translate -b 1 432.tif  b-nir.vrt

gdalbuildvrt -separate INFILE.rgb-nir.vrt ^
  b-red.vrt b-grn.vrt b-blu.vrt b-nir.vrt

gdal_translate INFILE.rgb-nir.vrt xx-to-mask.tif
nearblack -setmask xx-to-mask.tif
move xx-mask.tif.msk INFILE.rgb-nir.vrt.msk
del xx-mask.tif

gdal_translate INFILE.rgb-nir.vrt OUTFILE.tif

(Edited for legibility, options used are left out)

Gdalinfo reports the size of each image are the same:

$ findstr "Size" *.gdal-info
RGB.b-blu.vrt.gdal-info:Size is 31918, 34252
RGB.b-blu.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
RGB.b-grn.vrt.gdal-info:Size is 31918, 34252
RGB.b-grn.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
RGB.b-red.vrt.gdal-info:Size is 31918, 34252
RGB.b-red.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
432.b-nir.vrt.gdal-info:Size is 31918, 34252
432.b-nir.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
INFILE.rgb-nir.vrt.gdal-info:Size is 31918, 34252
INFILE.rgb-nir.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
INFILE.rgb-nir.vrt.msk.gdal-info:Size is 31918, 34252

The source VRT and gdalinfo reports are attached.

GDAL 3.3.2, released 2021/09/01 via Qgis 3.22 on Windows 10.

Matt Wilkie
Geomatics Developer & Administrator
Environment | Technology, Innovation and Mapping
T 867-667-8133 | Yukon.ca<http://yukon.ca/>
Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away.




_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com<https://imsva91-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=http%3a%2f%2fwww.spatialys.com&umid=B685D7CA-D2A6-5E05-A200-E0AFE3B43C72&auth=c132af8ee7c9d1278d61a701569070a095ce962e-45f9e6e44e2899ec331fad264f0287e272c8edd7>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/9829ad2e/attachment-0001.html>

From even.rouault at spatialys.com  Wed Dec  8 10:35:11 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 8 Dec 2021 19:35:11 +0100
Subject: [gdal-dev] Access window out of range error with standard utils
In-Reply-To: <41e734cbc4e5487d9fd26b0253e4d173@yukon.ca>
References: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>
 <fc29aa71-b146-c54b-6be0-fa533ace47f7@spatialys.com>
 <41e734cbc4e5487d9fd26b0253e4d173@yukon.ca>
Message-ID: <06686002-47ef-7c48-2413-009eb30f548a@spatialys.com>

No better with your .msk file. I don't think it is a usage issue.

You could likely create reproducers using gdal_create that will create a 
blank file with same dimension, band count, spatial information, etc.

gdal_create -if input.tif output.tif -co sparse_ok=yes -co tiled=yes

Le 08/12/2021 ? 19:24, Matt.Wilkie at yukon.ca a ?crit?:
>
> Thanks Even,
>
> I?ve narrowed it down to the mask file. When I move it out of the way 
> gdal_translate completes without error. Perhaps my optimization step 
> of using nearblack on only the infrared band instead of all 4 is at fault?
>
> I agree it?s hard to troubleshoot when the examples are not 
> self-contained! I wish I were free to share the source images. I can 
> share the .msk file though: https://paste.c-net.org/StrapsMaple
>
> (First time using this service. I know nothing about it excepting it 
> was the 1^st result when searching for ?binary pastebin?)
>
> -Matt//
>
> *From:*gdal-dev <gdal-dev-bounces at lists.osgeo.org> *On Behalf Of *Even 
> Rouault
> *Sent:* December 8, 2021 11:08 AM
> *To:* gdal-dev at lists.osgeo.org
> *Subject:* Re: [gdal-dev] Access window out of range error with 
> standard utils
>
> Matt,
>
> this is likely a rounding bug somewhere, but I couldn't reproduce with 
> what you provided (with GDAL master and 3.3.2 on Linux). I had to fix 
> a few hardcoded paths in the VRTs and create 
> SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif and 
> SPOT7_FiftyMileCkSixtyMileR_432_150cm_19Jun2015_utm7.tif with
>
> gdal_create SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif 
> -outsize 31918 34252 -bands 4 -co tiled=yes -co sparse_ok=yes
> gdaladdo SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.tif 
> --config SPARSE_OK_OVERVIEW YES?????? # SPARSE_OK_OVERVIEW only taken 
> into account with GDAL master
>
> I also create a .vrt.msk file with
>
> gdal_create 
> SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.vrt.msk -outsize 
> 31912 34252 -co sparse_ok=yes -mo INTERNAL_MASK_FLAGS_1=2 -of gtiff
> gdaladdo SPOT7_FiftyMileCkSixtyMileR_321_150cm_19Jun2015_utm7.vrt.msk 
> --config SPARSE_OK_OVERVIEW YES
>
> I may have missed something. It would help if your reproducer was self 
> contained.
>
> Even
>
> Le 08/12/2021 ? 18:35, Matt.Wilkie at yukon.ca 
> <mailto:Matt.Wilkie at yukon.ca> a ?crit?:
>
>     Hello,
>
>     Why is gdal off by one for the access window? I?m using standard
>     utilities, no custom code. This is only happening (so far) on one
>     file out of dozens.
>
>     ```
>
>     $ gdal_translate -co compress=zstd -co predictor=yes -co level=17 ^
>
>     ?-co bigtiff=yes -of cog INFILE.rgb-nir.vrt OUTFILE.tif
>
>     Input file size is 31918, 34252
>
>     0.ERROR 5: Access window out of range in RasterIO().? Requested
>
>     (0,0) of size 250x268 on raster of 249x267.
>
>     ```
>
>     This is one step of a process where I?m taking two 3-band
>     jpeg-in-geotiff images, defining a nodata mask, and creating a
>     final 4-band cloud geotiff. Preceding steps to this one are:
>
>     gdal_translate -b 1 RGB.tif ?b-red.vrt
>
>     gdal_translate -b 2 RGB.tif ?b-grn.vrt
>
>     gdal_translate -b 3 RGB.tif ?b-blu.vrt
>
>     gdal_translate -b 1 432.tif ?b-nir.vrt
>
>     gdalbuildvrt -separate INFILE.rgb-nir.vrt ^
>
>     b-red.vrt b-grn.vrt b-blu.vrt b-nir.vrt
>
>     gdal_translate INFILE.rgb-nir.vrt xx-to-mask.tif
>
>     nearblack ?setmask xx-to-mask.tif
>
>     move xx-mask.tif.msk INFILE.rgb-nir.vrt.msk
>
>     del xx-mask.tif
>
>     gdal_translate INFILE.rgb-nir.vrt OUTFILE.tif
>
>     (Edited for legibility, options used are left out)
>
>     Gdalinfo reports the size of each image are the same:
>
>     $ findstr "Size" *.gdal-info
>
>     RGB.b-blu.vrt.gdal-info:Size is 31918, 34252
>
>     RGB.b-blu.vrt.gdal-info:Pixel Size =
>     (1.500000000000000,-1.500000000000000)
>
>     RGB.b-grn.vrt.gdal-info:Size is 31918, 34252
>
>     RGB.b-grn.vrt.gdal-info:Pixel Size =
>     (1.500000000000000,-1.500000000000000)
>
>     RGB.b-red.vrt.gdal-info:Size is 31918, 34252
>
>     RGB.b-red.vrt.gdal-info:Pixel Size =
>     (1.500000000000000,-1.500000000000000)
>
>     432.b-nir.vrt.gdal-info:Size is 31918, 34252
>
>     432.b-nir.vrt.gdal-info:Pixel Size =
>     (1.500000000000000,-1.500000000000000)
>
>     INFILE.rgb-nir.vrt.gdal-info:Size is 31918, 34252
>
>     INFILE.rgb-nir.vrt.gdal-info:Pixel Size =
>     (1.500000000000000,-1.500000000000000)
>
>     INFILE.rgb-nir.vrt.msk.gdal-info:Size is 31918, 34252
>
>     The source VRT and gdalinfo reports are attached.
>
>     GDAL 3.3.2, released 2021/09/01 via Qgis 3.22 on Windows 10.
>
>     *Matt Wilkie*
>
>     Geomatics Developer & Administrator
>
>     Environment | Technology, Innovation and Mapping
>
>     T 867-667-8133 | _Yukon.ca <http://yukon.ca/>_
>
>     /Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away./
>
>
>
>     _______________________________________________
>
>     gdal-dev mailing list
>
>     gdal-dev at lists.osgeo.org  <mailto:gdal-dev at lists.osgeo.org>
>
>     https://lists.osgeo.org/mailman/listinfo/gdal-dev  <https://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
> -- 
> http://www.spatialys.com  <https://imsva91-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=http%3a%2f%2fwww.spatialys.com&umid=B685D7CA-D2A6-5E05-A200-E0AFE3B43C72&auth=c132af8ee7c9d1278d61a701569070a095ce962e-45f9e6e44e2899ec331fad264f0287e272c8edd7>
> My software is free, but my time generally not.

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211208/eb554ca7/attachment.html>

From paul.malm at lfv.se  Thu Dec  9 00:51:40 2021
From: paul.malm at lfv.se (paul.malm at lfv.se)
Date: Thu, 9 Dec 2021 08:51:40 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
In-Reply-To: <06899e19-b106-6fd7-aaa8-84b35d4dd121@spatialys.com>
References: <124b7dd7371a41d38f0fe1cd401db4df@lfv.se>
 <06899e19-b106-6fd7-aaa8-84b35d4dd121@spatialys.com>
Message-ID: <d77e28aaa1ab4754a20bc889eba1d32a@lfv.se>

Is this the correct syntax:
C:\>ogrinfo GMLAS:c:\Temp\data\Mydata.GML

I get the error:
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\eaddata\EADdata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP

Kind regards,
Paul

Fr?n: gdal-dev <gdal-dev-bounces at lists.osgeo.org> F?r Even Rouault
Skickat: den 8 december 2021 14:17
Till: gdal-dev at lists.osgeo.org
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: https://gdal.org/drivers/vector/gmlas.html<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=uz6vvUD3oCT_jv_J5c_6KFuW0bs7EadIzr6OyxIasmJB9f0PvrKackVIBaRsFK-0stBeq1jraWibIe0x4V8n-DqK_LxdtuDwLz4StmNGea8b709nnGHKo6LHjY6UtNxFRoL3LvpEKfLl3hjdjYHY9syToDuM2pO38ed50RsrAYxQmOxUUkTk4lJsAL576_C7ixRLkb6v0gGEBz19nHYgwz5tF4VetmM5wctrqTBPzgnGA3Vrxc60mpoDN6zujvfITr8U2NsMq8ucDdCh1a-zyQsms4KWk3XQaSgMr54DgjA>

Even
Le 08/12/2021 ? 14:06, paul.malm at lfv.se<mailto:paul.malm at lfv.se> a ?crit :
Hi,
I'm trying to read a XML (AIXM) file. But ogrinfo says it can't be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I'm working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE



  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se<mailto:paul.malm at lfv.se>
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM







   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.








_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=8cQdqlhVp6efzQPPPMP2SSoz1twQoc-Brn1LHEqN6oLcHdKYGbwOMLaS1ud2-c3K2wJz_BjWpsvl_sFiClF25Mkjf26TUJ0lngn57KfU5_1pvRYlSzF-TSRVK7FmkE2-lN-FzsJrpQ_uALYChCE8uKG44TrZXaSjXrm6_g5glOMqqxyXu2se8hTXiVV0TcMyWT0PM6bRtDidilS2e5dRAkGN4FniHqO-r279Xxlxc_0BS-JA8pt3peQIVgFzxvXtOViQeKZo18om84eSdbwiswYDunnqEYA2qSjoRj7hSPISZXTR0sM0VLk1J7OS85xk>

--

http://www.spatialys.com<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=YwQqpD2eaPwcv6LDZBcVDWMnjpiEULCacsUNFprErGwVLGI8CsHK3CFLDUm1C9iguPEKghMKrE1S38rRIq9iX0dMmZ8_TZG28jNN05jm0SSkJg9nYMej-gdcJAdasx1eJ5jQflEf3TPJBK-Ny18ruljafZ8yd5uCbB3JPK79JbPtzHZFMCGNPSMCCnAxtihQnz7g-LFEjGKX5k1jAJ3zg-I1V5yEWedzV9cAzxofReXeozuQNOdAjImHBEhMrH-SC5OU3ZABTJyNhCfym4wWfg>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/c76ec0aa/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/c76ec0aa/attachment-0001.jpg>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Dec  9 01:11:15 2021
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Thu, 9 Dec 2021 09:11:15 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
Message-ID: <a10818f7a1f649aa8cf568dfb596a80c@maanmittauslaitos.fi>

Hi,

The syntax is correct but "ogrinfo GMLAS:c:\Temp\data\Mydata.GML --debug on" would print much more info. Now something fails here: ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd

The schema file seems to be moved to https, I would have a try by editing that in your GML file. If you are behind a proxy server set http_proxy and https_proxy environment variables so that GDAL can access the schemas.

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta paul.malm at lfv.se
L?hetetty: torstai 9. joulukuuta 2021 10.52
Vastaanottaja: even.rouault at spatialys.com; gdal-dev at lists.osgeo.org
Aihe: Re: [gdal-dev] ogrinfo XML (AIXM)

Is this the correct syntax:
C:\>ogrinfo GMLAS:c:\Temp\data\Mydata.GML

I get the error:
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\eaddata\EADdata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP

Kind regards,
Paul

Fr?n: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> F?r Even Rouault
Skickat: den 8 december 2021 14:17
Till: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: https://gdal.org/drivers/vector/gmlas.html<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=uz6vvUD3oCT_jv_J5c_6KFuW0bs7EadIzr6OyxIasmJB9f0PvrKackVIBaRsFK-0stBeq1jraWibIe0x4V8n-DqK_LxdtuDwLz4StmNGea8b709nnGHKo6LHjY6UtNxFRoL3LvpEKfLl3hjdjYHY9syToDuM2pO38ed50RsrAYxQmOxUUkTk4lJsAL576_C7ixRLkb6v0gGEBz19nHYgwz5tF4VetmM5wctrqTBPzgnGA3Vrxc60mpoDN6zujvfITr8U2NsMq8ucDdCh1a-zyQsms4KWk3XQaSgMr54DgjA>

Even
Le 08/12/2021 ? 14:06, paul.malm at lfv.se<mailto:paul.malm at lfv.se> a ?crit :
Hi,
I'm trying to read a XML (AIXM) file. But ogrinfo says it can't be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I'm working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE



  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se<mailto:paul.malm at lfv.se>
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM







   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.







_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=8cQdqlhVp6efzQPPPMP2SSoz1twQoc-Brn1LHEqN6oLcHdKYGbwOMLaS1ud2-c3K2wJz_BjWpsvl_sFiClF25Mkjf26TUJ0lngn57KfU5_1pvRYlSzF-TSRVK7FmkE2-lN-FzsJrpQ_uALYChCE8uKG44TrZXaSjXrm6_g5glOMqqxyXu2se8hTXiVV0TcMyWT0PM6bRtDidilS2e5dRAkGN4FniHqO-r279Xxlxc_0BS-JA8pt3peQIVgFzxvXtOViQeKZo18om84eSdbwiswYDunnqEYA2qSjoRj7hSPISZXTR0sM0VLk1J7OS85xk>

--

http://www.spatialys.com<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=YwQqpD2eaPwcv6LDZBcVDWMnjpiEULCacsUNFprErGwVLGI8CsHK3CFLDUm1C9iguPEKghMKrE1S38rRIq9iX0dMmZ8_TZG28jNN05jm0SSkJg9nYMej-gdcJAdasx1eJ5jQflEf3TPJBK-Ny18ruljafZ8yd5uCbB3JPK79JbPtzHZFMCGNPSMCCnAxtihQnz7g-LFEjGKX5k1jAJ3zg-I1V5yEWedzV9cAzxofReXeozuQNOdAjImHBEhMrH-SC5OU3ZABTJyNhCfym4wWfg>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/b5c327c6/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/b5c327c6/attachment-0001.jpg>

From paul.malm at lfv.se  Thu Dec  9 01:19:27 2021
From: paul.malm at lfv.se (paul.malm at lfv.se)
Date: Thu, 9 Dec 2021 09:19:27 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
In-Reply-To: <a10818f7a1f649aa8cf568dfb596a80c@maanmittauslaitos.fi>
References: <a10818f7a1f649aa8cf568dfb596a80c@maanmittauslaitos.fi>
Message-ID: <7b5e84459ff7476c8fc995a1d835c4f4@lfv.se>

Hi,
I turnd off the proxy and added -debug on.
This is the result:
ogrinfo GMLAS:c:\Temp\data\mydata.GML --debug on
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_BAG.dll using GDALRegister_BAG.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_ECW_JP2ECW.dll using GDALRegister_ECW_JP2ECW.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_FITS.dll using GDALRegister_FITS.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_GMT.dll using GDALRegister_GMT.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF4.dll using GDALRegister_HDF4.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF4Image.dll using GDALRegister_HDF4Image.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF5.dll using GDALRegister_HDF5.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF5Image.dll using GDALRegister_HDF5Image.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_KEA.dll using GDALRegister_KEA.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_MG4Lidar.dll using GDALRegister_MG4Lidar.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_MrSID.dll using GDALRegister_MrSID.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_netCDF.dll using GDALRegister_netCDF.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_PDF.dll using GDALRegister_PDF.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\ogr_AmigoCloud.dll using RegisterOGRAmigoCloud.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins-external\ogr_FileGDB.dll using RegisterOGRFileGDB.
OGR: XMLPlatformUtils::Initialize()
GMLAS: XSD cache directory: C:\Users\anpaumal\.gdal\gmlas_xsd_cache
GMLAS: noNamespaceSchemaLocation=http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
GMLAS: Resolving http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd () to /vsicurl_streaming/http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
VSICURL: Start download for http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
HTTP: libcurl/7.74.0-DEV OpenSSL/1.1.1i zlib/1.2.11
VSICURL: Stop download for http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
OGR: XMLPlatformUtils::Terminate()
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\data\mydata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP
GDAL: In GDALDestroy - unloading GDAL shared library.

Fr?n: Rahkonen Jukka (MML) <jukka.rahkonen at maanmittauslaitos.fi>
Skickat: den 9 december 2021 10:11
Till: Malm, Paul (Operations AIM) <paul.malm at lfv.se>; even.rouault at spatialys.com; gdal-dev at lists.osgeo.org
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.
Hi,

The syntax is correct but "ogrinfo GMLAS:c:\Temp\data\Mydata.GML --debug on" would print much more info. Now something fails here: ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd<https://url11b.mailanyone.net/v1/?m=1mvFSU-0007Mi-5p&i=57e1b682&c=3D6NElsg50_At25FG1xTAHkKYS0u-w4J9U7GdQGCYQIMPbu33hOmsgC8nWHBs-jUM4YcB5GdDGZ2OK892mNb05ysdi24X6gdolItqMAQ_OJPsMupkt1Xq3k5E1KF-zS-4rgVOMTTQTrYT1nz_TVFM9Bs8oqcnCJIVNdAYtXL0ZHHNAh1u7XhJyIocwUnOxKrfbm0X0cD3DstF-0nBmCxHwlAIq9qJXaJjfTAgbcVYDcO8HhmmedYA4hiG0DGN3tDjcExg5iqscTbqUIhXE3b7bph9HFGdGPTu8KpLFmZBopRMGz53SkPFWN1FMZuGlXp>

The schema file seems to be moved to https, I would have a try by editing that in your GML file. If you are behind a proxy server set http_proxy and https_proxy environment variables so that GDAL can access the schemas.

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta paul.malm at lfv.se
L?hetetty: torstai 9. joulukuuta 2021 10.52
Vastaanottaja: even.rouault at spatialys.com; gdal-dev at lists.osgeo.org
Aihe: Re: [gdal-dev] ogrinfo XML (AIXM)

Is this the correct syntax:
C:\>ogrinfo GMLAS:c:\Temp\data\Mydata.GML

I get the error:
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd<https://url11b.mailanyone.net/v1/?m=1mvFSU-0007Mi-5p&i=57e1b682&c=3D6NElsg50_At25FG1xTAHkKYS0u-w4J9U7GdQGCYQIMPbu33hOmsgC8nWHBs-jUM4YcB5GdDGZ2OK892mNb05ysdi24X6gdolItqMAQ_OJPsMupkt1Xq3k5E1KF-zS-4rgVOMTTQTrYT1nz_TVFM9Bs8oqcnCJIVNdAYtXL0ZHHNAh1u7XhJyIocwUnOxKrfbm0X0cD3DstF-0nBmCxHwlAIq9qJXaJjfTAgbcVYDcO8HhmmedYA4hiG0DGN3tDjcExg5iqscTbqUIhXE3b7bph9HFGdGPTu8KpLFmZBopRMGz53SkPFWN1FMZuGlXp>
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\eaddata\EADdata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP

Kind regards,
Paul

Fr?n: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> F?r Even Rouault
Skickat: den 8 december 2021 14:17
Till: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: https://gdal.org/drivers/vector/gmlas.html<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=uz6vvUD3oCT_jv_J5c_6KFuW0bs7EadIzr6OyxIasmJB9f0PvrKackVIBaRsFK-0stBeq1jraWibIe0x4V8n-DqK_LxdtuDwLz4StmNGea8b709nnGHKo6LHjY6UtNxFRoL3LvpEKfLl3hjdjYHY9syToDuM2pO38ed50RsrAYxQmOxUUkTk4lJsAL576_C7ixRLkb6v0gGEBz19nHYgwz5tF4VetmM5wctrqTBPzgnGA3Vrxc60mpoDN6zujvfITr8U2NsMq8ucDdCh1a-zyQsms4KWk3XQaSgMr54DgjA>

Even
Le 08/12/2021 ? 14:06, paul.malm at lfv.se<mailto:paul.malm at lfv.se> a ?crit :
Hi,
I'm trying to read a XML (AIXM) file. But ogrinfo says it can't be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I'm working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE



  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se<mailto:paul.malm at lfv.se>
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM







   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.







_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=8cQdqlhVp6efzQPPPMP2SSoz1twQoc-Brn1LHEqN6oLcHdKYGbwOMLaS1ud2-c3K2wJz_BjWpsvl_sFiClF25Mkjf26TUJ0lngn57KfU5_1pvRYlSzF-TSRVK7FmkE2-lN-FzsJrpQ_uALYChCE8uKG44TrZXaSjXrm6_g5glOMqqxyXu2se8hTXiVV0TcMyWT0PM6bRtDidilS2e5dRAkGN4FniHqO-r279Xxlxc_0BS-JA8pt3peQIVgFzxvXtOViQeKZo18om84eSdbwiswYDunnqEYA2qSjoRj7hSPISZXTR0sM0VLk1J7OS85xk>

--

http://www.spatialys.com<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=YwQqpD2eaPwcv6LDZBcVDWMnjpiEULCacsUNFprErGwVLGI8CsHK3CFLDUm1C9iguPEKghMKrE1S38rRIq9iX0dMmZ8_TZG28jNN05jm0SSkJg9nYMej-gdcJAdasx1eJ5jQflEf3TPJBK-Ny18ruljafZ8yd5uCbB3JPK79JbPtzHZFMCGNPSMCCnAxtihQnz7g-LFEjGKX5k1jAJ3zg-I1V5yEWedzV9cAzxofReXeozuQNOdAjImHBEhMrH-SC5OU3ZABTJyNhCfym4wWfg>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/c6c746e2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/c6c746e2/attachment-0001.jpg>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Dec  9 01:25:28 2021
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Thu, 9 Dec 2021 09:25:28 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
Message-ID: <7a0ff220247242918a61d649e2ea86b1@maanmittauslaitos.fi>

Hi,

Perhaps GDAL does not follow redirections automatically:

curl http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>301 Moved Permanently</title>
</head><body>
<h1>Moved Permanently</h1>
<p>The document has moved <a href=https://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd>here</a>.</p>
</body></html>

Did you already edit your GML by changing http into https?

-Jukka Rahkonen-

L?hett?j?: paul.malm at lfv.se <paul.malm at lfv.se>
L?hetetty: torstai 9. joulukuuta 2021 11.19
Vastaanottaja: Rahkonen Jukka (MML) <jukka.rahkonen at maanmittauslaitos.fi>; even.rouault at spatialys.com; gdal-dev at lists.osgeo.org
Aihe: SV: [gdal-dev] ogrinfo XML (AIXM)

Hi,
I turnd off the proxy and added -debug on.
This is the result:
ogrinfo GMLAS:c:\Temp\data\mydata.GML --debug on
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_BAG.dll using GDALRegister_BAG.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_ECW_JP2ECW.dll using GDALRegister_ECW_JP2ECW.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_FITS.dll using GDALRegister_FITS.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_GMT.dll using GDALRegister_GMT.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF4.dll using GDALRegister_HDF4.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF4Image.dll using GDALRegister_HDF4Image.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF5.dll using GDALRegister_HDF5.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF5Image.dll using GDALRegister_HDF5Image.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_KEA.dll using GDALRegister_KEA.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_MG4Lidar.dll using GDALRegister_MG4Lidar.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_MrSID.dll using GDALRegister_MrSID.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_netCDF.dll using GDALRegister_netCDF.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_PDF.dll using GDALRegister_PDF.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\ogr_AmigoCloud.dll using RegisterOGRAmigoCloud.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins-external\ogr_FileGDB.dll using RegisterOGRFileGDB.
OGR: XMLPlatformUtils::Initialize()
GMLAS: XSD cache directory: C:\Users\anpaumal\.gdal\gmlas_xsd_cache
GMLAS: noNamespaceSchemaLocation=http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
GMLAS: Resolving http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd () to /vsicurl_streaming/http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
VSICURL: Start download for http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
HTTP: libcurl/7.74.0-DEV OpenSSL/1.1.1i zlib/1.2.11
VSICURL: Stop download for http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
OGR: XMLPlatformUtils::Terminate()
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\data\mydata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP
GDAL: In GDALDestroy - unloading GDAL shared library.

Fr?n: Rahkonen Jukka (MML) <jukka.rahkonen at maanmittauslaitos.fi<mailto:jukka.rahkonen at maanmittauslaitos.fi>>
Skickat: den 9 december 2021 10:11
Till: Malm, Paul (Operations AIM) <paul.malm at lfv.se<mailto:paul.malm at lfv.se>>; even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.
Hi,

The syntax is correct but "ogrinfo GMLAS:c:\Temp\data\Mydata.GML --debug on" would print much more info. Now something fails here: ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd<https://url11b.mailanyone.net/v1/?m=1mvFSU-0007Mi-5p&i=57e1b682&c=3D6NElsg50_At25FG1xTAHkKYS0u-w4J9U7GdQGCYQIMPbu33hOmsgC8nWHBs-jUM4YcB5GdDGZ2OK892mNb05ysdi24X6gdolItqMAQ_OJPsMupkt1Xq3k5E1KF-zS-4rgVOMTTQTrYT1nz_TVFM9Bs8oqcnCJIVNdAYtXL0ZHHNAh1u7XhJyIocwUnOxKrfbm0X0cD3DstF-0nBmCxHwlAIq9qJXaJjfTAgbcVYDcO8HhmmedYA4hiG0DGN3tDjcExg5iqscTbqUIhXE3b7bph9HFGdGPTu8KpLFmZBopRMGz53SkPFWN1FMZuGlXp>

The schema file seems to be moved to https, I would have a try by editing that in your GML file. If you are behind a proxy server set http_proxy and https_proxy environment variables so that GDAL can access the schemas.

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> Puolesta paul.malm at lfv.se<mailto:paul.malm at lfv.se>
L?hetetty: torstai 9. joulukuuta 2021 10.52
Vastaanottaja: even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Aihe: Re: [gdal-dev] ogrinfo XML (AIXM)

Is this the correct syntax:
C:\>ogrinfo GMLAS:c:\Temp\data\Mydata.GML

I get the error:
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd<https://url11b.mailanyone.net/v1/?m=1mvFSU-0007Mi-5p&i=57e1b682&c=3D6NElsg50_At25FG1xTAHkKYS0u-w4J9U7GdQGCYQIMPbu33hOmsgC8nWHBs-jUM4YcB5GdDGZ2OK892mNb05ysdi24X6gdolItqMAQ_OJPsMupkt1Xq3k5E1KF-zS-4rgVOMTTQTrYT1nz_TVFM9Bs8oqcnCJIVNdAYtXL0ZHHNAh1u7XhJyIocwUnOxKrfbm0X0cD3DstF-0nBmCxHwlAIq9qJXaJjfTAgbcVYDcO8HhmmedYA4hiG0DGN3tDjcExg5iqscTbqUIhXE3b7bph9HFGdGPTu8KpLFmZBopRMGz53SkPFWN1FMZuGlXp>
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\eaddata\EADdata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP

Kind regards,
Paul

Fr?n: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> F?r Even Rouault
Skickat: den 8 december 2021 14:17
Till: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: https://gdal.org/drivers/vector/gmlas.html<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=uz6vvUD3oCT_jv_J5c_6KFuW0bs7EadIzr6OyxIasmJB9f0PvrKackVIBaRsFK-0stBeq1jraWibIe0x4V8n-DqK_LxdtuDwLz4StmNGea8b709nnGHKo6LHjY6UtNxFRoL3LvpEKfLl3hjdjYHY9syToDuM2pO38ed50RsrAYxQmOxUUkTk4lJsAL576_C7ixRLkb6v0gGEBz19nHYgwz5tF4VetmM5wctrqTBPzgnGA3Vrxc60mpoDN6zujvfITr8U2NsMq8ucDdCh1a-zyQsms4KWk3XQaSgMr54DgjA>

Even
Le 08/12/2021 ? 14:06, paul.malm at lfv.se<mailto:paul.malm at lfv.se> a ?crit :
Hi,
I'm trying to read a XML (AIXM) file. But ogrinfo says it can't be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I'm working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE



  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se<mailto:paul.malm at lfv.se>
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM







   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.







_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=8cQdqlhVp6efzQPPPMP2SSoz1twQoc-Brn1LHEqN6oLcHdKYGbwOMLaS1ud2-c3K2wJz_BjWpsvl_sFiClF25Mkjf26TUJ0lngn57KfU5_1pvRYlSzF-TSRVK7FmkE2-lN-FzsJrpQ_uALYChCE8uKG44TrZXaSjXrm6_g5glOMqqxyXu2se8hTXiVV0TcMyWT0PM6bRtDidilS2e5dRAkGN4FniHqO-r279Xxlxc_0BS-JA8pt3peQIVgFzxvXtOViQeKZo18om84eSdbwiswYDunnqEYA2qSjoRj7hSPISZXTR0sM0VLk1J7OS85xk>

--

http://www.spatialys.com<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=YwQqpD2eaPwcv6LDZBcVDWMnjpiEULCacsUNFprErGwVLGI8CsHK3CFLDUm1C9iguPEKghMKrE1S38rRIq9iX0dMmZ8_TZG28jNN05jm0SSkJg9nYMej-gdcJAdasx1eJ5jQflEf3TPJBK-Ny18ruljafZ8yd5uCbB3JPK79JbPtzHZFMCGNPSMCCnAxtihQnz7g-LFEjGKX5k1jAJ3zg-I1V5yEWedzV9cAzxofReXeozuQNOdAjImHBEhMrH-SC5OU3ZABTJyNhCfym4wWfg>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/df1530be/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/df1530be/attachment-0001.jpg>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Dec  9 01:55:37 2021
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Thu, 9 Dec 2021 09:55:37 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
Message-ID: <74879b67ac124eae93f35cec08197476@maanmittauslaitos.fi>

Hi,

Re-sending to the list without old discussion because the mail body grew too large and was rejected.

I do not have not much experience about GMLAS but I made a test with this file https://github.com/aixm/donlon/blob/master/EA_EADD_OBS_DS_AREA_2_3_4_FULL_20191205.xml

and GDAL GMLAS found 1655 layers with "ogrinfo GMLAS:aixtest.xml" without editing the file so it seems that GDAL can follow http redirections and there is some other problem with your XML. Try the test files from GitHub and try to find out what is different in your GML.

-Jukka Rahkonen-

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/2cfacde2/attachment.html>

From paul.malm at lfv.se  Thu Dec  9 02:42:42 2021
From: paul.malm at lfv.se (paul.malm at lfv.se)
Date: Thu, 9 Dec 2021 10:42:42 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
In-Reply-To: <74879b67ac124eae93f35cec08197476@maanmittauslaitos.fi>
References: <74879b67ac124eae93f35cec08197476@maanmittauslaitos.fi>
Message-ID: <d2e3c40f3f71406b84b3f94a2c92354e@lfv.se>

Tried with the downloaded file:
https://github.com/aixm/donlon/blob/master/EA_EADD_OBS_DS_AREA_2_3_4_FULL_20191205.xml

And the result is:
C:\>ogrinfo GMLAS:c:\Temp\eaddata\EA_EADD_OBS_DS_AREA_2_3_4_FULL_20191205.xml --debug on
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_BAG.dll using GDALRegister_BAG.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_ECW_JP2ECW.dll using GDALRegister_ECW_JP2ECW.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_FITS.dll using GDALRegister_FITS.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_GMT.dll using GDALRegister_GMT.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF4.dll using GDALRegister_HDF4.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF4Image.dll using GDALRegister_HDF4Image.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF5.dll using GDALRegister_HDF5.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_HDF5Image.dll using GDALRegister_HDF5Image.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_KEA.dll using GDALRegister_KEA.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_MG4Lidar.dll using GDALRegister_MG4Lidar.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_MrSID.dll using GDALRegister_MrSID.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_netCDF.dll using GDALRegister_netCDF.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\gdal_PDF.dll using GDALRegister_PDF.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins\ogr_AmigoCloud.dll using RegisterOGRAmigoCloud.
GDAL: Auto register C:\Program Files\Gdal_321\bin\gdal\plugins-external\ogr_FileGDB.dll using RegisterOGRFileGDB.
OGR: XMLPlatformUtils::Initialize()
GMLAS: XSD cache directory: C:\Users\anpaumal\.gdal\gmlas_xsd_cache
ERROR 1: No schema locations found when analyzing data file: XSD open option must be provided
OGR: XMLPlatformUtils::Terminate()
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\eaddata\EA_EADD_OBS_DS_AREA_2_3_4_FULL_20191205.xml' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS  ...
...

Fr?n: gdal-dev <gdal-dev-bounces at lists.osgeo.org> F?r Rahkonen Jukka (MML)
Skickat: den 9 december 2021 10:56
Till: 'gdal-dev at lists.osgeo.org' <gdal-dev at lists.osgeo.org>
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.
Hi,

Re-sending to the list without old discussion because the mail body grew too large and was rejected.

I do not have not much experience about GMLAS but I made a test with this file https://github.com/aixm/donlon/blob/master/EA_EADD_OBS_DS_AREA_2_3_4_FULL_20191205.xml<https://url11b.mailanyone.net/v1/?m=1mvG9j-0005WB-4U&i=57e1b682&c=o93b5pDX4vaaGiFe-4fCRTt-Emwy84b-5wbMMklRliBx7zChVW06bSZUCSgtXAXzHzcSm5FK62ZvbAxFqEuAyx_QkIzcYyfmAp8SxJJl5CJQvo5KAqIttqVB_C_QNC9PsfQ-SW1n1YQL9hSfF-4308rIwP1OTpBL6R3gIPw8v71eE09ioGNnDUhlc0G248AcYku_7bmGvHqE-Bym3r52P6k6Np0fegE0yEAnUo_JgkD1IpsB96IXvDpDuZt4JYDOFXuSJG0qa3ZOXEsCIKmByOkbwQQ2PtWH0y1Gr3J1JMfShDYp8U2VoSrWrd--vNy1hz7GH3XeOTD6u47c6KQ8NB1khlulVISG3hyvspOP84A>

and GDAL GMLAS found 1655 layers with "ogrinfo GMLAS:aixtest.xml" without editing the file so it seems that GDAL can follow http redirections and there is some other problem with your XML. Try the test files from GitHub and try to find out what is different in your GML.

-Jukka Rahkonen-

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/d194e696/attachment.html>

From andreas.oxenstierna at t-kartor.com  Thu Dec  9 03:30:26 2021
From: andreas.oxenstierna at t-kartor.com (Andreas Oxenstierna)
Date: Thu, 9 Dec 2021 11:30:26 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
In-Reply-To: <74879b67ac124eae93f35cec08197476@maanmittauslaitos.fi>
References: <74879b67ac124eae93f35cec08197476@maanmittauslaitos.fi>
Message-ID: <4c16eec3-70e5-4a3f-9a4e-8689637b73e9@Spark>

I do not remember all nasty details but what I remember:

AIXM is really complex with multi-multi geometry linking and stores the complete story of all objects
A snapshot can be exported - this then includes objects only for that timestamp.
A complete AIXM will thus be multidimensional both in geometries and time.

Ogr only manages ?single-links? - we have developed ogr post-process code for other multi-multi geometry GMLs (power lines in Norway)
I hope Even can correct/expand on this ...

H?lsningar

Andreas Oxenstierna
T-Kartor Geospatial AB
Olof Mohlins v?g 12 Kristianstad
mobile: +46 733 206831
mailto: andreas.oxenstierna at t-kartor.com<mailto:andreas.oxenstierna at t-kartor.com>
www.t-kartor.com<http://www.t-kartor.com>
On 9 Dec 2021, 10:55 +0100, Rahkonen Jukka (MML) <jukka.rahkonen at maanmittauslaitos.fi>, wrote:
Hi,

Re-sending to the list without old discussion because the mail body grew too large and was rejected.

I do not have not much experience about GMLAS but I made a test with this file https://github.com/aixm/donlon/blob/master/EA_EADD_OBS_DS_AREA_2_3_4_FULL_20191205.xml

and GDAL GMLAS found 1655 layers with ?ogrinfo GMLAS:aixtest.xml? without editing the file so it seems that GDAL can follow http redirections and there is some other problem with your XML. Try the test files from GitHub and try to find out what is different in your GML.

-Jukka Rahkonen-

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/e62b6831/attachment-0001.html>

From Anthony.W.Baker at boeing.com  Thu Dec  9 04:01:58 2021
From: Anthony.W.Baker at boeing.com (Baker (US), Anthony W)
Date: Thu, 9 Dec 2021 12:01:58 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
In-Reply-To: <d77e28aaa1ab4754a20bc889eba1d32a@lfv.se>
References: <124b7dd7371a41d38f0fe1cd401db4df@lfv.se>
 <06899e19-b106-6fd7-aaa8-84b35d4dd121@spatialys.com>
 <d77e28aaa1ab4754a20bc889eba1d32a@lfv.se>
Message-ID: <c90c4eff33224a4cb1f7d2283e2af4b3@boeing.com>

Please remove me from this email distribution.

Thank you

From: gdal-dev [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of paul.malm at lfv.se
Sent: Thursday, December 09, 2021 3:52 AM
To: even.rouault at spatialys.com; gdal-dev at lists.osgeo.org
Subject: [EXTERNAL] Re: [gdal-dev] ogrinfo XML (AIXM)


EXT email: be mindful of links/attachments.




Is this the correct syntax:
C:\>ogrinfo GMLAS:c:\Temp\data\Mydata.GML

I get the error:
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\eaddata\EADdata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP

Kind regards,
Paul

Fr?n: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> F?r Even Rouault
Skickat: den 8 december 2021 14:17
Till: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: https://gdal.org/drivers/vector/gmlas.html<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=uz6vvUD3oCT_jv_J5c_6KFuW0bs7EadIzr6OyxIasmJB9f0PvrKackVIBaRsFK-0stBeq1jraWibIe0x4V8n-DqK_LxdtuDwLz4StmNGea8b709nnGHKo6LHjY6UtNxFRoL3LvpEKfLl3hjdjYHY9syToDuM2pO38ed50RsrAYxQmOxUUkTk4lJsAL576_C7ixRLkb6v0gGEBz19nHYgwz5tF4VetmM5wctrqTBPzgnGA3Vrxc60mpoDN6zujvfITr8U2NsMq8ucDdCh1a-zyQsms4KWk3XQaSgMr54DgjA>

Even
Le 08/12/2021 ? 14:06, paul.malm at lfv.se<mailto:paul.malm at lfv.se> a ?crit :
Hi,
I'm trying to read a XML (AIXM) file. But ogrinfo says it can't be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I'm working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE



  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se<mailto:paul.malm at lfv.se>
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM







   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.







_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=8cQdqlhVp6efzQPPPMP2SSoz1twQoc-Brn1LHEqN6oLcHdKYGbwOMLaS1ud2-c3K2wJz_BjWpsvl_sFiClF25Mkjf26TUJ0lngn57KfU5_1pvRYlSzF-TSRVK7FmkE2-lN-FzsJrpQ_uALYChCE8uKG44TrZXaSjXrm6_g5glOMqqxyXu2se8hTXiVV0TcMyWT0PM6bRtDidilS2e5dRAkGN4FniHqO-r279Xxlxc_0BS-JA8pt3peQIVgFzxvXtOViQeKZo18om84eSdbwiswYDunnqEYA2qSjoRj7hSPISZXTR0sM0VLk1J7OS85xk>

--

http://www.spatialys.com<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=YwQqpD2eaPwcv6LDZBcVDWMnjpiEULCacsUNFprErGwVLGI8CsHK3CFLDUm1C9iguPEKghMKrE1S38rRIq9iX0dMmZ8_TZG28jNN05jm0SSkJg9nYMej-gdcJAdasx1eJ5jQflEf3TPJBK-Ny18ruljafZ8yd5uCbB3JPK79JbPtzHZFMCGNPSMCCnAxtihQnz7g-LFEjGKX5k1jAJ3zg-I1V5yEWedzV9cAzxofReXeozuQNOdAjImHBEhMrH-SC5OU3ZABTJyNhCfym4wWfg>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/d5e65e25/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/d5e65e25/attachment-0001.jpg>

From idan at miara.com  Thu Dec  9 04:51:53 2021
From: idan at miara.com (Idan Miara)
Date: Thu, 9 Dec 2021 14:51:53 +0200
Subject: [gdal-dev] gdal installation error on MacOS
 (libpoppler.91.dylib)
In-Reply-To: <9df3a8ca-ee81-ed0f-5870-27e9840fd441@gfz-potsdam.de>
References: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>
 <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>
 <9df3a8ca-ee81-ed0f-5870-27e9840fd441@gfz-potsdam.de>
Message-ID: <CAEDrt3-TYWZhojc2fN3BBjD9CR0c01gbQ9rbiciEJWdL5zOcYw@mail.gmail.com>

Thanks for your help!

I realised that since I use pyenv virtualenv then I might have conflicts if
I also use conda.
I ended up uninstalling conda and installing gdal with homebrew and pip.
I will add some notes in the docs for how to avoid the pitfalls I
encountered.


On Tue, 7 Dec 2021 at 13:33, Daniel Scheffler <
daniel.scheffler at gfz-potsdam.de> wrote:

> If you installed into the base environment, you should rollback it to the
> last clean revision. Use *conda list --revisions* to see which revision
> number you need to use. Then use *conda install --revision N* (where N is
> the revision number).
>
> You should also make sure that your conda package resolver is up-to-date
> before creating a new environment for gdal.  Otherwise, it might happen
> that conda installs an old gdal version. To update it, run *conda update
> conda* or *conda update --all* in your base environment. Note hat you may
> have to add *-c conda-forge* to avoid mixing up packages coming from the *main
> *channel with those from the *conda-forge* channel.
>
>
>
> Am 07.12.2021 um 12:15 schrieb Paul Harwood:
>
> Results like that are usually caused because there is something already in
> the conda environment that is causing a conflict and I notice that it is
> installing into  /Users/idan.miara/opt/miniconda3 which would usually
> mean you have installed into the "base" conda environment - which is not
> usually the best idea.
>
> If you try ...
>
> conda create --name gdaltest
> conda activate gdaltest
> conda install -c conda-forge gdal
>
> {noteing that the name "gdaltest" in the first and second lines could be
> any name for a conda environment that is not already in use}
>
> ... I am reasonably sure it will work.
>
> Then you just need to use the "gdaltest" environment when you want to use
> conda.
>
> On Tue, 7 Dec 2021 at 09:03, Idan Miara <idan at miara.com> wrote:
>
>> Hi all,
>>
>> I'm trying to install gdal on MacOS Big Sur via conda.
>> For some reason it installs v3.0.2, even though v3.4.0 is available.
>> Also it doesn't run, and gives the following error:
>>
>> ~ gdalinfo --version
>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>
>> Thanks!
>> logs are below.
>>
>> Kind regards,
>> Idan
>>
>>
>> conda install -c conda-forge gdal
>>
>> Collecting package metadata (current_repodata.json): done
>> Solving environment: done
>>
>> ## Package Plan ##
>>
>>   environment location: /Users/idan.miara/opt/miniconda3
>>
>>   added / updated specs:
>>     - gdal
>>
>>
>> The following packages will be downloaded:
>>
>>     package                    |            build
>>     ---------------------------|-----------------
>>     boost-cpp-1.72.0           |       hdf9ef73_0        19.1 MB
>>  conda-forge
>>     bzip2-1.0.8                |       h0d85af4_4         155 KB
>>  conda-forge
>>     c-ares-1.18.1              |       h0d85af4_0         100 KB
>>  conda-forge
>>     ca-certificates-2021.10.8  |       h033912b_0         139 KB
>>  conda-forge
>>     cairo-1.16.0               |    hec6a9b0_1003         1.3 MB
>>  conda-forge
>>     certifi-2021.10.8          |   py39h6e9494a_1         145 KB
>>  conda-forge
>>     cfitsio-3.470              |       h01dc385_7         1.3 MB
>>  conda-forge
>>     conda-4.11.0               |   py39h6e9494a_0        16.9 MB
>>  conda-forge
>>     curl-7.78.0                |       h7bc2e8c_0         133 KB
>>     expat-2.4.1                |       he49afe7_0         143 KB
>>  conda-forge
>>     fontconfig-2.13.1          |    h10f422b_1005         271 KB
>>  conda-forge
>>     freetype-2.10.4            |       h4cff582_1         890 KB
>>  conda-forge
>>     freexl-1.0.6               |       h0d85af4_0          42 KB
>>  conda-forge
>>     gdal-3.0.2                 |   py39ha6ec53f_1         1.1 MB
>>     geos-3.8.0                 |       hb1e8313_0         815 KB
>>     geotiff-1.6.0              |       h02c1893_0         120 KB
>>     gettext-0.21.0             |       h7535e17_0         2.6 MB
>>     giflib-5.2.1               |       hbcb3906_2          71 KB
>>  conda-forge
>>     glib-2.69.1                |       hdf23fa2_0         2.7 MB
>>     hdf4-4.2.13                |       h39711bb_2         682 KB
>>     hdf5-1.10.6                |nompi_hc5d9132_1114         3.1 MB
>>  conda-forge
>>     icu-64.2                   |       h6de7cb9_1        12.3 MB
>>  conda-forge
>>     jbig-2.1                   |    h0d85af4_2003          42 KB
>>  conda-forge
>>     jpeg-9d                    |       hbcb3906_0         250 KB
>>  conda-forge
>>     json-c-0.13.1              |    h575e443_1002          66 KB
>>  conda-forge
>>     kealib-1.4.14              |       h31dd65d_2         156 KB
>>  conda-forge
>>     krb5-1.19.2                |       hcfbf3a7_0         1.3 MB
>>  conda-forge
>>     lerc-2.2.1                 |       h046ec9c_0         164 KB
>>  conda-forge
>>     libblas-3.9.0              |12_osx64_openblas          12 KB
>>  conda-forge
>>     libcblas-3.9.0             |12_osx64_openblas          12 KB
>>  conda-forge
>>     libcurl-7.78.0             |       hb8e4fae_0         311 KB
>>     libcxx-12.0.1              |       habf9029_0         1.1 MB
>>  conda-forge
>>     libdap4-3.19.1             |       h3d3e54a_0         1.1 MB
>>     libdeflate-1.7             |       h35c211d_5          67 KB
>>  conda-forge
>>     libedit-3.1.20191231       |       h0678c8f_2         103 KB
>>  conda-forge
>>     libev-4.33                 |       haf1e3a3_1          99 KB
>>  conda-forge
>>     libgdal-3.0.2              |       ha1444b2_1        10.4 MB
>>     libgfortran-5.0.0          |9_3_0_h6c81a4c_23          19 KB
>>  conda-forge
>>     libgfortran5-9.3.0         |      h6c81a4c_23         1.7 MB
>>  conda-forge
>>     libiconv-1.16              |       haf1e3a3_0         1.3 MB
>>  conda-forge
>>     libkml-1.3.0               |    h88bc94a_1012         473 KB
>>  conda-forge
>>     liblapack-3.9.0            |12_osx64_openblas          12 KB
>>  conda-forge
>>     libnetcdf-4.6.1            |       hfd9a460_4         782 KB
>>     libnghttp2-1.43.0          |       h6f36284_1         867 KB
>>  conda-forge
>>     libopenblas-0.3.18         |openmp_h3351f45_0         9.0 MB
>>  conda-forge
>>     libpng-1.6.37              |       h7cec526_2         313 KB
>>  conda-forge
>>     libpq-12.2                 |       h1b4eb34_1         2.0 MB
>>     libspatialite-4.3.0a       |       h5142b36_0         2.1 MB
>>     libssh2-1.10.0             |       h52ee1ee_2         221 KB
>>  conda-forge
>>     libtiff-4.3.0              |       h1167814_1         621 KB
>>  conda-forge
>>     libwebp-base-1.2.1         |       h0d85af4_0         692 KB
>>  conda-forge
>>     libxml2-2.9.10             |       h53d96d6_0         1.2 MB
>>  conda-forge
>>     llvm-openmp-12.0.1         |       hda6cdc1_1         287 KB
>>  conda-forge
>>     lz4-c-1.9.3                |       he49afe7_1         155 KB
>>  conda-forge
>>     numpy-1.21.4               |   py39h7eed0ac_0         5.8 MB
>>  conda-forge
>>     openjpeg-2.3.1             |       h6cbf5cd_3         373 KB
>>  conda-forge
>>     openssl-1.1.1l             |       h0d85af4_0         1.9 MB
>>  conda-forge
>>     pcre-8.45                  |       he49afe7_0         220 KB
>>  conda-forge
>>     pixman-0.38.0              |    h01d97ff_1003         611 KB
>>  conda-forge
>>     poppler-0.89.0             |       h9de36d4_1         1.6 MB
>>  conda-forge
>>     poppler-data-0.4.11        |       hd8ed1ab_0         3.6 MB
>>  conda-forge
>>     postgresql-12.2            |       h1b4eb34_1         3.3 MB
>>     proj-6.2.1                 |       h773a61f_0        10.0 MB
>>  conda-forge
>>     python_abi-3.9             |           2_cp39           4 KB
>>  conda-forge
>>     tiledb-2.3.4               |       h8370e7a_0         2.9 MB
>>  conda-forge
>>     xerces-c-3.2.3             |       h8f8adb3_0         1.5 MB
>>  conda-forge
>>     zstd-1.5.0                 |       h582d3a0_0         583 KB
>>  conda-forge
>>     ------------------------------------------------------------
>>                                            Total:       133.2 MB
>>
>> The following NEW packages will be INSTALLED:
>>
>>   boost-cpp          conda-forge/osx-64::boost-cpp-1.72.0-hdf9ef73_0
>>   bzip2              conda-forge/osx-64::bzip2-1.0.8-h0d85af4_4
>>   c-ares             conda-forge/osx-64::c-ares-1.18.1-h0d85af4_0
>>   cairo              conda-forge/osx-64::cairo-1.16.0-hec6a9b0_1003
>>   cfitsio            conda-forge/osx-64::cfitsio-3.470-h01dc385_7
>>   curl               pkgs/main/osx-64::curl-7.78.0-h7bc2e8c_0
>>   expat              conda-forge/osx-64::expat-2.4.1-he49afe7_0
>>   fontconfig         conda-forge/osx-64::fontconfig-2.13.1-h10f422b_1005
>>   freetype           conda-forge/osx-64::freetype-2.10.4-h4cff582_1
>>   freexl             conda-forge/osx-64::freexl-1.0.6-h0d85af4_0
>>   gdal               pkgs/main/osx-64::gdal-3.0.2-py39ha6ec53f_1
>>   geos               pkgs/main/osx-64::geos-3.8.0-hb1e8313_0
>>   geotiff            pkgs/main/osx-64::geotiff-1.6.0-h02c1893_0
>>   gettext            pkgs/main/osx-64::gettext-0.21.0-h7535e17_0
>>   giflib             conda-forge/osx-64::giflib-5.2.1-hbcb3906_2
>>   glib               pkgs/main/osx-64::glib-2.69.1-hdf23fa2_0
>>   hdf4               pkgs/main/osx-64::hdf4-4.2.13-h39711bb_2
>>   hdf5               conda-forge/osx-64::hdf5-1.10.6-nompi_hc5d9132_1114
>>   icu                conda-forge/osx-64::icu-64.2-h6de7cb9_1
>>   jbig               conda-forge/osx-64::jbig-2.1-h0d85af4_2003
>>   jpeg               conda-forge/osx-64::jpeg-9d-hbcb3906_0
>>   json-c             conda-forge/osx-64::json-c-0.13.1-h575e443_1002
>>   kealib             conda-forge/osx-64::kealib-1.4.14-h31dd65d_2
>>   krb5               conda-forge/osx-64::krb5-1.19.2-hcfbf3a7_0
>>   lerc               conda-forge/osx-64::lerc-2.2.1-h046ec9c_0
>>   libblas            conda-forge/osx-64::libblas-3.9.0-12_osx64_openblas
>>   libcblas           conda-forge/osx-64::libcblas-3.9.0-12_osx64_openblas
>>   libcurl            pkgs/main/osx-64::libcurl-7.78.0-hb8e4fae_0
>>   libdap4            pkgs/main/osx-64::libdap4-3.19.1-h3d3e54a_0
>>   libdeflate         conda-forge/osx-64::libdeflate-1.7-h35c211d_5
>>   libedit            conda-forge/osx-64::libedit-3.1.20191231-h0678c8f_2
>>   libev              conda-forge/osx-64::libev-4.33-haf1e3a3_1
>>   libgdal            pkgs/main/osx-64::libgdal-3.0.2-ha1444b2_1
>>   libgfortran
>>  conda-forge/osx-64::libgfortran-5.0.0-9_3_0_h6c81a4c_23
>>   libgfortran5       conda-forge/osx-64::libgfortran5-9.3.0-h6c81a4c_23
>>   libiconv           conda-forge/osx-64::libiconv-1.16-haf1e3a3_0
>>   libkml             conda-forge/osx-64::libkml-1.3.0-h88bc94a_1012
>>   liblapack          conda-forge/osx-64::liblapack-3.9.0-12_osx64_openblas
>>   libnetcdf          pkgs/main/osx-64::libnetcdf-4.6.1-hfd9a460_4
>>   libnghttp2         conda-forge/osx-64::libnghttp2-1.43.0-h6f36284_1
>>   libopenblas
>>  conda-forge/osx-64::libopenblas-0.3.18-openmp_h3351f45_0
>>   libpng             conda-forge/osx-64::libpng-1.6.37-h7cec526_2
>>   libpq              pkgs/main/osx-64::libpq-12.2-h1b4eb34_1
>>   libspatialite      pkgs/main/osx-64::libspatialite-4.3.0a-h5142b36_0
>>   libssh2            conda-forge/osx-64::libssh2-1.10.0-h52ee1ee_2
>>   libtiff            conda-forge/osx-64::libtiff-4.3.0-h1167814_1
>>   libwebp-base       conda-forge/osx-64::libwebp-base-1.2.1-h0d85af4_0
>>   libxml2            conda-forge/osx-64::libxml2-2.9.10-h53d96d6_0
>>   llvm-openmp        conda-forge/osx-64::llvm-openmp-12.0.1-hda6cdc1_1
>>   lz4-c              conda-forge/osx-64::lz4-c-1.9.3-he49afe7_1
>>   numpy              conda-forge/osx-64::numpy-1.21.4-py39h7eed0ac_0
>>   openjpeg           conda-forge/osx-64::openjpeg-2.3.1-h6cbf5cd_3
>>   pcre               conda-forge/osx-64::pcre-8.45-he49afe7_0
>>   pixman             conda-forge/osx-64::pixman-0.38.0-h01d97ff_1003
>>   poppler            conda-forge/osx-64::poppler-0.89.0-h9de36d4_1
>>   poppler-data       conda-forge/noarch::poppler-data-0.4.11-hd8ed1ab_0
>>   postgresql         pkgs/main/osx-64::postgresql-12.2-h1b4eb34_1
>>   proj               conda-forge/osx-64::proj-6.2.1-h773a61f_0
>>   python_abi         conda-forge/osx-64::python_abi-3.9-2_cp39
>>   tiledb             conda-forge/osx-64::tiledb-2.3.4-h8370e7a_0
>>   xerces-c           conda-forge/osx-64::xerces-c-3.2.3-h8f8adb3_0
>>   zstd               conda-forge/osx-64::zstd-1.5.0-h582d3a0_0
>>
>> The following packages will be UPDATED:
>>
>>   ca-certificates    pkgs/main::ca-certificates-2021.7.5-h~ -->
>> conda-forge::ca-certificates-2021.10.8-h033912b_0
>>   certifi            pkgs/main::certifi-2021.5.30-py39hecd~ -->
>> conda-forge::certifi-2021.10.8-py39h6e9494a_1
>>   conda              pkgs/main::conda-4.10.3-py39hecd8cb5_0 -->
>> conda-forge::conda-4.11.0-py39h6e9494a_0
>>   libcxx                         pkgs/main::libcxx-10.0.0-1 -->
>> conda-forge::libcxx-12.0.1-habf9029_0
>>   openssl              pkgs/main::openssl-1.1.1k-h9ed2024_0 -->
>> conda-forge::openssl-1.1.1l-h0d85af4_0
>>
>>
>> Proceed ([y]/n)? y
>>
>>
>> Downloading and Extracting Packages
>> bzip2-1.0.8          | 155 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> fontconfig-2.13.1    | 271 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> krb5-1.19.2          | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> gdal-3.0.2           | 1.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> freetype-2.10.4      | 890 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> hdf5-1.10.6          | 3.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> proj-6.2.1           | 10.0 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libblas-3.9.0        | 12 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> lerc-2.2.1           | 164 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libgfortran-5.0.0    | 19 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> lz4-c-1.9.3          | 155 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libiconv-1.16        | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> icu-64.2             | 12.3 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libedit-3.1.20191231 | 103 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libxml2-2.9.10       | 1.2 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> python_abi-3.9       | 4 KB      |
>> #################################################################################################################################################################################################################################
>> | 100%
>> numpy-1.21.4         | 5.8 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> conda-4.11.0         | 16.9 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> ca-certificates-2021 | 139 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> poppler-0.89.0       | 1.6 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> liblapack-3.9.0      | 12 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> expat-2.4.1          | 143 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> boost-cpp-1.72.0     | 19.1 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> glib-2.69.1          | 2.7 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libgdal-3.0.2        | 10.4 MB   |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libspatialite-4.3.0a | 2.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libnetcdf-4.6.1      | 782 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> openssl-1.1.1l       | 1.9 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> hdf4-4.2.13          | 682 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libcurl-7.78.0       | 311 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> jpeg-9d              | 250 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> openjpeg-2.3.1       | 373 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libwebp-base-1.2.1   | 692 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> c-ares-1.18.1        | 100 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libdap4-3.19.1       | 1.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libpng-1.6.37        | 313 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> xerces-c-3.2.3       | 1.5 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libdeflate-1.7       | 67 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> geos-3.8.0           | 815 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> giflib-5.2.1         | 71 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libgfortran5-9.3.0   | 1.7 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libssh2-1.10.0       | 221 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libcxx-12.0.1        | 1.1 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libopenblas-0.3.18   | 9.0 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> geotiff-1.6.0        | 120 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libnghttp2-1.43.0    | 867 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> zstd-1.5.0           | 583 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libtiff-4.3.0        | 621 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libkml-1.3.0         | 473 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libcblas-3.9.0       | 12 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> tiledb-2.3.4         | 2.9 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> llvm-openmp-12.0.1   | 287 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> gettext-0.21.0       | 2.6 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> curl-7.78.0          | 133 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> pixman-0.38.0        | 611 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> json-c-0.13.1        | 66 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> cairo-1.16.0         | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> postgresql-12.2      | 3.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> jbig-2.1             | 42 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> certifi-2021.10.8    | 145 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libev-4.33           | 99 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> libpq-12.2           | 2.0 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> poppler-data-0.4.11  | 3.6 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> cfitsio-3.470        | 1.3 MB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> freexl-1.0.6         | 42 KB     |
>> #################################################################################################################################################################################################################################
>> | 100%
>> pcre-8.45            | 220 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> kealib-1.4.14        | 156 KB    |
>> #################################################################################################################################################################################################################################
>> | 100%
>> Preparing transaction: done
>> Verifying transaction: done
>> Executing transaction: done
>> (base) ?  ~ gdalinfo --version
>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>   Referenced from: /Users/idan.miara/opt/miniconda3/lib/libgdal.26.dylib
>>   Reason: image not found
>> [1]    76584 abort      gdalinfo --version
>> (base) ?  ~
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> --
>
> M.Sc. Geogr. Daniel Scheffler
>
> Helmholtz Centre Potsdam
> GFZ German Research Centre For Geosciences
> Department 1 - Geodesy and Remote Sensing
> Section 1.4  - Remote Sensing
> Telegrafenberg, 14473 Potsdam, Germany
>
> Phone:  +49 (0)331/288-1198
> e-mail: daniel.scheffler at gfz-potsdam.de
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/2679d38b/attachment-0001.html>

From runette at gmail.com  Thu Dec  9 04:57:55 2021
From: runette at gmail.com (Paul Harwood)
Date: Thu, 9 Dec 2021 12:57:55 +0000
Subject: [gdal-dev] gdal installation error on MacOS
 (libpoppler.91.dylib)
In-Reply-To: <CAEDrt3-TYWZhojc2fN3BBjD9CR0c01gbQ9rbiciEJWdL5zOcYw@mail.gmail.com>
References: <CAEDrt38-rk8iZv7HXXUJpOBFWdm=gAA4JPvG9hzwc=38j0Qz8Q@mail.gmail.com>
 <CAE8nN5MFNmieZCyygZ79xingB_4_+8=Oe7ekK262J-5kPiNTSQ@mail.gmail.com>
 <9df3a8ca-ee81-ed0f-5870-27e9840fd441@gfz-potsdam.de>
 <CAEDrt3-TYWZhojc2fN3BBjD9CR0c01gbQ9rbiciEJWdL5zOcYw@mail.gmail.com>
Message-ID: <CAE8nN5ME2AHoQ0_GfJLtKfh99sw1DhEq3G=6NLir76usNB7pQA@mail.gmail.com>

I think you would only have conflicts if you tried to use venv and conda in
the same environment/project because you would then end up trying to
use two different Python instances for one project and that will not work
:). You can use them separately on the same machine on a project by project
basis and conda and pip do live together.

On Thu, 9 Dec 2021 at 12:53, Idan Miara <idan at miara.com> wrote:

>
> Thanks for your help!
>
> I realised that since I use pyenv virtualenv then I might have conflicts
> if I also use conda.
> I ended up uninstalling conda and installing gdal with homebrew and pip.
> I will add some notes in the docs for how to avoid the pitfalls I
> encountered.
>
>
> On Tue, 7 Dec 2021 at 13:33, Daniel Scheffler <
> daniel.scheffler at gfz-potsdam.de> wrote:
>
>> If you installed into the base environment, you should rollback it to the
>> last clean revision. Use *conda list --revisions* to see which revision
>> number you need to use. Then use *conda install --revision N* (where N
>> is the revision number).
>>
>> You should also make sure that your conda package resolver is up-to-date
>> before creating a new environment for gdal.  Otherwise, it might happen
>> that conda installs an old gdal version. To update it, run *conda update
>> conda* or *conda update --all* in your base environment. Note hat you
>> may have to add *-c conda-forge* to avoid mixing up packages coming from
>> the *main *channel with those from the *conda-forge* channel.
>>
>>
>>
>> Am 07.12.2021 um 12:15 schrieb Paul Harwood:
>>
>> Results like that are usually caused because there is something already
>> in the conda environment that is causing a conflict and I notice that it is
>> installing into  /Users/idan.miara/opt/miniconda3 which would usually
>> mean you have installed into the "base" conda environment - which is not
>> usually the best idea.
>>
>> If you try ...
>>
>> conda create --name gdaltest
>> conda activate gdaltest
>> conda install -c conda-forge gdal
>>
>> {noteing that the name "gdaltest" in the first and second lines could be
>> any name for a conda environment that is not already in use}
>>
>> ... I am reasonably sure it will work.
>>
>> Then you just need to use the "gdaltest" environment when you want to use
>> conda.
>>
>> On Tue, 7 Dec 2021 at 09:03, Idan Miara <idan at miara.com> wrote:
>>
>>> Hi all,
>>>
>>> I'm trying to install gdal on MacOS Big Sur via conda.
>>> For some reason it installs v3.0.2, even though v3.4.0 is available.
>>> Also it doesn't run, and gives the following error:
>>>
>>> ~ gdalinfo --version
>>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>>
>>> Thanks!
>>> logs are below.
>>>
>>> Kind regards,
>>> Idan
>>>
>>>
>>> conda install -c conda-forge gdal
>>>
>>> Collecting package metadata (current_repodata.json): done
>>> Solving environment: done
>>>
>>> ## Package Plan ##
>>>
>>>   environment location: /Users/idan.miara/opt/miniconda3
>>>
>>>   added / updated specs:
>>>     - gdal
>>>
>>>
>>> The following packages will be downloaded:
>>>
>>>     package                    |            build
>>>     ---------------------------|-----------------
>>>     boost-cpp-1.72.0           |       hdf9ef73_0        19.1 MB
>>>  conda-forge
>>>     bzip2-1.0.8                |       h0d85af4_4         155 KB
>>>  conda-forge
>>>     c-ares-1.18.1              |       h0d85af4_0         100 KB
>>>  conda-forge
>>>     ca-certificates-2021.10.8  |       h033912b_0         139 KB
>>>  conda-forge
>>>     cairo-1.16.0               |    hec6a9b0_1003         1.3 MB
>>>  conda-forge
>>>     certifi-2021.10.8          |   py39h6e9494a_1         145 KB
>>>  conda-forge
>>>     cfitsio-3.470              |       h01dc385_7         1.3 MB
>>>  conda-forge
>>>     conda-4.11.0               |   py39h6e9494a_0        16.9 MB
>>>  conda-forge
>>>     curl-7.78.0                |       h7bc2e8c_0         133 KB
>>>     expat-2.4.1                |       he49afe7_0         143 KB
>>>  conda-forge
>>>     fontconfig-2.13.1          |    h10f422b_1005         271 KB
>>>  conda-forge
>>>     freetype-2.10.4            |       h4cff582_1         890 KB
>>>  conda-forge
>>>     freexl-1.0.6               |       h0d85af4_0          42 KB
>>>  conda-forge
>>>     gdal-3.0.2                 |   py39ha6ec53f_1         1.1 MB
>>>     geos-3.8.0                 |       hb1e8313_0         815 KB
>>>     geotiff-1.6.0              |       h02c1893_0         120 KB
>>>     gettext-0.21.0             |       h7535e17_0         2.6 MB
>>>     giflib-5.2.1               |       hbcb3906_2          71 KB
>>>  conda-forge
>>>     glib-2.69.1                |       hdf23fa2_0         2.7 MB
>>>     hdf4-4.2.13                |       h39711bb_2         682 KB
>>>     hdf5-1.10.6                |nompi_hc5d9132_1114         3.1 MB
>>>  conda-forge
>>>     icu-64.2                   |       h6de7cb9_1        12.3 MB
>>>  conda-forge
>>>     jbig-2.1                   |    h0d85af4_2003          42 KB
>>>  conda-forge
>>>     jpeg-9d                    |       hbcb3906_0         250 KB
>>>  conda-forge
>>>     json-c-0.13.1              |    h575e443_1002          66 KB
>>>  conda-forge
>>>     kealib-1.4.14              |       h31dd65d_2         156 KB
>>>  conda-forge
>>>     krb5-1.19.2                |       hcfbf3a7_0         1.3 MB
>>>  conda-forge
>>>     lerc-2.2.1                 |       h046ec9c_0         164 KB
>>>  conda-forge
>>>     libblas-3.9.0              |12_osx64_openblas          12 KB
>>>  conda-forge
>>>     libcblas-3.9.0             |12_osx64_openblas          12 KB
>>>  conda-forge
>>>     libcurl-7.78.0             |       hb8e4fae_0         311 KB
>>>     libcxx-12.0.1              |       habf9029_0         1.1 MB
>>>  conda-forge
>>>     libdap4-3.19.1             |       h3d3e54a_0         1.1 MB
>>>     libdeflate-1.7             |       h35c211d_5          67 KB
>>>  conda-forge
>>>     libedit-3.1.20191231       |       h0678c8f_2         103 KB
>>>  conda-forge
>>>     libev-4.33                 |       haf1e3a3_1          99 KB
>>>  conda-forge
>>>     libgdal-3.0.2              |       ha1444b2_1        10.4 MB
>>>     libgfortran-5.0.0          |9_3_0_h6c81a4c_23          19 KB
>>>  conda-forge
>>>     libgfortran5-9.3.0         |      h6c81a4c_23         1.7 MB
>>>  conda-forge
>>>     libiconv-1.16              |       haf1e3a3_0         1.3 MB
>>>  conda-forge
>>>     libkml-1.3.0               |    h88bc94a_1012         473 KB
>>>  conda-forge
>>>     liblapack-3.9.0            |12_osx64_openblas          12 KB
>>>  conda-forge
>>>     libnetcdf-4.6.1            |       hfd9a460_4         782 KB
>>>     libnghttp2-1.43.0          |       h6f36284_1         867 KB
>>>  conda-forge
>>>     libopenblas-0.3.18         |openmp_h3351f45_0         9.0 MB
>>>  conda-forge
>>>     libpng-1.6.37              |       h7cec526_2         313 KB
>>>  conda-forge
>>>     libpq-12.2                 |       h1b4eb34_1         2.0 MB
>>>     libspatialite-4.3.0a       |       h5142b36_0         2.1 MB
>>>     libssh2-1.10.0             |       h52ee1ee_2         221 KB
>>>  conda-forge
>>>     libtiff-4.3.0              |       h1167814_1         621 KB
>>>  conda-forge
>>>     libwebp-base-1.2.1         |       h0d85af4_0         692 KB
>>>  conda-forge
>>>     libxml2-2.9.10             |       h53d96d6_0         1.2 MB
>>>  conda-forge
>>>     llvm-openmp-12.0.1         |       hda6cdc1_1         287 KB
>>>  conda-forge
>>>     lz4-c-1.9.3                |       he49afe7_1         155 KB
>>>  conda-forge
>>>     numpy-1.21.4               |   py39h7eed0ac_0         5.8 MB
>>>  conda-forge
>>>     openjpeg-2.3.1             |       h6cbf5cd_3         373 KB
>>>  conda-forge
>>>     openssl-1.1.1l             |       h0d85af4_0         1.9 MB
>>>  conda-forge
>>>     pcre-8.45                  |       he49afe7_0         220 KB
>>>  conda-forge
>>>     pixman-0.38.0              |    h01d97ff_1003         611 KB
>>>  conda-forge
>>>     poppler-0.89.0             |       h9de36d4_1         1.6 MB
>>>  conda-forge
>>>     poppler-data-0.4.11        |       hd8ed1ab_0         3.6 MB
>>>  conda-forge
>>>     postgresql-12.2            |       h1b4eb34_1         3.3 MB
>>>     proj-6.2.1                 |       h773a61f_0        10.0 MB
>>>  conda-forge
>>>     python_abi-3.9             |           2_cp39           4 KB
>>>  conda-forge
>>>     tiledb-2.3.4               |       h8370e7a_0         2.9 MB
>>>  conda-forge
>>>     xerces-c-3.2.3             |       h8f8adb3_0         1.5 MB
>>>  conda-forge
>>>     zstd-1.5.0                 |       h582d3a0_0         583 KB
>>>  conda-forge
>>>     ------------------------------------------------------------
>>>                                            Total:       133.2 MB
>>>
>>> The following NEW packages will be INSTALLED:
>>>
>>>   boost-cpp          conda-forge/osx-64::boost-cpp-1.72.0-hdf9ef73_0
>>>   bzip2              conda-forge/osx-64::bzip2-1.0.8-h0d85af4_4
>>>   c-ares             conda-forge/osx-64::c-ares-1.18.1-h0d85af4_0
>>>   cairo              conda-forge/osx-64::cairo-1.16.0-hec6a9b0_1003
>>>   cfitsio            conda-forge/osx-64::cfitsio-3.470-h01dc385_7
>>>   curl               pkgs/main/osx-64::curl-7.78.0-h7bc2e8c_0
>>>   expat              conda-forge/osx-64::expat-2.4.1-he49afe7_0
>>>   fontconfig         conda-forge/osx-64::fontconfig-2.13.1-h10f422b_1005
>>>   freetype           conda-forge/osx-64::freetype-2.10.4-h4cff582_1
>>>   freexl             conda-forge/osx-64::freexl-1.0.6-h0d85af4_0
>>>   gdal               pkgs/main/osx-64::gdal-3.0.2-py39ha6ec53f_1
>>>   geos               pkgs/main/osx-64::geos-3.8.0-hb1e8313_0
>>>   geotiff            pkgs/main/osx-64::geotiff-1.6.0-h02c1893_0
>>>   gettext            pkgs/main/osx-64::gettext-0.21.0-h7535e17_0
>>>   giflib             conda-forge/osx-64::giflib-5.2.1-hbcb3906_2
>>>   glib               pkgs/main/osx-64::glib-2.69.1-hdf23fa2_0
>>>   hdf4               pkgs/main/osx-64::hdf4-4.2.13-h39711bb_2
>>>   hdf5               conda-forge/osx-64::hdf5-1.10.6-nompi_hc5d9132_1114
>>>   icu                conda-forge/osx-64::icu-64.2-h6de7cb9_1
>>>   jbig               conda-forge/osx-64::jbig-2.1-h0d85af4_2003
>>>   jpeg               conda-forge/osx-64::jpeg-9d-hbcb3906_0
>>>   json-c             conda-forge/osx-64::json-c-0.13.1-h575e443_1002
>>>   kealib             conda-forge/osx-64::kealib-1.4.14-h31dd65d_2
>>>   krb5               conda-forge/osx-64::krb5-1.19.2-hcfbf3a7_0
>>>   lerc               conda-forge/osx-64::lerc-2.2.1-h046ec9c_0
>>>   libblas            conda-forge/osx-64::libblas-3.9.0-12_osx64_openblas
>>>   libcblas           conda-forge/osx-64::libcblas-3.9.0-12_osx64_openblas
>>>   libcurl            pkgs/main/osx-64::libcurl-7.78.0-hb8e4fae_0
>>>   libdap4            pkgs/main/osx-64::libdap4-3.19.1-h3d3e54a_0
>>>   libdeflate         conda-forge/osx-64::libdeflate-1.7-h35c211d_5
>>>   libedit            conda-forge/osx-64::libedit-3.1.20191231-h0678c8f_2
>>>   libev              conda-forge/osx-64::libev-4.33-haf1e3a3_1
>>>   libgdal            pkgs/main/osx-64::libgdal-3.0.2-ha1444b2_1
>>>   libgfortran
>>>  conda-forge/osx-64::libgfortran-5.0.0-9_3_0_h6c81a4c_23
>>>   libgfortran5       conda-forge/osx-64::libgfortran5-9.3.0-h6c81a4c_23
>>>   libiconv           conda-forge/osx-64::libiconv-1.16-haf1e3a3_0
>>>   libkml             conda-forge/osx-64::libkml-1.3.0-h88bc94a_1012
>>>   liblapack
>>>  conda-forge/osx-64::liblapack-3.9.0-12_osx64_openblas
>>>   libnetcdf          pkgs/main/osx-64::libnetcdf-4.6.1-hfd9a460_4
>>>   libnghttp2         conda-forge/osx-64::libnghttp2-1.43.0-h6f36284_1
>>>   libopenblas
>>>  conda-forge/osx-64::libopenblas-0.3.18-openmp_h3351f45_0
>>>   libpng             conda-forge/osx-64::libpng-1.6.37-h7cec526_2
>>>   libpq              pkgs/main/osx-64::libpq-12.2-h1b4eb34_1
>>>   libspatialite      pkgs/main/osx-64::libspatialite-4.3.0a-h5142b36_0
>>>   libssh2            conda-forge/osx-64::libssh2-1.10.0-h52ee1ee_2
>>>   libtiff            conda-forge/osx-64::libtiff-4.3.0-h1167814_1
>>>   libwebp-base       conda-forge/osx-64::libwebp-base-1.2.1-h0d85af4_0
>>>   libxml2            conda-forge/osx-64::libxml2-2.9.10-h53d96d6_0
>>>   llvm-openmp        conda-forge/osx-64::llvm-openmp-12.0.1-hda6cdc1_1
>>>   lz4-c              conda-forge/osx-64::lz4-c-1.9.3-he49afe7_1
>>>   numpy              conda-forge/osx-64::numpy-1.21.4-py39h7eed0ac_0
>>>   openjpeg           conda-forge/osx-64::openjpeg-2.3.1-h6cbf5cd_3
>>>   pcre               conda-forge/osx-64::pcre-8.45-he49afe7_0
>>>   pixman             conda-forge/osx-64::pixman-0.38.0-h01d97ff_1003
>>>   poppler            conda-forge/osx-64::poppler-0.89.0-h9de36d4_1
>>>   poppler-data       conda-forge/noarch::poppler-data-0.4.11-hd8ed1ab_0
>>>   postgresql         pkgs/main/osx-64::postgresql-12.2-h1b4eb34_1
>>>   proj               conda-forge/osx-64::proj-6.2.1-h773a61f_0
>>>   python_abi         conda-forge/osx-64::python_abi-3.9-2_cp39
>>>   tiledb             conda-forge/osx-64::tiledb-2.3.4-h8370e7a_0
>>>   xerces-c           conda-forge/osx-64::xerces-c-3.2.3-h8f8adb3_0
>>>   zstd               conda-forge/osx-64::zstd-1.5.0-h582d3a0_0
>>>
>>> The following packages will be UPDATED:
>>>
>>>   ca-certificates    pkgs/main::ca-certificates-2021.7.5-h~ -->
>>> conda-forge::ca-certificates-2021.10.8-h033912b_0
>>>   certifi            pkgs/main::certifi-2021.5.30-py39hecd~ -->
>>> conda-forge::certifi-2021.10.8-py39h6e9494a_1
>>>   conda              pkgs/main::conda-4.10.3-py39hecd8cb5_0 -->
>>> conda-forge::conda-4.11.0-py39h6e9494a_0
>>>   libcxx                         pkgs/main::libcxx-10.0.0-1 -->
>>> conda-forge::libcxx-12.0.1-habf9029_0
>>>   openssl              pkgs/main::openssl-1.1.1k-h9ed2024_0 -->
>>> conda-forge::openssl-1.1.1l-h0d85af4_0
>>>
>>>
>>> Proceed ([y]/n)? y
>>>
>>>
>>> Downloading and Extracting Packages
>>> bzip2-1.0.8          | 155 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> fontconfig-2.13.1    | 271 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> krb5-1.19.2          | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> gdal-3.0.2           | 1.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> freetype-2.10.4      | 890 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> hdf5-1.10.6          | 3.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> proj-6.2.1           | 10.0 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libblas-3.9.0        | 12 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> lerc-2.2.1           | 164 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libgfortran-5.0.0    | 19 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> lz4-c-1.9.3          | 155 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libiconv-1.16        | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> icu-64.2             | 12.3 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libedit-3.1.20191231 | 103 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libxml2-2.9.10       | 1.2 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> python_abi-3.9       | 4 KB      |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> numpy-1.21.4         | 5.8 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> conda-4.11.0         | 16.9 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> ca-certificates-2021 | 139 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> poppler-0.89.0       | 1.6 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> liblapack-3.9.0      | 12 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> expat-2.4.1          | 143 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> boost-cpp-1.72.0     | 19.1 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> glib-2.69.1          | 2.7 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libgdal-3.0.2        | 10.4 MB   |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libspatialite-4.3.0a | 2.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libnetcdf-4.6.1      | 782 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> openssl-1.1.1l       | 1.9 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> hdf4-4.2.13          | 682 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libcurl-7.78.0       | 311 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> jpeg-9d              | 250 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> openjpeg-2.3.1       | 373 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libwebp-base-1.2.1   | 692 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> c-ares-1.18.1        | 100 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libdap4-3.19.1       | 1.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libpng-1.6.37        | 313 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> xerces-c-3.2.3       | 1.5 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libdeflate-1.7       | 67 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> geos-3.8.0           | 815 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> giflib-5.2.1         | 71 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libgfortran5-9.3.0   | 1.7 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libssh2-1.10.0       | 221 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libcxx-12.0.1        | 1.1 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libopenblas-0.3.18   | 9.0 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> geotiff-1.6.0        | 120 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libnghttp2-1.43.0    | 867 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> zstd-1.5.0           | 583 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libtiff-4.3.0        | 621 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libkml-1.3.0         | 473 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libcblas-3.9.0       | 12 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> tiledb-2.3.4         | 2.9 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> llvm-openmp-12.0.1   | 287 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> gettext-0.21.0       | 2.6 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> curl-7.78.0          | 133 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> pixman-0.38.0        | 611 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> json-c-0.13.1        | 66 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> cairo-1.16.0         | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> postgresql-12.2      | 3.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> jbig-2.1             | 42 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> certifi-2021.10.8    | 145 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libev-4.33           | 99 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> libpq-12.2           | 2.0 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> poppler-data-0.4.11  | 3.6 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> cfitsio-3.470        | 1.3 MB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> freexl-1.0.6         | 42 KB     |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> pcre-8.45            | 220 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> kealib-1.4.14        | 156 KB    |
>>> #################################################################################################################################################################################################################################
>>> | 100%
>>> Preparing transaction: done
>>> Verifying transaction: done
>>> Executing transaction: done
>>> (base) ?  ~ gdalinfo --version
>>> dyld: Library not loaded: @rpath/libpoppler.91.dylib
>>>   Referenced from: /Users/idan.miara/opt/miniconda3/lib/libgdal.26.dylib
>>>   Reason: image not found
>>> [1]    76584 abort      gdalinfo --version
>>> (base) ?  ~
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>> _______________________________________________
>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>> --
>>
>> M.Sc. Geogr. Daniel Scheffler
>>
>> Helmholtz Centre Potsdam
>> GFZ German Research Centre For Geosciences
>> Department 1 - Geodesy and Remote Sensing
>> Section 1.4  - Remote Sensing
>> Telegrafenberg, 14473 Potsdam, Germany
>>
>> Phone:  +49 (0)331/288-1198
>> e-mail: daniel.scheffler at gfz-potsdam.de
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/88f7be95/attachment-0001.html>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Dec  9 05:56:46 2021
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Thu, 9 Dec 2021 13:56:46 +0000
Subject: [gdal-dev] ogrinfo XML (AIXM)
Message-ID: <088bcf01cc5548dc92b1c6c01b62c268@maanmittauslaitos.fi>

Hi,

Please try the unsubscribe link at the bottom of the mailing list info page https://lists.osgeo.org/mailman/listinfo/gdal-dev.

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Baker (US), Anthony W
L?hetetty: torstai 9. joulukuuta 2021 14.02
Vastaanottaja: gdal-dev at lists.osgeo.org
Aihe: Re: [gdal-dev] ogrinfo XML (AIXM)

Please remove me from this email distribution.

Thank you

From: gdal-dev [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of paul.malm at lfv.se<mailto:paul.malm at lfv.se>
Sent: Thursday, December 09, 2021 3:52 AM
To: even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: [EXTERNAL] Re: [gdal-dev] ogrinfo XML (AIXM)


EXT email: be mindful of links/attachments.




Is this the correct syntax:
C:\>ogrinfo GMLAS:c:\Temp\data\Mydata.GML

I get the error:
ERROR 3: Cannot resolve http://www.aixm.aero/schema/4.5/AIXM-Snapshot.xsd
FAILURE:
Unable to open datasource `GMLAS:c:\Temp\eaddata\EADdata.GML' with the following drivers.
  -> BAG
  -> JP2ECW
  -> FITS
  -> netCDF
  -> PDF
  -> AmigoCloud
  -> FileGDB
  -> ESRIC
  -> PCIDSK
  -> PDS4
  -> VICAR
  -> JP2OpenJPEG
  -> MBTiles
  -> EEDA
  -> OGCAPI
  -> DB2ODBC
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> LVBAG
  -> OGR_SDTS
  -> S57
  -> DGN
  -> OGR_VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> NAS
  -> GML
  -> GPX
  -> LIBKML
  -> KML
  -> GeoJSON
  -> GeoJSONSeq
  -> ESRIJSON
  -> TopoJSON
  -> Interlis 1
  -> Interlis 2
  -> OGR_GMT
  -> GPKG
  -> SQLite
  -> ODBC
  -> WAsP
  -> PGeo
  -> MSSQLSpatial
  -> OGR_OGDI
  -> PostgreSQL
  -> MySQL
  -> OpenFileGDB
  -> XPlane
  -> DXF
  -> CAD
  -> FlatGeobuf
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK
  -> PGDUMP
  -> OSM
  -> GPSBabel
  -> SUA
  -> OpenAir
  -> OGR_PDS
  -> WFS
  -> OAPIF
  -> HTF
  -> AeronavFAA
  -> Geomedia
  -> EDIGEO
  -> SVG
  -> CouchDB
  -> Cloudant
  -> Idrisi
  -> ARCGEN
  -> SEGUKOOA
  -> SEGY
  -> ODS
  -> XLSX
  -> Elasticsearch
  -> Walk
  -> Carto
  -> SXF
  -> Selafin
  -> JML
  -> PLSCENES
  -> CSW
  -> VDV
  -> GMLAS
  -> MVT
  -> NGW
  -> MapML
  -> TIGER
  -> AVCBin
  -> AVCE00
  -> HTTP

Kind regards,
Paul

Fr?n: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> F?r Even Rouault
Skickat: den 8 december 2021 14:17
Till: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
?mne: Re: [gdal-dev] ogrinfo XML (AIXM)


Klicka bara p? l?nkar och ?ppna bilagor om du litar p? avs?ndaren och vet att inneh?llet ?r s?kert.

Paul,

the GML driver can open some formulation of AIXM, but probably not all.

You may also try the generic GMLAS driver: https://gdal.org/drivers/vector/gmlas.html<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=uz6vvUD3oCT_jv_J5c_6KFuW0bs7EadIzr6OyxIasmJB9f0PvrKackVIBaRsFK-0stBeq1jraWibIe0x4V8n-DqK_LxdtuDwLz4StmNGea8b709nnGHKo6LHjY6UtNxFRoL3LvpEKfLl3hjdjYHY9syToDuM2pO38ed50RsrAYxQmOxUUkTk4lJsAL576_C7ixRLkb6v0gGEBz19nHYgwz5tF4VetmM5wctrqTBPzgnGA3Vrxc60mpoDN6zujvfITr8U2NsMq8ucDdCh1a-zyQsms4KWk3XQaSgMr54DgjA>

Even
Le 08/12/2021 ? 14:06, paul.malm at lfv.se<mailto:paul.malm at lfv.se> a ?crit :
Hi,
I'm trying to read a XML (AIXM) file. But ogrinfo says it can't be read with either  KML, KMZ or GML installed drivers (among other formats).
Is there anything I must do, the GML, KML, KMZ drivers are there. I'm working in Windows 10.
Kind Regards,
Paul


    [1_LFV_svensk_96]
  Paul Malm

  Operations / AIM Flyginfo SE



  Direkt  08-797 70 23  Mobil 070-860 11 15
  paul.malm at lfv.se<mailto:paul.malm at lfv.se>
   Bes?ks- och postadress
   LFV Flyginfo SE
   Af Pontins v?g 6
   115 21 STOCKHOLM







   T?nk p? milj?n innan du skriver ut detta e-postmeddelande.







_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=8cQdqlhVp6efzQPPPMP2SSoz1twQoc-Brn1LHEqN6oLcHdKYGbwOMLaS1ud2-c3K2wJz_BjWpsvl_sFiClF25Mkjf26TUJ0lngn57KfU5_1pvRYlSzF-TSRVK7FmkE2-lN-FzsJrpQ_uALYChCE8uKG44TrZXaSjXrm6_g5glOMqqxyXu2se8hTXiVV0TcMyWT0PM6bRtDidilS2e5dRAkGN4FniHqO-r279Xxlxc_0BS-JA8pt3peQIVgFzxvXtOViQeKZo18om84eSdbwiswYDunnqEYA2qSjoRj7hSPISZXTR0sM0VLk1J7OS85xk>

--

http://www.spatialys.com<https://url11b.mailanyone.net/v1/?m=1muwp2-00020I-3x&i=57e1b682&c=YwQqpD2eaPwcv6LDZBcVDWMnjpiEULCacsUNFprErGwVLGI8CsHK3CFLDUm1C9iguPEKghMKrE1S38rRIq9iX0dMmZ8_TZG28jNN05jm0SSkJg9nYMej-gdcJAdasx1eJ5jQflEf3TPJBK-Ny18ruljafZ8yd5uCbB3JPK79JbPtzHZFMCGNPSMCCnAxtihQnz7g-LFEjGKX5k1jAJ3zg-I1V5yEWedzV9cAzxofReXeozuQNOdAjImHBEhMrH-SC5OU3ZABTJyNhCfym4wWfg>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/5dd5e7a9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 3211 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/5dd5e7a9/attachment-0001.jpg>

From simon.eves at omnisci.com  Thu Dec  9 11:32:41 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Thu, 9 Dec 2021 11:32:41 -0800
Subject: [gdal-dev] netCDF multi-dimensional support
Message-ID: <CAJf0KTSCub8PaLD6Zc8nFSg8niZ8jt5Dq_Q9ZTYU88piRgO1Dw@mail.gmail.com>

I am trying to build GDAL 3.4.0 with "full" netCDF support, but getting
different results on my two machines, both Ubuntu 20.04 with
supposedly-the-same dev environment.

Both have the libnetcdf-dev (4.7.3) apt package installed, and both have
working nc-config, which reports the same thing on both.

I am configuring GDAL as follows:

./configure --prefix=$PREFIX --without-geos --with-libkml=$PREFIX
--with-proj=$PREFIX --with-libtiff=internal --with-geotiff=internal
--with-netcdf=yes

Both configure logs attached.
____________________________________________________________________

OLD (works)

$ apt list --installed | egrep -i "hdf|cdf"
hdf5-helpers/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
libhdf4-0-alt/focal,now 4.2.14-1ubuntu1 amd64 [installed,automatic]
libhdf4-alt-dev/focal,now 4.2.14-1ubuntu1 amd64 [installed,automatic]
libhdf5-103/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
libhdf5-cpp-103/focal,now 1.10.4+repack-11ubuntu1 amd64
[installed,automatic]
libhdf5-dev/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
libnetcdf-dev/focal,now 1:4.7.3-1 amd64 [installed,automatic]
libnetcdf15/focal,now 1:4.7.3-1 amd64 [installed,automatic]

$ gdalinfo --formats | egrep -i "hdf|cdf"
GMT -raster- (rw): GMT NetCDF Grid Format
netCDF -raster,multidimensional raster,vector- (rw+vs): Network Common Data
Format
HDF4 -raster,multidimensional raster- (ros): Hierarchical Data Format
Release 4
HDF4Image -raster- (rw+): HDF4 Dataset
HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data Format
Release 5
HDF5Image -raster- (rov): HDF5 Dataset

$ gdalinfo file.nc | head -1
Driver: netCDF/Network Common Data Format

File imports fine
____________________________________________________________________

NEW (problematic)

$ apt list --installed | egrep -i "hdf|cdf"
hdf5-helpers/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
libhdf5-103/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
libhdf5-cpp-103/focal,now 1.10.4+repack-11ubuntu1 amd64
[installed,automatic]
libhdf5-dev/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
libnetcdf-dev/focal,now 1:4.7.3-1 amd64 [installed]
libnetcdf15/focal,now 1:4.7.3-1 amd64 [installed,automatic]

$ gdalinfo --formats | egrep -i "hdf|cdf"
GMT -raster- (rw): GMT NetCDF Grid Format
netCDF -raster,vector- (rw+s): Network Common Data Format
HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data Format
Release 5
HDF5Image -raster- (rov): HDF5 Dataset

$ gdalinfo file.nc | head -1
Driver: HDF5/Hierarchical Data Format Release 5

Some sub-datasets will not open
____________________________________________________________________

Note that the old machine already had HDR4 libs (and consequentially GDAL
built with support for that too, even though I did not explicitly reqiuest
HDF4 or HDF5 support in the configure), which may be the issue, although I
am loath to just install HDF4 on the new (freshly built two weeks ago)
machine if I don't need to.

On the old machine, gdalinfo reports the file as netCDF just fine, and the
netCDF driver claims to have multi-dimensional support. The driver on the
new one does not, and the file reports as plain HDF5, and some sub-datasets
will not open (presumably multi-dimensional ones!)

I am failing to find anything in the docs about the dependency chain here,
or anything about having to explicitly enable multi-dimensional support in
the build.

I don't know if the netCDF file in question is public-domain, so I would
rather not send it to you at this time. I can find out, if that would help,
although I doubt the file itself is the issue.

Please advise. Thanks! :)

Simon

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/dbc46932/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: configure_new.log
Type: text/x-log
Size: 23010 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/dbc46932/attachment-0002.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: configure_old.log
Type: text/x-log
Size: 22641 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/dbc46932/attachment-0003.bin>

From simon.eves at omnisci.com  Thu Dec  9 12:04:33 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Thu, 9 Dec 2021 12:04:33 -0800
Subject: [gdal-dev] netCDF multi-dimensional support
In-Reply-To: <CAJf0KTSCub8PaLD6Zc8nFSg8niZ8jt5Dq_Q9ZTYU88piRgO1Dw@mail.gmail.com>
References: <CAJf0KTSCub8PaLD6Zc8nFSg8niZ8jt5Dq_Q9ZTYU88piRgO1Dw@mail.gmail.com>
Message-ID: <CAJf0KTRTHLua5-w2SGV2QwFG=R8QvDvDuJLc=M6gLM9ctjiK5A@mail.gmail.com>

OK, so I changed my mind and went ahead and installed libhdf4-alt-dev on
the new box, to match the old, and rebuilt GDAL the same way.

Now everything matches.

The GDAL build is therefore silently behaving differently based on the
presence or absence of HDF4.

Please advise of the actual dependencies and correct options here, as I
will need to get this working in our production dependencies bundle build
too.

Thanks!

Simon

On Thu, Dec 9, 2021 at 11:32 AM Simon Eves <simon.eves at omnisci.com> wrote:

> I am trying to build GDAL 3.4.0 with "full" netCDF support, but getting
> different results on my two machines, both Ubuntu 20.04 with
> supposedly-the-same dev environment.
>
> Both have the libnetcdf-dev (4.7.3) apt package installed, and both have
> working nc-config, which reports the same thing on both.
>
> I am configuring GDAL as follows:
>
> ./configure --prefix=$PREFIX --without-geos --with-libkml=$PREFIX
> --with-proj=$PREFIX --with-libtiff=internal --with-geotiff=internal
> --with-netcdf=yes
>
> Both configure logs attached.
> ____________________________________________________________________
>
> OLD (works)
>
> $ apt list --installed | egrep -i "hdf|cdf"
> hdf5-helpers/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
> libhdf4-0-alt/focal,now 4.2.14-1ubuntu1 amd64 [installed,automatic]
> libhdf4-alt-dev/focal,now 4.2.14-1ubuntu1 amd64 [installed,automatic]
> libhdf5-103/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
> libhdf5-cpp-103/focal,now 1.10.4+repack-11ubuntu1 amd64
> [installed,automatic]
> libhdf5-dev/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
> libnetcdf-dev/focal,now 1:4.7.3-1 amd64 [installed,automatic]
> libnetcdf15/focal,now 1:4.7.3-1 amd64 [installed,automatic]
>
> $ gdalinfo --formats | egrep -i "hdf|cdf"
> GMT -raster- (rw): GMT NetCDF Grid Format
> netCDF -raster,multidimensional raster,vector- (rw+vs): Network Common
> Data Format
> HDF4 -raster,multidimensional raster- (ros): Hierarchical Data Format
> Release 4
> HDF4Image -raster- (rw+): HDF4 Dataset
> HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data Format
> Release 5
> HDF5Image -raster- (rov): HDF5 Dataset
>
> $ gdalinfo file.nc | head -1
> Driver: netCDF/Network Common Data Format
>
> File imports fine
> ____________________________________________________________________
>
> NEW (problematic)
>
> $ apt list --installed | egrep -i "hdf|cdf"
> hdf5-helpers/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
> libhdf5-103/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
> libhdf5-cpp-103/focal,now 1.10.4+repack-11ubuntu1 amd64
> [installed,automatic]
> libhdf5-dev/focal,now 1.10.4+repack-11ubuntu1 amd64 [installed,automatic]
> libnetcdf-dev/focal,now 1:4.7.3-1 amd64 [installed]
> libnetcdf15/focal,now 1:4.7.3-1 amd64 [installed,automatic]
>
> $ gdalinfo --formats | egrep -i "hdf|cdf"
> GMT -raster- (rw): GMT NetCDF Grid Format
> netCDF -raster,vector- (rw+s): Network Common Data Format
> HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data Format
> Release 5
> HDF5Image -raster- (rov): HDF5 Dataset
>
> $ gdalinfo file.nc | head -1
> Driver: HDF5/Hierarchical Data Format Release 5
>
> Some sub-datasets will not open
> ____________________________________________________________________
>
> Note that the old machine already had HDR4 libs (and consequentially GDAL
> built with support for that too, even though I did not explicitly reqiuest
> HDF4 or HDF5 support in the configure), which may be the issue, although I
> am loath to just install HDF4 on the new (freshly built two weeks ago)
> machine if I don't need to.
>
> On the old machine, gdalinfo reports the file as netCDF just fine, and the
> netCDF driver claims to have multi-dimensional support. The driver on the
> new one does not, and the file reports as plain HDF5, and some sub-datasets
> will not open (presumably multi-dimensional ones!)
>
> I am failing to find anything in the docs about the dependency chain here,
> or anything about having to explicitly enable multi-dimensional support in
> the build.
>
> I don't know if the netCDF file in question is public-domain, so I would
> rather not send it to you at this time. I can find out, if that would help,
> although I doubt the file itself is the issue.
>
> Please advise. Thanks! :)
>
> Simon
>
> --
> <http://www.omnisci.com/>
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
>
>

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/8d7b9c91/attachment.html>

From even.rouault at spatialys.com  Thu Dec  9 12:27:59 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 9 Dec 2021 21:27:59 +0100
Subject: [gdal-dev] Access window out of range error with standard utils
In-Reply-To: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>
References: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>
Message-ID: <7b81f2b0-5d45-a9bc-833a-21cd0177fa54@spatialys.com>

Hi,

fixed per https://github.com/OSGeo/gdal/pull/4965

you can likely workaround the issue by running gdaladdo on the .vrt.msk 
prior to COGification

Even

Le 08/12/2021 ? 18:35, Matt.Wilkie at yukon.ca a ?crit?:
>
> Hello,
>
> Why is gdal off by one for the access window? I?m using standard 
> utilities, no custom code. This is only happening (so far) on one file 
> out of dozens.
>
> ```
>
> $ gdal_translate -co compress=zstd -co predictor=yes -co level=17 ^
>
> ?-co bigtiff=yes -of cog INFILE.rgb-nir.vrt OUTFILE.tif
>
> Input file size is 31918, 34252
>
> 0.ERROR 5: Access window out of range in RasterIO().? Requested
>
> (0,0) of size 250x268 on raster of 249x267.
>
> ```
>
> This is one step of a process where I?m taking two 3-band 
> jpeg-in-geotiff images, defining a nodata mask, and creating a final 
> 4-band cloud geotiff. Preceding steps to this one are:
>
> gdal_translate -b 1 RGB.tif ?b-red.vrt
>
> gdal_translate -b 2 RGB.tif ?b-grn.vrt
>
> gdal_translate -b 3 RGB.tif ?b-blu.vrt
>
> gdal_translate -b 1 432.tif ?b-nir.vrt
>
> gdalbuildvrt -separate INFILE.rgb-nir.vrt ^
>
> ? b-red.vrt b-grn.vrt b-blu.vrt b-nir.vrt
>
> gdal_translate INFILE.rgb-nir.vrt xx-to-mask.tif
>
> nearblack ?setmask xx-to-mask.tif
>
> move xx-mask.tif.msk INFILE.rgb-nir.vrt.msk
>
> del xx-mask.tif
>
> gdal_translate INFILE.rgb-nir.vrt OUTFILE.tif
>
> (Edited for legibility, options used are left out)
>
> Gdalinfo reports the size of each image are the same:
>
> $ findstr "Size" *.gdal-info
>
> RGB.b-blu.vrt.gdal-info:Size is 31918, 34252
>
> RGB.b-blu.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> RGB.b-grn.vrt.gdal-info:Size is 31918, 34252
>
> RGB.b-grn.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> RGB.b-red.vrt.gdal-info:Size is 31918, 34252
>
> RGB.b-red.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> 432.b-nir.vrt.gdal-info:Size is 31918, 34252
>
> 432.b-nir.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> INFILE.rgb-nir.vrt.gdal-info:Size is 31918, 34252
>
> INFILE.rgb-nir.vrt.gdal-info:Pixel Size = 
> (1.500000000000000,-1.500000000000000)
>
> INFILE.rgb-nir.vrt.msk.gdal-info:Size is 31918, 34252
>
> The source VRT and gdalinfo reports are attached.
>
> GDAL 3.3.2, released 2021/09/01 via Qgis 3.22 on Windows 10.
>
> *Matt Wilkie*
>
> Geomatics Developer & Administrator
>
> Environment | Technology, Innovation and Mapping
>
> T 867-667-8133 | _Yukon.ca <http://yukon.ca/>_
>
> /Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away./
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/667bb0c8/attachment-0001.html>

From Matt.Wilkie at yukon.ca  Thu Dec  9 12:53:02 2021
From: Matt.Wilkie at yukon.ca (Matt.Wilkie at yukon.ca)
Date: Thu, 9 Dec 2021 20:53:02 +0000
Subject: [gdal-dev] Access window out of range error with standard utils
In-Reply-To: <7b81f2b0-5d45-a9bc-833a-21cd0177fa54@spatialys.com>
References: <af517a4f309c41ad8b265fec6927a35d@yukon.ca>
 <7b81f2b0-5d45-a9bc-833a-21cd0177fa54@spatialys.com>
Message-ID: <c06342fd0b87411d99a2e4b482b169a8@yukon.ca>

Thanks Even!

I confirm `gdaladdo infile.ext.msk` is a valid workaround on all the problem files I've encountered it so far (about 7).

-Matt

From: Even Rouault <even.rouault at spatialys.com>
Sent: December 9, 2021 1:28 PM
To: Matt.Wilkie <Matt.Wilkie at yukon.ca>; gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Access window out of range error with standard utils


*** External email: Do not click on links or attachments except from trusted senders. ***

******************************************************************************************




Hi,

fixed per https://github.com/OSGeo/gdal/pull/4965<https://imsva91-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fgithub.com%2fOSGeo%2fgdal%2fpull%2f4965&umid=FBA1B73B-D2BC-7105-950E-C186D8127588&auth=c132af8ee7c9d1278d61a701569070a095ce962e-a9aa93d5efc34217ade976530e4f23ea2fd423a9>

you can likely workaround the issue by running gdaladdo on the .vrt.msk prior to COGification

Even
Le 08/12/2021 ? 18:35, Matt.Wilkie at yukon.ca<mailto:Matt.Wilkie at yukon.ca> a ?crit :
Hello,

Why is gdal off by one for the access window? I'm using standard utilities, no custom code. This is only happening (so far) on one file out of dozens.

```
$ gdal_translate -co compress=zstd -co predictor=yes -co level=17 ^
 -co bigtiff=yes -of cog INFILE.rgb-nir.vrt OUTFILE.tif
Input file size is 31918, 34252
0.ERROR 5: Access window out of range in RasterIO().  Requested
(0,0) of size 250x268 on raster of 249x267.
```

This is one step of a process where I'm taking two 3-band jpeg-in-geotiff images, defining a nodata mask, and creating a final 4-band cloud geotiff. Preceding steps to this one are:

gdal_translate -b 1 RGB.tif  b-red.vrt
gdal_translate -b 2 RGB.tif  b-grn.vrt
gdal_translate -b 3 RGB.tif  b-blu.vrt
gdal_translate -b 1 432.tif  b-nir.vrt

gdalbuildvrt -separate INFILE.rgb-nir.vrt ^
  b-red.vrt b-grn.vrt b-blu.vrt b-nir.vrt

gdal_translate INFILE.rgb-nir.vrt xx-to-mask.tif
nearblack -setmask xx-to-mask.tif
move xx-mask.tif.msk INFILE.rgb-nir.vrt.msk
del xx-mask.tif

gdal_translate INFILE.rgb-nir.vrt OUTFILE.tif

(Edited for legibility, options used are left out)

Gdalinfo reports the size of each image are the same:

$ findstr "Size" *.gdal-info
RGB.b-blu.vrt.gdal-info:Size is 31918, 34252
RGB.b-blu.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
RGB.b-grn.vrt.gdal-info:Size is 31918, 34252
RGB.b-grn.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
RGB.b-red.vrt.gdal-info:Size is 31918, 34252
RGB.b-red.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
432.b-nir.vrt.gdal-info:Size is 31918, 34252
432.b-nir.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
INFILE.rgb-nir.vrt.gdal-info:Size is 31918, 34252
INFILE.rgb-nir.vrt.gdal-info:Pixel Size = (1.500000000000000,-1.500000000000000)
INFILE.rgb-nir.vrt.msk.gdal-info:Size is 31918, 34252

The source VRT and gdalinfo reports are attached.

GDAL 3.3.2, released 2021/09/01 via Qgis 3.22 on Windows 10.

Matt Wilkie
Geomatics Developer & Administrator
Environment | Technology, Innovation and Mapping
T 867-667-8133 | Yukon.ca<http://yukon.ca/>
Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away.




_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com<https://imsva91-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=http%3a%2f%2fwww.spatialys.com&umid=FBA1B73B-D2BC-7105-950E-C186D8127588&auth=c132af8ee7c9d1278d61a701569070a095ce962e-64f6b49277165076d77667c02aefeb1e8bc6fdc8>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211209/ba13852a/attachment.html>

From j1 at jimenezshaw.com  Fri Dec 10 03:29:49 2021
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 10 Dec 2021 12:29:49 +0100
Subject: [gdal-dev] Problems compiling GDAL in ARM + NEON + libpng
Message-ID: <CADRrdKsZ6-HwnGjbmJaWmKkZ4NM=3XGQJUK7Pb2X097NR54rdQ@mail.gmail.com>

Hi

I am trying to compile GDAL 3.3.2 for ARM (apple M1), and I have problems
with the included libpng. There is a missing "arm" folder in libpng. Is
that intentional? How can I build it?

NEON support is detected, so libpng try to use NEON optimized functions,
but the implementation of those is missing, so I get

Undefined symbols for architecture arm64:
  "_png_do_expand_palette_rgb8_neon", referenced from:
      _png_do_read_transformations in pngrtran.o
  "_png_do_expand_palette_rgba8_neon", referenced from:
      _png_do_read_transformations in pngrtran.o
  "_png_init_filter_functions_neon", referenced from:
      _png_read_filter_row in pngrutil.o
  "_png_riffle_palette_neon", referenced from:
      _png_do_read_transformations in pngrtran.o

Thanks
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/165a1425/attachment.html>

From even.rouault at spatialys.com  Fri Dec 10 03:52:04 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 10 Dec 2021 12:52:04 +0100
Subject: [gdal-dev] Problems compiling GDAL in ARM + NEON + libpng
In-Reply-To: <CADRrdKsZ6-HwnGjbmJaWmKkZ4NM=3XGQJUK7Pb2X097NR54rdQ@mail.gmail.com>
References: <CADRrdKsZ6-HwnGjbmJaWmKkZ4NM=3XGQJUK7Pb2X097NR54rdQ@mail.gmail.com>
Message-ID: <f65b0f71-a234-a45e-6839-65c39ba3a305@spatialys.com>

Was fixed in 
https://github.com/OSGeo/gdal/commit/1c719a864232daf58b799fbb2da785f3f9b2d579

Le 10/12/2021 ? 12:29, Javier Jimenez Shaw a ?crit?:
> Hi
>
> I am trying to compile GDAL 3.3.2 for ARM (apple M1), and I have 
> problems with the included libpng. There is a missing "arm" folder in 
> libpng. Is that intentional? How can I build it?
>
> NEON support is detected, so libpng try to use NEON optimized 
> functions, but the implementation of those is missing, so I get
>
> Undefined symbols for architecture arm64:
> ? "_png_do_expand_palette_rgb8_neon", referenced from:
> ? ? ? _png_do_read_transformations in pngrtran.o
> ? "_png_do_expand_palette_rgba8_neon", referenced from:
> ? ? ? _png_do_read_transformations in pngrtran.o
> ? "_png_init_filter_functions_neon", referenced from:
> ? ? ? _png_read_filter_row in pngrutil.o
> ? "_png_riffle_palette_neon", referenced from:
> ? ? ? _png_do_read_transformations in pngrtran.o
>
> Thanks
> .___ ._ ..._ .. . ._. .___ .. __ . _. . __..? ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/8f13681c/attachment-0001.html>

From j1 at jimenezshaw.com  Fri Dec 10 04:09:18 2021
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 10 Dec 2021 13:09:18 +0100
Subject: [gdal-dev] Problems compiling GDAL in ARM + NEON + libpng
In-Reply-To: <f65b0f71-a234-a45e-6839-65c39ba3a305@spatialys.com>
References: <CADRrdKsZ6-HwnGjbmJaWmKkZ4NM=3XGQJUK7Pb2X097NR54rdQ@mail.gmail.com>
 <f65b0f71-a234-a45e-6839-65c39ba3a305@spatialys.com>
Message-ID: <CADRrdKtDP-P15Df6_LO-VRQrKwc4Dd0Qiprx893+BQUtRSHX6A@mail.gmail.com>

Thanks!
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.



On Fri, 10 Dec 2021 at 12:52, Even Rouault <even.rouault at spatialys.com>
wrote:

> Was fixed in
> https://github.com/OSGeo/gdal/commit/1c719a864232daf58b799fbb2da785f3f9b2d579
> Le 10/12/2021 ? 12:29, Javier Jimenez Shaw a ?crit :
>
> Hi
>
> I am trying to compile GDAL 3.3.2 for ARM (apple M1), and I have problems
> with the included libpng. There is a missing "arm" folder in libpng. Is
> that intentional? How can I build it?
>
> NEON support is detected, so libpng try to use NEON optimized functions,
> but the implementation of those is missing, so I get
>
> Undefined symbols for architecture arm64:
>   "_png_do_expand_palette_rgb8_neon", referenced from:
>       _png_do_read_transformations in pngrtran.o
>   "_png_do_expand_palette_rgba8_neon", referenced from:
>       _png_do_read_transformations in pngrtran.o
>   "_png_init_filter_functions_neon", referenced from:
>       _png_read_filter_row in pngrutil.o
>   "_png_riffle_palette_neon", referenced from:
>       _png_do_read_transformations in pngrtran.o
>
> Thanks
> .___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/b422d13b/attachment.html>

From simon.eves at omnisci.com  Fri Dec 10 10:23:49 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Fri, 10 Dec 2021 10:23:49 -0800
Subject: [gdal-dev] Transforming Raster Points from GeoTIFF with GCPs
Message-ID: <CAJf0KTQK_rQoLk+ZqgerPpueQ_fzht24yuMkLstyZhGrsb+Sig@mail.gmail.com>

So we have a GeoTiFF of Sentinel-1 imagery which `gdalinfo` reports as
having a GCP projection with 210 points, which we'd (perhaps naively?!)
like to import directly, transforming to WGS84 on the fly.

Obviously a simple OGRSpatialReference/OGRCoordinateTransformation
transform isn't going to do anything, so I assume we have to do the GCP
transform manually.

I found the GCPCoordinateTransformation class and other supporting code in
ogr2ogr_lib.cpp as used by gdaltransform, which seems to do what we need,
but of course it's not in the core GDAL library so we can't "just use it".

Before embarking on lifting out that code to implement an on-the-fly
transformer in our system, I just wanted to make sure I wasn't missing any
functionality elsewhere that would make it easier.

It may also be more efficient to just kick off a gdalwarp to pre-convert
the file so we can just import it with no transformation required, but that
seems ugly unless it's gonna be WAY more efficient?

Thanks,

Simon

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/fa90d647/attachment.html>

From yanns.tremblay at gmail.com  Fri Dec 10 10:38:40 2021
From: yanns.tremblay at gmail.com (Yann-Sebastien Tremblay-Johnston)
Date: Fri, 10 Dec 2021 10:38:40 -0800
Subject: [gdal-dev] Transforming Raster Points from GeoTIFF with GCPs
In-Reply-To: <CAJf0KTQK_rQoLk+ZqgerPpueQ_fzht24yuMkLstyZhGrsb+Sig@mail.gmail.com>
References: <CAJf0KTQK_rQoLk+ZqgerPpueQ_fzht24yuMkLstyZhGrsb+Sig@mail.gmail.com>
Message-ID: <CA++BqZDRr1TvHTc0CphqjbW=KztRx0wkOAoRW6cjzzCxZAfa8A@mail.gmail.com>

Simon,

See the Transformer API, in particular
https://gdal.org/api/gdal_alg.html?highlight=transformer#_CPPv419GDALTransformerFunc
(or gdal.Transformer in Python).

Sebastien

On Fri, Dec 10, 2021 at 10:24 AM Simon Eves <simon.eves at omnisci.com> wrote:

> So we have a GeoTiFF of Sentinel-1 imagery which `gdalinfo` reports as
> having a GCP projection with 210 points, which we'd (perhaps naively?!)
> like to import directly, transforming to WGS84 on the fly.
>
> Obviously a simple OGRSpatialReference/OGRCoordinateTransformation
> transform isn't going to do anything, so I assume we have to do the GCP
> transform manually.
>
> I found the GCPCoordinateTransformation class and other supporting code in
> ogr2ogr_lib.cpp as used by gdaltransform, which seems to do what we need,
> but of course it's not in the core GDAL library so we can't "just use it".
>
> Before embarking on lifting out that code to implement an on-the-fly
> transformer in our system, I just wanted to make sure I wasn't missing any
> functionality elsewhere that would make it easier.
>
> It may also be more efficient to just kick off a gdalwarp to pre-convert
> the file so we can just import it with no transformation required, but that
> seems ugly unless it's gonna be WAY more efficient?
>
> Thanks,
>
> Simon
>
> --
> <http://www.omnisci.com/>
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/53dd05e6/attachment.html>

From simon.eves at omnisci.com  Fri Dec 10 11:20:54 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Fri, 10 Dec 2021 11:20:54 -0800
Subject: [gdal-dev] Transforming Raster Points from GeoTIFF with GCPs
In-Reply-To: <CA++BqZDRr1TvHTc0CphqjbW=KztRx0wkOAoRW6cjzzCxZAfa8A@mail.gmail.com>
References: <CAJf0KTQK_rQoLk+ZqgerPpueQ_fzht24yuMkLstyZhGrsb+Sig@mail.gmail.com>
 <CA++BqZDRr1TvHTc0CphqjbW=KztRx0wkOAoRW6cjzzCxZAfa8A@mail.gmail.com>
Message-ID: <CAJf0KTSPZW3wGH-rVKdQCo=SqbkYPCGxygMbGejRdLa4SBz4nA@mail.gmail.com>

Aha! That's the bit I hadn't found. Thank you! :)

On Fri, Dec 10, 2021 at 10:38 AM Yann-Sebastien Tremblay-Johnston <
yanns.tremblay at gmail.com> wrote:

> Simon,
>
> See the Transformer API, in particular
> https://gdal.org/api/gdal_alg.html?highlight=transformer#_CPPv419GDALTransformerFunc
> (or gdal.Transformer in Python).
>
> Sebastien
>
> On Fri, Dec 10, 2021 at 10:24 AM Simon Eves <simon.eves at omnisci.com>
> wrote:
>
>> So we have a GeoTiFF of Sentinel-1 imagery which `gdalinfo` reports as
>> having a GCP projection with 210 points, which we'd (perhaps naively?!)
>> like to import directly, transforming to WGS84 on the fly.
>>
>> Obviously a simple OGRSpatialReference/OGRCoordinateTransformation
>> transform isn't going to do anything, so I assume we have to do the GCP
>> transform manually.
>>
>> I found the GCPCoordinateTransformation class and other supporting code
>> in ogr2ogr_lib.cpp as used by gdaltransform, which seems to do what we
>> need, but of course it's not in the core GDAL library so we can't "just use
>> it".
>>
>> Before embarking on lifting out that code to implement an on-the-fly
>> transformer in our system, I just wanted to make sure I wasn't missing any
>> functionality elsewhere that would make it easier.
>>
>> It may also be more efficient to just kick off a gdalwarp to pre-convert
>> the file so we can just import it with no transformation required, but that
>> seems ugly unless it's gonna be WAY more efficient?
>>
>> Thanks,
>>
>> Simon
>>
>> --
>> <http://www.omnisci.com/>
>> Simon Eves
>> Senior Graphics Engineer, Rendering Group
>> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>>
>>
>> Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/72cf555f/attachment-0001.html>

From Matt.Wilkie at yukon.ca  Fri Dec 10 12:45:24 2021
From: Matt.Wilkie at yukon.ca (Matt.Wilkie at yukon.ca)
Date: Fri, 10 Dec 2021 20:45:24 +0000
Subject: [gdal-dev] Transforming Raster Points from GeoTIFF with GCPs
In-Reply-To: <CAJf0KTSPZW3wGH-rVKdQCo=SqbkYPCGxygMbGejRdLa4SBz4nA@mail.gmail.com>
References: <CAJf0KTQK_rQoLk+ZqgerPpueQ_fzht24yuMkLstyZhGrsb+Sig@mail.gmail.com>
 <CA++BqZDRr1TvHTc0CphqjbW=KztRx0wkOAoRW6cjzzCxZAfa8A@mail.gmail.com>
 <CAJf0KTSPZW3wGH-rVKdQCo=SqbkYPCGxygMbGejRdLa4SBz4nA@mail.gmail.com>
Message-ID: <9fb50d3d268447479372fa17932b14fd@yukon.ca>

and https://gdal.org/programs/gdaltransform.html

-Matt

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Simon Eves
Sent: December 10, 2021 12:21 PM
To: Yann-Sebastien Tremblay-Johnston <yanns.tremblay at gmail.com>
Cc: gdal dev <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Transforming Raster Points from GeoTIFF with GCPs


*** External email: Do not click on links or attachments except from trusted senders. ***

******************************************************************************************



Aha! That's the bit I hadn't found. Thank you! :)

On Fri, Dec 10, 2021 at 10:38 AM Yann-Sebastien Tremblay-Johnston <yanns.tremblay at gmail.com<mailto:yanns.tremblay at gmail.com>> wrote:
Simon,

See the Transformer API, in particular https://gdal.org/api/gdal_alg.html?highlight=transformer#_CPPv419GDALTransformerFunc (or gdal.Transformer in Python).

Sebastien

On Fri, Dec 10, 2021 at 10:24 AM Simon Eves <simon.eves at omnisci.com<mailto:simon.eves at omnisci.com>> wrote:
So we have a GeoTiFF of Sentinel-1 imagery which `gdalinfo` reports as having a GCP projection with 210 points, which we'd (perhaps naively?!) like to import directly, transforming to WGS84 on the fly.

Obviously a simple OGRSpatialReference/OGRCoordinateTransformation transform isn't going to do anything, so I assume we have to do the GCP transform manually.

I found the GCPCoordinateTransformation class and other supporting code in ogr2ogr_lib.cpp as used by gdaltransform, which seems to do what we need, but of course it's not in the core GDAL library so we can't "just use it".

Before embarking on lifting out that code to implement an on-the-fly transformer in our system, I just wanted to make sure I wasn't missing any functionality elsewhere that would make it easier.

It may also be more efficient to just kick off a gdalwarp to pre-convert the file so we can just import it with no transformation required, but that seems ugly unless it's gonna be WAY more efficient?

Thanks,

Simon

--
[http://www2.omnisci.com/l/298412/2018-09-18/3sqpg/298412/61753/OmniSci_Email_Header2.png]<http://www.omnisci.com/>

Simon Eves

Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA



Email: simon.eves at omnisci.com<mailto:simon.eves at omnisci.com> | Cell:

+1 (415) 902-1996





_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev


--
[http://www2.omnisci.com/l/298412/2018-09-18/3sqpg/298412/61753/OmniSci_Email_Header2.png]<http://www.omnisci.com/>

Simon Eves

Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA



Email: simon.eves at omnisci.com<mailto:simon.eves at omnisci.com> | Cell:

+1 (415) 902-1996





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/4471258a/attachment-0001.html>

From simon.eves at omnisci.com  Fri Dec 10 12:59:41 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Fri, 10 Dec 2021 12:59:41 -0800
Subject: [gdal-dev] Transforming Raster Points from GeoTIFF with GCPs
In-Reply-To: <9fb50d3d268447479372fa17932b14fd@yukon.ca>
References: <CAJf0KTQK_rQoLk+ZqgerPpueQ_fzht24yuMkLstyZhGrsb+Sig@mail.gmail.com>
 <CA++BqZDRr1TvHTc0CphqjbW=KztRx0wkOAoRW6cjzzCxZAfa8A@mail.gmail.com>
 <CAJf0KTSPZW3wGH-rVKdQCo=SqbkYPCGxygMbGejRdLa4SBz4nA@mail.gmail.com>
 <9fb50d3d268447479372fa17932b14fd@yukon.ca>
Message-ID: <CAJf0KTT5csLs_T_Nmbz2V08Xdo63mqGYPXCfto=nETRN94tx7Q@mail.gmail.com>

Thanks. The code to which I was referring in my original mail was that used
by gdaltransform. I just hadn't found the API part.

On Fri, Dec 10, 2021 at 12:45 PM <Matt.Wilkie at yukon.ca> wrote:

> and https://gdal.org/programs/gdaltransform.html
>
>
>
> -Matt
>
>
>
> *From:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> *On Behalf Of *Simon
> Eves
> *Sent:* December 10, 2021 12:21 PM
> *To:* Yann-Sebastien Tremblay-Johnston <yanns.tremblay at gmail.com>
> *Cc:* gdal dev <gdal-dev at lists.osgeo.org>
> *Subject:* Re: [gdal-dev] Transforming Raster Points from GeoTIFF with
> GCPs
>
>
>
> **** External email: Do not click on links or attachments except from trusted senders. ****
>
> ********************************************************************************************
>
>
>
> Aha! That's the bit I hadn't found. Thank you! :)
>
>
>
> On Fri, Dec 10, 2021 at 10:38 AM Yann-Sebastien Tremblay-Johnston <
> yanns.tremblay at gmail.com> wrote:
>
> Simon,
>
>
>
> See the Transformer API, in particular
> https://gdal.org/api/gdal_alg.html?highlight=transformer#_CPPv419GDALTransformerFunc
> (or gdal.Transformer in Python).
>
>
>
> Sebastien
>
>
>
> On Fri, Dec 10, 2021 at 10:24 AM Simon Eves <simon.eves at omnisci.com>
> wrote:
>
> So we have a GeoTiFF of Sentinel-1 imagery which `gdalinfo` reports as
> having a GCP projection with 210 points, which we'd (perhaps naively?!)
> like to import directly, transforming to WGS84 on the fly.
>
>
>
> Obviously a simple OGRSpatialReference/OGRCoordinateTransformation
> transform isn't going to do anything, so I assume we have to do the GCP
> transform manually.
>
>
>
> I found the GCPCoordinateTransformation class and other supporting code in
> ogr2ogr_lib.cpp as used by gdaltransform, which seems to do what we need,
> but of course it's not in the core GDAL library so we can't "just use it".
>
>
>
> Before embarking on lifting out that code to implement an on-the-fly
> transformer in our system, I just wanted to make sure I wasn't missing any
> functionality elsewhere that would make it easier.
>
>
>
> It may also be more efficient to just kick off a gdalwarp to pre-convert
> the file so we can just import it with no transformation required, but that
> seems ugly unless it's gonna be WAY more efficient?
>
>
>
> Thanks,
>
>
>
> Simon
>
>
>
> --
>
> <http://www.omnisci.com/>
>
> *Simon Eves*
>
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
> Email: simon.eves at omnisci.com | Cell:
>
> +1 (415) 902-1996
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> --
>
> <http://www.omnisci.com/>
>
> *Simon Eves*
>
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
> Email: simon.eves at omnisci.com | Cell:
>
> +1 (415) 902-1996
>
>
>


-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/8519da82/attachment.html>

From simon.eves at omnisci.com  Fri Dec 10 14:56:55 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Fri, 10 Dec 2021 14:56:55 -0800
Subject: [gdal-dev] Problem reading Sentinel-1 GeoTIFFs
Message-ID: <CAJf0KTRp2d9ZyWg=OweMjFj=SWUEbpvKSP93BFkzBe9hp2GXag@mail.gmail.com>

Further to my earlier post about GCP Transforms, I now have that code
written, and it seems to be functioning fine, although whether it's
generating the right values is as yet unclear.

The problem is that I am having trouble creating the secondary
transformation from whatever the output space of the GCP transform is, to
my desired space (4326 in this case).

Whenever I call GetGCPSpatialRef() on the datasource, I get the following
error (twice)

  PROJ: proj_create_from_database: ellipsoid not found (1)

I get the same error (also twice) when I run gdalinfo on the file, but then
with a plausible looking SR dump, which may of course just be a default:
______________________________________________________

$ gdalinfo
s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
Driver: GTiff/GeoTIFF
Files: s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
Size is 25541, 16650
GCP Projection =
GEOGCRS["WGS 84",
    DATUM["World Geodetic System 1984",
        ELLIPSOID["unnamed",6378137,298.25722356049,
            LENGTHUNIT["metre",1]]],
    PRIMEM["Greenwich",0,
        ANGLEUNIT["degree",0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS["geodetic latitude (Lat)",north,
            ORDER[1],
            ANGLEUNIT["degree",0.0174532925199433]],
        AXIS["geodetic longitude (Lon)",east,
            ORDER[2],
            ANGLEUNIT["degree",0.0174532925199433]],
    ID["EPSG",4326]]
Data axis to CRS axis mapping: 2,1
GCP[  0]: Id=1, Info=
          (0,0) -> (45.0323375081341,62.6475859336067,149.992539359257)
[etc.]
______________________________________________________

My constructed OGRCoordinateTransformation for the second transform is
therefore a no-op, but the final values (which are therefore just the
values out of the GCP transform) are definitely not 4326.
______________________________________________________

omnisql> select * from s1 where rowid<10;
raster_lon|raster_lat
476788.1263799404|747980.9704571336
460813.8583986053|747120.1413700345
444852.7791957706|746184.4282221086
428904.8887714364|745173.8310133558
412970.1871256025|744088.349743776
397048.6742582691|742927.9844133693
381140.3501694361|741692.7350221358
365245.2148591036|740382.6015700753
349363.2683272713|738997.5840571877
333494.5105739397|737537.6824834733
______________________________________________________

Those are the first ten pixels of the first scanline of the (~25K x ~16K)
file, btw, so intuitively there is something worrying me about those values
anyway (they are moving very quickly and non-linearly considering that's
just ten pixels).

Anyway, some Googling led me to...

  https://gitlab.orfeo-toolbox.org/s1-tiling/s1tiling/-/issues/46

...which seems very related, and even mentions a patch to libGeoTIFF by
Even. I checked, and that patch IS in the (internal, as configured in the
build) GeoTIFF in our GDAL.

This is with GDAL 3.4.0 and Proj 7.2.1.

Thanks in advance,

Simon

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/a4ae85eb/attachment-0001.html>

From simon.eves at omnisci.com  Fri Dec 10 15:05:37 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Fri, 10 Dec 2021 15:05:37 -0800
Subject: [gdal-dev] Problem reading Sentinel-1 GeoTIFFs
In-Reply-To: <CAJf0KTRp2d9ZyWg=OweMjFj=SWUEbpvKSP93BFkzBe9hp2GXag@mail.gmail.com>
References: <CAJf0KTRp2d9ZyWg=OweMjFj=SWUEbpvKSP93BFkzBe9hp2GXag@mail.gmail.com>
Message-ID: <CAJf0KTSAZZBQc1afLghw0FzcsRA4KjNrE=W7PtiCjTqKhXLbLw@mail.gmail.com>

After also finding this thread...

  https://github.com/OSGeo/gdal/issues/2321

...I installed geotiff-bin and ran listgeo on the file.

It also spits the same message (three times).

The output is attached.

S

On Fri, Dec 10, 2021 at 2:56 PM Simon Eves <simon.eves at omnisci.com> wrote:

> Further to my earlier post about GCP Transforms, I now have that code
> written, and it seems to be functioning fine, although whether it's
> generating the right values is as yet unclear.
>
> The problem is that I am having trouble creating the secondary
> transformation from whatever the output space of the GCP transform is, to
> my desired space (4326 in this case).
>
> Whenever I call GetGCPSpatialRef() on the datasource, I get the following
> error (twice)
>
>   PROJ: proj_create_from_database: ellipsoid not found (1)
>
> I get the same error (also twice) when I run gdalinfo on the file, but
> then with a plausible looking SR dump, which may of course just be a
> default:
> ______________________________________________________
>
> $ gdalinfo
> s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
> ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
> ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
> Driver: GTiff/GeoTIFF
> Files: s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
> Size is 25541, 16650
> GCP Projection =
> GEOGCRS["WGS 84",
>     DATUM["World Geodetic System 1984",
>         ELLIPSOID["unnamed",6378137,298.25722356049,
>             LENGTHUNIT["metre",1]]],
>     PRIMEM["Greenwich",0,
>         ANGLEUNIT["degree",0.0174532925199433]],
>     CS[ellipsoidal,2],
>         AXIS["geodetic latitude (Lat)",north,
>             ORDER[1],
>             ANGLEUNIT["degree",0.0174532925199433]],
>         AXIS["geodetic longitude (Lon)",east,
>             ORDER[2],
>             ANGLEUNIT["degree",0.0174532925199433]],
>     ID["EPSG",4326]]
> Data axis to CRS axis mapping: 2,1
> GCP[  0]: Id=1, Info=
>           (0,0) -> (45.0323375081341,62.6475859336067,149.992539359257)
> [etc.]
> ______________________________________________________
>
> My constructed OGRCoordinateTransformation for the second transform is
> therefore a no-op, but the final values (which are therefore just the
> values out of the GCP transform) are definitely not 4326.
> ______________________________________________________
>
> omnisql> select * from s1 where rowid<10;
> raster_lon|raster_lat
> 476788.1263799404|747980.9704571336
> 460813.8583986053|747120.1413700345
> 444852.7791957706|746184.4282221086
> 428904.8887714364|745173.8310133558
> 412970.1871256025|744088.349743776
> 397048.6742582691|742927.9844133693
> 381140.3501694361|741692.7350221358
> 365245.2148591036|740382.6015700753
> 349363.2683272713|738997.5840571877
> 333494.5105739397|737537.6824834733
> ______________________________________________________
>
> Those are the first ten pixels of the first scanline of the (~25K x ~16K)
> file, btw, so intuitively there is something worrying me about those values
> anyway (they are moving very quickly and non-linearly considering that's
> just ten pixels).
>
> Anyway, some Googling led me to...
>
>   https://gitlab.orfeo-toolbox.org/s1-tiling/s1tiling/-/issues/46
>
> ...which seems very related, and even mentions a patch to libGeoTIFF by
> Even. I checked, and that patch IS in the (internal, as configured in the
> build) GeoTIFF in our GDAL.
>
> This is with GDAL 3.4.0 and Proj 7.2.1.
>
> Thanks in advance,
>
> Simon
>
> --
> <http://www.omnisci.com/>
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
>
>

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211210/be08c9f9/attachment-0001.html>
-------------- next part --------------
Geotiff_Information:
   Version: 1
   Key_Revision: 1.0
   Tagged_Information:
      ModelTiepointTag (420,3):
         0                 0                 0                
         45.0323375081341  62.6475859336067  149.992539359257 
         1277              0                 0                
         44.7897640142567  62.6735799992483  149.992328370921 
         2554              0                 0                
         44.5467654831477  62.6991543564103  149.992122405209 
         3831              0                 0                
         44.3033479473226  62.7243079070184  149.991921288893 
         5108              0                 0                
         44.0599460164316  62.7489965990463  134.992576890625 
         6385              0                 0                
         43.8177762978987  62.7731029614162  59.9967487193644 
         7662              0                 0                
         43.5730664384189  62.7969985208535  59.9966639233753 
         8939              0                 0                
         43.3279657313915  62.8204678712672  59.99658156652   
         10216             0                 0                
         43.0824800689254  62.8435099342083  59.9965015556663 
         11493             0                 0                
         42.8366154609521  62.8661237097533  59.9964238014072 
         12770             0                 0                
         42.590377974776   62.8883081512811  59.9963482338935 
         14047             0                 0                
         42.3437737366826  62.9100621706074  59.9962747637182 
         15324             0                 0                
         42.0968089996095  62.9313848018619  59.9962033471093 
         16601             0                 0                
         41.849490050645   62.9522749919573  59.9961339170113 
         17878             0                 0                
         41.6018232969997  62.9727318111356  59.996066420339  
         19155             0                 0                
         41.3538151938501  62.9927542852824  59.9960008133203 
         20432             0                 0                
         41.1054722504171  63.0123414102432  59.9959370540455 
         21709             0                 0                
         40.8568010877569  63.0314923064398  59.9958750959486 
         22986             0                 0                
         40.6078083506519  63.0502059948387  59.9958149129525 
         24263             0                 0                
         40.3573292110951  63.0685655340896  119.99143633619  
         25540             0                 0                
         40.1077385898241  63.0863983210283  119.99132887274  
         0                 1999              0                
         44.9410045473118  62.4701476005522  149.992529636249 
         1277              1999              0                
         44.6998358923052  62.4960481967728  149.992318527773 
         2554              1999              0                
         44.4582486879308  62.5215322520832  149.992112430744 
         3831              1999              0                
         44.2162489116299  62.5465986741814  149.991911173798 
         5108              1999              0                
         43.9763991089475  62.5709899010768  59.9968322310597 
         6385              1999              0                
         43.7335166489647  62.5952295506384  59.9967448199168 
         7662              1999              0                
         43.4902437466898  62.6190472946937  59.9966599503532 
         8939              1999              0                
         43.2465860924375  62.6424419943917  59.9965775152668 
         10216             1999              0                
         43.0025494939589  62.6654125889317  59.9964974224567 
         11493             1999              0                
         42.7581398687465  62.6879580916557  59.9964195834473 
         12770             1999              0                
         42.5133631867789  62.7100774693767  59.9963439144194 
         14047             1999              0                
         42.2682254724914  62.7317696474456  59.996270345524  
         15324             1999              0                
         42.0227328721894  62.7530336735915  59.9961988227442 
         16601             1999              0                
         41.7768915626442  62.7738685083045  59.9961292780936 
         17878             1999              0                
         41.5307078347274  62.7942732306924  59.9960616677999 
         19155             1999              0                
         41.2841880313337  62.8142468940947  59.9959959369153 
         20432             1999              0                
         41.0370272819397  62.833812618017   74.9948906563222 
         21709             1999              0                
         40.7901658444897  62.8528971675509  59.9958699597046 
         22986             1999              0                
         40.5420813789914  62.8716158496578  89.9936727806926 
         24263             1999              0                
         40.2937127130715  62.8898957333487  119.991425078362 
         25540             1999              0                
         40.0456347220103  62.9076963083822  119.99131732434  
         0                 3998              0                
         44.8505268336382  62.2926660425876  149.99251998961  
         1277              3998              0                
         44.610741289885   62.3184753088734  149.992308766581 
         2554              3998              0                
         44.3705437852543  62.3438711264125  149.992102542892 
         3831              3998              0                
         44.1299401336547  62.3688522355409  149.991901131347 
         5108              3998              0                
         43.8914776410751  62.3931621696366  59.9968284228817 
         6385              3998              0                
         43.6500044768142  62.4173226409456  59.9967409474775 
         7662              3998              0                
         43.4081470761032  62.4410643000226  59.9966560062021 
         8939              3998              0                
         43.165911036538   62.4643860227326  59.9965734975412 
         10216             3998              0                
         42.9233020931394  62.487286819069   59.9964933190495 
         11493             3998              0                
         42.680326013726   62.5097656099781  59.9964153869078 
         12770             3998              0                
         42.4369886582138  62.5318213630419  59.9963396294042 
         14047             3998              0                
         42.1932959945419  62.5534531397075  59.9962659599259 
         15324             3998              0                
         41.9478928598338  62.5747760518755  119.992254860699 
         16601             3998              0                
         41.7042047402477  62.5954961623301  89.9941251054406 
         17878             3998              0                
         41.4594982813244  62.6158475473213  89.9940280914307 
         19155             3998              0                
         41.213658376642   62.6358350892685  127.991327197291 
         20432             3998              0                
         40.9678599211163  62.6553623904151  149.989670055918 
         21709             3998              0                
         40.7228103622783  62.6743774393531  119.991638857871 
         22986             3998              0                
         40.4768293184705  62.693010166147   119.991524869576 
         24263             3998              0                
         40.2305419091153  62.7112116311751  119.991413872689 
         25540             3998              0                
         39.9839547298688  62.7289809667677  119.991305836476 
         0                 5997              0                
         44.7608881058884  62.1151420045673  149.992510436103 
         1277              5997              0                
         44.5224679979061  62.140861587839   149.992299096659 
         2554              5997              0                
         44.2836423574269  62.1661707231712  149.992092738859 
         3831              5997              0                
         44.0457194581132  62.1909345085361  104.994403305463 
         5108              5997              0                
         43.8073238520691  62.2152983166699  59.9968246491626 
         6385              5997              0                
         43.5672417753319  62.2393811197682  59.9967371094972 
         7662              5997              0                
         43.3267815341116  62.26304816341    59.9966521002352 
         8939              5997              0                
         43.085948634235   62.2862983380311  59.9965695133433 
         10216             5997              0                
         42.8447487204185  62.3091306822796  59.9964892510325 
         11493             5997              0                
         42.6031874522547  62.3315441131     59.9964112332091 
         12770             5997              0                
         42.3612705940515  62.3535376313627  59.9963353741914 
         14047             5997              0                
         42.1176165846696  62.3752316256201  119.992378391325 
         15324             5997              0                
         41.8750405991379  62.3963769228582  119.99224547483  
         16601             5997              0                
         41.6321251852078  62.417099700422   119.992115776986 
         17878             5997              0                
         41.3885543434955  62.4374252986763  134.99097340554  
         19155             5997              0                
         41.1440423134041  62.457374297016   179.987744848244 
         20432             5997              0                
         40.9003178960596  62.4768079160419  172.988055760041 
         21709             5997              0                
         40.6565918459252  62.4957920785631  149.989512327127 
         22986             5997              0                
         40.4126734921832  62.514342222297   119.991514024325 
         24263             5997              0                
         40.1678524056703  62.5325101461581  119.991402753629 
         25540             5997              0                
         39.9227360415885  62.5502491927869  119.991294433363 
         0                 7996              0                
         44.6722946828486  61.9375520344463  142.99286648538  
         1277              7996              0                
         44.4349975341554  61.9632079897739  149.992289511487 
         2554              7996              0                
         44.1975235377794  61.9884322952355  149.992083020508 
         3831              7996              0                
         43.9622462229739  62.0129814463078  59.9969111550599 
         5108              7996              0                
         43.7239125260907  62.0373999719081  59.9968209080398 
         6385              7996              0                
         43.485201409351   62.0614068404792  59.9967333003879 
         7662              7996              0                
         43.2461181475499  62.0850008344923  59.9966482231393 
         8939              7996              0                
         43.0066682281676  62.1081810423214  59.9965655598789 
         10216             7996              0                
         42.7668571592273  62.130946448756   59.996485219337  
         11493             7996              0                
         42.5266904955286  62.1532959912588  59.9964071083814 
         12770             7996              0                
         42.2847588397367  62.1753554790301  119.992505677976 
         14047             7996              0                
         42.0439339872767  62.1968646536334  119.992369282059 
         15324             7996              0                
         41.8007522756418  62.2181283684499  209.986310959794 
         16601             7996              0                
         41.5599580432912  62.2387366880794  179.988096266985 
         17878             7996              0                
         41.3181620941608  62.258982525136   179.98791075591  
         19155             7996              0                
         41.0765013541998  62.2787704624948  157.989242632873 
         20432             7996              0                
         40.8343599373002  62.2981509417762  142.990132060833 
         21709             7996              0                
         40.5914563105695  62.3171441562519  149.989499078132 
         22986             7996              0                
         40.3489754151522  62.3356586585632  119.991503244266 
         24263             7996              0                
         40.1055999842018  62.3537940294099  119.991391699761 
         25540             7996              0                
         39.8619337148874  62.3715037296281  119.991283097304 
         0                 9995              0                
         44.5840644494737  61.7599691758707  149.992491586134 
         1277              9995              0                
         44.3482965785285  61.7855170923376  149.992280000821 
         2554              9995              0                
         44.1121373424234  61.8106601635966  149.992073360831 
         3831              9995              0                
         43.8764503487938  61.8353087221417  119.99355042167  
         5108              9995              0                
         43.6394987218262  61.8596429416424  119.993388815783 
         6385              9995              0                
         43.4021736709091  61.8835686653189  119.993231086992 
         7662              9995              0                
         43.1652651443795  61.9070084285127  89.9948608363047 
         8939              9995              0                
         42.9279503688266  61.9300448131919  59.9965616026893 
         10216             9995              0                
         42.6894963379339  61.9527457047444  59.9964811755344 
         11493             9995              0                
         42.45069306312    61.9750336296819  59.9964029751718 
         12770             9995              0                
         42.2101393878518  61.9970340468046  119.992496753111 
         14047             9995              0                
         41.9693193592377  62.0186080935612  179.988466649316 
         15324             9995              0                
         41.7292356231024  62.0396692228851  194.987283129245 
         16601             9995              0                
         41.4888382445065  62.0603116371198  209.986073967069 
         17878             9995              0                
         41.2490866274293  62.0804558219116  179.987895837054 
         19155             9995              0                
         41.0089867537143  62.1001867919019  149.98978014756  
         20432             9995              0                
         40.768546620517   62.1195033699523  119.991725006141 
         21709             9995              0                
         40.5271802534216  62.1384499774083  119.991607224569 
         22986             9995              0                
         40.2855153796319  62.1569756380299  119.991492440924 
         24263             9995              0                
         40.0435581590733  62.175079574117   119.991380621679 
         25540             9995              0                
         39.8013147746353  62.1927609503345  119.991271730512 
         0                 11994             0                
         44.4968488959656  61.582321678209   149.992482303642 
         1277              11994             0                
         44.2623829259874  61.6077860024712  149.992270593531 
         2554              11994             0                
         44.0279727728806  61.6328018998216  134.992886180989 
         3831              11994             0                
         43.7931558697651  61.6574190659243  119.993542752229 
         5108              11994             0                
         43.5571126783765  61.6817200042148  134.992522749119 
         6385              11994             0                
         43.3215297824172  61.7055313622831  119.993223147467 
         7662              11994             0                
         43.0851714905526  61.7289780056787  119.993069018237 
         8939              11994             0                
         42.8499731593089  61.7518717657849  59.9965577088296 
         10216             11994             0                
         42.612866201774   61.7745088745843  59.9964771950617 
         11493             11994             0                
         42.3748654516097  61.7967865962081  82.9949535159394 
         12770             11994             0                
         42.1362291021498  61.8186781523705  119.992487967014 
         14047             11994             0                
         41.897121741041   61.8401668280495  164.989427554421 
         15324             11994             0                
         41.6584008043759  61.861177404177   179.98825792037  
         16601             11994             0                
         41.4203439632751  61.881689912047   149.990077375434 
         17878             11994             0                
         41.1819375635514  61.9017932988617  119.991960042156 
         19155             11994             0                
         40.9419534572678  61.9215861341543  149.989767675288 
         20432             11994             0                
         40.7028996152861  61.9408629954234  119.99171487242  
         21709             11994             0                
         40.4626329165614  61.9597955861983  134.99053478241  
         22986             11994             0                
         40.2220854554711  61.9783082948245  149.989330630749 
         24263             11994             0                
         39.9826741113563  61.9962967487845  89.993547109887  
         25540             11994             0                
         39.7412743889772  62.0139920314446  119.991260519251 
         0                 13993             0                
         44.4104110585936  61.4046342919222  149.992473113351 
         1277              13993             0                
         44.177243774153   61.4300151837346  149.992261293344 
         2554              13993             0                
         43.9445734528542  61.4549043710789  119.993701020256 
         3831              13993             0                
         43.7106266558382  61.4794901304186  119.993535182439 
         5108              13993             0                
         43.4763133404737  61.5036742413848  119.993373330683 
         6385              13993             0                
         43.2416386404638  61.5274556167739  119.993215328082 
         7662              13993             0                
         43.0069954565724  61.5507952670774  104.993955067359 
         8939              13993             0                
         42.7727335221905  61.5736613502304  59.9965538782999 
         10216             13993             0                
         42.5369650612947  61.5962352877061  59.9964732853696 
         11493             13993             0                
         42.2997879568536  61.618500967989   104.993563517928 
         12770             13993             0                
         42.0628435362895  61.6403035588912  127.991967349313 
         14047             13993             0                
         41.8256199618632  61.6616910535213  149.990390967578 
         15324             13993             0                
         41.5879210576023  61.6826803618978  179.988244106993 
         16601             13993             0                
         41.3515461575664  61.7031175369604  134.991071851924 
         17878             13993             0                
         41.1129242980723  61.7233076071601  179.987866668031 
         19155             13993             0                
         40.8758821630342  61.7429289654575  134.990790817887 
         20432             13993             0                
         40.6375951494642  61.7622156003686  134.990655356087 
         21709             13993             0                
         40.3979760592162  61.7811686094175  187.98676564917  
         22986             13993             0                
         40.159279569578   61.7996115227319  179.987163396552 
         24263             13993             0                
         39.9223873375569  61.8174856213371  59.995719242841  
         25540             13993             0                
         39.6829231902068  61.8351165585927  59.9956614719704 
         0                 15992             0                
         44.3247365610013  61.226907679727   149.992464020848 
         1277              15992             0                
         44.0919482326826  61.2523037743676  179.990640182048 
         2554              15992             0                
         43.861021611667   61.277063714749   134.992869385518 
         3831              15992             0                
         43.6288007607395  61.3015274642685  119.993527689017 
         5108              15992             0                
         43.3955657593771  61.3256606670986  127.992906899191 
         6385              15992             0                
         43.1624112736197  61.3493495059726  119.993207578547 
         7662              15992             0                
         42.930230156977   61.372508316766   59.996633044444  
         8939              15992             0                
         42.6961184787586  61.3954237386146  59.9965500822291 
         10216             15992             0                
         42.461668890452   61.4179359279325  59.996469409205  
         11493             15992             0                
         42.2254674599646  61.4401753853164  119.992611235008 
         12770             15992             0                
         41.9900488845231  61.461903792594   134.991509662941 
         14047             15992             0                
         41.7539870414242  61.4832535758788  164.989402986132 
         15324             15992             0                
         41.5182960962314  61.5041343720311  164.989222767763 
         16601             15992             0                
         41.2832516198812  61.5245260960865  119.992068794556 
         17878             15992             0                
         41.0462891373062  61.5446472216092  149.989896792918 
         19155             15992             0                
         40.809053753699   61.5643543950168  179.987669744529 
         20432             15992             0                
         40.5721458829283  61.5835997600611  179.98749145586  
         21709             15992             0                
         40.3346543409175  61.602456985783   194.98625255283  
         22986             15992             0                
         40.097459757322   61.6208574606732  179.987147546373 
         24263             15992             0                
         39.8619252462297  61.6387030095926  59.995714106597  
         25540             15992             0                
         39.6238363931943  61.6563081274059  59.9956561950967 
         0                 16649             0                
         44.2967426450997  61.1684867310493  149.992461055517 
         1277              16649             0                
         44.0639240201554  61.1939046260608  194.989830183797 
         2554              16649             0                
         43.833428066908   61.2186367720035  149.992042026483 
         3831              16649             0                
         43.6020616578755  61.243029910608   119.993525242433 
         5108              16649             0                
         43.3692497053702  61.2671393398439  127.992904241197 
         6385              16649             0                
         43.1365192955604  61.2908053817684  119.993205053732 
         7662              16649             0                
         42.9047615708637  61.3139424637909  59.9966318290681 
         8939              16649             0                
         42.6710780524656  61.3368369252065  59.9965488435701 
         10216             16649             0                
         42.4370583750401  61.3593291092919  59.9964681454003 
         11493             16649             0                
         42.2012912629917  61.3815493864628  119.992608499713 
         12770             16649             0                
         41.9659617852391  61.4032909745742  149.990544997156 
         14047             16649             0                
         41.730344904734   61.4246221412529  179.988421672024 
         15324             16649             0                
         41.4957540605239  61.4454283787804  149.99021137692  
         16601             16649             0                
         41.260178726446   61.4658879723026  149.990050277673 
         17878             16649             0                
         41.0239844214817  61.4859663593695  164.988870281726 
         19155             16649             0                
         40.7875033667916  61.5056342487297  179.987664939836 
         20432             16649             0                
         40.5510380474246  61.5248673541338  179.987486527301 
         21709             16649             0                
         40.3142820817218  61.5436906527339  179.987312349491 
         22986             16649             0                
         40.078379811111   61.5620170262266  119.991457469761 
         24263             16649             0                
         39.8421492079071  61.5799398474581  59.995712429285  
         25540             16649             0                
         39.6045085036429  61.597536668249   59.9956544712186 
      End_Of_Tags.
   Keyed_Information:
      GTModelTypeGeoKey (Short,1): ModelTypeGeographic
      GTRasterTypeGeoKey (Short,1): RasterPixelIsArea
      GTCitationGeoKey (Ascii,25): "Geo-referenced SAR image"
      GeographicTypeGeoKey (Short,1): GCS_WGS_84
      GeogCitationGeoKey (Ascii,7): "WGS 84"
      GeogLinearUnitsGeoKey (Short,1): Linear_Meter
      GeogAngularUnitsGeoKey (Short,1): Angular_Degree
      GeogEllipsoidGeoKey (Short,1): Unknown-4326
      GeogSemiMajorAxisGeoKey (Double,1): 6378137          
      GeogSemiMinorAxisGeoKey (Double,1): 6356752.314245   
      GeogInvFlatteningGeoKey (Double,1): 298.25722356049  
      ProjLinearUnitsGeoKey (Short,1): Linear_Meter
      End_Of_Keys.
   End_Of_Geotiff.

GCS: 4326/WGS 84
Datum: 6326/World Geodetic System 1984
Ellipsoid: 4326/(unknown) (6378137.00,6356752.31)
Prime Meridian: 8901/Greenwich (0.000000/  0d 0' 0.00"E)
Projection Linear Units: 9001/metre (1.000000m)

Corner Coordinates:
 ... unable to transform points between pixel/line and PCS space

From even.rouault at spatialys.com  Fri Dec 10 15:40:52 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 11 Dec 2021 00:40:52 +0100
Subject: [gdal-dev] Problem reading Sentinel-1 GeoTIFFs
In-Reply-To: <CAJf0KTSAZZBQc1afLghw0FzcsRA4KjNrE=W7PtiCjTqKhXLbLw@mail.gmail.com>
References: <CAJf0KTRp2d9ZyWg=OweMjFj=SWUEbpvKSP93BFkzBe9hp2GXag@mail.gmail.com>
 <CAJf0KTSAZZBQc1afLghw0FzcsRA4KjNrE=W7PtiCjTqKhXLbLw@mail.gmail.com>
Message-ID: <69f40f84-1825-94f5-c8da-66c644886057@spatialys.com>

Those files use a invalid GeogEllipsoidGeoKey=4326 for the WGS 84 
ellipsoid. The correct code should be 7030. Sometimes should report that 
to the data producer.

Warning silenced in https://github.com/OSGeo/gdal/pull/4975

Le 11/12/2021 ? 00:05, Simon Eves a ?crit?:
> After?also finding this thread...
>
> https://github.com/OSGeo/gdal/issues/2321 
> <https://github.com/OSGeo/gdal/issues/2321>
>
> ...I installed geotiff-bin and ran listgeo on the file.
>
> It also spits the same message (three times).
>
> The output is attached.
>
> S
>
> On Fri, Dec 10, 2021 at 2:56 PM Simon Eves <simon.eves at omnisci.com 
> <mailto:simon.eves at omnisci.com>> wrote:
>
>     Further to my earlier post about GCP Transforms, I now have that
>     code written, and it seems to be functioning fine, although
>     whether it's generating the right values is as yet unclear.
>
>     The problem is that I am having trouble creating the secondary
>     transformation from whatever the output space of the GCP transform
>     is, to my desired space (4326 in this case).
>
>     Whenever I call GetGCPSpatialRef() on the datasource, I get the
>     following error (twice)
>
>     ? PROJ: proj_create_from_database: ellipsoid not found (1)
>
>     I get the same error (also twice) when I run gdalinfo on the file,
>     but then with a plausible looking SR dump, which may of course
>     just be a default:
>     ______________________________________________________
>
>     $ gdalinfo
>     s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
>     ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
>     ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
>     Driver: GTiff/GeoTIFF
>     Files:
>     s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
>     Size is 25541, 16650
>     GCP Projection =
>     GEOGCRS["WGS 84",
>     ? ? DATUM["World Geodetic System 1984",
>     ? ? ? ? ELLIPSOID["unnamed",6378137,298.25722356049,
>     ? ? ? ? ? ? LENGTHUNIT["metre",1]]],
>     ? ? PRIMEM["Greenwich",0,
>     ? ? ? ? ANGLEUNIT["degree",0.0174532925199433]],
>     ? ? CS[ellipsoidal,2],
>     ? ? ? ? AXIS["geodetic latitude (Lat)",north,
>     ? ? ? ? ? ? ORDER[1],
>     ? ? ? ? ? ? ANGLEUNIT["degree",0.0174532925199433]],
>     ? ? ? ? AXIS["geodetic longitude (Lon)",east,
>     ? ? ? ? ? ? ORDER[2],
>     ? ? ? ? ? ? ANGLEUNIT["degree",0.0174532925199433]],
>     ? ? ID["EPSG",4326]]
>     Data axis to CRS axis mapping: 2,1
>     GCP[ ?0]: Id=1, Info=
>     ? ? ? ? ? (0,0) ->
>     (45.0323375081341,62.6475859336067,149.992539359257)
>     [etc.]
>     ______________________________________________________
>
>     My constructed OGRCoordinateTransformation for the second
>     transform is therefore a no-op, but the final values (which are
>     therefore just the values out of the GCP transform) are definitely
>     not 4326.
>     ______________________________________________________
>
>     omnisql> select * from s1 where rowid<10;
>     raster_lon|raster_lat
>     476788.1263799404|747980.9704571336
>     460813.8583986053|747120.1413700345
>     444852.7791957706|746184.4282221086
>     428904.8887714364|745173.8310133558
>     412970.1871256025|744088.349743776
>     397048.6742582691|742927.9844133693
>     381140.3501694361|741692.7350221358
>     365245.2148591036|740382.6015700753
>     349363.2683272713|738997.5840571877
>     333494.5105739397|737537.6824834733
>     ______________________________________________________
>
>     Those are the first ten pixels of the first scanline of the (~25K
>     x ~16K) file, btw, so intuitively there is something worrying me
>     about those values anyway (they are moving very quickly and
>     non-linearly considering that's just ten pixels).
>
>     Anyway, some Googling led me to...
>
>     https://gitlab.orfeo-toolbox.org/s1-tiling/s1tiling/-/issues/46
>     <https://gitlab.orfeo-toolbox.org/s1-tiling/s1tiling/-/issues/46>
>
>     ...which seems very related, and even mentions a patch to
>     libGeoTIFF by Even. I checked, and that patch IS in the (internal,
>     as configured in the build) GeoTIFF in our GDAL.
>
>     This is with GDAL 3.4.0 and Proj 7.2.1.
>
>     Thanks in advance,
>
>     Simon
>
>     -- 
>     <http://www.omnisci.com/>
>     	
>     Simon Eves
>     Senior Graphics Engineer, Rendering Group
>     100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
>     	
>     Email: simon.eves at omnisci.com <mailto:simon.eves at omnisci.com>?|
>     Cell: 	+1 (415) 902-1996
>
>
>
>
>
> -- 
> <http://www.omnisci.com/>
> 	
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> 	
> Email: simon.eves at omnisci.com <mailto:simon.eves at omnisci.com>?| Cell: 
> +1 (415) 902-1996
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211211/c1934591/attachment-0001.html>

From simon.eves at omnisci.com  Mon Dec 13 14:35:19 2021
From: simon.eves at omnisci.com (Simon Eves)
Date: Mon, 13 Dec 2021 14:35:19 -0800
Subject: [gdal-dev] Problem reading Sentinel-1 GeoTIFFs
In-Reply-To: <69f40f84-1825-94f5-c8da-66c644886057@spatialys.com>
References: <CAJf0KTRp2d9ZyWg=OweMjFj=SWUEbpvKSP93BFkzBe9hp2GXag@mail.gmail.com>
 <CAJf0KTSAZZBQc1afLghw0FzcsRA4KjNrE=W7PtiCjTqKhXLbLw@mail.gmail.com>
 <69f40f84-1825-94f5-c8da-66c644886057@spatialys.com>
Message-ID: <CAJf0KTSg3BFcOsfsyJ_RjgdW2sCbvsVCUYWvwa1y=c4G4yNjdA@mail.gmail.com>

Dear Even,

Thank you, yet again, for a quick resolution. I cherry-picked that change
over to my 3.4.0 build and it certainly gets rid of the Proj errors.

I also found the mistake in the rest of my code that was creating the large
values (I had bDstToSrc set to true on the GDALGCPTransform call for some
reason).

All working now! :)

SE



On Fri, Dec 10, 2021 at 3:40 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Those files use a invalid GeogEllipsoidGeoKey=4326 for the WGS 84
> ellipsoid. The correct code should be 7030. Sometimes should report that to
> the data producer.
>
> Warning silenced in https://github.com/OSGeo/gdal/pull/4975
> Le 11/12/2021 ? 00:05, Simon Eves a ?crit :
>
> After also finding this thread...
>
>   https://github.com/OSGeo/gdal/issues/2321
>
> ...I installed geotiff-bin and ran listgeo on the file.
>
> It also spits the same message (three times).
>
> The output is attached.
>
> S
>
> On Fri, Dec 10, 2021 at 2:56 PM Simon Eves <simon.eves at omnisci.com> wrote:
>
>> Further to my earlier post about GCP Transforms, I now have that code
>> written, and it seems to be functioning fine, although whether it's
>> generating the right values is as yet unclear.
>>
>> The problem is that I am having trouble creating the secondary
>> transformation from whatever the output space of the GCP transform is, to
>> my desired space (4326 in this case).
>>
>> Whenever I call GetGCPSpatialRef() on the datasource, I get the following
>> error (twice)
>>
>>   PROJ: proj_create_from_database: ellipsoid not found (1)
>>
>> I get the same error (also twice) when I run gdalinfo on the file, but
>> then with a plausible looking SR dump, which may of course just be a
>> default:
>> ______________________________________________________
>>
>> $ gdalinfo
>> s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
>> ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
>> ERROR 1: PROJ: proj_create_from_database: ellipsoid not found
>> Driver: GTiff/GeoTIFF
>> Files:
>> s1b-iw-grd-vv-20211110t033513-20211110t033538-029520-0385e8-001.tiff
>> Size is 25541, 16650
>> GCP Projection =
>> GEOGCRS["WGS 84",
>>     DATUM["World Geodetic System 1984",
>>         ELLIPSOID["unnamed",6378137,298.25722356049,
>>             LENGTHUNIT["metre",1]]],
>>     PRIMEM["Greenwich",0,
>>         ANGLEUNIT["degree",0.0174532925199433]],
>>     CS[ellipsoidal,2],
>>         AXIS["geodetic latitude (Lat)",north,
>>             ORDER[1],
>>             ANGLEUNIT["degree",0.0174532925199433]],
>>         AXIS["geodetic longitude (Lon)",east,
>>             ORDER[2],
>>             ANGLEUNIT["degree",0.0174532925199433]],
>>     ID["EPSG",4326]]
>> Data axis to CRS axis mapping: 2,1
>> GCP[  0]: Id=1, Info=
>>           (0,0) -> (45.0323375081341,62.6475859336067,149.992539359257)
>> [etc.]
>> ______________________________________________________
>>
>> My constructed OGRCoordinateTransformation for the second transform is
>> therefore a no-op, but the final values (which are therefore just the
>> values out of the GCP transform) are definitely not 4326.
>> ______________________________________________________
>>
>> omnisql> select * from s1 where rowid<10;
>> raster_lon|raster_lat
>> 476788.1263799404|747980.9704571336
>> 460813.8583986053|747120.1413700345
>> 444852.7791957706|746184.4282221086
>> 428904.8887714364|745173.8310133558
>> 412970.1871256025|744088.349743776
>> 397048.6742582691|742927.9844133693
>> 381140.3501694361|741692.7350221358
>> 365245.2148591036|740382.6015700753
>> 349363.2683272713|738997.5840571877
>> 333494.5105739397|737537.6824834733
>> ______________________________________________________
>>
>> Those are the first ten pixels of the first scanline of the (~25K x ~16K)
>> file, btw, so intuitively there is something worrying me about those values
>> anyway (they are moving very quickly and non-linearly considering that's
>> just ten pixels).
>>
>> Anyway, some Googling led me to...
>>
>>   https://gitlab.orfeo-toolbox.org/s1-tiling/s1tiling/-/issues/46
>>
>> ...which seems very related, and even mentions a patch to libGeoTIFF by
>> Even. I checked, and that patch IS in the (internal, as configured in the
>> build) GeoTIFF in our GDAL.
>>
>> This is with GDAL 3.4.0 and Proj 7.2.1.
>>
>> Thanks in advance,
>>
>> Simon
>>
>> --
>> <http://www.omnisci.com/>
>> Simon Eves
>> Senior Graphics Engineer, Rendering Group
>> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>>
>>
>> Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
>>
>>
>
> --
> <http://www.omnisci.com/>
> Simon Eves
> Senior Graphics Engineer, Rendering Group
> 100 Montgomery St (5th Floor), San Francisco, CA 94104, USA
>
>
> Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
>

-- 
<http://www.omnisci.com/>
Simon Eves
Senior Graphics Engineer, Rendering Group
100 Montgomery St (5th Floor), San Francisco, CA 94104, USA


Email: simon.eves at omnisci.com | Cell:  +1 (415) 902-1996
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211213/5892cb18/attachment-0001.html>

From jesdial at gmail.com  Tue Dec 14 15:56:07 2021
From: jesdial at gmail.com (=?UTF-8?B?SmVzw7pzIGRlIERpZWdvIEFsYXJjw7Nu?=)
Date: Wed, 15 Dec 2021 00:56:07 +0100
Subject: [gdal-dev] JP2OpenJPEG GDAL nuget for both Windows and Linux
Message-ID: <CAE_OVyRbiuDiW-icRqAz-2sSanZaQteLhG5Gym+gfAQUPyLV6w@mail.gmail.com>

Dear all

I would like to integrate GDAL in a C# application using the C# bindings.
In addition, the solution can be deployed both on Linux and Windows. I am
using .NetCore 3.1. The last requirement: the application shall be able to
read JP2OpenJPEG images. JP2OpenJPEG

I have tried some Nuget packages in Visual Studio... but most of them do
not implement the JP2OpenJPEG driver and/or do not are available for Linux
and Windows. Do you know any Nuget package that can match my requirements?

Thank you in advance

-- 
Jes?s de Diego Alarc?n
jesdial at gmail.com

"La vida es linda, lo malo es que muchos confunden lindo con f?cil."
Mafalda
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/8408d620/attachment.html>

From runette at gmail.com  Wed Dec 15 03:12:54 2021
From: runette at gmail.com (Paul Harwood)
Date: Wed, 15 Dec 2021 11:12:54 +0000
Subject: [gdal-dev] JP2OpenJPEG GDAL nuget for both Windows and Linux
In-Reply-To: <CAE_OVyRbiuDiW-icRqAz-2sSanZaQteLhG5Gym+gfAQUPyLV6w@mail.gmail.com>
References: <CAE_OVyRbiuDiW-icRqAz-2sSanZaQteLhG5Gym+gfAQUPyLV6w@mail.gmail.com>
Message-ID: <CAE8nN5OCDn2sUyRO7MAdDNB=tbPC8sw+Mk4FvNG5yWp4xcz8cQ@mail.gmail.com>

Not a NUGET package ...

But there is a Conda package which loads the C# bindings on Windows / Mac /
Linux :

see https://gdal.org/api/csharp/csharp_conda.html

It is in Conda since it is a wrapper for the Conda GDAL build - which means
it is the latest version, it is multiplatform and includes the largest set
of drivers (including the one that you want)and there is all of the
benefits of the automatic build toolchain.

The downside is that you need to have Conda and you need to do a bit more
manual work to get the assemblies into your build.

The first is not a great overhead - just use miniconda :
https://docs.conda.io/en/latest/miniconda.html

The manual pages I linked above give some details about the assemblies that
need to be linked. If you are using VS  - you just need to add the
assemblies into the project. You will also need to wrangle the dependency
DLLs if you are building to be distributed to other machines or are
building a GUI app - but it is always good to do that manually anyway.

On Tue, 14 Dec 2021 at 23:56, Jes?s de Diego Alarc?n <jesdial at gmail.com>
wrote:

> Dear all
>
> I would like to integrate GDAL in a C# application using the C# bindings.
> In addition, the solution can be deployed both on Linux and Windows. I am
> using .NetCore 3.1. The last requirement: the application shall be able to
> read JP2OpenJPEG images. JP2OpenJPEG
>
> I have tried some Nuget packages in Visual Studio... but most of them do
> not implement the JP2OpenJPEG driver and/or do not are available for Linux
> and Windows. Do you know any Nuget package that can match my requirements?
>
> Thank you in advance
>
> --
> Jes?s de Diego Alarc?n
> jesdial at gmail.com
>
> "La vida es linda, lo malo es que muchos confunden lindo con f?cil."
> Mafalda
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/0ec7af0e/attachment.html>

From cliveswan at gmail.com  Wed Dec 15 05:15:14 2021
From: cliveswan at gmail.com (Clive Swan)
Date: Wed, 15 Dec 2021 13:15:14 +0000
Subject: [gdal-dev] GDAL error: not found for legacy project
Message-ID: <LO0P265MB298512975ED543F0F23E76FEA0769@LO0P265MB2985.GBRP265.PROD.OUTLOOK.COM>


Greetings,

I first got a C++ error.
I installed the C++ build tools.

I ran pip install C:/users/me/GDAL-3.4.0.tar.gz

Now I get a Setup.py<http://setup.py/> not found for legacy project error.

WHAT??

Any assistance appreciated!!
Clive
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/90579968/attachment.html>

From mateusz at loskot.net  Wed Dec 15 05:45:31 2021
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 15 Dec 2021 14:45:31 +0100
Subject: [gdal-dev] GDAL error: not found for legacy project
In-Reply-To: <LO0P265MB298512975ED543F0F23E76FEA0769@LO0P265MB2985.GBRP265.PROD.OUTLOOK.COM>
References: <LO0P265MB298512975ED543F0F23E76FEA0769@LO0P265MB2985.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <CABUeae-J6BzrpMzHSE3nH45bvHB=xvx-mSBHuwnv9OPhaab5Fg@mail.gmail.com>

On Wed, 15 Dec 2021 at 14:15, Clive Swan <cliveswan at gmail.com> wrote:
>
> I ran pip install C:/users/me/GDAL-3.4.0.tar.gz
>
> Now I get a Setup.py not found for legacy project error.
>
> WHAT??

RTFM did not help?

https://gdal.org/api/python.html#windows

-- 
Mateusz Loskot, http://mateusz.loskot.net

From cliveswan at gmail.com  Wed Dec 15 11:38:55 2021
From: cliveswan at gmail.com (Clive Swan)
Date: Wed, 15 Dec 2021 19:38:55 -0000
Subject: [gdal-dev] GDAL error: not found for legacy project
Message-ID: <000001d7f1eb$66364440$32a2ccc0$@gmail.com>

If the Manual provided the answer to my issue, would I be posting
questions..



 

 

Running > pip install gdal

 

When running pip install gdal, I get the following error:

 

 

C:\Program Files (x86)\Windows Kits\10\include\10.0.17763.0\cppwinrt" /EHsc
/Tpextensions/gdal_wrap.cpp
/Fobuild\temp.win32-3.8\Release\extensions/gdal_wrap.obj

    gdalconst_wrap.c

    gdal_wrap.cpp

    extensions/gdalconst_wrap.c(3018): fatal error C1083: Cannot open
include file: 'gdal.h': No such file or directory

    extensions/osr_wrap.cpp(3198): fatal error C1083: Cannot open include
file: 'cpl_string.h': No such file or
directoryextensions/ogr_wrap.cpp(3153): fatal error C1083: Cannot open
include file: 'gdal.h': No such file or directory

 

    extensions/gnm_wrap.cpp(3135): fatal error C1083: Cannot open include
file: 'gdal.h': No such file or directory

    extensions/gdal_wrap.cpp(3198): fatal error C1083: Cannot open include
file: 'cpl_port.h': No such file or directory

    error: command 'C:\\Program Files (x86)\\Microsoft <file://Microsoft>
Visual
Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.16.27023\\bin\\HostX86\\x86\\c
l.exe' failed with exit status 2

    ----------------------------------------

 

cl.exe is under the path below('C:\\Program Files (x86)\\Microsoft
<file://Microsoft>  Visual Studio\\2017\.....)

 

 

I have a folder C:\Program Files (x86)\Windows
Kits\10\Include\10.0.17763.0\cppwinrt

There is no directory or file /EHsc /Tpextensions/gdal_wrap.cpp

 

There is no folder: c:\python38\Include\gdal

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/fa5903bd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 4253 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/fa5903bd/attachment-0001.png>

From j1 at jimenezshaw.com  Wed Dec 15 12:13:29 2021
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Wed, 15 Dec 2021 21:13:29 +0100
Subject: [gdal-dev] Enabling default compression for COG ?
In-Reply-To: <98986d51b9c84167978429f2678f7144@yukon.ca>
References: <fa605624-b2cc-742b-f884-f577059e341f@spatialys.com>
 <98986d51b9c84167978429f2678f7144@yukon.ca>
Message-ID: <CADRrdKsieLfmoRELFksw+fcp0df0J8AY_QX+dZ1cjNeLNoQGZg@mail.gmail.com>

We have been compressing GeoTIFFs with LZW for years, and never got a
customer complaining about not being able to open it.

.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.



On Thu, 14 Oct 2021 at 17:54, <Matt.Wilkie at yukon.ca> wrote:

>  +1 from me. I think it's a great idea.
>
> -Matt
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/02751d50/attachment.html>

From even.rouault at spatialys.com  Wed Dec 15 12:44:25 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 15 Dec 2021 21:44:25 +0100
Subject: [gdal-dev] Enabling default compression for COG ?
In-Reply-To: <CADRrdKsieLfmoRELFksw+fcp0df0J8AY_QX+dZ1cjNeLNoQGZg@mail.gmail.com>
References: <fa605624-b2cc-742b-f884-f577059e341f@spatialys.com>
 <98986d51b9c84167978429f2678f7144@yukon.ca>
 <CADRrdKsieLfmoRELFksw+fcp0df0J8AY_QX+dZ1cjNeLNoQGZg@mail.gmail.com>
Message-ID: <26a142c9-896b-79cc-301c-c588185b6d8c@spatialys.com>

LZW as default compression for COG has been enabled in master for a few 
weeks now.

Le 15/12/2021 ? 21:13, Javier Jimenez Shaw a ?crit?:
> We have been compressing GeoTIFFs with LZW for years, and never got a 
> customer complaining about not being able to open it.
>
> .___ ._ ..._ .. . ._. .___ .. __ . _. . __..? ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
>
> On Thu, 14 Oct 2021 at 17:54, <Matt.Wilkie at yukon.ca 
> <mailto:Matt.Wilkie at yukon.ca>> wrote:
>
>     ?+1 from me. I think it's a great idea.
>
>     -Matt
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     https://lists.osgeo.org/mailman/listinfo/gdal-dev
>     <https://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/18ef6788/attachment.html>

From fengting.chen at oracle.com  Wed Dec 15 11:51:25 2021
From: fengting.chen at oracle.com (Fengting Chen)
Date: Wed, 15 Dec 2021 19:51:25 +0000
Subject: [gdal-dev] GDAL windows build with sqlite3
Message-ID: <BYAPR10MB33661558C8A472E8B1854A7893769@BYAPR10MB3366.namprd10.prod.outlook.com>

Hi,

I would like to build GDAL 3.4 on windows with sqlite3 library in order to enable OSM driver. The sqlite3 I downloaded for windows only has source code and sqlite3.dll. There is no sqlite3_i.lib. How do I configure GDAL build to make it work with sqlite3.dll or how I can get/build sqlite3_i.lib for windows?

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/c8aadeaa/attachment.html>

From mateusz at loskot.net  Wed Dec 15 13:26:15 2021
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 15 Dec 2021 22:26:15 +0100
Subject: [gdal-dev] GDAL windows build with sqlite3
In-Reply-To: <BYAPR10MB33661558C8A472E8B1854A7893769@BYAPR10MB3366.namprd10.prod.outlook.com>
References: <BYAPR10MB33661558C8A472E8B1854A7893769@BYAPR10MB3366.namprd10.prod.outlook.com>
Message-ID: <CABUeae_72uODFvzh45ePPF09JQr1Wc_6jHDKaZKwU-JVemPg1w@mail.gmail.com>

On Wed, 15 Dec 2021, 21:55 Fengting Chen, <fengting.chen at oracle.com> wrote:
> The sqlite3 I downloaded for windows only has source code and sqlite3.dll.
> There is no sqlite3_i.lib.
> How do I configure GDAL build to make it work with sqlite3.dll or how I
can get/build sqlite3_i.lib for windows?

Build SQLite yourself or dump def and lib, e.g.
https://stackoverflow.com/a/56717285

ML
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211215/a1ec5811/attachment.html>

From jerome.siot at mytimezero.com  Thu Dec 16 02:19:37 2021
From: jerome.siot at mytimezero.com (Jerome Siot)
Date: Thu, 16 Dec 2021 10:19:37 +0000
Subject: [gdal-dev] GDAL windows build with sqlite3
In-Reply-To: <BYAPR10MB33661558C8A472E8B1854A7893769@BYAPR10MB3366.namprd10.prod.outlook.com>
References: <BYAPR10MB33661558C8A472E8B1854A7893769@BYAPR10MB3366.namprd10.prod.outlook.com>
Message-ID: <CO1PR17MB5353174F219B312FB772B2FB83779@CO1PR17MB5353.namprd17.prod.outlook.com>

Hi,
I recently did it, downloading sqlite3_i.lib with the osgeo package downloader : https://trac.osgeo.org/osgeo4w/

--
Regards, J?rome Siot

De : gdal-dev <gdal-dev-bounces at lists.osgeo.org> De la part de Fengting Chen
Envoy? : Wednesday, December 15, 2021 8:51 PM
? : gdal-dev at lists.osgeo.org
Objet : [gdal-dev] GDAL windows build with sqlite3

Hi,

I would like to build GDAL 3.4 on windows with sqlite3 library in order to enable OSM driver. The sqlite3 I downloaded for windows only has source code and sqlite3.dll. There is no sqlite3_i.lib. How do I configure GDAL build to make it work with sqlite3.dll or how I can get/build sqlite3_i.lib for windows?

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211216/d81017fc/attachment-0001.html>

From Matt.Wilkie at yukon.ca  Fri Dec 17 10:00:04 2021
From: Matt.Wilkie at yukon.ca (Matt.Wilkie at yukon.ca)
Date: Fri, 17 Dec 2021 18:00:04 +0000
Subject: [gdal-dev] DIMAP format questions
Message-ID: <8cb29d827e7e4ba2aaafc1d5f52a7e3b@yukon.ca>

Hi All,

I'm getting conflicting information about the contents of some of the SPOT imagery we've received. Can someone here verify that this archive[0]   contains ortho-rectified stereo imagery? If yes can gdal use it? how?  The conversions I've tried so far use the RPC info but not the GCP, if indeed the files named GROUND_*.XML are GCP.

In the process of working with these files I've come up with number other questions also. They pretty much can be rolled up into: what information is present but NOT handled and/or carried forward by gdal?

For instance aside from the GCP question, there is a MASK folder which contains GML files of Clouds, Region of Interest, Saturation, Snow. I've used ogr2ogr to create polygons of them but have not discovered how to georeferenced them so they can be used with the images.


[0] I've applied a 50 pixel radius Gaussian blur to the multispectral and 300 radius to the panchromatic TIF files. So there should be no intellectual property concerns about keeping this archive as a test case. I used Photoshop to apply the blur. If that introduced something unwanted I can reapply using gdal-calc or similar if someone wants to provide a command line example. All other files were left as is.

thanks in advance for your thoughts and time,


Files attached to this message
Filename        Size    Checksum (SHA256)
SPOT6-sample-stereo-blurred.zip 476 MB  0f730de1e711d1cd4dbfdf84ec1ec414bc98d9c00cc2439ab8f99b1838b3b6ce

Please click on the following link to download the attachments: https://sft.gov.yk.ca/message/y4NYAf5MVrDPa4L10XPOcS

This email or download link can be forwarded to anyone.

The attachments are available until: Saturday, 8 January.

Message ID: y4NYAf5MVrDPa4L10XPOcS
Matt Wilkie
Geomatics Developer & Administrator
Environment | Technology, Innovation and Mapping
T 867-667-8133 | Yukon.ca<http://yukon.ca/>
Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211217/f6173aae/attachment.html>

From fengting.chen at oracle.com  Fri Dec 17 12:25:37 2021
From: fengting.chen at oracle.com (Fengting Chen)
Date: Fri, 17 Dec 2021 20:25:37 +0000
Subject: [gdal-dev] [External] : Re:  GDAL windows build with sqlite3
In-Reply-To: <CABUeae_72uODFvzh45ePPF09JQr1Wc_6jHDKaZKwU-JVemPg1w@mail.gmail.com>
References: <BYAPR10MB33661558C8A472E8B1854A7893769@BYAPR10MB3366.namprd10.prod.outlook.com>
 <CABUeae_72uODFvzh45ePPF09JQr1Wc_6jHDKaZKwU-JVemPg1w@mail.gmail.com>
Message-ID: <BYAPR10MB336683DC8EE16CA2538BB39E93789@BYAPR10MB3366.namprd10.prod.outlook.com>

Thanks, that link is helpful. It worked for me.

Fengting

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Mateusz Loskot
Sent: Wednesday, December 15, 2021 4:26 PM
To: gdal-dev at lists.osgeo.org
Subject: [External] : Re: [gdal-dev] GDAL windows build with sqlite3

On Wed, 15 Dec 2021, 21:55 Fengting Chen, <fengting.chen at oracle.com<mailto:fengting.chen at oracle.com>> wrote:
> The sqlite3 I downloaded for windows only has source code and sqlite3.dll.
> There is no sqlite3_i.lib.
> How do I configure GDAL build to make it work with sqlite3.dll or how I can get/build sqlite3_i.lib for windows?

Build SQLite yourself or dump def and lib, e.g. https://stackoverflow.com/a/56717285<https://urldefense.com/v3/__https:/stackoverflow.com/a/56717285__;!!ACWV5N9M2RV99hQ!bMR0lXNmxA3iDy_be81mp7krNS0jYJXiWOAC0Prd4UrL5mBZbXewwL2ZYTMZmW33z38$>

ML
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211217/60d08082/attachment.html>

From fengting.chen at oracle.com  Fri Dec 17 12:26:14 2021
From: fengting.chen at oracle.com (Fengting Chen)
Date: Fri, 17 Dec 2021 20:26:14 +0000
Subject: [gdal-dev] GDAL windows build with sqlite3
In-Reply-To: <CO1PR17MB5353174F219B312FB772B2FB83779@CO1PR17MB5353.namprd17.prod.outlook.com>
References: <BYAPR10MB33661558C8A472E8B1854A7893769@BYAPR10MB3366.namprd10.prod.outlook.com>
 <CO1PR17MB5353174F219B312FB772B2FB83779@CO1PR17MB5353.namprd17.prod.outlook.com>
Message-ID: <BYAPR10MB3366080F8C684B3EE81F03C993789@BYAPR10MB3366.namprd10.prod.outlook.com>

Thanks for the information.

Fengting

From: Jerome Siot <jerome.siot at mytimezero.com>
Sent: Thursday, December 16, 2021 5:20 AM
To: Fengting Chen <fengting.chen at oracle.com>; gdal-dev at lists.osgeo.org
Subject: [External] : RE: GDAL windows build with sqlite3

Hi,
I recently did it, downloading sqlite3_i.lib with the osgeo package downloader : https://trac.osgeo.org/osgeo4w/<https://urldefense.com/v3/__https:/trac.osgeo.org/osgeo4w/__;!!ACWV5N9M2RV99hQ!ZyxQ5USG29mf7euQA9bjkqlani_ibL9POMm7UEeBajFEkcOaPsvWcbjZvqXSNfZ7vhU$>

--
Regards, J?rome Siot

De : gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> De la part de Fengting Chen
Envoy? : Wednesday, December 15, 2021 8:51 PM
? : gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Objet : [gdal-dev] GDAL windows build with sqlite3

Hi,

I would like to build GDAL 3.4 on windows with sqlite3 library in order to enable OSM driver. The sqlite3 I downloaded for windows only has source code and sqlite3.dll. There is no sqlite3_i.lib. How do I configure GDAL build to make it work with sqlite3.dll or how I can get/build sqlite3_i.lib for windows?

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211217/af6a0e10/attachment-0001.html>

From csbruce at cubewerx.com  Fri Dec 17 14:25:20 2021
From: csbruce at cubewerx.com (Craig Bruce)
Date: Fri, 17 Dec 2021 18:25:20 -0400
Subject: [gdal-dev] GDAL COG random fringe on zoom levels
Message-ID: <a7442ef1-1f1b-6905-2c71-5e7fec1b4ca2@cubewerx.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211217/6ab5fc86/attachment.html>

From even.rouault at spatialys.com  Fri Dec 17 15:20:45 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 18 Dec 2021 00:20:45 +0100
Subject: [gdal-dev] GDAL COG random fringe on zoom levels
In-Reply-To: <a7442ef1-1f1b-6905-2c71-5e7fec1b4ca2@cubewerx.com>
References: <a7442ef1-1f1b-6905-2c71-5e7fec1b4ca2@cubewerx.com>
Message-ID: <2fb5f828-0af0-98be-cbd6-a3c0d5651035@spatialys.com>

Pasted into https://github.com/OSGeo/gdal/issues/5016

Le 17/12/2021 ? 23:25, Craig Bruce a ?crit?:
> I tried to submit this issue on GitHub, but it wouldn't let me press 
> the Submit button and wouldn't tell me why not.
>
> ## Expected behavior and actual behavior.
>
> The generation of Cloud-Optimized GeoTIFF images sometimes includes an 
> fringe of random colors around the edge of opaque and transparent 
> pixels of the coarser zoom levels.
>
> The edge of a COG level with an alpha channel should be a smooth 
> tapering of translucent pixels with the proper colors from the source 
> image.
>
> ## Steps to reproduce the problem.
>
> Using GDAL-3.3.1, take an image [like this, 
> naip_denull.tif](https://drive.google.com/file/d/1KIJ-8E3nxxaVCdQ1uaKE4rcZtCtlqT0x/view?usp=sharing) 
> (188 MB) and run:
>
> $ gdal_translate naip_denull.tif cog.tif -of COG -co COMPRESS=LZW
>
> Then open the COG in an application like GIMP that lets you select 
> which zoom-level to view.? Choose the coarsest level and view ? random 
> fringe!
>
> Screenshot: 
> ![naip_fringe_screen](https://user-images.githubusercontent.com/18429680/146596047-1081f20b-e6cb-4670-82f4-099ea8525032.png)
>
> All of the reduced-resolution levels have this problem to a degree, 
> though the more zoomed-out ones have it worse.? Using these levels to 
> produce a map makes it look bad.
>
> The problem seems to be exacerbated by the source image having pixels 
> that are either fully opaque or fully transparent and by the image 
> content having complicated patterns, such as streets.
>
> My guess is that the resampling method when generating a zoomed-out 
> pixel is indiscriminately including source-pixel values that are fully 
> transparent and shouldn't be included.? The randomness of the fringe 
> suggests that the sample values for transparent pixels remain 
> uninitialized as some kind of optimization.
>
> I've seen this problem before on other systems with a dark fringe from 
> erroneously including transparent pixels that have sample values of 0.
>
> ## Operating system
>
> Fedora 33 Linux, x64.
>
> ## GDAL version and provenance
>
> GDAL-3.3.1.
>
> -- 
> Dr. Craig S. Bruce
> Senior Software Developer
> CubeWerx//Inc.
> https://www.cubewerx.com <http://www.cubewerx.com/>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211218/92cf39d4/attachment.html>

From benedek.petrovicz at gmail.com  Mon Dec 20 01:46:48 2021
From: benedek.petrovicz at gmail.com (Benedek Petrovicz)
Date: Mon, 20 Dec 2021 10:46:48 +0100
Subject: [gdal-dev] Adding an MVT layer to MapServer using GDAL
Message-ID: <CAKQ=Y-6cdB69FVNRthVEDGftbeqzgP5gMi-YtBA+63Q3CwXOKA@mail.gmail.com>

Hi!

I'm trying to add a new MVT layer from a remote source to my MapServer, but
I couldn't find any examples or resources on how to do that exactly.

Here you can find some details about the MVT source I'd like to use:
https://support.regrid.com/articles/using-the-tileserver/

According to the GDAL website, there is an existing driver to do this
already: https://gdal.org/drivers/vector/mvt.html#vector-mvt

I'm just not sure how to make it work with MapServer.
My MapServer instance is packaged by MS4W, so GDAL driver access should be
available.

Is there anyone who can guide me on how to achieve this?

Thank you
Petrovicz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211220/7e5e5745/attachment.html>

From jp4work at gmail.com  Wed Dec 22 02:38:18 2021
From: jp4work at gmail.com (Pei JIA)
Date: Wed, 22 Dec 2021 02:38:18 -0800
Subject: [gdal-dev] libgdal.so: undefined reference to `qh_qh'
Message-ID: <CADh8Q_WbhuAPkvv8iB8CxCtNNNA0mA2WbcVce4zR6P9WSCE4RQ@mail.gmail.com>

Hi, all:

Again, I failed to build *gdal-3.4.0* , against the current *qhull 8.1.1 *.

1. I used

*CFLAGS="-O3 -pipe -march=native -w"; CXXFLAGS="${CFLAGS}" ./configure
--with-proj=$ROOTDIR --with-cpp14  --with-crypto=yes --with-liblzma
--with-python --with-geos=$ROOTDIR --with-spatialite --with-openjpeg
--with-hdf5=$ROOTDIR --with-netcdf=$ROOTDIR --with-pg --with-curl
--with-png --with-qhull=yes*

for configuration.

2. while making, I got the following error messages:

*echo 'CONFIG_FORMATS="derived gtiff hfa mem vrt  aaigrid adrg aigrid
airsar arg blx bmp bsb cals ceos ceos2 coasp cosar ctg dimap dted elas
envisat ers esric fit gff gsg gxf hf2 idrisi ilwis ingr iris iso8211
jaxapalsar jdem kmlsuperoverlay l1b leveller map mrf msgn ngsgeoid nitf
northwood pds prf r raw rmf rs2 safe saga sdts sentinel2 sgi sigdem srtmhgt
stacit stacta terragen tga til tsx usgsdem xpm xyz zarr zmap rik ozi eeda
plmosaic rda wcs wms wmts daas ogcapi rasterlite mbtiles grib pdf heif exr
webp openjpeg netcdf hdf5 gif png pcraster fits jpeg  pcidsk postgisraster
jpegls"' >> gdal-config-inst*
*echo 'CONFIG_FORMATS="derived gtiff hfa mem vrt  aaigrid adrg aigrid
airsar arg blx bmp bsb cals ceos ceos2 coasp cosar ctg dimap dted elas
envisat ers esric fit gff gsg gxf hf2 idrisi ilwis ingr iris iso8211
jaxapalsar jdem kmlsuperoverlay l1b leveller map mrf msgn ngsgeoid nitf
northwood pds prf r raw rmf rs2 safe saga sdts sentinel2 sgi sigdem srtmhgt
stacit stacta terragen tga til tsx usgsdem xpm xyz zarr zmap rik ozi eeda
plmosaic rda wcs wms wmts daas ogcapi rasterlite mbtiles grib pdf heif exr
webp openjpeg netcdf hdf5 gif png pcraster fits jpeg  pcidsk postgisraster
jpegls"' >> gdal-config*
*cat gdal-config.in <http://gdal-config.in> >> gdal-config*
*cat gdal-config.in <http://gdal-config.in> >> gdal-config-inst*
*chmod a+x gdal-config*
*chmod a+x gdal-config-inst*
*/bin/bash ....../gdal/libtool --mode=link --silent g++  gdal_create.lo
 ....../gdal/libgdal.la <http://libgdal.la> -o gdal_create*
*/bin/bash ....../gdal/libtool --mode=link --silent g++  gdal_contour.lo
 ....../gdal/libgdal.la <http://libgdal.la> -o gdal_contour*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so/usr/bin/ld
<http://libgdal.so/usr/bin/ld>: undefined reference to `:
....../gdal/.libs/libgdal.so: undefined reference to `qh_qhqh_qh'*
*'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*/usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to `qh_qh'*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*make[1]: *** [GNUmakefile:89: gdalinfo] Error 1*
*make[1]: *** Waiting for unfinished jobs....*
*make[1]: *** [GNUmakefile:110: nearblack] Error 1*
*make[1]: *** [GNUmakefile:92: gdalmdiminfo] Error 1*
*collect2: error: ld returned 1 exit status*
*make[1]: *** [GNUmakefile:95: gdalmdimtranslate] Error 1*
*make[1]: *** [GNUmakefile:134: gdaldem] Error 1*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*make[1]: *** [GNUmakefile:149: gdalsrsinfo] Error 1*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*collect2: error: ld returned 1 exit status*
*make[1]: *** [GNUmakefile:191: gdal_viewshed] Error 1*
*collect2: error: ld returned 1 exit status*
*make[1]: *** [GNUmakefile:143: gdaltransform] Error 1*
*make[1]: *** [GNUmakefile:98: gdal_translate] Error 1*
*make[1]: *** [GNUmakefile:113: gdalmanage] Error 1*
*collect2: error: ld returned 1 exit status*
*make[1]: *** [GNUmakefile:101: gdaladdo] Error 1*
*make[1]: *** [GNUmakefile:146: gdallocationinfo] Error 1*
*make[1]: *** [GNUmakefile:107: gdal_contour] Error 1*
*make[1]: *** [GNUmakefile:104: gdalwarp] Error 1*
*make[1]: *** [GNUmakefile:131: gdalenhance] Error 1*
*make[1]: *** [GNUmakefile:194: gdal_create] Error 1*
*make[1]: Leaving directory '....../gdal/apps'*
*make: *** [GNUmakefile:123: apps-target] Error 2*



Did anybody successfully build *gdal-3.4.0* with *qhull-8.1.1* ? Please
give me a hand... Thank you ...

-- 

Pei JIA, Ph.D.

Email: jp4work at gmail.com


Welcome to Vision Open
http://www.visionopen.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211222/2d0c717e/attachment.html>

From marco.atzeri at gmail.com  Wed Dec 22 03:22:37 2021
From: marco.atzeri at gmail.com (Marco Atzeri)
Date: Wed, 22 Dec 2021 12:22:37 +0100
Subject: [gdal-dev] libgdal.so: undefined reference to `qh_qh'
In-Reply-To: <CADh8Q_WbhuAPkvv8iB8CxCtNNNA0mA2WbcVce4zR6P9WSCE4RQ@mail.gmail.com>
References: <CADh8Q_WbhuAPkvv8iB8CxCtNNNA0mA2WbcVce4zR6P9WSCE4RQ@mail.gmail.com>
Message-ID: <7a42e4a5-9c3e-14de-e618-8aeb8b96b1c8@gmail.com>

On 22.12.2021 11:38, Pei JIA wrote:
> 
> Hi, all:
> 
> Again, I failed to build *gdal-3.4.0* , against the current *qhull 8.1.1 *.
> 

platform ?

is /usr/include/libqhull/libqhull.h in place and
have you the proper libqhull-devel (or equivalent for your platform)
in place ?


> 1. I used
> 
>     /CFLAGS="-O3 -pipe -march=native -w"; CXXFLAGS="${CFLAGS}"
>     ./configure --with-proj=$ROOTDIR --with-cpp14 ?--with-crypto=yes
>     --with-liblzma --with-python --with-geos=$ROOTDIR --with-spatialite
>     --with-openjpeg --with-hdf5=$ROOTDIR --with-netcdf=$ROOTDIR
>     --with-pg --with-curl --with-png --with-qhull=yes/
> 
> for configuration.
> 
> 2. while making, I got the following error messages:
> 

>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so/usr/bin/ld
>     <http://libgdal.so/usr/bin/ld>: undefined reference to `:
>     ....../gdal/.libs/libgdal.so: undefined reference to `qh_qhqh_qh'/
>     /'/

I assume the qh_qhqh_qh is an artifact of copy and paste on the mail

Regards
Marco


From even.rouault at spatialys.com  Thu Dec 23 05:54:39 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 23 Dec 2021 14:54:39 +0100
Subject: [gdal-dev] libgdal.so: undefined reference to `qh_qh'
In-Reply-To: <CADh8Q_WbhuAPkvv8iB8CxCtNNNA0mA2WbcVce4zR6P9WSCE4RQ@mail.gmail.com>
References: <CADh8Q_WbhuAPkvv8iB8CxCtNNNA0mA2WbcVce4zR6P9WSCE4RQ@mail.gmail.com>
Message-ID: <dcdceeb5-8b75-a1c1-b653-d0dc86a7fde4@spatialys.com>

Hi,

This should be fixed per https://github.com/OSGeo/gdal/pull/5033 which 
adds support for re-entrant qhull (libqhull_r), which is what is now 
shipped in recent qhull versions.

Even

Le 22/12/2021 ? 11:38, Pei JIA a ?crit?:
>
> Hi, all:
>
> Again, I failed to build *gdal-3.4.0* , against the current *qhull 
> 8.1.1 *.
>
> 1. I used
>
>     /CFLAGS="-O3 -pipe -march=native -w"; CXXFLAGS="${CFLAGS}"
>     ./configure --with-proj=$ROOTDIR --with-cpp14 ?--with-crypto=yes
>     --with-liblzma --with-python --with-geos=$ROOTDIR
>     --with-spatialite --with-openjpeg --with-hdf5=$ROOTDIR
>     --with-netcdf=$ROOTDIR --with-pg --with-curl --with-png
>     --with-qhull=yes/
>
> for configuration.
>
> 2. while making, I got the following error messages:
>
>     /echo 'CONFIG_FORMATS="derived gtiff hfa mem vrt ?aaigrid adrg
>     aigrid airsar arg blx bmp bsb cals ceos ceos2 coasp cosar ctg
>     dimap dted elas envisat ers esric fit gff gsg gxf hf2 idrisi ilwis
>     ingr iris iso8211 jaxapalsar jdem kmlsuperoverlay l1b leveller map
>     mrf msgn ngsgeoid nitf northwood pds prf r raw rmf rs2 safe saga
>     sdts sentinel2 sgi sigdem srtmhgt stacit stacta terragen tga til
>     tsx usgsdem xpm xyz zarr zmap rik ozi eeda plmosaic rda wcs wms
>     wmts daas ogcapi rasterlite mbtiles grib pdf heif exr webp
>     openjpeg netcdf hdf5 gif png pcraster fits jpeg ?pcidsk
>     postgisraster jpegls"' >> gdal-config-inst/
>     /echo 'CONFIG_FORMATS="derived gtiff hfa mem vrt ?aaigrid adrg
>     aigrid airsar arg blx bmp bsb cals ceos ceos2 coasp cosar ctg
>     dimap dted elas envisat ers esric fit gff gsg gxf hf2 idrisi ilwis
>     ingr iris iso8211 jaxapalsar jdem kmlsuperoverlay l1b leveller map
>     mrf msgn ngsgeoid nitf northwood pds prf r raw rmf rs2 safe saga
>     sdts sentinel2 sgi sigdem srtmhgt stacit stacta terragen tga til
>     tsx usgsdem xpm xyz zarr zmap rik ozi eeda plmosaic rda wcs wms
>     wmts daas ogcapi rasterlite mbtiles grib pdf heif exr webp
>     openjpeg netcdf hdf5 gif png pcraster fits jpeg ?pcidsk
>     postgisraster jpegls"' >> gdal-config/
>     /cat gdal-config.in <http://gdal-config.in> >> gdal-config/
>     /cat gdal-config.in <http://gdal-config.in> >> gdal-config-inst/
>     /chmod a+x gdal-config/
>     /chmod a+x gdal-config-inst/
>     //bin/bash ....../gdal/libtool --mode=link --silent g++
>     ?gdal_create.lo ?....../gdal/libgdal.la <http://libgdal.la> -o
>     gdal_create/
>     //bin/bash ....../gdal/libtool --mode=link --silent g++
>     ?gdal_contour.lo ?....../gdal/libgdal.la <http://libgdal.la> -o
>     gdal_contour/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so/usr/bin/ld
>     <http://libgdal.so/usr/bin/ld>: undefined reference to `:
>     ....../gdal/.libs/libgdal.so: undefined reference to `qh_qhqh_qh'/
>     /'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     //usr/bin/ld: ....../gdal/.libs/libgdal.so: undefined reference to
>     `qh_qh'/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /make[1]: *** [GNUmakefile:89: gdalinfo] Error 1/
>     /make[1]: *** Waiting for unfinished jobs..../
>     /make[1]: *** [GNUmakefile:110: nearblack] Error 1/
>     /make[1]: *** [GNUmakefile:92: gdalmdiminfo] Error 1/
>     /collect2: error: ld returned 1 exit status/
>     /make[1]: *** [GNUmakefile:95: gdalmdimtranslate] Error 1/
>     /make[1]: *** [GNUmakefile:134: gdaldem] Error 1/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /make[1]: *** [GNUmakefile:149: gdalsrsinfo] Error 1/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /collect2: error: ld returned 1 exit status/
>     /make[1]: *** [GNUmakefile:191: gdal_viewshed] Error 1/
>     /collect2: error: ld returned 1 exit status/
>     /make[1]: *** [GNUmakefile:143: gdaltransform] Error 1/
>     /make[1]: *** [GNUmakefile:98: gdal_translate] Error 1/
>     /make[1]: *** [GNUmakefile:113: gdalmanage] Error 1/
>     /collect2: error: ld returned 1 exit status/
>     /make[1]: *** [GNUmakefile:101: gdaladdo] Error 1/
>     /make[1]: *** [GNUmakefile:146: gdallocationinfo] Error 1/
>     /make[1]: *** [GNUmakefile:107: gdal_contour] Error 1/
>     /make[1]: *** [GNUmakefile:104: gdalwarp] Error 1/
>     /make[1]: *** [GNUmakefile:131: gdalenhance] Error 1/
>     /make[1]: *** [GNUmakefile:194: gdal_create] Error 1/
>     /make[1]: Leaving directory '....../gdal/apps'/
>     /make: *** [GNUmakefile:123: apps-target] Error 2/
>
>
>
> Did anybody successfully build *gdal-3.4.0* with *qhull-8.1.1* ? 
> Please give me a hand... Thank you ...
>
> -- 
>
> Pei JIA, Ph.D.
>
> Email: jp4work at gmail.com <mailto:jp4work at gmail.com>
>
>
> Welcome to Vision Open
> http://www.visionopen.com <http://www.visionopen.com>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211223/9b287112/attachment.html>

From lucabert at lucabert.de  Mon Dec 27 10:52:32 2021
From: lucabert at lucabert.de (Luca Bertoncello)
Date: Mon, 27 Dec 2021 19:52:32 +0100
Subject: [gdal-dev] Get max elevation on "squares"
Message-ID: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>

Hi list!

I'm very new to GDAL, so please excuse me if the question is too simple...

My problem: I'm writing an App to fly VFR and I'd like to display a
vertical profile of the route.
Of course, it must work offline, so I cannot use a service like Google
Maps or similar...

I tryed OpenTopoData with the EUDEM dataset and I can get the elevation
from a single point.
Very nice, but not useful for my App...

Since I don't need a huge precision, but I do need a relative small file
to use in my App, it may suffice if I can create a database with the
maximum elevation in a square 5x5 km, identified by the coordinates of
the center.

And here start the problems, since I don't have any idea how to extract
these data from the TIFF files I have.

On the server (Debian 10) is Python and PERL installed, as well as the
GDAL utilities.

Can someone help me?

Thank you very very much for your help!
Luca Bertoncello
(lucabert at lucabert.de)

From alansnow21 at gmail.com  Mon Dec 27 11:20:00 2021
From: alansnow21 at gmail.com (Alan Snow)
Date: Mon, 27 Dec 2021 13:20:00 -0600
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
Message-ID: <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>

You may be looking for clip/mask:

https://rasterio.readthedocs.io/en/latest/topics/masking-by-shapefile.html

https://corteva.github.io/rioxarray/stable/examples/clip_geom.html


After clipping, you can use numpy to do the sum.

On Mon, Dec 27, 2021, 12:58 PM Luca Bertoncello <lucabert at lucabert.de>
wrote:

> Hi list!
>
> I'm very new to GDAL, so please excuse me if the question is too simple...
>
> My problem: I'm writing an App to fly VFR and I'd like to display a
> vertical profile of the route.
> Of course, it must work offline, so I cannot use a service like Google
> Maps or similar...
>
> I tryed OpenTopoData with the EUDEM dataset and I can get the elevation
> from a single point.
> Very nice, but not useful for my App...
>
> Since I don't need a huge precision, but I do need a relative small file
> to use in my App, it may suffice if I can create a database with the
> maximum elevation in a square 5x5 km, identified by the coordinates of
> the center.
>
> And here start the problems, since I don't have any idea how to extract
> these data from the TIFF files I have.
>
> On the server (Debian 10) is Python and PERL installed, as well as the
> GDAL utilities.
>
> Can someone help me?
>
> Thank you very very much for your help!
> Luca Bertoncello
> (lucabert at lucabert.de)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211227/65ea4fe2/attachment.html>

From lucabert at lucabert.de  Mon Dec 27 11:45:34 2021
From: lucabert at lucabert.de (Luca Bertoncello)
Date: Mon, 27 Dec 2021 20:45:34 +0100
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
Message-ID: <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>

Am 27.12.2021 um 20:20 schrieb Alan Snow:

Hi Alan,

thank you very much for your answer!

> You may be looking for clip/mask:
>
> https://rasterio.readthedocs.io/en/latest/topics/masking-by-shapefile.html
>
> https://corteva.github.io/rioxarray/stable/examples/clip_geom.html
>
> After clipping, you can use numpy to do the sum.

As I sayd, I'm really new to GDAL.
I just have these TIFF-files and can't unterstand, from the pages you
linked, how can I split alle these files in little tiles of a given size.
Maybe can you give me an example?

Thanks a lot
Luca Bertoncello
(lucabert at lucabert.de)

From even.rouault at spatialys.com  Mon Dec 27 13:06:02 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 27 Dec 2021 22:06:02 +0100
Subject: [gdal-dev] GDAL 3.4.1 RC1 available
Message-ID: <8ba5f875-8384-4a21-b475-0557a182eab8@spatialys.com>

Hi,

I have prepared a GDAL/OGR 3.4.1 release candidate.

Pick up an archive among the following ones (by ascending size):

 ? https://download.osgeo.org/gdal/3.4.1/gdal-3.4.1rc1.tar.xz
 ? https://download.osgeo.org/gdal/3.4.1/gdal-3.4.1rc1.tar.gz
 ? https://download.osgeo.org/gdal/3.4.1/gdal341rc1.zip

A snapshot of the gdalautotest suite is also available :

https://download.osgeo.org/gdal/3.4.1/gdalautotest-3.4.1rc1.tar.gz
 ? https://download.osgeo.org/gdal/3.4.1/gdalautotest-3.4.1rc1.zip

GDAL-GRASS plugin:

 ? https://download.osgeo.org/gdal/3.4.1/gdal-grass-3.4.1.tar.gz

The NEWS file is here :

 ? https://github.com/OSGeo/gdal/blob/v3.4.1RC1/gdal/NEWS.md

I'll call for a vote promoting it to final later this week if no
serious problems are reported before.

Best regards,

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From alansnow21 at gmail.com  Mon Dec 27 19:54:28 2021
From: alansnow21 at gmail.com (Alan Snow)
Date: Mon, 27 Dec 2021 21:54:28 -0600
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
Message-ID: <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>

After some thought, you may achieve what you want by resampling the file to
a 5km grid size with the Resampling.max option:

https://rasterio.readthedocs.io/en/latest/topics/resampling.html

https://rasterio.readthedocs.io/en/latest/api/rasterio.enums.html#rasterio.enums.Resampling.max

You can then store the centroid of the grid cell and the value in a
database.

On Mon, Dec 27, 2021, 1:45 PM Luca Bertoncello <lucabert at lucabert.de> wrote:

> Am 27.12.2021 um 20:20 schrieb Alan Snow:
>
> Hi Alan,
>
> thank you very much for your answer!
>
> > You may be looking for clip/mask:
> >
> >
> https://rasterio.readthedocs.io/en/latest/topics/masking-by-shapefile.html
> >
> > https://corteva.github.io/rioxarray/stable/examples/clip_geom.html
> >
> > After clipping, you can use numpy to do the sum.
>
> As I sayd, I'm really new to GDAL.
> I just have these TIFF-files and can't unterstand, from the pages you
> linked, how can I split alle these files in little tiles of a given size.
> Maybe can you give me an example?
>
> Thanks a lot
> Luca Bertoncello
> (lucabert at lucabert.de)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211227/60b6ace2/attachment.html>

From lucabert at lucabert.de  Mon Dec 27 22:56:27 2021
From: lucabert at lucabert.de (Luca Bertoncello)
Date: Tue, 28 Dec 2021 07:56:27 +0100
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
Message-ID: <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>

Am 28.12.2021 um 04:54 schrieb Alan Snow:

Hi Alan

> After some thought, you may achieve what you want by resampling the file
> to a 5km grid size with the Resampling.max option:

This is a good idea... I will need to write some code in Python (I don't
really know this language), but I think I'll get it...

> You can then store the centroid of the grid cell and the value in a
> database.

Yes, I already see with gdalinfo -mm (maybe there is a possibility to
check it with Python?) I can get the maximum elevation and the centroid.

Just some question, to correctly understand the code sample:

1) I think, dataset.read get the size as parameter, correct? Are there
meter/kilometer/something other?
I searched some information about DatasetReader.read but I didn't found
anything...
2) In the example the new image will not be saved, is it correct? How
can I do that? I didn't found any function DatasetReader.save...
3) Maybe is it possible to do that in BASH? As I sayd, I'm not really
fit in Python... :(

Thanks a lot
Luca Bertoncello
(lucabert at lucabert.de)

From alansnow21 at gmail.com  Tue Dec 28 07:45:21 2021
From: alansnow21 at gmail.com (Alan Snow)
Date: Tue, 28 Dec 2021 09:45:21 -0600
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
Message-ID: <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>

This resource is useful to help you get started exploring raster data with
Python:

https://carpentries-incubator.github.io/geospatial-python/05-raster-structure/index.html

https://www.earthdatascience.org/courses/use-data-open-source-python/intro-raster-data-python/raster-data-processing/


If the CRS of your raster is not in meters, you will need to reproject your
raster. I recommend changing the grid cell size in the same operation and
using Resampling.max. Here are some helpful references:

https://rasterio.readthedocs.io/en/latest/topics/virtual-warping.html

https://corteva.github.io/rioxarray/stable/examples/reproject.html#Reproject-Large-Rasters-with-Virtual-Warping

On Tue, Dec 28, 2021, 12:56 AM Luca Bertoncello <lucabert at lucabert.de>
wrote:

> Am 28.12.2021 um 04:54 schrieb Alan Snow:
>
> Hi Alan
>
> > After some thought, you may achieve what you want by resampling the file
> > to a 5km grid size with the Resampling.max option:
>
> This is a good idea... I will need to write some code in Python (I don't
> really know this language), but I think I'll get it...
>
> > You can then store the centroid of the grid cell and the value in a
> > database.
>
> Yes, I already see with gdalinfo -mm (maybe there is a possibility to
> check it with Python?) I can get the maximum elevation and the centroid.
>
> Just some question, to correctly understand the code sample:
>
> 1) I think, dataset.read get the size as parameter, correct? Are there
> meter/kilometer/something other?
> I searched some information about DatasetReader.read but I didn't found
> anything...
> 2) In the example the new image will not be saved, is it correct? How
> can I do that? I didn't found any function DatasetReader.save...
> 3) Maybe is it possible to do that in BASH? As I sayd, I'm not really
> fit in Python... :(
>
> Thanks a lot
> Luca Bertoncello
> (lucabert at lucabert.de)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211228/45d50e6a/attachment.html>

From lucabert at lucabert.de  Tue Dec 28 09:47:51 2021
From: lucabert at lucabert.de (Luca Bertoncello)
Date: Tue, 28 Dec 2021 18:47:51 +0100
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
 <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>
Message-ID: <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>

Am 28.12.2021 um 16:45 schrieb Alan Snow:
> This resource is useful to help you get started exploring raster data
> with Python:

Maybe there is other possibility than write a Python code? I really
don't know Python and if I first need to learn it to extract the
information I need, it will take a while...

I discovered this:
	https://www.eea.europa.eu/data-and-maps/data/digital-elevation-model-of-europe/

The resolution is enough for my purpose and the file size is OK.
So as I understand in this file every pixel has a size of 3x3 km, is it
correct?

So my problem is now to get the "pixel coordinate" from latitude and
longitude and extract the elevation from the TIF.

Am I right, until here?

If yes: can someone suggest me a way to extract the data from this file?
Best solution is a PERL or BASH script, no matter if it runs for hours
or days, since I do the export just once.

Thanks
Luca Bertoncello
(lucabert at lucabert.de)

From jluis at ualg.pt  Tue Dec 28 09:59:44 2021
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Tue, 28 Dec 2021 17:59:44 +0000
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
 <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>
 <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>
Message-ID: <AM6PR04MB39594E0F4993F595C57BF737A6439@AM6PR04MB3959.eurprd04.prod.outlook.com>

With GMT that is a single command using the grdtrack module

https://docs.generic-mapping-tools.org/dev/grdtrack.html

-----Original Message-----
From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Luca Bertoncello
Sent: Tuesday, December 28, 2021 5:48 PM
To: gdal dev <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Get max elevation on "squares"

Am 28.12.2021 um 16:45 schrieb Alan Snow:
> This resource is useful to help you get started exploring raster data 
> with Python:

Maybe there is other possibility than write a Python code? I really don't know Python and if I first need to learn it to extract the information I need, it will take a while...

I discovered this:
	https://www.eea.europa.eu/data-and-maps/data/digital-elevation-model-of-europe/

The resolution is enough for my purpose and the file size is OK.
So as I understand in this file every pixel has a size of 3x3 km, is it correct?

So my problem is now to get the "pixel coordinate" from latitude and longitude and extract the elevation from the TIF.

Am I right, until here?

If yes: can someone suggest me a way to extract the data from this file?
Best solution is a PERL or BASH script, no matter if it runs for hours or days, since I do the export just once.

Thanks
Luca Bertoncello
(lucabert at lucabert.de)
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev

From lucabert at lucabert.de  Tue Dec 28 11:51:50 2021
From: lucabert at lucabert.de (Luca Bertoncello)
Date: Tue, 28 Dec 2021 20:51:50 +0100
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
Message-ID: <c9ade522-9c7b-f784-0acd-d34bec729e51@lucabert.de>

Am 28.12.2021 um 04:54 schrieb Alan Snow:
> After some thought, you may achieve what you want by resampling the file
> to a 5km grid size with the Resampling.max option:
> 
> https://rasterio.readthedocs.io/en/latest/topics/resampling.html
> 
> https://rasterio.readthedocs.io/en/latest/api/rasterio.enums.html#rasterio.enums.Resampling.max
> 
> You can then store the centroid of the grid cell and the value in a
> database.

So, maybe I got something...
I started with the EU DEM data from
https://land.copernicus.eu/imagery-in-situ/eu-dem/eu-dem-v1.1?tab=download
Then I created a VRT file of a part of these data, about what I need
(later I'll refine the sampling):

gdalbuildvrt -tr 25 25 -tap -te 3000000 1000000 8000000 6000000 r.vrt
../eudem/*.TIF

and then I resample the data saving all in a TIFF file:

gdalwarp -tr 5000 5000 r.vrt ../x/x.tif

Now I have a TIFF file with a resolution of 5x5 km (I hope):

$ gdalinfo -mm x.tif
....
Origin = (3000000.000000000000000,6000000.000000000000000)
Pixel Size = (5000.000000000000000,-5000.000000000000000)
Metadata:
.....

Do I am right until now?
I checked some known location (airports) and I see the elevation from
the 25 meter precision VRT file is better (of course) but the elevation
from the 5 km precision TIFF file is quite accurate, with a difference
of less than 10 meter. To create a vertical profile using during the
flight 10 meter are damned good.

Now I have to extract the data and save them in a SQLite file...
And I don't know how to do it per Script... :(

Any help?

Or maybe there are a Java-Library to using in Android to read the TIFF file?

Thanks
Luca Bertoncello
(lucabert at lucabert.de)

From jluis at ualg.pt  Tue Dec 28 13:50:55 2021
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Tue, 28 Dec 2021 21:50:55 +0000
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <AM6PR04MB39594E0F4993F595C57BF737A6439@AM6PR04MB3959.eurprd04.prod.outlook.com>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
 <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>
 <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>
 <AM6PR04MB39594E0F4993F595C57BF737A6439@AM6PR04MB3959.eurprd04.prod.outlook.com>
Message-ID: <AM6PR04MB3959007D36F472978D68CB4FA6439@AM6PR04MB3959.eurprd04.prod.outlook.com>

This is for the Lisbon Airport.
The first time it downloads the grid(s). Here something is probably failing because it shouldn't need to download all tiles that make up the global grid (8 tiles and 30 Mb for this resolution)

echo -9.1409 38.7718 | grdtrack -G at earth_relief_03m
grdblend [NOTICE]: Remote data courtesy of GMT data server oceania [http://oceania.generic-mapping-tools.org]

grdblend [NOTICE]: Earth Relief at 3x3 arc minutes from Gaussian Cartesian filtering (5.6 km fullwidth) of SRTM15+V2.1 [Tozer et al., 2019].
grdblend [NOTICE]:   -> Download 90x90 degree grid tile (earth_relief_03m_p): S90W180

-9.1409 38.7718 87.2690486581

-----Original Message-----
From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Joaquim Manuel Freire Lu?s
Sent: Tuesday, December 28, 2021 6:00 PM
To: Luca Bertoncello <lucabert at lucabert.de>; gdal dev <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Get max elevation on "squares"

With GMT that is a single command using the grdtrack module

https://docs.generic-mapping-tools.org/dev/grdtrack.html

-----Original Message-----
From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Luca Bertoncello
Sent: Tuesday, December 28, 2021 5:48 PM
To: gdal dev <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Get max elevation on "squares"

Am 28.12.2021 um 16:45 schrieb Alan Snow:
> This resource is useful to help you get started exploring raster data 
> with Python:

Maybe there is other possibility than write a Python code? I really don't know Python and if I first need to learn it to extract the information I need, it will take a while...

I discovered this:
	https://www.eea.europa.eu/data-and-maps/data/digital-elevation-model-of-europe/

The resolution is enough for my purpose and the file size is OK.
So as I understand in this file every pixel has a size of 3x3 km, is it correct?

So my problem is now to get the "pixel coordinate" from latitude and longitude and extract the elevation from the TIF.

Am I right, until here?

If yes: can someone suggest me a way to extract the data from this file?
Best solution is a PERL or BASH script, no matter if it runs for hours or days, since I do the export just once.

Thanks
Luca Bertoncello
(lucabert at lucabert.de)
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev

From wichmann at laserdata.at  Wed Dec 29 01:30:56 2021
From: wichmann at laserdata.at (Volker Wichmann)
Date: Wed, 29 Dec 2021 10:30:56 +0100
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <c9ade522-9c7b-f784-0acd-d34bec729e51@lucabert.de>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <c9ade522-9c7b-f784-0acd-d34bec729e51@lucabert.de>
Message-ID: <5d0a26ee-0a02-136d-8211-fd0b00caa6f7@laserdata.at>

Hi Luca,

I haven't followed the discussion in detail, but you could use

https://gdal.org/programs/gdallocationinfo.html

to read out the values from your resampled raster.

The elevation differences between high and coarse resolution DEMs 
strongly depend on the relief in the area of investigation. So the 
differences between 25m and 5000m DEMs might be quite significant. Maybe 
better query the path on the high resolution and then smooth the profile 
afterwards (to keep min/max values for example).

Another approach would be to resample your high res DEM with the min/max 
resampling options of

https://gdal.org/programs/gdalwarp.html

and thus create low res DEMs with the extreme values.


Best regards,
Volker


On 12/28/21 20:51, Luca Bertoncello wrote:
> Am 28.12.2021 um 04:54 schrieb Alan Snow:
>> After some thought, you may achieve what you want by resampling the file
>> to a 5km grid size with the Resampling.max option:
>>
>> https://rasterio.readthedocs.io/en/latest/topics/resampling.html
>>
>> https://rasterio.readthedocs.io/en/latest/api/rasterio.enums.html#rasterio.enums.Resampling.max
>>
>> You can then store the centroid of the grid cell and the value in a
>> database.
> 
> So, maybe I got something...
> I started with the EU DEM data from
> https://land.copernicus.eu/imagery-in-situ/eu-dem/eu-dem-v1.1?tab=download
> Then I created a VRT file of a part of these data, about what I need
> (later I'll refine the sampling):
> 
> gdalbuildvrt -tr 25 25 -tap -te 3000000 1000000 8000000 6000000 r.vrt
> ../eudem/*.TIF
> 
> and then I resample the data saving all in a TIFF file:
> 
> gdalwarp -tr 5000 5000 r.vrt ../x/x.tif
> 
> Now I have a TIFF file with a resolution of 5x5 km (I hope):
> 
> $ gdalinfo -mm x.tif
> ....
> Origin = (3000000.000000000000000,6000000.000000000000000)
> Pixel Size = (5000.000000000000000,-5000.000000000000000)
> Metadata:
> .....
> 
> Do I am right until now?
> I checked some known location (airports) and I see the elevation from
> the 25 meter precision VRT file is better (of course) but the elevation
> from the 5 km precision TIFF file is quite accurate, with a difference
> of less than 10 meter. To create a vertical profile using during the
> flight 10 meter are damned good.
> 
> Now I have to extract the data and save them in a SQLite file...
> And I don't know how to do it per Script... :(
> 
> Any help?
> 
> Or maybe there are a Java-Library to using in Android to read the TIFF file?
> 
> Thanks
> Luca Bertoncello
> (lucabert at lucabert.de)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

From lucabert at lucabert.de  Wed Dec 29 01:43:31 2021
From: lucabert at lucabert.de (Luca Bertoncello)
Date: Wed, 29 Dec 2021 10:43:31 +0100
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <5d0a26ee-0a02-136d-8211-fd0b00caa6f7@laserdata.at>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <c9ade522-9c7b-f784-0acd-d34bec729e51@lucabert.de>
 <5d0a26ee-0a02-136d-8211-fd0b00caa6f7@laserdata.at>
Message-ID: <96d53e16-4553-a434-94ed-b56fb0261796@lucabert.de>

Am 29.12.2021 um 10:30 schrieb Volker Wichmann:

Hi Volker

> I haven't followed the discussion in detail, but you could use
> 
> https://gdal.org/programs/gdallocationinfo.html
> 
> to read out the values from your resampled raster.

I did that. And got a little Python script to export the data as SQL for
a later import in a PostGIS database, so I can get the elevations by
country...

> The elevation differences between high and coarse resolution DEMs
> strongly depend on the relief in the area of investigation. So the
> differences between 25m and 5000m DEMs might be quite significant. Maybe

"Quite significant" means +/-30 meter in my tests...
Since every airplane has to hold _at least_ 600 meter over ground this
is really not a problem...

> better query the path on the high resolution and then smooth the profile
> afterwards (to keep min/max values for example).

This solution cannot work in my case, since I need the data as database
for use in my App. The pilot can decide every moment to change the route
and it's not always possible to get new data during the flight.
Importing 40GB data in the App is even not possible, of course...

Regards
Luca Bertoncello
(lucabert at lucabert.de)

From andrew at aitchison.me.uk  Wed Dec 29 02:42:53 2021
From: andrew at aitchison.me.uk (Andrew C Aitchison)
Date: Wed, 29 Dec 2021 10:42:53 +0000 (GMT)
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
 <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>
 <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>
Message-ID: <3aa99348-a221-ecf3-f3f8-dca12b14fbd@aitchison.me.uk>

On Tue, 28 Dec 2021, Luca Bertoncello wrote:

> Am 28.12.2021 um 16:45 schrieb Alan Snow:
>> This resource is useful to help you get started exploring raster data
>> with Python:
>
> Maybe there is other possibility than write a Python code? I really
> don't know Python and if I first need to learn it to extract the
> information I need, it will take a while...
>
> I discovered this:
> 	https://www.eea.europa.eu/data-and-maps/data/digital-elevation-model-of-europe/
>
> The resolution is enough for my purpose and the file size is OK.
> So as I understand in this file every pixel has a size of 3x3 km, is it
> correct?

Is this the max or the average height of the square ?

Do you need to warn of pylons, skyscrapers, bridges or radio masts ?
These are unlikely to be included in such map data.

I note that you say aircraft must fly above 600m
but this wont apply to working helicopters and takeoff/landing.

-- 
Andrew C. Aitchison					Kendal, UK
 			andrew at aitchison.me.uk

From lucabert at lucabert.de  Wed Dec 29 02:48:41 2021
From: lucabert at lucabert.de (Luca Bertoncello)
Date: Wed, 29 Dec 2021 11:48:41 +0100
Subject: [gdal-dev] Get max elevation on "squares"
In-Reply-To: <3aa99348-a221-ecf3-f3f8-dca12b14fbd@aitchison.me.uk>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
 <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>
 <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>
 <3aa99348-a221-ecf3-f3f8-dca12b14fbd@aitchison.me.uk>
Message-ID: <fc8277c0-eba8-bb4a-af08-cb86da3804ce@lucabert.de>

Am 29.12.2021 um 11:42 schrieb Andrew C Aitchison:

> Is this the max or the average height of the square ?

Mmmm... Now I'm unsure...

> Do you need to warn of pylons, skyscrapers, bridges or radio masts ?
> These are unlikely to be included in such map data.

None of them. Gound elevation

> I note that you say aircraft must fly above 600m
> but this wont apply to working helicopters and takeoff/landing.

Well, I simplified...
<flying instructor mode>
ICAO says: 2000ft over GND reduced to a minimum of 500ft over GND if
coulds or airspace obligate the pilots to descend.
Under 500ft GND to fly is just for take off and landing allowed.
Helicopters need a special permission to descend the 500ft GND, too.
</flying instructor mode>

;)

Regards
Luca Bertoncello
(lucabert at lucabert.de)

From Anthony.W.Baker at boeing.com  Wed Dec 29 04:59:20 2021
From: Anthony.W.Baker at boeing.com (Baker (US), Anthony W)
Date: Wed, 29 Dec 2021 12:59:20 +0000
Subject: [gdal-dev] [EXTERNAL] Re:  Get max elevation on "squares"
In-Reply-To: <fc8277c0-eba8-bb4a-af08-cb86da3804ce@lucabert.de>
References: <491c3626-7152-d358-5929-158b36af0ea3@lucabert.de>
 <CAGybdFQ2HkdbVoH5F1wS7AgRL=hz8syXKsdRZ_oVwGo+zLw0=Q@mail.gmail.com>
 <04ab066d-dfbf-a691-0d01-106dc0ade4e4@lucabert.de>
 <CAGybdFTQA4C5soWwTmpNPno3mow0-6us-+KcwqJRCZWhL=imKg@mail.gmail.com>
 <21041a4d-20f8-0fcb-87e1-dc814330a16e@lucabert.de>
 <CAGybdFQKOmsNWQOknUmns=8VrPciExSKmNDDy=ysn9NBRodpug@mail.gmail.com>
 <a14c256d-bddb-bd61-cc22-d639db31f521@lucabert.de>
 <3aa99348-a221-ecf3-f3f8-dca12b14fbd@aitchison.me.uk>
 <fc8277c0-eba8-bb4a-af08-cb86da3804ce@lucabert.de>
Message-ID: <a3d68fd6a9a84185af2a64ea7e911b6e@boeing.com>

unsubscribe

-----Original Message-----
From: gdal-dev [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Luca Bertoncello
Sent: Wednesday, December 29, 2021 5:49 AM
To: gdal-dev at lists.osgeo.org
Subject: [EXTERNAL] Re: [gdal-dev] Get max elevation on "squares"

EXT email: be mindful of links/attachments.



Am 29.12.2021 um 11:42 schrieb Andrew C Aitchison:

> Is this the max or the average height of the square ?

Mmmm... Now I'm unsure...

> Do you need to warn of pylons, skyscrapers, bridges or radio masts ?
> These are unlikely to be included in such map data.

None of them. Gound elevation

> I note that you say aircraft must fly above 600m but this wont apply 
> to working helicopters and takeoff/landing.

Well, I simplified...
<flying instructor mode>
ICAO says: 2000ft over GND reduced to a minimum of 500ft over GND if coulds or airspace obligate the pilots to descend.
Under 500ft GND to fly is just for take off and landing allowed.
Helicopters need a special permission to descend the 500ft GND, too.
</flying instructor mode>

;)

Regards
Luca Bertoncello
(lucabert at lucabert.de)
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev


From didomeister at gmail.com  Wed Dec 29 10:47:03 2021
From: didomeister at gmail.com (Deyan Vasilev)
Date: Wed, 29 Dec 2021 20:47:03 +0200
Subject: [gdal-dev] Reading various zoom-levels from a MBTiles db
Message-ID: <CAPULynUF1E+sskmmBUCTCOfa7S-Rc4uXwq4O5++sjLLuCm4k7Q@mail.gmail.com>

Hello,
I am trying to handle map zooming in a GDAL-based MBTiles windows app. The
only way I have found to control the raster's zoom level is through
GDALOpenEx's open options.

Changing the zoom-level app-side would require closing the MBTiles db and
reopening it, passing the new zoom level as an open option. I made this to
work but it seems to me somehow clumsy as there is surely a significant
overhead for closing and reopening the db.

Can you please share if there is a way to request specific zoom-levels
without doing the closing/reopening stuff?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211229/4bca36ed/attachment.html>

From even.rouault at spatialys.com  Wed Dec 29 10:50:55 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 29 Dec 2021 19:50:55 +0100
Subject: [gdal-dev] Reading various zoom-levels from a MBTiles db
In-Reply-To: <CAPULynUF1E+sskmmBUCTCOfa7S-Rc4uXwq4O5++sjLLuCm4k7Q@mail.gmail.com>
References: <CAPULynUF1E+sskmmBUCTCOfa7S-Rc4uXwq4O5++sjLLuCm4k7Q@mail.gmail.com>
Message-ID: <c4801304-bfee-6633-fa23-bb26ada0ad04@spatialys.com>

Deyan,

you generally don't need to use that option. The driver should 
automatically select the right overview level when you use the dataset 
or band RasterIO() methods, according to the window of interest and the 
size of the buffer you specify.

Even

Le 29/12/2021 ? 19:47, Deyan Vasilev a ?crit?:
> Hello,
> I am trying to handle map zooming in a GDAL-based MBTiles windows app. 
> The only way I have found to control the raster's zoom level is 
> through GDALOpenEx's open options.
>
> Changing the zoom-level app-side would require closing the MBTiles db 
> and reopening it, passing the new zoom level as an open option. I made 
> this to work but it seems to me somehow clumsy as there is surely a 
> significant overhead for closing and reopening the db.
>
> Can you please share if there is a way to request specific zoom-levels 
> without doing the closing/reopening stuff?
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211229/925846cd/attachment.html>

From didomeister at gmail.com  Wed Dec 29 11:13:21 2021
From: didomeister at gmail.com (Deyan Vasilev)
Date: Wed, 29 Dec 2021 21:13:21 +0200
Subject: [gdal-dev] Reading various zoom-levels from a MBTiles db
In-Reply-To: <c4801304-bfee-6633-fa23-bb26ada0ad04@spatialys.com>
References: <CAPULynUF1E+sskmmBUCTCOfa7S-Rc4uXwq4O5++sjLLuCm4k7Q@mail.gmail.com>
 <c4801304-bfee-6633-fa23-bb26ada0ad04@spatialys.com>
Message-ID: <CAPULynXEchFRUe3tb6LDKNM1jO5QvJ-2ULbksFuV_FC-9U9MyQ@mail.gmail.com>

Hello Even,

My map contains no overviews but a seamless collection of PNG tiles with
zoom levels ranging from 13 to 17 (which I suppose is similar to
overviews). Each tile is 256 x 256 pixels with the pixel being RGB888, a
pretty much standard arrangement.

When reading I call each band's RasterIO this way:

GDALRasterBand *b1 = DataSetIn->GetRasterBand(1);
b1->RasterIO(GF_Read, x * MAP_TILE_SIZE, y * MAP_TILE_SIZE, MAP_TILE_SIZE,
MAP_TILE_SIZE, red, MAP_TILE_SIZE, MAP_TILE_SIZE, GDT_Byte, 0, 0, NULL);

having:

MAP_TILE_SIZE defined to be 256
red - is the red band which I've allocated to be 256 x 256 byte-sized pixel
array
x & y are tile's id with respect to the main map's top-left corner at (0,0).

But this would always return data in zoom-level 17.

Deyan

On Wed, Dec 29, 2021 at 8:50 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Deyan,
>
> you generally don't need to use that option. The driver should
> automatically select the right overview level when you use the dataset or
> band RasterIO() methods, according to the window of interest and the size
> of the buffer you specify.
>
> Even
> Le 29/12/2021 ? 19:47, Deyan Vasilev a ?crit :
>
> Hello,
> I am trying to handle map zooming in a GDAL-based MBTiles windows app. The
> only way I have found to control the raster's zoom level is through
> GDALOpenEx's open options.
>
> Changing the zoom-level app-side would require closing the MBTiles db and
> reopening it, passing the new zoom level as an open option. I made this to
> work but it seems to me somehow clumsy as there is surely a significant
> overhead for closing and reopening the db.
>
> Can you please share if there is a way to request specific zoom-levels
> without doing the closing/reopening stuff?
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211229/31512889/attachment.html>

From even.rouault at spatialys.com  Thu Dec 30 01:30:09 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 30 Dec 2021 10:30:09 +0100
Subject: [gdal-dev] Motion: promote GDAL 3.4.1 RC1
Message-ID: <c8327cc5-3da5-4509-9002-130d582a54d5@spatialys.com>

Hi,

Having heard no issues being reported regarding RC1

Motion:

Adopt GDAL 3.4.1 RC1 as final 3.4.1 release

Starting with my +1

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From maxime.colmant at gmail.com  Thu Dec 30 02:26:04 2021
From: maxime.colmant at gmail.com (Maxime Colmant)
Date: Thu, 30 Dec 2021 11:26:04 +0100
Subject: [gdal-dev] Motion: promote GDAL 3.4.1 RC1
In-Reply-To: <c8327cc5-3da5-4509-9002-130d582a54d5@spatialys.com>
References: <c8327cc5-3da5-4509-9002-130d582a54d5@spatialys.com>
Message-ID: <CAKUm1Qao19zWLhmGXEucp-A0jzZsXu+9WibTKQQFH8dZWRAVdA@mail.gmail.com>

+1 for me too.
No bugs found on my side.

Le jeu. 30 d?c. 2021 ? 10:30, Even Rouault <even.rouault at spatialys.com> a
?crit :

> Hi,
>
> Having heard no issues being reported regarding RC1
>
> Motion:
>
> Adopt GDAL 3.4.1 RC1 as final 3.4.1 release
>
> Starting with my +1
>
> Even
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211230/16d5ba93/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Dec 30 03:10:07 2021
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Thu, 30 Dec 2021 11:10:07 +0000
Subject: [gdal-dev] Motion: promote GDAL 3.4.1 RC1
Message-ID: <bf6482701f23424495c6726b1287d537@maanmittauslaitos.fi>

+1

-Jukka Rahkonen-

-----Alkuper?inen viesti-----
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Even Rouault
L?hetetty: torstai 30. joulukuuta 2021 11.30
Vastaanottaja: gdal-dev at lists.osgeo.org
Aihe: [gdal-dev] Motion: promote GDAL 3.4.1 RC1

Hi,

Having heard no issues being reported regarding RC1

Motion:

Adopt GDAL 3.4.1 RC1 as final 3.4.1 release

Starting with my +1

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev

From Roger.Bivand at nhh.no  Thu Dec 30 04:19:51 2021
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Thu, 30 Dec 2021 13:19:51 +0100 (CET)
Subject: [gdal-dev] GDAL 3.4.1 RC1 available
Message-ID: <7eb91e1e-33a7-f0f5-c1e3-14f232a5998c@reclus2.nhh.no>

No issues/problems for 1000+ R packages in reverse dependency checks.

Roger

-- 
Roger Bivand
Emeritus Professor
Department of Economics, Norwegian School of Economics,
Postboks 3490 Ytre Sandviken, 5045 Bergen, Norway.
e-mail: Roger.Bivand at nhh.no
https://orcid.org/0000-0003-2392-6140
https://scholar.google.no/citations?user=AWeghB0AAAAJ&hl=en

From Matt.Wilkie at yukon.ca  Thu Dec 30 13:29:37 2021
From: Matt.Wilkie at yukon.ca (Matt.Wilkie at yukon.ca)
Date: Thu, 30 Dec 2021 21:29:37 +0000
Subject: [gdal-dev] follow warp with translate still?
Message-ID: <1f129e3650e044cdb82751b4b1784fd1@yukon.ca>

A few years ago it was best practice to follow a gdal warp process with translate in order to get better compression, and even overall speed although extra disk write is involved. Is this still the case? and when using COG output driver?  e.g.

gdalwarp infile.tif interim.tif
gdal_translate -of cog -co compress=zstd  interim.tif final.tif

thanks!

Matt Wilkie
Geomatics Developer & Administrator
Environment | Technology, Innovation and Mapping
T 867-667-8133 | Yukon.ca<http://yukon.ca/>
Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211230/eccc54d5/attachment.html>

From even.rouault at spatialys.com  Thu Dec 30 14:26:17 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 30 Dec 2021 23:26:17 +0100
Subject: [gdal-dev] follow warp with translate still?
In-Reply-To: <1f129e3650e044cdb82751b4b1784fd1@yukon.ca>
References: <1f129e3650e044cdb82751b4b1784fd1@yukon.ca>
Message-ID: <8f35835b-1d2a-b066-c643-48a36434670e@spatialys.com>

Matt,

There has been an enhancement in gdalwarp to support writing directly to 
drivers, like COG, that supports only the CreateCopy mode. So you don't 
need the 2 step process and can directly gdalwarp -of COG (it will more 
or less do the 2 steps internally)

If you output to regular GTiff, the 2 step process might be needed to 
get the best compression

Even

Le 30/12/2021 ? 22:29, Matt.Wilkie at yukon.ca a ?crit?:
>
> A few years ago it was best practice to follow a gdal warp process 
> with translate in order to get better compression, and even overall 
> speed although extra disk write is involved. Is this still the case? 
> and when using COG output driver? ?e.g.
>
> gdalwarp infile.tif interim.tif
>
> gdal_translate -of cog -co compress=zstd ?interim.tif final.tif
>
> thanks!
>
> *Matt Wilkie*
>
> Geomatics Developer & Administrator
>
> Environment | Technology, Innovation and Mapping
>
> T 867-667-8133 | _Yukon.ca <http://yukon.ca/>_
>
> /Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away./
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211230/6fc51f04/attachment.html>

From Matt.Wilkie at yukon.ca  Thu Dec 30 15:05:50 2021
From: Matt.Wilkie at yukon.ca (Matt.Wilkie at yukon.ca)
Date: Thu, 30 Dec 2021 23:05:50 +0000
Subject: [gdal-dev] follow warp with translate still?
In-Reply-To: <8f35835b-1d2a-b066-c643-48a36434670e@spatialys.com>
References: <1f129e3650e044cdb82751b4b1784fd1@yukon.ca>
 <8f35835b-1d2a-b066-c643-48a36434670e@spatialys.com>
Message-ID: <461288bfae9747b8a1d0c4ef80c1d3d2@yukon.ca>

There has been an enhancement in gdalwarp to support writing directly to drivers, like COG, that supports only the CreateCopy mode. So you don't need the 2 step process and can directly gdalwarp -of COG (it will more or less do the 2 steps internally)
Good news! Thanks Even. I'm glad I took the time to enquire. :)

-Matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211230/90ef340c/attachment.html>

From evert.etienne at sitemark.com  Fri Dec 31 00:04:40 2021
From: evert.etienne at sitemark.com (Evert Etienne (SITEMARK))
Date: Fri, 31 Dec 2021 08:04:40 +0000
Subject: [gdal-dev] follow warp with translate still?
Message-ID: <3e8cde93-ee8c-4ede-991e-2e1f2669ed5b@email.android.com>

> If you output to regular GTiff, the 2 step process might be needed to get the best compression

Are there some guidelines to when this is needed since you say 'might'?
Would it be possible to explain why this is the case?

Thanks

On Dec 30, 2021 23:26, Even Rouault <even.rouault at spatialys.com> wrote:

Matt,

There has been an enhancement in gdalwarp to support writing directly to drivers, like COG, that supports only the CreateCopy mode. So you don't need the 2 step process and can directly gdalwarp -of COG (it will more or less do the 2 steps internally)

If you output to regular GTiff, the 2 step process might be needed to get the best compression

Even

Le 30/12/2021 ? 22:29, Matt.Wilkie at yukon.ca<mailto:Matt.Wilkie at yukon.ca> a ?crit :

A few years ago it was best practice to follow a gdal warp process with translate in order to get better compression, and even overall speed although extra disk write is involved. Is this still the case? and when using COG output driver?  e.g.



gdalwarp infile.tif interim.tif

gdal_translate -of cog -co compress=zstd  interim.tif final.tif



thanks!



Matt Wilkie

Geomatics Developer & Administrator

Environment | Technology, Innovation and Mapping

T 867-667-8133 | Yukon.ca<https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fyukon.ca%2F&data=04%7C01%7Cevert.etienne%40sitemark.com%7C956448b3d0fb4d64e85e08d9cbe36bbd%7Cfc89adff07ac47008853b7b7e906068e%7C0%7C0%7C637764999902500335%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=RW%2FH6JNyDipGaTjWVJixD38pCPT3PlqrkmZgXQQM%2B80%3D&reserved=0>

Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away.





_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fgdal-dev&data=04%7C01%7Cevert.etienne%40sitemark.com%7C956448b3d0fb4d64e85e08d9cbe36bbd%7Cfc89adff07ac47008853b7b7e906068e%7C0%7C0%7C637764999902500335%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=M%2F%2BmehTP3cdAaThPcV0bk9ChffUupqTzcsaxyJw8jho%3D&reserved=0>


--
http://www.spatialys.com<https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.spatialys.com%2F&data=04%7C01%7Cevert.etienne%40sitemark.com%7C956448b3d0fb4d64e85e08d9cbe36bbd%7Cfc89adff07ac47008853b7b7e906068e%7C0%7C0%7C637764999902500335%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=laNHz%2FOiaBi5f62f1cxan%2FF3KcSMJvHREQ0H5ggnVSg%3D&reserved=0>
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211231/352967e7/attachment-0001.html>

From even.rouault at spatialys.com  Fri Dec 31 03:24:40 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 31 Dec 2021 12:24:40 +0100
Subject: [gdal-dev] follow warp with translate still?
In-Reply-To: <3e8cde93-ee8c-4ede-991e-2e1f2669ed5b@email.android.com>
References: <3e8cde93-ee8c-4ede-991e-2e1f2669ed5b@email.android.com>
Message-ID: <4900c850-405c-cef7-383a-d8f5b3e5c027@spatialys.com>


Le 31/12/2021 ? 09:04, Evert Etienne (SITEMARK) a ?crit?:
> > If you output to regular GTiff, the 2 step process might be needed 
> to get the best compression
>
> Are there some guidelines to when this is needed since you say 'might'?
> Would it be possible to explain why this is the case?

By default, warping doesn't proceed by chunks that would necessarily 
align on entire target blocks, so some target blocks might be rewritten 
several times, which will usually cause some space to be lost in the 
file if it uses compression (at least this is true for GeoTIFF output). 
The whole logic is at 
https://github.com/OSGeo/gdal/blob/master/alg/gdalwarpoperation.cpp#L1363. 
The -wo OPTIMIZE_SIZE=YES warping option can be specified to avoid that, 
but it is sometimes detrimental for speed of execution if the shapes of 
the source and target images are significantly different due to 
characteristics of their CRS.


>
> Thanks
>
> On Dec 30, 2021 23:26, Even Rouault <even.rouault at spatialys.com> wrote:
>
>     Matt,
>
>     There has been an enhancement in gdalwarp to support writing
>     directly to drivers, like COG, that supports only the CreateCopy
>     mode. So you don't need the 2 step process and can directly
>     gdalwarp -of COG (it will more or less do the 2 steps internally)
>
>     If you output to regular GTiff, the 2 step process might be needed
>     to get the best compression
>
>     Even
>
>     Le 30/12/2021 ? 22:29, Matt.Wilkie at yukon.ca
>     <mailto:Matt.Wilkie at yukon.ca> a ?crit?:
>
>         A few years ago it was best practice to follow a gdal warp
>         process with translate in order to get better compression, and
>         even overall speed although extra disk write is involved. Is
>         this still the case? and when using COG output driver? ?e.g.
>
>         gdalwarp infile.tif interim.tif
>
>         gdal_translate -of cog -co compress=zstd ?interim.tif final.tif
>
>         thanks!
>
>         *Matt Wilkie*
>
>         Geomatics Developer & Administrator
>
>         Environment | Technology, Innovation and Mapping
>
>         T 867-667-8133 | _Yukon.ca
>         <https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fyukon.ca%2F&data=04%7C01%7Cevert.etienne%40sitemark.com%7C956448b3d0fb4d64e85e08d9cbe36bbd%7Cfc89adff07ac47008853b7b7e906068e%7C0%7C0%7C637764999902500335%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=RW%2FH6JNyDipGaTjWVJixD38pCPT3PlqrkmZgXQQM%2B80%3D&reserved=0>_
>
>         /Hours: 08:30-16:30, Mon-Wed: Office, Thu: Remote, Fri: Away./
>
>
>         _______________________________________________
>         gdal-dev mailing list
>         gdal-dev at lists.osgeo.org  <mailto:gdal-dev at lists.osgeo.org>
>         https://lists.osgeo.org/mailman/listinfo/gdal-dev  <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fgdal-dev&data=04%7C01%7Cevert.etienne%40sitemark.com%7C956448b3d0fb4d64e85e08d9cbe36bbd%7Cfc89adff07ac47008853b7b7e906068e%7C0%7C0%7C637764999902500335%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=M%2F%2BmehTP3cdAaThPcV0bk9ChffUupqTzcsaxyJw8jho%3D&reserved=0>
>
>     -- 
>     http://www.spatialys.com  <https://eur03.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.spatialys.com%2F&data=04%7C01%7Cevert.etienne%40sitemark.com%7C956448b3d0fb4d64e85e08d9cbe36bbd%7Cfc89adff07ac47008853b7b7e906068e%7C0%7C0%7C637764999902500335%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=laNHz%2FOiaBi5f62f1cxan%2FF3KcSMJvHREQ0H5ggnVSg%3D&reserved=0>
>     My software is free, but my time generally not.
>
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20211231/3f4d037f/attachment.html>

