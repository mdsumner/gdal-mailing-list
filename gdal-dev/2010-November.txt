From a.neumann at carto.net  Mon Nov  1 06:52:48 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon Nov  1 06:52:48 2010
Subject: [gdal-dev] DXF writing and layers
Message-ID: <41150.193.246.86.39.1288608768.squirrel@webmail.carto.net>

Hi,

I am further testing the enhanced DXF reader/writer.

While testing the writer I wanted to use the new feature of specifying a
column in the source dataset that contains the layer name a feature should
end up in the destination dxf file.

My source is a Postgis table, and the layer name is stored in a column
called "layer".

I don't know the correct dataset creation option (dsco) or layer creation
option (lco) to specify the column containing the layernames.

I tried:

-dsco LayerName=layer
-dsco layer=layer
-lco LayerName=layer
-lco layer=layer

But no matter which of the above options I try, all my features end up in
layer "0".

If anyone has a hint how I could issue the ogr2ogr command so I can
specify the layer a feature should end up in, it would be much
appreciated!

Thanks,
Andreas


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From a.neumann at carto.net  Mon Nov  1 07:01:00 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon Nov  1 07:00:59 2010
Subject: [gdal-dev] dxf writer: specifying dash patterns with ogr-feature
	styles
Message-ID: <41043.193.246.86.39.1288609260.squirrel@webmail.carto.net>

Hi again,

Another problem with the DXF writer:

I am trying to specify a dash-patterns for lwpolylines by using the
following OGR feature styling:

PEN(c:#FF0000,p:"2g,1g") - the pattern is defined in ground units, the
ground units in the data sets are set in meters.

In the resulting dxf I can see the line as red (as specified), but the
dash-pattern (dash of 2m and gap of 1m) does not appear.

Anyone knows on what may be wrong that the dash-pattern is not applied?

Thanks,
Andreas

-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From anders.moe at geocap.no  Mon Nov  1 09:40:11 2010
From: anders.moe at geocap.no (Anders Moe)
Date: Mon Nov  1 09:40:16 2010
Subject: [gdal-dev] Problems with ogr2ogr and datum conversions
Message-ID: <AANLkTikHTQT+6Xr6EsooPrHoW-JXQfm8cYryThr16r5F@mail.gmail.com>

Hi everyone


My problem in general is that I can't seem to get datum conversions to work
in OGR. I  do something like


ogr2ogr.exe -f "ESR Shapefile" -t_srs WGS84 target.shp  fields_dd.shp


The source SRS is latlon/ED50. I have compiled proj4 with nadshift , I have
all the datum shitft grid files in the current directory, I have proj4.dll
in the currrent directory, as well as the GDAL_DATA files. Conversion from
GCS -> PROJCS work (not sure if the datum shift works), but not pure datum
conversions from one GCS to another.

There is no message output whatsoever when doing the ogr2ogr call cited
above. This is gdal 1.7.


Any help is much appreciated,

Anders
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101101/81a01203/attachment.html
From a.neumann at carto.net  Mon Nov  1 10:19:22 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon Nov  1 10:19:23 2010
Subject: [gdal-dev] DXF Writer and labels: encoding,
	angle and anchor position?
Message-ID: <31327.193.246.86.39.1288621162.squirrel@webmail.carto.net>

Hi,

Again some question on the dxf-writer, now with regards to labels:

* some of my special characters don't display correctly, e.g. the Unicode
2030 sign (german Promille sign) doesn't display (neither in the FME
viewer nor in Autocad Design Review) - some other "strange characters" are
displayed instead. Do I have to set an encoding for the target dxf? My
source Postgis table is in UTF-8.

* should label angle work? (in my case it doesn't)

* should anchor position work?

Here is an example OGR feature-style that I am testing:

LABEL(f:"Cadastra Cn,Arial",s:1.5g,t:"PVC 150 -6.96-",c:#FF0000,a:72,p:3)

In the above example, the label angle does not work - I am unsure about
the anchor position.

Thanks for any hints or info, if any of the above should be implemented or
if I am doing something wrong in my OGR feature-styling.

Andreas

-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From EAdam at co.lincoln.or.us  Mon Nov  1 13:26:09 2010
From: EAdam at co.lincoln.or.us (Eli Adam)
Date: Mon Nov  1 13:27:01 2010
Subject: [gdal-dev] RFC 32 - gdallocationinfo utility
In-Reply-To: <4CCDC43F.1000504@pobox.com>
References: <4CCDC43F.1000504@pobox.com>
Message-ID: <4CCE95C1.4F75.00CE.0@co.lincoln.or.us>

Frank,

     This is a helpful new utility.  

I read the documentation and tried it out.  Using gdallocationinfo to find the elevation at a given lat/long location seems like a reasonable use.  It may be desirable to input and output an ogr layer rather than a single point.  For instance, what are the elevations at these points in this shapefile?  

I tried to approach that problem by putting the coordinates into a file with ogrinfo and then use that file as an --optfile for the x y.  That didn't work the way that I tried it.  Can an --optfile be used for the x y input?  

ogrinfo town.shp town | grep 'POINT' | sed 's/  POINT (//' | sed 's/)//' > xyinput2.txt

head xyinput2.txt 
7350538.701077490113676 371057.403368594241329
7388905.153187953867018 357147.769300847954582
7346377.449287764728069 409114.138115067325998

gdallocationinfo -s_srs "EPSG:2913" townraster.tif --optfile xyinput2.txt 
Usage: gdallocationinfo [--help-general] [-xml] [-lifonly] [-valonly]
                        [-b band]* [-s_srs srs_def] [-geoloc] [-wgs84]
                        srcfile x y

What would be the proper approach to the above hypothetical problem?  Is there an effective way to have an ogr input for gdallocaitoninfo?  Perhaps -input_file_list my_liste.txt for the x y similar to gdalbuildvrt?

It looks like -s_srs applies to the x y input.  -s_srs sometimes, i.e. gdalwarp, applies to the srcfile.  

Is -wgs84 equivalent to -s_srs "EPSG:4326"?

These were my initial thoughts I hope that some of them may be helpful.

Thanks for the new utility, Eli


From warmerdam at pobox.com  Mon Nov  1 14:47:21 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov  1 14:47:27 2010
Subject: [gdal-dev] RFC 32 - gdallocationinfo utility
In-Reply-To: <4CCE95C1.4F75.00CE.0@co.lincoln.or.us>
References: <4CCDC43F.1000504@pobox.com>
	<4CCE95C1.4F75.00CE.0@co.lincoln.or.us>
Message-ID: <4CCF0B39.3070105@pobox.com>

Eli Adam wrote:
> Frank,
> 
>      This is a helpful new utility.  
> 
> I read the documentation and tried it out.  Using gdallocationinfo to find the elevation at a given lat/long location seems like a reasonable use.  It may be desirable to input and output an ogr layer rather than a single point.  For instance, what are the elevations at these points in this shapefile?  
> 
> I tried to approach that problem by putting the coordinates into a file with ogrinfo and then use that file as an --optfile for the x y.  That didn't work the way that I tried it.  Can an --optfile be used for the x y input?  
> 
> ogrinfo town.shp town | grep 'POINT' | sed 's/  POINT (//' | sed 's/)//' > xyinput2.txt
> 
> head xyinput2.txt 
> 7350538.701077490113676 371057.403368594241329
> 7388905.153187953867018 357147.769300847954582
> 7346377.449287764728069 409114.138115067325998
> 
> gdallocationinfo -s_srs "EPSG:2913" townraster.tif --optfile xyinput2.txt 
> Usage: gdallocationinfo [--help-general] [-xml] [-lifonly] [-valonly]
>                         [-b band]* [-s_srs srs_def] [-geoloc] [-wgs84]
>                         srcfile x y
> 
> What would be the proper approach to the above hypothetical problem?  Is there an effective way to have an ogr input for gdallocaitoninfo?  Perhaps -input_file_list my_liste.txt for the x y similar to gdalbuildvrt?

Eli,

As currently implemented gdallocationinfo only accepts one location on
the commandline.  The --optfile expansion is presumably working but
you can't give more than one xy pair on the commandline.


> It looks like -s_srs applies to the x y input.  -s_srs sometimes, i.e. gdalwarp, applies to the srcfile.  

I gather you are suggesting the parameter name is confusing?   It might
make sense for me to call it -l_srs (location srs).  I'll make that
change.

> Is -wgs84 equivalent to -s_srs "EPSG:4326"?

Yes - it's just a shortcut for a common case.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ghislain.picard at lgge.obs.ujf-grenoble.fr  Mon Nov  1 15:04:21 2010
From: ghislain.picard at lgge.obs.ujf-grenoble.fr (Ghislain Picard)
Date: Mon Nov  1 15:04:24 2010
Subject: [gdal-dev] gdal_merge / negative size
Message-ID: <4CCF0F35.4000004@lgge.obs.ujf-grenoble.fr>


Hi All,

I have an image having y-coordinate increasing in the downward direction.
To display the image, the pixel size is -1000 on the y-axis (see ENVI 
header file below). This works perfectly except in gdal_merge when use 
to clip the raster (using QGis GdalTools(s plugin for instance).

For instance:

gdal_merge.py -ul_lr
95926.7879548 490702.415307 2036599.49812 -1014610.25721


fails because the output image size calculated by gdal_merge is negative.
Inverting the  y-coordinates like this:

gdal_merge.py -ul_lr
95926.7879548 -1014610.25721 2036599.49812 490702.415307


works but it is counter-intuitive as the lower-right point should have a 
smaller y-coordinate than the upper-left point.
It seems the size calculated by gdal_merge does not account for the sign 
of the pixel size.

Ghislain




ENVI
description = {
   File Imported into ENVI.}
samples = 5601
lines   = 5601
bands   = 1
header offset = 0
file type = ENVI Standard
data type = 4
interleave = bsq
sensor type = Unknown
byte order = 0
no data = 0
wavelength units = Unknown
map info = {Polar Stereographic, 1, 1, -2800500, -2800500, 1000, 
-1000,WGS-84}
projection info = {31, 6378137, 6356752.314245179, -71, 0, 0, 0,WGS-84, 
Polar Stereographic}

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101101/e3d2852f/attachment.html
From chaitanya.ch at gmail.com  Tue Nov  2 03:51:39 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Nov  2 03:51:43 2010
Subject: [gdal-dev] gdal_merge / negative size
In-Reply-To: <4CCF0F35.4000004@lgge.obs.ujf-grenoble.fr>
References: <4CCF0F35.4000004@lgge.obs.ujf-grenoble.fr>
Message-ID: <AANLkTikYSU0ryKPW9662xNmxuFFKEggsSf3-O=zqgKNx@mail.gmail.com>

Ghislain,

It may be counter intuitive to have smaller y-coordinate for lower

On Tue, Nov 2, 2010 at 12:34 AM, Ghislain Picard <
ghislain.picard@lgge.obs.ujf-grenoble.fr> wrote:

>
> Hi All,
>
> I have an image having y-coordinate increasing in the downward direction.
> To display the image, the pixel size is -1000 on the y-axis (see ENVI
> header file below). This works perfectly except in gdal_merge when use to
> clip the raster (using QGis GdalTools(s plugin for instance).
>
> For instance:
>
> gdal_merge.py -ul_lr
> 95926.7879548 490702.415307 2036599.49812 -1014610.25721
>
> fails because the output image size calculated by gdal_merge is negative.
> Inverting the  y-coordinates like this:
>
> gdal_merge.py -ul_lr
> 95926.7879548 -1014610.25721 2036599.49812 490702.415307
>
> works but it is counter-intuitive as the lower-right point should have a
> smaller y-coordinate than the upper-left point.
> It seems the size calculated by gdal_merge does not account for the sign of
> the pixel size.
>
> Ghislain
>
>
>
>
> ENVI
> description = {
>   File Imported into ENVI.}
> samples = 5601
> lines   = 5601
> bands   = 1
> header offset = 0
> file type = ENVI Standard
> data type = 4
> interleave = bsq
> sensor type = Unknown
> byte order = 0
> no data = 0
> wavelength units = Unknown
> map info = {Polar Stereographic, 1, 1, -2800500, -2800500, 1000,
> -1000,WGS-84}
> projection info = {31, 6378137, 6356752.314245179, -71, 0, 0, 0,WGS-84,
> Polar Stereographic}
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101102/1d47df04/attachment.html
From chaitanya.ch at gmail.com  Tue Nov  2 03:54:02 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Nov  2 03:54:04 2010
Subject: [gdal-dev] gdal_merge / negative size
In-Reply-To: <4CCF0F35.4000004@lgge.obs.ujf-grenoble.fr>
References: <4CCF0F35.4000004@lgge.obs.ujf-grenoble.fr>
Message-ID: <AANLkTinABX9BM_dAMuN=kb547G-uSt6euC+fthYs761B@mail.gmail.com>

Ghislain,

It may be counter intuitive to have smaller y-coordinate for lower lines but
you will have to take the pixel size into account.
Consider what would happen if you want to stitch such images together and
you try to reverse all the y coordinates.

On Tue, Nov 2, 2010 at 12:34 AM, Ghislain Picard <
ghislain.picard@lgge.obs.ujf-grenoble.fr> wrote:

>
> Hi All,
>
> I have an image having y-coordinate increasing in the downward direction.
> To display the image, the pixel size is -1000 on the y-axis (see ENVI
> header file below). This works perfectly except in gdal_merge when use to
> clip the raster (using QGis GdalTools(s plugin for instance).
>
> For instance:
>
> gdal_merge.py -ul_lr
> 95926.7879548 490702.415307 2036599.49812 -1014610.25721
>
> fails because the output image size calculated by gdal_merge is negative.
> Inverting the  y-coordinates like this:
>
> gdal_merge.py -ul_lr
> 95926.7879548 -1014610.25721 2036599.49812 490702.415307
>
> works but it is counter-intuitive as the lower-right point should have a
> smaller y-coordinate than the upper-left point.
> It seems the size calculated by gdal_merge does not account for the sign of
> the pixel size.
>
> Ghislain
>
>
>
>
> ENVI
> description = {
>   File Imported into ENVI.}
> samples = 5601
> lines   = 5601
> bands   = 1
> header offset = 0
> file type = ENVI Standard
> data type = 4
> interleave = bsq
> sensor type = Unknown
> byte order = 0
> no data = 0
> wavelength units = Unknown
> map info = {Polar Stereographic, 1, 1, -2800500, -2800500, 1000,
> -1000,WGS-84}
> projection info = {31, 6378137, 6356752.314245179, -71, 0, 0, 0,WGS-84,
> Polar Stereographic}
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101102/ed07abab/attachment.html
From antonio.rocha at deimos.com.pt  Tue Nov  2 11:31:55 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Tue Nov  2 11:30:59 2010
Subject: [gdal-dev] Error when using gdalwarp on WinGRASS
Message-ID: <4CD02EEB.8030905@deimos.com.pt>

Greetings

I'm developing an winGRASS installer. To do so, I'm following this 
instructions 
(http://trac.osgeo.org/grass/wiki/CompileOnWindows#CreatingaWinGRASSInstaller). 
When I try to run a Python scripts that uses gdalwarp I get this error:

ERROR 4: Unable to open EPSG support file gcs.csv.
Try setting the GDAL_DATA environment variable to point to
the
directory containing EPSG csv files.
ERROR 1: Translating source or target SRS failed:

In the OSGEO4W wasn't getting this error so I believe that it has 
something to do with the installer that I created. can anyone explain me 
what am I missing?

Thanks
Antonio Rocha



__________ Information from ESET NOD32 Antivirus, version of virus signature database 5585 (20101102) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From Gary.Smart at goodrich.com  Tue Nov  2 12:20:23 2010
From: Gary.Smart at goodrich.com (Smart, Gary)
Date: Tue Nov  2 12:36:19 2010
Subject: [gdal-dev] NITF masks
Message-ID: <F52876411F027A4FA646577165F65C16C0508A@NHC2EX13.goodrich.root.local>


Does anyone have an example of adding a mask while creating a NITF file?
I can create NITF files OK but can't figure out from the "RFC 15: Band
Masks" documentation how to include a rectangular mask area.  When I
call CreateMaskBand on the dataset, where does it go?  Calling
GetMaskBand from any of the existing bands, after CreateMaskBand, always
returns an error.  I was intending to use RasterIO to write a black
rectangle into the middle of the mask band (assuming I can find it) in
order to hide the centre of the NITF output image.


I don't even seem to be able to find an example NITF file with a mask in
it - can anyone point me to a good example?


Thanks in advance


Gary

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101102/fb7ab1ca/attachment.html
From Manouchehr.Amini at eawag.ch  Tue Nov  2 13:44:09 2010
From: Manouchehr.Amini at eawag.ch (Amini, Manouchehr)
Date: Tue Nov  2 14:00:03 2010
Subject: [gdal-dev] help with gdal _csharp
Message-ID: <B422D84F52D1C049B0D1B522E618C177023C5795E3EB@EAW-EXC-MAIL.eawag.wroot.emp-eaw.ch>

Dear Gdal users

I am quite new to gdal and may be my question is trivial for many of you. I am trying to use gdal_csharp to read a ascii raster file and create a super overlay on google earth. So far I am able to read the raster and change it to a picture and define a color table for it. I was wondering if there is any possibility to create a kml file using the gdal-csharp to send the picture to the google. I would like also to define transparent backgound color for the NoData regions. I used ColorEntry and defind a color (255,255,255,255). It works fine if i use ArcGis, but when I overlay the picture on google the bacground appears as white not transparent.


Thank you in advance for your help
Manouchehr


Dr. Manouchehr Amini<http://www.eawag.ch/about/personen/homepages/aminiman/index_EN>
System Analysis, Integrated Assessment and Modelling
Eawag
?berlandstrasse 133
8600 D?bendorf
Switzerland
Phone    +41 44 823 5465
Fax         +41 44 823 5028
manouchehr.amini@eawag.ch<mailto:manouchehr.amini@eawag.ch>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101102/1a80102b/attachment.html
From jorge.arevalo at deimos-space.com  Tue Nov  2 14:37:05 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Tue Nov  2 14:38:59 2010
Subject: [gdal-dev] _gdal_array not found
In-Reply-To: <4CCAF3CD.1080901@noaa.gov>
References: <AANLkTinY3QMiUGzCxW0-MVa0=FetJW9kCvUmT2NZ-RjU@mail.gmail.com>
	<4CCAF3CD.1080901@noaa.gov>
Message-ID: <AANLkTikgus5MpXrKsXeARXsV+uMvKtRZhszrLk_uWkPt@mail.gmail.com>

On Fri, Oct 29, 2010 at 6:18 PM, Christopher Barker
<Chris.Barker@noaa.gov> wrote:
> On 10/29/10 3:36 AM, Jorge Ar?valo wrote:
>>
>> I find several files missing in the newer one (2.7). Files like
>> "_gdal_array.py", "_gdal_array.pyc", "_gdalconst.py",
>> "_gdal_array.so", "_gdalconst.so", "_gdal.py", "_gdal.pyc",
>> "_gdal.so", and so on. All the missing files starting with "_"
>>
>> The newer installation (2.7) was created from sources, building python
>> 2.7 and GDAL 1.7.2 (with "configure --with-python&& ?make&& ?make
>> install"). The previous installation (2.4) was created from package
>> manager (Suse YaST).
>
> Something went wrong with your build -- check the messages carefully. And
> yes, installing numpy from source should give you what you need.
>
> Do make sure that you are using the same version of python for everything.
>
> HTH,
>
> -Chris
>
>
>
> --
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R ? ? ? ? ? ?(206) 526-6959 ? voice
> 7600 Sand Point Way NE ? (206) 526-6329 ? fax
> Seattle, WA ?98115 ? ? ? (206) 526-6317 ? main reception
>
> Chris.Barker@noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Hi,

I finally compiled all the stuff properly, but I can't remember what
was my mistake :-(. Thanks for your help, anyway

Best regards,

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
From jorge.arevalo at deimos-space.com  Tue Nov  2 14:53:27 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Tue Nov  2 14:53:51 2010
Subject: [gdal-dev] Shapefiles2tiles
Message-ID: <AANLkTim-oY1j-RR=hKSwKrqbLbv3kmHX6tNhC=dnCnxB@mail.gmail.com>

Hi everybody, I'd like to ask you how to improve a process

Context: Show vectorial data in Google Maps, applying given colors to the data

Input data: A bunch of shapefiles, MIF format.
Output result: tiles to overlay on google maps
Process: One field of the shapefiles tells us the color of each
polygon. We create empty GeoTiff files, burn the MIF files into them,
applying the needed colors, and execute gdal2tiles over the GeoTiff
files, creating small PNG tiles to overlay on Google Maps (zoom levels
4 - 14)

Problem: The MIF files are about 200 - 250 MB average. Resulting
GeoTiff files are about 7 - 8 GB (size about 30000 - 50000 pixels).
The process is really slow. More than 24h to generate GeoTiff files,
burn vectors into them and generate the tiles.

Summarizing: MIF files (~200-250MB) ---> GeoTiff files (~ 7 - 8 GB)
---> Google Maps tiles

First step performed by gdal_rasterize and some additional python code
(to create empty raster). Second step with gdal2tiles, "near"
resampling method

Question: is there a faster way to overlay vector data on Google Maps,
applying colors? Without installing Geoserver, Mapserver. Only a web
server (apache). Or at least, improve the entire process of
rasterizing - creating tiles. If there's a problem during gdal2tiles
execution, you need to start again creating all the tiles.

BTW, the result here:
http://movil.orange.es/soporte-y-ayuda/herramientas/mapa-de-cobertura/

Many thanks in advance, and best regards
-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
From ksshannon at gmail.com  Tue Nov  2 15:40:58 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue Nov  2 15:41:15 2010
Subject: [gdal-dev] NetCDF flipped Y issue
Message-ID: <AANLkTin=8QWb0PMNsTRHr3q2MbSh=NkyMNK5POYWiwqJ@mail.gmail.com>

Folks,
There are a few tickets floating around trac that have to do with the
flipping in the y/latitude for netcdf files.  My last problem dataset was
fixed a while ago in r20006.  If anyone is still having problems with this
can you attach sample datasets to ticket #2654.  I would like to get rid of
some of these duplicates.  Thanks.

# ============================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
# ============================
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101102/1a22f67a/attachment.html
From jluis at ualg.pt  Tue Nov  2 18:16:40 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue Nov  2 18:39:28 2010
Subject: [gdal-dev] GMT5-alpha available
Message-ID: <4CD08DC8.2000500@ualg.pt>

People,

This info may interest this community of programmers.

The alpha version of the next generation of GMT is now available (CVS 
only). High-level GMT functionality is now accessible via GMT "modules" 
callable from C/C++. For more information, please visit
gmt.soest.hawaii.edu/5

Joaquim Luis
From jukka.rahkonen at mmmtike.fi  Wed Nov  3 03:53:23 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed Nov  3 03:53:40 2010
Subject: [gdal-dev] Re: Shapefiles2tiles
References: <AANLkTim-oY1j-RR=hKSwKrqbLbv3kmHX6tNhC=dnCnxB@mail.gmail.com>
Message-ID: <loom.20101103T083529-387@post.gmane.org>

Jorge Ar?valo <jorge.arevalo <at> deimos-space.com> writes:


> Question: is there a faster way to overlay vector data on Google Maps,
> applying colors? Without installing Geoserver, Mapserver. Only a web
> server (apache). Or at least, improve the entire process of
> rasterizing - creating tiles. If there's a problem during gdal2tiles
> execution, you need to start again creating all the tiles.

Just thinking, but perhaps it could be possible to split the vectors into vector
tiles in KML format into a similar directory tree system that is used for image
tiles. Would it be TVS then, as Tile Vector Service? Feels sad to render good
vectors into dull static tiles just for showing them on top of some base map. I
suppose that with KML it would be also rather easy to let the end user adjust
colours etc. with the application and attach some useful attribute data.
OpenLayers with transparent tiles are boring (but fast), your customers may
deserve something better. 

-Jukka Rahkonen-

From rigal at rapideye.de  Wed Nov  3 09:23:01 2010
From: rigal at rapideye.de (Matthieu Rigal)
Date: Wed Nov  3 09:22:20 2010
Subject: [gdal-dev] Postgresql driver ability to add constraints
Message-ID: <201011031423.01527.rigal@rapideye.de>

Hi guys,

I was checking and I did not found a proper way for now to add a unique or not 
null constraints to columns of a layer created/edited by OGR.

If I am wrong, please correct me.
Else, as I saw that a big refactoring of the PgSQL/PostGIS is planned/done for 
the 1.8 version, this may be added, as it is quite widely used properties...

Regards,
Matthieu
-- 
Matthieu Rigal
Product Development

RapidEye AG                           Tel:  +49-(0)3381-89 04 331
Molkenmarkt 30                       Fax: +49-(0)3381-89 04 101
14776 Brandenburg/Havel
Germany                                  http://www.rapideye.de

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany
 
Follow us on Twitter! www.twitter.com/rapideye_ag
 
Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: 
Juergen Breitkopf 
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified
 
*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
 
The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From warmerdam at pobox.com  Wed Nov  3 09:30:07 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov  3 09:30:08 2010
Subject: [gdal-dev] Postgresql driver ability to add constraints
In-Reply-To: <201011031423.01527.rigal@rapideye.de>
References: <201011031423.01527.rigal@rapideye.de>
Message-ID: <AANLkTi=Xr_QW-Ofui6mLJSZr311xHKTLKNB58mZDp4RE@mail.gmail.com>

On Wed, Nov 3, 2010 at 9:23 AM, Matthieu Rigal <rigal@rapideye.de> wrote:
> Hi guys,
>
> I was checking and I did not found a proper way for now to add a unique or not
> null constraints to columns of a layer created/edited by OGR.
>
> If I am wrong, please correct me.
> Else, as I saw that a big refactoring of the PgSQL/PostGIS is planned/done for
> the 1.8 version, this may be added, as it is quite widely used properties...

Matthieu,

Why not add such constraints via ExecuteSQL() after creating the layer?
I'm not keen on making constraints a first-class OGR data model concept
for a variety of reasons.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Programmer for Rent
From rigal at rapideye.de  Wed Nov  3 09:53:09 2010
From: rigal at rapideye.de (Matthieu Rigal)
Date: Wed Nov  3 09:53:01 2010
Subject: [gdal-dev] Postgresql driver ability to add constraints
In-Reply-To: <AANLkTi=Xr_QW-Ofui6mLJSZr311xHKTLKNB58mZDp4RE@mail.gmail.com>
References: <201011031423.01527.rigal@rapideye.de>
	<AANLkTi=Xr_QW-Ofui6mLJSZr311xHKTLKNB58mZDp4RE@mail.gmail.com>
Message-ID: <201011031453.09898.rigal@rapideye.de>

Hi Frank,

This is actually what I am doing, so no problems here ;-)

It was rather a suggestion in case it was not discussed, because it may have 
been useful differently, but it is fine for me so.

Best Regards,
Matthieu

On Wednesday 03 November 2010 14:30:07 Frank Warmerdam wrote:
> On Wed, Nov 3, 2010 at 9:23 AM, Matthieu Rigal <rigal@rapideye.de> wrote:
> > Hi guys,
> > 
> > I was checking and I did not found a proper way for now to add a unique
> > or not null constraints to columns of a layer created/edited by OGR.
> > 
> > If I am wrong, please correct me.
> > Else, as I saw that a big refactoring of the PgSQL/PostGIS is
> > planned/done for the 1.8 version, this may be added, as it is quite
> > widely used properties...
> 
> Matthieu,
> 
> Why not add such constraints via ExecuteSQL() after creating the layer?
> I'm not keen on making constraints a first-class OGR data model concept
> for a variety of reasons.
> 
> Best regards,


RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany
 
Follow us on Twitter! www.twitter.com/rapideye_ag
 
Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: 
Juergen Breitkopf 
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified
 
*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
 
The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From dburken at comcast.net  Wed Nov  3 14:25:11 2010
From: dburken at comcast.net (David Burken)
Date: Wed Nov  3 10:26:12 2010
Subject: [gdal-dev] building gdal with VS10 64 bit
Message-ID: <4CD1A907.6030801@comcast.net>

Hi Everyone,

Just curious has anyone successfully built gdal with VS10?  I'm not 
familiar with the link syntax like "/INCLUDE:_OGR_G_GetPointCount" but 
all of those are unresolved when linking gdal library.  Any  ideas 
appreciated.  See below for build error.

Take care,
Dave


         lib /nologo /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj 
frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
vb6\vb6_support.obj
ogrsf_frmts.lib(resolvexlinks.obj) : warning LNK4221: This object file 
does not define any previously undefined public symbols, so it will not 
be used by any link operation that consumes this library
         link /nologo /dll /INCLUDE:_OGRFeatureStylePuller  
/INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods  
/INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll 
/INCLUDE:_GDALSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48  
/INCLUDE:_GDALCo
mputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28  
/INCLUDE:_OCTNewCoordinateTransformation@8 /INCLUDE:_vbSafeArrayToPtr@16 
port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj 
ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
vb6\vb6_support.obj              D:\vs
10_x64\osgeo\local\lib\libjpeg.lib    
D:\vs10_x64\osgeo\local\lib\geotiff_i.lib 
D:\vs10_x64\osgeo\local\lib\libtiff_i.lib                odbc32.lib 
odbccp32.lib user32.lib  D:\vs10_x64\osgeo\local\lib\png14d.lib        
gcore\Version.res  /out:gdal18dev.dll
  /implib:gdal_i.lib
    Creating library gdal_i.lib and object gdal_i.exp
LINK : error LNK2001: unresolved external symbol _OGRFeatureStylePuller
LINK : error LNK2001: unresolved external symbol _OSRValidate
LINK : error LNK2001: unresolved external symbol _OPTGetProjectionMethods
LINK : error LNK2001: unresolved external symbol _OGR_G_GetPointCount
LINK : error LNK2001: unresolved external symbol _OGRRegisterAll
LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp@36
LINK : error LNK2001: unresolved external symbol _GDALReprojectImage@48
LINK : error LNK2001: unresolved external symbol _GDALComputeMedianCutPCT@32
LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT@28
LINK : error LNK2001: unresolved external symbol 
_OCTNewCoordinateTransformation@8
LINK : error LNK2001: unresolved external symbol _vbSafeArrayToPtr@16
gdal18dev.dll : fatal error LNK1120: 11 unresolved externals
NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual 
Studio 10.0\VC\BIN\amd64\link.EXE"' : return code '0x460'
Stop.

From jorge.arevalo at deimos-space.com  Wed Nov  3 10:50:08 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Wed Nov  3 10:50:32 2010
Subject: [gdal-dev] Re: Shapefiles2tiles
In-Reply-To: <loom.20101103T083529-387@post.gmane.org>
References: <AANLkTim-oY1j-RR=hKSwKrqbLbv3kmHX6tNhC=dnCnxB@mail.gmail.com>
	<loom.20101103T083529-387@post.gmane.org>
Message-ID: <AANLkTikZdqw2zMzwTcwJEdHkuNSCe3x6sjqQ4Lbs7vw0@mail.gmail.com>

Hi,

On Wed, Nov 3, 2010 at 8:53 AM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
> Jorge Ar?valo <jorge.arevalo <at> deimos-space.com> writes:
>
>
>> Question: is there a faster way to overlay vector data on Google Maps,
>> applying colors? Without installing Geoserver, Mapserver. Only a web
>> server (apache). Or at least, improve the entire process of
>> rasterizing - creating tiles. If there's a problem during gdal2tiles
>> execution, you need to start again creating all the tiles.
>
> Just thinking, but perhaps it could be possible to split the vectors into vector
> tiles in KML format into a similar directory tree system that is used for image
> tiles. Would it be TVS then, as Tile Vector Service?

Sounds interesting. My input data consist, basically, in thousands of
non-overlapping polygons. Actually, I have about 10 MIF files, that
cover Spain, with this format. If I create a kind of "KML tree"
structure, like the one created with gdal2tiles, it could work. And I
wouldn't need to resample my data. That's what I lose when I convert
from vector to raster: I need to resample the raster to get tiles for
each zoom level.

> Feels sad to render good
> vectors into dull static tiles just for showing them on top of some base map. I
> suppose that with KML it would be also rather easy to let the end user adjust
> colours etc. with the application and attach some useful attribute data.

I know I can overlay a KML file in Google Maps. I suppose I could read
this file (or files) from file system and automatically overlay it
(them)


> OpenLayers with transparent tiles are boring (but fast), your customers may
> deserve something better.
>

Doesnt't depend on me. Anyway, they only need transparent tiles over a
base map, to see a color-coded mobile phone signal coverage level
(very good, good, regular). Is it a better way of showing this
information?

Many thanks!

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
From szekerest at gmail.com  Wed Nov  3 10:53:17 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov  3 10:53:20 2010
Subject: [gdal-dev] building gdal with VS10 64 bit
In-Reply-To: <4CD1A907.6030801@comcast.net>
References: <4CD1A907.6030801@comcast.net>
Message-ID: <AANLkTimg_sdFVQ7qGVi2Gx3nVJte+LUu++OfPK00u_ak@mail.gmail.com>

Dave,

You may find all the required libs and headers for a successful compilation
here:

http://vbkto.dyndns.org/sdk/

Best regards,

Tamas



2010/11/3 David Burken <dburken@comcast.net>

> Hi Everyone,
>
> Just curious has anyone successfully built gdal with VS10?  I'm not
> familiar with the link syntax like "/INCLUDE:_OGR_G_GetPointCount" but all
> of those are unresolved when linking gdal library.  Any  ideas appreciated.
>  See below for build error.
>
> Take care,
> Dave
>
>
>        lib /nologo /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj
> frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib
> vb6\vb6_support.obj
> ogrsf_frmts.lib(resolvexlinks.obj) : warning LNK4221: This object file does
> not define any previously undefined public symbols, so it will not be used
> by any link operation that consumes this library
>        link /nologo /dll /INCLUDE:_OGRFeatureStylePuller
>  /INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods
>  /INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll
> /INCLUDE:_GDALSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48 /INCLUDE:_GDALCo
> mputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28 /INCLUDE:_OCTNewCoordinateTransformation@8/INCLUDE:_vbSafeArrayToPtr@16port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj
> ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib vb6\vb6_support.obj
>  D:\vs
> 10_x64\osgeo\local\lib\libjpeg.lib
>  D:\vs10_x64\osgeo\local\lib\geotiff_i.lib
> D:\vs10_x64\osgeo\local\lib\libtiff_i.lib                odbc32.lib
> odbccp32.lib user32.lib  D:\vs10_x64\osgeo\local\lib\png14d.lib
>  gcore\Version.res  /out:gdal18dev.dll
>  /implib:gdal_i.lib
>   Creating library gdal_i.lib and object gdal_i.exp
> LINK : error LNK2001: unresolved external symbol _OGRFeatureStylePuller
> LINK : error LNK2001: unresolved external symbol _OSRValidate
> LINK : error LNK2001: unresolved external symbol _OPTGetProjectionMethods
> LINK : error LNK2001: unresolved external symbol _OGR_G_GetPointCount
> LINK : error LNK2001: unresolved external symbol _OGRRegisterAll
> LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp@36
> LINK : error LNK2001: unresolved external symbol _GDALReprojectImage@48
> LINK : error LNK2001: unresolved external symbol
> _GDALComputeMedianCutPCT@32
> LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT@28
> LINK : error LNK2001: unresolved external symbol
> _OCTNewCoordinateTransformation@8
> LINK : error LNK2001: unresolved external symbol _vbSafeArrayToPtr@16
> gdal18dev.dll : fatal error LNK1120: 11 unresolved externals
> NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual Studio
> 10.0\VC\BIN\amd64\link.EXE"' : return code '0x460'
> Stop.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101103/bc60f47a/attachment.html
From George.Corrado at gd-ais.com  Wed Nov  3 10:58:25 2010
From: George.Corrado at gd-ais.com (Corrado, George P.)
Date: Wed Nov  3 11:13:38 2010
Subject: [gdal-dev] Elevation Data Question
In-Reply-To: <4CD1A907.6030801@comcast.net>
References: <4CD1A907.6030801@comcast.net>
Message-ID: <E8ACED485A33194F9FDAC00F6DD724FD16EBE3E17C@VAFF06-MABPRD01.ad.gd-ais.com>

Hello All,

Quick question, has anyone used the Java GDALtest example?  I think I might have found the elevation data I was looking for, but I'm not sure.  Below is a code snippet from the GDALtest.java class.

else if (buf_type == gdalconstConstants.GDT_Int16)
        {
            short[][] shorts = new short[bandCount][];
            for (int i = 0; i < bandCount; i++)
            {
                shorts[i] = new short[pixels];
                bands[i].asShortBuffer().get(shorts[i]);
                System.out.println("Elevation: " + shorts[i]);
            }
            imgBuffer = new DataBufferShort(shorts, pixels);


            System.out.println("Number of Banks: " + imgBuffer.getSize());

            for(int g=0; g < imgBuffer.getSize(); g++)
            {
                System.out.println("Element: " + imgBuffer.getElem(g));

            }

It looks like imgBuffer.getElem(g) is printing the elevations at each pixel.  Can anyone tell me if that's correct?

Thanks,
George

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of David Burken
Sent: Wednesday, November 03, 2010 2:25 PM
To: gdal-dev
Subject: [gdal-dev] building gdal with VS10 64 bit

Hi Everyone,

Just curious has anyone successfully built gdal with VS10?  I'm not 
familiar with the link syntax like "/INCLUDE:_OGR_G_GetPointCount" but 
all of those are unresolved when linking gdal library.  Any  ideas 
appreciated.  See below for build error.

Take care,
Dave


         lib /nologo /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj 
frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
vb6\vb6_support.obj
ogrsf_frmts.lib(resolvexlinks.obj) : warning LNK4221: This object file 
does not define any previously undefined public symbols, so it will not 
be used by any link operation that consumes this library
         link /nologo /dll /INCLUDE:_OGRFeatureStylePuller  
/INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods  
/INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll 
/INCLUDE:_GDALSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48  
/INCLUDE:_GDALCo
mputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28  
/INCLUDE:_OCTNewCoordinateTransformation@8 /INCLUDE:_vbSafeArrayToPtr@16 
port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj 
ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
vb6\vb6_support.obj              D:\vs
10_x64\osgeo\local\lib\libjpeg.lib    
D:\vs10_x64\osgeo\local\lib\geotiff_i.lib 
D:\vs10_x64\osgeo\local\lib\libtiff_i.lib                odbc32.lib 
odbccp32.lib user32.lib  D:\vs10_x64\osgeo\local\lib\png14d.lib        
gcore\Version.res  /out:gdal18dev.dll
  /implib:gdal_i.lib
    Creating library gdal_i.lib and object gdal_i.exp
LINK : error LNK2001: unresolved external symbol _OGRFeatureStylePuller
LINK : error LNK2001: unresolved external symbol _OSRValidate
LINK : error LNK2001: unresolved external symbol _OPTGetProjectionMethods
LINK : error LNK2001: unresolved external symbol _OGR_G_GetPointCount
LINK : error LNK2001: unresolved external symbol _OGRRegisterAll
LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp@36
LINK : error LNK2001: unresolved external symbol _GDALReprojectImage@48
LINK : error LNK2001: unresolved external symbol _GDALComputeMedianCutPCT@32
LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT@28
LINK : error LNK2001: unresolved external symbol 
_OCTNewCoordinateTransformation@8
LINK : error LNK2001: unresolved external symbol _vbSafeArrayToPtr@16
gdal18dev.dll : fatal error LNK1120: 11 unresolved externals
NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual 
Studio 10.0\VC\BIN\amd64\link.EXE"' : return code '0x460'
Stop.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Wed Nov  3 18:53:19 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov  3 18:53:23 2010
Subject: [gdal-dev] Re: DXF writing and layers
In-Reply-To: <41150.193.246.86.39.1288608768.squirrel@webmail.carto.net>
References: <41150.193.246.86.39.1288608768.squirrel@webmail.carto.net>
Message-ID: <AANLkTin1sdUKp+7LNw7e9d9PbfZjZACms6YiACx2=zv6@mail.gmail.com>

On Mon, Nov 1, 2010 at 6:52 AM, Andreas Neumann <a.neumann@carto.net> wrote:
> While testing the writer I wanted to use the new feature of specifying a
> column in the source dataset that contains the layer name a feature should
> end up in the destination dxf file.
>
> My source is a Postgis table, and the layer name is stored in a column
> called "layer".
>
> I don't know the correct dataset creation option (dsco) or layer creation
> option (lco) to specify the column containing the layernames.
>
> I tried:
>
> -dsco LayerName=layer
> -dsco layer=layer
> -lco LayerName=layer
> -lco layer=layer
>
> But no matter which of the above options I try, all my features end up in
> layer "0".
>
> If anyone has a hint how I could issue the ogr2ogr command so I can
> specify the layer a feature should end up in, it would be much
> appreciated!

Andreas,

Currently the dxf writer only looks for the attribute named Layer
to identify the layer name.  It sounds like in your case it should
work directly since the Postgres column name is also "layer".

If it is not, please file a ticket and I'll dig into it.  Providing
an input dataset to demonstrate the problem would be
helpful.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Programmer for Rent
From warmerdam at pobox.com  Wed Nov  3 18:59:41 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov  3 18:59:42 2010
Subject: [gdal-dev] Re: dxf writer: specifying dash patterns with
	ogr-feature styles
In-Reply-To: <41043.193.246.86.39.1288609260.squirrel@webmail.carto.net>
References: <41043.193.246.86.39.1288609260.squirrel@webmail.carto.net>
Message-ID: <AANLkTikBO58S-9SnAiCe+op=FgJ5=jLq+aPL9ORyO8s0@mail.gmail.com>

On Mon, Nov 1, 2010 at 7:01 AM, Andreas Neumann <a.neumann@carto.net> wrote:
> Hi again,
>
> Another problem with the DXF writer:
>
> I am trying to specify a dash-patterns for lwpolylines by using the
> following OGR feature styling:
>
> PEN(c:#FF0000,p:"2g,1g") - the pattern is defined in ground units, the
> ground units in the data sets are set in meters.

Andreas,

I believe the problem is that you are using a comma as a delimiter
instead of a space.  The pattern tokenizer looks for white space,
according to the OGR feature style specification.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Programmer for Rent
From warmerdam at pobox.com  Wed Nov  3 19:14:03 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov  3 19:14:06 2010
Subject: [gdal-dev] Re: DXF Writer and labels: encoding,
	angle and anchor position?
In-Reply-To: <31327.193.246.86.39.1288621162.squirrel@webmail.carto.net>
References: <31327.193.246.86.39.1288621162.squirrel@webmail.carto.net>
Message-ID: <AANLkTi=nZrUaTPnyWcJ43Y7XYJDVd=BrjWvDAb+ZZe_d@mail.gmail.com>

On Mon, Nov 1, 2010 at 10:19 AM, Andreas Neumann <a.neumann@carto.net> wrote:
> Hi,
>
> Again some question on the dxf-writer, now with regards to labels:
>
> * some of my special characters don't display correctly, e.g. the Unicode
> 2030 sign (german Promille sign) doesn't display (neither in the FME
> viewer nor in Autocad Design Review) - some other "strange characters" are
> displayed instead. Do I have to set an encoding for the target dxf? My
> source Postgis table is in UTF-8.

Andreas,

Hmm, encoding in DXF is not something I have given any
consideration to so far.  The PostGIS driver should be
returning the text in utf-8, but I do nothing special to
process text read or written from/to DXF.  I ought to be.

Could you file a ticket on this issue?  It would be helpful
to include a small example DXF created with autocad that
does display the character(s) in question properly and then
an example of what happens with OGR.

> * should label angle work? (in my case it doesn't)

I have confirmed that when trying to write MTEXT
entities the style string is checked for angle and
trying to write it.  There might be problems with this
though I thought it was working in my test suite.  If
you file a ticket, with example input I will dig into the
details.

> * should anchor position work?

Yes, it should.  There is code to translate the anchor.
If it isn't working please file a ticket.

> Here is an example OGR feature-style that I am testing:
>
> LABEL(f:"Cadastra Cn,Arial",s:1.5g,t:"PVC 150 -6.96-",c:#FF0000,a:72,p:3)
>
> In the above example, the label angle does not work - I am unsure about
> the anchor position.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Programmer for Rent
From luc.vanlinden at gmail.com  Thu Nov  4 08:16:44 2010
From: luc.vanlinden at gmail.com (lucvanlinden)
Date: Thu Nov  4 08:16:45 2010
Subject: [gdal-dev] status of the OGR Norwegian SOSI support
Message-ID: <1288873004265-5705081.post@n2.nabble.com>


Does anyone know the status of the OGR Norwegian SOSI support?

Tamas Szekeres, confirmed it is not being included in the daily built
binaries as the SOSI support depends on a missing FYBA binaries, which seems
to be the last reference in this ticket:

http://trac.osgeo.org/gdal/ticket/3638#comment:1

tx

Luc
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/status-of-the-OGR-Norwegian-SOSI-support-tp5705081p5705081.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From szekerest at gmail.com  Thu Nov  4 11:49:21 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Nov  4 11:49:25 2010
Subject: [gdal-dev] status of the OGR Norwegian SOSI support
In-Reply-To: <1288873004265-5705081.post@n2.nabble.com>
References: <1288873004265-5705081.post@n2.nabble.com>
Message-ID: <AANLkTi=6D1QzV8iwBwCRYM9w_CqQw3K+Ufc-jfXqddeR@mail.gmail.com>

Hi,

I need to clarify the things a little bit. Actually the compiled binaries
for the FYBA library are downloadable from here:
http://www.statkart.no/nor/SOSI/Program/
However this version depends on the Visual Studio 2005 Win32 CRT libraries
(msvcr80.dll) which would provide at the most to include this in
release-1400-gdal-mapserver.zip<http://vbkto.dyndns.org/sdk/release-1400-gdal-mapserver.zip>
but in my preference all of the packages should support each drivers for
gdal equally well. I would also continue to avoid mixed CRT dependencies in
the packages which is unsupported by Microsoft, and therefore I would
require either of the following options to be provided by the author of the
library:

1. Compiled binaries for all platforms x32/x64 from MSVC2003 up to MSVC2010
2. The source files which can be compiled by myself with these compilers

Currently none of the options above are available as far as I know.

Further issue may be due to my limited knowledge about the licensing terms
of this library, I can see a .txt file in the package but it's not in that
language which I can easily understand.


Best regards,

Tamas




2010/11/4 lucvanlinden <luc.vanlinden@gmail.com>

>
> Does anyone know the status of the OGR Norwegian SOSI support?
>
> Tamas Szekeres, confirmed it is not being included in the daily built
> binaries as the SOSI support depends on a missing FYBA binaries, which
> seems
> to be the last reference in this ticket:
>
> http://trac.osgeo.org/gdal/ticket/3638#comment:1
>
> tx
>
> Luc
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/status-of-the-OGR-Norwegian-SOSI-support-tp5705081p5705081.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101104/5760285e/attachment.html
From a.neumann at carto.net  Thu Nov  4 11:58:10 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Nov  4 11:58:10 2010
Subject: [gdal-dev] Re: DXF writing and layers
In-Reply-To: <AANLkTin1sdUKp+7LNw7e9d9PbfZjZACms6YiACx2=zv6@mail.gmail.com>
References: <41150.193.246.86.39.1288608768.squirrel@webmail.carto.net>
	<AANLkTin1sdUKp+7LNw7e9d9PbfZjZACms6YiACx2=zv6@mail.gmail.com>
Message-ID: <43855.193.246.86.39.1288886290.squirrel@webmail.carto.net>

Hi Frank,

Still no luck here with the layers.

Just to be sure: the layers aren't present in the header file. They should
be created by ogr. Is this correct that I don't necessarily have to create
the layers in advance?

Well - I think I will report a bug and make you the data available that I
am testing with.

Thanks a lot,
Andreas

On Wed, November 3, 2010 11:53 pm, Frank Warmerdam wrote:
> On Mon, Nov 1, 2010 at 6:52 AM, Andreas Neumann <a.neumann@carto.net>
> wrote:
>> While testing the writer I wanted to use the new feature of specifying a
>> column in the source dataset that contains the layer name a feature
>> should
>> end up in the destination dxf file.
>>
>> My source is a Postgis table, and the layer name is stored in a column
>> called "layer".
>>
>> I don't know the correct dataset creation option (dsco) or layer
>> creation
>> option (lco) to specify the column containing the layernames.
>>
>> I tried:
>>
>> -dsco LayerName=layer
>> -dsco layer=layer
>> -lco LayerName=layer
>> -lco layer=layer
>>
>> But no matter which of the above options I try, all my features end up
>> in
>> layer "0".
>>
>> If anyone has a hint how I could issue the ogr2ogr command so I can
>> specify the layer a feature should end up in, it would be much
>> appreciated!
>
> Andreas,
>
> Currently the dxf writer only looks for the attribute named Layer
> to identify the layer name.  It sounds like in your case it should
> work directly since the Postgres column name is also "layer".
>
> If it is not, please file a ticket and I'll dig into it.  Providing
> an input dataset to demonstrate the problem would be
> helpful.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up?? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? | Geospatial Programmer for Rent
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From a.neumann at carto.net  Thu Nov  4 12:04:13 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Nov  4 12:04:12 2010
Subject: [gdal-dev] Re: dxf writer: specifying dash patterns with
	ogr-feature styles
In-Reply-To: <AANLkTikBO58S-9SnAiCe+op=FgJ5=jLq+aPL9ORyO8s0@mail.gmail.com>
References: <41043.193.246.86.39.1288609260.squirrel@webmail.carto.net>
	<AANLkTikBO58S-9SnAiCe+op=FgJ5=jLq+aPL9ORyO8s0@mail.gmail.com>
Message-ID: <20231.193.246.86.39.1288886653.squirrel@webmail.carto.net>

Hi Frank,

I changed the delimiters to a space but the dashed lines still show up as
continuous lines in Autocad or FME viewer.

I will provide test-data and file a bug.

Thanks a lot,
Andreas

On Wed, November 3, 2010 11:59 pm, Frank Warmerdam wrote:
> On Mon, Nov 1, 2010 at 7:01 AM, Andreas Neumann <a.neumann@carto.net>
> wrote:
>> Hi again,
>>
>> Another problem with the DXF writer:
>>
>> I am trying to specify a dash-patterns for lwpolylines by using the
>> following OGR feature styling:
>>
>> PEN(c:#FF0000,p:"2g,1g") - the pattern is defined in ground units, the
>> ground units in the data sets are set in meters.
>
> Andreas,
>
> I believe the problem is that you are using a comma as a delimiter
> instead of a space.  The pattern tokenizer looks for white space,
> according to the OGR feature style specification.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up?? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? | Geospatial Programmer for Rent
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From a.neumann at carto.net  Thu Nov  4 12:10:43 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Nov  4 12:10:41 2010
Subject: [gdal-dev] Re: DXF Writer and labels: encoding,
	angle and anchor position?
In-Reply-To: <AANLkTi=nZrUaTPnyWcJ43Y7XYJDVd=BrjWvDAb+ZZe_d@mail.gmail.com>
References: <31327.193.246.86.39.1288621162.squirrel@webmail.carto.net>
	<AANLkTi=nZrUaTPnyWcJ43Y7XYJDVd=BrjWvDAb+ZZe_d@mail.gmail.com>
Message-ID: <44078.193.246.86.39.1288887043.squirrel@webmail.carto.net>

Hi Frank,

Regarding the encoding:

It seems like ogr2ogr just writes everything out as UTF-8. My data source
(postgres database) is also utf-8. Autocad and FME however, don't like the
utf-8 encoding. They probably expect some Windows encoding (either
ISO-8859-15 or Latin 1 or whatever Windows uses by default). However, I
can't provide any hard facts on this. Is there some information about
encoding in the dxf specification?

I still can't get label angles to work and I can't test the symbol angles
yet, because I can't get my own blocks to display.

It seems like ogr2ogr inserts the block definitions (I can see them in the
output file), but they either aren't properly inserted or referenced. When
I go into the block editor in autocad I can only see the block definition
of the first block.

Again - I will send the header.dxf and provide a bug report.

Thanks,
Andreas

On Thu, November 4, 2010 12:14 am, Frank Warmerdam wrote:
> On Mon, Nov 1, 2010 at 10:19 AM, Andreas Neumann <a.neumann@carto.net>
> wrote:
>> Hi,
>>
>> Again some question on the dxf-writer, now with regards to labels:
>>
>> * some of my special characters don't display correctly, e.g. the
>> Unicode
>> 2030 sign (german Promille sign) doesn't display (neither in the FME
>> viewer nor in Autocad Design Review) - some other "strange characters"
>> are
>> displayed instead. Do I have to set an encoding for the target dxf? My
>> source Postgis table is in UTF-8.
>
> Andreas,
>
> Hmm, encoding in DXF is not something I have given any
> consideration to so far.  The PostGIS driver should be
> returning the text in utf-8, but I do nothing special to
> process text read or written from/to DXF.  I ought to be.
>
> Could you file a ticket on this issue?  It would be helpful
> to include a small example DXF created with autocad that
> does display the character(s) in question properly and then
> an example of what happens with OGR.
>
>> * should label angle work? (in my case it doesn't)
>
> I have confirmed that when trying to write MTEXT
> entities the style string is checked for angle and
> trying to write it.  There might be problems with this
> though I thought it was working in my test suite.  If
> you file a ticket, with example input I will dig into the
> details.
>
>> * should anchor position work?
>
> Yes, it should.  There is code to translate the anchor.
> If it isn't working please file a ticket.
>
>> Here is an example OGR feature-style that I am testing:
>>
>> LABEL(f:"Cadastra Cn,Arial",s:1.5g,t:"PVC 150
>> -6.96-",c:#FF0000,a:72,p:3)
>>
>> In the above example, the label angle does not work - I am unsure about
>> the anchor position.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up?? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? | Geospatial Programmer for Rent
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From a.neumann at carto.net  Thu Nov  4 12:29:24 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Nov  4 12:29:23 2010
Subject: [gdal-dev] Re: DXF writing and layers
In-Reply-To: <AANLkTin1sdUKp+7LNw7e9d9PbfZjZACms6YiACx2=zv6@mail.gmail.com>
References: <41150.193.246.86.39.1288608768.squirrel@webmail.carto.net>
	<AANLkTin1sdUKp+7LNw7e9d9PbfZjZACms6YiACx2=zv6@mail.gmail.com>
Message-ID: <48897.193.246.86.39.1288888164.squirrel@webmail.carto.net>

Hi Frank,

It seems that even if the layers are present in the header.dxf file, still
everything ends up in layer "0".

Again - hopefully my test data will shed some light on the problem.

Andreas

On Wed, November 3, 2010 11:53 pm, Frank Warmerdam wrote:
> On Mon, Nov 1, 2010 at 6:52 AM, Andreas Neumann <a.neumann@carto.net>
> wrote:
>> While testing the writer I wanted to use the new feature of specifying a
>> column in the source dataset that contains the layer name a feature
>> should
>> end up in the destination dxf file.
>>
>> My source is a Postgis table, and the layer name is stored in a column
>> called "layer".
>>
>> I don't know the correct dataset creation option (dsco) or layer
>> creation
>> option (lco) to specify the column containing the layernames.
>>
>> I tried:
>>
>> -dsco LayerName=layer
>> -dsco layer=layer
>> -lco LayerName=layer
>> -lco layer=layer
>>
>> But no matter which of the above options I try, all my features end up
>> in
>> layer "0".
>>
>> If anyone has a hint how I could issue the ogr2ogr command so I can
>> specify the layer a feature should end up in, it would be much
>> appreciated!
>
> Andreas,
>
> Currently the dxf writer only looks for the attribute named Layer
> to identify the layer name.  It sounds like in your case it should
> work directly since the Postgres column name is also "layer".
>
> If it is not, please file a ticket and I'll dig into it.  Providing
> an input dataset to demonstrate the problem would be
> helpful.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up?? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? | Geospatial Programmer for Rent
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From a.neumann at carto.net  Thu Nov  4 12:57:57 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Nov  4 12:57:56 2010
Subject: [gdal-dev] Re: DXF writing and layers
In-Reply-To: <AANLkTin1sdUKp+7LNw7e9d9PbfZjZACms6YiACx2=zv6@mail.gmail.com>
References: <41150.193.246.86.39.1288608768.squirrel@webmail.carto.net>
	<AANLkTin1sdUKp+7LNw7e9d9PbfZjZACms6YiACx2=zv6@mail.gmail.com>
Message-ID: <22726.193.246.86.39.1288889877.squirrel@webmail.carto.net>

Hi again,

I am wondering if most of my issues are a result of wrong parameters in my
ogr2ogr command:

Here is my command:

ogr2ogr -select '' -f DXF test_ogr.dxf -dsco
header=header_export_werkplan_abwasser.dxf -spat 695700 245900 696000
246100 PG:"dbname='uster' host='servername' port='5432' user='read'
password='reader' schemas=abwasser
tables=abwasser.export_dxf_geo405(the_geom)"

So maybe the -select '' causers ogr to not read the attribute values and
thus it cannot see layer, blockname, etc.?

That's probably the case.

If I use
ogr2ogr -f DXF test_ogr.dxf -dsco
header=header_export_werkplan_abwasser.dxf -spat 695700 245900 696000
246100 PG:"dbname='uster' host='servername' port='5432' user='read'
password='reader' schemas=abwasser
tables=abwasser.export_dxf_geo405(the_geom)"

note - without the -select '' I receive error messages:

ERROR 1: DXF layer does not support arbitrary field creation, field
'blockscale' not created.
ERROR 1: DXF layer does not support arbitrary field creation, field
'blockangle' not created.
ERROR 1: DXF layer does not support arbitrary field creation, field
'layer_geo405' not created.
ERROR 1: DXF layer does not support arbitrary field creation, field
'ogr_style' not created.
ERROR 1: DXF layer does not support arbitrary field creation, field 'gid'
not created.
ERROR 1: DXF layer does not support arbitrary field creation, field
'blockname' not created.

I still get an output dxf - but as soon as I open it in autocad, Autocad
crashes with a fatal error. FME can't read the resulting file either.

Andreas


On Wed, November 3, 2010 11:53 pm, Frank Warmerdam wrote:
> On Mon, Nov 1, 2010 at 6:52 AM, Andreas Neumann <a.neumann@carto.net>
> wrote:
>> While testing the writer I wanted to use the new feature of specifying a
>> column in the source dataset that contains the layer name a feature
>> should
>> end up in the destination dxf file.
>>
>> My source is a Postgis table, and the layer name is stored in a column
>> called "layer".
>>
>> I don't know the correct dataset creation option (dsco) or layer
>> creation
>> option (lco) to specify the column containing the layernames.
>>
>> I tried:
>>
>> -dsco LayerName=layer
>> -dsco layer=layer
>> -lco LayerName=layer
>> -lco layer=layer
>>
>> But no matter which of the above options I try, all my features end up
>> in
>> layer "0".
>>
>> If anyone has a hint how I could issue the ogr2ogr command so I can
>> specify the layer a feature should end up in, it would be much
>> appreciated!
>
> Andreas,
>
> Currently the dxf writer only looks for the attribute named Layer
> to identify the layer name.  It sounds like in your case it should
> work directly since the Postgres column name is also "layer".
>
> If it is not, please file a ticket and I'll dig into it.  Providing
> an input dataset to demonstrate the problem would be
> helpful.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up?? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? | Geospatial Programmer for Rent
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From kmayall at gmail.com  Thu Nov  4 14:25:52 2010
From: kmayall at gmail.com (kmayall)
Date: Thu Nov  4 14:25:55 2010
Subject: [gdal-dev] Re: corner coords in tif vs ecw
In-Reply-To: <4CADFFFC.8080305@free.fr>
References: <1286387333709-5608144.post@n2.nabble.com>
	<4CADFFFC.8080305@free.fr>
Message-ID: <AANLkTiku=i=OWsQgH=Nrmjj=zGpGTFm6Wo9Y+g4XciL7@mail.gmail.com>


Sorry, I've been on hiatus for a while.

ECW Image Header Editor shows the top left coords using values from the
coordinate system (screenshot attached), while the gdalinfo results show the
corner coords in pixels.

So there's likely nothing wrong with my ecw file, just a quirk in the
gdalinfo display?



On Thu, Oct 7, 2010 at 2:15 PM, Jean-Claude Repetto [via OSGeo.org] <
ml-node+5612232-448933154-294829@n2.nabble.com<ml-node%2B5612232-448933154-294829@n2.nabble.com>
> wrote:

> On 10/06/10 19:48, kmayall wrote:
>
> >
> > I used gdal_translate to convert a geotiff to an ecw file.
> >
> > However, the corner coordinates are different between the two files.
> > The tiff uses values from the coordinate system, while the ecw seems to
> just
> > use the tile dimensions.
> > I'm not sure if there is something different in how the two formats store
>
> > that data, or if there was an option I didn't use.  Any insight is
> > appreciated.  gdalinfo results for the tif and ecw are below.
> >
>
> Hello,
>
> I noticed similar problems, and I think this may be a bug in gdalinfo.
> What does "ECW Header Editor" report about your ECW file ?
>
> Regards,
> Jean-Claude
> _______________________________________________
> gdal-dev mailing list
> [hidden email] <http://user/SendEmail.jtp?type=node&node=5612232&i=0>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> ------------------------------
>  View message @
> http://osgeo-org.1803224.n2.nabble.com/gdal-dev-corner-coords-in-tif-vs-ecw-tp5608144p5612232.html
> To unsubscribe from [gdal-dev] corner coords in tif vs ecw, click here<http://osgeo-org.1803224.n2.nabble.com/template/TplServlet.jtp?tpl=unsubscribe_by_code&node=5608144&code=a21heWFsbEBnbWFpbC5jb218NTYwODE0NHwtMTM2OTUxMTQ4NA==>.
>
>
>

 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-corner-coords-in-tif-vs-ecw-tp5608144p5706413.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101104/9a8255e3/attachment.html
From jrepetto at free.fr  Thu Nov  4 15:55:57 2010
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Thu Nov  4 14:55:51 2010
Subject: [gdal-dev] Re: corner coords in tif vs ecw
In-Reply-To: <AANLkTiku=i=OWsQgH=Nrmjj=zGpGTFm6Wo9Y+g4XciL7@mail.gmail.com>
References: <1286387333709-5608144.post@n2.nabble.com>	<4CADFFFC.8080305@free.fr>
	<AANLkTiku=i=OWsQgH=Nrmjj=zGpGTFm6Wo9Y+g4XciL7@mail.gmail.com>
Message-ID: <4CD30FCD.7050104@free.fr>

On 11/04/10 19:25, kmayall wrote:
> Sorry, I've been on hiatus for a while.
>
> ECW Image Header Editor shows the top left coords using values from the
> coordinate system (screenshot attached), while the gdalinfo results show
> the corner coords in pixels.
>
> So there's likely nothing wrong with my ecw file, just a quirk in the
> gdalinfo display?

Yes, I think so !
What does gdalinfo display after deleting (or renaming) the file
f:\gisdata\test\myecw.ecw.aux.xml ?

Jean-Claude
From kmayall at gmail.com  Thu Nov  4 15:14:38 2010
From: kmayall at gmail.com (kmayall)
Date: Thu Nov  4 15:14:41 2010
Subject: [gdal-dev] Re: corner coords in tif vs ecw
In-Reply-To: <4CD30FCD.7050104@free.fr>
References: <1286387333709-5608144.post@n2.nabble.com>
	<4CADFFFC.8080305@free.fr>
	<AANLkTiku=i=OWsQgH=Nrmjj=zGpGTFm6Wo9Y+g4XciL7@mail.gmail.com>
	<4CD30FCD.7050104@free.fr>
Message-ID: <AANLkTinZmN5L5WP9WCWv4KOkszCbJ9VJ4faXeGo3wDSM@mail.gmail.com>


Without the XML file, it uses values from the coordinate system.

Driver: ECW/ERMapper Compressed Wavelets
Files: myecw.ecw
Size is 2353, 2353
Coordinate System is `'
Origin = (535999.787499999980000,129999.862499999990000)
Pixel Size = (0.425000000000000,-0.425000000000000)
Corner Coordinates:
Upper Left  (  535999.787,  129999.862)
Lower Left  (  535999.787,  128999.837)
Upper Right (  536999.813,  129999.862)
Lower Right (  536999.813,  128999.837)
Center      (  536499.800,  129499.850)
Band 1 Block=2353x1 Type=Byte, ColorInterp=Red
  Overviews: arbitrary
Band 2 Block=2353x1 Type=Byte, ColorInterp=Green
  Overviews: arbitrary
Band 3 Block=2353x1 Type=Byte, ColorInterp=Blue
  Overviews: arbitrary


On Thu, Nov 4, 2010 at 3:56 PM, Jean-Claude Repetto [via OSGeo.org] <
ml-node+5706506-526523884-294829@n2.nabble.com<ml-node%2B5706506-526523884-294829@n2.nabble.com>
> wrote:

> On 11/04/10 19:25, kmayall wrote:
> > Sorry, I've been on hiatus for a while.
> >
> > ECW Image Header Editor shows the top left coords using values from the
> > coordinate system (screenshot attached), while the gdalinfo results show
> > the corner coords in pixels.
> >
> > So there's likely nothing wrong with my ecw file, just a quirk in the
> > gdalinfo display?
>
> Yes, I think so !
> What does gdalinfo display after deleting (or renaming) the file
> f:\gisdata\test\myecw.ecw.aux.xml ?
>
> Jean-Claude
> _______________________________________________
> gdal-dev mailing list
> [hidden email] <http://user/SendEmail.jtp?type=node&node=5706506&i=0>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> ------------------------------
>  View message @
> http://osgeo-org.1803224.n2.nabble.com/gdal-dev-corner-coords-in-tif-vs-ecw-tp5608144p5706506.html
> To unsubscribe from [gdal-dev] corner coords in tif vs ecw, click here<http://osgeo-org.1803224.n2.nabble.com/template/TplServlet.jtp?tpl=unsubscribe_by_code&node=5608144&code=a21heWFsbEBnbWFpbC5jb218NTYwODE0NHwtMTM2OTUxMTQ4NA==>.
>
>
>

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-corner-coords-in-tif-vs-ecw-tp5608144p5706573.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101104/64e2aa87/attachment-0001.html
From jrepetto at free.fr  Thu Nov  4 16:48:06 2010
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Thu Nov  4 15:47:59 2010
Subject: [gdal-dev] corner coords in tif vs ecw
In-Reply-To: <AANLkTinZmN5L5WP9WCWv4KOkszCbJ9VJ4faXeGo3wDSM@mail.gmail.com>
References: <1286387333709-5608144.post@n2.nabble.com>	<4CADFFFC.8080305@free.fr>	<AANLkTiku=i=OWsQgH=Nrmjj=zGpGTFm6Wo9Y+g4XciL7@mail.gmail.com>	<4CD30FCD.7050104@free.fr>
	<AANLkTinZmN5L5WP9WCWv4KOkszCbJ9VJ4faXeGo3wDSM@mail.gmail.com>
Message-ID: <4CD31C06.10503@free.fr>

On 11/04/10 20:14, kmayall wrote:
> Without the XML file, it uses values from the coordinate system.

It is the same problem I have already noticed. You should file a bug at 
http://trac.osgeo.org/gdal/
From ahmettemiz88 at gmail.com  Fri Nov  5 08:56:19 2010
From: ahmettemiz88 at gmail.com (ahmet temiz)
Date: Fri Nov  5 08:56:22 2010
Subject: [gdal-dev] EPSG value
Message-ID: <AANLkTimObjkOULt1Az-k6Wx9eT_KDWZ5ghtU5CR_uWLP@mail.gmail.com>

hello

how can I get  EPSG value of a shp file with OGR ( or gdal) ?

regards

-- 
Ahmet Temiz
Jeoloji M?h.
Planlama ve Zarar Azaltma Dairesi Ba?kanl???
Bilgi ve CBS grubu
Eski?ehir Yolu 10. km.
Lodumlu / Ankara
Tel : 0 312 2872680 / 1535
From jukka.rahkonen at mmmtike.fi  Fri Nov  5 10:05:18 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Nov  5 10:05:31 2010
Subject: [gdal-dev] Re: EPSG value
References: <AANLkTimObjkOULt1Az-k6Wx9eT_KDWZ5ghtU5CR_uWLP@mail.gmail.com>
Message-ID: <loom.20101105T150456-55@post.gmane.org>

ahmet temiz <ahmettemiz88 <at> gmail.com> writes:
 
> hello
> 
> how can I get  EPSG value of a shp file with OGR ( or gdal) ?

Ogrinfo will tell something if the shapefile bundle includes .prj file or then
you can just open the .prj file with text editor and see how it looks like.  It
does not contain EPSG code directly but you can compare the ESRI Well Known Text
strings with the ones from http://spatialreference.org/
 
If the shapefile did not come with the .prj file the best thing to do is to ask
from where you received the data. If it is not possible then you will need to
guess. Open the shapefile with some GIS program and compare it with some other
dataset with a known projection. Reproject the reference data to other
projections with ogr2ogr if needed and try again. When vectors match you have
found it.

-Jukka Rahkonen-




From hobu.inc at gmail.com  Fri Nov  5 10:08:28 2010
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Nov  5 10:08:34 2010
Subject: [gdal-dev] Re: EPSG value
In-Reply-To: <loom.20101105T150456-55@post.gmane.org>
References: <AANLkTimObjkOULt1Az-k6Wx9eT_KDWZ5ghtU5CR_uWLP@mail.gmail.com>
	<loom.20101105T150456-55@post.gmane.org>
Message-ID: <C7E1001B-7955-43D7-B28C-03C7678A3358@gmail.com>


On Nov 5, 2010, at 9:05 AM, Jukka Rahkonen wrote:

> ahmet temiz <ahmettemiz88 <at> gmail.com> writes:
> 
>> hello
>> 
>> how can I get  EPSG value of a shp file with OGR ( or gdal) ?
> 
> Ogrinfo will tell something if the shapefile bundle includes .prj file or then
> you can just open the .prj file with text editor and see how it looks like.  It
> does not contain EPSG code directly but you can compare the ESRI Well Known Text
> strings with the ones from http://spatialreference.org/
> 
> If the shapefile did not come with the .prj file the best thing to do is to ask
> from where you received the data. If it is not possible then you will need to
> guess. Open the shapefile with some GIS program and compare it with some other
> dataset with a known projection. Reproject the reference data to other
> projections with ogr2ogr if needed and try again. When vectors match you have
> found it.

You can also try pasting the .prj file into <http://www.prj2epsg.org/search> and seeing if it comes back with an EPSG id for you.

Howard
From yosukesabai at gmail.com  Fri Nov  5 15:08:41 2010
From: yosukesabai at gmail.com (yosuke kimura)
Date: Fri Nov  5 15:08:44 2010
Subject: [gdal-dev] Intersection of polygon layers
Message-ID: <AANLkTi=c=6wOa0ymMa9h_A+bw29JYrDk3aVumBKUikLm@mail.gmail.com>

All,

I am trying to calculate intersection of two polygon layers with
polygons.  I searched threads, found following thread, and what I got
was that OGR/GEOS provide me to intersection of two features, but I
have to write something in order to perform this operation for two
layers with multiple features.

Open source vector geoprocessing libraries?
http://groups.google.com/group/gdal/browse_thread/thread/7b5a4f461a4db319/

Intersect of two shapefiles
http://groups.google.com/group/gdal/browse_thread/thread/4b178c776aecf425/

My questions are:

1. Did I miss something?  Is there development of library which takes
two polygon layers to calculate intersection or other basic geometry
operations that i find in OGR?

2. Assuming no to above, I got started writing code using python
binding.  Not having too much experience, I codes to go through all
possible pair (complete bipartite), test with intersect, then run
intersection if it returns true.  I am wondering there is faster way
to do this.  I am thinking something like get envelope polygon of each
feature first, and then test intersection of them and then perform
intersect operation only when first test passes (i assume that it is
easier to test intersect if there are only handful of vertices as
oppose to hundreds of vertices in my case).

Right now I am trying with layer of hundreds of thousands of polygons
vs. thousands of polygon, and it seems to be taking 10s of hours to
finish in my environment.

Thank you,

Yosuke Kimura
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101105/67da9e7b/attachment.html
From u2546226 at anu.edu.au  Fri Nov  5 17:54:32 2010
From: u2546226 at anu.edu.au (Francis Markham)
Date: Fri Nov  5 17:54:56 2010
Subject: [gdal-dev] Intersection of polygon layers
In-Reply-To: <AANLkTi=c=6wOa0ymMa9h_A+bw29JYrDk3aVumBKUikLm@mail.gmail.com>
References: <AANLkTi=c=6wOa0ymMa9h_A+bw29JYrDk3aVumBKUikLm@mail.gmail.com>
Message-ID: <AANLkTikM_Y9QSs3F82eVy+r4s-6zdB1SRy8QnYUCOQ8s@mail.gmail.com>

If you're using Python, I'd recommend checking out the shapely package (
http://pypi.python.org/pypi/Shapely ):

You can load your shapefile using ogr, and then import the geometry to
shapely where you can do the geometry predicate calculations:

>>> import ogr
>>> from shapely.wkb import loads
>>> source = ogr.Open("/tmp/world_borders.shp")
>>> borders = source.GetLayerByName("world_borders")
>>> feature = borders.GetNextFeature()
>>> loads(feature.GetGeometryRef().ExportToWkb())


Good luck,

Francis

On 6 November 2010 06:08, yosuke kimura <yosukesabai@gmail.com> wrote:

> All,
>
> I am trying to calculate intersection of two polygon layers with
> polygons.  I searched threads, found following thread, and what I got
> was that OGR/GEOS provide me to intersection of two features, but I
> have to write something in order to perform this operation for two
> layers with multiple features.
>
> Open source vector geoprocessing libraries?
> http://groups.google.com/group/gdal/browse_thread/thread/7b5a4f461a4db319/
>
> Intersect of two shapefiles
> http://groups.google.com/group/gdal/browse_thread/thread/4b178c776aecf425/
>
> My questions are:
>
> 1. Did I miss something?  Is there development of library which takes
> two polygon layers to calculate intersection or other basic geometry
> operations that i find in OGR?
>
> 2. Assuming no to above, I got started writing code using python
> binding.  Not having too much experience, I codes to go through all
> possible pair (complete bipartite), test with intersect, then run
> intersection if it returns true.  I am wondering there is faster way
> to do this.  I am thinking something like get envelope polygon of each
> feature first, and then test intersection of them and then perform
> intersect operation only when first test passes (i assume that it is
> easier to test intersect if there are only handful of vertices as
> oppose to hundreds of vertices in my case).
>
> Right now I am trying with layer of hundreds of thousands of polygons
> vs. thousands of polygon, and it seems to be taking 10s of hours to
> finish in my environment.
>
> Thank you,
>
> Yosuke Kimura
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101106/63aeb375/attachment.html
From yosukesabai at gmail.com  Sat Nov  6 00:04:34 2010
From: yosukesabai at gmail.com (yosuke kimura)
Date: Sat Nov  6 00:04:35 2010
Subject: [gdal-dev] Re: Intersection of polygon layers
In-Reply-To: <AANLkTikM_Y9QSs3F82eVy+r4s-6zdB1SRy8QnYUCOQ8s@mail.gmail.com>
References: <AANLkTi=c=6wOa0ymMa9h_A+bw29JYrDk3aVumBKUikLm@mail.gmail.com>
	<AANLkTikM_Y9QSs3F82eVy+r4s-6zdB1SRy8QnYUCOQ8s@mail.gmail.com>
Message-ID: <0e5f28ed-57c2-486f-8b62-b7566e17b48f@e26g2000vbz.googlegroups.com>

All,

I think I found what I should have been using.  pick a feature from
one layer, use its geometry as an argument of SetSpatialFilter method
of the other layer.  Seems to be yielding same answer quicker...

Francis,

Thank you for suggestion.  I looked at the Shapely documentation
http://gispython.org/shapely/docs/1.0/manual.html . It wasn't obvious
to me advantage of the library over ogr, except that it looks more
pythonic.  I even didn't find mention of layer vs. feature, and to
solve my problem it is a step back to me?



On Nov 5, 4:54?pm, Francis Markham <u2546...@anu.edu.au> wrote:
> If you're using Python, I'd recommend checking out the shapely package (http://pypi.python.org/pypi/Shapely):
>
> You can load your shapefile using ogr, and then import the geometry to
> shapely where you can do the geometry predicate calculations:
>
> >>> import ogr
> >>> from shapely.wkb import loads
> >>> source = ogr.Open("/tmp/world_borders.shp")
> >>> borders = source.GetLayerByName("world_borders")
> >>> feature = borders.GetNextFeature()
> >>> loads(feature.GetGeometryRef().ExportToWkb())
>
> Good luck,
>
> Francis
>
> On 6 November 2010 06:08, yosuke kimura <yosukesa...@gmail.com> wrote:
>
> > All,
>
> > I am trying to calculate intersection of two polygon layers with
> > polygons. ?I searched threads, found following thread, and what I got
> > was that OGR/GEOS provide me to intersection of two features, but I
> > have to write something in order to perform this operation for two
> > layers with multiple features.
>
> > Open source vector geoprocessing libraries?
> >http://groups.google.com/group/gdal/browse_thread/thread/7b5a4f461a4d...
>
> > Intersect of two shapefiles
> >http://groups.google.com/group/gdal/browse_thread/thread/4b178c776aec...
>
> > My questions are:
>
> > 1. Did I miss something? ?Is there development of library which takes
> > two polygon layers to calculate intersection or other basic geometry
> > operations that i find in OGR?
>
> > 2. Assuming no to above, I got started writing code using python
> > binding. ?Not having too much experience, I codes to go through all
> > possible pair (complete bipartite), test with intersect, then run
> > intersection if it returns true. ?I am wondering there is faster way
> > to do this. ?I am thinking something like get envelope polygon of each
> > feature first, and then test intersection of them and then perform
> > intersect operation only when first test passes (i assume that it is
> > easier to test intersect if there are only handful of vertices as
> > oppose to hundreds of vertices in my case).
>
> > Right now I am trying with layer of hundreds of thousands of polygons
> > vs. thousands of polygon, and it seems to be taking 10s of hours to
> > finish in my environment.
>
> > Thank you,
>
> > Yosuke Kimura
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-...@lists.osgeo.org
> >http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-...@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
From dburken at comcast.net  Sat Nov  6 09:42:15 2010
From: dburken at comcast.net (David Burken)
Date: Sat Nov  6 09:43:22 2010
Subject: [gdal-dev] building gdal with VS10 64 bit
In-Reply-To: <4CD1A907.6030801@comcast.net>
References: <4CD1A907.6030801@comcast.net>
Message-ID: <4CD55B37.5080506@comcast.net>

Hi,

In case someone else hits this I needed to uncomment the "WIN64=YES" in 
the nmake.opt and everything linked great from an svn build.

Thanks,
Dave


On 11/03/2010 02:25 PM, David Burken wrote:
> Hi Everyone,
>
> Just curious has anyone successfully built gdal with VS10?  I'm not 
> familiar with the link syntax like "/INCLUDE:_OGR_G_GetPointCount" but 
> all of those are unresolved when linking gdal library.  Any  ideas 
> appreciated.  See below for build error.
>
> Take care,
> Dave
>
>
>         lib /nologo /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj 
> frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
> vb6\vb6_support.obj
> ogrsf_frmts.lib(resolvexlinks.obj) : warning LNK4221: This object file 
> does not define any previously undefined public symbols, so it will 
> not be used by any link operation that consumes this library
>         link /nologo /dll /INCLUDE:_OGRFeatureStylePuller  
> /INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods  
> /INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll 
> /INCLUDE:_GDALSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48  
> /INCLUDE:_GDALCo
> mputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28  
> /INCLUDE:_OCTNewCoordinateTransformation@8 
> /INCLUDE:_vbSafeArrayToPtr@16 port\*.obj gcore\*.obj alg\*.obj 
> frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
> vb6\vb6_support.obj              D:\vs
> 10_x64\osgeo\local\lib\libjpeg.lib    
> D:\vs10_x64\osgeo\local\lib\geotiff_i.lib 
> D:\vs10_x64\osgeo\local\lib\libtiff_i.lib                odbc32.lib 
> odbccp32.lib user32.lib  D:\vs10_x64\osgeo\local\lib\png14d.lib        
> gcore\Version.res  /out:gdal18dev.dll
>  /implib:gdal_i.lib
>    Creating library gdal_i.lib and object gdal_i.exp
> LINK : error LNK2001: unresolved external symbol _OGRFeatureStylePuller
> LINK : error LNK2001: unresolved external symbol _OSRValidate
> LINK : error LNK2001: unresolved external symbol _OPTGetProjectionMethods
> LINK : error LNK2001: unresolved external symbol _OGR_G_GetPointCount
> LINK : error LNK2001: unresolved external symbol _OGRRegisterAll
> LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp@36
> LINK : error LNK2001: unresolved external symbol _GDALReprojectImage@48
> LINK : error LNK2001: unresolved external symbol 
> _GDALComputeMedianCutPCT@32
> LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT@28
> LINK : error LNK2001: unresolved external symbol 
> _OCTNewCoordinateTransformation@8
> LINK : error LNK2001: unresolved external symbol _vbSafeArrayToPtr@16
> gdal18dev.dll : fatal error LNK1120: 11 unresolved externals
> NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual 
> Studio 10.0\VC\BIN\amd64\link.EXE"' : return code '0x460'
> Stop.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Sat Nov  6 22:48:29 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Nov  6 22:49:41 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
Message-ID: <4CD6137D.3030606@pobox.com>

Folks,

I have a GDAL/OGR 1.7.3 release candidate available at last.  I had to hold
off last week as the autotests were failing in hard to track down ways.

   http://download.osgeo.org/gdal/gdal-1.7.3RC1.tar.gz
   http://download.osgeo.org/gdal/gdal173RC1.zip

I have preliminary release notes at:

   http://trac.osgeo.org/gdal/wiki/Release/1.7.3-News

I have also packaged up the current 1.7 version of the autotest at:

   http://download.osgeo.org/gdal/gdalautotest-1.7.3.tar.gz

I would appreciate feedback on issues with the release candidate.  I'll call
for a vote early in the week if it looks ok.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Sun Nov  7 08:06:02 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Nov  7 08:07:07 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
In-Reply-To: <4CD6137D.3030606@pobox.com>
References: <4CD6137D.3030606@pobox.com>
Message-ID: <201011071406.02516.even.rouault@mines-paris.org>

Frank,

swig/include/perl/gdal_perl.i and swig/python/setup.py still contains 
reference to 1.7.2 version. The former preventing the Perl bindings from 
building due to the mismatch (and in gdal-1.7.2.tar.gz, the perl bindings were 
regenerated)

About r21079, I'm curious of the circumstances that made it necessary ? I have 
had no problem when building and running against internal libtiff and external 
3.9.2 or 3.9.4 without that change.

Best regards,

Even

> Folks,
> 
> I have a GDAL/OGR 1.7.3 release candidate available at last.  I had to hold
> off last week as the autotests were failing in hard to track down ways.
> 
>    http://download.osgeo.org/gdal/gdal-1.7.3RC1.tar.gz
>    http://download.osgeo.org/gdal/gdal173RC1.zip
> 
> I have preliminary release notes at:
> 
>    http://trac.osgeo.org/gdal/wiki/Release/1.7.3-News
> 
> I have also packaged up the current 1.7 version of the autotest at:
> 
>    http://download.osgeo.org/gdal/gdalautotest-1.7.3.tar.gz
> 
> I would appreciate feedback on issues with the release candidate.  I'll
> call for a vote early in the week if it looks ok.
> 
> Best regards,
From warmerdam at pobox.com  Sun Nov  7 13:31:32 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Nov  7 13:31:38 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
In-Reply-To: <201011071406.02516.even.rouault@mines-paris.org>
References: <4CD6137D.3030606@pobox.com>
	<201011071406.02516.even.rouault@mines-paris.org>
Message-ID: <4CD6F084.3040003@pobox.com>

Even Rouault wrote:
> Frank,
> 
> swig/include/perl/gdal_perl.i and swig/python/setup.py still contains 
> reference to 1.7.2 version. The former preventing the Perl bindings from 
> building due to the mismatch (and in gdal-1.7.2.tar.gz, the perl bindings were 
> regenerated)

Even,

I have produced an RC2 with this corrected, as well as two more
bug fixes (GMT, and GXF).

   http://download.osgeo.org/gdal/gdal-1.7.3RC2.tar.gz
   http://download.osgeo.org/gdal/gdal173RC2.zip

> About r21079, I'm curious of the circumstances that made it necessary ? I have 
> had no problem when building and running against internal libtiff and external 
> 3.9.2 or 3.9.4 without that change.

I'm building against libtiff from CVS head (libtiff4) and ran into problems on
64bit linux.   I get stuff like:

ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
ERROR 3: Checksum value couldn't be computed due to I/O read error.

ERROR 1: TIFFFillStrip:Invalid strip byte count 0, strip 0
ERROR 1: TIFFReadScanline() failed.
ERROR 1: IReadBlock failed at X offset 0, Y offset 5
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 5
ERROR 3: Checksum value couldn't be computed due to I/O read error.

... lots more...

I had intended to look into it more deeply, but this already stalled me
a week, and since it does not occur with trunk, and only seems to affect
an esoteric case in 1.7.x I decided to sweep it under the carpet.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From gcpp.kalxas at gmail.com  Sun Nov  7 14:40:27 2010
From: gcpp.kalxas at gmail.com (Angelos Tzotsos)
Date: Sun Nov  7 14:40:29 2010
Subject: [gdal-dev] gdal_extents utility?
Message-ID: <4CD700AB.3020601@gmail.com>

  Hi everyone,

I have written a small utility based on gdal recently that extracts the 
bounding box of any supported spatial data file.
http://gimed.svn.sourceforge.net/viewvc/gimed/trunk/utils/geo_extents.c?revision=14&view=markup
This utility is very useful for creating metadata geographic extents 
according to ISO19139

I would like to improve it and contribute it to gdal utilities under the 
name "gdal_extents".
Would this kind of utility be of interest? Could you please suggest 
improvements needed?

Regards,
Angelos

-- 
Angelos Tzotsos
Remote Sensing Laboratory
National Technical University of Athens
http://users.ntua.gr/tzotsos

From even.rouault at mines-paris.org  Sun Nov  7 16:13:18 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Nov  7 16:13:24 2010
Subject: [gdal-dev] gdal_extents utility?
In-Reply-To: <4CD700AB.3020601@gmail.com>
References: <4CD700AB.3020601@gmail.com>
Message-ID: <201011072213.18163.even.rouault@mines-paris.org>

Angelos,

Speaking for myself : Your utility is certainly usefull for your purposes, but 
I'm not sure if there is enough "added value" and/or general purposeness to 
include it as a new utility. Is the output of the utility aimed at some other 
utilities of a larger processing chain ?

Some things I noticed :

1) The licence : code that goes into GDAL source tree must be licenced under 
the X/MIT licence
2) The hard-coded Greek SRS. You should use the one from the GDAL dataset / 
OGR layer instead of the hard coded value.
3) The extent reported on a GDAL dataset won't match the ones reported by 
gdalinfo. For some reason you add a half-pixel shift
4) What is that DTM file ? Looks like it could be handled by the CSV driver 
with the help of OGR VRT wrapper file.
5) If the OGR datasource has more than one layer, several lines will be 
written. Is it wanted ?

Best regards,

Even
From gcpp.kalxas at gmail.com  Sun Nov  7 18:51:48 2010
From: gcpp.kalxas at gmail.com (Angelos Tzotsos)
Date: Sun Nov  7 18:51:49 2010
Subject: [gdal-dev] gdal_extents utility?
In-Reply-To: <201011072213.18163.even.rouault@mines-paris.org>
References: <4CD700AB.3020601@gmail.com>
	<201011072213.18163.even.rouault@mines-paris.org>
Message-ID: <4CD73B94.5020904@gmail.com>

  Hi Even,

Thank you for your comments.

At this point the code serves the purposes of the gimed metadata editor.
Of course the utility is going to be re-written if it is to be included 
in gdal (with different license).
All your suggestions are very welcome and will be taken under consideration.

I will look into what you propose with the CSV driver. Looks interesting.

As for your last question, this has to be handled with some kind of 
external parameter from the user.

Best regards,
Angelos

On 11/07/2010 11:13 PM, Even Rouault wrote:
> Angelos,
>
> Speaking for myself : Your utility is certainly usefull for your purposes, but
> I'm not sure if there is enough "added value" and/or general purposeness to
> include it as a new utility. Is the output of the utility aimed at some other
> utilities of a larger processing chain ?
>
> Some things I noticed :
>
> 1) The licence : code that goes into GDAL source tree must be licenced under
> the X/MIT licence
> 2) The hard-coded Greek SRS. You should use the one from the GDAL dataset /
> OGR layer instead of the hard coded value.
> 3) The extent reported on a GDAL dataset won't match the ones reported by
> gdalinfo. For some reason you add a half-pixel shift
> 4) What is that DTM file ? Looks like it could be handled by the CSV driver
> with the help of OGR VRT wrapper file.
> 5) If the OGR datasource has more than one layer, several lines will be
> written. Is it wanted ?
>
> Best regards,
>
> Even
>


-- 
Angelos Tzotsos
Remote Sensing Laboratory
National Technical University of Athens
http://users.ntua.gr/tzotsos

From warmerdam at pobox.com  Mon Nov  8 09:52:56 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov  8 09:53:02 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3RC2 Packaged for OSGeo4W
Message-ID: <4CD80EC8.6030105@pobox.com>

Folks,

As per the title, I have updated the gdal17 package in OSGeo4W to match
the code in the GDAL 1.7.3RC2 release candidate.  For those on windows
not wanting to build themselves this can be a good way to test the release
candidate.

   http://osgeo4w.osgeo.org/

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Chris.Barker at noaa.gov  Mon Nov  8 12:35:16 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Nov  8 12:35:18 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
In-Reply-To: <4CD6137D.3030606@pobox.com>
References: <4CD6137D.3030606@pobox.com>
Message-ID: <4CD834D4.7060000@noaa.gov>

On 11/6/10 7:48 PM, Frank Warmerdam wrote:
> I have a GDAL/OGR 1.7.3 release candidate available at last. I had to hold
> off last week as the autotests were failing in hard to track down ways.
>
> http://download.osgeo.org/gdal/gdal-1.7.3RC1.tar.gz
> http://download.osgeo.org/gdal/gdal173RC1.zip

Frank, does this include the support for other projections in BSB? i.e. 
is that what I should test for that?

thanks,

-Chris


> I have preliminary release notes at:
>
> http://trac.osgeo.org/gdal/wiki/Release/1.7.3-News
>
> I have also packaged up the current 1.7 version of the autotest at:
>
> http://download.osgeo.org/gdal/gdalautotest-1.7.3.tar.gz
>
> I would appreciate feedback on issues with the release candidate. I'll call
> for a vote early in the week if it looks ok.
>
> Best regards,


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From warmerdam at pobox.com  Mon Nov  8 12:48:54 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov  8 12:49:01 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
In-Reply-To: <4CD834D4.7060000@noaa.gov>
References: <4CD6137D.3030606@pobox.com> <4CD834D4.7060000@noaa.gov>
Message-ID: <4CD83806.6060905@pobox.com>

Christopher Barker wrote:
> On 11/6/10 7:48 PM, Frank Warmerdam wrote:
>> I have a GDAL/OGR 1.7.3 release candidate available at last. I had to 
>> hold
>> off last week as the autotests were failing in hard to track down ways.
>>
>> http://download.osgeo.org/gdal/gdal-1.7.3RC1.tar.gz
>> http://download.osgeo.org/gdal/gdal173RC1.zip
> 
> Frank, does this include the support for other projections in BSB? i.e. 
> is that what I should test for that?

Chris,

I see no sign in #3409 that the BSB projection changes were incorporated
into 1.7 branch.  So no.  But if you can test on windows you can use the
"gdal-dev" package of OSGeo4W.  On linux you can pull down a nightly
source snapshot anytime to test:

   http://www.gdal.org/daily/

You would want the "trunk" snapshot not "stable".  "stable" is from the
1.7 branch while trunk is the development version.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Mon Nov  8 15:22:35 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov  8 15:22:39 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Message-ID: <4CD85C0B.2090108@pobox.com>

Motion: Promote GDAL/OGR 1.7.3RC2 to final release

---

PSC members,

I've run the autotests in a few environments and things seems solid
to me.  Please vote when you have had a chance to examine the release
candidate.  Anyone else who finds problems should also speak up of course.

+1 Frank

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From eric at barrodale.com  Mon Nov  8 16:31:06 2010
From: eric at barrodale.com (Eric Davies)
Date: Mon Nov  8 16:37:53 2010
Subject: [gdal-dev] gdalinfo crashes or reports an error when reading a FITS
	file
Message-ID: <20101108213751.75A08E00785@lists.osgeo.org>

I've been trying to use the gdalinfo application to examine a number 
of FITS files that I've grabbed off the net. I've run into problems 
with both the precompiled/linked version of gdalinfo that comes with 
FWTOOLS.2.0.6, and with a copy I built myself from GDAL 1.7.2 source 
code and the cfitsio library. I'm running Linux (Fedora Core 13, 
Kernal 2.6) on a 32 bit Intel platform. It's not that I'm interested 
so much in the output of gdalinfo, but I wanted to verify that the 
underlying GDAL library could handle FITS before using it in my own 
application.

Most FITS files I tried caused gdalinfo to die with a segmentation 
fault. For example, the following files caused segmentation faults:
http://fits.gsfc.nasa.gov/nrao_data/tests/ftt4b/file013.fits
http://fits.gsfc.nasa.gov/nrao_data/samples/wcs/m82opt.fits

The remaining files I tried caused more graceful failures, 
represented by the message below.
ERROR 1: FITS file /opt/data/fits/ngc6503.fits does not have 2 or 3 
dimensions.
gdalinfo failed - unable to open '/opt/data/fits/ngc6503.fits'.
File from http://fits.gsfc.nasa.gov/nrao_data/samples/cubes/ngc6503.fits

I was able to view these FITS file using SAOImage DS9. indicating 
that the files were not corrupt.

Has anybody tested GDAL against FITS files recently?

Thank you,
Eric.

**********************************************
Eric Davies, M.Sc.
Senior Programmer Analyst
Barrodale Computing Services Ltd.
1095 McKenzie Ave., Suite 418
Victoria BC V8P 2L5
Canada

Tel: (250) 704-4428
Web: http://www.barrodale.com
Email: eric@barrodale.com
**********************************************


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101108/1c11fffe/attachment.html
From even.rouault at mines-paris.org  Mon Nov  8 17:20:13 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Nov  8 17:20:23 2010
Subject: [gdal-dev] gdalinfo crashes or reports an error when reading a
	FITS file
In-Reply-To: <20101108213751.75A08E00785@lists.osgeo.org>
References: <20101108213751.75A08E00785@lists.osgeo.org>
Message-ID: <201011082320.13317.even.rouault@mines-paris.org>

Eric,

I've tried with Ubuntu 10.04 64 bit and a Win32 daily build and I have noticed 
the following behaviour in both cases :

1) gdalinfo file013.fits :
ERROR 1: Error while reading key 19 from FITS file file013.fits (203)
gdalinfo failed - unable to open 'file013.fits'.

--> I've looked a bit at that issue and just improved the driver (in trunk) so 
that it accepts that file now. See http://trac.osgeo.org/gdal/ticket/3822

2) gdalinfo m82opt.fits: works

3) gdalinfo ngc6503.fits :
ERROR 1: FITS file ngc6503.fits does not have 2 or 3 dimensions.
gdalinfo failed - unable to open 'ngc6503.fits'.

--> that one seems to be expected.

Perhaps you should try upgrading your cfitsio library ? And I'd note that 
FWTools 2.0.6 is getting pretty old now so you might run into bugs fixed in a 
more recent versions when using it.

Best regards,

Even

Le lundi 08 novembre 2010 22:31:06, Eric Davies a ?crit :
> I've been trying to use the gdalinfo application to examine a number
> of FITS files that I've grabbed off the net. I've run into problems
> with both the precompiled/linked version of gdalinfo that comes with
> FWTOOLS.2.0.6, and with a copy I built myself from GDAL 1.7.2 source
> code and the cfitsio library. I'm running Linux (Fedora Core 13,
> Kernal 2.6) on a 32 bit Intel platform. It's not that I'm interested
> so much in the output of gdalinfo, but I wanted to verify that the
> underlying GDAL library could handle FITS before using it in my own
> application.
> 
> Most FITS files I tried caused gdalinfo to die with a segmentation
> fault. For example, the following files caused segmentation faults:
> http://fits.gsfc.nasa.gov/nrao_data/tests/ftt4b/file013.fits
> http://fits.gsfc.nasa.gov/nrao_data/samples/wcs/m82opt.fits
> 
> The remaining files I tried caused more graceful failures,
> represented by the message below.
> ERROR 1: FITS file /opt/data/fits/ngc6503.fits does not have 2 or 3
> dimensions.
> gdalinfo failed - unable to open '/opt/data/fits/ngc6503.fits'.
> File from http://fits.gsfc.nasa.gov/nrao_data/samples/cubes/ngc6503.fits
> 
> I was able to view these FITS file using SAOImage DS9. indicating
> that the files were not corrupt.
> 
> Has anybody tested GDAL against FITS files recently?
> 
> Thank you,
> Eric.
> 
> **********************************************
> Eric Davies, M.Sc.
> Senior Programmer Analyst
> Barrodale Computing Services Ltd.
> 1095 McKenzie Ave., Suite 418
> Victoria BC V8P 2L5
> Canada
> 
> Tel: (250) 704-4428
> Web: http://www.barrodale.com
> Email: eric@barrodale.com
> **********************************************
From even.rouault at mines-paris.org  Mon Nov  8 18:38:50 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Nov  8 18:38:59 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
In-Reply-To: <4CD85C0B.2090108@pobox.com>
References: <4CD85C0B.2090108@pobox.com>
Message-ID: <201011090038.50082.even.rouault@mines-paris.org>

Le lundi 08 novembre 2010 21:22:35, Frank Warmerdam a ?crit :
> Motion: Promote GDAL/OGR 1.7.3RC2 to final release

+1

Even
From silyko at gmail.com  Tue Nov  9 05:29:30 2010
From: silyko at gmail.com (Simon Lyngby Kokkendorff)
Date: Tue Nov  9 05:29:33 2010
Subject: [gdal-dev] Re: Intersection of polygon layers
In-Reply-To: <0e5f28ed-57c2-486f-8b62-b7566e17b48f@e26g2000vbz.googlegroups.com>
References: <AANLkTi=c=6wOa0ymMa9h_A+bw29JYrDk3aVumBKUikLm@mail.gmail.com>
	<AANLkTikM_Y9QSs3F82eVy+r4s-6zdB1SRy8QnYUCOQ8s@mail.gmail.com>
	<0e5f28ed-57c2-486f-8b62-b7566e17b48f@e26g2000vbz.googlegroups.com>
Message-ID: <AANLkTi=b9Ct31+gBSuuqJd1_gf1PazDVN9dzGa9ydo3K@mail.gmail.com>

Hi Yosuke,

  If you use MultiPolygon geometries (with your polygons as the parts), geos
(via ogr or shapely) should be able to do the job in one go, which should
speed things up considerably...

  Cheers,
   Simon


On Sat, Nov 6, 2010 at 5:04 AM, yosuke kimura <yosukesabai@gmail.com> wrote:

> All,
>
> I think I found what I should have been using.  pick a feature from
> one layer, use its geometry as an argument of SetSpatialFilter method
> of the other layer.  Seems to be yielding same answer quicker...
>
> Francis,
>
> Thank you for suggestion.  I looked at the Shapely documentation
> http://gispython.org/shapely/docs/1.0/manual.html . It wasn't obvious
> to me advantage of the library over ogr, except that it looks more
> pythonic.  I even didn't find mention of layer vs. feature, and to
> solve my problem it is a step back to me?
>
>
>
> On Nov 5, 4:54 pm, Francis Markham <u2546...@anu.edu.au> wrote:
> > If you're using Python, I'd recommend checking out the shapely package (
> http://pypi.python.org/pypi/Shapely):
> >
> > You can load your shapefile using ogr, and then import the geometry to
> > shapely where you can do the geometry predicate calculations:
> >
> > >>> import ogr
> > >>> from shapely.wkb import loads
> > >>> source = ogr.Open("/tmp/world_borders.shp")
> > >>> borders = source.GetLayerByName("world_borders")
> > >>> feature = borders.GetNextFeature()
> > >>> loads(feature.GetGeometryRef().ExportToWkb())
> >
> > Good luck,
> >
> > Francis
> >
> > On 6 November 2010 06:08, yosuke kimura <yosukesa...@gmail.com> wrote:
> >
> > > All,
> >
> > > I am trying to calculate intersection of two polygon layers with
> > > polygons.  I searched threads, found following thread, and what I got
> > > was that OGR/GEOS provide me to intersection of two features, but I
> > > have to write something in order to perform this operation for two
> > > layers with multiple features.
> >
> > > Open source vector geoprocessing libraries?
> > >http://groups.google.com/group/gdal/browse_thread/thread/7b5a4f461a4d.
> ..
> >
> > > Intersect of two shapefiles
> > >http://groups.google.com/group/gdal/browse_thread/thread/4b178c776aec.
> ..
> >
> > > My questions are:
> >
> > > 1. Did I miss something?  Is there development of library which takes
> > > two polygon layers to calculate intersection or other basic geometry
> > > operations that i find in OGR?
> >
> > > 2. Assuming no to above, I got started writing code using python
> > > binding.  Not having too much experience, I codes to go through all
> > > possible pair (complete bipartite), test with intersect, then run
> > > intersection if it returns true.  I am wondering there is faster way
> > > to do this.  I am thinking something like get envelope polygon of each
> > > feature first, and then test intersection of them and then perform
> > > intersect operation only when first test passes (i assume that it is
> > > easier to test intersect if there are only handful of vertices as
> > > oppose to hundreds of vertices in my case).
> >
> > > Right now I am trying with layer of hundreds of thousands of polygons
> > > vs. thousands of polygon, and it seems to be taking 10s of hours to
> > > finish in my environment.
> >
> > > Thank you,
> >
> > > Yosuke Kimura
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-...@lists.osgeo.org
> > >http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-...@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101109/1bdf0fa9/attachment-0001.html
From peter.hopfgartner at r3-gis.com  Tue Nov  9 06:17:34 2010
From: peter.hopfgartner at r3-gis.com (Peter Hopfgartner)
Date: Tue Nov  9 06:17:38 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
Message-ID: <20101109111734.3D0F7167822D@mail.r3-gis.com>

Since this one affected me, I would like to ask if the fix for
http://trac.osgeo.org/gdal/ticket/3411 is included?

Regards,

Peter
 
R3 GIS Srl - GmbH
http://www.r3-gis.com

--------Frank Warmerdam <warmerdam@pobox.com> wrote--------
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
Date: 07.11.2010 03:49

>Folks,
>
>I have a GDAL/OGR 1.7.3 release candidate available at last.  I had to
>hold
>off last week as the autotests were failing in hard to track down ways.
>
>   http://download.osgeo.org/gdal/gdal-1.7.3RC1.tar.gz
>   http://download.osgeo.org/gdal/gdal173RC1.zip
>
>I have preliminary release notes at:
>
>   http://trac.osgeo.org/gdal/wiki/Release/1.7.3-News
>
>I have also packaged up the current 1.7 version of the autotest at:
>
>   http://download.osgeo.org/gdal/gdalautotest-1.7.3.tar.gz
>
>I would appreciate feedback on issues with the release candidate.  I'll
>call
>for a vote early in the week if it looks ok.
>
>Best regards,
>-- 
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam,
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev@lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From jrepetto at free.fr  Tue Nov  9 08:08:42 2010
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue Nov  9 08:16:05 2010
Subject: [gdal-dev] Problem with autotest SVN repository
Message-ID: <4CD947DA.5050206@free.fr>

Hello,

I'm trying to download the autotest source code from the SVN repository, 
but I have a problem with a file name encoded in UTF-8 :

$ svn checkout https://svn.osgeo.org/gdal/trunk/autotest gdal-autotest
svn: Can't convert string from 'UTF-8' to native encoding:
svn: 
gdal-autotest/gcore/data/xx?\228?\184?\173?\230?\150?\135.?\228?\184?\173?\230?\150?\135

These are my language parameters :

$ locale
LANG=fr_FR.UTF-8
LC_CTYPE="fr_FR.UTF-8"
LC_NUMERIC="fr_FR.UTF-8"
LC_TIME="fr_FR.UTF-8"
LC_COLLATE=C
LC_MONETARY="fr_FR.UTF-8"
LC_MESSAGES="fr_FR.UTF-8"
LC_PAPER="fr_FR.UTF-8"
LC_NAME="fr_FR.UTF-8"
LC_ADDRESS="fr_FR.UTF-8"
LC_TELEPHONE="fr_FR.UTF-8"
LC_MEASUREMENT="fr_FR.UTF-8"
LC_IDENTIFICATION="fr_FR.UTF-8"
LC_ALL=

How can I solve this problem ?

Thanks,
Jean-Claude
From dmorissette at mapgears.com  Tue Nov  9 08:22:21 2010
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Tue Nov  9 08:22:27 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
In-Reply-To: <4CD85C0B.2090108@pobox.com>
References: <4CD85C0B.2090108@pobox.com>
Message-ID: <4CD94B0D.1030309@mapgears.com>

Frank Warmerdam wrote:
> Motion: Promote GDAL/OGR 1.7.3RC2 to final release
> 

+1 (Tested with FGS and MapServer without problems)

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From warmerdam at pobox.com  Tue Nov  9 08:38:31 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov  9 08:38:37 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Release Candidate
In-Reply-To: <20101109111734.3D0F7167822D@mail.r3-gis.com>
References: <20101109111734.3D0F7167822D@mail.r3-gis.com>
Message-ID: <4CD94ED7.2040008@pobox.com>

Peter Hopfgartner wrote:
> Since this one affected me, I would like to ask if the fix for
> http://trac.osgeo.org/gdal/ticket/3411 is included?

Peter,

The comments in the ticket seem to indicate the fix was only in trunk,
not the 1.7 stable branch.  My review of changes in the branch used to
create the NEWS document also did not identify any changes related to
ticket #3411.  So I think the answer is no, this fix is not in 1.7.3.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From peter.hopfgartner at r3-gis.com  Tue Nov  9 10:04:18 2010
From: peter.hopfgartner at r3-gis.com (Peter Hopfgartner)
Date: Tue Nov  9 10:04:20 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Message-ID: <20101109150418.8D5811678224@mail.r3-gis.com>

I wrapped a quick rpm package, installed the rpms and tried to run autotest. The tests comes to this point:

Running tests from gcore/mask.py
  TEST: mask_1 ... success
  TEST: mask_2 ... success
  TEST: mask_3 ... success
  TEST: mask_4 ... success
  TEST: mask_5 ... ERROR 1: ZIPDecode:tmp/mask_4.pnm.msk: Decoding error at scanline 0, incorrect header check
ERROR 1: TIFFReadEncodedTile() failed.

ERROR 1: IReadBlock failed at X offset 0, Y offset 0
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
Segmentation fault

The platform id CentOS 5.5/x86_64, with some packages from EPEL and elgis.

Regards,

Peter Hopfgartner
 
R3 GIS Srl - GmbH
http://www.r3-gis.com


--------Frank Warmerdam <warmerdam@pobox.com> wrote--------
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Date: 08.11.2010 21:22

>Motion: Promote GDAL/OGR 1.7.3RC2 to final release
>
>---
>
>PSC members,
>
>I've run the autotests in a few environments and things seems solid
>to me.  Please vote when you have had a chance to examine the release
>candidate.  Anyone else who finds problems should also speak up of
>course.
>
>+1 Frank
>
>-- 
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam,
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev@lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From warmerdam at pobox.com  Tue Nov  9 10:32:22 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov  9 10:32:27 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
In-Reply-To: <20101109150418.8D5811678224@mail.r3-gis.com>
References: <20101109150418.8D5811678224@mail.r3-gis.com>
Message-ID: <4CD96986.2010401@pobox.com>

Peter Hopfgartner wrote:
> I wrapped a quick rpm package, installed the rpms and tried to run autotest. The tests comes to this point:
> 
> Running tests from gcore/mask.py
>   TEST: mask_1 ... success
>   TEST: mask_2 ... success
>   TEST: mask_3 ... success
>   TEST: mask_4 ... success
>   TEST: mask_5 ... ERROR 1: ZIPDecode:tmp/mask_4.pnm.msk: Decoding error at scanline 0, incorrect header check
> ERROR 1: TIFFReadEncodedTile() failed.
> 
> ERROR 1: IReadBlock failed at X offset 0, Y offset 0
> ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
> Segmentation fault
> 
> The platform id CentOS 5.5/x86_64, with some packages from EPEL and elgis.

Peter,

What libtiff is this using?  Internal?  External libtiff4?  libtiff3.x?

The test suite pushes many boundary cases that only work with the latest
libtiff4 code particularly because GDAL tends to be the client that
pushes the boundaries of libtiff.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Nov  9 11:22:22 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov  9 11:22:26 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
In-Reply-To: <20101109161045.C396F1678224@mail.r3-gis.com>
References: <20101109161045.C396F1678224@mail.r3-gis.com>
Message-ID: <4CD9753E.5080801@pobox.com>

Peter Hopfgartner wrote:
> Hi Frank,
> 
> gdal was configured with:
> 
>         --with-geotiff=external   \
>         --with-tiff=external      \
>         --with-libtiff=external   \
> 
> and libtiff is the one that comes with CentOS 5.5:
> 
> [rpmbuild@rpm-devel gdalautotest-1.7.0]$ rpm -qa | grep tiff
> libgeotiff-1.2.4-3.el5
> libtiff-devel-3.8.2-7.el5_5.5
> libgeotiff-devel-1.2.4-3.el5
> libtiff-3.8.2-7.el5_5.5

Peter,

Well, that explains it.  Passing the autotest suite will require a
substantially newer libtiff.  I would suggest you just disregard tiff
related failures, and remove any tiff related scripts that cause a
crash.

But this sensitivity of GDAL to libtiff bugs is the reason I advocate for
having libtiff4 available for GDAL, though hopefully in a way that does
not interfere with the system libtiff.

I'm sorry I haven't been able to follow up on that on the EL mailing list
as I've backburnered my RPM work for a few days.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From peter.hopfgartner at r3-gis.com  Tue Nov  9 11:10:45 2010
From: peter.hopfgartner at r3-gis.com (Peter Hopfgartner)
Date: Tue Nov  9 11:25:31 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Message-ID: <20101109161045.C396F1678224@mail.r3-gis.com>

Hi Frank,

gdal was configured with:

        --with-geotiff=external   \
        --with-tiff=external      \
        --with-libtiff=external   \

and libtiff is the one that comes with CentOS 5.5:

[rpmbuild@rpm-devel gdalautotest-1.7.0]$ rpm -qa | grep tiff
libgeotiff-1.2.4-3.el5
libtiff-devel-3.8.2-7.el5_5.5
libgeotiff-devel-1.2.4-3.el5
libtiff-3.8.2-7.el5_5.5

Regards,

Peter
 
R3 GIS Srl - GmbH
http://www.r3-gis.com


--------Frank Warmerdam <warmerdam@pobox.com> wrote--------
Subject: Re: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Date: 09.11.2010 16:32

>Peter Hopfgartner wrote:
>> I wrapped a quick rpm package, installed the rpms and tried to run
>autotest. The tests comes to this point:
>> 
>> Running tests from gcore/mask.py
>>   TEST: mask_1 ... success
>>   TEST: mask_2 ... success
>>   TEST: mask_3 ... success
>>   TEST: mask_4 ... success
>>   TEST: mask_5 ... ERROR 1: ZIPDecode:tmp/mask_4.pnm.msk: Decoding
>error at scanline 0, incorrect header check
>> ERROR 1: TIFFReadEncodedTile() failed.
>> 
>> ERROR 1: IReadBlock failed at X offset 0, Y offset 0
>> ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
>> Segmentation fault
>> 
>> The platform id CentOS 5.5/x86_64, with some packages from EPEL and
>elgis.
>
>Peter,
>
>What libtiff is this using?  Internal?  External libtiff4?  libtiff3.x?
>
>The test suite pushes many boundary cases that only work with the latest
>libtiff4 code particularly because GDAL tends to be the client that
>pushes the boundaries of libtiff.
>
>Best regards,
>-- 
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam,
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>

From peter.hopfgartner at r3-gis.com  Tue Nov  9 11:48:06 2010
From: peter.hopfgartner at r3-gis.com (Peter Hopfgartner)
Date: Tue Nov  9 11:48:08 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Message-ID: <20101109164806.3A3DE1678236@mail.r3-gis.com>

Hi Frank,

I had to disable mask_5 to mask_10 and ecw_6, which threw another Exception.

Now the result looks like:
 ------------ Failures ------------
Script: ogr/ogr_s57.py
  TEST: ogr_s57_2 ... fail
    Expected 2 layer type in layer COALNE, but got 0.
Script: gcore/tiff_write.py
  TEST: tiff_write_55 ... fail
    failed to preserve Equirectangular projection as expected, old libgeotiff?
Script: gdrivers/pds.py
  TEST: pds_4 ... fail
    Checksum for band 1 in "pds_3177.lbl" is 3293, but expected 4028.
Script: gdrivers/gxf.py
  TEST: gxf_1 ... fail
    Checksum for band 1 in "small.gxf" is 90, but expected 88.
Script: gdrivers/ecw.py
  TEST: ecw_10 ... fail (blowup)
 ----------------------------------

Test Script: utilities/test_ogrtindex.py
Succeeded: 1570
Failed:    5 (1 blew exceptions)
Skipped:   240
Expected fail:1
As GDAL_DOWNLOAD_TEST_DATA environment variable is not defined, 67 tests relying on data to downloaded from the Web have been skipped

Talking about libtiff4 in elgis is concerned, there is really no hurry.

Cheers,

Peter
 
R3 GIS Srl - GmbH
http://www.r3-gis.com


--------Frank Warmerdam <warmerdam@pobox.com> wrote--------
Subject: Re: [gdal-dev] Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Date: 09.11.2010 17:22

>Peter Hopfgartner wrote:
>> Hi Frank,
>> 
>> gdal was configured with:
>> 
>>         --with-geotiff=external   \
>>         --with-tiff=external      \
>>         --with-libtiff=external   \
>> 
>> and libtiff is the one that comes with CentOS 5.5:
>> 
>> [rpmbuild@rpm-devel gdalautotest-1.7.0]$ rpm -qa | grep tiff
>> libgeotiff-1.2.4-3.el5
>> libtiff-devel-3.8.2-7.el5_5.5
>> libgeotiff-devel-1.2.4-3.el5
>> libtiff-3.8.2-7.el5_5.5
>
>Peter,
>
>Well, that explains it.  Passing the autotest suite will require a
>substantially newer libtiff.  I would suggest you just disregard tiff
>related failures, and remove any tiff related scripts that cause a
>crash.
>
>But this sensitivity of GDAL to libtiff bugs is the reason I advocate for
>having libtiff4 available for GDAL, though hopefully in a way that does
>not interfere with the system libtiff.
>
>I'm sorry I haven't been able to follow up on that on the EL mailing list
>as I've backburnered my RPM work for a few days.
>
>Best regards,
>-- 
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam,
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>

From aperi2007 at gmail.com  Tue Nov  9 12:03:55 2010
From: aperi2007 at gmail.com (Andrea Peri 2007)
Date: Tue Nov  9 12:04:04 2010
Subject: [gdal-dev] getting a new gcs.csv
Message-ID: <4CD97EFB.6020601@gmail.com>

Hi,

I'm trying to use the ogr2ogr.exe compiled with VC++ .

running ogr2ogr it give me this message:

ERROR 4: Unable to open EPSG support file gcs.csv

so I retrieve a gcs.csv file from FWTools2.4.7 and copy it in the same 
folder of ogr2ogr.
after this copy.
The new message from ogr2ogr is this:

"error 6: epsg pcs/gcs code 3003 not found in EPSG support files. Is 
this a valid EPSG"

I check to the www.epsg.org that EPSG:3003 is a valid epsg coordinate 
system.

So I think perhaps the  gcs.csv file of fwtool is old.
There is available a new version of gcs.csv ?

Thx,
Andrea Peri.


From warmerdam at pobox.com  Tue Nov  9 12:13:11 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov  9 12:13:16 2010
Subject: [gdal-dev] getting a new gcs.csv
In-Reply-To: <4CD97EFB.6020601@gmail.com>
References: <4CD97EFB.6020601@gmail.com>
Message-ID: <4CD98127.2030006@pobox.com>

Andrea Peri 2007 wrote:
> Hi,
> 
> I'm trying to use the ogr2ogr.exe compiled with VC++ .
> 
> running ogr2ogr it give me this message:
> 
> ERROR 4: Unable to open EPSG support file gcs.csv
> 
> so I retrieve a gcs.csv file from FWTools2.4.7 and copy it in the same 
> folder of ogr2ogr.
> after this copy.
> The new message from ogr2ogr is this:
> 
> "error 6: epsg pcs/gcs code 3003 not found in EPSG support files. Is 
> this a valid EPSG"
> 
> I check to the www.epsg.org that EPSG:3003 is a valid epsg coordinate 
> system.
> 
> So I think perhaps the  gcs.csv file of fwtool is old.
> There is available a new version of gcs.csv ?

Andrea,

The latest gcs.csv and pcs.csv can be found at:

   http://svn.osgeo.org/gdal/trunk/gdal/data

They should work fine with older GDAL's.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From aperi2007 at gmail.com  Tue Nov  9 12:57:36 2010
From: aperi2007 at gmail.com (Andrea Peri 2007)
Date: Tue Nov  9 12:57:42 2010
Subject: [gdal-dev] getting a new gcs.csv
In-Reply-To: <4CD98127.2030006@pobox.com>
References: <4CD97EFB.6020601@gmail.com> <4CD98127.2030006@pobox.com>
Message-ID: <4CD98B90.3070408@gmail.com>

Frank,
thx for link.

I take the last gcs.csv and pcs.csv.

I verify that in the new pcs.csv there is EPSG:3003 (it is projected)

but even now ogr2ogr.exe still report me
the epsg pcs/gcs code 3003 not found.

seem that ogr2ogr is not using the pcs.csv file .

Thx,

Andrea.


Il 09/11/2010 18:13, Frank Warmerdam ha scritto:
> Andrea Peri 2007 wrote:
>> Hi,
>>
>> I'm trying to use the ogr2ogr.exe compiled with VC++ .
>>
>> running ogr2ogr it give me this message:
>>
>> ERROR 4: Unable to open EPSG support file gcs.csv
>>
>> so I retrieve a gcs.csv file from FWTools2.4.7 and copy it in the 
>> same folder of ogr2ogr.
>> after this copy.
>> The new message from ogr2ogr is this:
>>
>> "error 6: epsg pcs/gcs code 3003 not found in EPSG support files. Is 
>> this a valid EPSG"
>>
>> I check to the www.epsg.org that EPSG:3003 is a valid epsg coordinate 
>> system.
>>
>> So I think perhaps the  gcs.csv file of fwtool is old.
>> There is available a new version of gcs.csv ?
>
> Andrea,
>
> The latest gcs.csv and pcs.csv can be found at:
>
>   http://svn.osgeo.org/gdal/trunk/gdal/data
>
> They should work fine with older GDAL's.
>
> Best regards,

From matt.gregory at oregonstate.edu  Tue Nov  9 17:34:35 2010
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Tue Nov  9 17:34:39 2010
Subject: [gdal-dev] python: possible to get Dataset from Band
Message-ID: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>

Hi all,

An easy question and apologies if it's been asked before.  

Is there a way to get the owning gdal.Dataset from a gdal.Band within Python?  I'm not seeing GetDataset() as in C/C++ within the Python bindings.

thanks, matt
From even.rouault at mines-paris.org  Tue Nov  9 17:48:14 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Nov  9 17:48:25 2010
Subject: [gdal-dev] python: possible to get Dataset from Band
In-Reply-To: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>
References: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>
Message-ID: <201011092348.14422.even.rouault@mines-paris.org>

Le mardi 09 novembre 2010 23:34:35, Gregory, Matthew a ?crit :
> Hi all,
> 
> An easy question and apologies if it's been asked before.
> 
> Is there a way to get the owning gdal.Dataset from a gdal.Band within
> Python?  I'm not seeing GetDataset() as in C/C++ within the Python
> bindings.

No, there's no direct way of doing it with an API call. But as you can only 
get a Band from a Dataset, you can easily do something like :

band = ds.GetRasterBand(xxx)
band.ds = ds

and then use band.ds to get access to the dataset...
From matt.gregory at oregonstate.edu  Tue Nov  9 18:07:37 2010
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Tue Nov  9 18:07:41 2010
Subject: [gdal-dev] python: possible to get Dataset from Band
In-Reply-To: <201011092348.14422.even.rouault@mines-paris.org>
References: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>
	<201011092348.14422.even.rouault@mines-paris.org>
Message-ID: <1D673F86DDA00841A1216F04D1CE70D642664D7458@EXCH2.nws.oregonstate.edu>

Even Rouault wrote:
> No, there's no direct way of doing it with an API call. But as you can
> only get a Band from a Dataset, you can easily do something like :
> 
> band = ds.GetRasterBand(xxx)
> band.ds = ds
> 
> and then use band.ds to get access to the dataset...

Ah, of course.  Thanks for helping me to see it.

matt
From pcorti at gmail.com  Tue Nov  9 18:10:08 2010
From: pcorti at gmail.com (Paolo Corti)
Date: Tue Nov  9 18:10:40 2010
Subject: [gdal-dev] python: possible to get Dataset from Band
In-Reply-To: <201011092348.14422.even.rouault@mines-paris.org>
References: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>
	<201011092348.14422.even.rouault@mines-paris.org>
Message-ID: <AANLkTimtkdt0n60Re6p2=Ow2a38RW=tEU+KSZ_gGM2AK@mail.gmail.com>

> No, there's no direct way of doing it with an API call. But as you can only
> get a Band from a Dataset, you can easily do something like :
>
> band = ds.GetRasterBand(xxx)
> band.ds = ds

Do we really need this? As far as I remember band must be in the same
context of dataset (dataset can't go out of scope), so why would we
need a reference to it?
best regards
P

-- 
Paolo Corti
GIS specialist and web developer
web: http://www.paolocorti.net
twitter: @paolo_corti
From even.rouault at mines-paris.org  Tue Nov  9 18:22:49 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Nov  9 18:23:00 2010
Subject: [gdal-dev] python: possible to get Dataset from Band
In-Reply-To: <AANLkTimtkdt0n60Re6p2=Ow2a38RW=tEU+KSZ_gGM2AK@mail.gmail.com>
References: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>
	<201011092348.14422.even.rouault@mines-paris.org>
	<AANLkTimtkdt0n60Re6p2=Ow2a38RW=tEU+KSZ_gGM2AK@mail.gmail.com>
Message-ID: <201011100022.49411.even.rouault@mines-paris.org>

Le mercredi 10 novembre 2010 00:10:08, Paolo Corti a ?crit :
> > No, there's no direct way of doing it with an API call. But as you can
> > only get a Band from a Dataset, you can easily do something like :
> > 
> > band = ds.GetRasterBand(xxx)
> > band.ds = ds
> 
> Do we really need this? As far as I remember band must be in the same
> context of dataset (dataset can't go out of scope), so why would we
> need a reference to it?

You're 100% right. By the way, assigning the dataset as a member of the band 
is an excellent means of making sure that we keep a reference to the dataset. 
That's indeed the gist of the patch attached to ticket 
http://trac.osgeo.org/gdal/ticket/3592 .

> best regards
> P
From matt.gregory at oregonstate.edu  Tue Nov  9 18:56:21 2010
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Tue Nov  9 18:56:24 2010
Subject: [gdal-dev] python: possible to get Dataset from Band
In-Reply-To: <201011100022.49411.even.rouault@mines-paris.org>
References: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>
	<201011092348.14422.even.rouault@mines-paris.org>
	<AANLkTimtkdt0n60Re6p2=Ow2a38RW=tEU+KSZ_gGM2AK@mail.gmail.com>
	<201011100022.49411.even.rouault@mines-paris.org>
Message-ID: <1D673F86DDA00841A1216F04D1CE70D642664D7470@EXCH2.nws.oregonstate.edu>

Even Rouault wrote:
> Le mercredi 10 novembre 2010 00:10:08, Paolo Corti a ?crit :
> > Do we really need this? As far as I remember band must be in the same
> > context of dataset (dataset can't go out of scope), so why would we
> > need a reference to it?
> 
> You're 100% right. By the way, assigning the dataset as a member of the
> band is an excellent means of making sure that we keep a reference to
> the dataset.
> That's indeed the gist of the patch attached to ticket
> http://trac.osgeo.org/gdal/ticket/3592 .

Forgive my likely stupidity, but I was trying to use the reference to the gdal.Dataset in this way:

def silly_reference_ds(rb):
    return rb.ds.GetGeoTransform()

ds = gdal.Open('L:/orcawa/spatial/topography/dem30')
rb = ds.GetRasterBand(1)
rb.ds = ds
print silly_reference_ds(rb)

such that I could pass around Bands instead of Datasets (and band numbers) to functions, but still have reference to things like the geotransform.  Am I way off base?

thanks, matt


From pcorti at gmail.com  Tue Nov  9 19:25:58 2010
From: pcorti at gmail.com (Paolo Corti)
Date: Tue Nov  9 19:26:31 2010
Subject: [gdal-dev] python: possible to get Dataset from Band
In-Reply-To: <201011100022.49411.even.rouault@mines-paris.org>
References: <1D673F86DDA00841A1216F04D1CE70D642664D744A@EXCH2.nws.oregonstate.edu>
	<201011092348.14422.even.rouault@mines-paris.org>
	<AANLkTimtkdt0n60Re6p2=Ow2a38RW=tEU+KSZ_gGM2AK@mail.gmail.com>
	<201011100022.49411.even.rouault@mines-paris.org>
Message-ID: <AANLkTi=uskYJcruKsH7==JxK+RHEnzo0cu12bx_g8ern@mail.gmail.com>

On Wed, Nov 10, 2010 at 12:22 AM, Even Rouault
<even.rouault@mines-paris.org> wrote
>
> You're 100% right. By the way, assigning the dataset as a member of the band
> is an excellent means of making sure that we keep a reference to the dataset.
> That's indeed the gist of the patch attached to ticket
> http://trac.osgeo.org/gdal/ticket/3592 .
>

thanks Even
makes very much sense now, it is a really good point ;)
P

-- 
Paolo Corti
GIS specialist and web developer
web: http://www.paolocorti.net
twitter: @paolo_corti
From anders.moe at geocap.no  Wed Nov 10 03:49:15 2010
From: anders.moe at geocap.no (Anders Moe)
Date: Wed Nov 10 03:49:16 2010
Subject: [gdal-dev] getting a new gcs.csv
In-Reply-To: <4CD98B90.3070408@gmail.com>
References: <4CD97EFB.6020601@gmail.com> <4CD98127.2030006@pobox.com>
	<4CD98B90.3070408@gmail.com>
Message-ID: <AANLkTin+LyRS2PzyEVvv_Vn7WXxmWLzK=HNxrD1Ret0d@mail.gmail.com>

Andrea

I've had my share of problems finding the *.cvs files too, but maybe you
could try :

1) Executing from the location of the ogr2ogr.exe utility
2) Having the *.cvs files in that directory
3) Having the GDAL_DATA environment variable set to the same directory.

Cheers,
Anders

On Tue, Nov 9, 2010 at 6:57 PM, Andrea Peri 2007 <aperi2007@gmail.com>wrote:

> Frank,
> thx for link.
>
> I take the last gcs.csv and pcs.csv.
>
> I verify that in the new pcs.csv there is EPSG:3003 (it is projected)
>
> but even now ogr2ogr.exe still report me
> the epsg pcs/gcs code 3003 not found.
>
> seem that ogr2ogr is not using the pcs.csv file .
>
> Thx,
>
> Andrea.
>
>
> Il 09/11/2010 18:13, Frank Warmerdam ha scritto:
>
>  Andrea Peri 2007 wrote:
>>
>>> Hi,
>>>
>>> I'm trying to use the ogr2ogr.exe compiled with VC++ .
>>>
>>> running ogr2ogr it give me this message:
>>>
>>> ERROR 4: Unable to open EPSG support file gcs.csv
>>>
>>> so I retrieve a gcs.csv file from FWTools2.4.7 and copy it in the same
>>> folder of ogr2ogr.
>>> after this copy.
>>> The new message from ogr2ogr is this:
>>>
>>> "error 6: epsg pcs/gcs code 3003 not found in EPSG support files. Is this
>>> a valid EPSG"
>>>
>>> I check to the www.epsg.org that EPSG:3003 is a valid epsg coordinate
>>> system.
>>>
>>> So I think perhaps the  gcs.csv file of fwtool is old.
>>> There is available a new version of gcs.csv ?
>>>
>>
>> Andrea,
>>
>> The latest gcs.csv and pcs.csv can be found at:
>>
>>  http://svn.osgeo.org/gdal/trunk/gdal/data
>>
>> They should work fine with older GDAL's.
>>
>> Best regards,
>>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 

________________________________________________________

Anders Moe

Managing Director
Geocap
w: +47 22 95 56 63
anders.moe@geocap.no
________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101110/0c4b8f04/attachment.html
From mbeneventi at gmail.com  Wed Nov 10 04:28:18 2010
From: mbeneventi at gmail.com (Michele Beneventi)
Date: Wed Nov 10 04:28:41 2010
Subject: [gdal-dev] Mosaicing several ecw
Message-ID: <AANLkTi=aZHK+UBtdOJh_r1b_W9s1-yRpj+hkE7ZEF3BO@mail.gmail.com>

Hi all,

I've already installed 1.7.2 (2010/04/23) GDAL release from OSGeo4W
and the ECW JPEG2000 SDK from ERDAS.

After that I copy the dll's of C:\OSGeo4W\bin\ directory
(lti_dsdk_cdll lti_dsdk_dll.dll) and the dll's contain in "C:\Program
Files (x86)\ERDAS\ERDAS ECW JPEG2000 Read SDK\bin\vc90\win32\"
 in the "C:\WINDOWS\SysWOW64\" directory


I would like to mosaic several ecw file with the "gdal_merge.py"
utilies but I have got these risults:

---
C:\OSGeo4W\apps\gdal-17\bin>python gdal_merge.py -init 255 -of ECW -co
LARGE_OK=YES -o E:\temp\test_mosaic\testMosaic.ecw --optfile
E:\temp\test_mosaic\list_test_mosaic.txt
Format driver ECW not found, pick a supported driver.
--

am I forgot to do something or am I using the tool in a wrong way??

OS: windows XP professional 64 bit SP2

thanks in advance
Michele

----------
Michele Beneventi
GIS Technologist
LAT: 39? 18' 25"; LONG: 08 ?33' 20"
----------

http://www.michelebeneventi.it/
http://it.linkedin.com/in/michelebeneventi
From grant at novatechnologies.net  Wed Nov 10 10:37:19 2010
From: grant at novatechnologies.net (Samuel Grant)
Date: Wed Nov 10 10:43:42 2010
Subject: [gdal-dev] MSYS, MingW and GDAL
Message-ID: <64779.151.166.15.115.1289403439.squirrel@my.novatechnologies.net>

When compiling under MSYS with MingW, everything is fine until the end...

When trying to create the libgdal.dll, I get errors...

"
./frmts/o/nitfimage.o: In function 'NITFImageAccess' :
.....nitf/nitfimage.c:253: undefined reference to 'GDALInitGCPs'
"

also get undef refs for GDALDeinitGCPs, GDALGCPsToGetTransform, GDALDuplicateGCPs, GDALCheckVersion, GDALVersionInfo...

Any ideas?

--Sam
From luzhenyu1981 at gmail.com  Wed Nov 10 22:46:41 2010
From: luzhenyu1981 at gmail.com (Zhenyu Lu)
Date: Wed Nov 10 22:46:44 2010
Subject: [gdal-dev] An error in building overviews for
Message-ID: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>

Hi, all:
I'm having an error while using function Dataset.BuildOverviews in my code.
The error message is "BuildOverviews() not supported for this dataset".
However, when I used the ".tif" file the BuildOverviews worked just fine.
The
code is:
int[] pOverviewList = { overView*2};
int[] pBandList = new int[dataset.RasterCount];
int err = dataset.BuildOverviews("NEAREST", pOverviewList);
if (err != (int)CPLErr.CE_None)
      return null;
I'm using GDAL1.5.2 and C#2.0. Is it because the HFA driver doesn't support
overview? Or is it a bug? Can anyone pointed out where is my problem? Thanks
a
lot!
-- 
Zhenyu Lu
SUNY-ESF
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101111/e2a8a4c6/attachment.html
From warmerdam at pobox.com  Thu Nov 11 00:27:15 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 11 00:27:20 2010
Subject: [gdal-dev] Re: Motion: Promote GDAL/OGR 1.7.3RC2 to final release
In-Reply-To: <4CD85C0B.2090108@pobox.com>
References: <4CD85C0B.2090108@pobox.com>
Message-ID: <4CDB7EB3.3020902@pobox.com>

Frank Warmerdam wrote:
> Motion: Promote GDAL/OGR 1.7.3RC2 to final release

Folks,

I declare this motion passed with support from Frank, Even, and Daniel.
I will send out an announcement shortly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Nov 11 00:41:42 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 11 00:41:50 2010
Subject: [gdal-dev] GDAL/OGR 1.7.3 Released
Message-ID: <4CDB8216.5050304@pobox.com>

Folks,

The GDAL/OGR team is pleased to announce that GDAL/OGR 1.7.3 has been
released.  This is a bug fix release on the GDAL/OGR 1.7 stable
branch, and it contains over 50 bug fixes.  It does not include the
substantial new features planned for GDAL/OGR 1.8.0 in the coming
weeks.  Details are available at:

   http://trac.osgeo.org/gdal/wiki/Release/1.7.3-News

The source code, and regression test suite are available at:

  http://download.osgeo.org/gdal/gdal173.zip
  http://download.osgeo.org/gdal/gdal-1.7.3.tar.gz
  http://download.osgeo.org/gdal/gdalautotest-1.7.3.tar.gz

The OSGeo4W "gdal17" package has also been updated to match this 1.7.3
release for those working on windows.

   http://osgeo4w.osgeo.org/

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chaitanya.ch at gmail.com  Thu Nov 11 02:00:15 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Nov 11 02:00:17 2010
Subject: [gdal-dev] An error in building overviews for
In-Reply-To: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
References: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
Message-ID: <AANLkTikEOeawtVFd7W0zKqDfyh33RsqXdjSAeafm1P+J@mail.gmail.com>

Zhenyu,

GDAL's HFA driver doesn't support creation of overviews. It can only read
them.

On Thu, Nov 11, 2010 at 9:16 AM, Zhenyu Lu <luzhenyu1981@gmail.com> wrote:

>
> Hi, all:
> I'm having an error while using function Dataset.BuildOverviews in my code.
> The error message is "BuildOverviews() not supported for this dataset".
> However, when I used the ".tif" file the BuildOverviews worked just fine.
> The
> code is:
> int[] pOverviewList = { overView*2};
> int[] pBandList = new int[dataset.RasterCount];
> int err = dataset.BuildOverviews("NEAREST", pOverviewList);
> if (err != (int)CPLErr.CE_None)
>       return null;
> I'm using GDAL1.5.2 and C#2.0. Is it because the HFA driver doesn't support
> overview? Or is it a bug? Can anyone pointed out where is my problem?
> Thanks a
> lot!
> --
> Zhenyu Lu
> SUNY-ESF
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101111/d07889d0/attachment.html
From aperi2007 at gmail.com  Thu Nov 11 02:07:41 2010
From: aperi2007 at gmail.com (Andrea Peri)
Date: Thu Nov 11 02:07:43 2010
Subject: [gdal-dev] getting a new gcs.csv
In-Reply-To: <AANLkTin+LyRS2PzyEVvv_Vn7WXxmWLzK=HNxrD1Ret0d@mail.gmail.com>
References: <4CD97EFB.6020601@gmail.com> <4CD98127.2030006@pobox.com>
	<4CD98B90.3070408@gmail.com>
	<AANLkTin+LyRS2PzyEVvv_Vn7WXxmWLzK=HNxrD1Ret0d@mail.gmail.com>
Message-ID: <AANLkTim27tXdbGtvv2ctnVnJtDgct6iMDSp2S2PjDyVv@mail.gmail.com>

Hi Anders,

after copy all file cvs in the same folder where i execute ogr2ogr.exe
the error disappeared. Without need to set the gdal_data variable. :)

Before I copied only the two file gcs.cvs and pcs.cvs.

I think that variable is needed if the cvs files there are in other folder
than the org2ogr folder.

regards,

Andrea.


2010/11/10 Anders Moe <anders.moe@geocap.no>

> Andrea
>
> I've had my share of problems finding the *.cvs files too, but maybe you
> could try :
>
> 1) Executing from the location of the ogr2ogr.exe utility
> 2) Having the *.cvs files in that directory
> 3) Having the GDAL_DATA environment variable set to the same directory.
>
> Cheers,
> Anders
>
> On Tue, Nov 9, 2010 at 6:57 PM, Andrea Peri 2007 <aperi2007@gmail.com>wrote:
>
>> Frank,
>> thx for link.
>>
>> I take the last gcs.csv and pcs.csv.
>>
>> I verify that in the new pcs.csv there is EPSG:3003 (it is projected)
>>
>> but even now ogr2ogr.exe still report me
>> the epsg pcs/gcs code 3003 not found.
>>
>> seem that ogr2ogr is not using the pcs.csv file .
>>
>> Thx,
>>
>> Andrea.
>>
>>
>> Il 09/11/2010 18:13, Frank Warmerdam ha scritto:
>>
>>  Andrea Peri 2007 wrote:
>>>
>>>> Hi,
>>>>
>>>> I'm trying to use the ogr2ogr.exe compiled with VC++ .
>>>>
>>>> running ogr2ogr it give me this message:
>>>>
>>>> ERROR 4: Unable to open EPSG support file gcs.csv
>>>>
>>>> so I retrieve a gcs.csv file from FWTools2.4.7 and copy it in the same
>>>> folder of ogr2ogr.
>>>> after this copy.
>>>> The new message from ogr2ogr is this:
>>>>
>>>> "error 6: epsg pcs/gcs code 3003 not found in EPSG support files. Is
>>>> this a valid EPSG"
>>>>
>>>> I check to the www.epsg.org that EPSG:3003 is a valid epsg coordinate
>>>> system.
>>>>
>>>> So I think perhaps the  gcs.csv file of fwtool is old.
>>>> There is available a new version of gcs.csv ?
>>>>
>>>
>>> Andrea,
>>>
>>> The latest gcs.csv and pcs.csv can be found at:
>>>
>>>  http://svn.osgeo.org/gdal/trunk/gdal/data
>>>
>>> They should work fine with older GDAL's.
>>>
>>> Best regards,
>>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
>
> ________________________________________________________
>
> Anders Moe
>
> Managing Director
> Geocap
> w: +47 22 95 56 63
> anders.moe@geocap.no
> ________________________________________________________
>
>
>
>
>
>


-- 
-----------------
Andrea Peri
. . . . . . . . .
qwerty ?????
-----------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101111/d41581e7/attachment.html
From mbeneventi at gmail.com  Thu Nov 11 06:26:30 2010
From: mbeneventi at gmail.com (Michele Beneventi)
Date: Thu Nov 11 06:26:53 2010
Subject: [gdal-dev] projection with EPSG tranformation
Message-ID: <AANLkTi=+HW40XZH-_Vb5hASXpagedMx37+cexLCHvByE@mail.gmail.com>

Hi list,

I have to reproject with "gdalwarp" some tiff file from "+proj=tmerc
+lat_0=0.0 +lon_0=9.0 +k=0.9996 +x_0=500000.0 +y_0=0.0 +ellps=WGS84
+datum=WGS84 +units=m" (EPSG:32632) to "+proj=tmerc +lat_0=0.0
+lon_0=9.0 +k=0.9996 +x_0=1500000.0 +y_0=0.0 +ellps=intl +units=m"
(EPSG:3003).
To enhance the precision (< 4m) I would like to include in the command
line also the information about the local tranformation  (EPSG:1662).

How can I include this information by the  command parameters?

thanks in advance
Michele

----------
Michele Beneventi
GIS Technologist
LAT: 39? 18' 25"; LONG: 08 ?33' 20"
----------

http://www.michelebeneventi.it/
http://it.linkedin.com/in/michelebeneventi
From chaitanya.ch at gmail.com  Thu Nov 11 06:56:25 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Nov 11 06:56:27 2010
Subject: [gdal-dev] Problem with autotest SVN repository
In-Reply-To: <4CD947DA.5050206@free.fr>
References: <4CD947DA.5050206@free.fr>
Message-ID: <AANLkTi=fD8L=kGy0BPUYkcr7guoF8+192Lz9E3FWUcYu@mail.gmail.com>

 Jean-Claude,

That is a data file with Chinese characters in the filename. Try to add
support for that language in your system. My system displays the filename
correctly as "xx??.??". I did not do anything to add the support so I can't
help there.

On Tue, Nov 9, 2010 at 6:38 PM, Jean-Claude Repetto <jrepetto@free.fr>wrote:

> Hello,
>
> I'm trying to download the autotest source code from the SVN repository,
> but I have a problem with a file name encoded in UTF-8 :
>
> $ svn checkout https://svn.osgeo.org/gdal/trunk/autotest gdal-autotest
> svn: Can't convert string from 'UTF-8' to native encoding:
> svn:
> gdal-autotest/gcore/data/xx?\228?\184?\173?\230?\150?\135.?\228?\184?\173?\230?\150?\135
>
> These are my language parameters :
>
> $ locale
> LANG=fr_FR.UTF-8
> LC_CTYPE="fr_FR.UTF-8"
> LC_NUMERIC="fr_FR.UTF-8"
> LC_TIME="fr_FR.UTF-8"
> LC_COLLATE=C
> LC_MONETARY="fr_FR.UTF-8"
> LC_MESSAGES="fr_FR.UTF-8"
> LC_PAPER="fr_FR.UTF-8"
> LC_NAME="fr_FR.UTF-8"
> LC_ADDRESS="fr_FR.UTF-8"
> LC_TELEPHONE="fr_FR.UTF-8"
> LC_MEASUREMENT="fr_FR.UTF-8"
> LC_IDENTIFICATION="fr_FR.UTF-8"
> LC_ALL=
>
> How can I solve this problem ?
>
> Thanks,
> Jean-Claude
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101111/54143b86/attachment-0001.html
From jrepetto at free.fr  Thu Nov 11 07:15:51 2010
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Nov 11 07:16:24 2010
Subject: [gdal-dev] projection with EPSG transformation
In-Reply-To: <AANLkTi=+HW40XZH-_Vb5hASXpagedMx37+cexLCHvByE@mail.gmail.com>
References: <AANLkTi=+HW40XZH-_Vb5hASXpagedMx37+cexLCHvByE@mail.gmail.com>
Message-ID: <4CDBDE77.2040701@free.fr>

Le 11/11/2010 12:26, Michele Beneventi a ?crit :
> Hi list,
>
> I have to reproject with "gdalwarp" some tiff file from "+proj=tmerc
> +lat_0=0.0 +lon_0=9.0 +k=0.9996 +x_0=500000.0 +y_0=0.0 +ellps=WGS84
> +datum=WGS84 +units=m" (EPSG:32632) to "+proj=tmerc +lat_0=0.0
> +lon_0=9.0 +k=0.9996 +x_0=1500000.0 +y_0=0.0 +ellps=intl +units=m"
> (EPSG:3003).
> To enhance the precision (<  4m) I would like to include in the command
> line also the information about the local tranformation  (EPSG:1662).
>
> How can I include this information by the  command parameters?

Hello,

You must add a +togs84 parameter. Something like :

+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl 
+towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +units=m +no_defs

(These values are for EPSG:1660, not EPSG:1662).

Jean-Claude
From even.rouault at mines-paris.org  Thu Nov 11 07:35:06 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Nov 11 07:35:18 2010
Subject: [gdal-dev] An error in building overviews for
In-Reply-To: <AANLkTikEOeawtVFd7W0zKqDfyh33RsqXdjSAeafm1P+J@mail.gmail.com>
References: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
	<AANLkTikEOeawtVFd7W0zKqDfyh33RsqXdjSAeafm1P+J@mail.gmail.com>
Message-ID: <201011111335.06112.even.rouault@mines-paris.org>

Actually, the HFA driver *does* support overviews. It isn't obvious why it 
does not work for you. Perhaps you should consider upgrading to a newer GDAL 
version, but I don't think this is an issue with GDAL 1.5.2. Does gdaladdo 
work on the dataset ? If so, then it must be rather related to something wrong 
in your code. The "int[] pOverviewList = { overView*2}" is a bit strange, but 
it is difficult to know without more context.

Le jeudi 11 novembre 2010 08:00:15, Chaitanya kumar CH a ?crit :
> Zhenyu,
> 
> GDAL's HFA driver doesn't support creation of overviews. It can only read
> them.
> 
> On Thu, Nov 11, 2010 at 9:16 AM, Zhenyu Lu <luzhenyu1981@gmail.com> wrote:
> > Hi, all:
> > I'm having an error while using function Dataset.BuildOverviews in my
> > code. The error message is "BuildOverviews() not supported for this
> > dataset". However, when I used the ".tif" file the BuildOverviews worked
> > just fine. The
> > code is:
> > int[] pOverviewList = { overView*2};
> > int[] pBandList = new int[dataset.RasterCount];
> > int err = dataset.BuildOverviews("NEAREST", pOverviewList);
> > if (err != (int)CPLErr.CE_None)
> > 
> >       return null;
> > 
> > I'm using GDAL1.5.2 and C#2.0. Is it because the HFA driver doesn't
> > support overview? Or is it a bug? Can anyone pointed out where is my
> > problem? Thanks a
> > lot!
> > --
> > Zhenyu Lu
> > SUNY-ESF
> > 
> > 
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
From rui.l.pires at gmail.com  Thu Nov 11 07:59:16 2010
From: rui.l.pires at gmail.com (Rui L. Pires)
Date: Thu Nov 11 07:59:24 2010
Subject: [gdal-dev] Geometry construction and factory
Message-ID: <AANLkTiked_6TdK89UYG6cseQj91LgtjPPadWzphD92YK@mail.gmail.com>

Hello everyone,

I had a quick look at the archives and other resources and could not
find much information regarding the topic I discuss below (apart from
an important remark in the documentation - ogr architecture).

I would be interested in using a family of specialised OGRGeometry
classes, sporting a number of additional properties and functionality
not at all relevant to OGR (read: application specific). This could be
easily achieved with a dedicated geometry factory that utilises the
appropriate constructor of the derived geometry class.

However I see that 1) not only the current implementation of
OGRGeometryFactory does not foresee this approach, 2) the drivers
implementations use both the factory and explicitly the geometry
constructors.

Would this be a design change that could be considered? I do realise
that it is a considerable amount of refactoring but apart from that I
do not see immediate obstacles. Would I be missing some important
issue?

Regards,
RLP
From warmerdam at pobox.com  Thu Nov 11 09:38:43 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 11 09:38:47 2010
Subject: [gdal-dev] Geometry construction and factory
In-Reply-To: <AANLkTiked_6TdK89UYG6cseQj91LgtjPPadWzphD92YK@mail.gmail.com>
References: <AANLkTiked_6TdK89UYG6cseQj91LgtjPPadWzphD92YK@mail.gmail.com>
Message-ID: <4CDBFFF3.5010101@pobox.com>

Rui L. Pires wrote:
> Hello everyone,
> 
> I had a quick look at the archives and other resources and could not
> find much information regarding the topic I discuss below (apart from
> an important remark in the documentation - ogr architecture).
> 
> I would be interested in using a family of specialised OGRGeometry
> classes, sporting a number of additional properties and functionality
> not at all relevant to OGR (read: application specific). This could be
> easily achieved with a dedicated geometry factory that utilises the
> appropriate constructor of the derived geometry class.

Rui,

Are you wanting to be able to change the behavior of OGR to produce
these customized geometry classes as opposed to the ordinary ones?
Or is it sufficient for some particular application or driver to
do so?

I believe the MITAB driver currently derives an MITABFeature class
from OGRFeature with some special properties.  They interact fine
with the rest of OGR, but there is no effort to make other parts of
OGR produce these features.

For some needs, I could see a similar pattern being adequate for
geometries.  Perhaps you could expand on your use case.

> However I see that 1) not only the current implementation of
> OGRGeometryFactory does not foresee this approach, 2) the drivers
> implementations use both the factory and explicitly the geometry
> constructors.
> 
> Would this be a design change that could be considered? I do realise
> that it is a considerable amount of refactoring but apart from that I
> do not see immediate obstacles. Would I be missing some important
> issue?

Almost any design change could be considered if you can bring forward
a compelling RFC that broad support from the project steering
committee.  I must confess I'm not keen on forcing all geometry creation
to go through a hookable factory, if only for the code disruption
(particularly for application code).  But perhaps if you can make a
compelling case for the requirement I would feel differently.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Nov 11 09:56:42 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 11 09:56:47 2010
Subject: [gdal-dev] Problem with autotest SVN repository
In-Reply-To: <4CD947DA.5050206@free.fr>
References: <4CD947DA.5050206@free.fr>
Message-ID: <4CDC042A.9010908@pobox.com>

Jean-Claude Repetto wrote:
> Hello,
> 
> I'm trying to download the autotest source code from the SVN repository, 
> but I have a problem with a file name encoded in UTF-8 :
> 
> $ svn checkout https://svn.osgeo.org/gdal/trunk/autotest gdal-autotest
> svn: Can't convert string from 'UTF-8' to native encoding:
> svn: 
> gdal-autotest/gcore/data/xx?\228?\184?\173?\230?\150?\135.?\228?\184?\173?\230?\150?\135 

Jean-Claude,

This has been causing problems in a number of contexts.  So I have changed
is to the file is kept on the GDAL data download directory and fetched
at runtime by the script if GDAL_DOWNLOAD_TEST_DATA is set as we do for a
variety of other large or specialized test data.

Hopefully you can now do an svn checkout of the autotest suite without
problems.

Even - I'm not certain the python3 case will work now in the
autotest/gcore/rfc30.py script - perhaps you could give it a spin?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jrepetto at free.fr  Thu Nov 11 10:18:27 2010
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Nov 11 10:19:01 2010
Subject: [gdal-dev] Problem with autotest SVN repository
In-Reply-To: <4CDC042A.9010908@pobox.com>
References: <4CD947DA.5050206@free.fr> <4CDC042A.9010908@pobox.com>
Message-ID: <4CDC0943.2020402@free.fr>

Le 11/11/2010 15:56, Frank Warmerdam a ?crit :

> This has been causing problems in a number of contexts. So I have changed
> is to the file is kept on the GDAL data download directory and fetched
> at runtime by the script if GDAL_DOWNLOAD_TEST_DATA is set as we do for a
> variety of other large or specialized test data.

Thanks, no more problem now.

Best regards,
Jean-Claude
From chaitanya.ch at gmail.com  Thu Nov 11 10:41:37 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Nov 11 10:41:39 2010
Subject: [gdal-dev] An error in building overviews for
In-Reply-To: <AANLkTimmWCT-fNe1XRHTNaCV5DVDoakdnZY3ux0tE3Nf@mail.gmail.com>
References: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
	<AANLkTikEOeawtVFd7W0zKqDfyh33RsqXdjSAeafm1P+J@mail.gmail.com>
	<AANLkTimmWCT-fNe1XRHTNaCV5DVDoakdnZY3ux0tE3Nf@mail.gmail.com>
Message-ID: <AANLkTi=pU_R8Kx7=uqUVVWb28wNdypJUpRcG43tidkWh@mail.gmail.com>

Zhenyu,

Even says that HFA driver supports overview creation. Try the gdaladdo
utility like he said.
http://www.gdal.org/gdaladdo.html

On Thu, Nov 11, 2010 at 8:45 PM, Zhenyu Lu <luzhenyu1981@gmail.com> wrote:

> Hi, Chaitanya:
>
> Thanks for the answers!
> It's really helpful. So suppose there is .img file, it has overviews been
> created using other software. We can use it anyway?
> Like we can directly use band=band.GetOverview(overview), even the syntax
> that dataset.BuildOverviews doesn't work?
>
>
>
> 2010/11/11 Chaitanya kumar CH <chaitanya.ch@gmail.com>
>
> Zhenyu,
>>
>> GDAL's HFA driver doesn't support creation of overviews. It can only read
>> them.
>>
>>   On Thu, Nov 11, 2010 at 9:16 AM, Zhenyu Lu <luzhenyu1981@gmail.com>wrote:
>>
>>>
>>> Hi, all:
>>> I'm having an error while using function Dataset.BuildOverviews in my
>>> code.
>>> The error message is "BuildOverviews() not supported for this dataset".
>>> However, when I used the ".tif" file the BuildOverviews worked just fine.
>>> The
>>> code is:
>>> int[] pOverviewList = { overView*2};
>>> int[] pBandList = new int[dataset.RasterCount];
>>> int err = dataset.BuildOverviews("NEAREST", pOverviewList);
>>> if (err != (int)CPLErr.CE_None)
>>>       return null;
>>> I'm using GDAL1.5.2 and C#2.0. Is it because the HFA driver doesn't
>>> support
>>> overview? Or is it a bug? Can anyone pointed out where is my problem?
>>> Thanks a
>>> lot!
>>> --
>>> Zhenyu Lu
>>> SUNY-ESF
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>> /t?a???nj?/ /k?m?r/
>> +91-9494447584
>> 17.2416N 80.1426E
>>
>
>
>
> --
> Zhenyu Lu
> SUNY-ESF
>
>


-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101111/512ae389/attachment.html
From yrrman at googlemail.com  Thu Nov 11 11:09:12 2010
From: yrrman at googlemail.com (yrrman yrrman)
Date: Thu Nov 11 11:09:14 2010
Subject: [gdal-dev] gdalinfo, map unit DD and epsg:9108
Message-ID: <AANLkTim43QXvf+qp14cCLx9Wj+OnvPsrUsgDhfEZoWXd@mail.gmail.com>

Hi everyone,

I'm new to this list and would therefore like to say "hello and thanks
for gdal" in the first place :-)


I just came across a minor problem where I would like to ask for your advice -

the Global Landcover set GLC2000 is available in grid format from [0].
Associated with it is the .hdr file with the projection description
[2].

Apparently the map units are in decimal degree.

When I ask gdalinfo, I get the WKT description of the SRS, see [3]


Everything's fine with this, I only came across the UNIT-Field

   UNIT["degree",0.0174532925199433, AUTHORITY["EPSG","9108"]],

where the unit is degree, defined according to epsg:9108. When you
look up epsg:9108 in the epsg registry [1] you get as Unit of Measure:

Code: EPSG::9108 - Name: degree minute second hemisphere (i.e. not
decimal degree)

Shouldn't this rather be epsg:9102 then?
Code: EPSG::9102 Name: degree, 1 degree: 0.017453292519943278 radian



As I said, it's not very important, just out of curiousity.

I'm using
GDAL 1.7.0b2, FWTools 2.4.7, released 2010/01/19


Thanks a lot and kind regards,


Chris


-------------------------------------------------------------------------------------
[0] http://bioval.jrc.ec.europa.eu/products/glc2000/products.php
[1] http://www.epsg-registry.org/
[2] glc2000_v1_1_projinfo.hdr:

BANDS:      1
ROWS:   16353
COLS:   40320
INTERLEAVING:    NA
DATATYPE: U8
BYTE_ORDER: NA
UL_X_COORDINATE:           -180.000000
UL_Y_COORDINATE:             89.991071
LR_X_COORDINATE:            179.991070
LR_Y_COORDINATE:            -56.008928
PIXEL_WIDTH:               0.0089285714
PIXEL_HEIGHT:              0.0089285714
MAP_UNITS:    DD
PROJECTION_NAME: Geographic (Lat/Lon)
PROJECTION_ZONE:     0
PROJECTION_PARAMETERS:
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
                    0.000000
SPHEROID_NAME: WGS 84
SEMI_MAJOR_AXIS:        6378137.000000
SEMI_MINOR_AXIS:        6356752.314245
E_SQUARED:                    0.006694
RADIUS:                 6371007.180918

[3] gdalinfo output:
Driver: AIG/Arc/Info Binary Grid
Files: glc2000_v1_1
      glc2000_v1_1\dblbnd.adf
      glc2000_v1_1\hdr.adf
      glc2000_v1_1\log
      glc2000_v1_1\metadata.xml
      glc2000_v1_1\prj.adf
      glc2000_v1_1\sta.adf
      glc2000_v1_1\vat.adf
      glc2000_v1_1\w001001.adf
      glc2000_v1_1\w001001x.adf
Size is 40320, 16353
Coordinate System is:
GEOGCS["WGS 84",
   DATUM["WGS_1984",
       SPHEROID["WGS 84",6378137,298.257223563,
           AUTHORITY["EPSG","7030"]],
       TOWGS84[0,0,0,0,0,0,0],
       AUTHORITY["EPSG","6326"]],
   PRIMEM["Greenwich",0,
       AUTHORITY["EPSG","8901"]],
   UNIT["degree",0.0174532925199433,
       AUTHORITY["EPSG","9108"]],
   AUTHORITY["EPSG","4326"]]
Origin = (-180.004464285700010,89.995535666300043)
Pixel Size = (0.008928571400000,-0.008928571400000)
Corner Coordinates:
Upper Left  (-180.0044643,  89.9955357) (180d 0'16.07"W, 89d59'43.93"N)
Lower Left  (-180.0044643, -56.0133924) (180d 0'16.07"W, 56d 0'48.21"S)
Upper Right ( 179.9955346,  89.9955357) (179d59'43.92"E, 89d59'43.93"N)
Lower Right ( 179.9955346, -56.0133924) (179d59'43.92"E, 56d 0'48.21"S)
Center      (  -0.0044649,  16.9910716) (  0d 0'16.07"W, 16d59'27.86"N)
Band 1 Block=256x4 Type=Byte, ColorInterp=Palette
 Min=1.000 Max=23.000
 NoData Value=255
 Metadata:
   LAYER_TYPE=thematic
 Color Table (RGB with 256 entries)
   0: 0,0,0,255 [..]
From mbeneventi at gmail.com  Thu Nov 11 11:11:23 2010
From: mbeneventi at gmail.com (Michele Beneventi)
Date: Thu Nov 11 11:11:46 2010
Subject: [gdal-dev] projection with EPSG transformation
In-Reply-To: <4CDBDE77.2040701@free.fr>
References: <AANLkTi=+HW40XZH-_Vb5hASXpagedMx37+cexLCHvByE@mail.gmail.com>
	<4CDBDE77.2040701@free.fr>
Message-ID: <AANLkTiknjBHWOGFXEhZ3Pt5UC_dYh-CT2Nx3=nHXcKgw@mail.gmail.com>

Hi,

thanks very much jean-Claude.
this work fine for me

Best regars
Michele

----------
Michele Beneventi
GIS Technologist
LAT: 39? 18' 25"; LONG: 08 ?33' 20"
----------

http://www.michelebeneventi.it/
http://it.linkedin.com/in/michelebeneventi


On Thu, Nov 11, 2010 at 1:15 PM, Jean-Claude Repetto <jrepetto@free.fr> wrote:
> Le 11/11/2010 12:26, Michele Beneventi a ?crit :
>>
>> Hi list,
>>
>> I have to reproject with "gdalwarp" some tiff file from "+proj=tmerc
>> +lat_0=0.0 +lon_0=9.0 +k=0.9996 +x_0=500000.0 +y_0=0.0 +ellps=WGS84
>> +datum=WGS84 +units=m" (EPSG:32632) to "+proj=tmerc +lat_0=0.0
>> +lon_0=9.0 +k=0.9996 +x_0=1500000.0 +y_0=0.0 +ellps=intl +units=m"
>> (EPSG:3003).
>> To enhance the precision (< ?4m) I would like to include in the command
>> line also the information about the local tranformation ?(EPSG:1662).
>>
>> How can I include this information by the ?command parameters?
>
> Hello,
>
> You must add a +togs84 parameter. Something like :
>
> +proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=1500000 +y_0=0 +ellps=intl
> +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68 +units=m +no_defs
>
> (These values are for EPSG:1660, not EPSG:1662).
>
> Jean-Claude
>
From ragi at burhum.com  Thu Nov 11 12:06:08 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Thu Nov 11 12:06:11 2010
Subject: [gdal-dev] Re: Motion: Promote GDAL/OGR 1.7.3RC2 to final release
Message-ID: <AANLkTimAHnmh6296QPCLb06yxU5GJ05NcxaO3gFarh7t@mail.gmail.com>

On Thu, Nov 11, 2010 at 3:56 AM, <gdal-dev-request@lists.osgeo.org> wrote:

>
>
> Frank Warmerdam wrote:
> > Motion: Promote GDAL/OGR 1.7.3RC2 to final release
>
> Folks,
>
> I declare this motion passed with support from Frank, Even, and Daniel.
> I will send out an announcement shortly.
>
>
>
Woohoo!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101111/a5be15f5/attachment.html
From luzhenyu1981 at gmail.com  Thu Nov 11 13:05:23 2010
From: luzhenyu1981 at gmail.com (Zhenyu Lu)
Date: Thu Nov 11 13:05:25 2010
Subject: [gdal-dev] An error in building overviews for
In-Reply-To: <201011111335.06112.even.rouault@mines-paris.org>
References: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
	<AANLkTikEOeawtVFd7W0zKqDfyh33RsqXdjSAeafm1P+J@mail.gmail.com>
	<201011111335.06112.even.rouault@mines-paris.org>
Message-ID: <AANLkTim6m_0x0bVOJsd2fEVP+PEnyuZHmy6P4RcLEPex@mail.gmail.com>

Hi, Even:

Thanks for the information. I double checked the GDAL-1.5.2 compiled .net
dll. But I can't find the function named as gdaladdo. What I can only find
is three BuildOverviews function.
So I am confused whether there is such a function in GDAL-1.5.2. I will try
to test with GDAL-1.6 to see whether I can access such function.
Thanks,

2010/11/11 Even Rouault <even.rouault@mines-paris.org>

> Actually, the HFA driver *does* support overviews. It isn't obvious why it
> does not work for you. Perhaps you should consider upgrading to a newer
> GDAL
> version, but I don't think this is an issue with GDAL 1.5.2. Does gdaladdo
> work on the dataset ? If so, then it must be rather related to something
> wrong
> in your code. The "int[] pOverviewList = { overView*2}" is a bit strange,
> but
> it is difficult to know without more context.
>
> Le jeudi 11 novembre 2010 08:00:15, Chaitanya kumar CH a ?crit :
>  > Zhenyu,
> >
> > GDAL's HFA driver doesn't support creation of overviews. It can only read
> > them.
> >
> > On Thu, Nov 11, 2010 at 9:16 AM, Zhenyu Lu <luzhenyu1981@gmail.com>
> wrote:
> > > Hi, all:
> > > I'm having an error while using function Dataset.BuildOverviews in my
> > > code. The error message is "BuildOverviews() not supported for this
> > > dataset". However, when I used the ".tif" file the BuildOverviews
> worked
> > > just fine. The
> > > code is:
> > > int[] pOverviewList = { overView*2};
> > > int[] pBandList = new int[dataset.RasterCount];
> > > int err = dataset.BuildOverviews("NEAREST", pOverviewList);
> > > if (err != (int)CPLErr.CE_None)
> > >
> > >       return null;
> > >
> > > I'm using GDAL1.5.2 and C#2.0. Is it because the HFA driver doesn't
> > > support overview? Or is it a bug? Can anyone pointed out where is my
> > > problem? Thanks a
> > > lot!
> > > --
> > > Zhenyu Lu
> > > SUNY-ESF
> > >
> > >
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Zhenyu Lu
SUNY-ESF
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101111/7ddee259/attachment.html
From even.rouault at mines-paris.org  Thu Nov 11 13:08:28 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Nov 11 13:08:38 2010
Subject: [gdal-dev] An error in building overviews for
In-Reply-To: <AANLkTim6m_0x0bVOJsd2fEVP+PEnyuZHmy6P4RcLEPex@mail.gmail.com>
References: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
	<201011111335.06112.even.rouault@mines-paris.org>
	<AANLkTim6m_0x0bVOJsd2fEVP+PEnyuZHmy6P4RcLEPex@mail.gmail.com>
Message-ID: <201011111908.28369.even.rouault@mines-paris.org>

Zhenyu,

gdaladdo is not a function. It is a command line utility that you should find  
with the other GDAL utilities.

Le jeudi 11 novembre 2010 19:05:23, Zhenyu Lu a ?crit :
> Hi, Even:
> 
> Thanks for the information. I double checked the GDAL-1.5.2 compiled .net
> dll. But I can't find the function named as gdaladdo. What I can only find
> is three BuildOverviews function.
> So I am confused whether there is such a function in GDAL-1.5.2. I will try
> to test with GDAL-1.6 to see whether I can access such function.
> Thanks,
> 
> 2010/11/11 Even Rouault <even.rouault@mines-paris.org>
> 
> > Actually, the HFA driver *does* support overviews. It isn't obvious why
> > it does not work for you. Perhaps you should consider upgrading to a
> > newer GDAL
> > version, but I don't think this is an issue with GDAL 1.5.2. Does
> > gdaladdo work on the dataset ? If so, then it must be rather related to
> > something wrong
> > in your code. The "int[] pOverviewList = { overView*2}" is a bit strange,
> > but
> > it is difficult to know without more context.
> > 
> > Le jeudi 11 novembre 2010 08:00:15, Chaitanya kumar CH a ?crit :
> >  > Zhenyu,
> > > 
> > > GDAL's HFA driver doesn't support creation of overviews. It can only
> > > read them.
> > > 
> > > On Thu, Nov 11, 2010 at 9:16 AM, Zhenyu Lu <luzhenyu1981@gmail.com>
> > 
> > wrote:
> > > > Hi, all:
> > > > I'm having an error while using function Dataset.BuildOverviews in my
> > > > code. The error message is "BuildOverviews() not supported for this
> > > > dataset". However, when I used the ".tif" file the BuildOverviews
> > 
> > worked
> > 
> > > > just fine. The
> > > > code is:
> > > > int[] pOverviewList = { overView*2};
> > > > int[] pBandList = new int[dataset.RasterCount];
> > > > int err = dataset.BuildOverviews("NEAREST", pOverviewList);
> > > > if (err != (int)CPLErr.CE_None)
> > > > 
> > > >       return null;
> > > > 
> > > > I'm using GDAL1.5.2 and C#2.0. Is it because the HFA driver doesn't
> > > > support overview? Or is it a bug? Can anyone pointed out where is my
> > > > problem? Thanks a
> > > > lot!
> > > > --
> > > > Zhenyu Lu
> > > > SUNY-ESF
> > > > 
> > > > 
> > > > _______________________________________________
> > > > gdal-dev mailing list
> > > > gdal-dev@lists.osgeo.org
> > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Thu Nov 11 13:55:27 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 11 13:55:29 2010
Subject: [gdal-dev] Click through proprietary licensing
Message-ID: <4CDC3C1F.6050000@pobox.com>

Folks,

We have come to the conclusion that we can't really distribute the OCI
(oracle client interface) libraries as an OSGeo4W package without forcing
people to agree to a click through license first.

Howard and I were discussing the possibility of implementing a mechanism
in the OSGeo4W package manager to present custom license text for a package
and force the user to decide if they are willing to comply with it before
a package is installed.

There are some technical challenges to making this work, but I'm really
writing today to ask this community how it feels about inclusion of
proprietary software in OSGeo4W and putting click-through licenses in front
of people.

I personally have a few concerns.

1) It pisses me off to feel I'm having to bend over backwards to help
proprietary software vendors assert their rights over OSGeo4W users.

2) We really ought to become more aware of the implications of mixing
proprietary software and GPLed software in OSGeo4W.  For instance, it is
not legal for us to distribute proprietary software that would be used
by a GPLed package like GRASS.  In fact we are likely already in violation
of this when GRASS uses the MrSID driver (though Lizardtech bent over
backwards to make sure we didn't have to put our users through a click
through license for it).

On the other hand, OSGeo has taken the position of building bridges between
proprietary and free software.  In particular of being supportive of things
like being able to use MapServer against proprietary databases, supporting
proprietary file formats and such.  So I don't feel that including such
bridges in our distributed packages is unreasonable.

Also, I am keen to provide the best user experience I reasonably can for
OSGeo4W users and being able to include some proprietary components could
certainly go a long way to making that work (ie. ECW SDK, OCI, ...)

So, anyone else have a strong opinion on the matter?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mateusz at loskot.net  Thu Nov 11 17:42:39 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Nov 11 17:42:49 2010
Subject: [gdal-dev] [#3824][RFC] Introduce portable DllMain callback to DLL
	binary
Message-ID: <4CDC715F.1080701@loskot.net>

Hi,

I have proposed implementation of entry and exit points for GDAL shared
library. Initially, it was Windows-specific DllMain callback, but later
I found it may be possible to use GCC extensions implement similar
behaviour for Linux (Unix?) system. Here is the related ticket:

http://trac.osgeo.org/gdal/ticket/3824


The main motivation is to sanitize the run-time environment and
perform all necessary clean-up during GDAL library unload,
so it does not leave any resources (memory) unreleased.

Frank suggested to discuss this idea on the list, so here we go
and I'm looking forward to hearing your comments.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
Member of ACCU, http://accu.org
From even.rouault at mines-paris.org  Thu Nov 11 18:15:08 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Nov 11 18:15:18 2010
Subject: [gdal-dev] Click through proprietary licensing
In-Reply-To: <4CDC3C1F.6050000@pobox.com>
References: <4CDC3C1F.6050000@pobox.com>
Message-ID: <201011120015.08880.even.rouault@mines-paris.org>

Le jeudi 11 novembre 2010 19:55:27, Frank Warmerdam a ?crit :

Yes, this is a tricky situation. 

In fact, the potential legal infringement doesn't come necessary only from the 
side of the proprietary software. Even if you satisfy the licencing terms of 
the former, the copyright holders of the GPL software could argue that the GPL 
licence doesn't apply in that context.

The issue is not using GPL and proprietary stuff, but distributing the 
aggregation of the two. Whether the fact of distributing a GPL program 
(QGIS/GRASS/...) that uses a X/MIT library (GDAL/OGR) that has a X/MIT plugin 
(OCI driver, ECW driver, MRSID driver) that links to a proprietary plugin (OCI 
library, ECW library, MRSID library, ...) is illegal or not is probably in the 
gray area of the GPL ( there is always debate on how linking and GPL work : 
http://en.wikipedia.org/wiki/GNU_General_Public_License#Linking_and_derived_works 
)

A few points to consider :
1) The proprietary libraries cannot reasonnably be considered as a derivative 
work of QGIS/GRASS. And the GPL only covers the '''Program or a "work based on 
the Program" means either the Program or any derivative work under copyright 
law''' according to article 0 of the GPLv2.
2) GDAL wasn't designed in the sole purpose of being a wrapper to make it 
possible to use proprietary plugins from GPL software
3) I'm not even sure that http://www.gnu.org/licenses/gpl-
faq.html#GPLAndPlugins which seems to be the closest entry of the FAQ covering 
the situation really applies. AFAIK, they don't "make function calls to each 
other and share data structures"
4) And the last sentence of clause 2 of GPLv2 could perhaps apply to OSGeo4W 
situation : "In addition, mere aggregation of another work not based on the 
Program with the Program (or with a work based on the Program) on a volume of 
a storage or distribution medium does not bring the other work under the scope 
of this License. ".

So we could probably say that those proprietary plugins are out of the scope 
of the GPL licence, but I'm not 100% this is a valid interpretation...

Of course, there are some possible ways to solve this without ambiguity :
a) either those proprietary stuff are licenced under a GPL compatible open-
source licence... (well one can dream...)
b) or the copyright holders of those GPL software agree to provide a special 
exception clause to the GPL to allow it to be combined with proprietary 
software. Not necessarily easy in the presence of multiple copyright holders.

As far as MapServer and its potential use of proprietary software, it's a 
completely different story since the X/MIT licence doesn't impose any 
restriction on the combination of it with other work.

> Folks,
> 
> We have come to the conclusion that we can't really distribute the OCI
> (oracle client interface) libraries as an OSGeo4W package without forcing
> people to agree to a click through license first.
> 
> Howard and I were discussing the possibility of implementing a mechanism
> in the OSGeo4W package manager to present custom license text for a package
> and force the user to decide if they are willing to comply with it before
> a package is installed.
> 
> There are some technical challenges to making this work, but I'm really
> writing today to ask this community how it feels about inclusion of
> proprietary software in OSGeo4W and putting click-through licenses in front
> of people.
> 
> I personally have a few concerns.
> 
> 1) It pisses me off to feel I'm having to bend over backwards to help
> proprietary software vendors assert their rights over OSGeo4W users.
> 
> 2) We really ought to become more aware of the implications of mixing
> proprietary software and GPLed software in OSGeo4W.  For instance, it is
> not legal for us to distribute proprietary software that would be used
> by a GPLed package like GRASS.  In fact we are likely already in violation
> of this when GRASS uses the MrSID driver (though Lizardtech bent over
> backwards to make sure we didn't have to put our users through a click
> through license for it).
> 
> On the other hand, OSGeo has taken the position of building bridges between
> proprietary and free software.  In particular of being supportive of things
> like being able to use MapServer against proprietary databases, supporting
> proprietary file formats and such.  So I don't feel that including such
> bridges in our distributed packages is unreasonable.
> 
> Also, I am keen to provide the best user experience I reasonably can for
> OSGeo4W users and being able to include some proprietary components could
> certainly go a long way to making that work (ie. ECW SDK, OCI, ...)
> 
> So, anyone else have a strong opinion on the matter?
> 
> Best regards,
From even.rouault at mines-paris.org  Thu Nov 11 18:46:15 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Nov 11 18:46:23 2010
Subject: [gdal-dev] [#3824][RFC] Introduce portable DllMain callback to
	DLL binary
In-Reply-To: <4CDC715F.1080701@loskot.net>
References: <4CDC715F.1080701@loskot.net>
Message-ID: <201011120046.15269.even.rouault@mines-paris.org>

Mateusz,

It looks good. Just minor comments :

1) The commented //CPLCleanupTLS();  in the GCC specific code is indeed 
unneeded since both GDALDestroyDriverManager() and OGRCleanupAll() call it. 
Well, it could be usefull if people only used CPL services without registering 
any GDAL/OGR drivers, but I'm not sure that is a use case we should try to 
cover.
2) The code inside #ifdef _MSC_VER could in theory work with any other 
compiler for windows, for example MINGW. But as MINGW is also GCC, I'm not 
sure which version is the prefered one ( provided that the __attribute__ 
((constructor)) stuff actually works with MINGW ... ). Anyway the current 
situation is safe
3) The CPLCleanupTLS() call in the DLL_THREAD_DETACH is only necessary for 
threads not created by CPLCreateThread(), since the jacket function already 
calls it at its end. But calling it twice won't hurt.

So all in all, the code seems OK to me as it.

Le jeudi 11 novembre 2010 23:42:39, Mateusz Loskot a ?crit :
> Hi,
> 
> I have proposed implementation of entry and exit points for GDAL shared
> library. Initially, it was Windows-specific DllMain callback, but later
> I found it may be possible to use GCC extensions implement similar
> behaviour for Linux (Unix?) system. Here is the related ticket:
> 
> http://trac.osgeo.org/gdal/ticket/3824
> 
> 
> The main motivation is to sanitize the run-time environment and
> perform all necessary clean-up during GDAL library unload,
> so it does not leave any resources (memory) unreleased.
> 
> Frank suggested to discuss this idea on the list, so here we go
> and I'm looking forward to hearing your comments.
> 
> Best regards,
From mateusz at loskot.net  Thu Nov 11 19:00:53 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Nov 11 19:00:58 2010
Subject: [gdal-dev] [#3824][RFC] Introduce portable DllMain callback to
	DLL binary
In-Reply-To: <201011120046.15269.even.rouault@mines-paris.org>
References: <4CDC715F.1080701@loskot.net>
	<201011120046.15269.even.rouault@mines-paris.org>
Message-ID: <4CDC83B5.9090608@loskot.net>

On 11/11/10 23:46, Even Rouault wrote:
> Mateusz,
> 
> It looks good. Just minor comments :
> 
> 1) The commented //CPLCleanupTLS();  in the GCC specific code is indeed 
> unneeded since both GDALDestroyDriverManager() and OGRCleanupAll() call it. 

Even,

I missed this detail.

> Well, it could be usefull if people only used CPL services without registering 
> any GDAL/OGR drivers, but I'm not sure that is a use case we should try to 
> cover.

Yes, I think you are right and there is little point to cover it.

> 2) The code inside #ifdef _MSC_VER could in theory work with any other 
> compiler for windows, for example MINGW. But as MINGW is also GCC, I'm not 
> sure which version is the prefered one ( provided that the +ming 
> ((constructor)) stuff actually works with MINGW ... ). Anyway the current 
> situation is safe

I'm not MinGW user, so I have no idea really.

> 3) The CPLCleanupTLS() call in the DLL_THREAD_DETACH is only necessary for 
> threads not created by CPLCreateThread(), since the jacket function already 
> calls it at its end. But calling it twice won't hurt.

It is the case, so I'd like to keep the CPLCleanupTLS there.
Though, as it's multi-threading, I wouldn't bet my head for that it's
100% bulletproof, though I've been already using this approach and
haven't found any problems so far.

> So all in all, the code seems OK to me as it.

Big thanks for review and comments.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
Member of ACCU, http://accu.org
From luzhenyu1981 at gmail.com  Thu Nov 11 21:11:55 2010
From: luzhenyu1981 at gmail.com (Zhenyu Lu)
Date: Thu Nov 11 21:12:00 2010
Subject: [gdal-dev] An error in building overviews for
In-Reply-To: <201011111908.28369.even.rouault@mines-paris.org>
References: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
	<201011111335.06112.even.rouault@mines-paris.org>
	<AANLkTim6m_0x0bVOJsd2fEVP+PEnyuZHmy6P4RcLEPex@mail.gmail.com>
	<201011111908.28369.even.rouault@mines-paris.org>
Message-ID: <AANLkTimZQJL31c8iW9WKoipwW1v1U-h0MHAfJ_BJtTne@mail.gmail.com>

Hi, Even:

I have used the tool you mentioned. There is a gdaladdo utility in
GDAL1.5.2. But still it didn't work with the .img file in my computer.
Then I realized that since I've used these .img files in ArcGIS and Erdas
before. These software must automatically create the .rrd files. That
explains why I can't use the following code
"dataset.BuildOverviews("NEAREST", pOverviewList);".
It turns out to be that the reason why the ".tif" file works using the
previous code is because there is a .aux file together with the .rrd
file. It seems that the .aux file can be both read and written.
Thanks a lot for all the help and information.


2010/11/12 Even Rouault <even.rouault@mines-paris.org>

> Zhenyu,
>
> gdaladdo is not a function. It is a command line utility that you should
> find
> with the other GDAL utilities.
>
> Le jeudi 11 novembre 2010 19:05:23, Zhenyu Lu a ?crit :
>  > Hi, Even:
> >
> > Thanks for the information. I double checked the GDAL-1.5.2 compiled .net
> > dll. But I can't find the function named as gdaladdo. What I can only
> find
> > is three BuildOverviews function.
> > So I am confused whether there is such a function in GDAL-1.5.2. I will
> try
> > to test with GDAL-1.6 to see whether I can access such function.
> > Thanks,
> >
> > 2010/11/11 Even Rouault <even.rouault@mines-paris.org>
> >
> > > Actually, the HFA driver *does* support overviews. It isn't obvious why
> > > it does not work for you. Perhaps you should consider upgrading to a
> > > newer GDAL
> > > version, but I don't think this is an issue with GDAL 1.5.2. Does
> > > gdaladdo work on the dataset ? If so, then it must be rather related to
> > > something wrong
> > > in your code. The "int[] pOverviewList = { overView*2}" is a bit
> strange,
> > > but
> > > it is difficult to know without more context.
> > >
> > > Le jeudi 11 novembre 2010 08:00:15, Chaitanya kumar CH a ?crit :
> > >  > Zhenyu,
> > > >
> > > > GDAL's HFA driver doesn't support creation of overviews. It can only
> > > > read them.
> > > >
> > > > On Thu, Nov 11, 2010 at 9:16 AM, Zhenyu Lu <luzhenyu1981@gmail.com>
> > >
> > > wrote:
> > > > > Hi, all:
> > > > > I'm having an error while using function Dataset.BuildOverviews in
> my
> > > > > code. The error message is "BuildOverviews() not supported for this
> > > > > dataset". However, when I used the ".tif" file the BuildOverviews
> > >
> > > worked
> > >
> > > > > just fine. The
> > > > > code is:
> > > > > int[] pOverviewList = { overView*2};
> > > > > int[] pBandList = new int[dataset.RasterCount];
> > > > > int err = dataset.BuildOverviews("NEAREST", pOverviewList);
> > > > > if (err != (int)CPLErr.CE_None)
> > > > >
> > > > >       return null;
> > > > >
> > > > > I'm using GDAL1.5.2 and C#2.0. Is it because the HFA driver doesn't
> > > > > support overview? Or is it a bug? Can anyone pointed out where is
> my
> > > > > problem? Thanks a
> > > > > lot!
> > > > > --
> > > > > Zhenyu Lu
> > > > > SUNY-ESF
> > > > >
> > > > >
> > > > > _______________________________________________
> > > > > gdal-dev mailing list
> > > > > gdal-dev@lists.osgeo.org
> > > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Zhenyu Lu
SUNY-ESF
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101112/4f4eb039/attachment.html
From warmerdam at pobox.com  Thu Nov 11 22:25:41 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 11 22:25:46 2010
Subject: [gdal-dev] Click through proprietary licensing
In-Reply-To: <201011120015.08880.even.rouault@mines-paris.org>
References: <4CDC3C1F.6050000@pobox.com>
	<201011120015.08880.even.rouault@mines-paris.org>
Message-ID: <4CDCB3B5.6070400@pobox.com>

Folks,

I accidentally send this originally to gdal-dev instead of the
OSGeo4W list.  I'd like to move the discussion to the OSGeo4W
list.  I'm just cc:ing gdal-dev for notice.

Even Rouault wrote:
> Le jeudi 11 novembre 2010 19:55:27, Frank Warmerdam a ?crit :
> 
> Yes, this is a tricky situation. 
> 
> In fact, the potential legal infringement doesn't come necessary only from the 
> side of the proprietary software. Even if you satisfy the licencing terms of 
> the former, the copyright holders of the GPL software could argue that the GPL 
> licence doesn't apply in that context.

Even,

Yes, this is the primary issue I was concerned when I mentioned GRASS.

> The issue is not using GPL and proprietary stuff, but distributing the 
> aggregation of the two. Whether the fact of distributing a GPL program 
> (QGIS/GRASS/...) that uses a X/MIT library (GDAL/OGR) that has a X/MIT plugin 
> (OCI driver, ECW driver, MRSID driver) that links to a proprietary plugin (OCI 
> library, ECW library, MRSID library, ...) is illegal or not is probably in the 
> gray area of the GPL ( there is always debate on how linking and GPL work : 
> http://en.wikipedia.org/wiki/GNU_General_Public_License#Linking_and_derived_works 
> )

Honestly, if everything is installed as part of OSGeo4W it does not seem
like a gray area to me.  It seems to be a clear violation of the GPL.

If the end user later adds a proprietary plugin of their own accord
then we are at least in a gray area or even in the clear.  But it isn't
my wish to try and subvert the GPL.

> 4) And the last sentence of clause 2 of GPLv2 could perhaps apply to OSGeo4W 
> situation : "In addition, mere aggregation of another work not based on the 
> Program with the Program (or with a work based on the Program) on a volume of 
> a storage or distribution medium does not bring the other work under the scope 
> of this License. ".

Certainly I don't see a problem installing GDAL+proprietary plugins
and some GPL'ed software that doesn't actually link to GDAL.  In this
case we only have aggregation.

> So we could probably say that those proprietary plugins are out of the scope 
> of the GPL licence, but I'm not 100% this is a valid interpretation...
> 
> Of course, there are some possible ways to solve this without ambiguity :
> a) either those proprietary stuff are licenced under a GPL compatible open-
> source licence... (well one can dream...)
> b) or the copyright holders of those GPL software agree to provide a special 
> exception clause to the GPL to allow it to be combined with proprietary 
> software. Not necessarily easy in the presence of multiple copyright holders.

One approach I have contemplated is having driver register some metadata
about their licensing class.  In this way a GPLed application could choose
not to register proprietary drivers and/or proprietary applications could
choose not to register GPLed (broadly reciprocally licensed) drivers.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Nov 12 11:02:55 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 12 11:03:00 2010
Subject: [gdal-dev] An error in building overviews for
In-Reply-To: <AANLkTimZQJL31c8iW9WKoipwW1v1U-h0MHAfJ_BJtTne@mail.gmail.com>
References: <AANLkTik=d_xXqf-3Ew9KG+c0EiR19fQHWBHx8nmDivNQ@mail.gmail.com>
	<201011111335.06112.even.rouault@mines-paris.org>
	<AANLkTim6m_0x0bVOJsd2fEVP+PEnyuZHmy6P4RcLEPex@mail.gmail.com>
	<201011111908.28369.even.rouault@mines-paris.org>
	<AANLkTimZQJL31c8iW9WKoipwW1v1U-h0MHAfJ_BJtTne@mail.gmail.com>
Message-ID: <4CDD652F.7000609@pobox.com>

Zhenyu Lu wrote:
> Hi, Even:
>  
> I have used the tool you mentioned. There is a gdaladdo utility in 
> GDAL1.5.2. But still it didn't work with the .img file in my computer.
> Then I realized that since I've used these .img files in ArcGIS and 
> Erdas before. These software must automatically create the .rrd files. 
> That explains why I can't use the following code 
> "dataset.BuildOverviews("NEAREST", pOverviewList);". 
> It turns out to be that the reason why the ".tif" file works using the 
> previous code is because there is a .aux file together with the .rrd 
> file. It seems that the .aux file can be both read and written. 
> Thanks a lot for all the help and information.

Hi,

Indeed this is likely to be a situation where the behavior is confusing.  It
may well be better handled with the most recent code.  If you find things
still do not seem to work in a reasonable way with the current (trunk) code
please feel free to file a bug report.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From radim.blazek at gmail.com  Fri Nov 12 14:32:31 2010
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri Nov 12 14:32:34 2010
Subject: [gdal-dev] GDALClose MEM
Message-ID: <AANLkTik4YC_r1kbX7Fk+RfL7rAoBGUbp0HvBmZJx1FN9@mail.gmail.com>

Hi,
does the GDALClose function called for MEM driver call free() on the
memory passed to the driver as DATAPOINTER param? If so, how to avoid
it?

Radim
From warmerdam at pobox.com  Fri Nov 12 16:02:22 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 12 16:02:27 2010
Subject: [gdal-dev] GDALClose MEM
In-Reply-To: <AANLkTik4YC_r1kbX7Fk+RfL7rAoBGUbp0HvBmZJx1FN9@mail.gmail.com>
References: <AANLkTik4YC_r1kbX7Fk+RfL7rAoBGUbp0HvBmZJx1FN9@mail.gmail.com>
Message-ID: <4CDDAB5E.3030803@pobox.com>

Radim Blazek wrote:
> Hi,
> does the GDALClose function called for MEM driver call free() on the
> memory passed to the driver as DATAPOINTER param? If so, how to avoid
> it?

Radim,

Internally the driver tries to keep track of whether it owns the
referenced memory or not.  It looks like if you use a DATAPOINTER
parameter with either MEMDataset::Open() or ::AddBand() it assumes
the caller retains ownership of the memory.  If you call AddBand()
without a DATAPOINTER it will allocate it internally and take
responsibility for destroying it.

If you call the MEMRasterBand() constructor directly yourself (not
possible through the generic GDAL API) then you can pass in the flag
indicating whether the memory is owned or not.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Sat Nov 13 09:13:39 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Sat Nov 13 09:13:58 2010
Subject: [gdal-dev] Something is broken on Win install
Message-ID: <4CDE9D13.3020701@ualg.pt>

Hi,

After compiling everything in trunk with no problems the "devinstall" 
step stops with

...

C:\programs\GDALtrunk\gdal\frmts>cd ecw && nmake /nologo /f makefile.vc 
plugin && cd ..   || exit 1
         cd ..
         cd apps
         nmake /nologo /f makefile.vc
         cd ..
         mkdir ..\WIN64\bin
         mkdir "C:\programs\GDALtrunk\gdal\compileds\VC10_64"\data
A subdirectory or file C:\programs\GDALtrunk\gdal\compileds\VC10_64\data 
already exists.
         xcopy /y /r /d /f gdal17.dll ..\WIN64\bin
C:\programs\GDALtrunk\gdal\gdal17.dll -> 
C:\programs\GDALtrunk\WIN64\bin\gdal17.dll
1 File(s) copied
         cd frmts
         nmake /nologo /f makefile.vc plugins-install
         for %d in (  ecw ) do  cd %d && nmake /nologo /f makefile.vc 
plugin-install && cd ..  || exit 1

C:\programs\GDALtrunk\gdal\frmts>cd ecw && nmake /nologo /f makefile.vc 
plugin-install && cd ..   || exit 1
         mkdir ..\WIN64\bin\gdalplugins
A subdirectory or file ..\WIN64\bin\gdalplugins already exists.
         xcopy /y /r /d /f gdal_ECW_JP2ECW.dll ..\WIN64\bin\gdalplugins
0 File(s) copied
         cd ..\apps
         nmake /nologo /f makefile.vc install
         copy *.exe ..\WIN64\bin
gdaladdo.exe
The system cannot find the path specified.
         0 file(s) copied.
NMAKE : fatal error U1077: 'copy' : return code '0x1'
Stop.


The problem seams to be that it's trying to put things in

..\WIN64\bin

which I never told it to do. My nmake.opt has

!IFDEF WIN64
GDAL_HOME = "C:\programs\GDALtrunk\gdal\compileds\VC10_64"
!ELSE
!IF $(MSVC_VER) >= 1600
GDAL_HOME = "C:\programs\GDALtrunk\gdal\compileds\VC10_32"
...

So everything should go inside 
C:\programs\GDALtrunk\gdal\compileds\VC10_64\...
as they used to do until today.


Joaquim
From warmerdam at pobox.com  Sat Nov 13 13:02:01 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Nov 13 13:02:05 2010
Subject: [gdal-dev] Something is broken on Win install
In-Reply-To: <4CDE9D13.3020701@ualg.pt>
References: <4CDE9D13.3020701@ualg.pt>
Message-ID: <4CDED299.7070100@pobox.com>

Joaquim Luis wrote:
>         cd ..\apps
>         nmake /nologo /f makefile.vc install
>         copy *.exe ..\WIN64\bin
> gdaladdo.exe
> The system cannot find the path specified.
>         0 file(s) copied.
> NMAKE : fatal error U1077: 'copy' : return code '0x1'
> Stop.
> 
> 
> The problem seams to be that it's trying to put things in
> 
> ..\WIN64\bin
> 
> which I never told it to do. My nmake.opt has
> 
> !IFDEF WIN64
> GDAL_HOME = "C:\programs\GDALtrunk\gdal\compileds\VC10_64"
> !ELSE
> !IF $(MSVC_VER) >= 1600
> GDAL_HOME = "C:\programs\GDALtrunk\gdal\compileds\VC10_32"
> ...

Joaquim,

I don't know why this is happening in your case. I tried a clean
build and install on windows (32 bit) from trunk and had no problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Sat Nov 13 13:25:51 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Sat Nov 13 13:26:07 2010
Subject: [gdal-dev] Something is broken on Win install
In-Reply-To: <4CDED299.7070100@pobox.com>
References: <4CDE9D13.3020701@ualg.pt> <4CDED299.7070100@pobox.com>
Message-ID: <4CDED82F.40508@ualg.pt>

On 13-11-2010 18:02, Frank Warmerdam wrote:
> Joaquim Luis wrote:
>>         cd ..\apps
>>         nmake /nologo /f makefile.vc install
>>         copy *.exe ..\WIN64\bin
>> gdaladdo.exe
>> The system cannot find the path specified.
>>         0 file(s) copied.
>> NMAKE : fatal error U1077: 'copy' : return code '0x1'
>> Stop.
>>
>>
>> The problem seams to be that it's trying to put things in
>>
>> ..\WIN64\bin
>>
>> which I never told it to do. My nmake.opt has
>>
>> !IFDEF WIN64
>> GDAL_HOME = "C:\programs\GDALtrunk\gdal\compileds\VC10_64"
>> !ELSE
>> !IF $(MSVC_VER) >= 1600
>> GDAL_HOME = "C:\programs\GDALtrunk\gdal\compileds\VC10_32"
>> ...
>
> Joaquim,
>
> I don't know why this is happening in your case. I tried a clean
> build and install on windows (32 bit) from trunk and had no problem.
>
> Best regards,

Frank,

I found it. I had just rebuild GMT on the same command window and it 
looks that I had a variablr name contamination from the GMT build.
Starting with a new command window worked fine again.
Sorry for the noise.

Joaquim


From yrrman at gmail.com  Mon Nov 15 04:06:30 2010
From: yrrman at gmail.com (yrrman yrrman)
Date: Mon Nov 15 04:06:34 2010
Subject: [gdal-dev] gdalinfo, map unit DD and epsg:9108
Message-ID: <AANLkTin3ExmGSa-SLkcFprNuSryZGHag3eotAi0S6aCx@mail.gmail.com>

Hi everyone,

I'm new to this list and would therefore like to say "hello and thanks
for gdal" in the first place :-)


I just came across a minor problem where I would like to ask for your advice -

the Global Landcover set GLC2000 is available in grid format from [0].
Associated with it is the .hdr file with the projection description
[2].

Apparently the map units are in decimal degree.

When I ask gdalinfo, I get the WKT description of the SRS, see [3]


Everything's fine with this, I only came across the UNIT-Field

  UNIT["degree",0.0174532925199433, AUTHORITY["EPSG","9108"]],

where the unit is degree, defined according to epsg:9108. When you
look up epsg:9108 in the epsg registry [1] you get as Unit of Measure:

Code: EPSG::9108 - Name: degree minute second hemisphere (i.e. not
decimal degree)

Shouldn't this rather be epsg:9102 then?
Code: EPSG::9102 Name: degree, 1 degree: 0.017453292519943278 radian



As I said, it's not very important, just out of curiousity.

I'm using
GDAL 1.7.0b2, FWTools 2.4.7, released 2010/01/19


Thanks a lot and kind regards,


Chris

PS
I had sent this mail 4 days ago after some problems with registering
("googlemail" vs. "gmail"), however the mail was then neither rejected
nor appeared on the list. I now completely switched to "gmail" and
hope it will work now. Or is this list moderated and the mail has been
silently rejected? :-) Thanks again to Frank who helped with the
registration problem -  and greetings, Chris.


-------------------------------------------------------------------------------------
[0] http://bioval.jrc.ec.europa.eu/products/glc2000/products.php
[1] http://www.epsg-registry.org/
[2] glc2000_v1_1_projinfo.hdr:

BANDS:      1
ROWS:   16353
COLS:   40320
INTERLEAVING:    NA
DATATYPE: U8
BYTE_ORDER: NA
UL_X_COORDINATE:           -180.000000
UL_Y_COORDINATE:             89.991071
LR_X_COORDINATE:            179.991070
LR_Y_COORDINATE:            -56.008928
PIXEL_WIDTH:               0.0089285714
PIXEL_HEIGHT:              0.0089285714
MAP_UNITS:    DD
PROJECTION_NAME: Geographic (Lat/Lon)
PROJECTION_ZONE:     0
PROJECTION_PARAMETERS:
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
                   0.000000
SPHEROID_NAME: WGS 84
SEMI_MAJOR_AXIS:        6378137.000000
SEMI_MINOR_AXIS:        6356752.314245
E_SQUARED:                    0.006694
RADIUS:                 6371007.180918

[3] gdalinfo output:
Driver: AIG/Arc/Info Binary Grid
Files: glc2000_v1_1
     glc2000_v1_1\dblbnd.adf
     glc2000_v1_1\hdr.adf
     glc2000_v1_1\log
     glc2000_v1_1\metadata.xml
     glc2000_v1_1\prj.adf
     glc2000_v1_1\sta.adf
     glc2000_v1_1\vat.adf
     glc2000_v1_1\w001001.adf
     glc2000_v1_1\w001001x.adf
Size is 40320, 16353
Coordinate System is:
GEOGCS["WGS 84",
  DATUM["WGS_1984",
      SPHEROID["WGS 84",6378137,298.257223563,
          AUTHORITY["EPSG","7030"]],
      TOWGS84[0,0,0,0,0,0,0],
      AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
      AUTHORITY["EPSG","8901"]],
  UNIT["degree",0.0174532925199433,
      AUTHORITY["EPSG","9108"]],
  AUTHORITY["EPSG","4326"]]
Origin = (-180.004464285700010,89.995535666300043)
Pixel Size = (0.008928571400000,-0.008928571400000)
Corner Coordinates:
Upper Left  (-180.0044643,  89.9955357) (180d 0'16.07"W, 89d59'43.93"N)
Lower Left  (-180.0044643, -56.0133924) (180d 0'16.07"W, 56d 0'48.21"S)
Upper Right ( 179.9955346,  89.9955357) (179d59'43.92"E, 89d59'43.93"N)
Lower Right ( 179.9955346, -56.0133924) (179d59'43.92"E, 56d 0'48.21"S)
Center      (  -0.0044649,  16.9910716) (  0d 0'16.07"W, 16d59'27.86"N)
Band 1 Block=256x4 Type=Byte, ColorInterp=Palette
 Min=1.000 Max=23.000
 NoData Value=255
 Metadata:
  LAYER_TYPE=thematic
 Color Table (RGB with 256 entries)
  0: 0,0,0,255 [..]
From eloi.ribeiro at gmail.com  Mon Nov 15 06:59:12 2010
From: eloi.ribeiro at gmail.com (Eloi Ribeiro)
Date: Mon Nov 15 06:59:14 2010
Subject: [gdal-dev] remove coordinate system info from a GTiff
Message-ID: <AANLkTimL4YiHB6ZLQRFG4NeKvnFLVQ0fX+-WbE5qdOsU@mail.gmail.com>

Hi all,

By mistake I have assigned the wrong coordinate system to a GTiff image and
deleted the original file.
How can I remove coordinate system info from a GTiff and then assign the
correct one with no warping involved in the process?
Thanks for your help!

Eloi Ribeiro
GIS Analyst
39,45? -4,40?
http://eloiribeiro.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/d4e71b36/attachment.html
From jukka.rahkonen at mmmtike.fi  Mon Nov 15 08:07:58 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Nov 15 08:08:14 2010
Subject: [gdal-dev] Re: remove coordinate system info from a GTiff
References: <AANLkTimL4YiHB6ZLQRFG4NeKvnFLVQ0fX+-WbE5qdOsU@mail.gmail.com>
Message-ID: <loom.20101115T140323-742@post.gmane.org>

Eloi Ribeiro <eloi.ribeiro <at> gmail.com> writes:

> 
> 
> Hi all,
> 
> By mistake I have assigned the wrong coordinate system to a GTiff image and
deleted the original file.
> How can I remove coordinate system info from a GTiff and then assign the
correct one with no warping involved in the process?
> Thanks for your help!

Hi,

Make first a clean intermediate tiff file with gdal_translate by using -co
PROFILE=BASELINE and -co TFW=YES, then convert this plain tiff by using -a_srs.
There can be more sophisticated solutions.

-Jukka Rahkonen-

From anders.moe at geocap.no  Mon Nov 15 08:08:27 2010
From: anders.moe at geocap.no (Anders Moe)
Date: Mon Nov 15 08:08:29 2010
Subject: [gdal-dev] ogr/oci import : a_srs EPSG:4230 fails
Message-ID: <AANLkTikDhm_hVk3uThWaFh3wxpQcDiFqPq2Pwqg=-_k4@mail.gmail.com>

Hi everyone

When importing an  ED50 (EPSG:4230) shapefile to Oracle Spatial 11g2,

ogr2ogr -a_srs EPSG:4230 -f OCI blabla

a get an insufficient privileges error . however when specifying EPSG:4326
it works. Which is ironic, since the actual data _is_ 4230.

SRID=4230 is , after all , present in the SDO_COORD_REF_SYS table as well as
the GDAL_DATA files.

Here is the WKT as reported by OGR :

GEOGCS["GCS_European_1950",

 DATUM["European_Datum_1950",

SPHEROID["International_1924",6378388.0,297.0]],

PRIMEM["Greenwich",0.0],

UNIT["Degree",0.0174532925199433]]



This is easy to reproduce, simply download for example the "fields" dataset
from the NPD :


http://www.npd.no/engelsk/cwi/pbl/en/factmap/download/shapes_welcome.htm




Cheers,

Anders
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/15c87ec2/attachment.html
From jukka.rahkonen at mmmtike.fi  Mon Nov 15 08:14:01 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Nov 15 08:14:19 2010
Subject: [gdal-dev] Re: ogr/oci import : a_srs EPSG:4230 fails
References: <AANLkTikDhm_hVk3uThWaFh3wxpQcDiFqPq2Pwqg=-_k4@mail.gmail.com>
Message-ID: <loom.20101115T141108-740@post.gmane.org>

Anders Moe <anders.moe <at> geocap.no> writes:

> 
> 
> Hi everyone
> 
> 
> When importing an ?ED50 (EPSG:4230) shapefile to Oracle Spatial 11g2,?
> 
> ogr2ogr -a_srs EPSG:4230 -f OCI blabla
> 
> a get an insufficient privileges error


I would have a try with -lco SRID=4230.  Ogr2ogr tries to find exact match and
if that fails it tries to insert new projection definitions.
Excerpt from http://gdal.org/ogr/drv_oci.html
"SRID: By default this driver will attempt to find an existing row in the
MDSYS.CS_SRS table with a well known text coordinate system exactly matching the
one for this dataset. If one is not found, a new row will be added to this
table. The SRID creation option allows the user to force use of an existing
Oracle SRID item even it if does not exactly match the WKT the driver expects."

-Jukka Rahkonen-


From paul.malm at saabgroup.com  Mon Nov 15 07:29:49 2010
From: paul.malm at saabgroup.com (Malm Paul)
Date: Mon Nov 15 08:26:56 2010
Subject: [gdal-dev] OGDI version
Message-ID: <2CF53313EAE78542876F7C9689F9F7252CB6A73E@corpappl746.corp.saab.se>

How can I find out of which version of OGDI (vector, vpf) that is used with GDAL 1.7.2.

Kind Regards,
Paul Malm

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/3034c6ea/attachment.html
From eloi.ribeiro at gmail.com  Mon Nov 15 08:32:54 2010
From: eloi.ribeiro at gmail.com (Eloi Ribeiro)
Date: Mon Nov 15 08:32:56 2010
Subject: [gdal-dev] Re: remove coordinate system info from a GTiff
In-Reply-To: <loom.20101115T140323-742@post.gmane.org>
References: <AANLkTimL4YiHB6ZLQRFG4NeKvnFLVQ0fX+-WbE5qdOsU@mail.gmail.com>
	<loom.20101115T140323-742@post.gmane.org>
Message-ID: <AANLkTimzJdZhmv48OcprswGajC8sL1EgxYyBWoEZLadx@mail.gmail.com>

Thanks Jukka!
It worked fine!
By,

Eloi Ribeiro
GIS Analyst
39,45? -4,40?
http://eloiribeiro.wordpress.com


On Mon, Nov 15, 2010 at 14:07, Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>wrote:

> Eloi Ribeiro <eloi.ribeiro <at> gmail.com> writes:
>
> >
> >
> > Hi all,
> >
> > By mistake I have assigned the wrong coordinate system to a GTiff image
> and
> deleted the original file.
> > How can I remove coordinate system info from a GTiff and then assign the
> correct one with no warping involved in the process?
> > Thanks for your help!
>
> Hi,
>
> Make first a clean intermediate tiff file with gdal_translate by using -co
> PROFILE=BASELINE and -co TFW=YES, then convert this plain tiff by using
> -a_srs.
> There can be more sophisticated solutions.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/2cd2b764/attachment-0001.html
From anders.moe at geocap.no  Mon Nov 15 09:29:06 2010
From: anders.moe at geocap.no (Anders Moe)
Date: Mon Nov 15 09:29:13 2010
Subject: [gdal-dev] Re: ogr/oci import : a_srs EPSG:4230 fails
In-Reply-To: <loom.20101115T141108-740@post.gmane.org>
References: <AANLkTikDhm_hVk3uThWaFh3wxpQcDiFqPq2Pwqg=-_k4@mail.gmail.com>
	<loom.20101115T141108-740@post.gmane.org>
Message-ID: <AANLkTinZHSvasw0fD-K5VraZHLUNNaxb1L6sLxW_3OQ6@mail.gmail.com>

Thanks a lot, Jukka, that worked.

This has me wondering is ogr2ogr2 should have a general mechanism where ogr
queries  the underlying driver  for SRS info, rather that GDAL using only
the GDAL_DATA files. This is probably not an issue when using only local
files, but transferring between spatial databases I imagine it could be
useful, since Oracle in particular has pretty extensive CS data. Then -srs
<whatever> works as long as the driver can supply the parameters.  For
example Oracle provides plenty of 3/7 arg datum shift arguments that would
be useful, but are not, to my knowledge, distributed with GDAL. This is
logically what is accomplished when using -lco ="SRID=___", but this
functionality could be lifted into  ogr proper rather than being on the
driver level. Forgive me if this is actually the case; I just assume from
this experience that it isn't.

Regards,
Anders

On Mon, Nov 15, 2010 at 2:14 PM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi>wrote:

> Anders Moe <anders.moe <at> geocap.no> writes:
>
> >
> >
> > Hi everyone
> >
> >
> > When importing an  ED50 (EPSG:4230) shapefile to Oracle Spatial 11g2,
> >
> > ogr2ogr -a_srs EPSG:4230 -f OCI blabla
> >
> > a get an insufficient privileges error
>
>
> I would have a try with -lco SRID=4230.  Ogr2ogr tries to find exact match
> and
> if that fails it tries to insert new projection definitions.
> Excerpt from http://gdal.org/ogr/drv_oci.html
> "SRID: By default this driver will attempt to find an existing row in the
> MDSYS.CS_SRS table with a well known text coordinate system exactly
> matching the
> one for this dataset. If one is not found, a new row will be added to this
> table. The SRID creation option allows the user to force use of an existing
> Oracle SRID item even it if does not exactly match the WKT the driver
> expects."
>
> -Jukka Rahkonen-
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 

________________________________________________________

Anders Moe

Managing Director
Geocap
w: +47 22 95 56 63
anders.moe@geocap.no
________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/d6327851/attachment.html
From sebastian.ovide at gmail.com  Mon Nov 15 10:46:54 2010
From: sebastian.ovide at gmail.com (Sebastian E. Ovide)
Date: Mon Nov 15 10:47:17 2010
Subject: [gdal-dev] OCI: ogrinfo from normal table
Message-ID: <AANLkTik_XqS0L1s1zso+neGe5gWK1bks=K+54tb_O3gT@mail.gmail.com>

Hi All,

I have a table which has an X and Y columns. It doesn't have a geometry
column.

In order to read geometries created on the fly, I'm trying to use ogrinfo
with the -sql parameter.

So the Oracle query is:

 Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord,
T.Ycoord, NULL), NULL, NULL) geom From Lookupindex T;

and therefore the ogrinfo command is:

 ogrinfo OCI:la002/la002@192.168.60.70/MFUATDB -sql 'Select T.Entry_Id id,
SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord, T.Ycoord, NULL), NULL, NULL)
geom From Lookupindex T;'

I would expect a list of points... but I'm getting this:


INFO: Open of `OCI:la002/la002@192.168.60.70/MFUATDB'
      using driver `OCI' successful.
ERROR 1: ORA-00911: invalid character
 in Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord,
T.Ycoord, NULL), NULL, NULL) geom From Lookupindex T;


any ideas ?


-- 
Sebastian E. Ovide
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/a79b22c8/attachment.html
From micklesh at gmail.com  Mon Nov 15 10:52:15 2010
From: micklesh at gmail.com (Michael Shishcu)
Date: Mon Nov 15 10:52:37 2010
Subject: [gdal-dev] OCI: ogrinfo from normal table
In-Reply-To: <AANLkTik_XqS0L1s1zso+neGe5gWK1bks=K+54tb_O3gT@mail.gmail.com>
References: <AANLkTik_XqS0L1s1zso+neGe5gWK1bks=K+54tb_O3gT@mail.gmail.com>
Message-ID: <AANLkTikGyrRTdyBuDAb7tPxveBXfR9RdzhaHjPAEAk8_@mail.gmail.com>

Hi Sebastian

maybe Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_
POINT_TYPE(T.Xcoord, T.Ycoord, NULL), NULL, NULL)* AS* geom From Lookupindex
T; ?

regards, michael


On 15 November 2010 17:46, Sebastian E. Ovide <sebastian.ovide@gmail.com>wrote:

> Hi All,
>
> I have a table which has an X and Y columns. It doesn't have a geometry
> column.
>
> In order to read geometries created on the fly, I'm trying to use ogrinfo
> with the -sql parameter.
>
> So the Oracle query is:
>
>  Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord,
> T.Ycoord, NULL), NULL, NULL) geom From Lookupindex T;
>
> and therefore the ogrinfo command is:
>
>  ogrinfo OCI:la002/la002@192.168.60.70/MFUATDB -sql 'Select T.Entry_Id id,
> SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord, T.Ycoord, NULL), NULL, NULL)
> geom From Lookupindex T;'
>
> I would expect a list of points... but I'm getting this:
>
>
> INFO: Open of `OCI:la002/la002@192.168.60.70/MFUATDB'
>       using driver `OCI' successful.
> ERROR 1: ORA-00911: invalid character
>  in Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord,
> T.Ycoord, NULL), NULL, NULL) geom From Lookupindex T;
>
>
> any ideas ?
>
>
> --
> Sebastian E. Ovide
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/58a5bc1c/attachment.html
From sebastian.ovide at gmail.com  Mon Nov 15 11:32:49 2010
From: sebastian.ovide at gmail.com (Sebastian E. Ovide)
Date: Mon Nov 15 11:33:13 2010
Subject: [gdal-dev] OCI: ogrinfo from normal table
In-Reply-To: <AANLkTikGyrRTdyBuDAb7tPxveBXfR9RdzhaHjPAEAk8_@mail.gmail.com>
References: <AANLkTik_XqS0L1s1zso+neGe5gWK1bks=K+54tb_O3gT@mail.gmail.com>
	<AANLkTikGyrRTdyBuDAb7tPxveBXfR9RdzhaHjPAEAk8_@mail.gmail.com>
Message-ID: <AANLkTim55BSaW2k7dD1W53okYHSQ1SLhJTafhWVX0=HL@mail.gmail.com>

tried... but still no luck...

gis@mapserver:~$ ogrinfo OCI:la002/la002@192.168.60.70/MFUATDB -sql 'Select
T.Entry_Id as id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord, T.Ycoord,
NULL), NULL, NULL) as geom From Lookupindex T;'
INFO: Open of `OCI:la002/la002@192.168.60.70/MFUATDB'
      using driver `OCI' successful.
ERROR 1: ORA-00911: invalid character
 in Select T.Entry_Id as id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord,
T.Ycoord, NULL), NULL, NULL) as geom From Lookupindex T;


note: the SQL query works well in Oracle SQL Developer...

On Mon, Nov 15, 2010 at 3:52 PM, Michael Shishcu <micklesh@gmail.com> wrote:

> Hi Sebastian
>
> maybe Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_
> POINT_TYPE(T.Xcoord, T.Ycoord, NULL), NULL, NULL)* AS* geom From
> Lookupindex T; ?
>
> regards, michael
>
>
>  On 15 November 2010 17:46, Sebastian E. Ovide <sebastian.ovide@gmail.com>wrote:
>
>>  Hi All,
>>
>> I have a table which has an X and Y columns. It doesn't have a geometry
>> column.
>>
>> In order to read geometries created on the fly, I'm trying to use ogrinfo
>> with the -sql parameter.
>>
>> So the Oracle query is:
>>
>>  Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord,
>> T.Ycoord, NULL), NULL, NULL) geom From Lookupindex T;
>>
>> and therefore the ogrinfo command is:
>>
>>  ogrinfo OCI:la002/la002@192.168.60.70/MFUATDB -sql 'Select T.Entry_Id
>> id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord, T.Ycoord, NULL), NULL,
>> NULL) geom From Lookupindex T;'
>>
>> I would expect a list of points... but I'm getting this:
>>
>>
>> INFO: Open of `OCI:la002/la002@192.168.60.70/MFUATDB'
>>       using driver `OCI' successful.
>> ERROR 1: ORA-00911: invalid character
>>  in Select T.Entry_Id id, SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(T.Xcoord,
>> T.Ycoord, NULL), NULL, NULL) geom From Lookupindex T;
>>
>>
>> any ideas ?
>>
>>
>> --
>> Sebastian E. Ovide
>>
>>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>


-- 
Sebastian E. Ovide
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/abd77ce5/attachment.html
From warmerdam at pobox.com  Mon Nov 15 11:49:35 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 15 11:49:41 2010
Subject: [gdal-dev] OGDI version
In-Reply-To: <2CF53313EAE78542876F7C9689F9F7252CB6A73E@corpappl746.corp.saab.se>
References: <2CF53313EAE78542876F7C9689F9F7252CB6A73E@corpappl746.corp.saab.se>
Message-ID: <4CE1649F.9030907@pobox.com>

Malm Paul wrote:
> How can I find out of which version of OGDI (vector, vpf) that is used 
> with GDAL 1.7.2.

Paul,

GDAL does not include a copy of the OGDI library, and can be built against
several different versions.  So the answer will be specific to the build
you are using and you need to ask whoever built it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From luc.vanlinden at gmail.com  Mon Nov 15 12:29:29 2010
From: luc.vanlinden at gmail.com (lucvanlinden)
Date: Mon Nov 15 12:29:33 2010
Subject: [gdal-dev] Re: OCI: ogrinfo from normal table
In-Reply-To: <AANLkTim55BSaW2k7dD1W53okYHSQ1SLhJTafhWVX0=HL@mail.gmail.com>
References: <AANLkTik_XqS0L1s1zso+neGe5gWK1bks=K+54tb_O3gT@mail.gmail.com>
	<AANLkTikGyrRTdyBuDAb7tPxveBXfR9RdzhaHjPAEAk8_@mail.gmail.com>
	<AANLkTim55BSaW2k7dD1W53okYHSQ1SLhJTafhWVX0=HL@mail.gmail.com>
Message-ID: <1289842169599-5740683.post@n2.nabble.com>


I think you should remove the colon ";" at the end.

also put your sql between double quotes, this will help when should you use
literal strings as in:

"SELECT ... FROM ...WHERE name = 'your_name'"

Luc
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-OCI-ogrinfo-from-normal-table-tp5740283p5740683.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From BCassanova at weather.com  Mon Nov 15 12:41:08 2010
From: BCassanova at weather.com (Cassanova, Bill)
Date: Mon Nov 15 12:56:20 2010
Subject: [gdal-dev] GDAL Navigation of a Grib2 file
Message-ID: <1D5F4E64B8C04F4C868B94AC9A532AF80EF21ABC@ATLMAIL01.corp.weather.com>

HI All,

 

I think I may have discovered a slight issue with how GDAL reads GRIB2
files.

 

I created a grib2 file using a third party utility with the following
parameters:

 

  cell_size_x = 0.011232419944023

  cell_size_y = 0.011232419944023

  lat_lower_left = 41.2972846

  lon_lower_left = -23.5278783

  lat_upper_right = 61.5044080

  lon_upper_right = 26.8045955

  rows = 1799;

  columns = 4481

 

When I look at the grid dimensions using wgrib2 I see that the corner
points match exactly:

 

1:0:grid_template=0:winds(N/S):

        lat-lon grid:(4481 x 1799) units 1e-06 input WE:SN output WE:SN
res 48

        lat 41.297283 to 61.504407 by 0.011232

        lon 336.472121 to 26.804594 by 0.011232 #points=8061319

 

When I dump the same grid using gdalinfo it's corner points show up
differently:

 

Driver: GRIB/GRIdded Binary (.grb)

Files: image_combine_20101115164227.grib2

Size is 4481, 1799

Coordinate System is:

GEOGCS["Coordinate System imported from GRIB file",

    DATUM["unknown",

        SPHEROID["Sphere",6367470,0]],

    PRIMEM["Greenwich",0],

    UNIT["degree",0.0174532925199433]]

Origin = (336.472120999999959,61.492418999999998)

Pixel Size = (0.011232000000000,-0.011232000000000)

Corner Coordinates:

Upper Left  (     336.472,      61.492) (336d28'19.64"E, 61d29'32.71"N)

Lower Left  (     336.472,      41.286) (336d28'19.64"E, 41d17'9.78"N)

Upper Right (     386.803,      61.492) (386d48'9.77"E, 61d29'32.71"N)

Lower Right (     386.803,      41.286) (386d48'9.77"E, 41d17'9.78"N)

Center      (     361.637,      51.389) (361d38'14.70"E, 51d23'21.25"N)

 

I thought that GDAL used degrib to extract the Grib information and so I
also dumped the file with degrib and it matches the wgrib2 output as it
should:

 

GDS | Number of Points | 8061319

GDS | Projection Type | 0 (Latitude/Longitude)

GDS | Shape of Earth | sphere

GDS | Radius | 6367.470000 (km)

GDS | Nx (Number of points on parallel) | 4481

GDS | Ny (Number of points on meridian) | 1799

GDS | Lat1 | 41.297440

GDS | Lon1 | 334.942119

GDS | u/v vectors relative to | easterly/northerly

GDS | Lat2 | 61.504407

GDS | Lon2 | 25.274208

GDS | Dx | 0.011199 (degrees)

GDS | Dy | 0.011199 (degrees)

 

My question is....How does GDAL calculate its dimensional constraints?
I would have assumed that it read it right from the grib2 file.

 

Thanks,

Bill

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/bcf78c2e/attachment.html
From sebastian.ovide at gmail.com  Mon Nov 15 12:57:17 2010
From: sebastian.ovide at gmail.com (Sebastian E. Ovide)
Date: Mon Nov 15 12:57:39 2010
Subject: [gdal-dev] Re: OCI: ogrinfo from normal table
In-Reply-To: <1289842169599-5740683.post@n2.nabble.com>
References: <AANLkTik_XqS0L1s1zso+neGe5gWK1bks=K+54tb_O3gT@mail.gmail.com>
	<AANLkTikGyrRTdyBuDAb7tPxveBXfR9RdzhaHjPAEAk8_@mail.gmail.com>
	<AANLkTim55BSaW2k7dD1W53okYHSQ1SLhJTafhWVX0=HL@mail.gmail.com>
	<1289842169599-5740683.post@n2.nabble.com>
Message-ID: <AANLkTi=WW=1SGsf6B9PBDebBWiJXnBakz2VVaY3o5=Mp@mail.gmail.com>

great.... removing the colon ";" made the trick.. thanks

On Mon, Nov 15, 2010 at 5:29 PM, lucvanlinden <luc.vanlinden@gmail.com>wrote:

>
> I think you should remove the colon ";" at the end.
>
> also put your sql between double quotes, this will help when should you use
> literal strings as in:
>
> "SELECT ... FROM ...WHERE name = 'your_name'"
>
> Luc
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/gdal-dev-OCI-ogrinfo-from-normal-table-tp5740283p5740683.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Sebastian E. Ovide
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101115/3e885aea/attachment.html
From warmerdam at pobox.com  Mon Nov 15 13:41:54 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 15 13:41:59 2010
Subject: [gdal-dev] GDAL Navigation of a Grib2 file
In-Reply-To: <1D5F4E64B8C04F4C868B94AC9A532AF80EF21ABC@ATLMAIL01.corp.weather.com>
References: <1D5F4E64B8C04F4C868B94AC9A532AF80EF21ABC@ATLMAIL01.corp.weather.com>
Message-ID: <4CE17EF2.40500@pobox.com>

Cassanova, Bill wrote:
> *        lat 41.297283 to 61.504407 by 0.011232*
> 
> *        lon 336.472121 to 26.804594 by 0.011232* #points=8061319
...
> Origin = (336.472120999999959,61.492418999999998)

> My question is?.How does GDAL calculate its dimensional constraints?  I 
> would have assumed that it read it right from the grib2 file.

Bill,

Oddly the origin matches in longitude and is approximately 1 pixel off in
latitude.

GDAL uses a "pixel is area" model while I suspect grib uses a "pixel is
point" model so normally there would be a half pixel offset between the
corners reported by GDAL and grib utilities.  However, I am uncertain why
it is off by one pixel in one direction and pretty much dead on in the other.
This suggests a bug.

I would suggest you review existing GRIB tickets to see if this issue has
already been raised, and perhaps even resolved.  If it is not mentioned then
please file a ticket.  If there is an unresolved ticket you could add your
information to the ticket.

GRIB is a bear of a format, so it is not always easy to get someone to work
on the tickets.  And for this sort of problem there is always a risk of
fixing things for one file and breaking it for another.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Mon Nov 15 14:27:29 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 15 14:27:32 2010
Subject: [gdal-dev] Motion: Adopt RFC 32: gdallocationinfo utility
Message-ID: <4CE189A1.4090603@pobox.com>

Folks,

I have made a couple changes to gdallocationinfo based on feedback I
received when bringing it up for discussion. I am not motioning to adopt
RFC 32, making gdallocationinfo an "official" GDAL utility, installed
by default, documented and supported:

   http://trac.osgeo.org/gdal/wiki/rfc32_gdallocationinfo

+1 Frank

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Mon Nov 15 20:40:20 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 15 20:40:23 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
Message-ID: <4CE1E104.10903@pobox.com>

Folks,

After 15 years of denial, and bullheadedness it is now time for me to
admit my interpretation of PixelIsPoint in GeoTIFF files is wrong.  To that
end I have prepared a brief RFC discussing how I intend to fix it.  I'd
appreciate comment before calling for a vote.

   http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint

Mmmm, crow - it tastes just like chicken!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Mon Nov 15 21:10:07 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Mon Nov 15 21:10:09 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gRnJhbmsgRWF0cyBDcm93IC0gb3IgRml4aW5nIFBpeGVsSXNQb2ludCBJbnRlcnByZXRhdGlvbg==?=
Message-ID: <20101116021007.3048.qmail@s466.sureserver.com>

Frank,

Courageous decision!

But I got confused by that sentence:

"In GDAL 1.7 and 1.6 branch the same changes will be applied, except the GTIFF_POINT_GEO_IGNORE configuration 
option will default to FALSE."

Did you mean to say TRUE?

Regards,

Ivan

>  -------Original Message-------
>  From: Frank Warmerdam <warmerdam@pobox.com>
>  To: gdal-dev <gdal-dev@lists.osgeo.org>
>  Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
>  Sent: Nov 15 '10 20:40
>  
>  Folks,
>  
>  After 15 years of denial, and bullheadedness it is now time for me to
>  admit my interpretation of PixelIsPoint in GeoTIFF files is wrong.??To that
>  end I have prepared a brief RFC discussing how I intend to fix it.??I'd
>  appreciate comment before calling for a vote.
>  
>  ?? http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint
>  
>  Mmmm, crow - it tastes just like chicken!
>  
>  Best regards,
>  --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush????| Geospatial Programmer for Rent
>  
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From warmerdam at pobox.com  Mon Nov 15 21:35:02 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 15 21:35:08 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <20101116021007.3048.qmail@s466.sureserver.com>
References: <20101116021007.3048.qmail@s466.sureserver.com>
Message-ID: <4CE1EDD6.9000004@pobox.com>

Ivan Lucena wrote:
> Frank,
> 
> Courageous decision!
> 
> But I got confused by that sentence:
> 
> "In GDAL 1.7 and 1.6 branch the same changes will be applied, except the GTIFF_POINT_GEO_IGNORE configuration 
> option will default to FALSE."
> 
> Did you mean to say TRUE?

Ivan,

Yes, I have corrected it in the RFC.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chapmanm at pixia.com  Mon Nov 15 22:49:12 2010
From: chapmanm at pixia.com (chapmanm@pixia.com)
Date: Mon Nov 15 22:50:18 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <4CE1E104.10903@pobox.com>
References: <4CE1E104.10903@pobox.com>
Message-ID: <1405387409-1289879352-cardhu_decombobulator_blackberry.rim.net-515211715-@bda673.bisx.prod.on.blackberry>

I thought you Canadians ate salmon?

Martin
Sent via BlackBerry by AT&T

-----Original Message-----
From: Frank Warmerdam <warmerdam@pobox.com>
Sender: gdal-dev-bounces@lists.osgeo.org
Date: Mon, 15 Nov 2010 20:40:20 
To: gdal-dev<gdal-dev@lists.osgeo.org>
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation

Folks,

After 15 years of denial, and bullheadedness it is now time for me to
admit my interpretation of PixelIsPoint in GeoTIFF files is wrong.  To that
end I have prepared a brief RFC discussing how I intend to fix it.  I'd
appreciate comment before calling for a vote.

   http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint

Mmmm, crow - it tastes just like chicken!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From zoltans at geograph.co.za  Tue Nov 16 00:31:17 2010
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Tue Nov 16 00:31:27 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <1405387409-1289879352-cardhu_decombobulator_blackberry.rim.net-515211715-@bda673.bisx.prod.on.blackberry>
References: <4CE1E104.10903@pobox.com>
	<1405387409-1289879352-cardhu_decombobulator_blackberry.rim.net-515211715-@bda673.bisx.prod.on.blackberry>
Message-ID: <4CE21725.8090200@geograph.co.za>

On 2010-11-16 05:49, chapmanm@pixia.com wrote:
> I thought you Canadians ate salmon?
>
>    
He said Bullheadedness, not Bearheadedness

Nice attitude to the issue, Frank.

:-)

-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.

34? 6'16.35"S 18?28'5.62"E

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================



-----
No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1153 / Virus Database: 424/3258 - Release Date: 11/15/10

From r.hogendoorn at hitt.nl  Tue Nov 16 05:48:27 2010
From: r.hogendoorn at hitt.nl (Hogendoorn, Rene)
Date: Tue Nov 16 05:57:45 2010
Subject: [gdal-dev] S57 utilities
Message-ID: <3C951F86A458CD4EBA86837EDC115AE87B2148@massenet.hitt.home>

I noticed that, in the GNUMakefile in the ogr/ogr_frmts/s57 directory, two utilities are mentioned for which there is no source code.
This concerns mks57 and write_soundg. What happened to these utilities? Should they be removed from the makefile?
Regards,

Rene Hogendoorn




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/bc6fc508/attachment.html
From j.l.h.hartmann at uva.nl  Tue Nov 16 06:08:02 2010
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Tue Nov 16 06:46:26 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <4CE1E104.10903@pobox.com>
References: <4CE1E104.10903@pobox.com>
Message-ID: <4CE26612.60009@uva.nl>



On 11/16/10 02:40, Frank Warmerdam wrote:
> Folks,
>
> After 15 years of denial, and bullheadedness it is now time for me to
> admit my interpretation of PixelIsPoint in GeoTIFF files is wrong.  To 
> that
> end I have prepared a brief RFC discussing how I intend to fix it.  I'd
> appreciate comment before calling for a vote.
>
>   http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint
>
> Mmmm, crow - it tastes just like chicken!
>
> Best regards,

Had to look up what this subject line meant, of course. Is this what you 
are looking like at the moment, Frank? :-)

http://www.google.nl/imgres?imgurl=http://i727.photobucket.com/albums/ww276/tbattitori/EatingCrow1.jpg&imgrefurl=http://s727.photobucket.com/albums/ww276/tbattitori/%3Faction%3Dview%26current%3DEatingCrow1.jpg%26newest%3D1&h=375&w=500&sz=18&tbnid=KaUtizW3jL28JM:&tbnh=98&tbnw=130&prev=/images%3Fq%3Deating%2Bcrow&zoom=1&q=eating+crow&usg=__v_cJYvwniyZnvECIivrDQDkqG38=&sa=X&ei=i2PiTOqrH4GXOvyzkWE&ved=0CDAQ9QEwAw

Jan
From jluis at ualg.pt  Tue Nov 16 06:49:01 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue Nov 16 06:49:11 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <4CE1E104.10903@pobox.com>
References: <4CE1E104.10903@pobox.com>
Message-ID: <4CE26FAD.2020602@ualg.pt>

Frank,

Wouldn't this apply to the netCDF grids as well? GMT has always made the 
distinction on the area vs point representation. The grids created by 
GMT hold that information on the global attribute "node_offset". As for 
other netCDF CF grids created elsewhere it is also possible to find 
which model is used by checking the grid limits vs array size because 
for the same limits the PixelIsArea model has one less row and column 
than the PixelIsPoint.

Joaquim

> Folks,
>
> After 15 years of denial, and bullheadedness it is now time for me to
> admit my interpretation of PixelIsPoint in GeoTIFF files is wrong.  To 
> that
> end I have prepared a brief RFC discussing how I intend to fix it.  I'd
> appreciate comment before calling for a vote.
>
>   http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint
>
> Mmmm, crow - it tastes just like chicken!
>
> Best regards,

From George.Corrado at gd-ais.com  Tue Nov 16 08:21:30 2010
From: George.Corrado at gd-ais.com (Corrado, George P.)
Date: Tue Nov 16 08:21:41 2010
Subject: [gdal-dev] gdal and Solaris 10
Message-ID: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>

Does anyone know if gdal will work on Solaris 10, if so which of the prebuilt binaries can I use?  Or do I have to build  the binaries from scratch?

Thanks,

George

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/f7f15531/attachment.html
From P.Halls at york.ac.uk  Tue Nov 16 08:35:56 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Tue Nov 16 08:36:08 2010
Subject: [gdal-dev] gdal and Solaris 10
In-Reply-To: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>
References: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>
Message-ID: <4CE288BC.3050002@york.ac.uk>

George,

Corrado, George P. wrote:
> Does anyone know if gdal will work on Solaris 10, if so which of the prebuilt binaries can I use?  Or do I have to build  the binaries from scratch?

Build from scratch is best.  I've been running it on Solaris 10 / Sparc for 
years without problems.  I do not know whether there may be any issues on 
Solaris 10 / Intel, but I do dot see why there should be any.

My version is built using the Sun compilers.

Best wishes,

Peter

> 
> Thanks,
> 
> George
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 323806     Fax: 01904 323740
Snail mail: IT Services, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From George.Corrado at gd-ais.com  Tue Nov 16 08:44:18 2010
From: George.Corrado at gd-ais.com (Corrado, George P.)
Date: Tue Nov 16 08:47:27 2010
Subject: [gdal-dev] gdal and Solaris 10
In-Reply-To: <4CE288BC.3050002@york.ac.uk>
References: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>
	<4CE288BC.3050002@york.ac.uk>
Message-ID: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCDBD@VAFF06-MABPRD01.ad.gd-ais.com>

Ok cool, yeah, I'm trying to build it on a Solaris 10 Sparc system now.  I believe I'm using the Sun compilers as well.  I'm guessing I can't just run the commands below without configuring a bunch of stuff?

% cd gdal
% ./configure
% make
% su
Password: ********
# make install
# exit

Thanks,
George

-----Original Message-----
From: Peter J Halls [mailto:P.Halls@york.ac.uk] 
Sent: Tuesday, November 16, 2010 8:36 AM
To: Corrado, George P.
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] gdal and Solaris 10

George,

Corrado, George P. wrote:
> Does anyone know if gdal will work on Solaris 10, if so which of the prebuilt binaries can I use?  Or do I have to build  the binaries from scratch?

Build from scratch is best.  I've been running it on Solaris 10 / Sparc for 
years without problems.  I do not know whether there may be any issues on 
Solaris 10 / Intel, but I do dot see why there should be any.

My version is built using the Sun compilers.

Best wishes,

Peter

> 
> Thanks,
> 
> George
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 323806     Fax: 01904 323740
Snail mail: IT Services, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From warmerdam at pobox.com  Tue Nov 16 09:40:15 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 16 09:40:20 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <4CE26FAD.2020602@ualg.pt>
References: <4CE1E104.10903@pobox.com> <4CE26FAD.2020602@ualg.pt>
Message-ID: <4CE297CF.6070505@pobox.com>

Joaquim Luis wrote:
> Frank,
> 
> Wouldn't this apply to the netCDF grids as well? GMT has always made the 
> distinction on the area vs point representation. The grids created by 
> GMT hold that information on the global attribute "node_offset". As for 
> other netCDF CF grids created elsewhere it is also possible to find 
> which model is used by checking the grid limits vs array size because 
> for the same limits the PixelIsArea model has one less row and column 
> than the PixelIsPoint.

Joaquim,

The gdal/frmts/netcdf/gmtdataset.cpp code already examines the node_offset
and adjusts the geotransform accordingly.  It does not currently attempt
to expose the node_offset via the AREA_OR_POINT metadata item though it
could.

I do not see the GMT format driver being pertinent to the RFC.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Tue Nov 16 10:04:46 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Tue Nov 16 10:04:48 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gRnJhbmsgRWF0cyBDcm93IC0gb3IgRml4aW5nIFBpeGVsSXNQb2ludCBJbnRlcnByZXRhdGlvbg==?=
Message-ID: <20101116150447.16463.qmail@s466.sureserver.com>

Frank,

Although I agree with your answer to Joaquim's question I would like to extend the subject a little bit.

If I understood the RFC33 correctly the CreateCopy()'s of others driver will not going to fell the effect of that change. I mean, the GeoTransform will still be based on the center of the pixel. That is good.

But for the sake of data quality, for driver/formats that support both reference modes, I believe it will be important to carry away that information to the output. If you take the outputted raster and use it in surface analysis or 3D visualization packages it will be better to know where the pixel reference really is. Right?

IMHO, for those driver, including GTIFF itself, would be nice to know what was the pixel reference of the source dataset in order to make a decision to write reference in a PixelIsPoint or PixelIsArea fashion.

Should we establish some automatic and standard way of dealing with that?

Best regards,

Ivan

>  -------Original Message-------
>  From: Frank Warmerdam <warmerdam@pobox.com>
>  To: Joaquim Luis <jluis@ualg.pt>
>  Cc: gdal-dev <gdal-dev@lists.osgeo.org>
>  Subject: Re: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
>  Sent: Nov 16 '10 09:40
>  
>  Joaquim Luis wrote:
>  > Frank,
>  >
>  > Wouldn't this apply to the netCDF grids as well? GMT has always made the
>  > distinction on the area vs point representation. The grids created by
>  > GMT hold that information on the global attribute "node_offset". As for
>  > other netCDF CF grids created elsewhere it is also possible to find
>  > which model is used by checking the grid limits vs array size because
>  > for the same limits the PixelIsArea model has one less row and column
>  > than the PixelIsPoint.
>  
>  Joaquim,
>  
>  The gdal/frmts/netcdf/gmtdataset.cpp code already examines the node_offset
>  and adjusts the geotransform accordingly.??It does not currently attempt
>  to expose the node_offset via the AREA_OR_POINT metadata item though it
>  could.
>  
>  I do not see the GMT format driver being pertinent to the RFC.
>  
>  Best regards,
>  --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush????| Geospatial Programmer for Rent
>  
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From George.Corrado at gd-ais.com  Tue Nov 16 09:53:52 2010
From: George.Corrado at gd-ais.com (Corrado, George P.)
Date: Tue Nov 16 10:09:05 2010
Subject: [gdal-dev] gdal and Solaris 10
In-Reply-To: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCDBD@VAFF06-MABPRD01.ad.gd-ais.com>
References: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>
	<4CE288BC.3050002@york.ac.uk>
	<E8ACED485A33194F9FDAC00F6DD724FD18B05FCDBD@VAFF06-MABPRD01.ad.gd-ais.com>
Message-ID: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCE4D@VAFF06-MABPRD01.ad.gd-ais.com>

Ok, I've installed gcc and its dependences, but I can't figure out why I'm getting this error when I run make.  Any ideas?

make
(cd port; make)
make[1]: Entering directory `/export/gdal/gdal-1.7.3/port'
/bin/sh /export/gdal/gdal-1.7.3/libtool --mode=compile --tag=CXX g++ -g -O2  -Wall  -DOGR_ENABLED -I/export/gdal/gdal-1.7.3/port          -DHAVE_LIBZ -c -o cpl_conv.lo cpl_conv.cpp
/export/gdal/gdal-1.7.3/libtool: syntax error at line 659: `func_arith_result=$' unexpected
make[1]: *** [cpl_conv.lo] Error 2
make[1]: Leaving directory `/export/gdal/gdal-1.7.3/port'
make: *** [port-target] Error 2

Thanks,
George

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Corrado, George P.
Sent: Tuesday, November 16, 2010 8:44 AM
To: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] gdal and Solaris 10

Ok cool, yeah, I'm trying to build it on a Solaris 10 Sparc system now.  I believe I'm using the Sun compilers as well.  I'm guessing I can't just run the commands below without configuring a bunch of stuff?

% cd gdal
% ./configure
% make
% su
Password: ********
# make install
# exit

Thanks,
George

-----Original Message-----
From: Peter J Halls [mailto:P.Halls@york.ac.uk] 
Sent: Tuesday, November 16, 2010 8:36 AM
To: Corrado, George P.
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] gdal and Solaris 10

George,

Corrado, George P. wrote:
> Does anyone know if gdal will work on Solaris 10, if so which of the prebuilt binaries can I use?  Or do I have to build  the binaries from scratch?

Build from scratch is best.  I've been running it on Solaris 10 / Sparc for 
years without problems.  I do not know whether there may be any issues on 
Solaris 10 / Intel, but I do dot see why there should be any.

My version is built using the Sun compilers.

Best wishes,

Peter

> 
> Thanks,
> 
> George
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 323806     Fax: 01904 323740
Snail mail: IT Services, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Tue Nov 16 10:54:34 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 16 10:54:38 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <20101116150447.16463.qmail@s466.sureserver.com>
References: <20101116150447.16463.qmail@s466.sureserver.com>
Message-ID: <4CE2A93A.5060000@pobox.com>

Ivan Lucena wrote:
> Frank,
> 
> Although I agree with your answer to Joaquim's question I would like to
> extend the subject a little bit.
> 
> If I understood the RFC33 correctly the CreateCopy()'s of others driver will
> not going to fell the effect of that change. I mean, the GeoTransform will
> still be based on the center of the pixel. That is good.
> 
> But for the sake of data quality, for driver/formats that support both
> reference modes, I believe it will be important to carry away that
> information to the output. If you take the outputted raster and use it in
> surface analysis or 3D visualization packages it will be better to know
> where the pixel reference really is. Right?
 >
 > IMHO, for those driver, including GTIFF itself, would be nice to know what
 > was the pixel reference of the source dataset in order to make a decision to
 > write reference in a PixelIsPoint or PixelIsArea fashion.
 > should we establish some automatic and standard way of dealing with that?

Ivan,

In fact, I strongly disagree with conflating the sampling technique of
the sensor (area average vs. point sample) with the georeferencing.  And
for formats that can store the georeferencing based on either a top left
corner of top left pixel vs. a center of top left pixel form, I see no
value in distinguishing them.  There is no real significance.

So, in my opinion, the only reason we might consider doing something with
the GMT driver at this point is if we decide that the node_offset is really
intended to indicate something about the sampling nature of the sensor.
If so, we might want to set it based on the AREA_OR_POINT metadata on write
and set the AREA_OR_POINT metadata on read.

I don't know enough about the GMT format to know if there is intended to
be some physical significance to the node_offset setting.

I will note that the AREA_OR_POINT metadata item is already well defined
in the GDAL Data Model document.  It says:

"""
AREA_OR_POINT: May be either "Area" (the default) or "Point". Indicates whether 
a pixel value should be assumed to represent a sampling over the region of the 
pixel or a point sample at the center of the pixel. This is not intended to 
influence interpretation of georeferencing which remains area oriented.
"""

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Tue Nov 16 12:13:36 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue Nov 16 12:13:50 2010
Subject: [gdal-dev] Frank Eats Crow - or Fixing PixelIsPoint Interpretation
In-Reply-To: <4CE2A93A.5060000@pobox.com>
References: <20101116150447.16463.qmail@s466.sureserver.com>
	<4CE2A93A.5060000@pobox.com>
Message-ID: <4CE2BBC0.8030203@ualg.pt>

On 16-11-2010 15:54, Frank Warmerdam wrote:
> Ivan Lucena wrote:
>> Frank,
>>
>> Although I agree with your answer to Joaquim's question I would like to
>> extend the subject a little bit.
>>
>> If I understood the RFC33 correctly the CreateCopy()'s of others 
>> driver will
>> not going to fell the effect of that change. I mean, the GeoTransform 
>> will
>> still be based on the center of the pixel. That is good.
>>
>> But for the sake of data quality, for driver/formats that support both
>> reference modes, I believe it will be important to carry away that
>> information to the output. If you take the outputted raster and use 
>> it in
>> surface analysis or 3D visualization packages it will be better to know
>> where the pixel reference really is. Right?
> >
> > IMHO, for those driver, including GTIFF itself, would be nice to 
> know what
> > was the pixel reference of the source dataset in order to make a 
> decision to
> > write reference in a PixelIsPoint or PixelIsArea fashion.
> > should we establish some automatic and standard way of dealing with 
> that?
>
> Ivan,
>
> In fact, I strongly disagree with conflating the sampling technique of
> the sensor (area average vs. point sample) with the georeferencing.  And
> for formats that can store the georeferencing based on either a top left
> corner of top left pixel vs. a center of top left pixel form, I see no
> value in distinguishing them.  There is no real significance.
>
> So, in my opinion, the only reason we might consider doing something with
> the GMT driver at this point is if we decide that the node_offset is 
> really
> intended to indicate something about the sampling nature of the sensor.
> If so, we might want to set it based on the AREA_OR_POINT metadata on 
> write
> and set the AREA_OR_POINT metadata on read.
>
> I don't know enough about the GMT format to know if there is intended to
> be some physical significance to the node_offset setting.
>
> I will note that the AREA_OR_POINT metadata item is already well defined
> in the GDAL Data Model document.  It says:
>
> """
> AREA_OR_POINT: May be either "Area" (the default) or "Point". 
> Indicates whether a pixel value should be assumed to represent a 
> sampling over the region of the pixel or a point sample at the center 
> of the pixel. This is not intended to influence interpretation of 
> georeferencing which remains area oriented.
> """

Frank, Ivan

I was not sure that my question was 100% related to this RFC but I guess 
my reasoning (a bit like Ivan) is, if it is acknowledged that GeoTiff 
can have both models why that information is not carried on when 
converting to other formats that also distinguish between Area vs Point?

I cannot answer to the question if there is any particular physical 
meaning on the PixelIsPoint representation (which in GMT is represented 
by node_offset = 0). Maybe not or maybe yes. The thing is many people 
can create netCDF grids with different softwares. Regarding this point, 
we should not be talking specifically on the GMT driver because it deals 
with the old and deprecated format. Now GMT creates only netCDF CF files 
(which are dealt with the generic netCDF format).

Joaquim


From warmerdam at pobox.com  Tue Nov 16 13:29:46 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 16 13:29:52 2010
Subject: [gdal-dev] S57 utilities
In-Reply-To: <3C951F86A458CD4EBA86837EDC115AE87B2148@massenet.hitt.home>
References: <3C951F86A458CD4EBA86837EDC115AE87B2148@massenet.hitt.home>
Message-ID: <4CE2CD9A.6090402@pobox.com>

Hogendoorn, Rene wrote:
> I noticed that, in the GNUMakefile in the ogr/ogr_frmts/s57 directory, 
> two utilities are mentioned for which there is no source code.
> This concerns mks57 and write_soundg. What happened to these utilities? 
> Should they be removed from the makefile?
> Regards,

Rene,

They were removed - I'm not sure why.  Likely because they were not being
maintained any more.  I have removed them from the makefile in trunk.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From creta.kano at gmail.com  Tue Nov 16 13:37:52 2010
From: creta.kano at gmail.com (sophia parafina)
Date: Tue Nov 16 13:37:57 2010
Subject: [gdal-dev] gdal and Solaris 10
In-Reply-To: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCDBD@VAFF06-MABPRD01.ad.gd-ais.com>
References: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>
	<4CE288BC.3050002@york.ac.uk>
	<E8ACED485A33194F9FDAC00F6DD724FD18B05FCDBD@VAFF06-MABPRD01.ad.gd-ais.com>
Message-ID: <AANLkTi=RO56yTG5YnsbzE+CdQw09ZpmEoBku602Sn8cP@mail.gmail.com>

I keep forgetting to hit reply to all in gmail... so here's the conversation

I've used the compiler and utilties at http://www.sunfreeware.com/ to
compile gdal successfully.

sophia

On Tue, Nov 16, 2010 at 8:44 AM, Corrado, George P. <
George.Corrado@gd-ais.com> wrote:

> Ok cool, yeah, I'm trying to build it on a Solaris 10 Sparc system now.  I
> believe I'm using the Sun compilers as well.  I'm guessing I can't just run
> the commands below without configuring a bunch of stuff?
>
> % cd gdal
> % ./configure
> % make
> % su
> Password: ********
> # make install
> # exit
>
> Thanks,
> George
>
> -----Original Message-----
> From: Peter J Halls [mailto:P.Halls@york.ac.uk]
> Sent: Tuesday, November 16, 2010 8:36 AM
> To: Corrado, George P.
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] gdal and Solaris 10
>
> George,
>
> Corrado, George P. wrote:
> > Does anyone know if gdal will work on Solaris 10, if so which of the
> prebuilt binaries can I use?  Or do I have to build  the binaries from
> scratch?
>
> Build from scratch is best.  I've been running it on Solaris 10 / Sparc for
> years without problems.  I do not know whether there may be any issues on
> Solaris 10 / Intel, but I do dot see why there should be any.
>
> My version is built using the Sun compilers.
>
> Best wishes,
>
> Peter
>
> >
> > Thanks,
> >
> > George
> >
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
>
> --------------------------------------------------------------------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 323806     Fax: 01904 323740
> Snail mail: IT Services, University of York, Heslington, York YO10 5DD
> This message has the status of a private and personal communication
>
> --------------------------------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/c17c0b27/attachment.html
From creta.kano at gmail.com  Tue Nov 16 13:38:29 2010
From: creta.kano at gmail.com (sophia parafina)
Date: Tue Nov 16 13:38:33 2010
Subject: [gdal-dev] gdal and Solaris 10
In-Reply-To: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCE4D@VAFF06-MABPRD01.ad.gd-ais.com>
References: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>
	<4CE288BC.3050002@york.ac.uk>
	<E8ACED485A33194F9FDAC00F6DD724FD18B05FCDBD@VAFF06-MABPRD01.ad.gd-ais.com>
	<E8ACED485A33194F9FDAC00F6DD724FD18B05FCE4D@VAFF06-MABPRD01.ad.gd-ais.com>
Message-ID: <AANLkTinD=TsQS0RJkME5Canhod+LX3WgPfNJ=UiLtd-0@mail.gmail.com>

see http://trac.osgeo.org/gdal/ticket/3670

On Tue, Nov 16, 2010 at 9:53 AM, Corrado, George P. <
George.Corrado@gd-ais.com> wrote:

> Ok, I've installed gcc and its dependences, but I can't figure out why I'm
> getting this error when I run make.  Any ideas?
>
> make
> (cd port; make)
> make[1]: Entering directory `/export/gdal/gdal-1.7.3/port'
> /bin/sh /export/gdal/gdal-1.7.3/libtool --mode=compile --tag=CXX g++ -g -O2
>  -Wall  -DOGR_ENABLED -I/export/gdal/gdal-1.7.3/port          -DHAVE_LIBZ -c
> -o cpl_conv.lo cpl_conv.cpp
> /export/gdal/gdal-1.7.3/libtool: syntax error at line 659:
> `func_arith_result=$' unexpected
> make[1]: *** [cpl_conv.lo] Error 2
> make[1]: Leaving directory `/export/gdal/gdal-1.7.3/port'
> make: *** [port-target] Error 2
>
> Thanks,
> George
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:
> gdal-dev-bounces@lists.osgeo.org] On Behalf Of Corrado, George P.
> Sent: Tuesday, November 16, 2010 8:44 AM
> To: gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] gdal and Solaris 10
>
> Ok cool, yeah, I'm trying to build it on a Solaris 10 Sparc system now.  I
> believe I'm using the Sun compilers as well.  I'm guessing I can't just run
> the commands below without configuring a bunch of stuff?
>
> % cd gdal
> % ./configure
> % make
> % su
> Password: ********
> # make install
> # exit
>
> Thanks,
> George
>
> -----Original Message-----
> From: Peter J Halls [mailto:P.Halls@york.ac.uk]
> Sent: Tuesday, November 16, 2010 8:36 AM
> To: Corrado, George P.
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] gdal and Solaris 10
>
> George,
>
> Corrado, George P. wrote:
> > Does anyone know if gdal will work on Solaris 10, if so which of the
> prebuilt binaries can I use?  Or do I have to build  the binaries from
> scratch?
>
> Build from scratch is best.  I've been running it on Solaris 10 / Sparc for
> years without problems.  I do not know whether there may be any issues on
> Solaris 10 / Intel, but I do dot see why there should be any.
>
> My version is built using the Sun compilers.
>
> Best wishes,
>
> Peter
>
> >
> > Thanks,
> >
> > George
> >
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
>
> --------------------------------------------------------------------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 323806     Fax: 01904 323740
> Snail mail: IT Services, University of York, Heslington, York YO10 5DD
> This message has the status of a private and personal communication
>
> --------------------------------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/4875a403/attachment.html
From creta.kano at gmail.com  Tue Nov 16 13:43:55 2010
From: creta.kano at gmail.com (sophia parafina)
Date: Tue Nov 16 13:44:01 2010
Subject: [gdal-dev] gdal and Solaris 10
In-Reply-To: <E8ACED485A33194F9FDAC00F6DD724FD18B079567A@VAFF06-MABPRD01.ad.gd-ais.com>
References: <E8ACED485A33194F9FDAC00F6DD724FD18B05FCD84@VAFF06-MABPRD01.ad.gd-ais.com>
	<4CE288BC.3050002@york.ac.uk>
	<E8ACED485A33194F9FDAC00F6DD724FD18B05FCDBD@VAFF06-MABPRD01.ad.gd-ais.com>
	<E8ACED485A33194F9FDAC00F6DD724FD18B05FCE4D@VAFF06-MABPRD01.ad.gd-ais.com>
	<AANLkTimErx+R6mQyc+xLNgao24OC_jMKZvsiudwDMZKD@mail.gmail.com>
	<E8ACED485A33194F9FDAC00F6DD724FD18B079567A@VAFF06-MABPRD01.ad.gd-ais.com>
Message-ID: <AANLkTi=3SAUutV5ZiubKWYosZJ57LP2=0ipRZNdYhzC9@mail.gmail.com>

Yes those files sounds right, but I haven't repackaged gdal in a couple of
years and I think I just grabbed all the libs and bin files and stuck them
into the appropriate directories. Good luck on your app.

sophia

On Tue, Nov 16, 2010 at 12:55 PM, Corrado, George P. <
George.Corrado@gd-ais.com> wrote:

>  Great, Thanks a bunch  Sophia.  That article did the trick.  It took a
> while for everything to compile, but once it was finished I ran the make
> install, and it looks like it created some files in the /usr/local/bin and
> /usr/local/lib directory?s.
>
>
>
> So now that I have my .so files, if I need to include them into my main Java project install, can I just take the files from /usr/local/lib ?  I think the only files I need to take are libgdal.a, libgdal.la, libgdal.so, libgdal.so.1, and libgdal.so.1.14.3, unless there are some that you can think of.  I know they need to be on the LD_LIBRARY_PATH, which I will do in my own install scripts. Oh and also copy the gdal binary files from /usr/local/bin.
>
>
>
> Anyway, this was a huge help to me, so thanks!
>
>
>
> George
>
>
>
>
>
> *From:* sophia parafina [mailto:creta.kano@gmail.com]
> *Sent:* Tuesday, November 16, 2010 10:22 AM
> *To:* Corrado, George P.
>
> *Subject:* Re: [gdal-dev] gdal and Solaris 10
>
>
>
> see http://trac.osgeo.org/gdal/ticket/3670
>
> On Tue, Nov 16, 2010 at 9:53 AM, Corrado, George P. <
> George.Corrado@gd-ais.com> wrote:
>
> Ok, I've installed gcc and its dependences, but I can't figure out why I'm
> getting this error when I run make.  Any ideas?
>
> make
> (cd port; make)
> make[1]: Entering directory `/export/gdal/gdal-1.7.3/port'
> /bin/sh /export/gdal/gdal-1.7.3/libtool --mode=compile --tag=CXX g++ -g -O2
>  -Wall  -DOGR_ENABLED -I/export/gdal/gdal-1.7.3/port          -DHAVE_LIBZ -c
> -o cpl_conv.lo cpl_conv.cpp
> /export/gdal/gdal-1.7.3/libtool: syntax error at line 659:
> `func_arith_result=$' unexpected
> make[1]: *** [cpl_conv.lo] Error 2
> make[1]: Leaving directory `/export/gdal/gdal-1.7.3/port'
> make: *** [port-target] Error 2
>
> Thanks,
> George
>
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:
> gdal-dev-bounces@lists.osgeo.org] On Behalf Of Corrado, George P.
> Sent: Tuesday, November 16, 2010 8:44 AM
> To: gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] gdal and Solaris 10
>
> Ok cool, yeah, I'm trying to build it on a Solaris 10 Sparc system now.  I
> believe I'm using the Sun compilers as well.  I'm guessing I can't just run
> the commands below without configuring a bunch of stuff?
>
> % cd gdal
> % ./configure
> % make
> % su
> Password: ********
> # make install
> # exit
>
> Thanks,
> George
>
> -----Original Message-----
> From: Peter J Halls [mailto:P.Halls@york.ac.uk]
> Sent: Tuesday, November 16, 2010 8:36 AM
> To: Corrado, George P.
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] gdal and Solaris 10
>
> George,
>
> Corrado, George P. wrote:
> > Does anyone know if gdal will work on Solaris 10, if so which of the
> prebuilt binaries can I use?  Or do I have to build  the binaries from
> scratch?
>
> Build from scratch is best.  I've been running it on Solaris 10 / Sparc for
> years without problems.  I do not know whether there may be any issues on
> Solaris 10 / Intel, but I do dot see why there should be any.
>
> My version is built using the Sun compilers.
>
> Best wishes,
>
> Peter
>
> >
> > Thanks,
> >
> > George
> >
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
>
> --------------------------------------------------------------------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 323806     Fax: 01904 323740
> Snail mail: IT Services, University of York, Heslington, York YO10 5DD
> This message has the status of a private and personal communication
>
> --------------------------------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/5c8cf4dc/attachment-0001.html
From scott at agi.com  Tue Nov 16 15:34:50 2010
From: scott at agi.com (agisar)
Date: Tue Nov 16 15:34:54 2010
Subject: [gdal-dev] Re: ImportError: No module named gdal
In-Reply-To: <4B9A3DD3.3090508@pobox.com>
References: <1268398387.11866.4.camel@theuns-laptop>
	<4B9A3DD3.3090508@pobox.com>
Message-ID: <1289939690466-5745372.post@n2.nabble.com>


I also was getting that import error and had to make sure that I was pointing
to the python included with FWTools.  Then I got this:

Traceback (most recent call last):
  File "gdal_merge.py", line 463, in ?
    sys.exit(main())
  File "gdal_merge.py", line 433, in main
    if quiet == 0 and verbose == 0:
UnboundLocalError: local variable 'quiet' referenced before assignment

An output file is produced, but is all black.  Export from OpenEV produces
the expected result.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-ImportError-No-module-named-gdal-tp4721899p5745372.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From szekerest at gmail.com  Tue Nov 16 16:55:58 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Nov 16 16:56:04 2010
Subject: [gdal-dev] Motion: Adopt RFC 32: gdallocationinfo utility
In-Reply-To: <4CE189A1.4090603@pobox.com>
References: <4CE189A1.4090603@pobox.com>
Message-ID: <AANLkTik_5Dad-fO6DHo_km04Qw5y90XOiJU0yk0giRv3@mail.gmail.com>

2010/11/15 Frank Warmerdam <warmerdam@pobox.com>

>
> I have made a couple changes to gdallocationinfo based on feedback I
> received when bringing it up for discussion. I am not motioning to adopt
> RFC 32, making gdallocationinfo an "official" GDAL utility, installed
> by default, documented and supported:
>


+1

(Assuming you've meant to say "I am now motioning to adopt..." ;-)


Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/f6fdfeb9/attachment.html
From warmerdam at pobox.com  Tue Nov 16 17:40:02 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 16 17:40:07 2010
Subject: [gdal-dev] Motion: Adopt RFC 32: gdallocationinfo utility
In-Reply-To: <AANLkTik_5Dad-fO6DHo_km04Qw5y90XOiJU0yk0giRv3@mail.gmail.com>
References: <4CE189A1.4090603@pobox.com>
	<AANLkTik_5Dad-fO6DHo_km04Qw5y90XOiJU0yk0giRv3@mail.gmail.com>
Message-ID: <4CE30842.4010007@pobox.com>

Tamas Szekeres wrote:
> 
> 
> 2010/11/15 Frank Warmerdam <warmerdam@pobox.com 
> <mailto:warmerdam@pobox.com>>
> 
> 
>     I have made a couple changes to gdallocationinfo based on feedback I
>     received when bringing it up for discussion. I am not motioning to adopt
>     RFC 32, making gdallocationinfo an "official" GDAL utility, installed
>     by default, documented and supported:
> 
> 
> 
> +1
> 
> (Assuming you've meant to say "I am now motioning to adopt..." ;-)

Tamas,

Yes, that was my intention.

Thanks,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From smith.todd at gmail.com  Tue Nov 16 19:28:10 2010
From: smith.todd at gmail.com (Todd Smith)
Date: Tue Nov 16 19:28:33 2010
Subject: [gdal-dev] How do I find the anchor point in file?
Message-ID: <AANLkTimFWU8j5+RU4ub2Y9QHU_Rut-AeYdpB-KYDE-ZZ@mail.gmail.com>

The default way of doing things at my company is to treat the lower left
corner of a file as the origin.  Thus when I call RasterIO on a GeoTIFF, I
make the buffer I pass as pData address to the last row of the buffer I've
allocated, and I make nLineSpace negative.  This has the effect of reading
the file from the beginning, but placing each line into my buffer starting
at the last and finishing at the first line.  This was working great until I
started reading ArcInfo/Ascii files with origins in the lower-left.  In this
case, I wouldn't want to address to the last row of my buffer, I'd want to
address to the beginning of my buffer, and use a positive value for my line
space.

Is there metadata that will tell me where the file's origin is?  If not, any
suggestions as to how to deal with this problem?

Thanks!

Todd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/f3bc4935/attachment.html
From ksshannon at gmail.com  Tue Nov 16 20:22:24 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue Nov 16 20:22:41 2010
Subject: [gdal-dev] How do I find the anchor point in file?
In-Reply-To: <AANLkTimFWU8j5+RU4ub2Y9QHU_Rut-AeYdpB-KYDE-ZZ@mail.gmail.com>
References: <AANLkTimFWU8j5+RU4ub2Y9QHU_Rut-AeYdpB-KYDE-ZZ@mail.gmail.com>
Message-ID: <AANLkTin1oqSrKATBpskuORyUx4ygAWAobvv_-cx5nZaz@mail.gmail.com>

I am not totally sure, but I believe that the gdal data model always uses
the upper left corner for the origin, even on files that reference the lower
left in space. I think this is also the way rasterio handles it.  See
RasterIO docs:

http://gdal.org/classGDALDataset.html#e077c53268d2272eebed10b891a05743

Specifically the nXOff and nYOff parameters.

kss
# ============================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
# ============================


On Tue, Nov 16, 2010 at 5:28 PM, Todd Smith <smith.todd@gmail.com> wrote:

> The default way of doing things at my company is to treat the lower left
> corner of a file as the origin.  Thus when I call RasterIO on a GeoTIFF, I
> make the buffer I pass as pData address to the last row of the buffer I've
> allocated, and I make nLineSpace negative.  This has the effect of reading
> the file from the beginning, but placing each line into my buffer starting
> at the last and finishing at the first line.  This was working great until I
> started reading ArcInfo/Ascii files with origins in the lower-left.  In this
> case, I wouldn't want to address to the last row of my buffer, I'd want to
> address to the beginning of my buffer, and use a positive value for my line
> space.
>
> Is there metadata that will tell me where the file's origin is?  If not,
> any suggestions as to how to deal with this problem?
>
> Thanks!
>
> Todd
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101116/c621e431/attachment.html
From nbest at ci.uchicago.edu  Tue Nov 16 23:41:19 2010
From: nbest at ci.uchicago.edu (Neil Best)
Date: Tue Nov 16 23:41:21 2010
Subject: [gdal-dev] rasterlite creation error
Message-ID: <1289968879857-5746493.post@n2.nabble.com>


What does this mean?


$ gdal_translate -of Rasterlite /data/grass/global/cusa/cellhd/agc_crop
cusa.db -co DRIVER=PNG
Input file size is 695, 298
ERROR 1: In ExecuteSQL(): sqlite3_prepare(SELECT
AddGeometryColumn('cusa_metadata', 'geometry', -1, 'POLYGON', \
2)):
  no such function: AddGeometryColumn
ERROR 1: Check that the OGR SQLite driver has Spatialite support


Both GDAL and OGR report that SQLite is a supported format.  I am able to
ogrinfo world.sqlite from the SpatiaLite site, but not SRTM.sqlite.  Any
ideas?  Something wrong with my SQLite libraries or my paths?
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/rasterlite-creation-error-tp5746493p5746493.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Wed Nov 17 00:06:51 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Nov 17 00:06:55 2010
Subject: [gdal-dev] rasterlite creation error
In-Reply-To: <1289968879857-5746493.post@n2.nabble.com>
References: <1289968879857-5746493.post@n2.nabble.com>
Message-ID: <AANLkTim0m3iLaJaQfbqL+dqjtzZcq+MZOt_++R_QoA3m@mail.gmail.com>

Neil,

OGR's SQLite driver can read a SpatiaLite database without the SpatiaLite
library. The library is needed only for the extra features like indexes,
functions, etc. So, you probably don't have SpatiaLite configured right.


On Wed, Nov 17, 2010 at 10:11 AM, Neil Best <nbest@ci.uchicago.edu> wrote:

>
> What does this mean?
>
>
> $ gdal_translate -of Rasterlite /data/grass/global/cusa/cellhd/agc_crop
> cusa.db -co DRIVER=PNG
> Input file size is 695, 298
> ERROR 1: In ExecuteSQL(): sqlite3_prepare(SELECT
> AddGeometryColumn('cusa_metadata', 'geometry', -1, 'POLYGON', \
> 2)):
>  no such function: AddGeometryColumn
> ERROR 1: Check that the OGR SQLite driver has Spatialite support
>
>
> Both GDAL and OGR report that SQLite is a supported format.  I am able to
> ogrinfo world.sqlite from the SpatiaLite site, but not SRTM.sqlite.  Any
> ideas?  Something wrong with my SQLite libraries or my paths?
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/rasterlite-creation-error-tp5746493p5746493.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101117/9e91cc52/attachment.html
From sebastian.ovide at gmail.com  Wed Nov 17 05:10:51 2010
From: sebastian.ovide at gmail.com (Sebastian E. Ovide)
Date: Wed Nov 17 05:11:16 2010
Subject: [gdal-dev] src server down
Message-ID: <AANLkTi=wJEciKdVkxaifAG86e_tz5Ok=aMgEhm6eR+GK@mail.gmail.com>

Hi all,

trying to get the sources from
http://download.osgeo.org/gdal/gdal173.zipbut the server is down

thanks

-- 
Sebastian E. Ovide
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101117/cf77fc2e/attachment-0001.html
From j.donovan at virtalis.com  Wed Nov 17 05:33:15 2010
From: j.donovan at virtalis.com (John Donovan)
Date: Wed Nov 17 05:33:20 2010
Subject: [gdal-dev] src server down
References: <AANLkTi=wJEciKdVkxaifAG86e_tz5Ok=aMgEhm6eR+GK@mail.gmail.com>
Message-ID: <C8891C79DFCAB347B9221DF3890EDD2F7B4C5D@topdog.Virtalis.local>

Works for me, although it may have come back up over the past 20 mins).

-JD

________________________________

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Sebastian E.
Ovide
Sent: 17 November 2010 10:11
To: gdal-dev
Subject: [gdal-dev] src server down


Hi all, 

trying to get the sources from
http://download.osgeo.org/gdal/gdal173.zip but the server is down

thanks

-- 
Sebastian E. Ovide






...


...
From jrepetto at free.fr  Wed Nov 17 05:31:39 2010
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Wed Nov 17 06:03:24 2010
Subject: [gdal-dev] src server down
In-Reply-To: <AANLkTi=wJEciKdVkxaifAG86e_tz5Ok=aMgEhm6eR+GK@mail.gmail.com>
References: <AANLkTi=wJEciKdVkxaifAG86e_tz5Ok=aMgEhm6eR+GK@mail.gmail.com>
Message-ID: <4CE3AF0B.7030308@free.fr>

Le 17/11/2010 11:10, Sebastian E. Ovide a ?crit :
>
> trying to get the sources from
> http://download.osgeo.org/gdal/gdal173.zip but the server is down
>

Hi,

No problems here, the server is responding.

Jean-Claude
From anders.moe at geocap.no  Wed Nov 17 07:29:23 2010
From: anders.moe at geocap.no (Anders Moe)
Date: Wed Nov 17 07:29:26 2010
Subject: [gdal-dev] what does "Ring Self-intersection at or near point"
	really mean ?
Message-ID: <AANLkTikZnH7v9m42KPQGM4kXBe+DZCMcXC8r=bFHDO5q@mail.gmail.com>

Hi everyone

I'm generally getting a lot of



GDAL warning: 1 : Ring Self-intersection at or near point 382104
7.21604e+006


-- 
when importing shapefiles that are assumed to be of good quality. I dont see
these kind of errors when importing into ArcCatalog. This also leads to
OGRGeometry not being valid.

Anyone knows what's behind this ?

Thanks,
Anders
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101117/1227cb4d/attachment.html
From smith.todd at gmail.com  Wed Nov 17 12:27:59 2010
From: smith.todd at gmail.com (Todd Smith)
Date: Wed Nov 17 12:28:22 2010
Subject: [gdal-dev] How do I find the anchor point in file?
In-Reply-To: <AANLkTin1oqSrKATBpskuORyUx4ygAWAobvv_-cx5nZaz@mail.gmail.com>
References: <AANLkTimFWU8j5+RU4ub2Y9QHU_Rut-AeYdpB-KYDE-ZZ@mail.gmail.com>
	<AANLkTin1oqSrKATBpskuORyUx4ygAWAobvv_-cx5nZaz@mail.gmail.com>
Message-ID: <AANLkTik1AogKrZS=F106nACBQkVd9F7+49LRkfTqMx_H@mail.gmail.com>

Yeah and a little more investigation on my part showed me that Arc/Info
ASCII Grid files have their origin in the upper left anyway, even though
they have their lat/long coords in the lower left.  This is from
gCore\rasterio.cpp (line 243in 1.6.2).  In my RGB reads, with a nPixelSpace
of 3 and a nBufDataSize of 1, I could get away get away with having GDAL
"flip" my file data for me by using a negative value for nLineSpace because
GDALCopyWords handled that.  Memcpy doesn't do well with a negative value
for nLineSpace :).  It looks like I'll have to have another function flip my
buffer from top to bottom after my RasterIO call.
for(int k=0; k<kmax;k++)
{
    if( eDataType == eBufType
        && nPixelSpace == nBufDataSize )
    {
        if( eRWFlag == GF_Read )
            memcpy( ((GByte *) pData) + iBufOffset + k * nLineSpace,
                    pabySrcBlock + iSrcOffset, nXSpanSize );
        else
            memcpy( pabySrcBlock + iSrcOffset,
                    ((GByte *) pData) + iBufOffset + k * nLineSpace,
nXSpanSize );
    }
    else
    {
        /* type to type conversion */

        if( eRWFlag == GF_Read )
            GDALCopyWords( pabySrcBlock + iSrcOffset,
                        eDataType, nBandDataSize,
                        ((GByte *) pData) + iBufOffset + k * nLineSpace,
                        eBufType, nPixelSpace, nXSpan );
        else
            GDALCopyWords( ((GByte *) pData) + iBufOffset + k * nLineSpace,
                        eBufType, nPixelSpace,
                        pabySrcBlock + iSrcOffset,
                        eDataType, nBandDataSize, nXSpan );
    }

    iSrcOffset += nBlockXSize * nBandDataSize;
}
 Thanks,

Todd

On Tue, Nov 16, 2010 at 6:22 PM, Kyle Shannon <ksshannon@gmail.com> wrote:

> I am not totally sure, but I believe that the gdal data model always uses
> the upper left corner for the origin, even on files that reference the lower
> left in space. I think this is also the way rasterio handles it.  See
> RasterIO docs:
>
> http://gdal.org/classGDALDataset.html#e077c53268d2272eebed10b891a05743
>
> Specifically the nXOff and nYOff parameters.
>
> kss
> # ============================
> Kyle Shannon
> Physical Science Technician
> RMRS Fire Sciences Lab
> Fire, Fuels & Smoke - RWU 4405
> 5775 Highway 10 W.
> Missoula, MT 59808
> (406)829-6954
> kshannon@fs.fed.us
> # ============================
>
>
>   On Tue, Nov 16, 2010 at 5:28 PM, Todd Smith <smith.todd@gmail.com>wrote:
>
>>   The default way of doing things at my company is to treat the lower
>> left corner of a file as the origin.  Thus when I call RasterIO on a
>> GeoTIFF, I make the buffer I pass as pData address to the last row of the
>> buffer I've allocated, and I make nLineSpace negative.  This has the effect
>> of reading the file from the beginning, but placing each line into my buffer
>> starting at the last and finishing at the first line.  This was working
>> great until I started reading ArcInfo/Ascii files with origins in the
>> lower-left.  In this case, I wouldn't want to address to the last row of my
>> buffer, I'd want to address to the beginning of my buffer, and use a
>> positive value for my line space.
>>
>> Is there metadata that will tell me where the file's origin is?  If not,
>> any suggestions as to how to deal with this problem?
>>
>> Thanks!
>>
>> Todd
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101117/cf5546b3/attachment.html
From warmerdam at pobox.com  Wed Nov 17 12:32:00 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 17 12:32:06 2010
Subject: [gdal-dev] How do I find the anchor point in file?
In-Reply-To: <AANLkTik1AogKrZS=F106nACBQkVd9F7+49LRkfTqMx_H@mail.gmail.com>
References: <AANLkTimFWU8j5+RU4ub2Y9QHU_Rut-AeYdpB-KYDE-ZZ@mail.gmail.com>
	<AANLkTin1oqSrKATBpskuORyUx4ygAWAobvv_-cx5nZaz@mail.gmail.com>
	<AANLkTik1AogKrZS=F106nACBQkVd9F7+49LRkfTqMx_H@mail.gmail.com>
Message-ID: <4CE41190.9030905@pobox.com>

Todd Smith wrote:
> Yeah and a little more investigation on my part showed me that Arc/Info 
> ASCII Grid files have their origin in the upper left anyway, even though 
> they have their lat/long coords in the lower left.  This is from 
> gCore\rasterio.cpp (line 243in 1.6.2).  In my RGB reads, with a 
> nPixelSpace of 3 and a nBufDataSize of 1, I could get away get away with 
> having GDAL "flip" my file data for me by using a negative value for 
> nLineSpace because GDALCopyWords handled that.  Memcpy doesn't do well 
> with a negative value for nLineSpace :).  It looks like I'll have to 
> have another function flip my buffer from top to bottom after my 
> RasterIO call. 

Todd,

Negative values are supposed to be accepted for line spacings.  If you have
found a case where it fails please file a ticket on the issue.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From smith.todd at gmail.com  Wed Nov 17 13:37:00 2010
From: smith.todd at gmail.com (Todd Smith)
Date: Wed Nov 17 13:37:23 2010
Subject: [gdal-dev] How do I find the anchor point in file?
In-Reply-To: <4CE41190.9030905@pobox.com>
References: <AANLkTimFWU8j5+RU4ub2Y9QHU_Rut-AeYdpB-KYDE-ZZ@mail.gmail.com>
	<AANLkTin1oqSrKATBpskuORyUx4ygAWAobvv_-cx5nZaz@mail.gmail.com>
	<AANLkTik1AogKrZS=F106nACBQkVd9F7+49LRkfTqMx_H@mail.gmail.com>
	<4CE41190.9030905@pobox.com>
Message-ID: <AANLkTikLXoyZaz_X5z=BhT3JBc0xv9btK971rb0OJREX@mail.gmail.com>

Looking into it more closely, a setting was incorrect in my parameter file
that my code was referencing.  It was allocating the wrong size buffer
because it was thinking it was creating RGB data instead of elevation data.
No bug, and now no more problems.

Thanks,

Todd

On Wed, Nov 17, 2010 at 10:32 AM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Todd Smith wrote:
>
>> Yeah and a little more investigation on my part showed me that Arc/Info
>> ASCII Grid files have their origin in the upper left anyway, even though
>> they have their lat/long coords in the lower left.  This is from
>> gCore\rasterio.cpp (line 243in 1.6.2).  In my RGB reads, with a nPixelSpace
>> of 3 and a nBufDataSize of 1, I could get away get away with having GDAL
>> "flip" my file data for me by using a negative value for nLineSpace because
>> GDALCopyWords handled that.  Memcpy doesn't do well with a negative value
>> for nLineSpace :).  It looks like I'll have to have another function flip my
>> buffer from top to bottom after my RasterIO call.
>>
>
> Todd,
>
> Negative values are supposed to be accepted for line spacings.  If you have
> found a case where it fails please file a ticket on the issue.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101117/b8547cf9/attachment.html
From osgeo.mailinglist at gmail.com  Wed Nov 17 16:07:43 2010
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Wed Nov 17 16:08:06 2010
Subject: [gdal-dev] what does "Ring Self-intersection at or near point"
	really mean ?
In-Reply-To: <AANLkTikZnH7v9m42KPQGM4kXBe+DZCMcXC8r=bFHDO5q@mail.gmail.com>
References: <AANLkTikZnH7v9m42KPQGM4kXBe+DZCMcXC8r=bFHDO5q@mail.gmail.com>
Message-ID: <AANLkTikE8DxvaZVG7=Vbt16F1qWzx_9E1irNc8zGpCo3@mail.gmail.com>

Hello,

I suppose it's similar to Postgis I know better. See this old post
http://www.davidgis.fr/blog/index.php?2007/05/11 to understand.
It seems to be related to OpenGIS Simple Features for
SQL<http://www.opengeospatial.org/standards/sfs>

Regards

ThomasG
GIS specialist
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101117/75311e1e/attachment.html
From Ken.Boss at state.mn.us  Wed Nov 17 19:38:38 2010
From: Ken.Boss at state.mn.us (Boss, Ken (DNR))
Date: Wed Nov 17 19:38:49 2010
Subject: [gdal-dev] KernelFilteredSource and nodata
Message-ID: <4CF306D7079ED548B6AB1864F369FE78084DFCB5AD@MNMAIL05.ead.state.mn.us>

Hello list--

I am attempting to filter a raster using gdal_translate (v 1.7) and a vrt with a KernelFilteredSource.  The input raster contains large areas of "nodata" values.  I would like the filter to ignore those areas.  I have tried various combinations of <NoDataValue>, <HideNoDataValue>, <NODATA> and <Kernel normalized='1'>, but have not been able to prevent the filter from applying itself at data/nodata boundaries.

My current VRT and gdal_translate command lines are below.  Can anyone tell me what I am doing wrong?

Thanks,

Ken Boss
Minnesota DNR

===== kernel_filter.vrt ===================

<VRTDataset rasterYSize='690' rasterXSize='575'>
  <SRS>EPSG:26915</SRS>
  <GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
  <VRTRasterBand band='1' dataType='Byte'>
    <KernelFilteredSource>
      <SourceFilename>interpolated.tif</SourceFilename>
      <SourceBand>1</SourceBand>
      <NoDataValue>255</NoDataValue>
      <HideNoDataValue>1</HideNoDataValue>
      <Kernel normalized='1'>
        <Size>5</Size>
        <Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
      </Kernel>
    </KernelFilteredSource>
  </VRTRasterBand>
</VRTDataset>

=====================================

gdal_translate -of GTiff -ot Byte -a_srs EPSG:26915 kernel_filter.vrt kernel_filtered.tif

From chaitanya.ch at gmail.com  Thu Nov 18 00:10:31 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Nov 18 00:10:34 2010
Subject: [gdal-dev] KernelFilteredSource and nodata
In-Reply-To: <4CF306D7079ED548B6AB1864F369FE78084DFCB5AD@MNMAIL05.ead.state.mn.us>
References: <4CF306D7079ED548B6AB1864F369FE78084DFCB5AD@MNMAIL05.ead.state.mn.us>
Message-ID: <AANLkTikw6SetDkcJudXt8imSMD7zt5dRnck9H5FS+CmL@mail.gmail.com>

Ken,

The current kernel filter does not ignore the boundaries of nodata pixels.
But it does normalize the kernel after ignoring the nodata pixels in the
kernel, if the 'normalized' attribute is set to 1.

You can raise a ticket to request for this feature at
http://trac.osgeo.org/gdal/newticket


On Thu, Nov 18, 2010 at 6:08 AM, Boss, Ken (DNR) <Ken.Boss@state.mn.us>wrote:

> Hello list--
>
> I am attempting to filter a raster using gdal_translate (v 1.7) and a vrt
> with a KernelFilteredSource.  The input raster contains large areas of
> "nodata" values.  I would like the filter to ignore those areas.  I have
> tried various combinations of <NoDataValue>, <HideNoDataValue>, <NODATA> and
> <Kernel normalized='1'>, but have not been able to prevent the filter from
> applying itself at data/nodata boundaries.
>
> My current VRT and gdal_translate command lines are below.  Can anyone tell
> me what I am doing wrong?
>
> Thanks,
>
> Ken Boss
> Minnesota DNR
>
> ===== kernel_filter.vrt ===================
>
> <VRTDataset rasterYSize='690' rasterXSize='575'>
>  <SRS>EPSG:26915</SRS>
>  <GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
>  <VRTRasterBand band='1' dataType='Byte'>
>    <KernelFilteredSource>
>      <SourceFilename>interpolated.tif</SourceFilename>
>      <SourceBand>1</SourceBand>
>      <NoDataValue>255</NoDataValue>
>      <HideNoDataValue>1</HideNoDataValue>
>      <Kernel normalized='1'>
>        <Size>5</Size>
>        <Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04
> 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
>      </Kernel>
>    </KernelFilteredSource>
>  </VRTRasterBand>
> </VRTDataset>
>
> =====================================
>
> gdal_translate -of GTiff -ot Byte -a_srs EPSG:26915 kernel_filter.vrt
> kernel_filtered.tif
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/26b768cd/attachment.html
From warmerdam at pobox.com  Thu Nov 18 00:33:45 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 18 00:33:48 2010
Subject: [gdal-dev] Motion: Approve RFC 33 - GeoTIFF - Fixing PixelIsPoint
 Interpretation
Message-ID: <4CE4BAB9.3030507@pobox.com>


Folks,

I haven't seen any serious concerns with proceeding with this fix and I
have incorporated a few fixes.  So now I'd like to motion to adopt RFC 33:

   http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint

+1 Frank

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fjricca at gmail.com  Thu Nov 18 03:25:13 2010
From: fjricca at gmail.com (javiricca)
Date: Thu Nov 18 03:25:16 2010
Subject: [gdal-dev] error compiling gdal 1.6.3 in rhel 5 64bits
Message-ID: <1290068713251-5750785.post@n2.nabble.com>


Hello,

I'll trying to compile gdal in rhel 5 64 bits and I've getting some errors.

gdal_wrap.cpp:1067: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1067: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1067: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1067: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1067: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1068: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1068: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1068: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1068: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1068: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1069: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1069: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1070: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1070: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1070: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1070: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1070: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1105: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1105: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1105: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1105: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1105: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1106: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1106: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1106: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1106: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1106: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1107: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1107: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1108: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1108: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1108: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1108: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1108: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1120: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1120: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1120: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1120: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1120: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1121: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1121: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1121: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1121: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1121: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1122: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1122: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1123: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1123: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1123: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1123: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1123: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1142: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1142: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1142: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1142: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1142: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1143: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1143: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1143: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1143: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1143: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1144: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1144: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1145: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1145: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1145: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1145: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1145: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1468: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1468: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1468: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1468: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1468: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1469: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1469: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1469: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1469: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1469: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1470: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1470: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1471: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1471: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1471: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1471: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1471: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1664: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1664: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1664: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1664: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1664: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1665: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1665: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1665: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1665: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1665: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1666: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1666: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1667: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1667: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1667: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1667: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1667: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1706: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1706: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1706: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1706: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1706: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1707: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1707: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1707: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1707: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1707: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1708: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1708: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1709: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1709: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1709: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1709: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1709: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1765: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1765: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1765: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1765: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1765: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1766: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1766: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1766: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1766: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1766: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:1767: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1767: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1768: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:1768: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:1768: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1768: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:1768: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:2022: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:2022: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:2022: error: expected primary-expression before ?*? token
gdal_wrap.cpp:2022: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:2022: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:2023: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:2023: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:2023: error: expected primary-expression before ?*? token
gdal_wrap.cpp:2023: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:2023: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:2024: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:2024: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:2025: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:2025: error: ?property_reference? no se declar? en este ?mbito
gdal_wrap.cpp:2025: error: expected primary-expression before ?*? token
gdal_wrap.cpp:2025: error: ?value? no se declar? en este ?mbito
gdal_wrap.cpp:2025: error: se trata la lista de expresiones initializer como
una expresi?n compuesta
gdal_wrap.cpp:3596: error: redefinition of ?pval _wrap_propget_MajorObject?
gdal_wrap.cpp:1069: error: se declar? ?pval _wrap_propget_MajorObject?
previamente aqu?
gdal_wrap.cpp:3596: error: ?zend_property_reference? no se declar? en este
?mbito
gdal_wrap.cpp:3596: error: ?property_reference? no se declar? en este ?mbito
make[2]: *** [gdal_wrap.o] Error 1
make[1]: *** [build] Error 2
make: *** [swig-modules] Error 2

How can I solve this problem? Is possible to solve it with another version
of gdal or installing other libraries.

Thanks in advance
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5750785.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From anders.moe at geocap.no  Thu Nov 18 03:45:30 2010
From: anders.moe at geocap.no (Anders Moe)
Date: Thu Nov 18 03:45:33 2010
Subject: [gdal-dev] what does "Ring Self-intersection at or near point"
	really mean ?
In-Reply-To: <AANLkTikE8DxvaZVG7=Vbt16F1qWzx_9E1irNc8zGpCo3@mail.gmail.com>
References: <AANLkTikZnH7v9m42KPQGM4kXBe+DZCMcXC8r=bFHDO5q@mail.gmail.com>
	<AANLkTikE8DxvaZVG7=Vbt16F1qWzx_9E1irNc8zGpCo3@mail.gmail.com>
Message-ID: <AANLkTinaNrzf4nde9vnB1+f0rHBH7-9ph0tz4_wt2nS4@mail.gmail.com>

Hi again.

I was pointed to the OpenJUMP -> Tools -> QA -> Validate Selected layer in
order to perform a QA test on the file in question , namely "fields" from
(Oil Fields in the North Sea)

http://www.npd.no/engelsk/cwi/pbl/en/factmap/download/shapes_welcome.htm

<http://www.npd.no/engelsk/cwi/pbl/en/factmap/download/shapes_welcome.htm>OpenJUMP
reported no errors, but GDAL reports warnings. What has me worried is what
impact this might have on the various OGRGeometry geometry comparison
routines.

Anders


On Wed, Nov 17, 2010 at 10:07 PM, Thomas Gratier <
osgeo.mailinglist@gmail.com> wrote:

> Hello,
>
> I suppose it's similar to Postgis I know better. See this old post
> http://www.davidgis.fr/blog/index.php?2007/05/11 to understand.
> It seems to be related to OpenGIS Simple Features for SQL<http://www.opengeospatial.org/standards/sfs>
>
> Regards
>
> ThomasG
> GIS specialist
>



-- 

________________________________________________________

Anders Moe

Managing Director
Geocap
w: +47 22 95 56 63
anders.moe@geocap.no
________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/14f7b0c3/attachment-0001.html
From pablo.dangelo at web.de  Thu Nov 18 03:48:02 2010
From: pablo.dangelo at web.de (Pablo d'Angelo)
Date: Thu Nov 18 03:48:05 2010
Subject: [gdal-dev] Re: Motion: Adopt RFC 32: gdallocationinfo utility
In-Reply-To: <4CE189A1.4090603@pobox.com>
References: <4CE189A1.4090603@pobox.com>
Message-ID: <4CE4E842.5040703@web.de>

Hi all,

A usefuly enhancement for the gdallocationinfo tool would IMHO be the 
possibility to supply the x y coordinates via standard in, instead on 
the command line. This is very convinient for using it in pipes.

Example:

coords.txt contains:
1 2
3 4
2 4

cat coords.txt | gdallocationinfo -valonly my_dem.tif
100
102
103

I can provide a patch, if this functionality is interesting.

ciao
  Pablo

Am 15.11.2010 20:27, schrieb Frank Warmerdam:
> Folks,
>
> I have made a couple changes to gdallocationinfo based on feedback I
> received when bringing it up for discussion. I am not motioning to adopt
> RFC 32, making gdallocationinfo an "official" GDAL utility, installed
> by default, documented and supported:
>
> http://trac.osgeo.org/gdal/wiki/rfc32_gdallocationinfo
>
> +1 Frank
>

From chaitanya.ch at gmail.com  Thu Nov 18 07:58:28 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Nov 18 07:58:39 2010
Subject: [gdal-dev] error compiling gdal 1.6.3 in rhel 5 64bits
In-Reply-To: <1290068713251-5750785.post@n2.nabble.com>
References: <1290068713251-5750785.post@n2.nabble.com>
Message-ID: <AANLkTim6bMALEHPvKGtUxdiJMv7E=Cv7KJceis=k6uiG@mail.gmail.com>

javiricca,

Check if you have 'php5-dev' package installed.
I too got similar (but not same) errors when it was not installed. While you
are doing that also check for 'php-config' package.

On Thu, Nov 18, 2010 at 1:55 PM, javiricca <fjricca@gmail.com> wrote:

>
> Hello,
>
> I'll trying to compile gdal in rhel 5 64 bits and I've getting some errors.
>
> gdal_wrap.cpp:1067: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1067: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1067: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1067: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1067: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1068: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1068: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1068: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1068: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1068: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1069: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1069: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1070: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1070: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1070: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1070: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1070: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1105: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1105: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1105: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1105: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1105: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1106: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1106: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1106: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1106: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1106: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1107: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1107: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1108: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1108: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1108: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1108: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1108: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1120: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1120: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1120: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1120: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1120: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1121: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1121: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1121: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1121: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1121: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1122: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1122: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1123: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1123: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1123: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1123: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1123: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1142: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1142: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1142: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1142: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1142: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1143: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1143: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1143: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1143: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1143: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1144: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1144: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1145: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1145: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1145: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1145: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1145: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1468: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1468: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1468: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1468: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1468: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1469: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1469: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1469: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1469: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1469: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1470: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1470: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1471: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1471: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1471: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1471: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1471: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1664: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1664: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1664: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1664: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1664: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1665: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1665: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1665: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1665: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1665: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1666: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1666: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1667: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1667: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1667: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1667: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1667: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1706: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1706: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1706: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1706: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1706: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1707: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1707: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1707: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1707: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1707: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1708: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1708: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1709: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1709: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1709: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1709: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1709: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1765: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1765: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1765: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1765: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1765: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1766: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1766: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1766: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1766: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1766: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:1767: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1767: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1768: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1768: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:1768: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:1768: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:1768: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:2022: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2022: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2022: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:2022: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:2022: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:2023: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2023: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2023: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:2023: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:2023: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:2024: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2024: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2025: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2025: error: ?property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:2025: error: expected primary-expression before ?*? token
> gdal_wrap.cpp:2025: error: ?value? no se declar? en este ?mbito
> gdal_wrap.cpp:2025: error: se trata la lista de expresiones initializer
> como
> una expresi?n compuesta
> gdal_wrap.cpp:3596: error: redefinition of ?pval _wrap_propget_MajorObject?
> gdal_wrap.cpp:1069: error: se declar? ?pval _wrap_propget_MajorObject?
> previamente aqu?
> gdal_wrap.cpp:3596: error: ?zend_property_reference? no se declar? en este
> ?mbito
> gdal_wrap.cpp:3596: error: ?property_reference? no se declar? en este
> ?mbito
> make[2]: *** [gdal_wrap.o] Error 1
> make[1]: *** [build] Error 2
> make: *** [swig-modules] Error 2
>
> How can I solve this problem? Is possible to solve it with another version
> of gdal or installing other libraries.
>
> Thanks in advance
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5750785.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/790a0321/attachment-0001.html
From chaitanya.ch at gmail.com  Thu Nov 18 07:59:31 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Nov 18 07:59:49 2010
Subject: [gdal-dev] error compiling gdal 1.6.3 in rhel 5 64bits
In-Reply-To: <AANLkTim6bMALEHPvKGtUxdiJMv7E=Cv7KJceis=k6uiG@mail.gmail.com>
References: <1290068713251-5750785.post@n2.nabble.com>
	<AANLkTim6bMALEHPvKGtUxdiJMv7E=Cv7KJceis=k6uiG@mail.gmail.com>
Message-ID: <AANLkTinGuLHNg7Z207+=EQMf_zrKZCL9j-UHQt4cxkK2@mail.gmail.com>

javiricca,

Also, can you tell the command arguments you used for the configure script.

On Thu, Nov 18, 2010 at 6:28 PM, Chaitanya kumar CH
<chaitanya.ch@gmail.com>wrote:

> javiricca,
>
> Check if you have 'php5-dev' package installed.
> I too got similar (but not same) errors when it was not installed. While
> you are doing that also check for 'php-config' package.
>
>
> On Thu, Nov 18, 2010 at 1:55 PM, javiricca <fjricca@gmail.com> wrote:
>
>>
>> Hello,
>>
>> I'll trying to compile gdal in rhel 5 64 bits and I've getting some
>> errors.
>>
>> gdal_wrap.cpp:1067: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1067: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1067: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1067: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1067: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1068: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1068: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1068: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1068: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1068: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1069: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1069: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1070: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1070: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1070: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1070: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1070: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1105: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1105: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1105: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1105: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1105: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1106: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1106: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1106: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1106: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1106: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1107: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1107: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1108: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1108: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1108: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1108: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1108: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1120: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1120: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1120: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1120: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1120: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1121: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1121: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1121: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1121: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1121: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1122: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1122: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1123: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1123: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1123: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1123: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1123: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1142: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1142: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1142: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1142: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1142: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1143: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1143: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1143: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1143: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1143: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1144: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1144: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1145: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1145: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1145: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1145: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1145: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1468: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1468: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1468: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1468: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1468: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1469: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1469: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1469: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1469: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1469: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1470: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1470: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1471: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1471: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1471: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1471: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1471: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1664: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1664: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1664: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1664: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1664: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1665: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1665: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1665: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1665: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1665: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1666: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1666: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1667: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1667: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1667: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1667: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1667: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1706: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1706: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1706: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1706: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1706: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1707: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1707: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1707: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1707: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1707: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1708: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1708: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1709: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1709: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1709: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1709: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1709: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1765: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1765: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1765: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1765: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1765: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1766: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1766: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1766: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1766: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1766: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:1767: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1767: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1768: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1768: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:1768: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:1768: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:1768: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:2022: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2022: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2022: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:2022: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:2022: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:2023: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2023: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2023: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:2023: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:2023: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:2024: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2024: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2025: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2025: error: ?property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:2025: error: expected primary-expression before ?*? token
>> gdal_wrap.cpp:2025: error: ?value? no se declar? en este ?mbito
>> gdal_wrap.cpp:2025: error: se trata la lista de expresiones initializer
>> como
>> una expresi?n compuesta
>> gdal_wrap.cpp:3596: error: redefinition of ?pval
>> _wrap_propget_MajorObject?
>> gdal_wrap.cpp:1069: error: se declar? ?pval _wrap_propget_MajorObject?
>> previamente aqu?
>> gdal_wrap.cpp:3596: error: ?zend_property_reference? no se declar? en este
>> ?mbito
>> gdal_wrap.cpp:3596: error: ?property_reference? no se declar? en este
>> ?mbito
>> make[2]: *** [gdal_wrap.o] Error 1
>> make[1]: *** [build] Error 2
>> make: *** [swig-modules] Error 2
>>
>> How can I solve this problem? Is possible to solve it with another version
>> of gdal or installing other libraries.
>>
>> Thanks in advance
>> --
>> View this message in context:
>> http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5750785.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/a7106d99/attachment-0001.html
From fjricca at gmail.com  Thu Nov 18 08:26:20 2010
From: fjricca at gmail.com (javiricca)
Date: Thu Nov 18 08:26:22 2010
Subject: [gdal-dev] Re: error compiling gdal 1.6.3 in rhel 5 64bits
In-Reply-To: <AANLkTinGuLHNg7Z207+=EQMf_zrKZCL9j-UHQt4cxkK2@mail.gmail.com>
References: <1290068713251-5750785.post@n2.nabble.com>
	<AANLkTim6bMALEHPvKGtUxdiJMv7E=Cv7KJceis=k6uiG@mail.gmail.com>
	<AANLkTinGuLHNg7Z207+=EQMf_zrKZCL9j-UHQt4cxkK2@mail.gmail.com>
Message-ID: <AANLkTikqtMXC_eyHseHwU9fPswyuveaecWySxgiCWJ8+@mail.gmail.com>


Hello Chaitanya,

I use this arguments:

./configure --without-ecw --with-png=internal --with-oci=yes \

--with-jpeg=internal --with-gif=internal --with-libz=internal
--with-libtiff=internal \

--with-geotiff=internal --with-perl --with-php --with-python
 This configuration works in Centos 5.5 without problem.

Thanks

2010/11/18 Chaitanya kumar CH [via OSGeo.org] <
ml-node+5751537-2131365014-113114@n2.nabble.com<ml-node%2B5751537-2131365014-113114@n2.nabble.com>
>

> javiricca,
>
> Also, can you tell the command arguments you used for the configure script.
>
> On Thu, Nov 18, 2010 at 6:28 PM, Chaitanya kumar CH <chaitanya.ch<http://chaitanya.ch?by-user=t>
> @gmail.com <http://gmail.com?by-user=t>> wrote:
>
>> javiricca,
>>
>> Check if you have 'php5-dev' package installed.
>> I too got similar (but not same) errors when it was not installed. While
>> you are doing that also check for 'php-config' package.
>>
>>
>> On Thu, Nov 18, 2010 at 1:55 PM, javiricca <[hidden email]<http://user/SendEmail.jtp?type=node&node=5751537&i=0>
>> > wrote:
>>
>>>
>>> Hello,
>>>
>>> I'll trying to compile gdal in rhel 5 64 bits and I've getting some
>>> errors.
>>>
>>> gdal_wrap.cpp:1067: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1067: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1067: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1067: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1067: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1068: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1068: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1068: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1068: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1068: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1069: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1069: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1070: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1070: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1070: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1070: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1070: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1105: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1105: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1105: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1105: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1105: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1106: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1106: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1106: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1106: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1106: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1107: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1107: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1108: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1108: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1108: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1108: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1108: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1120: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1120: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1120: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1120: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1120: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1121: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1121: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1121: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1121: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1121: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1122: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1122: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1123: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1123: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1123: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1123: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1123: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1142: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1142: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1142: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1142: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1142: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1143: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1143: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1143: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1143: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1143: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1144: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1144: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1145: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1145: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1145: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1145: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1145: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1468: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1468: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1468: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1468: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1468: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1469: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1469: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1469: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1469: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1469: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1470: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1470: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1471: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1471: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1471: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1471: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1471: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1664: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1664: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1664: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1664: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1664: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1665: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1665: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1665: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1665: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1665: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1666: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1666: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1667: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1667: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1667: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1667: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1667: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1706: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1706: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1706: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1706: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1706: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1707: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1707: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1707: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1707: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1707: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1708: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1708: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1709: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1709: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1709: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1709: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1709: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1765: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1765: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1765: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1765: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1765: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1766: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1766: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1766: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1766: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1766: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:1767: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1767: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1768: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:1768: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:1768: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:1768: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:1768: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:2022: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:2022: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:2022: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:2022: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:2022: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:2023: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:2023: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:2023: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:2023: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:2023: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:2024: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:2024: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:2025: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:2025: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> gdal_wrap.cpp:2025: error: expected primary-expression before ?*? token
>>> gdal_wrap.cpp:2025: error: ?value? no se declar? en este ?mbito
>>> gdal_wrap.cpp:2025: error: se trata la lista de expresiones initializer
>>> como
>>> una expresi?n compuesta
>>> gdal_wrap.cpp:3596: error: redefinition of ?pval
>>> _wrap_propget_MajorObject?
>>> gdal_wrap.cpp:1069: error: se declar? ?pval _wrap_propget_MajorObject?
>>> previamente aqu?
>>> gdal_wrap.cpp:3596: error: ?zend_property_reference? no se declar? en
>>> este
>>> ?mbito
>>> gdal_wrap.cpp:3596: error: ?property_reference? no se declar? en este
>>> ?mbito
>>> make[2]: *** [gdal_wrap.o] Error 1
>>> make[1]: *** [build] Error 2
>>> make: *** [swig-modules] Error 2
>>>
>>> How can I solve this problem? Is possible to solve it with another
>>> version
>>> of gdal or installing other libraries.
>>>
>>> Thanks in advance
>>> --
>>> View this message in context:
>>> http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5750785.html<http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5750785.html?by-user=t>
>>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>> _______________________________________________
>>> gdal-dev mailing list
>>> [hidden email] <http://user/SendEmail.jtp?type=node&node=5751537&i=1>
>>>
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>> /t?a???nj?/ /k?m?r/
>> +91-9494447584
>> 17.2416N 80.1426E
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
>
> _______________________________________________
> gdal-dev mailing list
> [hidden email] <http://user/SendEmail.jtp?type=node&node=5751537&i=2>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> ------------------------------
>  View message @
> http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5751537.html
> To unsubscribe from error compiling gdal 1.6.3 in rhel 5 64bits, click
> here<http://osgeo-org.1803224.n2.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=5750785&code=ZmpyaWNjYUBnbWFpbC5jb218NTc1MDc4NXwxODk1MjMyMDA1>.
>
>

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5751610.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/d746034f/attachment-0001.html
From ludovic.granjon at u-bourgogne.fr  Thu Nov 18 08:52:30 2010
From: ludovic.granjon at u-bourgogne.fr (Ludovic Granjon)
Date: Thu Nov 18 09:05:54 2010
Subject: [gdal-dev] OGR - GetLength in Python
Message-ID: <4CE52F9E.2060309@u-bourgogne.fr>

Hi all

I try to calculate the length of a linestring in python.
But is there a way in python with ogr to calculate this. I see there's a 
GetLength()  in the OGRLineString Class Reference 
http://www.gdal.org/ogr/classOGRLineString.html#7b3dc3abefd16aea17ac9fcc0ccd0010 
, but I don't see if there's the same thing in python ?

Thanks
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ludovic_granjon.vcf
Type: text/x-vcard
Size: 149 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/75b0e383/ludovic_granjon.vcf
From refriguy68 at yahoo.com  Thu Nov 18 09:28:18 2010
From: refriguy68 at yahoo.com (Robert Zermeno)
Date: Thu Nov 18 09:28:21 2010
Subject: [gdal-dev] GeoPDF and neatline. Not correct when neatline is
	smaller than PDF page.
Message-ID: <662241.14126.qm@web32905.mail.mud.yahoo.com>

Even and GDAL community,?Sorry if everyone has already received this message. ?I was?I hope you can enlighten me on the issue of computing neatline values.? The solution presented in GDAL (I am using the trunk version download from 11-16-2010) to compute the neatline values is not fully correct (file: pdfdataset.cpp lines 743-749)?specifically:??????????????? double X = poDS->adfGeoTransform[0] + x * poDS->adfGeoTransform[1] +
??????????????????????????????????????????????????? y * poDS->adfGeoTransform[2];
??????????????? double Y = poDS->adfGeoTransform[3] + x * poDS->adfGeoTransform[4] +
??????????????????????????????????????????????????? y * poDS->adfGeoTransform[5];?but to understand the two lines of code above, you need to understand what was done before.?The case where it is correct is when:?1.? - PDF is? OGC Standard???? - Neatline values are the corner points of the image.?The case when GDAL does not compute correct Neatline values is when:?2. -PDF is OGC Standard??? - Neatline values are not the corner points of the image.?Let me elaborate on the case when it does not compute neatline values correctly.? An example file is taken from:http://giigt.tec.army.mil/GeoPDFgallery/AU_NZ_Re-seller/Env_Sample_geo.pdf?here is GDAL's output:NOTE: I have modified GDAL code to make default DPI to be 110.
?????C:\apps>gdalinfo.exe c:\Env_Sample_geo.pdfPDF: OGC Encoding Best Practice style detected
PDF: LGIDict Version : 2.1
PDF: This is a the largest neatline for now
PDF: CTM[0] = 1.4111110661
PDF: CTM[1] = 0
PDF: CTM[2] = 0
PDF: CTM[3] = 1.4111110661
PDF: CTM[4] = 725048.2016161948
PDF: CTM[5] = 7671532.018003316
PDF: Datum = HEN
PDF: Projection.ProjectionType = TC
GDAL: GDALOpen(c:\Env_Sample_geo.pdf, this=026BE308) succeeds as PDF.
Driver: PDF/Geospatial PDF
GDAL: GDALDefaultOverviews::OverviewScan()
Files: c:\Env_Sample_geo.pdf
Size is 1285, 909
Coordinate System is:
PROJCS["UTM Zone 55, Southern Hemisphere",
??? GEOGCS["unknown",
??????? DATUM["unknown",
??????????? SPHEROID["International 1924",6378388,297],
??????????? TOWGS84[-333,-222,114,0,0,0,0]],
??????? PRIMEM["Greenwich",0],
??????? UNIT["degree",0.0174532925199433]],
??? PROJECTION["Transverse_Mercator"],
??? PARAMETER["latitude_of_origin",0],
??? PARAMETER["central_meridian",147],
??? PARAMETER["scale_factor",0.9996],
??? PARAMETER["false_easting",500000],
??? PARAMETER["false_northing",10000000],
??? UNIT["Meter",1]]
Origin = (725048.201616194800000,7672372.337465400800000)
Pixel Size = (0.923636334174545,-0.923636334174545)
GeoTransform =
?725048.20161619480,? 0.92363633417454549,? 0.00000000000000000
?7672372.3374654008,? -0.0000000000000000, -0.92363633417454549Metadata:
? NEATLINE=POLYGON ((725124.91858881968 7671671.0094531905,725124.91858881968 76
72311.3218032392,726165.27821117197 7672311.3218032392,726165.27821117197 767167
1.0094531905,725124.91858881968 7671671.0094531905))
OGRCT: Source: +proj=utm +zone=55 +south +ellps=intl +towgs84=-333,-222,114,0,0,
0,0 +units=m +no_defs
OGRCT: Target: +proj=longlat +ellps=intl +towgs84=-333,-222,114,0,0,0,0 +no_defs
Corner Coordinates:
Upper Left? (? 725048.202, 7672372.337) (149d 9'55.60"E, 21d 2' 7.62"S)
Lower Left? (? 725048.202, 7671532.752) (149d 9'55.99"E, 21d 2'34.91"S)
Upper Right (? 726235.074, 7672372.337) (149d10'36.69"E, 21d 2' 7.10"S)
Lower Right (? 726235.074, 7671532.752) (149d10'37.09"E, 21d 2'34.39"S)
Center????? (? 725641.638, 7671952.545) (149d10'16.34"E, 21d 2'21.00"S)
Band 1 Block=1285x1 Type=Byte, ColorInterp=Red
Band 2 Block=1285x1 Type=Byte, ColorInterp=Green
Band 3 Block=1285x1 Type=Byte, ColorInterp=Blue
GDAL: GDALClose(c:\Env_Sample_geo.pdf, this=026BE308)
GDAL: GDALDeregister_GTiff() called.?The Corner points reported should be accurate.? I have an unclassified file which the neatline
is the height and width of the image, so the corner points are the neatlines.? In that case, all
points are correct.The issues is when you have a defined neatline within the PDF that is smaller than the image we
are looking at (i.e. Neatline != MediaBox)FOr this file, the top-left corner of the neatline is very accurate, but the top-right, bottom-right
are way off.
Can you describe to me how you computed the Neatline values (X,Y).? I understand that the CTM is
the PDF page coordinate space transformation to projected coordinate system (This file is UTM (Northing/Easting).Then you will use that information to compute the Transformation matrix of projection coordinates
onto the image space.
Once you have found the GeoTransform you use that information with the NeatLine values registered
in the PDF to translate the PDF page coordinate to projected coordinates (this case, Northing/Easting).
The problem I found, is the neatline values are all not accurate.? The values presented do not provided an
acceptable bounding region that defines the coordinate space.Can you please provide input to help me figure out why this is not working accurately?? Specifically, it would?
be nice if you can explain how, and why, you obtained the computations of the GeoTransform
(Look at file pdfdataset.cpp lines 682-689) and Neatline values (Look at file pdfdataset.cpp lines 712-718)
It would be nice if you can take the time to help me resolve this.
Summary:1.? From above, please explain your logic to compute the neatline, geotransform
2. when computing:?
??? double y = poDS->nRasterYSize - poRing->getY(i) * dfPixelPerPt;???
??? Line 713 in pdfdataset.cpp? why are you doing that?
I have tried to explain in a simple manner.? However, I know I did not do the best job because
I am still trying to wrap my brain around how transforming from PDF page --> projected coords (UTM)
by using the CTM to create the GeoTransform (projected Coords affine transformation) and then use it
to compute the proper UTM coordinate for a given neatline point provided in the PDF.?
Robert?


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/fea58c15/attachment-0001.html
From jukka.rahkonen at mmmtike.fi  Thu Nov 18 09:57:06 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Nov 18 09:57:39 2010
Subject: [gdal-dev] Re: what does &quot;Ring Self-intersection at or near
	point&quot; really mean ?
References: <AANLkTikZnH7v9m42KPQGM4kXBe+DZCMcXC8r=bFHDO5q@mail.gmail.com>
	<AANLkTikE8DxvaZVG7=Vbt16F1qWzx_9E1irNc8zGpCo3@mail.gmail.com>
	<AANLkTinaNrzf4nde9vnB1+f0rHBH7-9ph0tz4_wt2nS4@mail.gmail.com>
Message-ID: <loom.20101118T155122-222@post.gmane.org>

Anders Moe <anders.moe <at> geocap.no> writes:

> 
> 
> Hi again.
> 
> I was pointed to the OpenJUMP -> Tools -> QA -> Validate Selected layer
in order to perform a QA test on the file in question , namely "fields" 
from (Oil Fields in the North Sea)
> 
> http://www.npd.no/engelsk/cwi/pbl/en/factmap/download/
  shapes_welcome.htm
> 
> 
> OpenJUMP reported no errors, but GDAL reports warnings. What has me 
worried is what impact this might have on the various OGRGeometry 
geometry comparison routines.

And when I repeated the test I did find two self-intersections with
OpenJUMP and both cases were real data errors. Thus more tests are 
needed before we can judge that gdal is reporting about non-existing 
topology errors.

-Jukka Rahkonen-



From ronan.crowley at gmail.com  Thu Nov 18 10:24:41 2010
From: ronan.crowley at gmail.com (Ronan Crowley)
Date: Thu Nov 18 10:25:12 2010
Subject: [gdal-dev] GDAL (via Java bindings) and ECW
Message-ID: <AANLkTikMXb0q=zkNLkCk9kp9Mkep3+si36T-P-hTFdbh@mail.gmail.com>

Hi All,

I'm using GDAL (via Java) to view an ECW file.

It generally works fine, however I'm having serious memory issues.

I have a 6MB ECW file, that when I try to view in its entirety I get
OutOfMemory errors.

The code I'm using to extract the image is pretty much the code from the
GDALtest.java file in the swig sub-project.

What I'm wodering, is if there is any way to get the number of pyramid
levels inside the image and grab the top-most pyramid level image ?

Thanks,
Ronan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/a9d47e2b/attachment.html
From warmerdam at pobox.com  Thu Nov 18 10:45:49 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 18 10:45:53 2010
Subject: [gdal-dev] error compiling gdal 1.6.3 in rhel 5 64bits
In-Reply-To: <1290068713251-5750785.post@n2.nabble.com>
References: <1290068713251-5750785.post@n2.nabble.com>
Message-ID: <4CE54A2D.4020405@pobox.com>

javiricca wrote:
> Hello,
> 
> I'll trying to compile gdal in rhel 5 64 bits and I've getting some errors.
>
 > gdal_wrap.cpp:1067: error: ?zend_property_reference? no se declar? en este
?mbito
...
> How can I solve this problem? Is possible to solve it with another version
> of gdal or installing other libraries.
> 
> Thanks in advance

Javiricca,

Presumably this is a problem with the php bindings.  The php bindings are
not maintained at this time and it is unclear to what extent they work or
don't work.  So my suggestion is that they should not be part of your
packaging effort unless you know they work in a useful way.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Nov 18 11:27:45 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 18 11:27:50 2010
Subject: [gdal-dev] GDAL (via Java bindings) and ECW
In-Reply-To: <AANLkTikMXb0q=zkNLkCk9kp9Mkep3+si36T-P-hTFdbh@mail.gmail.com>
References: <AANLkTikMXb0q=zkNLkCk9kp9Mkep3+si36T-P-hTFdbh@mail.gmail.com>
Message-ID: <4CE55401.4090104@pobox.com>

Ronan Crowley wrote:
> Hi All,
> 
> I'm using GDAL (via Java) to view an ECW file.
> 
> It generally works fine, however I'm having serious memory issues.
> 
> I have a 6MB ECW file, that when I try to view in its entirety I get 
> OutOfMemory errors.
> 
> The code I'm using to extract the image is pretty much the code from the 
> GDALtest.java file in the swig sub-project.
> 
> What I'm wodering, is if there is any way to get the number of pyramid 
> levels inside the image and grab the top-most pyramid level image ?

Ronan,

The GDAL ECW driver reports ECW files as having "arbitrary" overviews.
That is supposed to imply you can extract data at any resolution efficiently.
I think this is the only driver that works this way and it isn't necessarily
a good thing.

Anyways, you can just pick any resolution you want to load at, and setup
your RasterIO request accordingly.

There have been some reports of high memory use with the ECW driver.  To
some extent this may be the libecw machinery caching some things but it
is hard a 6MB file using all that much memory unless there is a serious
leak.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From gregcoats at mac.com  Thu Nov 18 10:54:51 2010
From: gregcoats at mac.com (Greg Coats)
Date: Thu Nov 18 11:55:49 2010
Subject: [gdal-dev] GDAL (via Java bindings) and ECW
In-Reply-To: <AANLkTikMXb0q=zkNLkCk9kp9Mkep3+si36T-P-hTFdbh@mail.gmail.com>
References: <AANLkTikMXb0q=zkNLkCk9kp9Mkep3+si36T-P-hTFdbh@mail.gmail.com>
Message-ID: <71409FC0-A333-441B-91F0-4E29EFA9CA27@mac.com>

>From a JPEG2000 image, you can use kdu_expand -reduce to quickly extract an image of the top (or any other) level pyramid. In the example below, I extract from a JPEG2000 image, pyramid level 10 from a 142 GB image in 0.10 seconds. Perhaps you could consider using JPEG2000.
Greg

$ ls -hl dcua0171_BigTiffYes.tif dcua0171_BigTiffYes_rev.jp2
  142G Feb 16  2010 dcua0171_BigTiffYes.tif
   58G Feb 16  2010 dcua0171_BigTiffYes_rev.jp2
$ /usr/bin/time $kdu_expand -i dcua0171_BigTiffYes_rev.jp2 -o reduce10.tif -reduce 10
Copying Geo  box info, size =     387
        0.10 real         0.08 user         0.02 sys
$ ls -hl reduce10.tif
  143K Nov 18 10:37 reduce10.tif

On Nov 18, 2010, at 10:24 AM, Ronan Crowley wrote:

> Hi All,
> 
> I'm using GDAL (via Java) to view an ECW file.
> 
> It generally works fine, however I'm having serious memory issues.
> 
> I have a 6MB ECW file, that when I try to view in its entirety I get OutOfMemory errors.
> 
> The code I'm using to extract the image is pretty much the code from the GDALtest.java file in the swig sub-project.
> 
> What I'm wodering, is if there is any way to get the number of pyramid levels inside the image and grab the top-most pyramid level image ?
> 
> Thanks,
> Ronan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/a4f65906/attachment.html
From ronan.crowley at gmail.com  Thu Nov 18 12:03:30 2010
From: ronan.crowley at gmail.com (Ronan Crowley)
Date: Thu Nov 18 12:03:55 2010
Subject: [gdal-dev] GDAL (via Java bindings) and ECW
In-Reply-To: <71409FC0-A333-441B-91F0-4E29EFA9CA27@mac.com>
References: <AANLkTikMXb0q=zkNLkCk9kp9Mkep3+si36T-P-hTFdbh@mail.gmail.com>
	<71409FC0-A333-441B-91F0-4E29EFA9CA27@mac.com>
Message-ID: <AANLkTimWivo05iCbfoWC4BSYGue5XFvODRay0uoN5f3L@mail.gmail.com>

Thanks for the replied Guys.

My use of GDAL is very generic, allowing any end user visuaise any image
format that GDAL supports via a web browser using a Java backing with JNI
bindings to GDAL binaries. (This particular 6MB ECW file is one of hundreds
that I've tested)

The code as-is works for all image formats and for sub-portions of the ECW
file.

I guess my question should be more directed to the Java bindings directly
and if there is anythings that I can do there... As its at this stage
(allocating the Java memory in byte[] that my applicaiton is running out of
memory)

Thanks,
Ronan


On 18 November 2010 15:54, Greg Coats <gregcoats@mac.com> wrote:

> From a JPEG2000 image, you can use kdu_expand -reduce to quickly extract an
> image of the top (or any other) level pyramid. In the example below, I
> extract from a JPEG2000 image, pyramid level 10 from a 142 GB image in 0.10
> seconds. Perhaps you could consider using JPEG2000.
> Greg
>
> $ ls -hl dcua0171_BigTiffYes.tif dcua0171_BigTiffYes_rev.jp2
>   142G Feb 16  2010 dcua0171_BigTiffYes.tif
>    58G Feb 16  2010 dcua0171_BigTiffYes_rev.jp2
> $ /usr/bin/time $kdu_expand -i dcua0171_BigTiffYes_rev.jp2 -o reduce10.tif
> -reduce 10
> Copying Geo  box info, size =     387
>         0.10 real         0.08 user         0.02 sys
> $ ls -hl reduce10.tif
>   143K Nov 18 10:37 reduce10.tif
>
> On Nov 18, 2010, at 10:24 AM, Ronan Crowley wrote:
>
> Hi All,
>
> I'm using GDAL (via Java) to view an ECW file.
>
> It generally works fine, however I'm having serious memory issues.
>
> I have a 6MB ECW file, that when I try to view in its entirety I get
> OutOfMemory errors.
>
> The code I'm using to extract the image is pretty much the code from the
> GDALtest.java file in the swig sub-project.
>
> What I'm wodering, is if there is any way to get the number of pyramid
> levels inside the image and grab the top-most pyramid level image ?
>
> Thanks,
> Ronan
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/e0c71824/attachment.html
From wesmota at gmail.com  Thu Nov 18 13:28:36 2010
From: wesmota at gmail.com (Wesley)
Date: Thu Nov 18 13:28:40 2010
Subject: [gdal-dev] Ruby
Message-ID: <AANLkTikGTJjn1bpup=cU6jzr3m5-FqTU9sVbTCmcWhk_@mail.gmail.com>

Hi guys,

How do I install gdal for Ruby?
I've been trying to install it on Ubuntu without success.

Thanks,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/3c41617d/attachment.html
From ramprasad85 at gmail.com  Thu Nov 18 13:49:54 2010
From: ramprasad85 at gmail.com (Ram prasad)
Date: Thu Nov 18 13:50:23 2010
Subject: [gdal-dev] Gdal driver not working in windows 7
Message-ID: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>

The gdal driver for my format is working perfectly in windows XP but not in
windows7. It is crashing when I run gdalinfo gdal_translate.exe with or
without parameters. so i wrote a dummy gdal driver (the following code),
which also is crashing in GDALDriverManager::~GDALDriverManager()  at the
line "delete poDriver;". This also happens in windows server 2008. The gdal
versions i tested are 1.6.0, 1.6.1. and 1.7.3
I am using visual studio 2008
The error message from debugger is *"Unhandled exception at 0x773f61e9 in
gdal_translate.exe: 0xC0000005: Access violation reading location
0x7e7fd537."*

#include "gdal_1_6_0_files\gdal_pam.h"

CPL_C_START
void CPL_DLL GDALRegister_test();
CPL_C_END

class testDataset : public GDALPamDataset
{
public:
 static GDALDataset *Open( GDALOpenInfo * )
 {
return new testDataset();
 }
};

void GDALRegister_test()
{

GDALDriver  *poDriver = NULL;
 if( GDALGetDriverByName( "test" ) == NULL )
 {
poDriver = new GDALDriver();
 poDriver->SetDescription( "test" );
 poDriver->SetMetadataItem( GDAL_DMD_LONGNAME, "Test (.test)" );
 poDriver->SetMetadataItem( GDAL_DMD_EXTENSION, "test" );
 poDriver->pfnOpen = testDataset::Open;
 GetGDALDriverManager()->RegisterDriver( poDriver );
 printf("Ramprasad: Registered Test driver\n");
 }
}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/54e1654c/attachment.html
From warmerdam at pobox.com  Thu Nov 18 14:08:53 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 18 14:08:57 2010
Subject: [gdal-dev] Gdal driver not working in windows 7
In-Reply-To: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>
References: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>
Message-ID: <4CE579C5.8050806@pobox.com>

Ram prasad wrote:
> The gdal driver for my format is working perfectly in windows XP but not 
> in windows7. It is crashing when I run gdalinfo gdal_translate.exe with 
> or without parameters. so i wrote a dummy gdal driver (the following 
> code), which also is crashing in GDALDriverManager::~GDALDriverManager() 
>  at the line "delete poDriver;". This also happens in windows server 
> 2008. The gdal versions i tested are 1.6.0, 1.6.1. and 1.7.3
> I am using visual studio 2008 
> The error message from debugger is /"Unhandled exception at 0x773f61e9 
> in gdal_translate.exe: 0xC0000005: Access violation reading location 
> 0x7e7fd537."/
> 

Ram,

Are you building GDAL itself with visual studio 2008 and similar compiler
options as used for your plugin?

It has been my experience that it is not safe to build plugins with
significantly different compiler version or flags.  Also, I found that
Vista and Win7 are much more sensitive to the problems caused by mixing
versions compared to WinXP.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From traviskirstine at gmail.com  Thu Nov 18 15:26:23 2010
From: traviskirstine at gmail.com (Travis Kirstine)
Date: Thu Nov 18 15:26:26 2010
Subject: [gdal-dev] converting shp to dgn
Message-ID: <AANLkTikgVVZZbiB6RX5ZECjpUQ_=na9YM=vYgDHRA=j7@mail.gmail.com>

Is it possible to set DNG attributes using ogr2ogr and write values to
the Text field for non point features.  If this is not possible with
ogr2ogr can it be done with the api (write values to the text field
for polygon features).

Regards
From Ken.Boss at state.mn.us  Thu Nov 18 15:40:05 2010
From: Ken.Boss at state.mn.us (Boss, Ken (DNR))
Date: Thu Nov 18 15:55:29 2010
Subject: [gdal-dev] KernelFilteredSource and nodata
References: <4CF306D7079ED548B6AB1864F369FE78084DFCB5AD@MNMAIL05.ead.state.mn.us>
	<AANLkTikw6SetDkcJudXt8imSMD7zt5dRnck9H5FS+CmL@mail.gmail.com> 
Message-ID: <4CF306D7079ED548B6AB1864F369FE78084E01C080@MNMAIL05.ead.state.mn.us>

Chaitanya--

Thanks much for your response.

I don't think that I described my problem effectively.  Let me restate it and see if we are talking about the same thing.

Here is a .vrt file that I think should accomplish what I am after:

<VRTDataset rasterYSize='690' rasterXSize='575'>
  <SRS>EPSG:26915</SRS>
  <GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
  <VRTRasterBand band='1' dataType='Byte'>
    <KernelFilteredSource>
      <SourceFilename>D:/MyFiles/aptana_workspace/fire-webpage-mgmt/data/tmp_images/interpolated.tif</SourceFilename>
      <SourceBand>1</SourceBand>
      <NoDataValue>255</NoDataValue>
      <Kernel normalized="1">
        <Size>5</Size>
        <Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
      </Kernel>
    </KernelFilteredSource>
  </VRTRasterBand>
</VRTDataset>

I believe this file to be saying that interpolated.tif uses a value of 255 for nodata, and that the kernel is to be normalized - that is, it should:

 o ignore any nodata pixels within the kernel window when operating on a valid pixel
 o adjust the coefficients to sum to one for the number of valid pixels in the window when operating on a valid pixel
 o do nothing at all when centered on a nodata pixel

I would expect then that any pixels that go in as nodata should come out as nodata, and that pixels with valid data values that are near nodata pixels should not be influenced by them.

However, the outputs are not what I expect.  The averaging is applied to both nodata and valid pixels alike.  Have I set this up correctly, and is there a bug somewhere, or (more likely) is my vrt improperly constructed?

Thanks for your help,

--Ken 

> -----Original Message-----
> From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
> Sent: Wednesday, November 17, 2010 11:11 PM
> To: Boss, Ken (DNR)
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] KernelFilteredSource and nodata
> 
> Ken,
> 
> The current kernel filter does not ignore the boundaries of nodata pixels. But it
> does normalize the kernel after ignoring the nodata pixels in the kernel, if the
> 'normalized' attribute is set to 1.
> 
> You can raise a ticket to request for this feature at
> http://trac.osgeo.org/gdal/newticket
> 
>> On Thu, Nov 18, 2010 at 6:08 AM, Boss, Ken (DNR) <Ken.Boss@state.mn.us>
>> wrote:
>> Hello list--
>> 
>> I am attempting to filter a raster using gdal_translate (v 1.7) and a vrt with a
>> KernelFilteredSource. ?The input raster contains large areas of "nodata" values. ?I
>> would like the filter to ignore those areas. ?I have tried various combinations of
>> <NoDataValue>, <HideNoDataValue>, <NODATA> and <Kernel normalized='1'>,
>> but have not been able to prevent the filter from applying itself at data/nodata
>> boundaries.
>> 
>> My current VRT and gdal_translate command lines are below. ?Can anyone tell me
>> what I am doing wrong?
>> 
>> Thanks,
>> 
>> Ken Boss
>> Minnesota DNR
>> 
>> ===== kernel_filter.vrt ===================
>> 
>> <VRTDataset rasterYSize='690' rasterXSize='575'>
>> ?<SRS>EPSG:26915</SRS>
>> ?<GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
>> ?<VRTRasterBand band='1' dataType='Byte'>
>> ? ?<KernelFilteredSource>
>> ? ? ?<SourceFilename>interpolated.tif</SourceFilename>
>> ? ? ?<SourceBand>1</SourceBand>
>> ? ? ?<NoDataValue>255</NoDataValue>
>> ? ? ?<HideNoDataValue>1</HideNoDataValue>
>> ? ? ?<Kernel normalized='1'>
>> ? ? ? ?<Size>5</Size>
>> ? ? ? ?<Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04
>> 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
>> ? ? ?</Kernel>
>> ? ?</KernelFilteredSource>
>> ?</VRTRasterBand>
>> </VRTDataset>
>> 
>> =====================================
>> 
>> gdal_translate -of GTiff -ot Byte -a_srs EPSG:26915 kernel_filter.vrt
>> kernel_filtered.tif
>> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
From ramprasad85 at gmail.com  Thu Nov 18 16:37:11 2010
From: ramprasad85 at gmail.com (Ram prasad)
Date: Thu Nov 18 16:37:34 2010
Subject: [gdal-dev] Gdal driver not working in windows 7
In-Reply-To: <4CE579C5.8050806@pobox.com>
References: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>
	<4CE579C5.8050806@pobox.com>
Message-ID: <AANLkTing5vOaMaP=sx=C5rb96xjrx26durunRSfnDUp_@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 226 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/a4c859f0/attachment.gif
From szekerest at gmail.com  Thu Nov 18 17:43:31 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Nov 18 17:43:35 2010
Subject: [gdal-dev] Gdal driver not working in windows 7
In-Reply-To: <AANLkTing5vOaMaP=sx=C5rb96xjrx26durunRSfnDUp_@mail.gmail.com>
References: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>
	<4CE579C5.8050806@pobox.com>
	<AANLkTing5vOaMaP=sx=C5rb96xjrx26durunRSfnDUp_@mail.gmail.com>
Message-ID: <AANLkTi=cqgwkAKpzfD3S98H5n_o3LVa4PUaYz69bL1JD@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 226 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101118/89d2a669/attachment.gif
From chaitanya.ch at gmail.com  Thu Nov 18 23:59:06 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Nov 18 23:59:09 2010
Subject: [gdal-dev] KernelFilteredSource and nodata
In-Reply-To: <4CF306D7079ED548B6AB1864F369FE78084E01C080@MNMAIL05.ead.state.mn.us>
References: <4CF306D7079ED548B6AB1864F369FE78084DFCB5AD@MNMAIL05.ead.state.mn.us>
	<AANLkTikw6SetDkcJudXt8imSMD7zt5dRnck9H5FS+CmL@mail.gmail.com>
	<4CF306D7079ED548B6AB1864F369FE78084E01C080@MNMAIL05.ead.state.mn.us>
Message-ID: <AANLkTikheJoXLe_ATzSQHGrjrc2iMO+nap5NsnFRjkjm@mail.gmail.com>

Ken,

KernelFilteredSource is derived from SimpleSource. It does not support
setting a nodata value to the source band.
Make sure your source image has a nodata value. You can set it using
gdal_translate with the -a_nodata option.

On Fri, Nov 19, 2010 at 2:10 AM, Boss, Ken (DNR) <Ken.Boss@state.mn.us>wrote:

> Chaitanya--
>
> Thanks much for your response.
>
> I don't think that I described my problem effectively.  Let me restate it
> and see if we are talking about the same thing.
>
> Here is a .vrt file that I think should accomplish what I am after:
>
> <VRTDataset rasterYSize='690' rasterXSize='575'>
>  <SRS>EPSG:26915</SRS>
>  <GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
>  <VRTRasterBand band='1' dataType='Byte'>
>    <KernelFilteredSource>
>
>  <SourceFilename>D:/MyFiles/aptana_workspace/fire-webpage-mgmt/data/tmp_images/interpolated.tif</SourceFilename>
>       <SourceBand>1</SourceBand>
>      <NoDataValue>255</NoDataValue>
>       <Kernel normalized="1">
>        <Size>5</Size>
>        <Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04
> 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
>      </Kernel>
>    </KernelFilteredSource>
>  </VRTRasterBand>
> </VRTDataset>
>
> I believe this file to be saying that interpolated.tif uses a value of 255
> for nodata, and that the kernel is to be normalized - that is, it should:
>
>  o ignore any nodata pixels within the kernel window when operating on a
> valid pixel
>  o adjust the coefficients to sum to one for the number of valid pixels in
> the window when operating on a valid pixel
>  o do nothing at all when centered on a nodata pixel
>
> I would expect then that any pixels that go in as nodata should come out as
> nodata, and that pixels with valid data values that are near nodata pixels
> should not be influenced by them.
>
> However, the outputs are not what I expect.  The averaging is applied to
> both nodata and valid pixels alike.  Have I set this up correctly, and is
> there a bug somewhere, or (more likely) is my vrt improperly constructed?
>
> Thanks for your help,
>
> --Ken
>
> > -----Original Message-----
> > From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
> > Sent: Wednesday, November 17, 2010 11:11 PM
> > To: Boss, Ken (DNR)
> > Cc: gdal-dev@lists.osgeo.org
> > Subject: Re: [gdal-dev] KernelFilteredSource and nodata
> >
> > Ken,
> >
> > The current kernel filter does not ignore the boundaries of nodata
> pixels. But it
> > does normalize the kernel after ignoring the nodata pixels in the kernel,
> if the
> > 'normalized' attribute is set to 1.
> >
> > You can raise a ticket to request for this feature at
> > http://trac.osgeo.org/gdal/newticket
> >
> >> On Thu, Nov 18, 2010 at 6:08 AM, Boss, Ken (DNR) <Ken.Boss@state.mn.us>
> >> wrote:
> >> Hello list--
> >>
> >> I am attempting to filter a raster using gdal_translate (v 1.7) and a
> vrt with a
> >> KernelFilteredSource.  The input raster contains large areas of "nodata"
> values.  I
> >> would like the filter to ignore those areas.  I have tried various
> combinations of
> >> <NoDataValue>, <HideNoDataValue>, <NODATA> and <Kernel normalized='1'>,
> >> but have not been able to prevent the filter from applying itself at
> data/nodata
> >> boundaries.
> >>
> >> My current VRT and gdal_translate command lines are below.  Can anyone
> tell me
> >> what I am doing wrong?
> >>
> >> Thanks,
> >>
> >> Ken Boss
> >> Minnesota DNR
> >>
> >> ===== kernel_filter.vrt ===================
> >>
> >> <VRTDataset rasterYSize='690' rasterXSize='575'>
> >>  <SRS>EPSG:26915</SRS>
> >>  <GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
> >>  <VRTRasterBand band='1' dataType='Byte'>
> >>    <KernelFilteredSource>
> >>      <SourceFilename>interpolated.tif</SourceFilename>
> >>      <SourceBand>1</SourceBand>
> >>      <NoDataValue>255</NoDataValue>
> >>      <HideNoDataValue>1</HideNoDataValue>
> >>      <Kernel normalized='1'>
> >>        <Size>5</Size>
> >>        <Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04
> 0.04 0.04 0.04
> >> 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
> >>      </Kernel>
> >>    </KernelFilteredSource>
> >>  </VRTRasterBand>
> >> </VRTDataset>
> >>
> >> =====================================
> >>
> >> gdal_translate -of GTiff -ot Byte -a_srs EPSG:26915 kernel_filter.vrt
> >> kernel_filtered.tif
> >>
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> > /t?a???nj?/ /k?m?r/
> > +91-9494447584
> > 17.2416N 80.1426E
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/79b30f24/attachment-0001.html
From ari.jolma at gmail.com  Fri Nov 19 01:13:30 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri Nov 19 01:13:36 2010
Subject: [gdal-dev] OGR - GetLength in Python
In-Reply-To: <4CE52F9E.2060309@u-bourgogne.fr>
References: <4CE52F9E.2060309@u-bourgogne.fr>
Message-ID: <4CE6158A.8010009@gmail.com>

On 11/18/2010 03:52 PM, Ludovic Granjon wrote:
> Hi all
>
> I try to calculate the length of a linestring in python.
> But is there a way in python with ogr to calculate this. I see there's 
> a GetLength()  in the OGRLineString Class Reference 
> http://www.gdal.org/ogr/classOGRLineString.html#7b3dc3abefd16aea17ac9fcc0ccd0010 
> , but I don't see if there's the same thing in python ?

There's Length() method in the bindings for the Geometry class. It's a 
simple interface to OGR_G_Length(), which calls get_Length(), which 
computes the length using simple euclidian 2D length for line strings 
and rings.

Ari

>
> Thanks
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/89411cf1/attachment.html
From ari.jolma at gmail.com  Fri Nov 19 01:22:33 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri Nov 19 01:22:36 2010
Subject: [gdal-dev] OGR - GetLength in Python
In-Reply-To: <4CE52F9E.2060309@u-bourgogne.fr>
References: <4CE52F9E.2060309@u-bourgogne.fr>
Message-ID: <4CE617A9.1080508@gmail.com>

On 11/18/2010 03:52 PM, Ludovic Granjon wrote:
> Hi all
>
> I try to calculate the length of a linestring in python.
> But is there a way in python with ogr to calculate this. I see there's 
> a GetLength()  in the OGRLineString Class Reference 
> http://www.gdal.org/ogr/classOGRLineString.html#7b3dc3abefd16aea17ac9fcc0ccd0010 
> , but I don't see if there's the same thing in python ?

I forgot to mention that Length is the name of the method in the OGC 
Simple Features specification. In a sprint in Barcelona I added that 
method and others like Area. There was (non-standard) GetArea before but 
no GetLength. GetArea still exists but is deprecated (although there is 
no official deprecation procedure in GDAL).

Best regards,

Ari

>
> Thanks
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/1dd46262/attachment.html
From ariasgore at gmx.de  Fri Nov 19 02:54:01 2010
From: ariasgore at gmx.de (ariasgore@gmx.de)
Date: Fri Nov 19 02:54:05 2010
Subject: [gdal-dev] gdalwarper --formats inconsistent with -of flag?
Message-ID: <20101119075401.226030@gmx.net>

Hello,

I have issues generating pngs out of gdalwarper.

I did the following: 
$ gdalwarper.exe --formats

One of the lines was:
PNG (rwv): Portable Network Graphics
So reading and writing png works!
Here complete list dump http://pastebin.com/ZRS2nZir

Then I tried
gdalwarp.exe -ts 256 256 -of PNG -r bilinear "utm32.tif" "d:/thumb_gdal.png"

and it failed with:
Output driver `PNG' not recognised or does not support
direct output file creation.  The following format drivers are configured.
Then it dumped a list of supported extension and no PNG was found.
Here is the list: http://pastebin.com/wsD3rD7f

Why is there an inconsistency between them?


(GDAL 1.7.1, Win XP)
-- 
GMX DSL Doppel-Flat ab 19,99 &euro;/mtl.! Jetzt auch mit 
gratis Notebook-Flat! http://portal.gmx.net/de/go/dsl
From chaitanya.ch at gmail.com  Fri Nov 19 04:30:13 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Nov 19 04:30:16 2010
Subject: [gdal-dev] gdalwarper --formats inconsistent with -of flag?
In-Reply-To: <20101119075401.226030@gmx.net>
References: <20101119075401.226030@gmx.net>
Message-ID: <AANLkTinHsMFyzhsYTetYZkOduO-K7CkqG2tYysJkMbbs@mail.gmail.com>

Sam,

I too noticed this problem. I'm not sure of the reason other than the error
message.
You can get this done in two steps.
First use gdalwarp to change the image size to 256x256 using bilinear
resampling into a GTiff format image.
Then use gdal_translate it from GTiff to PNG.

On Fri, Nov 19, 2010 at 1:24 PM, <ariasgore@gmx.de> wrote:

> Hello,
>
> I have issues generating pngs out of gdalwarper.
>
> I did the following:
> $ gdalwarper.exe --formats
>
> One of the lines was:
> PNG (rwv): Portable Network Graphics
> So reading and writing png works!
> Here complete list dump http://pastebin.com/ZRS2nZir
>
> Then I tried
> gdalwarp.exe -ts 256 256 -of PNG -r bilinear "utm32.tif"
> "d:/thumb_gdal.png"
>
> and it failed with:
> Output driver `PNG' not recognised or does not support
> direct output file creation.  The following format drivers are configured.
> Then it dumped a list of supported extension and no PNG was found.
> Here is the list: http://pastebin.com/wsD3rD7f
>
> Why is there an inconsistency between them?
>
>
> (GDAL 1.7.1, Win XP)
> --
> GMX DSL Doppel-Flat ab 19,99 &euro;/mtl.! Jetzt auch mit
> gratis Notebook-Flat! http://portal.gmx.net/de/go/dsl
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/a0cc5ac6/attachment.html
From jrepetto at free.fr  Fri Nov 19 04:52:10 2010
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Nov 19 04:52:17 2010
Subject: [gdal-dev] gdalwarper --formats inconsistent with -of flag?
In-Reply-To: <20101119075401.226030@gmx.net>
References: <20101119075401.226030@gmx.net>
Message-ID: <4CE648CA.3050702@free.fr>

Le 19/11/2010 08:54, ariasgore@gmx.de a ?crit :
>
> I have issues generating pngs out of gdalwarper.
>
> I did the following:
> $ gdalwarper.exe --formats
>
> One of the lines was:
> PNG (rwv): Portable Network Graphics
> So reading and writing png works!

Yes, but not creating a PNG !
Formats that allow creation are marked with a '+' sign after the 'w'.
Examples :
BMP (rw+v): MS Windows Device Independent Bitmap
JP2ECW (rw+): ERMapper JPEG2000

Jean-Claude

From jukka.rahkonen at mmmtike.fi  Fri Nov 19 05:08:37 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Nov 19 05:08:53 2010
Subject: [gdal-dev] Flattening in EPSG:3857
Message-ID: <loom.20101119T105727-160@post.gmane.org>

Hi,

Has EPSG changed again something with the Web Mercator projection? 
The EPSG report about EPSG:3857 shows that it is using a flattened 
WGS84 ellipsoid.

http://www.epsg-registry.org/report.htm?type=selection&entity=urn:ogc:def:crs:EPSG::3857&reportDetail=short&style=urn:uuid:report-style:default-with-code&style_name=OGP%20Default%20With%20Code&title=EPSG:3857

Compare with 

http://www.epsg-registry.org/report.htm?type=selection&entity=urn:ogc:def:crs:EPSG::3785&reportDetail=short&style=urn:uuid:report-style:default-with-code&style_name=OGP%20Default%20With%20Code&title=EPSG:3785

I thought that 3857 was just the same as EPSG:3785 used to be and the same than
the fake EPSG:900913. What should I believe now? Is there any valid EPSG code
for a spherical world or is it better to go with the self made EPSG:900913?

-Jukka Rahkonen-

From geographika at gmail.com  Fri Nov 19 05:22:43 2010
From: geographika at gmail.com (geographika)
Date: Fri Nov 19 05:22:51 2010
Subject: [gdal-dev] problem with gdalwarp in 1.7
Message-ID: <4CE64FF3.7080207@gmail.com>

Hi,

I have upgraded from GDAL 1.6 (32bit Windows) to 1.7 (64 bit Windows) 
and the following command no longer works:

C:\mapserver\bin\gdal\apps\gdalwarp C:\Data\Rasters\MiscSuit.tif 
C:\RasterClips\mytest.tif -cutline c:\RasterClips\hello.json -te 
118008.672141 177232.164284 138695.761666 206164.398565 -dstnodata -9999

I get the following message in the command prompt:

     Creating output file that is 414P x 579L.
     Processing input file C:\Data\Rasters\MiscSuit.tif.
     for band 1, destination nodata value has been clamped to 0, the 
original value being out of range.
     ERROR 1: Failed to parse CUTLINE geometry wkt.

The CUTLINE is valid GeoJSON (but would clearly be invalid WKT) and 
produces the correct results in 1.6.
The ogr formats lists GeoJSON as read/write.
I am using 64-bit builds of GDAL taken from http://vbkto.dyndns.org/sdk/
I have also tried using the development version of GDAL 1.8dev but get 
the same message. If I do not use a CUTLINE the gdalwarp completes 
successfully but the new image does not contain any data from my 
original image (all cells are NoData).

Any help on this is much appreciated.
Regards,

Seth G.

http://geographika.co.uk







From bosow at club-internet.fr  Fri Nov 19 05:24:45 2010
From: bosow at club-internet.fr (bosow@club-internet.fr)
Date: Fri Nov 19 05:33:42 2010
Subject: [gdal-dev] GDALWarpOperation::WarpRegionToBuffer() doesn't write in
	my buffer
Message-ID: <28468177.317031290162285371.JavaMail.www@wsfrf1225>

Hi,
I am trying to write a program which is supposed to read geotif files, extract the values I need, then export them in a homemade format.
As my geotif files are on several different UTM zones, I have to change projections so that all the files I open have the same projection as the "main tile" (central tile).


So i'm using WarpRegionToBuffer from GDALWarpOperation class with a null hDstDS, which is supposed to work... but my buffer remains filed with the default values I assigned to him (-999), even though WarpRegionToBuffer returns CE_None...


here is my code:



float* MyTile::extractdomain(float rxso, float ryso, float rxne, float ryne, GDALDataset *maintile)
{
	int immai = 0;
	int jmmai = 0;	
	GDALDatasetH  hSrcDS, hDstDS;
	GDALAllRegister();
	hSrcDS = GDALOpen( this->filename.toLatin1().data(), GA_ReadOnly );
//	hDstDS = GDALOpen( "out.tif", GA_Update );
	hDstDS = 0;
	GDALWarpOptions *psWarpOptions = GDALCreateWarpOptions();
	psWarpOptions->hSrcDS = hSrcDS;
	psWarpOptions->hDstDS = 0;
	psWarpOptions->nBandCount = 1;
	psWarpOptions->panSrcBands = 
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
	psWarpOptions->panSrcBands[0] = 1;
	psWarpOptions->panDstBands = 
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
	psWarpOptions->panDstBands[0] = 1;


	psWarpOptions->pfnProgress = GDALTermProgress;   
	psWarpOptions->eWorkingDataType = GDT_CFloat32;
	psWarpOptions->pTransformerArg = 
		GDALCreateGenImgProjTransformer( hSrcDS, 
		GDALGetProjectionRef(hSrcDS), 
		hDstDS,
		maintile->GetProjectionRef(), 
		FALSE, 0.0, 1 );
//maintile is my central tile, i want to apply its projection to all the other tiles i'm concatenating
	psWarpOptions->pfnTransformer = GDALGenImgProjTransform;
	GDALWarpOperation oOperation;
	oOperation.Initialize( psWarpOptions );
	if (rxso < XSO)
		rxso = XSO;
	if (ryso < YSO)
		ryso = YSO;	
	if (rxne > XNE)
		rxne = XNE;
	if (ryne > YNE)
		ryne = YNE;
	immai = ABS((rxne - rxso)) / dx;
	jmmai = ABS((ryne - ryso)) / dy;
	try
	{
		this->ch2d = new float[immai * jmmai];
		if (ch2d)
		{
			for (int i = 0 ; i < immai * jmmai ; i++)
				ch2d[i] = -999;
		}
	}
	catch(...)
	{
		//could not allocate memory
		return (0);
	}


	int		nXOff=int((rxso-dx/2.-rxso)/dx);
	int     nYOff=int((YNE-(ryne+(-dy)/2.))/(dy));
	int     nXSize=((rxne-rxso+dx)/dx)+1;
	int     nYSize=((ryne-ryso+(-dy))/(dy))+1;
	int xs;
	int ys;
	 double adfGeoTransform[6];
	GDALSuggestedWarpOutput(hSrcDS, psWarpOptions->pfnTransformer, psWarpOptions->pTransformerArg, adfGeoTransform, &xs, &ys);
	int error = 	oOperation.WarpRegionToBuffer(0, 0, nXSize, nYSize, ch2d,
		GDT_CFloat32, nXOff, nYOff, nXSize, nYSize);
	if (error == CE_None)
		printf("okcool\n");
	else
		printf("okpascool\n");
	int size = sizeof(float);
	for (int i = 0 ; i < immai * jmmai ; i++)
	{
		if (ch2d[i] != -999)
		{
			//small test to see if I have != values from default...
			printf("roflflflfl");
		}
	}
	GDALClose(hSrcDS);
	GDALClose(hDstDS);
	GDALDestroyGenImgProjTransformer( psWarpOptions->pTransformerArg );
	GDALDestroyWarpOptions( psWarpOptions );
	return (this->ch2d);
}




By the way, I noticed a floating exception in GDALWarpOperation::WarpRegionToBuffer() if you don't set a value to your GDALWarpOptions eWorkingDataType attribute, since nWordSize will be null and the integer overflow test will divide by zero : "nSrcXSize * nSrcYSize > INT_MAX / (nWordSize * psOptions->nBandCount)"




Any hint / help will be really appreciated!
Thanks,
--
Matthieu







-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/cc2b3413/attachment-0001.html
From yrrman at gmail.com  Fri Nov 19 05:36:31 2010
From: yrrman at gmail.com (yrrman yrrman)
Date: Fri Nov 19 05:36:34 2010
Subject: [gdal-dev] gdalinfo, map unit DD and epsg:9108
Message-ID: <AANLkTimCw4WU3_oyHT_U1OZY75idQkuQkyRJfi++yO5G@mail.gmail.com>

Hi everyone,

I'm new to this list and would therefore like to say "hello and thanks
for gdal" in the first place :-)


I just came across a minor problem where I would like to ask for your advice -

the Global Landcover set GLC2000 is available in grid format from [0].
Associated with it is the .hdr file with the projection description
[2].

Apparently the map units are in decimal degree.

When I ask gdalinfo, I get the WKT description of the SRS, see [3]


Everything's fine with this, I only came across the UNIT-Field

 UNIT["degree",0.0174532925199433, AUTHORITY["EPSG","9108"]],

where the unit is degree, defined according to epsg:9108. When you
look up epsg:9108 in the epsg registry [1] you get as Unit of Measure:

Code: EPSG::9108 - Name: degree minute second hemisphere (i.e. not
decimal degree)

Shouldn't this rather be epsg:9102 then?
Code: EPSG::9102 Name: degree, 1 degree: 0.017453292519943278 radian



As I said, it's not very important, just out of curiousity.

I'm using
GDAL 1.7.0b2, FWTools 2.4.7, released 2010/01/19


Thanks a lot and kind regards,


Chris

PS
I had registered and sent this mail already  days ago after some
problems with registering
("googlemail" vs. "gmail"), however the mail was then neither rejected
nor appeared on the list.
I switched to gmail and re-registered now and hope it will work now.
Or is this list moderated and the mail has been
silently rejected? :-) Thanks again to Frank who helped with the
registration problem -  and greetings, Chris.


-------------------------------------------------------------------------------------
[0] http://bioval.jrc.ec.europa.eu/products/glc2000/products.php
[1] http://www.epsg-registry.org/
[2] glc2000_v1_1_projinfo.hdr:

BANDS:      1
ROWS:   16353
COLS:   40320
INTERLEAVING:    NA
DATATYPE: U8
BYTE_ORDER: NA
UL_X_COORDINATE:           -180.000000
UL_Y_COORDINATE:             89.991071
LR_X_COORDINATE:            179.991070
LR_Y_COORDINATE:            -56.008928
PIXEL_WIDTH:               0.0089285714
PIXEL_HEIGHT:              0.0089285714
MAP_UNITS:    DD
PROJECTION_NAME: Geographic (Lat/Lon)
PROJECTION_ZONE:     0
PROJECTION_PARAMETERS:
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
                  0.000000
SPHEROID_NAME: WGS 84
SEMI_MAJOR_AXIS:        6378137.000000
SEMI_MINOR_AXIS:        6356752.314245
E_SQUARED:                    0.006694
RADIUS:                 6371007.180918

[3] gdalinfo output:
Driver: AIG/Arc/Info Binary Grid
Files: glc2000_v1_1
    glc2000_v1_1\dblbnd.adf
    glc2000_v1_1\hdr.adf
    glc2000_v1_1\log
    glc2000_v1_1\metadata.xml
    glc2000_v1_1\prj.adf
    glc2000_v1_1\sta.adf
    glc2000_v1_1\vat.adf
    glc2000_v1_1\w001001.adf
    glc2000_v1_1\w001001x.adf
Size is 40320, 16353
Coordinate System is:
GEOGCS["WGS 84",
 DATUM["WGS_1984",
     SPHEROID["WGS 84",6378137,298.257223563,
         AUTHORITY["EPSG","7030"]],
     TOWGS84[0,0,0,0,0,0,0],
     AUTHORITY["EPSG","6326"]],
 PRIMEM["Greenwich",0,
     AUTHORITY["EPSG","8901"]],
 UNIT["degree",0.0174532925199433,
     AUTHORITY["EPSG","9108"]],
 AUTHORITY["EPSG","4326"]]
Origin = (-180.004464285700010,89.995535666300043)
Pixel Size = (0.008928571400000,-0.008928571400000)
Corner Coordinates:
Upper Left  (-180.0044643,  89.9955357) (180d 0'16.07"W, 89d59'43.93"N)
Lower Left  (-180.0044643, -56.0133924) (180d 0'16.07"W, 56d 0'48.21"S)
Upper Right ( 179.9955346,  89.9955357) (179d59'43.92"E, 89d59'43.93"N)
Lower Right ( 179.9955346, -56.0133924) (179d59'43.92"E, 56d 0'48.21"S)
Center      (  -0.0044649,  16.9910716) (  0d 0'16.07"W, 16d59'27.86"N)
Band 1 Block=256x4 Type=Byte, ColorInterp=Palette
 Min=1.000 Max=23.000
 NoData Value=255
 Metadata:
 LAYER_TYPE=thematic
 Color Table (RGB with 256 entries)
 0: 0,0,0,255 [..]
From Solent_Charger at yahoo.co.uk  Fri Nov 19 10:38:24 2010
From: Solent_Charger at yahoo.co.uk (MGabriel)
Date: Fri Nov 19 10:38:27 2010
Subject: [gdal-dev] Re: Gdal Warp in C#
In-Reply-To: <f3b73b7d0701311642n7be60b79nede6bfcde14a7c13@mail.gmail.com>
References: <009f01c74470$2a63d4c0$2201a8c0@pcjmp> <45BF77B5.30203@pobox.com>
	<f3b73b7d0701311642n7be60b79nede6bfcde14a7c13@mail.gmail.com>
Message-ID: <1290181104737-5755635.post@n2.nabble.com>


Hi Tamas, 
I am trying to use AutoCreateWarpedVRT from C# and finding that the
reprojection is not warped. Could you confirm whether your patch has been
applied to gdal? I also couldn't find your C# example anywhere so assumed
that it hasn't been added in yet. 
Thanks, 
Marcus.  


-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Gdal-Warp-in-C-tp2028743p5755635.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From Ken.Boss at state.mn.us  Fri Nov 19 10:45:04 2010
From: Ken.Boss at state.mn.us (Boss, Ken (DNR))
Date: Fri Nov 19 10:46:26 2010
Subject: [gdal-dev] KernelFilteredSource and nodata
In-Reply-To: <AANLkTikheJoXLe_ATzSQHGrjrc2iMO+nap5NsnFRjkjm@mail.gmail.com>
References: <4CF306D7079ED548B6AB1864F369FE78084DFCB5AD@MNMAIL05.ead.state.mn.us>
	<AANLkTikw6SetDkcJudXt8imSMD7zt5dRnck9H5FS+CmL@mail.gmail.com>
	<4CF306D7079ED548B6AB1864F369FE78084E01C080@MNMAIL05.ead.state.mn.us>
	<AANLkTikheJoXLe_ATzSQHGrjrc2iMO+nap5NsnFRjkjm@mail.gmail.com>
Message-ID: <4CF306D7079ED548B6AB1864F369FE78084E01C62D@MNMAIL05.ead.state.mn.us>

Thanks very much Chaitanya, that was indeed my problem.

I am using gdal_grid to create the image that I am filtering, and am setting "nodata=255" as a parameter on the interpolation algorithm.  I had expected that this would cause nodata areas to be written as 255, and that 255 would be marked as the nodata value in the output image (geotiff) metadata, but apparently only the former is true, and I need to run the output through gdal_translate as you indicate in order to set the metadata.

Thanks again,

--Ken

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Chaitanya kumar CH
Sent: Thursday, November 18, 2010 10:59 PM
To: Boss, Ken (DNR)
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] KernelFilteredSource and nodata

Ken,

KernelFilteredSource is derived from SimpleSource. It does not support setting a nodata value to the source band.
Make sure your source image has a nodata value. You can set it using gdal_translate with the -a_nodata option.
On Fri, Nov 19, 2010 at 2:10 AM, Boss, Ken (DNR) <Ken.Boss@state.mn.us<mailto:Ken.Boss@state.mn.us>> wrote:
Chaitanya--

Thanks much for your response.

I don't think that I described my problem effectively.  Let me restate it and see if we are talking about the same thing.

Here is a .vrt file that I think should accomplish what I am after:

<VRTDataset rasterYSize='690' rasterXSize='575'>
 <SRS>EPSG:26915</SRS>
 <GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
 <VRTRasterBand band='1' dataType='Byte'>
   <KernelFilteredSource>
     <SourceFilename>D:/MyFiles/aptana_workspace/fire-webpage-mgmt/data/tmp_images/interpolated.tif</SourceFilename>
     <SourceBand>1</SourceBand>
     <NoDataValue>255</NoDataValue>
     <Kernel normalized="1">
       <Size>5</Size>
       <Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
     </Kernel>
   </KernelFilteredSource>
 </VRTRasterBand>
</VRTDataset>
I believe this file to be saying that interpolated.tif uses a value of 255 for nodata, and that the kernel is to be normalized - that is, it should:

 o ignore any nodata pixels within the kernel window when operating on a valid pixel
 o adjust the coefficients to sum to one for the number of valid pixels in the window when operating on a valid pixel
 o do nothing at all when centered on a nodata pixel

I would expect then that any pixels that go in as nodata should come out as nodata, and that pixels with valid data values that are near nodata pixels should not be influenced by them.

However, the outputs are not what I expect.  The averaging is applied to both nodata and valid pixels alike.  Have I set this up correctly, and is there a bug somewhere, or (more likely) is my vrt improperly constructed?

Thanks for your help,

--Ken

> -----Original Message-----
> From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com<mailto:chaitanya.ch@gmail.com>]
> Sent: Wednesday, November 17, 2010 11:11 PM
> To: Boss, Ken (DNR)
> Cc: gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
> Subject: Re: [gdal-dev] KernelFilteredSource and nodata
>
> Ken,
>
> The current kernel filter does not ignore the boundaries of nodata pixels. But it
> does normalize the kernel after ignoring the nodata pixels in the kernel, if the
> 'normalized' attribute is set to 1.
>
> You can raise a ticket to request for this feature at
> http://trac.osgeo.org/gdal/newticket
>
>> On Thu, Nov 18, 2010 at 6:08 AM, Boss, Ken (DNR) <Ken.Boss@state.mn.us<mailto:Ken.Boss@state.mn.us>>
>> wrote:
>> Hello list--
>>
>> I am attempting to filter a raster using gdal_translate (v 1.7) and a vrt with a
>> KernelFilteredSource.  The input raster contains large areas of "nodata" values.  I
>> would like the filter to ignore those areas.  I have tried various combinations of
>> <NoDataValue>, <HideNoDataValue>, <NODATA> and <Kernel normalized='1'>,
>> but have not been able to prevent the filter from applying itself at data/nodata
>> boundaries.
>>
>> My current VRT and gdal_translate command lines are below.  Can anyone tell me
>> what I am doing wrong?
>>
>> Thanks,
>>
>> Ken Boss
>> Minnesota DNR
>>
>> ===== kernel_filter.vrt ===================
>>
>> <VRTDataset rasterYSize='690' rasterXSize='575'>
>>  <SRS>EPSG:26915</SRS>
>>  <GeoTransform>190000, 1000, 0, 4795000, 0, 1000</GeoTransform>
>>  <VRTRasterBand band='1' dataType='Byte'>
>>    <KernelFilteredSource>
>>      <SourceFilename>interpolated.tif</SourceFilename>
>>      <SourceBand>1</SourceBand>
>>      <NoDataValue>255</NoDataValue>
>>      <HideNoDataValue>1</HideNoDataValue>
>>      <Kernel normalized='1'>
>>        <Size>5</Size>
>>        <Coefs>0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04
>> 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04 0.04</Coefs>
>>      </Kernel>
>>    </KernelFilteredSource>
>>  </VRTRasterBand>
>> </VRTDataset>
>>
>> =====================================
>>
>> gdal_translate -of GTiff -ot Byte -a_srs EPSG:26915 kernel_filter.vrt
>> kernel_filtered.tif
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E



--
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/fded164a/attachment-0001.html
From warmerdam at pobox.com  Fri Nov 19 11:56:53 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 19 11:56:58 2010
Subject: [gdal-dev] gdalinfo, map unit DD and epsg:9108
In-Reply-To: <AANLkTimCw4WU3_oyHT_U1OZY75idQkuQkyRJfi++yO5G@mail.gmail.com>
References: <AANLkTimCw4WU3_oyHT_U1OZY75idQkuQkyRJfi++yO5G@mail.gmail.com>
Message-ID: <4CE6AC55.2020304@pobox.com>

yrrman yrrman wrote:
> the Global Landcover set GLC2000 is available in grid format from [0].
> Associated with it is the .hdr file with the projection description
> [2].
> 
> Apparently the map units are in decimal degree.
> 
> When I ask gdalinfo, I get the WKT description of the SRS, see [3]
> 
> 
> Everything's fine with this, I only came across the UNIT-Field
> 
>  UNIT["degree",0.0174532925199433, AUTHORITY["EPSG","9108"]],
> 
> where the unit is degree, defined according to epsg:9108. When you
> look up epsg:9108 in the epsg registry [1] you get as Unit of Measure:
> 
> Code: EPSG::9108 - Name: degree minute second hemisphere (i.e. not
> decimal degree)
> 
> Shouldn't this rather be epsg:9102 then?
> Code: EPSG::9102 Name: degree, 1 degree: 0.017453292519943278 radian

Chris,

For WKT representations we deliberately use decimal degrees instead of
DMS format for convenient processing.  So the result isn't quite exactly
according to EPSG but the difference is deliberate and in my opinion
is important for interoperability.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Nov 19 12:04:41 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 19 12:04:47 2010
Subject: [gdal-dev] problem with gdalwarp in 1.7
In-Reply-To: <4CE64FF3.7080207@gmail.com>
References: <4CE64FF3.7080207@gmail.com>
Message-ID: <4CE6AE29.1060509@pobox.com>

geographika wrote:
> Hi,
> 
> I have upgraded from GDAL 1.6 (32bit Windows) to 1.7 (64 bit Windows) 
> and the following command no longer works:
> 
> C:\mapserver\bin\gdal\apps\gdalwarp C:\Data\Rasters\MiscSuit.tif 
> C:\RasterClips\mytest.tif -cutline c:\RasterClips\hello.json -te 
> 118008.672141 177232.164284 138695.761666 206164.398565 -dstnodata -9999
> 
> I get the following message in the command prompt:
> 
>     Creating output file that is 414P x 579L.
>     Processing input file C:\Data\Rasters\MiscSuit.tif.
>     for band 1, destination nodata value has been clamped to 0, the 
> original value being out of range.
>     ERROR 1: Failed to parse CUTLINE geometry wkt.
> 
> The CUTLINE is valid GeoJSON (but would clearly be invalid WKT) and 
> produces the correct results in 1.6.
> The ogr formats lists GeoJSON as read/write.
> I am using 64-bit builds of GDAL taken from http://vbkto.dyndns.org/sdk/
> I have also tried using the development version of GDAL 1.8dev but get 
> the same message. If I do not use a CUTLINE the gdalwarp completes 
> successfully but the new image does not contain any data from my 
> original image (all cells are NoData).

Seth,

Can you make the .json file available?  Does it work with OGR?  Try
ogrinfo on it.

Hmm, tracking through the code the LoadCutline() function in gdalwarp.cpp
will read from the OGR datasource and convert the geometry to WKT which is
attached to the cutline property of the warp.  Later GDALWarpOperation::
Initialize() turns that into a polygon object and that is where the message
is coming from.  So I am *suspecting* improper WKT of some type is getting
produced somehow.  We will really need to see the WKT that is causing the
error to know more.

If you are comfortable rebuilding things then try changing:

     const char *pszCutlineWKT =
         CSLFetchNameValue( psOptions->papszWarpOptions, "CUTLINE" );

     if( pszCutlineWKT )
     {

in the file gdal/alg/gdalwarpoperation.cpp to something like:


     const char *pszCutlineWKT =
         CSLFetchNameValue( psOptions->papszWarpOptions, "CUTLINE" );

     if( pszCutlineWKT )
     {
         printf( "WKT = %s\n", pszCutlineWKT );


Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Nov 19 12:10:59 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 19 12:11:03 2010
Subject: [gdal-dev] Flattening in EPSG:3857
In-Reply-To: <loom.20101119T105727-160@post.gmane.org>
References: <loom.20101119T105727-160@post.gmane.org>
Message-ID: <4CE6AFA3.2010405@pobox.com>

Jukka Rahkonen wrote:
> Hi,
> 
> Has EPSG changed again something with the Web Mercator projection? 
> The EPSG report about EPSG:3857 shows that it is using a flattened 
> WGS84 ellipsoid.
> 
> http://www.epsg-registry.org/report.htm?type=selection&entity=urn:ogc:def:crs:EPSG::3857&reportDetail=short&style=urn:uuid:report-style:default-with-code&style_name=OGP%20Default%20With%20Code&title=EPSG:3857
> 
> Compare with 
> 
> http://www.epsg-registry.org/report.htm?type=selection&entity=urn:ogc:def:crs:EPSG::3785&reportDetail=short&style=urn:uuid:report-style:default-with-code&style_name=OGP%20Default%20With%20Code&title=EPSG:3785
> 
> I thought that 3857 was just the same as EPSG:3785 used to be and the same than
> the fake EPSG:900913. What should I believe now? Is there any valid EPSG code
> for a spherical world or is it better to go with the self made EPSG:900913?

Jukka,

In EPSG:3785 web mercator was expressed as a normal Mercator 1SP projection
on a spherical GCS.  However, this lost the fact that the lat/long coordinates
you produced when unprojecting the mercator coordiantes were supposed to be
treated as WGS84, not lat/long on the sphere.

So that was deprecated and EPSG:3857 (it freaks me out that they are the
same digits just rearranged!) was introduced.  This is based on WGS84, but
they define a custom projection method "Popular Visualization Psuedo
Mercator" which seems to have the spherical earth model for the projection
algorithm "baked in", but is otherwise based on a normal WGS84 GCS.  This
makes it easy for applications to understand that the unprojected
coordinates are to be treated as WGS84.

For what it's worth, GDAL has custom logic to treat them as equivalent.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Nov 19 12:55:03 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 19 12:55:10 2010
Subject: [gdal-dev] converting shp to dgn
In-Reply-To: <AANLkTikgVVZZbiB6RX5ZECjpUQ_=na9YM=vYgDHRA=j7@mail.gmail.com>
References: <AANLkTikgVVZZbiB6RX5ZECjpUQ_=na9YM=vYgDHRA=j7@mail.gmail.com>
Message-ID: <4CE6B9F7.2040007@pobox.com>

Travis Kirstine wrote:
> Is it possible to set DNG attributes using ogr2ogr and write values to
> the Text field for non point features.  If this is not possible with
> ogr2ogr can it be done with the api (write values to the text field
> for polygon features).

Travis,

It is embarrassing how much the dgnlib stuff has faded in my memory.

First, the OGR DGN writing code is quite restrictive and does not give
access to all the write capabilities of dgnlib by some ways.  On quick
review the only way to write text through OGR is as a feature with a point
feature which is turned into a DGNTextElem element associating the text
with a point.

I'm not aware of other normal mechanisms of writing display text in a
DGN file.  I would *assume* that the normal way to associate text with
a polygon is to create a group containing the polygon and a normal
text object.  This would need to be done with direct dgnlib calls -
OGR does not support doing this.

I'm a bit vague on the details of DGN attributes anymore.  I believe
there is fine grained control available from the dgnlib api though I don't
know that I have done complicated stuff with it.

I think the database linkages are stored in the attribute data for the
elements, and there is some support in OGR for writing linkage information
back to dgn files.  There may be more capabilities in this regard than
is evident from the drv_dgn.html docs.  For instance I notice in the code
stuff about a DGN_LINK_FORMAT configuration option.

I hope that helps a bit.  You might get better answers on dgnlib issues
on the dgnlib mailing list.  Some of the folks there seem to know more about
the library than I do!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From b.morabito at tdnet.it  Fri Nov 19 13:46:20 2010
From: b.morabito at tdnet.it (morabit)
Date: Fri Nov 19 13:46:22 2010
Subject: [gdal-dev] Unable to load CIB datasets with GDAL
Message-ID: <1290192380996-5756271.post@n2.nabble.com>


Hi All,
  In our project we are using GDAL 1.7.2 to load map data in various formats
as CADRG, DTED, CIB, etc.
All it's working fine but we have a big problem with the CIB format. 
For this type of datasets, the GDALOpen function fails with the following
error message:
'For <frameFileName>, assert 'geoTransf[GEOTRSFRM_ROTATION_PARAM1] == 0 &&
geoTransf[GEOTRSFRM_ROTATION_PARAM2] == 0' failed.'
 
We checked the source code and discovered that this was due to a series of
assert failures 
in file rpftocdataset.cpp, lines 733, 740.
 
We tried to comment out this asserts, but now the same function fails with
the following error message:
'Ignoring NITF RPF Location table since it seems to be corrupt.'
 
We are pretty sure that our datasets are not corrupted, as the same datasets
are loaded 
without any problems by Global Mapper v12.00 and FalconView 4.3.0.
The gdalinfo tool seems to handle these files with no problems but if we use
it 
with the -mm option the following errors are reported:
......
......
Band 1 Block=256x256 Type=Byte, ColorInterp=Palette
  ERROR 6: File lacks VQ LUTs, unable to decode image
ERROR 1: IReadBlock failed at X offset 0, Y offset 0
ERROR 6: File lacks VQ LUTs, unable to decode imagery
ERROR 1: IReadBlock failed at X offset 1, Y offset 0
......
......
ERROR 1: Failed to compute min/max, no valid pixels found in sampling.
 

The openev tool, that uses GDAL internally, is able to load them
only if we force the use of the OGDI driver.
 
The datasets come from a military collection with limited access and 
cannot be shared completely, so we can attach only a truncated NITF frame
file.
However, it should include all the relevant metadata values since the
problem seems 
to come from there.
 
Thank you
 
Bruno M. http://osgeo-org.1803224.n2.nabble.com/file/n5756271/0AA43516.I42
0AA43516.I42 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Unable-to-load-CIB-datasets-with-GDAL-tp5756271p5756271.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Fri Nov 19 14:00:45 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 19 14:00:50 2010
Subject: [gdal-dev] Unable to load CIB datasets with GDAL
In-Reply-To: <1290192380996-5756271.post@n2.nabble.com>
References: <1290192380996-5756271.post@n2.nabble.com>
Message-ID: <4CE6C95D.2040809@pobox.com>

morabit wrote:
> Hi All,
>   In our project we are using GDAL 1.7.2 to load map data in various formats
> as CADRG, DTED, CIB, etc.
> All it's working fine but we have a big problem with the CIB format. 
> For this type of datasets, the GDALOpen function fails with the following
> error message:
> 'For <frameFileName>, assert 'geoTransf[GEOTRSFRM_ROTATION_PARAM1] == 0 &&
> geoTransf[GEOTRSFRM_ROTATION_PARAM2] == 0' failed.'
>  
> We checked the source code and discovered that this was due to a series of
> assert failures 
> in file rpftocdataset.cpp, lines 733, 740.
>  
> We tried to comment out this asserts, but now the same function fails with
> the following error message:
> 'Ignoring NITF RPF Location table since it seems to be corrupt.'
>  
> We are pretty sure that our datasets are not corrupted, as the same datasets
> are loaded 
> without any problems by Global Mapper v12.00 and FalconView 4.3.0.
> The gdalinfo tool seems to handle these files with no problems but if we use
> it 
> with the -mm option the following errors are reported:
> ......
> ......
> Band 1 Block=256x256 Type=Byte, ColorInterp=Palette
>   ERROR 6: File lacks VQ LUTs, unable to decode image
> ERROR 1: IReadBlock failed at X offset 0, Y offset 0
> ERROR 6: File lacks VQ LUTs, unable to decode imagery
> ERROR 1: IReadBlock failed at X offset 1, Y offset 0
> ......
> ......
> ERROR 1: Failed to compute min/max, no valid pixels found in sampling.

Bruno,

Could you create a ticket in the GDAL trac for this issue?  When I run
the nitfdump utility against the .I42 file I get messages like:

ERROR 1: Cannot read RPFIMG TRE. Not enough bytes : remaining 1350, expected 1400

Do you see anything similar when accessing the full file?

This might be an issue easier for Even to review as he wrote the RPFTOC
driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From matt at globalforestwatch.ca  Fri Nov 19 14:06:07 2010
From: matt at globalforestwatch.ca (Matt Hanneman)
Date: Fri Nov 19 14:06:05 2010
Subject: [gdal-dev] gdal_merge and HFA band statistics
Message-ID: <4CE6CA9F.20705@globalforestwatch.ca>

Can anyone tell me why the option 'STATISTICS=YES' works when using 
gdal_translate to translate from TIF to HFA (Erdas Imagine), but will 
NOT work when using gdal_merge to stack multiple TIFs into HFA? I need 
ArcMap to read the statistics, but it doesnt seem that they are being 
written to the file. I find this strange because ArcMap can identify the 
Stats when an HFA image is created with gdal_translate.

I am using GDAL version 1.7.3

Here is an example of the code I am using:

gdal_merge -o "output.img" -of HFA -co STATISTICS=YES -co 
FORCETOPESTRING=YES -separate -v "image1.tif" "image2.tif" "image3.tif"

gdal_translate -of HFA -co STATISTICS=YES -co FORCETOPESTRING=YES  
"image1.tif" "image1.img"

Thanks for any advise.

Matt

-- 

*Matt Hanneman*
Director of GISand Remote Sensing
Global Forest Watch Canada
10337 146 St, Edmonton, AB T5N 3A3
Tel: 780-422-5989 Fax: 780-454-5521
www.globalforestwatch.ca <http://www.globalforestwatch.ca/>

**

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/992a261d/attachment-0001.html
From warmerdam at pobox.com  Fri Nov 19 14:23:52 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 19 14:23:56 2010
Subject: [gdal-dev] gdal_merge and HFA band statistics
In-Reply-To: <4CE6CA9F.20705@globalforestwatch.ca>
References: <4CE6CA9F.20705@globalforestwatch.ca>
Message-ID: <4CE6CEC8.5010406@pobox.com>

Matt Hanneman wrote:
>   Can anyone tell me why the option 'STATISTICS=YES' works when using 
> gdal_translate to translate from TIF to HFA (Erdas Imagine), but will 
> NOT work when using gdal_merge to stack multiple TIFs into HFA? I need 
> ArcMap to read the statistics, but it doesnt seem that they are being 
> written to the file. I find this strange because ArcMap can identify the 
> Stats when an HFA image is created with gdal_translate.

Matt,

gdal_translate uses the HFA driver's "CreateCopy" method which
honours the STATISTICS=YES creation option.  gdal_merge uses
the HFA driver's Create method and then imperatively writes
chunks into the file here and there.  The general write support
does not honour the statistics option.

Ideally the end user would not need to be too aware of the
two creation strategies but in practice it is significant
in a number of situations including yours, and the daily
questions about why folks can't use gdal_merge.py to produce
format XXX.

If you need the statistics you will just have to produce a mosaic
and then translate it again to produce a final file with the
statistics.  If the issue is very important to you it might be
possible to modify things so that the statistics generated by
gdalinfo -stats can be written back into the original HFA file
in an ArcMap compatible form - but that could be pretty involved.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ryantxu at gmail.com  Fri Nov 19 15:46:50 2010
From: ryantxu at gmail.com (Ryan McKinley)
Date: Fri Nov 19 15:46:54 2010
Subject: [gdal-dev] Unable to load CIB datasets with GDAL
In-Reply-To: <4CE6C95D.2040809@pobox.com>
References: <1290192380996-5756271.post@n2.nabble.com>
	<4CE6C95D.2040809@pobox.com>
Message-ID: <AANLkTi=jo6MED8C+6F3VGm6hox9hTOO8LVXqF71q2_jM@mail.gmail.com>

Perhaps related...  I have an .I24 file that fails to read in GDAL,
but works OK in ArcCatalog 9.3 (in 10 it fails, since they now use
GDAL!)

Running a recent /trunk build, I get:
$ ./gdalinfo.exe "F:\...\rpf\file.i24"
ERROR 1: Image header too small (called from line 606)
ERROR 1: Image header too small (called from line 606)
gdalinfo failed - unable to open 'F:\...\rpf\file.i24'.

$ ./gdalinfo.exe --debug ON "F:\...\rpf\file.i24"
ERROR 1: Image header too small (called from line 606)
ERROR 1: Image header too small (called from line 606)
gdalinfo failed - unable to open 'F:\...\rpf\file.i24'.
GDAL: GDALDeregister_GTiff() called.

not sure if this is helpful or not

ryan



On Fri, Nov 19, 2010 at 2:00 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> morabit wrote:
>>
>> Hi All,
>> ?In our project we are using GDAL 1.7.2 to load map data in various
>> formats
>> as CADRG, DTED, CIB, etc.
>> All it's working fine but we have a big problem with the CIB format. For
>> this type of datasets, the GDALOpen function fails with the following
>> error message:
>> 'For <frameFileName>, assert 'geoTransf[GEOTRSFRM_ROTATION_PARAM1] == 0 &&
>> geoTransf[GEOTRSFRM_ROTATION_PARAM2] == 0' failed.'
>> ?We checked the source code and discovered that this was due to a series
>> of
>> assert failures in file rpftocdataset.cpp, lines 733, 740.
>> ?We tried to comment out this asserts, but now the same function fails
>> with
>> the following error message:
>> 'Ignoring NITF RPF Location table since it seems to be corrupt.'
>> ?We are pretty sure that our datasets are not corrupted, as the same
>> datasets
>> are loaded without any problems by Global Mapper v12.00 and FalconView
>> 4.3.0.
>> The gdalinfo tool seems to handle these files with no problems but if we
>> use
>> it with the -mm option the following errors are reported:
>> ......
>> ......
>> Band 1 Block=256x256 Type=Byte, ColorInterp=Palette
>> ?ERROR 6: File lacks VQ LUTs, unable to decode image
>> ERROR 1: IReadBlock failed at X offset 0, Y offset 0
>> ERROR 6: File lacks VQ LUTs, unable to decode imagery
>> ERROR 1: IReadBlock failed at X offset 1, Y offset 0
>> ......
>> ......
>> ERROR 1: Failed to compute min/max, no valid pixels found in sampling.
>
> Bruno,
>
> Could you create a ticket in the GDAL trac for this issue? ?When I run
> the nitfdump utility against the .I42 file I get messages like:
>
> ERROR 1: Cannot read RPFIMG TRE. Not enough bytes : remaining 1350, expected
> 1400
>
> Do you see anything similar when accessing the full file?
>
> This might be an issue easier for Even to review as he wrote the RPFTOC
> driver.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From nhatzop at gmail.com  Fri Nov 19 16:59:42 2010
From: nhatzop at gmail.com (Nikolaos Hatzopoulos)
Date: Fri Nov 19 17:00:17 2010
Subject: [gdal-dev] gdawrap nodata value
Message-ID: <AANLkTinQPc6t7uBs94p-6Bj_O4=4aBReXw=hh+Ddc4nw@mail.gmail.com>

we have an image named evi.tif:

Driver: GTiff/GeoTIFF
Files: evi.tif
       evi.tif.aux.xml
Size is 4800, 4800
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["Unknown datum based upon the custom spheroid",
        DATUM["Not_specified_based_on_custom_spheroid",
            SPHEROID["Custom spheroid",6371007.181,0]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Sinusoidal"],
    PARAMETER["longitude_of_center",0],
    PARAMETER["false_easting",0],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (1111950.519667000044137,5559752.598333000205457)
Pixel Size = (231.656358263749951,-231.656358263750064)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  ( 1111950.520, 5559752.598) ( 15d33'26.06"E, 50d 0'0.00"N)
Lower Left  ( 1111950.520, 4447802.079) ( 13d 3'14.66"E, 40d 0'0.00"N)
Upper Right ( 2223901.039, 5559752.598) ( 31d 6'52.12"E, 50d 0'0.00"N)
Lower Right ( 2223901.039, 4447802.079) ( 26d 6'29.32"E, 40d 0'0.00"N)
Center      ( 1667925.779, 5003777.339) ( 21d12'47.53"E, 45d 0'0.00"N)
Band 1 Block=4800x1 Type=Int16, ColorInterp=Gray
  Min=-1958.000 Max=9866.000
  Minimum=-1958.000, Maximum=9866.000, Mean=2649.127, StdDev=985.073
  NoData Value=-3000
  Metadata:
    STATISTICS_MINIMUM=-1958
    STATISTICS_MAXIMUM=9866
    STATISTICS_MEAN=2649.1270908869
    STATISTICS_STDDEV=985.07287762024

we will try to convert the projection:

gdalwarp -srcnodata "-3000" -dstnodata "-3000" -t_srs "EPSG:4326" -r near
evi.tif test.tif


gdalinfo  test.tif

Driver: GTiff/GeoTIFF
Files: test.tif
       test.tif.aux.xml
Size is 8434, 4670
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (13.054072891468254,49.999999995506890)
Pixel Size = (0.002141488569817,-0.002141488569817)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  13.0540729,  50.0000000) ( 13d 3'14.66"E, 50d 0'0.00"N)
Lower Left  (  13.0540729,  39.9992484) ( 13d 3'14.66"E, 39d59'57.29"N)
Upper Right (  31.1153875,  50.0000000) ( 31d 6'55.39"E, 50d 0'0.00"N)
Lower Right (  31.1153875,  39.9992484) ( 31d 6'55.39"E, 39d59'57.29"N)
Center      (  22.0847302,  44.9996242) ( 22d 5'5.03"E, 44d59'58.65"N)
Band 1 Block=8434x1 Type=Int16, ColorInterp=Gray
  Min=-1958.000 Max=9866.000
  Minimum=-1958.000, Maximum=9866.000, Mean=1838.460, StdDev=1460.598
  Metadata:
    STATISTICS_MINIMUM=-1958
    STATISTICS_MAXIMUM=9866
    STATISTICS_MEAN=1838.4595819714
    STATISTICS_STDDEV=1460.5982146014

NoData value is not defined
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101119/3296e2b2/attachment.html
From warmerdam at pobox.com  Fri Nov 19 17:14:00 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 19 17:14:05 2010
Subject: [gdal-dev] gdawrap nodata value
In-Reply-To: <AANLkTinQPc6t7uBs94p-6Bj_O4=4aBReXw=hh+Ddc4nw@mail.gmail.com>
References: <AANLkTinQPc6t7uBs94p-6Bj_O4=4aBReXw=hh+Ddc4nw@mail.gmail.com>
Message-ID: <4CE6F6A8.4040201@pobox.com>

Nikolaos Hatzopoulos wrote:
> we will try to convert the projection:
> 
> gdalwarp -srcnodata "-3000" -dstnodata "-3000" -t_srs "EPSG:4326" -r 
> near evi.tif test.tif
...
> Band 1 Block=8434x1 Type=Int16, ColorInterp=Gray
>   Min=-1958.000 Max=9866.000
>   Minimum=-1958.000, Maximum=9866.000, Mean=1838.460, StdDev=1460.598
>   Metadata:
>     STATISTICS_MINIMUM=-1958
>     STATISTICS_MAXIMUM=9866
>     STATISTICS_MEAN=1838.4595819714
>     STATISTICS_STDDEV=1460.5982146014
> 
> NoData value is not defined

Nikolaos,

I just tried:

    gdalwarp utm.tif -dstnodata 255 out.tif

and the nodata value was set properly on out.tif with trunk, gdal-1.7 and
gdal-1.6.  Is it possible that test.tif already existed when you ran the
gdalwarp command?  It won't be recreated and some options might have no
effect when the output file already exists.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fjricca at gmail.com  Sat Nov 20 09:16:51 2010
From: fjricca at gmail.com (javiricca)
Date: Sat Nov 20 09:16:53 2010
Subject: [gdal-dev] Re: error compiling gdal 1.6.3 in rhel 5 64bits
In-Reply-To: <4CE54A2D.4020405@pobox.com>
References: <1290068713251-5750785.post@n2.nabble.com>
	<4CE54A2D.4020405@pobox.com>
Message-ID: <AANLkTikEUBucSeaTzAsLEVhnTvnnjga-pOKGMWMBazof@mail.gmail.com>


Could be a problem of swap version?

I find this

2010/11/18 Frank Warmerdam [via OSGeo.org] <
ml-node+5752145-975518027-113114@n2.nabble.com<ml-node%2B5752145-975518027-113114@n2.nabble.com>
>

> javiricca wrote:
> > Hello,
> >
> > I'll trying to compile gdal in rhel 5 64 bits and I've getting some
> errors.
> >
>  > gdal_wrap.cpp:1067: error: ?zend_property_reference? no se declar? en
> este
> ?mbito
> ...
> > How can I solve this problem? Is possible to solve it with another
> version
> > of gdal or installing other libraries.
> >
> > Thanks in advance
>
> Javiricca,
>
> Presumably this is a problem with the php bindings.  The php bindings are
> not maintained at this time and it is unclear to what extent they work or
> don't work.  So my suggestion is that they should not be part of your
> packaging effort unless you know they work in a useful way.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
>
> I set the clouds in motion - turn up   | Frank Warmerdam, [hidden email]<http://user/SendEmail.jtp?type=node&node=5752145&i=0>
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> [hidden email] <http://user/SendEmail.jtp?type=node&node=5752145&i=1>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> ------------------------------
>  View message @
> http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5752145.html
>
> To unsubscribe from error compiling gdal 1.6.3 in rhel 5 64bits, click
> here<http://osgeo-org.1803224.n2.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=5750785&code=ZmpyaWNjYUBnbWFpbC5jb218NTc1MDc4NXwxODk1MjMyMDA1>.
>
>



-- 
FJRicca

http://picasaweb.google.es/fjricca
http://perdonaqueseasoez.com/

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/error-compiling-gdal-1-6-3-in-rhel-5-64bits-tp5750785p5758160.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101120/a13d614b/attachment-0001.html
From marvin.offiah at googlemail.com  Sat Nov 20 16:57:08 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Sat Nov 20 16:57:10 2010
Subject: [gdal-dev] UnsatisfiedLinkError with gdal14
Message-ID: <1290290228329-5759024.post@n2.nabble.com>


Hey,

I am trying to write a Java application that uses GDAL on Windows 7. I am
using the Java bindings of GDAL together with the gdal DLLs from the GDAL
download page.

I hope you are familiar with the distributions I'm using:

GDAL DLLs:
imageio-ext-1.0.5-windows32-dlls/*

GDAL Java bindings:
imageio-ext-1.0.8-libraries/*

I have copied all the DLLs into my jre/bin directory of my Java Runtime
environment.

Everything works fine if I run the program via the Eclilpse run
configuration. GDAL libraries are properly loaded, and are able to read a
shapefile that my program opens and display its contents.

My program starts like this:

package mapillustrator;

import javax.swing.JLabel;
import javax.swing.JOptionPane;

import mapillustrator.controller.Controller;
import mapillustrator.view.MainWindow;

import org.gdal.ogr.ogr;

/*
 * To change this template, choose Tools | Templates and open the template
in
 * the editor.
 */

/**
 * 
 * @author marvin
 */
public class MapIllustrator {

	public static Controller controller;

	public static MainWindow mainWindow;

	public static void main(String[] args) throws Exception {
		try {
			System.loadLibrary("gdal14");
			ogr.RegisterAll();
			controller = new Controller(args[0]);
			mainWindow = new MainWindow(null, true);
		} catch (Exception e) {
			JOptionPane.showMessageDialog(new JLabel(), e.getMessage());
			e.printStackTrace();
		}
	}

}

So, as I said, all this works fine.

However, I now want to have the main method launched via a python script for
some reason, so here's my python script (the script is located at
"C:\Program Files\Inkscape\share\extensions"):

import os, sys, subprocess, time

dir = os.getcwd().replace("\\", "/") + "/share/extensions/MapIllustrator/"
libdir = dir + "lib/"

subprocess.Popen("java -verbose -classpath \".;C:/Program
Files/Java/jre6/lib/ext/QTJava.zip;" + dir + "build/classes;" + libdir +
"*;" + libdir + "SuperCSV-1.52/*;" + libdir + "batik-1.7/*;" + libdir +
"batik-1.7/lib/*;" + libdir + "batik-1.7/extensions/*;" + libdir +
"imageio-ext-1.0.8-libraries/*;" + "\" mapillustrator.MapIllustrator \"" +
sys.argv[-1] + "\"", stdout=True)

But everytime I launch my application via the script I get an
UnsatisfiedLinkError of the kind

"gdal14.dll: Can't find dependent libraries"

I'm really wondering why I am not getting this error if I launch my program
via Eclipse. No such error occurs there and GDAL manages to load all the
libraries and does not complain about any dependencies.
Obviously, the gdal14.dll is found. I'm using the JDK1.6.0.22 with Eclipse.
Its JRE is also configured as the default JRE in my windows registry:

C:\Program Files\Java\jdk1.6.0_21\jre

As I said, I have also copied all files from the
imageio-ext-1.0.5-windows32-dlls/* into the "C:\Program
Files\Java\jdk1.6.0_21\jre\bin". I have also tried copying them to
"C:\Program Files\Java\jdk1.6.0_21\bin" instead. The all Java bindings for
GDAL are also included in the Java classpath in my Eclipse project settings.
As you can see in the Python script, I am also doing that above.

So obviously, there has to be a difference in how Eclipse launches my Java
program and in how the python script does. I don't see any other
explanation, and I also don't know what on earth Eclipse does different to
have it run without a problem. There isn't a single argument set in my run
configuration. I don't know how Eclipse actually transfers the classpath
arguments of the project settings into the program launch (probably adds the
-classpath <...> argument on its own), but other than that I'd really like
to know what I am doing wrong.
The only difference between running from Eclipse and running via my python
script seems to be that my python script is that both are calling java from
a different current working directory: The project home in Eclipse VS
"C:\Program Files\Inkscape" in the script. The script is being launched as
an Inkscape extension. I don't know why Inkscape sets the CWD to 
"C:\Program Files\Inkscape", although it is located at "C:\Program
Files\Inkscape\share\extensions"


-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759024p5759024.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101120/1a7a0558/attachment.html
From marvin.offiah at googlemail.com  Sat Nov 20 16:57:35 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Sat Nov 20 16:57:36 2010
Subject: [gdal-dev] UnsatisfiedLinkError with gdal14
Message-ID: <1290290255166-5759026.post@n2.nabble.com>


Hey,

I am trying to write a Java application that uses GDAL on Windows 7. I am
using the Java bindings of GDAL together with the gdal DLLs from the GDAL
download page.

I hope you are familiar with the distributions I'm using:

GDAL DLLs:
imageio-ext-1.0.5-windows32-dlls/*

GDAL Java bindings:
imageio-ext-1.0.8-libraries/*

I have copied all the DLLs into my jre/bin directory of my Java Runtime
environment.

Everything works fine if I run the program via the Eclilpse run
configuration. GDAL libraries are properly loaded, and are able to read a
shapefile that my program opens and display its contents.

My program starts like this:

package mapillustrator;

import javax.swing.JLabel;
import javax.swing.JOptionPane;

import mapillustrator.controller.Controller;
import mapillustrator.view.MainWindow;

import org.gdal.ogr.ogr;

/*
 * To change this template, choose Tools | Templates and open the template
in
 * the editor.
 */

/**
 * 
 * @author marvin
 */
public class MapIllustrator {

	public static Controller controller;

	public static MainWindow mainWindow;

	public static void main(String[] args) throws Exception {
		try {
			System.loadLibrary("gdal14");
			ogr.RegisterAll();
			controller = new Controller(args[0]);
			mainWindow = new MainWindow(null, true);
		} catch (Exception e) {
			JOptionPane.showMessageDialog(new JLabel(), e.getMessage());
			e.printStackTrace();
		}
	}

}

So, as I said, all this works fine.

However, I now want to have the main method launched via a python script for
some reason, so here's my python script (the script is located at
"C:\Program Files\Inkscape\share\extensions"):

import os, sys, subprocess, time

dir = os.getcwd().replace("\\", "/") + "/share/extensions/MapIllustrator/"
libdir = dir + "lib/"

subprocess.Popen("java -verbose -classpath \".;C:/Program
Files/Java/jre6/lib/ext/QTJava.zip;" + dir + "build/classes;" + libdir +
"*;" + libdir + "SuperCSV-1.52/*;" + libdir + "batik-1.7/*;" + libdir +
"batik-1.7/lib/*;" + libdir + "batik-1.7/extensions/*;" + libdir +
"imageio-ext-1.0.8-libraries/*;" + "\" mapillustrator.MapIllustrator \"" +
sys.argv[-1] + "\"", stdout=True)

But everytime I launch my application via the script I get an
UnsatisfiedLinkError of the kind

"gdal14.dll: Can't find dependent libraries"

I'm really wondering why I am not getting this error if I launch my program
via Eclipse. No such error occurs there and GDAL manages to load all the
libraries and does not complain about any dependencies.
Obviously, the gdal14.dll is found. I'm using the JDK1.6.0.22 with Eclipse.
Its JRE is also configured as the default JRE in my windows registry:

C:\Program Files\Java\jdk1.6.0_21\jre

As I said, I have also copied all files from the
imageio-ext-1.0.5-windows32-dlls/* into the "C:\Program
Files\Java\jdk1.6.0_21\jre\bin". I have also tried copying them to
"C:\Program Files\Java\jdk1.6.0_21\bin" instead. The all Java bindings for
GDAL are also included in the Java classpath in my Eclipse project settings.
As you can see in the Python script, I am also doing that above.

So obviously, there has to be a difference in how Eclipse launches my Java
program and in how the python script does. I don't see any other
explanation, and I also don't know what on earth Eclipse does different to
have it run without a problem. There isn't a single argument set in my run
configuration. I don't know how Eclipse actually transfers the classpath
arguments of the project settings into the program launch (probably adds the
-classpath <...> argument on its own), but other than that I'd really like
to know what I am doing wrong.
The only difference between running from Eclipse and running via my python
script seems to be that my python script is that both are calling java from
a different current working directory: The project home in Eclipse VS
"C:\Program Files\Inkscape" in the script. The script is being launched as
an Inkscape extension. I don't know why Inkscape sets the CWD to 
"C:\Program Files\Inkscape", although it is located at "C:\Program
Files\Inkscape\share\extensions"


-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5759026.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From szekerest at gmail.com  Sat Nov 20 18:17:35 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat Nov 20 18:17:38 2010
Subject: [gdal-dev] UnsatisfiedLinkError with gdal14
In-Reply-To: <1290290255166-5759026.post@n2.nabble.com>
References: <1290290255166-5759026.post@n2.nabble.com>
Message-ID: <AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>

Hi,

While I'm not sure about the layout of the files throughout the application,
I may suppose some of the dependent libraries are not available in the
common dll search locations. You may probably inspect this with a file
monitoring tool (like process
monitor<http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx>)
and see the expected locations of the files. You may probably set the PATH
environment for the process to point to the direcory where those dll-s
reside.


Best regards,

Tamas


2010/11/20 MarvinCO <marvin.offiah@googlemail.com>

>
> Hey,
>
> I am trying to write a Java application that uses GDAL on Windows 7. I am
> using the Java bindings of GDAL together with the gdal DLLs from the GDAL
> download page.
>
> I hope you are familiar with the distributions I'm using:
>
> GDAL DLLs:
> imageio-ext-1.0.5-windows32-dlls/*
>
> GDAL Java bindings:
> imageio-ext-1.0.8-libraries/*
>
> I have copied all the DLLs into my jre/bin directory of my Java Runtime
> environment.
>
> Everything works fine if I run the program via the Eclilpse run
> configuration. GDAL libraries are properly loaded, and are able to read a
> shapefile that my program opens and display its contents.
>
> My program starts like this:
>
> package mapillustrator;
>
> import javax.swing.JLabel;
> import javax.swing.JOptionPane;
>
> import mapillustrator.controller.Controller;
> import mapillustrator.view.MainWindow;
>
> import org.gdal.ogr.ogr;
>
> /*
>  * To change this template, choose Tools | Templates and open the template
> in
>  * the editor.
>  */
>
> /**
>  *
>  * @author marvin
>  */
> public class MapIllustrator {
>
>        public static Controller controller;
>
>        public static MainWindow mainWindow;
>
>        public static void main(String[] args) throws Exception {
>                try {
>                        System.loadLibrary("gdal14");
>                        ogr.RegisterAll();
>                        controller = new Controller(args[0]);
>                        mainWindow = new MainWindow(null, true);
>                } catch (Exception e) {
>                        JOptionPane.showMessageDialog(new JLabel(),
> e.getMessage());
>                        e.printStackTrace();
>                }
>        }
>
> }
>
> So, as I said, all this works fine.
>
> However, I now want to have the main method launched via a python script
> for
> some reason, so here's my python script (the script is located at
> "C:\Program Files\Inkscape\share\extensions"):
>
> import os, sys, subprocess, time
>
> dir = os.getcwd().replace("\\", "/") + "/share/extensions/MapIllustrator/"
> libdir = dir + "lib/"
>
> subprocess.Popen("java -verbose -classpath \".;C:/Program
> Files/Java/jre6/lib/ext/QTJava.zip;" + dir + "build/classes;" + libdir +
> "*;" + libdir + "SuperCSV-1.52/*;" + libdir + "batik-1.7/*;" + libdir +
> "batik-1.7/lib/*;" + libdir + "batik-1.7/extensions/*;" + libdir +
> "imageio-ext-1.0.8-libraries/*;" + "\" mapillustrator.MapIllustrator \"" +
> sys.argv[-1] + "\"", stdout=True)
>
> But everytime I launch my application via the script I get an
> UnsatisfiedLinkError of the kind
>
> "gdal14.dll: Can't find dependent libraries"
>
> I'm really wondering why I am not getting this error if I launch my program
> via Eclipse. No such error occurs there and GDAL manages to load all the
> libraries and does not complain about any dependencies.
> Obviously, the gdal14.dll is found. I'm using the JDK1.6.0.22 with Eclipse.
> Its JRE is also configured as the default JRE in my windows registry:
>
> C:\Program Files\Java\jdk1.6.0_21\jre
>
> As I said, I have also copied all files from the
> imageio-ext-1.0.5-windows32-dlls/* into the "C:\Program
> Files\Java\jdk1.6.0_21\jre\bin". I have also tried copying them to
> "C:\Program Files\Java\jdk1.6.0_21\bin" instead. The all Java bindings for
> GDAL are also included in the Java classpath in my Eclipse project
> settings.
> As you can see in the Python script, I am also doing that above.
>
> So obviously, there has to be a difference in how Eclipse launches my Java
> program and in how the python script does. I don't see any other
> explanation, and I also don't know what on earth Eclipse does different to
> have it run without a problem. There isn't a single argument set in my run
> configuration. I don't know how Eclipse actually transfers the classpath
> arguments of the project settings into the program launch (probably adds
> the
> -classpath <...> argument on its own), but other than that I'd really like
> to know what I am doing wrong.
> The only difference between running from Eclipse and running via my python
> script seems to be that my python script is that both are calling java from
> a different current working directory: The project home in Eclipse VS
> "C:\Program Files\Inkscape" in the script. The script is being launched as
> an Inkscape extension. I don't know why Inkscape sets the CWD to
> "C:\Program Files\Inkscape", although it is located at "C:\Program
> Files\Inkscape\share\extensions"
>
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5759026.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101121/9058d28e/attachment-0001.html
From antonio.rocha at deimos.com.pt  Sun Nov 21 05:21:45 2010
From: antonio.rocha at deimos.com.pt (antonio.rocha@deimos.com.pt)
Date: Sun Nov 21 05:21:41 2010
Subject: [gdal-dev] Re: [GRASS-dev] ERROR: G_realloc: during r.to.vect call
Message-ID: <20101121112145.755874f98b788lh5@mail.deimos.com.pt>

I'm sorry I sent this message to the wrong mailing list
Here goes the reply to your message markus
Hello Markus

I believe it's ok:
projection: 1 (UTM)
zone:       -24
datum:      wgs84
ellipsoid:  wgs84
north:      9305500.00000001
south:      9095770.00000001
west:       444000
east:       689130
nsres:      30
ewres:      30
rows:       6991
cols:       8171
cells:      57123461

And my raster is:
|   Type of Map:  raster               Number of Categories:
3               |
  |   Data Type:
CELL                                                       |
  |   Rows:
6991                                                       |
  |   Columns:
8171                                                       |
  |   Total Cells:
57123461                                                   |
  |        Projection: UTM (zone
-24)                                          |
  |            N: 9305500.00000001    S: 9095770.00000001   Res:
30         |
  |            E:     689130    W:     444000   Res:
30                     |
  |   Range of data:    min = 0  max =
3                                       |

So it matches. What might be causing this error?

Antonio

From marvin.offiah at googlemail.com  Sun Nov 21 07:26:18 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Sun Nov 21 07:26:20 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
Message-ID: <1290342378603-5760042.post@n2.nabble.com>


Which are the common DLL search locations? Eclipse doesn't give me any clue
about how its starts the JVM, and which additional locations it may ask the
JVM to search automatically. Process monitor also doesn't really give me any
clue, it shows me mainly files from the System32 folder, which should
already be part of the PATH.

What do you mean by setting the PATH environment of the javaw process? Is
there any VM argument to set that?

BTW, this is the .classpath file contents of my project:


<?xml version="1.0" encoding="UTF-8"?>
<classpath>
	<classpathentry kind="src" path="src"/>
	<classpathentry kind="lib" path="lib/batik-1.7/batik-rasterizer.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/batik-slideshow.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/batik-squiggle.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/batik-svgpp.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/batik-ttf2svg.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/batik.jar"/>
	<classpathentry kind="lib"
path="lib/batik-1.7/extensions/batik-rasterizer-ext.jar"/>
	<classpathentry kind="lib"
path="lib/batik-1.7/extensions/batik-squiggle-ext.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-anim.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-awt-util.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-bridge.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-codec.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-css.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-dom.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-ext.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-extension.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-gui-util.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-gvt.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-parser.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-script.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-svg-dom.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-svggen.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-swing.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-transcoder.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-util.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/batik-xml.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/js.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/pdf-transcoder.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/xalan-2.6.0.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/xerces_2_5_0.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/xml-apis-ext.jar"/>
	<classpathentry kind="lib" path="lib/batik-1.7/lib/xml-apis.jar"/>
	<classpathentry kind="lib"
path="lib/SuperCSV-1.52/spiffy-with_source-all-0.05.jar"/>
	<classpathentry kind="lib" path="lib/SuperCSV-1.52/SuperCSV-1.52.jar"/>
	<classpathentry kind="lib"
path="lib/SuperCSV-1.52/SuperCSV-with_src-1.52.jar"/>
	<classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER"/>
	<classpathentry combineaccessrules="false" kind="src" path="/Data"/>
	<classpathentry combineaccessrules="false" kind="src" path="/IO"/>
	<classpathentry combineaccessrules="false" kind="src" path="/Utils"/>
	<classpathentry combineaccessrules="false" kind="src" path="/GUI"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-arcgrid-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-customstreams-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdal-bindings-1.4.5b.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalarcbinarygrid-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalarcgrid-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdaldoq1-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdaldoq2-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdaldted-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalecw-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalecwjp2-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalehdr-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalenvihdr-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalenvisat-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalerdasimg-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalframework-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalgeotiff-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdaljpeg-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalkakadujp2-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalmrsid-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalmrsidjp2-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-gdalnitf-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-geocore-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-imagereadmt-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-imagereadmt-BSD-LICENSE.txt"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-jhdfaccess-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-kakadu-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-kakadujni-5.2.6.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-tiff-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-tiff-BSD-LICENSE.txt"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/imageio-ext-utilities-1.0.8.jar"/>
	<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/jhdf-4.jar"/>
	<classpathentry kind="output" path="build/classes"/>
</classpath>


It rings a bell looking at this entry:

<classpathentry kind="lib"
path="lib/imageio-ext-1.0.8-libraries/jhdf-4.jar"/>

Somehow I remember people talking about the hdf-thing to be relevant for the
UnsatisfiedLinkError problem, but I don't know why. What does the hdf do
anyway?

As you may see, I am including all these CLASSPATH entries in my Python
script, too. Apart from this one:

<classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER"/>

What does the "con" kind mean? Do you think using this classpath entry in my
Python script could be important? What's the function of the files in that
path?

Don't worry about the external projects in the following entries:

<classpathentry combineaccessrules="false" kind="src" path="/Data"/>
<classpathentry combineaccessrules="false" kind="src" path="/IO"/>
<classpathentry combineaccessrules="false" kind="src" path="/Utils"/>
<classpathentry combineaccessrules="false" kind="src" path="/GUI"/>

I have already copied the compilations of those files into the "build"
output folder of my application before launching the Python script, so they
can't be missing. And they don't contain any DLLs anyway.

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5760042.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From geographika at gmail.com  Sun Nov 21 07:50:59 2010
From: geographika at gmail.com (geographika)
Date: Sun Nov 21 07:51:09 2010
Subject: [gdal-dev] problem with gdalwarp in 1.7
In-Reply-To: <4CE6AE29.1060509@pobox.com>
References: <4CE64FF3.7080207@gmail.com> <4CE6AE29.1060509@pobox.com>
Message-ID: <4CE915B3.4000401@gmail.com>

On 19/11/2010 18:04, Frank Warmerdam wrote:
> geographika wrote:
>> Hi,
>>
>> I have upgraded from GDAL 1.6 (32bit Windows) to 1.7 (64 bit Windows) 
>> and the following command no longer works:
>>
>> C:\mapserver\bin\gdal\apps\gdalwarp C:\Data\Rasters\MiscSuit.tif 
>> C:\RasterClips\mytest.tif -cutline c:\RasterClips\hello.json -te 
>> 118008.672141 177232.164284 138695.761666 206164.398565 -dstnodata -9999
>>
>> I get the following message in the command prompt:
>>
>>     Creating output file that is 414P x 579L.
>>     Processing input file C:\Data\Rasters\MiscSuit.tif.
>>     for band 1, destination nodata value has been clamped to 0, the 
>> original value being out of range.
>>     ERROR 1: Failed to parse CUTLINE geometry wkt.
>>
>> The CUTLINE is valid GeoJSON (but would clearly be invalid WKT) and 
>> produces the correct results in 1.6.
>> The ogr formats lists GeoJSON as read/write.
>> I am using 64-bit builds of GDAL taken from http://vbkto.dyndns.org/sdk/
>> I have also tried using the development version of GDAL 1.8dev but 
>> get the same message. If I do not use a CUTLINE the gdalwarp 
>> completes successfully but the new image does not contain any data 
>> from my original image (all cells are NoData).
>
> Seth,
>
> Can you make the .json file available?  Does it work with OGR?  Try
> ogrinfo on it.
>
> Hmm, tracking through the code the LoadCutline() function in gdalwarp.cpp
> will read from the OGR datasource and convert the geometry to WKT 
> which is
> attached to the cutline property of the warp.  Later GDALWarpOperation::
> Initialize() turns that into a polygon object and that is where the 
> message
> is coming from.  So I am *suspecting* improper WKT of some type is 
> getting
> produced somehow.  We will really need to see the WKT that is causing the
> error to know more.
>
> If you are comfortable rebuilding things then try changing:
>
>     const char *pszCutlineWKT =
>         CSLFetchNameValue( psOptions->papszWarpOptions, "CUTLINE" );
>
>     if( pszCutlineWKT )
>     {
>
> in the file gdal/alg/gdalwarpoperation.cpp to something like:
>
>
>     const char *pszCutlineWKT =
>         CSLFetchNameValue( psOptions->papszWarpOptions, "CUTLINE" );
>
>     if( pszCutlineWKT )
>     {
>         printf( "WKT = %s\n", pszCutlineWKT );
>
>
> Best regards,

Thanks very much for your reply Frank.
I have uploaded the GeoJSON to http://geographika.co.uk/downloads/test.json
Running ogrinfo C:\test.json on the file produces the following results:

ERROR 4: GeoJSON Driver doesn't support update.
Had to open data source read-only.
INFO: Open of `C:\RasterClips\hello.json'
       using driver `GeoJSON' successful.
1: OGRGeoJSON (Polygon)

Is it possible to use the ogr2ogr to convert GeoJSON to WKT to check if 
this is successful? WKT is not in the list of formats at 
http://www.gdal.org/ogr/ogr_formats.html
Compiling a 64bit  version of GDAL is on my list of things to learn, so 
I will try your second suggestion then.

The gdalwarp with the same GeoJSON works in 1.6 but it does throw up the 
warning that:

"the source raster dataset and the input vector layer do not have the 
same SRS.  Results will be probably incorrect."

Regards,

Seth



From szekerest at gmail.com  Sun Nov 21 08:19:21 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Nov 21 08:19:24 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <1290342378603-5760042.post@n2.nabble.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
	<1290342378603-5760042.post@n2.nabble.com>
Message-ID: <AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>

2010/11/21 MarvinCO <marvin.offiah@googlemail.com>

>
> Which are the common DLL search locations? Eclipse doesn't give me any clue
> about how its starts the JVM, and which additional locations it may ask the
> JVM to search automatically. Process monitor also doesn't really give me
> any
> clue, it shows me mainly files from the System32 folder, which should
> already be part of the PATH.
>
>
For further info refer to the following document:
http://msdn.microsoft.com/en-us/library/ms682586%28VS.85%29.aspx



> What do you mean by setting the PATH environment of the javaw process? Is
> there any VM argument to set that?
>
>
I admit I'm not an expert in java. With C# we could probably use
Environment.SetEnvironmentVariable for this purpose.

Have you managed to use Process Monitor I have mentioned before?

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101121/3346b86c/attachment.html
From chaitanya.ch at gmail.com  Sun Nov 21 09:38:10 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sun Nov 21 09:38:15 2010
Subject: [gdal-dev] problem with gdalwarp in 1.7
In-Reply-To: <4CE915B3.4000401@gmail.com>
References: <4CE64FF3.7080207@gmail.com> <4CE6AE29.1060509@pobox.com>
	<4CE915B3.4000401@gmail.com>
Message-ID: <AANLkTimtcYOsfSxBx_6bHWNiHfvEkT3PjQ6jP0WsEZWr@mail.gmail.com>

Seth,

You can obtain the WKT of the geometries in a vector data source by using
ogrinfo with the -al option.
(http://www.gdal.org/ogrinfo.html)

On Sun, Nov 21, 2010 at 6:20 PM, geographika <geographika@gmail.com> wrote:

> On 19/11/2010 18:04, Frank Warmerdam wrote:
>
>> geographika wrote:
>>
>>> Hi,
>>>
>>> I have upgraded from GDAL 1.6 (32bit Windows) to 1.7 (64 bit Windows) and
>>> the following command no longer works:
>>>
>>> C:\mapserver\bin\gdal\apps\gdalwarp C:\Data\Rasters\MiscSuit.tif
>>> C:\RasterClips\mytest.tif -cutline c:\RasterClips\hello.json -te
>>> 118008.672141 177232.164284 138695.761666 206164.398565 -dstnodata -9999
>>>
>>> I get the following message in the command prompt:
>>>
>>>    Creating output file that is 414P x 579L.
>>>    Processing input file C:\Data\Rasters\MiscSuit.tif.
>>>    for band 1, destination nodata value has been clamped to 0, the
>>> original value being out of range.
>>>    ERROR 1: Failed to parse CUTLINE geometry wkt.
>>>
>>> The CUTLINE is valid GeoJSON (but would clearly be invalid WKT) and
>>> produces the correct results in 1.6.
>>> The ogr formats lists GeoJSON as read/write.
>>> I am using 64-bit builds of GDAL taken from http://vbkto.dyndns.org/sdk/
>>> I have also tried using the development version of GDAL 1.8dev but get
>>> the same message. If I do not use a CUTLINE the gdalwarp completes
>>> successfully but the new image does not contain any data from my original
>>> image (all cells are NoData).
>>>
>>
>> Seth,
>>
>> Can you make the .json file available?  Does it work with OGR?  Try
>> ogrinfo on it.
>>
>> Hmm, tracking through the code the LoadCutline() function in gdalwarp.cpp
>> will read from the OGR datasource and convert the geometry to WKT which is
>> attached to the cutline property of the warp.  Later GDALWarpOperation::
>> Initialize() turns that into a polygon object and that is where the
>> message
>> is coming from.  So I am *suspecting* improper WKT of some type is getting
>> produced somehow.  We will really need to see the WKT that is causing the
>> error to know more.
>>
>> If you are comfortable rebuilding things then try changing:
>>
>>    const char *pszCutlineWKT =
>>        CSLFetchNameValue( psOptions->papszWarpOptions, "CUTLINE" );
>>
>>    if( pszCutlineWKT )
>>    {
>>
>> in the file gdal/alg/gdalwarpoperation.cpp to something like:
>>
>>
>>    const char *pszCutlineWKT =
>>        CSLFetchNameValue( psOptions->papszWarpOptions, "CUTLINE" );
>>
>>    if( pszCutlineWKT )
>>    {
>>        printf( "WKT = %s\n", pszCutlineWKT );
>>
>>
>> Best regards,
>>
>
> Thanks very much for your reply Frank.
> I have uploaded the GeoJSON to
> http://geographika.co.uk/downloads/test.json
> Running ogrinfo C:\test.json on the file produces the following results:
>
> ERROR 4: GeoJSON Driver doesn't support update.
> Had to open data source read-only.
> INFO: Open of `C:\RasterClips\hello.json'
>      using driver `GeoJSON' successful.
> 1: OGRGeoJSON (Polygon)
>
> Is it possible to use the ogr2ogr to convert GeoJSON to WKT to check if
> this is successful? WKT is not in the list of formats at
> http://www.gdal.org/ogr/ogr_formats.html
> Compiling a 64bit  version of GDAL is on my list of things to learn, so I
> will try your second suggestion then.
>
> The gdalwarp with the same GeoJSON works in 1.6 but it does throw up the
> warning that:
>
> "the source raster dataset and the input vector layer do not have the same
> SRS.  Results will be probably incorrect."
>
> Regards,
>
> Seth
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101121/6b3a88cb/attachment-0001.html
From geographika at gmail.com  Sun Nov 21 10:25:20 2010
From: geographika at gmail.com (geographika)
Date: Sun Nov 21 10:25:32 2010
Subject: [gdal-dev] problem with gdalwarp in 1.7 - SOLVED
In-Reply-To: <AANLkTimtcYOsfSxBx_6bHWNiHfvEkT3PjQ6jP0WsEZWr@mail.gmail.com>
References: <4CE64FF3.7080207@gmail.com>	<4CE6AE29.1060509@pobox.com>	<4CE915B3.4000401@gmail.com>
	<AANLkTimtcYOsfSxBx_6bHWNiHfvEkT3PjQ6jP0WsEZWr@mail.gmail.com>
Message-ID: <4CE939E0.3050000@gmail.com>

Thanks to both Frank and Chaitanya this is now resolved.
Adding in the coordinate system to my GeoJSON solved the issue in  the 
latest versions of GDAL.
Leaving this out did not produce errors using ogrinfo, but it did not 
display the feature as WKT until the CRS was added in.

{
     "type": "Polygon",
*    "crs": {
         "type": "EPSG",
         "properties": {
             "code": 29902
         }
     },*
     "coordinates": [
         [
             [
                 123608.61199436858,
                 206164.3985653462
             ],
             [


On 21/11/2010 15:38, Chaitanya kumar CH wrote:
> Seth,
>
> You can obtain the WKT of the geometries in a vector data source by 
> using ogrinfo with the -al option.
> (http://www.gdal.org/ogrinfo.html)
>
> On Sun, Nov 21, 2010 at 6:20 PM, geographika <geographika@gmail.com 
> <mailto:geographika@gmail.com>> wrote:
>
>     On 19/11/2010 18:04, Frank Warmerdam wrote:
>
>         geographika wrote:
>
>             Hi,
>
>             I have upgraded from GDAL 1.6 (32bit Windows) to 1.7 (64
>             bit Windows) and the following command no longer works:
>
>             C:\mapserver\bin\gdal\apps\gdalwarp
>             C:\Data\Rasters\MiscSuit.tif C:\RasterClips\mytest.tif
>             -cutline c:\RasterClips\hello.json -te 118008.672141
>             177232.164284 138695.761666 206164.398565 -dstnodata -9999
>
>             I get the following message in the command prompt:
>
>                Creating output file that is 414P x 579L.
>                Processing input file C:\Data\Rasters\MiscSuit.tif.
>                for band 1, destination nodata value has been clamped
>             to 0, the original value being out of range.
>                ERROR 1: Failed to parse CUTLINE geometry wkt.
>
>             The CUTLINE is valid GeoJSON (but would clearly be invalid
>             WKT) and produces the correct results in 1.6.
>             The ogr formats lists GeoJSON as read/write.
>             I am using 64-bit builds of GDAL taken from
>             http://vbkto.dyndns.org/sdk/
>             I have also tried using the development version of GDAL
>             1.8dev but get the same message. If I do not use a CUTLINE
>             the gdalwarp completes successfully but the new image does
>             not contain any data from my original image (all cells are
>             NoData).
>
>
>         Seth,
>
>         Can you make the .json file available?  Does it work with OGR?
>          Try
>         ogrinfo on it.
>
>         Hmm, tracking through the code the LoadCutline() function in
>         gdalwarp.cpp
>         will read from the OGR datasource and convert the geometry to
>         WKT which is
>         attached to the cutline property of the warp.  Later
>         GDALWarpOperation::
>         Initialize() turns that into a polygon object and that is
>         where the message
>         is coming from.  So I am *suspecting* improper WKT of some
>         type is getting
>         produced somehow.  We will really need to see the WKT that is
>         causing the
>         error to know more.
>
>         If you are comfortable rebuilding things then try changing:
>
>            const char *pszCutlineWKT =
>                CSLFetchNameValue( psOptions->papszWarpOptions,
>         "CUTLINE" );
>
>            if( pszCutlineWKT )
>            {
>
>         in the file gdal/alg/gdalwarpoperation.cpp to something like:
>
>
>            const char *pszCutlineWKT =
>                CSLFetchNameValue( psOptions->papszWarpOptions,
>         "CUTLINE" );
>
>            if( pszCutlineWKT )
>            {
>                printf( "WKT = %s\n", pszCutlineWKT );
>
>
>         Best regards,
>
>
>     Thanks very much for your reply Frank.
>     I have uploaded the GeoJSON to
>     http://geographika.co.uk/downloads/test.json
>     Running ogrinfo C:\test.json on the file produces the following
>     results:
>
>     ERROR 4: GeoJSON Driver doesn't support update.
>     Had to open data source read-only.
>     INFO: Open of `C:\RasterClips\hello.json'
>          using driver `GeoJSON' successful.
>     1: OGRGeoJSON (Polygon)
>
>     Is it possible to use the ogr2ogr to convert GeoJSON to WKT to
>     check if this is successful? WKT is not in the list of formats at
>     http://www.gdal.org/ogr/ogr_formats.html
>     Compiling a 64bit  version of GDAL is on my list of things to
>     learn, so I will try your second suggestion then.
>
>     The gdalwarp with the same GeoJSON works in 1.6 but it does throw
>     up the warning that:
>
>     "the source raster dataset and the input vector layer do not have
>     the same SRS.  Results will be probably incorrect."
>
>     Regards,
>
>     Seth
>
>
>
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev@lists.osgeo.org <mailto:gdal-dev@lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> -- 
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101121/56a697db/attachment.html
From b.morabito at tdnet.it  Sun Nov 21 15:17:28 2010
From: b.morabito at tdnet.it (morabit)
Date: Sun Nov 21 15:17:30 2010
Subject: [gdal-dev] Re: Unable to load CIB datasets with GDAL
In-Reply-To: <4CE6C95D.2040809@pobox.com>
References: <1290192380996-5756271.post@n2.nabble.com>
	<4CE6C95D.2040809@pobox.com>
Message-ID: <1290370648031-5760905.post@n2.nabble.com>


Hi,
 Thank you for your quick response. 
I try to build the nitfdump utility on windows XP 
with the following command executed in $(GDAL_HOME)\frmts\nitf:
nmake -f makefile.vc nitfdump.exe 
but I receive some linker erros:
nitfbilevel.obj : error LNK2019: riferimento al simbolo esterno
_TIFFReadEncodedStrip non risolto nella funzione _NITFUncompressBILEVEL
nitfbilevel.obj : error LNK2019: riferimento al simbolo esterno _TIFFClose
non risolto nella funzione _NITFUncompressBILEVEL
....
....

Can you tell me where I can find a pre-built version of nitfdump to quickly
perform the
test you suggested?

Besides, I've created a ticket in GDAL trac for this issue with the same
content 
as the posted message.
My development team and me are waiting for a solution 
to this problem as it is very urgent for us.
Thank you so much for your attention.
 
Best regards
Bruno M.  
 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Unable-to-load-CIB-datasets-with-GDAL-tp5756271p5760905.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ludovic.granjon at u-bourgogne.fr  Mon Nov 22 04:17:25 2010
From: ludovic.granjon at u-bourgogne.fr (Ludovic Granjon)
Date: Mon Nov 22 04:17:34 2010
Subject: [gdal-dev] OGR - GetLength in Python
In-Reply-To: <4CE617A9.1080508@gmail.com>
References: <4CE52F9E.2060309@u-bourgogne.fr> <4CE617A9.1080508@gmail.com>
Message-ID: <4CEA3525.2000701@u-bourgogne.fr>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: ludovic_granjon.vcf
Type: text/x-vcard
Size: 149 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/9f31fc1e/ludovic_granjon.vcf
From b.morabito at tdnet.it  Mon Nov 22 04:20:23 2010
From: b.morabito at tdnet.it (morabit)
Date: Mon Nov 22 04:20:25 2010
Subject: [gdal-dev] Re: Unable to load CIB datasets with GDAL
In-Reply-To: <4CE6C95D.2040809@pobox.com>
References: <1290192380996-5756271.post@n2.nabble.com>
	<4CE6C95D.2040809@pobox.com>
Message-ID: <1290417623986-5762059.post@n2.nabble.com>


Hi,
I' ve just executed the nitfdump utility included in FwTools (GDAL 1.7.0)
against the nitf file 
and for the complete file and for the truncated one I get the same report in
output:

Dump for 0AA43516_trunc.I42
File TREs: RPFHDR(48)
File Metadata:
  NITF_FHDR=NITF02.00
  NITF_CLEVEL=99
  NITF_STYPE=
  NITF_OSTAID=Ciga
  NITF_FDT=21050525212525
  NITF_FTITLE=0AA43516.I42
  NITF_FSCLAS=U
  NITF_FSCODE=
  NITF_FSCTLH=
  NITF_FSREL=
  NITF_FSCAUT=
  NITF_FSCTLN=
  NITF_FSDWNG=
  NITF_FSCOP=00000
  NITF_FSCPYS=00000
  NITF_ENCRYP=0
  NITF_ONAME=Datamat
  NITF_OPHONE=
Warning 1: Ignoring NITF RPF Location table since it seems to be corrupt.
Segment 1 (Type=IM):
  HeaderStart=466, HeaderSize=2130, DataStart=2596, DataSize=2425208
  DLVL=1, ALVL=0, LOC=C0,R0, CCS=C0,R0

Image Segment 0, 1536Px1536Lx1B x 8bits:
  PVTYPE=INT, IREP=MONO, ICAT=VIS, IMODE=B, IC=M4, COMRAT=0.75, ICORDS=G
  UL=(12.4447162504524,41.6429166666667), UR=(12.4630615273254,41.6498656351

  LL=(12.4447162504524,41.6359676981542), LR=(12.4630615273254,41.6429166666

  IDLVL=1, IALVL=0, ILOC R=0,C=0, IMAG=1.0
  6 x 6 blocks of size 256 x 256
  Image TREs: RPFIMG(1400)
  Band 1: IREPBAND=, ISUBCAT=, 217 LUT entries.
  Image Metadata:
    NITF_IID1=CIB
    NITF_IDATIM=21050525212525
    NITF_TGTID=
    NITF_ITITLE=0AA43516.I42
    NITF_ISCLAS=U
    NITF_ISCODE=
    NITF_ISCTLH=
    NITF_ISREL=
    NITF_ISCAUT=
    NITF_ISCTLN=
    NITF_ISDWNG=
    NITF_ISORCE=To be defined by the user
    NITF_PVTYPE=INT
    NITF_IREP=MONO
    NITF_ICAT=VIS
    NITF_ABPP=08
    NITF_PJUST=R
 
So I don't see the error you report in your post...
We hope that a solution to this issue can be found in a short time
as this is fondumental for our project.
Thank You

Best regards

Bruno  
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Unable-to-load-CIB-datasets-with-GDAL-tp5756271p5762059.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ludovic.granjon at u-bourgogne.fr  Mon Nov 22 04:26:26 2010
From: ludovic.granjon at u-bourgogne.fr (Ludovic Granjon)
Date: Mon Nov 22 04:26:34 2010
Subject: [gdal-dev] Delete a sqlite database
Message-ID: <4CEA3742.8040708@u-bourgogne.fr>

Hi all
I try in a python script to delete a sqlite database that I use in an 
OGR ExecuteSQL.
Let me give you an example :
If I do :

 >>> from osgeo import *
 >>> import os
 >>> datasource = ogr.Open("decoupe.shp")
 >>> layer = datasource.GetLayer()
 >>> joinLayer=datasource.ExecuteSQL("SELECT decoupe.FID as ligne_id, 
c.lFid as ligne_id2, c.count as count FROM decoupe LEFT JOIN 
'project.sqlite'.comptage c ON decoupe.FID=c.lFid")
 >>> datasource.Destroy()

It seems that there still a connection to my sqlite database and I can't 
delete it.

When I try on MS Windows (There's no error on linux) :
 >>> os.remove('project.sqlite')

I have :
Traceback (most recent call last):
File "<pyshell#5>", line 1, in <module>
os.remove('project.sqlite')
WindowsError: [Error 13] Le processus ne peut pas acc?der au fichier car 
ce fichier est utilis? par un autre processus: 'project.sqlite'


Do you know a way to do that ?

Thanks

Best regards

Ludovic
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ludovic_granjon.vcf
Type: text/x-vcard
Size: 149 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/f1006fad/ludovic_granjon.vcf
From bosow at club-internet.fr  Mon Nov 22 06:26:49 2010
From: bosow at club-internet.fr (bosow@club-internet.fr)
Date: Mon Nov 22 06:26:52 2010
Subject: [gdal-dev] GDALWarpOperation::WarpRegionToBuffer() doesn't
	write in my buffer
In-Reply-To: <28468177.317031290162285371.JavaMail.www@wsfrf1225>
References: <28468177.317031290162285371.JavaMail.www@wsfrf1225>
Message-ID: <30673125.289231290425209834.JavaMail.www@wsfrf1110>

Thanks for your answer Frank. I've stepped through the code (GDALWarpOperation and GDALWarpKernel) but can't find the origin of the mistake...
So I've made a small package : http://bosow.free.fr/bundle.rar
There might be small mistakes since I replaced my QStrings with char* so that you can compile it easier, but I didn't try to compile it, but it should be ok... Let me know if you have any problems so that you don't waste too much time.


Thanks again, I appreciate your help since I'm really stuck right now...


Sincerely yours,
--
Matthieu Castanier



========================================

Message du : 19/11/2010
De : "Frank Warmerdam " <warmerdam@pobox.com>
A : bosow@club-internet.fr
Copie ? : 
Sujet : Re: [gdal-dev] GDALWarpOperation::WarpRegionToBuffer() doesn't write in my buffer


 
bosow@club-internet.fr wrote:
> Hi,
> I am trying to write a program which is supposed to read geotif files, 
> extract the values I need, then export them in a homemade format.
> As my geotif files are on several different UTM zones, I have to change 
> projections so that all the files I open have the same projection as the 
> "main tile" (central tile).
> 
> So i'm using WarpRegionToBuffer from GDALWarpOperation class with a null 
> hDstDS, which is supposed to work... but my buffer remains filed with 
> the default values I assigned to him (-999), even though 
> WarpRegionToBuffer returns CE_None...
...
Matthiew,

I don't see an obvious problem.  If you can't make progress, perhaps by
stepping through the code, then bundle up a minimal C++ program and input
file demonstrating the problem.  Something I can easily compile here and
run with a minimum of fuss.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up     Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows   http://pobox.com/~warmerdam
and watch the world go round - Rush      Geospatial Programmer for Rent



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/fae37b27/attachment.html
From ramprasad85 at gmail.com  Mon Nov 22 07:32:42 2010
From: ramprasad85 at gmail.com (Ram prasad)
Date: Mon Nov 22 07:33:07 2010
Subject: [gdal-dev] Creation of .aux.xml file
Message-ID: <AANLkTi=mvwwekwLfXDp7OzYX7YbN7dz+L57kjBQfb-td@mail.gmail.com>

I have developed a gdal driver for my format. I only have a CreateCopy
method not the Create method for the time being.
I have done
             poDS->SetDescription( poOpenInfo->pszFilename );
             poDS->TryLoadXML();
in the open function.
but i find that when i call gdal_translate the .aux.xml file does not created.
How do I ensure the creation of the aux file?
Thanks in advance
From alobolistas at gmail.com  Mon Nov 22 07:55:51 2010
From: alobolistas at gmail.com (Agustin Lobo)
Date: Mon Nov 22 07:55:57 2010
Subject: [gdal-dev] towgs84 for epsg3035
Message-ID: <AANLkTimnaGGDUMSn66VzGVid0TF2Sj0E=n10qnQL-Phj@mail.gmail.com>

Hi!

I have to convert a pair of geographic coordinates in wgs84
to epsg:3035 (GRS80 ellipsoid). Where can I find the appropriate
towgs84 parameters? This is to set the NW corner coordinates
of a tifw file for a tif file with elevations of Europe in epsg:3035 projection
(http://www.eea.europa.eu/data-and-maps/data/digital-elevation-model-of-europe)

A *.tif.xml file provides geographic coordinates for the NW corner (
-38.04824, 72.66958) but have to convert
to epsg:3035.

Thanks,

Agus
From christian.mueller at nvoe.at  Mon Nov 22 08:41:57 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Mon Nov 22 08:42:10 2010
Subject: [gdal-dev] towgs84 for epsg3035
In-Reply-To: <AANLkTimnaGGDUMSn66VzGVid0TF2Sj0E=n10qnQL-Phj@mail.gmail.com>
References: <AANLkTimnaGGDUMSn66VzGVid0TF2Sj0E=n10qnQL-Phj@mail.gmail.com>
Message-ID: <20101122144157.dzdpzu3l8gwgw8c4@webmail.nvoe.at>

Why do you need toWGS84  params for converting wgs84 -->epsg:3035.
I always thought toWGS84 params are needed  for the other way around.
But I am not an expert :-)

ASFAIK the params are all 0. I use this definition

PROJCS["ETRS89 / ETRS-LAEA",
GEOGCS["ETRS89",
DATUM["European_Terrestrial_Reference_System_1989",
SPHEROID["GRS 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],
TOWGS84[0,0,0],
AUTHORITY["EPSG","6258"]],
PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],
UNIT["degree",0.01745329251994328,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4258"]],
UNIT["metre",1,AUTHORITY["EPSG","9001"]],
PROJECTION["Lambert_Azimuthal_Equal_Area"],
PARAMETER["latitude_of_center",52],
PARAMETER["longitude_of_center",10],
PARAMETER["false_easting",4321000],
PARAMETER["false_northing",3210000],
AXIS["X",EAST],
AXIS["Y",NORTH],
AUTHORITY["EPSG","3035"]]

Cheers
Christian



Quoting Agustin Lobo <alobolistas@gmail.com>:

> Hi!
>
> I have to convert a pair of geographic coordinates in wgs84
> to epsg:3035 (GRS80 ellipsoid). Where can I find the appropriate
> towgs84 parameters? This is to set the NW corner coordinates
> of a tifw file for a tif file with elevations of Europe in epsg:3035  
>  projection
> (http://www.eea.europa.eu/data-and-maps/data/digital-elevation-model-of-europe)
>
> A *.tif.xml file provides geographic coordinates for the NW corner (
> -38.04824, 72.66958) but have to convert
> to epsg:3035.
>
> Thanks,
>
> Agus
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From warmerdam at pobox.com  Mon Nov 22 09:24:16 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 22 09:24:23 2010
Subject: [gdal-dev] Delete a sqlite database
In-Reply-To: <4CEA3742.8040708@u-bourgogne.fr>
References: <4CEA3742.8040708@u-bourgogne.fr>
Message-ID: <4CEA7D10.7070002@pobox.com>

Ludovic Granjon wrote:
> Hi all
> I try in a python script to delete a sqlite database that I use in an 
> OGR ExecuteSQL.
> Let me give you an example :
> If I do :
> 
>  >>> from osgeo import *
>  >>> import os
>  >>> datasource = ogr.Open("decoupe.shp")
>  >>> layer = datasource.GetLayer()
>  >>> joinLayer=datasource.ExecuteSQL("SELECT decoupe.FID as ligne_id, 
> c.lFid as ligne_id2, c.count as count FROM decoupe LEFT JOIN 
> 'project.sqlite'.comptage c ON decoupe.FID=c.lFid")
>  >>> datasource.Destroy()
> 
> It seems that there still a connection to my sqlite database and I can't 
> delete it.
> 
> When I try on MS Windows (There's no error on linux) :
>  >>> os.remove('project.sqlite')
> 
> I have :
> Traceback (most recent call last):
> File "<pyshell#5>", line 1, in <module>
> os.remove('project.sqlite')
> WindowsError: [Error 13] Le processus ne peut pas acc?der au fichier car 
> ce fichier est utilis? par un autre processus: 'project.sqlite'
> 
> 
> Do you know a way to do that ?

Ludovic,

I think newish versions of the Python bindings attempt to keep the datasource
alive as long as their are references to layers from it.  I would suggest
setting layer and joinLayer variables to None before calling destroy on the
datasource or even just setting the datasource to None.  I'm not positive that
this is the issue - perhaps you could let us know if it works.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bartvde at osgis.nl  Mon Nov 22 09:37:13 2010
From: bartvde at osgis.nl (Bart van den Eijnden (OSGIS))
Date: Mon Nov 22 09:37:16 2010
Subject: [gdal-dev] using ogrinfo to check for a valid shapefile
Message-ID: <50835.145.50.39.15.1290436633.squirrel@webmail.hostingdiscounter.nl>

Hi list,

we were trying to use ogrinfo te check for the validity of a shapefile,
however this approach does not seem to work.

We changed the shp file to an XML file, and then ran ogrinfo on it,
ogrinfo will just report the normal info. Only when reading the actual
data we get back fread errors on the geometry:

ERROR 1: Error in fread() reading object of size 152 from .shp file
OGRFeature(afschermendeobjecten):232
  OBJECTID (Integer) = 135
  C_SCHERMID (Integer) = 0

Is there any way around this? ESRI's shpinfo reports an error immediately:

[bart@nwr-iovl-geo002 bin]$ /opt/arcsde-9.3/sdeexe93/bin/shpinfo -f
/data/geodata/rwsnl_autopublish/geluidsregister/420/afschermendeobjecten/afschermendeobjecten.shp
Unknown system format
Unable to open
/data/geodata/rwsnl_autopublish/geluidsregister/420/afschermendeobjecten/afschermendeobjecten.shp:
File not found or insufficient access rights

Using GDAL 1.7.2. TIA.

Best regards,
Bart

From ludovic.granjon at u-bourgogne.fr  Mon Nov 22 09:40:20 2010
From: ludovic.granjon at u-bourgogne.fr (Ludovic Granjon)
Date: Mon Nov 22 09:40:31 2010
Subject: [gdal-dev] Delete a sqlite database
In-Reply-To: <4CEA7D10.7070002@pobox.com>
References: <4CEA3742.8040708@u-bourgogne.fr> <4CEA7D10.7070002@pobox.com>
Message-ID: <4CEA80D4.2060704@u-bourgogne.fr>

Le 22/11/2010 15:24, Frank Warmerdam a ?crit :
> Ludovic Granjon wrote:
>> Hi all
>> I try in a python script to delete a sqlite database that I use in an 
>> OGR ExecuteSQL.
>> Let me give you an example :
>> If I do :
>>
>> >>> from osgeo import *
>> >>> import os
>> >>> datasource = ogr.Open("decoupe.shp")
>> >>> layer = datasource.GetLayer()
>> >>> joinLayer=datasource.ExecuteSQL("SELECT decoupe.FID as ligne_id, 
>> c.lFid as ligne_id2, c.count as count FROM decoupe LEFT JOIN 
>> 'project.sqlite'.comptage c ON decoupe.FID=c.lFid")
>> >>> datasource.Destroy()
>>
>> It seems that there still a connection to my sqlite database and I 
>> can't delete it.
>>
>> When I try on MS Windows (There's no error on linux) :
>> >>> os.remove('project.sqlite')
>>
>> I have :
>> Traceback (most recent call last):
>> File "<pyshell#5>", line 1, in <module>
>> os.remove('project.sqlite')
>> WindowsError: [Error 13] Le processus ne peut pas acc?der au fichier 
>> car ce fichier est utilis? par un autre processus: 'project.sqlite'
>>
>>
>> Do you know a way to do that ?
>
> Ludovic,
>
> I think newish versions of the Python bindings attempt to keep the 
> datasource
> alive as long as their are references to layers from it.  I would suggest
> setting layer and joinLayer variables to None before calling destroy 
> on the
> datasource or even just setting the datasource to None.  I'm not 
> positive that
> this is the issue - perhaps you could let us know if it works.
>
> Best regards,
Thanks Franck for your answer

I try :
 >>> layer = None
 >>> joinLayer = None
 >>> datasource.Destroy()

and :
 >>> layer = None
 >>> joinLayer = None
 >>> datasource = None

But I have the same error.

Best regards

Ludovic
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ludovic_granjon.vcf
Type: text/x-vcard
Size: 149 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/79b21f9c/ludovic_granjon.vcf
From bosow at club-internet.fr  Mon Nov 22 09:41:46 2010
From: bosow at club-internet.fr (bosow@club-internet.fr)
Date: Mon Nov 22 09:41:48 2010
Subject: [gdal-dev] GDALWarpOperation::WarpRegionToBuffer() doesn't
	write in my buffer
In-Reply-To: <30673125.289231290425209834.JavaMail.www@wsfrf1110>
References: <28468177.317031290162285371.JavaMail.www@wsfrf1225>
	<30673125.289231290425209834.JavaMail.www@wsfrf1110>
Message-ID: <15296025.1120941290436906052.JavaMail.www@wsfrf1231>

No problem. I have re-uploaded a new version: http://bosow.free.fr/bundle.rar
I compiled it and the same error occurs: ch2d (float* buffer) remains unchanged after WarpRegionToBuffer() call.

Thanks for your help.



Sincerely yours,
--
Matthieu Castanier
========================================

Message du : 22/11/2010
De : "Frank Warmerdam " <warmerdam@pobox.com>
A : bosow@club-internet.fr
Copie ? : 
Sujet : Re: [gdal-dev] GDALWarpOperation::WarpRegionToBuffer() doesn't write in my buffer


 
bosow@club-internet.fr wrote:
> Thanks for your answer Frank. I've stepped through the code 
> (GDALWarpOperation and GDALWarpKernel) but can't find the origin of the 
> mistake...
> So I've made a small package :
> http://bosow.free.fr/bundle.rar
> There might be small mistakes since I replaced my QStrings with char* so 
> that you can compile it easier, but I didn't try to compile it, but it 
> should be ok... Let me know if you have any problems so that you don't 
> waste too much time.
> 
> Thanks again, I appreciate your help since I'm really stuck right now...

Matthieu,

With respect, I would ask that you first confirm that the bundle properly
exhibits the error you want to show before I look into it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up     Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows   http://pobox.com/~warmerdam
and watch the world go round - Rush      Geospatial Programmer for Rent



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/4b55dc4b/attachment.html
From jason.roberts at duke.edu  Mon Nov 22 09:42:50 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Mon Nov 22 09:42:55 2010
Subject: [gdal-dev] Delete a sqlite database
In-Reply-To: <4CEA7D10.7070002@pobox.com>
References: <4CEA3742.8040708@u-bourgogne.fr> <4CEA7D10.7070002@pobox.com>
Message-ID: <017301cb8a53$89e0c980$9da25c80$@roberts@duke.edu>

Hi Ludovic and Frank,

As I understand from discussions with Evan Rouault, Destroy() is an obsolete
method in the Python bindings that should not be used. See
http://trac.osgeo.org/gdal/wiki/PythonGotchas#CertainobjectscontainaDestroym
ethodbutyoushouldneveruseit.

If that understanding is not correct, please let me know.

Rather than calling Destroy(), it might be better to set all of the
variables to None (i.e. joinlayer, layer, and datasource) to hopefully cause
Python to destruct these instances. But I see from Ludovic's latest email
that he tried it and it did not work. So it is time for a new idea...

In any case, please let me know if there is a scenario in which Destroy() is
supposed to be called from the Python bindings, contrary to Evan's advice.

Thanks,
Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Monday, November 22, 2010 9:24 AM
To: Ludovic Granjon
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Delete a sqlite database

Ludovic Granjon wrote:
> Hi all
> I try in a python script to delete a sqlite database that I use in an 
> OGR ExecuteSQL.
> Let me give you an example :
> If I do :
> 
>  >>> from osgeo import *
>  >>> import os
>  >>> datasource = ogr.Open("decoupe.shp")
>  >>> layer = datasource.GetLayer()
>  >>> joinLayer=datasource.ExecuteSQL("SELECT decoupe.FID as ligne_id, 
> c.lFid as ligne_id2, c.count as count FROM decoupe LEFT JOIN 
> 'project.sqlite'.comptage c ON decoupe.FID=c.lFid")
>  >>> datasource.Destroy()
> 
> It seems that there still a connection to my sqlite database and I can't 
> delete it.
> 
> When I try on MS Windows (There's no error on linux) :
>  >>> os.remove('project.sqlite')
> 
> I have :
> Traceback (most recent call last):
> File "<pyshell#5>", line 1, in <module>
> os.remove('project.sqlite')
> WindowsError: [Error 13] Le processus ne peut pas acc?der au fichier car 
> ce fichier est utilis? par un autre processus: 'project.sqlite'
> 
> 
> Do you know a way to do that ?

Ludovic,

I think newish versions of the Python bindings attempt to keep the
datasource
alive as long as their are references to layers from it.  I would suggest
setting layer and joinLayer variables to None before calling destroy on the
datasource or even just setting the datasource to None.  I'm not positive
that
this is the issue - perhaps you could let us know if it works.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon Nov 22 10:34:26 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 22 10:34:31 2010
Subject: [gdal-dev] GDALWarpOperation::WarpRegionToBuffer() doesn't write
	in my buffer
In-Reply-To: <15296025.1120941290436906052.JavaMail.www@wsfrf1231>
References: <28468177.317031290162285371.JavaMail.www@wsfrf1225>
	<30673125.289231290425209834.JavaMail.www@wsfrf1110>
	<15296025.1120941290436906052.JavaMail.www@wsfrf1231>
Message-ID: <4CEA8D82.9050808@pobox.com>

bosow@club-internet.fr wrote:
> No problem. I have re-uploaded a new 
> version: http://bosow.free.fr/bundle.rar
> I compiled it and the same error occurs: ch2d (float* buffer) remains 
> unchanged after WarpRegionToBuffer() call.

Matthieu,

The core problem is that you setup a transformer that goes from pixel/line
coordinates on the source raster to georeferenced coordinates, instead of
going to pixel/line coordinates on the destination raster.

It is a clue that you use GDALSuggestedWarpOutput() to get a geotransform
and pixel size for the output buffer but you never actually make any use of
those values.

One approach is to define your own transformer instead of using
GDALCreateGenImgProjTransformer() that maps between source and
destination buffer pixel/line coordinates using the geotransforms
or perhaps even other mechanisms.

Another approach might be to create a sort of fake output file, based
on the output of GDALSuggestedWarpOutput() and then pass that in to
GDALCreateGenImgProjTransformer() but still pass NULL for the destination
dataset when you setup the psWarpOptions.

I realize using WarpRegionToBuffer() directly is rather complication - but
it was not really intended to be widely used outside of the warp engine
itself.

If you wish to followup feel free to do it by direct email to me.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jrepetto at free.fr  Mon Nov 22 10:42:01 2010
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Mon Nov 22 10:42:07 2010
Subject: [gdal-dev] towgs84 for epsg3035
In-Reply-To: <AANLkTimnaGGDUMSn66VzGVid0TF2Sj0E=n10qnQL-Phj@mail.gmail.com>
References: <AANLkTimnaGGDUMSn66VzGVid0TF2Sj0E=n10qnQL-Phj@mail.gmail.com>
Message-ID: <4CEA8F49.60706@free.fr>

Le 22/11/2010 13:55, Agustin Lobo a ?crit :
> Hi!
>
> I have to convert a pair of geographic coordinates in wgs84
> to epsg:3035 (GRS80 ellipsoid). Where can I find the appropriate
> towgs84 parameters? This is to set the NW corner coordinates
> of a tifw file for a tif file with elevations of Europe in epsg:3035 projection
> (http://www.eea.europa.eu/data-and-maps/data/digital-elevation-model-of-europe)
>
> A *.tif.xml file provides geographic coordinates for the NW corner (
> -38.04824, 72.66958) but have to convert
> to epsg:3035.
>
>

Hi Agus,

What precision do you need ? WGS84 and GRS80 ellipsoids are not very 
different.

Jean-Claude
From ramprasad85 at gmail.com  Mon Nov 22 10:48:20 2010
From: ramprasad85 at gmail.com (Ram prasad)
Date: Mon Nov 22 10:48:57 2010
Subject: [gdal-dev] Gdal driver not working in windows 7
In-Reply-To: <AANLkTi=cqgwkAKpzfD3S98H5n_o3LVa4PUaYz69bL1JD@mail.gmail.com>
References: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>
	<4CE579C5.8050806@pobox.com>
	<AANLkTing5vOaMaP=sx=C5rb96xjrx26durunRSfnDUp_@mail.gmail.com>
	<AANLkTi=cqgwkAKpzfD3S98H5n_o3LVa4PUaYz69bL1JD@mail.gmail.com>
Message-ID: <AANLkTinFe1GwDBe9w4uKagkYBsrj0fAj6WS49Kgj8Fos@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 226 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/bf539483/attachment.gif
From marvin.offiah at googlemail.com  Mon Nov 22 13:15:25 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Mon Nov 22 13:15:26 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
	<1290342378603-5760042.post@n2.nabble.com>
	<AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>
Message-ID: <1290449725153-5763694.post@n2.nabble.com>


I'm sorry, nothing has helped so far. I found out via Dependency Walker, that
obviously there are a few DLLs that gdal14 depends on:

ieframe.dll
shlwapi.dll
urlmon.dll

I found all of them and placed them into my jre\bin directory. However, that
still doesn't solve my problem. Still getting the same error message. I hope
this output of Dependency Walker is of any help? Look at the tree of
ieframe.dll. Does this mean that there are some functions not implemented in
the ieframe.dll that gdal14 wants to use?

http://osgeo-org.1803224.n2.nabble.com/file/n5763694/gdal14.png 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5763694.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Mon Nov 22 14:29:56 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 22 14:30:00 2010
Subject: [gdal-dev] Re: Motion: Adopt RFC 32: gdallocationinfo utility
In-Reply-To: <4CE189A1.4090603@pobox.com>
References: <4CE189A1.4090603@pobox.com>
Message-ID: <4CEAC4B4.5010304@pobox.com>

Frank Warmerdam wrote:
> Folks,
> 
> I have made a couple changes to gdallocationinfo based on feedback I
> received when bringing it up for discussion. I am not motioning to adopt
> RFC 32, making gdallocationinfo an "official" GDAL utility, installed
> by default, documented and supported:
> 
>   http://trac.osgeo.org/gdal/wiki/rfc32_gdallocationinfo

Folks,

I declare this motion passed with support from Frank, and Tamas. I
have also incorporated the "list of input points on stdin" patch
provided by Pablo d'Angelo.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dmorissette at mapgears.com  Mon Nov 22 14:54:41 2010
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon Nov 22 14:54:43 2010
Subject: [gdal-dev] Motion: Approve RFC 33 - GeoTIFF - Fixing PixelIsPoint
	Interpretation
In-Reply-To: <4CE4BAB9.3030507@pobox.com>
References: <4CE4BAB9.3030507@pobox.com>
Message-ID: <4CEACA81.4090108@mapgears.com>

Frank Warmerdam wrote:
> 
> Folks,
> 
> I haven't seen any serious concerns with proceeding with this fix and I
> have incorporated a few fixes.  So now I'd like to motion to adopt RFC 33:
> 
>   http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint
> 

I have to admit that it took me a few reads to (kind of) realize the
implications this rfc, but since this is about aligning GDAL with the
GeoTiff spec I think we have to bite the bullet and do it.

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From ramprasad85 at gmail.com  Mon Nov 22 15:10:57 2010
From: ramprasad85 at gmail.com (Ram prasad)
Date: Mon Nov 22 15:11:20 2010
Subject: [gdal-dev] Gdal driver not working in windows 7
In-Reply-To: <AANLkTi=cqgwkAKpzfD3S98H5n_o3LVa4PUaYz69bL1JD@mail.gmail.com>
References: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>
	<4CE579C5.8050806@pobox.com>
	<AANLkTing5vOaMaP=sx=C5rb96xjrx26durunRSfnDUp_@mail.gmail.com>
	<AANLkTi=cqgwkAKpzfD3S98H5n_o3LVa4PUaYz69bL1JD@mail.gmail.com>
Message-ID: <AANLkTik+fW70yO0=8hg_cWE=G_+rwvO54-YBKrggBa43@mail.gmail.com>

Following is repost, because the message appeared garbled in the mailing list.

I could not compile my code along with other formats in frmts due to
my insufficient experience in using nmake projects.

http://www.gdal.org/gdal_drivertut.html gives information on writing a driver.
Is there a document on compiling the driver? I need to be able to
specify the search path for include files for the compiler and input
files for the linker.

Thank you

On Fri, Nov 19, 2010 at 4:13 AM, Tamas Szekeres <szekerest@gmail.com> wrote:
>
> Did you compile GDAL and the plugin with the same CRT setting? (ie. /MD), what kind of subsequent libraries have been compiled in GDAL?
>
> You may probably use http://vbkto.dyndns.org/sdk/release-1500-dev.zip for compiling both GDAL and your plugin to create a consistent build by using the same compiler for each.
>
> Best regards,
>
> Tamas
>
>
>
>
> 2010/11/18 Ram prasad <ramprasad85@gmail.com>
>>
>> Thank you Frank,
>> I had upgraded the MSVC 2005 sln to 2008 sln without changing the MSVC_VER in the NMAKE properties page. Now the gdal executables and the driver are compiled are by MSVC 2008 (MSVC_VER =1500)?in the release mode,?but the problem still continues to exist.
>> In fact?in the?GDALRegister_test?function if I add the following lines of code
>> GDALDriver ?*poDriver_temp = new GDALDriver();
>> printf("about to delete\n");
>> delete poDriver_temp;
>> printf("delete ok\n");
>> The code crashes at line 3
>> But i am sure that there is something wrong in my code because the drivers in?http://vbkto.dyndns.org/sdk/release-1500-gdal-1-7-mapserver-5-6.zip?seem to be working correctly
>> Let me briefly explain what i am doing.
>> I 've created an empty win32 console project in dll configuration
>> have created a folder called?gdal_1_6_0_files which contains the .h files from gcore and port directories and the gdal_i.lib, gdal16.dll and the exes in apps
>> add the testDataset.cpp and makethe include and linker settings
>> after compilation I set the GDAL_DRIVER_PATH accordingly and run gdal_translate.exe
>> This works in WindowsXP but the same does not work in windows7
>> I don't know what to do?
>> On Fri, Nov 19, 2010 at 12:38 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:
>>>
>>> Ram prasad wrote:
>>>>
>>>> The gdal driver for my format is working perfectly in windows XP but not in windows7. It is crashing when I run gdalinfo gdal_translate.exe with or without parameters. so i wrote a dummy gdal driver (the following code), which also is crashing in GDALDriverManager::~GDALDriverManager() ?at the line "delete poDriver;". This also happens in windows server 2008. The gdal versions i tested are 1.6.0, 1.6.1. and 1.7.3
>>>> I am using visual studio 2008 The error message from debugger is /"Unhandled exception at 0x773f61e9 in gdal_translate.exe: 0xC0000005: Access violation reading location 0x7e7fd537."/
>>>>
>>>
>>> Ram,
>>>
>>> Are you building GDAL itself with visual studio 2008 and similar compiler
>>> options as used for your plugin?
>>>
>>> It has been my experience that it is not safe to build plugins with
>>> significantly different compiler version or flags. ?Also, I found that
>>> Vista and Win7 are much more sensitive to the problems caused by mixing
>>> versions compared to WinXP.
>>>
>>> Best regards,
>>> --
>>> ---------------------------------------+--------------------------------------
>>> I set the clouds in motion - turn up ? | Frank Warmerdam, warmerdam@pobox.com
>>> light and sound - activate the windows | http://pobox.com/~warmerdam
>>> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>>>
>>
>>
>>
>> --
>> "Love all serve all" - ..::Sri Sathya Sai::..
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



--
"Love all serve all" - ..::Sri Sathya Sai::..
From hobu.inc at gmail.com  Mon Nov 22 15:30:05 2010
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Nov 22 15:30:10 2010
Subject: [gdal-dev] Motion: Approve RFC 33 - GeoTIFF - Fixing PixelIsPoint
	Interpretation
In-Reply-To: <4CEACA81.4090108@mapgears.com>
References: <4CE4BAB9.3030507@pobox.com> <4CEACA81.4090108@mapgears.com>
Message-ID: <21F7896E-6FB4-4281-A6C9-F72F1CA6F24E@gmail.com>


On Nov 22, 2010, at 1:54 PM, Daniel Morissette wrote:

> Frank Warmerdam wrote:
>> 
>> Folks,
>> 
>> I haven't seen any serious concerns with proceeding with this fix and I
>> have incorporated a few fixes.  So now I'd like to motion to adopt RFC 33:
>> 
>>  http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint
>> 
> 
> I have to admit that it took me a few reads to (kind of) realize the
> implications this rfc, but since this is about aligning GDAL with the
> GeoTiff spec I think we have to bite the bullet and do it.
> 
> +1

+1

As long as we're approving (slightly) painful RFCs, what are people's thoughts on installing GDAL's includes by default in a number-prefixed directory instead of in the global directory?  

For example, instead of installing in 
/usr/local/include/gdal.h

for GDAL 1.8, we'd install in
/usr/local/include/gdal18/gdal.h

Do we need an RFC for this?

Howard

From warmerdam at pobox.com  Mon Nov 22 15:50:08 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Nov 22 15:50:21 2010
Subject: [gdal-dev] Motion: Approve RFC 33 - GeoTIFF - Fixing
	PixelIsPoint Interpretation
In-Reply-To: <21F7896E-6FB4-4281-A6C9-F72F1CA6F24E@gmail.com>
References: <4CE4BAB9.3030507@pobox.com> <4CEACA81.4090108@mapgears.com>
	<21F7896E-6FB4-4281-A6C9-F72F1CA6F24E@gmail.com>
Message-ID: <4CEAD780.8040506@pobox.com>

Howard Butler wrote:
> As long as we're approving (slightly) painful RFCs, what are people's thoughts on installing GDAL's includes by default in a number-prefixed directory instead of in the global directory?  
> 
> For example, instead of installing in 
> /usr/local/include/gdal.h
> 
> for GDAL 1.8, we'd install in
> /usr/local/include/gdal18/gdal.h
> 
> Do we need an RFC for this?

Howard,

I am in support of such a change.  I think a brief RFC might be in order.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ari.jolma at gmail.com  Mon Nov 22 16:10:17 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon Nov 22 16:10:28 2010
Subject: [gdal-dev] Motion: Approve RFC 33 - GeoTIFF - Fixing PixelIsPoint
	Interpretation
In-Reply-To: <4CEAD780.8040506@pobox.com>
References: <4CE4BAB9.3030507@pobox.com>
	<4CEACA81.4090108@mapgears.com>	<21F7896E-6FB4-4281-A6C9-F72F1CA6F24E@gmail.com>
	<4CEAD780.8040506@pobox.com>
Message-ID: <4CEADC39.30203@gmail.com>

On 11/22/2010 10:50 PM, Frank Warmerdam wrote:
> Howard Butler wrote:
>> As long as we're approving (slightly) painful RFCs, what are people's 
>> thoughts on installing GDAL's includes by default in a 
>> number-prefixed directory instead of in the global directory?
>> For example, instead of installing in /usr/local/include/gdal.h
>>
>> for GDAL 1.8, we'd install in
>> /usr/local/include/gdal18/gdal.h
>>
>> Do we need an RFC for this?
>
> Howard,
>
> I am in support of such a change.  I think a brief RFC might be in order.

I added that into my wishlist for GDAL 2.0 :)

http://trac.osgeo.org/gdal/wiki/GDAL20Changes

but the sooner the better.

Ari

>
> Best regards,

From szekerest at gmail.com  Mon Nov 22 16:21:26 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Nov 22 16:21:30 2010
Subject: [gdal-dev] Gdal driver not working in windows 7
In-Reply-To: <AANLkTik+fW70yO0=8hg_cWE=G_+rwvO54-YBKrggBa43@mail.gmail.com>
References: <AANLkTik842HLdzMj4vcWOH=8K90ZdOXzy01Bb-tH8u87@mail.gmail.com>
	<4CE579C5.8050806@pobox.com>
	<AANLkTing5vOaMaP=sx=C5rb96xjrx26durunRSfnDUp_@mail.gmail.com>
	<AANLkTi=cqgwkAKpzfD3S98H5n_o3LVa4PUaYz69bL1JD@mail.gmail.com>
	<AANLkTik+fW70yO0=8hg_cWE=G_+rwvO54-YBKrggBa43@mail.gmail.com>
Message-ID: <AANLkTi=K1VAGdwQLDLaYVxYDvvFyyO9t6yYCR3W7e2kJ@mail.gmail.com>

2010/11/22 Ram prasad <ramprasad85@gmail.com>

> Following is repost, because the message appeared garbled in the mailing
> list.
>
> I could not compile my code along with other formats in frmts due to
> my insufficient experience in using nmake projects.
>
> http://www.gdal.org/gdal_drivertut.html gives information on writing a
> driver.
> Is there a document on compiling the driver? I need to be able to
> specify the search path for include files for the compiler and input
> files for the linker.
>
>

If you download the -dev package from http://vbkto.dyndns.org/sdk/  it
should contain all the required libs and headers to compile the plugin. Make
sure to compile with the /MD setting to use the same CRT dependency for the
plugin and the gdal dll.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/b1da5723/attachment-0001.html
From szekerest at gmail.com  Mon Nov 22 16:26:33 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Nov 22 16:26:37 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <1290449725153-5763694.post@n2.nabble.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
	<1290342378603-5760042.post@n2.nabble.com>
	<AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>
	<1290449725153-5763694.post@n2.nabble.com>
Message-ID: <AANLkTimoS8VsyB=aokr86vbpODwYNJkzjtxaXOndrN5h@mail.gmail.com>

Do you have any compelling reason to use gdal14 instead of a newer version?
You may download working binaries (along with the java bindings) from here:
http://vbkto.dyndns.org/sdk/

Best regards,

Tamas



2010/11/22 MarvinCO <marvin.offiah@googlemail.com>

>
> I'm sorry, nothing has helped so far. I found out via Dependency Walker,
> that
> obviously there are a few DLLs that gdal14 depends on:
>
> ieframe.dll
> shlwapi.dll
> urlmon.dll
>
> I found all of them and placed them into my jre\bin directory. However,
> that
> still doesn't solve my problem. Still getting the same error message. I
> hope
> this output of Dependency Walker is of any help? Look at the tree of
> ieframe.dll. Does this mean that there are some functions not implemented
> in
> the ieframe.dll that gdal14 wants to use?
>
> http://osgeo-org.1803224.n2.nabble.com/file/n5763694/gdal14.png
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5763694.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101122/2fe1527e/attachment.html
From marvin.offiah at googlemail.com  Mon Nov 22 18:16:44 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Mon Nov 22 18:16:46 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <AANLkTimoS8VsyB=aokr86vbpODwYNJkzjtxaXOndrN5h@mail.gmail.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
	<1290342378603-5760042.post@n2.nabble.com>
	<AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>
	<1290449725153-5763694.post@n2.nabble.com>
	<AANLkTimoS8VsyB=aokr86vbpODwYNJkzjtxaXOndrN5h@mail.gmail.com>
Message-ID: <1290467804090-5764808.post@n2.nabble.com>


No, no reason at all. I didn't know there's any other binary version out
there, only found the one I had been using so far via the official download
link from the GDAL home page. I just downloaded the version from your page
now. Why isn't that link on the GDAL home page?

I did that now, updated to 1.7, but the error remains the same. I hope I'm
doing this right: I copied all the DLLs in the gdal/java folder of your
distribution, and the gdal17.dll, into my jre/bin directory. I also copied
the gdal.jar into my classpath directory and included the jar in my
classpath (also in the Python script). Still the very same error, this time
its gdal17.dll that's causing the UnsatisfiedLinkError. 

My Python script looks like this now:

import os, sys, subprocess, time

dir = os.getcwd().replace("\\", "/") + "/share/extensions/MapIllustrator/"
os.chdir(dir)

libdir = "lib/"
cmd = "java -verbose -classpath \".;C:/Program
Files/Java/jre6/lib/ext/QTJava.zip;build/classes;" + libdir + "*;" + libdir
+ "SuperCSV-1.52/*;" + libdir + "batik-1.7/*;" + libdir + "batik-1.7/lib/*;"
+ libdir + "batik-1.7/extensions/*;" + libdir + "gdal-1.7/*;" + "\"
mapillustrator.MapIllustrator \"" + sys.argv[-1] + "\"" 
print cmd

subprocess.Popen(cmd, stdout=True)
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5764808.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From marvin.offiah at googlemail.com  Mon Nov 22 18:20:42 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Mon Nov 22 18:20:44 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <1290467804090-5764808.post@n2.nabble.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
	<1290342378603-5760042.post@n2.nabble.com>
	<AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>
	<1290449725153-5763694.post@n2.nabble.com>
	<AANLkTimoS8VsyB=aokr86vbpODwYNJkzjtxaXOndrN5h@mail.gmail.com>
	<1290467804090-5764808.post@n2.nabble.com>
Message-ID: <1290468042561-5764820.post@n2.nabble.com>


Interesting to note, too, that Dependency Walker now still reports the same
DLLs as having missing functions, though I still have them in my jre/bin:

http://osgeo-org.1803224.n2.nabble.com/file/n5764820/gdal.png 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5764820.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From marvin.offiah at googlemail.com  Mon Nov 22 18:39:27 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Mon Nov 22 18:39:29 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <1290468042561-5764820.post@n2.nabble.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
	<1290342378603-5760042.post@n2.nabble.com>
	<AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>
	<1290449725153-5763694.post@n2.nabble.com>
	<AANLkTimoS8VsyB=aokr86vbpODwYNJkzjtxaXOndrN5h@mail.gmail.com>
	<1290467804090-5764808.post@n2.nabble.com>
	<1290468042561-5764820.post@n2.nabble.com>
Message-ID: <1290469167723-5764860.post@n2.nabble.com>


Is it necessary to call System.loadLibrary() on ALL DLLs? I thought Windows
takes care of loading the dependent libraries automatically. Anyway, the
whole thing - again - works via Eclipse. It's only launching my app by the
Python script that throws the UnsatisfiedLinkException.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5764860.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ryantxu at gmail.com  Mon Nov 22 19:54:10 2010
From: ryantxu at gmail.com (Ryan McKinley)
Date: Mon Nov 22 19:54:14 2010
Subject: [gdal-dev] Re: Unable to load CIB datasets with GDAL
In-Reply-To: <1290417623986-5762059.post@n2.nabble.com>
References: <1290192380996-5756271.post@n2.nabble.com>
	<4CE6C95D.2040809@pobox.com>
	<1290417623986-5762059.post@n2.nabble.com>
Message-ID: <AANLkTik54Q7mR97Q28VrLTTXkikxKKCrXzRhrRpvHCUk@mail.gmail.com>

This is the output I get for the file that fails to load:  (semi redacted)

c:\data\RPF>nitfdump "F:\path\to\file.i24"
Dump for F:\path\to\file.i24
File TREs: RPFHDR(48)
File Metadata:
  NITF_FHDR=NITF02.00
  NITF_CLEVEL=03
  NITF_STYPE=
  NITF_OSTAID=TRIFID
  NITF_FDT=11XXXXXX
  NITF_FTITLE=file.I24
  NITF_FSCLAS=U
  NITF_FSCODE=DS
  NITF_FSCTLH=
  NITF_FSREL=
  NITF_FSCAUT=
  NITF_FSCTLN=
  NITF_FSDWNG=
  NITF_FSCOP=00000
  NITF_FSCPYS=00000
  NITF_ENCRYP=0
  NITF_ONAME=TRIFID
  NITF_OPHONE=
ERROR 1: Image header too small
Segment 1 (Type=IM):
  HeaderStart=479, HeaderSize=2123, DataStart=2602, DataSize=286797
  DLVL=-1, ALVL=-1, LOC=C-1,R-1, CCS=C-1,R-1

Segment 2 (Type=DE):
  HeaderStart=289399, HeaderSize=209, DataStart=289608, DataSize=601
  DLVL=-1, ALVL=-1, LOC=C-1,R-1, CCS=C-1,R-1

ERROR 1: Image header too small
NITFAccessImage(0) failed!

c:\data\RPF>


thanks
ryan

On Mon, Nov 22, 2010 at 4:20 AM, morabit <b.morabito@tdnet.it> wrote:
>
> Hi,
> I' ve just executed the nitfdump utility included in FwTools (GDAL 1.7.0)
> against the nitf file
> and for the complete file and for the truncated one I get the same report in
> output:
>
> Dump for 0AA43516_trunc.I42
> File TREs: RPFHDR(48)
> File Metadata:
> ?NITF_FHDR=NITF02.00
> ?NITF_CLEVEL=99
> ?NITF_STYPE=
> ?NITF_OSTAID=Ciga
> ?NITF_FDT=21050525212525
> ?NITF_FTITLE=0AA43516.I42
> ?NITF_FSCLAS=U
> ?NITF_FSCODE=
> ?NITF_FSCTLH=
> ?NITF_FSREL=
> ?NITF_FSCAUT=
> ?NITF_FSCTLN=
> ?NITF_FSDWNG=
> ?NITF_FSCOP=00000
> ?NITF_FSCPYS=00000
> ?NITF_ENCRYP=0
> ?NITF_ONAME=Datamat
> ?NITF_OPHONE=
> Warning 1: Ignoring NITF RPF Location table since it seems to be corrupt.
> Segment 1 (Type=IM):
> ?HeaderStart=466, HeaderSize=2130, DataStart=2596, DataSize=2425208
> ?DLVL=1, ALVL=0, LOC=C0,R0, CCS=C0,R0
>
> Image Segment 0, 1536Px1536Lx1B x 8bits:
> ?PVTYPE=INT, IREP=MONO, ICAT=VIS, IMODE=B, IC=M4, COMRAT=0.75, ICORDS=G
> ?UL=(12.4447162504524,41.6429166666667), UR=(12.4630615273254,41.6498656351
>
> ?LL=(12.4447162504524,41.6359676981542), LR=(12.4630615273254,41.6429166666
>
> ?IDLVL=1, IALVL=0, ILOC R=0,C=0, IMAG=1.0
> ?6 x 6 blocks of size 256 x 256
> ?Image TREs: RPFIMG(1400)
> ?Band 1: IREPBAND=, ISUBCAT=, 217 LUT entries.
> ?Image Metadata:
> ? ?NITF_IID1=CIB
> ? ?NITF_IDATIM=21050525212525
> ? ?NITF_TGTID=
> ? ?NITF_ITITLE=0AA43516.I42
> ? ?NITF_ISCLAS=U
> ? ?NITF_ISCODE=
> ? ?NITF_ISCTLH=
> ? ?NITF_ISREL=
> ? ?NITF_ISCAUT=
> ? ?NITF_ISCTLN=
> ? ?NITF_ISDWNG=
> ? ?NITF_ISORCE=To be defined by the user
> ? ?NITF_PVTYPE=INT
> ? ?NITF_IREP=MONO
> ? ?NITF_ICAT=VIS
> ? ?NITF_ABPP=08
> ? ?NITF_PJUST=R
>
> So I don't see the error you report in your post...
> We hope that a solution to this issue can be found in a short time
> as this is fondumental for our project.
> Thank You
>
> Best regards
>
> Bruno
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/Unable-to-load-CIB-datasets-with-GDAL-tp5756271p5762059.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From b.morabito at tdnet.it  Tue Nov 23 03:26:57 2010
From: b.morabito at tdnet.it (morabit)
Date: Tue Nov 23 03:26:59 2010
Subject: [gdal-dev] Re: Unable to load CIB datasets with GDAL
In-Reply-To: <AANLkTik54Q7mR97Q28VrLTTXkikxKKCrXzRhrRpvHCUk@mail.gmail.com>
References: <1290192380996-5756271.post@n2.nabble.com>
	<4CE6C95D.2040809@pobox.com>
	<1290417623986-5762059.post@n2.nabble.com>
	<AANLkTik54Q7mR97Q28VrLTTXkikxKKCrXzRhrRpvHCUk@mail.gmail.com>
Message-ID: <1290500817705-5765819.post@n2.nabble.com>


Hi All, 
  excuse me Ryan, but the nitfdump you attached is for 
another NITF file that has problems with GDAL, right?
Only to be accurate....as it is completely different for mine.

Best regards

Bruno M




-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Unable-to-load-CIB-datasets-with-GDAL-tp5756271p5765819.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From joseph4774 at hotmail.com  Tue Nov 23 04:18:55 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Tue Nov 23 04:18:57 2010
Subject: [gdal-dev] how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
	Studio 2010
Message-ID: <1290503935713-5765934.post@n2.nabble.com>


Hi every one
I have a question, how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
Studio 2010. It's easy to compile gdal 1.7.3 alone but when I include ecw
4.1 I get an error.
. I've done the following steps:

1 - I downloaded the newest gdal (1.7.3) and downloaded
ECWJP2SDKSetup_RO_20100920.exe from ERDAS.
2 - When I build gdal 1.7.3 without ecw in VS10 (makegdal10.sln or
makegdal90.sln), I get no errors. It all runs fine.
3 - I installed ECWJP2SDKSetup_RO_20100920.exe on my machine 32bit XP.
installation went well and created a new folder with the path "C: \ Program
Files \ Erda \ Erda ECW JPEG2000 SDK Read" which includes subfolders bin,
include, lib, Redistributable and others.
4 - I made sam changes to nmake.opt file text:   
                                                 ECW_PLUGIN = YES
                                                 ECWDIR = C: \ Program Files
\ Erda \ Erda ECW JPEG2000 SDK Read
 						 ECWFLAGS =-I $ (ECWDIR) \ include-DNO_COMPRESS-DECWSDK_VERSION = 41
 						 ECWLIB = $ (ECWDIR) \ lib \ vc90 \ win32 \ NCSEcw4_RO.lib \
						 $ (ECWDIR) \ lib \ vc90 \ win32 \ NCSUtil4.lib \
						 $ (ECWDIR) \ lib \ vc90 \ win32 \ NCScnet4.lib
5 - After the changes I've made to nmake.opt, I can not build GDAL and I get
a build error.
6 - I found some useful links on the web to build gdal.. But the problem is
that I am a beginner and these links are too advanced for me.
     and links are:
     a.	http://trac.osgeo.org/gdal/wiki/BuildHints 
     b.	http://trac.osgeo.org/gdal/wiki/ECW 
     c.	http://trac.osgeo.org/gdal/ticket/3676 

Can anyone tell me what I'm missing, I would be very grateful.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5765934.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jorge.arevalo at deimos-space.com  Tue Nov 23 07:14:39 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Tue Nov 23 07:15:11 2010
Subject: [gdal-dev] how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
	Studio 2010
In-Reply-To: <1290503935713-5765934.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
Message-ID: <AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>

On Tue, Nov 23, 2010 at 10:18 AM, GeoJoda <joseph4774@hotmail.com> wrote:
>
> Hi every one
> I have a question, how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
> Studio 2010. It's easy to compile gdal 1.7.3 alone but when I include ecw
> 4.1 I get an error.
> . I've done the following steps:
>
> 1 - I downloaded the newest gdal (1.7.3) and downloaded
> ECWJP2SDKSetup_RO_20100920.exe from ERDAS.
> 2 - When I build gdal 1.7.3 without ecw in VS10 (makegdal10.sln or
> makegdal90.sln), I get no errors. It all runs fine.
> 3 - I installed ECWJP2SDKSetup_RO_20100920.exe on my machine 32bit XP.
> installation went well and created a new folder with the path "C: \ Program
> Files \ Erda \ Erda ECW JPEG2000 SDK Read" which includes subfolders bin,
> include, lib, Redistributable and others.
> 4 - I made sam changes to nmake.opt file text:
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ECW_PLUGIN = YES
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ECWDIR = C: \ Program Files
> \ Erda \ Erda ECW JPEG2000 SDK Read
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ECWFLAGS =-I $ (ECWDIR) \ include-DNO_COMPRESS-DECWSDK_VERSION = 41
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ECWLIB = $ (ECWDIR) \ lib \ vc90 \ win32 \ NCSEcw4_RO.lib \
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? $ (ECWDIR) \ lib \ vc90 \ win32 \ NCSUtil4.lib \
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? $ (ECWDIR) \ lib \ vc90 \ win32 \ NCScnet4.lib
> 5 - After the changes I've made to nmake.opt, I can not build GDAL and I get
> a build error.
> 6 - I found some useful links on the web to build gdal.. But the problem is
> that I am a beginner and these links are too advanced for me.
> ? ? and links are:
> ? ? a. http://trac.osgeo.org/gdal/wiki/BuildHints
> ? ? b. http://trac.osgeo.org/gdal/wiki/ECW
> ? ? c. http://trac.osgeo.org/gdal/ticket/3676
>
> Can anyone tell me what I'm missing, I would be very grateful.
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5765934.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Hello,

I'm not a Windows user (at least to compile GDAL), but did you try
with these packages? http://vbkto.dyndns.org/sdk/

Anyway, you should provide the error's text. It's difficult to know
what's happening without it.

Best regards,
-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
From joseph4774 at hotmail.com  Tue Nov 23 08:28:39 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Tue Nov 23 08:28:40 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <1290503935713-5765934.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
Message-ID: <1290518919112-5766602.post@n2.nabble.com>


Yes, I've tried this link, there is no version that supports ecw format:
I attached the log file.
http://osgeo-org.1803224.n2.nabble.com/file/n5766602/makegdal10.log
makegdal10.log 
I've made a small change. I have renamed "Erda ECW JPEG2000 SDK Read" folder
to "SDK".

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5766602.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From joseph4774 at hotmail.com  Tue Nov 23 08:30:44 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Tue Nov 23 08:30:46 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
Message-ID: <1290519044770-5766611.post@n2.nabble.com>


Yes, I've tried this link, there is no version that supports ecw format: 
I attached the log 
http://osgeo-org.1803224.n2.nabble.com/file/n5766611/makegdal10.log
makegdal10.log 
I've made a small change. I have renamed "Erda ECW JPEG2000 SDK Read" folder
to "SDK". 

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5766611.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jorge.arevalo at deimos-space.com  Tue Nov 23 08:39:03 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Tue Nov 23 08:39:28 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <1290519044770-5766611.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
Message-ID: <AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>

On Tue, Nov 23, 2010 at 2:30 PM, GeoJoda <joseph4774@hotmail.com> wrote:
>
> Yes, I've tried this link, there is no version that supports ecw format:
> I attached the log
> http://osgeo-org.1803224.n2.nabble.com/file/n5766611/makegdal10.log
> makegdal10.log
> I've made a small change. I have renamed "Erda ECW JPEG2000 SDK Read" folder
> to "SDK".
>
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5766611.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Looking at log file, there's a lost reference to NCSJP2File.h. You
probably need to add the path to this file to INC variable in
nmake.opt. Take a look here:
http://osdir.com/ml/gis.gdal.devel/2005-04/msg00051.html

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
From bjoern.schilberg at intevation.de  Tue Nov 23 08:57:08 2010
From: bjoern.schilberg at intevation.de (Bjoern Schilberg)
Date: Tue Nov 23 08:57:12 2010
Subject: [gdal-dev] suggestions for raster performance optimization
Message-ID: <201011231457.08849.bjoern.schilberg@intevation.de>

Hello,

I was wondering what will be promising ways for raster performance 
optimization for about 5000 DOP. I did identified 4 different (and more or 
less independent) ways.

1) Building pyramids (external overviews) with gdaladdo of each tif file.
   gdaladdo --config GDAL_CACHEMAX 200 --config COMPRESS_OVERVIEW 
JPEG --config PHOTOMETRIC_OVERVIEW YCBCR --config INTERLEAVE_OVERVIEW 
PIXEL --config JPEG_QUALITY_OVERVIEW 80 -ro *.tif 2 4 6 8 16 32 64 128 25

   Creating a tile-index with gdaltileindex.
   gdaltindex index.shp *.tif


2) Building a seamless mosaic from all tif files with gdalbuildvrt.
   gdalbuildvrt mosaic.vrt *.tif (works, but will be large)

   After that building pyramid (external overview) with gdaladdo of the mosaic 
file.
   gdaladdo --config GDAL_CACHEMAX 200 --config COMPRESS_OVERVIEW 
JPEG --config PHOTOMETRIC_OVERVIEW YCBCR --config INTERLEAVE_OVERVIEW 
PIXEL --config JPEG_QUALITY_OVERVIEW 80 -ro mosaic.vrt 2 4 6 8 16 32 64 1
   This does not really work out since (I guess hardware is my limiting
   factor).

3) Building a seamless mosaic from all tif files with gdalbuildvrt.
   gdalbuildvrt mosaic.vrt *.tif

   Creating a pyramid with gdal_retile.py
   gdal_retile.py -v  -co GDAL_CACHEMAX=200 -of GTIFF -co COMPRESS=JPEG -co 
JPEG_QUALITY=80 -co PHOTOMETRIC=YCBCR -ps 10000 10000 -co "TILED=YES" -s_srs 
epsg:25832 -levels 10 -tileIndex tindex -pyramidOnly -ta

   Also this does not really seem appropriate.

4) Creating static singled file external overviews manually.
   Here i''m not sure how to determine reasonable scales.


Do you have any further suggestions or tips I have not mentioned above?

Thanks for your input and links.

Best regards

    Bjoern
From gregor at hostgis.com  Tue Nov 23 17:43:35 2010
From: gregor at hostgis.com (Gregor at HostGIS)
Date: Tue Nov 23 17:52:01 2010
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
Message-ID: <4CEC4397.3000307@hostgis.com>

Hey all. I am using the OGR binding for python, to open a SHP and print 
a geometry's WKT. This works until I try to call geom.ExportToWkt() At 
that time I simply get "Premature end of script headers" Running it from 
the command line I get a segmentation fault.

The code snippet:

     driver     = ogr.GetDriverByName('ESRI Shapefile')
     datasource = driver.Open(shapefile,0)
     layer      = datasource.GetLayer()
     spatialRef = layer.GetSpatialRef()
     firstgeom  = layer.GetFeature(0).GetGeometryRef()
     wkt        = firstgeom.ExportToWkt()


Versions:
GDAL 1.7.1
Python 2.5.1


The strace output is not particularly helpful to me. Maybe it's helpful 
to someone else?

open("/maps/images.tmp/zipUdUf9L.zip/fedlanl020.dbf", O_RDONLY) = 4
open("/maps/images.tmp/zipUdUf9L.zip/fedlanl020.cpg", O_RDONLY) = -1 
ENOENT (No such file or directory)
open("/maps/images.tmp/zipUdUf9L.zip/fedlanl020.CPG", O_RDONLY) = -1 
ENOENT (No such file or directory)
fstat(4, {st_mode=S_IFREG|0644, st_size=55294, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) 
= 0x2b8f79cf5000
read(4, "\3i\t\17a\1\0\0\341\0\234\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 
4096) = 4096
open("/maps/images.tmp/zipUdUf9L.zip/fedlanl020.prj", O_RDONLY) = -1 
ENOENT (No such file or directory)
open("/maps/images.tmp/zipUdUf9L.zip/fedlanl020.PRJ", O_RDONLY) = -1 
ENOENT (No such file or directory)
stat("/maps/images.tmp/zipUdUf9L.zip/fedlanl020.idm", 0x7fffd87a7c10) = 
-1 ENOENT (No such file or directory)
stat("/usr/lib64/python2.5/site-packages/GDAL-1.7.1-py2.5-linux-x86_64.egg/osgeo/types", 
0x7fffd87a5da0) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.5/site-packages/GDAL-1.7.1-py2.5-linux-x86_64.egg/osgeo/types.so", 
O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.5/site-packages/GDAL-1.7.1-py2.5-linux-x86_64.egg/osgeo/typesmodule.so", 
O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.5/site-packages/GDAL-1.7.1-py2.5-linux-x86_64.egg/osgeo/types.py", 
O_RDONLY) = -1 ENOENT (No such file or directory)
open("/usr/lib64/python2.5/site-packages/GDAL-1.7.1-py2.5-linux-x86_64.egg/osgeo/types.pyc", 
O_RDONLY) = -1 ENOENT (No such file or directory)
futex(0x40eceb0, FUTEX_WAKE, 1)         = 0
read(3, "5\364c\300\0\0\0\340v\321P@\0\0\0\0X\364c\300\0\0\0`D\321"..., 
4096) = 4096
--- SIGSEGV (Segmentation fault) @ 0 (0) ---


I do wonder about those "no such file or directory" at the end, where 
it's trying to open something called "types" and trying everything it 
can. True, there are no files named "types" Is that relevant?

-- 
HostGIS, Open Source solutions for the global GIS community
Greg Allensworth - SysAdmin, Programmer, GIS Person, Security
    Network+   Server+   A+   Security+   Linux+
    PHP   PostgreSQL   MySQL   DHTML/JavaScript/AJAX

"No one cares if you can back up ? only if you can recover."
From mgleahy at alumni.uwaterloo.ca  Tue Nov 23 19:25:10 2010
From: mgleahy at alumni.uwaterloo.ca (Mike Leahy)
Date: Tue Nov 23 19:25:16 2010
Subject: [gdal-dev] Reprojecting a tiled dataset
Message-ID: <201011231925.10705.mgleahy@alumni.uwaterloo.ca>

Hello list,

I'm wondering if anyone has any recommendations for reprojecting a large, 
already-tiled RGB GeoTiff image dataset.  It's straightforward enough to script 
the reprojection of individual tiles, but this leaves black wedges on the 
sides.  I can merge tiles and add '-n 0' to treat the black wedges as no data, 
and the merged output looks fine with no visible black strips, but this is a 
dataset that is of the order of 60GB, so merging all of the tiles takes a 
particularly long time.

I thought maybe I could use gdal_retile.py...except that doesn't include an 
arugment that allow for the exclusion of a particular nodata value in the 
output.  I figure I could incorporate something to account for nodata into a 
customized version of gdal_retile.py script...would anyone have any pointers 
for doing this?

Best regards,
Mike


 
From warmerdam at pobox.com  Tue Nov 23 19:52:01 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 23 19:52:07 2010
Subject: [gdal-dev] Reprojecting a tiled dataset
In-Reply-To: <201011231925.10705.mgleahy@alumni.uwaterloo.ca>
References: <201011231925.10705.mgleahy@alumni.uwaterloo.ca>
Message-ID: <4CEC61B1.3080407@pobox.com>

Mike Leahy wrote:
> Hello list,
> 
> I'm wondering if anyone has any recommendations for reprojecting a large, 
> already-tiled RGB GeoTiff image dataset.  It's straightforward enough to script 
> the reprojection of individual tiles, but this leaves black wedges on the 
> sides.  I can merge tiles and add '-n 0' to treat the black wedges as no data, 
> and the merged output looks fine with no visible black strips, but this is a 
> dataset that is of the order of 60GB, so merging all of the tiles takes a 
> particularly long time.
> 
> I thought maybe I could use gdal_retile.py...except that doesn't include an 
> arugment that allow for the exclusion of a particular nodata value in the 
> output.  I figure I could incorporate something to account for nodata into a 
> customized version of gdal_retile.py script...would anyone have any pointers 
> for doing this?

Mike,

I would suggest using gdalbuildvrt to build a virtual dataset
referencing all the tiles, and then gdalwarp that.  I'd suggested
including "-co TILED=YES" in the gdalwarp command to produce an internally
tiled output GeoTIFF file.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From woodbri at swoodbridge.com  Tue Nov 23 20:17:18 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Tue Nov 23 20:17:34 2010
Subject: [gdal-dev] Reprojecting a tiled dataset
In-Reply-To: <4CEC61B1.3080407@pobox.com>
References: <201011231925.10705.mgleahy@alumni.uwaterloo.ca>
	<4CEC61B1.3080407@pobox.com>
Message-ID: <4CEC679E.1020802@swoodbridge.com>

On 11/23/2010 7:52 PM, Frank Warmerdam wrote:
> Mike Leahy wrote:
>> Hello list,
>>
>> I'm wondering if anyone has any recommendations for reprojecting a
>> large, already-tiled RGB GeoTiff image dataset. It's straightforward
>> enough to script the reprojection of individual tiles, but this leaves
>> black wedges on the sides. I can merge tiles and add '-n 0' to treat
>> the black wedges as no data, and the merged output looks fine with no
>> visible black strips, but this is a dataset that is of the order of
>> 60GB, so merging all of the tiles takes a particularly long time.
>>
>> I thought maybe I could use gdal_retile.py...except that doesn't
>> include an arugment that allow for the exclusion of a particular
>> nodata value in the output. I figure I could incorporate something to
>> account for nodata into a customized version of gdal_retile.py
>> script...would anyone have any pointers for doing this?
>
> Mike,
>
> I would suggest using gdalbuildvrt to build a virtual dataset
> referencing all the tiles, and then gdalwarp that. I'd suggested
> including "-co TILED=YES" in the gdalwarp command to produce an internally
> tiled output GeoTIFF file.

Hi Frank,

Does this generate one 60GB output file or can it generate a new 
gdalwarp set of tiles with .vrt as output? This would be very cool!

So what would the gdalwarp command look like? something like:

gdalwarp -t_srs EPSG:900913 -co TILED=YES -of GTiff -srcnodata 0 
-dstnodata 0 input.vrt outdir/output.vrt

-Steve W
From warmerdam at pobox.com  Tue Nov 23 20:42:35 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 23 20:42:40 2010
Subject: [gdal-dev] Reprojecting a tiled dataset
In-Reply-To: <4CEC679E.1020802@swoodbridge.com>
References: <201011231925.10705.mgleahy@alumni.uwaterloo.ca>
	<4CEC61B1.3080407@pobox.com> <4CEC679E.1020802@swoodbridge.com>
Message-ID: <4CEC6D8B.2080506@pobox.com>

Stephen Woodbridge wrote:
> Hi Frank,
> 
> Does this generate one 60GB output file or can it generate a new 
> gdalwarp set of tiles with .vrt as output? This would be very cool!

Steve,

No, it produces one big internally tiled GeoTIFF file.

> So what would the gdalwarp command look like? something like:
> 
> gdalwarp -t_srs EPSG:900913 -co TILED=YES -of GTiff -srcnodata 0 
> -dstnodata 0 input.vrt outdir/output.vrt

Yes, something like that, though the nodata stuff likely isn't needed
if the source files are abutting tiles.  also, the output is just a .tif.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Nov 23 21:31:06 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 23 21:31:10 2010
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
In-Reply-To: <4CEC4397.3000307@hostgis.com>
References: <4CEC4397.3000307@hostgis.com>
Message-ID: <4CEC78EA.3000802@pobox.com>

Gregor at HostGIS wrote:
> Hey all. I am using the OGR binding for python, to open a SHP and print 
> a geometry's WKT. This works until I try to call geom.ExportToWkt() At 
> that time I simply get "Premature end of script headers" Running it from 
> the command line I get a segmentation fault.
> 
> The code snippet:
> 
>     driver     = ogr.GetDriverByName('ESRI Shapefile')
>     datasource = driver.Open(shapefile,0)
>     layer      = datasource.GetLayer()
>     spatialRef = layer.GetSpatialRef()
>     firstgeom  = layer.GetFeature(0).GetGeometryRef()
>     wkt        = firstgeom.ExportToWkt()

Gregor,

Geometries do not have the ExportToWkt() method.  This is a method on
the ogr.SpatialReference class.

Perhaps try:
   wkt = spatialRef.ExportToWkt()

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From gregor at hostgis.com  Tue Nov 23 21:50:00 2010
From: gregor at hostgis.com (=?utf-8?B?R3JlZ29yIGF0IEhvc3RHSVM=?=)
Date: Tue Nov 23 21:49:51 2010
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gVW5hYmxlIHRvIHVzZSBnZW9tLkV4cG9ydFRvV2t0KCkgaW4gUHl0aG9uID8=?=
Message-ID: <20101124024914.B58E12EE001A@mail.hostgis.com>

That's strange, the docs show ExportAsWkt as being a method of a Geometry, as does the source code for the Python wrapper. Well, you would know best...

If I do spatialref.ExportAsWkt() it gives the WKT of the SRS, right? What if I want a feature's geometry? Would I need to generate it myself from the geometry type and iterating over the vertices?

Sent from my Verizon Wireless Phone

----- Reply message -----
From: "Frank Warmerdam" <warmerdam@pobox.com>
Date: Tue, Nov 23, 2010 6:31 pm
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
To: "Gregor at HostGIS" <gregor@hostgis.com>
Cc: <gdal-dev@lists.osgeo.org>


Gregor at HostGIS wrote:
> Hey all. I am using the OGR binding for python, to open a SHP and print 
> a geometry's WKT. This works until I try to call geom.ExportToWkt() At 
> that time I simply get "Premature end of script headers" Running it from 
> the command line I get a segmentation fault.
> 
> The code snippet:
> 
>     driver     = ogr.GetDriverByName('ESRI Shapefile')
>     datasource = driver.Open(shapefile,0)
>     layer      = datasource.GetLayer()
>     spatialRef = layer.GetSpatialRef()
>     firstgeom  = layer.GetFeature(0).GetGeometryRef()
>     wkt        = firstgeom.ExportToWkt()

Gregor,

Geometries do not have the ExportToWkt() method.  This is a method on
the ogr.SpatialReference class.

Perhaps try:
   wkt = spatialRef.ExportToWkt()

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101123/6a222fe5/attachment-0001.html
From warmerdam at pobox.com  Tue Nov 23 22:04:26 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 23 22:04:31 2010
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
In-Reply-To: <20101124024914.B58E12EE001A@mail.hostgis.com>
References: <20101124024914.B58E12EE001A@mail.hostgis.com>
Message-ID: <4CEC80BA.4040706@pobox.com>

Gregor at HostGIS wrote:
> That's strange, the docs show ExportAsWkt as being a method of a 
> Geometry, as does the source code for the Python wrapper. Well, you 
> would know best...
> 
> If I do spatialref.ExportAsWkt() it gives the WKT of the SRS, right? 
> What if I want a feature's geometry? Would I need to generate it myself 
> from the geometry type and iterating over the vertices?

Gregor,

Garr, disregard me.  I had SRS WKT on the brain and forgot all about
geometry WKT.

>  >     driver     = ogr.GetDriverByName('ESRI Shapefile')
>  >     datasource = driver.Open(shapefile,0)
>  >     layer      = datasource.GetLayer()
>  >     spatialRef = layer.GetSpatialRef()
>  >     firstgeom  = layer.GetFeature(0).GetGeometryRef()
>  >     wkt        = firstgeom.ExportToWkt()

GetFeature() makes a copy of the feature, and right after the GetGeometryRef()
call the feature is destroyed because there is no obvious remaining reference
to it.  This means the geometry pointer (a reference to the internal
geometry of the feature) is now pointing to a deleted object and the
ExportToWkt() crashes.

The trick is to keep around the feature till you are done with the geometry.

   feat = layer.GetFeature(0)
   firstgeom = feat.GetGeometryRef()
   wkt = firstgeom.ExportToWkt()

There are efforts in recent versions of the bindings to avoid this sort
of problem with layers and datasources but even in trunk I suspect grabbing
a geometry handle from within a feature will not keep the feature alive.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Luke.Pinner at environment.gov.au  Tue Nov 23 22:04:32 2010
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Tue Nov 23 22:04:37 2010
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
	[SEC=UNCLASSIFIED]
In-Reply-To: <20101124024914.B58E12EE001A@mail.hostgis.com>
References: <20101124024914.B58E12EE001A@mail.hostgis.com>
Message-ID: <64102B2FB850C345B04D09C82018F45F056E4D50@ACT01VEXCCL04.internal.govt>

You are running into a python "gotcha" -
http://trac.osgeo.org/gdal/wiki/PythonGotchas

Your reference to the feature is going out of scope when you use the
"firstgeom  = layer.GetFeature(0).GetGeometryRef()" syntax. The
following works syntax fine:
feat       = layer.GetFeature(0)
firstgeom  = feat.GetGeometryRef()
print firstgeom.ExportToWkt()

Luke

________________________________

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Gregor at HostGIS
Sent: Wednesday, 24 November 2010 1:50 PM
To: Frank Warmerdam
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?


That's strange, the docs show ExportAsWkt as being a method of a
Geometry, as does the source code for the Python wrapper. Well, you
would know best...

If I do spatialref.ExportAsWkt() it gives the WKT of the SRS, right?
What if I want a feature's geometry? Would I need to generate it myself
from the geometry type and iterating over the vertices?

Sent from my Verizon Wireless Phone

----- Reply message -----
From: "Frank Warmerdam" <warmerdam@pobox.com>
Date: Tue, Nov 23, 2010 6:31 pm
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
To: "Gregor at HostGIS" <gregor@hostgis.com>
Cc: <gdal-dev@lists.osgeo.org>


Gregor at HostGIS wrote:
> Hey all. I am using the OGR binding for python, to open a SHP and
print 
> a geometry's WKT. This works until I try to call geom.ExportToWkt() At

> that time I simply get "Premature end of script headers" Running it
from 
> the command line I get a segmentation fault.
> 
> The code snippet:
> 
>     driver     = ogr.GetDriverByName('ESRI Shapefile')
>     datasource = driver.Open(shapefile,0)
>     layer      = datasource.GetLayer()
>     spatialRef = layer.GetSpatialRef()
>     firstgeom  = layer.GetFeature(0).GetGeometryRef()
>     wkt        = firstgeom.ExportToWkt()

Gregor,

Geometries do not have the ExportToWkt() method.  This is a method on
the ogr.SpatialReference class.

Perhaps try:
  wkt = spatialRef.ExportToWkt()

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent





If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments.

Please consider the environment before printing this email.
From warmerdam at pobox.com  Tue Nov 23 22:39:20 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 23 22:39:27 2010
Subject: [gdal-dev] Re: Motion: Approve RFC 33 - GeoTIFF - Fixing
 PixelIsPoint Interpretation
In-Reply-To: <4CE4BAB9.3030507@pobox.com>
References: <4CE4BAB9.3030507@pobox.com>
Message-ID: <4CEC88E8.5070908@pobox.com>

Frank Warmerdam wrote:
> 
> Folks,
> 
> I haven't seen any serious concerns with proceeding with this fix and I
> have incorporated a few fixes.  So now I'd like to motion to adopt RFC 33:
> 
>   http://trac.osgeo.org/gdal/wiki/rfc33_gtiff_pixelispoint

Folks,

I declare this motion successful with support from Frank, Howard and Daniel.
I have already applied the proposed changes in trunk, and I will not migrate
them into 1.7 and 1.6 per the RFC.

Hopefully this won't cause too much disruption and will fix a long standing
issue.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Nov 23 22:56:06 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 23 22:56:08 2010
Subject: [gdal-dev] Re: Motion: Approve RFC 33 - GeoTIFF - Fixing
 PixelIsPoint Interpretation
In-Reply-To: <4CEC88E8.5070908@pobox.com>
References: <4CE4BAB9.3030507@pobox.com> <4CEC88E8.5070908@pobox.com>
Message-ID: <4CEC8CD6.4000606@pobox.com>

Frank Warmerdam wrote:
> 
> I declare this motion successful with support from Frank, Howard and 
> Daniel. I have already applied the proposed changes in trunk, and I 
 > will not migrate them into 1.7 and 1.6 per the RFC.

Ahem,

I *will now migrate* them into 1.7 and 1.6 per the RFC.  I also discovered
I hadn't committed them in trunk yet so that will be new for everyone but
me.  I've also been asked to migrate them into the 1.6-esri branch.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From gregor at hostgis.com  Tue Nov 23 23:22:29 2010
From: gregor at hostgis.com (=?utf-8?B?R3JlZ29yIGF0IEhvc3RHSVM=?=)
Date: Tue Nov 23 23:23:52 2010
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gVW5hYmxlIHRvIHVzZSBnZW9tLkV4cG9ydFRvV2t0KCkgaW4gUHl0aG9uID8gW1NFQz1VTkNMQVNTSUZJRURd?=
Message-ID: <20101124042143.354D62EE001A@mail.hostgis.com>

Luke, you are so full of awesome. That page answers my question and has other good tips. Thank you so much.

Sent from my Verizon Wireless Phone

----- Reply message -----
From: "Pinner, Luke" <Luke.Pinner@environment.gov.au>
Date: Tue, Nov 23, 2010 7:04 pm
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ? [SEC=UNCLASSIFIED]
To: "Gregor at HostGIS" <gregor@hostgis.com>
Cc: <gdal-dev@lists.osgeo.org>


You are running into a python "gotcha" -
http://trac.osgeo.org/gdal/wiki/PythonGotchas

Your reference to the feature is going out of scope when you use the
"firstgeom  = layer.GetFeature(0).GetGeometryRef()" syntax. The
following works syntax fine:
feat       = layer.GetFeature(0)
firstgeom  = feat.GetGeometryRef()
print firstgeom.ExportToWkt()

Luke

________________________________

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Gregor at HostGIS
Sent: Wednesday, 24 November 2010 1:50 PM
To: Frank Warmerdam
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?


That's strange, the docs show ExportAsWkt as being a method of a
Geometry, as does the source code for the Python wrapper. Well, you
would know best...

If I do spatialref.ExportAsWkt() it gives the WKT of the SRS, right?
What if I want a feature's geometry? Would I need to generate it myself
from the geometry type and iterating over the vertices?

Sent from my Verizon Wireless Phone

----- Reply message -----
From: "Frank Warmerdam" <warmerdam@pobox.com>
Date: Tue, Nov 23, 2010 6:31 pm
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
To: "Gregor at HostGIS" <gregor@hostgis.com>
Cc: <gdal-dev@lists.osgeo.org>


Gregor at HostGIS wrote:
> Hey all. I am using the OGR binding for python, to open a SHP and
print 
> a geometry's WKT. This works until I try to call geom.ExportToWkt() At

> that time I simply get "Premature end of script headers" Running it
from 
> the command line I get a segmentation fault.
> 
> The code snippet:
> 
>     driver     = ogr.GetDriverByName('ESRI Shapefile')
>     datasource = driver.Open(shapefile,0)
>     layer      = datasource.GetLayer()
>     spatialRef = layer.GetSpatialRef()
>     firstgeom  = layer.GetFeature(0).GetGeometryRef()
>     wkt        = firstgeom.ExportToWkt()

Gregor,

Geometries do not have the ExportToWkt() method.  This is a method on
the ogr.SpatialReference class.

Perhaps try:
  wkt = spatialRef.ExportToWkt()

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent





If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments.

Please consider the environment before printing this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101123/2adaff52/attachment.html
From gregor at hostgis.com  Tue Nov 23 23:24:19 2010
From: gregor at hostgis.com (=?utf-8?B?R3JlZ29yIGF0IEhvc3RHSVM=?=)
Date: Tue Nov 23 23:24:08 2010
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gVW5hYmxlIHRvIHVzZSBnZW9tLkV4cG9ydFRvV2t0KCkgaW4gUHl0aG9uID8gW1NFQz1VTkNMQVNTSUZJRURd?=
Message-ID: <20101124042332.E7A2D2EE001A@mail.hostgis.com>

Luke, you are so full of awesome. That page answers my question and has other good tips. Thank you so much.

Sent from my Verizon Wireless Phone

----- Reply message -----
From: "Pinner, Luke" <Luke.Pinner@environment.gov.au>
Date: Tue, Nov 23, 2010 7:04 pm
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ? [SEC=UNCLASSIFIED]
To: "Gregor at HostGIS" <gregor@hostgis.com>
Cc: <gdal-dev@lists.osgeo.org>


You are running into a python "gotcha" -
http://trac.osgeo.org/gdal/wiki/PythonGotchas

Your reference to the feature is going out of scope when you use the
"firstgeom  = layer.GetFeature(0).GetGeometryRef()" syntax. The
following works syntax fine:
feat       = layer.GetFeature(0)
firstgeom  = feat.GetGeometryRef()
print firstgeom.ExportToWkt()

Luke

________________________________

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Gregor at HostGIS
Sent: Wednesday, 24 November 2010 1:50 PM
To: Frank Warmerdam
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?


That's strange, the docs show ExportAsWkt as being a method of a
Geometry, as does the source code for the Python wrapper. Well, you
would know best...

If I do spatialref.ExportAsWkt() it gives the WKT of the SRS, right?
What if I want a feature's geometry? Would I need to generate it myself
from the geometry type and iterating over the vertices?

Sent from my Verizon Wireless Phone

----- Reply message -----
From: "Frank Warmerdam" <warmerdam@pobox.com>
Date: Tue, Nov 23, 2010 6:31 pm
Subject: [gdal-dev] Unable to use geom.ExportToWkt() in Python ?
To: "Gregor at HostGIS" <gregor@hostgis.com>
Cc: <gdal-dev@lists.osgeo.org>


Gregor at HostGIS wrote:
> Hey all. I am using the OGR binding for python, to open a SHP and
print 
> a geometry's WKT. This works until I try to call geom.ExportToWkt() At

> that time I simply get "Premature end of script headers" Running it
from 
> the command line I get a segmentation fault.
> 
> The code snippet:
> 
>     driver     = ogr.GetDriverByName('ESRI Shapefile')
>     datasource = driver.Open(shapefile,0)
>     layer      = datasource.GetLayer()
>     spatialRef = layer.GetSpatialRef()
>     firstgeom  = layer.GetFeature(0).GetGeometryRef()
>     wkt        = firstgeom.ExportToWkt()

Gregor,

Geometries do not have the ExportToWkt() method.  This is a method on
the ogr.SpatialReference class.

Perhaps try:
  wkt = spatialRef.ExportToWkt()

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent





If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments.

Please consider the environment before printing this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101123/9bdbdd99/attachment-0001.html
From rajjad at gmail.com  Wed Nov 24 01:08:32 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Wed Nov 24 01:08:35 2010
Subject: [gdal-dev] problem with gdaltindex
Message-ID: <AANLkTimdge4tQ7wh2BTdhOUgRL8wOF96sSQOe3eft5_w@mail.gmail.com>

Hi.

Im trying to generate an index shape file for serveral geotiff files
in the same directory and I am using gdaltindex -tileindex for that.
It seems to work fine with complete file name but is not accepting
wildcards incase I want to add all the files in the index.

my command line of WinXp
-------------------------------------------------------------

E:\files>gdaltindex -tileindex location test *.tif
ERROR 4: Unable to open test.shp or test.SHP.
Creating new index file...
ERROR 4: `*.tif' does not exist in the file system,
and is not recognised as a supported dataset name.

Unable to open *.tif, skipping.
------------------------------------------------------------------

any idea what I am doing wrong here?

regards,
Imran



-- 
I.R
From rajjad at gmail.com  Wed Nov 24 02:35:57 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Wed Nov 24 02:35:59 2010
Subject: [gdal-dev] Re: problem with gdaltindex
In-Reply-To: <AANLkTimdge4tQ7wh2BTdhOUgRL8wOF96sSQOe3eft5_w@mail.gmail.com>
References: <AANLkTimdge4tQ7wh2BTdhOUgRL8wOF96sSQOe3eft5_w@mail.gmail.com>
Message-ID: <AANLkTindeT2_-bhpMhaWPc9n45O++D8riQW7VguxqPp=@mail.gmail.com>

I think I found a way to handle this on windows.

create a batch file and put it in the same folder of the tif files (or
any other raster). put the following lines in the batch file and run
it.
----------test.bat------
echo on
for /f %%a IN ('dir /b *.tif') do call gdaltindex -tileindex location test %%a
------------------------

it will run the gdaltindex for each tif file in directory, however I
still have no idea why the command line wont accept wildcard.

regards,
Imran

On Wed, Nov 24, 2010 at 11:08 AM, Imran Rajjad <rajjad@gmail.com> wrote:
> Hi.
>
> Im trying to generate an index shape file for serveral geotiff files
> in the same directory and I am using gdaltindex -tileindex for that.
> It seems to work fine with complete file name but is not accepting
> wildcards incase I want to add all the files in the index.
>
> my command line of WinXp
> -------------------------------------------------------------
>
> E:\files>gdaltindex -tileindex location test *.tif
> ERROR 4: Unable to open test.shp or test.SHP.
> Creating new index file...
> ERROR 4: `*.tif' does not exist in the file system,
> and is not recognised as a supported dataset name.
>
> Unable to open *.tif, skipping.
> ------------------------------------------------------------------
>
> any idea what I am doing wrong here?
>
> regards,
> Imran
>
>
>
> --
> I.R
>



-- 
I.R
From jukka.rahkonen at mmmtike.fi  Wed Nov 24 03:36:08 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed Nov 24 03:36:22 2010
Subject: [gdal-dev] Re: problem with gdaltindex
References: <AANLkTimdge4tQ7wh2BTdhOUgRL8wOF96sSQOe3eft5_w@mail.gmail.com>
	<AANLkTindeT2_-bhpMhaWPc9n45O++D8riQW7VguxqPp=@mail.gmail.com>
Message-ID: <loom.20101124T093137-569@post.gmane.org>

Imran Rajjad <rajjad <at> gmail.com> writes:

> 
> I think I found a way to handle this on windows.
> 
> create a batch file and put it in the same folder of the tif files (or
> any other raster). put the following lines in the batch file and run
> it.
> ----------test.bat------
> echo on
> for /f %%a IN ('dir /b *.tif') do call gdaltindex -tileindex location test %%a
> ------------------------
> 
> it will run the gdaltindex for each tif file in directory, however I
> still have no idea why the command line wont accept wildcard.

Your original command works for me with gdaltindex from FWTools2.4.2. Where does
your gdaltindex come from?  Having "-tileindex location" is not necessary
because "location" is the default name in any case, but I tested that it did not
make any harm either.

-Jukka Rahkonen- 

From rajjad at gmail.com  Wed Nov 24 03:40:30 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Wed Nov 24 03:40:33 2010
Subject: [gdal-dev] Re: problem with gdaltindex
In-Reply-To: <loom.20101124T093137-569@post.gmane.org>
References: <AANLkTimdge4tQ7wh2BTdhOUgRL8wOF96sSQOe3eft5_w@mail.gmail.com>
	<AANLkTindeT2_-bhpMhaWPc9n45O++D8riQW7VguxqPp=@mail.gmail.com>
	<loom.20101124T093137-569@post.gmane.org>
Message-ID: <AANLkTi=q+vwjrgn8tB3zcddx9YSeTiqrdHe9BqxYHhkG@mail.gmail.com>

I dont really remember, I think I got the binnaries from the main
website http://gdal.org/index.html a few months ago. but that is
strange, could it be something with windows? but now that batch file
is doing the work fine.

regards,
iMran


On Wed, Nov 24, 2010 at 1:36 PM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
> Imran Rajjad <rajjad <at> gmail.com> writes:
>
>>
>> I think I found a way to handle this on windows.
>>
>> create a batch file and put it in the same folder of the tif files (or
>> any other raster). put the following lines in the batch file and run
>> it.
>> ----------test.bat------
>> echo on
>> for /f %%a IN ('dir /b *.tif') do call gdaltindex -tileindex location test %%a
>> ------------------------
>>
>> it will run the gdaltindex for each tif file in directory, however I
>> still have no idea why the command line wont accept wildcard.
>
> Your original command works for me with gdaltindex from FWTools2.4.2. Where does
> your gdaltindex come from? ?Having "-tileindex location" is not necessary
> because "location" is the default name in any case, but I tested that it did not
> make any harm either.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
I.R
From ludovic.granjon at u-bourgogne.fr  Wed Nov 24 05:14:05 2010
From: ludovic.granjon at u-bourgogne.fr (Ludovic Granjon)
Date: Wed Nov 24 05:14:15 2010
Subject: [gdal-dev] Delete a sqlite database
In-Reply-To: <017301cb8a53$89e0c980$9da25c80$@roberts@duke.edu>
References: <4CEA3742.8040708@u-bourgogne.fr> <4CEA7D10.7070002@pobox.com>
	<017301cb8a53$89e0c980$9da25c80$@roberts@duke.edu>
Message-ID: <4CECE56D.9050407@u-bourgogne.fr>

Hi all
Finally I solved my problem with an over way :
I don't call a datasource.executeSQL for my join.
Now I did my join with python and than I can manage my sqlite connection 
and than I'm able to close it correctly.
So it works for me now

Thanks

Ludovic

Le 22/11/2010 15:42, Jason Roberts a ?crit :
> Hi Ludovic and Frank,
>
> As I understand from discussions with Evan Rouault, Destroy() is an obsolete
> method in the Python bindings that should not be used. See
> http://trac.osgeo.org/gdal/wiki/PythonGotchas#CertainobjectscontainaDestroym
> ethodbutyoushouldneveruseit.
>
> If that understanding is not correct, please let me know.
>
> Rather than calling Destroy(), it might be better to set all of the
> variables to None (i.e. joinlayer, layer, and datasource) to hopefully cause
> Python to destruct these instances. But I see from Ludovic's latest email
> that he tried it and it did not work. So it is time for a new idea...
>
> In any case, please let me know if there is a scenario in which Destroy() is
> supposed to be called from the Python bindings, contrary to Evan's advice.
>
> Thanks,
> Jason
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
> Sent: Monday, November 22, 2010 9:24 AM
> To: Ludovic Granjon
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Delete a sqlite database
>
> Ludovic Granjon wrote:
>> Hi all
>> I try in a python script to delete a sqlite database that I use in an
>> OGR ExecuteSQL.
>> Let me give you an example :
>> If I do :
>>
>>   >>>  from osgeo import *
>>   >>>  import os
>>   >>>  datasource = ogr.Open("decoupe.shp")
>>   >>>  layer = datasource.GetLayer()
>>   >>>  joinLayer=datasource.ExecuteSQL("SELECT decoupe.FID as ligne_id,
>> c.lFid as ligne_id2, c.count as count FROM decoupe LEFT JOIN
>> 'project.sqlite'.comptage c ON decoupe.FID=c.lFid")
>>   >>>  datasource.Destroy()
>>
>> It seems that there still a connection to my sqlite database and I can't
>> delete it.
>>
>> When I try on MS Windows (There's no error on linux) :
>>   >>>  os.remove('project.sqlite')
>>
>> I have :
>> Traceback (most recent call last):
>> File "<pyshell#5>", line 1, in<module>
>> os.remove('project.sqlite')
>> WindowsError: [Error 13] Le processus ne peut pas acc?der au fichier car
>> ce fichier est utilis? par un autre processus: 'project.sqlite'
>>
>>
>> Do you know a way to do that ?
> Ludovic,
>
> I think newish versions of the Python bindings attempt to keep the
> datasource
> alive as long as their are references to layers from it.  I would suggest
> setting layer and joinLayer variables to None before calling destroy on the
> datasource or even just setting the datasource to None.  I'm not positive
> that
> this is the issue - perhaps you could let us know if it works.
>
> Best regards,

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ludovic_granjon.vcf
Type: text/x-vcard
Size: 149 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101124/1833f0d7/ludovic_granjon.vcf
From emmanuel.sambale at gmail.com  Wed Nov 24 05:21:23 2010
From: emmanuel.sambale at gmail.com (maning sambale)
Date: Wed Nov 24 05:21:47 2010
Subject: [gdal-dev] Fwd: loading kc50 palsar datasets in GRASS
In-Reply-To: <AANLkTikmosfVZDgAyXLryaYBTX-HBbZ=E9VegH0myGB6@mail.gmail.com>
References: <AANLkTikmosfVZDgAyXLryaYBTX-HBbZ=E9VegH0myGB6@mail.gmail.com>
Message-ID: <AANLkTikE-GLVyV3CAcd-mR9Qfaju4hKTKCse6=+tX8mG@mail.gmail.com>

Anyone successfully loaded kc50 palsar raw imagery with gdal?


---------- Forwarded message ----------
From: maning sambale <emmanuel.sambale@gmail.com>
Date: Tue, Nov 23, 2010 at 4:00 PM
Subject: loading kc50 palsar datasets in GRASS
To: grass-users@lists.osgeo.org


This site provides PALSAR 50m Orthorectified Mosaic Product.
http://www.eorc.jaxa.jp/ALOS/en/kc_mosaic/kc_mosaic.htm

I tried running gdalinfo to the directory, img and header files, but
gdal doesn't recognize the format. ?There is pdf (below the webpage)
but I can't find any reference to the file formats that is supported
by GDAL and GRASS. ?Has anyone used this dataset in GRASS?

PS. ?This is the only dataset without clouds I can find for my study
area (for obvious reasons :)).
--
cheers,
maning
------------------------------------------------------
"Freedom is still the most radical idea of all" -N.Branden
wiki: http://esambale.wikispaces.com/
blog: http://epsg4253.wordpress.com/
------------------------------------------------------



-- 
cheers,
maning
------------------------------------------------------
"Freedom is still the most radical idea of all" -N.Branden
wiki: http://esambale.wikispaces.com/
blog: http://epsg4253.wordpress.com/
------------------------------------------------------
From zoltans at geograph.co.za  Wed Nov 24 07:04:45 2010
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Wed Nov 24 07:04:54 2010
Subject: [gdal-dev] Data types change converting from MID/MIF to SHP
Message-ID: <4CECFF5D.6040602@geograph.co.za>

Hi,
Here's a strange one that hopefully can be overcome quickly.

I'd be grateful for any assistance with this problem.

Kind regards,
Zoltan



I have a MID/MIF file combination with:

COLUMNS 5
     FEAT_TYPE_ integer (5)
     GID integer (10)
     ENTITY_NAM char (50)
     GEOMETRY_T char (5)
     AUD_MOD char (5)
DATA

yet as a SHP file, the two Integer fields become Real 11.0 - yes, both 11.0

I have used both QGis 1.5.0 and an old MapInfo Imutgui.exe to do this 
conversion, and I get the same results.


Typical MID file entries are:

391,,,LINE,A
391,7553476,32986740,LINE,E
391,,,LINE,A
391,,,LINE,A
402,,,LINE,A
391,,,LINE,A
391,7552723,33180873,LINE,E
391,7553846,33193702,LINE,E
398,,,LINE,A
402,,,LINE,A
402,,,LINE,A
391,,,LINE,A
402,,,LINE,A
402,,,LINE,A
391,,,LINE,A
391,,,LINE,A
391,,,LINE,A
398,8181664,#017:1968,LINE,E
391,7586152,40306383,LINE,E
391,7645575,33201757,LINE,E
391,7586151,40306441,LINE,E
391,7586003,40307075,LINE,E
399,8396096,#017:1784,LINE,E






-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.

34? 6'16.35"S 18?28'5.62"E

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================



-----
No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1170 / Virus Database: 426/3275 - Release Date: 11/23/10

From warmerdam at pobox.com  Wed Nov 24 09:12:57 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 24 09:13:03 2010
Subject: [gdal-dev] Data types change converting from MID/MIF to SHP
In-Reply-To: <4CECFF5D.6040602@geograph.co.za>
References: <4CECFF5D.6040602@geograph.co.za>
Message-ID: <4CED1D69.9060004@pobox.com>

Zoltan Szecsei wrote:
> Hi,
> Here's a strange one that hopefully can be overcome quickly.
> 
> I'd be grateful for any assistance with this problem.
> 
> Kind regards,
> Zoltan
> 
> 
> 
> I have a MID/MIF file combination with:
> 
> COLUMNS 5
>     FEAT_TYPE_ integer (5)
>     GID integer (10)
>     ENTITY_NAM char (50)
>     GEOMETRY_T char (5)
>     AUD_MOD char (5)
> DATA
> 
> yet as a SHP file, the two Integer fields become Real 11.0 - yes, both 11.0
> 
> I have used both QGis 1.5.0 and an old MapInfo Imutgui.exe to do this 
> conversion, and I get the same results.
> 

Zoltan,

I can confirm that OGR is ignoring the precision of integer fields when
translating and thus "integer 5" is just treated as "integer".  This in
turn get translated to an 11 character wide field in the dbf file to
hold the largest 32bit integer.  But when reading back such a wide field
the shapefile driver treats it as "real" since the largest 11 character
wide integer is larger than 32 bits.

In GDAL/OGR trunk I've changed the shapefile driver a few weeks ago so that
unknown width fields are treated as 10 wide integer fields which are still
treated as integer when read back in an effort to partly avoid this sort of
problem.  I'm not sure if that change was backported.

But I think there is also an issue with the mapinfo driver which seems to
be ignoring the precision of integer fields.  I found it also ignores the
precision of Decimal fields which are treated as real even if there are
no decimal points.

Could you file a ticket in the GDAL/OGR Trac on this?  I'll try to get it
fixed up for GDAL/OGR 1.8.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From joseph4774 at hotmail.com  Wed Nov 24 09:48:14 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Wed Nov 24 09:48:16 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
Message-ID: <1290610094435-5770586.post@n2.nabble.com>


hi  Jorge Ar?valo 
thank you for answering my question very quickly,. I spent much time to get
it to work. I managed to build the solution. I also got a
gdal_ECW_JP2ECW.dll with gdal17.dll. 
the ext question will be, how can I include ecw plugin in gdal17 ?
i tried with defining a GDAL_DRIVER_PATH environment variable linking
to the location where you have built gdal_ECW_JP2ECW.DLL. but with out luck.
du you know how to do it on windows platform.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5770586.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From b.morabito at tdnet.it  Wed Nov 24 10:05:17 2010
From: b.morabito at tdnet.it (morabit)
Date: Wed Nov 24 10:05:19 2010
Subject: [gdal-dev] Re: Unable to load CIB datasets with GDAL
In-Reply-To: <1290500817705-5765819.post@n2.nabble.com>
References: <1290192380996-5756271.post@n2.nabble.com>
	<4CE6C95D.2040809@pobox.com>
	<1290417623986-5762059.post@n2.nabble.com>
	<AANLkTik54Q7mR97Q28VrLTTXkikxKKCrXzRhrRpvHCUk@mail.gmail.com>
	<1290500817705-5765819.post@n2.nabble.com>
Message-ID: <1290611117879-5770648.post@n2.nabble.com>


Hi All,
  I'm experimenting on the CIB issue only to have more hints of the exact
origin
of the problem.
I try to comment the block of code in nitfimage.c at line 3046 that reports 
the error on the location table corruption and that consequently resets the 
location table data structure :

CPLError( CE_Warning, CPLE_AppDefined,
            "Ignoring NITF RPF Location table since it seems to be corrupt."
);
            CPLFree( psImage->pasLocations );

psImage->pasLocations = NULL;
psImage->nLocCount = 0; 

After this modification I am able to display the map but with evident
visualization errors likely due to bad decompression. 
Perhaps this can be a consequence of some form of bad reading
of the QV LUT to decompress the image?
Last thing...As I said in my first post, OGDI have no problems to manage
these datasets. I tried to check the OGDI source code but I'm not a NITF
specialist and so I was not able to understand what are the actions that
OGDI do well respect to GDAL.


Best regards

Bruno M.



-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Unable-to-load-CIB-datasets-with-GDAL-tp5756271p5770648.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From zoltans at geograph.co.za  Wed Nov 24 10:41:06 2010
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Wed Nov 24 10:41:17 2010
Subject: [gdal-dev] Data types change converting from MID/MIF to SHP
In-Reply-To: <4CED1D69.9060004@pobox.com>
References: <4CECFF5D.6040602@geograph.co.za> <4CED1D69.9060004@pobox.com>
Message-ID: <4CED3212.3020806@geograph.co.za>

On 2010-11-24 16:12, Frank Warmerdam wrote:
> Zoltan Szecsei wrote:
>> Hi,
>> Here's a strange one that hopefully can be overcome quickly.
>>
>> I'd be grateful for any assistance with this problem.
>>
>> Kind regards,
>> Zoltan
>>
>>
>>
>> I have a MID/MIF file combination with:
>>
>> COLUMNS 5
>>     FEAT_TYPE_ integer (5)
>>     GID integer (10)
>>     ENTITY_NAM char (50)
>>     GEOMETRY_T char (5)
>>     AUD_MOD char (5)
>> DATA
>>
>> yet as a SHP file, the two Integer fields become Real 11.0 - yes, 
>> both 11.0
>>
>> I have used both QGis 1.5.0 and an old MapInfo Imutgui.exe to do this 
>> conversion, and I get the same results.
>>
>
> Zoltan,
>
> I can confirm that OGR is ignoring the precision of integer fields when
> translating and thus "integer 5" is just treated as "integer".  This in
> turn get translated to an 11 character wide field in the dbf file to
> hold the largest 32bit integer.  But when reading back such a wide field
> the shapefile driver treats it as "real" since the largest 11 character
> wide integer is larger than 32 bits.
>
> In GDAL/OGR trunk I've changed the shapefile driver a few weeks ago so 
> that
> unknown width fields are treated as 10 wide integer fields which are 
> still
> treated as integer when read back in an effort to partly avoid this 
> sort of
> problem.  I'm not sure if that change was backported.
>
> But I think there is also an issue with the mapinfo driver which seems to
> be ignoring the precision of integer fields.  I found it also ignores the
> precision of Decimal fields which are treated as real even if there are
> no decimal points.
>
> Could you file a ticket in the GDAL/OGR Trac on this?  I'll try to get it
> fixed up for GDAL/OGR 1.8.
>
> Best regards,
Hi Frank,
I've filed ticket #3853 - thanks.
I'm obviously available to help where possible.

Kind regards,
Zoltan




-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.

34? 6'16.35"S 18?28'5.62"E

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================



-----
No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1170 / Virus Database: 426/3275 - Release Date: 11/23/10

From jorge.arevalo at deimos-space.com  Wed Nov 24 10:43:51 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Wed Nov 24 10:44:16 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <1290610094435-5770586.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
Message-ID: <AANLkTimJAqhYGaVjnu46OvqodBw+TE36re14+-tOkiDp@mail.gmail.com>

On Wed, Nov 24, 2010 at 3:48 PM, GeoJoda <joseph4774@hotmail.com> wrote:
>
> hi ?Jorge Ar?valo
> thank you for answering my question very quickly,. I spent much time to get
> it to work. I managed to build the solution. I also got a
> gdal_ECW_JP2ECW.dll with gdal17.dll.
> the ext question will be, how can I include ecw plugin in gdal17 ?
> i tried with defining a GDAL_DRIVER_PATH environment variable linking
> to the location where you have built gdal_ECW_JP2ECW.DLL. but with out luck.
> du you know how to do it on windows platform.
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5770586.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Hi Joseph,

Sorry, I don't know how to do it, but did you test this?
http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal17-ecw

Best regards,

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
From mgleahy at alumni.uwaterloo.ca  Wed Nov 24 11:27:32 2010
From: mgleahy at alumni.uwaterloo.ca (Mike Leahy)
Date: Wed Nov 24 11:27:42 2010
Subject: [gdal-dev] Reprojecting a tiled dataset
In-Reply-To: <4CEC9A8A.4000004@pobox.com>
References: <201011231925.10705.mgleahy@alumni.uwaterloo.ca>
	<201011232322.43028.mgleahy@alumni.uwaterloo.ca>
	<4CEC9A8A.4000004@pobox.com>
Message-ID: <201011241127.33893.mgleahy@alumni.uwaterloo.ca>

On Tuesday, November 23, 2010 23:54:34 Frank Warmerdam wrote:
> Mike Leahy wrote:
> > On another note...if the output image is internally tiled, is it still
> > worthwhile to run gdaladdo on it?  Is it generally about the same
> > efficiency to use the single internally-tiled file if I'm going to use
> > it as a layer in MapServer, or should I re-tile it again into separate
> > images?
> 
> Mike,
> 
> Absolutely you should build overviews for it.  I don't see any value in
> turning it into a bunch of files - I much prefer serving from one, or only
> a few large GeoTIFF files instead of all this tiles-as-files business.
> 
> Best regards,

To carry on the externally-tiled vs. internally-tiled discussion - another 
question I have is what should I do about the large areas of empty space 
around the outside of a non-rectangular dataset?  In the dataset I'm working 
with at the moment, about 30% of the one-file image area is black/nodata.  This 
can be excluded if I tile the dataset an remove any tiles with all zero 
values.  Is there an equivalent way to exclude this within an internally-tiled 
image in order to conserve disk space?  Would it have made a difference if I 
had set the -srcnodata flag when I used gdalwarp?

I must say, however, the performance of working with the internally tiled 
image noticably better.  I gind I get significant loading/lag time when I view 
the data using the *.vrt for the original tiled data within QuantumGIS, while 
it's virtually instantaneous with with the single internally-tiled image.  So 
if the cost for this is the extra disk space for the nodata regions, it's 
worth it anyway.

Best regards,
Mike

P.S.: I forgot to copy the list on my previous reply - sorry about that.
From warmerdam at pobox.com  Wed Nov 24 11:37:30 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 24 11:37:35 2010
Subject: [gdal-dev] Reprojecting a tiled dataset
In-Reply-To: <201011241127.33893.mgleahy@alumni.uwaterloo.ca>
References: <201011231925.10705.mgleahy@alumni.uwaterloo.ca>
	<201011232322.43028.mgleahy@alumni.uwaterloo.ca>
	<4CEC9A8A.4000004@pobox.com>
	<201011241127.33893.mgleahy@alumni.uwaterloo.ca>
Message-ID: <4CED3F4A.6070107@pobox.com>

Mike Leahy wrote:
> To carry on the externally-tiled vs. internally-tiled discussion - another 
> question I have is what should I do about the large areas of empty space 
> around the outside of a non-rectangular dataset?  In the dataset I'm working 
> with at the moment, about 30% of the one-file image area is black/nodata.  This 
> can be excluded if I tile the dataset an remove any tiles with all zero 
> values.  Is there an equivalent way to exclude this within an internally-tiled 
> image in order to conserve disk space?  Would it have made a difference if I 
> had set the -srcnodata flag when I used gdalwarp?
> 
> I must say, however, the performance of working with the internally tiled 
> image noticably better.  I gind I get significant loading/lag time when I view 
> the data using the *.vrt for the original tiled data within QuantumGIS, while 
> it's virtually instantaneous with with the single internally-tiled image.  So 
> if the cost for this is the extra disk space for the nodata regions, it's 
> worth it anyway.

Mike,

My suggestion would be to use some sort of lossless compression scheme
if you have large nodata areas.  This will compress these tiles down to
almost nothing.  For instance adding "-co COMPRESS=DEFLATE".

GDAL can also support empty tiles in GeoTIFF but it isn't trivial to
utilize this capability in your situation.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From joseph4774 at hotmail.com  Wed Nov 24 14:07:50 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Wed Nov 24 14:07:51 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <1290610094435-5770586.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
Message-ID: <1290625670283-5771670.post@n2.nabble.com>


I tried many times. It does not work. other ideers ?
Why it is so hard to compile gdal with ecw format with VS2010? And why i
can't find a documentation describe how to do it step by step. 
The only tiket I find it interesting was this one
http://trac.osgeo.org/gdal/ticket/3676.
Think you Jorge Ar?valo .You tried your best to help me and i appreciate
that
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5771670.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ricardo.garcia.silva at gmail.com  Wed Nov 24 14:34:18 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Wed Nov 24 14:34:41 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <1290625670283-5771670.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
Message-ID: <AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>

Hi

I'm no expert on this, but I was under the impression that the new
version of the ERDAS SDK, that was released earlier this year, was
incompatible with GDAL... Try compiling with the previous version and
you might be able to solve your issues.



On Wed, Nov 24, 2010 at 7:07 PM, GeoJoda <joseph4774@hotmail.com> wrote:
>
> I tried many times. It does not work. other ideers ?
> Why it is so hard to compile gdal with ecw format with VS2010? And why i
> can't find a documentation describe how to do it step by step.
> The only tiket I find it interesting was this one
> http://trac.osgeo.org/gdal/ticket/3676.
> Think you Jorge Ar?valo .You tried your best to help me and i appreciate
> that
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5771670.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From warmerdam at pobox.com  Wed Nov 24 15:28:50 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 24 15:28:57 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
Message-ID: <4CED7582.7040302@pobox.com>

Ricardo Filipe Soares Garcia da wrote:
> Hi
> 
> I'm no expert on this, but I was under the impression that the new
> version of the ERDAS SDK, that was released earlier this year, was
> incompatible with GDAL... Try compiling with the previous version and
> you might be able to solve your issues.

Folks,

The 4.1 Beta ECW SDK available now is supported with GDAL 1.7.3, and
trunk.   It does not built with earlier releases.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pcreso at pcreso.com  Wed Nov 24 21:29:14 2010
From: pcreso at pcreso.com (pcreso@pcreso.com)
Date: Wed Nov 24 21:29:17 2010
Subject: [gdal-dev] Data types change converting from MID/MIF to SHP
In-Reply-To: <4CECFF5D.6040602@geograph.co.za>
Message-ID: <902627.78776.qm@web33205.mail.mud.yahoo.com>

Hi,

I'm guessing this is because the DBF format ESRI decided on for aspatial attribute data in shapefiles does not have an integer datatype 

(sse: http://www.dbase.com/knowledgebase/int/db7_file_fmt.htm)

So an int field gets read into a generic numeric field in the DBF file, rather than an int.


Brent Wood


--- On Thu, 11/25/10, Zoltan Szecsei <zoltans@geograph.co.za> wrote:

From: Zoltan Szecsei <zoltans@geograph.co.za>
Subject: [gdal-dev] Data types change converting from MID/MIF to SHP
To: "gdal-dev" <gdal-dev@lists.osgeo.org>
Date: Thursday, November 25, 2010, 1:04 AM

Hi,
Here's a strange one that hopefully can be overcome quickly.

I'd be grateful for any assistance with this problem.

Kind regards,
Zoltan



I have a MID/MIF file combination with:

COLUMNS 5
? ? FEAT_TYPE_ integer (5)
? ? GID integer (10)
? ? ENTITY_NAM char (50)
? ? GEOMETRY_T char (5)
? ? AUD_MOD char (5)
DATA

yet as a SHP file, the two Integer fields become Real 11.0 - yes, both 11.0

I have used both QGis 1.5.0 and an old MapInfo Imutgui.exe to do this conversion, and I get the same results.


Typical MID file entries are:

391,,,LINE,A
391,7553476,32986740,LINE,E
391,,,LINE,A
391,,,LINE,A
402,,,LINE,A
391,,,LINE,A
391,7552723,33180873,LINE,E
391,7553846,33193702,LINE,E
398,,,LINE,A
402,,,LINE,A
402,,,LINE,A
391,,,LINE,A
402,,,LINE,A
402,,,LINE,A
391,,,LINE,A
391,,,LINE,A
391,,,LINE,A
398,8181664,#017:1968,LINE,E
391,7586152,40306383,LINE,E
391,7645575,33201757,LINE,E
391,7586151,40306441,LINE,E
391,7586003,40307075,LINE,E
399,8396096,#017:1784,LINE,E






-- 
===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.

34? 6'16.35"S 18?28'5.62"E

Tel: +27-21-7884897? Mobile: +27-83-6004028
Fax: +27-86-6115323? ???www.geograph.co.za
===========================================



-----
No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1170 / Virus Database: 426/3275 - Release Date: 11/23/10

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101124/1a1dd787/attachment.html
From emmanuel.sambale at gmail.com  Thu Nov 25 03:57:56 2010
From: emmanuel.sambale at gmail.com (maning sambale)
Date: Thu Nov 25 03:58:20 2010
Subject: [gdal-dev] Re: loading kc50 palsar datasets in GRASS
In-Reply-To: <AANLkTikE-GLVyV3CAcd-mR9Qfaju4hKTKCse6=+tX8mG@mail.gmail.com>
References: <AANLkTikmosfVZDgAyXLryaYBTX-HBbZ=E9VegH0myGB6@mail.gmail.com>
	<AANLkTikE-GLVyV3CAcd-mR9Qfaju4hKTKCse6=+tX8mG@mail.gmail.com>
Message-ID: <AANLkTi=5sjCGSTBVhn-EA8GNx+4dGtxdHnRhD_hZ6=2K@mail.gmail.com>

Follow-up on the, from the website:
*2. HH and HV polarization data are kept in BSQ format. Color
composition of the image data is R=HH, G=HV, B=HH/HV and enhanced.

In gdal docs reference to bsq is in the envi format:
http://www.gdal.org/frmt_various.html#ENVI

On Wed, Nov 24, 2010 at 6:21 PM, maning sambale
<emmanuel.sambale@gmail.com> wrote:
> Anyone successfully loaded kc50 palsar raw imagery with gdal?
>
>
> ---------- Forwarded message ----------
> From: maning sambale <emmanuel.sambale@gmail.com>
> Date: Tue, Nov 23, 2010 at 4:00 PM
> Subject: loading kc50 palsar datasets in GRASS
> To: grass-users@lists.osgeo.org
>
>
> This site provides PALSAR 50m Orthorectified Mosaic Product.
> http://www.eorc.jaxa.jp/ALOS/en/kc_mosaic/kc_mosaic.htm
>
> I tried running gdalinfo to the directory, img and header files, but
> gdal doesn't recognize the format. ?There is pdf (below the webpage)
> but I can't find any reference to the file formats that is supported
> by GDAL and GRASS. ?Has anyone used this dataset in GRASS?
>
> PS. ?This is the only dataset without clouds I can find for my study
> area (for obvious reasons :)).
> --
> cheers,
> maning
> ------------------------------------------------------
> "Freedom is still the most radical idea of all" -N.Branden
> wiki: http://esambale.wikispaces.com/
> blog: http://epsg4253.wordpress.com/
> ------------------------------------------------------
>
>
>
> --
> cheers,
> maning
> ------------------------------------------------------
> "Freedom is still the most radical idea of all" -N.Branden
> wiki: http://esambale.wikispaces.com/
> blog: http://epsg4253.wordpress.com/
> ------------------------------------------------------
>



-- 
cheers,
maning
------------------------------------------------------
"Freedom is still the most radical idea of all" -N.Branden
wiki: http://esambale.wikispaces.com/
blog: http://epsg4253.wordpress.com/
------------------------------------------------------
From joseph4774 at hotmail.com  Thu Nov 25 09:14:24 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Thu Nov 25 09:14:25 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <4CED7582.7040302@pobox.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
	<4CED7582.7040302@pobox.com>
Message-ID: <1290694464267-5774457.post@n2.nabble.com>


Hi again
Finally I managed to compile ecw dll as part of gdal. This means I do not
need to declare a system variable to tell where ecw gdal plugin is located.
I ran gdalinfo - format:
 Bingo found
Supported Formats:
  ECW (ro): ERMapper Compressed Wavelet
  JP2ECW (ro): ERMapper JPEG2000
But when I try to run gdal17.dll with MapServer, I get this error message:
load output format ():
General error message. OUTPUT FORMAT clause references driver GDAL / ECW,
men this driver isn't Configured.; msInitGDALOutputFormat ():
General error message. GDAL `ECW` driver ikke support output.

I get this error message only when I include. Ecw file in mapFile. This
means that solution with the new gdal thrived without ecw.
So question is am I missing some configurations for MapServer or what?
I will attach this time the new gdal17.dll, gdalinfo.exe and MapServer. So
maybe can someone tell me what's going on?
the rest Iam using mapscript_csharp.dll.

thanks
http://osgeo-org.1803224.n2.nabble.com/file/n5774457/gdal17.zip gdal17.zip 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5774457.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101125/110fb3cb/attachment.html
From warmerdam at pobox.com  Thu Nov 25 10:48:02 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Nov 25 10:48:08 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <1290694464267-5774457.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
	<4CED7582.7040302@pobox.com> <1290694464267-5774457.post@n2.nabble.com>
Message-ID: <4CEE8532.2010307@pobox.com>

GeoJoda wrote:
> Hi again Finally I managed to compile ecw dll as part of gdal. This 
> means I do not need to declare a system variable to tell where ecw gdal 
> plugin is located. I ran gdalinfo - format: Bingo found *Supported 
> Formats: ECW (ro): ERMapper Compressed Wavelet JP2ECW (ro): ERMapper 
> JPEG2000* But when I try to run gdal17.dll with MapServer, I get this 
> error message: *load output format (): General error message. OUTPUT 
> FORMAT clause references driver GDAL / ECW, men this driver isn't 
> Configured.; msInitGDALOutputFormat (): General error message. GDAL 
> `ECW` driver ikke support output.* I get this error message only when I 
> include. Ecw file in mapFile. This means that solution with the new gdal 
> thrived without ecw. So question is am I missing some configurations for 
> MapServer or what? 

Hi,

I gather you are using the new ECW DSDK, right?  It only supports reading,
not writing.  Based on the use of an OUTPUTFORMAT declaration in mapserver,
I'm guessing you are trying to return ECW results from MapServer.  To do
that you need to make some sort of purchase of an encoder SDK from
Erdas.  Encoding - even small results - is apparently no longer free.

Don't blame me - those who hold the strings of copyright make the rules!

Ah, doesn't it make the taste of open source even sweeter when you
occationally bite into the sour taste of proprietary?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From szekerest at gmail.com  Thu Nov 25 11:40:34 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Nov 25 11:40:37 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <1290694464267-5774457.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
	<4CED7582.7040302@pobox.com>
	<1290694464267-5774457.post@n2.nabble.com>
Message-ID: <AANLkTinNtZGQB59A8LQfB11q3yFxxt2o_0-FXLD+pz-X@mail.gmail.com>

BTW: Do you have any compelling reason to use ECW 4.1 instead of an older
version, like the 3.3 povided for example at:
http://vbkto.dyndns.org/sdk/These packages also contain the required
C# bindigs for gdal and mapserver.
You can download the -dev packages so as to compile your own versions of
gdal and mapserver if you need to so do.

You may also set the GDAL_DRIVER_PATH programmatically by using the
Gdal.SetConfigOption method.


Best regards,

Tamas



2010/11/25 GeoJoda <joseph4774@hotmail.com>

> Hi again Finally I managed to compile ecw dll as part of gdal. This means I
> do not need to declare a system variable to tell where ecw gdal plugin is
> located. I ran gdalinfo - format: Bingo found *Supported Formats: ECW
> (ro): ERMapper Compressed Wavelet JP2ECW (ro): ERMapper JPEG2000* But when
> I try to run gdal17.dll with MapServer, I get this error message: *load
> output format (): General error message. OUTPUT FORMAT clause references
> driver GDAL / ECW, men this driver isn't Configured.; msInitGDALOutputFormat
> (): General error message. GDAL `ECW` driver ikke support output.* I get
> this error message only when I include. Ecw file in mapFile. This means that
> solution with the new gdal thrived without ecw. So question is am I missing
> some configurations for MapServer or what? I will attach this time the new
> gdal17.dll, gdalinfo.exe and MapServer. So maybe can someone tell me what's
> going on? the rest Iam using mapscript_csharp.dll. thanks gdal17.zip<http://osgeo-org.1803224.n2.nabble.com/file/n5774457/gdal17.zip>
> ------------------------------
> View this message in context: Re: how can I compile GDAL 1.7.3 with ecw
> 4.1 in Virsual Studio 2010<http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5774457.html>
>
> Sent from the GDAL - Dev mailing list archive<http://osgeo-org.1803224.n2.nabble.com/GDAL-Dev-f2022644.html>at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101125/906b998b/attachment.html
From luzhenyu1981 at gmail.com  Thu Nov 25 14:48:56 2010
From: luzhenyu1981 at gmail.com (Zhenyu Lu)
Date: Thu Nov 25 14:48:58 2010
Subject: [gdal-dev] Anyone know the extension for ESRI ArcGIS raster data?
Message-ID: <AANLkTimVtSEKEWbbDYu9dO+m4eCTLC8LWR7FSnBOXTC2@mail.gmail.com>

Hi,

I was wondering what is the extension for ArcGIS raster data. For example
when I access the Erdas raster data, I used the extension of .img. What
extension can I use for accessing ESRI ArcGIS raster data?
Thanks and have a great Turkey break.
-- 
Zhenyu Lu
SUNY-ESF
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101125/40da3d4a/attachment.html
From namrata.r.sorte at gmail.com  Fri Nov 26 00:58:47 2010
From: namrata.r.sorte at gmail.com (Namrata Sorte)
Date: Fri Nov 26 00:58:49 2010
Subject: [gdal-dev] 'Help" - allow my post.
Message-ID: <AANLkTimh0Np+VEwLnTS3Egt6Cbi89dpqSDRvZYAa+yjz@mail.gmail.com>

 Hi,

Please accept my post as it shows :

 "*Pending Alert*: This post has NOT been accepted by the mailing list yet.
"

http://osgeo-org.1803224.n2.nabble.com/Error-building-GDAL-with-GEOS-on-Solaris-tt5774395.html#none

Kindly allow me to post as I have subscribed to this mailing list.

Thanks,
Namrata
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101126/c2fdff13/attachment.html
From namrata.r.sorte at gmail.com  Fri Nov 26 01:19:20 2010
From: namrata.r.sorte at gmail.com (Namrata Sorte)
Date: Fri Nov 26 01:19:23 2010
Subject: [gdal-dev] Error building GDAL with GEOS on Solaris
Message-ID: <AANLkTinbFpf5XkcSyT0CLD+pncubDE8--vHUK=XFWAgJ@mail.gmail.com>

Hi,

I am facing problem in installing GDAL with GEOS on Solaris. Below are the
steps follwed:
1) Installed GEOS 3.0.0 - successfully installed
2) Configure GDAL with following options:
 ./configure  --prefix=/usr/local \
            --with-threads \
            --with-ogr \
            --with-geos=yes \
            --without-libtool \
            --with-libz=internal \
            --with-libtiff=internal \
            --with-geotiff=internal \
            --without-gif \
            --without-pg \
            --without-grass \
            --without-libgrass \
            --without-cfitsio \
            --without-pcraster \
            --without-netcdf \
            --without-png \
            --without-jpeg \
            --without-gif \
            --without-ogdi \
            --without-fme \
            --without-hdf4 \
            --without-hdf5 \
            --without-jasper \
            --without-ecw \
            --without-kakadu \
            --without-mrsid \
            --without-jp2mrsid \
            --without-bsb \
            --without-grib \
            --without-mysql \
            --without-ingres \
            --without-xerces \
            --without-expat \
            --without-odbc \
            --without-curl \
            --without-sqlite3 \
            --without-dwgdirect \
            --without-panorama \
            --without-idb \
            --without-sde \
            --without-perl \
            --without-php \
            --without-ruby \
            --without-python \
            --without-ogpython \
            --with-hide-internal-symbols
3)make
make[1]: Entering directory `/pool1/innovations/gdal-1.7.1/port'
g++ -g -O2 -fPIC  -Wall  -DOGR_ENABLED -I/pool1/innovations/gdal-1.7.1/port
     -I../frmts/zlib  -DHAVE_LIBZ -c -o cpl_conv.o cpl_conv.cpp
g++ -g -O2 -fPIC  -Wall  -DOGR_ENABLED -I/pool1/innovations/gdal-1.7.1/port
     -I../frmts/zlib  -DHAVE_LIBZ -c -o cpl_error.o cpl_error.cpp
g++ -g -O2 -fPIC  -Wall  -DOGR_ENABLED -I/pool1/innovations/gdal-1.7.1/port
     -I../frmts/zlib  -DHAVE_LIBZ -c -o cpl_string.o cpl_string.cpp
........ . . . . .
. .

jpeg_set_defaults                   /pool1/innovations/gdal-1.7.1/libgdal.so

jpeg_CreateCompress                 /pool1/innovations/gdal-1.7.1/libgdal.so

jpeg_read_scanlines                 /pool1/innovations/gdal-1.7.1/libgdal.so

jpeg_start_compress                 /pool1/innovations/gdal-1.7.1/libgdal.so

ld: fatal: Symbol referencing errors. No output written to gdalinfo
collect2: ld returned 1 exit status
make[1]: *** [gdalinfo] Error 1
make[1]: Leaving directory `/pool1/innovations/gdal-1.7.1/apps'
make: *** [apps-target] Error 2

I get error here and am not able to trace the problem! Actually I had
installed GDAL before but without GEOS. Now when installed GEOS I had to
reconfigure GDAL with GEOS enabled but it is giving error.

Please help me with this installation.

Thanks,
Namrata
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101126/4b896fbd/attachment.html
From ramprasad85 at gmail.com  Fri Nov 26 01:21:31 2010
From: ramprasad85 at gmail.com (Ram prasad)
Date: Fri Nov 26 01:21:54 2010
Subject: [gdal-dev] How to distribute my driver
Message-ID: <AANLkTiktMSjOEbEhdRQJ_T8Q1YtQBx1HJKXHERR=ScOO@mail.gmail.com>

Distributing as gdal_something.dll does not seem to be the best way
due to the fact that we will have to distribute dlls for each version
of gdal. Please correct if I am wrong.
If it is possible for the client to compile code, then I think we can
distribute the dataset.cpp and its dependency files, so that he can
generate the driver dll for whatever version of gdal he is using.

What is the best way to distribute a gdal_driver?
From joseph4774 at hotmail.com  Fri Nov 26 05:52:32 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Fri Nov 26 05:52:34 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <4CEE8532.2010307@pobox.com>
References: <1290503935713-5765934.post@n2.nabble.com>
	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>
	<1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
	<4CED7582.7040302@pobox.com>
	<1290694464267-5774457.post@n2.nabble.com>
	<4CEE8532.2010307@pobox.com>
Message-ID: <1290768752118-5776779.post@n2.nabble.com>


Hello again
I want to use ecw with MapServer perfectly straight as before. That is only
to read ECW files and display them as images. 
My simple test mapFile syntax is:

MAP
  NAME "ORTOFOTO"
  STATUS on
  SIZE 512 512
  EXTENT 692845 6170118 693140 6170292
  UNITS meters
  SHAPEPATH "c:/proj/roskilde/orto"
  FONTSET "c:/proj/roskilde/div/font.txt"
  CONFIG "PROJ_LIB" "C:/proj/nad/"

OUTPUTFORMAT
  NAME jpeg
  DRIVER "GD/JPEG"
  MIMETYPE "image/jpeg"
  IMAGEMODE RGB
  EXTENSION "jpg"
END
OUTPUTFORMAT
  NAME ECW
  DRIVER "GDAL/ECW"
  MIMETYPE "image/ecw"
  IMAGEMODE "BYTE"
  EXTENSION "ecw"
END

PROJECTION
  "init=epsg:25832"
END

LAYER
  GROUP ORTOPHOTO
  NAME Ortofoto
  STATUS ON
  TYPE RASTER
  UNITS Meters 
  DUMP TRUE
  DATA "c:/proj/roskilde/orto/Roskilde_2007_2.ecw"
  METADATA
    "themename" "Ortofoto"
    WMS_SRS "EPSG:25832"
  END
END
END #END map

This mapfile worked fine with gdal16 and MapServer 5.2
I have downloaded the release-1500-gdal-1-7-5-MapServer 6.zip povided at:
http://vbkto.dyndns.org/sdk/  which you have recommended and have ecw as
plugins. But it works is still lacking. 
My suspect is now directed against MapServer 5.6.5 because I can see that
ecw format is supported in gdal17 but I get the same error again and again.
My next question would be: how can I test gdal17 alone. This means that I
will put mapFile as input to gdal and as output I get an image. Is it
possible? 
If gdal can generate an image so I know the issue is with MapServer 5.6.5
and not gdal.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5776779.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jrepetto at free.fr  Fri Nov 26 06:17:52 2010
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Nov 26 06:17:58 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <1290768752118-5776779.post@n2.nabble.com>
References: <1290503935713-5765934.post@n2.nabble.com>	<AANLkTikRK5P0DXws5xC6e5NuxL4HS=oMA2bFT=9qLCnV@mail.gmail.com>	<1290519044770-5766611.post@n2.nabble.com>	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>	<1290610094435-5770586.post@n2.nabble.com>	<1290625670283-5771670.post@n2.nabble.com>	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>	<4CED7582.7040302@pobox.com>	<1290694464267-5774457.post@n2.nabble.com>	<4CEE8532.2010307@pobox.com>
	<1290768752118-5776779.post@n2.nabble.com>
Message-ID: <4CEF9760.5040601@free.fr>

Le 26/11/2010 11:52, GeoJoda a ?crit :

> My next question would be: how can I test gdal17 alone. This means that I
> will put mapFile as input to gdal and as output I get an image. Is it
> possible?

Hello,

You can try to convert the ECW image to another format, for example JPEG :
gdal_translate -of JPEG Roskilde_2007_2.ecw Roskilde_2007_2.jpg

Jean-Claude
From joseph4774 at hotmail.com  Fri Nov 26 08:10:59 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Fri Nov 26 08:11:01 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <4CEF9760.5040601@free.fr>
References: <1290519044770-5766611.post@n2.nabble.com>
	<AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
	<4CED7582.7040302@pobox.com>
	<1290694464267-5774457.post@n2.nabble.com>
	<4CEE8532.2010307@pobox.com>
	<1290768752118-5776779.post@n2.nabble.com>
	<4CEF9760.5040601@free.fr>
Message-ID: <1290777059301-5777198.post@n2.nabble.com>


hi Jean and everone

Many thanks for the reply. I could quickly test gdal17.dll with
gdaltranslate and could convert ecw. file to jpeg foramt file.
Does that mean gdal17.dll is ok and it's MapServer5.6.5 is wrong here? or
how can I test MapServer5.6.5 connection to gdal?

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5777198.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From srikanth1947 at gmail.com  Fri Nov 26 08:37:22 2010
From: srikanth1947 at gmail.com (Srikanth)
Date: Fri Nov 26 08:37:47 2010
Subject: [gdal-dev] Xerces 3.0.1 and Gdal 1.7
Message-ID: <AANLkTi=d5+kOB5wKH1kTAy=dyd1JEFukb34nwBtZc3dd@mail.gmail.com>

Hi Everyone,

Its been a long time ,i have interacted. off late i have tried building gdal
with the xerces support to read/write gml.

I have done using several options as mentioned in
http://trac.osgeo.org/gdal/ticket/1988 but none has helped. Everytime parser
headers have been found but it has failed to detect libraries.

My folder structure for xerces is /local
                                                    bin
                                                    include ( xercesc folder
with standard structure)
                                                    lib. and within lib i
have libxerces-c.a , libxerces-c.dll.a , libxerces-c.la.

I am using msys with mingw 3.2 and gcc 4.4 for compilation.

Do I need to change the configure file of gdal or follow different process ?


And I have read document drv_gml.html in /ogr_formats/gml. It is speaking
about gml's support with xerces but was not clear with expat. Is GML reading
and writing supported through Expat also ?

Any advice would be of great help. Thank you.

Regards,
Srikanth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101126/4bf62c39/attachment-0001.html
From warmerdam at pobox.com  Fri Nov 26 11:59:53 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Nov 26 11:59:57 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
Message-ID: <4CEFE789.6060207@pobox.com>

Folks,

In the interest of moving towards a GDAL/OGR 1.8 release I have done some
work on RFC 31 - 64bit integers for OGR fields and FIDs.  I've updated the
RFC itself somewhat, and done a preliminary implementation of the RFC on
my own system with a reasonable level of success.

I'm asking for additional comment on the RFC at:

   http://trac.osgeo.org/gdal/wiki/rfc31_ogr_64

The implications and complications of this update are greater than I had
first anticipated and even with what I've done so far I'm sure lots of
additional glitches will come out of the wood work.  Unfortunately, this
is not funded work for me so it is hard to apply the level of effort that
I would like to it.  In short, I'm a bit nervous about implementing this
RFC though now that I've sunk 2-3 days into the prototype work I'm hesitant
to throw it away either. :-)

Thoughts welcome.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From geographika at gmail.com  Sat Nov 27 06:17:41 2010
From: geographika at gmail.com (geographika)
Date: Sat Nov 27 06:18:04 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <4CEFE789.6060207@pobox.com>
References: <4CEFE789.6060207@pobox.com>
Message-ID: <4CF0E8D5.7010603@gmail.com>

Hi,

As I understand it the only reason to use 64bit integers for IDs would 
be for tables with more than 2 billion records (in the positive range).
There is a related question on StackOverflow about this 
http://stackoverflow.com/questions/2124631/sql-server-int-or-bigint-database-table-ids
Are there really feature classes with this many records in existence?
Regards,

Seth


On 26/11/2010 17:59, Frank Warmerdam wrote:
> Folks,
>
> In the interest of moving towards a GDAL/OGR 1.8 release I have done some
> work on RFC 31 - 64bit integers for OGR fields and FIDs.  I've updated 
> the
> RFC itself somewhat, and done a preliminary implementation of the RFC on
> my own system with a reasonable level of success.
>
> I'm asking for additional comment on the RFC at:
>
>   http://trac.osgeo.org/gdal/wiki/rfc31_ogr_64
>
> The implications and complications of this update are greater than I had
> first anticipated and even with what I've done so far I'm sure lots of
> additional glitches will come out of the wood work.  Unfortunately, this
> is not funded work for me so it is hard to apply the level of effort that
> I would like to it.  In short, I'm a bit nervous about implementing this
> RFC though now that I've sunk 2-3 days into the prototype work I'm 
> hesitant
> to throw it away either. :-)
>
> Thoughts welcome.
>
> Best regards,

From warmerdam at pobox.com  Sat Nov 27 08:22:21 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Nov 27 08:22:26 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <4CF0E8D5.7010603@gmail.com>
References: <4CEFE789.6060207@pobox.com> <4CF0E8D5.7010603@gmail.com>
Message-ID: <4CF1060D.7000304@pobox.com>

geographika wrote:
> Hi,
> 
> As I understand it the only reason to use 64bit integers for IDs would 
> be for tables with more than 2 billion records (in the positive range).
> There is a related question on StackOverflow about this 
> http://stackoverflow.com/questions/2124631/sql-server-int-or-bigint-database-table-ids 
> 
> Are there really feature classes with this many records in existence?
> Regards,

Seth,

In many cases with an RDBMS the FID is the primary key and there are
a variety of reasons these might not be sequential starting from zero.

The issue initially came up in Barcelona with someone from OSM who I
believe was concerned about when the OSM object ids were going to be
larger than two billion.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Sat Nov 27 08:25:50 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Sat Nov 27 08:25:52 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gUkZDIDMxIC0gT0dSIDY0Yml0IFN1cHBvcnQ=?=
Message-ID: <20101127132550.6880.qmail@s466.sureserver.com>




>??-------Original Message-------
>??From: geographika <geographika@gmail.com>
>??To: gdal-dev@lists.osgeo.org
>??Subject: Re: [gdal-dev] RFC 31 - OGR 64bit Support
>??Sent: Nov 27 '10 06:17
>??
>??Hi,
>??
>??As I understand it the only reason to use 64bit integers for IDs would
>??be for tables with more than 2 billion records (in the positive range).
>??There is a related question on StackOverflow about this
>??http://stackoverflow.com/questions/2124631/sql-server-int-or-bigint-database-table-ids
>??Are there really feature classes with this many records in existence?

Not a very long time ago some people thought that two numbers was enough to store dates and we got in trouble for that. For example, automatic sensors capture much more data then we need before we can filter it. Another point is that users could very well decide to use codes on IDs rather than just sequential values. It is better be prepared than sorry. But I understand you point.

Best regards,
>??Regards,
>??
>??Seth
>??
>??
>??On 26/11/2010 17:59, Frank Warmerdam wrote:
>??> Folks,
>??>
>??> In the interest of moving towards a GDAL/OGR 1.8 release I have done some
>??> work on RFC 31 - 64bit integers for OGR fields and FIDs.??I've updated
>??> the
>??> RFC itself somewhat, and done a preliminary implementation of the RFC on
>??> my own system with a reasonable level of success.
>??>
>??> I'm asking for additional comment on the RFC at:
>??>
>??>?? http://trac.osgeo.org/gdal/wiki/rfc31_ogr_64
>??>
>??> The implications and complications of this update are greater than I had
>??> first anticipated and even with what I've done so far I'm sure lots of
>??> additional glitches will come out of the wood work.??Unfortunately, this
>??> is not funded work for me so it is hard to apply the level of effort that
>??> I would like to it.??In short, I'm a bit nervous about implementing this
>??> RFC though now that I've sunk 2-3 days into the prototype work I'm
>??> hesitant
>??> to throw it away either. :-)
>??>
>??> Thoughts welcome.
>??>
>??> Best regards,
>??
>??_______________________________________________
>??gdal-dev mailing list
>??gdal-dev@lists.osgeo.org
>??http://lists.osgeo.org/mailman/listinfo/gdal-dev
>??
From zoltans at geograph.co.za  Sun Nov 28 02:39:08 2010
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Sun Nov 28 02:39:18 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <4CF0E8D5.7010603@gmail.com>
References: <4CEFE789.6060207@pobox.com> <4CF0E8D5.7010603@gmail.com>
Message-ID: <4CF2071C.3080100@geograph.co.za>

On 2010-11-27 13:17, geographika wrote:
> Hi,
>
> As I understand it the only reason to use 64bit integers for IDs would 
> be for tables with more than 2 billion records (in the positive range).
> There is a related question on StackOverflow about this 
> http://stackoverflow.com/questions/2124631/sql-server-int-or-bigint-database-table-ids 
>
> Are there really feature classes with this many records in existence?
Feature class:  Lidar Point  :-)

(Actually, I'm just agreeing with a previous post:   "Not a very long 
time ago some people thought that two numbers was enough to 
store...[anything]"

Z

-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.

34? 6'16.35"S 18?28'5.62"E

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================



-----
No virus found in this message.
Checked by AVG - www.avg.com
Version: 10.0.1170 / Virus Database: 426/3284 - Release Date: 11/27/10

From even.rouault at mines-paris.org  Sun Nov 28 09:38:35 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Nov 28 09:38:59 2010
Subject: [gdal-dev] Re: GeoPDF - incorrect neatline values computed for OGC
	PDF
In-Reply-To: <162636.70059.qm@web32903.mail.mud.yahoo.com>
References: <162636.70059.qm@web32903.mail.mud.yahoo.com>
Message-ID: <201011281538.35517.even.rouault@mines-paris.org>

Robert,

I'm not sure to understand what you think is wrong. On the link you've 
provided, I've compared the neatline coordinates reported by the GDAL PDF 
driver and the ones reported by the TerraGo toolbar. They match with a quite 
good precision. So you have to be more specific of what you think is wrong 
(what are the bad figures ? what are the expected figures).

As far as explaining how the code works, well, this is always a bit difficult 
and especially since the line number you mention don't match with my version, 
as driver has changed a bit since you've checked it in.

Basically, the GDAL geotransform is derived from the CTM object with a 
rescaling of the scaling terms of the geotransform according to the specified 
DPI. The corner coordinates reported by GDAL are the corners of the whole 
rasterized image (including the white area) and are not at all computed from 
the neatline definition (which in this example is the black rectangle).

The neatline is computed by transforming from PDF point coordinates to 
projected coordinates by using the computed geotransform and the DPI. The 
poDS->nRasterYSize - poRing->getY(i) * dfPixelPerPt trick is due to a 
difference of Y origin between GDAL and PDF conventions (or even within PDF, as 
they are multiple coordinate referentials). I don't recall the details but it 
was necessary and I was satisfied with the result after a few cycles of write-
code-and-test-it :-)

Le mercredi 17 novembre 2010 03:25:48, Robert Zermeno a ?crit :
> Even and GDAL community,
>  
> I hope you can enlighten me on the issue of computing neatline values.  The
> solution presented in GDAL to compute the neatline values is not fully
> correct (file: pdfdataset.cpp lines 743-749) 
> specifically:
>                 double X = poDS->adfGeoTransform[0] + x *
> poDS->adfGeoTransform[1] + y * poDS->adfGeoTransform[2]; double Y =
> poDS->adfGeoTransform[3] + x * poDS->adfGeoTransform[4] + y *
> poDS->adfGeoTransform[5]; 
> but to understand the two lines of code above, you need to understand what
> was done before. 
> The case where it is correct is when:
>  
> 1.  - PDF is  OGC Standard
>      - Neatline values are the corner points of the image.
>  
> The case when GDAL does not compute correct Neatline values is when:
>  
> 2. -PDF is OGC Standard
>     - Neatline values are not the corner points of the image.
>  
> Let me elaborate on the case when it does not compute neatline values
> correctly.  An example file is taken from:
> http://giigt.tec.army.mil/GeoPDFgallery/AU_NZ_Re-seller/Env_Sample_geo.pdf
> 
> here is GDAL's output:
> NOTE: I have modified GDAL code to make default DPI to be 110.
>      
> C:\apps>gdalinfo.exe c:\Env_Sample_geo.pdf
> PDF: OGC Encoding Best Practice style detected
> PDF: LGIDict Version : 2.1
> PDF: This is a the largest neatline for now
> PDF: CTM[0] = 1.4111110661
> PDF: CTM[1] = 0
> PDF: CTM[2] = 0
> PDF: CTM[3] = 1.4111110661
> PDF: CTM[4] = 725048.2016161948
> PDF: CTM[5] = 7671532.018003316
> PDF: Datum = HEN
> PDF: Projection.ProjectionType = TC
> GDAL: GDALOpen(c:\Env_Sample_geo.pdf, this=026BE308) succeeds as PDF.
> Driver: PDF/Geospatial PDF
> GDAL: GDALDefaultOverviews::OverviewScan()
> Files: c:\Env_Sample_geo.pdf
> Size is 1285, 909
> Coordinate System is:
> PROJCS["UTM Zone 55, Southern Hemisphere",
>     GEOGCS["unknown",
>         DATUM["unknown",
>             SPHEROID["International 1924",6378388,297],
>             TOWGS84[-333,-222,114,0,0,0,0]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",0],
>     PARAMETER["central_meridian",147],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",10000000],
>     UNIT["Meter",1]]
> Origin = (725048.201616194800000,7672372.337465400800000)
> Pixel Size = (0.923636334174545,-0.923636334174545)
> GeoTransform =
>  725048.20161619480,  0.92363633417454549,  0.00000000000000000
>  7672372.3374654008,  -0.0000000000000000, -0.92363633417454549
> Metadata:
>   NEATLINE=POLYGON ((725124.91858881968
> 7671671.0094531905,725124.91858881968 76
> 72311.3218032392,726165.27821117197 7672311.3218032392,726165.27821117197
> 767167 1.0094531905,725124.91858881968 7671671.0094531905))
> OGRCT: Source: +proj=utm +zone=55 +south +ellps=intl
> +towgs84=-333,-222,114,0,0, 0,0 +units=m +no_defs
> OGRCT: Target: +proj=longlat +ellps=intl +towgs84=-333,-222,114,0,0,0,0
> +no_defs Corner Coordinates:
> Upper Left  (  725048.202, 7672372.337) (149d 9'55.60"E, 21d 2' 7.62"S)
> Lower Left  (  725048.202, 7671532.752) (149d 9'55.99"E, 21d 2'34.91"S)
> Upper Right (  726235.074, 7672372.337) (149d10'36.69"E, 21d 2' 7.10"S)
> Lower Right (  726235.074, 7671532.752) (149d10'37.09"E, 21d 2'34.39"S)
> Center      (  725641.638, 7671952.545) (149d10'16.34"E, 21d 2'21.00"S)
> Band 1 Block=1285x1 Type=Byte, ColorInterp=Red
> Band 2 Block=1285x1 Type=Byte, ColorInterp=Green
> Band 3 Block=1285x1 Type=Byte, ColorInterp=Blue
> GDAL: GDALClose(c:\Env_Sample_geo.pdf, this=026BE308)
> GDAL: GDALDeregister_GTiff() called.
>  
> The Corner points reported should be accurate.  I have an unclassified file
> which the neatline is the height and width of the image, so the corner
> points are the neatlines.  In that case, all points are correct.
> The issues is when you have a defined neatline within the PDF that is
> smaller than the image we are looking at (i.e. Neatline != MediaBox)
> FOr this file, the top-left corner of the neatline is very accurate, but
> the top-right, bottom-right are way off.
> 
> Can you describe to me how you computed the Neatline values (X,Y).  I
> understand that the CTM is the PDF page coordinate space transformation to
> projected coordinate system (This file is UTM (Northing/Easting). Then you
> will use that information to compute the Transformation matrix of
> projection coordinates onto the image space.
> 
> Once you have found the GeoTransform you use that information with the
> NeatLine values registered in the PDF to translate the PDF page coordinate
> to projected coordinates (this case, Northing/Easting).
> 
> The problem I found, is the neatline values are all not accurate.  The
> values presented do not provided an acceptable bounding region that
> defines the coordinate space.
> Can you please provide input to help me figure out why this is not working
> accurately?  Specifically, it would be nice if you can explain how, and
> why, you obtained the computations of the GeoTransform (Look at file
> pdfdataset.cpp lines 682-689) and Neatline values (Look at file
> pdfdataset.cpp lines 712-718)
> 
> It would be nice if you can take the time to help me resolve this.
> 
> Summary:
> 1.  From above, please explain your logic to compute the neatline,
> geotransform 2. when computing:
>     double y = poDS->nRasterYSize - poRing->getY(i) * dfPixelPerPt;  
>     Line 713 in pdfdataset.cpp  why are you doing that?
> 
> I have tried to explain in a simple manner.  However, I know I did not do
> the best job because I am still trying to wrap my brain around how
> transforming from PDF page --> projected coords (UTM) by using the CTM to
> create the GeoTransform (projected Coords affine transformation) and then
> use it to compute the proper UTM coordinate for a given neatline point
> provided in the PDF. 
> Robert
From even.rouault at mines-paris.org  Sun Nov 28 11:23:12 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Nov 28 11:23:21 2010
Subject: [gdal-dev] Delete a sqlite database
In-Reply-To: <4CEA3742.8040708@u-bourgogne.fr>
References: <4CEA3742.8040708@u-bourgogne.fr>
Message-ID: <201011281723.12366.even.rouault@mines-paris.org>

Le lundi 22 novembre 2010 10:26:26, Ludovic Granjon a ?crit :
> Hi all
> I try in a python script to delete a sqlite database that I use in an
> OGR ExecuteSQL.
> Let me give you an example :
> 
> If I do :
>  >>> from osgeo import *
>  >>> import os
>  >>> datasource = ogr.Open("decoupe.shp")
>  >>> layer = datasource.GetLayer()
>  >>> joinLayer=datasource.ExecuteSQL("SELECT decoupe.FID as ligne_id,
> 
> c.lFid as ligne_id2, c.count as count FROM decoupe LEFT JOIN
> 'project.sqlite'.comptage c ON decoupe.FID=c.lFid")
> 

You probably need a datasource.ReleaseResultSet(joinLayer) at that point

>  >>> datasource.Destroy()
> 
> It seems that there still a connection to my sqlite database and I can't
> delete it.
> 
> When I try on MS Windows (There's no error on linux) :
>  >>> os.remove('project.sqlite')
> 
> I have :
> Traceback (most recent call last):
> File "<pyshell#5>", line 1, in <module>
> os.remove('project.sqlite')
> WindowsError: [Error 13] Le processus ne peut pas acc?der au fichier car
> ce fichier est utilis? par un autre processus: 'project.sqlite'
> 
> 
> Do you know a way to do that ?
> 
> Thanks
> 
> Best regards
> 
> Ludovic
From marvin.offiah at googlemail.com  Sun Nov 28 11:58:53 2010
From: marvin.offiah at googlemail.com (MarvinCO)
Date: Sun Nov 28 11:58:55 2010
Subject: [gdal-dev] Re: UnsatisfiedLinkError with gdal14
In-Reply-To: <1290469167723-5764860.post@n2.nabble.com>
References: <1290290255166-5759026.post@n2.nabble.com>
	<AANLkTikarpkQvoNiOTsnHPr-G2fMPxQJSt57GTTQ6yc=@mail.gmail.com>
	<1290342378603-5760042.post@n2.nabble.com>
	<AANLkTino_eu=CSN950dL5pxkGnkgvHOhp4F9fwo7kmyv@mail.gmail.com>
	<1290449725153-5763694.post@n2.nabble.com>
	<AANLkTimoS8VsyB=aokr86vbpODwYNJkzjtxaXOndrN5h@mail.gmail.com>
	<1290467804090-5764808.post@n2.nabble.com>
	<1290468042561-5764820.post@n2.nabble.com>
	<1290469167723-5764860.post@n2.nabble.com>
Message-ID: <1290963533879-5781993.post@n2.nabble.com>


Hey, any new ideas anyone? As I said, I have tried what you suggested, but
it's still not working.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/UnsatisfiedLinkError-with-gdal14-tp5759026p5781993.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Sun Nov 28 14:39:45 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Nov 28 14:39:54 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <4CEFE789.6060207@pobox.com>
References: <4CEFE789.6060207@pobox.com>
Message-ID: <201011282039.45713.even.rouault@mines-paris.org>

Frank,

If I agree we can upgrade the C++ API of OGRLayer::GetFeature() and 
DeleteFeature() to use GIntBig instead of long, I'm wondering whether the ABI 
backward incompatible change of OGR_L_GetFeature() and OGR_L_DeleteFeature() 
is something acceptable with respect to our (implicit) policy and past 
practices as far as the C ABI is concerned ? I don't remind of such a 
precedent in the 1.X series (at least since X >= 4). Couldn't this be "solved" 
by introducing OGR_L_GetFeature64() and OGR_L_SetFeature64() and let 
OGR_L_GetFeature() and OGR_L_SetFeature() do the cast from long to GIntBig ? I 
acknowledge this isn't pretty...

Or, if we don't want the OGR_L_GetFeature64/SetFeature64 symbols to be too 
apparent, we could also use a little trick like the following one :

* in ogr_api.h :

/* Do not use OGR_L_GetFeature64() directly. Use OGR_L_GetFeature instead */
/* OGR_L_GetFeature64() will be renamed OGR_L_GetFeature() in GDAL 2.0 */
OGRFeatureH CPL_DLL OGR_L_GetFeature64( OGRLayerH, GIntBig );
#define OGR_L_GetFeature OGR_L_GetFeature64

That way, application code recompiled against the GDAL 1.8.0 header will use 
the 64bit version implicitely.

* and in ogrlayer.cpp :

/* Hack to preserve GDAL < 1.8.0 ABI : to be removed for GDAL 2.0 */
#undef OGR_L_GetFeature
OGRFeatureH CPL_DLL OGR_L_GetFeature( OGRLayerH hLayer, long nFeatureId );
OGRFeatureH OGR_L_GetFeature( OGRLayerH hLayer, long nFeatureId )
{
	return (OGRFeatureH) ((OGRLayer *)hLayer)->GetFeature( 
(GIntBig)nFeatureId );
}

OGRFeatureH OGR_L_GetFeature64( OGRLayerH hLayer, GIntBig nFeatureId )
{
	return (OGRFeatureH) ((OGRLayer *)hLayer)->GetFeature( nFeatureId );
}

that way the old symbol and the new symbol are available...


Concerning the impact of introducing OFTInteger64 for existing applications, 
it is not obvious to predict it. From a quick "grep OFTInteger" in 2 popular 
applications :
* MapServer would need a minor update in mapogr.cpp. If code left as it is 
now, OFTInteger64 fields would be advertized as 'Character' fields in the GML 
schema instead of Integer with appropriate width (the only case OFTInteger in 
mapogr.cpp). Also, I'm not sure if the OGR field type is tested indirectly 
afterwards in the vector rendering/expression evaluation or if just a atof() 
is done on the field value. And in the new mapogroutput.c, according to the 
width of a item->type == "Integer", we could appropriately create a 
OFTInteger64. 
* The OGR provider in QGIS if unchanged would also present OFTInteger64 fields 
as QVariant::String fields as a default (but the values couldn't be 
edited/updated). I see that other QGIS providers use QVariant::LongLong, so 
OFTInteger64 could potentially be properly supported. Other places such as 
src/core/qgsvectorfilewriter.cpp currently turns QVariant::LongLong into 
OFTString when creating the OGR fields and could also be updated.

So if unchanged, it *looks* like those applications should still go on working 
(at least not crashing), but with perhaps a bit degraded functionnality w.r.t 
to the current situation (where the big integers are returned as double for 
shapefiles). For MapServer case, this is mitigated since OGR isn't actually 
used for access to shapefiles and postgis ...

Best regards,

Even

> Folks,
> 
> In the interest of moving towards a GDAL/OGR 1.8 release I have done some
> work on RFC 31 - 64bit integers for OGR fields and FIDs.  I've updated the
> RFC itself somewhat, and done a preliminary implementation of the RFC on
> my own system with a reasonable level of success.
> 
> I'm asking for additional comment on the RFC at:
> 
>    http://trac.osgeo.org/gdal/wiki/rfc31_ogr_64
> 
> The implications and complications of this update are greater than I had
> first anticipated and even with what I've done so far I'm sure lots of
> additional glitches will come out of the wood work.  Unfortunately, this
> is not funded work for me so it is hard to apply the level of effort that
> I would like to it.  In short, I'm a bit nervous about implementing this
> RFC though now that I've sunk 2-3 days into the prototype work I'm hesitant
> to throw it away either. :-)
> 
> Thoughts welcome.
> 
> Best regards,
From ole.nielsen at aifdr.org  Sun Nov 28 23:15:46 2010
From: ole.nielsen at aifdr.org (Ole Nielsen)
Date: Sun Nov 28 23:13:16 2010
Subject: [gdal-dev] GDAL contouring problem
Message-ID: <01744CEB055A2D46A1C0E02E68F90DCB02C240C07A73@Exchange.aifdr.org>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 16939 bytes
Desc: image001.jpg
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101129/995f1394/image001-0001.jpg
From warmerdam at pobox.com  Sun Nov 28 23:24:56 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Nov 28 23:25:04 2010
Subject: [gdal-dev] GDAL contouring problem
In-Reply-To: <01744CEB055A2D46A1C0E02E68F90DCB02C240C07A73@Exchange.aifdr.org>
References: <01744CEB055A2D46A1C0E02E68F90DCB02C240C07A73@Exchange.aifdr.org>
Message-ID: <4CF32B18.2030208@pobox.com>

Ole Nielsen wrote:
> I am posting this again without test files attached due the 50K size 
> limit. Anyone who wants to see them, please contact me directly.
> 
>  
> 
> --
> 
> We have observed interesting anomaly with gdal_contour when one of the 
> fixed levels is zero.
> 
> If the zero contour is expressed as 0.0 (or indeed 0.0000) gdal_contour 
> replies with the standard Usage message (see below). If the zero contour 
> is expressed as the integer 0 (or 0.00000001) it works and produces the 
> expected contours.

Ole,

The gdal_contour program has some rather hokey heuristics to try and
recognise the end of the list of contour levels.  The code looks like:

         else if( EQUAL(argv[i],"-fl") && i < argc-1 )
         {
             while( i < argc-1
                    && nFixedLevelCount
                              < (int)(sizeof(adfFixedLevels)/sizeof(double))
                    && (atof(argv[i+1]) != 0 || EQUAL(argv[i+1],"0"))
                    && !EQUAL(argv[i+1], "-3d"))
                 adfFixedLevels[nFixedLevelCount++] = atof(argv[++i]);
         }

So basically, it assumes everything is a "level" until something that
has a numeric value of 0 is encounter that isn't the specific string
"0".  So your analysis of the problem is essentially correct, but it is
more or less intentional as we try to support a list of levels with no
explicit "end of list" marker in the arguments to the command.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fmarkham at gmail.com  Mon Nov 29 00:48:56 2010
From: fmarkham at gmail.com (Francis Markham)
Date: Mon Nov 29 00:49:22 2010
Subject: [gdal-dev] GDAL contouring problem
In-Reply-To: <4CF32B18.2030208@pobox.com>
References: <01744CEB055A2D46A1C0E02E68F90DCB02C240C07A73@Exchange.aifdr.org>
	<4CF32B18.2030208@pobox.com>
Message-ID: <AANLkTi=xCXQx=Nx1hbnjqMb6WVr3VfL6AoQPQHeKx1nQ@mail.gmail.com>

Is there any reason not to include a heuristic that uses strtod() or
similar to test for the zeroness of the last argument?

-Francis Markham

On 29 November 2010 15:24, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ole Nielsen wrote:
>>
>> I am posting this again without test files attached due the 50K size
>> limit. Anyone who wants to see them, please contact me directly.
>>
>>
>> --
>>
>> We have observed interesting anomaly with gdal_contour when one of the
>> fixed levels is zero.
>>
>> If the zero contour is expressed as 0.0 (or indeed 0.0000) gdal_contour
>> replies with the standard Usage message (see below). If the zero contour is
>> expressed as the integer 0 (or 0.00000001) it works and produces the
>> expected contours.
>
> Ole,
>
> The gdal_contour program has some rather hokey heuristics to try and
> recognise the end of the list of contour levels. ?The code looks like:
>
> ? ? ? ?else if( EQUAL(argv[i],"-fl") && i < argc-1 )
> ? ? ? ?{
> ? ? ? ? ? ?while( i < argc-1
> ? ? ? ? ? ? ? ? ? && nFixedLevelCount
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? < (int)(sizeof(adfFixedLevels)/sizeof(double))
> ? ? ? ? ? ? ? ? ? && (atof(argv[i+1]) != 0 || EQUAL(argv[i+1],"0"))
> ? ? ? ? ? ? ? ? ? && !EQUAL(argv[i+1], "-3d"))
> ? ? ? ? ? ? ? ?adfFixedLevels[nFixedLevelCount++] = atof(argv[++i]);
> ? ? ? ?}
>
> So basically, it assumes everything is a "level" until something that
> has a numeric value of 0 is encounter that isn't the specific string
> "0". ?So your analysis of the problem is essentially correct, but it is
> more or less intentional as we try to support a list of levels with no
> explicit "end of list" marker in the arguments to the command.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ludovic.granjon at u-bourgogne.fr  Mon Nov 29 03:23:22 2010
From: ludovic.granjon at u-bourgogne.fr (Ludovic Granjon)
Date: Mon Nov 29 03:23:33 2010
Subject: [gdal-dev] Delete a sqlite database
In-Reply-To: <201011281723.12366.even.rouault@mines-paris.org>
References: <4CEA3742.8040708@u-bourgogne.fr>
	<201011281723.12366.even.rouault@mines-paris.org>
Message-ID: <4CF362FA.4060202@u-bourgogne.fr>

Hello Even
Yes you are right, it works perfectly
Thanks a lot

Ludovic

Le 28/11/2010 17:23, Even Rouault a ?crit :
> Le lundi 22 novembre 2010 10:26:26, Ludovic Granjon a ?crit :
>> Hi all
>> I try in a python script to delete a sqlite database that I use in an
>> OGR ExecuteSQL.
>> Let me give you an example :
>>
>> If I do :
>>   >>>  from osgeo import *
>>   >>>  import os
>>   >>>  datasource = ogr.Open("decoupe.shp")
>>   >>>  layer = datasource.GetLayer()
>>   >>>  joinLayer=datasource.ExecuteSQL("SELECT decoupe.FID as ligne_id,
>>
>> c.lFid as ligne_id2, c.count as count FROM decoupe LEFT JOIN
>> 'project.sqlite'.comptage c ON decoupe.FID=c.lFid")
>>
> You probably need a datasource.ReleaseResultSet(joinLayer) at that point
>
>>   >>>  datasource.Destroy()
>>
>> It seems that there still a connection to my sqlite database and I can't
>> delete it.
>>
>> When I try on MS Windows (There's no error on linux) :
>>   >>>  os.remove('project.sqlite')
>>
>> I have :
>> Traceback (most recent call last):
>> File "<pyshell#5>", line 1, in<module>
>> os.remove('project.sqlite')
>> WindowsError: [Error 13] Le processus ne peut pas acc?der au fichier car
>> ce fichier est utilis? par un autre processus: 'project.sqlite'
>>
>>
>> Do you know a way to do that ?
>>
>> Thanks
>>
>> Best regards
>>
>> Ludovic
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ludovic_granjon.vcf
Type: text/x-vcard
Size: 156 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101129/cb7f3aed/ludovic_granjon.vcf
From namrata.r.sorte at gmail.com  Mon Nov 29 03:32:55 2010
From: namrata.r.sorte at gmail.com (Namrata)
Date: Mon Nov 29 03:32:56 2010
Subject: [gdal-dev] Error building GDAL with GEOS on Solaris
In-Reply-To: <AANLkTinbFpf5XkcSyT0CLD+pncubDE8--vHUK=XFWAgJ@mail.gmail.com>
References: <AANLkTinbFpf5XkcSyT0CLD+pncubDE8--vHUK=XFWAgJ@mail.gmail.com>
Message-ID: <1291019575386-5783578.post@n2.nabble.com>


Hi,

I modified few options in configuration script to resolve if any
dependencies, it is as below:

./configure  --prefix=/usr/local \
            --with-threads \
            --with-ogr \
            --with-geos=yes \
            --without-libtool \
            --with-libz=internal \
            --with-libtiff=internal \
            --with-geotiff=internal \
            --without-gif \
            --without-pg \
            --without-grass \
            --without-libgrass \
            --without-cfitsio \
            --without-pcraster \
            --without-netcdf \
            --without-png \
            --with-jpeg=internal \
            --without-gif \
            --without-ogdi \
            --without-fme \
            --without-hdf4 \
            --without-hdf5 \
            --without-jasper \
            --without-ecw \
            --without-kakadu \
            --without-mrsid \
            --without-jp2mrsid \
            --without-bsb \
            --without-grib \
            --without-mysql \
            --without-ingres \
            --without-xerces \
            --without-expat \
            --without-odbc \
            --without-curl \
            --without-sqlite3 \
            --without-dwgdirect \
            --without-panorama \
            --without-idb \
            --without-sde \
            --without-perl \
            --without-php \
            --without-ruby \
            --without-python \
            --without-ogpython \
            --with-hide-internal-symbols


Below is my config status:

GDAL is now configured for sparc-sun-solaris2.10

  Installation directory:    /usr/local
  C compiler:                gcc -g -O2 -fPIC
  C++ compiler:              g++ -g -O2 -fPIC

  LIBTOOL support:           no

  LIBZ support:              internal
  GRASS support:             no
  CFITSIO support:           no
  PCRaster support:          no
  NetCDF support:            no
  LIBPNG support:            no
  LIBTIFF support:           internal (BigTIFF=yes)
  LIBGEOTIFF support:        internal
  LIBJPEG support:           internal
  8/12 bit JPEG TIFF:        yes
  LIBGIF support:            no
  OGDI support:              no
  HDF4 support:              no
  HDF5 support:              no
  Kakadu support:            no
  JasPer support:            no
  ECW support:               no
  MrSID support:             no
  MSG support:               no
  GRIB support:              no
  EPSILON support:           no
  cURL support (wms/wcs/...):no
  PostgreSQL support:        no
  MySQL support:             no
  Ingres support:            no
  Xerces-C support:          no
  NAS support:               no
  Expat support:             no
  ODBC support:              no
  PGeo support:              no
  PCIDSK support:            internal
  OCI support:               no
  GEORASTER support:         no
  SDE support:               no
  DODS support:              no
  SQLite support:            no
  SpatiaLite support:        no
  DWGdirect support          no
  INFORMIX DataBlade support:no
  GEOS support:              yes
  VFK support:               yes


  SWIG Bindings:          no

  Statically link PROJ.4:    no
  enable OGR building:       yes
  enable pthread support:    yes
  hide internal symbols:     no


Now when I execute "make" command I get following error:

.........
........... . . .   .

g++ -DHAVE_MITAB -g -O2 -fPIC  -Wall  -Iogrsf_frmts -I.
-I/pool1/innovations/gdal-1.7.1/port -I/pool1/innovations/gdal-1.7.1/gcore
-I/pool1/innovations/gdal-1.7.1/alg -I/pool1/innovations/gdal-1.7.1/ogr
-I/pool1/innovations/gdal-1.7.1/ogr/ogrsf_frmts   -DHAVE_GEOS=1
-I/usr/local/include -DOGR_ENABLED -I/pool1/innovations/gdal-1.7.1/port  -c
-o ogr_expat.o ogr_expat.cpp
make[1]: Leaving directory `/pool1/innovations/gdal-1.7.1/ogr'
make /pool1/innovations/gdal-1.7.1/libgdal.a
/pool1/innovations/gdal-1.7.1/libgdal.so
make[1]: Entering directory `/pool1/innovations/gdal-1.7.1'
rm -f libgdal.a
ar r /pool1/innovations/gdal-1.7.1/libgdal.a
/pool1/innovations/gdal-1.7.1/frmts/o/*.o
/pool1/innovations/gdal-1.7.1/gcore/*.o
/pool1/innovations/gdal-1.7.1/port/*.o /pool1/innovations/gdal-1.7.1/alg/*.o
/pool1/innovations/gdal-1.7.1/ogr/ogrsf_frmts/o/*.o
./ogr/ogrgeometryfactory.o ./ogr/ogrpoint.o ./ogr/ogrcurve.o
./ogr/ogrlinestring.o ./ogr/ogrlinearring.o ./ogr/ogrpolygon.o
./ogr/ogrutils.o ./ogr/ogrgeometry.o ./ogr/ogrgeometrycollection.o
./ogr/ogrmultipolygon.o ./ogr/ogrsurface.o ./ogr/ogrmultipoint.o
./ogr/ogrmultilinestring.o ./ogr/ogr_api.o ./ogr/ogrfeature.o
./ogr/ogrfeaturedefn.o ./ogr/ogrfeaturequery.o ./ogr/ogrfeaturestyle.o
./ogr/ogrfielddefn.o ./ogr/ogrspatialreference.o ./ogr/ogr_srsnode.o
./ogr/ogr_srs_proj4.o ./ogr/ogr_fromepsg.o ./ogr/ogrct.o ./ogr/ogr_opt.o
./ogr/ogr_srs_esri.o ./ogr/ogr_srs_pci.o ./ogr/ogr_srs_usgs.o
./ogr/ogr_srs_dict.o ./ogr/ogr_srs_panorama.o ./ogr/ogr_srs_ozi.o
./ogr/ogr_srs_erm.o ./ogr/swq.o ./ogr/ogr_srs_validate.o ./ogr/ogr_srs_xml.o
./ogr/ograssemblepolygon.o ./ogr/ogr2gmlgeometry.o ./ogr/gml2ogrgeometry.o
./ogr/ogr_expat.o
/bin/sh: ar: not found
make[1]: *** [/pool1/innovations/gdal-1.7.1/libgdal.a] Error 1
make[1]: Leaving directory `/pool1/innovations/gdal-1.7.1'
make: *** [check-lib] Error 2

Please help me to sort this error.

Thanks,
Namrata
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-Error-building-GDAL-with-GEOS-on-Solaris-tp5776262p5783578.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From justb4 at gmail.com  Mon Nov 29 06:07:31 2010
From: justb4 at gmail.com (Just van den Broecke)
Date: Mon Nov 29 06:15:02 2010
Subject: [gdal-dev] Making non-rectangular image edges transparent
Message-ID: <4CF38973.3040703@gmail.com>

Hi,

I am looking for a commandline recipe with gdal_translate/gdalwarp to 
create transparent areas as edges of (historic) rastermaps. The 
situation is as follows:

- (800) source PNG images, samples: http://kademo.nl/public/histmap
- each image is georeferenced (4 corners of visible area)
- visible area is non-rectangular (parallelogram)
- there are constant pixel offsets (19 and 26) for the visible area
- non-visible area is black but black appears also in visible area
- there are (4) triangular side areas that need to become transparent
- the end result should be GeoTIFFs (or other format for WMS)

Georeferencing is not the issue, only making the triangular edges 
transparent using a (Unix) commandline chain.
I have consulted many sources like 
http://linfiniti.com/2010/11/raster-masks-in-qgisfossgis but somehow 
these didn't fit the issue completely. I have tried/thought of several 
solutions:

- using ImageMagick to create a transparent mask
- creating a Shape for the (non)visible area
- using gdalwarp with a pixel cutline
- using gdal to create VRT files and add alpha channels

Any help/links appreciated. best regards,

Just van den Broecke
www.justobjects.nl
The Netherlands
From julien.malik at c-s.fr  Mon Nov 29 08:11:21 2010
From: julien.malik at c-s.fr (Julien Malik)
Date: Mon Nov 29 08:30:17 2010
Subject: [gdal-dev] geotiff conflict
Message-ID: <4CF3A679.5020400@c-s.fr>

Hello,

I'm reviving an already known problem about the gdal packages for 
Ubuntu/Debian, related to the use of the hide-internal-symbols configure 
option.

To sum it up, we get into troubles with the gdal packages since we also 
use the geotiff API.

Until recently, we knew only about a problem with Debian. It had been 
reported for example :
- http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg04966.html
- http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=558733

A similar issue now appears on Ubuntu.
Attached are two little tests showing up the problem, with an associated 
CMakeLists.
test.cxx uses the geotiff and tiff API.
test2.cxx is the test program reported in the debian bug tracker

both programs are simple executable taking one tiff file as input.

test.cxx produces segfault when the link line has gdal before geotiff, 
and runs ok in the other cases (tiff does not seem involved).
The segfault appears in the TIFFGetField call, probably because the 
TIFF* returned by XTIFFOpen comes from the gdal internal geotiff 
implementation and not the system geotiff lib, thus returning an 
incompatible pointer.

test2.cxx does not segfault (though it does on Debian systems when gdal 
is before geotiff).

I see the Ubuntu problems on at least two systems :
- Ubuntu 10.04 with official packages (gdal 1.6.3)
- Ubuntu 10.10 with gdal package from UbuntuGIS-unstable

There seems to be a bug with the hide-internal-symbols which, well..., 
does not really hide internal symbols.
Is there a known solution to these problems (apart from hand-made gdal 
recompilation which is not a solution for our end-users) ?
Has the mangling of the internal tiff/geotiff libs already been studied ?


Best regards,
Julien


-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdalgeotiff.tar.gz
Type: application/x-gzip
Size: 894 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101129/e4240c99/gdalgeotiff.tar.gz
From dburken at comcast.net  Mon Nov 29 08:40:30 2010
From: dburken at comcast.net (David Burken)
Date: Mon Nov 29 08:40:39 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <201011282039.45713.even.rouault@mines-paris.org>
References: <4CEFE789.6060207@pobox.com>
	<201011282039.45713.even.rouault@mines-paris.org>
Message-ID: <4CF3AD4E.7080507@comcast.net>

Guys,

Just fyi, a long on my machine (Linux 2.6.35.6-48.fc14.x86_64) is 8 
bytes.   It's the same as long long.

Dave

On 11/28/2010 02:39 PM, Even Rouault wrote:
> Frank,
>
> If I agree we can upgrade the C++ API of OGRLayer::GetFeature() and
> DeleteFeature() to use GIntBig instead of long, I'm wondering whether the ABI
> backward incompatible change of OGR_L_GetFeature() and OGR_L_DeleteFeature()
> is something acceptable with respect to our (implicit) policy and past
> practices as far as the C ABI is concerned ? I don't remind of such a
> precedent in the 1.X series (at least since X>= 4). Couldn't this be "solved"
> by introducing OGR_L_GetFeature64() and OGR_L_SetFeature64() and let
> OGR_L_GetFeature() and OGR_L_SetFeature() do the cast from long to GIntBig ? I
> acknowledge this isn't pretty...
>
> Or, if we don't want the OGR_L_GetFeature64/SetFeature64 symbols to be too
> apparent, we could also use a little trick like the following one :
>
> * in ogr_api.h :
>
> /* Do not use OGR_L_GetFeature64() directly. Use OGR_L_GetFeature instead */
> /* OGR_L_GetFeature64() will be renamed OGR_L_GetFeature() in GDAL 2.0 */
> OGRFeatureH CPL_DLL OGR_L_GetFeature64( OGRLayerH, GIntBig );
> #define OGR_L_GetFeature OGR_L_GetFeature64
>
> That way, application code recompiled against the GDAL 1.8.0 header will use
> the 64bit version implicitely.
>
> * and in ogrlayer.cpp :
>
> /* Hack to preserve GDAL<  1.8.0 ABI : to be removed for GDAL 2.0 */
> #undef OGR_L_GetFeature
> OGRFeatureH CPL_DLL OGR_L_GetFeature( OGRLayerH hLayer, long nFeatureId );
> OGRFeatureH OGR_L_GetFeature( OGRLayerH hLayer, long nFeatureId )
> {
> 	return (OGRFeatureH) ((OGRLayer *)hLayer)->GetFeature(
> (GIntBig)nFeatureId );
> }
>
> OGRFeatureH OGR_L_GetFeature64( OGRLayerH hLayer, GIntBig nFeatureId )
> {
> 	return (OGRFeatureH) ((OGRLayer *)hLayer)->GetFeature( nFeatureId );
> }
>
> that way the old symbol and the new symbol are available...
>
>
> Concerning the impact of introducing OFTInteger64 for existing applications,
> it is not obvious to predict it. From a quick "grep OFTInteger" in 2 popular
> applications :
> * MapServer would need a minor update in mapogr.cpp. If code left as it is
> now, OFTInteger64 fields would be advertized as 'Character' fields in the GML
> schema instead of Integer with appropriate width (the only case OFTInteger in
> mapogr.cpp). Also, I'm not sure if the OGR field type is tested indirectly
> afterwards in the vector rendering/expression evaluation or if just a atof()
> is done on the field value. And in the new mapogroutput.c, according to the
> width of a item->type == "Integer", we could appropriately create a
> OFTInteger64.
> * The OGR provider in QGIS if unchanged would also present OFTInteger64 fields
> as QVariant::String fields as a default (but the values couldn't be
> edited/updated). I see that other QGIS providers use QVariant::LongLong, so
> OFTInteger64 could potentially be properly supported. Other places such as
> src/core/qgsvectorfilewriter.cpp currently turns QVariant::LongLong into
> OFTString when creating the OGR fields and could also be updated.
>
> So if unchanged, it *looks* like those applications should still go on working
> (at least not crashing), but with perhaps a bit degraded functionnality w.r.t
> to the current situation (where the big integers are returned as double for
> shapefiles). For MapServer case, this is mitigated since OGR isn't actually
> used for access to shapefiles and postgis ...
>
> Best regards,
>
> Even
>
>> Folks,
>>
>> In the interest of moving towards a GDAL/OGR 1.8 release I have done some
>> work on RFC 31 - 64bit integers for OGR fields and FIDs.  I've updated the
>> RFC itself somewhat, and done a preliminary implementation of the RFC on
>> my own system with a reasonable level of success.
>>
>> I'm asking for additional comment on the RFC at:
>>
>>     http://trac.osgeo.org/gdal/wiki/rfc31_ogr_64
>>
>> The implications and complications of this update are greater than I had
>> first anticipated and even with what I've done so far I'm sure lots of
>> additional glitches will come out of the wood work.  Unfortunately, this
>> is not funded work for me so it is hard to apply the level of effort that
>> I would like to it.  In short, I'm a bit nervous about implementing this
>> RFC though now that I've sunk 2-3 days into the prototype work I'm hesitant
>> to throw it away either. :-)
>>
>> Thoughts welcome.
>>
>> Best regards,
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From even.rouault at mines-paris.org  Mon Nov 29 09:51:58 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Nov 29 09:52:06 2010
Subject: [gdal-dev] geotiff conflict
In-Reply-To: <4CF3A679.5020400@c-s.fr>
References: <4CF3A679.5020400@c-s.fr>
Message-ID: <1291042318.4cf3be0e7f6ce@webmail.free.fr>

Julien,

To be fair, I think that --with-hide-internal-symbols just does what it
advertizes : it hides GDAL internal symbols (internal libtiff, internal
libgeotiff) to applications that link with libgdal. I mean that they cannot use
those symbols (if they only link to libgdal). The advantage is that it speed-ups
the loading of the library and the resolving of its symbols.

However, it doesn't do what we could expect : in the case the application links
with several libraries that define the same symbol (exported or not), it has no
influence on how the symbols are resolved by the dynamic linker. So depending on
the linking order of -lgdal -lgeotiff or -lgeotiff or -lgdal, the symbol
resolver will choose either the one from GDAL or the one from libgeotiff.

By the way, are you sure that --with-hide-internal-symbols actually worsens the
situation ? I'd have bet you'd got the same/similar issues with a build that
doesn't use --with-hide-internal-symbols.

I tried recently to use some trickery based on #define for the internal libtiff.
The internal libtiff would have lines (in tif_config.h or in a specific header
file imported by it) which would redefine each symbol like #define TIFFGetField
GDAL_TIFFGetField. This was easily done with a simple script that parsed the
output of nm/objdump -T on libtiff. It mostly worked but I couldn't get to work
it completely without modifying the libtiff files, due to their use of #define
mechanisms inside libtiff in a few places (in tif_swab.c and
tif_jpeg.c/tif_jpeg_12.c). And it isn't reasonable to modify the libtiff files
as they are directly imported from upstream libtiff. So that effort is mostly
stalled for now. As far as using ld versionned symbols as Francesco Lovergine
suggested, I've no experience with that mechanism. Perhaps you could investigate
on that side.

Even

> Hello,
>
> I'm reviving an already known problem about the gdal packages for
> Ubuntu/Debian, related to the use of the hide-internal-symbols configure
> option.
>
> To sum it up, we get into troubles with the gdal packages since we also
> use the geotiff API.
>
> Until recently, we knew only about a problem with Debian. It had been
> reported for example :
> - http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg04966.html
> - http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=558733
>
> A similar issue now appears on Ubuntu.
> Attached are two little tests showing up the problem, with an associated
> CMakeLists.
> test.cxx uses the geotiff and tiff API.
> test2.cxx is the test program reported in the debian bug tracker
>
> both programs are simple executable taking one tiff file as input.
>
> test.cxx produces segfault when the link line has gdal before geotiff,
> and runs ok in the other cases (tiff does not seem involved).
> The segfault appears in the TIFFGetField call, probably because the
> TIFF* returned by XTIFFOpen comes from the gdal internal geotiff
> implementation and not the system geotiff lib, thus returning an
> incompatible pointer.
>
> test2.cxx does not segfault (though it does on Debian systems when gdal
> is before geotiff).
>
> I see the Ubuntu problems on at least two systems :
> - Ubuntu 10.04 with official packages (gdal 1.6.3)
> - Ubuntu 10.10 with gdal package from UbuntuGIS-unstable
>
> There seems to be a bug with the hide-internal-symbols which, well...,
> does not really hide internal symbols.
> Is there a known solution to these problems (apart from hand-made gdal
> recompilation which is not a solution for our end-users) ?
> Has the mangling of the internal tiff/geotiff libs already been studied ?
>
>
> Best regards,
> Julien
>
>
>


From even.rouault at mines-paris.org  Mon Nov 29 09:57:11 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Nov 29 09:57:20 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <4CF3AD4E.7080507@comcast.net>
References: <4CEFE789.6060207@pobox.com>
	<201011282039.45713.even.rouault@mines-paris.org>
	<4CF3AD4E.7080507@comcast.net>
Message-ID: <1291042631.4cf3bf477f024@webmail.free.fr>

David,

yes, on most 64bit platforms, sizeof(long long)=sizeof(long)=8. Except on Win64,
where sizeof(long) still = 4 ( see
http://en.wikipedia.org/wiki/64-bit#Specific_C-language_data_models ). And of
course on 32bit platforms, sizeof(long)=4. So the need for an explicit 64bit API
is needed.

> Guys,
>
> Just fyi, a long on my machine (Linux 2.6.35.6-48.fc14.x86_64) is 8
> bytes.   It's the same as long long.
>
> Dave
>
> On 11/28/2010 02:39 PM, Even Rouault wrote:
> > Frank,
> >
> > If I agree we can upgrade the C++ API of OGRLayer::GetFeature() and
> > DeleteFeature() to use GIntBig instead of long, I'm wondering whether the
> ABI
> > backward incompatible change of OGR_L_GetFeature() and
> OGR_L_DeleteFeature()
> > is something acceptable with respect to our (implicit) policy and past
> > practices as far as the C ABI is concerned ? I don't remind of such a
> > precedent in the 1.X series (at least since X>= 4). Couldn't this be
> "solved"
> > by introducing OGR_L_GetFeature64() and OGR_L_SetFeature64() and let
> > OGR_L_GetFeature() and OGR_L_SetFeature() do the cast from long to GIntBig
> ? I
> > acknowledge this isn't pretty...
> >
> > Or, if we don't want the OGR_L_GetFeature64/SetFeature64 symbols to be too
> > apparent, we could also use a little trick like the following one :
> >
> > * in ogr_api.h :
> >
> > /* Do not use OGR_L_GetFeature64() directly. Use OGR_L_GetFeature instead
> */
> > /* OGR_L_GetFeature64() will be renamed OGR_L_GetFeature() in GDAL 2.0 */
> > OGRFeatureH CPL_DLL OGR_L_GetFeature64( OGRLayerH, GIntBig );
> > #define OGR_L_GetFeature OGR_L_GetFeature64
> >
> > That way, application code recompiled against the GDAL 1.8.0 header will
> use
> > the 64bit version implicitely.
> >
> > * and in ogrlayer.cpp :
> >
> > /* Hack to preserve GDAL<  1.8.0 ABI : to be removed for GDAL 2.0 */
> > #undef OGR_L_GetFeature
> > OGRFeatureH CPL_DLL OGR_L_GetFeature( OGRLayerH hLayer, long nFeatureId );
> > OGRFeatureH OGR_L_GetFeature( OGRLayerH hLayer, long nFeatureId )
> > {
> > 	return (OGRFeatureH) ((OGRLayer *)hLayer)->GetFeature(
> > (GIntBig)nFeatureId );
> > }
> >
> > OGRFeatureH OGR_L_GetFeature64( OGRLayerH hLayer, GIntBig nFeatureId )
> > {
> > 	return (OGRFeatureH) ((OGRLayer *)hLayer)->GetFeature( nFeatureId );
> > }
> >
> > that way the old symbol and the new symbol are available...
> >
> >
> > Concerning the impact of introducing OFTInteger64 for existing
> applications,
> > it is not obvious to predict it. From a quick "grep OFTInteger" in 2
> popular
> > applications :
> > * MapServer would need a minor update in mapogr.cpp. If code left as it is
> > now, OFTInteger64 fields would be advertized as 'Character' fields in the
> GML
> > schema instead of Integer with appropriate width (the only case OFTInteger
> in
> > mapogr.cpp). Also, I'm not sure if the OGR field type is tested indirectly
> > afterwards in the vector rendering/expression evaluation or if just a
> atof()
> > is done on the field value. And in the new mapogroutput.c, according to the
> > width of a item->type == "Integer", we could appropriately create a
> > OFTInteger64.
> > * The OGR provider in QGIS if unchanged would also present OFTInteger64
> fields
> > as QVariant::String fields as a default (but the values couldn't be
> > edited/updated). I see that other QGIS providers use QVariant::LongLong, so
> > OFTInteger64 could potentially be properly supported. Other places such as
> > src/core/qgsvectorfilewriter.cpp currently turns QVariant::LongLong into
> > OFTString when creating the OGR fields and could also be updated.
> >
> > So if unchanged, it *looks* like those applications should still go on
> working
> > (at least not crashing), but with perhaps a bit degraded functionnality
> w.r.t
> > to the current situation (where the big integers are returned as double for
> > shapefiles). For MapServer case, this is mitigated since OGR isn't actually
> > used for access to shapefiles and postgis ...
> >
> > Best regards,
> >
> > Even
> >
> >> Folks,
> >>
> >> In the interest of moving towards a GDAL/OGR 1.8 release I have done some
> >> work on RFC 31 - 64bit integers for OGR fields and FIDs.  I've updated the
> >> RFC itself somewhat, and done a preliminary implementation of the RFC on
> >> my own system with a reasonable level of success.
> >>
> >> I'm asking for additional comment on the RFC at:
> >>
> >>     http://trac.osgeo.org/gdal/wiki/rfc31_ogr_64
> >>
> >> The implications and complications of this update are greater than I had
> >> first anticipated and even with what I've done so far I'm sure lots of
> >> additional glitches will come out of the wood work.  Unfortunately, this
> >> is not funded work for me so it is hard to apply the level of effort that
> >> I would like to it.  In short, I'm a bit nervous about implementing this
> >> RFC though now that I've sunk 2-3 days into the prototype work I'm
> hesitant
> >> to throw it away either. :-)
> >>
> >> Thoughts welcome.
> >>
> >> Best regards,
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From mateusz at loskot.net  Mon Nov 29 10:09:39 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Nov 29 10:07:08 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <1291042631.4cf3bf477f024@webmail.free.fr>
References: <4CEFE789.6060207@pobox.com>	<201011282039.45713.even.rouault@mines-paris.org>	<4CF3AD4E.7080507@comcast.net>
	<1291042631.4cf3bf477f024@webmail.free.fr>
Message-ID: <4CF3C233.10303@loskot.net>

On 29/11/10 14:57, Even Rouault wrote:
> David,
>
> yes, on most 64bit platforms, sizeof(long long)=sizeof(long)=8. Except on Win64,
> where sizeof(long) still = 4 ( see
> http://en.wikipedia.org/wiki/64-bit#Specific_C-language_data_models ). And of
> course on 32bit platforms, sizeof(long)=4. So the need for an explicit 64bit API
> is needed.

And, that's why name GBigInt is meaningless.
In order to avoid any ambiguities, GDAL/OGR API should make
use of exact size types *only*, it is [u]int32_t and [u]int64_t,
in its public API.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
Member of ACCU, http://accu.org
From darrencope at gmail.com  Mon Nov 29 10:19:45 2010
From: darrencope at gmail.com (Darren Cope)
Date: Mon Nov 29 10:19:46 2010
Subject: [gdal-dev] GML to .shp Using OGR
Message-ID: <1291043985790-5784681.post@n2.nabble.com>


Hi all,

Hopefully this is also the forum to post OGR-related enquiries.  I don't see
a specific OGR list.  

I have a very large .gml file with multiple layers in it. I would like to
export one of these layers to .shp. It is a polygon layer (of lakes).
However, I am getting the error:

ERROR 1: Unrecognised geometry type <Surface>.

The ogr command I was using:

ogr2ogr -f "ESRI Shapefile" output.shp input.gml layername

Any thoughts? Is it possible the polygon layer is somehow incorrectly
defined as a surface in the GML? Any way I can force it to be a polygon? Or
is it something else entirely? I don't often work with .gml, so may be
missing something obvious...

Cheers,

Darren

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/GML-to-shp-Using-OGR-tp5784681p5784681.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From dburken at comcast.net  Mon Nov 29 10:22:24 2010
From: dburken at comcast.net (David Burken)
Date: Mon Nov 29 10:22:33 2010
Subject: [gdal-dev] RFC 31 - OGR 64bit Support
In-Reply-To: <4CF3C233.10303@loskot.net>
References: <4CEFE789.6060207@pobox.com>	<201011282039.45713.even.rouault@mines-paris.org>	<4CF3AD4E.7080507@comcast.net>
	<1291042631.4cf3bf477f024@webmail.free.fr>
	<4CF3C233.10303@loskot.net>
Message-ID: <4CF3C530.1060303@comcast.net>

On 11/29/2010 10:09 AM, Mateusz Loskot wrote:
> On 29/11/10 14:57, Even Rouault wrote:
>> David,
>>
>> yes, on most 64bit platforms, sizeof(long long)=sizeof(long)=8. 
>> Except on Win64,
>> where sizeof(long) still = 4 ( see
>> http://en.wikipedia.org/wiki/64-bit#Specific_C-language_data_models 
>> ). And of
>> course on 32bit platforms, sizeof(long)=4. So the need for an 
>> explicit 64bit API
>> is needed.
>
> And, that's why name GBigInt is meaningless.
> In order to avoid any ambiguities, GDAL/OGR API should make
> use of exact size types *only*, it is [u]int32_t and [u]int64_t,
> in its public API.
>
> Best regards,

Not arguing, was just pointing out the obvious.  I agree, all interfaces 
that uses "int"s should use typedefs...
Dave

From bontepaarden at gmail.com  Mon Nov 29 10:27:56 2010
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon Nov 29 10:28:20 2010
Subject: [gdal-dev] GML to .shp Using OGR
In-Reply-To: <1291043985790-5784681.post@n2.nabble.com>
References: <1291043985790-5784681.post@n2.nabble.com>
Message-ID: <AANLkTik4ETMozr2xAFJyAxHGsWL2sLVYD1JG7-ncO1aF@mail.gmail.com>

The Surface tag is not supported before GDAL/OGR v1.8
I had a similar GML a few weeks back.
Using the beta release of GDAL/OGR v1.8 you can convert.

--
Paul


 *Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*
My profiles: [image: LinkedIn] <http://nl.linkedin.com/in/paulmeems/> [image:
Twitter] <http://twitter.com/mapwindow_nl>


2010/11/29 Darren Cope <darrencope@gmail.com>

>
> Hi all,
>
> Hopefully this is also the forum to post OGR-related enquiries.  I don't
> see
> a specific OGR list.
>
> I have a very large .gml file with multiple layers in it. I would like to
> export one of these layers to .shp. It is a polygon layer (of lakes).
> However, I am getting the error:
>
> ERROR 1: Unrecognised geometry type <Surface>.
>
> The ogr command I was using:
>
> ogr2ogr -f "ESRI Shapefile" output.shp input.gml layername
>
> Any thoughts? Is it possible the polygon layer is somehow incorrectly
> defined as a surface in the GML? Any way I can force it to be a polygon? Or
> is it something else entirely? I don't often work with .gml, so may be
> missing something obvious...
>
> Cheers,
>
> Darren
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/GML-to-shp-Using-OGR-tp5784681p5784681.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101129/a67294e2/attachment.html
From julien.michel at cnes.fr  Mon Nov 29 10:59:20 2010
From: julien.michel at cnes.fr (Julien Michel)
Date: Mon Nov 29 11:05:04 2010
Subject: [gdal-dev] geotiff conflict
In-Reply-To: <1291042318.4cf3be0e7f6ce@webmail.free.fr>
References: <4CF3A679.5020400@c-s.fr>
	<1291042318.4cf3be0e7f6ce@webmail.free.fr>
Message-ID: <4CF3CDD8.7090904@cnes.fr>

Even,

I am working with Julien on the same project, and you are right about 
the --hide-internal-symbols option : if symbols are not hidden, we 
recognize that gdal exposes tiff symbols and we manage to deal with this 
case by forcing all tiff access to use gdal internal tiff library (we 
have to include the headers in gdal sources in order to be sure to have 
headers corresponding to symbols, it would be great to have these 
headers installed by gdal, but this is another question). And the case 
were gdal links with the system tiff/geotiff is working as well (but 
without bigtiff support).

The problem is that we are trying to build debian/ubuntu packages, and 
to do it we need to link with the system gdal , which is compiled with 
--hide-internal-symbols, so we are kind of stuck here ...

I am surprised that this issue has not been reported before, we are for 
sure not the only project using both gdal and geotiff  ? My bet is that 
we are doing something wrong somewhere, but for now we did not come up 
with it. Any idea would be very helpful ...

Regards,

Julien

Le 29/11/2010 15:51, Even Rouault a ?crit :
> Julien,
>
> To be fair, I think that --with-hide-internal-symbols just does what it
> advertizes : it hides GDAL internal symbols (internal libtiff, internal
> libgeotiff) to applications that link with libgdal. I mean that they cannot use
> those symbols (if they only link to libgdal). The advantage is that it speed-ups
> the loading of the library and the resolving of its symbols.
>
> However, it doesn't do what we could expect : in the case the application links
> with several libraries that define the same symbol (exported or not), it has no
> influence on how the symbols are resolved by the dynamic linker. So depending on
> the linking order of -lgdal -lgeotiff or -lgeotiff or -lgdal, the symbol
> resolver will choose either the one from GDAL or the one from libgeotiff.
>
> By the way, are you sure that --with-hide-internal-symbols actually worsens the
> situation ? I'd have bet you'd got the same/similar issues with a build that
> doesn't use --with-hide-internal-symbols.
>
> I tried recently to use some trickery based on #define for the internal libtiff.
> The internal libtiff would have lines (in tif_config.h or in a specific header
> file imported by it) which would redefine each symbol like #define TIFFGetField
> GDAL_TIFFGetField. This was easily done with a simple script that parsed the
> output of nm/objdump -T on libtiff. It mostly worked but I couldn't get to work
> it completely without modifying the libtiff files, due to their use of #define
> mechanisms inside libtiff in a few places (in tif_swab.c and
> tif_jpeg.c/tif_jpeg_12.c). And it isn't reasonable to modify the libtiff files
> as they are directly imported from upstream libtiff. So that effort is mostly
> stalled for now. As far as using ld versionned symbols as Francesco Lovergine
> suggested, I've no experience with that mechanism. Perhaps you could investigate
> on that side.
>
> Even
>
>    
>> Hello,
>>
>> I'm reviving an already known problem about the gdal packages for
>> Ubuntu/Debian, related to the use of the hide-internal-symbols configure
>> option.
>>
>> To sum it up, we get into troubles with the gdal packages since we also
>> use the geotiff API.
>>
>> Until recently, we knew only about a problem with Debian. It had been
>> reported for example :
>> - http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg04966.html
>> - http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=558733
>>
>> A similar issue now appears on Ubuntu.
>> Attached are two little tests showing up the problem, with an associated
>> CMakeLists.
>> test.cxx uses the geotiff and tiff API.
>> test2.cxx is the test program reported in the debian bug tracker
>>
>> both programs are simple executable taking one tiff file as input.
>>
>> test.cxx produces segfault when the link line has gdal before geotiff,
>> and runs ok in the other cases (tiff does not seem involved).
>> The segfault appears in the TIFFGetField call, probably because the
>> TIFF* returned by XTIFFOpen comes from the gdal internal geotiff
>> implementation and not the system geotiff lib, thus returning an
>> incompatible pointer.
>>
>> test2.cxx does not segfault (though it does on Debian systems when gdal
>> is before geotiff).
>>
>> I see the Ubuntu problems on at least two systems :
>> - Ubuntu 10.04 with official packages (gdal 1.6.3)
>> - Ubuntu 10.10 with gdal package from UbuntuGIS-unstable
>>
>> There seems to be a bug with the hide-internal-symbols which, well...,
>> does not really hide internal symbols.
>> Is there a known solution to these problems (apart from hand-made gdal
>> recompilation which is not a solution for our end-users) ?
>> Has the mangling of the internal tiff/geotiff libs already been studied ?
>>
>>
>> Best regards,
>> Julien
>>
>>
>>
>>      
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>    


-- 
Julien MICHEL

From julien.malik at c-s.fr  Mon Nov 29 11:08:56 2010
From: julien.malik at c-s.fr (Julien Malik)
Date: Mon Nov 29 11:09:00 2010
Subject: [gdal-dev] geotiff conflict
In-Reply-To: <1291042318.4cf3be0e7f6ce@webmail.free.fr>
References: <4CF3A679.5020400@c-s.fr>
	<1291042318.4cf3be0e7f6ce@webmail.free.fr>
Message-ID: <4CF3D018.5080401@c-s.fr>

Hello Even,

Thank you for your answer.

Le 29/11/2010 15:51, Even Rouault a ?crit :
> Julien,
>
> To be fair, I think that --with-hide-internal-symbols just does what it
> advertizes : it hides GDAL internal symbols (internal libtiff, internal
> libgeotiff) to applications that link with libgdal. I mean that they cannot use
> those symbols (if they only link to libgdal). The advantage is that it speed-ups
> the loading of the library and the resolving of its symbols.
> However, it doesn't do what we could expect : in the case the application links
> with several libraries that define the same symbol (exported or not), it has no
> influence on how the symbols are resolved by the dynamic linker. So depending on
> the linking order of -lgdal -lgeotiff or -lgeotiff or -lgdal, the symbol
> resolver will choose either the one from GDAL or the one from libgeotiff.
OK, I see your point. It works at link time, but not at "load time"... 
Too bad !

> By the way, are you sure that --with-hide-internal-symbols actually worsens the
> situation ? I'd have bet you'd got the same/similar issues with a build that
> doesn't use --with-hide-internal-symbols.
No I'm not sure, I didn't test.
So in fact the problem does not come really from hide-internal-symbols, 
but from the simple fact that geotiff is included in gdal with a different .


> I tried recently to use some trickery based on #define for the internal libtiff.
> The internal libtiff would have lines (in tif_config.h or in a specific header
> file imported by it) which would redefine each symbol like #define TIFFGetField
> GDAL_TIFFGetField. This was easily done with a simple script that parsed the
> output of nm/objdump -T on libtiff. It mostly worked but I couldn't get to work
> it completely without modifying the libtiff files, due to their use of #define
> mechanisms inside libtiff in a few places (in tif_swab.c and
> tif_jpeg.c/tif_jpeg_12.c). And it isn't reasonable to modify the libtiff files
> as they are directly imported from upstream libtiff. So that effort is mostly
> stalled for now.
This is the procedure I know as "mangling".
I know Insight Toolkit does that (http://www.itk.org) for the internal 
libtiff version, but there are probably some modifications in the 
libtiff code.
If this is not an option for you, then I think we're stuck.

>   As far as using ld versionned symbols as Francesco Lovergine
> suggested, I've no experience with that mechanism. Perhaps you could investigate
> on that side.

I don't know about it neither, but I can imagine what "versioned 
symbols" can mean.
But it does not solve my problem (I want to use the packaged version of 
gdal in Debian and Ubuntu...)


Thanks,
Julien

> Even
>
>> Hello,
>>
>> I'm reviving an already known problem about the gdal packages for
>> Ubuntu/Debian, related to the use of the hide-internal-symbols configure
>> option.
>>
>> To sum it up, we get into troubles with the gdal packages since we also
>> use the geotiff API.
>>
>> Until recently, we knew only about a problem with Debian. It had been
>> reported for example :
>> - http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg04966.html
>> - http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=558733
>>
>> A similar issue now appears on Ubuntu.
>> Attached are two little tests showing up the problem, with an associated
>> CMakeLists.
>> test.cxx uses the geotiff and tiff API.
>> test2.cxx is the test program reported in the debian bug tracker
>>
>> both programs are simple executable taking one tiff file as input.
>>
>> test.cxx produces segfault when the link line has gdal before geotiff,
>> and runs ok in the other cases (tiff does not seem involved).
>> The segfault appears in the TIFFGetField call, probably because the
>> TIFF* returned by XTIFFOpen comes from the gdal internal geotiff
>> implementation and not the system geotiff lib, thus returning an
>> incompatible pointer.
>>
>> test2.cxx does not segfault (though it does on Debian systems when gdal
>> is before geotiff).
>>
>> I see the Ubuntu problems on at least two systems :
>> - Ubuntu 10.04 with official packages (gdal 1.6.3)
>> - Ubuntu 10.10 with gdal package from UbuntuGIS-unstable
>>
>> There seems to be a bug with the hide-internal-symbols which, well...,
>> does not really hide internal symbols.
>> Is there a known solution to these problems (apart from hand-made gdal
>> recompilation which is not a solution for our end-users) ?
>> Has the mangling of the internal tiff/geotiff libs already been studied ?
>>
>>
>> Best regards,
>> Julien
>>
>>
>>
From antonio.rocha at deimos.com.pt  Mon Nov 29 15:58:04 2010
From: antonio.rocha at deimos.com.pt (antonio.rocha@deimos.com.pt)
Date: Mon Nov 29 15:55:05 2010
Subject: [gdal-dev] Having a GDAL version OSGEO4w that supports GRIBs
Message-ID: <20101129215804.12044uiol0k3ag9o@www.deimos.com.pt>

Greetings

Ihave been running GDAL (with GRASS) on Ubuntu and Gdal's version  
support GRASS (without any problem). Now, I'm trying to run the same  
scripts in OSGEo4w and I realized that GDAL does not support GRIB. How  
can I change this (if possible)?

Thanks
Antonio
From jef at norbit.de  Mon Nov 29 16:54:52 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon Nov 29 16:55:15 2010
Subject: [gdal-dev] Having a GDAL version OSGEO4w that supports GRIBs
In-Reply-To: <20101129215804.12044uiol0k3ag9o@www.deimos.com.pt>
References: <20101129215804.12044uiol0k3ag9o@www.deimos.com.pt>
Message-ID: <20101129215451.GA1287@norbit.de>

Hi Antonio,

On Mon, 29. Nov 2010 at 21:58:04 +0100, antonio.rocha@deimos.com.pt wrote:
> Ihave been running GDAL (with GRASS) on Ubuntu and Gdal's version  
> support GRASS (without any problem). Now, I'm trying to run the same  
> scripts in OSGEo4w and I realized that GDAL does not support GRIB. How  
> can I change this (if possible)?

GDAL 1.5 doesn't have GRIB support in OSGeo4W, but GDAL 1.6 and 1.7 do.


J?rgen 

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From sebastian.ovide at gmail.com  Tue Nov 30 05:30:15 2010
From: sebastian.ovide at gmail.com (Sebastian E. Ovide)
Date: Tue Nov 30 05:30:37 2010
Subject: [gdal-dev] PG: does OGR2OGR set the SRID correctly ?
Message-ID: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>

Hi All,

I've just uploaded a shape with

ogr2ogr -f PostgreSQL "PG:dbname='gis' host='10.0.1.40' port='5432'
user='gis' password='gis'"  sebas.shp -lco 27700 -lco PRECISION=NO -progress
-lco OVERWRITE=yes -lco dim=2 -nln sebas -overwrite

but from

select ST_SRID(wkb_geometry) from sebas;

I'm getting 3

(with

select ST_SRID(ST_SetSRID(wkb_geometry,27700)) from sebas;

I'm getting the right value )

any ideas ?



-- 
Sebastian E. Ovide
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/5a9da694/attachment.html
From jorge.arevalo at deimos-space.com  Tue Nov 30 05:52:47 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Tue Nov 30 05:53:12 2010
Subject: [gdal-dev] PG: does OGR2OGR set the SRID correctly ?
In-Reply-To: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>
References: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>
Message-ID: <AANLkTinHrAEQhRFeuz=OFXJyxT=4XC54mosMqOZ82Q4C@mail.gmail.com>

On Tue, Nov 30, 2010 at 11:30 AM, Sebastian E. Ovide
<sebastian.ovide@gmail.com> wrote:
> Hi All,
> I've just uploaded a shape with
> ogr2ogr -f PostgreSQL "PG:dbname='gis' host='10.0.1.40' port='5432'
> user='gis' password='gis'" ?sebas.shp -lco 27700 -lco PRECISION=NO -progress
> -lco OVERWRITE=yes -lco dim=2 -nln sebas -overwrite
> but from
> select ST_SRID(wkb_geometry) from sebas;
> I'm getting 3
> (with
> select ST_SRID(ST_SetSRID(wkb_geometry,27700)) from sebas;
> I'm getting the right value )
> any ideas ?
>
>
> --
> Sebastian E. Ovide
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Hi Sebastian,

Did you test this?

ogr2ogr -f PostgreSQL -a_srs <the data srid> "PG:dbname='gis'
host='10.0.1.40' port='5432' user='gis' password='gis'"  sebas.shp
-lco 27700 -lco PRECISION=NO -progress -lco OVERWRITE=yes -lco dim=2
-nln sebas -overwrite

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
From even.rouault at mines-paris.org  Tue Nov 30 05:59:28 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Nov 30 05:59:37 2010
Subject: [gdal-dev] PG: does OGR2OGR set the SRID correctly ?
In-Reply-To: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>
References: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>
Message-ID: <1291114768.4cf4d91057a95@imp.free.fr>

Selon "Sebastian E. Ovide" <sebastian.ovide@gmail.com>:
Sebastian,

The option "-lco 27700" has no effect. The correct syntax would be something
like "-lco SRID=27700", but there's no such option, so don't loose your time
trying that ;-)

The SRID is set automatically by comparing the SRS of the source layer with what
exists in the spatial_ref_sys table (or the one you can set with the -a_srs
EPSG:27700 as suggested by Jorge). If there's a match, then the SRID from
spatial_ref_sys will be used. Otherwise the PG driver will add a new entry in
the spatial_ref_sys table (and the SRID number will not be equal to the EPSG
code). Make sure you've filled the spatial_ref_sys table
with the appropriate PostGIS .sql script. The '3' you get sounds like the
spatial_ref_sys table of this database was empty and that the PG driver added
new entries in it.

Best regards,

> Hi All,
>
> I've just uploaded a shape with
>
> ogr2ogr -f PostgreSQL "PG:dbname='gis' host='10.0.1.40' port='5432'
> user='gis' password='gis'"  sebas.shp -lco 27700 -lco PRECISION=NO -progress
> -lco OVERWRITE=yes -lco dim=2 -nln sebas -overwrite
>
> but from
>
> select ST_SRID(wkb_geometry) from sebas;
>
> I'm getting 3
>
> (with
>
> select ST_SRID(ST_SetSRID(wkb_geometry,27700)) from sebas;
>
> I'm getting the right value )
>
> any ideas ?
>
>
>
> --
> Sebastian E. Ovide
>


From namrata.r.sorte at gmail.com  Tue Nov 30 08:51:59 2010
From: namrata.r.sorte at gmail.com (Namrata)
Date: Tue Nov 30 08:52:01 2010
Subject: [gdal-dev] No Simplify function
Message-ID: <1291125119431-5788134.post@n2.nabble.com>


Hi,
 
I have installed GDAL 1.7.1 with GEOS 3.0.0 on my Solaris machine. But I
cannot see any function as Simplify() as given in the tutorial:

 virtual OGRGeometry *  Simplify (double dTolerance) const  
 -- Simplify the geometry. 

Please can you guide me if I am missing anything here or do I need latest
GDAL (1.7.3) installed

Eagerly waiting for your reply. 

Thanks,
Namrata
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/No-Simplify-function-tp5788134p5788134.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Tue Nov 30 09:15:09 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 30 09:15:14 2010
Subject: [gdal-dev] No Simplify function
In-Reply-To: <1291125119431-5788134.post@n2.nabble.com>
References: <1291125119431-5788134.post@n2.nabble.com>
Message-ID: <4CF506ED.8090006@pobox.com>

Namrata wrote:
> Hi,
>  
> I have installed GDAL 1.7.1 with GEOS 3.0.0 on my Solaris machine. But I
> cannot see any function as Simplify() as given in the tutorial:
> 
>  virtual OGRGeometry *  Simplify (double dTolerance) const  
>  -- Simplify the geometry. 
> 
> Please can you guide me if I am missing anything here or do I need latest
> GDAL (1.7.3) installed
> 
> Eagerly waiting for your reply. 

Namrata,

A brief review suggests to me that the Simplify method was added since
the 1.7 release, and that it has not been backported to the 1.7.x stable
release series.  The only way to get it is to download a development
snapshot and build from that.  Daily development snapshots are available
at:

   http://www.gdal.org/daily

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From luisapena1979 at gmail.com  Tue Nov 30 09:21:30 2010
From: luisapena1979 at gmail.com (=?ISO-8859-1?Q?Luisa_Pe=F1a?=)
Date: Tue Nov 30 09:21:32 2010
Subject: [gdal-dev] Updating GDAL on OSGEO4w (windows
Message-ID: <AANLkTik9CmhHFaUhjwytJYLS3kxaJvp3o=BmfbNjVga0@mail.gmail.com>

Greetings

I have OSGEO4w working with GDAL1.5 and, in c:\osgeo4w\apps I have GDAL1.6.
I downloard and installed gdal17 and gdal18 and gdal16 in my OSGEO4w. When
run gdalinfo --version (in GRASS ) I still get 1.5 version.
When I run it in windows command line I still get 1.5. Then, in GRASS
mailing list a user suggested me to run gdal16.bat from c:\osgeo4w\bin and I
run it... I didn?'t get any error or warning but, still gdalinfo --version
is 1.5.4

How can I solve this?

Thanks
Luisa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/9d245cb1/attachment.html
From sebastian.ovide at gmail.com  Tue Nov 30 09:23:36 2010
From: sebastian.ovide at gmail.com (Sebastian E. Ovide)
Date: Tue Nov 30 09:24:01 2010
Subject: [gdal-dev] PG: does OGR2OGR set the SRID correctly ?
In-Reply-To: <1291114768.4cf4d91057a95@imp.free.fr>
References: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>
	<1291114768.4cf4d91057a95@imp.free.fr>
Message-ID: <AANLkTinzTGEaTr_WswLN+G2LEty5YQzU-S3TxCzzDqdv@mail.gmail.com>

I've replaced the -lco 27700 with -a_srs EPSG:27700

now select ST_SRID(wkb_geometry) from sebas

gives 4...

any ideas ?

On Tue, Nov 30, 2010 at 10:59 AM, Even Rouault <even.rouault@mines-paris.org
> wrote:

> Selon "Sebastian E. Ovide" <sebastian.ovide@gmail.com>:
> Sebastian,
>
> The option "-lco 27700" has no effect. The correct syntax would be
> something
> like "-lco SRID=27700", but there's no such option, so don't loose your
> time
> trying that ;-)
>
> The SRID is set automatically by comparing the SRS of the source layer with
> what
> exists in the spatial_ref_sys table (or the one you can set with the -a_srs
> EPSG:27700 as suggested by Jorge). If there's a match, then the SRID from
> spatial_ref_sys will be used. Otherwise the PG driver will add a new entry
> in
> the spatial_ref_sys table (and the SRID number will not be equal to the
> EPSG
> code). Make sure you've filled the spatial_ref_sys table
> with the appropriate PostGIS .sql script. The '3' you get sounds like the
> spatial_ref_sys table of this database was empty and that the PG driver
> added
> new entries in it.
>
> Best regards,
>
> > Hi All,
> >
> > I've just uploaded a shape with
> >
> > ogr2ogr -f PostgreSQL "PG:dbname='gis' host='10.0.1.40' port='5432'
> > user='gis' password='gis'"  sebas.shp -lco 27700 -lco PRECISION=NO
> -progress
> > -lco OVERWRITE=yes -lco dim=2 -nln sebas -overwrite
> >
> > but from
> >
> > select ST_SRID(wkb_geometry) from sebas;
> >
> > I'm getting 3
> >
> > (with
> >
> > select ST_SRID(ST_SetSRID(wkb_geometry,27700)) from sebas;
> >
> > I'm getting the right value )
> >
> > any ideas ?
> >
> >
> >
> > --
> > Sebastian E. Ovide
> >
>
>
>


-- 
Sebastian E. Ovide
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/837ff18f/attachment-0001.html
From even.rouault at mines-paris.org  Tue Nov 30 09:32:03 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Nov 30 09:32:12 2010
Subject: [gdal-dev] PG: does OGR2OGR set the SRID correctly ?
In-Reply-To: <AANLkTinzTGEaTr_WswLN+G2LEty5YQzU-S3TxCzzDqdv@mail.gmail.com>
References: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>
	<1291114768.4cf4d91057a95@imp.free.fr>
	<AANLkTinzTGEaTr_WswLN+G2LEty5YQzU-S3TxCzzDqdv@mail.gmail.com>
Message-ID: <1291127523.4cf50ae370d76@webmail.free.fr>

Sebastian,

I'd suggest checking what I wrote at the end of my previous email : "Make sure
you've filled the spatial_ref_sys table with the appropriate PostGIS .sql
script. The '3' you get sounds like the spatial_ref_sys table of this database
was empty and that the PG driver added new entries in it."

The mentionned .sql script is spatial_ref_sys.sql. See
http://postgis.refractions.net/documentation/manual-1.5/ch02.html#id2630392

> I've replaced the -lco 27700 with -a_srs EPSG:27700
>
> now select ST_SRID(wkb_geometry) from sebas
>
> gives 4...
>
> any ideas ?
>
> On Tue, Nov 30, 2010 at 10:59 AM, Even Rouault <even.rouault@mines-paris.org
> > wrote:
>
> > Selon "Sebastian E. Ovide" <sebastian.ovide@gmail.com>:
> > Sebastian,
> >
> > The option "-lco 27700" has no effect. The correct syntax would be
> > something
> > like "-lco SRID=27700", but there's no such option, so don't loose your
> > time
> > trying that ;-)
> >
> > The SRID is set automatically by comparing the SRS of the source layer with
> > what
> > exists in the spatial_ref_sys table (or the one you can set with the -a_srs
> > EPSG:27700 as suggested by Jorge). If there's a match, then the SRID from
> > spatial_ref_sys will be used. Otherwise the PG driver will add a new entry
> > in
> > the spatial_ref_sys table (and the SRID number will not be equal to the
> > EPSG
> > code). Make sure you've filled the spatial_ref_sys table
> > with the appropriate PostGIS .sql script. The '3' you get sounds like the
> > spatial_ref_sys table of this database was empty and that the PG driver
> > added
> > new entries in it.
> >
> > Best regards,
> >
> > > Hi All,
> > >
> > > I've just uploaded a shape with
> > >
> > > ogr2ogr -f PostgreSQL "PG:dbname='gis' host='10.0.1.40' port='5432'
> > > user='gis' password='gis'"  sebas.shp -lco 27700 -lco PRECISION=NO
> > -progress
> > > -lco OVERWRITE=yes -lco dim=2 -nln sebas -overwrite
> > >
> > > but from
> > >
> > > select ST_SRID(wkb_geometry) from sebas;
> > >
> > > I'm getting 3
> > >
> > > (with
> > >
> > > select ST_SRID(ST_SetSRID(wkb_geometry,27700)) from sebas;
> > >
> > > I'm getting the right value )
> > >
> > > any ideas ?
> > >
> > >
> > >
> > > --
> > > Sebastian E. Ovide
> > >
> >
> >
> >
>
>
> --
> Sebastian E. Ovide
>


From sebastian.ovide at gmail.com  Tue Nov 30 09:58:32 2010
From: sebastian.ovide at gmail.com (Sebastian E. Ovide)
Date: Tue Nov 30 09:58:55 2010
Subject: [gdal-dev] PG: does OGR2OGR set the SRID correctly ?
In-Reply-To: <1291127523.4cf50ae370d76@webmail.free.fr>
References: <AANLkTimqhHSDwz-U1VmZWjBr1aTo2Pc+5pZmcp_wViST@mail.gmail.com>
	<1291114768.4cf4d91057a95@imp.free.fr>
	<AANLkTinzTGEaTr_WswLN+G2LEty5YQzU-S3TxCzzDqdv@mail.gmail.com>
	<1291127523.4cf50ae370d76@webmail.free.fr>
Message-ID: <AANLkTikh7MbbRBPEV9SQFjSXQ7MmNt_51EGr6uL_fXyZ@mail.gmail.com>

Hi Even,

I've missed that part...

just to confirm that with *psql -d [yourdatabase] -f spatial_ref_sys.sql and
deleting those extra lines created automatically, now I can upload shapes
with the right SRID*

**thanks !

On Tue, Nov 30, 2010 at 2:32 PM, Even Rouault
<even.rouault@mines-paris.org>wrote:

> Sebastian,
>
> I'd suggest checking what I wrote at the end of my previous email : "Make
> sure
> you've filled the spatial_ref_sys table with the appropriate PostGIS .sql
> script. The '3' you get sounds like the spatial_ref_sys table of this
> database
> was empty and that the PG driver added new entries in it."
>
> The mentionned .sql script is spatial_ref_sys.sql. See
> http://postgis.refractions.net/documentation/manual-1.5/ch02.html#id2630392
>
> > I've replaced the -lco 27700 with -a_srs EPSG:27700
> >
> > now select ST_SRID(wkb_geometry) from sebas
> >
> > gives 4...
> >
> > any ideas ?
> >
> > On Tue, Nov 30, 2010 at 10:59 AM, Even Rouault <
> even.rouault@mines-paris.org
> > > wrote:
> >
> > > Selon "Sebastian E. Ovide" <sebastian.ovide@gmail.com>:
> > > Sebastian,
> > >
> > > The option "-lco 27700" has no effect. The correct syntax would be
> > > something
> > > like "-lco SRID=27700", but there's no such option, so don't loose your
> > > time
> > > trying that ;-)
> > >
> > > The SRID is set automatically by comparing the SRS of the source layer
> with
> > > what
> > > exists in the spatial_ref_sys table (or the one you can set with the
> -a_srs
> > > EPSG:27700 as suggested by Jorge). If there's a match, then the SRID
> from
> > > spatial_ref_sys will be used. Otherwise the PG driver will add a new
> entry
> > > in
> > > the spatial_ref_sys table (and the SRID number will not be equal to the
> > > EPSG
> > > code). Make sure you've filled the spatial_ref_sys table
> > > with the appropriate PostGIS .sql script. The '3' you get sounds like
> the
> > > spatial_ref_sys table of this database was empty and that the PG driver
> > > added
> > > new entries in it.
> > >
> > > Best regards,
> > >
> > > > Hi All,
> > > >
> > > > I've just uploaded a shape with
> > > >
> > > > ogr2ogr -f PostgreSQL "PG:dbname='gis' host='10.0.1.40' port='5432'
> > > > user='gis' password='gis'"  sebas.shp -lco 27700 -lco PRECISION=NO
> > > -progress
> > > > -lco OVERWRITE=yes -lco dim=2 -nln sebas -overwrite
> > > >
> > > > but from
> > > >
> > > > select ST_SRID(wkb_geometry) from sebas;
> > > >
> > > > I'm getting 3
> > > >
> > > > (with
> > > >
> > > > select ST_SRID(ST_SetSRID(wkb_geometry,27700)) from sebas;
> > > >
> > > > I'm getting the right value )
> > > >
> > > > any ideas ?
> > > >
> > > >
> > > >
> > > > --
> > > > Sebastian E. Ovide
> > > >
> > >
> > >
> > >
> >
> >
> > --
> > Sebastian E. Ovide
> >
>
>
>


-- 
Sebastian E. Ovide
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/db8fd740/attachment.html
From antonio.rocha at deimos.com.pt  Tue Nov 30 10:03:59 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Tue Nov 30 10:03:10 2010
Subject: [gdal-dev] ECMWF's GRIBs and NetCDFs
Message-ID: <4CF5125F.6070306@deimos.com.pt>

Hi

I'm using ECMWF's GRIB files and, I realized that there is a small error 
in geolocation (that can be fixed with gdal_translate). But, since I 
changed to winGRASS (that uses gdal1.5) I'm not able to use ECMWF's GRIB.
Since ECMWF's data is also provided in NetCDF, I would like to know if 
there is any known issue on using NetCDF data in GDAL1.5? (I didn't find 
anything).

Thanks
Antonio R.


__________ Information from ESET NOD32 Antivirus, version of virus signature database 5661 (20101130) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From jluis at ualg.pt  Tue Nov 30 10:25:39 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue Nov 30 10:25:51 2010
Subject: [gdal-dev] ECMWF's GRIBs and NetCDFs
In-Reply-To: <4CF5125F.6070306@deimos.com.pt>
References: <4CF5125F.6070306@deimos.com.pt>
Message-ID: <4CF51773.4010603@ualg.pt>

On 30-11-2010 15:03, Ant?nio Rocha wrote:
> Hi
>
> I'm using ECMWF's GRIB files and, I realized that there is a small 
> error in geolocation (that can be fixed with gdal_translate). But, 
> since I changed to winGRASS (that uses gdal1.5) I'm not able to use 
> ECMWF's GRIB.


> Since ECMWF's data is also provided in NetCDF, I would like to know if 
> there is any known issue on using NetCDF data in GDAL1.5? (I didn't 
> find anything).

Ant?nio,

A few

http://trac.osgeo.org/gdal/ticket/1672
http://trac.osgeo.org/gdal/ticket/3797

but probably the most important one (the flip up-down issue)

http://trac.osgeo.org/gdal/ticket/3575

Joaquim


>
> Thanks
> Antonio R.
>
>
> __________ Information from ESET NOD32 Antivirus, version of virus 
> signature database 5661 (20101130) __________
>
> The message was checked by ESET NOD32 Antivirus.
>
> http://www.eset.com
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From dingojones22 at gmail.com  Tue Nov 30 10:26:34 2010
From: dingojones22 at gmail.com (Kevin)
Date: Tue Nov 30 10:26:37 2010
Subject: [gdal-dev] Creating a range from given points
Message-ID: <AANLkTimHaAeRivUe3H45-g3bPn5tUe8-2P8oYWGeSyMm@mail.gmail.com>

 Dear list,

Please see in attached image what I am aiming to achieve with GDAL.
The tool creating it is here, but I don't have arcgis:
http://resources.arcgis.com/fr/gallery/file/geoprocessing/details?entryID=1FECB539-1422-2418-7FE1-77F9D088402D

The input is a set of points and a fixed grid (10x10km).
The output a subset of the grid based on the points with the cells
interlinked by some logic.

My idea (probably not optimal):
- convert the points to gridcell centroids
- draw a line between the point and its neighbours
- if the distance is inferior to a certain value -> intersect the line with
the grid and keep the intersected cells
- result: assemble resulting cells and export

Not being a spatial expert, I'm not sure though this is the good way. Could
you have a look and perhaps give me a few hints?

Thanks a lot!

Kevin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/0ce170fe/attachment.html
From jef at norbit.de  Tue Nov 30 10:35:03 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Nov 30 10:35:39 2010
Subject: [gdal-dev] Updating GDAL on OSGEO4w (windows
In-Reply-To: <AANLkTik9CmhHFaUhjwytJYLS3kxaJvp3o=BmfbNjVga0@mail.gmail.com>
References: <AANLkTik9CmhHFaUhjwytJYLS3kxaJvp3o=BmfbNjVga0@mail.gmail.com>
Message-ID: <20101130153503.GC22010@norbit.de>

Hi Luisa,

On Tue, 30. Nov 2010 at 14:21:30 +0000, Luisa Pe?a wrote:
>    I have OSGEO4w working with GDAL1.5 and, in c:\osgeo4w\apps I have
>    When I run it in windows command line I still get 1.5. Then, in GRASS
>    mailing list a user suggested me to run gdal16.bat from c:\osgeo4w\bin and
>    I run it... I didn?'t get any error or warning but, still gdalinfo
>    --version is 1.5.4

But you're running gdalinfo from the same shell, that you ran
gdal16/gdal17/gdaldev and your current directory is _not_ %OSGEO4W_ROOT%\bin?


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From luisapena1979 at gmail.com  Tue Nov 30 12:06:02 2010
From: luisapena1979 at gmail.com (=?ISO-8859-1?Q?Luisa_Pe=F1a?=)
Date: Tue Nov 30 12:06:03 2010
Subject: [gdal-dev] Re: Updating GDAL on OSGEO4w (windows)
Message-ID: <AANLkTincMuVa-MwbOLSKQFymwNWAqNdtOuyw1mXZBzsN@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal16_01.PNG
Type: image/png
Size: 17871 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/8b2c0ec8/gdal16_01.png
From warmerdam at pobox.com  Tue Nov 30 12:19:16 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 30 12:19:24 2010
Subject: [gdal-dev] Re: Updating GDAL on OSGEO4w (windows)
In-Reply-To: <AANLkTincMuVa-MwbOLSKQFymwNWAqNdtOuyw1mXZBzsN@mail.gmail.com>
References: <AANLkTincMuVa-MwbOLSKQFymwNWAqNdtOuyw1mXZBzsN@mail.gmail.com>
Message-ID: <4CF53214.1090801@pobox.com>

Luisa Pe?a wrote:
> 
> Hello Jurgen
> 
>     But you're running gdalinfo from the same shell, that you ran
>     gdal16/gdal17/gdaldev and your current directory is _not_
>     %OSGEO4W_ROOT%\bin?
> 
> 
> Uhm Maybe I wasn't clear.
> I run gdal16 in C:/osgeo4w/bin and then I did gdalinfo --version
> 
> I attached a screenshot that exemplifies it

Luisa,

The problem is that you were in C:\OSGeo4W\bin at the time you
ran gdalinfo.  Executables in the local directory take precidence
over what is at the front of the path.  If you did it from another
location you should see you are running the 1.6.x version.

Thanks for the screen shot - it helps at lot to see exactly what you
were doing in context to diagnose an issue like this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From luisapena1979 at gmail.com  Tue Nov 30 12:34:23 2010
From: luisapena1979 at gmail.com (=?ISO-8859-1?Q?Luisa_Pe=F1a?=)
Date: Tue Nov 30 12:34:25 2010
Subject: [gdal-dev] Re: Updating GDAL on OSGEO4w (windows)
In-Reply-To: <4CF53214.1090801@pobox.com>
References: <AANLkTincMuVa-MwbOLSKQFymwNWAqNdtOuyw1mXZBzsN@mail.gmail.com>
	<4CF53214.1090801@pobox.com>
Message-ID: <AANLkTikgmZGLdmDgz2=BF0GGim0xucd0YxN8f4Hiqa+h@mail.gmail.com>

You are absolutely rightr. It worked :)

But, if I close the shell and open again, GDAL15 is again the pre-defined
GDAL. How can I have this as defined?
Are you familiar with winGRASS on OSGEO4w? My idea is to change current gdal
(15) to gdal16 Or 18. Are you aware of anything regarding that?
Thanks
Luisa

2010/11/30 Frank Warmerdam <warmerdam@pobox.com>

> Luisa Pe?a wrote:
>
>>
>> Hello Jurgen
>>
>>    But you're running gdalinfo from the same shell, that you ran
>>    gdal16/gdal17/gdaldev and your current directory is _not_
>>    %OSGEO4W_ROOT%\bin?
>>
>>
>> Uhm Maybe I wasn't clear.
>> I run gdal16 in C:/osgeo4w/bin and then I did gdalinfo --version
>>
>> I attached a screenshot that exemplifies it
>>
>
> Luisa,
>
> The problem is that you were in C:\OSGeo4W\bin at the time you
> ran gdalinfo.  Executables in the local directory take precidence
> over what is at the front of the path.  If you did it from another
> location you should see you are running the 1.6.x version.
>
> Thanks for the screen shot - it helps at lot to see exactly what you
> were doing in context to diagnose an issue like this.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/dee75bb6/attachment.html
From warmerdam at pobox.com  Tue Nov 30 12:40:26 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 30 12:40:31 2010
Subject: [gdal-dev] Re: Updating GDAL on OSGEO4w (windows)
In-Reply-To: <AANLkTikgmZGLdmDgz2=BF0GGim0xucd0YxN8f4Hiqa+h@mail.gmail.com>
References: <AANLkTincMuVa-MwbOLSKQFymwNWAqNdtOuyw1mXZBzsN@mail.gmail.com>
	<4CF53214.1090801@pobox.com>
	<AANLkTikgmZGLdmDgz2=BF0GGim0xucd0YxN8f4Hiqa+h@mail.gmail.com>
Message-ID: <4CF5370A.8030908@pobox.com>

Luisa Pe?a wrote:
> You are absolutely rightr. It worked :)
> 
> But, if I close the shell and open again, GDAL15 is again the 
> pre-defined GDAL. How can I have this as defined?
> Are you familiar with winGRASS on OSGEO4w? My idea is to change current 
> gdal (15) to gdal16 Or 18. Are you aware of anything regarding that?

Luisa,

The "gdal16" command is just a bat file changing a few environment variables
for the local shell - primary the path.  It does not have any effect beyond
the current shell.

Also, it is affecting which GDAL utilities you pick up at the command line.
It does not affect which version of GDAL is used at runtime by things like
GRASS, MapServer or QGIS.  These are all linked against a particular
version of GDAL - in the case of GRASS 1.5.

So if you want to work with GRIB files I would suggest running "gdal16"
in a shell, and then using gdal_translate to convert the grib file into
a working format like GeoTIFF which you can subsequently use in GRASS.

My hope is that after the GDAL 1.8 release we will make GDAL 1.8 the
default version of GDAL in OSGeo4W and update GRASS and other packages
to use it.  The fact that 1.5 is still the default version in OSGeo4W
is my fault.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From luisapena1979 at gmail.com  Tue Nov 30 12:46:06 2010
From: luisapena1979 at gmail.com (=?ISO-8859-1?Q?Luisa_Pe=F1a?=)
Date: Tue Nov 30 12:46:08 2010
Subject: [gdal-dev] Re: Updating GDAL on OSGEO4w (windows)
In-Reply-To: <4CF5370A.8030908@pobox.com>
References: <AANLkTincMuVa-MwbOLSKQFymwNWAqNdtOuyw1mXZBzsN@mail.gmail.com>
	<4CF53214.1090801@pobox.com>
	<AANLkTikgmZGLdmDgz2=BF0GGim0xucd0YxN8f4Hiqa+h@mail.gmail.com>
	<4CF5370A.8030908@pobox.com>
Message-ID: <AANLkTino--w=sviYDm9k-kg9LXMZ=8hfV+hzZZWPmZ+j@mail.gmail.com>

First of alll, thanks for sending this to the mailing list.

>
> The "gdal16" command is just a bat file changing a few environment
> variables
> for the local shell - primary the path.  It does not have any effect beyond
> the current shell.
>
> Ok. I get it...


> Also, it is affecting which GDAL utilities you pick up at the command line.
> It does not affect which version of GDAL is used at runtime by things like
> GRASS, MapServer or QGIS.  These are all linked against a particular
> version of GDAL - in the case of GRASS 1.5.
>
> Is it possible to change my GDAL version at runtime? (seems not)



> So if you want to work with GRIB files I would suggest running "gdal16"
> in a shell, and then using gdal_translate to convert the grib file into
> a working format like GeoTIFF which you can subsequently use in GRASS.
>
> Thanks for the suggestion. It seems a good one.


> My hope is that after the GDAL 1.8 release we will make GDAL 1.8 the
> default version of GDAL in OSGeo4W and update GRASS and other packages
> to use it.  The fact that 1.5 is still the default version in OSGeo4W
> is my fault.
>
>
Luisa


>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/bd6861a6/attachment.html
From yggdrasil at gmx.co.uk  Tue Nov 30 14:51:57 2010
From: yggdrasil at gmx.co.uk (Johnny)
Date: Tue Nov 30 14:58:39 2010
Subject: [gdal-dev] No Simplify function
In-Reply-To: <4CF506ED.8090006@pobox.com> (Frank Warmerdam's message of "Tue, 
	30 Nov 2010 09:15:09 -0500")
References: <1291125119431-5788134.post@n2.nabble.com>
	<4CF506ED.8090006@pobox.com>
Message-ID: <87vd3ea8te.fsf@gmx.co.uk>

Frank Warmerdam <warmerdam@pobox.com> writes:

> Namrata wrote:
>> Hi,
>>  I have installed GDAL 1.7.1 with GEOS 3.0.0 on my Solaris
>> machine. But I
>> cannot see any function as Simplify() as given in the tutorial:
>>
>>  virtual OGRGeometry *  Simplify (double dTolerance) const   --
>> Simplify the geometry. 
>>
>> Please can you guide me if I am missing anything here or do I need latest
>> GDAL (1.7.3) installed
>>
>> Eagerly waiting for your reply. 
>
> Namrata,
>
> A brief review suggests to me that the Simplify method was added since
> the 1.7 release, and that it has not been backported to the 1.7.x stable
> release series.  The only way to get it is to download a development
> snapshot and build from that.  Daily development snapshots are available
> at:
>
>   http://www.gdal.org/daily
>
> Best regards,

I found that this site
http://www.gdal.org/ogr/classOGRGeometry.html#fd3ea0ffa1e2994427032d0212206ccf
states that simplify is available from version 1.8.0.

\J
From ssobieraj at cdlsystems.com  Tue Nov 30 16:21:53 2010
From: ssobieraj at cdlsystems.com (ssobieraj)
Date: Tue Nov 30 16:21:54 2010
Subject: [gdal-dev] Require Help Transforming into Equirectangular
Message-ID: <1291152113579-5789691.post@n2.nabble.com>


Hello,

I'm trying to use FWTools to transform from an arbitrary Datum/Projection
pair in an arbitrary format into a Geographic (lat/lon) projection with the
WGS84 ellipsoid in GeoTiff format.

To do this, I've tried the following:

gdalwarp -s_srs Input.prj -t_srs Output.prj Input.xyz Output.tif

Where Input.prj is formatted in Well-Known-Text format and contains
information specifically for the Input.xyz file.
Output.prj is also in WKT format but contains the following:

GEOGCS["Geographic Coordinate
System",DATUM["WGS84",SPHEROID["WGS84",6378137,298.257223560493]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]

***
I've been successful in using this set-up for transforming from UTM
projection in WGS84 datum, but I am having trouble transforming from
Sinusoidal projection in RT90 datum.  The output file is no longer skewed in
the Sinusoidal projection, but I cannot seem to get the datum information to
coincide, resulting in a 10+ km discrepancy.

A copy of the WKT-formatted PRJ file is seen below:

PROJCS["Sinusoidal",GEOGCS["Geographic Coordinate
System",DATUM["RT90",SPHEROID["Bessel
1841",6377397.155,299.1528131060786]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Sinusoidal"],PARAMETER["central_meridian",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1]]

Any ideas as to why I would be experiencing this offset?



Regards,
Scott


-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Require-Help-Transforming-into-Equirectangular-tp5789691p5789691.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From bclay at ball.com  Tue Nov 30 21:27:37 2010
From: bclay at ball.com (Clay, Bruce)
Date: Tue Nov 30 21:30:11 2010
Subject: [gdal-dev] unresolved CPLAtomicAdd
Message-ID: <C482FF98AE985A47B8C982FD429C9E34D8C003@daytonmsg2k3.AERO.BALL.COM>

I have been using GDAL 1.7.1 for a while now in debug mode without problems.  I recently compiled GDAL in release mode and did not see any errors during the build process.  
 
When I build my application I get the following link error : "unresolved external symbol _CPLAtomicAdd".  I can see cpl_atomic_ops.obj after the build process so I know the method is getting compiled.  I don't have this error in debug mode. 

Has anyone seen this problem and have a fix?

Bruce

 

 

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20101130/824344c7/attachment.html
From joseph4774 at hotmail.com  Tue Nov 30 21:44:51 2010
From: joseph4774 at hotmail.com (GeoJoda)
Date: Tue Nov 30 21:44:53 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in Virsual
 Studio 2010
In-Reply-To: <1290777059301-5777198.post@n2.nabble.com>
References: <AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
	<4CED7582.7040302@pobox.com>
	<1290694464267-5774457.post@n2.nabble.com>
	<4CEE8532.2010307@pobox.com>
	<1290768752118-5776779.post@n2.nabble.com>
	<4CEF9760.5040601@free.fr>
	<1290777059301-5777198.post@n2.nabble.com>
Message-ID: <1291171491798-5790477.post@n2.nabble.com>


is nobody who can answer this issues under, or maybe I have to move this
issue to the MapServer user

otherwise I thank all who participate in this forum.

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-can-I-compile-GDAL-1-7-3-with-ecw-4-1-in-Virsual-Studio-2010-tp5765934p5790477.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Tue Nov 30 22:38:59 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Nov 30 22:39:04 2010
Subject: [gdal-dev] Re: how can I compile GDAL 1.7.3 with ecw 4.1 in
	Virsual Studio 2010
In-Reply-To: <1291171491798-5790477.post@n2.nabble.com>
References: <AANLkTik8+HAoevHoSxYKcRhc5h=7Dtc4-kJrb2d8wrtu@mail.gmail.com>
	<1290610094435-5770586.post@n2.nabble.com>
	<1290625670283-5771670.post@n2.nabble.com>
	<AANLkTin2FvO8tPYb9M-92DWvQuCSSBTZGL4bRv2EZY6L@mail.gmail.com>
	<4CED7582.7040302@pobox.com> <1290694464267-5774457.post@n2.nabble.com>
	<4CEE8532.2010307@pobox.com> <1290768752118-5776779.post@n2.nabble.com>
	<4CEF9760.5040601@free.fr> <1290777059301-5777198.post@n2.nabble.com>
	<1291171491798-5790477.post@n2.nabble.com>
Message-ID: <4CF5C353.1000300@pobox.com>

GeoJoda wrote:
> is nobody who can answer this issues under, or maybe I have to move this
> issue to the MapServer user
> 
> otherwise I thank all who participate in this forum.

GeoJoda,

I don't see any reason you are likely to have better luck on the
MapServer list.  Reviewing this thread I am left with the impression
you have received lots of assistance, but you are just annoyed that no
one has a step by step process for you to do it with the particular
version of the SDK, and compiler you choose.  If you want something
very particular, you might consider paying someone for support.

I've managed to build the ECW 4.1 SDK against GDAL with VS2008 without
any unusual problems, but it is isn't something I'd wish on someone
not experienced in development on windows - in particular building a
mix of stuff.  And frankly, holding the hand of someone who doesn't
really know what they are doing isn't much fun.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ole.nielsen at aifdr.org  Tue Nov 30 23:44:09 2010
From: ole.nielsen at aifdr.org (Ole Nielsen)
Date: Tue Nov 30 23:41:43 2010
Subject: [gdal-dev] GDAL contouring problem
Message-ID: <01744CEB055A2D46A1C0E02E68F90DCB02C240C07C39@Exchange.aifdr.org>

Thanks for explaining the reason why the numeric value of 0.00 doesn't work as a fixed level in gdal_contour while the value of 0 does.
I understand now the reason for this.
However I would have thought one could replace the test for 'zeroness' in
(atof(argv[i+1]) != 0 || EQUAL(argv[i+1], "0"))
with a test for whether argv]i+1] is not empty and can be converted to a numeric value.
This would be a duck-typing approach and more robust in my humble opinion.

Best regards
Ole Nielsen


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of gdal-dev-request@lists.osgeo.org
Sent: Monday, 29 November 2010 8:41 PM
To: gdal-dev@lists.osgeo.org
Subject: gdal-dev Digest, Vol 78, Issue 64

Send gdal-dev mailing list submissions to
        gdal-dev@lists.osgeo.org

To subscribe or unsubscribe via the World Wide Web, visit
        http://lists.osgeo.org/mailman/listinfo/gdal-dev
or, via email, send a message with subject or body 'help' to
        gdal-dev-request@lists.osgeo.org

You can reach the person managing the list at
        gdal-dev-owner@lists.osgeo.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of gdal-dev digest..."


Today's Topics:

   1. Re: GDAL contouring problem (Frank Warmerdam)
   2. Re: GDAL contouring problem (Francis Markham)
   3. Re: Delete a sqlite database (Ludovic Granjon)
   4. Re: Error building GDAL with GEOS on Solaris (Namrata)
   5. Making non-rectangular image edges transparent
      (Just van den Broecke)
   6. geotiff conflict (Julien Malik)
   7. Re: RFC 31 - OGR 64bit Support (David Burken)


----------------------------------------------------------------------

Message: 1
Date: Sun, 28 Nov 2010 23:24:56 -0500
From: Frank Warmerdam <warmerdam@pobox.com>
Subject: Re: [gdal-dev] GDAL contouring problem
To: Ole Nielsen <ole.nielsen@aifdr.org>
Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>,
        "adelebear@me.com" <adelebear@me.com>
Message-ID: <4CF32B18.2030208@pobox.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Ole Nielsen wrote:
> I am posting this again without test files attached due the 50K size
> limit. Anyone who wants to see them, please contact me directly.
>
>
>
> --
>
> We have observed interesting anomaly with gdal_contour when one of the
> fixed levels is zero.
>
> If the zero contour is expressed as 0.0 (or indeed 0.0000) gdal_contour
> replies with the standard Usage message (see below). If the zero contour
> is expressed as the integer 0 (or 0.00000001) it works and produces the
> expected contours.

Ole,

The gdal_contour program has some rather hokey heuristics to try and
recognise the end of the list of contour levels.  The code looks like:

         else if( EQUAL(argv[i],"-fl") && i < argc-1 )
         {
             while( i < argc-1
                    && nFixedLevelCount
                              < (int)(sizeof(adfFixedLevels)/sizeof(double))
                    && (atof(argv[i+1]) != 0 || EQUAL(argv[i+1],"0"))
                    && !EQUAL(argv[i+1], "-3d"))
                 adfFixedLevels[nFixedLevelCount++] = atof(argv[++i]);
         }

So basically, it assumes everything is a "level" until something that
has a numeric value of 0 is encounter that isn't the specific string
"0".  So your analysis of the problem is essentially correct, but it is
more or less intentional as we try to support a list of levels with no
explicit "end of list" marker in the arguments to the command.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



------------------------------

Message: 2
Date: Mon, 29 Nov 2010 16:48:56 +1100
From: Francis Markham <fmarkham@gmail.com>
Subject: Re: [gdal-dev] GDAL contouring problem
To: Frank Warmerdam <warmerdam@pobox.com>
Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>,      Ole Nielsen
        <ole.nielsen@aifdr.org>, "adelebear@me.com" <adelebear@me.com>
Message-ID:
        <AANLkTi=xCXQx=Nx1hbnjqMb6WVr3VfL6AoQPQHeKx1nQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Is there any reason not to include a heuristic that uses strtod() or
similar to test for the zeroness of the last argument?

-Francis Markham

On 29 November 2010 15:24, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ole Nielsen wrote:
>>
>> I am posting this again without test files attached due the 50K size
>> limit. Anyone who wants to see them, please contact me directly.
>>
>>
>> --
>>
>> We have observed interesting anomaly with gdal_contour when one of the
>> fixed levels is zero.
>>
>> If the zero contour is expressed as 0.0 (or indeed 0.0000) gdal_contour
>> replies with the standard Usage message (see below). If the zero contour is
>> expressed as the integer 0 (or 0.00000001) it works and produces the
>> expected contours.
>
> Ole,
>
> The gdal_contour program has some rather hokey heuristics to try and
> recognise the end of the list of contour levels. ?The code looks like:
>
> ? ? ? ?else if( EQUAL(argv[i],"-fl") && i < argc-1 )
> ? ? ? ?{
> ? ? ? ? ? ?while( i < argc-1
> ? ? ? ? ? ? ? ? ? && nFixedLevelCount
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? < (int)(sizeof(adfFixedLevels)/sizeof(double))
> ? ? ? ? ? ? ? ? ? && (atof(argv[i+1]) != 0 || EQUAL(argv[i+1],"0"))
> ? ? ? ? ? ? ? ? ? && !EQUAL(argv[i+1], "-3d"))
> ? ? ? ? ? ? ? ?adfFixedLevels[nFixedLevelCount++] = atof(argv[++i]);
> ? ? ? ?}
>
> So basically, it assumes everything is a "level" until something that
> has a numeric value of 0 is encounter that isn't the specific string
> "0". ?So your analysis of the problem is essentially correct, but it is
> more or less intentional as we try to support a list of levels with no
> explicit "end of list" marker in the arguments to the command.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


