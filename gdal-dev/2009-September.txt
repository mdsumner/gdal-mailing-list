From peifer at gmx.eu  Tue Sep  1 02:39:36 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep  1 02:39:23 2009
Subject: [gdal-dev] Re: Strange things with gdalwarp ...
In-Reply-To: <loom.20090828T131600-676@post.gmane.org>
References: <CC197224AC75CE4DB23F739B16891B86E34376@tikka.haapa.mmm.fi>	<4A8AF78C.3030109@gmx.eu>	<loom.20090820T114441-892@post.gmane.org>	<4A8D69C8.7060503@pobox.com>	<4A8FB1A2.3080401@gmx.eu>	<4A8FBB20.2040509@xpam.de>	<4A9286A8.70106@gmx.eu>	<4A928A6E.4050206@xpam.de>
	<4A958410.3040802@gmx.eu> <loom.20090828T131600-676@post.gmane.org>
Message-ID: <4A9CC1A8.80502@gmx.eu>

Jukka Rahkonen wrote:
> Hermann Peifer <peifer <at> gmx.eu> writes:
> 
>> Adam wrote:
>>> You can test with http://pastebin.com/m45e46f53
>>> Also remember to use -wo SKIP_NOSOURCE=YES
>>>
>> Adam,
>>
>> Will your patch appear in trunk/gdal/alg at some point in time?
> 
> 
> Hi,
> 
> It would be very interesting to
> test the effect of this patch with JPEG2000 images ...

There have been no recent changes to 
http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdalwarpoperation.cpp

It looks like you and me are the only users interested in this patch 
which makes gdalwarp so much faster, simply by avoiding warp operations 
on irrelevant pixels.

Hermann
From agnesyipck at gmail.com  Tue Sep  1 03:37:53 2009
From: agnesyipck at gmail.com (agnes123)
Date: Tue Sep  1 03:37:56 2009
Subject: [Gdal-dev] shifting in modis data reprojection
Message-ID: <1251790673291-3558886.post@n2.nabble.com>


Hi,

I am now dealing with the reprojection of modis 500m data to WGS84 by
gdalwarp. 

I defined the original and target projection parameters of modis data as 

srs='+proj=sinu +R=6371007.181 +nadgrids=@null +wktext'
trs='+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' 

and found that the result still had y direction shifting.

Why would these happen?

Moreover,I merged a series of hdf files (by gdal_merge.py) and then
reprojected it. I noticed that some kind of shifting existed when compared
with the individual reprojected hdf file.

Did I do something wrong?

Regards,
Agnes 
-- 
View this message in context: http://n2.nabble.com/shifting-in-modis-data-reprojection-tp3558886p3558886.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From anders.spam at hotmail.com  Tue Sep  1 04:26:42 2009
From: anders.spam at hotmail.com (ab09)
Date: Tue Sep  1 04:26:44 2009
Subject: [Gdal-dev] gdalwarp with ENVISAT N1
Message-ID: <1251793602744-3559048.post@n2.nabble.com>


Dear mailing list,

I'm having trouble geocoding image files in Envisat N1 format. I believe
that the best way is to use gdalwarp with the geoloc flag, since the
geo-information consists of large arrays of GCPs. But this fails with the
error "unable to compute a geoloc_array based transformation..". 
I can extract the latitude and longitude rasters from an N1 file and put
them into separate tif files. Is it possible to use them as input to
gdalwarp, and how does the command look like in that case?

I have tried to geocode using thin plate spline (tps), but the execution
time is extremely long, around 2 hours for each file. I tried to reduce the
number of GCPs by a factor 20 (using gdal_translate etc.), but it had no
effect on the execution time.

Any help with this would be really appreciated.
Thanks, 
Anders
-- 
View this message in context: http://n2.nabble.com/gdalwarp-with-ENVISAT-N1-tp3559048p3559048.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jorsion at gmail.com  Tue Sep  1 03:44:12 2009
From: jorsion at gmail.com (jor sion)
Date: Tue Sep  1 04:46:31 2009
Subject: [gdal-dev] about the rank of a dataset
Message-ID: <8c2bdf730909010044r3c2ecef8v19786f37de5187c0@mail.gmail.com>

Hi,

Is there any method to get the rank value of a dataset?

-- 
JoSn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/7584596d/attachment.html
From atubar at 126.com  Tue Sep  1 08:40:57 2009
From: atubar at 126.com (atubar)
Date: Tue Sep  1 09:11:57 2009
Subject: [gdal-dev] Version of lib HDF5 Included in Gdal 1.62
Message-ID: <12202759.364831251808857550.JavaMail.coremail@bj126app31.126.com>

I'm a freshman, and I want to support HDF5 format in my program by using gdal, which version of lib HDF5 should be added to Gdal, 1.6.X or 1.8.x?
It seems that 1.8.x has taken great changes. And it seems that gdal recommands 1.6.x, for c:\warmerda\supportlibs\hdf5\5-164-win
listed in nmake.opt.
By the way, are all files of HDF5 format  suported by gdal integrated with HDF5 ? I used a sample data from HDFview package, there was an error of stack overflow while working with VS2008?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/7f752715/attachment.html
From szekerest at gmail.com  Tue Sep  1 09:34:24 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Sep  1 09:34:28 2009
Subject: [gdal-dev] Version of lib HDF5 Included in Gdal 1.62
In-Reply-To: <12202759.364831251808857550.JavaMail.coremail@bj126app31.126.com>
References: <12202759.364831251808857550.JavaMail.coremail@bj126app31.126.com>
Message-ID: <f3b73b7d0909010634u19d72cads3636836752407fdc@mail.gmail.com>

Hi,

The automated builders at http://vbkto.dyndns.org:1280/sdk  use hdf5-1.8.2
but I suspect the recent stable version (1.8.3) would also work.
You could also download ready to use SDK packages from this location to
compile gdal with hdf5 easily.

Best regards,

Tamas


2009/9/1 atubar <atubar@126.com>

> I'm a freshman, and I want to support HDF5 format in my program by using
> gdal, which version of lib HDF5 should be added to Gdal, 1.6.X or 1.8.x?
> It seems that 1.8.x has taken great changes. And it seems that gdal
> recommands 1.6.x, for c:\warmerda\supportlibs\hdf5\5-164-win
> listed in nmake.opt.
> By the way, are all files of HDF5 format  suported by gdal integrated with
> HDF5 ? I used a sample data from HDFview package, there was an error of
> stack overflow while working with VS2008?
>
>
>
> ------------------------------
> 没有广告的终身免费邮箱,www.yeah.net <http://www.yeah.net/?from=footer>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/0c3c6271/attachment.html
From andy at planetnomad.com  Tue Sep  1 10:49:16 2009
From: andy at planetnomad.com (coastalrocket)
Date: Tue Sep  1 10:49:18 2009
Subject: [Gdal-dev] c# corner coordinates in latitude / longitude?
Message-ID: <1251816556618-3560997.post@n2.nabble.com>


Hello all,

I'm very much new to GDAL and have been for the last couple of days
following the c# implementation examples. I have noticed that the corner
coordinates output of gdalinfo for my image will contain the projected
coordinate values followed by the unprojected latitude / longitude values. I
have not been able to find a similar technique in the c# examples or through
the class descriptions. I suppose I can take the projection information and
turn to Proj4 to convert the projected coordinates but since gdalinfo in
command line form is spitting out these values I thought they would be
available through the c# gdal libraries. Is this the case or am i missing
something?

Many thanks,
Andrew

In the example GDALInfo.cs

Console.WriteLine( "Corner Coordinates:" );
            Console.WriteLine("  Upper Left (" + GDALInfoGetPosition( ds,
0.0, 0.0) + ")");
            Console.WriteLine("  Lower Left (" + GDALInfoGetPosition( ds,
0.0, ds.RasterYSize) + ")");
            Console.WriteLine("  Upper Right (" + GDALInfoGetPosition( ds,
ds.RasterXSize, 0.0) + ")");
            Console.WriteLine("  Lower Right (" + GDALInfoGetPosition( ds,
ds.RasterXSize, ds.RasterYSize) + ")");
            Console.WriteLine("  Center (" + GDALInfoGetPosition( ds,
ds.RasterXSize / 2, ds.RasterYSize / 2) + ")");
            Console.WriteLine("");

and..

private static string GDALInfoGetPosition(Dataset ds, double x, double y)
    {
        double[] adfGeoTransform = new double[6];
        double  dfGeoX, dfGeoY;
        ds.GetGeoTransform(adfGeoTransform);

        dfGeoX = adfGeoTransform[0] + adfGeoTransform[1] * x +
adfGeoTransform[2] * y;
        dfGeoY = adfGeoTransform[3] + adfGeoTransform[4] * x +
adfGeoTransform[5] * y;

        return dfGeoX.ToString() + ", " + dfGeoY.ToString();
    }

Example of gdalinfo..

Corner Coordinates: 
Upper Left  (  228000.000,   22200.000) (  2d 2'53.37"E,  0d12'2.77"N) 
Lower Left  (  228000.000,   22000.000) (  2d 2'53.37"E,  0d11'56.26"N) 
Upper Right (  228200.000,   22200.000) (  2d 2'59.84"E,  0d12'2.77"N) 
Lower Right (  228200.000,   22000.000) (  2d 2'59.84"E,  0d11'56.26"N) 
Center      (  228100.000,   22100.000) (  2d 2'56.61"E,  0d11'59.51"N) 

Apologies if this post appears twice. My first was rejected through me not
subscribing before sending. 
-- 
View this message in context: http://n2.nabble.com/c-corner-coordinates-in-latitude-longitude-tp3560997p3560997.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From randyqiuxy at hotmail.com  Tue Sep  1 11:34:20 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Tue Sep  1 11:34:26 2009
Subject: [gdal-dev] OGR about s_57
Message-ID: <BLU137-DS207C070BD16AAC36CCFD0C3F10@phx.gbl>

Hi, everyone,

   I’m now interesting in displaying ENCs. 

   I know the OGR can support the s57 format files and it can get some data
like point、line、polygon. But it cannot support the styles as Mr Frank
Warmerdam told me. Now, I have such questions:

1.       Where can I know what OGR does support and does not support about
s57 ? Does it get the symbols(no, right?)?

2.       If I have got the color and symbols, How could I know which kind of
color the line(or polygon or something else which I get with the help of
OGR) should match with?

3.       Has anyone done such things, can you help me something? 

4.       I know the file “IHO ECDIS Presentation Library” can help me but
I don’t know how to get it, can you?

Thanks with your help and suggestion!

Best regards,

                    Randy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/aa5a52f8/attachment-0001.html
From daniele.romagnoli at geo-solutions.it  Tue Sep  1 12:28:49 2009
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Tue Sep  1 12:28:51 2009
Subject: [gdal-dev] is Antarctic Polar Stereographic (EPSG:3031) properly
	handled by GDAL?
Message-ID: <7221db410909010928k331b578h907eaa79187007ec@mail.gmail.com>

Hi list,
I'm working on a geotiff image which is projected as EPSG:3031 (Antarctic
Polar Stereographic).
When running the last fwtools's gdalinfo, I get the following:

Coordinate System is:
PROJCS["WGS 84 / Antarctic Polar Stereographic",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235630016,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","3031"]]

It seems that the projection part is missing (taking a look here:
http://spatialreference.org/ref/epsg/3031/prettywkt/)
Also trying to run a gdal_translate specifying -a_srs EPSG:3031 the
projection definition of the newly created tiff is still missing.
Does anyone has additional information on that topic?

Thank you very much.
Regards,
Daniele

-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/8924d47e/attachment.html
From chaitanya.ch at gmail.com  Tue Sep  1 12:24:34 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Sep  1 12:29:36 2009
Subject: [Gdal-dev] c# corner coordinates in latitude / longitude?
In-Reply-To: <1251816556618-3560997.post@n2.nabble.com>
References: <1251816556618-3560997.post@n2.nabble.com>
Message-ID: <eb502d880909010924r71707a80lf7f255995e32cffa@mail.gmail.com>

Andrew,

Take a look at how it is done in gdalinfo here:
http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/gdalinfo.c#L680

On Tue, Sep 1, 2009 at 8:19 PM, coastalrocket <andy@planetnomad.com> wrote:

>
> Hello all,
>
> I'm very much new to GDAL and have been for the last couple of days
> following the c# implementation examples. I have noticed that the corner
> coordinates output of gdalinfo for my image will contain the projected
> coordinate values followed by the unprojected latitude / longitude values.
> I
> have not been able to find a similar technique in the c# examples or
> through
> the class descriptions. I suppose I can take the projection information and
> turn to Proj4 to convert the projected coordinates but since gdalinfo in
> command line form is spitting out these values I thought they would be
> available through the c# gdal libraries. Is this the case or am i missing
> something?
>
> Many thanks,
> Andrew
>
> In the example GDALInfo.cs
>
> Console.WriteLine( "Corner Coordinates:" );
>            Console.WriteLine("  Upper Left (" + GDALInfoGetPosition( ds,
> 0.0, 0.0) + ")");
>            Console.WriteLine("  Lower Left (" + GDALInfoGetPosition( ds,
> 0.0, ds.RasterYSize) + ")");
>            Console.WriteLine("  Upper Right (" + GDALInfoGetPosition( ds,
> ds.RasterXSize, 0.0) + ")");
>            Console.WriteLine("  Lower Right (" + GDALInfoGetPosition( ds,
> ds.RasterXSize, ds.RasterYSize) + ")");
>            Console.WriteLine("  Center (" + GDALInfoGetPosition( ds,
> ds.RasterXSize / 2, ds.RasterYSize / 2) + ")");
>            Console.WriteLine("");
>
> and..
>
> private static string GDALInfoGetPosition(Dataset ds, double x, double y)
>    {
>        double[] adfGeoTransform = new double[6];
>        double  dfGeoX, dfGeoY;
>        ds.GetGeoTransform(adfGeoTransform);
>
>        dfGeoX = adfGeoTransform[0] + adfGeoTransform[1] * x +
> adfGeoTransform[2] * y;
>        dfGeoY = adfGeoTransform[3] + adfGeoTransform[4] * x +
> adfGeoTransform[5] * y;
>
>        return dfGeoX.ToString() + ", " + dfGeoY.ToString();
>    }
>
> Example of gdalinfo..
>
> Corner Coordinates:
> Upper Left  (  228000.000,   22200.000) (  2d 2'53.37"E,  0d12'2.77"N)
> Lower Left  (  228000.000,   22000.000) (  2d 2'53.37"E,  0d11'56.26"N)
> Upper Right (  228200.000,   22200.000) (  2d 2'59.84"E,  0d12'2.77"N)
> Lower Right (  228200.000,   22000.000) (  2d 2'59.84"E,  0d11'56.26"N)
> Center      (  228100.000,   22100.000) (  2d 2'56.61"E,  0d11'59.51"N)
>
> Apologies if this post appears twice. My first was rejected through me not
> subscribing before sending.
> --
> View this message in context:
> http://n2.nabble.com/c-corner-coordinates-in-latitude-longitude-tp3560997p3560997.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


Best regards,
-- 
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/a3f6fb1a/attachment.html
From atubar at 126.com  Tue Sep  1 12:39:27 2009
From: atubar at 126.com (atubar)
Date: Tue Sep  1 13:10:08 2009
Subject: [gdal-dev] Version of lib HDF5 Included in Gdal 1.62
In-Reply-To: <f3b73b7d0909010634u19d72cads3636836752407fdc@mail.gmail.com>
References: <f3b73b7d0909010634u19d72cads3636836752407fdc@mail.gmail.com>
	<12202759.364831251808857550.JavaMail.coremail@bj126app31.126.com>
Message-ID: <17537965.487691251823167458.JavaMail.coremail@bj126app38.126.com>

Hello, thanks for your help.
 
I check the release-1500-gdal-1-6-mapserver-5-4 package, and find out that gdal_HDF5.dll and gdal_HDF5Image.dll are under the folder \bin\gdal\plugins. To make HDF5 work well, these two dlls are essential, is it?
 
By the way, It seems that these two dlls are copied to that folder automatically by Makefile file under the root of release-1500-dev.
If I compile gdal 1.6.2 with lib hdf5 by myself, I should copy gdal_HDF5.dll and gdal_HDF5Image.dll manually?
Is there a way to do this automatically while compiling by myself?
 
And it seems that PLUGINDIR = $(BINDIR)\gdalplugins listed in nmake.opt of gdal is useless.


在2009-09-01 21:34:24，"Tamas Szekeres" <szekerest@gmail.com> 写道：
Hi,

The automated builders at http://vbkto.dyndns.org:1280/sdk  use hdf5-1.8.2 but I suspect the recent stable version (1.8.3) would also work.
You could also download ready to use SDK packages from this location to compile gdal with hdf5 easily.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090902/5d3d123c/attachment.html
From neteler at osgeo.org  Tue Sep  1 13:27:48 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Tue Sep  1 13:28:10 2009
Subject: [gdal-dev] Re: Strange things with gdalwarp ...
In-Reply-To: <4A9CC1A8.80502@gmx.eu>
References: <CC197224AC75CE4DB23F739B16891B86E34376@tikka.haapa.mmm.fi> 
	<loom.20090820T114441-892@post.gmane.org> <4A8D69C8.7060503@pobox.com> 
	<4A8FB1A2.3080401@gmx.eu> <4A8FBB20.2040509@xpam.de>
	<4A9286A8.70106@gmx.eu> 
	<4A928A6E.4050206@xpam.de> <4A958410.3040802@gmx.eu>
	<loom.20090828T131600-676@post.gmane.org> <4A9CC1A8.80502@gmx.eu>
Message-ID: <86782b610909011027j55bb5952o70c7979dcbff94ec@mail.gmail.com>

On Tue, Sep 1, 2009 at 8:39 AM, Hermann Peifer<peifer@gmx.eu> wrote:
> Jukka Rahkonen wrote:
>>
>> Hermann Peifer <peifer <at> gmx.eu> writes:
>>
>>> Adam wrote:
>>>>
>>>> You can test with http://pastebin.com/m45e46f53
>>>> Also remember to use -wo SKIP_NOSOURCE=YES
>>>>
>>> Adam,
>>>
>>> Will your patch appear in trunk/gdal/alg at some point in time?
>>
>>
>> Hi,
>>
>> It would be very interesting to
>> test the effect of this patch with JPEG2000 images ...
>
> There have been no recent changes to
> http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdalwarpoperation.cpp
>
> It looks like you and me are the only users interested in this patch which
> makes gdalwarp so much faster, simply by avoiding warp operations on
> irrelevant pixels.

I am also interested but didn't have time to try (was on the road)...
So we are at least three :)

Markus
From warmerdam at pobox.com  Tue Sep  1 13:44:54 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep  1 13:44:47 2009
Subject: [gdal-dev] about the rank of a dataset
In-Reply-To: <8c2bdf730909010044r3c2ecef8v19786f37de5187c0@mail.gmail.com>
References: <8c2bdf730909010044r3c2ecef8v19786f37de5187c0@mail.gmail.com>
Message-ID: <4A9D5D96.4010707@pobox.com>

jor sion wrote:
> Hi,
>  
> Is there any method to get the rank value of a dataset?

JoSn,

The rank of a GDALDataset is implicitly three x, y and band dimensions.
The band count may be one in which case you can think of it as a rank-2
array.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Sep  1 13:46:56 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep  1 13:46:43 2009
Subject: [gdal-dev] OGR about s_57
In-Reply-To: <BLU137-DS207C070BD16AAC36CCFD0C3F10@phx.gbl>
References: <BLU137-DS207C070BD16AAC36CCFD0C3F10@phx.gbl>
Message-ID: <4A9D5E10.8020003@pobox.com>

Randy wrote:
> Hi, everyone,
>=20
>    I=A1=AFm now interesting in displaying ENCs.
>=20
>    I know the OGR can support the s57 format files and it can get some=20
> data like point=A1=A2line=A1=A2polygon. But it cannot support the style=
s as Mr=20
> Frank Warmerdam told me. Now, I have such questions:
>=20
> 1.       Where can I know what OGR does support and does not support=20
> about s57 ? Does it get the symbols(no, right?)?

Randy,

OGR does not read the actual graphical symbols.  For instance,
we might have a feature from the WRECKS layer like below with
various valuable attributes, but actual wreck symbol.

OGRFeature(WRECKS):2163
  RCID (Integer) =3D 2164
  PRIM (Integer) =3D 1
  GRUP (Integer) =3D 2
  OBJL (Integer) =3D 159
  RVER (Integer) =3D 1
  AGEN (Integer) =3D 540
  FIDN (Integer) =3D 2135161787
  FIDS (Integer) =3D 688
  LNAM (String) =3D 021C7F43FBBB02B0
  NAME_RCNM (IntegerList) =3D (1:110)
  NAME_RCID (IntegerList) =3D (1:517)
  ORNT (IntegerList) =3D (1:255)
  USAG (IntegerList) =3D (1:255)
  MASK (IntegerList) =3D (1:255)
  CATWRK (Integer) =3D 1
  QUASOU (String) =3D 2
  WATLEV (Integer) =3D 3
  POINT (61.1031909 -32.4450159)

> 2.       If I have got the color and symbols, How could I know which=20
> kind of color the line(or polygon or something else which I get with th=
e=20
> help of OGR) should match with?

You would normally read the S52 specification and use it to
determine appropriate coloring, styling and symbolization
from the attributes of a feature.   I haven't actually reviewed
the S52 specification, but I imagine it has rules for how
to draw wrecks that might indicate different symbols depending
on the CATWRK (Category of Wreck) and WATLEV (Water level
effect) attributes of the feature.

> 3.       Has anyone done such things, can you help me something?

I know lots of people have made various levels of effort in
following the S52 specification based on OGR as a feature
reader.  Perhaps some of them will speak up and volunteer
additional information.

> 4.       I know the file =A1=B0IHO ECDIS Presentation Library=A1=B1 can=
 help me=20
> but I don=A1=AFt know how to get it, can you?

Normally the IHO web site should have instructions on ordering.

Best regards,
--=20
---------------------------------------+---------------------------------=
-----
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox=
.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue Sep  1 13:56:09 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  1 13:56:17 2009
Subject: [gdal-dev] Re: Strange things with gdalwarp ...
In-Reply-To: <86782b610909011027j55bb5952o70c7979dcbff94ec@mail.gmail.com>
References: <CC197224AC75CE4DB23F739B16891B86E34376@tikka.haapa.mmm.fi>
	<loom.20090820T114441-892@post.gmane.org>
	<4A8D69C8.7060503@pobox.com> <4A8FB1A2.3080401@gmx.eu>
	<4A8FBB20.2040509@xpam.de> <4A9286A8.70106@gmx.eu>
	<4A928A6E.4050206@xpam.de> <4A958410.3040802@gmx.eu>
	<loom.20090828T131600-676@post.gmane.org> <4A9CC1A8.80502@gmx.eu>
	<86782b610909011027j55bb5952o70c7979dcbff94ec@mail.gmail.com>
Message-ID: <1251827769.4a9d603995e62@imp.free.fr>

Selon Markus Neteler <neteler@osgeo.org>:

Hermann,

I'm not aware of any GDAL Trac ticket with the patch attached, some text
explaining why and when it is necessary/usefull, and ideally a step by step
scenario and sample data that demonstrates its usefulness. This is the general
procedure to submit enhancements & bug fixes, otherwise there's a high chance
the patch will be lost forever in the depths of mail boxes.

Best regards,

Even

> On Tue, Sep 1, 2009 at 8:39 AM, Hermann Peifer<peifer@gmx.eu> wrote:
> > Jukka Rahkonen wrote:
> >>
> >> Hermann Peifer <peifer <at> gmx.eu> writes:
> >>
> >>> Adam wrote:
> >>>>
> >>>> You can test with http://pastebin.com/m45e46f53
> >>>> Also remember to use -wo SKIP_NOSOURCE=YES
> >>>>
> >>> Adam,
> >>>
> >>> Will your patch appear in trunk/gdal/alg at some point in time?
> >>
> >>
> >> Hi,
> >>
> >> It would be very interesting to
> >> test the effect of this patch with JPEG2000 images ...
> >
> > There have been no recent changes to
> > http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdalwarpoperation.cpp
> >
> > It looks like you and me are the only users interested in this patch which
> > makes gdalwarp so much faster, simply by avoiding warp operations on
> > irrelevant pixels.
>
> I am also interested but didn't have time to try (was on the road)...
> So we are at least three :)
>
> Markus
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Tue Sep  1 14:45:25 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  1 14:45:27 2009
Subject: [gdal-dev] is Antarctic Polar Stereographic (EPSG:3031) properly
	handled by GDAL?
In-Reply-To: <7221db410909010928k331b578h907eaa79187007ec@mail.gmail.com>
References: <7221db410909010928k331b578h907eaa79187007ec@mail.gmail.com>
Message-ID: <1251830725.4a9d6bc55c83b@imp.free.fr>

Daniele,

I suggest you file a Trac ticket on this with the following info. From a first
review, it seems that libgeotiff doesn't deal with the EPSG projection method
9829 used by EPSG:3031, aka "Polar_Stereographic (variant B)" according to
http://javadoc.geotools.fr/2.4/org/geotools/referencing/operation/projection/Stereographic.html.
I'm not sure if OGRSpatialReference is ready for that variant B of Polar
Stereographic. The page mentions a "standard_parallel_1" parameter that testepsg
doesn't show.

I've tried the following patch (assuming, maybe wrongly, that projection 9829
could be used an alias of 9810) on an image generated by "gdal_translate -a_srs
EPSG:3031 src.tif dst.tif" and it helps a bit. The projection is retrieved but
the parameters are all 0, so there are maybe other bits missings or it might
also be a problem in the write part of libgeotiff. If it comes from a non-GDAL
based software, attaching your geotiff image () or a link to it might also help.

$ svn diff frmts/gtiff/libgeotiff/
Index: frmts/gtiff/libgeotiff/geo_normalize.c
===================================================================
--- frmts/gtiff/libgeotiff/geo_normalize.c      (r?vision 17587)
+++ frmts/gtiff/libgeotiff/geo_normalize.c      (copie de travail)
@@ -998,6 +998,7 @@
         return( CT_ObliqueStereographic );

       case 9810:
+      case 9829:
         return( CT_PolarStereographic );

       case 9811:

Needs a projection expert to sort that out I think.

Best regards,
Even

Selon Daniele Romagnoli <daniele.romagnoli@geo-solutions.it>:

> Hi list,
> I'm working on a geotiff image which is projected as EPSG:3031 (Antarctic
> Polar Stereographic).
> When running the last fwtools's gdalinfo, I get the following:
>
> Coordinate System is:
> PROJCS["WGS 84 / Antarctic Polar Stereographic",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.2572235630016,
>                 AUTHORITY["EPSG","7030"]],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433],
>         AUTHORITY["EPSG","4326"]],
>     UNIT["metre",1,
>         AUTHORITY["EPSG","9001"]],
>     AUTHORITY["EPSG","3031"]]
>
> It seems that the projection part is missing (taking a look here:
> http://spatialreference.org/ref/epsg/3031/prettywkt/)
> Also trying to run a gdal_translate specifying -a_srs EPSG:3031 the
> projection definition of the newly created tiff is still missing.
> Does anyone has additional information on that topic?
>
> Thank you very much.
> Regards,
> Daniele
>
> --
> -------------------------------------------------------
> Eng. Daniele Romagnoli
> Software Engineer
>
> GeoSolutions S.A.S.
> Via Carignoni 51
> 55041 Camaiore (LU)
> Italy
>
> phone: +39 0584983027
> fax:     +39 0584983027
> mob:   +39 328 0559267
>
>
> http://www.geo-solutions.it
>
> -------------------------------------------------------
>


From even.rouault at mines-paris.org  Tue Sep  1 14:50:22 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  1 14:50:30 2009
Subject: [gdal-dev] UTF-8 String Support in GDALOpen() and
	OGRSFDriverRegistrar::Open()
In-Reply-To: <6703cf3f0908311605k7bc909f7uc033be1f78113c3d@mail.gmail.com>
References: <6703cf3f0908310607p353dea45g6beb68eef91a8688@mail.gmail.com>
	<eb502d880908310710n728a5128s452c8380a7f0b868@mail.gmail.com>
	<6703cf3f0908310732j3d0c8339nf3bdc670170d55bb@mail.gmail.com>
	<eb502d880908310935l56cb5088m1418304feac8639c@mail.gmail.com>
	<6703cf3f0908310951q6c4c3978lade215e433d1d29e@mail.gmail.com>
	<1251739195.4a9c063b3b4bd@imp.free.fr>
	<6703cf3f0908311605k7bc909f7uc033be1f78113c3d@mail.gmail.com>
Message-ID: <1251831022.4a9d6ceee6af6@imp.free.fr>

Selon Lodewijk Pool <louis.pool@gmail.com>:

> Even,
>
> I think I've figured this out, in my particular example I had a filename
> which contained the character '??' (U+00E9), which in UTF-8 encoding is the
> two byte sequence 0xC3 0xA9. However, this character is also in the ANSI
> character set (233 decimal), which explains why passing a "normal" ANSI
> encoded C String to GDALOpen will open the file. If we instead try a
> filename with a character that is not in the ANSI character set, for example
> '??' (U+0259), then the function will not work (even) with a normal C String.
>
> So the current Win32 C/C++ API does not support UTF-8 encoded strings. Are
> you aware of any workarounds that may be available?

No, I'm afraid there's no workaround (apart from renaming the file to ANSI)
until someone implements RFC5 or something equivalent.

>
> Best Regards,
> Louis.
>
>
> On Mon, Aug 31, 2009 at 7:19 PM, Even Rouault
> <even.rouault@mines-paris.org>wrote:
>
> > Louis, Chaintanya,
> >
> > I just wanted to mention that the topic of encoding for filenames dealt by
> > GDAL
> > or OGR is a known issue that has not been addressed yet. You can read
> > http://trac.osgeo.org/gdal/wiki/rfc5_unicode which was a proposal but has
> > not
> > been implemented. Some infrastructure for re-encoding has been introduced
> > during
> > the implementation of http://trac.osgeo.org/gdal/wiki/rfc23_ogr_unicode(but
> > RFC23 only addresses the issue of encoding in OGR field values, not for
> > filenames)
> >
> > My understanding is that :
> > * on Windows the current API used by GDAL/OGR does not expect UTF8 or
> > Unicode
> > but ANSI.
> > * on Linux systems, UTF-8 is now assumed
> >
> > Best regards,
> >
> > Even
> >
> > Selon Lodewijk Pool <louis.pool@gmail.com>:
> >
> > > Hi Chaitanya,
> > >
> > > I appreciate you taking the time to check. The TAB extension is MapInfo's
> > > vector file format. The odd thing is that I did exactly the same test as
> > you
> > > did, I renamed a GeoTiff file to the offending filename and tried the
> > normal
> > > Raster Driver and got the same problem. Still, as far as you aware these
> > > functions should support UTF-8 encoded strings?  There could possibly be
> > a
> > > peculiarity in the way I pack UTF-8 strings, though I am reasonably
> > certain
> > > that they are encoded correctly.
> > >
> > > Could you perhaps send me the code snippet you used to test the
> > > functionality (the part where you pass the string to GDALOpen). Do you
> > think
> > > there is a chance that my compiled version may differ from your own, i.e.
> > is
> > > it possible that I compiled a version of GDAL without UTF support?
> > >
> > > Best Regards,
> > > Louis.
> > >
> > > On Mon, Aug 31, 2009 at 6:35 PM, Chaitanya kumar CH
> > > <chaitanya.ch@gmail.com>wrote:
> > >
> > > > Louis,
> > > >
> > > > I couldn't reproduce the problem on my WinXP-32 system with vc8 with
> > locale
> > > > set to uk english. However, I used the filename on a GeoTiff file. I
> > > > couldn't identify the .TAB extension. I am not sure that is a problem.
> > > >
> > > > Some of the drivers may not handle non-ascii data but file names should
> > not
> > > > be a problem.
> > > >
> > > > If you don't find any problem at your application side, submit a bug
> > report
> > > > at http://trac.osgeo.org/gdal/
> > > >
> > > >
> > > > On Mon, Aug 31, 2009 at 8:02 PM, Lodewijk Pool <louis.pool@gmail.com
> > >wrote:
> > > >
> > > >> Hi Chaitanya,
> > > >>
> > > >> Yes, this is using the C/C++ API, the functions I am using are
> > declared in
> > > >> *gdal.h* and *ogrsf_frmts.h* respectively. I am using WinXP 32bit (UK
> > > >> English locale) and a version of GDAL 1.6.2 that I compiled for Win32
> > > using
> > > >> the supplied nmake script files for VC8. The specific filename that is
> > > >> causing me problems is this one; *"d??coupage_geographique.TAB"*. If I
> > > >> remove the '??' character in that string and replace it with a normal
> > 'e'
> > > the
> > > >> file opens without any problems.
> > > >>
> > > >> Any help would be appreciated.
> > > >>
> > > >> Best Regards,
> > > >> Louis.
> > > >>
> > > >>
> > > >>
> > > >>
> > > >>
> > > >> On Mon, Aug 31, 2009 at 4:10 PM, Chaitanya kumar CH <chaitanya.ch@
> > > >> gmail.com> wrote:
> > > >>
> > > >>> Louis,
> > > >>>
> > > >>> GDAL/OGR usually supports utf-8 encoding. I just don't know where it
> > > >>> doesn't support.
> > > >>> Can you provide the details of the OS you are working on? Also, some
> > > >>> sample file names that caused you problems will come handy.
> > > >>> I presume you are working in C/C++.
> > > >>>
> > > >>> On Mon, Aug 31, 2009 at 6:37 PM, Lodewijk Pool
> > > <louis.pool@gmail.com>wrote:
> > > >>>
> > > >>>> Hi All,
> > > >>>>
> > > >>>> I'm having problems opening Raster and Vector Datasources that have
> > > >>>> filenames and paths with special characters. I'm using GDALOpen for
> > > Raster
> > > >>>> sources and OGRSFDriverRegistrar::Open() for Vector sources, the
> > strings
> > > I
> > > >>>> pass for the filenames are UTF-8 encoded. Does anyone know whether
> > these
> > > >>>> functions support UTF-8 encoding, and if not, whether there are any
> > > other
> > > >>>> API entry points that do support UTF-8 and/or UTF-16?
> > > >>>>
> > > >>>> Thank you in advance,
> > > >>>> Louis.
> > > >>>>
> > > >>>>  _______________________________________________
> > > >>>> gdal-dev mailing list
> > > >>>> gdal-dev@lists.osgeo.org
> > > >>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > > >>>>
> > > >>>
> > > >>>
> > > >>>
> > > >>> Best regards,
> > > >>> --
> > > >>> Chaitanya kumar CH.
> > > >>>
> > > >>
> > > >>
> > > >
> > > >
> > > > Best regards,
> > > > --
> > > > Chaitanya kumar CH.
> > > >
> > >
> >
> >
> >
>


From peifer at gmx.eu  Tue Sep  1 15:15:33 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep  1 15:15:41 2009
Subject: [gdal-dev] Re: Strange things with gdalwarp ...
In-Reply-To: <1251827769.4a9d603995e62@imp.free.fr>
References: <CC197224AC75CE4DB23F739B16891B86E34376@tikka.haapa.mmm.fi>	<loom.20090820T114441-892@post.gmane.org>	<4A8D69C8.7060503@pobox.com>
	<4A8FB1A2.3080401@gmx.eu>	<4A8FBB20.2040509@xpam.de>
	<4A9286A8.70106@gmx.eu>	<4A928A6E.4050206@xpam.de>
	<4A958410.3040802@gmx.eu>	<loom.20090828T131600-676@post.gmane.org>
	<4A9CC1A8.80502@gmx.eu>	<86782b610909011027j55bb5952o70c7979dcbff94ec@mail.gmail.com>
	<1251827769.4a9d603995e62@imp.free.fr>
Message-ID: <4A9D72D5.40108@gmx.eu>

Even wrote:
> Hermann,
> 
> I'm not aware of any GDAL Trac ticket with the patch attached, some text
> explaining why and when it is necessary/usefull, and ideally a step by step
> scenario and sample data that demonstrates its usefulness. This is the general
> procedure to submit enhancements & bug fixes, otherwise there's a high chance
> the patch will be lost forever in the depths of mail boxes.
> 

I filed a ticket at http://trac.osgeo.org/gdal/ticket/3120

I haven't repeated the whole story, but the bottom line is that in my case, the performance improvement was around factor 20.

Hermann
From warmerdam at pobox.com  Tue Sep  1 16:15:41 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep  1 16:15:38 2009
Subject: [gdal-dev] Reading signed 8-bit Erdas Imagine .img (HFA driver)
In-Reply-To: <000901ca2a79$a51de650$ef59b2f0$@roberts@duke.edu>
References: <000901ca2a79$a51de650$ef59b2f0$@roberts@duke.edu>
Message-ID: <4A9D80ED.30103@pobox.com>

Jason Roberts wrote:
> GDAL only supports unsigned 8-bit integers (GDT_Byte). That is the 
> ultimate difficulty but it has been worked around before in other 
> drivers. Is there any possibility that the HFA driver could be changed 
> to work like the AIG driver, so that S8 data is returned as GDT_Int16 
> instead of GDT_Byte?
> 
> If not, how exactly does this driver support S8 .img files? If I had 
> some way of detecting that it was S8, I guess I could fix it up by 
> casting the array to int16 and subtracting 256 from all cells with 
> values > 127. But I know of no way to detect that it is S8 except by 
> calling an ArcGIS API or trying to parse .img format myself. Neither of 
> those are a good solution.

Jason,

GDAL does not treat signed bytes as a proper data type (with a GDT_* code)
but it does support setting the PIXELTYPE metadata item in the IMAGE_STRUCTURE
domain to SIGNEDBYTE per RFC 14:

  http://trac.osgeo.org/gdal/wiki/rfc14_imagestructure

This gives application code an opportunity to do something special with the
data - such as casting to a signed byte type.  Some CreateCopy()
implementations for formats with signed byte support also look for this
metadata and translate the data as signed bytes.

We could in theory upgrade such bands to GDT_Int16 but it would require
quite a bit of messy code and it would not be in line with the approach
in other drivers.

Note, the HFA driver already returns the PIXELTYPE SIGNEDBYTE metadata
as do a few other drivers where appropriate.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jason.roberts at duke.edu  Tue Sep  1 18:19:53 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Tue Sep  1 18:20:04 2009
Subject: [gdal-dev] Reading signed 8-bit Erdas Imagine .img (HFA driver)
In-Reply-To: <4A9D80ED.30103@pobox.com>
References: <000901ca2a79$a51de650$ef59b2f0$%roberts@duke.edu>
	<4A9D80ED.30103@pobox.com>
Message-ID: <00a301ca2b52$54c54ed0$fe4fec70$@roberts@duke.edu>

Frank,

Thanks for the pointer. The PIXELTYPE SIGNEDBYTE metadata looks like the
official way to detect signed 8-bit data. Unfortunately it does not seem to
work for me.

I used the ArcGIS 9.3.1 ASCII to Raster tool to convert the following ASCII
file to IMG format:

ncols 3               
nrows 3
xllcorner 0.0
yllcorner 0.0
cellsize 1.0
nodata_value 63
-127 63 126
-127 63 126
-127 63 126

The ArcGIS GUI claims the resulting IMG file is 8-bit signed with the NoData
value -128. I opened the file with GDAL 1.6.0:

>>> dataset = gdal.Open(r'C:\Temp\NoDataTest2\IMG\WithNoData\int8a.img')
>>> dataset.GetDriver().ShortName
'HFA'
>>> band = dataset.GetRasterBand(1)
>>> band.DataType
1
>>> data = band.ReadAsArray()
>>> data
array([[129, 128, 126],
       [129, 128, 126],
       [129, 128, 126]], dtype=uint8)
>>> band.GetMetadata()
{'LAYER_TYPE': 'athematic', 'STATISTICS_MAXIMUM': '126',
'STATISTICS_MINIMUM': '-127', 'STATISTICS_STDDEV': '109.55249883047',
'STATISTICS_HISTOBINVALUES': '3|3|', 'STATISTICS_MEAN': '-0.33333333333333',
'STATISTICS_MODE': '6.2891288834462e-247', 'STATISTICS_MEDIAN':
'6.2896744699688e-247'}

As you can see, there is no PIXELTYPE metadata entry for the band. Is that
entry only created when GDAL creates the file? In any case, it is possible
to detect that the true values fit in the int8 range, not the uint8 range:

>>> band.GetMinimum()
-127.0
>>> band.GetMaximum()
126.0

To get the true values, you can detect that band.GetMinimum() < 0 and cast
the data to int8:

>>> numpy.cast['int8'](data)
array([[-127, -128,  126],
       [-127, -128,  126],
       [-127, -128,  126]], dtype=int8)

The problem now is determining that -128 is the NoData value because GDAL
does not report it:

>>> band.GetNoDataValue()
0.0

0 is the lowest possible value in the uint8 range, so it sort of makes sense
to hard code the lowest possible int8 (-128) when band.GetNoDataValue()
returns 0. But I'm not sure what to do if another value was used.

Do you have any thoughts on how to improve this procedure? Thanks for any
advice you can provide.

Jason

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Tuesday, September 01, 2009 4:16 PM
To: Jason Roberts
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Reading signed 8-bit Erdas Imagine .img (HFA driver)

Jason Roberts wrote:
> GDAL only supports unsigned 8-bit integers (GDT_Byte). That is the 
> ultimate difficulty but it has been worked around before in other 
> drivers. Is there any possibility that the HFA driver could be changed 
> to work like the AIG driver, so that S8 data is returned as GDT_Int16 
> instead of GDT_Byte?
> 
> If not, how exactly does this driver support S8 .img files? If I had 
> some way of detecting that it was S8, I guess I could fix it up by 
> casting the array to int16 and subtracting 256 from all cells with 
> values > 127. But I know of no way to detect that it is S8 except by 
> calling an ArcGIS API or trying to parse .img format myself. Neither of 
> those are a good solution.

Jason,

GDAL does not treat signed bytes as a proper data type (with a GDT_* code)
but it does support setting the PIXELTYPE metadata item in the
IMAGE_STRUCTURE
domain to SIGNEDBYTE per RFC 14:

  http://trac.osgeo.org/gdal/wiki/rfc14_imagestructure

This gives application code an opportunity to do something special with the
data - such as casting to a signed byte type.  Some CreateCopy()
implementations for formats with signed byte support also look for this
metadata and translate the data as signed bytes.

We could in theory upgrade such bands to GDT_Int16 but it would require
quite a bit of messy code and it would not be in line with the approach
in other drivers.

Note, the HFA driver already returns the PIXELTYPE SIGNEDBYTE metadata
as do a few other drivers where appropriate.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From Theodore.Wu at ngc.com  Tue Sep  1 22:47:51 2009
From: Theodore.Wu at ngc.com (Wu, Ted (IS))
Date: Tue Sep  1 23:02:55 2009
Subject: [gdal-dev] NITF Reader/Writers
Message-ID: <492E16554589F643A2D9C65ADBCBBAE80253F902@XMBTX143.northgrum.com>

Hello all,

I've been impressed with the open source Optiks image editor and its
NITF support.  For those of you who have worked with NITF before, are
there any other NITF image editors with read/write capability that you
recommend?  Open source or commercial is fine, I'd just like to get a
feel for what you all think

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/c7b7aaf8/attachment.html
From warmerdam at pobox.com  Tue Sep  1 23:05:24 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep  1 23:05:09 2009
Subject: [gdal-dev] Reading signed 8-bit Erdas Imagine .img (HFA driver)
In-Reply-To: <00a301ca2b52$54c54ed0$fe4fec70$@roberts@duke.edu>
References: <000901ca2a79$a51de650$ef59b2f0$%roberts@duke.edu>
	<4A9D80ED.30103@pobox.com>
	<00a301ca2b52$54c54ed0$fe4fec70$@roberts@duke.edu>
Message-ID: <4A9DE0F4.504@pobox.com>

Jason Roberts wrote:
>>>> band.GetMetadata()
> {'LAYER_TYPE': 'athematic', 'STATISTICS_MAXIMUM': '126',
> 'STATISTICS_MINIMUM': '-127', 'STATISTICS_STDDEV': '109.55249883047',
> 'STATISTICS_HISTOBINVALUES': '3|3|', 'STATISTICS_MEAN': '-0.33333333333333',
> 'STATISTICS_MODE': '6.2891288834462e-247', 'STATISTICS_MEDIAN':
> '6.2896744699688e-247'}
> 
> As you can see, there is no PIXELTYPE metadata entry for the band. Is that
> entry only created when GDAL creates the file? In any case, it is possible
> to detect that the true values fit in the int8 range, not the uint8 range:

Jason,

The PIXELTYPE metadata is in the IMAGE_STRUCTURE domain, so you need to
fetch it like:

   md = band.GetMetadata('IMAGE_STRUCTURE')

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jason.roberts at duke.edu  Tue Sep  1 23:29:44 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Tue Sep  1 23:29:54 2009
Subject: [gdal-dev] Reading signed 8-bit Erdas Imagine .img (HFA driver)
In-Reply-To: <4A9DE0F4.504@pobox.com>
References: <000901ca2a79$a51de650$ef59b2f0$%roberts@duke.edu>
	<4A9D80ED.30103@pobox.com>
	<00a301ca2b52$54c54ed0$fe4fec70$%roberts@duke.edu>
	<4A9DE0F4.504@pobox.com>
Message-ID: <00d801ca2b7d$9da20d70$d8e62850$@roberts@duke.edu>

Frank,

Thanks! Indeed, PIXELTYPE is set to SIGNEDBYTE:

>>> band.GetMetadata('IMAGE_STRUCTURE')
{'PIXELTYPE': 'SIGNEDBYTE', 'COMPRESSION': 'RLC'}

I am sorry I missed that in the RFC. It is obvious now. I need to read up on
GDAL's metadata infrastructure.

Do you have any advice on deducing the correct nodata value, given that
band.GetNoDataValue() is returning 0? It seems for IMGs as though the nodata
value is always set to the minimum possible value for the datatype in
question, but I do not know if this is part of the IMG spec, is an ArcGIS
behavior (since I'm generating IMGs with ArcGIS), or if GDAL is responsible.
If this rule is guaranteed, I am comfortable hard coding -128 if I detect
that it is a signed 8-bit image.

It does seem as though 32-bit signed IMGs, like ArcInfo Binary Grids, always
use -2147483647 as the nodata value, rather than -2147483648. As above, I do
not know if this is due to the IMG spec, ArcGIS behavior, or GDAL. If you
know the reason for this, I'd love to hear it. (But don't let me waste your
time on trivia...)

Thanks again for your help,

Jason

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Tuesday, September 01, 2009 11:05 PM
To: Jason Roberts
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Reading signed 8-bit Erdas Imagine .img (HFA driver)

Jason Roberts wrote:
>>>> band.GetMetadata()
> {'LAYER_TYPE': 'athematic', 'STATISTICS_MAXIMUM': '126',
> 'STATISTICS_MINIMUM': '-127', 'STATISTICS_STDDEV': '109.55249883047',
> 'STATISTICS_HISTOBINVALUES': '3|3|', 'STATISTICS_MEAN':
'-0.33333333333333',
> 'STATISTICS_MODE': '6.2891288834462e-247', 'STATISTICS_MEDIAN':
> '6.2896744699688e-247'}
> 
> As you can see, there is no PIXELTYPE metadata entry for the band. Is that
> entry only created when GDAL creates the file? In any case, it is possible
> to detect that the true values fit in the int8 range, not the uint8 range:

Jason,

The PIXELTYPE metadata is in the IMAGE_STRUCTURE domain, so you need to
fetch it like:

   md = band.GetMetadata('IMAGE_STRUCTURE')

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From vinod.bholla at gmail.com  Wed Sep  2 00:26:07 2009
From: vinod.bholla at gmail.com (vinod bholla)
Date: Wed Sep  2 00:26:09 2009
Subject: [gdal-dev] mailing list
Message-ID: <f488e0470909012126g43128a91w85865e282e2b8e0c@mail.gmail.com>

vinod.bholla@gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090901/f74d448a/attachment.html
From szekerest at gmail.com  Wed Sep  2 02:12:01 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Sep  2 02:14:27 2009
Subject: [gdal-dev] Version of lib HDF5 Included in Gdal 1.62
In-Reply-To: <17537965.487691251823167458.JavaMail.coremail@bj126app38.126.com>
References: <12202759.364831251808857550.JavaMail.coremail@bj126app31.126.com>
	<f3b73b7d0909010634u19d72cads3636836752407fdc@mail.gmail.com>
	<17537965.487691251823167458.JavaMail.coremail@bj126app38.126.com>
Message-ID: <f3b73b7d0909012312x7b1d555cs87810855bbd19a8f@mail.gmail.com>

Hi,

To install the plugins, you should set GDAL_DRIVER_PATH to point to the
plugin directory ie:

SET GDAL_DRIVER_PATH=[package dir]\bin\gdal\plugins

or

create a \gdalplugins directory from where the executable is running any
copy the plugin dll-s into this directory.

Best regards,

Tamas



2009/9/1 atubar <atubar@126.com>

> Hello, thanks for your help.
>
> I check the release-1500-gdal-1-6-mapserver-5-4 package, and find out that
> gdal_HDF5.dll and gdal_HDF5Image.dll are under the folder \bin\gdal\plugins.
> To make HDF5 work well, these two dlls are essential, is it?
>
> By the way, It seems that these two dlls are copied to that folder
> automatically by Makefile file under the root of release-1500-dev.
> If I compile gdal 1.6.2 with lib hdf5 by myself, I should copy
> gdal_HDF5.dll and gdal_HDF5Image.dll manually?
> Is there a way to do this automatically while compiling by myself?
>
> And it seems that PLUGINDIR = $(BINDIR)\gdalplugins listed in nmake.opt of
> gdal is useless.
>
> 在2009-09-01 21:34:24，"Tamas Szekeres" <szekerest@gmail.com> 写道：
>
> Hi,
>
> The automated builders at http://vbkto.dyndns.org:1280/sdk  use hdf5-1.8.2
> but I suspect the recent stable version (1.8.3) would also work.
> You could also download ready to use SDK packages from this location to
> compile gdal with hdf5 easily.
>
> Best regards,
>
> Tamas
>
>
>
> ------------------------------
> 没有广告的终身免费邮箱,www.yeah.net <http://www.yeah.net/?from=footer>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090902/0253cfb4/attachment.html
From jorsion at gmail.com  Wed Sep  2 03:35:31 2009
From: jorsion at gmail.com (jor sion)
Date: Wed Sep  2 03:35:54 2009
Subject: [gdal-dev] Can't get 1*N dataset in HDFfile
Message-ID: <8c2bdf730909020035q7761636ak36a693debce0dc74@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 2222 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090902/12a2ed63/attachment.png
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 762 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090902/12a2ed63/attachment-0001.png
From vinod.bholla at gmail.com  Wed Sep  2 07:24:28 2009
From: vinod.bholla at gmail.com (vinod bholla)
Date: Wed Sep  2 07:32:44 2009
Subject: [gdal-dev] Problem In reading S-63 Chart
Message-ID: <f488e0470909020424q5e77843ar9523aefa31321909@mail.gmail.com>

Hi Friends


I m vinod... i m woking over reading of S-63 charts,i m following test
procedure to decrypt the information.
i m unable to read the information, can you provide any information
regarding this,that will be appricable.
for its reading.



thnx
vinod
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090902/87453191/attachment-0001.html
From ryabis at gmail.com  Wed Sep  2 08:04:17 2009
From: ryabis at gmail.com (ryabis)
Date: Wed Sep  2 08:04:19 2009
Subject: [Gdal-dev] How to save picture into bmp-file?
Message-ID: <1251893057779-3566284.post@n2.nabble.com>


Sorry, but I`m just started to use C++ and GDAL library... :thinking:
I have opened the image, using this code:

void BIScrollView::loadFile(QString biFileName)
{
   canv->resize(biLbl->width(), biLbl->height());
    if( biFileName.isEmpty() )
    {
	biClose();
	biFileName = QFileDialog::getOpenFileName( "/data/" );
    }
    pszFilename = biFileName;
    if( biIsOpen )
    {
	biClose();
    }
    if( !biFileName.isEmpty() ){
	m_Dataset_1 = NULL;
	GDALAllRegister();
	m_Dataset_1 = ( GDALDataset* )GDALOpen( biFileName, GA_ReadOnly );
	if( m_Dataset_1 != NULL ){
	    biIsOpen = true;
	    imgInfo_1.DriverMeta  = m_Dataset_1->GetDriver()->GetMetadataItem(
GDAL_DMD_LONGNAME );
	    imgInfo_1.DriverDescr = m_Dataset_1->GetDriver()->GetDescription();
	    imgInfo_1.RasterXSize = m_Dataset_1->GetRasterXSize();
	    imgInfo_1.RasterYSize = m_Dataset_1->GetRasterYSize();
	    imgInfo_1.RasterCount = m_Dataset_1->GetRasterCount();
	    imgInfo_1.DataType = m_Dataset_1->GetRasterBand( 1
)->GetRasterDataType();
	    
	    GDALColorTable * ColorTable = m_Dataset_1->GetRasterBand( 1
)->GetColorTable();
	    if( ColorTable ){
		if( imgInfo_1.RasterCount == 1 ){
		    imgInfo_1.ColorEntryCount = ColorTable->GetColorEntryCount();
		}
	    }
	    xScrollBar->setMaxValue( imgInfo_1.RasterXSize - biLbl->width() );
	    yScrollBar->setMaxValue( imgInfo_1.RasterYSize - biLbl->height() );
	    qWarning( "RasterXSize = "+QString::number( imgInfo_1.RasterXSize -
biLbl->width() ) );
	    qWarning( "RasterYSize = "+QString::number( imgInfo_1.RasterYSize -
biLbl->height() ) );
	    switch( imgInfo_1.DataType )
	    {
	    case GDT_Byte     : qWarning( "DataType = Eight bit unsigned integer"
);      break;
	    case GDT_UInt16   : qWarning( "DataType = Sixteen bit unsigned integer"
);    break;
	    case GDT_Int16    : qWarning( "DataType = Sixteen bit signed integer"
);      break;
	    case GDT_UInt32   : qWarning( "DataType = Thirty two bit unsigned
integer" ); break;
	    case GDT_Int32    : qWarning( "DataType = Thirty two bit signed
integer" );   break;
	    case GDT_Float32  : qWarning( "DataType = Thirty two bit floating
point" );   break;
	    case GDT_Float64  : qWarning( "DataType = Sixty four bit floating
point" );   break;
	    case GDT_CInt16   : qWarning( "DataType = Complex Int16" );                  
break;
	    case GDT_CInt32   : qWarning( "DataType = Complex Int32" );                  
break;
	    case GDT_CFloat32 : qWarning( "DataType = Complex Float32" );                
break;
	    case GDT_CFloat64 : qWarning( "DataType = Complex Float64" );                
break;
	    }
	    poBand_1 = m_Dataset_1->GetRasterBand( 1 );
	    imgInfo_1.ColorInterp = poBand_1->GetColorInterpretation();
	    switch( imgInfo_1.ColorInterp )
	    {
	    case GCI_GrayIndex      : qWarning( "ColorInterp = Greyscale" );                            
break;
	    case GCI_PaletteIndex 	: qWarning( "ColorInterp = Paletted (see
associated color table)" ); break;
	    case GCI_RedBand        : qWarning( "ColorInterp = Red band of RGBA
image" );                break;
	    case GCI_GreenBand      : qWarning( "ColorInterp = Green band of RGBA
image" );              break;
	    case GCI_BlueBand       : qWarning( "ColorInterp = Blue band of RGBA
image" );               break;
	    case GCI_AlphaBand      : qWarning( "ColorInterp = Alpha
(0=transparent, 255=opaque)" );     break;
	    case GCI_HueBand        : qWarning( "ColorInterp = Hue band of HLS
image" );                 break;
	    case GCI_SaturationBand : qWarning( "ColorInterp = Saturation band of
HLS image" );          break;
	    case GCI_LightnessBand  : qWarning( "ColorInterp = Lightness band of
HLS image" );           break;
	    case GCI_CyanBand       : qWarning( "ColorInterp = Cyan band of CMYK
image" );               break;
	    case GCI_MagentaBand    : qWarning( "ColorInterp = Magenta band of CMYK
image" );            break;
	    case GCI_YellowBand     : qWarning( "ColorInterp = Yellow band of CMYK
image" );             break;
	    case GCI_BlackBand      : qWarning( "ColorInterp = Black band of CMLY
image" );              break;
//	    case GCI_YCbCr_YBand    : qWarning( "ColorInterp = Y Luminance" );                          
break;
//	    case GCI_YCbCr_CbBand   : qWarning( "ColorInterp = Cb Chroma" );                            
break;
//	    case GCI_YCbCr_CrBand   : qWarning( "ColorInterp = Cr Chroma" );                            
break;
	    case GCI_Undefined      : qWarning( "ColorInterp = GCI_Undefined" );                        
break;
		//case GCI_Max            : qWarning( "ColorInterp = Max current value" );                    
break;
	    }
	    biPaintTile();
	}
    }
}

void BIScrollView::biPaintTile()
{
    if( biIsOpen == true ){
	QImage *result;
	QVector<QRgb> colors; 
	uchar * pafScanline; 
	int y_off = yScrollBar->value(); 
	int x_off = xScrollBar->value();  
	int xsize = biLbl->width();
	int ysize = biLbl->height();
	
	if( imgInfo_1.RasterCount >= 2 ) 
	{
	    pafScanline = ( uchar* )CPLMalloc( xsize * ysize * 4 );
	    Q_CHECK_PTR( pafScanline );
	    for( int i = 1; i <= 3; ++i )   
	    {
		/*GDALRasterBand **/poBand_1;
		poBand_1 = m_Dataset_1->GetRasterBand( i );
		Q_CHECK_PTR( poBand_1 );
		static int smap[ 4 ] = { 0, 2, 1, 0 }; 
		if( poBand_1->RasterIO( GF_Read, x_off, y_off, xsize, ysize, 
				      pafScanline + smap[ i ], xsize, ysize, GDT_Byte,
				      4, xsize * 4 ) == CE_Failure ){
		    qWarning( "RasterIO error:"+QString( CPLGetLastErrorMsg() ) );
		}
		else pafScanline_res = pafScanline;
	    }
	    result = new QImage( xsize, ysize, 32, 32 ); 
	    Q_CHECK_PTR( result ); 
	    for( int y = 0; y < ysize; ++y )  
	    {
		QRgb *sLine = ( QRgb * )result->scanLine( y );
		memcpy( sLine, pafScanline + y * xsize * 4, xsize * 4 );
	    }
	    pafScanline_res = pafScanline; return;
	    CPLFree( pafScanline );
	    canv->setBackgroundPixmap( QPixmap( *result ) );
	    delete result;
	}
	
	if( imgInfo_1.RasterCount == 1 ){
	    pafScanline = ( uchar* )CPLMalloc( xsize * ysize );
	    int bps = 8;
	    int colors = ( bps < 8 ) ? 1 << bps : 256;
	    QImage * result = new QImage( 
		    xsize, 
		    ysize, 
		    ( bps > 1 ) ? 8 : 1,
		    colors,
		    ( bps > 1 ) ? QImage::IgnoreEndian : QImage::BigEndian );
	    
	    result->setNumColors( colors );
	    
	    /*GDALRasterBand **/poBand_1 = m_Dataset_1->GetRasterBand( 1 );
	    if( imgInfo_1.ColorInterp == GCI_PaletteIndex )
	    {
		GDALColorTableH gdalColorTable = GDALGetRasterColorTable( poBand_1 );
		if( gdalColorTable )
		{
		    int count = GDALGetColorEntryCount( gdalColorTable );
		    for( int i = 0; i < count; i++ )
		    {
			const GDALColorEntry * colorEntry = GDALGetColorEntry( gdalColorTable, i
);
			if( !colorEntry ) continue;
			result->setColor( i, qRgb( colorEntry->c1, colorEntry->c2, colorEntry->c3
) );
		    }
		}
	    }
	    else if( imgInfo_1.ColorInterp == GCI_GrayIndex )
	    {
		float s = 255.0f / ( colors - 1 );
		result->setNumColors( colors );
		for( int i = 0; i < colors; ++i )
		{
		    result->setColor( ( colors - 1 - i ), qRgb( ( int )( s * i + 0.5f ), (
int )( s * i + 0.5f ), ( int )( s * i + 0.5f ) ) );
		}
	    }
	    else
		qWarning( "Invalid pallete in single channel" );
	    poBand_1->RasterIO( GF_Read, x_off, y_off, xsize, ysize, pafScanline,
xsize, ysize, GDT_Byte, 1, xsize );
	    pafScanline_res = pafScanline;
	    poBand_11 = poBand_1;
	    //m_Dataset_1->RasterIO( GF_Read, x_off, y_off, xsize, ysize,
pafScanline, xsize, ysize, GDT_Byte, 1, 0, 0, 0, 0 );
	    
	    for( int y = 0; y < ysize; ++y ){
		QRgb *sLine = ( QRgb * )result->scanLine( y );
		memcpy( sLine, pafScanline + y * xsize, xsize );
	    }
	    CPLFree( pafScanline );
	    
	    canv->setBackgroundPixmap( QPixmap( *result ) );
	    canv->resize(result ->width(), result ->height());	    
	    delete result;
	}//if( tiffinfo.RasterCount == 1 )
    }
}



... and i want to save same area to bmp-file.
I do as is written in documentation:

void BIScrollView::saveToImage(QString trnsfFilename)
{
    if( !trnsfFilename.isEmpty() ) 
    {
	const char *pszFormat = "BMP";
	GDALDriver *poDriver;
	char **papszMetadata;
	
	poDriver = GetGDALDriverManager()->GetDriverByName(pszFormat);
	
	if( poDriver == NULL )
	{
	    qDebug("poDriver == NULL");
	    return;
	}
	
	papszMetadata = poDriver->GetMetadata();
	if( CSLFetchBoolean( papszMetadata, GDAL_DCAP_CREATE, FALSE ) )
	    printf( "%s Create().\n", pszFormat );
	if( CSLFetchBoolean( papszMetadata, GDAL_DCAP_CREATECOPY, FALSE ) )
	    printf( "%s CreateCopy().\n", pszFormat );
	
	GDALDataset *poDstDS;       
	char **papszOptions = NULL;
	
	poDstDS = poDriver->Create( trnsfFilename, 512, 512, 1, GDT_Byte, 
				    papszOptions );
	


    double adfGeoTransform[6] = { 444720, 30, 0, 3751320, 0, -30 };
    OGRSpatialReference oSRS;
    char *pszSRS_WKT = NULL;
    GDALRasterBand *poBand;
    GByte abyRaster[512*515];

    poDstDS->SetGeoTransform( adfGeoTransform );
    
    oSRS.SetUTM( 11, TRUE );
    oSRS.SetWellKnownGeogCS( "NAD27" );
    oSRS.exportToWkt( &pszSRS_WKT );
    CPLFree( pszSRS_WKT );
    poBand = poDstDS->GetRasterBand(1);
    if (poBand->RasterIO( GF_Write, 0, 0, 512, 512, abyRaster, 512, 512,
GDT_Byte, 0, 0 ) == CE_Failure) 
	qDebug("no");
    else
	qDebug("yes");
	    
    
    delete poDstDS;
	} 
}

What should I write instead of abyRaster?


-- 
View this message in context: http://n2.nabble.com/How-to-save-picture-into-bmp-file-tp3566284p3566284.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From sylvain_duclos at yahoo.com  Wed Sep  2 09:18:52 2009
From: sylvain_duclos at yahoo.com (s duclos)
Date: Wed Sep  2 09:25:36 2009
Subject: [gdal-dev] OGR about s_57
In-Reply-To: <4A9D5E10.8020003@pobox.com>
Message-ID: <683794.31550.qm@web110816.mail.gq1.yahoo.com>

Hi Frank,

> I know lots of people have made various levels of effort
> in
> following the S52 specification based on OGR as a feature
> reader.  Perhaps some of them will speak up and
> volunteer
> additional information.
> 

Here's info I send to Randy. It's border line related to OGR/S57 but
googler might find this useful:

Old IHO's S-52 Manual at 'the Wayback Machine': http://web.archive.org/web/20030323010814/http://www.iho.shom.fr/general/ecdis/pslb03_2.pdf

This manual explain how to link OGR/S-57 to S-52 for rendering.
Note that the audience is ECDIS manufacturer. Note also that is old stuff.
Finally note that this whole S-57/S-52 is about to be replace by
S-100/S-101, an extended and XML'ised version aligned on 0GC/ISO.

If all you want is color then you can find decent RGB for recent S-52
color palette by Googling.

XML'ing S-57/S-52 is just an other way to serialize ENC data.
There is provision in S-100/S-101 to embed GeoTIFF (for bathymetric stuff)
also. So, to GDAL/OGR this new stuff is not that alien.


rgds,

Sylvain.

--- On Tue, 9/1/09, Frank Warmerdam <warmerdam@pobox.com> wrote:

> From: Frank Warmerdam <warmerdam@pobox.com>
> Subject: Re: [gdal-dev] OGR about s_57
> To: "Randy" <randyqiuxy@hotmail.com>
> Cc: "GDAL/OGR mailing list" <gdal-dev@lists.osgeo.org>
> Received: Tuesday, September 1, 2009, 9:46 PM
> Randy wrote:
> > Hi, everyone,
> > 
> >? ? I?m now interesting in displaying
> ENCs.
> > 
> >? ? I know the OGR can support the s57 format
> files and it can get some 
> > data like point?line?polygon. But it cannot
> support the styles as Mr 
> > Frank Warmerdam told me. Now, I have such questions:
> > 
> > 1.? ? ???Where can I know
> what OGR does support and does not support 
> > about s57 ? Does it get the symbols(no, right?)?
> 
> Randy,
> 
> OGR does not read the actual graphical symbols.? For
> instance,
> we might have a feature from the WRECKS layer like below
> with
> various valuable attributes, but actual wreck symbol.
> 
> OGRFeature(WRECKS):2163
> ? RCID (Integer) = 2164
> ? PRIM (Integer) = 1
> ? GRUP (Integer) = 2
> ? OBJL (Integer) = 159
> ? RVER (Integer) = 1
> ? AGEN (Integer) = 540
> ? FIDN (Integer) = 2135161787
> ? FIDS (Integer) = 688
> ? LNAM (String) = 021C7F43FBBB02B0
> ? NAME_RCNM (IntegerList) = (1:110)
> ? NAME_RCID (IntegerList) = (1:517)
> ? ORNT (IntegerList) = (1:255)
> ? USAG (IntegerList) = (1:255)
> ? MASK (IntegerList) = (1:255)
> ? CATWRK (Integer) = 1
> ? QUASOU (String) = 2
> ? WATLEV (Integer) = 3
> ? POINT (61.1031909 -32.4450159)
> 
> > 2.? ? ???If I have got the
> color and symbols, How could I know which 
> > kind of color the line(or polygon or something else
> which I get with the 
> > help of OGR) should match with?
> 
> You would normally read the S52 specification and use it
> to
> determine appropriate coloring, styling and symbolization
> from the attributes of a feature.???I
> haven't actually reviewed
> the S52 specification, but I imagine it has rules for how
> to draw wrecks that might indicate different symbols
> depending
> on the CATWRK (Category of Wreck) and WATLEV (Water level
> effect) attributes of the feature.
> 
> > 3.? ? ???Has anyone done such
> things, can you help me something?
> 
> I know lots of people have made various levels of effort
> in
> following the S52 specification based on OGR as a feature
> reader.? Perhaps some of them will speak up and
> volunteer
> additional information.
> 
> > 4.? ? ???I know the file
> ?IHO ECDIS Presentation Library? can help me 
> > but I don?t know how to get it, can you?
> 
> Normally the IHO web site should have instructions on
> ordering.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up???|
> Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? |
> Geospatial Programmer for Rent
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


      __________________________________________________________________
Looking for the perfect gift? Give the gift of Flickr! 

http://www.flickr.com/gift/
From warmerdam at pobox.com  Wed Sep  2 09:27:05 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Sep  2 09:26:50 2009
Subject: [Gdal-dev] How to save picture into bmp-file?
In-Reply-To: <1251893057779-3566284.post@n2.nabble.com>
References: <1251893057779-3566284.post@n2.nabble.com>
Message-ID: <4A9E72A9.1050706@pobox.com>

ryabis wrote:
> Sorry, but I`m just started to use C++ and GDAL library... :thinking:
> I have opened the image, using this code:

...

> 	    poBand_1->RasterIO( GF_Read, x_off, y_off, xsize, ysize, pafScanline,
> xsize, ysize, GDT_Byte, 1, xsize );


...

>     if (poBand->RasterIO( GF_Write, 0, 0, 512, 512, abyRaster, 512, 512,
> GDT_Byte, 0, 0 ) == CE_Failure) 
...
> What should I write instead of abyRaster?

Ryabis,

You would presumably need to read the region from the source file as you
did above for one band images into pafScanline, and then write that
same buffer into the output file in plcae of abyRaster.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Sep  2 09:35:29 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Sep  2 09:35:11 2009
Subject: [gdal-dev] Problem In reading S-63 Chart
In-Reply-To: <f488e0470909020424q5e77843ar9523aefa31321909@mail.gmail.com>
References: <f488e0470909020424q5e77843ar9523aefa31321909@mail.gmail.com>
Message-ID: <4A9E74A1.7070503@pobox.com>

vinod bholla wrote:
> Hi Friends
> 
> 
> I m vinod... i m woking over reading of S-63 charts,i m following test 
> procedure to decrypt the information.
> i m unable to read the information, can you provide any information 
> regarding this,that will be appricable.
> for its reading.

Vinod,

There is no support in GDAL/OGR for reading encrypted enc files (I assume
S-63 is what is sometimes called S-ENC?).  My understanding is that it would
be hard to do this in open source software since the folks responsible are
very particular about who they provide decryption keys to.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From klokan at klokan.cz  Wed Sep  2 10:27:56 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Wed Sep  2 10:34:53 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A7C3E92.9090202@geoanalytic.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>
	<4A7C3E92.9090202@geoanalytic.com>
Message-ID: <6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>

Hi,

There is a great blog post (and the linked "worked example" post with details):
http://geopdf.blogspot.com/2009/02/geopdf-map-for-worked-example.html

It shows you how to create geopdf via GhostScript - so there is
already a practical open-source example how to encode the georeference
into the PDF/PS according the OGC standard - for use in Acrobat
Reader. To add support for such tag in MapServer, which generates pdf
dynamicaly via pdflib, should not be totally problematic.

Decoding is not as hard either, there are nice libraries like poppler
(http://poppler.freedesktop.org/), which allows you to parse vectors
(and convert them to SVG for example) or rasterize the PDF files (into
TIFF,...) via Cairo.
The work is in assigning correct geographic coordinates to the
coordinate system internally used in PDF files and especially write
the bridge to the outside world (with GDAL/OGR).
I am afraid that authors of the GeoPDF standard would not like this,
as it seems that the idea of GeoPDF is "see it in the Acrobat, print
it, but that's all". At least I think so, because they discontinued
their Geopdf2geotiff product and all the conversion tools are just one
way - into GeoPDF. Please correct me...

Anyway, in this moment you can quite easily use utility like
"pdfimages" to extract full quality image tiles from any GeoPDF (like
those from USGS) and merge it based on their location in PDF into one
GDAL file via VRT (gdalbuildvrt) with a bit of hacking. This is what I
did for my favorite USGS DRG of Grand Canyon ;-).
Look at: http://klokan.mzk.cz/~klokan/geopdf/ - soon I will update the
MapTiler.org overlay examples...

Unfortunately all PDF parsing libraries I know are GPL, and that means
we can't use them for the gdal driver - because of the license issues.
But to create a GPL utility for converting GeoPDF to anything what
GDAL/OGR supports should be OK. Poppler can be the best base of such
GDAL-based utility for reading/rasterizing of the GeoPDF files.

Now just find a sponsor and time to make it ;-).

Best,

Klokan Petr Pridal
-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From warmerdam at pobox.com  Wed Sep  2 10:38:35 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Sep  2 10:38:24 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>
	<4A7C3E92.9090202@geoanalytic.com>
	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
Message-ID: <4A9E836B.6070802@pobox.com>

Klokan Petr P?idal wrote:
> Unfortunately all PDF parsing libraries I know are GPL, and that means
> we can't use them for the gdal driver - because of the license issues.
> But to create a GPL utility for converting GeoPDF to anything what
> GDAL/OGR supports should be OK. Poppler can be the best base of such
> GDAL-based utility for reading/rasterizing of the GeoPDF files.

Folks,

I would note that it is fine to use external GPL libraries for optional
GDAL/OGR format drivers.  It just means we won't be copying the whole
source into GDAL for convenient building like we do for stuff like libtiff
and that some users of GDAL will not use that driver.

I'd prefer a more compatible license for supporting libraries, but it is
not all that important.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mongoose_riki at mail.ru  Wed Sep  2 11:29:55 2009
From: mongoose_riki at mail.ru (Riki Tiki)
Date: Wed Sep  2 11:30:05 2009
Subject: [gdal-dev] gdal_translate problems...
Message-ID: <E1MirmV-00009i-00.mongoose_riki-mail-ru@f183.mail.ru>


hi,

i am using the following command to convert from raster to geotiff

gdal_translate -of GTiff test test.tif

it outputs the following:

ERROR 1: Unknown base item type : 4
ERROR 1: Unknown base item type : 4
Input file size is 221, 232
0...10...20...30...40...50...60...70...80...90...100 - done.


Please can you tell me what are those errors mean? And possible solution to avoid it,...?

thanks,
Riki

From bfraser at geoanalytic.com  Wed Sep  2 11:46:19 2009
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Sep  2 11:46:50 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>	
	<4A7C3E92.9090202@geoanalytic.com>
	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
Message-ID: <4A9E934B.2090306@geoanalytic.com>

I see the example calculation of the transformation matrix, and a statement "I 
created a GeoPDF by running the Postscript file through Ghostscript to create a 
Postscript file that looks like this"

But I don't see where the georeferencing is written into PDF to make it a 
GeoPDF.  Is it a Ghostscript command line?

Brent

Klokan Petr P?idal wrote:
> Hi,
> 
> There is a great blog post (and the linked "worked example" post with details):
> http://geopdf.blogspot.com/2009/02/geopdf-map-for-worked-example.html
> 
> It shows you how to create geopdf via GhostScript - so there is
> already a practical open-source example how to encode the georeference
> into the PDF/PS according the OGC standard - for use in Acrobat
> Reader. To add support for such tag in MapServer, which generates pdf
> dynamicaly via pdflib, should not be totally problematic.
> 
> Decoding is not as hard either, there are nice libraries like poppler
> (http://poppler.freedesktop.org/), which allows you to parse vectors
> (and convert them to SVG for example) or rasterize the PDF files (into
> TIFF,...) via Cairo.
> The work is in assigning correct geographic coordinates to the
> coordinate system internally used in PDF files and especially write
> the bridge to the outside world (with GDAL/OGR).
> I am afraid that authors of the GeoPDF standard would not like this,
> as it seems that the idea of GeoPDF is "see it in the Acrobat, print
> it, but that's all". At least I think so, because they discontinued
> their Geopdf2geotiff product and all the conversion tools are just one
> way - into GeoPDF. Please correct me...
> 
> Anyway, in this moment you can quite easily use utility like
> "pdfimages" to extract full quality image tiles from any GeoPDF (like
> those from USGS) and merge it based on their location in PDF into one
> GDAL file via VRT (gdalbuildvrt) with a bit of hacking. This is what I
> did for my favorite USGS DRG of Grand Canyon ;-).
> Look at: http://klokan.mzk.cz/~klokan/geopdf/ - soon I will update the
> MapTiler.org overlay examples...
> 
> Unfortunately all PDF parsing libraries I know are GPL, and that means
> we can't use them for the gdal driver - because of the license issues.
> But to create a GPL utility for converting GeoPDF to anything what
> GDAL/OGR supports should be OK. Poppler can be the best base of such
> GDAL-based utility for reading/rasterizing of the GeoPDF files.
> 
> Now just find a sponsor and time to make it ;-).
> 
> Best,
> 
> Klokan Petr Pridal
From warmerdam at pobox.com  Wed Sep  2 11:59:48 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Sep  2 11:59:37 2009
Subject: [gdal-dev] gdal_translate problems...
In-Reply-To: <E1MirmV-00009i-00.mongoose_riki-mail-ru@f183.mail.ru>
References: <E1MirmV-00009i-00.mongoose_riki-mail-ru@f183.mail.ru>
Message-ID: <4A9E9674.1020502@pobox.com>

Riki Tiki wrote:
> hi,
> 
> i am using the following command to convert from raster to geotiff
> 
> gdal_translate -of GTiff test test.tif
> 
> it outputs the following:
> 
> ERROR 1: Unknown base item type : 4
> ERROR 1: Unknown base item type : 4
> Input file size is 221, 232
> 0...10...20...30...40...50...60...70...80...90...100 - done.
> 
> 
> Please can you tell me what are those errors mean? And possible solution to avoid it,...?

Riki,

It means that a HFA (Erdas Imagine) format file had a BASEDATA object
with data inside it of a type not supported by GDAL.  This is likely not
too serious - perhaps you will have incorrect nodata values.

If it is a concern, consider filing a ticket with the data.  Assuming
you are working with an arc/info binary coverage, likely all we need
is the .aux file.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Roger.Bivand at nhh.no  Wed Sep  2 15:31:41 2009
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Sep  2 15:31:44 2009
Subject: [gdal-dev] GDAL Erdas LAN/GIS driver
In-Reply-To: <alpine.LRH.2.00.0908271709010.8723@reclus.nhh.no>
References: <alpine.LRH.2.00.0908210959270.6175@reclus.nhh.no>
	<4A8E9E9F.5060505@pobox.com>
	<alpine.LRH.2.00.0908211606220.7507@reclus.nhh.no>
	<alpine.LRH.2.00.0908211846100.7507@reclus.nhh.no>
	<4A930898.4090703@pobox.com>
	<alpine.LRH.2.00.0908271709010.8723@reclus.nhh.no>
Message-ID: <alpine.LRH.2.00.0909022116000.303@reclus.nhh.no>

On Thu, 27 Aug 2009, Roger Bivand wrote:

> On Mon, 24 Aug 2009, Frank Warmerdam wrote:
>
>> Roger Bivand wrote:
>>> 
>>> (reverting to list)
>>> 
>>> Correction, the user reported that:
>>> 
>>>> Apparently, gdalinfo retrieves the correct min, max, and statistics, 
>>>> despite the use of GDT_Int16.
>>> 
>>> on his Windows platform. The different GDAL versions ought to explain why 
>>> his gdalinfo says Int16 but gives statistics from UInt16.
>> ...
>>> On the trunk, GDT_Int16 is used too, so how does gdalinfo detect that it 
>>> is actually UInt16?
>> 
>> Roger,
>> 
>> I believe the min/max is actually being read from the file header in trunk
>> and is handled without regard to the actual imagery or it's type.
>> 
>> I skimmed the changelog for this driver and I didn't notice any obvious
>> changes in metadata / statistics handling so I'm surprised at this result.
>> 
>> Best regards,
>> 
>
> Frank,
>
> Having at last got the data and a current 1.7.0dev, I have to report that on 
> x86 Linux, I cannot reproduce the reading of Int16 as UInt16 reported by the 
> original questioner - I get Int16 and a negative minimum with gdalinfo, and 
> in rgdal using the same *.so. How the difference arose is unclear, I can 
> download FWTools and check on Windows.

Checked, same results. In the output sent by the original questioner, 
gdalinfo named two files:

C:\Program Files\FWTools2.4.2>gdalinfo stand_bm.gis
Driver: LAN/Erdas .LAN/.GIS
Files: c:\landis\harvest_problem\FTT-N_MinT-N\stand_bm.gis
       c:\landis\harvest_problem\FTT-N_MinT-N\stand_bm.gsw
Size is 1758, 839
...

so I think that the statistics are coming from stand_bm.gsw. He hasn't 
responded to my request for this file.

I've submitted a fresh rgdal to CRAN for release, but without any 
"guessing" about which type is "right". I've exposed by band what 
GetMinimum(), GetMaximum(), and GetRasterDataType() return, so that the 
user can investigate further, and documented that min/max may just be the 
range of the type, not of the band, unless given by pre-calculated sources 
(such as a header file).

I guess that there is no programmatic way for drivers to report what 
(internal) types they are putting into the GDTs, right?

With regard to LAN/GIS, I don't think that there are clear authorities for 
changing anything, but a slight change to the documentation, adding:

"4bit and 8bit data are read unsigned, 16bit data are read signed."

after the second sentence in the first paragraph.

Best wishes,

Roger

>
> I would argue for replacing Int16 by UInt16 in the LAN/GIS driver based on 
> PCI and ESRI references to the data types as unsigned, but am open to other 
> arguments.
>
> Best wishes,
>
> Roger
>
>

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no

From warmerdam at pobox.com  Wed Sep  2 15:55:57 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Sep  2 15:55:37 2009
Subject: [gdal-dev] Motion: Commit access for Harsh Govind
Message-ID: <4A9ECDCD.8040903@pobox.com>

Motion: Extent commit access to Harsh Govind.

---

PSC members,

Harsh reports:

"""
I am a GIS Developer  at SPADAC Inc. and responsibilities include compiling and 
upgrading GDAL for our products. In the past 4+ years at SPADAC I have setup 
automated build process for compiling and building GDAL along with its SDE 
(multiple versions of ArcSDE) and OCI drivers as plug-ins and C# wrapper for 
.NET version of our product: Signature Analyst? (SA) [Details: 
http://www.spadac.com/SignatureAnalyst/]. The build process keeps debug and 
release versions separate so programmers may step into the code if required 
during development. My upcoming tasks include creating separate builds for 
32bit and 64bit machines.

I have implemented multiple export formats (vector) for results of SA utilizing 
GDAL/ OGR. I have been involved in development of tools for reading/writing 
vector data using GDAL/OGR and also using C# wrapper giving me experience in 
both C++ and C# (SDE, SHP and PGDB formats in particular). E.g. Export SA 
assessment as Shapefile, Read SDE data source as factor for SA, Read PGDB data 
source as factor in SA, etc... I recently fixed a bug in ogrsdedatasource.cpp 
which would cause a failure to return a particular layer if SDE version is 
SDE.DEFAULT.

Also, I am involved in multiple tasks relating GDAL/OGR with other Team members 
that include KML Super Overlay driver and supporting date query in SHP files.
"""

Harsh and SPADAC have been contributing fixes through me and Trac and now have
several substantial improvements including a new KML Super Overlay driver they
would like to contribute.  I have suggested that Harsh become a committer so
that SPADAC can more directly contribute improvements.

I'll let Harsh confirm to the mailing list that he is prepared to adhere to
the RFC 3 GDAL Committer Guidelines.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Wed Sep  2 22:07:14 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Sep  2 22:38:06 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9E934B.2090306@geoanalytic.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
	<4A9E934B.2090306@geoanalytic.com>
Message-ID: <4A9F24D2.2030808@ualg.pt>

Brent Fraser wrote:
> I see the example calculation of the transformation matrix, and a 
> statement "I created a GeoPDF by running the Postscript file through 
> Ghostscript to create a Postscript file that looks like this"
> 
> But I don't see where the georeferencing is written into PDF to make it 
> a GeoPDF.  Is it a Ghostscript command line?

Brent,

One only has to convert it to pdf using ghostscript.
I did it with GMT's ps2raster, like that

ps2raster quad.ps -Tf -A

Joaquim Luis

> 
> Brent
> 
> Klokan Petr P?idal wrote:
>> Hi,
>>
>> There is a great blog post (and the linked "worked example" post with 
>> details):
>> http://geopdf.blogspot.com/2009/02/geopdf-map-for-worked-example.html
>>
>> It shows you how to create geopdf via GhostScript - so there is
>> already a practical open-source example how to encode the georeference
>> into the PDF/PS according the OGC standard - for use in Acrobat
>> Reader. To add support for such tag in MapServer, which generates pdf
>> dynamicaly via pdflib, should not be totally problematic.
>>
>> Decoding is not as hard either, there are nice libraries like poppler
>> (http://poppler.freedesktop.org/), which allows you to parse vectors
>> (and convert them to SVG for example) or rasterize the PDF files (into
>> TIFF,...) via Cairo.
>> The work is in assigning correct geographic coordinates to the
>> coordinate system internally used in PDF files and especially write
>> the bridge to the outside world (with GDAL/OGR).
>> I am afraid that authors of the GeoPDF standard would not like this,
>> as it seems that the idea of GeoPDF is "see it in the Acrobat, print
>> it, but that's all". At least I think so, because they discontinued
>> their Geopdf2geotiff product and all the conversion tools are just one
>> way - into GeoPDF. Please correct me...
>>
>> Anyway, in this moment you can quite easily use utility like
>> "pdfimages" to extract full quality image tiles from any GeoPDF (like
>> those from USGS) and merge it based on their location in PDF into one
>> GDAL file via VRT (gdalbuildvrt) with a bit of hacking. This is what I
>> did for my favorite USGS DRG of Grand Canyon ;-).
>> Look at: http://klokan.mzk.cz/~klokan/geopdf/ - soon I will update the
>> MapTiler.org overlay examples...
>>
>> Unfortunately all PDF parsing libraries I know are GPL, and that means
>> we can't use them for the gdal driver - because of the license issues.
>> But to create a GPL utility for converting GeoPDF to anything what
>> GDAL/OGR supports should be OK. Poppler can be the best base of such
>> GDAL-based utility for reading/rasterizing of the GeoPDF files.
>>
>> Now just find a sponsor and time to make it ;-).
>>
>> Best,
>>
>> Klokan Petr Pridal
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From bfraser at geoanalytic.com  Thu Sep  3 09:50:37 2009
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Thu Sep  3 09:51:09 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9F24D2.2030808@ualg.pt>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
	<4A9E934B.2090306@geoanalytic.com> <4A9F24D2.2030808@ualg.pt>
Message-ID: <4A9FC9AD.4050202@geoanalytic.com>

Joaquim,

   Doing the format conversion from .ps to pdf is one thing (and there are 
several ways to do it), but embedding the georeferencing in the PDF to make it a 
GeoPDF is the interesting bit.  I haven't found any open source project capable 
of do that.  Or even capable of writing the PDF elements (e.g. Frames) necessary 
for writing the GeoPDF information.  But I remain hopeful...

Brent

Joaquim Luis wrote:
> Brent Fraser wrote:
>> I see the example calculation of the transformation matrix, and a 
>> statement "I created a GeoPDF by running the Postscript file through 
>> Ghostscript to create a Postscript file that looks like this"
>>
>> But I don't see where the georeferencing is written into PDF to make 
>> it a GeoPDF.  Is it a Ghostscript command line?
> 
> Brent,
> 
> One only has to convert it to pdf using ghostscript.
> I did it with GMT's ps2raster, like that
> 
> ps2raster quad.ps -Tf -A
> 
> Joaquim Luis
> 
>>
>> Brent
>>
>> Klokan Petr P?idal wrote:
>>> Hi,
>>>
>>> There is a great blog post (and the linked "worked example" post with 
>>> details):
>>> http://geopdf.blogspot.com/2009/02/geopdf-map-for-worked-example.html
>>>
>>> It shows you how to create geopdf via GhostScript - so there is
>>> already a practical open-source example how to encode the georeference
>>> into the PDF/PS according the OGC standard - for use in Acrobat
>>> Reader. To add support for such tag in MapServer, which generates pdf
>>> dynamicaly via pdflib, should not be totally problematic.
>>>
>>> Decoding is not as hard either, there are nice libraries like poppler
>>> (http://poppler.freedesktop.org/), which allows you to parse vectors
>>> (and convert them to SVG for example) or rasterize the PDF files (into
>>> TIFF,...) via Cairo.
>>> The work is in assigning correct geographic coordinates to the
>>> coordinate system internally used in PDF files and especially write
>>> the bridge to the outside world (with GDAL/OGR).
>>> I am afraid that authors of the GeoPDF standard would not like this,
>>> as it seems that the idea of GeoPDF is "see it in the Acrobat, print
>>> it, but that's all". At least I think so, because they discontinued
>>> their Geopdf2geotiff product and all the conversion tools are just one
>>> way - into GeoPDF. Please correct me...
>>>
>>> Anyway, in this moment you can quite easily use utility like
>>> "pdfimages" to extract full quality image tiles from any GeoPDF (like
>>> those from USGS) and merge it based on their location in PDF into one
>>> GDAL file via VRT (gdalbuildvrt) with a bit of hacking. This is what I
>>> did for my favorite USGS DRG of Grand Canyon ;-).
>>> Look at: http://klokan.mzk.cz/~klokan/geopdf/ - soon I will update the
>>> MapTiler.org overlay examples...
>>>
>>> Unfortunately all PDF parsing libraries I know are GPL, and that means
>>> we can't use them for the gdal driver - because of the license issues.
>>> But to create a GPL utility for converting GeoPDF to anything what
>>> GDAL/OGR supports should be OK. Poppler can be the best base of such
>>> GDAL-based utility for reading/rasterizing of the GeoPDF files.
>>>
>>> Now just find a sponsor and time to make it ;-).
>>>
>>> Best,
>>>
>>> Klokan Petr Pridal
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
> 
> 
From jluis at ualg.pt  Thu Sep  3 10:18:52 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Sep  3 10:19:25 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9FC9AD.4050202@geoanalytic.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
	<4A9E934B.2090306@geoanalytic.com> <4A9F24D2.2030808@ualg.pt>
	<4A9FC9AD.4050202@geoanalytic.com>
Message-ID: <4A9FD04C.3010805@ualg.pt>

Brent,

I was also digging a bit on this matter. It's true that the blogger only opens
our appetite as there is no more details on how to do it generally. I mean, for
UTM maps it has become fairly obvious how one can do it. The relevant part in the
PS file is

[ {ThisPage} <<
/LGIDict <<
   /Description Title
   /CTM [(35.28267) (0) (0) (35.28267) (205188.64) (3207094.8)]
   /Projection <<
     /Description (WGS 84 UTM 16N)
     /ProjectionType (TC)
     /Datum (WGE)
     /CentralMeridian (-87.0)
     /OriginLatitude (0.0)
     /FalseEasting (500000.0)
     /FalseNorthing (0.0)
     /ScaleFactor (0.999600)
     /Type /Projection
    >>
    /Type /LGIDict
    /Version (2.1)
 >>
 >> /PUT pdfmark

However, there is no more info on how to program in this "TerraGo way"
A next post shads a bit more lite on the matter.
http://geopdf.blogspot.com/2009/02/geopdf-and-geops-with-adobe-style.html
As you can see in the quada.ps file there is an alternative "Adobe way",
which encodes the referencing as

% embed georegistation info
[ {ThisPage} <<
   /VP [ <<
     /Type /Viewport
     /BBox[0 0 dh dv]
     /Name Title
     /Measure <<
       /Type /Measure
       /Subtype /GEO
       /Bounds[0 0 0 1 1 1 1 0]
       /GPTS[29.0 -90.0 30.0 -90.0 30.0 -89.0 29.0 -89.0]
       /LPTS[0.024324 0.039461 0.051689 0.978774 0.975675 0.961136 0.957432 0.022122]
       /GCS <<
         /Type /PROJCS
         /WKT 
(PROJCS["WGS_1984_UTM_Zone_16N",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-87],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["Meter",1]])
       >>
     >>
   >>]
 >> /PUT pdfmark

Now this is more familiar, except for the
/LPTS[0.024324 0.039461 0.051689 0.978774 0.975675 0.961136 0.957432 0.022122]
part that, contrary to the promise has not been explained where it comes from.

I think I could implement the first encoding type in GMT's ps2raster (if I knew all the specs)
Second type would be even easier ... if we had a way to translate the GMT projection syntax into
WKT, which we don't.

Joaquim


> Joaquim,
> 
>   Doing the format conversion from .ps to pdf is one thing (and there 
> are several ways to do it), but embedding the georeferencing in the PDF 
> to make it a GeoPDF is the interesting bit.  I haven't found any open 
> source project capable of do that.  Or even capable of writing the PDF 
> elements (e.g. Frames) necessary for writing the GeoPDF information.  
> But I remain hopeful...
> 
> Brent
> 
> Joaquim Luis wrote:
>> Brent Fraser wrote:
>>> I see the example calculation of the transformation matrix, and a 
>>> statement "I created a GeoPDF by running the Postscript file through 
>>> Ghostscript to create a Postscript file that looks like this"
>>>
>>> But I don't see where the georeferencing is written into PDF to make 
>>> it a GeoPDF.  Is it a Ghostscript command line?
>>
>> Brent,
>>
>> One only has to convert it to pdf using ghostscript.
>> I did it with GMT's ps2raster, like that
>>
>> ps2raster quad.ps -Tf -A
>>
>> Joaquim Luis
>>
>>>
>>> Brent
>>>
>>> Klokan Petr P?idal wrote:
>>>> Hi,
>>>>
>>>> There is a great blog post (and the linked "worked example" post 
>>>> with details):
>>>> http://geopdf.blogspot.com/2009/02/geopdf-map-for-worked-example.html
>>>>
>>>> It shows you how to create geopdf via GhostScript - so there is
>>>> already a practical open-source example how to encode the georeference
>>>> into the PDF/PS according the OGC standard - for use in Acrobat
>>>> Reader. To add support for such tag in MapServer, which generates pdf
>>>> dynamicaly via pdflib, should not be totally problematic.
>>>>
>>>> Decoding is not as hard either, there are nice libraries like poppler
>>>> (http://poppler.freedesktop.org/), which allows you to parse vectors
>>>> (and convert them to SVG for example) or rasterize the PDF files (into
>>>> TIFF,...) via Cairo.
>>>> The work is in assigning correct geographic coordinates to the
>>>> coordinate system internally used in PDF files and especially write
>>>> the bridge to the outside world (with GDAL/OGR).
>>>> I am afraid that authors of the GeoPDF standard would not like this,
>>>> as it seems that the idea of GeoPDF is "see it in the Acrobat, print
>>>> it, but that's all". At least I think so, because they discontinued
>>>> their Geopdf2geotiff product and all the conversion tools are just one
>>>> way - into GeoPDF. Please correct me...
>>>>
>>>> Anyway, in this moment you can quite easily use utility like
>>>> "pdfimages" to extract full quality image tiles from any GeoPDF (like
>>>> those from USGS) and merge it based on their location in PDF into one
>>>> GDAL file via VRT (gdalbuildvrt) with a bit of hacking. This is what I
>>>> did for my favorite USGS DRG of Grand Canyon ;-).
>>>> Look at: http://klokan.mzk.cz/~klokan/geopdf/ - soon I will update the
>>>> MapTiler.org overlay examples...
>>>>
>>>> Unfortunately all PDF parsing libraries I know are GPL, and that means
>>>> we can't use them for the gdal driver - because of the license issues.
>>>> But to create a GPL utility for converting GeoPDF to anything what
>>>> GDAL/OGR supports should be OK. Poppler can be the best base of such
>>>> GDAL-based utility for reading/rasterizing of the GeoPDF files.
>>>>
>>>> Now just find a sponsor and time to make it ;-).
>>>>
>>>> Best,
>>>>
>>>> Klokan Petr Pridal
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>>
> 
> 

From P.Halls at york.ac.uk  Thu Sep  3 10:38:00 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu Sep  3 10:38:08 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9FD04C.3010805@ualg.pt>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>	<4A9E934B.2090306@geoanalytic.com>
	<4A9F24D2.2030808@ualg.pt>	<4A9FC9AD.4050202@geoanalytic.com>
	<4A9FD04C.3010805@ualg.pt>
Message-ID: <4A9FD4C8.2000809@york.ac.uk>

A bit of googling determines that the 'Adobe way' structure, together with its 
elements, is defined in the ISO PDF definition - ISO 32000-1 (2008).

Looking at this with a PostScript Developer hat, the /LPTS has to be associated 
with scaling / transforming the GPTS coordinates to the page coordinate system. 
  There is a need to refer to the standard!

Best wishes,

Peter

Joaquim Luis wrote:
> Brent,
> 
> I was also digging a bit on this matter. It's true that the blogger only 
> opens
> our appetite as there is no more details on how to do it generally. I 
> mean, for
> UTM maps it has become fairly obvious how one can do it. The relevant 
> part in the
> PS file is
> 
> [ {ThisPage} <<
> /LGIDict <<
>   /Description Title
>   /CTM [(35.28267) (0) (0) (35.28267) (205188.64) (3207094.8)]
>   /Projection <<
>     /Description (WGS 84 UTM 16N)
>     /ProjectionType (TC)
>     /Datum (WGE)
>     /CentralMeridian (-87.0)
>     /OriginLatitude (0.0)
>     /FalseEasting (500000.0)
>     /FalseNorthing (0.0)
>     /ScaleFactor (0.999600)
>     /Type /Projection
>    >>
>    /Type /LGIDict
>    /Version (2.1)
>  >>
>  >> /PUT pdfmark
> 
> However, there is no more info on how to program in this "TerraGo way"
> A next post shads a bit more lite on the matter.
> http://geopdf.blogspot.com/2009/02/geopdf-and-geops-with-adobe-style.html
> As you can see in the quada.ps file there is an alternative "Adobe way",
> which encodes the referencing as
> 
> % embed georegistation info
> [ {ThisPage} <<
>   /VP [ <<
>     /Type /Viewport
>     /BBox[0 0 dh dv]
>     /Name Title
>     /Measure <<
>       /Type /Measure
>       /Subtype /GEO
>       /Bounds[0 0 0 1 1 1 1 0]
>       /GPTS[29.0 -90.0 30.0 -90.0 30.0 -89.0 29.0 -89.0]
>       /LPTS[0.024324 0.039461 0.051689 0.978774 0.975675 0.961136 
> 0.957432 0.022122]
>       /GCS <<
>         /Type /PROJCS
>         /WKT 
> (PROJCS["WGS_1984_UTM_Zone_16N",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-87],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["Meter",1]]) 
> 
>       >>
>     >>
>   >>]
>  >> /PUT pdfmark
> 
> Now this is more familiar, except for the
> /LPTS[0.024324 0.039461 0.051689 0.978774 0.975675 0.961136 0.957432 
> 0.022122]
> part that, contrary to the promise has not been explained where it comes 
> from.
> 
> I think I could implement the first encoding type in GMT's ps2raster (if 
> I knew all the specs)
> Second type would be even easier ... if we had a way to translate the 
> GMT projection syntax into
> WKT, which we don't.
> 
> Joaquim
> 
> 
>> Joaquim,
>>
>>   Doing the format conversion from .ps to pdf is one thing (and there 
>> are several ways to do it), but embedding the georeferencing in the 
>> PDF to make it a GeoPDF is the interesting bit.  I haven't found any 
>> open source project capable of do that.  Or even capable of writing 
>> the PDF elements (e.g. Frames) necessary for writing the GeoPDF 
>> information.  But I remain hopeful...
>>
>> Brent
>>
>> Joaquim Luis wrote:
>>> Brent Fraser wrote:
>>>> I see the example calculation of the transformation matrix, and a 
>>>> statement "I created a GeoPDF by running the Postscript file through 
>>>> Ghostscript to create a Postscript file that looks like this"
>>>>
>>>> But I don't see where the georeferencing is written into PDF to make 
>>>> it a GeoPDF.  Is it a Ghostscript command line?
>>>
>>> Brent,
>>>
>>> One only has to convert it to pdf using ghostscript.
>>> I did it with GMT's ps2raster, like that
>>>
>>> ps2raster quad.ps -Tf -A
>>>
>>> Joaquim Luis
>>>
>>>>
>>>> Brent
>>>>
>>>> Klokan Petr P?idal wrote:
>>>>> Hi,
>>>>>
>>>>> There is a great blog post (and the linked "worked example" post 
>>>>> with details):
>>>>> http://geopdf.blogspot.com/2009/02/geopdf-map-for-worked-example.html
>>>>>
>>>>> It shows you how to create geopdf via GhostScript - so there is
>>>>> already a practical open-source example how to encode the georeference
>>>>> into the PDF/PS according the OGC standard - for use in Acrobat
>>>>> Reader. To add support for such tag in MapServer, which generates pdf
>>>>> dynamicaly via pdflib, should not be totally problematic.
>>>>>
>>>>> Decoding is not as hard either, there are nice libraries like poppler
>>>>> (http://poppler.freedesktop.org/), which allows you to parse vectors
>>>>> (and convert them to SVG for example) or rasterize the PDF files (into
>>>>> TIFF,...) via Cairo.
>>>>> The work is in assigning correct geographic coordinates to the
>>>>> coordinate system internally used in PDF files and especially write
>>>>> the bridge to the outside world (with GDAL/OGR).
>>>>> I am afraid that authors of the GeoPDF standard would not like this,
>>>>> as it seems that the idea of GeoPDF is "see it in the Acrobat, print
>>>>> it, but that's all". At least I think so, because they discontinued
>>>>> their Geopdf2geotiff product and all the conversion tools are just one
>>>>> way - into GeoPDF. Please correct me...
>>>>>
>>>>> Anyway, in this moment you can quite easily use utility like
>>>>> "pdfimages" to extract full quality image tiles from any GeoPDF (like
>>>>> those from USGS) and merge it based on their location in PDF into one
>>>>> GDAL file via VRT (gdalbuildvrt) with a bit of hacking. This is what I
>>>>> did for my favorite USGS DRG of Grand Canyon ;-).
>>>>> Look at: http://klokan.mzk.cz/~klokan/geopdf/ - soon I will update the
>>>>> MapTiler.org overlay examples...
>>>>>
>>>>> Unfortunately all PDF parsing libraries I know are GPL, and that means
>>>>> we can't use them for the gdal driver - because of the license issues.
>>>>> But to create a GPL utility for converting GeoPDF to anything what
>>>>> GDAL/OGR supports should be OK. Poppler can be the best base of such
>>>>> GDAL-based utility for reading/rasterizing of the GeoPDF files.
>>>>>
>>>>> Now just find a sponsor and time to make it ;-).
>>>>>
>>>>> Best,
>>>>>
>>>>> Klokan Petr Pridal
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>
>>>
>>
>>
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From jluis at ualg.pt  Thu Sep  3 10:49:42 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Sep  3 10:49:56 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9FD4C8.2000809@york.ac.uk>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>	<4A9E934B.2090306@geoanalytic.com>
	<4A9F24D2.2030808@ualg.pt>	<4A9FC9AD.4050202@geoanalytic.com>
	<4A9FD04C.3010805@ualg.pt> <4A9FD4C8.2000809@york.ac.uk>
Message-ID: <4A9FD786.1010003@ualg.pt>

Peter J Halls wrote:
> A bit of googling determines that the 'Adobe way' structure, together 
> with its elements, is defined in the ISO PDF definition - ISO 32000-1 
> (2008).
> 
> Looking at this with a PostScript Developer hat, the /LPTS has to be 
> associated with scaling / transforming the GPTS coordinates to the page 
> coordinate system.  There is a need to refer to the standard!

Yes,

And the "TerraGo way" comes possibly from this document
"GeoPDF Encoding Best Practice Version 2.2"
http://portal.opengeospatial.org/files/?artifact_id=33332
From jonas.malmqvist at fsdynamics.se  Thu Sep  3 10:30:56 2009
From: jonas.malmqvist at fsdynamics.se (Jonas Malmqvist)
Date: Thu Sep  3 11:03:35 2009
Subject: [gdal-dev] Shapefile to Arc/info ascii
Message-ID: <4A9FD320.4030002@fsdynamics.se>

Hi all,
I've been looking around in your mailing list searching for a way to 
convert a vector shapefile to a raster Arc/Info ascii format but haven't 
found any applicable example. It seems like rasterize could be a 
solution in the GDAL library but I don't get how.  The steps I'm aiming 
to perform are the ones below, can  GDAL do that?

*Put together a mosaic of several shape files into one single shape file.
*Crop a rectangular area of the new shape file.
*Rasterize the new shapefile file (all shapes should be used) with a 
specific resolution in x and y and specify which attribute column that 
should be rasterized.

Thank you,
Jonas Malmqvist



-- 
??????????????????????????????????????????????????????????????????????
Jonas Malmqvist
FS Dynamics AB
Jungmansgatan 31
SE-413 11 G?teborg
Sweden
Phone: +46 (0)31 720 71 45
Fax:   +46 (0)31 761 99 49
E-mail:	jonas.malmqvist@fsdynamics.se

From bfraser at geoanalytic.com  Thu Sep  3 11:08:21 2009
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Thu Sep  3 11:08:47 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9FD04C.3010805@ualg.pt>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
	<4A9E934B.2090306@geoanalytic.com> <4A9F24D2.2030808@ualg.pt>
	<4A9FC9AD.4050202@g <4A9FD04C.3010805@ualg.pt>
Message-ID: <4A9FDBE5.1030407@geoanalytic.com>

Joaquim,

   Interesting! As Peter pointed out, the LPTS tag is the transformation matrix 
to go from projected coords to page coords, and is created by forming the 
UTM->page coordinates tranformation (from the information in the CTM tag below) 
and inverting it (there's a brief mention near the end of 
http://geopdf.blogspot.com/2009/02/georegistration-worked-example.html)

   Since the TerraGo way has been superceded by the Adobe/ISO way (thank 
goodness!), it makes it easier to identify the reference system definition in 
GDAL, so there may be some hope for GDAL and GeoPDF.

   Now I need to think about my requirements for reading and writing GeoPDFs. 
Write a Postscript driver for GDAL?   Figure out how to write the equivalent 
info into a PDF using Mapserver/Cairo?  Yikes!

Thanks,
Brent

Joaquim Luis wrote:
> Brent,
> 
> I was also digging a bit on this matter. It's true that the blogger only 
> opens
> our appetite as there is no more details on how to do it generally. I 
> mean, for
> UTM maps it has become fairly obvious how one can do it. The relevant 
> part in the
> PS file is
> 
> [ {ThisPage} <<
> /LGIDict <<
>   /Description Title
>   /CTM [(35.28267) (0) (0) (35.28267) (205188.64) (3207094.8)]
>   /Projection <<
>     /Description (WGS 84 UTM 16N)
>     /ProjectionType (TC)
>     /Datum (WGE)
>     /CentralMeridian (-87.0)
>     /OriginLatitude (0.0)
>     /FalseEasting (500000.0)
>     /FalseNorthing (0.0)
>     /ScaleFactor (0.999600)
>     /Type /Projection
>    >>
>    /Type /LGIDict
>    /Version (2.1)
>> >
>> > /PUT pdfmark
> 
> However, there is no more info on how to program in this "TerraGo way"
> A next post shads a bit more lite on the matter.
> http://geopdf.blogspot.com/2009/02/geopdf-and-geops-with-adobe-style.html
> As you can see in the quada.ps file there is an alternative "Adobe way",
> which encodes the referencing as
> 
> % embed georegistation info
> [ {ThisPage} <<
>   /VP [ <<
>     /Type /Viewport
>     /BBox[0 0 dh dv]
>     /Name Title
>     /Measure <<
>       /Type /Measure
>       /Subtype /GEO
>       /Bounds[0 0 0 1 1 1 1 0]
>       /GPTS[29.0 -90.0 30.0 -90.0 30.0 -89.0 29.0 -89.0]
>       /LPTS[0.024324 0.039461 0.051689 0.978774 0.975675 0.961136 
> 0.957432 0.022122]
>       /GCS <<
>         /Type /PROJCS
>         /WKT 
> (PROJCS["WGS_1984_UTM_Zone_16N",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-87],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["Meter",1]]) 
> 
>       >>
>     >>
>   >>]
>> > /PUT pdfmark
> 
> Now this is more familiar, except for the
> /LPTS[0.024324 0.039461 0.051689 0.978774 0.975675 0.961136 0.957432 
> 0.022122]
> part that, contrary to the promise has not been explained where it comes 
> from.
> 
> I think I could implement the first encoding type in GMT's ps2raster (if 
> I knew all the specs)
> Second type would be even easier ... if we had a way to translate the 
> GMT projection syntax into
> WKT, which we don't.
> 
> Joaquim
> 
> 
>> Joaquim,
>>
>>   Doing the format conversion from .ps to pdf is one thing (and there 
>> are several ways to do it), but embedding the georeferencing in the 
>> PDF to make it a GeoPDF is the interesting bit.  I haven't found any 
>> open source project capable of do that.  Or even capable of writing 
>> the PDF elements (e.g. Frames) necessary for writing the GeoPDF 
>> information.  But I remain hopeful...
>>
>> Brent
>>
>> Joaquim Luis wrote:
>>> Brent Fraser wrote:
>>>> I see the example calculation of the transformation matrix, and a 
>>>> statement "I created a GeoPDF by running the Postscript file through 
>>>> Ghostscript to create a Postscript file that looks like this"
>>>>
>>>> But I don't see where the georeferencing is written into PDF to make 
>>>> it a GeoPDF.  Is it a Ghostscript command line?
>>>
>>> Brent,
>>>
>>> One only has to convert it to pdf using ghostscript.
>>> I did it with GMT's ps2raster, like that
>>>
>>> ps2raster quad.ps -Tf -A
>>>
>>> Joaquim Luis
>>>
>>>>
>>>> Brent
>>>>
>>>> Klokan Petr P?idal wrote:
>>>>> Hi,
>>>>>
>>>>> There is a great blog post (and the linked "worked example" post 
>>>>> with details):
>>>>> http://geopdf.blogspot.com/2009/02/geopdf-map-for-worked-example.html
>>>>>
>>>>> It shows you how to create geopdf via GhostScript - so there is
>>>>> already a practical open-source example how to encode the georeference
>>>>> into the PDF/PS according the OGC standard - for use in Acrobat
>>>>> Reader. To add support for such tag in MapServer, which generates pdf
>>>>> dynamicaly via pdflib, should not be totally problematic.
>>>>>
>>>>> Decoding is not as hard either, there are nice libraries like poppler
>>>>> (http://poppler.freedesktop.org/), which allows you to parse vectors
>>>>> (and convert them to SVG for example) or rasterize the PDF files (into
>>>>> TIFF,...) via Cairo.
>>>>> The work is in assigning correct geographic coordinates to the
>>>>> coordinate system internally used in PDF files and especially write
>>>>> the bridge to the outside world (with GDAL/OGR).
>>>>> I am afraid that authors of the GeoPDF standard would not like this,
>>>>> as it seems that the idea of GeoPDF is "see it in the Acrobat, print
>>>>> it, but that's all". At least I think so, because they discontinued
>>>>> their Geopdf2geotiff product and all the conversion tools are just one
>>>>> way - into GeoPDF. Please correct me...
>>>>>
>>>>> Anyway, in this moment you can quite easily use utility like
>>>>> "pdfimages" to extract full quality image tiles from any GeoPDF (like
>>>>> those from USGS) and merge it based on their location in PDF into one
>>>>> GDAL file via VRT (gdalbuildvrt) with a bit of hacking. This is what I
>>>>> did for my favorite USGS DRG of Grand Canyon ;-).
>>>>> Look at: http://klokan.mzk.cz/~klokan/geopdf/ - soon I will update the
>>>>> MapTiler.org overlay examples...
>>>>>
>>>>> Unfortunately all PDF parsing libraries I know are GPL, and that means
>>>>> we can't use them for the gdal driver - because of the license issues.
>>>>> But to create a GPL utility for converting GeoPDF to anything what
>>>>> GDAL/OGR supports should be OK. Poppler can be the best base of such
>>>>> GDAL-based utility for reading/rasterizing of the GeoPDF files.
>>>>>
>>>>> Now just find a sponsor and time to make it ;-).
>>>>>
>>>>> Best,
>>>>>
>>>>> Klokan Petr Pridal
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>
>>>
>>
>>
> 
> 
From jorsion at gmail.com  Thu Sep  3 11:22:03 2009
From: jorsion at gmail.com (jor sion)
Date: Thu Sep  3 11:29:37 2009
Subject: [gdal-dev] about one-dimensional vector dataset
Message-ID: <8c2bdf730909030822j1d71bdd7od1f4c3da6c1e6d68@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 2750 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090903/b754a9e0/attachment.png
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 1059 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090903/b754a9e0/attachment-0001.png
From warmerdam at pobox.com  Thu Sep  3 11:33:44 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep  3 11:33:34 2009
Subject: [gdal-dev] Shapefile to Arc/info ascii
In-Reply-To: <4A9FD320.4030002@fsdynamics.se>
References: <4A9FD320.4030002@fsdynamics.se>
Message-ID: <4A9FE1D8.2070901@pobox.com>

Jonas Malmqvist wrote:
> Hi all,
> I've been looking around in your mailing list searching for a way to 
> convert a vector shapefile to a raster Arc/Info ascii format but haven't 
> found any applicable example. It seems like rasterize could be a 
> solution in the GDAL library but I don't get how.  The steps I'm aiming 
> to perform are the ones below, can  GDAL do that?
> 
> *Put together a mosaic of several shape files into one single shape file.

Jonas,

ogr2ogr with the -update and -append switches can be used to concatenate
several compatible shapefiles into one.  The source files should have
essentially the same set of attributes and a compatible geometry type.

> *Crop a rectangular area of the new shape file.

ogr2ogr can extract only the features that intersect a particular
rectangle using the -spat switch.  However, the features that are partly
inside, and partly outside are not clipped to the rectangle - you get
the whole feature.

> *Rasterize the new shapefile file (all shapes should be used) with a 
> specific resolution in x and y and specify which attribute column that 
> should be rasterized.

The gdal_rasterize command can handle the rasterization (use -a to
select the attribute field to burn in), but you will have to precreate
the file with the desired georeferenced region and resolution.  This
can often be accomplished through suitable use of gdal_translate or it
can be easily done in a gdal script (python, etc).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Thu Sep  3 11:40:12 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Sep  3 11:40:25 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9FDBE5.1030407@geoanalytic.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
	<4A9E934B.2090306@geoanalytic.com> <4A9F24D2.2030808@ualg.pt>
	<4A9FC9AD.4050202@g <4A9FD04C.3010805@ualg.pt>
	<4A9FDBE5.1030407@geoanalytic.com>
Message-ID: <4A9FE35C.9030804@ualg.pt>

Brent Fraser wrote:
> Joaquim,
> 
>   Interesting! As Peter pointed out, the LPTS tag is the transformation 
> matrix to go from projected coords to page coords, and is created by 
> forming the UTM->page coordinates tranformation (from the information in 
> the CTM tag below) and inverting it (there's a brief mention near the 
> end of 
> http://geopdf.blogspot.com/2009/02/georegistration-worked-example.html)
> 
>   Since the TerraGo way has been superceded by the Adobe/ISO way (thank 
> goodness!), it makes it easier to identify the reference system 
> definition in GDAL, so there may be some hope for GDAL and GeoPDF.



>   Now I need to think about my requirements for reading and writing 
> GeoPDFs. Write a Postscript driver for GDAL?   Figure out how to write 
> the equivalent info into a PDF using Mapserver/Cairo?  Yikes!

Brent,

I am on this list more to keep learning (as the present case) than as a
core GDAL user (but I use GDAL a lot in Mirone). In fact I am much more
a GMT user where I also do some development. I mentioned it before here
but probably it slipped away, the GMT program ps2raster can write world files
and create GeoTIFFs (from system calls to GDAL) from postscript files
created by GMT.
I think that it wouldn't be very hard to extend ps2raster's ability to
write GeoPDFs if, as I said before, there was a way to get a WKT from a
-J... GMT syntax.
Anyway, it wouldn't be a GDAL solution and a write-only one so I don't
know what else to tell you.

Joaquim
From peifer at gmx.eu  Thu Sep  3 11:41:41 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Thu Sep  3 11:41:44 2009
Subject: [gdal-dev] Re: Shapefile to Arc/info ascii
In-Reply-To: <4A9FD320.4030002@fsdynamics.se>
References: <4A9FD320.4030002@fsdynamics.se>
Message-ID: <4A9FE3B5.1000803@gmx.eu>

Jonas Malmqvist wrote:
> 
> *Put together a mosaic of several shape files into one single shape file.

http://www.gdal.org/ogr/drv_shapefile.html
(see the example at the bottom of the page)

> *Crop a rectangular area of the new shape file.
> *Rasterize the new shapefile file (all shapes should be used) with a 
> specific resolution in x and y and specify which attribute column that 
> should be rasterized.

Create a blank raster file in the desired extents and resolution, e.g. 
via gdal_translate, see 
http://lists.osgeo.org/pipermail/gdal-dev/2008-February/016061.html

Finally: gdal_rasterize -a ...
see http://www.gdal.org/gdal_rasterize.html

Hermann
From harsh.govind at spadac.com  Thu Sep  3 12:43:10 2009
From: harsh.govind at spadac.com (Harsh Govind)
Date: Thu Sep  3 12:43:14 2009
Subject: [gdal-dev] Motion: Commit access for Harsh Govind
In-Reply-To: <4A9ECDCD.8040903@pobox.com>
References: <4A9ECDCD.8040903@pobox.com>
Message-ID: <4B3B3C35D34C9345BC8914C199882E2817E7B079D7@SPATCEX003.spadac.com>

Good Afternoon All,
I have read and understood the RFC 3 GDAL committer guidelines (http://trac.osgeo.org/gdal/wiki/rfc3_commiters) and I accept the agreement. 

Regards,
Harsh Govind
SPADAC Inc.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Wednesday, September 02, 2009 3:56 PM
To: gdal-dev
Subject: [gdal-dev] Motion: Commit access for Harsh Govind

Motion: Extent commit access to Harsh Govind.

---

PSC members,

Harsh reports:

"""
I am a GIS Developer  at SPADAC Inc. and responsibilities include compiling and 
upgrading GDAL for our products. In the past 4+ years at SPADAC I have setup 
automated build process for compiling and building GDAL along with its SDE 
(multiple versions of ArcSDE) and OCI drivers as plug-ins and C# wrapper for 
.NET version of our product: Signature Analyst(r) (SA) [Details: 
http://www.spadac.com/SignatureAnalyst/]. The build process keeps debug and 
release versions separate so programmers may step into the code if required 
during development. My upcoming tasks include creating separate builds for 
32bit and 64bit machines.

I have implemented multiple export formats (vector) for results of SA utilizing 
GDAL/ OGR. I have been involved in development of tools for reading/writing 
vector data using GDAL/OGR and also using C# wrapper giving me experience in 
both C++ and C# (SDE, SHP and PGDB formats in particular). E.g. Export SA 
assessment as Shapefile, Read SDE data source as factor for SA, Read PGDB data 
source as factor in SA, etc... I recently fixed a bug in ogrsdedatasource.cpp 
which would cause a failure to return a particular layer if SDE version is 
SDE.DEFAULT.

Also, I am involved in multiple tasks relating GDAL/OGR with other Team members 
that include KML Super Overlay driver and supporting date query in SHP files.
"""

Harsh and SPADAC have been contributing fixes through me and Trac and now have
several substantial improvements including a new KML Super Overlay driver they
would like to contribute.  I have suggested that Harsh become a committer so
that SPADAC can more directly contribute improvements.

I'll let Harsh confirm to the mailing list that he is prepared to adhere to
the RFC 3 GDAL Committer Guidelines.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From mattxbart at gmail.com  Thu Sep  3 12:55:04 2009
From: mattxbart at gmail.com (Matt Bartolome)
Date: Thu Sep  3 12:55:07 2009
Subject: [gdal-dev] Seek error accessing TIFF directory
Message-ID: <633d34560909030955m443e4554ofcc14a3923f0fd11@mail.gmail.com>

Hello list,

I just compiled gdal 1.6.2 on my fedora 10 box from source. I'm in the
process of evaluating some 2009 imagery in geotiff format. I've tried
compiling with external libs and internal options with the same
result.

# ./configure --with-libtiff=internal --with-geotiff=internal

When processing the tiff with mapnik rendering library I get:
UserWarning: TIFFReadDirectory [myfile].tif  Seek error accessing TIFF
directory (encountered during parsing of layer 'imagery')

I'm not sure what function of gdal is being called by mapnik but
things like gdalinfo, gdalwarp seem to work without any issues its
just when rendering a tile with mapnik.

When I compile against gdal version 1.5.3 (package install with fedora
10) everything seems to work as expected.

Any suggestions or is this a bug in the newer version?
-Matt
From warmerdam at pobox.com  Thu Sep  3 13:04:27 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep  3 13:04:09 2009
Subject: [gdal-dev] about one-dimensional vector dataset
In-Reply-To: <8c2bdf730909030822j1d71bdd7od1f4c3da6c1e6d68@mail.gmail.com>
References: <8c2bdf730909030822j1d71bdd7od1f4c3da6c1e6d68@mail.gmail.com>
Message-ID: <4A9FF71B.4040604@pobox.com>

jor sion wrote:
> Hi,
>  
> How to get values of one-dimensional vector dataset like this
>  1.png
> the X_Axis dataset is showed in HDF Explorer like this:
> 2.png
> 
> I could not access these dataset via GetMetadata("SUBDATASETS") method, 
> Anybody could tell me how to access these datasets?

JoSn,

The graphic isn't much for me to go on.  Perhaps you could provide a
pointer to a dataset that we could examine?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From hobu.inc at gmail.com  Thu Sep  3 13:05:38 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Sep  3 13:14:45 2009
Subject: [gdal-dev] Motion: Commit access for Harsh Govind
In-Reply-To: <4A9ECDCD.8040903@pobox.com>
References: <4A9ECDCD.8040903@pobox.com>
Message-ID: <F48BB714-08EC-4616-9FDF-6A14DE103168@gmail.com>

+1.  I look forward to SDE maintenance, as I haven't had much time to  
keep up with that lately :(

Howard

On Sep 2, 2009, at 2:55 PM, Frank Warmerdam wrote:

> Motion: Extent commit access to Harsh Govind.
>
> ---
>
> PSC members,
>
> Harsh reports:
>
> """
> I am a GIS Developer  at SPADAC Inc. and responsibilities include  
> compiling and upgrading GDAL for our products. In the past 4+ years  
> at SPADAC I have setup automated build process for compiling and  
> building GDAL along with its SDE (multiple versions of ArcSDE) and  
> OCI drivers as plug-ins and C# wrapper for .NET version of our  
> product: Signature Analyst? (SA) [Details: http://www.spadac.com/SignatureAnalyst/ 
> ]. The build process keeps debug and release versions separate so  
> programmers may step into the code if required during development.  
> My upcoming tasks include creating separate builds for 32bit and  
> 64bit machines.
>
> I have implemented multiple export formats (vector) for results of  
> SA utilizing GDAL/ OGR. I have been involved in development of tools  
> for reading/writing vector data using GDAL/OGR and also using C#  
> wrapper giving me experience in both C++ and C# (SDE, SHP and PGDB  
> formats in particular). E.g. Export SA assessment as Shapefile, Read  
> SDE data source as factor for SA, Read PGDB data source as factor in  
> SA, etc... I recently fixed a bug in ogrsdedatasource.cpp which  
> would cause a failure to return a particular layer if SDE version is  
> SDE.DEFAULT.
>
> Also, I am involved in multiple tasks relating GDAL/OGR with other  
> Team members that include KML Super Overlay driver and supporting  
> date query in SHP files.
> """
>
> Harsh and SPADAC have been contributing fixes through me and Trac  
> and now have
> several substantial improvements including a new KML Super Overlay  
> driver they
> would like to contribute.  I have suggested that Harsh become a  
> committer so
> that SPADAC can more directly contribute improvements.
>
> I'll let Harsh confirm to the mailing list that he is prepared to  
> adhere to
> the RFC 3 GDAL Committer Guidelines.
>
> Best regards,
> -- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for  
> Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Thu Sep  3 13:15:43 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep  3 13:15:22 2009
Subject: [gdal-dev] Seek error accessing TIFF directory
In-Reply-To: <633d34560909030955m443e4554ofcc14a3923f0fd11@mail.gmail.com>
References: <633d34560909030955m443e4554ofcc14a3923f0fd11@mail.gmail.com>
Message-ID: <4A9FF9BF.7020409@pobox.com>

Matt Bartolome wrote:
> Hello list,
> 
> I just compiled gdal 1.6.2 on my fedora 10 box from source. I'm in the
> process of evaluating some 2009 imagery in geotiff format. I've tried
> compiling with external libs and internal options with the same
> result.
> 
> # ./configure --with-libtiff=internal --with-geotiff=internal
> 
> When processing the tiff with mapnik rendering library I get:
> UserWarning: TIFFReadDirectory [myfile].tif  Seek error accessing TIFF
> directory (encountered during parsing of layer 'imagery')
> 
> I'm not sure what function of gdal is being called by mapnik but
> things like gdalinfo, gdalwarp seem to work without any issues its
> just when rendering a tile with mapnik.
> 
> When I compile against gdal version 1.5.3 (package install with fedora
> 10) everything seems to work as expected.
> 
> Any suggestions or is this a bug in the newer version?

Matt,

I have no reason to believe this represents a bug in GDAL.

I would suggest you compile with the system libtiff as it is fairly
likely that mapnik depends on other libraries that also use libtiff
in which case mixing the internal GDAL libtiff and the system libtiff
could cause all sorts of problems.

Also, you need to do a "make clean" after a re-configure.  GDAL's makefiles
try to avoid unnecessary recompilation but in some cases it is at the cost
of not forcing rebuild of stuff that ought to have been recompiled (for
instance after reconfiguring).

If the problem persists you would pretty much need to track it
down in gdb, or perhaps with valgrind.  Pay particular attention to the
possibility of more than one libtiff ending up in the final process.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dmorissette at mapgears.com  Thu Sep  3 13:26:51 2009
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Thu Sep  3 13:26:54 2009
Subject: [gdal-dev] Motion: Commit access for Harsh Govind
In-Reply-To: <4B3B3C35D34C9345BC8914C199882E2817E7B079D7@SPATCEX003.spadac.com>
References: <4A9ECDCD.8040903@pobox.com>
	<4B3B3C35D34C9345BC8914C199882E2817E7B079D7@SPATCEX003.spadac.com>
Message-ID: <4A9FFC5B.7030104@mapgears.com>

+1. Welcome :)

Daniel

Harsh Govind wrote:
> Good Afternoon All,
> I have read and understood the RFC 3 GDAL committer guidelines (http://trac.osgeo.org/gdal/wiki/rfc3_commiters) and I accept the agreement. 
> 
> Regards,
> Harsh Govind
> SPADAC Inc.
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
> Sent: Wednesday, September 02, 2009 3:56 PM
> To: gdal-dev
> Subject: [gdal-dev] Motion: Commit access for Harsh Govind
> 
> Motion: Extent commit access to Harsh Govind.
> 
> ---
> 
> PSC members,
> 
> Harsh reports:
> 
> """
> I am a GIS Developer  at SPADAC Inc. and responsibilities include compiling and 
> upgrading GDAL for our products. In the past 4+ years at SPADAC I have setup 
> automated build process for compiling and building GDAL along with its SDE 
> (multiple versions of ArcSDE) and OCI drivers as plug-ins and C# wrapper for 
> .NET version of our product: Signature Analyst(r) (SA) [Details: 
> http://www.spadac.com/SignatureAnalyst/]. The build process keeps debug and 
> release versions separate so programmers may step into the code if required 
> during development. My upcoming tasks include creating separate builds for 
> 32bit and 64bit machines.
> 
> I have implemented multiple export formats (vector) for results of SA utilizing 
> GDAL/ OGR. I have been involved in development of tools for reading/writing 
> vector data using GDAL/OGR and also using C# wrapper giving me experience in 
> both C++ and C# (SDE, SHP and PGDB formats in particular). E.g. Export SA 
> assessment as Shapefile, Read SDE data source as factor for SA, Read PGDB data 
> source as factor in SA, etc... I recently fixed a bug in ogrsdedatasource.cpp 
> which would cause a failure to return a particular layer if SDE version is 
> SDE.DEFAULT.
> 
> Also, I am involved in multiple tasks relating GDAL/OGR with other Team members 
> that include KML Super Overlay driver and supporting date query in SHP files.
> """
> 
> Harsh and SPADAC have been contributing fixes through me and Trac and now have
> several substantial improvements including a new KML Super Overlay driver they
> would like to contribute.  I have suggested that Harsh become a committer so
> that SPADAC can more directly contribute improvements.
> 
> I'll let Harsh confirm to the mailing list that he is prepared to adhere to
> the RFC 3 GDAL Committer Guidelines.
> 
> Best regards,


-- 
Daniel Morissette
http://www.mapgears.com/
From even.rouault at mines-paris.org  Thu Sep  3 14:09:02 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Sep  3 14:09:05 2009
Subject: [gdal-dev] Motion: Commit access for Harsh Govind
In-Reply-To: <4A9ECDCD.8040903@pobox.com>
References: <4A9ECDCD.8040903@pobox.com>
Message-ID: <1252001342.4aa0063e3985c@imp.free.fr>

Selon Frank Warmerdam <warmerdam@pobox.com>:

+1

> Motion: Extent commit access to Harsh Govind.
>
> ---
>
> PSC members,
>
> Harsh reports:
>
> """
> I am a GIS Developer  at SPADAC Inc. and responsibilities include compiling
> and
> upgrading GDAL for our products. In the past 4+ years at SPADAC I have setup
> automated build process for compiling and building GDAL along with its SDE
> (multiple versions of ArcSDE) and OCI drivers as plug-ins and C# wrapper for
> .NET version of our product: Signature Analyst? (SA) [Details:
> http://www.spadac.com/SignatureAnalyst/]. The build process keeps debug and
> release versions separate so programmers may step into the code if required
> during development. My upcoming tasks include creating separate builds for
> 32bit and 64bit machines.
>
> I have implemented multiple export formats (vector) for results of SA
> utilizing
> GDAL/ OGR. I have been involved in development of tools for reading/writing
> vector data using GDAL/OGR and also using C# wrapper giving me experience in
> both C++ and C# (SDE, SHP and PGDB formats in particular). E.g. Export SA
> assessment as Shapefile, Read SDE data source as factor for SA, Read PGDB
> data
> source as factor in SA, etc... I recently fixed a bug in ogrsdedatasource.cpp
> which would cause a failure to return a particular layer if SDE version is
> SDE.DEFAULT.
>
> Also, I am involved in multiple tasks relating GDAL/OGR with other Team
> members
> that include KML Super Overlay driver and supporting date query in SHP files.
> """
>
> Harsh and SPADAC have been contributing fixes through me and Trac and now
> have
> several substantial improvements including a new KML Super Overlay driver
> they
> would like to contribute.  I have suggested that Harsh become a committer so
> that SPADAC can more directly contribute improvements.
>
> I'll let Harsh confirm to the mailing list that he is prepared to adhere to
> the RFC 3 GDAL Committer Guidelines.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Thu Sep  3 14:11:29 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Sep  3 14:11:30 2009
Subject: [gdal-dev] Seek error accessing TIFF directory
In-Reply-To: <4A9FF9BF.7020409@pobox.com>
References: <633d34560909030955m443e4554ofcc14a3923f0fd11@mail.gmail.com>
	<4A9FF9BF.7020409@pobox.com>
Message-ID: <1252001489.4aa006d14f2db@imp.free.fr>

Selon Frank Warmerdam <warmerdam@pobox.com>:

In case of conflict between GDAL internal libtiff and system libtiff with which
mapnik would be linked, you can also try adding --with-hide-internal-symbols to
the GDAL configure line.

> Matt Bartolome wrote:
> > Hello list,
> >
> > I just compiled gdal 1.6.2 on my fedora 10 box from source. I'm in the
> > process of evaluating some 2009 imagery in geotiff format. I've tried
> > compiling with external libs and internal options with the same
> > result.
> >
> > # ./configure --with-libtiff=internal --with-geotiff=internal
> >
> > When processing the tiff with mapnik rendering library I get:
> > UserWarning: TIFFReadDirectory [myfile].tif  Seek error accessing TIFF
> > directory (encountered during parsing of layer 'imagery')
> >
> > I'm not sure what function of gdal is being called by mapnik but
> > things like gdalinfo, gdalwarp seem to work without any issues its
> > just when rendering a tile with mapnik.
> >
> > When I compile against gdal version 1.5.3 (package install with fedora
> > 10) everything seems to work as expected.
> >
> > Any suggestions or is this a bug in the newer version?
>
> Matt,
>
> I have no reason to believe this represents a bug in GDAL.
>
> I would suggest you compile with the system libtiff as it is fairly
> likely that mapnik depends on other libraries that also use libtiff
> in which case mixing the internal GDAL libtiff and the system libtiff
> could cause all sorts of problems.
>
> Also, you need to do a "make clean" after a re-configure.  GDAL's makefiles
> try to avoid unnecessary recompilation but in some cases it is at the cost
> of not forcing rebuild of stuff that ought to have been recompiled (for
> instance after reconfiguring).
>
> If the problem persists you would pretty much need to track it
> down in gdb, or perhaps with valgrind.  Pay particular attention to the
> possibility of more than one libtiff ending up in the final process.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From mattxbart at gmail.com  Thu Sep  3 14:44:19 2009
From: mattxbart at gmail.com (Matt Bartolome)
Date: Thu Sep  3 14:44:22 2009
Subject: [gdal-dev] Seek error accessing TIFF directory
In-Reply-To: <1252001489.4aa006d14f2db@imp.free.fr>
References: <633d34560909030955m443e4554ofcc14a3923f0fd11@mail.gmail.com>
	<4A9FF9BF.7020409@pobox.com> <1252001489.4aa006d14f2db@imp.free.fr>
Message-ID: <633d34560909031144j33d7cbcaq1ef686e676fce9dd@mail.gmail.com>

Thanks guys,
I did a make clean (on both gdal and mapnik (scons.py -c)), then
compiled gdal with the --with-hide-internal-symbols. This seems to
have resolved the libtiff conflict going on with mapnik.

-Matt

On Thu, Sep 3, 2009 at 11:11 AM, Even
Rouault<even.rouault@mines-paris.org> wrote:
> Selon Frank Warmerdam <warmerdam@pobox.com>:
>
> In case of conflict between GDAL internal libtiff and system libtiff with which
> mapnik would be linked, you can also try adding --with-hide-internal-symbols to
> the GDAL configure line.
>
>> Matt Bartolome wrote:
>> > Hello list,
>> >
>> > I just compiled gdal 1.6.2 on my fedora 10 box from source. I'm in the
>> > process of evaluating some 2009 imagery in geotiff format. I've tried
>> > compiling with external libs and internal options with the same
>> > result.
>> >
>> > # ./configure --with-libtiff=internal --with-geotiff=internal
>> >
>> > When processing the tiff with mapnik rendering library I get:
>> > UserWarning: TIFFReadDirectory [myfile].tif ?Seek error accessing TIFF
>> > directory (encountered during parsing of layer 'imagery')
>> >
>> > I'm not sure what function of gdal is being called by mapnik but
>> > things like gdalinfo, gdalwarp seem to work without any issues its
>> > just when rendering a tile with mapnik.
>> >
>> > When I compile against gdal version 1.5.3 (package install with fedora
>> > 10) everything seems to work as expected.
>> >
>> > Any suggestions or is this a bug in the newer version?
>>
>> Matt,
>>
>> I have no reason to believe this represents a bug in GDAL.
>>
>> I would suggest you compile with the system libtiff as it is fairly
>> likely that mapnik depends on other libraries that also use libtiff
>> in which case mixing the internal GDAL libtiff and the system libtiff
>> could cause all sorts of problems.
>>
>> Also, you need to do a "make clean" after a re-configure. ?GDAL's makefiles
>> try to avoid unnecessary recompilation but in some cases it is at the cost
>> of not forcing rebuild of stuff that ought to have been recompiled (for
>> instance after reconfiguring).
>>
>> If the problem persists you would pretty much need to track it
>> down in gdb, or perhaps with valgrind. ?Pay particular attention to the
>> possibility of more than one libtiff ending up in the final process.
>>
>> Best regards,
>> --
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up ? | Frank Warmerdam, warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
From szekerest at gmail.com  Thu Sep  3 15:25:53 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Sep  3 15:25:59 2009
Subject: [gdal-dev] Motion: Commit access for Harsh Govind
In-Reply-To: <4A9ECDCD.8040903@pobox.com>
References: <4A9ECDCD.8040903@pobox.com>
Message-ID: <f3b73b7d0909031225m94aa068tdf45eb67b33ed98c@mail.gmail.com>

+1

I would also be interested in having SDE for Win64 to be compiled somehow
;-)


Best regards,

Tamas




2009/9/2 Frank Warmerdam <warmerdam@pobox.com>

> Motion: Extent commit access to Harsh Govind.
>
> ---
>
> PSC members,
>
> Harsh reports:
>
> """
> I am a GIS Developer  at SPADAC Inc. and responsibilities include compiling
> and upgrading GDAL for our products. In the past 4+ years at SPADAC I have
> setup automated build process for compiling and building GDAL along with its
> SDE (multiple versions of ArcSDE) and OCI drivers as plug-ins and C# wrapper
> for .NET version of our product: Signature Analyst? (SA) [Details:
> http://www.spadac.com/SignatureAnalyst/]. The build process keeps debug
> and release versions separate so programmers may step into the code if
> required during development. My upcoming tasks include creating separate
> builds for 32bit and 64bit machines.
>
> I have implemented multiple export formats (vector) for results of SA
> utilizing GDAL/ OGR. I have been involved in development of tools for
> reading/writing vector data using GDAL/OGR and also using C# wrapper giving
> me experience in both C++ and C# (SDE, SHP and PGDB formats in particular).
> E.g. Export SA assessment as Shapefile, Read SDE data source as factor for
> SA, Read PGDB data source as factor in SA, etc... I recently fixed a bug in
> ogrsdedatasource.cpp which would cause a failure to return a particular
> layer if SDE version is SDE.DEFAULT.
>
> Also, I am involved in multiple tasks relating GDAL/OGR with other Team
> members that include KML Super Overlay driver and supporting date query in
> SHP files.
> """
>
> Harsh and SPADAC have been contributing fixes through me and Trac and now
> have
> several substantial improvements including a new KML Super Overlay driver
> they
> would like to contribute.  I have suggested that Harsh become a committer
> so
> that SPADAC can more directly contribute improvements.
>
> I'll let Harsh confirm to the mailing list that he is prepared to adhere to
> the RFC 3 GDAL Committer Guidelines.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090903/76f234a8/attachment.html
From Carol.Rydzak at gdc4s.com  Thu Sep  3 15:35:41 2009
From: Carol.Rydzak at gdc4s.com (Rydzak, Carol-P28503)
Date: Thu Sep  3 15:36:48 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
Message-ID: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com>

I am trying to use GDAL utilities (on a Solaris 10 system) against CIB
files (from a CD) to convert them to a single NITF image.  

When I run gdal_translate, it doesn't seem to accept the a.toc, but it
does create a one-to-one nitf image for each CIB file the command is run
against.  

Is there a GDAL command that takes the table of contents file and
processes all the CIB frames into one NITF image?  Or takes all the .ntf
files that get created and stitches them together into one .ntf image?


Thank you,

Carol Rydzak 
General Dynamics C4 Systems 
Phone: (480) 441-7405 
Email: Carol.Rydzak@gdc4s.com 
This email message is for the sole use of the intended recipient(s) and
may contain GDC4S confidential or privileged information. Any
unauthorized review, use, disclosure or distribution is prohibited. If
you are not an intended recipient, please contact the sender by reply
email and destroy all copies of the original message.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090903/7e42b47b/attachment.html
From Martin at Hvidberg.net  Thu Sep  3 15:24:30 2009
From: Martin at Hvidberg.net (Martin Hvidberg)
Date: Thu Sep  3 15:50:11 2009
Subject: [gdal-dev] Re: Can't get 1*N dataset in HDFfile
In-Reply-To: <8c2bdf730909020035q7761636ak36a693debce0dc74@mail.gmail.com>
References: <8c2bdf730909020035q7761636ak36a693debce0dc74@mail.gmail.com>
Message-ID: <h7p55e$mpe$2@ger.gmane.org>

jor sion wrote:
> Hi,
> 
> I can't get 1*N dataset in HDF file by GDAL, 
> 
> The dataset looks like this:
> dataset.png
> It shows in HDF Explorer
> show.png
> 
> Any suggestions?
> 

Well it's not a GDAL solution... But have a look at PyTables (depends 
NumPy) for Python.
PyTables reads HDF files (4 and 5) and can do what you want.

Martin Hvidberg

From even.rouault at mines-paris.org  Thu Sep  3 15:50:27 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Sep  3 15:50:29 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com>
Message-ID: <1252007427.4aa01e0397910@imp.free.fr>

Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:

I assume you are using a recent enough GDAL version (>= 1.5.0) that has the
RPFTOC driver. If so, gdalinfo on the a.toc should return a list of subdatasets
(at least one). You can then select one and translate it to a GeoTIFF. It will
mosaic all the underlying NITF tiles. See
http://gdal.org/frmt_various.html#RPFTOC for more info.

Someone recently reported problems with CIB but I've not heard any news since
then. The driver was tested against CADRG datasets but should theoritically work
with CIB too.

> I am trying to use GDAL utilities (on a Solaris 10 system) against CIB
> files (from a CD) to convert them to a single NITF image.
>
> When I run gdal_translate, it doesn't seem to accept the a.toc, but it
> does create a one-to-one nitf image for each CIB file the command is run
> against.
>
> Is there a GDAL command that takes the table of contents file and
> processes all the CIB frames into one NITF image?  Or takes all the .ntf
> files that get created and stitches them together into one .ntf image?
>
>
> Thank you,
>
> Carol Rydzak
> General Dynamics C4 Systems
> Phone: (480) 441-7405
> Email: Carol.Rydzak@gdc4s.com
> This email message is for the sole use of the intended recipient(s) and
> may contain GDC4S confidential or privileged information. Any
> unauthorized review, use, disclosure or distribution is prohibited. If
> you are not an intended recipient, please contact the sender by reply
> email and destroy all copies of the original message.
>
>
>


From even.rouault at mines-paris.org  Thu Sep  3 15:55:32 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Sep  3 15:55:34 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <1252007427.4aa01e0397910@imp.free.fr>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com>
	<1252007427.4aa01e0397910@imp.free.fr>
Message-ID: <1252007732.4aa01f34bf8dc@imp.free.fr>

Selon Even Rouault <even.rouault@mines-paris.org>:

Actually, I read too fast. You want to convert all the NITF tiles into a single
NITF file. That is possible too of course. Just add -of NITF in the
gdal_translate command line. Note that the resulting NITF will be larger in size
than the sum of source NITF tiles, as CIB uses the Vector Quantization
compression scheme that is only supported as read-only by GDAL.

> Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:
>
> I assume you are using a recent enough GDAL version (>= 1.5.0) that has the
> RPFTOC driver. If so, gdalinfo on the a.toc should return a list of
> subdatasets
> (at least one). You can then select one and translate it to a GeoTIFF. It
> will
> mosaic all the underlying NITF tiles. See
> http://gdal.org/frmt_various.html#RPFTOC for more info.
>
> Someone recently reported problems with CIB but I've not heard any news since
> then. The driver was tested against CADRG datasets but should theoritically
> work
> with CIB too.
>
> > I am trying to use GDAL utilities (on a Solaris 10 system) against CIB
> > files (from a CD) to convert them to a single NITF image.
> >
> > When I run gdal_translate, it doesn't seem to accept the a.toc, but it
> > does create a one-to-one nitf image for each CIB file the command is run
> > against.
> >
> > Is there a GDAL command that takes the table of contents file and
> > processes all the CIB frames into one NITF image?  Or takes all the .ntf
> > files that get created and stitches them together into one .ntf image?
> >
> >
> > Thank you,
> >
> > Carol Rydzak
> > General Dynamics C4 Systems
> > Phone: (480) 441-7405
> > Email: Carol.Rydzak@gdc4s.com
> > This email message is for the sole use of the intended recipient(s) and
> > may contain GDC4S confidential or privileged information. Any
> > unauthorized review, use, disclosure or distribution is prohibited. If
> > you are not an intended recipient, please contact the sender by reply
> > email and destroy all copies of the original message.
> >
> >
> >
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From Martin at Hvidberg.net  Thu Sep  3 15:56:30 2009
From: Martin at Hvidberg.net (Martin Hvidberg)
Date: Thu Sep  3 15:56:54 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
Message-ID: <h7p71d$t1f$1@ger.gmane.org>

Dear Group

Thanks for GDAL

I am running a script in Python, using GDAL.
Would like to run it on another (faster) computer.
Installed Python and GDAL

When I run the program it asks for a MSVCR80.dll file

Cant find it anywhere on the computer

Tried to copy it from the old computer, but it won't accept to load that.

What the h... is MSCVR80 and how do I get it onto my computer ???

Best Regards
Martin Hvidberg

From chapmanm at pixia.com  Thu Sep  3 16:00:19 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu Sep  3 16:00:28 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <h7p71d$t1f$1@ger.gmane.org>
References: <h7p71d$t1f$1@ger.gmane.org>
Message-ID: <E6472819868D4038900EA69B4A1C8E36@chapmanm64>

Martin,

Sounds like that copy of GDAL you have has a manifest dependency on that
version of the C runtime.  You can download the vcredist.exe for the 8.0
version of the CRT from Microsoft and install it on that computer or make
your own by including the merge module for that CRT in a custom setup
program.

Best regards,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Hvidberg
Sent: Thursday, September 03, 2009 1:57 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Missing msvcr80.dll ?

Dear Group

Thanks for GDAL

I am running a script in Python, using GDAL.
Would like to run it on another (faster) computer.
Installed Python and GDAL

When I run the program it asks for a MSVCR80.dll file

Cant find it anywhere on the computer

Tried to copy it from the old computer, but it won't accept to load that.

What the h... is MSCVR80 and how do I get it onto my computer ???

Best Regards
Martin Hvidberg

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From chapmanm at pixia.com  Thu Sep  3 16:10:01 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu Sep  3 16:10:08 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <h7p71d$t1f$1@ger.gmane.org>
References: <h7p71d$t1f$1@ger.gmane.org>
Message-ID: <E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>

Martin

Here are the links for VC2005 redist installs:

x86: (win 32 bit)

http://www.microsoft.com/downloads/details.aspx?FamilyId=32BC1BEE-A3F9-4C13-
9C99-220B62A191EE&displaylang=en

x64: (win 64 bit)

http://www.microsoft.com/downloads/details.aspx?FamilyId=90548130-4468-4BBC-
9673-D6ACABD5D13B&displaylang=en

ia64: (itanium 64 bit)

http://www.microsoft.com/downloads/details.aspx?FamilyId=526BF4A7-44E6-4A91-
B328-A4594ADB70E5&displaylang=en

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Hvidberg
Sent: Thursday, September 03, 2009 1:57 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Missing msvcr80.dll ?

Dear Group

Thanks for GDAL

I am running a script in Python, using GDAL.
Would like to run it on another (faster) computer.
Installed Python and GDAL

When I run the program it asks for a MSVCR80.dll file

Cant find it anywhere on the computer

Tried to copy it from the old computer, but it won't accept to load that.

What the h... is MSCVR80 and how do I get it onto my computer ???

Best Regards
Martin Hvidberg

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From harsh.govind at spadac.com  Thu Sep  3 16:21:12 2009
From: harsh.govind at spadac.com (Harsh Govind)
Date: Thu Sep  3 16:21:18 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <E6472819868D4038900EA69B4A1C8E36@chapmanm64>
References: <h7p71d$t1f$1@ger.gmane.org>
	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>
Message-ID: <4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>

And unlike previous versions (msvcrt71) you cannot copy over 8.0 versions dlls from somewhere to your application directory in order to make it work. The solution per Martin's suggestion is to install vcredist.exe.

Regards,
Harsh Govind
SPADAC Inc.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
Sent: Thursday, September 03, 2009 4:00 PM
To: 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Missing msvcr80.dll ?

Martin,

Sounds like that copy of GDAL you have has a manifest dependency on that
version of the C runtime.  You can download the vcredist.exe for the 8.0
version of the CRT from Microsoft and install it on that computer or make
your own by including the merge module for that CRT in a custom setup
program.

Best regards,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Hvidberg
Sent: Thursday, September 03, 2009 1:57 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Missing msvcr80.dll ?

Dear Group

Thanks for GDAL

I am running a script in Python, using GDAL.
Would like to run it on another (faster) computer.
Installed Python and GDAL


When I run the program it asks for a MSVCR80.dll file

Cant find it anywhere on the computer

Tried to copy it from the old computer, but it won't accept to load that.

What the h... is MSCVR80 and how do I get it onto my computer ???

Best Regards
Martin Hvidberg
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jluis at ualg.pt  Thu Sep  3 16:25:13 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Sep  3 16:25:34 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>
	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
Message-ID: <4AA02629.9040208@ualg.pt>

Harsh Govind wrote:
> And unlike previous versions (msvcrt71) you cannot copy over 8.0 versions dlls from somewhere to your application directory in order to make it work. The solution per Martin's suggestion is to install vcredist.exe.

Excuse the ingenuity, but than why build GDAL with MSVC > 2003?
Why introducing this pain? What is the gain?

Joaquim Luis


> Regards,
> Harsh Govind
> SPADAC Inc.
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
> Sent: Thursday, September 03, 2009 4:00 PM
> To: 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Missing msvcr80.dll ?
> 
> Martin,
> 
> Sounds like that copy of GDAL you have has a manifest dependency on that
> version of the C runtime.  You can download the vcredist.exe for the 8.0
> version of the CRT from Microsoft and install it on that computer or make
> your own by including the merge module for that CRT in a custom setup
> program.
> 
> Best regards,
> Martin
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Hvidberg
> Sent: Thursday, September 03, 2009 1:57 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Missing msvcr80.dll ?
> 
> Dear Group
> 
> Thanks for GDAL
> 
> I am running a script in Python, using GDAL.
> Would like to run it on another (faster) computer.
> Installed Python and GDAL
> 
> 
> When I run the program it asks for a MSVCR80.dll file
> 
> Cant find it anywhere on the computer
> 
> Tried to copy it from the old computer, but it won't accept to load that.
> 
> What the h... is MSCVR80 and how do I get it onto my computer ???
> 
> Best Regards
> Martin Hvidberg
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From chapmanm at pixia.com  Thu Sep  3 16:27:37 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu Sep  3 16:27:43 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
References: <h7p71d$t1f$1@ger.gmane.org>
	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>
	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
Message-ID: <CCDE9BB0311241628C91595CB848EA76@chapmanm64>

Harsh,

Hey, good point and on another note, recently Microsoft released a Visual
Studio update that deploys an even newer version of the CRT that fixes a
security fix.  Problem is that if you have Automatic Updates turned on and
you don't know that you got this update you can make the mistake of
recompiling your project and setup application without including the merge
module dependency for the new CRT in your setup program.  When you deploy to
a machine that didn't get this update you will get a nasty error that your
app can't start because of a missing DLL or missing side by side dependency.


Moral of the story, if GDAL use to work and it doesn't anymore all of the
sudden check your manifest and make sure you know what CRT or CRT's your
application needs to redistribute.

Martin

-----Original Message-----
From: Harsh Govind [mailto:harsh.govind@spadac.com] 
Sent: Thursday, September 03, 2009 2:21 PM
To: Martin Chapman; 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Missing msvcr80.dll ?

And unlike previous versions (msvcrt71) you cannot copy over 8.0 versions
dlls from somewhere to your application directory in order to make it work.
The solution per Martin's suggestion is to install vcredist.exe.

Regards,
Harsh Govind
SPADAC Inc.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
Sent: Thursday, September 03, 2009 4:00 PM
To: 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Missing msvcr80.dll ?

Martin,

Sounds like that copy of GDAL you have has a manifest dependency on that
version of the C runtime.  You can download the vcredist.exe for the 8.0
version of the CRT from Microsoft and install it on that computer or make
your own by including the merge module for that CRT in a custom setup
program.

Best regards,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Hvidberg
Sent: Thursday, September 03, 2009 1:57 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Missing msvcr80.dll ?

Dear Group

Thanks for GDAL

I am running a script in Python, using GDAL.
Would like to run it on another (faster) computer.
Installed Python and GDAL


When I run the program it asks for a MSVCR80.dll file

Cant find it anywhere on the computer

Tried to copy it from the old computer, but it won't accept to load that.

What the h... is MSCVR80 and how do I get it onto my computer ???

Best Regards
Martin Hvidberg
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From chapmanm at pixia.com  Thu Sep  3 16:28:25 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu Sep  3 16:28:32 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4AA02629.9040208@ualg.pt>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>
	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
	<4AA02629.9040208@ualg.pt>
Message-ID: <43B0280AFE364DB58BC1A473AFEC6CE0@chapmanm64>

I am a glutton for pain. :)

-----Original Message-----
From: Joaquim Luis [mailto:jluis@ualg.pt] 
Sent: Thursday, September 03, 2009 2:25 PM
To: Harsh Govind
Cc: Martin Chapman; 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Missing msvcr80.dll ?

Harsh Govind wrote:
> And unlike previous versions (msvcrt71) you cannot copy over 8.0 versions
dlls from somewhere to your application directory in order to make it work.
The solution per Martin's suggestion is to install vcredist.exe.

Excuse the ingenuity, but than why build GDAL with MSVC > 2003?
Why introducing this pain? What is the gain?

Joaquim Luis


> Regards,
> Harsh Govind
> SPADAC Inc.
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
> Sent: Thursday, September 03, 2009 4:00 PM
> To: 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Missing msvcr80.dll ?
> 
> Martin,
> 
> Sounds like that copy of GDAL you have has a manifest dependency on that
> version of the C runtime.  You can download the vcredist.exe for the 8.0
> version of the CRT from Microsoft and install it on that computer or make
> your own by including the merge module for that CRT in a custom setup
> program.
> 
> Best regards,
> Martin
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Hvidberg
> Sent: Thursday, September 03, 2009 1:57 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Missing msvcr80.dll ?
> 
> Dear Group
> 
> Thanks for GDAL
> 
> I am running a script in Python, using GDAL.
> Would like to run it on another (faster) computer.
> Installed Python and GDAL
> 
> 
> When I run the program it asks for a MSVCR80.dll file
> 
> Cant find it anywhere on the computer
> 
> Tried to copy it from the old computer, but it won't accept to load that.
> 
> What the h... is MSCVR80 and how do I get it onto my computer ???
> 
> Best Regards
> Martin Hvidberg
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From jluis at ualg.pt  Thu Sep  3 18:59:15 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Sep  3 18:59:29 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4A9FDBE5.1030407@geoanalytic.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
	<4A9E934B.2090306@geoanalytic.com> <4A9F24D2.2030808@ualg.pt>
	<4A9FC9AD.4050202@g <4A9FD04C.3010805@ualg.pt>
	<4A9FDBE5.1030407@geoanalytic.com>
Message-ID: <4AA04A43.5060801@ualg.pt>

Brent Fraser wrote:

>   Since the TerraGo way has been superceded by the Adobe/ISO way (thank 
> goodness!), it makes it easier to identify the reference system 
> definition in GDAL, so there may be some hope for GDAL and GeoPDF.

Still on this matter, the GeoPDF

http://www.terragotech.com/blog/quada.pdf

written in the Adobe way is not recognized as a GeoPDF by my Acrobat with the
TerraGo Toolbar and it crashes Chrome when trying to download it!!!
From Carol.Rydzak at gdc4s.com  Thu Sep  3 22:25:59 2009
From: Carol.Rydzak at gdc4s.com (Rydzak, Carol-P28503)
Date: Thu Sep  3 22:26:08 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <1252007427.4aa01e0397910@imp.free.fr>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com>
	<1252007427.4aa01e0397910@imp.free.fr>
Message-ID: <C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>

Hi.  
Thank you for getting back to me on this!
Yes, I am using the 1.6.0 version of GDAL.  

I did what you suggested and it gives me a bus error when I run the
gdalinfo command on the a.toc file.  Do you recall what the problems
were with the CIB data that you heard about?  I have a 1 meter, 5 meter
and 10 meter data sets that I tried and I got a bus error on all of
them.  Any other ideas?

Thanks,

Carol
-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Thursday, September 03, 2009 12:50 PM
To: Rydzak, Carol-P28503
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL: How to create one NITF image from CIB CD

Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:

I assume you are using a recent enough GDAL version (>= 1.5.0) that has
the RPFTOC driver. If so, gdalinfo on the a.toc should return a list of
subdatasets (at least one). You can then select one and translate it to
a GeoTIFF. It will mosaic all the underlying NITF tiles. See
http://gdal.org/frmt_various.html#RPFTOC for more info.

Someone recently reported problems with CIB but I've not heard any news
since then. The driver was tested against CADRG datasets but should
theoritically work with CIB too.

> I am trying to use GDAL utilities (on a Solaris 10 system) against CIB

> files (from a CD) to convert them to a single NITF image.
>
> When I run gdal_translate, it doesn't seem to accept the a.toc, but it

> does create a one-to-one nitf image for each CIB file the command is 
> run against.
>
> Is there a GDAL command that takes the table of contents file and 
> processes all the CIB frames into one NITF image?  Or takes all the 
> .ntf files that get created and stitches them together into one .ntf
image?
>
>
> Thank you,
>
> Carol Rydzak
> General Dynamics C4 Systems
> Phone: (480) 441-7405
> Email: Carol.Rydzak@gdc4s.com
> This email message is for the sole use of the intended recipient(s) 
> and may contain GDC4S confidential or privileged information. Any 
> unauthorized review, use, disclosure or distribution is prohibited. If

> you are not an intended recipient, please contact the sender by reply 
> email and destroy all copies of the original message.
>
>
>


From chapmanm at pixia.com  Thu Sep  3 22:34:39 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu Sep  3 22:34:47 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com><1252007427.4aa01e0397910@imp.free.fr>
	<C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
Message-ID: <978251B3A85F45C399354413150E451A@chapmanm64>

Carol,

http://www.gdal.org/gdal_translate.html says the command switch:

-sds: 

	Copy all subdatasets of this file to individual output files. Use
with 	formats like HDF or OGDI that have subdatasets.

OGDI is the old RP driver so I imagine it applies.  Maybe that's what you
need.  Also, you can find the source code for gdal_translate.cpp in the apps
directory of your gdal download.  Take a look at the code and you can see
exactly what's going on.  If you have a debugger you can step through the
code.  You may have to morph the code to get exactly what you want though.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Rydzak, Carol-P28503
Sent: Thursday, September 03, 2009 8:26 PM
To: Even Rouault
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] GDAL: How to create one NITF image from CIB CD

Hi.  
Thank you for getting back to me on this!
Yes, I am using the 1.6.0 version of GDAL.  

I did what you suggested and it gives me a bus error when I run the
gdalinfo command on the a.toc file.  Do you recall what the problems
were with the CIB data that you heard about?  I have a 1 meter, 5 meter
and 10 meter data sets that I tried and I got a bus error on all of
them.  Any other ideas?

Thanks,

Carol
-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Thursday, September 03, 2009 12:50 PM
To: Rydzak, Carol-P28503
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL: How to create one NITF image from CIB CD

Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:

I assume you are using a recent enough GDAL version (>= 1.5.0) that has
the RPFTOC driver. If so, gdalinfo on the a.toc should return a list of
subdatasets (at least one). You can then select one and translate it to
a GeoTIFF. It will mosaic all the underlying NITF tiles. See
http://gdal.org/frmt_various.html#RPFTOC for more info.

Someone recently reported problems with CIB but I've not heard any news
since then. The driver was tested against CADRG datasets but should
theoritically work with CIB too.

> I am trying to use GDAL utilities (on a Solaris 10 system) against CIB

> files (from a CD) to convert them to a single NITF image.
>
> When I run gdal_translate, it doesn't seem to accept the a.toc, but it

> does create a one-to-one nitf image for each CIB file the command is 
> run against.
>
> Is there a GDAL command that takes the table of contents file and 
> processes all the CIB frames into one NITF image?  Or takes all the 
> .ntf files that get created and stitches them together into one .ntf
image?
>
>
> Thank you,
>
> Carol Rydzak
> General Dynamics C4 Systems
> Phone: (480) 441-7405
> Email: Carol.Rydzak@gdc4s.com
> This email message is for the sole use of the intended recipient(s) 
> and may contain GDC4S confidential or privileged information. Any 
> unauthorized review, use, disclosure or distribution is prohibited. If

> you are not an intended recipient, please contact the sender by reply 
> email and destroy all copies of the original message.
>
>
>


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From chapmanm at pixia.com  Thu Sep  3 22:35:42 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu Sep  3 22:35:50 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com><1252007427.4aa01e0397910@imp.free.fr>
	<C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
Message-ID: <661C3A87EC734342B498C8AA424E9DF3@chapmanm64>

Carol,

Also see the switch:

src_dataset: 
	The source dataset name. It can be either file name, URL of data
source or subdataset name for multi-dataset files.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Rydzak, Carol-P28503
Sent: Thursday, September 03, 2009 8:26 PM
To: Even Rouault
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] GDAL: How to create one NITF image from CIB CD

Hi.  
Thank you for getting back to me on this!
Yes, I am using the 1.6.0 version of GDAL.  

I did what you suggested and it gives me a bus error when I run the
gdalinfo command on the a.toc file.  Do you recall what the problems
were with the CIB data that you heard about?  I have a 1 meter, 5 meter
and 10 meter data sets that I tried and I got a bus error on all of
them.  Any other ideas?

Thanks,

Carol
-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Thursday, September 03, 2009 12:50 PM
To: Rydzak, Carol-P28503
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL: How to create one NITF image from CIB CD

Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:

I assume you are using a recent enough GDAL version (>= 1.5.0) that has
the RPFTOC driver. If so, gdalinfo on the a.toc should return a list of
subdatasets (at least one). You can then select one and translate it to
a GeoTIFF. It will mosaic all the underlying NITF tiles. See
http://gdal.org/frmt_various.html#RPFTOC for more info.

Someone recently reported problems with CIB but I've not heard any news
since then. The driver was tested against CADRG datasets but should
theoritically work with CIB too.

> I am trying to use GDAL utilities (on a Solaris 10 system) against CIB

> files (from a CD) to convert them to a single NITF image.
>
> When I run gdal_translate, it doesn't seem to accept the a.toc, but it

> does create a one-to-one nitf image for each CIB file the command is 
> run against.
>
> Is there a GDAL command that takes the table of contents file and 
> processes all the CIB frames into one NITF image?  Or takes all the 
> .ntf files that get created and stitches them together into one .ntf
image?
>
>
> Thank you,
>
> Carol Rydzak
> General Dynamics C4 Systems
> Phone: (480) 441-7405
> Email: Carol.Rydzak@gdc4s.com
> This email message is for the sole use of the intended recipient(s) 
> and may contain GDC4S confidential or privileged information. Any 
> unauthorized review, use, disclosure or distribution is prohibited. If

> you are not an intended recipient, please contact the sender by reply 
> email and destroy all copies of the original message.
>
>
>


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From chapmanm at pixia.com  Thu Sep  3 22:54:44 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu Sep  3 22:54:51 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com><1252007427.4aa01e0397910@imp.free.fr>
	<C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
Message-ID: <F6EDDA0269DA4FE0975FAC15B97609E4@chapmanm64>

Carol,

If you write code the way to go about mosaicing all rpf frame files into one
image would be to create a GDAL MEM dataset that is the width and height of
an entire RPF Boundary.  Then loop through each Frame file in the Boundary,
open up each Frame file with the GDAL NITF driver and copy the bytes from
the NITF file into the correct tile location in the MEM grid.  Then save the
GDAL MEM file out to the file format of your choice.  

Also, I think www.ossim.org will have the utilities you need to do this
already built.  Look at OrthoIgen.exe.

Martin



-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Rydzak, Carol-P28503
Sent: Thursday, September 03, 2009 8:26 PM
To: Even Rouault
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] GDAL: How to create one NITF image from CIB CD

Hi.  
Thank you for getting back to me on this!
Yes, I am using the 1.6.0 version of GDAL.  

I did what you suggested and it gives me a bus error when I run the
gdalinfo command on the a.toc file.  Do you recall what the problems
were with the CIB data that you heard about?  I have a 1 meter, 5 meter
and 10 meter data sets that I tried and I got a bus error on all of
them.  Any other ideas?

Thanks,

Carol
-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Thursday, September 03, 2009 12:50 PM
To: Rydzak, Carol-P28503
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL: How to create one NITF image from CIB CD

Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:

I assume you are using a recent enough GDAL version (>= 1.5.0) that has
the RPFTOC driver. If so, gdalinfo on the a.toc should return a list of
subdatasets (at least one). You can then select one and translate it to
a GeoTIFF. It will mosaic all the underlying NITF tiles. See
http://gdal.org/frmt_various.html#RPFTOC for more info.

Someone recently reported problems with CIB but I've not heard any news
since then. The driver was tested against CADRG datasets but should
theoritically work with CIB too.

> I am trying to use GDAL utilities (on a Solaris 10 system) against CIB

> files (from a CD) to convert them to a single NITF image.
>
> When I run gdal_translate, it doesn't seem to accept the a.toc, but it

> does create a one-to-one nitf image for each CIB file the command is 
> run against.
>
> Is there a GDAL command that takes the table of contents file and 
> processes all the CIB frames into one NITF image?  Or takes all the 
> .ntf files that get created and stitches them together into one .ntf
image?
>
>
> Thank you,
>
> Carol Rydzak
> General Dynamics C4 Systems
> Phone: (480) 441-7405
> Email: Carol.Rydzak@gdc4s.com
> This email message is for the sole use of the intended recipient(s) 
> and may contain GDC4S confidential or privileged information. Any 
> unauthorized review, use, disclosure or distribution is prohibited. If

> you are not an intended recipient, please contact the sender by reply 
> email and destroy all copies of the original message.
>
>
>


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ryabis at gmail.com  Fri Sep  4 00:52:12 2009
From: ryabis at gmail.com (ryabis)
Date: Fri Sep  4 00:52:19 2009
Subject: [Gdal-dev] Rotating image...
Message-ID: <1252039932319-3577921.post@n2.nabble.com>


I have "bmp" file, and I would like to rotate it on some angle... (For
example 38... 45,7... 2,3 degrees).
How can I make it by using GDAL?
-- 
View this message in context: http://n2.nabble.com/Rotating-image-tp3577921p3577921.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ryabis at gmail.com  Fri Sep  4 00:55:06 2009
From: ryabis at gmail.com (ryabis)
Date: Fri Sep  4 00:55:10 2009
Subject: [Gdal-dev] How to save picture into bmp-file?
In-Reply-To: <4A9E72A9.1050706@pobox.com>
References: <1251893057779-3566284.post@n2.nabble.com>
	<4A9E72A9.1050706@pobox.com>
Message-ID: <1252040106586-3577926.post@n2.nabble.com>


Frank Warmerdam,
Thank you for your help!

Best regards,
Alex.
-- 
View this message in context: http://n2.nabble.com/How-to-save-picture-into-bmp-file-tp3566284p3577926.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From Martin at Hvidberg.net  Fri Sep  4 04:06:15 2009
From: Martin at Hvidberg.net (Martin Hvidberg)
Date: Fri Sep  4 04:06:47 2009
Subject: [gdal-dev] Thanks: Missing msvcr80.dll ?
In-Reply-To: <E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>
References: <h7p71d$t1f$1@ger.gmane.org>
	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>
Message-ID: <h7qhpn$798$1@ger.gmane.org>


Thank you all for the good answers. I got a lot wiser.

Now I know that it's the VC++ redistributables pack I need to fix I 
installed:
> http://www.microsoft.com/downloads/details.aspx?FamilyId=32BC1BEE-A3F9-4C13-
> 9C99-220B62A191EE&displaylang=en
But unfortunately it didn't make the problem go away.

I'll now make sure all windows is fully upgraded and have a talk with 
IT.dept about VC++ redistributables on our GIS servers.

If I find the perfect solution I'll post it here later...

Thanks
Martin

From stefan.moebius at actix.com  Fri Sep  4 04:16:40 2009
From: stefan.moebius at actix.com (Stefan Moebius)
Date: Fri Sep  4 04:16:43 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <CCDE9BB0311241628C91595CB848EA76@chapmanm64>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
	<CCDE9BB0311241628C91595CB848EA76@chapmanm64>
Message-ID: <4AA0CCE8.5020305@actix.com>

Another solution for avoiding pain for users is to link msvcrt statically. 
For this you need to change the compiler switch /MD into /MT (/MDd to /MTd 
for debug). Note that if you link against external libraries (like geos, 
proj4, etc.), you need to recompile those too with the same change.

--
Stefan

Martin Chapman wrote:
> Harsh,
> 
> Hey, good point and on another note, recently Microsoft released a Visual
> Studio update that deploys an even newer version of the CRT that fixes a
> security fix.  Problem is that if you have Automatic Updates turned on and
> you don't know that you got this update you can make the mistake of
> recompiling your project and setup application without including the merge
> module dependency for the new CRT in your setup program.  When you deploy to
> a machine that didn't get this update you will get a nasty error that your
> app can't start because of a missing DLL or missing side by side dependency.
> 
> 
> Moral of the story, if GDAL use to work and it doesn't anymore all of the
> sudden check your manifest and make sure you know what CRT or CRT's your
> application needs to redistribute.
> 
> Martin
> 
> -----Original Message-----
> From: Harsh Govind [mailto:harsh.govind@spadac.com] 
> Sent: Thursday, September 03, 2009 2:21 PM
> To: Martin Chapman; 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Missing msvcr80.dll ?
> 
> And unlike previous versions (msvcrt71) you cannot copy over 8.0 versions
> dlls from somewhere to your application directory in order to make it work.
> The solution per Martin's suggestion is to install vcredist.exe.
> 
> Regards,
> Harsh Govind
> SPADAC Inc.
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
> Sent: Thursday, September 03, 2009 4:00 PM
> To: 'Martin Hvidberg'; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Missing msvcr80.dll ?
> 
> Martin,
> 
> Sounds like that copy of GDAL you have has a manifest dependency on that
> version of the C runtime.  You can download the vcredist.exe for the 8.0
> version of the CRT from Microsoft and install it on that computer or make
> your own by including the merge module for that CRT in a custom setup
> program.
> 
> Best regards,
> Martin
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Hvidberg
> Sent: Thursday, September 03, 2009 1:57 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Missing msvcr80.dll ?
> 
> Dear Group
> 
> Thanks for GDAL
> 
> I am running a script in Python, using GDAL.
> Would like to run it on another (faster) computer.
> Installed Python and GDAL
> 
> 
> When I run the program it asks for a MSVCR80.dll file
> 
> Cant find it anywhere on the computer
> 
> Tried to copy it from the old computer, but it won't accept to load that.
> 
> What the h... is MSCVR80 and how do I get it onto my computer ???
> 
> Best Regards
> Martin Hvidberg

From peio at justmagic.com  Fri Sep  4 05:20:42 2009
From: peio at justmagic.com (peio Elissalde)
Date: Fri Sep  4 05:20:49 2009
Subject: [gdal-dev] Problem In reading S-63 Chart
Message-ID: <3C79EC0C-FBDD-4FC3-A059-775D2AD4105A@justmagic.com>

Hello Vinod and Franck,

Actually, SENC stands for System ENC.
SENC are the internal chart database proprietary formats specific to  
the different developers of ECS (Electronic Chart System) or ECDIS  
(Electronic Chart Display and Information System) software  
applications, created from decrypted ENC files which can be in non  
protected s-57 open exchange format (used by NOAA) or in s-63  
encrypted format, IHO (International Hydrographic Organization) Data  
Protection Scheme for the protection of ENC information by most of the  
other Hydrographic Services and distributed by Primar and IC-ENC.
s-63 defines security constructs and operating procedures that must be  
followed to ensure that the data protection scheme is operated  
correctly and to provide specifications that allow participants to  
build compliant systems.
Regarding s-63 implementation, see :
http://www.iho-ohi.net/english/about-encs/enc-data-protection/implementing-the-iho-security-scheme.html

Best regards

-- 
Peio Elissalde
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090904/2af2c939/attachment.html
From even.rouault at mines-paris.org  Fri Sep  4 05:47:07 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Sep  4 05:47:11 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com>
	<1252007427.4aa01e0397910@imp.free.fr>
	<C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
Message-ID: <1252057627.4aa0e21b62e1f@imp.free.fr>

Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:

> Hi.
> Thank you for getting back to me on this!
> Yes, I am using the 1.6.0 version of GDAL.
>
> I did what you suggested and it gives me a bus error when I run the
> gdalinfo command on the a.toc file.  Do you recall what the problems
> were with the CIB data that you heard about?  I have a 1 meter, 5 meter
> and 10 meter data sets that I tried and I got a bus error on all of
> them.  Any other ideas?

Carol,

There's a high chance that the SIGBUS error you get is a GDAL bug specific to
your CPU. I guess it's a SPARC processor ? If so, there are very sensitive to
"alignment" problems when dereferencing pointers which typically yield to sigbus
errors.

I've looked at frmts/nitf/rpftocfile.cpp a bit and I could see one place (line
138 :  locationSectionPhysicalLocation = *(unsigned int*)tocHeader;) that should
probably be fixed by replacing it with :
memcpy(&locationSectionPhysicalLocation, tocHeader, sizeof(int));

If you've built GDAL yourself, you could try making the above change and retry.
If that still doesn't work, you could rebuild GDAL with debug symbols
(./configure --enable-debug; make clean; make) and run gdalinfo under gdb to see
where the sigbus arrises.

If that still doesn't work and you want to go forward, you could try with a
x86/x86_64 machine where you won't get the sigbus. But I'm interested in getting
rid of those sigbus errors, so you're feedback is welcomed.

The error reported previously with CIB had nothing to do with that. It was a
probably too restrictive consistency check that arrised after dataset opening.
See the following thread :
http://lists.osgeo.org/pipermail/gdal-dev/2009-August/021572.html

Best regards,

Even

>
> Thanks,
>
> Carol
> -----Original Message-----
> From: Even Rouault [mailto:even.rouault@mines-paris.org]
> Sent: Thursday, September 03, 2009 12:50 PM
> To: Rydzak, Carol-P28503
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] GDAL: How to create one NITF image from CIB CD
>
> Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:
>
> I assume you are using a recent enough GDAL version (>= 1.5.0) that has
> the RPFTOC driver. If so, gdalinfo on the a.toc should return a list of
> subdatasets (at least one). You can then select one and translate it to
> a GeoTIFF. It will mosaic all the underlying NITF tiles. See
> http://gdal.org/frmt_various.html#RPFTOC for more info.
>
> Someone recently reported problems with CIB but I've not heard any news
> since then. The driver was tested against CADRG datasets but should
> theoritically work with CIB too.
>
> > I am trying to use GDAL utilities (on a Solaris 10 system) against CIB
>
> > files (from a CD) to convert them to a single NITF image.
> >
> > When I run gdal_translate, it doesn't seem to accept the a.toc, but it
>
> > does create a one-to-one nitf image for each CIB file the command is
> > run against.
> >
> > Is there a GDAL command that takes the table of contents file and
> > processes all the CIB frames into one NITF image?  Or takes all the
> > .ntf files that get created and stitches them together into one .ntf
> image?
> >
> >
> > Thank you,
> >
> > Carol Rydzak
> > General Dynamics C4 Systems
> > Phone: (480) 441-7405
> > Email: Carol.Rydzak@gdc4s.com
> > This email message is for the sole use of the intended recipient(s)
> > and may contain GDC4S confidential or privileged information. Any
> > unauthorized review, use, disclosure or distribution is prohibited. If
>
> > you are not an intended recipient, please contact the sender by reply
> > email and destroy all copies of the original message.
> >
> >
> >
>
>
>


From daniele.romagnoli at geo-solutions.it  Fri Sep  4 05:53:41 2009
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Fri Sep  4 05:53:44 2009
Subject: [gdal-dev] is Antarctic Polar Stereographic (EPSG:3031) properly 
	handled by GDAL?
In-Reply-To: <1251830725.4a9d6bc55c83b@imp.free.fr>
References: <7221db410909010928k331b578h907eaa79187007ec@mail.gmail.com>
	<1251830725.4a9d6bc55c83b@imp.free.fr>
Message-ID: <7221db410909040253k773a2735p3eadc4cb024b9ea4@mail.gmail.com>

Even,
thank you for the reply. I will open the ticket.
However, I'm not sure whether the Tiff image can be shared or it is
confidential. I will check it.

Best Regards,
Daniele

On Tue, Sep 1, 2009 at 8:45 PM, Even Rouault
<even.rouault@mines-paris.org>wrote:

> Daniele,
>
> I suggest you file a Trac ticket on this with the following info. From a
> first
> review, it seems that libgeotiff doesn't deal with the EPSG projection
> method
> 9829 used by EPSG:3031, aka "Polar_Stereographic (variant B)" according to
>
> http://javadoc.geotools.fr/2.4/org/geotools/referencing/operation/projection/Stereographic.html
> .
> I'm not sure if OGRSpatialReference is ready for that variant B of Polar
> Stereographic. The page mentions a "standard_parallel_1" parameter that
> testepsg
> doesn't show.
>
> I've tried the following patch (assuming, maybe wrongly, that projection
> 9829
> could be used an alias of 9810) on an image generated by "gdal_translate
> -a_srs
> EPSG:3031 src.tif dst.tif" and it helps a bit. The projection is retrieved
> but
> the parameters are all 0, so there are maybe other bits missings or it
> might
> also be a problem in the write part of libgeotiff. If it comes from a
> non-GDAL
> based software, attaching your geotiff image () or a link to it might also
> help.
>
> $ svn diff frmts/gtiff/libgeotiff/
> Index: frmts/gtiff/libgeotiff/geo_normalize.c
> ===================================================================
> --- frmts/gtiff/libgeotiff/geo_normalize.c      (r?vision 17587)
> +++ frmts/gtiff/libgeotiff/geo_normalize.c      (copie de travail)
> @@ -998,6 +998,7 @@
>         return( CT_ObliqueStereographic );
>
>       case 9810:
> +      case 9829:
>         return( CT_PolarStereographic );
>
>       case 9811:
>
> Needs a projection expert to sort that out I think.
>
> Best regards,
> Even
>
> Selon Daniele Romagnoli <daniele.romagnoli@geo-solutions.it>:
>
> > Hi list,
> > I'm working on a geotiff image which is projected as EPSG:3031 (Antarctic
> > Polar Stereographic).
> > When running the last fwtools's gdalinfo, I get the following:
> >
> > Coordinate System is:
> > PROJCS["WGS 84 / Antarctic Polar Stereographic",
> >     GEOGCS["WGS 84",
> >         DATUM["WGS_1984",
> >             SPHEROID["WGS 84",6378137,298.2572235630016,
> >                 AUTHORITY["EPSG","7030"]],
> >             AUTHORITY["EPSG","6326"]],
> >         PRIMEM["Greenwich",0],
> >         UNIT["degree",0.0174532925199433],
> >         AUTHORITY["EPSG","4326"]],
> >     UNIT["metre",1,
> >         AUTHORITY["EPSG","9001"]],
> >     AUTHORITY["EPSG","3031"]]
> >
> > It seems that the projection part is missing (taking a look here:
> > http://spatialreference.org/ref/epsg/3031/prettywkt/)
> > Also trying to run a gdal_translate specifying -a_srs EPSG:3031 the
> > projection definition of the newly created tiff is still missing.
> > Does anyone has additional information on that topic?
> >
> > Thank you very much.
> > Regards,
> > Daniele
> >
> > --
> > -------------------------------------------------------
> > Eng. Daniele Romagnoli
> > Software Engineer
> >
> > GeoSolutions S.A.S.
> > Via Carignoni 51
> > 55041 Camaiore (LU)
> > Italy
> >
> > phone: +39 0584983027
> > fax:     +39 0584983027
> > mob:   +39 328 0559267
> >
> >
> > http://www.geo-solutions.it
> >
> > -------------------------------------------------------
> >
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090904/4313be97/attachment.html
From szekerest at gmail.com  Fri Sep  4 06:06:12 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Sep  4 06:06:14 2009
Subject: [gdal-dev] Thanks: Missing msvcr80.dll ?
In-Reply-To: <h7qhpn$798$1@ger.gmane.org>
References: <h7p71d$t1f$1@ger.gmane.org>
	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>
	<h7qhpn$798$1@ger.gmane.org>
Message-ID: <f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>

Martin,

You didn't mention from where did you obtain those binary files you are
testing with. I would be desirable that all the dependent dlls use the same
CRT settings and the dlls should also have their manifests to be embedded as
a resource. With the recent OS versions (Win XP or above) the dll loading
approach have been changed when the binaries have been compiled with VS2005
or above. In this case the CRT dependencies are loaded based on the manifest
file instead of based on the directory locations and PATH environment
settings. The required CRT version should be installed in the side by side
assembly cache (WinSxS) which can be done by using the redistributable
packages.

You could also try with the packages from
http://vbkto.dyndns.org:1280/sdk/Default.aspx  which I'm pretty sure it
should work when the corresponding VS redistributable have been installed.

Best regards,

Tamas



2009/9/4 Martin Hvidberg <Martin@hvidberg.net>

>
> Thank you all for the good answers. I got a lot wiser.
>
> Now I know that it's the VC++ redistributables pack I need to fix I
> installed:
>
>>
>> http://www.microsoft.com/downloads/details.aspx?FamilyId=32BC1BEE-A3F9-4C13-
>> 9C99-220B62A191EE&displaylang=en
>>
> But unfortunately it didn't make the problem go away.
>
> I'll now make sure all windows is fully upgraded and have a talk with
> IT.dept about VC++ redistributables on our GIS servers.
>
> If I find the perfect solution I'll post it here later...
>
> Thanks
> Martin
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090904/a9a8513e/attachment.html
From cbo at le34.dk  Fri Sep  4 08:22:04 2009
From: cbo at le34.dk (=?iso-8859-1?Q?Casper_B=F8rgesen?=)
Date: Fri Sep  4 08:23:08 2009
Subject: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
Message-ID: <AAD98904A979004F8FD29D8368C646380DCD09@SERVER-MAIL.le34.dk>

Hi folks!

I hope you can help me. I have searched google for answers, but haven't found any. So I thought going closer to the 'source' might help me.

In my organisation, we work with various GIS data in different file formats. I have a project, where I need to put all these data into a PostGIS database. So far I'm using the command line tool ogr2ogr to inject the data. But I have problems with character encoding:

ERROR 1: INSERT command for new feature failed.
ERROR: invalid byte sequence for encoding "UTF8": 0xf8
HINT: This error can also happen if the byte sequence does not match the encoding expected by the server, which is controlled by "client_encoding". 

My PostGIS database uses UTF-8 and the data I'm working with (shape) is probably Latin1 encoded. 

I found a discussion where a user suggests that the solution might be to do the following:

ogr2ogr -f PostgreSQL PG:"host=localhost user=username dbname=dbname password=password options='-c client_encoding=latin1'" sourcefile;

It does not seem to affect the injection. So, what am I doing wrong?

Kind regards, Casper

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090904/dd6f2a4f/attachment-0001.html
From mateusz at loskot.net  Fri Sep  4 08:52:28 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Sep  4 08:50:22 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4AA02629.9040208@ualg.pt>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
	<4AA02629.9040208@ualg.pt>
Message-ID: <4AA10D8C.5060805@loskot.net>

Joaquim Luis wrote:
> Harsh Govind wrote:
>> And unlike previous versions (msvcrt71) you cannot copy over 8.0 
>> versions dlls from somewhere to your application directory in order to 
>> make it work. The solution per Martin's suggestion is to install 
>> vcredist.exe.
> 
> Excuse the ingenuity, but than why build GDAL with MSVC > 2003?
> Why introducing this pain? What is the gain?

One could ask why to build GDAL using GCC 3.x+ ?
It's perfectly valid to ask users to install re-distributable
package of C/C++ Run Time libraries as it is valid to
ask for version 5 or 6 of libc.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From jluis at ualg.pt  Fri Sep  4 09:01:52 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Fri Sep  4 09:02:26 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4AA10D8C.5060805@loskot.net>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
	<4AA02629.9040208@ualg.pt> <4AA10D8C.5060805@loskot.net>
Message-ID: <4AA10FC0.7000601@ualg.pt>

Mateusz Loskot wrote:
> Joaquim Luis wrote:
>> Harsh Govind wrote:
>>> And unlike previous versions (msvcrt71) you cannot copy over 8.0 
>>> versions dlls from somewhere to your application directory in order 
>>> to make it work. The solution per Martin's suggestion is to install 
>>> vcredist.exe.
>>
>> Excuse the ingenuity, but than why build GDAL with MSVC > 2003?
>> Why introducing this pain? What is the gain?
> 
> One could ask why to build GDAL using GCC 3.x+ ?
> It's perfectly valid to ask users to install re-distributable
> package of C/C++ Run Time libraries as it is valid to
> ask for version 5 or 6 of libc.

Fortunately I build my own binaries so I can chose the level of pain.

Joaquim Luis
From Martin at Hvidberg.net  Fri Sep  4 09:38:57 2009
From: Martin at Hvidberg.net (Martin Hvidberg)
Date: Fri Sep  4 09:39:21 2009
Subject: [gdal-dev] Re: Thanks: Missing msvcr80.dll ?
In-Reply-To: <f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>
References: <h7p71d$t1f$1@ger.gmane.org>	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>	<h7qhpn$798$1@ger.gmane.org>
	<f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>
Message-ID: <h7r59h$5bn$1@ger.gmane.org>

Tamas Szekeres wrote:
> Martin,
> 
> You didn't mention from where did you obtain those binary files you are 
> testing with. I would be desirable that all the dependent dlls use the 
> same CRT settings and the dlls should also have their manifests to be 
> embedded as a resource. With the recent OS versions (Win XP or above) 
> the dll loading approach have been changed when the binaries have been 
> compiled with VS2005 or above. In this case the CRT dependencies are 
> loaded based on the manifest file instead of based on the directory 
> locations and PATH environment settings. The required CRT version should 
> be installed in the side by side assembly cache (WinSxS) which can be 
> done by using the redistributable packages.
> 
> You could also try with the packages from 
> http://vbkto.dyndns.org:1280/sdk/Default.aspx  which I'm pretty sure it 
> should work when the corresponding VS redistributable have been installed.
> 
> Best regards,
> 
> Tamas
> 

I got my GDAL from gdal.org (gdalwin32exe160.zip)

It works on my XP nootebook but not on our 'Window Server 2003'

Though latest news is that it don't work from the default command line 
promopt, but if I install FWtools it works perfectly from the FWtool_prompt.

:-) Martin

From even.rouault at mines-paris.org  Fri Sep  4 10:28:09 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Sep  4 10:28:11 2009
Subject: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
In-Reply-To: <AAD98904A979004F8FD29D8368C646380DCD09@SERVER-MAIL.le34.dk>
References: <AAD98904A979004F8FD29D8368C646380DCD09@SERVER-MAIL.le34.dk>
Message-ID: <1252074489.4aa123f99d162@imp.free.fr>

Selon Casper B?rgesen <cbo@le34.dk>:

I'm not sure about options='-c client_encoding=latin1', but setting
PGCLIENTENCODING=LATIN1 instead as an environmnent variable/configuration option
should definitely work (provided that the source shape is effectively LATIN1
encoded)

ogr2ogr --config PGCLIENTENCODING LATIN1 -f PostgreSQL PG:"host=localhost
user=username dbname=dbname password=password" sourcefile


> Hi folks!
>
> I hope you can help me. I have searched google for answers, but haven't found
> any. So I thought going closer to the 'source' might help me.
>
> In my organisation, we work with various GIS data in different file formats.
> I have a project, where I need to put all these data into a PostGIS database.
> So far I'm using the command line tool ogr2ogr to inject the data. But I have
> problems with character encoding:
>
> ERROR 1: INSERT command for new feature failed.
> ERROR: invalid byte sequence for encoding "UTF8": 0xf8
> HINT: This error can also happen if the byte sequence does not match the
> encoding expected by the server, which is controlled by "client_encoding".
>
> My PostGIS database uses UTF-8 and the data I'm working with (shape) is
> probably Latin1 encoded.
>
> I found a discussion where a user suggests that the solution might be to do
> the following:
>
> ogr2ogr -f PostgreSQL PG:"host=localhost user=username dbname=dbname
> password=password options='-c client_encoding=latin1'" sourcefile;
>
> It does not seem to affect the injection. So, what am I doing wrong?
>
> Kind regards, Casper
>
>


From szekerest at gmail.com  Fri Sep  4 10:29:36 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Sep  4 10:29:40 2009
Subject: [gdal-dev] Re: Thanks: Missing msvcr80.dll ?
In-Reply-To: <h7r59h$5bn$1@ger.gmane.org>
References: <h7p71d$t1f$1@ger.gmane.org>
	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>
	<h7qhpn$798$1@ger.gmane.org>
	<f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>
	<h7r59h$5bn$1@ger.gmane.org>
Message-ID: <f3b73b7d0909040729n1b7ee4ffv80b9d37c1f5ec47f@mail.gmail.com>

2009/9/4 Martin Hvidberg <Martin@hvidberg.net>

> Tamas Szekeres wrote:
>
>> Martin,
>>
>> You didn't mention from where did you obtain those binary files you are
>> testing with. I would be desirable that all the dependent dlls use the same
>> CRT settings and the dlls should also have their manifests to be embedded as
>> a resource. With the recent OS versions (Win XP or above) the dll loading
>> approach have been changed when the binaries have been compiled with VS2005
>> or above. In this case the CRT dependencies are loaded based on the manifest
>> file instead of based on the directory locations and PATH environment
>> settings. The required CRT version should be installed in the side by side
>> assembly cache (WinSxS) which can be done by using the redistributable
>> packages.
>>
>> You could also try with the packages from
>> http://vbkto.dyndns.org:1280/sdk/Default.aspx  which I'm pretty sure it
>> should work when the corresponding VS redistributable have been installed.
>>
>> Best regards,
>>
>> Tamas
>>
>>
> I got my GDAL from gdal.org (gdalwin32exe160.zip)
>
> It works on my XP nootebook but not on our 'Window Server 2003'
>


Hmmm... Just by looking into this package (
http://download.osgeo.org/gdal/win32/1.6/gdalwin32exe160.zip) I don't see
any dependencies to msvcr80.dll. Looks like most of the dlls have been build
with MSVC2003 (msvcrt71) and geos have been build with MSVC2008 (msvcr90)

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090904/299bd31b/attachment.html
From bfraser at geoanalytic.com  Fri Sep  4 10:30:34 2009
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Fri Sep  4 10:31:30 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4AA04A43.5060801@ualg.pt>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>
	<4A9E934B.2090306@geoanalytic.com> <4A9F24D2.2030808@ualg.pt>
	<4A9FC9AD.4050202@g <4A9FD04C.3010805@ualg.pt>
	<4A9FDBE5.1030407@geoanalytic.com> <4AA04A43.5060801@ualg.pt>
Message-ID: <4AA1248A.7080304@geoanalytic.com>

Interesting.  I downloaded it with Firefox, opened it in Acrobat 9, but it 
doesn't recognize it as a GeoPDF.  Hmmm...

Joaquim Luis wrote:
> Brent Fraser wrote:
> 
>>   Since the TerraGo way has been superceded by the Adobe/ISO way 
>> (thank goodness!), it makes it easier to identify the reference system 
>> definition in GDAL, so there may be some hope for GDAL and GeoPDF.
> 
> Still on this matter, the GeoPDF
> 
> http://www.terragotech.com/blog/quada.pdf
> 
> written in the Adobe way is not recognized as a GeoPDF by my Acrobat 
> with the
> TerraGo Toolbar and it crashes Chrome when trying to download it!!!
> 
From bfraser at geoanalytic.com  Fri Sep  4 10:34:50 2009
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Fri Sep  4 10:35:18 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4AA1248A.7080304@geoanalytic.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>	<4A9E934B.2090306@geoanalytic.com>
	<4A9F24D2.2030808@ualg.pt>	<4A9FC9AD.4050202@g
	<4A9FD04C.3010805@ualg.pt>	<4A9FDBE5.1030407@geoanalytic.com>
	<4AA04A43.5060801@ualg.pt> <4AA1248A.7080304@geoanalytic.com>
Message-ID: <4AA1258A.90502@geoanalytic.com>

User error.  I had to turn on the Tools -> Analysis -> Geospatial Location Tool 
to get the scrolling Lat/Lon.

Brent Fraser wrote:
> Interesting.  I downloaded it with Firefox, opened it in Acrobat 9, but 
> it doesn't recognize it as a GeoPDF.  Hmmm...
> 
> Joaquim Luis wrote:
>> Brent Fraser wrote:
>>
>>>   Since the TerraGo way has been superceded by the Adobe/ISO way 
>>> (thank goodness!), it makes it easier to identify the reference 
>>> system definition in GDAL, so there may be some hope for GDAL and 
>>> GeoPDF.
>>
>> Still on this matter, the GeoPDF
>>
>> http://www.terragotech.com/blog/quada.pdf
>>
>> written in the Adobe way is not recognized as a GeoPDF by my Acrobat 
>> with the
>> TerraGo Toolbar and it crashes Chrome when trying to download it!!!
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From mateusz at loskot.net  Fri Sep  4 10:50:35 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Sep  4 10:48:28 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4AA10FC0.7000601@ualg.pt>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>
	<4AA02629.9040208@ualg.pt> <4AA10D8C.5060805@loskot.net>
	<4AA10FC0.7000601@ualg.pt>
Message-ID: <4AA1293B.5020708@loskot.net>

Joaquim Luis wrote:
> Mateusz Loskot wrote:
>> Joaquim Luis wrote:
>>> Harsh Govind wrote:
>>>> And unlike previous versions (msvcrt71) you cannot copy over 8.0 
>>>> versions dlls from somewhere to your application directory in order 
>>>> to make it work. The solution per Martin's suggestion is to install 
>>>> vcredist.exe.
>>>
>>> Excuse the ingenuity, but than why build GDAL with MSVC > 2003?
>>> Why introducing this pain? What is the gain?
>>
>> One could ask why to build GDAL using GCC 3.x+ ?
>> It's perfectly valid to ask users to install re-distributable
>> package of C/C++ Run Time libraries as it is valid to
>> ask for version 5 or 6 of libc.
> 
> Fortunately I build my own binaries so I can chose the level of pain.

Yes, that's easiest option, indeed :-)

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From warmerdam at pobox.com  Fri Sep  4 12:07:16 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Sep  4 12:06:55 2009
Subject: [gdal-dev] UTF-8 String Support in GDALOpen() and
	OGRSFDriverRegistrar::Open()
In-Reply-To: <1251739195.4a9c063b3b4bd@imp.free.fr>
References: <6703cf3f0908310607p353dea45g6beb68eef91a8688@mail.gmail.com>
	<eb502d880908310710n728a5128s452c8380a7f0b868@mail.gmail.com>
	<6703cf3f0908310732j3d0c8339nf3bdc670170d55bb@mail.gmail.com>
	<eb502d880908310935l56cb5088m1418304feac8639c@mail.gmail.com>
	<6703cf3f0908310951q6c4c3978lade215e433d1d29e@mail.gmail.com>
	<1251739195.4a9c063b3b4bd@imp.free.fr>
Message-ID: <4AA13B34.3020905@pobox.com>

Even Rouault wrote:
> Louis, Chaintanya,
> 
> I just wanted to mention that the topic of encoding for filenames dealt by GDAL
> or OGR is a known issue that has not been addressed yet. You can read
> http://trac.osgeo.org/gdal/wiki/rfc5_unicode which was a proposal but has not
> been implemented. Some infrastructure for re-encoding has been introduced during
> the implementation of http://trac.osgeo.org/gdal/wiki/rfc23_ogr_unicode (but
> RFC23 only addresses the issue of encoding in OGR field values, not for
> filenames)
> 
> My understanding is that :
> * on Windows the current API used by GDAL/OGR does not expect UTF8 or Unicode
> but ANSI.
> * on Linux systems, UTF-8 is now assumed

Folks,

I wonder if we should implement some mechanism to support UTF-8 filenames
on windows (and generally) before GDAL 1.7 release?

How dangerous would it be for us to always assume filenames are UTF-8 and
act accordingly?

One theoretical downside to treating filenames as UTF8 is that we do a lot
of filename parsing that has no concept that some bytes in the name might
be part of a multi-byte sequence.  So if there was a UTF8 multibyte
character that happened to include ASCII 92 '\' or ASCII 47 '/' it would
confuse the path parsers.  Also for subdatasets, database connections and
other esoteric datasource names we do a lot of parsing - splitting on
spaces, commas, quotes and other special characters.  Some of this could be
confused by unfortunate UTF-8 characters.  I suppose we really ought to
be migrating to doing these manipulations on wchar_t's or perhaps UCS-32
arrays.

Hmm, this is getting rather complicated to address fully.

But at least as a hack we could provide a build or runtime mechanism to
tell cpl_vsil_win32.cpp code that the passed in filename should be
handled as UTF-8 instead of local code page characters on windows.  Would
that be worth implementing?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Fri Sep  4 12:16:48 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Fri Sep  4 12:17:00 2009
Subject: [gdal-dev] extract vector/raster data from GeoPDF
In-Reply-To: <4AA1258A.90502@geoanalytic.com>
References: <c07aa7ad0908070524o580baed3naa124845c5e01658@mail.gmail.com>		<4A7C3E92.9090202@geoanalytic.com>	<6e41d95b0909020727q1503739co5c6ab87d57d4d404@mail.gmail.com>	<4A9E934B.2090306@geoanalytic.com>
	<4A9F24D2.2030808@ualg.pt>	<4A9FC9AD.4050202@g
	<4A9FD04C.3010805@ualg.pt>	<4A9FDBE5.1030407@geoanalytic.com>
	<4AA04A43.5060801@ualg.pt> <4AA1248A.7080304@geoanalytic.com>
	<4AA1258A.90502@geoanalytic.com>
Message-ID: <4AA13D70.5060502@ualg.pt>

Brent Fraser wrote:
> User error.  I had to turn on the Tools -> Analysis -> Geospatial 
> Location Tool to get the scrolling Lat/Lon.

That's right, thanks

Joaquim

From ivan.lucena at pmldnet.com  Fri Sep  4 18:33:59 2009
From: ivan.lucena at pmldnet.com (Ivan)
Date: Fri Sep  4 18:32:55 2009
Subject: [gdal-dev] UTF-8 String Support in GDALOpen()
	and	OGRSFDriverRegistrar::Open()
In-Reply-To: <4AA13B34.3020905@pobox.com>
References: <6703cf3f0908310607p353dea45g6beb68eef91a8688@mail.gmail.com>	<eb502d880908310710n728a5128s452c8380a7f0b868@mail.gmail.com>	<6703cf3f0908310732j3d0c8339nf3bdc670170d55bb@mail.gmail.com>	<eb502d880908310935l56cb5088m1418304feac8639c@mail.gmail.com>	<6703cf3f0908310951q6c4c3978lade215e433d1d29e@mail.gmail.com>	<1251739195.4a9c063b3b4bd@imp.free.fr>
	<4AA13B34.3020905@pobox.com>
Message-ID: <4AA195D7.2020103@pmldnet.com>

Frank Warmerdam wrote:
> Even Rouault wrote:
>> Louis, Chaintanya,
>>
>> I just wanted to mention that the topic of encoding for filenames 
>> dealt by GDAL
>> or OGR is a known issue that has not been addressed yet. You can read
>> http://trac.osgeo.org/gdal/wiki/rfc5_unicode which was a proposal but 
>> has not
>> been implemented. Some infrastructure for re-encoding has been 
>> introduced during
>> the implementation of 
>> http://trac.osgeo.org/gdal/wiki/rfc23_ogr_unicode (but
>> RFC23 only addresses the issue of encoding in OGR field values, not for
>> filenames)
>>
>> My understanding is that :
>> * on Windows the current API used by GDAL/OGR does not expect UTF8 or 
>> Unicode
>> but ANSI.
>> * on Linux systems, UTF-8 is now assumed
> 
> Folks,
> 
> I wonder if we should implement some mechanism to support UTF-8 filenames
> on windows (and generally) before GDAL 1.7 release?
> 
> How dangerous would it be for us to always assume filenames are UTF-8 and
> act accordingly?
> 
> One theoretical downside to treating filenames as UTF8 is that we do a lot
> of filename parsing that has no concept that some bytes in the name might
> be part of a multi-byte sequence.  So if there was a UTF8 multibyte
> character that happened to include ASCII 92 '\' or ASCII 47 '/' it would
> confuse the path parsers.  Also for subdatasets, database connections and
> other esoteric datasource names we do a lot of parsing - splitting on
> spaces, commas, quotes and other special characters.  Some of this could be
> confused by unfortunate UTF-8 characters.  I suppose we really ought to
> be migrating to doing these manipulations on wchar_t's or perhaps UCS-32
> arrays.
> 
> Hmm, this is getting rather complicated to address fully.
> 
> But at least as a hack we could provide a build or runtime mechanism to
> tell cpl_vsil_win32.cpp code that the passed in filename should be
> handled as UTF-8 instead of local code page characters on windows.  Would
> that be worth implementing?
> 
> Best regards,

Frank,

I would be in favor of a broader solution, even if it needs to wait until 1.8. INHO.

Ivan
From atubar at 126.com  Sat Sep  5 12:11:25 2009
From: atubar at 126.com (atubar)
Date: Sat Sep  5 12:41:40 2009
Subject: [gdal-dev] Are all Files of HDF5 Formats supported by Gdal with
	libhdf5?
Message-ID: <8051818.251931252167085489.JavaMail.coremail@bj126app58.126.com>

Hi, I'm working with HDF4 and HDF5 using gdal in VS2008, and I get lots of troubles which make me confused.
As all the guides said, I modified the nmake.opt like this;
MSVC_VER=1500
GDAL_HOME = "C:\GDAL\gdal-1.6.2\bld-162"

# Uncomment the following and update to enable NCSA HDF Release 4 support.
HDF4_PLUGIN = Yes
HDF4_DIR = C:\GDAL\win42r4-VS2005-IVF101
HDF4_LIB = $(HDF4_DIR)\dll\hd424m.lib $(HDF4_DIR)\dll\hm424m.lib $(HDF4_DIR)\lib\hd424.lib $(HDF4_DIR)\lib\hm424.lib Ws2_32.lib
 
# Uncomment the following and update to enable NCSA HDF Release 5 support.
HDF5_PLUGIN = Yes
HDF5_DIR = C:\GDAL\hdf5_183_xp32_vs2005_ivf91
HDF5_LIB = $(HDF5_DIR)\dll\hdf5dll.lib
 
At last ,I get all dlls even  gdal_HDF5.dll, gdal_HDF5Image.dll. Then I copy them under my project folder.And it seems that not all h5 files are supported.
 
I have two copy of sample data, one is from Envi 4.3, and the other is from HDFview 2.5. The Envi's h5 file will take an erro of stack overflow while using GDALOpen method, and the other won't.
 
What's the materr? Data or lib? 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090906/3f846e84/attachment.html
From mateusz at loskot.net  Sat Sep  5 17:16:44 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Sep  5 17:16:52 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4AA0CCE8.5020305@actix.com>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>	<CCDE9BB0311241628C91595CB848EA76@chapmanm64>
	<4AA0CCE8.5020305@actix.com>
Message-ID: <4AA2D53C.1010202@loskot.net>

Stefan Moebius wrote:
> Another solution for avoiding pain for users is to link msvcrt
> statically. For this you need to change the compiler switch /MD into /MT
> (/MDd to /MTd for debug).

In the world of Windows OS, DLL is the preferred option.
Static linking to C/C++ run-time can cause more problems than it helps.
Check the Caution paragraph:

http://msdn.microsoft.com/en-us/library/2kzt1wy3(VS.71).aspx

> Note that if you link against external
> libraries (like geos, proj4, etc.), you need to recompile those too with
> the same change.

That's exactly the evil of static linking. Users would need to recompile
all components of their software.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From chapmanm at pixia.com  Sat Sep  5 17:22:34 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Sat Sep  5 17:22:42 2009
Subject: [gdal-dev] Missing msvcr80.dll ?
In-Reply-To: <4AA2D53C.1010202@loskot.net>
References: <h7p71d$t1f$1@ger.gmane.org>	<E6472819868D4038900EA69B4A1C8E36@chapmanm64>	<4B3B3C35D34C9345BC8914C199882E2817E7B07A1E@SPATCEX003.spadac.com>	<CCDE9BB0311241628C91595CB848EA76@chapmanm64>
	<4AA0CCE8.5020305@actix.com> <4AA2D53C.1010202@loskot.net>
Message-ID: <61C22524539D4540A9D6C5E91B760C99@chapmanm64>

Mateusz,

I agree.  MD is what I always use.  Once you figure out the manifest stuff
things become easier.  On another note, I was checking out the GD lib
homepage a few weeks ago and ended up looking at your home page.  Those
cliffs near the water where you rock climb look awesome!  I live in Colorado
and use to climb a lot when I was younger.  Really cool pics!

Martin

-----Original Message-----
From: Mateusz Loskot [mailto:mateusz@loskot.net] 
Sent: Saturday, September 05, 2009 3:17 PM
To: Stefan Moebius
Cc: Martin Chapman; gdal-dev@lists.osgeo.org; 'Martin Hvidberg'
Subject: Re: [gdal-dev] Missing msvcr80.dll ?

Stefan Moebius wrote:
> Another solution for avoiding pain for users is to link msvcrt
> statically. For this you need to change the compiler switch /MD into /MT
> (/MDd to /MTd for debug).

In the world of Windows OS, DLL is the preferred option.
Static linking to C/C++ run-time can cause more problems than it helps.
Check the Caution paragraph:

http://msdn.microsoft.com/en-us/library/2kzt1wy3(VS.71).aspx

> Note that if you link against external
> libraries (like geos, proj4, etc.), you need to recompile those too with
> the same change.

That's exactly the evil of static linking. Users would need to recompile
all components of their software.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org

From nahumoz at gmail.com  Sun Sep  6 07:07:13 2009
From: nahumoz at gmail.com (Oz Nahum)
Date: Sun Sep  6 07:07:16 2009
Subject: [gdal-dev] convert shape file to ascii raster
Message-ID: <6ec71d090909060407r3f7dbe60o9c233bd6cd4621eb@mail.gmail.com>

Hi,
I've been using gdal-rasterize for quite a while now in my python scripts.
It only posses on difficulty to me, since it forces me to use the tiff
format I need to create a template before creating the raster.
Does any one know of a quick way of doing the template? Alternatively, can I
use other pathway to create ascii raster from shape files with out the
creation of templates ?

Can someone direct me to a python solution ?

Many thanks,
Oz Nahum
Graduate Student
Center for Applied Geosciences
University of Tuebingen

-- 
----
           Imagine there's no countries
           It isn't hard to do
           Nothing to kill or die for
           And no religion too
           Imagine all the people
           Living life in peace
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090906/fb5be2a6/attachment.html
From Martin at Hvidberg.net  Sun Sep  6 08:28:14 2009
From: Martin at Hvidberg.net (Martin Hvidberg)
Date: Sun Sep  6 08:28:40 2009
Subject: [gdal-dev] Re: Thanks: Missing msvcr80.dll ?
In-Reply-To: <f3b73b7d0909040729n1b7ee4ffv80b9d37c1f5ec47f@mail.gmail.com>
References: <h7p71d$t1f$1@ger.gmane.org>	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>	<h7qhpn$798$1@ger.gmane.org>	<f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>	<h7r59h$5bn$1@ger.gmane.org>
	<f3b73b7d0909040729n1b7ee4ffv80b9d37c1f5ec47f@mail.gmail.com>
Message-ID: <h809su$tom$1@ger.gmane.org>


>     I got my GDAL from gdal.org <http://gdal.org> (gdalwin32exe160.zip)
> 
>     It works on my XP nootebook but not on our 'Window Server 2003'
> 
> 
> 
> Hmmm... Just by looking into this package 
> (http://download.osgeo.org/gdal/win32/1.6/gdalwin32exe160.zip) I don't 
> see any dependencies to msvcr80.dll. Looks like most of the dlls have 
> been build with MSVC2003 (msvcrt71) and geos have been build with 
> MSVC2008 (msvcr90)
> 
> Best regards,
> 
> Tamas

I wouldn't know... But every time I run a Python script that has the 
line 'import gdal' or more exactly, the following block.

------8<--------------
try:
	from osgeo import gdal
	from osgeo.gdalconst import *
	gdal.TermProgress = gdal.TermProgress_nocb
except ImportError:
	import gdal
	from gdalconst import *
------8<--------------

it generates a popup window that states:

"Python.exe - Unable To Locate Component
This application has failed to start because MSVCR80.dll was not found. 
Re-installing the application may fix this problem."

The exact same python script, runs like a dream, from the same directory 
, when I execute it from the FWtools.

This tells me that all the needed files are on the machine, but someting 
is not linked together or referenced correct from the ordinary command line.

:-) Martin

From szekerest at gmail.com  Sun Sep  6 17:26:19 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Sep  6 17:26:23 2009
Subject: [gdal-dev] Re: Thanks: Missing msvcr80.dll ?
In-Reply-To: <h809su$tom$1@ger.gmane.org>
References: <h7p71d$t1f$1@ger.gmane.org>
	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>
	<h7qhpn$798$1@ger.gmane.org>
	<f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>
	<h7r59h$5bn$1@ger.gmane.org>
	<f3b73b7d0909040729n1b7ee4ffv80b9d37c1f5ec47f@mail.gmail.com>
	<h809su$tom$1@ger.gmane.org>
Message-ID: <f3b73b7d0909061426o3b01e2dclb374ab33fc2f2c7b@mail.gmail.com>

2009/9/6 Martin Hvidberg <Martin@hvidberg.net>

>
>     I got my GDAL from gdal.org <http://gdal.org> (gdalwin32exe160.zip)
>>
>>    It works on my XP nootebook but not on our 'Window Server 2003'
>>
>>
>>
>> Hmmm... Just by looking into this package (
>> http://download.osgeo.org/gdal/win32/1.6/gdalwin32exe160.zip) I don't see
>> any dependencies to msvcr80.dll. Looks like most of the dlls have been build
>> with MSVC2003 (msvcrt71) and geos have been build with MSVC2008 (msvcr90)
>>
>> Best regards,
>>
>> Tamas
>>
>
> I wouldn't know... But every time I run a Python script that has the line
> 'import gdal' or more exactly, the following block.
>
> ------8<--------------
> try:
>        from osgeo import gdal
>        from osgeo.gdalconst import *
>        gdal.TermProgress = gdal.TermProgress_nocb
> except ImportError:
>        import gdal
>        from gdalconst import *
> ------8<--------------
>
> it generates a popup window that states:
>
> "Python.exe - Unable To Locate Component
> This application has failed to start because MSVCR80.dll was not found.
> Re-installing the application may fix this problem."
>
> The exact same python script, runs like a dream, from the same directory ,
> when I execute it from the FWtools.
>
> This tells me that all the needed files are on the machine, but someting is
> not linked together or referenced correct from the ordinary command line.



Martin,

The package you've mentioned above doesn't contain python bindings (
http://download.osgeo.org/gdal/win32/1.6/gdalwin32exe160.zip) so I wonder
how it would ever work in a particular machine. If you install FWTools and
you run the application from the FWTools command prompt you pick up the
related files from the FWTools installation not from the gdalwin32 package.
I admit I'm a bit lost what's the issue here as you mention your FWTools
package is working correctly. In any case, I would not recommend you to use
this one of gdalwin32, since it looks pretty old (2008-12-30) and not well
maintained.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090906/e14e60cc/attachment.html
From cbo at le34.dk  Mon Sep  7 02:56:52 2009
From: cbo at le34.dk (=?iso-8859-1?Q?Casper_B=F8rgesen?=)
Date: Mon Sep  7 02:56:55 2009
Subject: SV: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
References: <AAD98904A979004F8FD29D8368C646380DCD09@SERVER-MAIL.le34.dk>
	<1252074489.4aa123f99d162@imp.free.fr>
Message-ID: <AAD98904A979004F8FD29D8368C646380DCD2F@SERVER-MAIL.le34.dk>

Okay and thank you for your answers! 

Since using the '--config PGCLIENTENCODING format' option didn't make a difference, my next guess is that the encoding of the shapefile might be the problem. I have used SQL_ASCII, LATIN1, LATIN9, WIN1250, WIN1252 as formats and I still get the error. The formats has been selected according to my location (Denmark).

Do you have any suggestions to how I should proceed?

-----Oprindelig meddelelse-----
Fra: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sendt: 4. september 2009 16:28
Til: Casper B?rgesen
Cc: gdal-dev@lists.osgeo.org
Emne: Re: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr

Selon Casper B?rgesen <cbo@le34.dk>:

I'm not sure about options='-c client_encoding=latin1', but setting
PGCLIENTENCODING=LATIN1 instead as an environmnent variable/configuration option should definitely work (provided that the source shape is effectively LATIN1
encoded)

ogr2ogr --config PGCLIENTENCODING LATIN1 -f PostgreSQL PG:"host=localhost user=username dbname=dbname password=password" sourcefile


> Hi folks!
>
> I hope you can help me. I have searched google for answers, but 
> haven't found any. So I thought going closer to the 'source' might help me.
>
> In my organisation, we work with various GIS data in different file formats.
> I have a project, where I need to put all these data into a PostGIS database.
> So far I'm using the command line tool ogr2ogr to inject the data. But 
> I have problems with character encoding:
>
> ERROR 1: INSERT command for new feature failed.
> ERROR: invalid byte sequence for encoding "UTF8": 0xf8
> HINT: This error can also happen if the byte sequence does not match 
> the encoding expected by the server, which is controlled by "client_encoding".
>
> My PostGIS database uses UTF-8 and the data I'm working with (shape) 
> is probably Latin1 encoded.
>
> I found a discussion where a user suggests that the solution might be 
> to do the following:
>
> ogr2ogr -f PostgreSQL PG:"host=localhost user=username dbname=dbname 
> password=password options='-c client_encoding=latin1'" sourcefile;
>
> It does not seem to affect the injection. So, what am I doing wrong?
>
> Kind regards, Casper
>
>


From jonas.malmqvist at fsdynamics.se  Mon Sep  7 05:03:36 2009
From: jonas.malmqvist at fsdynamics.se (Jonas Malmqvist)
Date: Mon Sep  7 05:03:51 2009
Subject: [gdal-dev] convert shape file to ascii raster
In-Reply-To: <6ec71d090909060407r3f7dbe60o9c233bd6cd4621eb@mail.gmail.com>
References: <6ec71d090909060407r3f7dbe60o9c233bd6cd4621eb@mail.gmail.com>
Message-ID: <4AA4CC68.1090407@fsdynamics.se>

Hi I tried out some different ways an at the end I chose this way, not 
python but you use the same commands I guess.


-Concatenate four shapefiles:
ogr2ogr filemerged.shp mdv07xx1.shp
ogr2ogr -update -append filemerged.shp mdv07xx1.shp -nln filemerged
ogr2ogr -update -append filemerged.shp mdv07xx2.shp -nln filemerged
ogr2ogr -update -append filemerged.shp mdv07xx3.shp -nln filemerged
ogr2ogr -update -append filemerged.shp mdv07xx4.shp -nln filemerged

-Create an ARC/INFO textfile with one pixel representing the 
window/region of intrest:

the text file window.asc contains the following:

ncols         1
nrows         1
xllcorner     1283000
yllcorner     6403000
cellsize      30000
NODATA_value  -9999
0

-Increase the resolution on the ARC/Info window and convert i to Geotif:
gdal_translate window.asc -of GTiff  -outsize 300 300 window_high_res.tif

-Rasterize the shapefile onto the Geotif:
gdal_rasterize -a shapefile_field_name -l _shape_file_layer 
filemerged.shp window_high_resolution.tif

-And last convert the high res Geotif to an ARC/Info ascii file:
gdal_translate -of AAIGrid height_high_res.tif height_high_res.asc


Good luck!

-Jonas

??????????????????????????????????????????????????????????????????????
Jonas Malmqvist
FS Dynamics AB
Jungmansgatan 31
SE-413 11 G?teborg
Sweden
Phone: +46 (0)31 720 71 45
Fax:   +46 (0)31 761 99 49
E-mail:	jonas.malmqvist@fsdynamics.se



Oz Nahum wrote:
> Hi,
> I've been using gdal-rasterize for quite a while now in my python 
> scripts. It only posses on difficulty to me, since it forces me to use 
> the tiff format I need to create a template before creating the raster.
> Does any one know of a quick way of doing the template? Alternatively, 
> can I use other pathway to create ascii raster from shape files with 
> out the creation of templates ?
>
> Can someone direct me to a python solution ?
>
> Many thanks,
> Oz Nahum
> Graduate Student
> Center for Applied Geosciences
> University of Tuebingen
>
> -- 
> ----
>            Imagine there's no countries
>            It isn't hard to do
>            Nothing to kill or die for
>            And no religion too
>            Imagine all the people
>            Living life in peace
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090907/2e50ff86/attachment.html
From warmerdam at pobox.com  Mon Sep  7 10:07:56 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Sep  7 10:08:14 2009
Subject: [gdal-dev] Are all Files of HDF5 Formats supported by Gdal with
	libhdf5?
In-Reply-To: <8051818.251931252167085489.JavaMail.coremail@bj126app58.126.com>
References: <8051818.251931252167085489.JavaMail.coremail@bj126app58.126.com>
Message-ID: <4AA513BC.4050402@pobox.com>

atubar wrote:
  > I have two copy of sample data, one is from Envi 4.3, and the other is
> from HDFview 2.5. The Envi's h5 file will take an erro of stack overflow 
> while using GDALOpen method, and the other won't.
>  
> What's the materr? Data or lib? 

Atubar,

It is hard to know for use without the data.

I do know that there are HDF4 and HDF5 data products that GDAL cannot
read - either because it is not of 2+ dimensions (and so treatable
as image data) or because it is formatted in some fashion not
recognised by GDAL.  But even in these situations it is not acceptable
for the driver to crash the application.

So I would encourage you to file a ticket explaining the problem you
are encountering, and attach or point to the problem dataset(s).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Martin at Hvidberg.net  Mon Sep  7 13:48:47 2009
From: Martin at Hvidberg.net (Martin Hvidberg)
Date: Mon Sep  7 13:49:12 2009
Subject: [gdal-dev] Re: Thanks: Missing msvcr80.dll ?
In-Reply-To: <f3b73b7d0909061426o3b01e2dclb374ab33fc2f2c7b@mail.gmail.com>
References: <h7p71d$t1f$1@ger.gmane.org>	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>	<h7qhpn$798$1@ger.gmane.org>	<f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>	<h7r59h$5bn$1@ger.gmane.org>	<f3b73b7d0909040729n1b7ee4ffv80b9d37c1f5ec47f@mail.gmail.com>	<h809su$tom$1@ger.gmane.org>
	<f3b73b7d0909061426o3b01e2dclb374ab33fc2f2c7b@mail.gmail.com>
Message-ID: <h83h1v$d9o$1@ger.gmane.org>


> 
> Martin,
> 
> The package you've mentioned above doesn't contain python bindings 
> (http://download.osgeo.org/gdal/win32/1.6/gdalwin32exe160.zip) so I 
> wonder how it would ever work in a particular machine. If you install 
> FWTools and you run the application from the FWTools command prompt you 
> pick up the related files from the FWTools installation not from the 
> gdalwin32 package.
> I admit I'm a bit lost what's the issue here as you mention your FWTools 
> package is working correctly. In any case, I would not recommend you to 
> use this one of gdalwin32, since it looks pretty old (2008-12-30) and 
> not well maintained.
> 
> Best regards,
> 
> Tamas


That is very definitely a problem: "GDAL only work if you also install 
FWtools". I hardly think that was the intention when moving maintainense 
over from Frank to OSgeo.

I'm not sure what you mean by 'dosn't contain python bindings'. I'm not 
an expert on 'bindings'. But you are right that it is normal to have 
some files in the Python '\lib\site-packages\' in order for things to work.

What GDAL would you recommend that is not 'pretty old' and 'not well 
maintained', if not the one found on the official GDAL web site.

:-) Martin

From even.rouault at mines-paris.org  Mon Sep  7 14:56:00 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep  7 14:56:03 2009
Subject: [gdal-dev] UTF-8 String Support in GDALOpen() and
	OGRSFDriverRegistrar::Open()
In-Reply-To: <4AA195D7.2020103@pmldnet.com>
References: <6703cf3f0908310607p353dea45g6beb68eef91a8688@mail.gmail.com>
	<eb502d880908310710n728a5128s452c8380a7f0b868@mail.gmail.com>
	<6703cf3f0908310732j3d0c8339nf3bdc670170d55bb@mail.gmail.com>
	<eb502d880908310935l56cb5088m1418304feac8639c@mail.gmail.com>
	<6703cf3f0908310951q6c4c3978lade215e433d1d29e@mail.gmail.com>
	<1251739195.4a9c063b3b4bd@imp.free.fr>
	<4AA13B34.3020905@pobox.com> <4AA195D7.2020103@pmldnet.com>
Message-ID: <1252349760.4aa5574008001@imp.free.fr>

Selon Ivan <ivan.lucena@pmldnet.com>:

> >
> > Folks,
> >
> > I wonder if we should implement some mechanism to support UTF-8 filenames
> > on windows (and generally) before GDAL 1.7 release?

That would be definitely a cool idea. Apart from Windows, I'm not sure if other
supported OSes need work. As far as Linux is concerned, I believe that we can
reasonably assume that UTF-8 strings are already passed to GDAL/OGR, as nowadays
all distro have switched their locales to UTF-8 (the move started with RedHat
8.0 in 2002), although my readings show that the filesystem encoding is not
necessary the same. I've looked a bit at GLIB-2.0 documentation and they have
invented a G_FILENAME_ENCODING and G_BROKEN_FILENAMES to deal with those rare
situations (http://library.gnome.org/devel/glib/stable/glib-running.html,
http://library.gnome.org/devel/glib/stable/glib-Character-Set-Conversion.html).
All of this is rather confusing, but I don't think we need to go into that level
of complexity. As far as MacOSX is concerned, I can't say.

> >
> > How dangerous would it be for us to always assume filenames are UTF-8 and
> > act accordingly?
> >
> > One theoretical downside to treating filenames as UTF8 is that we do a lot
> > of filename parsing that has no concept that some bytes in the name might
> > be part of a multi-byte sequence.  So if there was a UTF8 multibyte
> > character that happened to include ASCII 92 '\' or ASCII 47 '/' it would
> > confuse the path parsers.  Also for subdatasets, database connections and
> > other esoteric datasource names we do a lot of parsing - splitting on
> > spaces, commas, quotes and other special characters.  Some of this could be
> > confused by unfortunate UTF-8 characters.  I suppose we really ought to
> > be migrating to doing these manipulations on wchar_t's or perhaps UCS-32
> > arrays.
> >
> > Hmm, this is getting rather complicated to address fully.

On the contrary, UTF-8 garantees that you can't find a byte within the ASCII
range (0-127) in a multi-byte UTF-8 character. Multi-byte UTF-8 characters
always have their most significant bit at 1. Quoting Wikipedia : "The ASCII
characters are represented by themselves as single bytes that do not appear
anywhere else, which makes UTF-8 work with the majority of existing APIs that
take bytes strings but only treat a small number of ASCII codes specially". So
UTF-8 would be definitely a good choice as a unicode encoding.

> >
> > But at least as a hack we could provide a build or runtime mechanism to
> > tell cpl_vsil_win32.cpp code that the passed in filename should be
> > handled as UTF-8 instead of local code page characters on windows.  Would
> > that be worth implementing?

Like Ivan, I think we must try aiming at the cleanest solution (at least at the
API level) to minimize the need for users to port their app.

I've hardly any experience on the subject on Windows, but I think we should
target the wide-character (UTF-16) variants of the functions of the Windows API
rather than then local code page, since UTF-8/UTF-16 conversion to local code
page encoding can fail. Andrey mentionned CreateFileW in RFC5. _findfirst would
likely need to be changed into _wfindfirst. You mention
cpl_vsil_win32.cpp, but cpl_vsil_simple.cpp would probably need changes.
http://msdn.microsoft.com/en-us/library/yeby3zcb(VS.71).aspx mentions a
_wfopen() wide-character version of fopen.

On Windows, GDAL/OGR applications would also need some changes to get their
command line options as UTF-8 arguments. I see as GetCommandLineW()/
CommandLineToArgvW() functions
(http://msdn.microsoft.com/en-us/library/ms683156(VS.85).aspx).

A remaining question is : should we provide a 'compatibility mode' for users
that only deal with non-ASCII character in the ANSI range of their local code
page and can use it successfully currently ? This could be controlled by a
environment variable (CPL_ANSI_FILENAMES=ON) that would revert to the A variants
without any string conversions. Or maybe we can assume that the
behaviour of current GDAL was undefined for any non-ASCII filename, so we can
freely define it without dealing too much with backward compatibility issues

Best regards,

Even


From jason.roberts at duke.edu  Mon Sep  7 16:18:50 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Mon Sep  7 16:18:59 2009
Subject: [gdal-dev] UTF-8 String Support in GDALOpen()
	and	OGRSFDriverRegistrar::Open()
In-Reply-To: <1252349760.4aa5574008001@imp.free.fr>
References: <6703cf3f0908310607p353dea45g6beb68eef91a8688@mail.gmail.com>
	<eb502d880908310710n728a5128s452c8380a7f0b868@mail.gmail.com>
	<6703cf3f0908310732j3d0c8339nf3bdc670170d55bb@mail.gmail.com>
	<eb502d880908310935l56cb5088m1418304feac8639c@mail.gmail.com>
	<6703cf3f0908310951q6c4c3978lade215e433d1d29e@mail.gmail.com>
	<1251739195.4a9c063b3b4bd@imp.free.fr>
	<4AA13B34.3020905@pobox.com> <4AA195D7.2020103@pmldnet.com>
	<1252349760.4aa5574008001@imp.free.fr>
Message-ID: <00b501ca2ff8$6ac2d9f0$40488dd0$@roberts@duke.edu>

> A remaining question is : should we provide a 'compatibility mode' for
users
> that only deal with non-ASCII character in the ANSI range of their local
code
> page and can use it successfully currently ? This could be controlled by a
> environment variable (CPL_ANSI_FILENAMES=ON) that would revert to the A
variants
> without any string conversions. Or maybe we can assume that the
> behaviour of current GDAL was undefined for any non-ASCII filename, so we
can
> freely define it without dealing too much with backward compatibility
issues

That is an important question.

On languages of Windows, important paths can contain non-ASCII characters.
For example, if I recall correctly, on the Czech version of Windows XP the
"C:\Documents and Settings\username\Application Data" directory is localized
to "C:\Documents and Settings\username\Data aplikac?". The last character in
that string is character 0xED in the Windows-1252 code page. (I guess
Microsoft was too scared to localize "Documents and Settings" but ok with
localizing "Application Data".) Also, I believe users can include non-ASCII
characters in their user name. This means that the path to the "My
Documents" folder will have non-ASCII characters in it. Because that is the
default location to save things for many Windows applications, it seems
important that GDAL would allow programs to read from there.

I am not 100% certain, but I believe the behavior of the current GDAL API is
to accept 8-bit strings and pass them through to the 8-bit operating system
functions. There are probably many programs that rely on this, allowing them
to work on Windows with non-ASCII characters in their paths. If you now
require UTF-8 instead, those programs would all have to be changed unless
you supplied the CPL_ANSI_FILENAMES=ON option, or something similar.

Best,

Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Even Rouault
Sent: Monday, September 07, 2009 2:56 PM
To: Ivan
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] UTF-8 String Support in GDALOpen() and
OGRSFDriverRegistrar::Open()

Selon Ivan <ivan.lucena@pmldnet.com>:

> >
> > Folks,
> >
> > I wonder if we should implement some mechanism to support UTF-8
filenames
> > on windows (and generally) before GDAL 1.7 release?

That would be definitely a cool idea. Apart from Windows, I'm not sure if
other
supported OSes need work. As far as Linux is concerned, I believe that we
can
reasonably assume that UTF-8 strings are already passed to GDAL/OGR, as
nowadays
all distro have switched their locales to UTF-8 (the move started with
RedHat
8.0 in 2002), although my readings show that the filesystem encoding is not
necessary the same. I've looked a bit at GLIB-2.0 documentation and they
have
invented a G_FILENAME_ENCODING and G_BROKEN_FILENAMES to deal with those
rare
situations (http://library.gnome.org/devel/glib/stable/glib-running.html,
http://library.gnome.org/devel/glib/stable/glib-Character-Set-Conversion.htm
l).
All of this is rather confusing, but I don't think we need to go into that
level
of complexity. As far as MacOSX is concerned, I can't say.

> >
> > How dangerous would it be for us to always assume filenames are UTF-8
and
> > act accordingly?
> >
> > One theoretical downside to treating filenames as UTF8 is that we do a
lot
> > of filename parsing that has no concept that some bytes in the name
might
> > be part of a multi-byte sequence.  So if there was a UTF8 multibyte
> > character that happened to include ASCII 92 '\' or ASCII 47 '/' it would
> > confuse the path parsers.  Also for subdatasets, database connections
and
> > other esoteric datasource names we do a lot of parsing - splitting on
> > spaces, commas, quotes and other special characters.  Some of this could
be
> > confused by unfortunate UTF-8 characters.  I suppose we really ought to
> > be migrating to doing these manipulations on wchar_t's or perhaps UCS-32
> > arrays.
> >
> > Hmm, this is getting rather complicated to address fully.

On the contrary, UTF-8 garantees that you can't find a byte within the ASCII
range (0-127) in a multi-byte UTF-8 character. Multi-byte UTF-8 characters
always have their most significant bit at 1. Quoting Wikipedia : "The ASCII
characters are represented by themselves as single bytes that do not appear
anywhere else, which makes UTF-8 work with the majority of existing APIs
that
take bytes strings but only treat a small number of ASCII codes specially".
So
UTF-8 would be definitely a good choice as a unicode encoding.

> >
> > But at least as a hack we could provide a build or runtime mechanism to
> > tell cpl_vsil_win32.cpp code that the passed in filename should be
> > handled as UTF-8 instead of local code page characters on windows.
Would
> > that be worth implementing?

Like Ivan, I think we must try aiming at the cleanest solution (at least at
the
API level) to minimize the need for users to port their app.

I've hardly any experience on the subject on Windows, but I think we should
target the wide-character (UTF-16) variants of the functions of the Windows
API
rather than then local code page, since UTF-8/UTF-16 conversion to local
code
page encoding can fail. Andrey mentionned CreateFileW in RFC5. _findfirst
would
likely need to be changed into _wfindfirst. You mention
cpl_vsil_win32.cpp, but cpl_vsil_simple.cpp would probably need changes.
http://msdn.microsoft.com/en-us/library/yeby3zcb(VS.71).aspx mentions a
_wfopen() wide-character version of fopen.

On Windows, GDAL/OGR applications would also need some changes to get their
command line options as UTF-8 arguments. I see as GetCommandLineW()/
CommandLineToArgvW() functions
(http://msdn.microsoft.com/en-us/library/ms683156(VS.85).aspx).

A remaining question is : should we provide a 'compatibility mode' for users
that only deal with non-ASCII character in the ANSI range of their local
code
page and can use it successfully currently ? This could be controlled by a
environment variable (CPL_ANSI_FILENAMES=ON) that would revert to the A
variants
without any string conversions. Or maybe we can assume that the
behaviour of current GDAL was undefined for any non-ASCII filename, so we
can
freely define it without dealing too much with backward compatibility issues

Best regards,

Even


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From szekerest at gmail.com  Mon Sep  7 16:30:40 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Sep  7 16:36:18 2009
Subject: [gdal-dev] Re: Thanks: Missing msvcr80.dll ?
In-Reply-To: <h83h1v$d9o$1@ger.gmane.org>
References: <h7p71d$t1f$1@ger.gmane.org>
	<E4BC024D115045FF9E76BBE8D69478C3@chapmanm64>
	<h7qhpn$798$1@ger.gmane.org>
	<f3b73b7d0909040306p6d86289eg3becb3407b3def4f@mail.gmail.com>
	<h7r59h$5bn$1@ger.gmane.org>
	<f3b73b7d0909040729n1b7ee4ffv80b9d37c1f5ec47f@mail.gmail.com>
	<h809su$tom$1@ger.gmane.org>
	<f3b73b7d0909061426o3b01e2dclb374ab33fc2f2c7b@mail.gmail.com>
	<h83h1v$d9o$1@ger.gmane.org>
Message-ID: <f3b73b7d0909071330q4c026363xffc310cb7484beda@mail.gmail.com>

2009/9/7 Martin Hvidberg <Martin@hvidberg.net>

>
> That is very definitely a problem: "GDAL only work if you also install
> FWtools". I hardly think that was the intention when moving maintainense
> over from Frank to OSgeo.
>
>
Martin,

If FWTools is working then why don't you pick all the files from FWTools
instead of gdalwin32?



> I'm not sure what you mean by 'dosn't contain python bindings'. I'm not an
> expert on 'bindings'. But you are right that it is normal to have some files
> in the Python '\lib\site-packages\' in order for things to work.
>
>
The package should at least contain the .py and .pyd files compiled along
with the gdal binaries.



> What GDAL would you recommend that is not 'pretty old' and 'not well
> maintained', if not the one found on the official GDAL web site.
>
>
We indend to collect all of the possibilities in the following wiki page:
http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries

It depends on your needs which package is the most appropriate to you. You
may require binaries either from the stable releases, SVN stable branches or
the deveopment versions Win32 or Win64, which drivers included etc.
I've just tried to summarize the key differences/similarities of the Windows
package versions in the following table (apologies if something is not
correct)

Package             Update frequency         corresponding version
                     platform               Compiler
SDK available             maintainer

1. FWTools               1-2 months              SVN
development(trunk)                  Win32
MSVC2003                       yes (???)                 Frank Warmerdam

2. OSGeo4w             stable releases      stable releases/development
          Win32                 MSVC2003                       yes  (???)
              Frank Warmerdam / Howard Butler

3. Geoinformatica      ???
???                                                     Win32
   MinGW                              ???                          Ari Jolma
(???)

4. ms4w                     releases
releases(stable/beta/rc)                   Win32
MSVC2008                       yes (buildkit)           Jeff McKenna (DM
Solutions)

5. Tamas's binaries   daily                       SVN (development and
stable)       Win32/Win64      MSVC2003/2005/2008    yes
Tamas Szekeres

6. gdalwin32              ???
???                                                    Win32
mixed                                  no                            ???



It would be much more difficult to enumerate which drivers/bindings are
available in which packages.


Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090907/72ce4208/attachment.html
From atubar at 126.com  Tue Sep  8 00:55:07 2009
From: atubar at 126.com (atubar)
Date: Tue Sep  8 01:25:53 2009
Subject: [gdal-dev] Are all Files of HDF5 Formats supported by Gdal
	with libhdf5?
In-Reply-To: <4AA513BC.4050402@pobox.com>
References: <4AA513BC.4050402@pobox.com>
	<8051818.251931252167085489.JavaMail.coremail@bj126app58.126.com>
Message-ID: <11399841.692731252385708003.JavaMail.coremail@bj126app28.126.com>

Hi, I'm not quite sure about what you need to analyze the problem. But I will write down all details which I consider helpful.

I build all dlls (gdal_HDF5.dll, gdal_HDF5Image.dll), add C:\gdal\gdal162\bld\bin as system variable.

Then I reset VS2008 as VC++ with default settings, add C:\gdal\gdal162\bld\include and C:\gdal\gdal162\bld\lib to the project.

The sample datas are supplied as part of software package. Theit file structures are below read out by The HDF hdfview 2.5.

-----------Structure of sample data from hdfview 2.5----------------
C:\Program Files\thg\hdfview 2.5\samples\hdf5_test.h5
+hdf5_test.h5
   +A note
   +arrays
     -1D String
     -2D float array
     -2D int array
     -3D int array
     -ArrayOfStructures
     -Vdata with mixed types
   +datatypes
     -H5_NATIVE_INT
   +images
     -3D THG
     -Iceberg
     -hst_lagoon_detail.jpg
     -ice interlace
     -pixel interlace
     -plane interlace


-----------Structure of sample data from Envi 4.3----------------
D:\RSI\IDL63\examples\data\hdf5_test.h5
+hdf5_test.h5
    -2D int array
    -A note
    -SL to 3D int array
    +arrays
       -2D float array
       -2D int array
       -3D int array
       -Vdata with mixed types
    +datatypes
       -A Native float datatype
       -A String datatype
       -Air pressure
    +images
       -Eskimo
       -Eskimo_palette
       -Iceberg
       -Iceberg_palette
    +links
       +hard links
           -Eskimo
           -RGB values
           -loop back to links
        +soft links
           -2D float array


-------------------------the code that I write in VS2008 ------------------------
#include <iostream>
#include <stdio.h>

#include "gdal_priv.h"
#pragma comment(lib,"gdal_i.lib")

using std::cout;
using std::endl;

int main()
{
 GDALAllRegister();

 const char* filename="D:\\RSI\\IDL63\\examples\\data\\hdf5_test.h5";
 //const char* filename="C:\\Program Files\\thg\\hdfview 2.5\\samples\\hdf5_test.h5";

 const char* pszFormat="HDF5";
 GDALDriver *poDriver = GetGDALDriverManager()->GetDriverByName(pszFormat);
 
 if( poDriver != NULL )
 {
  cout<<pszFormat<<" format is supported!"<<endl;
 }
 else
 {
  cout<<"Gdal do not support "<<pszFormat<<"."<<endl;
 }

 GDALDataset *poDataset; 
 poDataset= (GDALDataset *) GDALOpen( filename, GA_ReadOnly);
 
 if(poDataset == NULL)
 {
  cout<<"error!";
  return 0;
 }
  else
 {
  //***************************************************************//
  double   adfGeoTransform[6];
  
  printf( "Driver: %s/%s\n",
   poDataset->GetDriver()->GetDescription(), 
            poDataset->GetDriver()->GetMetadataItem( GDAL_DMD_LONGNAME ) );
  
  printf( "Size is %dx%dx%d\n", 
            poDataset->GetRasterXSize(), poDataset->GetRasterYSize(),
            poDataset->GetRasterCount() );
  
  if( poDataset->GetProjectionRef()  != NULL )
   printf( "Projection is '%s'\n", poDataset->GetProjectionRef() );
  
  if( poDataset->GetGeoTransform( adfGeoTransform ) == CE_None )
  {
   printf( "Origin = (%.6f,%.6f)\n",
    adfGeoTransform[0], adfGeoTransform[3] );
   
   printf( "Pixel Size = (%.6f,%.6f)\n",
                adfGeoTransform[1], adfGeoTransform[5] );
  }
 }
 
 GDALClose(poDataset);
 return 0;
}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090908/b00e9e53/attachment-0001.html
From pablo.angelo at dlr.de  Tue Sep  8 03:28:33 2009
From: pablo.angelo at dlr.de (Pablo d Angelo)
Date: Tue Sep  8 03:29:39 2009
Subject: [gdal-dev] Convention for pixel coordinates in GDAL_GCP?
Message-ID: <1252394913.10786.13.camel@vogon.af.op.dlr.de>

Hi all,

I'm currently writing a GDAL driver for our in house image format.

I have a question about the GDAL_GCP.dfGCPPixel and GDAL_GCP.dfGCPPixel
coordinates. 

http://gdal.org/gdal_datamodel.html says:

The (Pixel,Line) position is the GCP location on the raster.

Is it the center of the pixel, or one of the corners? It would be great
if that info could be added to the documentation.

Thanks,
 Pablo

-- 
-- Pablo.Angelo@dlr.de -------------------------------------------
Dr. Pablo d'Angelo - DLR - Institut f?r Methodik der Fernerkundung __/|__
Oberpfaffenhofen, Postfach 11 16, 82230 We?ling                   /_/_/_/
http://www.caf.dlr.de                                               |/   


From cbo at le34.dk  Tue Sep  8 07:50:09 2009
From: cbo at le34.dk (=?iso-8859-1?Q?Casper_B=F8rgesen?=)
Date: Tue Sep  8 07:50:13 2009
Subject: SV: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
References: <AAD98904A979004F8FD29D8368C646380DCD09@SERVER-MAIL.le34.dk><1252074489.4aa123f99d162@imp.free.fr>
	<AAD98904A979004F8FD29D8368C646380DCD2F@SERVER-MAIL.le34.dk>
Message-ID: <AAD98904A979004F8FD29D8368C646380DCDA5@SERVER-MAIL.le34.dk>

A small follow-up. As I stated previously, the '--config PGCLIENTENCODING format' didn't help me. But calling 'SET PGCLIENTENCODING=LATIN1' before the call to ogr2ogr, did do the trick. Thus my shape file character encoding probably is LATIN1. 

Do you have any idea of how to get the '--config' method to work?

Regards, Casper

-----Oprindelig meddelelse-----
Fra: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] P? vegne af Casper B?rgesen
Sendt: 7. september 2009 08:57
Til: gdal-dev@lists.osgeo.org
Emne: SV: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr

Okay and thank you for your answers! 

Since using the '--config PGCLIENTENCODING format' option didn't make a difference, my next guess is that the encoding of the shapefile might be the problem. I have used SQL_ASCII, LATIN1, LATIN9, WIN1250, WIN1252 as formats and I still get the error. The formats has been selected according to my location (Denmark).

Do you have any suggestions to how I should proceed?

-----Oprindelig meddelelse-----
Fra: Even Rouault [mailto:even.rouault@mines-paris.org]
Sendt: 4. september 2009 16:28
Til: Casper B?rgesen
Cc: gdal-dev@lists.osgeo.org
Emne: Re: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr

Selon Casper B?rgesen <cbo@le34.dk>:

I'm not sure about options='-c client_encoding=latin1', but setting
PGCLIENTENCODING=LATIN1 instead as an environmnent variable/configuration option should definitely work (provided that the source shape is effectively LATIN1
encoded)

ogr2ogr --config PGCLIENTENCODING LATIN1 -f PostgreSQL PG:"host=localhost user=username dbname=dbname password=password" sourcefile


> Hi folks!
>
> I hope you can help me. I have searched google for answers, but 
> haven't found any. So I thought going closer to the 'source' might help me.
>
> In my organisation, we work with various GIS data in different file formats.
> I have a project, where I need to put all these data into a PostGIS database.
> So far I'm using the command line tool ogr2ogr to inject the data. But 
> I have problems with character encoding:
>
> ERROR 1: INSERT command for new feature failed.
> ERROR: invalid byte sequence for encoding "UTF8": 0xf8
> HINT: This error can also happen if the byte sequence does not match 
> the encoding expected by the server, which is controlled by "client_encoding".
>
> My PostGIS database uses UTF-8 and the data I'm working with (shape) 
> is probably Latin1 encoded.
>
> I found a discussion where a user suggests that the solution might be 
> to do the following:
>
> ogr2ogr -f PostgreSQL PG:"host=localhost user=username dbname=dbname 
> password=password options='-c client_encoding=latin1'" sourcefile;
>
> It does not seem to affect the injection. So, what am I doing wrong?
>
> Kind regards, Casper
>
>


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Tue Sep  8 07:52:32 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep  8 07:52:52 2009
Subject: [gdal-dev] Convention for pixel coordinates in GDAL_GCP?
In-Reply-To: <1252394913.10786.13.camel@vogon.af.op.dlr.de>
References: <1252394913.10786.13.camel@vogon.af.op.dlr.de>
Message-ID: <4AA64580.2080005@pobox.com>

Pablo d Angelo wrote:
> Hi all,
> 
> I'm currently writing a GDAL driver for our in house image format.
> 
> I have a question about the GDAL_GCP.dfGCPPixel and GDAL_GCP.dfGCPPixel
> coordinates. 
> 
> http://gdal.org/gdal_datamodel.html says:
> 
> The (Pixel,Line) position is the GCP location on the raster.
> 
> Is it the center of the pixel, or one of the corners? It would be great
> if that info could be added to the documentation.

Pablo,

It uses the same pixel/line georeferencing model as is inherent in the
geotransform.  That is (0.0,0.0) would refer to the top left corner of the
top left pixel.  For a GCP to be at the center of the top left pixel it
would use (0.5,0.5)

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From no-reply at neogeo-online.net  Tue Sep  8 08:07:38 2009
From: no-reply at neogeo-online.net (Guillaume Sueur)
Date: Tue Sep  8 08:31:41 2009
Subject: SV: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
In-Reply-To: <AAD98904A979004F8FD29D8368C646380DCDA5@SERVER-MAIL.le34.dk>
References: <AAD98904A979004F8FD29D8368C646380DCD09@SERVER-MAIL.le34.dk><1252074489.4aa123f99d162@imp.free.fr>	<AAD98904A979004F8FD29D8368C646380DCD2F@SERVER-MAIL.le34.dk>
	<AAD98904A979004F8FD29D8368C646380DCDA5@SERVER-MAIL.le34.dk>
Message-ID: <4AA6490A.9090402@neogeo-online.net>

sure, you can define client_encoding direcly in postgresql.conf

regards

Guillaume

Casper B?rgesen a ?crit :
> A small follow-up. As I stated previously, the '--config PGCLIENTENCODING format' didn't help me. But calling 'SET PGCLIENTENCODING=LATIN1' before the call to ogr2ogr, did do the trick. Thus my shape file character encoding probably is LATIN1. 
> 
> Do you have any idea of how to get the '--config' method to work?
> 
> Regards, Casper
> 
> -----Oprindelig meddelelse-----
> Fra: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] P? vegne af Casper B?rgesen
> Sendt: 7. september 2009 08:57
> Til: gdal-dev@lists.osgeo.org
> Emne: SV: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
> 
> Okay and thank you for your answers! 
> 
> Since using the '--config PGCLIENTENCODING format' option didn't make a difference, my next guess is that the encoding of the shapefile might be the problem. I have used SQL_ASCII, LATIN1, LATIN9, WIN1250, WIN1252 as formats and I still get the error. The formats has been selected according to my location (Denmark).
> 
> Do you have any suggestions to how I should proceed?
> 
> -----Oprindelig meddelelse-----
> Fra: Even Rouault [mailto:even.rouault@mines-paris.org]
> Sendt: 4. september 2009 16:28
> Til: Casper B?rgesen
> Cc: gdal-dev@lists.osgeo.org
> Emne: Re: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
> 
> Selon Casper B?rgesen <cbo@le34.dk>:
> 
> I'm not sure about options='-c client_encoding=latin1', but setting
> PGCLIENTENCODING=LATIN1 instead as an environmnent variable/configuration option should definitely work (provided that the source shape is effectively LATIN1
> encoded)
> 
> ogr2ogr --config PGCLIENTENCODING LATIN1 -f PostgreSQL PG:"host=localhost user=username dbname=dbname password=password" sourcefile
> 
> 
>> Hi folks!
>>
>> I hope you can help me. I have searched google for answers, but 
>> haven't found any. So I thought going closer to the 'source' might help me.
>>
>> In my organisation, we work with various GIS data in different file formats.
>> I have a project, where I need to put all these data into a PostGIS database.
>> So far I'm using the command line tool ogr2ogr to inject the data. But 
>> I have problems with character encoding:
>>
>> ERROR 1: INSERT command for new feature failed.
>> ERROR: invalid byte sequence for encoding "UTF8": 0xf8
>> HINT: This error can also happen if the byte sequence does not match 
>> the encoding expected by the server, which is controlled by "client_encoding".
>>
>> My PostGIS database uses UTF-8 and the data I'm working with (shape) 
>> is probably Latin1 encoded.
>>
>> I found a discussion where a user suggests that the solution might be 
>> to do the following:
>>
>> ogr2ogr -f PostgreSQL PG:"host=localhost user=username dbname=dbname 
>> password=password options='-c client_encoding=latin1'" sourcefile;
>>
>> It does not seem to affect the injection. So, what am I doing wrong?
>>
>> Kind regards, Casper
>>
>>
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From christoph.dohmen at cae.de  Tue Sep  8 10:50:35 2009
From: christoph.dohmen at cae.de (Christoph Dohmen)
Date: Tue Sep  8 10:52:57 2009
Subject: [gdal-dev] Shape files 3D -> 2D
Message-ID: <3A5D37E61A34E44D8E0621E0B1009D4F04F7B111@sdestex1.de.caecorp.cae.com>

Skipped content of type multipart/alternative-------------- next part --------------
This email was Anti Virus checked
From even.rouault at mines-paris.org  Tue Sep  8 13:53:36 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  8 13:53:38 2009
Subject: SV: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
In-Reply-To: <AAD98904A979004F8FD29D8368C646380DCDA5@SERVER-MAIL.le34.dk>
References: <AAD98904A979004F8FD29D8368C646380DCD09@SERVER-MAIL.le34.dk><1252074489.4aa123f99d162@imp.free.fr>
	<AAD98904A979004F8FD29D8368C646380DCD2F@SERVER-MAIL.le34.dk>
	<AAD98904A979004F8FD29D8368C646380DCDA5@SERVER-MAIL.le34.dk>
Message-ID: <1252432416.4aa69a202bef9@imp.free.fr>

Selon Casper B?rgesen <cbo@le34.dk>:

> A small follow-up. As I stated previously, the '--config PGCLIENTENCODING
> format' didn't help me. But calling 'SET PGCLIENTENCODING=LATIN1' before the
> call to ogr2ogr, did do the trick. Thus my shape file character encoding
> probably is LATIN1.
>
> Do you have any idea of how to get the '--config' method to work?

Indee, it can't work. I must apologize for that inacurate hint. PGCLIENTENCODING
is really an environment variable recognized by the PostgreSQL client library. I
thought that it was a OGR configuration option, which isn't. So that's explain
why --config doesn't work for that.

(GDAL/OGR has a few configuration options that can be either set by setting an
OS environmenent variable or with the --config command line parameter.)

>
> Regards, Casper
>
> -----Oprindelig meddelelse-----
> Fra: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] P? vegne af Casper B?rgesen
> Sendt: 7. september 2009 08:57
> Til: gdal-dev@lists.osgeo.org
> Emne: SV: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
>
> Okay and thank you for your answers!
>
> Since using the '--config PGCLIENTENCODING format' option didn't make a
> difference, my next guess is that the encoding of the shapefile might be the
> problem. I have used SQL_ASCII, LATIN1, LATIN9, WIN1250, WIN1252 as formats
> and I still get the error. The formats has been selected according to my
> location (Denmark).
>
> Do you have any suggestions to how I should proceed?
>
> -----Oprindelig meddelelse-----
> Fra: Even Rouault [mailto:even.rouault@mines-paris.org]
> Sendt: 4. september 2009 16:28
> Til: Casper B?rgesen
> Cc: gdal-dev@lists.osgeo.org
> Emne: Re: [gdal-dev] PostgreSQL, PostGIS and ogr2ogr
>
> Selon Casper B?rgesen <cbo@le34.dk>:
>
> I'm not sure about options='-c client_encoding=latin1', but setting
> PGCLIENTENCODING=LATIN1 instead as an environmnent variable/configuration
> option should definitely work (provided that the source shape is effectively
> LATIN1
> encoded)
>
> ogr2ogr --config PGCLIENTENCODING LATIN1 -f PostgreSQL PG:"host=localhost
> user=username dbname=dbname password=password" sourcefile
>
>
> > Hi folks!
> >
> > I hope you can help me. I have searched google for answers, but
> > haven't found any. So I thought going closer to the 'source' might help me.
> >
> > In my organisation, we work with various GIS data in different file
> formats.
> > I have a project, where I need to put all these data into a PostGIS
> database.
> > So far I'm using the command line tool ogr2ogr to inject the data. But
> > I have problems with character encoding:
> >
> > ERROR 1: INSERT command for new feature failed.
> > ERROR: invalid byte sequence for encoding "UTF8": 0xf8
> > HINT: This error can also happen if the byte sequence does not match
> > the encoding expected by the server, which is controlled by
> "client_encoding".
> >
> > My PostGIS database uses UTF-8 and the data I'm working with (shape)
> > is probably Latin1 encoded.
> >
> > I found a discussion where a user suggests that the solution might be
> > to do the following:
> >
> > ogr2ogr -f PostgreSQL PG:"host=localhost user=username dbname=dbname
> > password=password options='-c client_encoding=latin1'" sourcefile;
> >
> > It does not seem to affect the injection. So, what am I doing wrong?
> >
> > Kind regards, Casper
> >
> >
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Tue Sep  8 13:56:28 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  8 13:56:34 2009
Subject: [gdal-dev] GDAL: How to create one NITF image from CIB CD
In-Reply-To: <C2C1F3EFB8765046A366F2C29A81EF9E045DEB36@AZ25EXM04.gddsi.com>
References: <C2C1F3EFB8765046A366F2C29A81EF9E045DE84B@AZ25EXM04.gddsi.com>
	<1252007427.4aa01e0397910@imp.free.fr>
	<C2C1F3EFB8765046A366F2C29A81EF9E045DE972@AZ25EXM04.gddsi.com>
	<1252057627.4aa0e21b62e1f@imp.free.fr>
	<C2C1F3EFB8765046A366F2C29A81EF9E045DEB36@AZ25EXM04.gddsi.com>
Message-ID: <1252432588.4aa69accea303@imp.free.fr>

I take the liberty to forward your email to the list, as a follow-up to mention
that the below patch has been pushed into trunk and 1.6 branch (for 1.6.3)

Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:

> Thank you so much for this info.  I made the change and recompiled.  It
> worked!  Thank you very very much!
>
> Carol
>
>
> This email message is for the sole use of the intended recipient(s) and
> may contain GDC4S confidential or privileged information. Any
> unauthorized review, use, disclosure or distribution is prohibited. If
> you are not an intended recipient, please contact the sender by reply
> email and destroy all copies of the original message.
>
>
> -----Original Message-----
> From: Even Rouault [mailto:even.rouault@mines-paris.org]
> Sent: Friday, September 04, 2009 2:47 AM
> To: Rydzak, Carol-P28503
> Cc: gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] GDAL: How to create one NITF image from CIB CD
>
> Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:
>
> > Hi.
> > Thank you for getting back to me on this!
> > Yes, I am using the 1.6.0 version of GDAL.
> >
> > I did what you suggested and it gives me a bus error when I run the
> > gdalinfo command on the a.toc file.  Do you recall what the problems
> > were with the CIB data that you heard about?  I have a 1 meter, 5
> > meter and 10 meter data sets that I tried and I got a bus error on all
>
> > of them.  Any other ideas?
>
> Carol,
>
> There's a high chance that the SIGBUS error you get is a GDAL bug
> specific to your CPU. I guess it's a SPARC processor ? If so, there are
> very sensitive to "alignment" problems when dereferencing pointers which
> typically yield to sigbus errors.
>
> I've looked at frmts/nitf/rpftocfile.cpp a bit and I could see one place
> (line
> 138 :  locationSectionPhysicalLocation = *(unsigned int*)tocHeader;)
> that should probably be fixed by replacing it with :
> memcpy(&locationSectionPhysicalLocation, tocHeader, sizeof(int));
>
> If you've built GDAL yourself, you could try making the above change and
> retry.
> If that still doesn't work, you could rebuild GDAL with debug symbols
> (./configure --enable-debug; make clean; make) and run gdalinfo under
> gdb to see where the sigbus arrises.
>
> If that still doesn't work and you want to go forward, you could try
> with a
> x86/x86_64 machine where you won't get the sigbus. But I'm interested in
> getting rid of those sigbus errors, so you're feedback is welcomed.
>
> The error reported previously with CIB had nothing to do with that. It
> was a probably too restrictive consistency check that arrised after
> dataset opening.
> See the following thread :
> http://lists.osgeo.org/pipermail/gdal-dev/2009-August/021572.html
>
> Best regards,
>
> Even
>
> >
> > Thanks,
> >
> > Carol
> > -----Original Message-----
> > From: Even Rouault [mailto:even.rouault@mines-paris.org]
> > Sent: Thursday, September 03, 2009 12:50 PM
> > To: Rydzak, Carol-P28503
> > Cc: gdal-dev@lists.osgeo.org
> > Subject: Re: [gdal-dev] GDAL: How to create one NITF image from CIB CD
> >
> > Selon "Rydzak, Carol-P28503" <Carol.Rydzak@gdc4s.com>:
> >
> > I assume you are using a recent enough GDAL version (>= 1.5.0) that
> > has the RPFTOC driver. If so, gdalinfo on the a.toc should return a
> > list of subdatasets (at least one). You can then select one and
> > translate it to a GeoTIFF. It will mosaic all the underlying NITF
> > tiles. See http://gdal.org/frmt_various.html#RPFTOC for more info.
> >
> > Someone recently reported problems with CIB but I've not heard any
> > news since then. The driver was tested against CADRG datasets but
> > should theoritically work with CIB too.
> >
> > > I am trying to use GDAL utilities (on a Solaris 10 system) against
> > > CIB
> >
> > > files (from a CD) to convert them to a single NITF image.
> > >
> > > When I run gdal_translate, it doesn't seem to accept the a.toc, but
> > > it
> >
> > > does create a one-to-one nitf image for each CIB file the command is
>
> > > run against.
> > >
> > > Is there a GDAL command that takes the table of contents file and
> > > processes all the CIB frames into one NITF image?  Or takes all the
> > > .ntf files that get created and stitches them together into one .ntf
> > image?
> > >
> > >
> > > Thank you,
> > >
> > > Carol Rydzak
> > > General Dynamics C4 Systems
> > > Phone: (480) 441-7405
> > > Email: Carol.Rydzak@gdc4s.com
> > > This email message is for the sole use of the intended recipient(s)
> > > and may contain GDC4S confidential or privileged information. Any
> > > unauthorized review, use, disclosure or distribution is prohibited.
> > > If
> >
> > > you are not an intended recipient, please contact the sender by
> > > reply email and destroy all copies of the original message.
> > >
> > >
> > >
> >
> >
> >
>
>
>


From mongoose_riki at mail.ru  Tue Sep  8 14:01:48 2009
From: mongoose_riki at mail.ru (Riki Tiki)
Date: Tue Sep  8 14:01:52 2009
Subject: [gdal-dev] getting voronoi and delaunay raw data
Message-ID: <E1Ml50m-00055B-00.mongoose_riki-mail-ru@f291.mail.ru>


Hi All,

I have LAS (Lidar data) files... Now I need only voronoi data and delaunay triangulation data in raw format... Can you tell me which tools would be best to use?

Thanks,
Riki
From even.rouault at mines-paris.org  Tue Sep  8 14:08:31 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  8 14:08:34 2009
Subject: [gdal-dev] getting voronoi and delaunay raw data
In-Reply-To: <E1Ml50m-00055B-00.mongoose_riki-mail-ru@f291.mail.ru>
References: <E1Ml50m-00055B-00.mongoose_riki-mail-ru@f291.mail.ru>
Message-ID: <1252433311.4aa69d9f1e954@imp.free.fr>

Selon Riki Tiki <mongoose_riki@mail.ru>:

http://lists.osgeo.org/mailman/listinfo/liblas-devel might be a better place to
ask about LAS files

>
> Hi All,
>
> I have LAS (Lidar data) files... Now I need only voronoi data and delaunay
> triangulation data in raw format... Can you tell me which tools would be best
> to use?
>
> Thanks,
> Riki
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Tue Sep  8 14:25:15 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  8 14:25:18 2009
Subject: [gdal-dev] Shape files 3D -> 2D
In-Reply-To: <3A5D37E61A34E44D8E0621E0B1009D4F04F7B111@sdestex1.de.caecorp.cae.com>
References: <3A5D37E61A34E44D8E0621E0B1009D4F04F7B111@sdestex1.de.caecorp.cae.com>
Message-ID: <1252434315.4aa6a18b546c8@imp.free.fr>

Selon Christoph Dohmen <christoph.dohmen@cae.de>:

You're not very explicit about what you want to do. From the tile, I guess you
want to get rid of the Z coordinate of the geometry to produce 2D only
geometries ?

If so, you need to specify '-nlt LINESTRING' (remove the 25D otherwise you'll
still get the Z coordinate) or '-lco SHPT=ARC' (this is a layer creation option,
thus lco instead of dsco, and the value is then ARC as specified in
http://gdal.org/ogr/drv_shapefile.html) .

> Hi list,
>
> I have a set of shape files which are reported as 'Geometry: 3D Line String'.
> The geometries
> are all LINESTRING, but they have 3D coordinates. Playing around with ogr2ogr
> and different
> options like '-nlt LINESTRING25D' or '-dsco "SHPT=LINESTRING25D"' did not
> bring the expected
> results. Everytime a call to 'poGeometry->getGeometryType()' delivers a
> wkbGeometryCollection.
>
> Can anyone give me a hint how to deal with those data?
>
> Christoph
>


From gregcoats at mac.com  Tue Sep  8 15:37:50 2009
From: gregcoats at mac.com (Greg Coats)
Date: Tue Sep  8 15:37:55 2009
Subject: [gdal-dev] How to add georeferencing tags to a .tif?
Message-ID: <67CC21D6-E7F5-4BD7-85CB-F40AC8CFF500@mac.com>

I have one .tif that has tag 700 XMP metadata, and has a tag 33723  
IPTC metadata, but does not have tags 33550, 33922, 34264, 34735,  
34736, 34737 georeferencing metadata. I have a second .tif that has  
does not have tag 700 XMP metadata, nor does it have tag 33723 IPTC  
metadata, but it does have 33550, 33922, 34264, 34735, 34736, 34737  
georeferencing metadata. I want to add the tags that provide  
georeferencing metadata in the second .tif, to the first .tif. As  
shown below, I first tried using geotifcp, and then tried  
gdal_translate, but while the resulting .tif does have the  
georeferencing tags it originally lacked, the resulting .tif is  
without the tag 700 XMP metadata, and without the tag 33723 IPTC  
metadata that it originally had. How can georeferencing tags be added  
to a .tif, withOUT removing preexisting tag 700 XMP metadata, and  
withOUT removing preexisting tag IPTC 33723 metadata?
listgeo 18stj940125.tif > 18stj940125_listgeo.txt
geotifcp -s -r 1 -c none -f msb2lsb -g 18stj940125_listgeo.txt  
tif_withXMP700_withIPTC33723_withoutGeo.tif  
tif_withXMP700_withIPTC33723_withGeo.tif
Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090908/455490dd/attachment.html
From even.rouault at mines-paris.org  Tue Sep  8 17:32:58 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep  8 17:33:01 2009
Subject: [gdal-dev] How to add georeferencing tags to a .tif?
In-Reply-To: <67CC21D6-E7F5-4BD7-85CB-F40AC8CFF500@mac.com>
References: <67CC21D6-E7F5-4BD7-85CB-F40AC8CFF500@mac.com>
Message-ID: <1252445578.4aa6cd8a718d5@imp.free.fr>

Selon Greg Coats <gregcoats@mac.com>:

> I have one .tif that has tag 700 XMP metadata, and has a tag 33723
> IPTC metadata, but does not have tags 33550, 33922, 34264, 34735,
> 34736, 34737 georeferencing metadata. I have a second .tif that has
> does not have tag 700 XMP metadata, nor does it have tag 33723 IPTC
> metadata, but it does have 33550, 33922, 34264, 34735, 34736, 34737
> georeferencing metadata. I want to add the tags that provide
> georeferencing metadata in the second .tif, to the first .tif. As
> shown below, I first tried using geotifcp, and then tried
> gdal_translate, but while the resulting .tif does have the
> georeferencing tags it originally lacked, the resulting .tif is
> without the tag 700 XMP metadata, and without the tag 33723 IPTC
> metadata that it originally had. How can georeferencing tags be added
> to a .tif, withOUT removing preexisting tag 700 XMP metadata, and
> withOUT removing preexisting tag IPTC 33723 metadata?
> listgeo 18stj940125.tif > 18stj940125_listgeo.txt
> geotifcp -s -r 1 -c none -f msb2lsb -g 18stj940125_listgeo.txt
> tif_withXMP700_withIPTC33723_withoutGeo.tif
> tif_withXMP700_withIPTC33723_withGeo.tif

Those 700 XMP and 33723 IPTC tags are not handled by the GTiff driver neither in
read nor in write mode, so that explains why gdal_translate doesn't copy them.
You could probably try the 'tiffset' utility to set them afterwards. Or hack
geotifcp.c to add support for those 2 tags. The tags[] array looks like an
interesting place where to hack that in.

> Greg
>


From Chris.Barker at noaa.gov  Tue Sep  8 20:15:39 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Tue Sep  8 21:13:58 2009
Subject: [gdal-dev] Minor addition to Python bindings..
Message-ID: <4AA6F3AB.3080402@noaa.gov>

Hi all,

I had a heck of a time figuring out what version of gdal I was using 
today. I eventually found:

gdal.gdal.VersionInfo("RELEASE_NAME")


It's a pretty well supported convention now for Python modules to have a 
__version__ attribute that returns something meaningful. It would be 
nice if gdal.py had a line:

__version__ = VersionInfo("RELEASE_NAME")

or

__version__ = _gdal.VersionInfo("RELEASE_NAME")


While we're at it, it might be nice for osgeo\__init__.py to have a 
__version__ defined as well.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From christoph.dohmen at cae.de  Wed Sep  9 02:16:36 2009
From: christoph.dohmen at cae.de (Christoph Dohmen)
Date: Wed Sep  9 02:16:45 2009
Subject: AW: [gdal-dev] Shape files 3D -> 2D
References: <3A5D37E61A34E44D8E0621E0B1009D4F04F7B111@sdestex1.de.caecorp.cae.com>
	<1252434315.4aa6a18b546c8@imp.free.fr>
Message-ID: <3A5D37E61A34E44D8E0621E0B1009D4F04F7B113@sdestex1.de.caecorp.cae.com>

> You're not very explicit about what you want to do. From the tile, I guess 
> you want to get rid of the Z coordinate of the geometry to produce 2D only
> geometries ?

Okay, sorry, I will describe it with more detail.

I have a shape file where ogrinfo reports it is a "Geometry: 3D Line String".
Each object is reported as "LINESTRING" with x-, y- and z-value.
If I use "-nlt LINESTRING" I get a file where ogrinfo reports that the file
is a "Geometry: Line String" and the elements are "LINESTRING" with
only a x- and y-value.
If I try the "-lco SHPT=ARC" option, it's the same.
But, if I iterate over those files in my application and query the
geometry to get the geometry-type via "getGeometryType()" it reports
a "wkbGeometryCollection".

Any hints?

Christoph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/48bb1aa3/attachment.html
From pablo.angelo at dlr.de  Wed Sep  9 02:47:36 2009
From: pablo.angelo at dlr.de (Pablo d Angelo)
Date: Wed Sep  9 02:47:39 2009
Subject: [gdal-dev] Custom gdal driver cannot be loaded by python
Message-ID: <1252478856.10786.77.camel@vogon.af.op.dlr.de>

Hi all,

I have written a driver for our in house image format, and it works
nicely with the compiled gdal utilities, but not not with the python
scripts. There it complains about missing symbols:

[angelo@vogon ~]$ python
Python 2.4.3 (#1, Jul 27 2009, 17:56:30) 
[GCC 4.1.2 20080704 (Red Hat 4.1.2-44)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> from osgeo import gdal
ERROR 1: /home/xdibias/xdibias2/lib/gdal_xdibias.so: undefined symbol:
_ZNK15GDALMajorObject14GetDescriptionEv
ERROR 1: /home/xdibias/xdibias2/lib/gdal_xdibias.so: undefined symbol:
_ZNK15GDALMajorObject14GetDescriptionEv
ERROR 1: /home/xdibias/xdibias2/lib/gdal_xdibias.so: undefined symbol:
_ZNK15GDALMajorObject14GetDescriptionEv
ERROR 1: /home/xdibias/xdibias2/lib/gdal_xdibias.so: undefined symbol:
_ZNK15GDALMajorObject14GetDescriptionEv
>>> 

Any idea what might be wrong? Are there special linker options required
for that case? I used the following:

/usr/bin/c++  -fPIC -O2 -g  -shared -Wl,-soname,gdal_xdibias.so -o
gdal_xdibias.so xdibiasdataset.cpp.o ogr_srs_gctp.cpp.o
xdib_rpc.c.o ../gctp/source/libgeo.a ../generic/src/libgeneric.a -lgdal

I'm using CentOS 5.3 and GDAL 1.6.2
[angelo@vogon ~]$ gdalinfo --version
GDAL 1.6.2, released 2009/07/31

Unfortunately, I can't currently add it to the main GDAL lib, as it it
depends on some in house libs, which I need to remove before I can
submit a patch to GDAL.

Any hints?
 Pablo


-- 
-- Pablo.Angelo@dlr.de -------------------------------------------
Dr. Pablo d'Angelo - DLR - Institut f?r Methodik der Fernerkundung __/|__
Oberpfaffenhofen, Postfach 11 16, 82230 We?ling                   /_/_/_/
Telefon 08153 28 - 3593   Fax - 1444   http://www.caf.dlr.de        |/   


From chaitanya.ch at gmail.com  Wed Sep  9 05:49:25 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Sep  9 05:57:33 2009
Subject: [gdal-dev] Shape files 3D -> 2D
In-Reply-To: <3A5D37E61A34E44D8E0621E0B1009D4F04F7B113@sdestex1.de.caecorp.cae.com>
References: <3A5D37E61A34E44D8E0621E0B1009D4F04F7B111@sdestex1.de.caecorp.cae.com>
	<1252434315.4aa6a18b546c8@imp.free.fr>
	<3A5D37E61A34E44D8E0621E0B1009D4F04F7B113@sdestex1.de.caecorp.cae.com>
Message-ID: <eb502d880909090249g20d7d2d2p233444861b21b25c@mail.gmail.com>

Christoph,

It looks like all three methods are working as they should.

In the first one, the ogr2ogr converts it to two dimensions,.
In the second one, the shapefile driver does that.
In the third method you are getting the geometry type, which is in wkb
format. I would guess them to contain the 3D lines you processed in the
previous two methods.

On Wed, Sep 9, 2009 at 11:46 AM, Christoph Dohmen
<christoph.dohmen@cae.de>wrote:

>  > You're not very explicit about what you want to do. From the tile, I
> guess
> > you want to get rid of the Z coordinate of the geometry to produce 2D
> only
> > geometries ?
>
> Okay, sorry, I will describe it with more detail.
>
> I have a shape file where ogrinfo reports it is a "Geometry: 3D Line
> String".
> Each object is reported as "LINESTRING" with x-, y- and z-value.
> If I use "-nlt LINESTRING" I get a file where ogrinfo reports that the file
> is a "Geometry: Line String" and the elements are "LINESTRING" with
> only a x- and y-value.
> If I try the "-lco SHPT=ARC" option, it's the same.
> But, if I iterate over those files in my application and query the
> geometry to get the geometry-type via "getGeometryType()" it reports
> a "wkbGeometryCollection".
>
> Any hints?
>
> Christoph
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/db3f4706/attachment.html
From davidgshi at yahoo.co.uk  Wed Sep  9 06:54:02 2009
From: davidgshi at yahoo.co.uk (David Shi)
Date: Wed Sep  9 06:56:03 2009
Subject: [gdal-dev] Shortening execution time of Python script
Message-ID: <711769.10157.qm@web26306.mail.ukl.yahoo.com>

I have a Python script that automatically downloads zip files containing large datasets from another server and then unzips the files to further process the data.
?
It has been used as a geoprocessor of ArcGIS Server.
?
The script works fine when two datasets each has several kilobytes size, but the script stops half way when datasets were about 11,000KBytes.
?
I think that the execution time is too long and ArcGIS Server just simply killed the process.
?
What actions can I try to reduce the execution time?
?
ArcGIS Server only works on the basis of 32 bits and I was told that the maximum memory it can utilise is 4 MBytes.
?
I should be grateful if someone can make suggestions/recommendations.
?
Sincerely,
?
David


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/09e9f81f/attachment.html
From hobu.inc at gmail.com  Wed Sep  9 09:12:20 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Sep  9 09:21:28 2009
Subject: [gdal-dev] Minor addition to Python bindings..
In-Reply-To: <4AA6F3AB.3080402@noaa.gov>
References: <4AA6F3AB.3080402@noaa.gov>
Message-ID: <593B9C86-8B46-4F42-94A6-75C6E667A760@gmail.com>


On Sep 8, 2009, at 7:15 PM, Christopher Barker wrote:

> Hi all,
>
> I had a heck of a time figuring out what version of gdal I was using  
> today. I eventually found:
>
> gdal.gdal.VersionInfo("RELEASE_NAME")
>
>
> It's a pretty well supported convention now for Python modules to  
> have a __version__ attribute that returns something meaningful. It  
> would be nice if gdal.py had a line:
>
> __version__ = VersionInfo("RELEASE_NAME")
>
> or
>
> __version__ = _gdal.VersionInfo("RELEASE_NAME")
>
>
> While we're at it, it might be nice for osgeo\__init__.py to have a  
> __version__ defined as well.
>
> -Chris
>

Chris,

Please provide a patch on a ticket in Trac for this with the  
PythonBindings component, and I will try to get to it for the 1.7  
release.

Thanks,

Howard
From spbhasker at gmail.com  Wed Sep  9 09:46:24 2009
From: spbhasker at gmail.com (spbhasker bachi)
Date: Wed Sep  9 09:54:03 2009
Subject: [gdal-dev] Latest ShapeLib
Message-ID: <2b5309940909090646s7ecf0836q303ab1e4da33527@mail.gmail.com>

Anyone having the Latest ShapeLib ???

The Latest one v 1.2.10 is located @  http://dl.maptools.org/dl/shapelib/

But in the GDAL trunks i have seen Frank do a Lot of Version for the
ShapeFil.H & subsequents Codes.. of DBF

ANyone having the Latest ShapeLib with the Latest Makefile pl send it
across..
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/08ed6c46/attachment.html
From chaitanya.ch at gmail.com  Wed Sep  9 10:16:29 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Sep  9 10:16:32 2009
Subject: [gdal-dev] Latest ShapeLib
In-Reply-To: <2b5309940909090646s7ecf0836q303ab1e4da33527@mail.gmail.com>
References: <2b5309940909090646s7ecf0836q303ab1e4da33527@mail.gmail.com>
Message-ID: <eb502d880909090716q3bb052e0w1208ab3d906a914d@mail.gmail.com>

Bhaskar,

Any work done on the shapelib in GDAL's shapefile driver that is not entered
into the main stream shapelib 'may' cause problems with other applications.
If you intend to have the latest code, you can look at OGR's shapefile
driver code.

You can find OGR's shapefile driver's makefiles for gcc and VC++ at
http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/shape

On Wed, Sep 9, 2009 at 7:16 PM, spbhasker bachi <spbhasker@gmail.com> wrote:

> Anyone having the Latest ShapeLib ???
>
> The Latest one v 1.2.10 is located @  http://dl.maptools.org/dl/shapelib/
>
> But in the GDAL trunks i have seen Frank do a Lot of Version for the
> ShapeFil.H & subsequents Codes.. of DBF
>
> ANyone having the Latest ShapeLib with the Latest Makefile pl send it
> across..
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



Best regards,
-- 
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/47748f66/attachment-0001.html
From spbhasker at gmail.com  Wed Sep  9 10:31:45 2009
From: spbhasker at gmail.com (spbhasker bachi)
Date: Wed Sep  9 10:32:09 2009
Subject: [gdal-dev] Latest ShapeLib
In-Reply-To: <eb502d880909090716q3bb052e0w1208ab3d906a914d@mail.gmail.com>
References: <2b5309940909090646s7ecf0836q303ab1e4da33527@mail.gmail.com> 
	<eb502d880909090716q3bb052e0w1208ab3d906a914d@mail.gmail.com>
Message-ID: <2b5309940909090731j1c836d8fq69bd8189abb3e48d@mail.gmail.com>

Thank you Chaitanya.

I had some vintage code.. wanted to use the Latest Shapelib to upgrade
that..

Cheers
Bhasker

On Wed, Sep 9, 2009 at 7:46 PM, Chaitanya kumar CH
<chaitanya.ch@gmail.com>wrote:

> Bhaskar,
>
> Any work done on the shapelib in GDAL's shapefile driver that is not
> entered into the main stream shapelib 'may' cause problems with other
> applications. If you intend to have the latest code, you can look at OGR's
> shapefile driver code.
>
> You can find OGR's shapefile driver's makefiles for gcc and VC++ at
> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/shape
>
> On Wed, Sep 9, 2009 at 7:16 PM, spbhasker bachi <spbhasker@gmail.com>wrote:
>
>> Anyone having the Latest ShapeLib ???
>>
>> The Latest one v 1.2.10 is located @  http://dl.maptools.org/dl/shapelib/
>>
>> But in the GDAL trunks i have seen Frank do a Lot of Version for the
>> ShapeFil.H & subsequents Codes.. of DBF
>>
>> ANyone having the Latest ShapeLib with the Latest Makefile pl send it
>> across..
>>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> Best regards,
> --
> Chaitanya kumar CH.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/bf531f94/attachment.html
From jerome at georezo.net  Wed Sep  9 10:47:45 2009
From: jerome at georezo.net (=?iso-8859-1?b?Suly9G1l?= - GeoRezo.net)
Date: Wed Sep  9 10:56:25 2009
Subject: [gdal-dev] Latest ShapeLib
In-Reply-To: <2b5309940909090731j1c836d8fq69bd8189abb3e48d@mail.gmail.com>
References: <2b5309940909090646s7ecf0836q303ab1e4da33527@mail.gmail.com>
	<eb502d880909090716q3bb052e0w1208ab3d906a914d@mail.gmail.com>
	<2b5309940909090731j1c836d8fq69bd8189abb3e48d@mail.gmail.com>
Message-ID: <1252507665.4aa7c011ba93f@imp.free.fr>

The http://download.osgeo.org/shapelib/ is up to date contrary to
http://shapelib.maptools.org/dl

Also you have a CVS link on http://shapelib.maptools.org/

Thanks

J?r?me

Selon spbhasker bachi <spbhasker@gmail.com>:

> Thank you Chaitanya.
>
> I had some vintage code.. wanted to use the Latest Shapelib to upgrade
> that..
>
> Cheers
> Bhasker
>
> On Wed, Sep 9, 2009 at 7:46 PM, Chaitanya kumar CH
> <chaitanya.ch@gmail.com>wrote:
>
> > Bhaskar,
> >
> > Any work done on the shapelib in GDAL's shapefile driver that is not
> > entered into the main stream shapelib 'may' cause problems with other
> > applications. If you intend to have the latest code, you can look at OGR's
> > shapefile driver code.
> >
> > You can find OGR's shapefile driver's makefiles for gcc and VC++ at
> > http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/shape
> >
> > On Wed, Sep 9, 2009 at 7:16 PM, spbhasker bachi <spbhasker@gmail.com>wrote:
> >
> >> Anyone having the Latest ShapeLib ???
> >>
> >> The Latest one v 1.2.10 is located @  http://dl.maptools.org/dl/shapelib/
> >>
> >> But in the GDAL trunks i have seen Frank do a Lot of Version for the
> >> ShapeFil.H & subsequents Codes.. of DBF
> >>
> >> ANyone having the Latest ShapeLib with the Latest Makefile pl send it
> >> across..
> >>
> >>
> >>
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >
> >
> >
> > Best regards,
> > --
> > Chaitanya kumar CH.
> >
>
From jason.roberts at duke.edu  Wed Sep  9 17:29:06 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed Sep  9 17:29:11 2009
Subject: [gdal-dev] OGRSpatialReference::MorphFromESRI handling WKT with
	single quotes returned by ArcGIS geoprocessor API
Message-ID: <014e01ca3194$907de110$b179a330$@roberts@duke.edu>

I am trying to understand how to use OGR to process spatial reference WKT
obtained from ArcGIS. I have noticed that ArcGIS WKT strings returned by
ESRI's geoprocessing API includes single quotes around names of things:

 

>>> import arcgisscripting

>>> gp = arcgisscripting.create()

>>> d = gp.Describe(r'C:\Eddies\DT_MSLA\Rasters\ssh2008002')

>>> esriWKT = gp.CreateSpatialReference(d.SpatialReference).split(';')[0]

>>> esriWKT

"PROJCS['User_Defined_Mercator',GEOGCS['GCS_User_Defined',DATUM['D_User_Defi
ned',SPHEROID['User_Defined_Spheroid',6371000.0,0.0]],PRIMEM['Greenwich',0.0
],UNIT['Degree',0.0174532925199433]],PROJECTION['Mercator'],PARAMETER['False
_Easting',0.0],PARAMETER['False_Northing',0.0],PARAMETER['Central_Meridian',
0.0],PARAMETER['Standard_Parallel_1',0.0],UNIT['Meter',1.0]]"

 

As I understand it, WKT is formally specified by OGC in the document
"OpenGIS Implementation Specification for Geographic information - Simple
feature access - Part 1: Common architecture". The latest version, 1.2.0, is
available at http://www.opengeospatial.org/standards/sfa. On pages 75-76,
the various names are declared to be <quoted name>, which pages 53-55 say
are <name>s enclosed in double quotes. This means that ESRI's API is not
returning compliant WKT.

 

The OGRSpatialReference class includes a MorphFromESRI method. I hoped it
might handle the single quotes, but it does not:

 

>>> o = osr.SpatialReference(esriWKT)

>>> o.MorphFromESRI()

0

>>> print(o.ExportToPrettyWkt())

PROJCS["'User_Defined_Mercator'",

    GEOGCS["'GCS_User_Defined'",

        DATUM["'D_User_Defined'",

            SPHEROID["'User_Defined_Spheroid'",6371000.0,0.0]],

        PRIMEM["'Greenwich'",0.0],

        UNIT["'Degree'",0.0174532925199433]],

    PROJECTION["'Mercator'"],

    PARAMETER["'False_Easting'",0.0],

    PARAMETER["'False_Northing'",0.0],

    PARAMETER["'Central_Meridian'",0.0],

    PARAMETER["'Standard_Parallel_1'",0.0],

    UNIT["'Meter'",1.0]]

>>> o.GetLinearUnitsName()

"'Meter'"

 

It is simple enough for my application to convert the single quotes to
double quotes before calling OGR. But would it be appropriate for a future
release of the MorphFromESRI method to handle this automatically? This would
improve compatibility between OGR and data produced by ArcGIS.

 

Thanks,

Jason

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/61a5ee37/attachment.html
From mauricio.dev at gmail.com  Wed Sep  9 18:51:50 2009
From: mauricio.dev at gmail.com (=?ISO-8859-1?Q?Maur=EDcio_de_Paulo?=)
Date: Wed Sep  9 18:51:54 2009
Subject: [gdal-dev] Python Batch Processing
Message-ID: <f0f9bf090909091551v28a1664aoa57f67925f16abd8@mail.gmail.com>

Hi list,
As I am a serious user of GDAL Utilities and FWTools, I've found myself
manytimes trying to repeat a ogr2gr or a gdalwarp for whole directories and
writing much bash and bat code for the task. As a solution the the guys who
work with me I've written the PyBatchProc script that is a QT gui to run
command-line tools for series of files in folders or subfolders.

I'm planning on creating a QGIS plugin script to let the tool run from
inside QGIS too.

https://sourceforge.net/projects/pybatchproc/files/pybatchproc_0_1.zip/download

Any bugs found or sugestions are welcome.
I hope you enjoy.

Maur?cio de Paulo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090909/7864be17/attachment.html
From opelfahrer79 at yahoo.de  Thu Sep 10 01:19:18 2009
From: opelfahrer79 at yahoo.de (Opel Fahrer)
Date: Thu Sep 10 01:26:03 2009
Subject: [gdal-dev] 3D Shapefiles
Message-ID: <317615.35869.qm@web24710.mail.ird.yahoo.com>

Hi,

I stumbled across an unexpected problem when I tried to write my own shapefile following the tutorial found here:

http://www.gdal.org/ogr/ogr_apitut.html

I want to store 3D coordinates, which should be possible I guess. However, it seems that doing something like

//========
OGRLayer *poLayer = poDS->CreateLayer( "points", NULL, wkbPoint, NULL );
OGRFeature *poFeature = OGRFeature::CreateFeature( poLayer->GetLayerDefn() );

OGRPoint pt(1, 2, 3);
poFeature->SetGeometry( &pt );
poLayer->CreateFeature( poFeature );
//========

does NOT create a 3D feature, but flattens to 2D. Whatever I tried, I could not figure out how to get around this. 

Any help is appreciated. I built my gdal libraries from the latest stable sources 1.6.2.

Regards


      
From craig.miller at spatialminds.com  Thu Sep 10 02:11:33 2009
From: craig.miller at spatialminds.com (Craig Miller)
Date: Thu Sep 10 02:13:08 2009
Subject: [gdal-dev] 3D Shapefiles
In-Reply-To: <317615.35869.qm@web24710.mail.ird.yahoo.com>
References: <317615.35869.qm@web24710.mail.ird.yahoo.com>
Message-ID: <BAY120-DS10E093CE83DB5C40EA1508F9E80@phx.gbl>

I think you want wkbPoint25D instead of wkbPoint in the CreateLayer call.



> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-
> bounces@lists.osgeo.org] On Behalf Of Opel Fahrer
> Sent: Wednesday, September 09, 2009 10:19 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] 3D Shapefiles
> 
> Hi,
> 
> I stumbled across an unexpected problem when I tried to write my own shapefile
> following the tutorial found here:
> 
> http://www.gdal.org/ogr/ogr_apitut.html
> 
> I want to store 3D coordinates, which should be possible I guess. However, it
> seems that doing something like
> 
> //========
> OGRLayer *poLayer = poDS->CreateLayer( "points", NULL, wkbPoint, NULL );
> OGRFeature *poFeature = OGRFeature::CreateFeature( poLayer->GetLayerDefn() );
> 
> OGRPoint pt(1, 2, 3);
> poFeature->SetGeometry( &pt );
> poLayer->CreateFeature( poFeature );
> //========
> 
> does NOT create a 3D feature, but flattens to 2D. Whatever I tried, I could
> not figure out how to get around this.
> 
> Any help is appreciated. I built my gdal libraries from the latest stable
> sources 1.6.2.
> 
> Regards
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From opelfahrer79 at yahoo.de  Thu Sep 10 03:26:24 2009
From: opelfahrer79 at yahoo.de (Opel Fahrer)
Date: Thu Sep 10 03:26:34 2009
Subject: AW: [gdal-dev] 3D Shapefiles
In-Reply-To: <BAY120-DS10E093CE83DB5C40EA1508F9E80@phx.gbl>
References: <317615.35869.qm@web24710.mail.ird.yahoo.com>
	<BAY120-DS10E093CE83DB5C40EA1508F9E80@phx.gbl>
Message-ID: <115016.20515.qm@web24709.mail.ird.yahoo.com>

that was it, thank you!

Regards



----- Urspr?ngliche Mail ----
Von: Craig Miller <craig.miller@spatialminds.com>
An: Opel Fahrer <opelfahrer79@yahoo.de>; gdal-dev@lists.osgeo.org
Gesendet: Donnerstag, den 10. September 2009, 08:11:33 Uhr
Betreff: RE: [gdal-dev] 3D Shapefiles

I think you want wkbPoint25D instead of wkbPoint in the CreateLayer call.



> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-
> bounces@lists.osgeo.org] On Behalf Of Opel Fahrer
> Sent: Wednesday, September 09, 2009 10:19 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] 3D Shapefiles
> 
> Hi,
> 
> I stumbled across an unexpected problem when I tried to write my own shapefile
> following the tutorial found here:
> 
> http://www.gdal.org/ogr/ogr_apitut.html
> 
> I want to store 3D coordinates, which should be possible I guess. However, it
> seems that doing something like
> 
> //========
> OGRLayer *poLayer = poDS->CreateLayer( "points", NULL, wkbPoint, NULL );
> OGRFeature *poFeature = OGRFeature::CreateFeature( poLayer->GetLayerDefn() );
> 
> OGRPoint pt(1, 2, 3);
> poFeature->SetGeometry( &pt );
> poLayer->CreateFeature( poFeature );
> //========
> 
> does NOT create a 3D feature, but flattens to 2D. Whatever I tried, I could
> not figure out how to get around this.
> 
> Any help is appreciated. I built my gdal libraries from the latest stable
> sources 1.6.2.
> 
> Regards
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


      
From sfkeller at gmail.com  Thu Sep 10 05:07:44 2009
From: sfkeller at gmail.com (Stefan Keller)
Date: Thu Sep 10 05:07:47 2009
Subject: [gdal-dev] How to convert line string to point or polygon to line
	string (e.g. shapefile to gpx conversion)
Message-ID: <25bc040b0909100207y33ca4127uc50c60e90e703128@mail.gmail.com>

Dear all,

Given for example a shapefile containing polygons (or polylines, even
multiple...) and GPX as the target format: How can one convert this to
line strings (or points)?

Discussion: I understand that there are two possibilities, either the
input reader is instructed (and capable) to convert polygons (or
polylines) to OGR type wkbLineString or the output converter takes OGR
type wkbPolygon and is instructed (and capable) to write line strings
(holds correspondingly to converting polyline to points).

Any solutions?

-S.

P.S. Background: I'm running an online converter (geoconverter.hsr.ch)
which simply uses OGR and I often get service requests like this from
OGR freshmans.
From dpbiswas at gmail.com  Thu Sep 10 07:42:08 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Thu Sep 10 07:47:35 2009
Subject: [gdal-dev] raster image convertion(tiff)
Message-ID: <23ef349a0909100442h6139e1a2hfac7bbbbfcda2866@mail.gmail.com>

Sir,       Please give the appropriate code using visual studio in .tiff
raster image conversion.

-- 
                      dipa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090910/19c5c7a0/attachment.html
From alobolistas at gmail.com  Thu Sep 10 10:17:49 2009
From: alobolistas at gmail.com (Agustin Lobo)
Date: Thu Sep 10 10:18:03 2009
Subject: [gdal-dev] Re: [Qgis-user] Python Batch Processing
In-Reply-To: <f0f9bf090909091551v28a1664aoa57f67925f16abd8@mail.gmail.com>
References: <f0f9bf090909091551v28a1664aoa57f67925f16abd8@mail.gmail.com>
Message-ID: <4AA90A8D.9000307@gmail.com>

Mauricio,
how should we use it?
I've unzipped under .qgis/python/plugins
but the get an error upon qgis start up:

Couldn't load plugin "pybatchproc" from ['/usr/share/qgis/python', 
'/home/alobo/.qgis//python/plugins/symbology_ng', 
'/home/alobo/.qgis//python/plugins', '/usr/share/qgis/python/plugins', 
'/usr/lib/python2.6', '/usr/lib/python2.6/plat-linux2', 
'/usr/lib/python2.6/lib-tk', '/usr/lib/python2.6/lib-old', 
'/usr/lib/python2.6/lib-dynload', '/usr/lib/python2.6/dist-packages', 
'/usr/lib/python2.6/dist-packages/Numeric', 
'/usr/lib/python2.6/dist-packages/PIL', 
'/usr/lib/python2.6/dist-packages/gst-0.10', 
'/var/lib/python-support/python2.6', 
'/usr/lib/python2.6/dist-packages/gtk-2.0', 
'/var/lib/python-support/python2.6/gtk-2.0', 
'/usr/local/lib/python2.6/dist-packages', 
'/usr/share/qgis/python/plugins/fTools/tools', '~/.qgis/python', 
'/usr/share/qgis/python/', '/usr/share/qgis/python/', 
'/usr/share/qgis/python']

Traceback (most recent call last):
  File "", line 2, in
ImportError: No module named pybatchproc

Python version:
2.6.2 (release26-maint, Apr 19 2009, 02:11:59)
[GCC 4.3.3]


Agus

Maur?cio de Paulo wrote:
> Hi list,
> As I am a serious user of GDAL Utilities and FWTools, I've found 
> myself manytimes trying to repeat a ogr2gr or a gdalwarp for whole 
> directories and writing much bash and bat code for the task. As a 
> solution the the guys who work with me I've written the PyBatchProc 
> script that is a QT gui to run command-line tools for series of files 
> in folders or subfolders.
>
> I'm planning on creating a QGIS plugin script to let the tool run from 
> inside QGIS too.
>
> https://sourceforge.net/projects/pybatchproc/files/pybatchproc_0_1.zip/download
>
> Any bugs found or sugestions are welcome.
> I hope you enjoy.
>
> Maur?cio de Paulo
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user
>   

-------------- next part --------------
A non-text attachment was scrubbed...
Name: alobolistas.vcf
Type: text/x-vcard
Size: 251 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090910/ef13969b/alobolistas.vcf
From chaitanya.ch at gmail.com  Thu Sep 10 11:43:28 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Sep 10 11:43:31 2009
Subject: [gdal-dev] raster image convertion(tiff)
In-Reply-To: <23ef349a0909100442h6139e1a2hfac7bbbbfcda2866@mail.gmail.com>
References: <23ef349a0909100442h6139e1a2hfac7bbbbfcda2866@mail.gmail.com>
Message-ID: <eb502d880909100843q1c60fcdbk436c6fd76466b173@mail.gmail.com>

Dipa,

Can you give some more info on what you want to do and the programming
language you intend to use?
If it is just conversion from tiff to another you may want to consider using
gdal_translate utility.

Please look at http://www.remotesensing.org/libtiff/ and
http://www.remotesensing.org/libtiff/build.html#PC for sourcecode and
building instructions respectively.

On Thu, Sep 10, 2009 at 11:42 AM, DIPA BISWAS <dpbiswas@gmail.com> wrote:

>
> Sir,       Please give the appropriate code using visual studio in .tiff
> raster image conversion.
>
> --
>                       dipa
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090910/96339fa4/attachment.html
From even.rouault at mines-paris.org  Thu Sep 10 15:22:50 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Sep 10 15:22:52 2009
Subject: [gdal-dev] How to convert line string to point or polygon to line
	string (e.g. shapefile to gpx conversion)
In-Reply-To: <25bc040b0909100207y33ca4127uc50c60e90e703128@mail.gmail.com>
References: <25bc040b0909100207y33ca4127uc50c60e90e703128@mail.gmail.com>
Message-ID: <1252610570.4aa9520a38905@imp.free.fr>

Selon Stefan Keller <sfkeller@gmail.com>:

Hi Stefan,

> Dear all,
>
> Given for example a shapefile containing polygons (or polylines, even
> multiple...) and GPX as the target format: How can one convert this to
> line strings (or points)?

There's no direct way of doing this.

>
> Discussion: I understand that there are two possibilities, either the
> input reader is instructed (and capable) to convert polygons (or
> polylines) to OGR type wkbLineString

Right

 or the output converter takes OGR
> type wkbPolygon and is instructed (and capable) to write line strings
> (holds correspondingly to converting polyline to points).

Right

>
> Any solutions?

One issue I see is that : does it make sense to write a polygon into a GPX file
that he's not a generic purpose vector format.

The GPX driver doc says :
"Supported geometries :

    * Features of type wkbPoint/wkbPoint25D are written in the wpt element.
    * Features of type wkbLineString/wkbLineString25D are written in the rte
element.
    * Features of type wkbMultiLineString/wkbMultiLineString25D are written in
the trk element.
    * Other type of geometries are not supported."

The issue I see is : how do you convert a polygon into a linestring. Do you only
take the external ring of the polygon, or do you create as many geometries as
external and internal rings ?

Anyway, using the OGR API, you can certainly read the source feature and
geometries and transform them in an appropriate way for the destination driver.
You could extend the OGRGeometryFactory class that has a few forceXXX() methods
to transform from a geometry type to another one. They are for example used by
ogr2ogr.cpp.

Best regards,
Even

>
> -S.
>
> P.S. Background: I'm running an online converter (geoconverter.hsr.ch)
> which simply uses OGR and I often get service requests like this from
> OGR freshmans.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From mateusz at loskot.net  Thu Sep 10 15:39:30 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Sep 10 15:39:38 2009
Subject: [gdal-dev] raster image convertion(tiff)
In-Reply-To: <23ef349a0909100442h6139e1a2hfac7bbbbfcda2866@mail.gmail.com>
References: <23ef349a0909100442h6139e1a2hfac7bbbbfcda2866@mail.gmail.com>
Message-ID: <4AA955F2.6030709@loskot.net>

DIPA BISWAS wrote:
> Sir,
> Please give the appropriate code using visual studio in
> .tiff raster image conversion.

Please, read the following resources first:

http://catb.org/~esr/faqs/smart-questions.html

http://gdal.org/gdal_tutorial.html

Certainly, you are aware of the fact that there is number of
programming languages available in Visual Studio, not to mention
that there is a variety of versions of Visual Studio.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From ze.sjrp at gmail.com  Thu Sep 10 15:34:41 2009
From: ze.sjrp at gmail.com (=?ISO-8859-1?Q?=22Jos=E9_Roberto_Pereira_Jr=2E=22?=)
Date: Thu Sep 10 15:42:37 2009
Subject: [gdal-dev] WKT to proj.4 - I'm complete lost!
Message-ID: <4AA954D1.4010207@gmail.com>

Hi list!

I'm a newbie in geoprocessing and I need to transform a WKT 
representation to a proj.4. I found a example using proj utility:

+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs

but I don't understand nothing about! Someone could tell me some resource or help me for translate the following WKT to proj.4?

GEOGCS[
	"GCS_South_American_1969",
	DATUM[
		"D_South_American_1969",
		SPHEROID[
			"GRS_1967_Truncated",
			6378160.0,
			298.25
		]],
		PRIMEM[
			"Greenwich",
			0.0
		],
		UNIT[
			"Degree",
			0.0174532925199433
		]
]

Thanks for tips!!
Jos?
From mateusz at loskot.net  Thu Sep 10 15:48:46 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Sep 10 15:48:52 2009
Subject: [gdal-dev] WKT to proj.4 - I'm complete lost!
In-Reply-To: <4AA954D1.4010207@gmail.com>
References: <4AA954D1.4010207@gmail.com>
Message-ID: <4AA9581E.20404@loskot.net>

Jos? Roberto Pereira Jr. wrote:
> Hi list!
> 
> I'm a newbie in geoprocessing and I need to transform a WKT
> representation to a proj.4. I found a example using proj utility:
> 
> +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0
> +k=1.0 +units=m +nadgrids=@null +wktext +no_defs
> 
> but I don't understand nothing about! Someone could tell me some
> resource or help me for translate the following WKT to proj.4?

You may try to use OGRSpatialReference

http://gdal.org/ogr/classOGRSpatialReference.html

Pseudo-code that should be easy to replace with C++, C or Python is:

OGRSpatialReference sr;
char const* proj4 = "...";
sr.importFromProj4(proj4);
char* wkt = 0;
sr.exportToWkt(&wkt); // allocates string and puts WKT into it

// access WKT string using wkt pointer

CPLFree(wkt);

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From neteler at osgeo.org  Thu Sep 10 15:49:54 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Sep 10 15:55:53 2009
Subject: [gdal-dev] WKT to proj.4 - I'm complete lost!
In-Reply-To: <4AA954D1.4010207@gmail.com>
References: <4AA954D1.4010207@gmail.com>
Message-ID: <86782b610909101249w3fc3f631jfe223dfdc4265862@mail.gmail.com>

2009/9/10 "Jos? Roberto Pereira Jr." <ze.sjrp@gmail.com>:
> Hi list!
>
> I'm a newbie in geoprocessing and I need to transform a WKT representation
> to a proj.4. I found a example using proj utility:
>
> +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0
> +k=1.0 +units=m +nadgrids=@null +wktext +no_defs
>
> but I don't understand nothing about! Someone could tell me some resource or
> help me for translate the following WKT to proj.4?
>
> GEOGCS[
> ? ? ? ?"GCS_South_American_1969",
> ? ? ? ?DATUM[
> ? ? ? ? ? ? ? ?"D_South_American_1969",
> ? ? ? ? ? ? ? ?SPHEROID[
> ? ? ? ? ? ? ? ? ? ? ? ?"GRS_1967_Truncated",
> ? ? ? ? ? ? ? ? ? ? ? ?6378160.0,
> ? ? ? ? ? ? ? ? ? ? ? ?298.25
> ? ? ? ? ? ? ? ?]],
> ? ? ? ? ? ? ? ?PRIMEM[
> ? ? ? ? ? ? ? ? ? ? ? ?"Greenwich",
> ? ? ? ? ? ? ? ? ? ? ? ?0.0
> ? ? ? ? ? ? ? ?],
> ? ? ? ? ? ? ? ?UNIT[
> ? ? ? ? ? ? ? ? ? ? ? ?"Degree",
> ? ? ? ? ? ? ? ? ? ? ? ?0.0174532925199433
> ? ? ? ? ? ? ? ?]
> ]
>
> Thanks for tips!!

I have saved your definition to a file, removed all spaces and linebreaks
and then used the "testepsg" tool:

testepsg yourdef.txt
Validate Succeeds.
WKT[f] =
GEOGCS["GCS_South_American_1969",
    DATUM["D_South_American_1969",
        SPHEROID["GRS_1967_Truncated",6378160.0,298.25]],
    PRIMEM["Greenwich",0.0],
    UNIT["Degree",0.0174532925199433]]

Simplified WKT[f] =
GEOGCS["GCS_South_American_1969",
    DATUM["D_South_American_1969",
        SPHEROID["GRS_1967_Truncated",6378160.0,298.25]],
    PRIMEM["Greenwich",0.0],
    UNIT["Degree",0.0174532925199433]]

Old Style WKT[f] =
GEOGCS["GCS_South_American_1969",DATUM["D_South_American_1969",SPHEROID["GRS_1967_Truncated",6378160.0,298.25]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]
ESRI'ified WKT[f] =
GEOGCS["GCS_South_American_1969",
    DATUM["D_South_American_1969",
        SPHEROID["GRS_1967_Truncated",6378160.0,298.25]],
    PRIMEM["Greenwich",0.0],
    UNIT["Degree",0.017453292519943295]]

PROJ.4 rendering of [f] = +proj=longlat +ellps=aust_SA +no_defs

Hope this helps
Markus
From woklist at kyngchaos.com  Thu Sep 10 18:04:16 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Sep 10 18:04:19 2009
Subject: [gdal-dev] gdalwarp fills nulls?
Message-ID: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>

Maybe I'm missing something?  I'm trying to resample a DEM, with null/ 
nodata values in oceans, using gdalwarp.  No matter what options I've  
used so far, all the resampled nodata areas get filled with 0.

GDAL 1.6.2

So far I've tried (src res 10, nodata -32768 defined in src):

gdalwarp -tr 100 100 -ot Int16 -r lanczos indem.tif outdem.tif
gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768 indem.tif  
outdem.tif
gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstalpha indem.tif outdem.tif

The last time I used gdalwarp, with nulls, was back at 1.5.x, and it  
worked then, though I was projecting data (-t_srs), instead of only  
resampling.  (I'd have to dig up an old 1.5 to see if it still works)

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin


From Chris.Barker at noaa.gov  Thu Sep 10 18:57:00 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Sep 10 18:55:14 2009
Subject: [gdal-dev] Minor addition to Python bindings..
In-Reply-To: <593B9C86-8B46-4F42-94A6-75C6E667A760@gmail.com>
References: <4AA6F3AB.3080402@noaa.gov>
	<593B9C86-8B46-4F42-94A6-75C6E667A760@gmail.com>
Message-ID: <4AA9843C.6010302@noaa.gov>

Howard Butler wrote:
> On Sep 8, 2009, at 7:15 PM, Christopher Barker wrote:
>> It's a pretty well supported convention now for Python modules to have 
>> a __version__ attribute that returns something meaningful. It would be 
>> nice if gdal.py had a line:
>>
>> __version__ = VersionInfo("RELEASE_NAME")

> Chris,
> 
> Please provide a patch on a ticket in Trac for this with the 
> PythonBindings component, and I will try to get to it for the 1.7 release.

Done:

http://trac.osgeo.org/gdal/ticket/3137

(not well tested -- I'm having trouble getting the whole build/install 
thing working right on my system, but swig does the right thing with the 
change.)

Let me know if you have any questions.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From even.rouault at mines-paris.org  Thu Sep 10 18:56:08 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Sep 10 18:56:10 2009
Subject: [gdal-dev] gdalwarp fills nulls?
In-Reply-To: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>
References: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>
Message-ID: <1252623368.4aa98408e27b0@imp.free.fr>

Selon William Kyngesburye <woklist@kyngchaos.com>:

I don't manage to reproduce your issue neither with trunk nor with 1.6.2 with a
indem.tif generated by the following python script :

import gdal
import osr

ds = gdal.GetDriverByName('GTiff').Create('indem.tif', 500, 500, 1,
gdal.GDT_Int16)
ds.SetGeoTransform([500000, 10, 0, 45000000, 0, -10])
sr = osr.SpatialReference()
sr.ImportFromEPSG(32631)
ds.SetProjection(sr.ExportToWkt())
ds.GetRasterBand(1).Fill(-32768)
ds.GetRasterBand(1).SetNoDataValue(-32768)
ones = ''
for i in range(50*50):
    ones = ones + '\001\000'
ds.GetRasterBand(1).WriteRaster(225,225,50,50, ones, 25, 25)
ds = None


and

gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768 indem.tif outdem.tif

You need to specify -dstnodata -32768. The result I get is as expected a square
of ones at the middle of nodata values at -32768 (except that due to a strange
behaviour of lanczos you get some artifacts at the edge of the square).



> Maybe I'm missing something?  I'm trying to resample a DEM, with null/
> nodata values in oceans, using gdalwarp.  No matter what options I've
> used so far, all the resampled nodata areas get filled with 0.
>
> GDAL 1.6.2
>
> So far I've tried (src res 10, nodata -32768 defined in src):
>
> gdalwarp -tr 100 100 -ot Int16 -r lanczos indem.tif outdem.tif
> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768 indem.tif
> outdem.tif
> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstalpha indem.tif outdem.tif
>
> The last time I used gdalwarp, with nulls, was back at 1.5.x, and it
> worked then, though I was projecting data (-t_srs), instead of only
> resampling.  (I'd have to dig up an old 1.5 to see if it still works)
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "I ache, therefore I am.  Or in my case - I am, therefore I ache."
>
> - Marvin
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From dpbiswas at gmail.com  Fri Sep 11 01:05:32 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Fri Sep 11 01:05:35 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909102205y5125bfcfx@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-19befcb61d-d3ffd86e76ec6098
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-19befcb61d-d3ffd86e76ec6098

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From dpbiswas at gmail.com  Fri Sep 11 03:21:29 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Fri Sep 11 03:21:35 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909110021k1dff207cm@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-a55d1908e1-c7a9a3ffb9cd6304
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-a55d1908e1-c7a9a3ffb9cd6304

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From dpbiswas at gmail.com  Fri Sep 11 06:41:44 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Fri Sep 11 06:41:47 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909110341l63423e24u@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-b24134b58c-4236b1eab148d152
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-b24134b58c-4236b1eab148d152

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From dpbiswas at gmail.com  Fri Sep 11 06:43:33 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Fri Sep 11 06:43:35 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909110343n7980bf7ao@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-e671c159e1-3cab5982284a20b1
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-e671c159e1-3cab5982284a20b1

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From dpbiswas at gmail.com  Fri Sep 11 07:01:47 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Fri Sep 11 07:01:50 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909110401i57dd4d21x@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-8d77bdde0f-6e88992d6c3968be
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-8d77bdde0f-6e88992d6c3968be

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From dpbiswas at gmail.com  Fri Sep 11 07:02:04 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Fri Sep 11 07:02:07 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909110402m5ea880abm@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-81f8d5e03e-3f429981c23c5c5d
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-81f8d5e03e-3f429981c23c5c5d

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From dpbiswas at gmail.com  Fri Sep 11 07:02:24 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Fri Sep 11 07:02:27 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909110402l30facf3cw@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-145b201963-a96e1465da0722d3
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-145b201963-a96e1465da0722d3

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From srikanth1947 at gmail.com  Fri Sep 11 07:58:04 2009
From: srikanth1947 at gmail.com (Srikanth)
Date: Fri Sep 11 07:58:07 2009
Subject: [gdal-dev] Reg. ECW support in GDAL
Message-ID: <7a566dfe0909110458q5bf07564r86ae7cc53fedea1@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
$ make
Making all in Source
make[1]: Entering directory `/c/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2                                                                             -3.3/Source'
Making all in NCSBuildGnu
make[2]: Entering directory `/c/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2                                                                             -3.3/Source/NCSBuildGnu'
make  all-am
make[3]: Entering directory `/c/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2                                                                             -3.3/Source/NCSBuildGnu'
if g++ -DHAVE_CONFIG_H -I. -I. -I.  -D_GNU_SOURCE -D_REENTRANT -DLIBECWJ2 -DPOSI                                                                             X -I/c/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include -I/c/                                                                             WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/C/NCSEcw/lcms/includ                                                                             e -Wall -Wno-long-long -fno-common   -g -O2 -MT ______lib_libecwj2_a-NCSJP2.o -M                                                                             D -MP -MF ".deps/______lib_libecwj2_a-NCSJP2.Tpo" \
  -c -o ______lib_libecwj2_a-NCSJP2.o `test -f '../C/NCSEcw/NCSJP2/NCSJP2.cpp' |                                                                             | echo './'`../C/NCSEcw/NCSJP2/NCSJP2.cpp; \
then mv -f ".deps/______lib_libecwj2_a-NCSJP2.Tpo" ".deps/______lib_libecwj2_a-N                                                                             CSJP2.Po"; \
else rm -f ".deps/______lib_libecwj2_a-NCSJP2.Tpo"; exit 1; \
fi
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSEcw.h:53,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:24:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSDefs.h                                                                             :381: error: expected initializer before "wchar_t"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSDefs.h                                                                             :392: error: expected initializer before "char"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSDefs.h                                                                             :407: error: expected initializer before "int"
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSMemPool.h:35,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSEcw.h:68,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:24:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMutex.                                                                             h:41:21: pthread.h: No such file or directory
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSMemPool.h:35,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSEcw.h:68,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:24:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMutex.                                                                             h:142: error: expected constructor, destructor, or type conversion before '*' to                                                                             ken
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMutex.                                                                             h:168: error: ISO C++ forbids declaration of `pthread_mutex_t' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMutex.                                                                             h:168: error: expected `;' before '*' token
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCScnet.h:36,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSEcw.h:72,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:24:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSErrors                                                                             .h:50:20: crtdbg.h: No such file or directory
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSPrefs.h:130,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSUtil.h:86,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/ECW.h:137,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSEcw.h:73,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:24:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSString                                                                             .h:6: warning: ignoring #pragma warning 
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSString                                                                             .h:7: warning: ignoring #pragma warning 
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSString                                                                             .h:8: warning: ignoring #pragma warning 
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSString.h:14,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSPrefs.h:130,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSUtil.h:86,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/ECW.h:137,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/So                                                                             urce/include/NCSEcw.h:73,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:24:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h                                                                             :126: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:132: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:137: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:144: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:167: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:171: error: integer constant is too large for "long" type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:171: error: integer constant is too large for "long" type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:184: error: integer constant is too large for "long" type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:199: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:209: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:219: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:235: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:254: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:260: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:270: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:279: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSMisc.h:285: error: `__forceinline' does not name a type
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:25,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:27,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJP2FileView.h:42,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:25:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:110: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:110: error: expected `;' before "void"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:111: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:111: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:113: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:118: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:118: error: expected `;' before "operator"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:125: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:125: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:132: error: expected `;' before "__forceinline"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:132: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:132: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:139: error: expected `;' before "__forceinline"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:139: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:139: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:142: error: expected `;' before '}' token
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h: In constructor `TNCSCachedValue<T>::TNCSCachedValue()':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:107: error: there are no arguments to `Invalidate' that depend on a template parameter, so a declaration of `Invalidate' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:107: error: (if you use `-fpermissive', G++ will accept your code, but allowing the use of an undeclared name is deprecated)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h: At global scope:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:165: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:165: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:168: error: expected `;' before "__forceinline"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:168: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:168: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:171: error: expected `;' before '}' token
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:27,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJP2FileView.h:42,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:25:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In constructor `CNCSJPCRect::CNCSJPCRect(INT32, INT32, INT32, INT32)':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:44: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_X0 = nX0'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:44: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_Y0 = nY0'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:44: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_X1 = nX1'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:44: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_Y1 = nY1'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In constructor `CNCSJPCRect::CNCSJPCRect(INT32, INT32, UINT32, UINT32)':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:46: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_X0 = nX0'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:46: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_Y0 = nY0'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:46: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_X1 = (((unsigned int)nX0) + nWidth)'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:46: error: no match for 'operator=' in '((CNCSJPCRect*)this)->CNCSJPCRect::m_Y1 = (((unsigned int)nY0) + nHeight)'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:102: note: candidates are: TNCSCachedValue<INT32>& TNCSCachedValue<INT32>::operator=(const TNCSCachedValue<INT32>&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `virtual INT32 CNCSJPCRect::GetX0()':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:55: error: cannot convert `TNCSCachedValue<INT32>' to `INT32' in return
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `virtual INT32 CNCSJPCRect::GetY0()':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:61: error: cannot convert `TNCSCachedValue<INT32>' to `INT32' in return
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `virtual INT32 CNCSJPCRect::GetX1()':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:67: error: cannot convert `TNCSCachedValue<INT32>' to `INT32' in return
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `virtual INT32 CNCSJPCRect::GetY1()':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:73: error: cannot convert `TNCSCachedValue<INT32>' to `INT32' in return
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `bool CNCSJPCRect::operator==(const CNCSJPCRect&) const':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:90: error: no match for 'operator==' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_X0 == rect->CNCSJPCRect::m_X0'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:79: note: candidates are: BOOL operator==(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:90: error: no match for 'operator==' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_Y0 == rect->CNCSJPCRect::m_Y0'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:79: note: candidates are: BOOL operator==(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:90: error: no match for 'operator==' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_X1 == rect->CNCSJPCRect::m_X1'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:79: note: candidates are: BOOL operator==(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:90: error: no match for 'operator==' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_Y1 == rect->CNCSJPCRect::m_Y1'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:79: note: candidates are: BOOL operator==(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `bool CNCSJPCRect::operator!=(const CNCSJPCRect&) const':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:97: error: no match for 'operator!=' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_X0 != rect->CNCSJPCRect::m_X0'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:81: note: candidates are: BOOL operator!=(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:97: error: no match for 'operator!=' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_Y0 != rect->CNCSJPCRect::m_Y0'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:81: note: candidates are: BOOL operator!=(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:97: error: no match for 'operator!=' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_X1 != rect->CNCSJPCRect::m_X1'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:81: note: candidates are: BOOL operator!=(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:97: error: no match for 'operator!=' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_Y1 != rect->CNCSJPCRect::m_Y1'
c:/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:81: note: candidates are: BOOL operator!=(const GUID&, const GUID&)
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `bool CNCSJPCRect::operator<(const CNCSJPCRect&) const':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:104: error: no match for 'operator<' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_X0 < rect->CNCSJPCRect::m_X0'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:104: error: no match for 'operator<' in '((const CNCSJPCRect*)this)->CNCSJPCRect::m_Y0 < rect->CNCSJPCRect::m_Y0'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h: In member function `bool CNCSJPCRect::IsValid()':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:112: error: 'class TNCSCachedValue<INT32>' has no member named 'Cached'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:112: error: 'class TNCSCachedValue<INT32>' has no member named 'Cached'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:112: error: 'class TNCSCachedValue<INT32>' has no member named 'Cached'
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:112: error: 'class TNCSCachedValue<INT32>' has no member named 'Cached'
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJP2FileView.h:42,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:25:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h: At global scope:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:232: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:254: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:256: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:258: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:260: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:260: error: expected `;' before "void"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:262: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:262: error: expected `;' before "void"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:269: error: `__forceinline' does not name a type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:496: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:496: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:524: error: expected `;' before "__forceinline"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:524: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:524: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:563: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h: In member function `bool CNCSJPCBuffer::Convert(T*, UINT8)':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:296: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:310: error: there are no arguments to `NCSfloatToInt32_RM' that depend on a template parameter, so a declaration of `NCSfloatToInt32_RM' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:318: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:332: error: there are no arguments to `NCSfloatToInt32_RM' that depend on a template parameter, so a declaration of `NCSfloatToInt32_RM' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:339: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:353: error: there are no arguments to `NCSfloatToInt32_RM' that depend on a template parameter, so a declaration of `NCSfloatToInt32_RM' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:358: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:372: error: there are no arguments to `NCSfloatToInt32_RM' that depend on a template parameter, so a declaration of `NCSfloatToInt32_RM' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h: In member function `bool CNCSJPCBuffer::ConvertFLT(T*, UINT8)':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:394: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:413: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:432: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCBuffer.h:450: error: there are no arguments to `GetType' that depend on a template parameter, so a declaration of `GetType' must be available
In file included from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJP2Box.h:27,
                 from c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJP2FileView.h:45,
                 from ../C/NCSEcw/NCSJP2/NCSJP2.cpp:25:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCIOStream.h: At global scope:
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCIOStream.h:197: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCIOStream.h:197: error: `__forceinline' declared as a `virtual' field
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCIOStream.h:197: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCIOStream.h:223: error: ISO C++ forbids declaration of `__forceinline' with no type
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCIOStream.h:223: error: `__forceinline' declared as a `virtual' field
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCIOStream.h:223: error: expected `;' before "bool"
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h: In constructor `TNCSCachedValue<T>::TNCSCachedValue() [with T = INT32]':
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCRect.h:37:   instantiated from here
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:107: error: `Invalidate' was not declared in this scope
c:/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/include/NCSJPCTypes.h:107: warning: unused variable 'Invalidate'
make[3]: *** [______lib_libecwj2_a-NCSJP2.o] Error 1
make[3]: Leaving directory `/c/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/NCSBuildGnu'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/c/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source/NCSBuildGnu'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/c/WorkingDir/ecw_jpeg_2000_sdk_3_3_source/libecwj2-3.3/Source'
make: *** [all-recursive] Error 1
From peio at justmagic.com  Fri Sep 11 09:17:58 2009
From: peio at justmagic.com (peio Elissalde)
Date: Fri Sep 11 09:18:05 2009
Subject: [gdal-dev] Problem In reading S-63 Chart
Message-ID: <F8F1431C-A1D7-46FC-BF95-23ECBBD97246@justmagic.com>

Hello Vinod and Franck,

 > There is no support in GDAL/OGR for reading encrypted enc files (I  
assume
 > S-63 is what is sometimes called S-ENC?).  My understanding is that  
it would
 > be hard to do this in open source software since the folks  
responsible are
 > very particular about who they provide decryption keys to.
Actually, SENC stands for System ENC.
SENC are the internal chart database proprietary formats created by  
the different developers of ECS (Electronic Chart System) or ECDIS  
(Electronic Chart Display and Information System) software  
applications from decrypted ENC files which can be in non protected  
s-57 open exchange format (used by NOAA) or in s-63 encrypted format,  
IHO (International Hydrographic Organization) Data Protection Scheme  
for the protection of ENC information by most of the other  
Hydrographic Services and distributed by Primar and IC-ENC.
It defines security constructs and operating procedures that must be  
followed to ensure that the data protection scheme is operated  
correctly and to provide specifications that allow participants to  
build compliant systems.
Regarding s-63 implementation, see :
http://www.iho-ohi.net/english/about-encs/enc-data-protection/implementing-the-iho-security-scheme.html

Best regards

--
Peio Elissalde
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090911/4f784889/attachment.html
From randyqiuxy at hotmail.com  Fri Sep 11 11:27:32 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Fri Sep 11 11:27:35 2009
Subject: [gdal-dev] which function can fetch some supplementary(but
	necessary) information of geometry from s-57 file?
Message-ID: <BLU137-DS5E030EECDFB869B5EF43AC3E70@phx.gbl>

Hi all,

1.       For instance, as respect to “point” in s-57 files, I can get its
position with function “GetX” and “GetY” in OGR. However, I don’t know
how to get other information about this “point” .  I think at least the
point should tell me which symbol was placed in this position. I don’t find
such function in class “OGRPoint”, then does such function exist and if
the answer is yes, which one is it?

2.       As respect to a “line” or “polygon”, I assume it has
information like “ the line indicates depth contour”、”the polygon
indicates Harbor area”… Then, I can draw them with appropriate color
according to these information. Which function can tell me this?

Thanks, your answer will be appreciated!!

Best regards,

Randy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090911/af95a79b/attachment.html
From chrisemberson at hotmail.com  Fri Sep 11 11:26:52 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Fri Sep 11 11:28:53 2009
Subject: [gdal-dev] Problem with gdal_translate
Message-ID: <BLU145-W85DE4FB0D97CC91182838A3E70@phx.gbl>


I am having trouble converting a single band raster (.asc) when using the GDAL utility gdal_translate (version 1.6) 

This is the command...
gdal_translate -of GTiff -co "TILES=YES" -expand rgb FILEA.asc FILEB.tif

I get this message....




Error : band 1 has no color table

I want to be able to tile this raster using Mapnik - therefore it needs to be a 3 band tiff - Can anyone help with this problem?

Thanks in advance

Chris







_________________________________________________________________
Save time by using Hotmail to access your other email accounts.
http://clk.atdmt.com/UKM/go/167688463/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090911/30237923/attachment.html
From chaitanya.ch at gmail.com  Fri Sep 11 11:39:37 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Sep 11 11:39:45 2009
Subject: [gdal-dev] which function can fetch some supplementary(but 
	necessary) information of geometry from s-57 file?
In-Reply-To: <BLU137-DS5E030EECDFB869B5EF43AC3E70@phx.gbl>
References: <BLU137-DS5E030EECDFB869B5EF43AC3E70@phx.gbl>
Message-ID: <eb502d880909110839i70f3c1dcpa6f5022e4b82102@mail.gmail.com>

Randy,

OGRPoint is a geometry, which is stored as a part of a feature in a
layer of the dataset. Any other information about the geometry is
usually acquired from the OGRLayer and other fields in the OGRFeature.
Hope this helps.

2009/9/11 Randy <randyqiuxy@hotmail.com>:
> Hi all,
>
> 1.       For instance, as respect to "point" in s-57 files, I can get its
> position with function "GetX" and "GetY" in OGR. However, I don't know ho=
w
> to get other information about this "point" .  I think at least the point
> should tell me which symbol was placed in this position. I don't find suc=
h
> function in class "OGRPoint", then does such function exist and if the
> answer is yes, which one is it?
>
> 2.       As respect to a "line" or "polygon", I assume it has information
> like " the line indicates depth contour"=A1=A2"the polygon indicates Harb=
or
> area"... Then, I can draw them with appropriate color according to these
> information. Which function can tell me this?
>
> Thanks, your answer will be appreciated!!
>
> Best regards,
>
> Randy
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



--=20
Best regards,
Chaitanya kumar CH.
From woklist at kyngchaos.com  Fri Sep 11 11:42:44 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri Sep 11 11:42:48 2009
Subject: [gdal-dev] gdalwarp fills nulls?
In-Reply-To: <1252623368.4aa98408e27b0@imp.free.fr>
References: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>
	<1252623368.4aa98408e27b0@imp.free.fr>
Message-ID: <5FA44AA9-0D68-4FB3-9B24-B25ECF647003@kyngchaos.com>

Hmm, yes that one works for me.  I simplified my example for the  
email, maybe there's a memory problem, or raster size problem?

I originally tried to resample a GRASS raster DEM directly.  It's  
really 1000m cell size, 12809x18192 float cells, and want to resample  
to 21000m and 7000m.  That wasn't working so I exported to Geotiff  
(Int16 cells) with r.out.gdal.  The exported image has the nulls as  
-32768.  That doesn't work either.

... ah! memory!  I just tried with -wm 250 and I get the nulls.  And  
the nasty artifacts.  I think I want the nulls filled now ;)  I saw a  
bug about this on the tracker but it was fixed.  Maybe this is a  
different problem?

On Sep 10, 2009, at 5:56 PM, Even Rouault wrote:

> Selon William Kyngesburye <woklist@kyngchaos.com>:
>
> I don't manage to reproduce your issue neither with trunk nor with  
> 1.6.2 with a
> indem.tif generated by the following python script :
>
> import gdal
> import osr
>
> ds = gdal.GetDriverByName('GTiff').Create('indem.tif', 500, 500, 1,
> gdal.GDT_Int16)
> ds.SetGeoTransform([500000, 10, 0, 45000000, 0, -10])
> sr = osr.SpatialReference()
> sr.ImportFromEPSG(32631)
> ds.SetProjection(sr.ExportToWkt())
> ds.GetRasterBand(1).Fill(-32768)
> ds.GetRasterBand(1).SetNoDataValue(-32768)
> ones = ''
> for i in range(50*50):
>    ones = ones + '\001\000'
> ds.GetRasterBand(1).WriteRaster(225,225,50,50, ones, 25, 25)
> ds = None
>
>
> and
>
> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768  
> indem.tif outdem.tif
>
> You need to specify -dstnodata -32768. The result I get is as  
> expected a square
> of ones at the middle of nodata values at -32768 (except that due to  
> a strange
> behaviour of lanczos you get some artifacts at the edge of the  
> square).
>
>
>
>> Maybe I'm missing something?  I'm trying to resample a DEM, with  
>> null/
>> nodata values in oceans, using gdalwarp.  No matter what options I've
>> used so far, all the resampled nodata areas get filled with 0.
>>
>> GDAL 1.6.2
>>
>> So far I've tried (src res 10, nodata -32768 defined in src):
>>
>> gdalwarp -tr 100 100 -ot Int16 -r lanczos indem.tif outdem.tif
>> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768 indem.tif
>> outdem.tif
>> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstalpha indem.tif  
>> outdem.tif
>>
>> The last time I used gdalwarp, with nulls, was back at 1.5.x, and it
>> worked then, though I was projecting data (-t_srs), instead of only
>> resampling.  (I'd have to dig up an old 1.5 to see if it still works)
>>
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>>
>> "I ache, therefore I am.  Or in my case - I am, therefore I ache."
>>
>> - Marvin
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From gregcoats at mac.com  Fri Sep 11 12:05:36 2009
From: gregcoats at mac.com (Greg Coats)
Date: Fri Sep 11 12:05:47 2009
Subject: [gdal-dev] gdalwarp fills nulls?
In-Reply-To: <5FA44AA9-0D68-4FB3-9B24-B25ECF647003@kyngchaos.com>
References: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>
	<1252623368.4aa98408e27b0@imp.free.fr>
	<5FA44AA9-0D68-4FB3-9B24-B25ECF647003@kyngchaos.com>
Message-ID: <D14DF2B4-F50C-4642-A378-A43EF246A854@mac.com>

The GDAL default value for GDAL_CACHEMAX is 40 MB. I routinely set up  
my gdal_translate scripts to run with a larger value for GDAL_CACHEMAX.
	export GDAL_CACHEMAX_value=50
	gdal_translate --config GDAL_CACHEMAX ${GDAL_CACHEMAX_value}
In my benchmark tests, I have observed that this small increase in  
GDAL_CACHEMAX has dramatically reduced processing time by a factor of  
more than 60, from 10473 to 166 seconds.

I do not see any information about a -wm option on these web pages
	http://www.gdal.org/gdal_utilities.html
	http://www.gdal.org/gdal_translate.html
I would appreciate information about the -wm option. What is the  
default value? Are the units MB of memory?
Greg

On Sep 11, 2009, at 11:42 AM, William Kyngesburye wrote:

> Hmm, yes that one works for me.  I simplified my example for the  
> email, maybe there's a memory problem, or raster size problem?
>
> I originally tried to resample a GRASS raster DEM directly.  It's  
> really 1000m cell size, 12809x18192 float cells, and want to  
> resample to 21000m and 7000m.  That wasn't working so I exported to  
> Geotiff (Int16 cells) with r.out.gdal.  The exported image has the  
> nulls as -32768.  That doesn't work either.
>
> ... ah! memory!  I just tried with -wm 250 and I get the nulls.  And  
> the nasty artifacts.  I think I want the nulls filled now ;)  I saw  
> a bug about this on the tracker but it was fixed.  Maybe this is a  
> different problem?
>
> On Sep 10, 2009, at 5:56 PM, Even Rouault wrote:
>
>> Selon William Kyngesburye <woklist@kyngchaos.com>:
>>
>> I don't manage to reproduce your issue neither with trunk nor with  
>> 1.6.2 with a
>> indem.tif generated by the following python script :
>>
>> import gdal
>> import osr
>>
>> ds = gdal.GetDriverByName('GTiff').Create('indem.tif', 500, 500, 1,
>> gdal.GDT_Int16)
>> ds.SetGeoTransform([500000, 10, 0, 45000000, 0, -10])
>> sr = osr.SpatialReference()
>> sr.ImportFromEPSG(32631)
>> ds.SetProjection(sr.ExportToWkt())
>> ds.GetRasterBand(1).Fill(-32768)
>> ds.GetRasterBand(1).SetNoDataValue(-32768)
>> ones = ''
>> for i in range(50*50):
>>   ones = ones + '\001\000'
>> ds.GetRasterBand(1).WriteRaster(225,225,50,50, ones, 25, 25)
>> ds = None
>>
>>
>> and
>>
>> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768  
>> indem.tif outdem.tif
>>
>> You need to specify -dstnodata -32768. The result I get is as  
>> expected a square
>> of ones at the middle of nodata values at -32768 (except that due  
>> to a strange
>> behaviour of lanczos you get some artifacts at the edge of the  
>> square).
>>
>>
>>
>>> Maybe I'm missing something?  I'm trying to resample a DEM, with  
>>> null/
>>> nodata values in oceans, using gdalwarp.  No matter what options  
>>> I've
>>> used so far, all the resampled nodata areas get filled with 0.
>>>
>>> GDAL 1.6.2
>>>
>>> So far I've tried (src res 10, nodata -32768 defined in src):
>>>
>>> gdalwarp -tr 100 100 -ot Int16 -r lanczos indem.tif outdem.tif
>>> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768  
>>> indem.tif
>>> outdem.tif
>>> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstalpha indem.tif  
>>> outdem.tif
>>>
>>> The last time I used gdalwarp, with nulls, was back at 1.5.x, and it
>>> worked then, though I was projecting data (-t_srs), instead of only
>>> resampling.  (I'd have to dig up an old 1.5 to see if it still  
>>> works)
>>>
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>>
>>> "I ache, therefore I am.  Or in my case - I am, therefore I ache."
>>>
>>> - Marvin
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "History is an illusion caused by the passage of time, and time is  
> an illusion caused by the passage of history."
>
> - Hitchhiker's Guide to the Galaxy
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Fri Sep 11 12:06:48 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Sep 11 12:06:50 2009
Subject: [gdal-dev] Problem with gdal_translate
In-Reply-To: <BLU145-W85DE4FB0D97CC91182838A3E70@phx.gbl>
References: <BLU145-W85DE4FB0D97CC91182838A3E70@phx.gbl>
Message-ID: <1252685208.4aaa7598154d8@imp.free.fr>

Selon Chris Emberson <chrisemberson@hotmail.com>:

The behaviour you see is expected. -expand rgb only works for bands that have
color maps. You can transform your grey scale FILEA.asc into a RGB file by doing
this :

gdal_translate -of GTiff -co "TILES=YES" -b 1 -b 1 -b 1 FILEA.asc FILEB.tif

This will use the source band 1 for the R, G, B components of the output file.
You may need to use the scaling/translate options of gdal_translate to reduce
the dynamics to 8 bits.

>
> I am having trouble converting a single band raster (.asc) when using the
> GDAL utility gdal_translate (version 1.6)
>
> This is the command...
> gdal_translate -of GTiff -co "TILES=YES" -expand rgb FILEA.asc FILEB.tif
>
> I get this message....
>
>
>
>
> Error : band 1 has no color table
>
> I want to be able to tile this raster using Mapnik - therefore it needs to be
> a 3 band tiff - Can anyone help with this problem?
>
> Thanks in advance
>
> Chris
>
>
>
>
>
>
>
> _________________________________________________________________
> Save time by using Hotmail to access your other email accounts.
> http://clk.atdmt.com/UKM/go/167688463/direct/01/


From even.rouault at mines-paris.org  Fri Sep 11 12:12:13 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Sep 11 12:12:15 2009
Subject: [gdal-dev] gdalwarp fills nulls?
In-Reply-To: <D14DF2B4-F50C-4642-A378-A43EF246A854@mac.com>
References: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>
	<1252623368.4aa98408e27b0@imp.free.fr>
	<5FA44AA9-0D68-4FB3-9B24-B25ECF647003@kyngchaos.com>
	<D14DF2B4-F50C-4642-A378-A43EF246A854@mac.com>
Message-ID: <1252685533.4aaa76dd3a0b1@imp.free.fr>

Selon Greg Coats <gregcoats@mac.com>:

-wm is an option specific to gdalwarp. Here's detailed explanation :
http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#WarpandCacheMemory:TechnicalDetails

> The GDAL default value for GDAL_CACHEMAX is 40 MB. I routinely set up
> my gdal_translate scripts to run with a larger value for GDAL_CACHEMAX.
> 	export GDAL_CACHEMAX_value=50
> 	gdal_translate --config GDAL_CACHEMAX ${GDAL_CACHEMAX_value}
> In my benchmark tests, I have observed that this small increase in
> GDAL_CACHEMAX has dramatically reduced processing time by a factor of
> more than 60, from 10473 to 166 seconds.
>
> I do not see any information about a -wm option on these web pages
> 	http://www.gdal.org/gdal_utilities.html
> 	http://www.gdal.org/gdal_translate.html
> I would appreciate information about the -wm option. What is the
> default value? Are the units MB of memory?
> Greg
>
> On Sep 11, 2009, at 11:42 AM, William Kyngesburye wrote:
>
> > Hmm, yes that one works for me.  I simplified my example for the
> > email, maybe there's a memory problem, or raster size problem?
> >
> > I originally tried to resample a GRASS raster DEM directly.  It's
> > really 1000m cell size, 12809x18192 float cells, and want to
> > resample to 21000m and 7000m.  That wasn't working so I exported to
> > Geotiff (Int16 cells) with r.out.gdal.  The exported image has the
> > nulls as -32768.  That doesn't work either.
> >
> > ... ah! memory!  I just tried with -wm 250 and I get the nulls.  And
> > the nasty artifacts.  I think I want the nulls filled now ;)  I saw
> > a bug about this on the tracker but it was fixed.  Maybe this is a
> > different problem?
> >
> > On Sep 10, 2009, at 5:56 PM, Even Rouault wrote:
> >
> >> Selon William Kyngesburye <woklist@kyngchaos.com>:
> >>
> >> I don't manage to reproduce your issue neither with trunk nor with
> >> 1.6.2 with a
> >> indem.tif generated by the following python script :
> >>
> >> import gdal
> >> import osr
> >>
> >> ds = gdal.GetDriverByName('GTiff').Create('indem.tif', 500, 500, 1,
> >> gdal.GDT_Int16)
> >> ds.SetGeoTransform([500000, 10, 0, 45000000, 0, -10])
> >> sr = osr.SpatialReference()
> >> sr.ImportFromEPSG(32631)
> >> ds.SetProjection(sr.ExportToWkt())
> >> ds.GetRasterBand(1).Fill(-32768)
> >> ds.GetRasterBand(1).SetNoDataValue(-32768)
> >> ones = ''
> >> for i in range(50*50):
> >>   ones = ones + '\001\000'
> >> ds.GetRasterBand(1).WriteRaster(225,225,50,50, ones, 25, 25)
> >> ds = None
> >>
> >>
> >> and
> >>
> >> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768
> >> indem.tif outdem.tif
> >>
> >> You need to specify -dstnodata -32768. The result I get is as
> >> expected a square
> >> of ones at the middle of nodata values at -32768 (except that due
> >> to a strange
> >> behaviour of lanczos you get some artifacts at the edge of the
> >> square).
> >>
> >>
> >>
> >>> Maybe I'm missing something?  I'm trying to resample a DEM, with
> >>> null/
> >>> nodata values in oceans, using gdalwarp.  No matter what options
> >>> I've
> >>> used so far, all the resampled nodata areas get filled with 0.
> >>>
> >>> GDAL 1.6.2
> >>>
> >>> So far I've tried (src res 10, nodata -32768 defined in src):
> >>>
> >>> gdalwarp -tr 100 100 -ot Int16 -r lanczos indem.tif outdem.tif
> >>> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstnodata -32768
> >>> indem.tif
> >>> outdem.tif
> >>> gdalwarp -tr 100 100 -ot Int16 -r lanczos -dstalpha indem.tif
> >>> outdem.tif
> >>>
> >>> The last time I used gdalwarp, with nulls, was back at 1.5.x, and it
> >>> worked then, though I was projecting data (-t_srs), instead of only
> >>> resampling.  (I'd have to dig up an old 1.5 to see if it still
> >>> works)
> >>>
> >>> -----
> >>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> >>> http://www.kyngchaos.com/
> >>>
> >>> "I ache, therefore I am.  Or in my case - I am, therefore I ache."
> >>>
> >>> - Marvin
> >>>
> >>>
> >>> _______________________________________________
> >>> gdal-dev mailing list
> >>> gdal-dev@lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>>
> >>
> >>
> >
> > -----
> > William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> > http://www.kyngchaos.com/
> >
> > "History is an illusion caused by the passage of time, and time is
> > an illusion caused by the passage of history."
> >
> > - Hitchhiker's Guide to the Galaxy
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From peifer at gmx.eu  Fri Sep 11 13:56:58 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Fri Sep 11 13:57:02 2009
Subject: [gdal-dev] Re: gdalwarp fills nulls?
In-Reply-To: <1252685533.4aaa76dd3a0b1@imp.free.fr>
References: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>	<1252623368.4aa98408e27b0@imp.free.fr>	<5FA44AA9-0D68-4FB3-9B24-B25ECF647003@kyngchaos.com>	<D14DF2B4-F50C-4642-A378-A43EF246A854@mac.com>
	<1252685533.4aaa76dd3a0b1@imp.free.fr>
Message-ID: <4AAA8F6A.9010403@gmx.eu>

> Selon Greg Coats <gregcoats@mac.com>:
> 
> -wm is an option specific to gdalwarp. Here's detailed explanation :
> http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#WarpandCacheMemory:TechnicalDetails
> 

Just to add that the default value is 64MB of RAM, see the snippet below, which I took from 
http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdalwarpoperation.cpp

498 	/* -------------------------------------------------------------------- */
499 	/*      Default memory available.                                       */
500 	/*                                                                      */
501 	/*      For now we default to 64MB of RAM, but eventually we should     */
502 	/*      try various schemes to query physical RAM.  This can            */
503 	/*      certainly be done on Win32 and Linux.                           */
504 	/* -------------------------------------------------------------------- */
505 	    if( psOptions->dfWarpMemoryLimit == 0.0 )
506 	    {
507 	        psOptions->dfWarpMemoryLimit = 64.0 * 1024*1024;
508 	    }


One thing I learnt recently is that increasing the -wm value is counter-productive when warping small tiles into a big mosaic.

Hermann
From mmarks at google.com  Fri Sep 11 18:57:11 2009
From: mmarks at google.com (Mano Marks)
Date: Fri Sep 11 19:07:45 2009
Subject: [gdal-dev] Path problem with gdal2tiles on Mac
Message-ID: <781bff30909111557p7f0b193er5eb264626c040d6f@mail.gmail.com>

Using gdal2tiles on the mac, I get an ImportError for gdal:

Traceback (most recent call last):
  File "/Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py",
line 42, in ?
    import gdal
ImportError: No module named gdal

Any suggestions? I tried mucking around with paths, no luck so far.

I understand that maptiler is the replacement, but it's been in alpha
for awhile and I'd like to create samples for people who are not
willing to use alpha software.

Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks
From crschmidt at metacarta.com  Fri Sep 11 19:27:02 2009
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Fri Sep 11 19:27:04 2009
Subject: [gdal-dev] Path problem with gdal2tiles on Mac
In-Reply-To: <781bff30909111557p7f0b193er5eb264626c040d6f@mail.gmail.com>
References: <781bff30909111557p7f0b193er5eb264626c040d6f@mail.gmail.com>
Message-ID: <20090911232702.GE31880@metacarta.com>

On Fri, Sep 11, 2009 at 03:57:11PM -0700, Mano Marks wrote:
> Using gdal2tiles on the mac, I get an ImportError for gdal:
> 
> Traceback (most recent call last):
>   File "/Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py",
> line 42, in ?
>     import gdal
> ImportError: No module named gdal
> 
> Any suggestions? I tried mucking around with paths, no luck so far.

Using KyngChaos binaries, on a new laptop I just got today, I can do this:

PYTHONPATH="/Library/Frameworks/GDAL.framework/Versions/1.6/Python/site-packages/" python /Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py

(This is on Snow Leopard; Tiger and older will need to install Python2.5
from python.org.)

> I understand that maptiler is the replacement, but it's been in alpha
> for awhile and I'd like to create samples for people who are not
> willing to use alpha software.

MapTiler isn't really a replacement, just a graphical interface. You will
likely need to have GDAL libraries in the Path still.

-- Chris

> Mano Marks
> Geo Developer Advocate
> http://twitter.com/ManoMarks
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Christopher Schmidt
MetaCarta
From mmarks at google.com  Fri Sep 11 20:47:42 2009
From: mmarks at google.com (Mano Marks)
Date: Fri Sep 11 20:58:10 2009
Subject: [gdal-dev] Path problem with gdal2tiles on Mac
In-Reply-To: <20090911232702.GE31880@metacarta.com>
References: <781bff30909111557p7f0b193er5eb264626c040d6f@mail.gmail.com>
	<20090911232702.GE31880@metacarta.com>
Message-ID: <781bff30909111747n25fa542aof693343db51bf1c4@mail.gmail.com>

I'm still getting the same error, unfortunately.

Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks




On Fri, Sep 11, 2009 at 4:27 PM, Christopher Schmidt
<crschmidt@metacarta.com> wrote:
> On Fri, Sep 11, 2009 at 03:57:11PM -0700, Mano Marks wrote:
>> Using gdal2tiles on the mac, I get an ImportError for gdal:
>>
>> Traceback (most recent call last):
>> ? File "/Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py",
>> line 42, in ?
>> ? ? import gdal
>> ImportError: No module named gdal
>>
>> Any suggestions? I tried mucking around with paths, no luck so far.
>
> Using KyngChaos binaries, on a new laptop I just got today, I can do this:
>
> PYTHONPATH="/Library/Frameworks/GDAL.framework/Versions/1.6/Python/site-packages/" python /Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py
>
> (This is on Snow Leopard; Tiger and older will need to install Python2.5
> from python.org.)
>
>> I understand that maptiler is the replacement, but it's been in alpha
>> for awhile and I'd like to create samples for people who are not
>> willing to use alpha software.
>
> MapTiler isn't really a replacement, just a graphical interface. You will
> likely need to have GDAL libraries in the Path still.
>
> -- Chris
>
>> Mano Marks
>> Geo Developer Advocate
>> http://twitter.com/ManoMarks
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
> Christopher Schmidt
> MetaCarta
>
From mmarks at google.com  Fri Sep 11 21:12:42 2009
From: mmarks at google.com (Mano Marks)
Date: Fri Sep 11 21:12:48 2009
Subject: [gdal-dev] Path problem with gdal2tiles on Mac
In-Reply-To: <781bff30909111747n25fa542aof693343db51bf1c4@mail.gmail.com>
References: <781bff30909111557p7f0b193er5eb264626c040d6f@mail.gmail.com>
	<20090911232702.GE31880@metacarta.com>
	<781bff30909111747n25fa542aof693343db51bf1c4@mail.gmail.com>
Message-ID: <781bff30909111812u33a7b2a7rc2a4372787da3455@mail.gmail.com>

Turned out it was a wonky set-up of Python on my Mac. Thanks for your help!

Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks




On Fri, Sep 11, 2009 at 5:47 PM, Mano Marks <mmarks@google.com> wrote:
> I'm still getting the same error, unfortunately.
>
> Mano Marks
> Geo Developer Advocate
> http://twitter.com/ManoMarks
>
>
>
>
> On Fri, Sep 11, 2009 at 4:27 PM, Christopher Schmidt
> <crschmidt@metacarta.com> wrote:
>> On Fri, Sep 11, 2009 at 03:57:11PM -0700, Mano Marks wrote:
>>> Using gdal2tiles on the mac, I get an ImportError for gdal:
>>>
>>> Traceback (most recent call last):
>>> ? File "/Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py",
>>> line 42, in ?
>>> ? ? import gdal
>>> ImportError: No module named gdal
>>>
>>> Any suggestions? I tried mucking around with paths, no luck so far.
>>
>> Using KyngChaos binaries, on a new laptop I just got today, I can do this:
>>
>> PYTHONPATH="/Library/Frameworks/GDAL.framework/Versions/1.6/Python/site-packages/" python /Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py
>>
>> (This is on Snow Leopard; Tiger and older will need to install Python2.5
>> from python.org.)
>>
>>> I understand that maptiler is the replacement, but it's been in alpha
>>> for awhile and I'd like to create samples for people who are not
>>> willing to use alpha software.
>>
>> MapTiler isn't really a replacement, just a graphical interface. You will
>> likely need to have GDAL libraries in the Path still.
>>
>> -- Chris
>>
>>> Mano Marks
>>> Geo Developer Advocate
>>> http://twitter.com/ManoMarks
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>> --
>> Christopher Schmidt
>> MetaCarta
>>
>
From randyqiuxy at hotmail.com  Fri Sep 11 21:37:34 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Fri Sep 11 21:37:37 2009
Subject: =?gb2312?B?tPC4tDogUmU6IFtnZGFsLWRldl0gd2hpY2ggZnVuY3Rpb24gY2FuIA==?=
	=?gb2312?B?ZmV0Y2ggc29tZSBzdXBwbGVtZW50YXJ5KGJ1dCAJbmVjZXNzYXJ5KQ==?=
	=?gb2312?B?IGluZm9ybWF0aW9uIG9mIGdlb21ldHJ5IGZyb20gcy01NyBmaWxlPw==?=
In-Reply-To: <eb502d880909110839i70f3c1dcpa6f5022e4b82102@mail.gmail.com>
References: <BLU137-DS5E030EECDFB869B5EF43AC3E70@phx.gbl>
	<eb502d880909110839i70f3c1dcpa6f5022e4b82102@mail.gmail.com>
Message-ID: <BLU137-DS2FA4F1AF82118B8B05776C3E60@phx.gbl>

Chaitanya kumar CH,
    Thanks a lot!
   Yes, I know I should get other informaion from =
OGRLayer=A1=A2OGRFeature=A1=A2etc.
But can you tell me which functions can answer my two questions?

-----=D3=CA=BC=FE=D4=AD=BC=FE-----
=B7=A2=BC=FE=C8=CB: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]=20
=B7=A2=CB=CD=CA=B1=BC=E4: 2009=C4=EA9=D4=C211=C8=D5 23:40
=CA=D5=BC=FE=C8=CB: Randy
=B3=AD=CB=CD: GDAL/OGR mailing list
=D6=F7=CC=E2: [?? Probable Spam] Re: [gdal-dev] which function can fetch =
some
supplementary(but necessary) information of geometry from s-57 file?

Randy,

OGRPoint is a geometry, which is stored as a part of a feature in a
layer of the dataset. Any other information about the geometry is
usually acquired from the OGRLayer and other fields in the OGRFeature.
Hope this helps.

2009/9/11 Randy <randyqiuxy@hotmail.com>:
> Hi all,
>
> 1.       For instance, as respect to "point" in s-57 files, I can get =
its
> position with function "GetX" and "GetY" in OGR. However, I don't know =
how
> to get other information about this "point" .  I think at least the =
point
> should tell me which symbol was placed in this position. I don't find =
such
> function in class "OGRPoint", then does such function exist and if the
> answer is yes, which one is it?
>
> 2.       As respect to a "line" or "polygon", I assume it has =
information
> like " the line indicates depth contour"=A1=A2"the polygon indicates =
Harbor
> area"... Then, I can draw them with appropriate color according to =
these
> information. Which function can tell me this?
>
> Thanks, your answer will be appreciated!!
>
> Best regards,
>
> Randy
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



--=20
Best regards,
Chaitanya kumar CH.

From woklist at kyngchaos.com  Sat Sep 12 00:07:37 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Sep 12 00:07:41 2009
Subject: [gdal-dev] Path problem with gdal2tiles on Mac
In-Reply-To: <20090911232702.GE31880@metacarta.com>
References: <781bff30909111557p7f0b193er5eb264626c040d6f@mail.gmail.com>
	<20090911232702.GE31880@metacarta.com>
Message-ID: <D44F5A09-A737-4BC6-954B-6F40ACA138AA@kyngchaos.com>

On Sep 11, 2009, at 6:27 PM, Christopher Schmidt wrote:

> On Fri, Sep 11, 2009 at 03:57:11PM -0700, Mano Marks wrote:
>> Using gdal2tiles on the mac, I get an ImportError for gdal:
>>
>> Traceback (most recent call last):
>>  File "/Library/Frameworks/GDAL.framework/Programs/gdal2tiles.py",
>> line 42, in ?
>>    import gdal
>> ImportError: No module named gdal
>>
>> Any suggestions? I tried mucking around with paths, no luck so far.
>
> Using KyngChaos binaries, on a new laptop I just got today, I can do  
> this:
>
> PYTHONPATH="/Library/Frameworks/GDAL.framework/Versions/1.6/Python/ 
> site-packages/" python /Library/Frameworks/GDAL.framework/Programs/ 
> gdal2tiles.py
>
> (This is on Snow Leopard; Tiger and older will need to install  
> Python2.5
> from python.org.)

Note: the GDAL installer should place a gdal.pth in the site-packages  
folder(s) - for the python.org Python on Tiger and Leopard (in the  
python framework), and for the system Python on Leopard (/Library/ 
Python).  No need to set PYTHONPATH.

This is for Python 2.5 at this time.  On Snow, you should run  
python2.5 until I update for Snow.  The binary modules are built for  
python 2.5 and there may be problems loading them into python 2.6.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no  
particular pleasure I shall kill every ___ I can until the war is  
over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of  
the allied nations devoted an entire year exclusively to hating the  
____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From chaitanya.ch at gmail.com  Sat Sep 12 00:46:36 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Sep 12 00:46:39 2009
Subject: =?UTF-8?Q?Re=3A_=E7=AD=94=E5=A4=8D=3A_Re=3A_=5Bgdal=2Ddev=5D_which_function_can_fetch_?=
	=?UTF-8?Q?some_supplementary=28but_necessary=29_information_of_geometry_fr?=
	=?UTF-8?Q?om_s=2D57_file=3F?=
In-Reply-To: <BLU137-DS2FA4F1AF82118B8B05776C3E60@phx.gbl>
References: <BLU137-DS5E030EECDFB869B5EF43AC3E70@phx.gbl>
	<eb502d880909110839i70f3c1dcpa6f5022e4b82102@mail.gmail.com>
	<BLU137-DS2FA4F1AF82118B8B05776C3E60@phx.gbl>
Message-ID: <eb502d880909112146k6b945f47x89767753fe31f839@mail.gmail.com>

Randy,

In s-57 the features are added to a layer named after the shortname of
the feature's class.  These short names can be translated to more
meaningful names using the s-57 catalogues. Refer to
http://gdal.org/ogr/drv_s57.html for more details.

2009/9/12 Randy <randyqiuxy@hotmail.com>:
> Chaitanya kumar CH,
> ? ?Thanks a lot!
> ? Yes, I know I should get other informaion from OGRLayer?OGRFeature?etc.
> But can you tell me which functions can answer my two questions?
>
> -----????-----
> ???: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
> ????: 2009?9?11? 23:40
> ???: Randy
> ??: GDAL/OGR mailing list
> ??: [?? Probable Spam] Re: [gdal-dev] which function can fetch some
> supplementary(but necessary) information of geometry from s-57 file?
>
> Randy,
>
> OGRPoint is a geometry, which is stored as a part of a feature in a
> layer of the dataset. Any other information about the geometry is
> usually acquired from the OGRLayer and other fields in the OGRFeature.
> Hope this helps.
>
> 2009/9/11 Randy <randyqiuxy@hotmail.com>:
>> Hi all,
>>
>> 1. ? ? ? For instance, as respect to "point" in s-57 files, I can get its
>> position with function "GetX" and "GetY" in OGR. However, I don't know how
>> to get other information about this "point" . ?I think at least the point
>> should tell me which symbol was placed in this position. I don't find such
>> function in class "OGRPoint", then does such function exist and if the
>> answer is yes, which one is it?
>>
>> 2. ? ? ? As respect to a "line" or "polygon", I assume it has information
>> like " the line indicates depth contour"?"the polygon indicates Harbor
>> area"... Then, I can draw them with appropriate color according to these
>> information. Which function can tell me this?
>>
>> Thanks, your answer will be appreciated!!
>>
>> Best regards,
>>
>> Randy
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
>



-- 
Best regards,
Chaitanya kumar CH.
From belaid_moa at hotmail.com  Sat Sep 12 03:06:48 2009
From: belaid_moa at hotmail.com (Belaid MOA)
Date: Sat Sep 12 03:06:51 2009
Subject: [gdal-dev] pixel/line mapping for two images.
Message-ID: <COL113-W320AFD5C944E2A63A2272CF4E60@phx.gbl>


Hi everyone,
  I have two elementary questions about how GDAL maps the pixel/line of one image to an other image.
Suppose we have two GeoTiff images with different spatial resolutions  and projections. 
According to GDAL code, a pixel/line (i,j), more precisely its center (i+0.5,j+0.5), of the first image is mapped to the pixel/line (p,q) of the second image, where p and q are doubles that usually have fraction parts. 
My questions are: what is the meaning for these fractions? Is it possible to use these fractions to compute the overlap between
the pixels of the two images using GDAL?

 Any help on this is very appreciated!
 Thank you very much in advance.

~Belaid.

    
 

_________________________________________________________________
New: Messenger sign-in on the MSN homepage
http://go.microsoft.com/?linkid=9677403
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090912/5d1c58fa/attachment.html
From chaitanya.ch at gmail.com  Sat Sep 12 06:54:54 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Sep 12 06:54:56 2009
Subject: [gdal-dev] pixel/line mapping for two images.
In-Reply-To: <COL113-W320AFD5C944E2A63A2272CF4E60@phx.gbl>
References: <COL113-W320AFD5C944E2A63A2272CF4E60@phx.gbl>
Message-ID: <eb502d880909120354h1fd17a0fw33cb3e3b65935f3d@mail.gmail.com>

Belaid,

GDAL uses various interpolation/resampling algorithms like nearest
neighbour, bilinear, cubic, cubic spline and lanczos. However, I think
these may not be what you are looking for.

Computing the overlap of pixels of two images should not be a complex
process. You may find some ideas with anti-aliasing techniques.

On Sat, Sep 12, 2009 at 12:36 PM, Belaid MOA <belaid_moa@hotmail.com> wrote:
> Hi everyone,
> ? I have two elementary questions about how GDAL maps the pixel/line of one
> image to an other image.
> Suppose we have two GeoTiff images with different spatial resolutions and
> projections.
> According to GDAL code, a pixel/line (i,j), more precisely its center
> (i+0.5,j+0.5), of the first image is mapped to the pixel/line (p,q) of the
> second image, where p and q are doubles that usually have fraction parts.
> My questions are: what is the meaning for these fractions? Is it possible to
> use these fractions to compute the overlap between
> the pixels of the two images using GDAL?
>
> ?Any help on this is very appreciated!
> ?Thank you very much in advance.
>
> ~Belaid.
>
>
>
>
> ________________________________
> Less clicking: Hotmail access on the new MSN homepage.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
From randre at gmail.com  Sat Sep 12 13:45:41 2009
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Sat Sep 12 13:45:43 2009
Subject: [gdal-dev] Trying to isolate cause of segmentation fault in
	gdal_rasterize
Message-ID: <9c2015090909121045p635e0115kfce3dcaa87fcbbce@mail.gmail.com>

Hi All,

I would like to understand the cause of the segmentation fault I am getting
with gdal_rasterize.  I am using the borders of the state of Texas to "burn"
the shape onto an image.  I have tried this with state borders from 2
different data sets: one from ESRI, and one from the US Census.  The ESRI
data consistently fails, but the Census one does not, which leads me to
believe there is something fundamentally different between the geometry data
in each of them.  I would like to identify what that is, in the hopes of
preventing it from happening in the future when the data is used in an
automated system.

Both data sets of 50-state boundaries were loaded into PostGIS using the
shp2pgsql command.  The outlines of Texas were extracted from the DB using
the pgsql2shp command, and both resulting Texas data sets have a single
feature in them.  gdal_rasterize is being sourced from gdal-1.5.2.

Would it be possible to turn on some sort of debug mode without recompiling
gdal?  If not, I see that there is an "--enable-debug" configure option, but
could use a little advice on how to use it properly to track this down.  Any
other thoughts on why the problem might be happening would be welcome as
well.

Thanks in advance for your assistance,

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090912/8aeef92a/attachment.html
From chaitanya.ch at gmail.com  Sat Sep 12 13:59:44 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Sep 12 13:59:46 2009
Subject: [gdal-dev] Trying to isolate cause of segmentation fault in 
	gdal_rasterize
In-Reply-To: <9c2015090909121045p635e0115kfce3dcaa87fcbbce@mail.gmail.com>
References: <9c2015090909121045p635e0115kfce3dcaa87fcbbce@mail.gmail.com>
Message-ID: <eb502d880909121059t5c3a9f5bq47af5c08cbf3314e@mail.gmail.com>

Roger,

I would suggest you to try it with gdal-1.6.2 first.

If that fails, and if can provide a sample dataset that causes the
problem, submit a bug report at http://trac.osgeo.org/gdal/

As for finding the difference between the datasets, you can use the
ogrinfo utility to examine the data. You can get the details about
ogrinfo at http://www.gdal.org/ogrinfo.html and some examples of using
it on postgresql at http://www.gdal.org/ogr/drv_pg.html

On Sat, Sep 12, 2009 at 11:15 PM, Roger Andr? <randre@gmail.com> wrote:
> Hi All,
>
> I would like to understand the cause of the segmentation fault I am getting
> with gdal_rasterize.? I am using the borders of the state of Texas to "burn"
> the shape onto an image.? I have tried this with state borders from 2
> different data sets: one from ESRI, and one from the US Census.? The ESRI
> data consistently fails, but the Census one does not, which leads me to
> believe there is something fundamentally different between the geometry data
> in each of them.? I would like to identify what that is, in the hopes of
> preventing it from happening in the future when the data is used in an
> automated system.
>
> Both data sets of 50-state boundaries were loaded into PostGIS using the
> shp2pgsql command.? The outlines of Texas were extracted from the DB using
> the pgsql2shp command, and both resulting Texas data sets have a single
> feature in them.? gdal_rasterize is being sourced from gdal-1.5.2.
>
> Would it be possible to turn on some sort of debug mode without recompiling
> gdal?? If not, I see that there is an "--enable-debug" configure option, but
> could use a little advice on how to use it properly to track this down.? Any
> other thoughts on why the problem might be happening would be welcome as
> well.
>
> Thanks in advance for your assistance,
>
> Roger
> --
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
From belaid_moa at hotmail.com  Sat Sep 12 14:29:27 2009
From: belaid_moa at hotmail.com (Belaid MOA)
Date: Sat Sep 12 14:33:09 2009
Subject: [gdal-dev] pixel/line mapping for two images.
In-Reply-To: <eb502d880909120354h1fd17a0fw33cb3e3b65935f3d@mail.gmail.com>
References: <COL113-W320AFD5C944E2A63A2272CF4E60@phx.gbl>
	<eb502d880909120354h1fd17a0fw33cb3e3b65935f3d@mail.gmail.com>
Message-ID: <COL113-W472CC59B8975D7D3B958A9F4E60@phx.gbl>


Thanks for the reply. I do not see how anti-aliasing techniques could be used here. 

Does anyone else have simple answers to the two elementary questions?

Thanks a lot in advance.
 
With best regards.
~Belaid.

> Date: Sat, 12 Sep 2009 16:24:54 +0530
> Subject: Re: [gdal-dev] pixel/line mapping for two images.
> From: chaitanya.ch@gmail.com
> To: belaid_moa@hotmail.com
> CC: gdal-dev@lists.osgeo.org
> 
> Belaid,
> 
> GDAL uses various interpolation/resampling algorithms like nearest
> neighbour, bilinear, cubic, cubic spline and lanczos. However, I think
> these may not be what you are looking for.
> 
> Computing the overlap of pixels of two images should not be a complex
> process. You may find some ideas with anti-aliasing techniques.
> 
> On Sat, Sep 12, 2009 at 12:36 PM, Belaid MOA <belaid_moa@hotmail.com> wrote:
> > Hi everyone,
> >   I have two elementary questions about how GDAL maps the pixel/line of one
> > image to an other image.
> > Suppose we have two GeoTiff images with different spatial resolutions and
> > projections.
> > According to GDAL code, a pixel/line (i,j), more precisely its center
> > (i+0.5,j+0.5), of the first image is mapped to the pixel/line (p,q) of the
> > second image, where p and q are doubles that usually have fraction parts.
> > My questions are: what is the meaning for these fractions? Is it possible to
> > use these fractions to compute the overlap between
> > the pixels of the two images using GDAL?
> >
> >  Any help on this is very appreciated!
> >  Thank you very much in advance.
> >
> > ~Belaid.
> >
> >
> >
> >
> > ________________________________
> > Less clicking: Hotmail access on the new MSN homepage.
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.

_________________________________________________________________
New: Messenger sign-in on the MSN homepage
http://go.microsoft.com/?linkid=9677403
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090912/4902b2d4/attachment.html
From alsterg at gmail.com  Sun Sep 13 04:22:37 2009
From: alsterg at gmail.com (Alexandros Stergiakis)
Date: Sun Sep 13 04:15:23 2009
Subject: [gdal-dev] Tcl bindings for GDAL/OGR.
Message-ID: <4AACABCD.1070603@gmail.com>

Hello all,

It was about time for Tcl to have its own GDAL/OGR bindings.
That was the main objective of my GSoC2009 project this summer.

A patch against gdal-1.6.1 can be downloaded from here:
http://tcl-map.googlecode.com/files/gdal-1.6.1-tcl_bindings.diff
It introduces all the necessary changes to the source tree to support
Tcl along with the other languages. These bindings are also SWIG generated.

This code is already somehow tested. A demo Tcl application that renders
Raster/Vector GIS files on a Tkzinc canvas can be found here:
http://code.google.com/p/tcl-map/downloads/list
This application doesn't support much at the moment. It renders the most
commonly found Raster band types (no support though for:
"Palette" -  "Cyan" - "Magenta" - "Yellow" - "Black" - "YCbCr_Y" -
"YCbCr_Cb" - "YCbCr_Cr")
and only a few features types: Polygon, Polygon25D and MultiPolygon.

Right now the paths for Tcl include and lib dirs and other compile time
flags are hardcoded in the GNUmakefile (swig/tcl/GNUmakefile), but it
would be better to fix this at some point, so that Tcl's own m4 macros
are called from within GDAL's autoconf scripts to do the job.

alex

From yassefa at dmsolutions.ca  Mon Sep 14 12:08:32 2009
From: yassefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Mon Sep 14 12:16:29 2009
Subject: [gdal-dev] Join issues with ODBC
In-Reply-To: <1252623368.4aa98408e27b0@imp.free.fr>
References: <C6C0ECE5-DCAF-4B84-A1CB-F6D790E983C3@kyngchaos.com>
	<1252623368.4aa98408e27b0@imp.free.fr>
Message-ID: <4AAE6A80.7030408@dmsolutions.ca>

Hi all,

  I was trying to do an a join using a shape file as a primary table and 
an ODBC connection as the secondary table.


I encountered a couple of issues:

1- joining with a string field did not work

query looks something like this:

ogrinfo f:/msapps/test/parcels_sp.shp -sql "SELECT shp.APN2, 
mdb.prc_parcel_no  FROM parcels_sp shp LEFT JOIN 
'ODBC:SanCarlosHansen_mdb'.dbo_casemain mdb ON shp.APN2 = mdb.prc_parcel_no"

The resulting query string that is used as the attribute filter on the 
ODBC layer end up being : ... prc.parcel="the_value" ..
For some reason, using double quotes in the query would not work but 
using single quotes would return expected values.

2 - values of some fields seem to be "corrupted"

  Still using  a join, when an id exists in the first table but not in 
the 2nd table, some of the fields values returned on the resulting shape 
(fields that comes from the 2nd table) seem to be "corrupted" (instead 
of being set to null or properly initialized).

Here is an example of a result where csm_status (coming from the 2nd 
table) is incorrect.
 From what I can see, there might be a need to initialize the resulting 
fields when the joining returns "empty".
Note that this issue is not particular to ODBC, since I could replicate 
it with a DFB file used as a 2nd table

OGRFeature(shp):38
   APN (String) = 050081090
   APN2 (String) = 050 081 090
   AREA_SQ_FT (Real) =             7287
   AREA_ACRES (Real) =               0.17
   FIREHAZARD (String) = No
   ...
   csm_name_mi (String) = (null)
   csm_projname (String) = 38
   csm_recd_by (String) = POLYGON
   csm_recd_date (DateTime) = (null)
   csm_status (String) = POLYGON ((6049455.0897085527 
2008278.2315386848,6049547.8169212556 2008346.6708414906,6049556.03
41119012 2008335.0614490749,6049585.4742749501 
2008300.3358252922,6049496.2063308069 2008225.7139653133,6049455.08970855
27 2008278.2315386848,6049455.0897085527 2008278.2315386848))
   csm_frozen (String) = (null)
   csm_auto_cond (String) = (null)
   csm_updateby (String) = (null)
   csm_updated (DateTime) = (null)
   csm_projno (String) = (null)
   csm_mastno (String) = (null)
   csm_tracking_no (Integer) = (null)
   POLYGON ((6049455.0897085527 2008278.2315386848,6049547.8169212556 
2008346.6708414906,6049556.0341119012 2008335.06144
90749,6049585.4742749501 2008300.3358252922,6049496.2063308069 
2008225.7139653133,6049455.0897085527 2008278.2315386848,



  Did some one came across such issues. Note that I am working on 
Windows using gdal from svn.
I have attached simple patch used locally to correct/show the issues


Thanks


-- 
----------------------------------------------------------------
Assefa Yewondwossen
Software Analyst

Email: assefa@dmsolutions.ca
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------

-------------- next part --------------
Index: ogr_gensql.cpp
===================================================================
--- ogr_gensql.cpp	(revision 17611)
+++ ogr_gensql.cpp	(working copy)
@@ -666,7 +666,9 @@
 
           case OFTString:
             // the string really ought to be escaped. 
-            sprintf( szFilter+strlen(szFilter), "\"%s\"", 
+            //sprintf( szFilter+strlen(szFilter), "\"%s\"", 
+            //       psSrcField->String );
+            sprintf( szFilter+strlen(szFilter), "'%s'", 
                      psSrcField->String );
             break;
 
@@ -685,8 +687,25 @@
         poJoinFeature = poJoinLayer->GetNextFeature();
 
         if( poJoinFeature == NULL )
+        {
+            for( int iField = 0; iField < psSelectInfo->result_columns; iField++ )
+            {
+                swq_col_def *psColDef = psSelectInfo->column_defs + iField;
+                if( psColDef->table_index == psJoinInfo->secondary_table )
+                {
+                    switch (poJoinLayer->GetLayerDefn()->GetFieldDefn(psColDef->field_index)->GetType())   
+                    {
+                      case OFTString:
+                        poDstFeat->SetField( iField, NULL);
+                        break;
+
+                      default:
+                        break;
+                    }
+                }
+            }
             continue;
-
+        }
         // Copy over selected field values. 
         for( int iField = 0; iField < psSelectInfo->result_columns; iField++ )
         {
From apachemaven0 at gmail.com  Mon Sep 14 21:28:21 2009
From: apachemaven0 at gmail.com (maven apache)
Date: Mon Sep 14 21:28:24 2009
Subject: [gdal-dev] how to handle the hdf4 using gdal
Message-ID: <b6ae15040909141828t2dad35e6x8e70f15bb44a0822@mail.gmail.com>

Hi :
I want to handle some hdf4 data using gdal,and my goal is to get the
subdatasetname of one hdf4,and I know I can use the gdalinfo to get the
information,however what I get is just some plain text format as follows:
-------------------------
  WESTBOUNDINGCOORDINATE=94.0216705976118
  NORTHBOUNDINGCOORDINATE=58.2075179501186
  EASTBOUNDINGCOORDINATE=131.825225491885
  SOUTHBOUNDINGCOORDINATE=36.448663754723
  PROCESSINGENVIRONMENT=Linux minion5141 2.6.8.1-25mdksmp #1 SMP Tue May 31
09:52:06 MDT 2005 i686 IntelR PentiumR III CPU family      1133MHz unknown
 GNU/Linux
  DESCRREVISION=5.0
Subdatasets:

SUBDATASET_1_NAME=HDF4_EOS:EOS_SWATH:"D:\data\HDF\MYD29.A2009061.0520.005.2009062044632.hdf":MOD_Swath_Sea_Ice:Sea_Ice_by_Reflectance
  SUBDATASET_1_DESC=[2030x1354] Sea_Ice_by_Reflectance MOD_Swath_Sea_Ice
(8-bit unsigned integer)

SUBDATASET_2_NAME=HDF4_EOS:EOS_SWATH:"D:\data\HDF\MYD29.A2009061.0520.005.2009062044632.hdf":MOD_Swath_Sea_Ice:Sea_Ice_by_Reflectance_Pixel_QA
  SUBDATASET_2_DESC=[2030x1354] Sea_Ice_by_Reflectance_Pixel_QA
MOD_Swath_Sea_Ice (8-bit unsigned integer)

SUBDATASET_3_NAME=HDF4_EOS:EOS_SWATH:"D:\data\HDF\MYD29.A2009061.0520.005.2009062044632.hdf":MOD_Swath_Sea_Ice:Ice_Surface_Temperature
  SUBDATASET_3_DESC=[2030x1354] Ice_Surface_Temperature MOD_Swath_Sea_Ice
(16-bit unsigned integer)

SUBDATASET_4_NAME=HDF4_EOS:EOS_SWATH:"D:\data\HDF\MYD29.A2009061.0520.005.2009062044632.hdf":MOD_Swath_Sea_Ice:Ice_Surface_Temperature_Pixel_QA
  SUBDATASET_4_DESC=[2030x1354] Ice_Surface_Temperature_Pixel_QA
MOD_Swath_Sea_Ice (8-bit unsigned integer)
-------------------------------------------------------------------------------
So if I want to extract the subdataset name I should parser the text by
myself,
I wonder if there are some liberary can do it using its method(maybe like
this [getSubDataSetArrry()]).

BTW,I am using java,and I want to know how to install the gdal in the xp os?
Since I am using the gdal included in FWTools2.2.8,so I have to install the
FWTTools frist,I wonder if there is other easy way?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090915/5c38d81c/attachment.html
From spbhasker at gmail.com  Tue Sep 15 07:14:52 2009
From: spbhasker at gmail.com (spbhasker bachi)
Date: Tue Sep 15 07:15:15 2009
Subject: [gdal-dev] Thin Plate Spline Warping for Vectors : Problems
Message-ID: <2b5309940909150414u3b321c14v2f8272fde4d0f009@mail.gmail.com>

http://osdir.com/ml/gis.gdal.devel/2005-07/msg00007.html

Hi..

Used the code from the above Link and Generated the Output using TPS.

The Output Data generated is Coming in a Straight Line..


All my Data is getting skewed up and coming in a straight Line..

Can anyone help me out


Bhasker
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090915/4bd4fe24/attachment.html
From chaitanya.ch at gmail.com  Tue Sep 15 07:18:33 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Sep 15 07:18:34 2009
Subject: [gdal-dev] Thin Plate Spline Warping for Vectors : Problems
In-Reply-To: <2b5309940909150414u3b321c14v2f8272fde4d0f009@mail.gmail.com>
References: <2b5309940909150414u3b321c14v2f8272fde4d0f009@mail.gmail.com>
Message-ID: <eb502d880909150418w3e1e09c2s71578a77663c08a6@mail.gmail.com>

Bhaskar,

Some sample data would come in handy.

On Tue, Sep 15, 2009 at 4:44 PM, spbhasker bachi <spbhasker@gmail.com> wrote:
> http://osdir.com/ml/gis.gdal.devel/2005-07/msg00007.html
>
> Hi..
>
> Used the code from the above Link and Generated the Output using TPS.
>
> The Output Data generated is Coming in a Straight Line..
>
>
> All my Data is getting skewed up and coming in a straight Line..
>
> Can anyone help me out
>
>
> Bhasker
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

-- 
Best regards,
Chaitanya kumar CH.
From jukka.rahkonen at mmmtike.fi  Tue Sep 15 16:43:41 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Sep 15 16:44:06 2009
Subject: [gdal-dev] Spatialite oddness
Message-ID: <loom.20090915T221756-11@post.gmane.org>

Hi,

I made some trials with Spatialite and faced some problems.
My environment:
Windows Vista Business
Spatialite-GUI v.1.2.1 with Spatialite 2.3.1 inside
GDAL 1.7.0dev, FWTools 2.4.2, released 2009/06/24

Oddness is that ogr does not recognise Spatialite database that is 
created with Spatialite-GUI. Or it does, initially after the 
database is created but still without data:
C:\data\Vmap0>ogrinfo bordersdb.sqlite
INFO: Open of `bordersdb.sqlite'
      using driver `SQLite' successful.

However, once I have inported a shapefile into this database 
with Spatialite-GUI Load shapefile tool it is no more recognised:
C:\data\Vmap0>ogrinfo bordersdb.sqlite
ERROR 1: Unable to fetch list of tables: unsupported file format
ERROR 1: Unable to fetch list of tables: unsupported file format
FAILURE:
Unable to open datasource `bordersdb.sqlite' with the following drivers.

QGis version 1.3.0 build 11628 open this same Spatialite db without
problems.

I tried also to create a Spatialite database with ogr2ogr from the same
shapefile as:
C:\data\Vmap0>ogr2ogr -f SQLite sqlite4.sqlite borders.shp
 -dsco spatialite=yes

This database is opened by all three: ogr, Spatialite-GUI and QGis.

Is the Spatialite driver that comes with FWtools 2.4.2 outdated
or what is going on?

By the way, there is quite a difference in file sizes if the same 
shapefile is imported either by Spatialite-GUI or ogr2ogr:

15.09.2009  20:08           642?048 Spatialite-GUI_borders.sqlite
15.09.2009  20:15            55?296 FWTools_borders.sqlite


-Jukka Rahkonen-


From ivan.lucena at pmldnet.com  Tue Sep 15 18:50:06 2009
From: ivan.lucena at pmldnet.com (Ivan)
Date: Tue Sep 15 18:50:10 2009
Subject: [gdal-dev] Oracle plugins ready for download
Message-ID: <4AB01A1E.9000807@pmldnet.com>

Hi there,

Binary packages are available at:

http://download.osgeo.org/gdal/win32/1.6/gdalwin32geor160.zip
http://download.osgeo.org/gdal/win32/1.6/gdalwin32oci160.zip

Best regards,

Ivan


From dpbiswas at gmail.com  Wed Sep 16 00:03:27 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Wed Sep 16 00:03:29 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909152103o39a4c070m@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-39b004fcba-33ed3cafffdedc2a
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-39b004fcba-33ed3cafffdedc2a

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From dpbiswas at gmail.com  Wed Sep 16 00:09:37 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Wed Sep 16 00:09:40 2009
Subject: [gdal-dev] suggestion
Message-ID: <23ef349a0909152109i4448ba85sa7549c9d10a9b2bd@mail.gmail.com>

Dear sir,
          I want to open simple geotiff raster image with Lat/Long/Altitude
information.I also read all the gdal libraries but I donot able to open the
.tiff image ,If any solution then reply.

I will be grateful for your suggestions
Thanks in anticipation.

 With Regards,
Dipa Biswas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090916/4f5d2891/attachment.html
From peifer at gmx.eu  Wed Sep 16 04:41:29 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed Sep 16 04:42:01 2009
Subject: [gdal-dev] How to improve gdal_rasterize perfomance?
Message-ID: <h8q8bp$1o9$1@ger.gmane.org>

Hi,

Are there any hints from the experts about how to improve gdal_rasterize 
perfomance?

My specific case is to rasterize a 1+GB shapefile into a 26800 x 23200 
GeoTiff. Are there some memory settings or GeoTiff creation options that 
could speed up the rasterization?

Any hint is welcome, Hermann

From icephase26 at gmail.com  Wed Sep 16 05:59:19 2009
From: icephase26 at gmail.com (Florian Mueller)
Date: Wed Sep 16 05:59:22 2009
Subject: [gdal-dev] suggestion
In-Reply-To: <23ef349a0909152109i4448ba85sa7549c9d10a9b2bd@mail.gmail.com>
References: <23ef349a0909152109i4448ba85sa7549c9d10a9b2bd@mail.gmail.com>
Message-ID: <440349050909160259h5b1baf79s6d5c8757e3a4479a@mail.gmail.com>

Hi,

Depending on your experience level with geospatial software I would
suggest starting with

1.) QGIS,  www.qgis.org
Nice for looking into raster data with some fancy functions, useable
for beginners as well

2.) GDAL API tutorial, http://www.gdal.org/gdal_tutorial.html
If you want to dive into programming using the GDAL lib, requires some
software development experience

Cheers,
Florian

http://www.gdal.org/gdal_tutorial.html

On Wed, Sep 16, 2009 at 6:09 AM, DIPA BISWAS <dpbiswas@gmail.com> wrote:
> Dear sir,
> ????????? I want to open simple geotiff raster image with Lat/Long/Altitude
> information.I also read all the gdal libraries but I donot able to open the
> .tiff image ,If any solution then reply.
> I will be grateful for your suggestions
> Thanks in anticipation.
>
> ?With Regards,
> Dipa Biswas
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
--
Florian Mueller
Remote Sensing, Snow & Ice, Meteorology, IT

Innsbruck, Austria
ICQ: 455740874
Skype:  icephase26
From warmerdam at pobox.com  Wed Sep 16 09:42:50 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Sep 16 09:43:06 2009
Subject: [gdal-dev] How to improve gdal_rasterize perfomance?
In-Reply-To: <h8q8bp$1o9$1@ger.gmane.org>
References: <h8q8bp$1o9$1@ger.gmane.org>
Message-ID: <4AB0EB5A.5060107@pobox.com>

Hermann Peifer wrote:
> Hi,
> 
> Are there any hints from the experts about how to improve gdal_rasterize 
> perfomance?
> 
> My specific case is to rasterize a 1+GB shapefile into a 26800 x 23200 
> GeoTiff. Are there some memory settings or GeoTiff creation options that 
> could speed up the rasterization?

Hermann,

This sounds like a heap of processing that needs to be done.

You can increase the chunk size on which gdal_rasterize operates by
increasing the GDAL_CACHEMAX config option.  I would suggest sizing
it to be roughly 1/3 of your machine RAM.

eg.

gdal_rasterize --config GDAL_CACHEMAX 600 ...

would be appropriate on a machine with 2GB of RAM.

Beyond that I can't think of much that might help.  The above basically
reduces the number of passes needed through the vector data.  It is all
processed once for each chunk of the raster that is processed.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From gregcoats at mac.com  Wed Sep 16 10:55:15 2009
From: gregcoats at mac.com (Greg Coats)
Date: Wed Sep 16 10:55:20 2009
Subject: [gdal-dev] How to improve gdal_rasterize perfomance?
In-Reply-To: <4AB0EB5A.5060107@pobox.com>
References: <h8q8bp$1o9$1@ger.gmane.org> <4AB0EB5A.5060107@pobox.com>
Message-ID: <E3230CB2-CB80-4A98-AFAE-EA302E18381C@mac.com>

I support Frank's suggestion, and note that it is my understanding  
that when the user does not specify a value for --config  
GDAL_CACHEMAX, then the default of (only) 40 MB is used.

In January 2009, working with GDAL version 1.6.0, I did some testing  
and documenting of the effect of GDAL_CACHEMAX. Using as input an  
uncompressed GeoTif 15,000 x 15,000 x 3 = 675 MB, organized into 1024  
x 1024 tiles, I found that using gdal_translate to convert this  
GeoTif to a GeoJP2 with the default --config GDAL_CACHEMAX 40 took  
10473 sec (= 175 minutes), but after increasing GDAL_CACHEMAX by only  
12.5% to --config GDAL_CACHEMAX 45 the processing took only 166 sec  
(= 2.7 minutes), which is 63 times faster!
Greg

GDAL 1.6.0, released 2008/12/04
Input GeoTif 15,000 x 15,000 x 3 = 675 MB
gdal_translate -of JP2KAK -co QUALITY=10 --config GDAL_CACHEMAX
0040  10473.14 sec
0041  10326.75 sec
0042  10492.85 sec
0043   7081.57 sec
0044   3503.33 sec
0045    166.23 sec
0050    166.31 sec
0055    165.89 sec
0060    165.78 sec
0080    165.48 sec
0100    166.53 sec
0125    165.59 sec
0150    165.72 sec
0200    165.65 sec

On Sep 16, 2009, at 9:42 AM, Frank Warmerdam wrote:

> Hermann Peifer wrote:
>> Hi,
>> Are there any hints from the experts about how to improve  
>> gdal_rasterize perfomance?
>> My specific case is to rasterize a 1+GB shapefile into a 26800 x  
>> 23200 GeoTiff. Are there some memory settings or GeoTiff creation  
>> options that could speed up the rasterization?
>
> Hermann,
>
> This sounds like a heap of processing that needs to be done.
>
> You can increase the chunk size on which gdal_rasterize operates by
> increasing the GDAL_CACHEMAX config option.  I would suggest sizing
> it to be roughly 1/3 of your machine RAM.
>
> eg.
>
> gdal_rasterize --config GDAL_CACHEMAX 600 ...
>
> would be appropriate on a machine with 2GB of RAM.
>
> Beyond that I can't think of much that might help.  The above  
> basically
> reduces the number of passes needed through the vector data.  It is  
> all
> processed once for each chunk of the raster that is processed.
>
> Best regards,

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090916/e7ec1ca4/attachment-0001.html
From Chris.Barker at noaa.gov  Wed Sep 16 13:03:04 2009
From: Chris.Barker at noaa.gov (Chris.Barker@noaa.gov)
Date: Wed Sep 16 13:03:06 2009
Subject: [gdal-dev] Recent Windows binaries?
Message-ID: <eca2395a499c4842.4ab0b7d8@noaa.gov>

Are there Windows binaries of 1.6.1 anywhere?

http://download.osgeo.org/gdal/win32/1.6/

seems to have only 1.6.0, and the FWtools and Geoinformatica packages 
don't seem to be set up for  use with the Python bindings on PyPi. I 
also can't tell  what version they have anyway!

Thanks,
-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From Chris.Barker at noaa.gov  Wed Sep 16 12:58:31 2009
From: Chris.Barker at noaa.gov (Chris.Barker@noaa.gov)
Date: Wed Sep 16 13:03:36 2009
Subject: [gdal-dev] pixel/line mapping for two images.
Message-ID: <8b94213c277f51d0.4ab0b6c7@noaa.gov>

Belaid MOA wrote:
> Thanks for the reply. I do not see how anti-aliasing techniques could be 
> used here.

anti-aliasing when warping rasters requires computing how much the 
pixels of the source and destination overlap each-other.

> Does anyone else have simple answers to the two elementary questions?

sure:

>  > > According to GDAL code, a pixel/line (i,j), more precisely its center
>  > > (i+0.5,j+0.5), of the first image is mapped to the pixel/line (p,q) 
> of the
>  > > second image, where p and q are doubles that usually have fraction 
> parts.
>  > > My questions are: what is the meaning for these fractions?

the point in the middle of a pixel in the source raster represents a 
particular lat-long location -- p and q are the location in the second 
image for  the same lat-long -- chances are slim that it's going to land 
exactly on a pixel boundary, hence the fraction. Just like the middle of 
the source pixel is i+0.5, j+0.5, the middle of a destination pixel 
would be p+0.5, q+0.5.

 > Is it  possible to use these fractions to compute the overlap between
> the pixels of the two images using GDAL?

yup -- think about the above, and do a little arithmatic (which i s the 
arithmetic done in the anti-aliasing code.

HTH,

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From belaid_moa at hotmail.com  Wed Sep 16 15:39:20 2009
From: belaid_moa at hotmail.com (Belaid MOA)
Date: Wed Sep 16 15:39:24 2009
Subject: [gdal-dev] pixel/line mapping for two images.
In-Reply-To: <8b94213c277f51d0.4ab0b6c7@noaa.gov>
References: <8b94213c277f51d0.4ab0b6c7@noaa.gov>
Message-ID: <COL113-W653312FD8CA635B2055DF4F4E20@phx.gbl>



Thank you very much very much Chris for clarifying things. Could you please let me know which file contains the anti-aliasing code?
I did the arithmetic to compute the overlap but somehow I keep getting non-smooth areas 
(areas with very sharp boundaries). The spatial resolution of the source image is so high that the source pixel is never 
shared between two pixels in the destination image (according to my arithmetic ). Is this suppose to be the case? 
The anti-aliasing code will help me to check my arithmetic. 

With best regards.
Belaid Moa.

 

> Date: Wed, 16 Sep 2009 09:58:31 -0700
> From: Chris.Barker@noaa.gov
> Subject: Re: [gdal-dev] pixel/line mapping for two images.
> To: belaid_moa@hotmail.com; gdal-dev@lists.osgeo.org
> 
> Belaid MOA wrote:
> > Thanks for the reply. I do not see how anti-aliasing techniques could be 
> > used here.
> 
> anti-aliasing when warping rasters requires computing how much the 
> pixels of the source and destination overlap each-other.
> 
> > Does anyone else have simple answers to the two elementary questions?
> 
> sure:
> 
> >  > > According to GDAL code, a pixel/line (i,j), more precisely its center
> >  > > (i+0.5,j+0.5), of the first image is mapped to the pixel/line (p,q) 
> > of the
> >  > > second image, where p and q are doubles that usually have fraction 
> > parts.
> >  > > My questions are: what is the meaning for these fractions?
> 
> the point in the middle of a pixel in the source raster represents a 
> particular lat-long location -- p and q are the location in the second 
> image for  the same lat-long -- chances are slim that it's going to land 
> exactly on a pixel boundary, hence the fraction. Just like the middle of 
> the source pixel is i+0.5, j+0.5, the middle of a destination pixel 
> would be p+0.5, q+0.5.
> 
>  > Is it  possible to use these fractions to compute the overlap between
> > the pixels of the two images using GDAL?
> 
> yup -- think about the above, and do a little arithmatic (which i s the 
> arithmetic done in the anti-aliasing code.
> 
> HTH,
> 
> -Chris
> 
> 
> 
> -- 
> Christopher Barker, Ph.D.
> Oceanographer
> 
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
> 
> Chris.Barker@noaa.gov
> 

_________________________________________________________________
New! Faster Messenger access on the new MSN homepage
http://go.microsoft.com/?linkid=9677406
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090916/3e05b2b1/attachment.html
From szekerest at gmail.com  Wed Sep 16 16:11:23 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Sep 16 16:11:26 2009
Subject: [gdal-dev] Recent Windows binaries?
In-Reply-To: <eca2395a499c4842.4ab0b7d8@noaa.gov>
References: <eca2395a499c4842.4ab0b7d8@noaa.gov>
Message-ID: <f3b73b7d0909161311x37cfcfaoed0c656b62770210@mail.gmail.com>

Chris,

You may get the most recent versions compiled daily from the development and
stable branches from this location
http://vbkto.dyndns.org:1280/sdk/

BTW: We are at GDAL 1.6.2, released 2009/07/31 with the most recent version.

Best regards,

Tamas



2009/9/16 <Chris.Barker@noaa.gov>

> Are there Windows binaries of 1.6.1 anywhere?
>
> http://download.osgeo.org/gdal/win32/1.6/
>
> seems to have only 1.6.0, and the FWtools and Geoinformatica packages
> don't seem to be set up for  use with the Python bindings on PyPi. I
> also can't tell  what version they have anyway!
>
> Thanks,
> -Chris
>
>
>
> --
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker@noaa.gov
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090916/a3603e28/attachment.html
From belaid_moa at hotmail.com  Thu Sep 17 02:32:00 2009
From: belaid_moa at hotmail.com (Belaid MOA)
Date: Thu Sep 17 02:32:09 2009
Subject: [gdal-dev] pixel/line mapping for two images.
In-Reply-To: <COL113-W653312FD8CA635B2055DF4F4E20@phx.gbl>
References: <8b94213c277f51d0.4ab0b6c7@noaa.gov>
	<COL113-W653312FD8CA635B2055DF4F4E20@phx.gbl> 
Message-ID: <COL113-W53DE536D274FC47BEC0F71F4E10@phx.gbl>








Sorry to bother you guys again. This is just to give a little more details about my arithmetic and what I use it for.

I wrote a GDAL C++ code that solves the following simple problem: 
take two images, a source image with spatial resolution 25mx25m (high resolution) and a destination image with spatial resolution 10000mx10000m (low resolution) and scale the source image so that the values of the pixels in the source image that are mapped to the same pixel P in the destination image sum up to the value of P. As a side note, the two images have different projections. 

Briefly, the arithmetic that computes the overlap is:  

Given the pixel (i,j) in the source image, I take the center (i+0.5,j+0.5) and mapping it to (p+f,q+r) in the destination image, 
where p and q are integers and f and r are fractions between 0 and 1.

To keep my email short, I will only deal with the X direction. The Y direction is handled similarly. 

Let SrcXRes be the spatial resolution in the X direction for the source image 
and DstXRes the spatial resolution in the X direction for the destination image.
(For the images I am using SrcXRes is 25m and DstXRes is 10000m.)

Then, I use the number f + 1/2*(SrcXRes/DstXRes) and f -  1/2*(SrcXRes/DstXRes) to decide whether the pixel
is inside or outside the destination pixel and compute the fraction that's inside accordingly.
For example, if f + 1/2*(SrcXRes/DstXRes) is greater than 1.0, then the fraction of the source pixel that's inside is:

(1-f+ 1/2*(SrcXRes/DstXRes))/(SrcXRes/DstXRes)

The other cases are handled similarly.

As a side note, the reason for computing the fraction that's inside is that it simplifies a lot my arithmetic and thus my code.

 As you can see, the ratio 1/2*(SrcXRes/DstXRes) is so small that I do not get smooth image (image with clear blocks of 10kmx10km rotated because of the projections difference). When I increase this ratio (just for testing), I get smooth image.

Am I doing something wrong in my arithmetic? Should I apply an average filter to smoothen the image? 
Any other ideas or thoughts on how to proceed are very appreciated.

Thank you all in advance.

~Belaid.




 


From: belaid_moa@hotmail.com
To: chris.barker@noaa.gov; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] pixel/line mapping for two images.
Date: Wed, 16 Sep 2009 19:39:20 +0000
CC: 









Thank you very much very much Chris for clarifying things. Could you please let me know which file contains the anti-aliasing code?
I did the arithmetic to compute the overlap but somehow I keep getting non-smooth areas 
(areas with very sharp boundaries). The spatial resolution of the source image is so high that the source pixel is never 
shared between two pixels in the destination image (according to my arithmetic ). Is this suppose to be the case? 
The anti-aliasing code will help me to check my arithmetic. 

With best regards.
Belaid Moa.

 

> Date: Wed, 16 Sep 2009 09:58:31 -0700
> From: Chris.Barker@noaa.gov
> Subject: Re: [gdal-dev] pixel/line mapping for two images.
> To: belaid_moa@hotmail.com; gdal-dev@lists.osgeo.org
> 
> Belaid MOA wrote:
> > Thanks for the reply. I do not see how anti-aliasing techniques could be 
> > used here.
> 
> anti-aliasing when warping rasters requires computing how much the 
> pixels of the source and destination overlap each-other.
> 
> > Does anyone else have simple answers to the two elementary questions?
> 
> sure:
> 
> >  > > According to GDAL code, a pixel/line (i,j), more precisely its center
> >  > > (i+0.5,j+0.5), of the first image is mapped to the pixel/line (p,q) 
> > of the
> >  > > second image, where p and q are doubles that usually have fraction 
> > parts.
> >  > > My questions are: what is the meaning for these fractions?
> 
> the point in the middle of a pixel in the source raster represents a 
> particular lat-long location -- p and q are the location in the second 
> image for  the same lat-long -- chances are slim that it's going to land 
> exactly on a pixel boundary, hence the fraction. Just like the middle of 
> the source pixel is i+0.5, j+0.5, the middle of a destination pixel 
> would be p+0.5, q+0.5.
> 
>  > Is it  possible to use these fractions to compute the overlap between
> > the pixels of the two images using GDAL?
> 
> yup -- think about the above, and do a little arithmatic (which i s the 
> arithmetic done in the anti-aliasing code.
> 
> HTH,
> 
> -Chris
> 
> 
> 
> -- 
> Christopher Barker, Ph.D.
> Oceanographer
> 
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
> 
> Chris.Barker@noaa.gov
> 

New! Hotmail sign-in on the MSN homepage.
_________________________________________________________________
New: Messenger sign-in on the MSN homepage
http://go.microsoft.com/?linkid=9677403
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090917/44969d5c/attachment-0001.html
From peifer at gmx.eu  Thu Sep 17 04:31:36 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Thu Sep 17 04:31:29 2009
Subject: [gdal-dev] How to improve gdal_rasterize perfomance?
In-Reply-To: <4AB0EB5A.5060107@pobox.com>
References: <h8q8bp$1o9$1@ger.gmane.org> <4AB0EB5A.5060107@pobox.com>
Message-ID: <4AB1F3E8.7010603@gmx.eu>

Frank Warmerdam wrote:
> This sounds like a heap of processing that needs to be done.
>
> You can increase the chunk size on which gdal_rasterize operates by
> increasing the GDAL_CACHEMAX config option.  I would suggest sizing
> it to be roughly 1/3 of your machine RAM.
>
> eg.
>
> gdal_rasterize --config GDAL_CACHEMAX 600 ...
>
> would be appropriate on a machine with 2GB of RAM.
>
> Beyond that I can't think of much that might help.  The above basically
> reduces the number of passes needed through the vector data.  It is all
> processed once for each chunk of the raster that is processed.

Thanks.

Could the performance be improved by optimizing my blank tif: e.g. 
compressed or not, tiled or not?

Hermann
From warmerdam at pobox.com  Thu Sep 17 06:02:12 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep 17 06:02:14 2009
Subject: [gdal-dev] How to improve gdal_rasterize perfomance?
In-Reply-To: <4AB1F3E8.7010603@gmx.eu>
References: <h8q8bp$1o9$1@ger.gmane.org> <4AB0EB5A.5060107@pobox.com>
	<4AB1F3E8.7010603@gmx.eu>
Message-ID: <4AB20924.9050809@pobox.com>

Hermann Peifer wrote:
> Frank Warmerdam wrote:
>> This sounds like a heap of processing that needs to be done.
>>
>> You can increase the chunk size on which gdal_rasterize operates by
>> increasing the GDAL_CACHEMAX config option.  I would suggest sizing
>> it to be roughly 1/3 of your machine RAM.
>>
>> eg.
>>
>> gdal_rasterize --config GDAL_CACHEMAX 600 ...
>>
>> would be appropriate on a machine with 2GB of RAM.
>>
>> Beyond that I can't think of much that might help.  The above basically
>> reduces the number of passes needed through the vector data.  It is all
>> processed once for each chunk of the raster that is processed.
> 
> Thanks.
> 
> Could the performance be improved by optimizing my blank tif: e.g. 
> compressed or not, tiled or not?

Hermann,

Uncompressed will help a bit perhaps, but there is only one pass made
over the raster, and in large chunks, so it won't make much difference.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dpbiswas at gmail.com  Thu Sep 17 06:51:15 2009
From: dpbiswas at gmail.com (DIPA BISWAS)
Date: Thu Sep 17 06:51:17 2009
Subject: [gdal-dev] DIPA BISWAS wants to chat
Message-ID: <23ef349a0909170351l15e383e3i@mail.gmail.com>

-----------------------------------------------------------------------

DIPA BISWAS wants to stay in better touch using some of Google's coolest new
products.

If you already have Gmail or Google Talk, visit:
http://mail.google.com/mail/b-1111737570-9bed6926fd-655bc167fb201c3d
You'll need to click this link to be able to chat with DIPA BISWAS.

To get Gmail - a free email account from Google with over 2,800 megabytes of
storage - and chat with DIPA BISWAS, visit:
http://mail.google.com/mail/a-1111737570-9bed6926fd-655bc167fb201c3d

Gmail offers:
- Instant messaging right inside Gmail
- Powerful spam protection
- Built-in search for finding your messages and a helpful way of organizing
  emails into "conversations"
- No pop-up ads or untargeted banners - just text ads and related information
  that are relevant to the content of your messages

All this, and its yours for free. But wait, there's more! By opening a Gmail
account, you also get access to Google Talk, Google's instant messaging
service:

http://www.google.com/talk/

Google Talk offers:
- Web-based chat that you can use anywhere, without a download
- A contact list that's synchronized with your Gmail account
- Free, high quality PC-to-PC voice calls when you download the Google Talk
  client

We're working hard to add new features and make improvements, so we might also
ask for your comments and suggestions periodically. We appreciate your help in
making our products even better!

Thanks,
The Google Team

To learn more about Gmail and Google Talk, visit:
http://mail.google.com/mail/help/about.html
http://www.google.com/talk/about.html

(If clicking the URLs in this message does not work, copy and paste them into
the address bar of your browser).
From sharukan at mail.ru  Thu Sep 17 07:44:41 2009
From: sharukan at mail.ru (alex)
Date: Thu Sep 17 08:02:02 2009
Subject: [gdal-dev] GDALGetProjectionRef(...) problem on filetype JPEG and
	BMP
Message-ID: <E1MoFPl-0001PW-00.sharukan-mail-ru@f151.mail.ru>

  Good day.
  I encountered the following problem using GDAL. GDALGetProjectionRef(...) works with file formats TIF, but JPG and BMP returns an empty string.

  Used as:
  There have been downloaded sources from http://download.osgeo.org/gdal/gdal162.zip
Sources was built using Visual Studio 2005, the utility nmake, using the command line interface.
  Then was opened raster map file with format MapInfo by my program. MapInfo file was created by using the export map function of the MapInfo program. 

  I used the C API library GDAL. In the body of the program:

GDALDatasetH pDataset = GDALOpen("map_filename", GA_ReadOnly);

  and

GDALGetGeoTransform(...) and GDALRasterIO(...)

  Then I opened the map file and exported part of it to coordinatesof I needed.
  It worked with the map file format map_filename.tif + map_filename.tab, map_filename.jpg + map_filename.tab,map_filename.bmp + map_filename.tab.
	
  Then I could to get access to the map coordinates in the format .TIF using the function:

GDALGetProjectionRef(pDataset) 

  which returned the projection maps of the form <wkt format projection string>, as was intended.

  But when opening files type .JPG and .BMP 

GDALGetProjectionRef (pDataset)

  returns an empty string "".
  I think that the library is somehow obtains a coordinate system maps, because 
GDALGetGeoTransform (...) work.

  Please specify how i can get a system of map coordinates for these files are JPG and BMP and import it into an object of class OGRSpatialReference. 
	
  I apologize for my poor language skills.
  Thank you.


From ivan.lucena at pmldnet.com  Thu Sep 17 08:21:57 2009
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan?=)
Date: Thu Sep 17 08:21:59 2009
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gR0RBTEdldFByb2plY3Rpb25SZWYoLi4uKSBwcm9ibGVtIG9uIGZpbGV0eXBlIEpQRUcgYW5kIEJNUA==?=
Message-ID: <20090917122157.6286.qmail@s466.sureserver.com>

Alex,

There is nothing wrong with that. If you gdal_translate a TIF to BMP the projection/reference will be stored on a 
.bmp.aux.xml. The question is, why in the process of creating those BMP and JPG the auxiliary files are not been 
created.

Regards,

Ivan


>  -------Original Message-------
>  From: alex <sharukan@mail.ru>
>  Subject: [gdal-dev] GDALGetProjectionRef(...) problem on filetype JPEG and BMP
>  Sent: Sep 17 '09 06:44
>  
>  ??Good day.
>  ??I encountered the following problem using GDAL. GDALGetProjectionRef(...) works with file formats TIF, but 
JPG and BMP returns an empty string.
>  
>  ??Used as:
>  ??There have been downloaded sources from http://download.osgeo.org/gdal/gdal162.zip
>  Sources was built using Visual Studio 2005, the utility nmake, using the command line interface.
>  ??Then was opened raster map file with format MapInfo by my program. MapInfo file was created by using the 
export map function of the MapInfo program.
>  
>  ??I used the C API library GDAL. In the body of the program:
>  
>  GDALDatasetH pDataset = GDALOpen("map_filename", GA_ReadOnly);
>  
>  ??and
>  
>  GDALGetGeoTransform(...) and GDALRasterIO(...)
>  
>  ??Then I opened the map file and exported part of it to coordinatesof I needed.
>  ??It worked with the map file format map_filename.tif + map_filename.tab, map_filename.jpg + 
map_filename.tab,map_filename.bmp + map_filename.tab.
>  
>  ??Then I could to get access to the map coordinates in the format .TIF using the function:
>  
>  GDALGetProjectionRef(pDataset)
>  
>  ??which returned the projection maps of the form <wkt format projection string>, as was intended.
>  
>  ??But when opening files type .JPG and .BMP
>  
>  GDALGetProjectionRef (pDataset)
>  
>  ??returns an empty string "".
>  ??I think that the library is somehow obtains a coordinate system maps, because
>  GDALGetGeoTransform (...) work.
>  
>  ??Please specify how i can get a system of map coordinates for these files are JPG and BMP and import it into an 
object of class OGRSpatialReference.
>  
>  ??I apologize for my poor language skills.
>  ??Thank you.
>  
>  
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From daniele.romagnoli at geo-solutions.it  Thu Sep 17 08:26:34 2009
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Thu Sep 17 08:26:37 2009
Subject: [gdal-dev] GDALGetProjectionRef(...) problem on filetype JPEG and
	BMP
In-Reply-To: <E1MoFPl-0001PW-00.sharukan-mail-ru@f151.mail.ru>
References: <E1MoFPl-0001PW-00.sharukan-mail-ru@f151.mail.ru>
Message-ID: <7221db410909170526u4af544d9lcde7af62cd3d33a7@mail.gmail.com>

Hi Alex,
How your TIF and BMP files are generated?
Are you writing them by yourself from an input image?
In that case, make sure to create a samenamefile.jpg.aux.xml file containing
a <PAMDataset> tag with the <SRS> definition on it.
Try using gdal_translate -of JPEG mytiff.tif myjpeg.jpg to see how that
aux.xml should be formed.

Regards,
Daniele


2009/9/17 alex <sharukan@mail.ru>

>  Good day.
>  I encountered the following problem using GDAL. GDALGetProjectionRef(...)
> works with file formats TIF, but JPG and BMP returns an empty string.
>
>  Used as:
>  There have been downloaded sources from
> http://download.osgeo.org/gdal/gdal162.zip
> Sources was built using Visual Studio 2005, the utility nmake, using the
> command line interface.
>  Then was opened raster map file with format MapInfo by my program. MapInfo
> file was created by using the export map function of the MapInfo program.
>
>  I used the C API library GDAL. In the body of the program:
>
> GDALDatasetH pDataset = GDALOpen("map_filename", GA_ReadOnly);
>
>  and
>
> GDALGetGeoTransform(...) and GDALRasterIO(...)
>
>  Then I opened the map file and exported part of it to coordinatesof I
> needed.
>  It worked with the map file format map_filename.tif + map_filename.tab,
> map_filename.jpg + map_filename.tab,map_filename.bmp + map_filename.tab.
>
>  Then I could to get access to the map coordinates in the format .TIF using
> the function:
>
> GDALGetProjectionRef(pDataset)
>
>  which returned the projection maps of the form <wkt format projection
> string>, as was intended.
>
>  But when opening files type .JPG and .BMP
>
> GDALGetProjectionRef (pDataset)
>
>  returns an empty string "".
>  I think that the library is somehow obtains a coordinate system maps,
> because
> GDALGetGeoTransform (...) work.
>
>  Please specify how i can get a system of map coordinates for these files
> are JPG and BMP and import it into an object of class OGRSpatialReference.
>
>  I apologize for my poor language skills.
>  Thank you.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090917/868540b3/attachment.html
From yilmaz.arslanoglu at gmail.com  Thu Sep 17 09:05:57 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Thu Sep 17 09:06:00 2009
Subject: [gdal-dev] simple listing of layers by OGR
In-Reply-To: <150158ad0909170558w3fcdc644i228b560dbdfa33d8@mail.gmail.com>
References: <150158ad0909170558w3fcdc644i228b560dbdfa33d8@mail.gmail.com>
Message-ID: <150158ad0909170605i570eecb0ifa8e640682951f20@mail.gmail.com>

Hello everybody;

First of all, I would like to say that I am quite new in S-57 format
and GDAL/OGR libraries.

As a starting point, I downloaded the source codes and built the whole
GDAL library on my computer,
using the "nmake" of Visual Studio 2008.

Now:

poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
for (int i = 0; i < poDS->GetLayerCount(); i++)
? printf("layer %d: %s\n", i, poDS->GetLayer(i)->GetLayerDefn()->GetName());

When I try to list the layer names of a datasource with the code snippet above,
I get the following result:

layer 0: DSID
layer 1: Point
layer 2: Line
layer 3: Area
layer 4: Meta

However, the utility application "ogrinfo" gives a quite different
result as follows:
(when run with command ?"ogrinfo US5LA24M.000" )

1: DSID (None)
2: ACHARE
3: BCNLAT (Point)
4: BCNSPP (Point)
5: BUISGL
...
...
...
49: M_QUAL (Polygon)
50: C_ASSO (None)

I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
directory, however,
I could not find a difference in terms of listing the layers in the dataset.

What could be the problem, is there a point that I'm missing?
From yilmaz.arslanoglu at gmail.com  Thu Sep 17 08:58:23 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Thu Sep 17 09:06:12 2009
Subject: [gdal-dev] simple listing of layers by OGR
Message-ID: <150158ad0909170558w3fcdc644i228b560dbdfa33d8@mail.gmail.com>

Hello everybody;

First of all, I would like to say that I am quite new in S-57 format
and GDAL/OGR libraries.

As a starting point, I downloaded the source codes and built the whole
GDAL library on my computer,
using the "nmake" of Visual Studio 2008.

Now:

poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
for (int i = 0; i < poDS->GetLayerCount(); i++)
   printf("layer %d: %s\n", i, poDS->GetLayer(i)->GetLayerDefn()->GetName());

When I try to list the layer names of a datasource with the code snippet above,
I get the following result:

layer 0: DSID
layer 1: Point
layer 2: Line
layer 3: Area
layer 4: Meta

However, the utility application "ogrinfo" gives a quite different
result as follows:
(when run with command  "ogrinfo US5LA24M.000" )

1: DSID (None)
2: ACHARE
3: BCNLAT (Point)
4: BCNSPP (Point)
5: BUISGL
...
...
...
49: M_QUAL (Polygon)
50: C_ASSO (None)

I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
directory, however,
I could not find a difference in terms of listing the layers in the dataset.

What could be the problem, is there a point that I'm missing?
From mongoose_riki at mail.ru  Thu Sep 17 11:34:59 2009
From: mongoose_riki at mail.ru (Riki Tiki)
Date: Thu Sep 17 11:35:03 2009
Subject: [gdal-dev] converting ascci to geotiff
Message-ID: <E1MoJ0d-0007Bv-00.mongoose_riki-mail-ru@f62.mail.ru>

Hi,

Phase 1) let's assume i convert the geotiff -> "file1.tif" to ascii grid file -> "file2.txt"... 
Phase 2) later on i change some of the values of file2.txt, now i want to again convert the file2.txt (with changed data part...) to geotiff with the projection information of file1.tif... Can you help me to work around this phase?

Thanks,
Riki
From horning at amnh.org  Thu Sep 17 11:52:51 2009
From: horning at amnh.org (Ned Horning)
Date: Thu Sep 17 12:01:29 2009
Subject: [gdal-dev] gdal_rasterize not masking float data
Message-ID: <4AB25B53.8010002@amnh.org>

Hi - I am trying to use a shapefile as a mask for a 32-bit float single 
band image in ERDAS img format. When I view the result after running 
gdal_rasterize it does not appear to have changed the values in the 
image that correspond with the polygons in the shapefile. When I 
converted the image (after running gdal_rasterize on it) to the byte 
range the masked values magically appeared.

Can anyone explain why this is happening? I'll try it on some more 
images but wondered if there is a straightforward explanation.

I am using a recent version of gdal 1.5.4 installed from OSGEO4W on a 
Windows 32-bit XP computer

Ned
From peifer at gmx.eu  Thu Sep 17 12:07:23 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Thu Sep 17 12:07:16 2009
Subject: [gdal-dev] Re: converting ascci to geotiff
In-Reply-To: <E1MoJ0d-0007Bv-00.mongoose_riki-mail-ru@f62.mail.ru>
References: <E1MoJ0d-0007Bv-00.mongoose_riki-mail-ru@f62.mail.ru>
Message-ID: <4AB25EBB.9000309@gmx.eu>

Riki Tiki wrote:
> Hi,
> 
> Phase 1) let's assume i convert the geotiff -> "file1.tif" to ascii grid file -> "file2.txt"... 
> Phase 2) later on i change some of the values of file2.txt, now i want to again convert the file2.txt (with changed data part...) to geotiff with the projection information of file1.tif... Can you help me to work around this phase?
> 
> Thanks,
> Riki

What about:

gdal_translate file2.asc file1.tif

(I think the *.asc suffix is mandatory)

Hermann
From horning at amnh.org  Thu Sep 17 12:15:41 2009
From: horning at amnh.org (Ned Horning)
Date: Thu Sep 17 12:15:59 2009
Subject: [gdal-dev] gdal_rasterize not masking float data
In-Reply-To: <4AB25B53.8010002@amnh.org>
References: <4AB25B53.8010002@amnh.org>
Message-ID: <4AB260AD.1090405@amnh.org>

I found out what the problem is. I did not delete the pyramid (.rrd) 
file associated with the image. As you know gdal_rasterize  does not 
change that file so when I displayed the processed image in ERDAS the 
viewer was still accessing the old (unchanged) pyramid images. I zoomed 
in but not enough to access the original (.img) image data. It appears 
to be working properly. Now I'll test it on a 9-band image. Sorry for 
the noise.

Ned

Ned Horning wrote:
> Hi - I am trying to use a shapefile as a mask for a 32-bit float 
> single band image in ERDAS img format. When I view the result after 
> running gdal_rasterize it does not appear to have changed the values 
> in the image that correspond with the polygons in the shapefile. When 
> I converted the image (after running gdal_rasterize on it) to the byte 
> range the masked values magically appeared.
>
> Can anyone explain why this is happening? I'll try it on some more 
> images but wondered if there is a straightforward explanation.
>
> I am using a recent version of gdal 1.5.4 installed from OSGEO4W on a 
> Windows 32-bit XP computer
>
> Ned
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From jluis at ualg.pt  Thu Sep 17 13:00:45 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Sep 17 13:00:55 2009
Subject: [gdal-dev] converting ascci to geotiff
In-Reply-To: <E1MoJ0d-0007Bv-00.mongoose_riki-mail-ru@f62.mail.ru>
References: <E1MoJ0d-0007Bv-00.mongoose_riki-mail-ru@f62.mail.ru>
Message-ID: <4AB26B3D.8050609@ualg.pt>

Riki Tiki wrote:
> Hi,
> 
> Phase 1) let's assume i convert the geotiff -> "file1.tif" to ascii grid file -> "file2.txt"... 
> Phase 2) later on i change some of the values of file2.txt, now i want to again convert the file2.txt (with changed data part...) to geotiff with the projection information of file1.tif... Can you help me to work around this phase?

Riki,

What type of modifications you want to do on the .tif file?
It would be easier if they can be done with a tool that does not imply format conversion.

When you convert to ascii, in what format will the data be?
The fact that it is in ascii doesn't imply that it hasn't a format.

If the ascii file is on the form (x, y, z) you'll have to regrid it again in order
convert it back to, for instance, geotiff. In the GDAL world that is done by gdal_grid.

Joaquim luis
From warmerdam at pobox.com  Thu Sep 17 13:03:03 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep 17 13:03:15 2009
Subject: [gdal-dev] Re: converting ascci to geotiff
In-Reply-To: <4AB25EBB.9000309@gmx.eu>
References: <E1MoJ0d-0007Bv-00.mongoose_riki-mail-ru@f62.mail.ru>
	<4AB25EBB.9000309@gmx.eu>
Message-ID: <4AB26BC7.4070106@pobox.com>

Hermann Peifer wrote:
> Riki Tiki wrote:
>> Hi,
>>
>> Phase 1) let's assume i convert the geotiff -> "file1.tif" to ascii 
>> grid file -> "file2.txt"... Phase 2) later on i change some of the 
>> values of file2.txt, now i want to again convert the file2.txt (with 
>> changed data part...) to geotiff with the projection information of 
>> file1.tif... Can you help me to work around this phase?
>>
>> Thanks,
>> Riki
> 
> What about:
> 
> gdal_translate file2.asc file1.tif
> 
> (I think the *.asc suffix is mandatory)

Riki,

Right - as far as I can see the GDAL 1.6.x writes a .prj file when it
produces files with the AAIGRID driver and it would pick that up when
translating back to tiff.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mongoose_riki at mail.ru  Thu Sep 17 13:48:40 2009
From: mongoose_riki at mail.ru (Riki Tiki)
Date: Thu Sep 17 13:49:25 2009
Subject: [gdal-dev] (no subject)
Message-ID: <E1MoL60-0004Ou-00.mongoose_riki-mail-ru@f291.mail.ru>

@Frank and Hermann: Thanks a lot!

My other question is as follows:

1) gdal_translate -of AAIGrid a.tif a.asc

it creates the following: a.asc (ASC File), a.asc.aux (XML Document), and a (IDL project file)...

now to do the reverse i do the following:

2) gdal_translate -of GTiff a.asc a.tif

it creates: a.tif (TIF Image)

but when i open a.tif with ArcGIS it shows that its statistics are not calculated...

Can you tell me how to create the 2) with statistics already computed? So that when i open it in ArcGis for example I do not have to ask ArcGIS to compute the statistics? Thanks a lot!


===================================================================

@Joaquim:

when the AAIGrid is created its format is of the following form:

ncols        250
nrows        398
xllcorner    X.Y
yllcorner    Z.W
cellsize     30.863820105342
NODATA_value    255
 255 255 255 255 255 255 255 255.....


Now, I will be changing the for example this to the following

ncols        250
nrows        398
xllcorner    X.Y
yllcorner    Z.W
cellsize     30.863820105342
NODATA_value    255
 255 255 2 255 1 255 0 255.....

(this is only to show my intention...)


=========================================================

Best wishes all of you,
Riki





From warmerdam at pobox.com  Thu Sep 17 14:05:02 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep 17 14:05:08 2009
Subject: [gdal-dev] Re: 
In-Reply-To: <E1MoL60-0004Ou-00.mongoose_riki-mail-ru@f291.mail.ru>
References: <E1MoL60-0004Ou-00.mongoose_riki-mail-ru@f291.mail.ru>
Message-ID: <4AB27A4E.2020507@pobox.com>

Riki Tiki wrote:
> @Frank and Hermann: Thanks a lot!
> 
> My other question is as follows:
> 
> 1) gdal_translate -of AAIGrid a.tif a.asc
> 
> it creates the following: a.asc (ASC File), a.asc.aux (XML Document), and a
> (IDL project file)...

Riki,

Not that the .prj file is not an IDL project file, it is an ArcGIS
projection file.

> now to do the reverse i do the following:
> 
> 2) gdal_translate -of GTiff a.asc a.tif
> 
> it creates: a.tif (TIF Image)
> 
> but when i open a.tif with ArcGIS it shows that its statistics are not
> calculated...
> 
> Can you tell me how to create the 2) with statistics already computed? So
> that when i open it in ArcGis for example I do not have to ask ArcGIS to
> compute the statistics? Thanks a lot!

If you use a recent enough version of ArcGIS the following *might*
precompute the stats in a useful fashion for ArcGIS.

   gdalinfo -stats a.tif

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jason.roberts at duke.edu  Thu Sep 17 14:24:55 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Thu Sep 17 14:25:00 2009
Subject: [gdal-dev] Re:
In-Reply-To: <4AB27A4E.2020507@pobox.com>
References: <E1MoL60-0004Ou-00.mongoose_riki-mail-ru@f291.mail.ru>
	<4AB27A4E.2020507@pobox.com>
Message-ID: <018601ca37c4$291c03e0$7b540ba0$@roberts@duke.edu>

Riki,

Please let us know whether Frank's suggestion works or not. I have been
experimenting with writing GeoTIFFs using GDAL 1.6.0 and the Python bindings
and have not been successful so far at using GDAL to calculate statistics
that ArcGIS recognizes. It would be interesting to know whether this
suggestion will work.

If anyone is interested, after creating a GTiff with one band, writing
values to the band, flushing the cache, I have been calling

    band.SetStatistics(*band.GetStatistics(False, True))

and then looking at the resulting file from ArcGIS 9.3.1 (the latest
version). ArcGIS reports that there are no statistics. I can then calculate
them with ArcGIS, if desired, but like Riki, it would be useful if I did not
need to do this.

The technique works for .img files (HFA driver). If I do not call
SetStatistics, ArcGIS reports there are no statistics. But when I do call
it, as shown above, ArcGIS can see the statistics. This led me to believe it
was the right technique but that there is a GDAL/ArcGIS incompatibility
around statistics in GeoTIFFs.

Another thing that ArcGIS users should be aware of is the that the Calculate
Statistics tool in ArcGIS also creates a raster attribute table. GDAL
SetStatistics does not do this. GDAL 1.6.x appears to have some
functionality relating to raster attribute tables but I have not
experimented with it yet. It is another thing to check for if you're looking
for 100% compatibility between GDAL and ArcGIS.

Finally, I am encountering an issue with NoData values. Riki can you please
let us know if NoData cells show up properly in ArcGIS? When I call
band.SetNoDataValue when creating a GTiff with the Python API, ArcGIS does
not seem to recognize it. I also tried CreateMaskBand() with
GDAL_TIFF_INTERNAL_MASK set to YES. It did not work either.

Best regards,

Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Thursday, September 17, 2009 2:05 PM
To: Riki Tiki
Cc: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Re:

Riki Tiki wrote:
> @Frank and Hermann: Thanks a lot!
> 
> My other question is as follows:
> 
> 1) gdal_translate -of AAIGrid a.tif a.asc
> 
> it creates the following: a.asc (ASC File), a.asc.aux (XML Document), and
a
> (IDL project file)...

Riki,

Not that the .prj file is not an IDL project file, it is an ArcGIS
projection file.

> now to do the reverse i do the following:
> 
> 2) gdal_translate -of GTiff a.asc a.tif
> 
> it creates: a.tif (TIF Image)
> 
> but when i open a.tif with ArcGIS it shows that its statistics are not
> calculated...
> 
> Can you tell me how to create the 2) with statistics already computed? So
> that when i open it in ArcGis for example I do not have to ask ArcGIS to
> compute the statistics? Thanks a lot!

If you use a recent enough version of ArcGIS the following *might*
precompute the stats in a useful fashion for ArcGIS.

   gdalinfo -stats a.tif

Best regards,

-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mongoose_riki at mail.ru  Thu Sep 17 14:39:34 2009
From: mongoose_riki at mail.ru (Riki Tiki)
Date: Thu Sep 17 14:39:40 2009
Subject: [gdal-dev] getting statistics of GTiff precomputed
In-Reply-To: <018601ca37c4$291c03e0$7b540ba0$@roberts@duke.edu>
References: <018601ca37c4$291c03e0$7b540ba0$@roberts@duke.edu>
Message-ID: <E1MoLtG-0002hf-00.mongoose_riki-mail-ru@f98.mail.ru>

Jason,

In my case I have no problems with no data values... ArcGIS sees them right.

I don't know whether this is important or not...

1) When i convert raster to ascii using ArcGIS it writes no data value as -9999.
2) When i convert the same raster to ascii using gdal_translate, my no data value becomes 255.

But in both cases ArcGIS recognizes the no data values...

The problem so far that I have seen is this (which i cannot solve yet...):

1) when i use gdal_translate to convert ascii to gtiff file... i don't get statistics computed.

even after doing gdalinfo -stats a.tif, i still don't get statistics file .aux.xml

2) but when i open the a.tif file using ArcGIS then ask it to compute the statistics, it computes and generates extra files such as: a.aux and a.tif.vat...

Thanks a lot!

Riki




-----Original Message-----
From: "Jason Roberts" <jason.roberts@duke.edu>
To: "'Frank Warmerdam'" <warmerdam@pobox.com>,
"'Riki Tiki'" <mongoose_riki@mail.ru>
Date: Thu, 17 Sep 2009 14:24:55 -0400
Subject: RE: [gdal-dev] Re:

> Riki,
> 
> Please let us know whether Frank's suggestion works or not. I have been
> experimenting with writing GeoTIFFs using GDAL 1.6.0 and the Python bindings
> and have not been successful so far at using GDAL to calculate statistics
> that ArcGIS recognizes. It would be interesting to know whether this
> suggestion will work.
> 
> If anyone is interested, after creating a GTiff with one band, writing
> values to the band, flushing the cache, I have been calling
> 
>     band.SetStatistics(*band.GetStatistics(False, True))
> 
> and then looking at the resulting file from ArcGIS 9.3.1 (the latest
> version). ArcGIS reports that there are no statistics. I can then calculate
> them with ArcGIS, if desired, but like Riki, it would be useful if I did not
> need to do this.
> 
> The technique works for .img files (HFA driver). If I do not call
> SetStatistics, ArcGIS reports there are no statistics. But when I do call
> it, as shown above, ArcGIS can see the statistics. This led me to believe it
> was the right technique but that there is a GDAL/ArcGIS incompatibility
> around statistics in GeoTIFFs.
> 
> Another thing that ArcGIS users should be aware of is the that the Calculate
> Statistics tool in ArcGIS also creates a raster attribute table. GDAL
> SetStatistics does not do this. GDAL 1.6.x appears to have some
> functionality relating to raster attribute tables but I have not
> experimented with it yet. It is another thing to check for if you're looking
> for 100% compatibility between GDAL and ArcGIS.
> 
> Finally, I am encountering an issue with NoData values. Riki can you please
> let us know if NoData cells show up properly in ArcGIS? When I call
> band.SetNoDataValue when creating a GTiff with the Python API, ArcGIS does
> not seem to recognize it. I also tried CreateMaskBand() with
> GDAL_TIFF_INTERNAL_MASK set to YES. It did not work either.
> 
> Best regards,
> 
> Jason
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
> Sent: Thursday, September 17, 2009 2:05 PM
> To: Riki Tiki
> Cc: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Re:
> 
> Riki Tiki wrote:
> > @Frank and Hermann: Thanks a lot!
> > 
> > My other question is as follows:
> > 
> > 1) gdal_translate -of AAIGrid a.tif a.asc
> > 
> > it creates the following: a.asc (ASC File), a.asc.aux (XML Document), and
> a
> > (IDL project file)...
> 
> Riki,
> 
> Not that the .prj file is not an IDL project file, it is an ArcGIS
> projection file.
> 
> > now to do the reverse i do the following:
> > 
> > 2) gdal_translate -of GTiff a.asc a.tif
> > 
> > it creates: a.tif (TIF Image)
> > 
> > but when i open a.tif with ArcGIS it shows that its statistics are not
> > calculated...
> > 
> > Can you tell me how to create the 2) with statistics already computed? So
> > that when i open it in ArcGis for example I do not have to ask ArcGIS to
> > compute the statistics? Thanks a lot!
> 
> If you use a recent enough version of ArcGIS the following *might*
> precompute the stats in a useful fashion for ArcGIS.
> 
>    gdalinfo -stats a.tif
> 
> Best regards,
> 
> -- 
> ---------------------------------------+------------------------------------
> --
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From warmerdam at pobox.com  Thu Sep 17 15:58:28 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep 17 15:58:38 2009
Subject: [gdal-dev] Re:
In-Reply-To: <018601ca37c4$291c03e0$7b540ba0$@roberts@duke.edu>
References: <E1MoL60-0004Ou-00.mongoose_riki-mail-ru@f291.mail.ru>
	<4AB27A4E.2020507@pobox.com>
	<018601ca37c4$291c03e0$7b540ba0$@roberts@duke.edu>
Message-ID: <4AB294E4.1040705@pobox.com>

Jason Roberts wrote:
> Riki,
> 
> Please let us know whether Frank's suggestion works or not. I have been
> experimenting with writing GeoTIFFs using GDAL 1.6.0 and the Python bindings
> and have not been successful so far at using GDAL to calculate statistics
> that ArcGIS recognizes. It would be interesting to know whether this
> suggestion will work.
> 
> If anyone is interested, after creating a GTiff with one band, writing
> values to the band, flushing the cache, I have been calling
> 
>     band.SetStatistics(*band.GetStatistics(False, True))
> 
> and then looking at the resulting file from ArcGIS 9.3.1 (the latest
> version). ArcGIS reports that there are no statistics. I can then calculate
> them with ArcGIS, if desired, but like Riki, it would be useful if I did not
> need to do this.

Jason,

I notice that if I run gdalinfo -stats from trunk I get the stats written
to the .aux.xml file while I don't from the 1.6 branch.  I think this is
something that has been fixed recently.  I'd suggest working from trunk if
that is at all practical.

If it is important, I could backport some of the statistics retaining
fixes back to 1.6 branch.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Sep 17 16:16:15 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep 17 16:16:22 2009
Subject: [gdal-dev] simple listing of layers by OGR
In-Reply-To: <150158ad0909170605i570eecb0ifa8e640682951f20@mail.gmail.com>
References: <150158ad0909170558w3fcdc644i228b560dbdfa33d8@mail.gmail.com>
	<150158ad0909170605i570eecb0ifa8e640682951f20@mail.gmail.com>
Message-ID: <4AB2990F.3070009@pobox.com>

Yilmaz Arslanoglu wrote:
> Hello everybody;
> 
> First of all, I would like to say that I am quite new in S-57 format
> and GDAL/OGR libraries.
> 
> As a starting point, I downloaded the source codes and built the whole
> GDAL library on my computer,
> using the "nmake" of Visual Studio 2008.
> 
> Now:
> 
> poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
> for (int i = 0; i < poDS->GetLayerCount(); i++)
>   printf("layer %d: %s\n", i, poDS->GetLayer(i)->GetLayerDefn()->GetName());
> 
> When I try to list the layer names of a datasource with the code snippet above,
> I get the following result:
> 
> layer 0: DSID
> layer 1: Point
> layer 2: Line
> layer 3: Area
> layer 4: Meta
> 
> However, the utility application "ogrinfo" gives a quite different
> result as follows:
> (when run with command  "ogrinfo US5LA24M.000" )
> 
> 1: DSID (None)
> 2: ACHARE
> 3: BCNLAT (Point)
> 4: BCNSPP (Point)
> 5: BUISGL
> ...
> ...
> ...
> 49: M_QUAL (Polygon)
> 50: C_ASSO (None)
> 
> I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
> directory, however,
> I could not find a difference in terms of listing the layers in the dataset.
> 
> What could be the problem, is there a point that I'm missing?

Yilmaz,

In the case where you only get DSID, Point, Line, Area and Meta
layers the OGR S-57 driver was unable to find the s57 object class
.csv files at runtime in order to properly categorize things in
feature classes.

This might be accomplished by setting the GDAL_DATA configuration
variable either via the environment or the CPLSetConfigOption()
function.  Were you using ogrinfo from an environment like
OSGeo4W or FWTools that sets up the environment carefully?

In some form this question needs to be in the FAQ!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Chris.Barker at noaa.gov  Thu Sep 17 16:52:24 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Sep 17 16:50:14 2009
Subject: [gdal-dev] pixel/line mapping for two images.
In-Reply-To: <COL113-W53DE536D274FC47BEC0F71F4E10@phx.gbl>
References: <8b94213c277f51d0.4ab0b6c7@noaa.gov>
	<COL113-W653312FD8CA635B2055DF4F4E20@phx.gbl>
	<COL113-W53DE536D274FC47BEC0F71F4E10@phx.gbl>
Message-ID: <4AB2A188.6060808@noaa.gov>

Belaid MOA wrote:
> I wrote a GDAL C++ code that solves the following simple problem:
> take two images, a source image with spatial resolution 25mx25m (high 
> resolution) and a destination image with spatial resolution 
> 10000mx10000m (low resolution) and scale the source image so that the 
> values of the pixels in the source image that are mapped to the same 
> pixel P in the destination image sum up to the value of P.

you really want the sum, rather than an average?

Anyway, it seems you could use gdal_warp for this, with maybe a 
multiplication at the end to get a sum rather than an average.

 > As a side
> note, the two images have different projections.

That's more than a side note -- this is trivial if there were no 
projection change. Could you do them in separate steps? Change the 
projection of the high-res image, then do your down sampling. That might 
make it pretty easy to do with the gdal utilities.

> Briefly, the arithmetic that computes the overlap is: 

given your large difference in resolution, you may be able to keep it 
simpler -- only use those pixels in the source wholly contained in the 
destination pixel -- I doubt you'd see a difference.

>  As you can see, the ratio 1/2*(SrcXRes/DstXRes) is so small that I do 
> not get smooth image

That's a big change in resolution if your source data is not that 
smooth, you're not going to get a smooth result.

> Am I doing something wrong in my arithmetic?

not that I could quickly see, but give yourself some really simple test 
cases to make sure.

You also might want to test without the re-projection, as that will be 
easier to see if you've done it right.

> Should I apply an average filter to smoothen the image?

That is entirely dependent on your application.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From jason.roberts at duke.edu  Thu Sep 17 17:23:44 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Thu Sep 17 17:23:49 2009
Subject: [gdal-dev] Re:
In-Reply-To: <4AB294E4.1040705@pobox.com>
References: <E1MoL60-0004Ou-00.mongoose_riki-mail-ru@f291.mail.ru>
	<4AB27A4E.2020507@pobox.com>
	<018601ca37c4$291c03e0$7b540ba0$%roberts@duke.edu>
	<4AB294E4.1040705@pobox.com>
Message-ID: <000401ca37dd$23b6e7d0$6b24b770$@roberts@duke.edu>

Frank,

I do not know whether the new fixes would help or not. When I calculate the
statistics with ArcGIS, no .aux.xml file is generated. I believe ArcGIS is
storing the statistics in a .aux file instead. Here is the sequence of
events that suggests it.

1. I created a 8192x4096 float32 .tif file with GDAL:

09/17/2009  04:53 PM       134,284,081 sst2004d.tif

2. I started ArcCatalog, navigated to the directory containing the file, and
selected it. Selecting it does not actually display anything but nonetheless
causes ArcCatalog to create a .aux file:

09/17/2009  05:12 PM             5,056 sst2004d.aux
09/17/2009  04:53 PM       134,284,081 sst2004d.tif

3. I right-clicked, selected Properties, and observed that there were no
statistics. (This operation did not touch the files.) I executed the ArcGIS
Calculate Statistics tool on the file. This touched the .aux file and
created a .xml file:

09/17/2009  05:16 PM            36,591 sst2004d.aux
09/17/2009  04:53 PM       134,284,081 sst2004d.tif
09/17/2009  05:16 PM               566 sst2004d.tif.xml

That XML file only contains metadata; a record of the processing:

<?xml version="1.0"?>
<!--<!DOCTYPE metadata SYSTEM
"http://www.esri.com/metadata/esriprof80.dtd">-->
<metadata
xml:lang="en"><Esri><MetaID>{A1793984-B9D0-4F32-A6D1-AB1C79D6AB29}</MetaID><
CreaDate>20090917</CreaDate><CreaTime>17163000</CreaTime><SyncOnce>TRUE</Syn
cOnce><DataProperties><lineage><Process ToolSource="C:\Program
Files\ArcGIS\ArcToolbox\Toolboxes\Data Management
Tools.tbx\CalculateStatistics" Date="20090917"
Time="171630">CalculateStatistics C:\Temp2\sst2004d.tif 1 1 #
C:\Temp2\sst2004d.tif</Process></lineage></DataProperties></Esri></metadata>

Given that the .tif itself was not touched, it seems that the statistics
were stored in the .aux file. If this is true, do you think ArcGIS will pay
attention to the .aux.xml file that GDAL will generate? I don't know much
about this stuff so your guess is better than mine.

Also, please disregard my previous claim that ArcGIS 9.3.1 was not able to
recognize the NoData value written by the GTiff driver. I got confused about
which machine I was using and tested that scenario with ArcGIS 9.1. I can
confirm that ArcGIS 9.3.1 does recognize the NoData value properly in the
scenario above.

Jason

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Thursday, September 17, 2009 3:58 PM
To: Jason Roberts
Cc: 'Riki Tiki'; gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Re:

Jason Roberts wrote:
> Riki,
> 
> Please let us know whether Frank's suggestion works or not. I have been
> experimenting with writing GeoTIFFs using GDAL 1.6.0 and the Python
bindings
> and have not been successful so far at using GDAL to calculate statistics
> that ArcGIS recognizes. It would be interesting to know whether this
> suggestion will work.
> 
> If anyone is interested, after creating a GTiff with one band, writing
> values to the band, flushing the cache, I have been calling
> 
>     band.SetStatistics(*band.GetStatistics(False, True))
> 
> and then looking at the resulting file from ArcGIS 9.3.1 (the latest
> version). ArcGIS reports that there are no statistics. I can then
calculate
> them with ArcGIS, if desired, but like Riki, it would be useful if I did
not
> need to do this.

Jason,

I notice that if I run gdalinfo -stats from trunk I get the stats written
to the .aux.xml file while I don't from the 1.6 branch.  I think this is
something that has been fixed recently.  I'd suggest working from trunk if
that is at all practical.

If it is important, I could backport some of the statistics retaining
fixes back to 1.6 branch.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Sep 17 17:37:42 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep 17 17:37:45 2009
Subject: [gdal-dev] Re:
In-Reply-To: <000401ca37dd$23b6e7d0$6b24b770$@roberts@duke.edu>
References: <E1MoL60-0004Ou-00.mongoose_riki-mail-ru@f291.mail.ru>
	<4AB27A4E.2020507@pobox.com>
	<018601ca37c4$291c03e0$7b540ba0$%roberts@duke.edu>
	<4AB294E4.1040705@pobox.com>
	<000401ca37dd$23b6e7d0$6b24b770$@roberts@duke.edu>
Message-ID: <4AB2AC26.8070700@pobox.com>

Jason Roberts wrote:
> Given that the .tif itself was not touched, it seems that the statistics
> were stored in the .aux file. If this is true, do you think ArcGIS will pay
> attention to the .aux.xml file that GDAL will generate? I don't know much
> about this stuff so your guess is better than mine.

Jason,

I'm not sure - it depends on whether ArcGIS 9.3.1 is using GDAL for GeoTIFF
yet or not.  I *think* it is, but I am terrible at keeping track of what is
in what version.  I'd just suggest you try it.

BTW, it is *possible* to generate the .aux with GDAL with statistics in it,
but it is rather complicated.  I think you can do something like:

   gdal_translate -of HFA -co AUX=YES -co STATISTICS=YES xxx.tif xxx.aux

> Also, please disregard my previous claim that ArcGIS 9.3.1 was not able to
> recognize the NoData value written by the GTiff driver. I got confused about
> which machine I was using and tested that scenario with ArcGIS 9.1. I can
> confirm that ArcGIS 9.3.1 does recognize the NoData value properly in the
> scenario above.

Good - that *suggests* that 9.3.1 is using GDAL for GeoTIFF since the
nodata values are stored in the TIFF in a GDAL specific way.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From giohappy at gmail.com  Thu Sep 17 17:43:17 2009
From: giohappy at gmail.com (G. Allegri)
Date: Thu Sep 17 17:43:20 2009
Subject: [gdal-dev] clarifications anout gdal_wms, tilecache and gdaltindex
Message-ID: <e12429640909171443i3f69cfc7m68bcbcb18e5e7004@mail.gmail.com>

Hello list
I'm facing for the first time the need of serving a big raster dataset
continuum though a Mapserver wms service. The data source, at the moment, is
an ArcIms service (this comes for various reasons).
I've considered two options to tile, cache and serve it:

 - use gdaltindex to use the tileindex functionality of Mapserver
 - use gdal_wms pointing to a TileCache wms-c service

In the latter way I've setup the xml configuration file to use the highest
resolution level available in the TC cache, and set the maximum serveble
bbox. Now, I suppose that the chain is the following:

 1 - mapserver passes the request extent and dimensions to the gdal driver
 2 - gdal_wms calculates the tiles needed to fullfill the request at the
level set in TileLevel
 3 - it turns the "tiled requests" to TC wich verify if they match the tiles
in the cache. If ok it give them back to gdal_wms
 4 - gdal_wms mosaic the tiles (and clip them to the extent of the MS
request?)
 5 - Mapserver returns the result

Is it right? If it is, where is the performance improvement respect to
tiling (with gdaltindex) a raster as big as the ensemble of the whole TC
tiles at it's highest resolution? I mean, I can have 20x20 tiles cache in TC
for my bbox at the maximum level chosen, let's say 5, that is 5120x5120
pixels (standard tiles). Now, if I generate a single image with the same
dimensions and then use gdaltindex to break it in tiles and serve them
through a tileindex, doesn't I obtain a similar result (in performance
terms) as using gdal_wms?

I'm sorry if I haven't been very clear, but I hope you have understood my
doubts.

Thanks a lot for any suggestion,
Giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090917/2b782ecc/attachment.html
From Chris.Barker at noaa.gov  Thu Sep 17 18:26:14 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Sep 17 18:24:03 2009
Subject: [gdal-dev] Recent Windows binaries?
In-Reply-To: <f3b73b7d0909161311x37cfcfaoed0c656b62770210@mail.gmail.com>
References: <eca2395a499c4842.4ab0b7d8@noaa.gov>
	<f3b73b7d0909161311x37cfcfaoed0c656b62770210@mail.gmail.com>
Message-ID: <4AB2B786.9050501@noaa.gov>

Tamas Szekeres wrote:
> You may get the most recent versions compiled daily from the development 
> and stable branches from this location
> http://vbkto.dyndns.org:1280/sdk/

Thanks, it took a bit of manipulating, as those are not installed quite 
the same way.

Also, port 1280 is blocked by our firewall, so I had to find a way to 
download it from outside our system.

In short, it would be really nice if:

>     http://download.osgeo.org/gdal/win32/1.6/

had up to date binaries...

-Chris

-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From Chris.Barker at noaa.gov  Thu Sep 17 18:56:33 2009
From: Chris.Barker at noaa.gov (Chris Barker)
Date: Thu Sep 17 18:56:43 2009
Subject: [gdal-dev] pixel/line mapping for two images.
In-Reply-To: <COL113-W25059FECC86F3192771D17F4E10@phx.gbl>
References: <8b94213c277f51d0.4ab0b6c7@noaa.gov>
	<COL113-W653312FD8CA635B2055DF4F4E20@phx.gbl>
	<COL113-W25059FECC86F3192771D17F4E10@phx.gbl>
Message-ID: <4AB2BEA1.8030202@noaa.gov>

Belaid MOA wrote:
> I do not see how gdal_wrap could be used to find the pixels in the 
> source image that map to
> the same pixel in the destination image?

sorry for the typo, that's "gdalwarp"

My point was not that you could use it to find the pixels, but that you 
could use it to do the whole job. gdalwarp takes one image, and warps it 
to create a new image, which can be a different projection and, I think, 
a different resolution. If you use the "lanczons" method (which I think 
is anti-aliasing), you may get close to what you want.

-Chris






-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From belaid_moa at hotmail.com  Thu Sep 17 23:54:12 2009
From: belaid_moa at hotmail.com (Belaid MOA)
Date: Thu Sep 17 23:54:15 2009
Subject: [gdal-dev] pixel/line mapping for two images.
In-Reply-To: <4AB2BEA1.8030202@noaa.gov>
References: <8b94213c277f51d0.4ab0b6c7@noaa.gov>
	<COL113-W653312FD8CA635B2055DF4F4E20@phx.gbl>
Message-ID: <COL113-W50D9ECE5B9713002F19E03F4E00@phx.gbl>


Thank you very much Chris. I will take a look at "lanczons" method and check 
whether I could use it to solve my simple problem once for all.
With best regards.
~Belaid.


> Date: Thu, 17 Sep 2009 15:56:33 -0700
> From: Chris.Barker@noaa.gov
> Subject: Re: [gdal-dev] pixel/line mapping for two images.
> To: belaid_moa@hotmail.com; gdal-dev@lists.osgeo.org
> 
> Belaid MOA wrote:
> > I do not see how gdal_wrap could be used to find the pixels in the 
> > source image that map to
> > the same pixel in the destination image? 
> 
> sorry for the typo, that's "gdalwarp"
> 
> My point was not that you could use it to find the pixels, but that you 
> could use it to do the whole job. gdalwarp takes one image, and warps it 
> to create a new image, which can be a different projection and, I think, 
> a different resolution. If you use the "lanczons" method (which I think 
> is anti-aliasing), you may get close to what you want.
> 
> -Chris
> 
> 
> 
> 
> 
> 
> -- 
> Christopher Barker, Ph.D.
> Oceanographer
> 
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
> 
> Chris.Barker@noaa.gov
 		 	   		  
_________________________________________________________________
Create a cool, new character for your Windows Live? Messenger. 
http://go.microsoft.com/?linkid=9656621
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090918/e20ef36e/attachment.html
From DAVID.W.BOYD at saic.com  Fri Sep 18 01:15:39 2009
From: DAVID.W.BOYD at saic.com (Boyd, David W.)
Date: Fri Sep 18 01:30:50 2009
Subject: [gdal-dev] Any known issues with geoserver GDAL NITF plugin
	crashing Java in Geoserver?
Message-ID: <6CE4D7CB9814EF41ACE82D7D15FCB3DE01E6F653@0966-its-exmb02.us.saic.com>

All:
   First, I apologize if this is too much a newbie post, but I need to 
know if I can make this work or need to find another tact.

I have some NGA Raster Product Format (RPF) data.  I have ~45K NITF
files in this data set.  All use the NGA standard compression for RPF.
I have set these up as a coverage in Geoserver using the
ImageMosaic plugin and things work fine
with the demo openlayers app in the single image mode.  However if I 
change the demo openlayers app to use tiled mode or try and access
this coverage through geowebcache (which uses tiled mode) Java crashes.
I have been able to repeat this steadily. However from the log files
it does not appear to be a specific file.

I guess my question is if this is a known issue and if there
is any work around?

Any suggestions for large RPF data sets and using them with Geoserver?

I am running under Red Hat Linux 5.4.
The gdal share lib version is 1.11.4 and came from the prebuilt
versions for Geoserver.


The following is the output from my latest jboss crash:
> 04:33:27,021 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG [org.geotools.gce.imagemosai]
>  - reading file: /geodata/data/AFGHANISTAN/CB01NI423I2/RPF/NI423I2/02813V2B.I42
> 04:33:27,029 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG [org.geotools.gce.imagemosai]
>  - Adding to mosaic image number 46
> 04:33:27,030 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG [org.geotools.gce.imagemosai]
>  - Loading raster data for granule org.geotools.gce.imagemosaic.Granule@9b675b
> 04:33:27,040 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG [org.geotools.gce.imagemosai]
>  - Loading level 0 with source region java.awt.Rectangle[x=85,y=0,width=1451,hei
> ght=1536]
> *** glibc detected *** /usr/java/jre1.5.0_19/bin/java: corrupted double-linked l
> ist: 0x24422c40 ***
> ======= Backtrace: =========
> /lib/libc.so.6[0xb7e1b9f8]
> /lib/libc.so.6[0xb7e1d4d2]
> /lib/libc.so.6(cfree+0x59)[0xb7e1d9d9]
> /opt/gdallibs/libgdal.so.1(VSIFree+0x21)[0x21ec5be1]
> /opt/gdallibs/libgdal.so.1(_ZN15GDALRasterBlockD0Ev+0x43)[0x21eb5083]
> /opt/gdallibs/libgdal.so.1(_ZN14GDALRasterBand10FlushBlockEii+0xf3)[0x21eb3483]
> /opt/gdallibs/libgdal.so.1(_ZN14GDALRasterBand10FlushCacheEv+0x5d)[0x21eb351d]
> /opt/gdallibs/libgdal.so.1(_ZN11GDALDataset10FlushCacheEv+0x32)[0x21ea5212]
> /opt/gdallibs/libgdal.so.1(_ZN14GDALPamDataset10FlushCacheEv+0x22)[0x21eaea62]
> /opt/gdallibs/libgdal.so.1(_ZN11NITFDataset10FlushCacheEv+0x30)[0x21e0a160]
> /opt/gdallibs/libgdal.so.1(_ZN11NITFDatasetD0Ev+0x2a)[0x21e0b31a]
> /opt/gdallibs/libgdal.so.1(GDALClose+0x9a)[0x21ea591a]
> /opt/gdallibs/libgdaljni.so(Java_org_gdal_gdal_gdalJNI_delete_1Dataset+0x37)[0x2
> 29177ff]
> [0xb1875731]
> ======= Memory map: ========
> 08048000-08057000 r-xp 00000000 08:04 356249     /usr/java/jre1.5.0_19/bin/java
> 08057000-08059000 rwxp 0000e000 08:04 356249     /usr/java/jre1.5.0_19/bin/java
> 095ce000-0be75000 rwxp 095ce000 00:00 0          [heap]
> 1fadc000-1fadf000 --xp 1fadc000 00:00 0
> 1fadf000-1fb5d000 rwxp 1fadf000 00:00 0
> 1fb5d000-1fb60000 --xp 1fb5d000 00:00 0
> 1fb60000-1fbde000 rwxp 1fb60000 00:00 0
> 1fbde000-1fbe1000 --xp 1fbde000 00:00 0
> 1fbe1000-1fc5f000 rwxp 1fbe1000 00:00 0
> 1fc5f000-1fc62000 --xp 1fc5f000 00:00 0
> 1fc62000-1fce0000 rwxp 1fc62000 00:00 0
> 1fce0000-1fce3000 --xp 1fce0000 00:00 0
> 1fce3000-1fd61000 rwxp 1fce3000 00:00 0
> 1fd61000-200de000 r-xp 00000000 08:04 356982     /usr/java/jre1.5.0_19/lib/i386/
> libmlib_jai.so
> 200de000-200e0000 rwxp 0037d000 08:04 356982     /usr/java/jre1.5.0_19/lib/i386/
> libmlib_jai.so
> 200e0000-200e3000 --xp 200e0000 00:00 0
> 200e3000-20161000 rwxp 200e3000 00:00 0
> 20161000-201db000 r-xp 00000000 08:04 356336     /usr/java/jre1.5.0_19/lib/i386/
> libfontmanager.so
> 201db000-201e5000 rwxp 0007a000 08:04 356336     /usr/java/jre1.5.0_19/lib/i386/
> libfontmanager.so
> 201e5000-201e9000 rwxp 201e5000 00:00 0
> 201e9000-20253000 r-xs 00000000 08:04 940150     /opt/jboss-4.2.3.GA/server/defa
> ult/deploy/geoserver.war/WEB-INF/lib/xstream-1.3.1.jar
> 20253000-20300000 r-xs 00000000 08:04 940090     /opt/jboss-4.2.3.GA/server/defa
> ult/deploy/geoserver.war/WEB-INF/lib/xsd-2.2.2.jar
> 20300000-203fa000 rwxp 20300000 00:00 0
> 203fa000-20400000 --xp 203fa000 00:00 0
> 20400000-2047c000 rwxp 20400000 00:00 0
> 2047c000-20500000 --xp 2047c000 00:00 0
> 20500000-205d1000 rwxp 20500000 00:00 0
> 205d1000-20600000 --xp 205d1000 00:00 0
> 20600000-20700000 rwxp 20600000 00:00 0
> 20725000-20800000 r-xs 00000000 08:04 940116     /opt/jboss-4.2.3.GA/server/defa
> ult/deploy/geoserver.war/WEB-INF/lib/xercesImpl-2.4.0.jar
> 20800000-208fa000 rwxp 20800000 00:00 0
> 208fa000-20900000 --xp 208fa000 00:00 0
> 20900000-209de000 rwxp 20900000 00:00 0
> 209de000-20a00000 --xp 209de000 00:00 0
> 20a00000-20af2000 rwxp 20a00000 00:00 0
> 20af2000-20b00000 --xp 20af2000 00:00 0
> 20b7f000-20b82000 --xp 20b7f000 00:00 0
> 20b82000-20d00000 rwxp 20b82000 00:00 0
> 20d00000-20de2000 rwxp 20d00000 00:00 0
> 20de2000-20e00000 --xp 20de2000 00:00 0
> 20e7f000-20e82000 --xp 20e7f000 00:00 0
> 20e82000-20f00000 rwxp 20e82000 00:00 0
> 20f00000-21700000 r-xs 00000000 08:04 810257     /tmp/Geotools/Databases/HSQL/EP
> SG.data
> 21700000-217f6000 rwxp 21700000 00:00 0
> 217f6000-21800000 --xp 217f6000 00:00 0
> 21800000-21900000 rwxp 21800000 00:00 0
> 2197f000-21982000 --xp 2197f000 00:00 0
> 21982000-21aff000 rwxp 21982000 00:00 0
> 21aff000-21b00000 --xp 21aff000 00:00 0
> 21b07000-21b1c000 r-xp 00000000 08:04 356333     /usr/java/jre1.5.0_19/lib/i386/
> libdcpr.so
> 21b1c000-21b2f000 rwxp 00014000 08:04 356333     /usr/java/jre1.5.0_19/lib/i386/
> libdcpr.so
> 21b2f000-21b32000 --xp 21b2f000 00:00 0
> 21b32000-21bb0000 rwxp 21b32000 00:00 0
> 21bb0000-2217b000 r-xp 00000000 08:04 712532     /opt/gdallibs/libgdal.so.1.11.4
> 
> 2217b000-221e3000 rwxp 005cb000 08:04 71./run.sh: line 255: 11993 Aborted
>           "$JAVA" $JAVA_OPTS -Djava.endorsed.dirs="$JBOSS_ENDORSED_DIRS" -classp
> ath "$JBOSS_CLASSPATH" org.jboss.Main "$@"



-- 
========= mailto:david.w.boyd@saic.com ============

David W. Boyd
VP, Chief Technical Officer
Advanced Intelligence Solutions Operation

6359 Walker Ln, Suite 100
Alexandria, Va 22310

US voice:  +1-703-253-6960
fax:       +1-703-253-1061
US cell:   +1-703-402-7908
============== http://www.saic.com/ ============
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090918/eb3a1b01/attachment.html
From peifer at gmx.eu  Fri Sep 18 02:43:22 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Fri Sep 18 02:43:49 2009
Subject: [gdal-dev] trunk/gdal/apps/ogrdissolve.cpp
Message-ID: <h8va6a$ju4$1@ger.gmane.org>

Hi,

I see there is a potentially helpful utility for dissolving geometries 
at http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/ogrdissolve.cpp

But obviously, there is no related executable in GDAL 1.6.2 or 
1.7.0dev. Are there any plans to continue work on ogrdissolve?

Hermann

From antonio.valentino at tiscali.it  Fri Sep 18 02:55:03 2009
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Fri Sep 18 02:56:10 2009
Subject: [gdal-dev] Problems with TIFF internal symbols
Message-ID: <20090918085503.2209277e@valentinows>

Hi list,
I'm trying to use OTB (Orfeo ToolBox) on Debian Sid with GDAL 1.6.2 and
I get a lot of segmentation fault related to GDAL and TIFF files.

A guy on the OTB mailing list suggested that it could depend on the
"with-hide-internal-symbols" flag used for Debian packages.

See thread

http groups dot google dot com /group/otb-users/browse_thread/thread/be8ad5e263aafe14

(sorry the spam filter of my ISP keeps blocking this message)

Is the above hypothesis correct?
How can we solve the issue in this case?

 
Best regards

-- 
Antonio Valentino
From nahumoz at gmail.com  Fri Sep 18 03:25:29 2009
From: nahumoz at gmail.com (Oz Nahum)
Date: Fri Sep 18 03:25:32 2009
Subject: [gdal-dev] problems with gdal_translate
Message-ID: <6ec71d090909180025w5aeadc8csb55d2ca332c5defc@mail.gmail.com>

Hi Everyone,
I am trying to convert a tif with the following extents to an AAIGrid, with
gdal translate.
The tiff file has the following extent:
(3366307.0, 1.0, 0.0, 5814845.0, 0.0, -1.0)
and the following resolution 1483, 1391.
When I run the following command I get the following error:

ozdeb@karo:$ gdal_translate -of AAIGrid -outsize 148 139
area_of_interest.tif aoic.ascii
Input file size is 1483, 1391
0Warning 1: Producing a Golden Surfer style file with DX and DY instead
of CELLSIZE since the input pixels are non-square.  Use the
FORCE_CELLSIZE=TRUE creation option to force use of DX for
even though this will be distorted.  Most ASCII Grid readers
(ArcGIS included) do not support the DX and DY parameters.

This is really weired because the source code says, that this behavior
should be only if the cell size is not square. I think that the input cell
sizes are square, am I wrong ?

Here's the source code reference I'm looking at:
http://gdal.sourcearchive.com/documentation/1.6.1-2/aaigriddataset_8cpp-source.html

Any suggestions how to avoid/ solve this annoying warning will be
appreciated.
Thanks,

Oz Nahum
Graduate Student
Zentrum f?r Angewandte Geologie
Universit?t T?bingen

---

Imagine there's no countries
it isn't hard to do
Nothing to kill or die for
And no religion too
Imagine all the people
Living life in peace

-- 
Oz Nahum
Graduate Student
Zentrum f?r Angewandte Geologie
Universit?t T?bingen

---

Imagine there's no countries
it isn't hard to do
Nothing to kill or die for
And no religion too
Imagine all the people
Living life in peace
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090918/a04bcca0/attachment.html
From daniele.romagnoli at geo-solutions.it  Fri Sep 18 04:23:04 2009
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Fri Sep 18 04:23:10 2009
Subject: [gdal-dev] Any known issues with geoserver GDAL NITF plugin 
	crashing Java in Geoserver?
In-Reply-To: <6CE4D7CB9814EF41ACE82D7D15FCB3DE01E6F653@0966-its-exmb02.us.saic.com>
References: <6CE4D7CB9814EF41ACE82D7D15FCB3DE01E6F653@0966-its-exmb02.us.saic.com>
Message-ID: <7221db410909180123j5eb61356g7fb9b5a2911f13b5@mail.gmail.com>

Hi,
I have added the GeoServer mailing list to the CC since that type of issue
could have been already encountered by the GeoServer people.

Being the number of datasets composing your coverage, very high, making a
pyramid could be an option.
(Simone Giannecchini is working on some improvements on the Pyramid plugin,
I will work on a tutorial on it).
By this way, when accessing data at "lower zoom levels/wort resolution"
geoserver will access to a reduced number of files.

Some quick questions on your test case:
- which geoserver version?
- what is the values of the properties USE_JAI_IMAGEREAD and the
ALLOW/USE_MULTITHREADING on your coverage configuration?

Best Regards,
Daniele


On Fri, Sep 18, 2009 at 7:15 AM, Boyd, David W. <DAVID.W.BOYD@saic.com>wrote:

>  All:
>    First, I apologize if this is too much a newbie post, but I need to
> know if I can make this work or need to find another tact.
>
> I have some NGA Raster Product Format (RPF) data.  I have ~45K NITF
> files in this data set.  All use the NGA standard compression for RPF.
> I have set these up as a coverage in Geoserver using the
> ImageMosaic plugin and things work fine
> with the demo openlayers app in the single image mode.  However if I
> change the demo openlayers app to use tiled mode or try and access
> this coverage through geowebcache (which uses tiled mode) Java crashes.
> I have been able to repeat this steadily. However from the log files
> it does not appear to be a specific file.
>
> I guess my question is if this is a known issue and if there
> is any work around?
>
> Any suggestions for large RPF data sets and using them with Geoserver?
>
> I am running under Red Hat Linux 5.4.
> The gdal share lib version is 1.11.4 and came from the prebuilt
> versions for Geoserver.
>
>
> The following is the output from my latest jboss crash:
> > 04:33:27,021 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG
> [org.geotools.gce.imagemosai]
> >  - reading file:
> /geodata/data/AFGHANISTAN/CB01NI423I2/RPF/NI423I2/02813V2B.I42
> > 04:33:27,029 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG
> [org.geotools.gce.imagemosai]
> >  - Adding to mosaic image number 46
> > 04:33:27,030 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG
> [org.geotools.gce.imagemosai]
> >  - Loading raster data for granule
> org.geotools.gce.imagemosaic.Granule@9b675b
> > 04:33:27,040 INFO   [STDOUT] 18 Sep 04:33:27 DEBUG
> [org.geotools.gce.imagemosai]
> >  - Loading level 0 with source region
> java.awt.Rectangle[x=85,y=0,width=1451,hei
> > ght=1536]
> > *** glibc detected *** /usr/java/jre1.5.0_19/bin/java: corrupted
> double-linked l
> > ist: 0x24422c40 ***
> > ======= Backtrace: =========
> > /lib/libc.so.6[0xb7e1b9f8]
> > /lib/libc.so.6[0xb7e1d4d2]
> > /lib/libc.so.6(cfree+0x59)[0xb7e1d9d9]
> > /opt/gdallibs/libgdal.so.1(VSIFree+0x21)[0x21ec5be1]
> > /opt/gdallibs/libgdal.so.1(_ZN15GDALRasterBlockD0Ev+0x43)[0x21eb5083]
> >
> /opt/gdallibs/libgdal.so.1(_ZN14GDALRasterBand10FlushBlockEii+0xf3)[0x21eb3483]
> >
> /opt/gdallibs/libgdal.so.1(_ZN14GDALRasterBand10FlushCacheEv+0x5d)[0x21eb351d]
> >
> /opt/gdallibs/libgdal.so.1(_ZN11GDALDataset10FlushCacheEv+0x32)[0x21ea5212]
> >
> /opt/gdallibs/libgdal.so.1(_ZN14GDALPamDataset10FlushCacheEv+0x22)[0x21eaea62]
> >
> /opt/gdallibs/libgdal.so.1(_ZN11NITFDataset10FlushCacheEv+0x30)[0x21e0a160]
> > /opt/gdallibs/libgdal.so.1(_ZN11NITFDatasetD0Ev+0x2a)[0x21e0b31a]
> > /opt/gdallibs/libgdal.so.1(GDALClose+0x9a)[0x21ea591a]
> >
> /opt/gdallibs/libgdaljni.so(Java_org_gdal_gdal_gdalJNI_delete_1Dataset+0x37)[0x2
> > 29177ff]
> > [0xb1875731]
> > ======= Memory map: ========
> > 08048000-08057000 r-xp 00000000 08:04 356249
> /usr/java/jre1.5.0_19/bin/java
> > 08057000-08059000 rwxp 0000e000 08:04 356249
> /usr/java/jre1.5.0_19/bin/java
> > 095ce000-0be75000 rwxp 095ce000 00:00 0          [heap]
> > 1fadc000-1fadf000 --xp 1fadc000 00:00 0
> > 1fadf000-1fb5d000 rwxp 1fadf000 00:00 0
> > 1fb5d000-1fb60000 --xp 1fb5d000 00:00 0
> > 1fb60000-1fbde000 rwxp 1fb60000 00:00 0
> > 1fbde000-1fbe1000 --xp 1fbde000 00:00 0
> > 1fbe1000-1fc5f000 rwxp 1fbe1000 00:00 0
> > 1fc5f000-1fc62000 --xp 1fc5f000 00:00 0
> > 1fc62000-1fce0000 rwxp 1fc62000 00:00 0
> > 1fce0000-1fce3000 --xp 1fce0000 00:00 0
> > 1fce3000-1fd61000 rwxp 1fce3000 00:00 0
> > 1fd61000-200de000 r-xp 00000000 08:04 356982
> /usr/java/jre1.5.0_19/lib/i386/
> > libmlib_jai.so
> > 200de000-200e0000 rwxp 0037d000 08:04 356982
> /usr/java/jre1.5.0_19/lib/i386/
> > libmlib_jai.so
> > 200e0000-200e3000 --xp 200e0000 00:00 0
> > 200e3000-20161000 rwxp 200e3000 00:00 0
> > 20161000-201db000 r-xp 00000000 08:04 356336
> /usr/java/jre1.5.0_19/lib/i386/
> > libfontmanager.so
> > 201db000-201e5000 rwxp 0007a000 08:04 356336
> /usr/java/jre1.5.0_19/lib/i386/
> > libfontmanager.so
> > 201e5000-201e9000 rwxp 201e5000 00:00 0
> > 201e9000-20253000 r-xs 00000000 08:04 940150     /opt/
> jboss-4.2.3.GA/server/defa
> > ult/deploy/geoserver.war/WEB-INF/lib/xstream-1.3.1.jar
> > 20253000-20300000 r-xs 00000000 08:04 940090     /opt/
> jboss-4.2.3.GA/server/defa
> > ult/deploy/geoserver.war/WEB-INF/lib/xsd-2.2.2.jar
> > 20300000-203fa000 rwxp 20300000 00:00 0
> > 203fa000-20400000 --xp 203fa000 00:00 0
> > 20400000-2047c000 rwxp 20400000 00:00 0
> > 2047c000-20500000 --xp 2047c000 00:00 0
> > 20500000-205d1000 rwxp 20500000 00:00 0
> > 205d1000-20600000 --xp 205d1000 00:00 0
> > 20600000-20700000 rwxp 20600000 00:00 0
> > 20725000-20800000 r-xs 00000000 08:04 940116     /opt/
> jboss-4.2.3.GA/server/defa
> > ult/deploy/geoserver.war/WEB-INF/lib/xercesImpl-2.4.0.jar
> > 20800000-208fa000 rwxp 20800000 00:00 0
> > 208fa000-20900000 --xp 208fa000 00:00 0
> > 20900000-209de000 rwxp 20900000 00:00 0
> > 209de000-20a00000 --xp 209de000 00:00 0
> > 20a00000-20af2000 rwxp 20a00000 00:00 0
> > 20af2000-20b00000 --xp 20af2000 00:00 0
> > 20b7f000-20b82000 --xp 20b7f000 00:00 0
> > 20b82000-20d00000 rwxp 20b82000 00:00 0
> > 20d00000-20de2000 rwxp 20d00000 00:00 0
> > 20de2000-20e00000 --xp 20de2000 00:00 0
> > 20e7f000-20e82000 --xp 20e7f000 00:00 0
> > 20e82000-20f00000 rwxp 20e82000 00:00 0
> > 20f00000-21700000 r-xs 00000000 08:04 810257
> /tmp/Geotools/Databases/HSQL/EP
> > SG.data
> > 21700000-217f6000 rwxp 21700000 00:00 0
> > 217f6000-21800000 --xp 217f6000 00:00 0
> > 21800000-21900000 rwxp 21800000 00:00 0
> > 2197f000-21982000 --xp 2197f000 00:00 0
> > 21982000-21aff000 rwxp 21982000 00:00 0
> > 21aff000-21b00000 --xp 21aff000 00:00 0
> > 21b07000-21b1c000 r-xp 00000000 08:04 356333
> /usr/java/jre1.5.0_19/lib/i386/
> > libdcpr.so
> > 21b1c000-21b2f000 rwxp 00014000 08:04 356333
> /usr/java/jre1.5.0_19/lib/i386/
> > libdcpr.so
> > 21b2f000-21b32000 --xp 21b2f000 00:00 0
> > 21b32000-21bb0000 rwxp 21b32000 00:00 0
> > 21bb0000-2217b000 r-xp 00000000 08:04 712532
> /opt/gdallibs/libgdal.so.1.11.4
> >
> > 2217b000-221e3000 rwxp 005cb000 08:04 71./run.sh: line 255: 11993 Aborted
> >           "$JAVA" $JAVA_OPTS -Djava.endorsed.dirs="$JBOSS_ENDORSED_DIRS"
> -classp
> > ath "$JBOSS_CLASSPATH" org.jboss.Main "$@"
>
>
>
> --
> ========= mailto:david.w.boyd@saic.com <david.w.boyd@saic.com>============
>
> David W. Boyd
> VP, Chief Technical Officer
> Advanced Intelligence Solutions Operation
>
> 6359 Walker Ln, Suite 100
> Alexandria, Va 22310
>
> US voice:  +1-703-253-6960
> fax:       +1-703-253-1061
> US cell:   +1-703-402-7908
> ============== http://www.saic.com/ ============
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090918/c614ac0b/attachment.html
From jrepetto at free.fr  Fri Sep 18 04:18:41 2009
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Fri Sep 18 04:33:16 2009
Subject: [gdal-dev] problems with gdal_translate
In-Reply-To: <6ec71d090909180025w5aeadc8csb55d2ca332c5defc@mail.gmail.com>
References: <6ec71d090909180025w5aeadc8csb55d2ca332c5defc@mail.gmail.com>
Message-ID: <4AB34261.7040905@free.fr>

Oz Nahum wrote :
> I am trying to convert a tif with the following extents to an AAIGrid, 
> with gdal translate.
> The tiff file has the following extent:
> (3366307.0, 1.0, 0.0, 5814845.0, 0.0, -1.0)
> and the following resolution 1483, 1391.
> 
> This is really weired because the source code says, that this behavior 
> should be only if the cell size is not square. I think that the input 
> cell sizes are square, am I wrong ?

Since the horizontal resolution is 1483m/pixel and the vertical 
resolution is 1391m/pixel, it is obvious that your cells are not square !
From yilmaz.arslanoglu at gmail.com  Fri Sep 18 06:21:21 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Fri Sep 18 06:21:23 2009
Subject: [gdal-dev] simple listing of layers by OGR
In-Reply-To: <4AB2990F.3070009@pobox.com>
References: <150158ad0909170558w3fcdc644i228b560dbdfa33d8@mail.gmail.com>
	<150158ad0909170605i570eecb0ifa8e640682951f20@mail.gmail.com>
	<4AB2990F.3070009@pobox.com>
Message-ID: <150158ad0909180321i2cba2eb5u10b78f593e239685@mail.gmail.com>

Frank, thank you very much for the answer.

Yes, I use the "ogrinfo" application that comes with the FWTools installation.
( Thanks by the way for this wonderful set of tools  )
For my own application, I just built the GDAL library with
default configuration options, just changing the compiler
version to 1500 (stating that I'm using Visual Studio 2008)

Ok, let me apply the changes that you proposed.

Best regards,
Yilmaz

On Thu, Sep 17, 2009 at 10:16 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Yilmaz Arslanoglu wrote:
>>
>> Hello everybody;
>>
>> First of all, I would like to say that I am quite new in S-57 format
>> and GDAL/OGR libraries.
>>
>> As a starting point, I downloaded the source codes and built the whole
>> GDAL library on my computer,
>> using the "nmake" of Visual Studio 2008.
>>
>> Now:
>>
>> poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
>> for (int i = 0; i < poDS->GetLayerCount(); i++)
>> ?printf("layer %d: %s\n", i,
>> poDS->GetLayer(i)->GetLayerDefn()->GetName());
>>
>> When I try to list the layer names of a datasource with the code snippet
>> above,
>> I get the following result:
>>
>> layer 0: DSID
>> layer 1: Point
>> layer 2: Line
>> layer 3: Area
>> layer 4: Meta
>>
>> However, the utility application "ogrinfo" gives a quite different
>> result as follows:
>> (when run with command ?"ogrinfo US5LA24M.000" )
>>
>> 1: DSID (None)
>> 2: ACHARE
>> 3: BCNLAT (Point)
>> 4: BCNSPP (Point)
>> 5: BUISGL
>> ...
>> ...
>> ...
>> 49: M_QUAL (Polygon)
>> 50: C_ASSO (None)
>>
>> I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
>> directory, however,
>> I could not find a difference in terms of listing the layers in the
>> dataset.
>>
>> What could be the problem, is there a point that I'm missing?
>
> Yilmaz,
>
> In the case where you only get DSID, Point, Line, Area and Meta
> layers the OGR S-57 driver was unable to find the s57 object class
> .csv files at runtime in order to properly categorize things in
> feature classes.
>
> This might be accomplished by setting the GDAL_DATA configuration
> variable either via the environment or the CPLSetConfigOption()
> function. ?Were you using ogrinfo from an environment like
> OSGeo4W or FWTools that sets up the environment carefully?
>
> In some form this question needs to be in the FAQ!
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
>
From felix.schalck at gmail.com  Fri Sep 18 08:38:26 2009
From: felix.schalck at gmail.com (Felix Schalck)
Date: Fri Sep 18 08:38:30 2009
Subject: [gdal-dev] Reading/Converting .GDB files ?
Message-ID: <ca2dd22a0909180538u10e0feb4sf4b922c0a706b40c@mail.gmail.com>

Hello,

I was looking for high quality river data to complete my topographic
map, when somebody at the grass mailing list pointed me towards this
site:

http://desert.jrc.ec.europa.eu/action/php/index.php?action=view&id=23

The data is said to be of "ArcGis geodatabase" format. I downloaded
the files and it definitely looks like sort of a
database, with each entry split among 4 differents files:

<entry>.freelist
<entry>.gdbindexes
<entry>.gdbtable
<entry>.gdbtablx.
Plus one "gdb" file in the root directory of the db.

Unfortunately, ogrinfo doesn't seem to recognise any of the different
files (but maybe I don't have the right driver compiled into (although
PGEO is shown supported by ogrinfo -f). Has anyone here a clue on how
to open this db, and convert it to something I could work with (like
shapefile, for an instance) ? I got no answer so far from the grass
mailing list, nor from the author of the CCM data.

Thanks for your help,

Felix
From szekerest at gmail.com  Fri Sep 18 08:51:43 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Sep 18 08:51:50 2009
Subject: [gdal-dev] Recent Windows binaries?
In-Reply-To: <4AB2B786.9050501@noaa.gov>
References: <eca2395a499c4842.4ab0b7d8@noaa.gov>
	<f3b73b7d0909161311x37cfcfaoed0c656b62770210@mail.gmail.com>
	<4AB2B786.9050501@noaa.gov>
Message-ID: <f3b73b7d0909180551u154103b9x5a162da1029b1c9f@mail.gmail.com>

I've now reconfigured to port 80 either, it that helps:

http://vbkto.dyndns.org/sdk/


Best regards,

Tamas



2009/9/18 Christopher Barker <Chris.Barker@noaa.gov>

> Tamas Szekeres wrote:
>
>> You may get the most recent versions compiled daily from the development
>> and stable branches from this location
>> http://vbkto.dyndns.org:1280/sdk/
>>
>
> Thanks, it took a bit of manipulating, as those are not installed quite the
> same way.
>
> Also, port 1280 is blocked by our firewall, so I had to find a way to
> download it from outside our system.
>
> In short, it would be really nice if:
>
>     http://download.osgeo.org/gdal/win32/1.6/
>>
>
> had up to date binaries...
>
>
> -Chris
>
> --
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker@noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090918/64c94371/attachment.html
From jason.roberts at duke.edu  Fri Sep 18 09:39:28 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Fri Sep 18 09:39:33 2009
Subject: [gdal-dev] Reading/Converting .GDB files ?
In-Reply-To: <ca2dd22a0909180538u10e0feb4sf4b922c0a706b40c@mail.gmail.com>
References: <ca2dd22a0909180538u10e0feb4sf4b922c0a706b40c@mail.gmail.com>
Message-ID: <005b01ca3865$72486580$56d93080$@roberts@duke.edu>

Felix,

That sounds like it is in ArcGIS "file geodatabase" format. As far as I
know, OGR cannot read that format. OGR can read ArcGIS "personal
geodatabase" format with the PGEO driver. If you know someone with ArcGIS,
ask them to convert the file geodatabase to a personal geodatabase and then
you can use the PGEO driver. (Or just ask them to extract the data to
shapefiles, if that is easier.)

Personal geodatabases are actually just Microsoft Access databases with a
certain schema. File geodatabases are a proprietary binary format. ESRI
introduced file geodatabases in ArcGIS 9.2, perhaps to address a 2GB size
limitation of personal geodatabases imposed by Microsoft Access. Although
the two formats have similar names, it is not a simple matter to modify the
PGEO driver to read file geodatabases. An entirely new driver must be
developed. I read previously that the OGR team would not consider this until
ESRI provides documentation or an API. I can't find the exact email message
but this one gives you the idea:
http://wiki.postgis.org/pipermail/postgis-users/2008-February/018593.html

If anyone has an update on that, please let us know...

Best regards,

Jason


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Felix Schalck
Sent: Friday, September 18, 2009 8:38 AM
To: gdal-dev
Subject: [gdal-dev] Reading/Converting .GDB files ?

Hello,

I was looking for high quality river data to complete my topographic
map, when somebody at the grass mailing list pointed me towards this
site:

http://desert.jrc.ec.europa.eu/action/php/index.php?action=view&id=23

The data is said to be of "ArcGis geodatabase" format. I downloaded
the files and it definitely looks like sort of a
database, with each entry split among 4 differents files:

<entry>.freelist
<entry>.gdbindexes
<entry>.gdbtable
<entry>.gdbtablx.
Plus one "gdb" file in the root directory of the db.

Unfortunately, ogrinfo doesn't seem to recognise any of the different
files (but maybe I don't have the right driver compiled into (although
PGEO is shown supported by ogrinfo -f). Has anyone here a clue on how
to open this db, and convert it to something I could work with (like
shapefile, for an instance) ? I got no answer so far from the grass
mailing list, nor from the author of the CCM data.

Thanks for your help,

Felix
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Fri Sep 18 09:40:36 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Sep 18 09:40:36 2009
Subject: [gdal-dev] Reading/Converting .GDB files ?
In-Reply-To: <ca2dd22a0909180538u10e0feb4sf4b922c0a706b40c@mail.gmail.com>
References: <ca2dd22a0909180538u10e0feb4sf4b922c0a706b40c@mail.gmail.com>
Message-ID: <4AB38DD4.5040009@pobox.com>

Felix Schalck wrote:
> Hello,
> 
> I was looking for high quality river data to complete my topographic
> map, when somebody at the grass mailing list pointed me towards this
> site:
> 
> http://desert.jrc.ec.europa.eu/action/php/index.php?action=view&id=23
> 
> The data is said to be of "ArcGis geodatabase" format. I downloaded
> the files and it definitely looks like sort of a
> database, with each entry split among 4 differents files:
> 
> <entry>.freelist
> <entry>.gdbindexes
> <entry>.gdbtable
> <entry>.gdbtablx.
> Plus one "gdb" file in the root directory of the db.
> 
> Unfortunately, ogrinfo doesn't seem to recognise any of the different
> files (but maybe I don't have the right driver compiled into (although
> PGEO is shown supported by ogrinfo -f). Has anyone here a clue on how
> to open this db, and convert it to something I could work with (like
> shapefile, for an instance) ? I got no answer so far from the grass
> mailing list, nor from the author of the CCM data.

Felix,

I would guess this is the "new" File Geodatabase which is not supported
by any non-ESRI product yet as far as I know.  There is reason to hope
for some sort of SDK that could be integrated into GDAL someday but for
now you would need to convert this to something more widely accessable
using ArcGIS.

You might try and prevail on the data provider to convert it to a
*personal geodatabase* which is more widely supported (on windows).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From martin.geng at gmx.de  Fri Sep 18 10:03:24 2009
From: martin.geng at gmx.de (Martin Geng)
Date: Fri Sep 18 10:03:30 2009
Subject: [gdal-dev] (no subject)
Message-ID: <20090918140324.322450@gmx.net>

I have a city map in Cassini_Soldner projection with a separate file containing the Soldner coordinates of the 4 corners.
I want to reproject it to WGS84 in order to render it e.g. with SharpMap and display some GPS positions.
I have tried it with some different parameter settings of gdalwarp but in every case the resulting image is distorted (the size of the generated tif is decreased to 15141, 6943).
Even if with the parameter -ts 15118 11339 the original size is adjusted SharpMap or QGis will display it distorted (IrfanView without distortion).

Is there another way to get a non distorted image or what did I wrong?

Martin

..\FWTools2.4.2\bin>gdalinfo pic.tif
Driver: GTiff/GeoTIFF
Files: pic.tif
Size is 15118, 11339
Coordinate System is `'
Metadata:
  TIFFTAG_SOFTWARE=IrfanView
  TIFFTAG_XRESOLUTION=600
  TIFFTAG_YRESOLUTION=600
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,11339.0)
Upper Right (15118.0,    0.0)
Lower Right (15118.0,11339.0)
Center      ( 7559.0, 5669.5)
Band 1 Block=15118x1 Type=Byte, ColorInterp=Palette
  Color Table (RGB with 256 entries)
    0: 0,0,0,255
    1: 1,1,1,255


gcp	mapX	mapY	pixelX	pixelY
------------------------------------------------
upper left	27200	17200	0	0
upper right	30400	17200	15118	0
lower right	30400	14800	15118	-11339
lower left	27200	14800	0	-11339


Gcp	mapX	mapY	pixelX	pixelY
-------------------------------------------------------
upper left 13.4370322252183 52.4818154665202 0 0
upper right 13.4841338099227 52.4818815506509 15118 0
lower right 13.4842034283538 52.4603136448411 15118 -11339
lower left 13.4371248633278 52.4602476117909 0 -11339

First I use gdal_translate to add the corner pixel coordinates in WGS84 to the file as ground control points:

..\FWTools2.4.2\bin>gdal_translate pic.tif pic_gcp.tif
-gcp 0 0 13.4370322252183 52.4818154665202
-gcp 15118 0 13.4841338099227 52.4818815506509
-gcp 15118 11339 13.4842034283538 52.4603136448411
-gcp 0 11339 13.4371248633278 52.4602476117909

..\FWTools2.4.2\bin>gdalinfo pic_gcp.tif
Driver: GTiff/GeoTIFF
Files: pic_gcp.tif
Size is 15118, 11339
Coordinate System is `'
GCP Projection =
GCP[  0]: Id=1, Info= (0,0) -> (13.4370322252183,52.4818154665202,0)
GCP[  1]: Id=2, Info= (15118,0) -> (13.4841338099227,52.4818815506509,0)
GCP[  2]: Id=3, Info= (15118,11339) -> (13.4842034283538,52.4603136448411,0)
GCP[  3]: Id=4, Info= (0,11339) -> (13.4371248633278,52.4602476117909,0)
Metadata:
  TIFFTAG_SOFTWARE=IrfanView
  TIFFTAG_XRESOLUTION=600
  TIFFTAG_YRESOLUTION=600
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,11339.0)
Upper Right (15118.0,    0.0)
Lower Right (15118.0,11339.0)
Center      ( 7559.0, 5669.5)
Band 1 Block=15118x1 Type=Byte, ColorInterp=Palette
  Color Table (RGB with 256 entries)
    0: 0,0,0,255
    1: 1,1,1,255

To perform the transformation I call gdalwarp
note:
-s_srs: By giving the ground control points in WGS84 coordinates the original Soldner projection has been discarded.
-tr: sets target resolution equal in x- and y- directions to get a non distorted picture

gdalwarp -s_srs EPSG:4326 -t_srs EPSG:4326 -tr 0.000003115596289 0.000003115596289 pic_gcp.tif result2.tif
Copying color table from pic_gcp.tif to new file.
Creating output file that is 15141P x 6943L.
Processing input file pic_gcp.tif.
0...10...20...30...40...50...60...70...80...90...100 - done.

..\FWTools2.4.2\bin>gdalinfo result2.tif
Driver: GTiff/GeoTIFF
Files: result2.tif
Size is 15141, 6943
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (13.437037980137905,52.481881537880760)
Pixel Size = (0.000003115596289,-0.000003115596289)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  13.4370380,  52.4818815) ( 13d26'13.34"E, 52d28'54.77"N)
Lower Left  (  13.4370380,  52.4602500) ( 13d26'13.34"E, 52d27'36.90"N)
Upper Right (  13.4842112,  52.4818815) ( 13d29'3.16"E, 52d28'54.77"N)
Lower Right (  13.4842112,  52.4602500) ( 13d29'3.16"E, 52d27'36.90"N)
Center      (  13.4606246,  52.4710657) ( 13d27'38.25"E, 52d28'15.84"N)
Band 1 Block=15141x1 Type=Byte, ColorInterp=Palette
  Color Table (RGB with 256 entries)
    0: 0,0,0,255
    1: 1,1,1,255


-- 
Jetzt kostenlos herunterladen: Internet Explorer 8 und Mozilla Firefox 3 -
sicherer, schneller und einfacher! http://portal.gmx.net/de/go/atbrowser
From felix.schalck at gmail.com  Fri Sep 18 10:30:40 2009
From: felix.schalck at gmail.com (Felix Schalck)
Date: Fri Sep 18 10:30:43 2009
Subject: [gdal-dev] Reading/Converting .GDB files ?
In-Reply-To: <4AB38DD4.5040009@pobox.com>
References: <ca2dd22a0909180538u10e0feb4sf4b922c0a706b40c@mail.gmail.com>
	<4AB38DD4.5040009@pobox.com>
Message-ID: <ca2dd22a0909180730p727564bal6561950ba6164888@mail.gmail.com>

Thank you very much for the information. Looks like I'm stuck here,
since I have no access to ArcGIS. The one thing I don't understand at
all, is the idea behind distributing Data sponsored by Europe -eg
public- money "freely" (there are limitations, though) in a non-free
format you can only read with costy third party softwares... My only
hope here is a response from the author/distibuter of the data.

Again, thank for your help,

Felix
From warmerdam at pobox.com  Fri Sep 18 10:39:09 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Sep 18 10:39:16 2009
Subject: [gdal-dev] Cassini_Soldner warping using WGS84 GCPs is distorted
In-Reply-To: <20090918140324.322450@gmx.net>
References: <20090918140324.322450@gmx.net>
Message-ID: <4AB39B8D.6000801@pobox.com>

Martin Geng wrote:
> I have a city map in Cassini_Soldner projection with a separate file
> containing the Soldner coordinates of the 4 corners.
> I want to reproject it to WGS84 in order to render it e.g. with SharpMap and
> display some GPS positions.
> I have tried it with some different parameter settings of gdalwarp but in
 > every case the resulting image is distorted (the size of the generated tif is
> decreased to 15141, 6943).
> Even if with the parameter -ts 15118 11339 the original size is adjusted
> SharpMap or QGis will display it distorted (IrfanView without distortion).
> 
> Is there another way to get a non distorted image or what did I wrong?
> Martin
> 
> ..\FWTools2.4.2\bin>gdalinfo pic.tif
> Driver: GTiff/GeoTIFF
> Files: pic.tif
> Size is 15118, 11339
...
> gcp	mapX	mapY	pixelX	pixelY
> ------------------------------------------------
> upper left	27200	17200	0	0
> upper right	30400	17200	15118	0
> lower right	30400	14800	15118	-11339
> lower left	27200	14800	0	-11339
> 
> 
> Gcp	mapX	mapY	pixelX	pixelY
> -------------------------------------------------------
> upper left 13.4370322252183 52.4818154665202 0 0
> upper right 13.4841338099227 52.4818815506509 15118 0
> lower right 13.4842034283538 52.4603136448411 15118 -11339
> lower left 13.4371248633278 52.4602476117909 0 -11339

Martin,

Examining the GCPs in WGS84 space I see:

 >>> (13.4841338099227  - 13.4370322252183) / 15118
3.1155962894827404e-06
 >>> "%.10f" % ((13.4841338099227  - 13.4370322252183) / 15118)
'0.0000031156'
 >>> "%.10f" % ((52.4818154665202 - 52.4602476117909)/ 11339)
'0.0000019021'


Basically, in WGS84 space your source pixels are distinctly
non-square and gdalwarp distorts your image to produce square
pixels in the output projection.  If you want to preserve
the original aspect ratio try:

   -tr 0.0000031 0.0000019

on the gdalwarp commandline.

But basically WGS84 and Cassini-Soldner have quite different
characteristics in the area of your image, and WGS84 may not
be a good working coordinate system for the image.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Chris.Barker at noaa.gov  Fri Sep 18 12:17:10 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Sep 18 12:14:57 2009
Subject: [gdal-dev] Recent Windows binaries?
In-Reply-To: <f3b73b7d0909180551u154103b9x5a162da1029b1c9f@mail.gmail.com>
References: <eca2395a499c4842.4ab0b7d8@noaa.gov>
	<f3b73b7d0909161311x37cfcfaoed0c656b62770210@mail.gmail.com>
	<4AB2B786.9050501@noaa.gov>
	<f3b73b7d0909180551u154103b9x5a162da1029b1c9f@mail.gmail.com>
Message-ID: <4AB3B286.4030000@noaa.gov>

Tamas Szekeres wrote:
> I've now reconfigured to port 80 either, it that helps:
> 
> http://vbkto.dyndns.org/sdk/

yes, it does -- much easier, thanks!

-Chris

-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From hobu.inc at gmail.com  Fri Sep 18 12:14:06 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Sep 18 12:16:32 2009
Subject: [gdal-dev] trunk/gdal/apps/ogrdissolve.cpp
In-Reply-To: <h8va6a$ju4$1@ger.gmane.org>
References: <h8va6a$ju4$1@ger.gmane.org>
Message-ID: <784000E8-15B1-4204-9FCC-D76EEE7E16B4@gmail.com>


On Sep 18, 2009, at 1:43 AM, Hermann Peifer wrote:

> Hi,
>
> I see there is a potentially helpful utility for dissolving  
> geometries at http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/ogrdissolve.cpp
>
> But obviously, there is no related executable in GDAL 1.6.2 or  
> 1.7.0dev. Are there any plans to continue work on ogrdissolve?
>
> Hermann

Hermann,

I didn't have any plans to keep support for that going as a utility,  
which is why it hasn't been more widely promoted or why it doesn't  
build by default.  Its methods are suspect (depend upon GEOS'  
buffer(0) segmentation routines), and for geometry that is highly  
coincident that you might frequently want to dissolve (think parcel  
boundaries), GEOS often degenerates without some serious handholding.   
You can also do the same thing as ogrdissolve by loading your data  
into postgis and issuing a little SQL and have way more flexibility.   
All of these things made me drop the effort.

It exists now as some code examples, and when a developer notices it  
isn't really being used, it might (and can) be removed from the  
repository.

Howard
From nahumoz at gmail.com  Fri Sep 18 12:49:11 2009
From: nahumoz at gmail.com (Oz Nahum)
Date: Fri Sep 18 12:49:15 2009
Subject: [gdal-dev] problems with gdal_translate
In-Reply-To: <4AB34261.7040905@free.fr>
References: <6ec71d090909180025w5aeadc8csb55d2ca332c5defc@mail.gmail.com>
	<4AB34261.7040905@free.fr>
Message-ID: <6ec71d090909180949y6f2cdb98p51538c65b4f98627@mail.gmail.com>

Hi Jean-Claude,
Thanks for your answer !

I would like still to find some things which are not clear to me. Any help
would be appreciated.

Since the horizontal resolution is 1483m/pixel and the vertical resolution
> is 1391m/pixel, it is obvious that your cells are not square !
>


Hi Jean,
Thanks for your message. Well if that's the case then the error notice in
the code should be changed, imho.
Since the error says:

       "of CELLSIZE since the input pixels are non-square.

But the pixels them selves are square ! Just the whole tiff itself has a non
square resolution.

    adfGeoTransform[0] /* top left x */
    adfGeoTransform[1] /* w-e pixel resolution */
    adfGeoTransform[2] /* rotation, 0 if image is "north up" */
    adfGeoTransform[3] /* top left y */
    adfGeoTransform[4] /* rotation, 0 if image is "north up" */
    adfGeoTransform[5] /* n-s pixel resolution */


following the python api tutorial here http://www.gdal.org/gdal_tutorial.html
I understood that my pixel size is 1 by 1.
So the differnce is:
 the C++ is looking at the X-Y resolution and call is pixel size ?
Whereas in the python tutorial, called this the ,dataSource.RasterXSize ,
dataSource.RasterYSize.


>>> dataSource = gdal.Open('area_of_interest.tif')
>>> geotransform = dataSource.GetGeoTransform()
>>> print 'Pixel Size = (',geotransform[1], ',',geotransform[5],')'
Pixel Size = ( 1.0 , -1.0 )
>>> print 'Origin = (',geotransform[0], ',',geotransform[3],')'
Origin = ( 3366307.0 , 5814845.0 )
>>> print 'Size is ',dataSource.RasterXSize,'x',dataSource.RasterYSize,
'x',dataSource.RasterCount
Size is  1483 x 1391 x 1

Also, one more thing I noticed,
when I convert the tiff to resized tiff, this error is not raised !


Oz Nahum
Graduate Student
Zentrum f?r Angewandte Geologie
Universit?t T?bingen

---

Imagine there's no countries
it isn't hard to do
Nothing to kill or die for
And no religion too
Imagine all the people
Living life in peace
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090918/8fb7e46e/attachment.html
From randre at gmail.com  Sat Sep 19 01:16:43 2009
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Sat Sep 19 01:16:46 2009
Subject: [gdal-dev] Shortening execution time of Python script
In-Reply-To: <711769.10157.qm@web26306.mail.ukl.yahoo.com>
References: <711769.10157.qm@web26306.mail.ukl.yahoo.com>
Message-ID: <9c2015090909182216v708fd3d9v5a52f7c1773c2f9@mail.gmail.com>

So the problem is that ArcGIS Server is expecting the data to be ready
(unzipped), but due to the large size of the data set, the unzip has not
finished?

Roger
--

On Wed, Sep 9, 2009 at 3:54 AM, David Shi <davidgshi@yahoo.co.uk> wrote:

> I have a Python script that automatically downloads zip files containing
> large datasets from another server and then unzips the files to further
> process the data.
>
> It has been used as a geoprocessor of ArcGIS Server.
>
> The script works fine when two datasets each has several kilobytes size,
> but the script stops half way when datasets were about 11,000KBytes.
>
> I think that the execution time is too long and ArcGIS Server just simply
> killed the process.
>
> What actions can I try to reduce the execution time?
>
> ArcGIS Server only works on the basis of 32 bits and I was told that the
> maximum memory it can utilise is 4 MBytes.
>
> I should be grateful if someone can make suggestions/recommendations.
>
> Sincerely,
>
> David
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090918/228bb129/attachment.html
From Doug_Newcomb at fws.gov  Sat Sep 19 08:48:05 2009
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Sat Sep 19 08:49:43 2009
Subject: [gdal-dev] Shortening execution time of Python script
In-Reply-To: <9c2015090909182216v708fd3d9v5a52f7c1773c2f9@mail.gmail.com>
Message-ID: <OFED564DD5.EEA99B3D-ON85257636.0045C57F-85257636.004651FC@fws.gov>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: graycol.gif
Type: image/gif
Size: 105 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090919/004e3c02/graycol-0001.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pic28703.gif
Type: image/gif
Size: 1255 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090919/004e3c02/pic28703-0001.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ecblank.gif
Type: image/gif
Size: 45 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090919/004e3c02/ecblank-0001.gif
From even.rouault at mines-paris.org  Sat Sep 19 18:27:01 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Sep 19 18:27:03 2009
Subject: [gdal-dev] Spatialite oddness
In-Reply-To: <loom.20090915T221756-11@post.gmane.org>
References: <loom.20090915T221756-11@post.gmane.org>
Message-ID: <1253399221.4ab55ab54c886@imp.free.fr>

Selon Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>:

Jukka,

yes, I can also reproduce the issue, but the solution is quite easy. You'll have
to convince Frank to update FWTools' sqlite3.dll to a newer one as it appears
that the sqlite lib used by spatialite-gui outputs the SQLITE db in a newer
format that an ancient sqlite3.dll can't read. I've managed to make it work by
just dropping the DLL from http://www.sqlite.org/sqlitedll-3_6_18.zip into
fwtools/bin

(But note, that you won't be able to use the spatial extensions from spatialite
from FWTools. GDAL/OGR needs to be compiled and linked against libspatialite for
that)

Best regards,

Even

> Hi,
>
> I made some trials with Spatialite and faced some problems.
> My environment:
> Windows Vista Business
> Spatialite-GUI v.1.2.1 with Spatialite 2.3.1 inside
> GDAL 1.7.0dev, FWTools 2.4.2, released 2009/06/24
>
> Oddness is that ogr does not recognise Spatialite database that is
> created with Spatialite-GUI. Or it does, initially after the
> database is created but still without data:
> C:\data\Vmap0>ogrinfo bordersdb.sqlite
> INFO: Open of `bordersdb.sqlite'
>       using driver `SQLite' successful.
>
> However, once I have inported a shapefile into this database
> with Spatialite-GUI Load shapefile tool it is no more recognised:
> C:\data\Vmap0>ogrinfo bordersdb.sqlite
> ERROR 1: Unable to fetch list of tables: unsupported file format
> ERROR 1: Unable to fetch list of tables: unsupported file format
> FAILURE:
> Unable to open datasource `bordersdb.sqlite' with the following drivers.
>
> QGis version 1.3.0 build 11628 open this same Spatialite db without
> problems.
>
> I tried also to create a Spatialite database with ogr2ogr from the same
> shapefile as:
> C:\data\Vmap0>ogr2ogr -f SQLite sqlite4.sqlite borders.shp
>  -dsco spatialite=yes
>
> This database is opened by all three: ogr, Spatialite-GUI and QGis.
>
> Is the Spatialite driver that comes with FWtools 2.4.2 outdated
> or what is going on?
>
> By the way, there is quite a difference in file sizes if the same
> shapefile is imported either by Spatialite-GUI or ogr2ogr:
>
> 15.09.2009  20:08           642? 048 Spatialite-GUI_borders.sqlite
> 15.09.2009  20:15            55? 296 FWTools_borders.sqlite
>
>
> -Jukka Rahkonen-
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From 27949218 at qq.com  Sun Sep 20 08:25:36 2009
From: 27949218 at qq.com (=?ISO-8859-1?B?d293?=)
Date: Sun Sep 20 08:27:46 2009
Subject: [gdal-dev] generate contours with different interval 
Message-ID: <tencent_259426A125B951551B5C08AC@qq.com>

Hi,
    I want to generate contours with different intervals in sevaral elevation ranges. For example, if the elevation range is (0,100), the contour interval is 10; if the range is [100, 500), the interval is 50; and if the range is [500, 2000), the interval is 200. Can all those contour generation  be processed in one time. by gdal_contour? What should I do if it cannot? By the way, I do not know the meaning of  the "fixed level" in the process of the contour generation, would someone give me some advices? 
  ------------------
  To the world you're little, but to a person, maybe you're the world.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090920/7b3e6ef3/attachment.html
From rush at winkey.org  Sun Sep 20 09:00:31 2009
From: rush at winkey.org (brian)
Date: Sun Sep 20 09:07:01 2009
Subject: [gdal-dev] generate contours with different interval
In-Reply-To: <tencent_259426A125B951551B5C08AC@qq.com>
References: <tencent_259426A125B951551B5C08AC@qq.com>
Message-ID: <1253451631.17692.6.camel@winkey.org>

wow,

Fixed levels is what you want. It is a list of levels to contour at.

-fl 0 10 20 30 40 50 60 70 80 90 100 150 200 250 300 350 400 450 500 700
800 and so on.

brian


On Sun, 2009-09-20 at 20:25 +0800, wow wrote:
>                                    
>                                    
>                                    
>                                    
>                                    
>                                  Hi,
>                            I want to generate
>                        contours with different
>                          intervals in sevaral
>                         elevation ranges. For
>                            example, if the
>                           elevation range is
>                          (0,100), the contour
>                           interval is 10; if
>                           the range is [100,
>                         500), the interval is
>                        50; and if the range is
>                            [500, 2000), the
>                          interval is 200. Can
>                               all those
>                         contour generation  be
>                         processed in one time.
>                         by gdal_contour? What
>                           should I do if it
>                         cannot? By the way, I
>                        do not know the meaning
>                             of  the "fixed
>                         level" in the process
>                                 of the
>                          contour generation,
>                         would someone give me
>                             some advices? 
>                           ------------------
>                          To the world you're
>                            little, but to a
>                          person, maybe you're
>                               the world.
>                                    
>                                    
>                                    
>                                    
>                                    
>                                    
>                                    
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From szekerest at gmail.com  Sun Sep 20 15:54:22 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Sep 20 15:54:26 2009
Subject: [gdal-dev] Which files in the gdal/data directory are really used
	by gdal at run time?
Message-ID: <f3b73b7d0909201254k427db974n5eb27dd7f04653df@mail.gmail.com>

Hi Devs,

Upon trying to create an installer for my application I'm a bit uncertain
about which files in the gdal/data directory should also be installed as a
prerequisit by the drivers.
I admit I might have searched for the file names in the gdal code in order
to find out which ones are really used, but this is not that task what I
really wanted to do.
In gdal/data we can find dozens of .csv, .wkt files and a couple of .dgn,
.svg and .png files. May I say that each of the .csv, .wkt are to be
installed and the others could be omitted for sure?

I would somewhat require to isolate the run-time files from the other
support files (may be in a different directory in SVN would be considerable)
or a common table to describe the file dependencies of the drivers would
also be helpful.


Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090920/9aff4c5a/attachment.html
From warmerdam at pobox.com  Sun Sep 20 23:19:16 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Sep 20 23:18:53 2009
Subject: [gdal-dev] Motion: Extend Maintenance Contract
Message-ID: <4AB6F0B4.5030307@pobox.com>

Folks,

Motion: Extend Chaitanya's maintenance contract to December 31st.

---

Chaitanya has only billed $1224.00 during the planned maintenance period
ending August 31st, 2009 out of available funding of $6000.00.  Chaitanya
has indicate greater time availability and a wish to continue working as
maintainer.  I would like to modify the existing contract to extend it
till the end of December 2009, without modifying the other terms including
the amount.  So basically giving Chaitanya another 4 months to bill work
against the existing amount.

I will start voting with a +1.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From martin.geng at gmx.de  Mon Sep 21 03:19:03 2009
From: martin.geng at gmx.de (Martin Geng)
Date: Mon Sep 21 03:19:10 2009
Subject: [gdal-dev] Cassini_Soldner warping using WGS84 GCPs is distorted
In-Reply-To: <4AB39B8D.6000801@pobox.com>
References: <20090918140324.322450@gmx.net> <4AB39B8D.6000801@pobox.com>
Message-ID: <20090921071903.185590@gmx.net>

Hi Frank,

thank you for your answer. I have tried
gdalwarp -t_srs EPSG:4326 -tr 0.0000031156 0.0000019021 pic_gcp.tif result.tif
but neither with QGis nor with SharpMap the map is rendered undistorted.
And that although the sizes now have proper values...

Any idea?

Best regards,
Martin

..\FWTools2.4.2\bin>gdalinfo result.tif
Driver: GTiff/GeoTIFF
Files: result.tif
Size is 15141, 11373
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (13.437037980137905,52.481881537880760)
Pixel Size = (0.000003115600000,-0.000001902100000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  13.4370380,  52.4818815) ( 13d26'13.34"E, 52d28'54.77"N)
Lower Left  (  13.4370380,  52.4602490) ( 13d26'13.34"E, 52d27'36.90"N)
Upper Right (  13.4842113,  52.4818815) ( 13d29'3.16"E, 52d28'54.77"N)
Lower Right (  13.4842113,  52.4602490) ( 13d29'3.16"E, 52d27'36.90"N)
Center      (  13.4606246,  52.4710652) ( 13d27'38.25"E, 52d28'15.83"N)
Band 1 Block=15141x1 Type=Byte, ColorInterp=Palette
  Color Table (RGB with 256 entries)
    0: 0,0,0,255
    1: 1,1,1,255
    2: 2,2,2,255

-------- Original-Nachricht --------
> Datum: Fri, 18 Sep 2009 10:39:09 -0400
> Von: Frank Warmerdam <warmerdam@pobox.com>
> An: Martin Geng <martin.geng@gmx.de>
> CC: gdal-dev@lists.osgeo.org
> Betreff: Re: [gdal-dev] Cassini_Soldner warping using WGS84 GCPs is distorted

> Martin,
> 
> Examining the GCPs in WGS84 space I see:
> 
>  >>> (13.4841338099227  - 13.4370322252183) / 15118
> 3.1155962894827404e-06
>  >>> "%.10f" % ((13.4841338099227  - 13.4370322252183) / 15118)
> '0.0000031156'
>  >>> "%.10f" % ((52.4818154665202 - 52.4602476117909)/ 11339)
> '0.0000019021'
> 
> 
> Basically, in WGS84 space your source pixels are distinctly
> non-square and gdalwarp distorts your image to produce square
> pixels in the output projection.  If you want to preserve
> the original aspect ratio try:
> 
>    -tr 0.0000031 0.0000019
> 
> on the gdalwarp commandline.
> 
> But basically WGS84 and Cassini-Soldner have quite different
> characteristics in the area of your image, and WGS84 may not
> be a good working coordinate system for the image.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent

-- 
Neu: GMX Doppel-FLAT mit Internet-Flatrate + Telefon-Flatrate
f?r nur 19,99 Euro/mtl.!* http://portal.gmx.net/de/go/dsl02
From Jukka.Rahkonen at mmmtike.fi  Mon Sep 21 03:44:27 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon Sep 21 03:44:36 2009
Subject: [gdal-dev] Spatialite oddness
In-Reply-To: <1253399221.4ab55ab54c886@imp.free.fr>
References: <loom.20090915T221756-11@post.gmane.org>
	<1253399221.4ab55ab54c886@imp.free.fr>
Message-ID: <CC197224AC75CE4DB23F739B16891B8601879572@tikka.haapa.mmm.fi>

Hi,

Thanks a lot. It was indeed enough to put a new dll into FWTools bin directory. Right now I am pleased enough because I can handle the data storaged in Spatialite database with both FWTools and current Spatialite programs. However, Spatialite database feels so handy that it attracts me to try delivering some data from it through Mapserver. I fear that missing spatial extensions in FWTools means lost spatial indexes and slow bounding box queries as well but I will see it soon.

I made a new FWTools bug number 2099 through bugzilla about outdated dll.

-Jukka Rahkonen-

Even Rouault wrote

> Selon Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>:
> 
> Jukka,
> 
> yes, I can also reproduce the issue, but the solution is 
> quite easy. You'll have to convince Frank to update FWTools' 
> sqlite3.dll to a newer one as it appears that the sqlite lib 
> used by spatialite-gui outputs the SQLITE db in a newer 
> format that an ancient sqlite3.dll can't read. I've managed 
> to make it work by just dropping the DLL from 
> http://www.sqlite.org/sqlitedll-3_6_18.zip into fwtools/bin
> 
> (But note, that you won't be able to use the spatial 
> extensions from spatialite from FWTools. GDAL/OGR needs to be 
> compiled and linked against libspatialite for
> that)
> 
> Best regards,
> 
> Even
> 
> > Hi,
> >
> > I made some trials with Spatialite and faced some problems.
> > My environment:
> > Windows Vista Business
> > Spatialite-GUI v.1.2.1 with Spatialite 2.3.1 inside GDAL 1.7.0dev, 
> > FWTools 2.4.2, released 2009/06/24
> >
> > Oddness is that ogr does not recognise Spatialite database that is 
> > created with Spatialite-GUI. Or it does, initially after 
> the database 
> > is created but still without data:
> > C:\data\Vmap0>ogrinfo bordersdb.sqlite
> > INFO: Open of `bordersdb.sqlite'
> >       using driver `SQLite' successful.
> >
> > However, once I have inported a shapefile into this database with 
> > Spatialite-GUI Load shapefile tool it is no more recognised:
> > C:\data\Vmap0>ogrinfo bordersdb.sqlite ERROR 1: Unable to 
> fetch list 
> > of tables: unsupported file format ERROR 1: Unable to fetch list of 
> > tables: unsupported file format
> > FAILURE:
> > Unable to open datasource `bordersdb.sqlite' with the 
> following drivers.
> >
> > QGis version 1.3.0 build 11628 open this same Spatialite db without 
> > problems.
> >
> > I tried also to create a Spatialite database with ogr2ogr from the 
> > same shapefile as:
> > C:\data\Vmap0>ogr2ogr -f SQLite sqlite4.sqlite borders.shp  -dsco 
> > spatialite=yes
> >
> > This database is opened by all three: ogr, Spatialite-GUI and QGis.
> >
> > Is the Spatialite driver that comes with FWtools 2.4.2 outdated or 
> > what is going on?
> >
> > By the way, there is quite a difference in file sizes if the same 
> > shapefile is imported either by Spatialite-GUI or ogr2ogr:
> >
> > 15.09.2009  20:08           642? 048 Spatialite-GUI_borders.sqlite
> > 15.09.2009  20:15            55? 296 FWTools_borders.sqlite
> >
> >
> > -Jukka Rahkonen-
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> 
> 
> 
From frankie at debian.org  Mon Sep 21 04:45:37 2009
From: frankie at debian.org (Francesco P. Lovergine)
Date: Mon Sep 21 05:08:20 2009
Subject: [gdal-dev] Problems with TIFF internal symbols
In-Reply-To: <20090918085503.2209277e@valentinows>
References: <20090918085503.2209277e@valentinows>
Message-ID: <20090921084537.GC3748@mithrandir>

On Fri, Sep 18, 2009 at 08:55:03AM +0200, Antonio Valentino wrote:
> Hi list,
> I'm trying to use OTB (Orfeo ToolBox) on Debian Sid with GDAL 1.6.2 and
> I get a lot of segmentation fault related to GDAL and TIFF files.
> 
> A guy on the OTB mailing list suggested that it could depend on the
> "with-hide-internal-symbols" flag used for Debian packages.
> 
> See thread
> 
> http groups dot google dot com /group/otb-users/browse_thread/thread/be8ad5e263aafe14
> 
> (sorry the spam filter of my ISP keeps blocking this message)
> 
> Is the above hypothesis correct?
> How can we solve the issue in this case?
> 
>  
> Best regards
> 

The only problem found in the past with that option was:

http://svn.debian.org/viewsvn/pkg-grass/packages/gdal/trunk/debian/patches/cpl_dll.dpatch?revision=2232&view=markup

and it was detected at linking time. It seems OTB is misusing the original TIFF API or exploting
some inner problems of the same library. Note that
the geotiff internal gdal library has been used since 1.6.0 in debian, the old one used the same
library you are now linking with the default configuration. So the objection seems pointless.

-- 
Francesco P. Lovergine
From antonio.valentino at tiscali.it  Mon Sep 21 06:23:18 2009
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Mon Sep 21 06:23:25 2009
Subject: [gdal-dev] Problems with TIFF internal symbols
References: <20090918085503.2209277e@valentinows>
	<20090921084537.GC3748@mithrandir>
Message-ID: <49D1C6DB14DA4A3A9910E215346F0BAB@innova.locale>

Hi Francesco,
thanks for your feedback


----- Original Message ----- 
From: "Francesco P. Lovergine" <frankie@debian.org>
To: "Antonio Valentino" <antonio.valentino@tiscali.it>
Cc: <gdal-dev@lists.osgeo.org>
Sent: Monday, September 21, 2009 10:45 AM
Subject: Re: [gdal-dev] Problems with TIFF internal symbols


> On Fri, Sep 18, 2009 at 08:55:03AM +0200, Antonio Valentino wrote:
>> Hi list,
>> I'm trying to use OTB (Orfeo ToolBox) on Debian Sid with GDAL 1.6.2 and
>> I get a lot of segmentation fault related to GDAL and TIFF files.
>>
>> A guy on the OTB mailing list suggested that it could depend on the
>> "with-hide-internal-symbols" flag used for Debian packages.
>>
>> See thread
>>
>> http groups dot google dot com 
>> /group/otb-users/browse_thread/thread/be8ad5e263aafe14
>>
>> (sorry the spam filter of my ISP keeps blocking this message)
>>
>> Is the above hypothesis correct?
>> How can we solve the issue in this case?
>>
>>
>> Best regards
>>
>
> The only problem found in the past with that option was:
>
> http://svn.debian.org/viewsvn/pkg-grass/packages/gdal/trunk/debian/patches/cpl_dll.dpatch?revision=2232&view=markup
>
> and it was detected at linking time. It seems OTB is misusing the original 
> TIFF API or exploting
> some inner problems of the same library. Note that

If my understanding is correct OTB implements some check at configuration 
time in order to determine whenever GDAL exposes TIFF/GeoTIFF simbols or 
not.

http://hg.orfeo-toolbox.org/OTB/file/591cba0c0fb0/CMakeLists.txt#l499

At first look the procedure seems to be correct but segmentation faults 
arise when the GDAL file reader try to open/create TIFF files (the debugger 
stops on the m_hDriver->Create call or so.

I can't figure out why this happens, just I hoped someone more expert than 
me could provide some hint.

> the geotiff internal gdal library has been used since 1.6.0 in debian, the 
> old one used the same
> library you are now linking with the default configuration. So the 
> objection seems pointless.

Yes, no problem with GDAL packages of version < 1.6.0.

I'm aware that the change (use of internal libtiff) happened in 1.6.0 
packages so I guessed the problem could be related to a bad handling of 
libtiff symbols.
I wonder if there is some particular advice on how to build/link client 
code.

Best regards

--
Antonio VALENTINO

From pascal.darre at laposte.net  Mon Sep 21 07:24:10 2009
From: pascal.darre at laposte.net (darrepac)
Date: Mon Sep 21 07:24:12 2009
Subject: [Gdal-dev] Extent of a set of tiles
Message-ID: <1253532250625-3684624.post@n2.nabble.com>


Dear all,

I have a set of tiles. I would like to know the polygon coordinates which
describe the extent of this set of tiles.
Is there a way to make this with GDAL? I saw the possibility to make a
rectangular extent but here it is more a polygon (as the set of tiles
doesn't represent necessary a rectangle)

thanks
Pascal
-- 
View this message in context: http://n2.nabble.com/Extent-of-a-set-of-tiles-tp3684624p3684624.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From hobu.inc at gmail.com  Mon Sep 21 10:35:04 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Sep 21 10:38:06 2009
Subject: [gdal-dev] Motion: Extend Maintenance Contract
In-Reply-To: <4AB6F0B4.5030307@pobox.com>
References: <4AB6F0B4.5030307@pobox.com>
Message-ID: <4873241E-8835-4FE8-AF90-A27F6D541C99@gmail.com>


On Sep 20, 2009, at 10:19 PM, Frank Warmerdam wrote:

> Folks,
>
> Motion: Extend Chaitanya's maintenance contract to December 31st.
>
> ---
>
> Chaitanya has only billed $1224.00 during the planned maintenance  
> period
> ending August 31st, 2009 out of available funding of $6000.00.   
> Chaitanya
> has indicate greater time availability and a wish to continue  
> working as
> maintainer.  I would like to modify the existing contract to extend it
> till the end of December 2009, without modifying the other terms  
> including
> the amount.  So basically giving Chaitanya another 4 months to bill  
> work
> against the existing amount.
>
> I will start voting with a +1.

+1.

Speaking of which, are we going to release 1.7 on your birthday again?
From warmerdam at pobox.com  Mon Sep 21 10:55:55 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Sep 21 10:56:18 2009
Subject: [gdal-dev] 1.7 Release Planning
In-Reply-To: <4873241E-8835-4FE8-AF90-A27F6D541C99@gmail.com>
References: <4AB6F0B4.5030307@pobox.com>
	<4873241E-8835-4FE8-AF90-A27F6D541C99@gmail.com>
Message-ID: <4AB793FB.70003@pobox.com>

Howard Butler wrote:
> Speaking of which, are we going to release 1.7 on your birthday again?

Howard,

I would like to aim somewhat earlier - perhaps the end of October with
a bit of room to slip if needed.

Does anyone have particular features they want to see accomplished in time
for 1.7?

I'd like to see some sort of handling of utf-8 filenames on windows.

I'd like to see a new PCIDSK driver based on the new PCIDSK SDK.

I'd like to see WKT Raster in trunk.

I'd like to see serious progress on the bug list.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From yilmaz.arslanoglu at gmail.com  Mon Sep 21 11:06:39 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Mon Sep 21 11:06:41 2009
Subject: [gdal-dev] OGRGeometry Distance
Message-ID: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>

Hi all;

I wanted to compute the distance between two points,
and for this reason I tried the "OGRGeometry::Distance" member function.

However, I saw that this function only returns the linear
distance between the objects, regardless of their geospatial reference.
(as it is also stated somewhere on the net that GEOS library
implements it this way)

So I would like to compute the actual distance between the points,
let's say,
      23 degrees north, 30 degrees east
and
      25 degrees west, -5 degrees east.

My question is, do we need to implement this functionality by using
projection transformations etc., or is there an easy way to do this
using the OGR library?

Also, as another related question, I query the DEPCNT  layer in one of
my ENC files, and it has a geospatial reference.
However, the points on the line string features themselves return NULL
when they are queried with getSpatialReference().
Aren't they expected to return exactly the same instance for the layer
that they reside on?

Regards,
Yilmaz
From chrisemberson at hotmail.com  Mon Sep 21 11:52:02 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Mon Sep 21 11:52:05 2009
Subject: [gdal-dev] Problem with gdal_translate
In-Reply-To: <1252685208.4aaa7598154d8@imp.free.fr>
References: <BLU145-W85DE4FB0D97CC91182838A3E70@phx.gbl>
	<1252685208.4aaa7598154d8@imp.free.fr>
Message-ID: <BLU145-W210B46BEBFE098FFE7123BA3DD0@phx.gbl>


Thanks for your reply.

Would you be able to give me an example of the syntax for the gdal_translate option?
How do I change the dynamics to 8 bits?
-scale [src_min src_max [dst_min dst_max]]:

Thanks

Chris

> Date: Fri, 11 Sep 2009 18:06:48 +0200
> From: even.rouault@mines-paris.org
> To: chrisemberson@hotmail.com
> CC: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Problem with gdal_translate
> 
> Selon Chris Emberson <chrisemberson@hotmail.com>:
> 
> The behaviour you see is expected. -expand rgb only works for bands that have
> color maps. You can transform your grey scale FILEA.asc into a RGB file by doing
> this :
> 
> gdal_translate -of GTiff -co "TILES=YES" -b 1 -b 1 -b 1 FILEA.asc FILEB.tif
> 
> This will use the source band 1 for the R, G, B components of the output file.
> You may need to use the scaling/translate options of gdal_translate to reduce
> the dynamics to 8 bits.
> 
> >
> > I am having trouble converting a single band raster (.asc) when using the
> > GDAL utility gdal_translate (version 1.6)
> >
> > This is the command...
> > gdal_translate -of GTiff -co "TILES=YES" -expand rgb FILEA.asc FILEB.tif
> >
> > I get this message....
> >
> >
> >
> >
> > Error : band 1 has no color table
> >
> > I want to be able to tile this raster using Mapnik - therefore it needs to be
> > a 3 band tiff - Can anyone help with this problem?
> >
> > Thanks in advance
> >
> > Chris
> >
> >
> >
> >
> >
> >
> >
> > _________________________________________________________________
> > Save time by using Hotmail to access your other email accounts.
> > http://clk.atdmt.com/UKM/go/167688463/direct/01/
> 
> 

_________________________________________________________________
View your other email accounts from your Hotmail inbox. Add them now.
http://clk.atdmt.com/UKM/go/167688463/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090921/f7ff9a13/attachment.html
From peifer at gmx.eu  Mon Sep 21 12:07:01 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon Sep 21 12:07:11 2009
Subject: [gdal-dev] Re: Problem with gdal_translate
In-Reply-To: <BLU145-W210B46BEBFE098FFE7123BA3DD0@phx.gbl>
References: <BLU145-W85DE4FB0D97CC91182838A3E70@phx.gbl>	<1252685208.4aaa7598154d8@imp.free.fr>
	<BLU145-W210B46BEBFE098FFE7123BA3DD0@phx.gbl>
Message-ID: <4AB7A4A5.9050807@gmx.eu>

gdal_translate -scale src_dataset.asc dst_dataset.tif


-scale [src_min src_max [dst_min dst_max]]:
     Rescale the input pixels values from the range src_min to src_max 
to the range dst_min to dst_max. If omitted the output range is 0 to 
255. If omitted the input range is automatically computed from the 
source data.

see: http://gdal.org/gdal_translate.html

By the way: TILES is not a valid creation option (TILED however is).

Hermann


Chris Emberson wrote:
> Thanks for your reply.
> 
> Would you be able to give me an example of the syntax for the 
> gdal_translate option*?
> *How do I change the dynamics to 8 bits?*
> -scale* /[src_min src_max [dst_min dst_max]]/:
> 
> Thanks
> 
> Chris
> 
>  > Date: Fri, 11 Sep 2009 18:06:48 +0200
>  > From: even.rouault@mines-paris.org
>  > To: chrisemberson@hotmail.com
>  > CC: gdal-dev@lists.osgeo.org
>  > Subject: Re: [gdal-dev] Problem with gdal_translate
>  >
>  > Selon Chris Emberson <chrisemberson@hotmail.com>:
>  >
>  > The behaviour you see is expected. -expand rgb only works for bands 
> that have
>  > color maps. You can transform your grey scale FILEA.asc into a RGB 
> file by doing
>  > this :
>  >
>  > gdal_translate -of GTiff -co "TILES=YES" -b 1 -b 1 -b 1 FILEA.asc 
> FILEB.tif
>  >
>  > This will use the source band 1 for the R, G, B components of the 
> output file.
>  > You may need to use the scaling/translate options of gdal_translate 
> to reduce
>  > the dynamics to 8 bits.
>  >
>  > >
>  > > I am having trouble converting a single band raster (.asc) when 
> using the
>  > > GDAL utility gdal_translate (version 1.6)
>  > >
>  > > This is the command...
>  > > gdal_translate -of GTiff -co "TILES=YES" -expand rgb FILEA.asc 
> FILEB.tif
>  > >
>  > > I get this message....
>  > >
>  > >
>  > >
>  > >
>  > > Error : band 1 has no color table
>  > >
>  > > I want to be able to tile this raster using Mapnik - therefore it 
> needs to be
>  > > a 3 band tiff - Can anyone help with this problem?
>  > >
>  > > Thanks in advance
>  > >
>  > > Chris
>  > >
>  > >
>  > >
>  > >
>  > >
>  > >
>  > >
>  > > _________________________________________________________________
>  > > Save time by using Hotmail to access your other email accounts.
>  > > http://clk.atdmt.com/UKM/go/167688463/direct/01/
>  >
>  >
> 
> ------------------------------------------------------------------------
> View your other email accounts from your Hotmail inbox. Add them now. 
> <http://clk.atdmt.com/UKM/go/167688463/direct/01/>
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From szekerest at gmail.com  Mon Sep 21 12:07:16 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Sep 21 12:07:23 2009
Subject: [gdal-dev] Motion: Extend Maintenance Contract
In-Reply-To: <4AB6F0B4.5030307@pobox.com>
References: <4AB6F0B4.5030307@pobox.com>
Message-ID: <f3b73b7d0909210907o59b8a01eibf369402a32ee752@mail.gmail.com>

+1

Best regards,

Tamas


2009/9/21 Frank Warmerdam <warmerdam@pobox.com>

> Folks,
>
> Motion: Extend Chaitanya's maintenance contract to December 31st.
>
> ---
>
> Chaitanya has only billed $1224.00 during the planned maintenance period
> ending August 31st, 2009 out of available funding of $6000.00.  Chaitanya
> has indicate greater time availability and a wish to continue working as
> maintainer.  I would like to modify the existing contract to extend it
> till the end of December 2009, without modifying the other terms including
> the amount.  So basically giving Chaitanya another 4 months to bill work
> against the existing amount.
>
> I will start voting with a +1.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090921/02036fbb/attachment.html
From scott.lewis at nsidc.org  Mon Sep 21 12:14:18 2009
From: scott.lewis at nsidc.org (Scott Lewis)
Date: Mon Sep 21 12:24:00 2009
Subject: [gdal-dev] gdal_rasterize with a NetCDF file?
Message-ID: <4AB7A65A.8060505@nsidc.org>

Hi,

I'm still fairly new at using GDAL, but I am having trouble burning a
vector image onto a NetCDF file.  I've had success with using
gdal_rasterize to burn a vector onto a GeoTIFF file, but when I try to
burn the same vector onto a NetCDF file, I get an error.

Based on the error, I'm suspecting it's because it doesn't know how to
find the right "band" in the NetCDF File (I want the
"Albedo_with_1400_Local_Time_of_Measurement" subdataset), but although
I've looked at the documentation, I'm not sure how to specify this to
gdal_rasterize.

Any help would be much appreciated!  Below is the info.



Here is the command I am trying to run:

/usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
"OGRGeoJSON" dummy.json Albedo.nc


And the error I get:

ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #

/usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize: line 9: 26950
Segmentation fault      $FWTOOLS_HOME/bin/`basename $TARGET` "$@"



Here is the gdalinfo for Albedo.nc:

Driver: netCDF/Network Common Data Format
Files: Albedo.nc
Size is 512, 512
Coordinate System is `'
Metadata:
  NC_GLOBAL#Conventions=CF-1.4
  NC_GLOBAL#institution=National Snow & Ice Data Center, Boulder, CO
  NC_GLOBAL#title=AVHRR Polar Pathfinder Twice-Daily 5 km EASE-Grid
Composites Albedo
  NC_GLOBAL#source=See the title and references for this information
  NC_GLOBAL#comment=Not set at this time
  NC_GLOBAL#references=Documentation available at:
http://nsidc.org/data/docs/daac/nsidc0066_avhrr_5km.gd.html
  NC_GLOBAL#history=Mon, 21 Sep 2009 09:31:24: File created.
Subdatasets:

SUBDATASET_1_NAME=NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement
  SUBDATASET_1_DESC=[1x244x242]
Albedo_with_1400_Local_Time_of_Measurement (8-bit integer)
  SUBDATASET_2_NAME=NETCDF:"Albedo.nc":latitude
  SUBDATASET_2_DESC=[244x242] latitude (64-bit floating-point)
  SUBDATASET_3_NAME=NETCDF:"Albedo.nc":longitude
  SUBDATASET_3_DESC=[244x242] longitude (64-bit floating-point)
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  512.0)
Upper Right (  512.0,    0.0)
Lower Right (  512.0,  512.0)
Center      (  256.0,  256.0)


And for completeness, the dummy.json file (it's basically a triangle):

{
    "type": "FeatureCollection",
    "features": [{
        "type": "Feature",
        "properties": { "BASIN_ID": 1.000000, "AREA_SQKM": 1739.016470 },
        "geometry": {
            "type": "Polygon",
            "coordinates": [ [
                [ -2000000, -2500000 ],
                [ -2500000, -1400000 ],
                [ -1500000, -1400000 ],
                [ -2000000, -2500000 ]
            ] ]
        }
    }]
}



Thanks!

Scott Lewis
National Snow & Ice Data Center
From aribao at gmail.com  Mon Sep 21 13:38:33 2009
From: aribao at gmail.com (=?iso-8859-1?q?Adri=E1n_Ribao_Mart=EDnez?=)
Date: Mon Sep 21 13:38:39 2009
Subject: [gdal-dev] Problem converting .gml to shapefile
Message-ID: <200909211938.33329.aribao@gmail.com>

Hello everybody,

I have a problem converting a gml file into .shp. I'm using this command:

ogr2ogr -append -f "ESRI Shapefile" limits limits.gml  -nlt multipolygon


but it's not working, it seems that only one geometry per feature is converted. What am I doing wrong?


You can have a look at the gml file here: http://groups.google.com/group/geodjango/web/limits.gml.tar.gz

Thank you very much, I've spent all day with this without success.

Regards,

Adrian
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090921/ffdfdebe/attachment.bin
From even.rouault at mines-paris.org  Mon Sep 21 13:49:40 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 21 13:49:43 2009
Subject: [gdal-dev] Motion: Extend Maintenance Contract
In-Reply-To: <4AB6F0B4.5030307@pobox.com>
References: <4AB6F0B4.5030307@pobox.com>
Message-ID: <1253555380.4ab7bcb4ec1cb@imp.free.fr>

Selon Frank Warmerdam <warmerdam@pobox.com>:

+1

Best regards

> Folks,
>
> Motion: Extend Chaitanya's maintenance contract to December 31st.
>
> ---
>
> Chaitanya has only billed $1224.00 during the planned maintenance period
> ending August 31st, 2009 out of available funding of $6000.00.  Chaitanya
> has indicate greater time availability and a wish to continue working as
> maintainer.  I would like to modify the existing contract to extend it
> till the end of December 2009, without modifying the other terms including
> the amount.  So basically giving Chaitanya another 4 months to bill work
> against the existing amount.
>
> I will start voting with a +1.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From dmorissette at mapgears.com  Mon Sep 21 14:12:28 2009
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon Sep 21 14:12:31 2009
Subject: [gdal-dev] Motion: Extend Maintenance Contract
In-Reply-To: <4AB6F0B4.5030307@pobox.com>
References: <4AB6F0B4.5030307@pobox.com>
Message-ID: <4AB7C20C.5060002@mapgears.com>

Frank Warmerdam wrote:
> Folks,
> 
> Motion: Extend Chaitanya's maintenance contract to December 31st.
> 
> ---
> 
> Chaitanya has only billed $1224.00 during the planned maintenance period
> ending August 31st, 2009 out of available funding of $6000.00.  Chaitanya
> has indicate greater time availability and a wish to continue working as
> maintainer.  I would like to modify the existing contract to extend it
> till the end of December 2009, without modifying the other terms including
> the amount.  So basically giving Chaitanya another 4 months to bill work
> against the existing amount.
> 

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From even.rouault at mines-paris.org  Mon Sep 21 14:26:01 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 21 14:26:03 2009
Subject: [gdal-dev] gdal_rasterize with a NetCDF file?
In-Reply-To: <4AB7A65A.8060505@nsidc.org>
References: <4AB7A65A.8060505@nsidc.org>
Message-ID: <1253557561.4ab7c5397fcd5@imp.free.fr>

Selon Scott Lewis <scott.lewis@nsidc.org>:

Scott,

Anytime you want to access to a subdataset with a gdal utility, you must use the
value of the relevant SUBDATASET_xxx_NAME metadata item, in that instance
'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'

The segmentation fault however wasn't expected, so I commited fixes per ticket
http://trac.osgeo.org/gdal/ticket/3146 to error out more nicely.

Best regards

> Hi,
>
> I'm still fairly new at using GDAL, but I am having trouble burning a
> vector image onto a NetCDF file.  I've had success with using
> gdal_rasterize to burn a vector onto a GeoTIFF file, but when I try to
> burn the same vector onto a NetCDF file, I get an error.
>
> Based on the error, I'm suspecting it's because it doesn't know how to
> find the right "band" in the NetCDF File (I want the
> "Albedo_with_1400_Local_Time_of_Measurement" subdataset), but although
> I've looked at the documentation, I'm not sure how to specify this to
> gdal_rasterize.
>
> Any help would be much appreciated!  Below is the info.
>
>
>
> Here is the command I am trying to run:
>
> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
> "OGRGeoJSON" dummy.json Albedo.nc
>
>
> And the error I get:
>
> ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
>
> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize: line 9: 26950
> Segmentation fault      $FWTOOLS_HOME/bin/`basename $TARGET` "$@"
>
>
>
> Here is the gdalinfo for Albedo.nc:
>
> Driver: netCDF/Network Common Data Format
> Files: Albedo.nc
> Size is 512, 512
> Coordinate System is `'
> Metadata:
>   NC_GLOBAL#Conventions=CF-1.4
>   NC_GLOBAL#institution=National Snow & Ice Data Center, Boulder, CO
>   NC_GLOBAL#title=AVHRR Polar Pathfinder Twice-Daily 5 km EASE-Grid
> Composites Albedo
>   NC_GLOBAL#source=See the title and references for this information
>   NC_GLOBAL#comment=Not set at this time
>   NC_GLOBAL#references=Documentation available at:
> http://nsidc.org/data/docs/daac/nsidc0066_avhrr_5km.gd.html
>   NC_GLOBAL#history=Mon, 21 Sep 2009 09:31:24: File created.
> Subdatasets:
>
>
SUBDATASET_1_NAME=NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement
>   SUBDATASET_1_DESC=[1x244x242]
> Albedo_with_1400_Local_Time_of_Measurement (8-bit integer)
>   SUBDATASET_2_NAME=NETCDF:"Albedo.nc":latitude
>   SUBDATASET_2_DESC=[244x242] latitude (64-bit floating-point)
>   SUBDATASET_3_NAME=NETCDF:"Albedo.nc":longitude
>   SUBDATASET_3_DESC=[244x242] longitude (64-bit floating-point)
> Corner Coordinates:
> Upper Left  (    0.0,    0.0)
> Lower Left  (    0.0,  512.0)
> Upper Right (  512.0,    0.0)
> Lower Right (  512.0,  512.0)
> Center      (  256.0,  256.0)
>
>
> And for completeness, the dummy.json file (it's basically a triangle):
>
> {
>     "type": "FeatureCollection",
>     "features": [{
>         "type": "Feature",
>         "properties": { "BASIN_ID": 1.000000, "AREA_SQKM": 1739.016470 },
>         "geometry": {
>             "type": "Polygon",
>             "coordinates": [ [
>                 [ -2000000, -2500000 ],
>                 [ -2500000, -1400000 ],
>                 [ -1500000, -1400000 ],
>                 [ -2000000, -2500000 ]
>             ] ]
>         }
>     }]
> }
>
>
>
> Thanks!
>
> Scott Lewis
> National Snow & Ice Data Center
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From Chris.Barker at noaa.gov  Mon Sep 21 14:32:10 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Sep 21 14:29:45 2009
Subject: [gdal-dev] OGRGeometry Distance
In-Reply-To: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
References: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
Message-ID: <4AB7C6AA.3070602@noaa.gov>

Yilmaz Arslanoglu wrote:
> I wanted to compute the distance between two points,

you need to be clear by what you mean here: I suspect you mean:

"The shortest distance between two points following the surface of the 
earth"

In which case, what you are looking for is referred to as the geodesic 
distance:

http://www.vterrain.org/Misc/distance.html

To do this accurately (and you may not need much accuracy!) on an 
ellipsoid requires a fair bit of math. I don't know if it's built in to 
OGR or PROJ at this point, but there are a few libraries out that that 
do it, including Gerald I. Evenden's "geodesic" lib, which can be found 
here:

http://home.comcast.net/~gevenden56/geodesy/project/

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From scott.lewis at nsidc.org  Mon Sep 21 14:37:08 2009
From: scott.lewis at nsidc.org (Scott Lewis)
Date: Mon Sep 21 14:37:12 2009
Subject: [gdal-dev] gdal_rasterize with a NetCDF file?
In-Reply-To: <1253557561.4ab7c5397fcd5@imp.free.fr>
References: <4AB7A65A.8060505@nsidc.org> <1253557561.4ab7c5397fcd5@imp.free.fr>
Message-ID: <4AB7C7D4.90502@nsidc.org>

Evan,

Thanks, that seems to be getting me in the right direction: I'm no
longer getting the segfault error, or "ERROR 5" at all.

However, now it's giving me a different error.  The first line has the:
0...10...20...30...40...50...60...70...80...90...100 - done.
message, like I would expect from when I do this with GeoTIFF files.
But following that I am getting a whole bunch of this error, repeated
many times:

ERROR 6: WriteBlock() not supported for this dataset.


Doing a search online, I'm getting the impression that this might mean
that gdal_rasterize doesn't support writing to a NetCDF file?  Is this
correct, or does the problem lie elsewhere with my calling of the utility.

Here's the command line I'm using now:

/usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
"OGRGeoJSON" dummy.json
'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'


Thanks again for the help!

Scott


Even Rouault wrote:
> Selon Scott Lewis <scott.lewis@nsidc.org>:
> 
> Scott,
> 
> Anytime you want to access to a subdataset with a gdal utility, you must use the
> value of the relevant SUBDATASET_xxx_NAME metadata item, in that instance
> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
> 
> The segmentation fault however wasn't expected, so I commited fixes per ticket
> http://trac.osgeo.org/gdal/ticket/3146 to error out more nicely.
> 
> Best regards
> 
>> Hi,
>>
>> I'm still fairly new at using GDAL, but I am having trouble burning a
>> vector image onto a NetCDF file.  I've had success with using
>> gdal_rasterize to burn a vector onto a GeoTIFF file, but when I try to
>> burn the same vector onto a NetCDF file, I get an error.
>>
>> Based on the error, I'm suspecting it's because it doesn't know how to
>> find the right "band" in the NetCDF File (I want the
>> "Albedo_with_1400_Local_Time_of_Measurement" subdataset), but although
>> I've looked at the documentation, I'm not sure how to specify this to
>> gdal_rasterize.
>>
>> Any help would be much appreciated!  Below is the info.
>>
>>
>>
>> Here is the command I am trying to run:
>>
>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
>> "OGRGeoJSON" dummy.json Albedo.nc
>>
>>
>> And the error I get:
>>
>> ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
>>
>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize: line 9: 26950
>> Segmentation fault      $FWTOOLS_HOME/bin/`basename $TARGET` "$@"
>>
>>
>>
>> Here is the gdalinfo for Albedo.nc:
>>
>> Driver: netCDF/Network Common Data Format
>> Files: Albedo.nc
>> Size is 512, 512
>> Coordinate System is `'
>> Metadata:
>>   NC_GLOBAL#Conventions=CF-1.4
>>   NC_GLOBAL#institution=National Snow & Ice Data Center, Boulder, CO
>>   NC_GLOBAL#title=AVHRR Polar Pathfinder Twice-Daily 5 km EASE-Grid
>> Composites Albedo
>>   NC_GLOBAL#source=See the title and references for this information
>>   NC_GLOBAL#comment=Not set at this time
>>   NC_GLOBAL#references=Documentation available at:
>> http://nsidc.org/data/docs/daac/nsidc0066_avhrr_5km.gd.html
>>   NC_GLOBAL#history=Mon, 21 Sep 2009 09:31:24: File created.
>> Subdatasets:
>>
>>
> SUBDATASET_1_NAME=NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement
>>   SUBDATASET_1_DESC=[1x244x242]
>> Albedo_with_1400_Local_Time_of_Measurement (8-bit integer)
>>   SUBDATASET_2_NAME=NETCDF:"Albedo.nc":latitude
>>   SUBDATASET_2_DESC=[244x242] latitude (64-bit floating-point)
>>   SUBDATASET_3_NAME=NETCDF:"Albedo.nc":longitude
>>   SUBDATASET_3_DESC=[244x242] longitude (64-bit floating-point)
>> Corner Coordinates:
>> Upper Left  (    0.0,    0.0)
>> Lower Left  (    0.0,  512.0)
>> Upper Right (  512.0,    0.0)
>> Lower Right (  512.0,  512.0)
>> Center      (  256.0,  256.0)
>>
>>
>> And for completeness, the dummy.json file (it's basically a triangle):
>>
>> {
>>     "type": "FeatureCollection",
>>     "features": [{
>>         "type": "Feature",
>>         "properties": { "BASIN_ID": 1.000000, "AREA_SQKM": 1739.016470 },
>>         "geometry": {
>>             "type": "Polygon",
>>             "coordinates": [ [
>>                 [ -2000000, -2500000 ],
>>                 [ -2500000, -1400000 ],
>>                 [ -1500000, -1400000 ],
>>                 [ -2000000, -2500000 ]
>>             ] ]
>>         }
>>     }]
>> }
>>
>>
>>
>> Thanks!
>>
>> Scott Lewis
>> National Snow & Ice Data Center
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> 
From even.rouault at mines-paris.org  Mon Sep 21 14:37:51 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 21 14:37:53 2009
Subject: [gdal-dev] OGRGeometry Distance
In-Reply-To: <4AB7C6AA.3070602@noaa.gov>
References: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
	<4AB7C6AA.3070602@noaa.gov>
Message-ID: <1253558271.4ab7c7ff329bd@imp.free.fr>

Selon Christopher Barker <Chris.Barker@noaa.gov>:

I'd note that in the OGR XPlane driver, a function is available to compute the
distance on the spheroid. You could use it if you don't need much accuracy :
http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/xplane/ogr_xplane_geo_utils.cpp

(It's an internal function to OGR, so you'd have to copy&paste it in your code,
or add a CPL_DLL decoration in the corresponding .h and rebuild GDAL)

> Yilmaz Arslanoglu wrote:
> > I wanted to compute the distance between two points,
>
> you need to be clear by what you mean here: I suspect you mean:
>
> "The shortest distance between two points following the surface of the
> earth"
>
> In which case, what you are looking for is referred to as the geodesic
> distance:
>
> http://www.vterrain.org/Misc/distance.html
>
> To do this accurately (and you may not need much accuracy!) on an
> ellipsoid requires a fair bit of math. I don't know if it's built in to
> OGR or PROJ at this point, but there are a few libraries out that that
> do it, including Gerald I. Evenden's "geodesic" lib, which can be found
> here:
>
> http://home.comcast.net/~gevenden56/geodesy/project/
>
> -Chris
>
>
>
> --
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker@noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From peifer at gmx.eu  Mon Sep 21 14:43:10 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon Sep 21 14:43:18 2009
Subject: [gdal-dev] Re: gdal_rasterize with a NetCDF file?
In-Reply-To: <4AB7C7D4.90502@nsidc.org>
References: <4AB7A65A.8060505@nsidc.org> <1253557561.4ab7c5397fcd5@imp.free.fr>
	<4AB7C7D4.90502@nsidc.org>
Message-ID: <4AB7C93E.8000900@gmx.eu>

The driver doesn't support updating netCDF files. gdalinfo --formats says:

  GTiff (rw+): GeoTIFF
  (...)
  netCDF (rw): Network Common Data Format

The "+" indicates update support, which is obviously missing for netCDF format.

Hermann


-------- Original Message  --------
Subject: Re:gdal_rasterize with a NetCDF file?
From: Scott Lewis <scott.lewis@nsidc.org>
To: 
Date: 21/09/2009 20:37

> Evan,
> 
> Thanks, that seems to be getting me in the right direction: I'm no
> longer getting the segfault error, or "ERROR 5" at all.
> 
> However, now it's giving me a different error.  The first line has the:
> 0...10...20...30...40...50...60...70...80...90...100 - done.
> message, like I would expect from when I do this with GeoTIFF files.
> But following that I am getting a whole bunch of this error, repeated
> many times:
> 
> ERROR 6: WriteBlock() not supported for this dataset.
> 
> 
> Doing a search online, I'm getting the impression that this might mean
> that gdal_rasterize doesn't support writing to a NetCDF file?  Is this
> correct, or does the problem lie elsewhere with my calling of the utility.
> 
> Here's the command line I'm using now:
> 
> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
> "OGRGeoJSON" dummy.json
> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
> 
> 
> Thanks again for the help!
> 
> Scott
> 
> 
> Even Rouault wrote:
>> Selon Scott Lewis <scott.lewis@nsidc.org>:
>>
>> Scott,
>>
>> Anytime you want to access to a subdataset with a gdal utility, you must use the
>> value of the relevant SUBDATASET_xxx_NAME metadata item, in that instance
>> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
>>
>> The segmentation fault however wasn't expected, so I commited fixes per ticket
>> http://trac.osgeo.org/gdal/ticket/3146 to error out more nicely.
>>
>> Best regards
>>
>>> Hi,
>>>
>>> I'm still fairly new at using GDAL, but I am having trouble burning a
>>> vector image onto a NetCDF file.  I've had success with using
>>> gdal_rasterize to burn a vector onto a GeoTIFF file, but when I try to
>>> burn the same vector onto a NetCDF file, I get an error.
>>>
>>> Based on the error, I'm suspecting it's because it doesn't know how to
>>> find the right "band" in the NetCDF File (I want the
>>> "Albedo_with_1400_Local_Time_of_Measurement" subdataset), but although
>>> I've looked at the documentation, I'm not sure how to specify this to
>>> gdal_rasterize.
>>>
>>> Any help would be much appreciated!  Below is the info.
>>>
>>>
>>>
>>> Here is the command I am trying to run:
>>>
>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
>>> "OGRGeoJSON" dummy.json Albedo.nc
>>>
>>>
>>> And the error I get:
>>>
>>> ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
>>>
>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize: line 9: 26950
>>> Segmentation fault      $FWTOOLS_HOME/bin/`basename $TARGET` "$@"
>>>
>>>
>>>
>>> Here is the gdalinfo for Albedo.nc:
>>>
>>> Driver: netCDF/Network Common Data Format
>>> Files: Albedo.nc
>>> Size is 512, 512
>>> Coordinate System is `'
>>> Metadata:
>>>   NC_GLOBAL#Conventions=CF-1.4
>>>   NC_GLOBAL#institution=National Snow & Ice Data Center, Boulder, CO
>>>   NC_GLOBAL#title=AVHRR Polar Pathfinder Twice-Daily 5 km EASE-Grid
>>> Composites Albedo
>>>   NC_GLOBAL#source=See the title and references for this information
>>>   NC_GLOBAL#comment=Not set at this time
>>>   NC_GLOBAL#references=Documentation available at:
>>> http://nsidc.org/data/docs/daac/nsidc0066_avhrr_5km.gd.html
>>>   NC_GLOBAL#history=Mon, 21 Sep 2009 09:31:24: File created.
>>> Subdatasets:
>>>
>>>
>> SUBDATASET_1_NAME=NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement
>>>   SUBDATASET_1_DESC=[1x244x242]
>>> Albedo_with_1400_Local_Time_of_Measurement (8-bit integer)
>>>   SUBDATASET_2_NAME=NETCDF:"Albedo.nc":latitude
>>>   SUBDATASET_2_DESC=[244x242] latitude (64-bit floating-point)
>>>   SUBDATASET_3_NAME=NETCDF:"Albedo.nc":longitude
>>>   SUBDATASET_3_DESC=[244x242] longitude (64-bit floating-point)
>>> Corner Coordinates:
>>> Upper Left  (    0.0,    0.0)
>>> Lower Left  (    0.0,  512.0)
>>> Upper Right (  512.0,    0.0)
>>> Lower Right (  512.0,  512.0)
>>> Center      (  256.0,  256.0)
>>>
>>>
>>> And for completeness, the dummy.json file (it's basically a triangle):
>>>
>>> {
>>>     "type": "FeatureCollection",
>>>     "features": [{
>>>         "type": "Feature",
>>>         "properties": { "BASIN_ID": 1.000000, "AREA_SQKM": 1739.016470 },
>>>         "geometry": {
>>>             "type": "Polygon",
>>>             "coordinates": [ [
>>>                 [ -2000000, -2500000 ],
>>>                 [ -2500000, -1400000 ],
>>>                 [ -1500000, -1400000 ],
>>>                 [ -2000000, -2500000 ]
>>>             ] ]
>>>         }
>>>     }]
>>> }
>>>
>>>
>>>
>>> Thanks!
>>>
>>> Scott Lewis
>>> National Snow & Ice Data Center
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>

From scott.lewis at nsidc.org  Mon Sep 21 14:49:11 2009
From: scott.lewis at nsidc.org (Scott Lewis)
Date: Mon Sep 21 14:49:13 2009
Subject: [gdal-dev] Re: gdal_rasterize with a NetCDF file?
In-Reply-To: <4AB7C93E.8000900@gmx.eu>
References: <4AB7A65A.8060505@nsidc.org> <1253557561.4ab7c5397fcd5@imp.free.fr>
	<4AB7C7D4.90502@nsidc.org> <4AB7C93E.8000900@gmx.eu>
Message-ID: <4AB7CAA7.5010509@nsidc.org>

Ah, thanks.  I must have missed that.  Looks like I'll have to find
another way to accomplish what I'm trying to do then!

Thanks for your help!

Scott

Hermann Peifer wrote:
> The driver doesn't support updating netCDF files. gdalinfo --formats says:
> 
>  GTiff (rw+): GeoTIFF
>  (...)
>  netCDF (rw): Network Common Data Format
> 
> The "+" indicates update support, which is obviously missing for netCDF
> format.
> 
> Hermann
> 
> 
> -------- Original Message  --------
> Subject: Re:gdal_rasterize with a NetCDF file?
> From: Scott Lewis <scott.lewis@nsidc.org>
> To: Date: 21/09/2009 20:37
> 
>> Evan,
>>
>> Thanks, that seems to be getting me in the right direction: I'm no
>> longer getting the segfault error, or "ERROR 5" at all.
>>
>> However, now it's giving me a different error.  The first line has the:
>> 0...10...20...30...40...50...60...70...80...90...100 - done.
>> message, like I would expect from when I do this with GeoTIFF files.
>> But following that I am getting a whole bunch of this error, repeated
>> many times:
>>
>> ERROR 6: WriteBlock() not supported for this dataset.
>>
>>
>> Doing a search online, I'm getting the impression that this might mean
>> that gdal_rasterize doesn't support writing to a NetCDF file?  Is this
>> correct, or does the problem lie elsewhere with my calling of the
>> utility.
>>
>> Here's the command line I'm using now:
>>
>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
>> "OGRGeoJSON" dummy.json
>> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
>>
>>
>> Thanks again for the help!
>>
>> Scott
>>
>>
>> Even Rouault wrote:
>>> Selon Scott Lewis <scott.lewis@nsidc.org>:
>>>
>>> Scott,
>>>
>>> Anytime you want to access to a subdataset with a gdal utility, you
>>> must use the
>>> value of the relevant SUBDATASET_xxx_NAME metadata item, in that
>>> instance
>>> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
>>>
>>> The segmentation fault however wasn't expected, so I commited fixes
>>> per ticket
>>> http://trac.osgeo.org/gdal/ticket/3146 to error out more nicely.
>>>
>>> Best regards
>>>
>>>> Hi,
>>>>
>>>> I'm still fairly new at using GDAL, but I am having trouble burning a
>>>> vector image onto a NetCDF file.  I've had success with using
>>>> gdal_rasterize to burn a vector onto a GeoTIFF file, but when I try to
>>>> burn the same vector onto a NetCDF file, I get an error.
>>>>
>>>> Based on the error, I'm suspecting it's because it doesn't know how to
>>>> find the right "band" in the NetCDF File (I want the
>>>> "Albedo_with_1400_Local_Time_of_Measurement" subdataset), but although
>>>> I've looked at the documentation, I'm not sure how to specify this to
>>>> gdal_rasterize.
>>>>
>>>> Any help would be much appreciated!  Below is the info.
>>>>
>>>>
>>>>
>>>> Here is the command I am trying to run:
>>>>
>>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
>>>> "OGRGeoJSON" dummy.json Albedo.nc
>>>>
>>>>
>>>> And the error I get:
>>>>
>>>> ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
>>>>
>>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize: line 9: 26950
>>>> Segmentation fault      $FWTOOLS_HOME/bin/`basename $TARGET` "$@"
>>>>
>>>>
>>>>
>>>> Here is the gdalinfo for Albedo.nc:
>>>>
>>>> Driver: netCDF/Network Common Data Format
>>>> Files: Albedo.nc
>>>> Size is 512, 512
>>>> Coordinate System is `'
>>>> Metadata:
>>>>   NC_GLOBAL#Conventions=CF-1.4
>>>>   NC_GLOBAL#institution=National Snow & Ice Data Center, Boulder, CO
>>>>   NC_GLOBAL#title=AVHRR Polar Pathfinder Twice-Daily 5 km EASE-Grid
>>>> Composites Albedo
>>>>   NC_GLOBAL#source=See the title and references for this information
>>>>   NC_GLOBAL#comment=Not set at this time
>>>>   NC_GLOBAL#references=Documentation available at:
>>>> http://nsidc.org/data/docs/daac/nsidc0066_avhrr_5km.gd.html
>>>>   NC_GLOBAL#history=Mon, 21 Sep 2009 09:31:24: File created.
>>>> Subdatasets:
>>>>
>>>>
>>> SUBDATASET_1_NAME=NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement
>>>
>>>>   SUBDATASET_1_DESC=[1x244x242]
>>>> Albedo_with_1400_Local_Time_of_Measurement (8-bit integer)
>>>>   SUBDATASET_2_NAME=NETCDF:"Albedo.nc":latitude
>>>>   SUBDATASET_2_DESC=[244x242] latitude (64-bit floating-point)
>>>>   SUBDATASET_3_NAME=NETCDF:"Albedo.nc":longitude
>>>>   SUBDATASET_3_DESC=[244x242] longitude (64-bit floating-point)
>>>> Corner Coordinates:
>>>> Upper Left  (    0.0,    0.0)
>>>> Lower Left  (    0.0,  512.0)
>>>> Upper Right (  512.0,    0.0)
>>>> Lower Right (  512.0,  512.0)
>>>> Center      (  256.0,  256.0)
>>>>
>>>>
>>>> And for completeness, the dummy.json file (it's basically a triangle):
>>>>
>>>> {
>>>>     "type": "FeatureCollection",
>>>>     "features": [{
>>>>         "type": "Feature",
>>>>         "properties": { "BASIN_ID": 1.000000, "AREA_SQKM":
>>>> 1739.016470 },
>>>>         "geometry": {
>>>>             "type": "Polygon",
>>>>             "coordinates": [ [
>>>>                 [ -2000000, -2500000 ],
>>>>                 [ -2500000, -1400000 ],
>>>>                 [ -1500000, -1400000 ],
>>>>                 [ -2000000, -2500000 ]
>>>>             ] ]
>>>>         }
>>>>     }]
>>>> }
>>>>
>>>>
>>>>
>>>> Thanks!
>>>>
>>>> Scott Lewis
>>>> National Snow & Ice Data Center
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>
From even.rouault at mines-paris.org  Mon Sep 21 15:02:46 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 21 15:02:50 2009
Subject: [gdal-dev] Re: gdal_rasterize with a NetCDF file?
In-Reply-To: <4AB7CAA7.5010509@nsidc.org>
References: <4AB7A65A.8060505@nsidc.org> <1253557561.4ab7c5397fcd5@imp.free.fr>
	<4AB7C7D4.90502@nsidc.org> <4AB7C93E.8000900@gmx.eu>
	<4AB7CAA7.5010509@nsidc.org>
Message-ID: <1253559766.4ab7cdd6e752d@imp.free.fr>

Selon Scott Lewis <scott.lewis@nsidc.org>:

You've got the main point, but the meaning of '+' is a bit more subtle. The '+'
indicates in fact support for the Create() method. Some drivers support updating
existing datasets (like DTED for example), or CreateCopy() (translating entire
existing dataset to the new format) but not the Create() method itself.

I realize that many drivers are missing code to error out with proper message if
they are requested to open the dataset in update mode, but they don't support
it. It's done properly in some (GIF, JPEG, PNG, ...), but not in netCDF, ....
I'll try to improve that.

> Ah, thanks.  I must have missed that.  Looks like I'll have to find
> another way to accomplish what I'm trying to do then!
>
> Thanks for your help!
>
> Scott
>
> Hermann Peifer wrote:
> > The driver doesn't support updating netCDF files. gdalinfo --formats says:
> >
> >  GTiff (rw+): GeoTIFF
> >  (...)
> >  netCDF (rw): Network Common Data Format
> >
> > The "+" indicates update support, which is obviously missing for netCDF
> > format.
> >
> > Hermann
> >
> >
> > -------- Original Message  --------
> > Subject: Re:gdal_rasterize with a NetCDF file?
> > From: Scott Lewis <scott.lewis@nsidc.org>
> > To: Date: 21/09/2009 20:37
> >
> >> Evan,
> >>
> >> Thanks, that seems to be getting me in the right direction: I'm no
> >> longer getting the segfault error, or "ERROR 5" at all.
> >>
> >> However, now it's giving me a different error.  The first line has the:
> >> 0...10...20...30...40...50...60...70...80...90...100 - done.
> >> message, like I would expect from when I do this with GeoTIFF files.
> >> But following that I am getting a whole bunch of this error, repeated
> >> many times:
> >>
> >> ERROR 6: WriteBlock() not supported for this dataset.
> >>
> >>
> >> Doing a search online, I'm getting the impression that this might mean
> >> that gdal_rasterize doesn't support writing to a NetCDF file?  Is this
> >> correct, or does the problem lie elsewhere with my calling of the
> >> utility.
> >>
> >> Here's the command line I'm using now:
> >>
> >> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
> >> "OGRGeoJSON" dummy.json
> >> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
> >>
> >>
> >> Thanks again for the help!
> >>
> >> Scott
> >>
> >>
> >> Even Rouault wrote:
> >>> Selon Scott Lewis <scott.lewis@nsidc.org>:
> >>>
> >>> Scott,
> >>>
> >>> Anytime you want to access to a subdataset with a gdal utility, you
> >>> must use the
> >>> value of the relevant SUBDATASET_xxx_NAME metadata item, in that
> >>> instance
> >>> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
> >>>
> >>> The segmentation fault however wasn't expected, so I commited fixes
> >>> per ticket
> >>> http://trac.osgeo.org/gdal/ticket/3146 to error out more nicely.
> >>>
> >>> Best regards
> >>>
> >>>> Hi,
> >>>>
> >>>> I'm still fairly new at using GDAL, but I am having trouble burning a
> >>>> vector image onto a NetCDF file.  I've had success with using
> >>>> gdal_rasterize to burn a vector onto a GeoTIFF file, but when I try to
> >>>> burn the same vector onto a NetCDF file, I get an error.
> >>>>
> >>>> Based on the error, I'm suspecting it's because it doesn't know how to
> >>>> find the right "band" in the NetCDF File (I want the
> >>>> "Albedo_with_1400_Local_Time_of_Measurement" subdataset), but although
> >>>> I've looked at the documentation, I'm not sure how to specify this to
> >>>> gdal_rasterize.
> >>>>
> >>>> Any help would be much appreciated!  Below is the info.
> >>>>
> >>>>
> >>>>
> >>>> Here is the command I am trying to run:
> >>>>
> >>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
> >>>> "OGRGeoJSON" dummy.json Albedo.nc
> >>>>
> >>>>
> >>>> And the error I get:
> >>>>
> >>>> ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
> >>>>
> >>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize: line 9: 26950
> >>>> Segmentation fault      $FWTOOLS_HOME/bin/`basename $TARGET` "$@"
> >>>>
> >>>>
> >>>>
> >>>> Here is the gdalinfo for Albedo.nc:
> >>>>
> >>>> Driver: netCDF/Network Common Data Format
> >>>> Files: Albedo.nc
> >>>> Size is 512, 512
> >>>> Coordinate System is `'
> >>>> Metadata:
> >>>>   NC_GLOBAL#Conventions=CF-1.4
> >>>>   NC_GLOBAL#institution=National Snow & Ice Data Center, Boulder, CO
> >>>>   NC_GLOBAL#title=AVHRR Polar Pathfinder Twice-Daily 5 km EASE-Grid
> >>>> Composites Albedo
> >>>>   NC_GLOBAL#source=See the title and references for this information
> >>>>   NC_GLOBAL#comment=Not set at this time
> >>>>   NC_GLOBAL#references=Documentation available at:
> >>>> http://nsidc.org/data/docs/daac/nsidc0066_avhrr_5km.gd.html
> >>>>   NC_GLOBAL#history=Mon, 21 Sep 2009 09:31:24: File created.
> >>>> Subdatasets:
> >>>>
> >>>>
> >>>
>
SUBDATASET_1_NAME=NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement
> >>>
> >>>>   SUBDATASET_1_DESC=[1x244x242]
> >>>> Albedo_with_1400_Local_Time_of_Measurement (8-bit integer)
> >>>>   SUBDATASET_2_NAME=NETCDF:"Albedo.nc":latitude
> >>>>   SUBDATASET_2_DESC=[244x242] latitude (64-bit floating-point)
> >>>>   SUBDATASET_3_NAME=NETCDF:"Albedo.nc":longitude
> >>>>   SUBDATASET_3_DESC=[244x242] longitude (64-bit floating-point)
> >>>> Corner Coordinates:
> >>>> Upper Left  (    0.0,    0.0)
> >>>> Lower Left  (    0.0,  512.0)
> >>>> Upper Right (  512.0,    0.0)
> >>>> Lower Right (  512.0,  512.0)
> >>>> Center      (  256.0,  256.0)
> >>>>
> >>>>
> >>>> And for completeness, the dummy.json file (it's basically a triangle):
> >>>>
> >>>> {
> >>>>     "type": "FeatureCollection",
> >>>>     "features": [{
> >>>>         "type": "Feature",
> >>>>         "properties": { "BASIN_ID": 1.000000, "AREA_SQKM":
> >>>> 1739.016470 },
> >>>>         "geometry": {
> >>>>             "type": "Polygon",
> >>>>             "coordinates": [ [
> >>>>                 [ -2000000, -2500000 ],
> >>>>                 [ -2500000, -1400000 ],
> >>>>                 [ -1500000, -1400000 ],
> >>>>                 [ -2000000, -2500000 ]
> >>>>             ] ]
> >>>>         }
> >>>>     }]
> >>>> }
> >>>>
> >>>>
> >>>>
> >>>> Thanks!
> >>>>
> >>>> Scott Lewis
> >>>> National Snow & Ice Data Center
> >>>> _______________________________________________
> >>>> gdal-dev mailing list
> >>>> gdal-dev@lists.osgeo.org
> >>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>>>
> >>>
>


From warmerdam at pobox.com  Mon Sep 21 15:12:56 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Sep 21 15:15:05 2009
Subject: [gdal-dev] OGRGeometry Distance
In-Reply-To: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
References: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
Message-ID: <4AB7D038.9010704@pobox.com>

Yilmaz Arslanoglu wrote:
> Also, as another related question, I query the DEPCNT  layer in one of
> my ENC files, and it has a geospatial reference.
> However, the points on the line string features themselves return NULL
> when they are queried with getSpatialReference().
> Aren't they expected to return exactly the same instance for the layer
> that they reside on?

Yilmaz,

Others have addressed the geodesic distance issue.

On the spatial reference issue, you are correct.  The geometry from the
layers ought to return a pointer to the same spatial reference object
as you see on the layer.  It is a defect of the S-57 driver (and I suspect
a number of others) that this is not done.  If you like, you could file
a ticket on this and someone could fix it up.

In practice the spatial references attached to the geometries are rarely
consulted by applications and so are often not set properly by drivers.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jeff.hamann at forestinformatics.com  Mon Sep 21 14:17:48 2009
From: jeff.hamann at forestinformatics.com (Jeff)
Date: Mon Sep 21 15:22:17 2009
Subject: [gdal-dev] Re: gdal-dev Digest, Vol 64, Issue 45
References: <20090921160148.A738F12A8F30@lists.osgeo.org>
Message-ID: <D336CBC7410B4BEFB4E5A049E45FF3AE@rufus>

I second the "wanting WKT Raster in trunk". If it helps, I can help test 
building...

Jeff.

----- Original Message ----- 
From: <gdal-dev-request@lists.osgeo.org>
To: <gdal-dev@lists.osgeo.org>
Sent: Monday, September 21, 2009 9:01 AM
Subject: gdal-dev Digest, Vol 64, Issue 45


> Send gdal-dev mailing list submissions to
> gdal-dev@lists.osgeo.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> or, via email, send a message with subject or body 'help' to
> gdal-dev-request@lists.osgeo.org
>
> You can reach the person managing the list at
> gdal-dev-owner@lists.osgeo.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of gdal-dev digest..."
>
>
> Today's Topics:
>
>   1. 1.7 Release Planning (Frank Warmerdam)
>   2. OGRGeometry Distance (Yilmaz Arslanoglu)
>   3. RE: Problem with gdal_translate (Chris Emberson)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 21 Sep 2009 10:55:55 -0400
> From: Frank Warmerdam <warmerdam@pobox.com>
> Subject: [gdal-dev] 1.7 Release Planning
> To: Howard Butler <hobu.inc@gmail.com>
> Cc: gdal-dev <gdal-dev@lists.osgeo.org>
> Message-ID: <4AB793FB.70003@pobox.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Howard Butler wrote:
>> Speaking of which, are we going to release 1.7 on your birthday again?
>
> Howard,
>
> I would like to aim somewhat earlier - perhaps the end of October with
> a bit of room to slip if needed.
>
> Does anyone have particular features they want to see accomplished in time
> for 1.7?
>
> I'd like to see some sort of handling of utf-8 filenames on windows.
>
> I'd like to see a new PCIDSK driver based on the new PCIDSK SDK.
>
> I'd like to see WKT Raster in trunk.
>
> I'd like to see serious progress on the bug list.
>
> Best regards,
>
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
>
> ------------------------------
>
> Message: 2
> Date: Mon, 21 Sep 2009 17:06:39 +0200
> From: Yilmaz Arslanoglu <yilmaz.arslanoglu@gmail.com>
> Subject: [gdal-dev] OGRGeometry Distance
> To: gdal-dev@lists.osgeo.org
> Message-ID:
> <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi all;
>
> I wanted to compute the distance between two points,
> and for this reason I tried the "OGRGeometry::Distance" member function.
>
> However, I saw that this function only returns the linear
> distance between the objects, regardless of their geospatial reference.
> (as it is also stated somewhere on the net that GEOS library
> implements it this way)
>
> So I would like to compute the actual distance between the points,
> let's say,
>      23 degrees north, 30 degrees east
> and
>      25 degrees west, -5 degrees east.
>
> My question is, do we need to implement this functionality by using
> projection transformations etc., or is there an easy way to do this
> using the OGR library?
>
> Also, as another related question, I query the DEPCNT  layer in one of
> my ENC files, and it has a geospatial reference.
> However, the points on the line string features themselves return NULL
> when they are queried with getSpatialReference().
> Aren't they expected to return exactly the same instance for the layer
> that they reside on?
>
> Regards,
> Yilmaz
>
>
> ------------------------------
>
> Message: 3
> Date: Mon, 21 Sep 2009 15:52:02 +0000
> From: Chris Emberson <chrisemberson@hotmail.com>
> Subject: RE: [gdal-dev] Problem with gdal_translate
> To: <even.rouault@mines-paris.org>
> Cc: GDAL dev <gdal-dev@lists.osgeo.org>
> Message-ID: <BLU145-W210B46BEBFE098FFE7123BA3DD0@phx.gbl>
> Content-Type: text/plain; charset="iso-8859-1"
>
>
> Thanks for your reply.
>
> Would you be able to give me an example of the syntax for the 
> gdal_translate option?
> How do I change the dynamics to 8 bits?
> -scale [src_min src_max [dst_min dst_max]]:
>
> Thanks
>
> Chris
>
>> Date: Fri, 11 Sep 2009 18:06:48 +0200
>> From: even.rouault@mines-paris.org
>> To: chrisemberson@hotmail.com
>> CC: gdal-dev@lists.osgeo.org
>> Subject: Re: [gdal-dev] Problem with gdal_translate
>>
>> Selon Chris Emberson <chrisemberson@hotmail.com>:
>>
>> The behaviour you see is expected. -expand rgb only works for bands that 
>> have
>> color maps. You can transform your grey scale FILEA.asc into a RGB file 
>> by doing
>> this :
>>
>> gdal_translate -of GTiff -co "TILES=YES" -b 1 -b 1 -b 1 FILEA.asc 
>> FILEB.tif
>>
>> This will use the source band 1 for the R, G, B components of the output 
>> file.
>> You may need to use the scaling/translate options of gdal_translate to 
>> reduce
>> the dynamics to 8 bits.
>>
>> >
>> > I am having trouble converting a single band raster (.asc) when using 
>> > the
>> > GDAL utility gdal_translate (version 1.6)
>> >
>> > This is the command...
>> > gdal_translate -of GTiff -co "TILES=YES" -expand rgb FILEA.asc 
>> > FILEB.tif
>> >
>> > I get this message....
>> >
>> >
>> >
>> >
>> > Error : band 1 has no color table
>> >
>> > I want to be able to tile this raster using Mapnik - therefore it needs 
>> > to be
>> > a 3 band tiff - Can anyone help with this problem?
>> >
>> > Thanks in advance
>> >
>> > Chris
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> > _________________________________________________________________
>> > Save time by using Hotmail to access your other email accounts.
>> > http://clk.atdmt.com/UKM/go/167688463/direct/01/
>>
>>
>
> _________________________________________________________________
> View your other email accounts from your Hotmail inbox. Add them now.
> http://clk.atdmt.com/UKM/go/167688463/direct/01/
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: 
> http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090921/f7ff9a13/attachment-0001.html
>
> ------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> End of gdal-dev Digest, Vol 64, Issue 45
> ****************************************
> 


From peder at axensten.se  Mon Sep 21 15:47:38 2009
From: peder at axensten.se (Peder Axensten)
Date: Mon Sep 21 15:57:25 2009
Subject: [gdal-dev] 1.7 Release Planning
In-Reply-To: <4AB793FB.70003@pobox.com>
References: <4AB6F0B4.5030307@pobox.com>
	<4873241E-8835-4FE8-AF90-A27F6D541C99@gmail.com>
	<4AB793FB.70003@pobox.com>
Message-ID: <86EB65D8-5323-4041-9AAC-C33B0F242C74@axensten.se>

+1

On 21 sep 2009, at 16.55, Frank Warmerdam wrote:

> Howard Butler wrote:
>> Speaking of which, are we going to release 1.7 on your birthday  
>> again?
>
> Howard,
>
> I would like to aim somewhat earlier - perhaps the end of October with
> a bit of room to slip if needed.
>
> Does anyone have particular features they want to see accomplished  
> in time
> for 1.7?

A somewhat modified gdal_merge, if I'll find the time to figure out  
how to submit the change proposal... ;-)

> I'd like to see some sort of handling of utf-8 filenames on windows.
>
> I'd like to see a new PCIDSK driver based on the new PCIDSK SDK.
>
> I'd like to see WKT Raster in trunk.
>
> I'd like to see serious progress on the bug list.
>
> Best regards,
>
> -- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for  
> Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jluis at ualg.pt  Mon Sep 21 17:08:49 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Sep 21 17:09:16 2009
Subject: [gdal-dev] ERROR 6: SetNoDataValue() not supported for this dataset.
Message-ID: <4AB7EB61.4090202@ualg.pt>

Hi,

In this example I get the (apparently innocuous) error message below.
The file is correctly converted, but why is it complaining?


gdal_translate w020n40.Bathymetry.srtm lixo.tiff

ERROR 6: SetNoDataValue() not supported for this dataset.
Input file size is 4800, 6000
0...10...20...30...40...50...60...70...80...90...100 - done.


w020n40.Bathymetry.hdr

BYTEORDER     M
LAYOUT        BIL
NROWS       6000
NCOLS       4800
NBANDS        1
NBITS         16
PIXELTYPE  SIGNEDINT
BANDROWBYTES  9600
TOTALROWBYTES 9600
BANDGAPBYTES  0
NODATA        -32768
ULXMAP        -19.9958333333333
ULYMAP        39.9958333333333
XDIM         0.008333333333333
YDIM         0.008333333333333


Joaquim Luis
From even.rouault at mines-paris.org  Mon Sep 21 17:27:26 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 21 17:27:29 2009
Subject: [gdal-dev] ERROR 6: SetNoDataValue() not supported for this
	dataset.
In-Reply-To: <4AB7EB61.4090202@ualg.pt>
References: <4AB7EB61.4090202@ualg.pt>
Message-ID: <1253568446.4ab7efbe8609f@imp.free.fr>

Selon Joaquim Luis <jluis@ualg.pt>:

I can't reproduce your issue with trunk, nor can I understand how it can happen.
This error message is thrown when a driver doesn't implement the
SetNoDataValue() method. But the GTiff driver has supported it for ages.

> Hi,
>
> In this example I get the (apparently innocuous) error message below.
> The file is correctly converted, but why is it complaining?
>
>
> gdal_translate w020n40.Bathymetry.srtm lixo.tiff
>
> ERROR 6: SetNoDataValue() not supported for this dataset.
> Input file size is 4800, 6000
> 0...10...20...30...40...50...60...70...80...90...100 - done.
>
>
> w020n40.Bathymetry.hdr
>
> BYTEORDER     M
> LAYOUT        BIL
> NROWS       6000
> NCOLS       4800
> NBANDS        1
> NBITS         16
> PIXELTYPE  SIGNEDINT
> BANDROWBYTES  9600
> TOTALROWBYTES 9600
> BANDGAPBYTES  0
> NODATA        -32768
> ULXMAP        -19.9958333333333
> ULYMAP        39.9958333333333
> XDIM         0.008333333333333
> YDIM         0.008333333333333
>
>
> Joaquim Luis
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From jluis at ualg.pt  Mon Sep 21 17:53:43 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Sep 21 17:53:53 2009
Subject: [gdal-dev] ERROR 6: SetNoDataValue() not supported for this
	dataset.
In-Reply-To: <1253568446.4ab7efbe8609f@imp.free.fr>
References: <4AB7EB61.4090202@ualg.pt> <1253568446.4ab7efbe8609f@imp.free.fr>
Message-ID: <4AB7F5E7.5080906@ualg.pt>

Yes, strange it is. I'm using trunk as well (from yesterday) but I don't get it
when I use FWTools.
Even weirder, I used GTiff just as an easy example but the original place where
I saw it is with my gdalread MEX, which only reads a dataset and does not attempt
to write it anywhere.



Even Rouault wrote:
> Selon Joaquim Luis <jluis@ualg.pt>:
> 
> I can't reproduce your issue with trunk, nor can I understand how it can happen.
> This error message is thrown when a driver doesn't implement the
> SetNoDataValue() method. But the GTiff driver has supported it for ages.
> 
>> Hi,
>>
>> In this example I get the (apparently innocuous) error message below.
>> The file is correctly converted, but why is it complaining?
>>
>>
>> gdal_translate w020n40.Bathymetry.srtm lixo.tiff
>>
>> ERROR 6: SetNoDataValue() not supported for this dataset.
>> Input file size is 4800, 6000
>> 0...10...20...30...40...50...60...70...80...90...100 - done.
>>
>>
>> w020n40.Bathymetry.hdr
>>
>> BYTEORDER     M
>> LAYOUT        BIL
>> NROWS       6000
>> NCOLS       4800
>> NBANDS        1
>> NBITS         16
>> PIXELTYPE  SIGNEDINT
>> BANDROWBYTES  9600
>> TOTALROWBYTES 9600
>> BANDGAPBYTES  0
>> NODATA        -32768
>> ULXMAP        -19.9958333333333
>> ULYMAP        39.9958333333333
>> XDIM         0.008333333333333
>> YDIM         0.008333333333333
>>
>>
>> Joaquim Luis
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> 
> 
> 

From even.rouault at mines-paris.org  Mon Sep 21 18:00:55 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 21 18:00:58 2009
Subject: [gdal-dev] ERROR 6: SetNoDataValue() not supported for this
	dataset.
In-Reply-To: <4AB7F5E7.5080906@ualg.pt>
References: <4AB7EB61.4090202@ualg.pt> <1253568446.4ab7efbe8609f@imp.free.fr>
	<4AB7F5E7.5080906@ualg.pt>
Message-ID: <1253570455.4ab7f797d94e2@imp.free.fr>

Selon Joaquim Luis <jluis@ualg.pt>:

Very weird. In such cases, I'd recommand a 'make clean; make', especially if
you've hacked your tree. If it still continues afterwards, you'll have to set a
breakpoint in GDALRasterBand::SetNoDataValue() and see what calls it.

> Yes, strange it is. I'm using trunk as well (from yesterday) but I don't get
> it
> when I use FWTools.
> Even weirder, I used GTiff just as an easy example but the original place
> where
> I saw it is with my gdalread MEX, which only reads a dataset and does not
> attempt
> to write it anywhere.
>
>
>
> Even Rouault wrote:
> > Selon Joaquim Luis <jluis@ualg.pt>:
> >
> > I can't reproduce your issue with trunk, nor can I understand how it can
> happen.
> > This error message is thrown when a driver doesn't implement the
> > SetNoDataValue() method. But the GTiff driver has supported it for ages.
> >
> >> Hi,
> >>
> >> In this example I get the (apparently innocuous) error message below.
> >> The file is correctly converted, but why is it complaining?
> >>
> >>
> >> gdal_translate w020n40.Bathymetry.srtm lixo.tiff
> >>
> >> ERROR 6: SetNoDataValue() not supported for this dataset.
> >> Input file size is 4800, 6000
> >> 0...10...20...30...40...50...60...70...80...90...100 - done.
> >>
> >>
> >> w020n40.Bathymetry.hdr
> >>
> >> BYTEORDER     M
> >> LAYOUT        BIL
> >> NROWS       6000
> >> NCOLS       4800
> >> NBANDS        1
> >> NBITS         16
> >> PIXELTYPE  SIGNEDINT
> >> BANDROWBYTES  9600
> >> TOTALROWBYTES 9600
> >> BANDGAPBYTES  0
> >> NODATA        -32768
> >> ULXMAP        -19.9958333333333
> >> ULYMAP        39.9958333333333
> >> XDIM         0.008333333333333
> >> YDIM         0.008333333333333
> >>
> >>
> >> Joaquim Luis
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >
> >
> >
> >
>
>


From Luke.Pinner at environment.gov.au  Mon Sep 21 21:12:13 2009
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Mon Sep 21 21:17:37 2009
Subject: [gdal-dev] CEOS issues on WinXP
Message-ID: <64102B2FB850C345B04D09C82018F45F0273EAA5@ACT01VEXCCL04.internal.govt>

Hi all,

Opening ALOS AVNIR-2 & PRISM (CEOS format) images using GDAL is really
slow and uses loads of memory on Windows XP. This includes things like
gdalinfo and opening via the python bindings (gdal.Open()).

I've tried (on WinXP) with various gdal installs (fwtools, osgeo4w,
basic binaries) and same issue.
Is anybody else experiencing this, is this a bug that I should log?

Below is an example using gdalinfo on an ALOS PRISM  image on WinXP &
linux.
Testdata is from:
http://www.ga.gov.au/remote-sensing/get-satellite-imagery-data/product-s
amples.jsp

Regards
Luke Pinner

Example:

**Windows XP (32 bit)**
C:\> gdalinfo --version
GDAL 1.6.2, released 2009/07/31
C:\> gdalinfo
U:\work\testdata\alos_prism\ceos_02041_02b\product\scene01\img-alpsmb021
733905-o1b2g_ub
Driver: CEOS/CEOS Image
Files:
U:\work\testdata\alos_prism\ceos_02041_02b\product\scene01\img-alpsmb021
733905-o1b2g_ub
 
U:\work\testdata\alos_prism\ceos_02041_02b\product\scene01\img-alpsmb021
733905-o1b2g_ub.aux.xml
Size is 18855, 17086
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,17086.0)
Upper Right (18855.0,    0.0)
Lower Right (18855.0,17086.0)
Center      ( 9427.5, 8543.0)
Band 1 Block=18855x1 Type=Byte, ColorInterp=Undefined
  Min=1.000 Max=255.000 
  Minimum=1.000, Maximum=255.000, Mean=69.835, StdDev=18.376
  NoData Value=0
  Metadata:
    STATISTICS_MINIMUM=1
    STATISTICS_MAXIMUM=255
    STATISTICS_MEAN=69.834780742218
    STATISTICS_STDDEV=18.375728841108

Takes: 111 seconds
Peak mem usage: 636 Mb

**Ubuntu 9.04 (64 bit)**
$ gdalinfo --version
GDAL 1.6.2, released 2009/07/31

$ gdalinfo
/data/work/testdata/alos_prism/ceos_02041_02b/product/scene01/img-alpsmb
021733905-o1b2g_ub
Driver: CEOS/CEOS Image
Files:
/data/work/testdata/alos_prism/ceos_02041_02b/product/scene01/img-alpsmb
021733905-o1b2g_ub
 
/data/work/testdata/alos_prism/ceos_02041_02b/product/scene01/img-alpsmb
021733905-o1b2g_ub.aux.xml
Size is 18855, 17086
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,17086.0)
Upper Right (18855.0,    0.0)
Lower Right (18855.0,17086.0)
Center      ( 9427.5, 8543.0)
Band 1 Block=18855x1 Type=Byte, ColorInterp=Undefined
  Min=1.000 Max=255.000 
  Minimum=1.000, Maximum=255.000, Mean=69.835, StdDev=18.376
  NoData Value=0
  Metadata:
    STATISTICS_MINIMUM=1
    STATISTICS_MAXIMUM=255
    STATISTICS_MEAN=69.834780742218
    STATISTICS_STDDEV=18.375728841108

Takes: 1.4 seconds
Peak mem usage: 0.6 Mb (ps -o rss)


------
If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments. 



Please consider the environment before printing this email.

------

From chaitanya.ch at gmail.com  Tue Sep 22 06:41:12 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Sep 22 06:41:16 2009
Subject: [gdal-dev] Problem converting .gml to shapefile
In-Reply-To: <200909221200.45810.aribao@gmail.com>
References: <200909211938.33329.aribao@gmail.com>
	<eb502d880909220242t3043f9c1g839c467c137235c1@mail.gmail.com>
	<200909221200.45810.aribao@gmail.com>
Message-ID: <eb502d880909220341r39dec90alf97892a772ee7aa6@mail.gmail.com>

Adrian,

I see the complete map, one similar to the wikipedia version.
I did this with the latest daily snapshot of gdal with the command:
? ogr2ogr -f "ESRI Shapefile" limits limits.gml -nlt multipolygon

Please provide the GDAL version you used and see if you can open the
shapefile in a different application.

On Tue, Sep 22, 2009 at 3:30 PM, Adri?n Ribao Mart?nez <aribao@gmail.com> wrote:
>
> On Martes, 22 de Septiembre de 2009 11:42:44 usted escribi?:
> > Adrian,
> >
> > The GML file has only one geometry per feature, as far as I looked. I was
> > able to convert the gml file to shapefile format. It showed boundaries of
> > different places in Spain including some islands.
>
> Are you seeing this map? http://imgur.com/HDpRp
>
> This is wrong, the map is not complete, it should be like this: http://en.wikipedia.org/wiki/File:Spain_met.png
>
> Regards,
>
> Adrian
>
> > I did not use the -append option.
> >
> > On Mon, Sep 21, 2009 at 11:08 PM, Adri?n Ribao Mart?nez <aribao@gmail.com>wrote:
> >
> > > Hello everybody,
> > >
> > > I have a problem converting a gml file into .shp. I'm using this command:
> > >
> > > ogr2ogr -append -f "ESRI Shapefile" limits limits.gml ?-nlt multipolygon
> > >
> > >
> > > but it's not working, it seems that only one geometry per feature is
> > > converted. What am I doing wrong?
> > >
> > >
> > > You can have a look at the gml file here:
> > > http://groups.google.com/group/geodjango/web/limits.gml.tar.gz
> > >
> > > Thank you very much, I've spent all day with this without success.
> > >
> > > Regards,
> > >
> > > Adrian
> > >
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > >
> >
> >
> >
> >



--
Best regards,
Chaitanya kumar CH.
From gregcoats at mac.com  Tue Sep 22 11:26:22 2009
From: gregcoats at mac.com (Greg Coats)
Date: Tue Sep 22 11:26:37 2009
Subject: [gdal-dev] How to add georeferencing tags to a .tif?
In-Reply-To: <1252445578.4aa6cd8a718d5@imp.free.fr>
References: <67CC21D6-E7F5-4BD7-85CB-F40AC8CFF500@mac.com>
	<1252445578.4aa6cd8a718d5@imp.free.fr>
Message-ID: <F5F2BD05-B1B6-4B5A-9EA7-2860F6F29296@mac.com>

When gdal_translate reads in a GeoTIFF .tif file and writes out a .ppm  
file, the user receives a warning message saying that the  
georeferencing metadata is not being copied into the output .ppm file,  
and is being lost. When gdal_translate reads in a .tif file with TIFF  
tag 700 XMP metadata, and TIFF tag 33723 IPTC metadata, and writes out  
a .tif or .jp2 file, the user receives no warning that this metadata  
is not being copied, and so I was surprised to later learn that the  
XMP and IPTC metadata had been lost by gdal_translate.

I suggest that for GDAL 1.7 consideration be given to at least  
notifying the user via a warning message that any input .tif file with  
TIFF tag 700 XMP metadata, and TIFF tag 33723 IPTC metadata, and TIFF  
tag 34665 EXIF metadata will lose that metadata and not have it copied  
to the output file. Hopefully, a future GDAL release of gdal_translate  
will preserve TIFF tag 700 XMP metadata, and TIFF tag 33723 IPTC  
metadata, and the widely used TIFF tag 34665 EXIF metadata that  
supports GPS metadata.

The Kakadu applications kdu_compress and kdu_expand, which are  
available for free for Win32, Mac OS X, Linux, and Solaris, support  
conversions between TIFF/GeoTIFF .tif files and JPEG2000/ 
GeoJPEG2000 .jp2 while preserving TIFF tag 700 XMP metadata, TIFF tag  
33723 IPTC metadata, and TIFF tags 33550, 33922, 34264, 34735, 34736,  
34737 georeferencing metadata.
Greg

On Sep 8, 2009, at 5:32 PM, Even Rouault wrote:

> Selon Greg Coats <gregcoats@mac.com>:
>
>> I have one .tif that has tag 700 XMP metadata, and has a tag 33723
>> IPTC metadata, but does not have tags 33550, 33922, 34264, 34735,
>> 34736, 34737 georeferencing metadata. I have a second .tif that has
>> does not have tag 700 XMP metadata, nor does it have tag 33723 IPTC
>> metadata, but it does have 33550, 33922, 34264, 34735, 34736, 34737
>> georeferencing metadata. I want to add the tags that provide
>> georeferencing metadata in the second .tif, to the first .tif. As
>> shown below, I first tried using geotifcp, and then tried
>> gdal_translate, but while the resulting .tif does have the
>> georeferencing tags it originally lacked, the resulting .tif is
>> without the tag 700 XMP metadata, and without the tag 33723 IPTC
>> metadata that it originally had. How can georeferencing tags be added
>> to a .tif, withOUT removing preexisting tag 700 XMP metadata, and
>> withOUT removing preexisting tag IPTC 33723 metadata?
>> listgeo 18stj940125.tif > 18stj940125_listgeo.txt
>> geotifcp -s -r 1 -c none -f msb2lsb -g 18stj940125_listgeo.txt
>> tif_withXMP700_withIPTC33723_withoutGeo.tif
>> tif_withXMP700_withIPTC33723_withGeo.tif
>
> Those 700 XMP and 33723 IPTC tags are not handled by the GTiff  
> driver neither in
> read nor in write mode, so that explains why gdal_translate doesn't  
> copy them.
> You could probably try the 'tiffset' utility to set them afterwards.  
> Or hack
> geotifcp.c to add support for those 2 tags. The tags[] array looks  
> like an
> interesting place where to hack that in.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090922/7a2391f5/attachment.html
From chaitanya.ch at gmail.com  Tue Sep 22 12:28:37 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Sep 22 12:28:41 2009
Subject: [gdal-dev] Problem converting .gml to shapefile
In-Reply-To: <200909221739.19119.aribao@gmail.com>
References: <200909211938.33329.aribao@gmail.com>
	<200909221200.45810.aribao@gmail.com>
	<eb502d880909220341r39dec90alf97892a772ee7aa6@mail.gmail.com>
	<200909221739.19119.aribao@gmail.com>
Message-ID: <eb502d880909220928g7fb62eact4253637e09768e12@mail.gmail.com>

Adrian,

May be the problem is not with the shapefile. Provide a copy of the
shapefile you generated to me.

Shapefile field names have some limitations. They cannot be longer
than 10 chars. http://www.gdal.org/ogr/drv_shapefile.html

On Tue, Sep 22, 2009 at 9:09 PM, Adri?n Ribao Mart?nez <aribao@gmail.com> wrote:
> On Martes, 22 de Septiembre de 2009 12:41:12 usted escribi?:
>> Adrian,
>>
>> I see the complete map, one similar to the wikipedia version.
>> I did this with the latest daily snapshot of gdal with the command:
>> ? ogr2ogr -f "ESRI Shapefile" limits limits.gml -nlt multipolygon
>
> The version of gdal is 1.6.2 under debian linux. I can see it better in other editors but I still have some problems, the names of the ddbb won't match the features. And when I import it to the ddbb I get the same result as I posted before. http://imgur.com/HDpRp
>
> I'm using geodjango and postgis 1.3.
>
> Regards,
>
> Adrian.
>
>
>> Please provide the GDAL version you used and see if you can open the
>> shapefile in a different application.
>>
>> On Tue, Sep 22, 2009 at 3:30 PM, Adri?n Ribao Mart?nez <aribao@gmail.com> wrote:
>> >
>> > On Martes, 22 de Septiembre de 2009 11:42:44 usted escribi?:
>> > > Adrian,
>> > >
>> > > The GML file has only one geometry per feature, as far as I looked. I was
>> > > able to convert the gml file to shapefile format. It showed boundaries of
>> > > different places in Spain including some islands.
>> >
>> > Are you seeing this map? http://imgur.com/HDpRp
>> >
>> > This is wrong, the map is not complete, it should be like this: http://en.wikipedia.org/wiki/File:Spain_met.png
>> >
>> > Regards,
>> >
>> > Adrian
>> >
>> > > I did not use the -append option.
>> > >
>> > > On Mon, Sep 21, 2009 at 11:08 PM, Adri?n Ribao Mart?nez <aribao@gmail.com>wrote:
>> > >
>> > > > Hello everybody,
>> > > >
>> > > > I have a problem converting a gml file into .shp. I'm using this command:
>> > > >
>> > > > ogr2ogr -append -f "ESRI Shapefile" limits limits.gml ?-nlt multipolygon
>> > > >
>> > > >
>> > > > but it's not working, it seems that only one geometry per feature is
>> > > > converted. What am I doing wrong?
>> > > >
>> > > >
>> > > > You can have a look at the gml file here:
>> > > > http://groups.google.com/group/geodjango/web/limits.gml.tar.gz
>> > > >
>> > > > Thank you very much, I've spent all day with this without success.
>> > > >
>> > > > Regards,
>> > > >
>> > > > Adrian
>> > > >
>> > > > _______________________________________________
>> > > > gdal-dev mailing list
>> > > > gdal-dev@lists.osgeo.org
>> > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> > > >
>> > >
>> > >
>> > >
>> > >
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>>
>



-- 
Best regards,
Chaitanya kumar CH.
From chaitanya.ch at gmail.com  Tue Sep 22 13:00:59 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Sep 22 13:01:02 2009
Subject: [gdal-dev] 
	Work report of Chaitanya kumar CH (Jul 18, 2009 to Sep 8, 2009)
Message-ID: <eb502d880909221000m32267810i8716cee044b88519@mail.gmail.com>

Frank,

Please find the attached copy of my work report for the duration of
Jul 18, 2009 to Sep 8, 2009.

http://trac.osgeo.org/gdal/wiki/MaintenanceReportsByChaitanya

I will post my next report on 24th.

Best regards,
--
Chaitanya kumar CH.
+91-9848167848
-------------- next part --------------
Jul 18, 2009 to Sep 8, 2009

#3083 Tested geos configuration with various permutations.

#3112 Fixed the 'pixel validity mask' issue in TSX COSAR driver with suggestions from petar.

#906 Tested NetCDF with a reportedly problematic dataset.

#2893 Researched on the NetCDF format.

#2857 Fixed the .xsd writer for date types and also added support for precision support for decimal data types.

#2852 OGR2OGR MySQL to Shapefile Truncating Decimal Places

#2930 Cleanup Win32 Compile Warnings

#2991 Applied the patch after some coding style adjustments and test it with various datasets.

#2798 Remove ESRI style spatial indexes from Shapefile on update via OGR. Prepared a patch. Still needs some debugging and testing. 

--
Chaitanya kumar CH
chaitanyach@gmail.com
From lran at unc.edu  Tue Sep 22 10:39:18 2009
From: lran at unc.edu (Limei Ran)
Date: Tue Sep 22 13:56:39 2009
Subject: [gdal-dev] GDAL to read MOD06_L2 MODIS HDF4 download
Message-ID: <4AB8E196.5030305@unc.edu>

Hi:

I am trying to read a MOD06_L2 MODIS cloud product downloaded file.  The 
file is in HDF4 format.  I compiled GDAL with HDF4.  But, when I use 
gdalinfo to check the file information.  It did not give me right 
information with Longitude and Latitude missing from subdatasets. 

My question is: does GDAL with HDF4 handle MOD06_2 MODIS files 
correctly?   If it does not, what can I do to make it work?

Thank you,

Limei
From yilmaz.arslanoglu at gmail.com  Tue Sep 22 18:48:05 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Tue Sep 22 18:48:08 2009
Subject: [gdal-dev] OGRGeometry Distance
In-Reply-To: <1253558271.4ab7c7ff329bd@imp.free.fr>
References: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
	<4AB7C6AA.3070602@noaa.gov> <1253558271.4ab7c7ff329bd@imp.free.fr>
Message-ID: <150158ad0909221548r4fc3a293tfe39571b13fbf9a1@mail.gmail.com>

Hi Even;

Thank you very much for your help.

Regards,
Yilmaz

On Mon, Sep 21, 2009 at 9:37 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> Selon Christopher Barker <Chris.Barker@noaa.gov>:
>
> I'd note that in the OGR XPlane driver, a function is available to compute the
> distance on the spheroid. You could use it if you don't need much accuracy :
> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/xplane/ogr_xplane_geo_utils.cpp
>
> (It's an internal function to OGR, so you'd have to copy&paste it in your code,
> or add a CPL_DLL decoration in the corresponding .h and rebuild GDAL)
>
>> Yilmaz Arslanoglu wrote:
>> > I wanted to compute the distance between two points,
>>
>> you need to be clear by what you mean here: I suspect you mean:
>>
>> "The shortest distance between two points following the surface of the
>> earth"
>>
>> In which case, what you are looking for is referred to as the geodesic
>> distance:
>>
>> http://www.vterrain.org/Misc/distance.html
>>
>> To do this accurately (and you may not need much accuracy!) on an
>> ellipsoid requires a fair bit of math. I don't know if it's built in to
>> OGR or PROJ at this point, but there are a few libraries out that that
>> do it, including Gerald I. Evenden's "geodesic" lib, which can be found
>> here:
>>
>> http://home.comcast.net/~gevenden56/geodesy/project/
>>
>> -Chris
>>
>>
>>
>> --
>> Christopher Barker, Ph.D.
>> Oceanographer
>>
>> Emergency Response Division
>> NOAA/NOS/OR&R ? ? ? ? ? ?(206) 526-6959 ? voice
>> 7600 Sand Point Way NE ? (206) 526-6329 ? fax
>> Seattle, WA ?98115 ? ? ? (206) 526-6317 ? main reception
>>
>> Chris.Barker@noaa.gov
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
From yilmaz.arslanoglu at gmail.com  Tue Sep 22 18:50:50 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Tue Sep 22 18:50:53 2009
Subject: [gdal-dev] OGRGeometry Distance
In-Reply-To: <4AB7D038.9010704@pobox.com>
References: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
	<4AB7D038.9010704@pobox.com>
Message-ID: <150158ad0909221550k46ea91anb53c9800defbcb7a@mail.gmail.com>

Thanks very much for the answer, Frank.

Best wishes,
Yilmaz

On Mon, Sep 21, 2009 at 10:12 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Yilmaz Arslanoglu wrote:
>>
>> Also, as another related question, I query the DEPCNT ?layer in one of
>> my ENC files, and it has a geospatial reference.
>> However, the points on the line string features themselves return NULL
>> when they are queried with getSpatialReference().
>> Aren't they expected to return exactly the same instance for the layer
>> that they reside on?
>
> Yilmaz,
>
> Others have addressed the geodesic distance issue.
>
> On the spatial reference issue, you are correct. ?The geometry from the
> layers ought to return a pointer to the same spatial reference object
> as you see on the layer. ?It is a defect of the S-57 driver (and I suspect
> a number of others) that this is not done. ?If you like, you could file
> a ticket on this and someone could fix it up.
>
> In practice the spatial references attached to the geometries are rarely
> consulted by applications and so are often not set properly by drivers.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
>
From reinaldo at geodesign.com.br  Tue Sep 22 21:56:58 2009
From: reinaldo at geodesign.com.br (Reinaldo escada Chohfi)
Date: Tue Sep 22 22:05:49 2009
Subject: [gdal-dev] Output MapInfo File with CoordSys Information
Message-ID: <c93d2733c516dead177a181008e205e3.squirrel@webmail.geodesign.com.br>

Hello List,

I am still trying to get a x,y (lon/Lat) point file in MapInfo format with
coordinate information.

I get the correct MapInfo files out (.tab or .mif) with the x,y points and
attributes, but without the CoordSys information.
The output file is always Non-Earth.

I've tried everything:

OGRSpatialReference oSRS;
oSRS.SetWellKnownGeogCS("EPSG:4326");
oSRS.importFromMICoordSys( "CoordSys Earth Projection 1, 104" );


Could someone PLEASE let me know what to do?

Thanks in advance.

Reinaldo



From warmerdam at pobox.com  Tue Sep 22 22:57:44 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep 22 22:58:22 2009
Subject: [gdal-dev] Output MapInfo File with CoordSys Information
In-Reply-To: <c93d2733c516dead177a181008e205e3.squirrel@webmail.geodesign.com.br>
References: <c93d2733c516dead177a181008e205e3.squirrel@webmail.geodesign.com.br>
Message-ID: <4AB98EA8.1040809@pobox.com>

Reinaldo escada Chohfi wrote:
> Hello List,
> 
> I am still trying to get a x,y (lon/Lat) point file in MapInfo format with
> coordinate information.
> 
> I get the correct MapInfo files out (.tab or .mif) with the x,y points and
> attributes, but without the CoordSys information.
> The output file is always Non-Earth.
> 
> I've tried everything:
> 
> OGRSpatialReference oSRS;
> oSRS.SetWellKnownGeogCS("EPSG:4326");
> oSRS.importFromMICoordSys( "CoordSys Earth Projection 1, 104" );
> 
> 
> Could someone PLEASE let me know what to do?

Reinaldo,

I just tried:

ogr2ogr -skipfailures -f "MapInfo File" out.mif GB4X0000.000 TUNNEL

and this produced a mapinfo mid/mif fileset with "CoordSys Earth
Projection 1, 104" as the coord sys line.  I also tested a small
program:


#include "gdal.h"
#include "ogr_spatialref.h"

int main()

{
     OGRSpatialReference oSRS;

     oSRS.importFromMICoordSys( "CoordSys Earth Projection 1, 104" );
}

and it appeared to correctly parse the Coordsys into a WGS84 srs.

I even tried:

ogr2ogr -a_srs wgs84.wkt -skipfailures -f "MapInfo File" out.mif 
data/s57/GB4X0000.000 TUNNEL

with wgs84.wkt holding:

GEOGCS["unnamed",DATUM["WGS_1984",SPHEROID["WGS 
84",6378137,298.257223563],TOWGS84[0,0,0,-0,-0,-0,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]

and things seemed to work.

Can you provide a more complete example that is failing for you?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chaitanya.ch at gmail.com  Tue Sep 22 23:23:00 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Sep 22 23:23:02 2009
Subject: [gdal-dev] Problem converting .gml to shapefile
In-Reply-To: <200909221940.50695.aribao@gmail.com>
References: <200909211938.33329.aribao@gmail.com>
	<200909221739.19119.aribao@gmail.com>
	<eb502d880909220928g7fb62eact4253637e09768e12@mail.gmail.com>
	<200909221940.50695.aribao@gmail.com>
Message-ID: <eb502d880909222023oef9e2b2w75f8b65f4d68556d@mail.gmail.com>

Adrian,

There is something wrong with the file you gave. So the problem seems
with ogr2ogr (at least with yours).

Please try a clean start without using the -append option and try
again. Let me know as many details as you can, even if you get a
correct result.

On Tue, Sep 22, 2009 at 11:10 PM, Adri?n Ribao Mart?nez
<aribao@gmail.com> wrote:
> Hello Chaitanya,
>
> I attach the files to this mail.
>
> Thank you very much for your help!
>
> Best regards,
>
> Adrian
>
> On Martes, 22 de Septiembre de 2009 18:28:37 usted escribi?:
>> Adrian,
>>
>> May be the problem is not with the shapefile. Provide a copy of the
>> shapefile you generated to me.
>>
>> Shapefile field names have some limitations. They cannot be longer
>> than 10 chars. http://www.gdal.org/ogr/drv_shapefile.html
>>
>> On Tue, Sep 22, 2009 at 9:09 PM, Adri?n Ribao Mart?nez <aribao@gmail.com> wrote:
>> > On Martes, 22 de Septiembre de 2009 12:41:12 usted escribi?:
>> >> Adrian,
>> >>
>> >> I see the complete map, one similar to the wikipedia version.
>> >> I did this with the latest daily snapshot of gdal with the command:
>> >> ? ogr2ogr -f "ESRI Shapefile" limits limits.gml -nlt multipolygon
>> >
>> > The version of gdal is 1.6.2 under debian linux. I can see it better in other editors but I still have some problems, the names of the ddbb won't match the features. And when I import it to the ddbb I get the same result as I posted before. http://imgur.com/HDpRp
>> >
>> > I'm using geodjango and postgis 1.3.
>> >
>> > Regards,
>> >
>> > Adrian.
>> >
>> >
>> >> Please provide the GDAL version you used and see if you can open the
>> >> shapefile in a different application.
>> >>
>> >> On Tue, Sep 22, 2009 at 3:30 PM, Adri?n Ribao Mart?nez <aribao@gmail.com> wrote:
>> >> >
>> >> > On Martes, 22 de Septiembre de 2009 11:42:44 usted escribi?:
>> >> > > Adrian,
>> >> > >
>> >> > > The GML file has only one geometry per feature, as far as I looked. I was
>> >> > > able to convert the gml file to shapefile format. It showed boundaries of
>> >> > > different places in Spain including some islands.
>> >> >
>> >> > Are you seeing this map? http://imgur.com/HDpRp
>> >> >
>> >> > This is wrong, the map is not complete, it should be like this: http://en.wikipedia.org/wiki/File:Spain_met.png
>> >> >
>> >> > Regards,
>> >> >
>> >> > Adrian
>> >> >
>> >> > > I did not use the -append option.
>> >> > >
>> >> > > On Mon, Sep 21, 2009 at 11:08 PM, Adri?n Ribao Mart?nez <aribao@gmail.com>wrote:
>> >> > >
>> >> > > > Hello everybody,
>> >> > > >
>> >> > > > I have a problem converting a gml file into .shp. I'm using this command:
>> >> > > >
>> >> > > > ogr2ogr -append -f "ESRI Shapefile" limits limits.gml ?-nlt multipolygon
>> >> > > >
>> >> > > >
>> >> > > > but it's not working, it seems that only one geometry per feature is
>> >> > > > converted. What am I doing wrong?
>> >> > > >
>> >> > > >
>> >> > > > You can have a look at the gml file here:
>> >> > > > http://groups.google.com/group/geodjango/web/limits.gml.tar.gz
>> >> > > >
>> >> > > > Thank you very much, I've spent all day with this without success.
>> >> > > >
>> >> > > > Regards,
>> >> > > >
>> >> > > > Adrian
>> >> > > >
>> >> > > > _______________________________________________
>> >> > > > gdal-dev mailing list
>> >> > > > gdal-dev@lists.osgeo.org
>> >> > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> >> > > >
>> >> > >
>> >> > >
>> >> > >
>> >> > >
>> >>
>> >>
>> >>
>> >> --
>> >> Best regards,
>> >> Chaitanya kumar CH.
>> >>
>> >
>>
>>
>>
>>
>



-- 
Best regards,
Chaitanya kumar CH.
From bryanmtaylor13 at charter.net  Wed Sep 23 01:59:11 2009
From: bryanmtaylor13 at charter.net (btaylor)
Date: Wed Sep 23 01:59:14 2009
Subject: [Gdal-dev] Programming with GDAL in Windows XP using DEV-C++ or
	CodeBlocks
Message-ID: <1253685551510-3697752.post@n2.nabble.com>


I've been trying to use/build GDAL in Windows.  I thought I'd start with the 
perry-geo hillshade, aspect, and slope command line utilities and then move 
into building some custom raster calculators/manipulation utilities. 
However, after spending many hours across several days attempting to compile 
these files under WinXP, and searching hundreds of internet links, I am 
unable to successfully link to the gdal libraries and have a successful 
compile.  I have tried to use pre-compiled gdal libraries and headers and 
also I have tried to compile from source myself.  Lately I have installed 
CodeBlocks in an attempt to circumvent DEV-C++ in case there were problems 
with the compiler gui.  Again, no success, but I do get the same reference 
errors as in DEV-C++ when the linker starts (see below). 
 
Has anyone used GDAL libraries in a windows compiling environment?  I am so 
tired of experimenting.  I would really like to know if someone has done 
this or can do this, and specifically, how they pulled it off.  Any help 
would be appreciated.  I've dabbled in programming, but my biggest weakness 
is understanding the compiling/linking process and makefiles and such.  If 
anyone can help or point me in the right direction I'd be grateful.  Thanks, 
Bryan. 
 
Compiler log: 
 
-------------- Build: Debug in Hillshade --------------- 
 
Compiling: main.cpp 
In file included from 
C:/gdalwin32exe141/gdalwin32-1.4.1/include/cpl_port.h:86, 
                 from C:/gdalwin32exe141/gdalwin32-1.4.1/include/gdal.h:40, 
                 from 
C:/gdalwin32exe141/gdalwin32-1.4.1/include/gdal_priv.h:50, 
                 from C:\Hillshade\Hillshade\main.cpp:27: 
C:/gdalwin32exe141/gdalwin32-1.4.1/include/cpl_config.h:89: warning: 
ignoring #pragma warning 
Linking console executable: bin\Debug\Hillshade.exe 
obj\Debug\main.o: In function `main': 
C:/Hillshade/Hillshade/main.cpp:85: undefined reference to 
`_GDALAllRegister' 
C:/Hillshade/Hillshade/main.cpp:90: undefined reference to `_GDALOpen' 
C:/Hillshade/Hillshade/main.cpp:97: undefined reference to 
`GDALDataset::GetRasterBand(int)' 
C:/Hillshade/Hillshade/main.cpp:107: undefined reference to 
`GDALRasterBand::GetXSize()' 
C:/Hillshade/Hillshade/main.cpp:108: undefined reference to 
`GDALRasterBand::GetYSize()' 
C:/Hillshade/Hillshade/main.cpp:116: undefined reference to 
`GDALDriverManager::GetDriverByName(char const*)' 
C:/Hillshade/Hillshade/main.cpp:121: undefined reference to 
`GDALDriver::Create(char const*, int, int, int, GDALDataType, char**)' 
C:/Hillshade/Hillshade/main.cpp:125: undefined reference to 
`GDALDataset::GetRasterBand(int)' 
C:/Hillshade/Hillshade/main.cpp:151: undefined reference to 
`GDALRasterBand::RasterIO(GDALRWFlag, int, int, int, int, void*, int, int, 
GDALDataType, int, int)' 
C:/Hillshade/Hillshade/main.cpp:206: undefined reference to 
`GDALRasterBand::RasterIO(GDALRWFlag, int, int, int, int, void*, int, int, 
GDALDataType, int, int)' 
collect2: ld returned 1 exit status 
Process terminated with status 1 (0 minutes, 0 seconds) 
10 errors, 1 warnings 

-- 
View this message in context: http://n2.nabble.com/Programming-with-GDAL-in-Windows-XP-using-DEV-C-or-CodeBlocks-tp3697752p3697752.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From mateusz at loskot.net  Wed Sep 23 04:50:19 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Sep 23 04:47:53 2009
Subject: [Gdal-dev] Programming with GDAL in Windows XP using DEV-C++
	or	CodeBlocks
In-Reply-To: <1253685551510-3697752.post@n2.nabble.com>
References: <1253685551510-3697752.post@n2.nabble.com>
Message-ID: <4AB9E14B.9040300@loskot.net>

btaylor wrote:
> Has anyone used GDAL libraries in a windows compiling environment? 

Yes, I have.

Here is a simple example of Windows application (a tiny converter) 
developed using GDAL:

http://github.com/mloskot/workshop/tree/master/sid2jp2/trunk/

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From mateusz at loskot.net  Wed Sep 23 04:55:01 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Sep 23 04:52:30 2009
Subject: [gdal-dev] OGRGeometry Distance
In-Reply-To: <4AB7C6AA.3070602@noaa.gov>
References: <150158ad0909210806w2493a1dfn388be82bed1db2c8@mail.gmail.com>
	<4AB7C6AA.3070602@noaa.gov>
Message-ID: <4AB9E265.1040808@loskot.net>

Christopher Barker wrote:
> Yilmaz Arslanoglu wrote:
>> I wanted to compute the distance between two points,
> 
> you need to be clear by what you mean here: I suspect you mean:
> 
> "The shortest distance between two points following the surface of the 
> earth"
> 
> In which case, what you are looking for is referred to as the geodesic 
> distance:
> 
> http://www.vterrain.org/Misc/distance.html
> 
> To do this accurately (and you may not need much accuracy!) on an 
> ellipsoid requires a fair bit of math. I don't know if it's built in to 
> OGR or PROJ at this point, but there are a few libraries out that that 
> do it, including Gerald I. Evenden's "geodesic" lib, which can be found 
> here:
> 
> http://home.comcast.net/~gevenden56/geodesy/project/

Here is another interesting article on that subject:

http://www.codeguru.com/Cpp/Cpp/algorithms/general/article.php/c5115/

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From Tom.Kralidis at ec.gc.ca  Wed Sep 23 08:04:52 2009
From: Tom.Kralidis at ec.gc.ca (Kralidis,Tom [Ontario])
Date: Wed Sep 23 08:09:53 2009
Subject: [gdal-dev] raster extents and Python API
Message-ID: <23842457308FD64AA88A8EE62F2A7D5BD74496@OntExch3.ontario.int.ec.gc.ca>


Hi,

Using the Python API, I am writing a script to get high level
information on datasets to feed metadata and publishing.

When fetching extents, osgeo.ogr has GetExtent().

Doesn't look like there is anything like this within osgeo.gdal (thanks
crschmidt).  One would have to call GetGeoTransform() and do the math by
hand against the origin, pixel size and rows/cols to derive the extent.

Wouldn't a osgeo.gdal GetExtent() enhancement be valuable?  This would
save developers from calculating this by hand, and I'm guessing this is
already done somewhere in the codebase, seeing that gdalinfo outputs
extents.

..Tom


From amanda.m.henneke at boeing.com  Wed Sep 23 11:16:48 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Wed Sep 23 11:43:17 2009
Subject: [gdal-dev] Translating between UTM and Geographic
Message-ID: <D901C7FDFE03E042B41317116B98302964B9F86D00@XCH-MW-05V.mw.nos.boeing.com>

Hello all-

I'm trying to figure out how to reproject some points from a UTM projection to Geographic (WGS84) projection.  This works fine when I'm working in UTM Zone 12 with NAD83.  When I try the same code for Zone 11 NAD27, I get a slight shift in the points (to the east) and an extremely slight shift up (to the north).

I've included the following code as it stands now, I've tried all sorts of things thinking that I need to somehow include more information for the new spatial reference (the destination SR), and so far I'm coming up empty...

Anyone have any ideas what I'm missing?

Where sSpRefParams is a string that contains the WKT projection information from a valid layer...

srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);

srNew.SetGeogCS("Geographic Coordinate System", OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR, OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, "Greenwich", 0.0, "degree", 0.0174532925199433);

ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);



Amanda M. Henneke
IG/DB Tools - TSS Capability Center
Boeing - St. Louis
314-777-6856



When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.


From Steve.Toutant at inspq.qc.ca  Wed Sep 23 12:53:05 2009
From: Steve.Toutant at inspq.qc.ca (Steve.Toutant@inspq.qc.ca)
Date: Wed Sep 23 13:08:23 2009
Subject: RE [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9F86D00@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <OF266DE314.1B2E5469-ON8525763A.005C9C1F-8525763A.005CC038@ssss.gouv.qc.ca>

hi,
slight shift in the points (to the east) and an extremely slight shift up 
(to the north).

That seems to be a datum error. Make sure you set the good parameters for 
datum when using nad83 or nad27.
Steve
 




"Henneke, Amanda M" <amanda.m.henneke@boeing.com>@lists.osgeo.org 
Envoy? par : gdal-dev-bounces@lists.osgeo.org
23/09/2009 11:16 AM

A
"gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
cc

Objet
[gdal-dev] Translating between UTM and Geographic








Hello all-

I'm trying to figure out how to reproject some points from a UTM 
projection to Geographic (WGS84) projection.  This works fine when I'm 
working in UTM Zone 12 with NAD83.  When I try the same code for Zone 11 
NAD27, I get a slight shift in the points (to the east) and an extremely 
slight shift up (to the north).

I've included the following code as it stands now, I've tried all sorts of 
things thinking that I need to somehow include more information for the 
new spatial reference (the destination SR), and so far I'm coming up 
empty...

Anyone have any ideas what I'm missing?

Where sSpRefParams is a string that contains the WKT projection 
information from a valid layer...

srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);

srNew.SetGeogCS("Geographic Coordinate System", 
OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_DN_WGS84, 
OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR, OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, 
"Greenwich", 0.0, "degree", 0.0174532925199433);

ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);



Amanda M. Henneke
IG/DB Tools - TSS Capability Center
Boeing - St. Louis
314-777-6856



When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
  Please consider the environment before printing this e-mail.


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/3152f1bf/attachment.html
From Steve.Toutant at inspq.qc.ca  Wed Sep 23 13:17:08 2009
From: Steve.Toutant at inspq.qc.ca (Steve.Toutant@inspq.qc.ca)
Date: Wed Sep 23 13:17:21 2009
Subject: RE [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9F86DA2@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <OF495B2B5E.D3C476A5-ON8525763A.005EC7CD-8525763A.005EF411@ssss.gouv.qc.ca>

I don't know about the code I'm not a programmer.
You said 
UTM Zone 12 with NAD83 works but this Zone 11 NAD27 doesn't.
My guess is you are using Zone 11 NAD83 instead NAD27.

I might be wrong though.
Steve



Steve Toutant, M. Sc.
Analyste en g?omatique
Secteur environnement
Direction des risques biologiques, environnementaux et occupationnels
Institut national de sant? publique du Qu?bec
945, avenue Wolfe
Qu?bec, Qc G1V 5B3 
T?l.: (418) 650-5115 #5281
Fax.: (418) 654-3144
steve.toutant@inspq.qc.ca
http://www.inspq.qc.ca
 




"Henneke, Amanda M" <amanda.m.henneke@boeing.com> 
23/09/2009 01:04 PM

A
"Steve.Toutant@inspq.qc.ca" <Steve.Toutant@inspq.qc.ca>
cc

Objet
RE: RE [gdal-dev] Translating between UTM and Geographic








What do you mean by "good parameters" is there something I need to add to 
the code I included?
 
Amanda M. Henneke 
IG/DB Tools - TSS Capability Center 
Boeing - St. Louis 
314-777-6856 
When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
  Please consider the environment before printing this e-mail.
 

From: Steve.Toutant@inspq.qc.ca [mailto:Steve.Toutant@inspq.qc.ca] 
Sent: Wednesday, September 23, 2009 11:53 AM
To: Henneke, Amanda M
Cc: gdal-dev@lists.osgeo.org; gdal-dev-bounces@lists.osgeo.org
Subject: RE [gdal-dev] Translating between UTM and Geographic


hi, 
slight shift in the points (to the east) and an extremely slight shift up 
(to the north). 

That seems to be a datum error. Make sure you set the good parameters for 
datum when using nad83 or nad27. 
Steve 
 



"Henneke, Amanda M" <amanda.m.henneke@boeing.com>@lists.osgeo.org 
Envoy? par : gdal-dev-bounces@lists.osgeo.org 
23/09/2009 11:16 AM 


A
"gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org> 
cc

Objet
[gdal-dev] Translating between UTM and Geographic










Hello all-

I'm trying to figure out how to reproject some points from a UTM 
projection to Geographic (WGS84) projection.  This works fine when I'm 
working in UTM Zone 12 with NAD83.  When I try the same code for Zone 11 
NAD27, I get a slight shift in the points (to the east) and an extremely 
slight shift up (to the north).

I've included the following code as it stands now, I've tried all sorts of 
things thinking that I need to somehow include more information for the 
new spatial reference (the destination SR), and so far I'm coming up 
empty...

Anyone have any ideas what I'm missing?

Where sSpRefParams is a string that contains the WKT projection 
information from a valid layer...

srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);

srNew.SetGeogCS("Geographic Coordinate System", 
OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_DN_WGS84, 
OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR, OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, 
"Greenwich", 0.0, "degree", 0.0174532925199433);

ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);



Amanda M. Henneke
IG/DB Tools - TSS Capability Center
Boeing - St. Louis
314-777-6856



When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
 Please consider the environment before printing this e-mail.


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev





-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/b3cb7596/attachment.html
From Steve.Toutant at inspq.qc.ca  Wed Sep 23 13:21:50 2009
From: Steve.Toutant at inspq.qc.ca (Steve.Toutant@inspq.qc.ca)
Date: Wed Sep 23 13:22:08 2009
Subject: RE [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9F86D00@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <OF7CE5D424.DFA54A82-ON8525763A.005F4CAC-8525763A.005F6255@ssss.gouv.qc.ca>

The problem might not be in your code but in the WKT projection 
information (sSpRefParams).


Steve Toutant, M. Sc.
Analyste en g?omatique
Secteur environnement
Direction des risques biologiques, environnementaux et occupationnels
Institut national de sant? publique du Qu?bec
945, avenue Wolfe
Qu?bec, Qc G1V 5B3 
T?l.: (418) 650-5115 #5281
Fax.: (418) 654-3144
steve.toutant@inspq.qc.ca
http://www.inspq.qc.ca
 




"Henneke, Amanda M" <amanda.m.henneke@boeing.com>@lists.osgeo.org 
Envoy? par : gdal-dev-bounces@lists.osgeo.org
23/09/2009 11:16 AM

A
"gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
cc

Objet
[gdal-dev] Translating between UTM and Geographic








Hello all-

I'm trying to figure out how to reproject some points from a UTM 
projection to Geographic (WGS84) projection.  This works fine when I'm 
working in UTM Zone 12 with NAD83.  When I try the same code for Zone 11 
NAD27, I get a slight shift in the points (to the east) and an extremely 
slight shift up (to the north).

I've included the following code as it stands now, I've tried all sorts of 
things thinking that I need to somehow include more information for the 
new spatial reference (the destination SR), and so far I'm coming up 
empty...

Anyone have any ideas what I'm missing?

Where sSpRefParams is a string that contains the WKT projection 
information from a valid layer...

srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);

srNew.SetGeogCS("Geographic Coordinate System", 
OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_DN_WGS84, 
OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR, OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, 
"Greenwich", 0.0, "degree", 0.0174532925199433);

ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);



Amanda M. Henneke
IG/DB Tools - TSS Capability Center
Boeing - St. Louis
314-777-6856



When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
  Please consider the environment before printing this e-mail.


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/7e628c49/attachment-0001.html
From amanda.m.henneke at boeing.com  Wed Sep 23 12:57:48 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Wed Sep 23 13:26:01 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <BAY120-DS1091F0AB3CA9B558BA9651F9DB0@phx.gbl>
References: <D901C7FDFE03E042B41317116B98302964B9F86D00@XCH-MW-05V.mw.nos.bo
	eing.com> <BAY120-DS41DB3BDF12B68640EC826F9DB0@phx.gbl>
	<D901C7FDFE03E042B41317116B98302964B9F86D6E@XCH-MW-05V.mw.nos.boeing.com>
	<BAY120-DS1091F0AB3CA9B558BA9651F9DB0@phx.gbl>
Message-ID: <D901C7FDFE03E042B41317116B98302964B9F86D99@XCH-MW-05V.mw.nos.boeing.com>

Craig-

I'm trying to have it in Geograhphic/WGS84, at least that's what I'm specifying in the code...I agree I think it is a datum error, but I don't know what to do to make it translate the datum from NAD27 to WGS84 correctly. 

I don't know if I can send the raster, but I can send the two shapefiles...

Amanda M. Henneke
IG/DB Tools - TSS Capability Center


 
When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: Craig Miller [mailto:craig.miller@spatialminds.com] 
Sent: Wednesday, September 23, 2009 11:51 AM
To: Henneke, Amanda M
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Geographic is a projection, not a datum.  What Datum is the data in the "Geographic Projection" in?  E.g. you can have a map in either
Geographic/NAD27 or Geographic/NAD83 (or another datum for that matter..
such as WGS84).

What software are you using to display the data?

If you want me to take a look, zip up the raster, and the good shapefile, and the bad shapefile and send them over.  I don't have a lot of time as I'm getting ready to leave on a trip, but I'll try and squeeze it in before I leave.

Craig


> -----Original Message-----
> From: Henneke, Amanda M [mailto:amanda.m.henneke@boeing.com]
> Sent: Wednesday, September 23, 2009 9:28 AM
> To: Craig Miller
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> Hi Craig-
> 
> I'm translating a shapefile (from UTM to Geographic) and then 
> comparing it
to
> 
> #1 A shapefile that was translated from UTM to Geographic using the
software,
> GlobalMapper.
> #2 A raster file that was originally projected in Geographic, so that 
> for example I can see the points don't match up with the features they 
> should represent on the image.
> 
> The shapefile that GlobalMapper translates matches up perfectly with 
> my
raster
> file.
> 
> So my thought process is, that if Global Mapper has some way to 
> convert
the
> different projections without the shifting, how come GDAL can't do that.
I'm
> thinking it can, but maybe I need to give it some additional data maybe?
Or
> am I off?
> 
> Thanks for your help!
> 
> Amanda M. Henneke
> IG/DB Tools - TSS Capability Center
> 
> 
> When One tugs at a single thing in Nature, he finds it attached to the
rest of
> the world. -John Muir
>   Please consider the environment before printing this e-mail.
> 
> -----Original Message-----
> From: Craig Miller [mailto:craig.miller@spatialminds.com]
> Sent: Wednesday, September 23, 2009 11:21 AM
> To: Henneke, Amanda M
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> If you are transforming the datum from NAD27 to WGS84 then it is 
> expected
that
> your points would be shifted exactly as you describe.  How are you
determining
> that they are shifted?
> 
> a.  Compared to a map?  Is the map reprojected?  Are you comparing 
> them to landform features or to the lat/lon grid on the map?  For 
> example, if you
have
> a USGS Quad map with lat/lon lines on it based on the NAD27 datum then
those
> lat/lon lines ONLY show the lat/lon using that datum.  If you plot 
> points
that
> have been shifted to the new datum, they will not agree with those 
> NAD27
lines
> since the new points are based on lat/lon NAD83.
> 
> b.  Comparing lat/lon directly?  The points have been transformed.
Lat/lon
> are relative to a datum and lan/lon NAD27 coords and lat/lon NAD83 
> coords
will
> have different values.
> 
> Craig
> 
> 
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev- 
> > bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
> > Sent: Wednesday, September 23, 2009 8:17 AM
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Translating between UTM and Geographic
> >
> > Hello all-
> >
> > I'm trying to figure out how to reproject some points from a UTM
> projection to
> > Geographic (WGS84) projection.  This works fine when I'm working in 
> > UTM
> Zone
> > 12 with NAD83.  When I try the same code for Zone 11 NAD27, I get a 
> > slight shift in the points (to the east) and an extremely slight 
> > shift up (to the north).
> >
> > I've included the following code as it stands now, I've tried all 
> > sorts of things thinking that I need to somehow include more 
> > information for the
> new
> > spatial reference (the destination SR), and so far I'm coming up
empty...
> >
> > Anyone have any ideas what I'm missing?
> >
> > Where sSpRefParams is a string that contains the WKT projection
> information
> > from a valid layer...
> >
> > srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);
> >
> > srNew.SetGeogCS("Geographic Coordinate System",
> OSGeo.OSR.Osr.SRS_DN_WGS84,
> > OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR,
> > OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, "Greenwich", 0.0, "degree", 
> > 0.0174532925199433);
> >
> > ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);
> >
> >
> >
> > Amanda M. Henneke
> > IG/DB Tools - TSS Capability Center
> 
> >
> >
> > When One tugs at a single thing in Nature, he finds it attached to 
> > the
> rest of
> > the world. -John Muir
> >   Please consider the environment before printing this e-mail.
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


From amanda.m.henneke at boeing.com  Wed Sep 23 13:39:28 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Wed Sep 23 13:39:26 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9F86D99@XCH-MW-05V.mw.nos.boeing.com>
References: <D901C7FDFE03E042B41317116B98302964B9F86D00@XCH-MW-05V.mw.nos.bo
	eing.com>
	<BAY120-DS41DB3BDF12B68640EC826F9DB0@phx.gbl><D901C7FDFE03E042B41317116B983
	02964B9F86D6E@XCH-MW-05V.mw.nos.boeing.com><BAY120-DS1091F0AB3CA9B558BA9651F9DB0@phx.gbl>
	<D901C7FDFE03E042B41317116B98302964B9F86D99@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <D901C7FDFE03E042B41317116B98302964B9FA4AB9@XCH-MW-05V.mw.nos.boeing.com>

Here is some more information:

So, here is the WKT I'm getting from my code for the "problem" source file: 
  

PROJCS["NAD_1927_UTM_Zone_11N", 

GEOGCS["GCS_North_American_1927", 

DATUM["North_American_Datum_1927", 

SPHEROID["Clarke_1866",6378206.4,294.9786982]], 

PRIMEM["Greenwich",0], 

UNIT["Degree",0.017453292519943295]], 

PROJECTION["Transverse_Mercator"], 

PARAMETER["latitude_of_origin",0], 

PARAMETER["central_meridian",-117], 

PARAMETER["scale_factor",0.9996], 

PARAMETER["false_easting",500000], 

PARAMETER["false_northing",0], 

UNIT["Meter",1]] 

  

Here's the WKT I'm creating for the destination file: 

GEOGCS["Geographic Coordinate System", 

DATUM["WGS_1984", 

SPHEROID["WGS_1984",6378137,298.257223563]], 

PRIMEM["Greenwich",0], 

UNIT["degree",0.0174532925199433]] 

  

Do you see any issues with that?  It looks like the source file is picking up that it's NAD27... 
 


Amanda M. Henneke
IG/DB Tools - TSS Capability Center


 
When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
Sent: Wednesday, September 23, 2009 11:58 AM
To: Craig Miller
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Craig-

I'm trying to have it in Geograhphic/WGS84, at least that's what I'm specifying in the code...I agree I think it is a datum error, but I don't know what to do to make it translate the datum from NAD27 to WGS84 correctly. 

I don't know if I can send the raster, but I can send the two shapefiles...

Amanda M. Henneke
IG/DB Tools - TSS Capability Center


 
When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: Craig Miller [mailto:craig.miller@spatialminds.com]
Sent: Wednesday, September 23, 2009 11:51 AM
To: Henneke, Amanda M
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Geographic is a projection, not a datum.  What Datum is the data in the "Geographic Projection" in?  E.g. you can have a map in either
Geographic/NAD27 or Geographic/NAD83 (or another datum for that matter..
such as WGS84).

What software are you using to display the data?

If you want me to take a look, zip up the raster, and the good shapefile, and the bad shapefile and send them over.  I don't have a lot of time as I'm getting ready to leave on a trip, but I'll try and squeeze it in before I leave.

Craig


> -----Original Message-----
> From: Henneke, Amanda M [mailto:amanda.m.henneke@boeing.com]
> Sent: Wednesday, September 23, 2009 9:28 AM
> To: Craig Miller
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> Hi Craig-
> 
> I'm translating a shapefile (from UTM to Geographic) and then 
> comparing it
to
> 
> #1 A shapefile that was translated from UTM to Geographic using the
software,
> GlobalMapper.
> #2 A raster file that was originally projected in Geographic, so that 
> for example I can see the points don't match up with the features they 
> should represent on the image.
> 
> The shapefile that GlobalMapper translates matches up perfectly with 
> my
raster
> file.
> 
> So my thought process is, that if Global Mapper has some way to 
> convert
the
> different projections without the shifting, how come GDAL can't do that.
I'm
> thinking it can, but maybe I need to give it some additional data maybe?
Or
> am I off?
> 
> Thanks for your help!
> 
> Amanda M. Henneke
> IG/DB Tools - TSS Capability Center
> 
> 
> When One tugs at a single thing in Nature, he finds it attached to the
rest of
> the world. -John Muir
>   Please consider the environment before printing this e-mail.
> 
> -----Original Message-----
> From: Craig Miller [mailto:craig.miller@spatialminds.com]
> Sent: Wednesday, September 23, 2009 11:21 AM
> To: Henneke, Amanda M
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> If you are transforming the datum from NAD27 to WGS84 then it is 
> expected
that
> your points would be shifted exactly as you describe.  How are you
determining
> that they are shifted?
> 
> a.  Compared to a map?  Is the map reprojected?  Are you comparing 
> them to landform features or to the lat/lon grid on the map?  For 
> example, if you
have
> a USGS Quad map with lat/lon lines on it based on the NAD27 datum then
those
> lat/lon lines ONLY show the lat/lon using that datum.  If you plot 
> points
that
> have been shifted to the new datum, they will not agree with those
> NAD27
lines
> since the new points are based on lat/lon NAD83.
> 
> b.  Comparing lat/lon directly?  The points have been transformed.
Lat/lon
> are relative to a datum and lan/lon NAD27 coords and lat/lon NAD83 
> coords
will
> have different values.
> 
> Craig
> 
> 
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev- 
> > bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
> > Sent: Wednesday, September 23, 2009 8:17 AM
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Translating between UTM and Geographic
> >
> > Hello all-
> >
> > I'm trying to figure out how to reproject some points from a UTM
> projection to
> > Geographic (WGS84) projection.  This works fine when I'm working in 
> > UTM
> Zone
> > 12 with NAD83.  When I try the same code for Zone 11 NAD27, I get a 
> > slight shift in the points (to the east) and an extremely slight 
> > shift up (to the north).
> >
> > I've included the following code as it stands now, I've tried all 
> > sorts of things thinking that I need to somehow include more 
> > information for the
> new
> > spatial reference (the destination SR), and so far I'm coming up
empty...
> >
> > Anyone have any ideas what I'm missing?
> >
> > Where sSpRefParams is a string that contains the WKT projection
> information
> > from a valid layer...
> >
> > srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);
> >
> > srNew.SetGeogCS("Geographic Coordinate System",
> OSGeo.OSR.Osr.SRS_DN_WGS84,
> > OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR,
> > OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, "Greenwich", 0.0, "degree", 
> > 0.0174532925199433);
> >
> > ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);
> >
> >
> >
> > Amanda M. Henneke
> > IG/DB Tools - TSS Capability Center
> 
> >
> >
> > When One tugs at a single thing in Nature, he finds it attached to 
> > the
> rest of
> > the world. -John Muir
> >   Please consider the environment before printing this e-mail.
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Steve.Toutant at inspq.qc.ca  Wed Sep 23 13:40:59 2009
From: Steve.Toutant at inspq.qc.ca (Steve.Toutant@inspq.qc.ca)
Date: Wed Sep 23 13:41:17 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9FA4AB9@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <OF2059EF7F.37398129-ON8525763A.0061183C-8525763A.0061231C@ssss.gouv.qc.ca>

What is the wkt you are using for zone 12 nad83?
 




"Henneke, Amanda M" <amanda.m.henneke@boeing.com>@lists.osgeo.org 
Envoy? par : gdal-dev-bounces@lists.osgeo.org
23/09/2009 01:39 PM

A
"gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
cc

Objet
RE: [gdal-dev] Translating between UTM and Geographic








Here is some more information:

So, here is the WKT I'm getting from my code for the "problem" source 
file: 
 

PROJCS["NAD_1927_UTM_Zone_11N", 

GEOGCS["GCS_North_American_1927", 

DATUM["North_American_Datum_1927", 

SPHEROID["Clarke_1866",6378206.4,294.9786982]], 

PRIMEM["Greenwich",0], 

UNIT["Degree",0.017453292519943295]], 

PROJECTION["Transverse_Mercator"], 

PARAMETER["latitude_of_origin",0], 

PARAMETER["central_meridian",-117], 

PARAMETER["scale_factor",0.9996], 

PARAMETER["false_easting",500000], 

PARAMETER["false_northing",0], 

UNIT["Meter",1]] 

 

Here's the WKT I'm creating for the destination file: 

GEOGCS["Geographic Coordinate System", 

DATUM["WGS_1984", 

SPHEROID["WGS_1984",6378137,298.257223563]], 

PRIMEM["Greenwich",0], 

UNIT["degree",0.0174532925199433]] 

 

Do you see any issues with that?  It looks like the source file is picking 
up that it's NAD27... 
 


Amanda M. Henneke
IG/DB Tools - TSS Capability Center


 
When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org 
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
Sent: Wednesday, September 23, 2009 11:58 AM
To: Craig Miller
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Craig-

I'm trying to have it in Geograhphic/WGS84, at least that's what I'm 
specifying in the code...I agree I think it is a datum error, but I don't 
know what to do to make it translate the datum from NAD27 to WGS84 
correctly. 

I don't know if I can send the raster, but I can send the two 
shapefiles...

Amanda M. Henneke
IG/DB Tools - TSS Capability Center


 
When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: Craig Miller [mailto:craig.miller@spatialminds.com]
Sent: Wednesday, September 23, 2009 11:51 AM
To: Henneke, Amanda M
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Geographic is a projection, not a datum.  What Datum is the data in the 
"Geographic Projection" in?  E.g. you can have a map in either
Geographic/NAD27 or Geographic/NAD83 (or another datum for that matter..
such as WGS84).

What software are you using to display the data?

If you want me to take a look, zip up the raster, and the good shapefile, 
and the bad shapefile and send them over.  I don't have a lot of time as 
I'm getting ready to leave on a trip, but I'll try and squeeze it in 
before I leave.

Craig


> -----Original Message-----
> From: Henneke, Amanda M [mailto:amanda.m.henneke@boeing.com]
> Sent: Wednesday, September 23, 2009 9:28 AM
> To: Craig Miller
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> Hi Craig-
> 
> I'm translating a shapefile (from UTM to Geographic) and then 
> comparing it
to
> 
> #1 A shapefile that was translated from UTM to Geographic using the
software,
> GlobalMapper.
> #2 A raster file that was originally projected in Geographic, so that 
> for example I can see the points don't match up with the features they 
> should represent on the image.
> 
> The shapefile that GlobalMapper translates matches up perfectly with 
> my
raster
> file.
> 
> So my thought process is, that if Global Mapper has some way to 
> convert
the
> different projections without the shifting, how come GDAL can't do that.
I'm
> thinking it can, but maybe I need to give it some additional data maybe?
Or
> am I off?
> 
> Thanks for your help!
> 
> Amanda M. Henneke
> IG/DB Tools - TSS Capability Center
> 
> 
> When One tugs at a single thing in Nature, he finds it attached to the
rest of
> the world. -John Muir
>   Please consider the environment before printing this e-mail.
> 
> -----Original Message-----
> From: Craig Miller [mailto:craig.miller@spatialminds.com]
> Sent: Wednesday, September 23, 2009 11:21 AM
> To: Henneke, Amanda M
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> If you are transforming the datum from NAD27 to WGS84 then it is 
> expected
that
> your points would be shifted exactly as you describe.  How are you
determining
> that they are shifted?
> 
> a.  Compared to a map?  Is the map reprojected?  Are you comparing 
> them to landform features or to the lat/lon grid on the map?  For 
> example, if you
have
> a USGS Quad map with lat/lon lines on it based on the NAD27 datum then
those
> lat/lon lines ONLY show the lat/lon using that datum.  If you plot 
> points
that
> have been shifted to the new datum, they will not agree with those
> NAD27
lines
> since the new points are based on lat/lon NAD83.
> 
> b.  Comparing lat/lon directly?  The points have been transformed.
Lat/lon
> are relative to a datum and lan/lon NAD27 coords and lat/lon NAD83 
> coords
will
> have different values.
> 
> Craig
> 
> 
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev- 
> > bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
> > Sent: Wednesday, September 23, 2009 8:17 AM
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Translating between UTM and Geographic
> >
> > Hello all-
> >
> > I'm trying to figure out how to reproject some points from a UTM
> projection to
> > Geographic (WGS84) projection.  This works fine when I'm working in 
> > UTM
> Zone
> > 12 with NAD83.  When I try the same code for Zone 11 NAD27, I get a 
> > slight shift in the points (to the east) and an extremely slight 
> > shift up (to the north).
> >
> > I've included the following code as it stands now, I've tried all 
> > sorts of things thinking that I need to somehow include more 
> > information for the
> new
> > spatial reference (the destination SR), and so far I'm coming up
empty...
> >
> > Anyone have any ideas what I'm missing?
> >
> > Where sSpRefParams is a string that contains the WKT projection
> information
> > from a valid layer...
> >
> > srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);
> >
> > srNew.SetGeogCS("Geographic Coordinate System",
> OSGeo.OSR.Osr.SRS_DN_WGS84,
> > OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR,
> > OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, "Greenwich", 0.0, "degree", 
> > 0.0174532925199433);
> >
> > ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);
> >
> >
> >
> > Amanda M. Henneke
> > IG/DB Tools - TSS Capability Center
> 
> >
> >
> > When One tugs at a single thing in Nature, he finds it attached to 
> > the
> rest of
> > the world. -John Muir
> >   Please consider the environment before printing this e-mail.
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/de651a27/attachment-0001.html
From amanda.m.henneke at boeing.com  Wed Sep 23 13:44:23 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Wed Sep 23 13:44:33 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <OF2059EF7F.37398129-ON8525763A.0061183C-8525763A.0061231C@ssss.gouv.qc.ca>
References: <D901C7FDFE03E042B41317116B98302964B9FA4AB9@XCH-MW-05V.mw.nos.boeing.com>
	<OF2059EF7F.37398129-ON8525763A.0061183C-8525763A.0061231C@ssss.gouv.qc.ca>
Message-ID: <D901C7FDFE03E042B41317116B98302964B9FA4ABC@XCH-MW-05V.mw.nos.boeing.com>

PROJCS["NAD_1983_UTM_Zone_12N",

GEOGCS["GCS_North_American_1983",

DATUM["North_American_Datum_1983",

SPHEROID["GRS_1980",6378137,298.257222101]],

PRIMEM["Greenwich",0],

UNIT["Degree",0.017453292519943295]],

PROJECTION["Transverse_Mercator"],

PARAMETER["latitude_of_origin",0],

PARAMETER["central_meridian",-111],

PARAMETER["scale_factor",0.9996],

PARAMETER["false_easting",500000],

PARAMETER["false_northing",0],

UNIT["Meter",1]]



Amanda M. Henneke
IG/DB Tools - TSS Capability Center
Boeing - St. Louis
314-777-6856

When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir

  Please consider the environment before printing this e-mail.



________________________________
From: Steve.Toutant@inspq.qc.ca [mailto:Steve.Toutant@inspq.qc.ca]
Sent: Wednesday, September 23, 2009 12:41 PM
To: Henneke, Amanda M
Cc: gdal-dev@lists.osgeo.org; gdal-dev-bounces@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic


What is the wkt you are using for zone 12 nad83?





"Henneke, Amanda M" <amanda.m.henneke@boeing.com>@lists.osgeo.org
Envoy? par : gdal-dev-bounces@lists.osgeo.org

23/09/2009 01:39 PM

A
"gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
cc
Objet
RE: [gdal-dev] Translating between UTM and Geographic







Here is some more information:

So, here is the WKT I'm getting from my code for the "problem" source file:


PROJCS["NAD_1927_UTM_Zone_11N",

GEOGCS["GCS_North_American_1927",

DATUM["North_American_Datum_1927",

SPHEROID["Clarke_1866",6378206.4,294.9786982]],

PRIMEM["Greenwich",0],

UNIT["Degree",0.017453292519943295]],

PROJECTION["Transverse_Mercator"],

PARAMETER["latitude_of_origin",0],

PARAMETER["central_meridian",-117],

PARAMETER["scale_factor",0.9996],

PARAMETER["false_easting",500000],

PARAMETER["false_northing",0],

UNIT["Meter",1]]



Here's the WKT I'm creating for the destination file:

GEOGCS["Geographic Coordinate System",

DATUM["WGS_1984",

SPHEROID["WGS_1984",6378137,298.257223563]],

PRIMEM["Greenwich",0],

UNIT["degree",0.0174532925199433]]



Do you see any issues with that?  It looks like the source file is picking up that it's NAD27...



Amanda M. Henneke
IG/DB Tools - TSS Capability Center



When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
 Please consider the environment before printing this e-mail.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
Sent: Wednesday, September 23, 2009 11:58 AM
To: Craig Miller
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Craig-

I'm trying to have it in Geograhphic/WGS84, at least that's what I'm specifying in the code...I agree I think it is a datum error, but I don't know what to do to make it translate the datum from NAD27 to WGS84 correctly.

I don't know if I can send the raster, but I can send the two shapefiles...

Amanda M. Henneke
IG/DB Tools - TSS Capability Center



When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
 Please consider the environment before printing this e-mail.

-----Original Message-----
From: Craig Miller [mailto:craig.miller@spatialminds.com]
Sent: Wednesday, September 23, 2009 11:51 AM
To: Henneke, Amanda M
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Geographic is a projection, not a datum.  What Datum is the data in the "Geographic Projection" in?  E.g. you can have a map in either
Geographic/NAD27 or Geographic/NAD83 (or another datum for that matter..
such as WGS84).

What software are you using to display the data?

If you want me to take a look, zip up the raster, and the good shapefile, and the bad shapefile and send them over.  I don't have a lot of time as I'm getting ready to leave on a trip, but I'll try and squeeze it in before I leave.

Craig


> -----Original Message-----
> From: Henneke, Amanda M [mailto:amanda.m.henneke@boeing.com]
> Sent: Wednesday, September 23, 2009 9:28 AM
> To: Craig Miller
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
>
> Hi Craig-
>
> I'm translating a shapefile (from UTM to Geographic) and then
> comparing it
to
>
> #1 A shapefile that was translated from UTM to Geographic using the
software,
> GlobalMapper.
> #2 A raster file that was originally projected in Geographic, so that
> for example I can see the points don't match up with the features they
> should represent on the image.
>
> The shapefile that GlobalMapper translates matches up perfectly with
> my
raster
> file.
>
> So my thought process is, that if Global Mapper has some way to
> convert
the
> different projections without the shifting, how come GDAL can't do that.
I'm
> thinking it can, but maybe I need to give it some additional data maybe?
Or
> am I off?
>
> Thanks for your help!
>
> Amanda M. Henneke
> IG/DB Tools - TSS Capability Center
>
>
> When One tugs at a single thing in Nature, he finds it attached to the
rest of
> the world. -John Muir
>   Please consider the environment before printing this e-mail.
>
> -----Original Message-----
> From: Craig Miller [mailto:craig.miller@spatialminds.com]
> Sent: Wednesday, September 23, 2009 11:21 AM
> To: Henneke, Amanda M
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
>
> If you are transforming the datum from NAD27 to WGS84 then it is
> expected
that
> your points would be shifted exactly as you describe.  How are you
determining
> that they are shifted?
>
> a.  Compared to a map?  Is the map reprojected?  Are you comparing
> them to landform features or to the lat/lon grid on the map?  For
> example, if you
have
> a USGS Quad map with lat/lon lines on it based on the NAD27 datum then
those
> lat/lon lines ONLY show the lat/lon using that datum.  If you plot
> points
that
> have been shifted to the new datum, they will not agree with those
> NAD27
lines
> since the new points are based on lat/lon NAD83.
>
> b.  Comparing lat/lon directly?  The points have been transformed.
Lat/lon
> are relative to a datum and lan/lon NAD27 coords and lat/lon NAD83
> coords
will
> have different values.
>
> Craig
>
>
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-
> > bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
> > Sent: Wednesday, September 23, 2009 8:17 AM
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Translating between UTM and Geographic
> >
> > Hello all-
> >
> > I'm trying to figure out how to reproject some points from a UTM
> projection to
> > Geographic (WGS84) projection.  This works fine when I'm working in
> > UTM
> Zone
> > 12 with NAD83.  When I try the same code for Zone 11 NAD27, I get a
> > slight shift in the points (to the east) and an extremely slight
> > shift up (to the north).
> >
> > I've included the following code as it stands now, I've tried all
> > sorts of things thinking that I need to somehow include more
> > information for the
> new
> > spatial reference (the destination SR), and so far I'm coming up
empty...
> >
> > Anyone have any ideas what I'm missing?
> >
> > Where sSpRefParams is a string that contains the WKT projection
> information
> > from a valid layer...
> >
> > srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);
> >
> > srNew.SetGeogCS("Geographic Coordinate System",
> OSGeo.OSR.Osr.SRS_DN_WGS84,
> > OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR,
> > OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, "Greenwich", 0.0, "degree",
> > 0.0174532925199433);
> >
> > ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);
> >
> >
> >
> > Amanda M. Henneke
> > IG/DB Tools - TSS Capability Center
>
> >
> >
> > When One tugs at a single thing in Nature, he finds it attached to
> > the
> rest of
> > the world. -John Muir
> >   Please consider the environment before printing this e-mail.
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/eab4413e/attachment.html
From Steve.Toutant at inspq.qc.ca  Wed Sep 23 13:46:57 2009
From: Steve.Toutant at inspq.qc.ca (Steve.Toutant@inspq.qc.ca)
Date: Wed Sep 23 13:47:13 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9FA4ABC@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <OF9B6374C8.FD03D426-ON8525763A.006196A8-8525763A.0061AEE4@ssss.gouv.qc.ca>

Maybe the problem is in your data.
Di you try to reproject zone 11 nad27 with the wkt nad83 below?
 




"Henneke, Amanda M" <amanda.m.henneke@boeing.com> 
23/09/2009 01:44 PM

A
"Steve.Toutant@inspq.qc.ca" <Steve.Toutant@inspq.qc.ca>
cc
"gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>, 
"gdal-dev-bounces@lists.osgeo.org" <gdal-dev-bounces@lists.osgeo.org>
Objet
RE: [gdal-dev] Translating between UTM and Geographic








PROJCS["NAD_1983_UTM_Zone_12N",
GEOGCS["GCS_North_American_1983",
DATUM["North_American_Datum_1983",
SPHEROID["GRS_1980",6378137,298.257222101]],
PRIMEM["Greenwich",0],
UNIT["Degree",0.017453292519943295]],
PROJECTION["Transverse_Mercator"],
PARAMETER["latitude_of_origin",0],
PARAMETER["central_meridian",-111],
PARAMETER["scale_factor",0.9996],
PARAMETER["false_easting",500000],
PARAMETER["false_northing",0],
UNIT["Meter",1]]
 
Amanda M. Henneke 
IG/DB Tools - TSS Capability Center 
Boeing - St. Louis 
314-777-6856 
When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
  Please consider the environment before printing this e-mail.
 

From: Steve.Toutant@inspq.qc.ca [mailto:Steve.Toutant@inspq.qc.ca] 
Sent: Wednesday, September 23, 2009 12:41 PM
To: Henneke, Amanda M
Cc: gdal-dev@lists.osgeo.org; gdal-dev-bounces@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic


What is the wkt you are using for zone 12 nad83? 
 



"Henneke, Amanda M" <amanda.m.henneke@boeing.com>@lists.osgeo.org 
Envoy? par : gdal-dev-bounces@lists.osgeo.org 
23/09/2009 01:39 PM 


A
"gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org> 
cc

Objet
RE: [gdal-dev] Translating between UTM and Geographic










Here is some more information:

So, here is the WKT I'm getting from my code for the "problem" source 
file: 
 

PROJCS["NAD_1927_UTM_Zone_11N", 

GEOGCS["GCS_North_American_1927", 

DATUM["North_American_Datum_1927", 

SPHEROID["Clarke_1866",6378206.4,294.9786982]], 

PRIMEM["Greenwich",0], 

UNIT["Degree",0.017453292519943295]], 

PROJECTION["Transverse_Mercator"], 

PARAMETER["latitude_of_origin",0], 

PARAMETER["central_meridian",-117], 

PARAMETER["scale_factor",0.9996], 

PARAMETER["false_easting",500000], 

PARAMETER["false_northing",0], 

UNIT["Meter",1]] 

 

Here's the WKT I'm creating for the destination file: 

GEOGCS["Geographic Coordinate System", 

DATUM["WGS_1984", 

SPHEROID["WGS_1984",6378137,298.257223563]], 

PRIMEM["Greenwich",0], 

UNIT["degree",0.0174532925199433]] 

 

Do you see any issues with that?  It looks like the source file is picking 
up that it's NAD27... 



Amanda M. Henneke
IG/DB Tools - TSS Capability Center



When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
 Please consider the environment before printing this e-mail.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org 
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
Sent: Wednesday, September 23, 2009 11:58 AM
To: Craig Miller
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Craig-

I'm trying to have it in Geograhphic/WGS84, at least that's what I'm 
specifying in the code...I agree I think it is a datum error, but I don't 
know what to do to make it translate the datum from NAD27 to WGS84 
correctly. 

I don't know if I can send the raster, but I can send the two 
shapefiles...

Amanda M. Henneke
IG/DB Tools - TSS Capability Center



When One tugs at a single thing in Nature, he finds it attached to the 
rest of the world. -John Muir
 Please consider the environment before printing this e-mail.

-----Original Message-----
From: Craig Miller [mailto:craig.miller@spatialminds.com]
Sent: Wednesday, September 23, 2009 11:51 AM
To: Henneke, Amanda M
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Geographic is a projection, not a datum.  What Datum is the data in the 
"Geographic Projection" in?  E.g. you can have a map in either
Geographic/NAD27 or Geographic/NAD83 (or another datum for that matter..
such as WGS84).

What software are you using to display the data?

If you want me to take a look, zip up the raster, and the good shapefile, 
and the bad shapefile and send them over.  I don't have a lot of time as 
I'm getting ready to leave on a trip, but I'll try and squeeze it in 
before I leave.

Craig


> -----Original Message-----
> From: Henneke, Amanda M [mailto:amanda.m.henneke@boeing.com]
> Sent: Wednesday, September 23, 2009 9:28 AM
> To: Craig Miller
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> Hi Craig-
> 
> I'm translating a shapefile (from UTM to Geographic) and then 
> comparing it
to
> 
> #1 A shapefile that was translated from UTM to Geographic using the
software,
> GlobalMapper.
> #2 A raster file that was originally projected in Geographic, so that 
> for example I can see the points don't match up with the features they 
> should represent on the image.
> 
> The shapefile that GlobalMapper translates matches up perfectly with 
> my
raster
> file.
> 
> So my thought process is, that if Global Mapper has some way to 
> convert
the
> different projections without the shifting, how come GDAL can't do that.
I'm
> thinking it can, but maybe I need to give it some additional data maybe?
Or
> am I off?
> 
> Thanks for your help!
> 
> Amanda M. Henneke
> IG/DB Tools - TSS Capability Center
> 
> 
> When One tugs at a single thing in Nature, he finds it attached to the
rest of
> the world. -John Muir
>   Please consider the environment before printing this e-mail.
> 
> -----Original Message-----
> From: Craig Miller [mailto:craig.miller@spatialminds.com]
> Sent: Wednesday, September 23, 2009 11:21 AM
> To: Henneke, Amanda M
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> If you are transforming the datum from NAD27 to WGS84 then it is 
> expected
that
> your points would be shifted exactly as you describe.  How are you
determining
> that they are shifted?
> 
> a.  Compared to a map?  Is the map reprojected?  Are you comparing 
> them to landform features or to the lat/lon grid on the map?  For 
> example, if you
have
> a USGS Quad map with lat/lon lines on it based on the NAD27 datum then
those
> lat/lon lines ONLY show the lat/lon using that datum.  If you plot 
> points
that
> have been shifted to the new datum, they will not agree with those
> NAD27
lines
> since the new points are based on lat/lon NAD83.
> 
> b.  Comparing lat/lon directly?  The points have been transformed.
Lat/lon
> are relative to a datum and lan/lon NAD27 coords and lat/lon NAD83 
> coords
will
> have different values.
> 
> Craig
> 
> 
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev- 
> > bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
> > Sent: Wednesday, September 23, 2009 8:17 AM
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Translating between UTM and Geographic
> >
> > Hello all-
> >
> > I'm trying to figure out how to reproject some points from a UTM
> projection to
> > Geographic (WGS84) projection.  This works fine when I'm working in 
> > UTM
> Zone
> > 12 with NAD83.  When I try the same code for Zone 11 NAD27, I get a 
> > slight shift in the points (to the east) and an extremely slight 
> > shift up (to the north).
> >
> > I've included the following code as it stands now, I've tried all 
> > sorts of things thinking that I need to somehow include more 
> > information for the
> new
> > spatial reference (the destination SR), and so far I'm coming up
empty...
> >
> > Anyone have any ideas what I'm missing?
> >
> > Where sSpRefParams is a string that contains the WKT projection
> information
> > from a valid layer...
> >
> > srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);
> >
> > srNew.SetGeogCS("Geographic Coordinate System",
> OSGeo.OSR.Osr.SRS_DN_WGS84,
> > OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR,
> > OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, "Greenwich", 0.0, "degree", 
> > 0.0174532925199433);
> >
> > ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);
> >
> >
> >
> > Amanda M. Henneke
> > IG/DB Tools - TSS Capability Center
> 
> >
> >
> > When One tugs at a single thing in Nature, he finds it attached to 
> > the
> rest of
> > the world. -John Muir
> >   Please consider the environment before printing this e-mail.
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev





-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/e9fadc91/attachment-0001.html
From even.rouault at mines-paris.org  Wed Sep 23 14:05:09 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Sep 23 14:05:12 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9FA4ABC@XCH-MW-05V.mw.nos.boeing.com>
References: <D901C7FDFE03E042B41317116B98302964B9FA4AB9@XCH-MW-05V.mw.nos.boeing.com>
	<OF2059EF7F.37398129-ON8525763A.0061183C-8525763A.0061231C@ssss.gouv.qc.ca>
	<D901C7FDFE03E042B41317116B98302964B9FA4ABC@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <1253729109.4aba635578799@imp.free.fr>

Amanda,

You didn't specify why you believe that the coordinates you get are not right.
Are you validating against another reference tool ? Could you give an example of
input, the output you get and the output you expect.

Here's what I've tried with the gdaltransform utility (in latest FWTools 2.4.3
or with GDAL trunk):

Run : gdaltransform -s_srs EPSG:26711 -t_srs EPSG:4326
Enter and validate : 500000 4500000
I get : -117.000936113198 40.6526705145738 0

If you have built yourself Proj4 and you don't get the above results, a
possibility might that you have not built it with support for datum shift grids.
See http://trac.osgeo.org/proj/ for more details.

Best regards,

Even
From amanda.m.henneke at boeing.com  Wed Sep 23 14:14:06 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Wed Sep 23 14:14:09 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <1253729109.4aba635578799@imp.free.fr>
References: <D901C7FDFE03E042B41317116B98302964B9FA4AB9@XCH-MW-05V.mw.nos.bo
	eing.com>
	<OF2059EF7F.37398129-ON8525763A.0061183C-8525763A.0061231C@ssss.gouv.qc.ca>
	<D901C7FDFE03E042B41317116B98302964B9FA4ABC@XCH-MW-05V.mw.nos.boeing.com>
	<1253729109.4aba635578799@imp.free.fr>
Message-ID: <D901C7FDFE03E042B41317116B98302964B9FA4AE7@XCH-MW-05V.mw.nos.boeing.com>

Even-

Thanks!

I do get something different from you: -117 40.6527598726051 0 

I'm using FWTools 2.3.0, so is there something I can do then to fix this problem since I didn't build my own libraries?

Thanks,
Amanda


Amanda M. Henneke
IG/DB Tools - TSS Capability Center

 
When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Wednesday, September 23, 2009 1:05 PM
To: Henneke, Amanda M
Cc: Steve.Toutant@inspq.qc.ca; gdal-dev@lists.osgeo.org; gdal-dev-bounces@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Amanda,

You didn't specify why you believe that the coordinates you get are not right.
Are you validating against another reference tool ? Could you give an example of input, the output you get and the output you expect.

Here's what I've tried with the gdaltransform utility (in latest FWTools 2.4.3 or with GDAL trunk):

Run : gdaltransform -s_srs EPSG:26711 -t_srs EPSG:4326 Enter and validate : 500000 4500000 I get : -117.000936113198 40.6526705145738 0

If you have built yourself Proj4 and you don't get the above results, a possibility might that you have not built it with support for datum shift grids.
See http://trac.osgeo.org/proj/ for more details.

Best regards,

Even
From craig.miller at spatialminds.com  Wed Sep 23 14:18:14 2009
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Sep 23 14:18:21 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9FA4AE7@XCH-MW-05V.mw.nos.boeing.com>
References: <D901C7FDFE03E042B41317116B98302964B9FA4AB9@XCH-MW-05V.mw.nos.bo	eing.com>	<OF2059EF7F.37398129-ON8525763A.0061183C-8525763A.0061231C@ssss.gouv.qc.ca>	<D901C7FDFE03E042B41317116B98302964B9FA4ABC@XCH-MW-05V.mw.nos.boeing.com>	<1253729109.4aba635578799@imp.free.fr>
	<D901C7FDFE03E042B41317116B98302964B9FA4AE7@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <BAY120-DS3B75FBEC6D5F502651985F9DB0@phx.gbl>

I looked at Amanda's files.  It looks like it is getting reprojected from
UTM to Geographic, but that the datum isn't getting transformed from NAD27
to WGS84.  I suggested she verify her PROJ environment variables/NAD data
files.

Craig


> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-
> bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
> Sent: Wednesday, September 23, 2009 11:14 AM
> To: Even Rouault
> Cc: Steve.Toutant@inspq.qc.ca; gdal-dev@lists.osgeo.org; gdal-dev-
> bounces@lists.osgeo.org
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> Even-
> 
> Thanks!
> 
> I do get something different from you: -117 40.6527598726051 0
> 
> I'm using FWTools 2.3.0, so is there something I can do then to fix this
> problem since I didn't build my own libraries?
> 
> Thanks,
> Amanda
> 
> 
> Amanda M. Henneke
> IG/DB Tools - TSS Capability Center
> 
> 
> When One tugs at a single thing in Nature, he finds it attached to the
rest of
> the world. -John Muir
>   Please consider the environment before printing this e-mail.
> 
> -----Original Message-----
> From: Even Rouault [mailto:even.rouault@mines-paris.org]
> Sent: Wednesday, September 23, 2009 1:05 PM
> To: Henneke, Amanda M
> Cc: Steve.Toutant@inspq.qc.ca; gdal-dev@lists.osgeo.org; gdal-dev-
> bounces@lists.osgeo.org
> Subject: RE: [gdal-dev] Translating between UTM and Geographic
> 
> Amanda,
> 
> You didn't specify why you believe that the coordinates you get are not
right.
> Are you validating against another reference tool ? Could you give an
example
> of input, the output you get and the output you expect.
> 
> Here's what I've tried with the gdaltransform utility (in latest FWTools
2.4.3
> or with GDAL trunk):
> 
> Run : gdaltransform -s_srs EPSG:26711 -t_srs EPSG:4326 Enter and validate
:
> 500000 4500000 I get : -117.000936113198 40.6526705145738 0
> 
> If you have built yourself Proj4 and you don't get the above results, a
> possibility might that you have not built it with support for datum shift
> grids.
> See http://trac.osgeo.org/proj/ for more details.
> 
> Best regards,
> 
> Even
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jason.roberts at duke.edu  Wed Sep 23 15:11:16 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed Sep 23 15:11:25 2009
Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
Message-ID: <000301ca3c81$a028b2f0$e07a18d0$@roberts@duke.edu>

Is band.GetStatistics() supposed to work with signed 8-bit integer rasters
with the HFA or GTiff driver?

 

With GDAL 1.6.0, I can successfully create a signed 8-bit raster with the
HFA or GTiff driver using the PIXELTYPE=SIGNEDBYTE option:

 

>>> a = numpy.array([[-128, -1, 0, 1, 127]], dtype='int8')

>>> a

array([[-128,   -1,    0,    1,  127]], dtype=int8)

>>> b = numpy.cast['uint8'](a)

>>> print b

[[128 255   0   1 127]]

>>> 

>>> gdal.UseExceptions()

>>> driver = gdal.GetDriverByName('HFA')

>>> dataset = driver.Create(r'C:\Temp\test_int8.img', 5, 1, 1,
gdal.GDT_Byte, ['PIXELTYPE=SIGNEDBYTE'])

>>> band = dataset.GetRasterBand(1)

>>> band.WriteArray(b)

0

>>> del band, dataset, driver

 

When I look at that raster with ArcGIS, it shows it is signed 8-bit integer
and the five values show up properly. But when I open it with GDAL and call
band.GetStatistics(), it looks like the calculation is performed using
unsigned 8-bit integers:

 

>>> dataset = gdal.Open(r'C:\Temp\test_int8.img', gdalconst.GA_ReadOnly)

>>> band = dataset.GetRasterBand(1)

>>> band.GetStatistics(False, True)

[0.0, 255.0, 102.2, 95.199579831005551]

 

I am wondering if this is a bug or by design. If by design, is there any way
my application can tell through GDAL that it is a signed 8-bit file rather
than an unsigned 8-bit file?

 

Thanks very much for your help,

 

Jason

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/2263c2c4/attachment.html
From jason.roberts at duke.edu  Wed Sep 23 16:18:01 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed Sep 23 16:18:07 2009
Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
In-Reply-To: <000301ca3c81$a028b2f0$e07a18d0$%roberts@duke.edu>
References: <000301ca3c81$a028b2f0$e07a18d0$%roberts@duke.edu>
Message-ID: <002301ca3c8a$f33bb3d0$d9b31b70$@roberts@duke.edu>

Someone suggested that I try this with 1.6.2 without saying whether it might
be a bug or by design. The behavior is the same with 1.6.2, using binaries
produced by Tamas Szekeres (thanks Tamas, for providing those on your
website).

 

Back to the original question: is it a bug or by design? How does the GDAL
caller determine through GDAL that a given file is signed 8-bit or unsigned
8-bit? 

 

Thanks again,

Jason

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jason Roberts
Sent: Wednesday, September 23, 2009 3:11 PM
To: 'gdal-dev'
Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs

 

Is band.GetStatistics() supposed to work with signed 8-bit integer rasters
with the HFA or GTiff driver?

 

With GDAL 1.6.0, I can successfully create a signed 8-bit raster with the
HFA or GTiff driver using the PIXELTYPE=SIGNEDBYTE option:

 

>>> a = numpy.array([[-128, -1, 0, 1, 127]], dtype='int8')

>>> a

array([[-128,   -1,    0,    1,  127]], dtype=int8)

>>> b = numpy.cast['uint8'](a)

>>> print b

[[128 255   0   1 127]]

>>> 

>>> gdal.UseExceptions()

>>> driver = gdal.GetDriverByName('HFA')

>>> dataset = driver.Create(r'C:\Temp\test_int8.img', 5, 1, 1,
gdal.GDT_Byte, ['PIXELTYPE=SIGNEDBYTE'])

>>> band = dataset.GetRasterBand(1)

>>> band.WriteArray(b)

0

>>> del band, dataset, driver

 

When I look at that raster with ArcGIS, it shows it is signed 8-bit integer
and the five values show up properly. But when I open it with GDAL and call
band.GetStatistics(), it looks like the calculation is performed using
unsigned 8-bit integers:

 

>>> dataset = gdal.Open(r'C:\Temp\test_int8.img', gdalconst.GA_ReadOnly)

>>> band = dataset.GetRasterBand(1)

>>> band.GetStatistics(False, True)

[0.0, 255.0, 102.2, 95.199579831005551]

 

I am wondering if this is a bug or by design. If by design, is there any way
my application can tell through GDAL that it is a signed 8-bit file rather
than an unsigned 8-bit file?

 

Thanks very much for your help,

 

Jason

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/471227cd/attachment-0001.html
From szekerest at gmail.com  Wed Sep 23 16:31:11 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Sep 23 16:31:14 2009
Subject: [gdal-dev] RasterIO antialiased subsampling
In-Reply-To: <f3b73b7d0909231323l3b706a6bu37943ad405266a3@mail.gmail.com>
References: <f3b73b7d0909231323l3b706a6bu37943ad405266a3@mail.gmail.com>
Message-ID: <f3b73b7d0909231331g568db38eybc6017ad21cc4ef8@mail.gmail.com>

Folks,

I'm not quite sure whether this issue have already been raised or not, but
I'd be interested in having on-the fly antialiasing support when the raster
is subsampled within a RasterIO operation.
I'm just trying to display OpenStreetMap rasters provided by the GDAL TMS
mini driver in MapServer but the images are looking quite raspy at certain
scales (see   http://vbkto.dyndns.org:1280/tests/sample.png ), and it may be
dedicated to how the image is subsampled (kinda like a simple nearest
neighbour is used) during a RasterIO operation in GDAL.

I've took a look at the code, but I see no option to use more sophisticated
algorithms when composing the destination image, like those provided by the
gdal warp API (ReprojectImage) in effect. Additionally, I can see an
'antialias' option implemented by the gdal2tiles script, which came from an
external library and missing from the set of the built in resampling
algorithms of the GDAL library.

Let me know if anyone have already been coming to face with such a problem
or have further ideas, or workarounds.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/49bf9b4f/attachment.html
From reinaldo at geodesign.com.br  Wed Sep 23 16:53:53 2009
From: reinaldo at geodesign.com.br (Reinaldo escada Chohfi)
Date: Wed Sep 23 16:54:00 2009
Subject: [gdal-dev] Output MapInfo File with CoordSys Information
In-Reply-To: <4AB98EA8.1040809@pobox.com>
References: <c93d2733c516dead177a181008e205e3.squirrel@webmail.geodesign.com.br>
	<4AB98EA8.1040809@pobox.com>
Message-ID: <a0a649b2f73632e739b372f87245e8eb.squirrel@webmail.geodesign.com.br>




Hi Frank,



I?tested the program below but it does not out put the .tab or
.mif/.mid with the coordinate system.? It is always non-earth.?
Could you please check it against your gdal/ogr?installation to see
if something wrong?happened during my compilation of gdal 1.6.2?



Thanks a lot,



Reinaldo



*******************************

#include "gdal.h"

#include "ogr_spatialref.h"

#include "ogrsf_frmts.h"

#include "stdio.h"

double Lat[3], Lon[3];

int n=0;?char *pszWKT = NULL;

void main()

{

?OGRSpatialReference oSRS;

//?oSRS.SetWellKnownGeogCS( "EPSG:4326" );

?oSRS.importFromMICoordSys( "CoordSys Earth Projection 1,
104" );

?const char *pszDriverName = "MapInfo File" ;

?OGRSFDriver *poDriver;

??? OGRRegisterAll();

??? poDriver =
OGRSFDriverRegistrar::GetRegistrar()->GetDriverByName(

???????????????
pszDriverName );

??? if( poDriver == NULL )

??? {

??????? printf( "%s driver not
available.\n", pszDriverName );

??????? exit( 1 );

??? }

?OGRDataSource *poDS;

?poDS = poDriver->CreateDataSource( "c:/test01.mif",
NULL );

//?poDS = poDriver->CreateDataSource( "c:/test01.tab",
NULL );

??? if( poDS == NULL )

??? {

??????? printf( "Creation of
output file failed.\n" );

??????? exit( 1 );

??? }

??? OGRLayer *poLayer;

??? poLayer = poDS->CreateLayer( "test01",
NULL, wkbPoint, NULL );

??? if( poLayer == NULL )

??? {

??????? printf( "Layer creation
failed.\n" );

??????? exit( 1 );

??? }

?OGRFieldDefn oField0( "NAME1", OFTString );

?OGRFieldDefn oField1( "NAME2", OFTString );

?oField0.SetWidth(32);

??? oField1.SetWidth(32);

?if( poLayer->CreateField( &oField0 ) != OGRERR_NONE )

??? {

??????? printf( "Creating Name
field failed.\n" );

??????? exit( 1 );

??? }

?if( poLayer->CreateField( &oField1 ) != OGRERR_NONE )

??? {

??????? printf( "Creating Name
field failed.\n" );

??????? exit( 1 );

??? }



*******************************

.mif output:



Version 300

Charset "Neutral"

Delimiter ","

Columns 2

? NAME1 Char(32)

? NAME2 Char(32)

Data

Point -45.13975272 -22.69426671

??? Symbol (35,0,12)

Point -45.86066928 -23.21117775

??? Symbol (35,0,12)

Point -44.33023872 -22.68505859375

??? Symbol (35,0,12)



************************************

.mid output:



"TEST01","TEST02"

"TEST01","TEST02"

"TEST01","TEST02"



> Reinaldo escada Chohfi wrote: 

>> Hello List, 

>> 

>> I am still trying to get a x,y (lon/Lat) point file in MapInfo
format 

>> with 

>> coordinate information. 

>> 

>> I get the correct MapInfo files out (.tab or .mif) with the x,y
points 

>> and 

>> attributes, but without the CoordSys information. 

>> The output file is always Non-Earth. 

>> 

>> I've tried everything: 

>> 

>> OGRSpatialReference oSRS; 

>> oSRS.SetWellKnownGeogCS("EPSG:4326"); 

>> oSRS.importFromMICoordSys( "CoordSys Earth Projection 1,
104" ); 

>> 

>> 

>> Could someone PLEASE let me know what to do? 

> 

> Reinaldo, 

> 

> I just tried: 

> 

> ogr2ogr -skipfailures -f "MapInfo File" out.mif
GB4X0000.000 TUNNEL 

> 

> and this produced a mapinfo mid/mif fileset with "CoordSys Earth


> Projection 1, 104" as the coord sys line. I also tested a small


> program: 

> 

> 

> #include "gdal.h" 

> #include "ogr_spatialref.h" 

> 

> int main() 

> 

> { 

> OGRSpatialReference oSRS; 

> 

> oSRS.importFromMICoordSys( "CoordSys Earth Projection 1,
104" ); 

> } 

> 

> and it appeared to correctly parse the Coordsys into a WGS84 srs. 

> 

> I even tried: 

> 

> ogr2ogr -a_srs wgs84.wkt -skipfailures -f "MapInfo File"
out.mif 

> data/s57/GB4X0000.000 TUNNEL 

> 

> with wgs84.wkt holding: 

> 

>
GEOGCS["unnamed",DATUM["WGS_1984",SPHEROID["WGS


>
84",6378137,298.257223563],TOWGS84[0,0,0,-0,-0,-0,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]


> 

> and things seemed to work. 

> 

> Can you provide a more complete example that is failing for you? 

> 

> Best regards, 

> -- 

>
---------------------------------------+--------------------------------------


> I set the clouds in motion - turn up | Frank Warmerdam, 

> warmerdam@pobox.com 

> light and sound - activate the windows | http://pobox.com/~warmerdam


> and watch the world go round - Rush | Geospatial Programmer for Rent


> 

> 

?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/dd32fb5e/attachment.html
From amanda.m.henneke at boeing.com  Wed Sep 23 16:57:19 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Wed Sep 23 16:57:26 2009
Subject: [gdal-dev] Translating between UTM and Geographic
In-Reply-To: <D901C7FDFE03E042B41317116B98302964B9FA4AE7@XCH-MW-05V.mw.nos.boeing.com>
References: <D901C7FDFE03E042B41317116B98302964B9FA4AB9@XCH-MW-05V.mw.nos.bo
	eing.com><OF2059EF7F.37398129-ON8525763A.0061183C-8525763A.0061231C@ssss.go
	uv.qc.ca><D901C7FDFE03E042B41317116B98302964B9FA4ABC@XCH-MW-05V.mw.nos.boeing.com><1253729109.4aba635578799@imp.free.fr>
	<D901C7FDFE03E042B41317116B98302964B9FA4AE7@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <D901C7FDFE03E042B41317116B98302964B9FA4BCC@XCH-MW-05V.mw.nos.boeing.com>

Just to document the conclusion, I did figure out if I copied the datum shift grids and pointed my PROJ_LIB environment variable to that directory that seemed to fix the problem for me.

Thanks everyone for you assistance!  I really appreciate it!

Amanda M. Henneke
IG/DB Tools - TSS Capability Center

 
When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Henneke, Amanda M
Sent: Wednesday, September 23, 2009 1:14 PM
To: Even Rouault
Cc: Steve.Toutant@inspq.qc.ca; gdal-dev@lists.osgeo.org; gdal-dev-bounces@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Even-

Thanks!

I do get something different from you: -117 40.6527598726051 0 

I'm using FWTools 2.3.0, so is there something I can do then to fix this problem since I didn't build my own libraries?

Thanks,
Amanda


Amanda M. Henneke
IG/DB Tools - TSS Capability Center

 
When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org]
Sent: Wednesday, September 23, 2009 1:05 PM
To: Henneke, Amanda M
Cc: Steve.Toutant@inspq.qc.ca; gdal-dev@lists.osgeo.org; gdal-dev-bounces@lists.osgeo.org
Subject: RE: [gdal-dev] Translating between UTM and Geographic

Amanda,

You didn't specify why you believe that the coordinates you get are not right.
Are you validating against another reference tool ? Could you give an example of input, the output you get and the output you expect.

Here's what I've tried with the gdaltransform utility (in latest FWTools 2.4.3 or with GDAL trunk):

Run : gdaltransform -s_srs EPSG:26711 -t_srs EPSG:4326 Enter and validate : 500000 4500000 I get : -117.000936113198 40.6526705145738 0

If you have built yourself Proj4 and you don't get the above results, a possibility might that you have not built it with support for datum shift grids.
See http://trac.osgeo.org/proj/ for more details.

Best regards,

Even
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From randre at gmail.com  Wed Sep 23 17:36:43 2009
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Wed Sep 23 17:36:47 2009
Subject: [gdal-dev] Re: gdal_rasterize with a NetCDF file?
In-Reply-To: <4AB7CAA7.5010509@nsidc.org>
References: <4AB7A65A.8060505@nsidc.org> <1253557561.4ab7c5397fcd5@imp.free.fr>
	<4AB7C7D4.90502@nsidc.org> <4AB7C93E.8000900@gmx.eu>
	<4AB7CAA7.5010509@nsidc.org>
Message-ID: <9c2015090909231436md10696aj490d38862fb9402b@mail.gmail.com>

Hey Scott,

You could extract that layer from the netCDF, burn it with gdal_rasterize as
a geotiff, convert the geoTiff into a GMT grid, and then possibly add that
back into the netCDF (somehow).

Sounds like a pain though.

Roger
--

On Mon, Sep 21, 2009 at 11:49 AM, Scott Lewis <scott.lewis@nsidc.org> wrote:

> Ah, thanks.  I must have missed that.  Looks like I'll have to find
> another way to accomplish what I'm trying to do then!
>
> Thanks for your help!
>
> Scott
>
> Hermann Peifer wrote:
> > The driver doesn't support updating netCDF files. gdalinfo --formats
> says:
> >
> >  GTiff (rw+): GeoTIFF
> >  (...)
> >  netCDF (rw): Network Common Data Format
> >
> > The "+" indicates update support, which is obviously missing for netCDF
> > format.
> >
> > Hermann
> >
> >
> > -------- Original Message  --------
> > Subject: Re:gdal_rasterize with a NetCDF file?
> > From: Scott Lewis <scott.lewis@nsidc.org>
> > To: Date: 21/09/2009 20:37
> >
> >> Evan,
> >>
> >> Thanks, that seems to be getting me in the right direction: I'm no
> >> longer getting the segfault error, or "ERROR 5" at all.
> >>
> >> However, now it's giving me a different error.  The first line has the:
> >> 0...10...20...30...40...50...60...70...80...90...100 - done.
> >> message, like I would expect from when I do this with GeoTIFF files.
> >> But following that I am getting a whole bunch of this error, repeated
> >> many times:
> >>
> >> ERROR 6: WriteBlock() not supported for this dataset.
> >>
> >>
> >> Doing a search online, I'm getting the impression that this might mean
> >> that gdal_rasterize doesn't support writing to a NetCDF file?  Is this
> >> correct, or does the problem lie elsewhere with my calling of the
> >> utility.
> >>
> >> Here's the command line I'm using now:
> >>
> >> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
> >> "OGRGeoJSON" dummy.json
> >> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
> >>
> >>
> >> Thanks again for the help!
> >>
> >> Scott
> >>
> >>
> >> Even Rouault wrote:
> >>> Selon Scott Lewis <scott.lewis@nsidc.org>:
> >>>
> >>> Scott,
> >>>
> >>> Anytime you want to access to a subdataset with a gdal utility, you
> >>> must use the
> >>> value of the relevant SUBDATASET_xxx_NAME metadata item, in that
> >>> instance
> >>> 'NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement'
> >>>
> >>> The segmentation fault however wasn't expected, so I commited fixes
> >>> per ticket
> >>> http://trac.osgeo.org/gdal/ticket/3146 to error out more nicely.
> >>>
> >>> Best regards
> >>>
> >>>> Hi,
> >>>>
> >>>> I'm still fairly new at using GDAL, but I am having trouble burning a
> >>>> vector image onto a NetCDF file.  I've had success with using
> >>>> gdal_rasterize to burn a vector onto a GeoTIFF file, but when I try to
> >>>> burn the same vector onto a NetCDF file, I get an error.
> >>>>
> >>>> Based on the error, I'm suspecting it's because it doesn't know how to
> >>>> find the right "band" in the NetCDF File (I want the
> >>>> "Albedo_with_1400_Local_Time_of_Measurement" subdataset), but although
> >>>> I've looked at the documentation, I'm not sure how to specify this to
> >>>> gdal_rasterize.
> >>>>
> >>>> Any help would be much appreciated!  Below is the info.
> >>>>
> >>>>
> >>>>
> >>>> Here is the command I am trying to run:
> >>>>
> >>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize -i -burn 0 -l
> >>>> "OGRGeoJSON" dummy.json Albedo.nc
> >>>>
> >>>>
> >>>> And the error I get:
> >>>>
> >>>> ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
> >>>>
> >>>> /usr/local/FWTools-2.0.6/bin_safe/gdal_rasterize: line 9: 26950
> >>>> Segmentation fault      $FWTOOLS_HOME/bin/`basename $TARGET` "$@"
> >>>>
> >>>>
> >>>>
> >>>> Here is the gdalinfo for Albedo.nc:
> >>>>
> >>>> Driver: netCDF/Network Common Data Format
> >>>> Files: Albedo.nc
> >>>> Size is 512, 512
> >>>> Coordinate System is `'
> >>>> Metadata:
> >>>>   NC_GLOBAL#Conventions=CF-1.4
> >>>>   NC_GLOBAL#institution=National Snow & Ice Data Center, Boulder, CO
> >>>>   NC_GLOBAL#title=AVHRR Polar Pathfinder Twice-Daily 5 km EASE-Grid
> >>>> Composites Albedo
> >>>>   NC_GLOBAL#source=See the title and references for this information
> >>>>   NC_GLOBAL#comment=Not set at this time
> >>>>   NC_GLOBAL#references=Documentation available at:
> >>>> http://nsidc.org/data/docs/daac/nsidc0066_avhrr_5km.gd.html
> >>>>   NC_GLOBAL#history=Mon, 21 Sep 2009 09:31:24: File created.
> >>>> Subdatasets:
> >>>>
> >>>>
> >>>
> SUBDATASET_1_NAME=NETCDF:"Albedo.nc":Albedo_with_1400_Local_Time_of_Measurement
> >>>
> >>>>   SUBDATASET_1_DESC=[1x244x242]
> >>>> Albedo_with_1400_Local_Time_of_Measurement (8-bit integer)
> >>>>   SUBDATASET_2_NAME=NETCDF:"Albedo.nc":latitude
> >>>>   SUBDATASET_2_DESC=[244x242] latitude (64-bit floating-point)
> >>>>   SUBDATASET_3_NAME=NETCDF:"Albedo.nc":longitude
> >>>>   SUBDATASET_3_DESC=[244x242] longitude (64-bit floating-point)
> >>>> Corner Coordinates:
> >>>> Upper Left  (    0.0,    0.0)
> >>>> Lower Left  (    0.0,  512.0)
> >>>> Upper Right (  512.0,    0.0)
> >>>> Lower Right (  512.0,  512.0)
> >>>> Center      (  256.0,  256.0)
> >>>>
> >>>>
> >>>> And for completeness, the dummy.json file (it's basically a triangle):
> >>>>
> >>>> {
> >>>>     "type": "FeatureCollection",
> >>>>     "features": [{
> >>>>         "type": "Feature",
> >>>>         "properties": { "BASIN_ID": 1.000000, "AREA_SQKM":
> >>>> 1739.016470 },
> >>>>         "geometry": {
> >>>>             "type": "Polygon",
> >>>>             "coordinates": [ [
> >>>>                 [ -2000000, -2500000 ],
> >>>>                 [ -2500000, -1400000 ],
> >>>>                 [ -1500000, -1400000 ],
> >>>>                 [ -2000000, -2500000 ]
> >>>>             ] ]
> >>>>         }
> >>>>     }]
> >>>> }
> >>>>
> >>>>
> >>>>
> >>>> Thanks!
> >>>>
> >>>> Scott Lewis
> >>>> National Snow & Ice Data Center
> >>>> _______________________________________________
> >>>> gdal-dev mailing list
> >>>> gdal-dev@lists.osgeo.org
> >>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>>>
> >>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/0427d32b/attachment-0001.html
From jason.roberts at duke.edu  Wed Sep 23 18:38:54 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed Sep 23 18:38:59 2009
Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
References: <000301ca3c81$a028b2f0$e07a18d0$%roberts@duke.edu> 
Message-ID: <007401ca3c9e$a29e8ec0$e7dbac40$@roberts@duke.edu>

Ok, here is how a GDAL caller can detect that a file is signed 8-bit:

 

>>> band.GetMetadata('IMAGE_STRUCTURE')

{'PIXELTYPE': 'SIGNEDBYTE'}

 

Thanks to Frank W for giving me a clue about this a week ago that I promptly
forgot about. Sorry about that.

 

So. does anyone know whether band.GetStatistics is supposed to work for
these signed 8-bit files? If not, I guess I will write a workaround so my
app will calculate statistics itself for signed 8-bit files.

 

Thanks,

Jason

 

From: Jason Roberts [mailto:jason.roberts@duke.edu] 
Sent: Wednesday, September 23, 2009 4:18 PM
To: 'gdal-dev'
Subject: RE: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs

 

Someone suggested that I try this with 1.6.2 without saying whether it might
be a bug or by design. The behavior is the same with 1.6.2, using binaries
produced by Tamas Szekeres (thanks Tamas, for providing those on your
website).

 

Back to the original question: is it a bug or by design? How does the GDAL
caller determine through GDAL that a given file is signed 8-bit or unsigned
8-bit? 

 

Thanks again,

Jason

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jason Roberts
Sent: Wednesday, September 23, 2009 3:11 PM
To: 'gdal-dev'
Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs

 

Is band.GetStatistics() supposed to work with signed 8-bit integer rasters
with the HFA or GTiff driver?

 

With GDAL 1.6.0, I can successfully create a signed 8-bit raster with the
HFA or GTiff driver using the PIXELTYPE=SIGNEDBYTE option:

 

>>> a = numpy.array([[-128, -1, 0, 1, 127]], dtype='int8')

>>> a

array([[-128,   -1,    0,    1,  127]], dtype=int8)

>>> b = numpy.cast['uint8'](a)

>>> print b

[[128 255   0   1 127]]

>>> 

>>> gdal.UseExceptions()

>>> driver = gdal.GetDriverByName('HFA')

>>> dataset = driver.Create(r'C:\Temp\test_int8.img', 5, 1, 1,
gdal.GDT_Byte, ['PIXELTYPE=SIGNEDBYTE'])

>>> band = dataset.GetRasterBand(1)

>>> band.WriteArray(b)

0

>>> del band, dataset, driver

 

When I look at that raster with ArcGIS, it shows it is signed 8-bit integer
and the five values show up properly. But when I open it with GDAL and call
band.GetStatistics(), it looks like the calculation is performed using
unsigned 8-bit integers:

 

>>> dataset = gdal.Open(r'C:\Temp\test_int8.img', gdalconst.GA_ReadOnly)

>>> band = dataset.GetRasterBand(1)

>>> band.GetStatistics(False, True)

[0.0, 255.0, 102.2, 95.199579831005551]

 

I am wondering if this is a bug or by design. If by design, is there any way
my application can tell through GDAL that it is a signed 8-bit file rather
than an unsigned 8-bit file?

 

Thanks very much for your help,

 

Jason

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090923/1320d5b5/attachment.html
From even.rouault at mines-paris.org  Thu Sep 24 05:18:48 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Sep 24 05:18:52 2009
Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
In-Reply-To: <007401ca3c9e$a29e8ec0$e7dbac40$@roberts@duke.edu>
References: <000301ca3c81$a028b2f0$e07a18d0$%roberts@duke.edu>
	<007401ca3c9e$a29e8ec0$e7dbac40$@roberts@duke.edu>
Message-ID: <1253783928.4abb39789df01@imp.free.fr>

Selon Jason Roberts <jason.roberts@duke.edu>:

Please open a Trac ticket about that. This should be fixable within GDAL itself
by testing the presence of PIXELTYPE=SIGNEDBYTE and by casting the value to a
signed byte in that case.

> Ok, here is how a GDAL caller can detect that a file is signed 8-bit:
>
>
>
> >>> band.GetMetadata('IMAGE_STRUCTURE')
>
> {'PIXELTYPE': 'SIGNEDBYTE'}
>
>
>
> Thanks to Frank W for giving me a clue about this a week ago that I promptly
> forgot about. Sorry about that.
>
>
>
> So. does anyone know whether band.GetStatistics is supposed to work for
> these signed 8-bit files? If not, I guess I will write a workaround so my
> app will calculate statistics itself for signed 8-bit files.
>
>
>
> Thanks,
>
> Jason
>
>
>
> From: Jason Roberts [mailto:jason.roberts@duke.edu]
> Sent: Wednesday, September 23, 2009 4:18 PM
> To: 'gdal-dev'
> Subject: RE: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
>
>
>
> Someone suggested that I try this with 1.6.2 without saying whether it might
> be a bug or by design. The behavior is the same with 1.6.2, using binaries
> produced by Tamas Szekeres (thanks Tamas, for providing those on your
> website).
>
>
>
> Back to the original question: is it a bug or by design? How does the GDAL
> caller determine through GDAL that a given file is signed 8-bit or unsigned
> 8-bit?
>
>
>
> Thanks again,
>
> Jason
>
>
>
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jason Roberts
> Sent: Wednesday, September 23, 2009 3:11 PM
> To: 'gdal-dev'
> Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
>
>
>
> Is band.GetStatistics() supposed to work with signed 8-bit integer rasters
> with the HFA or GTiff driver?
>
>
>
> With GDAL 1.6.0, I can successfully create a signed 8-bit raster with the
> HFA or GTiff driver using the PIXELTYPE=SIGNEDBYTE option:
>
>
>
> >>> a = numpy.array([[-128, -1, 0, 1, 127]], dtype='int8')
>
> >>> a
>
> array([[-128,   -1,    0,    1,  127]], dtype=int8)
>
> >>> b = numpy.cast['uint8'](a)
>
> >>> print b
>
> [[128 255   0   1 127]]
>
> >>>
>
> >>> gdal.UseExceptions()
>
> >>> driver = gdal.GetDriverByName('HFA')
>
> >>> dataset = driver.Create(r'C:\Temp\test_int8.img', 5, 1, 1,
> gdal.GDT_Byte, ['PIXELTYPE=SIGNEDBYTE'])
>
> >>> band = dataset.GetRasterBand(1)
>
> >>> band.WriteArray(b)
>
> 0
>
> >>> del band, dataset, driver
>
>
>
> When I look at that raster with ArcGIS, it shows it is signed 8-bit integer
> and the five values show up properly. But when I open it with GDAL and call
> band.GetStatistics(), it looks like the calculation is performed using
> unsigned 8-bit integers:
>
>
>
> >>> dataset = gdal.Open(r'C:\Temp\test_int8.img', gdalconst.GA_ReadOnly)
>
> >>> band = dataset.GetRasterBand(1)
>
> >>> band.GetStatistics(False, True)
>
> [0.0, 255.0, 102.2, 95.199579831005551]
>
>
>
> I am wondering if this is a bug or by design. If by design, is there any way
> my application can tell through GDAL that it is a signed 8-bit file rather
> than an unsigned 8-bit file?
>
>
>
> Thanks very much for your help,
>
>
>
> Jason
>
>
>
>


From yilmaz.arslanoglu at gmail.com  Thu Sep 24 05:32:39 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Thu Sep 24 05:32:44 2009
Subject: [gdal-dev] Re: OGRGeometry Distance
Message-ID: <150158ad0909240232w1d2eeb35i38441488558cb523@mail.gmail.com>

>>you need to be clear by what you mean here: I suspect you mean:
>>
>>"The shortest distance between two points following the surface of the
>>earth"

Yes Chris, you are right. Actually my purpose is to make a bathymetric
prediction of a given position, with the help of the contours and sounding
points at hand. I just thought that it would be a better idea to take shortest
distances in calculations (maybe the Kriging) rather than using pure lat-lon
values. So does it make sense to use the geodesic distances for the
closeness criteria?
From apachemaven0 at gmail.com  Thu Sep 24 06:11:43 2009
From: apachemaven0 at gmail.com (maven apache)
Date: Thu Sep 24 06:11:49 2009
Subject: [gdal-dev] how to get the band radius
Message-ID: <b6ae15040909240311y62284225u3a074191f4930d98@mail.gmail.com>

Hi :
Can we use gdal to get the band radius of a image?
I have try to use gdalinfo ,it seems that the information do not contain the
band radius/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090924/6d0cf192/attachment-0001.html
From randyqiuxy at hotmail.com  Thu Sep 24 08:01:48 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Thu Sep 24 08:01:50 2009
Subject: [gdal-dev] How to use OGRField and what does its contents mean? 
Message-ID: <BLU137-DS28F60DD926F2FFC7E2BA9C3DA0@phx.gbl>

Hi everyone,

Sorry to interrupt you!

I’m a new boy in OGR and s_57. I feel that there is no very explicit
introduction about OGR’s details. Now, I don’t know where should I use
OGRFiled since I don’t understand its details such as Set、Binary、Date in
S_57. Anyone can explain it for me?  I read OGR’s open source code, but it
doesn’t seem like it gives us enough information and notation.

Besides that, anyone could tell me where I can find the more explicit
introduction about OGR, I mean almost each part of the OGR? 

Best regards,

Randy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090924/c2bcd5c3/attachment.html
From chaitanya.ch at gmail.com  Thu Sep 24 09:30:40 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Sep 24 09:30:43 2009
Subject: [gdal-dev] How to use OGRField and what does its contents mean?
In-Reply-To: <BLU137-DS28F60DD926F2FFC7E2BA9C3DA0@phx.gbl>
References: <BLU137-DS28F60DD926F2FFC7E2BA9C3DA0@phx.gbl>
Message-ID: <eb502d880909240630o4dd60611h566291b8daa226fb@mail.gmail.com>

Randy,

OGR's driver page is your starting point. http://www.gdal.org/ogr/drv_s57.html
Any information besides from http://www.gdal.org/ogr/ can be obtained
directly by examining the OGR code. You can browse through the code at
http://trac.osgeo.org/gdal/browser/branches/1.6/gdal/ogr and, if you
are interested, contribute your own documentation.

2009/9/24 Randy <randyqiuxy@hotmail.com>:
> Hi everyone,
>
> Sorry to interrupt you!
>
> I?m a new boy in OGR and s_57. I feel that there is no very explicit
> introduction about OGR?s details. Now, I don?t know where should I use
> OGRFiled since I don?t understand its details such as Set?Binary?Date in
> S_57. Anyone can explain it for me? ?I read OGR?s open source code, but it
> doesn?t seem like it gives us enough information and notation.
>
> Besides that, anyone could tell me where I can find the more explicit
> introduction about OGR, I mean almost each part of the OGR?
>
> Best regards,
>
> Randy
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

-- 
Best regards,
Chaitanya kumar CH.
From chaitanya.ch at gmail.com  Thu Sep 24 09:33:44 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Sep 24 09:33:47 2009
Subject: [gdal-dev] How to use OGRField and what does its contents mean?
In-Reply-To: <BLU137-DS28F60DD926F2FFC7E2BA9C3DA0@phx.gbl>
References: <BLU137-DS28F60DD926F2FFC7E2BA9C3DA0@phx.gbl>
Message-ID: <eb502d880909240633m15fc5a32y3fe6b19ec50478b5@mail.gmail.com>

Randy,

Perhaps the info you are looking for can be found under OGRFieldDefn
instead of OGRField at http://www.gdal.org/ogr/hierarchy.html

2009/9/24 Randy <randyqiuxy@hotmail.com>:
> Hi everyone,
>
> Sorry to interrupt you!
>
> I?m a new boy in OGR and s_57. I feel that there is no very explicit
> introduction about OGR?s details. Now, I don?t know where should I use
> OGRFiled since I don?t understand its details such as Set?Binary?Date in
> S_57. Anyone can explain it for me? ?I read OGR?s open source code, but it
> doesn?t seem like it gives us enough information and notation.
>
> Besides that, anyone could tell me where I can find the more explicit
> introduction about OGR, I mean almost each part of the OGR?
>
> Best regards,
>
> Randy
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
From warmerdam at pobox.com  Thu Sep 24 11:38:05 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Sep 24 11:38:43 2009
Subject: [gdal-dev] How to use OGRField and what does its contents mean?
In-Reply-To: <eb502d880909240633m15fc5a32y3fe6b19ec50478b5@mail.gmail.com>
References: <BLU137-DS28F60DD926F2FFC7E2BA9C3DA0@phx.gbl>
	<eb502d880909240633m15fc5a32y3fe6b19ec50478b5@mail.gmail.com>
Message-ID: <4ABB925D.2000400@pobox.com>

Chaitanya kumar CH wrote:
> Randy,
> 
> Perhaps the info you are looking for can be found under OGRFieldDefn
> instead of OGRField at http://www.gdal.org/ogr/hierarchy.html

Randy,

I would add there is a general discussion of the OGR data model at:

   http://www.gdal.org/ogr/ogr_arch.html

And an introduction to writing applications on the API at:

   http://www.gdal.org/ogr/ogr_apitut.html

Normally you would not interact with OGRField directly, instead
using the OGRFeature methods like GetFieldAsString() or
GetFieldAsInteger() to fetch the values.  As Chaitanya mentions,
the OGRFeatureDefn (fetched from the OGRLayer using GetDefnRef())
has info on what the fields names and types are.

In the case of S-57, the S-57 driver page also has some
useful background:

   http://www.gdal.org/ogr/drv_s57.html

> 2009/9/24 Randy <randyqiuxy@hotmail.com>:
>> Hi everyone,
>>
>> Sorry to interrupt you!
>>
>> I?m a new boy in OGR and s_57. I feel that there is no very explicit
>> introduction about OGR?s details. Now, I don?t know where should I use
>> OGRFiled since I don?t understand its details such as Set?Binary?Date in
>> S_57. Anyone can explain it for me?  I read OGR?s open source code, but it
>> doesn?t seem like it gives us enough information and notation.
>>
>> Besides that, anyone could tell me where I can find the more explicit
>> introduction about OGR, I mean almost each part of the OGR?
>>
>> Best regards,
>>
>> Randy
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> 
> 


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Michael.Smith at maine.gov  Thu Sep 24 12:26:17 2009
From: Michael.Smith at maine.gov (Smith, Michael)
Date: Thu Sep 24 12:43:34 2009
Subject: [gdal-dev] how to batch rgb2pct
Message-ID: <4EFF8BB964547748A07CA32961810C04157FB28F@SOM-TEAQASMAIL1.som.w2k.state.me.us>

I have a .bat file which I'm trying to run, here are a few lines:
 
rgb2pct v:\historic_topos\rects\w\arnold-pond-w.tif
v:\historic_topos\8bits\w\arnold-pond-w.tif
rgb2pct v:\historic_topos\rects\w\attean-w.tif
v:\historic_topos\8bits\w\attean-w.tif
rgb2pct v:\historic_topos\rects\w\baker-lake-w.tif
v:\historic_topos\8bits\w\baker-lake-w.tif
 
When I run the .bat it runs the first line and then just stops,
returning to the windows command prompt.  I can copy/paste other lines
into the command prompt and they work fine.  How do I get it to process
the next line(s)?

**********
Michael Smith
State GIS Manager
Maine Office of GIS 

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090924/acd38154/attachment.html
From Chris.Barker at noaa.gov  Thu Sep 24 12:51:35 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Sep 24 12:49:03 2009
Subject: [gdal-dev] Re: OGRGeometry Distance
In-Reply-To: <150158ad0909240232w1d2eeb35i38441488558cb523@mail.gmail.com>
References: <150158ad0909240232w1d2eeb35i38441488558cb523@mail.gmail.com>
Message-ID: <4ABBA397.1080908@noaa.gov>

Yilmaz Arslanoglu wrote:
>>> you need to be clear by what you mean here: I suspect you mean:
>>>
>>> "The shortest distance between two points following the surface of the
>>> earth"
> 
> Yes Chris, you are right. Actually my purpose is to make a bathymetric
> prediction of a given position, with the help of the contours and sounding
> points at hand. I just thought that it would be a better idea to take shortest
> distances in calculations (maybe the Kriging) rather than using pure lat-lon
> values. So does it make sense to use the geodesic distances for the
> closeness criteria?

I don't think so -- at that scale, it really won't make much difference 
-- probably far less than the accuracy you need, so I don't think it's 
worth the computational overhead.

If you want to do a little better than simple lat-long, do the 
calculations in projected coordinates, using a appropriate projection.

Do be careful about Kriging -- Kriging assumes a certain smoothness to 
the data -- it won't capture cliffs well. though no matter how you slice 
it, if you don't have a sounding there, you're not going to get it perfect.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From jason.roberts at duke.edu  Thu Sep 24 13:50:40 2009
From: jason.roberts at duke.edu (Jason Roberts)
Date: Thu Sep 24 13:50:44 2009
Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
In-Reply-To: <1253783928.4abb39789df01@imp.free.fr>
References: <000301ca3c81$a028b2f0$e07a18d0$%roberts@duke.edu>
	<007401ca3c9e$a29e8ec0$e7dbac40$%roberts@duke.edu>
	<1253783928.4abb39789df01@imp.free.fr>
Message-ID: <00f701ca3d3f$886e89a0$994b9ce0$@roberts@duke.edu>

Even,

Thanks for the response. Please see http://trac.osgeo.org/gdal/ticket/3151.

Best,
Jason

-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Thursday, September 24, 2009 5:19 AM
To: Jason Roberts
Cc: 'gdal-dev'
Subject: RE: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs

Selon Jason Roberts <jason.roberts@duke.edu>:

Please open a Trac ticket about that. This should be fixable within GDAL
itself
by testing the presence of PIXELTYPE=SIGNEDBYTE and by casting the value to
a
signed byte in that case.

> Ok, here is how a GDAL caller can detect that a file is signed 8-bit:
>
>
>
> >>> band.GetMetadata('IMAGE_STRUCTURE')
>
> {'PIXELTYPE': 'SIGNEDBYTE'}
>
>
>
> Thanks to Frank W for giving me a clue about this a week ago that I
promptly
> forgot about. Sorry about that.
>
>
>
> So. does anyone know whether band.GetStatistics is supposed to work for
> these signed 8-bit files? If not, I guess I will write a workaround so my
> app will calculate statistics itself for signed 8-bit files.
>
>
>
> Thanks,
>
> Jason
>
>
>
> From: Jason Roberts [mailto:jason.roberts@duke.edu]
> Sent: Wednesday, September 23, 2009 4:18 PM
> To: 'gdal-dev'
> Subject: RE: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
>
>
>
> Someone suggested that I try this with 1.6.2 without saying whether it
might
> be a bug or by design. The behavior is the same with 1.6.2, using binaries
> produced by Tamas Szekeres (thanks Tamas, for providing those on your
> website).
>
>
>
> Back to the original question: is it a bug or by design? How does the GDAL
> caller determine through GDAL that a given file is signed 8-bit or
unsigned
> 8-bit?
>
>
>
> Thanks again,
>
> Jason
>
>
>
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jason Roberts
> Sent: Wednesday, September 23, 2009 3:11 PM
> To: 'gdal-dev'
> Subject: [gdal-dev] GetStatistics and signed 8-bit IMGs and GeoTIFFs
>
>
>
> Is band.GetStatistics() supposed to work with signed 8-bit integer rasters
> with the HFA or GTiff driver?
>
>
>
> With GDAL 1.6.0, I can successfully create a signed 8-bit raster with the
> HFA or GTiff driver using the PIXELTYPE=SIGNEDBYTE option:
>
>
>
> >>> a = numpy.array([[-128, -1, 0, 1, 127]], dtype='int8')
>
> >>> a
>
> array([[-128,   -1,    0,    1,  127]], dtype=int8)
>
> >>> b = numpy.cast['uint8'](a)
>
> >>> print b
>
> [[128 255   0   1 127]]
>
> >>>
>
> >>> gdal.UseExceptions()
>
> >>> driver = gdal.GetDriverByName('HFA')
>
> >>> dataset = driver.Create(r'C:\Temp\test_int8.img', 5, 1, 1,
> gdal.GDT_Byte, ['PIXELTYPE=SIGNEDBYTE'])
>
> >>> band = dataset.GetRasterBand(1)
>
> >>> band.WriteArray(b)
>
> 0
>
> >>> del band, dataset, driver
>
>
>
> When I look at that raster with ArcGIS, it shows it is signed 8-bit
integer
> and the five values show up properly. But when I open it with GDAL and
call
> band.GetStatistics(), it looks like the calculation is performed using
> unsigned 8-bit integers:
>
>
>
> >>> dataset = gdal.Open(r'C:\Temp\test_int8.img', gdalconst.GA_ReadOnly)
>
> >>> band = dataset.GetRasterBand(1)
>
> >>> band.GetStatistics(False, True)
>
> [0.0, 255.0, 102.2, 95.199579831005551]
>
>
>
> I am wondering if this is a bug or by design. If by design, is there any
way
> my application can tell through GDAL that it is a signed 8-bit file rather
> than an unsigned 8-bit file?
>
>
>
> Thanks very much for your help,
>
>
>
> Jason
>
>
>
>



From jukka.rahkonen at mmmtike.fi  Thu Sep 24 14:05:29 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Sep 24 14:05:53 2009
Subject: [gdal-dev] Re: how to batch rgb2pct
References: <4EFF8BB964547748A07CA32961810C04157FB28F@SOM-TEAQASMAIL1.som.w2k.state.me.us>
Message-ID: <loom.20090924T195953-911@post.gmane.org>

Smith, Michael <Michael.Smith <at> maine.gov> writes:


 ?
> When I run the .bat 
> it runs the first line and then just stops, returning to the windows command 
> prompt.? I can copy/paste other lines into the command prompt and they work 
> fine.? How do I get it to process the next line(s)?

Hi,

On way is to use CALL and two batch files:

Bat one (launch_convert.bat)
=======

call convert.bat infile1.tif outfile1.tif
call convert.bat infile2.tif outfile2.tif
call convert.bat infile3.tif outfile3.tif
call convert.bat infile4.tif outfile4.tif
....

Bat two (convert.bat)
=======

rgb2pct %1 %2

Now just give command "launch_convert".

-Jukka Rahkonen-





From randyqiuxy at hotmail.com  Thu Sep 24 21:21:23 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Thu Sep 24 21:22:22 2009
Subject: =?UTF-8?Q?=E7=AD=94=E5=A4=8D:_Re:_=5Bgdal-dev=5D_How_to_use_OG?=
	=?UTF-8?Q?RField_and_what_does_its_content?= =?UTF-8?Q?s_mean=3F?=
In-Reply-To: <4ABB925D.2000400@pobox.com>
References: <BLU137-DS28F60DD926F2FFC7E2BA9C3DA0@phx.gbl>
	<eb502d880909240633m15fc5a32y3fe6b19ec50478b5@mail.gmail.com>
	<4ABB925D.2000400@pobox.com>
Message-ID: <BLU137-DS4E08E6A966C18AED39977C3D90@phx.gbl>

Frank, Chaitanya,
Thanks a lot for giving me so much useful info!!

-----????-----
???: Frank Warmerdam [mailto:warmerdam@pobox.com] 
????: 2009?9?24? 23:38
???: Randy
??: GDAL/OGR mailing list
??: [?? Probable Spam] Re: [gdal-dev] How to use OGRField and what does its contents mean?

Chaitanya kumar CH wrote:
> Randy,
> 
> Perhaps the info you are looking for can be found under OGRFieldDefn
> instead of OGRField at http://www.gdal.org/ogr/hierarchy.html

Randy,

I would add there is a general discussion of the OGR data model at:

   http://www.gdal.org/ogr/ogr_arch.html

And an introduction to writing applications on the API at:

   http://www.gdal.org/ogr/ogr_apitut.html

Normally you would not interact with OGRField directly, instead
using the OGRFeature methods like GetFieldAsString() or
GetFieldAsInteger() to fetch the values.  As Chaitanya mentions,
the OGRFeatureDefn (fetched from the OGRLayer using GetDefnRef())
has info on what the fields names and types are.

In the case of S-57, the S-57 driver page also has some
useful background:

   http://www.gdal.org/ogr/drv_s57.html

> 2009/9/24 Randy <randyqiuxy@hotmail.com>:
>> Hi everyone,
>>
>> Sorry to interrupt you!
>>
>> I?m a new boy in OGR and s_57. I feel that there is no very explicit
>> introduction about OGR?s details. Now, I don?t know where should I use
>> OGRFiled since I don?t understand its details such as Set?Binary?Date in
>> S_57. Anyone can explain it for me?  I read OGR?s open source code, but it
>> doesn?t seem like it gives us enough information and notation.
>>
>> Besides that, anyone could tell me where I can find the more explicit
>> introduction about OGR, I mean almost each part of the OGR?
>>
>> Best regards,
>>
>> Randy
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> 
> 


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dan0225 at sbcglobal.net  Fri Sep 25 02:49:14 2009
From: dan0225 at sbcglobal.net (orbiter_postmuch)
Date: Fri Sep 25 02:49:17 2009
Subject: [Gdal-dev] Mosaicking MOD44W landmask (318 geotiffs)
Message-ID: <1253861354719-3710710.post@n2.nabble.com>


After nabble decides to crash, I have to post this message all again.

I tried this script to mosaick the 318 tiffs:

@echo off
:: initial version, 2005-Nov-17, matt wilkie 
:: this script is public domain 
if [%1]==[] ( 
        echo. 
        echo -={ gdal_wildmerge }=- Allow gdal_merge to accept wildcards for
input files 
        echo . 
        echo .  gdal_wildmerge.bat [*.tif] [merge.tif] {options} 
        echo .  
        echo .  gdal_wildmerge c:\BM_T\MRT_download_Win\MRT\bin\318\*.tif
merge.tif -init -9999 
        echo. 
        goto :EOF 
        ) 
        :: %1 is the input wildcard mask 
        :: This is inverted from normal gdal_merge usage in order to allow
other 
        :: options be passed to gdal_merge 
 
 
:: delayed expansion requires windows NT or later command shell  
:: (it won't work on windows 9x) 
        verify other 2>nul  
        setlocal ENABLEDELAYEDEXPANSION  
        if errorlevel 1 goto :wrong_version 
 
:: gdal_merge won't overwrite an existing file   
        if exist %2 goto :file_exists 
 
:: Build the input file list 
        set infiles= 
        for %%a in (%1) do set infiles=!infiles! "%%a" 
 
:: Here is were the actual work happens 
        set gdalcmd=gdal_merge %infiles% -o "%2" 
   echo %gdalcmd% 
   :: IMPORTANT, if gdal_merge is not call'ed control doesn't return  
        :: to the batch file 
        call %gdalcmd% 
        goto :EOF 
 
:file_exists 
        echo *** the output file "%2" already exists. 
        goto :EOF 
 
:wrong_version 
        echo. 
        echo    Sorry, this batchfile requires DELAYED EXPANSION which is  
        echo    not available in this shell. See  
        echo  http://www.google.com/search?q=enabledelayedexpansion 
        goto :EOF

And the command line repeats this:

-={ gdal_wildmerge }=- Allow gdal_merge to accept wildcards for input files 

gdal_wildmerge.bat [*.tif] [merge.tif] {options} 
          
gdal_wildmerge c:\BM_T\MRT_download_Win\MRT\bin\318\*.tif merge.tif -init
-9999

It was supposed to build a mosaic list, but it never did.

If the program does manage to mosaick the files, the next problem would be
on how to open the resulting 200000+ pixel image.
-- 
View this message in context: http://n2.nabble.com/Mosaicking-MOD44W-landmask-318-geotiffs-tp3710710p3710710.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Fri Sep 25 03:13:38 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Sep 25 03:13:42 2009
Subject: [gdal-dev] My activity report.
Message-ID: <eb502d880909250013w119015e3i9b0cbb10d12db11b@mail.gmail.com>

Frank,

Please find my work report for the duration of Sep 9 to Sep 24.

-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
Sep 9, 2009 to Sep 24, 2009

#2930 Cleanup Win32 Compile Warnings

#2798 Remove ESRI style spatial indexes from Shapefile on update via OGR. Prepared a patch. Still needs some debugging and testing.

#3148 Patch to avoid VC++ compiler errors.

Installed VC++ 9.0 alongside VC++ 8.0 on my Win32 machine.

gdal-dev activity.

--
Chaitanya kumar CH
chaitanyach@gmail.com
From dhdeangelis.listas at gmail.com  Fri Sep 25 05:34:13 2009
From: dhdeangelis.listas at gmail.com (=?ISO-8859-1?Q?Hern=E1n_De_Angelis?=)
Date: Fri Sep 25 05:34:23 2009
Subject: [gdal-dev] how to get the band radius
In-Reply-To: <b6ae15040909240311y62284225u3a074191f4930d98@mail.gmail.com>
References: <b6ae15040909240311y62284225u3a074191f4930d98@mail.gmail.com>
Message-ID: <a498cee90909250234n6529dd53m5e70bda747a66649@mail.gmail.com>

I guess you mean band "ratio". A very easy way to do it is with
OpenEV, using Image -> Calculator.


H.

2009/9/24 maven apache <apachemaven0@gmail.com>:
> Hi :
> Can we use gdal to get the band radius of a image?
> I have try to use gdalinfo ,it seems that the information do not contain the
> band radius/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 

Hern?n De Angelis
Linux user # 397217
From apachemaven0 at gmail.com  Fri Sep 25 05:37:25 2009
From: apachemaven0 at gmail.com (maven apache)
Date: Fri Sep 25 05:37:28 2009
Subject: [gdal-dev] how to get the band radius
In-Reply-To: <a498cee90909250234n6529dd53m5e70bda747a66649@mail.gmail.com>
References: <b6ae15040909240311y62284225u3a074191f4930d98@mail.gmail.com>
	<a498cee90909250234n6529dd53m5e70bda747a66649@mail.gmail.com>
Message-ID: <b6ae15040909250237m14187ccfj2976faf0d4af587c@mail.gmail.com>

2009/9/25 Hern?n De Angelis <dhdeangelis.listas@gmail.com>

> I guess you mean band "ratio". A very easy way to do it is with
> OpenEV, using Image -> Calculator.
>
> Can not use a commond line manner?

>
> H.
>
> 2009/9/24 maven apache <apachemaven0@gmail.com>:
>  > Hi :
> > Can we use gdal to get the band radius of a image?
> > I have try to use gdalinfo ,it seems that the information do not contain
> the
> > band radius/
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
>
> --
>
> Hern?n De Angelis
> Linux user # 397217
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090925/4416ab56/attachment.html
From jmp at geosys.com  Fri Sep 25 06:29:11 2009
From: jmp at geosys.com (Jean Michel PIERRET)
Date: Fri Sep 25 06:36:37 2009
Subject: [gdal-dev] Create virtual mosaic in C#
Message-ID: <058701ca3dcb$05c32150$114963f0$@com>

Hi, 

 

I am using gdal 1.6.1, and i need to create an algorithm to project an
image's catalog in C#, 

I would like to create a virtual mosaic of my images and project individual
images using the virtual mosaic in order to prevent edge effects that would
occur if I project images one by one..

Is it possible with "AutoCreateWarpedVRT" to make the virtual mosaic and do
what I want, or I have to do it manually ?

 

Thanks.

 

Jean michel Pierret 

Architecte DotNET 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090925/88cc5016/attachment.html
From neteler at osgeo.org  Fri Sep 25 16:48:17 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Fri Sep 25 16:48:41 2009
Subject: [gdal-dev] GDAL to read MOD06_L2 MODIS HDF4 download
In-Reply-To: <4AB8E196.5030305@unc.edu>
References: <4AB8E196.5030305@unc.edu>
Message-ID: <86782b610909251348v49c9065s7cdb176ae0b892e1@mail.gmail.com>

On Tue, Sep 22, 2009 at 4:39 PM, Limei Ran <lran@unc.edu> wrote:
> Hi:
>
> I am trying to read a MOD06_L2 MODIS cloud product downloaded file. ?The
> file is in HDF4 format. ?I compiled GDAL with HDF4. ?But, when I use
> gdalinfo to check the file information. ?It did not give me right
> information with Longitude and Latitude missing from subdatasets.
> My question is: does GDAL with HDF4 handle MOD06_2 MODIS files correctly?
> If it does not, what can I do to make it work?

You need to use gdalwarp on the HDF layers. I have a shell script for that
which I can send to you if interested.

Markus
From szekerest at gmail.com  Fri Sep 25 17:01:06 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Sep 25 17:01:09 2009
Subject: [gdal-dev] =?iso-8859-1?q?Motion=3A_Commit_Access_for_Jorge_Ar?=
	=?iso-8859-1?q?=E9valo?=
Message-ID: <f3b73b7d0909251401j62a3ebhdb727daedc4f55f@mail.gmail.com>

Dear PSC,

I would like to nominate Jorge Ar?valo for SVN commit access provided he
agrees with RFC 3.

Jorge has already done a great work in implementing the GDAL WKT Raster
driver and has already demonstrated his expertise in coding GDAL within the
scope of the Google Summer of Code. The code as it stands is already usable
and will be committed in the -trunk shortly. Jorge has also scheduled futher
enhancements to be done with the driver and he denoted his willingness to
maintain the driver and fix up things as required.

I'm starting with my +1 to this motion.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090925/a572db11/attachment.html
From randyqiuxy at hotmail.com  Sat Sep 26 08:13:41 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Sat Sep 26 08:13:39 2009
Subject: [gdal-dev] Why cannot I get all fields from s57 files with method
	GetFieldAsString?
Message-ID: <BLU137-DS56E6CE55331E77281EE4EC3D80@phx.gbl>

Hi list,

Under Mr Frank and Mr Chaitanya’s guidance, I try to get every feature’s
field(including its name and value). But I find that I cannot get all
fields. The following is my code snippet(in MFC):

                    CString strEnd=”\r\n”;

                       int nFieldCount=0;

 
for(nFieldCount=0;nFieldCount<poFeature->GetFieldCount();nFieldCount++)

                       {

 
poFieldDefn=poFeature->GetFieldDefnRef(nFieldCount);

                           fieldName=poFieldDefn->GetNameRef();

 
fileFieldAttr.Write(fieldName,strlen(fieldName));

 
outputFieldAttr=poFeature->GetFieldAsString(nFieldCount);

 
fileFieldAttr.Write(outputFieldAttr+strEnd,strlen(outputFieldAttr)+2);

                       }

Then, what I got was as follows:

RCID3

PRIM1

GRUP2

OBJL9

RVER1

AGEN550

FIDN344289455

FIDS2233

LNAM0226148570AF08B9

LNAM_REFS(2:02261485702E08B9,02261485703208B9)

FFPT_RIND(2:2,2)

RCID4

PRIM1

GRUP2

OBJL39

…………

 

It means that I didn’t get the feature’s attribute field(ATTF) like ATTL、
ATVL and feature’s FSPT field(Feature Record to Spatial Record Pointer)
like ORNT、USAG、MASK.

Then who can tell me what’s wrong with my code?

Thanks a lot!!!

 

Best Regards,

Randy.

                                                                       

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090926/54a10af3/attachment.html
From chaitanya.ch at gmail.com  Sat Sep 26 08:51:15 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Sep 26 08:51:18 2009
Subject: [gdal-dev] Why cannot I get all fields from s57 files with method
	GetFieldAsString?
In-Reply-To: <BLU137-DS56E6CE55331E77281EE4EC3D80@phx.gbl>
References: <BLU137-DS56E6CE55331E77281EE4EC3D80@phx.gbl>
Message-ID: <eb502d880909260551g4e35119fyecf4484457389854@mail.gmail.com>

Randy,

You need to set the environment variable OGR_S57_OPTIONS =
"RETURN_LINKAGES=ON" for the driver to return the FSPT group
attributes.
It is described in http://www.gdal.org/ogr/drv_s57.html

2009/9/26 Randy <randyqiuxy@hotmail.com>:
> Hi list,
>
> Under Mr Frank and Mr Chaitanya?s guidance, I try to get every feature?s
> field(including its name and value). But I find that I cannot get all
> fields. The following is my code snippet(in MFC):
>
> ??????????????????? CString strEnd=?\r\n?;
>
> ?????????????? ????????int nFieldCount=0;
>
>
> for(nFieldCount=0;nFieldCount<poFeature->GetFieldCount();nFieldCount++)
>
> ?????????????????????? {
>
>
> poFieldDefn=poFeature->GetFieldDefnRef(nFieldCount);
>
> ?????????????????????? ??? fieldName=poFieldDefn->GetNameRef();
>
>
> fileFieldAttr.Write(fieldName,strlen(fieldName));
>
>
> ????outputFieldAttr=poFeature->GetFieldAsString(nFieldCount);
>
>
> fileFieldAttr.Write(outputFieldAttr+strEnd,strlen(outputFieldAttr)+2);
>
> ?????????????????????? }
>
> Then, what I got was as follows:
>
> RCID3
>
> PRIM1
>
> GRUP2
>
> OBJL9
>
> RVER1
>
> AGEN550
>
> FIDN344289455
>
> FIDS2233
>
> LNAM0226148570AF08B9
>
> LNAM_REFS(2:02261485702E08B9,02261485703208B9)
>
> FFPT_RIND(2:2,2)
>
> RCID4
>
> PRIM1
>
> GRUP2
>
> OBJL39
>
> ????
>
>
>
> It means that I didn?t get the feature?s attribute field(ATTF) like
> ATTL?ATVL and feature?s FSPT field(Feature Record to Spatial Record Pointer)
> like ORNT?USAG?MASK.
>
> Then who can tell me what?s wrong with my code?
>
> Thanks a lot!!!
>
>
>
> Best Regards,
>
> Randy.
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
From even.rouault at mines-paris.org  Sat Sep 26 12:45:00 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Sep 26 12:45:09 2009
Subject: [gdal-dev] Motion: Commit Access for Jorge
	=?iso-8859-1?b?QXLpdmFsbw==?=
In-Reply-To: <f3b73b7d0909251401j62a3ebhdb727daedc4f55f@mail.gmail.com>
References: <f3b73b7d0909251401j62a3ebhdb727daedc4f55f@mail.gmail.com>
Message-ID: <1253983500.4abe450cf21e1@imp.free.fr>

Selon Tamas Szekeres <szekerest@gmail.com>:

+1

Best regards

Even

> Dear PSC,
>
> I would like to nominate Jorge Ar?valo for SVN commit access provided he
> agrees with RFC 3.
>
> Jorge has already done a great work in implementing the GDAL WKT Raster
> driver and has already demonstrated his expertise in coding GDAL within the
> scope of the Google Summer of Code. The code as it stands is already usable
> and will be committed in the -trunk shortly. Jorge has also scheduled futher
> enhancements to be done with the driver and he denoted his willingness to
> maintain the driver and fix up things as required.
>
> I'm starting with my +1 to this motion.
>
> Best regards,
>
> Tamas
>


From warmerdam at pobox.com  Sat Sep 26 14:34:09 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Sep 26 14:34:26 2009
Subject: =?ISO-8859-1?Q?Re=3A_=5Bgdal-dev=5D_Motion=3A_Commit_Acc?=
	=?ISO-8859-1?Q?ess_for_Jorge_Ar=E9valo?=
In-Reply-To: <1253983500.4abe450cf21e1@imp.free.fr>
References: <f3b73b7d0909251401j62a3ebhdb727daedc4f55f@mail.gmail.com>
	<1253983500.4abe450cf21e1@imp.free.fr>
Message-ID: <4ABE5EA1.7070509@pobox.com>


>> Dear PSC,
>>
>> I would like to nominate Jorge Ar?valo for SVN commit access provided he
>> agrees with RFC 3.
>>
>> Jorge has already done a great work in implementing the GDAL WKT Raster
>> driver and has already demonstrated his expertise in coding GDAL within the
>> scope of the Google Summer of Code. The code as it stands is already usable
>> and will be committed in the -trunk shortly. Jorge has also scheduled futher
>> enhancements to be done with the driver and he denoted his willingness to
>> maintain the driver and fix up things as required.
>>
>> I'm starting with my +1 to this motion.

+1 Frank


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dan0225 at sbcglobal.net  Sat Sep 26 19:53:44 2009
From: dan0225 at sbcglobal.net (orbiter_postmuch)
Date: Sat Sep 26 19:53:45 2009
Subject: [Gdal-dev] (Frustrated)Errors when mosaicking geotiff files
Message-ID: <1254009224393-3719049.post@n2.nabble.com>


NOTE-Revised message

I am trying to mosaick 318 tiffs in WGS84 projection, but have not
succeeded.

Here is what I want to do:

1.Mosaick files together using a batch file that uses delayed expansion to
accept wildcards (*.tif)
2.Save as file where <-format-> allows sizes larger than 4GB.

When I type in the correct commands into the window, the programs have to be
picky and throw up errors just to get in my way.
-- 
View this message in context: http://n2.nabble.com/Frustrated-Errors-when-mosaicking-geotiff-files-tp3719049p3719049.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From peifer at gmx.eu  Sun Sep 27 04:30:00 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Sun Sep 27 04:30:34 2009
Subject: [gdal-dev] Re: (Frustrated)Errors when mosaicking geotiff files
In-Reply-To: <1254009224393-3719049.post@n2.nabble.com>
References: <1254009224393-3719049.post@n2.nabble.com>
Message-ID: <4ABF2288.7030802@gmx.eu>


I am not quite sure what your exact problem is, but the other day, I did the following:

gdalwarp infiles/*.tif outfile.tif

This worked fine. Not even a "too many arguments" error or similar and there were 2113 tiffs in infiles/.

Before running the above, I got rid of the 4G limit by doing:

./configure --with-libtiff=internal 

This configure option gives you: "LIBTIFF support: internal (BigTIFF=yes)"

Hope this helps, Hermann


-------- Original Message  --------
Subject: (Frustrated)Errors when mosaicking geotiff files
From: orbiter_postmuch <dan0225@sbcglobal.net>
To: 
Date: 27/09/2009 01:53

> NOTE-Revised message
> 
> I am trying to mosaick 318 tiffs in WGS84 projection, but have not
> succeeded.
> 
> Here is what I want to do:
> 
> 1.Mosaick files together using a batch file that uses delayed expansion to
> accept wildcards (*.tif)
> 2.Save as file where <-format-> allows sizes larger than 4GB.
> 
> When I type in the correct commands into the window, the programs have to be
> picky and throw up errors just to get in my way.

From dan0225 at sbcglobal.net  Sun Sep 27 06:15:46 2009
From: dan0225 at sbcglobal.net (orbiter_postmuch)
Date: Sun Sep 27 06:15:48 2009
Subject: [Gdal-dev] GDAL "ignores" explicitly defined nodata value
Message-ID: <1254046546218-3720196.post@n2.nabble.com>


NOTE-Since people' responses come through the mailing list only, expect a
line of new topics in a row by me to flood (by "flood" I mean 4 topics in a
row by the same author) the forum.

After successfully building the .vrt and translating it to .img, I opened
the file and found that the white (nodata) values were copied over valid
data. I then tried this:

gdal_translate -of PNG -a_nodata 253 file_list.vrt MOD44W.png

The nodata value in the map was specified as 253 in the official PDF. Still,
no luck.
Here is an example of the tiling:

http://n2.nabble.com/file/n3720196/tiling.jpg 

Also, when I checked the .vrt, the size was reported as, '<VRTDataset
rasterXSize="91727" rasterYSize="45855">'

Now, a 500 meter/px image would be 86400x43200 pixels. A 250m image would be
172800x86400 pixels. The landmask was 231.7m. The reported size was half the
resolution of the map!
-- 
View this message in context: http://n2.nabble.com/GDAL-ignores-explicitly-defined-nodata-value-tp3720196p3720196.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From randyqiuxy at hotmail.com  Sun Sep 27 09:21:35 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Sun Sep 27 09:21:29 2009
Subject: =?utf-8?Q?=E7=AD=94=E5=A4=8D:_=5Bgdal-dev=5D_Why_cannot_I_get_?=
	=?utf-8?Q?all_fields_from_s57_files_with_m?=
	=?utf-8?Q?ethod_GetFieldAsString=3F?=
In-Reply-To: <eb502d880909260551g4e35119fyecf4484457389854@mail.gmail.com>
References: <BLU137-DS56E6CE55331E77281EE4EC3D80@phx.gbl>
	<eb502d880909260551g4e35119fyecf4484457389854@mail.gmail.com>
Message-ID: <BLU137-DS41D138336D1372E8515D3C3D70@phx.gbl>

Mr Chaitanya and list?
   You are so kind and help me again and again. Thanks for your help very much!
Now, I can get more fields of a feature like ORNT?USAG after setting environment variable OGR_S57_OPTIONS =
"RETURN_LINKAGES=ON,RETURN_PRIMITIVE=ON,RETURN_REFS=ON".
However, I don?t think I've got the feature's attribute field. For instance, I got a point symbol and its OBJL=159 which means it was a Wreck symbol and I thought I should get some info like CATWRK=.. QUASOU=...if I can get its attribute field.
Then can you tell me whether I can do something else for this?
Thanks a lot!

Best Regards,
Randy


-----????-----
???: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com] 
????: 2009?9?26? 20:51
???: Randy
??: GDAL/OGR mailing list
??: Re: [gdal-dev] Why cannot I get all fields from s57 files with method GetFieldAsString?

Randy,

You need to set the environment variable OGR_S57_OPTIONS =
"RETURN_LINKAGES=ON" for the driver to return the FSPT group
attributes.
It is described in http://www.gdal.org/ogr/drv_s57.html

2009/9/26 Randy <randyqiuxy@hotmail.com>:
> Hi list,
>
> Under Mr Frank and Mr Chaitanya?s guidance, I try to get every feature?s
> field(including its name and value). But I find that I cannot get all
> fields. The following is my code snippet(in MFC):
>
>                     CString strEnd=?\r\n?;
>
>                        int nFieldCount=0;
>
>
> for(nFieldCount=0;nFieldCount<poFeature->GetFieldCount();nFieldCount++)
>
>                        {
>
>
> poFieldDefn=poFeature->GetFieldDefnRef(nFieldCount);
>
>                            fieldName=poFieldDefn->GetNameRef();
>
>
> fileFieldAttr.Write(fieldName,strlen(fieldName));
>
>
>     outputFieldAttr=poFeature->GetFieldAsString(nFieldCount);
>
>
> fileFieldAttr.Write(outputFieldAttr+strEnd,strlen(outputFieldAttr)+2);
>
>                        }
>
> Then, what I got was as follows:
>
> RCID3
>
> PRIM1
>
> GRUP2
>
> OBJL9
>
> RVER1
>
> AGEN550
>
> FIDN344289455
>
> FIDS2233
>
> LNAM0226148570AF08B9
>
> LNAM_REFS(2:02261485702E08B9,02261485703208B9)
>
> FFPT_RIND(2:2,2)
>
> RCID4
>
> PRIM1
>
> GRUP2
>
> OBJL39
>
> ????
>
>
>
> It means that I didn?t get the feature?s attribute field(ATTF) like
> ATTL?ATVL and feature?s FSPT field(Feature Record to Spatial Record Pointer)
> like ORNT?USAG?MASK.
>
> Then who can tell me what?s wrong with my code?
>
> Thanks a lot!!!
>
>
>
> Best Regards,
>
> Randy.
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

From eric.muller at efele.net  Sun Sep 27 15:56:15 2009
From: eric.muller at efele.net (Eric Muller)
Date: Sun Sep 27 15:56:22 2009
Subject: [gdal-dev] can ogr2ogr split polygons that cross 180 degree
	longitude
Message-ID: <4ABFC35F.9050800@efele.net>

I am trying to reproject  shapefiles that represent Russia (from 
http://wagda.lib.washington.edu/DATA/geography/world/russia/download.html) 
from the original:

    The map is Albers equal-area projection Clarke spheroid of1866 with
    the first standard parallel 46 00 0.000, the second standard
    parallel 73 00 0.000, the central meridian 84 00 0.000. The latitude
    of the projection's origin is 60 00 0.000.  Units -- meters.

to lat/long WGS84. I use the following command:

ogr2ogr \
    -s_srs '+proj=aea +ellps=clrk66 +lat_1=46.0 +lat_2=73.0 +lat_0=60.0 
+lon_0=84.0 +units=m +no_defs' \
    -t_srs '+proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs' \
    rs_polbnda_${f}.shp rus${f}.shp

I would like polygons that cross the 180 degree longitude to be split. 
It there a way to ask ogr2ogr to do that? What is the recommended way to 
do it, if not?

Thanks,
Eric.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090927/ab85300b/attachment.html
From hobu.inc at gmail.com  Sun Sep 27 21:58:41 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Sun Sep 27 22:01:05 2009
Subject: =?iso-8859-1?Q?Re:_[gdal-dev]_Motion:_Commit_Access_for_Jorge_Ar?=
	=?iso-8859-1?Q?=E9valo?=
In-Reply-To: <1253983500.4abe450cf21e1@imp.free.fr>
References: <f3b73b7d0909251401j62a3ebhdb727daedc4f55f@mail.gmail.com>
	<1253983500.4abe450cf21e1@imp.free.fr>
Message-ID: <C79E3F64-D4D1-4432-B4A4-AD2F4A38298B@gmail.com>

+1

On Sep 26, 2009, at 11:45 AM, Even Rouault wrote:

> Selon Tamas Szekeres <szekerest@gmail.com>:
>
> +1
>
> Best regards
>
> Even
>
>> Dear PSC,
>>
>> I would like to nominate Jorge Ar?valo for SVN commit access  
>> provided he
>> agrees with RFC 3.
>>
>> Jorge has already done a great work in implementing the GDAL WKT  
>> Raster
>> driver and has already demonstrated his expertise in coding GDAL  
>> within the
>> scope of the Google Summer of Code. The code as it stands is  
>> already usable
>> and will be committed in the -trunk shortly. Jorge has also  
>> scheduled futher
>> enhancements to be done with the driver and he denoted his  
>> willingness to
>> maintain the driver and fix up things as required.
>>
>> I'm starting with my +1 to this motion.
>>
>> Best regards,
>>
>> Tamas
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From peifer at gmx.eu  Mon Sep 28 02:51:04 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon Sep 28 02:51:05 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4ABFC35F.9050800@efele.net>
References: <4ABFC35F.9050800@efele.net>
Message-ID: <4AC05CD8.3000102@gmx.eu>

Eric,

I can't help much apart from confirming that the same happened to me 
when trying to reproject Russia from LAEA to WGS84.

My "solution" was to ask a colleague, who is using ESRI products to do 
me a favour... :-(

Hermann


Eric Muller wrote:
> I am trying to reproject  shapefiles that represent Russia (from 
> http://wagda.lib.washington.edu/DATA/geography/world/russia/download.html) 
> from the original:
> 
>     The map is Albers equal-area projection Clarke spheroid of1866 with
>     the first standard parallel 46 00 0.000, the second standard
>     parallel 73 00 0.000, the central meridian 84 00 0.000. The latitude
>     of the projection's origin is 60 00 0.000.  Units -- meters.
> 
> to lat/long WGS84. I use the following command:
> 
> ogr2ogr \
>     -s_srs '+proj=aea +ellps=clrk66 +lat_1=46.0 +lat_2=73.0 +lat_0=60.0 
> +lon_0=84.0 +units=m +no_defs' \
>     -t_srs '+proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs' \
>     rs_polbnda_${f}.shp rus${f}.shp
> 
> I would like polygons that cross the 180 degree longitude to be split. 
> It there a way to ask ogr2ogr to do that? What is the recommended way to 
> do it, if not?
> 
> Thanks,
> Eric.
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Mon Sep 28 04:16:26 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 28 04:16:36 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4AC05CD8.3000102@gmx.eu>
References: <4ABFC35F.9050800@efele.net> <4AC05CD8.3000102@gmx.eu>
Message-ID: <1254125786.4ac070dac6a42@imp.free.fr>

Selon Hermann Peifer <peifer@gmx.eu>:

I think this should be prefectly doable with some code/script just using OGR
API.

Here's a possible algorithm :

1) Create a new empty WGS84 shapefile
1) Loop over features in the source shapefile (the one after reprojection to
WGS84)
2a) If the polygon has points with longitudes both near 180? and near -180?,
create a duplicate temporary polygon and add 360? to the negative longitudes.
Compute the interescection with Geometry.Intersect (you need GEOS support) of
that polygon with POLYGON((0 90,180 90,180 -90,0 -90,0 90)) and with
POLYGON((180 90,360 90,360 -90,180 -90,180 90)). For the second intersection,
substract 360? to the longitudes in order to get again longitudes in the
[-180,180] range. Finally, write 2 new features into the output shapefile, or
better, just one with the geometry being a multipolygon with the 2 parts.
2b) Otherwise, just copy the original feature into the output shapefile

Best regards,
Even

> Eric,
>
> I can't help much apart from confirming that the same happened to me
> when trying to reproject Russia from LAEA to WGS84.
>
> My "solution" was to ask a colleague, who is using ESRI products to do
> me a favour... :-(
>
> Hermann
>
>
> Eric Muller wrote:
> > I am trying to reproject  shapefiles that represent Russia (from
> > http://wagda.lib.washington.edu/DATA/geography/world/russia/download.html)
> > from the original:
> >
> >     The map is Albers equal-area projection Clarke spheroid of1866 with
> >     the first standard parallel 46 00 0.000, the second standard
> >     parallel 73 00 0.000, the central meridian 84 00 0.000. The latitude
> >     of the projection's origin is 60 00 0.000.  Units -- meters.
> >
> > to lat/long WGS84. I use the following command:
> >
> > ogr2ogr \
> >     -s_srs '+proj=aea +ellps=clrk66 +lat_1=46.0 +lat_2=73.0 +lat_0=60.0
> > +lon_0=84.0 +units=m +no_defs' \
> >     -t_srs '+proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs' \
> >     rs_polbnda_${f}.shp rus${f}.shp
> >
> > I would like polygons that cross the 180 degree longitude to be split.
> > It there a way to ask ogr2ogr to do that? What is the recommended way to
> > do it, if not?
> >
> > Thanks,
> > Eric.
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From alexandre.gacon+gdal at gmail.com  Mon Sep 28 09:58:50 2009
From: alexandre.gacon+gdal at gmail.com (Alexandre Gacon)
Date: Mon Sep 28 09:58:53 2009
Subject: [gdal-dev] Help with coordinate transformations in OGR
Message-ID: <45f3b7570909280658m4f5fa725k2e4457a7378039e6@mail.gmail.com>

Hi,

Thanks for the great tool you give us with the OGR library.

I actually meet some problems with a specific coordinate transformation : I
need to transform coordinates from the NTF Lambert II Etendu system
(EPSG:27572) to WGS84 (EPSG:4326).

When I 'simply' transform a shapefile with ogr2ogr in the WGS84 system, I
get shifted geometries, compared to trusted sources. After some inquiry, it
appears that an additionnal transformation is needed (a geocentric
translation).

Is there a way to handle this transformation with the OGR API ?

The EPSG registry contains a coordinate transformation (EPSG:15939) which
seems to handle my problem : is-there any mean to use it with OGR ?

Best Regards,

-- 
Alexandre Gacon
Sent from Paris, France
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090928/a13e90c8/attachment.html
From peifer at gmx.eu  Mon Sep 28 12:53:31 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon Sep 28 12:53:35 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <1254125786.4ac070dac6a42@imp.free.fr>
References: <4ABFC35F.9050800@efele.net> <4AC05CD8.3000102@gmx.eu>
	<1254125786.4ac070dac6a42@imp.free.fr>
Message-ID: <4AC0EA0B.5000908@gmx.eu>

Even,

Thanks for the possible algorithm.... but to be honest: some sort of 
command line switch would be /somewhat more handy/, for non-programmers 
like me.

Hermann

Even Rouault wrote:
> Selon Hermann Peifer <peifer@gmx.eu>:
>
> I think this should be prefectly doable with some code/script just using OGR
> API.
>
> Here's a possible algorithm :
>
> 1) Create a new empty WGS84 shapefile
> 1) Loop over features in the source shapefile (the one after reprojection to
> WGS84)
> 2a) If the polygon has points with longitudes both near 180? and near -180?,
> create a duplicate temporary polygon and add 360? to the negative longitudes.
> Compute the interescection with Geometry.Intersect (you need GEOS support) of
> that polygon with POLYGON((0 90,180 90,180 -90,0 -90,0 90)) and with
> POLYGON((180 90,360 90,360 -90,180 -90,180 90)). For the second intersection,
> substract 360? to the longitudes in order to get again longitudes in the
> [-180,180] range. Finally, write 2 new features into the output shapefile, or
> better, just one with the geometry being a multipolygon with the 2 parts.
> 2b) Otherwise, just copy the original feature into the output shapefile
>
> Best regards,
> Even
>
>   
>> Eric,
>>
>> I can't help much apart from confirming that the same happened to me
>> when trying to reproject Russia from LAEA to WGS84.
>>
>> My "solution" was to ask a colleague, who is using ESRI products to do
>> me a favour... :-(
>>
>> Hermann
>>
>>
>> Eric Muller wrote:
>>     
>>> I am trying to reproject  shapefiles that represent Russia (from
>>> http://wagda.lib.washington.edu/DATA/geography/world/russia/download.html)
>>> from the original:
>>>
>>>     The map is Albers equal-area projection Clarke spheroid of1866 with
>>>     the first standard parallel 46 00 0.000, the second standard
>>>     parallel 73 00 0.000, the central meridian 84 00 0.000. The latitude
>>>     of the projection's origin is 60 00 0.000.  Units -- meters.
>>>
>>> to lat/long WGS84. I use the following command:
>>>
>>> ogr2ogr \
>>>     -s_srs '+proj=aea +ellps=clrk66 +lat_1=46.0 +lat_2=73.0 +lat_0=60.0
>>> +lon_0=84.0 +units=m +no_defs' \
>>>     -t_srs '+proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs' \
>>>     rs_polbnda_${f}.shp rus${f}.shp
>>>
>>> I would like polygons that cross the 180 degree longitude to be split.
>>> It there a way to ask ogr2ogr to do that? What is the recommended way to
>>> do it, if not?
>>>
>>> Thanks,
>>> Eric.
>>>
>>>
>>> ------------------------------------------------------------------------
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>       
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     
>
>   
From even.rouault at mines-paris.org  Mon Sep 28 17:07:01 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Sep 28 17:07:04 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4AC0EA0B.5000908@gmx.eu>
References: <4ABFC35F.9050800@efele.net> <4AC05CD8.3000102@gmx.eu>
	<1254125786.4ac070dac6a42@imp.free.fr> <4AC0EA0B.5000908@gmx.eu>
Message-ID: <1254172021.4ac12575ea3cd@imp.free.fr>

Selon Hermann Peifer <peifer@gmx.eu>:

I've finally added a new switch to ogr2ogr : -wrapdateline. See
http://trac.osgeo.org/gdal/ticket/3158

> Even,
>
> Thanks for the possible algorithm.... but to be honest: some sort of
> command line switch would be /somewhat more handy/, for non-programmers
> like me.
>
> Hermann
>
> Even Rouault wrote:
> > Selon Hermann Peifer <peifer@gmx.eu>:
> >
> > I think this should be prefectly doable with some code/script just using
> OGR
> > API.
> >
> > Here's a possible algorithm :
> >
> > 1) Create a new empty WGS84 shapefile
> > 1) Loop over features in the source shapefile (the one after reprojection
> to
> > WGS84)
> > 2a) If the polygon has points with longitudes both near 180? and near
> -180?,
> > create a duplicate temporary polygon and add 360? to the negative
> longitudes.
> > Compute the interescection with Geometry.Intersect (you need GEOS support)
> of
> > that polygon with POLYGON((0 90,180 90,180 -90,0 -90,0 90)) and with
> > POLYGON((180 90,360 90,360 -90,180 -90,180 90)). For the second
> intersection,
> > substract 360? to the longitudes in order to get again longitudes in the
> > [-180,180] range. Finally, write 2 new features into the output shapefile,
> or
> > better, just one with the geometry being a multipolygon with the 2 parts.
> > 2b) Otherwise, just copy the original feature into the output shapefile
> >
> > Best regards,
> > Even
> >
> >
> >> Eric,
> >>
> >> I can't help much apart from confirming that the same happened to me
> >> when trying to reproject Russia from LAEA to WGS84.
> >>
> >> My "solution" was to ask a colleague, who is using ESRI products to do
> >> me a favour... :-(
> >>
> >> Hermann
> >>
> >>
> >> Eric Muller wrote:
> >>
> >>> I am trying to reproject  shapefiles that represent Russia (from
> >>>
> http://wagda.lib.washington.edu/DATA/geography/world/russia/download.html)
> >>> from the original:
> >>>
> >>>     The map is Albers equal-area projection Clarke spheroid of1866 with
> >>>     the first standard parallel 46 00 0.000, the second standard
> >>>     parallel 73 00 0.000, the central meridian 84 00 0.000. The latitude
> >>>     of the projection's origin is 60 00 0.000.  Units -- meters.
> >>>
> >>> to lat/long WGS84. I use the following command:
> >>>
> >>> ogr2ogr \
> >>>     -s_srs '+proj=aea +ellps=clrk66 +lat_1=46.0 +lat_2=73.0 +lat_0=60.0
> >>> +lon_0=84.0 +units=m +no_defs' \
> >>>     -t_srs '+proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs' \
> >>>     rs_polbnda_${f}.shp rus${f}.shp
> >>>
> >>> I would like polygons that cross the 180 degree longitude to be split.
> >>> It there a way to ask ogr2ogr to do that? What is the recommended way to
> >>> do it, if not?
> >>>
> >>> Thanks,
> >>> Eric.
> >>>
> >>>
> >>> ------------------------------------------------------------------------
> >>>
> >>> _______________________________________________
> >>> gdal-dev mailing list
> >>> gdal-dev@lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >>
> >
> >
>


From chaitanya.ch at gmail.com  Mon Sep 28 23:16:03 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Sep 28 23:16:06 2009
Subject: [gdal-dev] Problem converting .gml to shapefile
In-Reply-To: <eb502d880909281012s72d18733rd531518768332e0d@mail.gmail.com>
References: <200909211938.33329.aribao@gmail.com>
	<200909221739.19119.aribao@gmail.com>
	<eb502d880909220928g7fb62eact4253637e09768e12@mail.gmail.com>
	<200909281655.06793.aribao@gmail.com>
	<eb502d880909281012s72d18733rd531518768332e0d@mail.gmail.com>
Message-ID: <eb502d880909282016n1ca0bbd7jc75a7e65460b6b82@mail.gmail.com>

Adrian,

May be the problem is with xerces. OGR's GML driver has some problems
with the latest xerces3 xml parser. It works perfectly with xerces
2.8, however. I'm looking into the xerces 3 support now.

On Mon, Sep 28, 2009 at 10:42 PM, Chaitanya kumar CH
<chaitanya.ch@gmail.com> wrote:
> Adrian,
>
> I was not able to reproduce the issue. I am attaching the shapefile I
> got with ogr2ogr, which seems to be correct.
> It may help if you test your gml file with ogrinfo with the options
> -al and -so. Check for consistent feature count.
>
-- 
Best regards,
Chaitanya kumar CH.
From n.e.kendall at gmail.com  Tue Sep 29 04:45:43 2009
From: n.e.kendall at gmail.com (Nicholas Efremov-Kendall)
Date: Tue Sep 29 04:45:46 2009
Subject: [gdal-dev] Preserving Character Encoding
Message-ID: <33fd44f90909290145t69f8c326j8619053ebf607c3f@mail.gmail.com>

Hi All,
I'm using ogr2ogr to convert a shp file to GML. The issue I'm having is the
GML file has gotten rid of some of the character encoding. I need for my
vector feature labels to maintain their character sets. Any suggestions?

-- 
Nicholas Efremov-Kendall
Fulbright Student 2009-2010, Ukraine
nefremov@artsci.wustl.edu
c/o Halyna Yerko
Balzaka 92a, Kv 27
02232
Kyiv, Ukraine
(mob) +380963576524
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090929/3992bdbd/attachment.html
From peifer at gmx.eu  Tue Sep 29 05:31:25 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep 29 05:31:26 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <1254172021.4ac12575ea3cd@imp.free.fr>
References: <4ABFC35F.9050800@efele.net> <4AC05CD8.3000102@gmx.eu>
	<1254125786.4ac070dac6a42@imp.free.fr> <4AC0EA0B.5000908@gmx.eu>
	<1254172021.4ac12575ea3cd@imp.free.fr>
Message-ID: <4AC1D3ED.9070706@gmx.eu>

Hmm. With a fresh ogr2ogr from svn, I am running into this error:

ERROR 6: GEOS support not enabled.
ERROR 6: GEOS support not enabled.

Simply adding the configure option  --with-geos=yes doesn't help. The 
configure output is:

checking for geos-config... /home/peifer/local/FWTools/bin_safe/geos-config
checking for GEOS version >= 2.2.0... yes
checking for GEOSversion in -lgeos_c... no

Any hint how to fix this?

Hermann

Even Rouault wrote:
> Selon Hermann Peifer <peifer@gmx.eu>:
>
> I've finally added a new switch to ogr2ogr : -wrapdateline. See
> http://trac.osgeo.org/gdal/ticket/3158
>
>   
>> Even,
>>
>> Thanks for the possible algorithm.... but to be honest: some sort of
>> command line switch would be /somewhat more handy/, for non-programmers
>> like me.
>>
>> Hermann
>>
>> Even Rouault wrote:
>>     
>>> Selon Hermann Peifer <peifer@gmx.eu>:
>>>
>>> I think this should be prefectly doable with some code/script just using
>>>       
>> OGR
>>     
>>> API.
>>>
>>> Here's a possible algorithm :
>>>
>>> 1) Create a new empty WGS84 shapefile
>>> 1) Loop over features in the source shapefile (the one after reprojection
>>>       
>> to
>>     
>>> WGS84)
>>> 2a) If the polygon has points with longitudes both near 180? and near
>>>       
>> -180?,
>>     
>>> create a duplicate temporary polygon and add 360? to the negative
>>>       
>> longitudes.
>>     
>>> Compute the interescection with Geometry.Intersect (you need GEOS support)
>>>       
>> of
>>     
>>> that polygon with POLYGON((0 90,180 90,180 -90,0 -90,0 90)) and with
>>> POLYGON((180 90,360 90,360 -90,180 -90,180 90)). For the second
>>>       
>> intersection,
>>     
>>> substract 360? to the longitudes in order to get again longitudes in the
>>> [-180,180] range. Finally, write 2 new features into the output shapefile,
>>>       
>> or
>>     
>>> better, just one with the geometry being a multipolygon with the 2 parts.
>>> 2b) Otherwise, just copy the original feature into the output shapefile
>>>
>>> Best regards,
>>> Even
>>>
>>>
>>>       
>>>> Eric,
>>>>
>>>> I can't help much apart from confirming that the same happened to me
>>>> when trying to reproject Russia from LAEA to WGS84.
>>>>
>>>> My "solution" was to ask a colleague, who is using ESRI products to do
>>>> me a favour... :-(
>>>>
>>>> Hermann
>>>>
>>>>
>>>> Eric Muller wrote:
>>>>
>>>>         
>>>>> I am trying to reproject  shapefiles that represent Russia (from
>>>>>
>>>>>           
>> http://wagda.lib.washington.edu/DATA/geography/world/russia/download.html)
>>     
>>>>> from the original:
>>>>>
>>>>>     The map is Albers equal-area projection Clarke spheroid of1866 with
>>>>>     the first standard parallel 46 00 0.000, the second standard
>>>>>     parallel 73 00 0.000, the central meridian 84 00 0.000. The latitude
>>>>>     of the projection's origin is 60 00 0.000.  Units -- meters.
>>>>>
>>>>> to lat/long WGS84. I use the following command:
>>>>>
>>>>> ogr2ogr \
>>>>>     -s_srs '+proj=aea +ellps=clrk66 +lat_1=46.0 +lat_2=73.0 +lat_0=60.0
>>>>> +lon_0=84.0 +units=m +no_defs' \
>>>>>     -t_srs '+proj=latlong +ellps=WGS84 +datum=WGS84 +no_defs' \
>>>>>     rs_polbnda_${f}.shp rus${f}.shp
>>>>>
>>>>> I would like polygons that cross the 180 degree longitude to be split.
>>>>> It there a way to ask ogr2ogr to do that? What is the recommended way to
>>>>> do it, if not?
>>>>>
>>>>> Thanks,
>>>>> Eric.
>>>>>
>>>>>
>>>>> ------------------------------------------------------------------------
>>>>>
>>>>> _______________________________________________
>>>>> gdal-dev mailing list
>>>>> gdal-dev@lists.osgeo.org
>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>
>>>>>           
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>>         
>>>       
>
>   
From mateusz at loskot.net  Tue Sep 29 05:39:19 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Sep 29 05:36:47 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4AC1D3ED.9070706@gmx.eu>
References: <4ABFC35F.9050800@efele.net>
	<4AC05CD8.3000102@gmx.eu>	<1254125786.4ac070dac6a42@imp.free.fr>
	<4AC0EA0B.5000908@gmx.eu>	<1254172021.4ac12575ea3cd@imp.free.fr>
	<4AC1D3ED.9070706@gmx.eu>
Message-ID: <4AC1D5C7.1000107@loskot.net>

Hermann Peifer wrote:
> Hmm. With a fresh ogr2ogr from svn, I am running into this error:
> 
> ERROR 6: GEOS support not enabled.
> ERROR 6: GEOS support not enabled.
> 
> Simply adding the configure option  --with-geos=yes doesn't help. The 
> configure output is:
> 
> checking for geos-config... /home/peifer/local/FWTools/bin_safe/geos-config
> checking for GEOS version >= 2.2.0... yes
> checking for GEOSversion in -lgeos_c... no
> 
> Any hint how to fix this?

What version of GEOS you have installed?
What does geos-config --version say?

If answers to the questions above suggest everything should work,
try to find "error" messages related to GEOS in config.log and paste
them here or somewhere (if large).

Also, you may try to call

./configure --with-geos=/path/to/geos-config

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From peifer at gmx.eu  Tue Sep 29 06:45:00 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep 29 06:45:02 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4AC1D5C7.1000107@loskot.net>
References: <4ABFC35F.9050800@efele.net>
	<4AC05CD8.3000102@gmx.eu>	<1254125786.4ac070dac6a42@imp.free.fr>
	<4AC0EA0B.5000908@gmx.eu>	<1254172021.4ac12575ea3cd@imp.free.fr>
	<4AC1D3ED.9070706@gmx.eu> <4AC1D5C7.1000107@loskot.net>
Message-ID: <4AC1E52C.4050103@gmx.eu>

 > What does geos-config --version say?

Before, it said: 3.0.0rc1, I now upgraded to 3.1.1

The upgrade improved the situation somewhat: "ERROR 6: GEOS support not 
enabled." is gone now. However, ogr2ogr -wrapdateline -t_srs EPSG:4326 
... results now into:

ERROR 1: TopologyException: found non-noded intersection between 268.426 
48.093, 268.537 48.0578 and 269.967 48.0697, 237.581 48.0657 268.5 48.0695
ERROR 1: TopologyException: found non-noded intersection between 268.426 
48.093, 268.537 48.0578 and 269.967 48.0697, 237.581 48.0657 268.5 48.0695
Segmentation fault

:-(

Hermann

Mateusz Loskot wrote:
> Hermann Peifer wrote:
>> Hmm. With a fresh ogr2ogr from svn, I am running into this error:
>>
>> ERROR 6: GEOS support not enabled.
>> ERROR 6: GEOS support not enabled.
>>
>> Simply adding the configure option  --with-geos=yes doesn't help. The 
>> configure output is:
>>
>> checking for geos-config... 
>> /home/peifer/local/FWTools/bin_safe/geos-config
>> checking for GEOS version >= 2.2.0... yes
>> checking for GEOSversion in -lgeos_c... no
>>
>> Any hint how to fix this?
>
> What version of GEOS you have installed?
> What does geos-config --version say?
>
> If answers to the questions above suggest everything should work,
> try to find "error" messages related to GEOS in config.log and paste
> them here or somewhere (if large).
>
> Also, you may try to call
>
> ./configure --with-geos=/path/to/geos-config
>
> Best regards,
From peifer at gmx.eu  Tue Sep 29 08:28:06 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep 29 08:28:07 2009
Subject: [gdal-dev] Re: Preserving Character Encoding
In-Reply-To: <33fd44f90909290145t69f8c326j8619053ebf607c3f@mail.gmail.com>
References: <33fd44f90909290145t69f8c326j8619053ebf607c3f@mail.gmail.com>
Message-ID: <4AC1FD56.5010503@gmx.eu>

Nicholas Efremov-Kendall wrote:
> Hi All,
> 
> I'm using ogr2ogr to convert a shp file to GML. The issue I'm having is 
> the GML file has gotten rid of some of the character encoding. I need 
> for my vector feature labels to maintain their character sets. Any 
> suggestions?
> 

You might want to look at: http://trac.osgeo.org/gdal/ticket/2971

What has been implemented through ticket 2971 is some sort of quick fix. 
Even wrote about it:

--- snip ---
No, it's not the ultimate solution. Hopefully work will be done at some 
point in the shapefile driver so it can properly decode data from the 
DBF encoding to UTF-8.
--- snip ---

Hermann
From n.e.kendall at gmail.com  Tue Sep 29 08:57:30 2009
From: n.e.kendall at gmail.com (Nicholas Efremov-Kendall)
Date: Tue Sep 29 08:57:33 2009
Subject: [gdal-dev] Re: Preserving Character Encoding
In-Reply-To: <4AC1FD56.5010503@gmx.eu>
References: <33fd44f90909290145t69f8c326j8619053ebf607c3f@mail.gmail.com>
	<4AC1FD56.5010503@gmx.eu>
Message-ID: <33fd44f90909290557u6f4ace8eg7b0c4409c7efec7a@mail.gmail.com>

Hi all,
Just a quick question: This isn't a huge file, three entities, would it work
to just change the characters in a text editor?

best,


On Tue, Sep 29, 2009 at 3:28 PM, Hermann Peifer <peifer@gmx.eu> wrote:

> Nicholas Efremov-Kendall wrote:
>
>> Hi All,
>>
>> I'm using ogr2ogr to convert a shp file to GML. The issue I'm having is
>> the GML file has gotten rid of some of the character encoding. I need for my
>> vector feature labels to maintain their character sets. Any suggestions?
>>
>>
> You might want to look at: http://trac.osgeo.org/gdal/ticket/2971
>
> What has been implemented through ticket 2971 is some sort of quick fix.
> Even wrote about it:
>
> --- snip ---
> No, it's not the ultimate solution. Hopefully work will be done at some
> point in the shapefile driver so it can properly decode data from the DBF
> encoding to UTF-8.
> --- snip ---
>
> Hermann
>



-- 
Nicholas Efremov-Kendall
Fulbright Student 2009-2010, Ukraine
nefremov@artsci.wustl.edu
c/o Halyna Yerko
Balzaka 92a, Kv 27
02232
Kyiv, Ukraine
(mob) +380963576524
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090929/6f785869/attachment.html
From gdal at gpweb.dk  Tue Sep 29 09:40:23 2009
From: gdal at gpweb.dk (Gregers Petersen)
Date: Tue Sep 29 10:07:04 2009
Subject: [gdal-dev] 1.7 Release Planning
In-Reply-To: <4AB793FB.70003@pobox.com>
References: <4AB6F0B4.5030307@pobox.com>	<4873241E-8835-4FE8-AF90-A27F6D541C99@gmail.com>
	<4AB793FB.70003@pobox.com>
Message-ID: <4AC20E47.50405@gpweb.dk>

Frank Warmerdam wrote:
> Does anyone have particular features they want to see accomplished in 
> time
> for 1.7?

Frank,

For me it would be great if my proposed enhancement in ticket 3129 
<http://trac.osgeo.org/gdal/ticket/3129> would  be implemented.
It would make a big difference in our daily work, if a standardized 
direction on contours were present.

We would be happy to do tests on any changes made, as my patch beares 
evidence that I do not do much C++ programming these days.


Best regards,

Gregers
From warmerdam at pobox.com  Tue Sep 29 10:08:09 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep 29 10:08:08 2009
Subject: [gdal-dev] 1.7 Release Planning
In-Reply-To: <4AC20E47.50405@gpweb.dk>
References: <4AB6F0B4.5030307@pobox.com>
	<4873241E-8835-4FE8-AF90-A27F6D541C99@gmail.com>
	<4AB793FB.70003@pobox.com> <4AC20E47.50405@gpweb.dk>
Message-ID: <4AC214C9.4070907@pobox.com>

Gregers Petersen wrote:
> Frank Warmerdam wrote:
>> Does anyone have particular features they want to see accomplished in 
>> time
>> for 1.7?
> 
> Frank,
> 
> For me it would be great if my proposed enhancement in ticket 3129 
> <http://trac.osgeo.org/gdal/ticket/3129> would  be implemented.
> It would make a big difference in our daily work, if a standardized 
> direction on contours were present.
> 
> We would be happy to do tests on any changes made, as my patch beares 
> evidence that I do not do much C++ programming these days.

Gregers,

I have skimmed the patch and it looks reasonable.  I have assigned this
to Chaitanya to incorporate in trunk, update tests, docs, etc.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chrisemberson at hotmail.com  Tue Sep 29 11:43:56 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Tue Sep 29 11:43:58 2009
Subject: [gdal-dev] GDAL 1.7.0 download?
Message-ID: <BLU145-W12331831E0179D0090C03EA3D50@phx.gbl>


Hi,

Am trying to use gdaldem but it says this is only available with GDAL 1.7.0,
"Tools to analyze and visualize DEMs. (since GDAL 1.7.0)"
I cannot find the download link?

many thanks in advance,
Chris
 		 	   		  
_________________________________________________________________
With Windows Live, you can organise, edit, and share your photos.
http://clk.atdmt.com/UKM/go/134665338/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090929/19d4f285/attachment.html
From yilmaz.arslanoglu at gmail.com  Tue Sep 29 12:16:03 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Tue Sep 29 12:16:06 2009
Subject: [gdal-dev] sounding point handling by OGR library
Message-ID: <150158ad0909290916x162c1b7al6cc208b40e378b97@mail.gmail.com>

Hi;

I had some questions regarding the additional feature of sounding
point handling by the OGR library.

I know that we need to turn on the options SPLIT_MULTIPOINT and
ADD_SOUNDG_DEPTH options on.

1) Is there a way to turn them individually on without affecting the
other suboptions in OGR_S57_OPTIONS ?
    Because if we do it by the following statement:

   CPLSetConfigOption("OGR_S57_OPTIONS",
"SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON");

   Then there is a possibility to overwrite the other suboptions
UPDATES, RETURN_PRIMITIVES,
    PRESERVE_EMPTY_NUMBERS, LNAM_REFS, and RETURN_LINKAGES.

2) With turning ADD_SOUNDG_DEPTH option on, the points become three
dimensional, where the Z
    member variable contains the retrieved depth value I guess. Here,
my question is, does this depth
    retrieval process take care of any unit conversions (meters,
fathoms, feet, etc.) ?

Regards,
Yilmaz
From peifer at gmx.eu  Tue Sep 29 12:18:25 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep 29 12:18:25 2009
Subject: [gdal-dev] Re: GDAL 1.7.0 download?
In-Reply-To: <BLU145-W12331831E0179D0090C03EA3D50@phx.gbl>
References: <BLU145-W12331831E0179D0090C03EA3D50@phx.gbl>
Message-ID: <4AC23351.9060506@gmx.eu>

Chris Emberson wrote:
> Hi,
> 
> Am trying to use gdaldem but it says this is only available with GDAL 1.7.0,
> "Tools to analyze and visualize DEMs. (since GDAL 1.7.0)"

As far as I can see, the documentation is not correct in this case.

$ gdaldem  --version|head -1
GDAL 1.6.2, released 2009/07/31

Hermann

From edomazlicky at gmail.com  Tue Sep 29 12:20:04 2009
From: edomazlicky at gmail.com (Eric Domazlicky)
Date: Tue Sep 29 12:20:07 2009
Subject: Fwd: [gdal-dev] 1.7 Release Planning
In-Reply-To: <7c3270ef0909290855w31fe6b1av7109abb69e0a1064@mail.gmail.com>
References: <4AB6F0B4.5030307@pobox.com>
	<4873241E-8835-4FE8-AF90-A27F6D541C99@gmail.com>
	<4AB793FB.70003@pobox.com>
	<7c3270ef0909290855w31fe6b1av7109abb69e0a1064@mail.gmail.com>
Message-ID: <7c3270ef0909290920m37d2366ep8bf7966304fa4ce6@mail.gmail.com>

 Frank and others-

I would vote for an options that adds UNIFIED_SRC_NODATA to a resulting VRT
file when using AutoCreateWarpedVRT from SWIG languages. It really is a pain
to write the code to add it manually and the NoData option is pretty much
mandatory if you are tiling from 8-bit (1 channel) raster files.
Ticket #2724 has more background on the issue. Gdal2Tiles.py also has code
that demonstrates the process of adding the required tags to the VRT file-
it's not pretty.



On Mon, Sep 21, 2009 at 7:55 AM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Howard Butler wrote:
>
>> Speaking of which, are we going to release 1.7 on your birthday again?
>>
>
> Howard,
>
> I would like to aim somewhat earlier - perhaps the end of October with
> a bit of room to slip if needed.
>
> Does anyone have particular features they want to see accomplished in time
> for 1.7?
>
> I'd like to see some sort of handling of utf-8 filenames on windows.
>
> I'd like to see a new PCIDSK driver based on the new PCIDSK SDK.
>
> I'd like to see WKT Raster in trunk.
>
> I'd like to see serious progress on the bug list.
>
> Best regards,
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090929/3df735fc/attachment.html
From warmerdam at pobox.com  Tue Sep 29 12:20:49 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep 29 12:20:50 2009
Subject: [gdal-dev] sounding point handling by OGR library
In-Reply-To: <150158ad0909290916x162c1b7al6cc208b40e378b97@mail.gmail.com>
References: <150158ad0909290916x162c1b7al6cc208b40e378b97@mail.gmail.com>
Message-ID: <4AC233E1.8080303@pobox.com>

Yilmaz Arslanoglu wrote:
> Hi;
> 
> I had some questions regarding the additional feature of sounding
> point handling by the OGR library.
> 
> I know that we need to turn on the options SPLIT_MULTIPOINT and
> ADD_SOUNDG_DEPTH options on.
> 
> 1) Is there a way to turn them individually on without affecting the
> other suboptions in OGR_S57_OPTIONS ?
>     Because if we do it by the following statement:
> 
>    CPLSetConfigOption("OGR_S57_OPTIONS",
> "SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON");
> 
>    Then there is a possibility to overwrite the other suboptions
> UPDATES, RETURN_PRIMITIVES,
>     PRESERVE_EMPTY_NUMBERS, LNAM_REFS, and RETURN_LINKAGES.

Yilmaz,

You are correct, calling CPLSetConfigOption() will clear the previous
setting, so if you want things amalgamated you need to do it
yourself in code in some fashion.

> 2) With turning ADD_SOUNDG_DEPTH option on, the points become three
> dimensional, where the Z
>     member variable contains the retrieved depth value I guess. Here,
> my question is, does this depth
>     retrieval process take care of any unit conversions (meters,
> fathoms, feet, etc.) ?

I do not believe it is doing any unit conversion.  You will
get a Z coordinate in the depth units that it appears in
the depth attribute.

In general OGR and OGRSpatialReference do not attempt to
address the units of Z values even though there is an OGC
coverage of compound (ie. 2D + elevation) coordinate systems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From peifer at gmx.eu  Tue Sep 29 12:20:51 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep 29 12:20:52 2009
Subject: [gdal-dev] Re: Preserving Character Encoding
In-Reply-To: <33fd44f90909290557u6f4ace8eg7b0c4409c7efec7a@mail.gmail.com>
References: <33fd44f90909290145t69f8c326j8619053ebf607c3f@mail.gmail.com>	<4AC1FD56.5010503@gmx.eu>
	<33fd44f90909290557u6f4ace8eg7b0c4409c7efec7a@mail.gmail.com>
Message-ID: <4AC233E3.6000105@gmx.eu>

Nicholas Efremov-Kendall wrote:
> Hi all,
> 
> Just a quick question: This isn't a huge file, three entities, would it 
> work to just change the characters in a text editor?
> 

Yes. Just make sure that your text editor generates UTF-8 encoded text.

Hermann
From yilmaz.arslanoglu at gmail.com  Tue Sep 29 12:57:20 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Tue Sep 29 12:57:22 2009
Subject: [gdal-dev] sounding point handling by OGR library
In-Reply-To: <4AC233E1.8080303@pobox.com>
References: <150158ad0909290916x162c1b7al6cc208b40e378b97@mail.gmail.com>
	<4AC233E1.8080303@pobox.com>
Message-ID: <150158ad0909290957r3ea30994k9f3bde2e8dce6858@mail.gmail.com>

Thank you very much Frank for the quick and clear answers.

Best wishes,
Yilmaz

On Tue, Sep 29, 2009 at 6:20 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Yilmaz Arslanoglu wrote:
>>
>> Hi;
>>
>> I had some questions regarding the additional feature of sounding
>> point handling by the OGR library.
>>
>> I know that we need to turn on the options SPLIT_MULTIPOINT and
>> ADD_SOUNDG_DEPTH options on.
>>
>> 1) Is there a way to turn them individually on without affecting the
>> other suboptions in OGR_S57_OPTIONS ?
>> ? ?Because if we do it by the following statement:
>>
>> ? CPLSetConfigOption("OGR_S57_OPTIONS",
>> "SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON");
>>
>> ? Then there is a possibility to overwrite the other suboptions
>> UPDATES, RETURN_PRIMITIVES,
>> ? ?PRESERVE_EMPTY_NUMBERS, LNAM_REFS, and RETURN_LINKAGES.
>
> Yilmaz,
>
> You are correct, calling CPLSetConfigOption() will clear the previous
> setting, so if you want things amalgamated you need to do it
> yourself in code in some fashion.
>
>> 2) With turning ADD_SOUNDG_DEPTH option on, the points become three
>> dimensional, where the Z
>> ? ?member variable contains the retrieved depth value I guess. Here,
>> my question is, does this depth
>> ? ?retrieval process take care of any unit conversions (meters,
>> fathoms, feet, etc.) ?
>
> I do not believe it is doing any unit conversion. ?You will
> get a Z coordinate in the depth units that it appears in
> the depth attribute.
>
> In general OGR and OGRSpatialReference do not attempt to
> address the units of Z values even though there is an OGC
> coverage of compound (ie. 2D + elevation) coordinate systems.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
>
From even.rouault at mines-paris.org  Tue Sep 29 13:04:08 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep 29 13:04:11 2009
Subject: [gdal-dev] Re: GDAL 1.7.0 download?
In-Reply-To: <4AC23351.9060506@gmx.eu>
References: <BLU145-W12331831E0179D0090C03EA3D50@phx.gbl>
	<4AC23351.9060506@gmx.eu>
Message-ID: <1254243848.4ac23e087afd2@imp.free.fr>

Selon Hermann Peifer <peifer@gmx.eu>:

Well, the documentation is correct. gdaldem will be officially included in
to-be-released GDAL 1.7.0.
http://trac.osgeo.org/gdal/browser/branches/1.6/gdal/apps doesn't show any sign
of it...

I guess you have backported it yourself or someone did it for you. The source
code should indeed compile fine against any GDAL version.

> Chris Emberson wrote:
> > Hi,
> >
> > Am trying to use gdaldem but it says this is only available with GDAL
> 1.7.0,
> > "Tools to analyze and visualize DEMs. (since GDAL 1.7.0)"
>
> As far as I can see, the documentation is not correct in this case.
>
> $ gdaldem  --version|head -1
> GDAL 1.6.2, released 2009/07/31
>
> Hermann
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From peifer at gmx.eu  Tue Sep 29 14:09:23 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue Sep 29 14:09:29 2009
Subject: [gdal-dev] Re: GDAL 1.7.0 download?
In-Reply-To: <1254243848.4ac23e087afd2@imp.free.fr>
References: <BLU145-W12331831E0179D0090C03EA3D50@phx.gbl>
	<4AC23351.9060506@gmx.eu> <1254243848.4ac23e087afd2@imp.free.fr>
Message-ID: <4AC24D53.8050809@gmx.eu>

You are right. Now I remember that some time ago, I made an extra effort 
to get hold of this useful utility...

Hermann

Even Rouault wrote:
> Selon Hermann Peifer <peifer@gmx.eu>:
>
> Well, the documentation is correct. gdaldem will be officially included in
> to-be-released GDAL 1.7.0.
> http://trac.osgeo.org/gdal/browser/branches/1.6/gdal/apps doesn't show any sign
> of it...
>
> I guess you have backported it yourself or someone did it for you. The source
> code should indeed compile fine against any GDAL version.
>
>   
>> Chris Emberson wrote:
>>     
>>> Hi,
>>>
>>> Am trying to use gdaldem but it says this is only available with GDAL
>>>       
>> 1.7.0,
>>     
>>> "Tools to analyze and visualize DEMs. (since GDAL 1.7.0)"
>>>       
>> As far as I can see, the documentation is not correct in this case.
>>
>> $ gdaldem  --version|head -1
>> GDAL 1.6.2, released 2009/07/31
>>
>> Hermann
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     
>
>   
From mateusz at loskot.net  Tue Sep 29 14:47:23 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Sep 29 14:47:30 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4AC1E52C.4050103@gmx.eu>
References: <4ABFC35F.9050800@efele.net>
	<4AC05CD8.3000102@gmx.eu>	<1254125786.4ac070dac6a42@imp.free.fr>
	<4AC0EA0B.5000908@gmx.eu>	<1254172021.4ac12575ea3cd@imp.free.fr>
	<4AC1D3ED.9070706@gmx.eu> <4AC1D5C7.1000107@loskot.net>
	<4AC1E52C.4050103@gmx.eu>
Message-ID: <4AC2563B.5010507@loskot.net>

Hermann Peifer wrote:
>> What does geos-config --version say?
> 
> Before, it said: 3.0.0rc1, I now upgraded to 3.1.1
> 
> The upgrade improved the situation somewhat: "ERROR 6: GEOS support not
> enabled." is gone now.

Good.

> However, ogr2ogr -wrapdateline -t_srs EPSG:4326
> ... results now into:
> 
> ERROR 1: TopologyException: found non-noded intersection between 268.426
> 48.093, 268.537 48.0578 and 269.967 48.0697, 237.581 48.0657 268.5 48.0695
> ERROR 1: TopologyException: found non-noded intersection between 268.426
> 48.093, 268.537 48.0578 and 269.967 48.0697, 237.581 48.0657 268.5 48.0695
> Segmentation fault

I can only confirm that this error comes from GEOS library and
usually indicates invalid data

http://trac.osgeo.org/geos/ticket/155
http://trac.osgeo.org/geos/ticket/253
http://trac.osgeo.org/geos/ticket/275

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From warmerdam at pobox.com  Tue Sep 29 15:50:49 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep 29 15:50:51 2009
Subject: [gdal-dev] Re: Motion: Commit access for Harsh Govind
In-Reply-To: <4A9ECDCD.8040903@pobox.com>
References: <4A9ECDCD.8040903@pobox.com>
Message-ID: <4AC26519.2020606@pobox.com>

Frank Warmerdam wrote:
> Motion: Extent commit access to Harsh Govind.

Folks,

Boy, I'm terrible at following up on motions.  We need some sort of
motion-reminder-bot.

I declare this motion passed with support from EvenR, TamasS, HowardB,
DanielM, and FrankW.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Sep 29 15:54:19 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep 29 15:54:19 2009
Subject: [gdal-dev] Re: Motion: Extend Maintenance Contract
In-Reply-To: <4AB6F0B4.5030307@pobox.com>
References: <4AB6F0B4.5030307@pobox.com>
Message-ID: <4AC265EB.4040205@pobox.com>

Frank Warmerdam wrote:
> Folks,
> 
> Motion: Extend Chaitanya's maintenance contract to December 31st.

Folks,

I declare this motion passed with support from EvenR, DanielM, TamasS,
HowardB and FrankW.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Sep 29 15:56:10 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Sep 29 15:56:11 2009
Subject: =?ISO-8859-1?Q?Re=3A_=5Bgdal-dev=5D_Motion=3A_Commit_Acc?=
	=?ISO-8859-1?Q?ess_for_Jorge_Ar=E9valo?=
In-Reply-To: <1253983500.4abe450cf21e1@imp.free.fr>
References: <f3b73b7d0909251401j62a3ebhdb727daedc4f55f@mail.gmail.com>
	<1253983500.4abe450cf21e1@imp.free.fr>
Message-ID: <4AC2665A.4030101@pobox.com>


>> Dear PSC,
>>
>> I would like to nominate Jorge Ar?valo for SVN commit access provided he
>> agrees with RFC 3.

Folks,

I declare Tamas' motion passed with support from TamasS, HowardB, FrankW
and EvenR.

OK, that should be the last oustanding motion for the month.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jorge.arevalo at gmail.com  Tue Sep 29 17:08:54 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Tue Sep 29 17:09:19 2009
Subject: =?UTF-8?Q?Re=3A_=5Bgdal=2Ddev=5D_Motion=3A_Commit_Access_for_Jorge_Ar=C3=A9v?=
	=?UTF-8?Q?alo?=
In-Reply-To: <4AC2665A.4030101@pobox.com>
References: <f3b73b7d0909251401j62a3ebhdb727daedc4f55f@mail.gmail.com> 
	<1253983500.4abe450cf21e1@imp.free.fr> <4AC2665A.4030101@pobox.com>
Message-ID: <cb4457700909291408r3f63650eyce5af98b3d256c58@mail.gmail.com>

On Tue, Sep 29, 2009 at 9:56 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
>>> Dear PSC,
>>>
>>> I would like to nominate Jorge Ar?valo for SVN commit access provided he
>>> agrees with RFC 3.
>
> Folks,
>
> I declare Tamas' motion passed with support from TamasS, HowardB, FrankW
> and EvenR.
>
> OK, that should be the last oustanding motion for the month.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Hello,

I am honored that you all have chosen me to be an official GDAL
commiter. I'll do my best to be at the expected level.

And of course, many thanks for your guide and help.

Best regards,
Jorge
From even.rouault at mines-paris.org  Tue Sep 29 17:43:51 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Sep 29 17:43:53 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4AC2563B.5010507@loskot.net>
References: <4ABFC35F.9050800@efele.net> <4AC05CD8.3000102@gmx.eu>
	<1254125786.4ac070dac6a42@imp.free.fr> <4AC0EA0B.5000908@gmx.eu>
	<1254172021.4ac12575ea3cd@imp.free.fr>
	<4AC1D3ED.9070706@gmx.eu> <4AC1D5C7.1000107@loskot.net>
	<4AC1E52C.4050103@gmx.eu> <4AC2563B.5010507@loskot.net>
Message-ID: <1254260631.4ac27f972191d@imp.free.fr>

Selon Mateusz Loskot <mateusz@loskot.net>:

The output message doesn't enable us to know where the crash occurs : in GEOS or
in GDAL. If it was in GDAL, I've tried in r17712 + r17713 to be more robust if
both intersections are NULL and hopefully avoid it. No warranty, I couldn't
reproduce your precise issue. If it still persists, attaching a debugger and
reporting the stack trace when it segfaults might be helpful.

> Hermann Peifer wrote:
> >> What does geos-config --version say?
> >
> > Before, it said: 3.0.0rc1, I now upgraded to 3.1.1
> >
> > The upgrade improved the situation somewhat: "ERROR 6: GEOS support not
> > enabled." is gone now.
>
> Good.
>
> > However, ogr2ogr -wrapdateline -t_srs EPSG:4326
> > ... results now into:
> >
> > ERROR 1: TopologyException: found non-noded intersection between 268.426
> > 48.093, 268.537 48.0578 and 269.967 48.0697, 237.581 48.0657 268.5 48.0695
> > ERROR 1: TopologyException: found non-noded intersection between 268.426
> > 48.093, 268.537 48.0578 and 269.967 48.0697, 237.581 48.0657 268.5 48.0695
> > Segmentation fault
>
> I can only confirm that this error comes from GEOS library and
> usually indicates invalid data
>
> http://trac.osgeo.org/geos/ticket/155
> http://trac.osgeo.org/geos/ticket/253
> http://trac.osgeo.org/geos/ticket/275
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> Charter Member of OSGeo, http://osgeo.org
>


From mateusz at loskot.net  Tue Sep 29 18:24:34 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Sep 29 18:24:43 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <1254260631.4ac27f972191d@imp.free.fr>
References: <4ABFC35F.9050800@efele.net> <4AC05CD8.3000102@gmx.eu>
	<1254125786.4ac070dac6a42@imp.free.fr> <4AC0EA0B.5000908@gmx.eu>
	<1254172021.4ac12575ea3cd@imp.free.fr>
	<4AC1D3ED.9070706@gmx.eu> <4AC1D5C7.1000107@loskot.net>
	<4AC1E52C.4050103@gmx.eu> <4AC2563B.5010507@loskot.net>
	<1254260631.4ac27f972191d@imp.free.fr>
Message-ID: <4AC28922.6000401@loskot.net>

Even Rouault wrote:
> Selon Mateusz Loskot <mateusz@loskot.net>:
> 
> The output message doesn't enable us to know where the crash occurs : in GEOS or
> in GDAL.

Yes, it doesn't, of course.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From simon at spatialdbadvisor.com  Tue Sep 29 20:57:39 2009
From: simon at spatialdbadvisor.com (Simon Greener)
Date: Tue Sep 29 21:19:57 2009
Subject: [gdal-dev] ogr2ogr MapInfo Tab + Styling
Message-ID: <op.u01oydgyzbn0g9@spdba>

Folks,

I am using ogr2ogr I would like to know how to use it to write styling information to the MapInfo TAB files it generates.

Scenario: I am trying to create a styled MapInfo tab file from an Oracle Spatial database. I don't have the MAPINFO.MAPINFO_MAPCATALOG tables created or populated. But I can create views which have any column I like such as MI_STYLE or OGR_STYLE with the appropriate MapInfo styling (PEN etc) or OGR styling information. For example, I have done this:

drop   table australian_cities;
create table australian_cities (
   abbr      varchar2(10),
   city_name varchar2(100),
   geom      mdsys.sdo_geometry
);

insert into australian_cities values('ADL','Adelaide',mdsys.sdo_geometry('POINT(138.60 -34.93)',4326));
insert into australian_cities values('BNE','Brisbane',mdsys.sdo_geometry('POINT(153.02 -27.47)',4326));
insert into australian_cities values('CBR','Canberra',mdsys.sdo_geometry('POINT(149.13 -35.30)',4326));
insert into australian_cities values('DRW','Darwin',mdsys.sdo_geometry('POINT(130.83 -12.45)',4326));
insert into australian_cities values('HBA','Hobart',mdsys.sdo_geometry('POINT(147.32 -42.88)',4326));
insert into australian_cities values('MEL','Melbourne',mdsys.sdo_geometry('POINT(144.97 -37.82)',4326));
insert into australian_cities values('PER','Perth',mdsys.sdo_geometry('POINT(115.85 -31.95)',4326));
insert into australian_cities values('SYD','Sydney',mdsys.sdo_geometry('POINT(151.20 -33.87)',4326));
commit;

select ac.geom.Get_WKB() from australian_cities ac;

create or replace view vw_australian_cities
as
select rownum as rid,
        a.abbr as abbreviation,
        a.city_name,
        a.geom.Get_WKB() as geom,
        CAST('SYMBOL(c:#00FF00,id:''points.sym-45,ogr-sym-' || to_char(rownum + 6) || ''')' as varchar2(255)) as OGR_STYLE
   from australian_cities a;

select * from vw_australian_cities;

Notice that I have create a view an OGR_STYLE column that is varchar(255) as in "2.9 Using OGR SQL to transfer the style between the data sources"
in http://www.gdal.org/ogr/ogr_feature_style.html

Yet when I use ogr2ogr to create the tab file the per-row styling is ignored.

Anyone able to help me?

I would be happy to start with ogr2ogr being able to write a dataset level (not per row) style for all records in the tab file and build up.

regards
Simon
-- 
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
Email: simon@spatialdbadvisor.com
Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
From sunxingyi613 at 163.com  Tue Sep 29 21:18:48 2009
From: sunxingyi613 at 163.com (sunxingyi613)
Date: Tue Sep 29 21:34:03 2009
Subject: [gdal-dev] Questions about S-57 Translation in OGR
Message-ID: <11655548.477041254273528682.JavaMail.coremail@bj163app121.163.com>

Dear GDAL,
   Nowdays,I'm studying on S-57.When I translate S-57 data(*.000) into access or feature of mysql 5.1 using OGR,the attribute :DRVAL1,DRVAL2 of object "Depth area" lost.And these attributes are  important on displaying the sea area.I tried to set the environment variable of OGR_S57OPTIONS(http://www.gdal.org/ogr/drv_s57.html),but it didn't work.I don't know why.Do you know the reason? May you please tell me how to get the attribute :DRVAL1,DRVAL2 after translate data of *.000 into access?
    Thank you very much,I hope to hear from you soon.
                                                                                                                            Yours sinerely,
                                                                                                                            Xingyi,sun
                                                                                                                            09,29,2009





"中国制造",讲述中国60年往事


网易邮箱用户购物独享现金返还
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090930/f6191177/attachment-0001.html
From simon at spatialdbadvisor.com  Tue Sep 29 23:16:14 2009
From: simon at spatialdbadvisor.com (Simon Greener)
Date: Tue Sep 29 23:17:31 2009
Subject: [gdal-dev] ogr2ogr MapInfo Tab + Styling
In-Reply-To: <F32AFE55E96AE743AC9BAB63C69D812D20333C@regisdc01.perth.regis.local>
References: <op.u01oydgyzbn0g9@spdba>
	<F32AFE55E96AE743AC9BAB63C69D812D20333C@regisdc01.perth.regis.local>
Message-ID: <op.u01vdcb1zbn0g9@spdba>

Dale,

Thanks for taking the time to respond.

> Try this symbol definition. I vaguely remember having this issue and I used this symbol to fix it.
>
> 'SYMBOL(a:0,c:#ff0000,s:6pt,id:"mapinfo-sym-34.ogr-sym-4")'
>
> so
>
> create or replace view vw_australian_cities
> as
> select rownum as rid,
>         a.abbr as abbreviation,
>         a.city_name,
>         a.geom.Get_WKB() as geom,
>         CAST('SYMBOL(a:0,c:#ff0000,s:6pt,id:"mapinfo-sym-34.ogr-sym-4")' as varchar2(255)) as OGR_STYLE
>    from australian_cities a;

I tried this but it didn't work. I also tried putting a comma ',' instead of a full stop '.'  between the mapinfo-sym34 and ogr-sym-4 but that didn't work either.

If you can remember more clearly what you did to get it work I would appreciate it.

regards
SImon
-- 
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
   Email: simon@spatialdbadvisor.com
   Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
From dharris at regisresources.com  Tue Sep 29 23:26:52 2009
From: dharris at regisresources.com (Dale Harris)
Date: Tue Sep 29 23:26:56 2009
Subject: [gdal-dev] ogr2ogr MapInfo Tab + Styling
In-Reply-To: <op.u01vdcb1zbn0g9@spdba>
References: <op.u01oydgyzbn0g9@spdba>
	<F32AFE55E96AE743AC9BAB63C69D812D20333C@regisdc01.perth.regis.local>
	<op.u01vdcb1zbn0g9@spdba>
Message-ID: <F32AFE55E96AE743AC9BAB63C69D812D203357@regisdc01.perth.regis.local>

What ogr2ogr command are you using?

Cheers,

Dale Harris
GIS Manager

Regis Resources
Ground Floor 
62 Colin Street
West Perth WA 6005
Direct Line (08) 9442 2207
Fax: (08) 9442 2290
Email: dharris@regisresources.com


-----Original Message-----
From: Simon Greener [mailto:simon@spatialdbadvisor.com] 
Sent: Wednesday, 30 September 2009 11:16 AM
To: Dale Harris; gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] ogr2ogr MapInfo Tab + Styling

Dale,

Thanks for taking the time to respond.

> Try this symbol definition. I vaguely remember having this issue and I used this symbol to fix it.
>
> 'SYMBOL(a:0,c:#ff0000,s:6pt,id:"mapinfo-sym-34.ogr-sym-4")'
>
> so
>
> create or replace view vw_australian_cities
> as
> select rownum as rid,
>         a.abbr as abbreviation,
>         a.city_name,
>         a.geom.Get_WKB() as geom,
>         CAST('SYMBOL(a:0,c:#ff0000,s:6pt,id:"mapinfo-sym-34.ogr-sym-4")' as varchar2(255)) as OGR_STYLE
>    from australian_cities a;

I tried this but it didn't work. I also tried putting a comma ',' instead of a full stop '.'  between the mapinfo-sym34 and ogr-sym-4 but that didn't work either.

If you can remember more clearly what you did to get it work I would appreciate it.

regards
SImon
-- 
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
   Email: simon@spatialdbadvisor.com
   Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
This message may contain privileged and confidential information. If you are not the intended recipient of this message, you are notified that any use, dissemination, distribution or reproduction of this message is strictly prohibited. If you receive this message in error, please notify Regis Resources Limited immediately. 
From peifer at gmx.eu  Wed Sep 30 02:46:22 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed Sep 30 02:46:25 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <1254260631.4ac27f972191d@imp.free.fr>
References: <4ABFC35F.9050800@efele.net>
	<4AC05CD8.3000102@gmx.eu>	<1254125786.4ac070dac6a42@imp.free.fr>
	<4AC0EA0B.5000908@gmx.eu>	<1254172021.4ac12575ea3cd@imp.free.fr>	<4AC1D3ED.9070706@gmx.eu>
	<4AC1D5C7.1000107@loskot.net>	<4AC1E52C.4050103@gmx.eu>
	<4AC2563B.5010507@loskot.net>
	<1254260631.4ac27f972191d@imp.free.fr>
Message-ID: <4AC2FEBE.9050907@gmx.eu>

Even Rouault wrote:
> Selon Mateusz Loskot <mateusz@loskot.net>:
> 
> The output message doesn't enable us to know where the crash occurs : in GEOS or
> in GDAL. If it was in GDAL, I've tried in r17712 + r17713 to be more robust if
> both intersections are NULL and hopefully avoid it. No warranty, I couldn't
> reproduce your precise issue. If it still persists, attaching a debugger and
> reporting the stack trace when it segfaults might be helpful.
> 

Unfortunately,  r17712 + r17713 did not make a difference. I uploaded my 
shapefile to http://tinyurl.com/yjpakj2

Hermann
From bontepaarden at gmail.com  Wed Sep 30 03:07:32 2009
From: bontepaarden at gmail.com (Paul Meems)
Date: Wed Sep 30 03:07:36 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
Message-ID: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>

Hi all,

We're using GDAL and libecwj2.dll in our application: MapWindow GIS (
www.mapwindow.org)
I'm trying to compile a Win-64Bit version of MapWindow. To do that I need to
compile all supporting libraries to Win-64Bit version as well.
GDAL is compiling great, except when using libecwj2.dll. Because I can 't
compile the libecwj2 library for Win-64Bit.
In some of the header files is stated when compiling to a 64-Bit version
raise an error.

Of course I've been looking for a solution using Google and such but haven't
found any.

Does anybody have compiled the libecwj2 library for Win-64Bit and willing to
share either the steps to reproduce or send me the lib file?

BTW. I'm compiling using VS2008sp1 Pro

Thanks,

Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090930/cc10dbe2/attachment.html
From craig.leat at gmail.com  Wed Sep 30 04:56:04 2009
From: craig.leat at gmail.com (Craig Leat)
Date: Wed Sep 30 04:56:07 2009
Subject: [gdal-dev] Performance issues with gdal vrt
Message-ID: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>

Hi

I am having performance issues with gdal raster vrt files and since I
am not experienced with this format I am hoping someone can offer some
advice. I built the vrt files from a collection of MrSid images using
gdalbuildvrt. I then used sed to add the <NODATA> tag and changed from
<SimpleSource> to <ComplexSource>. I am using QGIS to view the data
and working with the MrSid files directly is fast, however working
with the same collection via the vrt file is VERY slow. The MrSid
files contain overviews and I wish to know if there is anything I need
to do to make these overviews available to the vrt driver? I have
noticed that my CPU usage is around 90% while QGIS tries to load the
vrt and this seems strange to me for a task that I expect to be disk
intensive.

My system is Ubuntu 9.04, gdal 1.6.1 and QGIS trunk r11732.

Many thanks,

Craig
From mateusz at loskot.net  Wed Sep 30 05:14:10 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Sep 30 05:11:38 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
Message-ID: <4AC32162.505@loskot.net>

Paul Meems wrote:
> GDAL is compiling great, except when using libecwj2.dll. Because I can 
> 't compile the libecwj2 library for Win-64Bit.
> In some of the header files is stated when compiling to a 64-Bit version 
> raise an error.

What errors?

It's said to say, but code of libecwj is well-known [1] of its poor
quality and making troubles with recent compilers. Patches have been 
ignored, so we have to deal with what we are given.

http://lists.osgeo.org/pipermail/gdal-dev/2009-July/021393.html

> Does anybody have compiled the libecwj2 library for Win-64Bit and 
> willing to share either the steps to reproduce or send me the lib file?

I believe I've compiled it using the same toolset you use.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From mateusz at loskot.net  Wed Sep 30 05:33:57 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Sep 30 05:31:25 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <870e056a0909300222p3afc01e5vcdcbe17780132a08@mail.gmail.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>	
	<4AC32162.505@loskot.net>
	<870e056a0909300222p3afc01e5vcdcbe17780132a08@mail.gmail.com>
Message-ID: <4AC32605.2020001@loskot.net>

Paul Meems wrote:
> Mateusz,
> 
> I'm getting error in NCSTypes.h #error :  unknown machine type will
> require custom 64 bit variables

It looks like there may be something misconfigured, build configuration,
and "#ifdef WIN32" is not being caught (WIN32 not defined), so it skips
to unknown platform clause.

> I'm not at my 64Bit build machine, so if you need more info please
> let me know and  I can send it you tonight.

Generally, when reporting a problem it's a good idea to provide
basic details about compiler and compilation procedure (command, flags).

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From mateusz at loskot.net  Wed Sep 30 06:10:12 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Sep 30 06:07:40 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <870e056a0909300254i553b6065t2b57665bab522e4@mail.gmail.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>	
	<4AC32162.505@loskot.net>	
	<870e056a0909300222p3afc01e5vcdcbe17780132a08@mail.gmail.com>	
	<4AC32605.2020001@loskot.net>
	<870e056a0909300254i553b6065t2b57665bab522e4@mail.gmail.com>
Message-ID: <4AC32E84.6030209@loskot.net>

Paul Meems wrote:
> Mateusz,
> 
> I'll get the compiler and compilation procedure (command, flags) tonight 
> and if needed I'll send them to the list.
> I can set WIN32 but don't I need WIN64?

No, you don't as it's always defined:

Windows 32-bit: WIN32
Windows 64-bit: WIN32 && WIN64

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From szekerest at gmail.com  Wed Sep 30 07:48:09 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Sep 30 07:48:12 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
Message-ID: <f3b73b7d0909300448s5b4571abjd4f4bf2e31078a2a@mail.gmail.com>

Paul,

You can download any of the -dev packages containing the required libs
to compile against libecw at this location:

http://vbkto.dyndns.org/sdk/

Best regards,

Tamas



2009/9/30 Paul Meems <bontepaarden@gmail.com>:
> Hi all,
>
> We're using GDAL and libecwj2.dll in our application: MapWindow GIS
> (www.mapwindow.org)
> I'm trying to compile a Win-64Bit version of MapWindow. To do that I need to
> compile all supporting libraries to Win-64Bit version as well.
> GDAL is compiling great, except when using libecwj2.dll. Because I can 't
> compile the libecwj2 library for Win-64Bit.
> In some of the header files is stated when compiling to a 64-Bit version
> raise an error.
>
> Of course I've been looking for a solution using Google and such but haven't
> found any.
>
> Does anybody have compiled the libecwj2 library for Win-64Bit and willing to
> share either the steps to reproduce or send me the lib file?
>
> BTW. I'm compiling using VS2008sp1 Pro
>
> Thanks,
>
> Paul
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From even.rouault at mines-paris.org  Wed Sep 30 07:52:42 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Sep 30 07:52:44 2009
Subject: [gdal-dev] Performance issues with gdal vrt
In-Reply-To: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>
References: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>
Message-ID: <1254311562.4ac3468a46953@imp.free.fr>

Selon Craig Leat <craig.leat@gmail.com>:

Craig,

I suppose you are speaking about bad performance when not viewing the VRT at its
full resolution ? (at full resolution, the overhead of VRT should be small
hopefully)

I'm afraid there's little you can do to improve the situation in a simple way.
As you noticed, the VRT driver currently doesn't expose any overviews to the
caller. So if you request for example subsampling by a factor of 1/2 to the VRT,
it will go to fetch full resolution MrSID first, before being subsampled to 1/2.
So basically the existing overviews for each tile inside the VRT aren't used.

As other drivers, the VRT driver is capable of using external overviews
(normally in GeoTIFF format, but that's not required...), so here's a possible
workaround, but that's probably not very practical to use unless you use some
scripting to do it.

Let's suppose I've a file, test.tif, with a overview of factor 1/2
1) create the VRT : gdalbuildvrt test.vrt test.tif
2) copy test.vrt as test.vrt.ovr
3) edit test.vrt.ovr to divide by 2 the rasterXSize and rasterYSize of the
<VRTDataset> element, as well as the values of the attributes xOff, yOff, xSize,
ySize of each <DstRect> element

If you need overview of factor 1/4, copy test.vrt.ovr as test.vrt.ovr.ovr and
repeat step 3)... A bit of cheating, but seems to work here.

The real solution would be to improve the VRT driver to do something similar
internally and/or gdalbuildvrt.

Best regards,

Even

> Hi
>
> I am having performance issues with gdal raster vrt files and since I
> am not experienced with this format I am hoping someone can offer some
> advice. I built the vrt files from a collection of MrSid images using
> gdalbuildvrt. I then used sed to add the <NODATA> tag and changed from
> <SimpleSource> to <ComplexSource>. I am using QGIS to view the data
> and working with the MrSid files directly is fast, however working
> with the same collection via the vrt file is VERY slow. The MrSid
> files contain overviews and I wish to know if there is anything I need
> to do to make these overviews available to the vrt driver? I have
> noticed that my CPU usage is around 90% while QGIS tries to load the
> vrt and this seems strange to me for a task that I expect to be disk
> intensive.
>
> My system is Ubuntu 9.04, gdal 1.6.1 and QGIS trunk r11732.
>
> Many thanks,
>
> Craig
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From alobolistas at gmail.com  Wed Sep 30 08:28:50 2009
From: alobolistas at gmail.com (Agustin Lobo)
Date: Wed Sep 30 08:28:57 2009
Subject: [gdal-dev] Referencing GDAL in an article
Message-ID: <4AC34F02.7040604@gmail.com>

Which is the appropriate reference to GDAL
for being included in an article?

Thanks

Agus
From craig.leat at gmail.com  Wed Sep 30 08:50:09 2009
From: craig.leat at gmail.com (Craig Leat)
Date: Wed Sep 30 08:50:12 2009
Subject: [gdal-dev] Performance issues with gdal vrt
In-Reply-To: <1254311562.4ac3468a46953@imp.free.fr>
References: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>
	<1254311562.4ac3468a46953@imp.free.fr>
Message-ID: <1fef7d9b0909300550v59d196a4ic78a1a3708603e33@mail.gmail.com>

Hi Even

Thanks for your valuable comments. If I understand you correctly I can
either access the overviews in the tiles by hand crafting vrt files
for each overview level or sacrifice disk space and generate external
overviews using your gdalwarp trick [1].

A comment from Frank [2] back in 2005 confuses me. He mentioned
VRTSourcedRasterBand in the context of overviews in the tiles, but I
only know of VRTRasterBand [3].

Thank you for any further comments,

Craig

[1] http://lists.osgeo.org/pipermail/gdal-dev/2009-May/020640.html
[2] http://lists.osgeo.org/pipermail/gdal-dev/2005-November/007066.html
[3] http://www.gdal.org/gdal_vrttut.html
From warmerdam at pobox.com  Wed Sep 30 09:02:24 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Sep 30 09:02:23 2009
Subject: [gdal-dev] Performance issues with gdal vrt
In-Reply-To: <1254311562.4ac3468a46953@imp.free.fr>
References: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>
	<1254311562.4ac3468a46953@imp.free.fr>
Message-ID: <4AC356E0.60206@pobox.com>

Even Rouault wrote:
> Selon Craig Leat <craig.leat@gmail.com>:
> 
> Craig,
> 
> I suppose you are speaking about bad performance when not viewing the VRT at its
> full resolution ? (at full resolution, the overhead of VRT should be small
> hopefully)
> 
> I'm afraid there's little you can do to improve the situation in a simple way.
> As you noticed, the VRT driver currently doesn't expose any overviews to the
> caller. So if you request for example subsampling by a factor of 1/2 to the VRT,
> it will go to fetch full resolution MrSID first, before being subsampled to 1/2.
> So basically the existing overviews for each tile inside the VRT aren't used.

Craig / Even,

I think this is slightly inaccurate.  The VRT driver will not expose overviews
to the application (via GetOverviewCount()), but a downsampling RasterIO()
request to the VRT driver is in turned passed on to the underlying driver as
a downsampling RasterIO() request, and should take advantage of the overviews
available in the underlying driver at that point.

I am not sure why the QGIS performance on the VRT is poor.  It might be that
QGIS makes requests in an odd way (ie. via IReadBlock instead of IRasterIO) or
that you are starting with a view with several mrsid files in view.  But
I don't think the problem is just that the VRT driver hides the overviews.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Wed Sep 30 09:57:30 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Sep 30 09:57:33 2009
Subject: [gdal-dev] Performance issues with gdal vrt
In-Reply-To: <4AC356E0.60206@pobox.com>
References: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>
	<1254311562.4ac3468a46953@imp.free.fr> <4AC356E0.60206@pobox.com>
Message-ID: <1254319050.4ac363caf1391@imp.free.fr>

Selon Frank Warmerdam <warmerdam@pobox.com>:

Craig,

Sorry for giving you wrong directions. Frank is obviously right. I somehow got
confused by the fact that the VRT driver doesn't expose overviews, but its
implementation of RasterIO() can indeed use overviews of the underlying rasters.
I could check it with OpenEV by setting to 0 an entire overview level of an
underlying raster.

As far as VRTSourcedRasterBand is concerned, VRTSourcedRasterBand is a subclass
(in C++ terms) of VRTRasterBand. VRTRasterBand has 4 subclasses :
VRTSourcedRasterBand, VRTDerivedRasterBand, VRTRawRasterBand,
VRTWarpedRasterBand.

In the XML file, this is specified by the subClass attribute of the
VRTRasterBand element. For example : <VRTRasterBand dataType="Float32" band="1"
subClass="VRTDerivedRasterBand">. If the subclass attribute is not specified,
its default value is VRTSourcedRasterBand.


> Craig / Even,
>
> I think this is slightly inaccurate.  The VRT driver will not expose
> overviews
> to the application (via GetOverviewCount()), but a downsampling RasterIO()
> request to the VRT driver is in turned passed on to the underlying driver as
> a downsampling RasterIO() request, and should take advantage of the overviews
> available in the underlying driver at that point.
>
> I am not sure why the QGIS performance on the VRT is poor.  It might be that
> QGIS makes requests in an odd way (ie. via IReadBlock instead of IRasterIO)
> or
> that you are starting with a view with several mrsid files in view.  But
> I don't think the problem is just that the VRT driver hides the overviews.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


From n.e.kendall at gmail.com  Wed Sep 30 09:57:49 2009
From: n.e.kendall at gmail.com (Nicholas Efremov-Kendall)
Date: Wed Sep 30 09:57:53 2009
Subject: [gdal-dev] Re: Preserving Character Encoding
In-Reply-To: <4AC233E3.6000105@gmx.eu>
References: <33fd44f90909290145t69f8c326j8619053ebf607c3f@mail.gmail.com>
	<4AC1FD56.5010503@gmx.eu>
	<33fd44f90909290557u6f4ace8eg7b0c4409c7efec7a@mail.gmail.com>
	<4AC233E3.6000105@gmx.eu>
Message-ID: <33fd44f90909300657l603ec13dlf6cec6fc3cf0623f@mail.gmail.com>

Thank you Hermann!

On Tue, Sep 29, 2009 at 7:20 PM, Hermann Peifer <peifer@gmx.eu> wrote:

> Nicholas Efremov-Kendall wrote:
>
>> Hi all,
>>
>> Just a quick question: This isn't a huge file, three entities, would it
>> work to just change the characters in a text editor?
>>
>>
> Yes. Just make sure that your text editor generates UTF-8 encoded text.
>
> Hermann
>



-- 
Nicholas Efremov-Kendall
Fulbright Student 2009-2010, Ukraine
nefremov@artsci.wustl.edu
c/o Halyna Yerko
Balzaka 92a, Kv 27
02232
Kyiv, Ukraine
(mob) +380963576524
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090930/110bb820/attachment.html
From craig.leat at gmail.com  Wed Sep 30 10:25:58 2009
From: craig.leat at gmail.com (Craig Leat)
Date: Wed Sep 30 10:26:02 2009
Subject: [gdal-dev] Performance issues with gdal vrt
In-Reply-To: <1254319050.4ac363caf1391@imp.free.fr>
References: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>
	<1254311562.4ac3468a46953@imp.free.fr> <4AC356E0.60206@pobox.com>
	<1254319050.4ac363caf1391@imp.free.fr>
Message-ID: <1fef7d9b0909300725n37d5f1au4a806f3e6a27928@mail.gmail.com>

Hi Frank and Even

I need to investigate further, but I am suspecting that this issue may
be specific to the MrSid format. My tests have been with a collection
of 24 sid images. I just went back to an older project where I have
188 tiles in GeoTiff format (and similar base resolution) and QGIS
works marvellously with this vrt!

Regards

Craig
From gregcoats at mac.com  Wed Sep 30 10:45:13 2009
From: gregcoats at mac.com (Greg Coats)
Date: Wed Sep 30 10:45:25 2009
Subject: [gdal-dev] Performance issues with gdal vrt
In-Reply-To: <1254311562.4ac3468a46953@imp.free.fr>
References: <1fef7d9b0909300156r7c26da31x3b681ba47e167166@mail.gmail.com>
	<1254311562.4ac3468a46953@imp.free.fr>
Message-ID: <CB86A6E0-A02D-49F3-9A87-412285C677D4@mac.com>

Because JPEG2000 images inherently contain a pyramid of reduced  
resolution images, the Kakadu Software demo application kdu_expand,  
that is available for free for Win32, Mac OS X, Linux, Solaris,  
provides a very fast way to create reduced resolution overview images.  
For me, the kdu_expand -reduce operations typically take less than one  
second. Greg

kdu_compress -v
This is Kakadu's "kdu_compress" application.
     Compiled against the Kakadu core system, version v6.2.1.1
     Current core system version is v6.2.1.1
kdu_compress -i 18stj940125.tif -o 18stj940125.jp2 Creversible=yes

kdu_expand -v
This is Kakadu's "kdu_expand" application.
     Compiled against the Kakadu core system, version v6.2.1.1
     Current core system version is v6.2.1.1
kdu_expand   -i 18stj940125.jp2 -o 18stj940125_reduce1.tif -reduce 1
kdu_expand   -i 18stj940125.jp2 -o 18stj940125_reduce2.tif -reduce 2
kdu_expand   -i 18stj940125.jp2 -o 18stj940125_reduce3.tif -reduce 3
kdu_expand   -i 18stj940125.jp2 -o 18stj940125_reduce4.tif -reduce 4

On Sep 30, 2009, at 7:52 AM, Even Rouault wrote:

> As other drivers, the VRT driver is capable of using external  
> overviews
> (normally in GeoTIFF format, but that's not required...), so here's  
> a possible
> workaround, but that's probably not very practical to use unless you  
> use some
> scripting to do it.
>
> Let's suppose I've a file, test.tif, with a overview of factor 1/2
> 1) create the VRT : gdalbuildvrt test.vrt test.tif
> 2) copy test.vrt as test.vrt.ovr
> 3) edit test.vrt.ovr to divide by 2 the rasterXSize and rasterYSize  
> of the
> <VRTDataset> element, as well as the values of the attributes xOff,  
> yOff, xSize,
> ySize of each <DstRect> element
>
> If you need overview of factor 1/4, copy test.vrt.ovr as  
> test.vrt.ovr.ovr and
> repeat step 3)... A bit of cheating, but seems to work here.

From mike at globalmapper.com  Wed Sep 30 13:04:26 2009
From: mike at globalmapper.com (Michael Childs)
Date: Wed Sep 30 14:03:06 2009
Subject: [gdal-dev] Annotations from S-57 Files
Message-ID: <18aa01ca41f0$12891290$379b37b0$@com>

I am using the S57Reader class to read in S-57 data files and a user has
reported that while applications like SeeMyEnc show annotation points with
text, I cannot seem to find any returned features that include those
annotations. There is a sample data file at
http://www.globalmapper.com/Incoming/1I5LQQJ4.zip which has an annotation
that is not coming in as a point feature (see screenshot at
http://www.globalmapper.com/Incoming/SeeMyENC_DuckLake.jpg).

 

Is there some special way to get annotations out of the S57Reader that I'm
not seeing?

 

Thanks,

 

Mike

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090930/7ffd2c37/attachment.html
From even.rouault at mines-paris.org  Wed Sep 30 14:25:32 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Sep 30 14:25:35 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <4AC2FEBE.9050907@gmx.eu>
References: <4ABFC35F.9050800@efele.net> <4AC05CD8.3000102@gmx.eu>
	<1254125786.4ac070dac6a42@imp.free.fr> <4AC0EA0B.5000908@gmx.eu>
	<1254172021.4ac12575ea3cd@imp.free.fr>
	<4AC1D3ED.9070706@gmx.eu> <4AC1D5C7.1000107@loskot.net>
	<4AC1E52C.4050103@gmx.eu> <4AC2563B.5010507@loskot.net>
	<1254260631.4ac27f972191d@imp.free.fr> <4AC2FEBE.9050907@gmx.eu>
Message-ID: <1254335132.4ac3a29c862bc@imp.free.fr>

Selon Hermann Peifer <peifer@gmx.eu>:

The crash was due to a bug in my code in fact. I've also reworked the algorithm
to operate on single polygons instead of multipolygons. That seems to be enough
to avoid triggering the GEOS topology exception in the countries.shp case. So if
you apply r17716 + r17717, it should work ok for your test case.

> Even Rouault wrote:
> > Selon Mateusz Loskot <mateusz@loskot.net>:
> >
> > The output message doesn't enable us to know where the crash occurs : in
> GEOS or
> > in GDAL. If it was in GDAL, I've tried in r17712 + r17713 to be more robust
> if
> > both intersections are NULL and hopefully avoid it. No warranty, I couldn't
> > reproduce your precise issue. If it still persists, attaching a debugger
> and
> > reporting the stack trace when it segfaults might be helpful.
> >
>
> Unfortunately,  r17712 + r17713 did not make a difference. I uploaded my
> shapefile to http://tinyurl.com/yjpakj2
>
> Hermann
>


From tspradley at snoogems.com  Wed Sep 30 14:40:51 2009
From: tspradley at snoogems.com (Ted Spradley)
Date: Wed Sep 30 14:40:52 2009
Subject: [Gdal-dev] ogr2ogr creation of internal object id (oid) column in
	pgsql table
Message-ID: <1254336051167-3744541.post@n2.nabble.com>


Hi,

I have used ogr2ogr to load data from shapefile countyp020.shp into
db=project1, following Tyler Mitchell's 'Web Mapping Illustrated'.  

> ogr2ogr -f "PostgreSQL" PG:dbname=project1 countyp020.shp

Tyler explains that: to optimize for Mapserver we can create an index on the
unique ID for the table.  If we use a simple DATA statement in a map file: 
DATA wkb_geometry from countyp020, Mapserver will use PostgreSQL's internal
object ID.  The oid column doesn't appear in the column listing for a table,
but we can use it in a SELECT statement.

I am assuming:

SELECT oid FROM countyp020 LIMIT 1;

should return one value for the column 'oid'.  Instead the return is:

ERROR:  column "oid" does not exist
LINE 1: SELECT oid FROM countyp020 LIMIT 1;
               ^

So, when preparing the table for performance, the CREATE INDEX statement
fails.

project1=# CREATE INDEX idx_countyp020 ON countyp020 (oid);
ERROR:  column "oid" does not exist

When the ogr2ogr command above is given, I am assuming that ogr2ogr creates
the SQL CREATE TABLE, and INSERT statements to hold the data from the
shapefile.  And PostgreSQL, then does the table creation.  Is the 'oid'
column created by default or do we somehow need to instruct ogr2ogr to add
'oid' as a column?

Thank you,
Ted S.



-- 
View this message in context: http://n2.nabble.com/ogr2ogr-creation-of-internal-object-id-oid-column-in-pgsql-table-tp3744541p3744541.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From neteler at osgeo.org  Wed Sep 30 14:50:36 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Sep 30 14:50:58 2009
Subject: [gdal-dev] Referencing GDAL in an article
In-Reply-To: <4AC34F02.7040604@gmail.com>
References: <4AC34F02.7040604@gmail.com>
Message-ID: <86782b610909301150t5a0f29cbj238c18e1842ce913@mail.gmail.com>

On Wed, Sep 30, 2009 at 2:28 PM, Agustin Lobo <alobolistas@gmail.com> wrote:
> Which is the appropriate reference to GDAL
> for being included in an article?

For citing GRASS GIS, we suggest a list of citations, see
http://grass.osgeo.org/download/index.php#citing

-> for example:
"GRASS Development Team, 2009. Geographic Resources Analysis Support
System (GRASS) Software, Version 6.4.0. http://grass.osgeo.org
"

So perhaps:
GDAL Development Team, 2009. Geospatial Data Abstraction Library
(GDAL) software library, Version 1.6.2. http://www.gdal.org/

Markus
From even.rouault at mines-paris.org  Wed Sep 30 15:03:02 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Sep 30 15:03:07 2009
Subject: [Gdal-dev] ogr2ogr creation of internal object id (oid) column in
	pgsql table
In-Reply-To: <1254336051167-3744541.post@n2.nabble.com>
References: <1254336051167-3744541.post@n2.nabble.com>
Message-ID: <1254337382.4ac3ab66a4685@imp.free.fr>

Selon Ted Spradley <tspradley@snoogems.com>:

When OGR creates a PG table, the name of the primary key is 'OGC_FID'. So, you
just have to replace 'oid' by 'OGC_FID' in your example.

>
> Hi,
>
> I have used ogr2ogr to load data from shapefile countyp020.shp into
> db=project1, following Tyler Mitchell's 'Web Mapping Illustrated'.
>
> > ogr2ogr -f "PostgreSQL" PG:dbname=project1 countyp020.shp
>
> Tyler explains that: to optimize for Mapserver we can create an index on the
> unique ID for the table.  If we use a simple DATA statement in a map file:
> DATA wkb_geometry from countyp020, Mapserver will use PostgreSQL's internal
> object ID.  The oid column doesn't appear in the column listing for a table,
> but we can use it in a SELECT statement.
>
> I am assuming:
>
> SELECT oid FROM countyp020 LIMIT 1;
>
> should return one value for the column 'oid'.  Instead the return is:
>
> ERROR:  column "oid" does not exist
> LINE 1: SELECT oid FROM countyp020 LIMIT 1;
>                ^
>
> So, when preparing the table for performance, the CREATE INDEX statement
> fails.
>
> project1=# CREATE INDEX idx_countyp020 ON countyp020 (oid);
> ERROR:  column "oid" does not exist
>
> When the ogr2ogr command above is given, I am assuming that ogr2ogr creates
> the SQL CREATE TABLE, and INSERT statements to hold the data from the
> shapefile.  And PostgreSQL, then does the table creation.  Is the 'oid'
> column created by default or do we somehow need to instruct ogr2ogr to add
> 'oid' as a column?
>
> Thank you,
> Ted S.
>
>
>
> --
> View this message in context:
>
http://n2.nabble.com/ogr2ogr-creation-of-internal-object-id-oid-column-in-pgsql-table-tp3744541p3744541.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From peifer at gmx.eu  Wed Sep 30 15:31:15 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed Sep 30 15:31:19 2009
Subject: [gdal-dev] Re: can ogr2ogr split polygons that cross 180 degree
	longitude
In-Reply-To: <1254335132.4ac3a29c862bc@imp.free.fr>
References: <4ABFC35F.9050800@efele.net>
	<4AC05CD8.3000102@gmx.eu>	<1254125786.4ac070dac6a42@imp.free.fr>
	<4AC0EA0B.5000908@gmx.eu>	<1254172021.4ac12575ea3cd@imp.free.fr>	<4AC1D3ED.9070706@gmx.eu>
	<4AC1D5C7.1000107@loskot.net>	<4AC1E52C.4050103@gmx.eu>
	<4AC2563B.5010507@loskot.net>	<1254260631.4ac27f972191d@imp.free.fr>
	<4AC2FEBE.9050907@gmx.eu> <1254335132.4ac3a29c862bc@imp.free.fr>
Message-ID: <4AC3B203.6010400@gmx.eu>

Even wrote:
> 
> The crash was due to a bug in my code in fact. I've also reworked the algorithm
> to operate on single polygons instead of multipolygons. That seems to be enough
> to avoid triggering the GEOS topology exception in the countries.shp case. So if
> you apply r17716 + r17717, it should work ok for your test case.
> 

Works fine now. Thanks for this ogr2ogr enhancement. 

Hermann
From tasmith3 at rockwellcollins.com  Wed Sep 30 17:31:32 2009
From: tasmith3 at rockwellcollins.com (tasmith3@rockwellcollins.com)
Date: Wed Sep 30 17:58:06 2009
Subject: [gdal-dev] Does everything have to be separated into bands?
Message-ID: <OF08801E5B.5F637B6C-ON87257641.00725658-87257641.00763E4A@rockwellcollins.com>

Hi there,

I am working on software that takes geospatial imagery (usually GeoTIFFs) 
and converts it into textures that are used in our rendering engine.  The 
application also takes terrain files and generates terrain geometry. 

When we process our imagery (RGB), we want to do so on a per pixel basis. 
This means that I don't want to deal with individual color channels, but 
rather the simple RGB buffer itself - much like what the tiff/geotiff 
library gives when calling TIFFReadEncodedTile or TIFFReadEncodedStrip for 
example.  We've only been using the tiff/geotiff libraries up till this 
point, but we need to be able to handle other source file formats too and 
GDAL seemed like it might be the way to go.  The problem is though, that 
if I'm forced to divide my input data into different bands, that's not 
going to work.

Is there a way to get GDAL to give me a buffer of raw pixel data without 
it being separated into individual bands?

If the answer to that question is yes... I'll have some additional 
questions

Thanks,

Todd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090930/8dd84ba2/attachment.html
From even.rouault at mines-paris.org  Wed Sep 30 18:18:33 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Sep 30 18:18:36 2009
Subject: [gdal-dev] Does everything have to be separated into bands?
In-Reply-To: <OF08801E5B.5F637B6C-ON87257641.00725658-87257641.00763E4A@rockwellcollins.com>
References: <OF08801E5B.5F637B6C-ON87257641.00725658-87257641.00763E4A@rockwellcollins.com>
Message-ID: <1254349113.4ac3d939a1b33@imp.free.fr>

Selon tasmith3@rockwellcollins.com:

GDAL can also read at the dataset level. Look at the GDALRasterIO() /
GDALDataset::RasterIO() call. By adjusting the nPixelSpace, nLineSpace and
nBandSpace values, you can fill a pixel-interleaved buffer, or a
line-interleaved buffer or a band-interleaved buffer, deal with row striding,
etc...

For a pixel-interleaved RGB buffer, nPixelSpace = 3 (provided that you operate
on Byte samples), nLineSpace = 3 * buffer_width, nBandSpace = 1

> Hi there,
>
> I am working on software that takes geospatial imagery (usually GeoTIFFs)
> and converts it into textures that are used in our rendering engine.  The
> application also takes terrain files and generates terrain geometry.
>
> When we process our imagery (RGB), we want to do so on a per pixel basis.
> This means that I don't want to deal with individual color channels, but
> rather the simple RGB buffer itself - much like what the tiff/geotiff
> library gives when calling TIFFReadEncodedTile or TIFFReadEncodedStrip for
> example.  We've only been using the tiff/geotiff libraries up till this
> point, but we need to be able to handle other source file formats too and
> GDAL seemed like it might be the way to go.  The problem is though, that
> if I'm forced to divide my input data into different bands, that's not
> going to work.
>
> Is there a way to get GDAL to give me a buffer of raw pixel data without
> it being separated into individual bands?
>
> If the answer to that question is yes... I'll have some additional
> questions
>
> Thanks,
>
> Todd


