From jgr at osgeopt.pt  Thu Aug  1 02:42:27 2019
From: jgr at osgeopt.pt (Jorge Gustavo Rocha)
Date: Thu, 1 Aug 2019 10:42:27 +0100
Subject: [gdal-dev] Small comment on compiling GDAL 3.0.1 on Ubuntu 18.10
Message-ID: <1c30be5b-43d7-659b-f079-545ccbe813b8@osgeopt.pt>

Hi,

I've compiled GDAL 3.0.1 on Ubuntu 18.10. It was my first time compiling
GDAL 3.x. I'm just starting to test it.

I have a small comment on the compilation.

For GDAL 2.x, I just needed to provide:
--with-java=$javadir --with-jvm-lib=$javadir/jre/lib/amd64/server

For GDAL 3.x, I had to set LDFLAGS with -L -l flags (for proj.4 and for
java):
LDFLAGS="-L/usr/lib/jvm/java-8-oracle/jre/lib/amd64/server
-L/usr/local/lib -ljvm" ./configure --with-java=$javadir
--with-jvm-lib=$javadir/jre/lib/amd64/server --with-mdb=yes
--with-python=python3 --with-proj=/usr/local

Probably is my fault, but can I compile it without providing the LDFLAGS
variable?
Shouldn't these be computed from the options --with-java
--with-jvm-lib and --with-proj?

Thanks!

------8<----------------------------------------------

What I've done:

1. Compile proj.4

cd dev
git clone https://github.com/OSGeo/proj.4.git
cd proj.4/
mkdir build && cd build
cmake ..
cmake --build .
sudo make install
sudo ldconfig

2. Compile GDAL 3.0.1 with proj.4 and JAVA

cd dev
wget https://download.osgeo.org/gdal/CURRENT/gdal-3.0.1.tar.gz
tar xvzf gdal-3.0.1.tar.gz
cd gdal-3.0.1
javadir=$(readlink -f $(which java) | grep -oP "^/.+(?=/jre/bin/java$)")
echo $javadir
/usr/lib/jvm/java-8-oracle
LDFLAGS="-L/usr/lib/jvm/java-8-oracle/jre/lib/amd64/server
-L/usr/local/lib -ljvm" ./configure --with-java=$javadir
--with-jvm-lib=$javadir/jre/lib/amd64/server --with-mdb=yes
--with-python=python3 --with-proj=/usr/local
make
sudo make install

------8<----------------------------------------------

Jorge Gustavo
--
OSGeo Portugal
NIF: 509588190
email: geral at osgeopt.pt
https://www.osgeopt.pt/

Próximo evento: SASIG 2017, 20 a 22 de novembro, Porto
Mais informações: http://osgeopt.pt/sasig2017/

From ahmettemiz88 at gmail.com  Thu Aug  1 04:08:18 2019
From: ahmettemiz88 at gmail.com (Ahmet Temiz)
Date: Thu, 1 Aug 2019 14:08:18 +0300
Subject: [gdal-dev] Raster masking/clipping with c++
Message-ID: <CAJKO1YuykG+rWSehB1bf-EQrofabd147Ox4MTDnw_0hR3CA1gw@mail.gmail.com>

Hi,

How can I do raster masking / clipping with c++.
I will appreciate for any guidance.

regards

-- 
Ahmet Temiz
Jeoloji Müh.
Afet ve Acil Durum Yönetimi Başkanlığı
Bilgi İşlem  Dairesi Başkanlığı-CBS Grubu


________________________

Ahmet Temiz
Geological Eng.
Information Systems - GIS Group
Disaster and Emergency Management
of Presidency
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190801/72d783d1/attachment.html>

From mateusz at loskot.net  Thu Aug  1 04:56:42 2019
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu, 1 Aug 2019 13:56:42 +0200
Subject: [gdal-dev] Raster masking/clipping with c++
In-Reply-To: <CAJKO1YuykG+rWSehB1bf-EQrofabd147Ox4MTDnw_0hR3CA1gw@mail.gmail.com>
References: <CAJKO1YuykG+rWSehB1bf-EQrofabd147Ox4MTDnw_0hR3CA1gw@mail.gmail.com>
Message-ID: <CABUeae_qBkZwFRQnE_7+xT-FB5Ndrec7BUR=J4P4heFuVdVuUQ@mail.gmail.com>

On Thu, 1 Aug 2019, 13:08 Ahmet Temiz, <ahmettemiz88 at gmail.com> wrote:

> Hi,
>
> How can I do raster masking / clipping with c++.
> I will appreciate for any guidance.
>

Read the code, how it's done in gdal_translate utility implementation (1)
which is also available as a library (2) or from Python API (3)

(1)
https://github.com/OSGeo/gdal/blob/master/gdal/apps/gdal_translate_lib.cpp
(2)
http://erouault.blogspot.com/2015/10/gdal-and-ogr-utilities-as-library.html
(3) https://gis.stackexchange.com/a/237412

-- 
Mateusz Loskot
(Sent from mobile)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190801/f6da4e40/attachment.html>

From ivan.lucena at outlook.com  Thu Aug  1 15:10:22 2019
From: ivan.lucena at outlook.com (Ivan Lucena)
Date: Thu, 1 Aug 2019 22:10:22 +0000
Subject: [gdal-dev] NetCDF driver getting wrong values if compared to
	HDF5
In-Reply-To: <4022720.JtuchN86Q1@even-i700>
References: <BN6PR2201MB12495D698DC131D37D9F45B8F2DC0@BN6PR2201MB1249.namprd22.prod.outlook.com>,
 <4022720.JtuchN86Q1@even-i700>
Message-ID: <BN6PR2201MB1249C2A485B3EBDB42FD8A80F2DE0@BN6PR2201MB1249.namprd22.prod.outlook.com>

Hi Even,

Thank you very much for your attention on this issue. Thank you for your time.

I did what you told and I rebuild netCDF SDK with support for NC-4. In order to do that I needed to build the HDF4 SDK and install a lot of things I didn't know I didn't have on that machine.

Anyway, the problem persist but I suspect that the issue is not type conversion.

Like you said, the netCDF should handle the the offset/scale float32 to uint8 conversion correctly, with or without NC-4.

I think it is safe to say that the important part of the raster, the land, is correctly handled by HDF5 or NetCDF.

It think the problem has to do with empty blocks. I got that impression just by looking at that image:

[cid:9386b87f-0aba-469b-a152-893fc1d19888]

This image for example was produce by converting using the HDF5 driver. I applied a color table where blue represents Ocean with pixel value 254. Grey represents nodata with value 255.

I think that that the HDF5 driver and/or the HDF5 SDK is handling the ocean data correctly but when it finds an empty block it refers to nodata.

In the other hand, the netCDF driver and/or the netCDF SDK is doing something else. Look at that one image produced by netCDF:

[cid:079aa948-1407-416d-8333-c69fca256fd6]

It is giving me 255 in all the Ocean, where it supposed to be 254. That is weird. I could be applying offset/scale to the flag values.

The netCDF ncdump is showing most the data as NaN. The MEP REST API, the same thing:

import requests
url = 'https://proba-v-mep.esa.int/api/timeseries/v1.1/ts/PROBAV_L3_S10_TOC_NDVI_333M/geometry?startDate=2019-07-11&endDate=2019-07-11'
geom = """{
        "type": "Polygon",
        "coordinates": [[
            [44.1830357,  -1.0937500],
            [44.1830357,  -1.1830357],
            [44.2723214,  -1.1830357],
            [44.2723214,  -1.0937500],
            [44.1830357,  -1.0937500]
        ]]
    }"

{'totalCount': 900, 'validCount': 0, 'average': 'NaN'}

The Proba-V data is not for Oceanography anyway. so it should not be a problem whatever driver I use.

But maybe the netCDF and HDF5 driver's authors would like to take a look.

Thank you again,

Ivan


________________________________
From: Even Rouault <even.rouault at spatialys.com>
Sent: Wednesday, July 31, 2019 11:19 AM
To: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Cc: Ivan Lucena <ivan.lucena at outlook.com>
Subject: Re: [gdal-dev] NetCDF driver getting wrong values if compared to HDF5

On mardi 30 juillet 2019 21:48:45 CEST Ivan Lucena wrote:
> Unsupported netCDF datatype (7), treat as Float32.​

Given that

#define NC_UBYTE        7       /**< unsigned 1 byte int */

and

https://github.com/OSGeo/gdal/blob/master/gdal/frmts/netcdf/netcdfdataset.cpp#L357

it seems you would have a GDAL build against a netCDF build without NC4 support.

That said, even with that, I would have expected the ubyte to float32 conversion to be lossless.

but according to
https://www.unidata.ucar.edu/software/netcdf/docs/group__variables.html#ga0ab808702d73b7f52be14b1e54473902
"""
The nc_get_vara() function will read a variable of any type, including user defined type.
For this function, the type of the data in memory must match the type of the variable - no data conversion is done.
"""

So you could get pretty much garbage.

Solution: build GDAL against a netCDF build that has NC4 support

Even

--
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190801/5e582ddd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 15250 bytes
Desc: image.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190801/5e582ddd/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 18698 bytes
Desc: image.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190801/5e582ddd/attachment-0003.png>

From even.rouault at spatialys.com  Fri Aug  2 02:19:50 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 02 Aug 2019 11:19:50 +0200
Subject: [gdal-dev] NetCDF driver getting wrong values if compared to
	HDF5
In-Reply-To: <BN6PR2201MB1249C2A485B3EBDB42FD8A80F2DE0@BN6PR2201MB1249.namprd22.prod.outlook.com>
References: <BN6PR2201MB12495D698DC131D37D9F45B8F2DC0@BN6PR2201MB1249.namprd22.prod.outlook.com>
 <4022720.JtuchN86Q1@even-i700>
 <BN6PR2201MB1249C2A485B3EBDB42FD8A80F2DE0@BN6PR2201MB1249.namprd22.prod.outlook.com>
Message-ID: <1966315.0bJvPOUD6c@even-i700>

On jeudi 1 août 2019 22:10:22 CEST Ivan Lucena wrote:
> Hi Even,
> 
> Thank you very much for your attention on this issue. Thank you for your
> time.

Do you have a link to this dataset ? On
http://www.vito-eodata.be/PDF/datapool/ I can only find .HDF5 files, not .nc 
ones

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From bontepaarden at gmail.com  Fri Aug  2 03:18:10 2019
From: bontepaarden at gmail.com (Paul Meems)
Date: Fri, 2 Aug 2019 12:18:10 +0200
Subject: [gdal-dev] 'HOST_FILLORDER': macro redefinition
In-Reply-To: <3705363.eos7rZdcOy@even-i700>
References: <CAHNf2YQ_0ymhLHXP=n1aT9wEGi9U+eOXcW1zNs4Skmtz+1LNYw@mail.gmail.com>
 <3705363.eos7rZdcOy@even-i700>
Message-ID: <CAHNf2YR0+uP0vd-t2eDtuLVqBKhtP0iRDiXeYRTa=+1CfWB7ng@mail.gmail.com>

Hi Even,

I come across other macro redefinitions:

   - 'TIFF_INT64_T': macro redefinition (compiling source file
   Control\Map_Core.cpp) \gdal_sdk\v141\include\win32\tif_config.h 39
   - 'TIFF_UINT64_T': macro redefinition (compiling source file
   Control\Map_Core.cpp) \gdal_sdk\v141\include\win32\tif_config.h 45

TIFF_INT64_T is defined differently in these files:
  \GDAL_SDK\v141\include\win32\tif_config.h(39):#define TIFF_INT64_T signed
__int64
  \GDAL_SDK\v141\include\win32\tiff.h(77):typedef TIFF_INT64_T  int64;
  \GDAL_SDK\v141\include\win32\tiffconf.h(17):#define TIFF_INT64_T signed
long long

And  TIFF_UINT64_T  as well:
  \GDAL_SDK\v141\include\win32\tif_config.h(45):#define TIFF_UINT64_T
unsigned __int64
  \GDAL_SDK\v141\include\win32\tiff.h(78):typedef TIFF_UINT64_T uint64;
  \GDAL_SDK\v141\include\win32\tiffconf.h(29):#define TIFF_UINT64_T
unsigned long long

Is this related to your merge request #87 and will it also be solved when
Tamas (gisinternals.com) generates new files or is this a separate problem?

And for now can we solve it by #undef the macros?

Regards,

Paul


Op ma 15 jul. 2019 om 12:24 schreef Even Rouault <even.rouault at spatialys.com
>:

> > If it were redefining to the same value, that would be one thing, but
> since
> > it is redefining to another value, it makes you wonder 1) why is it
> coming
> > in differently, and 2) which value should it be?
>
> Paul, overall this doesn't seem critical as the only real use of
> HOST_FILLORDER in all GDAL, libtiff and libgeotiff code bases in in
> libtiff
> TIFFOpen() function when the esoteric 'H' open flag is used, and that one
> is
> likely rarely used (not used by GDAL typically). So you could just #undef
> HOST_FILLORDER between the 2 #include to silence the warning.
>
> Tamas, how is tiffconf.h in gisinternals produced, which has this
> unexpected
> #define HOST_FILLORDER FILLORDER_MSB2LSB (should be LSB2MSB for Intel
> platforms) ? Is this the result of cmake ? I guess so, as it doesn't seem
> to
> be in sync with the tiffconf.vc.h that is also provided and used by nmake
> builds. That would mean that there's an issue in the CMake configuration
> step
> with VS builds:
> https://gitlab.com/libtiff/libtiff/blob/master/CMakeLists.txt#L394
>
> Actually, I just found a CI with CMake + Windows at
> https://ci.appveyor.com/project/rleigh-codelibre/libtiff-didfs/builds/
> 25846668/job/ory5w098j8wcij9x
> <https://ci.appveyor.com/project/rleigh-codelibre/libtiff-didfs/builds/25846668/job/ory5w098j8wcij9x>
> where I can see:
>
> [00:02:58] -- CMAKE_HOST_SYSTEM_PROCESSOR set to AMD64
> [00:02:58] -- HOST_FILLORDER set to FILLORDER_MSB2LSB
>
> So this seems to be a case sensitivity issue when comparing AMD64 vs amd64.
> I've just submitted
> https://gitlab.com/libtiff/libtiff/merge_requests/87
> to fix this.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190802/035cf3df/attachment.html>

From ivan.lucena at outlook.com  Fri Aug  2 07:44:02 2019
From: ivan.lucena at outlook.com (Ivan Lucena)
Date: Fri, 2 Aug 2019 14:44:02 +0000
Subject: [gdal-dev] NetCDF driver getting wrong values if compared to
	HDF5
In-Reply-To: <1966315.0bJvPOUD6c@even-i700>
References: <BN6PR2201MB12495D698DC131D37D9F45B8F2DC0@BN6PR2201MB1249.namprd22.prod.outlook.com>
 <4022720.JtuchN86Q1@even-i700>
 <BN6PR2201MB1249C2A485B3EBDB42FD8A80F2DE0@BN6PR2201MB1249.namprd22.prod.outlook.com>,
 <1966315.0bJvPOUD6c@even-i700>
Message-ID: <BN6PR2201MB1249FAE88D2901E355621331F2D90@BN6PR2201MB1249.namprd22.prod.outlook.com>

Even,

The metadata of one file samples points to http://land.copernicus.eu/global/products/ndvi

I wasn't able to recover my username/password so I not sure what is there.

Another this page you can select the specific product I am using 1KM Decadal NDVI but without login in I can tell if it is going to download the .nc file:

https://land.copernicus.vgt.vito.be/PDF/portal/Application.html#Browse;Root=513186;Collection=1000085;DoSearch=true;Time=NORMAL,NORMAL,1,APRIL,1998,2,AUGUST,2019

Can you give it a try?

Note, netCDF return this "Lower Right ( 179.9955357, -59.9955357) (179d59'43.93"E, 59d59'43.93"S)" while the documentation mention exact "
Polygon
-60 180 80 180 80 -180 -60 -180 -60 180". It looks like a half pixel difference, do you see a problem with that?

Thanks,

Ivan

________________________________
From: Even Rouault <even.rouault at spatialys.com>
Sent: Friday, August 2, 2019 5:19 AM
To: Ivan Lucena <ivan.lucena at outlook.com>
Cc: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] NetCDF driver getting wrong values if compared to HDF5

On jeudi 1 août 2019 22:10:22 CEST Ivan Lucena wrote:
> Hi Even,
>
> Thank you very much for your attention on this issue. Thank you for your
> time.

Do you have a link to this dataset ? On
http://www.vito-eodata.be/PDF/datapool/ I can only find .HDF5 files, not .nc
ones

--
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190802/77e5ec55/attachment.html>

From even.rouault at spatialys.com  Fri Aug  2 08:54:56 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 02 Aug 2019 17:54:56 +0200
Subject: [gdal-dev] NetCDF driver getting wrong values if compared to
	HDF5
In-Reply-To: <BN6PR2201MB1249FAE88D2901E355621331F2D90@BN6PR2201MB1249.namprd22.prod.outlook.com>
References: <BN6PR2201MB12495D698DC131D37D9F45B8F2DC0@BN6PR2201MB1249.namprd22.prod.outlook.com>
 <1966315.0bJvPOUD6c@even-i700>
 <BN6PR2201MB1249FAE88D2901E355621331F2D90@BN6PR2201MB1249.namprd22.prod.outlook.com>
Message-ID: <1644221.lByzkEHkoR@even-i700>

On vendredi 2 août 2019 14:44:02 CEST Ivan Lucena wrote:
> Even,
> 
> The metadata of one file samples points to
> http://land.copernicus.eu/global/products/ndvi
> 
> I wasn't able to recover my username/password so I not sure what is there.
> 
> Another this page you can select the specific product I am using 1KM Decadal
> NDVI but without login in I can tell if it is going to download the .nc
> file:
> 
> https://land.copernicus.vgt.vito.be/PDF/portal/Application.html#Browse;Root=
> 513186;Collection=1000085;DoSearch=true;Time=NORMAL,NORMAL,1,APRIL,1998,2,AU
> GUST,2019
> 
> Can you give it a try?
> 

OK, this is due to the fact that the netCDF driver is doing a special 
processing with the valid_range metadata item. It will set pixel values 
outside of the range defined by valid_range to the nodata value.
This can be disabled by the HONOUR_VALID_RANGE=NO open option.
Generally, as expected, the netCDF driver will have more particular behaviour 
when dealing with netCDF files than the HDF5 driver (the HDF5 driver has been 
enhanced over years to take into account a few netCDF specific metadata items, 
but not that one)

> Note, netCDF return this "Lower Right ( 179.9955357, -59.9955357)
> (179d59'43.93"E, 59d59'43.93"S)" while the documentation mention exact "
> Polygon
> -60 180 80 180 80 -180 -60 -180 -60 180". It looks like a half pixel
> difference, do you see a problem with that?

No, if you look at the actual range with ncdump for longitude, you'll get

lon = -180, -179.991071428571, [...]
    179.982142857634, 179.991071429063 ;

and GDAL normalizes the netCDF pixel-center convention to its usual pixel-
corner convention.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From nicolas.cadieux at archeotec.ca  Sun Aug  4 10:18:12 2019
From: nicolas.cadieux at archeotec.ca (Nicolas Cadieux)
Date: Sun, 4 Aug 2019 13:18:12 -0400
Subject: [gdal-dev] Wkt single precision float point
Message-ID: <60F63A1D-2DF7-42BF-853F-F84984696314@archeotec.ca>

Hi,

I’am I wrong or is the WKT format only a single precision float point?  Is there a standard that imposes this?  Could this be changed to a double precision float point or must I use GJSON for that?

Thanks!
Nicolas

From andrew.bell.ia at gmail.com  Sun Aug  4 10:48:31 2019
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Sun, 4 Aug 2019 13:48:31 -0400
Subject: [gdal-dev] Wkt single precision float point
In-Reply-To: <60F63A1D-2DF7-42BF-853F-F84984696314@archeotec.ca>
References: <60F63A1D-2DF7-42BF-853F-F84984696314@archeotec.ca>
Message-ID: <CACJ51z0R36ymaf3o8b7J9ndqeFG+x=z63S5kyHbqt5W28vSfdg@mail.gmail.com>

It's text. I don't believe there are any specific precision requirements
for wkt.

On Sun, Aug 4, 2019, 1:25 PM Nicolas Cadieux <nicolas.cadieux at archeotec.ca>
wrote:

> Hi,
>
> I’am I wrong or is the WKT format only a single precision float point?  Is
> there a standard that imposes this?  Could this be changed to a double
> precision float point or must I use GJSON for that?
>
> Thanks!
> Nicolas
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190804/e71ae0f5/attachment.html>

From even.rouault at spatialys.com  Sun Aug  4 10:52:02 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 04 Aug 2019 19:52:02 +0200
Subject: [gdal-dev] Wkt single precision float point
In-Reply-To: <60F63A1D-2DF7-42BF-853F-F84984696314@archeotec.ca>
References: <60F63A1D-2DF7-42BF-853F-F84984696314@archeotec.ca>
Message-ID: <2397105.7E4aKHKFpt@even-i700>

On dimanche 4 août 2019 13:18:12 CEST Nicolas Cadieux wrote:
> Hi,
> 
> I’am I wrong or is the WKT format only a single precision float point?  Is
> there a standard that imposes this?  Could this be changed to a double
> precision float point or must I use GJSON for that?

WKT is neither single or double precision (which are generally intended for a 
binary representation). The (decimal) precision isn't specified. This is up to 
the user.
See §7.2.1 "BNF Introduction" of
http://portal.opengeospatial.org/files/?artifact_id=25355

§7.2.6 "Examples" has this precision:
"The coordinates are shown as integer values; in general they may be any 
double precision value."

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From nicolas.cadieux at archeotec.ca  Sun Aug  4 11:21:10 2019
From: nicolas.cadieux at archeotec.ca (Nicolas Cadieux)
Date: Sun, 4 Aug 2019 14:21:10 -0400
Subject: [gdal-dev] Wkt single precision float point
In-Reply-To: <2397105.7E4aKHKFpt@even-i700>
References: <60F63A1D-2DF7-42BF-853F-F84984696314@archeotec.ca>
 <2397105.7E4aKHKFpt@even-i700>
Message-ID: <566F6865-15A6-49B7-BF89-2B199DAD599C@archeotec.ca>

Thank you!  

I read that document before sending the mail.  Was wondering if it could have been specified elsewhere.  In gdal ExportToWkt() exports with single precision with 9 decimals?  Can this be extended to 15?
Merci

Nicolas

> Le 4 août 2019 à 13:52, Even Rouault <even.rouault at spatialys.com> a écrit :
> 
>> On dimanche 4 août 2019 13:18:12 CEST Nicolas Cadieux wrote:
>> Hi,
>> 
>> I’am I wrong or is the WKT format only a single precision float point?  Is
>> there a standard that imposes this?  Could this be changed to a double
>> precision float point or must I use GJSON for that?
> 
> WKT is neither single or double precision (which are generally intended for a 
> binary representation). The (decimal) precision isn't specified. This is up to 
> the user.
> See §7.2.1 "BNF Introduction" of
> http://portal.opengeospatial.org/files/?artifact_id=25355
> 
> §7.2.6 "Examples" has this precision:
> "The coordinates are shown as integer values; in general they may be any 
> double precision value."
> 
> Even
> 
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com

From stephenknox73 at gmail.com  Sun Aug  4 14:42:40 2019
From: stephenknox73 at gmail.com (Stephen Knox)
Date: Sun, 4 Aug 2019 22:42:40 +0100
Subject: [gdal-dev] Confusion between OSM Open options USE_CUSTOM_INDEXING
	and OSM_USE_CUSTOM_INDEXING
Message-ID: <CAFkojsaRjfc5_W8hxszFkg8Sw1TWsb3L8UpfXgPJpeoeJJU4hQ@mail.gmail.com>

Hi list,

There seem to be inconsistencies between the code, the API docs and error
messages about whether the correct parameter name is  USE_CUSTOM_INDEXING
or OSM_USE_CUSTOM_INDEXING.

I assume from the docs that it is USE_CUSTOM_INDEXING, so was planning to
make a pull request to ensure the docs and error messages are up to date.
However, it looks like this may be intentional, so I will hold off for now
as I am not especially familiar with the code.

Stephen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190804/7a4da5b5/attachment.html>

From even.rouault at spatialys.com  Mon Aug  5 02:05:51 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 05 Aug 2019 11:05:51 +0200
Subject: [gdal-dev] Confusion between OSM Open options
	USE_CUSTOM_INDEXING and OSM_USE_CUSTOM_INDEXING
In-Reply-To: <CAFkojsaRjfc5_W8hxszFkg8Sw1TWsb3L8UpfXgPJpeoeJJU4hQ@mail.gmail.com>
References: <CAFkojsaRjfc5_W8hxszFkg8Sw1TWsb3L8UpfXgPJpeoeJJU4hQ@mail.gmail.com>
Message-ID: <4549971.AYlOXDvqYZ@even-i700>

On dimanche 4 août 2019 22:42:40 CEST Stephen Knox wrote:
> Hi list,
> 
> There seem to be inconsistencies between the code, the API docs and error
> messages about whether the correct parameter name is  USE_CUSTOM_INDEXING
> or OSM_USE_CUSTOM_INDEXING.

Both are valid:
- USE_CUSTOM_INDEXING as an open option passed to GDALOpenEx()
- OSM_USE_CUSTOM_INDEXING as a configuration option (set with 
CPLSetConfigOption()) / environment variable

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From vesnikos at gmail.com  Mon Aug  5 07:47:35 2019
From: vesnikos at gmail.com (Nikolaos Ves)
Date: Mon, 5 Aug 2019 15:47:35 +0100
Subject: [gdal-dev] GDAL Polygonize with Uint32
Message-ID: <CADCcPvu0-tDHdr5NaTCJQcED0PvBW3pv8QOKDo6y=-87=WJ0_w@mail.gmail.com>

Hi list,

Currently, GDALPolygonize [0] reads the data to an int32 buffer before
processing them.

If I invoke the function with UInt32 data, will the data be
casted/truncated to Int32 and polygonized improperly or can I use it as it
is?

Nikos


[0]
https://gdal.org/api/gdal_alg.html#_CPPv414GDALPolygonize15GDALRasterBandH15GDALRasterBandH9OGRLayerHiPPc16GDALProgressFuncPv
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190805/bed4b31d/attachment.html>

From ivan.lucena at outlook.com  Mon Aug  5 09:35:24 2019
From: ivan.lucena at outlook.com (Ivan Lucena)
Date: Mon, 5 Aug 2019 16:35:24 +0000
Subject: [gdal-dev] NetCDF driver getting wrong values if compared to
	HDF5
In-Reply-To: <1644221.lByzkEHkoR@even-i700>
References: <BN6PR2201MB12495D698DC131D37D9F45B8F2DC0@BN6PR2201MB1249.namprd22.prod.outlook.com>
 <1966315.0bJvPOUD6c@even-i700>
 <BN6PR2201MB1249FAE88D2901E355621331F2D90@BN6PR2201MB1249.namprd22.prod.outlook.com>,
 <1644221.lByzkEHkoR@even-i700>
Message-ID: <BN6PR2201MB124911F4D7F67F8BCA11C8B5F2DA0@BN6PR2201MB1249.namprd22.prod.outlook.com>

Hi Even,

I tried the open-option HONOUR_VALID_RANGE=NO and that seems to do the trick. That netCDF driver special case could check the flag_values metadata to see if the value is out of range but is a flagged value. But that is OK.

gdalinfo NETCDF:c_gls_NDVI_201907110000_GLOBE_PROBAV_V2.2.1.nc:NDVI
Corner Coordinates:
Upper Left  (-180.0044643,  80.0044643) (180d 0'16.07"W, 80d 0'16.07"N)​
Lower Left  (-180.0044643, -59.9955357) (180d 0'16.07"W, 59d59'43.93"S)​
Upper Right ( 179.9955357,  80.0044643) (179d59'43.93"E, 80d 0'16.07"N)​
Lower Right ( 179.9955357, -59.9955357) (179d59'43.93"E, 59d59'43.93"S)​
Center      (  -0.0044643,  10.0044643) (  0d 0'16.07"W, 10d 0'16.07"N)​
Band 1 Block=3102x1207 Type=Byte, ColorInterp=Undefined
  NoData Value=255​
  Offset: -0.0799999982118607,   Scale:0.00400000018998981​
  Metadata:​
    add_offset=-0.079999998​
    flag_meanings=Missing cloud snow sea background​
    flag_values={251,252,253,254,255}​
    grid_mapping=crs​
    long_name=Normalized Difference Vegetation Index 1KM​
    missing_value=255​
    NETCDF_DIM_time=18088​
    NETCDF_VARNAME=NDVI​
    scale_factor=0.0040000002​
    standard_name=normalized_difference_vegetation_index​
    units=​
    valid_range={0,250}​
    _FillValue=255​

About geo-referencing, this is from the Proba-V documentation :

"""
2.4. Data projection and geographical extents
All PROBA-V data products are projected in a standard WGS84 projection (also known as the Plate Carrée projection), similar as for the SPOT-VGT products. The 1 km Plate-Carrée projection is defined as 1/112o, with the latitude and longitude coordinates defined at the pixel centre. This implies that the pixel boundaries extend ± 1/224o for both latitude and longitude at the pixel corners. For example, if we consider the pixel corresponding to [lon, lat]=[-180o, 75o], the upper left corner of this pixel represents [lon, lat]=[-180o - 1/224o, 75o + 1/224o].
""" [PROBAV_Products_User_Manual.pdf]

Thank you,

Ivan

________________________________
From: Even Rouault <even.rouault at spatialys.com>
Sent: Friday, August 2, 2019 11:54 AM
To: Ivan Lucena <ivan.lucena at outlook.com>
Cc: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] NetCDF driver getting wrong values if compared to HDF5

On vendredi 2 août 2019 14:44:02 CEST Ivan Lucena wrote:
> Even,
>
> The metadata of one file samples points to
> http://land.copernicus.eu/global/products/ndvi
>
> I wasn't able to recover my username/password so I not sure what is there.
>
> Another this page you can select the specific product I am using 1KM Decadal
> NDVI but without login in I can tell if it is going to download the .nc
> file:
>
> https://land.copernicus.vgt.vito.be/PDF/portal/Application.html#Browse;Root=
> 513186;Collection=1000085;DoSearch=true;Time=NORMAL,NORMAL,1,APRIL,1998,2,AU
> GUST,2019
>
> Can you give it a try?
>

OK, this is due to the fact that the netCDF driver is doing a special
processing with the valid_range metadata item. It will set pixel values
outside of the range defined by valid_range to the nodata value.
This can be disabled by the HONOUR_VALID_RANGE=NO open option.
Generally, as expected, the netCDF driver will have more particular behaviour
when dealing with netCDF files than the HDF5 driver (the HDF5 driver has been
enhanced over years to take into account a few netCDF specific metadata items,
but not that one)

> Note, netCDF return this "Lower Right ( 179.9955357, -59.9955357)
> (179d59'43.93"E, 59d59'43.93"S)" while the documentation mention exact "
> Polygon
> -60 180 80 180 80 -180 -60 -180 -60 180". It looks like a half pixel
> difference, do you see a problem with that?

No, if you look at the actual range with ncdump for longitude, you'll get

lon = -180, -179.991071428571, [...]
    179.982142857634, 179.991071429063 ;

and GDAL normalizes the netCDF pixel-center convention to its usual pixel-
corner convention.

Even

--
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190805/24b4b237/attachment-0001.html>

From even.rouault at spatialys.com  Mon Aug  5 09:39:11 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 05 Aug 2019 18:39:11 +0200
Subject: [gdal-dev] GDAL Polygonize with Uint32
In-Reply-To: <CADCcPvu0-tDHdr5NaTCJQcED0PvBW3pv8QOKDo6y=-87=WJ0_w@mail.gmail.com>
References: <CADCcPvu0-tDHdr5NaTCJQcED0PvBW3pv8QOKDo6y=-87=WJ0_w@mail.gmail.com>
Message-ID: <1699830.GFtPExMrQ0@even-i700>

On lundi 5 août 2019 15:47:35 CEST Nikolaos Ves wrote:
> Hi list,
> 
> Currently, GDALPolygonize [0] reads the data to an int32 buffer before
> processing them.
> 
> If I invoke the function with UInt32 data, will the data be
> casted/truncated to Int32 and polygonized improperly or can I use it as it
> is?

Values between 2147483648 and 4294967295 will be read as 2147483647.

To avoid truncatino, you could use the GDALFPolygonize() interface that will 
work with Float32, but you'll then have roundings (several integer values will 
be read as the same Float32 value. As there are 23 bit for the mantissa, 
values under 2^23 == 8388608 will be exactly represented as Float32. Values 
above will suffer from this rounding effect)

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From me at komzpa.net  Mon Aug  5 10:45:49 2019
From: me at komzpa.net (=?UTF-8?Q?Darafei_=22Kom=D1=8Fpa=22_Praliaskouski?=)
Date: Mon, 5 Aug 2019 20:45:49 +0300
Subject: [gdal-dev] GDAL Polygonize with Uint32
In-Reply-To: <1699830.GFtPExMrQ0@even-i700>
References: <CADCcPvu0-tDHdr5NaTCJQcED0PvBW3pv8QOKDo6y=-87=WJ0_w@mail.gmail.com>
 <1699830.GFtPExMrQ0@even-i700>
Message-ID: <CAC8Q8t+yiKWXZGs=UVGkjtfsH9aFR2K-0dBtEBeabeAx-KvdHQ@mail.gmail.com>

There is a 6 year old request in PostGIS for distinguishing such values:
https://trac.osgeo.org/postgis/ticket/2353

On Mon, Aug 5, 2019 at 7:39 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> On lundi 5 août 2019 15:47:35 CEST Nikolaos Ves wrote:
> > Hi list,
> >
> > Currently, GDALPolygonize [0] reads the data to an int32 buffer before
> > processing them.
> >
> > If I invoke the function with UInt32 data, will the data be
> > casted/truncated to Int32 and polygonized improperly or can I use it as
> it
> > is?
>
> Values between 2147483648 and 4294967295 will be read as 2147483647.
>
> To avoid truncatino, you could use the GDALFPolygonize() interface that
> will
> work with Float32, but you'll then have roundings (several integer values
> will
> be read as the same Float32 value. As there are 23 bit for the mantissa,
> values under 2^23 == 8388608 will be exactly represented as Float32.
> Values
> above will suffer from this rounding effect)
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Darafei Praliaskouski
Support me: http://patreon.com/komzpa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190805/db2f5fb3/attachment.html>

From even.rouault at spatialys.com  Tue Aug  6 10:14:28 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 06 Aug 2019 19:14:28 +0200
Subject: [gdal-dev] Motion: adopt RFC 75: Multidimensional array
In-Reply-To: <CADeM3-yLpwgaUiwSD0s+-677wkHWod8Uq2QOBxhDjUpX_XpHSg@mail.gmail.com>
References: <2401956.U8z5d6L4Wr@even-i700>
 <CADeM3-zoM=23DkDo2+xnR5z5+LuN2T1UWM5ONmVddRVQ+GxZjQ@mail.gmail.com>
 <CADeM3-yLpwgaUiwSD0s+-677wkHWod8Uq2QOBxhDjUpX_XpHSg@mail.gmail.com>
Message-ID: <1685292.ZitjD7IvWu@even-i700>

On mardi 30 juillet 2019 18:10:15 CEST Joe Lee wrote:
> I found the error. It was my token key in gdal.SetConfigOption().
> GDAL Multidimensional support is quite amazing and works well with AWS
> Lambda & HDF5 data on S3!
 
> I can't wait to see HDF4 multidimensional support.

This has just landed in master (as well as exporting 1D arrays to GeoTIFF)

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From mdsumner at gmail.com  Tue Aug  6 21:12:05 2019
From: mdsumner at gmail.com (Michael Sumner)
Date: Wed, 7 Aug 2019 14:12:05 +1000
Subject: [gdal-dev] MVT fields/geometry alignment
Message-ID: <CAAcGz9-5C+f568rMaM6zbHQ=9WyiX6GXhdvod6b_9fNskFcGqQ@mail.gmail.com>

Hello,

In this MVT source poLayer->GetFeatureCount() reports that there are 85
features, as does ogrinfo summary:

##  taken from https://docs.mapbox.com/vector-tiles/reference/
ogrinfo -so
http://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v7/14/4823/6160.mvt?access_token=
<your-token>

INFO: Open of `'
      using driver `MVT' successful.

Layer name: landuse
Geometry: Multi Polygon
Feature Count: 85
Extent: (-8239795.799271, 4968375.188829) - (-8238077.160463,
4970241.327215)
Layer SRS WKT:
...

But, iterating features finds 81 valid features, as reported by

ogrinfo
http://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v7/14/4823/6160.mvt?access_token=
<your-token>

without Summary Only mode.

Is this a problem for GDAL, or a general issue with various formats? I'm
after advice on whether to always iterate for a valid feature count, or
could this be fixed for MVT?

(I don't know anything about the internal details of protocol buffers.)

Thank you.

Mike

--
Michael Sumner
Software and Database Engineer
Australian Antarctic Division
Hobart, Australia
e-mail: mdsumner at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190807/683afa8a/attachment.html>

From even.rouault at spatialys.com  Wed Aug  7 01:19:29 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 07 Aug 2019 10:19:29 +0200
Subject: [gdal-dev] MVT fields/geometry alignment
In-Reply-To: <CAAcGz9-5C+f568rMaM6zbHQ=9WyiX6GXhdvod6b_9fNskFcGqQ@mail.gmail.com>
References: <CAAcGz9-5C+f568rMaM6zbHQ=9WyiX6GXhdvod6b_9fNskFcGqQ@mail.gmail.com>
Message-ID: <2107114.4ak1Xg9znP@even-i700>

Michael,

> 
> In this MVT source poLayer->GetFeatureCount() reports that there are 85
> features, as does ogrinfo summary:
> 
> But, iterating features finds 81 valid features, as reported by

The difference is due to clipping geometries to the tile extent.
GetFeatureCount() do a super fast scan, counting all features, whereas by 
default GetNextFeature() also checks if the geometry intersects the tile 
extent. And in that case there are a few features that are actually outside of 
the tile extent. If you add -oo CLIP=NO then GetNextFeature() will report 85 
features as well.

As a workaround for GetFeatureCount() to return 81 as well, you can specify a 
dummy attribute filter that will force it to go to the slow scan mode:

ogrinfo 14/4823/6160.mvt landuse -al -so -where 1=1

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From mdsumner at gmail.com  Wed Aug  7 04:31:58 2019
From: mdsumner at gmail.com (Michael Sumner)
Date: Wed, 7 Aug 2019 21:31:58 +1000
Subject: [gdal-dev] MVT fields/geometry alignment
In-Reply-To: <2107114.4ak1Xg9znP@even-i700>
References: <CAAcGz9-5C+f568rMaM6zbHQ=9WyiX6GXhdvod6b_9fNskFcGqQ@mail.gmail.com>
 <2107114.4ak1Xg9znP@even-i700>
Message-ID: <CAAcGz991Jw3RDMES3JpAFK7hUBQcynVR7Lig8=eHmEw0BYuPPQ@mail.gmail.com>

Oh I see, thanks for explaining!

Cheers, Mike


On Wed., 7 Aug. 2019, 18:19 Even Rouault, <even.rouault at spatialys.com>
wrote:
>
> Michael,
>
> >
> > In this MVT source poLayer->GetFeatureCount() reports that there are 85
> > features, as does ogrinfo summary:
> >
> > But, iterating features finds 81 valid features, as reported by
>
> The difference is due to clipping geometries to the tile extent.
> GetFeatureCount() do a super fast scan, counting all features, whereas by
> default GetNextFeature() also checks if the geometry intersects the tile
> extent. And in that case there are a few features that are actually
outside of
> the tile extent. If you add -oo CLIP=NO then GetNextFeature() will report
85
> features as well.
>
> As a workaround for GetFeatureCount() to return 81 as well, you can
specify a
> dummy attribute filter that will force it to go to the slow scan mode:
>
> ogrinfo 14/4823/6160.mvt landuse -al -so -where 1=1
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190807/6cd31077/attachment.html>

From schwehr at gmail.com  Wed Aug  7 13:22:49 2019
From: schwehr at gmail.com (Kurt Schwehr)
Date: Wed, 7 Aug 2019 13:22:49 -0700
Subject: [gdal-dev] NetCDF driver detected file type
Message-ID: <CACmBxysYP5+y6Z=m2WR3o+AAh=TzODtLx=Ec4Qr2XJeLgGGeYg@mail.gmail.com>

For a custom build of gdal, I'm seeing:

  Warning 1: NetCDF driver detected file type=5, but libnetcdf detected
type=3

Any idea what is causing this?  With gdal 2.3.2, from debian testing, I
don't see the message.

This warning message was added here:

https://github.com/OSGeo/gdal/commit/813aa221af3ac13a3747f4d4a3f312f098869adc

using:

gs://gcp-public-data-goes-17/ABI-L2-FDCF/2019/201/13/OR_ABI-L2-FDCF-M6_G17_s20192011310341_e20192011319407_c20192011319507.nc

netcdf 4.6.1
HDF5 claims to be 1.11.2 and is a bit newer than
https://bitbucket.hdfgroup.org/projects/HDFFV/repos/hdf5/browse?at=807187e2f200e63adb4918dd475d47546c8588e9
GDAL from head ~ 2018-Oct

gdalinfo
NETCDF:OR_ABI-L2-FDCF-M6_G17_s20192011310341_e20192011319407_c20192011319507.nc:Area
Warning 1: NetCDF driver detected file type=5, but libnetcdf detected type=3
Driver: netCDF/Network Common Data Format
Files: none associated
Size is 5424, 5424
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["unknown",
        DATUM["unknown",
            SPHEROID["Spheroid",6378137,298.2572221]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Geostationary_Satellite"],
    PARAMETER["central_meridian",-137],
    PARAMETER["satellite_height",35786023],
    PARAMETER["false_easting",0],
    PARAMETER["false_northing",0],
    EXTENSION["PROJ4","+proj=geos +lon_0=-137 +h=35786023 +x_0=0 +y_0=0
+ellps=GRS80 +units=m +no_defs  +sweep=x"]]
Origin = (-5434894.700982173904777,-5434895.218222249299288)
Pixel Size = (2004.017315487541055,2004.017315487541055)
Metadata:
  Area#add_offset=4000
  Area#cell_methods=sunglint_angle: point (no pixel produced)
local_zenith_angle: point (good quality pixel produced) solar_zenith_angle:
point (good quality pixel produced) t: point
  Area#coordinates=sunglint_angle local_zenith_angle solar_zenith_angle t y
x
  Area#grid_mapping=goes_imager_projection
  Area#long_name=ABI L2+ Fire-Hot Spot Characterization: Fire Area
  Area#scale_factor=60.98
[SNIP]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190807/70f21bd1/attachment.html>

From hyoklee at hdfgroup.org  Wed Aug  7 13:36:48 2019
From: hyoklee at hdfgroup.org (Joe Lee)
Date: Wed, 7 Aug 2019 20:36:48 +0000
Subject: [gdal-dev] Motion: adopt RFC 75: Multidimensional array
In-Reply-To: <1685292.ZitjD7IvWu@even-i700>
References: <2401956.U8z5d6L4Wr@even-i700>
 <CADeM3-zoM=23DkDo2+xnR5z5+LuN2T1UWM5ONmVddRVQ+GxZjQ@mail.gmail.com>
 <CADeM3-yLpwgaUiwSD0s+-677wkHWod8Uq2QOBxhDjUpX_XpHSg@mail.gmail.com>
 <1685292.ZitjD7IvWu@even-i700>
Message-ID: <CADeM3-y330wZfHZeugRHZ11r+jeTJJ=YGxVKAVpTQ2GBep5yrw@mail.gmail.com>


Hi, Even!

  I tested it and your new code works very well.
  Thank you for adding this new feature so quickly!

  Now I wish /vsis3 work on HDF4 like HDF5.
  That would be perfect because I tried /vsicurl as you suggested in [1] but it did not work.

[1] http://osgeo-org.1560.x6.nabble.com/gdal-dev-Does-vsis3-work-for-HDF4-td5405668.html




On Tue, Aug 6, 2019 at 12:14 PM Even Rouault <even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>> wrote:
On mardi 30 juillet 2019 18:10:15 CEST Joe Lee wrote:
> I found the error. It was my token key in gdal.SetConfigOption().
> GDAL Multidimensional support is quite amazing and works well with AWS
> Lambda & HDF5 data on S3!

> I can't wait to see HDF4 multidimensional support.

This has just landed in master (as well as exporting 1D arrays to GeoTIFF)

Even

--
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190807/0d4b1d52/attachment.html>

From even.rouault at spatialys.com  Wed Aug  7 13:39:19 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 07 Aug 2019 22:39:19 +0200
Subject: [gdal-dev] NetCDF driver detected file type
In-Reply-To: <CACmBxysYP5+y6Z=m2WR3o+AAh=TzODtLx=Ec4Qr2XJeLgGGeYg@mail.gmail.com>
References: <CACmBxysYP5+y6Z=m2WR3o+AAh=TzODtLx=Ec4Qr2XJeLgGGeYg@mail.gmail.com>
Message-ID: <3433043.Mn8gZeDNFH@even-i700>

Kurt,

I would say that your netCDF build lacks libhdf5 support needed to open netCDF 
4 files, and/or that your GDAL build has been done against a netCDF version 
that lacked it (if you added support of HDF5 in the netCDF build, after doing 
an initial build of GDAL, you also need to rebuild GDAL)

It is likely that with your build the following
gdalinfo --format netcdf | grep NETCDF_HAS_NC4=YES
reports currently nothing

Rebuild netCDF with HDF5 support, and GDAL against this new netCDF build.

Even

> For a custom build of gdal, I'm seeing:
> 
>   Warning 1: NetCDF driver detected file type=5, but libnetcdf detected
> type=3
> 
> Any idea what is causing this?  With gdal 2.3.2, from debian testing, I
> don't see the message.
> 
> This warning message was added here:
> 
> https://github.com/OSGeo/gdal/commit/813aa221af3ac13a3747f4d4a3f312f098869ad
> c
> 
> using:
> 
> gs://gcp-public-data-goes-17/ABI-L2-FDCF/2019/201/13/OR_ABI-L2-FDCF-M6_G17_s
> 20192011310341_e20192011319407_c20192011319507.nc
> 
> netcdf 4.6.1
> HDF5 claims to be 1.11.2 and is a bit newer than
> https://bitbucket.hdfgroup.org/projects/HDFFV/repos/hdf5/browse?at=807187e2f
> 200e63adb4918dd475d47546c8588e9 GDAL from head ~ 2018-Oct
> 
> gdalinfo
> NETCDF:OR_ABI-L2-FDCF-M6_G17_s20192011310341_e20192011319407_c20192011319507
> .nc:Area Warning 1: NetCDF driver detected file type=5, but libnetcdf
> detected type=3 Driver: netCDF/Network Common Data Format
> Files: none associated
> Size is 5424, 5424
> Coordinate System is:
> PROJCS["unnamed",
>     GEOGCS["unknown",
>         DATUM["unknown",
>             SPHEROID["Spheroid",6378137,298.2572221]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433]],
>     PROJECTION["Geostationary_Satellite"],
>     PARAMETER["central_meridian",-137],
>     PARAMETER["satellite_height",35786023],
>     PARAMETER["false_easting",0],
>     PARAMETER["false_northing",0],
>     EXTENSION["PROJ4","+proj=geos +lon_0=-137 +h=35786023 +x_0=0 +y_0=0
> +ellps=GRS80 +units=m +no_defs  +sweep=x"]]
> Origin = (-5434894.700982173904777,-5434895.218222249299288)
> Pixel Size = (2004.017315487541055,2004.017315487541055)
> Metadata:
>   Area#add_offset=4000
>   Area#cell_methods=sunglint_angle: point (no pixel produced)
> local_zenith_angle: point (good quality pixel produced) solar_zenith_angle:
> point (good quality pixel produced) t: point
>   Area#coordinates=sunglint_angle local_zenith_angle solar_zenith_angle t y
> x
>   Area#grid_mapping=goes_imager_projection
>   Area#long_name=ABI L2+ Fire-Hot Spot Characterization: Fire Area
>   Area#scale_factor=60.98
> [SNIP]


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From ivan.lucena at outlook.com  Wed Aug  7 13:51:35 2019
From: ivan.lucena at outlook.com (Ivan Lucena)
Date: Wed, 7 Aug 2019 20:51:35 +0000
Subject: [gdal-dev] NetCDF driver detected file type
In-Reply-To: <3433043.Mn8gZeDNFH@even-i700>
References: <CACmBxysYP5+y6Z=m2WR3o+AAh=TzODtLx=Ec4Qr2XJeLgGGeYg@mail.gmail.com>,
 <3433043.Mn8gZeDNFH@even-i700>
Message-ID: <BN6PR2201MB124977763F7FA3DD208FDE5EF2D40@BN6PR2201MB1249.namprd22.prod.outlook.com>

Even, Kurt,

I've been thru the same issue last week. I might be wrong but the only way that I found to add support for NC4 into the netcdf-c-4.6.3 build was by enabling HDF4 .

You might try run "./configure --help | grep 4" on the netCDF SDK to see if there is another way.

I rebuild everything, HDF5, HDF4 and netCDF SDKs and GDAL and the netCDF driver and now I am not getting warnings like that anymore.

Regards,

Ivan

________________________________
From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> on behalf of Even Rouault <even.rouault at spatialys.com>
Sent: Wednesday, August 7, 2019 4:39 PM
To: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] NetCDF driver detected file type

Kurt,

I would say that your netCDF build lacks libhdf5 support needed to open netCDF
4 files, and/or that your GDAL build has been done against a netCDF version
that lacked it (if you added support of HDF5 in the netCDF build, after doing
an initial build of GDAL, you also need to rebuild GDAL)

It is likely that with your build the following
gdalinfo --format netcdf | grep NETCDF_HAS_NC4=YES
reports currently nothing

Rebuild netCDF with HDF5 support, and GDAL against this new netCDF build.

Even

> For a custom build of gdal, I'm seeing:
>
>   Warning 1: NetCDF driver detected file type=5, but libnetcdf detected
> type=3
>
> Any idea what is causing this?  With gdal 2.3.2, from debian testing, I
> don't see the message.
>
> This warning message was added here:
>
> https://github.com/OSGeo/gdal/commit/813aa221af3ac13a3747f4d4a3f312f098869ad
> c
>
> using:
>
> gs://gcp-public-data-goes-17/ABI-L2-FDCF/2019/201/13/OR_ABI-L2-FDCF-M6_G17_s
> 20192011310341_e20192011319407_c20192011319507.nc
>
> netcdf 4.6.1
> HDF5 claims to be 1.11.2 and is a bit newer than
> https://bitbucket.hdfgroup.org/projects/HDFFV/repos/hdf5/browse?at=807187e2f
> 200e63adb4918dd475d47546c8588e9 GDAL from head ~ 2018-Oct
>
> gdalinfo
> NETCDF:OR_ABI-L2-FDCF-M6_G17_s20192011310341_e20192011319407_c20192011319507
> .nc:Area Warning 1: NetCDF driver detected file type=5, but libnetcdf
> detected type=3 Driver: netCDF/Network Common Data Format
> Files: none associated
> Size is 5424, 5424
> Coordinate System is:
> PROJCS["unnamed",
>     GEOGCS["unknown",
>         DATUM["unknown",
>             SPHEROID["Spheroid",6378137,298.2572221]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433]],
>     PROJECTION["Geostationary_Satellite"],
>     PARAMETER["central_meridian",-137],
>     PARAMETER["satellite_height",35786023],
>     PARAMETER["false_easting",0],
>     PARAMETER["false_northing",0],
>     EXTENSION["PROJ4","+proj=geos +lon_0=-137 +h=35786023 +x_0=0 +y_0=0
> +ellps=GRS80 +units=m +no_defs  +sweep=x"]]
> Origin = (-5434894.700982173904777,-5434895.218222249299288)
> Pixel Size = (2004.017315487541055,2004.017315487541055)
> Metadata:
>   Area#add_offset=4000
>   Area#cell_methods=sunglint_angle: point (no pixel produced)
> local_zenith_angle: point (good quality pixel produced) solar_zenith_angle:
> point (good quality pixel produced) t: point
>   Area#coordinates=sunglint_angle local_zenith_angle solar_zenith_angle t y
> x
>   Area#grid_mapping=goes_imager_projection
>   Area#long_name=ABI L2+ Fire-Hot Spot Characterization: Fire Area
>   Area#scale_factor=60.98
> [SNIP]


--
Spatialys - Geospatial professional services
http://www.spatialys.com
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190807/aa15ca49/attachment-0001.html>

From even.rouault at spatialys.com  Wed Aug  7 13:51:59 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 07 Aug 2019 22:51:59 +0200
Subject: [gdal-dev] Motion: adopt RFC 75: Multidimensional array
In-Reply-To: <CADeM3-y330wZfHZeugRHZ11r+jeTJJ=YGxVKAVpTQ2GBep5yrw@mail.gmail.com>
References: <2401956.U8z5d6L4Wr@even-i700> <1685292.ZitjD7IvWu@even-i700>
 <CADeM3-y330wZfHZeugRHZ11r+jeTJJ=YGxVKAVpTQ2GBep5yrw@mail.gmail.com>
Message-ID: <2727413.k7Hm4ExgPC@even-i700>

On mercredi 7 août 2019 20:36:48 CEST Joe Lee wrote:
> Hi, Even!
> 
>   I tested it and your new code works very well.
>   Thank you for adding this new feature so quickly!
> 
>   Now I wish /vsis3 work on HDF4 like HDF5.
>   That would be perfect because I tried /vsicurl as you suggested in [1] but
> it did not work.

Unfortunately libhdf has no pluggable I/O layer, so only the vsipreload trick can be used.
Using a solution like https://github.com/s3fs-fuse/s3fs-fuse should also work.

I just successully tried on Ubunty 16.04 the following:

g++ -std=c++11 -Wall -fPIC port/vsipreload.cpp -shared -o vsipreload.so -Iport -L. -L.libs -lgdal
LD_PRELOAD=vsipreload.so gdalmdiminfo /vsicurl/https://download.osgeo.org/gdal/data/hdf4/REANALYSIS_1999217.hdf
LD_PRELOAD=vsipreload.so gdalmdimtranslate /vsicurl/https://download.osgeo.org/gdal/data/hdf4/REANALYSIS_1999217.hdf out.nc
LD_PRELOAD=vsipreload.so gdalmdiminfo /vsis3/{my_bucket}/REANALYSIS_1999217.hdf

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Wed Aug  7 14:10:01 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 07 Aug 2019 23:10:01 +0200
Subject: [gdal-dev] Motion: adopt RFC 75: Multidimensional array
In-Reply-To: <BN6PR17MB161944DCBC1A81797AD088C0C2D40@BN6PR17MB1619.namprd17.prod.outlook.com>
References: <2401956.U8z5d6L4Wr@even-i700> <2727413.k7Hm4ExgPC@even-i700>
 <BN6PR17MB161944DCBC1A81797AD088C0C2D40@BN6PR17MB1619.namprd17.prod.outlook.com>
Message-ID: <4277101.Lmhhqi092r@even-i700>

On mercredi 7 août 2019 20:58:54 CEST Joe Lee wrote:
> Hi, Even!
> 
>   Is there a configure flag for enabling it by default without relying on
> LD_PRELOAD=...? (e.g., --with-vsipreload)

No,
- this needs to be loaded with LD_PRELOAD because it overrides very common 
symbols of the libc (fopen, etc..) and thus it needs to be loaded in a special 
way so that the symbols of vsipreload.so are actually used and not the libc 
ones.
- it is better to keep it in a separate library, because I can easily imagine 
that having fopen() and the like re-defined in libgdal.so could cause serious 
mess.

So all in all, this is a convenient trick, but this remains an experimental & 
somewhat dangerous hack to be used in last resort.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From schwehr at gmail.com  Wed Aug  7 14:24:32 2019
From: schwehr at gmail.com (Kurt Schwehr)
Date: Wed, 7 Aug 2019 14:24:32 -0700
Subject: [gdal-dev] NetCDF driver detected file type
In-Reply-To: <BN6PR2201MB124977763F7FA3DD208FDE5EF2D40@BN6PR2201MB1249.namprd22.prod.outlook.com>
References: <CACmBxysYP5+y6Z=m2WR3o+AAh=TzODtLx=Ec4Qr2XJeLgGGeYg@mail.gmail.com>
 <3433043.Mn8gZeDNFH@even-i700>
 <BN6PR2201MB124977763F7FA3DD208FDE5EF2D40@BN6PR2201MB1249.namprd22.prod.outlook.com>
Message-ID: <CACmBxyunnNyZ9FScybwvqPPdp8a5srEQc4KGVVtHG3tSbD9Tfg@mail.gmail.com>

Hmm... these are netcdf 5 according to file.  Does that not imply that that
I don't need to worry about NC4?

file *.nc
OR_ABI-L2-FDCF-M6_G17_s20192011300341_e20192011309408_c20192011309501.nc:
Hierarchical Data Format (version 5) data
OR_ABI-L2-FDCF-M6_G17_s20192011310341_e20192011319407_c20192011319507.nc:
Hierarchical Data Format (version 5) data
OR_ABI-L2-FDCF-M6_G17_s20192011320341_e20192011329408_c20192011329487.nc:
Hierarchical Data Format (version 5) data
OR_ABI-L2-FDCF-M6_G17_s20192011330341_e20192011339408_c20192011339497.nc:
Hierarchical Data Format (version 5) data
OR_ABI-L2-FDCF-M6_G17_s20192011340341_e20192011349408_c20192011349492.nc:
Hierarchical Data Format (version 5) data
OR_ABI-L2-FDCF-M6_G17_s20192011350341_e20192011359408_c20192011359486.nc:
Hierarchical Data Format (version 5) data

I have the extra fun that my build is bazel based.  I do have:

    "-DFRMT_hdf4",
    "-DFRMT_hdf5",
    "-DFRMT_netcdf",

This indeed give nothing:

gdalinfo --format netcdf | grep NETCDF_HAS_NC4

I have more digging to do on the config checking side of things.  I don't
have the dispatch tables for hdf4 in netcdf.

On Wed, Aug 7, 2019 at 1:51 PM Ivan Lucena <ivan.lucena at outlook.com> wrote:

> Even, Kurt,
>
> I've been thru the same issue last week. I might be wrong but the only way
> that I found to add support for NC4 into the netcdf-c-4.6.3 build was by
> enabling HDF4 .
>
> You might try run "./configure --help | grep 4" on the netCDF SDK to see
> if there is another way.
>
> I rebuild everything, HDF5, HDF4 and netCDF SDKs and GDAL and the netCDF
> driver and now I am not getting warnings like that anymore.
>
> Regards,
>
> Ivan
>
> ------------------------------
> *From:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> on behalf of Even
> Rouault <even.rouault at spatialys.com>
> *Sent:* Wednesday, August 7, 2019 4:39 PM
> *To:* gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
> *Subject:* Re: [gdal-dev] NetCDF driver detected file type
>
> Kurt,
>
> I would say that your netCDF build lacks libhdf5 support needed to open
> netCDF
> 4 files, and/or that your GDAL build has been done against a netCDF
> version
> that lacked it (if you added support of HDF5 in the netCDF build, after
> doing
> an initial build of GDAL, you also need to rebuild GDAL)
>
> It is likely that with your build the following
> gdalinfo --format netcdf | grep NETCDF_HAS_NC4=YES
> reports currently nothing
>
> Rebuild netCDF with HDF5 support, and GDAL against this new netCDF build.
>
> Even
>
> > For a custom build of gdal, I'm seeing:
> >
> >   Warning 1: NetCDF driver detected file type=5, but libnetcdf detected
> > type=3
> >
> > Any idea what is causing this?  With gdal 2.3.2, from debian testing, I
> > don't see the message.
> >
> > This warning message was added here:
> >
> >
> https://github.com/OSGeo/gdal/commit/813aa221af3ac13a3747f4d4a3f312f098869ad
> > c
> >
> > using:
> >
> >
> gs://gcp-public-data-goes-17/ABI-L2-FDCF/2019/201/13/OR_ABI-L2-FDCF-M6_G17_s
> > 20192011310341_e20192011319407_c20192011319507.nc
> >
> > netcdf 4.6.1
> > HDF5 claims to be 1.11.2 and is a bit newer than
> >
> https://bitbucket.hdfgroup.org/projects/HDFFV/repos/hdf5/browse?at=807187e2f
> > 200e63adb4918dd475d47546c8588e9 GDAL from head ~ 2018-Oct
> >
> > gdalinfo
> >
> NETCDF:OR_ABI-L2-FDCF-M6_G17_s20192011310341_e20192011319407_c20192011319507
> > .nc:Area Warning 1: NetCDF driver detected file type=5, but libnetcdf
> > detected type=3 Driver: netCDF/Network Common Data Format
> > Files: none associated
> > Size is 5424, 5424
> > Coordinate System is:
> > PROJCS["unnamed",
> >     GEOGCS["unknown",
> >         DATUM["unknown",
> >             SPHEROID["Spheroid",6378137,298.2572221]],
> >         PRIMEM["Greenwich",0],
> >         UNIT["degree",0.0174532925199433]],
> >     PROJECTION["Geostationary_Satellite"],
> >     PARAMETER["central_meridian",-137],
> >     PARAMETER["satellite_height",35786023],
> >     PARAMETER["false_easting",0],
> >     PARAMETER["false_northing",0],
> >     EXTENSION["PROJ4","+proj=geos +lon_0=-137 +h=35786023 +x_0=0 +y_0=0
> > +ellps=GRS80 +units=m +no_defs  +sweep=x"]]
> > Origin = (-5434894.700982173904777,-5434895.218222249299288)
> > Pixel Size = (2004.017315487541055,2004.017315487541055)
> > Metadata:
> >   Area#add_offset=4000
> >   Area#cell_methods=sunglint_angle: point (no pixel produced)
> > local_zenith_angle: point (good quality pixel produced)
> solar_zenith_angle:
> > point (good quality pixel produced) t: point
> >   Area#coordinates=sunglint_angle local_zenith_angle solar_zenith_angle
> t y
> > x
> >   Area#grid_mapping=goes_imager_projection
> >   Area#long_name=ABI L2+ Fire-Hot Spot Characterization: Fire Area
> >   Area#scale_factor=60.98
> > [SNIP]
>
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190807/10d8de5f/attachment.html>

From even.rouault at spatialys.com  Wed Aug  7 14:36:10 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 07 Aug 2019 23:36:10 +0200
Subject: [gdal-dev] NetCDF driver detected file type
In-Reply-To: <CACmBxyunnNyZ9FScybwvqPPdp8a5srEQc4KGVVtHG3tSbD9Tfg@mail.gmail.com>
References: <CACmBxysYP5+y6Z=m2WR3o+AAh=TzODtLx=Ec4Qr2XJeLgGGeYg@mail.gmail.com>
 <BN6PR2201MB124977763F7FA3DD208FDE5EF2D40@BN6PR2201MB1249.namprd22.prod.outlook.com>
 <CACmBxyunnNyZ9FScybwvqPPdp8a5srEQc4KGVVtHG3tSbD9Tfg@mail.gmail.com>
Message-ID: <3666171.cioOCeNGr4@even-i700>

On mercredi 7 août 2019 14:24:32 CEST Kurt Schwehr wrote:
> Hmm... these are netcdf 5 according to file. 

HDF5, not netCDF 5. netCDF v4 file format is a profile on top of HDF5.

> I have the extra fun that my build is bazel based. 

Ah that likely explains it... You need to add -DNETCDF_HAS_NC4 to the 
compilation flags of the frmts/netcdf/*.cpp files


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From schwehr at gmail.com  Wed Aug  7 15:18:24 2019
From: schwehr at gmail.com (Kurt Schwehr)
Date: Wed, 7 Aug 2019 15:18:24 -0700
Subject: [gdal-dev] NetCDF driver detected file type
In-Reply-To: <3666171.cioOCeNGr4@even-i700>
References: <CACmBxysYP5+y6Z=m2WR3o+AAh=TzODtLx=Ec4Qr2XJeLgGGeYg@mail.gmail.com>
 <BN6PR2201MB124977763F7FA3DD208FDE5EF2D40@BN6PR2201MB1249.namprd22.prod.outlook.com>
 <CACmBxyunnNyZ9FScybwvqPPdp8a5srEQc4KGVVtHG3tSbD9Tfg@mail.gmail.com>
 <3666171.cioOCeNGr4@even-i700>
Message-ID: <CACmBxyvVCAeaqfwfXmR8ToOZHHX0A0OKysVc6ytPbZzXJyeCug@mail.gmail.com>

Thanks!  Adding -DNETCDF_HAS_NC4 makes the warning go away.

Now I wonder what that means to users of this code that have been living
without that for forever.

I will try gdal_translate with and without that flag and see what happens.
It looks like I should see differences with unsigned types.

On Wed, Aug 7, 2019 at 2:36 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> On mercredi 7 août 2019 14:24:32 CEST Kurt Schwehr wrote:
> > Hmm... these are netcdf 5 according to file.
>
> HDF5, not netCDF 5. netCDF v4 file format is a profile on top of HDF5.
>
> > I have the extra fun that my build is bazel based.
>
> Ah that likely explains it... You need to add -DNETCDF_HAS_NC4 to the
> compilation flags of the frmts/netcdf/*.cpp files
>
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190807/0bccdf6c/attachment-0001.html>

From caboe at sdfe.dk  Wed Aug  7 23:42:58 2019
From: caboe at sdfe.dk (=?iso-8859-1?Q?Casper_B=F8rgesen?=)
Date: Thu, 8 Aug 2019 06:42:58 +0000
Subject: [gdal-dev] Rename layers in GeoPDF
Message-ID: <7c98c06a2bdd4bd68ce3a89054b88490@sdfe.dk>

Hi!

I have a GeoPDF with lots of layers where the layer names needs to be changed. Is it possible to do a simple rename of the individual layers in a GeoPDF using OGR without messing with the rest of the GeoPDF?

Regards, Casper
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190808/424e9800/attachment.html>

From even.rouault at spatialys.com  Thu Aug  8 02:30:53 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 08 Aug 2019 11:30:53 +0200
Subject: [gdal-dev] Rename layers in GeoPDF
In-Reply-To: <7c98c06a2bdd4bd68ce3a89054b88490@sdfe.dk>
References: <7c98c06a2bdd4bd68ce3a89054b88490@sdfe.dk>
Message-ID: <9262438.kpR696vdxI@even-i700>

On jeudi 8 août 2019 06:42:58 CEST Casper Børgesen wrote:
> Hi!
> 
> I have a GeoPDF with lots of layers where the layer names needs to be
> changed. Is it possible to do a simple rename of the individual layers in a
> GeoPDF using OGR without messing with the rest of the GeoPDF?

No, this is a job for a PDF editor.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From caboe at sdfe.dk  Thu Aug  8 04:18:49 2019
From: caboe at sdfe.dk (=?iso-8859-1?Q?Casper_B=F8rgesen?=)
Date: Thu, 8 Aug 2019 11:18:49 +0000
Subject: [gdal-dev] Rename layers in GeoPDF
In-Reply-To: <9262438.kpR696vdxI@even-i700>
References: <7c98c06a2bdd4bd68ce3a89054b88490@sdfe.dk>
 <9262438.kpR696vdxI@even-i700>
Message-ID: <0520408cd13e40aaa4ba55be1fd34594@sdfe.dk>

Hi Even

Thanks for your reply.

I couldn't see anything in the documentation, but just wanted to be sure.

Regards, Casper

-----Original Message-----
From: Even Rouault <even.rouault at spatialys.com> 
Sent: 8. august 2019 11:31
To: gdal-dev at lists.osgeo.org
Cc: Casper Børgesen <caboe at sdfe.dk>
Subject: Re: [gdal-dev] Rename layers in GeoPDF

On jeudi 8 août 2019 06:42:58 CEST Casper Børgesen wrote:
> Hi!
> 
> I have a GeoPDF with lots of layers where the layer names needs to be
> changed. Is it possible to do a simple rename of the individual layers in a
> GeoPDF using OGR without messing with the rest of the GeoPDF?

No, this is a job for a PDF editor.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From tobias.wendorff at tu-dortmund.de  Thu Aug  8 06:32:42 2019
From: tobias.wendorff at tu-dortmund.de (Tobias Wendorff)
Date: Thu, 8 Aug 2019 15:32:42 +0200
Subject: [gdal-dev] Rename layers in GeoPDF
In-Reply-To: <0520408cd13e40aaa4ba55be1fd34594@sdfe.dk>
References: <7c98c06a2bdd4bd68ce3a89054b88490@sdfe.dk>
 <9262438.kpR696vdxI@even-i700>
 <0520408cd13e40aaa4ba55be1fd34594@sdfe.dk>
Message-ID: <e1e3ff26aa627837e30dc0a95cd9e88f.squirrel@webmail.tu-dortmund.de>

Am Do, 8.08.2019, 13:18 schrieb Casper Børgesen:
>
> I couldn't see anything in the documentation, but just wanted to be sure.

MuPDF, QPDF etc. might be your friend? But beware: ghostscript based
tools might mess with the layers and extra data.


From even.rouault at spatialys.com  Thu Aug  8 09:06:09 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 08 Aug 2019 18:06:09 +0200
Subject: [gdal-dev] Motion: adopt RFC 75: Multidimensional array
In-Reply-To: <2401956.U8z5d6L4Wr@even-i700>
References: <2401956.U8z5d6L4Wr@even-i700>
Message-ID: <2444199.mUjeJtUztg@even-i700>

Hi,

The last piece of the work planned per RFC 75 has now been pushed to master 
with multidimensionnal support in the GRIB driver (time-based grouping for 
GRIB messages of the same variable concatenated in a same file). 

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From whiskypiper67 at yahoo.com  Thu Aug  8 20:07:04 2019
From: whiskypiper67 at yahoo.com (WhiskyPiper67)
Date: Fri, 9 Aug 2019 03:07:04 +0000 (UTC)
Subject: [gdal-dev] Requirements for GPKG support in ogr2ogr build?
References: <426067098.3116007.1565320024194.ref@mail.yahoo.com>
Message-ID: <426067098.3116007.1565320024194@mail.yahoo.com>

Hi there,
Real basic question here, I hope (but it's got me worried because I expected to find the answer in doco or discussion...)
I am building GDAL 2.3.2 on RHEL 7.
I have installed a couple of the drivers and libraries I require for my build (Oracle, PostGIS) and now I'm trying to get GeoPackage GPKG support.
What exactly are the pre-requisite installs for this?  I've installed some extra rpm packages, based upon a bit of scratching around, but I'm missing the secret sauce to get the all-important:
  GPKG -raster,vector- (rw+vs): GeoPackage
.. in my "ogr2ogr --formats" list
Thanks in anticipation!
Dave

------------------------Recent package installs (trying to light up GPKG support)

sudo yum install sqlite sqlite-devel
Installed PackagesName        : sqlite-develArch        : x86_64Version     : 3.7.17Release     : 8.el7Size        : 366 kRepo        : installedFrom repo   : rhui-REGION-rhel-server-releasesSummary     : Development tools for the sqlite3 embeddable SQL database engineURL         : http://www.sqlite.org/License     : Public DomainDescription : This package contains the header files and development documentation            : for sqlite. If you like to develop programs using sqlite, you will need            : to install sqlite-devel.
Installed PackagesName        : sqliteArch        : x86_64Version     : 3.7.17Release     : 8.el7Size        : 795 kRepo        : installedFrom repo   : anacondaSummary     : Library that implements an embeddable SQL database engineURL         : http://www.sqlite.org/License     : Public DomainDescription : SQLite is a C library that implements an SQL database engine. A large            : subset of SQL92 is supported. A complete database is stored in a            : single disk file. The API is designed for convenience and ease of use.            : Applications that link against SQLite can enjoy the power and            : flexibility of an SQL database without the administrative hassles of            : supporting a separate database server.  Version 2 and version 3 binaries            : are named to permit each to be installed on a single host



sudo yum install libspatialite libspatialite-devel

Installed PackagesName        : libspatialiteArch        : x86_64Version     : 4.1.1Release     : 2.el7Size        : 4.0 MRepo        : installedFrom repo   : epelSummary     : Enables SQLite to support spatial dataURL         : https://www.gaia-gis.it/fossil/libspatialiteLicense     : MPLv1.1 or GPLv2+ or LGPLv2+Description : SpatiaLite is a a library extending the basic SQLite core            : in order to get a full fledged Spatial DBMS, really simple            : and lightweight, but mostly OGC-SFS compliant.
Installed PackagesName        : libspatialite-develArch        : x86_64Version     : 4.1.1Release     : 2.el7Size        : 432 kRepo        : installedFrom repo   : epelSummary     : Development libraries and headers for SpatiaLiteURL         : https://www.gaia-gis.it/fossil/libspatialiteLicense     : MPLv1.1 or GPLv2+ or LGPLv2+Description : The libspatialite-devel package contains libraries and header files for            : developing applications that use libspatialite.

_______________________________
Detailed output from "configure" and eventual "ogr2ogr --formats" appears below.


$ sudo ./configure --with-oci-include=/usr/include/oracle/11.2/client64/ --with-oci-lib=/usr/lib/oracle/11.2/client64/lib -with-pg=/usr/pgsql-9.6/bin/pg_config --with-spatialite=yeschecking build system type... x86_64-pc-linux-gnuchecking host system type... x86_64-pc-linux-gnuchecking for gcc... gccchecking whether the C compiler works... yeschecking for C compiler default output file name... a.outchecking for suffix of executables...checking whether we are cross compiling... nochecking for suffix of object files... ochecking whether we are using the GNU C compiler... yeschecking whether gcc accepts -g... yeschecking for gcc option to accept ISO C89... none neededchecking C_WFLAGS for maximum warnings... -Wall -Wdeclaration-after-statementchecking for g++... g++checking whether we are using the GNU C++ compiler... yeschecking whether g++ accepts -g... yeschecking CXX_WFLAGS for maximum warnings... -Wallchecking whether C compiler accepts -Werror -we10006... nochecking whether C compiler accepts -diag-disable 188,1684,2259,2304,3280,11074,11076... nochecking whether C compiler accepts -Wextra... yeschecking whether C compiler accepts -Winit-self... yeschecking whether C compiler accepts -Wunused-parameter... yeschecking whether C compiler accepts -Wmissing-prototypes... yeschecking whether C compiler accepts -Wmissing-declarations... yeschecking whether C compiler accepts -Wformat... yeschecking whether C compiler accepts -Wformat -Werror=format-security -Wno-format-nonliteral... yeschecking whether C compiler accepts -Wshorten-64-to-32... nochecking whether C compiler accepts -Wlogical-op... yeschecking whether C compiler accepts -Wshadow... yeschecking whether C compiler accepts -Werror=vla... yeschecking whether C compiler accepts -Werror=declaration-after-statement... yeschecking whether C compiler accepts -Wdate-time... nochecking whether C compiler accepts -Wnull-dereference... nochecking whether C compiler accepts -Wduplicated-cond... nochecking whether C++ compiler accepts -Wextra-semi... nochecking whether C compiler accepts -Wno-sign-compare... yeschecking whether C compiler accepts -Wcomma... nochecking whether C compiler accepts -Wfloat-conversion... nochecking whether C compiler accepts -Wdocumentation -Wno-documentation-deprecated-sync... nochecking if -std=gnu89 can be enabled... yeschecking whether C++ compiler accepts -Wunused-private-field... nochecking whether C++ compiler accepts -Wmissing-prototypes... nochecking whether C++ compiler accepts -Wmissing-declarations... yeschecking whether C++ compiler accepts -Wnon-virtual-dtor... yeschecking whether C++ compiler accepts -Wold-style-cast... yeschecking whether C++ compiler accepts -Woverloaded-virtual... yeschecking whether C++ compiler accepts -fno-operator-names... yeschecking whether C++ compiler accepts -Wzero-as-null-pointer-constant... yeschecking if use C++14 compiler options... disabled by userchecking whether g++ supports C++11 features by default... nochecking whether g++ supports C++11 features with -std=c++11... yeschecking whether C++ compiler accepts -Wsuggest-override... nochecking if -Wimplicit-fallthrough can be enabled... nochecking for gcc... (cached) gccchecking whether we are using the GNU C compiler... (cached) yeschecking whether gcc accepts -g... (cached) yeschecking for gcc option to accept ISO C89... (cached) none neededchecking whether we are using the GNU C++ compiler... (cached) yeschecking whether g++ -std=c++11 accepts -g... (cached) yeschecking how to print strings... printfchecking for a sed that does not truncate output... /bin/sedchecking for grep that handles long lines and -e... /bin/grepchecking for egrep... /bin/grep -Echecking for fgrep... /bin/grep -Fchecking for ld used by gcc... /bin/ldchecking if the linker (/bin/ld) is GNU ld... yeschecking for BSD- or MS-compatible name lister (nm)... /bin/nm -Bchecking the name lister (/bin/nm -B) interface... BSD nmchecking whether ln -s works... yeschecking the maximum length of command line arguments... 1572864checking how to convert x86_64-pc-linux-gnu file names to x86_64-pc-linux-gnu format... func_convert_file_noopchecking how to convert x86_64-pc-linux-gnu file names to toolchain format... func_convert_file_noopchecking for /bin/ld option to reload object files... -rchecking for objdump... objdumpchecking how to recognize dependent libraries... pass_allchecking for dlltool... dlltoolchecking how to associate runtime and link libraries... printf %s\nchecking for ar... archecking for archiver @FILE support... @checking for strip... stripchecking for ranlib... ranlibchecking for gawk... gawkchecking command to parse /bin/nm -B output from gcc object... okchecking for sysroot... nochecking for a working dd... /bin/ddchecking how to truncate binary pipes... /bin/dd bs=4096 count=1checking for mt... nochecking if : is a manifest tool... nochecking how to run the C preprocessor... gcc -Echecking for ANSI C header files... yeschecking for sys/types.h... yeschecking for sys/stat.h... yeschecking for stdlib.h... yeschecking for string.h... yeschecking for memory.h... yeschecking for strings.h... yeschecking for inttypes.h... yeschecking for stdint.h... yeschecking for unistd.h... yeschecking for dlfcn.h... yeschecking for objdir... .libschecking if gcc supports -fno-rtti -fno-exceptions... nochecking for gcc option to produce PIC... -fPIC -DPICchecking if gcc PIC flag -fPIC -DPIC works... yeschecking if gcc static flag -static works... nochecking if gcc supports -c -o file.o... yeschecking if gcc supports -c -o file.o... (cached) yeschecking whether the gcc linker (/bin/ld -m elf_x86_64) supports shared libraries... yeschecking whether -lc should be explicitly linked in... nochecking dynamic linker characteristics... GNU/Linux ld.sochecking how to hardcode library paths into programs... immediatechecking whether stripping libraries is possible... yeschecking if libtool supports shared libraries... yeschecking whether to build shared libraries... yeschecking whether to build static libraries... yeschecking how to run the C++ preprocessor... g++ -std=c++11 -Echecking for ld used by g++ -std=c++11... /bin/ld -m elf_x86_64checking if the linker (/bin/ld -m elf_x86_64) is GNU ld... yeschecking whether the g++ -std=c++11 linker (/bin/ld -m elf_x86_64) supports shared libraries... yeschecking for g++ -std=c++11 option to produce PIC... -fPIC -DPICchecking if g++ -std=c++11 PIC flag -fPIC -DPIC works... yeschecking if g++ -std=c++11 static flag -static works... nochecking if g++ -std=c++11 supports -c -o file.o... yeschecking if g++ -std=c++11 supports -c -o file.o... (cached) yeschecking whether the g++ -std=c++11 linker (/bin/ld -m elf_x86_64) supports shared libraries... yeschecking dynamic linker characteristics... (cached) GNU/Linux ld.sochecking how to hardcode library paths into programs... immediatechecking for std::isnan... yeschecking for dlopen in -ldl... yeschecking for nanosleep in -lrt... yeschecking for sin in -lm... yeschecking for ANSI C header files... (cached) yeschecking assert.h usability... yeschecking assert.h presence... yeschecking for assert.h... yeschecking fcntl.h usability... yeschecking fcntl.h presence... yeschecking for fcntl.h... yeschecking for unistd.h... (cached) yeschecking dbmalloc.h usability... nochecking dbmalloc.h presence... nochecking for dbmalloc.h... nochecking for dlfcn.h... (cached) yeschecking for stdint.h... (cached) yeschecking limits.h usability... yeschecking limits.h presence... yeschecking for limits.h... yeschecking locale.h usability... yeschecking locale.h presence... yeschecking for locale.h... yeschecking values.h usability... yeschecking values.h presence... yeschecking for values.h... yeschecking float.h usability... yeschecking float.h presence... yeschecking for float.h... yeschecking errno.h usability... yeschecking errno.h presence... yeschecking for errno.h... yeschecking direct.h usability... nochecking direct.h presence... nochecking for direct.h... nochecking whether byte ordering is bigendian... nochecking for 64bit integer type... long longchecking for 64bit file io... yeschecking for stat64... yeschecking for fopen64... yeschecking for ftruncate64... yeschecking size of int... 4checking size of unsigned long... 8checking size of void*... 8checking for int8... nochecking for int16... nochecking for int32... nochecking for uintptr_t... yeschecking native cpu bit order... lsb2msbchecking for vprintf... yeschecking for _doprnt... nochecking for snprintf... yeschecking for vsnprintf... yeschecking for atoll... yeschecking for strtof... yeschecking for getcwd... yeschecking whether strtof is declared... yeschecking for readlink... yeschecking for lstat... yeschecking for posix_spawnp... yeschecking for posix_memalign... yeschecking for vfork... yeschecking for mmap... yeschecking for sigaction... yeschecking for statvfs... yeschecking for statvfs64... yeschecking for gmtime_r... yeschecking for localtime_r... yeschecking for uselocale... yeschecking to enable debug build... no, CFLAGS="-g -O2"checking whether GCC 4.1 atomic builtins are available... yeschecking whether GCC bswap builtins are available... yeschecking for __uint128_t... yeschecking whether SSE is available at compile time... yeschecking whether SSSE3 is available at compile time... yeschecking whether AVX is available at compile time... yeschecking to enable LTO (link time optimization) build... nochecking whether we should hide internal symbols... nochecking for local include/lib path... nonechecking for pthread_create in -lpthread... yeschecking for PTHREAD_MUTEX_RECURSIVE... yeschecking for PTHREAD_MUTEX_ADAPTIVE_NP... yeschecking for pthread_spinlock_t... yeschecking for 5 args mremap()... yeschecking for _SC_PHYS_PAGES... yeschecking for deflateInit_ in -lz... nousing internal libz code as deflateInit_ is missingusing internal libz code.checking for ld used by GCC... /bin/ld -m elf_x86_64checking if the linker (/bin/ld -m elf_x86_64) is GNU ld... yeschecking for shared library run path origin... /bin/sh: ./config.rpath: No such file or directorydonechecking for iconv... yeschecking for working iconv... yeschecking for iconv declaration...         extern size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);using ICONV_CPP_CONST=""checking for ZSTD_decompressStream in -lzstd... nolibzstd not found - ZSTD support disabledchecking for PostgreSQL... yeschecking for PQconnectdb in -lpq... yeschecking for G_gisinit_2 in -lgrass5... nochecking for ffopen in -lcfitsio... nolibcfitsio not found - FITS support disabledchecking for Mopen in -lcsf... nochecking csf.h usability... nochecking csf.h presence... nochecking for csf.h... nousing internal csf code.checking for libpng... checking for png_set_IHDR in -lpng... nochecking png.h usability... nochecking png.h presence... nochecking for png.h... nousing internal png code.checking for libcrunch... dds support disabled.checking for gta_version in -lgta... nolibgta not found - GTA support disabledchecking for PCIDSK... using internal libpcidsk.checking for libtiff... checking for TIFFScanlineSize64 in -ltiff... nousing internal TIFF code.BigTIFF support enabled.using internal GeoTIFF code.checking for jpeg_read_scanlines in -ljpeg... nochecking jpeglib.h usability... nochecking jpeglib.h presence... nochecking for jpeglib.h... nousing internal jpeg code.checking CharLS/interface.h usability... nochecking CharLS/interface.h presence... nochecking for CharLS/interface.h... nochecking for jpeg12... enabledchecking for DGifOpenFileName in -lgif... nochecking gif_lib.h usability... nochecking gif_lib.h presence... nochecking for gif_lib.h... nousing internal gif code.checking ecs.h usability... nochecking ecs.h presence... nochecking for ecs.h... nochecking for FMEObjects... noSOSI support disabled.checking for MongoCXX... MongoCXX not found.checking for SDreaddata in -lmfhdfalt... nochecking for SDreaddata in -lmfhdf... nochecking for SDreaddata in -lhdf4... nochecking for SDreaddata in -lmfhdf... nochecking for SDreaddata in -lmfhdf... nochecking for pkg-config... /bin/pkg-configchecking pkg-config is at least version 0.21... yeschecking for HDF5... nochecking for H5Fopen in -lhdf5... nochecking for kea-config... nochecking for kea... nochecking for nc-config... no        did not find nc-config, some features may be missing        use --with-netcdf=/path/to/netcdf or add nc-config to PATHchecking for nc_open in -lnetcdf... nolibnetcdf not found ... netCDF support disabledchecking for jpc_decode in -ljasper... nochecking for jp2_decode in -ljasper... nochecking for pgx_decode in -ljasper... nochecking for pkg-config... (cached) /bin/pkg-configchecking pkg-config is at least version 0.21... yeschecking for OPENJPEG... nochecking for FileGDBAPI... FileGDBAPI not found.checking for NCScbmOpenFileView in -lNCSEcw... nochecking for NCScbmOpenFileView in -lecwj2... nochecking for Kakadu JPEG2000 support... not requested.configure: MrSID support disabled.configure: MrSID/MG4 Lidar support disabled.checking for JP2Lura support... checking for MSG... not requestedchecking for BSB... enabledchecking for Oracle OCI headers in /usr/include/oracle/11.2/client64/... yeschecking for Oracle OCI libraries in /usr/lib/oracle/11.2/client64/lib... yeschecking if Oracle OCI version is >= 10.0.1 ... yeschecking for Oracle version >= 10.x to use -lnnz10 flag... yeschecking if Oracle support is enabled... yeschecking for GRIB... enabledenabledchecking for MySQL... nochecking for Ingres... nochecking for Xerces C++ Parser... nochecking for Expat XML Parser... nochecking for pkg-config... (cached) /bin/pkg-configchecking pkg-config is at least version 0.21... yeschecking for LIBKML... nochecking for Google libkml... nocheck for unixODBCchecking for SQLConnect in -lodbc... yeschecking for SQLInstallDriverEx in -lodbcinst... yeschecking for sql.h... nosql.h not foundchecking for Oracle OCI headers in /usr/include/oracle/11.2/client64/... yeschecking for Oracle OCI libraries in /usr/lib/oracle/11.2/client64/lib... yeschecking if Oracle OCI version is >= 8.1.7 ... yeschecking for Oracle version >= 10.x to use -lnnz10 flag... yeschecking if Oracle support is enabled... yeschecking for DODS... disabledchecking for curl-config... nochecking for xml2-config... nochecking for spatialite... checking sqlite3.h usability... yeschecking sqlite3.h presence... yeschecking for sqlite3.h... yeschecking for spatialite.h in /usr/include or /usr/local/include... foundchecking for spatialite_init in -lspatialite... yeschecking for spatialite_target_cpu in -lspatialite... nochecking for sqlite3_column_table_name in -lsqlite3... yesconfigure: rasterlite2 support disabledchecking pcre.h usability... nochecking pcre.h presence... nochecking for pcre.h... nochecking Checking for Teigha... disabledconfigure: IBM Informix DataBlade not supported.configure: checking whether we should include ESRI SDE support...        ESRI SDE support not requested.checking for WebPDecodeRGB in -lwebp... nolibwebp not found - WEBP support disabledchecking for geos-config... nochecking for sfcgal-config... nochecking qhull/libqhull.h usability... nochecking qhull/libqhull.h presence... nochecking for qhull/libqhull.h... nochecking libqhull/libqhull.h usability... nochecking libqhull/libqhull.h presence... nochecking for libqhull/libqhull.h... nochecking for OpenCL support... nochecking for FreeXL support... checking freexl.h usability... nochecking freexl.h presence... nochecking for freexl.h... nochecking for freexl_open in -lfreexl... nochecking for freexl_open in -lfreexl... nochecking for freexl_open in -lfreexl... nochecking for freexl_open in -lfreexl... nochecking for freexl_open in -lfreexl... nolibfreexl not found - FreeXL support disabledchecking for json_object_set_serializer in -ljson-c... nousing internal libjson-c codechecking whether to enable PAM... yeschecking whether to build PDF driver as a plugin... nochecking for poppler... disabledchecking for podofo... disabledchecking for pdfium... disabledchecking how to link PROJ library... link dynamically.checking GDAL version information from gdal_version.h.in: 2.3.2checking for perl bindings... disabledchecking for php bindings... disabledchecking for python bindings... disabledchecking whether we should include Java support... nochecking whether we should include MDB support... noconfigure: checking whether we should include rasdaman support...        rasdaman support not requested.checking whether we should include Armadillo support... nochecking for cryptopp... nochecking for crypto... checking for EVP_sha256 in -lcrypto... nochecking for MRF... enabledchecking for NULL... disabledchecking if sprintf can be overloaded for GDAL compilation... yesconfigure: creating ./config.statusconfig.status: creating GDALmake.optconfig.status: WARNING:  'GDALmake.opt.in' seems to ignore the --datarootdir settingconfig.status: creating port/cpl_config.hconfig.status: port/cpl_config.h is unchangedconfig.status: executing libtool commands
GDAL is now configured for x86_64-pc-linux-gnu
  Installation directory:    /usr/local  C compiler:                gcc -DHAVE_AVX_AT_COMPILE_TIME -DHAVE_SSSE3_AT_COMPILE_TIME -DHAVE_SSE_AT_COMPILE_TIME -g -O2  C++ compiler:              g++ -std=c++11 -DHAVE_AVX_AT_COMPILE_TIME -DHAVE_SSSE3_AT_COMPILE_TIME -DHAVE_SSE_AT_COMPILE_TIME -g -O2  C++14 support:             no
  LIBTOOL support:           yes
  LIBZ support:              internal  LIBLZMA support:           no  ZSTD support:              no  cryptopp support:          no  crypto/openssl support:    no  GRASS support:             no  CFITSIO support:           no  PCRaster support:          internal  LIBPNG support:            internal  DDS support:               no  GTA support:               no  LIBTIFF support:           internal (BigTIFF=yes)  LIBGEOTIFF support:        internal  LIBJPEG support:           internal  12 bit JPEG:               yes  12 bit JPEG-in-TIFF:       yes  LIBGIF support:            internal  JPEG-Lossless/CharLS:      no  OGDI support:              no  HDF4 support:              no  HDF5 support:              no  Kea support:               no  NetCDF support:            no  Kakadu support:            no  JasPer support:            no  OpenJPEG support:          no  ECW support:               no  MrSID support:             no  MrSID/MG4 Lidar support:   no  JP2Lura support:           no  MSG support:               no  GRIB support:              yes  EPSILON support:           no  WebP support:              no  cURL support (wms/wcs/...):no  PostgreSQL support:        yes  MRF support:               yes  MySQL support:             no  Ingres support:            no  Xerces-C support:          no  NAS support:               no  Expat support:             no  libxml2 support:           no  Google libkml support:     no  ODBC support:              no  PGeo support:              no  FGDB support:              no  MDB support:               no  PCIDSK support:            internal  OCI support:               yes  GEORASTER support:         yes  SDE support:               no  Rasdaman support:          no  DODS support:              no  SQLite support:            yes  PCRE support:              no  SpatiaLite support:        yes  RasterLite2 support:       no  Teigha (DWG and DGNv8):    no  INFORMIX DataBlade support:no  GEOS support:              no  SFCGAL support:            no  QHull support:             internal  Poppler support:           no  Podofo support:            no  PDFium support:            no  OpenCL support:            no  Armadillo support:         no  FreeXL support:            no  SOSI support:              no  MongoDB support:           no

  SWIG Bindings:             no
  Statically link PROJ:      no  enable GNM building:       yes  enable pthread support:    yes  enable POSIX iconv support:yes  hide internal symbols:     no
_______________________________________________
Supported Formats:  PCIDSK -raster,vector- (rw+v): PCIDSK Database File  PDF -raster,vector- (w+): Geospatial PDF  MBTiles -raster,vector- (rw+v): MBTiles  ESRI Shapefile -vector- (rw+v): ESRI Shapefile  MapInfo File -vector- (rw+v): MapInfo File  UK .NTF -vector- (rov): UK .NTF  OGR_SDTS -vector- (rov): SDTS  S57 -vector- (rw+v): IHO S-57 (ENC)  DGN -vector- (rw+v): Microstation DGN  OGR_VRT -vector- (rov): VRT - Virtual Datasource  REC -vector- (ro): EPIInfo .REC  Memory -vector- (rw+): Memory  BNA -vector- (rw+v): Atlas BNA  CSV -vector- (rw+v): Comma Separated Value (.csv)  GML -vector- (rw+v): Geography Markup Language (GML)  GPX -vector- (rw+v): GPX  KML -vector- (rw+v): Keyhole Markup Language (KML)  GeoJSON -vector- (rw+v): GeoJSON  ESRIJSON -vector- (rov): ESRIJSON  TopoJSON -vector- (rov): TopoJSON  OGR_GMT -vector- (rw+v): GMT ASCII Vectors (.gmt)  WAsP -vector- (rw+v): WAsP .map format  PostgreSQL -vector- (rw+): PostgreSQL/PostGIS  OCI -vector- (rw+): Oracle Spatial  OpenFileGDB -vector- (rov): ESRI FileGDB  XPlane -vector- (rov): X-Plane/Flightgear aeronautical data  DXF -vector- (rw+v): AutoCAD DXF  CAD -raster,vector- (rovs): AutoCAD Driver  Geoconcept -vector- (rw+v): Geoconcept  GeoRSS -vector- (rw+v): GeoRSS  GPSTrackMaker -vector- (rw+v): GPSTrackMaker  PGDUMP -vector- (w+v): PostgreSQL SQL dump  GPSBabel -vector- (rw+): GPSBabel  SUA -vector- (rov): Tim Newport-Peace's Special Use Airspace Format  OpenAir -vector- (rov): OpenAir  OGR_PDS -vector- (rov): Planetary Data Systems TABLE  HTF -vector- (rov): Hydrographic Transfer Vector  AeronavFAA -vector- (rov): Aeronav FAA  EDIGEO -vector- (rov): French EDIGEO exchange format  SVG -vector- (rov): Scalable Vector Graphics  Idrisi -vector- (rov): Idrisi Vector (.vct)  ARCGEN -vector- (rov): Arc/Info Generate  SEGUKOOA -vector- (rov): SEG-P1 / UKOOA P1/90  SEGY -vector- (rov): SEG-Y  SXF -vector- (rov): Storage and eXchange Format  Selafin -vector- (rw+v): Selafin  JML -vector- (rw+v): OpenJUMP JML  VDV -vector- (rw+v): VDV-451/VDV-452/INTREST Data Format  MVT -vector- (rov): Mapbox Vector Tiles  TIGER -vector- (rw+v): U.S. Census TIGER/Line  AVCBin -vector- (rov): Arc/Info Binary Coverage  AVCE00 -vector- (rov): Arc/Info E00 (ASCII) Coverage




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190809/16c75c1b/attachment-0001.html>

From even.rouault at spatialys.com  Fri Aug  9 00:48:56 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 09 Aug 2019 09:48:56 +0200
Subject: [gdal-dev] Requirements for GPKG support in ogr2ogr build?
In-Reply-To: <426067098.3116007.1565320024194@mail.yahoo.com>
References: <426067098.3116007.1565320024194.ref@mail.yahoo.com>
 <426067098.3116007.1565320024194@mail.yahoo.com>
Message-ID: <2055178.rlSxffvQDN@even-i700>

On vendredi 9 août 2019 03:07:04 CEST WhiskyPiper67 wrote:
> SQLite support

Make sure you "make clean" before rebuilding after each change in ./configure 
flags and/or new package new installed. Given that there is "SQLite support: 
yes" in the configure output, that should do it

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From whiskypiper67 at yahoo.com  Fri Aug  9 01:57:01 2019
From: whiskypiper67 at yahoo.com (WhiskyPiper67)
Date: Fri, 9 Aug 2019 08:57:01 +0000 (UTC)
Subject: [gdal-dev] Requirements for GPKG support in ogr2ogr build?
In-Reply-To: <2055178.rlSxffvQDN@even-i700>
References: <426067098.3116007.1565320024194.ref@mail.yahoo.com>
 <426067098.3116007.1565320024194@mail.yahoo.com>
 <2055178.rlSxffvQDN@even-i700>
Message-ID: <1743607023.3187827.1565341021976@mail.yahoo.com>

 Oh wow...  Rookie error!
Thank you very much for setting me straight, Even.
"make clean" did the trick.


  GPKG -raster,vector- (rw+vs): GeoPackage

That's what I'm after!!
Cheers,
Dave
    On Friday, 9 August 2019, 05:48:59 pm AEST, Even Rouault <even.rouault at spatialys.com> wrote:  
 
 On vendredi 9 août 2019 03:07:04 CEST WhiskyPiper67 wrote:
> SQLite support

Make sure you "make clean" before rebuilding after each change in ./configure 
flags and/or new package new installed. Given that there is "SQLite support: 
yes" in the configure output, that should do it

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190809/7c20ff0d/attachment.html>

From j.l.h.hartmann at uva.nl  Fri Aug  9 04:31:57 2019
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Fri, 9 Aug 2019 13:31:57 +0200
Subject: [gdal-dev] ogr2ogr -tps with more than 1000 control points
Message-ID: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>

Hi all,

I'm converting large historical vector maps with ogr2ogr, using -gcp and 
-tps to rubbersheet the polygons with control points. Works fine up to 
about a thousand control points, each in the form of "-gcp fromx fromy 
tox toy". After that, the converted map becomes erratic. Is this a bug?

BTW, I am using gdal 2.1.0

Regards,

Jan Hartmann
Amsterdam

From even.rouault at spatialys.com  Fri Aug  9 08:59:56 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 09 Aug 2019 17:59:56 +0200
Subject: [gdal-dev] ogr2ogr -tps with more than 1000 control points
In-Reply-To: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>
References: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>
Message-ID: <12547841.MRZDVIne2O@even-i700>

On vendredi 9 août 2019 13:31:57 CEST Jan Hartmann wrote:
> Hi all,
> 
> I'm converting large historical vector maps with ogr2ogr, using -gcp and
> -tps to rubbersheet the polygons with control points. Works fine up to
> about a thousand control points, each in the form of "-gcp fromx fromy
> tox toy". After that, the converted map becomes erratic. Is this a bug?

Two hypothesis:
- the extra GCP you're adding are wrong
- there's numerical instability in the matrix computations with the extra GCP. 
If your GDAL build doesn't use libarmadillo, then consider rebuilding against 
it, as it might improve numeric stability.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From j.l.h.hartmann at uva.nl  Fri Aug  9 11:08:31 2019
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Fri, 9 Aug 2019 20:08:31 +0200
Subject: [gdal-dev] ogr2ogr -tps with more than 1000 control points
In-Reply-To: <12547841.MRZDVIne2O@even-i700>
References: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>
 <12547841.MRZDVIne2O@even-i700>
Message-ID: <9f598987-b005-016b-d376-d77132ac08a5@uva.nl>

Thanks Even. GDAL was built with Armadillo, so I'm going to test the 
GCP's. Just wanted to be sure there was no possibility of a buffer 
overflow, or something like that. The program should be able to handle 
an unlimited number of control points, right?

On 8/9/2019 5:59 PM, Even Rouault wrote:
> On vendredi 9 août 2019 13:31:57 CEST Jan Hartmann wrote:
>> Hi all,
>>
>> I'm converting large historical vector maps with ogr2ogr, using -gcp and
>> -tps to rubbersheet the polygons with control points. Works fine up to
>> about a thousand control points, each in the form of "-gcp fromx fromy
>> tox toy". After that, the converted map becomes erratic. Is this a bug?
> Two hypothesis:
> - the extra GCP you're adding are wrong
> - there's numerical instability in the matrix computations with the extra GCP.
> If your GDAL build doesn't use libarmadillo, then consider rebuilding against
> it, as it might improve numeric stability.
>
> Even
>


From even.rouault at spatialys.com  Fri Aug  9 11:19:11 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 09 Aug 2019 20:19:11 +0200
Subject: [gdal-dev] ogr2ogr -tps with more than 1000 control points
In-Reply-To: <9f598987-b005-016b-d376-d77132ac08a5@uva.nl>
References: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>
 <12547841.MRZDVIne2O@even-i700> <9f598987-b005-016b-d376-d77132ac08a5@uva.nl>
Message-ID: <2747300.Q0Wsn8rd6Q@even-i700>

On vendredi 9 août 2019 20:08:31 CEST Jan Hartmann wrote:
> Thanks Even. GDAL was built with Armadillo, so I'm going to test the
> GCP's. Just wanted to be sure there was no possibility of a buffer
> overflow, or something like that. The program should be able to handle
> an unlimited number of control points, right?

I'd rather say there's no hard-coded limit ;-) But the processing time will 
increase with the number of GCPs: linearly when applying the result of the GCP 
adjustment for each point transformed, and with an initial computation cost of 
the adjustment coefficients that has a complexiy a bit below O(n^3).

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From j.l.h.hartmann at uva.nl  Fri Aug  9 12:17:30 2019
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Fri, 9 Aug 2019 21:17:30 +0200
Subject: [gdal-dev] ogr2ogr -tps with more than 1000 control points
In-Reply-To: <2747300.Q0Wsn8rd6Q@even-i700>
References: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>
 <12547841.MRZDVIne2O@even-i700> <9f598987-b005-016b-d376-d77132ac08a5@uva.nl>
 <2747300.Q0Wsn8rd6Q@even-i700>
Message-ID: <0560bc85-6841-7d1b-1a23-f7a76eacc434@uva.nl>

Yes, I already noticed that. But a run with thousand gcp's is still 
quite fast. I am looking for a smart way to segment these large maps. 
You cannot rubbersheet them in many  parts, because then the borders 
won't fit any more. The only thing I can come up with at the moment is 
creating common points on the borders of adjacent parts, and adding them 
to the control points. If you have any ideas, let me know.

Jan

On 8/9/2019 8:19 PM, Even Rouault wrote:
> On vendredi 9 août 2019 20:08:31 CEST Jan Hartmann wrote:
>> Thanks Even. GDAL was built with Armadillo, so I'm going to test the
>> GCP's. Just wanted to be sure there was no possibility of a buffer
>> overflow, or something like that. The program should be able to handle
>> an unlimited number of control points, right?
> I'd rather say there's no hard-coded limit ;-) But the processing time will
> increase with the number of GCPs: linearly when applying the result of the GCP
> adjustment for each point transformed, and with an initial computation cost of
> the adjustment coefficients that has a complexiy a bit below O(n^3).
>
> Even
>


From klassen.js at gmail.com  Sun Aug 11 07:12:47 2019
From: klassen.js at gmail.com (Jim Klassen)
Date: Sun, 11 Aug 2019 09:12:47 -0500
Subject: [gdal-dev] Motion: adopt RFC 75: Multidimensional array
In-Reply-To: <4277101.Lmhhqi092r@even-i700>
References: <2401956.U8z5d6L4Wr@even-i700> <2727413.k7Hm4ExgPC@even-i700>
 <BN6PR17MB161944DCBC1A81797AD088C0C2D40@BN6PR17MB1619.namprd17.prod.outlook.com>
 <4277101.Lmhhqi092r@even-i700>
Message-ID: <e62473d2-f1ce-07ac-1306-26081cf8a0df@gmail.com>

There could be a vsipreload script that sets the environment variable 
and then execs its parameters similar to how eatmydata [1] works.

[1] https://manpages.debian.org/testing/eatmydata/eatmydata.1.en.html

On 8/7/19 4:10 PM, Even Rouault wrote:
> On mercredi 7 août 2019 20:58:54 CEST Joe Lee wrote:
>> Hi, Even!
>>
>>    Is there a configure flag for enabling it by default without relying on
>> LD_PRELOAD=...? (e.g., --with-vsipreload)
> No,
> - this needs to be loaded with LD_PRELOAD because it overrides very common
> symbols of the libc (fopen, etc..) and thus it needs to be loaded in a special
> way so that the symbols of vsipreload.so are actually used and not the libc
> ones.
> - it is better to keep it in a separate library, because I can easily imagine
> that having fopen() and the like re-defined in libgdal.so could cause serious
> mess.
>
> So all in all, this is a convenient trick, but this remains an experimental &
> somewhat dangerous hack to be used in last resort.
>
> Even
>

From shawn.gong at mdacorporation.com  Mon Aug 12 13:33:03 2019
From: shawn.gong at mdacorporation.com (Gong, Shawn)
Date: Mon, 12 Aug 2019 20:33:03 +0000
Subject: [gdal-dev] gdal_merge
Message-ID: <7DCBC135929FF74E8A5488B1814AC6BC5D495AFA@exbermd02.ds.mda.ca>

Hi list,

I use gdal_merge to mosaic a set of DTED 1 and 2 chips.
DTED contains -32767 as nodata. But after merging, -32767 are reset as 0.
I tried to use "-n -32767" but getting the same result.

Is there a way to keep the -32767 values?

Thanks,
Shawn

This electronic correspondence, including any attachments, is intended solely for the use of the intended recipient(s) and may contain legally privileged, proprietary and/or confidential information. If you are not the intended recipient, please immediately notify the sender by reply e-mail and permanently delete all copies of this electronic correspondence and associated attachments. Any use, disclosure, dissemination, distribution or copying of this electronic correspondence and any attachments for any purposes that have not been specifically authorized by the sender is strictly prohibited.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190812/0f22e51d/attachment.html>

From Martin.Franzke at telekom.de  Tue Aug 13 00:42:02 2019
From: Martin.Franzke at telekom.de (Martin.Franzke at telekom.de)
Date: Tue, 13 Aug 2019 07:42:02 +0000
Subject: [gdal-dev] ogr2ogr -tps with more than 1000 control points
In-Reply-To: <0560bc85-6841-7d1b-1a23-f7a76eacc434@uva.nl>
References: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>
 <12547841.MRZDVIne2O@even-i700> <9f598987-b005-016b-d376-d77132ac08a5@uva.nl>
 <2747300.Q0Wsn8rd6Q@even-i700> <0560bc85-6841-7d1b-1a23-f7a76eacc434@uva.nl>
Message-ID: <LEXPR01MB107231FC48310199A53E1388E8D20@LEXPR01MB1072.DEUPRD01.PROD.OUTLOOK.DE>

Hi Jan,

I had a similar problem, which was solved by normalizing the TPS equations. The patch (https://github.com/OSGeo/gdal/commit/c85c58ac781ef781cd126006d91cb5eed2dd53e2) is included in gdal versions >= 2.4. This may help you as well.

Martin

-----Ursprüngliche Nachricht-----
Von: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Im Auftrag von Jan Hartmann
Gesendet: Freitag, 9. August 2019 21:18
An: Even Rouault <even.rouault at spatialys.com>
Cc: gdal-dev at lists.osgeo.org
Betreff: Re: [gdal-dev] ogr2ogr -tps with more than 1000 control points

Yes, I already noticed that. But a run with thousand gcp's is still quite fast. I am looking for a smart way to segment these large maps. 
You cannot rubbersheet them in many  parts, because then the borders won't fit any more. The only thing I can come up with at the moment is creating common points on the borders of adjacent parts, and adding them to the control points. If you have any ideas, let me know.

Jan

On 8/9/2019 8:19 PM, Even Rouault wrote:
> On vendredi 9 août 2019 20:08:31 CEST Jan Hartmann wrote:
>> Thanks Even. GDAL was built with Armadillo, so I'm going to test the
>> GCP's. Just wanted to be sure there was no possibility of a buffer
>> overflow, or something like that. The program should be able to handle
>> an unlimited number of control points, right?
> I'd rather say there's no hard-coded limit ;-) But the processing time will
> increase with the number of GCPs: linearly when applying the result of the GCP
> adjustment for each point transformed, and with an initial computation cost of
> the adjustment coefficients that has a complexiy a bit below O(n^3).
>
> Even
>

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev

From jukka.rahkonen at maanmittauslaitos.fi  Tue Aug 13 01:51:24 2019
From: jukka.rahkonen at maanmittauslaitos.fi (jratike80)
Date: Tue, 13 Aug 2019 01:51:24 -0700 (MST)
Subject: [gdal-dev] gdal_merge
In-Reply-To: <7DCBC135929FF74E8A5488B1814AC6BC5D495AFA@exbermd02.ds.mda.ca>
References: <7DCBC135929FF74E8A5488B1814AC6BC5D495AFA@exbermd02.ds.mda.ca>
Message-ID: <1565686284452-0.post@n6.nabble.com>

Hi,

If you read https://gdal.org/programs/gdal_merge.html carefully you'll
notice that -n is used for telling what nodata value is used in the source
files and it is only needed if GDAL can't recognize it automatically. Try
-a_nodata -32767 instead "Assign a specified nodata value to output bands."

-Jukka Rahkonen-


Gong, Shawn-2 wrote
> Hi list,
> 
> I use gdal_merge to mosaic a set of DTED 1 and 2 chips.
> DTED contains -32767 as nodata. But after merging, -32767 are reset as 0.
> I tried to use "-n -32767" but getting the same result.
> 
> Is there a way to keep the -32767 values?
> 
> Thanks,
> Shawn





--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From aborruso at gmail.com  Tue Aug 13 02:44:40 2019
From: aborruso at gmail.com (aborruso)
Date: Tue, 13 Aug 2019 02:44:40 -0700 (MST)
Subject: [gdal-dev] OGR, WFS and axis
Message-ID: <1565689480702-0.post@n6.nabble.com>

Hi all,
I have this WFS source
http://map.sitr.regione.sicilia.it/orbs/services/geositi/catalogo_geositi/MapServer/WFSServer?service=wfs&request=GetCapabilities

If I run

ogr2ogr -skipfailures -f CSV /vsistdout/ 
wfs:"http://map.sitr.regione.sicilia.it/orbs/services/geositi/catalogo_geositi/MapServer/WFSServer"
-lco GEOMETRY=AS_XY | head | cut -d "," -f1,2 

I have

X,Y
4159848.6057,407652.2197
4136669.4918,351648.1382
4182103.6455,368602.1861
4154094.0909,333347.9184
4222851.1989,329366.679
4271030.7208,460470.4647
4161643.0469,416859.4389
4270544.3923,458291.9136
4213272.6393,324524.3777

The axes are inverted and it's the same if I us
INVERT_AXIS_ORDER_IF_LAT_LONG parameter.

Is there a way to read it properly, without using some SQL like "SELECT
SwapCoordinates(geometry)".

Thank you



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From jukka.rahkonen at maanmittauslaitos.fi  Tue Aug 13 03:14:13 2019
From: jukka.rahkonen at maanmittauslaitos.fi (jratike80)
Date: Tue, 13 Aug 2019 03:14:13 -0700 (MST)
Subject: [gdal-dev] OGR, WFS and axis
In-Reply-To: <1565689480702-0.post@n6.nabble.com>
References: <1565689480702-0.post@n6.nabble.com>
Message-ID: <1565691253805-0.post@n6.nabble.com>

Hi,

Direct request 
http://map.sitr.regione.sicilia.it/orbs/services/geositi/catalogo_geositi/MapServer/WFSServer?service=wfs&request=GetFeature&TypeNames=geositi_catalogo_geositi:Geositi&Count=1

returns

<gml:Point gml:id="Geositi.1.pn.0" srsName="urn:ogc:def:crs:EPSG::25833">
<gml:pos>4159848.605699999 407652.2197000002</gml:pos>
</gml:Point>

It seems that the service returns data as Northing-Easting even the CRS is
officially Easting-Northing
https://www.epsg-registry.org/export.htm?wkt=urn:ogc:def:crs:EPSG::25833

Perhaps someone has been thinking that in WFS 1.1 and above the coordinates
must be flipped always? I consider that the service of Regione Sicilia is
misconfigured and SQL with SwapCoordinates feels like an excellent
workaround.

-Jukka Rahkonen-


aborruso wrote
> Hi all,
> I have this WFS source
> http://map.sitr.regione.sicilia.it/orbs/services/geositi/catalogo_geositi/MapServer/WFSServer?service=wfs&request=GetCapabilities
> 
> If I run
> 
> ogr2ogr -skipfailures -f CSV /vsistdout/ 
> wfs:"http://map.sitr.regione.sicilia.it/orbs/services/geositi/catalogo_geositi/MapServer/WFSServer"
> -lco GEOMETRY=AS_XY | head | cut -d "," -f1,2 
> 
> I have
> 
> X,Y
> 4159848.6057,407652.2197
> 4136669.4918,351648.1382
> 4182103.6455,368602.1861
> 4154094.0909,333347.9184
> 4222851.1989,329366.679
> 4271030.7208,460470.4647
> 4161643.0469,416859.4389
> 4270544.3923,458291.9136
> 4213272.6393,324524.3777
> 
> The axes are inverted and it's the same if I us
> INVERT_AXIS_ORDER_IF_LAT_LONG parameter.
> 
> Is there a way to read it properly, without using some SQL like "SELECT
> SwapCoordinates(geometry)".
> 
> Thank you





--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From aborruso at gmail.com  Tue Aug 13 03:39:08 2019
From: aborruso at gmail.com (aborruso)
Date: Tue, 13 Aug 2019 03:39:08 -0700 (MST)
Subject: [gdal-dev] OGR, WFS and axis
In-Reply-To: <1565691253805-0.post@n6.nabble.com>
References: <1565689480702-0.post@n6.nabble.com>
 <1565691253805-0.post@n6.nabble.com>
Message-ID: <1565692748623-0.post@n6.nabble.com>

Hi Jukka,
thank you.


jratike80 wrote
> Direct request 
> http://map.sitr.regione.sicilia.it/orbs/services/geositi/catalogo_geositi/MapServer/WFSServer?service=wfs&request=GetFeature&TypeNames=geositi_catalogo_geositi:Geositi&Count=1
> 
> returns
> <gml:Point gml:id="Geositi.1.pn.0" srsName="urn:ogc:def:crs:EPSG::25833">
> <gml:pos>
> 4159848.605699999 407652.2197000002
> </gml:pos>
> </gml:Point>
> It seems that the service returns data as Northing-Easting even the CRS is
> officially Easting-Northing
> https://www.epsg-registry.org/export.htm?wkt=urn:ogc:def:crs:EPSG::25833
> 
> Perhaps someone has been thinking that in WFS 1.1 and above the
> coordinates
> must be flipped always? I consider that the service of Regione Sicilia is
> misconfigured and SQL with SwapCoordinates feels like an excellent
> workaround.

I will write an email to Regione Sicilia.

Another workaround is to set version:

ogr2ogr -skipfailures -f CSV /vsistdout/ 
wfs:"http://map.sitr.regione.sicilia.it/orbs/services/geositi/catalogo_geositi/MapServer/WFSServer?version=1.0.0"
-lco GEOMETRY=AS_XY -oo INVERT_AXIS_ORDER_IF_LAT_LONG="YES" | head | cut -d
"," -f1,2

And the output is

X,Y
407652.2197,4159848.6057
351648.1382,4136669.4918
368602.1861,4182103.6455
333347.9184,4154094.0909
329366.679,4222851.1989
460470.4647,4271030.7208
416859.4389,4161643.0469
458291.9136,4270544.3923
324524.3777,4213272.6393

Best regards



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From j.l.h.hartmann at uva.nl  Tue Aug 13 06:01:10 2019
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Tue, 13 Aug 2019 15:01:10 +0200
Subject: [gdal-dev] ogr2ogr -tps with more than 1000 control points
In-Reply-To: <LEXPR01MB107231FC48310199A53E1388E8D20@LEXPR01MB1072.DEUPRD01.PROD.OUTLOOK.DE>
References: <b746f885-d17a-d3ca-7559-a07401896049@uva.nl>
 <12547841.MRZDVIne2O@even-i700> <9f598987-b005-016b-d376-d77132ac08a5@uva.nl>
 <2747300.Q0Wsn8rd6Q@even-i700> <0560bc85-6841-7d1b-1a23-f7a76eacc434@uva.nl>
 <LEXPR01MB107231FC48310199A53E1388E8D20@LEXPR01MB1072.DEUPRD01.PROD.OUTLOOK.DE>
Message-ID: <7e1a4426-4a15-7a14-2ff7-e0fc45beef9b@uva.nl>

Thanks Martin, I upgraded to GDAL 2.4.2, and now it works. The problem 
was with control points  being too near to each other. GDAL 2.4.2 even 
worked on a testcase with two control points on the same location. 
That's important, for I want to rubbersheet historical maps as exactly 
as possible, and for that I use interpolated values between the control 
point that have been set manually. In some case these interpolated 
values end up at very small distances, and now gdal doesn't break on 
them any more.

Regards,

Jan


On 13-8-2019 9:42, Martin.Franzke at telekom.de wrote:
> Hi Jan,
>
> I had a similar problem, which was solved by normalizing the TPS equations. The patch (https://github.com/OSGeo/gdal/commit/c85c58ac781ef781cd126006d91cb5eed2dd53e2) is included in gdal versions >= 2.4. This may help you as well.
>
> Martin
>
> -----Ursprüngliche Nachricht-----
> Von: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Im Auftrag von Jan Hartmann
> Gesendet: Freitag, 9. August 2019 21:18
> An: Even Rouault <even.rouault at spatialys.com>
> Cc: gdal-dev at lists.osgeo.org
> Betreff: Re: [gdal-dev] ogr2ogr -tps with more than 1000 control points
>
> Yes, I already noticed that. But a run with thousand gcp's is still quite fast. I am looking for a smart way to segment these large maps.
> You cannot rubbersheet them in many  parts, because then the borders won't fit any more. The only thing I can come up with at the moment is creating common points on the borders of adjacent parts, and adding them to the control points. If you have any ideas, let me know.
>
> Jan
>
> On 8/9/2019 8:19 PM, Even Rouault wrote:
>> On vendredi 9 août 2019 20:08:31 CEST Jan Hartmann wrote:
>>> Thanks Even. GDAL was built with Armadillo, so I'm going to test the
>>> GCP's. Just wanted to be sure there was no possibility of a buffer
>>> overflow, or something like that. The program should be able to handle
>>> an unlimited number of control points, right?
>> I'd rather say there's no hard-coded limit ;-) But the processing time will
>> increase with the number of GCPs: linearly when applying the result of the GCP
>> adjustment for each point transformed, and with an initial computation cost of
>> the adjustment coefficients that has a complexiy a bit below O(n^3).
>>
>> Even
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev


From shawn.gong at mdacorporation.com  Tue Aug 13 09:02:17 2019
From: shawn.gong at mdacorporation.com (Gong, Shawn)
Date: Tue, 13 Aug 2019 16:02:17 +0000
Subject: [gdal-dev] gdal_merge
In-Reply-To: <1565686284452-0.post@n6.nabble.com>
References: <7DCBC135929FF74E8A5488B1814AC6BC5D495AFA@exbermd02.ds.mda.ca>,
 <1565686284452-0.post@n6.nabble.com>
Message-ID: <7DCBC135929FF74E8A5488B1814AC6BC5D495B41@exbermd02.ds.mda.ca>

I used both -a_nodata -32767 and -ot Float32, and neither worked.
-32767 has been converted to 0, and I want to keep the -32767.

Thanks,
Shawn

________________________________________
From: gdal-dev [gdal-dev-bounces at lists.osgeo.org] on behalf of jratike80 [jukka.rahkonen at maanmittauslaitos.fi]
Sent: August-13-19 4:51 AM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] gdal_merge

Hi,

If you read https://urldefense.proofpoint.com/v2/url?u=https-3A__gdal.org_programs_gdal-5Fmerge.html&d=DwIGaQ&c=qv9gmtOiXdJCj9gMlMKtaw&r=ROy3ulwX11d_sGWoPYB0I5rYOqZ87kk4KkIgG2QtlQI&m=DMhZ13IRdOz_dv3IjqnyD9344s5TP4uazdGeD20Othc&s=51QGJVd-d83FFaODCpFQo-bmIk65VhvoYl8qQx7j_VY&e=  carefully you'll
notice that -n is used for telling what nodata value is used in the source
files and it is only needed if GDAL can't recognize it automatically. Try
-a_nodata -32767 instead "Assign a specified nodata value to output bands."

-Jukka Rahkonen-


Gong, Shawn-2 wrote
> Hi list,
>
> I use gdal_merge to mosaic a set of DTED 1 and 2 chips.
> DTED contains -32767 as nodata. But after merging, -32767 are reset as 0.
> I tried to use "-n -32767" but getting the same result.
>
> Is there a way to keep the -32767 values?
>
> Thanks,
> Shawn





--
Sent from: https://urldefense.proofpoint.com/v2/url?u=http-3A__osgeo-2Dorg.1560.x6.nabble.com_GDAL-2DDev-2Df3742093.html&d=DwIGaQ&c=qv9gmtOiXdJCj9gMlMKtaw&r=ROy3ulwX11d_sGWoPYB0I5rYOqZ87kk4KkIgG2QtlQI&m=DMhZ13IRdOz_dv3IjqnyD9344s5TP4uazdGeD20Othc&s=Cs6LL6Z5K3zftznoX7kV2oE1i4HZDwZ-8b3O-Gc40tU&e=
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://urldefense.proofpoint.com/v2/url?u=https-3A__lists.osgeo.org_mailman_listinfo_gdal-2Ddev&d=DwIGaQ&c=qv9gmtOiXdJCj9gMlMKtaw&r=ROy3ulwX11d_sGWoPYB0I5rYOqZ87kk4KkIgG2QtlQI&m=DMhZ13IRdOz_dv3IjqnyD9344s5TP4uazdGeD20Othc&s=-JP3OAQ9usLjYGbLQhH3nmGePhwbf_56EimLM91Mz0g&e=

From jgreif at usgs.gov  Thu Aug 15 08:52:22 2019
From: jgreif at usgs.gov (Greif, Jeremiah)
Date: Thu, 15 Aug 2019 09:52:22 -0600
Subject: [gdal-dev] gdalinfo not reading vertical datum information?
Message-ID: <CAFHs+SPLnZ9sNNsrfYryHDDr66jTgD_PXNCeBmb2qnQSQH0FyQ@mail.gmail.com>

I recently had a situation where i needed to add a vertical crs to a raster
file.  I did what have done many times and use *gdal_translate -a_srs
epsg:6350+5703 *to add the navd88 vertical datum to the raster file.  When
I read the file to double check my work using gdalinfo i get the folllowing
results which doesn't include the vertcrs infomation.

[image: gdal_post_vrtcrs.PNG]

When I look at the new raster file in Arc as well as the open source
tiffinfo I do see that the gdal did in fact write the vertcrs into the
file.  Why is gdalinfo not reading it though? has something changed in the
way the tags are written/read with a recent release?  just curious if
anyone else has experienced this, thanks

Jeremiah Greif
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190815/abe3c852/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal_post_vrtcrs.PNG
Type: image/png
Size: 48392 bytes
Desc: gdal_post_vrtcrs.PNG
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190815/abe3c852/attachment-0001.png>

From even.rouault at spatialys.com  Thu Aug 15 11:31:28 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 15 Aug 2019 20:31:28 +0200
Subject: [gdal-dev] gdalinfo not reading vertical datum information?
In-Reply-To: <CAFHs+SPLnZ9sNNsrfYryHDDr66jTgD_PXNCeBmb2qnQSQH0FyQ@mail.gmail.com>
References: <CAFHs+SPLnZ9sNNsrfYryHDDr66jTgD_PXNCeBmb2qnQSQH0FyQ@mail.gmail.com>
Message-ID: <3575689.b0LO51jlCe@even-i700>

On jeudi 15 août 2019 09:52:22 CEST Greif, Jeremiah wrote:
> I recently had a situation where i needed to add a vertical crs to a raster
> file.  I did what have done many times and use *gdal_translate -a_srs
> epsg:6350+5703 *to add the navd88 vertical datum to the raster file.  When
> I read the file to double check my work using gdalinfo i get the folllowing
> results which doesn't include the vertcrs infomation.
> 
> [image: gdal_post_vrtcrs.PNG]
> 
> When I look at the new raster file in Arc as well as the open source
> tiffinfo I do see that the gdal did in fact write the vertcrs into the
> file.  Why is gdalinfo not reading it though? has something changed in the
> way the tags are written/read with a recent release? 

No, this has always been the behaviour of the GTiff driver. It does write 
CompoundCRS, but on reading it only exposes the horizontal part, by default. 
This behaviour can be changed by setting the configuratin option/environment 
variable GTIFF_REPORT_COMPD_CS to YES
See
https://gdal.org/drivers/raster/gtiff.html#configuration-options

Note: for the new geotiff 1.1 specification (currently under vote at OGC), for 
a file with geotiff 1.1 version number in it, the Compound CRS will be 
reported by default

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jgreif at usgs.gov  Thu Aug 15 13:45:52 2019
From: jgreif at usgs.gov (Greif, Jeremiah)
Date: Thu, 15 Aug 2019 14:45:52 -0600
Subject: [gdal-dev] [EXTERNAL] Re: gdalinfo not reading vertical datum
	information?
In-Reply-To: <3575689.b0LO51jlCe@even-i700>
References: <CAFHs+SPLnZ9sNNsrfYryHDDr66jTgD_PXNCeBmb2qnQSQH0FyQ@mail.gmail.com>
 <3575689.b0LO51jlCe@even-i700>
Message-ID: <CAFHs+SO+dQZzqRm72k2Lo3FB__1WBVdH0f2HvC1Xk4KQZC6Ppg@mail.gmail.com>

Thanks for the quick response, that worked great.  That is exciting news
regarding geotiff 1.1, should simply things a bit

On Thu, Aug 15, 2019 at 12:31 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> On jeudi 15 août 2019 09:52:22 CEST Greif, Jeremiah wrote:
> > I recently had a situation where i needed to add a vertical crs to a
> raster
> > file.  I did what have done many times and use *gdal_translate -a_srs
> > epsg:6350+5703 *to add the navd88 vertical datum to the raster file.
> When
> > I read the file to double check my work using gdalinfo i get the
> folllowing
> > results which doesn't include the vertcrs infomation.
> >
> > [image: gdal_post_vrtcrs.PNG]
> >
> > When I look at the new raster file in Arc as well as the open source
> > tiffinfo I do see that the gdal did in fact write the vertcrs into the
> > file.  Why is gdalinfo not reading it though? has something changed in
> the
> > way the tags are written/read with a recent release?
>
> No, this has always been the behaviour of the GTiff driver. It does write
> CompoundCRS, but on reading it only exposes the horizontal part, by
> default.
> This behaviour can be changed by setting the configuratin
> option/environment
> variable GTIFF_REPORT_COMPD_CS to YES
> See
> https://gdal.org/drivers/raster/gtiff.html#configuration-options
>
> Note: for the new geotiff 1.1 specification (currently under vote at OGC),
> for
> a file with geotiff 1.1 version number in it, the Compound CRS will be
> reported by default
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>


-- 
Jeremiah Greif
Geographer
USGS - NGTOC
(303) 202-4510
jgreif at usgs.gov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190815/e18cc23a/attachment.html>

From andrew.bell.ia at gmail.com  Fri Aug 16 07:01:50 2019
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 16 Aug 2019 10:01:50 -0400
Subject: [gdal-dev] WKT driver in OGR?
Message-ID: <CACJ51z06+oPfY67LADQ5pUZP_-9F3tzmE20fGqSfr0mHnuvhZg@mail.gmail.com>

Hi,

I'm not seeing a driver for WKT geometry in OGR, though I know that WKT is
well-supported in the API in OGRGeometryFactory and such.  Can I convert a
file containing WKT geometry with ogr2ogr?

Thanks,

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190816/768cdf74/attachment.html>

From schwehr at gmail.com  Fri Aug 16 07:49:41 2019
From: schwehr at gmail.com (Kurt Schwehr)
Date: Fri, 16 Aug 2019 07:49:41 -0700
Subject: [gdal-dev] WKT driver in OGR?
In-Reply-To: <CACJ51z06+oPfY67LADQ5pUZP_-9F3tzmE20fGqSfr0mHnuvhZg@mail.gmail.com>
References: <CACJ51z06+oPfY67LADQ5pUZP_-9F3tzmE20fGqSfr0mHnuvhZg@mail.gmail.com>
Message-ID: <CACmBxytTLZq_xQjOkz+7rQZxuH8BBXuP22Vmxq9_F+B0D00u2Q@mail.gmail.com>

Use the CSV driver?

On Fri, Aug 16, 2019 at 7:02 AM Andrew Bell <andrew.bell.ia at gmail.com>
wrote:

> Hi,
>
> I'm not seeing a driver for WKT geometry in OGR, though I know that WKT is
> well-supported in the API in OGRGeometryFactory and such.  Can I convert a
> file containing WKT geometry with ogr2ogr?
>
> Thanks,
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190816/06bd1a7a/attachment.html>

From even.rouault at spatialys.com  Fri Aug 16 10:28:42 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 16 Aug 2019 19:28:42 +0200
Subject: [gdal-dev] "Banning" use of underflow/overflow with unsigned
	integer arithmetic ?
Message-ID: <4799228.hqZCFgm6yS@even-i700>

Hi,

I've a PR ready that might be a bit controversial among contributors as it 
effectively "bans" a well-defined behaviour of C/C++, that is underflow/
overflow on unsigned integer arithmetic. However there are potential for real 
bugs to be hidden by such a behaviour (I or other contributors fixed a few 
instances of that in a few previous commits), so it seems reasonable to try to 
avoid it when possible, and when not possible, to tag the functions where this 
is explicitly allowed with CPL_NOSANITIZE_UNSIGNED_INT_OVERFLOW

See
https://github.com/OSGeo/gdal/pull/1782

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From shayne.tueller at us.af.mil  Fri Aug 16 10:55:29 2019
From: shayne.tueller at us.af.mil (TUELLER, SHAYNE R CIV USAF AFMC 519 SMXS/MXDEC)
Date: Fri, 16 Aug 2019 17:55:29 +0000
Subject: [gdal-dev] point inclusion test
Message-ID: <DM2P111MB0121BB0A4A822F3559254FDFC6AF0@DM2P111MB0121.NAMP111.PROD.OUTLOOK.COM>

Hello,

Does GDAL (OGR) have any point inclusion tests optimized for convex 2D polygons? Thought I'd ask before writing my own...

Thanks.

Shayne
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190816/9e065ba8/attachment-0001.html>

From gdal at stripfamily.net  Fri Aug 16 10:53:00 2019
From: gdal at stripfamily.net (David Strip)
Date: Fri, 16 Aug 2019 11:53:00 -0600
Subject: [gdal-dev] "Banning" use of underflow/overflow with unsigned
 integer arithmetic ?
In-Reply-To: <4799228.hqZCFgm6yS@even-i700>
References: <4799228.hqZCFgm6yS@even-i700>
Message-ID: <1f7f1195-6858-c3a7-ed31-7ca6fab92b2f@stripfamily.net>

This strikes me as a really good idea. Even though the behavior is
well-defined in C/C++, it doesn't mean it's desirable in all or even
most cases. It's much easier to imagine use cases where
overflow/underflow produce unexpected or inexplicable results that it is
to think of ones where it produces a desirable result.
Just my $.02 from a non-voting user of gdal and codes dependent on it.

From andrew.bell.ia at gmail.com  Fri Aug 16 11:40:01 2019
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 16 Aug 2019 14:40:01 -0400
Subject: [gdal-dev] "Banning" use of underflow/overflow with unsigned
 integer arithmetic ?
In-Reply-To: <4799228.hqZCFgm6yS@even-i700>
References: <4799228.hqZCFgm6yS@even-i700>
Message-ID: <CACJ51z33TK51TAbU5EL562vaXEEpAQOFaE6Tt0rSnyNMYvbmWw@mail.gmail.com>

Is this just on when running tests?

On Fri, Aug 16, 2019 at 1:28 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi,
>
> I've a PR ready that might be a bit controversial among contributors as it
> effectively "bans" a well-defined behaviour of C/C++, that is underflow/
> overflow on unsigned integer arithmetic. However there are potential for
> real
> bugs to be hidden by such a behaviour (I or other contributors fixed a few
> instances of that in a few previous commits), so it seems reasonable to
> try to
> avoid it when possible, and when not possible, to tag the functions where
> this
> is explicitly allowed with CPL_NOSANITIZE_UNSIGNED_INT_OVERFLOW
>
> See
> https://github.com/OSGeo/gdal/pull/1782
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190816/fe89f9ec/attachment.html>

From even.rouault at spatialys.com  Fri Aug 16 12:50:57 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 16 Aug 2019 21:50:57 +0200
Subject: [gdal-dev] "Banning" use of underflow/overflow with unsigned
	integer arithmetic ?
In-Reply-To: <CACJ51z33TK51TAbU5EL562vaXEEpAQOFaE6Tt0rSnyNMYvbmWw@mail.gmail.com>
References: <4799228.hqZCFgm6yS@even-i700>
 <CACJ51z33TK51TAbU5EL562vaXEEpAQOFaE6Tt0rSnyNMYvbmWw@mail.gmail.com>
Message-ID: <1675052.sF7S43DMpm@even-i700>

On vendredi 16 août 2019 14:40:01 CEST Andrew Bell wrote:
> Is this just on when running tests?

This would be only enabled on the "sanitize" configuration of Travis CI, and 
this would of course only detect such occurence in the code paths exercised by 
the test suite. My idea is also to try to run the OSS Fuzz GDAL tests with 
this enabled to discover more corner cases where the overflows actually turn 
to crashes, but a preamble is to have the regular tests running without 
overflows first.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Fri Aug 16 12:53:27 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 16 Aug 2019 21:53:27 +0200
Subject: [gdal-dev] point inclusion test
In-Reply-To: <DM2P111MB0121BB0A4A822F3559254FDFC6AF0@DM2P111MB0121.NAMP111.PROD.OUTLOOK.COM>
References: <DM2P111MB0121BB0A4A822F3559254FDFC6AF0@DM2P111MB0121.NAMP111.PROD.OUTLOOK.COM>
Message-ID: <3342675.SyJVTCKBzc@even-i700>

On vendredi 16 août 2019 17:55:29 CEST TUELLER, SHAYNE R CIV USAF AFMC 519 
SMXS/MXDEC wrote:
> Hello,
> 
> Does GDAL (OGR) have any point inclusion tests optimized for convex 2D
> polygons? Thought I'd ask before writing my own...

GDAL itself no. But it delegates that to GEOS, so that would be a question for 
them.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From ivaygis at protonmail.com  Tue Aug 20 02:11:30 2019
From: ivaygis at protonmail.com (ivay)
Date: Tue, 20 Aug 2019 09:11:30 +0000
Subject: [gdal-dev] Vector Data Reprojection
Message-ID: <_KZSbQO0YQ8SbIa1PfDuiv1mlzDan4OwSmUXFTim0OMhUqWdsbb67qWcn1NAoPtCUD1nlCx5udnCDUepRZ7db8tm09ZFAZVGvCjbwvkeC8A=@protonmail.com>

Hi,

I have a shape file with epsg 4612.
I converted it into new shapefile with epsg 4326.
When I opened both shape files (with 4612 and 4326 epsg codes), there is no change in the X and Y locations.
Does both shapefiles (with epsg 4612 and 4326 codes) have same X and Y values?
My requirement is to convert the original file with "epsg code 4612" exactly into the "epsg 4326" .
Thank you for your ideas.
Ivay
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190820/acd8be50/attachment.html>

From ivaygis at protonmail.com  Tue Aug 20 02:31:37 2019
From: ivaygis at protonmail.com (ivay)
Date: Tue, 20 Aug 2019 09:31:37 +0000
Subject: [gdal-dev] Vector Data Reprojection
In-Reply-To: <_KZSbQO0YQ8SbIa1PfDuiv1mlzDan4OwSmUXFTim0OMhUqWdsbb67qWcn1NAoPtCUD1nlCx5udnCDUepRZ7db8tm09ZFAZVGvCjbwvkeC8A=@protonmail.com>
References: <_KZSbQO0YQ8SbIa1PfDuiv1mlzDan4OwSmUXFTim0OMhUqWdsbb67qWcn1NAoPtCUD1nlCx5udnCDUepRZ7db8tm09ZFAZVGvCjbwvkeC8A=@protonmail.com>
Message-ID: <dJ9HC9iEtyAUp-BBvVvF9EDH2lwLecGbCSCdQDvL53JDWdXY8NmgK_8X_-Ih41Iipd6tErKIpTCm0Sq1DhosdkiW5jdvsoRz_7JvOAXBdoU=@protonmail.com>

Here is projection of the original shapefile with EPSG 4612.

GEOGCS["JGD2000",

    DATUM["Japanese_Geodetic_Datum_2000",

        SPHEROID["GRS 1980",6378137,298.257222101,

            AUTHORITY["EPSG","7019"]],

        TOWGS84[0,0,0,0,0,0,0],

        AUTHORITY["EPSG","6612"]],

    PRIMEM["Greenwich",0,

        AUTHORITY["EPSG","8901"]],

    UNIT["degree",0.0174532925199433,

        AUTHORITY["EPSG","9122"]],

    AUTHORITY["EPSG","4612"]]

Thank you.

‐‐‐‐‐‐‐ Original Message ‐‐‐‐‐‐‐
On Tuesday, August 20, 2019 6:11 PM, ivay <ivaygis at protonmail.com> wrote:

> Hi,
>
> I have a shape file with epsg 4612.
> I converted it into new shapefile with epsg 4326.
> When I opened both shape files (with 4612 and 4326 epsg codes), there is no change in the X and Y locations.
> Does both shapefiles (with epsg 4612 and 4326 codes) have same X and Y values?
> My requirement is to convert the original file with "epsg code 4612" exactly into the "epsg 4326" .
> Thank you for your ideas.
> Ivay
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190820/2603b2ca/attachment.html>

From ivaygis at protonmail.com  Tue Aug 20 02:42:18 2019
From: ivaygis at protonmail.com (ivay)
Date: Tue, 20 Aug 2019 09:42:18 +0000
Subject: [gdal-dev] ogr2ogr: Attribute colors
Message-ID: <N6nQgLxuGB76JS7yTB-4zwd1ij46ZyVpo1yqP3y41tyKMMHn-BC3OlSH3qhyMo7EHVOLoOx0MuPqOJSPKeZH6PrZVmI9vOGKedEGx1ndTHM=@protonmail.com>

Hi,
While converting a shapefile into PDF, how can I add random colors (According to  attributes of the Shapefile) in the output PDF file?

ogr2ogr -f "PDF" OUT.pdf IN.shp

Thank you.
Ivay
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190820/7990c269/attachment.html>

From piyush.agram at jpl.nasa.gov  Tue Aug 20 08:51:27 2019
From: piyush.agram at jpl.nasa.gov (Agram, Piyush S (US 334K))
Date: Tue, 20 Aug 2019 15:51:27 +0000
Subject: [gdal-dev] Packaging linux/userfaultfd for conda
Message-ID: <318155FB-8555-43C9-B31C-B7ECE002FFFE@jpl.nasa.gov>

Hi,
    This question is related to this conda-forge GDAL issue and is less of a general GDAL issue:
https://github.com/conda-forge/gdal-feedstock/issues/323

I’m bringing this up on this forum for some advice. Conda-forge packages are currently being built on images with kernel versions that support userfaultfd capability and I’m interested in having the vsis3 capability for netcdf formats being available as part of the conda GDAL distribution.

Conda-forge uses centos6 images to build the packages and this does not include the linux/userfaultfd.h header. However, the kernel version supports the capability and there are many projects like qemu that distribute this file as part of their own distribution. If I were to do the same for gdal-feedstock


  1.  Is there a preferred source of linux/userfaultfd.h that I should use? I can probably pull this file from qemu if needed.
  2.  If I use this header for compilation, I should probably install this as wellin conda/include for consistency. Any suggestions / comments?
  3.  Is there a plan to include this simpler header file within GDAL?

Thanks
Piyush
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190820/383c3921/attachment.html>

From even.rouault at spatialys.com  Tue Aug 20 09:32:21 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 20 Aug 2019 18:32:21 +0200
Subject: [gdal-dev] Packaging linux/userfaultfd for conda
In-Reply-To: <318155FB-8555-43C9-B31C-B7ECE002FFFE@jpl.nasa.gov>
References: <318155FB-8555-43C9-B31C-B7ECE002FFFE@jpl.nasa.gov>
Message-ID: <6558604.ZqyAhWUOVH@even-i700>

>   1.  Is there a preferred source of linux/userfaultfd.h that I should use?
> I can probably pull this file from qemu if needed.

No idea. Anything that makes GDAL configure and then compilation happy should 
be good enough.

 2.  If I use this
> header for compilation, I should probably install this as wellin
> conda/include for consistency. Any suggestions / comments? 

GDAL does the include this way:
#include <linux/userfaultfd.h>
so this should put in a linux subdirectory of a directory that GDAL will try 
to include. You just need the file for compilation. You don't need to 
distribute it as part of files installed by GDAL.

> 3.  Is there a
> plan to include this simpler header file within GDAL? 

I wouldn't be super keen in providing system includes within GDAL, especially 
as this include file should be present on modern systems where the recent GDAL 
versions are more likely to be built.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From craig.destigter at koordinates.com  Tue Aug 20 20:34:54 2019
From: craig.destigter at koordinates.com (Craig de Stigter)
Date: Wed, 21 Aug 2019 15:34:54 +1200
Subject: [gdal-dev] Python IOError during file object destructor
Message-ID: <CAF1M8pfSY9ZJhw00XTtFzaka7-up-drrDcgX8omzY734kfrOAA@mail.gmail.com>

Hey there

We're using the python bindings to do all sorts of translates and warps and
things, and I don't have a proper traceback but we got this in some of our
processes lately:

  Exit code: 0
  stderr:
    ...
    close failed in file object destructor:
    IOError: [Errno 5] Input/output error


I *suspect strongly* that this IOError is happening during process
shutdown, and also that it is coming from GDAL rather than our code (I
could be wrong!)

The IOError itself must have come from a disk problem, but instead of being
raised, this IOError was silently ignored, leading to problems with a
corrupted file later.

As far as I can tell all GDAL datasets have gone out of scope long before
the process exits. However I wondered if we should be calling some kind of
shutdown function to force GDAL to close all its file handles, or
something. I recall various things like that existing (e.g.
`GDALDestroyDriverManager()`) from my pytest-related work, but at present
we're not using anything like that anywhere.

TIA

-- 
Regards,
Craig

Developer
Koordinates

+64 21 256 9488 <+64%2021%20256%209488> / koordinates.com / @koordinates
<https://twitter.com/koordinates>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190821/45d9d7ba/attachment.html>

From fabian.schindler at eox.at  Wed Aug 21 01:29:35 2019
From: fabian.schindler at eox.at (Schindler, Fabian)
Date: Wed, 21 Aug 2019 10:29:35 +0200
Subject: [gdal-dev] TAR POSIX support
Message-ID: <CANbc+3rdeT3ggMC9J1VxDF4KgMJcbb-+gQtM66+14mSBprvAYg@mail.gmail.com>

Hi list,

We have a large archive of images which are stored in POSIX TAR format
(POSIX.1-2001 (pax)). GDAL seems to be unable to open these files (GDAL
2.4.0). Unfortunately, re-packing these files in GNU format (which GDAL
seems to be happy with) is not an option.

We also tried with the latest Docker image (alpine-small-latest, GDAL
3.1.0dev-3c44aef0f367d0439d42f5384896fc7899317f06), but the same issue
persists: the GNU tar is opened without issues, the POSIX one fails.

Is it confirmed that GDAL does not have support for that TAR POSIX format?
How much effort would it be to add support for that format?

Regards,
Fabian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190821/48a405bf/attachment.html>

From a.neumann at carto.net  Wed Aug 21 02:10:40 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 21 Aug 2019 11:10:40 +0200
Subject: [gdal-dev] On external PDF libraries
Message-ID: <2688affc0bf2c7626c98b55a81a1f94c@carto.net>

Hi, 

I am trying to test GeoPDF support in QGIS and have questions on the
external library dependencies in GDAL. I am trying to interpret the
notes on https://gdal.org/drivers/raster/pdf.html 

Which of the three options (Poppler, PoDoFo, PDFium) is recommended? I
work on Ubuntu 18.04 and I can build libraries from source if necessary.
PoDoFo seems limited - so better not use it? PDFium seems to be
complicated to install - so perhaps poppler? Or should I try PDFium? 

Thanks for any recommendations, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190821/c38e9bba/attachment.html>

From even.rouault at spatialys.com  Wed Aug 21 04:03:15 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 21 Aug 2019 13:03:15 +0200
Subject: [gdal-dev] Python IOError during file object destructor
In-Reply-To: <CAF1M8pfSY9ZJhw00XTtFzaka7-up-drrDcgX8omzY734kfrOAA@mail.gmail.com>
References: <CAF1M8pfSY9ZJhw00XTtFzaka7-up-drrDcgX8omzY734kfrOAA@mail.gmail.com>
Message-ID: <10807627.r2pUMMxnBU@even-i700>

Craig,

gdal.GDALDestroyDriverManager() exists in the SWIG binding but I would 
definitely not recommend using it. At best, it will be a no-op. At worst, this 
will result in double free of datasets.

The only situations I can think of where you would have still-alive GDAL 
datasets at Python process close are:
- global variables storing datasets
- main program exiting with still open datasets.

And in both cases, calling explicitly gdal.GDALDestroyDriverManager() will 
result in a crash

Demo:

given test.py being
```
from osgeo import gdal

# ds will be released when f() returns
def f():
    ds = gdal.Open('../autotest/gcore/data/byte.tif')

f()
print('foo')
ds = gdal.Open('../autotest/gcore/data/byte.tif')
gdal.GDALDestroyDriverManager()
print('bar')
```

```
$ CPL_DEBUG=ON python test.py
GDAL: GDALOpen(../autotest/gcore/data/byte.tif, this=0x18eaa00) succeeds as 
GTiff.
GDAL: GDALClose(../autotest/gcore/data/byte.tif, this=0x18eaa00)
foo
GDAL: GDALOpen(../autotest/gcore/data/byte.tif, this=0x18eaa00) succeeds as 
GTiff.
GDAL: Force close of ../autotest/gcore/data/byte.tif (0x18eaa00) in 
GDALDriverManager cleanup.
GDAL: GDALClose(../autotest/gcore/data/byte.tif, this=0x18eaa00)
bar
GDAL: In ~GDALMajorObject on invalid object
*** Error in `python': corrupted size vs. prev_size: 0x00000000018eae30 ***
======= Backtrace: =========
[... crash ...]
```

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Wed Aug 21 04:12:14 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 21 Aug 2019 13:12:14 +0200
Subject: [gdal-dev] On external PDF libraries
In-Reply-To: <2688affc0bf2c7626c98b55a81a1f94c@carto.net>
References: <2688affc0bf2c7626c98b55a81a1f94c@carto.net>
Message-ID: <1694706.YW6ce1NihD@even-i700>

Andreas,

> I am trying to test GeoPDF support in QGIS and have questions on the
> external library dependencies in GDAL. I am trying to interpret the
> notes on https://gdal.org/drivers/raster/pdf.html
> 
> Which of the three options (Poppler, PoDoFo, PDFium) is recommended? I
> work on Ubuntu 18.04 and I can build libraries from source if necessary.
> PoDoFo seems limited - so better not use it?

For non-rendering tasks such as creating a PDF, it should be OK, but I know I 
had issues at runtime with recent versions of PoDoFo

> PDFium seems to be
> complicated to install - 

Yes, and the driver assumes an old version of PDFium. Would require some work 
to make it work with newer ones.

> so perhaps poppler?

That's probably the simplest option and it will give you good results. No need 
to build it from source. The version already compiled in your distro is fine. 
Install the 'libpoppler-private-dev' package before building GDAL with
./configure --with-poppler

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Wed Aug 21 04:24:34 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 21 Aug 2019 13:24:34 +0200
Subject: [gdal-dev] TAR POSIX support
In-Reply-To: <CANbc+3rdeT3ggMC9J1VxDF4KgMJcbb-+gQtM66+14mSBprvAYg@mail.gmail.com>
References: <CANbc+3rdeT3ggMC9J1VxDF4KgMJcbb-+gQtM66+14mSBprvAYg@mail.gmail.com>
Message-ID: <5827968.BteYWgVBdY@even-i700>

Fabian,

/vsitar/ has indeed no dedicated support for POSIX.1-2001 (pax)

On a very simple test with a tiny file from GDAL autotest,

tar --format=pax --create -f byte_pax.tar byte.tif

then gdalinfo /vsitar/byte_pax.tar/byte.tif works.

But I see that GDAL sees an extra text file "PaxHeaders.25680/byte.tif" which 
is the one mentionned in
https://en.wikipedia.org/wiki/Tar_(computing)#POSIX.1-2001/pax which contains 
3 timestamps with nanosecond precision.

So I suspect your particular .tar file uses specific pax extensions which are 
not UStar compatible. I didn't dig more. Would probably require an example to 
better see what's going on.

Even

> Hi list,
> 
> We have a large archive of images which are stored in POSIX TAR format
> (POSIX.1-2001 (pax)). GDAL seems to be unable to open these files (GDAL
> 2.4.0). Unfortunately, re-packing these files in GNU format (which GDAL
> seems to be happy with) is not an option.
> 
> We also tried with the latest Docker image (alpine-small-latest, GDAL
> 3.1.0dev-3c44aef0f367d0439d42f5384896fc7899317f06), but the same issue
> persists: the GNU tar is opened without issues, the POSIX one fails.
> 
> Is it confirmed that GDAL does not have support for that TAR POSIX format?
> How much effort would it be to add support for that format?
> 
> Regards,
> Fabian


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From a.neumann at carto.net  Wed Aug 21 05:38:39 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 21 Aug 2019 14:38:39 +0200
Subject: [gdal-dev] On external PDF libraries
In-Reply-To: <1694706.YW6ce1NihD@even-i700>
References: <2688affc0bf2c7626c98b55a81a1f94c@carto.net>
 <1694706.YW6ce1NihD@even-i700>
Message-ID: <a83d4666-a6c5-9494-0cd8-a57f5359f58b@carto.net>

Hi Even,

I think I got building with poppler to work.

gdalinfo and ogrinfo show both:

PDF -raster,vector- (w+): Geospatial PDF

However, QGIS still thinks there is no PDF read support in QGIS. When 
trying to export to GeoPDF there is a message:

GDAL PDF driver was not build with PDF read support. A build with PDF 
read support is required for GeoPDF creation.

Any ideas what might still be wrong?

Why is QGIS complaining about PDF read support when I want to export GeoPDF?

Thanks and greetings,

Andreas

Am 21.08.19 um 13:12 schrieb Even Rouault:
> Andreas,
>
>> I am trying to test GeoPDF support in QGIS and have questions on the
>> external library dependencies in GDAL. I am trying to interpret the
>> notes on https://gdal.org/drivers/raster/pdf.html
>>
>> Which of the three options (Poppler, PoDoFo, PDFium) is recommended? I
>> work on Ubuntu 18.04 and I can build libraries from source if necessary.
>> PoDoFo seems limited - so better not use it?
> For non-rendering tasks such as creating a PDF, it should be OK, but I know I
> had issues at runtime with recent versions of PoDoFo
>
>> PDFium seems to be
>> complicated to install -
> Yes, and the driver assumes an old version of PDFium. Would require some work
> to make it work with newer ones.
>
>> so perhaps poppler?
> That's probably the simplest option and it will give you good results. No need
> to build it from source. The version already compiled in your distro is fine.
> Install the 'libpoppler-private-dev' package before building GDAL with
> ./configure --with-poppler
>
> Even
>

From even.rouault at spatialys.com  Wed Aug 21 05:49:34 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 21 Aug 2019 14:49:34 +0200
Subject: [gdal-dev] On external PDF libraries
In-Reply-To: <a83d4666-a6c5-9494-0cd8-a57f5359f58b@carto.net>
References: <2688affc0bf2c7626c98b55a81a1f94c@carto.net>
 <1694706.YW6ce1NihD@even-i700>
 <a83d4666-a6c5-9494-0cd8-a57f5359f58b@carto.net>
Message-ID: <2363993.tLfJnOh2BG@even-i700>

On mercredi 21 août 2019 14:38:39 CEST Andreas Neumann wrote:
> Hi Even,
> 
> I think I got building with poppler to work.
> 
> gdalinfo and ogrinfo show both:
> 
> PDF -raster,vector- (w+): Geospatial PDF

It should display '(rw+vs)' with r for 'read'
If you've made several buid attempts while playing with ./configure, make sure 
to 'make clean' before rebuilding.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From a.neumann at carto.net  Wed Aug 21 06:11:44 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 21 Aug 2019 15:11:44 +0200
Subject: [gdal-dev] On external PDF libraries
In-Reply-To: <2363993.tLfJnOh2BG@even-i700>
References: <2688affc0bf2c7626c98b55a81a1f94c@carto.net>
 <1694706.YW6ce1NihD@even-i700>
 <a83d4666-a6c5-9494-0cd8-a57f5359f58b@carto.net>
 <2363993.tLfJnOh2BG@even-i700>
Message-ID: <be9613c2-aeec-103b-e4f3-04608c25ca6f@carto.net>

Hi Even,

Yes, the make clean and recompile did the trick. Now the output of 
ogr/gdalinfo seems correct and QGIS can export to GeoPDF.

Many thanks for your help!

Andreas

Am 21.08.19 um 14:49 schrieb Even Rouault:
> On mercredi 21 août 2019 14:38:39 CEST Andreas Neumann wrote:
>> Hi Even,
>>
>> I think I got building with poppler to work.
>>
>> gdalinfo and ogrinfo show both:
>>
>> PDF -raster,vector- (w+): Geospatial PDF
> It should display '(rw+vs)' with r for 'read'
> If you've made several buid attempts while playing with ./configure, make sure
> to 'make clean' before rebuilding.
>

From fabian.schindler at eox.at  Wed Aug 21 06:14:03 2019
From: fabian.schindler at eox.at (Schindler, Fabian)
Date: Wed, 21 Aug 2019 15:14:03 +0200
Subject: [gdal-dev] TAR POSIX support
In-Reply-To: <5827968.BteYWgVBdY@even-i700>
References: <CANbc+3rdeT3ggMC9J1VxDF4KgMJcbb-+gQtM66+14mSBprvAYg@mail.gmail.com>
 <5827968.BteYWgVBdY@even-i700>
Message-ID: <CANbc+3r5-MOAAB4y3W1Vu-Cew32iAT24yJrJGQWoDQ4J7v73Pw@mail.gmail.com>

Hi Even,

Thanks for your quick response!

The issue is not that we are dealing with POSIX TAR files (which actually
seems to be handled fine with GDAL 3.1, when we created them using `tar
--format=pax`).

The issue seems to be the handling of the file user/group separator.
Looking at the code, the expected separator is nul (`\0`) (
https://github.com/OSGeo/gdal/blob/master/gdal/port/cpl_vsil_tar.cpp#L336)
but our file seems to use space characters as  separators:

$ python
>>> a = open('a.tar', 'rb').read(1024)
>>> a[100:150]
b'0100644 0000000 0000000 00000000162 13460560104 01'

We believe that this is the relevant line in the specification:
https://github.com/Keruspe/tar-parser.rs/blob/master/tar.specs#L202, as it
states that both spaces and nuls shall be allowed in the separation of the
groups.

We actually succeeded in loading the tiff when we started the `gdalinfo`
with `gdb`, setting a breakpoint in the above location and the did the
following for each file:

(gdb) set abyHeader[115]=0
(gdb) set abyHeader[123]=0
(gdb) set abyHeader[107]=0

This produced a list of files within that archive.

So I think, the (already hefty) `if` clause could just be expanded to also
allow spaces in the separators and we would be fine.

Do you think that is feasible?

Regards

On Wed, 21 Aug 2019 at 13:24, Even Rouault <even.rouault at spatialys.com>
wrote:

> Fabian,
>
> /vsitar/ has indeed no dedicated support for POSIX.1-2001 (pax)
>
> On a very simple test with a tiny file from GDAL autotest,
>
> tar --format=pax --create -f byte_pax.tar byte.tif
>
> then gdalinfo /vsitar/byte_pax.tar/byte.tif works.
>
> But I see that GDAL sees an extra text file "PaxHeaders.25680/byte.tif"
> which
> is the one mentionned in
> https://en.wikipedia.org/wiki/Tar_(computing)#POSIX.1-2001/pax which
> contains
> 3 timestamps with nanosecond precision.
>
> So I suspect your particular .tar file uses specific pax extensions which
> are
> not UStar compatible. I didn't dig more. Would probably require an example
> to
> better see what's going on.
>
> Even
>
> > Hi list,
> >
> > We have a large archive of images which are stored in POSIX TAR format
> > (POSIX.1-2001 (pax)). GDAL seems to be unable to open these files (GDAL
> > 2.4.0). Unfortunately, re-packing these files in GNU format (which GDAL
> > seems to be happy with) is not an option.
> >
> > We also tried with the latest Docker image (alpine-small-latest, GDAL
> > 3.1.0dev-3c44aef0f367d0439d42f5384896fc7899317f06), but the same issue
> > persists: the GNU tar is opened without issues, the POSIX one fails.
> >
> > Is it confirmed that GDAL does not have support for that TAR POSIX
> format?
> > How much effort would it be to add support for that format?
> >
> > Regards,
> > Fabian
>
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190821/c143eda3/attachment.html>

From even.rouault at spatialys.com  Wed Aug 21 06:37:27 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 21 Aug 2019 15:37:27 +0200
Subject: [gdal-dev] TAR POSIX support
In-Reply-To: <CANbc+3r5-MOAAB4y3W1Vu-Cew32iAT24yJrJGQWoDQ4J7v73Pw@mail.gmail.com>
References: <CANbc+3rdeT3ggMC9J1VxDF4KgMJcbb-+gQtM66+14mSBprvAYg@mail.gmail.com>
 <5827968.BteYWgVBdY@even-i700>
 <CANbc+3r5-MOAAB4y3W1Vu-Cew32iAT24yJrJGQWoDQ4J7v73Pw@mail.gmail.com>
Message-ID: <7608827.p5pp2QxSu1@even-i700>

> So I think, the (already hefty) `if` clause could just be expanded to also
> allow spaces in the separators and we would be fine.

Good catch. Does the following commit fixes the issue ?

https://github.com/rouault/gdal/commit/89cbc8f59e39f15b523a912984be8cb265c61953

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From fabian.schindler at eox.at  Wed Aug 21 14:24:03 2019
From: fabian.schindler at eox.at (Schindler, Fabian)
Date: Wed, 21 Aug 2019 23:24:03 +0200
Subject: [gdal-dev] TAR POSIX support
In-Reply-To: <7608827.p5pp2QxSu1@even-i700>
References: <CANbc+3rdeT3ggMC9J1VxDF4KgMJcbb-+gQtM66+14mSBprvAYg@mail.gmail.com>
 <5827968.BteYWgVBdY@even-i700>
 <CANbc+3r5-MOAAB4y3W1Vu-Cew32iAT24yJrJGQWoDQ4J7v73Pw@mail.gmail.com>
 <7608827.p5pp2QxSu1@even-i700>
Message-ID: <CANbc+3qWdu_Gi+VeT+KF8yz_kUx25yHWYq33UHmW2GJCSOMfMg@mail.gmail.com>

Yes, it does! Thank you very much for the quick fix!

On Wed, 21 Aug 2019 at 15:37, Even Rouault <even.rouault at spatialys.com>
wrote:

> > So I think, the (already hefty) `if` clause could just be expanded to
> also
> > allow spaces in the separators and we would be fine.
>
> Good catch. Does the following commit fixes the issue ?
>
>
> https://github.com/rouault/gdal/commit/89cbc8f59e39f15b523a912984be8cb265c61953
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190821/39366c51/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Aug 22 10:49:43 2019
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Thu, 22 Aug 2019 17:49:43 +0000
Subject: [gdal-dev] Coordinate system not found from NetCDF file
Message-ID: <4ac643cf8f8c40b2bc9790c8c3910bd6@C119S212VM042.msvyvi.vaha.local>

Hi,

See this problem https://gis.stackexchange.com/questions/332656/reproject-netcdf-file-using-gdalwarp

Could some NetCDF specialist tell is there something wrong in the NetCDF file or in GDAL, or does that subdataset just come without CRS?

-Jukka Rahkonen-
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190822/c9fa0798/attachment.html>

From even.rouault at spatialys.com  Thu Aug 22 11:49:06 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 22 Aug 2019 20:49:06 +0200
Subject: [gdal-dev] Coordinate system not found from NetCDF file
In-Reply-To: <4ac643cf8f8c40b2bc9790c8c3910bd6@C119S212VM042.msvyvi.vaha.local>
References: <4ac643cf8f8c40b2bc9790c8c3910bd6@C119S212VM042.msvyvi.vaha.local>
Message-ID: <2802290.sCdz4LZRXj@even-i700>

On jeudi 22 août 2019 17:49:43 CEST Rahkonen Jukka (MML) wrote:
> https://gis.stackexchange.com/questions/332656/reproject-netcdf-file-using-g
> dalwarp

The file advertizes CF conventions but doesn't honour them.
It contains a proj4_string="+proj=utm +zone=21 +south +datum=WGS84 +units=m 
+no_defs" that can be used to force the source CRS

And
  NC_GLOBAL#xrange={518220,564060}
  NC_GLOBAL#yrange={6126940,6156700}
could be usued to manually add the extent with gdal_translate -a_ullr

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From tim.jacobs at vito.be  Mon Aug 26 08:06:47 2019
From: tim.jacobs at vito.be (Jacobs Tim)
Date: Mon, 26 Aug 2019 15:06:47 +0000
Subject: [gdal-dev] gdal2tiles missing 'GRA_mode' resample method
Message-ID: <e5b4cc25f1ce49e88a3fc0c6b47973d1@VITOMAIL5.vito.local>

Dear GDAL Dev's,

Recently, we were using gdal2tiles.py to build TMS tiles.
Its code however seems to not support the "mode" resampling
that is available in other GDAL utilities such as gdalwarp and gdal_translate.

Can this be added to gdal2tiles.py too?

Thanks,
Tim Jacobs

Indien u VITO Mol bezoekt, hou aub er dan rekening mee dat de hoofdingang voortaan enkel bereikbaar is vanuit de richting Dessel-Retie, niet vanuit richting Mol, zie vito.be/route.<http://www.vito.be/route>
If you plan to visit VITO at Mol, then please note that the main entrance can only be reached coming from Dessel-Retie and no longer coming from Mol, see vito.be/en/contact/locations.<http://www.vito.be/en/contact/locations>
VITO Disclaimer: http://www.vito.be/e-maildisclaimer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190826/94b7afb4/attachment.html>

From johnbaums at gmail.com  Mon Aug 26 10:16:14 2019
From: johnbaums at gmail.com (John Baumgartner)
Date: Tue, 27 Aug 2019 03:16:14 +1000
Subject: [gdal-dev] gdal_translate vs gdalwarp aggregation behaviour
Message-ID: <CACpmSOsdzPnONPct_og1HJpi-hKWAGheZMfHMYuvjh-p0mm44A@mail.gmail.com>

Hi all

I'm a bit confused by the difference in resampling behaviour seen when
using gdal_translate vs gdalwarp, when faced with ncol or nrow that is not
divisible by the aggregation factor.

For example, consider this 9 cell raster (attached, hopefully) with values
1 through 9, with resolution 1x1:

1 2 3
4 5 6
7 8 9

"gdalwarp in.tif out.tif -r average -tr 2 2"  gives cell values 3.0, 4.5,
7.5, 9.0, while "gdal_translate in.tif out.tif -r average -tr 2 2" gives 3,
4, 6, 7.

It seems that gdal_translate reuses cells in the calculation (i.e. reuses
the middle row and middle column, calculating averages of 1,2,4,5 then
2,3,5,6 then 4,5,7,8 then 5,6,8,9). In contrast, gdalwarp calculates
averages of 1,2,4,5 then 3,6 then 7,8 then 9 (i.e. dividing the raster into
tr x tr blocks where possible, and using fewer data where necessary along
right & bottom edges.

Things get weirder in some cases. For this 2x5 raster:

01 02 03 04 05
06 07 08 09 10

gdal_translate gives 4, 5.5, 7, seemingly calculating averages of 1,2,6,7
then 3,8 then 4,5,9,10.

And for this 2x7 raster:

01 02 03 04 05 06 07
08 09 10 11 12 13 14

gdal_translate gives 5.0, 6.5, 8.5, 10.0. Maybe I'm misreading things, but
is it calculating averages of 1,2,8,9 then 3,10 then 5,12 and then
6,7,13,14... and ignoring 4,11?

Is this behaviour documented anywhere? Can it be easily controlled? I guess
an option is to pad the raster with nodata first - can this be done within
the same gdal_translate call?

Cheers
John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190827/8948ba39/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.tif
Type: image/tiff
Size: 591 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190827/8948ba39/attachment.tif>

From johnbaums at gmail.com  Mon Aug 26 17:24:50 2019
From: johnbaums at gmail.com (John Baumgartner)
Date: Tue, 27 Aug 2019 10:24:50 +1000
Subject: [gdal-dev] gdal_translate vs gdalwarp aggregation behaviour
In-Reply-To: <CACpmSOsdzPnONPct_og1HJpi-hKWAGheZMfHMYuvjh-p0mm44A@mail.gmail.com>
References: <CACpmSOsdzPnONPct_og1HJpi-hKWAGheZMfHMYuvjh-p0mm44A@mail.gmail.com>
Message-ID: <CACpmSOtmJHRpE5Hr0tiEoBbQbf+99yzLFqm6OW83Mjo96OAa9g@mail.gmail.com>

I should have mentioned, this is using GDAL 2.4.1 on macOS.

On Tue, 27 Aug 2019 at 03:16, John Baumgartner <johnbaums at gmail.com> wrote:

> Hi all
>
> I'm a bit confused by the difference in resampling behaviour seen when
> using gdal_translate vs gdalwarp, when faced with ncol or nrow that is not
> divisible by the aggregation factor.
>
> For example, consider this 9 cell raster (attached, hopefully) with values
> 1 through 9, with resolution 1x1:
>
> 1 2 3
> 4 5 6
> 7 8 9
>
> "gdalwarp in.tif out.tif -r average -tr 2 2"  gives cell values 3.0, 4.5,
> 7.5, 9.0, while "gdal_translate in.tif out.tif -r average -tr 2 2" gives 3,
> 4, 6, 7.
>
> It seems that gdal_translate reuses cells in the calculation (i.e. reuses
> the middle row and middle column, calculating averages of 1,2,4,5 then
> 2,3,5,6 then 4,5,7,8 then 5,6,8,9). In contrast, gdalwarp calculates
> averages of 1,2,4,5 then 3,6 then 7,8 then 9 (i.e. dividing the raster into
> tr x tr blocks where possible, and using fewer data where necessary along
> right & bottom edges.
>
> Things get weirder in some cases. For this 2x5 raster:
>
> 01 02 03 04 05
> 06 07 08 09 10
>
> gdal_translate gives 4, 5.5, 7, seemingly calculating averages of 1,2,6,7
> then 3,8 then 4,5,9,10.
>
> And for this 2x7 raster:
>
> 01 02 03 04 05 06 07
> 08 09 10 11 12 13 14
>
> gdal_translate gives 5.0, 6.5, 8.5, 10.0. Maybe I'm misreading things, but
> is it calculating averages of 1,2,8,9 then 3,10 then 5,12 and then
> 6,7,13,14... and ignoring 4,11?
>
> Is this behaviour documented anywhere? Can it be easily controlled? I
> guess an option is to pad the raster with nodata first - can this be done
> within the same gdal_translate call?
>
> Cheers
> John
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190827/6211b3db/attachment.html>

From carsten.lockenkoetter at gon.de  Tue Aug 27 05:23:40 2019
From: carsten.lockenkoetter at gon.de (=?utf-8?B?Q2Fyc3RlbiBMb2NrZW5rw7Z0dGVy?=)
Date: Tue, 27 Aug 2019 12:23:40 +0000
Subject: [gdal-dev] GDAL (.NET) coordinate transformation via BETA2007
In-Reply-To: <AM0PR09MB2948CBFBD397BD4629808B4897A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
References: <AM0PR09MB2948CBFBD397BD4629808B4897A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
Message-ID: <AM0PR09MB2948F040FE4CFA1A5E052E0697A00@AM0PR09MB2948.eurprd09.prod.outlook.com>

Hello,

because SQLServer can't transform geometries, i have developed a .NET library (C#) that transforms the geometries based on GDAL (NuGet Package GDAL.Native v2.4.2).
In principle, this also works.

If i transform from 31466 to 3857, i have an offset of about 1.5m because gdal transformed via Helmert, not via Beta2007.
If i transform the same geometrie via proj4 string to use my Beta2007.gsb file, i get a completly wrong geometry.

sample code to transform via epsg
Example:

                var inputGeom = "POINT (2529815.8 5642182.4)";

                GdalConfiguration.ConfigureOgr();

                var source = new SpatialReference("");
                var destination = new SpatialReference("");

                source.ImportFromEPSG(31466);
                destination.ImportFromEPSG(3857);

                CoordinateTransformation transform = new CoordinateTransformation(source, destination);
                Geometry ogrGeom = Geometry.CreateFromWkt(inputGeom);
                ogrGeom.Transform(transform);

                ogrGeom.ExportToWkt(out string outGeom);

                return outGeom;

value of outGeom:
                POINT (776704.423009968 6626706.00572367)

if i transform the same geometrie via FME with the CsmapReprojector, i get this (correct) coordinates:
(776702.2109972419,6626706.521023605)

FME used the gridfile Beta2007, GDAL not.
So i tried to transform my geometrie via proj4 string, where I have the possibility to specify the gridfile.
My gridfile Beta2007.gsb is located here: {ProjectRoot}\bin\Debug\gdal\share\Beta2007.gsb

Example:

                var inputGeom = "POINT (2529815.8 5642182.4)";

                GdalConfiguration.ConfigureOgr();

                var source = new SpatialReference("");
                var destination = new SpatialReference("");

                source.ImportFromProj4("+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel +nadgrids=@BETA2007.gsb<mailto:+nadgrids=@BETA2007.gsb>");
                destination.ImportFromEPSG(3857);

                CoordinateTransformation transform = new CoordinateTransformation(source, destination);
                Geometry ogrGeom = Geometry.CreateFromWkt(inputGeom);
                ogrGeom.Transform(transform);

                ogrGeom.ExportToWkt(out string outGeom);

                return outGeom;

value of outGeom:
                POINT (776787.364952423 6626930.71048604)


What i need:
Beta2007 Transformation via EPSG code, but i don't know, where i have to change it.
(optional) if i can't change the transformation via EPSG code via Gridfile, i need to know the correct proj4 string for my transformation.

Best regards,
Carsten

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190827/fcb7fd59/attachment-0001.html>

From even.rouault at spatialys.com  Tue Aug 27 08:31:16 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 27 Aug 2019 18:31:16 +0300
Subject: [gdal-dev] GDAL (.NET) coordinate transformation via BETA2007
In-Reply-To: <AM0PR09MB2948F040FE4CFA1A5E052E0697A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
References: <AM0PR09MB2948CBFBD397BD4629808B4897A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
 <AM0PR09MB2948F040FE4CFA1A5E052E0697A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
Message-ID: <2258678.qLdPvhNM8Y@even-i700>

> What i need:
> Beta2007 Transformation via EPSG code, but i don't know, where i have to
> change it.
 (optional) if i can't change the transformation via EPSG code
> via Gridfile, i need to know the correct proj4 string for my
> transformation. 

Works on the box with GDAL 3 + PROJ 6

$ echo "3000000 5500000" | gdaltransform -s_srs EPSG:31466 -t_srs EPSG:3857 --
debug on
OGRCT: Selecting transformation +proj=pipeline +step +proj=axisswap +order=2,1 
+step +inv +proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 
+ellps=bessel +step +proj=hgridshift +grids=BETA2007.gsb +step +proj=webmerc 
+lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 (Inverse of 3-degree Gauss-Kruger 
zone 2 + DHDN to WGS 84 (4) + Popular Visualisation Pseudo-Mercator)
1435447.09516912 6348270.59693845 0

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From carsten.lockenkoetter at gon.de  Tue Aug 27 22:44:43 2019
From: carsten.lockenkoetter at gon.de (=?utf-8?B?Q2Fyc3RlbiBMb2NrZW5rw7Z0dGVy?=)
Date: Wed, 28 Aug 2019 05:44:43 +0000
Subject: [gdal-dev] GDAL (.NET) coordinate transformation via BETA2007
In-Reply-To: <2258678.qLdPvhNM8Y@even-i700>
References: <AM0PR09MB2948CBFBD397BD4629808B4897A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
 <AM0PR09MB2948F040FE4CFA1A5E052E0697A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
 <2258678.qLdPvhNM8Y@even-i700>
Message-ID: <AM0PR09MB29487E484A8527D0C3AA24E297A30@AM0PR09MB2948.eurprd09.prod.outlook.com>

Hi Even,

with GDAL 2.4.2 on a CMD (gdaltransform) it works fine, too.
But not in my application, which is used the GDAL.Native NuGet package.

If it helps, I can write you a small test program.

Or is there another (better) way to transform geometries in SQLServer?

-----Ursprüngliche Nachricht-----
Von: Even Rouault <even.rouault at spatialys.com> 
Gesendet: Dienstag, 27. August 2019 17:31
An: gdal-dev at lists.osgeo.org
Cc: Carsten Lockenkötter <carsten.lockenkoetter at gon.de>
Betreff: Re: [gdal-dev] GDAL (.NET) coordinate transformation via BETA2007

> What i need:
> Beta2007 Transformation via EPSG code, but i don't know, where i have 
> to change it.
 (optional) if i can't change the transformation via EPSG code
> via Gridfile, i need to know the correct proj4 string for my 
> transformation.

Works on the box with GDAL 3 + PROJ 6

$ echo "3000000 5500000" | gdaltransform -s_srs EPSG:31466 -t_srs EPSG:3857 -- debug on
OGRCT: Selecting transformation +proj=pipeline +step +proj=axisswap +order=2,1 
+step +inv +proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 
+ellps=bessel +step +proj=hgridshift +grids=BETA2007.gsb +step 
++proj=webmerc
+lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 (Inverse of 3-degree 
+Gauss-Kruger
zone 2 + DHDN to WGS 84 (4) + Popular Visualisation Pseudo-Mercator)
1435447.09516912 6348270.59693845 0

Even

--
Spatialys - Geospatial professional services http://www.spatialys.com

From uwe.schmitz at bezreg-koeln.nrw.de  Thu Aug 29 01:30:01 2019
From: uwe.schmitz at bezreg-koeln.nrw.de (Schmitz, Uwe)
Date: Thu, 29 Aug 2019 08:30:01 +0000
Subject: [gdal-dev] GDAL (.NET) coordinate transformation via BETA2007
In-Reply-To: <AM0PR09MB2948F040FE4CFA1A5E052E0697A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
References: <AM0PR09MB2948CBFBD397BD4629808B4897A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
 <AM0PR09MB2948F040FE4CFA1A5E052E0697A00@AM0PR09MB2948.eurprd09.prod.outlook.com>
Message-ID: <1A8DF958A1AA1E46BDDB48C08CB0DD0001E971FADD@vbrk21mx02.bezreg-koeln.nrw.de>

Carsten,

are you shure that the grid is used during transformation?
I know nothing about the C# package, but in my own tests
the “not-found” case was often the cause for wrong results.
So I tend to almost always use an absolute path to
the grid file.
Due to historical reasons gdal silently ignores this error.

Ah, and I see that I put an extra +wktext at the end of the
arguments. Don’t know if it’s still necessary.

Regards
Uwe


Von: gdal-dev [mailto:gdal-dev-bounces at lists.osgeo.org] Im Auftrag von Carsten Lockenkötter
Gesendet: Dienstag, 27. August 2019 14:24
An: gdal-dev at lists.osgeo.org
Betreff: [gdal-dev] GDAL (.NET) coordinate transformation via BETA2007

Hello,

because SQLServer can't transform geometries, i have developed a .NET library (C#) that transforms the geometries based on GDAL (NuGet Package GDAL.Native v2.4.2).
In principle, this also works.

If i transform from 31466 to 3857, i have an offset of about 1.5m because gdal transformed via Helmert, not via Beta2007.
If i transform the same geometrie via proj4 string to use my Beta2007.gsb file, i get a completly wrong geometry.

sample code to transform via epsg
Example:

                var inputGeom = "POINT (2529815.8 5642182.4)";

                GdalConfiguration.ConfigureOgr();

                var source = new SpatialReference("");
                var destination = new SpatialReference("");

                source.ImportFromEPSG(31466);
                destination.ImportFromEPSG(3857);

                CoordinateTransformation transform = new CoordinateTransformation(source, destination);
                Geometry ogrGeom = Geometry.CreateFromWkt(inputGeom);
                ogrGeom.Transform(transform);

                ogrGeom.ExportToWkt(out string outGeom);

                return outGeom;

value of outGeom:
                POINT (776704.423009968 6626706.00572367)

if i transform the same geometrie via FME with the CsmapReprojector, i get this (correct) coordinates:
(776702.2109972419,6626706.521023605)

FME used the gridfile Beta2007, GDAL not.
So i tried to transform my geometrie via proj4 string, where I have the possibility to specify the gridfile.
My gridfile Beta2007.gsb is located here: {ProjectRoot}\bin\Debug\gdal\share\Beta2007.gsb

Example:

                var inputGeom = "POINT (2529815.8 5642182.4)";

                GdalConfiguration.ConfigureOgr();

                var source = new SpatialReference("");
                var destination = new SpatialReference("");

                source.ImportFromProj4("+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel +nadgrids=@BETA2007.gsb<mailto:+nadgrids=@BETA2007.gsb>");
                destination.ImportFromEPSG(3857);

                CoordinateTransformation transform = new CoordinateTransformation(source, destination);
                Geometry ogrGeom = Geometry.CreateFromWkt(inputGeom);
                ogrGeom.Transform(transform);

                ogrGeom.ExportToWkt(out string outGeom);

                return outGeom;

value of outGeom:
                POINT (776787.364952423 6626930.71048604)


What i need:
Beta2007 Transformation via EPSG code, but i don't know, where i have to change it.
(optional) if i can't change the transformation via EPSG code via Gridfile, i need to know the correct proj4 string for my transformation.

Best regards,
Carsten

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190829/7ff0bf7c/attachment-0001.html>

