From warmerdam at p...  Fri Nov  2 15:10:43 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:14 2007
Subject: libgrass5 1.0.0 release
Message-ID: <3BE2FDC3.3070600@p...>

Folks,

I have prepared a 1.0.0 release of libgrass. The most noteworthy change
in this release is support for the new (LZW-free) compression format for
GRASS rasters incorporated into GRASS roughly 8 months ago. Note that old
compressed rasters will nolonger be readable.

The library is also updated to mostly current code from libgis.

General info:
http://gdal.velocet.ca/projects/grass

Direct download:
http://gdal.velocet.ca/projects/grass/libgrass5-1.0.0.tar.gz

Amoung other things, libgrass is used by OSSIM and GDAL to get access to
GRASS databases.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From tmitchell at l...  Mon Nov  5 18:59:20 2001
From: tmitchell at l... (Tyler Mitchell)
Date: Wed Nov 21 11:49:14 2007
Subject: Compiling on cygwin
Message-ID: <OF5624AE98.D8D02776-ON88256AFB.0083A19E@l...>

Hi guys,
Is there anything special I need to do to get gdal compiled on cygwin?

Here's the error I'm getting:
---
./configure --with-tiff=internal --with-geotiff=internal
--with-jpeg=internal
#I have also enabled ECW support
make clean
make
---
/usr/lib/libm.a(_cygwin_crt0_common.o): In function `cygwin_crt0_common':
/cygnus/netrel/src/cygwin-1.3.3-2/winsup/cygwin/lib/_cygwin_crt0_common.cc:90:

u
ndefined reference to `GetModuleHandleA@4'
make: *** [force-lib] Error 1

Administrators@PCWLF20 /usr/src/gis/gdal-1.1.5
-----


Tyler J. Mitchell
Coordinator - Geographic Information Systems
Lignum Ltd - 180 Hodgson Road
Williams Lake, B.C. Canada
V2G 3P6
Phone: 250-392-3371
Fax: 250-398-3977
Email: tmitchell@l...



From warmerdam at p...  Tue Nov  6 17:30:44 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:14 2007
Subject: [gdal-dev] Compiling on cygwin
References: <OF5624AE98.D8D02776-ON88256AFB.0083A19E@l...>
Message-ID: <3BE86494.8080606@p...>

Tyler Mitchell wrote:

> Hi guys,
> Is there anything special I need to do to get gdal compiled on cygwin?
> 
> Here's the error I'm getting:
> ---
> ./configure --with-tiff=internal --with-geotiff=internal
> --with-jpeg=internal
> #I have also enabled ECW support
> make clean
> make
> ---
> /usr/lib/libm.a(_cygwin_crt0_common.o): In function `cygwin_crt0_common':
> /cygnus/netrel/src/cygwin-1.3.3-2/winsup/cygwin/lib/_cygwin_crt0_common.cc:90:
> 
> u
> ndefined reference to `GetModuleHandleA@4'
> make: *** [force-lib] Error 1
> 
> Administrators@PCWLF20 /usr/src/gis/gdal-1.1.5
> -----

Tyler,

I have never run into this problem, and I am not sure where GetModuleHandleA
is being called from. Note that I have never tried using ECW from within
Cygwin. I didn't realize you were supposed to be able to call out to external
DLLs without doing something special. Perhaps you could try it again without
ECW and see if that is your problem?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From tmitchell at l...  Tue Nov  6 17:54:01 2001
From: tmitchell at l... (Tyler Mitchell)
Date: Wed Nov 21 11:49:14 2007
Subject: [gdal-dev] Compiling on cygwin
Message-ID: <OF89F67A7E.EF34210C-ON88256AFC.007CF664@l...>


I reran the make and still get the same errors when I turn of ecw. But I
think I may be wasting my time. You tell me.
I basically want to get ecw support for mapserver. I had thought I would
need to use cygwin (that is, build gdal and mapserver on cygwin) to do
this. But I've got the mapserv.exe directly for windows and just need to
get a windows build of gdal (with ecw support). Right? I am sure that my
blurred understanding of what requires gdal and what gdal requires is
becoming evident. I have openev installed and noticed gdal exes in there -
it is a version with ecw support - do I already have what I need?

Tyler J. Mitchell
Coordinator - Geographic Information Systems
Lignum Ltd - 180 Hodgson Road
Williams Lake, B.C. Canada
V2G 3P6
Phone: 250-392-3371
Fax: 250-398-3977
Email: tmitchell@l...



Frank 
Warmerdam To: gdal-dev@yahoogroups.com 
<warmerdam@pob cc: 
ox.com> Fax to: 
Subject: Re: [gdal-dev] Compiling on cygwin 
11/06/01 02:30 
PM 
Please respond 
to gdal-dev 






Tyler Mitchell wrote:

> Hi guys,
> Is there anything special I need to do to get gdal compiled on cygwin?
>
> Here's the error I'm getting:
> ---
> ./configure --with-tiff=internal --with-geotiff=internal
> --with-jpeg=internal
> #I have also enabled ECW support
> make clean
> make
> ---
> /usr/lib/libm.a(_cygwin_crt0_common.o): In function `cygwin_crt0_common':
>
/cygnus/netrel/src/cygwin-1.3.3-2/winsup/cygwin/lib/_cygwin_crt0_common.cc:90:

>
> u
> ndefined reference to `GetModuleHandleA@4'
> make: *** [force-lib] Error 1
>
> Administrators@PCWLF20 /usr/src/gis/gdal-1.1.5
> -----

Tyler,

I have never run into this problem, and I am not sure where
GetModuleHandleA
is being called from. Note that I have never tried using ECW from within
Cygwin. I didn't realize you were supposed to be able to call out to
external
DLLs without doing something special. Perhaps you could try it again
without
ECW and see if that is your problem?

Best regards,

--
---------------------------------------+--------------------------------------

I set the clouds in motion - turn up | Frank Warmerdam,
warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent



Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.





From warmerdam at p...  Tue Nov  6 18:14:23 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Compiling on cygwin
References: <OF89F67A7E.EF34210C-ON88256AFC.007CF664@l...>
Message-ID: <3BE86ECF.70606@p...>

Tyler Mitchell wrote:

> 
> I reran the make and still get the same errors when I turn of ecw. But I
> think I may be wasting my time. You tell me.
> I basically want to get ecw support for mapserver. I had thought I would
> need to use cygwin (that is, build gdal and mapserver on cygwin) to do
> this. But I've got the mapserv.exe directly for windows and just need to
> get a windows build of gdal (with ecw support). Right? I am sure that my
> blurred understanding of what requires gdal and what gdal requires is
> becoming evident. I have openev installed and noticed gdal exes in there -
> it is a version with ecw support - do I already have what I need?


Tyler,

If you have the 1.2.1_FW OpenEV release, then you should have everything you
need (assuming your MapServer is built with GDAL support). Just copy the
gdal11.dll, NCS*.dll and perhaps the OGDI, ZLIB and EXPAT DLLs rom the
OpenEV release into whereever you have your gdal11.dll currently for MapServer
and you should be all set.

In the meantime, verify that your OpenEV can open ECW files.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From tmitchell at l...  Tue Nov  6 18:41:31 2001
From: tmitchell at l... (Tyler Mitchell)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Compiling on cygwin
Message-ID: <OF23F66EAB.3BC95B0E-ON88256AFC.00811CD8@l...>


>If you have the 1.2.1_FW OpenEV release, then you should have everything
you

I've got it.

>need (assuming your MapServer is built with GDAL support).

I downloaded a nightly build of MS that says it supports gdal...

>Just copy the
>gdal11.dll, NCS*.dll and perhaps the OGDI, ZLIB and EXPAT DLLs rom the
>OpenEV release into whereever you have your gdal11.dll currently for
MapServer
>and you should be all set.

...but all I got from the MS zip is a few exe and a zlib dll. No gdal dll
at all elsewhere on my system. I'll look into it at the mapserver download
site.

>In the meantime, verify that your OpenEV can open ECW files.

Sure does.



From nhv at y...  Tue Nov  6 19:14:52 2001
From: nhv at y... (Norman Vine)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Compiling on cygwin
In-Reply-To: <3BE86494.8080606@p...>
Message-ID: <006601c16721$39ab64c0$a300a8c0@nhv>

charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

 Frank Warmerdam writes:
>
>Tyler Mitchell wrote:
>
>> Hi guys,
>> Is there anything special I need to do to get gdal compiled on cygwin?
>>
>I have never run into this problem, and I am not sure where
GetModuleHandleA
>is being called from. Note that I have never tried using ECW from within
>Cygwin. I didn't realize you were supposed to be able to call out to
external
>DLLs without doing something special.

Hi Frank

Recent versions of ld 'might' link with 'C' dll's but NOT C++ dlls
I will investigate ECW when I get a chance

attached find some cygwin makefile mods
note that I can build a Cygwin pymod extension

I can build a libgdal.dll but I still have to manually
change the SO_EXT = in the GDALmake.opt file

I didn't see where this was being set in the configure.in script

$ python
Python 2.1.1 (#19, Oct 22 2001, 14:56:28)
[GCC 2.95.3-5 (cygwin special)] on cygwin
Type "copyright", "credits" or "license" for more information.
>>> import gdal
>>> dir(gdal)
['Band', 'ColorTable', 'ComputeMedianCutPCT', 'Dataset', 'Debug',
'DitherRGB2PCT', 'Driver', 'ErrorReset', 'GA_ReadOnly'
, 'GA_Update', 'GCI_AlphaBand', 'GCI_BlackBand', 'GCI_BlueBand',
'GCI_CyanBand', 'GCI_GrayIndex', 'GCI_GreenBand', 'GCI_
HueBand', 'GCI_LightnessBand', 'GCI_MagentaBand', 'GCI_PaletteIndex',
'GCI_RedBand', 'GCI_SaturationBand', 'GCI_Undefine
d', 'GCI_YellowBand', 'GCP', 'GDT_Byte', 'GDT_CFloat32', 'GDT_CFloat64',
'GDT_CInt16', 'GDT_CInt32', 'GDT_Float32', 'GDT
_Float64', 'GDT_Int16', 'GDT_Int32', 'GDT_UInt16', 'GDT_UInt32',
'GDT_Unknown', 'GF_Read', 'GF_Write', 'GPI_CMYK', 'GPI_
Gray', 'GPI_HLS', 'GPI_RGB', 'GetCacheMax', 'GetCacheUsed',
'GetColorInterpretationName', 'GetDataTypeName', 'GetDataTyp
eSize', 'GetDriverByName', 'GetDriverList', 'GetLastErrorMsg',
'GetLastErrorNo', 'GetPaletteInterpretationName', 'Open',
'RGBFile2PCTFile', 'SetCacheMax', '__builtins__', '__doc__', '__file__',
'__name__', '_gdal']
>>>

Cheers

Norman
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/x-gzip
Size: 153 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20011106/69b405d9/attachment.tgz
From warmerdam at p...  Tue Nov  6 23:25:17 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Compiling on cygwin
References: <006601c16721$39ab64c0$a300a8c0@nhv>
Message-ID: <3BE8B7AD.6030202@p...>


> attached find some cygwin makefile mods
> note that I can build a Cygwin pymod extension
> 
> I can build a libgdal.dll but I still have to manually
> change the SO_EXT = in the GDALmake.opt file
> 
> I didn't see where this was being set in the configure.in script


Norman,

I have added pymod/cygMakefile to CVS though it isn't likely to be maintained
properly. I have also modified configure to set the EXE macro in
GDALmake.opt.in as well as overriding SO_EXT to dll (not that this is set
by the LD_SHARED macro in aclocal.m4). I also modified the apps/GNUmakefile
to use $(EXE) to properly name .exe executables (though I haven't found this
to be necessary since I added the .exe hack to install-sh).

What I can't seem to do with cygwin-1.3.3 (2001-09-12) is to produce shared
libraries or dlls. How do you do this? What version of Cygwin do I need?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent



From nhv at y...  Wed Nov  7 00:24:32 2001
From: nhv at y... (Norman Vine)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Compiling on cygwin
In-Reply-To: <3BE8B7AD.6030202@p...>
Message-ID: <007201c1674c$7be70e40$a300a8c0@nhv>

Frank Warmerdam writes:
>
>Norman,
>
>I have added pymod/cygMakefile to CVS though it isn't likely to be
maintained
>properly.

see below for my way of having configure do this
esp see CCSHARED

>I have also modified configure to set the EXE macro in GDALmake.opt.in
as well as overriding SO_EXT to dll (not that this is set
>by the LD_SHARED macro in aclocal.m4). I also modified the
>apps/GNUmakefile to use $(EXE) to properly name .exe executables (though I
>haven't found this >to be necessary since I added the .exe hack to
install-sh).

Right It isn't necessary to make the files
but it is necessary for make clean

>
>What I can't seem to do with cygwin-1.3.3 (2001-09-12) is to produce shared
>libraries or dlls. How do you do this? What version of Cygwin do I need?

You need to upgrade your 'binutils' and perhaps the 'gcc' package(s)
these have been out of beta for about a month

FYI though not necessary for the dll stuff cygwin 1.3.4 was released this
week
and has a number of 'nice' additions / fixes esp if you are using PostGis.

Cheers

Norman

===== cut =====
dnl @synopsis AC_PROG_PYTHON([version])
dnl
dnl This macro searches for an installed python.
AC_DEFUN([AC_PROG_PYTHON],
[
AC_MSG_CHECKING(if python is wanted)
AC_ARG_WITH(python,
[ --with-python=DIR path to python interpreter])
case "$with_python" in
no) AC_MSG_RESULT(no) ;;
*)
AC_MSG_RESULT(yes)
if test "x$with_python" != x; then
test -f "$with_python" && PYTHON=$with_python
else
AC_PATH_PROG(PYTHON,python)
fi

if test "x$PYTHON" != x; then
_py_version=`$PYTHON -c 'import sys; print sys.version[[0:3]]'`
_py_prefix=`$PYTHON -c 'import sys; print sys.prefix'`
_py_exec_prefix=`$PYTHON -c 'import sys; print sys.exec_prefix'`
_py_linkforshared=`$PYTHON -c 'import distutils.sysconfig; print
distutils.sysconfig.get_config_var("LINKFORSHARED")'`
_py_ccshared=`$PYTHON -c 'import distutils.sysconfig; print
distutils.sysconfig.get_config_var("CCSHARED")'`

_py_include="$_py_prefix/include/python$_py_version"
_py_lib="$_py_exec_prefix/lib/python$_py_version/config"
_py_makefile="$_py_lib/Makefile"

if test $_py_version = 1.5; then
echo
echo "*** WARNING:"
echo "*** Python version 1.5 detected: This version of Python has a
known fatal"
echo "*** bug. Disabling Python interface. If you want the embedded
Python"
echo "*** interface, you will need to get an updated version of
Python."
echo
PYTHON=""
fi

if test -f $_py_makefile; then
_py_libs=`sed -n -e 's/^LIBS=\(.*\)/\1/p' $_py_makefile`
_py_libm=`sed -n -e 's/^LIBM=\(.*\)/\1/p' $_py_makefile`
else
_py_libs='-lpthread -ldl -lutil -ldb'
_py_libm='-lm'
fi

# Now that we think we know where the python include and
# library files are, make sure we can build a small
# program against them.
_save_CPPFLAGS=${CPPFLAGS}
_save_LDFLAGS=${LDFLAGS}
_save_LIBS=${LIBS}

CPPFLAGS="$CPPFLAGS $_py_ccshared -I$_py_include"
LDFLAGS="$LDFLAGS $_py_linkforshared -L$_py_lib"
LIBS="$LIBS -lpython$_py_version $_py_libs $_py_libm"

_have_python=0
AC_CHECK_HEADER(Python.h,[
AC_MSG_CHECKING([for Py_Initialize in -lpython$_py_version])
AC_TRY_LINK([#include "Python.h"],[
Py_Initialize();],[
_have_python=1
M4_DEFS='-DHAVE_PYTHON=1'
AC_MSG_RESULT(yes)
AC_DEFINE(HAVE_PYTHON)],
AC_MSG_RESULT(no))])

if test "x$_have_python" = x0; then
CPPFLAGS=$_save_CPPFLAGS
LDFLAGS=$_save_LDFLAGS
LIBS=$_save_LIBS
PYTHON=""
fi
fi
;;
esac
])



From tmitchell at l...  Wed Nov  7 12:35:29 2001
From: tmitchell at l... (Tyler Mitchell)
Date: Wed Nov 21 11:49:15 2007
Subject: Any suggestsions for translating PIX (PCI) image format?
Message-ID: <OFBAF6F85F.0FFAEF41-ON88256AFD.006086D9@l...>

Just wondering if anyone has any good free/open source translators for this
image format from PCI.
I noticed that gdal_translate doesn't support it, any plans in the works to
add it?

Tyler



From warmerdam at p...  Wed Nov  7 13:30:59 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Any suggestsions for translating PIX (PCI) image format?
References: <OFBAF6F85F.0FFAEF41-ON88256AFD.006086D9@l...>
Message-ID: <3BE97DE3.1050202@p...>

Tyler Mitchell wrote:

> Just wondering if anyone has any good free/open source translators for this
> image format from PCI.
> I noticed that gdal_translate doesn't support it, any plans in the works to
> add it?


Tyler,

Well, I am in a unique position to do this, having worked at PCI for
years, and having lead many of the additions to the format last decade.
However, I am not planning to do so at this time. The format is quite
complex (to do completely), and the PCI provided free source is quite
antique (about six years out of date) so it doesn't support many of the
modern PCIDSK options like tiling, compression, new style vectors, etc.

Apparently PCI is going to release a DLL for those interested in PCIDSK
support. When that is available I might write a GDAL driver based on it.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From tmitchell at l...  Fri Nov  9 14:10:17 2001
From: tmitchell at l... (tmitchell@l...)
Date: Wed Nov 21 11:49:15 2007
Subject: gdal_translate with pixel size parameters?
Message-ID: <9sh9mp+4olo@eGroups.com>

Can I use gdal_translate to resample the image I am converting?
Any suggestions?

Tyler



From warmerdam at p...  Fri Nov  9 14:33:07 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] gdal_translate with pixel size parameters?
References: <9sh9mp+4olo@eGroups.com>
Message-ID: <3BEC2F73.8050803@p...>



tmitchell@l... wrote:

> Can I use gdal_translate to resample the image I am converting?
> Any suggestions?


Tyler,

You can use the -outsize parameter to control the size of the output file.
For instance:

gdal_translate -outsize 100 100 input.tif output.tif

will resample input.tif to a 100x100 image in output.tif. note that
nearest neighbour resampling is used (replication/decimation).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent



From tmitchell at l...  Fri Nov  9 14:38:54 2001
From: tmitchell at l... (Tyler Mitchell)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] gdal_translate with pixel size parameters?
Message-ID: <OF8E890559.DB258269-ON88256AFF.006BD465@l...>


I think I'm misusing some terms, my apologies.
I would actually like to maintain the output size/dimension of the overall
image, but resample an image from 100m -> 10m pixel sizes.



Frank 
Warmerdam To: gdal-dev@yahoogroups.com 
<warmerdam@pob cc: 
ox.com> Fax to: 
Subject: Re: [gdal-dev] gdal_translate with pixel size 
11/09/01 11:33 parameters? 
AM 
Please respond 
to gdal-dev 








tmitchell@l... wrote:

> Can I use gdal_translate to resample the image I am converting?
> Any suggestions?


Tyler,

You can use the -outsize parameter to control the size of the output file.
For instance:

gdal_translate -outsize 100 100 input.tif output.tif

will resample input.tif to a 100x100 image in output.tif. note that
nearest neighbour resampling is used (replication/decimation).

Best regards,
--
---------------------------------------+--------------------------------------

I set the clouds in motion - turn up | Frank Warmerdam,
warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent


Yahoo! Groups Sponsor 



ADVERTISEMENT 








Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.





From warmerdam at p...  Fri Nov  9 14:45:37 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] gdal_translate with pixel size parameters?
References: <OF8E890559.DB258269-ON88256AFF.006BD465@l...>
Message-ID: <3BEC3261.9010608@p...>



Tyler Mitchell wrote:

> 
> I think I'm misusing some terms, my apologies.
> I would actually like to maintain the output size/dimension of the overall
> image, but resample an image from 100m -> 10m pixel sizes.


Tyler,

When you say maintain the output size, I assume you mean preserve the
original geographic extents, right? Clearly if you go from 100m pixels
to 10m pixels and preserve the region, the width and height of the image
in pixels and lines will each increase by a factor of 10.

The resampling in gdal_translate is controlled by setting the size of
the output image, not by setting the desired size of a pixel in
geographic coordinates. So to increase the resolution by a factor
of 10 (as you want), you would set the -outsize arguments to be 10x
the input size of the image.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent



From tmitchell at l...  Fri Nov  9 14:51:59 2001
From: tmitchell at l... (Tyler Mitchell)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] gdal_translate with pixel size parameters?
Message-ID: <OFFEF45CC0.59D6F327-ON88256AFF.006CF645@l...>


>So to increase the resolution by a factor
>of 10 (as you want), you would set the -outsize arguments to be 10x
>the input size of the image.

Okay, that helps make sense, thank you.
I get the message "ERROR 1: Supersampling not supported". I ran gdalinfo
to get the dimensions of the image, then manually entered them using
gdal_translate and the outsize parameter.

Tyler



Frank 
Warmerdam To: gdal-dev@yahoogroups.com 
<warmerdam@pob cc: 
ox.com> Fax to: 
Subject: Re: [gdal-dev] gdal_translate with pixel size 
11/09/01 11:45 parameters? 
AM 
Please respond 
to gdal-dev 








Tyler Mitchell wrote:

>
> I think I'm misusing some terms, my apologies.
> I would actually like to maintain the output size/dimension of the
overall
> image, but resample an image from 100m -> 10m pixel sizes.


Tyler,

When you say maintain the output size, I assume you mean preserve the
original geographic extents, right? Clearly if you go from 100m pixels
to 10m pixels and preserve the region, the width and height of the image
in pixels and lines will each increase by a factor of 10.

The resampling in gdal_translate is controlled by setting the size of
the output image, not by setting the desired size of a pixel in
geographic coordinates. So to increase the resolution by a factor
of 10 (as you want), you would set the -outsize arguments to be 10x
the input size of the image.

Best regards,
--
---------------------------------------+--------------------------------------

I set the clouds in motion - turn up | Frank Warmerdam,
warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent


Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.





From ben at v...  Mon Nov 12 03:26:50 2001
From: ben at v... (Ben Discoe)
Date: Wed Nov 21 11:49:15 2007
Subject: Building GDAL on Linux
Message-ID: <MGEOKJAEOFKANAFBLFGGAEBMDAAA.ben@v...>


I finally got a brand-new Linux machine of my own, and am trying to build
GDAL on it. The machine is a 1.4GHz Athlon, Redhat 7.2.

Upon building GDAL, i get errors like the following:

gmake
[....]
gmake[2]: Entering directory `/home/Ben/gdal-1.1.5/frmts/gtiff/libgeotiff'
gcc -c -I../../../port -I../libtiff -Wall -fPIC -O2 -I/usr/local/include -I/
usr/local/include xtiff.c -o xtiff.o
xtiff.c In function `XTIFFFdOpen':
xtiff.c:477: Internal error: Segmentation fault.
Please submit a full bug report.

I then type 'gmake' again and it appears to get further, until it hits
another Segmentation fault.

I'm a Win32 "power developer", but have very little Unix development
experience. Are there errors normal? Are they related to GDAL? Is there
anything i can do about them?

Thanks,
Ben



From warmerdam at p...  Mon Nov 12 08:57:07 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Building GDAL on Linux
References: <MGEOKJAEOFKANAFBLFGGAEBMDAAA.ben@v...>
Message-ID: <3BEFD533.6040701@p...>

Ben Discoe wrote:

> 
> I finally got a brand-new Linux machine of my own, and am trying to build
> GDAL on it. The machine is a 1.4GHz Athlon, Redhat 7.2.
> 
> Upon building GDAL, i get errors like the following:
> 
> gmake
> [....]
> gmake[2]: Entering directory `/home/Ben/gdal-1.1.5/frmts/gtiff/libgeotiff'
> gcc -c -I../../../port -I../libtiff -Wall -fPIC -O2 -I/usr/local/include -I/
> usr/local/include xtiff.c -o xtiff.o
> xtiff.c In function `XTIFFFdOpen':
> xtiff.c:477: Internal error: Segmentation fault.
> Please submit a full bug report.
> 
> I then type 'gmake' again and it appears to get further, until it hits
> another Segmentation fault.
> 
> I'm a Win32 "power developer", but have very little Unix development
> experience. Are there errors normal? Are they related to GDAL? Is there
> anything i can do about them?


Ben,

I once had a machine on which I ran into errors like this. Apparently it was
some sort of hardware memory flaw that was rarely encountered within anything
but gcc. I don't think this is a problem with the code.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From andreane.meunier at p...  Thu Nov 22 07:13:53 2001
From: andreane.meunier at p... (Andreane Meunier)
Date: Wed Nov 21 11:49:15 2007
Subject: Gdal on Linux
Message-ID: <1006431233.3bfcec01ca15f@w...>

Hi!

I'm using gdal_translate to visualize an Arc/Infa Binary Grid on Linux.This is
what I get with gdalinfo:

Driver: AIGrid/Arc/Info Binary Grid
Size is 317, 369
Projection is `'
Corner Coordinates:
Upper Left ( 0.0, 0.0)
Lower Left ( 0.0, 369.0)
Upper Right ( 317.0, 0.0)
Lower Right ( 317.0, 369.0)
Center ( 158.5, 184.5)
Band 1 Block=256x4 Type=Int32, ColorInterp=Undefined
Min=1.000/1, Max=1122.000/-1073743528

And these are my commands:
./gdal_translate adf test3
./gdal_translate -ot UInt16 adf test4

When I open them with "The Gimp", test3 doesn't open because it's in 32 bits and
test4 is really bad (I get a black image with only a white line representing a
river... so when I use a river-less file I get a completely black image!) What
am I doing wrong?

Is there a way to visualize 32 bits images? How come all the information is
gone from the image in UInt16? I'm not very familiar with geographic formats as
I'm doing this for a computer graphics class at school so any help would be
appreciated.

Thanks!

Andrea


From warmerdam at p...  Thu Nov 22 09:03:39 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Gdal on Linux
References: <1006431233.3bfcec01ca15f@w...>
Message-ID: <3BFD05BB.9080906@p...>



Andreane Meunier wrote:

> Band 1 Block=256x4 Type=Int32, ColorInterp=Undefined
> Min=1.000/1, Max=1122.000/-1073743528

...

> And these are my commands:
> ./gdal_translate adf test3
> ./gdal_translate -ot UInt16 adf test4
> 
> When I open them with "The Gimp", test3 doesn't open because it's in 32 
> bits and
> test4 is really bad (I get a black image with only a white line 
> representing a
> river... so when I use a river-less file I get a completely black 
> image!) What
> am I doing wrong?
> 
> Is there a way to visualize 32 bits images? How come all the information is
> gone from the image in UInt16? I'm not very familiar with geographic 
> formats as
> I'm doing this for a computer graphics class at school so any help would be
> appreciated.


Andreane,

It would appear the dynamic range of your image is 1 to 1122. If translated
into a 16bit output file and displayed by a naive application like Gimp, the
values 1-1122 out of a possible value range of 0 to 65535 will all appear
black. What I think you really need to do is scale the image to 8 bit based
on it's dynamic range (ie. mapping 1122 to 255, and 1 to 0 and linear in
between) however, GDAL doesn't have a really convenient way of doing this
from the commandline.

You could use an application that is more savvy about this sort of thing,
such as OpenEV (openev.sf.net) or work out a way of rescaling the data.

If you have python support it would be possible to fairly easily with
a script like this:


import Numeric
import gdal
import gdalnumeric

image = gdalnumeric.LoadFile( "adf" )

image = image * 255 / 1122.0
image = image.astype(Numeric.Unsigned8)
gdalnumeric.SaveArray( image, "out.tif" )

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent



From naumov at a...  Mon Nov 26 12:58:52 2001
From: naumov at a... (Aleksey)
Date: Wed Nov 21 11:49:15 2007
Subject: Is there a driver to import USGS DEMs (non SDTS)?
Message-ID: <01KB5SM45P8G004LRH@B...>

Hi,

I am trying to use GDAL to import a USGS DEM data set (into GRASS using the 
r.in.gdal module). The datasets are 10-meter New York State DEMs available 
from the Cornell University CUGIR site 
(http://cugir.mannlib.cornell.edu/index.html; Go to "Search CUGIR data" and 
enter "DEM").

As I can see from their metadata (available at the same site), the datasets 
are not in SDTS, but rather in USGS ASCII format with the header record 
(A-record), followed by a series of profile records (B-records), and an 
accuracy record (C-record). The format seems to be (an older?) standard to 
USGS, it's documented at: http://rockyweb.cr.usgs.gov/nmpstds/demstds.html 
(part2).

Is there a way to read in such datasets with GDAL? In the GDAL tree (version 
1.1.5, built on Linux) I see frmts/usgsdem, but it is empty. Any 
suggestions/ideas?

Thank you

Aleksey


From warmerdam at p...  Tue Nov 27 10:10:05 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Is there a driver to import USGS DEMs (non SDTS)?
References: <01KB5SM45P8G004LRH@B...>
Message-ID: <3C03ACCD.5090903@p...>

Aleksey wrote:

> Hi,
> 
> I am trying to use GDAL to import a USGS DEM data set (into GRASS using the
> r.in.gdal module). The datasets are 10-meter New York State DEMs available
> from the Cornell University CUGIR site
> (http://cugir.mannlib.cornell.edu/index.html; Go to "Search CUGIR data" and
> enter "DEM").
> 
> As I can see from their metadata (available at the same site), the datasets
> are not in SDTS, but rather in USGS ASCII format with the header record
> (A-record), followed by a series of profile records (B-records), and an
> accuracy record (C-record). The format seems to be (an older?) standard to
> USGS, it's documented at: http://rockyweb.cr.usgs.gov/nmpstds/demstds.html
> (part2).
> 
> Is there a way to read in such datasets with GDAL? In the GDAL tree 
> (version
> 1.1.5, built on Linux) I see frmts/usgsdem, but it is empty. Any
> suggestions/ideas?
> 
> Thank you
> 
> Aleksey


Aleksey,

I had started on a USGS DEM driver based on some VTP code a few months ago
but never finished it. However, driven forward by your request I have
completed it, and checked it in. It seems to work well, thanks for Ben Discoe's
VTP code!

If you want to use it, you will need to rebuild from CVS.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From naumov at a...  Tue Nov 27 16:50:58 2001
From: naumov at a... (Aleksey)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Is there a driver to import USGS DEMs (non SDTS)?
In-Reply-To: <3C03ACCD.5090903@p...>
References: <01KB5SM45P8G004LRH@B...> <3C03ACCD.5090903@p...>
Message-ID: <01KB7F0AA1MU0050U9@B...>

Frank,

Thank you for adding this driver, and so quickly too! After building PROJ.4 
(GRASS only has a static version of it) I was able to examine USGS DEM 
datasets with gdalinfo and import them in GRASS with r.in.gdal -- all works 
well so far.

I have a few minor suggestions on PROJ.4, I'll send them to you directly so 
that not to pollute this list.

Thanks again,

Aleksey


> Aleksey,
>
> I had started on a USGS DEM driver based on some VTP code a few months ago
> but never finished it. However, driven forward by your request I have
> completed it, and checked it in. It seems to work well, thanks for Ben
> Discoe's VTP code!
>
> If you want to use it, you will need to rebuild from CVS.
>
> Best regards,


From andreane.meunier at p...  Wed Nov 28 23:06:42 2001
From: andreane.meunier at p... (=?iso-8859-1?q?Andr=E9ane_Meunier?=)
Date: Wed Nov 21 11:49:15 2007
Subject: Help!
Message-ID: <9u4c8i+umqe@eGroups.com>

Hi!

I'm trying to compile and run on Linux but can't seem to get things
going! Everything compiles but I can't seem to be able to run
gdal_translate. I have tried different formats and get different
errors. What bugs me is that when I use the binary it works!

I figure it must be my .so file but don't know how to fix that. When
I put my newly compiled .so file in /usr/lib/ it doesn't work. I am
new to .so files and Linux so I don't understand how to fix this
problem. (It is said on the website to use the static files, but I
don't know where...)

Sorry for my elementary question, but I am interested in understanding
my mistakes!

Andreane



From nakiya123 at y...  Thu Nov 29 21:09:34 2001
From: nakiya123 at y... (nakiya123@y...)
Date: Wed Nov 21 11:49:15 2007
Subject: GDALComputeRasterMinMax DEATH!!!
Message-ID: <9u6pou+tdu2@eGroups.com>

Ok,
The code is below. The problem is an infinite loop error as
GDALComputeRasterMinMax is called on certain USGS SDTD DEMs. I have a
collection of thousands of dems in this format and have written a
program to extract info out of them. On VERY few of all of these do I
get this error:

ERROR 3: Data record is short on DDF file.

I can understand that that my be some sort of file formatting error,
which is fine. I'd just like to be able to handle it some how scince
the method call does NOT return.

The catcher is gdalinfo opens these "screwed up" dems and displays
it's min/max as outrageous figures like 37000+. I noticed gdalinfo is
in C not C++ so I attempted to write this lower block of code in C. 
Same thing happened. FYI, this block of code worked well on the other
few thousand dems.

int gotMin, gotMax;
double minmax[2];

GDALRasterBand *poBand;

GDALAllRegister();

poDataset = (GDALDataset *) GDALOpen(filename.c_str(), GA_ReadOnly);
if(!poDataset)
{
cerr << "Could not open file: " << filename << endl;
return false;
}

poBand = poDataset->GetRasterBand(1);
if(!poBand)
{
cerr << "Could not get raster band 1\n";
return false;
}

width = poBand->GetXSize();
height = poBand->GetYSize();

minmax[0] = poBand->GetMinimum(&gotMin);
minmax[1] = poBand->GetMaximum(&gotMax);
if(!(gotMin && gotMax))
GDALComputeRasterMinMax((GDALRasterBandH)poBand, TRUE, minmax);

min = minmax[0];
max = minmax[1];

Thanks in advance,





From nakiya123 at y...  Thu Nov 29 21:24:59 2001
From: nakiya123 at y... (nakiya123@y...)
Date: Wed Nov 21 11:49:15 2007
Subject: GDALComputeRasterMinMax DEATH!!!
In-Reply-To: <9u6pou+tdu2@eGroups.com>
Message-ID: <9u6qlr+c7b9@eGroups.com>

Also....

I just tried gdal_translate on one of these messed up dems and it did
the same thing:

ERROR 3: Data record is short on DDF file.

FOR EVER!!! :(

I would be happy to provide the dataset.

Thanks



From warmerdam at p...  Thu Nov 29 22:12:50 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Re: GDALComputeRasterMinMax DEATH!!!
References: <9u6qlr+c7b9@eGroups.com>
Message-ID: <3C06F932.5060900@p...>

nakiya123@y... wrote:

> Also....
> 
> I just tried gdal_translate on one of these messed up dems and it did
> the same thing:
> 
> ERROR 3: Data record is short on DDF file.
> 
> FOR EVER!!! :(
>


I would appreciate a sample. While I can't make the file work if it is
corrupt, I would at least like to make the library code more bulletproof
so it recovers gracefully and reports an error.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




From nakiya123 at y...  Thu Nov 29 22:54:48 2001
From: nakiya123 at y... (f fds)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Re: GDALComputeRasterMinMax DEATH!!!
In-Reply-To: <3C06F932.5060900@p...>
Message-ID: <20011130035448.85017.qmail@w...>

Thanks for the quick response!!
Here's a troublesome dem. There's actually 2 in this
tarball, but the one in question is 8112****.DDF.

Thanks

--- Frank Warmerdam <warmerdam@p...> wrote:
> nakiya123@y... wrote:
> 
> > Also....
> > 
> > I just tried gdal_translate on one of these messed
> up dems and it did
> > the same thing:
> > 
> > ERROR 3: Data record is short on DDF file.
> > 
> > FOR EVER!!! :(
> >
> 
> 
> I would appreciate a sample. While I can't make the
> file work if it is
> corrupt, I would at least like to make the library
> code more bulletproof
> so it recovers gracefully and reports an error.
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up | Frank
> Warmerdam, warmerdam@p...
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush | Geospatial
> Programmer for Rent
> 
> 
> 


__________________________________________________
Do You Yahoo!?
Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
http://geocities.yahoo.com/ps/info1
-------------- next part --------------
A non-text attachment was scrubbed...
Name: canton.tar
Type: application/x-tar
Size: 35 bytes
Desc: canton.tar
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20011129/c2db8ce3/canton.tar
From paul at t...  Thu Nov 29 23:37:56 2001
From: paul at t... (Paul Selormey)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Re: GDALComputeRasterMinMax DEATH!!!
References: <20011130035448.85017.qmail@w...>
Message-ID: <001701c17958$cd96f570$700201c0@M...>

Hello,
Please stop sending such large attachment to the mailing list.
At least zipping it could have reduced the size.
There is a file section at the mailing list home page you can upload it.

Best regards,
Paul.

----- Original Message -----
From: "f fds" <nakiya123@y...>
To: <gdal-dev@yahoogroups.com>
Sent: Friday, November 30, 2001 12:54 PM
Subject: Re: [gdal-dev] Re: GDALComputeRasterMinMax DEATH!!!


> Thanks for the quick response!!
> Here's a troublesome dem. There's actually 2 in this
> tarball, but the one in question is 8112****.DDF.
>
> Thanks
>
> --- Frank Warmerdam <warmerdam@p...> wrote:
> > nakiya123@y... wrote:
> >
> > > Also....
> > >
> > > I just tried gdal_translate on one of these messed
> > up dems and it did
> > > the same thing:
> > >
> > > ERROR 3: Data record is short on DDF file.
> > >
> > > FOR EVER!!! :(
> > >
> >
> >
> > I would appreciate a sample. While I can't make the
> > file work if it is
> > corrupt, I would at least like to make the library
> > code more bulletproof
> > so it recovers gracefully and reports an error.
> >
> > Best regards,
> >
> > --
> >
> ---------------------------------------+----------------------------------
----
> > I set the clouds in motion - turn up | Frank
> > Warmerdam, warmerdam@p...
> > light and sound - activate the windows |
> > http://pobox.com/~warmerdam
> > and watch the world go round - Rush | Geospatial
> > Programmer for Rent
> >
> >
> >
>
>
> __________________________________________________
> Do You Yahoo!?
> Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
> http://geocities.yahoo.com/ps/info1
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>



From nakiya123 at y...  Thu Nov 29 23:46:03 2001
From: nakiya123 at y... (nakiya123@y...)
Date: Wed Nov 21 11:49:15 2007
Subject: GDALComputeRasterMinMax DEATH!!!
In-Reply-To: <001701c17958$cd96f570$700201c0@M...>
Message-ID: <9u72ub+qvvm@eGroups.com>

Thanks, sorry, thought it was zipped

--- In gdal-dev@y..., "Paul Selormey" <paul@t...> wrote:
> Hello,
> Please stop sending such large attachment to the mailing list.
> At least zipping it could have reduced the size.
> There is a file section at the mailing list home page you can 
upload it.
> 
> Best regards,
> Paul.
> 
> ----- Original Message -----
> From: "f fds" <nakiya123@y...>
> To: <gdal-dev@y...>
> Sent: Friday, November 30, 2001 12:54 PM
> Subject: Re: [gdal-dev] Re: GDALComputeRasterMinMax DEATH!!!
> 
> 
> > Thanks for the quick response!!
> > Here's a troublesome dem. There's actually 2 in this
> > tarball, but the one in question is 8112****.DDF.
> >
> > Thanks
> >
> > --- Frank Warmerdam <warmerdam@p...> wrote:
> > > nakiya123@y... wrote:
> > >
> > > > Also....
> > > >
> > > > I just tried gdal_translate on one of these messed
> > > up dems and it did
> > > > the same thing:
> > > >
> > > > ERROR 3: Data record is short on DDF file.
> > > >
> > > > FOR EVER!!! :(
> > > >
> > >
> > >
> > > I would appreciate a sample. While I can't make the
> > > file work if it is
> > > corrupt, I would at least like to make the library
> > > code more bulletproof
> > > so it recovers gracefully and reports an error.
> > >
> > > Best regards,
> > >
> > > --
> > >
> > ---------------------------------------+--------------------------
--------
> ----
> > > I set the clouds in motion - turn up | Frank
> > > Warmerdam, warmerdam@p...
> > > light and sound - activate the windows |
> > > http://pobox.com/~warmerdam
> > > and watch the world go round - Rush | Geospatial
> > > Programmer for Rent
> > >
> > >
> > >
> >
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Yahoo! GeoCities - quick and easy web site hosting, just 
$8.95/month.
> > http://geocities.yahoo.com/ps/info1
> >
> >
> >
> > Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/
> >
> >



From warmerdam at p...  Fri Nov 30 00:07:33 2001
From: warmerdam at p... (Frank Warmerdam)
Date: Wed Nov 21 11:49:15 2007
Subject: [gdal-dev] Re: GDALComputeRasterMinMax DEATH!!!
References: <20011130035448.85017.qmail@w...>
Message-ID: <3C071415.60602@p...>

f fds wrote:

> Thanks for the quick response!!
> Here's a troublesome dem. There's actually 2 in this
> tarball, but the one in question is 8112****.DDF.



First, I would concur with Paul that the dataset shouldn't have been sent to
the list. Direct email would be more appropriate.

Second, I have looked into the problem and:

o I find that the 8112CEL0.DDF has the 236 data record truncated in the
middle, and about 200 records after that missing. The data file appears
to have been truncated for some reason.

o I have fixed gdal/frmts/sdts/sdtsrasterreader.cpp in CVS to recover from
this error instead of going into infinite recursion.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@p...
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent




